{"items":[{"tags":["java","spring","transactions"],"comments":[{"owner":{"account_id":3116526,"reputation":472,"user_id":2637167,"accept_rate":25,"display_name":"Eaton Emmerich"},"score":0,"creation_date":1688563704,"post_id":74350974,"comment_id":135090104,"body_markdown":"The only way I am aware this can be done is to not use the annotation and rather use the Transaction Manager to retrieve a existing/create a new transaction (the problem with the private function not having a transaction would not have been a problem either)","body":"The only way I am aware this can be done is to not use the annotation and rather use the Transaction Manager to retrieve a existing/create a new transaction (the problem with the private function not having a transaction would not have been a problem either)"},{"owner":{"account_id":476019,"reputation":14699,"user_id":886697,"accept_rate":92,"display_name":"Stanislav Bashkyrtsev"},"score":0,"creation_date":1688632343,"post_id":74350974,"comment_id":135100592,"body_markdown":"That would be too time consuming (both in terms of implementing, and in terms of running the tests). You need just one test to check that @Transactional works in general, and for the rest I&#39;d look into static code analysis. Also, on your Repository level put `@Transactional` with propagation=MANDATORY. So that your code fails if your services forgot to start a tx.","body":"That would be too time consuming (both in terms of implementing, and in terms of running the tests). You need just one test to check that @Transactional works in general, and for the rest I&#39;d look into static code analysis. Also, on your Repository level put <code>@Transactional</code> with propagation=MANDATORY. So that your code fails if your services forgot to start a tx."},{"owner":{"account_id":3116526,"reputation":472,"user_id":2637167,"accept_rate":25,"display_name":"Eaton Emmerich"},"score":0,"creation_date":1688648427,"post_id":74350974,"comment_id":135104196,"body_markdown":"@StanislavBashkyrtsev the Repository annotation won&#39;t actually fail if it&#39;s in a subfunction of a bean aswell tho...\nIt&#39;s also not really sensical as atomicity isn&#39;t defined by repositories and using a repository without transactions should be fine (in most cases): https://vladmihalcea.com/spring-transaction-best-practices/","body":"@StanislavBashkyrtsev the Repository annotation won&#39;t actually fail if it&#39;s in a subfunction of a bean aswell tho... It&#39;s also not really sensical as atomicity isn&#39;t defined by repositories and using a repository without transactions should be fine (in most cases): <a href=\"https://vladmihalcea.com/spring-transaction-best-practices/\" rel=\"nofollow noreferrer\">vladmihalcea.com/spring-transaction-best-practices</a>"},{"owner":{"account_id":476019,"reputation":14699,"user_id":886697,"accept_rate":92,"display_name":"Stanislav Bashkyrtsev"},"score":0,"creation_date":1688651111,"post_id":74350974,"comment_id":135104852,"body_markdown":"@EatonEmmerich, I&#39;m not sure you understood me correctly. You don&#39;t put `propagation=MANDATORY` to start a tx. You put it to detect if the method was invoked outside of a tx. And no - Repository should not be invoked outside of a tx as this would lead to the autocommit.","body":"@EatonEmmerich, I&#39;m not sure you understood me correctly. You don&#39;t put <code>propagation=MANDATORY</code> to start a tx. You put it to detect if the method was invoked outside of a tx. And no - Repository should not be invoked outside of a tx as this would lead to the autocommit."},{"owner":{"account_id":3116526,"reputation":472,"user_id":2637167,"accept_rate":25,"display_name":"Eaton Emmerich"},"score":0,"creation_date":1688653978,"post_id":74350974,"comment_id":135105565,"body_markdown":"That&#39;s my point though, sometimes autocommit is the required behaviour. and a annotation on a repo prevents that, normally a repository has more than one usecase","body":"That&#39;s my point though, sometimes autocommit is the required behaviour. and a annotation on a repo prevents that, normally a repository has more than one usecase"}],"answers":[{"tags":[],"owner":{"account_id":8900088,"reputation":4307,"user_id":6643803,"accept_rate":81,"display_name":"akuma8"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1667845154,"creation_date":1667845154,"answer_id":74351134,"question_id":74350974,"body_markdown":"You do not need a specific test, just read the doc: \r\n\r\n&gt; When you use transactional proxies with Spring’s standard configuration, you should apply the @Transactional annotation only to methods with public visibility. If you do annotate protected, private, or package-visible methods with the @Transactional annotation, no error is raised, but the annotated method does not exhibit the configured transactional settings. If you need to annotate non-public methods, consider the tip in the following paragraph for class-based proxies or consider using AspectJ compile-time or load-time weaving (described later).\r\n\r\nSee the [doc][1] for more details\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/5.3.x/reference/html/data-access.html#transaction-declarative-annotations","title":"How to test if `@Transactional` annotation works as expected","body":"<p>You do not need a specific test, just read the doc:</p>\n<blockquote>\n<p>When you use transactional proxies with Spring’s standard configuration, you should apply the @Transactional annotation only to methods with public visibility. If you do annotate protected, private, or package-visible methods with the @Transactional annotation, no error is raised, but the annotated method does not exhibit the configured transactional settings. If you need to annotate non-public methods, consider the tip in the following paragraph for class-based proxies or consider using AspectJ compile-time or load-time weaving (described later).</p>\n</blockquote>\n<p>See the <a href=\"https://docs.spring.io/spring-framework/docs/5.3.x/reference/html/data-access.html#transaction-declarative-annotations\" rel=\"nofollow noreferrer\">doc</a> for more details</p>\n"},{"tags":[],"owner":{"account_id":3253983,"reputation":1481,"user_id":2743585,"display_name":"wi2ard"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688631715,"creation_date":1688631715,"answer_id":76626860,"question_id":74350974,"body_markdown":"You need an integration tests for this feature because you want to check how your implementation integrates with Spring&#39;s transaction management. So you&#39;ll need a Spring application context for the test, with your Spring components needed for this feature - you probably will try to reuse as much as possible your production app context (maybe changing the persistence configuration to use an in memory db). You should replace one or more of your components with a mock that would throw an exception that would trigger the transaction rollback - you can set this as a primary autowiring candidate for your test or use some other way to set this object so it&#39;s used by the code you&#39;re testing.\r\nThen write tests to check all is working in normal conditions and also in case of rollbacks. Probably there are multiple rollback scenarios you&#39;ll test having multiple places where exceptions can occur and also maybe special behavior for some of those exceptions.\r\n\r\nAn additional step would be to include in your CI/CD pipeline tools that automatically analyze code for common problems. I know Sonar detects this particular problem and many others.","title":"How to test if `@Transactional` annotation works as expected","body":"<p>You need an integration tests for this feature because you want to check how your implementation integrates with Spring's transaction management. So you'll need a Spring application context for the test, with your Spring components needed for this feature - you probably will try to reuse as much as possible your production app context (maybe changing the persistence configuration to use an in memory db). You should replace one or more of your components with a mock that would throw an exception that would trigger the transaction rollback - you can set this as a primary autowiring candidate for your test or use some other way to set this object so it's used by the code you're testing.\nThen write tests to check all is working in normal conditions and also in case of rollbacks. Probably there are multiple rollback scenarios you'll test having multiple places where exceptions can occur and also maybe special behavior for some of those exceptions.</p>\n<p>An additional step would be to include in your CI/CD pipeline tools that automatically analyze code for common problems. I know Sonar detects this particular problem and many others.</p>\n"},{"tags":[],"owner":{"account_id":17228781,"reputation":3548,"user_id":12473843,"display_name":"Sergey Tsypanov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1688665817,"creation_date":1688646575,"answer_id":76628852,"question_id":74350974,"body_markdown":"You need a custom implementation of `TransactionInterceptor` intercepting all invocations of `@Transactional`-annotated methods and incrementing invocation count:\r\n```java\r\n@Configuration\r\npublic class AppConfiguration {\r\n\r\n  public static class MyTransactionInterceptor extends TransactionInterceptor {\r\n    //implement counter with e.g. LongAdder\r\n  }\r\n    \r\n  @Bean\r\n  public TransactionInterceptor transactionInterceptor(TransactionAttributeSource transactionAttributeSource) {\r\n    TransactionInterceptor interceptor = new MyTransactionInterceptor();\r\n    interceptor.setTransactionAttributeSource(transactionAttributeSource);\r\n    return interceptor;\r\n  }  \r\n}\r\n```\r\n\r\nAs soon as your method is package-private it&#39;s available from the test class residing in the same package under `/test` directory. In other words if your code looks like\r\n```java\r\npackage com.my.app;\r\n\r\n@Service\r\npublic class SomeService {\r\n\r\n  @Transactional\r\n  void foo() {\r\n   //...\r\n  }\r\n}\r\n```\r\nand the path to this class is `/project-root/src/main/java/com/my/app/SomeService.java`\r\nyou create a test class located in `/project-root/src/test/java/com/my/app/SomeServiceTest.java`\r\n(here we assume that you use standard Maven-based project structure):\r\n```java\r\npackage com.my.app;\r\n\r\n@SpringBootTest\r\nclass SomeServiceTest {\r\n  @Autowired\r\n  private SomeService service;\r\n  @Autowired\r\n  private ApplicationContext context;\r\n\r\n  @Test\r\n  void foo() {\r\n    //make sure there&#39;s no ongoing transaction  \r\n    assertFalse(TransactionSynchronizationManager.isActualTransactionActive());\r\n    long beforeCount = countTransactions();\r\n    service.foo(); //no compilation error as we are in the same package\r\n    long afterCount = countTransactions();\r\n    //this is going to fail as afterCount is the same as beforeCount\r\n    assertEquals(afterCount, beforeCount + 1);\r\n  }\r\n\r\n  private long countTransactions() {\r\n    return context.getBean(MyTransactionInterceptor.class).getTransactionCount();\r\n  }\r\n}\r\n```\r\n","title":"How to test if `@Transactional` annotation works as expected","body":"<p>You need a custom implementation of <code>TransactionInterceptor</code> intercepting all invocations of <code>@Transactional</code>-annotated methods and incrementing invocation count:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\npublic class AppConfiguration {\n\n  public static class MyTransactionInterceptor extends TransactionInterceptor {\n    //implement counter with e.g. LongAdder\n  }\n    \n  @Bean\n  public TransactionInterceptor transactionInterceptor(TransactionAttributeSource transactionAttributeSource) {\n    TransactionInterceptor interceptor = new MyTransactionInterceptor();\n    interceptor.setTransactionAttributeSource(transactionAttributeSource);\n    return interceptor;\n  }  \n}\n</code></pre>\n<p>As soon as your method is package-private it's available from the test class residing in the same package under <code>/test</code> directory. In other words if your code looks like</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.my.app;\n\n@Service\npublic class SomeService {\n\n  @Transactional\n  void foo() {\n   //...\n  }\n}\n</code></pre>\n<p>and the path to this class is <code>/project-root/src/main/java/com/my/app/SomeService.java</code>\nyou create a test class located in <code>/project-root/src/test/java/com/my/app/SomeServiceTest.java</code>\n(here we assume that you use standard Maven-based project structure):</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.my.app;\n\n@SpringBootTest\nclass SomeServiceTest {\n  @Autowired\n  private SomeService service;\n  @Autowired\n  private ApplicationContext context;\n\n  @Test\n  void foo() {\n    //make sure there's no ongoing transaction  \n    assertFalse(TransactionSynchronizationManager.isActualTransactionActive());\n    long beforeCount = countTransactions();\n    service.foo(); //no compilation error as we are in the same package\n    long afterCount = countTransactions();\n    //this is going to fail as afterCount is the same as beforeCount\n    assertEquals(afterCount, beforeCount + 1);\n  }\n\n  private long countTransactions() {\n    return context.getBean(MyTransactionInterceptor.class).getTransactionCount();\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":14856402,"reputation":697,"user_id":10728774,"display_name":"Reddi"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":352,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":3,"score":1,"last_activity_date":1688665817,"creation_date":1667844157,"question_id":74350974,"body_markdown":"I do have a case where the `@Transactional` annotation was used on a method with `package-private` scope. It turned out that the transaction does not work in this method. \r\n\r\nIs there a way to write a RED test to prove this? How can we test if a transaction was opened for a method, or if a rollback was made when an exception occurred. I thought about an INT test, but not sure how to deal with that.","title":"How to test if `@Transactional` annotation works as expected","body":"<p>I do have a case where the <code>@Transactional</code> annotation was used on a method with <code>package-private</code> scope. It turned out that the transaction does not work in this method.</p>\n<p>Is there a way to write a RED test to prove this? How can we test if a transaction was opened for a method, or if a rollback was made when an exception occurred. I thought about an INT test, but not sure how to deal with that.</p>\n"},{"tags":["java","jboss7.x","fedora"],"comments":[{"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"score":1,"creation_date":1688671874,"post_id":76631340,"comment_id":135108945,"body_markdown":"Is ServiceA using 127.0.0.1 or &#39;localhost&#39; for ServiceB? In docker&#39;s default network mode (bridge) programs in the host can access ports exposed by or mapped to container(s) using that address but programs in a container can access _only_ ports in the same container not the host. See https://stackoverflow.com/questions/24319662/from-inside-of-a-docker-container-how-do-i-connect-to-the-localhost-of-the-mach https://stackoverflow.com/questions/31324981/ https://stackoverflow.com/questions/70006997/ https://stackoverflow.com/questions/46973456/ and many more.","body":"Is ServiceA using 127.0.0.1 or &#39;localhost&#39; for ServiceB? In docker&#39;s default network mode (bridge) programs in the host can access ports exposed by or mapped to container(s) using that address but programs in a container can access <i>only</i> ports in the same container not the host. See <a href=\"https://stackoverflow.com/questions/24319662/from-inside-of-a-docker-container-how-do-i-connect-to-the-localhost-of-the-mach\" title=\"from inside of a docker container how do i connect to the localhost of the mach\">stackoverflow.com/questions/24319662/&hellip;</a> <a href=\"https://stackoverflow.com/questions/31324981/\">stackoverflow.com/questions/31324981</a> <a href=\"https://stackoverflow.com/questions/70006997/\">stackoverflow.com/questions/70006997</a> <a href=\"https://stackoverflow.com/questions/46973456/\">stackoverflow.com/questions/46973456</a> and many more."},{"owner":{"account_id":236079,"reputation":327,"user_id":503333,"display_name":"voccoeisuoi"},"score":0,"creation_date":1688692826,"post_id":76631340,"comment_id":135111452,"body_markdown":"Yes, that was it: I&#39;ve configured the host.docker.internal and now it works, thanks.\nPlease turn your comment into an answer and I&#39;ll be happy to accept it.","body":"Yes, that was it: I&#39;ve configured the host.docker.internal and now it works, thanks. Please turn your comment into an answer and I&#39;ll be happy to accept it."}],"owner":{"account_id":236079,"reputation":327,"user_id":503333,"display_name":"voccoeisuoi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688665424,"creation_date":1688665424,"question_id":76631340,"body_markdown":"I&#39;ve got a Fedora 38 running:\r\n- ServiceA hosted in a dockerized JBoss EAP 7.3, listening on 0.0.0.0:8080\r\n- ServiceB on a plain JBoss EAP 7.3, listening on 0.0.0.0:8085\r\n\r\nThe two services have to communicate with each other, but while ServiceB can successfully call ServiceA, when ServiceA calls ServiceB it always receives a `java.net.ConnectException: Connection refused (Connection refused)`.\r\n\r\nI can successfully call ServiceB through Postman.\r\n\r\nI&#39;ve enabled the broader possible `public` interface in the standalone.xml of ServiceB, this is the relevant:\r\n```\r\n    &lt;interfaces&gt;\r\n        &lt;interface name=&quot;management&quot;&gt;\r\n            &lt;inet-address value=&quot;${jboss.bind.address.management:127.0.0.1}&quot;/&gt;\r\n        &lt;/interface&gt;\r\n        &lt;interface name=&quot;public&quot;&gt;\r\n                &lt;inet-address value=&quot;${jboss.bind.address:0.0.0.0}&quot;/&gt;\r\n        &lt;/interface&gt;\r\n    &lt;/interfaces&gt;\r\n    &lt;socket-binding-group name=&quot;standard-sockets&quot; default-interface=&quot;public&quot; port-offset=&quot;${jboss.socket.binding.port-offset:0}&quot;&gt;\r\n        &lt;socket-binding name=&quot;ajp&quot; port=&quot;${jboss.ajp.port:8009}&quot;/&gt;\r\n        &lt;socket-binding name=&quot;http&quot; port=&quot;${jboss.http.port:8085}&quot;/&gt;\r\n        &lt;socket-binding name=&quot;https&quot; port=&quot;${jboss.https.port:8443}&quot;/&gt;\r\n        &lt;socket-binding name=&quot;management-http&quot; interface=&quot;management&quot; port=&quot;${jboss.management.http.port:9992}&quot;/&gt;\r\n        &lt;socket-binding name=&quot;management-https&quot; interface=&quot;management&quot; port=&quot;${jboss.management.https.port:9993}&quot;/&gt;\r\n        &lt;socket-binding name=&quot;txn-recovery-environment&quot; port=&quot;4712&quot;/&gt;\r\n        &lt;socket-binding name=&quot;txn-status-manager&quot; port=&quot;4713&quot;/&gt;\r\n        &lt;outbound-socket-binding name=&quot;mail-smtp&quot;&gt;\r\n            &lt;remote-destination host=&quot;localhost&quot; port=&quot;25&quot;/&gt;\r\n        &lt;/outbound-socket-binding&gt;\r\n    &lt;/socket-binding-group&gt;\r\n```\r\n\r\nStill ServiceA is failing to call ServiceB.\r\n\r\nAs a test also stopped `firewalld`, but to no avail.\r\n\r\nI&#39;m clearly missing something, but I have run out of ideas.\r\nSuggestions?","title":"Connection refused between JBoss EAP 7.3 services in the same machine","body":"<p>I've got a Fedora 38 running:</p>\n<ul>\n<li>ServiceA hosted in a dockerized JBoss EAP 7.3, listening on 0.0.0.0:8080</li>\n<li>ServiceB on a plain JBoss EAP 7.3, listening on 0.0.0.0:8085</li>\n</ul>\n<p>The two services have to communicate with each other, but while ServiceB can successfully call ServiceA, when ServiceA calls ServiceB it always receives a <code>java.net.ConnectException: Connection refused (Connection refused)</code>.</p>\n<p>I can successfully call ServiceB through Postman.</p>\n<p>I've enabled the broader possible <code>public</code> interface in the standalone.xml of ServiceB, this is the relevant:</p>\n<pre><code>    &lt;interfaces&gt;\n        &lt;interface name=&quot;management&quot;&gt;\n            &lt;inet-address value=&quot;${jboss.bind.address.management:127.0.0.1}&quot;/&gt;\n        &lt;/interface&gt;\n        &lt;interface name=&quot;public&quot;&gt;\n                &lt;inet-address value=&quot;${jboss.bind.address:0.0.0.0}&quot;/&gt;\n        &lt;/interface&gt;\n    &lt;/interfaces&gt;\n    &lt;socket-binding-group name=&quot;standard-sockets&quot; default-interface=&quot;public&quot; port-offset=&quot;${jboss.socket.binding.port-offset:0}&quot;&gt;\n        &lt;socket-binding name=&quot;ajp&quot; port=&quot;${jboss.ajp.port:8009}&quot;/&gt;\n        &lt;socket-binding name=&quot;http&quot; port=&quot;${jboss.http.port:8085}&quot;/&gt;\n        &lt;socket-binding name=&quot;https&quot; port=&quot;${jboss.https.port:8443}&quot;/&gt;\n        &lt;socket-binding name=&quot;management-http&quot; interface=&quot;management&quot; port=&quot;${jboss.management.http.port:9992}&quot;/&gt;\n        &lt;socket-binding name=&quot;management-https&quot; interface=&quot;management&quot; port=&quot;${jboss.management.https.port:9993}&quot;/&gt;\n        &lt;socket-binding name=&quot;txn-recovery-environment&quot; port=&quot;4712&quot;/&gt;\n        &lt;socket-binding name=&quot;txn-status-manager&quot; port=&quot;4713&quot;/&gt;\n        &lt;outbound-socket-binding name=&quot;mail-smtp&quot;&gt;\n            &lt;remote-destination host=&quot;localhost&quot; port=&quot;25&quot;/&gt;\n        &lt;/outbound-socket-binding&gt;\n    &lt;/socket-binding-group&gt;\n</code></pre>\n<p>Still ServiceA is failing to call ServiceB.</p>\n<p>As a test also stopped <code>firewalld</code>, but to no avail.</p>\n<p>I'm clearly missing something, but I have run out of ideas.\nSuggestions?</p>\n"},{"tags":["java","visual-studio-code"],"comments":[{"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"score":0,"creation_date":1688981419,"post_id":76631184,"comment_id":135143118,"body_markdown":"Possibly related:  https://github.com/redhat-developer/vscode-java/issues/3191","body":"Possibly related:  <a href=\"https://github.com/redhat-developer/vscode-java/issues/3191\" rel=\"nofollow noreferrer\">github.com/redhat-developer/vscode-java/issues/3191</a>"}],"owner":{"account_id":19103895,"reputation":19,"user_id":13951505,"display_name":"Brahvim"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":100,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1689239624,"answer_count":0,"score":0,"last_activity_date":1688665293,"creation_date":1688664033,"question_id":76631184,"body_markdown":"I have already tried doing what [this post](https://stackoverflow.com/questions/63468403/vscode-not-suggesting-and-autocompleting-java-code) says (the solution completely sounded unrelated anyway), asked Bing for a lot of help on the issue, changed a lot of things in `settings.json`, re-installed all Java extensions *after* deleting them from `~/.vscode/extensions`, but I still can&#39;t figure out what went wrong.\r\n\r\nSettings I tried adding:\r\n```json\r\n&quot;java.project.sourcePaths&quot;: [\r\n        &quot;src&quot;\r\n    ],\r\n&quot;java.completion.enabled&quot;: true,\r\n&quot;java.configuration.runtimes&quot;: [ // This one comes from the post I mentioned.\r\n        {\r\n            &quot;name&quot;: &quot;JavaSE-17&quot;,\r\n            &quot;path&quot;: &quot;/home/brahvim/java/jdk-17.0.7+7/&quot;,\r\n            &quot;default&quot;: true\r\n        }\r\n    ],\r\n&quot;java.jdt.ls.java.home&quot;: &quot;/home/brahvim/java/jdk-17.0.7+7&quot;,\r\n// ^^^ Still have this from the older days for some reason - didn&#39;t *add* it in explicitly.\r\n```\r\n\r\nThe issue? VSCode does not automatically type out the body of a method that&#39;s overriden, when given method signatures. *For example,*\r\n\r\n```java\r\nclass A {\r\n  protected void draw() {\r\n  }\r\n}\r\n\r\n// ...In some other file:\r\n\r\nclass B extends A {\r\n  draw // &lt;-- Upon pressing `Tab`, VSCode should automatically fill:\r\n\r\n  /*\r\n   * @Override\r\n   * protected void draw() {\r\n   * }\r\n   */\r\n\r\n  // ...But I see nothing of value in the autocompletions list.\r\n  // The only suggestion says &quot;double&quot; - must&#39;ve gotten fuzzy matched with &quot;draw&quot;.\r\n\r\n}\r\n```\r\n\r\nPS The class I extended **is** from the source code in my workspace.\r\n\r\nI&#39;ve also started a [GitHub issue](https://github.com/redhat-developer/vscode-java/issues/3186).\r\n\r\n*Thank you very much for any comments or help you may offer!*","title":"VSCode Java Automcomplete Issues","body":"<p>I have already tried doing what <a href=\"https://stackoverflow.com/questions/63468403/vscode-not-suggesting-and-autocompleting-java-code\">this post</a> says (the solution completely sounded unrelated anyway), asked Bing for a lot of help on the issue, changed a lot of things in <code>settings.json</code>, re-installed all Java extensions <em>after</em> deleting them from <code>~/.vscode/extensions</code>, but I still can't figure out what went wrong.</p>\n<p>Settings I tried adding:</p>\n<pre class=\"lang-json prettyprint-override\"><code>&quot;java.project.sourcePaths&quot;: [\n        &quot;src&quot;\n    ],\n&quot;java.completion.enabled&quot;: true,\n&quot;java.configuration.runtimes&quot;: [ // This one comes from the post I mentioned.\n        {\n            &quot;name&quot;: &quot;JavaSE-17&quot;,\n            &quot;path&quot;: &quot;/home/brahvim/java/jdk-17.0.7+7/&quot;,\n            &quot;default&quot;: true\n        }\n    ],\n&quot;java.jdt.ls.java.home&quot;: &quot;/home/brahvim/java/jdk-17.0.7+7&quot;,\n// ^^^ Still have this from the older days for some reason - didn't *add* it in explicitly.\n</code></pre>\n<p>The issue? VSCode does not automatically type out the body of a method that's overriden, when given method signatures. <em>For example,</em></p>\n<pre class=\"lang-java prettyprint-override\"><code>class A {\n  protected void draw() {\n  }\n}\n\n// ...In some other file:\n\nclass B extends A {\n  draw // &lt;-- Upon pressing `Tab`, VSCode should automatically fill:\n\n  /*\n   * @Override\n   * protected void draw() {\n   * }\n   */\n\n  // ...But I see nothing of value in the autocompletions list.\n  // The only suggestion says &quot;double&quot; - must've gotten fuzzy matched with &quot;draw&quot;.\n\n}\n</code></pre>\n<p>PS The class I extended <strong>is</strong> from the source code in my workspace.</p>\n<p>I've also started a <a href=\"https://github.com/redhat-developer/vscode-java/issues/3186\" rel=\"nofollow noreferrer\">GitHub issue</a>.</p>\n<p><em>Thank you very much for any comments or help you may offer!</em></p>\n"},{"tags":["java","spring","spring-boot","spring-webflux","spring-data-r2dbc"],"answers":[{"tags":[],"owner":{"account_id":4191531,"reputation":261,"user_id":3434042,"display_name":"BeLEEver"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688665175,"creation_date":1688665175,"answer_id":76631312,"question_id":76502584,"body_markdown":"I&#39;ve done this in another way by using a json field and then converting to whatever object I needed in a mapping step.\r\n\r\nFor example, I might have an entity like this:\r\n\r\n    import io.r2dbc.postgresql.codec.Json;\r\n\r\n    @Table(&quot;table_name&quot;)\r\n    @Data\r\n    @Builder\r\n    public class MyObject {\r\n\t    @Id\r\n\t    private Integer id;\r\n\t    private Json data;\r\n\t    private LocalDateTime createdAt;\r\n\t    private LocalDateTime updatedAt;\r\n    }\r\nWith a DTO class like\r\n\r\n    @Data\r\n    @Builder\r\n    public class MyObjectDTO {\r\n\t    private Integer id;\r\n\t    private YourNestedObjectType data;\r\n\t    private LocalDateTime createdAt;\r\n\t    private LocalDateTime updatedAt;\r\n    }\r\n    \r\n\r\nAnd then a mapping class that does something like this:\r\n\r\n\r\n    public MyObjectDTO to(MyObject myObj) {\r\n\t\ttry {\r\n            ObjectMapper objectMapper = \r\n\t\t\tYourNestedObjectType somethingNested = objectMapper.readValue(\r\n                myObj.getData().asString(), \r\n                YourNestedObjectType.class);\r\n    \r\n\t\t\treturn MyObjectDTO.builder()\r\n\t\t\t\t\t.id(myObj.getId())\r\n\t\t\t\t\t.data(somethingNested)\r\n\t\t\t\t\t.createdAt(myObj.getCreatedAt())\r\n\t\t\t\t\t.updatedAt(myObj.getUpdatedAt())\r\n\t\t\t\t\t.build();\r\n\t\t} catch (Exception e) {\r\n\t\t\tthrow new RuntimeException(e);\r\n\t\t}\r\n\t}\r\n\r\nwith the understanding that YourNestedObjectType can be a wrapper class that holds other classes like\r\n\r\n    public class YourNestedObjectType {\r\n       private String field1;\r\n\t   private List&lt;OtherObject&gt; otherObjects;\r\n    }","title":"Generic way to handle nested objects in Spring Data R2DBC","body":"<p>I've done this in another way by using a json field and then converting to whatever object I needed in a mapping step.</p>\n<p>For example, I might have an entity like this:</p>\n<pre><code>import io.r2dbc.postgresql.codec.Json;\n\n@Table(&quot;table_name&quot;)\n@Data\n@Builder\npublic class MyObject {\n    @Id\n    private Integer id;\n    private Json data;\n    private LocalDateTime createdAt;\n    private LocalDateTime updatedAt;\n}\n</code></pre>\n<p>With a DTO class like</p>\n<pre><code>@Data\n@Builder\npublic class MyObjectDTO {\n    private Integer id;\n    private YourNestedObjectType data;\n    private LocalDateTime createdAt;\n    private LocalDateTime updatedAt;\n}\n</code></pre>\n<p>And then a mapping class that does something like this:</p>\n<pre><code>public MyObjectDTO to(MyObject myObj) {\n    try {\n        ObjectMapper objectMapper = \n        YourNestedObjectType somethingNested = objectMapper.readValue(\n            myObj.getData().asString(), \n            YourNestedObjectType.class);\n\n        return MyObjectDTO.builder()\n                .id(myObj.getId())\n                .data(somethingNested)\n                .createdAt(myObj.getCreatedAt())\n                .updatedAt(myObj.getUpdatedAt())\n                .build();\n    } catch (Exception e) {\n        throw new RuntimeException(e);\n    }\n}\n</code></pre>\n<p>with the understanding that YourNestedObjectType can be a wrapper class that holds other classes like</p>\n<pre><code>public class YourNestedObjectType {\n   private String field1;\n   private List&lt;OtherObject&gt; otherObjects;\n}\n</code></pre>\n"}],"owner":{"account_id":5814053,"reputation":2527,"user_id":7759514,"accept_rate":61,"display_name":"Tobiq"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":517,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1688665175,"creation_date":1687123639,"question_id":76502584,"body_markdown":"In my Spring Boot Webflux project, I&#39;m using Spring Data R2DBC for reactive data access. The project involves fetching data from a relational database, where some tables have columns containing JSON data that represent nested objects. \r\n\r\nMy current approach is to fetch the data and then manually parse the JSON into my POJO using custom read converters. However, this process becomes cumbersome when I have multiple nested objects and differing structures.\r\n\r\nHere&#39;s a simplified example of what I&#39;ve been doing:\r\n\r\n```java\r\n@UtilityClass\r\npublic class ConverterHelper {\r\n    // ObjectMapper initialization\r\n\r\n    public static &lt;T&gt; T readJson(Row row, String field, Class&lt;T&gt; clazz) {\r\n        // implementation\r\n    }\r\n}\r\n\r\n@ReadingConverter\r\npublic class CustomReadingConverter implements Converter&lt;String, Object&gt; {\r\n    // implementation\r\n}\r\n\r\n@Configuration\r\npublic class R2dbcConfiguration extends AbstractR2dbcConfiguration {\r\n    // implementation\r\n}\r\n```\r\n\r\nThe question I have is: Is there a more generic way to handle this, similar to how Spring Data JPA automatically maps nested objects? I&#39;d prefer not to write custom converters every time I encounter this situation.\r\n\r\nI understand that JPA or Hibernate might handle these scenarios more gracefully, but those aren&#39;t suitable for my project as I need the non-blocking I/O provided by R2DBC. Is there a solution to this in the realm of Spring Data R2DBC, or am I confined to using custom converters for these complex/nested objects?\r\n\r\nAny suggestions or insights would be greatly appreciated.","title":"Generic way to handle nested objects in Spring Data R2DBC","body":"<p>In my Spring Boot Webflux project, I'm using Spring Data R2DBC for reactive data access. The project involves fetching data from a relational database, where some tables have columns containing JSON data that represent nested objects.</p>\n<p>My current approach is to fetch the data and then manually parse the JSON into my POJO using custom read converters. However, this process becomes cumbersome when I have multiple nested objects and differing structures.</p>\n<p>Here's a simplified example of what I've been doing:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@UtilityClass\npublic class ConverterHelper {\n    // ObjectMapper initialization\n\n    public static &lt;T&gt; T readJson(Row row, String field, Class&lt;T&gt; clazz) {\n        // implementation\n    }\n}\n\n@ReadingConverter\npublic class CustomReadingConverter implements Converter&lt;String, Object&gt; {\n    // implementation\n}\n\n@Configuration\npublic class R2dbcConfiguration extends AbstractR2dbcConfiguration {\n    // implementation\n}\n</code></pre>\n<p>The question I have is: Is there a more generic way to handle this, similar to how Spring Data JPA automatically maps nested objects? I'd prefer not to write custom converters every time I encounter this situation.</p>\n<p>I understand that JPA or Hibernate might handle these scenarios more gracefully, but those aren't suitable for my project as I need the non-blocking I/O provided by R2DBC. Is there a solution to this in the realm of Spring Data R2DBC, or am I confined to using custom converters for these complex/nested objects?</p>\n<p>Any suggestions or insights would be greatly appreciated.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1415830,"reputation":7284,"user_id":1341526,"accept_rate":96,"display_name":"jacktrades"},"score":0,"creation_date":1427998546,"post_id":5419039,"comment_id":47011248,"body_markdown":"`java.library.path` refers to *directory* not a *file*","body":"<code>java.library.path</code> refers to <i>directory</i> not a <i>file</i>"},{"owner":{"account_id":11695031,"reputation":3614,"user_id":8561957,"display_name":"fountainhead"},"score":1,"creation_date":1572955973,"post_id":5419039,"comment_id":103715854,"body_markdown":"As of Java 13, the [API doc](https://docs.oracle.com/en/java/javase/13/docs/api/java.base/java/lang/System.html#getProperties()) says --- &quot;Property values may be cached during initialization or on first use. Setting a standard property after initialization using getProperties(), setProperties(Properties), setProperty(String, String), or clearProperty(String) may not have the desired effect&quot;.","body":"As of Java 13, the <a href=\"https://docs.oracle.com/en/java/javase/13/docs/api/java.base/java/lang/System.html#getProperties()\" rel=\"nofollow noreferrer\">API doc</a> says --- &quot;Property values may be cached during initialization or on first use. Setting a standard property after initialization using getProperties(), setProperties(Properties), setProperty(String, String), or clearProperty(String) may not have the desired effect&quot;."}],"answers":[{"tags":[],"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"down_vote_count":0,"up_vote_count":54,"is_accepted":true,"score":54,"last_activity_date":1300969868,"creation_date":1300969868,"answer_id":5419120,"question_id":5419039,"body_markdown":"Generally speaking, both approaches have the same net effect in that the system property `java.library.path` is set to the value `./lib`.\r\n\r\n*However*, some system properties are only evaluated at specific points in time, such as the startup of the JVM. *If* `java.library.path` is among those properties (and your experiment seems to indicate that), then using the second approach will have no noticeable effect except for returning the new value on future invocations of `getProperty()`.\r\n\r\nAs a rule of thumb, using the `-D` command line property works on all system properties, while `System.setProperty()` only works on properties that are not only checked during startup.","title":"Is -Djava.library.path=... equivalent to System.setProperty(&quot;java.library.path&quot;, ...)","body":"<p>Generally speaking, both approaches have the same net effect in that the system property <code>java.library.path</code> is set to the value <code>./lib</code>.</p>\n\n<p><em>However</em>, some system properties are only evaluated at specific points in time, such as the startup of the JVM. <em>If</em> <code>java.library.path</code> is among those properties (and your experiment seems to indicate that), then using the second approach will have no noticeable effect except for returning the new value on future invocations of <code>getProperty()</code>.</p>\n\n<p>As a rule of thumb, using the <code>-D</code> command line property works on all system properties, while <code>System.setProperty()</code> only works on properties that are not only checked during startup.</p>\n"},{"tags":[],"owner":{"account_id":140327,"reputation":43675,"user_id":346561,"accept_rate":94,"display_name":"Jesse Webb"},"down_vote_count":0,"up_vote_count":59,"is_accepted":false,"score":59,"last_activity_date":1308557805,"creation_date":1308557805,"answer_id":6408467,"question_id":5419039,"body_markdown":"Although it is not well documented, the `java.library.path` system property is a &quot;read-only&quot; property as far as the `System.loadLibrary()` method is concerned. This is a [reported bug][1] but it was closed by Sun as opposed to getting fixed. The problem is that the JVM&#39;s ClassLoader reads this property once at startup and then caches it, not allowing us to change it programatically afterward. The line `System.setProperty(&quot;java.library.path&quot;, anyVal);` will have no effect except for `System.getProperty()` method calls.\r\n\r\nLuckily, someone [posted a workaround on the Sun forums][2]. Unfortunately, that link no longer works but I did find [the code on another source][3]. Here is the code you can use to work around not being able to set the `java.library.path` system property:\r\n\r\n    public static void addDir(String s) throws IOException {\r\n        try {\r\n            // This enables the java.library.path to be modified at runtime\r\n            // From a Sun engineer at http://forums.sun.com/thread.jspa?threadID=707176\r\n            //\r\n            Field field = ClassLoader.class.getDeclaredField(&quot;usr_paths&quot;);\r\n            field.setAccessible(true);\r\n            String[] paths = (String[])field.get(null);\r\n            for (int i = 0; i &lt; paths.length; i++) {\r\n                if (s.equals(paths[i])) {\r\n                    return;\r\n                }\r\n            }\r\n            String[] tmp = new String[paths.length+1];\r\n            System.arraycopy(paths,0,tmp,0,paths.length);\r\n            tmp[paths.length] = s;\r\n            field.set(null,tmp);\r\n            System.setProperty(&quot;java.library.path&quot;, System.getProperty(&quot;java.library.path&quot;) + File.pathSeparator + s);\r\n        } catch (IllegalAccessException e) {\r\n            throw new IOException(&quot;Failed to get permissions to set library path&quot;);\r\n        } catch (NoSuchFieldException e) {\r\n            throw new IOException(&quot;Failed to get field handle to set library path&quot;);\r\n        }\r\n    }\r\n\r\n**WARNING:** This may not work on all platforms and/or JVMs.\r\n\r\n  [1]: https://bugs.java.com/bugdatabase/view_bug?bug_id=4280189\r\n  [2]: http://forums.sun.com/thread.jspa?threadID=707176\r\n  [3]: http://nicklothian.com/blog/2008/11/19/modify-javalibrarypath-at-runtime/","title":"Is -Djava.library.path=... equivalent to System.setProperty(&quot;java.library.path&quot;, ...)","body":"<p>Although it is not well documented, the <code>java.library.path</code> system property is a &quot;read-only&quot; property as far as the <code>System.loadLibrary()</code> method is concerned. This is a <a href=\"https://bugs.java.com/bugdatabase/view_bug?bug_id=4280189\" rel=\"nofollow noreferrer\">reported bug</a> but it was closed by Sun as opposed to getting fixed. The problem is that the JVM's ClassLoader reads this property once at startup and then caches it, not allowing us to change it programatically afterward. The line <code>System.setProperty(&quot;java.library.path&quot;, anyVal);</code> will have no effect except for <code>System.getProperty()</code> method calls.</p>\n<p>Luckily, someone <a href=\"http://forums.sun.com/thread.jspa?threadID=707176\" rel=\"nofollow noreferrer\">posted a workaround on the Sun forums</a>. Unfortunately, that link no longer works but I did find <a href=\"http://nicklothian.com/blog/2008/11/19/modify-javalibrarypath-at-runtime/\" rel=\"nofollow noreferrer\">the code on another source</a>. Here is the code you can use to work around not being able to set the <code>java.library.path</code> system property:</p>\n<pre><code>public static void addDir(String s) throws IOException {\n    try {\n        // This enables the java.library.path to be modified at runtime\n        // From a Sun engineer at http://forums.sun.com/thread.jspa?threadID=707176\n        //\n        Field field = ClassLoader.class.getDeclaredField(&quot;usr_paths&quot;);\n        field.setAccessible(true);\n        String[] paths = (String[])field.get(null);\n        for (int i = 0; i &lt; paths.length; i++) {\n            if (s.equals(paths[i])) {\n                return;\n            }\n        }\n        String[] tmp = new String[paths.length+1];\n        System.arraycopy(paths,0,tmp,0,paths.length);\n        tmp[paths.length] = s;\n        field.set(null,tmp);\n        System.setProperty(&quot;java.library.path&quot;, System.getProperty(&quot;java.library.path&quot;) + File.pathSeparator + s);\n    } catch (IllegalAccessException e) {\n        throw new IOException(&quot;Failed to get permissions to set library path&quot;);\n    } catch (NoSuchFieldException e) {\n        throw new IOException(&quot;Failed to get field handle to set library path&quot;);\n    }\n}\n</code></pre>\n<p><strong>WARNING:</strong> This may not work on all platforms and/or JVMs.</p>\n"},{"tags":[],"owner":{"account_id":4808882,"reputation":459,"user_id":3882948,"display_name":"luyifan"},"down_vote_count":1,"up_vote_count":46,"is_accepted":false,"score":45,"last_activity_date":1406518582,"creation_date":1406518582,"answer_id":24988095,"question_id":5419039,"body_markdown":"you can add three lines \r\n\r\n     System.setProperty(&quot;java.library.path&quot;, &quot;/path/to/libs&quot; );\r\n     Field fieldSysPath = ClassLoader.class.getDeclaredField( &quot;sys_paths&quot; );\r\n     fieldSysPath.setAccessible( true );\r\n     fieldSysPath.set( null, null );\r\n\r\nand also import java.lang.reflect.Field \r\nIt&#39;s ok to solve the problem \r\n\r\n\r\n","title":"Is -Djava.library.path=... equivalent to System.setProperty(&quot;java.library.path&quot;, ...)","body":"<p>you can add three lines </p>\n\n<pre><code> System.setProperty(\"java.library.path\", \"/path/to/libs\" );\n Field fieldSysPath = ClassLoader.class.getDeclaredField( \"sys_paths\" );\n fieldSysPath.setAccessible( true );\n fieldSysPath.set( null, null );\n</code></pre>\n\n<p>and also import java.lang.reflect.Field \nIt's ok to solve the problem </p>\n"},{"tags":[],"owner":{"account_id":94193,"reputation":20589,"user_id":257299,"accept_rate":64,"display_name":"kevinarpe"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1637938409,"creation_date":1637937406,"answer_id":70126075,"question_id":5419039,"body_markdown":"This is an addendum to this answer to Jesse Webb&#39;s amazing answer above: https://stackoverflow.com/a/6408467/257299\r\n\r\nFor Java 17:\r\n\r\n    import jdk.internal.loader.NativeLibraries;\r\n    final Class&lt;?&gt;[] declClassArr = NativeLibraries.class.getDeclaredClasses();\r\n    final Class&lt;?&gt; libraryPaths =\r\n        Arrays.stream(declClassArr)\r\n            .filter(klass -&gt; klass.getSimpleName().equals(&quot;LibraryPaths&quot;))\r\n            .findFirst()\r\n            .get();\r\n    final Field field = libraryPaths.getDeclaredField(&quot;USER_PATHS&quot;);\r\n    final MethodHandles.Lookup lookup = MethodHandles.privateLookupIn(Field.class, MethodHandles.lookup());\r\n    final VarHandle varHandle = lookup.findVarHandle(Field.class, &quot;modifiers&quot;, int.class);\r\n    varHandle.set(field, field.getModifiers() &amp; ~Modifier.FINAL);\r\n\r\nSince package `jdk.internal.loader` from module `java.base` is not normally accessible, you will need to add &quot;exports&quot; and &quot;opens&quot; to **both** the compiler and JVM runtime args.\r\n\r\n    --add-exports=java.base/jdk.internal.loader=ALL-UNNAMED\r\n    --add-opens=java.base/jdk.internal.loader=ALL-UNNAMED\r\n    --add-opens=java.base/java.lang.reflect=ALL-UNNAMED\r\n\r\nRead more here:\r\n* `--add-exports`: https://stackoverflow.com/a/53647605/257299\r\n* `--add-opens`: https://stackoverflow.com/a/61663667/257299\r\n* Remove `final` modifier on Java12+: https://stackoverflow.com/a/56043252/257299","title":"Is -Djava.library.path=... equivalent to System.setProperty(&quot;java.library.path&quot;, ...)","body":"<p>This is an addendum to this answer to Jesse Webb's amazing answer above: <a href=\"https://stackoverflow.com/a/6408467/257299\">https://stackoverflow.com/a/6408467/257299</a></p>\n<p>For Java 17:</p>\n<pre><code>import jdk.internal.loader.NativeLibraries;\nfinal Class&lt;?&gt;[] declClassArr = NativeLibraries.class.getDeclaredClasses();\nfinal Class&lt;?&gt; libraryPaths =\n    Arrays.stream(declClassArr)\n        .filter(klass -&gt; klass.getSimpleName().equals(&quot;LibraryPaths&quot;))\n        .findFirst()\n        .get();\nfinal Field field = libraryPaths.getDeclaredField(&quot;USER_PATHS&quot;);\nfinal MethodHandles.Lookup lookup = MethodHandles.privateLookupIn(Field.class, MethodHandles.lookup());\nfinal VarHandle varHandle = lookup.findVarHandle(Field.class, &quot;modifiers&quot;, int.class);\nvarHandle.set(field, field.getModifiers() &amp; ~Modifier.FINAL);\n</code></pre>\n<p>Since package <code>jdk.internal.loader</code> from module <code>java.base</code> is not normally accessible, you will need to add &quot;exports&quot; and &quot;opens&quot; to <strong>both</strong> the compiler and JVM runtime args.</p>\n<pre><code>--add-exports=java.base/jdk.internal.loader=ALL-UNNAMED\n--add-opens=java.base/jdk.internal.loader=ALL-UNNAMED\n--add-opens=java.base/java.lang.reflect=ALL-UNNAMED\n</code></pre>\n<p>Read more here:</p>\n<ul>\n<li><code>--add-exports</code>: <a href=\"https://stackoverflow.com/a/53647605/257299\">https://stackoverflow.com/a/53647605/257299</a></li>\n<li><code>--add-opens</code>: <a href=\"https://stackoverflow.com/a/61663667/257299\">https://stackoverflow.com/a/61663667/257299</a></li>\n<li>Remove <code>final</code> modifier on Java12+: <a href=\"https://stackoverflow.com/a/56043252/257299\">https://stackoverflow.com/a/56043252/257299</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":46143,"reputation":5703,"user_id":136247,"accept_rate":80,"display_name":"Joe23"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1688664819,"creation_date":1678724466,"answer_id":75724448,"question_id":5419039,"body_markdown":"In the Temurin JDK setting `sys_paths` to `null` doesn&#39;t work. It leads to a `NullPointerException`.\r\n\r\nThe following works in Temurin:\r\n\r\n```\r\nMethod initLibraryPaths = ClassLoader.class.getDeclaredMethod(&quot;initLibraryPaths&quot;);\r\ninitLibraryPaths.setAccessible(true);\r\ninitLibraryPaths.invoke(null);\r\n```\r\n","title":"Is -Djava.library.path=... equivalent to System.setProperty(&quot;java.library.path&quot;, ...)","body":"<p>In the Temurin JDK setting <code>sys_paths</code> to <code>null</code> doesn't work. It leads to a <code>NullPointerException</code>.</p>\n<p>The following works in Temurin:</p>\n<pre><code>Method initLibraryPaths = ClassLoader.class.getDeclaredMethod(&quot;initLibraryPaths&quot;);\ninitLibraryPaths.setAccessible(true);\ninitLibraryPaths.invoke(null);\n</code></pre>\n"}],"owner":{"account_id":47175,"reputation":6248,"user_id":139594,"accept_rate":96,"display_name":"czuk"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":80067,"favorite_count":0,"down_vote_count":0,"up_vote_count":55,"accepted_answer_id":5419120,"answer_count":5,"score":55,"last_activity_date":1688664819,"creation_date":1300969523,"question_id":5419039,"body_markdown":"I load an external library that is placed in `./lib`. Are these two solutions to set the java.library.path equivalent?\r\n\r\n1. Set path in console when executing jar:\r\n\r\n        java -Djava.library.path=./lib -jar myApplication.jar\r\n\r\n2. Set path in the code before loading library:\r\n\r\n        System.setProperty(&quot;java.library.path&quot;, &quot;./lib&quot;);\r\n\r\nIf they _are equivalent_, why in the second solution can Java not find the library while the first one is ok?\r\n\r\nIf _not_, is there a way the set the path in the code?","title":"Is -Djava.library.path=... equivalent to System.setProperty(&quot;java.library.path&quot;, ...)","body":"<p>I load an external library that is placed in <code>./lib</code>. Are these two solutions to set the java.library.path equivalent?</p>\n\n<ol>\n<li><p>Set path in console when executing jar:</p>\n\n<pre><code>java -Djava.library.path=./lib -jar myApplication.jar\n</code></pre></li>\n<li><p>Set path in the code before loading library:</p>\n\n<pre><code>System.setProperty(\"java.library.path\", \"./lib\");\n</code></pre></li>\n</ol>\n\n<p>If they <em>are equivalent</em>, why in the second solution can Java not find the library while the first one is ok?</p>\n\n<p>If <em>not</em>, is there a way the set the path in the code?</p>\n"},{"tags":["java","function","for-loop"],"comments":[{"owner":{"account_id":145851,"reputation":20697,"user_id":355931,"accept_rate":88,"display_name":"Barranka"},"score":1,"creation_date":1368634508,"post_id":16570091,"comment_id":23808738,"body_markdown":"Have you tried to write it yourself? It&#39;s not that hard","body":"Have you tried to write it yourself? It&#39;s not that hard"},{"owner":{"account_id":411863,"reputation":7400,"user_id":784594,"display_name":"OndroMih"},"score":0,"creation_date":1441116937,"post_id":16570091,"comment_id":52542110,"body_markdown":"Some nice solutions are also in this question: http://stackoverflow.com/questions/371026/shortest-way-to-get-an-iterator-over-a-range-of-integers-in-java","body":"Some nice solutions are also in this question: <a href=\"http://stackoverflow.com/questions/371026/shortest-way-to-get-an-iterator-over-a-range-of-integers-in-java\" title=\"shortest way to get an iterator over a range of integers in java\">stackoverflow.com/questions/371026/&hellip;</a>"},{"owner":{"account_id":4962253,"reputation":18492,"user_id":3992939,"accept_rate":73,"display_name":"c0der"},"score":0,"creation_date":1525841773,"post_id":16570091,"comment_id":87508930,"body_markdown":"For a range of any `Comparable` s see [this](https://stackoverflow.com/a/50245738/3992939) answer","body":"For a range of any <code>Comparable</code> s see <a href=\"https://stackoverflow.com/a/50245738/3992939\">this</a> answer"}],"answers":[{"tags":[],"owner":{"account_id":350538,"reputation":26874,"user_id":688653,"accept_rate":100,"display_name":"zw324"},"down_vote_count":3,"up_vote_count":18,"is_accepted":false,"score":15,"last_activity_date":1368634517,"creation_date":1368634517,"answer_id":16570113,"question_id":16570091,"body_markdown":"Um... `for (int i = 0; i &lt; k; i++)`? You don&#39;t have to write enhanced for loops all day, you know, although they are cool...\r\n\r\nAnd just for the sake of argument:\r\n\r\n`for (int i : range(k))`  char count: 22\r\n\r\n`for (int i = 0; i &lt; k; i++)` char count: 27\r\n\r\nDiscounting the implementation of `range`, it is pseudo even.","title":"For loop - like Python range function","body":"<p>Um... <code>for (int i = 0; i &lt; k; i++)</code>? You don't have to write enhanced for loops all day, you know, although they are cool...</p>\n\n<p>And just for the sake of argument:</p>\n\n<p><code>for (int i : range(k))</code>  char count: 22</p>\n\n<p><code>for (int i = 0; i &lt; k; i++)</code> char count: 27</p>\n\n<p>Discounting the implementation of <code>range</code>, it is pseudo even.</p>\n"},{"tags":[],"owner":{"account_id":2363066,"reputation":16933,"user_id":2069350,"accept_rate":50,"display_name":"Henry Keiter"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1368634981,"creation_date":1368634540,"answer_id":16570122,"question_id":16570091,"body_markdown":"There&#39;s no Java equivalent to the `range` function, but there is an [enhanced for-loop][1]:\r\n\r\n    for (String s : strings) {\r\n        // Do stuff\r\n    }\r\n\r\nYou could also roll your own `range` function, if you&#39;re really attached to the syntax, but it seems a little silly.\r\n\r\n    public static int[] range(int length) {\r\n        int[] r = new int[length];\r\n        for (int i = 0; i &lt; length; i++) {\r\n            r[i] = i;\r\n        }\r\n        return r;\r\n    }\r\n\r\n    // ...\r\n\r\n    String s;\r\n    for (int i : range(arrayOfStrings.length)) {\r\n        s = arrayOfStrings[i];\r\n        // Do stuff\r\n    }\r\n\r\n\r\n  [1]: https://blogs.oracle.com/CoreJavaTechTips/entry/using_enhanced_for_loops_with","title":"For loop - like Python range function","body":"<p>There's no Java equivalent to the <code>range</code> function, but there is an <a href=\"https://blogs.oracle.com/CoreJavaTechTips/entry/using_enhanced_for_loops_with\" rel=\"nofollow\">enhanced for-loop</a>:</p>\n\n<pre><code>for (String s : strings) {\n    // Do stuff\n}\n</code></pre>\n\n<p>You could also roll your own <code>range</code> function, if you're really attached to the syntax, but it seems a little silly.</p>\n\n<pre><code>public static int[] range(int length) {\n    int[] r = new int[length];\n    for (int i = 0; i &lt; length; i++) {\n        r[i] = i;\n    }\n    return r;\n}\n\n// ...\n\nString s;\nfor (int i : range(arrayOfStrings.length)) {\n    s = arrayOfStrings[i];\n    // Do stuff\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":69149,"reputation":233552,"user_id":201359,"accept_rate":100,"display_name":"&#211;scar L&#243;pez"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1368637854,"creation_date":1368634622,"answer_id":16570145,"question_id":16570091,"body_markdown":"If you really, really want to obtain an equivalent result in Java, you&#39;ll have to do some more work:\r\n\r\n    public int[] range(int start, int end, int step) {\r\n        int n = (int) Math.ceil((end-start)/(double)step);\r\n        int[] arange = new int[n];\r\n        for (int i = 0; i &lt; n; i++)\r\n            arange[i] = i*step+start;\r\n        return arange;\r\n    }\r\n\r\nNow `range(0, 4, 1)` will return the expected value, just like Python: `[0, 1, 2, 3]`. Sadly there isn&#39;t a simpler way in Java, it&#39;s _not_ a very expressive language, like Python.","title":"For loop - like Python range function","body":"<p>If you really, really want to obtain an equivalent result in Java, you'll have to do some more work:</p>\n\n<pre><code>public int[] range(int start, int end, int step) {\n    int n = (int) Math.ceil((end-start)/(double)step);\n    int[] arange = new int[n];\n    for (int i = 0; i &lt; n; i++)\n        arange[i] = i*step+start;\n    return arange;\n}\n</code></pre>\n\n<p>Now <code>range(0, 4, 1)</code> will return the expected value, just like Python: <code>[0, 1, 2, 3]</code>. Sadly there isn't a simpler way in Java, it's <em>not</em> a very expressive language, like Python.</p>\n"},{"tags":[],"owner":{"account_id":72575,"reputation":40784,"user_id":209513,"accept_rate":100,"display_name":"Subhrajyoti Majumder"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1368634682,"creation_date":1368634682,"answer_id":16570169,"question_id":16570091,"body_markdown":"Its not available that true. But you make a static method and use it -\r\n\r\n\r\n    public static int[] range(int index){\r\n        int[] arr = new int[index];\r\n        for(int i=0;i&lt;index;i++){\r\n            arr[i]=i;\r\n        }\r\n        return arr;\r\n    }","title":"For loop - like Python range function","body":"<p>Its not available that true. But you make a static method and use it -</p>\n\n<pre><code>public static int[] range(int index){\n    int[] arr = new int[index];\n    for(int i=0;i&lt;index;i++){\n        arr[i]=i;\n    }\n    return arr;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1941613,"reputation":5357,"user_id":1747706,"accept_rate":100,"display_name":"Zutty"},"down_vote_count":2,"up_vote_count":13,"is_accepted":false,"score":11,"last_activity_date":1478158471,"creation_date":1368634686,"answer_id":16570171,"question_id":16570091,"body_markdown":"Use [Apache Commons Lang][1]:\r\n\r\n    new IntRange(0, 3).toArray();\r\n\r\nI wouldn&#39;t normally advocate introducing external libraries for something so simple, but Apache Commons are so widely used that you probably already have it in your project!\r\n\r\nEdit: I know its not necessarily as simple or fast as a for loop, but its a nice bit of syntactic sugar that makes the intent clear.\r\n\r\nEdit: See @zengr&#39;s [answer](https://stackoverflow.com/a/31867991/231917) using `IntStream` in Java 8 .\r\n\r\n[1]: https://commons.apache.org/proper/commons-lang/javadocs/api-2.6/org/apache/commons/lang/math/IntRange.html#toArray()","title":"For loop - like Python range function","body":"<p>Use <a href=\"https://commons.apache.org/proper/commons-lang/javadocs/api-2.6/org/apache/commons/lang/math/IntRange.html#toArray()\" rel=\"nofollow noreferrer\">Apache Commons Lang</a>:</p>\n\n<pre><code>new IntRange(0, 3).toArray();\n</code></pre>\n\n<p>I wouldn't normally advocate introducing external libraries for something so simple, but Apache Commons are so widely used that you probably already have it in your project!</p>\n\n<p>Edit: I know its not necessarily as simple or fast as a for loop, but its a nice bit of syntactic sugar that makes the intent clear.</p>\n\n<p>Edit: See @zengr's <a href=\"https://stackoverflow.com/a/31867991/231917\">answer</a> using <code>IntStream</code> in Java 8 .</p>\n"},{"tags":[],"owner":{"account_id":145851,"reputation":20697,"user_id":355931,"accept_rate":88,"display_name":"Barranka"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1368634756,"creation_date":1368634756,"answer_id":16570192,"question_id":16570091,"body_markdown":"As far as I know, there&#39;s not an equivalent function in java. But you can write it yourself:\r\n\r\n    public static int[] range(int n) {\r\n        int[] ans = new int[n];\r\n        int i;\r\n        for(i = 0; i &lt; n; i++) {\r\n            ans[i] = i;\r\n        }\r\n        return ans;\r\n    }\r\n","title":"For loop - like Python range function","body":"<p>As far as I know, there's not an equivalent function in java. But you can write it yourself:</p>\n\n<pre><code>public static int[] range(int n) {\n    int[] ans = new int[n];\n    int i;\n    for(i = 0; i &lt; n; i++) {\n        ans[i] = i;\n    }\n    return ans;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1944253,"reputation":37590,"user_id":1749753,"display_name":"jlordo"},"down_vote_count":2,"up_vote_count":26,"is_accepted":false,"score":24,"last_activity_date":1368638105,"creation_date":1368635778,"answer_id":16570509,"question_id":16570091,"body_markdown":"Without an external library, you can do the following. It will consume significantly less memory for big ranges than the current accepted answer, as there is no array created.\r\n\r\nHave a class like this:\r\n\r\n\tclass Range implements Iterable&lt;Integer&gt; {\r\n\r\n\t\tprivate int limit;\r\n\t\t\r\n\t\tpublic Range(int limit) {\r\n\t\t\tthis.limit = limit;\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic Iterator&lt;Integer&gt; iterator() {\r\n\t\t\tfinal int max = limit;\r\n\t\t\treturn new Iterator&lt;Integer&gt;() {\r\n\r\n\t\t\t\tprivate int current = 0;\r\n\t\t\t\t\r\n\t\t\t\t@Override\r\n\t\t\t\tpublic boolean hasNext() {\r\n\t\t\t\t\treturn current &lt; max;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t@Override\r\n\t\t\t\tpublic Integer next() {\r\n\t\t\t\t\tif (hasNext()) {\r\n\t\t\t\t\t\treturn current++;\t\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthrow new NoSuchElementException(&quot;Range reached the end&quot;);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\t@Override\r\n\t\t\t\tpublic void remove() {\r\n\t\t\t\t\tthrow new UnsupportedOperationException(&quot;Can&#39;t remove values from a Range&quot;);\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t}\r\n\t}\r\n\r\nand you can simply use it like this:\r\n\r\n\t\tfor (int i : new Range(5)) {\r\n\t\t\tSystem.out.println(i);\r\n\t\t}\r\n\r\nyou can even reuse it:\r\n\r\n\t\tRange range5 = new Range(5);\r\n\t\t\r\n\t\tfor (int i : range5) {\r\n\t\t\tSystem.out.println(i);\r\n\t\t}\r\n\t\tfor (int i : range5) {\r\n\t\t\tSystem.out.println(i);\r\n\t\t}\r\n\r\n---\r\nAs [Henry Keiter][1] pointed out in the comment below, we could add following method to the `Range` class (or anywhere else):\r\n\r\n    public static Range range(int max) {\r\n        return new Range(max);\r\n    }\r\n\r\nand then, in the other classes we can \r\n\r\n    import static package.name.Range.range;\r\n\r\nand simply call\r\n\r\n    for (int i : range(5)) {\r\n        System.out.println(i);\r\n    }\r\n\r\n  [1]: https://stackoverflow.com/users/2069350/henry-keiter","title":"For loop - like Python range function","body":"<p>Without an external library, you can do the following. It will consume significantly less memory for big ranges than the current accepted answer, as there is no array created.</p>\n\n<p>Have a class like this:</p>\n\n<pre><code>class Range implements Iterable&lt;Integer&gt; {\n\n    private int limit;\n\n    public Range(int limit) {\n        this.limit = limit;\n    }\n\n    @Override\n    public Iterator&lt;Integer&gt; iterator() {\n        final int max = limit;\n        return new Iterator&lt;Integer&gt;() {\n\n            private int current = 0;\n\n            @Override\n            public boolean hasNext() {\n                return current &lt; max;\n            }\n\n            @Override\n            public Integer next() {\n                if (hasNext()) {\n                    return current++;   \n                } else {\n                    throw new NoSuchElementException(\"Range reached the end\");\n                }\n            }\n\n            @Override\n            public void remove() {\n                throw new UnsupportedOperationException(\"Can't remove values from a Range\");\n            }\n        };\n    }\n}\n</code></pre>\n\n<p>and you can simply use it like this:</p>\n\n<pre><code>    for (int i : new Range(5)) {\n        System.out.println(i);\n    }\n</code></pre>\n\n<p>you can even reuse it:</p>\n\n<pre><code>    Range range5 = new Range(5);\n\n    for (int i : range5) {\n        System.out.println(i);\n    }\n    for (int i : range5) {\n        System.out.println(i);\n    }\n</code></pre>\n\n<hr>\n\n<p>As <a href=\"https://stackoverflow.com/users/2069350/henry-keiter\">Henry Keiter</a> pointed out in the comment below, we could add following method to the <code>Range</code> class (or anywhere else):</p>\n\n<pre><code>public static Range range(int max) {\n    return new Range(max);\n}\n</code></pre>\n\n<p>and then, in the other classes we can </p>\n\n<pre><code>import static package.name.Range.range;\n</code></pre>\n\n<p>and simply call</p>\n\n<pre><code>for (int i : range(5)) {\n    System.out.println(i);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":82500,"reputation":38454,"user_id":231917,"accept_rate":98,"display_name":"zengr"},"down_vote_count":0,"up_vote_count":71,"is_accepted":true,"score":71,"last_activity_date":1577660793,"creation_date":1438908493,"answer_id":31867991,"question_id":16570091,"body_markdown":"Java 8 (2014) has added [IntStream][1] (similar to apache commons IntRange), so you don&#39;t need external lib now.\r\n\r\n```java\r\nimport java.util.stream.IntStream; \r\n\r\nIntStream.range(0, 3).forEachOrdered(n -&gt; {\r\n    System.out.println(n);\r\n});\r\n```\r\n\r\n`forEach` can be used in place of `forEachOrdered` too if order is not important.\r\n\r\n`IntStream.range(0, 3).parallel()` can be used for loops to run in parallel\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/stream/IntStream.html","title":"For loop - like Python range function","body":"<p>Java 8 (2014) has added <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/IntStream.html\" rel=\"noreferrer\">IntStream</a> (similar to apache commons IntRange), so you don't need external lib now.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.stream.IntStream; \n\nIntStream.range(0, 3).forEachOrdered(n -&gt; {\n    System.out.println(n);\n});\n</code></pre>\n\n<p><code>forEach</code> can be used in place of <code>forEachOrdered</code> too if order is not important.</p>\n\n<p><code>IntStream.range(0, 3).parallel()</code> can be used for loops to run in parallel</p>\n"},{"tags":[],"owner":{"account_id":19699664,"reputation":1,"user_id":14422751,"display_name":"Anvith "},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1606608523,"creation_date":1606608523,"answer_id":65055712,"question_id":16570091,"body_markdown":"What you can do to substitute the range in python in java can be done with the following code. NOTE: I am not going off of your code, I am just writing a small piece of code and showing it to you.\r\n\r\nin python you would do.. . . \r\n\r\n    if -2 &lt;= x &lt;= 10:\r\n         print(x) \r\n\r\nin java you would substitute this range and do. . .. \r\n\r\n    if(x &gt;= -2 &amp;&amp; x &lt;= 10){\r\n    System.out.println(&quot;x&quot;)\r\n    }\r\n\r\nBy doing the above code in java, you don&#39;t need a range, but you have the\r\n-2 &lt;= x &lt;=10 range and split it into x &gt;= -2 and x &lt;= 10. It means the same thing, but the one I explained in java may take the compiler a longer time to read. So if you are using python go with the former&#39;s code format, and if you are using java, use the latter&#39;s code format. \r\n","title":"For loop - like Python range function","body":"<p>What you can do to substitute the range in python in java can be done with the following code. NOTE: I am not going off of your code, I am just writing a small piece of code and showing it to you.</p>\n<p>in python you would do.. . .</p>\n<pre><code>if -2 &lt;= x &lt;= 10:\n     print(x) \n</code></pre>\n<p>in java you would substitute this range and do. . ..</p>\n<pre><code>if(x &gt;= -2 &amp;&amp; x &lt;= 10){\nSystem.out.println(&quot;x&quot;)\n}\n</code></pre>\n<p>By doing the above code in java, you don't need a range, but you have the\n-2 &lt;= x &lt;=10 range and split it into x &gt;= -2 and x &lt;= 10. It means the same thing, but the one I explained in java may take the compiler a longer time to read. So if you are using python go with the former's code format, and if you are using java, use the latter's code format.</p>\n"}],"owner":{"account_id":2644820,"reputation":780,"user_id":2287751,"accept_rate":100,"display_name":"Kacper Lubisz"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":88955,"favorite_count":0,"down_vote_count":2,"up_vote_count":40,"accepted_answer_id":31867991,"answer_count":9,"score":38,"last_activity_date":1688664673,"creation_date":1368634430,"question_id":16570091,"body_markdown":"I was wondering if in Java there is a function like the python range function.\r\n\r\n    range(4)\r\n and it would return\r\n\r\n    [0,1,2,3]\r\n\r\nThis was an easy way to make for enhanced loops. It would be great to do this in Java because it would make for loops a lot easier. Is this possible?","title":"For loop - like Python range function","body":"<p>I was wondering if in Java there is a function like the python range function.</p>\n\n<pre><code>range(4)\n</code></pre>\n\n<p>and it would return</p>\n\n<pre><code>[0,1,2,3]\n</code></pre>\n\n<p>This was an easy way to make for enhanced loops. It would be great to do this in Java because it would make for loops a lot easier. Is this possible?</p>\n"},{"tags":["java","spring-webflux","spring-data-r2dbc","r2dbc","r2dbc-postgresql"],"comments":[{"owner":{"account_id":1124229,"reputation":443,"user_id":1111880,"accept_rate":31,"display_name":"user1111880"},"score":0,"creation_date":1641329484,"post_id":70584887,"comment_id":124776282,"body_markdown":"We tried with sysout as well in each converter as well, but those are not getting printed . so i think they are not getting called. please clarify","body":"We tried with sysout as well in each converter as well, but those are not getting printed . so i think they are not getting called. please clarify"},{"owner":{"account_id":2064278,"reputation":13128,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1641385940,"post_id":70584887,"comment_id":124790184,"body_markdown":"`The issue is existing json values becomes null, whenever trying to update the record`i have no idea what you mean by this. Also `The new value is inserted as json along with null object as well.` i have no idea what you mean by this either.","body":"<code>The issue is existing json values becomes null, whenever trying to update the record</code>i have no idea what you mean by this. Also <code>The new value is inserted as json along with null object as well.</code> i have no idea what you mean by this either."},{"owner":{"account_id":80124,"reputation":528,"user_id":226758,"accept_rate":92,"display_name":"Harry"},"score":0,"creation_date":1641419755,"post_id":70584887,"comment_id":124803410,"body_markdown":"could you please share your complete code if possible?. Also have you looked at this sample -&gt; https://github.com/hantsy/spring-r2dbc-sample/blob/master/data-r2dbc-repositories/src/main/java/com/example/demo/Post.java","body":"could you please share your complete code if possible?. Also have you looked at this sample -&gt; <a href=\"https://github.com/hantsy/spring-r2dbc-sample/blob/master/data-r2dbc-repositories/src/main/java/com/example/demo/Post.java\" rel=\"nofollow noreferrer\">github.com/hantsy/spring-r2dbc-sample/blob/master/&hellip;</a>"},{"owner":{"account_id":1124229,"reputation":443,"user_id":1111880,"accept_rate":31,"display_name":"user1111880"},"score":0,"creation_date":1641579154,"post_id":70584887,"comment_id":124849584,"body_markdown":"@Toerktumlare  - I am trying to use custom converter to convert from Json to list or vice -versa. I have defined customer converter for that and in entity defined json column as List (check enity class). The issue while reading the data List object is always contain null even if DB column contains data. So, when trying to update this, only new data gets inserted to DB and not appends it .","body":"@Toerktumlare  - I am trying to use custom converter to convert from Json to list or vice -versa. I have defined customer converter for that and in entity defined json column as List (check enity class). The issue while reading the data List object is always contain null even if DB column contains data. So, when trying to update this, only new data gets inserted to DB and not appends it ."},{"owner":{"account_id":1124229,"reputation":443,"user_id":1111880,"accept_rate":31,"display_name":"user1111880"},"score":0,"creation_date":1641579176,"post_id":70584887,"comment_id":124849591,"body_markdown":"@Harry -  I am trying to use custom converter to convert from Json to list or vice -versa. I have defined customer converter for that and in entity defined json column as List (check enity class). The issue while reading the data List object is always contain null even if DB column contains data. So, when trying to update this, only new data gets inserted to DB and not appends it .","body":"@Harry -  I am trying to use custom converter to convert from Json to list or vice -versa. I have defined customer converter for that and in entity defined json column as List (check enity class). The issue while reading the data List object is always contain null even if DB column contains data. So, when trying to update this, only new data gets inserted to DB and not appends it ."},{"owner":{"account_id":2427398,"reputation":4736,"user_id":2119041,"accept_rate":100,"display_name":"NikolaB"},"score":0,"creation_date":1641803871,"post_id":70584887,"comment_id":124892775,"body_markdown":"@user1111880 You can create a wrapper class which has a property: private List&lt;SeasonsJsonDto&gt; seasonsDtl; Then create a custom converter from/to MyWrapperClass/Json. That should work but your JSON will have to have a property named seasonsDtl which will hold a list of SeasonsJsonDto","body":"@user1111880 You can create a wrapper class which has a property: private List&lt;SeasonsJsonDto&gt; seasonsDtl; Then create a custom converter from/to MyWrapperClass/Json. That should work but your JSON will have to have a property named seasonsDtl which will hold a list of SeasonsJsonDto"}],"answers":[{"tags":[],"owner":{"account_id":11390194,"reputation":119,"user_id":8350542,"display_name":"mys"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687881466,"creation_date":1687881466,"answer_id":76566695,"question_id":70584887,"body_markdown":"I think the answer here might be a hint.\r\n\r\nhttps://github.com/spring-projects/spring-data-r2dbc/issues/298#issuecomment-586965017\r\n\r\nHow about wrapping a List&lt;?&gt; in a outer class?\r\nI think it&#39;s because of Java&#39;s Generic Type Erasure, so that can not find the exact converter.","title":"Spring r2dbc custom Json converter not working","body":"<p>I think the answer here might be a hint.</p>\n<p><a href=\"https://github.com/spring-projects/spring-data-r2dbc/issues/298#issuecomment-586965017\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-data-r2dbc/issues/298#issuecomment-586965017</a></p>\n<p>How about wrapping a List&lt;?&gt; in a outer class?\nI think it's because of Java's Generic Type Erasure, so that can not find the exact converter.</p>\n"},{"tags":[],"owner":{"account_id":4191531,"reputation":261,"user_id":3434042,"display_name":"BeLEEver"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688664337,"creation_date":1688664337,"answer_id":76631221,"question_id":70584887,"body_markdown":"I know this answer is late, but I feel like I should add another perspective on how to do this. I&#39;ve done this in another way by using a json field and then converting to whatever object I needed in a mapping step.\r\n\r\nFor example, I might have an entity like this:\r\n\r\n    import io.r2dbc.postgresql.codec.Json;\r\n\r\n    @Table(&quot;table_name&quot;)\r\n    @Data\r\n    @Builder\r\n    public class MyObject {\r\n\t    @Id\r\n\t    private Integer id;\r\n\t    private Json data;\r\n\t    private LocalDateTime createdAt;\r\n\t    private LocalDateTime updatedAt;\r\n    }\r\nWith a DTO class like\r\n\r\n    @Data\r\n    @Builder\r\n    public class MyObjectDTO {\r\n\t    private Integer id;\r\n\t    private List&lt;YourObjectType&gt; data;\r\n\t    private LocalDateTime createdAt;\r\n\t    private LocalDateTime updatedAt;\r\n    }\r\n    \r\n\r\nAnd then a mapping class that does something like this:\r\n\r\n\r\n    public MyObjectDTO to(MyObject myObj) {\r\n\t\ttry {\r\n            ObjectMapper objectMapper = \r\n\t\t\tList&lt;YourObjectType&gt; yourList = objectMapper.readValue(\r\n                myObj.getData().asString(), \r\n                new TypeReference&lt;List&lt;YourObjectType&gt;&gt;() {});\r\n    \r\n\t\t\treturn MyObjectDTO.builder()\r\n\t\t\t\t\t.id(myObj.getId())\r\n\t\t\t\t\t.data(yourList)\r\n\t\t\t\t\t.createdAt(myObj.getCreatedAt())\r\n\t\t\t\t\t.updatedAt(myObj.getUpdatedAt())\r\n\t\t\t\t\t.build();\r\n\t\t} catch (Exception e) {\r\n\t\t\tthrow new RuntimeException(e);\r\n\t\t}\r\n\t}","title":"Spring r2dbc custom Json converter not working","body":"<p>I know this answer is late, but I feel like I should add another perspective on how to do this. I've done this in another way by using a json field and then converting to whatever object I needed in a mapping step.</p>\n<p>For example, I might have an entity like this:</p>\n<pre><code>import io.r2dbc.postgresql.codec.Json;\n\n@Table(&quot;table_name&quot;)\n@Data\n@Builder\npublic class MyObject {\n    @Id\n    private Integer id;\n    private Json data;\n    private LocalDateTime createdAt;\n    private LocalDateTime updatedAt;\n}\n</code></pre>\n<p>With a DTO class like</p>\n<pre><code>@Data\n@Builder\npublic class MyObjectDTO {\n    private Integer id;\n    private List&lt;YourObjectType&gt; data;\n    private LocalDateTime createdAt;\n    private LocalDateTime updatedAt;\n}\n</code></pre>\n<p>And then a mapping class that does something like this:</p>\n<pre><code>public MyObjectDTO to(MyObject myObj) {\n    try {\n        ObjectMapper objectMapper = \n        List&lt;YourObjectType&gt; yourList = objectMapper.readValue(\n            myObj.getData().asString(), \n            new TypeReference&lt;List&lt;YourObjectType&gt;&gt;() {});\n\n        return MyObjectDTO.builder()\n                .id(myObj.getId())\n                .data(yourList)\n                .createdAt(myObj.getCreatedAt())\n                .updatedAt(myObj.getUpdatedAt())\n                .build();\n    } catch (Exception e) {\n        throw new RuntimeException(e);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1124229,"reputation":443,"user_id":1111880,"accept_rate":31,"display_name":"user1111880"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1690,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1688664337,"creation_date":1641329409,"question_id":70584887,"body_markdown":"I am trying to insert json into json column using spring webflux with postgres sql. I have created custom converter for reading and writing. The issue is existing json values becomes null, whenever trying to update the record. The new value is inserted as json along with null object as well.\r\nPlease let me know where i am doing it wrong\r\n\r\n\r\n    @Configuration\r\n    @AllArgsConstructor\r\n    @EnableR2dbcRepositories(&quot;com.gohunt.hd.hunts.entity&quot;)\r\n    public class ReactivePostgresConfig extends AbstractR2dbcConfiguration {\r\n    private final ObjectMapper objectMapper;\r\n    \r\n    @Bean\r\n    @Override\r\n    public R2dbcCustomConversions r2dbcCustomConversions() {\r\n    \tSystem.out.println(&quot;r2dbcCustomConversions ++++++++++++++++++&quot;);\r\n        List&lt;Converter&lt;?, ?&gt;&gt; converters = new ArrayList&lt;&gt;();\r\n        converters.add(new JsonToMapConverter(objectMapper));\r\n        converters.add(new MapToJsonConverter(objectMapper));\r\n        return new R2dbcCustomConversions(getStoreConversions(), converters);\r\n    }\r\n\r\n\t@Override\r\n\tpublic ConnectionFactory connectionFactory() {\r\n\t\t// TODO Auto-generated method stub\r\n\t\treturn null; // configured via properties file\r\n\t}\r\n \r\n\r\n    @Slf4j\r\n    @ReadingConverter\r\n    @AllArgsConstructor\r\n    public class JsonToMapConverter implements Converter&lt;Json, List&lt;SeasonsJsonDto&gt;&gt; {\r\n\t\r\n\tprivate final ObjectMapper objectMapper;\r\n\t@Override\r\n\tpublic List&lt;SeasonsJsonDto&gt; convert(Json json) {\r\n\t\ttry {\r\n\t\t\tSystem.out.println(&quot;json +++++++++++++ &quot;+json);\r\n\t\t\t//return AppJsonUtil.parseMessageAsList(json.toString(), SeasonsJsonDto.class);\r\n\t\t\treturn Arrays.asList(objectMapper.readValue(json.toString(), SeasonsJsonDto[].class));\r\n\t\t\t\r\n\t\t} catch (Exception e) {\r\n\t\t\tlog.error(&quot;Problem while parsing JSON: {}&quot;, json, e);\r\n\t\t}\r\n\t\treturn new ArrayList&lt;SeasonsJsonDto&gt;();\r\n\t}\r\n\r\n}\r\n\r\n    @Slf4j\r\n    @WritingConverter\r\n    @AllArgsConstructor\r\n    public class MapToJsonConverter implements Converter&lt;List&lt;SeasonsJsonDto&gt;, Json&gt; {\r\n    private final ObjectMapper objectMapper;\r\n\r\n    @Override\r\n    public Json convert(List&lt;SeasonsJsonDto&gt; source) {\r\n        try {\r\n           return Json.of(objectMapper.writeValueAsString(source));\r\n        } catch (JsonProcessingException e) {\r\n            log.error(&quot;Error occurred while serializing map to JSON: {}&quot;, source, e);\r\n        }\r\n        return Json.of(&quot;&quot;);\r\n    }\r\n\r\n}\r\n\r\n    @Table(&quot;aaaa&quot;)\r\n    @Data\r\n    public class HuntsDetail extends BaseEntity implements Serializable {\r\n    \tprivate static final long serialVersionUID = 1L;\r\n    \r\n    \t@Id\r\n    \t@Column(&quot;id&quot;)\r\n    \tprivate Long id;\r\n    \r\n    \t@Column(&quot;hunter_id&quot;)\r\n    \tprivate Long hunterId;\r\n    \r\n    \t@Column(&quot;hunts_collection_id&quot;)\r\n    \tprivate String huntCollectionId;\r\n    \r\n    \t@Column(&quot;folder_id&quot;)\r\n    \tprivate Long folderId;\r\n    \r\n    \t@Column(&quot;hunts_coverimgUrl&quot;)\r\n    \tprivate String huntsCoverImgUrl;\r\n    \r\n    \t@Column(&quot;seasons_dtl&quot;)\r\n    \tprivate List&lt;SeasonsJsonDto&gt; seasonsDtl; // json datatype in DB  using above converters to get it as List or json while reading/writing.\r\n    \r\n    }","title":"Spring r2dbc custom Json converter not working","body":"<p>I am trying to insert json into json column using spring webflux with postgres sql. I have created custom converter for reading and writing. The issue is existing json values becomes null, whenever trying to update the record. The new value is inserted as json along with null object as well.\nPlease let me know where i am doing it wrong</p>\n<pre><code>@Configuration\n@AllArgsConstructor\n@EnableR2dbcRepositories(&quot;com.gohunt.hd.hunts.entity&quot;)\npublic class ReactivePostgresConfig extends AbstractR2dbcConfiguration {\nprivate final ObjectMapper objectMapper;\n\n@Bean\n@Override\npublic R2dbcCustomConversions r2dbcCustomConversions() {\n    System.out.println(&quot;r2dbcCustomConversions ++++++++++++++++++&quot;);\n    List&lt;Converter&lt;?, ?&gt;&gt; converters = new ArrayList&lt;&gt;();\n    converters.add(new JsonToMapConverter(objectMapper));\n    converters.add(new MapToJsonConverter(objectMapper));\n    return new R2dbcCustomConversions(getStoreConversions(), converters);\n}\n\n@Override\npublic ConnectionFactory connectionFactory() {\n    // TODO Auto-generated method stub\n    return null; // configured via properties file\n}\n\n\n@Slf4j\n@ReadingConverter\n@AllArgsConstructor\npublic class JsonToMapConverter implements Converter&lt;Json, List&lt;SeasonsJsonDto&gt;&gt; {\n\nprivate final ObjectMapper objectMapper;\n@Override\npublic List&lt;SeasonsJsonDto&gt; convert(Json json) {\n    try {\n        System.out.println(&quot;json +++++++++++++ &quot;+json);\n        //return AppJsonUtil.parseMessageAsList(json.toString(), SeasonsJsonDto.class);\n        return Arrays.asList(objectMapper.readValue(json.toString(), SeasonsJsonDto[].class));\n        \n    } catch (Exception e) {\n        log.error(&quot;Problem while parsing JSON: {}&quot;, json, e);\n    }\n    return new ArrayList&lt;SeasonsJsonDto&gt;();\n}\n</code></pre>\n<p>}</p>\n<pre><code>@Slf4j\n@WritingConverter\n@AllArgsConstructor\npublic class MapToJsonConverter implements Converter&lt;List&lt;SeasonsJsonDto&gt;, Json&gt; {\nprivate final ObjectMapper objectMapper;\n\n@Override\npublic Json convert(List&lt;SeasonsJsonDto&gt; source) {\n    try {\n       return Json.of(objectMapper.writeValueAsString(source));\n    } catch (JsonProcessingException e) {\n        log.error(&quot;Error occurred while serializing map to JSON: {}&quot;, source, e);\n    }\n    return Json.of(&quot;&quot;);\n}\n</code></pre>\n<p>}</p>\n<pre><code>@Table(&quot;aaaa&quot;)\n@Data\npublic class HuntsDetail extends BaseEntity implements Serializable {\n    private static final long serialVersionUID = 1L;\n\n    @Id\n    @Column(&quot;id&quot;)\n    private Long id;\n\n    @Column(&quot;hunter_id&quot;)\n    private Long hunterId;\n\n    @Column(&quot;hunts_collection_id&quot;)\n    private String huntCollectionId;\n\n    @Column(&quot;folder_id&quot;)\n    private Long folderId;\n\n    @Column(&quot;hunts_coverimgUrl&quot;)\n    private String huntsCoverImgUrl;\n\n    @Column(&quot;seasons_dtl&quot;)\n    private List&lt;SeasonsJsonDto&gt; seasonsDtl; // json datatype in DB  using above converters to get it as List or json while reading/writing.\n\n}\n</code></pre>\n"},{"tags":["java","c++","user-interface"],"comments":[{"owner":{"account_id":1692034,"reputation":3196,"user_id":1554195,"display_name":"tquadrat"},"score":0,"creation_date":1688556761,"post_id":76619375,"comment_id":135088357,"body_markdown":"To call C/C++ stuff from inside Java is only halfway straight forward as long as this stuff is not a GUI component. The integration of GUI elements written in something else then Java requires also the integration of the GUI framework underneath that GUI component – but most of these frameworks refuse to be integrated into another.","body":"To call C/C++ stuff from inside Java is only halfway straight forward as long as this stuff is not a GUI component. The integration of GUI elements written in something else then Java requires also the integration of the GUI framework underneath that GUI component – but most of these frameworks refuse to be integrated into another."},{"owner":{"account_id":12514905,"reputation":2235,"user_id":9194639,"display_name":"new Q Open Wid"},"score":0,"creation_date":1688560306,"post_id":76619375,"comment_id":135089181,"body_markdown":"So are you planning to use your own code with Java JNI to use GLFW in Java from scratch, or use helpful libraries like LWJGL or JOGL?","body":"So are you planning to use your own code with Java JNI to use GLFW in Java from scratch, or use helpful libraries like LWJGL or JOGL?"},{"owner":{"account_id":25590492,"reputation":1,"user_id":19367336,"display_name":"Alan Linto"},"score":0,"creation_date":1688654133,"post_id":76619375,"comment_id":135105592,"body_markdown":"@newQOpenGLWidget  I am using my own code which is actually stored as DLL file, I am not sure what JAVA JNI is and I am not using any JAVA libraries like the ones you mentioned","body":"@newQOpenGLWidget  I am using my own code which is actually stored as DLL file, I am not sure what JAVA JNI is and I am not using any JAVA libraries like the ones you mentioned"},{"owner":{"account_id":12514905,"reputation":2235,"user_id":9194639,"display_name":"new Q Open Wid"},"score":0,"creation_date":1688668712,"post_id":76619375,"comment_id":135108399,"body_markdown":"&#39;I am using my own code which is actually stored as DLL file&#39; ; sorry, I&#39;m a bit flustered. Do you want to directly use that DLL, with all its functions and classes, in Java?","body":"&#39;I am using my own code which is actually stored as DLL file&#39; ; sorry, I&#39;m a bit flustered. Do you want to directly use that DLL, with all its functions and classes, in Java?"},{"owner":{"account_id":25590492,"reputation":1,"user_id":19367336,"display_name":"Alan Linto"},"score":0,"creation_date":1688708413,"post_id":76619375,"comment_id":135112645,"body_markdown":"@newQOpenGLWidget  Yes I am directly calling the DLL files for calling the functions and classes in my JAVA code snippet, using JNA not JNI after researching what JNI I just want to know whether it is possible for GLFW to create a window while calling it in a JAVA code.","body":"@newQOpenGLWidget  Yes I am directly calling the DLL files for calling the functions and classes in my JAVA code snippet, using JNA not JNI after researching what JNI I just want to know whether it is possible for GLFW to create a window while calling it in a JAVA code."}],"owner":{"account_id":25590492,"reputation":1,"user_id":19367336,"display_name":"Alan Linto"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688664167,"creation_date":1688552436,"question_id":76619375,"body_markdown":"How can I add GLFW in JAVA Swing GUI like JFrame since I am trying to create a simple 3D/2D modeler using some JButtons? I already wrote a simple 2d + 3d model builder using OpenGL (Legacy Version) using C++ in Visual Studio 2022 and used GLFW API for displays and inputs. I know that I can create a linked library to call my renderer(C++) functions in JAVA.\r\n\r\nApparently I couldn&#39;t find any resources on how to do so, all I know is GLFW might only work within Visual C++ compilers but when I tried using the gcc/g++ (GNU) compilers on Visual Studio Code but no GLFW windows seems to be popping up while running the same code. I don&#39;t know whether I need to use another GUI API like OpenGUI to create it instead of JAVA GUI.","title":"Displaying GLFW Windows in JAVA GUI","body":"<p>How can I add GLFW in JAVA Swing GUI like JFrame since I am trying to create a simple 3D/2D modeler using some JButtons? I already wrote a simple 2d + 3d model builder using OpenGL (Legacy Version) using C++ in Visual Studio 2022 and used GLFW API for displays and inputs. I know that I can create a linked library to call my renderer(C++) functions in JAVA.</p>\n<p>Apparently I couldn't find any resources on how to do so, all I know is GLFW might only work within Visual C++ compilers but when I tried using the gcc/g++ (GNU) compilers on Visual Studio Code but no GLFW windows seems to be popping up while running the same code. I don't know whether I need to use another GUI API like OpenGUI to create it instead of JAVA GUI.</p>\n"},{"tags":["java","itext7","licensing"],"answers":[{"tags":[],"owner":{"account_id":1957172,"reputation":88,"user_id":1759923,"display_name":"Matthias Keisse"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1688664137,"creation_date":1688664137,"answer_id":76631201,"question_id":76630925,"body_markdown":"It looks like your license requires the usage of the remote reporting module iText provides. \r\n\r\nYou can add it to your project using Maven, or download the jar and manually include it. It can be found here: https://mvnrepository.com/artifact/com.itextpdf.licensing/licensing-remote\r\n\r\nMore information on volume and remote reporting licenses can be found here:\r\nhttps://kb.itextpdf.com/home/it7kb/faq/volume-counter-faqs\r\n\r\nPlease make sure you&#39;re using the correct licensing-base and licensing-remote versions for your version of iText. \r\n\r\nA compatibility matrix can be found here:\r\nhttps://kb.itextpdf.com/home/it7kb/compatibility-matrix","title":"REMOTE_REPORTING_MISSING_REMOTE_MODULE Itext 7.2.2","body":"<p>It looks like your license requires the usage of the remote reporting module iText provides.</p>\n<p>You can add it to your project using Maven, or download the jar and manually include it. It can be found here: <a href=\"https://mvnrepository.com/artifact/com.itextpdf.licensing/licensing-remote\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/com.itextpdf.licensing/licensing-remote</a></p>\n<p>More information on volume and remote reporting licenses can be found here:\n<a href=\"https://kb.itextpdf.com/home/it7kb/faq/volume-counter-faqs\" rel=\"nofollow noreferrer\">https://kb.itextpdf.com/home/it7kb/faq/volume-counter-faqs</a></p>\n<p>Please make sure you're using the correct licensing-base and licensing-remote versions for your version of iText.</p>\n<p>A compatibility matrix can be found here:\n<a href=\"https://kb.itextpdf.com/home/it7kb/compatibility-matrix\" rel=\"nofollow noreferrer\">https://kb.itextpdf.com/home/it7kb/compatibility-matrix</a></p>\n"}],"owner":{"account_id":16037219,"reputation":25,"user_id":11574594,"display_name":"Cemail Sn"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76631201,"answer_count":1,"score":0,"last_activity_date":1688664137,"creation_date":1688661655,"question_id":76630925,"body_markdown":"I am trying to consume an **itext 7.2 license** from java, however when loading it, it throws an exception of type: REMOTE_REPORTING_MISSING_REMOTE_MODULE\r\n\r\nI have a .json file in C and I use **licensing-base** in **version 4.1.0**, please if someone could tell me what I might be doing wrong or if I&#39;m missing something to do. Before doing a test with a temporary license and everything ok but when I use the paid license it throws an exception and doesn&#39;t let me continue.\r\n\r\nIn advance thanks for the help.","title":"REMOTE_REPORTING_MISSING_REMOTE_MODULE Itext 7.2.2","body":"<p>I am trying to consume an <strong>itext 7.2 license</strong> from java, however when loading it, it throws an exception of type: REMOTE_REPORTING_MISSING_REMOTE_MODULE</p>\n<p>I have a .json file in C and I use <strong>licensing-base</strong> in <strong>version 4.1.0</strong>, please if someone could tell me what I might be doing wrong or if I'm missing something to do. Before doing a test with a temporary license and everything ok but when I use the paid license it throws an exception and doesn't let me continue.</p>\n<p>In advance thanks for the help.</p>\n"},{"tags":["java","arrays"],"answers":[{"tags":[],"owner":{"account_id":95910,"reputation":238649,"user_id":260990,"accept_rate":81,"display_name":"jmj"},"down_vote_count":1,"up_vote_count":402,"is_accepted":false,"score":401,"last_activity_date":1483785825,"creation_date":1292332932,"answer_id":4439612,"question_id":4439595,"body_markdown":"You can use   \r\n\r\nJDK &gt; 1.5\r\n---------   \r\n\r\n    Arrays.copyOfRange(Object[] src, int from, int to)\r\n\r\n[Javadoc][1]  \r\n\r\n\r\nJDK &lt;= 1.5\r\n-----------\r\n\r\n    System.arraycopy(Object[] src, int srcStartIndex, Object[] dest, int dstStartIndex, int lengthOfCopiedIndices); \r\n\r\n[Javadoc][2]\r\n\r\n\r\n  [1]: http://download.oracle.com/javase/6/docs/api/java/util/Arrays.html\r\n  [2]: http://download.oracle.com/javase/1.4.2/docs/api/java/lang/System.html","title":"How to create a sub array from another array in Java?","body":"<p>You can use   </p>\n\n<h2>JDK > 1.5</h2>\n\n<pre><code>Arrays.copyOfRange(Object[] src, int from, int to)\n</code></pre>\n\n<p><a href=\"http://download.oracle.com/javase/6/docs/api/java/util/Arrays.html\">Javadoc</a>  </p>\n\n<h2>JDK &lt;= 1.5</h2>\n\n<pre><code>System.arraycopy(Object[] src, int srcStartIndex, Object[] dest, int dstStartIndex, int lengthOfCopiedIndices); \n</code></pre>\n\n<p><a href=\"http://download.oracle.com/javase/1.4.2/docs/api/java/lang/System.html\">Javadoc</a></p>\n"},{"tags":[],"owner":{"account_id":32058,"reputation":6692,"user_id":88485,"accept_rate":100,"display_name":"Gerco Dries"},"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1411205431,"creation_date":1292332951,"answer_id":4439615,"question_id":4439595,"body_markdown":"Yes, it&#39;s called [System.arraycopy(Object, int, Object, int, int)](http://docs.oracle.com/javase/7/docs/api/java/lang/System.html#arraycopy(java.lang.Object,%20int,%20java.lang.Object,%20int,%20int)) .\r\n\r\nIt&#39;s still going to perform a loop somewhere though, unless this can get optimized into something like `REP STOSW` by the JIT (in which case the loop is inside the CPU).\r\n\r\n    int[] src = new int[] {1, 2, 3, 4, 5};\r\n    int[] dst = new int[3];\r\n\r\n    System.arraycopy(src, 1, dst, 0, 3); // Copies 2, 3, 4 into dst","title":"How to create a sub array from another array in Java?","body":"<p>Yes, it's called <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/System.html#arraycopy(java.lang.Object,%20int,%20java.lang.Object,%20int,%20int)\" rel=\"noreferrer\">System.arraycopy(Object, int, Object, int, int)</a> .</p>\n\n<p>It's still going to perform a loop somewhere though, unless this can get optimized into something like <code>REP STOSW</code> by the JIT (in which case the loop is inside the CPU).</p>\n\n<pre><code>int[] src = new int[] {1, 2, 3, 4, 5};\nint[] dst = new int[3];\n\nSystem.arraycopy(src, 1, dst, 0, 3); // Copies 2, 3, 4 into dst\n</code></pre>\n"},{"tags":[],"owner":{"account_id":70258,"reputation":590444,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"down_vote_count":0,"up_vote_count":146,"is_accepted":false,"score":146,"last_activity_date":1292334485,"creation_date":1292334485,"answer_id":4439809,"question_id":4439595,"body_markdown":"`Arrays.copyOfRange(..)` was added in Java 1.6. So perhaps you don&#39;t have the latest version. If it&#39;s not possible to upgrade, look at `System.arraycopy(..)`","title":"How to create a sub array from another array in Java?","body":"<p><code>Arrays.copyOfRange(..)</code> was added in Java 1.6. So perhaps you don't have the latest version. If it's not possible to upgrade, look at <code>System.arraycopy(..)</code></p>\n"},{"tags":[],"owner":{"account_id":220789,"reputation":114430,"user_id":478399,"accept_rate":83,"display_name":"AlexR"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1292334650,"creation_date":1292334650,"answer_id":4439833,"question_id":4439595,"body_markdown":"I you are using java prior to version 1.6 use `System.arraycopy()` instead. Or upgrade your environment.","title":"How to create a sub array from another array in Java?","body":"<p>I you are using java prior to version 1.6 use <code>System.arraycopy()</code> instead. Or upgrade your environment.</p>\n"},{"tags":[],"owner":{"account_id":55005,"reputation":1117,"user_id":164680,"display_name":"Milan Jaros"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1292335233,"creation_date":1292334698,"answer_id":4439841,"question_id":4439595,"body_markdown":"    int newArrayLength = 30; \r\n\r\n    int[] newArray = new int[newArrayLength];\r\n\r\n    System.arrayCopy(oldArray, 0, newArray, 0, newArray.length);\r\n\r\n","title":"How to create a sub array from another array in Java?","body":"<pre><code>int newArrayLength = 30; \n\nint[] newArray = new int[newArrayLength];\n\nSystem.arrayCopy(oldArray, 0, newArray, 0, newArray.length);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":236375,"reputation":494,"user_id":503825,"display_name":"Merky"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1292334746,"creation_date":1292334746,"answer_id":4439851,"question_id":4439595,"body_markdown":"The code is correct so I&#39;m guessing that you are using an older JDK.  The javadoc for that method says it has been there since 1.6.  At the command line type:\r\n\r\n    java -version\r\n\r\nI&#39;m guessing that you are not running 1.6","title":"How to create a sub array from another array in Java?","body":"<p>The code is correct so I'm guessing that you are using an older JDK.  The javadoc for that method says it has been there since 1.6.  At the command line type:</p>\n\n<pre><code>java -version\n</code></pre>\n\n<p>I'm guessing that you are not running 1.6</p>\n"},{"tags":[],"owner":{"account_id":4140184,"reputation":816,"user_id":3395760,"display_name":"Alessandro Muzzi"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1433178844,"creation_date":1433178844,"answer_id":30579320,"question_id":4439595,"body_markdown":"Using Apache [ArrayUtils][1] downloadable at [this link][2] you can easy use the method \r\n\r\n    subarray(boolean[] array, int startIndexInclusive, int endIndexExclusive) \r\n&quot;boolean&quot; is only an example, there are methods for all primitives java types\r\n\r\n  [1]: https://commons.apache.org/proper/commons-lang/javadocs/api-2.6/org/apache/commons/lang/ArrayUtils.html\r\n  [2]: https://commons.apache.org/proper/commons-lang/download_lang.cgi","title":"How to create a sub array from another array in Java?","body":"<p>Using Apache <a href=\"https://commons.apache.org/proper/commons-lang/javadocs/api-2.6/org/apache/commons/lang/ArrayUtils.html\" rel=\"noreferrer\">ArrayUtils</a> downloadable at <a href=\"https://commons.apache.org/proper/commons-lang/download_lang.cgi\" rel=\"noreferrer\">this link</a> you can easy use the method </p>\n\n<pre><code>subarray(boolean[] array, int startIndexInclusive, int endIndexExclusive) \n</code></pre>\n\n<p>\"boolean\" is only an example, there are methods for all primitives java types</p>\n"},{"tags":[],"owner":{"account_id":2460326,"reputation":2469,"user_id":5175180,"accept_rate":76,"display_name":"enator"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1581232153,"creation_date":1542655302,"answer_id":53381282,"question_id":4439595,"body_markdown":"**JDK &gt;= 1.8**\r\n\r\nI agree with all the answers above. There is also a nice way with Java 8 Streams:\r\n\r\n    int[] subArr = IntStream.range(startInclusive, endExclusive)\r\n                            .map(i -&gt; src[i])\r\n                            .toArray();\r\n\r\nThe benefit about this is, it can be useful for many different types of &quot;src&quot; array and helps to improve writing pipeline operations on the stream.\r\n\r\nNot particular about this question, but for example, if the source array was `double[]` and we wanted to take `average()` of the sub-array:\r\n\r\n    double avg = IntStream.range(startInclusive, endExclusive)\r\n                        .mapToDouble(index -&gt; src[index])\r\n                        .average()\r\n                        .getAsDouble();","title":"How to create a sub array from another array in Java?","body":"<p><strong>JDK >= 1.8</strong></p>\n\n<p>I agree with all the answers above. There is also a nice way with Java 8 Streams:</p>\n\n<pre><code>int[] subArr = IntStream.range(startInclusive, endExclusive)\n                        .map(i -&gt; src[i])\n                        .toArray();\n</code></pre>\n\n<p>The benefit about this is, it can be useful for many different types of \"src\" array and helps to improve writing pipeline operations on the stream.</p>\n\n<p>Not particular about this question, but for example, if the source array was <code>double[]</code> and we wanted to take <code>average()</code> of the sub-array:</p>\n\n<pre><code>double avg = IntStream.range(startInclusive, endExclusive)\n                    .mapToDouble(index -&gt; src[index])\n                    .average()\n                    .getAsDouble();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10241233,"reputation":129,"user_id":7558585,"display_name":"Nikita Zamalyutdinov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677599136,"creation_date":1677599136,"answer_id":75594283,"question_id":4439595,"body_markdown":"For Java &gt;= 1.8\r\n\r\n    Arrays.stream(array, incIndex, exclusiveIndex)","title":"How to create a sub array from another array in Java?","body":"<p>For Java &gt;= 1.8</p>\n<pre><code>Arrays.stream(array, incIndex, exclusiveIndex)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24585581,"reputation":21,"user_id":18490137,"display_name":"Hsabes"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688663931,"creation_date":1688663931,"answer_id":76631177,"question_id":4439595,"body_markdown":"OP said they didn&#39;t want a for loop but in case anyone does:\r\n\r\n```\r\nint[] subArr = new int[end - start];\r\n\r\nfor (int i = 0; i &lt; end - start; i++){\r\n    subArr[i] = sourceArr[i + start];\r\n}\r\n```\r\n\r\n","title":"How to create a sub array from another array in Java?","body":"<p>OP said they didn't want a for loop but in case anyone does:</p>\n<pre><code>int[] subArr = new int[end - start];\n\nfor (int i = 0; i &lt; end - start; i++){\n    subArr[i] = sourceArr[i + start];\n}\n</code></pre>\n"}],"owner":{"account_id":690697,"reputation":3773,"user_id":539411,"accept_rate":0,"display_name":"Gain"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":524652,"favorite_count":0,"down_vote_count":3,"up_vote_count":372,"answer_count":10,"score":369,"last_activity_date":1688663931,"creation_date":1292332850,"question_id":4439595,"body_markdown":"How to create a sub-array from another array? Is there a method that takes the indexes from the first array such as:\r\n\r\n    methodName(object array, int start, int end)\r\n\r\nI don&#39;t want to go over making loops and making my program suffer.\r\n\r\nI keep getting error:\r\n\r\n&gt; cannot find symbol method copyOfRange(int[],int,int)\r\n\r\nThis is my code:\r\n\r\n    import java.util.*;\r\n\r\n    public class testing \r\n    {\r\n        public static void main(String [] arg) \r\n        {\t\r\n            int[] src = new int[] {1, 2, 3, 4, 5}; \r\n            int b1[] = Arrays.copyOfRange(src, 0, 2);\r\n        }\r\n    }\r\n","title":"How to create a sub array from another array in Java?","body":"<p>How to create a sub-array from another array? Is there a method that takes the indexes from the first array such as:</p>\n\n<pre><code>methodName(object array, int start, int end)\n</code></pre>\n\n<p>I don't want to go over making loops and making my program suffer.</p>\n\n<p>I keep getting error:</p>\n\n<blockquote>\n  <p>cannot find symbol method copyOfRange(int[],int,int)</p>\n</blockquote>\n\n<p>This is my code:</p>\n\n<pre><code>import java.util.*;\n\npublic class testing \n{\n    public static void main(String [] arg) \n    {   \n        int[] src = new int[] {1, 2, 3, 4, 5}; \n        int b1[] = Arrays.copyOfRange(src, 0, 2);\n    }\n}\n</code></pre>\n"},{"tags":["java","cucumber","testng","appium"],"owner":{"account_id":17048003,"reputation":358,"user_id":12334353,"display_name":"cdub"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688663689,"creation_date":1684162373,"question_id":76255312,"body_markdown":"I am running some automation scripts using Appium, TestNG, and Cucumber in Java. I was just wondering if there was a way to set the value of the noRest cap at the feature file level. \r\n\r\nI have to jump between users a lot of my testing. So I currently have noRest=true but that adds a lot of time having to login in for every scenario. I was hoping there is a way to only have the app reset between feature files so that all scenarios in a feature file run in the same app session using the same user.\r\n\r\nIs that a possibility?\r\n\r\nNote: Appium 2.0 and Java 11","title":"Can I set noReset Appium Capability at the test level","body":"<p>I am running some automation scripts using Appium, TestNG, and Cucumber in Java. I was just wondering if there was a way to set the value of the noRest cap at the feature file level.</p>\n<p>I have to jump between users a lot of my testing. So I currently have noRest=true but that adds a lot of time having to login in for every scenario. I was hoping there is a way to only have the app reset between feature files so that all scenarios in a feature file run in the same app session using the same user.</p>\n<p>Is that a possibility?</p>\n<p>Note: Appium 2.0 and Java 11</p>\n"},{"tags":["java","javafx","line","rsyntaxtextarea"],"comments":[{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":3,"creation_date":1688666927,"post_id":76631154,"comment_id":135108044,"body_markdown":"Why is this marked JavaFX?  [RSyntaxTextArea](https://bobbylight.github.io/RSyntaxTextArea/) is a Swing control.","body":"Why is this marked JavaFX?  <a href=\"https://bobbylight.github.io/RSyntaxTextArea/\" rel=\"nofollow noreferrer\">RSyntaxTextArea</a> is a Swing control."}],"owner":{"account_id":27101024,"reputation":11,"user_id":20647584,"display_name":"TRKirua"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688663669,"creation_date":1688663669,"question_id":76631154,"body_markdown":"In my code I&#39;m using RSyntaxTextArea and RTextScrollPane but the line numbers of the RTextScrollPane are not perfectly aligned with the lines of the RSyntaxTextArea.\r\n\r\nHere is my code :\r\n```\r\nRSyntaxTextArea tabTextArea = new RSyntaxTextArea();\r\ntabTextArea.setSyntaxEditingStyle(SyntaxConstants.SYNTAX_STYLE_JAVA);\r\ntabTextArea.setCodeFoldingEnabled(true);\r\ntabTextArea.setAntiAliasingEnabled(true);\r\n\r\nRTextScrollPane tabScrollPane = new RTextScrollPane(tabTextArea);\r\ntabScrollPane.setLineNumbersEnabled(true);\r\ntabScrollPane.getGutter().setSpacingBetweenLineNumbersAndFoldIndicator(10);\r\n```\r\n\r\nI&#39;ve also changed the font in another part of the code, here are the parts where I made these :\r\n\r\nFor the RTextScrollPane (fontText is &quot;OCR A Extended&quot;) :\r\n```\r\n((RTextScrollPane) (((SwingNode) tab.getContent()).getContent())).getGutter().setLineNumberFont(new Font(fontText, Font.PLAIN, 14));\r\n```\r\n\r\nFor the RSyntaxTextArea (OCR_FONT_FAMILY is same as fontText) :\r\n```\r\nrSyntaxTextArea.setFont(new Font(OCR_FONT_FAMILY, Font.PLAIN, 14));\r\n```\r\n\r\nIt&#39;s the same font and same size but it&#39;s not aligned. Can someone help me ?\r\nAnd an important important information is that if I do not set theses font it&#39;s perfectly aligned.\r\n\r\nThanks !","title":"Line alignment RSyntaxTextArea and RTextScrollPane","body":"<p>In my code I'm using RSyntaxTextArea and RTextScrollPane but the line numbers of the RTextScrollPane are not perfectly aligned with the lines of the RSyntaxTextArea.</p>\n<p>Here is my code :</p>\n<pre><code>RSyntaxTextArea tabTextArea = new RSyntaxTextArea();\ntabTextArea.setSyntaxEditingStyle(SyntaxConstants.SYNTAX_STYLE_JAVA);\ntabTextArea.setCodeFoldingEnabled(true);\ntabTextArea.setAntiAliasingEnabled(true);\n\nRTextScrollPane tabScrollPane = new RTextScrollPane(tabTextArea);\ntabScrollPane.setLineNumbersEnabled(true);\ntabScrollPane.getGutter().setSpacingBetweenLineNumbersAndFoldIndicator(10);\n</code></pre>\n<p>I've also changed the font in another part of the code, here are the parts where I made these :</p>\n<p>For the RTextScrollPane (fontText is &quot;OCR A Extended&quot;) :</p>\n<pre><code>((RTextScrollPane) (((SwingNode) tab.getContent()).getContent())).getGutter().setLineNumberFont(new Font(fontText, Font.PLAIN, 14));\n</code></pre>\n<p>For the RSyntaxTextArea (OCR_FONT_FAMILY is same as fontText) :</p>\n<pre><code>rSyntaxTextArea.setFont(new Font(OCR_FONT_FAMILY, Font.PLAIN, 14));\n</code></pre>\n<p>It's the same font and same size but it's not aligned. Can someone help me ?\nAnd an important important information is that if I do not set theses font it's perfectly aligned.</p>\n<p>Thanks !</p>\n"},{"tags":["java","file","swing","linked-list","file-handling"],"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1688671239,"post_id":76631104,"comment_id":135108832,"body_markdown":"Using a LinkedList is the wrong approach. Related data should be stored together, not as a separate item in the List. The data can be read from the file and added directly to the TableModel. When you want to save the data you get the data from the TableModel and write it to a file. I would suggest that the file should contain one row of data for each &quot;Contact&quot;. So maybe the name, phone, email is separated by a special character, like a &quot;,&quot;. Then you read a row of data, parse it and then add the row to the table model. See: https://stackoverflow.com/a/43197145/131872 for the most basic example.","body":"Using a LinkedList is the wrong approach. Related data should be stored together, not as a separate item in the List. The data can be read from the file and added directly to the TableModel. When you want to save the data you get the data from the TableModel and write it to a file. I would suggest that the file should contain one row of data for each &quot;Contact&quot;. So maybe the name, phone, email is separated by a special character, like a &quot;,&quot;. Then you read a row of data, parse it and then add the row to the table model. See: <a href=\"https://stackoverflow.com/a/43197145/131872\">stackoverflow.com/a/43197145/131872</a> for the most basic example."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1688671249,"post_id":76631104,"comment_id":135108836,"body_markdown":"A more advanced design would be to create a custom &quot;Contact&quot; object and a custom &quot;ContactTableModel&quot; for your data. Then when you read the data from the file you would create a Contact object and add it to the ContactTableModel. See the example at the start of [Row Table Model](https://tips4java.wordpress.com/2008/11/21/row-table-model/) to get you started.","body":"A more advanced design would be to create a custom &quot;Contact&quot; object and a custom &quot;ContactTableModel&quot; for your data. Then when you read the data from the file you would create a Contact object and add it to the ContactTableModel. See the example at the start of <a href=\"https://tips4java.wordpress.com/2008/11/21/row-table-model/\" rel=\"nofollow noreferrer\">Row Table Model</a> to get you started."}],"owner":{"account_id":25834219,"reputation":1,"user_id":19570844,"display_name":"Franco Luis Rosel"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688663211,"creation_date":1688663211,"question_id":76631104,"body_markdown":"I have a question to ask. To cut this short, I have a problem regarding writing the elements to a file and then load it to the JFrame me and my classmates are working with. The simple draft of the program is good so far, and the writing of the contents to the file by just using a user-defined function is also great. But I want to try using LinkedList to write the contents using the elements I provided (Because we also need to delete the contents one by one).\r\n\r\nIn the draft I tried using a 2-dim LinkedList to make sure that each of my index have 3 elements inside, namely &quot;name&quot;, &quot;phone&quot;, and &quot;email&quot;. Also to organize the data in their respective order, I used JTable, when I used it without LinkedList, it&#39;s ok, but as I used the LinkedList, it throws an error. Also the thrown error is called &quot;IndexOutofBoundsException&quot;, I think the error is in the method called &quot;loadFileContents&quot;, but idk how to fix it.\r\n```\r\nimport java.awt.*;\r\nimport java.awt.event.*;\r\nimport java.io.*;\r\nimport javax.swing.*;\r\nimport javax.swing.table.*;\r\nimport java.util.LinkedList;\r\n\r\npublic class FileContentApp {\r\n    private static final String FILE_PATH = &quot;contacts.txt&quot;;\r\n    private static DefaultTableModel tableModel;\r\n    public static LinkedList&lt;LinkedList&lt;String&gt;&gt; fileContacts = new LinkedList&lt;&gt;();\r\n\r\n    public static void main(String[] args) {\r\n        JFrame frame = new JFrame(&quot;Contact File&quot;);\r\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        frame.setSize(400, 300);\r\n        frame.getContentPane().setLayout(new BorderLayout());\r\n        frame.getContentPane().setBackground(Color.WHITE);\r\n\r\n        JPanel topPanel = new JPanel(new BorderLayout());\r\n        topPanel.setBackground(Color.WHITE);\r\n        JPanel buttonPanel = new JPanel(new FlowLayout(FlowLayout.RIGHT));\r\n        buttonPanel.setBackground(Color.WHITE);\r\n        JLabel titleLabel = new JLabel(&quot;Contacts&quot;);\r\n        titleLabel.setHorizontalAlignment(SwingConstants.CENTER);\r\n        topPanel.add(titleLabel, BorderLayout.NORTH);\r\n        JButton addButton = new JButton(&quot;+&quot;);\r\n        addButton.addActionListener(new ActionListener() {\r\n            public void actionPerformed(ActionEvent e) {\r\n                showDialog(frame);\r\n            }\r\n        });\r\n        JButton settingButton = new JButton(&quot;...&quot;);\r\n        buttonPanel.add(addButton);\r\n        buttonPanel.add(settingButton);\r\n        topPanel.add(buttonPanel, BorderLayout.EAST);\r\n        frame.getContentPane().add(topPanel, BorderLayout.NORTH);\r\n\r\n        JPanel contentPanel = new JPanel(new BorderLayout());\r\n        contentPanel.setBackground(Color.WHITE);\r\n        JTable table = createTable();\r\n        JScrollPane scrollPane = new JScrollPane(table);\r\n        contentPanel.add(scrollPane, BorderLayout.CENTER);\r\n        frame.getContentPane().add(contentPanel, BorderLayout.CENTER);\r\n\r\n        loadFileContents();\r\n        frame.setLocationRelativeTo(null);\r\n        frame.setVisible(true);\r\n    }\r\n\r\n    private static JTable createTable() {\r\n        tableModel = new DefaultTableModel();\r\n        tableModel.addColumn(&quot;Name&quot;);\r\n        tableModel.addColumn(&quot;Phone&quot;);\r\n        tableModel.addColumn(&quot;Email&quot;);\r\n        JTable table = new JTable(tableModel);\r\n        table.setGridColor(Color.LIGHT_GRAY);\r\n        table.setShowGrid(true);\r\n        return table;\r\n    }\r\n\r\n    private static void showDialog(JFrame parentFrame) {\r\n    LinkedList&lt;String&gt; listContact = new LinkedList&lt;&gt;();\r\n    JDialog dialog = new JDialog(parentFrame, &quot;Add Contact&quot;, true);\r\n    dialog.setSize(300, 200);\r\n    dialog.setLayout(new BorderLayout());\r\n    dialog.setLocationRelativeTo(parentFrame);\r\n\r\n    JPanel inputPanel = new JPanel(new GridLayout(3, 2));\r\n    inputPanel.setBorder(BorderFactory.createEmptyBorder(10, 10, 10, 10));\r\n    JLabel nameLabel = new JLabel(&quot;Name : &quot;);\r\n    JTextField nameField = new JTextField();\r\n    JLabel phoneLabel = new JLabel(&quot;Phone : &quot;);\r\n    JTextField phoneField = new JTextField();\r\n    JLabel emailLabel = new JLabel(&quot;Email : &quot;);\r\n    JTextField emailField = new JTextField();\r\n\r\n    inputPanel.add(nameLabel);\r\n    inputPanel.add(nameField);\r\n    inputPanel.add(phoneLabel);\r\n    inputPanel.add(phoneField);\r\n    inputPanel.add(emailLabel);\r\n    inputPanel.add(emailField);\r\n\r\n    JPanel buttonPanel = new JPanel();\r\n    buttonPanel.setLayout(new FlowLayout(FlowLayout.RIGHT));\r\n    JButton addButton = new JButton(&quot;Add&quot;);\r\n    addButton.addActionListener(new ActionListener() {\r\n        public void actionPerformed(ActionEvent e) {\r\n            String name = nameField.getText();\r\n            String phone = phoneField.getText();\r\n            String email = emailField.getText();\r\n            listContact.add(name);\r\n            listContact.add(phone);\r\n            listContact.add(email);\r\n            fileContacts.add(listContact);\r\n            addContactToFile(fileContacts);\r\n            loadFileContents();\r\n            dialog.dispose();\r\n        }\r\n    });\r\n    buttonPanel.add(addButton);\r\n\r\n    dialog.add(inputPanel, BorderLayout.CENTER);\r\n    dialog.add(buttonPanel, BorderLayout.SOUTH);\r\n    dialog.setVisible(true);\r\n}\r\n\r\n\r\n    private static void addContactToFile(LinkedList&lt;LinkedList&lt;String&gt;&gt; fileContacts) {\r\n        try (BufferedWriter writer = new BufferedWriter(new FileWriter(FILE_PATH, true))) {\r\n            writer.write(fileContacts.get(0) + &quot;\\n&quot; + fileContacts.get(1) + &quot;\\n&quot; + fileContacts.get(2));\r\n            writer.newLine();\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n    private static void loadFileContents() {\r\n    tableModel.setRowCount(0); // Clear existing table data\r\n\r\n    try (BufferedReader reader = new BufferedReader(new FileReader(FILE_PATH))) {\r\n        String line;\r\n        int lineCount = 0;\r\n        while ((line = reader.readLine()) != null) {\r\n            if (lineCount % 3 == 0) {\r\n                fileContacts.add(new LinkedList&lt;&gt;());\r\n            }\r\n            fileContacts.get(lineCount / 3).add(line);\r\n            lineCount++;\r\n        }\r\n\r\n        for (LinkedList&lt;String&gt; contact : fileContacts) {\r\n            tableModel.addRow(contact.toArray());\r\n        }\r\n    } catch (IOException e) {\r\n        e.printStackTrace();\r\n    }\r\n}\r\n}\r\n```\r\nHere is the whole code I used, I&#39;m still inexperienced in regards of using this part of Java so it&#39;s kind of clunky, and used some ChatGPT.","title":"Storing LinkedList values from a file and showing it to JFrame","body":"<p>I have a question to ask. To cut this short, I have a problem regarding writing the elements to a file and then load it to the JFrame me and my classmates are working with. The simple draft of the program is good so far, and the writing of the contents to the file by just using a user-defined function is also great. But I want to try using LinkedList to write the contents using the elements I provided (Because we also need to delete the contents one by one).</p>\n<p>In the draft I tried using a 2-dim LinkedList to make sure that each of my index have 3 elements inside, namely &quot;name&quot;, &quot;phone&quot;, and &quot;email&quot;. Also to organize the data in their respective order, I used JTable, when I used it without LinkedList, it's ok, but as I used the LinkedList, it throws an error. Also the thrown error is called &quot;IndexOutofBoundsException&quot;, I think the error is in the method called &quot;loadFileContents&quot;, but idk how to fix it.</p>\n<pre><code>import java.awt.*;\nimport java.awt.event.*;\nimport java.io.*;\nimport javax.swing.*;\nimport javax.swing.table.*;\nimport java.util.LinkedList;\n\npublic class FileContentApp {\n    private static final String FILE_PATH = &quot;contacts.txt&quot;;\n    private static DefaultTableModel tableModel;\n    public static LinkedList&lt;LinkedList&lt;String&gt;&gt; fileContacts = new LinkedList&lt;&gt;();\n\n    public static void main(String[] args) {\n        JFrame frame = new JFrame(&quot;Contact File&quot;);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.setSize(400, 300);\n        frame.getContentPane().setLayout(new BorderLayout());\n        frame.getContentPane().setBackground(Color.WHITE);\n\n        JPanel topPanel = new JPanel(new BorderLayout());\n        topPanel.setBackground(Color.WHITE);\n        JPanel buttonPanel = new JPanel(new FlowLayout(FlowLayout.RIGHT));\n        buttonPanel.setBackground(Color.WHITE);\n        JLabel titleLabel = new JLabel(&quot;Contacts&quot;);\n        titleLabel.setHorizontalAlignment(SwingConstants.CENTER);\n        topPanel.add(titleLabel, BorderLayout.NORTH);\n        JButton addButton = new JButton(&quot;+&quot;);\n        addButton.addActionListener(new ActionListener() {\n            public void actionPerformed(ActionEvent e) {\n                showDialog(frame);\n            }\n        });\n        JButton settingButton = new JButton(&quot;...&quot;);\n        buttonPanel.add(addButton);\n        buttonPanel.add(settingButton);\n        topPanel.add(buttonPanel, BorderLayout.EAST);\n        frame.getContentPane().add(topPanel, BorderLayout.NORTH);\n\n        JPanel contentPanel = new JPanel(new BorderLayout());\n        contentPanel.setBackground(Color.WHITE);\n        JTable table = createTable();\n        JScrollPane scrollPane = new JScrollPane(table);\n        contentPanel.add(scrollPane, BorderLayout.CENTER);\n        frame.getContentPane().add(contentPanel, BorderLayout.CENTER);\n\n        loadFileContents();\n        frame.setLocationRelativeTo(null);\n        frame.setVisible(true);\n    }\n\n    private static JTable createTable() {\n        tableModel = new DefaultTableModel();\n        tableModel.addColumn(&quot;Name&quot;);\n        tableModel.addColumn(&quot;Phone&quot;);\n        tableModel.addColumn(&quot;Email&quot;);\n        JTable table = new JTable(tableModel);\n        table.setGridColor(Color.LIGHT_GRAY);\n        table.setShowGrid(true);\n        return table;\n    }\n\n    private static void showDialog(JFrame parentFrame) {\n    LinkedList&lt;String&gt; listContact = new LinkedList&lt;&gt;();\n    JDialog dialog = new JDialog(parentFrame, &quot;Add Contact&quot;, true);\n    dialog.setSize(300, 200);\n    dialog.setLayout(new BorderLayout());\n    dialog.setLocationRelativeTo(parentFrame);\n\n    JPanel inputPanel = new JPanel(new GridLayout(3, 2));\n    inputPanel.setBorder(BorderFactory.createEmptyBorder(10, 10, 10, 10));\n    JLabel nameLabel = new JLabel(&quot;Name : &quot;);\n    JTextField nameField = new JTextField();\n    JLabel phoneLabel = new JLabel(&quot;Phone : &quot;);\n    JTextField phoneField = new JTextField();\n    JLabel emailLabel = new JLabel(&quot;Email : &quot;);\n    JTextField emailField = new JTextField();\n\n    inputPanel.add(nameLabel);\n    inputPanel.add(nameField);\n    inputPanel.add(phoneLabel);\n    inputPanel.add(phoneField);\n    inputPanel.add(emailLabel);\n    inputPanel.add(emailField);\n\n    JPanel buttonPanel = new JPanel();\n    buttonPanel.setLayout(new FlowLayout(FlowLayout.RIGHT));\n    JButton addButton = new JButton(&quot;Add&quot;);\n    addButton.addActionListener(new ActionListener() {\n        public void actionPerformed(ActionEvent e) {\n            String name = nameField.getText();\n            String phone = phoneField.getText();\n            String email = emailField.getText();\n            listContact.add(name);\n            listContact.add(phone);\n            listContact.add(email);\n            fileContacts.add(listContact);\n            addContactToFile(fileContacts);\n            loadFileContents();\n            dialog.dispose();\n        }\n    });\n    buttonPanel.add(addButton);\n\n    dialog.add(inputPanel, BorderLayout.CENTER);\n    dialog.add(buttonPanel, BorderLayout.SOUTH);\n    dialog.setVisible(true);\n}\n\n\n    private static void addContactToFile(LinkedList&lt;LinkedList&lt;String&gt;&gt; fileContacts) {\n        try (BufferedWriter writer = new BufferedWriter(new FileWriter(FILE_PATH, true))) {\n            writer.write(fileContacts.get(0) + &quot;\\n&quot; + fileContacts.get(1) + &quot;\\n&quot; + fileContacts.get(2));\n            writer.newLine();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n\n    private static void loadFileContents() {\n    tableModel.setRowCount(0); // Clear existing table data\n\n    try (BufferedReader reader = new BufferedReader(new FileReader(FILE_PATH))) {\n        String line;\n        int lineCount = 0;\n        while ((line = reader.readLine()) != null) {\n            if (lineCount % 3 == 0) {\n                fileContacts.add(new LinkedList&lt;&gt;());\n            }\n            fileContacts.get(lineCount / 3).add(line);\n            lineCount++;\n        }\n\n        for (LinkedList&lt;String&gt; contact : fileContacts) {\n            tableModel.addRow(contact.toArray());\n        }\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n}\n}\n</code></pre>\n<p>Here is the whole code I used, I'm still inexperienced in regards of using this part of Java so it's kind of clunky, and used some ChatGPT.</p>\n"},{"tags":["java","spring","spring-boot","java-8","spring-data-jpa"],"comments":[{"owner":{"display_name":"user3973283"},"score":0,"creation_date":1550919749,"post_id":54840769,"comment_id":96455243,"body_markdown":"so you have an error in JSON, which is not JPA. And even if it was JPA, you&#39;d need to mention which JPA provider you use, and where you think this LocalDate is not being treated right. What does your debugging say","body":"so you have an error in JSON, which is not JPA. And even if it was JPA, you&#39;d need to mention which JPA provider you use, and where you think this LocalDate is not being treated right. What does your debugging say"},{"owner":{"account_id":12359469,"reputation":1567,"user_id":9014183,"accept_rate":100,"display_name":"Royce"},"score":0,"creation_date":1550920542,"post_id":54840769,"comment_id":96455433,"body_markdown":"@BillyFrost I edited my question. I print `myObject` in `JSON`. The format is not the format specified in my formatter...","body":"@BillyFrost I edited my question. I print <code>myObject</code> in <code>JSON</code>. The format is not the format specified in my formatter..."},{"owner":{"display_name":"user3973283"},"score":0,"creation_date":1550921977,"post_id":54840769,"comment_id":96455797,"body_markdown":"which does nothing to isolate WHERE the problem is. Is your problem in JPA not persisting data into your database, or not retrieving data from your database .... or is it just in converting a Java object into JSON ????? If the problem is in persistence then DEFINE what SQL is used to persist and where you think the problem is with that SQL ... and &quot;persist&quot; does not involve POST / PUT ... it involves JPA em.persist","body":"which does nothing to isolate WHERE the problem is. Is your problem in JPA not persisting data into your database, or not retrieving data from your database .... or is it just in converting a Java object into JSON ????? If the problem is in persistence then DEFINE what SQL is used to persist and where you think the problem is with that SQL ... and &quot;persist&quot; does not involve POST / PUT ... it involves JPA em.persist"},{"owner":{"account_id":12359469,"reputation":1567,"user_id":9014183,"accept_rate":100,"display_name":"Royce"},"score":0,"creation_date":1550922515,"post_id":54840769,"comment_id":96455936,"body_markdown":"So, what I don&#39;t understand is why the format into the `sysout()` is not `yyyy-MM-dd`. Because if I do `sysout(myObject.getStartdate())` the result is a date with `yyyy-MM-dd` format ...","body":"So, what I don&#39;t understand is why the format into the <code>sysout()</code> is not <code>yyyy-MM-dd</code>. Because if I do <code>sysout(myObject.getStartdate())</code> the result is a date with <code>yyyy-MM-dd</code> format ..."},{"owner":{"display_name":"user3973283"},"score":1,"creation_date":1550927382,"post_id":54840769,"comment_id":96457221,"body_markdown":"Ok, so nothing to do with JPA then. A `LocalDate`.toString() method has its own output format defined by JAVADOCS, as per https://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html#toString--  Which has what to do with the &quot;problem&quot;?","body":"Ok, so nothing to do with JPA then. A <code>LocalDate</code>.toString() method has its own output format defined by JAVADOCS, as per <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html#toString--\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/api/java/time/&hellip;</a>  Which has what to do with the &quot;problem&quot;?"},{"owner":{"account_id":12359469,"reputation":1567,"user_id":9014183,"accept_rate":100,"display_name":"Royce"},"score":0,"creation_date":1550927552,"post_id":54840769,"comment_id":96457260,"body_markdown":"@BillyFrost thanks. I will look that.","body":"@BillyFrost thanks. I will look that."}],"answers":[{"tags":[],"owner":{"account_id":10310871,"reputation":25632,"user_id":7606764,"display_name":"Andronicus"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1550919208,"creation_date":1550919208,"answer_id":54840805,"question_id":54840769,"body_markdown":"Hibernate 5 supports java 8, so you can add this to your pom.xml:\r\n\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;hibernate-java8&lt;/artifactId&gt;\r\n    \t&lt;version&gt;5.1.0.Final&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nThis gives you mapping for `LocalDate` and `LocalDateTime` out of box.","title":"How to persist LocalDate with JPA?","body":"<p>Hibernate 5 supports java 8, so you can add this to your pom.xml:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n    &lt;artifactId&gt;hibernate-java8&lt;/artifactId&gt;\n    &lt;version&gt;5.1.0.Final&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>This gives you mapping for <code>LocalDate</code> and <code>LocalDateTime</code> out of box.</p>\n"},{"tags":[],"owner":{"account_id":2331687,"reputation":2858,"user_id":2044957,"display_name":"Peter Š&#225;ly"},"down_vote_count":0,"up_vote_count":19,"is_accepted":true,"score":19,"last_activity_date":1688662524,"creation_date":1550922320,"answer_id":54841227,"question_id":54840769,"body_markdown":"JPA 2.2 supports `LocalDate`, so no converter is needed. \r\n\r\nHibernate also supports it as of 5.3 version.\r\n\r\nCheck out this article: [What’s new in JPA **2.2** – Java 8 Date and Time Types](https://vladmihalcea.com/whats-new-in-jpa-2-2-java-8-date-and-time-types/) for more details.","title":"How to persist LocalDate with JPA?","body":"<p>JPA 2.2 supports <code>LocalDate</code>, so no converter is needed.</p>\n<p>Hibernate also supports it as of 5.3 version.</p>\n<p>Check out this article: <a href=\"https://vladmihalcea.com/whats-new-in-jpa-2-2-java-8-date-and-time-types/\" rel=\"nofollow noreferrer\">What’s new in JPA <strong>2.2</strong> – Java 8 Date and Time Types</a> for more details.</p>\n"},{"tags":[],"owner":{"account_id":11596870,"reputation":403,"user_id":8495354,"display_name":"Romas Augustinavičius"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1551015756,"creation_date":1551015756,"answer_id":54852503,"question_id":54840769,"body_markdown":"I think you could write your own Converter, please check an answer: https://stackoverflow.com/questions/50916404/spring-data-jpa-conversion-failed-when-converting-date-and-or-time-from-charac","title":"How to persist LocalDate with JPA?","body":"<p>I think you could write your own Converter, please check an answer: <a href=\"https://stackoverflow.com/questions/50916404/spring-data-jpa-conversion-failed-when-converting-date-and-or-time-from-charac\">Spring Data JPA - Conversion failed when converting date and/or time from character string</a></p>\n"},{"tags":[],"owner":{"account_id":10043347,"reputation":546,"user_id":7425560,"display_name":"Michael Mesfin"},"down_vote_count":0,"up_vote_count":31,"is_accepted":false,"score":31,"last_activity_date":1576273865,"creation_date":1576273865,"answer_id":59330245,"question_id":54840769,"body_markdown":"With JPA 2.2, you no longer need to use converter it added support for the mapping of the following java.time types:\r\n\r\n```\r\njava.time.LocalDate\r\njava.time.LocalTime\r\njava.time.LocalDateTime\r\njava.time.OffsetTime\r\njava.time.OffsetDateTime\r\n```\r\n```\r\n@Column(columnDefinition = &quot;DATE&quot;)\r\nprivate LocalDate date;\r\n@Column(columnDefinition = &quot;TIMESTAMP&quot;)\r\nprivate LocalDateTime dateTime;\r\n@Column(columnDefinition = &quot;TIME&quot;)\r\nprivate LocalTime localTime;\r\n```","title":"How to persist LocalDate with JPA?","body":"<p>With JPA 2.2, you no longer need to use converter it added support for the mapping of the following java.time types:</p>\n\n<pre><code>java.time.LocalDate\njava.time.LocalTime\njava.time.LocalDateTime\njava.time.OffsetTime\njava.time.OffsetDateTime\n</code></pre>\n\n<pre><code>@Column(columnDefinition = \"DATE\")\nprivate LocalDate date;\n@Column(columnDefinition = \"TIMESTAMP\")\nprivate LocalDateTime dateTime;\n@Column(columnDefinition = \"TIME\")\nprivate LocalTime localTime;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1012936,"reputation":145168,"user_id":1025118,"accept_rate":100,"display_name":"Vlad Mihalcea"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1610144107,"creation_date":1588253735,"answer_id":61524652,"question_id":54840769,"body_markdown":"JPA 2.2 added support for mapping Java 8 Date/Time API, like `LocalDate`, `LocalTime`, `LocalDateTime`, `OffsetDateTime` or `OffsetTime`.\r\n\r\nSo, let&#39;s assume we have the following entity:\r\n\r\n    @Entity(name = &quot;UserAccount&quot;)\r\n    @Table(name = &quot;user_account&quot;)\r\n    public class UserAccount {\r\n    \r\n    \t@Id\r\n    \tprivate Long id;\r\n    \r\n    \t@Column(name = &quot;first_name&quot;, length = 50)\r\n    \tprivate String firstName;\r\n    \r\n    \t@Column(name = &quot;last_name&quot;, length = 50)\r\n    \tprivate String lastName;\r\n    \r\n    \t@Column(name = &quot;subscribed_on&quot;)\r\n    \tprivate LocalDate subscribedOn;\r\n    \r\n    \t//Getters and setters omitted for brevity\r\n    }\r\n\r\nNotice that the `subscribedOn` attribute is a `LocalDate` Java object.\r\n\r\nWhen persisting the `UserAccount`:\r\n\r\n    UserAccount user = new UserAccount()\r\n        .setId(1L)\r\n        .setFirstName(&quot;Vlad&quot;)\r\n        .setLastName(&quot;Mihalcea&quot;)\r\n        .setSubscribedOn(\r\n            LocalDate.of(\r\n                2013, 9, 29\r\n            )\r\n        );\r\n    \r\n    entityManager.persist(user);\r\n\r\nHibernate generates the proper SQL INSERT statement:\r\n\r\n    INSERT INTO user_account (\r\n        first_name, \r\n        last_name, \r\n        subscribed_on, \r\n        id\r\n    ) \r\n    VALUES (\r\n        &#39;Vlad&#39;, \r\n        &#39;Mihalcea&#39;, \r\n        &#39;2013-09-29&#39;, \r\n        1\r\n    )\r\n\r\nWhen fetching the `UserAccount` entity, we can see that the `LocalDate` is properly fetched from the database:\r\n\r\n    UserAccount userAccount = entityManager.find(\r\n        UserAccount.class, 1L\r\n    );\r\n    \r\n    assertEquals(\r\n        LocalDate.of(\r\n            2013, 9, 29\r\n        ),\r\n        userAccount.getSubscribedOn()\r\n    );\r\n\r\n","title":"How to persist LocalDate with JPA?","body":"<p>JPA 2.2 added support for mapping Java 8 Date/Time API, like <code>LocalDate</code>, <code>LocalTime</code>, <code>LocalDateTime</code>, <code>OffsetDateTime</code> or <code>OffsetTime</code>.</p>\n<p>So, let's assume we have the following entity:</p>\n<pre><code>@Entity(name = &quot;UserAccount&quot;)\n@Table(name = &quot;user_account&quot;)\npublic class UserAccount {\n\n    @Id\n    private Long id;\n\n    @Column(name = &quot;first_name&quot;, length = 50)\n    private String firstName;\n\n    @Column(name = &quot;last_name&quot;, length = 50)\n    private String lastName;\n\n    @Column(name = &quot;subscribed_on&quot;)\n    private LocalDate subscribedOn;\n\n    //Getters and setters omitted for brevity\n}\n</code></pre>\n<p>Notice that the <code>subscribedOn</code> attribute is a <code>LocalDate</code> Java object.</p>\n<p>When persisting the <code>UserAccount</code>:</p>\n<pre><code>UserAccount user = new UserAccount()\n    .setId(1L)\n    .setFirstName(&quot;Vlad&quot;)\n    .setLastName(&quot;Mihalcea&quot;)\n    .setSubscribedOn(\n        LocalDate.of(\n            2013, 9, 29\n        )\n    );\n\nentityManager.persist(user);\n</code></pre>\n<p>Hibernate generates the proper SQL INSERT statement:</p>\n<pre><code>INSERT INTO user_account (\n    first_name, \n    last_name, \n    subscribed_on, \n    id\n) \nVALUES (\n    'Vlad', \n    'Mihalcea', \n    '2013-09-29', \n    1\n)\n</code></pre>\n<p>When fetching the <code>UserAccount</code> entity, we can see that the <code>LocalDate</code> is properly fetched from the database:</p>\n<pre><code>UserAccount userAccount = entityManager.find(\n    UserAccount.class, 1L\n);\n\nassertEquals(\n    LocalDate.of(\n        2013, 9, 29\n    ),\n    userAccount.getSubscribedOn()\n);\n</code></pre>\n"}],"owner":{"account_id":12359469,"reputation":1567,"user_id":9014183,"accept_rate":100,"display_name":"Royce"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53000,"favorite_count":0,"down_vote_count":0,"up_vote_count":30,"accepted_answer_id":54841227,"answer_count":5,"score":30,"last_activity_date":1688662524,"creation_date":1550918908,"question_id":54840769,"body_markdown":"I want to store Date without time into my database. So, I choose to use `LocalDate` type. \r\n\r\nAs mentioned in this article: [How to persist LocalDate and LocalDateTime with JPA **2.1**][1], I use a JPA converter to convert `LocalDate` to `Date`.\r\n\r\nHowever, I have some troubles when I want to persist my entity (with POST and PUT requests).\r\n\r\n**Error**\r\n\r\n    2019-02-23 11:26:30.254  WARN 2720 --- [-auto-1-exec-10] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Expected array or string.; nested exception is com.fasterxml.jackson.databind.exc.MismatchedInputException: Expected array or string.\r\n     at [Source: (PushbackInputStream); line: 1, column: 104] (through reference chain: ...entity.MyObject[&quot;startdate&quot;])]\r\n    \r\n    org.springframework.http.converter.HttpMessageConversionException: Type definition error: [simple type, class org.springframework.http.ResponseEntity]; nested exception is com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Cannot construct instance of `org.springframework.http.ResponseEntity` (no Creators, like default construct, exist): cannot deserialize from Object value (no delegate- or property-based Creator)\r\n     at [Source: (PushbackInputStream); line: 1, column: 2]\r\n\r\n**Code**\r\n\r\n*Converter*\r\n\r\n    package ...entity;\r\n\r\n    import javax.persistence.AttributeConverter;\r\n    import javax.persistence.Converter;\r\n    import java.time.LocalDate;\r\n    import java.sql.Date;\r\n\r\n    @Converter(autoApply = true)\r\n    public class LocalDateAttributeConverter implements AttributeConverter&lt;LocalDate, Date&gt; {\r\n    \r\n        @Override\r\n        public Date convertToDatabaseColumn(LocalDate locDate) {\r\n            return (locDate == null ? null : Date.valueOf(locDate));\r\n        }\r\n    \r\n        @Override\r\n        public LocalDate convertToEntityAttribute(Date sqlDate) {\r\n            return (sqlDate == null ? null : sqlDate.toLocalDate());\r\n        }\r\n    }\r\n\r\n*Entity*\r\n\r\n    package ...entity;\r\n    \r\n    import org.hibernate.annotations.ColumnDefault;\r\n    \r\n    import javax.persistence.*;\r\n    import java.time.LocalDate;\r\n    import java.util.HashSet;\r\n    import java.util.Set;\r\n    \r\n    @Entity\r\n    public class MyObject {\r\n    \r\n        @Id\r\n        private String id;\r\n        private LocalDate startdate;\r\n        private LocalDate enddate;\r\n    \r\n        public MyObject() {}\r\n    \r\n        public MyObject(LocalDate enddate) {\r\n            this.startdate = LocalDate.now();\r\n            this.enddate = enddate;\r\n        }\r\n    \r\n        ...\r\n    }\r\n\r\n*&quot;Main&quot;*\r\n\r\n    private DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&quot;);\r\n    MyObject myobject = new MyObject(LocalDate.parse(&quot;2019-03-01&quot;, formatter));\r\n\r\nThanks for help.\r\n\r\n**EDIT 1 : Print of MyObject**\r\n\r\n     HttpHeaders headers = new HttpHeaders();\r\n     headers.setContentType(MediaType.APPLICATION_JSON);\r\n     HttpEntity&lt;String&gt; entity = new HttpEntity&lt;&gt;(this.toJsonString(myObject), headers);\r\n     System.out.println(entity.toString());\r\n\r\n     // &lt;{&quot;id&quot;:&quot;ba6649e4-6e65-4f54-8f1a-f8fc7143b05a&quot;,&quot;startdate&quot;:{&quot;year&quot;:2019,&quot;month&quot;:&quot;FEBRUARY&quot;,&quot;dayOfMonth&quot;:23,&quot;dayOfWeek&quot;:&quot;SATURDAY&quot;,&quot;era&quot;:&quot;CE&quot;,&quot;dayOfYear&quot;:54,&quot;leapYear&quot;:false,&quot;monthValue&quot;:2,&quot;chronology&quot;:{&quot;id&quot;:&quot;ISO&quot;,&quot;calendarType&quot;:&quot;iso8601&quot;}},&quot;enddate&quot;:{&quot;year&quot;:2019,&quot;month&quot;:&quot;MARCH&quot;,&quot;dayOfMonth&quot;:1,&quot;dayOfWeek&quot;:&quot;FRIDAY&quot;,&quot;era&quot;:&quot;CE&quot;,&quot;dayOfYear&quot;:60,&quot;leapYear&quot;:false,&quot;monthValue&quot;:3,&quot;chronology&quot;:{&quot;id&quot;:&quot;ISO&quot;,&quot;calendarType&quot;:&quot;iso8601&quot;}}},[Content-Type:&quot;application/json&quot;]&gt;\r\n \r\n\r\n\r\n  [1]: https://thoughts-on-java.org/persist-localdate-localdatetime-jpa/","title":"How to persist LocalDate with JPA?","body":"<p>I want to store Date without time into my database. So, I choose to use <code>LocalDate</code> type.</p>\n<p>As mentioned in this article: <a href=\"https://thoughts-on-java.org/persist-localdate-localdatetime-jpa/\" rel=\"nofollow noreferrer\">How to persist LocalDate and LocalDateTime with JPA <strong>2.1</strong></a>, I use a JPA converter to convert <code>LocalDate</code> to <code>Date</code>.</p>\n<p>However, I have some troubles when I want to persist my entity (with POST and PUT requests).</p>\n<p><strong>Error</strong></p>\n<pre><code>2019-02-23 11:26:30.254  WARN 2720 --- [-auto-1-exec-10] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Expected array or string.; nested exception is com.fasterxml.jackson.databind.exc.MismatchedInputException: Expected array or string.\n at [Source: (PushbackInputStream); line: 1, column: 104] (through reference chain: ...entity.MyObject[&quot;startdate&quot;])]\n\norg.springframework.http.converter.HttpMessageConversionException: Type definition error: [simple type, class org.springframework.http.ResponseEntity]; nested exception is com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Cannot construct instance of `org.springframework.http.ResponseEntity` (no Creators, like default construct, exist): cannot deserialize from Object value (no delegate- or property-based Creator)\n at [Source: (PushbackInputStream); line: 1, column: 2]\n</code></pre>\n<p><strong>Code</strong></p>\n<p><em>Converter</em></p>\n<pre><code>package ...entity;\n\nimport javax.persistence.AttributeConverter;\nimport javax.persistence.Converter;\nimport java.time.LocalDate;\nimport java.sql.Date;\n\n@Converter(autoApply = true)\npublic class LocalDateAttributeConverter implements AttributeConverter&lt;LocalDate, Date&gt; {\n\n    @Override\n    public Date convertToDatabaseColumn(LocalDate locDate) {\n        return (locDate == null ? null : Date.valueOf(locDate));\n    }\n\n    @Override\n    public LocalDate convertToEntityAttribute(Date sqlDate) {\n        return (sqlDate == null ? null : sqlDate.toLocalDate());\n    }\n}\n</code></pre>\n<p><em>Entity</em></p>\n<pre><code>package ...entity;\n\nimport org.hibernate.annotations.ColumnDefault;\n\nimport javax.persistence.*;\nimport java.time.LocalDate;\nimport java.util.HashSet;\nimport java.util.Set;\n\n@Entity\npublic class MyObject {\n\n    @Id\n    private String id;\n    private LocalDate startdate;\n    private LocalDate enddate;\n\n    public MyObject() {}\n\n    public MyObject(LocalDate enddate) {\n        this.startdate = LocalDate.now();\n        this.enddate = enddate;\n    }\n\n    ...\n}\n</code></pre>\n<p><em>&quot;Main&quot;</em></p>\n<pre><code>private DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&quot;);\nMyObject myobject = new MyObject(LocalDate.parse(&quot;2019-03-01&quot;, formatter));\n</code></pre>\n<p>Thanks for help.</p>\n<p><strong>EDIT 1 : Print of MyObject</strong></p>\n<pre><code> HttpHeaders headers = new HttpHeaders();\n headers.setContentType(MediaType.APPLICATION_JSON);\n HttpEntity&lt;String&gt; entity = new HttpEntity&lt;&gt;(this.toJsonString(myObject), headers);\n System.out.println(entity.toString());\n\n // &lt;{&quot;id&quot;:&quot;ba6649e4-6e65-4f54-8f1a-f8fc7143b05a&quot;,&quot;startdate&quot;:{&quot;year&quot;:2019,&quot;month&quot;:&quot;FEBRUARY&quot;,&quot;dayOfMonth&quot;:23,&quot;dayOfWeek&quot;:&quot;SATURDAY&quot;,&quot;era&quot;:&quot;CE&quot;,&quot;dayOfYear&quot;:54,&quot;leapYear&quot;:false,&quot;monthValue&quot;:2,&quot;chronology&quot;:{&quot;id&quot;:&quot;ISO&quot;,&quot;calendarType&quot;:&quot;iso8601&quot;}},&quot;enddate&quot;:{&quot;year&quot;:2019,&quot;month&quot;:&quot;MARCH&quot;,&quot;dayOfMonth&quot;:1,&quot;dayOfWeek&quot;:&quot;FRIDAY&quot;,&quot;era&quot;:&quot;CE&quot;,&quot;dayOfYear&quot;:60,&quot;leapYear&quot;:false,&quot;monthValue&quot;:3,&quot;chronology&quot;:{&quot;id&quot;:&quot;ISO&quot;,&quot;calendarType&quot;:&quot;iso8601&quot;}}},[Content-Type:&quot;application/json&quot;]&gt;\n</code></pre>\n"},{"tags":["java","mysql","spring","hibernate","stored-procedures"],"answers":[{"tags":[],"owner":{"account_id":6018528,"reputation":3054,"user_id":4726477,"accept_rate":83,"display_name":"Master Mind"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1431482277,"creation_date":1431482277,"answer_id":30204353,"question_id":30202490,"body_markdown":"It&#39;s related to the correction of [HHH-8740][1] :\r\n\r\n&gt; In some cases, the database metadata is incorrect (i.e., says something is not supported, when it actually is supported). In this case it would be preferable to simply log a warning. If it turns out that named parameters really are not supported, then a SQLException will be thrown later when the named parameter is bound to the SQL statement.\r\n\r\nSo, the warning warn you from calling a method that queries metadata on named parameters.\r\n\r\n  [1]: https://hibernate.atlassian.net/browse/HHH-8740","title":"Java - Hibernate calling a MySql Stored Procedure - Warning Message","body":"<p>It's related to the correction of <a href=\"https://hibernate.atlassian.net/browse/HHH-8740\" rel=\"nofollow\">HHH-8740</a> :</p>\n\n<blockquote>\n  <p>In some cases, the database metadata is incorrect (i.e., says something is not supported, when it actually is supported). In this case it would be preferable to simply log a warning. If it turns out that named parameters really are not supported, then a SQLException will be thrown later when the named parameter is bound to the SQL statement.</p>\n</blockquote>\n\n<p>So, the warning warn you from calling a method that queries metadata on named parameters.</p>\n"},{"tags":[],"owner":{"account_id":28961170,"reputation":1,"user_id":22183613,"display_name":"fouziya shaikh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688661732,"creation_date":1688661732,"answer_id":76630937,"question_id":30202490,"body_markdown":"\r\n\t\tSession session=HibernateUtil.getSessionFactory().openSession();\r\n\t\tTransaction tx=session.beginTransaction();\r\n\t\t\r\n\t\tSystem.out.println(&quot;Enter Id:&quot;);\r\n\t\tint id=sc.nextInt();\r\n\t\t\r\n\t\tStoredProcedureQuery query=session.createStoredProcedureCall(&quot;Delete&quot;,Employee.class);\r\n\t\tquery.registerStoredProcedureParameter(&quot;id&quot;, Integer.class, ParameterMode.IN);\r\n\t\t\r\n\t\tquery.setParameter(&quot;id&quot;,sc.nextInt());\r\n\t\tquery.executeUpdate();\r\n\t\ttx.commit();\r\n\t\t","title":"Java - Hibernate calling a MySql Stored Procedure - Warning Message","body":"<pre><code>    Session session=HibernateUtil.getSessionFactory().openSession();\n    Transaction tx=session.beginTransaction();\n    \n    System.out.println(&quot;Enter Id:&quot;);\n    int id=sc.nextInt();\n    \n    StoredProcedureQuery query=session.createStoredProcedureCall(&quot;Delete&quot;,Employee.class);\n    query.registerStoredProcedureParameter(&quot;id&quot;, Integer.class, ParameterMode.IN);\n    \n    query.setParameter(&quot;id&quot;,sc.nextInt());\n    query.executeUpdate();\n    tx.commit();\n    \n</code></pre>\n"}],"owner":{"account_id":6830,"reputation":4131,"user_id":11612,"accept_rate":92,"display_name":"Damien"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5368,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":30204353,"answer_count":2,"score":2,"last_activity_date":1688661732,"creation_date":1431469552,"question_id":30202490,"body_markdown":"I have a Java project where I call a stored procedure using hibernate.\r\n\r\nHere is sample code I am using\r\n\r\n      public String findCloudName(Long cloudId) {\r\n            LOG.info(&quot;Entered findCloudName Method - cloudId:{}&quot;, cloudId);\r\n    \r\n            String cloudName  = null;\r\n            ProcedureCall  procedureCall = currentSession().createStoredProcedureCall(&quot;p_getCloudDetails&quot;);\r\n            procedureCall.registerParameter( &quot;cloudId&quot;, Long.class, ParameterMode.IN ).bindValue( cloudId );\r\n            procedureCall.registerParameter( &quot;cloudName&quot;, String.class, ParameterMode.OUT );\r\n            \r\n            ProcedureOutputs  outputs = procedureCall.getOutputs();\r\n    \r\n            cloudName = (String) outputs.getOutputParameterValue( &quot;cloudName&quot; );\r\n            \r\n            LOG.info(&quot;Exiting findCloudName Method - cloudName:{}&quot;, cloudName);\r\n            return cloudName; \r\n        }\r\n\r\nThis works fine and results the expected results.\r\nHowever It leaves the following message in my logs\r\n\r\n    [WARN] [320]org.hibernate.procedure.internal.ProcedureCallImpl[prepareForNamedParameters]  - HHH000456: Named parameters are used for a callable statement, but database metadata indicates named parameters are not supported.\r\n\r\nI was looking through websites and the source code of hibernate to try and figure out how to get rid of this warning\r\n\r\nAny help is greatly appreciated\r\n\r\nCheers\r\nDamien","title":"Java - Hibernate calling a MySql Stored Procedure - Warning Message","body":"<p>I have a Java project where I call a stored procedure using hibernate.</p>\n\n<p>Here is sample code I am using</p>\n\n<pre><code>  public String findCloudName(Long cloudId) {\n        LOG.info(\"Entered findCloudName Method - cloudId:{}\", cloudId);\n\n        String cloudName  = null;\n        ProcedureCall  procedureCall = currentSession().createStoredProcedureCall(\"p_getCloudDetails\");\n        procedureCall.registerParameter( \"cloudId\", Long.class, ParameterMode.IN ).bindValue( cloudId );\n        procedureCall.registerParameter( \"cloudName\", String.class, ParameterMode.OUT );\n\n        ProcedureOutputs  outputs = procedureCall.getOutputs();\n\n        cloudName = (String) outputs.getOutputParameterValue( \"cloudName\" );\n\n        LOG.info(\"Exiting findCloudName Method - cloudName:{}\", cloudName);\n        return cloudName; \n    }\n</code></pre>\n\n<p>This works fine and results the expected results.\nHowever It leaves the following message in my logs</p>\n\n<pre><code>[WARN] [320]org.hibernate.procedure.internal.ProcedureCallImpl[prepareForNamedParameters]  - HHH000456: Named parameters are used for a callable statement, but database metadata indicates named parameters are not supported.\n</code></pre>\n\n<p>I was looking through websites and the source code of hibernate to try and figure out how to get rid of this warning</p>\n\n<p>Any help is greatly appreciated</p>\n\n<p>Cheers\nDamien</p>\n"},{"tags":["java","android","batterymanager"],"answers":[{"tags":[],"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1688661641,"creation_date":1688661641,"answer_id":76630923,"question_id":76630868,"body_markdown":"That&#39;s not going to work.  First off, you&#39;re going to have rounding errors.  None of this stuff is exact.  Secondly, you&#39;re assuming that the capacity of the battery as reported by the manufacturer and the capacity of the battery Android treats as 100% are the same.  They may be, but they don&#39;t have to be- Android might decide to treat 90% of battery as full, so it has the remaining 10% for emergency power/shutdown/battery maintenance (some batteries are physically harmed if actually run to 0).  Or it may reserve power to account for environmental conditions (batteries work differently depending on temperature, for example).  4900 from the manufacturer is the maximum amount of charge under optimal conditions, not an actual useful number.  Its only value is in direct comparison to another battery of the same technology.","title":"How to Calculate Android Device Battery Capacity?","body":"<p>That's not going to work.  First off, you're going to have rounding errors.  None of this stuff is exact.  Secondly, you're assuming that the capacity of the battery as reported by the manufacturer and the capacity of the battery Android treats as 100% are the same.  They may be, but they don't have to be- Android might decide to treat 90% of battery as full, so it has the remaining 10% for emergency power/shutdown/battery maintenance (some batteries are physically harmed if actually run to 0).  Or it may reserve power to account for environmental conditions (batteries work differently depending on temperature, for example).  4900 from the manufacturer is the maximum amount of charge under optimal conditions, not an actual useful number.  Its only value is in direct comparison to another battery of the same technology.</p>\n"}],"owner":{"account_id":28964392,"reputation":1,"user_id":22186208,"display_name":"Ayan Roy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":101,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1688661641,"creation_date":1688661031,"question_id":76630868,"body_markdown":"Currently, I am working on an Android project for which I need to get the device&#39;s Battery Capacity. This function retrieves battery percentage and remaining battery current from BatteryManager and then calculates Maximum capacity (mAh). But I need to get the Battery capacity that the manufacturer claims.\r\n\r\nExample: \r\n\r\n&gt; My device&#39;s battery capacity is 4900 mAh (As per the manufacturer),\r\n&gt; but this function returns 4600 mAh. I need to get that 4900 mAh.\r\n\r\n\r\n\r\n    public long getBatteryCapacity(Context context) {\r\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.LOLLIPOP) {            \r\n            BatteryManager mBatteryManager = (BatteryManager) context.getSystemService(Context.BATTERY_SERVICE);\r\n            \r\n            Long chargeCounter = mBatteryManager.getLongProperty(BatteryManager.BATTERY_PROPERTY_CHARGE_COUNTER);\r\n            Long capacity = mBatteryManager.getLongProperty(BatteryManager.BATTERY_PROPERTY_CAPACITY);\r\n    \r\n            if (chargeCounter != null &amp;&amp; capacity != null) {\r\n                long value = (long) (((float) chargeCounter / (float) capacity) * 100f);\r\n                return value;\r\n            }\r\n        }\r\n        return -1;\r\n    }","title":"How to Calculate Android Device Battery Capacity?","body":"<p>Currently, I am working on an Android project for which I need to get the device's Battery Capacity. This function retrieves battery percentage and remaining battery current from BatteryManager and then calculates Maximum capacity (mAh). But I need to get the Battery capacity that the manufacturer claims.</p>\n<p>Example:</p>\n<blockquote>\n<p>My device's battery capacity is 4900 mAh (As per the manufacturer),\nbut this function returns 4600 mAh. I need to get that 4900 mAh.</p>\n</blockquote>\n<pre><code>public long getBatteryCapacity(Context context) {\n    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.LOLLIPOP) {            \n        BatteryManager mBatteryManager = (BatteryManager) context.getSystemService(Context.BATTERY_SERVICE);\n        \n        Long chargeCounter = mBatteryManager.getLongProperty(BatteryManager.BATTERY_PROPERTY_CHARGE_COUNTER);\n        Long capacity = mBatteryManager.getLongProperty(BatteryManager.BATTERY_PROPERTY_CAPACITY);\n\n        if (chargeCounter != null &amp;&amp; capacity != null) {\n            long value = (long) (((float) chargeCounter / (float) capacity) * 100f);\n            return value;\n        }\n    }\n    return -1;\n}\n</code></pre>\n"},{"tags":["java","linked-list"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":1,"creation_date":1688661201,"post_id":76630823,"comment_id":135107112,"body_markdown":"PLease take care of java naming conventions. Class names should start with upper case character","body":"PLease take care of java naming conventions. Class names should start with upper case character"}],"answers":[{"tags":[],"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688660848,"creation_date":1688660848,"answer_id":76630842,"question_id":76630823,"body_markdown":"Your class `reversellusingiteration` has two problems. The `static Node head;` should not be `static`. And it is **not** named `LinkedList`. So you need to change\r\n\r\n    LinkedList list=new LinkedList();\r\n\r\nto\r\n\r\n    reversellusingiteration list = new reversellusingiteration();","title":"Hello. I am new to java and stuck at Linked List reverse problem and don&#39;t know how to solve it","body":"<p>Your class <code>reversellusingiteration</code> has two problems. The <code>static Node head;</code> should not be <code>static</code>. And it is <strong>not</strong> named <code>LinkedList</code>. So you need to change</p>\n<pre><code>LinkedList list=new LinkedList();\n</code></pre>\n<p>to</p>\n<pre><code>reversellusingiteration list = new reversellusingiteration();\n</code></pre>\n"}],"owner":{"account_id":27575151,"reputation":11,"user_id":21045538,"display_name":"stranger1234"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1688661170,"answer_count":1,"score":-1,"last_activity_date":1688661221,"creation_date":1688660660,"question_id":76630823,"body_markdown":"It&#39;s showing some kind to error at head &quot;Cannot resolve symbol &#39;head&#39; &quot;.\r\n\r\n    import java.util.LinkedList;\r\n    \r\n    public class reversellusingiteration {\r\n        static Node head;\r\n    \r\n        static class Node{\r\n            int data;\r\n            Node next;\r\n            Node(int d) {\r\n                this.data = d;\r\n                this.next = null;\r\n            }\r\n        }\r\n    \r\n        Node reverse(Node node){\r\n            Node curr=node;\r\n            Node prev=null;\r\n            while(curr!=null){\r\n                Node temp=curr.next;\r\n                curr.next=prev;\r\n                prev=curr;\r\n                curr=temp;\r\n            }\r\n            return prev;\r\n        }\r\n        public static void main(String[] args) {\r\n            LinkedList list=new LinkedList();\r\n            list.head =new Node(90); //here is the problem\r\n            list.head.next=new Node(78);\r\n        }\r\n    }\r\n\r\nPlease someone help me with this ","title":"Hello. I am new to java and stuck at Linked List reverse problem and don&#39;t know how to solve it","body":"<p>It's showing some kind to error at head &quot;Cannot resolve symbol 'head' &quot;.</p>\n<pre><code>import java.util.LinkedList;\n\npublic class reversellusingiteration {\n    static Node head;\n\n    static class Node{\n        int data;\n        Node next;\n        Node(int d) {\n            this.data = d;\n            this.next = null;\n        }\n    }\n\n    Node reverse(Node node){\n        Node curr=node;\n        Node prev=null;\n        while(curr!=null){\n            Node temp=curr.next;\n            curr.next=prev;\n            prev=curr;\n            curr=temp;\n        }\n        return prev;\n    }\n    public static void main(String[] args) {\n        LinkedList list=new LinkedList();\n        list.head =new Node(90); //here is the problem\n        list.head.next=new Node(78);\n    }\n}\n</code></pre>\n<p>Please someone help me with this</p>\n"},{"tags":["java","postgresql","hibernate","spring-data-jpa","zoneddatetime"],"answers":[{"tags":[],"owner":{"account_id":6453880,"reputation":1,"user_id":4999961,"display_name":"Drazev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688660396,"creation_date":1688659430,"answer_id":76630668,"question_id":76623614,"body_markdown":"After further debugging I did confirm that spring does load the new module into the ObjectMapper.\r\n\r\nThis lead me to find that the problem actually was sourced from another object mapper created to do some logging. I resolved this by having it autowire ObjectMapper instance from the spring context instead of creating a local version. Alternatively you could have it load the modules via its builder for the local instance.\r\n\r\nI also found an interesting conclusion.\r\n\r\nThe module jackson-datatype-jsr310 is now considered legacy. The JavaTime module was included into Jackson core but is not auto registered. This can be found in official documentation [here][1].\r\n\r\n&gt; Note that as of 2.6, this module does NOT support auto-registration, because of existence of legacy version, JSR310Module. Legacy version has the same functionality, but slightly different default configuration: see JSR310Module for details.\r\n\r\n  [1]: https://fasterxml.github.io/jackson-modules-java8/javadoc/datetime/2.9/com/fasterxml/jackson/datatype/jsr310/JavaTimeModule.html","title":"How do I properly configure Spring boot to use java.time.ZonedDateTime for persistance with postgresql?","body":"<p>After further debugging I did confirm that spring does load the new module into the ObjectMapper.</p>\n<p>This lead me to find that the problem actually was sourced from another object mapper created to do some logging. I resolved this by having it autowire ObjectMapper instance from the spring context instead of creating a local version. Alternatively you could have it load the modules via its builder for the local instance.</p>\n<p>I also found an interesting conclusion.</p>\n<p>The module jackson-datatype-jsr310 is now considered legacy. The JavaTime module was included into Jackson core but is not auto registered. This can be found in official documentation <a href=\"https://fasterxml.github.io/jackson-modules-java8/javadoc/datetime/2.9/com/fasterxml/jackson/datatype/jsr310/JavaTimeModule.html\" rel=\"nofollow noreferrer\">here</a>.</p>\n<blockquote>\n<p>Note that as of 2.6, this module does NOT support auto-registration, because of existence of legacy version, JSR310Module. Legacy version has the same functionality, but slightly different default configuration: see JSR310Module for details.</p>\n</blockquote>\n"}],"owner":{"account_id":6453880,"reputation":1,"user_id":4999961,"display_name":"Drazev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":204,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1688660396,"creation_date":1688586526,"question_id":76623614,"body_markdown":"I am working on upgrading an existing microservice and extending the database with some new features. \r\n\r\nI upgraded the program to use Spring 3.0.6 which uses hibernate 6.1.7. The database I&#39;m using is postgresl testcontainers 1.18.1.\r\n\r\nWhen I attempt to run my program it crashes when attempting to persist the data in the database. The error it provides is as follows...\r\n\r\n```\r\njava.lang.RuntimeException: com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Java 8 date/time type `java.time.ZonedDateTime` not supported by default: add Module &quot;com.fasterxml.jackson.datatype:jackson-datatype-jsr310&quot; to enable handling ...\r\n```\r\n\r\nWhen I looked into the issue I did verify that \r\n- Postgresql supports Zoned Timestmaps\r\n- Hibernate 6 supports `ZonedDateTime`\r\n\r\nHere are some snips from the project.\r\n\r\npom.xml\r\n\r\n```\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.0.6&lt;/version&gt;\r\n\t&lt;/parent&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;spring-boot-starter-mail&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\t\t\r\n\t\t\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.ldap&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-ldap-core&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-security-ldap&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.fasterxml.jackson.dataformat&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jackson-dataformat-csv&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!--\tJava 8 Date/time\t--&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jackson-datatype-jsr310&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n```\r\n\r\n\r\n```java\r\n@Entity\r\n@Table(name=&quot;billable_Data&quot;,schema=&quot;mySchema&quot;)\r\n@Getter\r\n@Setter\r\n@Builder\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\npublic class BillableMetric {\r\n\r\n    @Id\r\n    UUID guid;\r\n\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    CustomerInvoice invoice;\r\n\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    CustomerRecord billingAccount;\r\n\r\n    @OneToOne(fetch = FetchType.LAZY)\r\n    CatalogueItem skuItem;\r\n\r\n    @Column(name=&quot;dataSourceIdentifier&quot;)\r\n    BillableMetricDataSource dataSource;\r\n\r\n    Double quantity;\r\n\r\n    String unitType;\r\n\r\n    ZonedDateTime startTimeInclusive;\r\n\r\n    ZonedDateTime endTimeExclusive;\r\n}\r\n```\r\n\r\nTable Schema\r\n\r\n```sql\r\nCREATE TABLE mySchema.billable_Data (\r\n    guid uuid  NOT NULL DEFAULT mySchema.gen_random_uuid(),\r\n    invoice bigserial,\r\n    billingAccount uuid, -- Can be null since one possible error is the billing account cannot be found\r\n    skuItem bigserial, -- Can be null since one possible error is the sku is not valid.\r\n    dataSource numeric NOT NULL, --Should be an enum that is associated to a MetricReading Table\r\n    quantity numeric,\r\n    unitType varchar(100),\r\n    startTimeInclusive timestamp ,\r\n    endTimeExclusive timestamp ,\r\n    CONSTRAINT guid_is_pk PRIMARY KEY (guid),\r\n    CONSTRAINT invoice_is_fk FOREIGN KEY (invoice) REFERENCES mySchema.customer_invoice(id),\r\n    CONSTRAINT billable_data_sku_is_fk FOREIGN KEY (skuItem) REFERENCES mySchema.catalog_item(id),\r\n    CONSTRAINT billable_data_billing_account_is_fk FOREIGN KEY (billingAccount)  REFERENCES mySchema.customer(guid)\r\n);\r\n```\r\n\r\nWhat I have read is that if I include jackson-datatype-jsr310 into the project then spring should automatically configure the jackson object mapper to use that module. I would like to use this behavior if possible rather than customizing the object mapper through other means.\r\n\r\nI looked up some possible solutions and tried them. The things I tried were\r\n1. Adding the `com.fasterxml.jackson.datatype:jackson-datatype-jsr310` dependency\r\n2. Adding the `@TimeZoneStorage` to the `@Entity` class on the attribute that uses `ZonedDateTime`\r\n3. Adding `spring.jackson.serialization.write_dates_as_timestamps=true` to `application.properties`\r\n\r\nNone of the solutions seemed to resolve the error. I am suspicious of solution (2) because I suspect that was replaced by Hibernate 6&#39;s behavior where it automatically chooses the right conversion based on the database and java type. Solution (3) also makes me suspicious because it seems to be defining a behavior that is now expected to be automated with hibernate 6 and could potentially cause problems.","title":"How do I properly configure Spring boot to use java.time.ZonedDateTime for persistance with postgresql?","body":"<p>I am working on upgrading an existing microservice and extending the database with some new features.</p>\n<p>I upgraded the program to use Spring 3.0.6 which uses hibernate 6.1.7. The database I'm using is postgresl testcontainers 1.18.1.</p>\n<p>When I attempt to run my program it crashes when attempting to persist the data in the database. The error it provides is as follows...</p>\n<pre><code>java.lang.RuntimeException: com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Java 8 date/time type `java.time.ZonedDateTime` not supported by default: add Module &quot;com.fasterxml.jackson.datatype:jackson-datatype-jsr310&quot; to enable handling ...\n</code></pre>\n<p>When I looked into the issue I did verify that</p>\n<ul>\n<li>Postgresql supports Zoned Timestmaps</li>\n<li>Hibernate 6 supports <code>ZonedDateTime</code></li>\n</ul>\n<p>Here are some snips from the project.</p>\n<p>pom.xml</p>\n<pre><code>    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.6&lt;/version&gt;\n    &lt;/parent&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-mail&lt;/artifactId&gt;\n        &lt;/dependency&gt;       \n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.ldap&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-ldap-core&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-ldap&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.dataformat&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-dataformat-csv&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;!--    Java 8 Date/time    --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-datatype-jsr310&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table(name=&quot;billable_Data&quot;,schema=&quot;mySchema&quot;)\n@Getter\n@Setter\n@Builder\n@AllArgsConstructor\n@NoArgsConstructor\npublic class BillableMetric {\n\n    @Id\n    UUID guid;\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    CustomerInvoice invoice;\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    CustomerRecord billingAccount;\n\n    @OneToOne(fetch = FetchType.LAZY)\n    CatalogueItem skuItem;\n\n    @Column(name=&quot;dataSourceIdentifier&quot;)\n    BillableMetricDataSource dataSource;\n\n    Double quantity;\n\n    String unitType;\n\n    ZonedDateTime startTimeInclusive;\n\n    ZonedDateTime endTimeExclusive;\n}\n</code></pre>\n<p>Table Schema</p>\n<pre class=\"lang-sql prettyprint-override\"><code>CREATE TABLE mySchema.billable_Data (\n    guid uuid  NOT NULL DEFAULT mySchema.gen_random_uuid(),\n    invoice bigserial,\n    billingAccount uuid, -- Can be null since one possible error is the billing account cannot be found\n    skuItem bigserial, -- Can be null since one possible error is the sku is not valid.\n    dataSource numeric NOT NULL, --Should be an enum that is associated to a MetricReading Table\n    quantity numeric,\n    unitType varchar(100),\n    startTimeInclusive timestamp ,\n    endTimeExclusive timestamp ,\n    CONSTRAINT guid_is_pk PRIMARY KEY (guid),\n    CONSTRAINT invoice_is_fk FOREIGN KEY (invoice) REFERENCES mySchema.customer_invoice(id),\n    CONSTRAINT billable_data_sku_is_fk FOREIGN KEY (skuItem) REFERENCES mySchema.catalog_item(id),\n    CONSTRAINT billable_data_billing_account_is_fk FOREIGN KEY (billingAccount)  REFERENCES mySchema.customer(guid)\n);\n</code></pre>\n<p>What I have read is that if I include jackson-datatype-jsr310 into the project then spring should automatically configure the jackson object mapper to use that module. I would like to use this behavior if possible rather than customizing the object mapper through other means.</p>\n<p>I looked up some possible solutions and tried them. The things I tried were</p>\n<ol>\n<li>Adding the <code>com.fasterxml.jackson.datatype:jackson-datatype-jsr310</code> dependency</li>\n<li>Adding the <code>@TimeZoneStorage</code> to the <code>@Entity</code> class on the attribute that uses <code>ZonedDateTime</code></li>\n<li>Adding <code>spring.jackson.serialization.write_dates_as_timestamps=true</code> to <code>application.properties</code></li>\n</ol>\n<p>None of the solutions seemed to resolve the error. I am suspicious of solution (2) because I suspect that was replaced by Hibernate 6's behavior where it automatically chooses the right conversion based on the database and java type. Solution (3) also makes me suspicious because it seems to be defining a behavior that is now expected to be automated with hibernate 6 and could potentially cause problems.</p>\n"},{"tags":["java","multithreading","concurrency","mapreduce","reactor"],"comments":[{"owner":{"account_id":65386,"reputation":39895,"user_id":192444,"accept_rate":100,"display_name":"John Vint"},"score":0,"creation_date":1421354605,"post_id":27971274,"comment_id":44337891,"body_markdown":"Just curious, is there a particular reason you are not using the ForkJoin framework for this?","body":"Just curious, is there a particular reason you are not using the ForkJoin framework for this?"},{"owner":{"account_id":176459,"reputation":18762,"user_id":407170,"accept_rate":88,"display_name":"Les Hazlewood"},"score":0,"creation_date":1421358153,"post_id":27971274,"comment_id":44339727,"body_markdown":"@JohnVint Reactor provides a fairly comprehensive API for all sorts of streaming behavior in addition to map/reduce aka fork/join.  We&#39;ll be leveraging these other things in our app in various places, so it helps to &#39;standardize&#39; on a common framework with shared taxonomy so that the overall codebase is more cohesive/maintainable.","body":"@JohnVint Reactor provides a fairly comprehensive API for all sorts of streaming behavior in addition to map/reduce aka fork/join.  We&#39;ll be leveraging these other things in our app in various places, so it helps to &#39;standardize&#39; on a common framework with shared taxonomy so that the overall codebase is more cohesive/maintainable."}],"answers":[{"tags":[],"owner":{"account_id":180078,"reputation":1299,"user_id":413159,"accept_rate":33,"display_name":"Jon Brisbin"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1688660259,"creation_date":1421354839,"answer_id":27972689,"question_id":27971274,"body_markdown":"It&#39;s actually pretty easy now with Reactor 2.0. You could do something like this:\r\n\r\n```java\r\nList&lt;Map&lt;String, Object&gt;&gt; data = readData(); // &lt;1&gt;\r\n\r\nStreams.from(data)\r\n    .flatMap(m -&gt; Streams.just(m)\r\n                            .dispatchOn(Environment.cachedDispatcher()) // &lt;2&gt;\r\n                            .map(ignored -&gt; Thread.currentThread().getName()))\r\n       .buffer() // &lt;3&gt;\r\n\t   .consume(s -&gt; System.out.println(&quot;s: &quot; + s)); // &lt;4&gt;\r\n```\r\n\r\n1. Create a `Stream` based on the input data.\r\n2. Create a new `Stream` for each `Map` and dispatch map operations on the given `Dispatcher`.\r\n3. Buffer all values until complete, which will be sent downstream when collection is emptied.\r\n4. Consume List&lt;String&gt; which is the result of load-balanced transforms from the substream.\r\n","title":"How to perform multi-threaded map/reduce using Reactor framework 2.x?","body":"<p>It's actually pretty easy now with Reactor 2.0. You could do something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;Map&lt;String, Object&gt;&gt; data = readData(); // &lt;1&gt;\n\nStreams.from(data)\n    .flatMap(m -&gt; Streams.just(m)\n                            .dispatchOn(Environment.cachedDispatcher()) // &lt;2&gt;\n                            .map(ignored -&gt; Thread.currentThread().getName()))\n       .buffer() // &lt;3&gt;\n       .consume(s -&gt; System.out.println(&quot;s: &quot; + s)); // &lt;4&gt;\n</code></pre>\n<ol>\n<li>Create a <code>Stream</code> based on the input data.</li>\n<li>Create a new <code>Stream</code> for each <code>Map</code> and dispatch map operations on the given <code>Dispatcher</code>.</li>\n<li>Buffer all values until complete, which will be sent downstream when collection is emptied.</li>\n<li>Consume List which is the result of load-balanced transforms from the substream.</li>\n</ol>\n"}],"owner":{"account_id":176459,"reputation":18762,"user_id":407170,"accept_rate":88,"display_name":"Les Hazlewood"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":567,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":27972689,"answer_count":1,"score":3,"last_activity_date":1688660259,"creation_date":1421349485,"question_id":27971274,"body_markdown":"I previously asked [this question](https://stackoverflow.com/questions/22844717/how-do-you-execute-map-reduce-operations-with-the-reactor-framework) for Reactor 1.x:\r\n\r\n&gt; Let&#39;s say I have a `Collection&lt;Map&gt;`. I want to:\r\n&gt; \r\n&gt; Transform each `Map` instance to an object of type `Foo` concurrently (each instance is totally independent of another - there is no need to convert each serially/iteratively).\r\n&gt; \r\n&gt; When all of them are converted, I want a a method, `onReduce(Collection&lt;Foo&gt; foos)`, to be called - the argument contains all of the resulting `Foo` instances.\r\n\r\nBut we can&#39;t seem to find an equivalent solution for Reactor 2.x - just single threaded.\r\n\r\nHow do you perform multi-threaded map/reduce in Reactor 2.x?  For example, how might you do this with an ExecutorService-based Dispatcher?\r\n","title":"How to perform multi-threaded map/reduce using Reactor framework 2.x?","body":"<p>I previously asked <a href=\"https://stackoverflow.com/questions/22844717/how-do-you-execute-map-reduce-operations-with-the-reactor-framework\">this question</a> for Reactor 1.x:</p>\n\n<blockquote>\n  <p>Let's say I have a <code>Collection&lt;Map&gt;</code>. I want to:</p>\n  \n  <p>Transform each <code>Map</code> instance to an object of type <code>Foo</code> concurrently (each instance is totally independent of another - there is no need to convert each serially/iteratively).</p>\n  \n  <p>When all of them are converted, I want a a method, <code>onReduce(Collection&lt;Foo&gt; foos)</code>, to be called - the argument contains all of the resulting <code>Foo</code> instances.</p>\n</blockquote>\n\n<p>But we can't seem to find an equivalent solution for Reactor 2.x - just single threaded.</p>\n\n<p>How do you perform multi-threaded map/reduce in Reactor 2.x?  For example, how might you do this with an ExecutorService-based Dispatcher?</p>\n"},{"tags":["java","csv","opencsv"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1688660932,"post_id":76630727,"comment_id":135107069,"body_markdown":"Are the colums orderded? if yes you can use the position binding","body":"Are the colums orderded? if yes you can use the position binding"},{"owner":{"account_id":16506411,"reputation":1143,"user_id":11926338,"display_name":"Pavel Petrashov"},"score":0,"creation_date":1688661934,"post_id":76630727,"comment_id":135107253,"body_markdown":"@Jens I use CsvBindByName because I need binding by name","body":"@Jens I use CsvBindByName because I need binding by name"},{"owner":{"account_id":14878684,"reputation":775,"user_id":10744028,"display_name":"Fizik26"},"score":0,"creation_date":1696851648,"post_id":76630727,"comment_id":136201659,"body_markdown":"@PavelPetrashov did you found a solution ? I have the same issue as you","body":"@PavelPetrashov did you found a solution ? I have the same issue as you"}],"owner":{"account_id":16506411,"reputation":1143,"user_id":11926338,"display_name":"Pavel Petrashov"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1688659933,"creation_date":1688659933,"question_id":76630727,"body_markdown":"I use opencsv\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.opencsv&lt;/groupId&gt;\r\n            &lt;artifactId&gt;opencsv&lt;/artifactId&gt;\r\n            &lt;version&gt;4.6&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\nAnd I have this class for mapping:\r\n\r\n    public class LineDto {\r\n    \r\n        @CsvBindByName(column = &quot;First name&quot;, required = true)\r\n        private String firstName;\r\n    \r\n        //getters setters\r\n    \r\n    }\r\n\r\nI need to prevent some user mistakes and if user uplods CSV file where header is `&quot; First name &quot;` it should be OK. For now, I get this error:\r\n\r\n    Caused by: com.opencsv.exceptions.CsvRequiredFieldEmptyException: Header is missing required fields [FIRST NAME, ...]. The list of headers encountered is [ First name ,...].\r\n\r\nHow can I trim headers or improve mapping to support those spaces?\r\n\r\n","title":"Trim spaces in headers when use @CsvBindByName annotation","body":"<p>I use opencsv</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;com.opencsv&lt;/groupId&gt;\n        &lt;artifactId&gt;opencsv&lt;/artifactId&gt;\n        &lt;version&gt;4.6&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>And I have this class for mapping:</p>\n<pre><code>public class LineDto {\n\n    @CsvBindByName(column = &quot;First name&quot;, required = true)\n    private String firstName;\n\n    //getters setters\n\n}\n</code></pre>\n<p>I need to prevent some user mistakes and if user uplods CSV file where header is <code>&quot; First name &quot;</code> it should be OK. For now, I get this error:</p>\n<pre><code>Caused by: com.opencsv.exceptions.CsvRequiredFieldEmptyException: Header is missing required fields [FIRST NAME, ...]. The list of headers encountered is [ First name ,...].\n</code></pre>\n<p>How can I trim headers or improve mapping to support those spaces?</p>\n"},{"tags":["java","sql-server","ssl","jdbc","jtds"],"comments":[{"owner":{"account_id":2460030,"reputation":118378,"user_id":2144390,"accept_rate":100,"display_name":"Gord Thompson"},"score":0,"creation_date":1474742286,"post_id":39677960,"comment_id":66659706,"body_markdown":"For jTDS, the default is `ssl=off`. Try adding `ssl=request` or `ssl=require` to the end of your jTDS connection URL. (jTDS has a [long-standing issue with SSL connections](https://sourceforge.net/p/jtds/bugs/725/) and neither of those worked for me, but I didn&#39;t go downloading patched JAR files or anything like that.) As for Microsoft&#39;s JDBC driver, it is not officially supported on Mac OS (as per &quot;System Requirements listed [here](https://www.microsoft.com/en-us/download/details.aspx?displaylang=en&amp;id=11774)).","body":"For jTDS, the default is <code>ssl=off</code>. Try adding <code>ssl=request</code> or <code>ssl=require</code> to the end of your jTDS connection URL. (jTDS has a <a href=\"https://sourceforge.net/p/jtds/bugs/725/\" rel=\"nofollow noreferrer\">long-standing issue with SSL connections</a> and neither of those worked for me, but I didn&#39;t go downloading patched JAR files or anything like that.) As for Microsoft&#39;s JDBC driver, it is not officially supported on Mac OS (as per &quot;System Requirements listed <a href=\"https://www.microsoft.com/en-us/download/details.aspx?displaylang=en&amp;id=11774\" rel=\"nofollow noreferrer\">here</a>)."},{"owner":{"account_id":7518954,"reputation":530,"user_id":5711524,"accept_rate":84,"display_name":"Mees Kluivers"},"score":0,"creation_date":1474742804,"post_id":39677960,"comment_id":66659853,"body_markdown":"I will try this tomorrow . Thanks.","body":"I will try this tomorrow . Thanks."},{"owner":{"account_id":2460030,"reputation":118378,"user_id":2144390,"accept_rate":100,"display_name":"Gord Thompson"},"score":0,"creation_date":1474753541,"post_id":39677960,"comment_id":66662717,"body_markdown":"Also, since it appears that you are trying to connect to Azure, you should make sure that you are using a current version of the Microsoft JDBC driver. FWIW, I just tried the latest version of the Microsoft driver in &quot;sqljdbc_6.0.7507.100_enu.tar.gz&quot; and it worked just fine over SSL from a Ubuntu 16.04 LTS box. Even though macOS may not be officially supported, a web search uncovered a number of claims that the Microsoft JDBC can (or at least *used to*) work on Macs, e.g., [here](http://razorsql.com/articles/sql_server_mac.html).","body":"Also, since it appears that you are trying to connect to Azure, you should make sure that you are using a current version of the Microsoft JDBC driver. FWIW, I just tried the latest version of the Microsoft driver in &quot;sqljdbc_6.0.7507.100_enu.tar.gz&quot; and it worked just fine over SSL from a Ubuntu 16.04 LTS box. Even though macOS may not be officially supported, a web search uncovered a number of claims that the Microsoft JDBC can (or at least <i>used to</i>) work on Macs, e.g., <a href=\"http://razorsql.com/articles/sql_server_mac.html\" rel=\"nofollow noreferrer\">here</a>."},{"owner":{"account_id":7518954,"reputation":530,"user_id":5711524,"accept_rate":84,"display_name":"Mees Kluivers"},"score":0,"creation_date":1474753966,"post_id":39677960,"comment_id":66662828,"body_markdown":"@GordThompson i was fine a few days ago but this error started to randomly appear.. already tried reinstalling java etc. But no success... i will try a different network soon as I think it might be related to that. Thanks for your reply","body":"@GordThompson i was fine a few days ago but this error started to randomly appear.. already tried reinstalling java etc. But no success... i will try a different network soon as I think it might be related to that. Thanks for your reply"},{"owner":{"account_id":2779202,"reputation":3606,"user_id":2392087,"display_name":"yxre"},"score":0,"creation_date":1474961379,"post_id":39677960,"comment_id":66734709,"body_markdown":"Do you have a SQL server installed in a VM on your mac laptop or is it a different database server on your home network? Are you accessing the database across a VPN? Can you give any details on the network? What version of SQL server are you using? What version of java? I use the official microsoft driver with SQL Server 2008,2012, and I have similar errors, but it was probably not the same scenario. Sorry for all the questions.","body":"Do you have a SQL server installed in a VM on your mac laptop or is it a different database server on your home network? Are you accessing the database across a VPN? Can you give any details on the network? What version of SQL server are you using? What version of java? I use the official microsoft driver with SQL Server 2008,2012, and I have similar errors, but it was probably not the same scenario. Sorry for all the questions."},{"owner":{"account_id":7518954,"reputation":530,"user_id":5711524,"accept_rate":84,"display_name":"Mees Kluivers"},"score":0,"creation_date":1474961866,"post_id":39677960,"comment_id":66735054,"body_markdown":"@J-Bar java version: 1.8.0_10; SQL Server; Microsoft SQL Azure (RTM) - 12.0.2000.8","body":"@J-Bar java version: 1.8.0_10; SQL Server; Microsoft SQL Azure (RTM) - 12.0.2000.8"},{"owner":{"account_id":2779202,"reputation":3606,"user_id":2392087,"display_name":"yxre"},"score":0,"creation_date":1474962256,"post_id":39677960,"comment_id":66735297,"body_markdown":"If the only variable is the network, then that is probably where the problem is. I had this same error happen when the windows server went to install updates.","body":"If the only variable is the network, then that is probably where the problem is. I had this same error happen when the windows server went to install updates."},{"owner":{"account_id":7518954,"reputation":530,"user_id":5711524,"accept_rate":84,"display_name":"Mees Kluivers"},"score":0,"creation_date":1474985481,"post_id":39677960,"comment_id":66751250,"body_markdown":"But how does it even matter what network I am working on? I have no clue where to begin looking :/","body":"But how does it even matter what network I am working on? I have no clue where to begin looking :/"}],"answers":[{"tags":[],"owner":{"account_id":3670691,"reputation":1950,"user_id":3057983,"display_name":"JohnH"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1475513366,"creation_date":1475513366,"answer_id":39836553,"question_id":39677960,"body_markdown":"I suspect that when your laptop is on a &quot;different network&quot; that it is then inside the firewall that is also protecting the database servers you are connecting to. Hence, there is no problem making the database connections for this case.\r\n\r\nYour &quot;network at home&quot; I presume is outside of the firewall protecting the database servers that you are trying to connect to. Hence, your database connection attempts for this case are being ignored due to the firewall protection.\r\n\r\nIf these assumptions are correct, you will need to contact the network administrator of the &quot;different network&quot; to gain access through the firewall from your home network.\r\n\r\nI hope this helps.","title":"The driver could not establish a secure connection to SQL Server by using SSL","body":"<p>I suspect that when your laptop is on a \"different network\" that it is then inside the firewall that is also protecting the database servers you are connecting to. Hence, there is no problem making the database connections for this case.</p>\n\n<p>Your \"network at home\" I presume is outside of the firewall protecting the database servers that you are trying to connect to. Hence, your database connection attempts for this case are being ignored due to the firewall protection.</p>\n\n<p>If these assumptions are correct, you will need to contact the network administrator of the \"different network\" to gain access through the firewall from your home network.</p>\n\n<p>I hope this helps.</p>\n"},{"tags":[],"owner":{"account_id":252159,"reputation":503,"user_id":529998,"display_name":"wonsky"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1485252866,"creation_date":1485252866,"answer_id":41825457,"question_id":39677960,"body_markdown":"Your problem is similar to https://youtrack.jetbrains.com/issue/IDEA-163324\r\n\r\nThe solution is:\r\n\r\n - open terminal\r\n - run `scutil --getHostName`\r\n - if hostname is not set or contains .local, run `sudo scutil --set HostName &quot;&lt;YOUR HOSTNAME HERE&gt;&quot;`\r\n\r\n\r\n\r\n","title":"The driver could not establish a secure connection to SQL Server by using SSL","body":"<p>Your problem is similar to <a href=\"https://youtrack.jetbrains.com/issue/IDEA-163324\" rel=\"nofollow noreferrer\">https://youtrack.jetbrains.com/issue/IDEA-163324</a></p>\n\n<p>The solution is:</p>\n\n<ul>\n<li>open terminal</li>\n<li>run <code>scutil --getHostName</code></li>\n<li>if hostname is not set or contains .local, run <code>sudo scutil --set HostName \"&lt;YOUR HOSTNAME HERE&gt;\"</code></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":14782139,"reputation":2029,"user_id":10675401,"display_name":"Sunil Kumar"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1542713059,"creation_date":1542708319,"answer_id":53390562,"question_id":39677960,"body_markdown":"Please make your string `url` like below and add `sqljdbc42.jar` in your project\r\n\r\n    url = &quot;jdbc:sqlserver://&quot; +serverName + &quot;:1433;DatabaseName=&quot; + dbName +&quot;;\r\n\r\n    encrypt = true;\r\n\r\n    trustServerCertificate=true;","title":"The driver could not establish a secure connection to SQL Server by using SSL","body":"<p>Please make your string <code>url</code> like below and add <code>sqljdbc42.jar</code> in your project</p>\n\n<pre><code>url = \"jdbc:sqlserver://\" +serverName + \":1433;DatabaseName=\" + dbName +\";\n\nencrypt = true;\n\ntrustServerCertificate=true;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3174520,"reputation":529,"user_id":2682721,"accept_rate":67,"display_name":"ChiranjeeviIT"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1622033970,"creation_date":1622033970,"answer_id":67705420,"question_id":39677960,"body_markdown":"This exception also be present when your SQLJDBC driver jar is old .. for example if your SQL server is latest 2018 or 2019 then if you use old JDBC jar file like sqljdbc4.0 then you will get this exception\r\n\r\n**Solution for this would be** take latest jar file to support 2018 or 2020 version .. i have used below jar file **mssql-jdbc-7.2.2.jre8.jar** to solve the issue. so look into this way as well","title":"The driver could not establish a secure connection to SQL Server by using SSL","body":"<p>This exception also be present when your SQLJDBC driver jar is old .. for example if your SQL server is latest 2018 or 2019 then if you use old JDBC jar file like sqljdbc4.0 then you will get this exception</p>\n<p><strong>Solution for this would be</strong> take latest jar file to support 2018 or 2020 version .. i have used below jar file <strong>mssql-jdbc-7.2.2.jre8.jar</strong> to solve the issue. so look into this way as well</p>\n"},{"tags":[],"owner":{"account_id":4028793,"reputation":27,"user_id":3315830,"display_name":"Hassan Ali Hassan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633510535,"creation_date":1633443573,"answer_id":69452156,"question_id":39677960,"body_markdown":"Use:\r\n\r\n\tjava.security.Security.setProperty(&quot;jdk.tls.disabledAlgorithms&quot;,&quot;&quot;);","title":"The driver could not establish a secure connection to SQL Server by using SSL","body":"<p>Use:</p>\n<pre><code>java.security.Security.setProperty(&quot;jdk.tls.disabledAlgorithms&quot;,&quot;&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2575000,"reputation":2740,"user_id":2232902,"accept_rate":62,"display_name":"rahulroy9202"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688659449,"creation_date":1688659449,"answer_id":76630671,"question_id":39677960,"body_markdown":"for DataGrip\r\n\r\ngo to advanced and set `trustServerCertificate` to `true`\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/zRmGm.png","title":"The driver could not establish a secure connection to SQL Server by using SSL","body":"<p>for DataGrip</p>\n<p>go to advanced and set <code>trustServerCertificate</code> to <code>true</code></p>\n<p><a href=\"https://i.stack.imgur.com/zRmGm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zRmGm.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":7518954,"reputation":530,"user_id":5711524,"accept_rate":84,"display_name":"Mees Kluivers"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":25400,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"accepted_answer_id":39836553,"answer_count":6,"score":14,"last_activity_date":1688659449,"creation_date":1474730530,"question_id":39677960,"body_markdown":"I&#39;m having problems connecting to SQL databases. Whenever I try to connect to a SQL server I get the following error;\r\n\r\n    Caused by: org.hibernate.exception.JDBCConnectionException: Error calling Driver#connect\r\n    \tat org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:132)\r\n    \tat org.hibernate.engine.jdbc.connections.internal.BasicConnectionCreator$1$1.convert(BasicConnectionCreator.java:118)\r\n    \tat org.hibernate.engine.jdbc.connections.internal.BasicConnectionCreator.convertSqlException(BasicConnectionCreator.java:140)\r\n    \tat org.hibernate.engine.jdbc.connections.internal.DriverConnectionCreator.makeConnection(DriverConnectionCreator.java:58)\r\n    \tat org.hibernate.engine.jdbc.connections.internal.BasicConnectionCreator.createConnection(BasicConnectionCreator.java:75)\r\n    \tat org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl.configure(DriverManagerConnectionProviderImpl.java:106)\r\n    \tat org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.configureService(StandardServiceRegistryImpl.java:111)\r\n    \tat org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:234)\r\n    \tat org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:206)\r\n    \tat org.hibernate.engine.jdbc.internal.JdbcServicesImpl.buildJdbcConnectionAccess(JdbcServicesImpl.java:260)\r\n    \tat org.hibernate.engine.jdbc.internal.JdbcServicesImpl.configure(JdbcServicesImpl.java:94)\r\n    \tat org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.configureService(StandardServiceRegistryImpl.java:111)\r\n    \tat org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:234)\r\n    \tat org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:206)\r\n    \tat org.hibernate.cfg.Configuration.buildTypeRegistrations(Configuration.java:1887)\r\n    \tat org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:1845)\r\n    \tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl$4.perform(EntityManagerFactoryBuilderImpl.java:857)\r\n    \tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl$4.perform(EntityManagerFactoryBuilderImpl.java:850)\r\n    \tat org.hibernate.boot.registry.classloading.internal.ClassLoaderServiceImpl.withTccl(ClassLoaderServiceImpl.java:425)\r\n    \tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:849)\r\n    \tat org.hibernate.jpa.HibernatePersistenceProvider.createEntityManagerFactory(HibernatePersistenceProvider.java:75)\r\n    \t... 143 more\r\n    Caused by: com.microsoft.sqlserver.jdbc.SQLServerException: The driver could not establish a secure connection to SQL Server by using Secure Sockets Layer (SSL) encryption. Error: &quot;SQL Server did not return a response. The connection has been closed. ClientConnectionId:.....&quot;.\r\n    \tat com.microsoft.sqlserver.jdbc.SQLServerConnection.terminate(SQLServerConnection.java:1667)\r\n    \tat com.microsoft.sqlserver.jdbc.TDSChannel.enableSSL(IOBuffer.java:1668)\r\n    \tat com.microsoft.sqlserver.jdbc.SQLServerConnection.connectHelper(SQLServerConnection.java:1323)\r\n    \tat com.microsoft.sqlserver.jdbc.SQLServerConnection.login(SQLServerConnection.java:991)\r\n    \tat com.microsoft.sqlserver.jdbc.SQLServerConnection.connect(SQLServerConnection.java:827)\r\n    \tat com.microsoft.sqlserver.jdbc.SQLServerDriver.connect(SQLServerDriver.java:1012)\r\n    \tat org.hibernate.engine.jdbc.connections.internal.DriverConnectionCreator.makeConnection(DriverConnectionCreator.java:55)\r\n    \t... 160 more\r\n    Caused by: java.io.IOException: SQL Server did not return a response. The connection has been closed. ClientConnectionId:.....\r\n    \tat com.microsoft.sqlserver.jdbc.TDSChannel$SSLHandshakeInputStream.ensureSSLPayload(IOBuffer.java:651)\r\n    \tat com.microsoft.sqlserver.jdbc.TDSChannel$SSLHandshakeInputStream.readInternal(IOBuffer.java:708)\r\n    \tat com.microsoft.sqlserver.jdbc.TDSChannel$SSLHandshakeInputStream.read(IOBuffer.java:700)\r\n    \tat com.microsoft.sqlserver.jdbc.TDSChannel$ProxyInputStream.readInternal(IOBuffer.java:895)\r\n    \tat com.microsoft.sqlserver.jdbc.TDSChannel$ProxyInputStream.read(IOBuffer.java:883)\r\n    \tat sun.security.ssl.InputRecord.readFully(InputRecord.java:465)\r\n    \tat sun.security.ssl.InputRecord.read(InputRecord.java:503)\r\n    \tat sun.security.ssl.SSLSocketImpl.readRecord(SSLSocketImpl.java:973)\r\n    \tat sun.security.ssl.SSLSocketImpl.performInitialHandshake(SSLSocketImpl.java:1375)\r\n    \tat sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:1403)\r\n    \tat sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:1387)\r\n    \tat com.microsoft.sqlserver.jdbc.TDSChannel.enableSSL(IOBuffer.java:1618)\r\n    \t... 165 more\r\n\r\nThis is using `com.microsoft.sqlserver.jdbc.SQLServerDriver`\r\n\r\nWhenever I use the JtDS driver (suggested by eg. [this post][1]), I&#39;m still not able to connect to the SQL server and I get the following error.\r\n\r\n    Caused by: org.hibernate.exception.JDBCConnectionException: Error calling Driver#connect\r\n    \tat org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:132)\r\n    \tat org.hibernate.engine.jdbc.connections.internal.BasicConnectionCreator$1$1.convert(BasicConnectionCreator.java:118)\r\n    \tat org.hibernate.engine.jdbc.connections.internal.BasicConnectionCreator.convertSqlException(BasicConnectionCreator.java:140)\r\n    \tat org.hibernate.engine.jdbc.connections.internal.DriverConnectionCreator.makeConnection(DriverConnectionCreator.java:58)\r\n    \tat org.hibernate.engine.jdbc.connections.internal.BasicConnectionCreator.createConnection(BasicConnectionCreator.java:75)\r\n    \tat org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl.configure(DriverManagerConnectionProviderImpl.java:106)\r\n    \tat org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.configureService(StandardServiceRegistryImpl.java:111)\r\n    \tat org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:234)\r\n    \tat org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:206)\r\n    \tat org.hibernate.engine.jdbc.internal.JdbcServicesImpl.buildJdbcConnectionAccess(JdbcServicesImpl.java:260)\r\n    \tat org.hibernate.engine.jdbc.internal.JdbcServicesImpl.configure(JdbcServicesImpl.java:94)\r\n    \tat org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.configureService(StandardServiceRegistryImpl.java:111)\r\n    \tat org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:234)\r\n    \tat org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:206)\r\n    \tat org.hibernate.cfg.Configuration.buildTypeRegistrations(Configuration.java:1887)\r\n    \tat org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:1845)\r\n    \tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl$4.perform(EntityManagerFactoryBuilderImpl.java:857)\r\n    \tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl$4.perform(EntityManagerFactoryBuilderImpl.java:850)\r\n    \tat org.hibernate.boot.registry.classloading.internal.ClassLoaderServiceImpl.withTccl(ClassLoaderServiceImpl.java:425)\r\n    \tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:849)\r\n    \tat org.hibernate.jpa.HibernatePersistenceProvider.createEntityManagerFactory(HibernatePersistenceProvider.java:75)\r\n    \t... 143 more\r\n    Caused by: java.sql.SQLException: I/O Error: DB server closed connection.\r\n    \tat net.sourceforge.jtds.jdbc.TdsCore.nextToken(TdsCore.java:2481)\r\n    \tat net.sourceforge.jtds.jdbc.TdsCore.login(TdsCore.java:632)\r\n    \tat net.sourceforge.jtds.jdbc.JtdsConnection.&lt;init&gt;(JtdsConnection.java:371)\r\n    \tat net.sourceforge.jtds.jdbc.Driver.connect(Driver.java:184)\r\n    \tat org.hibernate.engine.jdbc.connections.internal.DriverConnectionCreator.makeConnection(DriverConnectionCreator.java:55)\r\n    \t... 160 more\r\n    Caused by: java.io.IOException: DB server closed connection.\r\n    \tat net.sourceforge.jtds.jdbc.SharedSocket.readPacket(SharedSocket.java:852)\r\n    \tat net.sourceforge.jtds.jdbc.SharedSocket.getNetPacket(SharedSocket.java:731)\r\n    \tat net.sourceforge.jtds.jdbc.ResponseStream.getPacket(ResponseStream.java:477)\r\n    \tat net.sourceforge.jtds.jdbc.ResponseStream.read(ResponseStream.java:114)\r\n    \tat net.sourceforge.jtds.jdbc.TdsCore.nextToken(TdsCore.java:2368)\r\n    \t... 164 more\r\n\r\nThe connection string I use: (using jtds)\r\n\r\n`jdbc:jtds:sqlserver://url.database.windows.net:[PORT];database=name;`\r\n\r\nOR when not using jtds..\r\n\r\n`jdbc:sqlserver://url.database.windows.net:[PORT];database=name;`\r\n\r\n\r\nI also have a server that is actually able to run and connect to the database using these configurations. I just keep getting these errors trying to connect to the database locally.\r\n\r\n\r\nI am running macOS Sierra version 10.21\r\n\r\njtds version:\r\n\r\n    &lt;dependency&gt;\r\n\t\t&lt;groupId&gt;net.sourceforge.jtds&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;jtds&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;1.3.1&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\r\nsqlserver version:\r\n\r\n    &lt;dependency&gt;\r\n       &lt;groupId&gt;com.microsoft.sqlserver&lt;/groupId&gt;\r\n       &lt;artifactId&gt;sqljdbc4&lt;/artifactId&gt;\r\n       &lt;version&gt;4.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n**EDIT:**\r\n\r\n**I am able to connect to the database using the same configuration AND same laptop on a different network. It is only on my network at home that I get this error**\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/18620869/the-driver-could-not-establish-a-secure-connection-to-sql-server-by-using-secure","title":"The driver could not establish a secure connection to SQL Server by using SSL","body":"<p>I'm having problems connecting to SQL databases. Whenever I try to connect to a SQL server I get the following error;</p>\n\n<pre><code>Caused by: org.hibernate.exception.JDBCConnectionException: Error calling Driver#connect\n    at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:132)\n    at org.hibernate.engine.jdbc.connections.internal.BasicConnectionCreator$1$1.convert(BasicConnectionCreator.java:118)\n    at org.hibernate.engine.jdbc.connections.internal.BasicConnectionCreator.convertSqlException(BasicConnectionCreator.java:140)\n    at org.hibernate.engine.jdbc.connections.internal.DriverConnectionCreator.makeConnection(DriverConnectionCreator.java:58)\n    at org.hibernate.engine.jdbc.connections.internal.BasicConnectionCreator.createConnection(BasicConnectionCreator.java:75)\n    at org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl.configure(DriverManagerConnectionProviderImpl.java:106)\n    at org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.configureService(StandardServiceRegistryImpl.java:111)\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:234)\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:206)\n    at org.hibernate.engine.jdbc.internal.JdbcServicesImpl.buildJdbcConnectionAccess(JdbcServicesImpl.java:260)\n    at org.hibernate.engine.jdbc.internal.JdbcServicesImpl.configure(JdbcServicesImpl.java:94)\n    at org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.configureService(StandardServiceRegistryImpl.java:111)\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:234)\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:206)\n    at org.hibernate.cfg.Configuration.buildTypeRegistrations(Configuration.java:1887)\n    at org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:1845)\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl$4.perform(EntityManagerFactoryBuilderImpl.java:857)\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl$4.perform(EntityManagerFactoryBuilderImpl.java:850)\n    at org.hibernate.boot.registry.classloading.internal.ClassLoaderServiceImpl.withTccl(ClassLoaderServiceImpl.java:425)\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:849)\n    at org.hibernate.jpa.HibernatePersistenceProvider.createEntityManagerFactory(HibernatePersistenceProvider.java:75)\n    ... 143 more\nCaused by: com.microsoft.sqlserver.jdbc.SQLServerException: The driver could not establish a secure connection to SQL Server by using Secure Sockets Layer (SSL) encryption. Error: \"SQL Server did not return a response. The connection has been closed. ClientConnectionId:.....\".\n    at com.microsoft.sqlserver.jdbc.SQLServerConnection.terminate(SQLServerConnection.java:1667)\n    at com.microsoft.sqlserver.jdbc.TDSChannel.enableSSL(IOBuffer.java:1668)\n    at com.microsoft.sqlserver.jdbc.SQLServerConnection.connectHelper(SQLServerConnection.java:1323)\n    at com.microsoft.sqlserver.jdbc.SQLServerConnection.login(SQLServerConnection.java:991)\n    at com.microsoft.sqlserver.jdbc.SQLServerConnection.connect(SQLServerConnection.java:827)\n    at com.microsoft.sqlserver.jdbc.SQLServerDriver.connect(SQLServerDriver.java:1012)\n    at org.hibernate.engine.jdbc.connections.internal.DriverConnectionCreator.makeConnection(DriverConnectionCreator.java:55)\n    ... 160 more\nCaused by: java.io.IOException: SQL Server did not return a response. The connection has been closed. ClientConnectionId:.....\n    at com.microsoft.sqlserver.jdbc.TDSChannel$SSLHandshakeInputStream.ensureSSLPayload(IOBuffer.java:651)\n    at com.microsoft.sqlserver.jdbc.TDSChannel$SSLHandshakeInputStream.readInternal(IOBuffer.java:708)\n    at com.microsoft.sqlserver.jdbc.TDSChannel$SSLHandshakeInputStream.read(IOBuffer.java:700)\n    at com.microsoft.sqlserver.jdbc.TDSChannel$ProxyInputStream.readInternal(IOBuffer.java:895)\n    at com.microsoft.sqlserver.jdbc.TDSChannel$ProxyInputStream.read(IOBuffer.java:883)\n    at sun.security.ssl.InputRecord.readFully(InputRecord.java:465)\n    at sun.security.ssl.InputRecord.read(InputRecord.java:503)\n    at sun.security.ssl.SSLSocketImpl.readRecord(SSLSocketImpl.java:973)\n    at sun.security.ssl.SSLSocketImpl.performInitialHandshake(SSLSocketImpl.java:1375)\n    at sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:1403)\n    at sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:1387)\n    at com.microsoft.sqlserver.jdbc.TDSChannel.enableSSL(IOBuffer.java:1618)\n    ... 165 more\n</code></pre>\n\n<p>This is using <code>com.microsoft.sqlserver.jdbc.SQLServerDriver</code></p>\n\n<p>Whenever I use the JtDS driver (suggested by eg. <a href=\"https://stackoverflow.com/questions/18620869/the-driver-could-not-establish-a-secure-connection-to-sql-server-by-using-secure\">this post</a>), I'm still not able to connect to the SQL server and I get the following error.</p>\n\n<pre><code>Caused by: org.hibernate.exception.JDBCConnectionException: Error calling Driver#connect\n    at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:132)\n    at org.hibernate.engine.jdbc.connections.internal.BasicConnectionCreator$1$1.convert(BasicConnectionCreator.java:118)\n    at org.hibernate.engine.jdbc.connections.internal.BasicConnectionCreator.convertSqlException(BasicConnectionCreator.java:140)\n    at org.hibernate.engine.jdbc.connections.internal.DriverConnectionCreator.makeConnection(DriverConnectionCreator.java:58)\n    at org.hibernate.engine.jdbc.connections.internal.BasicConnectionCreator.createConnection(BasicConnectionCreator.java:75)\n    at org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl.configure(DriverManagerConnectionProviderImpl.java:106)\n    at org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.configureService(StandardServiceRegistryImpl.java:111)\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:234)\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:206)\n    at org.hibernate.engine.jdbc.internal.JdbcServicesImpl.buildJdbcConnectionAccess(JdbcServicesImpl.java:260)\n    at org.hibernate.engine.jdbc.internal.JdbcServicesImpl.configure(JdbcServicesImpl.java:94)\n    at org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.configureService(StandardServiceRegistryImpl.java:111)\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:234)\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:206)\n    at org.hibernate.cfg.Configuration.buildTypeRegistrations(Configuration.java:1887)\n    at org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:1845)\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl$4.perform(EntityManagerFactoryBuilderImpl.java:857)\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl$4.perform(EntityManagerFactoryBuilderImpl.java:850)\n    at org.hibernate.boot.registry.classloading.internal.ClassLoaderServiceImpl.withTccl(ClassLoaderServiceImpl.java:425)\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:849)\n    at org.hibernate.jpa.HibernatePersistenceProvider.createEntityManagerFactory(HibernatePersistenceProvider.java:75)\n    ... 143 more\nCaused by: java.sql.SQLException: I/O Error: DB server closed connection.\n    at net.sourceforge.jtds.jdbc.TdsCore.nextToken(TdsCore.java:2481)\n    at net.sourceforge.jtds.jdbc.TdsCore.login(TdsCore.java:632)\n    at net.sourceforge.jtds.jdbc.JtdsConnection.&lt;init&gt;(JtdsConnection.java:371)\n    at net.sourceforge.jtds.jdbc.Driver.connect(Driver.java:184)\n    at org.hibernate.engine.jdbc.connections.internal.DriverConnectionCreator.makeConnection(DriverConnectionCreator.java:55)\n    ... 160 more\nCaused by: java.io.IOException: DB server closed connection.\n    at net.sourceforge.jtds.jdbc.SharedSocket.readPacket(SharedSocket.java:852)\n    at net.sourceforge.jtds.jdbc.SharedSocket.getNetPacket(SharedSocket.java:731)\n    at net.sourceforge.jtds.jdbc.ResponseStream.getPacket(ResponseStream.java:477)\n    at net.sourceforge.jtds.jdbc.ResponseStream.read(ResponseStream.java:114)\n    at net.sourceforge.jtds.jdbc.TdsCore.nextToken(TdsCore.java:2368)\n    ... 164 more\n</code></pre>\n\n<p>The connection string I use: (using jtds)</p>\n\n<p><code>jdbc:jtds:sqlserver://url.database.windows.net:[PORT];database=name;</code></p>\n\n<p>OR when not using jtds..</p>\n\n<p><code>jdbc:sqlserver://url.database.windows.net:[PORT];database=name;</code></p>\n\n<p>I also have a server that is actually able to run and connect to the database using these configurations. I just keep getting these errors trying to connect to the database locally.</p>\n\n<p>I am running macOS Sierra version 10.21</p>\n\n<p>jtds version:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;net.sourceforge.jtds&lt;/groupId&gt;\n    &lt;artifactId&gt;jtds&lt;/artifactId&gt;\n    &lt;version&gt;1.3.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>sqlserver version:</p>\n\n<pre><code>&lt;dependency&gt;\n   &lt;groupId&gt;com.microsoft.sqlserver&lt;/groupId&gt;\n   &lt;artifactId&gt;sqljdbc4&lt;/artifactId&gt;\n   &lt;version&gt;4.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p><strong>EDIT:</strong></p>\n\n<p><strong>I am able to connect to the database using the same configuration AND same laptop on a different network. It is only on my network at home that I get this error</strong></p>\n"},{"tags":["java","dependency-injection","cdi"],"comments":[{"owner":{"account_id":72101,"reputation":15566,"user_id":208288,"accept_rate":67,"display_name":"Laird Nelson"},"score":0,"creation_date":1688658347,"post_id":76623787,"comment_id":135106518,"body_markdown":"You might be interested in https://lairdnelson.wordpress.com/2017/02/11/dynamic-cdi-producer-methods/, or an approach like it.","body":"You might be interested in <a href=\"https://lairdnelson.wordpress.com/2017/02/11/dynamic-cdi-producer-methods/\" rel=\"nofollow noreferrer\">lairdnelson.wordpress.com/2017/02/11/&hellip;</a>, or an approach like it."}],"answers":[{"tags":[],"owner":{"account_id":223484,"reputation":61166,"user_id":482717,"accept_rate":66,"display_name":"Paul Verest"},"down_vote_count":4,"up_vote_count":1,"is_accepted":false,"score":-3,"last_activity_date":1688589220,"creation_date":1688589220,"answer_id":76623875,"question_id":76623787,"body_markdown":"Why don&#39;t you start with plain old Java interface design?\r\n\r\nWhat is methods signature that is in use?\r\n\r\nDo you know how to do without CDI with `new` ?\r\n\r\nIf you don&#39;t that taking about CDI (Contexts and Dependency Injection) only complicates. Why not Spring? etc\r\n\r\nThe best design does not depend on any framework.\r\n\r\nP.S. And please share real code.","title":"CDI producer that handles any qualifier","body":"<p>Why don't you start with plain old Java interface design?</p>\n<p>What is methods signature that is in use?</p>\n<p>Do you know how to do without CDI with <code>new</code> ?</p>\n<p>If you don't that taking about CDI (Contexts and Dependency Injection) only complicates. Why not Spring? etc</p>\n<p>The best design does not depend on any framework.</p>\n<p>P.S. And please share real code.</p>\n"},{"tags":[],"owner":{"account_id":6693816,"reputation":763,"user_id":5162472,"display_name":"dfogni"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1688597662,"creation_date":1688597662,"answer_id":76624524,"question_id":76623787,"body_markdown":"The question is too generic to provide a direct answer.\r\n\r\nIt looks like what you are trying to do should be implemented as a *CDI portable extension*.\r\n\r\nThe extension SPI provides hooks that can dynamically modify both qualifiers and producers.\r\n\r\nThe *InjectionTarget* is the abstraction of the concept you are trying to apply, see this documentation https://docs.jboss.org/weld/reference/latest/en-US/html/extend.html#_wrapping_an_injectiontarget","title":"CDI producer that handles any qualifier","body":"<p>The question is too generic to provide a direct answer.</p>\n<p>It looks like what you are trying to do should be implemented as a <em>CDI portable extension</em>.</p>\n<p>The extension SPI provides hooks that can dynamically modify both qualifiers and producers.</p>\n<p>The <em>InjectionTarget</em> is the abstraction of the concept you are trying to apply, see this documentation <a href=\"https://docs.jboss.org/weld/reference/latest/en-US/html/extend.html#_wrapping_an_injectiontarget\" rel=\"nofollow noreferrer\">https://docs.jboss.org/weld/reference/latest/en-US/html/extend.html#_wrapping_an_injectiontarget</a></p>\n"},{"tags":[],"owner":{"account_id":72101,"reputation":15566,"user_id":208288,"accept_rate":67,"display_name":"Laird Nelson"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1688659333,"creation_date":1688659333,"answer_id":76630656,"question_id":76623787,"body_markdown":"You&#39;ll need to write a portable extension that:\r\n\r\n1. is notified upon the appearance of any `Set` of qualifiers that qualify non-vetoed injection scenarios (observing `ProcessInjectionPoint` will get you most of the way there, if not all the way)\r\n2. at `AfterBeanDiscovery` time, for each `Set` of harvested qualifiers, adds beans that produce the qualified things\r\n\r\n…or something of this nature.\r\n\r\nTo do (2), you may just want to use the `BeanConfigurator` stuff, i.e.:\r\n```\r\nprivate void addMyBeans(@Observes AfterBeanDiscovery event) {\r\n  event.addBean()\r\n    .types(...)\r\n    .qualifiers(harvestedQualifiers)\r\n    .scope(...)\r\n    .produceWith(i -&gt; new Frobnicator()) // create whatever it is you&#39;re making\r\n    .disposeWith(...)\r\n```\r\n","title":"CDI producer that handles any qualifier","body":"<p>You'll need to write a portable extension that:</p>\n<ol>\n<li>is notified upon the appearance of any <code>Set</code> of qualifiers that qualify non-vetoed injection scenarios (observing <code>ProcessInjectionPoint</code> will get you most of the way there, if not all the way)</li>\n<li>at <code>AfterBeanDiscovery</code> time, for each <code>Set</code> of harvested qualifiers, adds beans that produce the qualified things</li>\n</ol>\n<p>…or something of this nature.</p>\n<p>To do (2), you may just want to use the <code>BeanConfigurator</code> stuff, i.e.:</p>\n<pre><code>private void addMyBeans(@Observes AfterBeanDiscovery event) {\n  event.addBean()\n    .types(...)\n    .qualifiers(harvestedQualifiers)\n    .scope(...)\n    .produceWith(i -&gt; new Frobnicator()) // create whatever it is you're making\n    .disposeWith(...)\n</code></pre>\n"}],"owner":{"account_id":2437284,"reputation":3902,"user_id":2126854,"accept_rate":80,"display_name":"Glenn Lane"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76630656,"answer_count":3,"score":1,"last_activity_date":1688659333,"creation_date":1688588456,"question_id":76623787,"body_markdown":"Can I create a producer method that handles *any* arbitrary qualifier?  i.e.: even qualifiers I&#39;m not &quot;aware-of&quot; at design time?\r\n\r\nThe challenge is that I want to create an injectable simplification of an outside-developed injectable component.  The tough part is: I want my simplification to support all the qualifier annotations of the original component.  And to be future-proof, I want to be agnostic to those qualifiers.\r\n\r\nMy plan was to have my producer dynamically create the original component using qualifiers passed to my producer method&#39;s `InjectionPoint`, but CDI isn&#39;t matching my producer with the original component&#39;s qualifiers.  Is there a way to declare my producer to handle arbitrary qualifiers?  I don&#39;t think `@Decorator` is an option, since I want to wrap the original component without exposing its interface.","title":"CDI producer that handles any qualifier","body":"<p>Can I create a producer method that handles <em>any</em> arbitrary qualifier?  i.e.: even qualifiers I'm not &quot;aware-of&quot; at design time?</p>\n<p>The challenge is that I want to create an injectable simplification of an outside-developed injectable component.  The tough part is: I want my simplification to support all the qualifier annotations of the original component.  And to be future-proof, I want to be agnostic to those qualifiers.</p>\n<p>My plan was to have my producer dynamically create the original component using qualifiers passed to my producer method's <code>InjectionPoint</code>, but CDI isn't matching my producer with the original component's qualifiers.  Is there a way to declare my producer to handle arbitrary qualifiers?  I don't think <code>@Decorator</code> is an option, since I want to wrap the original component without exposing its interface.</p>\n"},{"tags":["java","endpoint","datadog","datadog-dashboard"],"owner":{"account_id":7496453,"reputation":33,"user_id":5696544,"display_name":"Alexandre Mateus"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688659199,"creation_date":1688653146,"question_id":76629800,"body_markdown":"How to find on Datadog all applications that call a specific endpoint, like &quot;/my-endpoint/test&quot; ?\r\nI&#39;ve tried to search on Logs, but I&#39;m not sure if it&#39;s reliable.\r\nWhat&#39;s the better way?\r\n","title":"Datadog - Find API calls","body":"<p>How to find on Datadog all applications that call a specific endpoint, like &quot;/my-endpoint/test&quot; ?\nI've tried to search on Logs, but I'm not sure if it's reliable.\nWhat's the better way?</p>\n"},{"tags":["java","xml","xslt"],"comments":[{"owner":{"account_id":22226004,"reputation":13332,"user_id":16462950,"display_name":"Heiko Thei&#223;en"},"score":1,"creation_date":1653641705,"post_id":72401149,"comment_id":127904971,"body_markdown":"Welcome to StackOverflow! Does it help if you [set the feature](https://xml.apache.org/xalan-j/apidocs/javax/xml/transform/TransformerFactory.html#setFeature(java.lang.String,%20boolean)) `XMLConstants.FEATURE_SECURE_PROCESSING` to false?","body":"Welcome to StackOverflow! Does it help if you <a href=\"https://xml.apache.org/xalan-j/apidocs/javax/xml/transform/TransformerFactory.html#setFeature(java.lang.String,%20boolean)\" rel=\"nofollow noreferrer\">set the feature</a> <code>XMLConstants.FEATURE_SECURE_PROCESSING</code> to false?"}],"answers":[{"tags":[],"owner":{"account_id":25703034,"reputation":96,"user_id":19462805,"display_name":"Ingo Wilkening"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1656700490,"creation_date":1656700490,"answer_id":72833393,"question_id":72401149,"body_markdown":"That behaviour seems to come from new FEATURE_SECURE_PROCESSING, which Oracle introduced in a recent &quot;update&quot; of their Java. See: [https://www.oracle.com/java/technologies/javase/11-0-15-relnotes.html][1]\r\n\r\nIt is 3 parameters they introduced:\r\n\r\n 1. jdk.xml.xpathExprGrpLimit Description: Limits the number of groups\r\n    an XPath expression can contain. Default 10.\r\n 2. jdk.xml.xpathExprOpLimit Description: Limits the number of operators\r\n    an XPath expression can contain. Default 100.\r\n 3. jdk.xml.xpathTotalOpLimit Description: Limits the total number of\r\n    XPath operators in an XSL Stylesheet. Default 10000.\r\n\r\nYour problem is on #2 (JAXP0801002, default 100).\r\nWe got a very similar issue on #3 (JAXP0801003, default 10.000), with this message (quoted, so google will find it):\r\n\r\n```\r\nERROR:  &#39;JAXP0801003: the compiler encountered XPath expressions with an accumulated &#39;10.002&#39; operators that exceeds the &#39;10.000&#39; limit set by &#39;FEATURE_SECURE_PROCESSING&#39;.&#39;\r\nFATAL ERROR:  &#39;JAXP0801003: the compiler encountered XPath expressions with an accumulated &#39;10.002&#39; operators that exceeds the &#39;10.000&#39; limit set by &#39;FEATURE_SECURE_PROCESSING&#39;.&#39;\r\n```\r\n\r\nWe wasted 2 days in getting away of that sh*t.\r\n\r\nWe added some parameters to the java call:\r\n```\r\n    java -Djdk.xml.xpathExprGrpLimit=0 -Djdk.xml.xpathExprOpLimit=0 -Djdk.xml.xpathTotalOpLimit=0 -Xmx2g -Xms512m -XX:-UseGCOverheadLimit ....\r\n\r\n```\r\n\r\nParameters 1,2,3 to to solve the issue. Values &quot;0&quot; set the limits to &quot;off&quot;. As XPath can now get huge, it might be advisable to set the heap and stack size and change behaviour of the garbage collection (parameters 4-6).\r\n\r\nI hope it will help you too. Have fun!\r\n\r\n\r\n  [1]: https://www.oracle.com/java/technologies/javase/11-0-15-relnotes.html","title":"limit set by &#39;FEATURE_SECURE_PROCESSING&#39;","body":"<p>That behaviour seems to come from new FEATURE_SECURE_PROCESSING, which Oracle introduced in a recent &quot;update&quot; of their Java. See: <a href=\"https://www.oracle.com/java/technologies/javase/11-0-15-relnotes.html\" rel=\"noreferrer\">https://www.oracle.com/java/technologies/javase/11-0-15-relnotes.html</a></p>\n<p>It is 3 parameters they introduced:</p>\n<ol>\n<li>jdk.xml.xpathExprGrpLimit Description: Limits the number of groups\nan XPath expression can contain. Default 10.</li>\n<li>jdk.xml.xpathExprOpLimit Description: Limits the number of operators\nan XPath expression can contain. Default 100.</li>\n<li>jdk.xml.xpathTotalOpLimit Description: Limits the total number of\nXPath operators in an XSL Stylesheet. Default 10000.</li>\n</ol>\n<p>Your problem is on #2 (JAXP0801002, default 100).\nWe got a very similar issue on #3 (JAXP0801003, default 10.000), with this message (quoted, so google will find it):</p>\n<pre><code>ERROR:  'JAXP0801003: the compiler encountered XPath expressions with an accumulated '10.002' operators that exceeds the '10.000' limit set by 'FEATURE_SECURE_PROCESSING'.'\nFATAL ERROR:  'JAXP0801003: the compiler encountered XPath expressions with an accumulated '10.002' operators that exceeds the '10.000' limit set by 'FEATURE_SECURE_PROCESSING'.'\n</code></pre>\n<p>We wasted 2 days in getting away of that sh*t.</p>\n<p>We added some parameters to the java call:</p>\n<pre><code>    java -Djdk.xml.xpathExprGrpLimit=0 -Djdk.xml.xpathExprOpLimit=0 -Djdk.xml.xpathTotalOpLimit=0 -Xmx2g -Xms512m -XX:-UseGCOverheadLimit ....\n\n</code></pre>\n<p>Parameters 1,2,3 to to solve the issue. Values &quot;0&quot; set the limits to &quot;off&quot;. As XPath can now get huge, it might be advisable to set the heap and stack size and change behaviour of the garbage collection (parameters 4-6).</p>\n<p>I hope it will help you too. Have fun!</p>\n"},{"tags":[],"owner":{"account_id":26347521,"reputation":1,"user_id":20005652,"display_name":"Sam B"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663260449,"creation_date":1663260293,"answer_id":73734773,"question_id":72401149,"body_markdown":"If you are running into this problem on MacBook M1 or newer. Try a compatible jdk version from either amazon corretto or zulu. I had to try multiple versions for it to work but specifically 8.275. \r\nhttps://www.azul.com/downloads/?version=java-8-lts&amp;os=macos&amp;architecture=arm-64-bit&amp;package=jdk&amp;show-old-builds=true\r\n\r\nHope this helps!","title":"limit set by &#39;FEATURE_SECURE_PROCESSING&#39;","body":"<p>If you are running into this problem on MacBook M1 or newer. Try a compatible jdk version from either amazon corretto or zulu. I had to try multiple versions for it to work but specifically 8.275.\n<a href=\"https://www.azul.com/downloads/?version=java-8-lts&amp;os=macos&amp;architecture=arm-64-bit&amp;package=jdk&amp;show-old-builds=true\" rel=\"nofollow noreferrer\">https://www.azul.com/downloads/?version=java-8-lts&amp;os=macos&amp;architecture=arm-64-bit&amp;package=jdk&amp;show-old-builds=true</a></p>\n<p>Hope this helps!</p>\n"},{"tags":[],"owner":{"account_id":26352361,"reputation":1,"user_id":20009784,"display_name":"Rahul Meena"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663309509,"creation_date":1663309388,"answer_id":73740690,"question_id":72401149,"body_markdown":"Rahul Meena\r\n-Djdk.xml.xpathExprGrpLimit=0 -Djdk.xml.xpathExprOpLimit=0 -Djdk.xml.xpathTotalOpLimit=0\r\n\r\nPut 3 steps in your restart files.","title":"limit set by &#39;FEATURE_SECURE_PROCESSING&#39;","body":"<p>Rahul Meena\n-Djdk.xml.xpathExprGrpLimit=0 -Djdk.xml.xpathExprOpLimit=0 -Djdk.xml.xpathTotalOpLimit=0</p>\n<p>Put 3 steps in your restart files.</p>\n"},{"tags":[],"owner":{"account_id":12256558,"reputation":1,"user_id":8945448,"display_name":"Leon Dong"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676558801,"creation_date":1676558801,"answer_id":75473918,"question_id":72401149,"body_markdown":"I encounter this error in my M1 mbp with Oracle OpenJDK17. It also occurs when running in product env that is based on OpenJDK17 and centos.\r\n\r\nThis [answer](https://stackoverflow.com/a/72833393/8945448) surely helps me. But I can not modify all JVM configurations in our product cluster.\r\n\r\nSo I just set these three parameters using Java code: \r\n\r\n\r\n    System.setProperty(&quot;jdk.xml.xpathExprGrpLimit&quot;, &quot;0&quot;);\r\n    System.setProperty(&quot;jdk.xml.xpathExprOpLimit&quot;, &quot;0&quot;);\r\n    System.setProperty(&quot;jdk.xml.xpathTotalOpLimit&quot;, &quot;0&quot;);\r\n\r\nNotice: Set these parameters before TransformerFactory initialization.","title":"limit set by &#39;FEATURE_SECURE_PROCESSING&#39;","body":"<p>I encounter this error in my M1 mbp with Oracle OpenJDK17. It also occurs when running in product env that is based on OpenJDK17 and centos.</p>\n<p>This <a href=\"https://stackoverflow.com/a/72833393/8945448\">answer</a> surely helps me. But I can not modify all JVM configurations in our product cluster.</p>\n<p>So I just set these three parameters using Java code:</p>\n<pre><code>System.setProperty(&quot;jdk.xml.xpathExprGrpLimit&quot;, &quot;0&quot;);\nSystem.setProperty(&quot;jdk.xml.xpathExprOpLimit&quot;, &quot;0&quot;);\nSystem.setProperty(&quot;jdk.xml.xpathTotalOpLimit&quot;, &quot;0&quot;);\n</code></pre>\n<p>Notice: Set these parameters before TransformerFactory initialization.</p>\n"},{"tags":[],"owner":{"account_id":422488,"reputation":942,"user_id":801300,"accept_rate":40,"display_name":"Dapper Dan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688658804,"creation_date":1688658804,"answer_id":76630597,"question_id":72401149,"body_markdown":"Thanks to @`Ingo Wilkening` for providing a solution that worked effectively for me. If your application is running on the Tomcat web server,    \r\n\r\nLocate the `catalina.sh` script in your Tomcat installation directory. You can use the find command as follows:\r\n \r\n\r\n    find /path/to/tomcat -name catalina.sh\r\n\r\nOnce you have found the catalina.sh file, open it in a text editor. You can use the vi editor,  \r\n \r\n\r\n    vi /path/to/tomcat/bin/catalina.sh\r\n\r\nWithin the catalina.sh file, look for the section where Java options (JAVA_OPTS) are typically set. \r\nAdd the following lines to set the desired Java system properties:\r\n \r\n\r\n    JAVA_OPTS=&quot;$JAVA_OPTS -Djdk.xml.xpathExprGrpLimit=0 -Djdk.xml.xpathExprOpLimit=0 -Djdk.xml.xpathTotalOpLimit=0&quot;\r\n\r\nSave the changes and restart tomcat. \r\n \r\n ","title":"limit set by &#39;FEATURE_SECURE_PROCESSING&#39;","body":"<p>Thanks to @<code>Ingo Wilkening</code> for providing a solution that worked effectively for me. If your application is running on the Tomcat web server,</p>\n<p>Locate the <code>catalina.sh</code> script in your Tomcat installation directory. You can use the find command as follows:</p>\n<pre><code>find /path/to/tomcat -name catalina.sh\n</code></pre>\n<p>Once you have found the catalina.sh file, open it in a text editor. You can use the vi editor,</p>\n<pre><code>vi /path/to/tomcat/bin/catalina.sh\n</code></pre>\n<p>Within the catalina.sh file, look for the section where Java options (JAVA_OPTS) are typically set.\nAdd the following lines to set the desired Java system properties:</p>\n<pre><code>JAVA_OPTS=&quot;$JAVA_OPTS -Djdk.xml.xpathExprGrpLimit=0 -Djdk.xml.xpathExprOpLimit=0 -Djdk.xml.xpathTotalOpLimit=0&quot;\n</code></pre>\n<p>Save the changes and restart tomcat.</p>\n"}],"owner":{"account_id":22606522,"reputation":93,"user_id":16787371,"display_name":"Vladimir Hambalek"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8839,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":72833393,"answer_count":5,"score":9,"last_activity_date":1688658804,"creation_date":1653631843,"question_id":72401149,"body_markdown":"I used my own xlst transformator in java (XSLTTransformator) but transformation is very big and I have got error:\r\n \r\n\r\n    Caused by: javax.xml.transform.TransformerConfigurationException: JAXP0801002: the compiler encountered an XPath expression containing &#39;107&#39; operators that exceeds the &#39;100&#39; limit set by &#39;FEATURE_SECURE_PROCESSING&#39;.\r\n                    at com.sun.org.apache.xalan.internal.xsltc.trax.TransformerFactoryImpl.newTemplates(TransformerFactoryImpl.java:990)\r\n                    at com.aspp.dms.ruleengine.transformation.TemplatesCache.retrieveUncached(TemplatesCache.java:44)\r\n                    at com.aspp.dms.ruleengine.transformation.TemplatesCache.retrieveUncached(TemplatesCache.java:21)\r\n                    at com.gratex.java.util.SoftValueCache.get(SoftValueCache.java:41)\r\n                    at com.aspp.dms.ruleengine.transformation.XSLTTransformator.transform(XSLTTransformator.java:73)\r\n\r\nCan you please help me find correct argument for java to solve my problem? Something like -DxpathOperatorsLimit=150\r\n\r\nthank you","title":"limit set by &#39;FEATURE_SECURE_PROCESSING&#39;","body":"<p>I used my own xlst transformator in java (XSLTTransformator) but transformation is very big and I have got error:</p>\n<pre><code>Caused by: javax.xml.transform.TransformerConfigurationException: JAXP0801002: the compiler encountered an XPath expression containing '107' operators that exceeds the '100' limit set by 'FEATURE_SECURE_PROCESSING'.\n                at com.sun.org.apache.xalan.internal.xsltc.trax.TransformerFactoryImpl.newTemplates(TransformerFactoryImpl.java:990)\n                at com.aspp.dms.ruleengine.transformation.TemplatesCache.retrieveUncached(TemplatesCache.java:44)\n                at com.aspp.dms.ruleengine.transformation.TemplatesCache.retrieveUncached(TemplatesCache.java:21)\n                at com.gratex.java.util.SoftValueCache.get(SoftValueCache.java:41)\n                at com.aspp.dms.ruleengine.transformation.XSLTTransformator.transform(XSLTTransformator.java:73)\n</code></pre>\n<p>Can you please help me find correct argument for java to solve my problem? Something like -DxpathOperatorsLimit=150</p>\n<p>thank you</p>\n"},{"tags":["java","cross-compiling"],"comments":[{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":2,"creation_date":1688641314,"post_id":76628100,"comment_id":135102549,"body_markdown":"The method does not exist in version 8 of Java. So you can&#39;t use it with version 8 of Java. Assume you built a new house. Assume that new house has a new stove. Why can&#39;t you use that stove in your old house? **Because** it is in the new house.","body":"The method does not exist in version 8 of Java. So you can&#39;t use it with version 8 of Java. Assume you built a new house. Assume that new house has a new stove. Why can&#39;t you use that stove in your old house? <b>Because</b> it is in the new house."},{"owner":{"account_id":12111183,"reputation":130,"user_id":8847871,"display_name":"ParSal"},"score":0,"creation_date":1688641416,"post_id":76628100,"comment_id":135102571,"body_markdown":"But as I said, the methods are already available. Why can&#39;t it just use them?","body":"But as I said, the methods are already available. Why can&#39;t it just use them?"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":2,"creation_date":1688641870,"post_id":76628100,"comment_id":135102679,"body_markdown":"You explicitly asked for a class which was compatible with Java 1.8, so `javac` refuses to compile code with `Map.of()` in it. Because that `.class` file wouldn&#39;t work with a 1.8 JRE.","body":"You explicitly asked for a class which was compatible with Java 1.8, so <code>javac</code> refuses to compile code with <code>Map.of()</code> in it. Because that <code>.class</code> file wouldn&#39;t work with a 1.8 JRE."},{"owner":{"account_id":17717155,"reputation":527,"user_id":12863192,"display_name":"Ishan"},"score":1,"creation_date":1688641894,"post_id":76628100,"comment_id":135102687,"body_markdown":"Because, even though you are having JDK 17, you are asking the compiler to use the syntax of JDK 8. What JRE is installed on the target system is immaterial at the time of compilation. Compilation has to restrict the API usage of JDK 8 and before as you have specified that source and target. When actually it is deployed in JDK 17, then it runs with all the features of 17 at the JVM level, but your code is still compiled with compatibility with JDK 8. It can run on JRE 8 too.","body":"Because, even though you are having JDK 17, you are asking the compiler to use the syntax of JDK 8. What JRE is installed on the target system is immaterial at the time of compilation. Compilation has to restrict the API usage of JDK 8 and before as you have specified that source and target. When actually it is deployed in JDK 17, then it runs with all the features of 17 at the JVM level, but your code is still compiled with compatibility with JDK 8. It can run on JRE 8 too."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":3,"creation_date":1688642014,"post_id":76628100,"comment_id":135102713,"body_markdown":"Actually, I&#39;m wrong above. You can use `javac -source 1.8 -target 1.8` to compile code which uses `Map.of()`.","body":"Actually, I&#39;m wrong above. You can use <code>javac -source 1.8 -target 1.8</code> to compile code which uses <code>Map.of()</code>."},{"owner":{"account_id":128739,"reputation":3915,"user_id":326807,"accept_rate":100,"display_name":"Reporter"},"score":0,"creation_date":1688642028,"post_id":76628100,"comment_id":135102720,"body_markdown":"Maybe I&#39;m wrong:  You using the tools from java17 and the code syntax from Java 8. The jre from Java8 does know the format from bytecode but has no implementation for newer tools.","body":"Maybe I&#39;m wrong:  You using the tools from java17 and the code syntax from Java 8. The jre from Java8 does know the format from bytecode but has no implementation for newer tools."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1688642061,"post_id":76628100,"comment_id":135102729,"body_markdown":"When you say &quot;I noticed I can&#39;t use Map.of() function&quot;, what was preventing you from using it?","body":"When you say &quot;I noticed I can&#39;t use Map.of() function&quot;, what was preventing you from using it?"},{"owner":{"account_id":12111183,"reputation":130,"user_id":8847871,"display_name":"ParSal"},"score":0,"creation_date":1688642195,"post_id":76628100,"comment_id":135102760,"body_markdown":"@tgdavies Really? but your explanation sounds reasonable. If I target jre 1.8, it should be runnable on 1.8 so it must not have `Map.of`.\nFor me it just says &quot;cannot find symbol&quot;","body":"@tgdavies Really? but your explanation sounds reasonable. If I target jre 1.8, it should be runnable on 1.8 so it must not have <code>Map.of</code>. For me it just says &quot;cannot find symbol&quot;"},{"owner":{"account_id":1692034,"reputation":3196,"user_id":1554195,"display_name":"tquadrat"},"score":0,"creation_date":1688642635,"post_id":76628100,"comment_id":135102836,"body_markdown":"@tgdavies – When I look at the source code for the RTL, I cannot find a marker for methods or classes that restricts that code to a particular version. There is only the `@since` JavaDoc tag, and I doubt that this will be translated somehow to something like `if( version &gt; 1.8 )` or alike. So that pure extensions of classes like `map.of()` will work does not surprises me. But `var` should not work, also pattern matching should not work, when compiling with `-source 1.8`. The `-target 1.8` only controls the binary output.","body":"@tgdavies – When I look at the source code for the RTL, I cannot find a marker for methods or classes that restricts that code to a particular version. There is only the <code>@since</code> JavaDoc tag, and I doubt that this will be translated somehow to something like <code>if( version &gt; 1.8 )</code> or alike. So that pure extensions of classes like <code>map.of()</code> will work does not surprises me. But <code>var</code> should not work, also pattern matching should not work, when compiling with <code>-source 1.8</code>. The <code>-target 1.8</code> only controls the binary output."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1688643962,"post_id":76628100,"comment_id":135103112,"body_markdown":"Anyway -- you don&#39;t want to do this. Your &quot;older Java program which uses Map.of()&quot; is not going to run on a 1.8 JRE, because it won&#39;t find that method, so why bother targeting 1.8 in the first place?","body":"Anyway -- you don&#39;t want to do this. Your &quot;older Java program which uses Map.of()&quot; is not going to run on a 1.8 JRE, because it won&#39;t find that method, so why bother targeting 1.8 in the first place?"},{"owner":{"account_id":12111183,"reputation":130,"user_id":8847871,"display_name":"ParSal"},"score":0,"creation_date":1688644262,"post_id":76628100,"comment_id":135103186,"body_markdown":"It&#39;s this big old project which was running on java 8, we changed the jre to 17 to use the GC algorithms. Changing language level to 17 is another step which we might take in the future. Since the only people running our program are us, I thought why not use features in java 17 if we can.","body":"It&#39;s this big old project which was running on java 8, we changed the jre to 17 to use the GC algorithms. Changing language level to 17 is another step which we might take in the future. Since the only people running our program are us, I thought why not use features in java 17 if we can."},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1688645118,"post_id":76628100,"comment_id":135103394,"body_markdown":"Map.of doesn&#39;t exist in jdk 1.8 but it is valid. You can compile fine with source/target set for java 1.8. When you try to run it on a 1.8 jvm though, it cannot find the method. How do you think it could have that method available? Also, if you compile code, then run it on a 1.8 jvm, it will use the 1.8 GC. What problem do you think you would have if you change the language level?","body":"Map.of doesn&#39;t exist in jdk 1.8 but it is valid. You can compile fine with source/target set for java 1.8. When you try to run it on a 1.8 jvm though, it cannot find the method. How do you think it could have that method available? Also, if you compile code, then run it on a 1.8 jvm, it will use the 1.8 GC. What problem do you think you would have if you change the language level?"},{"owner":{"account_id":12111183,"reputation":130,"user_id":8847871,"display_name":"ParSal"},"score":0,"creation_date":1688646350,"post_id":76628100,"comment_id":135103680,"body_markdown":"@matt I only run on jre 17 which should find the method. My question was how is it that it can use GC from java 17, but not `Map.of` from it?","body":"@matt I only run on jre 17 which should find the method. My question was how is it that it can use GC from java 17, but not <code>Map.of</code> from it?"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1688646510,"post_id":76628100,"comment_id":135103712,"body_markdown":"&quot;it just says &quot;cannot find symbol&quot;&quot; -- what is *it*?","body":"&quot;it just says &quot;cannot find symbol&quot;&quot; -- what is <i>it</i>?"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1688646546,"post_id":76628100,"comment_id":135103718,"body_markdown":"(and I still don&#39;t understand why you aren&#39;t compiling with source and target 17)","body":"(and I still don&#39;t understand why you aren&#39;t compiling with source and target 17)"},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1688647087,"post_id":76628100,"comment_id":135103869,"body_markdown":"@ParSal I don&#39;t believe it. If you are using JRE 8, then it will use that GC and it will not be able to find the symbol for Map.of, they dont&#39; exist. They&#39;re not included in the class file you compile. If you are using JRE 17, then it will use the new GC and it will find the symbol for Map.of.","body":"@ParSal I don&#39;t believe it. If you are using JRE 8, then it will use that GC and it will not be able to find the symbol for Map.of, they dont&#39; exist. They&#39;re not included in the class file you compile. If you are using JRE 17, then it will use the new GC and it will find the symbol for Map.of."},{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1688647175,"post_id":76628100,"comment_id":135103897,"body_markdown":"Assume I wrote instructions for preparing a recipe with a two burner stove. You have a four burner stove. So you ***can*** do several of the steps at the same time (when you use a four burner stove), but if you use a two burner stove you **can&#39;t**. It&#39;s the stove that&#39;s different. Not the actual recipe. When you run Java 8 bytecode on Java 17 JVM it can use more burners, it understands the recipe (your bytecode). What you can&#39;t do is say this recipe is for a two burner stove, start by lighting all four burners.","body":"Assume I wrote instructions for preparing a recipe with a two burner stove. You have a four burner stove. So you <b><i>can</i></b> do several of the steps at the same time (when you use a four burner stove), but if you use a two burner stove you <b>can&#39;t</b>. It&#39;s the stove that&#39;s different. Not the actual recipe. When you run Java 8 bytecode on Java 17 JVM it can use more burners, it understands the recipe (your bytecode). What you can&#39;t do is say this recipe is for a two burner stove, start by lighting all four burners."},{"owner":{"account_id":12111183,"reputation":130,"user_id":8847871,"display_name":"ParSal"},"score":0,"creation_date":1688649787,"post_id":76628100,"comment_id":135104487,"body_markdown":"Update: I was wrong: as @tgdavies said the code compiles. The culprit in my case was `&lt;maven.compiler.release&gt;` [which does just that](https://maven.apache.org/plugins/maven-compiler-plugin/examples/set-compiler-release.html#:~:text=The%20%2D%2Drelease%20option%20ensures%20that%20the%20code%20is%20compiled%20following%20the%20rules%20of%20the%20programming%20language%20of%20the%20specified%20release%2C%20and%20that%20generated%20classes%20target%20the%20release%20as%20well%20as%20the%20public%20API%20of%20that%20release)! Based on everything so far, the answer by @matt below seems correct.","body":"Update: I was wrong: as @tgdavies said the code compiles. The culprit in my case was <code>&lt;maven.compiler.release&gt;</code> <a href=\"https://maven.apache.org/plugins/maven-compiler-plugin/examples/set-compiler-release.html#:~:text=The%20%2D%2Drelease%20option%20ensures%20that%20the%20code%20is%20compiled%20following%20the%20rules%20of%20the%20programming%20language%20of%20the%20specified%20release%2C%20and%20that%20generated%20classes%20target%20the%20release%20as%20well%20as%20the%20public%20API%20of%20that%20release\" rel=\"nofollow noreferrer\">which does just that</a>! Based on everything so far, the answer by @matt below seems correct."},{"owner":{"account_id":12111183,"reputation":130,"user_id":8847871,"display_name":"ParSal"},"score":0,"creation_date":1688649934,"post_id":76628100,"comment_id":135104543,"body_markdown":"@tgdavies Can it introduce any complications for the existing code? If I have a java 8 source code which is compiled to java 8 using java 17 and is always ran by java 17, I can&#39;t think of anything that would go wrong if I change language level to 17.","body":"@tgdavies Can it introduce any complications for the existing code? If I have a java 8 source code which is compiled to java 8 using java 17 and is always ran by java 17, I can&#39;t think of anything that would go wrong if I change language level to 17."},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":1,"creation_date":1688652206,"post_id":76628100,"comment_id":135105131,"body_markdown":"Right, &quot;nothing&quot; could go wrong. If you&#39;re compiling it with jdk 17 with source and target set. It will still compile without source and target set. Essentially, declaring source and target make jdk 17 work on a subset of code that it works with. I quoted &quot;nothing&quot; because there is always an exception, especially with the audience you reach on SO.","body":"Right, &quot;nothing&quot; could go wrong. If you&#39;re compiling it with jdk 17 with source and target set. It will still compile without source and target set. Essentially, declaring source and target make jdk 17 work on a subset of code that it works with. I quoted &quot;nothing&quot; because there is always an exception, especially with the audience you reach on SO."}],"answers":[{"tags":[],"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1688647783,"creation_date":1688647783,"answer_id":76629022,"question_id":76628100,"body_markdown":"As java updates a couple things change, although it is supposed to remain backwards compatible. ie unless you&#39;re using deprecated classes your code should compile and run with a new jdk.\r\n\r\nThe bytecode changes, but you can make compatible bytecode by telling javac to &quot;target&quot; an older bytecode version. \r\n\r\nOn top of that the source code changes. For example, lambda expressions. They didn&#39;t exist in java 1.6 so you cannot used them and expect to create 1.6 compatible bytecode. You can tell javac that you want to only compile java 1.6 compatible source code and you&#39;ll get an error about lambda expressions. \r\n\r\nOnce you have compatible source code, and compatible bytecode you have a problem with libraries. This is very simple, say I have a library, &quot;mylibrary.jar&quot; and it has a class &quot;MyClass.class&quot;. I can compile the code by providing the library, if you want to run that code. *You still need the library*. \r\n\r\n`Map.of` is an addition to the standard jdk, so it doesn&#39;t exist in 1.8 jdk&#39;s. Everything about it is compatible with java 8, so it passes the source and target tests. You just have to provide it when you run the program. Just like you would any other library.","title":"Can I use newer Java APIs when running older Java programs with a newer JRE","body":"<p>As java updates a couple things change, although it is supposed to remain backwards compatible. ie unless you're using deprecated classes your code should compile and run with a new jdk.</p>\n<p>The bytecode changes, but you can make compatible bytecode by telling javac to &quot;target&quot; an older bytecode version.</p>\n<p>On top of that the source code changes. For example, lambda expressions. They didn't exist in java 1.6 so you cannot used them and expect to create 1.6 compatible bytecode. You can tell javac that you want to only compile java 1.6 compatible source code and you'll get an error about lambda expressions.</p>\n<p>Once you have compatible source code, and compatible bytecode you have a problem with libraries. This is very simple, say I have a library, &quot;mylibrary.jar&quot; and it has a class &quot;MyClass.class&quot;. I can compile the code by providing the library, if you want to run that code. <em>You still need the library</em>.</p>\n<p><code>Map.of</code> is an addition to the standard jdk, so it doesn't exist in 1.8 jdk's. Everything about it is compatible with java 8, so it passes the source and target tests. You just have to provide it when you run the program. Just like you would any other library.</p>\n"}],"owner":{"account_id":12111183,"reputation":130,"user_id":8847871,"display_name":"ParSal"},"comment_count":20,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":109,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"accepted_answer_id":76629022,"answer_count":1,"score":-3,"last_activity_date":1688658210,"creation_date":1688641098,"question_id":76628100,"body_markdown":"I have a Java 8 application with I compiled to Java 8 bytecode using Java 17. So `source` and `target` are both Java 8. Why I did this is that there were many improvements in GC algorithms in Java 17. I did a bit of research and I know that I should write in Java 8 (or earlier) syntax if I want to compile to Java 8 bytecode.\r\n\r\nThen I noticed I can&#39;t use `Map.of()` function since the api is marked `@since 9` and it confused me. I&#39;m not using any newer Java syntax. **Why is it that I can use GC algorithms that come with Java 17 but I can&#39;t use standard libraries that come with it?**\r\n\r\nHere&#39;s how I think It should work:  \r\nJRE 17 (which runs my app) already containts all Java 17 standard libraries compiled in Java 17 bytecode. So when JVM encounters `Map.of()` (or any other methods marked with `@since 9+`) it should just run the standard library as usual.\r\n\r\nAlso, what is the problem with running `Map.of()` specifically?","title":"Can I use newer Java APIs when running older Java programs with a newer JRE","body":"<p>I have a Java 8 application with I compiled to Java 8 bytecode using Java 17. So <code>source</code> and <code>target</code> are both Java 8. Why I did this is that there were many improvements in GC algorithms in Java 17. I did a bit of research and I know that I should write in Java 8 (or earlier) syntax if I want to compile to Java 8 bytecode.</p>\n<p>Then I noticed I can't use <code>Map.of()</code> function since the api is marked <code>@since 9</code> and it confused me. I'm not using any newer Java syntax. <strong>Why is it that I can use GC algorithms that come with Java 17 but I can't use standard libraries that come with it?</strong></p>\n<p>Here's how I think It should work:<br />\nJRE 17 (which runs my app) already containts all Java 17 standard libraries compiled in Java 17 bytecode. So when JVM encounters <code>Map.of()</code> (or any other methods marked with <code>@since 9+</code>) it should just run the standard library as usual.</p>\n<p>Also, what is the problem with running <code>Map.of()</code> specifically?</p>\n"},{"tags":["java","amazon-dynamodb","amazon-dynamodb-local"],"answers":[{"tags":[],"owner":{"account_id":10749774,"reputation":14475,"user_id":7909676,"display_name":"Leeroy Hannigan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688658115,"creation_date":1688658115,"answer_id":76630511,"question_id":76627811,"body_markdown":"You cannot do a `Query` using `between` on a partition key: \r\n```\r\n.keyConditionExpression(&quot;REJECTION_DATE BETWEEN :startDate AND :endDate&quot;)\r\n```\r\n\r\nIf `REJECTION_DATE` is a non-key attribute then you must do a `Scan` and `FilterExpression` to obtain all of the items which have dates between your provided values. \r\n\r\nhttps://docs.aws.amazon.com/amazondynamodb/latest/developerguide/ScanJavaDocumentAPI.html","title":"Query condition missed key schema element(Service: DynamoDb","body":"<p>You cannot do a <code>Query</code> using <code>between</code> on a partition key:</p>\n<pre><code>.keyConditionExpression(&quot;REJECTION_DATE BETWEEN :startDate AND :endDate&quot;)\n</code></pre>\n<p>If <code>REJECTION_DATE</code> is a non-key attribute then you must do a <code>Scan</code> and <code>FilterExpression</code> to obtain all of the items which have dates between your provided values.</p>\n<p><a href=\"https://docs.aws.amazon.com/amazondynamodb/latest/developerguide/ScanJavaDocumentAPI.html\" rel=\"nofollow noreferrer\">https://docs.aws.amazon.com/amazondynamodb/latest/developerguide/ScanJavaDocumentAPI.html</a></p>\n"}],"owner":{"account_id":27296994,"reputation":1,"user_id":20814486,"display_name":"Ashok S"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1688658115,"creation_date":1688638819,"question_id":76627811,"body_markdown":"```\r\npublic class DynamoDBExample {\r\n    public static void main(String[] args) {\r\n\r\n        cred Cred = new cred();\r\n        var akey = Cred.getkey();\r\n        var aid = Cred.getid();\r\n        var region = Region.AP_SOUTH_1;\r\n\r\n        AwsCredentials Credentials = AwsBasicCredentials.create(akey, aid);\r\n        var dynamoDBClient = DynamoDbClient.builder()\r\n                .region(region)\r\n                .endpointOverride(URI.create(&quot;http://localhost:8000&quot;))\r\n                .credentialsProvider(StaticCredentialsProvider.create(Credentials))\r\n                .build();\r\n\r\n        String startDate = &quot;2023-01-01&quot;;\r\n        String endDate = &quot;2023-06-30&quot;;\r\n\r\n        Map&lt;String, AttributeValue&gt; expressionAttributeValues = new HashMap&lt;&gt;();\r\n        expressionAttributeValues.put(&quot;:startDate&quot;, AttributeValue.builder().s(startDate).build());\r\n        expressionAttributeValues.put(&quot;:endDate&quot;, AttributeValue.builder().s(endDate).build());\r\n\r\n        var queryRequest = QueryRequest.builder()\r\n                .tableName(&quot;IA_REJECTION&quot;)\r\n                .keyConditionExpression(&quot;REJECTION_DATE BETWEEN :startDate AND :endDate&quot;)\r\n                .expressionAttributeValues(expressionAttributeValues)\r\n                .build();\r\n\r\n        var starttime = System.currentTimeMillis();\r\n        QueryResponse response = dynamoDBClient.query(queryRequest);\r\n        var endtime = System.currentTimeMillis();\r\n\r\n        response.items().forEach(item -&gt; {\r\n            item.forEach((key, value) -&gt; System.out.println(key + &quot; --&gt; &quot; + value));\r\n            System.out.println();\r\n        });\r\n\r\n        var timetaken = endtime - starttime;\r\n        System.out.println(&quot;Total Time Taken To Run This Code: &quot; + timetaken + &quot;ms&quot;);\r\n    }\r\n}\r\n```\r\n\r\n\r\ni want to ressolve this issure i have a iapk -partision key and rejection no as a sort based on that i dont know use that.","title":"Query condition missed key schema element(Service: DynamoDb","body":"<pre><code>public class DynamoDBExample {\n    public static void main(String[] args) {\n\n        cred Cred = new cred();\n        var akey = Cred.getkey();\n        var aid = Cred.getid();\n        var region = Region.AP_SOUTH_1;\n\n        AwsCredentials Credentials = AwsBasicCredentials.create(akey, aid);\n        var dynamoDBClient = DynamoDbClient.builder()\n                .region(region)\n                .endpointOverride(URI.create(&quot;http://localhost:8000&quot;))\n                .credentialsProvider(StaticCredentialsProvider.create(Credentials))\n                .build();\n\n        String startDate = &quot;2023-01-01&quot;;\n        String endDate = &quot;2023-06-30&quot;;\n\n        Map&lt;String, AttributeValue&gt; expressionAttributeValues = new HashMap&lt;&gt;();\n        expressionAttributeValues.put(&quot;:startDate&quot;, AttributeValue.builder().s(startDate).build());\n        expressionAttributeValues.put(&quot;:endDate&quot;, AttributeValue.builder().s(endDate).build());\n\n        var queryRequest = QueryRequest.builder()\n                .tableName(&quot;IA_REJECTION&quot;)\n                .keyConditionExpression(&quot;REJECTION_DATE BETWEEN :startDate AND :endDate&quot;)\n                .expressionAttributeValues(expressionAttributeValues)\n                .build();\n\n        var starttime = System.currentTimeMillis();\n        QueryResponse response = dynamoDBClient.query(queryRequest);\n        var endtime = System.currentTimeMillis();\n\n        response.items().forEach(item -&gt; {\n            item.forEach((key, value) -&gt; System.out.println(key + &quot; --&gt; &quot; + value));\n            System.out.println();\n        });\n\n        var timetaken = endtime - starttime;\n        System.out.println(&quot;Total Time Taken To Run This Code: &quot; + timetaken + &quot;ms&quot;);\n    }\n}\n</code></pre>\n<p>i want to ressolve this issure i have a iapk -partision key and rejection no as a sort based on that i dont know use that.</p>\n"},{"tags":["java","generics","collections"],"comments":[{"owner":{"display_name":"user6073886"},"score":6,"creation_date":1688658211,"post_id":76630499,"comment_id":135106483,"body_markdown":"In your class declaration `public class FamilyGraph&lt;Person, E&gt;` the `Person` part is just a generic placeholder just like `E` and not referring to any class. If you want to extend a class and have a generic type always be a specific class in the subclass you need to declare the subclass with that 1 parameter less and put the concrete class in the extends syntax: `public class FamilyGraph&lt;E&gt; extends DirectedAcyclicGraph&lt;Person, E&gt;`. After all your new class only needs one generic parameter as the other one is fixed to a concrete class and not variable.","body":"In your class declaration <code>public class FamilyGraph&lt;Person, E&gt;</code> the <code>Person</code> part is just a generic placeholder just like <code>E</code> and not referring to any class. If you want to extend a class and have a generic type always be a specific class in the subclass you need to declare the subclass with that 1 parameter less and put the concrete class in the extends syntax: <code>public class FamilyGraph&lt;E&gt; extends DirectedAcyclicGraph&lt;Person, E&gt;</code>. After all your new class only needs one generic parameter as the other one is fixed to a concrete class and not variable."}],"owner":{"account_id":19615409,"reputation":3,"user_id":14357015,"display_name":"brian8267"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688657950,"creation_date":1688657950,"question_id":76630499,"body_markdown":"I want to extend JGraphT&#39;s DirectedAcyclicGraph class with signature `public class DirectedAcyclicGraph&lt;V,E&gt; extends AbstractBaseGraph&lt;V,E&gt; implements Iterable&lt;V&gt;` to create a FamilyGraph class where vertices are always of type Person. This would allow me to write methods such as:\r\n\r\n```\r\npublic List&lt;Person&gt; getMothers(final Person person) {\r\n        return getAncestors(person).stream().filter(p -&gt; p.getSex() == Sex.FEMALE).collect(Collectors.toList());\r\n    }\r\n```\r\n\r\n\r\nI tried `public class FamilyGraph&lt;Person, E&gt; extends DirectedAcyclicGraph&lt;V, E&gt;`, but that seemed like it didn&#39;t leverage the Person class I had.","title":"How do you extend a class with type parameters while enforcing a specific type?","body":"<p>I want to extend JGraphT's DirectedAcyclicGraph class with signature <code>public class DirectedAcyclicGraph&lt;V,E&gt; extends AbstractBaseGraph&lt;V,E&gt; implements Iterable&lt;V&gt;</code> to create a FamilyGraph class where vertices are always of type Person. This would allow me to write methods such as:</p>\n<pre><code>public List&lt;Person&gt; getMothers(final Person person) {\n        return getAncestors(person).stream().filter(p -&gt; p.getSex() == Sex.FEMALE).collect(Collectors.toList());\n    }\n</code></pre>\n<p>I tried <code>public class FamilyGraph&lt;Person, E&gt; extends DirectedAcyclicGraph&lt;V, E&gt;</code>, but that seemed like it didn't leverage the Person class I had.</p>\n"},{"tags":["java","performance","jenkins","groovy"],"comments":[{"owner":{"account_id":1023013,"reputation":16655,"user_id":1032890,"accept_rate":100,"display_name":"GeertPt"},"score":0,"creation_date":1644245535,"post_id":71020343,"comment_id":125546935,"body_markdown":"Why do you assume groovy is slower than Java? Groovy runs on the JVM, just as Java. There&#39;s just an additional initial compile step, which would probably add less than 0.001 % to your Jenkins Pipeline duration.","body":"Why do you assume groovy is slower than Java? Groovy runs on the JVM, just as Java. There&#39;s just an additional initial compile step, which would probably add less than 0.001 % to your Jenkins Pipeline duration."},{"owner":{"account_id":3720015,"reputation":31,"user_id":3095295,"display_name":"MichalT"},"score":0,"creation_date":1644258463,"post_id":71020343,"comment_id":125552731,"body_markdown":"I am basing on this article: https://dzone.com/articles/groovy-20-performance-compared. I am trying to replicate similar test on Jenkins using similar functions written in Java and in Groovy.","body":"I am basing on this article: <a href=\"https://dzone.com/articles/groovy-20-performance-compared\" rel=\"nofollow noreferrer\">dzone.com/articles/groovy-20-performance-compared</a>. I am trying to replicate similar test on Jenkins using similar functions written in Java and in Groovy."},{"owner":{"account_id":1333316,"reputation":26958,"user_id":1276664,"accept_rate":17,"display_name":"daggett"},"score":0,"creation_date":1644261874,"post_id":71020343,"comment_id":125554005,"body_markdown":"`1/` take any plugin source as example - almost all are written in java. https://plugins.jenkins.io/ `2/` pipeline itself is not a real groovy code - accept it as a configuration - your article is not really applicable here...","body":"<code>1&#47;</code> take any plugin source as example - almost all are written in java. <a href=\"https://plugins.jenkins.io/\" rel=\"nofollow noreferrer\">plugins.jenkins.io</a> <code>2&#47;</code> pipeline itself is not a real groovy code - accept it as a configuration - your article is not really applicable here..."}],"answers":[{"tags":[],"owner":{"account_id":1041926,"reputation":26177,"user_id":1047788,"accept_rate":81,"display_name":"user7610"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1688657869,"creation_date":1685392954,"answer_id":76360237,"question_id":71020343,"body_markdown":"### First option\r\n\r\nYou have to provide a Groovy interface, but you can call Java in your implementation.\r\n\r\nThat is, you need to write a Groovy shared library using groovy code and the folder hierarchy as shown in https://www.jenkins.io/doc/book/pipeline/shared-libraries/, but from within Groovy functions you can call into Java libraries you imported using `@Grab`, explained later in the same doc page.\r\n\r\nThis way, the majority of the logic can be in Java.\r\n\r\nThe code you import through @Grab can be written in any JVM language. The main caveat is that it has to be already compiled, uploaded somewhere, and available to be fetched.\r\n\r\nSee https://stackoverflow.com/questions/67890110/jenkins-shared-libraries-with-kotlin for another answer along these lines.\r\n\r\n### Second option\r\n\r\nBuild an executable in Java and have your pipeline download this prebuilt executable and run it. This is suggested in Jenkins documentation in\r\n\r\n* https://www.jenkins.io/doc/book/pipeline/pipeline-best-practices/#making-sure-to-use-groovy-code-in-pipelines-as-glue\r\n* https://www.jenkins.io/doc/book/pipeline/pipeline-best-practices/#avoiding-complex-groovy-code-in-pipelines\r\n\r\n### Third option\r\n\r\nBuild something akin to a GitHub Action. That is, create a prebuilt Docker container which contains the tool you want to run. Then, in your pipeline, you can use a different container for every pipeline stage, depending on what you need to do. This might end up being simpler than the previous option, in some cases.\r\n\r\nThis is documented in https://www.jenkins.io/doc/book/pipeline/docker/#workspace-synchronization\r\n\r\n```groovy\r\npipeline {\r\n    agent any\r\n    stages {\r\n        stage(&#39;Build&#39;) {\r\n            agent {\r\n                docker {\r\n                    image &#39;docker.io/my-corp/my-tool:v2&#39;\r\n                    reuseNode true\r\n                }\r\n            }\r\n            steps {\r\n                sh &#39;my-tool --version&#39;\r\n            }\r\n        }\r\n    }\r\n}\r\n```","title":"Jenkins pipeline library build using Java instead of Groovy","body":"<h3>First option</h3>\n<p>You have to provide a Groovy interface, but you can call Java in your implementation.</p>\n<p>That is, you need to write a Groovy shared library using groovy code and the folder hierarchy as shown in <a href=\"https://www.jenkins.io/doc/book/pipeline/shared-libraries/\" rel=\"nofollow noreferrer\">https://www.jenkins.io/doc/book/pipeline/shared-libraries/</a>, but from within Groovy functions you can call into Java libraries you imported using <code>@Grab</code>, explained later in the same doc page.</p>\n<p>This way, the majority of the logic can be in Java.</p>\n<p>The code you import through @Grab can be written in any JVM language. The main caveat is that it has to be already compiled, uploaded somewhere, and available to be fetched.</p>\n<p>See <a href=\"https://stackoverflow.com/questions/67890110/jenkins-shared-libraries-with-kotlin\">Jenkins shared libraries with kotlin</a> for another answer along these lines.</p>\n<h3>Second option</h3>\n<p>Build an executable in Java and have your pipeline download this prebuilt executable and run it. This is suggested in Jenkins documentation in</p>\n<ul>\n<li><a href=\"https://www.jenkins.io/doc/book/pipeline/pipeline-best-practices/#making-sure-to-use-groovy-code-in-pipelines-as-glue\" rel=\"nofollow noreferrer\">https://www.jenkins.io/doc/book/pipeline/pipeline-best-practices/#making-sure-to-use-groovy-code-in-pipelines-as-glue</a></li>\n<li><a href=\"https://www.jenkins.io/doc/book/pipeline/pipeline-best-practices/#avoiding-complex-groovy-code-in-pipelines\" rel=\"nofollow noreferrer\">https://www.jenkins.io/doc/book/pipeline/pipeline-best-practices/#avoiding-complex-groovy-code-in-pipelines</a></li>\n</ul>\n<h3>Third option</h3>\n<p>Build something akin to a GitHub Action. That is, create a prebuilt Docker container which contains the tool you want to run. Then, in your pipeline, you can use a different container for every pipeline stage, depending on what you need to do. This might end up being simpler than the previous option, in some cases.</p>\n<p>This is documented in <a href=\"https://www.jenkins.io/doc/book/pipeline/docker/#workspace-synchronization\" rel=\"nofollow noreferrer\">https://www.jenkins.io/doc/book/pipeline/docker/#workspace-synchronization</a></p>\n<pre><code>pipeline {\n    agent any\n    stages {\n        stage('Build') {\n            agent {\n                docker {\n                    image 'docker.io/my-corp/my-tool:v2'\n                    reuseNode true\n                }\n            }\n            steps {\n                sh 'my-tool --version'\n            }\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":3720015,"reputation":31,"user_id":3095295,"display_name":"MichalT"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":367,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1685445753,"answer_count":1,"score":1,"last_activity_date":1688657869,"creation_date":1644244688,"question_id":71020343,"body_markdown":"I would like to write my company Jenkins Pipeline Library using Java not Groovy, as groovy is slower than Java.\r\nI tried to find examples of such Java Jenkins library source code, but I found only Groovy. \r\nAny help with this model (Java libraries + Jenkins).\r\nDo you have experience in such composition?\r\nThanks in advance.","title":"Jenkins pipeline library build using Java instead of Groovy","body":"<p>I would like to write my company Jenkins Pipeline Library using Java not Groovy, as groovy is slower than Java.\nI tried to find examples of such Java Jenkins library source code, but I found only Groovy.\nAny help with this model (Java libraries + Jenkins).\nDo you have experience in such composition?\nThanks in advance.</p>\n"},{"tags":["java","recursion","methods","backtracking"],"comments":[{"owner":{"display_name":"user6073886"},"score":2,"creation_date":1688653324,"post_id":76629806,"comment_id":135105401,"body_markdown":"Why did you decide to declare the same method `int howManySort(int length,int max)` twice, once as private and once public? And what is `howManySorted(n,max,1)` supposed to call? I don&#39;t see any method with that name.","body":"Why did you decide to declare the same method <code>int howManySort(int length,int max)</code> twice, once as private and once public? And what is <code>howManySorted(n,max,1)</code> supposed to call? I don&#39;t see any method with that name."},{"owner":{"account_id":305991,"reputation":39137,"user_id":616460,"accept_rate":93,"display_name":"Jason C"},"score":1,"creation_date":1688653552,"post_id":76629806,"comment_id":135105459,"body_markdown":"First work on fixing your compilation errors. Then you can focus on problems with the algorithm itself.","body":"First work on fixing your compilation errors. Then you can focus on problems with the algorithm itself."}],"answers":[{"tags":[],"owner":{"account_id":4113392,"reputation":5800,"user_id":3375670,"accept_rate":88,"display_name":"Robert Kock"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1688657844,"creation_date":1688657844,"answer_id":76630488,"question_id":76629806,"body_markdown":"I think you intended the private method with 3 parameters where the 3rd one (=i) indicates the minimum.  \r\nI understood your intention but you don&#39;t need it (see below).\r\n\r\nYou were almost there:\r\n- If either the maximum or the length is less then 1, then the result is 0\r\n- If the maximum equals 1 then there&#39;s a single way, independently of the length\r\n- If the length equals 1 then the number of ways equals the maximum\r\n\r\nIn all other cases the number of ways is determined as follows:  \r\nJust to explain, consider length=max=3.  \r\nThe possible 10 ways are\r\n\r\n    1 1 1\r\n    1 1 2\r\n    1 1 3\r\n    1 2 2\r\n    1 2 3\r\n    1 3 3\r\n    2 2 2\r\n    2 2 3\r\n    2 3 3\r\n    3 3 3\r\n\r\nThe first 6 report the number of ways for an array with length minus 1 and the same maximum. Just forget the first column being always 1.  \r\nThe remaining 4 report the number of ways for an array with the same length and maximum minus 1.  \r\nThe latter because\r\n\r\n    2 2 2\r\n    2 2 3\r\n    2 3 3\r\n    3 3 3\r\n\r\nin fact equals\r\n\r\n    1 1 1\r\n    1 1 2\r\n    1 2 2\r\n    2 2 2\r\n\r\nI would therefore implement the method as follows:\r\n\r\n    public int howManySort(int length,\r\n                           int max)\r\n    {\r\n      if ((length &lt; 1) || (max &lt; 1))\r\n        return (0);\r\n      else if (max == 1)\r\n        return (1);\r\n      else if (length == 1)\r\n        return (max);\r\n      else\r\n        return (howManySort(length - 1, max) + howManySort(length, max - 1));\r\n    }\r\n\r\n","title":"i need to write a method using recursion without any use of loops from 1 to max with non descending way","body":"<p>I think you intended the private method with 3 parameters where the 3rd one (=i) indicates the minimum.<br />\nI understood your intention but you don't need it (see below).</p>\n<p>You were almost there:</p>\n<ul>\n<li>If either the maximum or the length is less then 1, then the result is 0</li>\n<li>If the maximum equals 1 then there's a single way, independently of the length</li>\n<li>If the length equals 1 then the number of ways equals the maximum</li>\n</ul>\n<p>In all other cases the number of ways is determined as follows:<br />\nJust to explain, consider length=max=3.<br />\nThe possible 10 ways are</p>\n<pre><code>1 1 1\n1 1 2\n1 1 3\n1 2 2\n1 2 3\n1 3 3\n2 2 2\n2 2 3\n2 3 3\n3 3 3\n</code></pre>\n<p>The first 6 report the number of ways for an array with length minus 1 and the same maximum. Just forget the first column being always 1.<br />\nThe remaining 4 report the number of ways for an array with the same length and maximum minus 1.<br />\nThe latter because</p>\n<pre><code>2 2 2\n2 2 3\n2 3 3\n3 3 3\n</code></pre>\n<p>in fact equals</p>\n<pre><code>1 1 1\n1 1 2\n1 2 2\n2 2 2\n</code></pre>\n<p>I would therefore implement the method as follows:</p>\n<pre><code>public int howManySort(int length,\n                       int max)\n{\n  if ((length &lt; 1) || (max &lt; 1))\n    return (0);\n  else if (max == 1)\n    return (1);\n  else if (length == 1)\n    return (max);\n  else\n    return (howManySort(length - 1, max) + howManySort(length, max - 1));\n}\n</code></pre>\n"}],"owner":{"account_id":13811590,"reputation":1,"user_id":9969213,"display_name":"Mohamad Masaada"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1688657844,"creation_date":1688653178,"question_id":76629806,"body_markdown":"method howManySort(int length,int max) , length declares the length of the array and max declares the maximum number.\r\n\r\n- for example if length=3 and max=2 there are 4 ways to sort the numbers from 1 to 2(include) in a non descending way\r\n\r\n1. (1,1,1)\r\n2. (1,1,2)\r\n3. (1,2,2)\r\n4. (2,2,2) \r\n\r\n- another example is if length=2 and max=3 there are 6 ways to sort the number from 1 to 3(include) in a non descending way\r\n\r\n1. (1,1)\r\n2. (1,2)\r\n3. (1,3)\r\n4. (2,2)\r\n5. (2,3)\r\n6. (3,3)\r\n\r\nthe method must not return or print the array it must return the number of ways that we can sort the array, we can&#39;t use any mathematical formula or loops just recursion. please explain the solution\r\n\r\ni tried this:\r\n\r\n    public int howManySort(int length,int max){\r\n     return howManySort(length,max,1);\r\n    }\r\n\r\n    private int howManySort(int length,int max){\r\n    if(i&gt;max){\r\n     return 0;\r\n    }\r\n    if(length==0){\r\n     return 1+howManySort(length,max,i+1);\r\n    }\r\n    return howManySort(length-1,max,i);\r\n    }\r\n\r\n\r\n\r\n","title":"i need to write a method using recursion without any use of loops from 1 to max with non descending way","body":"<p>method howManySort(int length,int max) , length declares the length of the array and max declares the maximum number.</p>\n<ul>\n<li>for example if length=3 and max=2 there are 4 ways to sort the numbers from 1 to 2(include) in a non descending way</li>\n</ul>\n<ol>\n<li>(1,1,1)</li>\n<li>(1,1,2)</li>\n<li>(1,2,2)</li>\n<li>(2,2,2)</li>\n</ol>\n<ul>\n<li>another example is if length=2 and max=3 there are 6 ways to sort the number from 1 to 3(include) in a non descending way</li>\n</ul>\n<ol>\n<li>(1,1)</li>\n<li>(1,2)</li>\n<li>(1,3)</li>\n<li>(2,2)</li>\n<li>(2,3)</li>\n<li>(3,3)</li>\n</ol>\n<p>the method must not return or print the array it must return the number of ways that we can sort the array, we can't use any mathematical formula or loops just recursion. please explain the solution</p>\n<p>i tried this:</p>\n<pre><code>public int howManySort(int length,int max){\n return howManySort(length,max,1);\n}\n\nprivate int howManySort(int length,int max){\nif(i&gt;max){\n return 0;\n}\nif(length==0){\n return 1+howManySort(length,max,i+1);\n}\nreturn howManySort(length-1,max,i);\n}\n</code></pre>\n"},{"tags":["java","swing","java-11","look-and-feel","jide"],"comments":[{"owner":{"account_id":4113392,"reputation":5800,"user_id":3375670,"accept_rate":88,"display_name":"Robert Kock"},"score":2,"creation_date":1688661487,"post_id":76630481,"comment_id":135107166,"body_markdown":"Maybe a silly comment, but it looks like you&#39;re trying to load a Windows L&amp;F while not running within a Windows environment. In that case it&#39;s highly unlikely that the JVM contains that L&amp;F.","body":"Maybe a silly comment, but it looks like you&#39;re trying to load a Windows L&amp;F while not running within a Windows environment. In that case it&#39;s highly unlikely that the JVM contains that L&amp;F."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1688720862,"post_id":76630481,"comment_id":135114665,"body_markdown":"This Windows L&amp;F was never part of the official API so a custom look and feel directly accessing those classes always was a hack.","body":"This Windows L&amp;F was never part of the official API so a custom look and feel directly accessing those classes always was a hack."}],"owner":{"account_id":15801712,"reputation":1294,"user_id":11402025,"display_name":"Tanu"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":167,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688657795,"creation_date":1688657795,"question_id":76630481,"body_markdown":"I am trying to use \r\n\r\nLookAndFeelFactory.installJideExtension();\r\n\r\nand get the error \r\n\r\n```\r\nException in thread &quot;AWT-EventQueue-0&quot; java.lang.NoClassDefFoundError: com/sun/java/swing/plaf/windows/WindowsLookAndFeel\r\n        at com.jidesoft.plaf.LookAndFeelFactory.installJideExtension(Unknown Source)\r\n        at com.jidesoft.plaf.LookAndFeelFactory.installJideExtension(Unknown Source)\r\n        at com.jidesoft.plaf.LookAndFeelFactory.installJideExtension(Unknown Source)\r\n```\r\n \r\nI am importing this library import com.jidesoft.plaf.LookAndFeelFactory and ./gradlew -q clean build working properly but I get the error when I try to run my project. \r\n\r\nThanks,\r\n\r\n\r\n\r\n\r\n","title":"Exception in thread &quot;AWT-EventQueue-0&quot; java.lang.NoClassDefFoundError: com/sun/java/swing/plaf/windows/WindowsLookAndFeel","body":"<p>I am trying to use</p>\n<p>LookAndFeelFactory.installJideExtension();</p>\n<p>and get the error</p>\n<pre><code>Exception in thread &quot;AWT-EventQueue-0&quot; java.lang.NoClassDefFoundError: com/sun/java/swing/plaf/windows/WindowsLookAndFeel\n        at com.jidesoft.plaf.LookAndFeelFactory.installJideExtension(Unknown Source)\n        at com.jidesoft.plaf.LookAndFeelFactory.installJideExtension(Unknown Source)\n        at com.jidesoft.plaf.LookAndFeelFactory.installJideExtension(Unknown Source)\n</code></pre>\n<p>I am importing this library import com.jidesoft.plaf.LookAndFeelFactory and ./gradlew -q clean build working properly but I get the error when I try to run my project.</p>\n<p>Thanks,</p>\n"},{"tags":["java","windows","visual-studio-code","intellij-idea"],"comments":[{"owner":{"account_id":36734,"reputation":392117,"user_id":104891,"display_name":"CrazyCoder"},"score":1,"creation_date":1688659521,"post_id":76630432,"comment_id":135106796,"body_markdown":"Please see https://www.jetbrains.com/code-with-me/buy/#personal.","body":"Please see <a href=\"https://www.jetbrains.com/code-with-me/buy/#personal\" rel=\"nofollow noreferrer\">jetbrains.com/code-with-me/buy/#personal</a>."},{"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"score":0,"creation_date":1690768880,"post_id":76630432,"comment_id":135394488,"body_markdown":"May I know what&#39;s going on with the problem? If it has been solved, can you change the status of the answer to help more people with similar problems.","body":"May I know what&#39;s going on with the problem? If it has been solved, can you change the status of the answer to help more people with similar problems."}],"owner":{"account_id":28964104,"reputation":1,"user_id":22185976,"display_name":"Kumari Shreya"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":699,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688657416,"creation_date":1688657416,"question_id":76630432,"body_markdown":"I want to  enable the option &quot;code with me&quot; for which I need to paste or drop an activation code. But I don&#39;t know what is that exactly and from where can I get that ??\r\n\r\nI tried to start my coding journey and I found that to start that I need to enable the code withe option for which I needed an activation code . I expected to get that code via an email or something but it didn&#39;t happen.","title":"How to get activation code to enable &quot; code with me&quot; option?","body":"<p>I want to  enable the option &quot;code with me&quot; for which I need to paste or drop an activation code. But I don't know what is that exactly and from where can I get that ??</p>\n<p>I tried to start my coding journey and I found that to start that I need to enable the code withe option for which I needed an activation code . I expected to get that code via an email or something but it didn't happen.</p>\n"},{"tags":["java","sql","mysql"],"comments":[{"owner":{"account_id":28695489,"reputation":611,"user_id":21973805,"display_name":"Ahmed Nabil"},"score":0,"creation_date":1688653235,"post_id":76629706,"comment_id":135105377,"body_markdown":"let me clear things out, are you trying to get the latest 2 entries in  analytics_cron_refresh_time table as a whole, or trying to get the last 2 entries for each study_id","body":"let me clear things out, are you trying to get the latest 2 entries in  analytics_cron_refresh_time table as a whole, or trying to get the last 2 entries for each study_id"},{"owner":{"account_id":28963485,"reputation":1,"user_id":22185501,"display_name":"thread"},"score":0,"creation_date":1688653883,"post_id":76629706,"comment_id":135105537,"body_markdown":"for each study 2 latest records","body":"for each study 2 latest records"},{"owner":{"account_id":10933290,"reputation":2086,"user_id":8035759,"display_name":"Asgar"},"score":0,"creation_date":1688655941,"post_id":76629706,"comment_id":135106021,"body_markdown":"Can you enter some sample data and desired output?\nOr even better would be, if you could provide a [SQL Fiddle](https://www.db-fiddle.com/)","body":"Can you enter some sample data and desired output? Or even better would be, if you could provide a <a href=\"https://www.db-fiddle.com/\" rel=\"nofollow noreferrer\">SQL Fiddle</a>"},{"owner":{"account_id":28963485,"reputation":1,"user_id":22185501,"display_name":"thread"},"score":0,"creation_date":1688656827,"post_id":76629706,"comment_id":135106195,"body_markdown":"I have added a sample insert script for a better understanding, please go through that\nif we have that same data 5 times for same study id and other columns value will different then we should get once 2 recorded out off 5 that too based on created at DESC order","body":"I have added a sample insert script for a better understanding, please go through that if we have that same data 5 times for same study id and other columns value will different then we should get once 2 recorded out off 5 that too based on created at DESC order"}],"answers":[{"tags":[],"owner":{"account_id":28695489,"reputation":611,"user_id":21973805,"display_name":"Ahmed Nabil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688657114,"creation_date":1688656310,"answer_id":76630277,"question_id":76629706,"body_markdown":"try this\r\n```\r\nSELECT *\r\n   FROM\r\n     (SELECT *,\r\n             @study_rank := IF(@current_study = study_id, @study_rank + 1, 1) AS study_rank,\r\n             @current_study := study_id\r\n       FROM analytics_cron_refresh_time\r\n       WHERE status = &#39;Complete&#39;\r\n       ORDER BY study_id, created_at DESC\r\n     ) ranked\r\n   WHERE study_rank &lt;= 2;\r\n```\r\nyou can find more about how session variables work [here][1] also notice that select would have 2 more columns if you wanna get rid of them try selecting specific columns in outer select instead of *\r\n\r\n\r\n  [1]: http://www.sqlines.com/mysql/how-to/get_top_n_each_group","title":"How to select recent 2 records from multiple records for multiple study ids?","body":"<p>try this</p>\n<pre><code>SELECT *\n   FROM\n     (SELECT *,\n             @study_rank := IF(@current_study = study_id, @study_rank + 1, 1) AS study_rank,\n             @current_study := study_id\n       FROM analytics_cron_refresh_time\n       WHERE status = 'Complete'\n       ORDER BY study_id, created_at DESC\n     ) ranked\n   WHERE study_rank &lt;= 2;\n</code></pre>\n<p>you can find more about how session variables work <a href=\"http://www.sqlines.com/mysql/how-to/get_top_n_each_group\" rel=\"nofollow noreferrer\">here</a> also notice that select would have 2 more columns if you wanna get rid of them try selecting specific columns in outer select instead of *</p>\n"},{"tags":[],"owner":{"account_id":12936126,"reputation":73,"user_id":9353408,"display_name":"Nagaraj S Kharvi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688656822,"creation_date":1688656822,"answer_id":76630352,"question_id":76629706,"body_markdown":"This should help you in finding the latest two records of each group by study_id\r\n\r\n   \r\n\r\n     SELECT study_id, last_completion_date\r\n        FROM (\r\n        \tSELECT study_id,last_completion_date,\r\n    ROW_NUMBER() OVER (PARTITION BY study_id ORDER BY last_completion_date DESC) AS row_number\r\n        \tFROM analytics_cron_refresh_time WHERE status = &#39;Complete&#39;) t\r\n        WHERE t.row_number = 1 OR t.row_number = 2","title":"How to select recent 2 records from multiple records for multiple study ids?","body":"<p>This should help you in finding the latest two records of each group by study_id</p>\n<pre><code> SELECT study_id, last_completion_date\n    FROM (\n        SELECT study_id,last_completion_date,\nROW_NUMBER() OVER (PARTITION BY study_id ORDER BY last_completion_date DESC) AS row_number\n        FROM analytics_cron_refresh_time WHERE status = 'Complete') t\n    WHERE t.row_number = 1 OR t.row_number = 2\n</code></pre>\n"}],"owner":{"account_id":28963485,"reputation":1,"user_id":22185501,"display_name":"thread"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1688657114,"creation_date":1688652489,"question_id":76629706,"body_markdown":"Below is my table script.\r\nI have multiple entries for the same study id with different api_cron_job_id, created_at and status can be Complete OR In Progress.\r\n\r\nbasically, we are inserting records based on study id with different values for all columns and timestamps in created at the column for e.g. here is the insert script\r\n\r\n```\r\nINSERT INTO `analytics_cron_refresh_time` (`id`, `study_id`, `client_id`, `last_completion_date`, `status`, `created_at`, `modifed_at`, `api_cron_job_id`)\r\nVALUES (&#39;2798d9b0-ef59-496e-ba21-f2d7bdc9518d&#39;, &#39;c5d52f86-c0e3-46e3-a164-ac321329d78e&#39;, &#39;654111&#39;, &#39;2023-07-06 13:12:55.598&#39;, &#39;Complete&#39;, &#39;2023-07-06 13:12:50.000&#39;, &#39;2023-07-06 13:12:55.598&#39;, 147);\r\n```\r\n\r\nNow I want to select recent 2 entries for each study_id \r\n\r\nCan you please help me, and please someone format this question, its my first question so all folks understand it.\r\n\r\n\r\n```\r\nCREATE TABLE `analytics_cron_refresh_time` (\r\n   `id` varchar(100) NOT NULL,\r\n   `study_id` varchar(100) DEFAULT NULL,\r\n   `client_id` varchar(45) DEFAULT NULL,\r\n   `last_completion_date` datetime(3) DEFAULT NULL,\r\n   `status` varchar(45) DEFAULT NULL,\r\n   `created_at` datetime(3) DEFAULT NULL,\r\n   `modifed_at` datetime(3) DEFAULT NULL,\r\n   `api_cron_job_id` int(11) NOT NULL AUTO_INCREMENT,\r\n   PRIMARY KEY (`id`),\r\n   UNIQUE KEY `api_cron_job_id_UNIQUE` (`api_cron_job_id`),\r\n   KEY `idx_study_id` (`study_id`,`api_cron_job_id`),\r\n   KEY `idx_study_id_status` (`status`,`study_id`,`api_cron_job_id`)\r\n ) ENGINE=InnoDB AUTO_INCREMENT=52 DEFAULT CHARSET=latin1\r\n```\r\n\r\n*I tried below script *\r\n\r\n```\r\nSELECT t1.*\r\nFROM analytics_cron_refresh_time t1\r\nLEFT JOIN analytics_cron_refresh_time t2 \r\n    ON t1.study_id = t2.study_id AND t1.created_at &lt; t2.created_at AND t1.status\r\nWHERE t1.status = &#39;Complete&#39;\r\nGROUP BY t1.study_id\r\nHAVING COUNT(*) &gt; 2\r\nORDER BY t1.created_at DESC;\r\n```\r\n\r\nbut getting incorrect data.","title":"How to select recent 2 records from multiple records for multiple study ids?","body":"<p>Below is my table script.\nI have multiple entries for the same study id with different api_cron_job_id, created_at and status can be Complete OR In Progress.</p>\n<p>basically, we are inserting records based on study id with different values for all columns and timestamps in created at the column for e.g. here is the insert script</p>\n<pre><code>INSERT INTO `analytics_cron_refresh_time` (`id`, `study_id`, `client_id`, `last_completion_date`, `status`, `created_at`, `modifed_at`, `api_cron_job_id`)\nVALUES ('2798d9b0-ef59-496e-ba21-f2d7bdc9518d', 'c5d52f86-c0e3-46e3-a164-ac321329d78e', '654111', '2023-07-06 13:12:55.598', 'Complete', '2023-07-06 13:12:50.000', '2023-07-06 13:12:55.598', 147);\n</code></pre>\n<p>Now I want to select recent 2 entries for each study_id</p>\n<p>Can you please help me, and please someone format this question, its my first question so all folks understand it.</p>\n<pre><code>CREATE TABLE `analytics_cron_refresh_time` (\n   `id` varchar(100) NOT NULL,\n   `study_id` varchar(100) DEFAULT NULL,\n   `client_id` varchar(45) DEFAULT NULL,\n   `last_completion_date` datetime(3) DEFAULT NULL,\n   `status` varchar(45) DEFAULT NULL,\n   `created_at` datetime(3) DEFAULT NULL,\n   `modifed_at` datetime(3) DEFAULT NULL,\n   `api_cron_job_id` int(11) NOT NULL AUTO_INCREMENT,\n   PRIMARY KEY (`id`),\n   UNIQUE KEY `api_cron_job_id_UNIQUE` (`api_cron_job_id`),\n   KEY `idx_study_id` (`study_id`,`api_cron_job_id`),\n   KEY `idx_study_id_status` (`status`,`study_id`,`api_cron_job_id`)\n ) ENGINE=InnoDB AUTO_INCREMENT=52 DEFAULT CHARSET=latin1\n</code></pre>\n<p>*I tried below script *</p>\n<pre><code>SELECT t1.*\nFROM analytics_cron_refresh_time t1\nLEFT JOIN analytics_cron_refresh_time t2 \n    ON t1.study_id = t2.study_id AND t1.created_at &lt; t2.created_at AND t1.status\nWHERE t1.status = 'Complete'\nGROUP BY t1.study_id\nHAVING COUNT(*) &gt; 2\nORDER BY t1.created_at DESC;\n</code></pre>\n<p>but getting incorrect data.</p>\n"},{"tags":["java","spring","spring-boot","upgrade"],"comments":[{"owner":{"account_id":4429392,"reputation":1360,"user_id":3606872,"accept_rate":76,"display_name":"Viraj"},"score":0,"creation_date":1696907142,"post_id":76594575,"comment_id":136209478,"body_markdown":"I am also getting for spring boot version 2.7.16, earlier wasn&#39;t, strange.","body":"I am also getting for spring boot version 2.7.16, earlier wasn&#39;t, strange."}],"answers":[{"tags":[],"owner":{"account_id":25440494,"reputation":16,"user_id":19243522,"display_name":"MZielinski"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688657044,"creation_date":1688657044,"answer_id":76630383,"question_id":76594575,"body_markdown":"Please, make sure that you do not have any old spring-boot (2.x) and spring (5.x) on class-path. I had the same issue, but after defining explicit version of spring-boot and spring in build.gradle\r\n\r\n```\r\n&quot;org.springframework.boot:spring-boot:$springBootVersion&quot;,\r\n&quot;org.springframework.boot:spring-boot-autoconfigure:$springBootVersion&quot;,\r\n&quot;org.springframework:spring-context:$springVersion&quot;,\r\n&quot;org.springframework:spring-tx:$springVersion&quot;,\r\n```\r\n\r\nProblem disappeared. \r\n\r\nSpring 5.x has field SearchStrategy.TYPE_HIERARCHY_AND_ENCLOSING_CLASSES, where Spring 6.x don&#39;t.\r\n\r\nThat&#39;s why I guess, you have still Spring 5.x on the classpath","title":"java.lang.NoSuchFieldError: TYPE_HIERARCHY_AND_ENCLOSING_CLASSES","body":"<p>Please, make sure that you do not have any old spring-boot (2.x) and spring (5.x) on class-path. I had the same issue, but after defining explicit version of spring-boot and spring in build.gradle</p>\n<pre><code>&quot;org.springframework.boot:spring-boot:$springBootVersion&quot;,\n&quot;org.springframework.boot:spring-boot-autoconfigure:$springBootVersion&quot;,\n&quot;org.springframework:spring-context:$springVersion&quot;,\n&quot;org.springframework:spring-tx:$springVersion&quot;,\n</code></pre>\n<p>Problem disappeared.</p>\n<p>Spring 5.x has field SearchStrategy.TYPE_HIERARCHY_AND_ENCLOSING_CLASSES, where Spring 6.x don't.</p>\n<p>That's why I guess, you have still Spring 5.x on the classpath</p>\n"}],"owner":{"account_id":11249823,"reputation":1,"user_id":8251272,"display_name":"Vinit Pandey"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1575,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1688657044,"creation_date":1688212325,"question_id":76594575,"body_markdown":"When I tried upgrading the Spring boot version to 2.7.5 and spring framework dependencies version to 6.0.10 , as I have upgraded the java version to JDK 17, I am getting the following error while running the application.\r\n\r\n    java.lang.NoSuchFieldError: TYPE_HIERARCHY_AND_ENCLOSING_CLASSES at org.springframework.boot.context.properties.ConfigurationPropertiesBindConstructorProvider.isConstructorBindingAnnotatedType(ConfigurationPropertiesBindConstructorProvider.java:89) ~[spring-boot-2.7.5.jar:2.7.5]\r\n\r\nPlease, let me know what can I try to resolve this issue.\r\n\r\nI tried using the lower version of spring framework dependencies. Still no luck.","title":"java.lang.NoSuchFieldError: TYPE_HIERARCHY_AND_ENCLOSING_CLASSES","body":"<p>When I tried upgrading the Spring boot version to 2.7.5 and spring framework dependencies version to 6.0.10 , as I have upgraded the java version to JDK 17, I am getting the following error while running the application.</p>\n<pre><code>java.lang.NoSuchFieldError: TYPE_HIERARCHY_AND_ENCLOSING_CLASSES at org.springframework.boot.context.properties.ConfigurationPropertiesBindConstructorProvider.isConstructorBindingAnnotatedType(ConfigurationPropertiesBindConstructorProvider.java:89) ~[spring-boot-2.7.5.jar:2.7.5]\n</code></pre>\n<p>Please, let me know what can I try to resolve this issue.</p>\n<p>I tried using the lower version of spring framework dependencies. Still no luck.</p>\n"},{"tags":["javascript","java","graalvm","graaljs"],"owner":{"account_id":2987419,"reputation":1969,"user_id":2535843,"accept_rate":76,"display_name":"Mahdi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688656756,"creation_date":1688655214,"question_id":76630111,"body_markdown":"Is it possible to pause execution of a js script at a specific line and resume it later?\r\n\r\nOr even better, ask the engine to run only one line of JS and wait for instructions to proceed?\r\n\r\nI want to allow a limited debugger-like functionality when running JS via GraalVM.","title":"GraalJS: How to pause a script or run it line by line?","body":"<p>Is it possible to pause execution of a js script at a specific line and resume it later?</p>\n<p>Or even better, ask the engine to run only one line of JS and wait for instructions to proceed?</p>\n<p>I want to allow a limited debugger-like functionality when running JS via GraalVM.</p>\n"},{"tags":["java","clojure","bytecode"],"answers":[{"tags":[],"owner":{"account_id":189383,"reputation":4209,"user_id":428691,"accept_rate":40,"display_name":"&#201;dipo F&#233;derle"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1688655794,"creation_date":1688655794,"answer_id":76630208,"question_id":76630040,"body_markdown":"OK,\r\n\r\nlooks like it is simple like:\r\n\r\n  \r\n\r\n      (def test-data\r\n      {:name &#39;pkg.Main\r\n       ;; :version 16 \r\n       :methods [{:flags [:public :static], :name &quot;main&quot;, :desc [[String] :void]\r\n                  :emit [[:getstatic System &quot;out&quot;]\r\n                         [:ldc &quot;Hello, World!&quot;]\r\n                         [:invokevirtual java.io.PrintStream &quot;println&quot; [String :void]]\r\n                         [:return]]}]})\r\n    \r\n    (require &#39;[insn.core :as insn])\r\n    \r\n    (insn/write (insn/visit test-data) &quot;/tmp/test&quot;)\r\n    \r\nFrom: https://github.com/jgpc42/insn/issues/6","title":"Write btytecode to file using Clojure asm library","body":"<p>OK,</p>\n<p>looks like it is simple like:</p>\n<pre><code>  (def test-data\n  {:name 'pkg.Main\n   ;; :version 16 \n   :methods [{:flags [:public :static], :name &quot;main&quot;, :desc [[String] :void]\n              :emit [[:getstatic System &quot;out&quot;]\n                     [:ldc &quot;Hello, World!&quot;]\n                     [:invokevirtual java.io.PrintStream &quot;println&quot; [String :void]]\n                     [:return]]}]})\n\n(require '[insn.core :as insn])\n\n(insn/write (insn/visit test-data) &quot;/tmp/test&quot;)\n</code></pre>\n<p>From: <a href=\"https://github.com/jgpc42/insn/issues/6\" rel=\"nofollow noreferrer\">https://github.com/jgpc42/insn/issues/6</a></p>\n"}],"owner":{"account_id":189383,"reputation":4209,"user_id":428691,"accept_rate":40,"display_name":"&#201;dipo F&#233;derle"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1688655794,"creation_date":1688654729,"question_id":76630040,"body_markdown":"I&#39;m playing with Java byte-code generation using Clojure with the [https://github.com/jgpc42/asm][1]. So far so good, but now I am trying to export the generated bytecode to a .class file. With Java ([code from][2]), I see is possible with something like the code bellow, but not sure exactly no to translate it to Clojure using the asm library.\r\n    \r\n    import org.objectweb.asm.*;\r\n    \r\n    public class TestingDump implements Opcodes {\r\n    \r\n        public static byte[] dump() throws Exception {\r\n    \r\n            ClassWriter cw = new ClassWriter(0);\r\n            FieldVisitor fv;\r\n            MethodVisitor mv;\r\n            AnnotationVisitor av0;\r\n    \r\n            cw.visit(V1_6, ACC_PUBLIC + ACC_SUPER, &quot;Testing&quot;, null, &quot;java/lang/Object&quot;, null);\r\n    \r\n            cw.visitSource(&quot;Testing.java&quot;, null);\r\n    \r\n            {\r\n                mv = cw.visitMethod(ACC_PUBLIC, &quot;&lt;init&gt;&quot;, &quot;()V&quot;, null, null);\r\n                mv.visitCode();\r\n                Label l0 = new Label();\r\n                mv.visitLabel(l0);\r\n                mv.visitLineNumber(1, l0);\r\n                mv.visitVarInsn(ALOAD, 0);\r\n                mv.visitMethodInsn(INVOKESPECIAL, &quot;java/lang/Object&quot;, &quot;&lt;init&gt;&quot;, &quot;()V&quot;);\r\n                mv.visitInsn(RETURN);\r\n                Label l1 = new Label();\r\n                mv.visitLabel(l1);\r\n                mv.visitLocalVariable(&quot;this&quot;, &quot;LTesting;&quot;, null, l0, l1, 0);\r\n                mv.visitMaxs(1, 1);\r\n                mv.visitEnd();\r\n            }\r\n            {\r\n                mv = cw.visitMethod(ACC_PUBLIC + ACC_STATIC, &quot;main&quot;, &quot;([Ljava/lang/String;)V&quot;, null, null);\r\n                mv.visitCode();\r\n                Label l0 = new Label();\r\n                mv.visitLabel(l0);\r\n                mv.visitLineNumber(3, l0);\r\n                mv.visitFieldInsn(GETSTATIC, &quot;java/lang/System&quot;, &quot;out&quot;, &quot;Ljava/io/PrintStream;&quot;);\r\n                mv.visitLdcInsn(&quot;Works!&quot;);\r\n                mv.visitMethodInsn(INVOKEVIRTUAL, &quot;java/io/PrintStream&quot;, &quot;println&quot;, &quot;(Ljava/lang/String;)V&quot;);\r\n                Label l1 = new Label();\r\n                mv.visitLabel(l1);\r\n                mv.visitLineNumber(4, l1);\r\n                mv.visitInsn(RETURN);\r\n                Label l2 = new Label();\r\n                mv.visitLabel(l2);\r\n                mv.visitLocalVariable(&quot;args&quot;, &quot;[Ljava/lang/String;&quot;, null, l0, l2, 0);\r\n                mv.visitMaxs(2, 1);\r\n                mv.visitEnd();\r\n            }\r\n            cw.visitEnd();\r\n    \r\n            return cw.toByteArray();\r\n        }\r\n    }\r\n\r\nCan some one provide some tips and guideline on it? Thanks in advance\r\n\r\n  [1]: https://github.com/jgpc42/asm\r\n  [2]: https://stackoverflow.com/questions/10158898/how-to-generate-class-file-with-java-asm","title":"Write btytecode to file using Clojure asm library","body":"<p>I'm playing with Java byte-code generation using Clojure with the <a href=\"https://github.com/jgpc42/asm\" rel=\"nofollow noreferrer\">https://github.com/jgpc42/asm</a>. So far so good, but now I am trying to export the generated bytecode to a .class file. With Java (<a href=\"https://stackoverflow.com/questions/10158898/how-to-generate-class-file-with-java-asm\">code from</a>), I see is possible with something like the code bellow, but not sure exactly no to translate it to Clojure using the asm library.</p>\n<pre><code>import org.objectweb.asm.*;\n\npublic class TestingDump implements Opcodes {\n\n    public static byte[] dump() throws Exception {\n\n        ClassWriter cw = new ClassWriter(0);\n        FieldVisitor fv;\n        MethodVisitor mv;\n        AnnotationVisitor av0;\n\n        cw.visit(V1_6, ACC_PUBLIC + ACC_SUPER, &quot;Testing&quot;, null, &quot;java/lang/Object&quot;, null);\n\n        cw.visitSource(&quot;Testing.java&quot;, null);\n\n        {\n            mv = cw.visitMethod(ACC_PUBLIC, &quot;&lt;init&gt;&quot;, &quot;()V&quot;, null, null);\n            mv.visitCode();\n            Label l0 = new Label();\n            mv.visitLabel(l0);\n            mv.visitLineNumber(1, l0);\n            mv.visitVarInsn(ALOAD, 0);\n            mv.visitMethodInsn(INVOKESPECIAL, &quot;java/lang/Object&quot;, &quot;&lt;init&gt;&quot;, &quot;()V&quot;);\n            mv.visitInsn(RETURN);\n            Label l1 = new Label();\n            mv.visitLabel(l1);\n            mv.visitLocalVariable(&quot;this&quot;, &quot;LTesting;&quot;, null, l0, l1, 0);\n            mv.visitMaxs(1, 1);\n            mv.visitEnd();\n        }\n        {\n            mv = cw.visitMethod(ACC_PUBLIC + ACC_STATIC, &quot;main&quot;, &quot;([Ljava/lang/String;)V&quot;, null, null);\n            mv.visitCode();\n            Label l0 = new Label();\n            mv.visitLabel(l0);\n            mv.visitLineNumber(3, l0);\n            mv.visitFieldInsn(GETSTATIC, &quot;java/lang/System&quot;, &quot;out&quot;, &quot;Ljava/io/PrintStream;&quot;);\n            mv.visitLdcInsn(&quot;Works!&quot;);\n            mv.visitMethodInsn(INVOKEVIRTUAL, &quot;java/io/PrintStream&quot;, &quot;println&quot;, &quot;(Ljava/lang/String;)V&quot;);\n            Label l1 = new Label();\n            mv.visitLabel(l1);\n            mv.visitLineNumber(4, l1);\n            mv.visitInsn(RETURN);\n            Label l2 = new Label();\n            mv.visitLabel(l2);\n            mv.visitLocalVariable(&quot;args&quot;, &quot;[Ljava/lang/String;&quot;, null, l0, l2, 0);\n            mv.visitMaxs(2, 1);\n            mv.visitEnd();\n        }\n        cw.visitEnd();\n\n        return cw.toByteArray();\n    }\n}\n</code></pre>\n<p>Can some one provide some tips and guideline on it? Thanks in advance</p>\n"},{"tags":["java","spring-boot","spring-security","spring-oauth2","spring-authorization-server"],"answers":[{"tags":[],"owner":{"account_id":21488921,"reputation":4715,"user_id":15835039,"display_name":"Steve Riesenberg"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1688655763,"creation_date":1688655763,"answer_id":76630201,"question_id":76626938,"body_markdown":"Once you&#39;ve gone beyond the [Getting Started][1] experience, the same docs page covers how to [define the same components][2] that Spring Boot provides so you can begin customizing the configuration. Because of Spring Boot each component is optional. In particular, notice that it defines two `SecurityFilterChain` `@Bean`s with the `@Order` annotation, and also note that the first one includes:\r\n\r\n```java\r\nOAuth2AuthorizationServerConfiguration.applyDefaultSecurity(http);\r\n```\r\n\r\nWithout that line (or copying the code contained within into your own code), the authorization server&#39;s protocol endpoints won&#39;t be set up, which is why you observed\r\n\r\n&gt; but it breaks the authorization server\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-authorization-server/docs/current/reference/html/getting-started.html#developing-your-first-application\r\n  [2]: https://docs.spring.io/spring-authorization-server/docs/current/reference/html/getting-started.html#defining-required-components","title":"Spring Authorization Server expose rest endpoints","body":"<p>Once you've gone beyond the <a href=\"https://docs.spring.io/spring-authorization-server/docs/current/reference/html/getting-started.html#developing-your-first-application\" rel=\"nofollow noreferrer\">Getting Started</a> experience, the same docs page covers how to <a href=\"https://docs.spring.io/spring-authorization-server/docs/current/reference/html/getting-started.html#defining-required-components\" rel=\"nofollow noreferrer\">define the same components</a> that Spring Boot provides so you can begin customizing the configuration. Because of Spring Boot each component is optional. In particular, notice that it defines two <code>SecurityFilterChain</code> <code>@Bean</code>s with the <code>@Order</code> annotation, and also note that the first one includes:</p>\n<pre class=\"lang-java prettyprint-override\"><code>OAuth2AuthorizationServerConfiguration.applyDefaultSecurity(http);\n</code></pre>\n<p>Without that line (or copying the code contained within into your own code), the authorization server's protocol endpoints won't be set up, which is why you observed</p>\n<blockquote>\n<p>but it breaks the authorization server</p>\n</blockquote>\n"}],"owner":{"account_id":3686624,"reputation":633,"user_id":3070278,"accept_rate":47,"display_name":"bsgrd"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":248,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76630201,"answer_count":1,"score":1,"last_activity_date":1688655763,"creation_date":1688632272,"question_id":76626938,"body_markdown":"I have implemented an authorization server using spring-boot-starter-oauth2-authorization-server.\r\nEverything seems to work perfectly. However, I need to expose some endpoints for creating users, getting user permissions etc., so I need to configure the auth server to also act as a resource server.\r\n\r\nI need &quot;POST /users&quot; to be public with no authorization, and &quot;GET /users/{userId}/permissions&quot; to require a valid JWT token to be present in the header.\r\n\r\nI have tried creating a SecurityFilterChain bean like this, which allows access to the /users endpoint, but it breaks the authorization server:\r\n```\r\n@Bean\r\n  public SecurityFilterChain configureSecurityFilterChain(HttpSecurity http) throws Exception {\r\n    http.authorizeHttpRequests(authorizeRequests -&gt; authorizeRequests\r\n        .requestMatchers(HttpMethod.POST, &quot;/users&quot;).permitAll()\r\n        .anyRequest().authenticated());\r\n    http.csrf(AbstractHttpConfigurer::disable);\r\n    return http.build();\r\n  }\r\n```\r\n\r\nI&#39;m sure it&#39;s possible to create authorization customizations for specific endpoints, but how?","title":"Spring Authorization Server expose rest endpoints","body":"<p>I have implemented an authorization server using spring-boot-starter-oauth2-authorization-server.\nEverything seems to work perfectly. However, I need to expose some endpoints for creating users, getting user permissions etc., so I need to configure the auth server to also act as a resource server.</p>\n<p>I need &quot;POST /users&quot; to be public with no authorization, and &quot;GET /users/{userId}/permissions&quot; to require a valid JWT token to be present in the header.</p>\n<p>I have tried creating a SecurityFilterChain bean like this, which allows access to the /users endpoint, but it breaks the authorization server:</p>\n<pre><code>@Bean\n  public SecurityFilterChain configureSecurityFilterChain(HttpSecurity http) throws Exception {\n    http.authorizeHttpRequests(authorizeRequests -&gt; authorizeRequests\n        .requestMatchers(HttpMethod.POST, &quot;/users&quot;).permitAll()\n        .anyRequest().authenticated());\n    http.csrf(AbstractHttpConfigurer::disable);\n    return http.build();\n  }\n</code></pre>\n<p>I'm sure it's possible to create authorization customizations for specific endpoints, but how?</p>\n"},{"tags":["java","ubuntu","jmx"],"comments":[{"owner":{"account_id":1449614,"reputation":827,"user_id":1366937,"display_name":"Perdi Estaquel"},"score":0,"creation_date":1688659379,"post_id":76630126,"comment_id":135106760,"body_markdown":"what happens when you give incorrect password in the clear? error or login dialog?","body":"what happens when you give incorrect password in the clear? error or login dialog?"},{"owner":{"account_id":23353706,"reputation":1,"user_id":17426965,"display_name":"Artem Yagodin"},"score":0,"creation_date":1688719247,"post_id":76630126,"comment_id":135114382,"body_markdown":"nothing changes, getting same @sad picture of VisualVm@","body":"nothing changes, getting same @sad picture of VisualVm@"},{"owner":{"account_id":1449614,"reputation":827,"user_id":1366937,"display_name":"Perdi Estaquel"},"score":0,"creation_date":1688740249,"post_id":76630126,"comment_id":135118589,"body_markdown":"ok that means errors get swallowed without feedback...you should look at the error logs and see what the actual error says, otherwise it&#39;s like trying to hit mosquitoes in the dark","body":"ok that means errors get swallowed without feedback...you should look at the error logs and see what the actual error says, otherwise it&#39;s like trying to hit mosquitoes in the dark"}],"owner":{"account_id":23353706,"reputation":1,"user_id":17426965,"display_name":"Artem Yagodin"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688655554,"creation_date":1688655300,"question_id":76630126,"body_markdown":"my problem is that I can&#39;t establish a remote connection using basic authentication like username\\password when working with JMX using VisualVM 2.1.6\r\n\r\nso here is configuration:\r\n\r\n1. Java\\Catalina opts\r\n\r\n```\r\nEnvironment=&#39;CATALINA_OPTS=-Xms512M -Xmx1024M -server -XX:+UseParallelGC&#39;\r\nEnvironment=&#39;MAVEN_OPTS=-Xmx512m&#39;\r\nEnvironment=&#39;JAVA_OPTS=-Djava.awt.headless=true -Djava.security.egd=file:/dev/./urandom -Djava.rmi.server.hostname=10.10.101.28 -Dcom.sun.management.jmxremote.port=9596 -Dcom.sun.management.jmxremote.ssl=false -Dcom.sun.management.jmxremote.authenticate=true -Dcom.sun.management.jmxremote.password.file=/usr/lib/jvm/java-17-oracle/conf/management/jmxremote.password&#39;\r\n\r\n```\r\n\r\n2. jmxremote.password file\r\n\r\n[jmxremote.password file](https://i.stack.imgur.com/uzT5a.png)\r\n\r\n3. jmxremote.access file\r\n\r\n[jmxremote.access file](https://i.stack.imgur.com/Yf28V.png)\r\n\r\n\r\nSo, if -Dcom.sun.management.jmxremote.authenticate set to false, connection from my local maschine to remote host (in local network) establishes with no any troubles, as soon auth is enabled, getting always \r\n\r\n[sad picture of VisualVm](https://i.stack.imgur.com/k3RAn.png)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\np.s. i`am already have tried jConsole, it also has same behavior\r\n\r\ni almost sure, that file is ok, because when i set up clear password, after connection attempt it rewrites to hashed password automatically.\r\n","title":"JMX connection, using basic auth, failure","body":"<p>my problem is that I can't establish a remote connection using basic authentication like username\\password when working with JMX using VisualVM 2.1.6</p>\n<p>so here is configuration:</p>\n<ol>\n<li>Java\\Catalina opts</li>\n</ol>\n<pre><code>Environment='CATALINA_OPTS=-Xms512M -Xmx1024M -server -XX:+UseParallelGC'\nEnvironment='MAVEN_OPTS=-Xmx512m'\nEnvironment='JAVA_OPTS=-Djava.awt.headless=true -Djava.security.egd=file:/dev/./urandom -Djava.rmi.server.hostname=10.10.101.28 -Dcom.sun.management.jmxremote.port=9596 -Dcom.sun.management.jmxremote.ssl=false -Dcom.sun.management.jmxremote.authenticate=true -Dcom.sun.management.jmxremote.password.file=/usr/lib/jvm/java-17-oracle/conf/management/jmxremote.password'\n\n</code></pre>\n<ol start=\"2\">\n<li>jmxremote.password file</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/uzT5a.png\" rel=\"nofollow noreferrer\">jmxremote.password file</a></p>\n<ol start=\"3\">\n<li>jmxremote.access file</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/Yf28V.png\" rel=\"nofollow noreferrer\">jmxremote.access file</a></p>\n<p>So, if -Dcom.sun.management.jmxremote.authenticate set to false, connection from my local maschine to remote host (in local network) establishes with no any troubles, as soon auth is enabled, getting always</p>\n<p><a href=\"https://i.stack.imgur.com/k3RAn.png\" rel=\"nofollow noreferrer\">sad picture of VisualVm</a></p>\n<p>p.s. i`am already have tried jConsole, it also has same behavior</p>\n<p>i almost sure, that file is ok, because when i set up clear password, after connection attempt it rewrites to hashed password automatically.</p>\n"},{"tags":["java","spring-boot","jpa"],"comments":[{"owner":{"account_id":10933290,"reputation":2086,"user_id":8035759,"display_name":"Asgar"},"score":0,"creation_date":1687795444,"post_id":76558256,"comment_id":134983370,"body_markdown":"The new column will have a fixed value? Like you mentioned `1 as newCol` or will it be a data based on some query?","body":"The new column will have a fixed value? Like you mentioned <code>1 as newCol</code> or will it be a data based on some query?"},{"owner":{"account_id":12906010,"reputation":223,"user_id":9333278,"display_name":"ErgiS"},"score":0,"creation_date":1687795741,"post_id":76558256,"comment_id":134983426,"body_markdown":"It will of course be a calculated data based on some other query, I put a fixed value just for simplification :)","body":"It will of course be a calculated data based on some other query, I put a fixed value just for simplification :)"},{"owner":{"account_id":18420841,"reputation":1402,"user_id":13418510,"display_name":"TomStroemer"},"score":0,"creation_date":1687796147,"post_id":76558256,"comment_id":134983520,"body_markdown":"Something like that? https://stackoverflow.com/questions/73540715/spring-data-jpa-query-class-projection-containing-another-custom-object","body":"Something like that? <a href=\"https://stackoverflow.com/questions/73540715/spring-data-jpa-query-class-projection-containing-another-custom-object\" title=\"spring data jpa query class projection containing another custom object\">stackoverflow.com/questions/73540715/&hellip;</a>"},{"owner":{"account_id":10933290,"reputation":2086,"user_id":8035759,"display_name":"Asgar"},"score":0,"creation_date":1687796500,"post_id":76558256,"comment_id":134983609,"body_markdown":"@TomStroemer, will that work with mapping an Entity and an extra field?","body":"@TomStroemer, will that work with mapping an Entity and an extra field?"},{"owner":{"account_id":12906010,"reputation":223,"user_id":9333278,"display_name":"ErgiS"},"score":0,"creation_date":1687796983,"post_id":76558256,"comment_id":134983718,"body_markdown":"@TomStroemer exactly like that, I couldn&#39;t find that question with my searches before asking, I&#39;m sorry. However that does not completely solve it, as the solution in that thread suggests we create an interface FooView (which would be MyTableView in my case). But MyTableView is not the same class as MyTable, so I&#39;d still have to do a field to field thorough mapping to transform the view to the class, which I&#39;m trying to avoid","body":"@TomStroemer exactly like that, I couldn&#39;t find that question with my searches before asking, I&#39;m sorry. However that does not completely solve it, as the solution in that thread suggests we create an interface FooView (which would be MyTableView in my case). But MyTableView is not the same class as MyTable, so I&#39;d still have to do a field to field thorough mapping to transform the view to the class, which I&#39;m trying to avoid"}],"answers":[{"tags":[],"owner":{"account_id":10933290,"reputation":2086,"user_id":8035759,"display_name":"Asgar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688655357,"creation_date":1688654824,"answer_id":76630060,"question_id":76558256,"body_markdown":"You can try the following, although you will have to fire one extra query.\r\n\r\nI am assuming you to put a \r\n\r\n```JAVA\r\n@Transient\r\nprivate int newCol;\r\n```\r\ninto your MyTable Entity.\r\n\r\n```JAVA\r\npublic void fetchAllData() {\r\n        //fetch all your MyTable here\r\n        List&lt;MyTable&gt; myTableList = emSlave.createNativeQuery(&quot;select my_table.* as newCol from my_table&quot;, MyTable.class)\r\n                .getResultList();\r\n\r\n        //this query will fetch just the table id from your MyTable and the new column you desire to bring out\r\n        String secondQuery = &quot;select my_table.id as tableId, 1 as newCol from my_table&quot;;\r\n        \r\n        List&lt;Object[]&gt; secondQueryResult = emSlave.createNativeQuery(secondQuery)\r\n                .getResultList();\r\n        \r\n        //Collecting the result into a dto\r\n        List&lt;TempDataHolder&gt; tempDataHolderList = secondQueryResult\r\n                .stream()\r\n                .map(o -&gt; new TempDataHolder((Number) o[0], (Number) o[1]))\r\n                .collect(Collectors.toList());\r\n\r\n        //Collecting the TempDataHoler into a map\r\n        Map&lt;Integer, Integer&gt; mapOfTableIdAndNewCol = tempDataHolderList\r\n                .stream()\r\n                .collect(Collectors.toMap(TempDataHolder::getTableId, TempDataHolder::getNewCol));\r\n\r\n        //using a loop, fetch the value from Map and set into the extra column\r\n        myTableList.forEach((mt) -&gt; {\r\n            mt.setNewCol(mapOfTableIdAndNewCol.get(mt.getId()));\r\n        });\r\n    }\r\n\r\n    @Getter\r\n    @Setter\r\n    public class TempDataHolder {\r\n\r\n        private int tableId;\r\n        private int newCol;\r\n\r\n        public TempDataHolder(Number tableId, Number newCol) {\r\n            this.tableId = tableId.intValue();\r\n            this.newCol = newCol == null ? 0 : newCol.intValue();\r\n        }\r\n\r\n    }\r\n```\r\n    \r\nI am using the `TempDataHolder` just to make it easier. You can achieve your result without using any new DTO, just cast your `secondQueryResult` directly into `Map`.\r\n\r\n\r\nIf you exclusively want it to be casted on new class that you have mentioned.\r\n\r\n```JAVA\r\npublic void fetchAllData() {\r\n        //fetch all your MyTable here\r\n        List&lt;MyTable&gt; myTableList = emSlave.createNativeQuery(&quot;select my_table.* as newCol from my_table&quot;, MyTable.class)\r\n                .getResultList();\r\n\r\n        //this query will fetch just the table id from your MyTable and the new column you desire to bring out\r\n        String secondQuery = &quot;select my_table.id as tableId, 1 as newCol from my_table&quot;;\r\n        \r\n        List&lt;Object[]&gt; secondQueryResult = emSlave.createNativeQuery(secondQuery)\r\n                .getResultList();\r\n        \r\n        //Collecting the result into a dto\r\n        List&lt;TempDataHolder&gt; tempDataHolderList = secondQueryResult\r\n                .stream()\r\n                .map(o -&gt; new TempDataHolder((Number) o[0], (Number) o[1]))\r\n                .collect(Collectors.toList());\r\n\r\n        //Collecting the TempDataHoler into a map\r\n        Map&lt;Integer, Integer&gt; mapOfTableIdAndNewCol = tempDataHolderList\r\n                .stream()\r\n                .collect(Collectors.toMap(TempDataHolder::getTableId, TempDataHolder::getNewCol));\r\n\r\n       List&lt;newObj&gt; newObjList=new ArrayList&lt;&gt;(myTableList.size());\r\n        \r\n        for(MyTable mt : myTableList){\r\n            newObjList.add(new newObj(mt, mapOfTableIdAndNewCol.get(mt.getId())));\r\n        }\r\n    }\r\n\r\n    @Getter\r\n    @Setter\r\n    public class TempDataHolder {\r\n\r\n        private int tableId;\r\n        private int newCol;\r\n\r\n        public TempDataHolder(Number tableId, Number newCol) {\r\n            this.tableId = tableId.intValue();\r\n            this.newCol = newCol == null ? 0 : newCol.intValue();\r\n        }\r\n\r\n    }\r\n\r\n    @Getter\r\n    @Setter\r\n    class newObj {\r\n\r\n        MyTable myTable;\r\n        int newCol;\r\n\r\n        public newObj(MyTable myTable, int newCol) {\r\n            this.myTable = myTable;\r\n            this.newCol = newCol;\r\n        }\r\n        \r\n        \r\n    }\r\n```\r\n\r\nLet me know if it worked. Good luck!\r\n","title":"JPA - add a field to existing entity","body":"<p>You can try the following, although you will have to fire one extra query.</p>\n<p>I am assuming you to put a</p>\n<pre><code>@Transient\nprivate int newCol;\n</code></pre>\n<p>into your MyTable Entity.</p>\n<pre><code>public void fetchAllData() {\n        //fetch all your MyTable here\n        List&lt;MyTable&gt; myTableList = emSlave.createNativeQuery(&quot;select my_table.* as newCol from my_table&quot;, MyTable.class)\n                .getResultList();\n\n        //this query will fetch just the table id from your MyTable and the new column you desire to bring out\n        String secondQuery = &quot;select my_table.id as tableId, 1 as newCol from my_table&quot;;\n        \n        List&lt;Object[]&gt; secondQueryResult = emSlave.createNativeQuery(secondQuery)\n                .getResultList();\n        \n        //Collecting the result into a dto\n        List&lt;TempDataHolder&gt; tempDataHolderList = secondQueryResult\n                .stream()\n                .map(o -&gt; new TempDataHolder((Number) o[0], (Number) o[1]))\n                .collect(Collectors.toList());\n\n        //Collecting the TempDataHoler into a map\n        Map&lt;Integer, Integer&gt; mapOfTableIdAndNewCol = tempDataHolderList\n                .stream()\n                .collect(Collectors.toMap(TempDataHolder::getTableId, TempDataHolder::getNewCol));\n\n        //using a loop, fetch the value from Map and set into the extra column\n        myTableList.forEach((mt) -&gt; {\n            mt.setNewCol(mapOfTableIdAndNewCol.get(mt.getId()));\n        });\n    }\n\n    @Getter\n    @Setter\n    public class TempDataHolder {\n\n        private int tableId;\n        private int newCol;\n\n        public TempDataHolder(Number tableId, Number newCol) {\n            this.tableId = tableId.intValue();\n            this.newCol = newCol == null ? 0 : newCol.intValue();\n        }\n\n    }\n</code></pre>\n<p>I am using the <code>TempDataHolder</code> just to make it easier. You can achieve your result without using any new DTO, just cast your <code>secondQueryResult</code> directly into <code>Map</code>.</p>\n<p>If you exclusively want it to be casted on new class that you have mentioned.</p>\n<pre><code>public void fetchAllData() {\n        //fetch all your MyTable here\n        List&lt;MyTable&gt; myTableList = emSlave.createNativeQuery(&quot;select my_table.* as newCol from my_table&quot;, MyTable.class)\n                .getResultList();\n\n        //this query will fetch just the table id from your MyTable and the new column you desire to bring out\n        String secondQuery = &quot;select my_table.id as tableId, 1 as newCol from my_table&quot;;\n        \n        List&lt;Object[]&gt; secondQueryResult = emSlave.createNativeQuery(secondQuery)\n                .getResultList();\n        \n        //Collecting the result into a dto\n        List&lt;TempDataHolder&gt; tempDataHolderList = secondQueryResult\n                .stream()\n                .map(o -&gt; new TempDataHolder((Number) o[0], (Number) o[1]))\n                .collect(Collectors.toList());\n\n        //Collecting the TempDataHoler into a map\n        Map&lt;Integer, Integer&gt; mapOfTableIdAndNewCol = tempDataHolderList\n                .stream()\n                .collect(Collectors.toMap(TempDataHolder::getTableId, TempDataHolder::getNewCol));\n\n       List&lt;newObj&gt; newObjList=new ArrayList&lt;&gt;(myTableList.size());\n        \n        for(MyTable mt : myTableList){\n            newObjList.add(new newObj(mt, mapOfTableIdAndNewCol.get(mt.getId())));\n        }\n    }\n\n    @Getter\n    @Setter\n    public class TempDataHolder {\n\n        private int tableId;\n        private int newCol;\n\n        public TempDataHolder(Number tableId, Number newCol) {\n            this.tableId = tableId.intValue();\n            this.newCol = newCol == null ? 0 : newCol.intValue();\n        }\n\n    }\n\n    @Getter\n    @Setter\n    class newObj {\n\n        MyTable myTable;\n        int newCol;\n\n        public newObj(MyTable myTable, int newCol) {\n            this.myTable = myTable;\n            this.newCol = newCol;\n        }\n        \n        \n    }\n</code></pre>\n<p>Let me know if it worked. Good luck!</p>\n"}],"owner":{"account_id":12906010,"reputation":223,"user_id":9333278,"display_name":"ErgiS"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1688655357,"creation_date":1687794344,"question_id":76558256,"body_markdown":"Say I have an entity class MyTable\r\n```\r\n@Entity\r\n@Table(name = &quot;my_table&quot;)\r\npublic class MyTable {\r\n\r\n@Id\r\nString a1\r\n\r\nString a2\r\n\r\nDouble a3\r\n...\r\n```\r\nand in only one query I need a new field on my entity class, that I get with a native query (it has to be a native query)\r\n\r\n```\r\n@Query(value = &quot;select my_table.*, 1 as newCol from my_table&quot;, nativeQuery=true)\r\nList&lt;???&gt; findExtraField();\r\n```\r\nmy_table has a lot of columns, making it cumbersome to map each and every one.\r\n\r\nHow can I get the query to return an objet of type \r\n```\r\nclass newObj {\r\n  MyTable myTable;\r\n  int newCol;\r\n}\r\n```\r\nwithout having to map each and every field of MyTable ?\r\n","title":"JPA - add a field to existing entity","body":"<p>Say I have an entity class MyTable</p>\n<pre><code>@Entity\n@Table(name = &quot;my_table&quot;)\npublic class MyTable {\n\n@Id\nString a1\n\nString a2\n\nDouble a3\n...\n</code></pre>\n<p>and in only one query I need a new field on my entity class, that I get with a native query (it has to be a native query)</p>\n<pre><code>@Query(value = &quot;select my_table.*, 1 as newCol from my_table&quot;, nativeQuery=true)\nList&lt;???&gt; findExtraField();\n</code></pre>\n<p>my_table has a lot of columns, making it cumbersome to map each and every one.</p>\n<p>How can I get the query to return an objet of type</p>\n<pre><code>class newObj {\n  MyTable myTable;\n  int newCol;\n}\n</code></pre>\n<p>without having to map each and every field of MyTable ?</p>\n"},{"tags":["java","async-await"],"comments":[{"owner":{"account_id":173581,"reputation":14312,"user_id":402366,"accept_rate":60,"display_name":"Paulo Morgado"},"score":0,"creation_date":1655671609,"post_id":72664378,"comment_id":128381618,"body_markdown":"What&#39;s the stack trace of that exception?","body":"What&#39;s the stack trace of that exception?"},{"owner":{"account_id":15717556,"reputation":53,"user_id":11341376,"display_name":"jmdess"},"score":0,"creation_date":1655680667,"post_id":72664378,"comment_id":128382840,"body_markdown":"I edited my first post above with the stack trace (comment is limited in size)","body":"I edited my first post above with the stack trace (comment is limited in size)"}],"answers":[{"tags":[],"owner":{"account_id":19158878,"reputation":45,"user_id":13995125,"display_name":"Faraz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688655134,"creation_date":1688655134,"answer_id":76630104,"question_id":72664378,"body_markdown":"Using PopAsync fixed the problem for me but it was still throwing the same exception at times. Somehow removing async &amp; await fixed it\r\n\r\n    Current.Navigation.PopAsync().ConfigureAwait(false);\r\n\r\n","title":"Exception : Specified cast is not valid","body":"<p>Using PopAsync fixed the problem for me but it was still throwing the same exception at times. Somehow removing async &amp; await fixed it</p>\n<pre><code>Current.Navigation.PopAsync().ConfigureAwait(false);\n</code></pre>\n"}],"owner":{"account_id":15717556,"reputation":53,"user_id":11341376,"display_name":"jmdess"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":458,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1688655134,"creation_date":1655496916,"question_id":72664378,"body_markdown":"**.net Maui Shell navigation :**  \r\nIn a Content page I have the following code\r\n\r\n    private async void Button_Clicked(object sender, EventArgs e)\r\n    \t{\r\n           await Shell.Current.GoToAsync(&quot;..&quot;);\r\n    \t}\r\nwhen I click the Button I receive -&gt; &quot;System.InvalidCastException: &#39;Specified cast is not valid.&#39;&quot;  \r\nBut if I delete **async** and **await**, I get to the MainPage without problem !!!  \r\nWhat am I doing wrong here ?\r\n\r\n \t0xFFFFFFFFFFFFFFFF in Android.Runtime.JNIEnv.monodroid_debugger_unhandled_exception\tC#\r\n \t0x14 in Android.Runtime.JNINativeWrapper._unhandled_exception at /Users/runner/work/1/s/xamarin-android/src/Mono.Android/Android.Runtime/JNINativeWrapper.g.cs:12,5\tC#\r\n \t0x1D in Android.Runtime.JNINativeWrapper.Wrap_JniMarshal_PP_V at /Users/runner/work/1/s/xamarin-android/src/Mono.Android/Android.Runtime/JNINativeWrapper.g.cs:23,26\tC#\r\n \t0x17 in System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw\tC#\r\n \t0x6 in System.Threading.Tasks.Task.&lt;&gt;c.&lt;ThrowAsync&gt;b__128_0\tC#\r\n \t0xC in Android.App.SyncContext. at /Users/runner/work/1/s/xamarin-android/src/Mono.Android/Android.App/SyncContext.cs:36,19\tC#\r\n \t0xE in Java.Lang.Thread.RunnableImplementor.Run at /Users/runner/work/1/s/xamarin-android/src/Mono.Android/Java.Lang/Thread.cs:36,6\tC#\r\n \t0x8 in Java.Lang.IRunnableInvoker.n_Run at /Users/runner/work/1/s/xamarin-android/src/Mono.Android/obj/Release/net6.0/android-32/mcw/Java.Lang.IRunnable.cs:84,4\tC#\r\n \t0x8 in Android.Runtime.JNINativeWrapper.Wrap_JniMarshal_PP_V at /Users/runner/work/1/s/xamarin-android/src/Mono.Android/Android.Runtime/JNINativeWrapper.g.cs:22,5\tC#\r\n\r\n","title":"Exception : Specified cast is not valid","body":"<p><strong>.net Maui Shell navigation :</strong><br />\nIn a Content page I have the following code</p>\n<pre><code>private async void Button_Clicked(object sender, EventArgs e)\n    {\n       await Shell.Current.GoToAsync(&quot;..&quot;);\n    }\n</code></pre>\n<p>when I click the Button I receive -&gt; &quot;System.InvalidCastException: 'Specified cast is not valid.'&quot;<br />\nBut if I delete <strong>async</strong> and <strong>await</strong>, I get to the MainPage without problem !!!<br />\nWhat am I doing wrong here ?</p>\n<pre><code>0xFFFFFFFFFFFFFFFF in Android.Runtime.JNIEnv.monodroid_debugger_unhandled_exception C#\n0x14 in Android.Runtime.JNINativeWrapper._unhandled_exception at /Users/runner/work/1/s/xamarin-android/src/Mono.Android/Android.Runtime/JNINativeWrapper.g.cs:12,5 C#\n0x1D in Android.Runtime.JNINativeWrapper.Wrap_JniMarshal_PP_V at /Users/runner/work/1/s/xamarin-android/src/Mono.Android/Android.Runtime/JNINativeWrapper.g.cs:23,26    C#\n0x17 in System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw    C#\n0x6 in System.Threading.Tasks.Task.&lt;&gt;c.&lt;ThrowAsync&gt;b__128_0 C#\n0xC in Android.App.SyncContext. at /Users/runner/work/1/s/xamarin-android/src/Mono.Android/Android.App/SyncContext.cs:36,19 C#\n0xE in Java.Lang.Thread.RunnableImplementor.Run at /Users/runner/work/1/s/xamarin-android/src/Mono.Android/Java.Lang/Thread.cs:36,6 C#\n0x8 in Java.Lang.IRunnableInvoker.n_Run at /Users/runner/work/1/s/xamarin-android/src/Mono.Android/obj/Release/net6.0/android-32/mcw/Java.Lang.IRunnable.cs:84,4    C#\n0x8 in Android.Runtime.JNINativeWrapper.Wrap_JniMarshal_PP_V at /Users/runner/work/1/s/xamarin-android/src/Mono.Android/Android.Runtime/JNINativeWrapper.g.cs:22,5  C#\n</code></pre>\n"},{"tags":["java","stack"],"answers":[{"tags":[],"owner":{"account_id":25860471,"reputation":731,"user_id":19593035,"display_name":"rochard4u"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1688628324,"creation_date":1688628324,"answer_id":76626420,"question_id":76626260,"body_markdown":"**False positive**:\r\n\r\nConsider the string `&quot;cabcc&quot;`, which cannot be rearranged to form a palindrome. Your code will first push `c` then push `a` then push `b` then remove `b` (since it is a stack and it found `c` in `cab`) then remove `a` (since it found `c` in `ca`).\r\n\r\nSince the stack has a length of 1, your program will output that `cabcc` can be rearranged into a palindrome when it cannot.\r\n\r\n**False negative**\r\n\r\nConsider the string `&quot;acac&quot;`, which can be rearranged to form a palindrome (`acca` for instance). Your code will first push `a` then push `c` then remove `c` (since it is a stack and it found `a` in `ac`) then push `c`. Resulting in a stack containing `ac`.\r\n\r\nSince the stack has a length of 2, your program will output that `acac` cannot be rearranged into a palindrome when it can.\r\n\r\n**How to fix**\r\n\r\nDo not use a stack. I suggest you use a map (check out hashmaps).","title":"Not passing hidden tests: checking if a string can be rearranged to form a palindrome","body":"<p><strong>False positive</strong>:</p>\n<p>Consider the string <code>&quot;cabcc&quot;</code>, which cannot be rearranged to form a palindrome. Your code will first push <code>c</code> then push <code>a</code> then push <code>b</code> then remove <code>b</code> (since it is a stack and it found <code>c</code> in <code>cab</code>) then remove <code>a</code> (since it found <code>c</code> in <code>ca</code>).</p>\n<p>Since the stack has a length of 1, your program will output that <code>cabcc</code> can be rearranged into a palindrome when it cannot.</p>\n<p><strong>False negative</strong></p>\n<p>Consider the string <code>&quot;acac&quot;</code>, which can be rearranged to form a palindrome (<code>acca</code> for instance). Your code will first push <code>a</code> then push <code>c</code> then remove <code>c</code> (since it is a stack and it found <code>a</code> in <code>ac</code>) then push <code>c</code>. Resulting in a stack containing <code>ac</code>.</p>\n<p>Since the stack has a length of 2, your program will output that <code>acac</code> cannot be rearranged into a palindrome when it can.</p>\n<p><strong>How to fix</strong></p>\n<p>Do not use a stack. I suggest you use a map (check out hashmaps).</p>\n"}],"owner":{"account_id":19146529,"reputation":87,"user_id":13985387,"display_name":"Ash Roy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76626420,"answer_count":1,"score":0,"last_activity_date":1688655035,"creation_date":1688627051,"question_id":76626260,"body_markdown":"I am trying to complete this question using a Stack:\r\nGiven a string, find out if its characters can be rearranged to form a palindrome.\r\n\r\nExample\r\n\r\nFor inputString = &quot;aabb&quot;, the output should be\r\nsolution(inputString) = true.\r\n\r\nWe can rearrange &quot;aabb&quot; to make &quot;abba&quot;, which is a palindrome.\r\n\r\n\r\nHowever, my code isn&#39;t passing 2 of the hidden tests and I am unsure as to why.\r\nHere is my code:\r\n\r\n```\r\nboolean solution(String inputString) {\r\n    Stack&lt;Character&gt; stack = new Stack&lt;&gt;();\r\n    for (int i = 0; i &lt; inputString.length(); i++) {\r\n        Character curr = inputString.charAt(i);\r\n        if (stack.contains(curr) == false) {\r\n            stack.push(curr);\r\n        }\r\n        else {\r\n            stack.pop();\r\n        }\r\n    }\r\n    if ((stack.size() == 0) || (stack.size() == 1)) {\r\n        return true;\r\n    }\r\n    return false;\r\n}\r\n```\r\n\r\nWhat is the error in my code?","title":"Not passing hidden tests: checking if a string can be rearranged to form a palindrome","body":"<p>I am trying to complete this question using a Stack:\nGiven a string, find out if its characters can be rearranged to form a palindrome.</p>\n<p>Example</p>\n<p>For inputString = &quot;aabb&quot;, the output should be\nsolution(inputString) = true.</p>\n<p>We can rearrange &quot;aabb&quot; to make &quot;abba&quot;, which is a palindrome.</p>\n<p>However, my code isn't passing 2 of the hidden tests and I am unsure as to why.\nHere is my code:</p>\n<pre><code>boolean solution(String inputString) {\n    Stack&lt;Character&gt; stack = new Stack&lt;&gt;();\n    for (int i = 0; i &lt; inputString.length(); i++) {\n        Character curr = inputString.charAt(i);\n        if (stack.contains(curr) == false) {\n            stack.push(curr);\n        }\n        else {\n            stack.pop();\n        }\n    }\n    if ((stack.size() == 0) || (stack.size() == 1)) {\n        return true;\n    }\n    return false;\n}\n</code></pre>\n<p>What is the error in my code?</p>\n"},{"tags":["java","selenium-webdriver","junit","cucumber"],"answers":[{"tags":[],"owner":{"account_id":4743949,"reputation":63,"user_id":3835751,"display_name":"Peer Overbeck"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1450767624,"creation_date":1450767624,"answer_id":34410148,"question_id":34408753,"body_markdown":"It seems like the runner is unable to find your feature file. Is it located in the resources? If it is, try referencing the whole classpath like\r\n\r\n    import org.junit.runner.RunWith;\r\n\r\n    import cucumber.api.CucumberOptions;\r\n    import cucumber.api.junit.Cucumber;\r\n\r\n\r\n    @RunWith(Cucumber.class)\r\n    @CucumberOptions(\r\n\r\n        features = &quot;classpath:com/yourgroup/yourartifact/cucumber/features&quot;\r\n\r\n        )\r\n\r\n    public class TestRunner {\r\n\r\n    }\r\n\r\nAbove is just an example, of course you have to alter that classpath depending on where your features are located.","title":"Getting no result when run through cucumber. Trying to implement BDD","body":"<p>It seems like the runner is unable to find your feature file. Is it located in the resources? If it is, try referencing the whole classpath like</p>\n\n<pre><code>import org.junit.runner.RunWith;\n\nimport cucumber.api.CucumberOptions;\nimport cucumber.api.junit.Cucumber;\n\n\n@RunWith(Cucumber.class)\n@CucumberOptions(\n\n    features = \"classpath:com/yourgroup/yourartifact/cucumber/features\"\n\n    )\n\npublic class TestRunner {\n\n}\n</code></pre>\n\n<p>Above is just an example, of course you have to alter that classpath depending on where your features are located.</p>\n"},{"tags":[],"owner":{"account_id":5965700,"reputation":692,"user_id":4689542,"display_name":"Dude"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1450796147,"creation_date":1450796147,"answer_id":34418585,"question_id":34408753,"body_markdown":"You need to reference the location of your features and your step definitions. the runner should look something like this: \r\n\r\n    import org.junit.runner.RunWith;\r\n\r\n    import cucumber.api.CucumberOptions;\r\n    import cucumber.api.junit.Cucumber;\r\n\r\n\r\n    @RunWith(Cucumber.class)\r\n    @CucumberOptions(\r\n        features = {&quot;path/to/features/&quot;},\r\n        glue = {&quot;classpath:package.name.of.stepsDefinitions&quot;},\r\n    )\r\n\r\n    public class TestRunner {\r\n\r\n    }\r\n\r\nNote the **path notation** for the **feature files** \r\nand the **package notation** for the **glue code** (step definitions)","title":"Getting no result when run through cucumber. Trying to implement BDD","body":"<p>You need to reference the location of your features and your step definitions. the runner should look something like this: </p>\n\n<pre><code>import org.junit.runner.RunWith;\n\nimport cucumber.api.CucumberOptions;\nimport cucumber.api.junit.Cucumber;\n\n\n@RunWith(Cucumber.class)\n@CucumberOptions(\n    features = {\"path/to/features/\"},\n    glue = {\"classpath:package.name.of.stepsDefinitions\"},\n)\n\npublic class TestRunner {\n\n}\n</code></pre>\n\n<p>Note the <strong>path notation</strong> for the <strong>feature files</strong> \nand the <strong>package notation</strong> for the <strong>glue code</strong> (step definitions)</p>\n"},{"tags":[],"owner":{"account_id":6816412,"reputation":916,"user_id":5244942,"accept_rate":88,"display_name":"N.."},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1450896132,"creation_date":1450896132,"answer_id":34441815,"question_id":34408753,"body_markdown":"I believe you still facing same problem. You could try this.\r\n\r\n \r\n\r\n   \r\n\r\n \r\n\r\n     import org.junit.runner.RunWith;\r\n    \r\n       import cucumber.api.CucumberOptions;\r\n       import cucumber.api.junit.Cucumber;\r\n    \r\n    \r\n       @RunWith(Cucumber.class)@CucumberOptions(plugin = {\r\n       \t&quot;pretty&quot;, &quot;json:target/Open-Google-WebSite.json&quot;},\r\n       features = {&quot;src/test/FeatureFilePackage&quot;},\r\n       glue = {&quot;com.java.cucumber_test&quot;})\r\n    \r\n        public class TestRunner {\r\n    \r\n       }\r\n          \r\n        \r\n           ","title":"Getting no result when run through cucumber. Trying to implement BDD","body":"<p>I believe you still facing same problem. You could try this.</p>\n\n<pre><code> import org.junit.runner.RunWith;\n\n   import cucumber.api.CucumberOptions;\n   import cucumber.api.junit.Cucumber;\n\n\n   @RunWith(Cucumber.class)@CucumberOptions(plugin = {\n    \"pretty\", \"json:target/Open-Google-WebSite.json\"},\n   features = {\"src/test/FeatureFilePackage\"},\n   glue = {\"com.java.cucumber_test\"})\n\n    public class TestRunner {\n\n   }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2276132,"reputation":404,"user_id":2002340,"accept_rate":100,"display_name":"raman rayat"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1480356489,"creation_date":1480356489,"answer_id":40850776,"question_id":34408753,"body_markdown":"it seems your test is running through testng which is not showing any specific error i would recommend you remove testNg dependency from your pom file run your test (through Junit) and you will be able to see specific error and after resolving it you will able to run your class easily \r\n\r\nexpected error might be &quot;duplicate step defination&quot;  ","title":"Getting no result when run through cucumber. Trying to implement BDD","body":"<p>it seems your test is running through testng which is not showing any specific error i would recommend you remove testNg dependency from your pom file run your test (through Junit) and you will be able to see specific error and after resolving it you will able to run your class easily </p>\n\n<p>expected error might be \"duplicate step defination\"  </p>\n"}],"owner":{"account_id":5276537,"reputation":5302,"user_id":4213132,"accept_rate":86,"display_name":"Helping Hands"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6786,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":4,"score":2,"last_activity_date":1688654943,"creation_date":1450760612,"question_id":34408753,"body_markdown":"Already tried almost all solutions which are on SO but still missing something here.\r\n\r\nI have created simple JAVA program, Added Feature file and Class for cucumber. When I run I am getting output :\r\n\r\n\r\n&gt;   @Search   Scenario Outline: Successful Open Google.com [90m#\r\n&gt; Open_Google.feature:4[0m\r\n&gt;     [36mGiven [0m[36mUser is with blank page[0m\r\n&gt;     [36mWhen [0m[36mUser enter URL[0m\r\n&gt;     [36mThen [0m[36mGoogle WebSite should open[0m\r\n&gt; \r\n&gt;0 Scenarios \r\n&gt;  \r\n&gt;  0 Steps\r\n&gt; \r\n&gt; 0m0.000s\r\n\r\n**Feature File :**\r\n\r\n    Feature: Open Google WebSite\r\n\r\n    @Search\r\n    Scenario Outline: Successful Open Google.com\r\n    Given User is with blank page\r\n    When User enter URL\r\n    Then Google WebSite should open \r\n\r\n**Test Runner Class :**\r\n\r\n    import org.junit.runner.RunWith;\r\n    \r\n    import cucumber.api.CucumberOptions;\r\n    import cucumber.api.junit.Cucumber;\r\n    \r\n    \r\n    @RunWith(Cucumber.class)\r\n    @CucumberOptions(\r\n    \t\t\r\n    \t\tfeatures = &quot;Feature&quot;\r\n    \t\t\r\n    \t\t)\r\n    \r\n    public class TestRunner {\r\n    \r\n    }\r\n\r\n**Test Case Class :**\r\n\r\n    public class cucumber_test {\r\n    \t\r\n    \tpublic static WebDriver driver;\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\t// TODO Auto-generated method stub\r\n    \r\n    \t\t\r\n    \t\t\r\n    \t\tSystem.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;D:\\\\chromedriver.exe&quot;);\r\n    \t\tdriver = new ChromeDriver();\r\n    \t\t\r\n    \t\tdriver.get(&quot;http://www.google.com&quot;);\r\n    \t\tdriver.manage().window().maximize();\r\n    \t\t\r\n    \t\tSystem.out.println(&quot;Google open successfully&quot;);\r\n    \t}\r\n    \r\n    }\r\n\r\nUsing Selenium Webdriver, JAVA, Junit and cucumber.\r\n\r\nAlso Am I doing right? Is it correct method to use cucumber?","title":"Getting no result when run through cucumber. Trying to implement BDD","body":"<p>Already tried almost all solutions which are on SO but still missing something here.</p>\n\n<p>I have created simple JAVA program, Added Feature file and Class for cucumber. When I run I am getting output :</p>\n\n<blockquote>\n  <p>@Search   Scenario Outline: Successful Open Google.com [90m#\n  Open_Google.feature:4[0m\n      [36mGiven [0m[36mUser is with blank page[0m\n      [36mWhen [0m[36mUser enter URL[0m\n      [36mThen [0m[36mGoogle WebSite should open[0m</p>\n  \n  <p>0 Scenarios </p>\n  \n  <p>0 Steps</p>\n  \n  <p>0m0.000s</p>\n</blockquote>\n\n<p><strong>Feature File :</strong></p>\n\n<pre><code>Feature: Open Google WebSite\n\n@Search\nScenario Outline: Successful Open Google.com\nGiven User is with blank page\nWhen User enter URL\nThen Google WebSite should open \n</code></pre>\n\n<p><strong>Test Runner Class :</strong></p>\n\n<pre><code>import org.junit.runner.RunWith;\n\nimport cucumber.api.CucumberOptions;\nimport cucumber.api.junit.Cucumber;\n\n\n@RunWith(Cucumber.class)\n@CucumberOptions(\n\n        features = \"Feature\"\n\n        )\n\npublic class TestRunner {\n\n}\n</code></pre>\n\n<p><strong>Test Case Class :</strong></p>\n\n<pre><code>public class cucumber_test {\n\n    public static WebDriver driver;\n\n    public static void main(String[] args) {\n        // TODO Auto-generated method stub\n\n\n\n        System.setProperty(\"webdriver.chrome.driver\", \"D:\\\\chromedriver.exe\");\n        driver = new ChromeDriver();\n\n        driver.get(\"http://www.google.com\");\n        driver.manage().window().maximize();\n\n        System.out.println(\"Google open successfully\");\n    }\n\n}\n</code></pre>\n\n<p>Using Selenium Webdriver, JAVA, Junit and cucumber.</p>\n\n<p>Also Am I doing right? Is it correct method to use cucumber?</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":6979173,"reputation":942,"user_id":6576302,"display_name":"C.F.G"},"score":0,"creation_date":1688056108,"post_id":76582928,"comment_id":135025753,"body_markdown":"Does this answer your question? [how to check screen on/off status in onStop()?](https://stackoverflow.com/questions/19350258/how-to-check-screen-on-off-status-in-onstop)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/19350258/how-to-check-screen-on-off-status-in-onstop\">how to check screen on/off status in onStop()?</a>"},{"owner":{"account_id":9833548,"reputation":404,"user_id":7284577,"accept_rate":91,"display_name":"Vit"},"score":0,"creation_date":1688641190,"post_id":76582928,"comment_id":135102520,"body_markdown":"@C.F.G - seems it is working. Thanks! Will accept if you will post answer.","body":"@C.F.G - seems it is working. Thanks! Will accept if you will post answer."}],"answers":[{"tags":[],"owner":{"account_id":6979173,"reputation":942,"user_id":6576302,"display_name":"C.F.G"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1688654915,"creation_date":1688654915,"answer_id":76630077,"question_id":76582928,"body_markdown":"**In Activity:**\r\n\r\n    PowerManager pm = (PowerManager) getSystemService(Context.POWER_SERVICE);\r\n\r\n    boolean isScreenOn = pm.isInteractive();\r\n\r\n**In Fragment:**\r\n\r\n    PowerManager pm = (PowerManager) requireContext().getSystemService(Context.POWER_SERVICE);\r\n    boolean isScreenOn = pm.isInteractive();\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/rGwH1.png","title":"Android Java Service to detect screen state","body":"<p><strong>In Activity:</strong></p>\n<pre><code>PowerManager pm = (PowerManager) getSystemService(Context.POWER_SERVICE);\n\nboolean isScreenOn = pm.isInteractive();\n</code></pre>\n<p><strong>In Fragment:</strong></p>\n<pre><code>PowerManager pm = (PowerManager) requireContext().getSystemService(Context.POWER_SERVICE);\nboolean isScreenOn = pm.isInteractive();\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/rGwH1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rGwH1.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":9833548,"reputation":404,"user_id":7284577,"accept_rate":91,"display_name":"Vit"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76630077,"answer_count":1,"score":1,"last_activity_date":1688654915,"creation_date":1688055850,"question_id":76582928,"body_markdown":"I am PHP, in oher words newby in JAVA.\r\nI wrote service which every second checks if the screen is on or off, but need help, cuz at last step my Log.d shows &quot;on off on off..&quot; instead of showing &quot;on on on...&quot; when screen is on (and &quot;off off off...&quot; when screen is OFF.\r\n\r\nSimple main activity:\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n        private static final String TAG = &quot;TAGG&quot;;\r\n        private Button startServiceButton;\r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n            startServiceButton = findViewById(R.id.startService);\r\n            startServiceButton.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n                    startService(new Intent(getApplication(), MyService.class));\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n\r\n..and receiver:\r\n\r\n    public class ScreenReceiver extends BroadcastReceiver {\r\n        private boolean screenOff;\r\n        @Override\r\n        public void onReceive(Context context, Intent intent) {\r\n            if (intent.getAction().equals(Intent.ACTION_SCREEN_OFF)) {\r\n                screenOff = true;\r\n            } else if (intent.getAction().equals(Intent.ACTION_SCREEN_ON)) {\r\n                screenOff = false;\r\n            }\r\n            Intent i = new Intent(context, MyService.class);\r\n            i.putExtra(&quot;screen_state&quot;, screenOff);\r\n            context.startService(i);\r\n        }\r\n    }\r\n\r\n.. and here is the problem:\r\n\r\n    public class MyService extends Service {\r\n    \r\n        private  static final String TAG = &quot;TAGG&quot;;\r\n        @Nullable\r\n        @Override\r\n        public IBinder onBind(Intent intent) {\r\n            return null;\r\n        }\r\n        public int xMin = 1*60*24*30;//work a month\r\n    \r\n        @Override\r\n        public int onStartCommand(Intent intent, int flags, int startId) {\r\n    \r\n            CountDownTimer countDownTimer =  new CountDownTimer(\r\n                    60000*xMin,1000){\r\n                @Override\r\n                public void onTick(long millisUntilFinished) {\r\n                    Log.e(TAG, &quot;onTick: &quot;+millisUntilFinished/1000 );\r\n    \r\n                    boolean screenOn = intent.getBooleanExtra(&quot;screen_state&quot;, false);\r\n    \r\n                    if (!screenOn) {\r\n                        Log.d(TAG, &quot;onTick: OFF&quot;);\r\n                    } else {\r\n                        Log.d(TAG, &quot;onTick: ON&quot;);\r\n                    }\r\n                }\r\n    \r\n                @Override\r\n                public void onFinish() {\r\n                    Log.e(TAG, &quot;onFinish: &quot; );\r\n                }\r\n            }.start();\r\n    \r\n            return START_STICKY;\r\n        }\r\n    \r\n        @Override\r\n        public void onCreate() {\r\n            super.onCreate();\r\n            // REGISTER RECEIVER THAT HANDLES SCREEN ON AND SCREEN OFF LOGIC\r\n            IntentFilter filter = new IntentFilter(Intent.ACTION_SCREEN_ON);\r\n            filter.addAction(Intent.ACTION_SCREEN_OFF);\r\n            BroadcastReceiver mReceiver = new ScreenReceiver();\r\n            registerReceiver(mReceiver, filter);\r\n        }\r\n    }\r\n\r\nFirst main ask:\r\nPlease tell me how to correctly output state of screen each second.\r\n\r\nSecond ask:\r\nps General idea - is to create a service which starts after button press and then checks/modifies every second system parameter only when the screen is on (the app can be minimised). When screen is off it would be good to pause service, but did not found out how. How to check system parameter I know. Maybe there is simple way to do this then my way?","title":"Android Java Service to detect screen state","body":"<p>I am PHP, in oher words newby in JAVA.\nI wrote service which every second checks if the screen is on or off, but need help, cuz at last step my Log.d shows &quot;on off on off..&quot; instead of showing &quot;on on on...&quot; when screen is on (and &quot;off off off...&quot; when screen is OFF.</p>\n<p>Simple main activity:</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n    private static final String TAG = &quot;TAGG&quot;;\n    private Button startServiceButton;\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        startServiceButton = findViewById(R.id.startService);\n        startServiceButton.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                startService(new Intent(getApplication(), MyService.class));\n            }\n        });\n    }\n}\n</code></pre>\n<p>..and receiver:</p>\n<pre><code>public class ScreenReceiver extends BroadcastReceiver {\n    private boolean screenOff;\n    @Override\n    public void onReceive(Context context, Intent intent) {\n        if (intent.getAction().equals(Intent.ACTION_SCREEN_OFF)) {\n            screenOff = true;\n        } else if (intent.getAction().equals(Intent.ACTION_SCREEN_ON)) {\n            screenOff = false;\n        }\n        Intent i = new Intent(context, MyService.class);\n        i.putExtra(&quot;screen_state&quot;, screenOff);\n        context.startService(i);\n    }\n}\n</code></pre>\n<p>.. and here is the problem:</p>\n<pre><code>public class MyService extends Service {\n\n    private  static final String TAG = &quot;TAGG&quot;;\n    @Nullable\n    @Override\n    public IBinder onBind(Intent intent) {\n        return null;\n    }\n    public int xMin = 1*60*24*30;//work a month\n\n    @Override\n    public int onStartCommand(Intent intent, int flags, int startId) {\n\n        CountDownTimer countDownTimer =  new CountDownTimer(\n                60000*xMin,1000){\n            @Override\n            public void onTick(long millisUntilFinished) {\n                Log.e(TAG, &quot;onTick: &quot;+millisUntilFinished/1000 );\n\n                boolean screenOn = intent.getBooleanExtra(&quot;screen_state&quot;, false);\n\n                if (!screenOn) {\n                    Log.d(TAG, &quot;onTick: OFF&quot;);\n                } else {\n                    Log.d(TAG, &quot;onTick: ON&quot;);\n                }\n            }\n\n            @Override\n            public void onFinish() {\n                Log.e(TAG, &quot;onFinish: &quot; );\n            }\n        }.start();\n\n        return START_STICKY;\n    }\n\n    @Override\n    public void onCreate() {\n        super.onCreate();\n        // REGISTER RECEIVER THAT HANDLES SCREEN ON AND SCREEN OFF LOGIC\n        IntentFilter filter = new IntentFilter(Intent.ACTION_SCREEN_ON);\n        filter.addAction(Intent.ACTION_SCREEN_OFF);\n        BroadcastReceiver mReceiver = new ScreenReceiver();\n        registerReceiver(mReceiver, filter);\n    }\n}\n</code></pre>\n<p>First main ask:\nPlease tell me how to correctly output state of screen each second.</p>\n<p>Second ask:\nps General idea - is to create a service which starts after button press and then checks/modifies every second system parameter only when the screen is on (the app can be minimised). When screen is off it would be good to pause service, but did not found out how. How to check system parameter I know. Maybe there is simple way to do this then my way?</p>\n"},{"tags":["java","spring","amazon-web-services","amazon-s3"],"comments":[{"owner":{"account_id":5377941,"reputation":3099,"user_id":4284170,"accept_rate":100,"display_name":"Abslen Char"},"score":2,"creation_date":1519078770,"post_id":48875046,"comment_id":84753988,"body_markdown":"can you provide us witht the code that you already tried and didnt work ?","body":"can you provide us witht the code that you already tried and didnt work ?"},{"owner":{"account_id":12282009,"reputation":309,"user_id":8963218,"accept_rate":23,"display_name":"Chadillac"},"score":0,"creation_date":1519079296,"post_id":48875046,"comment_id":84754167,"body_markdown":"It has been posted above","body":"It has been posted above"},{"owner":{"account_id":8174197,"reputation":2037,"user_id":7518561,"accept_rate":96,"display_name":"CodeHunter"},"score":0,"creation_date":1519079409,"post_id":48875046,"comment_id":84754214,"body_markdown":"can you change `image png content type` to `image/png` and try the code again?","body":"can you change <code>image png content type</code> to <code>image&#47;png</code> and try the code again?"},{"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1519079506,"post_id":48875046,"comment_id":84754247,"body_markdown":"`image/*` is not a useful content type. `image/jpeg` is.","body":"<code>image&#47;*</code> is not a useful content type. <code>image&#47;jpeg</code> is."}],"answers":[{"tags":[],"owner":{"account_id":8174197,"reputation":2037,"user_id":7518561,"accept_rate":96,"display_name":"CodeHunter"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1688654722,"creation_date":1519080485,"answer_id":48875341,"question_id":48875046,"body_markdown":"Change your `Content-Type` to `image/png`, considering that your image in S3 is in `.png` format. You need to set the appropriate content type as set in your S3 bucket. For example, if it is a text, set it as `text/plain`. Similarly for image, set it to `image/png`. Also, your file content type should not be `binary/octet-stream`, otherwise, it won&#39;t open up, rather it will download then.","title":"Images in my s3 bucket will not open in the browser, they will only download","body":"<p>Change your <code>Content-Type</code> to <code>image/png</code>, considering that your image in S3 is in <code>.png</code> format. You need to set the appropriate content type as set in your S3 bucket. For example, if it is a text, set it as <code>text/plain</code>. Similarly for image, set it to <code>image/png</code>. Also, your file content type should not be <code>binary/octet-stream</code>, otherwise, it won't open up, rather it will download then.</p>\n"}],"owner":{"account_id":12282009,"reputation":309,"user_id":8963218,"accept_rate":23,"display_name":"Chadillac"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9020,"favorite_count":0,"down_vote_count":2,"up_vote_count":4,"accepted_answer_id":48875341,"answer_count":1,"score":2,"last_activity_date":1688654722,"creation_date":1519078697,"question_id":48875046,"body_markdown":"How do I open an image on my s3 bucket in the browser?\r\n\r\nI have setup an Amazon s3 bucket to host my webapp&#39;s images, the issue I am having is that when I click on the image&#39;s link, it will download the image instead of displaying it in the browser. \r\n\r\n 1. I have set the metadata to be &#39;Content-Type: image/*&#39;\r\n 2. I have set the permissions to be public \r\n\r\nThis is the code I am using:\r\n\r\n    private void uploadFileTos3bucket(String fileName, MultipartFile file) \r\n    { \r\n        try\r\n            (InputStream is = file.getInputStream()) \r\n                { ObjectMetadata metadata = new ObjectMetadata(); \r\n                  metadata.setContentLength(file.getBytes().length); \r\n                  metadata.setLastModified(new Date()); \r\n                  metadata.setContentType(&quot;image/*&quot;); s3client.putObject(new \r\n                  PutObjectRequest(bucketName, fileName, is, metadata).withCannedAcl(CannedAccessControlList.PublicRead)); }        \r\n                  catch(IOException e) { e.printStackTrace(); \r\n                } \r\n        }\r\n\r\nDoes anyone have any other ideas or solutions? \r\n\r\n","title":"Images in my s3 bucket will not open in the browser, they will only download","body":"<p>How do I open an image on my s3 bucket in the browser?</p>\n\n<p>I have setup an Amazon s3 bucket to host my webapp's images, the issue I am having is that when I click on the image's link, it will download the image instead of displaying it in the browser. </p>\n\n<ol>\n<li>I have set the metadata to be 'Content-Type: image/*'</li>\n<li>I have set the permissions to be public </li>\n</ol>\n\n<p>This is the code I am using:</p>\n\n<pre><code>private void uploadFileTos3bucket(String fileName, MultipartFile file) \n{ \n    try\n        (InputStream is = file.getInputStream()) \n            { ObjectMetadata metadata = new ObjectMetadata(); \n              metadata.setContentLength(file.getBytes().length); \n              metadata.setLastModified(new Date()); \n              metadata.setContentType(\"image/*\"); s3client.putObject(new \n              PutObjectRequest(bucketName, fileName, is, metadata).withCannedAcl(CannedAccessControlList.PublicRead)); }        \n              catch(IOException e) { e.printStackTrace(); \n            } \n    }\n</code></pre>\n\n<p>Does anyone have any other ideas or solutions? </p>\n"},{"tags":["java","spring","spring-boot","spring-ws","jakarta-migration"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1688709178,"post_id":76629966,"comment_id":135112728,"body_markdown":"Instead of renaming the property did you actually have a try with the old property and a new class.","body":"Instead of renaming the property did you actually have a try with the old property and a new class."},{"owner":{"account_id":1668855,"reputation":14404,"user_id":2700303,"accept_rate":63,"display_name":"MiguelSlv"},"score":0,"creation_date":1688737661,"post_id":76629966,"comment_id":135118059,"body_markdown":"Yes. Same error.","body":"Yes. Same error."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1688885426,"post_id":76629966,"comment_id":135132250,"body_markdown":"Try `org.glassfish.jaxb.namespacePrefixMapper` instead.","body":"Try <code>org.glassfish.jaxb.namespacePrefixMapper</code> instead."},{"owner":{"account_id":1668855,"reputation":14404,"user_id":2700303,"accept_rate":63,"display_name":"MiguelSlv"},"score":0,"creation_date":1689033196,"post_id":76629966,"comment_id":135153052,"body_markdown":"Not supported too.","body":"Not supported too."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1689052714,"post_id":76629966,"comment_id":135154590,"body_markdown":"Then which JAXB implementation are you using? Spring Boot uses the Glassfish one.","body":"Then which JAXB implementation are you using? Spring Boot uses the Glassfish one."}],"owner":{"account_id":1668855,"reputation":14404,"user_id":2700303,"accept_rate":63,"display_name":"MiguelSlv"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":133,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1688654216,"creation_date":1688654216,"question_id":76629966,"body_markdown":"I&#39;m using `org.springframework.oxm.jaxb.Jaxb2Marshaller` with Spring boot 3 to generated the soap envelope.\r\n\r\nAt the config, the marshaller is set this way:\r\n\r\n    @Bean\r\n    Jaxb2Marshaller marshalle() {\r\n        Jaxb2Marshaller marshaller = new Jaxb2Marshaller();\r\n        marshaller.setContextPath(&quot;providers.nos.ws.client&quot;); \r\n        return marshaller;\r\n    }\r\n\r\nAccording to many posts, the way to customize the namespaces alias is by providing a NamespacePrefixMapper like this:\r\n\r\n    marshaller.setProperty(&quot;com.sun.xml.bind.namespacePrefixMapper&quot;, new NamespacePrefixMapper() {\r\n       @Override\r\n       public String getPreferredPrefix(String arg0, String arg1, boolean arg2) {\r\n                return &quot;ns1&quot;;\r\n       }\r\n    });\r\nBut this only work for old JAXB that is no longer supported since Java 11, if i&#39;m not mistaken.\r\n\r\nThe `setProperty` is no longer available. My best guess is adding the following code:\r\n\r\n    var prefixMapper = new NamespacePrefixMapper(){\r\n            @Override\r\n            public String getPreferredPrefix(String arg0, String arg1, boolean arg2) {\r\n                return &quot;ns1&quot;;\r\n            }\r\n    };\r\n    Map&lt;String, ?&gt; map =   new HashMap&lt;&gt;(){\r\n  \t    {\r\n    \t   put(&quot;jakarta.xml.bind.namespacePrefixMapper&quot;,prefixMapper);\r\n    \t}\r\n    };\r\n          \r\n    marshaller.setJaxbContextProperties(map);\r\nBut it fails with:\r\n\r\n    jakarta.xml.bind.JAXBException: property &quot;jakarta.xml.bind.namespacePrefixMapper&quot; is not supported.\r\n\r\nI can&#39;t find the right bind constant and i&#39;m not even sure if this is the right path.\r\n\r\nHow can i customize the namespaces alias?","title":"How to set namespace alias with Jaxb2Marshaller?","body":"<p>I'm using <code>org.springframework.oxm.jaxb.Jaxb2Marshaller</code> with Spring boot 3 to generated the soap envelope.</p>\n<p>At the config, the marshaller is set this way:</p>\n<pre><code>@Bean\nJaxb2Marshaller marshalle() {\n    Jaxb2Marshaller marshaller = new Jaxb2Marshaller();\n    marshaller.setContextPath(&quot;providers.nos.ws.client&quot;); \n    return marshaller;\n}\n</code></pre>\n<p>According to many posts, the way to customize the namespaces alias is by providing a NamespacePrefixMapper like this:</p>\n<pre><code>marshaller.setProperty(&quot;com.sun.xml.bind.namespacePrefixMapper&quot;, new NamespacePrefixMapper() {\n   @Override\n   public String getPreferredPrefix(String arg0, String arg1, boolean arg2) {\n            return &quot;ns1&quot;;\n   }\n});\n</code></pre>\n<p>But this only work for old JAXB that is no longer supported since Java 11, if i'm not mistaken.</p>\n<p>The <code>setProperty</code> is no longer available. My best guess is adding the following code:</p>\n<pre><code>var prefixMapper = new NamespacePrefixMapper(){\n        @Override\n        public String getPreferredPrefix(String arg0, String arg1, boolean arg2) {\n            return &quot;ns1&quot;;\n        }\n};\nMap&lt;String, ?&gt; map =   new HashMap&lt;&gt;(){\n    {\n       put(&quot;jakarta.xml.bind.namespacePrefixMapper&quot;,prefixMapper);\n    }\n};\n      \nmarshaller.setJaxbContextProperties(map);\n</code></pre>\n<p>But it fails with:</p>\n<pre><code>jakarta.xml.bind.JAXBException: property &quot;jakarta.xml.bind.namespacePrefixMapper&quot; is not supported.\n</code></pre>\n<p>I can't find the right bind constant and i'm not even sure if this is the right path.</p>\n<p>How can i customize the namespaces alias?</p>\n"},{"tags":["java","jena","tdb"],"comments":[{"owner":{"account_id":394579,"reputation":16420,"user_id":757100,"display_name":"AndyS"},"score":0,"creation_date":1688679540,"post_id":76629883,"comment_id":135110232,"body_markdown":"Was there also an exception? Add `catch (Throwable) { th.printStackTrace(); }` before the finally to find out why the commit was missed which may be an OOME. Try `org.apache.jena.tdb.transaction.TransactionManager.QueueBatchSize = 0`. This is one of the design issues that is fixed by TDB2.","body":"Was there also an exception? Add <code>catch (Throwable) { th.printStackTrace(); }</code> before the finally to find out why the commit was missed which may be an OOME. Try <code>org.apache.jena.tdb.transaction.TransactionManager.QueueBatc&zwnj;&#8203;hSize = 0</code>. This is one of the design issues that is fixed by TDB2."},{"owner":{"account_id":394579,"reputation":16420,"user_id":757100,"display_name":"AndyS"},"score":0,"creation_date":1688679591,"post_id":76629883,"comment_id":135110239,"body_markdown":"`dataset.getGraph(....).remove(s, p, o);` slice-delete should do the paging for you.","body":"<code>dataset.getGraph(....).remove(s, p, o);</code> slice-delete should do the paging for you."}],"owner":{"account_id":10501945,"reputation":21,"user_id":7740417,"display_name":"vivss"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688653690,"creation_date":1688653690,"question_id":76629883,"body_markdown":"I&#39;m trying to clear a moderately large TDB graph, around 13 million triples, so I&#39;m paginating the triples retrieval to avoid OutOfMemory issues. Here&#39;s my code:\r\n\r\n```\r\nprivate void clearDataset() {\r\n\t\t\r\n\tint offset = 0;\r\n\tint page = 1;\r\n\tlong totalTriples = getModelSize();\r\n\t\t\r\n\twhile (offset &lt; totalTriples) {\r\n\t\tStmtIterator modelPage = getModelPage();\t\t\r\n\t\tdataset.begin(ReadWrite.WRITE);\r\n\t\t\t\r\n\t\ttry {\t\t\t\r\n\t\t\tm = dataset.getNamedModel(graph);\r\n\t\t\tm.remove(modelPage);\r\n\t\t\tdataset.commit();\r\n\t\t\toffset = PAGE_SIZE * page++;\t\t\r\n\t\t}\t\r\n\t\tfinally { \r\n\t\t\tdataset.end(); \t\t\r\n\t\t}\t\r\n\t\tSystem.out.println(&quot;Remaining triples: &quot; + getModelSize());\r\n\t}\r\n}\r\n\r\nprivate StmtIterator getModelPage() {\r\n\t\t\r\n\tModel submodel = ModelFactory.createDefaultModel();\r\n\tString query = &quot;SELECT ?s ?p ?o WHERE {?s ?p ?o .} LIMIT &quot; + PAGE_SIZE;\t\r\n\tdataset.begin(ReadWrite.READ);\r\n\t\r\n\ttry {\t\r\n\t\tm = dataset.getNamedModel(graph);\r\n\t\tQueryExecution qe = QueryExecutionFactory.create(query, m);\r\n\t\tResultSet resultSet = qe.execSelect();\r\n\r\n\t\twhile (resultSet.hasNext()) {\r\n\t\t\tQuerySolution next = resultSet.next();\r\n\t\t\tResource subject = next.getResource(&quot;?s&quot;);\r\n\t\t\tProperty predicate = submodel.createProperty(next.get(&quot;?p&quot;).toString());\r\n\t\t\tRDFNode object = next.get(&quot;?o&quot;);\r\n\t\t\tsubmodel.add(subject, predicate, object);\r\n\t\t}\r\n\t}\r\n\tfinally { \r\n\t\tdataset.end(); \r\n\t}\r\n\t\t\r\n\treturn submodel.listStatements();\r\n}\r\n\r\nprivate long getModelSize() {\r\n\t\t\r\n\tlong modelSize = 0;\r\n\tdataset.begin(ReadWrite.READ);\r\n\t\t\r\n\ttry {\t\r\n\t\tm = dataset.getNamedModel(graph);\r\n\t\tmodelSize = m.size();\r\n\t}\r\n\tfinally { \r\n\t\tdataset.end(); \r\n\t}\t\r\n\treturn modelSize;\r\n}\r\n```\r\n\r\nIt works fine for a small graph, less than 1 million triples, only I use an also small `PAGE_SIZE` so it&#39;s not done in a single pass and I can check the pagination:\r\n\r\n```\r\nRemaining triples: 613244\r\nRemaining triples: 513244\r\nRemaining triples: 413244\r\nRemaining triples: 313244\r\nRemaining triples: 213244\r\nRemaining triples: 113244\r\nRemaining triples: 13244\r\nRemaining triples: 0\r\n```\r\n\r\nFor the larger graph, I&#39;m using `PAGE_SIZE = 1000000`. It goes fine for a couple of pages, then crashes:\r\n\r\n```\r\nRemaining triples: 12338413\r\nRemaining triples: 11338413\r\nRemaining triples: 10338413\r\nRemaining triples: 9338413\r\nRemaining triples: 8338413\r\norg.apache.jena.sparql.JenaTransactionException: end() called for WRITE transaction without commit or abort having been called. This causes a forced abort.\r\n        at org.apache.jena.tdb.transaction.Transaction.close(Transaction.java:363)\r\n        at org.apache.jena.tdb.transaction.DatasetGraphTxn.end(DatasetGraphTxn.java:77)\r\n        at org.apache.jena.tdb.transaction.DatasetGraphTransaction.end(DatasetGraphTransaction.java:223)\r\n        at org.apache.jena.sparql.core.DatasetImpl.end(DatasetImpl.java:164)\r\n\t\t...\r\n```\r\n\r\nSomething is making it skip the `commit()` halfway. I wonder if there is still some memory issue in disguise. Would the `PAGE_SIZE` have something to do with it? Or have I missed something else?","title":"Can&#39;t finish clearing TDB graph - JenaTransactionException: end() called for WRITE transaction without commit or abort having been called","body":"<p>I'm trying to clear a moderately large TDB graph, around 13 million triples, so I'm paginating the triples retrieval to avoid OutOfMemory issues. Here's my code:</p>\n<pre><code>private void clearDataset() {\n        \n    int offset = 0;\n    int page = 1;\n    long totalTriples = getModelSize();\n        \n    while (offset &lt; totalTriples) {\n        StmtIterator modelPage = getModelPage();        \n        dataset.begin(ReadWrite.WRITE);\n            \n        try {           \n            m = dataset.getNamedModel(graph);\n            m.remove(modelPage);\n            dataset.commit();\n            offset = PAGE_SIZE * page++;        \n        }   \n        finally { \n            dataset.end();      \n        }   \n        System.out.println(&quot;Remaining triples: &quot; + getModelSize());\n    }\n}\n\nprivate StmtIterator getModelPage() {\n        \n    Model submodel = ModelFactory.createDefaultModel();\n    String query = &quot;SELECT ?s ?p ?o WHERE {?s ?p ?o .} LIMIT &quot; + PAGE_SIZE; \n    dataset.begin(ReadWrite.READ);\n    \n    try {   \n        m = dataset.getNamedModel(graph);\n        QueryExecution qe = QueryExecutionFactory.create(query, m);\n        ResultSet resultSet = qe.execSelect();\n\n        while (resultSet.hasNext()) {\n            QuerySolution next = resultSet.next();\n            Resource subject = next.getResource(&quot;?s&quot;);\n            Property predicate = submodel.createProperty(next.get(&quot;?p&quot;).toString());\n            RDFNode object = next.get(&quot;?o&quot;);\n            submodel.add(subject, predicate, object);\n        }\n    }\n    finally { \n        dataset.end(); \n    }\n        \n    return submodel.listStatements();\n}\n\nprivate long getModelSize() {\n        \n    long modelSize = 0;\n    dataset.begin(ReadWrite.READ);\n        \n    try {   \n        m = dataset.getNamedModel(graph);\n        modelSize = m.size();\n    }\n    finally { \n        dataset.end(); \n    }   \n    return modelSize;\n}\n</code></pre>\n<p>It works fine for a small graph, less than 1 million triples, only I use an also small <code>PAGE_SIZE</code> so it's not done in a single pass and I can check the pagination:</p>\n<pre><code>Remaining triples: 613244\nRemaining triples: 513244\nRemaining triples: 413244\nRemaining triples: 313244\nRemaining triples: 213244\nRemaining triples: 113244\nRemaining triples: 13244\nRemaining triples: 0\n</code></pre>\n<p>For the larger graph, I'm using <code>PAGE_SIZE = 1000000</code>. It goes fine for a couple of pages, then crashes:</p>\n<pre><code>Remaining triples: 12338413\nRemaining triples: 11338413\nRemaining triples: 10338413\nRemaining triples: 9338413\nRemaining triples: 8338413\norg.apache.jena.sparql.JenaTransactionException: end() called for WRITE transaction without commit or abort having been called. This causes a forced abort.\n        at org.apache.jena.tdb.transaction.Transaction.close(Transaction.java:363)\n        at org.apache.jena.tdb.transaction.DatasetGraphTxn.end(DatasetGraphTxn.java:77)\n        at org.apache.jena.tdb.transaction.DatasetGraphTransaction.end(DatasetGraphTransaction.java:223)\n        at org.apache.jena.sparql.core.DatasetImpl.end(DatasetImpl.java:164)\n        ...\n</code></pre>\n<p>Something is making it skip the <code>commit()</code> halfway. I wonder if there is still some memory issue in disguise. Would the <code>PAGE_SIZE</code> have something to do with it? Or have I missed something else?</p>\n"},{"tags":["java","oracle-adf","jdeveloper"],"owner":{"account_id":27316723,"reputation":42,"user_id":20837394,"display_name":"Yevgeniy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688653608,"creation_date":1688637721,"question_id":76627670,"body_markdown":"There are two buttons on the page: a RESET button and a SEARCH button - if I press the SEARCH button it finds a record (by a certain field), then if I immediately press the RESET button it resets the record from the grid everything is fine! But if I sat down after the Search Command, I will sort by any field in the grid and press reset, then it displays all the records in the grid? How to fix it? According to the code, there is no request for it to take and display all records. Here is my code .jsff\r\n\r\n```\r\n`&lt;af:query id=&quot;gsearchQ&quot; headerText=&quot;Search&quot; disclosed=&quot;true&quot;\r\n                  value=&quot;#{bindings.GeneralSearchVCriteriaQuery.queryDescriptor}&quot;\r\n                  model=&quot;#{bindings.GeneralSearchVCriteriaQuery.queryModel}&quot;\r\n                  queryListener=&quot;#{pageFlowScope.GSearchBean.gsearchQueryListener}&quot;\r\n                  queryOperationListener=&quot;#{pageFlowScope.GSearchBean.gsearchQueryOperationListener}&quot;\r\n                  partialTriggers=&quot;::t1:c4 ::t1:c18 ::t1&quot;\r\n                  saveQueryMode=&quot;hidden&quot; maxColumns=&quot;2&quot; rows=&quot;3&quot; modeChangeVisible=&quot;false&quot; resultComponentId=&quot;::t1&quot;/&gt;`\r\n```\r\n\r\nHere is my Java code:\r\n\r\n```\r\n`    public void gsearchQueryOperationListener(QueryOperationEvent queryOperationEvent){\r\n        log.info(&quot;STEP 1: &quot;+queryOperationEvent);\r\n            if(queryOperationEvent.getOperation().name().toUpperCase().equals(&quot;RESET&quot;)){\r\n                       ViewObject object = ADFUtils.findIterator(&quot;GeneralSearchV1Iterator&quot;).getViewObject();\r\n                       object.executeEmptyRowSet();\r\n                       oracle.jbo.ViewCriteria criteria = ADFUtils.findIterator(&quot;GeneralSearchV1Iterator&quot;).getViewCriteria();\r\n                       object.applyViewCriteria(criteria);\r\n                       result = false;\r\n                   }\r\n    }`\r\n```\r\n\r\nWhat could be the problem? please help.\r\n\r\nI put down the logs and looked at what I get at each step, but this did not help me understand the reason","title":"How to reset search in Oracle JDeveloper","body":"<p>There are two buttons on the page: a RESET button and a SEARCH button - if I press the SEARCH button it finds a record (by a certain field), then if I immediately press the RESET button it resets the record from the grid everything is fine! But if I sat down after the Search Command, I will sort by any field in the grid and press reset, then it displays all the records in the grid? How to fix it? According to the code, there is no request for it to take and display all records. Here is my code .jsff</p>\n<pre><code>`&lt;af:query id=&quot;gsearchQ&quot; headerText=&quot;Search&quot; disclosed=&quot;true&quot;\n                  value=&quot;#{bindings.GeneralSearchVCriteriaQuery.queryDescriptor}&quot;\n                  model=&quot;#{bindings.GeneralSearchVCriteriaQuery.queryModel}&quot;\n                  queryListener=&quot;#{pageFlowScope.GSearchBean.gsearchQueryListener}&quot;\n                  queryOperationListener=&quot;#{pageFlowScope.GSearchBean.gsearchQueryOperationListener}&quot;\n                  partialTriggers=&quot;::t1:c4 ::t1:c18 ::t1&quot;\n                  saveQueryMode=&quot;hidden&quot; maxColumns=&quot;2&quot; rows=&quot;3&quot; modeChangeVisible=&quot;false&quot; resultComponentId=&quot;::t1&quot;/&gt;`\n</code></pre>\n<p>Here is my Java code:</p>\n<pre><code>`    public void gsearchQueryOperationListener(QueryOperationEvent queryOperationEvent){\n        log.info(&quot;STEP 1: &quot;+queryOperationEvent);\n            if(queryOperationEvent.getOperation().name().toUpperCase().equals(&quot;RESET&quot;)){\n                       ViewObject object = ADFUtils.findIterator(&quot;GeneralSearchV1Iterator&quot;).getViewObject();\n                       object.executeEmptyRowSet();\n                       oracle.jbo.ViewCriteria criteria = ADFUtils.findIterator(&quot;GeneralSearchV1Iterator&quot;).getViewCriteria();\n                       object.applyViewCriteria(criteria);\n                       result = false;\n                   }\n    }`\n</code></pre>\n<p>What could be the problem? please help.</p>\n<p>I put down the logs and looked at what I get at each step, but this did not help me understand the reason</p>\n"},{"tags":["java","hadoop","apache-flink","classpath","iceberg"],"owner":{"account_id":2938290,"reputation":1364,"user_id":3106795,"accept_rate":62,"display_name":"Alexey"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":121,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688653382,"creation_date":1688653382,"question_id":76629840,"body_markdown":"I have a basic application that tries to write some data into an Iceberg table using Flink:\r\n\r\n```java\r\nStreamExecutionEnvironment env = StreamExecutionEnvironment.getExecutionEnvironment();\r\nStreamTableEnvironment tenv = StreamTableEnvironment.create(env);\r\nConfiguration hadoopConf = new Configuration();\r\ntenv.executeSql(&quot;CREATE CATALOG hive WITH (&#39;type&#39;=&#39;iceberg&#39;, &#39;catalog-type&#39;=&#39;hive&#39;)&quot;);\r\n```\r\n\r\n```\r\nflink run --detached --class org.example.App Test-1.0-SNAPSHOT.jar\r\njava.lang.NoClassDefFoundError: org/apache/hadoop/conf/Configuration\r\n        at org.apache.iceberg.flink.FlinkCatalogFactory.clusterHadoopConf(FlinkCatalogFactory.java:211)\r\n        at org.apache.iceberg.flink.FlinkCatalogFactory.createCatalog(FlinkCatalogFactory.java:139)\r\n        at org.apache.flink.table.factories.FactoryUtil.createCatalog(FactoryUtil.java:406)\r\n        at org.apache.flink.table.api.internal.TableEnvironmentImpl.createCatalog(TableEnvironmentImpl.java:1356)\r\n        at org.apache.flink.table.api.internal.TableEnvironmentImpl.executeInternal(TableEnvironmentImpl.java:1111)\r\n        at org.apache.flink.table.api.internal.TableEnvironmentImpl.executeSql(TableEnvironmentImpl.java:701)\r\n        at org.example.App.main(App.java:36)\r\n\r\n```\r\n\r\nWhy can&#39;t it find `org/apache/hadoop/conf/Configuration`?\r\n\r\n1. My Hadoop classpath is set: `HADOOP_CLASSPATH=&#39;/etc/hadoop/conf:/usr/lib/hadoop/lib/*:/usr/lib/hadoop/.//*:/usr/lib/hadoop-hdfs/./:/usr/lib/hadoop-hdfs/lib/*:/usr/lib/hadoop-hdfs/.//*:/usr/lib/hadoop-mapreduce/.//*:/usr/lib/hadoop-yarn/./:/usr/lib/hadoop-yarn/lib/*:/usr/lib/hadoop-yarn/.//*&#39;` and the JAR is there: `/usr/lib/hadoop/hadoop-common-3.1.2.jar`\r\n\r\nIt&#39;s also on my dependency list:\r\n```xml\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.hadoop&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hadoop-common&lt;/artifactId&gt;\r\n            &lt;version&gt;3.1.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n```\r\nand shaded into my JAR and I see the .class file in the archive.\r\n\r\nFinally, I successfully instantiate it in literally the previous line!","title":"Iceberg Flink catalog factory cannot find org/apache/hadoop/conf/Configuration","body":"<p>I have a basic application that tries to write some data into an Iceberg table using Flink:</p>\n<pre class=\"lang-java prettyprint-override\"><code>StreamExecutionEnvironment env = StreamExecutionEnvironment.getExecutionEnvironment();\nStreamTableEnvironment tenv = StreamTableEnvironment.create(env);\nConfiguration hadoopConf = new Configuration();\ntenv.executeSql(&quot;CREATE CATALOG hive WITH ('type'='iceberg', 'catalog-type'='hive')&quot;);\n</code></pre>\n<pre><code>flink run --detached --class org.example.App Test-1.0-SNAPSHOT.jar\njava.lang.NoClassDefFoundError: org/apache/hadoop/conf/Configuration\n        at org.apache.iceberg.flink.FlinkCatalogFactory.clusterHadoopConf(FlinkCatalogFactory.java:211)\n        at org.apache.iceberg.flink.FlinkCatalogFactory.createCatalog(FlinkCatalogFactory.java:139)\n        at org.apache.flink.table.factories.FactoryUtil.createCatalog(FactoryUtil.java:406)\n        at org.apache.flink.table.api.internal.TableEnvironmentImpl.createCatalog(TableEnvironmentImpl.java:1356)\n        at org.apache.flink.table.api.internal.TableEnvironmentImpl.executeInternal(TableEnvironmentImpl.java:1111)\n        at org.apache.flink.table.api.internal.TableEnvironmentImpl.executeSql(TableEnvironmentImpl.java:701)\n        at org.example.App.main(App.java:36)\n\n</code></pre>\n<p>Why can't it find <code>org/apache/hadoop/conf/Configuration</code>?</p>\n<ol>\n<li>My Hadoop classpath is set: <code>HADOOP_CLASSPATH='/etc/hadoop/conf:/usr/lib/hadoop/lib/*:/usr/lib/hadoop/.//*:/usr/lib/hadoop-hdfs/./:/usr/lib/hadoop-hdfs/lib/*:/usr/lib/hadoop-hdfs/.//*:/usr/lib/hadoop-mapreduce/.//*:/usr/lib/hadoop-yarn/./:/usr/lib/hadoop-yarn/lib/*:/usr/lib/hadoop-yarn/.//*'</code> and the JAR is there: <code>/usr/lib/hadoop/hadoop-common-3.1.2.jar</code></li>\n</ol>\n<p>It's also on my dependency list:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.hadoop&lt;/groupId&gt;\n            &lt;artifactId&gt;hadoop-common&lt;/artifactId&gt;\n            &lt;version&gt;3.1.2&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>and shaded into my JAR and I see the .class file in the archive.</p>\n<p>Finally, I successfully instantiate it in literally the previous line!</p>\n"},{"tags":["java","kotlin","classpath"],"comments":[{"owner":{"account_id":19726215,"reputation":538,"user_id":14442758,"display_name":"Z-100"},"score":0,"creation_date":1688628913,"post_id":76625892,"comment_id":135099826,"body_markdown":"Can you show us your `.gradle` files? Also: Please don&#39;t share any images here, copy it and use three \\` tags before and after your code/error message (without the backslash.)","body":"Can you show us your <code>.gradle</code> files? Also: Please don&#39;t share any images here, copy it and use three ` tags before and after your code/error message (without the backslash.)"},{"owner":{"account_id":28960374,"reputation":1,"user_id":22182979,"display_name":"MD Hasan"},"score":0,"creation_date":1688632536,"post_id":76625892,"comment_id":135100630,"body_markdown":"hello, you there?","body":"hello, you there?"},{"owner":{"account_id":28960374,"reputation":1,"user_id":22182979,"display_name":"MD Hasan"},"score":0,"creation_date":1688632581,"post_id":76625892,"comment_id":135100644,"body_markdown":"sir, I don&#39;r understand. How would share my gradle file unless i took any screenshot. please sir","body":"sir, I don&#39;r understand. How would share my gradle file unless i took any screenshot. please sir"},{"owner":{"account_id":28960374,"reputation":1,"user_id":22182979,"display_name":"MD Hasan"},"score":0,"creation_date":1688632656,"post_id":76625892,"comment_id":135100660,"body_markdown":"till three I am trying but didnt found any result. I am learning from free videos o you tbe but still didn&#39;t found solution","body":"till three I am trying but didnt found any result. I am learning from free videos o you tbe but still didn&#39;t found solution"},{"owner":{"account_id":28960374,"reputation":1,"user_id":22182979,"display_name":"MD Hasan"},"score":0,"creation_date":1688632797,"post_id":76625892,"comment_id":135100695,"body_markdown":"here is the gradle file","body":"here is the gradle file"},{"owner":{"account_id":28960374,"reputation":1,"user_id":22182979,"display_name":"MD Hasan"},"score":0,"creation_date":1688632802,"post_id":76625892,"comment_id":135100697,"body_markdown":"https://ibb.co/3p1wxLr","body":"<a href=\"https://ibb.co/3p1wxLr\" rel=\"nofollow noreferrer\">ibb.co/3p1wxLr</a>"},{"owner":{"account_id":19315649,"reputation":692,"user_id":14120486,"display_name":"ItzDavi"},"score":0,"creation_date":1688634130,"post_id":76625892,"comment_id":135100988,"body_markdown":"Can you provide your entire build.gradle files ? There should be two: one App and one Module, can you add the code from them in your question ?","body":"Can you provide your entire build.gradle files ? There should be two: one App and one Module, can you add the code from them in your question ?"},{"owner":{"account_id":19726215,"reputation":538,"user_id":14442758,"display_name":"Z-100"},"score":0,"creation_date":1688634956,"post_id":76625892,"comment_id":135101184,"body_markdown":"Step by step tutorial on how to share a file in StackOverflow: 1. Navigate to `build.gradle`. 2. Copy the dependency part &amp; the repositories part. 3. Edit this post and paste both parts of the file content in your question surrounded by ````","body":"Step by step tutorial on how to share a file in StackOverflow: 1. Navigate to <code>build.gradle</code>. 2. Copy the dependency part &amp; the repositories part. 3. Edit this post and paste both parts of the file content in your question surrounded by ````"},{"owner":{"account_id":28960374,"reputation":1,"user_id":22182979,"display_name":"MD Hasan"},"score":0,"creation_date":1688636316,"post_id":76625892,"comment_id":135101482,"body_markdown":"thank you so much sir. i think m problem solved but still not sure. But i hope. sir, can you suggest  e any good you tube channel tht would be helpful for me to learn.","body":"thank you so much sir. i think m problem solved but still not sure. But i hope. sir, can you suggest  e any good you tube channel tht would be helpful for me to learn."}],"owner":{"account_id":28960374,"reputation":1,"user_id":22182979,"display_name":"MD Hasan"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688653239,"creation_date":1688622975,"question_id":76625892,"body_markdown":"I have installed the android studio but it is not working welly. it shows a classpath not identified issue and I cannot work on it. I have install and uninstall it several times but still it is not working. My laptop is old but 8gb ram. I have to work on this laptop.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/XuGGn.png","title":"classpath issue happening on my android studio","body":"<p>I have installed the android studio but it is not working welly. it shows a classpath not identified issue and I cannot work on it. I have install and uninstall it several times but still it is not working. My laptop is old but 8gb ram. I have to work on this laptop.</p>\n<p><a href=\"https://i.stack.imgur.com/XuGGn.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/XuGGn.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","java-stream"],"answers":[{"tags":[],"owner":{"account_id":7300136,"reputation":1160,"user_id":5563263,"accept_rate":57,"display_name":"Loading"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1688653173,"creation_date":1688653173,"answer_id":76629805,"question_id":76629690,"body_markdown":"As far as i see you can use string split to split the string and get the last &quot;column&quot; of the sourceKey contents:\r\n\r\n    var allIds = person.getPrsndtl()\r\n        .getItems()\r\n        .stream()\r\n        .map(item -&gt; item.getKey())\r\n        .map(key -&gt; key.getSourceKey())\r\n        .map(sourceKey -&gt; sourceKey.split(&quot;:&quot;)[2])\r\n        .toList();\r\n\r\nBut this only works if the format is really always the same. If not, then you need to write in safeguards","title":"How to iterate inner class item using stream","body":"<p>As far as i see you can use string split to split the string and get the last &quot;column&quot; of the sourceKey contents:</p>\n<pre><code>var allIds = person.getPrsndtl()\n    .getItems()\n    .stream()\n    .map(item -&gt; item.getKey())\n    .map(key -&gt; key.getSourceKey())\n    .map(sourceKey -&gt; sourceKey.split(&quot;:&quot;)[2])\n    .toList();\n</code></pre>\n<p>But this only works if the format is really always the same. If not, then you need to write in safeguards</p>\n"}],"owner":{"account_id":4859726,"reputation":283,"user_id":3919727,"display_name":"user3919727"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76629805,"answer_count":1,"score":0,"last_activity_date":1688653173,"creation_date":1688652388,"question_id":76629690,"body_markdown":"I have below classes hierarchy. I am trying to print all the sourceKey.\r\n\r\nI was trying something like below (incomplete though)\r\n\r\n    System.out.println(person.prsndtl.items.stream().map(PrsnDtl.Item::toString));\r\n\r\nsourceKey values are something like below. \r\n\r\n    AAA:C:22\r\n    BBB:C:44\r\n\r\nI want to print only 22, 44 by iterating all items.\r\n\r\n\r\nHow do I iterate and print them, thanks in advance\r\n\r\n    @Getter\r\n    @Setter\r\n    @ToString\r\n    public class Person {\r\n    \r\n        @JsonProperty(&quot;MyPrsnDtl&quot;)\r\n        public PrsnDtl prsndtl;\r\n    \r\n    }\r\n    \r\n    @Getter\r\n    @Setter\r\n    @ToString\r\n    public class PrsnDtl {\r\n    \r\n        @JsonProperty(&quot;item&quot;)\r\n        @Getter\r\n        @Setter\r\n        public List&lt;Item&gt; items = new ArrayList&lt;&gt;();\r\n    \r\n        @Getter\r\n        @Setter\r\n        @ToString\r\n        public static final class Item {\r\n    \r\n            @JsonProperty(&quot;key&quot;)\r\n            public Key key;\r\n        }\r\n    }\r\n    \r\n    @Getter\r\n    @Setter\r\n    @ToString\r\n    public class Key {\r\n        @JsonProperty(&quot;sourceKey&quot;)\r\n        public String sourceKey;\r\n    }\r\n\r\n","title":"How to iterate inner class item using stream","body":"<p>I have below classes hierarchy. I am trying to print all the sourceKey.</p>\n<p>I was trying something like below (incomplete though)</p>\n<pre><code>System.out.println(person.prsndtl.items.stream().map(PrsnDtl.Item::toString));\n</code></pre>\n<p>sourceKey values are something like below.</p>\n<pre><code>AAA:C:22\nBBB:C:44\n</code></pre>\n<p>I want to print only 22, 44 by iterating all items.</p>\n<p>How do I iterate and print them, thanks in advance</p>\n<pre><code>@Getter\n@Setter\n@ToString\npublic class Person {\n\n    @JsonProperty(&quot;MyPrsnDtl&quot;)\n    public PrsnDtl prsndtl;\n\n}\n\n@Getter\n@Setter\n@ToString\npublic class PrsnDtl {\n\n    @JsonProperty(&quot;item&quot;)\n    @Getter\n    @Setter\n    public List&lt;Item&gt; items = new ArrayList&lt;&gt;();\n\n    @Getter\n    @Setter\n    @ToString\n    public static final class Item {\n\n        @JsonProperty(&quot;key&quot;)\n        public Key key;\n    }\n}\n\n@Getter\n@Setter\n@ToString\npublic class Key {\n    @JsonProperty(&quot;sourceKey&quot;)\n    public String sourceKey;\n}\n</code></pre>\n"},{"tags":["java","slack","slack-block-kit","bolt"],"comments":[{"owner":{"account_id":1374702,"reputation":131,"user_id":1308939,"display_name":"Vadym Nekhai"},"score":0,"creation_date":1688826961,"post_id":76629797,"comment_id":135127743,"body_markdown":"Looks like that was a bug on their side and they fixed it https://github.com/slackapi/java-slack-sdk/issues/1179","body":"Looks like that was a bug on their side and they fixed it <a href=\"https://github.com/slackapi/java-slack-sdk/issues/1179\" rel=\"nofollow noreferrer\">github.com/slackapi/java-slack-sdk/issues/1179</a>"}],"owner":{"account_id":28963642,"reputation":1,"user_id":22185613,"display_name":"Dario Niero"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688653119,"creation_date":1688653119,"question_id":76629797,"body_markdown":"I am trying to use bolt java library to integrate forward information in my app. I have some problems to access the right field in the object. \r\n\r\n\r\n\r\nFirst of all I fetch the message using Conversations.history (https://api.slack.com/methods/conversations.history)\r\nThen if the message has a forward in the json response there is a &quot;attachments&quot; field that contains a list of attachment. Now in the tester the json response has a &quot;message_blocks&quot; field, that is basically what I need because I need to parse one by one the blocks in the message object contained in the message_blocks field. The problem is that the &quot;message_blocks field is not present in the bolt Attachment class\r\nhttps://javadoc.io/doc/com.slack.api/slack-api-model/1.1.1/com/slack/api/model/Attachment.html\r\nhttps://github.com/slackapi/java-slack-sdk/blob/main/slack-api-model/src/main/java/com/slack/api/model/Attachment.java\r\n\r\nIt seems like that this field is not mapped\r\n\r\nI would really like to access that field or find another way to get the blocks information about the forwarded message.\r\n\r\nThank you in advance\r\n","title":"How to access forward information with bolt java library for slack","body":"<p>I am trying to use bolt java library to integrate forward information in my app. I have some problems to access the right field in the object.</p>\n<p>First of all I fetch the message using Conversations.history (<a href=\"https://api.slack.com/methods/conversations.history\" rel=\"nofollow noreferrer\">https://api.slack.com/methods/conversations.history</a>)\nThen if the message has a forward in the json response there is a &quot;attachments&quot; field that contains a list of attachment. Now in the tester the json response has a &quot;message_blocks&quot; field, that is basically what I need because I need to parse one by one the blocks in the message object contained in the message_blocks field. The problem is that the &quot;message_blocks field is not present in the bolt Attachment class\n<a href=\"https://javadoc.io/doc/com.slack.api/slack-api-model/1.1.1/com/slack/api/model/Attachment.html\" rel=\"nofollow noreferrer\">https://javadoc.io/doc/com.slack.api/slack-api-model/1.1.1/com/slack/api/model/Attachment.html</a>\n<a href=\"https://github.com/slackapi/java-slack-sdk/blob/main/slack-api-model/src/main/java/com/slack/api/model/Attachment.java\" rel=\"nofollow noreferrer\">https://github.com/slackapi/java-slack-sdk/blob/main/slack-api-model/src/main/java/com/slack/api/model/Attachment.java</a></p>\n<p>It seems like that this field is not mapped</p>\n<p>I would really like to access that field or find another way to get the blocks information about the forwarded message.</p>\n<p>Thank you in advance</p>\n"},{"tags":["java","exception","final","throwable","checked-exceptions"],"comments":[{"owner":{"account_id":1122289,"reputation":5100,"user_id":1110381,"accept_rate":77,"display_name":"l4mpi"},"score":1,"creation_date":1688652923,"post_id":76629675,"comment_id":135105293,"body_markdown":"That explanation is just bad. The `final` keyword has no direct impact on exceptions or throwing them. It simply means that you will get a compile error if you try to assign anything to `ex`, so the code before `throw ex` cannot do something like `ex = new WhateverException()`. Thus it guarantees that whatever is in `ex` is still the same at the end of the `catch` block, but that&#39;s it - if you omit the `final` and simply write code that doesn&#39;t assign `ex`, you will get identical behaviour. Also, `final` has nothing to do with the `finally` keyword if that&#39;s a reason for your confusion.","body":"That explanation is just bad. The <code>final</code> keyword has no direct impact on exceptions or throwing them. It simply means that you will get a compile error if you try to assign anything to <code>ex</code>, so the code before <code>throw ex</code> cannot do something like <code>ex = new WhateverException()</code>. Thus it guarantees that whatever is in <code>ex</code> is still the same at the end of the <code>catch</code> block, but that&#39;s it - if you omit the <code>final</code> and simply write code that doesn&#39;t assign <code>ex</code>, you will get identical behaviour. Also, <code>final</code> has nothing to do with the <code>finally</code> keyword if that&#39;s a reason for your confusion."}],"answers":[{"tags":[],"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1688653091,"creation_date":1688653091,"answer_id":76629791,"question_id":76629675,"body_markdown":"Imagine this code:\r\n\r\n    void m() throws IOException {\r\n      try {\r\n        throw new IOException();\r\n      } catch (Exception e) {\r\n        //do something when an exception is thrown...\r\n        throw e;\r\n      }\r\n    }\r\n\r\nIn Java 6, it did not compile and you had to add `Exception` to the method signature:\r\n\r\n    void m() throws IOException, Exception { ... }\r\n\r\nwhich can be replaced by \r\n\r\n    void m() throws Exception { ... }\r\n\r\nIn other words, if you wanted to catch all exceptions, the compiler forced you to change the method signature, although in this code it is clear that only `IOException` can be thrown.\r\n\r\nThe article you link to explains that, in Java 7, you can do a catch-all without changing the method signature.\r\n\r\nMore information in the &quot;Rethrowing Exceptions&quot; section of this article: https://www.oracle.com/technical-resources/articles/java/java7exceptions.html.\r\n\r\nps: the explanation around the `final` keyword is wrong, it makes no real difference in this example.","title":"Final rethrow in Java: Exception Handling","body":"<p>Imagine this code:</p>\n<pre><code>void m() throws IOException {\n  try {\n    throw new IOException();\n  } catch (Exception e) {\n    //do something when an exception is thrown...\n    throw e;\n  }\n}\n</code></pre>\n<p>In Java 6, it did not compile and you had to add <code>Exception</code> to the method signature:</p>\n<pre><code>void m() throws IOException, Exception { ... }\n</code></pre>\n<p>which can be replaced by</p>\n<pre><code>void m() throws Exception { ... }\n</code></pre>\n<p>In other words, if you wanted to catch all exceptions, the compiler forced you to change the method signature, although in this code it is clear that only <code>IOException</code> can be thrown.</p>\n<p>The article you link to explains that, in Java 7, you can do a catch-all without changing the method signature.</p>\n<p>More information in the &quot;Rethrowing Exceptions&quot; section of this article: <a href=\"https://www.oracle.com/technical-resources/articles/java/java7exceptions.html\" rel=\"nofollow noreferrer\">https://www.oracle.com/technical-resources/articles/java/java7exceptions.html</a>.</p>\n<p>ps: the explanation around the <code>final</code> keyword is wrong, it makes no real difference in this example.</p>\n"}],"owner":{"account_id":25845637,"reputation":534,"user_id":19580540,"display_name":"ayush"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":79,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":76629791,"answer_count":1,"score":-1,"last_activity_date":1688653091,"creation_date":1688652278,"question_id":76629675,"body_markdown":"I was going through some Exception Handling concepts in Java and came across the concept of **final rethrow**. I read the following article-   \r\nhttps://baptiste-wicht.com/posts/2010/05/better-exception-handling-in-java-7-multicatch-and-final-rethrow.html  \r\nHere, its written-\r\n&gt;And the second improvement is a little more complicated. Imagine that you want to catch all exceptions, make several operations and then rethrow it. The code isn&#39;t hard to make, but the big problem is that you must add a throws clause to your method signature to manage the new exception launched by your code and this is not the objective. Now, you can do that without adding an exception throws clause :\r\n\r\n```try {\r\n     // some code\r\n} catch (final Throwable ex) {\r\n     // some more code\r\n    throw ex;\r\n}\r\n```\r\n&gt;Using the final keyword it allows you to throw an exception of the exact dynamic type that will be throwed. So if an IOException occurs, an IOException will be throwed. Of course, you have to declare the exceptions not caught. You throws clauses will exactly the same if you use the code (in //some code) without catching anything but now you can do something if that happens.  \r\n\r\nCan somebody please explain what exactly does this mean and what purpose does it solve?","title":"Final rethrow in Java: Exception Handling","body":"<p>I was going through some Exception Handling concepts in Java and came across the concept of <strong>final rethrow</strong>. I read the following article-<br />\n<a href=\"https://baptiste-wicht.com/posts/2010/05/better-exception-handling-in-java-7-multicatch-and-final-rethrow.html\" rel=\"nofollow noreferrer\">https://baptiste-wicht.com/posts/2010/05/better-exception-handling-in-java-7-multicatch-and-final-rethrow.html</a><br />\nHere, its written-</p>\n<blockquote>\n<p>And the second improvement is a little more complicated. Imagine that you want to catch all exceptions, make several operations and then rethrow it. The code isn't hard to make, but the big problem is that you must add a throws clause to your method signature to manage the new exception launched by your code and this is not the objective. Now, you can do that without adding an exception throws clause :</p>\n</blockquote>\n<pre><code>     // some code\n} catch (final Throwable ex) {\n     // some more code\n    throw ex;\n}\n</code></pre>\n<blockquote>\n<p>Using the final keyword it allows you to throw an exception of the exact dynamic type that will be throwed. So if an IOException occurs, an IOException will be throwed. Of course, you have to declare the exceptions not caught. You throws clauses will exactly the same if you use the code (in //some code) without catching anything but now you can do something if that happens.</p>\n</blockquote>\n<p>Can somebody please explain what exactly does this mean and what purpose does it solve?</p>\n"},{"tags":["java","performance","loops","recursion"],"comments":[{"owner":{"account_id":28367824,"reputation":73,"user_id":21696871,"display_name":"fnymmm"},"score":1,"creation_date":1688649230,"post_id":76629219,"comment_id":135104359,"body_markdown":"Every stack call brings some overhead, which is in the long run slower","body":"Every stack call brings some overhead, which is in the long run slower"},{"owner":{"account_id":4279913,"reputation":3623,"user_id":3499626,"accept_rate":89,"display_name":"jhamon"},"score":2,"creation_date":1688650185,"post_id":76629219,"comment_id":135104610,"body_markdown":"Nice to read: [How do I write a correct micro-benchmark in Java?](https://stackoverflow.com/questions/504103/how-do-i-write-a-correct-micro-benchmark-in-java)","body":"Nice to read: <a href=\"https://stackoverflow.com/questions/504103/how-do-i-write-a-correct-micro-benchmark-in-java\">How do I write a correct micro-benchmark in Java?</a>"},{"owner":{"account_id":401843,"reputation":89768,"user_id":768644,"display_name":"rzwitserloot"},"score":2,"creation_date":1688650725,"post_id":76629219,"comment_id":135104741,"body_markdown":"Many, many issues here: [1] CPUs are incredibly complicated, &#39;why this faster than that&#39; requires about 500 pages of detail. This is not an appropriate question for SO, other than: CPUs aren&#39;t understandable at the level you think they are understandable at. They don&#39;t &#39;run one instruction per cycle&#39;, for example. [2] This isn&#39;t how you build a benchmark. CPUs are complicated. So are JVMs. You can&#39;t just time them like this. Use JMH - see jhamon&#39;s link. [3] For java _specifically_, recursion is slower than in other languages because java doesn&#39;t do tail call optimization (for good reasons).","body":"Many, many issues here: [1] CPUs are incredibly complicated, &#39;why this faster than that&#39; requires about 500 pages of detail. This is not an appropriate question for SO, other than: CPUs aren&#39;t understandable at the level you think they are understandable at. They don&#39;t &#39;run one instruction per cycle&#39;, for example. [2] This isn&#39;t how you build a benchmark. CPUs are complicated. So are JVMs. You can&#39;t just time them like this. Use JMH - see jhamon&#39;s link. [3] For java <i>specifically</i>, recursion is slower than in other languages because java doesn&#39;t do tail call optimization (for good reasons)."},{"owner":{"account_id":4113392,"reputation":5800,"user_id":3375670,"accept_rate":88,"display_name":"Robert Kock"},"score":0,"creation_date":1688650925,"post_id":76629219,"comment_id":135104799,"body_markdown":"I tried with number=20 (the largest result that matches within a long). Placing the endtime before the println for a more accurate duration, I got few microseconds for both solutions. The iterative one usually slightly slower than the recursive solution but not 35 times as in your case.","body":"I tried with number=20 (the largest result that matches within a long). Placing the endtime before the println for a more accurate duration, I got few microseconds for both solutions. The iterative one usually slightly slower than the recursive solution but not 35 times as in your case."},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1688651576,"post_id":76629219,"comment_id":135104968,"body_markdown":"@rzwitserloot In this case TCO wouldn&#39;t be possible anyway, since the call isn&#39;t in tail position. The multiplication is the last operation.","body":"@rzwitserloot In this case TCO wouldn&#39;t be possible anyway, since the call isn&#39;t in tail position. The multiplication is the last operation."}],"answers":[{"tags":[],"owner":{"account_id":18178272,"reputation":55,"user_id":13226583,"display_name":"Rishabh Kabra"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1688653087,"creation_date":1688653087,"answer_id":76629790,"question_id":76629219,"body_markdown":"**Short Answer:** An iteration does not use the stack so it&#39;s faster than recursion.\r\n\r\n**Description:** In recursion method get in memory every-time it is called. If an logic calls a method 90 times recursively then same method will get load into memory stack 90 times with repeated variables. Where loop/iteration get load into memory stack only once (when its method will get load) and most of variables will be reused.\r\n\r\nPlease refer: [is-recursion-ever-faster-than-looping][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/2651112/is-recursion-ever-faster-than-looping","title":"Why is iteration faster than recursion in this java code","body":"<p><strong>Short Answer:</strong> An iteration does not use the stack so it's faster than recursion.</p>\n<p><strong>Description:</strong> In recursion method get in memory every-time it is called. If an logic calls a method 90 times recursively then same method will get load into memory stack 90 times with repeated variables. Where loop/iteration get load into memory stack only once (when its method will get load) and most of variables will be reused.</p>\n<p>Please refer: <a href=\"https://stackoverflow.com/questions/2651112/is-recursion-ever-faster-than-looping\">is-recursion-ever-faster-than-looping</a></p>\n"}],"owner":{"account_id":20650084,"reputation":2646,"user_id":15160601,"display_name":"zoldxk"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":75,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1688653087,"creation_date":1688649109,"question_id":76629219,"body_markdown":"I&#39;ve implemented two Java codes for calculating the factorial of a number, one using recursion and the other using iteration. The iterative code seems to be faster than the recursive code in terms of execution time. However, I&#39;m curious to understand why this performance difference occurs.\r\n\r\nRecursive Factorial Code:\r\n```\r\npublic class RecursiveFactorial {\r\n\r\n    public static long factorial(int n) {\r\n        if (n == 0) {\r\n            return 1;\r\n        } else {\r\n            return n * factorial(n - 1);\r\n        }\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        int number = 5;\r\n\r\n        long startTime = System.nanoTime();\r\n\r\n        long result = factorial(number);\r\n        System.out.println(&quot;Factorial of &quot; + number + &quot; is: &quot; + result);\r\n\r\n        long endTime = System.nanoTime();\r\n        double executionTime = (endTime - startTime) / 1_000_000_000.0;\r\n        System.out.println(&quot;Execution time: &quot; + executionTime + &quot; seconds&quot;);\r\n    }\r\n}\r\n```\r\ntime: `0.0138802 seconds`\r\nIterative Factorial Code:\r\n```\r\npublic class IterativeFactorial {\r\n\r\n    public static long factorial(int n) {\r\n        long result = 1;\r\n\r\n        for (int i = 1; i &lt;= n; i++) {\r\n            result *= i;\r\n        }\r\n\r\n        return result;\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        int number = 5;\r\n\r\n        long startTime = System.nanoTime();\r\n\r\n        long result = factorial(number);\r\n        System.out.println(&quot;Factorial of &quot; + number + &quot; is: &quot; + result);\r\n\r\n        long endTime = System.nanoTime();\r\n        double executionTime = (endTime - startTime) / 1_000_000_000.0;\r\n        System.out.println(&quot;Execution time: &quot; + executionTime + &quot; seconds&quot;);\r\n    }\r\n}\r\n```\r\ntime: `0.0003859 seconds`\r\nI would appreciate if someone could shed light on the reasons behind the observed performance difference between the recursive and iterative implementations. Additionally, it would be interesting to see some random execution times for both codes to further illustrate the disparity.","title":"Why is iteration faster than recursion in this java code","body":"<p>I've implemented two Java codes for calculating the factorial of a number, one using recursion and the other using iteration. The iterative code seems to be faster than the recursive code in terms of execution time. However, I'm curious to understand why this performance difference occurs.</p>\n<p>Recursive Factorial Code:</p>\n<pre><code>public class RecursiveFactorial {\n\n    public static long factorial(int n) {\n        if (n == 0) {\n            return 1;\n        } else {\n            return n * factorial(n - 1);\n        }\n    }\n\n    public static void main(String[] args) {\n        int number = 5;\n\n        long startTime = System.nanoTime();\n\n        long result = factorial(number);\n        System.out.println(&quot;Factorial of &quot; + number + &quot; is: &quot; + result);\n\n        long endTime = System.nanoTime();\n        double executionTime = (endTime - startTime) / 1_000_000_000.0;\n        System.out.println(&quot;Execution time: &quot; + executionTime + &quot; seconds&quot;);\n    }\n}\n</code></pre>\n<p>time: <code>0.0138802 seconds</code>\nIterative Factorial Code:</p>\n<pre><code>public class IterativeFactorial {\n\n    public static long factorial(int n) {\n        long result = 1;\n\n        for (int i = 1; i &lt;= n; i++) {\n            result *= i;\n        }\n\n        return result;\n    }\n\n    public static void main(String[] args) {\n        int number = 5;\n\n        long startTime = System.nanoTime();\n\n        long result = factorial(number);\n        System.out.println(&quot;Factorial of &quot; + number + &quot; is: &quot; + result);\n\n        long endTime = System.nanoTime();\n        double executionTime = (endTime - startTime) / 1_000_000_000.0;\n        System.out.println(&quot;Execution time: &quot; + executionTime + &quot; seconds&quot;);\n    }\n}\n</code></pre>\n<p>time: <code>0.0003859 seconds</code>\nI would appreciate if someone could shed light on the reasons behind the observed performance difference between the recursive and iterative implementations. Additionally, it would be interesting to see some random execution times for both codes to further illustrate the disparity.</p>\n"},{"tags":["java","spring-boot","docker-compose","code-coverage","jacoco"],"comments":[{"owner":{"account_id":401085,"reputation":1174,"user_id":767434,"display_name":"max"},"score":0,"creation_date":1694027573,"post_id":76629786,"comment_id":135838881,"body_markdown":"Did you find a solution?","body":"Did you find a solution?"},{"owner":{"account_id":7032035,"reputation":1,"user_id":5387367,"display_name":"Vipin"},"score":0,"creation_date":1695300975,"post_id":76629786,"comment_id":136008090,"body_markdown":"haven&#39;t found a better solution yet @max","body":"haven&#39;t found a better solution yet @max"}],"owner":{"account_id":7032035,"reputation":1,"user_id":5387367,"display_name":"Vipin"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":136,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688653066,"creation_date":1688653066,"question_id":76629786,"body_markdown":"I have a Spring boot application deployed using Docker compose, I need to generate and publish code coverage for my integration test (Running in Jenkins) using Jacoco and Sonarcube.\r\n\r\nBelow steps are working in my local\r\n\r\n- Added jacoco dependency and plugin in pom.xml &amp; started service using jacoco java agent \r\n- Run integration tests\r\n- Generate jacoco. exec file\r\n- Publish to sonarcube\r\n\r\n\r\n```\r\njava -javaagent:org.jacoco.agent-0.8.10-runtime.jar=output=tcpserver,address=* -jar target/service.jar\r\n\r\nmvn jacoco:dump -Djacoco.address=localhost\r\n\r\nmvn sonar:sonar -Dsonar.host.url=http://localhost:9000\r\n\r\n```\r\n\r\nThis solution wont work in the container without ssh into it. Is there a better way to achieve this ?\r\n\r\nI have also tried using https://hub.docker.com/r/ictu/jacoco-agent-docker, but above mentioned problem still exists in this case as well. ","title":"How to generate and publish code coverage for integration tests without ssh into docker container","body":"<p>I have a Spring boot application deployed using Docker compose, I need to generate and publish code coverage for my integration test (Running in Jenkins) using Jacoco and Sonarcube.</p>\n<p>Below steps are working in my local</p>\n<ul>\n<li>Added jacoco dependency and plugin in pom.xml &amp; started service using jacoco java agent</li>\n<li>Run integration tests</li>\n<li>Generate jacoco. exec file</li>\n<li>Publish to sonarcube</li>\n</ul>\n<pre><code>java -javaagent:org.jacoco.agent-0.8.10-runtime.jar=output=tcpserver,address=* -jar target/service.jar\n\nmvn jacoco:dump -Djacoco.address=localhost\n\nmvn sonar:sonar -Dsonar.host.url=http://localhost:9000\n\n</code></pre>\n<p>This solution wont work in the container without ssh into it. Is there a better way to achieve this ?</p>\n<p>I have also tried using <a href=\"https://hub.docker.com/r/ictu/jacoco-agent-docker\" rel=\"nofollow noreferrer\">https://hub.docker.com/r/ictu/jacoco-agent-docker</a>, but above mentioned problem still exists in this case as well.</p>\n"},{"tags":["java","contentful","contentful-api"],"owner":{"account_id":5596641,"reputation":1936,"user_id":4434202,"accept_rate":54,"display_name":"Akinn"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688652993,"creation_date":1688652993,"question_id":76629776,"body_markdown":"I have some content types defined in a contentful space and I am trying to fetch some content I&#39;ve created.\r\n\r\nThese are the `contentTypes` I&#39;ve created:\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    {\r\n      &quot;name&quot;: &quot;Configuration&quot;,\r\n      &quot;description&quot;: &quot;configuration&quot;,\r\n      &quot;displayField&quot;: &quot;name&quot;,\r\n      &quot;fields&quot;: [\r\n        {\r\n          &quot;id&quot;: &quot;name&quot;,\r\n          &quot;name&quot;: &quot;Name&quot;,\r\n          &quot;type&quot;: &quot;Symbol&quot;,\r\n          &quot;localized&quot;: false,\r\n          &quot;required&quot;: true,\r\n          &quot;validations&quot;: [\r\n            {\r\n              &quot;unique&quot;: true\r\n            }\r\n          ],\r\n          &quot;disabled&quot;: false,\r\n          &quot;omitted&quot;: false\r\n        },\r\n        {\r\n          &quot;id&quot;: &quot;pages&quot;,\r\n          &quot;name&quot;: &quot;Pages&quot;,\r\n          &quot;type&quot;: &quot;Array&quot;,\r\n          &quot;localized&quot;: false,\r\n          &quot;required&quot;: true,\r\n          &quot;validations&quot;: [],\r\n          &quot;disabled&quot;: false,\r\n          &quot;omitted&quot;: false,\r\n          &quot;items&quot;: {\r\n            &quot;type&quot;: &quot;Link&quot;,\r\n            &quot;validations&quot;: [\r\n              {\r\n                &quot;linkContentType&quot;: [\r\n                  &quot;Page&quot;\r\n                ]\r\n              }\r\n            ],\r\n            &quot;linkType&quot;: &quot;Entry&quot;\r\n          }\r\n        }\r\n      ],\r\n      &quot;sys&quot;: {\r\n        ...\r\n        }\r\n    }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    {\r\n      &quot;name&quot;: &quot;Page&quot;,\r\n      &quot;description&quot;: &quot;Page&quot;,\r\n      &quot;displayField&quot;: &quot;name&quot;,\r\n      &quot;fields&quot;: [\r\n        {\r\n          &quot;id&quot;: &quot;name&quot;,\r\n          &quot;name&quot;: &quot;Name&quot;,\r\n          &quot;type&quot;: &quot;Symbol&quot;,\r\n          &quot;localized&quot;: false,\r\n          &quot;required&quot;: true,\r\n          &quot;validations&quot;: [\r\n            {\r\n              &quot;unique&quot;: true\r\n            }\r\n          ],\r\n          &quot;disabled&quot;: false,\r\n          &quot;omitted&quot;: false\r\n        },\r\n        {\r\n          &quot;id&quot;: &quot;title&quot;,\r\n          &quot;name&quot;: &quot;Title&quot;,\r\n          &quot;type&quot;: &quot;Symbol&quot;,\r\n          &quot;localized&quot;: true,\r\n          &quot;required&quot;: true,\r\n          &quot;validations&quot;: [],\r\n          &quot;disabled&quot;: false,\r\n          &quot;omitted&quot;: false\r\n        },\r\n        {\r\n          &quot;id&quot;: &quot;shortTitle&quot;,\r\n          &quot;name&quot;: &quot;Short title&quot;,\r\n          &quot;type&quot;: &quot;Symbol&quot;,\r\n          &quot;localized&quot;: true,\r\n          &quot;required&quot;: true,\r\n          &quot;validations&quot;: [],\r\n          &quot;disabled&quot;: false,\r\n          &quot;omitted&quot;: false\r\n        },\r\n        {\r\n          &quot;id&quot;: &quot;description&quot;,\r\n          &quot;name&quot;: &quot;Description&quot;,\r\n          &quot;type&quot;: &quot;Symbol&quot;,\r\n          &quot;localized&quot;: true,\r\n          &quot;required&quot;: true,\r\n          &quot;validations&quot;: [],\r\n          &quot;disabled&quot;: false,\r\n          &quot;omitted&quot;: false\r\n        },\r\n        {\r\n          &quot;id&quot;: &quot;sections&quot;,\r\n          &quot;name&quot;: &quot;Sections&quot;,\r\n          &quot;type&quot;: &quot;Array&quot;,\r\n          &quot;localized&quot;: false,\r\n          &quot;required&quot;: true,\r\n          &quot;validations&quot;: [],\r\n          &quot;disabled&quot;: false,\r\n          &quot;omitted&quot;: false,\r\n          &quot;items&quot;: {\r\n            &quot;type&quot;: &quot;Link&quot;,\r\n            &quot;validations&quot;: [\r\n              {\r\n                &quot;linkContentType&quot;: [\r\n                  &quot;Section&quot;\r\n                ]\r\n              }\r\n            ],\r\n            &quot;linkType&quot;: &quot;Entry&quot;\r\n          }\r\n        }\r\n      ],\r\n      &quot;sys&quot;: {\r\n        ...\r\n      }\r\n    }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    {\r\n      &quot;name&quot;: &quot;Section&quot;,\r\n      &quot;description&quot;: &quot;section&quot;,\r\n      &quot;displayField&quot;: &quot;name&quot;,\r\n      &quot;fields&quot;: [\r\n        {\r\n          &quot;id&quot;: &quot;name&quot;,\r\n          &quot;name&quot;: &quot;Name&quot;,\r\n          &quot;type&quot;: &quot;Symbol&quot;,\r\n          &quot;localized&quot;: false,\r\n          &quot;required&quot;: true,\r\n          &quot;validations&quot;: [\r\n            {\r\n              &quot;unique&quot;: true\r\n            }\r\n          ],\r\n          &quot;disabled&quot;: false,\r\n          &quot;omitted&quot;: false\r\n        },\r\n        {\r\n          &quot;id&quot;: &quot;provider&quot;,\r\n          &quot;name&quot;: &quot;Provider&quot;,\r\n          &quot;type&quot;: &quot;Symbol&quot;,\r\n          &quot;localized&quot;: false,\r\n          &quot;required&quot;: true,\r\n          &quot;validations&quot;: [\r\n            {\r\n              &quot;in&quot;: [\r\n                &quot;1&quot;,\r\n                &quot;2&quot;,\r\n                &quot;3&quot;\r\n              ]\r\n            }\r\n          ],\r\n          &quot;disabled&quot;: false,\r\n          &quot;omitted&quot;: false\r\n        },\r\n        {\r\n          &quot;id&quot;: &quot;maxDisplayLimit&quot;,\r\n          &quot;name&quot;: &quot;Max display limit&quot;,\r\n          &quot;type&quot;: &quot;Integer&quot;,\r\n          &quot;localized&quot;: false,\r\n          &quot;required&quot;: true,\r\n          &quot;validations&quot;: [],\r\n          &quot;disabled&quot;: false,\r\n          &quot;omitted&quot;: false\r\n        },\r\n        {\r\n          &quot;id&quot;: &quot;productList&quot;,\r\n          &quot;name&quot;: &quot;Product IDs&quot;,\r\n          &quot;type&quot;: &quot;Array&quot;,\r\n          &quot;localized&quot;: false,\r\n          &quot;required&quot;: false,\r\n          &quot;validations&quot;: [\r\n            {\r\n              &quot;size&quot;: {\r\n                &quot;min&quot;: 1,\r\n                &quot;max&quot;: 50\r\n              }\r\n            }\r\n          ],\r\n          &quot;disabled&quot;: false,\r\n          &quot;omitted&quot;: false,\r\n          &quot;items&quot;: {\r\n            &quot;type&quot;: &quot;Symbol&quot;,\r\n            &quot;validations&quot;: []\r\n          }\r\n        }\r\n      ],\r\n      &quot;sys&quot;: {\r\n        ...\r\n      }\r\n    }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nAnd my Java code to fetch them:\r\n\r\n    client = CDAClient.builder()\r\n                        .setSpace(space)\r\n                        .setEnvironment(environment)\r\n                        .setToken(accessToken)\r\n                        .build();\r\n    \r\n    client.observeAndTransform(Configuration.class)\r\n                    .withLocale(locale)\r\n                    .include(MAX_DEPTH)\r\n                    .all()\r\n                    .blockingFirst();\r\n\r\n\r\nand I&#39;ve modeled such `contentTypes` like:\r\n\r\n    @TransformQuery.ContentfulEntryModel(&quot;Configuration&quot;)\r\n    public record Configuration(@TransformQuery.ContentfulField String name,\r\n                                                      @TransformQuery.ContentfulField List&lt;Page&gt; pages) {\r\n    }\r\n    \r\n    @TransformQuery.ContentfulEntryModel(&quot;Page&quot;)\r\n    public record Page(@TransformQuery.ContentfulField String name,\r\n                                             @TransformQuery.ContentfulField String title,\r\n                                             @TransformQuery.ContentfulField String shortTitle,\r\n                                             @TransformQuery.ContentfulField String description,\r\n                                             @TransformQuery.ContentfulField List&lt;Section&gt; sections) {\r\n    }\r\n    \r\n    @TransformQuery.ContentfulEntryModel(&quot;Section&quot;)\r\n    public record Section(@TransformQuery.ContentfulField String name,\r\n                                                @TransformQuery.ContentfulField String provider,\r\n                                                @TransformQuery.ContentfulField Integer maxDisplayLimit,\r\n    @TransformQuery.ContentfulField List&lt;String&gt; productList) {\r\n\r\n}\r\n\r\nWhen the code reaches the `.observeAndTransform` method I always get:\r\n\r\n    Cannot create new instance of custom model\r\n\r\n\r\nI&#39;ve also tried to remove everything a part the name of the Configuration contentType. I&#39;ve also double-checked all the contentTypes ids and contentField ids to ensure the mapping was correct. Anyone has an idea?\r\n","title":"Contentful Delivery API - Cannot create new instance of custom model","body":"<p>I have some content types defined in a contentful space and I am trying to fetch some content I've created.</p>\n<p>These are the <code>contentTypes</code> I've created:</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>{\n  \"name\": \"Configuration\",\n  \"description\": \"configuration\",\n  \"displayField\": \"name\",\n  \"fields\": [\n    {\n      \"id\": \"name\",\n      \"name\": \"Name\",\n      \"type\": \"Symbol\",\n      \"localized\": false,\n      \"required\": true,\n      \"validations\": [\n        {\n          \"unique\": true\n        }\n      ],\n      \"disabled\": false,\n      \"omitted\": false\n    },\n    {\n      \"id\": \"pages\",\n      \"name\": \"Pages\",\n      \"type\": \"Array\",\n      \"localized\": false,\n      \"required\": true,\n      \"validations\": [],\n      \"disabled\": false,\n      \"omitted\": false,\n      \"items\": {\n        \"type\": \"Link\",\n        \"validations\": [\n          {\n            \"linkContentType\": [\n              \"Page\"\n            ]\n          }\n        ],\n        \"linkType\": \"Entry\"\n      }\n    }\n  ],\n  \"sys\": {\n    ...\n    }\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>{\n  \"name\": \"Page\",\n  \"description\": \"Page\",\n  \"displayField\": \"name\",\n  \"fields\": [\n    {\n      \"id\": \"name\",\n      \"name\": \"Name\",\n      \"type\": \"Symbol\",\n      \"localized\": false,\n      \"required\": true,\n      \"validations\": [\n        {\n          \"unique\": true\n        }\n      ],\n      \"disabled\": false,\n      \"omitted\": false\n    },\n    {\n      \"id\": \"title\",\n      \"name\": \"Title\",\n      \"type\": \"Symbol\",\n      \"localized\": true,\n      \"required\": true,\n      \"validations\": [],\n      \"disabled\": false,\n      \"omitted\": false\n    },\n    {\n      \"id\": \"shortTitle\",\n      \"name\": \"Short title\",\n      \"type\": \"Symbol\",\n      \"localized\": true,\n      \"required\": true,\n      \"validations\": [],\n      \"disabled\": false,\n      \"omitted\": false\n    },\n    {\n      \"id\": \"description\",\n      \"name\": \"Description\",\n      \"type\": \"Symbol\",\n      \"localized\": true,\n      \"required\": true,\n      \"validations\": [],\n      \"disabled\": false,\n      \"omitted\": false\n    },\n    {\n      \"id\": \"sections\",\n      \"name\": \"Sections\",\n      \"type\": \"Array\",\n      \"localized\": false,\n      \"required\": true,\n      \"validations\": [],\n      \"disabled\": false,\n      \"omitted\": false,\n      \"items\": {\n        \"type\": \"Link\",\n        \"validations\": [\n          {\n            \"linkContentType\": [\n              \"Section\"\n            ]\n          }\n        ],\n        \"linkType\": \"Entry\"\n      }\n    }\n  ],\n  \"sys\": {\n    ...\n  }\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>{\n  \"name\": \"Section\",\n  \"description\": \"section\",\n  \"displayField\": \"name\",\n  \"fields\": [\n    {\n      \"id\": \"name\",\n      \"name\": \"Name\",\n      \"type\": \"Symbol\",\n      \"localized\": false,\n      \"required\": true,\n      \"validations\": [\n        {\n          \"unique\": true\n        }\n      ],\n      \"disabled\": false,\n      \"omitted\": false\n    },\n    {\n      \"id\": \"provider\",\n      \"name\": \"Provider\",\n      \"type\": \"Symbol\",\n      \"localized\": false,\n      \"required\": true,\n      \"validations\": [\n        {\n          \"in\": [\n            \"1\",\n            \"2\",\n            \"3\"\n          ]\n        }\n      ],\n      \"disabled\": false,\n      \"omitted\": false\n    },\n    {\n      \"id\": \"maxDisplayLimit\",\n      \"name\": \"Max display limit\",\n      \"type\": \"Integer\",\n      \"localized\": false,\n      \"required\": true,\n      \"validations\": [],\n      \"disabled\": false,\n      \"omitted\": false\n    },\n    {\n      \"id\": \"productList\",\n      \"name\": \"Product IDs\",\n      \"type\": \"Array\",\n      \"localized\": false,\n      \"required\": false,\n      \"validations\": [\n        {\n          \"size\": {\n            \"min\": 1,\n            \"max\": 50\n          }\n        }\n      ],\n      \"disabled\": false,\n      \"omitted\": false,\n      \"items\": {\n        \"type\": \"Symbol\",\n        \"validations\": []\n      }\n    }\n  ],\n  \"sys\": {\n    ...\n  }\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>And my Java code to fetch them:</p>\n<pre><code>client = CDAClient.builder()\n                    .setSpace(space)\n                    .setEnvironment(environment)\n                    .setToken(accessToken)\n                    .build();\n\nclient.observeAndTransform(Configuration.class)\n                .withLocale(locale)\n                .include(MAX_DEPTH)\n                .all()\n                .blockingFirst();\n</code></pre>\n<p>and I've modeled such <code>contentTypes</code> like:</p>\n<pre><code>@TransformQuery.ContentfulEntryModel(&quot;Configuration&quot;)\npublic record Configuration(@TransformQuery.ContentfulField String name,\n                                                  @TransformQuery.ContentfulField List&lt;Page&gt; pages) {\n}\n\n@TransformQuery.ContentfulEntryModel(&quot;Page&quot;)\npublic record Page(@TransformQuery.ContentfulField String name,\n                                         @TransformQuery.ContentfulField String title,\n                                         @TransformQuery.ContentfulField String shortTitle,\n                                         @TransformQuery.ContentfulField String description,\n                                         @TransformQuery.ContentfulField List&lt;Section&gt; sections) {\n}\n\n@TransformQuery.ContentfulEntryModel(&quot;Section&quot;)\npublic record Section(@TransformQuery.ContentfulField String name,\n                                            @TransformQuery.ContentfulField String provider,\n                                            @TransformQuery.ContentfulField Integer maxDisplayLimit,\n@TransformQuery.ContentfulField List&lt;String&gt; productList) {\n</code></pre>\n<p>}</p>\n<p>When the code reaches the <code>.observeAndTransform</code> method I always get:</p>\n<pre><code>Cannot create new instance of custom model\n</code></pre>\n<p>I've also tried to remove everything a part the name of the Configuration contentType. I've also double-checked all the contentTypes ids and contentField ids to ensure the mapping was correct. Anyone has an idea?</p>\n"},{"tags":["java","spring","dependency-injection","autowired","in-class-initialization"],"answers":[{"tags":[],"owner":{"account_id":304772,"reputation":11223,"user_id":614482,"accept_rate":80,"display_name":"Emerson Farrugia"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1688652885,"creation_date":1447843101,"answer_id":33777789,"question_id":33776891,"body_markdown":"Assuming the value is a constant, the **first option** is the simplest to understand and works without Spring, simplifying unit testing. \r\n\r\nThe **second and fourth options** are more complex and introduce an unnecessary dependency on the Spring container without any benefit. \r\n\r\nThe **third option** is outright bizarre, since you&#39;re using `@Autowired` and not performing dependency injection.\r\n\r\n","title":"What is a right way to initialize fields in Spring Beans?","body":"<p>Assuming the value is a constant, the <strong>first option</strong> is the simplest to understand and works without Spring, simplifying unit testing.</p>\n<p>The <strong>second and fourth options</strong> are more complex and introduce an unnecessary dependency on the Spring container without any benefit.</p>\n<p>The <strong>third option</strong> is outright bizarre, since you're using <code>@Autowired</code> and not performing dependency injection.</p>\n"},{"tags":[],"owner":{"account_id":3584048,"reputation":2341,"user_id":2991594,"accept_rate":80,"display_name":"Pelit Mamani"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1572770400,"creation_date":1447845855,"answer_id":33778790,"question_id":33776891,"body_markdown":"I believe spring offers all those options because you might run into different requirements...  \r\n\r\n1. If you want `MAX_INT` and there&#39;s no way on earth anyone needs to initialize it differently, then it&#39;s enough to declare `int field = Integer.MAX_INT` regardless of Spring.  \r\n\r\n2. If you do want to allow other initial configurations, then you can initialize it using `@Autowired`, or through a constructor arg, or setter/getter... it&#39;s a matter of taste. \r\n\r\n3. `@PostConstruct` is more suitable for complex situations, e.g. if your field needs to be calculated based on other injected fields.","title":"What is a right way to initialize fields in Spring Beans?","body":"<p>I believe spring offers all those options because you might run into different requirements...  </p>\n\n<ol>\n<li><p>If you want <code>MAX_INT</code> and there's no way on earth anyone needs to initialize it differently, then it's enough to declare <code>int field = Integer.MAX_INT</code> regardless of Spring.  </p></li>\n<li><p>If you do want to allow other initial configurations, then you can initialize it using <code>@Autowired</code>, or through a constructor arg, or setter/getter... it's a matter of taste. </p></li>\n<li><p><code>@PostConstruct</code> is more suitable for complex situations, e.g. if your field needs to be calculated based on other injected fields.</p></li>\n</ol>\n"}],"owner":{"account_id":5774113,"reputation":3086,"user_id":4556720,"accept_rate":96,"display_name":"ytterrr"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9779,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":33777789,"answer_count":2,"score":8,"last_activity_date":1688652885,"creation_date":1447840769,"question_id":33776891,"body_markdown":"I&#39;m wondering how should I initialize fields in Spring Beans? Here is several possible solutions:\r\n\r\n**1. Initialize fields directly on declaration**\r\n\r\n    import org.springframework.stereotype.Component;\r\n    \r\n    @Component\r\n    public class DeclarationInit {\r\n    \r\n        private final int field = Integer.MAX_VALUE;\r\n    \r\n        public int getField() {\r\n            return field;\r\n        }\r\n    }\r\n\r\n**2. Initialize fields using `@Value` annotation**\r\n\r\n    import org.springframework.beans.factory.annotation.Value;\r\n    import org.springframework.stereotype.Component;\r\n    \r\n    @Component\r\n    public class ValueInit {\r\n    \r\n        @Value(&quot;#{T(Integer).MAX_VALUE}&quot;)\r\n        private int field;\r\n    \r\n        public int getField() {\r\n            return field;\r\n        }\r\n    }\r\n\r\n**3. Initialize fields using `@Autowired` annotation**\r\n\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.stereotype.Component;\r\n    \r\n    @Component\r\n    public class AutowiredInit {\r\n    \r\n        private int field;\r\n    \r\n        @Autowired\r\n        private void initField() {\r\n            field = Integer.MAX_VALUE;\r\n        }\r\n    \r\n        public int getField() {\r\n            return field;\r\n        }\r\n    }\r\n\r\n\r\n**4. Initialize fields using `@PostConstruct` annotation**\r\n\r\n    import javax.annotation.PostConstruct;\r\n    import org.springframework.stereotype.Component;\r\n    \r\n    @Component\r\n    public class PostConstructInit {\r\n    \r\n        private int field;\r\n    \r\n        @PostConstruct\r\n        private void initField() {\r\n            field = Integer.MAX_VALUE;\r\n        }\r\n    \r\n        public int getField() {\r\n            return field;\r\n        }\r\n    }\r\n\r\nAll tests succeeds and do not show any difference:\r\n\r\n    import static org.hamcrest.MatcherAssert.assertThat;\r\n    import static org.hamcrest.Matchers.equalTo;\r\n    import org.junit.Test;\r\n    import org.junit.runner.RunWith;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.boot.test.SpringApplicationConfiguration;\r\n    import org.springframework.test.context.junit4.SpringJUnit4ClassRunner;\r\n    \r\n    @RunWith(SpringJUnit4ClassRunner.class)\r\n    @SpringApplicationConfiguration(classes = SomeTestContextConfiguration.class)\r\n    public class FieldInitTest {\r\n\r\n        @Autowired\r\n        private DeclarationInit declarationInit;\r\n    \r\n        @Autowired\r\n        private ValueInit valueInit;\r\n    \r\n        @Autowired\r\n        private AutowiredInit autowiredInit;\r\n    \r\n        @Autowired\r\n        private PostConstructInit postConstructInit;\r\n    \r\n        @Test\r\n        public void shouldInitializeFieldOnDeclaration() {\r\n            assertThat(declarationInit.getField(), equalTo(Integer.MAX_VALUE));\r\n        }\r\n    \r\n        @Test\r\n        public void shouldInitializeFieldWithValueAnnotation() {\r\n            assertThat(valueInit.getField(), equalTo(Integer.MAX_VALUE));\r\n        }\r\n    \r\n        @Test\r\n        public void shouldInitializeFieldWithAutowiredSetter() {\r\n            assertThat(autowiredInit.getField(), equalTo(Integer.MAX_VALUE));\r\n        }\r\n    \r\n        @Test\r\n        public void shouldInitializeFieldWithPostConstruct() {\r\n            assertThat(postConstructInit.getField(), equalTo(Integer.MAX_VALUE));\r\n        }\r\n    }\r\n\r\nAre this declarations equal to each other or should I use only one of them or neither of them?","title":"What is a right way to initialize fields in Spring Beans?","body":"<p>I'm wondering how should I initialize fields in Spring Beans? Here is several possible solutions:</p>\n\n<p><strong>1. Initialize fields directly on declaration</strong></p>\n\n<pre><code>import org.springframework.stereotype.Component;\n\n@Component\npublic class DeclarationInit {\n\n    private final int field = Integer.MAX_VALUE;\n\n    public int getField() {\n        return field;\n    }\n}\n</code></pre>\n\n<p><strong>2. Initialize fields using <code>@Value</code> annotation</strong></p>\n\n<pre><code>import org.springframework.beans.factory.annotation.Value;\nimport org.springframework.stereotype.Component;\n\n@Component\npublic class ValueInit {\n\n    @Value(\"#{T(Integer).MAX_VALUE}\")\n    private int field;\n\n    public int getField() {\n        return field;\n    }\n}\n</code></pre>\n\n<p><strong>3. Initialize fields using <code>@Autowired</code> annotation</strong></p>\n\n<pre><code>import org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Component;\n\n@Component\npublic class AutowiredInit {\n\n    private int field;\n\n    @Autowired\n    private void initField() {\n        field = Integer.MAX_VALUE;\n    }\n\n    public int getField() {\n        return field;\n    }\n}\n</code></pre>\n\n<p><strong>4. Initialize fields using <code>@PostConstruct</code> annotation</strong></p>\n\n<pre><code>import javax.annotation.PostConstruct;\nimport org.springframework.stereotype.Component;\n\n@Component\npublic class PostConstructInit {\n\n    private int field;\n\n    @PostConstruct\n    private void initField() {\n        field = Integer.MAX_VALUE;\n    }\n\n    public int getField() {\n        return field;\n    }\n}\n</code></pre>\n\n<p>All tests succeeds and do not show any difference:</p>\n\n<pre><code>import static org.hamcrest.MatcherAssert.assertThat;\nimport static org.hamcrest.Matchers.equalTo;\nimport org.junit.Test;\nimport org.junit.runner.RunWith;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.test.SpringApplicationConfiguration;\nimport org.springframework.test.context.junit4.SpringJUnit4ClassRunner;\n\n@RunWith(SpringJUnit4ClassRunner.class)\n@SpringApplicationConfiguration(classes = SomeTestContextConfiguration.class)\npublic class FieldInitTest {\n\n    @Autowired\n    private DeclarationInit declarationInit;\n\n    @Autowired\n    private ValueInit valueInit;\n\n    @Autowired\n    private AutowiredInit autowiredInit;\n\n    @Autowired\n    private PostConstructInit postConstructInit;\n\n    @Test\n    public void shouldInitializeFieldOnDeclaration() {\n        assertThat(declarationInit.getField(), equalTo(Integer.MAX_VALUE));\n    }\n\n    @Test\n    public void shouldInitializeFieldWithValueAnnotation() {\n        assertThat(valueInit.getField(), equalTo(Integer.MAX_VALUE));\n    }\n\n    @Test\n    public void shouldInitializeFieldWithAutowiredSetter() {\n        assertThat(autowiredInit.getField(), equalTo(Integer.MAX_VALUE));\n    }\n\n    @Test\n    public void shouldInitializeFieldWithPostConstruct() {\n        assertThat(postConstructInit.getField(), equalTo(Integer.MAX_VALUE));\n    }\n}\n</code></pre>\n\n<p>Are this declarations equal to each other or should I use only one of them or neither of them?</p>\n"},{"tags":["java","pdf","itext","digital-signature"],"comments":[{"owner":{"account_id":49385,"reputation":93759,"user_id":147024,"display_name":"yole"},"score":6,"creation_date":1540204944,"post_id":52927324,"comment_id":92764172,"body_markdown":"The whole idea of the digital signature is to verify that the PDF file has not been modified. Of course, if you append a different PDF to the signed one, this is a modification.","body":"The whole idea of the digital signature is to verify that the PDF file has not been modified. Of course, if you append a different PDF to the signed one, this is a modification."}],"answers":[{"tags":[],"owner":{"account_id":5953740,"reputation":6324,"user_id":4681060,"accept_rate":75,"display_name":"Krzysztof Cichocki"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1540205200,"creation_date":1540205200,"answer_id":52927501,"question_id":52927324,"body_markdown":"It is not possible, this digital signing is especially designed to protect the original document from being modified in any way.\r\n\r\nTo have this two documents merged and signed, you&#39;d need to know the keys used for the signing and generate the signature once again for the new merged document.","title":"How to merge PDFs without losing digital signature using Java (IText API)","body":"<p>It is not possible, this digital signing is especially designed to protect the original document from being modified in any way.</p>\n\n<p>To have this two documents merged and signed, you'd need to know the keys used for the signing and generate the signature once again for the new merged document.</p>\n"},{"tags":[],"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1540289275,"creation_date":1540209258,"answer_id":52928738,"question_id":52927324,"body_markdown":"As others already have stated, the idea (at least a major part of the idea) behind signing is to make sure the document has not changed. Merging, on the other hand, does change the document. Thus, merging will break signatures.\n\nA different approach would be, though, to make the other, &quot;normal&quot; PDF a portable collection (a special kind of PDF with attachments) and attach the signed PDF to that collection.\n\nWhen opening the signed PDF from the collection, the signature will be as unharmed as in the original signed PDF.\n\n### Example code for creating a portable collection\n\nYou can find an example of portable collection creation on the iText site:\n\n    public static final String DEST = &quot;results/collections/portable_collection.pdf&quot;;\n    public static final String DATA = &quot;resources/data/united_states.csv&quot;;\n    public static final String HELLO = &quot;resources/pdfs/hello.pdf&quot;;\n    public static final String IMG = &quot;resources/images/berlin2013.jpg&quot;;\n\n    public void createPdf(String dest) throws IOException, DocumentException {\n        Document document = new Document();\n        PdfWriter writer = PdfWriter.getInstance(document, new FileOutputStream(dest));\n        document.open();\n        document.add(new Paragraph(&quot;Portable collection&quot;));\n        PdfCollection collection = new PdfCollection(PdfCollection.TILE);\n        writer.setCollection(collection);\n        PdfFileSpecification fileSpec = PdfFileSpecification.fileEmbedded(\n                writer, DATA, &quot;united_states.csv&quot;, null);\n        writer.addFileAttachment(&quot;united_states.csv&quot;, fileSpec);\n        fileSpec = PdfFileSpecification.fileEmbedded(\n                writer, HELLO, &quot;hello.pdf&quot;, null);\n        writer.addFileAttachment(&quot;hello.pdf&quot;, fileSpec);\n        fileSpec = PdfFileSpecification.fileEmbedded(\n                writer, IMG, &quot;berlin2013.jpg&quot;, null);\n        writer.addFileAttachment(&quot;berlin2013.jpg&quot;, fileSpec);\n        document.close();\n    }\n\n*([here][1] on the web site, [here][2] in their github)*\n\nA result of a run of that example is [here][3].\n\n(As you used the itext tag and not the itext7 tag, I assume you use an iText version 5.5.x.)\n\n  [1]: https://developers.itextpdf.com/examples/miscellaneous-itext5/portable-collections\n  [2]: https://github.com/itext/i5js-sandbox/blob/master/src/main/java/sandbox/collections/PortableCollection.java\n  [3]: https://github.com/itext/i5js-sandbox/raw/master/cmpfiles/collections/cmp_portable_collection.pdf","title":"How to merge PDFs without losing digital signature using Java (IText API)","body":"<p>As others already have stated, the idea (at least a major part of the idea) behind signing is to make sure the document has not changed. Merging, on the other hand, does change the document. Thus, merging will break signatures.</p>\n<p>A different approach would be, though, to make the other, &quot;normal&quot; PDF a portable collection (a special kind of PDF with attachments) and attach the signed PDF to that collection.</p>\n<p>When opening the signed PDF from the collection, the signature will be as unharmed as in the original signed PDF.</p>\n<h3>Example code for creating a portable collection</h3>\n<p>You can find an example of portable collection creation on the iText site:</p>\n<pre><code>public static final String DEST = &quot;results/collections/portable_collection.pdf&quot;;\npublic static final String DATA = &quot;resources/data/united_states.csv&quot;;\npublic static final String HELLO = &quot;resources/pdfs/hello.pdf&quot;;\npublic static final String IMG = &quot;resources/images/berlin2013.jpg&quot;;\n\npublic void createPdf(String dest) throws IOException, DocumentException {\n    Document document = new Document();\n    PdfWriter writer = PdfWriter.getInstance(document, new FileOutputStream(dest));\n    document.open();\n    document.add(new Paragraph(&quot;Portable collection&quot;));\n    PdfCollection collection = new PdfCollection(PdfCollection.TILE);\n    writer.setCollection(collection);\n    PdfFileSpecification fileSpec = PdfFileSpecification.fileEmbedded(\n            writer, DATA, &quot;united_states.csv&quot;, null);\n    writer.addFileAttachment(&quot;united_states.csv&quot;, fileSpec);\n    fileSpec = PdfFileSpecification.fileEmbedded(\n            writer, HELLO, &quot;hello.pdf&quot;, null);\n    writer.addFileAttachment(&quot;hello.pdf&quot;, fileSpec);\n    fileSpec = PdfFileSpecification.fileEmbedded(\n            writer, IMG, &quot;berlin2013.jpg&quot;, null);\n    writer.addFileAttachment(&quot;berlin2013.jpg&quot;, fileSpec);\n    document.close();\n}\n</code></pre>\n<p><em>(<a href=\"https://developers.itextpdf.com/examples/miscellaneous-itext5/portable-collections\" rel=\"nofollow noreferrer\">here</a> on the web site, <a href=\"https://github.com/itext/i5js-sandbox/blob/master/src/main/java/sandbox/collections/PortableCollection.java\" rel=\"nofollow noreferrer\">here</a> in their github)</em></p>\n<p>A result of a run of that example is <a href=\"https://github.com/itext/i5js-sandbox/raw/master/cmpfiles/collections/cmp_portable_collection.pdf\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>(As you used the itext tag and not the itext7 tag, I assume you use an iText version 5.5.x.)</p>\n"},{"tags":[],"owner":{"account_id":792863,"reputation":53,"user_id":897184,"display_name":"FriskyKitty"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1615855488,"creation_date":1610749178,"answer_id":65744280,"question_id":52927324,"body_markdown":"1. Open the signed pdf in Adobe. \r\n2. Open print dialogue (&lt;kbd&gt;Ctrl&lt;/kbd&gt;+&lt;kbd&gt;P&lt;/kbd&gt;) \r\n3. Change the printer to &quot;Microsoft Print to PDF&quot; then print.\r\n4. The newly created PDF will have the signatures and will behave as a normal pdf for combine/merge activities.\r\n\r\n    [![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/dKPUh.png\r\n\r\n**Note**: This approach converts a  signed document to a standard pdf.  The result displays the signature information but the underlying digital signature is lost.  In my case the original signers understand the distinction. \r\n \r\nCreating a summary file is my goal.  I combine a variety of digitally signed, along with other related, documentation into a single summary pdf.  The original, digitally signed documents, are stored for future reference.  I am increasingly convinced that it is not possible to combine digitally signed documents into a single, summary pdf, while maintaining the underlying digital signatures.  \r\n\r\nUsers needing summary packets will benefit from my suggested approach.  Keep in mind that my my approach remains &quot;legally valid&quot; to the extent that the original digitally signed documents are available on demand.","title":"How to merge PDFs without losing digital signature using Java (IText API)","body":"<ol>\n<li><p>Open the signed pdf in Adobe.</p>\n</li>\n<li><p>Open print dialogue (<kbd>Ctrl</kbd>+<kbd>P</kbd>)</p>\n</li>\n<li><p>Change the printer to &quot;Microsoft Print to PDF&quot; then print.</p>\n</li>\n<li><p>The newly created PDF will have the signatures and will behave as a normal pdf for combine/merge activities.</p>\n<p><a href=\"https://i.stack.imgur.com/dKPUh.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dKPUh.png\" alt=\"enter image description here\" /></a></p>\n</li>\n</ol>\n<p><strong>Note</strong>: This approach converts a  signed document to a standard pdf.  The result displays the signature information but the underlying digital signature is lost.  In my case the original signers understand the distinction.</p>\n<p>Creating a summary file is my goal.  I combine a variety of digitally signed, along with other related, documentation into a single summary pdf.  The original, digitally signed documents, are stored for future reference.  I am increasingly convinced that it is not possible to combine digitally signed documents into a single, summary pdf, while maintaining the underlying digital signatures.</p>\n<p>Users needing summary packets will benefit from my suggested approach.  Keep in mind that my my approach remains &quot;legally valid&quot; to the extent that the original digitally signed documents are available on demand.</p>\n"}],"owner":{"account_id":12936126,"reputation":73,"user_id":9353408,"display_name":"Nagaraj S Kharvi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":22945,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":52928738,"answer_count":3,"score":0,"last_activity_date":1688652867,"creation_date":1540204620,"question_id":52927324,"body_markdown":"Is it possible to attach a digitally signed PDF document to another normal PDF using the Java iText API? I have attempted to merge the PDFs, but the resulting output PDF does not retain the digital signature. I would like to know if it is indeed possible to preserve the digital signature in the final PDF file.","title":"How to merge PDFs without losing digital signature using Java (IText API)","body":"<p>Is it possible to attach a digitally signed PDF document to another normal PDF using the Java iText API? I have attempted to merge the PDFs, but the resulting output PDF does not retain the digital signature. I would like to know if it is indeed possible to preserve the digital signature in the final PDF file.</p>\n"},{"tags":["java","jsqlparser"],"owner":{"account_id":3402694,"reputation":11,"user_id":2854511,"display_name":"user2854511"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688652195,"creation_date":1688550388,"question_id":76619118,"body_markdown":"I talk about method `net.sf.jsqlparser.parser.CCJSqlParserUtil#parseStatement`.  \r\nBody of it method in library version 4.1 :\r\n\r\n```\r\ntry {\r\n    return parser.Statements();\r\n} catch (Exception var2) {\r\n    throw new JSQLParserException(var2);\r\n}\r\n```\r\nBody of it method in library version 4.5 :\r\n\r\n```\r\nStatements statements = null;\r\ntry {\r\n    ExecutorService executorService = Executors.newSingleThreadExecutor();\r\n    Future&lt;Statements&gt; future = executorService.submit(new Callable&lt;Statements&gt;() {\r\n        @Override\r\n        public Statements call() throws Exception {\r\n            return parser.Statements();\r\n        }\r\n    });\r\n    executorService.shutdown();\r\n\r\n    statements = future.get( parser.getConfiguration().getAsInteger(Feature.timeOut) , TimeUnit.MILLISECONDS);\r\n} catch (TimeoutException ex) {\r\n    parser.interrupted = true;\r\n    throw new JSQLParserException(&quot;Time out occurred.&quot;, ex);\r\n} catch (Exception ex) {\r\n    throw new JSQLParserException(ex);\r\n}\r\nreturn statements;\r\n```\r\nAs we can see parseStatement method creates temporary thread every time when parse statement. Therefore our highloaded application perfomance goes down then application is restarted.\r\n\r\nCan sqlparser 4.5 library be configured to parse statement in the invokation thread (i.e. not create extra thread) ? ","title":"jsqlparser 4.5 library creates new temporary thread every time when parse statement","body":"<p>I talk about method <code>net.sf.jsqlparser.parser.CCJSqlParserUtil#parseStatement</code>.<br />\nBody of it method in library version 4.1 :</p>\n<pre><code>try {\n    return parser.Statements();\n} catch (Exception var2) {\n    throw new JSQLParserException(var2);\n}\n</code></pre>\n<p>Body of it method in library version 4.5 :</p>\n<pre><code>Statements statements = null;\ntry {\n    ExecutorService executorService = Executors.newSingleThreadExecutor();\n    Future&lt;Statements&gt; future = executorService.submit(new Callable&lt;Statements&gt;() {\n        @Override\n        public Statements call() throws Exception {\n            return parser.Statements();\n        }\n    });\n    executorService.shutdown();\n\n    statements = future.get( parser.getConfiguration().getAsInteger(Feature.timeOut) , TimeUnit.MILLISECONDS);\n} catch (TimeoutException ex) {\n    parser.interrupted = true;\n    throw new JSQLParserException(&quot;Time out occurred.&quot;, ex);\n} catch (Exception ex) {\n    throw new JSQLParserException(ex);\n}\nreturn statements;\n</code></pre>\n<p>As we can see parseStatement method creates temporary thread every time when parse statement. Therefore our highloaded application perfomance goes down then application is restarted.</p>\n<p>Can sqlparser 4.5 library be configured to parse statement in the invokation thread (i.e. not create extra thread) ?</p>\n"},{"tags":["java","rest","maven","spring-jersey"],"owner":{"account_id":21599859,"reputation":1,"user_id":15928202,"display_name":"pooja inamdar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688652189,"creation_date":1688652141,"question_id":76629658,"body_markdown":"Below is my pom.xml file\r\n```\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\r\n\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;com.telusko&lt;/groupId&gt;\r\n    &lt;artifactId&gt;demorest&lt;/artifactId&gt;\r\n    &lt;packaging&gt;war&lt;/packaging&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;name&gt;demorest&lt;/name&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;finalName&gt;demorest&lt;/finalName&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.8.1&lt;/version&gt;\r\n                &lt;inherited&gt;true&lt;/inherited&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;source&gt;1.8&lt;/source&gt;\r\n                    &lt;target&gt;1.8&lt;/target&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n`your text`\r\n    &lt;dependencyManagement&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.glassfish.jersey&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jersey-bom&lt;/artifactId&gt;\r\n                &lt;version&gt;${jersey.version}&lt;/version&gt;\r\n                &lt;type&gt;pom&lt;/type&gt;\r\n                &lt;scope&gt;import&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    &lt;/dependencyManagement&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.glassfish.jersey.containers&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jersey-container-servlet-core&lt;/artifactId&gt;\r\n            &lt;!-- use the following artifactId if you don&#39;t need servlet 2.x compatibility --&gt;\r\n            &lt;!-- artifactId&gt;jersey-container-servlet&lt;/artifactId --&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.glassfish.jersey.inject&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jersey-hk2&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        \r\n        &lt;dependency&gt;\r\n    &lt;groupId&gt;jakarta.servlet&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jakarta.servlet-api&lt;/artifactId&gt;\r\n    &lt;version&gt;5.0.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n\r\n&lt;!-- &lt;dependency&gt;\r\n  &lt;groupId&gt;org.glassfish&lt;/groupId&gt;\r\n  &lt;artifactId&gt;javax.servlet&lt;/artifactId&gt;\r\n  &lt;version&gt;3.0&lt;/version&gt;\r\n  &lt;scope&gt;provided&lt;/scope&gt;\r\n&lt;/dependency&gt; --&gt;\r\n        &lt;!-- uncomment this to get JSON support\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.glassfish.jersey.media&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jersey-media-json-binding&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        --&gt;\r\n    &lt;/dependencies&gt;\r\n    &lt;properties&gt;\r\n        &lt;jersey.version&gt;3.1.2&lt;/jersey.version&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;/properties&gt;\r\n&lt;/project&gt;\r\n\r\n```\r\n\r\nmaven build is seen success, but when I start my tomcat server I face this issue\r\n\r\n**java.lang.ClassCastException: class org.glassfish.jersey.servlet.ServletContainer cannot be cast to class javax.servlet.Servlet (org.glassfish.jersey.servlet.ServletContainer is in unnamed module of loader org.apache.catalina.loader.ParallelWebappClassLoader @12c7a01b; javax.servlet.Servlet is in unnamed module of loader java.net.URLClassLoader @6574b225)\r\n**\r\n\r\nPlease anyone can guide which jar file is missing?\r\nThanks in advance\r\n\r\n\r\n\r\n\r\nI tried adding the jar files but it shows error java.lang.ClassCastException: class org.glassfish.jersey.servlet.ServletContainer cannot be cast to class javax.servlet.Servlet (org.glassfish.jersey.servlet.ServletContainer is in unnamed module of loader org.apache.catalina.loader.ParallelWebappClassLoader @12c7a01b; javax.servlet.Servlet is in unnamed module of loader java.net.URLClassLoader @6574b225)\r\n\r\nPlease anyone can guide me which jar file I am missing \r\nI referrred https://search.maven.org/artifact/jakarta.servlet/jakarta.servlet-api/5.0.0/jar for adding my missing jar but no luck!!!!","title":"Error faced in creating REST API project using Jersey implementation","body":"<p>Below is my pom.xml file</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\n\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.telusko&lt;/groupId&gt;\n    &lt;artifactId&gt;demorest&lt;/artifactId&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;demorest&lt;/name&gt;\n\n    &lt;build&gt;\n        &lt;finalName&gt;demorest&lt;/finalName&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.8.1&lt;/version&gt;\n                &lt;inherited&gt;true&lt;/inherited&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;1.8&lt;/source&gt;\n                    &lt;target&gt;1.8&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n`your text`\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.glassfish.jersey&lt;/groupId&gt;\n                &lt;artifactId&gt;jersey-bom&lt;/artifactId&gt;\n                &lt;version&gt;${jersey.version}&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.glassfish.jersey.containers&lt;/groupId&gt;\n            &lt;artifactId&gt;jersey-container-servlet-core&lt;/artifactId&gt;\n            &lt;!-- use the following artifactId if you don't need servlet 2.x compatibility --&gt;\n            &lt;!-- artifactId&gt;jersey-container-servlet&lt;/artifactId --&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.glassfish.jersey.inject&lt;/groupId&gt;\n            &lt;artifactId&gt;jersey-hk2&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n    &lt;groupId&gt;jakarta.servlet&lt;/groupId&gt;\n    &lt;artifactId&gt;jakarta.servlet-api&lt;/artifactId&gt;\n    &lt;version&gt;5.0.0&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;!-- &lt;dependency&gt;\n  &lt;groupId&gt;org.glassfish&lt;/groupId&gt;\n  &lt;artifactId&gt;javax.servlet&lt;/artifactId&gt;\n  &lt;version&gt;3.0&lt;/version&gt;\n  &lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt; --&gt;\n        &lt;!-- uncomment this to get JSON support\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.glassfish.jersey.media&lt;/groupId&gt;\n            &lt;artifactId&gt;jersey-media-json-binding&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        --&gt;\n    &lt;/dependencies&gt;\n    &lt;properties&gt;\n        &lt;jersey.version&gt;3.1.2&lt;/jersey.version&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;/properties&gt;\n&lt;/project&gt;\n\n</code></pre>\n<p>maven build is seen success, but when I start my tomcat server I face this issue</p>\n<p>**java.lang.ClassCastException: class org.glassfish.jersey.servlet.ServletContainer cannot be cast to class javax.servlet.Servlet (org.glassfish.jersey.servlet.ServletContainer is in unnamed module of loader org.apache.catalina.loader.ParallelWebappClassLoader @12c7a01b; javax.servlet.Servlet is in unnamed module of loader java.net.URLClassLoader @6574b225)\n**</p>\n<p>Please anyone can guide which jar file is missing?\nThanks in advance</p>\n<p>I tried adding the jar files but it shows error java.lang.ClassCastException: class org.glassfish.jersey.servlet.ServletContainer cannot be cast to class javax.servlet.Servlet (org.glassfish.jersey.servlet.ServletContainer is in unnamed module of loader org.apache.catalina.loader.ParallelWebappClassLoader @12c7a01b; javax.servlet.Servlet is in unnamed module of loader java.net.URLClassLoader @6574b225)</p>\n<p>Please anyone can guide me which jar file I am missing\nI referrred <a href=\"https://search.maven.org/artifact/jakarta.servlet/jakarta.servlet-api/5.0.0/jar\" rel=\"nofollow noreferrer\">https://search.maven.org/artifact/jakarta.servlet/jakarta.servlet-api/5.0.0/jar</a> for adding my missing jar but no luck!!!!</p>\n"},{"tags":["java","spring-boot","gradle"],"comments":[{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":1,"creation_date":1681544427,"post_id":76020696,"comment_id":134076376,"body_markdown":"What version of Gradle do you use? Note that Spring Boot requires Java 17 (https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-3.0-Release-Notes) and to run Gradle with Java 17 you need at least Gradle version 7.3 (https://docs.gradle.org/current/userguide/compatibility.html)","body":"What version of Gradle do you use? Note that Spring Boot requires Java 17 (<a href=\"https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-3.0-Release-Notes\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-boot/wiki/&hellip;</a>) and to run Gradle with Java 17 you need at least Gradle version 7.3 (<a href=\"https://docs.gradle.org/current/userguide/compatibility.html\" rel=\"nofollow noreferrer\">docs.gradle.org/current/userguide/compatibility.html</a>)"},{"owner":{"account_id":4028629,"reputation":13,"user_id":3315728,"display_name":"sritej_kr"},"score":0,"creation_date":1681549455,"post_id":76020696,"comment_id":134076921,"body_markdown":"I am using gradle 7.5.1.","body":"I am using gradle 7.5.1."}],"answers":[{"tags":[],"owner":{"account_id":18928145,"reputation":41,"user_id":13810798,"display_name":"Vu Tran"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688651579,"creation_date":1688651579,"answer_id":76629584,"question_id":76020696,"body_markdown":"I updated the gradle wrapper version to 7.6. It fix my problem\r\n\r\nThere is a post from Noah Hsu:\r\nhttps://noahhsu.medium.com/what-problems-did-i-solve-when-migrating-spring-boot-to-3-0-0-796b545ec00","title":"On resolving build.gradle file with org.springframework.boot plugin, PermittedSubclasses requires ASM9 error shown","body":"<p>I updated the gradle wrapper version to 7.6. It fix my problem</p>\n<p>There is a post from Noah Hsu:\n<a href=\"https://noahhsu.medium.com/what-problems-did-i-solve-when-migrating-spring-boot-to-3-0-0-796b545ec00\" rel=\"nofollow noreferrer\">https://noahhsu.medium.com/what-problems-did-i-solve-when-migrating-spring-boot-to-3-0-0-796b545ec00</a></p>\n"}],"owner":{"account_id":4028629,"reputation":13,"user_id":3315728,"display_name":"sritej_kr"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1287,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1688651579,"creation_date":1681539900,"question_id":76020696,"body_markdown":"build.gradle file.\r\n\r\n```\r\nplugins {\r\n    id &#39;java&#39;\r\n    id &#39;org.springframework.boot&#39; version &#39;3.0.5&#39;\r\n    id &#39;io.spring.dependency-management&#39; version &#39;1.1.0&#39;\r\n}\r\n```\r\n\r\nOn attempting to build the gradle build in IntelliJ Idea, below error message displayed.\r\n\r\n&gt; PermittedSubclasses requires ASM9\r\n\r\n&gt; A problem occurred configuring root project &#39;cucumber-spring-boot-example&#39;.\r\n&gt; java.util.concurrent.ExecutionException: org.gradle.api.GradleException: Failed to create Jar file /Users/sritejkurapati/.gradle/caches/jars-9/50be9eebfc8073d47d23166e55741b83/spring-core-6.0.7.jar.\r\n&gt; * Try:\r\n&gt; Run with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\r\n\r\nTried deleting .gradle cache files and jar files but still error shown.","title":"On resolving build.gradle file with org.springframework.boot plugin, PermittedSubclasses requires ASM9 error shown","body":"<p>build.gradle file.</p>\n<pre><code>plugins {\n    id 'java'\n    id 'org.springframework.boot' version '3.0.5'\n    id 'io.spring.dependency-management' version '1.1.0'\n}\n</code></pre>\n<p>On attempting to build the gradle build in IntelliJ Idea, below error message displayed.</p>\n<blockquote>\n<p>PermittedSubclasses requires ASM9</p>\n</blockquote>\n<blockquote>\n<p>A problem occurred configuring root project 'cucumber-spring-boot-example'.\njava.util.concurrent.ExecutionException: org.gradle.api.GradleException: Failed to create Jar file /Users/sritejkurapati/.gradle/caches/jars-9/50be9eebfc8073d47d23166e55741b83/spring-core-6.0.7.jar.</p>\n<ul>\n<li>Try:\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.</li>\n</ul>\n</blockquote>\n<p>Tried deleting .gradle cache files and jar files but still error shown.</p>\n"},{"tags":["java","json"],"comments":[{"owner":{"account_id":128739,"reputation":3915,"user_id":326807,"accept_rate":100,"display_name":"Reporter"},"score":0,"creation_date":1688544783,"post_id":76618280,"comment_id":135085929,"body_markdown":"Are you sure that you can use values from datatype String?","body":"Are you sure that you can use values from datatype String?"}],"answers":[{"tags":[],"owner":{"account_id":13009011,"reputation":1105,"user_id":9402689,"display_name":"Raymond Choi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1688651409,"creation_date":1688585641,"answer_id":76623532,"question_id":76618280,"body_markdown":"Inside function `calc()`, the first argument uses _MathParser.org-mXparser_ library expression syntax. Maybe that is the reason of not supporting __String__.\r\n\r\nPlease try the following expression instead. It selects the desired value before pass into the _MathParser.org-mXparser_ expression. \r\n\r\n    calc(sp*2, sp:$.data.flange.if([specification=&#39;PN16&#39;],350,400))\r\n\r\nFor multiple conditions, you can use function `caseValue()`.\r\n\r\n    data.flange.specification.caseValue(\r\n        &#39;PN16 RF&#39;, calc(250*2),\r\n        &#39;PN40 RF&#39;, calc(250*2),\r\n        &#39;ANSI B16.5 CLASS150 RF&#39;, calc(260*3),\r\n        calc(265*4)\r\n    )","title":"Not able to Calculate JSON expression with String datatype","body":"<p>Inside function <code>calc()</code>, the first argument uses <em>MathParser.org-mXparser</em> library expression syntax. Maybe that is the reason of not supporting <strong>String</strong>.</p>\n<p>Please try the following expression instead. It selects the desired value before pass into the <em>MathParser.org-mXparser</em> expression.</p>\n<pre><code>calc(sp*2, sp:$.data.flange.if([specification='PN16'],350,400))\n</code></pre>\n<p>For multiple conditions, you can use function <code>caseValue()</code>.</p>\n<pre><code>data.flange.specification.caseValue(\n    'PN16 RF', calc(250*2),\n    'PN40 RF', calc(250*2),\n    'ANSI B16.5 CLASS150 RF', calc(260*3),\n    calc(265*4)\n)\n</code></pre>\n"}],"owner":{"account_id":1675064,"reputation":103,"user_id":1540802,"display_name":"Pranav"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76623532,"answer_count":1,"score":0,"last_activity_date":1688651409,"creation_date":1688544448,"question_id":76618280,"body_markdown":"We are using https://github.com/octomix/josson library\r\n\r\nJSON\r\n```\r\n{\r\n  &quot;pressureStage&quot;:1,\r\n  &quot;data&quot;:{\r\n    &quot;flange&quot;:{\r\n      &quot;specification&quot;:&quot;PN 16&quot;\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nJAVA Code\r\n```\r\nString a = &quot;{\\&quot;pressureStage\\&quot;:1,\\&quot;data\\&quot;:{\\&quot;flange\\&quot;:{\\&quot;specification\\&quot;:\\&quot;PN16\\&quot;}}}&quot;;\r\nJosson josson = Josson.fromJsonString(a);\r\nString expression3 = &quot;calc(if(sp==\\&quot;PN16\\&quot;,350*2,400*2),sp:$.data.flange.specification)&quot;;\r\nSystem.out.println(josson.getNode(expression3));\r\n```\r\n\r\nGives Exception\r\n```\r\nException in thread &quot;main&quot; java.lang.IllegalArgumentException: Invalid function call calc() : Calc syntax error.\r\n\tat com.octomix.josson.FuncDispatcher.apply(FuncDispatcher.java:84)\r\n\tat com.octomix.josson.JossonCore.getPathBySteps(JossonCore.java:328)\r\n\tat com.octomix.josson.JossonCore.getPathBySteps(JossonCore.java:249)\r\n\tat com.octomix.josson.JossonCore.getPathByExpression(JossonCore.java:211)\r\n\tat com.octomix.josson.JossonCore.getNodeByExpression(JossonCore.java:147)\r\n\tat com.octomix.josson.JossonCore.getNodeByExpression(JossonCore.java:142)\r\n\tat com.octomix.josson.Josson.getNode(Josson.java:279)\r\n\tat com.octomix.josson.Josson.getString(Josson.java:535)\r\n\tat com.velotech.pumpselection.velotech.expressionCheck.main(expressionCheck.java:25)\r\n```\r\n\r\nThis code work when the datatype of specification is **numeric**, but gives error when datatype is **String**\r\n\r\nRegards,\r\nPranav","title":"Not able to Calculate JSON expression with String datatype","body":"<p>We are using <a href=\"https://github.com/octomix/josson\" rel=\"nofollow noreferrer\">https://github.com/octomix/josson</a> library</p>\n<p>JSON</p>\n<pre><code>{\n  &quot;pressureStage&quot;:1,\n  &quot;data&quot;:{\n    &quot;flange&quot;:{\n      &quot;specification&quot;:&quot;PN 16&quot;\n    }\n  }\n}\n</code></pre>\n<p>JAVA Code</p>\n<pre><code>String a = &quot;{\\&quot;pressureStage\\&quot;:1,\\&quot;data\\&quot;:{\\&quot;flange\\&quot;:{\\&quot;specification\\&quot;:\\&quot;PN16\\&quot;}}}&quot;;\nJosson josson = Josson.fromJsonString(a);\nString expression3 = &quot;calc(if(sp==\\&quot;PN16\\&quot;,350*2,400*2),sp:$.data.flange.specification)&quot;;\nSystem.out.println(josson.getNode(expression3));\n</code></pre>\n<p>Gives Exception</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.IllegalArgumentException: Invalid function call calc() : Calc syntax error.\n    at com.octomix.josson.FuncDispatcher.apply(FuncDispatcher.java:84)\n    at com.octomix.josson.JossonCore.getPathBySteps(JossonCore.java:328)\n    at com.octomix.josson.JossonCore.getPathBySteps(JossonCore.java:249)\n    at com.octomix.josson.JossonCore.getPathByExpression(JossonCore.java:211)\n    at com.octomix.josson.JossonCore.getNodeByExpression(JossonCore.java:147)\n    at com.octomix.josson.JossonCore.getNodeByExpression(JossonCore.java:142)\n    at com.octomix.josson.Josson.getNode(Josson.java:279)\n    at com.octomix.josson.Josson.getString(Josson.java:535)\n    at com.velotech.pumpselection.velotech.expressionCheck.main(expressionCheck.java:25)\n</code></pre>\n<p>This code work when the datatype of specification is <strong>numeric</strong>, but gives error when datatype is <strong>String</strong></p>\n<p>Regards,\nPranav</p>\n"},{"tags":["java","concurrency","threadpool","thread-local"],"comments":[{"owner":{"account_id":951604,"reputation":3220,"user_id":977649,"display_name":"schtever"},"score":0,"creation_date":1355370878,"post_id":13852632,"comment_id":19071642,"body_markdown":"http://stackoverflow.com/questions/321757/threadlocal-variables-in-a-servlet?rq=1","body":"<a href=\"http://stackoverflow.com/questions/321757/threadlocal-variables-in-a-servlet?rq=1\" title=\"threadlocal variables in a servlet\">stackoverflow.com/questions/321757/&hellip;</a>"},{"owner":{"account_id":211081,"reputation":6152,"user_id":463052,"accept_rate":47,"display_name":"David Bullock"},"score":0,"creation_date":1355371261,"post_id":13852632,"comment_id":19071723,"body_markdown":"@schtever Erm, I know that one certainly would not use a ThreadLocal them to store per-request information in a Servlet.  However, there are other reasons to use them, and they still interact poorly with servlet engines.  My question is about what to do about it, not whether it should be done.","body":"@schtever Erm, I know that one certainly would not use a ThreadLocal them to store per-request information in a Servlet.  However, there are other reasons to use them, and they still interact poorly with servlet engines.  My question is about what to do about it, not whether it should be done."}],"answers":[{"tags":[],"owner":{"account_id":1244574,"reputation":13277,"user_id":1206301,"accept_rate":10,"display_name":"Alexei Kaigorodov"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1355388183,"creation_date":1355374816,"answer_id":13853263,"question_id":13852632,"body_markdown":"Since the thread was not created by you, it only was rented by you, I think it is fair to require to clean it before stop using - just as you fills up the tank of a rented car when returning. Tomcat could just clean everything itself, but it does you a favor, reminding of forgot things.\r\n\r\nADD:\r\nThe way you use prepared GregorianCalendar is simply wrong: since service requests can be concurrent, and there is no synchronization, `doCalc` can take `getTime` ater `setTime` invoked by another request. Introducing synchronization would make things slow, so that creating a new `GregorianCalendar` could be a better option.\r\n\r\nIn other words, your question should be: how to keep pool of prepared `GregorianCalendar` instances so that its number is adjusted to request rate. So as a minimum, you need a singleton which contains that pool. Each Ioc container has means to manage a singleton, and most have ready object pool implementations. If you do not yet use an IoC container, start to use one (String, Guice), rather than reinvent the wheel.","title":"Is it really my job to clean up ThreadLocal resources when classes have been exposed to a thread pool?","body":"<p>Since the thread was not created by you, it only was rented by you, I think it is fair to require to clean it before stop using - just as you fills up the tank of a rented car when returning. Tomcat could just clean everything itself, but it does you a favor, reminding of forgot things.</p>\n\n<p>ADD:\nThe way you use prepared GregorianCalendar is simply wrong: since service requests can be concurrent, and there is no synchronization, <code>doCalc</code> can take <code>getTime</code> ater <code>setTime</code> invoked by another request. Introducing synchronization would make things slow, so that creating a new <code>GregorianCalendar</code> could be a better option.</p>\n\n<p>In other words, your question should be: how to keep pool of prepared <code>GregorianCalendar</code> instances so that its number is adjusted to request rate. So as a minimum, you need a singleton which contains that pool. Each Ioc container has means to manage a singleton, and most have ready object pool implementations. If you do not yet use an IoC container, start to use one (String, Guice), rather than reinvent the wheel.</p>\n"},{"tags":[],"owner":{"account_id":2052678,"reputation":134073,"user_id":1831293,"accept_rate":91,"display_name":"Evgeniy Dorofeev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1355395358,"creation_date":1355395358,"answer_id":13858102,"question_id":13852632,"body_markdown":"I think JDK&#39;s ThreadPoolExecutor could do ThreadLocals cleaning after task execution but as we know it doesn&#39;t. I think it could have provided at least an option. The reason why might be because Thread provides only package private access to its TreadLocal maps, so ThreadPoolExecutor just cannot access them without changing Thread&#39;s API.\r\n\r\nInterestingly, ThreadPoolExecutor has protected method stubs `beforeExecution` and `afterExecution`, API says: `These can be used to manipulate the execution environment; for example, reinitializing ThreadLocals...`. So I can imagine a Task that implements a ThreadLocalCleaner interface and our custom ThreadPoolExecutor that on afterExecution calls task&#39;s cleanThreadLocals();\r\n","title":"Is it really my job to clean up ThreadLocal resources when classes have been exposed to a thread pool?","body":"<p>I think JDK's ThreadPoolExecutor could do ThreadLocals cleaning after task execution but as we know it doesn't. I think it could have provided at least an option. The reason why might be because Thread provides only package private access to its TreadLocal maps, so ThreadPoolExecutor just cannot access them without changing Thread's API.</p>\n\n<p>Interestingly, ThreadPoolExecutor has protected method stubs <code>beforeExecution</code> and <code>afterExecution</code>, API says: <code>These can be used to manipulate the execution environment; for example, reinitializing ThreadLocals...</code>. So I can imagine a Task that implements a ThreadLocalCleaner interface and our custom ThreadPoolExecutor that on afterExecution calls task's cleanThreadLocals();</p>\n"},{"tags":[],"owner":{"account_id":211081,"reputation":6152,"user_id":463052,"accept_rate":47,"display_name":"David Bullock"},"down_vote_count":0,"up_vote_count":36,"is_accepted":false,"score":36,"last_activity_date":1433446630,"creation_date":1355442687,"answer_id":13870612,"question_id":13852632,"body_markdown":"# Sigh, this is old news\r\n\r\nWell, a bit late to the party on this one.  In October 2007, Josh Bloch (co-author of `java.lang.ThreadLocal` along with Doug Lea) [wrote](http://jsr166-concurrency.10961.n7.nabble.com/Threadlocals-and-memory-leaks-in-J2EE-tp3960p3984.html):\r\n\r\n&gt; &quot;The use of thread pools demands extreme care.  Sloppy use of thread\r\n&gt; pools in combination with sloppy use of thread locals can cause\r\n&gt; unintended object retention, as has been noted in many places.&quot;\r\n\r\nPeople were complaining about the bad interaction of ThreadLocal with thread pools even then.  But Josh did sanction:\r\n\r\n &quot;Per-thread instances for performance.  Aaron&#39;s SimpleDateFormat example (above) is one example of this pattern.&quot;\r\n\r\n\r\n# Some Lessons\r\n\r\n1. If you put any kind of objects into any object pool, you must provide a way to remove them &#39;later&#39;.\r\n2. If you &#39;pool&#39; using a `ThreadLocal`, you have limited options for doing that.  Either:\r\n   a) you *know* that the `Thread`(s) where you put values will terminate when your application is finished; OR\r\n   b) you can later arrange for  *same thread* that invoked ThreadLocal#set() to invoke ThreadLocal#remove() whenever your application terminates\r\n3. As such, your use of ThreadLocal as an object pool is going to exact a heavy price on the design of your application and your class.  The benefits don&#39;t come for free.\r\n4. As such, use of ThreadLocal is probably a premature optimization, even though Joshua Bloch urged you to consider it in &#39;Effective Java&#39;.\r\n\r\nIn short, deciding to use a ThreadLocal as a form of fast, uncontended access to &quot;per thread instance pools&quot; is not a decision to be taken lightly.\r\n\r\nNOTE: There are other uses of ThreadLocal other than &#39;object pools&#39;, and these lessons do not apply to those scenarios where the ThreadLocal is only intended to be set on a temporary basis anyway, or where there is genuine per-thread state to keep track of.\r\n\r\n\r\n# Consequences for Library implementors\r\n\r\nThrere are some consequences for library implementors (even where such libraries are simple utility classes in your project).\r\n\r\nEither:\r\n\r\n1.  You use ThreadLocal, fully aware that you might &#39;pollute&#39; long-running threads with extra baggage.  If you are implementing `java.util.concurrent.ThreadLocalRandom`, it might be appropriate.  (Tomcat might still whinge at users of your library, if you aren&#39;t implementing in `java.*`).  It&#39;s interesting to note the discipline with which `java.*` makes sparing use of the ThreadLocal technique.\r\n\r\n\r\nOR\r\n\r\n\r\n2. You use ThreadLocal, and give clients of your class/package:\r\n    a) the opportunity to choose to forego that optimization (&quot;don&#39;t use ThreadLocal ... I can&#39;t arrange for cleanup&quot;); AND\r\n    b) a way to clean up ThreadLocal resources (&quot;it&#39;s OK to use ThreadLocal ... I can arrange for all Threads which used you to invoke `LibClass.releaseThreadLocalsForThread()` when I am finished with them.\r\n\r\nMakes your library &#39;hard to use properly&#39;, though.\r\n\r\n\r\nOR\r\n\r\n3. You give your clients the opportunity to supply their own object-pool impelementation (which might use ThreadLocal, or synchronization of some sort).  (&quot;OK, I can give you a `new ExpensiveObjectFactory&lt;T&gt;() { public T get() {...} }` if you think it is really neccesasry&quot;.\r\n\r\nNot so bad.  If the object are really that important and that expensive to create, explicit pooling is probably worthwhile.\r\n\r\n\r\nOR\r\n\r\n4. You decide it&#39;s not worth that much to your app anyway, and find a different way to approach the problem.  Those expensive-to-create, mutable, non-threadsafe objects are causing you pain ... is using them really the best option anyway?\r\n\r\n\r\n\r\n# Alternatives\r\n\r\n1. Regular object pooling, with all its contended synchronization.\r\n2. Not pooling objects - just instantiate them in a local scope and discard later.\r\n3. Not pooling threads (unless you can schedule cleanup code when you like) - don&#39;t use your stuff in a JaveEE container\r\n4. Thread pools which are smart enough to clean-up ThreadLocals without whinging at you.\r\n5. Thread pools which allocate Threads on a &#39;per application&#39; basis, and then let them die when the application is stopped.\r\n6. A protocol between thread-pooling containers and applications which allowed registration of a &#39;application shutdown handler&#39;, which the container could schedule to run on Threads which had been used to service the application ... at some point in the future when that Thread was next available.   Eg. `servletContext.addThreadCleanupHandler(new Handler() {@Override cleanup() {...}})`\r\n\r\nIt&#39;d be nice to see some standardisation around the last 3 items, in future JavaEE specs.\r\n\r\n\r\n# Bootnote\r\n\r\nActually, instantiation of a `GregorianCalendar` is pretty lightweight.  It&#39;s the unavoidable call to `setTime()` which incurs most of the work.  It also doesn&#39;t hold any significant state between different points of a thread&#39;s exeuction.  Putting a `Calendar` into a `ThreadLocal` is unlikely to give you back more than it costs you ... unless profiling definitely shows a hot spot in `new GregorianCalendar()`.\r\n\r\n`new SimpleDateFormat(String)` is expensive by comparison, because it has to parse the format string.  Once parsed, the &#39;state&#39; of the object is significant to later uses by the same thread.  It&#39;s a better fit.  But it might still be &#39;less expensive&#39; to instantiate a new one, than give your classes extra responsibilities.","title":"Is it really my job to clean up ThreadLocal resources when classes have been exposed to a thread pool?","body":"<h1>Sigh, this is old news</h1>\n\n<p>Well, a bit late to the party on this one.  In October 2007, Josh Bloch (co-author of <code>java.lang.ThreadLocal</code> along with Doug Lea) <a href=\"http://jsr166-concurrency.10961.n7.nabble.com/Threadlocals-and-memory-leaks-in-J2EE-tp3960p3984.html\">wrote</a>:</p>\n\n<blockquote>\n  <p>\"The use of thread pools demands extreme care.  Sloppy use of thread\n  pools in combination with sloppy use of thread locals can cause\n  unintended object retention, as has been noted in many places.\"</p>\n</blockquote>\n\n<p>People were complaining about the bad interaction of ThreadLocal with thread pools even then.  But Josh did sanction:</p>\n\n<p>\"Per-thread instances for performance.  Aaron's SimpleDateFormat example (above) is one example of this pattern.\"</p>\n\n<h1>Some Lessons</h1>\n\n<ol>\n<li>If you put any kind of objects into any object pool, you must provide a way to remove them 'later'.</li>\n<li>If you 'pool' using a <code>ThreadLocal</code>, you have limited options for doing that.  Either:\na) you <em>know</em> that the <code>Thread</code>(s) where you put values will terminate when your application is finished; OR\nb) you can later arrange for  <em>same thread</em> that invoked ThreadLocal#set() to invoke ThreadLocal#remove() whenever your application terminates</li>\n<li>As such, your use of ThreadLocal as an object pool is going to exact a heavy price on the design of your application and your class.  The benefits don't come for free.</li>\n<li>As such, use of ThreadLocal is probably a premature optimization, even though Joshua Bloch urged you to consider it in 'Effective Java'.</li>\n</ol>\n\n<p>In short, deciding to use a ThreadLocal as a form of fast, uncontended access to \"per thread instance pools\" is not a decision to be taken lightly.</p>\n\n<p>NOTE: There are other uses of ThreadLocal other than 'object pools', and these lessons do not apply to those scenarios where the ThreadLocal is only intended to be set on a temporary basis anyway, or where there is genuine per-thread state to keep track of.</p>\n\n<h1>Consequences for Library implementors</h1>\n\n<p>Threre are some consequences for library implementors (even where such libraries are simple utility classes in your project).</p>\n\n<p>Either:</p>\n\n<ol>\n<li>You use ThreadLocal, fully aware that you might 'pollute' long-running threads with extra baggage.  If you are implementing <code>java.util.concurrent.ThreadLocalRandom</code>, it might be appropriate.  (Tomcat might still whinge at users of your library, if you aren't implementing in <code>java.*</code>).  It's interesting to note the discipline with which <code>java.*</code> makes sparing use of the ThreadLocal technique.</li>\n</ol>\n\n<p>OR</p>\n\n<ol start=\"2\">\n<li>You use ThreadLocal, and give clients of your class/package:\na) the opportunity to choose to forego that optimization (\"don't use ThreadLocal ... I can't arrange for cleanup\"); AND\nb) a way to clean up ThreadLocal resources (\"it's OK to use ThreadLocal ... I can arrange for all Threads which used you to invoke <code>LibClass.releaseThreadLocalsForThread()</code> when I am finished with them.</li>\n</ol>\n\n<p>Makes your library 'hard to use properly', though.</p>\n\n<p>OR</p>\n\n<ol start=\"3\">\n<li>You give your clients the opportunity to supply their own object-pool impelementation (which might use ThreadLocal, or synchronization of some sort).  (\"OK, I can give you a <code>new ExpensiveObjectFactory&lt;T&gt;() { public T get() {...} }</code> if you think it is really neccesasry\".</li>\n</ol>\n\n<p>Not so bad.  If the object are really that important and that expensive to create, explicit pooling is probably worthwhile.</p>\n\n<p>OR</p>\n\n<ol start=\"4\">\n<li>You decide it's not worth that much to your app anyway, and find a different way to approach the problem.  Those expensive-to-create, mutable, non-threadsafe objects are causing you pain ... is using them really the best option anyway?</li>\n</ol>\n\n<h1>Alternatives</h1>\n\n<ol>\n<li>Regular object pooling, with all its contended synchronization.</li>\n<li>Not pooling objects - just instantiate them in a local scope and discard later.</li>\n<li>Not pooling threads (unless you can schedule cleanup code when you like) - don't use your stuff in a JaveEE container</li>\n<li>Thread pools which are smart enough to clean-up ThreadLocals without whinging at you.</li>\n<li>Thread pools which allocate Threads on a 'per application' basis, and then let them die when the application is stopped.</li>\n<li>A protocol between thread-pooling containers and applications which allowed registration of a 'application shutdown handler', which the container could schedule to run on Threads which had been used to service the application ... at some point in the future when that Thread was next available.   Eg. <code>servletContext.addThreadCleanupHandler(new Handler() {@Override cleanup() {...}})</code></li>\n</ol>\n\n<p>It'd be nice to see some standardisation around the last 3 items, in future JavaEE specs.</p>\n\n<h1>Bootnote</h1>\n\n<p>Actually, instantiation of a <code>GregorianCalendar</code> is pretty lightweight.  It's the unavoidable call to <code>setTime()</code> which incurs most of the work.  It also doesn't hold any significant state between different points of a thread's exeuction.  Putting a <code>Calendar</code> into a <code>ThreadLocal</code> is unlikely to give you back more than it costs you ... unless profiling definitely shows a hot spot in <code>new GregorianCalendar()</code>.</p>\n\n<p><code>new SimpleDateFormat(String)</code> is expensive by comparison, because it has to parse the format string.  Once parsed, the 'state' of the object is significant to later uses by the same thread.  It's a better fit.  But it might still be 'less expensive' to instantiate a new one, than give your classes extra responsibilities.</p>\n"},{"tags":[],"owner":{"account_id":211081,"reputation":6152,"user_id":463052,"accept_rate":47,"display_name":"David Bullock"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1388378693,"creation_date":1388378693,"answer_id":20833466,"question_id":13852632,"body_markdown":"After thinking about this for a year, I&#39;ve decided it is not acceptable for a JavaEE container to share pooled worker threads between instances of un-related applications.  This is not &#39;enterprise&#39; at all.\r\n\r\nIf you&#39;re really going to share threads around, `java.lang.Thread` (in a JavaEE environment, at least) should support methods like `setContextState(int key)` and `forgetContextState(int key)` (mirroring `setClasLoaderContext()`), which permit the container to isolate application-specific ThreadLocal state, as it hands the thread between various applications.\r\n\r\nPending such modifications in the `java.lang` namespace, it is only sensible for application deployers to adopt a &#39;one thread-pool, one instance of related applications&#39; rule, and for application developers to assume that &#39;this thread is mine until ThreadDeath us do part&#39;.","title":"Is it really my job to clean up ThreadLocal resources when classes have been exposed to a thread pool?","body":"<p>After thinking about this for a year, I've decided it is not acceptable for a JavaEE container to share pooled worker threads between instances of un-related applications.  This is not 'enterprise' at all.</p>\n\n<p>If you're really going to share threads around, <code>java.lang.Thread</code> (in a JavaEE environment, at least) should support methods like <code>setContextState(int key)</code> and <code>forgetContextState(int key)</code> (mirroring <code>setClasLoaderContext()</code>), which permit the container to isolate application-specific ThreadLocal state, as it hands the thread between various applications.</p>\n\n<p>Pending such modifications in the <code>java.lang</code> namespace, it is only sensible for application deployers to adopt a 'one thread-pool, one instance of related applications' rule, and for application developers to assume that 'this thread is mine until ThreadDeath us do part'.</p>\n"},{"tags":[],"owner":{"account_id":123612,"reputation":48061,"user_id":318174,"accept_rate":71,"display_name":"Adam Gent"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1425913512,"creation_date":1425913512,"answer_id":28945239,"question_id":13852632,"body_markdown":"If its any help I use a custom SPI (an interface) and the JDK `ServiceLoader`. Then all of my various internal libraries (jars) that need to do unloading of threadlocals just follow the ServiceLoader pattern. So if a jar needs threadlocal cleanup it will automatically get picked if it has the appropriate `/META-INF/services/interface.name`.\r\n\r\nThen I do the unloading in a filter or listener (I had some issues with listeners but I can&#39;t recall what).\r\n\r\nIt would be ideal if the the JDK/JEE came with a **standard** SPI for clearing threadlocals.","title":"Is it really my job to clean up ThreadLocal resources when classes have been exposed to a thread pool?","body":"<p>If its any help I use a custom SPI (an interface) and the JDK <code>ServiceLoader</code>. Then all of my various internal libraries (jars) that need to do unloading of threadlocals just follow the ServiceLoader pattern. So if a jar needs threadlocal cleanup it will automatically get picked if it has the appropriate <code>/META-INF/services/interface.name</code>.</p>\n\n<p>Then I do the unloading in a filter or listener (I had some issues with listeners but I can't recall what).</p>\n\n<p>It would be ideal if the the JDK/JEE came with a <strong>standard</strong> SPI for clearing threadlocals.</p>\n"},{"tags":[],"owner":{"account_id":4660896,"reputation":1,"user_id":3775205,"display_name":"alu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688651207,"creation_date":1688651207,"answer_id":76629539,"question_id":13852632,"body_markdown":"I solved my case by extending ThreadLocal\r\n```java\r\n    public class AccessibleThreadLocal&lt;T&gt; extends ThreadLocal&lt;T&gt; {\r\n\r\n    private static List&lt;ThreadLocal&lt;?&gt;&gt; LIST = new ArrayList&lt;&gt;();\r\n\r\n    public AccessibleThreadLocal() {\r\n        super();\r\n        LIST.add(this);\r\n    }\r\n\r\n    public static void clear() {\r\n        LIST.forEach(ThreadLocal::remove);\r\n    }\r\n\r\n    public static &lt;T&gt; ThreadLocal&lt;T&gt; newWith(Supplier&lt;T&gt; supplier) {\r\n        ThreadLocal&lt;T&gt; threadLocal = ThreadLocal.withInitial(supplier);\r\n        LIST.add(threadLocal);\r\n        return threadLocal;\r\n    }\r\n}\r\n```\r\n\r\nTo be sure that this class is used, I prohibit with audit the instanciation of ThreadLocal.","title":"Is it really my job to clean up ThreadLocal resources when classes have been exposed to a thread pool?","body":"<p>I solved my case by extending ThreadLocal</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public class AccessibleThreadLocal&lt;T&gt; extends ThreadLocal&lt;T&gt; {\n\n    private static List&lt;ThreadLocal&lt;?&gt;&gt; LIST = new ArrayList&lt;&gt;();\n\n    public AccessibleThreadLocal() {\n        super();\n        LIST.add(this);\n    }\n\n    public static void clear() {\n        LIST.forEach(ThreadLocal::remove);\n    }\n\n    public static &lt;T&gt; ThreadLocal&lt;T&gt; newWith(Supplier&lt;T&gt; supplier) {\n        ThreadLocal&lt;T&gt; threadLocal = ThreadLocal.withInitial(supplier);\n        LIST.add(threadLocal);\n        return threadLocal;\n    }\n}\n</code></pre>\n<p>To be sure that this class is used, I prohibit with audit the instanciation of ThreadLocal.</p>\n"}],"owner":{"account_id":211081,"reputation":6152,"user_id":463052,"accept_rate":47,"display_name":"David Bullock"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18929,"favorite_count":0,"down_vote_count":0,"up_vote_count":53,"answer_count":6,"score":53,"last_activity_date":1688651207,"creation_date":1355370581,"question_id":13852632,"body_markdown":"# My use of ThreadLocal\r\n\r\nIn my Java classes, I sometimes make use of a `ThreadLocal` mainly as a means of avoiding unnecessary object creation:\r\n\r\n    @net.jcip.annotations.ThreadSafe\r\n    public class DateSensitiveThing {\r\n\r\n        private final Date then;\r\n\r\n        public DateSensitiveThing(Date then) {\r\n            this.then = then;\r\n        }\r\n\r\n        private static final ThreadLocal&lt;Calendar&gt; threadCal = new ThreadLocal&lt;Calendar&gt;()   {\r\n            @Override\r\n            protected Calendar initialValue() {\r\n                return new GregorianCalendar();\r\n            }\r\n        };\r\n\r\n        public Date doCalc(int n) {\r\n            Calendar c = threadCal.get();\r\n            c.setTime(this.then):\r\n            // use n to mutate c\r\n            return c.getTime();\r\n        }\r\n    }\r\n\r\nI do this for the proper reason - `GregorianCalendar` is one of those gloriously stateful, mutable, non-threadsafe objects, which provides a service across multiple calls, rather than representing a value.  Further, it is considered to be &#39;expensive&#39; to instantiate (whether this is true or not is not the point of this question).  (Overall, I really admire it :-))\r\n\r\n# How Tomcat Whinges\r\n\r\nHowever, if I use such a class in any environment which pools threads - *and* where my application is not in control of the lifecycle of those threads - then there is the potential for memory leaks.  A Servlet environment is an good example.\r\n\r\nIn fact, Tomcat 7 whinges like so when a webapp is stopped:\r\n\r\n&gt; SEVERE: The web application [] created a ThreadLocal with key of type\r\n&gt; [org.apache.xmlbeans.impl.store.CharUtil$1] (value\r\n&gt; [org.apache.xmlbeans.impl.store.CharUtil$1@2aace7a7]) and a value of\r\n&gt; type [java.lang.ref.SoftReference] (value\r\n&gt; [java.lang.ref.SoftReference@3d9c9ad4]) but failed to remove it when\r\n&gt; the web application was stopped. Threads are going to be renewed over\r\n&gt; time to try and avoid a probable memory leak. Dec 13, 2012 12:54:30 PM\r\n&gt; org.apache.catalina.loader.WebappClassLoader\r\n&gt; checkThreadLocalMapForLeaks\r\n\r\n(Not even my code doing it, in that particular case).\r\n\r\n#Who is to blame?\r\n\r\nThis hardly seems fair.  Tomcat is blaming *me* (or the user of my class) for doing the right thing.  \r\n\r\nUltimately, that&#39;s because Tomcat wants to reuse threads it offered to me, for *other* web apps.  (Ugh - I feel dirty.)  Probably, it&#39;s not a great policy on Tomcat&#39;s part - because threads actually do have/cause state - don&#39;t share &#39;em between applications.\r\n\r\nHowever, this policy is at least common, even if it is not desirable.  I feel that I&#39;m obliged - as a `ThreadLocal` user, to provide a way for my class to &#39;release&#39; the resources which my class has attached to various threads.\r\n\r\n# But what to do about it?\r\n\r\nWhat is the right thing to do here?\r\n\r\nTo me, it seems like the servlet engine&#39;s thread-reuse policy is at odds with the intent behind `ThreadLocal`.  \r\n\r\nBut maybe I should provide a facility to allow users to say &quot;begone, evil thread-specific state associated with this class, even though I am in no position to let the thread die and let GC do its thing?&quot;.  Is it even possible for me to do this?  I mean, it&#39;s not like I can arrange for `ThreadLocal#remove()` to be called on each of the Threads which saw `ThreadLocal#initialValue()` at some time in the past.  Or is there another way?  \r\n\r\nOr should I just say to my users &quot;go and get yourself a decent classloader and thread pool implementation&quot;?\r\n\r\n_EDIT#1_: Clarified how `threadCal` is used in a vanailla utility class which is unaware of thread lifecycles\r\n_EDIT#2_: Fixed a thread safety issue in `DateSensitiveThing`","title":"Is it really my job to clean up ThreadLocal resources when classes have been exposed to a thread pool?","body":"<h1>My use of ThreadLocal</h1>\n\n<p>In my Java classes, I sometimes make use of a <code>ThreadLocal</code> mainly as a means of avoiding unnecessary object creation:</p>\n\n<pre><code>@net.jcip.annotations.ThreadSafe\npublic class DateSensitiveThing {\n\n    private final Date then;\n\n    public DateSensitiveThing(Date then) {\n        this.then = then;\n    }\n\n    private static final ThreadLocal&lt;Calendar&gt; threadCal = new ThreadLocal&lt;Calendar&gt;()   {\n        @Override\n        protected Calendar initialValue() {\n            return new GregorianCalendar();\n        }\n    };\n\n    public Date doCalc(int n) {\n        Calendar c = threadCal.get();\n        c.setTime(this.then):\n        // use n to mutate c\n        return c.getTime();\n    }\n}\n</code></pre>\n\n<p>I do this for the proper reason - <code>GregorianCalendar</code> is one of those gloriously stateful, mutable, non-threadsafe objects, which provides a service across multiple calls, rather than representing a value.  Further, it is considered to be 'expensive' to instantiate (whether this is true or not is not the point of this question).  (Overall, I really admire it :-))</p>\n\n<h1>How Tomcat Whinges</h1>\n\n<p>However, if I use such a class in any environment which pools threads - <em>and</em> where my application is not in control of the lifecycle of those threads - then there is the potential for memory leaks.  A Servlet environment is an good example.</p>\n\n<p>In fact, Tomcat 7 whinges like so when a webapp is stopped:</p>\n\n<blockquote>\n  <p>SEVERE: The web application [] created a ThreadLocal with key of type\n  [org.apache.xmlbeans.impl.store.CharUtil$1] (value\n  [org.apache.xmlbeans.impl.store.CharUtil$1@2aace7a7]) and a value of\n  type [java.lang.ref.SoftReference] (value\n  [java.lang.ref.SoftReference@3d9c9ad4]) but failed to remove it when\n  the web application was stopped. Threads are going to be renewed over\n  time to try and avoid a probable memory leak. Dec 13, 2012 12:54:30 PM\n  org.apache.catalina.loader.WebappClassLoader\n  checkThreadLocalMapForLeaks</p>\n</blockquote>\n\n<p>(Not even my code doing it, in that particular case).</p>\n\n<h1>Who is to blame?</h1>\n\n<p>This hardly seems fair.  Tomcat is blaming <em>me</em> (or the user of my class) for doing the right thing.  </p>\n\n<p>Ultimately, that's because Tomcat wants to reuse threads it offered to me, for <em>other</em> web apps.  (Ugh - I feel dirty.)  Probably, it's not a great policy on Tomcat's part - because threads actually do have/cause state - don't share 'em between applications.</p>\n\n<p>However, this policy is at least common, even if it is not desirable.  I feel that I'm obliged - as a <code>ThreadLocal</code> user, to provide a way for my class to 'release' the resources which my class has attached to various threads.</p>\n\n<h1>But what to do about it?</h1>\n\n<p>What is the right thing to do here?</p>\n\n<p>To me, it seems like the servlet engine's thread-reuse policy is at odds with the intent behind <code>ThreadLocal</code>.  </p>\n\n<p>But maybe I should provide a facility to allow users to say \"begone, evil thread-specific state associated with this class, even though I am in no position to let the thread die and let GC do its thing?\".  Is it even possible for me to do this?  I mean, it's not like I can arrange for <code>ThreadLocal#remove()</code> to be called on each of the Threads which saw <code>ThreadLocal#initialValue()</code> at some time in the past.  Or is there another way?  </p>\n\n<p>Or should I just say to my users \"go and get yourself a decent classloader and thread pool implementation\"?</p>\n\n<p><em>EDIT#1</em>: Clarified how <code>threadCal</code> is used in a vanailla utility class which is unaware of thread lifecycles\n<em>EDIT#2</em>: Fixed a thread safety issue in <code>DateSensitiveThing</code></p>\n"},{"tags":["java","sorting","java-8"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1688399700,"post_id":76606274,"comment_id":135065999,"body_markdown":"If your objects are bean-standards-complant, there are almost certainly things in Commons Collections you can implement a generic sort with","body":"If your objects are bean-standards-complant, there are almost certainly things in Commons Collections you can implement a generic sort with"},{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1688401590,"post_id":76606274,"comment_id":135066397,"body_markdown":"Seems to me you want to build a dynamic comparator by passing object fields to the comparator builder.","body":"Seems to me you want to build a dynamic comparator by passing object fields to the comparator builder."},{"owner":{"account_id":1324957,"reputation":15152,"user_id":1270003,"accept_rate":87,"display_name":"SwiftMango"},"score":1,"creation_date":1688424967,"post_id":76606274,"comment_id":135069880,"body_markdown":"What’s your end goal? Are you just looking for a way to do sorting, or you are implementing an algorithm or library, or schoolwork?","body":"What’s your end goal? Are you just looking for a way to do sorting, or you are implementing an algorithm or library, or schoolwork?"},{"owner":{"account_id":4647011,"reputation":41835,"user_id":3764965,"accept_rate":94,"display_name":"Nikolas Charalambidis"},"score":0,"creation_date":1688509362,"post_id":76606274,"comment_id":135082463,"body_markdown":"What is a &quot;better approach&quot;?","body":"What is a &quot;better approach&quot;?"}],"answers":[{"tags":[],"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688423095,"creation_date":1688423095,"answer_id":76608415,"question_id":76606274,"body_markdown":"```\r\n    public static &lt;T&gt; List&lt;T&gt; genSort(List&lt;T&gt; list, String fieldName) {\r\n        List&lt;T&gt; result = new ArrayList&lt;&gt;(list);\r\n        Collections.sort(result, new BeanComparator&lt;T&gt;(fieldName));\r\n        return result;\r\n    }\r\n```\r\n(Using Commons Beanutils)","title":"sorting with given attribute in a collection","body":"<pre><code>    public static &lt;T&gt; List&lt;T&gt; genSort(List&lt;T&gt; list, String fieldName) {\n        List&lt;T&gt; result = new ArrayList&lt;&gt;(list);\n        Collections.sort(result, new BeanComparator&lt;T&gt;(fieldName));\n        return result;\n    }\n</code></pre>\n<p>(Using Commons Beanutils)</p>\n"},{"tags":[],"owner":{"account_id":18608446,"reputation":1,"user_id":13561514,"display_name":"Ajay Kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1688651063,"creation_date":1688650795,"answer_id":76629468,"question_id":76606274,"body_markdown":"Finally I succeeded to create the method I was looking for after some effort.\r\n\r\n\r\n```\r\npublic static &lt;T&gt; List&lt;T&gt; genSort(List&lt;T&gt; list, Pageable pageable) {\r\n    // creating map of multiple sort attribute with direction\r\n    Map&lt;String, String&gt; map = pageable.getSort().stream().collect(\r\n        Collectors.toMap(p -&gt; p.getProperty(), p -&gt; String.valueOf(p.getDirection())));\r\n\r\n    List&lt;T&gt; result = new ArrayList&lt;&gt;(list);\r\n    // sorting the collection with sort attributes one by one\r\n    for (Map.Entry&lt;String, String&gt; entry : map.entrySet()) {\r\n      Comparator comparator = entry.getValue().equalsIgnoreCase(&quot;desc&quot;) ? Comparator.reverseOrder() : Comparator.naturalOrder();\r\n\r\n      Collections.sort(result, new BeanComparator&lt;T&gt;(entry.getKey(), Comparator.nullsLast(comparator)));\r\n    }\r\n    return result;\r\n  }\r\n```\r\n\r\n**Please note that my pageable contains the sort attributes like &quot;name,desc,emailId,desc&quot;.**\r\n\r\n\r\nI don&#39;t need separate comparator class to sort different Entities like Student, Employee etc, this method can be used to sort all of such. ","title":"sorting with given attribute in a collection","body":"<p>Finally I succeeded to create the method I was looking for after some effort.</p>\n<pre><code>public static &lt;T&gt; List&lt;T&gt; genSort(List&lt;T&gt; list, Pageable pageable) {\n    // creating map of multiple sort attribute with direction\n    Map&lt;String, String&gt; map = pageable.getSort().stream().collect(\n        Collectors.toMap(p -&gt; p.getProperty(), p -&gt; String.valueOf(p.getDirection())));\n\n    List&lt;T&gt; result = new ArrayList&lt;&gt;(list);\n    // sorting the collection with sort attributes one by one\n    for (Map.Entry&lt;String, String&gt; entry : map.entrySet()) {\n      Comparator comparator = entry.getValue().equalsIgnoreCase(&quot;desc&quot;) ? Comparator.reverseOrder() : Comparator.naturalOrder();\n\n      Collections.sort(result, new BeanComparator&lt;T&gt;(entry.getKey(), Comparator.nullsLast(comparator)));\n    }\n    return result;\n  }\n</code></pre>\n<p><strong>Please note that my pageable contains the sort attributes like &quot;name,desc,emailId,desc&quot;.</strong></p>\n<p>I don't need separate comparator class to sort different Entities like Student, Employee etc, this method can be used to sort all of such.</p>\n"}],"owner":{"account_id":18608446,"reputation":1,"user_id":13561514,"display_name":"Ajay Kumar"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76629468,"answer_count":2,"score":0,"last_activity_date":1688651063,"creation_date":1688398712,"question_id":76606274,"body_markdown":"I am trying to implement sorting with given attribute in a collection let&#39;s say List&lt;Student&gt;.\r\nIs there a better approach in which I don&#39;t need to modify the code if later point of time my Student class attributes gets changed(added more, deleted few or exiting modified) ?\r\n\r\nas an enhancement of this code I love if you also can answer my below questions:-\r\n- I also want to support sorting on **multiple attributes** (like &quot;name: desc, emailId asc&quot;\r\n- Is is possible to make the method **generic **which can take any POJO class and do the sorting? \r\n\r\n\r\n```\r\npublic static List&lt;Student&gt; sort(List&lt;Student&gt; list, Pageable pageable) {\r\n\r\n    boolean isReverse = false;\r\n    String sortString = pageable.getSort().toString();\r\n    String sortBy = sortString.substring(0, sortString.indexOf(&quot;:&quot;));\r\n    String direction = sortString.substring(sortString.indexOf(&quot;:&quot;) + 1);\r\n    if (direction.trim().equalsIgnoreCase(&quot;desc&quot;)) {\r\n      isReverse = true;\r\n    }\r\n\r\n    switch (sortBy) {\r\n      case &quot;bidderId&quot; -&gt; list.sort(Comparator.comparing(Student::getName, Comparator.nullsLast(Comparator.naturalOrder())));\r\n      case &quot;bidderPipeName&quot; -&gt;\r\n          list.sort(Comparator.comparing(Student::getEmailId, Comparator.nullsLast(Comparator.naturalOrder())));\r\n    }\r\n\r\n    if (isReverse) {\r\n      Collections.reverse(list);\r\n    }\r\n\r\n    return list;\r\n  }\r\n```\r\n\r\n\r\nI tried the code I mentioned in the description.\r\nCURRENTLY MY CODE IS WORKING BUT WANT A BETTER APPROACH.","title":"sorting with given attribute in a collection","body":"<p>I am trying to implement sorting with given attribute in a collection let's say List.\nIs there a better approach in which I don't need to modify the code if later point of time my Student class attributes gets changed(added more, deleted few or exiting modified) ?</p>\n<p>as an enhancement of this code I love if you also can answer my below questions:-</p>\n<ul>\n<li>I also want to support sorting on <strong>multiple attributes</strong> (like &quot;name: desc, emailId asc&quot;</li>\n<li>Is is possible to make the method **generic **which can take any POJO class and do the sorting?</li>\n</ul>\n<pre><code>public static List&lt;Student&gt; sort(List&lt;Student&gt; list, Pageable pageable) {\n\n    boolean isReverse = false;\n    String sortString = pageable.getSort().toString();\n    String sortBy = sortString.substring(0, sortString.indexOf(&quot;:&quot;));\n    String direction = sortString.substring(sortString.indexOf(&quot;:&quot;) + 1);\n    if (direction.trim().equalsIgnoreCase(&quot;desc&quot;)) {\n      isReverse = true;\n    }\n\n    switch (sortBy) {\n      case &quot;bidderId&quot; -&gt; list.sort(Comparator.comparing(Student::getName, Comparator.nullsLast(Comparator.naturalOrder())));\n      case &quot;bidderPipeName&quot; -&gt;\n          list.sort(Comparator.comparing(Student::getEmailId, Comparator.nullsLast(Comparator.naturalOrder())));\n    }\n\n    if (isReverse) {\n      Collections.reverse(list);\n    }\n\n    return list;\n  }\n</code></pre>\n<p>I tried the code I mentioned in the description.\nCURRENTLY MY CODE IS WORKING BUT WANT A BETTER APPROACH.</p>\n"},{"tags":["java","spring-boot","spring-data-jpa","spring-data","spring-data-cassandra"],"owner":{"account_id":22388142,"reputation":1,"user_id":16600669,"display_name":"Rohan Deshmukh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688650992,"creation_date":1688650992,"question_id":76629502,"body_markdown":"I am new to spring-data-cassandra working on a simple project that has CRUD operations. \r\nBut facing problems while setting RetryPolicy. \r\n\r\nI have used CassandraRepository for Person table which contains below entities \r\n1. Name -&gt; string\r\n2. id -&gt; uuid\r\n\r\n\r\nThis is my PersonRepository class\r\n\r\n\r\n```\r\npublic interface ActionRepository extends  CassandraRepository&lt;Person, Serializable&gt; {\r\n\r\n  @AllowFiltering\r\n  Optional&lt;Person&gt; findByNameAndId(String Name, UUID id);\r\n\r\n  @AllowFiltering\r\n  Optional&lt;Person&gt; deleteById(UUID id);\r\n}\r\n```\r\n\r\n\r\nMy cassandra configuration looks like this:\r\n\r\n\r\n```\r\n@Bean\r\n  @Override\r\n  public CqlSessionFactoryBean cassandraSession() {\r\n    CqlSessionFactoryBean cassandraSession = super.cassandraSession();//super session should be called only once\r\n    cassandraSession.setUsername(userName);\r\n    cassandraSession.setPassword(password);\r\n    cassandraSession.setContactPoints(cassandraHost);\r\n    cassandraSession.setKeyspaceName(getKeyspaceName());\r\n    cassandraSession.setPort(cassandraPort);\r\n    cassandraSession.setLocalDatacenter(localDataCenter);\r\n    return cassandraSession;\r\n  }\r\n```\r\n\r\n\r\nIn the code above I&#39;m unable to set cluster configuration hence I am unable to set retry policy. \r\n\r\n\r\nMy custom retry policy looks like this:\r\n\r\n\r\n```\r\nimport com.datastax.oss.driver.api.core.ConsistencyLevel;\r\nimport com.datastax.oss.driver.api.core.retry.RetryDecision;\r\nimport com.datastax.oss.driver.api.core.retry.RetryPolicy;\r\nimport com.datastax.oss.driver.api.core.retry.RetryVerdict;\r\nimport com.datastax.oss.driver.api.core.servererrors.CoordinatorException;\r\nimport com.datastax.oss.driver.api.core.servererrors.WriteType;\r\npublic class CassandraRetryPolicy implements RetryPolicy {\r\n\r\n  private int retryCount;\r\n  private ConsistencyLevel readRetryConsistency;\r\n  private ConsistencyLevel writeRetryConsistency;\r\n\r\n  //Overriden Retry functions\r\n  .\r\n  .\r\n  . \r\n  .\r\n\r\n\r\n}\r\n```\r\n\r\n\r\n\r\nI tried overriding a default profile for retry policy in my CassandraConfiguration class\r\nBut not luck\r\n\r\nP.S. cassandraRetryPolicy is my customRetryPolicy object of CassandraRetryPolicy class.\r\n\r\n```\r\n@Bean\r\n  public SessionBuilderConfigurer sessionBuilderConfigurer() {\r\n    return (sessionBuilder) -&gt; {\r\n      sessionBuilder.build().\r\n              getContext().getRetryPolicies().put(&quot;default&quot;,cassandraRetryPolicy);\r\n      return sessionBuilder;\r\n    };\r\n  }\r\n```\r\n\r\nAny advice is appreciated.\r\n\r\nThanks\r\n","title":"Use RetryPolicy with spring-data-cassandra version 3.2.8","body":"<p>I am new to spring-data-cassandra working on a simple project that has CRUD operations.\nBut facing problems while setting RetryPolicy.</p>\n<p>I have used CassandraRepository for Person table which contains below entities</p>\n<ol>\n<li>Name -&gt; string</li>\n<li>id -&gt; uuid</li>\n</ol>\n<p>This is my PersonRepository class</p>\n<pre><code>public interface ActionRepository extends  CassandraRepository&lt;Person, Serializable&gt; {\n\n  @AllowFiltering\n  Optional&lt;Person&gt; findByNameAndId(String Name, UUID id);\n\n  @AllowFiltering\n  Optional&lt;Person&gt; deleteById(UUID id);\n}\n</code></pre>\n<p>My cassandra configuration looks like this:</p>\n<pre><code>@Bean\n  @Override\n  public CqlSessionFactoryBean cassandraSession() {\n    CqlSessionFactoryBean cassandraSession = super.cassandraSession();//super session should be called only once\n    cassandraSession.setUsername(userName);\n    cassandraSession.setPassword(password);\n    cassandraSession.setContactPoints(cassandraHost);\n    cassandraSession.setKeyspaceName(getKeyspaceName());\n    cassandraSession.setPort(cassandraPort);\n    cassandraSession.setLocalDatacenter(localDataCenter);\n    return cassandraSession;\n  }\n</code></pre>\n<p>In the code above I'm unable to set cluster configuration hence I am unable to set retry policy.</p>\n<p>My custom retry policy looks like this:</p>\n<pre><code>import com.datastax.oss.driver.api.core.ConsistencyLevel;\nimport com.datastax.oss.driver.api.core.retry.RetryDecision;\nimport com.datastax.oss.driver.api.core.retry.RetryPolicy;\nimport com.datastax.oss.driver.api.core.retry.RetryVerdict;\nimport com.datastax.oss.driver.api.core.servererrors.CoordinatorException;\nimport com.datastax.oss.driver.api.core.servererrors.WriteType;\npublic class CassandraRetryPolicy implements RetryPolicy {\n\n  private int retryCount;\n  private ConsistencyLevel readRetryConsistency;\n  private ConsistencyLevel writeRetryConsistency;\n\n  //Overriden Retry functions\n  .\n  .\n  . \n  .\n\n\n}\n</code></pre>\n<p>I tried overriding a default profile for retry policy in my CassandraConfiguration class\nBut not luck</p>\n<p>P.S. cassandraRetryPolicy is my customRetryPolicy object of CassandraRetryPolicy class.</p>\n<pre><code>@Bean\n  public SessionBuilderConfigurer sessionBuilderConfigurer() {\n    return (sessionBuilder) -&gt; {\n      sessionBuilder.build().\n              getContext().getRetryPolicies().put(&quot;default&quot;,cassandraRetryPolicy);\n      return sessionBuilder;\n    };\n  }\n</code></pre>\n<p>Any advice is appreciated.</p>\n<p>Thanks</p>\n"},{"tags":["javascript","java","html","spring"],"comments":[{"owner":{"account_id":112084,"reputation":171457,"user_id":295783,"accept_rate":81,"display_name":"mplungjan"},"score":0,"creation_date":1688647836,"post_id":76628916,"comment_id":135104032,"body_markdown":"If you post an example of the object? Start with `.then(data =&gt; console.log(data))` to find out","body":"If you post an example of the object? Start with <code>.then(data =&gt; console.log(data))</code> to find out"},{"owner":{"account_id":28425413,"reputation":19,"user_id":21746856,"display_name":"Gahatma"},"score":0,"creation_date":1688648409,"post_id":76628916,"comment_id":135104190,"body_markdown":"This is the output in the console, I hope it is enough.\n\nArray(2)\n0 : &quot;data.txt&quot;\n1 :  &quot;data2.txt&quot;\nlength : 2","body":"This is the output in the console, I hope it is enough.  Array(2) 0 : &quot;data.txt&quot; 1 :  &quot;data2.txt&quot; length : 2"},{"owner":{"account_id":112084,"reputation":171457,"user_id":295783,"accept_rate":81,"display_name":"mplungjan"},"score":0,"creation_date":1688648476,"post_id":76628916,"comment_id":135104203,"body_markdown":"`.then(data =&gt; document.getElementById(&quot;test&quot;).innerHTML = data.map(filename =&gt; \\`&lt;option value=&quot;${filename}&quot;&gt;${filename}&lt;/option&gt;\\`).join(&#39;&#39;));`","body":"<code>.then(data =&gt; document.getElementById(&quot;test&quot;).innerHTML = data.map(filename =&gt; `&lt;option value=&quot;${filename}&quot;&gt;${filename}&lt;&#47;option&gt;`).join(&#39;&#39;));</code>"},{"owner":{"account_id":28425413,"reputation":19,"user_id":21746856,"display_name":"Gahatma"},"score":0,"creation_date":1688648611,"post_id":76628916,"comment_id":135104241,"body_markdown":"Huh, it worked. Thank you, but I don&#39;t think I understand everything in the comment above. Mind explaining it to me?","body":"Huh, it worked. Thank you, but I don&#39;t think I understand everything in the comment above. Mind explaining it to me?"},{"owner":{"account_id":112084,"reputation":171457,"user_id":295783,"accept_rate":81,"display_name":"mplungjan"},"score":0,"creation_date":1688650911,"post_id":76628916,"comment_id":135104794,"body_markdown":"See my answer...","body":"See my answer..."}],"answers":[{"tags":[],"owner":{"account_id":112084,"reputation":171457,"user_id":295783,"accept_rate":81,"display_name":"mplungjan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1688650850,"creation_date":1688650850,"answer_id":76629480,"question_id":76628916,"body_markdown":"In the comment you say `data` is an array. \r\nSince you already trust the data enough to use innerHTML, we can do the following\r\n\r\n    .then(data =&gt; document.getElementById(&quot;test&quot;).innerHTML = data\r\n      .map(filename =&gt; `&lt;option value=&quot;${filename}&quot;&gt;${filename}&lt;/option&gt;`).join(&#39;&#39;)\r\n    );\r\n\r\nsince\r\n\r\n    data.map(arrayItem =&gt; console.log(arrayItem)) \r\n\r\nwill show\r\n\r\n    &quot;data.txt&quot;\r\n    &quot;data2.txt&quot; \r\n\r\nand I just wrap that in `&lt;option value=&quot;arrayItem&quot;&gt;arrayItem&lt;/option&gt;` using [template literals](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Template_literals) in a NEW array I then immediately join with nothing to make \r\n\r\n`&lt;option value=&quot;data.txt&quot;&gt;data.txt&lt;/option&gt;&lt;option value=&quot;data2.txt&quot;&gt;data2.txt&lt;/option&gt;`\r\n\r\nbefore inserting it into the select","title":"How to view name a part of a JSON Object?","body":"<p>In the comment you say <code>data</code> is an array.\nSince you already trust the data enough to use innerHTML, we can do the following</p>\n<pre><code>.then(data =&gt; document.getElementById(&quot;test&quot;).innerHTML = data\n  .map(filename =&gt; `&lt;option value=&quot;${filename}&quot;&gt;${filename}&lt;/option&gt;`).join('')\n);\n</code></pre>\n<p>since</p>\n<pre><code>data.map(arrayItem =&gt; console.log(arrayItem)) \n</code></pre>\n<p>will show</p>\n<pre><code>&quot;data.txt&quot;\n&quot;data2.txt&quot; \n</code></pre>\n<p>and I just wrap that in <code>&lt;option value=&quot;arrayItem&quot;&gt;arrayItem&lt;/option&gt;</code> using <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Template_literals\" rel=\"nofollow noreferrer\">template literals</a> in a NEW array I then immediately join with nothing to make</p>\n<p><code>&lt;option value=&quot;data.txt&quot;&gt;data.txt&lt;/option&gt;&lt;option value=&quot;data2.txt&quot;&gt;data2.txt&lt;/option&gt;</code></p>\n<p>before inserting it into the select</p>\n"}],"owner":{"account_id":28425413,"reputation":19,"user_id":21746856,"display_name":"Gahatma"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76629480,"answer_count":1,"score":0,"last_activity_date":1688650850,"creation_date":1688647026,"question_id":76628916,"body_markdown":"I am testing out a new way to use Springboot and having trouble with a JSON Object that holds a few filenames. I am having trouble reading the filenames from the object, as I do not really know what they are called.\r\n\r\nController:\r\n```java\r\n@RestController\r\n@Slf4j\r\n@RequestMapping(&quot;/application&quot;)\r\npublic class ApplicationController {\r\n\r\n    @GetMapping\r\n    public List&lt;String&gt; fileSelection() {\r\n\r\n        List&lt;String&gt; files = new ArrayList&lt;&gt;();\r\n\r\n        URL url = getClass().getClassLoader().getResource(&quot;placeholder.txt&quot;);\r\n        File dir = null;\r\n\r\n        try {\r\n\r\n            dir = new File(url.toURI()).getParentFile();\r\n\r\n        } catch (URISyntaxException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n\r\n        for (File f : dir.listFiles(path -&gt; path.getName().contains(&quot;.txt&quot;))) {\r\n\r\n            if (!f.getName().equals(&quot;placeholder.txt&quot;)) {\r\n\r\n                files.add(f.getName());\r\n\r\n            }\r\n\r\n        }\r\n\r\n        return files;\r\n\r\n    }\r\n\r\n}\r\n```\r\n\r\nHTML:\r\n```html\r\n&lt;!DOCTYPE html&gt;\r\n&lt;html lang=&quot;en&quot;&gt;\r\n&lt;head&gt;\r\n    &lt;meta charset=&quot;UTF-8&quot;&gt;\r\n    &lt;title&gt;Title&lt;/title&gt;\r\n  &lt;script src=&quot;script.js&quot;&gt;&lt;/script&gt;\r\n  &lt;link rel=&quot;stylesheet&quot; href=&quot;style.css&quot;&gt;\r\n&lt;/head&gt;\r\n&lt;body&gt;\r\n\r\n&lt;select id=&quot;test&quot;&gt;&lt;/select&gt;\r\n\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\n\r\nJavaScript:\r\n```js\r\nfunction getLines() {\r\n\r\n    fetch(`/application`, {\r\n\r\n        method: &#39;GET&#39;\r\n\r\n    }).then(response =&gt; response.json())\r\n        .then(data =&gt; {\r\n\r\n            console.log(JSON.stringify(data))\r\n            let html = &quot;&quot;\r\n            data.forEach(d =&gt; html += `&lt;option&gt;${d.value}&lt;/option&gt;`)\r\n            document.getElementById(&quot;test&quot;).innerHTML = html\r\n\r\n        })\r\n\r\n}\r\n```\r\n\r\nThe Problem lies at the data.forEach(d =&gt; html += `&lt;option&gt;${d.value}&lt;/option&gt;`) line, where I am just not sure what to put in there in order to print the filenames into the selection.","title":"How to view name a part of a JSON Object?","body":"<p>I am testing out a new way to use Springboot and having trouble with a JSON Object that holds a few filenames. I am having trouble reading the filenames from the object, as I do not really know what they are called.</p>\n<p>Controller:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RestController\n@Slf4j\n@RequestMapping(&quot;/application&quot;)\npublic class ApplicationController {\n\n    @GetMapping\n    public List&lt;String&gt; fileSelection() {\n\n        List&lt;String&gt; files = new ArrayList&lt;&gt;();\n\n        URL url = getClass().getClassLoader().getResource(&quot;placeholder.txt&quot;);\n        File dir = null;\n\n        try {\n\n            dir = new File(url.toURI()).getParentFile();\n\n        } catch (URISyntaxException e) {\n            throw new RuntimeException(e);\n        }\n\n        for (File f : dir.listFiles(path -&gt; path.getName().contains(&quot;.txt&quot;))) {\n\n            if (!f.getName().equals(&quot;placeholder.txt&quot;)) {\n\n                files.add(f.getName());\n\n            }\n\n        }\n\n        return files;\n\n    }\n\n}\n</code></pre>\n<p>HTML:</p>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=&quot;en&quot;&gt;\n&lt;head&gt;\n    &lt;meta charset=&quot;UTF-8&quot;&gt;\n    &lt;title&gt;Title&lt;/title&gt;\n  &lt;script src=&quot;script.js&quot;&gt;&lt;/script&gt;\n  &lt;link rel=&quot;stylesheet&quot; href=&quot;style.css&quot;&gt;\n&lt;/head&gt;\n&lt;body&gt;\n\n&lt;select id=&quot;test&quot;&gt;&lt;/select&gt;\n\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>JavaScript:</p>\n<pre class=\"lang-js prettyprint-override\"><code>function getLines() {\n\n    fetch(`/application`, {\n\n        method: 'GET'\n\n    }).then(response =&gt; response.json())\n        .then(data =&gt; {\n\n            console.log(JSON.stringify(data))\n            let html = &quot;&quot;\n            data.forEach(d =&gt; html += `&lt;option&gt;${d.value}&lt;/option&gt;`)\n            document.getElementById(&quot;test&quot;).innerHTML = html\n\n        })\n\n}\n</code></pre>\n<p>The Problem lies at the data.forEach(d =&gt; html += <code>&lt;option&gt;${d.value}&lt;/option&gt;</code>) line, where I am just not sure what to put in there in order to print the filenames into the selection.</p>\n"},{"tags":["java","spring","hibernate","kotlin","spring-data-jpa"],"owner":{"account_id":25554154,"reputation":181,"user_id":19338016,"display_name":"hololensen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":184,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1688650690,"creation_date":1688462175,"question_id":76611074,"body_markdown":"I have table in `PostgreSQL` with field of `JSONB` type, the entity looks like that:\r\n```kotlin\r\n@Entity\r\n@Table(name = &quot;test_table&quot;)\r\n@TypeDef(name = &quot;jsonb&quot;, typeClass = JsonBinaryType::class)\r\nclass TestEntity(\r\n\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;test_id&quot;)\r\n    var main: Main? = null,\r\n\r\n    @Column(name = &quot;id&quot;)\r\n    val id: String,\r\n\r\n    @Column(name = &quot;fallback_id&quot;)\r\n    var fallbackId: String? = null,\r\n\r\n    @Column(name = &quot;properties&quot;, columnDefinition = &quot;jsonb&quot;)\r\n    @Type(type = &quot;jsonb&quot;)\r\n    val properties: MutableMap&lt;String, Any&gt; = mutableMapOf(),\r\n```\r\n\r\nAnd `projection` like that:\r\n\r\n```kotlin\r\ninterface TestProjection {\r\n    val id: String\r\n    val fallbackId: String\r\n    val properties: MutableMap&lt;String, Any&gt;\r\n}\r\n```\r\nI want to retrieve from database and map to this `projection`(with `JSONB` field as a map), but when I tried to do so using this `repository`:\r\n\r\n```kotlin\r\n@Repository\r\ninterface TestRepository : JpaRepository&lt;TestEntity, UUID&gt; {\r\nfun findByFallbackIdIn(fallbackIds: Set&lt;String&gt;): Set&lt;TestEntity&gt;\r\n\r\n@Query(\r\n        nativeQuery = true,\r\n        value = &quot;&quot;&quot;\r\n               SELECT \r\n                     cast(t.id as varchar) as id,\r\n                     cast(t.fallback_id as varchar) as fallback_id,\r\n                     t.properties as properties,\r\n               FROM test_table t\r\n               AND t.id &lt; :last_uuid\r\n               ORDER by t.id DESC\r\n               LIMIT :batch_size\r\n            &quot;&quot;&quot;\r\n    )\r\n    fun findTestForSomeLogic(\r\n        @Param(&quot;last_uuid&quot;) lastUuid: UUID,\r\n        @Param(&quot;batch_size&quot;) batchSize: Int,\r\n    ): List&lt;TestProjection&gt;\r\n}\r\n```\r\n\r\nI got exception from hibernate:\r\n```\r\nNo Dialect mapping for JDBC type: 1111; nested exception is org.hibernate.MappingException: No Dialect mapping for JDBC type: 1111\r\n```\r\n**So how to map `JSONB` to projection&#39;s field?**","title":"How to map JSONB on projection&#39;s field in Hibernate?","body":"<p>I have table in <code>PostgreSQL</code> with field of <code>JSONB</code> type, the entity looks like that:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>@Entity\n@Table(name = &quot;test_table&quot;)\n@TypeDef(name = &quot;jsonb&quot;, typeClass = JsonBinaryType::class)\nclass TestEntity(\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;test_id&quot;)\n    var main: Main? = null,\n\n    @Column(name = &quot;id&quot;)\n    val id: String,\n\n    @Column(name = &quot;fallback_id&quot;)\n    var fallbackId: String? = null,\n\n    @Column(name = &quot;properties&quot;, columnDefinition = &quot;jsonb&quot;)\n    @Type(type = &quot;jsonb&quot;)\n    val properties: MutableMap&lt;String, Any&gt; = mutableMapOf(),\n</code></pre>\n<p>And <code>projection</code> like that:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>interface TestProjection {\n    val id: String\n    val fallbackId: String\n    val properties: MutableMap&lt;String, Any&gt;\n}\n</code></pre>\n<p>I want to retrieve from database and map to this <code>projection</code>(with <code>JSONB</code> field as a map), but when I tried to do so using this <code>repository</code>:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>@Repository\ninterface TestRepository : JpaRepository&lt;TestEntity, UUID&gt; {\nfun findByFallbackIdIn(fallbackIds: Set&lt;String&gt;): Set&lt;TestEntity&gt;\n\n@Query(\n        nativeQuery = true,\n        value = &quot;&quot;&quot;\n               SELECT \n                     cast(t.id as varchar) as id,\n                     cast(t.fallback_id as varchar) as fallback_id,\n                     t.properties as properties,\n               FROM test_table t\n               AND t.id &lt; :last_uuid\n               ORDER by t.id DESC\n               LIMIT :batch_size\n            &quot;&quot;&quot;\n    )\n    fun findTestForSomeLogic(\n        @Param(&quot;last_uuid&quot;) lastUuid: UUID,\n        @Param(&quot;batch_size&quot;) batchSize: Int,\n    ): List&lt;TestProjection&gt;\n}\n</code></pre>\n<p>I got exception from hibernate:</p>\n<pre><code>No Dialect mapping for JDBC type: 1111; nested exception is org.hibernate.MappingException: No Dialect mapping for JDBC type: 1111\n</code></pre>\n<p><strong>So how to map <code>JSONB</code> to projection's field?</strong></p>\n"},{"tags":["java","android","copy-paste","vpn"],"owner":{"account_id":14303260,"reputation":1,"user_id":10332030,"display_name":"developers eBoops"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688650175,"creation_date":1688650175,"question_id":76629371,"body_markdown":"I have an application which is an alphabetical directory with pages that contain text. I live in France and this application works perfectly. However, a Russian user has reported to me that the pop-up menu with Cut, Copy, Share... buttons no longer appears when they select text.\r\n\r\nI know that russia sanctions removed advertising in russia (which actually suits russian users and penalizes programmers from other countries) but I don&#39;t understand why there is a sanction against Copy-Paste? :-)\r\n\r\nI hadn&#39;t updated my application for a long time and thought that compliance with target API 33 would solve the problem. I just carried out this update and the problem persists. I checked it myself, when I use a VPN to locate myself in Russia, I no longer have the Copy-Paste functions in my application, but other applications on my phones continue to have this feature. So it&#39;s a problem due to localization in Russia AND the code in my app. But I have no idea where this could be coming from.\r\n\r\n\r\n\r\nIn the LogCat I have this message when I select the text with a VPN to have a localization in Russia:\r\n\r\ninitializeHyperClipMenu: 2023-07-03 23:23:10.429 4281-4281 HyperClipMenu com.eboops.wn E HyperClip is not installed. 2023-07-03 23:23:10.288 4281-4500 TextClassifierService com.eboops.wn D No configured system TextClassifierService\r\n\r\nand without a VPN: the copy-paste function works again outside of Russia initializeHyperClipMenu: E HyperClip is not installed. createMenuItem: mode=com.android.internal.view.FloatingActionMode@8204808\r\n\r\nI searched a lot on the forums, but I couldn&#39;t find any solution. Chat GPT-4 eventually came to this conclusion:\r\n\r\n&quot;I regret not being able to provide a more precise solution. This is a very unusual problem and it is difficult to provide specific advice without having a detailed understanding of the application code and its behavior. It may be helpful to directly contact Google support or post on developer forums to get additional help.&quot;\r\n\r\nThis is why I am posting this message here.\r\n\r\nThank you, Best Regards, Christian","title":"Android application copy-paste does not work only when the location is in Russia","body":"<p>I have an application which is an alphabetical directory with pages that contain text. I live in France and this application works perfectly. However, a Russian user has reported to me that the pop-up menu with Cut, Copy, Share... buttons no longer appears when they select text.</p>\n<p>I know that russia sanctions removed advertising in russia (which actually suits russian users and penalizes programmers from other countries) but I don't understand why there is a sanction against Copy-Paste? :-)</p>\n<p>I hadn't updated my application for a long time and thought that compliance with target API 33 would solve the problem. I just carried out this update and the problem persists. I checked it myself, when I use a VPN to locate myself in Russia, I no longer have the Copy-Paste functions in my application, but other applications on my phones continue to have this feature. So it's a problem due to localization in Russia AND the code in my app. But I have no idea where this could be coming from.</p>\n<p>In the LogCat I have this message when I select the text with a VPN to have a localization in Russia:</p>\n<p>initializeHyperClipMenu: 2023-07-03 23:23:10.429 4281-4281 HyperClipMenu com.eboops.wn E HyperClip is not installed. 2023-07-03 23:23:10.288 4281-4500 TextClassifierService com.eboops.wn D No configured system TextClassifierService</p>\n<p>and without a VPN: the copy-paste function works again outside of Russia initializeHyperClipMenu: E HyperClip is not installed. createMenuItem: mode=com.android.internal.view.FloatingActionMode@8204808</p>\n<p>I searched a lot on the forums, but I couldn't find any solution. Chat GPT-4 eventually came to this conclusion:</p>\n<p>&quot;I regret not being able to provide a more precise solution. This is a very unusual problem and it is difficult to provide specific advice without having a detailed understanding of the application code and its behavior. It may be helpful to directly contact Google support or post on developer forums to get additional help.&quot;</p>\n<p>This is why I am posting this message here.</p>\n<p>Thank you, Best Regards, Christian</p>\n"},{"tags":["java","macos","npm","processbuilder"],"comments":[{"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"score":0,"creation_date":1688652378,"post_id":76629332,"comment_id":135105165,"body_markdown":"A good start would be to read the process output to better understand what is going on. For example: https://stackoverflow.com/a/43809404/829571","body":"A good start would be to read the process output to better understand what is going on. For example: <a href=\"https://stackoverflow.com/a/43809404/829571\">stackoverflow.com/a/43809404/829571</a>"},{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":0,"creation_date":1688652578,"post_id":76629332,"comment_id":135105215,"body_markdown":"Works for me when I just call `npm` in an empty directory. Can you [edit] and add a [mcve] to your question? In particular, what happens when you run the npm commands without going through Java? Is there anything special with the npm setup?","body":"Works for me when I just call <code>npm</code> in an empty directory. Can you <a href=\"https://stackoverflow.com/posts/76629332/edit\">edit</a> and add a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> to your question? In particular, what happens when you run the npm commands without going through Java? Is there anything special with the npm setup?"}],"owner":{"account_id":18426468,"reputation":11,"user_id":13422636,"display_name":"2nan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688649806,"creation_date":1688649806,"question_id":76629332,"body_markdown":"**Using Mac Mini Server**\r\n\r\nMy Java Code 1 :\r\n```\r\nProcess p = Runtime.getRuntime().exec(&quot;npm&quot;);\r\np.waitFor();\r\n```\r\nMy Java Code 2 :\r\n```\r\nProcess p = new ProcessBuilder(&quot;npm run build&quot;)\r\n  directory(new File(path))\r\n  .start();\r\np.waitFor();\r\n```\r\nMy Java Code 3 :\r\n```\r\n// npmBuilder.sh =&gt; npm run build\r\nProcess p = Runtime.getRuntime().exec(&quot;bash npmBuilder.sh&quot;);\r\np.waitFor();\r\n```\r\n\r\nAllways same Error :\r\n```\r\nnode:child_process:173\r\n  p.open(fd);\r\n    ^\r\n\r\nError: ENOTTY: inappropriate ioctl for device, uv_pipe_open\r\n    at Object._forkChild (node:child_process:173:5)\r\n    at setupChildProcessIpcChannel (node:internal/process/pre_execution:465:30)\r\n    at prepareMainThreadExecution (node:internal/process/pre_execution:78:3)\r\n    at node:internal/main/run_main_module:10:1 {\r\n  errno: -25,\r\n  code: &#39;ENOTTY&#39;,\r\n  syscall: &#39;uv_pipe_open&#39;\r\n}\r\n```\r\n\r\nI don&#39;t understand what&#39;s going on here","title":"Java ProcessBuilder run npm command Not Working","body":"<p><strong>Using Mac Mini Server</strong></p>\n<p>My Java Code 1 :</p>\n<pre><code>Process p = Runtime.getRuntime().exec(&quot;npm&quot;);\np.waitFor();\n</code></pre>\n<p>My Java Code 2 :</p>\n<pre><code>Process p = new ProcessBuilder(&quot;npm run build&quot;)\n  directory(new File(path))\n  .start();\np.waitFor();\n</code></pre>\n<p>My Java Code 3 :</p>\n<pre><code>// npmBuilder.sh =&gt; npm run build\nProcess p = Runtime.getRuntime().exec(&quot;bash npmBuilder.sh&quot;);\np.waitFor();\n</code></pre>\n<p>Allways same Error :</p>\n<pre><code>node:child_process:173\n  p.open(fd);\n    ^\n\nError: ENOTTY: inappropriate ioctl for device, uv_pipe_open\n    at Object._forkChild (node:child_process:173:5)\n    at setupChildProcessIpcChannel (node:internal/process/pre_execution:465:30)\n    at prepareMainThreadExecution (node:internal/process/pre_execution:78:3)\n    at node:internal/main/run_main_module:10:1 {\n  errno: -25,\n  code: 'ENOTTY',\n  syscall: 'uv_pipe_open'\n}\n</code></pre>\n<p>I don't understand what's going on here</p>\n"},{"tags":["java","web3-java"],"comments":[{"owner":{"account_id":13217925,"reputation":5500,"user_id":14401160,"display_name":"STerliakov"},"score":0,"creation_date":1688636401,"post_id":76627448,"comment_id":135101504,"body_markdown":"The error message is pretty descriptive, see here: https://stackoverflow.com/questions/5642834/why-should-the-static-field-be-accessed-in-a-static-way","body":"The error message is pretty descriptive, see here: <a href=\"https://stackoverflow.com/questions/5642834/why-should-the-static-field-be-accessed-in-a-static-way\" title=\"why should the static field be accessed in a static way\">stackoverflow.com/questions/5642834/&hellip;</a>"},{"owner":{"account_id":15675211,"reputation":1,"user_id":11310622,"display_name":"dariusjvc"},"score":0,"creation_date":1688637037,"post_id":76627448,"comment_id":135101656,"body_markdown":"Yes, the solution would be to use &quot;org.web3j.tx.Transfer.sendFundsEIP1559()&quot; directly, but in this way I can&#180;t set the constructor of Transfer. Do you know how to set the Transfer constructor and then be able to use sendFundsEIP1559?","body":"Yes, the solution would be to use &quot;org.web3j.tx.Transfer.sendFundsEIP1559()&quot; directly, but in this way I can&#180;t set the constructor of Transfer. Do you know how to set the Transfer constructor and then be able to use sendFundsEIP1559?"},{"owner":{"account_id":13217925,"reputation":5500,"user_id":14401160,"display_name":"STerliakov"},"score":0,"creation_date":1688637111,"post_id":76627448,"comment_id":135101671,"body_markdown":"What you&#39;re saying is kinda controversial: it&#39;s a static method intended to be called on class, not on an instance. It does not rely on anything set in class constructor. Why do you need that?","body":"What you&#39;re saying is kinda controversial: it&#39;s a static method intended to be called on class, not on an instance. It does not rely on anything set in class constructor. Why do you need that?"}],"owner":{"account_id":15675211,"reputation":1,"user_id":11310622,"display_name":"dariusjvc"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688649528,"creation_date":1688636111,"question_id":76627448,"body_markdown":"I am trying to make a transfer using the function sendFundsEIP1559() from the org.web3j.tx.Transfer package like this:\r\n\r\n    \torg.web3j.tx.Transfer testTansfer = new org.web3j.tx.Transfer(web3j, transactionManager);\r\n\t\t \r\n\t\t RemoteCall&lt;TransactionReceipt&gt; remoteCall = testTansfer.sendFundsEIP1559(\r\n\t\t\t\t  \tweb3j, \r\n\t\t\t\t\tobjCredentials, \r\n\t\t\t\t\t&quot;0xc60e4Ae2EfE9B8f991E6967cF317Cc39c634ggb9&quot;, \r\n\t\t\t\t\tBigDecimal.valueOf(objTransfer.getTokens()), \r\n\t\t\t\t\tConvert.Unit.WEI, \r\n\t\t\t\t\tcontractGasProvider.getGasLimit(FUNC_TRANSFER), \r\n\t\t\t\t\tcontractGasProvider.getGasPrice(FUNC_TRANSFER),\r\n\t\t\t\t\tnull);\r\n\r\nBut I got the error:\r\n\r\n&gt; The static method sendFundsEIP1559(Web3j, Credentials, String, BigDecimal, Convert.Unit, BigInteger, BigInteger, BigInteger) from the type Transfer should be accessed in a static way\r\n\r\nI need to set the Transfer constructor previously because it&#180;s necesary to set the provider, chainId, etc.\r\n\r\nThe versions of web3j and java that I use are:\r\n\r\nweb3j: 4.8.4\r\n\r\nJava: 8\r\n\r\nHas anyone had this happen before?","title":"The static method sendFundsEIP1559(...) from Transfer should be accessed in a static way","body":"<p>I am trying to make a transfer using the function sendFundsEIP1559() from the org.web3j.tx.Transfer package like this:</p>\n<pre><code>    org.web3j.tx.Transfer testTansfer = new org.web3j.tx.Transfer(web3j, transactionManager);\n     \n     RemoteCall&lt;TransactionReceipt&gt; remoteCall = testTansfer.sendFundsEIP1559(\n                web3j, \n                objCredentials, \n                &quot;0xc60e4Ae2EfE9B8f991E6967cF317Cc39c634ggb9&quot;, \n                BigDecimal.valueOf(objTransfer.getTokens()), \n                Convert.Unit.WEI, \n                contractGasProvider.getGasLimit(FUNC_TRANSFER), \n                contractGasProvider.getGasPrice(FUNC_TRANSFER),\n                null);\n</code></pre>\n<p>But I got the error:</p>\n<blockquote>\n<p>The static method sendFundsEIP1559(Web3j, Credentials, String, BigDecimal, Convert.Unit, BigInteger, BigInteger, BigInteger) from the type Transfer should be accessed in a static way</p>\n</blockquote>\n<p>I need to set the Transfer constructor previously because it´s necesary to set the provider, chainId, etc.</p>\n<p>The versions of web3j and java that I use are:</p>\n<p>web3j: 4.8.4</p>\n<p>Java: 8</p>\n<p>Has anyone had this happen before?</p>\n"},{"tags":["java","apache-kafka","apache-kafka-streams","spring-cloud-stream","rocksdb"],"comments":[{"owner":{"account_id":28912018,"reputation":166,"user_id":22144895,"display_name":"Kacper Roszczyna"},"score":0,"creation_date":1688631823,"post_id":76621909,"comment_id":135100475,"body_markdown":"It is not possible to join two streams declaratively in KafkaStreams. You are either joining:\n- two KTables\n- KStream and a KTable\n- KStream and GlobalKTable\n\nPlease show your code.","body":"It is not possible to join two streams declaratively in KafkaStreams. You are either joining: - two KTables - KStream and a KTable - KStream and GlobalKTable  Please show your code."},{"owner":{"account_id":18159379,"reputation":67,"user_id":13210980,"display_name":"Devidb"},"score":0,"creation_date":1688632724,"post_id":76621909,"comment_id":135100674,"body_markdown":"Hello, you&#39;re right I meant a join of 2 KStreams. I added the code, it&#39;s a Spring Cloud Stream function","body":"Hello, you&#39;re right I meant a join of 2 KStreams. I added the code, it&#39;s a Spring Cloud Stream function"},{"owner":{"account_id":28912018,"reputation":166,"user_id":22144895,"display_name":"Kacper Roszczyna"},"score":0,"creation_date":1688649538,"post_id":76621909,"comment_id":135104427,"body_markdown":"That leaves the following questions: \n1. Is this the only topology in your application?\n2. How much memory has been allocated?","body":"That leaves the following questions:  1. Is this the only topology in your application? 2. How much memory has been allocated?"},{"owner":{"account_id":18159379,"reputation":67,"user_id":13210980,"display_name":"Devidb"},"score":0,"creation_date":1688717407,"post_id":76621909,"comment_id":135114048,"body_markdown":"Yes it is the only topology, and 4 GB are allocated to the stream and there are 30 millon messages to process","body":"Yes it is the only topology, and 4 GB are allocated to the stream and there are 30 millon messages to process"},{"owner":{"account_id":28912018,"reputation":166,"user_id":22144895,"display_name":"Kacper Roszczyna"},"score":0,"creation_date":1688723708,"post_id":76621909,"comment_id":135115216,"body_markdown":"You should easily be able to process this then. For future reference on sizing this is an article which has saved my life a couple of times: https://medium.com/@souquieres.adam/kafka-stream-microservice-sizing-recipe-5eb71131ae67 . Note: 30M messages, if each is almost 1 MB and all land in the 5h window totals up to 30 GB and you are OOM. So it&#39;s not impossible to see the behaviour you&#39;re seeing.","body":"You should easily be able to process this then. For future reference on sizing this is an article which has saved my life a couple of times: <a href=\"https://medium.com/@souquieres.adam/kafka-stream-microservice-sizing-recipe-5eb71131ae67\" rel=\"nofollow noreferrer\">medium.com/@souquieres.adam/&hellip;</a> . Note: 30M messages, if each is almost 1 MB and all land in the 5h window totals up to 30 GB and you are OOM. So it&#39;s not impossible to see the behaviour you&#39;re seeing."},{"owner":{"account_id":18159379,"reputation":67,"user_id":13210980,"display_name":"Devidb"},"score":0,"creation_date":1688739505,"post_id":76621909,"comment_id":135118450,"body_markdown":"Hmm, I don&#39;t understand why it can reach the 4GB if the 30M messages arrives in the time window. The Rocksdb cache is limited and when it exceeds the cache size the data is flushed to disk. To me, the performance can decrease because Rocksdb writes and read a lot from disk, but I don&#39;t understand the OOM","body":"Hmm, I don&#39;t understand why it can reach the 4GB if the 30M messages arrives in the time window. The Rocksdb cache is limited and when it exceeds the cache size the data is flushed to disk. To me, the performance can decrease because Rocksdb writes and read a lot from disk, but I don&#39;t understand the OOM"}],"answers":[{"tags":[],"owner":{"account_id":28912018,"reputation":166,"user_id":22144895,"display_name":"Kacper Roszczyna"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1688649518,"creation_date":1688649518,"answer_id":76629281,"question_id":76621909,"body_markdown":"The likely candidate here is that the grace window is too large to fit all of your data especially if the topics are &quot;heavy&quot;. \r\n\r\nIf you require a bilateral join (and it seems that way), you could consider the Processor API for this, however you would have to manage the stores yourself. \r\n\r\nAnother thing is that you seem to be interested in a left-join. Only enriching the main objects. That can be done with stream-table join which might be more efficient and allows you to omit the window aspect of your code for subObjects. \r\n\r\nYou&#39;re probably familiar with this: https://www.confluent.io/blog/crossing-streams-joins-apache-kafka/\r\n\r\nAnother issue you might be running into is that your application might not have the rights to delete messages from topics (in that case check broker logs), this can be an issue on internal topics. \r\n\r\nPersonally, if you need a KStream-KStream join I prefer the Processor API, since you are not forced to window there.","title":"Kafka Stream Join memory keeps growing","body":"<p>The likely candidate here is that the grace window is too large to fit all of your data especially if the topics are &quot;heavy&quot;.</p>\n<p>If you require a bilateral join (and it seems that way), you could consider the Processor API for this, however you would have to manage the stores yourself.</p>\n<p>Another thing is that you seem to be interested in a left-join. Only enriching the main objects. That can be done with stream-table join which might be more efficient and allows you to omit the window aspect of your code for subObjects.</p>\n<p>You're probably familiar with this: <a href=\"https://www.confluent.io/blog/crossing-streams-joins-apache-kafka/\" rel=\"nofollow noreferrer\">https://www.confluent.io/blog/crossing-streams-joins-apache-kafka/</a></p>\n<p>Another issue you might be running into is that your application might not have the rights to delete messages from topics (in that case check broker logs), this can be an issue on internal topics.</p>\n<p>Personally, if you need a KStream-KStream join I prefer the Processor API, since you are not forced to window there.</p>\n"}],"owner":{"account_id":18159379,"reputation":67,"user_id":13210980,"display_name":"Devidb"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":194,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1688649518,"creation_date":1688571427,"question_id":76621909,"body_markdown":"I have some memory issues with a Kafka Stream that joins 2 Streams (one stream enrichs the other one). When the state store grows, the memory used (heap + off heap) grows too, and my application finishes with an OOM. It looks like the Stream keep all the data in memory, in my understanding the state store (and by default rocksdb) was meant to flush some data on disk, am I wrong?\r\n\r\nI implemented the BoundedMemoryRocksDBConfig mentionned in the documentation to limit its memory print, but the memory keep growing with the state store (just a little slower but the stream is way slower too, so I don&#39;t know if it is effective)\r\n\r\nMy stream function is quite simple, and I have one input topic and one output topic: \r\n\r\n    public Function&lt;KStream&lt;String, TopicEventModel&gt;, KStream&lt;String, MainObject&gt;&gt; mergeObject() {\r\n    return input -&gt; {\r\n        \r\n        final KStream&lt;String, MainObject&gt; mainObjectStream = input\r\n            .filter((key, value) -&gt; filterMain(value.get()))\r\n            .mapValues(this::mapMain);\r\n\r\n        final KStream&lt;String, SubObject&gt; subObjectStream = input\r\n                .filter((key, value) -&gt; filterSub(value.get()))\r\n                .mapValues(this::mapSub);\r\n\r\n        return mainObjectStream.join(\r\n                subObjectStream,\r\n                    (mainObject, subObject) -&gt;\r\n                            Optional.ofNullable(mainObject)\r\n                                .map(main -&gt; {\r\n                                    main.setSubObject(subObject);\r\n                                    return main;\r\n                                }).orElse(main),\r\n                    JoinWindows.ofTimeDifferenceWithNoGrace(Duration.ofHours(5)),\r\n                    StreamJoined.with(\r\n                        Serdes.String(),\r\n                        Serdes.serdeFrom(new JsonSerializer&lt;&gt;(), new JsonDeserializer&lt;&gt;(MainObject.class)),\r\n                        Serdes.serdeFrom(new JsonSerializer&lt;&gt;(), new JsonDeserializer&lt;&gt;(SubObject.class))\r\n                    )\r\n            );\r\n    }\r\n}","title":"Kafka Stream Join memory keeps growing","body":"<p>I have some memory issues with a Kafka Stream that joins 2 Streams (one stream enrichs the other one). When the state store grows, the memory used (heap + off heap) grows too, and my application finishes with an OOM. It looks like the Stream keep all the data in memory, in my understanding the state store (and by default rocksdb) was meant to flush some data on disk, am I wrong?</p>\n<p>I implemented the BoundedMemoryRocksDBConfig mentionned in the documentation to limit its memory print, but the memory keep growing with the state store (just a little slower but the stream is way slower too, so I don't know if it is effective)</p>\n<p>My stream function is quite simple, and I have one input topic and one output topic:</p>\n<pre><code>public Function&lt;KStream&lt;String, TopicEventModel&gt;, KStream&lt;String, MainObject&gt;&gt; mergeObject() {\nreturn input -&gt; {\n    \n    final KStream&lt;String, MainObject&gt; mainObjectStream = input\n        .filter((key, value) -&gt; filterMain(value.get()))\n        .mapValues(this::mapMain);\n\n    final KStream&lt;String, SubObject&gt; subObjectStream = input\n            .filter((key, value) -&gt; filterSub(value.get()))\n            .mapValues(this::mapSub);\n\n    return mainObjectStream.join(\n            subObjectStream,\n                (mainObject, subObject) -&gt;\n                        Optional.ofNullable(mainObject)\n                            .map(main -&gt; {\n                                main.setSubObject(subObject);\n                                return main;\n                            }).orElse(main),\n                JoinWindows.ofTimeDifferenceWithNoGrace(Duration.ofHours(5)),\n                StreamJoined.with(\n                    Serdes.String(),\n                    Serdes.serdeFrom(new JsonSerializer&lt;&gt;(), new JsonDeserializer&lt;&gt;(MainObject.class)),\n                    Serdes.serdeFrom(new JsonSerializer&lt;&gt;(), new JsonDeserializer&lt;&gt;(SubObject.class))\n                )\n        );\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","maven-3","java-bytecode-asm","spring-boot-2","java-14"],"answers":[{"tags":[],"owner":{"account_id":7933904,"reputation":56,"user_id":5990692,"display_name":"Victor Beliakov"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1584267207,"creation_date":1584267207,"answer_id":60691786,"question_id":60685730,"body_markdown":"Looks like ASM changes were merged to Spring Core 5.2.4. You can rollback to Spring Boot 2.3.0.M2 which uses Spring Core 5.2.3","title":"java.lang.UnsupportedOperationException: This feature requires ASM8_EXPERIMENTAL","body":"<p>Looks like ASM changes were merged to Spring Core 5.2.4. You can rollback to Spring Boot 2.3.0.M2 which uses Spring Core 5.2.3</p>\n"},{"tags":[],"owner":{"account_id":1505305,"reputation":141,"user_id":1613795,"display_name":"lecce"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1585260068,"creation_date":1585260068,"answer_id":60876866,"question_id":60685730,"body_markdown":"This is now fixed in Spring Framework 5.2.5, and Spring Boot 2.3 M4 (the next release due in about a week) is already using this version so it should be solved.\r\n\r\nhttps://github.com/spring-projects/spring-framework/issues/24722","title":"java.lang.UnsupportedOperationException: This feature requires ASM8_EXPERIMENTAL","body":"<p>This is now fixed in Spring Framework 5.2.5, and Spring Boot 2.3 M4 (the next release due in about a week) is already using this version so it should be solved.</p>\n\n<p><a href=\"https://github.com/spring-projects/spring-framework/issues/24722\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-framework/issues/24722</a></p>\n"},{"tags":[],"owner":{"account_id":418783,"reputation":12613,"user_id":795554,"accept_rate":86,"display_name":"Jignesh Ansodariya"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1688649505,"creation_date":1688649505,"answer_id":76629279,"question_id":60685730,"body_markdown":"in my case it has been fixed when i changed this settings\r\n\r\ngoto Run -&gt; Edit Confuguration -&gt; select app -&gt; Profiling \r\n\r\nuncheck &quot;Enable additional support for older devices&quot;\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/2y0iQ.png","title":"java.lang.UnsupportedOperationException: This feature requires ASM8_EXPERIMENTAL","body":"<p>in my case it has been fixed when i changed this settings</p>\n<p>goto Run -&gt; Edit Confuguration -&gt; select app -&gt; Profiling</p>\n<p>uncheck &quot;Enable additional support for older devices&quot;</p>\n<p><a href=\"https://i.stack.imgur.com/2y0iQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2y0iQ.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":2616549,"reputation":1922,"user_id":2265497,"accept_rate":41,"display_name":"slesh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5315,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":60691786,"answer_count":3,"score":3,"last_activity_date":1688649505,"creation_date":1584208805,"question_id":60685730,"body_markdown":"I try to run the [application](https://github.com/sleshJdev/incubator/tree/master/spring-jdbc-record-row-mapper) using spring boot + jdk14(records) + junit5 + maven, but unfortunately, I cannot address an issue with asm. In the internet I only could find [this](https://gitlab.ow2.org/asm/asm/commit/f14f4bac065781b3ac0bf20b00073e8151cf0b9a) asm GitLab commit. Afaik this is an experimental feature and there is no official build. So, then what is the way to run project on jdk14?\r\n\r\n\r\nFind below a stacktrace:\r\n\r\n    org.springframework.beans.factory.BeanDefinitionStoreException: Failed to read candidate component class: file [/Workspace/incubator/spring-jdbc-record-row-mapper/target/test-classes/by/slesh/spring/jdbc/core/Billionaire.class]; nested exception is java.lang.UnsupportedOperationException: This feature requires ASM8_EXPERIMENTAL\r\n\r\n\tat org.springframework.context.annotation.ClassPathScanningCandidateComponentProvider.scanCandidateComponents(ClassPathScanningCandidateComponentProvider.java:454)\r\n\tat org.springframework.context.annotation.ClassPathScanningCandidateComponentProvider.findCandidateComponents(ClassPathScanningCandidateComponentProvider.java:316)\r\n\tat org.springframework.boot.test.context.AnnotatedClassFinder.scanPackage(AnnotatedClassFinder.java:90)\r\n\tat org.springframework.boot.test.context.AnnotatedClassFinder.findFromPackage(AnnotatedClassFinder.java:82)\r\n\tat org.springframework.boot.test.context.AnnotatedClassFinder.findFromClass(AnnotatedClassFinder.java:68)\r\n\tat org.springframework.boot.test.context.SpringBootTestContextBootstrapper.getOrFindConfigurationClasses(SpringBootTestContextBootstrapper.java:232)\r\n\tat org.springframework.boot.test.context.SpringBootTestContextBootstrapper.processMergedContextConfiguration(SpringBootTestContextBootstrapper.java:149)\r\n\tat org.springframework.test.context.support.AbstractTestContextBootstrapper.buildMergedContextConfiguration(AbstractTestContextBootstrapper.java:395)\r\n\tat org.springframework.test.context.support.AbstractTestContextBootstrapper.buildMergedContextConfiguration(AbstractTestContextBootstrapper.java:294)\r\n\tat org.springframework.test.context.support.AbstractTestContextBootstrapper.buildTestContext(AbstractTestContextBootstrapper.java:108)\r\n\tat org.springframework.boot.test.context.SpringBootTestContextBootstrapper.buildTestContext(SpringBootTestContextBootstrapper.java:99)\r\n\tat org.springframework.test.context.TestContextManager.&lt;init&gt;(TestContextManager.java:137)\r\n\tat org.springframework.test.context.TestContextManager.&lt;init&gt;(TestContextManager.java:122)\r\n\tat org.junit.jupiter.engine.execution.ExtensionValuesStore.lambda$getOrComputeIfAbsent$0(ExtensionValuesStore.java:81)\r\n\tat org.junit.jupiter.engine.execution.ExtensionValuesStore$MemoizingSupplier.get(ExtensionValuesStore.java:182)\r\n\tat org.junit.jupiter.engine.execution.ExtensionValuesStore.getOrComputeIfAbsent(ExtensionValuesStore.java:84)\r\n\tat org.junit.jupiter.engine.execution.ExtensionValuesStore.getOrComputeIfAbsent(ExtensionValuesStore.java:88)\r\n\tat org.junit.jupiter.engine.execution.NamespaceAwareStore.getOrComputeIfAbsent(NamespaceAwareStore.java:61)\r\n\tat org.springframework.test.context.junit.jupiter.SpringExtension.getTestContextManager(SpringExtension.java:213)\r\n\tat org.springframework.test.context.junit.jupiter.SpringExtension.beforeAll(SpringExtension.java:77)\r\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeBeforeAllCallbacks$7(ClassBasedTestDescriptor.java:359)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeBeforeAllCallbacks(ClassBasedTestDescriptor.java:359)\r\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.before(ClassBasedTestDescriptor.java:189)\r\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.before(ClassBasedTestDescriptor.java:78)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:132)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:125)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:135)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:123)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:122)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:80)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1510)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:125)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:135)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:123)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:122)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:80)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:32)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:51)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:248)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.lambda$execute$5(DefaultLauncher.java:211)\r\n\tat \r\n\r\n    org.junit.platform.launcher.core.DefaultLauncher.withInterceptedStreams(DefaultLauncher.java:226)\r\n    \tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:199)\r\n    \tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:132)\r\n    \tat com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:69)\r\n    \tat com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)\r\n    \tat com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:230)\r\n    \tat com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:58)\r\n    \tSuppressed: org.springframework.beans.factory.BeanDefinitionStoreException: Failed to read candidate component class: file [/Workspace/incubator/spring-jdbc-record-row-mapper/target/test-classes/by/slesh/spring/jdbc/core/Billionaire.class]; nested exception is java.lang.UnsupportedOperationException: This feature requires ASM8_EXPERIMENTAL\r\n    \t\tat org.springframework.context.annotation.ClassPathScanningCandidateComponentProvider.scanCandidateComponents(ClassPathScanningCandidateComponentProvider.java:454)\r\n    \t\tat org.springframework.context.annotation.ClassPathScanningCandidateComponentProvider.findCandidateComponents(ClassPathScanningCandidateComponentProvider.java:316)\r\n    \t\tat org.springframework.boot.test.context.AnnotatedClassFinder.scanPackage(AnnotatedClassFinder.java:90)\r\n    \t\tat org.springframework.boot.test.context.AnnotatedClassFinder.findFromPackage(AnnotatedClassFinder.java:82)\r\n    \t\tat org.springframework.boot.test.context.AnnotatedClassFinder.findFromClass(AnnotatedClassFinder.java:68)\r\n    \t\tat org.springframework.boot.test.context.SpringBootTestContextBootstrapper.getOrFindConfigurationClasses(SpringBootTestContextBootstrapper.java:232)\r\n    \t\tat org.springframework.boot.test.context.SpringBootTestContextBootstrapper.processMergedContextConfiguration(SpringBootTestContextBootstrapper.java:149)\r\n    \t\tat org.springframework.test.context.support.AbstractTestContextBootstrapper.buildMergedContextConfiguration(AbstractTestContextBootstrapper.java:395)\r\n    \t\tat org.springframework.test.context.support.AbstractTestContextBootstrapper.buildMergedContextConfiguration(AbstractTestContextBootstrapper.java:294)\r\n    \t\tat org.springframework.test.context.support.AbstractTestContextBootstrapper.buildTestContext(AbstractTestContextBootstrapper.java:108)\r\n    \t\tat org.springframework.boot.test.context.SpringBootTestContextBootstrapper.buildTestContext(SpringBootTestContextBootstrapper.java:99)\r\n    \t\tat org.springframework.test.context.TestContextManager.&lt;init&gt;(TestContextManager.java:137)\r\n    \t\tat org.springframework.test.context.TestContextManager.&lt;init&gt;(TestContextManager.java:122)\r\n    \t\tat org.junit.jupiter.engine.execution.ExtensionValuesStore.lambda$getOrComputeIfAbsent$0(ExtensionValuesStore.java:81)\r\n    \t\tat org.junit.jupiter.engine.execution.ExtensionValuesStore$MemoizingSupplier.get(ExtensionValuesStore.java:182)\r\n    \t\tat org.junit.jupiter.engine.execution.ExtensionValuesStore.remove(ExtensionValuesStore.java:98)\r\n    \t\tat org.junit.jupiter.engine.execution.NamespaceAwareStore.remove(NamespaceAwareStore.java:73)\r\n    \t\tat org.springframework.test.context.junit.jupiter.SpringExtension.afterAll(SpringExtension.java:89)\r\n    \t\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeAfterAllCallbacks$13(ClassBasedTestDescriptor.java:425)\r\n    \t\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \t\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeAfterAllCallbacks$14(ClassBasedTestDescriptor.java:425)\r\n    \t\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1510)\r\n    \t\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeAfterAllCallbacks(ClassBasedTestDescriptor.java:425)\r\n    \t\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.after(ClassBasedTestDescriptor.java:213)\r\n    \t\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.after(ClassBasedTestDescriptor.java:78)\r\n    \t\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:145)\r\n    \t\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \t\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:145)\r\n    \t\t... 27 more\r\n    \tCaused by: java.lang.UnsupportedOperationException: This feature requires ASM8_EXPERIMENTAL\r\n    \t\tat org.springframework.asm.ClassVisitor.visitRecordComponentExperimental(ClassVisitor.java:305)\r\n    \t\tat org.springframework.asm.ClassReader.readRecordComponent(ClassReader.java:931)\r\n    \t\tat org.springframework.asm.ClassReader.accept(ClassReader.java:705)\r\n    \t\tat org.springframework.asm.ClassReader.accept(ClassReader.java:401)\r\n    \t\tat org.springframework.core.type.classreading.SimpleMetadataReader.&lt;init&gt;(SimpleMetadataReader.java:50)\r\n    \t\tat org.springframework.core.type.classreading.SimpleMetadataReaderFactory.getMetadataReader(SimpleMetadataReaderFactory.java:103)\r\n    \t\tat org.springframework.core.type.classreading.CachingMetadataReaderFactory.getMetadataReader(CachingMetadataReaderFactory.java:132)\r\n    \t\tat org.springframework.context.annotation.ClassPathScanningCandidateComponentProvider.scanCandidateComponents(ClassPathScanningCandidateComponentProvider.java:430)\r\n    \t\t... 54 more\r\n    Caused by: java.lang.UnsupportedOperationException: This feature requires ASM8_EXPERIMENTAL\r\n    \tat org.springframework.asm.ClassVisitor.visitRecordComponentExperimental(ClassVisitor.java:305)\r\n    \tat org.springframework.asm.ClassReader.readRecordComponent(ClassReader.java:931)\r\n    \tat org.springframework.asm.ClassReader.accept(ClassReader.java:705)\r\n    \tat org.springframework.asm.ClassReader.accept(ClassReader.java:401)\r\n    \tat org.springframework.core.type.classreading.SimpleMetadataReader.&lt;init&gt;(SimpleMetadataReader.java:50)\r\n    \tat org.springframework.core.type.classreading.SimpleMetadataReaderFactory.getMetadataReader(SimpleMetadataReaderFactory.java:103)\r\n    \tat org.springframework.core.type.classreading.CachingMetadataReaderFactory.getMetadataReader(CachingMetadataReaderFactory.java:132)\r\n    \tat org.springframework.context.annotation.ClassPathScanningCandidateComponentProvider.scanCandidateComponents(ClassPathScanningCandidateComponentProvider.java:430)\r\n    \t... 54 more\r\n    \r\n    Process finished with exit code 255\r\n\r\n","title":"java.lang.UnsupportedOperationException: This feature requires ASM8_EXPERIMENTAL","body":"<p>I try to run the <a href=\"https://github.com/sleshJdev/incubator/tree/master/spring-jdbc-record-row-mapper\" rel=\"nofollow noreferrer\">application</a> using spring boot + jdk14(records) + junit5 + maven, but unfortunately, I cannot address an issue with asm. In the internet I only could find <a href=\"https://gitlab.ow2.org/asm/asm/commit/f14f4bac065781b3ac0bf20b00073e8151cf0b9a\" rel=\"nofollow noreferrer\">this</a> asm GitLab commit. Afaik this is an experimental feature and there is no official build. So, then what is the way to run project on jdk14?</p>\n\n<p>Find below a stacktrace:</p>\n\n<pre><code>org.springframework.beans.factory.BeanDefinitionStoreException: Failed to read candidate component class: file [/Workspace/incubator/spring-jdbc-record-row-mapper/target/test-classes/by/slesh/spring/jdbc/core/Billionaire.class]; nested exception is java.lang.UnsupportedOperationException: This feature requires ASM8_EXPERIMENTAL\n\nat org.springframework.context.annotation.ClassPathScanningCandidateComponentProvider.scanCandidateComponents(ClassPathScanningCandidateComponentProvider.java:454)\nat org.springframework.context.annotation.ClassPathScanningCandidateComponentProvider.findCandidateComponents(ClassPathScanningCandidateComponentProvider.java:316)\nat org.springframework.boot.test.context.AnnotatedClassFinder.scanPackage(AnnotatedClassFinder.java:90)\nat org.springframework.boot.test.context.AnnotatedClassFinder.findFromPackage(AnnotatedClassFinder.java:82)\nat org.springframework.boot.test.context.AnnotatedClassFinder.findFromClass(AnnotatedClassFinder.java:68)\nat org.springframework.boot.test.context.SpringBootTestContextBootstrapper.getOrFindConfigurationClasses(SpringBootTestContextBootstrapper.java:232)\nat org.springframework.boot.test.context.SpringBootTestContextBootstrapper.processMergedContextConfiguration(SpringBootTestContextBootstrapper.java:149)\nat org.springframework.test.context.support.AbstractTestContextBootstrapper.buildMergedContextConfiguration(AbstractTestContextBootstrapper.java:395)\nat org.springframework.test.context.support.AbstractTestContextBootstrapper.buildMergedContextConfiguration(AbstractTestContextBootstrapper.java:294)\nat org.springframework.test.context.support.AbstractTestContextBootstrapper.buildTestContext(AbstractTestContextBootstrapper.java:108)\nat org.springframework.boot.test.context.SpringBootTestContextBootstrapper.buildTestContext(SpringBootTestContextBootstrapper.java:99)\nat org.springframework.test.context.TestContextManager.&lt;init&gt;(TestContextManager.java:137)\nat org.springframework.test.context.TestContextManager.&lt;init&gt;(TestContextManager.java:122)\nat org.junit.jupiter.engine.execution.ExtensionValuesStore.lambda$getOrComputeIfAbsent$0(ExtensionValuesStore.java:81)\nat org.junit.jupiter.engine.execution.ExtensionValuesStore$MemoizingSupplier.get(ExtensionValuesStore.java:182)\nat org.junit.jupiter.engine.execution.ExtensionValuesStore.getOrComputeIfAbsent(ExtensionValuesStore.java:84)\nat org.junit.jupiter.engine.execution.ExtensionValuesStore.getOrComputeIfAbsent(ExtensionValuesStore.java:88)\nat org.junit.jupiter.engine.execution.NamespaceAwareStore.getOrComputeIfAbsent(NamespaceAwareStore.java:61)\nat org.springframework.test.context.junit.jupiter.SpringExtension.getTestContextManager(SpringExtension.java:213)\nat org.springframework.test.context.junit.jupiter.SpringExtension.beforeAll(SpringExtension.java:77)\nat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeBeforeAllCallbacks$7(ClassBasedTestDescriptor.java:359)\nat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\nat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeBeforeAllCallbacks(ClassBasedTestDescriptor.java:359)\nat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.before(ClassBasedTestDescriptor.java:189)\nat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.before(ClassBasedTestDescriptor.java:78)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:132)\nat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:125)\nat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:135)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:123)\nat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:122)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:80)\nat java.base/java.util.ArrayList.forEach(ArrayList.java:1510)\nat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:139)\nat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:125)\nat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:135)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:123)\nat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:122)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:80)\nat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:32)\nat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\nat org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:51)\nat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:248)\nat org.junit.platform.launcher.core.DefaultLauncher.lambda$execute$5(DefaultLauncher.java:211)\nat \n\norg.junit.platform.launcher.core.DefaultLauncher.withInterceptedStreams(DefaultLauncher.java:226)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:199)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:132)\n    at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:69)\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)\n    at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:230)\n    at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:58)\n    Suppressed: org.springframework.beans.factory.BeanDefinitionStoreException: Failed to read candidate component class: file [/Workspace/incubator/spring-jdbc-record-row-mapper/target/test-classes/by/slesh/spring/jdbc/core/Billionaire.class]; nested exception is java.lang.UnsupportedOperationException: This feature requires ASM8_EXPERIMENTAL\n        at org.springframework.context.annotation.ClassPathScanningCandidateComponentProvider.scanCandidateComponents(ClassPathScanningCandidateComponentProvider.java:454)\n        at org.springframework.context.annotation.ClassPathScanningCandidateComponentProvider.findCandidateComponents(ClassPathScanningCandidateComponentProvider.java:316)\n        at org.springframework.boot.test.context.AnnotatedClassFinder.scanPackage(AnnotatedClassFinder.java:90)\n        at org.springframework.boot.test.context.AnnotatedClassFinder.findFromPackage(AnnotatedClassFinder.java:82)\n        at org.springframework.boot.test.context.AnnotatedClassFinder.findFromClass(AnnotatedClassFinder.java:68)\n        at org.springframework.boot.test.context.SpringBootTestContextBootstrapper.getOrFindConfigurationClasses(SpringBootTestContextBootstrapper.java:232)\n        at org.springframework.boot.test.context.SpringBootTestContextBootstrapper.processMergedContextConfiguration(SpringBootTestContextBootstrapper.java:149)\n        at org.springframework.test.context.support.AbstractTestContextBootstrapper.buildMergedContextConfiguration(AbstractTestContextBootstrapper.java:395)\n        at org.springframework.test.context.support.AbstractTestContextBootstrapper.buildMergedContextConfiguration(AbstractTestContextBootstrapper.java:294)\n        at org.springframework.test.context.support.AbstractTestContextBootstrapper.buildTestContext(AbstractTestContextBootstrapper.java:108)\n        at org.springframework.boot.test.context.SpringBootTestContextBootstrapper.buildTestContext(SpringBootTestContextBootstrapper.java:99)\n        at org.springframework.test.context.TestContextManager.&lt;init&gt;(TestContextManager.java:137)\n        at org.springframework.test.context.TestContextManager.&lt;init&gt;(TestContextManager.java:122)\n        at org.junit.jupiter.engine.execution.ExtensionValuesStore.lambda$getOrComputeIfAbsent$0(ExtensionValuesStore.java:81)\n        at org.junit.jupiter.engine.execution.ExtensionValuesStore$MemoizingSupplier.get(ExtensionValuesStore.java:182)\n        at org.junit.jupiter.engine.execution.ExtensionValuesStore.remove(ExtensionValuesStore.java:98)\n        at org.junit.jupiter.engine.execution.NamespaceAwareStore.remove(NamespaceAwareStore.java:73)\n        at org.springframework.test.context.junit.jupiter.SpringExtension.afterAll(SpringExtension.java:89)\n        at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeAfterAllCallbacks$13(ClassBasedTestDescriptor.java:425)\n        at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n        at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeAfterAllCallbacks$14(ClassBasedTestDescriptor.java:425)\n        at java.base/java.util.ArrayList.forEach(ArrayList.java:1510)\n        at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeAfterAllCallbacks(ClassBasedTestDescriptor.java:425)\n        at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.after(ClassBasedTestDescriptor.java:213)\n        at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.after(ClassBasedTestDescriptor.java:78)\n        at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:145)\n        at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n        at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:145)\n        ... 27 more\n    Caused by: java.lang.UnsupportedOperationException: This feature requires ASM8_EXPERIMENTAL\n        at org.springframework.asm.ClassVisitor.visitRecordComponentExperimental(ClassVisitor.java:305)\n        at org.springframework.asm.ClassReader.readRecordComponent(ClassReader.java:931)\n        at org.springframework.asm.ClassReader.accept(ClassReader.java:705)\n        at org.springframework.asm.ClassReader.accept(ClassReader.java:401)\n        at org.springframework.core.type.classreading.SimpleMetadataReader.&lt;init&gt;(SimpleMetadataReader.java:50)\n        at org.springframework.core.type.classreading.SimpleMetadataReaderFactory.getMetadataReader(SimpleMetadataReaderFactory.java:103)\n        at org.springframework.core.type.classreading.CachingMetadataReaderFactory.getMetadataReader(CachingMetadataReaderFactory.java:132)\n        at org.springframework.context.annotation.ClassPathScanningCandidateComponentProvider.scanCandidateComponents(ClassPathScanningCandidateComponentProvider.java:430)\n        ... 54 more\nCaused by: java.lang.UnsupportedOperationException: This feature requires ASM8_EXPERIMENTAL\n    at org.springframework.asm.ClassVisitor.visitRecordComponentExperimental(ClassVisitor.java:305)\n    at org.springframework.asm.ClassReader.readRecordComponent(ClassReader.java:931)\n    at org.springframework.asm.ClassReader.accept(ClassReader.java:705)\n    at org.springframework.asm.ClassReader.accept(ClassReader.java:401)\n    at org.springframework.core.type.classreading.SimpleMetadataReader.&lt;init&gt;(SimpleMetadataReader.java:50)\n    at org.springframework.core.type.classreading.SimpleMetadataReaderFactory.getMetadataReader(SimpleMetadataReaderFactory.java:103)\n    at org.springframework.core.type.classreading.CachingMetadataReaderFactory.getMetadataReader(CachingMetadataReaderFactory.java:132)\n    at org.springframework.context.annotation.ClassPathScanningCandidateComponentProvider.scanCandidateComponents(ClassPathScanningCandidateComponentProvider.java:430)\n    ... 54 more\n\nProcess finished with exit code 255\n</code></pre>\n"},{"tags":["java","spring-boot","spring-retry","retrypolicy"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1687934085,"post_id":76570474,"comment_id":135004558,"body_markdown":"With what you show here the value is a constant. Please show the actual code and actual error.","body":"With what you show here the value is a constant. Please show the actual code and actual error."},{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1687934459,"post_id":76570474,"comment_id":135004608,"body_markdown":"Update your question to show the actual (relevant) code, then vote to reopen.","body":"Update your question to show the actual (relevant) code, then vote to reopen."},{"owner":{"account_id":9531412,"reputation":2010,"user_id":7082956,"display_name":"Valerij Dobler"},"score":1,"creation_date":1687938630,"post_id":76570474,"comment_id":135005316,"body_markdown":"It&#39;s called Exponential Backoff and you can configure it with the [intervalWithCustomExponentialBackoff](https://resilience4j.readme.io/docs/retry#use-a-custom-intervalfunction).","body":"It&#39;s called Exponential Backoff and you can configure it with the <a href=\"https://resilience4j.readme.io/docs/retry#use-a-custom-intervalfunction\" rel=\"nofollow noreferrer\">intervalWithCustomExponentialBackoff</a>."}],"owner":{"account_id":26189284,"reputation":17,"user_id":19871382,"display_name":"Pip"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":175,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"answer_count":0,"score":0,"last_activity_date":1688648862,"creation_date":1687932661,"question_id":76570474,"body_markdown":"For example, the method was called at 12:00:00 but failed.\r\n\r\nI like it to retry at 12:00:01, 12:00:06, 12:00:16, 12:00:46, 12:01:46\r\n\r\nHow could I make it happen using Spring Retry in Java\r\n\r\nI tried the following Custom BackOff Policy but it shows error:\r\n\r\n```\r\n    @Autowired\r\n    private BackOffPolicy customBackOffPolicy;\r\n\r\n    @Retryable(value = Exception.class, maxAttempts = 6, backoff = @Backoff(customBackOffPolicy))\r\n    public ResponseResult&lt;List&lt;String&gt;&gt; get() {\r\n        System.out.println(&quot;start: &quot; + LocalTime.now());\r\n        ArrayList&lt;String&gt; list = new ArrayList&lt;&gt;(List.of(&quot;A&quot;, &quot;B&quot;, &quot;C&quot;));\r\n        System.out.println(&quot;done&quot;);\r\n        return ResponseResult.success(list);\r\n    }\r\n``` \r\n[![error message][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/dDOxL.png","title":"How to retry 5 times with intervals of 1, 5, 10, 30, 60 seconds using Spring Retry in Java","body":"<p>For example, the method was called at 12:00:00 but failed.</p>\n<p>I like it to retry at 12:00:01, 12:00:06, 12:00:16, 12:00:46, 12:01:46</p>\n<p>How could I make it happen using Spring Retry in Java</p>\n<p>I tried the following Custom BackOff Policy but it shows error:</p>\n<pre><code>    @Autowired\n    private BackOffPolicy customBackOffPolicy;\n\n    @Retryable(value = Exception.class, maxAttempts = 6, backoff = @Backoff(customBackOffPolicy))\n    public ResponseResult&lt;List&lt;String&gt;&gt; get() {\n        System.out.println(&quot;start: &quot; + LocalTime.now());\n        ArrayList&lt;String&gt; list = new ArrayList&lt;&gt;(List.of(&quot;A&quot;, &quot;B&quot;, &quot;C&quot;));\n        System.out.println(&quot;done&quot;);\n        return ResponseResult.success(list);\n    }\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/dDOxL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dDOxL.png\" alt=\"error message\" /></a></p>\n"},{"tags":["java","spring","dependency-injection","properties-file"],"answers":[{"tags":[],"owner":{"account_id":102772,"reputation":5654,"user_id":2032500,"display_name":"Nat Ritmeyer"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1617004629,"creation_date":1617004629,"answer_id":66850562,"question_id":66850561,"body_markdown":"Spring does this out of the box, but arranging it is not all that intuitive.\r\n\r\n## Create your `.properties` file:\r\n\r\nIn this example we&#39;ll create a `habitats.properties` in `/src/main/resources`:\r\n\r\n```properties\r\nmy-habitats={ \\\r\n  home: {&#39;dog&#39;, &#39;cat&#39;, &#39;goldfish&#39;}, \\\r\n  farm: {&#39;sheep&#39;, &#39;goat&#39;}, \\\r\n  zoo: {&#39;lion&#39;, &#39;giraffe&#39;} \\\r\n}\r\n```\r\n\r\n## Create a `@Configuration` class:\r\n\r\n```java\r\n@Configuration\r\n@PropertySource(&quot;classpath:/habitats.properties&quot;)\r\npublic class HabitatConfiguration {\r\n  @Bean\r\n  public Map&lt;String, List&lt;String&gt;&gt; getHabitatConfig(@Value(&quot;#{${my-habitats}}&quot;) Map&lt;String, List&lt;String&gt;&gt; habitats) {\r\n    return habitats;\r\n  }\r\n}\r\n```\r\n\r\n## Inject the map into the `@Component` class:\r\n\r\n```java\r\n@Component\r\npublic class HabitatValidator {\r\n  private final Map&lt;String, List&lt;String&gt;&gt; habitats;\r\n\r\n  @Autowired\r\n  public HabitatValidator(Map&lt;String, List&lt;String&gt;&gt; habitats) {\r\n    this.habitats = habitats;\r\n  }\r\n\r\n  public void validateInput(String habitat, String animal) throws InvalidAnimalHabitatCombinationException {\r\n    if (!habitats.get(habitat).contains(animal)) {\r\n      throw new InvalidAnimalHabitatCombinationException(&quot;You won&#39;t find a &quot; + animal + &quot; in a &quot; + habitat);\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nThat&#39;s it :)\r\n\r\n## Making things a little safer\r\n\r\nFor a little more type safety you could replace the Strings with enums. Just make sure that the values in the properties file line up with the enum entries. E.g.\r\n\r\nWithout changing the contents of the `habitats.properties` file, add the following two enums:\r\n\r\n```java\r\npublic enum Habitat {\r\n  home, farm, zoo\r\n}\r\n\r\npublic enum Animal {\r\n  dog, cat, goldfish, sheep, goat, lion, giraffe\r\n}\r\n```\r\n\r\nThen change the bean method in the configuration class to:\r\n\r\n```java\r\n@Bean\r\npublic Map&lt;Habitat, List&lt;Animal&gt;&gt; getHabitatConfig(@Value(&quot;#{${my-habitats}}&quot;) Map&lt;Habitat, List&lt;Animal&gt;&gt; habitats) {\r\n  return habitats;\r\n}\r\n```\r\n\r\nAnd inject it into the component like this:\r\n\r\n```java\r\nprivate final Map&lt;Habitat, List&lt;Animal&gt;&gt; habitats;\r\n\r\n@Autowired\r\npublic HabitatValidator(Map&lt;Habitat, List&lt;Animal&gt;&gt; habitats) {\r\n  this.habitats = habitats;\r\n}\r\n```\r\n","title":"How do I represent a map of lists in a Spring properties file","body":"<p>Spring does this out of the box, but arranging it is not all that intuitive.</p>\n<h2>Create your <code>.properties</code> file:</h2>\n<p>In this example we'll create a <code>habitats.properties</code> in <code>/src/main/resources</code>:</p>\n<pre><code>my-habitats={ \\\n  home: {'dog', 'cat', 'goldfish'}, \\\n  farm: {'sheep', 'goat'}, \\\n  zoo: {'lion', 'giraffe'} \\\n}\n</code></pre>\n<h2>Create a <code>@Configuration</code> class:</h2>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@PropertySource(&quot;classpath:/habitats.properties&quot;)\npublic class HabitatConfiguration {\n  @Bean\n  public Map&lt;String, List&lt;String&gt;&gt; getHabitatConfig(@Value(&quot;#{${my-habitats}}&quot;) Map&lt;String, List&lt;String&gt;&gt; habitats) {\n    return habitats;\n  }\n}\n</code></pre>\n<h2>Inject the map into the <code>@Component</code> class:</h2>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\npublic class HabitatValidator {\n  private final Map&lt;String, List&lt;String&gt;&gt; habitats;\n\n  @Autowired\n  public HabitatValidator(Map&lt;String, List&lt;String&gt;&gt; habitats) {\n    this.habitats = habitats;\n  }\n\n  public void validateInput(String habitat, String animal) throws InvalidAnimalHabitatCombinationException {\n    if (!habitats.get(habitat).contains(animal)) {\n      throw new InvalidAnimalHabitatCombinationException(&quot;You won't find a &quot; + animal + &quot; in a &quot; + habitat);\n    }\n  }\n}\n</code></pre>\n<p>That's it :)</p>\n<h2>Making things a little safer</h2>\n<p>For a little more type safety you could replace the Strings with enums. Just make sure that the values in the properties file line up with the enum entries. E.g.</p>\n<p>Without changing the contents of the <code>habitats.properties</code> file, add the following two enums:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public enum Habitat {\n  home, farm, zoo\n}\n\npublic enum Animal {\n  dog, cat, goldfish, sheep, goat, lion, giraffe\n}\n</code></pre>\n<p>Then change the bean method in the configuration class to:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\npublic Map&lt;Habitat, List&lt;Animal&gt;&gt; getHabitatConfig(@Value(&quot;#{${my-habitats}}&quot;) Map&lt;Habitat, List&lt;Animal&gt;&gt; habitats) {\n  return habitats;\n}\n</code></pre>\n<p>And inject it into the component like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private final Map&lt;Habitat, List&lt;Animal&gt;&gt; habitats;\n\n@Autowired\npublic HabitatValidator(Map&lt;Habitat, List&lt;Animal&gt;&gt; habitats) {\n  this.habitats = habitats;\n}\n</code></pre>\n"}],"owner":{"account_id":102772,"reputation":5654,"user_id":2032500,"display_name":"Nat Ritmeyer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3496,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":66850562,"answer_count":1,"score":0,"last_activity_date":1688648712,"creation_date":1617004629,"question_id":66850561,"body_markdown":"How do I go about representing `Map&lt;String, List&lt;String&gt;&gt;` in a Spring `.properties` file?\r\n\r\nTo give an example scenario of the problem, I&#39;d like to be able to add the following to a `@Component`:\r\n\r\n```java\r\n@Autowired\r\nprivate Map&lt;String, List&lt;String&gt;&gt; animalHabitats;\r\n```\r\n\r\n...and inject into it the following animal habitat info from a `.properties` file:\r\n\r\n* Home: Dog, Cat, Goldfish\r\n* Farm: Sheep, Goat\r\n* Zoo: Lion, Giraffe","title":"How do I represent a map of lists in a Spring properties file","body":"<p>How do I go about representing <code>Map&lt;String, List&lt;String&gt;&gt;</code> in a Spring <code>.properties</code> file?</p>\n<p>To give an example scenario of the problem, I'd like to be able to add the following to a <code>@Component</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Autowired\nprivate Map&lt;String, List&lt;String&gt;&gt; animalHabitats;\n</code></pre>\n<p>...and inject into it the following animal habitat info from a <code>.properties</code> file:</p>\n<ul>\n<li>Home: Dog, Cat, Goldfish</li>\n<li>Farm: Sheep, Goat</li>\n<li>Zoo: Lion, Giraffe</li>\n</ul>\n"},{"tags":["java","android","kotlin","okhttp","photo-picker"],"answers":[{"tags":[],"owner":{"account_id":6860654,"reputation":21,"user_id":5274775,"display_name":"Yoko999"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1688648666,"creation_date":1688648666,"answer_id":76629154,"question_id":76627095,"body_markdown":"Well, found solution: grant read uri permission\r\n\r\n      private void onImagePicked(Uri imgUri){\r\n        if(imgUri!=null) {\r\n          try {\r\n\r\n            grantUriPermission(getPackageName(),imgUri,Intent.FLAG_GRANT_READ_URI_PERMISSION);\r\n\r\n            File imgFile = FilesHelper.INSTANCE.getFileFromUri(this, imgUri);\r\n            postBody.setPhoto(imgFile);\r\n          } catch (Exception e) {\r\n            ...\r\n          }\r\n        }\r\n      }","title":"Getting error &quot;open failed: EFAULT (Bad address)&quot; when okhttp tries to send choosed from PhotoPicker image","body":"<p>Well, found solution: grant read uri permission</p>\n<pre><code>  private void onImagePicked(Uri imgUri){\n    if(imgUri!=null) {\n      try {\n\n        grantUriPermission(getPackageName(),imgUri,Intent.FLAG_GRANT_READ_URI_PERMISSION);\n\n        File imgFile = FilesHelper.INSTANCE.getFileFromUri(this, imgUri);\n        postBody.setPhoto(imgFile);\n      } catch (Exception e) {\n        ...\n      }\n    }\n  }\n</code></pre>\n"}],"owner":{"account_id":6860654,"reputation":21,"user_id":5274775,"display_name":"Yoko999"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":290,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76629154,"answer_count":1,"score":0,"last_activity_date":1688648666,"creation_date":1688633522,"question_id":76627095,"body_markdown":"This error occurs ONLY when an image was choosed from Photo Picker on android 13 (on versions without Photo Picker all works!).\r\n\r\n**What does code:**\r\n\r\nUser picks image from Photo Picker.\r\n\r\nGet image&#39;s uri and save file in body, there all is working too:\r\n\r\n```\r\nFile imgFile = FilesHelper.INSTANCE.getFileFromUri(this, imgUri); \r\npostBody.setPhoto(imgFile);\r\n```\r\n\r\n```\r\n@Throws(Exception::class)\r\nfun getFileFromUri(context: Context, uri: Uri): File? {\r\n    var path: String? = null\r\n    if (&quot;content&quot;.equals(uri.scheme, ignoreCase = true)) {\r\n        path = getDataColumn(context, uri, null, null)\r\n    } else if (&quot;file&quot;.equals(uri.scheme, ignoreCase = true)) {\r\n        path = uri.path\r\n    }\r\n    return if (!path.isNullOrEmpty()) File(path) else null\r\n}\r\n\r\nprivate fun getDataColumn(context: Context, uri: Uri, \r\n                          selection: String?, selectionArgs: Array&lt;String?&gt;?): String? {\r\n    var cursor: Cursor? = null\r\n    val column = MediaStore.Images.Media.DATA\r\n    val projection = arrayOf(column)\r\n    try {\r\n        cursor = context.contentResolver.query(uri, projection, selection, selectionArgs, null)\r\n        if (cursor != null &amp;&amp; cursor.moveToFirst()) {\r\n            val column_index = cursor.getColumnIndexOrThrow(column)\r\n            return cursor.getString(column_index)\r\n        }\r\n    } finally {\r\n        cursor?.close()\r\n    }\r\n    return null\r\n}\r\n```\r\n\r\nBut when body is sending as multipart,\r\n\r\n```\r\nfinal Map&lt;String, RequestBody&gt; multipart = new HashMap&lt;&gt;(2);\r\nmultipart.put(&quot;product&quot;,\r\n            RequestBody.create(MediaType.parse(&quot;application/json&quot;),\r\n            BaseApplication.getGson().toJson(postBody)));\r\nmultipart.put(&quot;image\\&quot;; filename=\\&quot;%1.jpg\\&quot;&quot;,\r\n            RequestBody.create(MediaType.parse(&quot;image/jpeg&quot;),\r\n            postBody.getPhoto())); // type File\r\n....  \r\nserverApi.sendBody(multipart); \r\n....\r\n```\r\n\r\na warning was shown in logCat:\r\n\r\n`*`\r\n`/sdcard/.transforms/synthetic/picker/0/com.android.providers.media.photopicker/media/1000000019.jpg: open failed: EFAULT (Bad address)*`\r\n\r\nand then retrofit/okhttp throws exception.\r\n\r\nRetrofit version &quot;com.squareup.retrofit2:retrofit:2.9.0&quot;\r\n\r\nPermissions in AndroidManifest, which are given before picking image:\r\n\r\n```\r\n&lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\r\n&lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\r\n&lt;!--Android 13 permissions--&gt;\r\n&lt;uses-permission android:name=&quot;android.permission.READ_MEDIA_IMAGES&quot;/&gt;\r\n```\r\n\r\nAnd\r\n` android:requestLegacyExternalStorage=&quot;true&quot;`\r\n in \\&lt;application\\&gt; too.\r\n\r\nAsking permissions:\r\n\r\n```\r\nif (VERSION.SDK_INT &gt;= 33) arrayOf(Manifest.permission.READ_MEDIA_IMAGES) else arrayOf(Manifest.permission.READ_EXTERNAL_STORAGE)\r\n```\r\n\r\nCan I get and send that image without using MANAGE_EXTERNAL_STORAGE permission? Because application distributes via Google Play and is not files manager or something like that.\r\nMaybe I should copy file in app&#39;s internal files dir or what?","title":"Getting error &quot;open failed: EFAULT (Bad address)&quot; when okhttp tries to send choosed from PhotoPicker image","body":"<p>This error occurs ONLY when an image was choosed from Photo Picker on android 13 (on versions without Photo Picker all works!).</p>\n<p><strong>What does code:</strong></p>\n<p>User picks image from Photo Picker.</p>\n<p>Get image's uri and save file in body, there all is working too:</p>\n<pre><code>File imgFile = FilesHelper.INSTANCE.getFileFromUri(this, imgUri); \npostBody.setPhoto(imgFile);\n</code></pre>\n<pre><code>@Throws(Exception::class)\nfun getFileFromUri(context: Context, uri: Uri): File? {\n    var path: String? = null\n    if (&quot;content&quot;.equals(uri.scheme, ignoreCase = true)) {\n        path = getDataColumn(context, uri, null, null)\n    } else if (&quot;file&quot;.equals(uri.scheme, ignoreCase = true)) {\n        path = uri.path\n    }\n    return if (!path.isNullOrEmpty()) File(path) else null\n}\n\nprivate fun getDataColumn(context: Context, uri: Uri, \n                          selection: String?, selectionArgs: Array&lt;String?&gt;?): String? {\n    var cursor: Cursor? = null\n    val column = MediaStore.Images.Media.DATA\n    val projection = arrayOf(column)\n    try {\n        cursor = context.contentResolver.query(uri, projection, selection, selectionArgs, null)\n        if (cursor != null &amp;&amp; cursor.moveToFirst()) {\n            val column_index = cursor.getColumnIndexOrThrow(column)\n            return cursor.getString(column_index)\n        }\n    } finally {\n        cursor?.close()\n    }\n    return null\n}\n</code></pre>\n<p>But when body is sending as multipart,</p>\n<pre><code>final Map&lt;String, RequestBody&gt; multipart = new HashMap&lt;&gt;(2);\nmultipart.put(&quot;product&quot;,\n            RequestBody.create(MediaType.parse(&quot;application/json&quot;),\n            BaseApplication.getGson().toJson(postBody)));\nmultipart.put(&quot;image\\&quot;; filename=\\&quot;%1.jpg\\&quot;&quot;,\n            RequestBody.create(MediaType.parse(&quot;image/jpeg&quot;),\n            postBody.getPhoto())); // type File\n....  \nserverApi.sendBody(multipart); \n....\n</code></pre>\n<p>a warning was shown in logCat:</p>\n<p><code>*</code>\n<code>/sdcard/.transforms/synthetic/picker/0/com.android.providers.media.photopicker/media/1000000019.jpg: open failed: EFAULT (Bad address)*</code></p>\n<p>and then retrofit/okhttp throws exception.</p>\n<p>Retrofit version &quot;com.squareup.retrofit2:retrofit:2.9.0&quot;</p>\n<p>Permissions in AndroidManifest, which are given before picking image:</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\n&lt;!--Android 13 permissions--&gt;\n&lt;uses-permission android:name=&quot;android.permission.READ_MEDIA_IMAGES&quot;/&gt;\n</code></pre>\n<p>And\n<code> android:requestLegacyExternalStorage=&quot;true&quot;</code>\nin &lt;application&gt; too.</p>\n<p>Asking permissions:</p>\n<pre><code>if (VERSION.SDK_INT &gt;= 33) arrayOf(Manifest.permission.READ_MEDIA_IMAGES) else arrayOf(Manifest.permission.READ_EXTERNAL_STORAGE)\n</code></pre>\n<p>Can I get and send that image without using MANAGE_EXTERNAL_STORAGE permission? Because application distributes via Google Play and is not files manager or something like that.\nMaybe I should copy file in app's internal files dir or what?</p>\n"},{"tags":["java","generics","functional-programming","vavr"],"answers":[{"tags":[],"owner":{"account_id":2853075,"reputation":7038,"user_id":2699901,"display_name":"N&#225;ndor Előd Fekete"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1688648277,"creation_date":1688648277,"answer_id":76629093,"question_id":76620623,"body_markdown":"I would suggest to get rid of all the wildcards for the left side of the `Either`, as they seem unnecessary to me. It just needlessly complicates your types without adding any real benefit.\r\n\r\nThe issue in your code is that `? extends SomeType` is not assignment compatible with `? extends Sometype`, which makes sense, since _an unknown subtype of some type_ is not necessarily assignment compatible with _an unknown subtype of the same type_. While the base type in both cases is the same, the unknown subtype might be different, hence the resulting incompatibility and compilation error.\r\n\r\nIf you transform your code in the following way (with the necessary changes in related code), it will compile:\r\n\r\n\r\n    @Override\r\n    public Either&lt;ApplicationError, Department&gt; createDepartment(CreateDepartmentCommand command) {\r\n        Either&lt;ApplicationError, Department&gt; department = Department.create(command.id(), command.name());\r\n        Either&lt;ApplicationError, Department&gt; createdDepartment = department.flatMap((Department dep) -&gt; {\r\n            Optional&lt;Department&gt; existingDepartment = getDepartmentDrivenPort.getByName(command.name());\r\n            if (existingDepartment.isPresent()) {\r\n                Either&lt;ApplicationError, Department&gt; left = Either.left(new DepartmentExistsError());\r\n                return left;\r\n            } else {\r\n                Either&lt;ApplicationError, Department&gt; right = Either.right(createDepartmentDrivenPort.create(dep));\r\n                return right;\r\n            }\r\n        });\r\n\r\n        return createdDepartment;\r\n    }\r\n","title":"Either flatmap type mix-up in Vavr","body":"<p>I would suggest to get rid of all the wildcards for the left side of the <code>Either</code>, as they seem unnecessary to me. It just needlessly complicates your types without adding any real benefit.</p>\n<p>The issue in your code is that <code>? extends SomeType</code> is not assignment compatible with <code>? extends Sometype</code>, which makes sense, since <em>an unknown subtype of some type</em> is not necessarily assignment compatible with <em>an unknown subtype of the same type</em>. While the base type in both cases is the same, the unknown subtype might be different, hence the resulting incompatibility and compilation error.</p>\n<p>If you transform your code in the following way (with the necessary changes in related code), it will compile:</p>\n<pre><code>@Override\npublic Either&lt;ApplicationError, Department&gt; createDepartment(CreateDepartmentCommand command) {\n    Either&lt;ApplicationError, Department&gt; department = Department.create(command.id(), command.name());\n    Either&lt;ApplicationError, Department&gt; createdDepartment = department.flatMap((Department dep) -&gt; {\n        Optional&lt;Department&gt; existingDepartment = getDepartmentDrivenPort.getByName(command.name());\n        if (existingDepartment.isPresent()) {\n            Either&lt;ApplicationError, Department&gt; left = Either.left(new DepartmentExistsError());\n            return left;\n        } else {\n            Either&lt;ApplicationError, Department&gt; right = Either.right(createDepartmentDrivenPort.create(dep));\n            return right;\n        }\n    });\n\n    return createdDepartment;\n}\n</code></pre>\n"}],"owner":{"account_id":1917510,"reputation":23561,"user_id":1729795,"accept_rate":83,"display_name":"codependent"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76629093,"answer_count":1,"score":0,"last_activity_date":1688648277,"creation_date":1688562202,"question_id":76620623,"body_markdown":"Sample available here: https://github.com/codependent/hexapp-java/blob/vavr/src/main/java/com/codependent/hexapp/application/port/in/impl/CreateDepartmentUseCaseImpl.java\r\n\r\nI have chained Either operations that require the usage of Either.flatmap:\r\n\r\n```\r\n    @Override\r\n    public Either&lt;? extends ApplicationError, Department&gt; createDepartment(CreateDepartmentCommand command) {\r\n        Either&lt;? extends ApplicationError, Department&gt; department = Department.create(command.id(), command.name());\r\n        Either&lt;? extends ApplicationError, Department&gt; createdDepartment = department.flatMap((Department dep) -&gt; {\r\n            Optional&lt;Department&gt; existingDepartment = getDepartmentDrivenPort.getByName(command.name());\r\n            if (existingDepartment.isPresent()) {\r\n                Either&lt;? extends ApplicationError, Department&gt; left = Either.left(new DepartmentExistsError());\r\n                return left;\r\n            } else {\r\n                Either&lt;? extends ApplicationError, Department&gt; right = createDepartmentDrivenPort.create(dep);\r\n                return right;\r\n            }\r\n        });        \r\n         \r\n        return createdDepartment;\r\n    }\r\n```\r\n\r\nThis code shows this compilation error:\r\n\r\n```\r\njava: method flatMap in interface io.vavr.control.Either&lt;L,R&gt; cannot be applied to given types;\r\n  required: java.util.function.Function&lt;? super com.codependent.hexapp.application.domain.Department,? extends io.vavr.control.Either&lt;capture#1 of ? extends com.codependent.hexapp.application.domain.error.ApplicationError,? extends U&gt;&gt;\r\n  found:    (Departmen[...]; } }\r\n  reason: cannot infer type-variable(s) U\r\n    (argument mismatch; bad return type in lambda expression\r\n      io.vavr.control.Either&lt;capture#2 of ? extends com.codependent.hexapp.application.domain.error.ApplicationError,com.codependent.hexapp.application.domain.Department&gt; cannot be converted to io.vavr.control.Either&lt;capture#1 of ? extends com.codependent.hexapp.application.domain.error.ApplicationError,? extends U&gt;)\r\n```\r\n\r\nI can&#39;t see whats the problem here since U is `Department`...\r\n\r\nI also tried autogenerating the Function using IntelliJ&#39;s assistant but this code doesn&#39;t compile either:\r\n\r\n```\r\n        department.flatMap(new Function&lt;Department, Either&lt;? extends ApplicationError, ?&gt;&gt;() {\r\n            @Override\r\n            public Either&lt;? extends ApplicationError, ?&gt; apply(Department department) {\r\n                return null;\r\n            }\r\n        });\r\n\r\n```\r\n\r\n```\r\njava: method flatMap in interface io.vavr.control.Either&lt;L,R&gt; cannot be applied to given types;\r\n  required: java.util.function.Function&lt;? super com.codependent.hexapp.application.domain.Department,? extends io.vavr.control.Either&lt;capture#1 of ? extends com.codependent.hexapp.application.domain.error.ApplicationError,? extends U&gt;&gt;\r\n  found:    &lt;anonymous java.util.function.Function&lt;com.codependent.hexapp.application.domain.Department,io.vavr.control.Either&lt;? extends com.codependent.hexapp.application.domain.error.ApplicationError,?&gt;&gt;&gt;\r\n  reason: cannot infer type-variable(s) U\r\n    (argument mis\r\n```\r\n\r\n","title":"Either flatmap type mix-up in Vavr","body":"<p>Sample available here: <a href=\"https://github.com/codependent/hexapp-java/blob/vavr/src/main/java/com/codependent/hexapp/application/port/in/impl/CreateDepartmentUseCaseImpl.java\" rel=\"nofollow noreferrer\">https://github.com/codependent/hexapp-java/blob/vavr/src/main/java/com/codependent/hexapp/application/port/in/impl/CreateDepartmentUseCaseImpl.java</a></p>\n<p>I have chained Either operations that require the usage of Either.flatmap:</p>\n<pre><code>    @Override\n    public Either&lt;? extends ApplicationError, Department&gt; createDepartment(CreateDepartmentCommand command) {\n        Either&lt;? extends ApplicationError, Department&gt; department = Department.create(command.id(), command.name());\n        Either&lt;? extends ApplicationError, Department&gt; createdDepartment = department.flatMap((Department dep) -&gt; {\n            Optional&lt;Department&gt; existingDepartment = getDepartmentDrivenPort.getByName(command.name());\n            if (existingDepartment.isPresent()) {\n                Either&lt;? extends ApplicationError, Department&gt; left = Either.left(new DepartmentExistsError());\n                return left;\n            } else {\n                Either&lt;? extends ApplicationError, Department&gt; right = createDepartmentDrivenPort.create(dep);\n                return right;\n            }\n        });        \n         \n        return createdDepartment;\n    }\n</code></pre>\n<p>This code shows this compilation error:</p>\n<pre><code>java: method flatMap in interface io.vavr.control.Either&lt;L,R&gt; cannot be applied to given types;\n  required: java.util.function.Function&lt;? super com.codependent.hexapp.application.domain.Department,? extends io.vavr.control.Either&lt;capture#1 of ? extends com.codependent.hexapp.application.domain.error.ApplicationError,? extends U&gt;&gt;\n  found:    (Departmen[...]; } }\n  reason: cannot infer type-variable(s) U\n    (argument mismatch; bad return type in lambda expression\n      io.vavr.control.Either&lt;capture#2 of ? extends com.codependent.hexapp.application.domain.error.ApplicationError,com.codependent.hexapp.application.domain.Department&gt; cannot be converted to io.vavr.control.Either&lt;capture#1 of ? extends com.codependent.hexapp.application.domain.error.ApplicationError,? extends U&gt;)\n</code></pre>\n<p>I can't see whats the problem here since U is <code>Department</code>...</p>\n<p>I also tried autogenerating the Function using IntelliJ's assistant but this code doesn't compile either:</p>\n<pre><code>        department.flatMap(new Function&lt;Department, Either&lt;? extends ApplicationError, ?&gt;&gt;() {\n            @Override\n            public Either&lt;? extends ApplicationError, ?&gt; apply(Department department) {\n                return null;\n            }\n        });\n\n</code></pre>\n<pre><code>java: method flatMap in interface io.vavr.control.Either&lt;L,R&gt; cannot be applied to given types;\n  required: java.util.function.Function&lt;? super com.codependent.hexapp.application.domain.Department,? extends io.vavr.control.Either&lt;capture#1 of ? extends com.codependent.hexapp.application.domain.error.ApplicationError,? extends U&gt;&gt;\n  found:    &lt;anonymous java.util.function.Function&lt;com.codependent.hexapp.application.domain.Department,io.vavr.control.Either&lt;? extends com.codependent.hexapp.application.domain.error.ApplicationError,?&gt;&gt;&gt;\n  reason: cannot infer type-variable(s) U\n    (argument mis\n</code></pre>\n"},{"tags":["java","generics","quarkus","quarkus-panache"],"comments":[{"owner":{"account_id":2922228,"reputation":61034,"user_id":2504224,"display_name":"geoand"},"score":0,"creation_date":1688639872,"post_id":76626492,"comment_id":135102264,"body_markdown":"`TestEntity` is not an entity. You need to at least annotate it with `@Entity`","body":"<code>TestEntity</code> is not an entity. You need to at least annotate it with <code>@Entity</code>"},{"owner":{"account_id":27070897,"reputation":25,"user_id":20621559,"display_name":"FelixFeuerdorn"},"score":0,"creation_date":1688645482,"post_id":76626492,"comment_id":135103478,"body_markdown":"oh man what a mistake, I sit there several days on it and then the solution really thank you","body":"oh man what a mistake, I sit there several days on it and then the solution really thank you"},{"owner":{"account_id":2922228,"reputation":61034,"user_id":2504224,"display_name":"geoand"},"score":0,"creation_date":1688648300,"post_id":76626492,"comment_id":135104153,"body_markdown":"You are welcome. I added my suggestion as an answer. It would be in the interest of future readers if you accepted it (assuming it solves your problem) so they don&#39;t have to read through the comments.","body":"You are welcome. I added my suggestion as an answer. It would be in the interest of future readers if you accepted it (assuming it solves your problem) so they don&#39;t have to read through the comments."}],"answers":[{"tags":[],"owner":{"account_id":2922228,"reputation":61034,"user_id":2504224,"display_name":"geoand"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1688648247,"creation_date":1688648247,"answer_id":76629087,"question_id":76626492,"body_markdown":"TestEntity is not an entity. You need to at least annotate it with @Entity","title":"Java Quarkus, Create Generic CrudService","body":"<p>TestEntity is not an entity. You need to at least annotate it with @Entity</p>\n"}],"owner":{"account_id":27070897,"reputation":25,"user_id":20621559,"display_name":"FelixFeuerdorn"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":132,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76629087,"answer_count":1,"score":0,"last_activity_date":1688648247,"creation_date":1688628895,"question_id":76626492,"body_markdown":"I want to create a java quarkus project by creating generic classes for myself except for the resource, so I don&#39;t have to implement the service and repository multiple times, just specify the entity classes and choose &quot;standard&quot; implementations. My error is that I get an exception when I want to add an object to the database, error: IllegalArgumentException: &quot;Not an Entity&quot; on TestEntity.\r\n\r\n```\r\n@ApplicationScoped\r\n@Path(&quot;test&quot;)\r\n@Tag(name = &quot;Tests&quot;)\r\n@Consumes(&quot;application/json&quot;)\r\n@Produces(&quot;application/json&quot;)\r\npublic class TestResource{\r\n    \r\n    @Inject\r\n    private TestService testService;\r\n\r\n    @POST\r\n    public Response create(TestEntity te){\r\n        Optional&lt;TestEntity&gt; t = testService.create(te);\r\n        return Response.status(Response.Status.OK).entity(t.get()).build();\r\n    }\r\n}\r\n\r\n@RequestScoped\r\n@Transactional\r\npublic interface IBaseService&lt;TKey, TEntity&gt; {\r\n    \r\n    public Optional&lt;TEntity&gt; create(TEntity entity);\r\n}\r\n\r\n@RequestScoped\r\n@Transactional\r\npublic abstract class BaseService&lt;TKey, TEntity&gt; implements IBaseService&lt;TKey, TEntity&gt;{\r\n\r\n    @Inject IBaseRepository&lt;TKey, TEntity&gt; repository;\r\n    \r\n    public BaseService(){\r\n\r\n    }\r\n\r\n    public Optional&lt;TEntity&gt; create(TEntity e) {\r\n        Optional&lt;TEntity&gt; result = repository.create(e);\r\n        if(result.isPresent()){\r\n            return result;\r\n        }\r\n        return Optional.empty();\r\n    }\r\n}\r\n\r\n@ApplicationScoped\r\npublic class TestService extends BaseService&lt;UUID,TestEntity&gt; {\r\n}\r\n\r\npublic class TestEntity {\r\n    public String s;\r\n    public int i;\r\n    public Object o;\r\n}\r\n\r\n@ApplicationScoped\r\npublic interface IBaseRepository&lt;TKey, TEntity&gt; {\r\n    \r\n    public Optional&lt;TEntity&gt; create(TEntity entity);\r\n}\r\n\r\n@ApplicationScoped\r\npublic interface ITestRepository extends IBaseRepository&lt;UUID,TestEntity&gt; {\r\n}\r\n\r\n@ApplicationScoped\r\npublic abstract class BaseRepository&lt;TKey, TEntity, TEntityDB&gt; implements IBaseRepository&lt;TKey, TEntity&gt;, PanacheRepositoryBase&lt;TEntity, TKey&gt;{\r\n    \r\n    public BaseRepository(){\r\n    }\r\n\r\n    @Override\r\n    public Optional&lt;TEntity&gt; create(TEntity entity) {\r\n        if(entity == null){\r\n            return Optional.empty();\r\n        }\r\n        this.persist(entity);\r\n        return Optional.of(entity);\r\n    }\r\n}\r\n\r\n@ApplicationScoped\r\npublic class TestRepository extends BaseRepository&lt;UUID, TestEntity,TestEntity&gt; {\r\n}\r\n```","title":"Java Quarkus, Create Generic CrudService","body":"<p>I want to create a java quarkus project by creating generic classes for myself except for the resource, so I don't have to implement the service and repository multiple times, just specify the entity classes and choose &quot;standard&quot; implementations. My error is that I get an exception when I want to add an object to the database, error: IllegalArgumentException: &quot;Not an Entity&quot; on TestEntity.</p>\n<pre><code>@ApplicationScoped\n@Path(&quot;test&quot;)\n@Tag(name = &quot;Tests&quot;)\n@Consumes(&quot;application/json&quot;)\n@Produces(&quot;application/json&quot;)\npublic class TestResource{\n    \n    @Inject\n    private TestService testService;\n\n    @POST\n    public Response create(TestEntity te){\n        Optional&lt;TestEntity&gt; t = testService.create(te);\n        return Response.status(Response.Status.OK).entity(t.get()).build();\n    }\n}\n\n@RequestScoped\n@Transactional\npublic interface IBaseService&lt;TKey, TEntity&gt; {\n    \n    public Optional&lt;TEntity&gt; create(TEntity entity);\n}\n\n@RequestScoped\n@Transactional\npublic abstract class BaseService&lt;TKey, TEntity&gt; implements IBaseService&lt;TKey, TEntity&gt;{\n\n    @Inject IBaseRepository&lt;TKey, TEntity&gt; repository;\n    \n    public BaseService(){\n\n    }\n\n    public Optional&lt;TEntity&gt; create(TEntity e) {\n        Optional&lt;TEntity&gt; result = repository.create(e);\n        if(result.isPresent()){\n            return result;\n        }\n        return Optional.empty();\n    }\n}\n\n@ApplicationScoped\npublic class TestService extends BaseService&lt;UUID,TestEntity&gt; {\n}\n\npublic class TestEntity {\n    public String s;\n    public int i;\n    public Object o;\n}\n\n@ApplicationScoped\npublic interface IBaseRepository&lt;TKey, TEntity&gt; {\n    \n    public Optional&lt;TEntity&gt; create(TEntity entity);\n}\n\n@ApplicationScoped\npublic interface ITestRepository extends IBaseRepository&lt;UUID,TestEntity&gt; {\n}\n\n@ApplicationScoped\npublic abstract class BaseRepository&lt;TKey, TEntity, TEntityDB&gt; implements IBaseRepository&lt;TKey, TEntity&gt;, PanacheRepositoryBase&lt;TEntity, TKey&gt;{\n    \n    public BaseRepository(){\n    }\n\n    @Override\n    public Optional&lt;TEntity&gt; create(TEntity entity) {\n        if(entity == null){\n            return Optional.empty();\n        }\n        this.persist(entity);\n        return Optional.of(entity);\n    }\n}\n\n@ApplicationScoped\npublic class TestRepository extends BaseRepository&lt;UUID, TestEntity,TestEntity&gt; {\n}\n</code></pre>\n"},{"tags":["java","gradle","swagger","springfox"],"comments":[{"owner":{"account_id":1628571,"reputation":6081,"user_id":1503570,"accept_rate":51,"display_name":"lorraine batol"},"score":0,"creation_date":1605715568,"post_id":64893920,"comment_id":114737612,"body_markdown":"have you tried without the &#39;project1&#39; in the url?","body":"have you tried without the &#39;project1&#39; in the url?"},{"owner":{"account_id":10959500,"reputation":210,"user_id":8053244,"display_name":"Buda Sergiu Flavius"},"score":0,"creation_date":1606120536,"post_id":64893920,"comment_id":114853655,"body_markdown":"Can you add also the server.servlet.context-path?","body":"Can you add also the server.servlet.context-path?"},{"owner":{"account_id":19947314,"reputation":57,"user_id":14617684,"display_name":"Falvius"},"score":0,"creation_date":1606120602,"post_id":64893920,"comment_id":114853688,"body_markdown":"server.servlet.context-path=/project1/api","body":"server.servlet.context-path=/project1/api"}],"answers":[{"tags":[],"owner":{"account_id":10959500,"reputation":210,"user_id":8053244,"display_name":"Buda Sergiu Flavius"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1606120691,"creation_date":1606120691,"answer_id":64964984,"question_id":64893920,"body_markdown":"Remove &quot;/api&quot; from the server.servlet.context-path .\r\n \r\nSomehow the swagger is in conflict with that part.","title":"No mapping found for / GET / swagger","body":"<p>Remove &quot;/api&quot; from the server.servlet.context-path .</p>\n<p>Somehow the swagger is in conflict with that part.</p>\n"},{"tags":[],"owner":{"account_id":3819568,"reputation":581,"user_id":3167961,"display_name":"ismile47"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1688648050,"creation_date":1688648050,"answer_id":76629064,"question_id":64893920,"body_markdown":"Infinite call to **swagger-ui/null/swagger-resources/configuration/ui**\r\n\r\n\r\nThere was an invalid swagger api endpoint(which was existing before, later deleted) open in chrome and it was continuously trying to hit the wrong endpoint. It took sometime for figure out. Once I closed the chrome tab, the infinite call stopped.\r\n\r\nhttps://github.com/springfox/springfox/issues/1815#issuecomment-530881584","title":"No mapping found for / GET / swagger","body":"<p>Infinite call to <strong>swagger-ui/null/swagger-resources/configuration/ui</strong></p>\n<p>There was an invalid swagger api endpoint(which was existing before, later deleted) open in chrome and it was continuously trying to hit the wrong endpoint. It took sometime for figure out. Once I closed the chrome tab, the infinite call stopped.</p>\n<p><a href=\"https://github.com/springfox/springfox/issues/1815#issuecomment-530881584\" rel=\"nofollow noreferrer\">https://github.com/springfox/springfox/issues/1815#issuecomment-530881584</a></p>\n"}],"owner":{"account_id":19947314,"reputation":57,"user_id":14617684,"display_name":"Falvius"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10955,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":64964984,"answer_count":2,"score":2,"last_activity_date":1688648050,"creation_date":1605705649,"question_id":64893920,"body_markdown":"I am trying to configure swagger for a project but I receive an error infinite times: \r\n```\r\no.s.web.servlet.PageNotFound             : No mapping for GET /project1/api/null/swagger-resources/configuration/ui&quot; \r\no.s.web.servlet.PageNotFound             : No mapping for GET /project1/api/null/swagger-resources/configuration/ui&quot; \r\no.s.web.servlet.PageNotFound             : No mapping for GET /project1/api/null/swagger-resources/configuration/ui&quot; \r\no.s.web.servlet.PageNotFound             : No mapping for GET /project1/api/null/swagger-resources/configuration/ui&quot; \r\n................\r\n```\r\n\r\nI have a multi project layer. The structure is :\r\n\r\nProjectName\r\n\r\n -- project1\r\n           \r\n\r\n      --setting.gradle\r\n\r\n      --build.gradle\r\n -- project2\r\n           \r\n\r\n      --setting.gradle\r\n\r\n      --build.gradle\r\n\r\n--setting.gradle\r\n\r\nIn each build.gradle I have this dependencies: \r\n\r\n    compile group: &#39;io.springfox&#39;, name: &#39;springfox-swagger2&#39;, version: &#39;2.9.2&#39;\r\n    compile group: &#39;io.springfox&#39;, name: &#39;springfox-swagger-ui&#39;, version: &#39;2.9.2&#39;\r\n\r\nThe SwaggerConfiguration class is :\r\n```\r\n@EnableSwagger2\r\n@Configuration\r\npublic class SwaggerConfiguration {\r\n\r\n\t@Bean\r\n\tpublic Docket productApi() {\r\n\t\treturn new Docket(DocumentationType.SWAGGER_2)\r\n\t\t\t\t.select()\r\n\t\t\t\t.apis(RequestHandlerSelectors.any())\r\n\t\t\t\t.paths(PathSelectors.any())\r\n\t\t\t\t.build()\r\n\t\t\t\t.pathMapping(&quot;/&quot;);\r\n\t}\r\n}\r\n```\r\n\r\nAnd also i have a WebConfigure class:\r\n\r\n```\r\n@Configuration\r\n@EnableWebMvc\r\n@Slf4j\r\npublic class WebConfigure extends WebMvcConfigurationSupport {\r\n\t@Bean\r\n\tpublic AuthorizationInterceptor requestInterceptor() {\r\n\t\treturn new AuthorizationInterceptor();\r\n\t}\r\n\r\n\t@Override\r\n\tprotected void addInterceptors(InterceptorRegistry registry) {\r\n\t\tlog.info(&quot;Adding interceptor [{}]&quot;, AuthorizationInterceptor.class.getName());\r\n\t\tregistry.addInterceptor(requestInterceptor());\r\n\t}\r\n\r\n\t@Override\r\n\tprotected void addResourceHandlers(ResourceHandlerRegistry registry) {\r\n\t\tregistry.addResourceHandler(&quot;swagger-ui.html&quot;)\r\n\t\t\t\t.addResourceLocations(&quot;classpath:/META-INF/resources/&quot;);\r\n\t\tregistry.addResourceHandler(&quot;/webjars/**&quot;)\r\n\t\t.addResourceLocations(&quot;classpath:/META-INF/resources/webjars/&quot;);\r\n\t}\r\n}\r\n\r\n```\r\n\r\n\r\nIf I try to access http://localhost:8090/project1/api/swagger-ui.html I receive this error:\r\n\r\n[Swagger error][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ntC4u.png","title":"No mapping found for / GET / swagger","body":"<p>I am trying to configure swagger for a project but I receive an error infinite times:</p>\n<pre><code>o.s.web.servlet.PageNotFound             : No mapping for GET /project1/api/null/swagger-resources/configuration/ui&quot; \no.s.web.servlet.PageNotFound             : No mapping for GET /project1/api/null/swagger-resources/configuration/ui&quot; \no.s.web.servlet.PageNotFound             : No mapping for GET /project1/api/null/swagger-resources/configuration/ui&quot; \no.s.web.servlet.PageNotFound             : No mapping for GET /project1/api/null/swagger-resources/configuration/ui&quot; \n................\n</code></pre>\n<p>I have a multi project layer. The structure is :</p>\n<p>ProjectName</p>\n<p>-- project1</p>\n<pre><code>  --setting.gradle\n\n  --build.gradle\n</code></pre>\n<p>-- project2</p>\n<pre><code>  --setting.gradle\n\n  --build.gradle\n</code></pre>\n<p>--setting.gradle</p>\n<p>In each build.gradle I have this dependencies:</p>\n<pre><code>compile group: 'io.springfox', name: 'springfox-swagger2', version: '2.9.2'\ncompile group: 'io.springfox', name: 'springfox-swagger-ui', version: '2.9.2'\n</code></pre>\n<p>The SwaggerConfiguration class is :</p>\n<pre><code>@EnableSwagger2\n@Configuration\npublic class SwaggerConfiguration {\n\n    @Bean\n    public Docket productApi() {\n        return new Docket(DocumentationType.SWAGGER_2)\n                .select()\n                .apis(RequestHandlerSelectors.any())\n                .paths(PathSelectors.any())\n                .build()\n                .pathMapping(&quot;/&quot;);\n    }\n}\n</code></pre>\n<p>And also i have a WebConfigure class:</p>\n<pre><code>@Configuration\n@EnableWebMvc\n@Slf4j\npublic class WebConfigure extends WebMvcConfigurationSupport {\n    @Bean\n    public AuthorizationInterceptor requestInterceptor() {\n        return new AuthorizationInterceptor();\n    }\n\n    @Override\n    protected void addInterceptors(InterceptorRegistry registry) {\n        log.info(&quot;Adding interceptor [{}]&quot;, AuthorizationInterceptor.class.getName());\n        registry.addInterceptor(requestInterceptor());\n    }\n\n    @Override\n    protected void addResourceHandlers(ResourceHandlerRegistry registry) {\n        registry.addResourceHandler(&quot;swagger-ui.html&quot;)\n                .addResourceLocations(&quot;classpath:/META-INF/resources/&quot;);\n        registry.addResourceHandler(&quot;/webjars/**&quot;)\n        .addResourceLocations(&quot;classpath:/META-INF/resources/webjars/&quot;);\n    }\n}\n\n</code></pre>\n<p>If I try to access http://localhost:8090/project1/api/swagger-ui.html I receive this error:</p>\n<p><a href=\"https://i.stack.imgur.com/ntC4u.png\" rel=\"nofollow noreferrer\">Swagger error</a></p>\n"},{"tags":["java","spring","security","model-view-controller"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1688648586,"post_id":76628950,"comment_id":135104234,"body_markdown":"Put a breakpoint in your `login` method and see what&#39;s happening.","body":"Put a breakpoint in your <code>login</code> method and see what&#39;s happening."}],"answers":[{"tags":[],"owner":{"account_id":28963017,"reputation":1,"user_id":22185128,"display_name":"James "},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688647977,"creation_date":1688647977,"answer_id":76629052,"question_id":76628950,"body_markdown":"Is this error not directly related to not able to establish a connection to your database? Just double check that your Config files are correctly set, your dbs name, username and password as well.\r\n","title":"When I log in, I return to the login page again, despite the fact that the database contains values ​well","body":"<p>Is this error not directly related to not able to establish a connection to your database? Just double check that your Config files are correctly set, your dbs name, username and password as well.</p>\n"}],"owner":{"account_id":24645113,"reputation":1,"user_id":18542852,"display_name":"jeongbae"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1688647977,"creation_date":1688647342,"question_id":76628950,"body_markdown":"\r\n```\r\n--view--\r\n\r\n--login--\r\n\r\n&lt;body&gt;\r\n  &lt;form action=&quot;/login&quot; method=&quot;post&quot;&gt;\r\n    &lt;label for=&quot;email&quot;&gt;Email:&lt;/label&gt;\r\n    &lt;input type=&quot;email&quot; id=&quot;email&quot; name=&quot;email&quot; required&gt;&lt;br&gt;\r\n\r\n    &lt;label for=&quot;password&quot;&gt;Password:&lt;/label&gt;\r\n    &lt;input type=&quot;password&quot; id=&quot;password&quot; name=&quot;password&quot; required&gt;&lt;br&gt;\r\n\r\n    &lt;input type=&quot;submit&quot; value=&quot;Login&quot;&gt;\r\n  &lt;/form&gt;\r\n&lt;/body&gt;\r\n\r\n--main--\r\n\r\n&lt;body&gt;\r\n    &lt;button&gt;&lt;a href=&quot;login&quot;&gt;let&#39;s login&lt;/a&gt;&lt;/button&gt;\r\n    &lt;button&gt;&lt;a href=&quot;join&quot;&gt;let&#39;s join&lt;/a&gt;&lt;/button&gt;\r\n&lt;/body&gt;\r\n\r\n```\r\n\r\n\r\n\r\n```\r\n-- controller -- \r\n@PostMapping(&quot;/login&quot;)\r\n    public String login(@Validated LoginRequestDto dto, HttpSession session) {\r\n        Optional&lt;Member&gt; findMember = memberService.findMemberByEmail(dto.getEmail());\r\n        if (findMember.isPresent()) {\r\n            Member member = findMember.get();\r\n            if (member.getPassword().equals(dto.getPassword())) {\r\n                session.setAttribute(&quot;userId&quot;, dto.getEmail());\r\n                return &quot;redirect:/main&quot;;\r\n            } else {\r\n                return &quot;redirect:/login&quot;;\r\n            }\r\n        } else {\r\n            return &quot;redirect:/login&quot;;\r\n        }\r\n    }\r\n\r\n```\r\n\r\n```\r\n-- security --\r\n\r\n@Bean\r\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n        http\r\n                .csrf().disable()\r\n                .authorizeHttpRequests()\r\n                .requestMatchers(&quot;/&quot;).permitAll()\r\n                .requestMatchers(&quot;/main&quot;).permitAll()\r\n                .requestMatchers(HttpMethod.POST, &quot;/login&quot;).permitAll()\r\n                .requestMatchers(HttpMethod.POST, &quot;/join&quot;).permitAll()\r\n                .requestMatchers(HttpMethod.GET, &quot;/login&quot;).permitAll()\r\n                .requestMatchers(HttpMethod.GET, &quot;/join&quot;).permitAll()\r\n\r\n                .and()\r\n                .formLogin()\r\n                .loginPage(&quot;/login&quot;)\r\n                .loginProcessingUrl(&quot;/login-process&quot;)\r\n                .successHandler(((request, response, authentication) -&gt; {response.sendRedirect(&quot;/&quot;);}))\r\n                .defaultSuccessUrl(&quot;/main&quot;)\r\n                .failureUrl(&quot;/login?error&quot;)\r\n                .permitAll();\r\n\r\n        return http.build();\r\n```\r\n\r\n\r\n\r\nWhen I log in, I return to the login page again, despite the fact that the database contains values ​​well.\r\n\r\nIt seems that Spring Security settings are wrong, but it is difficult to solve because there is not much information about Spring Boot 3.0 or higher.\r\n\r\n","title":"When I log in, I return to the login page again, despite the fact that the database contains values ​well","body":"<pre><code>--view--\n\n--login--\n\n&lt;body&gt;\n  &lt;form action=&quot;/login&quot; method=&quot;post&quot;&gt;\n    &lt;label for=&quot;email&quot;&gt;Email:&lt;/label&gt;\n    &lt;input type=&quot;email&quot; id=&quot;email&quot; name=&quot;email&quot; required&gt;&lt;br&gt;\n\n    &lt;label for=&quot;password&quot;&gt;Password:&lt;/label&gt;\n    &lt;input type=&quot;password&quot; id=&quot;password&quot; name=&quot;password&quot; required&gt;&lt;br&gt;\n\n    &lt;input type=&quot;submit&quot; value=&quot;Login&quot;&gt;\n  &lt;/form&gt;\n&lt;/body&gt;\n\n--main--\n\n&lt;body&gt;\n    &lt;button&gt;&lt;a href=&quot;login&quot;&gt;let's login&lt;/a&gt;&lt;/button&gt;\n    &lt;button&gt;&lt;a href=&quot;join&quot;&gt;let's join&lt;/a&gt;&lt;/button&gt;\n&lt;/body&gt;\n\n</code></pre>\n<pre><code>-- controller -- \n@PostMapping(&quot;/login&quot;)\n    public String login(@Validated LoginRequestDto dto, HttpSession session) {\n        Optional&lt;Member&gt; findMember = memberService.findMemberByEmail(dto.getEmail());\n        if (findMember.isPresent()) {\n            Member member = findMember.get();\n            if (member.getPassword().equals(dto.getPassword())) {\n                session.setAttribute(&quot;userId&quot;, dto.getEmail());\n                return &quot;redirect:/main&quot;;\n            } else {\n                return &quot;redirect:/login&quot;;\n            }\n        } else {\n            return &quot;redirect:/login&quot;;\n        }\n    }\n\n</code></pre>\n<pre><code>-- security --\n\n@Bean\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n        http\n                .csrf().disable()\n                .authorizeHttpRequests()\n                .requestMatchers(&quot;/&quot;).permitAll()\n                .requestMatchers(&quot;/main&quot;).permitAll()\n                .requestMatchers(HttpMethod.POST, &quot;/login&quot;).permitAll()\n                .requestMatchers(HttpMethod.POST, &quot;/join&quot;).permitAll()\n                .requestMatchers(HttpMethod.GET, &quot;/login&quot;).permitAll()\n                .requestMatchers(HttpMethod.GET, &quot;/join&quot;).permitAll()\n\n                .and()\n                .formLogin()\n                .loginPage(&quot;/login&quot;)\n                .loginProcessingUrl(&quot;/login-process&quot;)\n                .successHandler(((request, response, authentication) -&gt; {response.sendRedirect(&quot;/&quot;);}))\n                .defaultSuccessUrl(&quot;/main&quot;)\n                .failureUrl(&quot;/login?error&quot;)\n                .permitAll();\n\n        return http.build();\n</code></pre>\n<p>When I log in, I return to the login page again, despite the fact that the database contains values ​​well.</p>\n<p>It seems that Spring Security settings are wrong, but it is difficult to solve because there is not much information about Spring Boot 3.0 or higher.</p>\n"},{"tags":["java","ssl-certificate","mqtt","paho"],"answers":[{"tags":[],"owner":{"account_id":236814,"reputation":55963,"user_id":504554,"accept_rate":100,"display_name":"hardillb"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1688647876,"creation_date":1632486632,"answer_id":69315062,"question_id":69313281,"body_markdown":"Unfortunately it&#39;s not that simple.\r\nYou are going to need to create an instance of a `SSLSocketFactory` that has a custom `TrustStore` that points to your CA certificate. You then pass this `SSLSocketFactory` to the `MqttClient` as an option in `MqttConnectOptions`.\r\n\r\nSomething a little like (this has no exception handling, will need wrapping in appropriate try/catch block)\r\n\r\n\r\n    KeyStore trustStore = KeyStore.getInstance(KeyStore.getDefaultType());\r\n    trustStore.load(null,null);\r\n    trustStore.setCertificateEntry(&quot;Custom CA&quot;, (X509Certificate) CertificateFactory.getInstance(&quot;X509&quot;).generateCertificate(new FileInputStream(&quot;/home/ca.crt&quot;)));\r\n    \r\n    TrustManagerFactory tmf = TrustManagerFactory.getInstance(TrustManagerFactory.getDefaultAlgorithm());\r\n    tmf.init(trustStore);\r\n    TrustManager[] trustManagers = tmf.getTrustManagers();\r\n    \r\n    SSLContext sslContext = SSLContext.getInstance(&quot;SSL&quot;);\r\n    sslContext.init(null, trustManagers, null);\r\n    SSLSocketFactory sslSocketFactory =  sslContext.getSocketFactory();\r\n\r\n    //where options is the MqttConnectOptions object\r\n    options.setSocketFactory(sslSocketFactory)","title":"Java mqtt client SSL config with self signed certificate","body":"<p>Unfortunately it's not that simple.\nYou are going to need to create an instance of a <code>SSLSocketFactory</code> that has a custom <code>TrustStore</code> that points to your CA certificate. You then pass this <code>SSLSocketFactory</code> to the <code>MqttClient</code> as an option in <code>MqttConnectOptions</code>.</p>\n<p>Something a little like (this has no exception handling, will need wrapping in appropriate try/catch block)</p>\n<pre><code>KeyStore trustStore = KeyStore.getInstance(KeyStore.getDefaultType());\ntrustStore.load(null,null);\ntrustStore.setCertificateEntry(&quot;Custom CA&quot;, (X509Certificate) CertificateFactory.getInstance(&quot;X509&quot;).generateCertificate(new FileInputStream(&quot;/home/ca.crt&quot;)));\n\nTrustManagerFactory tmf = TrustManagerFactory.getInstance(TrustManagerFactory.getDefaultAlgorithm());\ntmf.init(trustStore);\nTrustManager[] trustManagers = tmf.getTrustManagers();\n\nSSLContext sslContext = SSLContext.getInstance(&quot;SSL&quot;);\nsslContext.init(null, trustManagers, null);\nSSLSocketFactory sslSocketFactory =  sslContext.getSocketFactory();\n\n//where options is the MqttConnectOptions object\noptions.setSocketFactory(sslSocketFactory)\n</code></pre>\n"}],"owner":{"account_id":18235814,"reputation":59,"user_id":13273846,"display_name":"BrentL"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1814,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1688647876,"creation_date":1632478328,"question_id":69313281,"body_markdown":"This is an example of what I want to achieve:\r\n\r\n\tMqttClient client = new MqttClient(&quot;ssl://127.0.0.1:8883&quot;, &quot;randomId&quot;);\r\n\tclient.setCallback(new MyCallback());\r\n\tMqttConnectOptions options = new MqttConnectOptions();\r\n\toptions.setConnectionTimeout(60);\r\n\toptions.setKeepAliveInterval(60);\r\n    //Something like this\r\n\t//options.setSSLProperties(sslProperties());\r\n\tclient.connect(options);\r\n\tclient.subscribe(&quot;topic&quot;, 0);\r\n\r\n```\r\n    private Properties sslProperties() {\r\n        Properties properties = new Properties();\r\n        properties.put(SSLSocketFactoryFactory.CA, &quot;/home/ca.crt&quot;);\r\n    }\r\n```\r\n\r\nI&#39;m using a tool called MQTTfx. I only have to point to my ca.crt file and it connects to my mosquitto broker. How would I be able to specify my certificate file in Java?\r\n\r\n This is what my mosquitto config looks like:\r\n```\r\nport 8883\r\n\r\ncafile /etc/mosquitto/ca_certificates/ca.crt\r\nkeyfile /etc/mosquitto/certs/server.key\r\ncertfile /etc/mosquitto/certs/server.crt\r\n```","title":"Java mqtt client SSL config with self signed certificate","body":"<p>This is an example of what I want to achieve:</p>\n<pre><code>MqttClient client = new MqttClient(&quot;ssl://127.0.0.1:8883&quot;, &quot;randomId&quot;);\nclient.setCallback(new MyCallback());\nMqttConnectOptions options = new MqttConnectOptions();\noptions.setConnectionTimeout(60);\noptions.setKeepAliveInterval(60);\n//Something like this\n//options.setSSLProperties(sslProperties());\nclient.connect(options);\nclient.subscribe(&quot;topic&quot;, 0);\n</code></pre>\n<pre><code>    private Properties sslProperties() {\n        Properties properties = new Properties();\n        properties.put(SSLSocketFactoryFactory.CA, &quot;/home/ca.crt&quot;);\n    }\n</code></pre>\n<p>I'm using a tool called MQTTfx. I only have to point to my ca.crt file and it connects to my mosquitto broker. How would I be able to specify my certificate file in Java?</p>\n<p>This is what my mosquitto config looks like:</p>\n<pre><code>port 8883\n\ncafile /etc/mosquitto/ca_certificates/ca.crt\nkeyfile /etc/mosquitto/certs/server.key\ncertfile /etc/mosquitto/certs/server.crt\n</code></pre>\n"},{"tags":["java","spring-boot","tomcat","netbeans"],"comments":[{"owner":{"account_id":1367329,"reputation":2140,"user_id":1303506,"accept_rate":84,"display_name":"Sanyam Goel"},"score":0,"creation_date":1688648948,"post_id":76629035,"comment_id":135104310,"body_markdown":"is this specific to netbeans or does the project has same issue on another ide like eclipse too ?","body":"is this specific to netbeans or does the project has same issue on another ide like eclipse too ?"},{"owner":{"account_id":28962963,"reputation":1,"user_id":22185078,"display_name":"Diana M."},"score":0,"creation_date":1688738997,"post_id":76629035,"comment_id":135118349,"body_markdown":"I didn&#39;t tested with other IDE&#39;s","body":"I didn&#39;t tested with other IDE&#39;s"},{"owner":{"account_id":28962963,"reputation":1,"user_id":22185078,"display_name":"Diana M."},"score":0,"creation_date":1688752543,"post_id":76629035,"comment_id":135120933,"body_markdown":"with eclipse worked the connection to oracle database, on netbeans didn&#39;t","body":"with eclipse worked the connection to oracle database, on netbeans didn&#39;t"},{"owner":{"account_id":4783266,"reputation":73,"user_id":3864459,"display_name":"Helder"},"score":0,"creation_date":1689720070,"post_id":76629035,"comment_id":135252777,"body_markdown":"Currently, I&#39;m using it in a project, NetBeans 18 with Spring Boot and with Maven. We had some difficulties, but we are managing to make progress on the project. The packaging is war. To run/debug the project, we use the run/debug file feature, for the file with the main class, annotated with @SpringBootApplication. We have not configured/selected any servers for the project. The Spring team should develop a version of the STS (Spring Tools Suite) for NetBeans.","body":"Currently, I&#39;m using it in a project, NetBeans 18 with Spring Boot and with Maven. We had some difficulties, but we are managing to make progress on the project. The packaging is war. To run/debug the project, we use the run/debug file feature, for the file with the main class, annotated with @SpringBootApplication. We have not configured/selected any servers for the project. The Spring team should develop a version of the STS (Spring Tools Suite) for NetBeans."},{"owner":{"account_id":1212649,"reputation":633,"user_id":1180910,"display_name":"Peter Kipping"},"score":0,"creation_date":1696196471,"post_id":76629035,"comment_id":136119230,"body_markdown":"you can also right click the project node, click properties, then Run, then set the main class.  This will let you push the run button without error.","body":"you can also right click the project node, click properties, then Run, then set the main class.  This will let you push the run button without error."}],"owner":{"account_id":28962963,"reputation":1,"user_id":22185078,"display_name":"Diana M."},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":312,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688647852,"creation_date":1688647852,"question_id":76629035,"body_markdown":"I have problems using the internal servers from spring-boot framework in Netbeans 18. I have generated simple spring-boot project using generator from https://start.spring.io/.\r\nThe project has the following configuration: java language, Maven, Spring Boot 3.2.0, war packaging, Java 20, Spring Web dependency.\r\n\r\nI have JDK 20 installed in windows 11.\r\n\r\nWhen trying to run the project, I don&#39;t select any local server. \r\n\r\nNetbeans says that there is no server configuration on main project. I have a lot of plugins installed in Netbeans (only those that I had needed).\r\n\r\nHow can I make Netbean 18 to see the internal spring-boot server configuration?\r\n\r\nusing internal spring-boot server (tomcat) with Netbean 18","title":"Netbeans 18 and spring-boot","body":"<p>I have problems using the internal servers from spring-boot framework in Netbeans 18. I have generated simple spring-boot project using generator from <a href=\"https://start.spring.io/\" rel=\"nofollow noreferrer\">https://start.spring.io/</a>.\nThe project has the following configuration: java language, Maven, Spring Boot 3.2.0, war packaging, Java 20, Spring Web dependency.</p>\n<p>I have JDK 20 installed in windows 11.</p>\n<p>When trying to run the project, I don't select any local server.</p>\n<p>Netbeans says that there is no server configuration on main project. I have a lot of plugins installed in Netbeans (only those that I had needed).</p>\n<p>How can I make Netbean 18 to see the internal spring-boot server configuration?</p>\n<p>using internal spring-boot server (tomcat) with Netbean 18</p>\n"},{"tags":["java","arrays","algorithm","select","backtracking"],"comments":[{"owner":{"account_id":15586948,"reputation":512,"user_id":22056798,"display_name":"maxplus"},"score":0,"creation_date":1688562727,"post_id":76578754,"comment_id":135089846,"body_markdown":"You should state the problem clearer, I don&#39;t think many readers are willing to parse it from comments inside a code block referring to arrays by names that don&#39;t exist.","body":"You should state the problem clearer, I don&#39;t think many readers are willing to parse it from comments inside a code block referring to arrays by names that don&#39;t exist."},{"owner":{"account_id":15968441,"reputation":373,"user_id":11523294,"display_name":"Criwran"},"score":0,"creation_date":1688563779,"post_id":76578754,"comment_id":135090119,"body_markdown":"I&#39;m sorry. I&#39;ve updated the post again,  hope this will make my intention clearer.","body":"I&#39;m sorry. I&#39;ve updated the post again,  hope this will make my intention clearer."},{"owner":{"account_id":17080101,"reputation":93,"user_id":12358700,"display_name":"Jesse"},"score":0,"creation_date":1688567374,"post_id":76578754,"comment_id":135091085,"body_markdown":"Can you tell more constraints ? such as : `1 &lt;= idArr.length &lt;= 10^3, 1&lt;= idArr[0].length &lt;= 10^6`","body":"Can you tell more constraints ? such as : <code>1 &lt;= idArr.length &lt;= 10^3, 1&lt;= idArr[0].length &lt;= 10^6</code>"},{"owner":{"account_id":15968441,"reputation":373,"user_id":11523294,"display_name":"Criwran"},"score":0,"creation_date":1688569390,"post_id":76578754,"comment_id":135091600,"body_markdown":"Sure. Actually this is to select heros from backpack who math several conditions in a game. `idArr.length` is the count of the conditions, and `idArr[0].length` is the hero count that match the first condition. For example, in above `idArr`, I have 4(`idArr.length`) conditions, and for each condition, there&#39;re `arr[i].length` heros match it.","body":"Sure. Actually this is to select heros from backpack who math several conditions in a game. <code>idArr.length</code> is the count of the conditions, and <code>idArr[0].length</code> is the hero count that match the first condition. For example, in above <code>idArr</code>, I have 4(<code>idArr.length</code>) conditions, and for each condition, there&#39;re <code>arr[i].length</code> heros match it."},{"owner":{"account_id":15968441,"reputation":373,"user_id":11523294,"display_name":"Criwran"},"score":0,"creation_date":1688569590,"post_id":76578754,"comment_id":135091661,"body_markdown":"According to our design, we&#39;ll have 150 heros limit in our backpack,  which means `idArr[i].length` would no more than 150. And we&#39;ll select no more than 5(`finalCount`) heros that match all the conditions. The condition count, which is `idArr.length`, would no more than 4.","body":"According to our design, we&#39;ll have 150 heros limit in our backpack,  which means <code>idArr[i].length</code> would no more than 150. And we&#39;ll select no more than 5(<code>finalCount</code>) heros that match all the conditions. The condition count, which is <code>idArr.length</code>, would no more than 4."},{"owner":{"account_id":4680926,"reputation":2259,"user_id":3789665,"accept_rate":57,"display_name":"greybeard"},"score":0,"creation_date":1688572025,"post_id":76578754,"comment_id":135092246,"body_markdown":"Please introduce your code with a description of what it is to accomplish.","body":"Please introduce your code with a description of what it is to accomplish."},{"owner":{"account_id":15586948,"reputation":512,"user_id":22056798,"display_name":"maxplus"},"score":0,"creation_date":1688585459,"post_id":76578754,"comment_id":135094973,"body_markdown":"So you want to choose heroes from several sets. Each set has a lower and an optional upper bound on the amount of heroes selected from it. Also there is an upper bound on the total amount of heroes selected. Also each hero has a type, and no more than a single hero of a type can be selected. Is this correct? Then it should be at the beginning of your question, I had to deduce it from (still incorrect) comments and the example solution.","body":"So you want to choose heroes from several sets. Each set has a lower and an optional upper bound on the amount of heroes selected from it. Also there is an upper bound on the total amount of heroes selected. Also each hero has a type, and no more than a single hero of a type can be selected. Is this correct? Then it should be at the beginning of your question, I had to deduce it from (still incorrect) comments and the example solution."},{"owner":{"account_id":15586948,"reputation":512,"user_id":22056798,"display_name":"maxplus"},"score":0,"creation_date":1688585545,"post_id":76578754,"comment_id":135094982,"body_markdown":"Do you want to get a single solution (as your question states), or iterate over all solutions without storing them all in memory at the same time?","body":"Do you want to get a single solution (as your question states), or iterate over all solutions without storing them all in memory at the same time?"},{"owner":{"account_id":15968441,"reputation":373,"user_id":11523294,"display_name":"Criwran"},"score":0,"creation_date":1688601714,"post_id":76578754,"comment_id":135096956,"body_markdown":"Yes, your deduction is right.And I want to get a single solution.","body":"Yes, your deduction is right.And I want to get a single solution."},{"owner":{"account_id":17080101,"reputation":93,"user_id":12358700,"display_name":"Jesse"},"score":0,"creation_date":1688631098,"post_id":76578754,"comment_id":135100305,"body_markdown":"What is the range of `typeArr[i][j]` , can i assume that `typeArr[i][j]` not so big, like `1 &lt;= typeArr[i][j] &lt;= 10` ?","body":"What is the range of <code>typeArr[i][j]</code> , can i assume that <code>typeArr[i][j]</code> not so big, like <code>1 &lt;= typeArr[i][j] &lt;= 10</code> ?"},{"owner":{"account_id":15968441,"reputation":373,"user_id":11523294,"display_name":"Criwran"},"score":0,"creation_date":1688633845,"post_id":76578754,"comment_id":135100938,"body_markdown":"@Jesse  `typeArr[i][j]` ranges from 1 to 120.","body":"@Jesse  <code>typeArr[i][j]</code> ranges from 1 to 120."},{"owner":{"account_id":15586948,"reputation":512,"user_id":22056798,"display_name":"maxplus"},"score":0,"creation_date":1688638812,"post_id":76578754,"comment_id":135102026,"body_markdown":"Then why don&#39;t you perform checks on candidate solutions as soon as you generate them? You generate an array of possible solutions and filter them. Instead you can move all filtering operations inside the generation. Instead of placing maybe-a-solution in a huge array you can verify it immediately and if it is correct return it, otherwise keep searching.","body":"Then why don&#39;t you perform checks on candidate solutions as soon as you generate them? You generate an array of possible solutions and filter them. Instead you can move all filtering operations inside the generation. Instead of placing maybe-a-solution in a huge array you can verify it immediately and if it is correct return it, otherwise keep searching."},{"owner":{"account_id":15586948,"reputation":512,"user_id":22056798,"display_name":"maxplus"},"score":0,"creation_date":1688639309,"post_id":76578754,"comment_id":135102165,"body_markdown":"I think the most optimal solution for your problem is maximum bipartite matching with constraints implemented through reduction to maximum flow. But it is much more complicated than just avoiding storing a huge list of maybe-solutions in RAM as I suggested in the previous comment.","body":"I think the most optimal solution for your problem is maximum bipartite matching with constraints implemented through reduction to maximum flow. But it is much more complicated than just avoiding storing a huge list of maybe-solutions in RAM as I suggested in the previous comment."}],"answers":[{"tags":[],"owner":{"account_id":17080101,"reputation":93,"user_id":12358700,"display_name":"Jesse"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688642446,"creation_date":1688641095,"answer_id":76628098,"question_id":76578754,"body_markdown":"I was a little confused after reading your code.\r\n## What&#39;s the real purpose of your program？\r\nBase on your description below:\r\n&gt; find a solution: \r\n&gt; select x(x &lt;= finalCount) elements from idArr, elements must:\r\n&gt; 1. elements in each idArr[i], their count must &gt;= countArr[i][0] and &lt;= count[i][1] if countArr[i][1] exists;\r\n&gt; 2. elements are differ in types(types are related to typeArr)\r\n\r\nI think your solution would be like this(Based on your thinking):\r\n&gt; - a. Calculate the `selectedCount=sum(countArr[i][0])` `0&lt;= i &lt;countArr.length` , just a greedy method do not need to think about the `countArr[i][1]`, then the `x` is `selectedCount`.\r\n&gt; - b. Get all combinations( `List&lt;int[]&gt; combinationList` ) of idArr[i] with the countArr[i].\r\n&gt; - c. Use backtrack loop combinationList[i] merge each `current = combinationList[0][j] -&gt; combinationList[1][j] ... -&gt; combinationList[combinationList.size() - 1][j]` check if `current` valid or not, if `current` are valid then this is the correct solution, just return it.\r\n\r\nYou can just return the correct result `current` in `backtrack`, then the memory is all about `combinationList`.\r\n\r\n## The real problem is the performance of `backtrack`\r\nYou should calculate the time complexity about `backtrack`.\r\n\r\nAccording the constrains of your description below:\r\n&gt; - 1 &lt;= idArr.length &lt;= 4, 1 &lt;= idArr[i].length &lt;= 150\r\n&gt; - 1 &lt;= typeArr[i] &lt;= 120,1 &lt;= typeArr.length &lt;= 4, 1 &lt;= idArr[i].length &lt;= 150\r\n&gt; - 1 &lt;= countArr.length &lt;= 4, 1 &lt;= countArr[i].length &lt;= 2\r\n&gt; - 1 &lt;= finalCount &lt;= 8\r\n\r\nAssume some test data for instance:\r\n\r\n**idArr** : `idArr.length = 4` , `idArr[0].length = 100, idArr[1].length = 10, idArr[2].length = 10, idArr[3].length = 10` \r\n\r\n**countArr** : `countArr = {{5},{1},{1},{1}}`\r\n\r\n**finalCount** : `finalCount = 8`\r\n\r\n&lt;img src=&quot;https://latex.codecogs.com/svg.image?C_n^m=\\frac{n!}{m!(n-m)!}&quot; title=&quot;C_n^m=\\frac{n!}{m!(n-m)!}&quot; /&gt;\r\n\r\nThen the size of `combinationList[0]` will be `75,287,520` almost `7*10^7`, the size of `combinationList[1-3]` will be `10`, so the run times of `backtrack` is `7*10^10` , that is a big numble.\r\n\r\nYou should do some performance test, the description of this task(program) is so redundancy, i am not sure about the real purpose of your task(program).","title":"Update algorithm to save memory: find one solution instead of finding all the solutions then pick one","body":"<p>I was a little confused after reading your code.</p>\n<h2>What's the real purpose of your program？</h2>\n<p>Base on your description below:</p>\n<blockquote>\n<p>find a solution:\nselect x(x &lt;= finalCount) elements from idArr, elements must:</p>\n<ol>\n<li>elements in each idArr[i], their count must &gt;= countArr[i][0] and &lt;= count[i][1] if countArr[i][1] exists;</li>\n<li>elements are differ in types(types are related to typeArr)</li>\n</ol>\n</blockquote>\n<p>I think your solution would be like this(Based on your thinking):</p>\n<blockquote>\n<ul>\n<li>a. Calculate the <code>selectedCount=sum(countArr[i][0])</code> <code>0&lt;= i &lt;countArr.length</code> , just a greedy method do not need to think about the <code>countArr[i][1]</code>, then the <code>x</code> is <code>selectedCount</code>.</li>\n<li>b. Get all combinations( <code>List&lt;int[]&gt; combinationList</code> ) of idArr[i] with the countArr[i].</li>\n<li>c. Use backtrack loop combinationList[i] merge each <code>current = combinationList[0][j] -&gt; combinationList[1][j] ... -&gt; combinationList[combinationList.size() - 1][j]</code> check if <code>current</code> valid or not, if <code>current</code> are valid then this is the correct solution, just return it.</li>\n</ul>\n</blockquote>\n<p>You can just return the correct result <code>current</code> in <code>backtrack</code>, then the memory is all about <code>combinationList</code>.</p>\n<h2>The real problem is the performance of <code>backtrack</code></h2>\n<p>You should calculate the time complexity about <code>backtrack</code>.</p>\n<p>According the constrains of your description below:</p>\n<blockquote>\n<ul>\n<li>1 &lt;= idArr.length &lt;= 4, 1 &lt;= idArr[i].length &lt;= 150</li>\n<li>1 &lt;= typeArr[i] &lt;= 120,1 &lt;= typeArr.length &lt;= 4, 1 &lt;= idArr[i].length &lt;= 150</li>\n<li>1 &lt;= countArr.length &lt;= 4, 1 &lt;= countArr[i].length &lt;= 2</li>\n<li>1 &lt;= finalCount &lt;= 8</li>\n</ul>\n</blockquote>\n<p>Assume some test data for instance:</p>\n<p><strong>idArr</strong> : <code>idArr.length = 4</code> , <code>idArr[0].length = 100, idArr[1].length = 10, idArr[2].length = 10, idArr[3].length = 10</code></p>\n<p><strong>countArr</strong> : <code>countArr = {{5},{1},{1},{1}}</code></p>\n<p><strong>finalCount</strong> : <code>finalCount = 8</code></p>\n<img src=\"https://latex.codecogs.com/svg.image?C_n%5Em=%5Cfrac%7Bn!%7D%7Bm!(n-m)!%7D\" title=\"C_n^m=\\frac{n!}{m!(n-m)!}\" />\n<p>Then the size of <code>combinationList[0]</code> will be <code>75,287,520</code> almost <code>7*10^7</code>, the size of <code>combinationList[1-3]</code> will be <code>10</code>, so the run times of <code>backtrack</code> is <code>7*10^10</code> , that is a big numble.</p>\n<p>You should do some performance test, the description of this task(program) is so redundancy, i am not sure about the real purpose of your task(program).</p>\n"}],"owner":{"account_id":15968441,"reputation":373,"user_id":11523294,"display_name":"Criwran"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":220,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1688647668,"creation_date":1688022436,"question_id":76578754,"body_markdown":"Given the code:\r\n```\r\npublic class Test {\r\n    public static void main(String[] args) {\r\n        final int num = 4;\r\n        final int finalCount = 8;\r\n        int[][] idArr = new int[num][];\r\n        int[][] typeArr = new int[num][];\r\n        int[][] countArr = new int[num][];\r\n\r\n\r\n        idArr = new int[][]{\r\n                {1001, 2001, 3001, 4001},\r\n                {5001, 6001, 7001},\r\n                {2002, 3002, 5002, 8001},\r\n                {9001},\r\n        };\r\n\r\n        typeArr = new int[][]{\r\n                {1, 2, 3, 4},\r\n                {5, 6, 7,},\r\n                {2, 3, 5, 8},\r\n                {9},\r\n        };\r\n\r\n        countArr = new int[][]{\r\n                {3},\r\n                {1, 2},\r\n                {2},\r\n                {1},\r\n        };\r\n\r\n    }\r\n}\r\n```\r\n\r\ndemands:\r\n\r\nfind a solution: select `x` elements from idArr, `x = sum(countArr[i][0]) &lt;= finalCount, (0 &lt;= i &lt;countArr.length)`, solution must:\r\n\r\n1. solution elements contains `y` elements in each `idArr[i]`, `y` &gt;= `countArr[i][0]` and &lt;= `count[i][1]` if `countArr[i][1]` exists;\r\n\r\n2. solution elements are distinct in types(types are related to typeArr)\r\n\r\nI know one solution with my brain:\r\n```\r\n1001,2001,3001,\r\n6001,\r\n5002,8001,\r\n9001\r\n```\r\nbecause: \r\n\r\n1. the solution has 7 elements, which &lt;= finalCount;\r\n\r\n2. arr[0] has `1001,2001,3001` selected, and their size &gt;=  `3` related to countArr[0];\r\n3. arr[1] has `6001` selected, its size = 1, match the demand of `1 &lt;= size &lt;=2` in countArr[1];\r\n4. arr[2] has `5002,8001` selected, its size = 2, match the demand of `size &gt;= 2` in countArr[2];\r\n5. arr[3] has `9001` selected, its size = 1, match the demand of `size &gt;= 1` in countArr[3];\r\n\r\n6. each arr[i] has element(s) in the slected elements, and the selected elements match the condition: 2&amp;3&amp;4&amp;5.\r\n\r\n7. elements are differ in type related in typArr.\r\n\r\n\r\nI used backtracking to solve it. Find all solutions and pick one. Apparently this kind of approach costs memory much. So I&#39;m seeking an algorithm that just find a solution without finding all the solutions.\r\n\r\nCould someone give me a better solution to reference?\r\n\r\n\r\n---------------------------\r\nMy Solution:\r\n```\r\npublic class Test4SO {\r\n    private static int[][] idArr;\r\n    private static int[][] countArr;\r\n    private static int[][] typeArr;\r\n    /**\r\n     * the selected elements must not exceeds this number\r\n     */\r\n    private static final int finalCount = 8;\r\n    /**\r\n     * the count of idArr.length\r\n     */\r\n    private static final int num = 4;\r\n\r\n    private static final Map&lt;Integer, Integer&gt; idTypeMap = new HashMap&lt;&gt;();\r\n\r\n    public static void main(String[] args) {\r\n        // case 1\r\n        idArr = new int[][]{\r\n                {1001, 2001, 3001, 4001},\r\n                {5001, 6001, 7001},\r\n                {2002, 3002, 5002, 8001},\r\n                {9001},\r\n        };\r\n\r\n        typeArr = new int[][]{\r\n                {1, 2, 3, 4},\r\n                {5, 6, 7,},\r\n                {2, 3, 5, 8},\r\n                {9},\r\n        };\r\n\r\n        countArr = new int[][]{\r\n                {3},\r\n                {1, 2},\r\n                {2},\r\n                {1},\r\n        };\r\n\r\n        // case 2\r\n//        idArr = new int[][]{\r\n//                {1001, 2001, 3001, 4001, 1005},\r\n//                {2001, 3001, 1003},\r\n//                {3001, 4001, 1005, 5002},\r\n//                {4001, 1003},\r\n//        };\r\n//\r\n//        typeArr = new int[][]{\r\n//                {1, 2, 3, 4,1},\r\n//                {2, 3, 1},\r\n//                {3, 4, 1, 5},\r\n//                {4, 1},\r\n//        };\r\n//\r\n//        countArr = new int[][]{\r\n//                {3},\r\n//                {1, 2},\r\n//                {2},\r\n//                {1},\r\n//        };\r\n\r\n        // case 3\r\n//        idArr = new int[][]{\r\n//                {1001},\r\n//                {2001},\r\n//                {3001},\r\n//                {1001, 2001, 3001, 4001, 5001},\r\n//        };\r\n//\r\n//        typeArr = new int[][]{\r\n//                {1},\r\n//                {2},\r\n//                {3},\r\n//                {1, 2, 3, 4, 5},\r\n//        };\r\n//\r\n//        countArr = new int[][]{\r\n//                {1},\r\n//                {1},\r\n//                {1},\r\n//                {5},\r\n//        };\r\n\r\n        // for each id, put its type into the map as a cache\r\n        for (int i = 0; i &lt; idArr.length; i++) {\r\n            for (int j = 0; j &lt; idArr[i].length; j++) {\r\n                idTypeMap.put(idArr[i][j], typeArr[i][j]);\r\n            }\r\n        }\r\n\r\n        Stopwatch stopwatch = Stopwatch.createStarted();\r\n        // see introduction a\r\n        int[][][] arr = new int[idArr.length][0][0];\r\n        for (int i = 0; i &lt; idArr.length; i++) {\r\n            int min = countArr[i][0];\r\n            int max = countArr[i].length &gt; 1 ? countArr[i][1] : finalCount;\r\n            List&lt;int[]&gt; combinationList = new ArrayList&lt;&gt;();\r\n            // find all combinations of idArr[i] with the specified number from min to max\r\n            for (int j = min; j &lt;= max; j++) {\r\n                int[][] combinationArr = getCombinationArr(idArr[i], j);\r\n                combinationList.addAll(Arrays.asList(distinct(combinationArr)));\r\n            }\r\n            arr[i] = combinationList.toArray(new int[0][]);\r\n        }\r\n\r\n        \r\n        List&lt;Integer&gt; result = backtrack(arr);\r\n        System.out.println(&quot;time cost: &quot; + stopwatch.stop());\r\n\r\n        // print arr\r\n        for (int[][] ints : arr) {\r\n            for (int[] anInt : ints) {\r\n                System.out.println(Arrays.toString(anInt));\r\n            }\r\n            System.out.println();\r\n        }\r\n\r\n        // final result\r\n        System.out.println(&quot;final result: &quot;);\r\n        for (Integer id : result) {\r\n            System.out.println(id);\r\n        }\r\n\r\n    }\r\n\r\n    /**\r\n     * get the combination of the specified number from the array, and the combination\r\n     * does not contain duplicate elements. \r\n     */\r\n    public static int[][] getCombinationArr(int[] arr, int num) {\r\n        List&lt;List&lt;Integer&gt;&gt; result = new ArrayList&lt;&gt;();\r\n        List&lt;Integer&gt; combination = new ArrayList&lt;&gt;();\r\n        dfs(arr, num, 0, combination, result);\r\n        int[][] combinations = new int[result.size()][num];\r\n        for (int i = 0; i &lt; result.size(); i++) {\r\n            for (int j = 0; j &lt; num; j++) {\r\n                combinations[i][j] = result.get(i).get(j);\r\n            }\r\n        }\r\n        return combinations;\r\n    }\r\n\r\n    private static void dfs(int[] arr, int num, int start, List&lt;Integer&gt; combination, List&lt;List&lt;Integer&gt;&gt; result) {\r\n        if (combination.size() == num) {\r\n            result.add(new ArrayList&lt;&gt;(combination));\r\n            return;\r\n        }\r\n        for (int i = start; i &lt; arr.length; i++) {\r\n            combination.add(arr[i]);\r\n            dfs(arr, num, i + 1, combination, result);\r\n            combination.remove(combination.size() - 1);\r\n        }\r\n    }\r\n\r\n    public static List&lt;Integer&gt; backtrack(int[][][] arr) {\r\n        List&lt;List&lt;Integer&gt;&gt; lists = backtrack(arr, 0, new ArrayList&lt;&gt;());\r\n\r\n        System.out.println(&quot;all permutations: &quot;);\r\n        lists.stream().filter(list -&gt; distinct(list) &amp;&amp; list.size() &lt;= finalCount).forEach(System.out::println);\r\n\r\n        // see introduction c, d\r\n        for (List&lt;Integer&gt; list : lists) {\r\n            if (distinct(list) &amp;&amp; list.size() &lt;= finalCount) {\r\n                return list;\r\n            }\r\n        }\r\n\r\n        return Collections.emptyList();\r\n    }\r\n\r\n\r\n    /**\r\n     * judge if the list(consists of id from idArr) distinct in types\r\n     */\r\n    public static boolean distinct(List&lt;Integer&gt; list) {\r\n        List&lt;Integer&gt; typeList = new ArrayList&lt;&gt;();\r\n        for (Integer id : list) {\r\n            if (typeList.contains(getTypeById(id))) {\r\n                return false;\r\n            }\r\n            typeList.add(getTypeById(id));\r\n        }\r\n        return true;\r\n    }\r\n\r\n\r\n    /**\r\n     * remove combinations(consists of id from idArr) with duplicate types\r\n     */\r\n    public static int[][] distinct(int[][] arr) {\r\n        List&lt;int[]&gt; list = new ArrayList&lt;&gt;();\r\n        for (int[] ints : arr) {\r\n            List&lt;Integer&gt; typeList = new ArrayList&lt;&gt;();\r\n            for (int anInt : ints) {\r\n                if (!typeList.contains(getTypeById(anInt))) {\r\n                    typeList.add(getTypeById(anInt));\r\n                }\r\n            }\r\n            if (typeList.size() == ints.length) {\r\n                list.add(ints);\r\n            }\r\n        }\r\n        return list.toArray(new int[0][]);\r\n    }\r\n\r\n    public static int getTypeById(int id) {\r\n        return idTypeMap.get(id);\r\n    }\r\n\r\n    // see introduction b\r\n    private static List&lt;List&lt;Integer&gt;&gt; backtrack(int[][][] arr, int index, List&lt;Integer&gt; current) {\r\n        List&lt;List&lt;Integer&gt;&gt; result = new ArrayList&lt;&gt;();\r\n\r\n        if (index == arr.length) {\r\n            result.add(new ArrayList&lt;&gt;(current));\r\n            return result;\r\n        }\r\n\r\n        for (int i = 0; i &lt; arr[index].length; i++) {\r\n            List&lt;Integer&gt; subList = new ArrayList&lt;&gt;();\r\n            for (int j = 0; j &lt; arr[index][i].length; j++) {\r\n                subList.add(arr[index][i][j]);\r\n            }\r\n\r\n            boolean b1 = new HashSet&lt;&gt;(current).containsAll(subList);\r\n            boolean b2 = !current.isEmpty() &amp;&amp; new HashSet&lt;&gt;(subList).containsAll(current);\r\n\r\n            // for case 2\r\n            if (!b1) {\r\n                current.addAll(subList);\r\n            }\r\n\r\n            // for case 3\r\n            if (b2) {\r\n                current = subList;\r\n            }\r\n            result.addAll(backtrack(arr, index + 1, current));\r\n            if (!b1) {\r\n                current.removeAll(subList);\r\n            }\r\n        }\r\n\r\n        return result;\r\n    }\r\n}\r\n\r\n```\r\nIntroduction to my solution:\r\n\r\na. to create a 3d array to store all combinations of `arr[i]` with specified number from min to max in related `countArr`, for example, with finalCount=5:\r\n\r\n```\r\n\r\n      idArr = new int[][]{\r\n                {1001, 2001, 3001},\r\n                {5001, 6001， 2002},\r\n         \r\n        };\r\n\r\n        typeArr = new int[][]{\r\n                {1, 2, 3},\r\n                {5, 6， 2}\r\n        };\r\n\r\n        countArr = new int[][]{\r\n                {3},\r\n                {1, 2},\r\n    \r\n        };\r\n```\r\n\r\nthe 3d array: `arr3d` should be:\r\n\r\n```\r\n{\r\n    {\r\n        {1001,2001,3001}\r\n    },\r\n    {\r\n        {5001}， {6001}， {2002}，{5001，6001}， {5001,2002}，{6001,2002}\r\n    }\r\n}\r\n```\r\n\r\nb. then in latter steps, I can loop the 3d array from `arr3d[0][j]` to `arr3d[arr3d.length - 1][j]` to find all combinations, for example:\r\n```\r\n{1001, 2001, 3001} + {5001} = {1001,2001,3001, 5001}\r\n{1001, 2001, 3001} + {6001} = {1001,2001,3001, 6001}\r\n{1001, 2001, 3001} + {2002} = {1001,2001,3001, 2002}\r\n{1001, 2001, 3001} + {5001, 6001} = {1001,2001,3001, 5001, 6001}\r\n{1001, 2001, 3001} + {5001, 2002} = {1001,2001,3001, 5001, 2002}\r\n{1001, 2001, 3001} + {6001, 2002} = {1001,2001,3001, 6001, 2002}\r\n```\r\n\r\nc. then filter the list with duplicate type, for example:\r\n```\r\nbefore filter:\r\n{1001,2001,3001, 5001}\r\n{1001,2001,3001, 6001}\r\n{1001,2001,3001, 2002}\r\n{1001,2001,3001, 5001, 6001}\r\n{1001,2001,3001, 5001, 2002}\r\n{1001,2001,3001, 6001, 2002}\r\n\r\nafter filter:\r\n{1001,2001,3001, 5001, 6001}\r\n{1001,2001,3001, 5001}\r\n{1001,2001,3001, 6001}\r\n```\r\n\r\nd. therefore, `{1001,2001,3001, 5001, 6001}`, `{1001,2001,3001, 5001}` and `{1001,2001,3001, 6001}` are filted out, and each size &lt;= finalCount = 5, so they are valid solutions. Finally,I just pick one from the valid soutions.\r\n","title":"Update algorithm to save memory: find one solution instead of finding all the solutions then pick one","body":"<p>Given the code:</p>\n<pre><code>public class Test {\n    public static void main(String[] args) {\n        final int num = 4;\n        final int finalCount = 8;\n        int[][] idArr = new int[num][];\n        int[][] typeArr = new int[num][];\n        int[][] countArr = new int[num][];\n\n\n        idArr = new int[][]{\n                {1001, 2001, 3001, 4001},\n                {5001, 6001, 7001},\n                {2002, 3002, 5002, 8001},\n                {9001},\n        };\n\n        typeArr = new int[][]{\n                {1, 2, 3, 4},\n                {5, 6, 7,},\n                {2, 3, 5, 8},\n                {9},\n        };\n\n        countArr = new int[][]{\n                {3},\n                {1, 2},\n                {2},\n                {1},\n        };\n\n    }\n}\n</code></pre>\n<p>demands:</p>\n<p>find a solution: select <code>x</code> elements from idArr, <code>x = sum(countArr[i][0]) &lt;= finalCount, (0 &lt;= i &lt;countArr.length)</code>, solution must:</p>\n<ol>\n<li><p>solution elements contains <code>y</code> elements in each <code>idArr[i]</code>, <code>y</code> &gt;= <code>countArr[i][0]</code> and &lt;= <code>count[i][1]</code> if <code>countArr[i][1]</code> exists;</p>\n</li>\n<li><p>solution elements are distinct in types(types are related to typeArr)</p>\n</li>\n</ol>\n<p>I know one solution with my brain:</p>\n<pre><code>1001,2001,3001,\n6001,\n5002,8001,\n9001\n</code></pre>\n<p>because:</p>\n<ol>\n<li><p>the solution has 7 elements, which &lt;= finalCount;</p>\n</li>\n<li><p>arr[0] has <code>1001,2001,3001</code> selected, and their size &gt;=  <code>3</code> related to countArr[0];</p>\n</li>\n<li><p>arr[1] has <code>6001</code> selected, its size = 1, match the demand of <code>1 &lt;= size &lt;=2</code> in countArr[1];</p>\n</li>\n<li><p>arr[2] has <code>5002,8001</code> selected, its size = 2, match the demand of <code>size &gt;= 2</code> in countArr[2];</p>\n</li>\n<li><p>arr[3] has <code>9001</code> selected, its size = 1, match the demand of <code>size &gt;= 1</code> in countArr[3];</p>\n</li>\n<li><p>each arr[i] has element(s) in the slected elements, and the selected elements match the condition: 2&amp;3&amp;4&amp;5.</p>\n</li>\n<li><p>elements are differ in type related in typArr.</p>\n</li>\n</ol>\n<p>I used backtracking to solve it. Find all solutions and pick one. Apparently this kind of approach costs memory much. So I'm seeking an algorithm that just find a solution without finding all the solutions.</p>\n<p>Could someone give me a better solution to reference?</p>\n<hr />\n<p>My Solution:</p>\n<pre><code>public class Test4SO {\n    private static int[][] idArr;\n    private static int[][] countArr;\n    private static int[][] typeArr;\n    /**\n     * the selected elements must not exceeds this number\n     */\n    private static final int finalCount = 8;\n    /**\n     * the count of idArr.length\n     */\n    private static final int num = 4;\n\n    private static final Map&lt;Integer, Integer&gt; idTypeMap = new HashMap&lt;&gt;();\n\n    public static void main(String[] args) {\n        // case 1\n        idArr = new int[][]{\n                {1001, 2001, 3001, 4001},\n                {5001, 6001, 7001},\n                {2002, 3002, 5002, 8001},\n                {9001},\n        };\n\n        typeArr = new int[][]{\n                {1, 2, 3, 4},\n                {5, 6, 7,},\n                {2, 3, 5, 8},\n                {9},\n        };\n\n        countArr = new int[][]{\n                {3},\n                {1, 2},\n                {2},\n                {1},\n        };\n\n        // case 2\n//        idArr = new int[][]{\n//                {1001, 2001, 3001, 4001, 1005},\n//                {2001, 3001, 1003},\n//                {3001, 4001, 1005, 5002},\n//                {4001, 1003},\n//        };\n//\n//        typeArr = new int[][]{\n//                {1, 2, 3, 4,1},\n//                {2, 3, 1},\n//                {3, 4, 1, 5},\n//                {4, 1},\n//        };\n//\n//        countArr = new int[][]{\n//                {3},\n//                {1, 2},\n//                {2},\n//                {1},\n//        };\n\n        // case 3\n//        idArr = new int[][]{\n//                {1001},\n//                {2001},\n//                {3001},\n//                {1001, 2001, 3001, 4001, 5001},\n//        };\n//\n//        typeArr = new int[][]{\n//                {1},\n//                {2},\n//                {3},\n//                {1, 2, 3, 4, 5},\n//        };\n//\n//        countArr = new int[][]{\n//                {1},\n//                {1},\n//                {1},\n//                {5},\n//        };\n\n        // for each id, put its type into the map as a cache\n        for (int i = 0; i &lt; idArr.length; i++) {\n            for (int j = 0; j &lt; idArr[i].length; j++) {\n                idTypeMap.put(idArr[i][j], typeArr[i][j]);\n            }\n        }\n\n        Stopwatch stopwatch = Stopwatch.createStarted();\n        // see introduction a\n        int[][][] arr = new int[idArr.length][0][0];\n        for (int i = 0; i &lt; idArr.length; i++) {\n            int min = countArr[i][0];\n            int max = countArr[i].length &gt; 1 ? countArr[i][1] : finalCount;\n            List&lt;int[]&gt; combinationList = new ArrayList&lt;&gt;();\n            // find all combinations of idArr[i] with the specified number from min to max\n            for (int j = min; j &lt;= max; j++) {\n                int[][] combinationArr = getCombinationArr(idArr[i], j);\n                combinationList.addAll(Arrays.asList(distinct(combinationArr)));\n            }\n            arr[i] = combinationList.toArray(new int[0][]);\n        }\n\n        \n        List&lt;Integer&gt; result = backtrack(arr);\n        System.out.println(&quot;time cost: &quot; + stopwatch.stop());\n\n        // print arr\n        for (int[][] ints : arr) {\n            for (int[] anInt : ints) {\n                System.out.println(Arrays.toString(anInt));\n            }\n            System.out.println();\n        }\n\n        // final result\n        System.out.println(&quot;final result: &quot;);\n        for (Integer id : result) {\n            System.out.println(id);\n        }\n\n    }\n\n    /**\n     * get the combination of the specified number from the array, and the combination\n     * does not contain duplicate elements. \n     */\n    public static int[][] getCombinationArr(int[] arr, int num) {\n        List&lt;List&lt;Integer&gt;&gt; result = new ArrayList&lt;&gt;();\n        List&lt;Integer&gt; combination = new ArrayList&lt;&gt;();\n        dfs(arr, num, 0, combination, result);\n        int[][] combinations = new int[result.size()][num];\n        for (int i = 0; i &lt; result.size(); i++) {\n            for (int j = 0; j &lt; num; j++) {\n                combinations[i][j] = result.get(i).get(j);\n            }\n        }\n        return combinations;\n    }\n\n    private static void dfs(int[] arr, int num, int start, List&lt;Integer&gt; combination, List&lt;List&lt;Integer&gt;&gt; result) {\n        if (combination.size() == num) {\n            result.add(new ArrayList&lt;&gt;(combination));\n            return;\n        }\n        for (int i = start; i &lt; arr.length; i++) {\n            combination.add(arr[i]);\n            dfs(arr, num, i + 1, combination, result);\n            combination.remove(combination.size() - 1);\n        }\n    }\n\n    public static List&lt;Integer&gt; backtrack(int[][][] arr) {\n        List&lt;List&lt;Integer&gt;&gt; lists = backtrack(arr, 0, new ArrayList&lt;&gt;());\n\n        System.out.println(&quot;all permutations: &quot;);\n        lists.stream().filter(list -&gt; distinct(list) &amp;&amp; list.size() &lt;= finalCount).forEach(System.out::println);\n\n        // see introduction c, d\n        for (List&lt;Integer&gt; list : lists) {\n            if (distinct(list) &amp;&amp; list.size() &lt;= finalCount) {\n                return list;\n            }\n        }\n\n        return Collections.emptyList();\n    }\n\n\n    /**\n     * judge if the list(consists of id from idArr) distinct in types\n     */\n    public static boolean distinct(List&lt;Integer&gt; list) {\n        List&lt;Integer&gt; typeList = new ArrayList&lt;&gt;();\n        for (Integer id : list) {\n            if (typeList.contains(getTypeById(id))) {\n                return false;\n            }\n            typeList.add(getTypeById(id));\n        }\n        return true;\n    }\n\n\n    /**\n     * remove combinations(consists of id from idArr) with duplicate types\n     */\n    public static int[][] distinct(int[][] arr) {\n        List&lt;int[]&gt; list = new ArrayList&lt;&gt;();\n        for (int[] ints : arr) {\n            List&lt;Integer&gt; typeList = new ArrayList&lt;&gt;();\n            for (int anInt : ints) {\n                if (!typeList.contains(getTypeById(anInt))) {\n                    typeList.add(getTypeById(anInt));\n                }\n            }\n            if (typeList.size() == ints.length) {\n                list.add(ints);\n            }\n        }\n        return list.toArray(new int[0][]);\n    }\n\n    public static int getTypeById(int id) {\n        return idTypeMap.get(id);\n    }\n\n    // see introduction b\n    private static List&lt;List&lt;Integer&gt;&gt; backtrack(int[][][] arr, int index, List&lt;Integer&gt; current) {\n        List&lt;List&lt;Integer&gt;&gt; result = new ArrayList&lt;&gt;();\n\n        if (index == arr.length) {\n            result.add(new ArrayList&lt;&gt;(current));\n            return result;\n        }\n\n        for (int i = 0; i &lt; arr[index].length; i++) {\n            List&lt;Integer&gt; subList = new ArrayList&lt;&gt;();\n            for (int j = 0; j &lt; arr[index][i].length; j++) {\n                subList.add(arr[index][i][j]);\n            }\n\n            boolean b1 = new HashSet&lt;&gt;(current).containsAll(subList);\n            boolean b2 = !current.isEmpty() &amp;&amp; new HashSet&lt;&gt;(subList).containsAll(current);\n\n            // for case 2\n            if (!b1) {\n                current.addAll(subList);\n            }\n\n            // for case 3\n            if (b2) {\n                current = subList;\n            }\n            result.addAll(backtrack(arr, index + 1, current));\n            if (!b1) {\n                current.removeAll(subList);\n            }\n        }\n\n        return result;\n    }\n}\n\n</code></pre>\n<p>Introduction to my solution:</p>\n<p>a. to create a 3d array to store all combinations of <code>arr[i]</code> with specified number from min to max in related <code>countArr</code>, for example, with finalCount=5:</p>\n<pre><code>\n      idArr = new int[][]{\n                {1001, 2001, 3001},\n                {5001, 6001， 2002},\n         \n        };\n\n        typeArr = new int[][]{\n                {1, 2, 3},\n                {5, 6， 2}\n        };\n\n        countArr = new int[][]{\n                {3},\n                {1, 2},\n    \n        };\n</code></pre>\n<p>the 3d array: <code>arr3d</code> should be:</p>\n<pre><code>{\n    {\n        {1001,2001,3001}\n    },\n    {\n        {5001}， {6001}， {2002}，{5001，6001}， {5001,2002}，{6001,2002}\n    }\n}\n</code></pre>\n<p>b. then in latter steps, I can loop the 3d array from <code>arr3d[0][j]</code> to <code>arr3d[arr3d.length - 1][j]</code> to find all combinations, for example:</p>\n<pre><code>{1001, 2001, 3001} + {5001} = {1001,2001,3001, 5001}\n{1001, 2001, 3001} + {6001} = {1001,2001,3001, 6001}\n{1001, 2001, 3001} + {2002} = {1001,2001,3001, 2002}\n{1001, 2001, 3001} + {5001, 6001} = {1001,2001,3001, 5001, 6001}\n{1001, 2001, 3001} + {5001, 2002} = {1001,2001,3001, 5001, 2002}\n{1001, 2001, 3001} + {6001, 2002} = {1001,2001,3001, 6001, 2002}\n</code></pre>\n<p>c. then filter the list with duplicate type, for example:</p>\n<pre><code>before filter:\n{1001,2001,3001, 5001}\n{1001,2001,3001, 6001}\n{1001,2001,3001, 2002}\n{1001,2001,3001, 5001, 6001}\n{1001,2001,3001, 5001, 2002}\n{1001,2001,3001, 6001, 2002}\n\nafter filter:\n{1001,2001,3001, 5001, 6001}\n{1001,2001,3001, 5001}\n{1001,2001,3001, 6001}\n</code></pre>\n<p>d. therefore, <code>{1001,2001,3001, 5001, 6001}</code>, <code>{1001,2001,3001, 5001}</code> and <code>{1001,2001,3001, 6001}</code> are filted out, and each size &lt;= finalCount = 5, so they are valid solutions. Finally,I just pick one from the valid soutions.</p>\n"},{"tags":["java","pdf","pdfbox"],"comments":[{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1688650904,"post_id":76628925,"comment_id":135104792,"body_markdown":"oops, sorry, I didn&#39;t want to close it (I have too much power?!), just to flag / suggest it as duplicate. But the point is that you should use the twelvemonkeys plugin, it&#39;s great. See https://stackoverflow.com/a/46826608/535646","body":"oops, sorry, I didn&#39;t want to close it (I have too much power?!), just to flag / suggest it as duplicate. But the point is that you should use the twelvemonkeys plugin, it&#39;s great. See <a href=\"https://stackoverflow.com/a/46826608/535646\">stackoverflow.com/a/46826608/535646</a>"},{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1688715849,"post_id":76628925,"comment_id":135113764,"body_markdown":"Also update to 2.0.29.","body":"Also update to 2.0.29."}],"owner":{"account_id":8123230,"reputation":1,"user_id":6140560,"display_name":"Satya"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":12,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1688650845,"answer_count":0,"score":0,"last_activity_date":1688647552,"creation_date":1688647086,"question_id":76628925,"body_markdown":"I am seeing the below exception when converting a PDF pages to image using pdfbox 2.0.20. \r\n\r\nHere is the code which is throwing exception :\r\n\r\n```\r\n...\r\nBufferedImage bim = pdfRenderer.renderImageWithDPI(page, 300, ImageType.RGB);\r\n....\r\n```\r\n*PdfBox Version* : **2.0.20**\r\n\r\n*Exception* :\r\n\r\nException in thread &quot;main&quot; java.lang.IllegalArgumentException: Numbers of source Raster bands and source color space components do not match\r\n\tat java.awt.image.ColorConvertOp.filter(ColorConvertOp.java:493)\r\n\tat com.sun.imageio.plugins.jpeg.JPEGImageReader.acceptPixels(JPEGImageReader.java:1292)\r\n\tat com.sun.imageio.plugins.jpeg.JPEGImageReader.readImage(Native Method)\r\n\tat com.sun.imageio.plugins.jpeg.JPEGImageReader.readInternal(JPEGImageReader.java:1259)\r\n\tat com.sun.imageio.plugins.jpeg.JPEGImageReader.read(JPEGImageReader.java:1062)\r\n\tat org.apache.pdfbox.filter.DCTFilter.decode(DCTFilter.java:91)\r\n\tat org.apache.pdfbox.cos.COSInputStream.create(COSInputStream.java:80)\r\n\tat org.apache.pdfbox.cos.COSStream.createInputStream(COSStream.java:246)\r\n\tat org.apache.pdfbox.pdmodel.common.PDStream.createInputStream(PDStream.java:241)\r\n\tat org.apache.pdfbox.pdmodel.graphics.image.PDImageXObject.createInputStream(PDImageXObject.java:776)\r\n\tat org.apache.pdfbox.pdmodel.graphics.image.SampledImageReader.from8bit(SampledImageReader.java:373)\r\n\tat org.apache.pdfbox.pdmodel.graphics.image.SampledImageReader.getRGBImage(SampledImageReader.java:226)\r\n\tat org.apache.pdfbox.pdmodel.graphics.image.PDImageXObject.getImage(PDImageXObject.java:479)\r\n\tat org.apache.pdfbox.rendering.PageDrawer.drawImage(PageDrawer.java:1139)\r\n\tat org.apache.pdfbox.contentstream.operator.graphics.DrawObject.process(DrawObject.java:67)\r\n\tat org.apache.pdfbox.contentstream.PDFStreamEngine.processOperator(PDFStreamEngine.java:932)\r\n\tat org.apache.pdfbox.contentstream.PDFStreamEngine.processStreamOperators(PDFStreamEngine.java:510)\r\n\tat org.apache.pdfbox.contentstream.PDFStreamEngine.processStream(PDFStreamEngine.java:484)\r\n\tat org.apache.pdfbox.contentstream.PDFStreamEngine.processPage(PDFStreamEngine.java:156)\r\n\tat org.apache.pdfbox.rendering.PageDrawer.drawPage(PageDrawer.java:271)\r\n\tat org.apache.pdfbox.rendering.PDFRenderer.renderImage(PDFRenderer.java:321)\r\n\tat org.apache.pdfbox.rendering.PDFRenderer.renderImage(PDFRenderer.java:243)\r\n\tat org.apache.pdfbox.rendering.PDFRenderer.renderImageWithDPI(PDFRenderer.java:229)\r\n\r\n\r\nI think Image bands and components are not matching while converting one of the PDF pages to images.\r\n\r\nI found the similar [issue][1] posted in the channel , but I can not access the [jira ticket][2] which is mentioned this post. \r\n\r\nPlease share your thoughts how to fix this issue.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/22721959/numbers-of-source-raster-bands-and-source-color-space-components-do-not-match\r\n  [2]: https://issues.apache.org/jira/browse/PDFBOX-3637?filter=-2","title":"PDFBox 2.0.20 - Numbers of source Raster bands and source color space components do not match","body":"<p>I am seeing the below exception when converting a PDF pages to image using pdfbox 2.0.20.</p>\n<p>Here is the code which is throwing exception :</p>\n<pre><code>...\nBufferedImage bim = pdfRenderer.renderImageWithDPI(page, 300, ImageType.RGB);\n....\n</code></pre>\n<p><em>PdfBox Version</em> : <strong>2.0.20</strong></p>\n<p><em>Exception</em> :</p>\n<p>Exception in thread &quot;main&quot; java.lang.IllegalArgumentException: Numbers of source Raster bands and source color space components do not match\nat java.awt.image.ColorConvertOp.filter(ColorConvertOp.java:493)\nat com.sun.imageio.plugins.jpeg.JPEGImageReader.acceptPixels(JPEGImageReader.java:1292)\nat com.sun.imageio.plugins.jpeg.JPEGImageReader.readImage(Native Method)\nat com.sun.imageio.plugins.jpeg.JPEGImageReader.readInternal(JPEGImageReader.java:1259)\nat com.sun.imageio.plugins.jpeg.JPEGImageReader.read(JPEGImageReader.java:1062)\nat org.apache.pdfbox.filter.DCTFilter.decode(DCTFilter.java:91)\nat org.apache.pdfbox.cos.COSInputStream.create(COSInputStream.java:80)\nat org.apache.pdfbox.cos.COSStream.createInputStream(COSStream.java:246)\nat org.apache.pdfbox.pdmodel.common.PDStream.createInputStream(PDStream.java:241)\nat org.apache.pdfbox.pdmodel.graphics.image.PDImageXObject.createInputStream(PDImageXObject.java:776)\nat org.apache.pdfbox.pdmodel.graphics.image.SampledImageReader.from8bit(SampledImageReader.java:373)\nat org.apache.pdfbox.pdmodel.graphics.image.SampledImageReader.getRGBImage(SampledImageReader.java:226)\nat org.apache.pdfbox.pdmodel.graphics.image.PDImageXObject.getImage(PDImageXObject.java:479)\nat org.apache.pdfbox.rendering.PageDrawer.drawImage(PageDrawer.java:1139)\nat org.apache.pdfbox.contentstream.operator.graphics.DrawObject.process(DrawObject.java:67)\nat org.apache.pdfbox.contentstream.PDFStreamEngine.processOperator(PDFStreamEngine.java:932)\nat org.apache.pdfbox.contentstream.PDFStreamEngine.processStreamOperators(PDFStreamEngine.java:510)\nat org.apache.pdfbox.contentstream.PDFStreamEngine.processStream(PDFStreamEngine.java:484)\nat org.apache.pdfbox.contentstream.PDFStreamEngine.processPage(PDFStreamEngine.java:156)\nat org.apache.pdfbox.rendering.PageDrawer.drawPage(PageDrawer.java:271)\nat org.apache.pdfbox.rendering.PDFRenderer.renderImage(PDFRenderer.java:321)\nat org.apache.pdfbox.rendering.PDFRenderer.renderImage(PDFRenderer.java:243)\nat org.apache.pdfbox.rendering.PDFRenderer.renderImageWithDPI(PDFRenderer.java:229)</p>\n<p>I think Image bands and components are not matching while converting one of the PDF pages to images.</p>\n<p>I found the similar <a href=\"https://stackoverflow.com/questions/22721959/numbers-of-source-raster-bands-and-source-color-space-components-do-not-match\">issue</a> posted in the channel , but I can not access the <a href=\"https://issues.apache.org/jira/browse/PDFBOX-3637?filter=-2\" rel=\"nofollow noreferrer\">jira ticket</a> which is mentioned this post.</p>\n<p>Please share your thoughts how to fix this issue.</p>\n"},{"tags":["java","retrofit","retrofit2"],"comments":[{"owner":{"account_id":2275767,"reputation":5881,"user_id":2002079,"accept_rate":59,"display_name":"ahmadalibaloch"},"score":10,"creation_date":1475504255,"post_id":32519618,"comment_id":66956973,"body_markdown":"its simple https://futurestud.io/tutorials/retrofit-2-simple-error-handling","body":"its simple <a href=\"https://futurestud.io/tutorials/retrofit-2-simple-error-handling\" rel=\"nofollow noreferrer\">futurestud.io/tutorials/retrofit-2-simple-error-handling</a>"},{"owner":{"account_id":1248234,"reputation":1692,"user_id":1209230,"accept_rate":50,"display_name":"Hossein Shahdoost"},"score":0,"creation_date":1520242083,"post_id":32519618,"comment_id":85219172,"body_markdown":"is it a good practice to deserialise the error response? since the response might be a webserver error which is html.","body":"is it a good practice to deserialise the error response? since the response might be a webserver error which is html."},{"owner":{"account_id":5975681,"reputation":1582,"user_id":4696610,"display_name":"Ravi Vaniya"},"score":1,"creation_date":1540550726,"post_id":32519618,"comment_id":92917588,"body_markdown":"thx @ahmadalibaloch, that link is really really helpfull.","body":"thx @ahmadalibaloch, that link is really really helpfull."}],"answers":[{"tags":[],"owner":{"account_id":4849033,"reputation":2680,"user_id":3979731,"accept_rate":50,"display_name":"Piotr Boho"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1444072237,"creation_date":1441965989,"answer_id":32520867,"question_id":32519618,"body_markdown":"solved it by:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    Converter&lt;MyError&gt; converter = \r\n        (Converter&lt;MyError&gt;)JacksonConverterFactory.create().get(MyError.class);\r\n    MyError myError =  converter.fromBody(response.errorBody());","title":"Retrofit 2.0 how to get deserialised error response.body","body":"<p>solved it by:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>Converter&lt;MyError&gt; converter = \n    (Converter&lt;MyError&gt;)JacksonConverterFactory.create().get(MyError.class);\nMyError myError =  converter.fromBody(response.errorBody());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2078850,"reputation":685,"user_id":1851426,"accept_rate":75,"display_name":"JFreeman"},"down_vote_count":0,"up_vote_count":33,"is_accepted":false,"score":33,"last_activity_date":1453367023,"creation_date":1443730407,"answer_id":32896077,"question_id":32519618,"body_markdown":"In Retrofit 2.0 beta2 this is the way that I&#39;m getting error responses:\r\n\r\n 1. Synchronous \r\n\r\n    &lt;!-- language-all: lang-java --&gt;\r\n    \r\n        try {\r\n           Call&lt;RegistrationResponse&gt; call = backendServiceApi.register(data.in.account, data.in.password,\r\n                   data.in.email);\r\n           Response&lt;RegistrationResponse&gt; response = call.execute();\r\n           if (response != null &amp;&amp; !response.isSuccess() &amp;&amp; response.errorBody() != null) {\r\n               Converter&lt;ResponseBody, BasicResponse&gt; errorConverter =\r\n                       MyApplication.getRestClient().getRetrofitInstance().responseConverter(BasicResponse.class, new Annotation[0]);\r\n               BasicResponse error = errorConverter.convert(response.errorBody());\r\n               //DO ERROR HANDLING HERE\r\n               return;\r\n           }\r\n           RegistrationResponse registrationResponse = response.body();\r\n           //DO SUCCESS HANDLING HERE\r\n        } catch (IOException e) {\r\n           //DO NETWORK ERROR HANDLING HERE\r\n        }\r\n\r\n 2. Asynchronous\r\n\r\n        Call&lt;BasicResponse&gt; call = service.loadRepo();\r\n        call.enqueue(new Callback&lt;BasicResponse&gt;() {\r\n            @Override\r\n            public void onResponse(Response&lt;BasicResponse&gt; response, Retrofit retrofit) {\r\n                if (response != null &amp;&amp; !response.isSuccess() &amp;&amp; response.errorBody() != null) {\r\n                    Converter&lt;ResponseBody, BasicResponse&gt; errorConverter =\r\n                        retrofit.responseConverter(BasicResponse.class, new Annotation[0]);\r\n                    BasicResponse error = errorConverter.convert(response.errorBody());\r\n                    //DO ERROR HANDLING HERE\r\n                    return;\r\n                }\r\n                RegistrationResponse registrationResponse = response.body();\r\n                //DO SUCCESS HANDLING HERE\r\n            }\r\n    \r\n            @Override\r\n            public void onFailure(Throwable t) {\r\n                //DO NETWORK ERROR HANDLING HERE\r\n            }\r\n        });\r\n\r\n**Update for Retrofit 2 beta3:**\r\n\r\n1. Synchronous - not changed\r\n2. Asynchronous - Retrofit parameter was removed from onResponse\r\n\r\n        Call&lt;BasicResponse&gt; call = service.loadRepo();\r\n        call.enqueue(new Callback&lt;BasicResponse&gt;() {\r\n            @Override\r\n            public void onResponse(Response&lt;BasicResponse&gt; response) {\r\n                if (response != null &amp;&amp; !response.isSuccess() &amp;&amp; response.errorBody() != null) {\r\n                    Converter&lt;ResponseBody, BasicResponse&gt; errorConverter =\r\n                        MyApplication.getRestClient().getRetrofitInstance().responseConverter(BasicResponse.class, new Annotation[0]);\r\n                    BasicResponse error = errorConverter.convert(response.errorBody());\r\n                    //DO ERROR HANDLING HERE\r\n                    return;\r\n                }\r\n                RegistrationResponse registrationResponse = response.body();\r\n                //DO SUCCESS HANDLING HERE\r\n            }\r\n    \r\n            @Override\r\n            public void onFailure(Throwable t) {\r\n                //DO NETWORK ERROR HANDLING HERE\r\n            }\r\n        });","title":"Retrofit 2.0 how to get deserialised error response.body","body":"<p>In Retrofit 2.0 beta2 this is the way that I'm getting error responses:</p>\n\n<ol>\n<li><p>Synchronous </p>\n\n\n\n<pre class=\"lang-java prettyprint-override\"><code>try {\n   Call&lt;RegistrationResponse&gt; call = backendServiceApi.register(data.in.account, data.in.password,\n           data.in.email);\n   Response&lt;RegistrationResponse&gt; response = call.execute();\n   if (response != null &amp;&amp; !response.isSuccess() &amp;&amp; response.errorBody() != null) {\n       Converter&lt;ResponseBody, BasicResponse&gt; errorConverter =\n               MyApplication.getRestClient().getRetrofitInstance().responseConverter(BasicResponse.class, new Annotation[0]);\n       BasicResponse error = errorConverter.convert(response.errorBody());\n       //DO ERROR HANDLING HERE\n       return;\n   }\n   RegistrationResponse registrationResponse = response.body();\n   //DO SUCCESS HANDLING HERE\n} catch (IOException e) {\n   //DO NETWORK ERROR HANDLING HERE\n}\n</code></pre></li>\n<li><p>Asynchronous</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>Call&lt;BasicResponse&gt; call = service.loadRepo();\ncall.enqueue(new Callback&lt;BasicResponse&gt;() {\n    @Override\n    public void onResponse(Response&lt;BasicResponse&gt; response, Retrofit retrofit) {\n        if (response != null &amp;&amp; !response.isSuccess() &amp;&amp; response.errorBody() != null) {\n            Converter&lt;ResponseBody, BasicResponse&gt; errorConverter =\n                retrofit.responseConverter(BasicResponse.class, new Annotation[0]);\n            BasicResponse error = errorConverter.convert(response.errorBody());\n            //DO ERROR HANDLING HERE\n            return;\n        }\n        RegistrationResponse registrationResponse = response.body();\n        //DO SUCCESS HANDLING HERE\n    }\n\n    @Override\n    public void onFailure(Throwable t) {\n        //DO NETWORK ERROR HANDLING HERE\n    }\n});\n</code></pre></li>\n</ol>\n\n<p><strong>Update for Retrofit 2 beta3:</strong></p>\n\n<ol>\n<li>Synchronous - not changed</li>\n<li><p>Asynchronous - Retrofit parameter was removed from onResponse</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>Call&lt;BasicResponse&gt; call = service.loadRepo();\ncall.enqueue(new Callback&lt;BasicResponse&gt;() {\n    @Override\n    public void onResponse(Response&lt;BasicResponse&gt; response) {\n        if (response != null &amp;&amp; !response.isSuccess() &amp;&amp; response.errorBody() != null) {\n            Converter&lt;ResponseBody, BasicResponse&gt; errorConverter =\n                MyApplication.getRestClient().getRetrofitInstance().responseConverter(BasicResponse.class, new Annotation[0]);\n            BasicResponse error = errorConverter.convert(response.errorBody());\n            //DO ERROR HANDLING HERE\n            return;\n        }\n        RegistrationResponse registrationResponse = response.body();\n        //DO SUCCESS HANDLING HERE\n    }\n\n    @Override\n    public void onFailure(Throwable t) {\n        //DO NETWORK ERROR HANDLING HERE\n    }\n});\n</code></pre></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":2532712,"reputation":692,"user_id":2200654,"accept_rate":33,"display_name":"Shantanu"},"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1449662794,"creation_date":1445441569,"answer_id":33263412,"question_id":32519618,"body_markdown":"I did it this way for asynchronous calls using Retrofit 2.0-beta2:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    @Override\r\n    public void onResponse(Response&lt;RegistrationResponse&gt; response, \r\n                           Retrofit retrofit) {\r\n        if (response.isSuccess()) {\r\n            // Do success handling here\r\n        } else {\r\n            try {\r\n                MyError myError = (MyError)retrofit.responseConverter(\r\n                        MyError.class, MyError.class.getAnnotations())\r\n                    .convert(response.errorBody());\r\n                // Do error handling here\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }","title":"Retrofit 2.0 how to get deserialised error response.body","body":"<p>I did it this way for asynchronous calls using Retrofit 2.0-beta2:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Override\npublic void onResponse(Response&lt;RegistrationResponse&gt; response, \n                       Retrofit retrofit) {\n    if (response.isSuccess()) {\n        // Do success handling here\n    } else {\n        try {\n            MyError myError = (MyError)retrofit.responseConverter(\n                    MyError.class, MyError.class.getAnnotations())\n                .convert(response.errorBody());\n            // Do error handling here\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":71825,"reputation":16721,"user_id":207633,"accept_rate":100,"display_name":"Saif Bechan"},"down_vote_count":3,"up_vote_count":222,"is_accepted":false,"score":219,"last_activity_date":1664222775,"creation_date":1467888997,"answer_id":38243723,"question_id":32519618,"body_markdown":"I currently use a very easy implementation, which does not require to use converters or special classes. The code I use is the following:\r\n\r\n    public void onResponse(Call&lt;ResponseBody&gt; call, Response&lt;ResponseBody&gt; response) {\r\n        DialogHelper.dismiss();\r\n\r\n        if (response.isSuccessful()) {\r\n            // Do your success stuff...\r\n        } else {\r\n            try {\r\n                JSONObject jObjError = new JSONObject(response.errorBody().string());\r\n                Toast.makeText(getContext(), jObjError.getJSONObject(&quot;error&quot;).getString(&quot;message&quot;), Toast.LENGTH_LONG).show();\r\n            } catch (Exception e) {\r\n                Toast.makeText(getContext(), e.getMessage(), Toast.LENGTH_LONG).show();\r\n            }\r\n        }\r\n    }\r\n\r\nA point to note here is that `response.errorBody().string()` will return the correct value only once. If you call it again, it will return an empty string. So in case you want to reuse it, store the value in a variable with the first call. \r\n\r\nThere is a way to get the error body string from the response without making it empty on the next call, by rolling your own implementation of `toString()` that does not update the `errorBody` Buffer&#39;s read-pointer.\r\n See [this answer][1] for more info.\r\n\r\n  [1]: https://stackoverflow.com/a/73857446/9952567","title":"Retrofit 2.0 how to get deserialised error response.body","body":"<p>I currently use a very easy implementation, which does not require to use converters or special classes. The code I use is the following:</p>\n<pre><code>public void onResponse(Call&lt;ResponseBody&gt; call, Response&lt;ResponseBody&gt; response) {\n    DialogHelper.dismiss();\n\n    if (response.isSuccessful()) {\n        // Do your success stuff...\n    } else {\n        try {\n            JSONObject jObjError = new JSONObject(response.errorBody().string());\n            Toast.makeText(getContext(), jObjError.getJSONObject(&quot;error&quot;).getString(&quot;message&quot;), Toast.LENGTH_LONG).show();\n        } catch (Exception e) {\n            Toast.makeText(getContext(), e.getMessage(), Toast.LENGTH_LONG).show();\n        }\n    }\n}\n</code></pre>\n<p>A point to note here is that <code>response.errorBody().string()</code> will return the correct value only once. If you call it again, it will return an empty string. So in case you want to reuse it, store the value in a variable with the first call.</p>\n<p>There is a way to get the error body string from the response without making it empty on the next call, by rolling your own implementation of <code>toString()</code> that does not update the <code>errorBody</code> Buffer's read-pointer.\nSee <a href=\"https://stackoverflow.com/a/73857446/9952567\">this answer</a> for more info.</p>\n"},{"tags":[],"owner":{"account_id":3482475,"reputation":27230,"user_id":2914140,"accept_rate":69,"display_name":"CoolMind"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1474220714,"creation_date":1474220714,"answer_id":39560782,"question_id":32519618,"body_markdown":"In https://stackoverflow.com/a/21103420/2914140 and https://futurestud.io/tutorials/retrofit-2-simple-error-handling this variant is shown for Retrofit 2.1.0.\r\n\r\n    call.enqueue(new Callback&lt;MyResponse&gt;() {\r\n        @Override\r\n        public void onResponse(Call&lt;MyResponse&gt; call, Response&lt;MyResponse&gt; response) {\r\n            if (response.isSuccessful()) {\r\n                ...\r\n            } else {\r\n                Converter&lt;ResponseBody, MyError&gt; converter\r\n                        = MyApplication.getRetrofit().responseBodyConverter(\r\n                        MyError.class, new Annotation[0]);\r\n                MyError errorResponse = null;\r\n                try {\r\n                    errorResponse = converter.convert(response.errorBody());\r\n                } catch (IOException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n        }","title":"Retrofit 2.0 how to get deserialised error response.body","body":"<p>In <a href=\"https://stackoverflow.com/a/21103420/2914140\">https://stackoverflow.com/a/21103420/2914140</a> and <a href=\"https://futurestud.io/tutorials/retrofit-2-simple-error-handling\" rel=\"noreferrer\">https://futurestud.io/tutorials/retrofit-2-simple-error-handling</a> this variant is shown for Retrofit 2.1.0.</p>\n\n<pre><code>call.enqueue(new Callback&lt;MyResponse&gt;() {\n    @Override\n    public void onResponse(Call&lt;MyResponse&gt; call, Response&lt;MyResponse&gt; response) {\n        if (response.isSuccessful()) {\n            ...\n        } else {\n            Converter&lt;ResponseBody, MyError&gt; converter\n                    = MyApplication.getRetrofit().responseBodyConverter(\n                    MyError.class, new Annotation[0]);\n            MyError errorResponse = null;\n            try {\n                errorResponse = converter.convert(response.errorBody());\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3752594,"reputation":221,"user_id":3119752,"display_name":"KRUPEN GHETIYA"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1486991080,"creation_date":1486991080,"answer_id":42204756,"question_id":32519618,"body_markdown":"This seems to be the problem when you use OkHttp along with Retrofit, so either you can remove OkHttp or use code below to get error body:\r\n\r\n    if (!response.isSuccessful()) {\r\n     InputStream i = response.errorBody().byteStream();\r\n     BufferedReader r = new BufferedReader(new InputStreamReader(i));\r\n     StringBuilder errorResult = new StringBuilder();\r\n     String line;\r\n     try {\r\n       while ((line = r.readLine()) != null) {\r\n       errorResult.append(line).append(&#39;\\n&#39;);\r\n       }\r\n     } catch (IOException e) { \r\n        e.printStackTrace(); \r\n    }\r\n    }\r\n\r\n\r\n","title":"Retrofit 2.0 how to get deserialised error response.body","body":"<p>This seems to be the problem when you use OkHttp along with Retrofit, so either you can remove OkHttp or use code below to get error body:</p>\n\n<pre><code>if (!response.isSuccessful()) {\n InputStream i = response.errorBody().byteStream();\n BufferedReader r = new BufferedReader(new InputStreamReader(i));\n StringBuilder errorResult = new StringBuilder();\n String line;\n try {\n   while ((line = r.readLine()) != null) {\n   errorResult.append(line).append('\\n');\n   }\n } catch (IOException e) { \n    e.printStackTrace(); \n}\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10259289,"reputation":461,"user_id":7571184,"display_name":"Pooja Gupta"},"down_vote_count":0,"up_vote_count":46,"is_accepted":false,"score":46,"last_activity_date":1504847992,"creation_date":1487190653,"answer_id":42259434,"question_id":32519618,"body_markdown":"I solved it by:\r\n\r\n   \r\n\r\n     if(!response.isSuccessful()){\r\n           Gson gson = new Gson();\r\n           MyErrorMessage message=gson.fromJson(response.errorBody().charStream(),MyErrorMessage.class);\r\n           if(message.getCode()==ErrorCode.DUPLICATE_EMAIL_ID_CODE){\r\n                      //DO Error Code specific handling                        \r\n            }else{\r\n                     //DO GENERAL Error Code Specific handling                               \r\n            }\r\n        }\r\n\r\nMyErrorMessage Class:\r\n\r\n      public class MyErrorMessage {\r\n         private int code;\r\n         private String message;\r\n    \r\n         public int getCode() {\r\n            return code;\r\n         }\r\n    \r\n         public void setCode(int code) {\r\n            this.code = code;\r\n         }\r\n    \r\n         public String getMessage() {\r\n             return message;\r\n         }\r\n    \r\n         public void setMessage(String message) {\r\n            this.message = message;\r\n         }\r\n       }\r\n\r\n  ","title":"Retrofit 2.0 how to get deserialised error response.body","body":"<p>I solved it by:</p>\n\n<pre><code> if(!response.isSuccessful()){\n       Gson gson = new Gson();\n       MyErrorMessage message=gson.fromJson(response.errorBody().charStream(),MyErrorMessage.class);\n       if(message.getCode()==ErrorCode.DUPLICATE_EMAIL_ID_CODE){\n                  //DO Error Code specific handling                        \n        }else{\n                 //DO GENERAL Error Code Specific handling                               \n        }\n    }\n</code></pre>\n\n<p>MyErrorMessage Class:</p>\n\n<pre><code>  public class MyErrorMessage {\n     private int code;\n     private String message;\n\n     public int getCode() {\n        return code;\n     }\n\n     public void setCode(int code) {\n        this.code = code;\n     }\n\n     public String getMessage() {\n         return message;\n     }\n\n     public void setMessage(String message) {\n        this.message = message;\n     }\n   }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":244719,"reputation":5617,"user_id":517733,"accept_rate":50,"display_name":"Mike6679"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1491529671,"creation_date":1491529671,"answer_id":43268376,"question_id":32519618,"body_markdown":"    try{\r\n                    ResponseBody response = ((HttpException) t).response().errorBody();\r\n                    JSONObject json = new JSONObject( new String(response.bytes()) );\r\n                    errMsg = json.getString(&quot;message&quot;);\r\n                }catch(JSONException e){\r\n                    return t.getMessage();\r\n                }\r\n                catch(IOException e){\r\n                    return t.getMessage();\r\n                }","title":"Retrofit 2.0 how to get deserialised error response.body","body":"<pre><code>try{\n                ResponseBody response = ((HttpException) t).response().errorBody();\n                JSONObject json = new JSONObject( new String(response.bytes()) );\n                errMsg = json.getString(\"message\");\n            }catch(JSONException e){\n                return t.getMessage();\n            }\n            catch(IOException e){\n                return t.getMessage();\n            }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5839966,"reputation":385,"user_id":4601894,"display_name":"Vins"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1496906624,"creation_date":1495812908,"answer_id":44205320,"question_id":32519618,"body_markdown":"     \r\n\r\n     @Override\r\n     public void onResponse(Call&lt;Void&gt; call, retrofit2.Response&lt;Void&gt; response) {\r\n                if (response.isSuccessful()) {\r\n               \r\n                //Do something if response is ok\r\n                } else {\r\n                    \r\n                    JsonParser parser = new JsonParser();\r\n                    JsonElement mJson = null;\r\n                    try {\r\n                        mJson = parser.parse(response.errorBody().string());\r\n                        Gson gson = new Gson();\r\n                        MyError errorResponse = gson.fromJson(mJson, MyError.class);\r\n                    } catch (IOException ex) {\r\n                        ex.printStackTrace();\r\n                    }\r\n              \r\n                }\r\n     ","title":"Retrofit 2.0 how to get deserialised error response.body","body":"<pre><code> @Override\n public void onResponse(Call&lt;Void&gt; call, retrofit2.Response&lt;Void&gt; response) {\n            if (response.isSuccessful()) {\n\n            //Do something if response is ok\n            } else {\n\n                JsonParser parser = new JsonParser();\n                JsonElement mJson = null;\n                try {\n                    mJson = parser.parse(response.errorBody().string());\n                    Gson gson = new Gson();\n                    MyError errorResponse = gson.fromJson(mJson, MyError.class);\n                } catch (IOException ex) {\n                    ex.printStackTrace();\n                }\n\n            }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1544480,"reputation":35685,"user_id":1438339,"accept_rate":75,"display_name":"Adam Johns"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1496620105,"creation_date":1496620105,"answer_id":44359933,"question_id":32519618,"body_markdown":"In Kotlin:\r\n\r\n    val call = APIClient.getInstance().signIn(AuthRequestWrapper(AuthRequest(&quot;1234567890z&quot;, &quot;12341234&quot;, &quot;nonce&quot;)))\r\n    call.enqueue(object : Callback&lt;AuthResponse&gt; {\r\n        override fun onResponse(call: Call&lt;AuthResponse&gt;, response: Response&lt;AuthResponse&gt;) {\r\n            if (response.isSuccessful) {\r\n    \r\n            } else {\r\n                val a = object : Annotation{}\r\n                val errorConverter = RentalGeekClient.getRetrofitInstance().responseBodyConverter&lt;AuthFailureResponse&gt;(AuthFailureResponse::class.java, arrayOf(a))\r\n                val authFailureResponse = errorConverter.convert(response.errorBody())\r\n            }\r\n        }\r\n    \r\n        override fun onFailure(call: Call&lt;AuthResponse&gt;, t: Throwable) {\r\n        }\r\n    })\r\n\r\n","title":"Retrofit 2.0 how to get deserialised error response.body","body":"<p>In Kotlin:</p>\n\n<pre><code>val call = APIClient.getInstance().signIn(AuthRequestWrapper(AuthRequest(\"1234567890z\", \"12341234\", \"nonce\")))\ncall.enqueue(object : Callback&lt;AuthResponse&gt; {\n    override fun onResponse(call: Call&lt;AuthResponse&gt;, response: Response&lt;AuthResponse&gt;) {\n        if (response.isSuccessful) {\n\n        } else {\n            val a = object : Annotation{}\n            val errorConverter = RentalGeekClient.getRetrofitInstance().responseBodyConverter&lt;AuthFailureResponse&gt;(AuthFailureResponse::class.java, arrayOf(a))\n            val authFailureResponse = errorConverter.convert(response.errorBody())\n        }\n    }\n\n    override fun onFailure(call: Call&lt;AuthResponse&gt;, t: Throwable) {\n    }\n})\n</code></pre>\n"},{"tags":[],"owner":{"account_id":214402,"reputation":9347,"user_id":468360,"display_name":"Codeversed"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1499726758,"creation_date":1499726758,"answer_id":45022778,"question_id":32519618,"body_markdown":"\r\nThis way you do not need a Retrofit instance if you only are injecting a service created from Retrofit. \r\n    \r\n    public class ErrorUtils {\r\n\r\n      public static APIError parseError(Context context, Response&lt;?&gt; response) {\r\n\r\n        APIError error = new APIError();\r\n\r\n        try {\r\n            Gson gson = new Gson();\r\n            error = gson.fromJson(response.errorBody().charStream(), APIError.class);\r\n        } catch (Exception e) {\r\n            Toast.makeText(context, e.getMessage(), Toast.LENGTH_LONG).show();\r\n        }\r\n\r\n        if (TextUtils.isEmpty(error.getErrorMessage())) {\r\n            error.setError(response.raw().message());\r\n        }\r\n        return error;\r\n      }\r\n    }\r\n\r\nUse it like this:\r\n\r\n    if (response.isSuccessful()) {\r\n\r\n          ...\r\n\r\n        } else {\r\n\r\n          String msg = ErrorUtils.parseError(fragment.getActivity(), response).getError(); // would be from your error class\r\n          Snackbar.make(someview, msg, Snackbar.LENGTH_LONG).show();\r\n        }\r\n      }","title":"Retrofit 2.0 how to get deserialised error response.body","body":"<p>This way you do not need a Retrofit instance if you only are injecting a service created from Retrofit. </p>\n\n<pre><code>public class ErrorUtils {\n\n  public static APIError parseError(Context context, Response&lt;?&gt; response) {\n\n    APIError error = new APIError();\n\n    try {\n        Gson gson = new Gson();\n        error = gson.fromJson(response.errorBody().charStream(), APIError.class);\n    } catch (Exception e) {\n        Toast.makeText(context, e.getMessage(), Toast.LENGTH_LONG).show();\n    }\n\n    if (TextUtils.isEmpty(error.getErrorMessage())) {\n        error.setError(response.raw().message());\n    }\n    return error;\n  }\n}\n</code></pre>\n\n<p>Use it like this:</p>\n\n<pre><code>if (response.isSuccessful()) {\n\n      ...\n\n    } else {\n\n      String msg = ErrorUtils.parseError(fragment.getActivity(), response).getError(); // would be from your error class\n      Snackbar.make(someview, msg, Snackbar.LENGTH_LONG).show();\n    }\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5753363,"reputation":3741,"user_id":4542217,"display_name":"Shahab Rauf"},"down_vote_count":1,"up_vote_count":102,"is_accepted":false,"score":101,"last_activity_date":1540830645,"creation_date":1518521722,"answer_id":48765883,"question_id":32519618,"body_markdown":"**ErrorResponse** is your custom response object\r\n\r\nKotlin  \r\n\r\n    val gson = Gson()\r\n    val type = object : TypeToken&lt;ErrorResponse&gt;() {}.type\r\n    var errorResponse: ErrorResponse? = gson.fromJson(response.errorBody()!!.charStream(), type)\r\n       \r\nJava\r\n\r\n    Gson gson = new Gson();\r\n    Type type = new TypeToken&lt;ErrorResponse&gt;() {}.getType();\r\n    ErrorResponse errorResponse = gson.fromJson(response.errorBody.charStream(),type);","title":"Retrofit 2.0 how to get deserialised error response.body","body":"<p><strong>ErrorResponse</strong> is your custom response object</p>\n\n<p>Kotlin  </p>\n\n<pre><code>val gson = Gson()\nval type = object : TypeToken&lt;ErrorResponse&gt;() {}.type\nvar errorResponse: ErrorResponse? = gson.fromJson(response.errorBody()!!.charStream(), type)\n</code></pre>\n\n<p>Java</p>\n\n<pre><code>Gson gson = new Gson();\nType type = new TypeToken&lt;ErrorResponse&gt;() {}.getType();\nErrorResponse errorResponse = gson.fromJson(response.errorBody.charStream(),type);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":236862,"reputation":191,"user_id":504641,"display_name":"Egemen Mede"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1569388995,"creation_date":1522240756,"answer_id":49534802,"question_id":32519618,"body_markdown":"errorBody values should set APIError object in Retrofit. So that, you can use the below code structure.\r\n\r\n    public class APIErrorUtils {\r\n\r\n        public static APIError parseError(Response&lt;?&gt; response) {\r\n            Converter&lt;ResponseBody, APIError&gt; converter = API.getClient().responseBodyConverter(APIError.class, new Annotation[0]);\r\n\r\n            APIError error;\r\n\r\n            try {\r\n                error = converter.convert(response.errorBody());\r\n                Log.d(&quot;SERVICELOG&quot;, &quot;****************************************************&quot;);\r\n                Log.d(&quot;SERVICELOG&quot;, &quot;***** SERVICE LOG&quot;);\r\n                Log.d(&quot;SERVICELOG&quot;, &quot;***** TIMESTAMP: &quot; + String.valueOf(error.getTimestamp()));\r\n                Log.d(&quot;SERVICELOG&quot;, &quot;***** STATUS: &quot; + String.valueOf(error.getStatus()));\r\n                Log.d(&quot;SERVICELOG&quot;, &quot;***** ERROR: &quot; + error.getError());\r\n                Log.d(&quot;SERVICELOG&quot;, &quot;***** MESSAGE: &quot; + error.getMessage());\r\n                Log.d(&quot;SERVICELOG&quot;, &quot;***** PATH: &quot; + error.getPath());\r\n                Log.d(&quot;SERVICELOG&quot;, &quot;****************************************************&quot;);\r\n            } catch (IOException e) {\r\n                return new APIError();\r\n            }\r\n\r\n            return error;\r\n        }\r\n    }\r\n\r\n    APIError error = APIErrorUtils.parseError(response);\r\n    if (error.getStatus() == 400) {\r\n        ....\r\n    }","title":"Retrofit 2.0 how to get deserialised error response.body","body":"<p>errorBody values should set APIError object in Retrofit. So that, you can use the below code structure.</p>\n\n<pre><code>public class APIErrorUtils {\n\n    public static APIError parseError(Response&lt;?&gt; response) {\n        Converter&lt;ResponseBody, APIError&gt; converter = API.getClient().responseBodyConverter(APIError.class, new Annotation[0]);\n\n        APIError error;\n\n        try {\n            error = converter.convert(response.errorBody());\n            Log.d(\"SERVICELOG\", \"****************************************************\");\n            Log.d(\"SERVICELOG\", \"***** SERVICE LOG\");\n            Log.d(\"SERVICELOG\", \"***** TIMESTAMP: \" + String.valueOf(error.getTimestamp()));\n            Log.d(\"SERVICELOG\", \"***** STATUS: \" + String.valueOf(error.getStatus()));\n            Log.d(\"SERVICELOG\", \"***** ERROR: \" + error.getError());\n            Log.d(\"SERVICELOG\", \"***** MESSAGE: \" + error.getMessage());\n            Log.d(\"SERVICELOG\", \"***** PATH: \" + error.getPath());\n            Log.d(\"SERVICELOG\", \"****************************************************\");\n        } catch (IOException e) {\n            return new APIError();\n        }\n\n        return error;\n    }\n}\n\nAPIError error = APIErrorUtils.parseError(response);\nif (error.getStatus() == 400) {\n    ....\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3730291,"reputation":1633,"user_id":3102913,"accept_rate":33,"display_name":"pavel"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1583673409,"creation_date":1538379998,"answer_id":52586619,"question_id":32519618,"body_markdown":"I was facing same issue. I solved it with retrofit. Let me show this... \r\n\r\nIf your error JSON structure are like \r\n\r\n    {\r\n    &quot;error&quot;: {\r\n        &quot;status&quot;: &quot;The email field is required.&quot;\r\n    }\r\n    }\r\n\r\n\r\n    My ErrorRespnce.java \r\n\r\n    public class ErrorResponse {\r\n\r\n       @SerializedName(&quot;error&quot;)\r\n       @Expose\r\n       private ErrorStatus error;\r\n\r\n       public ErrorStatus getError() {\r\n          return error;\r\n       }\r\n  \r\n       public void setError(ErrorStatus error) {\r\n          this.error = error;\r\n       }\r\n    }\r\n\r\n\r\n\r\nAnd this my Error status class\r\n\r\n    public class ErrorStatus {\r\n\r\n      @SerializedName(&quot;status&quot;)\r\n      @Expose\r\n      private String status;\r\n\r\n      public String getStatus() {\r\n          return status;\r\n      }\r\n\r\n      public void setStatus(String status) {\r\n          this.status = status;\r\n      }\r\n    }\r\n\r\n\r\n\r\nNow we need a class which can handle our json. \r\n\r\n \r\n\r\n      public class ErrorUtils {\r\n\r\n       public static ErrorResponse parseError (Response&lt;?&gt; response){\r\n          Converter&lt;ResponseBody , ErrorResponse&gt; converter =          ApiClient.getClient().responseBodyConverter(ErrorResponse.class , new Annotation[0]);\r\n        ErrorResponse errorResponse;\r\n        try{\r\n            errorResponse = converter.convert(response.errorBody());\r\n        }catch (IOException e){\r\n            return new ErrorResponse();\r\n        }\r\n        return errorResponse;\r\n    }\r\n    }\r\n\r\n\r\nNow we can check our response in retrofit api call \r\n\r\n\r\n\r\n\r\n\r\n\r\n    private void registrationRequest(String name , String email , String password , String c_password){\r\n       \r\n\r\n        final Call&lt;RegistrationResponce&gt; registrationResponceCall = apiInterface.getRegistration(name , email , password , c_password);\r\n        registrationResponceCall.enqueue(new Callback&lt;RegistrationResponce&gt;() {\r\n            @Override\r\n            public void onResponse(Call&lt;RegistrationResponce&gt; call, Response&lt;RegistrationResponce&gt; response) {\r\n\r\n            \r\n\r\n                if (response.code() == 200){\r\n\r\n\r\n                }else if (response.code() == 401){\r\n\r\n                   \r\n                    ErrorResponse errorResponse = ErrorUtils.parseError(response);\r\n                    Toast.makeText(MainActivity.this, &quot;&quot;+errorResponse.getError().getStatus(), Toast.LENGTH_SHORT).show();\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public void onFailure(Call&lt;RegistrationResponce&gt; call, Throwable t) {\r\n\r\n            }\r\n        });\r\n    }\r\n\r\n\r\nThat&#39;s it now you can show your Toast\r\n ","title":"Retrofit 2.0 how to get deserialised error response.body","body":"<p>I was facing same issue. I solved it with retrofit. Let me show this... </p>\n\n<p>If your error JSON structure are like </p>\n\n<pre><code>{\n\"error\": {\n    \"status\": \"The email field is required.\"\n}\n}\n\n\nMy ErrorRespnce.java \n\npublic class ErrorResponse {\n\n   @SerializedName(\"error\")\n   @Expose\n   private ErrorStatus error;\n\n   public ErrorStatus getError() {\n      return error;\n   }\n\n   public void setError(ErrorStatus error) {\n      this.error = error;\n   }\n}\n</code></pre>\n\n<p>And this my Error status class</p>\n\n<pre><code>public class ErrorStatus {\n\n  @SerializedName(\"status\")\n  @Expose\n  private String status;\n\n  public String getStatus() {\n      return status;\n  }\n\n  public void setStatus(String status) {\n      this.status = status;\n  }\n}\n</code></pre>\n\n<p>Now we need a class which can handle our json. </p>\n\n<pre><code>  public class ErrorUtils {\n\n   public static ErrorResponse parseError (Response&lt;?&gt; response){\n      Converter&lt;ResponseBody , ErrorResponse&gt; converter =          ApiClient.getClient().responseBodyConverter(ErrorResponse.class , new Annotation[0]);\n    ErrorResponse errorResponse;\n    try{\n        errorResponse = converter.convert(response.errorBody());\n    }catch (IOException e){\n        return new ErrorResponse();\n    }\n    return errorResponse;\n}\n}\n</code></pre>\n\n<p>Now we can check our response in retrofit api call </p>\n\n<pre><code>private void registrationRequest(String name , String email , String password , String c_password){\n\n\n    final Call&lt;RegistrationResponce&gt; registrationResponceCall = apiInterface.getRegistration(name , email , password , c_password);\n    registrationResponceCall.enqueue(new Callback&lt;RegistrationResponce&gt;() {\n        @Override\n        public void onResponse(Call&lt;RegistrationResponce&gt; call, Response&lt;RegistrationResponce&gt; response) {\n\n\n\n            if (response.code() == 200){\n\n\n            }else if (response.code() == 401){\n\n\n                ErrorResponse errorResponse = ErrorUtils.parseError(response);\n                Toast.makeText(MainActivity.this, \"\"+errorResponse.getError().getStatus(), Toast.LENGTH_SHORT).show();\n            }\n        }\n\n        @Override\n        public void onFailure(Call&lt;RegistrationResponce&gt; call, Throwable t) {\n\n        }\n    });\n}\n</code></pre>\n\n<p>That's it now you can show your Toast</p>\n"},{"tags":[],"owner":{"account_id":3310029,"reputation":5220,"user_id":3278271,"accept_rate":0,"display_name":"Arsenius"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1554431429,"creation_date":1553065064,"answer_id":55255097,"question_id":32519618,"body_markdown":"If you use Kotlin another solution could be just create extension function for Response class:\r\n\r\n    inline fun &lt;reified T&gt;Response&lt;*&gt;.parseErrJsonResponse(): T?\r\n    {\r\n        val moshi = MyCustomMoshiBuilder().build()\r\n        val parser = moshi.adapter(T::class.java)\r\n        val response = errorBody()?.string()\r\n        if(response != null)\r\n            try {\r\n                return parser.fromJson(response)\r\n            } catch(e: JsonDataException) {\r\n                e.printStackTrace()\r\n            }\r\n        return null\r\n    }\r\n\r\nUsage \r\n\r\n \r\n    val myError = response.parseErrJsonResponse&lt;MyErrorResponse&gt;()\r\n    if(myError != null) {\r\n       // handle your error logic here\r\n       // ...\r\n    }\r\n    \r\n    \r\n       ","title":"Retrofit 2.0 how to get deserialised error response.body","body":"<p>If you use Kotlin another solution could be just create extension function for Response class:</p>\n\n<pre><code>inline fun &lt;reified T&gt;Response&lt;*&gt;.parseErrJsonResponse(): T?\n{\n    val moshi = MyCustomMoshiBuilder().build()\n    val parser = moshi.adapter(T::class.java)\n    val response = errorBody()?.string()\n    if(response != null)\n        try {\n            return parser.fromJson(response)\n        } catch(e: JsonDataException) {\n            e.printStackTrace()\n        }\n    return null\n}\n</code></pre>\n\n<p>Usage </p>\n\n<pre><code>val myError = response.parseErrJsonResponse&lt;MyErrorResponse&gt;()\nif(myError != null) {\n   // handle your error logic here\n   // ...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3613707,"reputation":3157,"user_id":4074913,"accept_rate":50,"display_name":"Riyas PK"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1600521708,"creation_date":1566193075,"answer_id":57550986,"question_id":32519618,"body_markdown":"    if(!response.isSuccessful()) {\r\n        StringBuilder error = new StringBuilder();\r\n        try {\r\n            BufferedReader bufferedReader = null;\r\n            if (response.errorBody() != null) {\r\n                bufferedReader = new BufferedReader(new InputStreamReader(\r\n                        response.errorBody().byteStream()));\r\n    \r\n                String eLine = null;\r\n                while ((eLine = bufferedReader.readLine()) != null) {\r\n                    error.append(eLine);\r\n                }\r\n                bufferedReader.close();\r\n            }\r\n    \r\n        } catch (Exception e) {\r\n            error.append(e.getMessage());\r\n        }\r\n    \r\n        Log.e(&quot;Error&quot;, error.toString());\r\n    }","title":"Retrofit 2.0 how to get deserialised error response.body","body":"<pre><code>if(!response.isSuccessful()) {\n    StringBuilder error = new StringBuilder();\n    try {\n        BufferedReader bufferedReader = null;\n        if (response.errorBody() != null) {\n            bufferedReader = new BufferedReader(new InputStreamReader(\n                    response.errorBody().byteStream()));\n\n            String eLine = null;\n            while ((eLine = bufferedReader.readLine()) != null) {\n                error.append(eLine);\n            }\n            bufferedReader.close();\n        }\n\n    } catch (Exception e) {\n        error.append(e.getMessage());\n    }\n\n    Log.e(&quot;Error&quot;, error.toString());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8839517,"reputation":453,"user_id":6602399,"display_name":"The MJ"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1569778492,"creation_date":1569778492,"answer_id":58157630,"question_id":32519618,"body_markdown":"Tested and works\r\n\r\n \r\n\r\n     public BaseModel parse(Response&lt;BaseModel&gt; response , Retrofit retrofit){\r\n                BaseModel error = null;\r\n                Converter&lt;ResponseBody, BaseModel&gt; errorConverter =\r\n                        retrofit.responseBodyConverter(BaseModel.class, new Annotation[0]);\r\n                try {\r\n                    if (response.errorBody() != null) {\r\n                        error = errorConverter.convert(response.errorBody());\r\n                    }\r\n                } catch (IOException e) {\r\n                    e.printStackTrace();\r\n                }\r\n                return error;\r\n            }","title":"Retrofit 2.0 how to get deserialised error response.body","body":"<p>Tested and works</p>\n\n<pre><code> public BaseModel parse(Response&lt;BaseModel&gt; response , Retrofit retrofit){\n            BaseModel error = null;\n            Converter&lt;ResponseBody, BaseModel&gt; errorConverter =\n                    retrofit.responseBodyConverter(BaseModel.class, new Annotation[0]);\n            try {\n                if (response.errorBody() != null) {\n                    error = errorConverter.convert(response.errorBody());\n                }\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n            return error;\n        }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16691824,"reputation":34,"user_id":12064230,"display_name":"Gary Loyola"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1580161201,"creation_date":1580161201,"answer_id":59939293,"question_id":32519618,"body_markdown":"    val error = JSONObject(callApi.errorBody()?.string() as String)\r\n                CustomResult.OnError(CustomNotFoundError(userMessage = error[&quot;userMessage&quot;] as String))\r\n\r\n    open class CustomError (\r\n        val traceId: String? = null,\r\n        val errorCode: String? = null,\r\n        val systemMessage: String? = null,\r\n        val userMessage: String? = null,\r\n        val cause: Throwable? = null\r\n    )\r\n    \r\n    open class ErrorThrowable(\r\n        private val traceId: String? = null,\r\n        private val errorCode: String? = null,\r\n        private val systemMessage: String? = null,\r\n        private val userMessage: String? = null,\r\n        override val cause: Throwable? = null\r\n    ) : Throwable(userMessage, cause) {\r\n        fun toError(): CustomError = CustomError(traceId, errorCode, systemMessage, userMessage, cause)\r\n    }\r\n    \r\n    \r\n    class NetworkError(traceId: String? = null, errorCode: String? = null, systemMessage: String? = null, userMessage: String? = null, cause: Throwable? = null):\r\n        CustomError(traceId, errorCode, systemMessage, userMessage?: &quot;Usted no tiene conexi&#243;n a internet, active los datos&quot;, cause)\r\n    \r\n    class HttpError(traceId: String? = null, errorCode: String? = null, systemMessage: String? = null, userMessage: String? = null, cause: Throwable? = null):\r\n        CustomError(traceId, errorCode, systemMessage, userMessage, cause)\r\n    \r\n    class UnknownError(traceId: String? = null, errorCode: String? = null, systemMessage: String? = null, userMessage: String? = null, cause: Throwable? = null):\r\n        CustomError(traceId, errorCode, systemMessage, userMessage?: &quot;Unknown error&quot;, cause)\r\n    \r\n    class CustomNotFoundError(traceId: String? = null, errorCode: String? = null, systemMessage: String? = null, userMessage: String? = null, cause: Throwable? = null):\r\n        CustomError(traceId, errorCode, systemMessage, userMessage?: &quot;Data not found&quot;, cause)`","title":"Retrofit 2.0 how to get deserialised error response.body","body":"<pre><code>val error = JSONObject(callApi.errorBody()?.string() as String)\n            CustomResult.OnError(CustomNotFoundError(userMessage = error[\"userMessage\"] as String))\n\nopen class CustomError (\n    val traceId: String? = null,\n    val errorCode: String? = null,\n    val systemMessage: String? = null,\n    val userMessage: String? = null,\n    val cause: Throwable? = null\n)\n\nopen class ErrorThrowable(\n    private val traceId: String? = null,\n    private val errorCode: String? = null,\n    private val systemMessage: String? = null,\n    private val userMessage: String? = null,\n    override val cause: Throwable? = null\n) : Throwable(userMessage, cause) {\n    fun toError(): CustomError = CustomError(traceId, errorCode, systemMessage, userMessage, cause)\n}\n\n\nclass NetworkError(traceId: String? = null, errorCode: String? = null, systemMessage: String? = null, userMessage: String? = null, cause: Throwable? = null):\n    CustomError(traceId, errorCode, systemMessage, userMessage?: \"Usted no tiene conexión a internet, active los datos\", cause)\n\nclass HttpError(traceId: String? = null, errorCode: String? = null, systemMessage: String? = null, userMessage: String? = null, cause: Throwable? = null):\n    CustomError(traceId, errorCode, systemMessage, userMessage, cause)\n\nclass UnknownError(traceId: String? = null, errorCode: String? = null, systemMessage: String? = null, userMessage: String? = null, cause: Throwable? = null):\n    CustomError(traceId, errorCode, systemMessage, userMessage?: \"Unknown error\", cause)\n\nclass CustomNotFoundError(traceId: String? = null, errorCode: String? = null, systemMessage: String? = null, userMessage: String? = null, cause: Throwable? = null):\n    CustomError(traceId, errorCode, systemMessage, userMessage?: \"Data not found\", cause)`\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10860508,"reputation":1460,"user_id":7985538,"display_name":"Sreekant Shenoy"},"down_vote_count":0,"up_vote_count":29,"is_accepted":false,"score":29,"last_activity_date":1582092494,"creation_date":1582092494,"answer_id":60294053,"question_id":32519618,"body_markdown":"Create a model of the Error response &amp; user Gson to convert the response to it. This will just work fine.\r\n\r\n**APIError.java**\r\n\r\n    public class APIError {\r\n        private String message;\r\n    \r\n        public String getMessage() {\r\n            return message;\r\n        }\r\n    }\r\n\r\n\r\n**MainActivity.java** (inside request onResponse)\r\n\r\n    if (response.isSuccessful()) {\r\n        // Do your success stuff...\r\n    \r\n    } else {\r\n        APIError message = new Gson().fromJson(response.errorBody().charStream(), APIError.class);\r\n        Toast.makeText(MainActivity.this, &quot;&quot; + message.getMessage(), Toast.LENGTH_SHORT).show();\r\n    }","title":"Retrofit 2.0 how to get deserialised error response.body","body":"<p>Create a model of the Error response &amp; user Gson to convert the response to it. This will just work fine.</p>\n\n<p><strong>APIError.java</strong></p>\n\n<pre><code>public class APIError {\n    private String message;\n\n    public String getMessage() {\n        return message;\n    }\n}\n</code></pre>\n\n<p><strong>MainActivity.java</strong> (inside request onResponse)</p>\n\n<pre><code>if (response.isSuccessful()) {\n    // Do your success stuff...\n\n} else {\n    APIError message = new Gson().fromJson(response.errorBody().charStream(), APIError.class);\n    Toast.makeText(MainActivity.this, \"\" + message.getMessage(), Toast.LENGTH_SHORT).show();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7209293,"reputation":3047,"user_id":5503940,"display_name":"Antonis Radz"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1588583165,"creation_date":1588059766,"answer_id":61475050,"question_id":32519618,"body_markdown":"Here is elegant solution using `Kotlin` extensions:\r\n```\r\ndata class ApiError(val code: Int, val message: String?) {\r\n    companion object {\r\n        val EMPTY_API_ERROR = ApiError(-1, null)\r\n    }\r\n}\r\n\r\nfun Throwable.getApiError(): ApiError? {\r\n    if (this is HttpException) {\r\n        try {\r\n            val errorJsonString = this.response()?.errorBody()?.string()\r\n            return Gson().fromJson(errorJsonString, ApiError::class.java)\r\n        } catch (exception: Exception) {\r\n            // Ignore\r\n        }\r\n    }\r\n    return EMPTY_API_ERROR\r\n}\r\n```\r\n\r\nand usage:\r\n\r\n`showError(retrofitThrowable.getApiError()?.message)`","title":"Retrofit 2.0 how to get deserialised error response.body","body":"<p>Here is elegant solution using <code>Kotlin</code> extensions:</p>\n\n<pre><code>data class ApiError(val code: Int, val message: String?) {\n    companion object {\n        val EMPTY_API_ERROR = ApiError(-1, null)\n    }\n}\n\nfun Throwable.getApiError(): ApiError? {\n    if (this is HttpException) {\n        try {\n            val errorJsonString = this.response()?.errorBody()?.string()\n            return Gson().fromJson(errorJsonString, ApiError::class.java)\n        } catch (exception: Exception) {\n            // Ignore\n        }\n    }\n    return EMPTY_API_ERROR\n}\n</code></pre>\n\n<p>and usage:</p>\n\n<p><code>showError(retrofitThrowable.getApiError()?.message)</code></p>\n"},{"tags":[],"owner":{"account_id":6998321,"reputation":1684,"user_id":5365227,"display_name":"Wale"},"down_vote_count":1,"up_vote_count":39,"is_accepted":false,"score":38,"last_activity_date":1602577254,"creation_date":1589502750,"answer_id":61809717,"question_id":32519618,"body_markdown":"It&#39;s actually very straight forward.\r\n\r\nKotlin:\r\n\r\n    val jsonObj = JSONObject(response.errorBody()!!.charStream().readText())\r\n    responseInterface.onFailure(jsonObj.getString(&quot;msg&quot;))\r\n\r\nJava:\r\n\r\n        if(response.errorBody()!=null){\r\n        JSONObject jsonObj = new JSONObject(TextStreamsKt.readText(response.errorBody().charStream()));\r\n            responseInterface.onFailure(jsonObj.getString(&quot;msg&quot;));\r\n        }else{\r\n            responseInterface.onFailure(&quot;you might want to return a generic error message.&quot;);\r\n        }\r\n\r\nTested on retrofit:2.5.0.\r\nRead the text from the charStream which will give you a String, then parse to JSONObject.\r\n\r\nAdios.","title":"Retrofit 2.0 how to get deserialised error response.body","body":"<p>It's actually very straight forward.</p>\n<p>Kotlin:</p>\n<pre><code>val jsonObj = JSONObject(response.errorBody()!!.charStream().readText())\nresponseInterface.onFailure(jsonObj.getString(&quot;msg&quot;))\n</code></pre>\n<p>Java:</p>\n<pre><code>    if(response.errorBody()!=null){\n    JSONObject jsonObj = new JSONObject(TextStreamsKt.readText(response.errorBody().charStream()));\n        responseInterface.onFailure(jsonObj.getString(&quot;msg&quot;));\n    }else{\n        responseInterface.onFailure(&quot;you might want to return a generic error message.&quot;);\n    }\n</code></pre>\n<p>Tested on retrofit:2.5.0.\nRead the text from the charStream which will give you a String, then parse to JSONObject.</p>\n<p>Adios.</p>\n"},{"tags":[],"owner":{"account_id":12470834,"reputation":3112,"user_id":9079028,"display_name":"Abhishek Garg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1628151517,"creation_date":1628151517,"answer_id":68662958,"question_id":32519618,"body_markdown":"**Error body handling in kotlin Android**\r\n\r\n\r\n   \r\n\r\n    catch (cause: Throwable) {\r\n                when (cause) {\r\n                    is HttpException -&gt; {\r\n                        try {\r\n                            val YourErrorResponseClassObj = Gson().fromJson(cause.response()?.errorBody()?.charStream(), YourErrorResponseClass::class.java)\r\n                        } catch (e: Exception) {\r\n                            \r\n                        }\r\n                    }\r\n                    else -&gt; {\r\n                        //Other errors like Network ...\r\n                    }\r\n                }\r\n            }","title":"Retrofit 2.0 how to get deserialised error response.body","body":"<p><strong>Error body handling in kotlin Android</strong></p>\n<pre><code>catch (cause: Throwable) {\n            when (cause) {\n                is HttpException -&gt; {\n                    try {\n                        val YourErrorResponseClassObj = Gson().fromJson(cause.response()?.errorBody()?.charStream(), YourErrorResponseClass::class.java)\n                    } catch (e: Exception) {\n                        \n                    }\n                }\n                else -&gt; {\n                    //Other errors like Network ...\n                }\n            }\n        }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2643177,"reputation":995,"user_id":2286422,"display_name":"Myroslav"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1628529101,"creation_date":1628529101,"answer_id":68716036,"question_id":32519618,"body_markdown":"There are many valid answers already. This is just an addition for a use case, when you need to consume same Retrofit response more than once. Neither of below can be used, as [you can read response body only once][1], as it will be closed afterwards and you will get `null` each next time, when you try to read from the same response object:\r\n```\r\nresponse()?.errorBody()?.charStream()?.readText()\r\nresponse()?.errorBody()?.string()\r\n```\r\n\r\nInstead, you can get read-only copy of response string (while the response itself can be passed over and eventually consumed later):\r\n```\r\nresponse()?.errorBody()?.source()?.buffer?.snapshot()?.utf8()\r\n```\r\n\r\n \r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/59739105/how-to-get-both-a-pojo-and-the-raw-response-string-back-with-retrofit","title":"Retrofit 2.0 how to get deserialised error response.body","body":"<p>There are many valid answers already. This is just an addition for a use case, when you need to consume same Retrofit response more than once. Neither of below can be used, as <a href=\"https://stackoverflow.com/questions/59739105/how-to-get-both-a-pojo-and-the-raw-response-string-back-with-retrofit\">you can read response body only once</a>, as it will be closed afterwards and you will get <code>null</code> each next time, when you try to read from the same response object:</p>\n<pre><code>response()?.errorBody()?.charStream()?.readText()\nresponse()?.errorBody()?.string()\n</code></pre>\n<p>Instead, you can get read-only copy of response string (while the response itself can be passed over and eventually consumed later):</p>\n<pre><code>response()?.errorBody()?.source()?.buffer?.snapshot()?.utf8()\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6281022,"reputation":187,"user_id":4882029,"display_name":"hamil.Dev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638021930,"creation_date":1638021930,"answer_id":70135493,"question_id":32519618,"body_markdown":"very simple. and this save my life ever\r\n\r\n    public static void displayApiResponseErrorBody(Response&lt;?&gt; response)\r\n    {\r\n        InputStream i = response.errorBody().byteStream();\r\n        BufferedReader r = new BufferedReader(new InputStreamReader(i));\r\n        StringBuilder errorResult = new StringBuilder();\r\n        String line;\r\n        try {\r\n            while ((line = r.readLine()) != null) \r\n            {\r\n                errorResult.append(line).append(&#39;\\n&#39;);\r\n            }\r\n            Log.d(&quot;API_RESPONSE_ERROR_BODY&quot;,String.valueOf(errorResult));\r\n            System.out.println(errorResult);\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }","title":"Retrofit 2.0 how to get deserialised error response.body","body":"<p>very simple. and this save my life ever</p>\n<pre><code>public static void displayApiResponseErrorBody(Response&lt;?&gt; response)\n{\n    InputStream i = response.errorBody().byteStream();\n    BufferedReader r = new BufferedReader(new InputStreamReader(i));\n    StringBuilder errorResult = new StringBuilder();\n    String line;\n    try {\n        while ((line = r.readLine()) != null) \n        {\n            errorResult.append(line).append('\\n');\n        }\n        Log.d(&quot;API_RESPONSE_ERROR_BODY&quot;,String.valueOf(errorResult));\n        System.out.println(errorResult);\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8280075,"reputation":2054,"user_id":6225053,"accept_rate":100,"display_name":"a0x2"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1639913476,"creation_date":1639913476,"answer_id":70411022,"question_id":32519618,"body_markdown":"if your error response is a string you can deserialize it by using the following kotlin code : \r\n\r\n    val errorString = response.errorBody()?.byteStream()?.bufferedReader().use { it?.readText() }  // defaults to UTF-8\r\n\r\n\r\n","title":"Retrofit 2.0 how to get deserialised error response.body","body":"<p>if your error response is a string you can deserialize it by using the following kotlin code :</p>\n<pre><code>val errorString = response.errorBody()?.byteStream()?.bufferedReader().use { it?.readText() }  // defaults to UTF-8\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17180410,"reputation":53,"user_id":14796427,"display_name":"Ruslan Grigoriev"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1643483269,"creation_date":1643483269,"answer_id":70908840,"question_id":32519618,"body_markdown":"json response\r\n```\r\n{\r\n    &quot;success&quot;: false,\r\n    &quot;status_code&quot;: 32,\r\n    &quot;status_message&quot;: &quot;Email not verified: Your email address has not been verified.&quot;\r\n}\r\n```\r\nError class\r\n```\r\ndata class ResponseError(\r\n    @SerializedName(&quot;status_code&quot;)\r\n    val statusCode: Int,\r\n    @SerializedName(&quot;status_message&quot;)\r\n    val statusMessage: String,\r\n    @SerializedName(&quot;success&quot;)\r\n    val success: Boolean\r\n)\r\n```\r\nget error message\r\n```\r\nfun &lt;T : Any&gt; getResultOrError(response: Response&lt;T&gt;): T? {\r\n    if (response.isSuccessful) {\r\n        return response.body()\r\n    } else {\r\n        try {\r\n            val responseError = Gson().fromJson(\r\n                response.errorBody()?.string(),\r\n                ResponseError::class.java\r\n            )\r\n            throw Throwable(responseError.statusMessage)\r\n        } catch (e: Exception) {\r\n            throw Throwable(&quot;Unknown error&quot;)\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\n","title":"Retrofit 2.0 how to get deserialised error response.body","body":"<p>json response</p>\n<pre><code>{\n    &quot;success&quot;: false,\n    &quot;status_code&quot;: 32,\n    &quot;status_message&quot;: &quot;Email not verified: Your email address has not been verified.&quot;\n}\n</code></pre>\n<p>Error class</p>\n<pre><code>data class ResponseError(\n    @SerializedName(&quot;status_code&quot;)\n    val statusCode: Int,\n    @SerializedName(&quot;status_message&quot;)\n    val statusMessage: String,\n    @SerializedName(&quot;success&quot;)\n    val success: Boolean\n)\n</code></pre>\n<p>get error message</p>\n<pre><code>fun &lt;T : Any&gt; getResultOrError(response: Response&lt;T&gt;): T? {\n    if (response.isSuccessful) {\n        return response.body()\n    } else {\n        try {\n            val responseError = Gson().fromJson(\n                response.errorBody()?.string(),\n                ResponseError::class.java\n            )\n            throw Throwable(responseError.statusMessage)\n        } catch (e: Exception) {\n            throw Throwable(&quot;Unknown error&quot;)\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4748150,"reputation":3816,"user_id":3838901,"display_name":"Farid Haq"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646970176,"creation_date":1646970176,"answer_id":71433403,"question_id":32519618,"body_markdown":"In case of retrofit error Response, You can get body using error.getResponse(), Here is the example.\r\n\r\n            @Override\r\n            public void failure(RetrofitError error){\r\n                if(error.getResponse().getStatus()==201){\r\n                    LogUtil.INSTANCE.debug(&quot;Success : &quot; + error.toString());\r\n                    callback.success(error.getResponse().getBody);\r\n                }else{\r\n                    LogUtil.INSTANCE.debug(&quot;failure: &quot; + error.toString());\r\n                    callback.failure(error);\r\n                }\r\n            }","title":"Retrofit 2.0 how to get deserialised error response.body","body":"<p>In case of retrofit error Response, You can get body using error.getResponse(), Here is the example.</p>\n<pre><code>        @Override\n        public void failure(RetrofitError error){\n            if(error.getResponse().getStatus()==201){\n                LogUtil.INSTANCE.debug(&quot;Success : &quot; + error.toString());\n                callback.success(error.getResponse().getBody);\n            }else{\n                LogUtil.INSTANCE.debug(&quot;failure: &quot; + error.toString());\n                callback.failure(error);\n            }\n        }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12237374,"reputation":170,"user_id":8931365,"display_name":"mona-the-rivetertocat"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1688647228,"creation_date":1652708573,"answer_id":72260215,"question_id":32519618,"body_markdown":"In Kotlin I solved it creating a custom ResponseBody generic extension function function that converts the response body to a JSONObject. then you can use gson to customize the error response body with your custom Error Data Class. \r\n\r\n```\r\ninline fun &lt;reified T&gt; ResponseBody.getErrorObject(): T {\r\n    val gson = Gson()\r\n    val jsonObject = JSONObject(charStream().readText())\r\n    return gson.fromJson(jsonObject.toString(), T::class.java)\r\n}\r\n```\r\n\r\nYou can then customize the error response to your custom class. For this I&#39;m using an example\r\n\r\n```\r\ndata class LoginError(\r\n    val error: Error,\r\n    val message: String,\r\n    val success: Boolean\r\n)\r\n\r\ndata class Error(\r\n    val error: String,\r\n    val status: Int\r\n)\r\n```\r\n\r\nthen use the extension function this way\r\n\r\n```\r\nval error = state.errorBody.getErrorObject&lt;LoginError&gt;()\r\n```\r\n\r\nthe ```state.errorBody``` is my error response from retrofit of type ResponseBody","title":"Retrofit 2.0 how to get deserialised error response.body","body":"<p>In Kotlin I solved it creating a custom ResponseBody generic extension function function that converts the response body to a JSONObject. then you can use gson to customize the error response body with your custom Error Data Class.</p>\n<pre><code>inline fun &lt;reified T&gt; ResponseBody.getErrorObject(): T {\n    val gson = Gson()\n    val jsonObject = JSONObject(charStream().readText())\n    return gson.fromJson(jsonObject.toString(), T::class.java)\n}\n</code></pre>\n<p>You can then customize the error response to your custom class. For this I'm using an example</p>\n<pre><code>data class LoginError(\n    val error: Error,\n    val message: String,\n    val success: Boolean\n)\n\ndata class Error(\n    val error: String,\n    val status: Int\n)\n</code></pre>\n<p>then use the extension function this way</p>\n<pre><code>val error = state.errorBody.getErrorObject&lt;LoginError&gt;()\n</code></pre>\n<p>the <code>state.errorBody</code> is my error response from retrofit of type ResponseBody</p>\n"},{"tags":[],"owner":{"account_id":9921486,"reputation":5699,"user_id":7344445,"display_name":"Atif AbbAsi"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1653632769,"creation_date":1653632769,"answer_id":72401290,"question_id":32519618,"body_markdown":"I did this way and it worked like a charm \r\n\r\n    val errorBody = (response?.errorBody() as ResponseBody).string()","title":"Retrofit 2.0 how to get deserialised error response.body","body":"<p>I did this way and it worked like a charm</p>\n<pre><code>val errorBody = (response?.errorBody() as ResponseBody).string()\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10985339,"reputation":384,"user_id":8071252,"display_name":"Ricardo Yubal"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1654989306,"creation_date":1654989306,"answer_id":72588483,"question_id":32519618,"body_markdown":"For people using Kotlin with Moshi and coroutines, this is what I did:\r\n\r\nError data class\r\n```kotlin\r\n@JsonClass(generateAdapter = true)\r\ndata class ApiResponseNoData(\r\n\tval exito: Int,\r\n\tval error: String?\r\n)\r\n```\r\n\r\nExtension\r\n```kotlin\r\nfun ResponseBody.getApiError(): String? {\r\n\treturn try {\r\n\t\tMoshi\r\n\t\t\t.Builder()\r\n\t\t\t.build()\r\n\t\t\t.adapter(ApiResponseNoData::class.java)\r\n\t\t\t.fromJson(string())\r\n\t\t\t?.error\r\n\t}catch(e: Exception) { null }\r\n}\r\n```\r\n\r\nViewModel\r\n```kotlin\r\nfun test() {\r\n\tviewModelScope.launch(Dispatchers.IO) {\r\n\t\tval response = repository.test()\r\n\t\twithContext(Dispatchers.Main) {\r\n\t\t\tif(response.isSuccessful) {\r\n\t\t\t\t...\r\n\t\t\t}else{\r\n\t\t\t\tval errorMsg = response.errorBody()?.getApiError() ?: &quot;Unexpected error occurred&quot;\r\n\t\t\t\t...\r\n\t\t\t]\r\n\t\t}\r\n\t}\r\n}\r\n```","title":"Retrofit 2.0 how to get deserialised error response.body","body":"<p>For people using Kotlin with Moshi and coroutines, this is what I did:</p>\n<p>Error data class</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>@JsonClass(generateAdapter = true)\ndata class ApiResponseNoData(\n    val exito: Int,\n    val error: String?\n)\n</code></pre>\n<p>Extension</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>fun ResponseBody.getApiError(): String? {\n    return try {\n        Moshi\n            .Builder()\n            .build()\n            .adapter(ApiResponseNoData::class.java)\n            .fromJson(string())\n            ?.error\n    }catch(e: Exception) { null }\n}\n</code></pre>\n<p>ViewModel</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>fun test() {\n    viewModelScope.launch(Dispatchers.IO) {\n        val response = repository.test()\n        withContext(Dispatchers.Main) {\n            if(response.isSuccessful) {\n                ...\n            }else{\n                val errorMsg = response.errorBody()?.getApiError() ?: &quot;Unexpected error occurred&quot;\n                ...\n            ]\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14489666,"reputation":1,"user_id":10466378,"display_name":"Hải Đăng Nguyễn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661234526,"creation_date":1660793192,"answer_id":73397126,"question_id":32519618,"body_markdown":"    val reader = BufferedReader(response.errorBody()?.source().inputStream().reader())\r\n                    \r\n    val content = StringBuilder()\r\n    \r\n    reader.use { readerBuffer -&gt;\r\n        var line = readerBuffer.readLine()\r\n        while (line != null) {\r\n            content.append(line)\r\n            line = readerBuffer.readLine()\r\n        }\r\n    }\r\n    \r\n    Gson().fromJson(content.toString(), ResponseData::class.java)","title":"Retrofit 2.0 how to get deserialised error response.body","body":"<pre><code>val reader = BufferedReader(response.errorBody()?.source().inputStream().reader())\n                \nval content = StringBuilder()\n\nreader.use { readerBuffer -&gt;\n    var line = readerBuffer.readLine()\n    while (line != null) {\n        content.append(line)\n        line = readerBuffer.readLine()\n    }\n}\n\nGson().fromJson(content.toString(), ResponseData::class.java)\n</code></pre>\n"}],"owner":{"account_id":4849033,"reputation":2680,"user_id":3979731,"accept_rate":50,"display_name":"Piotr Boho"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":228930,"favorite_count":0,"down_vote_count":0,"up_vote_count":207,"accepted_answer_id":32520867,"answer_count":31,"score":207,"last_activity_date":1688647228,"creation_date":1441962237,"question_id":32519618,"body_markdown":"I&#39;m using **Retrofit 2.0.0-beta1**.\r\n\r\nIn tests i have an alternate scenario and expect error HTTP 400\r\n\r\nI would like to have `retrofit.Response&lt;MyError&gt; response`\r\nbut `response.body() == null`\r\n\r\nMyError is not deserialised - i see it only here\r\n\r\n    response.errorBody().string()\r\n\r\nbut it doesn&#39;t give me MyError as object","title":"Retrofit 2.0 how to get deserialised error response.body","body":"<p>I'm using <strong>Retrofit 2.0.0-beta1</strong>.</p>\n\n<p>In tests i have an alternate scenario and expect error HTTP 400</p>\n\n<p>I would like to have <code>retrofit.Response&lt;MyError&gt; response</code>\nbut <code>response.body() == null</code></p>\n\n<p>MyError is not deserialised - i see it only here</p>\n\n<pre><code>response.errorBody().string()\n</code></pre>\n\n<p>but it doesn't give me MyError as object</p>\n"},{"tags":["java","lambda","java-8","hashmap","contains"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1688623765,"post_id":76601665,"comment_id":135098910,"body_markdown":"There are two answers below. Can you clarify why they&#39;re not satisfactory and what you&#39;re looking for?","body":"There are two answers below. Can you clarify why they&#39;re not satisfactory and what you&#39;re looking for?"},{"owner":{"account_id":7247195,"reputation":742,"user_id":5528725,"accept_rate":60,"display_name":"Thomas W."},"score":0,"creation_date":1688717616,"post_id":76601665,"comment_id":135114081,"body_markdown":"You could implement a custom Map that provides a custom Entry implementation that overrides the containsAll function that does the check...but this Is definitely not an easy way of doing it...","body":"You could implement a custom Map that provides a custom Entry implementation that overrides the containsAll function that does the check...but this Is definitely not an easy way of doing it..."}],"answers":[{"tags":[],"owner":{"account_id":17861275,"reputation":2089,"user_id":12974735,"display_name":"Sercan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1688646802,"creation_date":1688356040,"answer_id":76601743,"question_id":76601665,"body_markdown":"As I know, there is no built-in method to do what you desire, `containsAll` returns `true` when all the map entries from one map exist in another map. \r\n\r\nBut, as you said you can write such a method as below;\r\n\r\n    private static boolean containsAllCounts(Map&lt;String, Integer&gt; firstMap, Map&lt;String, Integer&gt; secondMap) {\r\n        String key;\r\n        int secondMapCount;\r\n        for (Map.Entry&lt;String, Integer&gt; entry : secondMap.entrySet()) {\r\n            key = entry.getKey();\r\n            secondMapCount = entry.getValue();\r\n            if (!firstMap.containsKey(key) || firstMap.get(key) &lt;= secondMapCount) {\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n\r\nWhen there are two maps as below;\r\n\r\n        Map&lt;String, Integer&gt; firstMap = new HashMap&lt;&gt;();\r\n        firstMap.put(&quot;A&quot;, 2);\r\n        firstMap.put(&quot;B&quot;, 2);\r\n        firstMap.put(&quot;C&quot;, 1);\r\n\r\n        Map&lt;String, Integer&gt; secondMap = new HashMap&lt;&gt;();\r\n        secondMap.put(&quot;A&quot;, 1);\r\n        secondMap.put(&quot;B&quot;, 1);\r\n\r\n        System.out.println(containsAllCounts(firstMap, secondMap));\r\n        System.out.println(containsAllCounts(secondMap, firstMap));\r\n\r\nOutputs will be;\r\n\r\n    true\r\n    false","title":"Java: Map Contains Equals to or Less Than of Another Map","body":"<p>As I know, there is no built-in method to do what you desire, <code>containsAll</code> returns <code>true</code> when all the map entries from one map exist in another map.</p>\n<p>But, as you said you can write such a method as below;</p>\n<pre><code>private static boolean containsAllCounts(Map&lt;String, Integer&gt; firstMap, Map&lt;String, Integer&gt; secondMap) {\n    String key;\n    int secondMapCount;\n    for (Map.Entry&lt;String, Integer&gt; entry : secondMap.entrySet()) {\n        key = entry.getKey();\n        secondMapCount = entry.getValue();\n        if (!firstMap.containsKey(key) || firstMap.get(key) &lt;= secondMapCount) {\n            return false;\n        }\n    }\n    return true;\n}\n</code></pre>\n<p>When there are two maps as below;</p>\n<pre><code>    Map&lt;String, Integer&gt; firstMap = new HashMap&lt;&gt;();\n    firstMap.put(&quot;A&quot;, 2);\n    firstMap.put(&quot;B&quot;, 2);\n    firstMap.put(&quot;C&quot;, 1);\n\n    Map&lt;String, Integer&gt; secondMap = new HashMap&lt;&gt;();\n    secondMap.put(&quot;A&quot;, 1);\n    secondMap.put(&quot;B&quot;, 1);\n\n    System.out.println(containsAllCounts(firstMap, secondMap));\n    System.out.println(containsAllCounts(secondMap, firstMap));\n</code></pre>\n<p>Outputs will be;</p>\n<pre><code>true\nfalse\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7247195,"reputation":742,"user_id":5528725,"accept_rate":60,"display_name":"Thomas W."},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1688629656,"creation_date":1688357106,"answer_id":76601781,"question_id":76601665,"body_markdown":"The equal method will compare the hash and therefore only for equality. I am not aware of a build in function, but with an `allMatch` on the stream you could do a compare easily on your own...\r\n\r\nWith allMatch (thanks to @shmosel):\r\n\r\n```lang-java\r\n    tMap.entrySet()\r\n         .stream()\r\n         .allMatch(e -&gt; sMap.containsKey(e.getKey()) &amp;&amp; sMap.get(e.getKey()) &gt;= e.getValue())\r\n```\r\n\r\n---- edited, originally I had the noneMatch example but allMatch is easier to understand...for completeness, I still include the noneMatch example -----\r\n\r\n```lang-java\r\n    tMap.entrySet().stream().noneMatch(entry -&gt; {\r\n        final Integer match = sMap.get(entry.getKey());\r\n        return match == null || entry.getValue() &gt; match;\r\n    });\r\n```\r\n\r\nor if you prefer it as a one-liner\r\n\r\n```lang-java\r\n    tMap.entrySet()\r\n        .stream()\r\n        .noneMatch(entry -&gt; !sMap.containsKey(entry.getKey()) || entry.getValue() &gt; sMap.get(entry.getKey()));\r\n```\r\n\r\nThe matcher will check for any unmatched key or value from tMap, that is greater than the value in sMap.","title":"Java: Map Contains Equals to or Less Than of Another Map","body":"<p>The equal method will compare the hash and therefore only for equality. I am not aware of a build in function, but with an <code>allMatch</code> on the stream you could do a compare easily on your own...</p>\n<p>With allMatch (thanks to @shmosel):</p>\n<pre class=\"lang-java prettyprint-override\"><code>    tMap.entrySet()\n         .stream()\n         .allMatch(e -&gt; sMap.containsKey(e.getKey()) &amp;&amp; sMap.get(e.getKey()) &gt;= e.getValue())\n</code></pre>\n<p>---- edited, originally I had the noneMatch example but allMatch is easier to understand...for completeness, I still include the noneMatch example -----</p>\n<pre class=\"lang-java prettyprint-override\"><code>    tMap.entrySet().stream().noneMatch(entry -&gt; {\n        final Integer match = sMap.get(entry.getKey());\n        return match == null || entry.getValue() &gt; match;\n    });\n</code></pre>\n<p>or if you prefer it as a one-liner</p>\n<pre class=\"lang-java prettyprint-override\"><code>    tMap.entrySet()\n        .stream()\n        .noneMatch(entry -&gt; !sMap.containsKey(entry.getKey()) || entry.getValue() &gt; sMap.get(entry.getKey()));\n</code></pre>\n<p>The matcher will check for any unmatched key or value from tMap, that is greater than the value in sMap.</p>\n"}],"owner":{"account_id":21004999,"reputation":788,"user_id":15435022,"display_name":"mattsmith5"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":234,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76601743,"answer_count":2,"score":0,"last_activity_date":1688646802,"creation_date":1688354301,"question_id":76601665,"body_markdown":"How do I check if 1 subset contains less than or equal to of another subset? SMap and TMap below.\r\n\r\nIn this example, doing equation returns false. \r\n\r\n    sMap.entrySet().containsAll(tMap.entrySet())\r\n\r\n\r\nI believe it returns false, since it is trying equal the count of A,B,C.  {1,2,2} does Not equal {1,1,1}.  However, it should be true since {1,1,1} &lt;= {1,2,2} for each element A,B,C.\r\n\r\nIs there an easy method to doing a contains less than or equal to?  Otherwise I will just write a manual for loop with count.\r\n\r\n\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\nhttps://stackoverflow.com/questions/43217055/check-whether-a-map-contains-all-contents-of-another-map\r\n\r\nhttps://stackoverflow.com/questions/33024356/verify-that-all-key-value-pairs-in-a-map-are-present-in-another-map\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Z5ICP.png","title":"Java: Map Contains Equals to or Less Than of Another Map","body":"<p>How do I check if 1 subset contains less than or equal to of another subset? SMap and TMap below.</p>\n<p>In this example, doing equation returns false.</p>\n<pre><code>sMap.entrySet().containsAll(tMap.entrySet())\n</code></pre>\n<p>I believe it returns false, since it is trying equal the count of A,B,C.  {1,2,2} does Not equal {1,1,1}.  However, it should be true since {1,1,1} &lt;= {1,2,2} for each element A,B,C.</p>\n<p>Is there an easy method to doing a contains less than or equal to?  Otherwise I will just write a manual for loop with count.</p>\n<p><a href=\"https://i.stack.imgur.com/Z5ICP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Z5ICP.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://stackoverflow.com/questions/43217055/check-whether-a-map-contains-all-contents-of-another-map\">Check whether a map contains all contents of another map</a></p>\n<p><a href=\"https://stackoverflow.com/questions/33024356/verify-that-all-key-value-pairs-in-a-map-are-present-in-another-map\">Verify that all key/value pairs in a Map are present in another Map</a></p>\n"},{"tags":["java","maven","cucumber"],"comments":[{"owner":{"account_id":92073,"reputation":1,"user_id":252518,"accept_rate":71,"display_name":"Freeman"},"score":0,"creation_date":1688643909,"post_id":76628419,"comment_id":135103101,"body_markdown":"because you need to configure the `maven-surefire-plugin` to include the `argLine` configuration!","body":"because you need to configure the <code>maven-surefire-plugin</code> to include the <code>argLine</code> configuration!"},{"owner":{"account_id":455809,"reputation":12993,"user_id":854207,"accept_rate":62,"display_name":"paul"},"score":0,"creation_date":1688643987,"post_id":76628419,"comment_id":135103119,"body_markdown":"Do you mind provide a response with an example please?","body":"Do you mind provide a response with an example please?"}],"answers":[{"tags":[],"owner":{"account_id":92073,"reputation":1,"user_id":252518,"accept_rate":71,"display_name":"Freeman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1688646696,"creation_date":1688644000,"answer_id":76628507,"question_id":76628419,"body_markdown":"check this out :\r\n\r\n    &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;2.20&lt;/version&gt;\r\n        &lt;executions&gt;\r\n            &lt;execution&gt;\r\n                &lt;id&gt;cucumber-tests&lt;/id&gt;\r\n                &lt;phase&gt;integration-test&lt;/phase&gt;\r\n                &lt;goals&gt;\r\n                    &lt;goal&gt;test&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;systemPropertyVariables&gt;\r\n                        &lt;log.dir&gt;${project.build.directory}/logs&lt;/log.dir&gt;\r\n                    &lt;/systemPropertyVariables&gt;\r\n                    &lt;includes&gt;\r\n                        &lt;include&gt;**/*Test.java&lt;/include&gt;\r\n                        &lt;include&gt;**/*Steps.java&lt;/include&gt;\r\n                        &lt;excludes&gt;**/*cucumber.RunCucumberIT.java&lt;/excludes&gt;\r\n                    &lt;/includes&gt;\r\n                    &lt;testFailureIgnore&gt;false&lt;/testFailureIgnore&gt;\r\n                &lt;!-- you must add this line --&gt;\r\n                    &lt;argLine&gt;-Dservice.port=${service.port}&lt;/argLine&gt; \r\n                &lt;/configuration&gt;\r\n            &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n    &lt;/plugin&gt;\r\n\r\n**update**&lt;br&gt;\r\nyou can try moving the execution of the `build-helper-maven-plugin` before the execution of the `maven-surefire-plugin` in your POM file!\r\n\r\n    &lt;plugin&gt;\r\n        &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n        &lt;artifactId&gt;build-helper-maven-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;3.4.0&lt;/version&gt;\r\n        &lt;executions&gt;\r\n            &lt;execution&gt;\r\n                &lt;id&gt;reserve-network-port&lt;/id&gt;\r\n                &lt;goals&gt;\r\n                    &lt;goal&gt;reserve-network-port&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n                &lt;phase&gt;process-resources&lt;/phase&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;portNames&gt;\r\n                        &lt;portName&gt;kafka.port&lt;/portName&gt;\r\n                        &lt;portName&gt;service.port&lt;/portName&gt;\r\n                    &lt;/portNames&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n    &lt;/plugin&gt;\r\n    \r\n    &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;2.20&lt;/version&gt;\r\n        &lt;executions&gt;\r\n            &lt;execution&gt;\r\n                &lt;id&gt;cucumber-tests&lt;/id&gt;\r\n                &lt;phase&gt;integration-test&lt;/phase&gt;\r\n                &lt;goals&gt;\r\n                    &lt;goal&gt;test&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;!-- Surefire configuration --&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n    &lt;/plugin&gt;\r\n\r\ngood luck !","title":"Use maven random port in java cucumber test","body":"<p>check this out :</p>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n    &lt;version&gt;2.20&lt;/version&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;id&gt;cucumber-tests&lt;/id&gt;\n            &lt;phase&gt;integration-test&lt;/phase&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;test&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n                &lt;systemPropertyVariables&gt;\n                    &lt;log.dir&gt;${project.build.directory}/logs&lt;/log.dir&gt;\n                &lt;/systemPropertyVariables&gt;\n                &lt;includes&gt;\n                    &lt;include&gt;**/*Test.java&lt;/include&gt;\n                    &lt;include&gt;**/*Steps.java&lt;/include&gt;\n                    &lt;excludes&gt;**/*cucumber.RunCucumberIT.java&lt;/excludes&gt;\n                &lt;/includes&gt;\n                &lt;testFailureIgnore&gt;false&lt;/testFailureIgnore&gt;\n            &lt;!-- you must add this line --&gt;\n                &lt;argLine&gt;-Dservice.port=${service.port}&lt;/argLine&gt; \n            &lt;/configuration&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p><strong>update</strong><br>\nyou can try moving the execution of the <code>build-helper-maven-plugin</code> before the execution of the <code>maven-surefire-plugin</code> in your POM file!</p>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n    &lt;artifactId&gt;build-helper-maven-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.4.0&lt;/version&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;id&gt;reserve-network-port&lt;/id&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;reserve-network-port&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;phase&gt;process-resources&lt;/phase&gt;\n            &lt;configuration&gt;\n                &lt;portNames&gt;\n                    &lt;portName&gt;kafka.port&lt;/portName&gt;\n                    &lt;portName&gt;service.port&lt;/portName&gt;\n                &lt;/portNames&gt;\n            &lt;/configuration&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n\n&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n    &lt;version&gt;2.20&lt;/version&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;id&gt;cucumber-tests&lt;/id&gt;\n            &lt;phase&gt;integration-test&lt;/phase&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;test&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n                &lt;!-- Surefire configuration --&gt;\n            &lt;/configuration&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>good luck !</p>\n"}],"owner":{"account_id":455809,"reputation":12993,"user_id":854207,"accept_rate":62,"display_name":"paul"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76628507,"answer_count":1,"score":0,"last_activity_date":1688646696,"creation_date":1688643357,"question_id":76628419,"body_markdown":"I&#39;m using this maven plugin to create a random port for a service and Kafka\r\n\r\n\t\t\t\t\t&lt;plugin&gt;\r\n\t\t\t\t\t\t&lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n\t\t\t\t\t\t&lt;artifactId&gt;build-helper-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t\t\t&lt;version&gt;3.4.0&lt;/version&gt;\r\n\t\t\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t\t\t&lt;id&gt;reserve-network-port&lt;/id&gt;\r\n\t\t\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;goal&gt;reserve-network-port&lt;/goal&gt;\r\n\t\t\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t\t\t\t&lt;phase&gt;process-resources&lt;/phase&gt;\r\n\t\t\t\t\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;portNames&gt;\r\n\t\t\t\t\t\t\t\t\t\t&lt;portName&gt;kafka.port&lt;/portName&gt;\r\n\t\t\t\t\t\t\t\t\t\t&lt;portName&gt;service.port&lt;/portName&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;/portNames&gt;\r\n\t\t\t\t\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t\t\t&lt;/executions&gt;\r\n\t\t\t\t\t&lt;/plugin&gt;\r\n\r\nThen I&#39;m using surfire to run some Integration test\r\n\r\n\t\t\t\t\t&lt;plugin&gt;\r\n\t\t\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t\t\t&lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n\t\t\t\t\t\t&lt;version&gt;2.20&lt;/version&gt;\r\n\t\t\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t\t\t&lt;id&gt;cucumber-tests&lt;/id&gt;\r\n\t\t\t\t\t\t\t\t&lt;phase&gt;integration-test&lt;/phase&gt;\r\n\t\t\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;goal&gt;test&lt;/goal&gt;\r\n\t\t\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;systemPropertyVariables&gt;\r\n\t\t\t\t\t\t\t\t\t\t&lt;log.dir&gt;${project.build.directory}/logs&lt;/log.dir&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;/systemPropertyVariables&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;includes&gt;\r\n\t\t\t\t\t\t\t\t\t\t&lt;include&gt;**/*Test.java&lt;/include&gt;\r\n\t\t\t\t\t\t\t\t\t\t&lt;include&gt;**/*Steps.java&lt;/include&gt;\r\n\t\t\t\t\t\t\t\t\t\t&lt;excludes&gt;**/*cucumber.RunCucumberIT.java&lt;/excludes&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;/includes&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;testFailureIgnore&gt;false&lt;/testFailureIgnore&gt;\r\n\t\t\t\t\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t\t\t&lt;/executions&gt;\r\n\t\t\t\t\t&lt;/plugin&gt;\r\n\r\n\r\nThen in my Cucumber step I&#39;m trying to get it through\r\n\r\n\r\n    var port = System.getProperty(&quot;service.port&quot;)\r\n\r\nBut I&#39;m getting `null` value\r\n\r\nShall I need to set in the `surefire` plugin to be visible in my cucumber execution?","title":"Use maven random port in java cucumber test","body":"<p>I'm using this maven plugin to create a random port for a service and Kafka</p>\n<pre><code>                &lt;plugin&gt;\n                    &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n                    &lt;artifactId&gt;build-helper-maven-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;3.4.0&lt;/version&gt;\n                    &lt;executions&gt;\n                        &lt;execution&gt;\n                            &lt;id&gt;reserve-network-port&lt;/id&gt;\n                            &lt;goals&gt;\n                                &lt;goal&gt;reserve-network-port&lt;/goal&gt;\n                            &lt;/goals&gt;\n                            &lt;phase&gt;process-resources&lt;/phase&gt;\n                            &lt;configuration&gt;\n                                &lt;portNames&gt;\n                                    &lt;portName&gt;kafka.port&lt;/portName&gt;\n                                    &lt;portName&gt;service.port&lt;/portName&gt;\n                                &lt;/portNames&gt;\n                            &lt;/configuration&gt;\n                        &lt;/execution&gt;\n                    &lt;/executions&gt;\n                &lt;/plugin&gt;\n</code></pre>\n<p>Then I'm using surfire to run some Integration test</p>\n<pre><code>                &lt;plugin&gt;\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;2.20&lt;/version&gt;\n                    &lt;executions&gt;\n                        &lt;execution&gt;\n                            &lt;id&gt;cucumber-tests&lt;/id&gt;\n                            &lt;phase&gt;integration-test&lt;/phase&gt;\n                            &lt;goals&gt;\n                                &lt;goal&gt;test&lt;/goal&gt;\n                            &lt;/goals&gt;\n                            &lt;configuration&gt;\n                                &lt;systemPropertyVariables&gt;\n                                    &lt;log.dir&gt;${project.build.directory}/logs&lt;/log.dir&gt;\n                                &lt;/systemPropertyVariables&gt;\n                                &lt;includes&gt;\n                                    &lt;include&gt;**/*Test.java&lt;/include&gt;\n                                    &lt;include&gt;**/*Steps.java&lt;/include&gt;\n                                    &lt;excludes&gt;**/*cucumber.RunCucumberIT.java&lt;/excludes&gt;\n                                &lt;/includes&gt;\n                                &lt;testFailureIgnore&gt;false&lt;/testFailureIgnore&gt;\n                            &lt;/configuration&gt;\n                        &lt;/execution&gt;\n                    &lt;/executions&gt;\n                &lt;/plugin&gt;\n</code></pre>\n<p>Then in my Cucumber step I'm trying to get it through</p>\n<pre><code>var port = System.getProperty(&quot;service.port&quot;)\n</code></pre>\n<p>But I'm getting <code>null</code> value</p>\n<p>Shall I need to set in the <code>surefire</code> plugin to be visible in my cucumber execution?</p>\n"},{"tags":["java","generics","lambda"],"comments":[{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1688645603,"post_id":76628683,"comment_id":135103508,"body_markdown":"What warnings and errors did IntelliJ display?","body":"What warnings and errors did IntelliJ display?"},{"owner":{"account_id":4525750,"reputation":401,"user_id":3677636,"accept_rate":50,"display_name":"user3677636"},"score":0,"creation_date":1688645674,"post_id":76628683,"comment_id":135103521,"body_markdown":"&quot;Lambda can be replaced with method reference&quot;, which throws an incompatible types exception if I change it.","body":"&quot;Lambda can be replaced with method reference&quot;, which throws an incompatible types exception if I change it."},{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":2,"creation_date":1688645803,"post_id":76628683,"comment_id":135103548,"body_markdown":"What is the signatures of `getField` and `builder::price`?","body":"What is the signatures of <code>getField</code> and <code>builder::price</code>?"},{"owner":{"account_id":5168089,"reputation":26671,"user_id":4137489,"accept_rate":100,"display_name":"marstran"},"score":0,"creation_date":1688645823,"post_id":76628683,"comment_id":135103552,"body_markdown":"Does `builder.price(price)` return anything? Could it be that `builder::price` doesn&#39;t conform to `Consumer&lt;T&gt;` which is the type `ifPresent` expects?","body":"Does <code>builder.price(price)</code> return anything? Could it be that <code>builder::price</code> doesn&#39;t conform to <code>Consumer&lt;T&gt;</code> which is the type <code>ifPresent</code> expects?"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1688647806,"post_id":76628683,"comment_id":135104026,"body_markdown":"&quot;throws the exception during compilation&quot; Exceptions are not thrown during compilation. What do you mean?","body":"&quot;throws the exception during compilation&quot; Exceptions are not thrown during compilation. What do you mean?"}],"owner":{"account_id":4525750,"reputation":401,"user_id":3677636,"accept_rate":50,"display_name":"user3677636"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688646394,"creation_date":1688645430,"question_id":76628683,"body_markdown":"I have written the following helper method which I think is self explanatory:\r\n\r\n```\r\nprotected &lt;T&gt; Optional&lt;T&gt; handleErrors(Supplier&lt;Optional&lt;T&gt;&gt; supplier, String fieldName) {\r\n    try {\r\n        return supplier.get();\r\n    } catch (RuntimeException e) {\r\n        errors.add(ParseError.builder()\r\n                .message(e.getMessage())\r\n                .field(fieldName)\r\n                .exception(e)\r\n                .build());\r\n\r\n        return Optional.empty();\r\n    }\r\n}\r\n```\r\n\r\nWhen I use this method and try to use use Lambda reference like below, I get an error saying:&lt;br&gt; `incompatible types: invalid method reference`\r\n\r\nThis throws the exception during compilation:\r\n```\r\nhandleErrors(() -&gt; getField(unit, &quot;price&quot;), &quot;price.amount&quot;)\r\n        .ifPresent(builder::price);\r\n```\r\n\r\nThese following cases works but IntelliJ displays a warning:\r\n\r\n```\r\nhandleErrors(() -&gt; getField(unit, &quot;price&quot;), &quot;price.amount&quot;)\r\n        .ifPresent(price -&gt; builder.price(price));\r\n```\r\n```\r\nOptional&lt;String&gt; price = handleErrors(() -&gt; getField(unit, &quot;price&quot;), &quot;price.amount&quot;);\r\nprice.ifPresent(builder::price);\r\n```\r\n\r\nWhy does it throw an exception when I use Lambda reference directly on the returned Optional and","title":"Java incorrect incompatible types exception when Supplier returns generic Optional","body":"<p>I have written the following helper method which I think is self explanatory:</p>\n<pre><code>protected &lt;T&gt; Optional&lt;T&gt; handleErrors(Supplier&lt;Optional&lt;T&gt;&gt; supplier, String fieldName) {\n    try {\n        return supplier.get();\n    } catch (RuntimeException e) {\n        errors.add(ParseError.builder()\n                .message(e.getMessage())\n                .field(fieldName)\n                .exception(e)\n                .build());\n\n        return Optional.empty();\n    }\n}\n</code></pre>\n<p>When I use this method and try to use use Lambda reference like below, I get an error saying:<br> <code>incompatible types: invalid method reference</code></p>\n<p>This throws the exception during compilation:</p>\n<pre><code>handleErrors(() -&gt; getField(unit, &quot;price&quot;), &quot;price.amount&quot;)\n        .ifPresent(builder::price);\n</code></pre>\n<p>These following cases works but IntelliJ displays a warning:</p>\n<pre><code>handleErrors(() -&gt; getField(unit, &quot;price&quot;), &quot;price.amount&quot;)\n        .ifPresent(price -&gt; builder.price(price));\n</code></pre>\n<pre><code>Optional&lt;String&gt; price = handleErrors(() -&gt; getField(unit, &quot;price&quot;), &quot;price.amount&quot;);\nprice.ifPresent(builder::price);\n</code></pre>\n<p>Why does it throw an exception when I use Lambda reference directly on the returned Optional and</p>\n"},{"tags":["java","hibernate","jpa"],"answers":[{"tags":[],"owner":{"account_id":16519521,"reputation":110,"user_id":11936074,"display_name":"Yagub Yagubkhanov"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1688646016,"creation_date":1688543139,"answer_id":76618139,"question_id":76611028,"body_markdown":"If you don&#39;t rollback or commit the transaction, Hibernate will hold the connection until the transaction is timed out, so every request will take one new connection from the connection pool and it(connection pool) can reach it&#39;s maximum size. Therefore you should rollback or commit the transaction when you finish your work or get an exception.","title":"Why do we have to rollback a hibernate transaction on error?","body":"<p>If you don't rollback or commit the transaction, Hibernate will hold the connection until the transaction is timed out, so every request will take one new connection from the connection pool and it(connection pool) can reach it's maximum size. Therefore you should rollback or commit the transaction when you finish your work or get an exception.</p>\n"}],"owner":{"account_id":28947035,"reputation":13,"user_id":22172432,"display_name":"Null"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":95,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76618139,"answer_count":1,"score":1,"last_activity_date":1688646016,"creation_date":1688461779,"question_id":76611028,"body_markdown":"According to this answer https://stackoverflow.com/a/3588173/22172432, if we don&#39;t commit or rollback a transaction, it will be timed out and rollback. So why we should rollback a transaction in catch block if it will be rolled back anyway? I&#39;ve read in a tutorial that &quot;In hibernate, it is better to rollback the transaction if any exception occurs, so that resources can be free.&quot; , but what does &quot;resources&quot; mean? Does hibernate keep a physical transaction in database open? AFAIK no, because hibernate has a local cache (persistence context), and first it writes any changes to its context, and it is just a logical notion of a transaction as related to a persistence context. \r\n\r\nExample code: \r\n\r\n       SessionFactory factory = new Configuration()\r\n                .configure(&quot;persistence.xml&quot;)\r\n                .addAnnotatedClass(Employee.class)\r\n                .buildSessionFactory();\r\n\r\n        Session session = factory.getCurrentSession();\r\n        var transaction = session.beginTransaction();\r\n\r\n        try {\r\n            Employee person1 = session.get(Employee.class, 1L);\r\n            person1.setSalary(100000d);\r\n\r\n            if (true) {\r\n                throw new RuntimeException(&quot;error!&quot;);\r\n            }\r\n\r\n            transaction.commit();\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n            if (transaction.isActive())\r\n                transaction.rollback();\r\n        } ","title":"Why do we have to rollback a hibernate transaction on error?","body":"<p>According to this answer <a href=\"https://stackoverflow.com/a/3588173/22172432\">https://stackoverflow.com/a/3588173/22172432</a>, if we don't commit or rollback a transaction, it will be timed out and rollback. So why we should rollback a transaction in catch block if it will be rolled back anyway? I've read in a tutorial that &quot;In hibernate, it is better to rollback the transaction if any exception occurs, so that resources can be free.&quot; , but what does &quot;resources&quot; mean? Does hibernate keep a physical transaction in database open? AFAIK no, because hibernate has a local cache (persistence context), and first it writes any changes to its context, and it is just a logical notion of a transaction as related to a persistence context.</p>\n<p>Example code:</p>\n<pre><code>   SessionFactory factory = new Configuration()\n            .configure(&quot;persistence.xml&quot;)\n            .addAnnotatedClass(Employee.class)\n            .buildSessionFactory();\n\n    Session session = factory.getCurrentSession();\n    var transaction = session.beginTransaction();\n\n    try {\n        Employee person1 = session.get(Employee.class, 1L);\n        person1.setSalary(100000d);\n\n        if (true) {\n            throw new RuntimeException(&quot;error!&quot;);\n        }\n\n        transaction.commit();\n    } catch (Exception e) {\n        e.printStackTrace();\n        if (transaction.isActive())\n            transaction.rollback();\n    } \n</code></pre>\n"},{"tags":["java","initialization","field","byte-buddy","dirty-tracking"],"answers":[{"tags":[],"owner":{"account_id":1284143,"reputation":43090,"user_id":1237575,"accept_rate":96,"display_name":"Rafael Winterhalter"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688632999,"creation_date":1688632999,"answer_id":76627022,"question_id":76617003,"body_markdown":"The only way of doing this would be to set the field within the constructor. You can define a custom constructor with the interceptor as a parameter of the required type, where you would set the field as the first instruction.","title":"bytebuddy definefield and initialize a complex object","body":"<p>The only way of doing this would be to set the field within the constructor. You can define a custom constructor with the interceptor as a parameter of the required type, where you would set the field as the first instruction.</p>\n"}],"owner":{"account_id":28952380,"reputation":1,"user_id":22176653,"display_name":"jun"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1688645981,"creation_date":1688529195,"question_id":76617003,"body_markdown":"I&#39;am developing a dirty-tracker tool, which will track the object&#39;s props changed.\r\nSo I want to use bytebuddy to inject a field: `DirtyTracker dirtyTracker`, and hook all `setXXX()` method.\r\nNow I don&#39;t know how to initialize dirtyTracker by bytebuddy, this&#39;s my code:\r\n\r\n```\r\nprotected static &lt;T&gt; Class&lt;? extends T&gt; patchPojo(Class&lt;T&gt; clazz) {\r\n        return new ByteBuddy()\r\n                .subclass(clazz)\r\n                .method(ElementMatchers.nameStartsWith(&quot;set&quot;))\r\n                .intercept(MethodDelegation.to(PojoInterceptor.class))\r\n                .defineField(&quot;dirtyTracker&quot;, DirtyTracker.class, Modifier.PUBLIC)\r\n                .make()\r\n                .load(InjectUtils.class.getClassLoader())\r\n                .getLoaded();\r\n}\r\n```\r\n\r\nBy the way, I want to initialize dirtyTracker before the constructor function, because we will do somework with setXXX() in the constructor function, like that:\r\n\r\n```\r\npublic class Foo {\r\n    // What I want to do is: define a field and assign it. \r\n    // public DirtyTracker dirtyTracker = new DirtyTracker();\r\n\r\n    private int age;\r\n\r\n    public Foo() {\r\n        // dirtyTracker must not null\r\n        setAge(18);\r\n        // now dirtyTracker has mark prop:age dirty.\r\n    }\r\n    \r\n    public void setAge(int i) {\r\n        this.age = i;\r\n    }\r\n    public int getAge() {\r\n        return this.age;\r\n    }\r\n}\r\n```\r\n\r\nI have try to intercept construct: ```constructor(ElementMatchers.any()).intercept(MethodDelegation.to(PojoInterceptor.class).andThen(SuperMethodCall.INSTANCE))```\r\n\r\nand \r\n\r\n```constructor(ElementMatchers.any()).intercept(Advice.to(PojoInterceptor.class))```\r\n\r\nbut it seems can&#39;t get the pojo instance in intercept function. ","title":"bytebuddy definefield and initialize a complex object","body":"<p>I'am developing a dirty-tracker tool, which will track the object's props changed.\nSo I want to use bytebuddy to inject a field: <code>DirtyTracker dirtyTracker</code>, and hook all <code>setXXX()</code> method.\nNow I don't know how to initialize dirtyTracker by bytebuddy, this's my code:</p>\n<pre><code>protected static &lt;T&gt; Class&lt;? extends T&gt; patchPojo(Class&lt;T&gt; clazz) {\n        return new ByteBuddy()\n                .subclass(clazz)\n                .method(ElementMatchers.nameStartsWith(&quot;set&quot;))\n                .intercept(MethodDelegation.to(PojoInterceptor.class))\n                .defineField(&quot;dirtyTracker&quot;, DirtyTracker.class, Modifier.PUBLIC)\n                .make()\n                .load(InjectUtils.class.getClassLoader())\n                .getLoaded();\n}\n</code></pre>\n<p>By the way, I want to initialize dirtyTracker before the constructor function, because we will do somework with setXXX() in the constructor function, like that:</p>\n<pre><code>public class Foo {\n    // What I want to do is: define a field and assign it. \n    // public DirtyTracker dirtyTracker = new DirtyTracker();\n\n    private int age;\n\n    public Foo() {\n        // dirtyTracker must not null\n        setAge(18);\n        // now dirtyTracker has mark prop:age dirty.\n    }\n    \n    public void setAge(int i) {\n        this.age = i;\n    }\n    public int getAge() {\n        return this.age;\n    }\n}\n</code></pre>\n<p>I have try to intercept construct: <code>constructor(ElementMatchers.any()).intercept(MethodDelegation.to(PojoInterceptor.class).andThen(SuperMethodCall.INSTANCE))</code></p>\n<p>and</p>\n<p><code>constructor(ElementMatchers.any()).intercept(Advice.to(PojoInterceptor.class))</code></p>\n<p>but it seems can't get the pojo instance in intercept function.</p>\n"},{"tags":["java","mysql","hibernate","hibernate-mapping"],"comments":[{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":1,"creation_date":1368090770,"post_id":16458201,"comment_id":23610231,"body_markdown":"possible duplicate of [Hibernate problems with Auto Increment ID MYSQL 5](http://stackoverflow.com/questions/1838520/hibernate-problems-with-auto-increment-id-mysql-5)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/1838520/hibernate-problems-with-auto-increment-id-mysql-5\">Hibernate problems with Auto Increment ID MYSQL 5</a>"},{"owner":{"account_id":1198635,"reputation":72902,"user_id":1169798,"accept_rate":56,"display_name":"Sirko"},"score":1,"creation_date":1368090777,"post_id":16458201,"comment_id":23610235,"body_markdown":"MySQL 9.3? I thought the version numbers currently were around 5 and 6...","body":"MySQL 9.3? I thought the version numbers currently were around 5 and 6..."},{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":0,"creation_date":1368090791,"post_id":16458201,"comment_id":23610239,"body_markdown":"You need the &quot;identity&quot; mapping for an auto increment column.","body":"You need the &quot;identity&quot; mapping for an auto increment column."},{"owner":{"account_id":368269,"reputation":93629,"user_id":714969,"accept_rate":86,"display_name":"Kevin Bowersox"},"score":4,"creation_date":1368090885,"post_id":16458201,"comment_id":23610284,"body_markdown":"A sequence doesn&#39;t work with MySql because nobody built it into the database.  The code isn&#39;t there.  You answered your own question, `I found out that MySQL doesn&#39;t support sequence`","body":"A sequence doesn&#39;t work with MySql because nobody built it into the database.  The code isn&#39;t there.  You answered your own question, <code>I found out that MySQL doesn&#39;t support sequence</code>"},{"owner":{"account_id":887604,"reputation":572,"user_id":926662,"accept_rate":46,"display_name":"mkazma"},"score":0,"creation_date":1368091284,"post_id":16458201,"comment_id":23610484,"body_markdown":"this link is very helpful :\nhttp://www.roseindia.net/hibernate/hibernateidgeneratorelement.shtml","body":"this link is very helpful : <a href=\"http://www.roseindia.net/hibernate/hibernateidgeneratorelement.shtml\" rel=\"nofollow noreferrer\">roseindia.net/hibernate/hibernateidgeneratorelement.shtml</a>"}],"answers":[{"tags":[],"owner":{"account_id":74886,"reputation":26643,"user_id":214977,"accept_rate":69,"display_name":"granadaCoder"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1688645725,"creation_date":1617048340,"answer_id":66860911,"question_id":16458201,"body_markdown":"I&#39;m leaving an answer, so this question can be removed from the &quot;unanswered&quot; SOF category.\r\nKevinB, you can leave an answer, and I&#39;ll upvote it.\r\nI just want this question to be closed out...more than (me) &quot;getting points&quot;.\r\n\r\n\r\nBut here is a concrete answer and reference.\r\n\r\nShort Version:\r\n\r\nMySql does not have &quot;true&quot; sequences.  It uses a Sequence-via-a-Table workaround...that is a bottleneck if you&#39;re trying to do alot of JPA batching.\r\n\r\n\r\nhttps://thorben-janssen.com/5-things-you-need-to-know-when-using-hibernate-with-mysql/\r\n\r\n&gt; 1. Mappings: Primary Keys The efficient handling and creation of primary keys are a basic but one of the most important parts of an\r\n&gt; application.\r\n&gt; \r\n&gt; The @GeneratedValue annotation of the JPA specification allows you to\r\n&gt; define the strategy you want to use to create unique primary key\r\n&gt; values. You can choose between SEQUENCE, IDENTITY, TABLE, and AUTO.\r\n&gt; \r\n&gt; In general, I recommend using the SEQUENCE strategy because it allows\r\n&gt; Hibernate to use JDBC batching and other optimization strategies that\r\n&gt; require the delayed execution of SQL INSERT statements.\r\n\r\n**But you can’t use this strategy with a *MySQL* database. It requires a database sequence, and MySQL doesn’t support this feature.**","title":"why generationtype.sequence in mysql doesn&#39;t work?","body":"<p>I'm leaving an answer, so this question can be removed from the &quot;unanswered&quot; SOF category.\nKevinB, you can leave an answer, and I'll upvote it.\nI just want this question to be closed out...more than (me) &quot;getting points&quot;.</p>\n<p>But here is a concrete answer and reference.</p>\n<p>Short Version:</p>\n<p>MySql does not have &quot;true&quot; sequences.  It uses a Sequence-via-a-Table workaround...that is a bottleneck if you're trying to do alot of JPA batching.</p>\n<p><a href=\"https://thorben-janssen.com/5-things-you-need-to-know-when-using-hibernate-with-mysql/\" rel=\"nofollow noreferrer\">https://thorben-janssen.com/5-things-you-need-to-know-when-using-hibernate-with-mysql/</a></p>\n<blockquote>\n<ol>\n<li>Mappings: Primary Keys The efficient handling and creation of primary keys are a basic but one of the most important parts of an\napplication.</li>\n</ol>\n<p>The @GeneratedValue annotation of the JPA specification allows you to\ndefine the strategy you want to use to create unique primary key\nvalues. You can choose between SEQUENCE, IDENTITY, TABLE, and AUTO.</p>\n<p>In general, I recommend using the SEQUENCE strategy because it allows\nHibernate to use JDBC batching and other optimization strategies that\nrequire the delayed execution of SQL INSERT statements.</p>\n</blockquote>\n<p><strong>But you can’t use this strategy with a <em>MySQL</em> database. It requires a database sequence, and MySQL doesn’t support this feature.</strong></p>\n"}],"owner":{"account_id":887604,"reputation":572,"user_id":926662,"accept_rate":46,"display_name":"mkazma"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4030,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1688645725,"creation_date":1368090559,"question_id":16458201,"body_markdown":"i am developing an application using hibernate 4.1, zk 6.5 and mySql 9.3, I tried using generationtype.sequence in my code but unfortunately it returned an error, after doing some research on the internet I found out that MySQL doesn&#39;t support sequence so instead I used \t@GeneratedValue(strategy = GenerationType.IDENTITY) and it fixed my problem! but I was wondering why sequence doesn&#39;t work with mySql ?  ","title":"why generationtype.sequence in mysql doesn&#39;t work?","body":"<p>i am developing an application using hibernate 4.1, zk 6.5 and mySql 9.3, I tried using generationtype.sequence in my code but unfortunately it returned an error, after doing some research on the internet I found out that MySQL doesn't support sequence so instead I used  @GeneratedValue(strategy = GenerationType.IDENTITY) and it fixed my problem! but I was wondering why sequence doesn't work with mySql ?  </p>\n"},{"tags":["java","linux","spring","selenium-webdriver"],"comments":[{"owner":{"account_id":11613030,"reputation":121,"user_id":8506711,"display_name":"Nomi Shaw"},"score":0,"creation_date":1688646463,"post_id":76628644,"comment_id":135103704,"body_markdown":"Try changing the downloadPath to absolute path e.g /home/&lt;user&gt;/&lt;rest of the path&gt;","body":"Try changing the downloadPath to absolute path e.g /home/&lt;user&gt;/&lt;rest of the path&gt;"},{"owner":{"account_id":12360572,"reputation":1730,"user_id":9014957,"accept_rate":17,"display_name":"pburgr"},"score":0,"creation_date":1688979421,"post_id":76628644,"comment_id":135142711,"body_markdown":"Please update your question with `downloadPath` value and code output.","body":"Please update your question with <code>downloadPath</code> value and code output."}],"owner":{"account_id":28962721,"reputation":1,"user_id":22184886,"display_name":"Alves"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688645086,"creation_date":1688645086,"question_id":76628644,"body_markdown":"Currently I&#39;m having a problem extracting a document using Selenium (4.5.3) for Spring in Linux (Ubuntu 18.04.5 LTS (Bionic Beaver)).\r\n\r\n\r\n\r\nIn my current implementation I tried to download the file to a specific directory as shown in my code \r\n\t\r\n```\r\nprivate ChromeDriver instantiateDriver(boolean headless) {\r\n\t\tChromeOptions co = new ChromeOptions();\r\n\t\tco.addArguments(&quot;--disable-gpu&quot;, &quot;--window-size=1920,1200&quot;, &quot;--ignore-certificate-errors&quot;,\r\n\t\t\t\t&quot;--disable-extensions&quot;, &quot;--no-sandbox&quot;, &quot;--disable-dev-shm-usage&quot;);\r\n\r\n\t\tMap&lt;String, Object&gt; prefs = new HashMap&lt;String, Object&gt;();\r\n\t\tprefs.put(&quot;download.default_directory&quot;, downloadPath + File.separator + &quot;myDirectory&quot;);\r\n\t\tprefs.put(&quot;plugins.plugins_disabled&quot;, &quot;Chrome PDF Viewer&quot;);\r\n\t\tprefs.put(&quot;plugins.always_open_pdf_externally&quot;, &quot;True&quot;);\r\n\t\tprefs.put(&quot;download.prompt_for_download&quot;, &quot;False&quot;);\r\n\t\tco.setExperimentalOption(&quot;prefs&quot;, prefs);\r\n\t\tco.setCapability(&quot;se:downloadsEnabled&quot;, true);\r\n\t\tif (headless)\r\n\t\t\tco.addArguments(&quot;--headless&quot;,\r\n\t\t\t\t\t&quot;--window-size=1920x1080)&quot;);\r\n\t\tChromeDriver driver = null;\r\n\t\ttry {\r\n\t\t\tdriver = new ChromeDriver(co);\r\n\t\t} catch (SessionNotCreatedException e) {\r\n\t\t\tlog.error(&quot;driver had some problems initing...&quot;);\r\n\t\t}\r\n\t\treturn driver;\r\n\t}\r\n\r\n```\r\nI had success doing this procedure in windows, but can’t seem to make it work for Linux. The variable downloadPath has the following format /myMainDirectory/files. I don’t have any errors but the file doesn’t appear in any directory (designated or default). ","title":"Problem downloading a file to a specific directory in Linux using Selenium (Java)","body":"<p>Currently I'm having a problem extracting a document using Selenium (4.5.3) for Spring in Linux (Ubuntu 18.04.5 LTS (Bionic Beaver)).</p>\n<p>In my current implementation I tried to download the file to a specific directory as shown in my code</p>\n<pre><code>private ChromeDriver instantiateDriver(boolean headless) {\n        ChromeOptions co = new ChromeOptions();\n        co.addArguments(&quot;--disable-gpu&quot;, &quot;--window-size=1920,1200&quot;, &quot;--ignore-certificate-errors&quot;,\n                &quot;--disable-extensions&quot;, &quot;--no-sandbox&quot;, &quot;--disable-dev-shm-usage&quot;);\n\n        Map&lt;String, Object&gt; prefs = new HashMap&lt;String, Object&gt;();\n        prefs.put(&quot;download.default_directory&quot;, downloadPath + File.separator + &quot;myDirectory&quot;);\n        prefs.put(&quot;plugins.plugins_disabled&quot;, &quot;Chrome PDF Viewer&quot;);\n        prefs.put(&quot;plugins.always_open_pdf_externally&quot;, &quot;True&quot;);\n        prefs.put(&quot;download.prompt_for_download&quot;, &quot;False&quot;);\n        co.setExperimentalOption(&quot;prefs&quot;, prefs);\n        co.setCapability(&quot;se:downloadsEnabled&quot;, true);\n        if (headless)\n            co.addArguments(&quot;--headless&quot;,\n                    &quot;--window-size=1920x1080)&quot;);\n        ChromeDriver driver = null;\n        try {\n            driver = new ChromeDriver(co);\n        } catch (SessionNotCreatedException e) {\n            log.error(&quot;driver had some problems initing...&quot;);\n        }\n        return driver;\n    }\n\n</code></pre>\n<p>I had success doing this procedure in windows, but can’t seem to make it work for Linux. The variable downloadPath has the following format /myMainDirectory/files. I don’t have any errors but the file doesn’t appear in any directory (designated or default).</p>\n"},{"tags":["java","lombok"],"comments":[{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":3,"creation_date":1688647849,"post_id":76628628,"comment_id":135104036,"body_markdown":"Don&#39;t. Each class is supposed to have its own *static* logger. If you need the name of a subclass in a log line from your parent class, add it to the statement explicitly.","body":"Don&#39;t. Each class is supposed to have its own <i>static</i> logger. If you need the name of a subclass in a log line from your parent class, add it to the statement explicitly."}],"owner":{"account_id":1383225,"reputation":1976,"user_id":1315787,"accept_rate":61,"display_name":"VeryNiceArgumentException"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688644987,"creation_date":1688644987,"question_id":76628628,"body_markdown":"How can I pass the logger to the parent class using Lombok?\r\n\r\n**This is how I would do it creating loggers by myself:**\r\n\r\n    public abstract class Parent\r\n    {\r\n       private final Logger log = LoggerFactory.getLogger(getClass());\r\n    \r\n       public void execute()\r\n       {\r\n           log.info(&quot;Do something&quot;);\r\n       }\r\n    }\r\n    \r\n    public class Child extends Parent\r\n    {        \r\n    \r\n    }\r\n    \r\n    new Child().execute();\r\n\r\nLog output:\r\n\r\n    2021-01-16 INFO  [main] c.a.b.c.d.Child: Do it\r\n\r\n**Using lombok**\r\n\r\n    @Slf4j\r\n    public abstract class Parent\r\n    {\r\n       public void execute()\r\n       {\r\n           log.info(&quot;Do something&quot;);\r\n       }\r\n    }\r\n    \r\n    @Slf4j\r\n    public class Child extends Parent\r\n    {        \r\n    \r\n    }\r\n    \r\n    new Child().execute();\r\n\r\nLog output:\r\n\r\n    2021-01-16 INFO  [main] c.a.b.c.d.Parent: Do something\r\n\r\n\r\n","title":"Java + Lombok + Log - passing the logger to the parent class","body":"<p>How can I pass the logger to the parent class using Lombok?</p>\n<p><strong>This is how I would do it creating loggers by myself:</strong></p>\n<pre><code>public abstract class Parent\n{\n   private final Logger log = LoggerFactory.getLogger(getClass());\n\n   public void execute()\n   {\n       log.info(&quot;Do something&quot;);\n   }\n}\n\npublic class Child extends Parent\n{        \n\n}\n\nnew Child().execute();\n</code></pre>\n<p>Log output:</p>\n<pre><code>2021-01-16 INFO  [main] c.a.b.c.d.Child: Do it\n</code></pre>\n<p><strong>Using lombok</strong></p>\n<pre><code>@Slf4j\npublic abstract class Parent\n{\n   public void execute()\n   {\n       log.info(&quot;Do something&quot;);\n   }\n}\n\n@Slf4j\npublic class Child extends Parent\n{        \n\n}\n\nnew Child().execute();\n</code></pre>\n<p>Log output:</p>\n<pre><code>2021-01-16 INFO  [main] c.a.b.c.d.Parent: Do something\n</code></pre>\n"},{"tags":["javascript","java","spring-boot","kotlin","document"],"owner":{"account_id":20074646,"reputation":1,"user_id":15871168,"display_name":"OzodTagoev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688644542,"creation_date":1688644393,"question_id":76628557,"body_markdown":"    http://localhost:3000/document?id={document.id}&amp;pin={document.pin}\r\n\r\nI am trying to add the link for my generated document at the end of my document in a format like above using DocumentBuilder and jsEngine.eval() method in Spring. But the link is being changed to the format below when it is being added at the end of my document.\r\n\r\n    http://localhost:3000/document?id={document.id}\r\n    in={document.pin} \r\n\r\nIs &amp;p a special character in DocumentBuilder any ideas?","title":"Format of link is changing whenever trying to add it inside the generated document in Spring","body":"<pre><code>http://localhost:3000/document?id={document.id}&amp;pin={document.pin}\n</code></pre>\n<p>I am trying to add the link for my generated document at the end of my document in a format like above using DocumentBuilder and jsEngine.eval() method in Spring. But the link is being changed to the format below when it is being added at the end of my document.</p>\n<pre><code>http://localhost:3000/document?id={document.id}\nin={document.pin} \n</code></pre>\n<p>Is &amp;p a special character in DocumentBuilder any ideas?</p>\n"},{"tags":["java","android","canvas","bitmap","drawable"],"owner":{"account_id":14624477,"reputation":522,"user_id":10562200,"display_name":"AK IJ"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":11,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688644349,"creation_date":1688644349,"question_id":76628547,"body_markdown":"Canvas drwing success but can&#39;t undo or redo this drawing. i want to pin over the background image. it will be single pin draw or multiple pin or user can draw line. please helping for adding undo/redo this code. after drawing finish this image need to submit. here is my code.\r\n\r\n\r\n`public class MainActivity extends Activity implements View.OnClickListener {\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        drawableImageView = findViewById(R.id.ChoosenImageView);\r\n        choosePicture = (Button) this.findViewById(R.id.ChoosePictureButton);\r\n        savePicture = (Button) this.findViewById(R.id.SavePictureButton);\r\n        imgEdited =  this.findViewById(R.id.imgEdited);\r\n        btnRed =  this.findViewById(R.id.btnRed);\r\n        btnGreen =  this.findViewById(R.id.btnGreen);\r\n        btnBlue =  this.findViewById(R.id.btnBlue);\r\n        btnUndo =  this.findViewById(R.id.btnUndo);\r\n        btnRedo =  this.findViewById(R.id.btnRedo);\r\n\r\n        customColor= Color.BLACK;\r\n        Uri uri = Uri.parse(&quot;android.resource://com.tvl.qmsmg/drawable/shirt_icon&quot;);\r\n\r\n        try {\r\n            BitmapFactory.Options bmpFactoryOptions = new BitmapFactory.Options();\r\n            bmpFactoryOptions.inJustDecodeBounds = true;\r\n            bmp = BitmapFactory.decodeStream(getContentResolver().openInputStream(uri), null, bmpFactoryOptions);\r\n            bmpFactoryOptions.inJustDecodeBounds = false;\r\n            bmp = BitmapFactory.decodeStream(getContentResolver().openInputStream(uri), null, bmpFactoryOptions);\r\n            alteredBitmap = Bitmap.createBitmap(bmp.getWidth(), bmp.getHeight(), bmp.getConfig());\r\n            drawableImageView.setNewImage(alteredBitmap, bmp, customColor, true);\r\n        } catch (Exception e) {\r\n            Log.v(&quot;ERROR&quot;, e.toString());\r\n        }\r\n\r\n        btnRed.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                Log.d(TAG, &quot;check_bitmap_uri_1: &quot;+drawableImageView);\r\n                customColor= Color.RED;\r\n                colorChange(alteredBitmap, bmp, customColor);\r\n            }\r\n        });\r\n        btnGreen.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                customColor= Color.GREEN;\r\n                colorChange(alteredBitmap, bmp, customColor);\r\n            }\r\n        });\r\n        btnBlue.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                customColor= Color.BLUE;\r\n                colorChange(alteredBitmap, bmp, customColor);\r\n            }\r\n        });\r\n        btnUndo.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                int result= drawableImageView.onClickUndo();\r\n                if (result == 0){\r\n                    Toast.makeText(MainActivity.this, &quot;no data found&quot;, Toast.LENGTH_SHORT).show();\r\n                }\r\n            }\r\n        });\r\n        btnRedo.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n               drawableImageView.onClickRedo();\r\n            }\r\n        });\r\n        savePicture.setOnClickListener(this);\r\n        choosePicture.setOnClickListener(this);\r\n    }\r\n\r\n    void colorChange(Bitmap alteredBitmap, Bitmap bmp, int changeColor){\r\n        drawableImageView.setNewImage(alteredBitmap, bmp, changeColor, false);\r\n    }\r\n}\r\n\r\n\r\npublic class DrawableImageView extends androidx.appcompat.widget.AppCompatImageView implements View.OnTouchListener {\r\n \r\n    float downx = 0;\r\n    float downy = 0;\r\n    float upx = 0;\r\n    float upy = 0;\r\n    float drawRadius;\r\n    Canvas canvas;\r\n    Paint paint;\r\n    Matrix matrix;\r\n\r\n    private Stack&lt;Pair&lt;Float, Float&gt;&gt; totalStack = new Stack&lt;&gt;();\r\n    private Stack&lt;Pair&lt;Float, Float&gt;&gt; undoStack = new Stack&lt;&gt;();\r\n    private Stack&lt;Pair&lt;Float, Float&gt;&gt; redoStack = new Stack&lt;&gt;();\r\n\r\n    private Canvas mCanvas;\r\n    private Path mPath;\r\n    private ArrayList&lt;Path&gt; pathList = new ArrayList&lt;Path&gt;();\r\n    private Paint mPaint;\r\n    private ArrayList&lt;Path&gt; undonePaths = new ArrayList&lt;Path&gt;();\r\n\r\n\r\n    public DrawableImageView(Context context) {\r\n        super(context);\r\n        setOnTouchListener(this);\r\n        drawRadius = TypedValue.applyDimension(TypedValue.COMPLEX_UNIT_DIP, 10, getResources().getDisplayMetrics());\r\n    }\r\n    public DrawableImageView(Context context, AttributeSet attrs) {\r\n        super(context, attrs);\r\n        setOnTouchListener(this);\r\n        drawRadius = TypedValue.applyDimension(TypedValue.COMPLEX_UNIT_DIP, 10, getResources().getDisplayMetrics());\r\n    }\r\n    public DrawableImageView(Context context, AttributeSet attrs, int defStyleAttr) {\r\n        super(context, attrs, defStyleAttr);\r\n        setOnTouchListener(this);\r\n        drawRadius = TypedValue.applyDimension(TypedValue.COMPLEX_UNIT_DIP, 10, getResources().getDisplayMetrics());\r\n    }\r\n\r\n    public void setNewImage(Bitmap alteredBitmap, Bitmap bmp, int color, boolean isFirst) {\r\n        if (color == Color.WHITE){\r\n            drawRadius = TypedValue.applyDimension(TypedValue.COMPLEX_UNIT_DIP, 40, getResources().getDisplayMetrics());\r\n        } else {\r\n            drawRadius = TypedValue.applyDimension(TypedValue.COMPLEX_UNIT_DIP, 10, getResources().getDisplayMetrics());\r\n        }\r\n        paint = new Paint();\r\n        paint.setColor(color);\r\n        paint.setStrokeWidth(20);\r\n        matrix = new Matrix();\r\n        if (isFirst){\r\n            canvas = new Canvas(alteredBitmap);\r\n            canvas.drawBitmap(bmp, matrix, paint);\r\n            setImageBitmap(alteredBitmap);\r\n        }\r\n      \r\n    }\r\n   \r\n    public int onClickUndo () {\r\n        if (!totalStack.isEmpty()) {\r\n            redoStack.push(totalStack.peek());\r\n            invalidate();\r\n            return 1;\r\n        } else {\r\n            return 0;\r\n        }\r\n    }\r\n\r\n    public void onClickRedo (){\r\n        if (undonePaths.size()&gt;0) {\r\n            pathList.add(undonePaths.remove(undonePaths.size()-1));\r\n            invalidate();\r\n        }\r\n    }\r\n    @Override\r\n    public boolean onTouch(View v, MotionEvent event) {\r\n        int action = event.getAction();\r\n        switch (action) {\r\n            case MotionEvent.ACTION_DOWN:\r\n                downx = getPointerCoords(event)[0];//event.getX();\r\n                downy = getPointerCoords(event)[1];//event.getY();\r\n                Log.d(TAG, &quot;onTouch_ACTION_DOWN&quot;);\r\n                break;\r\n            case MotionEvent.ACTION_MOVE:\r\n                upx = getPointerCoords(event)[0];//event.getX();\r\n                upy = getPointerCoords(event)[1];//event.getY();\r\n                totalStack.push(new Pair&lt;&gt;(upx, upy));\r\n                canvas.drawCircle(totalStack.peek().first, totalStack.peek().second, drawRadius, paint);\r\n                invalidate();\r\n                downx = upx;\r\n                downy = upy;\r\n                Log.d(TAG, &quot;onTouch_ACTION_MOVE: &quot;+totalStack.size());\r\n                break;\r\n            case MotionEvent.ACTION_UP:\r\n                upx = getPointerCoords(event)[0];//event.getX();\r\n                upy = getPointerCoords(event)[1];//event.getY();\r\n                /*canvas.drawLine(downx, downy, upx, upy, paint);\r\n                canvas.drawCircle(upx, upy, drawRadius, paint);*/\r\n                invalidate();\r\n                Log.d(TAG, &quot;onTouch_ACTION_UP&quot;);\r\n                break;\r\n            case MotionEvent.ACTION_CANCEL:\r\n                Log.d(TAG, &quot;onTouch_ACTION_CANCEL&quot;);\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n        return true;\r\n    }\r\n    final float[] getPointerCoords(MotionEvent e) {\r\n        final int index = e.getActionIndex();\r\n        final float[] coords = new float[] { e.getX(index), e.getY(index) };\r\n        Matrix matrix = new Matrix();\r\n        getImageMatrix().invert(matrix);\r\n        matrix.postTranslate(getScrollX(), getScrollY());\r\n        matrix.mapPoints(coords);\r\n        return coords;\r\n    }\r\n}\r\n","title":"Android canvas drawing undo/redo not working with background image","body":"<p>Canvas drwing success but can't undo or redo this drawing. i want to pin over the background image. it will be single pin draw or multiple pin or user can draw line. please helping for adding undo/redo this code. after drawing finish this image need to submit. here is my code.</p>\n<p>`public class MainActivity extends Activity implements View.OnClickListener {</p>\n<pre><code>@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n\n    drawableImageView = findViewById(R.id.ChoosenImageView);\n    choosePicture = (Button) this.findViewById(R.id.ChoosePictureButton);\n    savePicture = (Button) this.findViewById(R.id.SavePictureButton);\n    imgEdited =  this.findViewById(R.id.imgEdited);\n    btnRed =  this.findViewById(R.id.btnRed);\n    btnGreen =  this.findViewById(R.id.btnGreen);\n    btnBlue =  this.findViewById(R.id.btnBlue);\n    btnUndo =  this.findViewById(R.id.btnUndo);\n    btnRedo =  this.findViewById(R.id.btnRedo);\n\n    customColor= Color.BLACK;\n    Uri uri = Uri.parse(&quot;android.resource://com.tvl.qmsmg/drawable/shirt_icon&quot;);\n\n    try {\n        BitmapFactory.Options bmpFactoryOptions = new BitmapFactory.Options();\n        bmpFactoryOptions.inJustDecodeBounds = true;\n        bmp = BitmapFactory.decodeStream(getContentResolver().openInputStream(uri), null, bmpFactoryOptions);\n        bmpFactoryOptions.inJustDecodeBounds = false;\n        bmp = BitmapFactory.decodeStream(getContentResolver().openInputStream(uri), null, bmpFactoryOptions);\n        alteredBitmap = Bitmap.createBitmap(bmp.getWidth(), bmp.getHeight(), bmp.getConfig());\n        drawableImageView.setNewImage(alteredBitmap, bmp, customColor, true);\n    } catch (Exception e) {\n        Log.v(&quot;ERROR&quot;, e.toString());\n    }\n\n    btnRed.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            Log.d(TAG, &quot;check_bitmap_uri_1: &quot;+drawableImageView);\n            customColor= Color.RED;\n            colorChange(alteredBitmap, bmp, customColor);\n        }\n    });\n    btnGreen.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            customColor= Color.GREEN;\n            colorChange(alteredBitmap, bmp, customColor);\n        }\n    });\n    btnBlue.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            customColor= Color.BLUE;\n            colorChange(alteredBitmap, bmp, customColor);\n        }\n    });\n    btnUndo.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            int result= drawableImageView.onClickUndo();\n            if (result == 0){\n                Toast.makeText(MainActivity.this, &quot;no data found&quot;, Toast.LENGTH_SHORT).show();\n            }\n        }\n    });\n    btnRedo.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n           drawableImageView.onClickRedo();\n        }\n    });\n    savePicture.setOnClickListener(this);\n    choosePicture.setOnClickListener(this);\n}\n\nvoid colorChange(Bitmap alteredBitmap, Bitmap bmp, int changeColor){\n    drawableImageView.setNewImage(alteredBitmap, bmp, changeColor, false);\n}\n</code></pre>\n<p>}</p>\n<p>public class DrawableImageView extends androidx.appcompat.widget.AppCompatImageView implements View.OnTouchListener {</p>\n<pre><code>float downx = 0;\nfloat downy = 0;\nfloat upx = 0;\nfloat upy = 0;\nfloat drawRadius;\nCanvas canvas;\nPaint paint;\nMatrix matrix;\n\nprivate Stack&lt;Pair&lt;Float, Float&gt;&gt; totalStack = new Stack&lt;&gt;();\nprivate Stack&lt;Pair&lt;Float, Float&gt;&gt; undoStack = new Stack&lt;&gt;();\nprivate Stack&lt;Pair&lt;Float, Float&gt;&gt; redoStack = new Stack&lt;&gt;();\n\nprivate Canvas mCanvas;\nprivate Path mPath;\nprivate ArrayList&lt;Path&gt; pathList = new ArrayList&lt;Path&gt;();\nprivate Paint mPaint;\nprivate ArrayList&lt;Path&gt; undonePaths = new ArrayList&lt;Path&gt;();\n\n\npublic DrawableImageView(Context context) {\n    super(context);\n    setOnTouchListener(this);\n    drawRadius = TypedValue.applyDimension(TypedValue.COMPLEX_UNIT_DIP, 10, getResources().getDisplayMetrics());\n}\npublic DrawableImageView(Context context, AttributeSet attrs) {\n    super(context, attrs);\n    setOnTouchListener(this);\n    drawRadius = TypedValue.applyDimension(TypedValue.COMPLEX_UNIT_DIP, 10, getResources().getDisplayMetrics());\n}\npublic DrawableImageView(Context context, AttributeSet attrs, int defStyleAttr) {\n    super(context, attrs, defStyleAttr);\n    setOnTouchListener(this);\n    drawRadius = TypedValue.applyDimension(TypedValue.COMPLEX_UNIT_DIP, 10, getResources().getDisplayMetrics());\n}\n\npublic void setNewImage(Bitmap alteredBitmap, Bitmap bmp, int color, boolean isFirst) {\n    if (color == Color.WHITE){\n        drawRadius = TypedValue.applyDimension(TypedValue.COMPLEX_UNIT_DIP, 40, getResources().getDisplayMetrics());\n    } else {\n        drawRadius = TypedValue.applyDimension(TypedValue.COMPLEX_UNIT_DIP, 10, getResources().getDisplayMetrics());\n    }\n    paint = new Paint();\n    paint.setColor(color);\n    paint.setStrokeWidth(20);\n    matrix = new Matrix();\n    if (isFirst){\n        canvas = new Canvas(alteredBitmap);\n        canvas.drawBitmap(bmp, matrix, paint);\n        setImageBitmap(alteredBitmap);\n    }\n  \n}\n\npublic int onClickUndo () {\n    if (!totalStack.isEmpty()) {\n        redoStack.push(totalStack.peek());\n        invalidate();\n        return 1;\n    } else {\n        return 0;\n    }\n}\n\npublic void onClickRedo (){\n    if (undonePaths.size()&gt;0) {\n        pathList.add(undonePaths.remove(undonePaths.size()-1));\n        invalidate();\n    }\n}\n@Override\npublic boolean onTouch(View v, MotionEvent event) {\n    int action = event.getAction();\n    switch (action) {\n        case MotionEvent.ACTION_DOWN:\n            downx = getPointerCoords(event)[0];//event.getX();\n            downy = getPointerCoords(event)[1];//event.getY();\n            Log.d(TAG, &quot;onTouch_ACTION_DOWN&quot;);\n            break;\n        case MotionEvent.ACTION_MOVE:\n            upx = getPointerCoords(event)[0];//event.getX();\n            upy = getPointerCoords(event)[1];//event.getY();\n            totalStack.push(new Pair&lt;&gt;(upx, upy));\n            canvas.drawCircle(totalStack.peek().first, totalStack.peek().second, drawRadius, paint);\n            invalidate();\n            downx = upx;\n            downy = upy;\n            Log.d(TAG, &quot;onTouch_ACTION_MOVE: &quot;+totalStack.size());\n            break;\n        case MotionEvent.ACTION_UP:\n            upx = getPointerCoords(event)[0];//event.getX();\n            upy = getPointerCoords(event)[1];//event.getY();\n            /*canvas.drawLine(downx, downy, upx, upy, paint);\n            canvas.drawCircle(upx, upy, drawRadius, paint);*/\n            invalidate();\n            Log.d(TAG, &quot;onTouch_ACTION_UP&quot;);\n            break;\n        case MotionEvent.ACTION_CANCEL:\n            Log.d(TAG, &quot;onTouch_ACTION_CANCEL&quot;);\n            break;\n        default:\n            break;\n    }\n    return true;\n}\nfinal float[] getPointerCoords(MotionEvent e) {\n    final int index = e.getActionIndex();\n    final float[] coords = new float[] { e.getX(index), e.getY(index) };\n    Matrix matrix = new Matrix();\n    getImageMatrix().invert(matrix);\n    matrix.postTranslate(getScrollX(), getScrollY());\n    matrix.mapPoints(coords);\n    return coords;\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","multithreading","oop","memory-management","collections"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1688639566,"post_id":76627877,"comment_id":135102220,"body_markdown":"You have a constructor A in class ProductSpec. none of this will compile. ever heard of setters or other mutators?","body":"You have a constructor A in class ProductSpec. none of this will compile. ever heard of setters or other mutators?"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1688639577,"post_id":76627877,"comment_id":135102222,"body_markdown":"Perhaps another thread calls `getProductDetails`?","body":"Perhaps another thread calls <code>getProductDetails</code>?"},{"owner":{"account_id":28961935,"reputation":1,"user_id":22184244,"display_name":"ashvini"},"score":0,"creation_date":1688639938,"post_id":76627877,"comment_id":135102278,"body_markdown":"@tgdavies yes, how can I make sure that the value of items remain unchanged for a product","body":"@tgdavies yes, how can I make sure that the value of items remain unchanged for a product"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1688640007,"post_id":76627877,"comment_id":135102291,"body_markdown":"Make `items` a local variable in `getProductDetails` instead of a field.","body":"Make <code>items</code> a local variable in <code>getProductDetails</code> instead of a field."},{"owner":{"account_id":28961935,"reputation":1,"user_id":22184244,"display_name":"ashvini"},"score":0,"creation_date":1688640168,"post_id":76627877,"comment_id":135102326,"body_markdown":"@tgdavies, I understand our point, but items is being used by multiple methods in the same class hence it is an instance variable. Also since it is a db call, want to avoid getItems call directly. Is there any other way?","body":"@tgdavies, I understand our point, but items is being used by multiple methods in the same class hence it is an instance variable. Also since it is a db call, want to avoid getItems call directly. Is there any other way?"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1688640172,"post_id":76627877,"comment_id":135102327,"body_markdown":"How did you wrap a `List` with `Collection.unmodifiableMap(items)`?","body":"How did you wrap a <code>List</code> with <code>Collection.unmodifiableMap(items)</code>?"},{"owner":{"account_id":28961935,"reputation":1,"user_id":22184244,"display_name":"ashvini"},"score":0,"creation_date":1688640263,"post_id":76627877,"comment_id":135102342,"body_markdown":"@Stultuske I have corrected the constructor, please note this is a dummy code equivalent to an existing production code. Please advise.","body":"@Stultuske I have corrected the constructor, please note this is a dummy code equivalent to an existing production code. Please advise."},{"owner":{"account_id":28961935,"reputation":1,"user_id":22184244,"display_name":"ashvini"},"score":0,"creation_date":1688640394,"post_id":76627877,"comment_id":135102372,"body_markdown":"@tgdavies my bad , used this  Collection.unmodifiableList(items)","body":"@tgdavies my bad , used this  Collection.unmodifiableList(items)"},{"owner":{"account_id":2123179,"reputation":10922,"user_id":1886012,"display_name":"bowmore"},"score":0,"creation_date":1688640777,"post_id":76627877,"comment_id":135102451,"body_markdown":"How does the items field get populated? You should edit the code in the question so that it at least compiles, and that all code that touches the items field is shown.","body":"How does the items field get populated? You should edit the code in the question so that it at least compiles, and that all code that touches the items field is shown."},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":1,"creation_date":1688641282,"post_id":76627877,"comment_id":135102539,"body_markdown":"It could be (for example if `ProductSpec` is a bean in a Spring context) that your application only uses a single instance of `ProductSpec` to serve all client requests. In such a case different requests occuring at the same time would overwrite each others `items`. The solution in that case would be to not store request-specific data in fields.","body":"It could be (for example if <code>ProductSpec</code> is a bean in a Spring context) that your application only uses a single instance of <code>ProductSpec</code> to serve all client requests. In such a case different requests occuring at the same time would overwrite each others <code>items</code>. The solution in that case would be to not store request-specific data in fields."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1688641298,"post_id":76627877,"comment_id":135102544,"body_markdown":"You need to decide what the semantics of a `ProductSpec` instance are. Perhaps `items` should be a `Map&lt;Integer,List&lt;Item&gt;&gt;`.","body":"You need to decide what the semantics of a <code>ProductSpec</code> instance are. Perhaps <code>items</code> should be a <code>Map&lt;Integer,List&lt;Item&gt;&gt;</code>."},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":1,"creation_date":1688641384,"post_id":76627877,"comment_id":135102562,"body_markdown":"@ashvini nobody expects you to post production code, but at least a minimal reproducable example of the problem.","body":"@ashvini nobody expects you to post production code, but at least a minimal reproducable example of the problem."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1688721351,"post_id":76627877,"comment_id":135114738,"body_markdown":"LINE A is not a return statement at all, so the sentence “*tried returning the Collection.unmodifiableList(items) in LINE A*” makes no sense.","body":"LINE A is not a return statement at all, so the sentence “<i>tried returning the Collection.unmodifiableList(items) in LINE A</i>” makes no sense."}],"answers":[{"tags":[],"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688643151,"creation_date":1688643151,"answer_id":76628383,"question_id":76627877,"body_markdown":"There are three ways the result of printing the values in the objects in the list referred to by the `items` field can change.\r\n\r\n1. A new `List&lt;Item&gt;` is assigned to the `items` field. This happens every time `getProductDetails` is called, and may happen in other places you haven&#39;t shown.\r\n2. Objects are added to/removed from the list whose reference is stored in `items`. We don&#39;t see this happening in the code you&#39;ve shown, but anything with the `items` reference can do this. If the reference in `items` was to an immutable list, then this source of change wouldn&#39;t be possible.\r\n3. The values of fields in the objects in the list whose reference is stored in `items` can be changed by setters on the `Item` class (or other methods).\r\n\r\nWhile the above answers the question you ask in your post, what you want to know is &quot;why doesn&#39;t my code do what I want it to do?&quot;\r\n\r\nYou haven&#39;t provided enough information to answer that question, but most probably you have created `ProductSpec` without deciding what it does. You have mutable state (the `items` field) and judging by the use of the multithreading tag, you have several threads using the same `ProductSpec` instance. That is simply not going to work.","title":"how can the value of private instance variables of a class change in java","body":"<p>There are three ways the result of printing the values in the objects in the list referred to by the <code>items</code> field can change.</p>\n<ol>\n<li>A new <code>List&lt;Item&gt;</code> is assigned to the <code>items</code> field. This happens every time <code>getProductDetails</code> is called, and may happen in other places you haven't shown.</li>\n<li>Objects are added to/removed from the list whose reference is stored in <code>items</code>. We don't see this happening in the code you've shown, but anything with the <code>items</code> reference can do this. If the reference in <code>items</code> was to an immutable list, then this source of change wouldn't be possible.</li>\n<li>The values of fields in the objects in the list whose reference is stored in <code>items</code> can be changed by setters on the <code>Item</code> class (or other methods).</li>\n</ol>\n<p>While the above answers the question you ask in your post, what you want to know is &quot;why doesn't my code do what I want it to do?&quot;</p>\n<p>You haven't provided enough information to answer that question, but most probably you have created <code>ProductSpec</code> without deciding what it does. You have mutable state (the <code>items</code> field) and judging by the use of the multithreading tag, you have several threads using the same <code>ProductSpec</code> instance. That is simply not going to work.</p>\n"}],"owner":{"account_id":28961935,"reputation":1,"user_id":22184244,"display_name":"ashvini"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1688643151,"creation_date":1688639293,"question_id":76627877,"body_markdown":"```\r\nclass ProductSpec{\r\n    private List&lt;Item&gt; items;\r\n\r\n    public ProductSpec(){}\r\n\r\n    getItems(Long id){\r\n        return itemRepository.getAllByProductId(id)\r\n    }\r\n\r\n\r\n    getProductDetails(Parameters parameters){\r\n//LOGIC...\r\n//....\r\n        Long productId = //fetched from api get request params\r\n        items = getItems(productId); //LINE A\r\n        items.forEach(i-&gt;System.out.println(i.getId + &quot; &quot; + i.getProductId())); //LINE B\r\n\r\n        doStuff(items);\r\n    }\r\n\r\n\r\n\r\n\r\n    private doStuff(items){\r\n        items.forEach(\r\n            i-&gt;{\r\n                System.out.println(i.getId() + &quot; &quot;+ i.getProductId()) //LINE C\r\n            }\r\n        )\r\n    }\r\n}\r\n```\r\n\r\nlet&#39;s consider the example code above,\r\nI have two set of item list IN database as follows\r\n\r\nItems for product id=1\r\n| items id | product id |\r\n| -------- | --------   |\r\n| 101      |  1         |\r\n| 102      |  1         |\r\n\r\n\r\n\r\nItems for product id=2\r\n| items id | product id |\r\n| -------- | --------   |\r\n| 103      |  2         |\r\n| 104      |  2         |\r\n\r\nBehaviour in production is as follows\r\n\r\nwhen the product id=1, LINE B prints- 101 1 , 102 1\r\nbut some how LINE C prints -  103 1, 104 1 (in some cases)\r\nThe items instance variable is not reassigned any where after LINE A\r\nHow is this possible?\r\n\r\ntried returning the Collection.unmodifiableList(items) in LINE A.\r\nthis did not solve the problem. What could be wrong here","title":"how can the value of private instance variables of a class change in java","body":"<pre><code>class ProductSpec{\n    private List&lt;Item&gt; items;\n\n    public ProductSpec(){}\n\n    getItems(Long id){\n        return itemRepository.getAllByProductId(id)\n    }\n\n\n    getProductDetails(Parameters parameters){\n//LOGIC...\n//....\n        Long productId = //fetched from api get request params\n        items = getItems(productId); //LINE A\n        items.forEach(i-&gt;System.out.println(i.getId + &quot; &quot; + i.getProductId())); //LINE B\n\n        doStuff(items);\n    }\n\n\n\n\n    private doStuff(items){\n        items.forEach(\n            i-&gt;{\n                System.out.println(i.getId() + &quot; &quot;+ i.getProductId()) //LINE C\n            }\n        )\n    }\n}\n</code></pre>\n<p>let's consider the example code above,\nI have two set of item list IN database as follows</p>\n<p>Items for product id=1\n| items id | product id |\n| -------- | --------   |\n| 101      |  1         |\n| 102      |  1         |</p>\n<p>Items for product id=2\n| items id | product id |\n| -------- | --------   |\n| 103      |  2         |\n| 104      |  2         |</p>\n<p>Behaviour in production is as follows</p>\n<p>when the product id=1, LINE B prints- 101 1 , 102 1\nbut some how LINE C prints -  103 1, 104 1 (in some cases)\nThe items instance variable is not reassigned any where after LINE A\nHow is this possible?</p>\n<p>tried returning the Collection.unmodifiableList(items) in LINE A.\nthis did not solve the problem. What could be wrong here</p>\n"},{"tags":["java","spring-boot","google-oauth","service-accounts"],"comments":[{"owner":{"account_id":2066403,"reputation":109410,"user_id":1841839,"accept_rate":71,"display_name":"Linda Lawton - DaImTo"},"score":0,"creation_date":1688641278,"post_id":76627886,"comment_id":135102538,"body_markdown":"Why did you download the p12 file. you should use one or the other not both.","body":"Why did you download the p12 file. you should use one or the other not both."},{"owner":{"account_id":28409447,"reputation":19,"user_id":21733036,"display_name":"MIM"},"score":0,"creation_date":1688641354,"post_id":76627886,"comment_id":135102555,"body_markdown":"@LindaLawton-DaImTo this is in my example code. I want to use json key not p12 key","body":"@LindaLawton-DaImTo this is in my example code. I want to use json key not p12 key"},{"owner":{"account_id":2066403,"reputation":109410,"user_id":1841839,"accept_rate":71,"display_name":"Linda Lawton - DaImTo"},"score":0,"creation_date":1688641515,"post_id":76627886,"comment_id":135102588,"body_markdown":"Then I don&#39;t understand the issue why &quot;I am using p12 key file&quot;","body":"Then I don&#39;t understand the issue why &quot;I am using p12 key file&quot;"},{"owner":{"account_id":28409447,"reputation":19,"user_id":21733036,"display_name":"MIM"},"score":0,"creation_date":1688641664,"post_id":76627886,"comment_id":135102621,"body_markdown":"@LindaLawton-DaImTo sorry my bad at English. I already edited","body":"@LindaLawton-DaImTo sorry my bad at English. I already edited"},{"owner":{"account_id":2066403,"reputation":109410,"user_id":1841839,"accept_rate":71,"display_name":"Linda Lawton - DaImTo"},"score":0,"creation_date":1688641725,"post_id":76627886,"comment_id":135102636,"body_markdown":"Okay i get it.   Check below let me know if you have any issues and i will test it.","body":"Okay i get it.   Check below let me know if you have any issues and i will test it."}],"answers":[{"tags":[],"owner":{"account_id":2066403,"reputation":109410,"user_id":1841839,"accept_rate":71,"display_name":"Linda Lawton - DaImTo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688641708,"creation_date":1688641708,"answer_id":76628180,"question_id":76627886,"body_markdown":"Try something like this.\r\n\r\n\r\n    public class DriveWithServiceAccountQuickstart {\r\n        private static final String APPLICATION_NAME = &quot;your awesome app&quot;;\r\n        private static final JsonFactory JSON_FACTORY = JacksonFactory.getDefaultInstance();\r\n    \r\n        private static final List&lt;String&gt; SCOPES = Arrays.asList(DriveScopes.DRIVE);\r\n        private static final String CREDENTIALS_FILE_PATH = &quot;/path/to/your/service-account-key-downloaded-from-google-api-console.json&quot;;\r\n    \r\n        public static void main(String... args) throws IOException, GeneralSecurityException {\r\n            // Build a new authorized API client service\r\n            final NetHttpTransport HTTP_TRANSPORT = GoogleNetHttpTransport.newTrustedTransport();\r\n            HttpRequestInitializer requestInitializer = new HttpCredentialsAdapter(ServiceAccountCredentials.fromStream(new FileInputStream(CREDENTIALS_FILE_PATH))\r\n                    .createScoped(SCOPES));\r\n            Drive driveService = new Drive.Builder(HTTP_TRANSPORT, JSON_FACTORY, requestInitializer)\r\n                    .setApplicationName(APPLICATION_NAME)\r\n                    .build();\r\n    \r\n            // Print the names and IDs for up to 10 files.\r\n            FileList result = driveService.files().list()\r\n                    .setPageSize(10)\r\n                    .setFields(&quot;nextPageToken, files(id, name)&quot;)\r\n                    .execute();\r\n            List&lt;File&gt; files = result.getFiles();\r\n            if (files == null || files.isEmpty()) {\r\n                System.out.println(&quot;No files found.&quot;);\r\n            } else {\r\n                System.out.println(&quot;Files:&quot;);\r\n                for (File file : files) {\r\n                    System.out.printf(&quot;%s (%s)\\n&quot;, file.getName(), file.getId());\r\n                }\r\n            }\r\n        }\r\n    }","title":"How to set credential for Google service account using JSON key added into application.yml in spring boot?","body":"<p>Try something like this.</p>\n<pre><code>public class DriveWithServiceAccountQuickstart {\n    private static final String APPLICATION_NAME = &quot;your awesome app&quot;;\n    private static final JsonFactory JSON_FACTORY = JacksonFactory.getDefaultInstance();\n\n    private static final List&lt;String&gt; SCOPES = Arrays.asList(DriveScopes.DRIVE);\n    private static final String CREDENTIALS_FILE_PATH = &quot;/path/to/your/service-account-key-downloaded-from-google-api-console.json&quot;;\n\n    public static void main(String... args) throws IOException, GeneralSecurityException {\n        // Build a new authorized API client service\n        final NetHttpTransport HTTP_TRANSPORT = GoogleNetHttpTransport.newTrustedTransport();\n        HttpRequestInitializer requestInitializer = new HttpCredentialsAdapter(ServiceAccountCredentials.fromStream(new FileInputStream(CREDENTIALS_FILE_PATH))\n                .createScoped(SCOPES));\n        Drive driveService = new Drive.Builder(HTTP_TRANSPORT, JSON_FACTORY, requestInitializer)\n                .setApplicationName(APPLICATION_NAME)\n                .build();\n\n        // Print the names and IDs for up to 10 files.\n        FileList result = driveService.files().list()\n                .setPageSize(10)\n                .setFields(&quot;nextPageToken, files(id, name)&quot;)\n                .execute();\n        List&lt;File&gt; files = result.getFiles();\n        if (files == null || files.isEmpty()) {\n            System.out.println(&quot;No files found.&quot;);\n        } else {\n            System.out.println(&quot;Files:&quot;);\n            for (File file : files) {\n                System.out.printf(&quot;%s (%s)\\n&quot;, file.getName(), file.getId());\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18535178,"reputation":340,"user_id":13505007,"display_name":"Spyros Palaiokostas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1688643097,"creation_date":1688643097,"answer_id":76628376,"question_id":76627886,"body_markdown":"You can pass the JSON key as a String application property for example on the `application.yml`\r\n\r\n```\r\n  google:\r\n     privateKey:\r\n       json: &#39;{&quot;type&quot;:&quot;service_account&quot;,&quot;project_id&quot;:&quot;mocked-project&quot;,&quot;private_key_id&quot;:&quot;mocked_private_key&quot;,&quot;private_key&quot;:&quot;-----BEGIN PRIVATE KEY-----xxxxxxx-----END PRIVATE KEY-----\\n&quot;,&quot;client_email&quot;:&quot;mocked-service-account@mocked-project.iam.gserviceaccount.com&quot;,&quot;client_id&quot;:&quot;123577123897123&quot;,&quot;auth_uri&quot;:&quot;https://accounts.google.com/o/oauth2/auth&quot;,&quot;token_uri&quot;:&quot;https://oauth2.googleapis.com/token&quot;,&quot;auth_provider_x509_cert_url&quot;:&quot;https://www.googleapis.com/oauth2/v1/certs&quot;,&quot;client_x509_cert_url&quot;:&quot;https://www.googleapis.com/robot/v1/metadata/x509/mock-service-account%40mocked-project.iam.gserviceaccount.com&quot;}&#39;\r\n```\r\n\r\nThen you can parse the credentials with the `fromStream()` method `GoogleCredentials`, for example:\r\n\r\n```java\r\nInputStream in = new ByteArrayInputStream(privateKeyJson.getBytes());\r\nGoogleCredential cr = GoogleCredential.fromStream(in);\r\n```\r\n\r\nFinally, after obtaining the credentials you can use the `GoogleCredentials.Builder()` to set the service account properties\r\n\r\nHere is an example:\r\n```java\r\n    GoogleCredential cr = GoogleCredential.fromStream(in);\r\n    return new GoogleCredential.Builder()\r\n        .setTransport(httpTransport)\r\n        .setJsonFactory(jacksonFactory)\r\n        .setServiceAccountId(cr.getServiceAccountId())\r\n        .setServiceAccountPrivateKey(cr.getServiceAccountPrivateKey())\r\n        .setServiceAccountPrivateKeyId(cr.getServiceAccountPrivateKeyId())\r\n        .setTokenServerEncodedUrl(cr.getTokenServerEncodedUrl())\r\n        .setServiceAccountId(&quot;xxx&quot;)\r\n        .setServiceAccountScopes(scope)\r\n        .build();\r\n```","title":"How to set credential for Google service account using JSON key added into application.yml in spring boot?","body":"<p>You can pass the JSON key as a String application property for example on the <code>application.yml</code></p>\n<pre><code>  google:\n     privateKey:\n       json: '{&quot;type&quot;:&quot;service_account&quot;,&quot;project_id&quot;:&quot;mocked-project&quot;,&quot;private_key_id&quot;:&quot;mocked_private_key&quot;,&quot;private_key&quot;:&quot;-----BEGIN PRIVATE KEY-----xxxxxxx-----END PRIVATE KEY-----\\n&quot;,&quot;client_email&quot;:&quot;mocked-service-account@mocked-project.iam.gserviceaccount.com&quot;,&quot;client_id&quot;:&quot;123577123897123&quot;,&quot;auth_uri&quot;:&quot;https://accounts.google.com/o/oauth2/auth&quot;,&quot;token_uri&quot;:&quot;https://oauth2.googleapis.com/token&quot;,&quot;auth_provider_x509_cert_url&quot;:&quot;https://www.googleapis.com/oauth2/v1/certs&quot;,&quot;client_x509_cert_url&quot;:&quot;https://www.googleapis.com/robot/v1/metadata/x509/mock-service-account%40mocked-project.iam.gserviceaccount.com&quot;}'\n</code></pre>\n<p>Then you can parse the credentials with the <code>fromStream()</code> method <code>GoogleCredentials</code>, for example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>InputStream in = new ByteArrayInputStream(privateKeyJson.getBytes());\nGoogleCredential cr = GoogleCredential.fromStream(in);\n</code></pre>\n<p>Finally, after obtaining the credentials you can use the <code>GoogleCredentials.Builder()</code> to set the service account properties</p>\n<p>Here is an example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    GoogleCredential cr = GoogleCredential.fromStream(in);\n    return new GoogleCredential.Builder()\n        .setTransport(httpTransport)\n        .setJsonFactory(jacksonFactory)\n        .setServiceAccountId(cr.getServiceAccountId())\n        .setServiceAccountPrivateKey(cr.getServiceAccountPrivateKey())\n        .setServiceAccountPrivateKeyId(cr.getServiceAccountPrivateKeyId())\n        .setTokenServerEncodedUrl(cr.getTokenServerEncodedUrl())\n        .setServiceAccountId(&quot;xxx&quot;)\n        .setServiceAccountScopes(scope)\n        .build();\n</code></pre>\n"}],"owner":{"account_id":28409447,"reputation":19,"user_id":21733036,"display_name":"MIM"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":622,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76628376,"answer_count":2,"score":0,"last_activity_date":1688643097,"creation_date":1688639342,"question_id":76627886,"body_markdown":"I am doing in google api service using google service account. I have this problem how to set value for builder to credential this api. How to set it in JSON key\r\n```\r\n    public GoogleCredential googleCredential() throws GeneralSecurityException, IOException {\r\n        Collection&lt;String&gt; scope = new ArrayList&lt;String&gt;();\r\n        scope.add(&quot;https://www.googleapis.com/auth/drive&quot;);\r\n        HttpTransport httpTransport = new NetHttpTransport();\r\n        JacksonFactory jsonFactory = new JacksonFactory();\r\n        Builder credentialBuilder = new Builder(httpTransport, jsonFactory);\r\n       \r\n        return new GoogleCredential.Builder()\r\n            .setTransport(httpTransport)\r\n            .setJsonFactory(jsonFactory)\r\n            .setServiceAccountId(&quot;xxx&quot;)\r\n            .setServiceAccountScopes(scope)\r\n            )\r\n            .build();\r\n    }\r\n```\r\n\r\nI want to create application.yml to store this JSON key like this:\r\n```\r\ngoogle-drive:\r\n  type: &quot;service_account&quot;,\r\n  project_id: &quot;xx-387809&quot;,\r\n  private_key_id: &quot;xxxxxxx&quot;,\r\n  private_key: &quot;-----BEGIN PRIVATE KEY-----xxxxxxx-----END PRIVATE KEY-----\\n&quot;,\r\n  client_email: &quot;xxxxx-387809.iam.gserviceaccount.com&quot;,\r\n  client_id: &quot;00000000&quot;,\r\n  auth_uri: &quot;https://accounts.google.com/o/oauth2/auth&quot;,\r\n  token_uri: &quot;https://oauth2.googleapis.com/token&quot;,\r\n  auth_provider_x509_cert_url: &quot;https://www.googleapis.com/oauth2/v1/certs&quot;,\r\n  client_x509_cert_url: &quot;https://www.googleapis.com/robot/v1/metadata/x509/xxxxxxx-387809.iam.gserviceaccount.com&quot;,\r\n  universe_domain: &quot;googleapis.com&quot;\r\n```\r\nto run my service with this config","title":"How to set credential for Google service account using JSON key added into application.yml in spring boot?","body":"<p>I am doing in google api service using google service account. I have this problem how to set value for builder to credential this api. How to set it in JSON key</p>\n<pre><code>    public GoogleCredential googleCredential() throws GeneralSecurityException, IOException {\n        Collection&lt;String&gt; scope = new ArrayList&lt;String&gt;();\n        scope.add(&quot;https://www.googleapis.com/auth/drive&quot;);\n        HttpTransport httpTransport = new NetHttpTransport();\n        JacksonFactory jsonFactory = new JacksonFactory();\n        Builder credentialBuilder = new Builder(httpTransport, jsonFactory);\n       \n        return new GoogleCredential.Builder()\n            .setTransport(httpTransport)\n            .setJsonFactory(jsonFactory)\n            .setServiceAccountId(&quot;xxx&quot;)\n            .setServiceAccountScopes(scope)\n            )\n            .build();\n    }\n</code></pre>\n<p>I want to create application.yml to store this JSON key like this:</p>\n<pre><code>google-drive:\n  type: &quot;service_account&quot;,\n  project_id: &quot;xx-387809&quot;,\n  private_key_id: &quot;xxxxxxx&quot;,\n  private_key: &quot;-----BEGIN PRIVATE KEY-----xxxxxxx-----END PRIVATE KEY-----\\n&quot;,\n  client_email: &quot;xxxxx-387809.iam.gserviceaccount.com&quot;,\n  client_id: &quot;00000000&quot;,\n  auth_uri: &quot;https://accounts.google.com/o/oauth2/auth&quot;,\n  token_uri: &quot;https://oauth2.googleapis.com/token&quot;,\n  auth_provider_x509_cert_url: &quot;https://www.googleapis.com/oauth2/v1/certs&quot;,\n  client_x509_cert_url: &quot;https://www.googleapis.com/robot/v1/metadata/x509/xxxxxxx-387809.iam.gserviceaccount.com&quot;,\n  universe_domain: &quot;googleapis.com&quot;\n</code></pre>\n<p>to run my service with this config</p>\n"},{"tags":["java","url","servlet-filters"],"answers":[{"tags":[],"owner":{"account_id":95910,"reputation":238649,"user_id":260990,"accept_rate":81,"display_name":"jmj"},"down_vote_count":8,"up_vote_count":6,"is_accepted":false,"score":-2,"last_activity_date":1291824639,"creation_date":1291824639,"answer_id":4389611,"question_id":4389596,"body_markdown":"    request.getRequestURL();   \r\n\r\n - [Documentation][1]\r\n\r\n\r\n  [1]: http://download.oracle.com/javaee/6/api/javax/servlet/http/HttpServletRequest.html#getRequestURL%28%29","title":"How can I get the request URL from a Java Filter?","body":"<pre><code>request.getRequestURL();   \n</code></pre>\n\n<ul>\n<li><a href=\"http://download.oracle.com/javaee/6/api/javax/servlet/http/HttpServletRequest.html#getRequestURL%28%29\" rel=\"nofollow\">Documentation</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":91502,"reputation":88301,"user_id":251173,"accept_rate":86,"display_name":"Buhake Sindi"},"down_vote_count":0,"up_vote_count":203,"is_accepted":true,"score":203,"last_activity_date":1344930532,"creation_date":1291824712,"answer_id":4389627,"question_id":4389596,"body_markdown":"Is this what you&#39;re looking for?\r\n\r\n    if (request instanceof HttpServletRequest) {\r\n     String url = ((HttpServletRequest)request).getRequestURL().toString();\r\n     String queryString = ((HttpServletRequest)request).getQueryString();\r\n    }\r\n\r\nTo Reconstruct:\r\n\r\n    System.out.println(url + &quot;?&quot; + queryString);\r\n\r\nInfo on [`HttpServletRequest.getRequestURL()`][1] and [`HttpServletRequest.getQueryString()`][2].\r\n\r\n\r\n  [1]: http://download.oracle.com/javaee/6/api/javax/servlet/http/HttpServletRequest.html#getRequestURL%28%29\r\n  [2]: http://download.oracle.com/javaee/6/api/javax/servlet/http/HttpServletRequest.html#getQueryString%28%29","title":"How can I get the request URL from a Java Filter?","body":"<p>Is this what you're looking for?</p>\n\n<pre><code>if (request instanceof HttpServletRequest) {\n String url = ((HttpServletRequest)request).getRequestURL().toString();\n String queryString = ((HttpServletRequest)request).getQueryString();\n}\n</code></pre>\n\n<p>To Reconstruct:</p>\n\n<pre><code>System.out.println(url + \"?\" + queryString);\n</code></pre>\n\n<p>Info on <a href=\"http://download.oracle.com/javaee/6/api/javax/servlet/http/HttpServletRequest.html#getRequestURL%28%29\" rel=\"noreferrer\"><code>HttpServletRequest.getRequestURL()</code></a> and <a href=\"http://download.oracle.com/javaee/6/api/javax/servlet/http/HttpServletRequest.html#getQueryString%28%29\" rel=\"noreferrer\"><code>HttpServletRequest.getQueryString()</code></a>.</p>\n"},{"tags":[],"owner":{"account_id":13259,"reputation":67754,"user_id":26510,"accept_rate":99,"display_name":"Brad Parks"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1498753169,"creation_date":1498753169,"answer_id":44830398,"question_id":4389596,"body_markdown":"Building on [another answer on this page](https://stackoverflow.com/a/4389627/26510),\r\n\r\n    public static String getCurrentUrlFromRequest(ServletRequest request)\r\n    {\r\n       if (! (request instanceof HttpServletRequest))\r\n           return null;\r\n\r\n       return getCurrentUrlFromRequest((HttpServletRequest)request);\r\n    }\r\n\r\n    public static String getCurrentUrlFromRequest(HttpServletRequest request)\r\n    {\r\n        StringBuffer requestURL = request.getRequestURL();\r\n        String queryString = request.getQueryString();\r\n\r\n        if (queryString == null)\r\n            return requestURL.toString();\r\n\r\n        return requestURL.append(&#39;?&#39;).append(queryString).toString();\r\n    }\r\n","title":"How can I get the request URL from a Java Filter?","body":"<p>Building on <a href=\"https://stackoverflow.com/a/4389627/26510\">another answer on this page</a>,</p>\n\n<pre><code>public static String getCurrentUrlFromRequest(ServletRequest request)\n{\n   if (! (request instanceof HttpServletRequest))\n       return null;\n\n   return getCurrentUrlFromRequest((HttpServletRequest)request);\n}\n\npublic static String getCurrentUrlFromRequest(HttpServletRequest request)\n{\n    StringBuffer requestURL = request.getRequestURL();\n    String queryString = request.getQueryString();\n\n    if (queryString == null)\n        return requestURL.toString();\n\n    return requestURL.append('?').append(queryString).toString();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6283683,"reputation":3277,"user_id":4883754,"display_name":"Jess Chen"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1617170645,"creation_date":1617170645,"answer_id":66882485,"question_id":4389596,"body_markdown":"If you use Spring, you can use `OncePerRequestFilter` or others.\r\n\r\n```java\r\nimport org.springframework.web.filter.OncePerRequestFilter;\r\nimport org.springframework.stereotype.Component;\r\n\r\n@Component\r\npublic class MyFilter extends OncePerRequestFilter {\r\n    @Override\r\n    protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain) throws ServletException, IOException {\r\n         String url = request.getRequestURL();\r\n         filterChain.doFilter(request, response);\r\n    }\r\n\r\n}\r\n```","title":"How can I get the request URL from a Java Filter?","body":"<p>If you use Spring, you can use <code>OncePerRequestFilter</code> or others.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.springframework.web.filter.OncePerRequestFilter;\nimport org.springframework.stereotype.Component;\n\n@Component\npublic class MyFilter extends OncePerRequestFilter {\n    @Override\n    protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain) throws ServletException, IOException {\n         String url = request.getRequestURL();\n         filterChain.doFilter(request, response);\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22888028,"reputation":81,"user_id":17028590,"display_name":"oktemerbay"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688642938,"creation_date":1688642938,"answer_id":76628355,"question_id":4389596,"body_markdown":"If you want to acquire them separately you can use as the following\r\n\r\n    ((HeaderWriterFilter.HeaderWriterRequest) request).getRequest().getAttribute(&quot;org.apache.catalina.AccessLog.ServerName&quot;) =&gt; host info\r\n    ((HeaderWriterFilter.HeaderWriterRequest) request).getRequest().getAttribute(&quot;org.apache.catalina.AccessLog.ServerPort&quot;) =&gt; port info\r\n    ((HttpServletRequest)request).getServletPath() or ((HttpServletRequest)request).getRequestURI() =&gt; requested source path\r\n    ((HttpServletRequest)request).getQueryString() =&gt; query parameters","title":"How can I get the request URL from a Java Filter?","body":"<p>If you want to acquire them separately you can use as the following</p>\n<pre><code>((HeaderWriterFilter.HeaderWriterRequest) request).getRequest().getAttribute(&quot;org.apache.catalina.AccessLog.ServerName&quot;) =&gt; host info\n((HeaderWriterFilter.HeaderWriterRequest) request).getRequest().getAttribute(&quot;org.apache.catalina.AccessLog.ServerPort&quot;) =&gt; port info\n((HttpServletRequest)request).getServletPath() or ((HttpServletRequest)request).getRequestURI() =&gt; requested source path\n((HttpServletRequest)request).getQueryString() =&gt; query parameters\n</code></pre>\n"}],"owner":{"account_id":37037,"reputation":3186,"user_id":105799,"accept_rate":100,"display_name":"ampersandre"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":184184,"favorite_count":0,"down_vote_count":0,"up_vote_count":95,"accepted_answer_id":4389627,"answer_count":5,"score":95,"last_activity_date":1688642938,"creation_date":1291824545,"question_id":4389596,"body_markdown":"I am trying to write a filter that can retrieve the request URL, but I&#39;m not sure how to do so.\r\n\r\nHere is what I have so far:\r\n\r\n    import javax.servlet.*;\r\n    import javax.servlet.http.HttpServletRequest;\r\n    import java.io.IOException;\r\n    \r\n    public class MyFilter implements Filter {\r\n    \tpublic void init(FilterConfig config) throws ServletException {\t}\r\n    \r\n    \tpublic void doFilter(ServletRequest request, ServletResponse response, FilterChain chain) throws ServletException, IOException {\r\n    \t\tchain.doFilter(request, response);\r\n\r\n    \t\tString url = ((HttpServletRequest) request).getPathTranslated();\r\n    \t\tSystem.out.println(&quot;Url: &quot; + url);\r\n    \t}\r\n    \r\n    \tpublic void destroy() {\t}\r\n    }\r\n\r\nWhen I hit a page on my server, the only output I see is &quot;Url: null&quot;.\r\n\r\nWhat is the correct way to get the requested URL from a given ServletRequest object in a Filter?","title":"How can I get the request URL from a Java Filter?","body":"<p>I am trying to write a filter that can retrieve the request URL, but I'm not sure how to do so.</p>\n\n<p>Here is what I have so far:</p>\n\n<pre><code>import javax.servlet.*;\nimport javax.servlet.http.HttpServletRequest;\nimport java.io.IOException;\n\npublic class MyFilter implements Filter {\n    public void init(FilterConfig config) throws ServletException { }\n\n    public void doFilter(ServletRequest request, ServletResponse response, FilterChain chain) throws ServletException, IOException {\n        chain.doFilter(request, response);\n\n        String url = ((HttpServletRequest) request).getPathTranslated();\n        System.out.println(\"Url: \" + url);\n    }\n\n    public void destroy() { }\n}\n</code></pre>\n\n<p>When I hit a page on my server, the only output I see is \"Url: null\".</p>\n\n<p>What is the correct way to get the requested URL from a given ServletRequest object in a Filter?</p>\n"},{"tags":["java","apache-poi","xdocreport"],"comments":[{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":2,"creation_date":1688558658,"post_id":76619961,"comment_id":135088786,"body_markdown":"There is no version 5.0.3 of Apache POI. Where did you get this version from? And please provide a [Minimal, Reproducible Example](https://stackoverflow.com/help/minimal-reproducible-example). Based on the current information in your question, I doubt anyone can reproduce the issue.","body":"There is no version 5.0.3 of Apache POI. Where did you get this version from? And please provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">Minimal, Reproducible Example</a>. Based on the current information in your question, I doubt anyone can reproduce the issue."},{"owner":{"account_id":20681360,"reputation":11,"user_id":15184885,"display_name":"sinu gaud"},"score":0,"creation_date":1688621669,"post_id":76619961,"comment_id":135098636,"body_markdown":"No, There was typing mistake sorry for that I am using 5.2.3  poi version","body":"No, There was typing mistake sorry for that I am using 5.2.3  poi version"},{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":2,"creation_date":1688623158,"post_id":76619961,"comment_id":135098828,"body_markdown":"OK. But nevertheless a complete  reproducible example is needed. Take https://stackoverflow.com/questions/51440312/docx-to-pdf-converter-in-java/51440649#51440649 for example and show how the source `WordDocument.docx` looks like. Also show how the resulting `WordDocument.pdf` looks like after conversion.","body":"OK. But nevertheless a complete  reproducible example is needed. Take <a href=\"https://stackoverflow.com/questions/51440312/docx-to-pdf-converter-in-java/51440649#51440649\" title=\"docx to pdf converter in java\">stackoverflow.com/questions/51440312/&hellip;</a> for example and show how the source <code>WordDocument.docx</code> looks like. Also show how the resulting <code>WordDocument.pdf</code> looks like after conversion."},{"owner":{"account_id":20681360,"reputation":11,"user_id":15184885,"display_name":"sinu gaud"},"score":0,"creation_date":1688628400,"post_id":76619961,"comment_id":135099722,"body_markdown":"Yes I read https://stackoverflow.com/questions/51440312/docx-to-pdf-converter-in-java/51440649#51440649 but it is not useful for me\nI add example of both file please look into this https://drive.google.com/drive/folders/1oIFIxoMjgxrfu-GH0QtvVzyhdVaPbZIC?usp=drive_link\nyou have to download docx file and open into word","body":"Yes I read <a href=\"https://stackoverflow.com/questions/51440312/docx-to-pdf-converter-in-java/51440649#51440649\" title=\"docx to pdf converter in java\">stackoverflow.com/questions/51440312/&hellip;</a> but it is not useful for me I add example of both file please look into this <a href=\"https://drive.google.com/drive/folders/1oIFIxoMjgxrfu-GH0QtvVzyhdVaPbZIC?usp=drive_link\" rel=\"nofollow noreferrer\">drive.google.com/drive/folders/&hellip;</a> you have to download docx file and open into word"}],"answers":[{"tags":[],"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1688642794,"creation_date":1688642794,"answer_id":76628334,"question_id":76619961,"body_markdown":"The programmers of XDocReport have done a great job to handle the really complex file structure of a Microsoft Word `*.docx` document in Office Open XML format. But, of course, there always are not solved problems.\r\n\r\nWhen it comes to tables in Word, then following problems are known to me:\r\n\r\nA Word table might have row heights not set explicitly and so only determined by content. Then XDocReport not calculates the height considering the font descenders.\r\n\r\nA Word table might have table cells hidden using `gridBefore` and `wBefore` for cells before the first cell in row and/or `gridAfter` and `wAfter` for cells after the last cell in row. Such cells are not part of the rows then and also are not set via cell merging. This is something what XDocReport not considers. And because of the missed cells, the whole table structure gets damaged.\r\n\r\nA Word table might have set alternating row background through table style. This is something what XDocReport not considers.\r\n\r\nThere might be more. But I doubt there is any free software out which really considers all of the complex possibilities of a Microsoft Word document. Even commercial software, except Microsoft Word itself, will have issues there.\r\n\r\nFollowing short complete Java program can be used to test:\r\n\r\n    import java.io.*;\r\n    import java.math.BigInteger;\r\n    \r\n    //needed jars: fr.opensagres.poi.xwpf.converter.core-2.0.4.jar, \r\n    //             fr.opensagres.poi.xwpf.converter.pdf-2.0.4.jar,\r\n    //             fr.opensagres.xdocreport.itext.extension-2.0.4.jar,\r\n    //             itext-4.2.1.jar                                   \r\n    import fr.opensagres.poi.xwpf.converter.pdf.PdfOptions;\r\n    import fr.opensagres.poi.xwpf.converter.pdf.PdfConverter;\r\n    \r\n    //needed jars: apache poi 5.2.3 and it&#39;s dependencies\r\n    //             and additionally: poi-ooxml-full-5.2.3.jar \r\n    import org.apache.poi.xwpf.usermodel.*;\r\n    \r\n    public class XWPFToPDFConverterSampleMin {\r\n    \r\n     public static void main(String[] args) throws Exception {\r\n    \r\n      String docPath = &quot;./XWPFDocument.docx&quot;;\r\n      String outputFile = &quot;./XWPFDocument.pdf&quot;;\r\n    \r\n      InputStream in = new FileInputStream(new File(docPath));\r\n      XWPFDocument document = new XWPFDocument(in);\r\n    \r\n      PdfOptions options = PdfOptions.create();\r\n      OutputStream out = new FileOutputStream(outputFile);\r\n      PdfConverter.getInstance().convert(document, out, options);\r\n    \r\n      document.close();\r\n      out.close(); \r\n    \r\n     }\r\n    }\r\n\r\nThe `XWPFDocument.docx` looks like so:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nThe resulting `XWPFDocument.pdf` looks like so:\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/HHLpi.png\r\n  [2]: https://i.stack.imgur.com/3cZGT.png","title":"Issue with table formatting when converting DOCX to PDF using fr.opensagres.poi.xwpf.converter.pdf (Apache POI)","body":"<p>The programmers of XDocReport have done a great job to handle the really complex file structure of a Microsoft Word <code>*.docx</code> document in Office Open XML format. But, of course, there always are not solved problems.</p>\n<p>When it comes to tables in Word, then following problems are known to me:</p>\n<p>A Word table might have row heights not set explicitly and so only determined by content. Then XDocReport not calculates the height considering the font descenders.</p>\n<p>A Word table might have table cells hidden using <code>gridBefore</code> and <code>wBefore</code> for cells before the first cell in row and/or <code>gridAfter</code> and <code>wAfter</code> for cells after the last cell in row. Such cells are not part of the rows then and also are not set via cell merging. This is something what XDocReport not considers. And because of the missed cells, the whole table structure gets damaged.</p>\n<p>A Word table might have set alternating row background through table style. This is something what XDocReport not considers.</p>\n<p>There might be more. But I doubt there is any free software out which really considers all of the complex possibilities of a Microsoft Word document. Even commercial software, except Microsoft Word itself, will have issues there.</p>\n<p>Following short complete Java program can be used to test:</p>\n<pre><code>import java.io.*;\nimport java.math.BigInteger;\n\n//needed jars: fr.opensagres.poi.xwpf.converter.core-2.0.4.jar, \n//             fr.opensagres.poi.xwpf.converter.pdf-2.0.4.jar,\n//             fr.opensagres.xdocreport.itext.extension-2.0.4.jar,\n//             itext-4.2.1.jar                                   \nimport fr.opensagres.poi.xwpf.converter.pdf.PdfOptions;\nimport fr.opensagres.poi.xwpf.converter.pdf.PdfConverter;\n\n//needed jars: apache poi 5.2.3 and it's dependencies\n//             and additionally: poi-ooxml-full-5.2.3.jar \nimport org.apache.poi.xwpf.usermodel.*;\n\npublic class XWPFToPDFConverterSampleMin {\n\n public static void main(String[] args) throws Exception {\n\n  String docPath = &quot;./XWPFDocument.docx&quot;;\n  String outputFile = &quot;./XWPFDocument.pdf&quot;;\n\n  InputStream in = new FileInputStream(new File(docPath));\n  XWPFDocument document = new XWPFDocument(in);\n\n  PdfOptions options = PdfOptions.create();\n  OutputStream out = new FileOutputStream(outputFile);\n  PdfConverter.getInstance().convert(document, out, options);\n\n  document.close();\n  out.close(); \n\n }\n}\n</code></pre>\n<p>The <code>XWPFDocument.docx</code> looks like so:</p>\n<p><a href=\"https://i.stack.imgur.com/HHLpi.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HHLpi.png\" alt=\"enter image description here\" /></a></p>\n<p>The resulting <code>XWPFDocument.pdf</code> looks like so:</p>\n<p><a href=\"https://i.stack.imgur.com/3cZGT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3cZGT.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":20681360,"reputation":11,"user_id":15184885,"display_name":"sinu gaud"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":642,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1688642794,"creation_date":1688557198,"question_id":76619961,"body_markdown":"I am trying to create a table in a DOCX file and then convert it to a PDF using Apache POI (version 5.2.3) and the XWPF Converter (version 2.0.4) library. I have successfully created the table and merged cells in the DOCX file. However, when I convert the DOCX file to PDF using the XWPF Converter, the resulting PDF does not have the proper formatting.\r\n\r\n`ByteArrayOutputStream byteArrayOutputStream = new ByteArrayOutputStream();\r\nPdfOptions options = PdfOptions.create();\r\nPdfConverter.getInstance().convert(document, byteArrayOutputStream, options);\r\nbyte[] pdfBytes = byteArrayOutputStream.toByteArray();`\r\n\r\n\r\nExpected result:\r\nI expect the converted PDF to maintain the table formatting and cell merging as it appears in the original DOCX file.\r\n\r\nActual result:\r\nThe converted PDF does not accurately reflect the formatting of the table and merged cells.","title":"Issue with table formatting when converting DOCX to PDF using fr.opensagres.poi.xwpf.converter.pdf (Apache POI)","body":"<p>I am trying to create a table in a DOCX file and then convert it to a PDF using Apache POI (version 5.2.3) and the XWPF Converter (version 2.0.4) library. I have successfully created the table and merged cells in the DOCX file. However, when I convert the DOCX file to PDF using the XWPF Converter, the resulting PDF does not have the proper formatting.</p>\n<p><code>ByteArrayOutputStream byteArrayOutputStream = new ByteArrayOutputStream(); PdfOptions options = PdfOptions.create(); PdfConverter.getInstance().convert(document, byteArrayOutputStream, options); byte[] pdfBytes = byteArrayOutputStream.toByteArray();</code></p>\n<p>Expected result:\nI expect the converted PDF to maintain the table formatting and cell merging as it appears in the original DOCX file.</p>\n<p>Actual result:\nThe converted PDF does not accurately reflect the formatting of the table and merged cells.</p>\n"},{"tags":["java","spring","hibernate","jpa","entitymanager"],"answers":[{"tags":[],"owner":{"account_id":5157043,"reputation":1369,"user_id":4130003,"display_name":"johnnyutts"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1688642668,"creation_date":1688642668,"answer_id":76628316,"question_id":76620972,"body_markdown":"To keep relationships consistent and ensure that existing genres and authors are added to new books:\r\n\r\nFetch the genre(s) and author(s) by their natural ids and do the following\r\n&lt;/p&gt;\r\n\r\n - if they exist, add them to book\r\n - if they don&#39;t exist,  create them and add them to book\r\n\r\n\r\n        book.getAuthors().forEach(a -&gt; {\r\n            Author author = session.bySimpleNaturalId(Author.class).load(a.getName());\r\n            if (author == null) {\r\n                author = new Author(a.getName(), a.getAge(), a.getNationality());\r\n                em.persist(author);\r\n            }\r\n            bookToDB.addAuthor(author);\r\n        });\r\n\r\n        book.getGenres().forEach(g -&gt; {\r\n            Genre genre = session.bySimpleNaturalId(Genre.class).load(g.getName());\r\n            if (genre == null) {\r\n                genre = new Genre(g.getName());\r\n                em.persist(genre);\r\n            }\r\n            bookToDB.addGenre(genre);\r\n        });\r\n\r\nYour Genre and Author entities should include the following bidirectional relationship to books\r\n\r\n    @Entity\r\n    public class Genre {\r\n    ...\r\n       @ManyToMany(mappedBy = &quot;genres&quot;)\r\n       private Set&lt;Book&gt; books = new HashSet&lt;&gt;();\r\n    ...\r\n    }\r\n    \r\n    @Entity\r\n    public class Author {\r\n    ...\r\n       @ManyToMany(mappedBy = &quot;authors&quot;)\r\n       private Set&lt;Book&gt; books = new HashSet&lt;&gt;();\r\n    ...\r\n    }\r\n\r\nand expand your addAuthor(...) and addGenre(...) methods in Book entity to ensure the bidirectional relationship is in sync when you add them\r\n\r\n    @Entity\r\n    public class Book {\r\n    ...\r\n        public boolean addAuthor(Author author) {\r\n            author.getBooks().add(this); // ensures both side of relationship\r\n            return this.authors.add(author);\r\n        }\r\n\r\n        public boolean addGenre(Genre genre) {\r\n            genre.getBooks().add(this); // ensures both side of relationship\r\n            return this.genres.add(genre);\r\n        }\r\n    ...\r\n    }\r\n\r\n\r\n\r\n","title":"EntityManager - ManyToMany child entity persistence in Join table","body":"<p>To keep relationships consistent and ensure that existing genres and authors are added to new books:</p>\n<p>Fetch the genre(s) and author(s) by their natural ids and do the following</p>\n</p>\n<ul>\n<li><p>if they exist, add them to book</p>\n</li>\n<li><p>if they don't exist,  create them and add them to book</p>\n<pre><code> book.getAuthors().forEach(a -&gt; {\n     Author author = session.bySimpleNaturalId(Author.class).load(a.getName());\n     if (author == null) {\n         author = new Author(a.getName(), a.getAge(), a.getNationality());\n         em.persist(author);\n     }\n     bookToDB.addAuthor(author);\n });\n\n book.getGenres().forEach(g -&gt; {\n     Genre genre = session.bySimpleNaturalId(Genre.class).load(g.getName());\n     if (genre == null) {\n         genre = new Genre(g.getName());\n         em.persist(genre);\n     }\n     bookToDB.addGenre(genre);\n });\n</code></pre>\n</li>\n</ul>\n<p>Your Genre and Author entities should include the following bidirectional relationship to books</p>\n<pre><code>@Entity\npublic class Genre {\n...\n   @ManyToMany(mappedBy = &quot;genres&quot;)\n   private Set&lt;Book&gt; books = new HashSet&lt;&gt;();\n...\n}\n\n@Entity\npublic class Author {\n...\n   @ManyToMany(mappedBy = &quot;authors&quot;)\n   private Set&lt;Book&gt; books = new HashSet&lt;&gt;();\n...\n}\n</code></pre>\n<p>and expand your addAuthor(...) and addGenre(...) methods in Book entity to ensure the bidirectional relationship is in sync when you add them</p>\n<pre><code>@Entity\npublic class Book {\n...\n    public boolean addAuthor(Author author) {\n        author.getBooks().add(this); // ensures both side of relationship\n        return this.authors.add(author);\n    }\n\n    public boolean addGenre(Genre genre) {\n        genre.getBooks().add(this); // ensures both side of relationship\n        return this.genres.add(genre);\n    }\n...\n}\n</code></pre>\n"}],"owner":{"account_id":13405454,"reputation":3,"user_id":9673609,"display_name":"Soumik Banerjee"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76628316,"answer_count":1,"score":0,"last_activity_date":1688642668,"creation_date":1688564676,"question_id":76620972,"body_markdown":"I have a `Book` entity with two child entities `Author `and `Genre`, each with a ManyToMany relationship and the corresponding join tables. `Book` class definitions follows:\r\n\r\n```\r\n@Entity\r\n@Getter\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@ToString\r\npublic class Book {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;book_seq&quot;)\r\n    @GenericGenerator(name = &quot;book_seq&quot;,\r\n            strategy = &quot;com.example.bookappjpa.dao.StringPrefixedSequenceIdGenerator&quot;,\r\n            parameters = {\r\n                    @org.hibernate.annotations.Parameter(name = StringPrefixedSequenceIdGenerator.INCREMENT_PARAM, value = &quot;1&quot;),\r\n                    @org.hibernate.annotations.Parameter(name = StringPrefixedSequenceIdGenerator.VALUE_PREFIX_PARAMETER, value = &quot;B&quot;),\r\n                    @org.hibernate.annotations.Parameter(name = StringPrefixedSequenceIdGenerator.NUMBER_FORMAT_PARAMETER, value = &quot;%08d&quot;),\r\n            })\r\n    private String id;\r\n\r\n    @NaturalId\r\n    private String title;\r\n\r\n    @Column(name = &quot;rank_no&quot;)\r\n    private int rank;\r\n\r\n    private int listId;\r\n\r\n    private Double rating;\r\n\r\n    private int pages;\r\n\r\n    private LocalDate publishedOn;\r\n\r\n    @ManyToMany()\r\n    @JoinTable(name = &quot;BOOK_AUTHOR&quot;, joinColumns = @JoinColumn(name = &quot;BOOK_ID&quot;), inverseJoinColumns = @JoinColumn(name = &quot;AUTHOR_ID&quot;)\r\n    )\r\n    private Set&lt;Author&gt; authors = new HashSet&lt;&gt;();\r\n\r\n    @ManyToMany\r\n    @JoinTable(name = &quot;BOOK_GENRE&quot;, joinColumns = @JoinColumn(name = &quot;BOOK_ID&quot;), inverseJoinColumns = @JoinColumn(name = &quot;GENRE_ID&quot;))\r\n    private Set&lt;Genre&gt; genres = new HashSet&lt;&gt;();\r\n\r\n    public void setTitle(String title) {\r\n        this.title = title;\r\n    }\r\n\r\n    public void setRankNo(int rankNo) {\r\n        this.rank = rankNo;\r\n    }\r\n\r\n    public void setListId(int listId) {\r\n        this.listId = listId;\r\n    }\r\n\r\n    public void setRating(Double rating) {\r\n        this.rating = rating;\r\n    }\r\n\r\n    public void setPages(int pages) {\r\n        this.pages = pages;\r\n    }\r\n\r\n    public void setPublishedOn(LocalDate publishedOn) {\r\n        this.publishedOn = publishedOn;\r\n    }\r\n\r\n    public boolean addAuthor(Author author) {\r\n        return this.authors.add(author);\r\n    }\r\n\r\n    public boolean addGenre(Genre genre) {\r\n        return this.genres.add(genre);\r\n    }\r\n\r\n}\r\n```\r\n\r\nPersistence method(looking up each entity to by its natural id to see if it already exists in the DB, only proceeding to persist if not. Excuse the half-baked code, yet to improve):\r\n\r\n```\r\n @Transactional\r\n    public void addBook(BookDTO book) {\r\n        Session session = entityManager.unwrap(Session.class);\r\n        Book b = session.bySimpleNaturalId(Book.class).load(book.getTitle());\r\n\r\n        if (null == b) {\r\n            Book bookToDB = new Book();\r\n            bookToDB.setTitle(book.getTitle());\r\n            bookToDB.setPages(book.getPages());\r\n            bookToDB.setRating(book.getRating());\r\n            bookToDB.setRankNo(book.getRank());\r\n            bookToDB.setPublishedOn(book.getPublishedOn());\r\n\r\n            book.getAuthors().forEach(a -&gt; {\r\n                Author authorToDB = new Author(a.getName(), a.getAge(), a.getNationality());\r\n                if(null == session.bySimpleNaturalId(Author.class).load(a.getName())) {\r\n                    authorToDB.addBook(bookToDB);\r\n                    entityManager.persist(authorToDB);\r\n                } \r\n            });\r\n\r\n            book.getGenres().forEach(g -&gt; {\r\n                if(null == session.bySimpleNaturalId(Genre.class).load(g.getName())) {\r\n                    Genre genreToDB = new Genre(g.getName());\r\n                    genreToDB.addBook(bookToDB);\r\n                    entityManager.persist(genreToDB);\r\n                }\r\n            });\r\n\r\n            entityManager.persist(bookToDB);\r\n\r\n        } else {\r\n            String message = &quot;Book with title &quot; + book.getTitle() + &quot; already exists!&quot;;\r\n            log.info(message);\r\n            throw new RuntimeException(message);\r\n        }\r\n\r\n        session.close();\r\n    }\r\n\r\n```\r\n\r\nThe problem with this approach is, if for instance, a certain book is persisted with a particular `Author` and `Genre`(s), and later on, we have another `Book` with the same `Author` and `Genre`(s), the persistence for the child entities will be skipped as per the code above and nothing populated in the join tables, indicating no relationship between the parent `Book` and child `Author`/`Genre`(s). Should I really be including the check above for the `Author` and `Genre` entities? If not, I&#39;ll end up with multiple entities in the corresponding entity tables with the same `Author` and `Genre` name, albeit with different ID sequence numbers(primary key). Not sure if that&#39;s good practice. Wanted to know if there&#39;s a sophisticated/effii approach to handle such a scenario in Production-grade code. Thanks in advance and apologies if its a rookie question\r\n\r\nTwo Book objects with the same author(the second one not making it to the join table BOOK_AUTHOR, as the author already exists in DB, and my DAO method will not allow persistence again in such a scenario):\r\n\r\n```\r\n{\r\n    &quot;rank&quot;: 8,\r\n    &quot;title&quot;: &quot;Clap When You Land&quot;,\r\n    &quot;authors&quot;: [\r\n      {\r\n        &quot;name&quot;: &quot;Elizabeth Acevedo&quot;,\r\n        &quot;age&quot;: 0,\r\n        &quot;nationality&quot;: null\r\n      }\r\n    ],\r\n    &quot;rating&quot;: 0,\r\n    &quot;genres&quot;: [\r\n      {\r\n\r\n        &quot;name&quot;: &quot;Young Adult&quot;\r\n      },\r\n      {\r\n\r\n        &quot;name&quot;: &quot;Poetry&quot;\r\n      },\r\n      {\r\n\r\n        &quot;name&quot;: &quot;Contemporary&quot;\r\n      },\r\n      {\r\n\r\n        &quot;name&quot;: &quot;Fiction&quot;\r\n      },\r\n      {\r\n\r\n        &quot;name&quot;: &quot;Audiobook&quot;\r\n      },\r\n      {\r\n\r\n        &quot;name&quot;: &quot;LGBT&quot;\r\n      },\r\n      {\r\n\r\n        &quot;name&quot;: &quot;Realistic Fiction&quot;\r\n      }\r\n    ],\r\n    &quot;pages&quot;: 432,\r\n    &quot;publishedOn&quot;: &quot;2020-05-05&quot;,\r\n    &quot;listId&quot;: 1\r\n  }\r\n\r\n\r\n{\r\n    &quot;rank&quot;: 18,\r\n    &quot;title&quot;: &quot;The Poet X&quot;,\r\n    &quot;authors&quot;: [\r\n      {\r\n\r\n        &quot;name&quot;: &quot;Elizabeth Acevedo&quot;,\r\n        &quot;age&quot;: 0,\r\n        &quot;nationality&quot;: null\r\n      }\r\n    ],\r\n    &quot;rating&quot;: 0,\r\n    &quot;genres&quot;: [\r\n      {\r\n\r\n        &quot;name&quot;: &quot;Poetry&quot;\r\n      },\r\n      {\r\n\r\n        &quot;name&quot;: &quot;Young Adult&quot;\r\n      },\r\n      {\r\n\r\n        &quot;name&quot;: &quot;Contemporary&quot;\r\n      },\r\n      {\r\n\r\n        &quot;name&quot;: &quot;Fiction&quot;\r\n      },\r\n      {\r\n\r\n        &quot;name&quot;: &quot;Audiobook&quot;\r\n      },\r\n      {\r\n\r\n        &quot;name&quot;: &quot;Realistic Fiction&quot;\r\n      },\r\n      {\r\n\r\n        &quot;name&quot;: &quot;Romance&quot;\r\n      }\r\n    ],\r\n    &quot;pages&quot;: 368,\r\n    &quot;publishedOn&quot;: &quot;2018-03-06&quot;,\r\n    &quot;listId&quot;: 1\r\n  }\r\n```","title":"EntityManager - ManyToMany child entity persistence in Join table","body":"<p>I have a <code>Book</code> entity with two child entities <code>Author </code>and <code>Genre</code>, each with a ManyToMany relationship and the corresponding join tables. <code>Book</code> class definitions follows:</p>\n<pre><code>@Entity\n@Getter\n@NoArgsConstructor\n@AllArgsConstructor\n@ToString\npublic class Book {\n    @Id\n    @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;book_seq&quot;)\n    @GenericGenerator(name = &quot;book_seq&quot;,\n            strategy = &quot;com.example.bookappjpa.dao.StringPrefixedSequenceIdGenerator&quot;,\n            parameters = {\n                    @org.hibernate.annotations.Parameter(name = StringPrefixedSequenceIdGenerator.INCREMENT_PARAM, value = &quot;1&quot;),\n                    @org.hibernate.annotations.Parameter(name = StringPrefixedSequenceIdGenerator.VALUE_PREFIX_PARAMETER, value = &quot;B&quot;),\n                    @org.hibernate.annotations.Parameter(name = StringPrefixedSequenceIdGenerator.NUMBER_FORMAT_PARAMETER, value = &quot;%08d&quot;),\n            })\n    private String id;\n\n    @NaturalId\n    private String title;\n\n    @Column(name = &quot;rank_no&quot;)\n    private int rank;\n\n    private int listId;\n\n    private Double rating;\n\n    private int pages;\n\n    private LocalDate publishedOn;\n\n    @ManyToMany()\n    @JoinTable(name = &quot;BOOK_AUTHOR&quot;, joinColumns = @JoinColumn(name = &quot;BOOK_ID&quot;), inverseJoinColumns = @JoinColumn(name = &quot;AUTHOR_ID&quot;)\n    )\n    private Set&lt;Author&gt; authors = new HashSet&lt;&gt;();\n\n    @ManyToMany\n    @JoinTable(name = &quot;BOOK_GENRE&quot;, joinColumns = @JoinColumn(name = &quot;BOOK_ID&quot;), inverseJoinColumns = @JoinColumn(name = &quot;GENRE_ID&quot;))\n    private Set&lt;Genre&gt; genres = new HashSet&lt;&gt;();\n\n    public void setTitle(String title) {\n        this.title = title;\n    }\n\n    public void setRankNo(int rankNo) {\n        this.rank = rankNo;\n    }\n\n    public void setListId(int listId) {\n        this.listId = listId;\n    }\n\n    public void setRating(Double rating) {\n        this.rating = rating;\n    }\n\n    public void setPages(int pages) {\n        this.pages = pages;\n    }\n\n    public void setPublishedOn(LocalDate publishedOn) {\n        this.publishedOn = publishedOn;\n    }\n\n    public boolean addAuthor(Author author) {\n        return this.authors.add(author);\n    }\n\n    public boolean addGenre(Genre genre) {\n        return this.genres.add(genre);\n    }\n\n}\n</code></pre>\n<p>Persistence method(looking up each entity to by its natural id to see if it already exists in the DB, only proceeding to persist if not. Excuse the half-baked code, yet to improve):</p>\n<pre><code> @Transactional\n    public void addBook(BookDTO book) {\n        Session session = entityManager.unwrap(Session.class);\n        Book b = session.bySimpleNaturalId(Book.class).load(book.getTitle());\n\n        if (null == b) {\n            Book bookToDB = new Book();\n            bookToDB.setTitle(book.getTitle());\n            bookToDB.setPages(book.getPages());\n            bookToDB.setRating(book.getRating());\n            bookToDB.setRankNo(book.getRank());\n            bookToDB.setPublishedOn(book.getPublishedOn());\n\n            book.getAuthors().forEach(a -&gt; {\n                Author authorToDB = new Author(a.getName(), a.getAge(), a.getNationality());\n                if(null == session.bySimpleNaturalId(Author.class).load(a.getName())) {\n                    authorToDB.addBook(bookToDB);\n                    entityManager.persist(authorToDB);\n                } \n            });\n\n            book.getGenres().forEach(g -&gt; {\n                if(null == session.bySimpleNaturalId(Genre.class).load(g.getName())) {\n                    Genre genreToDB = new Genre(g.getName());\n                    genreToDB.addBook(bookToDB);\n                    entityManager.persist(genreToDB);\n                }\n            });\n\n            entityManager.persist(bookToDB);\n\n        } else {\n            String message = &quot;Book with title &quot; + book.getTitle() + &quot; already exists!&quot;;\n            log.info(message);\n            throw new RuntimeException(message);\n        }\n\n        session.close();\n    }\n\n</code></pre>\n<p>The problem with this approach is, if for instance, a certain book is persisted with a particular <code>Author</code> and <code>Genre</code>(s), and later on, we have another <code>Book</code> with the same <code>Author</code> and <code>Genre</code>(s), the persistence for the child entities will be skipped as per the code above and nothing populated in the join tables, indicating no relationship between the parent <code>Book</code> and child <code>Author</code>/<code>Genre</code>(s). Should I really be including the check above for the <code>Author</code> and <code>Genre</code> entities? If not, I'll end up with multiple entities in the corresponding entity tables with the same <code>Author</code> and <code>Genre</code> name, albeit with different ID sequence numbers(primary key). Not sure if that's good practice. Wanted to know if there's a sophisticated/effii approach to handle such a scenario in Production-grade code. Thanks in advance and apologies if its a rookie question</p>\n<p>Two Book objects with the same author(the second one not making it to the join table BOOK_AUTHOR, as the author already exists in DB, and my DAO method will not allow persistence again in such a scenario):</p>\n<pre><code>{\n    &quot;rank&quot;: 8,\n    &quot;title&quot;: &quot;Clap When You Land&quot;,\n    &quot;authors&quot;: [\n      {\n        &quot;name&quot;: &quot;Elizabeth Acevedo&quot;,\n        &quot;age&quot;: 0,\n        &quot;nationality&quot;: null\n      }\n    ],\n    &quot;rating&quot;: 0,\n    &quot;genres&quot;: [\n      {\n\n        &quot;name&quot;: &quot;Young Adult&quot;\n      },\n      {\n\n        &quot;name&quot;: &quot;Poetry&quot;\n      },\n      {\n\n        &quot;name&quot;: &quot;Contemporary&quot;\n      },\n      {\n\n        &quot;name&quot;: &quot;Fiction&quot;\n      },\n      {\n\n        &quot;name&quot;: &quot;Audiobook&quot;\n      },\n      {\n\n        &quot;name&quot;: &quot;LGBT&quot;\n      },\n      {\n\n        &quot;name&quot;: &quot;Realistic Fiction&quot;\n      }\n    ],\n    &quot;pages&quot;: 432,\n    &quot;publishedOn&quot;: &quot;2020-05-05&quot;,\n    &quot;listId&quot;: 1\n  }\n\n\n{\n    &quot;rank&quot;: 18,\n    &quot;title&quot;: &quot;The Poet X&quot;,\n    &quot;authors&quot;: [\n      {\n\n        &quot;name&quot;: &quot;Elizabeth Acevedo&quot;,\n        &quot;age&quot;: 0,\n        &quot;nationality&quot;: null\n      }\n    ],\n    &quot;rating&quot;: 0,\n    &quot;genres&quot;: [\n      {\n\n        &quot;name&quot;: &quot;Poetry&quot;\n      },\n      {\n\n        &quot;name&quot;: &quot;Young Adult&quot;\n      },\n      {\n\n        &quot;name&quot;: &quot;Contemporary&quot;\n      },\n      {\n\n        &quot;name&quot;: &quot;Fiction&quot;\n      },\n      {\n\n        &quot;name&quot;: &quot;Audiobook&quot;\n      },\n      {\n\n        &quot;name&quot;: &quot;Realistic Fiction&quot;\n      },\n      {\n\n        &quot;name&quot;: &quot;Romance&quot;\n      }\n    ],\n    &quot;pages&quot;: 368,\n    &quot;publishedOn&quot;: &quot;2018-03-06&quot;,\n    &quot;listId&quot;: 1\n  }\n</code></pre>\n"},{"tags":["java","spring-boot","rest","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":1,"creation_date":1688653113,"post_id":76628313,"comment_id":135105342,"body_markdown":"JPA does not make copies of an entity for you - it persists the entity instance you give it, and manages that instance from then on. Save is using persist under the covers. If you want to have your instance remain unmanaged, you must use the merge api instead (EntityManager.merge()) which will take your instance and create a copy to manage. Merge (like save) will return the managed instance, and only that will get the ID set.","body":"JPA does not make copies of an entity for you - it persists the entity instance you give it, and manages that instance from then on. Save is using persist under the covers. If you want to have your instance remain unmanaged, you must use the merge api instead (EntityManager.merge()) which will take your instance and create a copy to manage. Merge (like save) will return the managed instance, and only that will get the ID set."}],"owner":{"account_id":28962393,"reputation":1,"user_id":22184619,"display_name":"aditya sharma"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688642654,"creation_date":1688642654,"question_id":76628313,"body_markdown":"please help me out i am working on spring boot and my task is that i have toh hit an post api once which and store it multiple times\r\nthe id is generated automatically\r\nI cannot create new Object\r\ni cannot use @query to get the last id\r\ni cannot hit the same api again\r\n\r\n\r\n```\r\n  public class Container {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;container_generator&quot;)\r\n        @SequenceGenerator(name=&quot;container_generator&quot;, sequenceName = &quot;container_seq&quot;, allocationSize=1,initialValue = 1)\r\n        private Long id;// The id is generated automatically it acts as a primary key\r\n        private String name;\r\n        private String uuid;\r\n        private String description;\r\n        @Column\r\n        @ElementCollection(targetClass=String.class)  // this will create a new Table which is associated with the id and roles will be stored\r\n        private List&lt;String&gt; role_permission_strings ;\r\n        private String type;\r\n        private String status;\r\n        private String containerUuid;\r\n```\r\n\r\n\r\n\r\n```\r\n\r\n    @Override\r\n    @PostMapping(&quot;/addDetails&quot;)\r\n    public ResponseEntity&lt;?&gt; addDetails(@RequestBody Container container) {\r\n        serviceInterface.addDetails(container);\r\n        return ResponseEntity.ok(&quot;DETAILS ADDED SUCCESFULLY&quot;);\r\n    }\r\n```\r\n\r\n\r\n\r\n```\r\n int count =10;\r\n\r\n\r\n    @Override\r\n    public void addDetails(Container container) {\r\n        System.out.println(container.getId());\r\n        if (count&gt;0)\r\n        {\r\n            containerRepository.save(container);\r\n            System.out.println(&quot;new Id  &quot;+container.getId());\r\n            count--;\r\n            addDetails(container); // Recursive call with the same container\r\n        }\r\n        count=10;\r\n    }\r\n\r\n```\r\n\r\nsuppose first time i get the data using postman the ID is NULL\r\nfirst time save the id becomes 1\r\nrecursive call is made now because 1 already exists it will overide \r\ni want new entries everytime save is performed\r\n\r\nwithout using help of new object \r\nsame object need to be passed \r\nand if the id is null then and only new entries will be added\r\nI have used entity manager to detach the object but private List\\&lt;String\\&gt; role_permission_strings ; is not getting displayed","title":"I want to save data into database without creating new object one Api hit and multiple time data store","body":"<p>please help me out i am working on spring boot and my task is that i have toh hit an post api once which and store it multiple times\nthe id is generated automatically\nI cannot create new Object\ni cannot use @query to get the last id\ni cannot hit the same api again</p>\n<pre><code>  public class Container {\n        @Id\n        @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;container_generator&quot;)\n        @SequenceGenerator(name=&quot;container_generator&quot;, sequenceName = &quot;container_seq&quot;, allocationSize=1,initialValue = 1)\n        private Long id;// The id is generated automatically it acts as a primary key\n        private String name;\n        private String uuid;\n        private String description;\n        @Column\n        @ElementCollection(targetClass=String.class)  // this will create a new Table which is associated with the id and roles will be stored\n        private List&lt;String&gt; role_permission_strings ;\n        private String type;\n        private String status;\n        private String containerUuid;\n</code></pre>\n<pre><code>\n    @Override\n    @PostMapping(&quot;/addDetails&quot;)\n    public ResponseEntity&lt;?&gt; addDetails(@RequestBody Container container) {\n        serviceInterface.addDetails(container);\n        return ResponseEntity.ok(&quot;DETAILS ADDED SUCCESFULLY&quot;);\n    }\n</code></pre>\n<pre><code> int count =10;\n\n\n    @Override\n    public void addDetails(Container container) {\n        System.out.println(container.getId());\n        if (count&gt;0)\n        {\n            containerRepository.save(container);\n            System.out.println(&quot;new Id  &quot;+container.getId());\n            count--;\n            addDetails(container); // Recursive call with the same container\n        }\n        count=10;\n    }\n\n</code></pre>\n<p>suppose first time i get the data using postman the ID is NULL\nfirst time save the id becomes 1\nrecursive call is made now because 1 already exists it will overide\ni want new entries everytime save is performed</p>\n<p>without using help of new object\nsame object need to be passed\nand if the id is null then and only new entries will be added\nI have used entity manager to detach the object but private List&lt;String&gt; role_permission_strings ; is not getting displayed</p>\n"},{"tags":["java","kotlin","graalvm","sdkman","gradle-java-toolchain"],"comments":[{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1688634761,"post_id":76603832,"comment_id":135101133,"body_markdown":"How exactly are you running `nativeRun` from IntelliJ? Are you using a button in the Gradle tab? Are you using the `Run anything` menu? Something else? What do you mean with Gradle not respecting the toolchain? Which toolchain? Why _should_ it respect that?","body":"How exactly are you running <code>nativeRun</code> from IntelliJ? Are you using a button in the Gradle tab? Are you using the <code>Run anything</code> menu? Something else? What do you mean with Gradle not respecting the toolchain? Which toolchain? Why <i>should</i> it respect that?"},{"owner":{"account_id":112364,"reputation":25221,"user_id":296427,"accept_rate":91,"display_name":"pixel"},"score":0,"creation_date":1688642634,"post_id":76603832,"comment_id":135102835,"body_markdown":"@dan1stisonstrike I clarified this","body":"@dan1stisonstrike I clarified this"},{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1688644460,"post_id":76603832,"comment_id":135103242,"body_markdown":"Still: What do you mean with Gradle not respecting the toolchain? Which toolchain? Why _should_ it respect whatever you are expecting to respect?","body":"Still: What do you mean with Gradle not respecting the toolchain? Which toolchain? Why <i>should</i> it respect whatever you are expecting to respect?"},{"owner":{"account_id":112364,"reputation":25221,"user_id":296427,"accept_rate":91,"display_name":"pixel"},"score":0,"creation_date":1688644564,"post_id":76603832,"comment_id":135103269,"body_markdown":"I have jvmToolchain defined in my build.gradle.kts","body":"I have jvmToolchain defined in my build.gradle.kts"},{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1688656626,"post_id":76603832,"comment_id":135106158,"body_markdown":"And what should it do with that? What do you expect it to do, what happens and how is that different? If you want Gradle to automatically choose a toolchain, make sure it [deltects](https://docs.gradle.org/current/userguide/toolchains.html#sec:auto_detection) that and check with `gradle -q javaToolchains`. Note that I _think_ that the JVM configured in IntelliJ overrides the Gradle Toolchain configuration-","body":"And what should it do with that? What do you expect it to do, what happens and how is that different? If you want Gradle to automatically choose a toolchain, make sure it <a href=\"https://docs.gradle.org/current/userguide/toolchains.html#sec:auto_detection\" rel=\"nofollow noreferrer\">deltects</a> that and check with <code>gradle -q javaToolchains</code>. Note that I <i>think</i> that the JVM configured in IntelliJ overrides the Gradle Toolchain configuration-"}],"answers":[{"tags":[],"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688571782,"creation_date":1688568084,"answer_id":76621479,"question_id":76603832,"body_markdown":"While you might have configured to use GraalVM for Gradle in IntelliJ, it seems like Gradle isn&#39;t picking that up when you run `nativeRun`.\r\n\r\nIf you run Gradle from some terminal, the IntelliJ setting doesn&#39;t matter at all. The IntelliJ setting is for running Gradle from inside IntelliJ (e.g. when building/running the application).\r\n\r\n### Environment variables\r\nYou can configure environment variables to tell Gradle which JVM to use.\r\n\r\nBy setting `JAVA_HOME`, Gradle should pick up the specified location. If you run `export JAVA_HOME=/path/to/graalvm/installation` before running Gradle, it should use that installation. This will not affect anything outside the terminal and you would need to set the environment variable again when you want to run Gradle using GraalVM again.\r\n\r\nAnother option is to use `GRAALVM_HOME` As mentioned by [the docs of native-build-tools](https://graalvm.github.io/native-build-tools/0.9.8/gradle-plugin.html) (assuming you are using that), the native Gradle plugin should respect a `GRAALVM_HOME` environment variable.\r\n```\r\nexport JAVA_HOME=/path/to/graalvm/installation\r\n```\r\nYou can also persist this environment variable on your system as it will not affect Java applications not looking for GraalVM specifically.\r\n\r\nAlternatively, you could try to change the `PATH` to include the `bin` directory of your GraalVM installation which includes the `gu` binary:\r\n```\r\nexport PATH=/path/to/graalvm/installation/bin:$PATH\r\n```\r\n\r\n\r\n### settings.gradle\r\nGradle also [allows specifying the JDK to use for building using the `settings.gradle`](https://docs.gradle.org/current/userguide/build_environment.html).\r\n\r\nFor this, you create a `settings.gradle` in your project directory and set `org.gradle.java.home`:\r\n```properties\r\n# inside the settings.gradle\r\norg.gradle.java.home=/path/to/graalvm/installation\r\n```\r\n\r\nYou should also be able to set the `GRAALVM_HOME` this way:\r\n```properties\r\n# inside the settings.gradle\r\norg.gradle.project.GRAALVM_HOME=/path/to/graalvm/installation\r\n```","title":"nativeCompile task fails gu tool wasn&#39;t found even if vendor set to Graal VM","body":"<p>While you might have configured to use GraalVM for Gradle in IntelliJ, it seems like Gradle isn't picking that up when you run <code>nativeRun</code>.</p>\n<p>If you run Gradle from some terminal, the IntelliJ setting doesn't matter at all. The IntelliJ setting is for running Gradle from inside IntelliJ (e.g. when building/running the application).</p>\n<h3>Environment variables</h3>\n<p>You can configure environment variables to tell Gradle which JVM to use.</p>\n<p>By setting <code>JAVA_HOME</code>, Gradle should pick up the specified location. If you run <code>export JAVA_HOME=/path/to/graalvm/installation</code> before running Gradle, it should use that installation. This will not affect anything outside the terminal and you would need to set the environment variable again when you want to run Gradle using GraalVM again.</p>\n<p>Another option is to use <code>GRAALVM_HOME</code> As mentioned by <a href=\"https://graalvm.github.io/native-build-tools/0.9.8/gradle-plugin.html\" rel=\"nofollow noreferrer\">the docs of native-build-tools</a> (assuming you are using that), the native Gradle plugin should respect a <code>GRAALVM_HOME</code> environment variable.</p>\n<pre><code>export JAVA_HOME=/path/to/graalvm/installation\n</code></pre>\n<p>You can also persist this environment variable on your system as it will not affect Java applications not looking for GraalVM specifically.</p>\n<p>Alternatively, you could try to change the <code>PATH</code> to include the <code>bin</code> directory of your GraalVM installation which includes the <code>gu</code> binary:</p>\n<pre><code>export PATH=/path/to/graalvm/installation/bin:$PATH\n</code></pre>\n<h3>settings.gradle</h3>\n<p>Gradle also <a href=\"https://docs.gradle.org/current/userguide/build_environment.html\" rel=\"nofollow noreferrer\">allows specifying the JDK to use for building using the <code>settings.gradle</code></a>.</p>\n<p>For this, you create a <code>settings.gradle</code> in your project directory and set <code>org.gradle.java.home</code>:</p>\n<pre><code># inside the settings.gradle\norg.gradle.java.home=/path/to/graalvm/installation\n</code></pre>\n<p>You should also be able to set the <code>GRAALVM_HOME</code> this way:</p>\n<pre><code># inside the settings.gradle\norg.gradle.project.GRAALVM_HOME=/path/to/graalvm/installation\n</code></pre>\n"}],"owner":{"account_id":112364,"reputation":25221,"user_id":296427,"accept_rate":91,"display_name":"pixel"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":432,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1688642576,"creation_date":1688379579,"question_id":76603832,"body_markdown":"I have jvm toolchain configured as follows:\r\n\r\n```kotlin\r\nkotlin {\r\n    jvmToolchain {\r\n        languageVersion.set(JavaLanguageVersion.of(17))\r\n        vendor.set(GRAAL_VM)\r\n    }\r\n}\r\n```\r\n\r\nMy Gradle config:\r\n\r\n[![gradle config][1]][1]\r\n\r\nHowever, if I run \r\n\r\n  [1]: https://i.stack.imgur.com/RdAun.png\r\n\r\nWhen I run `nativeRun` task, I get:\r\n```\r\nExecution failed for task &#39;:nativeCompile&#39;.\r\n\r\n&gt; Determining GraalVM installation failed with message: &#39;gu&#39; at &#39;/Users/user/.sdkman/candidates/java/current/bin/gu&#39; tool wasn&#39;t found. This probably means that JDK at isn&#39;t a GraalVM distribution.\r\n```\r\n\r\nthe output of `java -version` in the project console:\r\n```\r\n$ java -version\r\nopenjdk version &quot;17.0.3&quot; 2022-04-19 LTS\r\nOpenJDK Runtime Environment (build 17.0.3+7-LTS)\r\nOpenJDK 64-Bit Server VM (build 17.0.3+7-LTS, mixed mode, sharing)\r\n```\r\n\r\nan when running nativeCompile task:\r\n```\r\n&gt; Task :nativeCompile\r\n[native-image-plugin] GraalVM Toolchain detection is disabled\r\n[native-image-plugin] GraalVM location read from environment variable: JAVA_HOME\r\n[native-image-plugin] Native Image executable path: /Users/user/.sdkman/candidates/java/20.0.1-graal/lib/svm/bin/native-image\r\n```\r\n\r\nHow should I make the Gradle task honor the JVM toolchain? I do not want to set Graal VM as default in the SDKMAN.\r\n\r\nI run nativeRun task from IntelliJ (from Gradle tab). ","title":"nativeCompile task fails gu tool wasn&#39;t found even if vendor set to Graal VM","body":"<p>I have jvm toolchain configured as follows:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>kotlin {\n    jvmToolchain {\n        languageVersion.set(JavaLanguageVersion.of(17))\n        vendor.set(GRAAL_VM)\n    }\n}\n</code></pre>\n<p>My Gradle config:</p>\n<p><a href=\"https://i.stack.imgur.com/RdAun.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/RdAun.png\" alt=\"gradle config\" /></a></p>\n<p>However, if I run</p>\n<p>When I run <code>nativeRun</code> task, I get:</p>\n<pre><code>Execution failed for task ':nativeCompile'.\n\n&gt; Determining GraalVM installation failed with message: 'gu' at '/Users/user/.sdkman/candidates/java/current/bin/gu' tool wasn't found. This probably means that JDK at isn't a GraalVM distribution.\n</code></pre>\n<p>the output of <code>java -version</code> in the project console:</p>\n<pre><code>$ java -version\nopenjdk version &quot;17.0.3&quot; 2022-04-19 LTS\nOpenJDK Runtime Environment (build 17.0.3+7-LTS)\nOpenJDK 64-Bit Server VM (build 17.0.3+7-LTS, mixed mode, sharing)\n</code></pre>\n<p>an when running nativeCompile task:</p>\n<pre><code>&gt; Task :nativeCompile\n[native-image-plugin] GraalVM Toolchain detection is disabled\n[native-image-plugin] GraalVM location read from environment variable: JAVA_HOME\n[native-image-plugin] Native Image executable path: /Users/user/.sdkman/candidates/java/20.0.1-graal/lib/svm/bin/native-image\n</code></pre>\n<p>How should I make the Gradle task honor the JVM toolchain? I do not want to set Graal VM as default in the SDKMAN.</p>\n<p>I run nativeRun task from IntelliJ (from Gradle tab).</p>\n"},{"tags":["java","spring","generics","repository","spring-data"],"comments":[{"owner":{"account_id":2478127,"reputation":19514,"user_id":2158288,"display_name":"ZhongYu"},"score":2,"creation_date":1485876593,"post_id":41960743,"comment_id":71101403,"body_markdown":"I think you are right. `S` is redundant, and the signature design is a mistake.","body":"I think you are right. <code>S</code> is redundant, and the signature design is a mistake."}],"answers":[{"tags":[],"owner":{"account_id":5150443,"reputation":34158,"user_id":4125191,"display_name":"RealSkeptic"},"down_vote_count":0,"up_vote_count":20,"is_accepted":true,"score":20,"last_activity_date":1485879982,"creation_date":1485879982,"answer_id":41962481,"question_id":41960743,"body_markdown":"If you were to have it as\r\n\r\n    T save (T entity);\r\n\r\nThen the only variable you could assign the result to would have to be of type `T`.\r\n\r\nSo, if you have a `CrudRepository&lt;Animal,AnimalID&gt; repository`, and you have\r\n\r\n    Dog dog = getDog();\r\n    Dog savedDog = repository.save(dog);\r\n\r\nYou&#39;d get a compile error - you can&#39;t assign the result to `Dog`, as it has to be of type `T`, in this case, `Animal`.\r\n\r\nYou&#39;d need to check if the returned value was indeed of type `Dog`, and if so, cast it to `Dog` to put it in `savedDog`.\r\n\r\nWith the declaration as it is, it means that you can assign it to a variable of the same type as the original argument, as type resolution will allow that.\r\n\r\nThe declaration itself doesn&#39;t specify how the non-animal parts of the dog are saved if at all. All it does is allow assigning the result back to a `Dog` if it was originally a `Dog`.","title":"What does it mean &lt;S extends T&gt; save (S entity); in Spring Repository?","body":"<p>If you were to have it as</p>\n\n<pre><code>T save (T entity);\n</code></pre>\n\n<p>Then the only variable you could assign the result to would have to be of type <code>T</code>.</p>\n\n<p>So, if you have a <code>CrudRepository&lt;Animal,AnimalID&gt; repository</code>, and you have</p>\n\n<pre><code>Dog dog = getDog();\nDog savedDog = repository.save(dog);\n</code></pre>\n\n<p>You'd get a compile error - you can't assign the result to <code>Dog</code>, as it has to be of type <code>T</code>, in this case, <code>Animal</code>.</p>\n\n<p>You'd need to check if the returned value was indeed of type <code>Dog</code>, and if so, cast it to <code>Dog</code> to put it in <code>savedDog</code>.</p>\n\n<p>With the declaration as it is, it means that you can assign it to a variable of the same type as the original argument, as type resolution will allow that.</p>\n\n<p>The declaration itself doesn't specify how the non-animal parts of the dog are saved if at all. All it does is allow assigning the result back to a <code>Dog</code> if it was originally a <code>Dog</code>.</p>\n"},{"tags":[],"owner":{"account_id":14406936,"reputation":29,"user_id":10406745,"display_name":"Zubair Ahmed"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1688642447,"creation_date":1663450884,"answer_id":73758729,"question_id":41960743,"body_markdown":"It&#39;s an example of an Upper Bound for the save Method whereas S in the entity a programmer may wish to persist using an implementation of CrudRepository.\r\nUpperBounds restricts the type of object that can be passed to the save method and T in this case is the instance type of Entities that are typically managed by CrudRepository meaning only the child or implementation of those Entities can be used as S.\r\n\r\nThis [post][1] highlighted the error but this [one][2] showed the error description which clearly tells the story.         \r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/49991711/inferred-type-does-not-conform-to-upper-bounds-hotelrepository-savebookings\r\n  [2]: https://teamtreehouse.com/community/error-method-save-in-interface-crudrepositorytid-cannot-be-applied-to-given-types-coursessavebunchofcourses","title":"What does it mean &lt;S extends T&gt; save (S entity); in Spring Repository?","body":"<p>It's an example of an Upper Bound for the save Method whereas S in the entity a programmer may wish to persist using an implementation of CrudRepository.\nUpperBounds restricts the type of object that can be passed to the save method and T in this case is the instance type of Entities that are typically managed by CrudRepository meaning only the child or implementation of those Entities can be used as S.</p>\n<p>This <a href=\"https://stackoverflow.com/questions/49991711/inferred-type-does-not-conform-to-upper-bounds-hotelrepository-savebookings\">post</a> highlighted the error but this <a href=\"https://teamtreehouse.com/community/error-method-save-in-interface-crudrepositorytid-cannot-be-applied-to-given-types-coursessavebunchofcourses\" rel=\"nofollow noreferrer\">one</a> showed the error description which clearly tells the story.</p>\n"}],"owner":{"account_id":4012349,"reputation":1132,"user_id":3340196,"accept_rate":100,"display_name":"baudo2048"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10816,"favorite_count":0,"down_vote_count":0,"up_vote_count":17,"accepted_answer_id":41962481,"answer_count":2,"score":17,"last_activity_date":1688642447,"creation_date":1485874795,"question_id":41960743,"body_markdown":"In Spring Data project the CrudRepository provides sophisticated CRUD functionality for the entity class that is being managed.\r\n\r\n  \r\n\r\n    public interface CrudRepository&lt;T, ID extends Serializable&gt;\r\n    extends Repository&lt;T, ID&gt; {\r\n                                                                                                                           \r\n        &lt;S extends T&gt; S save(S entity);\r\n                                                                                                                           \r\n        T findOne(ID primaryKey);\r\n                                                                                                                           \r\n        Iterable&lt;T&gt; findAll();\r\n    \r\n        Long count();\r\n                                                                                                                           \r\n        void delete(T entity);\r\n                                                                                                                           \r\n        boolean exists(ID primaryKey);\r\n                                                                                                                           \r\n        // … more functionality omitted.\r\n    }\r\n\r\n\r\nIn general, I know what &quot;S extends T&quot; means, i.e. that S, the return type of save operation, must be subtype of T. Why is it necessary to add such as constraint? I think that would be fine doing something like this:\r\n\r\n    T save (T entity);\r\n\r\nAs in \r\n\r\n    void delete(T entity);\r\n\r\nI&#39;ve googled to find more help and I&#39;ve figured out following question on stackoverflow itself but it isn&#39;t really clear for me:\r\n\r\nhttps://stackoverflow.com/questions/26346036/spring-crudrepository-why-to-invent-a-new-generic-type-s\r\n\r\nthank you.","title":"What does it mean &lt;S extends T&gt; save (S entity); in Spring Repository?","body":"<p>In Spring Data project the CrudRepository provides sophisticated CRUD functionality for the entity class that is being managed.</p>\n\n<pre><code>public interface CrudRepository&lt;T, ID extends Serializable&gt;\nextends Repository&lt;T, ID&gt; {\n\n    &lt;S extends T&gt; S save(S entity);\n\n    T findOne(ID primaryKey);\n\n    Iterable&lt;T&gt; findAll();\n\n    Long count();\n\n    void delete(T entity);\n\n    boolean exists(ID primaryKey);\n\n    // … more functionality omitted.\n}\n</code></pre>\n\n<p>In general, I know what \"S extends T\" means, i.e. that S, the return type of save operation, must be subtype of T. Why is it necessary to add such as constraint? I think that would be fine doing something like this:</p>\n\n<pre><code>T save (T entity);\n</code></pre>\n\n<p>As in </p>\n\n<pre><code>void delete(T entity);\n</code></pre>\n\n<p>I've googled to find more help and I've figured out following question on stackoverflow itself but it isn't really clear for me:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/26346036/spring-crudrepository-why-to-invent-a-new-generic-type-s\">Spring CrudRepository: why to invent a new generic type S</a></p>\n\n<p>thank you.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9667,"page":325,"page_size":100}
