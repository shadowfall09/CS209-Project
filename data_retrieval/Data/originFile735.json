{"items":[{"tags":["java","spring","spring-boot","spring-data-jpa"],"comments":[{"owner":{"account_id":20662432,"reputation":1076,"user_id":15170120,"display_name":"TarHalda"},"score":0,"creation_date":1673538955,"post_id":75098752,"comment_id":132526584,"body_markdown":"I don&#39;t entirely understand your question. Are you trying to exclude the fields that aren&#39;t in your expected response? Are you trying to order them a certain way? Group By is a SQL term, which wouldn&#39;t apply to  Java, and sum means to add numbers together, which doesn&#39;t seem to be part of what you want to accomplish.","body":"I don&#39;t entirely understand your question. Are you trying to exclude the fields that aren&#39;t in your expected response? Are you trying to order them a certain way? Group By is a SQL term, which wouldn&#39;t apply to  Java, and sum means to add numbers together, which doesn&#39;t seem to be part of what you want to accomplish."}],"owner":{"account_id":26412994,"reputation":1,"user_id":20061827,"display_name":"Sai"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673537588,"creation_date":1673537588,"question_id":75098752,"body_markdown":"Controller class:\r\n```\r\n@RestController\r\n@RequestMapping(value = &quot;/api/v1/&quot;)\r\npublic class TestController {\r\n\r\n@Autowired\r\nTestService testService;\r\n\r\n@GetMapping(value = &quot;test&quot;)\r\npublic List&lt;Bean&gt; getDetails() {\r\nreturn testService.getDetails();\r\n}\r\n}\r\n```\r\n\r\n\r\nService class:\r\n```\r\n@Service\r\npublic class TestService {\r\n\r\n@Autowired\r\nBeanRepository beanRepository;\r\n\r\npublic List&lt;Bean&gt; getDetails() {\r\nList&lt;Bean&gt; res = new ArrayList&lt;&gt;();\r\ntry{\r\nList&lt;BeanEntity&gt; beans = beanRepository.findAllApplications();\r\nfor(BeanEntity beanEntity : beans) {\r\nBean bean = new Bean();\r\nBeanUtils.copyProperties(beanEntity, bean);\r\nif(beanEntity.getDesc().contains(&quot;Motor&quot;) || beanEntity.getDesc().contains(&quot;Nut&quot;)){\r\nbean.setName(&quot;A&quot;);\r\n} else if (beanEntity.getDesc().contains(&quot;Bolt&quot;) || beanEntity.getDesc().contains(&quot;Engine&quot;)) {\r\nbean.setName(&quot;B&quot;);\r\n} else {\r\nbean.setName(&quot;C&quot;);\r\n}\r\nres.add()\r\n}\r\n} catch(Exception e) {\r\nthrow new e;\r\n}\r\n}\r\n}\r\n```\r\n\r\nEntity class:\r\n```\r\n@Getter\r\n@Setter\r\n@NoArgConstructor\r\n@AllArgConstructor\r\n@Entity\r\npublic class BeanEntity implements Serializable {\r\n\r\nprivate static final long serialVersionID = 3269743987697633760L;\r\n\r\n@Id\r\n@Column(name = &quot;ApplicationID&quot;, nullable = false, unique = true)\r\npublic String application_id;\r\n\r\n@Column(name= &quot;Description&quot;)\r\npublic String desc;\r\n\r\n@Column(name = &quot;Status&quot;)\r\npublic String status;\r\n\r\n@Column(name =&quot;Approved&quot;)\r\npublic int approved;\r\n\r\n@Column(name =&quot;Declined&quot;)\r\npublic int declined;\r\n\r\n}\r\n```\r\n\r\nBean class:\r\n\r\n```\r\n@Getter\r\n@Setter\r\n@NoArgConstructor\r\n@AllArgConstructor\r\npublic class Bean {\r\npublic String application_id;\r\npublic String desc;\r\npublic String status;\r\npublic int approved;\r\npublic int declined;\r\npublic String name;\r\n}\r\n\r\n```\r\n\r\nRepository class:\r\n```\r\n@Repository\r\npublic interface BeanRepository extends JpaRepository&lt;BeanEntity, String&gt; {\r\n\r\n\r\n@Query(name = &quot;select * from abc&quot;, nativeQuery = true)\r\nList&lt;BeanEntity&gt; findAllApplications();\r\n}\r\n```\r\n\r\n\r\nBelow is the Current Response i am getting from above code:\r\n```\r\n[\r\n{\r\n&quot;application_id&quot; : &quot;12345&quot;,\r\n&quot;desc&quot;: &quot;Motor&quot;,\r\n&quot;status&quot;: &quot;active&quot;,\r\n&quot;approved&quot;: 1,\r\n&quot;declined&quot;: 0,\r\n&quot;name&quot;: &quot;A&quot;\r\n},\r\n{\r\n&quot;application_id&quot; : &quot;14785&quot;,\r\n&quot;desc&quot;: &quot;Nut&quot;,\r\n&quot;status&quot;: &quot;active&quot;,\r\n&quot;approved&quot;: 0,\r\n&quot;declined&quot;: 1,\r\n&quot;name&quot;: &quot;A&quot;\r\n},\r\n{\r\n&quot;application_id&quot; : &quot;15974&quot;,\r\n&quot;desc&quot;: &quot;Bolt&quot;,\r\n&quot;status&quot;: &quot;not-active&quot;,\r\n&quot;approved&quot;: 1,\r\n&quot;declined&quot;: 0,\r\n&quot;name&quot;: &quot;B&quot;\r\n},\r\n{\r\n&quot;application_id&quot; : &quot;36985&quot;,\r\n&quot;desc&quot;: &quot;Engine&quot;,\r\n&quot;status&quot;: &quot;active&quot;,\r\n&quot;approved&quot;: 1,\r\n&quot;declined&quot;: 0,\r\n&quot;name&quot;: &quot;B&quot;\r\n},\r\n{\r\n&quot;application_id&quot; : &quot;78945&quot;,\r\n&quot;desc&quot;: &quot;Filter&quot;,\r\n&quot;status&quot;: &quot;active&quot;,\r\n&quot;approved&quot;: 1,\r\n&quot;declined&quot;: 0,\r\n&quot;name&quot;: &quot;C&quot;\r\n},\r\n{\r\n&quot;application_id&quot; : &quot;45612&quot;,\r\n&quot;desc&quot;: &quot;AC&quot;,\r\n&quot;status&quot;: &quot;active&quot;,\r\n&quot;approved&quot;: 0,\r\n&quot;declined&quot;: 1,\r\n&quot;name&quot;: &quot;C&quot;\r\n}\r\n]\r\n```\r\n\r\nExpected Response i am looking for:\r\n```\r\n[\r\n{\r\n&quot;name&quot;: &quot;A&quot;,\r\n&quot;approved&quot;: 1,\r\n&quot;declined&quot;: 1\r\n},\r\n{\r\n&quot;name&quot;: &quot;B&quot;,\r\n&quot;approved&quot;: 2,\r\n&quot;declined&quot;: 0\r\n},\r\n{\r\n&quot;name&quot;: &quot;C&quot;,\r\n&quot;approved&quot;: 1,\r\n&quot;declined&quot;: 1\r\n}\r\n]\r\n```\r\nI am in beginner phase of learning java, How to implement group by with sum of multiple fields in java.\r\nCan someone help me how i can achieve the expected response.\r\n","title":"How to implement group by with sum of multiple fields in java","body":"<p>Controller class:</p>\n<pre><code>@RestController\n@RequestMapping(value = &quot;/api/v1/&quot;)\npublic class TestController {\n\n@Autowired\nTestService testService;\n\n@GetMapping(value = &quot;test&quot;)\npublic List&lt;Bean&gt; getDetails() {\nreturn testService.getDetails();\n}\n}\n</code></pre>\n<p>Service class:</p>\n<pre><code>@Service\npublic class TestService {\n\n@Autowired\nBeanRepository beanRepository;\n\npublic List&lt;Bean&gt; getDetails() {\nList&lt;Bean&gt; res = new ArrayList&lt;&gt;();\ntry{\nList&lt;BeanEntity&gt; beans = beanRepository.findAllApplications();\nfor(BeanEntity beanEntity : beans) {\nBean bean = new Bean();\nBeanUtils.copyProperties(beanEntity, bean);\nif(beanEntity.getDesc().contains(&quot;Motor&quot;) || beanEntity.getDesc().contains(&quot;Nut&quot;)){\nbean.setName(&quot;A&quot;);\n} else if (beanEntity.getDesc().contains(&quot;Bolt&quot;) || beanEntity.getDesc().contains(&quot;Engine&quot;)) {\nbean.setName(&quot;B&quot;);\n} else {\nbean.setName(&quot;C&quot;);\n}\nres.add()\n}\n} catch(Exception e) {\nthrow new e;\n}\n}\n}\n</code></pre>\n<p>Entity class:</p>\n<pre><code>@Getter\n@Setter\n@NoArgConstructor\n@AllArgConstructor\n@Entity\npublic class BeanEntity implements Serializable {\n\nprivate static final long serialVersionID = 3269743987697633760L;\n\n@Id\n@Column(name = &quot;ApplicationID&quot;, nullable = false, unique = true)\npublic String application_id;\n\n@Column(name= &quot;Description&quot;)\npublic String desc;\n\n@Column(name = &quot;Status&quot;)\npublic String status;\n\n@Column(name =&quot;Approved&quot;)\npublic int approved;\n\n@Column(name =&quot;Declined&quot;)\npublic int declined;\n\n}\n</code></pre>\n<p>Bean class:</p>\n<pre><code>@Getter\n@Setter\n@NoArgConstructor\n@AllArgConstructor\npublic class Bean {\npublic String application_id;\npublic String desc;\npublic String status;\npublic int approved;\npublic int declined;\npublic String name;\n}\n\n</code></pre>\n<p>Repository class:</p>\n<pre><code>@Repository\npublic interface BeanRepository extends JpaRepository&lt;BeanEntity, String&gt; {\n\n\n@Query(name = &quot;select * from abc&quot;, nativeQuery = true)\nList&lt;BeanEntity&gt; findAllApplications();\n}\n</code></pre>\n<p>Below is the Current Response i am getting from above code:</p>\n<pre><code>[\n{\n&quot;application_id&quot; : &quot;12345&quot;,\n&quot;desc&quot;: &quot;Motor&quot;,\n&quot;status&quot;: &quot;active&quot;,\n&quot;approved&quot;: 1,\n&quot;declined&quot;: 0,\n&quot;name&quot;: &quot;A&quot;\n},\n{\n&quot;application_id&quot; : &quot;14785&quot;,\n&quot;desc&quot;: &quot;Nut&quot;,\n&quot;status&quot;: &quot;active&quot;,\n&quot;approved&quot;: 0,\n&quot;declined&quot;: 1,\n&quot;name&quot;: &quot;A&quot;\n},\n{\n&quot;application_id&quot; : &quot;15974&quot;,\n&quot;desc&quot;: &quot;Bolt&quot;,\n&quot;status&quot;: &quot;not-active&quot;,\n&quot;approved&quot;: 1,\n&quot;declined&quot;: 0,\n&quot;name&quot;: &quot;B&quot;\n},\n{\n&quot;application_id&quot; : &quot;36985&quot;,\n&quot;desc&quot;: &quot;Engine&quot;,\n&quot;status&quot;: &quot;active&quot;,\n&quot;approved&quot;: 1,\n&quot;declined&quot;: 0,\n&quot;name&quot;: &quot;B&quot;\n},\n{\n&quot;application_id&quot; : &quot;78945&quot;,\n&quot;desc&quot;: &quot;Filter&quot;,\n&quot;status&quot;: &quot;active&quot;,\n&quot;approved&quot;: 1,\n&quot;declined&quot;: 0,\n&quot;name&quot;: &quot;C&quot;\n},\n{\n&quot;application_id&quot; : &quot;45612&quot;,\n&quot;desc&quot;: &quot;AC&quot;,\n&quot;status&quot;: &quot;active&quot;,\n&quot;approved&quot;: 0,\n&quot;declined&quot;: 1,\n&quot;name&quot;: &quot;C&quot;\n}\n]\n</code></pre>\n<p>Expected Response i am looking for:</p>\n<pre><code>[\n{\n&quot;name&quot;: &quot;A&quot;,\n&quot;approved&quot;: 1,\n&quot;declined&quot;: 1\n},\n{\n&quot;name&quot;: &quot;B&quot;,\n&quot;approved&quot;: 2,\n&quot;declined&quot;: 0\n},\n{\n&quot;name&quot;: &quot;C&quot;,\n&quot;approved&quot;: 1,\n&quot;declined&quot;: 1\n}\n]\n</code></pre>\n<p>I am in beginner phase of learning java, How to implement group by with sum of multiple fields in java.\nCan someone help me how i can achieve the expected response.</p>\n"},{"tags":["java","spring-batch","readability","code-readability","spring-framework-beans"],"comments":[{"owner":{"account_id":17756731,"reputation":570,"user_id":12893676,"display_name":"nonethewiser"},"score":0,"creation_date":1673404483,"post_id":75077768,"comment_id":132489625,"body_markdown":"First for sure. Second way is basically the first plus a try/catch and extra return.","body":"First for sure. Second way is basically the first plus a try/catch and extra return."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1673412553,"post_id":75077768,"comment_id":132490689,"body_markdown":"https://beanvalidation.org/","body":"<a href=\"https://beanvalidation.org/\" rel=\"nofollow noreferrer\">beanvalidation.org</a>"}],"answers":[{"tags":[],"owner":{"account_id":480617,"reputation":2495,"user_id":893952,"accept_rate":57,"display_name":"Harry Coder"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1673537220,"creation_date":1673407012,"answer_id":75078021,"question_id":75077768,"body_markdown":"The second method is more readable, but there are some parts of your code you have to revisit:\r\n\r\n 1. `hasLength` is less readable than `isEmpty`\r\n 2. You should not catch your exception directly in this method. Instead call a `throw new` statement. It will allows another classes using this method, to catch and manage the exception and send a custom message.\r\n\r\nA sample code:\r\n\r\n    public boolean isValid() {\r\n        if (this.userId.isEmpty() || this.departmentCode.isEmpty() || this.departmentCode.isEmpty()) {\r\n            throw new IllegalArgumentException(&quot;YOUR CUSTOM MESSAGE&quot;)\r\n        }\r\n        return true;\r\n    }\r\n\r\nUpdate:\r\n\r\n - You can use [bean validation][1], to directly apply your constrains on your fields with annotations.\r\n\r\n  [1]: https://www.baeldung.com/javax-validation","title":"which of these ways to verify object is better in perspective of readable and maintainable?","body":"<p>The second method is more readable, but there are some parts of your code you have to revisit:</p>\n<ol>\n<li><code>hasLength</code> is less readable than <code>isEmpty</code></li>\n<li>You should not catch your exception directly in this method. Instead call a <code>throw new</code> statement. It will allows another classes using this method, to catch and manage the exception and send a custom message.</li>\n</ol>\n<p>A sample code:</p>\n<pre><code>public boolean isValid() {\n    if (this.userId.isEmpty() || this.departmentCode.isEmpty() || this.departmentCode.isEmpty()) {\n        throw new IllegalArgumentException(&quot;YOUR CUSTOM MESSAGE&quot;)\n    }\n    return true;\n}\n</code></pre>\n<p>Update:</p>\n<ul>\n<li>You can use <a href=\"https://www.baeldung.com/javax-validation\" rel=\"nofollow noreferrer\">bean validation</a>, to directly apply your constrains on your fields with annotations.</li>\n</ul>\n"}],"owner":{"account_id":16002638,"reputation":15,"user_id":11548881,"display_name":"Companion Cube"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"closed_date":1673410038,"accepted_answer_id":75078021,"answer_count":1,"score":-1,"last_activity_date":1673537220,"creation_date":1673404221,"question_id":75077768,"body_markdown":"I&#39;m programming Human Resource data sync batch program. \r\n\r\nThis program reads user and department data from customer company&#39;s database and save to our database. \r\n\r\nFor example, there is class named &#39;User&#39; indicates each user. \r\n\r\nIt has 4 member variables, userId, userName, departmentCode, userRank. \r\n\r\nIn our database, there is &#39;user&#39; table has columns user_id, user_nbame, department_code, user_rank. \r\n\r\nEach member variable save each column like below example. \r\n\r\n- userId -&gt; user_id(primary key)\r\n- userName -&gt; user_name(not null)\r\n- departmentCode -&gt; department_code(not null)\r\n- userRank -&gt; user_rank(not null)\r\n\r\nBefore I save user data to our database, I need to verify user data. \r\n\r\nBecause user table&#39;s user_rank column has not null constraints, so it may cause ConstraintException. \r\n\r\nIn order to avoid ConstaintException, I thought I need to use isValid method. \r\n\r\nThis &#39;isValid&#39; method checks whether member variables are null or empty string. \r\n\r\nIf at least one of member variables is null or empty string, return false. \r\n\r\nIf All member variables are not null or not empty string, return true. \r\n\r\nBecause user_id is primary key, so must not be null and duplicated, user_name must not be null, department_code must not be null, and userRank must not be null. \r\n\r\nuser_id, user_name, department_code columns don&#39;t have problem. \r\n\r\nBecause these 3 columns obviously essential in all companies.\r\n\r\nBut, user_rank column was null in some customer company. \r\n\r\nSo I use &#39;hasLength&#39; for this &#39;isValid&#39; method. \r\n\r\nBelow 2 methods have same purpose. These just verify itself and return true or false. \r\n\r\n```java\r\nimport org.springframework.util.StringUtils;\r\n\r\npublic class User {\r\n\tprivate String userId;\r\n\tprivate String userName;\r\n\tprivate String departmentCode;\r\n\tprivate String userRank;\r\n\r\n    // first way\r\n\tpublic boolean isValid() {\r\n\t\treturn  StringUtils.hasLength(this.userId) &amp;&amp;\r\n\t\t\t\t\t\tStringUtils.hasLength(this.userName) &amp;&amp;\r\n\t\t\t\t\t\tStringUtils.hasLength(this.departmentCode) &amp;&amp;\r\n\t\t\t\t\t\tStringUtils.hasLength(this.userRank);\r\n\t}\r\n}\r\n\r\n```\r\n\r\n```java\r\nimport org.springframework.util.Assert;\r\n\r\npublic class User {\r\n\tprivate String userId;\r\n\tprivate String userName;\r\n\tprivate String departmentCode;\r\n\tprivate String userRank;\r\n\r\n    // second way\r\n\tpublic boolean isValid() {\r\n\t\ttry {\r\n\t\t\tAssert.hasLength(this.userId);\r\n\t\t\tAssert.hasLength(this.userName);\r\n\t\t\tAssert.hasLength(this.departmentCode);\r\n\t\t\tAssert.hasLength(this.userRank);\r\n\r\n\t\t\treturn true;\r\n\t\t} catch(IllegalArgumentException e) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t}\r\n```\r\n\r\nAt first, I used first way. \r\n\r\nBut, some team members said &quot;it isn&#39;t easily readable. &quot;\r\n\r\nAfter hearing that opinion, I referenced some spring framework codes and improved by using &#39;Assert&#39; class my code like second way.\r\n\r\nDo you think what is better way?\r\n\r\nOr if you think other better way than i thought, can you tell me something?\r\n\r\n---\r\n---\r\n\r\nI apologize about my mistake. \r\n\r\nI wrote question so ambiguous, so I reinforced question. \r\n\r\nIf you satisfied by this editing, please reopen this question. \r\n\r\nThank you. ","title":"which of these ways to verify object is better in perspective of readable and maintainable?","body":"<p>I'm programming Human Resource data sync batch program.</p>\n<p>This program reads user and department data from customer company's database and save to our database.</p>\n<p>For example, there is class named 'User' indicates each user.</p>\n<p>It has 4 member variables, userId, userName, departmentCode, userRank.</p>\n<p>In our database, there is 'user' table has columns user_id, user_nbame, department_code, user_rank.</p>\n<p>Each member variable save each column like below example.</p>\n<ul>\n<li>userId -&gt; user_id(primary key)</li>\n<li>userName -&gt; user_name(not null)</li>\n<li>departmentCode -&gt; department_code(not null)</li>\n<li>userRank -&gt; user_rank(not null)</li>\n</ul>\n<p>Before I save user data to our database, I need to verify user data.</p>\n<p>Because user table's user_rank column has not null constraints, so it may cause ConstraintException.</p>\n<p>In order to avoid ConstaintException, I thought I need to use isValid method.</p>\n<p>This 'isValid' method checks whether member variables are null or empty string.</p>\n<p>If at least one of member variables is null or empty string, return false.</p>\n<p>If All member variables are not null or not empty string, return true.</p>\n<p>Because user_id is primary key, so must not be null and duplicated, user_name must not be null, department_code must not be null, and userRank must not be null.</p>\n<p>user_id, user_name, department_code columns don't have problem.</p>\n<p>Because these 3 columns obviously essential in all companies.</p>\n<p>But, user_rank column was null in some customer company.</p>\n<p>So I use 'hasLength' for this 'isValid' method.</p>\n<p>Below 2 methods have same purpose. These just verify itself and return true or false.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.springframework.util.StringUtils;\n\npublic class User {\n    private String userId;\n    private String userName;\n    private String departmentCode;\n    private String userRank;\n\n    // first way\n    public boolean isValid() {\n        return  StringUtils.hasLength(this.userId) &amp;&amp;\n                        StringUtils.hasLength(this.userName) &amp;&amp;\n                        StringUtils.hasLength(this.departmentCode) &amp;&amp;\n                        StringUtils.hasLength(this.userRank);\n    }\n}\n\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>import org.springframework.util.Assert;\n\npublic class User {\n    private String userId;\n    private String userName;\n    private String departmentCode;\n    private String userRank;\n\n    // second way\n    public boolean isValid() {\n        try {\n            Assert.hasLength(this.userId);\n            Assert.hasLength(this.userName);\n            Assert.hasLength(this.departmentCode);\n            Assert.hasLength(this.userRank);\n\n            return true;\n        } catch(IllegalArgumentException e) {\n            return false;\n        }\n    }\n</code></pre>\n<p>At first, I used first way.</p>\n<p>But, some team members said &quot;it isn't easily readable. &quot;</p>\n<p>After hearing that opinion, I referenced some spring framework codes and improved by using 'Assert' class my code like second way.</p>\n<p>Do you think what is better way?</p>\n<p>Or if you think other better way than i thought, can you tell me something?</p>\n<hr />\n<hr />\n<p>I apologize about my mistake.</p>\n<p>I wrote question so ambiguous, so I reinforced question.</p>\n<p>If you satisfied by this editing, please reopen this question.</p>\n<p>Thank you.</p>\n"},{"tags":["java","mysql","mybatis"],"comments":[{"owner":{"account_id":1739024,"reputation":4902,"user_id":1590950,"display_name":"indivisible"},"score":1,"creation_date":1444980525,"post_id":33151873,"comment_id":54138136,"body_markdown":"Possible duplicate of [MyBatis ResultMap Collection - Returning only one row](http://stackoverflow.com/questions/21064454/mybatis-resultmap-collection-returning-only-one-row)","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/21064454/mybatis-resultmap-collection-returning-only-one-row\">MyBatis ResultMap Collection - Returning only one row</a>"}],"answers":[{"tags":[],"owner":{"account_id":2660411,"reputation":2103,"user_id":2490602,"accept_rate":36,"display_name":"spacitron"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1673537122,"creation_date":1444922053,"answer_id":33152254,"question_id":33151873,"body_markdown":"Found the solution. All I had to do was change the `player_id` mapping in the collection from `id` to `result`.","title":"One to many relationship in MyBatis","body":"<p>Found the solution. All I had to do was change the <code>player_id</code> mapping in the collection from <code>id</code> to <code>result</code>.</p>\n"},{"comments":[{"owner":{"account_id":11083371,"reputation":399,"user_id":8137941,"display_name":"jujuzi"},"score":0,"creation_date":1590229239,"post_id":33450398,"comment_id":109605296,"body_markdown":"Hello @Lucky, I have a question. Is it possible that **getAllTeams(...)** method use inner join instead of creating another method **selectPlayers(...)**? I have tried to use inner join instead but the team object is return null player. I believe I did it wrongly. Please help. Thanks.","body":"Hello @Lucky, I have a question. Is it possible that <b>getAllTeams(...)</b> method use inner join instead of creating another method <b>selectPlayers(...)</b>? I have tried to use inner join instead but the team object is return null player. I believe I did it wrongly. Please help. Thanks."},{"owner":{"account_id":2003177,"reputation":16895,"user_id":1793718,"accept_rate":69,"display_name":"Lucky"},"score":1,"creation_date":1590687819,"post_id":33450398,"comment_id":109781988,"body_markdown":"@jujuzi Please refer this example for inner join queries. Although not using annotations, this might give you an idea http://dongchuan.github.io/mybatis/2016/04/17/MyBatis-Advanced.html","body":"@jujuzi Please refer this example for inner join queries. Although not using annotations, this might give you an idea <a href=\"http://dongchuan.github.io/mybatis/2016/04/17/MyBatis-Advanced.html\" rel=\"nofollow noreferrer\">dongchuan.github.io/mybatis/2016/04/17/MyBatis-Advanced.html</a>"}],"tags":[],"owner":{"account_id":2003177,"reputation":16895,"user_id":1793718,"accept_rate":69,"display_name":"Lucky"},"comment_count":2,"down_vote_count":1,"up_vote_count":12,"is_accepted":false,"score":11,"last_activity_date":1446286359,"creation_date":1446286359,"answer_id":33450398,"question_id":33151873,"body_markdown":"I&#39;ve tried to follow this question and I&#39;ve created a One-to-Many relationship in Mybatis using Annotations. Following is my code,\r\n\r\n**UserMapper.java**\r\n\r\n    @Select(&quot;SELECT teamId, name FROM TEAM&quot;)\r\n        @Results(value = {\r\n        \t@Result(property=&quot;teamId&quot;, column = &quot;teamId&quot;),\r\n        \t@Result(property=&quot;name&quot;, column = &quot;name&quot;),\r\n        \t@Result(property=&quot;players&quot;, column=&quot;teamId&quot;, javaType= List.class, many=@Many(select=&quot;selectPlayers&quot;))\r\n        })   \r\n    public List&lt;Team&gt; getAllTeams();\r\n        \r\n    @Select(&quot;SELECT * FROM PLAYER WHERE teamId = #{teamId}&quot;)\r\n        @Results(value={\r\n        \t@Result(property=&quot;playerId&quot;, column =&quot;playerId&quot; ),\r\n        \t@Result(property=&quot;name&quot;, column = &quot;name&quot;)\r\n        })\r\n    List&lt;Player&gt; selectPlayers(String teamId);\r\n\r\n\r\nMy **Team.java**:\r\n\r\n    public class Team {\r\n    \t\r\n    \tprivate Long teamId;\r\n    \tprivate String name;\r\n    \tprivate List&lt;Player&gt; players;\r\n    \r\n        //...getters and setters\r\n    \r\n    }\r\n\r\n**Player.java**:\r\n\r\n    public class Player {\r\n    \t\r\n    \tprivate Long playerId;\r\n    \tprivate String name;\r\n    \tprivate Team team;\r\n    \r\n        //...getter and setters\r\n    \r\n    }\r\n\r\n**team.sql**\r\n\r\n    CREATE TABLE `team` (\r\n      `teamId` bigint(10) NOT NULL AUTO_INCREMENT,\r\n      `name` varchar(50) DEFAULT NULL,\r\n      PRIMARY KEY (`teamId`)\r\n    )\r\n\r\n**player.sql**\r\n\r\n    CREATE TABLE `player` (\r\n      `playerId` bigint(10) NOT NULL AUTO_INCREMENT,\r\n      `name` varchar(50) DEFAULT NULL,\r\n      `teamId` bigint(10) DEFAULT NULL,\r\n      PRIMARY KEY (`playerId`),\r\n      KEY `FK_TEAM_ID` (`teamId`),\r\n      CONSTRAINT `FK_TEAM_ID` FOREIGN KEY (`teamId`) REFERENCES `team` (`teamId`)\r\n    )\r\n\r\n**UserServiceImpl.java**\r\n\r\n    @Autowired\r\n\tprivate UserMapper userMapper;\r\n\r\n    ...\r\n    /* Get the list of teams with players data */\r\n    List&lt;Team&gt; teams = userMapper.getAllTeams();\r\n    ...\r\n\r\n\r\nHope this serves useful for future readers.","title":"One to many relationship in MyBatis","body":"<p>I've tried to follow this question and I've created a One-to-Many relationship in Mybatis using Annotations. Following is my code,</p>\n\n<p><strong>UserMapper.java</strong></p>\n\n<pre><code>@Select(\"SELECT teamId, name FROM TEAM\")\n    @Results(value = {\n        @Result(property=\"teamId\", column = \"teamId\"),\n        @Result(property=\"name\", column = \"name\"),\n        @Result(property=\"players\", column=\"teamId\", javaType= List.class, many=@Many(select=\"selectPlayers\"))\n    })   \npublic List&lt;Team&gt; getAllTeams();\n\n@Select(\"SELECT * FROM PLAYER WHERE teamId = #{teamId}\")\n    @Results(value={\n        @Result(property=\"playerId\", column =\"playerId\" ),\n        @Result(property=\"name\", column = \"name\")\n    })\nList&lt;Player&gt; selectPlayers(String teamId);\n</code></pre>\n\n<p>My <strong>Team.java</strong>:</p>\n\n<pre><code>public class Team {\n\n    private Long teamId;\n    private String name;\n    private List&lt;Player&gt; players;\n\n    //...getters and setters\n\n}\n</code></pre>\n\n<p><strong>Player.java</strong>:</p>\n\n<pre><code>public class Player {\n\n    private Long playerId;\n    private String name;\n    private Team team;\n\n    //...getter and setters\n\n}\n</code></pre>\n\n<p><strong>team.sql</strong></p>\n\n<pre><code>CREATE TABLE `team` (\n  `teamId` bigint(10) NOT NULL AUTO_INCREMENT,\n  `name` varchar(50) DEFAULT NULL,\n  PRIMARY KEY (`teamId`)\n)\n</code></pre>\n\n<p><strong>player.sql</strong></p>\n\n<pre><code>CREATE TABLE `player` (\n  `playerId` bigint(10) NOT NULL AUTO_INCREMENT,\n  `name` varchar(50) DEFAULT NULL,\n  `teamId` bigint(10) DEFAULT NULL,\n  PRIMARY KEY (`playerId`),\n  KEY `FK_TEAM_ID` (`teamId`),\n  CONSTRAINT `FK_TEAM_ID` FOREIGN KEY (`teamId`) REFERENCES `team` (`teamId`)\n)\n</code></pre>\n\n<p><strong>UserServiceImpl.java</strong></p>\n\n<pre><code>@Autowired\nprivate UserMapper userMapper;\n\n...\n/* Get the list of teams with players data */\nList&lt;Team&gt; teams = userMapper.getAllTeams();\n...\n</code></pre>\n\n<p>Hope this serves useful for future readers.</p>\n"}],"owner":{"account_id":2660411,"reputation":2103,"user_id":2490602,"accept_rate":36,"display_name":"spacitron"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21137,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":2,"score":6,"last_activity_date":1673537122,"creation_date":1444921025,"question_id":33151873,"body_markdown":"I&#39;m trying to use MyBatis to map a one-to-many relationship in my data model. This is based on the following classes: \r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    class Team{\r\n        String mId;\r\n        String mName;\r\n        List&lt;Player&gt; mPlayers;\r\n    }\r\n\r\n    class Player{\r\n        String mId;\r\n        String mName;\r\n    }\r\n\r\nI would like to write a query that returns a list of matches, each populated with the tags that correspond to that match. \r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;select id=&quot;getTeams&quot; resultType=&quot;Team&quot; resultMap=&quot;TeamMap&quot;&gt;\r\n        SELECT id, name, players.id as player_id, players.name as player_name\r\n        FROM teams\r\n        JOIN players ON teams.id = players.team_id\r\n    &lt;/select&gt;\r\n\r\n\r\n    &lt;resultMap type=&quot;Team&quot; id=&quot;TeamMap&quot;&gt;\r\n        &lt;id property=&quot;mId&quot; column=&quot;id&quot;/&gt;\r\n        &lt;result property=&quot;mName&quot; column=&quot;name&quot;/&gt;\r\n\r\n        &lt;collection property=&quot;mTags&quot; javaType=&quot;List&quot; ofType=&quot;Player&quot;&gt;\r\n            &lt;id property=&quot;player_id&quot; column=&quot;mId&quot;/&gt;\r\n            &lt;result property=&quot;player_name&quot; column=&quot;mName&quot;/&gt;\r\n        &lt;/collection&gt;\r\n\r\n    &lt;/resultMap&gt;\r\n\r\nBut the problem I&#39;m having with this is that each Team object is only populated with a single Player. How can I change this to ensure that each team contains all players that belong to it?","title":"One to many relationship in MyBatis","body":"<p>I'm trying to use MyBatis to map a one-to-many relationship in my data model. This is based on the following classes:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Team{\n    String mId;\n    String mName;\n    List&lt;Player&gt; mPlayers;\n}\n\nclass Player{\n    String mId;\n    String mName;\n}\n</code></pre>\n<p>I would like to write a query that returns a list of matches, each populated with the tags that correspond to that match.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;select id=&quot;getTeams&quot; resultType=&quot;Team&quot; resultMap=&quot;TeamMap&quot;&gt;\n    SELECT id, name, players.id as player_id, players.name as player_name\n    FROM teams\n    JOIN players ON teams.id = players.team_id\n&lt;/select&gt;\n\n\n&lt;resultMap type=&quot;Team&quot; id=&quot;TeamMap&quot;&gt;\n    &lt;id property=&quot;mId&quot; column=&quot;id&quot;/&gt;\n    &lt;result property=&quot;mName&quot; column=&quot;name&quot;/&gt;\n\n    &lt;collection property=&quot;mTags&quot; javaType=&quot;List&quot; ofType=&quot;Player&quot;&gt;\n        &lt;id property=&quot;player_id&quot; column=&quot;mId&quot;/&gt;\n        &lt;result property=&quot;player_name&quot; column=&quot;mName&quot;/&gt;\n    &lt;/collection&gt;\n\n&lt;/resultMap&gt;\n</code></pre>\n<p>But the problem I'm having with this is that each Team object is only populated with a single Player. How can I change this to ensure that each team contains all players that belong to it?</p>\n"},{"tags":["java","sql","mapping","mybatis"],"comments":[{"owner":{"account_id":8591840,"reputation":46475,"user_id":6436191,"display_name":"The Impaler"},"score":0,"creation_date":1524057903,"post_id":49896691,"comment_id":86817199,"body_markdown":"What&#39;s the SQL? Need to make sure the rows are orderded by the relevant IDs. MyBatis uses the IDs to identify (and not to repeat) items.","body":"What&#39;s the SQL? Need to make sure the rows are orderded by the relevant IDs. MyBatis uses the IDs to identify (and not to repeat) items."},{"owner":{"account_id":7219568,"reputation":185,"user_id":5510661,"display_name":"ReiSchneider"},"score":0,"creation_date":1524403344,"post_id":49896691,"comment_id":86948375,"body_markdown":"@TheImpaler the SQL uses aliases, proper labels for each columns are observed","body":"@TheImpaler the SQL uses aliases, proper labels for each columns are observed"}],"answers":[{"comments":[{"owner":{"account_id":7219568,"reputation":185,"user_id":5510661,"display_name":"ReiSchneider"},"score":0,"creation_date":1524102353,"post_id":49909389,"comment_id":86838793,"body_markdown":"I am using aliases on the tables, I just wasn&#39;t able to include it here. I am successfully retrieving values, it&#39;s just that instead of Items having multiple Tags, it creates multiple Items with single Tags","body":"I am using aliases on the tables, I just wasn&#39;t able to include it here. I am successfully retrieving values, it&#39;s just that instead of Items having multiple Tags, it creates multiple Items with single Tags"},{"owner":{"account_id":7219568,"reputation":185,"user_id":5510661,"display_name":"ReiSchneider"},"score":0,"creation_date":1524820914,"post_id":49909389,"comment_id":87134805,"body_markdown":"The problem I&#39;m getting is that instead of having a List of children objects, it creates duplicates of the parent object with individual children objects","body":"The problem I&#39;m getting is that instead of having a List of children objects, it creates duplicates of the parent object with individual children objects"},{"owner":{"account_id":2573819,"reputation":15175,"user_id":2231972,"display_name":"Roman-Stop RU aggression in UA"},"score":0,"creation_date":1524831972,"post_id":49909389,"comment_id":87141122,"body_markdown":"It&#39;s hard to tell without seeing the query. The option I described in the answer works and creates single `Item` with the list of `Tag`s.","body":"It&#39;s hard to tell without seeing the query. The option I described in the answer works and creates single <code>Item</code> with the list of <code>Tag</code>s."},{"owner":{"account_id":7219568,"reputation":185,"user_id":5510661,"display_name":"ReiSchneider"},"score":0,"creation_date":1525054036,"post_id":49909389,"comment_id":87202372,"body_markdown":"Yes, it works that way, but the problem is, ObjectA has no Id. It&#39;s just supposed to be an object containing a List of Items and List of Products. My resultMap returns ObjectA containing a Collection of Items and Products from the Select Query. We have the same query except that there is not supposed to be result of ObjectA rather than the join of Items, Tags, Products","body":"Yes, it works that way, but the problem is, ObjectA has no Id. It&#39;s just supposed to be an object containing a List of Items and List of Products. My resultMap returns ObjectA containing a Collection of Items and Products from the Select Query. We have the same query except that there is not supposed to be result of ObjectA rather than the join of Items, Tags, Products"},{"owner":{"account_id":2573819,"reputation":15175,"user_id":2231972,"display_name":"Roman-Stop RU aggression in UA"},"score":0,"creation_date":1673540069,"post_id":49909389,"comment_id":132527052,"body_markdown":"Here in the comment you describe a new problem it seems. Its better to ask a new question with the details.","body":"Here in the comment you describe a new problem it seems. Its better to ask a new question with the details."}],"tags":[],"owner":{"account_id":2573819,"reputation":15175,"user_id":2231972,"display_name":"Roman-Stop RU aggression in UA"},"comment_count":5,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1673536982,"creation_date":1524087344,"answer_id":49909389,"question_id":49896691,"body_markdown":"The fact that duplicates for parent objects are created means that mybatis cannot identify objects correctly, that is that `&lt;id property=&quot;id&quot; column=&quot;ITEMS.id&quot;/&gt;` does not work as expected. Basically `id` element is needed so that mybatis knows that the parent record that is duplicated in multiple rows in a result set refers to the same object.\r\n\r\nOne working option is to make sure columns from different tables have unique names and use that unique names in result map.\r\n\r\nFor your example mapper should look like this:\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;resultMap type=&quot;ObjectA&quot; id=&quot;objectaMap&quot;&gt;\r\n        &lt;id column=&quot;id&quot; property=&quot;id&quot;/&gt;\r\n        &lt;collection property=&quot;items&quot; javaType=&quot;ArrayList&quot; ofType=&quot;Items&quot; columnPrefix=&quot;ITEM_&quot;&gt;\r\n            &lt;id column=&quot;id&quot; property=&quot;id&quot;/&gt;\r\n            &lt;result property=&quot;description&quot; column=&quot;description&quot;/&gt;\r\n            &lt;collection property=&quot;tags&quot; javaType=&quot;ArrayList&quot; ofType=&quot;Tags&quot; columnPrefix=&quot;TAG_&quot;&gt;\r\n                &lt;id column=&quot;id&quot; property=&quot;id&quot;/&gt;\r\n                &lt;result property=&quot;tag&quot; column=&quot;tag&quot;/&gt;\r\n            &lt;/collection&gt;\r\n        &lt;/collection&gt;\r\n    &lt;/resultMap&gt;\r\n\r\n    &lt;select id=&quot;getObjects&quot; resultMap=&quot;objectaMap&quot;&gt;\r\n        select o.*, i.id as ITEM_ID, i.description as ITEM_DESCRIPTION, t.id as ITEM_TAG_ID, t.tag as ITEM_TAG_TAG\r\n        from objecta o\r\n            join items i on (i.object_id = o.id) \r\n            join tags t on (t.item_id = i.id)\r\n    &lt;/select&gt;\r\n\r\nNote how all columns from `items` table have `ITEM_` prefix and the same for `tags` table.","title":"myBatis Many To Many Relationship","body":"<p>The fact that duplicates for parent objects are created means that mybatis cannot identify objects correctly, that is that <code>&lt;id property=&quot;id&quot; column=&quot;ITEMS.id&quot;/&gt;</code> does not work as expected. Basically <code>id</code> element is needed so that mybatis knows that the parent record that is duplicated in multiple rows in a result set refers to the same object.</p>\n<p>One working option is to make sure columns from different tables have unique names and use that unique names in result map.</p>\n<p>For your example mapper should look like this:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;resultMap type=&quot;ObjectA&quot; id=&quot;objectaMap&quot;&gt;\n    &lt;id column=&quot;id&quot; property=&quot;id&quot;/&gt;\n    &lt;collection property=&quot;items&quot; javaType=&quot;ArrayList&quot; ofType=&quot;Items&quot; columnPrefix=&quot;ITEM_&quot;&gt;\n        &lt;id column=&quot;id&quot; property=&quot;id&quot;/&gt;\n        &lt;result property=&quot;description&quot; column=&quot;description&quot;/&gt;\n        &lt;collection property=&quot;tags&quot; javaType=&quot;ArrayList&quot; ofType=&quot;Tags&quot; columnPrefix=&quot;TAG_&quot;&gt;\n            &lt;id column=&quot;id&quot; property=&quot;id&quot;/&gt;\n            &lt;result property=&quot;tag&quot; column=&quot;tag&quot;/&gt;\n        &lt;/collection&gt;\n    &lt;/collection&gt;\n&lt;/resultMap&gt;\n\n&lt;select id=&quot;getObjects&quot; resultMap=&quot;objectaMap&quot;&gt;\n    select o.*, i.id as ITEM_ID, i.description as ITEM_DESCRIPTION, t.id as ITEM_TAG_ID, t.tag as ITEM_TAG_TAG\n    from objecta o\n        join items i on (i.object_id = o.id) \n        join tags t on (t.item_id = i.id)\n&lt;/select&gt;\n</code></pre>\n<p>Note how all columns from <code>items</code> table have <code>ITEM_</code> prefix and the same for <code>tags</code> table.</p>\n"}],"owner":{"account_id":7219568,"reputation":185,"user_id":5510661,"display_name":"ReiSchneider"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1559,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":49909389,"answer_count":1,"score":1,"last_activity_date":1673536982,"creation_date":1524045427,"question_id":49896691,"body_markdown":"In relation to my previous question regarding Mappings in MyBatis, I am now encountering a problem when doing a Many-To-Many relationship\r\n\r\nI have the following objects\r\n\r\n*I cannot post the actual object definition and XML due to privacy issues*\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    class ObjectA {\r\n         List&lt;Items&gt; items;\r\n         List&lt;Products&gt; products;\r\n    \r\n         //getters setters\r\n    }\r\n\r\n    class Items {\r\n       int id;\r\n       String description;\r\n       List&lt;Tags&gt; tags;\r\n    }\r\n\r\n    class Tags {\r\n        int id;\r\n        int item_id;\r\n        String tag;\r\n    }\r\n\r\nThe SQL involves joining the Items table with Tags table `ON Tags.ITEM_ID = Items.ID`\r\n\r\nBasically, it returns rows and maps them to this MyBatis\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;resultMap id=&quot;getObjectA&quot; type=&quot;ObjectA&quot;&gt;\r\n        &lt;collection property=&quot;items&quot; javaType=&quot;ArrayList&quot; ofType=&quot;Items&quot; resultMap=&quot;getItems&quot;/&gt;\r\n         \r\n         ...\r\n    \r\n    &lt;/resultMap&gt;\r\n\r\n    &lt;resultMap=&quot;getItems&quot; type=&quot;Items&quot;&gt;\r\n        &lt;id property=&quot;id&quot; column=&quot;ITEMS.id&quot;/&gt;\r\n        &lt;result property=&quot;description&quot; column=&quot;ITEMS.description&quot;/&gt;\r\n        &lt;collection property=&quot;tags&quot; javaType=&quot;ArrayList&quot; ofType=&quot;Tags&quot; resultMap=&quot;getTags&quot;/&gt;\r\n    &lt;/resultMap&gt;\r\n\r\n    &lt;resultMap id=&quot;getTags&quot; type=&quot;Tags&quot;&gt;\r\n       &lt;id property=&quot;id&quot; column=&quot;TAGS.id&quot;/&gt;\r\n       &lt;result property=&quot;item_id&quot; column=&quot;TAGS.item_id&quot;/&gt;\r\n       &lt;result property=&quot;tag&quot; column=&quot;TAGS.tag&quot;/&gt;\r\n    &lt;/resultMap&gt;\r\n\r\nTechnically, the set up works and returns an ObjectA containing a List of Items each containing a List of Tags. When there exists only one Tag per Items, the mapping is fine but when an Item contains multiple Tags, it creates multiple Items of the same ID each containing a List containing only one Tag from the result of the query.","title":"myBatis Many To Many Relationship","body":"<p>In relation to my previous question regarding Mappings in MyBatis, I am now encountering a problem when doing a Many-To-Many relationship</p>\n<p>I have the following objects</p>\n<p><em>I cannot post the actual object definition and XML due to privacy issues</em></p>\n<pre class=\"lang-java prettyprint-override\"><code>class ObjectA {\n     List&lt;Items&gt; items;\n     List&lt;Products&gt; products;\n\n     //getters setters\n}\n\nclass Items {\n   int id;\n   String description;\n   List&lt;Tags&gt; tags;\n}\n\nclass Tags {\n    int id;\n    int item_id;\n    String tag;\n}\n</code></pre>\n<p>The SQL involves joining the Items table with Tags table <code>ON Tags.ITEM_ID = Items.ID</code></p>\n<p>Basically, it returns rows and maps them to this MyBatis</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;resultMap id=&quot;getObjectA&quot; type=&quot;ObjectA&quot;&gt;\n    &lt;collection property=&quot;items&quot; javaType=&quot;ArrayList&quot; ofType=&quot;Items&quot; resultMap=&quot;getItems&quot;/&gt;\n     \n     ...\n\n&lt;/resultMap&gt;\n\n&lt;resultMap=&quot;getItems&quot; type=&quot;Items&quot;&gt;\n    &lt;id property=&quot;id&quot; column=&quot;ITEMS.id&quot;/&gt;\n    &lt;result property=&quot;description&quot; column=&quot;ITEMS.description&quot;/&gt;\n    &lt;collection property=&quot;tags&quot; javaType=&quot;ArrayList&quot; ofType=&quot;Tags&quot; resultMap=&quot;getTags&quot;/&gt;\n&lt;/resultMap&gt;\n\n&lt;resultMap id=&quot;getTags&quot; type=&quot;Tags&quot;&gt;\n   &lt;id property=&quot;id&quot; column=&quot;TAGS.id&quot;/&gt;\n   &lt;result property=&quot;item_id&quot; column=&quot;TAGS.item_id&quot;/&gt;\n   &lt;result property=&quot;tag&quot; column=&quot;TAGS.tag&quot;/&gt;\n&lt;/resultMap&gt;\n</code></pre>\n<p>Technically, the set up works and returns an ObjectA containing a List of Items each containing a List of Tags. When there exists only one Tag per Items, the mapping is fine but when an Item contains multiple Tags, it creates multiple Items of the same ID each containing a List containing only one Tag from the result of the query.</p>\n"},{"tags":["java","mybatis"],"answers":[{"comments":[{"owner":{"account_id":9521240,"reputation":2034,"user_id":7076047,"display_name":"blackwizard"},"score":0,"creation_date":1486651767,"post_id":42135275,"comment_id":71445608,"body_markdown":"just updated answer to go further. let me know if it works well.","body":"just updated answer to go further. let me know if it works well."}],"tags":[],"owner":{"account_id":9521240,"reputation":2034,"user_id":7076047,"display_name":"blackwizard"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1673536805,"creation_date":1486639086,"answer_id":42135275,"question_id":42133637,"body_markdown":"Here is an object model I recommend:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    class Member {\r\n        Integer id;\r\n        String name;\r\n        List&lt;ClubRegistration&gt; clubRegistrations;\r\n    }\r\n\r\n    class Club {\r\n        Integer id;\r\n        String name;\r\n        List&lt;MemberRegistration&gt; memberRegistrations;\r\n    }\r\n\r\n    class ClubRegistration {\r\n        Club club;\r\n        Date date;\r\n    }\r\n\r\n    class MemberRegistration {\r\n        Member member;\r\n        Date date;\r\n    }\r\n\r\nSo that you can get data in both ways: member with its clubs or club with its members.\r\n\r\nThe SQL query:\r\n\r\n&lt;!-- language: lang-sql --&gt;\r\n\r\n    SELECT m.id AS memberId, m.name AS memberName, c.id AS clubId, c.name AS clubName, register_Date\r\n    FROM member m\r\n             INNER JOIN member_club mc ON m.id = mc.member_id\r\n             INNER JOIN club c ON mc.club_id = c.id\r\n    WHERE {what you want}\r\n\r\nResultMap for the case you ask:\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;resultMap id=&quot;memberRM&quot; type=&quot;Member&quot;&gt;\r\n      &lt;id column=&quot;memberId&quot; property=&quot;id&quot;/&gt;\r\n      &lt;result column=&quot;memberName&quot; property=&quot;name&quot;/&gt;\r\n      &lt;collection property=&quot;clubRegistrations&quot; ofType=&quot;ClubRegistration&quot;&gt;\r\n        &lt;result column=&quot;register_Date&quot; property=&quot;date&quot; /&gt;\r\n        &lt;association property=&quot;club&quot; javaType=&quot;Club&quot;&gt;\r\n          &lt;id column=&quot;clubId&quot; property=&quot;id&quot;/&gt;\r\n          &lt;result column=&quot;clubName&quot; property=&quot;name&quot;/&gt;\r\n        &lt;/association&gt;\r\n      &lt;/collection&gt;\r\n    &lt;/resultMap&gt;\r\n\r\nJust swap Member/Club for the other case.\r\n\r\nYou should then even reference resultMap instead of nest define:    \r\n\r\n    &lt;association property=&quot;club&quot; resultMap=&quot;clubRM&quot; /&gt;\r\n\r\nAlthough I&#39;ve not checked it myself, [the circular reference issue that would arise is managed bay MyBatis](https://stackoverflow.com/a/10667427/7076047).","title":"Mybatis Many-to-Many best practice","body":"<p>Here is an object model I recommend:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Member {\n    Integer id;\n    String name;\n    List&lt;ClubRegistration&gt; clubRegistrations;\n}\n\nclass Club {\n    Integer id;\n    String name;\n    List&lt;MemberRegistration&gt; memberRegistrations;\n}\n\nclass ClubRegistration {\n    Club club;\n    Date date;\n}\n\nclass MemberRegistration {\n    Member member;\n    Date date;\n}\n</code></pre>\n<p>So that you can get data in both ways: member with its clubs or club with its members.</p>\n<p>The SQL query:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>SELECT m.id AS memberId, m.name AS memberName, c.id AS clubId, c.name AS clubName, register_Date\nFROM member m\n         INNER JOIN member_club mc ON m.id = mc.member_id\n         INNER JOIN club c ON mc.club_id = c.id\nWHERE {what you want}\n</code></pre>\n<p>ResultMap for the case you ask:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;resultMap id=&quot;memberRM&quot; type=&quot;Member&quot;&gt;\n  &lt;id column=&quot;memberId&quot; property=&quot;id&quot;/&gt;\n  &lt;result column=&quot;memberName&quot; property=&quot;name&quot;/&gt;\n  &lt;collection property=&quot;clubRegistrations&quot; ofType=&quot;ClubRegistration&quot;&gt;\n    &lt;result column=&quot;register_Date&quot; property=&quot;date&quot; /&gt;\n    &lt;association property=&quot;club&quot; javaType=&quot;Club&quot;&gt;\n      &lt;id column=&quot;clubId&quot; property=&quot;id&quot;/&gt;\n      &lt;result column=&quot;clubName&quot; property=&quot;name&quot;/&gt;\n    &lt;/association&gt;\n  &lt;/collection&gt;\n&lt;/resultMap&gt;\n</code></pre>\n<p>Just swap Member/Club for the other case.</p>\n<p>You should then even reference resultMap instead of nest define:</p>\n<pre><code>&lt;association property=&quot;club&quot; resultMap=&quot;clubRM&quot; /&gt;\n</code></pre>\n<p>Although I've not checked it myself, <a href=\"https://stackoverflow.com/a/10667427/7076047\">the circular reference issue that would arise is managed bay MyBatis</a>.</p>\n"}],"owner":{"account_id":8803379,"reputation":51,"user_id":6578822,"display_name":"Jackson Lei"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2801,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1673536805,"creation_date":1486634731,"question_id":42133637,"body_markdown":"Member table:  \r\n\r\n    id int  \r\n    name varchar\r\n\r\n  \r\nClub table:  \r\n\r\n    id int  \r\n    name varchar\r\n\r\nMember and Club index table:  \r\n\r\n    member_id int  \r\n    club_id int  \r\n    register_date timestamp  \r\n\r\nIf I want to query a member by `id` with clubs and the register time of each club, how should I design the POJO. Should I map the index table to an entity which contains the references of member and club? Or there is better practice?","title":"Mybatis Many-to-Many best practice","body":"<p>Member table:</p>\n<pre><code>id int  \nname varchar\n</code></pre>\n<p>Club table:</p>\n<pre><code>id int  \nname varchar\n</code></pre>\n<p>Member and Club index table:</p>\n<pre><code>member_id int  \nclub_id int  \nregister_date timestamp  \n</code></pre>\n<p>If I want to query a member by <code>id</code> with clubs and the register time of each club, how should I design the POJO. Should I map the index table to an entity which contains the references of member and club? Or there is better practice?</p>\n"},{"tags":["java","apache-kafka","google-bigquery","google-cloud-dataflow"],"answers":[{"tags":[],"owner":{"account_id":541415,"reputation":1277,"user_id":1260237,"accept_rate":80,"display_name":"Jeff Klukas"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1673446700,"creation_date":1673446700,"answer_id":75084469,"question_id":75082257,"body_markdown":"Some of the advice in [Side Input Patterns](https://beam.apache.org/documentation/patterns/side-inputs/) in the Beam Programming Guide may be helpful here, even though you aren&#39;t using this as a side input. In particular, that article discusses using GenerateSequence to periodically emit a value and trigger a read from a bounded source.\r\n\r\nThis could allow your one time query to become a repeated query that periodically emits new records. It will be up to your query logic to determine what range of the table to scan on each query, though, and I expect it will be difficult to avoid emitting duplicate records. Hopefully your use case can tolerate that.\r\n\r\nEmitting into the global window would look like:\r\n\r\n```\r\n    PCollectionView&lt;Map&lt;String, String&gt;&gt; map =\r\n        p.apply(GenerateSequence.from(0).withRate(1, Duration.standardSeconds(5L)))\r\n            .apply(Window.into(FixedWindows.of(Duration.standardSeconds(5))))\r\n            .apply(Sum.longsGlobally().withoutDefaults())\r\n            .apply(\r\n                ParDo.of(\r\n                    new DoFn&lt;Long, Map&lt;String, String&gt;&gt;() {\r\n\r\n                      @ProcessElement\r\n                      public void process(\r\n                          @Element Long input,\r\n                          @Timestamp Instant timestamp,\r\n                          OutputReceiver&lt;Map&lt;String, String&gt;&gt; o) {\r\n                        // Read from BigQuery here and for each row output a record:                      o.output(PlaceholderExternalService.readTestData(timestamp)\r\n);\r\n                      }\r\n                    }))\r\n            .apply(\r\n                Window.&lt;Map&lt;String, String&gt;&gt;into(new GlobalWindows())\r\n                    .triggering(Repeatedly.forever(AfterProcessingTime.pastFirstElementInPane()))\r\n                    .discardingFiredPanes())\r\n            .apply(View.asSingleton());\r\n```\r\n\r\nThis assumes that the size of the query result is relatively small, since the read happens entirely within a DoFn invocation.","title":"GCP - Bigquery to Kafka as streaming","body":"<p>Some of the advice in <a href=\"https://beam.apache.org/documentation/patterns/side-inputs/\" rel=\"nofollow noreferrer\">Side Input Patterns</a> in the Beam Programming Guide may be helpful here, even though you aren't using this as a side input. In particular, that article discusses using GenerateSequence to periodically emit a value and trigger a read from a bounded source.</p>\n<p>This could allow your one time query to become a repeated query that periodically emits new records. It will be up to your query logic to determine what range of the table to scan on each query, though, and I expect it will be difficult to avoid emitting duplicate records. Hopefully your use case can tolerate that.</p>\n<p>Emitting into the global window would look like:</p>\n<pre><code>    PCollectionView&lt;Map&lt;String, String&gt;&gt; map =\n        p.apply(GenerateSequence.from(0).withRate(1, Duration.standardSeconds(5L)))\n            .apply(Window.into(FixedWindows.of(Duration.standardSeconds(5))))\n            .apply(Sum.longsGlobally().withoutDefaults())\n            .apply(\n                ParDo.of(\n                    new DoFn&lt;Long, Map&lt;String, String&gt;&gt;() {\n\n                      @ProcessElement\n                      public void process(\n                          @Element Long input,\n                          @Timestamp Instant timestamp,\n                          OutputReceiver&lt;Map&lt;String, String&gt;&gt; o) {\n                        // Read from BigQuery here and for each row output a record:                      o.output(PlaceholderExternalService.readTestData(timestamp)\n);\n                      }\n                    }))\n            .apply(\n                Window.&lt;Map&lt;String, String&gt;&gt;into(new GlobalWindows())\n                    .triggering(Repeatedly.forever(AfterProcessingTime.pastFirstElementInPane()))\n                    .discardingFiredPanes())\n            .apply(View.asSingleton());\n</code></pre>\n<p>This assumes that the size of the query result is relatively small, since the read happens entirely within a DoFn invocation.</p>\n"}],"owner":{"account_id":165736,"reputation":1675,"user_id":389428,"accept_rate":48,"display_name":"Rakesh Sabbani"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":220,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75084469,"answer_count":1,"score":0,"last_activity_date":1673536742,"creation_date":1673436211,"question_id":75082257,"body_markdown":"I have a dataflow application(java) which is  running in gcp and able to read the data from bigquery table and write to Kafka. But the application running as a batch mode, where as I would like make  application as stream to read the data continuously from bigquery table and write to kafka topic.\r\n\r\nBigquery Table: Partitioned table with insert_time ( timestamp of record inserted intable) and message column\r\n\r\n\r\n   \r\n\r\n     PCollection&lt;TableRow&gt; tablesRows = BigQueryUtil.readFromTable(pipeline,\r\n    &quot;select message,processed from `myprojectid.mydatasetname.mytablename` &quot; +\r\n                                &quot;where processed = false &quot; +\r\n                                &quot;order by insert_time desc &quot;)\r\n                                .apply(&quot;Windowing&quot;,Window.into(FixedWindows.of(Duration.standardMinutes(1))));\r\n    \r\n    .apply(&quot;Converting to writable message&quot;, ParDo.of(new ProcessRowDoFn()))\r\n        .apply(&quot;Writing Messages&quot;, KafkaIO.&lt;String, String&gt;write().\r\n                                withBootstrapServers(bootStrapURLs).\r\n                                withTopic(options.getKafkaInputTopics()).\r\n                                withKeySerializer(StringSerializer.class).\r\n                                withValueSerializer(StringSerializer.class).\r\n                                        withProducerFactoryFn(new ProducerFactoryFn(sslConfig, projected))\r\n                        );\r\n     pipeline.run();\r\n\r\n\r\nNote: I have tried below options but no luck yet\r\n\r\nOptions 1. I tried the options of options.streaming (true); its running as stream but it will finish on the first success write.\r\n\r\nOptions 2. Applied trigger \r\n\r\n    Window.into(\r\n                                FixedWindows.of(Duration.standardMinutes(5)))\r\n                        .triggering(\r\n                                AfterWatermark.pastEndOfWindow()\r\n                                        .withLateFirings(AfterPane.elementCountAtLeast(1)))\r\n                        .withAllowedLateness(Duration.standardDays(2))\r\n                        .accumulatingFiredPanes();\r\n\r\nOption 3. Making unbounded forcibly\r\n\r\n         WindowingStrategy&lt;?, ?&gt; windowingStrategy = tablesRows.setIsBoundedInternal(PCollection.IsBounded.UNBOUNDED).getWindowingStrategy();\r\n    .apply(&quot;Converting to writable message&quot;, ParDo.of(new ProcessRowDoFn())).setIsBoundedInternal(PCollection.IsBounded.UNBOUNDED)\r\n\r\n\r\n\r\nAny solution is appreciated. ","title":"GCP - Bigquery to Kafka as streaming","body":"<p>I have a dataflow application(java) which is  running in gcp and able to read the data from bigquery table and write to Kafka. But the application running as a batch mode, where as I would like make  application as stream to read the data continuously from bigquery table and write to kafka topic.</p>\n<p>Bigquery Table: Partitioned table with insert_time ( timestamp of record inserted intable) and message column</p>\n<pre><code> PCollection&lt;TableRow&gt; tablesRows = BigQueryUtil.readFromTable(pipeline,\n&quot;select message,processed from `myprojectid.mydatasetname.mytablename` &quot; +\n                            &quot;where processed = false &quot; +\n                            &quot;order by insert_time desc &quot;)\n                            .apply(&quot;Windowing&quot;,Window.into(FixedWindows.of(Duration.standardMinutes(1))));\n\n.apply(&quot;Converting to writable message&quot;, ParDo.of(new ProcessRowDoFn()))\n    .apply(&quot;Writing Messages&quot;, KafkaIO.&lt;String, String&gt;write().\n                            withBootstrapServers(bootStrapURLs).\n                            withTopic(options.getKafkaInputTopics()).\n                            withKeySerializer(StringSerializer.class).\n                            withValueSerializer(StringSerializer.class).\n                                    withProducerFactoryFn(new ProducerFactoryFn(sslConfig, projected))\n                    );\n pipeline.run();\n</code></pre>\n<p>Note: I have tried below options but no luck yet</p>\n<p>Options 1. I tried the options of options.streaming (true); its running as stream but it will finish on the first success write.</p>\n<p>Options 2. Applied trigger</p>\n<pre><code>Window.into(\n                            FixedWindows.of(Duration.standardMinutes(5)))\n                    .triggering(\n                            AfterWatermark.pastEndOfWindow()\n                                    .withLateFirings(AfterPane.elementCountAtLeast(1)))\n                    .withAllowedLateness(Duration.standardDays(2))\n                    .accumulatingFiredPanes();\n</code></pre>\n<p>Option 3. Making unbounded forcibly</p>\n<pre><code>     WindowingStrategy&lt;?, ?&gt; windowingStrategy = tablesRows.setIsBoundedInternal(PCollection.IsBounded.UNBOUNDED).getWindowingStrategy();\n.apply(&quot;Converting to writable message&quot;, ParDo.of(new ProcessRowDoFn())).setIsBoundedInternal(PCollection.IsBounded.UNBOUNDED)\n</code></pre>\n<p>Any solution is appreciated.</p>\n"},{"tags":["java","cloud","fix-protocol"],"comments":[{"owner":{"account_id":6398908,"reputation":3023,"user_id":4962355,"display_name":"Christoph John"},"score":0,"creation_date":1673532210,"post_id":75087331,"comment_id":132523929,"body_markdown":"You could either implement a NullLog or use a MemoryStore. If you are using QFJ.","body":"You could either implement a NullLog or use a MemoryStore. If you are using QFJ."},{"owner":{"account_id":9690916,"reputation":105,"user_id":7189021,"accept_rate":60,"display_name":"sr123"},"score":0,"creation_date":1673603574,"post_id":75087331,"comment_id":132541086,"body_markdown":"Thank you John, yes it&#39;s all good with MemoryStroe","body":"Thank you John, yes it&#39;s all good with MemoryStroe"}],"answers":[{"comments":[{"owner":{"account_id":9690916,"reputation":105,"user_id":7189021,"accept_rate":60,"display_name":"sr123"},"score":0,"creation_date":1673521012,"post_id":75089290,"comment_id":132520015,"body_markdown":"i need to avoid storeFactory while creating a quickFix session, means i don&#39;t want to store any files/folders because i&#39;m on read only. it&#39;s possible to avoid the logFactory but still blocked for the storeFactory","body":"i need to avoid storeFactory while creating a quickFix session, means i don&#39;t want to store any files/folders because i&#39;m on read only. it&#39;s possible to avoid the logFactory but still blocked for the storeFactory"}],"tags":[],"owner":{"account_id":8082,"reputation":1228,"user_id":14338,"display_name":"Andy Lynch"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673473331,"creation_date":1673473331,"answer_id":75089290,"question_id":75087331,"body_markdown":"This is really difficult to answer well without knowing which FIX engine you are using, but generally speaking, you might well be able to configure its logging facility to not write to a file, but instead to a database, socket, or whatever you want (for example by configuring [Appenders][1] in Log4J).  \r\n\r\nIf you happen to be using QuickFIX/J, it can be made to do this as documented at https://quickfixj.org/wiki/display/qfj/QuickFIXJ+Logging, since can be bound to Log4J (or many other) logging backends at deploy time.\r\n\r\n\r\n  [1]: https://logging.apache.org/log4j/2.x/manual/appenders.html","title":"How to avoid storeFactory for FIX messages using QuickFix","body":"<p>This is really difficult to answer well without knowing which FIX engine you are using, but generally speaking, you might well be able to configure its logging facility to not write to a file, but instead to a database, socket, or whatever you want (for example by configuring <a href=\"https://logging.apache.org/log4j/2.x/manual/appenders.html\" rel=\"nofollow noreferrer\">Appenders</a> in Log4J).</p>\n<p>If you happen to be using QuickFIX/J, it can be made to do this as documented at <a href=\"https://quickfixj.org/wiki/display/qfj/QuickFIXJ+Logging\" rel=\"nofollow noreferrer\">https://quickfixj.org/wiki/display/qfj/QuickFIXJ+Logging</a>, since can be bound to Log4J (or many other) logging backends at deploy time.</p>\n"},{"tags":[],"owner":{"account_id":327857,"reputation":18034,"user_id":650475,"accept_rate":96,"display_name":"Grant Birchmeier"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1673536613,"creation_date":1673536613,"answer_id":75098541,"question_id":75087331,"body_markdown":"All the QuickFIX ports have a MemoryStoreFactory, which is an entirely-in-memory store.  Just use that.","title":"How to avoid storeFactory for FIX messages using QuickFix","body":"<p>All the QuickFIX ports have a MemoryStoreFactory, which is an entirely-in-memory store.  Just use that.</p>\n"}],"owner":{"account_id":9690916,"reputation":105,"user_id":7189021,"accept_rate":60,"display_name":"sr123"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":125,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":75098541,"answer_count":2,"score":0,"last_activity_date":1673536613,"creation_date":1673460476,"question_id":75087331,"body_markdown":"is it possible to avoid the creation of MessageStoreFactory while creating a quickFix session i mean when I create the socket initiator instance ?\r\n\r\nAny solution please ?\r\n","title":"How to avoid storeFactory for FIX messages using QuickFix","body":"<p>is it possible to avoid the creation of MessageStoreFactory while creating a quickFix session i mean when I create the socket initiator instance ?</p>\n<p>Any solution please ?</p>\n"},{"tags":["java","mysql","web-applications","many-to-many","mybatis"],"answers":[{"tags":[],"owner":{"account_id":3078368,"reputation":1,"user_id":2607190,"display_name":"user2607190"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1388764300,"creation_date":1388764300,"answer_id":20907543,"question_id":20657566,"body_markdown":"Have a look at the Nested Resultmaps section in the doc. \r\n\r\nThat should be achieved with a result map like \r\n\r\n    &lt;resultMap id=&quot;xx&quot; type=&quot;map&quot;&gt; \r\n        &lt;association id=&quot;key1&quot; javaType=&quot;bean1&quot; /&gt; \r\n        &lt;collection id=&quot;key2&quot; ofType=&quot;bean2&quot; /&gt; \r\n    &lt;/resultMap&gt; ","title":"How to implement ManyToMany relationship in MyBatis?","body":"<p>Have a look at the Nested Resultmaps section in the doc. </p>\n\n<p>That should be achieved with a result map like </p>\n\n<pre><code>&lt;resultMap id=\"xx\" type=\"map\"&gt; \n    &lt;association id=\"key1\" javaType=\"bean1\" /&gt; \n    &lt;collection id=\"key2\" ofType=\"bean2\" /&gt; \n&lt;/resultMap&gt; \n</code></pre>\n"},{"comments":[{"owner":{"account_id":2003177,"reputation":16895,"user_id":1793718,"accept_rate":69,"display_name":"Lucky"},"score":1,"creation_date":1446271732,"post_id":21177246,"comment_id":54684916,"body_markdown":"Did you mean to link this https://github.com/eddumelendez/mybatis-spring/ repository? Your link has expired it seems.","body":"Did you mean to link this <a href=\"https://github.com/eddumelendez/mybatis-spring/\" rel=\"nofollow noreferrer\">github.com/eddumelendez/mybatis-spring</a> repository? Your link has expired it seems."}],"tags":[],"owner":{"account_id":2537085,"reputation":6205,"user_id":2203890,"display_name":"Edd&#250; Mel&#233;ndez"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1389928968,"creation_date":1389928968,"answer_id":21177246,"question_id":20657566,"body_markdown":"You can take a look in my [repository][1] There are an example.\r\n\r\n\r\n  [1]: https://github.com/eddumelendez/spring-dataaccess/tree/master/spring-dataaccess-mybatis","title":"How to implement ManyToMany relationship in MyBatis?","body":"<p>You can take a look in my <a href=\"https://github.com/eddumelendez/spring-dataaccess/tree/master/spring-dataaccess-mybatis\" rel=\"nofollow\">repository</a> There are an example.</p>\n"},{"tags":[],"owner":{"account_id":1289221,"reputation":464,"user_id":1241648,"accept_rate":33,"display_name":"君主不是你"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1673536593,"creation_date":1466529953,"answer_id":37950834,"question_id":20657566,"body_markdown":"\r\n## User story\r\n\r\nFirst, MyBatis generate model, mapper, and `mapper.xml` for you.\r\n\r\nNow, if you have two models -- User &amp; Role \\\r\nWhat&#39;s the relationship between User and Role?\r\n\r\n\r\nA user have many roles, and a role can be authorized to many users.\r\nSo they are `many-to-many` relationship.\r\n\r\n## How to implement?\r\n- add List&lt;Role&gt; roles to User model \r\n\r\n        private List&lt;Role&gt; roles = new ArrayList&lt;&gt;();\r\n\r\n\r\n- add List&lt;User&gt; users to Role model\r\n\r\n        private List&lt;User&gt; users = new ArrayList&lt;&gt;();\r\n\r\n\r\n- make a UserRoleMapper interface to add some methods\r\n        \r\n    &lt;!-- language: lang-java --&gt;\r\n\r\n        package com.jim.mapper;\r\n\r\n        import com.jim.model.Role;\r\n        import com.jim.model.User;\r\n\r\n        import java.util.List;\r\n\r\n        public interface UserRoleMapper {\r\n            int deleteRole(long userId, long roleId);\r\n            int addRole(long userId, long roleId);\r\n            List&lt;Role&gt; getRoles(long userId);\r\n            List&lt;User&gt; getUsers(long roleId);\r\n        }\r\n\r\n\r\n- add a xml to mapping SQL &amp; result.\r\n\r\n    &lt;!-- language: lang-xml --&gt;\r\n\r\n        &lt;resultMap id=&quot;UserResultMap&quot; type=&quot;com.jim.model.Role&quot;&gt;\r\n            &lt;id column=&quot;id&quot; jdbcType=&quot;INTEGER&quot; property=&quot;id&quot;/&gt;\r\n            &lt;result column=&quot;name&quot; jdbcType=&quot;VARCHAR&quot; property=&quot;name&quot;/&gt;\r\n            &lt;collection javaType=&quot;ArrayList&quot; property=&quot;users&quot; resultMap=&quot;RoleResultMap&quot; /&gt;\r\n        &lt;/resultMap&gt;\r\n\r\n        &lt;resultMap id=&quot;RoleResultMap&quot; type=&quot;com.jim.model.User&quot;&gt;\r\n            &lt;id column=&quot;id&quot; jdbcType=&quot;BIGINT&quot; property=&quot;id&quot;/&gt;\r\n            &lt;result column=&quot;username&quot; jdbcType=&quot;VARCHAR&quot; property=&quot;username&quot;/&gt;\r\n            &lt;collection javaType=&quot;ArrayList&quot; property=&quot;roles&quot; resultMap=&quot;UserResultMap&quot; /&gt;\r\n        &lt;/resultMap&gt;\r\n\r\n        &lt;insert id=&quot;addRole&quot;&gt;\r\n            INSERT INTO user_role (userId, roleId)\r\n            VALUES (#{userId, jdbcType=BIGINT}, #{roleId, jdbcType=BIGINT});\r\n        &lt;/insert&gt;\r\n        &lt;delete id=&quot;deleteRole&quot; &gt;\r\n            DELETE FROM user_role\r\n            WHERE 1=1\r\n            AND userId=#{userId}\r\n            AND roleId=#{roleId}\r\n        &lt;/delete&gt;\r\n\r\n        &lt;select id=&quot;getRoles&quot; resultMap=&quot;UserResultMap&quot;&gt;\r\n            SELECT\r\n            r.id AS id, r.name AS name\r\n            FROM users AS  u\r\n            LEFT JOIN user_role AS ur ON u.id = ur.userId\r\n            LEFT JOIN roles AS r ON r.id = ur.roleId\r\n            WHERE 1=1\r\n              AND u.id = #{id,jdbcType=BIGINT}\r\n              AND r.isActive = 1\r\n              AND u.isActive = 1\r\n        &lt;/select&gt;\r\n\r\n        &lt;select id=&quot;getUsers&quot; resultMap=&quot;RoleResultMap&quot;&gt;\r\n            SELECT\r\n            u.id AS id, u.username AS username\r\n            FROM roles AS  r\r\n            LEFT JOIN user_role AS ur ON r.id = ur.roleId\r\n            LEFT JOIN users AS u ON u.id = ur.userId\r\n            WHERE 1=1\r\n            AND r.id = #{id,jdbcType=BIGINT}\r\n            AND r.isActive = 1\r\n            AND u.isActive = 1\r\n        &lt;/select&gt;\r\n\r\n\r\n\r\n","title":"How to implement ManyToMany relationship in MyBatis?","body":"<h2>User story</h2>\n<p>First, MyBatis generate model, mapper, and <code>mapper.xml</code> for you.</p>\n<p>Now, if you have two models -- User &amp; Role <br />\nWhat's the relationship between User and Role?</p>\n<p>A user have many roles, and a role can be authorized to many users.\nSo they are <code>many-to-many</code> relationship.</p>\n<h2>How to implement?</h2>\n<ul>\n<li><p>add List roles to User model</p>\n<pre><code>  private List&lt;Role&gt; roles = new ArrayList&lt;&gt;();\n</code></pre>\n</li>\n<li><p>add List users to Role model</p>\n<pre><code>  private List&lt;User&gt; users = new ArrayList&lt;&gt;();\n</code></pre>\n</li>\n<li><p>make a UserRoleMapper interface to add some methods</p>\n  <pre class=\"lang-java prettyprint-override\"><code>  package com.jim.mapper;\n\n  import com.jim.model.Role;\n  import com.jim.model.User;\n\n  import java.util.List;\n\n  public interface UserRoleMapper {\n      int deleteRole(long userId, long roleId);\n      int addRole(long userId, long roleId);\n      List&lt;Role&gt; getRoles(long userId);\n      List&lt;User&gt; getUsers(long roleId);\n  }\n</code></pre>\n</li>\n<li><p>add a xml to mapping SQL &amp; result.</p>\n  <pre class=\"lang-xml prettyprint-override\"><code>  &lt;resultMap id=&quot;UserResultMap&quot; type=&quot;com.jim.model.Role&quot;&gt;\n      &lt;id column=&quot;id&quot; jdbcType=&quot;INTEGER&quot; property=&quot;id&quot;/&gt;\n      &lt;result column=&quot;name&quot; jdbcType=&quot;VARCHAR&quot; property=&quot;name&quot;/&gt;\n      &lt;collection javaType=&quot;ArrayList&quot; property=&quot;users&quot; resultMap=&quot;RoleResultMap&quot; /&gt;\n  &lt;/resultMap&gt;\n\n  &lt;resultMap id=&quot;RoleResultMap&quot; type=&quot;com.jim.model.User&quot;&gt;\n      &lt;id column=&quot;id&quot; jdbcType=&quot;BIGINT&quot; property=&quot;id&quot;/&gt;\n      &lt;result column=&quot;username&quot; jdbcType=&quot;VARCHAR&quot; property=&quot;username&quot;/&gt;\n      &lt;collection javaType=&quot;ArrayList&quot; property=&quot;roles&quot; resultMap=&quot;UserResultMap&quot; /&gt;\n  &lt;/resultMap&gt;\n\n  &lt;insert id=&quot;addRole&quot;&gt;\n      INSERT INTO user_role (userId, roleId)\n      VALUES (#{userId, jdbcType=BIGINT}, #{roleId, jdbcType=BIGINT});\n  &lt;/insert&gt;\n  &lt;delete id=&quot;deleteRole&quot; &gt;\n      DELETE FROM user_role\n      WHERE 1=1\n      AND userId=#{userId}\n      AND roleId=#{roleId}\n  &lt;/delete&gt;\n\n  &lt;select id=&quot;getRoles&quot; resultMap=&quot;UserResultMap&quot;&gt;\n      SELECT\n      r.id AS id, r.name AS name\n      FROM users AS  u\n      LEFT JOIN user_role AS ur ON u.id = ur.userId\n      LEFT JOIN roles AS r ON r.id = ur.roleId\n      WHERE 1=1\n        AND u.id = #{id,jdbcType=BIGINT}\n        AND r.isActive = 1\n        AND u.isActive = 1\n  &lt;/select&gt;\n\n  &lt;select id=&quot;getUsers&quot; resultMap=&quot;RoleResultMap&quot;&gt;\n      SELECT\n      u.id AS id, u.username AS username\n      FROM roles AS  r\n      LEFT JOIN user_role AS ur ON r.id = ur.roleId\n      LEFT JOIN users AS u ON u.id = ur.userId\n      WHERE 1=1\n      AND r.id = #{id,jdbcType=BIGINT}\n      AND r.isActive = 1\n      AND u.isActive = 1\n  &lt;/select&gt;\n</code></pre>\n</li>\n</ul>\n"}],"owner":{"account_id":462844,"reputation":129,"user_id":865376,"display_name":"Yichao"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9338,"favorite_count":0,"down_vote_count":1,"up_vote_count":5,"answer_count":3,"score":4,"last_activity_date":1673536593,"creation_date":1387367832,"question_id":20657566,"body_markdown":"I&#39;m recently learning to develop Web Applications using Java frameworks.  \r\n\r\nThe application is just a basic register/login/logout system. Guests can register an account and login as a `common user`. Besides `common user`, there&#39;re two other roles `super admin` and `admin`, with their respective permissions/previleges. \r\n\r\nAn `Account` could own several `Role`s simultaneously, and of course a `Role` can be applied to many `Account`s. And that forms a many-to-many(or n-to-to) relationship between `Account` and `Role`.\r\n\r\nI&#39;ve maintained three tables in my database:\r\n\r\n* First, the `ACCOUNT` table, which stores information of an account except the account&#39;s roles;\r\n* Second, the `ROLE` table, which stores information about how many `Role`s there are. Currently, there are only three, &quot;Superuser&quot;, &quot;Admin&quot; and &quot;Common User&quot;;\r\n* Third one, the `ACCOUNT_ROLE` table, which stores the mapping between `ACCOUNT` and `ROLE`.\r\n\r\nI can implement this using Hibernate&#39;s `@ManyToMany` and `@JoinTable` annotations, if I do so, **the third table can be automatically managed by Hibernate**. For example, when I create an `Account` of `Common User`, hibernate will help me add an entry which contains the `AccountId` and `RoleId` into the third table; and when I delete this `Account`, hibernate will help me drop the corresponding entry in the third table.\r\n\r\nAnd, the question is **How can I implement this many-to-many relationship in MyBatis?**\r\n\r\nI&#39;ve read some materials introducing how to set up `one-to-one` or `one-to-many` relationship in MyBatis. But it seems that MyBatis doesn&#39;t have the `many-to-many` relationship like Hibernate. So what am I gonna do?\r\n\r\nMy raw idea is *Manage The Third Table Manually*, which means:\r\n\r\n* I have to add entries to the third table manually, when I create a new account\r\n* I have to remove/update corresponding entries manually, when I delete/update an account\r\n\r\nSince I&#39;m not really that familiar with MyBatis, this way is the only idea I can come up with now.\r\n\r\nI hope someone could give me some tips or ideas or concrete samples about rounding off this problem.\r\n\r\n*PLUS*: I&#39;ve the demo application&#39;s code on [github](https://github.com/YigWoo/user-manage), in case you need to see how this demo goes.\r\nMany thanks!","title":"How to implement ManyToMany relationship in MyBatis?","body":"<p>I'm recently learning to develop Web Applications using Java frameworks.  </p>\n\n<p>The application is just a basic register/login/logout system. Guests can register an account and login as a <code>common user</code>. Besides <code>common user</code>, there're two other roles <code>super admin</code> and <code>admin</code>, with their respective permissions/previleges. </p>\n\n<p>An <code>Account</code> could own several <code>Role</code>s simultaneously, and of course a <code>Role</code> can be applied to many <code>Account</code>s. And that forms a many-to-many(or n-to-to) relationship between <code>Account</code> and <code>Role</code>.</p>\n\n<p>I've maintained three tables in my database:</p>\n\n<ul>\n<li>First, the <code>ACCOUNT</code> table, which stores information of an account except the account's roles;</li>\n<li>Second, the <code>ROLE</code> table, which stores information about how many <code>Role</code>s there are. Currently, there are only three, \"Superuser\", \"Admin\" and \"Common User\";</li>\n<li>Third one, the <code>ACCOUNT_ROLE</code> table, which stores the mapping between <code>ACCOUNT</code> and <code>ROLE</code>.</li>\n</ul>\n\n<p>I can implement this using Hibernate's <code>@ManyToMany</code> and <code>@JoinTable</code> annotations, if I do so, <strong>the third table can be automatically managed by Hibernate</strong>. For example, when I create an <code>Account</code> of <code>Common User</code>, hibernate will help me add an entry which contains the <code>AccountId</code> and <code>RoleId</code> into the third table; and when I delete this <code>Account</code>, hibernate will help me drop the corresponding entry in the third table.</p>\n\n<p>And, the question is <strong>How can I implement this many-to-many relationship in MyBatis?</strong></p>\n\n<p>I've read some materials introducing how to set up <code>one-to-one</code> or <code>one-to-many</code> relationship in MyBatis. But it seems that MyBatis doesn't have the <code>many-to-many</code> relationship like Hibernate. So what am I gonna do?</p>\n\n<p>My raw idea is <em>Manage The Third Table Manually</em>, which means:</p>\n\n<ul>\n<li>I have to add entries to the third table manually, when I create a new account</li>\n<li>I have to remove/update corresponding entries manually, when I delete/update an account</li>\n</ul>\n\n<p>Since I'm not really that familiar with MyBatis, this way is the only idea I can come up with now.</p>\n\n<p>I hope someone could give me some tips or ideas or concrete samples about rounding off this problem.</p>\n\n<p><em>PLUS</em>: I've the demo application's code on <a href=\"https://github.com/YigWoo/user-manage\" rel=\"nofollow\">github</a>, in case you need to see how this demo goes.\nMany thanks!</p>\n"},{"tags":["java","android","xml","android-studio","layout-inflater"],"answers":[{"comments":[{"owner":{"account_id":5282904,"reputation":18287,"user_id":4217682,"accept_rate":50,"display_name":"snachmsm"},"score":0,"creation_date":1673534188,"post_id":75097845,"comment_id":132524680,"body_markdown":"these are not same views, first one is temporary, not visible, second one, if not null (so added) will return some view from earlier inflated `R.layout` file, doen by `LayoutInflater` also, but by `Activity` itself under the hood. note `Fragment`s have some different API, more GUI-oriented, in there you should use inflater in `onCreateView`","body":"these are not same views, first one is temporary, not visible, second one, if not null (so added) will return some view from earlier inflated <code>R.layout</code> file, doen by <code>LayoutInflater</code> also, but by <code>Activity</code> itself under the hood. note <code>Fragment</code>s have some different API, more GUI-oriented, in there you should use inflater in <code>onCreateView</code>"},{"owner":{"account_id":5282904,"reputation":18287,"user_id":4217682,"accept_rate":50,"display_name":"snachmsm"},"score":0,"creation_date":1673534399,"post_id":75097845,"comment_id":132524771,"body_markdown":"just think about it like about XML parser: takes first line of text, ok its `LineatLayout`, so it creates `new LinearLayout(context)`, then next item in XML is `TextView` inside `LinearLayout` tag, so inflater creates `new TextView(context)`, sets its attributes from XML (probably every xml param has representation in code setting), and at the end `firstLinearLayout.addView(textView)`. at the end inflater returns built `View` which is probably an instance of `ViewGroup` - main holder of all your views in XML","body":"just think about it like about XML parser: takes first line of text, ok its <code>LineatLayout</code>, so it creates <code>new LinearLayout(context)</code>, then next item in XML is <code>TextView</code> inside <code>LinearLayout</code> tag, so inflater creates <code>new TextView(context)</code>, sets its attributes from XML (probably every xml param has representation in code setting), and at the end <code>firstLinearLayout.addView(textView)</code>. at the end inflater returns built <code>View</code> which is probably an instance of <code>ViewGroup</code> - main holder of all your views in XML"},{"owner":{"account_id":5282904,"reputation":18287,"user_id":4217682,"accept_rate":50,"display_name":"snachmsm"},"score":0,"creation_date":1673534509,"post_id":75097845,"comment_id":132524803,"body_markdown":"if you want to know what `new View(...)` does - thats creation of object, memory allocation etc. Note `new` is keyword of Java, thats &quot;feature&quot; of language (object creation, not every lang is object-oriented), not even Android-only. `findViewById` method of particular framework - Android - and is getting reference to obejct which was also created in similar way, but &quot;autmatically&quot; by inflater basing on given XML","body":"if you want to know what <code>new View(...)</code> does - thats creation of object, memory allocation etc. Note <code>new</code> is keyword of Java, thats &quot;feature&quot; of language (object creation, not every lang is object-oriented), not even Android-only. <code>findViewById</code> method of particular framework - Android - and is getting reference to obejct which was also created in similar way, but &quot;autmatically&quot; by inflater basing on given XML"},{"owner":{"account_id":5282904,"reputation":18287,"user_id":4217682,"accept_rate":50,"display_name":"snachmsm"},"score":0,"creation_date":1673534674,"post_id":75097845,"comment_id":132524861,"body_markdown":"thats not so kind to remove comments, mine are now out of topic...","body":"thats not so kind to remove comments, mine are now out of topic..."},{"owner":{"account_id":22324320,"reputation":13,"user_id":16546524,"display_name":"Osin94"},"score":0,"creation_date":1673534795,"post_id":75097845,"comment_id":132524908,"body_markdown":"Thumbs up for you, thanks.  I see lack of my knowledge in many terms you using. I will try to learn more about this term and maybe later i will understand this, for know i will be using this as a template :) Thanks again","body":"Thumbs up for you, thanks.  I see lack of my knowledge in many terms you using. I will try to learn more about this term and maybe later i will understand this, for know i will be using this as a template :) Thanks again"},{"owner":{"account_id":5282904,"reputation":18287,"user_id":4217682,"accept_rate":50,"display_name":"snachmsm"},"score":0,"creation_date":1673535088,"post_id":75097845,"comment_id":132525031,"body_markdown":"for now, at the begin of your Android journey, focus on `findViewById`, also get familiar with `Fragment`. further inspect `Compose`, thats pretty new way, XML-less. if you want to stick with XMLs read about &quot;layout binding&quot;, il will do even more work for you it that topic making `Activity` code cleaner","body":"for now, at the begin of your Android journey, focus on <code>findViewById</code>, also get familiar with <code>Fragment</code>. further inspect <code>Compose</code>, thats pretty new way, XML-less. if you want to stick with XMLs read about &quot;layout binding&quot;, il will do even more work for you it that topic making <code>Activity</code> code cleaner"},{"owner":{"account_id":5282904,"reputation":18287,"user_id":4217682,"accept_rate":50,"display_name":"snachmsm"},"score":0,"creation_date":1673535118,"post_id":75097845,"comment_id":132525042,"body_markdown":"if you found my answer and comments helpful then think about upvoting and/or accepting my answer :) good luck!","body":"if you found my answer and comments helpful then think about upvoting and/or accepting my answer :) good luck!"},{"owner":{"account_id":22324320,"reputation":13,"user_id":16546524,"display_name":"Osin94"},"score":0,"creation_date":1673535372,"post_id":75097845,"comment_id":132525154,"body_markdown":"I can&#39;t upvoting cous of lack reputation but I accept your anwser at least I can do this. Thanks again, best wishes.","body":"I can&#39;t upvoting cous of lack reputation but I accept your anwser at least I can do this. Thanks again, best wishes."}],"tags":[],"owner":{"account_id":5282904,"reputation":18287,"user_id":4217682,"accept_rate":50,"display_name":"snachmsm"},"comment_count":8,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1673536537,"creation_date":1673533728,"answer_id":75097845,"question_id":75097773,"body_markdown":"In simple words: `LayoutInflater` helps you to &quot;exchange&quot; layout written in XML to code, its kind of parser which take XML input and creates proper `View`s using `Context` (some simple way of `new View` object creation in first code line in your question).\r\n\r\n`Activity` does that under the hood giving us devs simple `setContentView` and `findViewById` methods, but you may also want to add some custom `View` defined in XML additionally (because some `if`) or doring runtime, then you can use `LayoutInflater` based on same `Context` which views already created/shown are using (e.g. `Activity` itself).\r\n\r\nNote that when you use `setContentView` then `LayoutInflater` will attach some XML-based `View`s to `Activity`, so further line\r\n\r\n    view = findViewById(R.id.textView)\r\n\r\nwill return reference to already inflated existing `View`, meanwhile\r\n\r\n    view = new View(context)\r\n\r\nis just creating some dummy `View` in memory using context, it isn&#39;t added to `Activity`, `Fragment`, any shown `ViewGroup`, thus is not even visible (and its not same `view` instance than one found with `findViewById`).","title":"LayoutInflater how excatly make the new View","body":"<p>In simple words: <code>LayoutInflater</code> helps you to &quot;exchange&quot; layout written in XML to code, its kind of parser which take XML input and creates proper <code>View</code>s using <code>Context</code> (some simple way of <code>new View</code> object creation in first code line in your question).</p>\n<p><code>Activity</code> does that under the hood giving us devs simple <code>setContentView</code> and <code>findViewById</code> methods, but you may also want to add some custom <code>View</code> defined in XML additionally (because some <code>if</code>) or doring runtime, then you can use <code>LayoutInflater</code> based on same <code>Context</code> which views already created/shown are using (e.g. <code>Activity</code> itself).</p>\n<p>Note that when you use <code>setContentView</code> then <code>LayoutInflater</code> will attach some XML-based <code>View</code>s to <code>Activity</code>, so further line</p>\n<pre><code>view = findViewById(R.id.textView)\n</code></pre>\n<p>will return reference to already inflated existing <code>View</code>, meanwhile</p>\n<pre><code>view = new View(context)\n</code></pre>\n<p>is just creating some dummy <code>View</code> in memory using context, it isn't added to <code>Activity</code>, <code>Fragment</code>, any shown <code>ViewGroup</code>, thus is not even visible (and its not same <code>view</code> instance than one found with <code>findViewById</code>).</p>\n"}],"owner":{"account_id":22324320,"reputation":13,"user_id":16546524,"display_name":"Osin94"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75097845,"answer_count":1,"score":0,"last_activity_date":1673536537,"creation_date":1673533405,"question_id":75097773,"body_markdown":"I&#39;ve read one of answers [here](https://stackoverflow.com/questions/3477422/what-does-layoutinflater-in-android-do), and I am still confused.\r\n\r\n&quot;&quot;When I first started Android programming, I was really confused by LayoutInflater and findViewById. Sometimes we used one and sometimes the other.\r\n\r\nLayoutInflater is used to create a new View (or Layout) object from one of your xml layouts.\r\n\r\nfindViewById just gives you a reference to a view than has already been created. You might think that you haven&#39;t created any views yet, but whenever you call setContentView in onCreate, the activity&#39;s layout along with its subviews gets inflated (created) behind the scenes.&quot;\r\n\r\nI think I understand so when LayoutInflater creat a new object View, why we can&#39;t just do this:\r\n\r\n`view = new View(context); `\r\n\r\n` view = findViewById(R.id.textView);`\r\n\r\nI missed something ? Thank you for anwsere.\r\n\r\nI tried to undestrand way of working LayOutInflater","title":"LayoutInflater how excatly make the new View","body":"<p>I've read one of answers <a href=\"https://stackoverflow.com/questions/3477422/what-does-layoutinflater-in-android-do\">here</a>, and I am still confused.</p>\n<p>&quot;&quot;When I first started Android programming, I was really confused by LayoutInflater and findViewById. Sometimes we used one and sometimes the other.</p>\n<p>LayoutInflater is used to create a new View (or Layout) object from one of your xml layouts.</p>\n<p>findViewById just gives you a reference to a view than has already been created. You might think that you haven't created any views yet, but whenever you call setContentView in onCreate, the activity's layout along with its subviews gets inflated (created) behind the scenes.&quot;</p>\n<p>I think I understand so when LayoutInflater creat a new object View, why we can't just do this:</p>\n<p><code>view = new View(context); </code></p>\n<p><code> view = findViewById(R.id.textView);</code></p>\n<p>I missed something ? Thank you for anwsere.</p>\n<p>I tried to undestrand way of working LayOutInflater</p>\n"},{"tags":["java","regex","internationalization"],"comments":[{"owner":{"account_id":4301442,"reputation":555,"user_id":3515080,"accept_rate":50,"display_name":"user3515080"},"score":0,"creation_date":1397046098,"post_id":22961593,"comment_id":35059803,"body_markdown":"boolean result = Pattern.matches(&quot;\\\\p{IsHangul}{10,20}&quot;, &quot;김인재&quot;);","body":"boolean result = Pattern.matches(&quot;\\\\p{IsHangul}{10,20}&quot;, &quot;김인재&quot;);"}],"answers":[{"comments":[{"owner":{"account_id":4301442,"reputation":555,"user_id":3515080,"accept_rate":50,"display_name":"user3515080"},"score":0,"creation_date":1397045841,"post_id":22961817,"comment_id":35059578,"body_markdown":"Thank You Mena, I believe that this should work and i tried this before coming to &quot;stack overflow&quot;, but it is not working. i will give you the sample cod.","body":"Thank You Mena, I believe that this should work and i tried this before coming to &quot;stack overflow&quot;, but it is not working. i will give you the sample cod."},{"owner":{"account_id":740820,"reputation":47963,"user_id":2353911,"accept_rate":100,"display_name":"Mena"},"score":0,"creation_date":1397045967,"post_id":22961817,"comment_id":35059694,"body_markdown":"@user3515080 You&#39;re welcome. Please post the sample code in your question. Will take a look. **Edit** your code implies some misunderstandings on how Java `Pattern`s and `Matcher`s work. I&#39;ve posted a working example for you in my answer.","body":"@user3515080 You&#39;re welcome. Please post the sample code in your question. Will take a look. <b>Edit</b> your code implies some misunderstandings on how Java <code>Pattern</code>s and <code>Matcher</code>s work. I&#39;ve posted a working example for you in my answer."},{"owner":{"account_id":4301442,"reputation":555,"user_id":3515080,"accept_rate":50,"display_name":"user3515080"},"score":0,"creation_date":1397046593,"post_id":22961817,"comment_id":35060156,"body_markdown":"Thank You Mena. Actually i am new to this validation with &quot;Pattern&quot; and &quot;Matcher&quot;, the way of my writing the code itself was wrong. Anyway thank you for the help.","body":"Thank You Mena. Actually i am new to this validation with &quot;Pattern&quot; and &quot;Matcher&quot;, the way of my writing the code itself was wrong. Anyway thank you for the help."},{"owner":{"account_id":4301442,"reputation":555,"user_id":3515080,"accept_rate":50,"display_name":"user3515080"},"score":0,"creation_date":1397489880,"post_id":22961817,"comment_id":35245057,"body_markdown":"Hi Mena, how are you ? I have another question, how to allow only numbers with range for &quot;Hangul&quot; ? Thanks in advance.","body":"Hi Mena, how are you ? I have another question, how to allow only numbers with range for &quot;Hangul&quot; ? Thanks in advance."},{"owner":{"account_id":740820,"reputation":47963,"user_id":2353911,"accept_rate":100,"display_name":"Mena"},"score":0,"creation_date":1397489954,"post_id":22961817,"comment_id":35245118,"body_markdown":"@user3515080 Hi, you should post a new question in that case. Good luck!","body":"@user3515080 Hi, you should post a new question in that case. Good luck!"},{"owner":{"account_id":5820168,"reputation":492,"user_id":4588511,"display_name":"NoHarmDan"},"score":0,"creation_date":1669378708,"post_id":22961817,"comment_id":131633892,"body_markdown":"Heads-up for anybody needing this on Android: this will crash on Android 9 and lower. I haven&#39;t found a working alternative yet.","body":"Heads-up for anybody needing this on Android: this will crash on Android 9 and lower. I haven&#39;t found a working alternative yet."},{"owner":{"account_id":740820,"reputation":47963,"user_id":2353911,"accept_rate":100,"display_name":"Mena"},"score":0,"creation_date":1669380118,"post_id":22961817,"comment_id":131634370,"body_markdown":"@NoHarmDan cannot verify this at this time but it sounds a little crazy that a simple Java pattern with a script crashes a whole Android application. Are you sure it&#39;s not something else?","body":"@NoHarmDan cannot verify this at this time but it sounds a little crazy that a simple Java pattern with a script crashes a whole Android application. Are you sure it&#39;s not something else?"},{"owner":{"account_id":5820168,"reputation":492,"user_id":4588511,"display_name":"NoHarmDan"},"score":0,"creation_date":1670835345,"post_id":22961817,"comment_id":131956765,"body_markdown":"@Mena 100% sure. I have several testing devices and it is confirmed that Android 9 does not have the same regex capabilities as 10 and newer.","body":"@Mena 100% sure. I have several testing devices and it is confirmed that Android 9 does not have the same regex capabilities as 10 and newer."},{"owner":{"account_id":740820,"reputation":47963,"user_id":2353911,"accept_rate":100,"display_name":"Mena"},"score":0,"creation_date":1670841914,"post_id":22961817,"comment_id":131958683,"body_markdown":"@NoHarmDan that is quite the find. Did you manage to dig out any official-looking documentation illustrating this capability gap? Maybe some ICU lib differences?","body":"@NoHarmDan that is quite the find. Did you manage to dig out any official-looking documentation illustrating this capability gap? Maybe some ICU lib differences?"},{"owner":{"account_id":5820168,"reputation":492,"user_id":4588511,"display_name":"NoHarmDan"},"score":1,"creation_date":1673534313,"post_id":22961817,"comment_id":132524737,"body_markdown":"@Mena the documentation does mention a change in the backend in Android 10, however I haven&#39;t had the time (or need, to be frank) to read it very thoroughly and didn&#39;t see anything related to this particular issue. See https://developer.android.com/reference/java/util/regex/Pattern#unicode-support","body":"@Mena the documentation does mention a change in the backend in Android 10, however I haven&#39;t had the time (or need, to be frank) to read it very thoroughly and didn&#39;t see anything related to this particular issue. See <a href=\"https://developer.android.com/reference/java/util/regex/Pattern#unicode-support\" rel=\"nofollow noreferrer\">developer.android.com/reference/java/util/regex/&hellip;</a>"},{"owner":{"account_id":740820,"reputation":47963,"user_id":2353911,"accept_rate":100,"display_name":"Mena"},"score":1,"creation_date":1673536184,"post_id":22961817,"comment_id":132525499,"body_markdown":"@NoHarmDan thanks, forgot to mention I was gravitating around that as well (hence the mention to ICU as a possible related element) but hard to tell 100% indeed within this specific context...","body":"@NoHarmDan thanks, forgot to mention I was gravitating around that as well (hence the mention to ICU as a possible related element) but hard to tell 100% indeed within this specific context..."}],"tags":[],"owner":{"account_id":740820,"reputation":47963,"user_id":2353911,"accept_rate":100,"display_name":"Mena"},"comment_count":11,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1673536490,"creation_date":1397044711,"answer_id":22961817,"question_id":22961593,"body_markdown":"You can reference a Unicode block or a script for that. \r\n\r\nHere&#39;s an example with a script:\r\n\r\n    Pattern p = Pattern.compile(&quot;\\\\p{IsHangul}&quot;);\r\n    Matcher m = p.matcher(&quot;김인재&quot;);\r\n    while (m.find()) {\r\n        System.out.println(&quot;Found: &quot; + m.group());\r\n    }\r\n\r\n**Output**\r\n\r\n    Found: 김\r\n    Found: 인\r\n    Found: 재\r\n\r\n**Notes**\r\n\r\n - For a reference on Unicode blocks, see [here][1].\r\n - For a reference on Korean machine characters see [here][2]. \r\n - To validate a range of numbers of characters, use: `Pattern p = Pattern.compile(&quot;\\\\p{IsHangul}{min,max}&quot;);` where `min` is your minimum size and `max` is your maximum size of Hangul characters.\r\n - The code you posted as a comment to your question will not work (although it will compile). Please find a reference on how to use Java `Pattern`s / `Matcher`s [here][3]. \r\n\r\n\r\n----------\r\n\r\n\r\n**Caveat** for legacy Android versions (9 or lower)\r\n- It seems this methodoogy will not work with Android &lt; 10 and may even crash the runtime. \r\n- Will not test or add an alternative here\r\n- The specific rationale may be buried somewhere [here][4] or in linked pages\r\n- Credits to [NoHarmDan][5] for the heads up\r\n\r\n\r\n  [1]: http://www.fileformat.info/info/unicode/block/index.htm\r\n  [2]: http://en.wikipedia.org/wiki/Korean_language_and_computers\r\n  [3]: http://docs.oracle.com/javase/7/docs/api/java/util/regex/Pattern.html\r\n  [4]: https://developer.android.com/reference/java/util/regex/Pattern#behavior-starting-from-api-level-10-android-2.3\r\n  [5]: https://stackoverflow.com/users/4588511/noharmdan","title":"How to validate &quot;Hangul-Korean&quot; text?","body":"<p>You can reference a Unicode block or a script for that.</p>\n<p>Here's an example with a script:</p>\n<pre><code>Pattern p = Pattern.compile(&quot;\\\\p{IsHangul}&quot;);\nMatcher m = p.matcher(&quot;김인재&quot;);\nwhile (m.find()) {\n    System.out.println(&quot;Found: &quot; + m.group());\n}\n</code></pre>\n<p><strong>Output</strong></p>\n<pre><code>Found: 김\nFound: 인\nFound: 재\n</code></pre>\n<p><strong>Notes</strong></p>\n<ul>\n<li>For a reference on Unicode blocks, see <a href=\"http://www.fileformat.info/info/unicode/block/index.htm\" rel=\"nofollow noreferrer\">here</a>.</li>\n<li>For a reference on Korean machine characters see <a href=\"http://en.wikipedia.org/wiki/Korean_language_and_computers\" rel=\"nofollow noreferrer\">here</a>.</li>\n<li>To validate a range of numbers of characters, use: <code>Pattern p = Pattern.compile(&quot;\\\\p{IsHangul}{min,max}&quot;);</code> where <code>min</code> is your minimum size and <code>max</code> is your maximum size of Hangul characters.</li>\n<li>The code you posted as a comment to your question will not work (although it will compile). Please find a reference on how to use Java <code>Pattern</code>s / <code>Matcher</code>s <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/regex/Pattern.html\" rel=\"nofollow noreferrer\">here</a>.</li>\n</ul>\n<hr />\n<p><strong>Caveat</strong> for legacy Android versions (9 or lower)</p>\n<ul>\n<li>It seems this methodoogy will not work with Android &lt; 10 and may even crash the runtime.</li>\n<li>Will not test or add an alternative here</li>\n<li>The specific rationale may be buried somewhere <a href=\"https://developer.android.com/reference/java/util/regex/Pattern#behavior-starting-from-api-level-10-android-2.3\" rel=\"nofollow noreferrer\">here</a> or in linked pages</li>\n<li>Credits to <a href=\"https://stackoverflow.com/users/4588511/noharmdan\">NoHarmDan</a> for the heads up</li>\n</ul>\n"}],"owner":{"account_id":4301442,"reputation":555,"user_id":3515080,"accept_rate":50,"display_name":"user3515080"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3721,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":22961817,"answer_count":1,"score":6,"last_activity_date":1673536490,"creation_date":1397044135,"question_id":22961593,"body_markdown":"I want to validate a &quot;Hangul-Korean&quot; text in java.\r\n\r\nI will be having the &quot;Korean&quot; text in the &quot;String&quot; and calling &quot;matches()&quot; i will be validating the string.\r\n\r\nThe regular expression is to test whether that text is &quot;Korean&quot; and that Korean string characters length is in some range like 10 to 20.\r\n\r\nI don&#39;t want to use any other third party solutions.\r\n\r\nThanks in advance.","title":"How to validate &quot;Hangul-Korean&quot; text?","body":"<p>I want to validate a \"Hangul-Korean\" text in java.</p>\n\n<p>I will be having the \"Korean\" text in the \"String\" and calling \"matches()\" i will be validating the string.</p>\n\n<p>The regular expression is to test whether that text is \"Korean\" and that Korean string characters length is in some range like 10 to 20.</p>\n\n<p>I don't want to use any other third party solutions.</p>\n\n<p>Thanks in advance.</p>\n"},{"tags":["java","elasticsearch","spring-data","spring-data-elasticsearch"],"answers":[{"tags":[],"owner":{"account_id":5534873,"reputation":18496,"user_id":4393565,"accept_rate":67,"display_name":"P.J.Meisch"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1673536227,"creation_date":1673536227,"answer_id":75098457,"question_id":75097890,"body_markdown":"When you add a new field to sort on, the mapping in Elasticsearch for the index needs to be updated, otherwise Elasticsearch what type this field has. Spring Data Elasticsearch repositories do not do an automatic update of the mapping.\r\n\r\nThe following is a way to check if the mapping of a class (in this example named `Foo`) needs an update:\r\n\r\n```java\r\nimport com.fasterxml.jackson.databind.ObjectMapper;\r\nimport org.slf4j.Logger;\r\nimport org.slf4j.LoggerFactory;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.data.elasticsearch.core.ElasticsearchOperations;\r\nimport org.springframework.data.elasticsearch.core.document.Document;\r\nimport org.springframework.stereotype.Component;\r\n\r\n/**\r\n * @author P.J. Meisch (pj.meisch@sothawo.com)\r\n */\r\n@Component\r\npublic class FooMappingValidator {\r\n\r\n\tprivate static final Logger LOGGER = LoggerFactory.getLogger(FooMappingValidator.class);\r\n\r\n\tprivate final ObjectMapper objectMapper = new ObjectMapper();\r\n\tprivate final ElasticsearchOperations operations;\r\n\r\n\tpublic FooMappingValidator(ElasticsearchOperations operations) {\r\n\t\tthis.operations = operations;\r\n\t}\r\n\r\n\t@Autowired\r\n\tpublic void checkFooMapping() {\r\n\r\n\t\tvar indexOperations = operations.indexOps(Foo.class);\r\n\r\n\t\tif (indexOperations.exists()) {\r\n\t\t\tLOGGER.info(&quot;checking if mapping for Foo changed&quot;);\r\n\r\n\t\t\tvar mappingFromEntity = indexOperations.createMapping();\r\n\t\t\tvar mappingFromEntityNode = objectMapper.valueToTree(mappingFromEntity);\r\n\t\t\tvar mappingFromIndexNode = objectMapper.valueToTree(indexOperations.getMapping());\r\n\r\n\t\t\tif (!mappingFromEntityNode.equals(mappingFromIndexNode)) {\r\n\t\t\t\tLOGGER.info(&quot;mapping for class Foo changed!&quot;);\r\n\t\t\t\tindexOperations.putMapping(mappingFromEntity);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n\r\n```","title":"How to sort on newly added field with spring-data elasticsearch?","body":"<p>When you add a new field to sort on, the mapping in Elasticsearch for the index needs to be updated, otherwise Elasticsearch what type this field has. Spring Data Elasticsearch repositories do not do an automatic update of the mapping.</p>\n<p>The following is a way to check if the mapping of a class (in this example named <code>Foo</code>) needs an update:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import com.fasterxml.jackson.databind.ObjectMapper;\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.data.elasticsearch.core.ElasticsearchOperations;\nimport org.springframework.data.elasticsearch.core.document.Document;\nimport org.springframework.stereotype.Component;\n\n/**\n * @author P.J. Meisch (pj.meisch@sothawo.com)\n */\n@Component\npublic class FooMappingValidator {\n\n    private static final Logger LOGGER = LoggerFactory.getLogger(FooMappingValidator.class);\n\n    private final ObjectMapper objectMapper = new ObjectMapper();\n    private final ElasticsearchOperations operations;\n\n    public FooMappingValidator(ElasticsearchOperations operations) {\n        this.operations = operations;\n    }\n\n    @Autowired\n    public void checkFooMapping() {\n\n        var indexOperations = operations.indexOps(Foo.class);\n\n        if (indexOperations.exists()) {\n            LOGGER.info(&quot;checking if mapping for Foo changed&quot;);\n\n            var mappingFromEntity = indexOperations.createMapping();\n            var mappingFromEntityNode = objectMapper.valueToTree(mappingFromEntity);\n            var mappingFromIndexNode = objectMapper.valueToTree(indexOperations.getMapping());\n\n            if (!mappingFromEntityNode.equals(mappingFromIndexNode)) {\n                LOGGER.info(&quot;mapping for class Foo changed!&quot;);\n                indexOperations.putMapping(mappingFromEntity);\n            }\n        }\n    }\n}\n\n</code></pre>\n"}],"owner":{"account_id":3344727,"reputation":2470,"user_id":2810099,"accept_rate":81,"display_name":"Marius Manastireanu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":96,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75098457,"answer_count":1,"score":0,"last_activity_date":1673536227,"creation_date":1673533894,"question_id":75097890,"body_markdown":"I&#39;m quite new to elasticsearch and spring-data combo.\r\n\r\nLet me give you some background. I started from this entity\r\n```java\r\n@Document(indexName = &quot;my-entity&quot;)\r\npublic class MyEntity {\r\n    @Id\r\n    private String id;\r\n    private String someField;\r\n}\r\n```\r\nA few of them got created and indexed. Later on, I added a new field to the entity. Now it looks like this:\r\n```java\r\n@Document(indexName = &quot;my-entity&quot;)\r\npublic class MyEntity {\r\n    @Id\r\n    private String id;\r\n    private String someField;\r\n    @Field(type = FieldType.Date, format = DateFormat.date_time)\r\n    private Date date;\r\n}\r\n```\r\nWhat I&#39;m trying to achieve is to **return all entities sorted by my new field** (which not all existing entities have).\r\n\r\nInitially I&#39;ve adjust my `Repository` and define something similar to `List&lt;MyEntity&gt; findAllByOrderByDate();`, but when I try to call it, I get the following exception:\r\n```\r\n&quot;No mapping found for [date] in order to sort on&quot;\r\n```\r\nI am aware that a possible solution would be to make use of `ignore_unmapped` option from elasticsearch, but my question is: **how do I achieve this with spring-data-elasticsearch?**\r\n\r\nOn the other hand, I&#39;m not fixed up on using the `Repository` approach - I&#39;m open for solutions.\r\n\r\nThank you! ","title":"How to sort on newly added field with spring-data elasticsearch?","body":"<p>I'm quite new to elasticsearch and spring-data combo.</p>\n<p>Let me give you some background. I started from this entity</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Document(indexName = &quot;my-entity&quot;)\npublic class MyEntity {\n    @Id\n    private String id;\n    private String someField;\n}\n</code></pre>\n<p>A few of them got created and indexed. Later on, I added a new field to the entity. Now it looks like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Document(indexName = &quot;my-entity&quot;)\npublic class MyEntity {\n    @Id\n    private String id;\n    private String someField;\n    @Field(type = FieldType.Date, format = DateFormat.date_time)\n    private Date date;\n}\n</code></pre>\n<p>What I'm trying to achieve is to <strong>return all entities sorted by my new field</strong> (which not all existing entities have).</p>\n<p>Initially I've adjust my <code>Repository</code> and define something similar to <code>List&lt;MyEntity&gt; findAllByOrderByDate();</code>, but when I try to call it, I get the following exception:</p>\n<pre><code>&quot;No mapping found for [date] in order to sort on&quot;\n</code></pre>\n<p>I am aware that a possible solution would be to make use of <code>ignore_unmapped</code> option from elasticsearch, but my question is: <strong>how do I achieve this with spring-data-elasticsearch?</strong></p>\n<p>On the other hand, I'm not fixed up on using the <code>Repository</code> approach - I'm open for solutions.</p>\n<p>Thank you!</p>\n"},{"tags":["java","dictionary","kotlin","functional-programming"],"comments":[{"owner":{"account_id":7291967,"reputation":57515,"user_id":5558072,"accept_rate":100,"display_name":"Youcef LAIDANI"},"score":0,"creation_date":1568220288,"post_id":57893492,"comment_id":102208492,"body_markdown":"can you please share an example of what you want to a sheave ?","body":"can you please share an example of what you want to a sheave ?"}],"answers":[{"comments":[{"owner":{"account_id":3463616,"reputation":2223,"user_id":2899885,"accept_rate":50,"display_name":"Cybran"},"score":0,"creation_date":1568241184,"post_id":57893786,"comment_id":102216014,"body_markdown":"Thank you for the immutability remark - the map in question may become large, hence I would like to avoid unnecessary copies. Ideally I am looking for a `compute()`-like solution, i.e. a single lambda to decide value replacement or removal","body":"Thank you for the immutability remark - the map in question may become large, hence I would like to avoid unnecessary copies. Ideally I am looking for a <code>compute()</code>-like solution, i.e. a single lambda to decide value replacement or removal"}],"tags":[],"owner":{"account_id":3197333,"reputation":4915,"user_id":2700239,"accept_rate":81,"display_name":"Fartab"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1673536189,"creation_date":1568221367,"answer_id":57893786,"question_id":57893492,"body_markdown":"In functional world, immutability is an essential principle. So in-place modifications are not convenient.\r\n\r\nBut if you prefer an in-place approach, possible options are `retainAll` or `removeAll` to filter items. For in-place replacement you need to iterate the collection. You can use `forEach` to do an in-place modification:\r\n\r\n    data class User(var name: String)\r\n    \r\n    val users = mutableListOf( User(&quot;John&quot;), User(&quot;Alice&quot;), User(&quot;Bob&quot;) )\r\n    users.run {\r\n        removeAll { it.name == &quot;Alice&quot; }\r\n        forEach { it.name =  &quot;Mr. ${it.name}&quot;}\r\n    } ","title":"Kotlin: Retain, replace or remove each map entry in-place","body":"<p>In functional world, immutability is an essential principle. So in-place modifications are not convenient.</p>\n<p>But if you prefer an in-place approach, possible options are <code>retainAll</code> or <code>removeAll</code> to filter items. For in-place replacement you need to iterate the collection. You can use <code>forEach</code> to do an in-place modification:</p>\n<pre><code>data class User(var name: String)\n\nval users = mutableListOf( User(&quot;John&quot;), User(&quot;Alice&quot;), User(&quot;Bob&quot;) )\nusers.run {\n    removeAll { it.name == &quot;Alice&quot; }\n    forEach { it.name =  &quot;Mr. ${it.name}&quot;}\n} \n</code></pre>\n"},{"comments":[{"owner":{"account_id":3463616,"reputation":2223,"user_id":2899885,"accept_rate":50,"display_name":"Cybran"},"score":0,"creation_date":1568240915,"post_id":57893844,"comment_id":102215949,"body_markdown":"While this neatly resembles `compute()`-like remapping, it does not perform the changes in-place - temporary collections will be created","body":"While this neatly resembles <code>compute()</code>-like remapping, it does not perform the changes in-place - temporary collections will be created"}],"tags":[],"owner":{"account_id":1298771,"reputation":8052,"user_id":1554633,"display_name":"Andrei Tanana"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1568221589,"creation_date":1568221589,"answer_id":57893844,"question_id":57893492,"body_markdown":"For example, you can write like this\r\n```\r\nfun main() {\r\n    val map = mapOf(\r\n        &quot;test1&quot; to 1,\r\n        &quot;test2&quot; to 2,\r\n        &quot;test3&quot; to 3\r\n    )\r\n    val resultMap = map.mapNotNull { (key, value) -&gt;\r\n        when (value) {\r\n            1 -&gt; null // remove\r\n            2 -&gt; key to 4 // replace\r\n            else -&gt; key to value // retain\r\n        }\r\n    }.toMap()\r\n    println(resultMap) // print {test2=4, test3=3}\r\n}\r\n```","title":"Kotlin: Retain, replace or remove each map entry in-place","body":"<p>For example, you can write like this</p>\n\n<pre><code>fun main() {\n    val map = mapOf(\n        \"test1\" to 1,\n        \"test2\" to 2,\n        \"test3\" to 3\n    )\n    val resultMap = map.mapNotNull { (key, value) -&gt;\n        when (value) {\n            1 -&gt; null // remove\n            2 -&gt; key to 4 // replace\n            else -&gt; key to value // retain\n        }\n    }.toMap()\n    println(resultMap) // print {test2=4, test3=3}\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3463616,"reputation":2223,"user_id":2899885,"accept_rate":50,"display_name":"Cybran"},"score":0,"creation_date":1568241024,"post_id":57894315,"comment_id":102215974,"body_markdown":"Unfortunately, this uses more than one lambda and does not perform the changes in-place","body":"Unfortunately, this uses more than one lambda and does not perform the changes in-place"}],"tags":[],"owner":{"account_id":2203408,"reputation":5012,"user_id":1947216,"display_name":"mentallurg"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1568223879,"creation_date":1568223879,"answer_id":57894315,"question_id":57893492,"body_markdown":"Here is an example how you can do all operations in a single expression:\r\n\r\n - Using `filter{}` we keep only elements that fit particular conditions, here: with a value &gt;= 200. The result of this filter is a new map.\r\n - Using map we transform a map from previous step into a new collection. When transforming, we change some values, some remain unchanged.\r\n - Using `toMap()` we transform the resulting collection into a new map.\r\n\r\n```Kotlin\r\nfun main(args: Array&lt;String&gt;) {\r\n\tval map = mutableMapOf&lt;String, Int&gt;()\r\n\r\n\tmap.put(&quot;a1&quot;, 101)\r\n\tmap.put(&quot;a2&quot;, 102)\r\n\r\n\tmap.put(&quot;b1&quot;, 201)\r\n\tmap.put(&quot;b2&quot;, 202)\r\n\r\n\tmap.put(&quot;c1&quot;, 301)\r\n\tmap.put(&quot;c2&quot;, 302)\r\n\r\n\tprintln(map)\r\n\r\n\tval result = map.filter { (key, value) -&gt; value &gt;= 200 }.\r\n\t\tmap { (key,value) -&gt; \r\n\t\t\t\tif (value &gt;= 300)\tPair(key, value * 100) \r\n\t\t\t\telse\t\t\t\tPair(key, value)\r\n\t}.toMap()\r\n\r\n\tprintln(result)\r\n}\r\n```","title":"Kotlin: Retain, replace or remove each map entry in-place","body":"<p>Here is an example how you can do all operations in a single expression:</p>\n\n<ul>\n<li>Using <code>filter{}</code> we keep only elements that fit particular conditions, here: with a value >= 200. The result of this filter is a new map.</li>\n<li>Using map we transform a map from previous step into a new collection. When transforming, we change some values, some remain unchanged.</li>\n<li>Using <code>toMap()</code> we transform the resulting collection into a new map.</li>\n</ul>\n\n<pre><code>fun main(args: Array&lt;String&gt;) {\n    val map = mutableMapOf&lt;String, Int&gt;()\n\n    map.put(\"a1\", 101)\n    map.put(\"a2\", 102)\n\n    map.put(\"b1\", 201)\n    map.put(\"b2\", 202)\n\n    map.put(\"c1\", 301)\n    map.put(\"c2\", 302)\n\n    println(map)\n\n    val result = map.filter { (key, value) -&gt; value &gt;= 200 }.\n        map { (key,value) -&gt; \n                if (value &gt;= 300)   Pair(key, value * 100) \n                else                Pair(key, value)\n    }.toMap()\n\n    println(result)\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2694626,"reputation":441,"user_id":2327045,"display_name":"Balaban Mario"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1613850377,"creation_date":1613850377,"answer_id":66295877,"question_id":57893492,"body_markdown":"This version is in place (similar to what would you write in java) but not with functional approach \r\n\r\n     val map: MutableMap&lt;String, Int&gt; = mutableMapOf(\r\n        (&quot;a&quot; to 1),\r\n        (&quot;b&quot; to 2),\r\n        (&quot;c&quot; to 3),\r\n    )\r\n\r\n    val mapIterator = map.iterator()\r\n    while (mapIterator.hasNext()) {\r\n        val mapEntry = mapIterator.next()\r\n\r\n        when (mapEntry.key) {\r\n            &quot;a&quot; -&gt; mapIterator.remove()\r\n            &quot;c&quot; -&gt; mapEntry.setValue(mapEntry.value * 2)\r\n            else -&gt; println(&quot;retain this  entry&quot;)\r\n        }\r\n    }","title":"Kotlin: Retain, replace or remove each map entry in-place","body":"<p>This version is in place (similar to what would you write in java) but not with functional approach</p>\n<pre><code> val map: MutableMap&lt;String, Int&gt; = mutableMapOf(\n    (&quot;a&quot; to 1),\n    (&quot;b&quot; to 2),\n    (&quot;c&quot; to 3),\n)\n\nval mapIterator = map.iterator()\nwhile (mapIterator.hasNext()) {\n    val mapEntry = mapIterator.next()\n\n    when (mapEntry.key) {\n        &quot;a&quot; -&gt; mapIterator.remove()\n        &quot;c&quot; -&gt; mapEntry.setValue(mapEntry.value * 2)\n        else -&gt; println(&quot;retain this  entry&quot;)\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":3463616,"reputation":2223,"user_id":2899885,"accept_rate":50,"display_name":"Cybran"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13410,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"answer_count":4,"score":11,"last_activity_date":1673536189,"creation_date":1568219942,"question_id":57893492,"body_markdown":"I have a mutable map (a `LinkedHashMap` to be specific) in Kotlin. For each map entry, I want to conditionally perform one of three actions:\r\n\r\n* Retain the entry as-is\r\n* Replace the entry&#39;s value\r\n* Remove the entry\r\n\r\nIn old Java, I would probably use an `Iterator` over the map&#39;s `entrySet()` for this purpose (using `Iterator.remove()` or `Entry.setValue()` accordingly). However, I wondered if there is a more elegant, functional approach present in Kotlin to do the same (i.e. apply a lambda to each entry in-place, similar to using `replaceAll()`, but with the ability to also remove entries).\r\n\r\n---\r\n\r\nIn Kotlin, the following combination of `replaceAll()` and `retainAll()` does the same thing:\r\n\r\n```\r\nval map = LinkedHashMap&lt;String,Int&gt;(mapOf(&quot;a&quot; to 1, &quot;b&quot; to 2, &quot;c&quot; to 3))\r\nmap.replaceAll { key, value -&gt;\r\n    if(key.startsWith(&quot;a&quot;)) {\r\n        value * 2\r\n    } else {\r\n        value\r\n    }\r\n}\r\nmap.entries.retainAll { entry -&gt;\r\n    entry.key.startsWith(&quot;a&quot;) || entry.key.startsWith(&quot;b&quot;)\r\n}\r\n```\r\n\r\nHowever, this iterates the map twice and requires splitting up the predicate/transformation. I would prefer a `compute()`-style all-in-one solution, just for all entries.","title":"Kotlin: Retain, replace or remove each map entry in-place","body":"<p>I have a mutable map (a <code>LinkedHashMap</code> to be specific) in Kotlin. For each map entry, I want to conditionally perform one of three actions:</p>\n\n<ul>\n<li>Retain the entry as-is</li>\n<li>Replace the entry's value</li>\n<li>Remove the entry</li>\n</ul>\n\n<p>In old Java, I would probably use an <code>Iterator</code> over the map's <code>entrySet()</code> for this purpose (using <code>Iterator.remove()</code> or <code>Entry.setValue()</code> accordingly). However, I wondered if there is a more elegant, functional approach present in Kotlin to do the same (i.e. apply a lambda to each entry in-place, similar to using <code>replaceAll()</code>, but with the ability to also remove entries).</p>\n\n<hr>\n\n<p>In Kotlin, the following combination of <code>replaceAll()</code> and <code>retainAll()</code> does the same thing:</p>\n\n<pre><code>val map = LinkedHashMap&lt;String,Int&gt;(mapOf(\"a\" to 1, \"b\" to 2, \"c\" to 3))\nmap.replaceAll { key, value -&gt;\n    if(key.startsWith(\"a\")) {\n        value * 2\n    } else {\n        value\n    }\n}\nmap.entries.retainAll { entry -&gt;\n    entry.key.startsWith(\"a\") || entry.key.startsWith(\"b\")\n}\n</code></pre>\n\n<p>However, this iterates the map twice and requires splitting up the predicate/transformation. I would prefer a <code>compute()</code>-style all-in-one solution, just for all entries.</p>\n"},{"tags":["java","android","android-studio","kotlin","android-api-levels"],"comments":[{"owner":{"account_id":1654563,"reputation":57569,"user_id":1524450,"display_name":"Michael"},"score":0,"creation_date":1673536425,"post_id":75084282,"comment_id":132525607,"body_markdown":"Read the section named **Invoke the domain verification process** further down on the page you linked to.","body":"Read the section named <b>Invoke the domain verification process</b> further down on the page you linked to."}],"owner":{"account_id":7675409,"reputation":81,"user_id":5816460,"display_name":"Akhileshwar Babu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1459,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":0,"score":6,"last_activity_date":1673536168,"creation_date":1673445803,"question_id":75084282,"body_markdown":" We recently migrated my apps target SDK to 33, from that app links are not working fine in emulator but not working in real device\r\n\r\nI googled about it and manually opted for web address in my device and links are working fine, but I cant ask app users to do that every time\r\n\r\nI have read android documentation \r\n\r\nhttps://developer.android.com/training/app-links/verify-android-applinks#manual-verification\r\n\r\nHere they mentioned process of manually verifying the domines for the Android above 12\r\n \r\nbut when I run **adb shell am compat enable 175408749 com.myapp.package**\r\n\r\nterminal is throwing message says \r\n\r\n*Cannot override 175408749 for com.modere.global because the app&#39;s targetSdk (33) is above the change&#39;s targetSdk threshold (30)*\r\n\r\nHow can I verify the domain please help me \r\n\r\n\r\n\r\n","title":"Android deep links are not working with target SDK 33","body":"<p>We recently migrated my apps target SDK to 33, from that app links are not working fine in emulator but not working in real device</p>\n<p>I googled about it and manually opted for web address in my device and links are working fine, but I cant ask app users to do that every time</p>\n<p>I have read android documentation</p>\n<p><a href=\"https://developer.android.com/training/app-links/verify-android-applinks#manual-verification\" rel=\"noreferrer\">https://developer.android.com/training/app-links/verify-android-applinks#manual-verification</a></p>\n<p>Here they mentioned process of manually verifying the domines for the Android above 12</p>\n<p>but when I run <strong>adb shell am compat enable 175408749 com.myapp.package</strong></p>\n<p>terminal is throwing message says</p>\n<p><em>Cannot override 175408749 for com.modere.global because the app's targetSdk (33) is above the change's targetSdk threshold (30)</em></p>\n<p>How can I verify the domain please help me</p>\n"},{"tags":["java","concurrency","azure-cosmosdb","etag"],"answers":[{"comments":[{"owner":{"account_id":23420673,"reputation":112,"user_id":17480941,"display_name":"Gokul G.K"},"score":0,"creation_date":1673538273,"post_id":75098437,"comment_id":132526322,"body_markdown":"I also have the exact implementation and is functional when we do the concurrent replacement over an existing document. But the issue is when there is a simultaneous write and there is no existing document.","body":"I also have the exact implementation and is functional when we do the concurrent replacement over an existing document. But the issue is when there is a simultaneous write and there is no existing document."},{"owner":{"account_id":7092116,"reputation":14335,"user_id":5641598,"accept_rate":50,"display_name":"Matias Quaranta"},"score":0,"creation_date":1673538913,"post_id":75098437,"comment_id":132526563,"body_markdown":"Can you explain what is a &quot;write&quot;? Is it a Create or Upsert?","body":"Can you explain what is a &quot;write&quot;? Is it a Create or Upsert?"},{"owner":{"account_id":23420673,"reputation":112,"user_id":17480941,"display_name":"Gokul G.K"},"score":0,"creation_date":1673540257,"post_id":75098437,"comment_id":132527112,"body_markdown":"It&#39;s an upsert.","body":"It&#39;s an upsert."},{"owner":{"account_id":7092116,"reputation":14335,"user_id":5641598,"accept_rate":50,"display_name":"Matias Quaranta"},"score":0,"creation_date":1673544145,"post_id":75098437,"comment_id":132528469,"body_markdown":"Upsert by definition is create or replace. You mentioned you are &quot;keeping etag in the request option&quot;, where are you getting the ETag from before the Upsert?","body":"Upsert by definition is create or replace. You mentioned you are &quot;keeping etag in the request option&quot;, where are you getting the ETag from before the Upsert?"},{"owner":{"account_id":23420673,"reputation":112,"user_id":17480941,"display_name":"Gokul G.K"},"score":0,"creation_date":1673545462,"post_id":75098437,"comment_id":132528887,"body_markdown":"We are reading it from the cosmos, the issue is when the system tries to do two cosmos write (create) simultaneously with the same primary and part key.","body":"We are reading it from the cosmos, the issue is when the system tries to do two cosmos write (create) simultaneously with the same primary and part key."},{"owner":{"account_id":7092116,"reputation":14335,"user_id":5641598,"accept_rate":50,"display_name":"Matias Quaranta"},"score":1,"creation_date":1673561638,"post_id":75098437,"comment_id":132533595,"body_markdown":"But if you are reading it, then the document exists, instead of an Upsert, do a Replace with the 412 flow? If you are not reading it (no Etag), do a create? A create cannot have an ETag because the document does not exist, if you have 2 concurrent Creates then 1 will fail with a HTTP 409.","body":"But if you are reading it, then the document exists, instead of an Upsert, do a Replace with the 412 flow? If you are not reading it (no Etag), do a create? A create cannot have an ETag because the document does not exist, if you have 2 concurrent Creates then 1 will fail with a HTTP 409."}],"tags":[],"owner":{"account_id":7092116,"reputation":14335,"user_id":5641598,"accept_rate":50,"display_name":"Matias Quaranta"},"comment_count":6,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1673536144,"creation_date":1673536144,"answer_id":75098437,"question_id":75098288,"body_markdown":"Based on your description it looks like you are executing concurrent Replaces over existing documents.\r\n\r\nThe best way to avoid the scenario where a second concurrent Replace removed the data added by the first is to use [Optimistic Concurrency](https://learn.microsoft.com/azure/cosmos-db/nosql/database-transactions-optimistic-concurrency#optimistic-concurrency-control).\r\n\r\nIn a nutshell:\r\n\r\n1. Read the document you want to update.\r\n2. From the response, you obtain the ETag.\r\n3. Apply modification locally and send the Replace operation with the IfMatchETag option.\r\n4. If there was a concurrent Replace operation, you will get an HTTP 412 response.\r\n5. Repeat 1-4 until you get a success response.\r\n\r\n\r\nFull example from the Java SDK (assuing Java because your question is tagged so) repo: https://github.com/Azure-Samples/azure-cosmos-java-sql-api-samples/blob/0ead4ca33dac72c223285e1db866c9dc06f5fb47/src/main/java/com/azure/cosmos/examples/documentcrud/async/DocumentCRUDQuickstartAsync.java#L405","title":"Simultaneous Cosmos document creation","body":"<p>Based on your description it looks like you are executing concurrent Replaces over existing documents.</p>\n<p>The best way to avoid the scenario where a second concurrent Replace removed the data added by the first is to use <a href=\"https://learn.microsoft.com/azure/cosmos-db/nosql/database-transactions-optimistic-concurrency#optimistic-concurrency-control\" rel=\"nofollow noreferrer\">Optimistic Concurrency</a>.</p>\n<p>In a nutshell:</p>\n<ol>\n<li>Read the document you want to update.</li>\n<li>From the response, you obtain the ETag.</li>\n<li>Apply modification locally and send the Replace operation with the IfMatchETag option.</li>\n<li>If there was a concurrent Replace operation, you will get an HTTP 412 response.</li>\n<li>Repeat 1-4 until you get a success response.</li>\n</ol>\n<p>Full example from the Java SDK (assuing Java because your question is tagged so) repo: <a href=\"https://github.com/Azure-Samples/azure-cosmos-java-sql-api-samples/blob/0ead4ca33dac72c223285e1db866c9dc06f5fb47/src/main/java/com/azure/cosmos/examples/documentcrud/async/DocumentCRUDQuickstartAsync.java#L405\" rel=\"nofollow noreferrer\">https://github.com/Azure-Samples/azure-cosmos-java-sql-api-samples/blob/0ead4ca33dac72c223285e1db866c9dc06f5fb47/src/main/java/com/azure/cosmos/examples/documentcrud/async/DocumentCRUDQuickstartAsync.java#L405</a></p>\n"}],"owner":{"account_id":23420673,"reputation":112,"user_id":17480941,"display_name":"Gokul G.K"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":276,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75098437,"answer_count":1,"score":1,"last_activity_date":1673536144,"creation_date":1673535545,"question_id":75098288,"body_markdown":"I am getting a race condition when trying to update (here creating the document for the first time) to Cosmos with the same primary key and part key simultaneously, and as a result, I am losing one of the updates.\r\nThe business logic is to update the document if it already exists and create it if it does not exist, but losing some data if two creations occur at the same timestamp. I know we can achieve concurrency using eTag, but here the issue happens only for the first update or creation of a document.\r\n\r\n For example, consider the following models: \r\n`{ &quot;id&quot;: 1, &quot;pkey&quot;: 2, &quot;value&quot;: [&quot;first text&quot;]}  \r\n`\r\nand \r\n\r\n`{ &quot;id&quot;: 1, &quot;pkey&quot;: 2, &quot;value&quot;: [&quot;second text&quot;]}  \r\n`\r\n I have some internal business logic to update and append the value array.\r\n`{ &quot;id&quot;: 1, &quot;pkey&quot;: 2, &quot;value&quot;: [&quot;first text,&quot; &quot;second text,&quot;] }  \r\n`\r\nBut I lose one value when cosmos creation occurs simultaneously. \r\nPlease feel free to correct the question if any errors are found.\r\n\r\nPlease help if anyone has faced a similar issue. tried keeping etag in the request option, but the issue still persists.","title":"Simultaneous Cosmos document creation","body":"<p>I am getting a race condition when trying to update (here creating the document for the first time) to Cosmos with the same primary key and part key simultaneously, and as a result, I am losing one of the updates.\nThe business logic is to update the document if it already exists and create it if it does not exist, but losing some data if two creations occur at the same timestamp. I know we can achieve concurrency using eTag, but here the issue happens only for the first update or creation of a document.</p>\n<p>For example, consider the following models:\n<code>{ &quot;id&quot;: 1, &quot;pkey&quot;: 2, &quot;value&quot;: [&quot;first text&quot;]}   </code>\nand</p>\n<p><code>{ &quot;id&quot;: 1, &quot;pkey&quot;: 2, &quot;value&quot;: [&quot;second text&quot;]}   </code>\nI have some internal business logic to update and append the value array.\n<code>{ &quot;id&quot;: 1, &quot;pkey&quot;: 2, &quot;value&quot;: [&quot;first text,&quot; &quot;second text,&quot;] }   </code>\nBut I lose one value when cosmos creation occurs simultaneously.\nPlease feel free to correct the question if any errors are found.</p>\n<p>Please help if anyone has faced a similar issue. tried keeping etag in the request option, but the issue still persists.</p>\n"},{"tags":["java","spring-boot","rabbitmq"],"owner":{"account_id":5704335,"reputation":257,"user_id":4508409,"accept_rate":65,"display_name":"Kavi Chinna"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":187,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673536141,"creation_date":1673536141,"question_id":75098436,"body_markdown":"I&#39;m trying to consume all the messages from RabbitMQ queue, that queue contains N number of messages, I just want to read all the messages in my java code.\r\n\r\nThe below Approach I&#39;m trying in my Project\r\n\r\nI have defined the RabbitMQ configuration in my application.properties file, I didn&#39;t show it here\r\n\r\nThe below class is already exists in my my project\r\n\r\n    import org.springframework.amqp.core.Queue;\r\n    import org.springframework.amqp.rabbit.annotation.EnableRabbit;\r\n    import org.springframework.amqp.rabbit.connection.ConnectionFactory;\r\n    import org.springframework.amqp.rabbit.core.*;\r\n    import org.springframework.amqp.rabbit.transaction.RabbitTransactionManager;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.boot.autoconfigure.condition.ConditionalOnClass;\r\n    import org.springframework.context.annotation.*;\r\n    \r\n    @Configuration\r\n    @ConditionalOnClass(EnableRabbit.class)\r\n    public class RabbitConfiguration {\r\n        @Autowired\r\n        private ConnectionFactory connectionFactory;\r\n        @Bean\r\n        public RabbitTransactionManager rabbitTransactionManager() {\r\n            return new RabbitTransactionManager(connectionFactory);\r\n        }\r\n        @Bean\r\n        public RabbitAdmin rabbitAdmin() {\r\n            return new RabbitAdmin(connectionFactory);\r\n        }\r\n    }\r\n\r\nIn my another class, I have implemented the below method to read all messages from that queue\r\n\r\n    @Autowired\r\n    private RabbitAdmin rabbitAdmin;\r\n    \r\n    private void getMessages() {\r\n            int messageCount = rabbitAdmin.getQueueInfo(&quot;test_queue&quot;).getMessageCount();\r\n            if(messageCount &gt; 0) {\r\n                System.out.println(&quot;Message Count :::: &quot; + messageCount);\r\n            }\r\n        }\r\n\r\nUsing this rabbitAdmin I can able to get the messages count, but how to read the actual messages? Is there any possibility available to read all the messages. I searched lot, but I couldn&#39;t find the solution\r\n\r\nPlease help me to resolve this. Thanks","title":"How to consume all the messages from RabbitMQ queue","body":"<p>I'm trying to consume all the messages from RabbitMQ queue, that queue contains N number of messages, I just want to read all the messages in my java code.</p>\n<p>The below Approach I'm trying in my Project</p>\n<p>I have defined the RabbitMQ configuration in my application.properties file, I didn't show it here</p>\n<p>The below class is already exists in my my project</p>\n<pre><code>import org.springframework.amqp.core.Queue;\nimport org.springframework.amqp.rabbit.annotation.EnableRabbit;\nimport org.springframework.amqp.rabbit.connection.ConnectionFactory;\nimport org.springframework.amqp.rabbit.core.*;\nimport org.springframework.amqp.rabbit.transaction.RabbitTransactionManager;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.autoconfigure.condition.ConditionalOnClass;\nimport org.springframework.context.annotation.*;\n\n@Configuration\n@ConditionalOnClass(EnableRabbit.class)\npublic class RabbitConfiguration {\n    @Autowired\n    private ConnectionFactory connectionFactory;\n    @Bean\n    public RabbitTransactionManager rabbitTransactionManager() {\n        return new RabbitTransactionManager(connectionFactory);\n    }\n    @Bean\n    public RabbitAdmin rabbitAdmin() {\n        return new RabbitAdmin(connectionFactory);\n    }\n}\n</code></pre>\n<p>In my another class, I have implemented the below method to read all messages from that queue</p>\n<pre><code>@Autowired\nprivate RabbitAdmin rabbitAdmin;\n\nprivate void getMessages() {\n        int messageCount = rabbitAdmin.getQueueInfo(&quot;test_queue&quot;).getMessageCount();\n        if(messageCount &gt; 0) {\n            System.out.println(&quot;Message Count :::: &quot; + messageCount);\n        }\n    }\n</code></pre>\n<p>Using this rabbitAdmin I can able to get the messages count, but how to read the actual messages? Is there any possibility available to read all the messages. I searched lot, but I couldn't find the solution</p>\n<p>Please help me to resolve this. Thanks</p>\n"},{"tags":["java","apache-kafka","azure-eventhub"],"comments":[{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1673536029,"post_id":75087092,"comment_id":132525432,"body_markdown":"If you&#39;ve followed event hubs documentation, I suggest contacting their support","body":"If you&#39;ve followed event hubs documentation, I suggest contacting their support"}],"owner":{"account_id":214551,"reputation":4879,"user_id":468587,"accept_rate":49,"display_name":"user468587"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":261,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1673535968,"creation_date":1673459177,"question_id":75087092,"body_markdown":"i&#39;m trying the azure-event-hubs-for-kafka quickstart java samples, and cannot get producer working, error message:\r\n\r\n    [Producer clientId=KafkaExampleProducer] Connection with &lt;my_EH_namespace&gt;.servicebus.windows.net/191.1.129.16 disconnected\r\n    java.io.EOFException: EOF during handshake, handshake status is NEED_UNWRAP\r\n    \tat org.apache.kafka.common.network.SslTransportLayer.handshakeUnwrap(SslTransportLayer.java:525)\r\n    \tat org.apache.kafka.common.network.SslTransportLayer.doHandshake(SslTransportLayer.java:368)\r\n    \tat org.apache.kafka.common.network.SslTransportLayer.handshake(SslTransportLayer.java:291)\r\n    \tat org.apache.kafka.common.network.KafkaChannel.prepare(KafkaChannel.java:178)\r\n    \tat org.apache.kafka.common.network.Selector.pollSelectionKeys(Selector.java:543)\r\n    \tat org.apache.kafka.common.network.Selector.poll(Selector.java:481)\r\n    \tat org.apache.kafka.clients.NetworkClient.poll(NetworkClient.java:551)\r\n    \tat org.apache.kafka.clients.NetworkClientUtils.awaitReady(NetworkClientUtils.java:74)\r\n    \tat org.apache.kafka.clients.producer.internals.Sender.awaitNodeReady(Sender.java:526)\r\n    \tat org.apache.kafka.clients.producer.internals.Sender.maybeSendAndPollTransactionalRequest(Sender.java:447)\r\n    \tat org.apache.kafka.clients.producer.internals.Sender.runOnce(Sender.java:316)\r\n    \tat org.apache.kafka.clients.producer.internals.Sender.run(Sender.java:243)\r\n    \tat java.base/java.lang.Thread.run(Thread.java:833)\r\n    2023-01-11 09:06:34 DEBUG SslTransportLayer:198 - [SslTransportLayer channelId=-1 key=channel=java.nio.channels.SocketChannel[connection-pending remote=&lt;my_EH_namespace&gt;.servicebus.windows.net/191.1.129.16:9093], selector=sun.nio.ch.KQueueSelectorImpl@5603a6ad, interestOps=8, readyOps=0] Failed to send SSL Close message\r\n\r\nhere is my producer.config:\r\n\r\n    bootstrap.servers=&lt;my_EH_namespace_here&gt;.servicebus.windows.net:9093\r\n    security.protocol=SASL_SSL\r\n    sasl.mechanism=PLAIN\r\n    sasl.jaas.config=org.apache.kafka.common.security.plain.PlainLoginModule required username=&quot;$ConnectionString&quot; password=&quot;Endpoint=sb://&lt;my_EH_namespace_here&gt;.servicebus.windows.net/;SharedAccessKeyName=xxxxxx;SharedAccessKey=xxxxxx&quot;;\r\n\r\napache kafka-clients: 3.0.1\r\n\r\nhere is the log from the run:\r\n\r\n    2023-01-11 09:05:49 INFO  KafkaProducer:532 - [Producer clientId=KafkaExampleProducer] Instantiated an idempotent producer.\r\n    2023-01-11 09:05:49 INFO  AbstractLogin:61 - Successfully logged in.\r\n    2023-01-11 09:05:49 DEBUG DefaultSslEngineFactory:264 - Created SSL context with keystore null, truststore null, provider SunJSSE.\r\n    2023-01-11 09:05:49 DEBUG Sender:238 - [Producer clientId=KafkaExampleProducer] Starting Kafka producer I/O thread.\r\n    2023-01-11 09:05:49 DEBUG TransactionManager:1091 - [Producer clientId=KafkaExampleProducer] Transition from state UNINITIALIZED to INITIALIZING\r\n    2023-01-11 09:05:49 INFO  AppInfoParser:119 - Kafka version: 3.0.1\r\n    2023-01-11 09:05:49 INFO  AppInfoParser:120 - Kafka commitId: 8e30984f43e64d8b\r\n    2023-01-11 09:05:49 INFO  AppInfoParser:121 - Kafka startTimeMs: 1673456749806\r\n    2023-01-11 09:05:49 DEBUG KafkaProducer:434 - [Producer clientId=KafkaExampleProducer] Kafka producer started\r\n    2023-01-11 09:05:49 DEBUG TransactionManager:1129 - [Producer clientId=KafkaExampleProducer] Enqueuing transactional request InitProducerIdRequestData(transactionalId=null, transactionTimeoutMs=2147483647, producerId=-1, producerEpoch=-1)\r\n    2023-01-11 09:05:49 DEBUG NetworkClient:1151 - [Producer clientId=KafkaExampleProducer] Initialize connection to node &lt;my_EH_namespace&gt;.servicebus.windows.net:9093 (id: -1 rack: null) for sending metadata request\r\n    2023-01-11 09:05:49 DEBUG ClientUtils:113 - Resolved host &lt;my_EH_namespace&gt;.servicebus.windows.net as 191.1.129.16\r\n    2023-01-11 09:05:49 DEBUG NetworkClient:980 - [Producer clientId=KafkaExampleProducer] Initiating connection to node &lt;my_EH_namespace&gt;.servicebus.windows.net:9093 (id: -1 rack: null) using address &lt;my_EH_namespace&gt;.servicebus.windows.net/191.1.129.16\r\n    2023-01-11 09:05:49 DEBUG SaslClientAuthenticator:411 - [Producer clientId=KafkaExampleProducer] Set SASL client state to SEND_APIVERSIONS_REQUEST\r\n    2023-01-11 09:05:49 DEBUG SaslClientAuthenticator:217 - [Producer clientId=KafkaExampleProducer] Creating SaslClient: client=null;service=kafka;serviceHostname=&lt;my_EH_namespace&gt;.servicebus.windows.net;mechs=[PLAIN]\r\n    2023-01-11 09:05:49 DEBUG Selector:531 - [Producer clientId=KafkaExampleProducer] Created socket with SO_RCVBUF = 32768, SO_SNDBUF = 131072, SO_TIMEOUT = 0 to node -1\r\n    2023-01-11 09:05:49 DEBUG NetworkClient:942 - [Producer clientId=KafkaExampleProducer] Completed connection to node -1. Fetching API versions.\r\n    Test Data #0 from thread #20\r\n    2023-01-11 09:05:59 DEBUG SslTransportLayer:198 - [SslTransportLayer channelId=-1 key=channel=java.nio.channels.SocketChannel[connection-pending remote=&lt;my_EH_namespace&gt;.servicebus.windows.net/191.1.129.16:9093], selector=sun.nio.ch.KQueueSelectorImpl@5603a6ad, interestOps=8, readyOps=0] Failed to send SSL Close message\r\n    java.io.IOException: Unexpected status returned by SSLEngine.wrap, expected CLOSED, received OK. Will not send close message to peer.\r\n    \tat org.apache.kafka.common.network.SslTransportLayer.close(SslTransportLayer.java:192)\r\n    \tat org.apache.kafka.common.utils.Utils.closeAll(Utils.java:972)\r\n    \tat org.apache.kafka.common.network.KafkaChannel.close(KafkaChannel.java:155)\r\n    \tat org.apache.kafka.common.network.Selector.doClose(Selector.java:955)\r\n    \tat org.apache.kafka.common.network.Selector.close(Selector.java:939)\r\n    \tat org.apache.kafka.common.network.Selector.close(Selector.java:885)\r\n    \tat org.apache.kafka.clients.NetworkClient.handleTimedOutConnections(NetworkClient.java:809)\r\n    \tat org.apache.kafka.clients.NetworkClient.poll(NetworkClient.java:564)\r\n    \tat org.apache.kafka.clients.NetworkClientUtils.awaitReady(NetworkClientUtils.java:74)\r\n    \tat org.apache.kafka.clients.producer.internals.Sender.awaitNodeReady(Sender.java:526)\r\n    \tat org.apache.kafka.clients.producer.internals.Sender.maybeSendAndPollTransactionalRequest(Sender.java:447)\r\n    \tat org.apache.kafka.clients.producer.internals.Sender.runOnce(Sender.java:316)\r\n    \tat org.apache.kafka.clients.producer.internals.Sender.run(Sender.java:243)\r\n    \tat java.base/java.lang.Thread.run(Thread.java:833)\r\n    2023-01-11 09:05:59 DEBUG NetworkClient:810 - [Producer clientId=KafkaExampleProducer] Disconnecting from node -1 due to socket connection setup timeout. The timeout value is 9404 ms.\r\n    2023-01-11 09:05:59 WARN  NetworkClient:1054 - [Producer clientId=KafkaExampleProducer] Bootstrap broker &lt;my_EH_namespace&gt;.servicebus.windows.net:9093 (id: -1 rack: null) disconnected\r\n    2023-01-11 09:05:59 DEBUG Sender:475 - [Producer clientId=KafkaExampleProducer] Disconnect from &lt;my_EH_namespace&gt;.servicebus.windows.net:9093 (id: -1 rack: null) while trying to send request InitProducerIdRequestData(transactionalId=null, transactionTimeoutMs=2147483647, producerId=-1, producerEpoch=-1). Going to back off and retry.\r\n    java.io.IOException: Connection to &lt;my_EH_namespace&gt;.servicebus.windows.net:9093 (id: -1 rack: null) failed.\r\n    \tat org.apache.kafka.clients.NetworkClientUtils.awaitReady(NetworkClientUtils.java:71)\r\n    \tat org.apache.kafka.clients.producer.internals.Sender.awaitNodeReady(Sender.java:526)\r\n    \tat org.apache.kafka.clients.producer.internals.Sender.maybeSendAndPollTransactionalRequest(Sender.java:447)\r\n    \tat org.apache.kafka.clients.producer.internals.Sender.runOnce(Sender.java:316)\r\n    \tat org.apache.kafka.clients.producer.internals.Sender.run(Sender.java:243)\r\n    \tat java.base/java.lang.Thread.run(Thread.java:833)\r\n     ","title":"azure-event-hubs-for-kafka: EOF during handshake, handshake status is NEED_UNWRAP","body":"<p>i'm trying the azure-event-hubs-for-kafka quickstart java samples, and cannot get producer working, error message:</p>\n<pre><code>[Producer clientId=KafkaExampleProducer] Connection with &lt;my_EH_namespace&gt;.servicebus.windows.net/191.1.129.16 disconnected\njava.io.EOFException: EOF during handshake, handshake status is NEED_UNWRAP\n    at org.apache.kafka.common.network.SslTransportLayer.handshakeUnwrap(SslTransportLayer.java:525)\n    at org.apache.kafka.common.network.SslTransportLayer.doHandshake(SslTransportLayer.java:368)\n    at org.apache.kafka.common.network.SslTransportLayer.handshake(SslTransportLayer.java:291)\n    at org.apache.kafka.common.network.KafkaChannel.prepare(KafkaChannel.java:178)\n    at org.apache.kafka.common.network.Selector.pollSelectionKeys(Selector.java:543)\n    at org.apache.kafka.common.network.Selector.poll(Selector.java:481)\n    at org.apache.kafka.clients.NetworkClient.poll(NetworkClient.java:551)\n    at org.apache.kafka.clients.NetworkClientUtils.awaitReady(NetworkClientUtils.java:74)\n    at org.apache.kafka.clients.producer.internals.Sender.awaitNodeReady(Sender.java:526)\n    at org.apache.kafka.clients.producer.internals.Sender.maybeSendAndPollTransactionalRequest(Sender.java:447)\n    at org.apache.kafka.clients.producer.internals.Sender.runOnce(Sender.java:316)\n    at org.apache.kafka.clients.producer.internals.Sender.run(Sender.java:243)\n    at java.base/java.lang.Thread.run(Thread.java:833)\n2023-01-11 09:06:34 DEBUG SslTransportLayer:198 - [SslTransportLayer channelId=-1 key=channel=java.nio.channels.SocketChannel[connection-pending remote=&lt;my_EH_namespace&gt;.servicebus.windows.net/191.1.129.16:9093], selector=sun.nio.ch.KQueueSelectorImpl@5603a6ad, interestOps=8, readyOps=0] Failed to send SSL Close message\n</code></pre>\n<p>here is my producer.config:</p>\n<pre><code>bootstrap.servers=&lt;my_EH_namespace_here&gt;.servicebus.windows.net:9093\nsecurity.protocol=SASL_SSL\nsasl.mechanism=PLAIN\nsasl.jaas.config=org.apache.kafka.common.security.plain.PlainLoginModule required username=&quot;$ConnectionString&quot; password=&quot;Endpoint=sb://&lt;my_EH_namespace_here&gt;.servicebus.windows.net/;SharedAccessKeyName=xxxxxx;SharedAccessKey=xxxxxx&quot;;\n</code></pre>\n<p>apache kafka-clients: 3.0.1</p>\n<p>here is the log from the run:</p>\n<pre><code>2023-01-11 09:05:49 INFO  KafkaProducer:532 - [Producer clientId=KafkaExampleProducer] Instantiated an idempotent producer.\n2023-01-11 09:05:49 INFO  AbstractLogin:61 - Successfully logged in.\n2023-01-11 09:05:49 DEBUG DefaultSslEngineFactory:264 - Created SSL context with keystore null, truststore null, provider SunJSSE.\n2023-01-11 09:05:49 DEBUG Sender:238 - [Producer clientId=KafkaExampleProducer] Starting Kafka producer I/O thread.\n2023-01-11 09:05:49 DEBUG TransactionManager:1091 - [Producer clientId=KafkaExampleProducer] Transition from state UNINITIALIZED to INITIALIZING\n2023-01-11 09:05:49 INFO  AppInfoParser:119 - Kafka version: 3.0.1\n2023-01-11 09:05:49 INFO  AppInfoParser:120 - Kafka commitId: 8e30984f43e64d8b\n2023-01-11 09:05:49 INFO  AppInfoParser:121 - Kafka startTimeMs: 1673456749806\n2023-01-11 09:05:49 DEBUG KafkaProducer:434 - [Producer clientId=KafkaExampleProducer] Kafka producer started\n2023-01-11 09:05:49 DEBUG TransactionManager:1129 - [Producer clientId=KafkaExampleProducer] Enqueuing transactional request InitProducerIdRequestData(transactionalId=null, transactionTimeoutMs=2147483647, producerId=-1, producerEpoch=-1)\n2023-01-11 09:05:49 DEBUG NetworkClient:1151 - [Producer clientId=KafkaExampleProducer] Initialize connection to node &lt;my_EH_namespace&gt;.servicebus.windows.net:9093 (id: -1 rack: null) for sending metadata request\n2023-01-11 09:05:49 DEBUG ClientUtils:113 - Resolved host &lt;my_EH_namespace&gt;.servicebus.windows.net as 191.1.129.16\n2023-01-11 09:05:49 DEBUG NetworkClient:980 - [Producer clientId=KafkaExampleProducer] Initiating connection to node &lt;my_EH_namespace&gt;.servicebus.windows.net:9093 (id: -1 rack: null) using address &lt;my_EH_namespace&gt;.servicebus.windows.net/191.1.129.16\n2023-01-11 09:05:49 DEBUG SaslClientAuthenticator:411 - [Producer clientId=KafkaExampleProducer] Set SASL client state to SEND_APIVERSIONS_REQUEST\n2023-01-11 09:05:49 DEBUG SaslClientAuthenticator:217 - [Producer clientId=KafkaExampleProducer] Creating SaslClient: client=null;service=kafka;serviceHostname=&lt;my_EH_namespace&gt;.servicebus.windows.net;mechs=[PLAIN]\n2023-01-11 09:05:49 DEBUG Selector:531 - [Producer clientId=KafkaExampleProducer] Created socket with SO_RCVBUF = 32768, SO_SNDBUF = 131072, SO_TIMEOUT = 0 to node -1\n2023-01-11 09:05:49 DEBUG NetworkClient:942 - [Producer clientId=KafkaExampleProducer] Completed connection to node -1. Fetching API versions.\nTest Data #0 from thread #20\n2023-01-11 09:05:59 DEBUG SslTransportLayer:198 - [SslTransportLayer channelId=-1 key=channel=java.nio.channels.SocketChannel[connection-pending remote=&lt;my_EH_namespace&gt;.servicebus.windows.net/191.1.129.16:9093], selector=sun.nio.ch.KQueueSelectorImpl@5603a6ad, interestOps=8, readyOps=0] Failed to send SSL Close message\njava.io.IOException: Unexpected status returned by SSLEngine.wrap, expected CLOSED, received OK. Will not send close message to peer.\n    at org.apache.kafka.common.network.SslTransportLayer.close(SslTransportLayer.java:192)\n    at org.apache.kafka.common.utils.Utils.closeAll(Utils.java:972)\n    at org.apache.kafka.common.network.KafkaChannel.close(KafkaChannel.java:155)\n    at org.apache.kafka.common.network.Selector.doClose(Selector.java:955)\n    at org.apache.kafka.common.network.Selector.close(Selector.java:939)\n    at org.apache.kafka.common.network.Selector.close(Selector.java:885)\n    at org.apache.kafka.clients.NetworkClient.handleTimedOutConnections(NetworkClient.java:809)\n    at org.apache.kafka.clients.NetworkClient.poll(NetworkClient.java:564)\n    at org.apache.kafka.clients.NetworkClientUtils.awaitReady(NetworkClientUtils.java:74)\n    at org.apache.kafka.clients.producer.internals.Sender.awaitNodeReady(Sender.java:526)\n    at org.apache.kafka.clients.producer.internals.Sender.maybeSendAndPollTransactionalRequest(Sender.java:447)\n    at org.apache.kafka.clients.producer.internals.Sender.runOnce(Sender.java:316)\n    at org.apache.kafka.clients.producer.internals.Sender.run(Sender.java:243)\n    at java.base/java.lang.Thread.run(Thread.java:833)\n2023-01-11 09:05:59 DEBUG NetworkClient:810 - [Producer clientId=KafkaExampleProducer] Disconnecting from node -1 due to socket connection setup timeout. The timeout value is 9404 ms.\n2023-01-11 09:05:59 WARN  NetworkClient:1054 - [Producer clientId=KafkaExampleProducer] Bootstrap broker &lt;my_EH_namespace&gt;.servicebus.windows.net:9093 (id: -1 rack: null) disconnected\n2023-01-11 09:05:59 DEBUG Sender:475 - [Producer clientId=KafkaExampleProducer] Disconnect from &lt;my_EH_namespace&gt;.servicebus.windows.net:9093 (id: -1 rack: null) while trying to send request InitProducerIdRequestData(transactionalId=null, transactionTimeoutMs=2147483647, producerId=-1, producerEpoch=-1). Going to back off and retry.\njava.io.IOException: Connection to &lt;my_EH_namespace&gt;.servicebus.windows.net:9093 (id: -1 rack: null) failed.\n    at org.apache.kafka.clients.NetworkClientUtils.awaitReady(NetworkClientUtils.java:71)\n    at org.apache.kafka.clients.producer.internals.Sender.awaitNodeReady(Sender.java:526)\n    at org.apache.kafka.clients.producer.internals.Sender.maybeSendAndPollTransactionalRequest(Sender.java:447)\n    at org.apache.kafka.clients.producer.internals.Sender.runOnce(Sender.java:316)\n    at org.apache.kafka.clients.producer.internals.Sender.run(Sender.java:243)\n    at java.base/java.lang.Thread.run(Thread.java:833)\n \n</code></pre>\n"},{"tags":["java","android","arraylist"],"comments":[{"owner":{"account_id":18361187,"reputation":686,"user_id":13373270,"display_name":"codebod"},"score":0,"creation_date":1673543422,"post_id":75098345,"comment_id":132528209,"body_markdown":"Why read the entire table into an `ArrayList` rather than query the table for a specific user? May I also suggest doing this using Room (https://developer.android.com/training/data-storage/room) to avoid a lot of boilerplate code and chance of errors?","body":"Why read the entire table into an <code>ArrayList</code> rather than query the table for a specific user? May I also suggest doing this using Room (<a href=\"https://developer.android.com/training/data-storage/room\" rel=\"nofollow noreferrer\">developer.android.com/training/data-storage/room</a>) to avoid a lot of boilerplate code and chance of errors?"},{"owner":{"account_id":27507549,"reputation":11,"user_id":20990052,"display_name":"Nguyen Dinh Anh Tuan FPL HCM"},"score":0,"creation_date":1673543990,"post_id":75098345,"comment_id":132528413,"body_markdown":"Actually, I&#39;m just a student learning how to create applications, so my experience and thinking about how to use it are quite poor, the concepts are still flawed, so I only know what to do. be learned. But thanks anyway, I think this &quot;room&quot; will help me grow more","body":"Actually, I&#39;m just a student learning how to create applications, so my experience and thinking about how to use it are quite poor, the concepts are still flawed, so I only know what to do. be learned. But thanks anyway, I think this &quot;room&quot; will help me grow more"}],"owner":{"account_id":27507549,"reputation":11,"user_id":20990052,"display_name":"Nguyen Dinh Anh Tuan FPL HCM"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":304,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673535792,"creation_date":1673535792,"question_id":75098345,"body_markdown":"Currently I am developing a personal software that is able to use the database to store the registered accounts and when logging in will retrieve the data from the database to compare with the characters been entered by the user.\r\nBut for some reason, even though I entered it correctly, I can&#39;t log in successfully\r\n\r\nThis is SQLite java file\r\n```\r\n    package anhtuan.example.sample.SQLite;\r\n\r\n    import android.content.Context;\r\n    import android.database.sqlite.SQLiteDatabase;\r\n    import android.database.sqlite.SQLiteOpenHelper;\r\n\r\n    import androidx.annotation.Nullable;\r\n\r\n    public class SQLite extends SQLiteOpenHelper {\r\n    public SQLite(@Nullable Context context) {\r\n        super(context, &quot;System&quot;, null, 1);\r\n    }\r\n\r\n    @Override\r\n    public void onCreate(SQLiteDatabase sqLiteDatabase) {\r\n        String account = &quot;create table accounts &quot; +\r\n                &quot;(&quot; +\r\n                &quot;_id integer primary key autoincrement, &quot; +\r\n                &quot;user text,&quot; +\r\n                &quot;password text&quot; +\r\n                &quot;)&quot;;\r\n        sqLiteDatabase.execSQL(account);\r\n    }\r\n\r\n    @Override\r\n    public void onUpgrade(SQLiteDatabase sqLiteDatabase, int i, int i1) {\r\n        sqLiteDatabase.execSQL(&quot;drop table if exists accounts&quot;);\r\n        onCreate(sqLiteDatabase);\r\n    }\r\n    }\r\n```\r\nHere are DAO java file \r\n```\r\n    package anhtuan.example.sample.DAO;\r\n\r\n    import android.content.ContentValues;\r\n    import android.content.Context;\r\n    import android.database.Cursor;\r\n    import android.database.sqlite.SQLiteDatabase;\r\n    import android.widget.Toast;\r\n\r\n    import java.util.ArrayList;\r\n\r\n    import anhtuan.example.sample.Log.SignUp;\r\n    import anhtuan.example.sample.Model.AccountModel;\r\n    import anhtuan.example.sample.SQLite.SQLite;\r\n\r\n    public class DAO {\r\n    SQLite sqLite;\r\n    ArrayList&lt;AccountModel&gt; ds = new ArrayList&lt;&gt;();\r\n    public DAO(Context context) {\r\n        sqLite = new SQLite(context);\r\n    }\r\n\r\n    public void addUser(String acc, String pass) {\r\n        SQLiteDatabase sqLiteDatabase = sqLite.getWritableDatabase();\r\n        ContentValues values = new ContentValues();\r\n        values.put(&quot;user&quot;,acc);\r\n        values.put(&quot;password&quot;,pass);\r\n        sqLiteDatabase.insert(&quot;accounts&quot;, null, values);\r\n    }\r\n\r\n    public ArrayList&lt;AccountModel&gt; getDSAccount(){\r\n        SQLiteDatabase sqLiteDatabase = sqLite.getReadableDatabase();\r\n        Cursor c = sqLiteDatabase.rawQuery(&quot;select * from accounts&quot;, null);\r\n        if(c.getCount()&gt;0){\r\n            c.moveToFirst();\r\n            do {\r\n                ds.add(new AccountModel(c.getString(1),c.getString(2)));\r\n            }while (c.moveToNext());\r\n        }\r\n        return ds;\r\n    }\r\n\r\n    public boolean checkLogin(Context context,String users,String passwords){\r\n        ds = getDSAccount();\r\n        for(int i = 0; i &lt; ds.size();i++){\r\n        if(ds.get(i).getUser().equals(users)){\r\n            if(passwords.equals(ds.get(i).getPassword())){\r\n                return true;\r\n            }\r\n        }\r\n        };\r\n        return false;\r\n    }\r\n\r\n    public boolean changePass(String user,String password){\r\n\r\n        return true;\r\n    }\r\n    }\r\n```\r\nAnd lastly the signin java file\r\n```\r\n    package anhtuan.example.sample.Log;\r\n\r\n    import androidx.appcompat.app.AlertDialog;  \r\n    import androidx.appcompat.app.AppCompatActivity;\r\n\r\n    import android.content.DialogInterface;\r\n    import android.content.Intent;\r\n    import android.os.Bundle;\r\n    import android.view.LayoutInflater;\r\n    import android.view.View;\r\n    import android.widget.Button;\r\n    import android.widget.TextView;\r\n    import android.widget.Toast;\r\n\r\n    import com.google.android.material.textfield.TextInputEditText;\r\n\r\n    import java.util.ArrayList;\r\n\r\n    import anhtuan.example.sample.DAO.DAO;\r\n    import anhtuan.example.sample.Home;\r\n    import anhtuan.example.sample.Model.AccountModel;\r\n    import anhtuan.example.sample.R;\r\n\r\n    public class SignIn extends AppCompatActivity {\r\n    TextInputEditText user,pass;\r\n    TextView signup;\r\n    Button Login;\r\n\r\n    DAO dao;\r\n    ArrayList&lt;AccountModel&gt; ds;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_sign_in);\r\n        setTitle(&quot;Sign In&quot;);\r\n        user = findViewById(R.id.SIuser);\r\n        pass = findViewById(R.id.SIpass);\r\n        Login = findViewById(R.id.SIbtn);\r\n        signup = findViewById(R.id.SItv);\r\n\r\n        dao = new DAO(this);\r\n\r\n        signup.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                Intent i = new Intent(SignIn.this,ForgotPass.class);\r\n                startActivity(i);\r\n            }\r\n        });\r\n\r\n        String Loginuser = user.getText().toString();\r\n        String Loginpasse = pass.getText().toString();\r\n\r\n        Login.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                if(user.getText().length() == 0 || pass.getText().length() == 0){\r\n                    AlertDialog.Builder builder = new AlertDialog.Builder(SignIn.this);\r\n                    builder.setTitle(&quot;You haven&#39;t insert all the blank&quot;);\r\n                    builder.setPositiveButton(&quot;OK&quot;, new DialogInterface.OnClickListener() {\r\n                        @Override\r\n                        public void onClick(DialogInterface dialogInterface, int i) {\r\n                        }\r\n                    });\r\n                    builder.show();\r\n                }else{\r\n                    if(dao.checkLogin(SignIn.this,Loginuser,Loginpasse)){\r\n                        Intent i = new Intent(SignIn.this,Home.class);\r\n                        startActivity(i);\r\n                    }else{\r\n                        AlertDialog.Builder builder = new AlertDialog.Builder(SignIn.this);\r\n                        builder.setTitle(&quot;Check again !&quot;);\r\n                        builder.setPositiveButton(&quot;OK&quot;, new DialogInterface.OnClickListener() {\r\n                            @Override\r\n                            public void onClick(DialogInterface dialogInterface, int i) {\r\n                            }\r\n                        });\r\n                        builder.show();\r\n                    }\r\n                }\r\n            }\r\n        });\r\n    }\r\n    }\r\n```\r\nI had try to use contain and indexOf with arrayList to find the data without using for loop but it always come out false so i decide to use for loop again.\r\n","title":"Android Studio Login with SQLite database","body":"<p>Currently I am developing a personal software that is able to use the database to store the registered accounts and when logging in will retrieve the data from the database to compare with the characters been entered by the user.\nBut for some reason, even though I entered it correctly, I can't log in successfully</p>\n<p>This is SQLite java file</p>\n<pre><code>    package anhtuan.example.sample.SQLite;\n\n    import android.content.Context;\n    import android.database.sqlite.SQLiteDatabase;\n    import android.database.sqlite.SQLiteOpenHelper;\n\n    import androidx.annotation.Nullable;\n\n    public class SQLite extends SQLiteOpenHelper {\n    public SQLite(@Nullable Context context) {\n        super(context, &quot;System&quot;, null, 1);\n    }\n\n    @Override\n    public void onCreate(SQLiteDatabase sqLiteDatabase) {\n        String account = &quot;create table accounts &quot; +\n                &quot;(&quot; +\n                &quot;_id integer primary key autoincrement, &quot; +\n                &quot;user text,&quot; +\n                &quot;password text&quot; +\n                &quot;)&quot;;\n        sqLiteDatabase.execSQL(account);\n    }\n\n    @Override\n    public void onUpgrade(SQLiteDatabase sqLiteDatabase, int i, int i1) {\n        sqLiteDatabase.execSQL(&quot;drop table if exists accounts&quot;);\n        onCreate(sqLiteDatabase);\n    }\n    }\n</code></pre>\n<p>Here are DAO java file</p>\n<pre><code>    package anhtuan.example.sample.DAO;\n\n    import android.content.ContentValues;\n    import android.content.Context;\n    import android.database.Cursor;\n    import android.database.sqlite.SQLiteDatabase;\n    import android.widget.Toast;\n\n    import java.util.ArrayList;\n\n    import anhtuan.example.sample.Log.SignUp;\n    import anhtuan.example.sample.Model.AccountModel;\n    import anhtuan.example.sample.SQLite.SQLite;\n\n    public class DAO {\n    SQLite sqLite;\n    ArrayList&lt;AccountModel&gt; ds = new ArrayList&lt;&gt;();\n    public DAO(Context context) {\n        sqLite = new SQLite(context);\n    }\n\n    public void addUser(String acc, String pass) {\n        SQLiteDatabase sqLiteDatabase = sqLite.getWritableDatabase();\n        ContentValues values = new ContentValues();\n        values.put(&quot;user&quot;,acc);\n        values.put(&quot;password&quot;,pass);\n        sqLiteDatabase.insert(&quot;accounts&quot;, null, values);\n    }\n\n    public ArrayList&lt;AccountModel&gt; getDSAccount(){\n        SQLiteDatabase sqLiteDatabase = sqLite.getReadableDatabase();\n        Cursor c = sqLiteDatabase.rawQuery(&quot;select * from accounts&quot;, null);\n        if(c.getCount()&gt;0){\n            c.moveToFirst();\n            do {\n                ds.add(new AccountModel(c.getString(1),c.getString(2)));\n            }while (c.moveToNext());\n        }\n        return ds;\n    }\n\n    public boolean checkLogin(Context context,String users,String passwords){\n        ds = getDSAccount();\n        for(int i = 0; i &lt; ds.size();i++){\n        if(ds.get(i).getUser().equals(users)){\n            if(passwords.equals(ds.get(i).getPassword())){\n                return true;\n            }\n        }\n        };\n        return false;\n    }\n\n    public boolean changePass(String user,String password){\n\n        return true;\n    }\n    }\n</code></pre>\n<p>And lastly the signin java file</p>\n<pre><code>    package anhtuan.example.sample.Log;\n\n    import androidx.appcompat.app.AlertDialog;  \n    import androidx.appcompat.app.AppCompatActivity;\n\n    import android.content.DialogInterface;\n    import android.content.Intent;\n    import android.os.Bundle;\n    import android.view.LayoutInflater;\n    import android.view.View;\n    import android.widget.Button;\n    import android.widget.TextView;\n    import android.widget.Toast;\n\n    import com.google.android.material.textfield.TextInputEditText;\n\n    import java.util.ArrayList;\n\n    import anhtuan.example.sample.DAO.DAO;\n    import anhtuan.example.sample.Home;\n    import anhtuan.example.sample.Model.AccountModel;\n    import anhtuan.example.sample.R;\n\n    public class SignIn extends AppCompatActivity {\n    TextInputEditText user,pass;\n    TextView signup;\n    Button Login;\n\n    DAO dao;\n    ArrayList&lt;AccountModel&gt; ds;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_sign_in);\n        setTitle(&quot;Sign In&quot;);\n        user = findViewById(R.id.SIuser);\n        pass = findViewById(R.id.SIpass);\n        Login = findViewById(R.id.SIbtn);\n        signup = findViewById(R.id.SItv);\n\n        dao = new DAO(this);\n\n        signup.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                Intent i = new Intent(SignIn.this,ForgotPass.class);\n                startActivity(i);\n            }\n        });\n\n        String Loginuser = user.getText().toString();\n        String Loginpasse = pass.getText().toString();\n\n        Login.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                if(user.getText().length() == 0 || pass.getText().length() == 0){\n                    AlertDialog.Builder builder = new AlertDialog.Builder(SignIn.this);\n                    builder.setTitle(&quot;You haven't insert all the blank&quot;);\n                    builder.setPositiveButton(&quot;OK&quot;, new DialogInterface.OnClickListener() {\n                        @Override\n                        public void onClick(DialogInterface dialogInterface, int i) {\n                        }\n                    });\n                    builder.show();\n                }else{\n                    if(dao.checkLogin(SignIn.this,Loginuser,Loginpasse)){\n                        Intent i = new Intent(SignIn.this,Home.class);\n                        startActivity(i);\n                    }else{\n                        AlertDialog.Builder builder = new AlertDialog.Builder(SignIn.this);\n                        builder.setTitle(&quot;Check again !&quot;);\n                        builder.setPositiveButton(&quot;OK&quot;, new DialogInterface.OnClickListener() {\n                            @Override\n                            public void onClick(DialogInterface dialogInterface, int i) {\n                            }\n                        });\n                        builder.show();\n                    }\n                }\n            }\n        });\n    }\n    }\n</code></pre>\n<p>I had try to use contain and indexOf with arrayList to find the data without using for loop but it always come out false so i decide to use for loop again.</p>\n"},{"tags":["java","selenium-webdriver"],"answers":[{"comments":[{"owner":{"account_id":21190672,"reputation":3,"user_id":15583246,"display_name":"Beyza Tuna"},"score":0,"creation_date":1673542440,"post_id":75098343,"comment_id":132527871,"body_markdown":"Thank you. amazon is hard for me just now. I am the new to automation testing","body":"Thank you. amazon is hard for me just now. I am the new to automation testing"}],"tags":[],"owner":{"account_id":27505525,"reputation":16,"user_id":20988343,"display_name":"Zara Marks"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1673535787,"creation_date":1673535787,"answer_id":75098343,"question_id":75097964,"body_markdown":"Try using the **class = a-icon a-icon-dropdown** . In selenium you can also use the class if I am not mistaken, you just have to be careful because sometimes they use the same class for different objects.","title":"How to select the option preferred country/region website from the dropdown listbox within using Selenium in Java?","body":"<p>Try using the <strong>class = a-icon a-icon-dropdown</strong> . In selenium you can also use the class if I am not mistaken, you just have to be careful because sometimes they use the same class for different objects.</p>\n"}],"owner":{"account_id":21190672,"reputation":3,"user_id":15583246,"display_name":"Beyza Tuna"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":75098343,"answer_count":1,"score":-1,"last_activity_date":1673535787,"creation_date":1673534193,"question_id":75097964,"body_markdown":"How to select the option preferred country/region website Turkey from the dropdown listbox within https://www.amazon.com/customer-preferences/country/?ref_=nav_em_locale_0_1_1_37  using Selenium in Java?\r\n\r\n[screenshot](https://i.stack.imgur.com/gzdJz.png)\r\n\r\nI didn&#39;t find id and name when i try to find from inspect.","title":"How to select the option preferred country/region website from the dropdown listbox within using Selenium in Java?","body":"<p>How to select the option preferred country/region website Turkey from the dropdown listbox within <a href=\"https://www.amazon.com/customer-preferences/country/?ref_=nav_em_locale_0_1_1_37\" rel=\"nofollow noreferrer\">https://www.amazon.com/customer-preferences/country/?ref_=nav_em_locale_0_1_1_37</a>  using Selenium in Java?</p>\n<p><a href=\"https://i.stack.imgur.com/gzdJz.png\" rel=\"nofollow noreferrer\">screenshot</a></p>\n<p>I didn't find id and name when i try to find from inspect.</p>\n"},{"tags":["java","unit-testing","intellij-idea","testng"],"comments":[{"owner":{"account_id":277416,"reputation":681888,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":6,"creation_date":1370552162,"post_id":16970214,"comment_id":24514250,"body_markdown":"Right-click the testng.xml file, and choose &quot;run tests&quot; (or something like that).","body":"Right-click the testng.xml file, and choose &quot;run tests&quot; (or something like that)."},{"owner":{"account_id":2832142,"reputation":131,"user_id":2433516,"display_name":"kemeryqa"},"score":1,"creation_date":1370623465,"post_id":16970214,"comment_id":24543328,"body_markdown":"Thanks for your comment.  Does it matter where I place testng.xml within the directory structure?","body":"Thanks for your comment.  Does it matter where I place testng.xml within the directory structure?"},{"owner":{"account_id":277416,"reputation":681888,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":0,"creation_date":1370623711,"post_id":16970214,"comment_id":24543447,"body_markdown":"I don&#39;t think so. Can&#39;t test it right now.","body":"I don&#39;t think so. Can&#39;t test it right now."}],"answers":[{"tags":[],"owner":{"account_id":415566,"reputation":113,"user_id":790448,"accept_rate":38,"display_name":"Tahir Shabbir"},"comment_count":0,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1380714678,"creation_date":1380714678,"answer_id":19136244,"question_id":16970214,"body_markdown":"Follow this link - http://www.jetbrains.com/idea/webhelp/run-debug-configuration-testng.html#config\r\n\r\nThere is an option just before the run icon that allows you to add the testng.xml file. In the run config dialog select  the suite option. Then select the testng file.\r\nIt worked for me.\r\n\r\nHope it helps.","title":"TestNG with IntelliJ IDEA: How to use the testng.xml file in IntelliJ IDEA 9","body":"<p>Follow this link - <a href=\"http://www.jetbrains.com/idea/webhelp/run-debug-configuration-testng.html#config\" rel=\"nofollow\">http://www.jetbrains.com/idea/webhelp/run-debug-configuration-testng.html#config</a></p>\n\n<p>There is an option just before the run icon that allows you to add the testng.xml file. In the run config dialog select  the suite option. Then select the testng file.\nIt worked for me.</p>\n\n<p>Hope it helps.</p>\n"},{"tags":[],"owner":{"account_id":4438749,"reputation":976,"user_id":3613859,"display_name":"Rancho"},"comment_count":0,"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1609941417,"creation_date":1475419020,"answer_id":39818068,"question_id":16970214,"body_markdown":"1.Go to File-&gt;Settings-&gt; Plugins&gt;Verify that TestNG-J is enabled.\r\n2.Configure the testNG xml file and provide it as an external source by going to edit configurations and selecting suite and providing the path of the testNG xml you created.[![enter image description here][1]][1]\r\n\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/6OCAS.png\r\n  [2]: http://i.stack.imgur.com/p4yD9.png\r\n  [3]: http://i.stack.imgur.com/5y8Tr.png","title":"TestNG with IntelliJ IDEA: How to use the testng.xml file in IntelliJ IDEA 9","body":"<p>1.Go to File-&gt;Settings-&gt; Plugins&gt;Verify that TestNG-J is enabled.\n2.Configure the testNG xml file and provide it as an external source by going to edit configurations and selecting suite and providing the path of the testNG xml you created.<a href=\"https://i.stack.imgur.com/6OCAS.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/6OCAS.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/p4yD9.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/p4yD9.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/5y8Tr.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/5y8Tr.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":10187071,"reputation":41,"user_id":7521612,"display_name":"Parinit Mishra"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1673535261,"creation_date":1570602529,"answer_id":58298217,"question_id":16970214,"body_markdown":"Just Add this Plugin &quot;[Create TestNg XML][1]&quot;\r\n[![enter image description here][2]][2]\r\n\r\n&amp; restart your Intellij IDE.\r\n\r\nthen :\r\n\r\n1. Right-Click on Your Project.\r\n2. Click on &quot;Create TestNG XML&quot; [Image 1][3]\r\n3. You will Get a Confirmation Dialog it will Show the Path Of Created XML File, Click &quot;Ok&quot;. [Image 2][4]\r\n4. Again Right-Click on Your Project &amp; then click &quot;Synchronize &#39;Your Project Name&#39;&quot;. [Image 3][5]\r\n5. You will find a newly created TestNG.xml file in your Project. [Image 4][6]\r\n\r\n\r\n  [1]: https://plugins.jetbrains.com/plugin/9556-create-testng-xml\r\n  [2]: https://i.stack.imgur.com/8nnpH.png\r\n  [3]: https://i.stack.imgur.com/YlUDt.png\r\n  [4]: https://i.stack.imgur.com/qB1pu.png\r\n  [5]: https://i.stack.imgur.com/LvLLJ.png\r\n  [6]: https://i.stack.imgur.com/VLvVy.png","title":"TestNG with IntelliJ IDEA: How to use the testng.xml file in IntelliJ IDEA 9","body":"<p>Just Add this Plugin &quot;<a href=\"https://plugins.jetbrains.com/plugin/9556-create-testng-xml\" rel=\"nofollow noreferrer\">Create TestNg XML</a>&quot;\n<a href=\"https://i.stack.imgur.com/8nnpH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8nnpH.png\" alt=\"enter image description here\" /></a></p>\n<p>&amp; restart your Intellij IDE.</p>\n<p>then :</p>\n<ol>\n<li>Right-Click on Your Project.</li>\n<li>Click on &quot;Create TestNG XML&quot; <a href=\"https://i.stack.imgur.com/YlUDt.png\" rel=\"nofollow noreferrer\">Image 1</a></li>\n<li>You will Get a Confirmation Dialog it will Show the Path Of Created XML File, Click &quot;Ok&quot;. <a href=\"https://i.stack.imgur.com/qB1pu.png\" rel=\"nofollow noreferrer\">Image 2</a></li>\n<li>Again Right-Click on Your Project &amp; then click &quot;Synchronize 'Your Project Name'&quot;. <a href=\"https://i.stack.imgur.com/LvLLJ.png\" rel=\"nofollow noreferrer\">Image 3</a></li>\n<li>You will find a newly created TestNG.xml file in your Project. <a href=\"https://i.stack.imgur.com/VLvVy.png\" rel=\"nofollow noreferrer\">Image 4</a></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":9185017,"reputation":71,"user_id":6827593,"display_name":"sweta kumari"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1590392255,"creation_date":1590391680,"answer_id":61997664,"question_id":16970214,"body_markdown":"    1.Navigate to Run in the top menu\r\n    2.select the Run...\r\n    3.when the popup window get open go to the configuration\r\n    4.select test kind as suite\r\n    5.select the location of your xml file in Suite option \r\n    6.click on run button your testng.xml file will run\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/pezzo.png","title":"TestNG with IntelliJ IDEA: How to use the testng.xml file in IntelliJ IDEA 9","body":"<pre><code>1.Navigate to Run in the top menu\n2.select the Run...\n3.when the popup window get open go to the configuration\n4.select test kind as suite\n5.select the location of your xml file in Suite option \n6.click on run button your testng.xml file will run\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/pezzo.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pezzo.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":20948253,"reputation":11,"user_id":15390575,"display_name":"md.yusuf ansari"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1615667790,"creation_date":1615667790,"answer_id":66618307,"question_id":16970214,"body_markdown":"Follow the below steps: \r\n - Goto Intellij IDEA preferences ain search (command+,)\r\n - Search for plugins \r\n - Click on Marketplace\r\n - Search for testng\r\n - Install the plugin &quot;Create TestNG XML&quot; and Apply the changes\r\n - Restart Intellij\r\n - Right on your project and click on &quot;Create TestNG XML&quot;\r\n - Click OK on the confirmation dialog. \r\n - Expand the project folder and *Voila*, testng.xml will be created. ","title":"TestNG with IntelliJ IDEA: How to use the testng.xml file in IntelliJ IDEA 9","body":"<p>Follow the below steps:</p>\n<ul>\n<li>Goto Intellij IDEA preferences ain search (command+,)</li>\n<li>Search for plugins</li>\n<li>Click on Marketplace</li>\n<li>Search for testng</li>\n<li>Install the plugin &quot;Create TestNG XML&quot; and Apply the changes</li>\n<li>Restart Intellij</li>\n<li>Right on your project and click on &quot;Create TestNG XML&quot;</li>\n<li>Click OK on the confirmation dialog.</li>\n<li>Expand the project folder and <em>Voila</em>, testng.xml will be created.</li>\n</ul>\n"}],"owner":{"account_id":2832142,"reputation":131,"user_id":2433516,"display_name":"kemeryqa"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62333,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"answer_count":5,"score":13,"last_activity_date":1673535261,"creation_date":1370545659,"question_id":16970214,"body_markdown":"I&#39;m able to run TestNG unit tests in IntelliJ and see the pass/fail output in a window; this is without using any `testng.xml` file.  I can also run the tests in the command-line using maven, i.e. `mvn clean test -Dgroups=fast`, and that works fine.  \r\n\r\nI&#39;ve created a `testng.xml` file and added it to my project&#39;s directory, but it doesn&#39;t seem to have any effect.\r\n\r\nHow do I integrate the usage of a `testng.xml` file to define my test execution within IntelliJ IDEA 9?","title":"TestNG with IntelliJ IDEA: How to use the testng.xml file in IntelliJ IDEA 9","body":"<p>I'm able to run TestNG unit tests in IntelliJ and see the pass/fail output in a window; this is without using any <code>testng.xml</code> file.  I can also run the tests in the command-line using maven, i.e. <code>mvn clean test -Dgroups=fast</code>, and that works fine.  </p>\n\n<p>I've created a <code>testng.xml</code> file and added it to my project's directory, but it doesn't seem to have any effect.</p>\n\n<p>How do I integrate the usage of a <code>testng.xml</code> file to define my test execution within IntelliJ IDEA 9?</p>\n"},{"tags":["java","spring-boot","junit5"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":1,"creation_date":1673345107,"post_id":75068250,"comment_id":132472500,"body_markdown":"Look at `assertThrows(...)` - you basically test for the exception and then let the test continue if it is thrown. You might also want to think about whether these 3 calls would actually be 3 independent tests - at least the first 2 seem to be since it doesn&#39;t make sense to fail _and_ pass on the same input.","body":"Look at <code>assertThrows(...)</code> - you basically test for the exception and then let the test continue if it is thrown. You might also want to think about whether these 3 calls would actually be 3 independent tests - at least the first 2 seem to be since it doesn&#39;t make sense to fail <i>and</i> pass on the same input."}],"answers":[{"tags":[],"owner":{"account_id":3142246,"reputation":2632,"user_id":2657515,"accept_rate":75,"display_name":"JonathanDavidArndt"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1673535184,"creation_date":1673457394,"answer_id":75086766,"question_id":75068250,"body_markdown":"You ought to have three different test functions:\r\n\r\n```java\r\n\t@Test\r\n\tpublic void testIsGeoOrtInboundPortabilityToNonGeoSipFiber() throws Exception\r\n\t{\r\n\t\t!isGeoOrtInboundPortabilityToNonGeoSipFiber(&#39;P&#39;, &#39;D&#39;) // Pass\r\n\t}\r\n\r\n\t@Test(expected = Exception.class)\r\n\tpublic void testIsNonGeoSipOutboundPortabilityToGeoFiberOrt() throws Exception\r\n\t{\r\n\t\tisNonGeoSipOutboundPortabilityToGeoFiberOrt(&#39;P&#39;, &#39;D&#39;) // Throw exception which is expected\r\n\t}\r\n\r\n\t@Test\r\n\tpublic void testIsRtcPortabilityToFiberSip() throws Exception\r\n\t{\r\n\t\t!isRtcPortabilityToFiberSip(newNdipIndicatif, oldNdipAffectation, newNdipAffectation,\r\n        basicatCode) // never reached, but now it will be!\r\n\t}\r\n```\r\n\r\nA good practice is to have one assertion per test [(although this is flexible)][1]\r\n\r\nYour code does not really have assertions (they could be added by having `checkRenumberingValidation` return a boolean value, instead of throwing an exception when objects are not equal), but the conditions are being checked adequately, just in a more roundabout way than usual.\r\n\r\n----\r\n\r\nFor more reading about testing, I highly recommend the [JUnit FAQ][2]  \r\n*(written when JUnit 4 was current, but nearly all concepts can be applied generally -- this is a classic)*\r\n\r\n\r\n  [1]: https://softwareengineering.stackexchange.com/questions/7823/is-it-ok-to-have-multiple-asserts-in-a-single-unit-test\r\n  [2]: https://junit.org/junit4/faq.html","title":"Is there a way to test two opposite methods in JUnit 5?","body":"<p>You ought to have three different test functions:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Test\n    public void testIsGeoOrtInboundPortabilityToNonGeoSipFiber() throws Exception\n    {\n        !isGeoOrtInboundPortabilityToNonGeoSipFiber('P', 'D') // Pass\n    }\n\n    @Test(expected = Exception.class)\n    public void testIsNonGeoSipOutboundPortabilityToGeoFiberOrt() throws Exception\n    {\n        isNonGeoSipOutboundPortabilityToGeoFiberOrt('P', 'D') // Throw exception which is expected\n    }\n\n    @Test\n    public void testIsRtcPortabilityToFiberSip() throws Exception\n    {\n        !isRtcPortabilityToFiberSip(newNdipIndicatif, oldNdipAffectation, newNdipAffectation,\n        basicatCode) // never reached, but now it will be!\n    }\n</code></pre>\n<p>A good practice is to have one assertion per test <a href=\"https://softwareengineering.stackexchange.com/questions/7823/is-it-ok-to-have-multiple-asserts-in-a-single-unit-test\">(although this is flexible)</a></p>\n<p>Your code does not really have assertions (they could be added by having <code>checkRenumberingValidation</code> return a boolean value, instead of throwing an exception when objects are not equal), but the conditions are being checked adequately, just in a more roundabout way than usual.</p>\n<hr />\n<p>For more reading about testing, I highly recommend the <a href=\"https://junit.org/junit4/faq.html\" rel=\"nofollow noreferrer\">JUnit FAQ</a><br />\n<em>(written when JUnit 4 was current, but nearly all concepts can be applied generally -- this is a classic)</em></p>\n"}],"owner":{"account_id":16209410,"reputation":21,"user_id":11703828,"display_name":"Abdeladhim Abbassi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":99,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75086766,"answer_count":1,"score":1,"last_activity_date":1673535184,"creation_date":1673344670,"question_id":75068250,"body_markdown":"I have two opposite methods that I have to test\r\n\r\nFirst method\r\n```\r\nprivate boolean isGeoOrtInboundPortabilityToNonGeoSipFiber(Character oldNdipAffectation,\r\n      Character newNdipAffectation) {\r\n    return isNdip09NatifVoipSip(newNdipAffectation)\r\n        &amp;&amp; isNdipGeoOperator(oldNdipAffectation);\r\n}\r\n```\r\n\r\nSecond method\r\n\r\n```\r\nprivate boolean isNonGeoSipOutboundPortabilityToGeoFiberOrt(Character oldNdipAffectation,\r\n      Character newNdipAffectation) {\r\n    return isNdipGeoOperator(newNdipAffectation)\r\n        &amp;&amp; isNdip09NatifVoipSip(oldNdipAffectation);\r\n}\r\n```\r\n\r\nHere is the implementation\r\n\r\n```\r\nprotected void checkRenumberingValidation(Character oldNdipAffectation,\r\n      NdipRenumberingRequest request, String basicatCode) {\r\n    var oldNdipIndicatif = findIndicatifByNd(request.getOldNdip());\r\n    var newNdipIndicatif = findIndicatifByNd(request.getNewNdip());\r\n\r\n    if (!isClassicIpPortedNds(request)\r\n        || !isGeoOrtInboundPortabilityToNonGeoSipFiber(oldNdipAffectation, newNdipAffectation)\r\n        || !isNonGeoSipOutboundPortabilityToGeoFiberOrt(oldNdipAffectation, newNdipAffectation)\r\n        || !isRtcPortabilityToFiberSip(newNdipIndicatif, oldNdipAffectation, newNdipAffectation,\r\n        basicatCode)\r\n        &amp;&amp; (\r\n        !Objects.equals(newNdipIndicatif.getZne().getCzne(), oldNdipIndicatif.getZne().getCzne())\r\n            || !Objects.equals(newNdipIndicatif.getCsitugeo(), oldNdipIndicatif.getCsitugeo()))\r\n    ) {\r\n      throwFunctionalException(ERROR_34);\r\n    }\r\n\r\n}\r\n```\r\n\r\nIf I pass &#39;D&#39; and &#39;P&#39; this will cause throwFunctionalException(ERROR_34) and that is fine \r\n```\r\n!isGeoOrtInboundPortabilityToNonGeoSipFiber(&#39;D&#39;, &#39;P&#39;) // Throw exception which is expected\r\n```\r\n\r\nThe problem is the `isRtcPortabilityToFiberSip()` method is never reached because if I pass &#39;P&#39; and &#39;D&#39;\r\n```\r\n!isGeoOrtInboundPortabilityToNonGeoSipFiber(&#39;P&#39;, &#39;D&#39;) // Pass\r\nisNonGeoSipOutboundPortabilityToGeoFiberOrt(&#39;P&#39;, &#39;D&#39;) // Throw exception which is expected\r\n!isRtcPortabilityToFiberSip(newNdipIndicatif, oldNdipAffectation, newNdipAffectation,\r\n        basicatCode) // never reached\r\n```\r\n\r\nHow to reach `!isRtcPortabilityToFiberSip` with JUnit 5?\r\n\r\nI googled the problem without any solution.\r\n","title":"Is there a way to test two opposite methods in JUnit 5?","body":"<p>I have two opposite methods that I have to test</p>\n<p>First method</p>\n<pre><code>private boolean isGeoOrtInboundPortabilityToNonGeoSipFiber(Character oldNdipAffectation,\n      Character newNdipAffectation) {\n    return isNdip09NatifVoipSip(newNdipAffectation)\n        &amp;&amp; isNdipGeoOperator(oldNdipAffectation);\n}\n</code></pre>\n<p>Second method</p>\n<pre><code>private boolean isNonGeoSipOutboundPortabilityToGeoFiberOrt(Character oldNdipAffectation,\n      Character newNdipAffectation) {\n    return isNdipGeoOperator(newNdipAffectation)\n        &amp;&amp; isNdip09NatifVoipSip(oldNdipAffectation);\n}\n</code></pre>\n<p>Here is the implementation</p>\n<pre><code>protected void checkRenumberingValidation(Character oldNdipAffectation,\n      NdipRenumberingRequest request, String basicatCode) {\n    var oldNdipIndicatif = findIndicatifByNd(request.getOldNdip());\n    var newNdipIndicatif = findIndicatifByNd(request.getNewNdip());\n\n    if (!isClassicIpPortedNds(request)\n        || !isGeoOrtInboundPortabilityToNonGeoSipFiber(oldNdipAffectation, newNdipAffectation)\n        || !isNonGeoSipOutboundPortabilityToGeoFiberOrt(oldNdipAffectation, newNdipAffectation)\n        || !isRtcPortabilityToFiberSip(newNdipIndicatif, oldNdipAffectation, newNdipAffectation,\n        basicatCode)\n        &amp;&amp; (\n        !Objects.equals(newNdipIndicatif.getZne().getCzne(), oldNdipIndicatif.getZne().getCzne())\n            || !Objects.equals(newNdipIndicatif.getCsitugeo(), oldNdipIndicatif.getCsitugeo()))\n    ) {\n      throwFunctionalException(ERROR_34);\n    }\n\n}\n</code></pre>\n<p>If I pass 'D' and 'P' this will cause throwFunctionalException(ERROR_34) and that is fine</p>\n<pre><code>!isGeoOrtInboundPortabilityToNonGeoSipFiber('D', 'P') // Throw exception which is expected\n</code></pre>\n<p>The problem is the <code>isRtcPortabilityToFiberSip()</code> method is never reached because if I pass 'P' and 'D'</p>\n<pre><code>!isGeoOrtInboundPortabilityToNonGeoSipFiber('P', 'D') // Pass\nisNonGeoSipOutboundPortabilityToGeoFiberOrt('P', 'D') // Throw exception which is expected\n!isRtcPortabilityToFiberSip(newNdipIndicatif, oldNdipAffectation, newNdipAffectation,\n        basicatCode) // never reached\n</code></pre>\n<p>How to reach <code>!isRtcPortabilityToFiberSip</code> with JUnit 5?</p>\n<p>I googled the problem without any solution.</p>\n"},{"tags":["java","spring-boot","karate","spring-boot-test"],"comments":[{"owner":{"account_id":3711000,"reputation":31801,"user_id":3088349,"accept_rate":100,"display_name":"Maytham Fahmi"},"score":0,"creation_date":1672943735,"post_id":75022732,"comment_id":132392676,"body_markdown":"I was thinking, was not it easier to take a snapshot from your screen or copy the text and paste it?","body":"I was thinking, was not it easier to take a snapshot from your screen or copy the text and paste it?"},{"owner":{"account_id":48302,"reputation":55363,"user_id":143475,"display_name":"Peter Thomas"},"score":1,"creation_date":1672980197,"post_id":75022732,"comment_id":132399959,"body_markdown":"to OP, please spend some time and read the documentation: https://github.com/karatelabs/karate#calling-java - then look at other answers on stack overflow: https://stackoverflow.com/search?q=%5Bkarate%5D+java+parameter","body":"to OP, please spend some time and read the documentation: <a href=\"https://github.com/karatelabs/karate#calling-java\" rel=\"nofollow noreferrer\">github.com/karatelabs/karate#calling-java</a> - then look at other answers on stack overflow: <a href=\"https://stackoverflow.com/search?q=%5Bkarate%5D+java+parameter\">stackoverflow.com/search?q=%5Bkarate%5D+java+parameter</a>"},{"owner":{"account_id":11653603,"reputation":2210,"user_id":8534088,"display_name":"Dmitriy Popov"},"score":2,"creation_date":1673535234,"post_id":75022732,"comment_id":132525100,"body_markdown":"Please post your code as text, NOT as images.","body":"Please post your code as text, NOT as images."}],"answers":[{"tags":[],"owner":{"account_id":8362258,"reputation":1639,"user_id":6280135,"display_name":"Maninder"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1673535093,"creation_date":1673535093,"answer_id":75098161,"question_id":75022732,"body_markdown":"Our team was using the java code to generate the JWT token so I just called that java method in my karate test case and it worked.\r\n\r\nNote: We have an option to call java method in our karate test case. I was not aware about it. ","title":"How to pass token generated by java code in karate test case?","body":"<p>Our team was using the java code to generate the JWT token so I just called that java method in my karate test case and it worked.</p>\n<p>Note: We have an option to call java method in our karate test case. I was not aware about it.</p>\n"}],"owner":{"account_id":8362258,"reputation":1639,"user_id":6280135,"display_name":"Maninder"},"comment_count":3,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":316,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"closed_date":1673582539,"accepted_answer_id":75098161,"answer_count":1,"score":0,"last_activity_date":1673535093,"creation_date":1672942549,"question_id":75022732,"body_markdown":"2 types of test cases I have written:\r\n 1. Using spring boot\r\n 2. Karate framework\r\n\r\n[![enter image description here][1]][1]\r\n\r\nTo access the endpoints, valid token is required and I am generating the token using spring boot[![enter image description here][2]][2] test. I want to use the same token for karate framework but not sure how to pass it as a parameter so that I will use it in my feature file. We are using client-credentials for auth.[enter image description here][3]\r\nI want to pass token in below mentioned karate test case:\r\n\r\n[![enter image description here][4]][4]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/XqSWy.jpg\r\n  [2]: https://i.stack.imgur.com/zJkn1.jpg\r\n  [3]: https://i.stack.imgur.com/QURQq.jpg\r\n  [4]: https://i.stack.imgur.com/cUoJX.jpg","title":"How to pass token generated by java code in karate test case?","body":"<p>2 types of test cases I have written:</p>\n<ol>\n<li>Using spring boot</li>\n<li>Karate framework</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/XqSWy.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/XqSWy.jpg\" alt=\"enter image description here\" /></a></p>\n<p>To access the endpoints, valid token is required and I am generating the token using spring boot<a href=\"https://i.stack.imgur.com/zJkn1.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zJkn1.jpg\" alt=\"enter image description here\" /></a> test. I want to use the same token for karate framework but not sure how to pass it as a parameter so that I will use it in my feature file. We are using client-credentials for auth.<a href=\"https://i.stack.imgur.com/QURQq.jpg\" rel=\"nofollow noreferrer\">enter image description here</a>\nI want to pass token in below mentioned karate test case:</p>\n<p><a href=\"https://i.stack.imgur.com/cUoJX.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/cUoJX.jpg\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","json","spring-boot","jackson"],"owner":{"account_id":26862371,"reputation":1,"user_id":20445631,"display_name":"DUMBLEDHOR"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":100,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673535001,"creation_date":1673535001,"question_id":75098148,"body_markdown":"I have a class as UserPayload.java\r\n\r\n```\r\npackage com.pulse.org.dto;\r\n\r\nimport com.fasterxml.jackson.annotation.JsonInclude;\r\nimport com.fasterxml.jackson.annotation.JsonProperty;\r\nimport com.fasterxml.jackson.annotation.JsonPropertyOrder;\r\nimport com.fasterxml.jackson.annotation.JsonUnwrapped;\r\nimport io.swagger.v3.oas.annotations.media.Schema;\r\nimport java.util.UUID;\r\nimport javax.validation.constraints.NotNull;\r\nimport lombok.Data;\r\n\r\n@JsonInclude(value = JsonInclude.Include.NON_EMPTY, content = JsonInclude.Include.NON_NULL)\r\n@JsonPropertyOrder({&quot;id&quot;, &quot;firstName&quot;, &quot;middleName&quot;, &quot;lastName&quot;, &quot;email&quot;, &quot;countryCode&quot;, &quot;mobileNumber&quot;, &quot;orgId&quot;})\r\n@Data\r\n@Schema(description = &quot;details of a user&quot;)\r\npublic class UserPayload {\r\n\r\n  /**\r\n   * id of a user\r\n   */\r\n  @JsonProperty(&quot;id&quot;)\r\n  @Schema(name = &quot;id of a user&quot;)\r\n  private UUID id;\r\n\r\n  /*\r\n   * first name of a user\r\n   */\r\n  @NotNull(message = &quot;1020&quot;)\r\n  @Schema(name = &quot;first name of a user&quot;)\r\n  private String firstName;\r\n\r\n  /*\r\n   * middle name of a user\r\n   */\r\n  @Schema(name = &quot;middle name of a user&quot;)\r\n  private String middleName;\r\n\r\n  /*\r\n   * last name of a user\r\n   */\r\n  @NotNull(message = &quot;1021&quot;)\r\n  @Schema(name = &quot;last name of a user&quot;)\r\n  private String lastName;\r\n\r\n  /*\r\n   * email of a user\r\n   */\r\n  @NotNull(message = &quot;1022&quot;)\r\n  @Schema(name = &quot;email of a user&quot;)\r\n  private String email;\r\n\r\n  /*\r\n   * country code of a user\r\n   */\r\n  @Schema(name = &quot;country code of a user&quot;)\r\n  private Integer countryCode;\r\n\r\n  /*\r\n   * mobile number of a user\r\n   */\r\n  @Schema(name = &quot;mobile number of a user&quot;)\r\n  private Long mobileNumber;\r\n\r\n  /*\r\n   * organization id of a user&#39;s organization\r\n   */\r\n  @NotNull(message = &quot;1023&quot;)\r\n  @Schema(name = &quot;organization id of a user&#39;s organization&quot;)\r\n  private UUID orgId;\r\n\r\n  /**\r\n   * extra details of an user\r\n   */\r\n  @JsonUnwrapped\r\n\r\n  private UserExtraPayload userExtraPayload;\r\n}\r\n```\r\n\r\nand a class which is UserExtraPayload.java as a child of UserExtraPayload.\r\n\r\n```\r\npackage com.pulse.org.dto;\r\n\r\nimport com.fasterxml.jackson.annotation.JsonInclude;\r\nimport com.fasterxml.jackson.annotation.JsonPropertyOrder;\r\nimport io.swagger.v3.oas.annotations.media.Schema;\r\nimport java.util.UUID;\r\nimport lombok.Data;\r\nimport lombok.NoArgsConstructor;\r\n\r\n\r\n@JsonInclude(value = JsonInclude.Include.NON_EMPTY, content = JsonInclude.Include.NON_NULL)\r\n@JsonPropertyOrder({&quot;id&quot;, &quot;supervisorId&quot;, &quot;secondaryEmail&quot;, &quot;department&quot;, &quot;subDepartment&quot;})\r\n@Data\r\n@NoArgsConstructor\r\n@Schema(description = &quot;details of a user&quot;)\r\npublic class UserExtraPayload {\r\n\r\n  /**\r\n   * id of the user\r\n   */\r\n  @Schema(name = &quot;id of the user&quot;)\r\n  private UUID id;\r\n\r\n  /*\r\n   * supervisor&#39;s id of a user\r\n   */\r\n  @Schema(name = &quot;supervisor&#39;s id of a user&quot;)\r\n  private UUID supervisorId;\r\n\r\n  /*\r\n   * secondary email of a user\r\n   */\r\n  @Schema(name = &quot;secondary email of a user&quot;)\r\n  private String secondaryEmail;\r\n\r\n  /*\r\n   * department of a user\r\n   */\r\n  @Schema(name = &quot;department of a user&quot;)\r\n  private String department;\r\n\r\n  /*\r\n   * sub department of a user\r\n   */\r\n  @Schema(name = &quot;sub department of a user&quot;)\r\n  private String subDepartment;\r\n}\r\n```\r\n\r\nexpected json\r\n\r\n```\r\n{\r\n        &quot;id&quot;: &quot;0125d290-9519-4170-89a8-0beeb6543055&quot;,\r\n        &quot;firstName&quot;: &quot;ritesh&quot;,\r\n        &quot;lastName&quot;: &quot;shakya&quot;,\r\n        &quot;email&quot;: &quot;abbs@xyz.com&quot;,\r\n        &quot;orgId&quot;: &quot;761eda6a-9a17-4047-b64b-2ce6c624fb8d&quot;,\r\n        &quot;supervisorId&quot;: &quot;761eda6a-9a17-4047-b64b-2ce6c624fb8d&quot;,\r\n        &quot;secondaryEmail&quot;: &quot;pqr@xyz&quot;,\r\n        &quot;department&quot;: &quot;ENG&quot;,\r\n        &quot;subDepartment&quot;: &quot;IT&quot;\r\n    }\r\n```\r\n\r\nBut I need to map same id which is in UserPayload and UserExtraPayload\r\n\r\nI tried using @JsonUnwrap but it&#39;s not working.\r\n\r\nI want to map a single id in both payload in UserExtra and UserPayload......","title":"Convert Java object to flattened json using Jackson","body":"<p>I have a class as UserPayload.java</p>\n<pre><code>package com.pulse.org.dto;\n\nimport com.fasterxml.jackson.annotation.JsonInclude;\nimport com.fasterxml.jackson.annotation.JsonProperty;\nimport com.fasterxml.jackson.annotation.JsonPropertyOrder;\nimport com.fasterxml.jackson.annotation.JsonUnwrapped;\nimport io.swagger.v3.oas.annotations.media.Schema;\nimport java.util.UUID;\nimport javax.validation.constraints.NotNull;\nimport lombok.Data;\n\n@JsonInclude(value = JsonInclude.Include.NON_EMPTY, content = JsonInclude.Include.NON_NULL)\n@JsonPropertyOrder({&quot;id&quot;, &quot;firstName&quot;, &quot;middleName&quot;, &quot;lastName&quot;, &quot;email&quot;, &quot;countryCode&quot;, &quot;mobileNumber&quot;, &quot;orgId&quot;})\n@Data\n@Schema(description = &quot;details of a user&quot;)\npublic class UserPayload {\n\n  /**\n   * id of a user\n   */\n  @JsonProperty(&quot;id&quot;)\n  @Schema(name = &quot;id of a user&quot;)\n  private UUID id;\n\n  /*\n   * first name of a user\n   */\n  @NotNull(message = &quot;1020&quot;)\n  @Schema(name = &quot;first name of a user&quot;)\n  private String firstName;\n\n  /*\n   * middle name of a user\n   */\n  @Schema(name = &quot;middle name of a user&quot;)\n  private String middleName;\n\n  /*\n   * last name of a user\n   */\n  @NotNull(message = &quot;1021&quot;)\n  @Schema(name = &quot;last name of a user&quot;)\n  private String lastName;\n\n  /*\n   * email of a user\n   */\n  @NotNull(message = &quot;1022&quot;)\n  @Schema(name = &quot;email of a user&quot;)\n  private String email;\n\n  /*\n   * country code of a user\n   */\n  @Schema(name = &quot;country code of a user&quot;)\n  private Integer countryCode;\n\n  /*\n   * mobile number of a user\n   */\n  @Schema(name = &quot;mobile number of a user&quot;)\n  private Long mobileNumber;\n\n  /*\n   * organization id of a user's organization\n   */\n  @NotNull(message = &quot;1023&quot;)\n  @Schema(name = &quot;organization id of a user's organization&quot;)\n  private UUID orgId;\n\n  /**\n   * extra details of an user\n   */\n  @JsonUnwrapped\n\n  private UserExtraPayload userExtraPayload;\n}\n</code></pre>\n<p>and a class which is UserExtraPayload.java as a child of UserExtraPayload.</p>\n<pre><code>package com.pulse.org.dto;\n\nimport com.fasterxml.jackson.annotation.JsonInclude;\nimport com.fasterxml.jackson.annotation.JsonPropertyOrder;\nimport io.swagger.v3.oas.annotations.media.Schema;\nimport java.util.UUID;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\n\n\n@JsonInclude(value = JsonInclude.Include.NON_EMPTY, content = JsonInclude.Include.NON_NULL)\n@JsonPropertyOrder({&quot;id&quot;, &quot;supervisorId&quot;, &quot;secondaryEmail&quot;, &quot;department&quot;, &quot;subDepartment&quot;})\n@Data\n@NoArgsConstructor\n@Schema(description = &quot;details of a user&quot;)\npublic class UserExtraPayload {\n\n  /**\n   * id of the user\n   */\n  @Schema(name = &quot;id of the user&quot;)\n  private UUID id;\n\n  /*\n   * supervisor's id of a user\n   */\n  @Schema(name = &quot;supervisor's id of a user&quot;)\n  private UUID supervisorId;\n\n  /*\n   * secondary email of a user\n   */\n  @Schema(name = &quot;secondary email of a user&quot;)\n  private String secondaryEmail;\n\n  /*\n   * department of a user\n   */\n  @Schema(name = &quot;department of a user&quot;)\n  private String department;\n\n  /*\n   * sub department of a user\n   */\n  @Schema(name = &quot;sub department of a user&quot;)\n  private String subDepartment;\n}\n</code></pre>\n<p>expected json</p>\n<pre><code>{\n        &quot;id&quot;: &quot;0125d290-9519-4170-89a8-0beeb6543055&quot;,\n        &quot;firstName&quot;: &quot;ritesh&quot;,\n        &quot;lastName&quot;: &quot;shakya&quot;,\n        &quot;email&quot;: &quot;abbs@xyz.com&quot;,\n        &quot;orgId&quot;: &quot;761eda6a-9a17-4047-b64b-2ce6c624fb8d&quot;,\n        &quot;supervisorId&quot;: &quot;761eda6a-9a17-4047-b64b-2ce6c624fb8d&quot;,\n        &quot;secondaryEmail&quot;: &quot;pqr@xyz&quot;,\n        &quot;department&quot;: &quot;ENG&quot;,\n        &quot;subDepartment&quot;: &quot;IT&quot;\n    }\n</code></pre>\n<p>But I need to map same id which is in UserPayload and UserExtraPayload</p>\n<p>I tried using @JsonUnwrap but it's not working.</p>\n<p>I want to map a single id in both payload in UserExtra and UserPayload......</p>\n"},{"tags":["java","selenium","cucumber","bdd"],"comments":[{"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1673526746,"post_id":75096310,"comment_id":132521924,"body_markdown":"Java only allows one of each annotation to be applied to a single method. Cucumber doesn&#39;t care about which adverbs you use. So change some of the `Then`(s) to `Given`, `When`, `And`, or `But`","body":"Java only allows one of each annotation to be applied to a single method. Cucumber doesn&#39;t care about which adverbs you use. So change some of the <code>Then</code>(s) to <code>Given</code>, <code>When</code>, <code>And</code>, or <code>But</code>"},{"owner":{"account_id":12961012,"reputation":51,"user_id":9370262,"display_name":"user9370262"},"score":0,"creation_date":1673527416,"post_id":75096310,"comment_id":132522158,"body_markdown":"It means Only one @Then can be used in for a method which defines the step definition implementation? But the function does exact same operation even it the defecation language got changed.","body":"It means Only one @Then can be used in for a method which defines the step definition implementation? But the function does exact same operation even it the defecation language got changed."}],"answers":[{"tags":[],"owner":{"account_id":794766,"reputation":158675,"user_id":871026,"accept_rate":76,"display_name":"Reimeus"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1673534188,"creation_date":1673526957,"answer_id":75096423,"question_id":75096310,"body_markdown":"You could use a regex OR grouping\r\n\r\n    @Then(&quot;User selects {string} (value|value under placements|and verify the value are Present in the dropdown)&quot;)\r\n    public void user_selectsValue(String locatorString, String option) throws Throwable {\r\n\r\nbut probably simpler to refactor to a single test phrase if the new `option` is not used/needed.\r\n\r\n","title":"Duplicate Annotations for cucumber in Java BDD framework","body":"<p>You could use a regex OR grouping</p>\n<pre><code>@Then(&quot;User selects {string} (value|value under placements|and verify the value are Present in the dropdown)&quot;)\npublic void user_selectsValue(String locatorString, String option) throws Throwable {\n</code></pre>\n<p>but probably simpler to refactor to a single test phrase if the new <code>option</code> is not used/needed.</p>\n"},{"tags":[],"owner":{"account_id":4895787,"reputation":10858,"user_id":3945473,"display_name":"M.P. Korstanje"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673534909,"creation_date":1673534909,"answer_id":75098126,"question_id":75096310,"body_markdown":"I guess you&#39;re using an old version of Cucumber. Since [Cucumber v5 the step definition annotations are repeatable][1]\r\n\r\n\r\n  [1]: https://github.com/cucumber/cucumber-jvm/blob/bb8f6bb1e007870b79d8d43d828be6490b6d3189/release-notes/v5.0.0.md#repeatable-annotations","title":"Duplicate Annotations for cucumber in Java BDD framework","body":"<p>I guess you're using an old version of Cucumber. Since <a href=\"https://github.com/cucumber/cucumber-jvm/blob/bb8f6bb1e007870b79d8d43d828be6490b6d3189/release-notes/v5.0.0.md#repeatable-annotations\" rel=\"nofollow noreferrer\">Cucumber v5 the step definition annotations are repeatable</a></p>\n"}],"owner":{"account_id":12961012,"reputation":51,"user_id":9370262,"display_name":"user9370262"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":77,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":75096423,"answer_count":2,"score":0,"last_activity_date":1673534909,"creation_date":1673526334,"question_id":75096310,"body_markdown":"Below three @Then statement coming from different step definition how to resolve this in Java.\r\n\r\n  \r\n\r\n\r\n\r\n    @Then(&quot;User selects {string} value&quot;)\r\n    @Then(&quot;User selects {string} and verify the value are Present in the dropdown&quot;)\r\n    @Then(&quot;User selects {string} value under placements&quot;)\r\n    public void user_selectsValue(String locatorString) throws Throwable {\r\n        locatorStr =  POC_homePageMenuItems.mainButtonDropdownNewfrmData(locatorString);\r\n        elementclick(locatorStr);\r\n        }\r\nHow to get this issue resolved, in python duplicate @Then with different step definition is allowed. How to resolve this in Java\r\n\r\n  [![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/pE16t.png","title":"Duplicate Annotations for cucumber in Java BDD framework","body":"<p>Below three @Then statement coming from different step definition how to resolve this in Java.</p>\n<pre><code>@Then(&quot;User selects {string} value&quot;)\n@Then(&quot;User selects {string} and verify the value are Present in the dropdown&quot;)\n@Then(&quot;User selects {string} value under placements&quot;)\npublic void user_selectsValue(String locatorString) throws Throwable {\n    locatorStr =  POC_homePageMenuItems.mainButtonDropdownNewfrmData(locatorString);\n    elementclick(locatorStr);\n    }\n</code></pre>\n<p>How to get this issue resolved, in python duplicate @Then with different step definition is allowed. How to resolve this in Java</p>\n<p><a href=\"https://i.stack.imgur.com/pE16t.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pE16t.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","mongodb","pojo","mongo-java","mongo-collection"],"answers":[{"tags":[],"owner":{"account_id":1599746,"reputation":13,"user_id":1481037,"display_name":"Harjinder Banga"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1673534748,"creation_date":1673534748,"answer_id":75098091,"question_id":74996309,"body_markdown":"We can use \r\n\r\n     public List&lt;CsvRow&gt; RetriveAllDocumentsInCSVRows(String collectionName) {\r\n        List&lt;CsvRow&gt; userList = new ArrayList&lt;CsvRow&gt;();\r\n        List&lt;CsvRow&gt; collection = database.getCollection(collectionName, CsvRow.class).find().into(userList);\r\n        // return all documents in the collection\r\n        for (CsvRow u : userList) {\r\n            System.out.println(u.getVin());\r\n        }\r\n\r\n        return collection;\r\n    }","title":"Trying to populate Java Pojo class with MongoDB collection and getting null","body":"<p>We can use</p>\n<pre><code> public List&lt;CsvRow&gt; RetriveAllDocumentsInCSVRows(String collectionName) {\n    List&lt;CsvRow&gt; userList = new ArrayList&lt;CsvRow&gt;();\n    List&lt;CsvRow&gt; collection = database.getCollection(collectionName, CsvRow.class).find().into(userList);\n    // return all documents in the collection\n    for (CsvRow u : userList) {\n        System.out.println(u.getVin());\n    }\n\n    return collection;\n}\n</code></pre>\n"}],"owner":{"account_id":1599746,"reputation":13,"user_id":1481037,"display_name":"Harjinder Banga"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":204,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75098091,"answer_count":1,"score":0,"last_activity_date":1673534748,"creation_date":1672764831,"question_id":74996309,"body_markdown":"I am trying to populate the Java POJO class with the Mongo DB collection but getting null when trying to get data from the Pojo class\r\n\r\nHere **CSVRow** is the **POJO class name**\r\n\r\n\r\n**The class constructor**\r\n```\r\nMongoDatabase database;\r\n\r\nMongoDbUtils() {\r\n    String uri = &quot;mongodb://localhost:27017/?maxPoolSize=20&amp;w=majority&quot;;\r\n\r\n    //This registry is required for your Mongo document to POJO conversion\r\n    ConnectionString connectionString = new ConnectionString(uri);\r\n    CodecRegistry pojoCodecRegistry = fromProviders(PojoCodecProvider.builder().automatic(true).build());\r\n    CodecRegistry codecRegistry = fromRegistries(MongoClientSettings.getDefaultCodecRegistry(), pojoCodecRegistry);\r\n    MongoClientSettings clientSettings = MongoClientSettings.builder()\r\n            .applyConnectionString(connectionString)\r\n            .codecRegistry(codecRegistry)\r\n            .build();\r\n    MongoClient mongoClient = MongoClients.create(clientSettings);\r\n    database = mongoClient.getDatabase(&quot;StudyPriceDataTest&quot;);\r\n}\r\n```\r\n\r\n\r\n\r\n**Function to retrieve data from POJO**\r\n```\r\npublic MongoCollection&lt;CsvRow&gt; RetriveAllDocumentsInCSVRows(String collectionName) {\r\n    System.out.println(collectionName);\r\n    MongoCollection&lt;CsvRow&gt; collection = database.getCollection(collectionName, CsvRow.class);\r\n    List&lt;CsvRow&gt; csvRows = collection.find(new Document(), CsvRow.class).into(new ArrayList&lt;CsvRow&gt;());\r\n    for(CsvRow doc:csvRows) {\r\n        System.out.println(&quot;vinsds=&quot;+doc.getVin()); **&lt;-- here I am getting null**\r\n    }\r\n    return collection;\r\n}\r\n```\r\n\r\n\r\n\r\nI tried with the code mentioned and I am expecting to get the data from the POJO","title":"Trying to populate Java Pojo class with MongoDB collection and getting null","body":"<p>I am trying to populate the Java POJO class with the Mongo DB collection but getting null when trying to get data from the Pojo class</p>\n<p>Here <strong>CSVRow</strong> is the <strong>POJO class name</strong></p>\n<p><strong>The class constructor</strong></p>\n<pre><code>MongoDatabase database;\n\nMongoDbUtils() {\n    String uri = &quot;mongodb://localhost:27017/?maxPoolSize=20&amp;w=majority&quot;;\n\n    //This registry is required for your Mongo document to POJO conversion\n    ConnectionString connectionString = new ConnectionString(uri);\n    CodecRegistry pojoCodecRegistry = fromProviders(PojoCodecProvider.builder().automatic(true).build());\n    CodecRegistry codecRegistry = fromRegistries(MongoClientSettings.getDefaultCodecRegistry(), pojoCodecRegistry);\n    MongoClientSettings clientSettings = MongoClientSettings.builder()\n            .applyConnectionString(connectionString)\n            .codecRegistry(codecRegistry)\n            .build();\n    MongoClient mongoClient = MongoClients.create(clientSettings);\n    database = mongoClient.getDatabase(&quot;StudyPriceDataTest&quot;);\n}\n</code></pre>\n<p><strong>Function to retrieve data from POJO</strong></p>\n<pre><code>public MongoCollection&lt;CsvRow&gt; RetriveAllDocumentsInCSVRows(String collectionName) {\n    System.out.println(collectionName);\n    MongoCollection&lt;CsvRow&gt; collection = database.getCollection(collectionName, CsvRow.class);\n    List&lt;CsvRow&gt; csvRows = collection.find(new Document(), CsvRow.class).into(new ArrayList&lt;CsvRow&gt;());\n    for(CsvRow doc:csvRows) {\n        System.out.println(&quot;vinsds=&quot;+doc.getVin()); **&lt;-- here I am getting null**\n    }\n    return collection;\n}\n</code></pre>\n<p>I tried with the code mentioned and I am expecting to get the data from the POJO</p>\n"},{"tags":["java","hashmap","java.util.scanner"],"comments":[{"owner":{"account_id":5850578,"reputation":1170,"user_id":4609353,"display_name":"Oleg Ushakov"},"score":0,"creation_date":1670332810,"post_id":74703178,"comment_id":131848061,"body_markdown":"requested logic doesn&#39;t applied to hashmap structure","body":"requested logic doesn&#39;t applied to hashmap structure"},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":2,"creation_date":1670333153,"post_id":74703178,"comment_id":131848192,"body_markdown":"You would probably want a `LinkedHashMap` or similar: `HashMap` is inherently unordered, and thus the values you put it may not come out in the same order.","body":"You would probably want a <code>LinkedHashMap</code> or similar: <code>HashMap</code> is inherently unordered, and thus the values you put it may not come out in the same order."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1670333375,"post_id":74703178,"comment_id":131848273,"body_markdown":"You may keep the first two IDs two variables so that you can remove those entries by ID when you want (variations of the idea are thinkable).","body":"You may keep the first two IDs two variables so that you can remove those entries by ID when you want (variations of the idea are thinkable)."},{"owner":{"account_id":23834920,"reputation":31,"user_id":17840763,"display_name":"bruuh"},"score":0,"creation_date":1670334694,"post_id":74703178,"comment_id":131848787,"body_markdown":"but I want to remove specifically the first 2 ID of my hashmap","body":"but I want to remove specifically the first 2 ID of my hashmap"},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":4,"creation_date":1670337215,"post_id":74703178,"comment_id":131849781,"body_markdown":"There is no &quot;first two&quot;: If you add keys `63` and `64` to a hashmap, then add `65`, you might be surprised that the order of your hashmap could be `64, 65, 63`. It is _unordered_, there is no notion of &quot;first two&quot; that&#39;s consistent with insertion order.","body":"There is no &quot;first two&quot;: If you add keys <code>63</code> and <code>64</code> to a hashmap, then add <code>65</code>, you might be surprised that the order of your hashmap could be <code>64, 65, 63</code>. It is <i>unordered</i>, there is no notion of &quot;first two&quot; that&#39;s consistent with insertion order."}],"answers":[{"tags":[],"owner":{"account_id":27166642,"reputation":34,"user_id":20704061,"display_name":"Mavlyan Sadirov"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1670848503,"creation_date":1670397898,"answer_id":74713066,"question_id":74703178,"body_markdown":"You can use interfaces SortedMap or NavigableMap for deleting first two key-pairs,\r\nbut you can NOT do it with HashMap, because it doesn&#39;t save order. As a hashmap has no order it makes no sense to delete the first entry.","title":"how to remove the first 2 key-pairs in hasmap","body":"<p>You can use interfaces SortedMap or NavigableMap for deleting first two key-pairs,\nbut you can NOT do it with HashMap, because it doesn't save order. As a hashmap has no order it makes no sense to delete the first entry.</p>\n"}],"owner":{"account_id":23834920,"reputation":31,"user_id":17840763,"display_name":"bruuh"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1673534591,"creation_date":1670332642,"question_id":74703178,"body_markdown":"I asks the user to put 2 key pairs\r\n\r\n    for (int j = 0; j &lt; 2; j++) {\r\n            System.out.print(&quot;Enter student ID &quot; + (j + 1) + &quot;: &quot;);\r\n            id = sc.next();\r\n            System.out.print(&quot;Enter student name &quot; + (j + 1) + &quot;: &quot;);\r\n            name = sc.next();\r\n            studentList.put(id, name);\r\n        }\r\nthen I removed the last pair the user entered\r\n\r\n    studentList.remove(id);\r\nI ask for another pair and added it into the hashmap\r\n\r\n    System.out.println(&quot;Enter username: &quot;);\r\n        username = sc.next();\r\n        System.out.println(&quot;Enter password: &quot;);\r\n        password = sc.next();\r\n        studentList.put(username, password);\r\nnow, I want to ask the user again for another 3 pair\r\n\r\n    for (int y = 0; y &lt; 3; y++) {\r\n            System.out.print(&quot;Enter username &quot; + (y + 1) + &quot;: &quot;);\r\n            username = sc.next();\r\n            System.out.print(&quot;Enter password &quot; + (y + 1) + &quot;: &quot;);\r\n            password = sc.next();\r\n            studentList.put(username, password);\r\n        }\r\nbut now, I want to remove the first 2 the user put.\r\n\r\n\r\nEDIT: I did it by putting the first 2 key pairs in an Array List so that it can be accessed in order.","title":"how to remove the first 2 key-pairs in hasmap","body":"<p>I asks the user to put 2 key pairs</p>\n<pre><code>for (int j = 0; j &lt; 2; j++) {\n        System.out.print(&quot;Enter student ID &quot; + (j + 1) + &quot;: &quot;);\n        id = sc.next();\n        System.out.print(&quot;Enter student name &quot; + (j + 1) + &quot;: &quot;);\n        name = sc.next();\n        studentList.put(id, name);\n    }\n</code></pre>\n<p>then I removed the last pair the user entered</p>\n<pre><code>studentList.remove(id);\n</code></pre>\n<p>I ask for another pair and added it into the hashmap</p>\n<pre><code>System.out.println(&quot;Enter username: &quot;);\n    username = sc.next();\n    System.out.println(&quot;Enter password: &quot;);\n    password = sc.next();\n    studentList.put(username, password);\n</code></pre>\n<p>now, I want to ask the user again for another 3 pair</p>\n<pre><code>for (int y = 0; y &lt; 3; y++) {\n        System.out.print(&quot;Enter username &quot; + (y + 1) + &quot;: &quot;);\n        username = sc.next();\n        System.out.print(&quot;Enter password &quot; + (y + 1) + &quot;: &quot;);\n        password = sc.next();\n        studentList.put(username, password);\n    }\n</code></pre>\n<p>but now, I want to remove the first 2 the user put.</p>\n<p>EDIT: I did it by putting the first 2 key pairs in an Array List so that it can be accessed in order.</p>\n"},{"tags":["java","java.util.scanner"],"answers":[{"tags":[],"owner":{"account_id":93007,"reputation":51990,"user_id":254643,"display_name":"Raghuram"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1288446178,"creation_date":1288446178,"answer_id":4058942,"question_id":4058912,"body_markdown":"Default delimiter of Scanner is whitespace.  Check [javadoc][1] for how to change this.\r\n\r\n\r\n  [1]: http://download.oracle.com/javase/1.5.0/docs/api/java/util/Scanner.html","title":"Scanner doesn&#39;t read whole sentence - difference between next() and nextLine() of scanner class","body":"<p>Default delimiter of Scanner is whitespace.  Check <a href=\"http://download.oracle.com/javase/1.5.0/docs/api/java/util/Scanner.html\" rel=\"noreferrer\">javadoc</a> for how to change this.</p>\n"},{"comments":[{"owner":{"account_id":664192,"reputation":375,"user_id":492089,"display_name":"Bonett09"},"score":0,"creation_date":1288446568,"post_id":4058945,"comment_id":4359860,"body_markdown":"Any other simple way, as I have not yet learned about the Console class?","body":"Any other simple way, as I have not yet learned about the Console class?"},{"owner":{"account_id":9193,"reputation":343123,"user_id":16883,"accept_rate":83,"display_name":"Michael Borgwardt"},"score":1,"creation_date":1288447402,"post_id":4058945,"comment_id":4359919,"body_markdown":"@Bonett09: Well, now you&#39;ve learned about it. It&#39;s actually in some ways simpler than using the input and output streams directly.","body":"@Bonett09: Well, now you&#39;ve learned about it. It&#39;s actually in some ways simpler than using the input and output streams directly."}],"tags":[],"owner":{"account_id":9193,"reputation":343123,"user_id":16883,"accept_rate":83,"display_name":"Michael Borgwardt"},"comment_count":2,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1288446213,"creation_date":1288446213,"answer_id":4058945,"question_id":4058912,"body_markdown":"Instead of using `System.in` and `System.out` directly, use the [`Console`][1] class - it allows you to display a prompt and read an entire line (thereby fixing your problem) of input in one call:\r\n\r\n    String address = System.console().readLine(&quot;Enter your Address: &quot;);\r\n\r\n  [1]: http://download.oracle.com/javase/6/docs/api/java/io/Console.html\r\n","title":"Scanner doesn&#39;t read whole sentence - difference between next() and nextLine() of scanner class","body":"<p>Instead of using <code>System.in</code> and <code>System.out</code> directly, use the <a href=\"http://download.oracle.com/javase/6/docs/api/java/io/Console.html\" rel=\"noreferrer\"><code>Console</code></a> class - it allows you to display a prompt and read an entire line (thereby fixing your problem) of input in one call:</p>\n\n<pre><code>String address = System.console().readLine(\"Enter your Address: \");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":55654,"reputation":90573,"user_id":166712,"accept_rate":100,"display_name":"Anthony Forloney"},"comment_count":0,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1288446725,"creation_date":1288446398,"answer_id":4058958,"question_id":4058912,"body_markdown":"I would use [`Scanner#nextLine`](http://download.oracle.com/javase/1.5.0/docs/api/java/util/Scanner.html#nextLine%28%29) opposed to `next` for your `address` attribute. \r\n\r\n\r\n&gt;This method returns the rest of the current line, excluding any line separator at the end.\r\n\r\nSince this returns the entire line, delimited by a line separator, it will allow the user to enter any address without any constraint.\r\n\r\n\r\n","title":"Scanner doesn&#39;t read whole sentence - difference between next() and nextLine() of scanner class","body":"<p>I would use <a href=\"http://download.oracle.com/javase/1.5.0/docs/api/java/util/Scanner.html#nextLine%28%29\" rel=\"noreferrer\"><code>Scanner#nextLine</code></a> opposed to <code>next</code> for your <code>address</code> attribute. </p>\n\n<blockquote>\n  <p>This method returns the rest of the current line, excluding any line separator at the end.</p>\n</blockquote>\n\n<p>Since this returns the entire line, delimited by a line separator, it will allow the user to enter any address without any constraint.</p>\n"},{"comments":[{"owner":{"account_id":4435478,"reputation":547,"user_id":3611439,"accept_rate":57,"display_name":"Rubinum"},"score":1,"creation_date":1415176410,"post_id":21132965,"comment_id":42088570,"body_markdown":"this answer is incorrect. If you test this code the lines with &quot;s.nextLine();&quot; will return nothing - an empty string. Dont use this answer!","body":"this answer is incorrect. If you test this code the lines with &quot;s.nextLine();&quot; will return nothing - an empty string. Dont use this answer!"},{"owner":{"account_id":4728704,"reputation":17032,"user_id":3824919,"display_name":"Tom"},"score":0,"creation_date":1508211129,"post_id":21132965,"comment_id":80510413,"body_markdown":"@Rubinum This code here is not wrong (logically wrong, yes, but not technically) and if your code returned an empty String, then you failed to use `s.nextLine()` correctly. That&#39;s not user114573s fault.","body":"@Rubinum This code here is not wrong (logically wrong, yes, but not technically) and if your code returned an empty String, then you failed to use <code>s.nextLine()</code> correctly. That&#39;s not user114573s fault."}],"tags":[],"owner":{"account_id":3848839,"reputation":1,"user_id":3196101,"display_name":"user114573"},"comment_count":2,"down_vote_count":4,"up_vote_count":0,"is_accepted":false,"score":-4,"last_activity_date":1389776452,"creation_date":1389776452,"answer_id":21132965,"question_id":4058912,"body_markdown":"You can do this:\r\n\r\n    class MyStudentDetails{\r\n        public static void main (String args[]){\r\n             Scanner s = new Scanner(System.in);\r\n             System.out.println(&quot;Enter Your Name: &quot;);\r\n             String name = s.nextLine();\r\n             System.out.println(&quot;Enter Your Age: &quot;);\r\n             String age = s.nextLine();\r\n             System.out.println(&quot;Enter Your E-mail: &quot;);\r\n             String email = s.nextLine();\r\n             System.out.println(&quot;Enter Your Address: &quot;);\r\n             String address = s.nextLine();\r\n\r\n\r\n             System.out.println(&quot;Name: &quot;+name);\r\n             System.out.println(&quot;Age: &quot;+age);\r\n             System.out.println(&quot;E-mail: &quot;+email);\r\n             System.out.println(&quot;Address: &quot;+address);\r\n\r\n        }\r\n    }","title":"Scanner doesn&#39;t read whole sentence - difference between next() and nextLine() of scanner class","body":"<p>You can do this:</p>\n\n<pre><code>class MyStudentDetails{\n    public static void main (String args[]){\n         Scanner s = new Scanner(System.in);\n         System.out.println(\"Enter Your Name: \");\n         String name = s.nextLine();\n         System.out.println(\"Enter Your Age: \");\n         String age = s.nextLine();\n         System.out.println(\"Enter Your E-mail: \");\n         String email = s.nextLine();\n         System.out.println(\"Enter Your Address: \");\n         String address = s.nextLine();\n\n\n         System.out.println(\"Name: \"+name);\n         System.out.println(\"Age: \"+age);\n         System.out.println(\"E-mail: \"+email);\n         System.out.println(\"Address: \"+address);\n\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3805046,"reputation":1192,"user_id":3157709,"accept_rate":28,"display_name":"Hammad Hassan"},"score":0,"creation_date":1477339113,"post_id":28963931,"comment_id":67716496,"body_markdown":"But still \\r is coming in String.","body":"But still \\r is coming in String."},{"owner":{"account_id":3841147,"reputation":797,"user_id":3184171,"display_name":"oraclesoon"},"score":0,"creation_date":1489656069,"post_id":28963931,"comment_id":72769505,"body_markdown":"Able to read the full line with spaces and special characters. Use sc.next().trim() to trim off the [Enter] from user input.","body":"Able to read the full line with spaces and special characters. Use sc.next().trim() to trim off the [Enter] from user input."},{"owner":{"account_id":9303311,"reputation":527,"user_id":6907983,"accept_rate":50,"display_name":"azhar baloch"},"score":0,"creation_date":1509208722,"post_id":28963931,"comment_id":80930596,"body_markdown":"It should be Scanner sc = new Scanner(System.in).useDelimiter(&quot;\\n&quot;);","body":"It should be Scanner sc = new Scanner(System.in).useDelimiter(&quot;\\n&quot;);"}],"tags":[],"owner":{"account_id":3097369,"reputation":177,"user_id":3584589,"display_name":"Nomad"},"comment_count":3,"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1425990969,"creation_date":1425990969,"answer_id":28963931,"question_id":4058912,"body_markdown":"Initialize the Scanner this way so that it delimits input using a new line character.\r\n\r\n    Scanner sc = new Scanner(System.in).useDelimiter(&quot;\\\\n&quot;);\r\n\r\nRefer the [JavaDoc][1] for more details\r\n\r\nUse sc.next() to get the whole line in a String\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/util/Scanner.html","title":"Scanner doesn&#39;t read whole sentence - difference between next() and nextLine() of scanner class","body":"<p>Initialize the Scanner this way so that it delimits input using a new line character.</p>\n\n<pre><code>Scanner sc = new Scanner(System.in).useDelimiter(\"\\\\n\");\n</code></pre>\n\n<p>Refer the <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Scanner.html\" rel=\"noreferrer\">JavaDoc</a> for more details</p>\n\n<p>Use sc.next() to get the whole line in a String</p>\n"},{"tags":[],"owner":{"account_id":7471640,"reputation":9,"user_id":5679439,"display_name":"Eugene Prokopenko"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1476795176,"creation_date":1454274915,"answer_id":35119553,"question_id":4058912,"body_markdown":"I had the same question. This should work for you: \r\n\r\n    s.nextLine();","title":"Scanner doesn&#39;t read whole sentence - difference between next() and nextLine() of scanner class","body":"<p>I had the same question. This should work for you: </p>\n\n<pre><code>s.nextLine();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3238160,"reputation":744,"user_id":2731794,"accept_rate":89,"display_name":"Ulphat"},"score":18,"creation_date":1470981803,"post_id":35642695,"comment_id":65179561,"body_markdown":"Because method `nextLine()` reads next symbols from current current line after cursors current position. For example, if your input contains 2 line `1` and `Hello World`. And source like that: `int x = sc.nextInt(); String s = sc.nextLine()`. In this case, after `nextInt()`, the cursor stays after the symbol &quot;1&quot; and this is the end of this line and `nextLine()` reads nothing. But, when you write code as you wrote top, at first, cursor moves to the next line and reads the word &quot;Hello&quot;. Then cursor stays right after the word &quot;Hello&quot;. And the command `sc.nextLine()` reads next symbols -&quot; World&quot;.","body":"Because method <code>nextLine()</code> reads next symbols from current current line after cursors current position. For example, if your input contains 2 line <code>1</code> and <code>Hello World</code>. And source like that: <code>int x = sc.nextInt(); String s = sc.nextLine()</code>. In this case, after <code>nextInt()</code>, the cursor stays after the symbol &quot;1&quot; and this is the end of this line and <code>nextLine()</code> reads nothing. But, when you write code as you wrote top, at first, cursor moves to the next line and reads the word &quot;Hello&quot;. Then cursor stays right after the word &quot;Hello&quot;. And the command <code>sc.nextLine()</code> reads next symbols -&quot; World&quot;."},{"owner":{"account_id":1189417,"reputation":30924,"user_id":1162620,"accept_rate":70,"display_name":"Ravi"},"score":6,"creation_date":1508338634,"post_id":35642695,"comment_id":80573489,"body_markdown":"First time ever seen an answer, which itself a question got many upvotes","body":"First time ever seen an answer, which itself a question got many upvotes"},{"owner":{"account_id":5945359,"reputation":430,"user_id":4675016,"display_name":"Arun"},"score":1,"creation_date":1522140549,"post_id":35642695,"comment_id":86020727,"body_markdown":"The **next()** methods scan for tokens (you can think of this as a word) and the **nextLine()** methods read from the Scanner&#39;s current location until the beginning of the next line","body":"The <b>next()</b> methods scan for tokens (you can think of this as a word) and the <b>nextLine()</b> methods read from the Scanner&#39;s current location until the beginning of the next line"},{"owner":{"account_id":12605951,"reputation":2564,"user_id":9166855,"display_name":"Prajwal Waingankar"},"score":0,"creation_date":1591539243,"post_id":35642695,"comment_id":110088325,"body_markdown":"Suppose inout is : &quot;Hello World I am Java&quot;; then String s = sc.next(); -&gt; will return &quot;Hello&quot; .... Now, according to doc., nextLine() returns  &quot;the line that was skipped...&quot;\nhence, s += sc.nextLine(); will be like -&gt; Hello +  World I am Java i.e. final string: &quot;Hello World I am Java&quot;","body":"Suppose inout is : &quot;Hello World I am Java&quot;; then String s = sc.next(); -&gt; will return &quot;Hello&quot; .... Now, according to doc., nextLine() returns  &quot;the line that was skipped...&quot; hence, s += sc.nextLine(); will be like -&gt; Hello +  World I am Java i.e. final string: &quot;Hello World I am Java&quot;"},{"owner":{"account_id":15307432,"reputation":857,"user_id":11043676,"display_name":"Mohamed Raza"},"score":0,"creation_date":1699715600,"post_id":35642695,"comment_id":136567635,"body_markdown":"this solution is working. when doing sc.next or nextline only the first words is fetch doing it as the answer give the full sentence","body":"this solution is working. when doing sc.next or nextline only the first words is fetch doing it as the answer give the full sentence"}],"tags":[],"owner":{"account_id":7880587,"reputation":481,"user_id":5954725,"display_name":"Arvind Ramachandran"},"comment_count":5,"down_vote_count":0,"up_vote_count":48,"is_accepted":false,"score":48,"last_activity_date":1673534475,"creation_date":1456456135,"answer_id":35642695,"question_id":4058912,"body_markdown":"This approach should work:      \r\n\r\n    String s = sc.next();\r\n    s += sc.nextLine();","title":"Scanner doesn&#39;t read whole sentence - difference between next() and nextLine() of scanner class","body":"<p>This approach should work:</p>\n<pre><code>String s = sc.next();\ns += sc.nextLine();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":9439596,"reputation":526,"user_id":7020538,"display_name":"Abhijith S"},"score":0,"creation_date":1529239556,"post_id":36104752,"comment_id":88793313,"body_markdown":"This is actually working. But why this answer is down voted?","body":"This is actually working. But why this answer is down voted?"}],"tags":[],"owner":{"account_id":8076253,"reputation":373,"user_id":6087211,"display_name":"Akshay Suresh"},"comment_count":1,"down_vote_count":3,"up_vote_count":1,"is_accepted":false,"score":-2,"last_activity_date":1529394850,"creation_date":1458408104,"answer_id":36104752,"question_id":4058912,"body_markdown":"Use `nextLine()` instead of `next()` for taking sentence as string input.\r\n\r\n\r\n\r\n    Scanner sc = new Scanner(System.in);\r\n    String s = sc.nextLine();","title":"Scanner doesn&#39;t read whole sentence - difference between next() and nextLine() of scanner class","body":"<p>Use <code>nextLine()</code> instead of <code>next()</code> for taking sentence as string input.</p>\n\n<pre><code>Scanner sc = new Scanner(System.in);\nString s = sc.nextLine();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6687310,"reputation":1,"user_id":5158042,"display_name":"Bharathi Mohan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1471634451,"creation_date":1471634451,"answer_id":39046332,"question_id":4058912,"body_markdown":"To get the whole adress add \r\n\r\n    s.nextLine();//read the rest of the line as input\r\n    \r\nbefore\r\n\r\n    System.out.println(&quot;Enter Your Address: &quot;);\r\n    String address = s.next();","title":"Scanner doesn&#39;t read whole sentence - difference between next() and nextLine() of scanner class","body":"<p>To get the whole adress add </p>\n\n<pre><code>s.nextLine();//read the rest of the line as input\n</code></pre>\n\n<p>before</p>\n\n<pre><code>System.out.println(\"Enter Your Address: \");\nString address = s.next();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7227784,"reputation":1,"user_id":5515758,"display_name":"Vinayak"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1474010315,"creation_date":1474009049,"answer_id":39525451,"question_id":4058912,"body_markdown":"    String s=&quot;Hi&quot;;\r\n    String s1=&quot;&quot;;\r\n    \r\n    //For Reading Line by hasNext() of scanner \r\n     while(scan.hasNext()){\r\n      s1 = scan.nextLine();\r\n     }\r\n    System.out.println(s+s1);\r\n    \r\n    /*This Worked Fine for me for reading Entire Line using Scanner*/","title":"Scanner doesn&#39;t read whole sentence - difference between next() and nextLine() of scanner class","body":"<pre><code>String s=\"Hi\";\nString s1=\"\";\n\n//For Reading Line by hasNext() of scanner \n while(scan.hasNext()){\n  s1 = scan.nextLine();\n }\nSystem.out.println(s+s1);\n\n/*This Worked Fine for me for reading Entire Line using Scanner*/\n</code></pre>\n"},{"tags":[],"owner":{"account_id":63782,"reputation":6252,"user_id":188622,"accept_rate":44,"display_name":"Gubatron"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1485005656,"creation_date":1485005656,"answer_id":41780007,"question_id":4058912,"body_markdown":"I set the token delimiter to be a newline pattern, read the next token, and then put the delimiter back to whatever it was.\r\n\r\n    public static String readLine(Scanner scanner) {\r\n            Pattern oldDelimiter = scanner.delimiter();\r\n            scanner.useDelimiter(&quot;\\\\r\\\\n|[\\\\n\\\\x0B\\\\x0C\\\\r\\\\u0085\\\\u2028\\\\u2029]&quot;);\r\n            String r = scanner.next();\r\n            scanner.useDelimiter(oldDelimiter);\r\n            return r;\r\n    }","title":"Scanner doesn&#39;t read whole sentence - difference between next() and nextLine() of scanner class","body":"<p>I set the token delimiter to be a newline pattern, read the next token, and then put the delimiter back to whatever it was.</p>\n\n<pre><code>public static String readLine(Scanner scanner) {\n        Pattern oldDelimiter = scanner.delimiter();\n        scanner.useDelimiter(\"\\\\r\\\\n|[\\\\n\\\\x0B\\\\x0C\\\\r\\\\u0085\\\\u2028\\\\u2029]\");\n        String r = scanner.next();\n        scanner.useDelimiter(oldDelimiter);\n        return r;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1238981,"reputation":132436,"user_id":1202025,"accept_rate":80,"display_name":"ρяσѕρєя K"},"score":2,"creation_date":1500304384,"post_id":45147683,"comment_id":77264711,"body_markdown":"Add some explanation with answer for how this answer help OP in fixing current issue","body":"Add some explanation with answer for how this answer help OP in fixing current issue"}],"tags":[],"owner":{"account_id":11348654,"reputation":21,"user_id":8320426,"display_name":"kallipudi yeswanth"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1500304397,"creation_date":1500304092,"answer_id":45147683,"question_id":4058912,"body_markdown":"    import java.util.Scanner;\r\n    public class Solution {\r\n    \r\n        public static void main(String[] args) {\r\n            Scanner scan = new Scanner(System.in);\r\n            int i = scan.nextInt();\r\n            double d = scan.nextDouble();\r\n            String s=&quot;&quot;;\r\n            while(scan.hasNext())\r\n            {\r\n                s=scan.nextLine();\r\n            }\r\n           \r\n            System.out.println(&quot;String: &quot; +s);\r\n            System.out.println(&quot;Double: &quot; + d);\r\n            System.out.println(&quot;Int: &quot; + i);\r\n        }\r\n    }\r\n\r\n","title":"Scanner doesn&#39;t read whole sentence - difference between next() and nextLine() of scanner class","body":"<pre><code>import java.util.Scanner;\npublic class Solution {\n\n    public static void main(String[] args) {\n        Scanner scan = new Scanner(System.in);\n        int i = scan.nextInt();\n        double d = scan.nextDouble();\n        String s=\"\";\n        while(scan.hasNext())\n        {\n            s=scan.nextLine();\n        }\n\n        System.out.println(\"String: \" +s);\n        System.out.println(\"Double: \" + d);\n        System.out.println(\"Int: \" + i);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8691257,"reputation":160,"user_id":6504076,"display_name":"Gourab Konar"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1542181536,"creation_date":1502951114,"answer_id":45727956,"question_id":4058912,"body_markdown":"`next()` can read the input only till the space. It can&#39;t read two words separated by space. Also, `next()` places the cursor in the same line after reading the input.\r\n\r\n`nextLine()` reads input including space between the words (that is, it reads till the end of line `\\n`). Once the input is read, `nextLine()` positions the cursor in the next line.\r\n\r\nfor reading the entire line you can use `nextLine()`","title":"Scanner doesn&#39;t read whole sentence - difference between next() and nextLine() of scanner class","body":"<p><code>next()</code> can read the input only till the space. It can't read two words separated by space. Also, <code>next()</code> places the cursor in the same line after reading the input.</p>\n\n<p><code>nextLine()</code> reads input including space between the words (that is, it reads till the end of line <code>\\n</code>). Once the input is read, <code>nextLine()</code> positions the cursor in the next line.</p>\n\n<p>for reading the entire line you can use <code>nextLine()</code></p>\n"},{"comments":[{"owner":{"account_id":6453072,"reputation":37996,"user_id":4999394,"accept_rate":98,"display_name":"Ravindra babu"},"score":1,"creation_date":1503717921,"post_id":45891608,"comment_id":78742483,"body_markdown":"This does not answer this question. Post your query as new question.","body":"This does not answer this question. Post your query as new question."},{"owner":{"account_id":1930468,"reputation":2187,"user_id":1739949,"display_name":"Barani r"},"score":0,"creation_date":1542423976,"post_id":45891608,"comment_id":93574237,"body_markdown":"&quot; String s=&quot;&quot;;\n        while(scan.hasNext())\n        {\n            s=scan.nextLine();\n        }&quot; is what i was looking for, which prints the whole line. Thanks.","body":"&quot; String s=&quot;&quot;;         while(scan.hasNext())         {             s=scan.nextLine();         }&quot; is what i was looking for, which prints the whole line. Thanks."}],"tags":[],"owner":{"account_id":11331814,"reputation":61,"user_id":8309108,"display_name":"Asid"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1503738727,"creation_date":1503717439,"answer_id":45891608,"question_id":4058912,"body_markdown":"I tried following code but this is not stopping as there is no break condition so it always waiting for input , may be you could add a condition for break\r\n\r\n\r\n    public class Solution {\r\n\r\n        public static void main(String[] args) {\r\n            Scanner scan = new Scanner(System.in);\r\n            int i = scan.nextInt();\r\n            double d = scan.nextDouble();\r\n            String s=&quot;&quot;;\r\n            while(scan.hasNext())\r\n            {\r\n                s=scan.nextLine();\r\n            }\r\n\r\n            System.out.println(&quot;String: &quot; +s);\r\n            System.out.println(&quot;Double: &quot; + d);\r\n            System.out.println(&quot;Int: &quot; + i);\r\n        }\r\n    }","title":"Scanner doesn&#39;t read whole sentence - difference between next() and nextLine() of scanner class","body":"<p>I tried following code but this is not stopping as there is no break condition so it always waiting for input , may be you could add a condition for break</p>\n\n<pre><code>public class Solution {\n\n    public static void main(String[] args) {\n        Scanner scan = new Scanner(System.in);\n        int i = scan.nextInt();\n        double d = scan.nextDouble();\n        String s=\"\";\n        while(scan.hasNext())\n        {\n            s=scan.nextLine();\n        }\n\n        System.out.println(\"String: \" +s);\n        System.out.println(\"Double: \" + d);\n        System.out.println(\"Int: \" + i);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4865074,"reputation":63,"user_id":3923618,"display_name":"Satyajit Mishra"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1508211586,"creation_date":1505812982,"answer_id":46296601,"question_id":4058912,"body_markdown":"Below is the sample code to read a line in Standard input using Java Scanner class.\r\n    \r\n    import java.util.Scanner;\r\n    \r\n    public class Solution {\r\n    \r\n        public static void main(String[] args) {\r\n            Scanner scan = new Scanner(System.in);\r\n            String s = scan.nextLine();\r\n            System.out.println(s);\r\n            scan.close();\r\n        }\r\n    }\r\n\r\nInput:\r\n\r\n&gt;Hello World\r\n\r\nOutput:\r\n\r\n&gt;Hello World","title":"Scanner doesn&#39;t read whole sentence - difference between next() and nextLine() of scanner class","body":"<p>Below is the sample code to read a line in Standard input using Java Scanner class.</p>\n\n<pre><code>import java.util.Scanner;\n\npublic class Solution {\n\n    public static void main(String[] args) {\n        Scanner scan = new Scanner(System.in);\n        String s = scan.nextLine();\n        System.out.println(s);\n        scan.close();\n    }\n}\n</code></pre>\n\n<p>Input:</p>\n\n<blockquote>\n  <p>Hello World</p>\n</blockquote>\n\n<p>Output:</p>\n\n<blockquote>\n  <p>Hello World</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":11886089,"reputation":557,"user_id":8698420,"display_name":"magician"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1508210606,"creation_date":1508210606,"answer_id":46781983,"question_id":4058912,"body_markdown":"&quot;it only prints a word lets say only &#39;Archbishop&#39; from &#39;Archbishop Street&quot;\r\n\r\nIt is only printing the word because Scanner functions such as next(), nextInt(), etc. read only a token at time. Thus this function reads and returns the next token.\r\n\r\n    For example if you have: x y z\r\n     s.next() will return x\r\n     s.nextLine() y z\r\n\r\nGoing back to your code if you want to read the whole line &quot;Archbishop Street&quot;\r\n\r\n    String address = s.next(); // s = &quot;Archbishop&quot;\r\n    Then address += s.nextLine(); // s = s + &quot; Street&quot;","title":"Scanner doesn&#39;t read whole sentence - difference between next() and nextLine() of scanner class","body":"<p>\"it only prints a word lets say only 'Archbishop' from 'Archbishop Street\"</p>\n\n<p>It is only printing the word because Scanner functions such as next(), nextInt(), etc. read only a token at time. Thus this function reads and returns the next token.</p>\n\n<pre><code>For example if you have: x y z\n s.next() will return x\n s.nextLine() y z\n</code></pre>\n\n<p>Going back to your code if you want to read the whole line \"Archbishop Street\"</p>\n\n<pre><code>String address = s.next(); // s = \"Archbishop\"\nThen address += s.nextLine(); // s = s + \" Street\"\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10941363,"reputation":41,"user_id":8041106,"display_name":"Malsha"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1508337983,"creation_date":1508337983,"answer_id":46813007,"question_id":4058912,"body_markdown":"We can easily done using scan.nextLine .It will read the rest of the input till the end. Then assign it to your variable. Entire sentence can be printed easily\r\n. Here is the example for your better understanding.\r\n\r\n\r\n\r\n\r\n\r\n       \r\n        String s = &quot;HackerRank &quot;;\r\n      \r\n        Scanner scan = new Scanner(System.in);\r\n        \r\n       \r\n        String s2;\r\n        \r\n        \r\n        \r\n        scan.nextLine(); // read the rest of the line of input (newline character after the double token).\r\n        s2 = scan.nextLine();\r\n       \r\n       \r\n      \r\n        /* Concatenate and print the String variables on a new line integer variables on a new line; \r\n          \r\n        System.out.println(s + s2);\r\n        \r\n        scan.close();\r\n   }\r\n}","title":"Scanner doesn&#39;t read whole sentence - difference between next() and nextLine() of scanner class","body":"<p>We can easily done using scan.nextLine .It will read the rest of the input till the end. Then assign it to your variable. Entire sentence can be printed easily\n. Here is the example for your better understanding.</p>\n\n<pre><code>    String s = \"HackerRank \";\n\n    Scanner scan = new Scanner(System.in);\n\n\n    String s2;\n\n\n\n    scan.nextLine(); // read the rest of the line of input (newline character after the double token).\n    s2 = scan.nextLine();\n\n\n\n    /* Concatenate and print the String variables on a new line integer variables on a new line; \n\n    System.out.println(s + s2);\n\n    scan.close();\n</code></pre>\n\n<p>}\n}</p>\n"},{"tags":[],"owner":{"account_id":5668676,"reputation":997,"user_id":4484081,"display_name":"akshaya pandey"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1510081400,"creation_date":1510081400,"answer_id":47165615,"question_id":4058912,"body_markdown":"the below piece of code should do what yoiu are looking for:\r\n\r\n    public static void main(String[] args) {\r\n        Scanner scan = new Scanner(System.in);\r\n        String s = scan.nextLine();\r\n        System.out.println(s);\r\n        scan.close();\r\n    }","title":"Scanner doesn&#39;t read whole sentence - difference between next() and nextLine() of scanner class","body":"<p>the below piece of code should do what yoiu are looking for:</p>\n\n<pre><code>public static void main(String[] args) {\n    Scanner scan = new Scanner(System.in);\n    String s = scan.nextLine();\n    System.out.println(s);\n    scan.close();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14194091,"reputation":51,"user_id":10253869,"display_name":"ayush sharma"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1547634352,"creation_date":1542175641,"answer_id":53294087,"question_id":4058912,"body_markdown":"    import java.util.Scanner;\r\n    \r\n    public class Solution {\r\n    \r\n        public static void main(String[] args) {\r\n            Scanner scan = new Scanner(System.in);\r\n            String s = scan.next();\r\n            s += scan.nextLine();\r\n            System.out.println(&quot;String: &quot; + s);\r\n         \r\n        }\r\n    }","title":"Scanner doesn&#39;t read whole sentence - difference between next() and nextLine() of scanner class","body":"<pre><code>import java.util.Scanner;\n\npublic class Solution {\n\n    public static void main(String[] args) {\n        Scanner scan = new Scanner(System.in);\n        String s = scan.next();\n        s += scan.nextLine();\n        System.out.println(\"String: \" + s);\n\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7807404,"reputation":800,"user_id":6151577,"display_name":"venkatskpi"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1557223718,"creation_date":1557223718,"answer_id":56020240,"question_id":4058912,"body_markdown":"&gt; java.util.Scanner; util - package, Scanner - Class \r\n\r\n1. `next()` reads the string before the space. it cannot read anything after it gets the first space.\r\n2. `nextLine()` reads the whole line. Read until the end of the line or &quot;/n&quot;.\r\n   **Note:** Not The Next line\r\n   \r\n\r\n**(Example)**\r\n\r\nMy mission in life is not merely to survive, but to thrive; \r\n\r\nand to do so with some passion, some compassion, some humor.\r\n\r\n***(Output)***\r\n\r\n1. My\r\n\r\n2. My mission in life is not merely to survive, but to thrive;\r\n\r\n***Tricks:***\r\n\r\nIf you want to read the next line Check Java `has` method.\r\n\r\n    while (scanner.hasNext()) {\r\n        scan.next();\r\n    }\r\n    \r\n    while (scanner.hasNext()) {\r\n        scan.nextLine();\r\n    }\r\n\r\n\r\n\r\n         ","title":"Scanner doesn&#39;t read whole sentence - difference between next() and nextLine() of scanner class","body":"<blockquote>\n  <p>java.util.Scanner; util - package, Scanner - Class </p>\n</blockquote>\n\n<ol>\n<li><code>next()</code> reads the string before the space. it cannot read anything after it gets the first space.</li>\n<li><code>nextLine()</code> reads the whole line. Read until the end of the line or \"/n\".\n<strong>Note:</strong> Not The Next line</li>\n</ol>\n\n<p><strong>(Example)</strong></p>\n\n<p>My mission in life is not merely to survive, but to thrive; </p>\n\n<p>and to do so with some passion, some compassion, some humor.</p>\n\n<p><strong><em>(Output)</em></strong></p>\n\n<ol>\n<li><p>My</p></li>\n<li><p>My mission in life is not merely to survive, but to thrive;</p></li>\n</ol>\n\n<p><strong><em>Tricks:</em></strong></p>\n\n<p>If you want to read the next line Check Java <code>has</code> method.</p>\n\n<pre><code>while (scanner.hasNext()) {\n    scan.next();\n}\n\nwhile (scanner.hasNext()) {\n    scan.nextLine();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15983185,"reputation":932,"user_id":11534375,"display_name":"Hemanth Kollipara"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1596052515,"creation_date":1596052515,"answer_id":63161491,"question_id":4058912,"body_markdown":"`next()` will only store the input up to the first token. if there are two words &quot;Hi there&quot; it means there are two tokens separated by space (delimiter). Every time you call the next() method it reads only one token.&lt;/br&gt;\r\n\r\nif input is &quot;Hi there !&quot;\r\n```java    \r\nScanner scan = new Scanner(System.in);\r\nString str = scan.next()\r\nSystem.out.println(str);\r\n```\r\nOutput\r\n\r\n&gt;Hi\r\n\r\nSo if you both the words you need to call `next()` again to get the next token which is inefficient for longer string input\r\n\r\n`nextLine()` on the other hand grabs the entire line that the user enters even with spaces\r\n```java    \r\nScanner scan = new Scanner(System.in);\r\nString str = scan.nextLine()\r\nSystem.out.println(str);\r\n```\r\nOutput\r\n\r\n&gt;Hi there !\r\n\r\n\r\n\r\n","title":"Scanner doesn&#39;t read whole sentence - difference between next() and nextLine() of scanner class","body":"<p><code>next()</code> will only store the input up to the first token. if there are two words &quot;Hi there&quot; it means there are two tokens separated by space (delimiter). Every time you call the next() method it reads only one token.</p>\n<p>if input is &quot;Hi there !&quot;</p>\n<pre class=\"lang-java prettyprint-override\"><code>Scanner scan = new Scanner(System.in);\nString str = scan.next()\nSystem.out.println(str);\n</code></pre>\n<p>Output</p>\n<blockquote>\n<p>Hi</p>\n</blockquote>\n<p>So if you both the words you need to call <code>next()</code> again to get the next token which is inefficient for longer string input</p>\n<p><code>nextLine()</code> on the other hand grabs the entire line that the user enters even with spaces</p>\n<pre class=\"lang-java prettyprint-override\"><code>Scanner scan = new Scanner(System.in);\nString str = scan.nextLine()\nSystem.out.println(str);\n</code></pre>\n<p>Output</p>\n<blockquote>\n<p>Hi there !</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":7200746,"reputation":614,"user_id":5719535,"display_name":"Dinuka Ekanayake"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1596432066,"creation_date":1596431662,"answer_id":63224070,"question_id":4058912,"body_markdown":"next() is read until the space of the encounter, and the nextLine() is read to the end of the line. \r\n`Scanner scan = new Scanner(System.in);`  \r\n`String address = scan.next();`  \r\n`s += scan.nextLine();`","title":"Scanner doesn&#39;t read whole sentence - difference between next() and nextLine() of scanner class","body":"<p>next() is read until the space of the encounter, and the nextLine() is read to the end of the line.\n<code>Scanner scan = new Scanner(System.in);</code><br />\n<code>String address = scan.next();</code><br />\n<code>s += scan.nextLine();</code></p>\n"},{"tags":[],"owner":{"account_id":14382689,"reputation":166,"user_id":10389456,"display_name":"Sagansha San"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1607853024,"creation_date":1607853024,"answer_id":65274260,"question_id":4058912,"body_markdown":"    Scanner scanner = new Scanner(System.in);\r\n    String str = scanner.next();\r\n    str += scanner.readLine();\r\n\r\nString str = scanner.next(); ===&gt; it fetch the 1st word of the line (hello world!! =&gt; &quot;hello&quot;)\r\nstr += scanner.nextLine(); ===&gt; This method returns the rest of the current line, excluding any line separator at the end. (hello world!! =&gt; &quot; world!!&quot;)\r\n\r\n","title":"Scanner doesn&#39;t read whole sentence - difference between next() and nextLine() of scanner class","body":"<pre><code>Scanner scanner = new Scanner(System.in);\nString str = scanner.next();\nstr += scanner.readLine();\n</code></pre>\n<p>String str = scanner.next(); ===&gt; it fetch the 1st word of the line (hello world!! =&gt; &quot;hello&quot;)\nstr += scanner.nextLine(); ===&gt; This method returns the rest of the current line, excluding any line separator at the end. (hello world!! =&gt; &quot; world!!&quot;)</p>\n"},{"comments":[{"owner":{"account_id":15307432,"reputation":857,"user_id":11043676,"display_name":"Mohamed Raza"},"score":0,"creation_date":1699715723,"post_id":71101297,"comment_id":136567647,"body_markdown":"simple solution which was worked","body":"simple solution which was worked"}],"tags":[],"owner":{"account_id":7745608,"reputation":1158,"user_id":5863519,"display_name":"KR93"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1644760362,"creation_date":1644760362,"answer_id":71101297,"question_id":4058912,"body_markdown":"Try this !!!\r\n\r\n    \r\n        public static void main(String[] args) {\r\n            Scanner scan = new Scanner(System.in);\r\n            String s = scan.nextLine();\r\n            s = scan.nextLine();\r\n            scan.close();\r\n            System.out.println(&quot;String: &quot; + s);\r\n          \r\n        }\r\n\r\n","title":"Scanner doesn&#39;t read whole sentence - difference between next() and nextLine() of scanner class","body":"<p>Try this !!!</p>\n<pre><code>    public static void main(String[] args) {\n        Scanner scan = new Scanner(System.in);\n        String s = scan.nextLine();\n        s = scan.nextLine();\n        scan.close();\n        System.out.println(&quot;String: &quot; + s);\n      \n    }\n</code></pre>\n"}],"owner":{"account_id":664192,"reputation":375,"user_id":492089,"display_name":"Bonett09"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":132442,"favorite_count":0,"down_vote_count":0,"up_vote_count":33,"answer_count":24,"score":33,"last_activity_date":1673534475,"creation_date":1288445715,"question_id":4058912,"body_markdown":"I&#39;m writing a program which allows the user to input his data then outputs it. Its 3/4 correct but when it arrives at outputting the address it only prints a word lets say only &#39;Archbishop&#39; from &#39;Archbishop Street&#39;. How do I fix this?\r\n\r\n    import java.util.*;\r\n    \r\n    class MyStudentDetails{\r\n    \tpublic static void main (String args[]){\r\n    \t\tScanner s = new Scanner(System.in);\r\n    \t\tSystem.out.println(&quot;Enter Your Name: &quot;);\r\n    \t\tString name = s.next();\r\n    \t\tSystem.out.println(&quot;Enter Your Age: &quot;);\r\n    \t\tint age = s.nextInt();\r\n    \t\tSystem.out.println(&quot;Enter Your E-mail: &quot;);\r\n    \t\tString email = s.next();\r\n    \t\tSystem.out.println(&quot;Enter Your Address: &quot;);\r\n    \t\tString address = s.next();\r\n        \r\n    \t\tSystem.out.println(&quot;Name: &quot;+name);\r\n    \t\tSystem.out.println(&quot;Age: &quot;+age);\r\n    \t\tSystem.out.println(&quot;E-mail: &quot;+email);\r\n    \t\tSystem.out.println(&quot;Address: &quot;+address);\r\n    \t}\r\n    }","title":"Scanner doesn&#39;t read whole sentence - difference between next() and nextLine() of scanner class","body":"<p>I'm writing a program which allows the user to input his data then outputs it. Its 3/4 correct but when it arrives at outputting the address it only prints a word lets say only 'Archbishop' from 'Archbishop Street'. How do I fix this?</p>\n\n<pre><code>import java.util.*;\n\nclass MyStudentDetails{\n    public static void main (String args[]){\n        Scanner s = new Scanner(System.in);\n        System.out.println(\"Enter Your Name: \");\n        String name = s.next();\n        System.out.println(\"Enter Your Age: \");\n        int age = s.nextInt();\n        System.out.println(\"Enter Your E-mail: \");\n        String email = s.next();\n        System.out.println(\"Enter Your Address: \");\n        String address = s.next();\n\n        System.out.println(\"Name: \"+name);\n        System.out.println(\"Age: \"+age);\n        System.out.println(\"E-mail: \"+email);\n        System.out.println(\"Address: \"+address);\n    }\n}\n</code></pre>\n"},{"tags":["java","generics","deep-copy"],"answers":[{"tags":[],"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1673534410,"creation_date":1673466590,"answer_id":75088313,"question_id":75088191,"body_markdown":"No, there is not.  Deep serialization is as good and general as it gets.\r\n\r\n(Ideally, code designed using good immutability practices shouldn&#39;t _need_ shallow or deep copies.  I haven&#39;t written a copy function in years.)","title":"How to implement a generic deep copy function for an object in Java","body":"<p>No, there is not.  Deep serialization is as good and general as it gets.</p>\n<p>(Ideally, code designed using good immutability practices shouldn't <em>need</em> shallow or deep copies.  I haven't written a copy function in years.)</p>\n"}],"owner":{"account_id":26619464,"reputation":23,"user_id":20238388,"display_name":"stucky"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75088313,"answer_count":1,"score":1,"last_activity_date":1673534410,"creation_date":1673465880,"question_id":75088191,"body_markdown":"I&#39;m trying to create a deep copy function for an object in Java, but I want it to be generic so that it can work for any object, not just a specific class. My current implementation uses serialization to create the deep copy, but it feels hacky and inelegant:\r\n\r\n```\r\npublic static &lt;T&gt; T deepCopy(T object) {\r\n    \r\n        ByteArrayOutputStream baos = new ByteArrayOutputStream();\r\n        ObjectOutputStream oos = new ObjectOutputStream(baos);\r\n        oos.writeObject(object);\r\n\r\n        ByteArrayInputStream bais = new ByteArrayInputStream(baos.toByteArray());\r\n        ObjectInputStream ois = new ObjectInputStream(bais);\r\n        return (T) ois.readObject();\r\n}\r\n```\r\n\r\nIs there a more straightforward way to implement a deep copy function in Java that is both efficient and flexible?","title":"How to implement a generic deep copy function for an object in Java","body":"<p>I'm trying to create a deep copy function for an object in Java, but I want it to be generic so that it can work for any object, not just a specific class. My current implementation uses serialization to create the deep copy, but it feels hacky and inelegant:</p>\n<pre><code>public static &lt;T&gt; T deepCopy(T object) {\n    \n        ByteArrayOutputStream baos = new ByteArrayOutputStream();\n        ObjectOutputStream oos = new ObjectOutputStream(baos);\n        oos.writeObject(object);\n\n        ByteArrayInputStream bais = new ByteArrayInputStream(baos.toByteArray());\n        ObjectInputStream ois = new ObjectInputStream(bais);\n        return (T) ois.readObject();\n}\n</code></pre>\n<p>Is there a more straightforward way to implement a deep copy function in Java that is both efficient and flexible?</p>\n"},{"tags":["java","gradle","aspectj","freefair-aspectj"],"comments":[{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":1,"creation_date":1673514764,"post_id":75091079,"comment_id":132517832,"body_markdown":"What is the point of doing post-compile weaving within a single module? Usually, you would use that technique when weaving into existing libraries (possible third-party) which you do not have source code access to. You have a single module. There you should use the `io.freefair.aspectj` plugin rather than `io.freefair.aspectj.post-compile-weaving`.","body":"What is the point of doing post-compile weaving within a single module? Usually, you would use that technique when weaving into existing libraries (possible third-party) which you do not have source code access to. You have a single module. There you should use the <code>io.freefair.aspectj</code> plugin rather than <code>io.freefair.aspectj.post-compile-weaving</code>."},{"owner":{"account_id":23587902,"reputation":53,"user_id":17697751,"display_name":"avenue68"},"score":1,"creation_date":1673528958,"post_id":75091079,"comment_id":132522720,"body_markdown":"@kriegaex I think it&#39;s required to do post-compile weaving to use AspectJ with Lombok. And of course my production code consists of multiple modules but it seems that this problem is not related to the module is single or multi so my example is a single module.","body":"@kriegaex I think it&#39;s required to do post-compile weaving to use AspectJ with Lombok. And of course my production code consists of multiple modules but it seems that this problem is not related to the module is single or multi so my example is a single module."}],"answers":[{"comments":[{"owner":{"account_id":23587902,"reputation":53,"user_id":17697751,"display_name":"avenue68"},"score":0,"creation_date":1673535473,"post_id":75097832,"comment_id":132525199,"body_markdown":"Your answer is completely what I needed!! Thank you for quick answering and I&#39;m sorry for lefting some trash codes, I&#39;ll organize them later.","body":"Your answer is completely what I needed!! Thank you for quick answering and I&#39;m sorry for lefting some trash codes, I&#39;ll organize them later."},{"owner":{"account_id":2683108,"reputation":89,"user_id":2318030,"display_name":"S-Kerrigan"},"score":0,"creation_date":1680245948,"post_id":75097832,"comment_id":133868741,"body_markdown":"Excuse me, can you please add this code but for .kts? \nI cannot understand how just it transform :(","body":"Excuse me, can you please add this code but for .kts?  I cannot understand how just it transform :("},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1680256774,"post_id":75097832,"comment_id":133871141,"body_markdown":"It would be better to ask a new question, providing an [MCVE](https://stackoverflow.com/help/mcve). I do not speak Gradle, only Maven. I helped as much as I can here, but whatever the meaning of &quot;kts&quot; may be (Kotlin Script?), I do not know. If you, just like me, do not speak Kotlin either, maybe you want to stick with Groovy syntax.","body":"It would be better to ask a new question, providing an <a href=\"https://stackoverflow.com/help/mcve\">MCVE</a>. I do not speak Gradle, only Maven. I helped as much as I can here, but whatever the meaning of &quot;kts&quot; may be (Kotlin Script?), I do not know. If you, just like me, do not speak Kotlin either, maybe you want to stick with Groovy syntax."}],"tags":[],"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"comment_count":3,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1673534387,"creation_date":1673533663,"answer_id":75097832,"question_id":75091079,"body_markdown":"You need to add this to your Gradle build config:\r\n\r\n```java\r\ncompileTestJava.ajc.options.aspectpath.from sourceSets.main.output \r\n```\r\n\r\nSee also [here](https://github.com/freefair/gradle-plugins/issues/422#issuecomment-969315198).\r\n\r\nI tried with your sample project, and it works for me with these properties set:\r\n\r\n```java\r\ncompileJava.ajc.options.compilerArgs &lt;&lt; &quot;-showWeaveInfo -verbose&quot;\r\ncompileTestJava.ajc.options.compilerArgs &lt;&lt; &quot;-showWeaveInfo -verbose&quot;\r\ncompileTestJava.ajc.options.aspectpath.from sourceSets.main.output\r\n```\r\n\r\nI also had to rename your class `PluginTest` to `PostCompileWeavingPluginTest` in order to avoid a build error, because the file name was different from the class name.\r\n\r\nThe `clean test` build log now says:\r\n\r\n```none\r\n&gt; Task :clean\r\n&gt; Task :compileJava\r\nJoin point &#39;constructor-execution(void com.example.MyClass$WovenClassInMain.&lt;init&gt;())&#39; in Type &#39;com.example.MyClass$WovenClassInMain&#39; (WovenClassInMain.java:6) advised by afterReturning advice from &#39;com.example.MyAspect&#39; (MyAspect.class(from MyAspect.java))\r\n\t\r\n(...)\r\n\r\n&gt; Task :compileTestJava\r\nJoin point &#39;constructor-execution(void com.example.MyAspectTest$WovenClassInTest.&lt;init&gt;())&#39; in Type &#39;com.example.MyAspectTest$WovenClassInTest&#39; (MyAspectTest.java:9) advised by afterReturning advice from &#39;com.example.MyAspect&#39; (MyAspect.class(from MyAspect.java))\r\n\t\r\n(...)\r\n\r\n&gt; Task :test\r\n******* MyAspect wove: com.example.MyClass$WovenClassInMain\r\n******* MyAspect wove: com.example.MyAspectTest$WovenClassInTest\r\nroot project &#39;test&#39;\r\n```\r\n","title":"Post-Compile weaving not working to test code","body":"<p>You need to add this to your Gradle build config:</p>\n<pre class=\"lang-java prettyprint-override\"><code>compileTestJava.ajc.options.aspectpath.from sourceSets.main.output \n</code></pre>\n<p>See also <a href=\"https://github.com/freefair/gradle-plugins/issues/422#issuecomment-969315198\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>I tried with your sample project, and it works for me with these properties set:</p>\n<pre class=\"lang-java prettyprint-override\"><code>compileJava.ajc.options.compilerArgs &lt;&lt; &quot;-showWeaveInfo -verbose&quot;\ncompileTestJava.ajc.options.compilerArgs &lt;&lt; &quot;-showWeaveInfo -verbose&quot;\ncompileTestJava.ajc.options.aspectpath.from sourceSets.main.output\n</code></pre>\n<p>I also had to rename your class <code>PluginTest</code> to <code>PostCompileWeavingPluginTest</code> in order to avoid a build error, because the file name was different from the class name.</p>\n<p>The <code>clean test</code> build log now says:</p>\n<pre class=\"lang-none prettyprint-override\"><code>&gt; Task :clean\n&gt; Task :compileJava\nJoin point 'constructor-execution(void com.example.MyClass$WovenClassInMain.&lt;init&gt;())' in Type 'com.example.MyClass$WovenClassInMain' (WovenClassInMain.java:6) advised by afterReturning advice from 'com.example.MyAspect' (MyAspect.class(from MyAspect.java))\n    \n(...)\n\n&gt; Task :compileTestJava\nJoin point 'constructor-execution(void com.example.MyAspectTest$WovenClassInTest.&lt;init&gt;())' in Type 'com.example.MyAspectTest$WovenClassInTest' (MyAspectTest.java:9) advised by afterReturning advice from 'com.example.MyAspect' (MyAspect.class(from MyAspect.java))\n    \n(...)\n\n&gt; Task :test\n******* MyAspect wove: com.example.MyClass$WovenClassInMain\n******* MyAspect wove: com.example.MyAspectTest$WovenClassInTest\nroot project 'test'\n</code></pre>\n"}],"owner":{"account_id":23587902,"reputation":53,"user_id":17697751,"display_name":"avenue68"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":275,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75097832,"answer_count":1,"score":1,"last_activity_date":1673534387,"creation_date":1673491814,"question_id":75091079,"body_markdown":"I&#39;m using Gradle 7.4 and applying the `io.freefair.aspectj.post-compile-weaving` plugin. I want to test my aspect so I wrote a test class including an static inner class which should be advised by my aspect but my aspect does not advise it.\r\nI also wrote another class which should be advised in `src/main/java` directory and my aspect properly advise it.\r\n\r\nFor example I have following aspect, classes and tests in package `com.example`.\r\n\r\n- aspect class.\r\n``` java\r\n@Aspect\r\npublic class MyAspect {\r\n  @AfterReturning(&quot;@within(com.example.ShouldBeWoven) &amp;&amp; execution(* .new(..))&quot;)\r\n  public void myAdvice(JoinPoint joinPoint) {\r\n    System.out.println(&quot;******* MyAspect advised: &quot; + joinPoint.getSignature().getDeclaringTypeName());\r\n  }\r\n}\r\n```\r\n\r\n- marker annotation\r\n``` java\r\n@Documented\r\n@Target({TYPE})\r\n@Retention(RUNTIME)\r\npublic @interface ShouldBeWoven {\r\n}\r\n```\r\n\r\n- target static inner class in `main` source set\r\n``` java\r\nclass MyClass {\r\n\r\n  @ShouldBeWoven\r\n  static class WovenClassInMain {\r\n  }\r\n\r\n}\r\n```\r\n\r\n- target static inner class and test code in `test` source set\r\n``` java\r\nclass MyAspectTest {\r\n\r\n  @ShouldBeWoven\r\n  static class WovenClassInTest {\r\n  }\r\n\r\n  @Test\r\n  void instantiateWovenClassInMain() {\r\n    new WovenClassInMain();\r\n  }\r\n  \r\n  @Test\r\n  void instantiateWovenClassInTest() {\r\n    new WovenClassInTest();\r\n  }\r\n\r\n}\r\n```\r\n\r\nThe result was that `instantiateWovenClassInMain` showed message in the advice and `instantiateWovenClassInTest` did not. How can I weave my aspects to classes in `src/test/java` directory? \r\n\r\nI could achieve this when I was using `Load Time Weaving` by the way.\r\n\r\nHere is an [MCVE](https://github.com/avenue68/repository-for-sharing/tree/def4ae2e2240b60574b8f6b9ffeef50721eb7627/stackoverflow/75091079).","title":"Post-Compile weaving not working to test code","body":"<p>I'm using Gradle 7.4 and applying the <code>io.freefair.aspectj.post-compile-weaving</code> plugin. I want to test my aspect so I wrote a test class including an static inner class which should be advised by my aspect but my aspect does not advise it.\nI also wrote another class which should be advised in <code>src/main/java</code> directory and my aspect properly advise it.</p>\n<p>For example I have following aspect, classes and tests in package <code>com.example</code>.</p>\n<ul>\n<li>aspect class.</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>@Aspect\npublic class MyAspect {\n  @AfterReturning(&quot;@within(com.example.ShouldBeWoven) &amp;&amp; execution(* .new(..))&quot;)\n  public void myAdvice(JoinPoint joinPoint) {\n    System.out.println(&quot;******* MyAspect advised: &quot; + joinPoint.getSignature().getDeclaringTypeName());\n  }\n}\n</code></pre>\n<ul>\n<li>marker annotation</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>@Documented\n@Target({TYPE})\n@Retention(RUNTIME)\npublic @interface ShouldBeWoven {\n}\n</code></pre>\n<ul>\n<li>target static inner class in <code>main</code> source set</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>class MyClass {\n\n  @ShouldBeWoven\n  static class WovenClassInMain {\n  }\n\n}\n</code></pre>\n<ul>\n<li>target static inner class and test code in <code>test</code> source set</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>class MyAspectTest {\n\n  @ShouldBeWoven\n  static class WovenClassInTest {\n  }\n\n  @Test\n  void instantiateWovenClassInMain() {\n    new WovenClassInMain();\n  }\n  \n  @Test\n  void instantiateWovenClassInTest() {\n    new WovenClassInTest();\n  }\n\n}\n</code></pre>\n<p>The result was that <code>instantiateWovenClassInMain</code> showed message in the advice and <code>instantiateWovenClassInTest</code> did not. How can I weave my aspects to classes in <code>src/test/java</code> directory?</p>\n<p>I could achieve this when I was using <code>Load Time Weaving</code> by the way.</p>\n<p>Here is an <a href=\"https://github.com/avenue68/repository-for-sharing/tree/def4ae2e2240b60574b8f6b9ffeef50721eb7627/stackoverflow/75091079\" rel=\"nofollow noreferrer\">MCVE</a>.</p>\n"},{"tags":["java","apache-zookeeper"],"comments":[{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1673312737,"post_id":75052995,"comment_id":132466280,"body_markdown":"Don&#39;t you need to know what `superSecret` is ahead of time? Otherwise, you should report this in Zookeeper JIRA, probably, but Zookeeper is typically protected by TLS certificates, not passwords.","body":"Don&#39;t you need to know what <code>superSecret</code> is ahead of time? Otherwise, you should report this in Zookeeper JIRA, probably, but Zookeeper is typically protected by TLS certificates, not passwords."},{"owner":{"account_id":15997354,"reputation":13,"user_id":11544960,"display_name":"Doupengwei"},"score":0,"creation_date":1673525884,"post_id":75052995,"comment_id":132521646,"body_markdown":"superSecret  is hard code in Zookeeper project","body":"superSecret  is hard code in Zookeeper project"}],"owner":{"account_id":15997354,"reputation":13,"user_id":11544960,"display_name":"Doupengwei"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673534109,"creation_date":1673235959,"question_id":75052995,"body_markdown":"Zookeeper implement logical as picture show, anyone know it, does is a securty issue?\r\n[![enter image description here](https://i.stack.imgur.com/nQpoP.png)](https://i.stack.imgur.com/nQpoP.png)\r\n\r\ni try to simulate zookeeper logical, use same method  we can easy get same password by session Id.\r\n\r\n    private static final long superSecret = 0XB3415C00L;\r\n    static byte[] generatePasswd(long id) {\r\n        Random r = new Random(id ^ superSecret);\r\n        byte[] p = new byte[16];\r\n        r.nextBytes(p);\r\n        return p;\r\n    }\r\n    \r\n    public static void main(String[] args) {\r\n        byte[] passwd = new byte[16];\r\n    \r\n        long sessionId = 11L;\r\n    \r\n        Random r = new Random(sessionId ^ superSecret);\r\n        r.nextBytes(passwd);\r\n    \r\n        System.out.println(passwd);\r\n    \r\n        byte[] ps = generatePasswd(sessionId);\r\n    \r\n        System.out.println(generatePasswd(sessionId));\r\n    \r\n        boolean rs = Arrays.equals(passwd, generatePasswd(sessionId));\r\n        System.out.println(rs);\r\n    }","title":"Zookeeper will create a password for client by sessionId, and so we can forge it by sessionId, is&#39;t any security issue?","body":"<p>Zookeeper implement logical as picture show, anyone know it, does is a securty issue?\n<a href=\"https://i.stack.imgur.com/nQpoP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nQpoP.png\" alt=\"enter image description here\" /></a></p>\n<p>i try to simulate zookeeper logical, use same method  we can easy get same password by session Id.</p>\n<pre><code>private static final long superSecret = 0XB3415C00L;\nstatic byte[] generatePasswd(long id) {\n    Random r = new Random(id ^ superSecret);\n    byte[] p = new byte[16];\n    r.nextBytes(p);\n    return p;\n}\n\npublic static void main(String[] args) {\n    byte[] passwd = new byte[16];\n\n    long sessionId = 11L;\n\n    Random r = new Random(sessionId ^ superSecret);\n    r.nextBytes(passwd);\n\n    System.out.println(passwd);\n\n    byte[] ps = generatePasswd(sessionId);\n\n    System.out.println(generatePasswd(sessionId));\n\n    boolean rs = Arrays.equals(passwd, generatePasswd(sessionId));\n    System.out.println(rs);\n}\n</code></pre>\n"},{"tags":["java","gradle","aspectj","aspect","freefair-aspectj"],"answers":[{"comments":[{"owner":{"account_id":11590918,"reputation":734,"user_id":8491316,"display_name":"F. K."},"score":0,"creation_date":1614862928,"post_id":66450452,"comment_id":117518374,"body_markdown":"Thanks @kriegaex for the thorough answer. It makes a lot of sense now. I have been going through lots of posts and examples of AOP and Aspectj and none come come close to what you posted on here.","body":"Thanks @kriegaex for the thorough answer. It makes a lot of sense now. I have been going through lots of posts and examples of AOP and Aspectj and none come come close to what you posted on here."},{"owner":{"account_id":11590918,"reputation":734,"user_id":8491316,"display_name":"F. K."},"score":0,"creation_date":1614863830,"post_id":66450452,"comment_id":117518807,"body_markdown":"Hi Kriegaex, I simplified the build.gradle to the one you posted. I put both aspect and Account in src/main/java/aspectj and still Aspect did not seem to kick in. I tried also putting them into their own package com.abc.demo but still Aspect did not trigger. One thing to add here is I have to use Gradle since this is the standard here.","body":"Hi Kriegaex, I simplified the build.gradle to the one you posted. I put both aspect and Account in src/main/java/aspectj and still Aspect did not seem to kick in. I tried also putting them into their own package com.abc.demo but still Aspect did not trigger. One thing to add here is I have to use Gradle since this is the standard here."},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1614874183,"post_id":66450452,"comment_id":117524408,"body_markdown":"I said `src/main/aspectj`, not `src/main/java/aspectj`.","body":"I said <code>src&#47;main&#47;aspectj</code>, not <code>src&#47;main&#47;java&#47;aspectj</code>."},{"owner":{"account_id":11590918,"reputation":734,"user_id":8491316,"display_name":"F. K."},"score":0,"creation_date":1614882277,"post_id":66450452,"comment_id":117528166,"body_markdown":"Ok. This worked but is there a way, this can be in a java package rather than in src/main/aspecj? or it must exist in src/main/aspectj? The reason I am asking is that this is a big Java project under src/main/java and all our source code is in our root package.","body":"Ok. This worked but is there a way, this can be in a java package rather than in src/main/aspecj? or it must exist in src/main/aspectj? The reason I am asking is that this is a big Java project under src/main/java and all our source code is in our root package."},{"owner":{"account_id":11590918,"reputation":734,"user_id":8491316,"display_name":"F. K."},"score":3,"creation_date":1614886922,"post_id":66450452,"comment_id":117529902,"body_markdown":"Kriegaex, I see now why you said, this must be in src/main/aspectj since this is the default location where the freefair plugin looks for aspects. I am able to make it work in src/main/java by setting the following properties in build.gradle:\n\nsourceSets.main.aspectj.srcDir &quot;src/main/java&quot;\nsourceSets.main.java.srcDirs = files()\n\nThanks a lot for your help.","body":"Kriegaex, I see now why you said, this must be in src/main/aspectj since this is the default location where the freefair plugin looks for aspects. I am able to make it work in src/main/java by setting the following properties in build.gradle:  sourceSets.main.aspectj.srcDir &quot;src/main/java&quot; sourceSets.main.java.srcDirs = files()  Thanks a lot for your help."},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1614908996,"post_id":66450452,"comment_id":117535965,"body_markdown":"Yes, I just used the defaults. Actually, I was happy to get a sample project running in the first place. Like I said, I have zero Gradle experience and only was curious because the question was about AspectJ, which is rather my sweet spot. &#128521;","body":"Yes, I just used the defaults. Actually, I was happy to get a sample project running in the first place. Like I said, I have zero Gradle experience and only was curious because the question was about AspectJ, which is rather my sweet spot. 😉"}],"tags":[],"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"comment_count":6,"down_vote_count":0,"up_vote_count":14,"is_accepted":true,"score":14,"last_activity_date":1614744650,"creation_date":1614743007,"answer_id":66450452,"question_id":66440606,"body_markdown":"You are mixing a whole lot of stuff there:\r\n  * Freefair post-compile-time weaving plugin: This is unnecessary because you have Java source code and can compile it together with the aspect using normal compile-time weaving.\r\n  * AspectJ Maven plugin: This is useless because you cannot simply use a Maven plugin in Gradle.\r\n  * AspectJ load-time weaving Java agent: This is unnecessary because, like I said, you can use normal compile-time weaving here. You also do not need _aop.xml_ if you do not use `-javaagent:`.\r\n\r\nI guess you could use all three options, compile-time, post-compile-time and load-time weaving, but you should decide which one and not mix them. You also should decide if you want to use Gradle or Maven and also not try to mix them.\r\n\r\nThis is how compile-time weaving works:\r\n  1. Put both the application and aspect code in directory `src/main/aspectj`.\r\n  2. Simplify your Gradle build file to:\r\n```lang-groovy\r\nplugins {\r\n  id &quot;java&quot;\r\n  id &quot;io.freefair.aspectj&quot; version &quot;5.1.1&quot;\r\n}\r\n\r\ngroup &quot;org.example&quot;\r\nversion &quot;1.0-SNAPSHOT&quot;\r\n\r\nrepositories {\r\n  mavenCentral()\r\n}\r\n\r\ndependencies {\r\n  implementation &quot;org.aspectj:aspectjrt:1.9.6&quot;\r\n}\r\n```\r\n  3. Now when running the main class from my IDE, I see something like:\r\n```none\r\n&gt; Task :compileJava NO-SOURCE\r\n&gt; Task :compileAspectj UP-TO-DATE\r\n&gt; Task :processResources NO-SOURCE\r\n&gt; Task :classes UP-TO-DATE\r\n\r\n&gt; Task :Account.main()\r\n[before] withDraw, current balance 20\r\n[around] withDraw, check success\r\n[after] withDraw, current balance 15\r\n[before] withDraw, current balance 20\r\n[around] withDraw, check failed\r\n[after] withDraw, current balance 20\r\n```\r\n\r\nOf course you could also compile a separate aspect library and weave it into your application code, if the aspect library is to be re-used for several applications or modules or if the application source code is not written in Java (but e.g. in Kotlin, Groovy or Scala) and hence cannot compiled by the AspectJ compiler directly. I am not going into this here, though, because I wanted to show you the simplest solution, as you seem to be a beginner. (BTW, I am not a Gradle user either, I normally use AspectJ with Maven.)\r\n\r\n---\r\n\r\n**Update:** The plugin documentation is really bad, but you can see some [example projects](https://github.com/freefair/gradle-plugins/tree/master/examples/aspectj) in the maintainer&#39;s GitHub repository:\r\n  * _aspect:_ compile-time weaving, i.e. application + aspect in one module, as shown here in my answer\r\n  * _httpcore-nio:_ post-compile-time weaving into a 3rd party library\r\n  * _test:_ how to test aspects\r\n  * _weaving:_ mixed-language aspects in Java, Groovy and Lombok and how to use them all together in a single module\r\n\r\nAll of this can also be done using Maven and AspectJ Maven Plugin, but you specifically asked for Gradle.","title":"How to make an AspectJ Aspect work in a Gradle project?","body":"<p>You are mixing a whole lot of stuff there:</p>\n<ul>\n<li>Freefair post-compile-time weaving plugin: This is unnecessary because you have Java source code and can compile it together with the aspect using normal compile-time weaving.</li>\n<li>AspectJ Maven plugin: This is useless because you cannot simply use a Maven plugin in Gradle.</li>\n<li>AspectJ load-time weaving Java agent: This is unnecessary because, like I said, you can use normal compile-time weaving here. You also do not need <em>aop.xml</em> if you do not use <code>-javaagent:</code>.</li>\n</ul>\n<p>I guess you could use all three options, compile-time, post-compile-time and load-time weaving, but you should decide which one and not mix them. You also should decide if you want to use Gradle or Maven and also not try to mix them.</p>\n<p>This is how compile-time weaving works:</p>\n<ol>\n<li>Put both the application and aspect code in directory <code>src/main/aspectj</code>.</li>\n<li>Simplify your Gradle build file to:</li>\n</ol>\n<pre class=\"lang-groovy prettyprint-override\"><code>plugins {\n  id &quot;java&quot;\n  id &quot;io.freefair.aspectj&quot; version &quot;5.1.1&quot;\n}\n\ngroup &quot;org.example&quot;\nversion &quot;1.0-SNAPSHOT&quot;\n\nrepositories {\n  mavenCentral()\n}\n\ndependencies {\n  implementation &quot;org.aspectj:aspectjrt:1.9.6&quot;\n}\n</code></pre>\n<ol start=\"3\">\n<li>Now when running the main class from my IDE, I see something like:</li>\n</ol>\n<pre class=\"lang-none prettyprint-override\"><code>&gt; Task :compileJava NO-SOURCE\n&gt; Task :compileAspectj UP-TO-DATE\n&gt; Task :processResources NO-SOURCE\n&gt; Task :classes UP-TO-DATE\n\n&gt; Task :Account.main()\n[before] withDraw, current balance 20\n[around] withDraw, check success\n[after] withDraw, current balance 15\n[before] withDraw, current balance 20\n[around] withDraw, check failed\n[after] withDraw, current balance 20\n</code></pre>\n<p>Of course you could also compile a separate aspect library and weave it into your application code, if the aspect library is to be re-used for several applications or modules or if the application source code is not written in Java (but e.g. in Kotlin, Groovy or Scala) and hence cannot compiled by the AspectJ compiler directly. I am not going into this here, though, because I wanted to show you the simplest solution, as you seem to be a beginner. (BTW, I am not a Gradle user either, I normally use AspectJ with Maven.)</p>\n<hr />\n<p><strong>Update:</strong> The plugin documentation is really bad, but you can see some <a href=\"https://github.com/freefair/gradle-plugins/tree/master/examples/aspectj\" rel=\"noreferrer\">example projects</a> in the maintainer's GitHub repository:</p>\n<ul>\n<li><em>aspect:</em> compile-time weaving, i.e. application + aspect in one module, as shown here in my answer</li>\n<li><em>httpcore-nio:</em> post-compile-time weaving into a 3rd party library</li>\n<li><em>test:</em> how to test aspects</li>\n<li><em>weaving:</em> mixed-language aspects in Java, Groovy and Lombok and how to use them all together in a single module</li>\n</ul>\n<p>All of this can also be done using Maven and AspectJ Maven Plugin, but you specifically asked for Gradle.</p>\n"},{"tags":[],"owner":{"account_id":6589701,"reputation":21,"user_id":5091366,"display_name":"Ranjit Vadakkan"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1626533322,"creation_date":1626533322,"answer_id":68421582,"question_id":66440606,"body_markdown":"Thanks to the pointers in this thread, I was able to get 2 flavors of writing aspects to be built successfully from Gradle -\r\n\r\n 1. aspects defined inside src/main/java - https://github.com/vadakr/gradle-aspect-inside-java\r\n 2. aspects defined outside src/main/java, for example in src/main/aspectj - https://github.com/vadakr/gradle-aspect-outside-java\r\n\r\nNote that I&#39;ve used the &#39;io.freefair.aspectj.post-compile-weaving&#39; Gradle plugin (https://docs.freefair.io/gradle-plugins/6.0.0-m2/reference/#_io_freefair_aspectj_post_compile_weaving) becaause it was the simplest in that it automatically passed Java classes (all possible join points) into &#39;ajc&#39; - all you needed to do was point it to the aspects themselves.\r\n\r\nWhen debugging the Gradle build process, looking at the generated \r\n[ajc options][1] proved to be very useful. Cross-checking these against https://www.eclipse.org/aspectj/doc/next/devguide/ajc-ref.html usually pointed to the source of the problem. It was usually -inpath or -sourceroots related.\r\n\r\n - -inpath is how you get your join points into &#39;ajc&#39;\r\n - -sourceroots is how you get your aspects (pointcuts/advice) into &#39;ajc&#39;\r\n\r\nNote that the screenshot is from IntelliJ.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Iu0Ad.png","title":"How to make an AspectJ Aspect work in a Gradle project?","body":"<p>Thanks to the pointers in this thread, I was able to get 2 flavors of writing aspects to be built successfully from Gradle -</p>\n<ol>\n<li>aspects defined inside src/main/java - <a href=\"https://github.com/vadakr/gradle-aspect-inside-java\" rel=\"nofollow noreferrer\">https://github.com/vadakr/gradle-aspect-inside-java</a></li>\n<li>aspects defined outside src/main/java, for example in src/main/aspectj - <a href=\"https://github.com/vadakr/gradle-aspect-outside-java\" rel=\"nofollow noreferrer\">https://github.com/vadakr/gradle-aspect-outside-java</a></li>\n</ol>\n<p>Note that I've used the 'io.freefair.aspectj.post-compile-weaving' Gradle plugin (<a href=\"https://docs.freefair.io/gradle-plugins/6.0.0-m2/reference/#_io_freefair_aspectj_post_compile_weaving\" rel=\"nofollow noreferrer\">https://docs.freefair.io/gradle-plugins/6.0.0-m2/reference/#_io_freefair_aspectj_post_compile_weaving</a>) becaause it was the simplest in that it automatically passed Java classes (all possible join points) into 'ajc' - all you needed to do was point it to the aspects themselves.</p>\n<p>When debugging the Gradle build process, looking at the generated\n<a href=\"https://i.stack.imgur.com/Iu0Ad.png\" rel=\"nofollow noreferrer\">ajc options</a> proved to be very useful. Cross-checking these against <a href=\"https://www.eclipse.org/aspectj/doc/next/devguide/ajc-ref.html\" rel=\"nofollow noreferrer\">https://www.eclipse.org/aspectj/doc/next/devguide/ajc-ref.html</a> usually pointed to the source of the problem. It was usually -inpath or -sourceroots related.</p>\n<ul>\n<li>-inpath is how you get your join points into 'ajc'</li>\n<li>-sourceroots is how you get your aspects (pointcuts/advice) into 'ajc'</li>\n</ul>\n<p>Note that the screenshot is from IntelliJ.</p>\n"}],"owner":{"account_id":11590918,"reputation":734,"user_id":8491316,"display_name":"F. K."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9866,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":66450452,"answer_count":2,"score":9,"last_activity_date":1673533919,"creation_date":1614692645,"question_id":66440606,"body_markdown":"I am using the following sample code to understand AspectJ:\r\n\r\n```\r\npublic class Account {\r\n    int balance = 20;\r\n\r\n    public boolean withdraw(int amount) {\r\n        if (balance &lt; amount) {\r\n            return false;\r\n        }\r\n        balance = balance - amount;\r\n        return true;\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        Account acc = new Account();\r\n        acc.withdraw(5);\r\n\r\n        Account acc2 = new Account();\r\n        acc2.withdraw(25);\r\n    }\r\n}\r\n```\r\nand the following Aspect:\r\n\r\n```\r\npublic aspect AccountAspect {\r\n\r\n    pointcut callWithDraw(int amount, Account acc) :\r\n            call(boolean Account.withdraw(int)) &amp;&amp; args(amount) &amp;&amp; target(acc);\r\n\r\n    before(int amount, Account acc) : callWithDraw(amount, acc) {\r\n        System.out.printf(&quot;[before] withDraw, current balance %d%n&quot;, acc.balance);\r\n    }\r\n\r\n    boolean around(int amount, Account acc) : callWithDraw(amount, acc) {\r\n        if (acc.balance &lt; amount) {\r\n            System.out.println(&quot;[around] withDraw, check failed&quot;);\r\n            return false;\r\n        }\r\n        System.out.println(&quot;[around] withDraw, check success&quot;);\r\n        return proceed(amount, acc);\r\n    }\r\n\r\n    after(int amount, Account acc) : callWithDraw(amount, acc) {\r\n        System.out.printf(&quot;[after] withDraw, current balance %d%n&quot;, acc.balance);\r\n    }\r\n}\r\n```\r\nI am using the following Gradle build file:\r\n\r\n```\r\nplugins {\r\n    id &#39;java&#39;\r\n    id &quot;io.freefair.aspectj.post-compile-weaving&quot; version &quot;4.1.4&quot;\r\n}\r\n\r\nconfigurations {\r\n    ajc\r\n    aspects\r\n    aspectCompile\r\n    compile{\r\n        extendsFrom aspects\r\n    }\r\n}\r\n\r\ngroup &#39;org.example&#39;\r\nversion &#39;1.0-SNAPSHOT&#39;\r\n\r\nrepositories {\r\n    mavenCentral()\r\n}\r\n\r\ndependencies {\r\n    implementation group: &#39;org.aspectj&#39;, name: &#39;aspectjrt&#39;, version: &#39;1.9.4&#39;\r\n    implementation group: &#39;org.aspectj&#39;, name: &#39;aspectjweaver&#39;, version: &#39;1.9.4&#39;\r\n    implementation group: &#39;org.codehaus.mojo&#39;, name: &#39;aspectj-maven-plugin&#39;, version: &#39;1.8&#39;\r\n    testCompile group: &#39;junit&#39;, name: &#39;junit&#39;, version: &#39;4.12&#39;\r\n}\r\ncompileJava {\r\n    sourceCompatibility = &quot;1.8&quot;\r\n    targetCompatibility = &quot;1.8&quot;\r\n    //The following two lines are useful if you have queryDSL if not ignore\r\n    dependsOn configurations.ajc.getTaskDependencyFromProjectDependency(true, &quot;compileJava&quot;)\r\n}\r\n```\r\nand I am using Ajc compiler in Intellij to compile Java classes and aspects. In addition, I am setting the following VM options:\r\n```\r\n-javaagent:c:\\\\Users\\\\dev\\\\extlibs\\\\aspectjweaver-1.9.6.jar\r\n```\r\nThe code compiles and runs without any issues but the aspect never triggers. I am not sure what I am missing in my configuration but I could not find anything else I can do when using AspectJ. If I use @Aspect annotation and register the annotated Aspect in META-INF/aop.xml, the aspect runs but annotated @Aspect Java classes does not allow to create privileged aspect which I need to catch/intercept a private method. Any suggestions on how to resolve this issue?","title":"How to make an AspectJ Aspect work in a Gradle project?","body":"<p>I am using the following sample code to understand AspectJ:</p>\n<pre><code>public class Account {\n    int balance = 20;\n\n    public boolean withdraw(int amount) {\n        if (balance &lt; amount) {\n            return false;\n        }\n        balance = balance - amount;\n        return true;\n    }\n\n    public static void main(String[] args) {\n        Account acc = new Account();\n        acc.withdraw(5);\n\n        Account acc2 = new Account();\n        acc2.withdraw(25);\n    }\n}\n</code></pre>\n<p>and the following Aspect:</p>\n<pre><code>public aspect AccountAspect {\n\n    pointcut callWithDraw(int amount, Account acc) :\n            call(boolean Account.withdraw(int)) &amp;&amp; args(amount) &amp;&amp; target(acc);\n\n    before(int amount, Account acc) : callWithDraw(amount, acc) {\n        System.out.printf(&quot;[before] withDraw, current balance %d%n&quot;, acc.balance);\n    }\n\n    boolean around(int amount, Account acc) : callWithDraw(amount, acc) {\n        if (acc.balance &lt; amount) {\n            System.out.println(&quot;[around] withDraw, check failed&quot;);\n            return false;\n        }\n        System.out.println(&quot;[around] withDraw, check success&quot;);\n        return proceed(amount, acc);\n    }\n\n    after(int amount, Account acc) : callWithDraw(amount, acc) {\n        System.out.printf(&quot;[after] withDraw, current balance %d%n&quot;, acc.balance);\n    }\n}\n</code></pre>\n<p>I am using the following Gradle build file:</p>\n<pre><code>plugins {\n    id 'java'\n    id &quot;io.freefair.aspectj.post-compile-weaving&quot; version &quot;4.1.4&quot;\n}\n\nconfigurations {\n    ajc\n    aspects\n    aspectCompile\n    compile{\n        extendsFrom aspects\n    }\n}\n\ngroup 'org.example'\nversion '1.0-SNAPSHOT'\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    implementation group: 'org.aspectj', name: 'aspectjrt', version: '1.9.4'\n    implementation group: 'org.aspectj', name: 'aspectjweaver', version: '1.9.4'\n    implementation group: 'org.codehaus.mojo', name: 'aspectj-maven-plugin', version: '1.8'\n    testCompile group: 'junit', name: 'junit', version: '4.12'\n}\ncompileJava {\n    sourceCompatibility = &quot;1.8&quot;\n    targetCompatibility = &quot;1.8&quot;\n    //The following two lines are useful if you have queryDSL if not ignore\n    dependsOn configurations.ajc.getTaskDependencyFromProjectDependency(true, &quot;compileJava&quot;)\n}\n</code></pre>\n<p>and I am using Ajc compiler in Intellij to compile Java classes and aspects. In addition, I am setting the following VM options:</p>\n<pre><code>-javaagent:c:\\\\Users\\\\dev\\\\extlibs\\\\aspectjweaver-1.9.6.jar\n</code></pre>\n<p>The code compiles and runs without any issues but the aspect never triggers. I am not sure what I am missing in my configuration but I could not find anything else I can do when using AspectJ. If I use @Aspect annotation and register the annotated Aspect in META-INF/aop.xml, the aspect runs but annotated @Aspect Java classes does not allow to create privileged aspect which I need to catch/intercept a private method. Any suggestions on how to resolve this issue?</p>\n"},{"tags":["java","multiple-instances"],"comments":[{"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"score":6,"creation_date":1673528553,"post_id":75096705,"comment_id":132522561,"body_markdown":"Because you pass the same `List&lt;Cards&gt;` to both `Hand`(s).","body":"Because you pass the same <code>List&lt;Cards&gt;</code> to both <code>Hand</code>(s)."},{"owner":{"display_name":"user6073886"},"score":0,"creation_date":1673528572,"post_id":75096705,"comment_id":132522569,"body_markdown":"You are passing the same List to both your generated Objects so both will use that one List. If you want each Hand to have it&#39;s own different List of cards you need to pass different objects, because there will not be any automatic cloning when passing around Objects in java.","body":"You are passing the same List to both your generated Objects so both will use that one List. If you want each Hand to have it&#39;s own different List of cards you need to pass different objects, because there will not be any automatic cloning when passing around Objects in java."},{"owner":{"account_id":14632062,"reputation":585,"user_id":10671013,"display_name":"Tan Yu Hau Sean"},"score":1,"creation_date":1673528820,"post_id":75096705,"comment_id":132522666,"body_markdown":"why not just: `public Hand2() { this.hand = new ArrayList&lt;Cards&gt;(); }` or initialize it directly at the class variable level","body":"why not just: <code>public Hand2() { this.hand = new ArrayList&lt;Cards&gt;(); }</code> or initialize it directly at the class variable level"},{"owner":{"account_id":26904135,"reputation":11,"user_id":20480794,"display_name":"Jallen"},"score":0,"creation_date":1673529118,"post_id":75096705,"comment_id":132522795,"body_markdown":"Thankyou guys! This helped a lot. I used your solution Tan Yu Hau Sean and it worked perfectly.","body":"Thankyou guys! This helped a lot. I used your solution Tan Yu Hau Sean and it worked perfectly."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1673531109,"post_id":75096705,"comment_id":132523512,"body_markdown":"Why is there a class called `Cards`? It should probably be `Card`","body":"Why is there a class called <code>Cards</code>? It should probably be <code>Card</code>"}],"answers":[{"tags":[],"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673533905,"creation_date":1673533905,"answer_id":75097892,"question_id":75096705,"body_markdown":"As some have already noted, the same list of cards is shared between all hands. Another problem I see in you code is that you&#39;re using fields (`cards`, `handValue`) when you should use local variables.\r\n\r\nTry this:\r\n\r\n    public class Hand2 {\r\n        private final List&lt;Cards&gt; hand = new ArrayList&lt;&gt;();\r\n    \r\n        public Hand2() {\r\n        }\r\n        \r\n        private Cards addCard(Deck deck) {\r\n            Cards cards = deck.dealCard();\r\n            hand.add(cards);\r\n            return cards;\r\n        }\r\n        \r\n        public int getHandValue() {\r\n            int handValue = 0;\r\n            for (Cards cards : hand ) {\r\n                handValue += cards.getValue();\r\n            }\r\n            return handValue;\r\n        }\r\n    \r\n        @Override\r\n        public String toString() {\r\n            return &quot;Hand: &quot; + hand;\r\n        }\r\n\r\n","title":"All cards are added to the same hand despite creating two different instances in Java","body":"<p>As some have already noted, the same list of cards is shared between all hands. Another problem I see in you code is that you're using fields (<code>cards</code>, <code>handValue</code>) when you should use local variables.</p>\n<p>Try this:</p>\n<pre><code>public class Hand2 {\n    private final List&lt;Cards&gt; hand = new ArrayList&lt;&gt;();\n\n    public Hand2() {\n    }\n    \n    private Cards addCard(Deck deck) {\n        Cards cards = deck.dealCard();\n        hand.add(cards);\n        return cards;\n    }\n    \n    public int getHandValue() {\n        int handValue = 0;\n        for (Cards cards : hand ) {\n            handValue += cards.getValue();\n        }\n        return handValue;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;Hand: &quot; + hand;\n    }\n</code></pre>\n"}],"owner":{"account_id":26904135,"reputation":11,"user_id":20480794,"display_name":"Jallen"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1673533905,"creation_date":1673528414,"question_id":75096705,"body_markdown":"I&#39;m creating a blackjack game in Java. I need to have multiple players and need a hand class to store the cards that have been pulled from the deck. I have a hand class that functions, but even when I create two separate hand instances, dealing a card to either hand adds them to both hands.\r\n\r\nThis is my hand class code:\r\n```java\r\npublic class Hand2 {\r\n\t\r\n\tprivate List&lt;Cards&gt; hand;\r\n\tprivate Cards cards;\r\n\tprivate int handValue;\r\n\t\r\n\tpublic Hand2(List&lt;Cards&gt; hand) {\r\n\t\t\r\n\t\tthis.hand = hand;\t\r\n\t}\r\n\t\r\n\tprivate Cards addCard(Deck deck) {\r\n\t\thand.add(deck.dealCard());\r\n\t\treturn cards;\r\n\t}\r\n\t\r\n\tpublic int getHandValue() {\r\n\t\tfor (Cards cards : hand ) {\r\n\t\t\thandValue += cards.getValue();\r\n\t\t}\r\n\t\treturn handValue;\r\n\t}\r\n\r\n    public String toString() {\r\n\t\treturn &quot;Hand: &quot; + hand;\r\n\t}\r\n```\r\n\r\nAnd below I am testing it:\r\n\r\n    public static void main(String[] args) { //Testing\r\n\t\t List&lt;Cards&gt; cards = new ArrayList&lt;Cards&gt;();\r\n\t\t \r\n\t\t Deck deck = new Deck();\r\n\t\t\tdeck.shuffle();\r\n\t\t\t\t\t \t\r\n\t        Hand2 hand = new Hand2(cards);\r\n\t        Hand2 hand2 = new Hand2(cards);\r\n\t        \r\n\t        hand.addCard(deck);\r\n\t        hand2.addCard(deck);\r\n\t        hand2.addCard(deck);\r\n\t        System.out.println(hand2);\r\n                System.out.println(hand.getHandValue());\r\n\t        System.out.println(hand2.getHandValue());\r\n\t   \r\n\t }\t\r\n\r\nTerminal:\r\n```none\r\nHand: [Three of Diamonds, Four of Clubs, Jack of Hearts]\r\n17\r\n17\r\n```\r\n\r\nBut I get the same hand value for either hand.","title":"All cards are added to the same hand despite creating two different instances in Java","body":"<p>I'm creating a blackjack game in Java. I need to have multiple players and need a hand class to store the cards that have been pulled from the deck. I have a hand class that functions, but even when I create two separate hand instances, dealing a card to either hand adds them to both hands.</p>\n<p>This is my hand class code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Hand2 {\n    \n    private List&lt;Cards&gt; hand;\n    private Cards cards;\n    private int handValue;\n    \n    public Hand2(List&lt;Cards&gt; hand) {\n        \n        this.hand = hand;   \n    }\n    \n    private Cards addCard(Deck deck) {\n        hand.add(deck.dealCard());\n        return cards;\n    }\n    \n    public int getHandValue() {\n        for (Cards cards : hand ) {\n            handValue += cards.getValue();\n        }\n        return handValue;\n    }\n\n    public String toString() {\n        return &quot;Hand: &quot; + hand;\n    }\n</code></pre>\n<p>And below I am testing it:</p>\n<pre><code>public static void main(String[] args) { //Testing\n     List&lt;Cards&gt; cards = new ArrayList&lt;Cards&gt;();\n     \n     Deck deck = new Deck();\n        deck.shuffle();\n                    \n        Hand2 hand = new Hand2(cards);\n        Hand2 hand2 = new Hand2(cards);\n        \n        hand.addCard(deck);\n        hand2.addCard(deck);\n        hand2.addCard(deck);\n        System.out.println(hand2);\n            System.out.println(hand.getHandValue());\n        System.out.println(hand2.getHandValue());\n   \n }  \n</code></pre>\n<p>Terminal:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Hand: [Three of Diamonds, Four of Clubs, Jack of Hearts]\n17\n17\n</code></pre>\n<p>But I get the same hand value for either hand.</p>\n"},{"tags":["java","gradle","aop","aspectj","freefair-aspectj"],"comments":[{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1668331612,"post_id":73771715,"comment_id":131375336,"body_markdown":"How about some feedback to my answer? I think it is rather impolite to ask for help in public and then keep your helpers waiting. It is customary to either comment on an answer you do not fully understand or diagree with or to click on the grey check mark beside a correct answer in order to mark the question as answered.","body":"How about some feedback to my answer? I think it is rather impolite to ask for help in public and then keep your helpers waiting. It is customary to either comment on an answer you do not fully understand or diagree with or to click on the grey check mark beside a correct answer in order to mark the question as answered."}],"answers":[{"tags":[],"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1663709110,"creation_date":1663615821,"answer_id":73778411,"question_id":73771715,"body_markdown":"It does not make much sense to add a Maven plugin to a Gradle build and hope that somehow magically it will work there. As the name implies, `aspectj-maven-plugin` is meant to be used in Maven projects. You need to use a Gradle plugin. Maybe you want to take a look at the [Freefair](https://docs.freefair.io/gradle-plugins/6.5.1/reference/) plugins for AspectJ and decide which scenario (and therefore, which plugin) fits your use case.","title":"How to import aspectJ into project?","body":"<p>It does not make much sense to add a Maven plugin to a Gradle build and hope that somehow magically it will work there. As the name implies, <code>aspectj-maven-plugin</code> is meant to be used in Maven projects. You need to use a Gradle plugin. Maybe you want to take a look at the <a href=\"https://docs.freefair.io/gradle-plugins/6.5.1/reference/\" rel=\"nofollow noreferrer\">Freefair</a> plugins for AspectJ and decide which scenario (and therefore, which plugin) fits your use case.</p>\n"}],"owner":{"account_id":26149279,"reputation":13,"user_id":19837464,"display_name":"Boris Stupin"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":219,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73778411,"answer_count":1,"score":0,"last_activity_date":1673533879,"creation_date":1663581845,"question_id":73771715,"body_markdown":"I need to use aspectJ. How can I use the functionality of this lib / framework?\r\n\r\nThis is my build.gradle file\r\n\r\n    plugins {\r\n        id &quot;com.diffplug.eclipse.apt&quot; version &quot;3.22.0&quot;\r\n        id &quot;com.github.johnrengelman.shadow&quot; version &quot;7.0.0&quot;\r\n        id &quot;application&quot;\r\n    }\r\n    \r\n    \r\n    version &quot;0.2&quot;\r\n    group &quot;ru.fusionsoft&quot;\r\n    \r\n    repositories {\r\n        mavenCentral()\r\n        mavenLocal()\r\n    //    jcenter()\r\n    }\r\n    \r\n    configurations {\r\n        // for dependencies that are needed for development only\r\n        developmentOnly\r\n    //    aspectjVersion: &#39;1.9.9.1&#39;\r\n    }\r\n    \r\n    dependencies {\r\n        implementation group: &#39;org.aspectj&#39;, name: &#39;aspectjrt&#39;, version: &#39;1.9.9.1&#39;\r\n        implementation group: &#39;org.aspectj&#39;, name: &#39;aspectjweaver&#39;, version: &#39;1.9.9.1&#39;\r\n        implementation group: &#39;org.aspectj&#39;, name: &#39;aspectjtools&#39;, version: &#39;1.9.9.1&#39;\r\n        implementation group: &#39;org.codehaus.mojo&#39;, name: &#39;aspectj-maven-plugin&#39;, version: &#39;1.14.0&#39;\r\n    \r\n        implementation &quot;io.micronaut:micronaut-session:2.5.0&quot;\r\n        implementation &quot;io.micronaut.redis:micronaut-redis-lettuce:2.5.0&quot;\r\n        implementation group: &#39;org.postgresql&#39;, name: &#39;postgresql&#39;, version: &#39;42.2.8&#39;\r\n        implementation group: &#39;io.jsonwebtoken&#39;, name: &#39;jjwt&#39;, version: &#39;0.9.1&#39;\r\n        implementation group: &#39;org.apache.pdfbox&#39;, name: &#39;pdfbox&#39;, version: &#39;3.0.0-RC1&#39;\r\n        implementation group: &#39;cglib&#39;, name: &#39;cglib&#39;, version: &#39;3.3.0&#39;\r\n        implementation &#39;org.reflections:reflections:0.10.2&#39;\r\n        annotationProcessor(platform(&quot;io.micronaut:micronaut-bom:2.5.0&quot;))\r\n        annotationProcessor(&quot;io.micronaut:micronaut-inject-java:2.5.0&quot;)\r\n        annotationProcessor(&quot;io.micronaut:micronaut-validation:2.5.0&quot;)\r\n        implementation(platform(&quot;io.micronaut:micronaut-bom:2.5.0&quot;))\r\n        implementation(&quot;io.micronaut:micronaut-inject:2.5.0&quot;)\r\n        implementation(&quot;io.micronaut:micronaut-validation:2.5.0&quot;)\r\n        implementation(&quot;io.micronaut:micronaut-runtime:2.5.0&quot;)\r\n        implementation(&quot;javax.annotation:javax.annotation-api:1.3.2&quot;)\r\n        implementation(&quot;io.micronaut:micronaut-http-server-netty:2.5.0&quot;)\r\n        implementation(&quot;io.micronaut:micronaut-http-client:2.5.0&quot;)\r\n        runtimeOnly(&quot;ch.qos.logback:logback-classic&quot;)\r\n        testAnnotationProcessor(enforcedPlatform(&quot;io.micronaut:micronaut-bom:2.5.0&quot;))\r\n        testAnnotationProcessor(&quot;io.micronaut:micronaut-inject-java:2.5.0&quot;)\r\n        testImplementation(enforcedPlatform(&quot;io.micronaut:micronaut-bom:2.5.0&quot;))\r\n        testImplementation(&quot;org.junit.jupiter:junit-jupiter-api:2.5.0&quot;)\r\n        testImplementation(&quot;io.micronaut.test:micronaut-test-junit5:3.0.0&quot;)\r\n        testRuntimeOnly(&quot;org.junit.jupiter:junit-jupiter-engine&quot;)\r\n        testImplementation &quot;org.testcontainers:postgresql:1.14.3&quot;\r\n        annotationProcessor(&quot;io.micronaut.configuration:micronaut-openapi:1.5.3&quot;)\r\n        implementation(&quot;io.swagger.core.v3:swagger-annotations&quot;)\r\n        implementation(&quot;io.micronaut:micronaut-session:2.5.0&quot;)\r\n        annotationProcessor (&quot;io.micronaut.security:micronaut-security-annotations:2.5.0&quot;)\r\n        implementation (&quot;io.micronaut.security:micronaut-security-jwt:2.5.0&quot;)\r\n        implementation(&quot;io.micronaut.sql:micronaut-jdbc-hikari:2.5.0&quot;)\r\n        implementation(&quot;io.micronaut.sql:micronaut-hibernate-jpa:2.5.0&quot;)\r\n        implementation(&quot;io.micronaut.data:micronaut-data-hibernate-jpa:2.5.0&quot;)\r\n        annotationProcessor(&quot;io.micronaut.data:micronaut-data-processor:2.5.0&quot;)\r\n        implementation group: &#39;com.jcraft&#39;, name: &#39;jsch&#39;, version: &#39;0.1.44-1&#39;\r\n    \r\n        // https://mvnrepository.com/artifact/org.seleniumhq.selenium/selenium-java\r\n        implementation group: &#39;org.seleniumhq.selenium&#39;, name: &#39;selenium-java&#39;, version: &#39;3.141.59&#39;\r\n    \r\n        // https://mvnrepository.com/artifact/com.github.2captcha/2captcha-java\r\n        implementation group: &#39;com.github.2captcha&#39;, name: &#39;2captcha-java&#39;, version: &#39;1.0.1&#39;\r\n    \r\n        // https://mvnrepository.com/artifact/com.linuxense/javadbf\r\n        implementation group: &#39;com.linuxense&#39;, name: &#39;javadbf&#39;, version: &#39;0.4.0&#39;\r\n    \r\n        // https://mvnrepository.com/artifact/org.apache.commons/commons-csv\r\n        implementation group: &#39;org.apache.commons&#39;, name: &#39;commons-csv&#39;, version: &#39;1.8&#39;\r\n    \r\n        // https://mvnrepository.com/artifact/org.apache.poi/poi\r\n        implementation group: &#39;org.apache.poi&#39;, name: &#39;poi&#39;, version: &#39;5.0.0&#39;\r\n    \r\n        // https://mvnrepository.com/artifact/commons-beanutils/commons-beanutils\r\n        implementation group: &#39;commons-beanutils&#39;, name: &#39;commons-beanutils&#39;, version: &#39;1.9.4&#39;\r\n    \r\n        // https://mvnrepository.com/artifact/com.fasterxml.jackson.core/jackson-core\r\n        implementation group: &#39;com.fasterxml.jackson.core&#39;, name: &#39;jackson-core&#39;, version: &#39;2.13.1&#39;\r\n    \r\n        // https://mvnrepository.com/artifact/com.fasterxml.jackson.dataformat/jackson-dataformat-xml\r\n        implementation group: &#39;com.fasterxml.jackson.dataformat&#39;, name: &#39;jackson-dataformat-xml&#39;, version: &#39;2.13.1&#39;\r\n    \r\n        // Metrics\r\n        implementation &quot;io.micronaut.micrometer:micronaut-micrometer-core&quot;\r\n        implementation &quot;io.micronaut.micrometer:micronaut-micrometer-registry-statsd&quot;\r\n        implementation &quot;io.micronaut:micronaut-management&quot;\r\n        implementation &#39;io.micronaut.micrometer:micronaut-micrometer-registry-prometheus&#39;\r\n    }\r\n    \r\n    \r\n    \r\n    test.classpath += configurations.developmentOnly\r\n    \r\n    mainClassName = &quot;ru.fusionsoft.hcs.Application&quot;\r\n    \r\n    // use JUnit 5 platform\r\n    test {\r\n        useJUnitPlatform()\r\n    }\r\n    \r\n    java {\r\n        sourceCompatibility = JavaVersion.toVersion(&#39;14&#39;)\r\n        targetCompatibility = JavaVersion.toVersion(&#39;14&#39;)\r\n    }\r\n    \r\n    tasks.withType(JavaCompile) {\r\n        options.encoding = &quot;UTF-8&quot;\r\n        options.compilerArgs.addAll([\r\n            &#39;-parameters&#39;,\r\n            // enables incremental compilation\r\n            &#39;-Amicronaut.processing.incremental=true&#39;,\r\n            &#39;-Amicronaut.processing.annotations=ru.fusionsoft.*&#39;,\r\n            &quot;-Amicronaut.processing.group=$project.group&quot;,\r\n            &quot;-Amicronaut.processing.module=$project.name&quot;,\r\n        ])\r\n    }\r\n    \r\n    shadowJar {\r\n        mergeServiceFiles()\r\n    }\r\n    \r\n    tasks.withType(JavaCompile) {\r\n        options.fork = true\r\n        options.forkOptions.jvmArgs &lt;&lt; &#39;-Dmicronaut.openapi.views.spec=rapidoc.enabled=true,swagger-ui.enabled=true,swagger-ui.theme=default,swagger-ui.tagsSorter=\\&#39;alpha\\&#39;,swagger-ui.operationsSorter=\\&#39;alpha\\&#39;&#39;\r\n    }\r\n    \r\n    tasks.withType(JavaExec) {\r\n        classpath += configurations.developmentOnly\r\n        jvmArgs(&#39;-XX:TieredStopAtLevel=1&#39;, &#39;-Dcom.sun.management.jmxremote&#39;)\r\n        if (gradle.startParameter.continuous) {\r\n            systemProperties(\r\n                &#39;micronaut.io.watch.restart&#39;:&#39;true&#39;,\r\n                &#39;micronaut.io.watch.enabled&#39;:&#39;true&#39;,\r\n                &quot;micronaut.io.watch.paths&quot;:&quot;src/main&quot;\r\n            )\r\n        }\r\n    }\r\n\r\nI didn’t write it initially, and I never used the primitive again. Apparently, just entering the implementation is not enough to use AOP. If you need additional information, I&#39;ll update.\r\n\r\n","title":"How to import aspectJ into project?","body":"<p>I need to use aspectJ. How can I use the functionality of this lib / framework?</p>\n<p>This is my build.gradle file</p>\n<pre><code>plugins {\n    id &quot;com.diffplug.eclipse.apt&quot; version &quot;3.22.0&quot;\n    id &quot;com.github.johnrengelman.shadow&quot; version &quot;7.0.0&quot;\n    id &quot;application&quot;\n}\n\n\nversion &quot;0.2&quot;\ngroup &quot;ru.fusionsoft&quot;\n\nrepositories {\n    mavenCentral()\n    mavenLocal()\n//    jcenter()\n}\n\nconfigurations {\n    // for dependencies that are needed for development only\n    developmentOnly\n//    aspectjVersion: '1.9.9.1'\n}\n\ndependencies {\n    implementation group: 'org.aspectj', name: 'aspectjrt', version: '1.9.9.1'\n    implementation group: 'org.aspectj', name: 'aspectjweaver', version: '1.9.9.1'\n    implementation group: 'org.aspectj', name: 'aspectjtools', version: '1.9.9.1'\n    implementation group: 'org.codehaus.mojo', name: 'aspectj-maven-plugin', version: '1.14.0'\n\n    implementation &quot;io.micronaut:micronaut-session:2.5.0&quot;\n    implementation &quot;io.micronaut.redis:micronaut-redis-lettuce:2.5.0&quot;\n    implementation group: 'org.postgresql', name: 'postgresql', version: '42.2.8'\n    implementation group: 'io.jsonwebtoken', name: 'jjwt', version: '0.9.1'\n    implementation group: 'org.apache.pdfbox', name: 'pdfbox', version: '3.0.0-RC1'\n    implementation group: 'cglib', name: 'cglib', version: '3.3.0'\n    implementation 'org.reflections:reflections:0.10.2'\n    annotationProcessor(platform(&quot;io.micronaut:micronaut-bom:2.5.0&quot;))\n    annotationProcessor(&quot;io.micronaut:micronaut-inject-java:2.5.0&quot;)\n    annotationProcessor(&quot;io.micronaut:micronaut-validation:2.5.0&quot;)\n    implementation(platform(&quot;io.micronaut:micronaut-bom:2.5.0&quot;))\n    implementation(&quot;io.micronaut:micronaut-inject:2.5.0&quot;)\n    implementation(&quot;io.micronaut:micronaut-validation:2.5.0&quot;)\n    implementation(&quot;io.micronaut:micronaut-runtime:2.5.0&quot;)\n    implementation(&quot;javax.annotation:javax.annotation-api:1.3.2&quot;)\n    implementation(&quot;io.micronaut:micronaut-http-server-netty:2.5.0&quot;)\n    implementation(&quot;io.micronaut:micronaut-http-client:2.5.0&quot;)\n    runtimeOnly(&quot;ch.qos.logback:logback-classic&quot;)\n    testAnnotationProcessor(enforcedPlatform(&quot;io.micronaut:micronaut-bom:2.5.0&quot;))\n    testAnnotationProcessor(&quot;io.micronaut:micronaut-inject-java:2.5.0&quot;)\n    testImplementation(enforcedPlatform(&quot;io.micronaut:micronaut-bom:2.5.0&quot;))\n    testImplementation(&quot;org.junit.jupiter:junit-jupiter-api:2.5.0&quot;)\n    testImplementation(&quot;io.micronaut.test:micronaut-test-junit5:3.0.0&quot;)\n    testRuntimeOnly(&quot;org.junit.jupiter:junit-jupiter-engine&quot;)\n    testImplementation &quot;org.testcontainers:postgresql:1.14.3&quot;\n    annotationProcessor(&quot;io.micronaut.configuration:micronaut-openapi:1.5.3&quot;)\n    implementation(&quot;io.swagger.core.v3:swagger-annotations&quot;)\n    implementation(&quot;io.micronaut:micronaut-session:2.5.0&quot;)\n    annotationProcessor (&quot;io.micronaut.security:micronaut-security-annotations:2.5.0&quot;)\n    implementation (&quot;io.micronaut.security:micronaut-security-jwt:2.5.0&quot;)\n    implementation(&quot;io.micronaut.sql:micronaut-jdbc-hikari:2.5.0&quot;)\n    implementation(&quot;io.micronaut.sql:micronaut-hibernate-jpa:2.5.0&quot;)\n    implementation(&quot;io.micronaut.data:micronaut-data-hibernate-jpa:2.5.0&quot;)\n    annotationProcessor(&quot;io.micronaut.data:micronaut-data-processor:2.5.0&quot;)\n    implementation group: 'com.jcraft', name: 'jsch', version: '0.1.44-1'\n\n    // https://mvnrepository.com/artifact/org.seleniumhq.selenium/selenium-java\n    implementation group: 'org.seleniumhq.selenium', name: 'selenium-java', version: '3.141.59'\n\n    // https://mvnrepository.com/artifact/com.github.2captcha/2captcha-java\n    implementation group: 'com.github.2captcha', name: '2captcha-java', version: '1.0.1'\n\n    // https://mvnrepository.com/artifact/com.linuxense/javadbf\n    implementation group: 'com.linuxense', name: 'javadbf', version: '0.4.0'\n\n    // https://mvnrepository.com/artifact/org.apache.commons/commons-csv\n    implementation group: 'org.apache.commons', name: 'commons-csv', version: '1.8'\n\n    // https://mvnrepository.com/artifact/org.apache.poi/poi\n    implementation group: 'org.apache.poi', name: 'poi', version: '5.0.0'\n\n    // https://mvnrepository.com/artifact/commons-beanutils/commons-beanutils\n    implementation group: 'commons-beanutils', name: 'commons-beanutils', version: '1.9.4'\n\n    // https://mvnrepository.com/artifact/com.fasterxml.jackson.core/jackson-core\n    implementation group: 'com.fasterxml.jackson.core', name: 'jackson-core', version: '2.13.1'\n\n    // https://mvnrepository.com/artifact/com.fasterxml.jackson.dataformat/jackson-dataformat-xml\n    implementation group: 'com.fasterxml.jackson.dataformat', name: 'jackson-dataformat-xml', version: '2.13.1'\n\n    // Metrics\n    implementation &quot;io.micronaut.micrometer:micronaut-micrometer-core&quot;\n    implementation &quot;io.micronaut.micrometer:micronaut-micrometer-registry-statsd&quot;\n    implementation &quot;io.micronaut:micronaut-management&quot;\n    implementation 'io.micronaut.micrometer:micronaut-micrometer-registry-prometheus'\n}\n\n\n\ntest.classpath += configurations.developmentOnly\n\nmainClassName = &quot;ru.fusionsoft.hcs.Application&quot;\n\n// use JUnit 5 platform\ntest {\n    useJUnitPlatform()\n}\n\njava {\n    sourceCompatibility = JavaVersion.toVersion('14')\n    targetCompatibility = JavaVersion.toVersion('14')\n}\n\ntasks.withType(JavaCompile) {\n    options.encoding = &quot;UTF-8&quot;\n    options.compilerArgs.addAll([\n        '-parameters',\n        // enables incremental compilation\n        '-Amicronaut.processing.incremental=true',\n        '-Amicronaut.processing.annotations=ru.fusionsoft.*',\n        &quot;-Amicronaut.processing.group=$project.group&quot;,\n        &quot;-Amicronaut.processing.module=$project.name&quot;,\n    ])\n}\n\nshadowJar {\n    mergeServiceFiles()\n}\n\ntasks.withType(JavaCompile) {\n    options.fork = true\n    options.forkOptions.jvmArgs &lt;&lt; '-Dmicronaut.openapi.views.spec=rapidoc.enabled=true,swagger-ui.enabled=true,swagger-ui.theme=default,swagger-ui.tagsSorter=\\'alpha\\',swagger-ui.operationsSorter=\\'alpha\\''\n}\n\ntasks.withType(JavaExec) {\n    classpath += configurations.developmentOnly\n    jvmArgs('-XX:TieredStopAtLevel=1', '-Dcom.sun.management.jmxremote')\n    if (gradle.startParameter.continuous) {\n        systemProperties(\n            'micronaut.io.watch.restart':'true',\n            'micronaut.io.watch.enabled':'true',\n            &quot;micronaut.io.watch.paths&quot;:&quot;src/main&quot;\n        )\n    }\n}\n</code></pre>\n<p>I didn’t write it initially, and I never used the primitive again. Apparently, just entering the implementation is not enough to use AOP. If you need additional information, I'll update.</p>\n"},{"tags":["java","gradle","build.gradle","aspectj","freefair-aspectj"],"comments":[{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1558401395,"post_id":56221848,"comment_id":99079643,"body_markdown":"Have you tried raising an issue at the GitHub site and asking the author directly?","body":"Have you tried raising an issue at the GitHub site and asking the author directly?"},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":1,"creation_date":1558443095,"post_id":56221848,"comment_id":99096130,"body_markdown":"GitHub tickets are not just about bugs, they can be about documentation issues too. And that plugin definitely has some serious documentation issues. ;-)","body":"GitHub tickets are not just about bugs, they can be about documentation issues too. And that plugin definitely has some serious documentation issues. ;-)"}],"answers":[{"tags":[],"owner":{"account_id":4383566,"reputation":2775,"user_id":3574494,"display_name":"larsgrefer"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1558619022,"creation_date":1558619022,"answer_id":56276630,"question_id":56221848,"body_markdown":"`aspect` is a plain old gradle configuration.\r\n\r\nThis means you can use all the notations described here:\r\n\r\n- https://docs.gradle.org/current/userguide/dependency_types.html#dependency_types\r\n- https://docs.gradle.org/current/userguide/declaring_dependencies.html\r\n\r\n``` lang-groovy\r\ndependencies {\r\n    aspect project(&quot;:my-aspect&quot;)\r\n    aspect &quot;com.example.foo:bar-aspect:1.0.0&quot;\r\n    aspect file(&quot;foo.jar&quot;)\r\n}\r\n```","title":"How to set &quot;-aspectpath&quot; for the FreeFair AspectJ Gradle Plugin?","body":"<p><code>aspect</code> is a plain old gradle configuration.</p>\n\n<p>This means you can use all the notations described here:</p>\n\n<ul>\n<li><a href=\"https://docs.gradle.org/current/userguide/dependency_types.html#dependency_types\" rel=\"nofollow noreferrer\">https://docs.gradle.org/current/userguide/dependency_types.html#dependency_types</a></li>\n<li><a href=\"https://docs.gradle.org/current/userguide/declaring_dependencies.html\" rel=\"nofollow noreferrer\">https://docs.gradle.org/current/userguide/declaring_dependencies.html</a></li>\n</ul>\n\n<pre class=\"lang-groovy prettyprint-override\"><code>dependencies {\n    aspect project(\":my-aspect\")\n    aspect \"com.example.foo:bar-aspect:1.0.0\"\n    aspect file(\"foo.jar\")\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6070810,"reputation":869,"user_id":4739712,"accept_rate":67,"display_name":"Brandon Dudek"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1569950702,"creation_date":1559137884,"answer_id":56362205,"question_id":56221848,"body_markdown":"Thanks to [@larsgrefer](https://stackoverflow.com/users/3574494/larsgrefer), who provided the answer in the GitHub Issue ([46](https://github.com/freefair/gradle-plugins/issues/46)).\r\n\r\n&gt; For the *io.freefair.aspectj.compile-time-weaving* plugin 2.9.5 the configuration is named &quot;**aspects**&quot; instead of &quot;aspect&quot;.\r\n\r\nThe following fixed the issue:\r\n\r\n    aspects project(&quot;:aspectj:aspect&quot;)\r\n\r\nThe full build file resembles:\r\n\r\n&lt;!-- language: groovy --&gt;\r\n    \r\n    buildscript {\r\n        repositories {\r\n            maven { url &quot;https://plugins.gradle.org/m2/&quot; }\r\n        }\r\n        dependencies {\r\n            // 2.9.5 for use with Gradle 4.10.3.\r\n            classpath &quot;io.freefair.gradle:aspectj-plugin:2.9.5&quot;\r\n        }\r\n    }\r\n    \r\n    apply plugin: &#39;java&#39;\r\n    apply plugin: &#39;eclipse&#39;\r\n    apply plugin: &#39;idea&#39;\r\n    \r\n    apply plugin: &quot;io.freefair.aspectj.compile-time-weaving&quot;\r\n    aspectj.version = &#39;1.9.3&#39;\r\n    \r\n    group &#39;xyz.swatt&#39;\r\n    version &#39;1.0.0-SNAPSHOT&#39;\r\n    \r\n    sourceCompatibility = 1.8\r\n    \r\n    repositories {\r\n        mavenCentral()\r\n    }\r\n    \r\n    dependencies {\r\n    \r\n        ///// SWATT ///// https://mvnrepository.com/artifact/xyz.swatt/swatt\r\n        compile group: &#39;xyz.swatt&#39;, name: &#39;swatt&#39;, version: &#39;1.12.0&#39;\r\n        aspect &quot;xyz.swatt:swatt:1.12.0&quot;\r\n    }\r\n","title":"How to set &quot;-aspectpath&quot; for the FreeFair AspectJ Gradle Plugin?","body":"<p>Thanks to <a href=\"https://stackoverflow.com/users/3574494/larsgrefer\">@larsgrefer</a>, who provided the answer in the GitHub Issue (<a href=\"https://github.com/freefair/gradle-plugins/issues/46\" rel=\"nofollow noreferrer\">46</a>).</p>\n\n<blockquote>\n  <p>For the <em>io.freefair.aspectj.compile-time-weaving</em> plugin 2.9.5 the configuration is named \"<strong>aspects</strong>\" instead of \"aspect\".</p>\n</blockquote>\n\n<p>The following fixed the issue:</p>\n\n<pre><code>aspects project(\":aspectj:aspect\")\n</code></pre>\n\n<p>The full build file resembles:</p>\n\n<pre><code>buildscript {\n    repositories {\n        maven { url \"https://plugins.gradle.org/m2/\" }\n    }\n    dependencies {\n        // 2.9.5 for use with Gradle 4.10.3.\n        classpath \"io.freefair.gradle:aspectj-plugin:2.9.5\"\n    }\n}\n\napply plugin: 'java'\napply plugin: 'eclipse'\napply plugin: 'idea'\n\napply plugin: \"io.freefair.aspectj.compile-time-weaving\"\naspectj.version = '1.9.3'\n\ngroup 'xyz.swatt'\nversion '1.0.0-SNAPSHOT'\n\nsourceCompatibility = 1.8\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n\n    ///// SWATT ///// https://mvnrepository.com/artifact/xyz.swatt/swatt\n    compile group: 'xyz.swatt', name: 'swatt', version: '1.12.0'\n    aspect \"xyz.swatt:swatt:1.12.0\"\n}\n</code></pre>\n"}],"owner":{"account_id":6070810,"reputation":869,"user_id":4739712,"accept_rate":67,"display_name":"Brandon Dudek"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3059,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":56362205,"answer_count":2,"score":2,"last_activity_date":1673533781,"creation_date":1558358447,"question_id":56221848,"body_markdown":"I am trying to use an AspectJ Annotation that is in a Library, that I am pulling into my project. My project uses Gradle, so I am attempting to use [FreeFair AspectJ Gradle Plugin](https://plugins.gradle.org/search?term=freefair+aspectj).\r\n\r\nI need to be able to set the AspectJ _-aspectpath_ argument, to the Library Dependency that Gradle is pulling in.\r\n\r\nFreeFair, does not seem to have much [Documentation](https://github.com/freefair/gradle-plugins/tree/3.5.1/aspectj-plugin), mainly just [Sample Code](https://github.com/freefair/gradle-plugins/blob/3.5.1/examples/aspectj).\r\n\r\nIn their sample code, I see that I can use this to set the _-aspectpath_ to a local &quot;project&quot;:\r\n```groovy\r\naspect project(&quot;:aspectj:aspect&quot;)\r\n```\r\n\r\nDoes anyone know how to set the _-aspectpath_ to an external library dependency?\r\n\r\nI created an example Project and put it on GitHub: [freefair-aspectpath-external-library](https://github.com/BrandonDudek/freefair-aspectpath-external-library).\r\n\r\n* *Note:* I am using _io.freefair.gradle:aspectj-plugin_ version **2.9.5** because my project is stuck using Gradle version **4.10.3**.\r\n\r\n&lt;br/&gt;\r\n**Update:** I have created a bug for this: https://github.com/freefair/gradle-plugins/issues/46","title":"How to set &quot;-aspectpath&quot; for the FreeFair AspectJ Gradle Plugin?","body":"<p>I am trying to use an AspectJ Annotation that is in a Library, that I am pulling into my project. My project uses Gradle, so I am attempting to use <a href=\"https://plugins.gradle.org/search?term=freefair+aspectj\" rel=\"nofollow noreferrer\">FreeFair AspectJ Gradle Plugin</a>.</p>\n\n<p>I need to be able to set the AspectJ <em>-aspectpath</em> argument, to the Library Dependency that Gradle is pulling in.</p>\n\n<p>FreeFair, does not seem to have much <a href=\"https://github.com/freefair/gradle-plugins/tree/3.5.1/aspectj-plugin\" rel=\"nofollow noreferrer\">Documentation</a>, mainly just <a href=\"https://github.com/freefair/gradle-plugins/blob/3.5.1/examples/aspectj\" rel=\"nofollow noreferrer\">Sample Code</a>.</p>\n\n<p>In their sample code, I see that I can use this to set the <em>-aspectpath</em> to a local \"project\":</p>\n\n<pre><code>aspect project(\":aspectj:aspect\")\n</code></pre>\n\n<p>Does anyone know how to set the <em>-aspectpath</em> to an external library dependency?</p>\n\n<p>I created an example Project and put it on GitHub: <a href=\"https://github.com/BrandonDudek/freefair-aspectpath-external-library\" rel=\"nofollow noreferrer\">freefair-aspectpath-external-library</a>.</p>\n\n<ul>\n<li><em>Note:</em> I am using <em>io.freefair.gradle:aspectj-plugin</em> version <strong>2.9.5</strong> because my project is stuck using Gradle version <strong>4.10.3</strong>.</li>\n</ul>\n\n<p><br/>\n<strong>Update:</strong> I have created a bug for this: <a href=\"https://github.com/freefair/gradle-plugins/issues/46\" rel=\"nofollow noreferrer\">https://github.com/freefair/gradle-plugins/issues/46</a></p>\n"},{"tags":["java","mongodb","quarkus"],"comments":[{"owner":{"account_id":2922228,"reputation":61034,"user_id":2504224,"display_name":"geoand"},"score":1,"creation_date":1553752406,"post_id":55387611,"comment_id":97502919,"body_markdown":"At this time there is no MongoDB support but I think there are plans to add it down the line. Supporting something in Quarkus means that steps are taken to ensure that it works in native mode as well, which is why you don&#39;t see support for the &quot;whole world&quot;","body":"At this time there is no MongoDB support but I think there are plans to add it down the line. Supporting something in Quarkus means that steps are taken to ensure that it works in native mode as well, which is why you don&#39;t see support for the &quot;whole world&quot;"}],"answers":[{"comments":[{"owner":{"account_id":390209,"reputation":9903,"user_id":750117,"accept_rate":58,"display_name":"jfcorugedo"},"score":0,"creation_date":1554447599,"post_id":55529690,"comment_id":97763177,"body_markdown":"Not a bad solution, but what about heartbeats and reconnect behavior. @micronautfw handles these things for you.","body":"Not a bad solution, but what about heartbeats and reconnect behavior. @micronautfw handles these things for you."},{"owner":{"account_id":2138679,"reputation":18996,"user_id":1897870,"display_name":"Steve C"},"score":1,"creation_date":1554692957,"post_id":55529690,"comment_id":97830804,"body_markdown":"Current versions of the MongoDB java driver implement customisable heartbeats and connection pooling. My code is a little old as I had to support older versions of Mongo servers at the time I originally wrote it. The `MongoClientFactory` implementation was basically about exposing configuration. It was for a POC so it does not include all of the customisable behaviour that is provided by the java driver.","body":"Current versions of the MongoDB java driver implement customisable heartbeats and connection pooling. My code is a little old as I had to support older versions of Mongo servers at the time I originally wrote it. The <code>MongoClientFactory</code> implementation was basically about exposing configuration. It was for a POC so it does not include all of the customisable behaviour that is provided by the java driver."}],"tags":[],"owner":{"account_id":2138679,"reputation":18996,"user_id":1897870,"display_name":"Steve C"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1556769152,"creation_date":1554446922,"answer_id":55529690,"question_id":55387611,"body_markdown":"I have use the following to access mongodb databases in some quarkus demo code:\r\n\r\n    @ApplicationScoped\r\n    public class MongoClientFactory {\r\n    \r\n        @Inject\r\n        private Logger logger;\r\n    \r\n        @Inject\r\n        @ConfigProperty(name=&quot;mongo.user&quot;)\r\n        private String mongoUser;\r\n    \r\n        @Inject\r\n        @ConfigProperty(name=&quot;mongo.password&quot;)\r\n        private String mongoPassword;\r\n    \r\n        @Inject\r\n        @ConfigProperty(name=&quot;mongo.host&quot;)\r\n        private String mongoHost;\r\n    \r\n        @Inject\r\n        @ConfigProperty(name=&quot;mongo.port&quot;, defaultValue=&quot;27017&quot;)\r\n        private int mongoPort;\r\n    \r\n        @Inject\r\n        @ConfigProperty(defaultValue=&quot;admin&quot;)\r\n        private String mongoAdminDb;\r\n    \r\n        private MongoClient mongoClient;\r\n        private ServerAddress serverAddress;\r\n        private MongoCredential mongoCredential;\r\n    \r\n        @PostConstruct\r\n        void buildMongoClient() {\r\n            logger.info(&quot;Building MongoClientFactory&quot;);\r\n            serverAddress = new ServerAddress(mongoHost, mongoPort);\r\n            mongoCredential = MongoCredential.createCredential(mongoUser, mongoAdminDb, mongoPassword.toCharArray());\r\n        }\r\n    \r\n        @Produces\r\n        public MongoClient produceMongoClient() {\r\n            if (mongoClient == null) {\r\n                mongoClient = new MongoClient(serverAddress, mongoCredential, MongoClientOptions.builder().build());\r\n                logger.info(&quot;Connected to MongoDB server on {}:{}&quot;, mongoHost, mongoPort);\r\n            }\r\n            return mongoClient;\r\n        }\r\n    \r\n        @PreDestroy\r\n        void cleanup() {\r\n            if (mongoClient != null) {\r\n                mongoClient.close();\r\n            }\r\n        }\r\n    \r\n    }\r\n\r\nThen I can just inject the client where ever needed:\r\n\r\n    public class SomBusinessObject {\r\n\r\n        @Inject\r\n        private MongoClient mongoClient;\r\n\r\n\r\n        ...\r\n    }\r\n\r\nThe Mongo driver is added to the pom too:\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.mongodb&lt;/groupId&gt;\r\n      &lt;artifactId&gt;mongo-java-driver&lt;/artifactId&gt;\r\n      &lt;version&gt;3.8.2&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nI have not yet tested this with a native build. The standalone jar seems to run fine though.\r\n\r\n**Update**\r\n\r\nGraalVM Version 1.0.0-rc15 CE does not like the mongo driver. It seems to be impacted by [Error: No instances are allowed in the image heap for a class that is initialized or reinitialzied at image runtime: sun.security.provider.NativePRNG #712](https://github.com/oracle/graal/issues/712).\r\n\r\nAdditionally, the Quarkus dependency analyser appears to be sucking in `optional` dependencies, such as `com.github.jnr:jnr-unixsocket` and `org.xerial.snappy:snappy-java`.\r\n","title":"Quarkus mongodb integration","body":"<p>I have use the following to access mongodb databases in some quarkus demo code:</p>\n\n<pre><code>@ApplicationScoped\npublic class MongoClientFactory {\n\n    @Inject\n    private Logger logger;\n\n    @Inject\n    @ConfigProperty(name=\"mongo.user\")\n    private String mongoUser;\n\n    @Inject\n    @ConfigProperty(name=\"mongo.password\")\n    private String mongoPassword;\n\n    @Inject\n    @ConfigProperty(name=\"mongo.host\")\n    private String mongoHost;\n\n    @Inject\n    @ConfigProperty(name=\"mongo.port\", defaultValue=\"27017\")\n    private int mongoPort;\n\n    @Inject\n    @ConfigProperty(defaultValue=\"admin\")\n    private String mongoAdminDb;\n\n    private MongoClient mongoClient;\n    private ServerAddress serverAddress;\n    private MongoCredential mongoCredential;\n\n    @PostConstruct\n    void buildMongoClient() {\n        logger.info(\"Building MongoClientFactory\");\n        serverAddress = new ServerAddress(mongoHost, mongoPort);\n        mongoCredential = MongoCredential.createCredential(mongoUser, mongoAdminDb, mongoPassword.toCharArray());\n    }\n\n    @Produces\n    public MongoClient produceMongoClient() {\n        if (mongoClient == null) {\n            mongoClient = new MongoClient(serverAddress, mongoCredential, MongoClientOptions.builder().build());\n            logger.info(\"Connected to MongoDB server on {}:{}\", mongoHost, mongoPort);\n        }\n        return mongoClient;\n    }\n\n    @PreDestroy\n    void cleanup() {\n        if (mongoClient != null) {\n            mongoClient.close();\n        }\n    }\n\n}\n</code></pre>\n\n<p>Then I can just inject the client where ever needed:</p>\n\n<pre><code>public class SomBusinessObject {\n\n    @Inject\n    private MongoClient mongoClient;\n\n\n    ...\n}\n</code></pre>\n\n<p>The Mongo driver is added to the pom too:</p>\n\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.mongodb&lt;/groupId&gt;\n  &lt;artifactId&gt;mongo-java-driver&lt;/artifactId&gt;\n  &lt;version&gt;3.8.2&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>I have not yet tested this with a native build. The standalone jar seems to run fine though.</p>\n\n<p><strong>Update</strong></p>\n\n<p>GraalVM Version 1.0.0-rc15 CE does not like the mongo driver. It seems to be impacted by <a href=\"https://github.com/oracle/graal/issues/712\" rel=\"nofollow noreferrer\">Error: No instances are allowed in the image heap for a class that is initialized or reinitialzied at image runtime: sun.security.provider.NativePRNG #712</a>.</p>\n\n<p>Additionally, the Quarkus dependency analyser appears to be sucking in <code>optional</code> dependencies, such as <code>com.github.jnr:jnr-unixsocket</code> and <code>org.xerial.snappy:snappy-java</code>.</p>\n"},{"tags":[],"owner":{"account_id":382309,"reputation":5693,"user_id":737457,"accept_rate":80,"display_name":"csotiriou"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1564133247,"creation_date":1564133247,"answer_id":57217028,"question_id":55387611,"body_markdown":"Latest versions of Quarkus have added MongoDB support.\r\n\r\nhttps://quarkus.io/guides/mongo-guide","title":"Quarkus mongodb integration","body":"<p>Latest versions of Quarkus have added MongoDB support.</p>\n\n<p><a href=\"https://quarkus.io/guides/mongo-guide\" rel=\"nofollow noreferrer\">https://quarkus.io/guides/mongo-guide</a></p>\n"},{"tags":[],"owner":{"account_id":7915682,"reputation":151,"user_id":5978183,"display_name":"Diogo Carleto"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673533717,"creation_date":1673533717,"answer_id":75097842,"question_id":55387611,"body_markdown":"Here is a guide for MongoDB\r\n\r\nhttps://quarkus.io/guides/mongodb\r\n\r\nYou can use Panache also\r\n\r\nhttps://quarkus.io/guides/mongodb-panache","title":"Quarkus mongodb integration","body":"<p>Here is a guide for MongoDB</p>\n<p><a href=\"https://quarkus.io/guides/mongodb\" rel=\"nofollow noreferrer\">https://quarkus.io/guides/mongodb</a></p>\n<p>You can use Panache also</p>\n<p><a href=\"https://quarkus.io/guides/mongodb-panache\" rel=\"nofollow noreferrer\">https://quarkus.io/guides/mongodb-panache</a></p>\n"}],"owner":{"account_id":390209,"reputation":9903,"user_id":750117,"accept_rate":58,"display_name":"jfcorugedo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3575,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":57217028,"answer_count":3,"score":1,"last_activity_date":1673533717,"creation_date":1553726726,"question_id":55387611,"body_markdown":"I&#39;m using quarkus to build an application that needs to connect to MongoDB.\r\n\r\nHowever going over the documentation I could not find any module or guide that show me how can I do it:\r\n\r\nhttps://quarkus.io/\r\n\r\nThere is a guide about hibernate and JPA, but nothing about mongodb.\r\n\r\nDoes anyone manage to do it? Can you share with me a repository with an example?","title":"Quarkus mongodb integration","body":"<p>I'm using quarkus to build an application that needs to connect to MongoDB.</p>\n\n<p>However going over the documentation I could not find any module or guide that show me how can I do it:</p>\n\n<p><a href=\"https://quarkus.io/\" rel=\"nofollow noreferrer\">https://quarkus.io/</a></p>\n\n<p>There is a guide about hibernate and JPA, but nothing about mongodb.</p>\n\n<p>Does anyone manage to do it? Can you share with me a repository with an example?</p>\n"},{"tags":["java","spring-boot","spring-webflux","project-reactor","flatmap"],"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1673524316,"post_id":75093545,"comment_id":132521102,"body_markdown":"The title asks an entirely different question than the body of your question.","body":"The title asks an entirely different question than the body of your question."},{"owner":{"account_id":4647011,"reputation":41835,"user_id":3764965,"accept_rate":94,"display_name":"Nikolas Charalambidis"},"score":1,"creation_date":1673526320,"post_id":75093545,"comment_id":132521788,"body_markdown":"@MarkRotteveel: The title sounds good to me. Feel free to edit it.","body":"@MarkRotteveel: The title sounds good to me. Feel free to edit it."},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1673547865,"post_id":75093545,"comment_id":132529684,"body_markdown":"@NikolasCharalambidis _&quot;Why many people say that flatmap in reactor is one-to-many?&quot;_ is an entirely different question than _&quot;Is there a way to modify my example to achieve 3 strings as input and 6 (for example) players as output to prove that flatmap could be one-to-many?&quot;_.","body":"@NikolasCharalambidis <i>&quot;Why many people say that flatmap in reactor is one-to-many?&quot;</i> is an entirely different question than <i>&quot;Is there a way to modify my example to achieve 3 strings as input and 6 (for example) players as output to prove that flatmap could be one-to-many?&quot;</i>."},{"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"score":0,"creation_date":1673617168,"post_id":75093545,"comment_id":132545351,"body_markdown":"@Mark Rotteveel To be honest I don&#39;t see any contradiction. Feel free to improve the question or title.","body":"@Mark Rotteveel To be honest I don&#39;t see any contradiction. Feel free to improve the question or title."}],"answers":[{"comments":[{"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"score":0,"creation_date":1673515124,"post_id":75093773,"comment_id":132517948,"body_markdown":"Thank you! It is exactly that I was looking for. If you have a spare time please take alook https://stackoverflow.com/q/74875058/2674303","body":"Thank you! It is exactly that I was looking for. If you have a spare time please take alook <a href=\"https://stackoverflow.com/q/74875058/2674303\">stackoverflow.com/q/74875058/2674303</a>"}],"tags":[],"owner":{"account_id":4647011,"reputation":41835,"user_id":3764965,"accept_rate":94,"display_name":"Nikolas Charalambidis"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1673514104,"creation_date":1673514104,"answer_id":75093773,"question_id":75093545,"body_markdown":"&quot;Many&quot; does not necessarily lead to &quot;more&quot;. The term &quot;one-to-many&quot; is often shortened to `1:N` where `N` stands for anything - it can be zero, one, or even ten.\r\n\r\nIn your example, you `flatMap` each element into a single one (`Mono.just(..)` + `Mono#map(..)`). There can be various numbers of items depending on implementation.\r\n\r\n**FlatMap as one to zero**\r\n\r\nThe simplest example where `flatMap` results in no element:\r\n\r\n```java\r\nFlux.just(&quot;Zahid Khan&quot;, &quot;Arif Khan&quot;, &quot;Obaid Sheikh&quot;)\r\n\t.flatMap(fullName -&gt; Mono.empty())\r\n\t.subscribe(System.out::println);\r\n```\r\n\r\n**FlatMap as one to one**\r\n\r\nThis is exactly your example. I would simplify it a bit:\r\n\r\n```java\r\nFlux.just(&quot;Zahid Khan&quot;, &quot;Arif Khan&quot;, &quot;Obaid Sheikh&quot;)\r\n\t.flatMap(fullName -&gt; {\r\n\t\tString[] split = fullName.split(&quot;\\\\s&quot;);\r\n\t\treturn Mono.just(new Player(split[0], split[1]));\r\n\t})\r\n\t.subscribe(System.out::println);\r\n```\r\n&gt; ```\r\n&gt; Player(name=Zahid, surname=Khan)\r\n&gt; Player(name=Arif, surname=Khan)\r\n&gt; Player(name=Obaid, surname=Sheikh)\r\n&gt; ```\r\n\r\n**FlatMap as one to many (more than one)**\r\n\r\nIn this case, we yield 2 players from each input (father and junior):\r\n\r\n```java\r\nFlux.just(&quot;Zahid Khan&quot;, &quot;Arif Khan&quot;, &quot;Obaid Sheikh&quot;)\r\n\t.flatMap(fullName -&gt; {\r\n\t\tString[] split = fullName.split(&quot;\\\\s&quot;);\r\n\t\treturn Flux.just(\r\n\t\t\tnew Player(split[0], split[1]),\r\n\t\t\tnew Player(split[0], split[1] + &quot; Jr.&quot;));\r\n\t\t})\r\n\t.subscribe(System.out::println);\r\n```\r\n&gt; ```\r\n&gt; Player(name=Zahid, surname=Khan)\r\n&gt; Player(name=Zahid, surname=Khan Jr.)\r\n&gt; Player(name=Arif, surname=Khan)\r\n&gt; Player(name=Arif, surname=Khan Jr.)\r\n&gt; Player(name=Obaid, surname=Sheikh)\r\n&gt; Player(name=Obaid, surname=Sheikh Jr.)\r\n&gt; ```","title":"Why many people say that flatmap in reactor is one-to-many?","body":"<p>&quot;Many&quot; does not necessarily lead to &quot;more&quot;. The term &quot;one-to-many&quot; is often shortened to <code>1:N</code> where <code>N</code> stands for anything - it can be zero, one, or even ten.</p>\n<p>In your example, you <code>flatMap</code> each element into a single one (<code>Mono.just(..)</code> + <code>Mono#map(..)</code>). There can be various numbers of items depending on implementation.</p>\n<p><strong>FlatMap as one to zero</strong></p>\n<p>The simplest example where <code>flatMap</code> results in no element:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Flux.just(&quot;Zahid Khan&quot;, &quot;Arif Khan&quot;, &quot;Obaid Sheikh&quot;)\n    .flatMap(fullName -&gt; Mono.empty())\n    .subscribe(System.out::println);\n</code></pre>\n<p><strong>FlatMap as one to one</strong></p>\n<p>This is exactly your example. I would simplify it a bit:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Flux.just(&quot;Zahid Khan&quot;, &quot;Arif Khan&quot;, &quot;Obaid Sheikh&quot;)\n    .flatMap(fullName -&gt; {\n        String[] split = fullName.split(&quot;\\\\s&quot;);\n        return Mono.just(new Player(split[0], split[1]));\n    })\n    .subscribe(System.out::println);\n</code></pre>\n<blockquote>\n<pre><code>Player(name=Zahid, surname=Khan)\nPlayer(name=Arif, surname=Khan)\nPlayer(name=Obaid, surname=Sheikh)\n</code></pre>\n</blockquote>\n<p><strong>FlatMap as one to many (more than one)</strong></p>\n<p>In this case, we yield 2 players from each input (father and junior):</p>\n<pre class=\"lang-java prettyprint-override\"><code>Flux.just(&quot;Zahid Khan&quot;, &quot;Arif Khan&quot;, &quot;Obaid Sheikh&quot;)\n    .flatMap(fullName -&gt; {\n        String[] split = fullName.split(&quot;\\\\s&quot;);\n        return Flux.just(\n            new Player(split[0], split[1]),\n            new Player(split[0], split[1] + &quot; Jr.&quot;));\n        })\n    .subscribe(System.out::println);\n</code></pre>\n<blockquote>\n<pre><code>Player(name=Zahid, surname=Khan)\nPlayer(name=Zahid, surname=Khan Jr.)\nPlayer(name=Arif, surname=Khan)\nPlayer(name=Arif, surname=Khan Jr.)\nPlayer(name=Obaid, surname=Sheikh)\nPlayer(name=Obaid, surname=Sheikh Jr.)\n</code></pre>\n</blockquote>\n"},{"comments":[{"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"score":0,"creation_date":1673522063,"post_id":75094604,"comment_id":132520349,"body_markdown":"Your answer is correct but it doesn&#39;t answer ther question","body":"Your answer is correct but it doesn&#39;t answer ther question"},{"owner":{"account_id":19395247,"reputation":3208,"user_id":14183092,"display_name":"kerbermeister"},"score":1,"creation_date":1673522210,"post_id":75094604,"comment_id":132520400,"body_markdown":"I thought it does. Since I pointed out that from .flatMap() you can return Publisher that can be either Mono (&quot;one-to-one&quot;) or Flux (&quot;one-to-many&quot;).","body":"I thought it does. Since I pointed out that from .flatMap() you can return Publisher that can be either Mono (&quot;one-to-one&quot;) or Flux (&quot;one-to-many&quot;)."},{"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"score":0,"creation_date":1673522369,"post_id":75094604,"comment_id":132520448,"body_markdown":"I don&#39;t see it)","body":"I don&#39;t see it)"},{"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"score":0,"creation_date":1673522413,"post_id":75094604,"comment_id":132520459,"body_markdown":"Your answer is good for https://stackoverflow.com/questions/49115135/map-vs-flatmap-in-reactor","body":"Your answer is good for <a href=\"https://stackoverflow.com/questions/49115135/map-vs-flatmap-in-reactor\" title=\"map vs flatmap in reactor\">stackoverflow.com/questions/49115135/map-vs-flatmap-in-react&zwnj;&#8203;or</a>"},{"owner":{"account_id":19395247,"reputation":3208,"user_id":14183092,"display_name":"kerbermeister"},"score":1,"creation_date":1673522951,"post_id":75094604,"comment_id":132520640,"body_markdown":"okay, edited my answer, maybe it helps","body":"okay, edited my answer, maybe it helps"},{"owner":{"account_id":4647011,"reputation":41835,"user_id":3764965,"accept_rate":94,"display_name":"Nikolas Charalambidis"},"score":2,"creation_date":1673530635,"post_id":75094604,"comment_id":132523366,"body_markdown":"@kerbermeister You have missed that you can express one-to-one also with Flux. I also miss the one-to-zero case. Actually, `Mono` yields either zero or one output. `Flux` yields anything between zero to a lot.","body":"@kerbermeister You have missed that you can express one-to-one also with Flux. I also miss the one-to-zero case. Actually, <code>Mono</code> yields either zero or one output. <code>Flux</code> yields anything between zero to a lot."},{"owner":{"account_id":19395247,"reputation":3208,"user_id":14183092,"display_name":"kerbermeister"},"score":0,"creation_date":1673553959,"post_id":75094604,"comment_id":132531568,"body_markdown":"@NikolasCharalambidis It depends on what we mean by &quot;one-to-one&quot; / &quot;one-to-many&quot;. Of course, what I mean here is &quot;one object -&gt; publisher that is meant to emit min(0)-max(1) value&quot; / &quot;one object -&gt; publisher that is meant to emit min(0)-max(MAX_LONG) values. So I omit here &quot;zero&quot; cases when we return empty publishers and Flux with only one element, since basically we return Mono or Flux which semantics are described both in your comment and mine.","body":"@NikolasCharalambidis It depends on what we mean by &quot;one-to-one&quot; / &quot;one-to-many&quot;. Of course, what I mean here is &quot;one object -&gt; publisher that is meant to emit min(0)-max(1) value&quot; / &quot;one object -&gt; publisher that is meant to emit min(0)-max(MAX_LONG) values. So I omit here &quot;zero&quot; cases when we return empty publishers and Flux with only one element, since basically we return Mono or Flux which semantics are described both in your comment and mine."}],"tags":[],"owner":{"account_id":19395247,"reputation":3208,"user_id":14183092,"display_name":"kerbermeister"},"comment_count":7,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673523332,"creation_date":1673518107,"answer_id":75094604,"question_id":75093545,"body_markdown":"I would like to point one thing: \r\n\r\nDifference between `.map()` and `.flatMap()` is quite simple: \r\n\r\n`.map()` is meant to map given **object** to another **object** (or to the same **object**, if you want just to change something within that **object**). \r\nThis operation is fully synchronous.\r\n\r\n`.flatMap()` is meant to create another **Publisher** (can either be `Mono` or `Flux`) with given **object**\r\n\r\nEmissions from **Publisher** inside `.flatMap()` will be &quot;merged&quot; with &quot;main&quot; sequence.\r\n\r\nThis operation is asynchronous\r\n\r\n\r\n**EDITED:**\r\nExamples of `.flatMap()` that returns:\r\n\r\n**Mono (&quot;one-to-one&quot;):**\r\n\r\n    Flux.just(&quot;Hello&quot;)\r\n            .flatMap(word -&gt; Mono.just(word + &quot; world!&quot;))  // return Mono that produces another value\r\n            .subscribe(System.out::println);\r\n\r\nWhich will print the following output:\r\n\r\n    Hello world!\r\n\r\n\r\n\r\n**Flux: (&quot;one-to-many&quot;):**\r\n\r\n    Flux.just(&quot;Hello&quot;, &quot; world!&quot;)\r\n            .flatMap(word -&gt; Flux.fromArray(word.split(&quot;(?!^)&quot;)))  // return Flux that produces the letters of the given word\r\n            .subscribe(System.out::println);\r\n\r\nWhich will print the following output:\r\n\r\n    H\r\n    e\r\n    l\r\n    l\r\n    o\r\n     \r\n    w\r\n    o\r\n    r\r\n    l\r\n    d\r\n    !\r\n\r\n","title":"Why many people say that flatmap in reactor is one-to-many?","body":"<p>I would like to point one thing:</p>\n<p>Difference between <code>.map()</code> and <code>.flatMap()</code> is quite simple:</p>\n<p><code>.map()</code> is meant to map given <strong>object</strong> to another <strong>object</strong> (or to the same <strong>object</strong>, if you want just to change something within that <strong>object</strong>).\nThis operation is fully synchronous.</p>\n<p><code>.flatMap()</code> is meant to create another <strong>Publisher</strong> (can either be <code>Mono</code> or <code>Flux</code>) with given <strong>object</strong></p>\n<p>Emissions from <strong>Publisher</strong> inside <code>.flatMap()</code> will be &quot;merged&quot; with &quot;main&quot; sequence.</p>\n<p>This operation is asynchronous</p>\n<p><strong>EDITED:</strong>\nExamples of <code>.flatMap()</code> that returns:</p>\n<p><strong>Mono (&quot;one-to-one&quot;):</strong></p>\n<pre><code>Flux.just(&quot;Hello&quot;)\n        .flatMap(word -&gt; Mono.just(word + &quot; world!&quot;))  // return Mono that produces another value\n        .subscribe(System.out::println);\n</code></pre>\n<p>Which will print the following output:</p>\n<pre><code>Hello world!\n</code></pre>\n<p><strong>Flux: (&quot;one-to-many&quot;):</strong></p>\n<pre><code>Flux.just(&quot;Hello&quot;, &quot; world!&quot;)\n        .flatMap(word -&gt; Flux.fromArray(word.split(&quot;(?!^)&quot;)))  // return Flux that produces the letters of the given word\n        .subscribe(System.out::println);\n</code></pre>\n<p>Which will print the following output:</p>\n<pre><code>H\ne\nl\nl\no\n \nw\no\nr\nl\nd\n!\n</code></pre>\n"}],"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1256,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":75093773,"answer_count":2,"score":1,"last_activity_date":1673533551,"creation_date":1673512892,"question_id":75093545,"body_markdown":"I&#39;ve read that [wonderful answer][1] about the difference between `map` and `flatMap`.\r\n\r\nAnd there is a picture that demonstrates flatmap:\r\n\r\n\r\n[![enter image description here][2]][2]\r\n\r\nAnd quote:\r\n\r\n&gt; The map is for synchronous, non-blocking, one-to-one transformations\r\n&gt; while the flatMap is for asynchronous (non-blocking) One-to-Many\r\n&gt; transformations.\r\n\r\nBased on that picture and quote I understand that `flatMap` allows the creation of more (or fewer) elements than it was in the initial `Flux`. But all examples I was able to find contains the same amount of element in the initial sequence after `flatMap` like here:\r\n\r\n```java\r\nFlux&lt;Player&gt; players = Flux.just(&quot;Zahid Khan&quot;, &quot;Arif Khan&quot;, &quot;Obaid Sheikh&quot;)\r\n    .flatMap(fullname -&gt; Mono\r\n        .just(fullname)\r\n        .map(p -&gt; {\r\n            String[] split = p.split(&quot;\\\\s&quot;);\r\n             return new Player(split[0], split[1]);\r\n        })\r\n        .subscribeOn(Scheduler.parallel()));\r\n```\r\n\r\n3 strings as input and 3 players as output:\r\n\r\n```\r\nList&lt;Player&gt; playerList = Arrays.asList(\r\n    new Player(&quot;Zahid&quot;, &quot;Khan&quot;),\r\n    new Player(&quot;Arif&quot;, &quot;Khan&quot;), \r\n    new Player(&quot;Obaid&quot;, &quot;Sheikh&quot;));\r\n```\r\n\r\n**My question is:**\r\n\r\nIs there a way to modify my example to achieve 3 strings as input and 6 (for example) players as output to prove that flatmap could be one-to-many?\r\n\r\n  [1]: https://stackoverflow.com/a/71826804/2674303\r\n  [2]: https://i.stack.imgur.com/6sCq4.png","title":"Why many people say that flatmap in reactor is one-to-many?","body":"<p>I've read that <a href=\"https://stackoverflow.com/a/71826804/2674303\">wonderful answer</a> about the difference between <code>map</code> and <code>flatMap</code>.</p>\n<p>And there is a picture that demonstrates flatmap:</p>\n<p><a href=\"https://i.stack.imgur.com/6sCq4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6sCq4.png\" alt=\"enter image description here\" /></a></p>\n<p>And quote:</p>\n<blockquote>\n<p>The map is for synchronous, non-blocking, one-to-one transformations\nwhile the flatMap is for asynchronous (non-blocking) One-to-Many\ntransformations.</p>\n</blockquote>\n<p>Based on that picture and quote I understand that <code>flatMap</code> allows the creation of more (or fewer) elements than it was in the initial <code>Flux</code>. But all examples I was able to find contains the same amount of element in the initial sequence after <code>flatMap</code> like here:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Flux&lt;Player&gt; players = Flux.just(&quot;Zahid Khan&quot;, &quot;Arif Khan&quot;, &quot;Obaid Sheikh&quot;)\n    .flatMap(fullname -&gt; Mono\n        .just(fullname)\n        .map(p -&gt; {\n            String[] split = p.split(&quot;\\\\s&quot;);\n             return new Player(split[0], split[1]);\n        })\n        .subscribeOn(Scheduler.parallel()));\n</code></pre>\n<p>3 strings as input and 3 players as output:</p>\n<pre><code>List&lt;Player&gt; playerList = Arrays.asList(\n    new Player(&quot;Zahid&quot;, &quot;Khan&quot;),\n    new Player(&quot;Arif&quot;, &quot;Khan&quot;), \n    new Player(&quot;Obaid&quot;, &quot;Sheikh&quot;));\n</code></pre>\n<p><strong>My question is:</strong></p>\n<p>Is there a way to modify my example to achieve 3 strings as input and 6 (for example) players as output to prove that flatmap could be one-to-many?</p>\n"},{"tags":["java","macos","dock"],"owner":{"account_id":19705285,"reputation":160,"user_id":20654602,"display_name":"Rishon_JR"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673533411,"creation_date":1673533411,"question_id":75097775,"body_markdown":"**This Is Not A Duplicate, As Previous Questions On Stackoverflow Are Extremely Outdated And They Don&#39;t Work**\r\n\r\nI want to change the name of the application in the dock to make it feel more like macos.\r\nI was reading this [post](https://stackoverflow.com/questions/2553941/programmatically-setting-the-dockname-java-mac-os-x-jvm-property) and I couldn&#39;t get it to work. instead, it just appeared with the name &quot;java&quot;\\\r\n[![enter image description here][1]][1]\\\r\nI would like to do this within the java program itself so that whenever the user double-clicks on the jar file, it should launch with the dock name and icon. I have successfully changed the icon with `java.awt.TaskBar` and also the menu bar, but I couldn&#39;t do it dock name. How do I do this?\r\n\r\nJava Details:\r\n```\r\n$ java --version\r\nopenjdk 19.0.1 2022-10-18\r\nOpenJDK Runtime Environment (build 19.0.1+10-21)\r\nOpenJDK 64-Bit Server VM (build 19.0.1+10-21, mixed mode, sharing)\r\n$ javac --version\r\njavac 19.0.1\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/NY5k2.png","title":"How do I change the dock name in macOS programmatically?","body":"<p><strong>This Is Not A Duplicate, As Previous Questions On Stackoverflow Are Extremely Outdated And They Don't Work</strong></p>\n<p>I want to change the name of the application in the dock to make it feel more like macos.\nI was reading this <a href=\"https://stackoverflow.com/questions/2553941/programmatically-setting-the-dockname-java-mac-os-x-jvm-property\">post</a> and I couldn't get it to work. instead, it just appeared with the name &quot;java&quot;<br />\n<a href=\"https://i.stack.imgur.com/NY5k2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NY5k2.png\" alt=\"enter image description here\" /></a><br />\nI would like to do this within the java program itself so that whenever the user double-clicks on the jar file, it should launch with the dock name and icon. I have successfully changed the icon with <code>java.awt.TaskBar</code> and also the menu bar, but I couldn't do it dock name. How do I do this?</p>\n<p>Java Details:</p>\n<pre><code>$ java --version\nopenjdk 19.0.1 2022-10-18\nOpenJDK Runtime Environment (build 19.0.1+10-21)\nOpenJDK 64-Bit Server VM (build 19.0.1+10-21, mixed mode, sharing)\n$ javac --version\njavac 19.0.1\n</code></pre>\n"},{"tags":["java","date","timezone","java-time","datetime-parsing"],"comments":[{"owner":{"account_id":9760,"reputation":85860,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1673483611,"post_id":75090391,"comment_id":132512174,"body_markdown":"Welcome to Stack Overflow.\nSorry, but this site is not a discussion forum or programming tutorial site.\nPlease take the [tour], visit the [help] and read [Ask] to learn how to use this site effectively. \nAlso read \n[Why is “Can someone help me?” not an actual question?](http://meta.stackoverflow.com/q/284236/18157) \nand\n[Open letter to students with homework problems](http://meta.softwareengineering.stackexchange.com/q/6166/18157)","body":"Welcome to Stack Overflow. Sorry, but this site is not a discussion forum or programming tutorial site. Please take the <a href=\"https://stackoverflow.com/tour\">tour</a>, visit the <a href=\"https://stackoverflow.com/help\">help center</a> and read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> to learn how to use this site effectively.  Also read  <a href=\"http://meta.stackoverflow.com/q/284236/18157\">Why is “Can someone help me?” not an actual question?</a>  and <a href=\"http://meta.softwareengineering.stackexchange.com/q/6166/18157\">Open letter to students with homework problems</a>"},{"owner":{"account_id":9760,"reputation":85860,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":2,"creation_date":1673483751,"post_id":75090391,"comment_id":132512192,"body_markdown":"Also, `2023-01-12T00:27:59.000Z` is UTC, not local. A `LocalDateTime` does not have a timezone.  It&#39;s not clear what you are asking, and you need to show us what you have tried and what didn&#39;t work.","body":"Also, <code>2023-01-12T00:27:59.000Z</code> is UTC, not local. A <code>LocalDateTime</code> does not have a timezone.  It&#39;s not clear what you are asking, and you need to show us what you have tried and what didn&#39;t work."},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1673484467,"post_id":75090391,"comment_id":132512272,"body_markdown":"Just remember, &quot;formatting&quot; is not the same as &quot;representation&quot; (ie `ZonedDateTime` and `LocalDateTime`) - these class &quot;represent&quot; a time period since some kind of anchor point or epoch (ie the Unix Epoch).  &quot;Formatting&quot; is the process of taking a &quot;representation&quot; and generating a `String`, typically for presentation to a human.  Sooo, is your question about &quot;formatting&quot; a `ZonedDateTime`/`LocalDateTime` or converting a `ZonedDateTime` to `LocalDateTime`","body":"Just remember, &quot;formatting&quot; is not the same as &quot;representation&quot; (ie <code>ZonedDateTime</code> and <code>LocalDateTime</code>) - these class &quot;represent&quot; a time period since some kind of anchor point or epoch (ie the Unix Epoch).  &quot;Formatting&quot; is the process of taking a &quot;representation&quot; and generating a <code>String</code>, typically for presentation to a human.  Sooo, is your question about &quot;formatting&quot; a <code>ZonedDateTime</code>/<code>LocalDateTime</code> or converting a <code>ZonedDateTime</code> to <code>LocalDateTime</code>"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1673484529,"post_id":75090391,"comment_id":132512281,"body_markdown":"`2023-01-09 23:56:59UTC-05:30` is not the same as `yyyy-MM-dd&#39;T&#39;HH:mm:ss`, there&#39;s no time zone information in the formatter","body":"<code>2023-01-09 23:56:59UTC-05:30</code> is not the same as <code>yyyy-MM-dd&#39;T&#39;HH:mm:ss</code>, there&#39;s no time zone information in the formatter"},{"owner":{"account_id":4644332,"reputation":29,"user_id":3763183,"display_name":"user3763183"},"score":0,"creation_date":1673484645,"post_id":75090391,"comment_id":132512303,"body_markdown":"how to convert this  2023-01-09 23:56:59UTC-05:30 to  UTC local date time","body":"how to convert this  2023-01-09 23:56:59UTC-05:30 to  UTC local date time"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1673485980,"post_id":75090391,"comment_id":132512486,"body_markdown":"`INPUT_FORMAT = &quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss&quot;` needs to be `INPUT_FORMAT = &quot;yyyy-MM-dd&#39;T&#39;HH:mm:ssVV&quot;` in order to parse something like `yyyy-MM-dd HH:mm:ssVV`; You can then parse it using something like `ZonedDateTime offsetDateTime = ZonedDateTime.parse(dateUTC, DateTimeFormatter.ofPattern(INPUT_FORMAT, Locale.US));`; which will allow you to convert this to UTC, using something like `ZonedDateTime utcDateTime = offsetDateTime.withZoneSameInstant(ZoneId.of(&quot;UTC&quot;));`.  Now if you &quot;need&quot; an instance of `LocalDateTime`, you can use `LocalDateTime localUTCDateTime = utcDateTime.toLocalDateTime();`","body":"<code>INPUT_FORMAT = &quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss&quot;</code> needs to be <code>INPUT_FORMAT = &quot;yyyy-MM-dd&#39;T&#39;HH:mm:ssVV&quot;</code> in order to parse something like <code>yyyy-MM-dd HH:mm:ssVV</code>; You can then parse it using something like <code>ZonedDateTime offsetDateTime = ZonedDateTime.parse(dateUTC, DateTimeFormatter.ofPattern(INPUT_FORMAT, Locale.US));</code>; which will allow you to convert this to UTC, using something like <code>ZonedDateTime utcDateTime = offsetDateTime.withZoneSameInstant(ZoneId.of(&quot;UTC&quot;));</code>.  Now if you &quot;need&quot; an instance of <code>LocalDateTime</code>, you can use <code>LocalDateTime localUTCDateTime = utcDateTime.toLocalDateTime();</code>"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1673486021,"post_id":75090391,"comment_id":132512495,"body_markdown":"Remember, `LocalDateTime` has no time zone, so can&#39;t use a format like `yyyy-MM-dd&#39;T&#39;HH:mm:ssXXX`, you&#39;d have to use the `ZonedDateTime` instead","body":"Remember, <code>LocalDateTime</code> has no time zone, so can&#39;t use a format like <code>yyyy-MM-dd&#39;T&#39;HH:mm:ssXXX</code>, you&#39;d have to use the <code>ZonedDateTime</code> instead"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1673486069,"post_id":75090391,"comment_id":132512505,"body_markdown":"There&#39;s quite a few examples about, like [this](https://mkyong.com/java8/java-8-zoneddatetime-examples/#:~:text=1.-,Convert%20LocalDateTime%20to%20ZonedDateTime,predefined%20zone%20id%20or%20offset.)","body":"There&#39;s quite a few examples about, like <a href=\"https://mkyong.com/java8/java-8-zoneddatetime-examples/#:~:text=1.-,Convert%20LocalDateTime%20to%20ZonedDateTime,predefined%20zone%20id%20or%20offset.\" rel=\"nofollow noreferrer\">this</a>"},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1673504702,"post_id":75090391,"comment_id":132515169,"body_markdown":"Use `final String INPUT_FORMAT = &quot;uuuu-MM-dd HH:mm:ss&#39;UTC&#39;xxx&quot;;`. Don’t use `LocalDateTime` at all, and also not `ZonedDateTime`. Use `OffsetDateTime`. Parse using `OffsetDateTime labelTime = OffsetDateTime.parse(dateUTC, DateTimeFormatter.ofPattern(INPUT_FORMAT));`. Convert to UTC through `OffsetDateTime odt = labelTime.withOffsetSameInstant(ZoneOffset.UTC);`. For output you may simply use `toString()`, or you may define `final String OUTPUT_FORMAT = &quot;uuuu-MM-dd&#39;T&#39;HH:mm:ss.SSSXXX&quot;;`.","body":"Use <code>final String INPUT_FORMAT = &quot;uuuu-MM-dd HH:mm:ss&#39;UTC&#39;xxx&quot;;</code>. Don’t use <code>LocalDateTime</code> at all, and also not <code>ZonedDateTime</code>. Use <code>OffsetDateTime</code>. Parse using <code>OffsetDateTime labelTime = OffsetDateTime.parse(dateUTC, DateTimeFormatter.ofPattern(INPUT_FORMAT));</code>. Convert to UTC through <code>OffsetDateTime odt = labelTime.withOffsetSameInstant(ZoneOffset.UTC);</code>. For output you may simply use <code>toString()</code>, or you may define <code>final String OUTPUT_FORMAT = &quot;uuuu-MM-dd&#39;T&#39;HH:mm:ss.SSSXXX&quot;;</code>."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":2,"creation_date":1673505406,"post_id":75090391,"comment_id":132515305,"body_markdown":"@OleV.V. - Maybe if &quot;someone&quot; could first correct the egregiously bad terminology in the title, please?  That&#39;s not what parsing means.","body":"@OleV.V. - Maybe if &quot;someone&quot; could first correct the egregiously bad terminology in the title, please?  That&#39;s not what parsing means."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1673508835,"post_id":75090391,"comment_id":132516067,"body_markdown":"As a native English speaker .... I would call the entire process &quot;conversion&quot; (or maybe &quot;reformatting&quot;)  myself.","body":"As a native English speaker .... I would call the entire process &quot;conversion&quot; (or maybe &quot;reformatting&quot;)  myself."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1673508986,"post_id":75090391,"comment_id":132516106,"body_markdown":"Looks good to me.","body":"Looks good to me."}],"answers":[{"tags":[],"owner":{"account_id":2179728,"reputation":73077,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673533294,"creation_date":1673533294,"answer_id":75097751,"question_id":75090391,"body_markdown":"Use the pattern, `uuuu-MM-dd HH:mm:ss&#39;UTC&#39;XXX` to parse the given date-time string into an `OffsetDateTime` and convert the result into another `OffsetDateTime` with `ZoneOffset.UTC` using [`OffsetDateTime#withOffsetSameInstant`](https://docs.oracle.com/javase/8/docs/api/java/time/OffsetDateTime.html#withOffsetSameInstant-java.time.ZoneOffset-).\r\n\r\n**Demo**:\r\n\r\n    import java.time.OffsetDateTime;\r\n    import java.time.ZoneOffset;\r\n    import java.time.format.DateTimeFormatter;\r\n    import java.util.Locale;\r\n\r\n    class Main {\r\n        public static void main(String[] args) {\r\n            DateTimeFormatter parser = DateTimeFormatter.ofPattern(&quot;uuuu-MM-dd HH:mm:ss&#39;UTC&#39;XXX&quot;, Locale.ENGLISH);\r\n            OffsetDateTime odt = OffsetDateTime.parse(&quot;2023-01-11 18:27:59UTC-06:00&quot;, parser)\r\n                                               .withOffsetSameInstant(ZoneOffset.UTC);\r\n            System.out.println(odt);\r\n\r\n            DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;uuuu-MM-dd&#39;T&#39;HH:mm:ss.SSSXXX&quot;, Locale.ENGLISH);\r\n            String formatted = odt.format(formatter);\r\n            System.out.println(formatted);\r\n        }\r\n    }\r\n\r\n**Output**:\r\n\r\n    2023-01-12T00:27:59Z\r\n    2023-01-12T00:27:59.000Z\r\n\r\n[&lt;kbd&gt;ONLINE DEMO&lt;/kbd&gt;](https://ideone.com/oz6olO)\r\n\r\n**Note:** Here, you can use `y` instead of `u` but [I prefer](https://stackoverflow.com/a/65928023/10819573) `u` to `y`.\r\n\r\nLearn more about the modern Date-Time API from **[Trail: Date Time](https://docs.oracle.com/javase/tutorial/datetime/index.html)**.","title":"Trying to convert from 2023-01-11 18:27:59UTC-06:00 to 2023-01-12T00:27:59.000Z -- parsing fails","body":"<p>Use the pattern, <code>uuuu-MM-dd HH:mm:ss'UTC'XXX</code> to parse the given date-time string into an <code>OffsetDateTime</code> and convert the result into another <code>OffsetDateTime</code> with <code>ZoneOffset.UTC</code> using <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/OffsetDateTime.html#withOffsetSameInstant-java.time.ZoneOffset-\" rel=\"nofollow noreferrer\"><code>OffsetDateTime#withOffsetSameInstant</code></a>.</p>\n<p><strong>Demo</strong>:</p>\n<pre><code>import java.time.OffsetDateTime;\nimport java.time.ZoneOffset;\nimport java.time.format.DateTimeFormatter;\nimport java.util.Locale;\n\nclass Main {\n    public static void main(String[] args) {\n        DateTimeFormatter parser = DateTimeFormatter.ofPattern(&quot;uuuu-MM-dd HH:mm:ss'UTC'XXX&quot;, Locale.ENGLISH);\n        OffsetDateTime odt = OffsetDateTime.parse(&quot;2023-01-11 18:27:59UTC-06:00&quot;, parser)\n                                           .withOffsetSameInstant(ZoneOffset.UTC);\n        System.out.println(odt);\n\n        DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;uuuu-MM-dd'T'HH:mm:ss.SSSXXX&quot;, Locale.ENGLISH);\n        String formatted = odt.format(formatter);\n        System.out.println(formatted);\n    }\n}\n</code></pre>\n<p><strong>Output</strong>:</p>\n<pre><code>2023-01-12T00:27:59Z\n2023-01-12T00:27:59.000Z\n</code></pre>\n<p><a href=\"https://ideone.com/oz6olO\" rel=\"nofollow noreferrer\"><kbd>ONLINE DEMO</kbd></a></p>\n<p><strong>Note:</strong> Here, you can use <code>y</code> instead of <code>u</code> but <a href=\"https://stackoverflow.com/a/65928023/10819573\">I prefer</a> <code>u</code> to <code>y</code>.</p>\n<p>Learn more about the modern Date-Time API from <strong><a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"nofollow noreferrer\">Trail: Date Time</a></strong>.</p>\n"}],"owner":{"account_id":4644332,"reputation":29,"user_id":3763183,"display_name":"user3763183"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":194,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"answer_count":1,"score":0,"last_activity_date":1673533294,"creation_date":1673483449,"question_id":75090391,"body_markdown":"I have string date format like below \r\n\r\n`2023-01-11 18:27:59UTC-06:00`\r\n\r\nneed to convert to like `2023-01-12T00:27:59.000Z` (in UTC zone)\r\n\r\nI tried the below. I am getting exception `Exception in thread &quot;main&quot; java.time.format.DateTimeParseException: Text &#39;2023-01-09 23:56:59UTC-05:30&#39; could not be parsed at index 10`. The exception is coming from this line:\r\n\r\n    LocalDateTime labelTime = LocalDateTime.parse(dateUTC, DateTimeFormatter.ofPattern(INPUT_FORMAT));\r\n\r\nMy short code example:\r\n\r\n    String dateUTC=&quot;2023-01-09 23:56:59UTC-05:30&quot;;\r\n    final String INPUT_FORMAT = &quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss&quot;;\r\n    final String OUTPUT_FORMAT = &quot;yyyy-MM-dd&#39;T&#39;HH:mm:ssXXX&quot;;\r\n    final DateTimeFormatter dtf2 = DateTimeFormatter.ofPattern(OUTPUT_FORMAT);\r\n    LocalDateTime labelTime = LocalDateTime.parse(dateUTC, DateTimeFormatter.ofPattern(INPUT_FORMAT));\r\n    ZoneId utcZoneId = ZoneId.of(&quot;UTC&quot;);\r\n    ZonedDateTime zdt = labelTime.atZone(utcZoneId);\r\n    System.out.println(&quot;OUT PUT Format&quot;+dtf2.format(zdt));\r\n","title":"Trying to convert from 2023-01-11 18:27:59UTC-06:00 to 2023-01-12T00:27:59.000Z -- parsing fails","body":"<p>I have string date format like below</p>\n<p><code>2023-01-11 18:27:59UTC-06:00</code></p>\n<p>need to convert to like <code>2023-01-12T00:27:59.000Z</code> (in UTC zone)</p>\n<p>I tried the below. I am getting exception <code>Exception in thread &quot;main&quot; java.time.format.DateTimeParseException: Text '2023-01-09 23:56:59UTC-05:30' could not be parsed at index 10</code>. The exception is coming from this line:</p>\n<pre><code>LocalDateTime labelTime = LocalDateTime.parse(dateUTC, DateTimeFormatter.ofPattern(INPUT_FORMAT));\n</code></pre>\n<p>My short code example:</p>\n<pre><code>String dateUTC=&quot;2023-01-09 23:56:59UTC-05:30&quot;;\nfinal String INPUT_FORMAT = &quot;yyyy-MM-dd'T'HH:mm:ss&quot;;\nfinal String OUTPUT_FORMAT = &quot;yyyy-MM-dd'T'HH:mm:ssXXX&quot;;\nfinal DateTimeFormatter dtf2 = DateTimeFormatter.ofPattern(OUTPUT_FORMAT);\nLocalDateTime labelTime = LocalDateTime.parse(dateUTC, DateTimeFormatter.ofPattern(INPUT_FORMAT));\nZoneId utcZoneId = ZoneId.of(&quot;UTC&quot;);\nZonedDateTime zdt = labelTime.atZone(utcZoneId);\nSystem.out.println(&quot;OUT PUT Format&quot;+dtf2.format(zdt));\n</code></pre>\n"},{"tags":["java","multithreading","polygon"],"comments":[{"owner":{"account_id":5823420,"reputation":785,"user_id":6656833,"display_name":"Pavel"},"score":0,"creation_date":1673533661,"post_id":75097749,"comment_id":132524469,"body_markdown":"the polygons do not need to share a point to overlap or touch, this might help https://stackoverflow.com/questions/753140/how-do-i-determine-if-two-convex-polygons-intersect","body":"the polygons do not need to share a point to overlap or touch, this might help <a href=\"https://stackoverflow.com/questions/753140/how-do-i-determine-if-two-convex-polygons-intersect\" title=\"how do i determine if two convex polygons intersect\">stackoverflow.com/questions/753140/&hellip;</a>"},{"owner":{"account_id":37136,"reputation":57822,"user_id":106104,"accept_rate":62,"display_name":"user253751"},"score":0,"creation_date":1673598339,"post_id":75097749,"comment_id":132539483,"body_markdown":"Explain the multithreading?","body":"Explain the multithreading?"}],"owner":{"account_id":19564988,"reputation":3,"user_id":14317397,"display_name":"Maor Krasner"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673533292,"creation_date":1673533292,"question_id":75097749,"body_markdown":"I&#39;m creating a game called &quot;Asteroids&quot; and all the objects that I&#39;m drawing are with polygons. I have a few methods to check the collision between two polygons, but it doesn&#39;t work all the time. For example, it might be working bad when I check collision when the player of the game is currently moving around the screen.\r\n\r\nHere is the code of the class that contains all the methods for game objects collisions. Thanks for the helpers.\r\n\r\n```\r\npublic class Hits\r\n{\r\n   private static boolean isPolygonCollidingWithAnotherPolygon(Polygon p1, Polygon p2) {\r\n      for (int i = 0; i &lt; p1.npoints; i++) {\r\n         Point p = new Point(p1.xpoints[i], p1.ypoints[i]);\r\n         if (p2.contains(p))\r\n            return true;\r\n      }\r\n\r\n      for (int i = 0; i &lt; p2.npoints; i++) {\r\n         Point p = new Point(p2.xpoints[i], p2.ypoints[i]);\r\n         if (p1.contains(p))\r\n            return true;\r\n      }\r\n\r\n      return false;\r\n   }\r\n   \r\n   // ball with spaceship\r\n   public static boolean isBallHittingSpaceship(Ball b,Spaceship s)\r\n   {\r\n      return b.isFromShooter &amp;&amp; s.getPolygon().contains(b.getX(),b.getY());\r\n   }\r\n   \r\n   // ball with asteroid\r\n   public static boolean isBallHittingAsteroid(Ball b,Asteroid a)\r\n   {\r\n      return a.getPolygon().contains(b.getX(),b.getY());\r\n   }\r\n\r\n   // ball with player\r\n   public static boolean isShooterHittingBall(Ball b, Player player)\r\n   {\r\n      return !b.isFromShooter &amp;&amp; player.getPolygon().contains(b.getX(), b.getY());\r\n   }\r\n   \r\n   // spaceship with asteroid\r\n   public static boolean isSpaceshipHittingAsteroid(Spaceship spaceship ,Asteroid asteroid)\r\n   {\r\n    \t\treturn isPolygonCollidingWithAnotherPolygon(spaceship.getPolygon(),  asteroid.getPolygon());\r\n   }\r\n   \r\n   // asteroid with player\r\n   public static boolean isShooterHittingAsteroid(Player player , Asteroid asteroid)\r\n   {\r\n\t\treturn isPolygonCollidingWithAnotherPolygon(player.getPolygon(), asteroid.getPolygon());\r\n   }\r\n\r\n   // spaceship with player\r\n   public static boolean isSpaceshipHittingShooter(Spaceship spaceship, Player player)\r\n   {\r\n\t\treturn isPolygonCollidingWithAnotherPolygon(spaceship.getPolygon(), player.getPolygon());\r\n   }\r\n}\r\n```\r\n\r\nAs seen in the code, I tried to check every possible point in one polygon, if it&#39;s in the other polygon, but still it doesn&#39;t work properly.","title":"Collision of polygons while they move","body":"<p>I'm creating a game called &quot;Asteroids&quot; and all the objects that I'm drawing are with polygons. I have a few methods to check the collision between two polygons, but it doesn't work all the time. For example, it might be working bad when I check collision when the player of the game is currently moving around the screen.</p>\n<p>Here is the code of the class that contains all the methods for game objects collisions. Thanks for the helpers.</p>\n<pre><code>public class Hits\n{\n   private static boolean isPolygonCollidingWithAnotherPolygon(Polygon p1, Polygon p2) {\n      for (int i = 0; i &lt; p1.npoints; i++) {\n         Point p = new Point(p1.xpoints[i], p1.ypoints[i]);\n         if (p2.contains(p))\n            return true;\n      }\n\n      for (int i = 0; i &lt; p2.npoints; i++) {\n         Point p = new Point(p2.xpoints[i], p2.ypoints[i]);\n         if (p1.contains(p))\n            return true;\n      }\n\n      return false;\n   }\n   \n   // ball with spaceship\n   public static boolean isBallHittingSpaceship(Ball b,Spaceship s)\n   {\n      return b.isFromShooter &amp;&amp; s.getPolygon().contains(b.getX(),b.getY());\n   }\n   \n   // ball with asteroid\n   public static boolean isBallHittingAsteroid(Ball b,Asteroid a)\n   {\n      return a.getPolygon().contains(b.getX(),b.getY());\n   }\n\n   // ball with player\n   public static boolean isShooterHittingBall(Ball b, Player player)\n   {\n      return !b.isFromShooter &amp;&amp; player.getPolygon().contains(b.getX(), b.getY());\n   }\n   \n   // spaceship with asteroid\n   public static boolean isSpaceshipHittingAsteroid(Spaceship spaceship ,Asteroid asteroid)\n   {\n            return isPolygonCollidingWithAnotherPolygon(spaceship.getPolygon(),  asteroid.getPolygon());\n   }\n   \n   // asteroid with player\n   public static boolean isShooterHittingAsteroid(Player player , Asteroid asteroid)\n   {\n        return isPolygonCollidingWithAnotherPolygon(player.getPolygon(), asteroid.getPolygon());\n   }\n\n   // spaceship with player\n   public static boolean isSpaceshipHittingShooter(Spaceship spaceship, Player player)\n   {\n        return isPolygonCollidingWithAnotherPolygon(spaceship.getPolygon(), player.getPolygon());\n   }\n}\n</code></pre>\n<p>As seen in the code, I tried to check every possible point in one polygon, if it's in the other polygon, but still it doesn't work properly.</p>\n"},{"tags":["java","html","css","spring","thymeleaf"],"comments":[{"owner":{"account_id":1133647,"reputation":2061,"user_id":1119161,"accept_rate":31,"display_name":"dsp_user"},"score":0,"creation_date":1673533244,"post_id":75097492,"comment_id":132524312,"body_markdown":"try this, `&lt;link rel=&quot;stylesheet&quot; th:href=&quot;@{/css/webflow.css}&quot; media=&quot;screen&quot; type=&quot;text/css&quot;/&gt;`.  Also, in addResourceLocations, make classpath:/static the root (.addResourceLocations(&quot;classpath:/static/&quot;) )","body":"try this, <code>&lt;link rel=&quot;stylesheet&quot; th:href=&quot;@{&#47;css&#47;webflow.css}&quot; media=&quot;screen&quot; type=&quot;text&#47;css&quot;&#47;&gt;</code>.  Also, in addResourceLocations, make classpath:/static the root (.addResourceLocations(&quot;classpath:/static/&quot;) )"},{"owner":{"account_id":16514662,"reputation":11,"user_id":11932484,"display_name":"emiirhaneksi"},"score":0,"creation_date":1673533915,"post_id":75097492,"comment_id":132524570,"body_markdown":"thank you for your answer but both methods didn&#39;t work","body":"thank you for your answer but both methods didn&#39;t work"},{"owner":{"account_id":1133647,"reputation":2061,"user_id":1119161,"accept_rate":31,"display_name":"dsp_user"},"score":0,"creation_date":1673533971,"post_id":75097492,"comment_id":132524588,"body_markdown":"have you implemented any security that we should know about?","body":"have you implemented any security that we should know about?"},{"owner":{"account_id":14632062,"reputation":585,"user_id":10671013,"display_name":"Tan Yu Hau Sean"},"score":0,"creation_date":1673534661,"post_id":75097492,"comment_id":132524855,"body_markdown":"could you try referring to [this](https://stackoverflow.com/a/29475520/10671013) or [this](https://stackoverflow.com/a/51083565/10671013)? Although it is not for css file, it is for image in the resources folder, so I am thinking the relative path used can be extrapolated and applied in your situation.","body":"could you try referring to <a href=\"https://stackoverflow.com/a/29475520/10671013\">this</a> or <a href=\"https://stackoverflow.com/a/51083565/10671013\">this</a>? Although it is not for css file, it is for image in the resources folder, so I am thinking the relative path used can be extrapolated and applied in your situation."},{"owner":{"account_id":16514662,"reputation":11,"user_id":11932484,"display_name":"emiirhaneksi"},"score":0,"creation_date":1673557498,"post_id":75097492,"comment_id":132532583,"body_markdown":"first of all thank you for your answer. I tried both but don&#39;t work.","body":"first of all thank you for your answer. I tried both but don&#39;t work."}],"answers":[{"comments":[{"owner":{"account_id":16514662,"reputation":11,"user_id":11932484,"display_name":"emiirhaneksi"},"score":0,"creation_date":1673533732,"post_id":75097747,"comment_id":132524492,"body_markdown":"it&#39;s not worked for me :(","body":"it&#39;s not worked for me :("}],"tags":[],"owner":{"account_id":26031837,"reputation":54,"user_id":19737948,"display_name":"timofeevle"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673533285,"creation_date":1673533285,"answer_id":75097747,"question_id":75097492,"body_markdown":"Try `th:href=&quot;@{/css/webflow.css}&quot;` instead of `th:href=&quot;@{../static/css/webflow.css}&quot;`. It worked for me","title":"How can i use css file in java/spring thymeleaf","body":"<p>Try <code>th:href=&quot;@{/css/webflow.css}&quot;</code> instead of <code>th:href=&quot;@{../static/css/webflow.css}&quot;</code>. It worked for me</p>\n"}],"owner":{"account_id":16514662,"reputation":11,"user_id":11932484,"display_name":"emiirhaneksi"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673533285,"creation_date":1673532190,"question_id":75097492,"body_markdown":"**Hi,**\r\n**I have an html(footer) file and a css(webflow) file. But I can&#39;t use my css file.**\r\n\r\nThis my conf class\r\n```\r\n@Configuration\r\n@EnableWebMvc\r\npublic class WebConfig implements WebMvcConfigurer {\r\n    @Override\r\n    public void addResourceHandlers(ResourceHandlerRegistry registry) {\r\n\r\n        registry.addResourceHandler(\r\n                        &quot;/webjars/**&quot;,\r\n                        &quot;/img/**&quot;,\r\n                        &quot;/css/**&quot;,\r\n                        &quot;/js/**&quot;)\r\n                .addResourceLocations(\r\n                        &quot;classpath:/META-INF/resources/webjars/&quot;,\r\n                        &quot;classpath:/static/img/&quot;,\r\n                        &quot;classpath:/static/css/&quot;,\r\n                        &quot;classpath:/static/js/&quot;);\r\n    }\r\n\r\n}\r\n```\r\n\r\nCSS not showing/not working \r\n\r\n\r\n[![enter image description here](https://i.stack.imgur.com/r90lV.png)](https://i.stack.imgur.com/r90lV.png)\r\n\r\n**The file named webflow.css does not work on footer.html**\r\n\r\n    &lt;head&gt;\r\n      &lt;link rel=&quot;stylesheet&quot; th:href=&quot;@{../static/css/webflow.css}&quot; media=&quot;screen&quot; href=&quot;../static/css/webflow.css&quot; type=&quot;text/css&quot;/&gt;\r\n    &lt;/head&gt;\r\n  \r\n\r\nI use th:href label but it&#39;s not working. How can i resolve this problem?\r\n\r\nfrankly, I&#39;m not sure if I&#39;ve given the addResourceHandler the parameters correctly, but I&#39;ve tried many different parameters","title":"How can i use css file in java/spring thymeleaf","body":"<p><strong>Hi,</strong>\n<strong>I have an html(footer) file and a css(webflow) file. But I can't use my css file.</strong></p>\n<p>This my conf class</p>\n<pre><code>@Configuration\n@EnableWebMvc\npublic class WebConfig implements WebMvcConfigurer {\n    @Override\n    public void addResourceHandlers(ResourceHandlerRegistry registry) {\n\n        registry.addResourceHandler(\n                        &quot;/webjars/**&quot;,\n                        &quot;/img/**&quot;,\n                        &quot;/css/**&quot;,\n                        &quot;/js/**&quot;)\n                .addResourceLocations(\n                        &quot;classpath:/META-INF/resources/webjars/&quot;,\n                        &quot;classpath:/static/img/&quot;,\n                        &quot;classpath:/static/css/&quot;,\n                        &quot;classpath:/static/js/&quot;);\n    }\n\n}\n</code></pre>\n<p>CSS not showing/not working</p>\n<p><a href=\"https://i.stack.imgur.com/r90lV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/r90lV.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>The file named webflow.css does not work on footer.html</strong></p>\n<pre><code>&lt;head&gt;\n  &lt;link rel=&quot;stylesheet&quot; th:href=&quot;@{../static/css/webflow.css}&quot; media=&quot;screen&quot; href=&quot;../static/css/webflow.css&quot; type=&quot;text/css&quot;/&gt;\n&lt;/head&gt;\n</code></pre>\n<p>I use th:href label but it's not working. How can i resolve this problem?</p>\n<p>frankly, I'm not sure if I've given the addResourceHandler the parameters correctly, but I've tried many different parameters</p>\n"},{"tags":["java","xml","groovy"],"answers":[{"comments":[{"owner":{"account_id":25185196,"reputation":21,"user_id":19026172,"display_name":"Ashtesh Divakar"},"score":0,"creation_date":1651655321,"post_id":72106678,"comment_id":127412584,"body_markdown":"Not working with this, says parseText() does not take closure as argument because content variable returns a closure. I have also tried with http methods but still getting the same when i try to parse the response. Any other way out of this pls suggest?","body":"Not working with this, says parseText() does not take closure as argument because content variable returns a closure. I have also tried with http methods but still getting the same when i try to parse the response. Any other way out of this pls suggest?"},{"owner":{"account_id":2702401,"reputation":3216,"user_id":2332852,"display_name":"BalRog"},"score":0,"creation_date":1651723302,"post_id":72106678,"comment_id":127432107,"body_markdown":"Do you have the `()` at the end of the closure definition? That should invoke the closure and return the content string.","body":"Do you have the <code>()</code> at the end of the closure definition? That should invoke the closure and return the content string."},{"owner":{"account_id":2702401,"reputation":3216,"user_id":2332852,"display_name":"BalRog"},"score":0,"creation_date":1651778791,"post_id":72106678,"comment_id":127450751,"body_markdown":"Did you see my response? I hope it works for you. Please let me know if it does not.","body":"Did you see my response? I hope it works for you. Please let me know if it does not."},{"owner":{"account_id":25185196,"reputation":21,"user_id":19026172,"display_name":"Ashtesh Divakar"},"score":1,"creation_date":1651822769,"post_id":72106678,"comment_id":127459512,"body_markdown":"the above answer partially helped me and later I have found a solution working for me on https://stackoverflow.com/questions/25011927/how-to-get-response-body-using-httpurlconnection-when-code-other-than-2xx-is-re . And the reason for parse failing was method getInputStream() instead use getErrorStream() when status is other than 2XX","body":"the above answer partially helped me and later I have found a solution working for me on <a href=\"https://stackoverflow.com/questions/25011927/how-to-get-response-body-using-httpurlconnection-when-code-other-than-2xx-is-re\" title=\"how to get response body using httpurlconnection when code other than 2xx is re\">stackoverflow.com/questions/25011927/&hellip;</a> . And the reason for parse failing was method getInputStream() instead use getErrorStream() when status is other than 2XX"},{"owner":{"account_id":2702401,"reputation":3216,"user_id":2332852,"display_name":"BalRog"},"score":0,"creation_date":1651847277,"post_id":72106678,"comment_id":127468511,"body_markdown":"@AshteshDivakar Could you post sample code of your ultimate solution (in the question text or as an alternate answer; and yes, answering your own question is allowed)? It might help other people down the line, and I can guarantee at least one upvote.","body":"@AshteshDivakar Could you post sample code of your ultimate solution (in the question text or as an alternate answer; and yes, answering your own question is allowed)? It might help other people down the line, and I can guarantee at least one upvote."}],"tags":[],"owner":{"account_id":2702401,"reputation":3216,"user_id":2332852,"display_name":"BalRog"},"comment_count":5,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651623302,"creation_date":1651623302,"answer_id":72106678,"question_id":72103042,"body_markdown":"Getting the response text from the `HttpURLConnection` class rather than implicitly through `XmlSlurper` allows you much more flexibility in handling unsuccessful responses. Try something like this:\r\n\r\n```groovy\r\ndef connection = new URL(&#39;https://your.url/goes.here&#39;).openConnection()\r\ndef content = { -&gt;\r\n    try {\r\n        connection.content as String\r\n    } catch (e) {\r\n        connection.responseMessage\r\n    }\r\n}()\r\n\r\nif (content) {\r\n    def responseXml = new XmlSlurper().parseText(content)\r\n    doStuffWithResponseXml(responseXml)\r\n}\r\n```\r\n\r\nEven better would be to use an actual full-featured HTTP client, like the Spring Framework&#39;s `HttpClient` or `RestTemplate` classes.","title":"Getting java.io.IOException: Server returned HTTP response code: 400 for URL: when using a url which return 400 status code","body":"<p>Getting the response text from the <code>HttpURLConnection</code> class rather than implicitly through <code>XmlSlurper</code> allows you much more flexibility in handling unsuccessful responses. Try something like this:</p>\n<pre><code>def connection = new URL('https://your.url/goes.here').openConnection()\ndef content = { -&gt;\n    try {\n        connection.content as String\n    } catch (e) {\n        connection.responseMessage\n    }\n}()\n\nif (content) {\n    def responseXml = new XmlSlurper().parseText(content)\n    doStuffWithResponseXml(responseXml)\n}\n</code></pre>\n<p>Even better would be to use an actual full-featured HTTP client, like the Spring Framework's <code>HttpClient</code> or <code>RestTemplate</code> classes.</p>\n"},{"comments":[{"owner":{"account_id":2702401,"reputation":3216,"user_id":2332852,"display_name":"BalRog"},"score":0,"creation_date":1652112086,"post_id":72158665,"comment_id":127521664,"body_markdown":"Just a few comments on groovy conventions here that might help make your code a bit more readable. (1) groovy has dynamic dispatch, so casting to `HttpURLConnection` is not really needed. (2) just about all your &quot;getter&quot; and &quot;setter&quot; invocations can be reduced to property expressions, e.g.: `get.setRequestMethod(&quot;GET&quot;)` could be `get.requestMethod = &quot;GET&quot;`. (3) groovy extensions for the `Reader` class (of which `BufferedReader` is a subclass) allow you to reduce lines 8 thru 12 to `String xmlObject = br.text`.","body":"Just a few comments on groovy conventions here that might help make your code a bit more readable. (1) groovy has dynamic dispatch, so casting to <code>HttpURLConnection</code> is not really needed. (2) just about all your &quot;getter&quot; and &quot;setter&quot; invocations can be reduced to property expressions, e.g.: <code>get.setRequestMethod(&quot;GET&quot;)</code> could be <code>get.requestMethod = &quot;GET&quot;</code>. (3) groovy extensions for the <code>Reader</code> class (of which <code>BufferedReader</code> is a subclass) allow you to reduce lines 8 thru 12 to <code>String xmlObject = br.text</code>."},{"owner":{"account_id":2702401,"reputation":3216,"user_id":2332852,"display_name":"BalRog"},"score":0,"creation_date":1652112381,"post_id":72158665,"comment_id":127521762,"body_markdown":"(4) Or you could just use the `Reader` overload of `XmlSlurper.parse` and replace lines 8 thru 14 with `return new XmlSlurper().parse(br)`.","body":"(4) Or you could just use the <code>Reader</code> overload of <code>XmlSlurper.parse</code> and replace lines 8 thru 14 with <code>return new XmlSlurper().parse(br)</code>."}],"tags":[],"owner":{"account_id":25185196,"reputation":21,"user_id":19026172,"display_name":"Ashtesh Divakar"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1652076867,"creation_date":1651991569,"answer_id":72158665,"question_id":72103042,"body_markdown":"In the question since we are getting 400 status code for GET request. So in built XmlSlurper().parse(URI) method does not work as it throw io.Exception. \r\nGroovy also support HTTP methods for api request and response and the below worked for me: \r\n```\r\ndef getReponseBody(endpoint) {     \r\n    URL url = new URL(endpoint)\r\n    HttpURLConnection get = (HttpURLConnection)url.openConnection()\r\n    get.setRequestMethod(&quot;GET&quot;)\r\n    def getRC = get.getResponseCode()\r\n\r\n    BufferedReader br = new BufferedReader(new InputStreamReader(get.getErrorStream()))\r\n    StringBuffer xmlObject = new StringBuffer()\r\n    def eachLine\r\n    while((eachLine = br.readLine()) !=null){\r\n        xmlObject.append(eachLine)\r\n    }\r\n    get.disconnect()\r\n    return new XmlSlurper().parseText(xmlObject.toString())\r\n}","title":"Getting java.io.IOException: Server returned HTTP response code: 400 for URL: when using a url which return 400 status code","body":"<p>In the question since we are getting 400 status code for GET request. So in built XmlSlurper().parse(URI) method does not work as it throw io.Exception.\nGroovy also support HTTP methods for api request and response and the below worked for me:</p>\n<pre><code>def getReponseBody(endpoint) {     \n    URL url = new URL(endpoint)\n    HttpURLConnection get = (HttpURLConnection)url.openConnection()\n    get.setRequestMethod(&quot;GET&quot;)\n    def getRC = get.getResponseCode()\n\n    BufferedReader br = new BufferedReader(new InputStreamReader(get.getErrorStream()))\n    StringBuffer xmlObject = new StringBuffer()\n    def eachLine\n    while((eachLine = br.readLine()) !=null){\n        xmlObject.append(eachLine)\n    }\n    get.disconnect()\n    return new XmlSlurper().parseText(xmlObject.toString())\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4420950,"reputation":383,"user_id":3600935,"accept_rate":90,"display_name":"MrSalesi"},"score":0,"creation_date":1691269212,"post_id":75097707,"comment_id":135469932,"body_markdown":"&quot;Bearer &quot; is important for most APIs , Thanks Dear metzelder","body":"&quot;Bearer &quot; is important for most APIs , Thanks Dear metzelder"}],"tags":[],"owner":{"account_id":2077320,"reputation":654,"user_id":1850297,"accept_rate":76,"display_name":"metzelder"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673533127,"creation_date":1673533127,"answer_id":75097707,"question_id":72103042,"body_markdown":"You should check the return code and than obtain the error stream from http request instance in case of an error. The problem itself has nothing to do with JsonSlurper, as no instance of &quot;input stream&quot; is returned from http request instance if service returns not successfull return codes (400, 401, 500 etc.) POST example can be seen below:\r\n   \r\n    http= new URL(&quot;yourUrl&quot;).openConnection() as HttpURLConnection\r\n    http.setRequestMethod(&#39;POST&#39;)\r\n    http.setDoOutput(true)\r\n    http.setRequestProperty(&quot;Content-Type&quot;, &#39;application/json&#39;)\r\n    http.setRequestProperty(&quot;Accept&quot;, &#39;application/json&#39;)\r\n    http.setRequestProperty(&quot;Authorization&quot;, &quot;Bearer $yourTokenVariable&quot;)\r\n    http.outputStream.write(data.getBytes(&quot;UTF-8&quot;))\r\n    http.connect()\r\n     \r\n    if(http.getResponseCode() != 200 &amp;&amp; http.getResponseCode() != 201){ \r\n         throw new InvalidInputException(&quot;There was an error: &quot; + http.getErrorStream().getText(&quot;UTF-8&quot;))\r\n    } else {\r\n        //You can take input stream here\r\n    }\r\n\r\n\r\n","title":"Getting java.io.IOException: Server returned HTTP response code: 400 for URL: when using a url which return 400 status code","body":"<p>You should check the return code and than obtain the error stream from http request instance in case of an error. The problem itself has nothing to do with JsonSlurper, as no instance of &quot;input stream&quot; is returned from http request instance if service returns not successfull return codes (400, 401, 500 etc.) POST example can be seen below:</p>\n<pre><code>http= new URL(&quot;yourUrl&quot;).openConnection() as HttpURLConnection\nhttp.setRequestMethod('POST')\nhttp.setDoOutput(true)\nhttp.setRequestProperty(&quot;Content-Type&quot;, 'application/json')\nhttp.setRequestProperty(&quot;Accept&quot;, 'application/json')\nhttp.setRequestProperty(&quot;Authorization&quot;, &quot;Bearer $yourTokenVariable&quot;)\nhttp.outputStream.write(data.getBytes(&quot;UTF-8&quot;))\nhttp.connect()\n \nif(http.getResponseCode() != 200 &amp;&amp; http.getResponseCode() != 201){ \n     throw new InvalidInputException(&quot;There was an error: &quot; + http.getErrorStream().getText(&quot;UTF-8&quot;))\n} else {\n    //You can take input stream here\n}\n</code></pre>\n"}],"owner":{"account_id":25185196,"reputation":21,"user_id":19026172,"display_name":"Ashtesh Divakar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2272,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72158665,"answer_count":3,"score":1,"last_activity_date":1673533127,"creation_date":1651597860,"question_id":72103042,"body_markdown":"I am trying to perform a get request using **Groovy** using the below code:\r\n\r\nString url = &quot;url of endpoint&quot;\r\ndef responseXml = new XmlSlurper().parse(url)\r\n\r\nIf the endpoint returns status as 200 then everything works good but there is one case where we have to validate the error response like below and status returned is 400: \r\n```\r\n    &lt;errors&gt;\r\n    &lt;error&gt;One of the following parameters is required: xyz, abc.&lt;/error&gt;\r\n    &lt;error&gt;One of the following parameters is required: xyz, mno.&lt;/error&gt;\r\n    &lt;/errors&gt;\r\n```\r\nIn this case parse method throws : \r\n```\r\n\r\n    java.io.IOException: Server returned HTTP response code: 400 for URL: &quot;actual endpoint throwing error&quot;\r\n    at sun.net.www.protocol.http.HttpURLConnection.getInputStream0(HttpURLConnection.java:1900)\r\n    \tat sun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLConnection.java:1498)\r\n    \tat com.sun.org.apache.xerces.internal.impl.XMLEntityManager.setupCurrentEntity(XMLEntityManager.java:646)\r\n    \tat com.sun.org.apache.xerces.internal.impl.XMLVersionDetector.determineDocVersion(XMLVersionDetector.java:150)\r\n    \tat com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:831)\r\n    \tat com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:796)\r\n    \tat com.sun.org.apache.xerces.internal.parsers.XMLParser.parse(XMLParser.java:142)\r\n    \tat com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.parse(AbstractSAXParser.java:1216)\r\n    \tat com.sun.org.apache.xerces.internal.jaxp.SAXParserImpl$JAXPSAXParser.parse(SAXParserImpl.java:644)\r\n    \tat groovy.util.XmlSlurper.parse(XmlSlurper.java:205)\r\n    \tat groovy.util.XmlSlurper.parse(XmlSlurper.java:271)\r\n\t\r\nCan anyone pls suggest how to handle if server give error message by throwing 400 status code?","title":"Getting java.io.IOException: Server returned HTTP response code: 400 for URL: when using a url which return 400 status code","body":"<p>I am trying to perform a get request using <strong>Groovy</strong> using the below code:</p>\n<p>String url = &quot;url of endpoint&quot;\ndef responseXml = new XmlSlurper().parse(url)</p>\n<p>If the endpoint returns status as 200 then everything works good but there is one case where we have to validate the error response like below and status returned is 400:</p>\n<pre><code>    &lt;errors&gt;\n    &lt;error&gt;One of the following parameters is required: xyz, abc.&lt;/error&gt;\n    &lt;error&gt;One of the following parameters is required: xyz, mno.&lt;/error&gt;\n    &lt;/errors&gt;\n</code></pre>\n<p>In this case parse method throws :</p>\n<pre><code>\n    java.io.IOException: Server returned HTTP response code: 400 for URL: &quot;actual endpoint throwing error&quot;\n    at sun.net.www.protocol.http.HttpURLConnection.getInputStream0(HttpURLConnection.java:1900)\n        at sun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLConnection.java:1498)\n        at com.sun.org.apache.xerces.internal.impl.XMLEntityManager.setupCurrentEntity(XMLEntityManager.java:646)\n        at com.sun.org.apache.xerces.internal.impl.XMLVersionDetector.determineDocVersion(XMLVersionDetector.java:150)\n        at com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:831)\n        at com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:796)\n        at com.sun.org.apache.xerces.internal.parsers.XMLParser.parse(XMLParser.java:142)\n        at com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.parse(AbstractSAXParser.java:1216)\n        at com.sun.org.apache.xerces.internal.jaxp.SAXParserImpl$JAXPSAXParser.parse(SAXParserImpl.java:644)\n        at groovy.util.XmlSlurper.parse(XmlSlurper.java:205)\n        at groovy.util.XmlSlurper.parse(XmlSlurper.java:271)\n    \nCan anyone pls suggest how to handle if server give error message by throwing 400 status code?\n</code></pre>\n"},{"tags":["java","amazon-web-services","networking","microservices","response-time"],"comments":[{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":0,"creation_date":1673533832,"post_id":75097688,"comment_id":132524530,"body_markdown":"Why should the connection between the user and the server 1 have any influence on the connection between server 1 and server 2?","body":"Why should the connection between the user and the server 1 have any influence on the connection between server 1 and server 2?"}],"owner":{"account_id":6074821,"reputation":593,"user_id":4742511,"accept_rate":21,"display_name":"TheCurious"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":7,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673533024,"creation_date":1673533024,"question_id":75097688,"body_markdown":"Let Say two user accessing a same end point in which S2S call is involved. One user is on poor connectivity &amp; other is on good n/w speed. Below is the time taken by servers.\r\n\r\nAPI Response time for user on good Connectivity- T1+T2+delta\r\n\r\nAPI Response time for user on poor Connectivity- T3+T4+delta\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nIt is understood T3 &gt; T1.\r\n\r\nWhat about T2 &amp; T4, will T4 &gt; T2 or it will be same assuming data packets will be sends from Server1 to Server2, &amp; it will depend on Server1 Net Speed only. \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/wZsez.png","title":"Is user n/w speed impacts the s2s calls time involved in api call","body":"<p>Let Say two user accessing a same end point in which S2S call is involved. One user is on poor connectivity &amp; other is on good n/w speed. Below is the time taken by servers.</p>\n<p>API Response time for user on good Connectivity- T1+T2+delta</p>\n<p>API Response time for user on poor Connectivity- T3+T4+delta</p>\n<p><a href=\"https://i.stack.imgur.com/wZsez.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wZsez.png\" alt=\"enter image description here\" /></a></p>\n<p>It is understood T3 &gt; T1.</p>\n<p>What about T2 &amp; T4, will T4 &gt; T2 or it will be same assuming data packets will be sends from Server1 to Server2, &amp; it will depend on Server1 Net Speed only.</p>\n"},{"tags":["java","json"],"comments":[{"owner":{"account_id":26359116,"reputation":585,"user_id":20015640,"display_name":"Urvish Shiroya"},"score":0,"creation_date":1673504731,"post_id":75092326,"comment_id":132515174,"body_markdown":"can you use `okhttp` `JSONObject` and `JSONArray`?","body":"can you use <code>okhttp</code> <code>JSONObject</code> and <code>JSONArray</code>?"},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1673516147,"post_id":75092326,"comment_id":132518334,"body_markdown":"It does not seem to be possible to reference values within `calc()` that reside at a different node/level. As soon as you include a `.` in the `calc` function, it fails","body":"It does not seem to be possible to reference values within <code>calc()</code> that reside at a different node/level. As soon as you include a <code>.</code> in the <code>calc</code> function, it fails"}],"answers":[{"tags":[],"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673521679,"creation_date":1673518350,"answer_id":75094668,"question_id":75092326,"body_markdown":"[Answer by Raymond Choi ](https://stackoverflow.com/a/75095081/7109162) would be the best solution.\r\n\r\n---\r\n\r\n\r\nAlright, I have found a possible solution to this using [Jossons](https://github.com/octomix/josson#fill-in) template engine.\r\n\r\n\tString json = &quot;{\\&quot;data\\&quot;:{\\&quot;B\\&quot;:\\&quot;calc(348+(96*{{SelectedPump-&gt;stg}}*{{ModelMaster-&gt;count}}))\\&quot;},\\&quot;SelectedPump\\&quot;:{\\&quot;stg\\&quot;:10,\\&quot;ab\\&quot;:200},\\&quot;ModelMaster\\&quot;:{\\&quot;count\\&quot;:20}}&quot;;\r\n\r\n\tJossons jossons = Jossons.fromJsonString(json);\r\n\tString output = jossons.fillInPlaceholder(&quot;{\\&quot;s\\&quot;:\\&quot;{{data-&gt;B}}\\&quot;}&quot;);\r\n\toutput = jossons.fillInPlaceholder(output);\r\n\tSystem.out.println(output);\r\n\tSystem.out.println(Josson.fromJsonString(output).getNode(&quot;$.eval(s)&quot;));\r\n\r\n\r\nIt is necessary to adjust the JSON string to use placeholder to access the values from a different/nested node. We also have to create a new JSON string with a template that is filled in. Also also, it does sadly not recursively replace the placeholder, making it necessary to call `jossons.fillInPlaceholder()` two times. The first time it fetches the calculated formula and the second time it replaces the placeholder that are now present in the formula.\r\n\r\nThe output is:\r\n\r\n    output -&gt; {&quot;s&quot;:&quot;calc(348+(96*10*20))&quot;}\r\n    Josson.fromJsonString(output).getNode(&quot;$.eval(s)&quot;) -&gt; 19548.0\r\n\r\n---\r\n\r\nThe proposed code in the question fails, because Josson is not able to resolve nested/different node values. Pretty much as soon as we have a `.` present in the `calc()` formula, the syntax check fails. It is however possible to access nodes at the same level. So a JSON like this:\r\n\r\n    {\r\n      &quot;data&quot; : {\r\n        &quot;B&quot; : &quot;calc(348+(96*SelectedPumpStg*ModelMasterCount))&quot;,\r\n        &quot;SelectedPumpStg&quot; : 10,\r\n        &quot;ModelMasterCount&quot; : 20\r\n      }\r\n    }\r\n\r\ncan be evaluated by:\r\n\r\n\tString json = &quot;{\\&quot;data\\&quot;:{\\&quot;B\\&quot;:\\&quot;calc(348+(96*SelectedPumpStg*ModelMasterCount))\\&quot;,\\&quot;SelectedPumpStg\\&quot;:10,\\&quot;ModelMasterCount\\&quot;:20}}&quot;;\r\n\tJosson josson = Josson.fromJsonString(json.toString());\r\n\tSystem.out.println(josson.getNode(&quot;data.eval(B)&quot;));\r\n\r\nresulting in the same: `19548.0`.\r\n\r\nEither way, the input JSON has to be adjusted to work with `Josson`","title":"evaluate JSON expression in child object","body":"<p><a href=\"https://stackoverflow.com/a/75095081/7109162\">Answer by Raymond Choi </a> would be the best solution.</p>\n<hr />\n<p>Alright, I have found a possible solution to this using <a href=\"https://github.com/octomix/josson#fill-in\" rel=\"nofollow noreferrer\">Jossons</a> template engine.</p>\n<pre><code>String json = &quot;{\\&quot;data\\&quot;:{\\&quot;B\\&quot;:\\&quot;calc(348+(96*{{SelectedPump-&gt;stg}}*{{ModelMaster-&gt;count}}))\\&quot;},\\&quot;SelectedPump\\&quot;:{\\&quot;stg\\&quot;:10,\\&quot;ab\\&quot;:200},\\&quot;ModelMaster\\&quot;:{\\&quot;count\\&quot;:20}}&quot;;\n\nJossons jossons = Jossons.fromJsonString(json);\nString output = jossons.fillInPlaceholder(&quot;{\\&quot;s\\&quot;:\\&quot;{{data-&gt;B}}\\&quot;}&quot;);\noutput = jossons.fillInPlaceholder(output);\nSystem.out.println(output);\nSystem.out.println(Josson.fromJsonString(output).getNode(&quot;$.eval(s)&quot;));\n</code></pre>\n<p>It is necessary to adjust the JSON string to use placeholder to access the values from a different/nested node. We also have to create a new JSON string with a template that is filled in. Also also, it does sadly not recursively replace the placeholder, making it necessary to call <code>jossons.fillInPlaceholder()</code> two times. The first time it fetches the calculated formula and the second time it replaces the placeholder that are now present in the formula.</p>\n<p>The output is:</p>\n<pre><code>output -&gt; {&quot;s&quot;:&quot;calc(348+(96*10*20))&quot;}\nJosson.fromJsonString(output).getNode(&quot;$.eval(s)&quot;) -&gt; 19548.0\n</code></pre>\n<hr />\n<p>The proposed code in the question fails, because Josson is not able to resolve nested/different node values. Pretty much as soon as we have a <code>.</code> present in the <code>calc()</code> formula, the syntax check fails. It is however possible to access nodes at the same level. So a JSON like this:</p>\n<pre><code>{\n  &quot;data&quot; : {\n    &quot;B&quot; : &quot;calc(348+(96*SelectedPumpStg*ModelMasterCount))&quot;,\n    &quot;SelectedPumpStg&quot; : 10,\n    &quot;ModelMasterCount&quot; : 20\n  }\n}\n</code></pre>\n<p>can be evaluated by:</p>\n<pre><code>String json = &quot;{\\&quot;data\\&quot;:{\\&quot;B\\&quot;:\\&quot;calc(348+(96*SelectedPumpStg*ModelMasterCount))\\&quot;,\\&quot;SelectedPumpStg\\&quot;:10,\\&quot;ModelMasterCount\\&quot;:20}}&quot;;\nJosson josson = Josson.fromJsonString(json.toString());\nSystem.out.println(josson.getNode(&quot;data.eval(B)&quot;));\n</code></pre>\n<p>resulting in the same: <code>19548.0</code>.</p>\n<p>Either way, the input JSON has to be adjusted to work with <code>Josson</code></p>\n"},{"comments":[{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":1,"creation_date":1673521575,"post_id":75095081,"comment_id":132520196,"body_markdown":"Should be `A:$.SelectedPump.stg, B:$.ModelMaster.count` because they are not a child node of `data`. Also can you provide a source where you got this from? Couldn&#39;t find anything on the github readme","body":"Should be <code>A:$.SelectedPump.stg, B:$.ModelMaster.count</code> because they are not a child node of <code>data</code>. Also can you provide a source where you got this from? Couldn&#39;t find anything on the github readme"},{"owner":{"account_id":13009011,"reputation":1105,"user_id":9402689,"display_name":"Raymond Choi"},"score":0,"creation_date":1673531795,"post_id":75095081,"comment_id":132523772,"body_markdown":"@XtremeBaumer Thanks to remind me. I forgot to post the corresponding revised query after removing the `$.`.","body":"@XtremeBaumer Thanks to remind me. I forgot to post the corresponding revised query after removing the <code>$.</code>."},{"owner":{"account_id":13009011,"reputation":1105,"user_id":9402689,"display_name":"Raymond Choi"},"score":0,"creation_date":1673535233,"post_id":75095081,"comment_id":132525099,"body_markdown":"@XtremeBaumer That is described in the readme at tutorial point 55.","body":"@XtremeBaumer That is described in the readme at tutorial point 55."},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1673535694,"post_id":75095081,"comment_id":132525297,"body_markdown":"Took a bit to find it cause the search can&#39;t find that entry for whatever reason. `mXparser expression accepts single-step path only. To apply multi-steps path, function or filter, append arguments with syntax newVariable:path` is the explanation given in the tutorial","body":"Took a bit to find it cause the search can&#39;t find that entry for whatever reason. <code>mXparser expression accepts single-step path only. To apply multi-steps path, function or filter, append arguments with syntax newVariable:path</code> is the explanation given in the tutorial"}],"tags":[],"owner":{"account_id":13009011,"reputation":1105,"user_id":9402689,"display_name":"Raymond Choi"},"comment_count":4,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1673533022,"creation_date":1673520284,"answer_id":75095081,"question_id":75092326,"body_markdown":"The variables inside the math equation cannot contains special characters. You need to use substitution. The variable name can whatever you want without special characters and `.`. So, the statement of B become...\r\n\r\n    calc(348+(96*A*B), A:SelectedPump.stg, B:ModelMaster.count)\r\n\r\nThe function `eval()` in query `data.eval(B)` works on node `data`. So the original evaluation statement needs `$.` to re-start from the root to get the value. For this revised version `eval(data.B)`, `eval()` works on the root node with parameter `data.B`. And therefore, `$.` is not necessary.\r\n\r\n    String json =\r\n        &quot;{\\n&quot; +\r\n        &quot;    \\&quot;data\\&quot;: {\\n&quot; +\r\n        &quot;        \\&quot;B\\&quot;: \\&quot;calc(348+(96*A*B), A:SelectedPump.stg, B:ModelMaster.count)\\&quot;\\n&quot; +\r\n        &quot;    },\\n&quot; +\r\n        &quot;    \\&quot;SelectedPump\\&quot;: {\\n&quot; +\r\n        &quot;        \\&quot;stg\\&quot;: 10,\\n&quot; +\r\n        &quot;        \\&quot;ab\\&quot;: 200\\n&quot; +\r\n        &quot;    },\\n&quot; +\r\n        &quot;    \\&quot;ModelMaster\\&quot;: {\\n&quot; +\r\n        &quot;        \\&quot;count\\&quot;: 20\\n&quot; +\r\n        &quot;    }\\n&quot; +\r\n        &quot;}&quot;;\r\n    Josson josson = Josson.fromJsonString(json);\r\n    System.out.println(josson.getNode(&quot;eval(data.B)&quot;));\r\n    // Output: 19548.0\r\n","title":"evaluate JSON expression in child object","body":"<p>The variables inside the math equation cannot contains special characters. You need to use substitution. The variable name can whatever you want without special characters and <code>.</code>. So, the statement of B become...</p>\n<pre><code>calc(348+(96*A*B), A:SelectedPump.stg, B:ModelMaster.count)\n</code></pre>\n<p>The function <code>eval()</code> in query <code>data.eval(B)</code> works on node <code>data</code>. So the original evaluation statement needs <code>$.</code> to re-start from the root to get the value. For this revised version <code>eval(data.B)</code>, <code>eval()</code> works on the root node with parameter <code>data.B</code>. And therefore, <code>$.</code> is not necessary.</p>\n<pre><code>String json =\n    &quot;{\\n&quot; +\n    &quot;    \\&quot;data\\&quot;: {\\n&quot; +\n    &quot;        \\&quot;B\\&quot;: \\&quot;calc(348+(96*A*B), A:SelectedPump.stg, B:ModelMaster.count)\\&quot;\\n&quot; +\n    &quot;    },\\n&quot; +\n    &quot;    \\&quot;SelectedPump\\&quot;: {\\n&quot; +\n    &quot;        \\&quot;stg\\&quot;: 10,\\n&quot; +\n    &quot;        \\&quot;ab\\&quot;: 200\\n&quot; +\n    &quot;    },\\n&quot; +\n    &quot;    \\&quot;ModelMaster\\&quot;: {\\n&quot; +\n    &quot;        \\&quot;count\\&quot;: 20\\n&quot; +\n    &quot;    }\\n&quot; +\n    &quot;}&quot;;\nJosson josson = Josson.fromJsonString(json);\nSystem.out.println(josson.getNode(&quot;eval(data.B)&quot;));\n// Output: 19548.0\n</code></pre>\n"}],"owner":{"account_id":27473411,"reputation":59,"user_id":20961840,"display_name":"dattam katore"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":111,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1673533022,"creation_date":1673504590,"question_id":75092326,"body_markdown":"I am trying to evaluate json expression using [Josson](https://github.com/octomix/josson), but it gives invalid function error\r\n\r\n```\r\nString json =&quot;{\\&quot;data\\&quot;:{\\&quot;B\\&quot;:\\&quot;calc(348+(96*$.SelectedPump.stg*$.ModelMaster.count))\\&quot;},\\&quot;SelectedPump\\&quot;:{\\&quot;stg\\&quot;:10,\\&quot;ab\\&quot;:200},\\&quot;ModelMaster\\&quot;:{\\&quot;count\\&quot;:20}}&quot;;\r\n\t\t\r\nJosson josson = Josson.fromJsonString(json.toString());\r\nSystem.out.println(josson.getNode(&quot;data.eval(B)&quot;));\r\n```\r\n\r\nStacktrace:\r\n\r\n    Exception in thread &quot;main&quot; java.lang.IllegalArgumentException: Invalid function call eval() : Invalid function call calc() : Calc syntax error.\r\n    \tat com.octomix.josson.FuncDispatcher.apply(FuncDispatcher.java:84)\r\n    \tat com.octomix.josson.JossonCore.getPathBySteps(JossonCore.java:328)\r\n    \tat com.octomix.josson.JossonCore.getPathBySteps(JossonCore.java:352)\r\n    \tat com.octomix.josson.JossonCore.getPathBySteps(JossonCore.java:249)\r\n    \tat com.octomix.josson.JossonCore.getPathByExpression(JossonCore.java:211)\r\n    \tat com.octomix.josson.JossonCore.getNodeByExpression(JossonCore.java:147)\r\n    \tat com.octomix.josson.JossonCore.getNodeByExpression(JossonCore.java:142)\r\n    \tat com.octomix.josson.Josson.getNode(Josson.java:279)\r\n\r\n","title":"evaluate JSON expression in child object","body":"<p>I am trying to evaluate json expression using <a href=\"https://github.com/octomix/josson\" rel=\"nofollow noreferrer\">Josson</a>, but it gives invalid function error</p>\n<pre><code>String json =&quot;{\\&quot;data\\&quot;:{\\&quot;B\\&quot;:\\&quot;calc(348+(96*$.SelectedPump.stg*$.ModelMaster.count))\\&quot;},\\&quot;SelectedPump\\&quot;:{\\&quot;stg\\&quot;:10,\\&quot;ab\\&quot;:200},\\&quot;ModelMaster\\&quot;:{\\&quot;count\\&quot;:20}}&quot;;\n        \nJosson josson = Josson.fromJsonString(json.toString());\nSystem.out.println(josson.getNode(&quot;data.eval(B)&quot;));\n</code></pre>\n<p>Stacktrace:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.IllegalArgumentException: Invalid function call eval() : Invalid function call calc() : Calc syntax error.\n    at com.octomix.josson.FuncDispatcher.apply(FuncDispatcher.java:84)\n    at com.octomix.josson.JossonCore.getPathBySteps(JossonCore.java:328)\n    at com.octomix.josson.JossonCore.getPathBySteps(JossonCore.java:352)\n    at com.octomix.josson.JossonCore.getPathBySteps(JossonCore.java:249)\n    at com.octomix.josson.JossonCore.getPathByExpression(JossonCore.java:211)\n    at com.octomix.josson.JossonCore.getNodeByExpression(JossonCore.java:147)\n    at com.octomix.josson.JossonCore.getNodeByExpression(JossonCore.java:142)\n    at com.octomix.josson.Josson.getNode(Josson.java:279)\n</code></pre>\n"},{"tags":["java","jtable","tablemodel"],"comments":[{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":2,"creation_date":1673533092,"post_id":75097672,"comment_id":132524246,"body_markdown":"You overwrite the table model on each row. Collect all rows in a list/array and only call `setModel()` once after the loop","body":"You overwrite the table model on each row. Collect all rows in a list/array and only call <code>setModel()</code> once after the loop"},{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1673533302,"post_id":75097672,"comment_id":132524337,"body_markdown":"Your `Object[] objects` variable represents one row from your database. For each row you tell your jTable &quot;here is the data to display, it&#39;s only one row&quot;.","body":"Your <code>Object[] objects</code> variable represents one row from your database. For each row you tell your jTable &quot;here is the data to display, it&#39;s only one row&quot;."}],"owner":{"account_id":19766439,"reputation":11,"user_id":14474370,"display_name":"Achiya"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673532917,"creation_date":1673532917,"question_id":75097672,"body_markdown":"I&#39;ve created a class &#39;ProductTable&#39; which is `extends` to `JTable`. The purpose of the class is to load data from a database and add all the data to the table when it is instantiating. Below is what I tried.\r\n\r\n\r\n```\r\npublic class ProductTable extends JTable {\r\n\r\n    static Statement st;\r\n    static Connection conn;\r\n    static ResultSet rs;\r\n\r\n    public ProductTable() {\r\n        \r\n        try {\r\n            conn = ConnectDB.connect();\r\n        } catch (ClassNotFoundException | SQLException ex) {\r\n            Logger.getLogger(ProductTable.class.getName()).log(Level.SEVERE, null, ex);\r\n        }\r\n        try {\r\n               loadProductTable();\r\n        } catch (SQLException ex) {\r\n               Logger.getLogger(ProductTable.class.getName()).log(Level.SEVERE, null, ex);\r\n        }\r\n    }\r\n    \r\n    public void loadProductTable() throws SQLException {\r\n            \r\n        String sql = &quot;SELECT product_id, produce_code, product_name, category_id, unit_in_stock, unit_price FROM tblproduct&quot;;\r\n        st = conn.prepareStatement(sql);\r\n        rs = st.executeQuery(sql);\r\n        while (rs.next()) {\r\n            Object id = String.valueOf(rs.getInt(&quot;product_id&quot;));\r\n            Object code = String.valueOf(rs.getLong(&quot;produce_code&quot;));\r\n            Object name = rs.getString(&quot;product_name&quot;);\r\n            Object category = String.valueOf(rs.getInt(&quot;category_id&quot;));\r\n            Object instock = String.valueOf(rs.getFloat(&quot;unit_in_stock&quot;));\r\n            Object price = String.valueOf((long) rs.getFloat(&quot;unit_price&quot;));\r\n            \r\n            \r\n            Object[] objects = new Object[] {id,code,name,category,instock,price};\r\n            \r\n            setModel(new javax.swing.table.DefaultTableModel(\r\n                    new Object [][] {    \r\n                        objects                        \r\n                    },\r\n                    new String [] {\r\n                        &quot;ID&quot;, &quot;CODE&quot;, &quot;NAME&quot;, &quot;CATEGORY&quot;, &quot;IN STOCK&quot;, &quot;UNIT PRICE&quot;, &quot;&quot;\r\n                    }            \r\n            ));\r\n                \r\n            \r\n        }\r\n    }\r\n}\r\n```\r\nThe problem is when I ran the program from another class, the table only shows the last row of data.\r\n\r\n\r\nI tried to add the method `addRow()` at the end of `setModel(........).addRow();` but Netbeans says &quot;void type not allowed here&quot;.","title":"Adding data to a JTable from a database","body":"<p>I've created a class 'ProductTable' which is <code>extends</code> to <code>JTable</code>. The purpose of the class is to load data from a database and add all the data to the table when it is instantiating. Below is what I tried.</p>\n<pre><code>public class ProductTable extends JTable {\n\n    static Statement st;\n    static Connection conn;\n    static ResultSet rs;\n\n    public ProductTable() {\n        \n        try {\n            conn = ConnectDB.connect();\n        } catch (ClassNotFoundException | SQLException ex) {\n            Logger.getLogger(ProductTable.class.getName()).log(Level.SEVERE, null, ex);\n        }\n        try {\n               loadProductTable();\n        } catch (SQLException ex) {\n               Logger.getLogger(ProductTable.class.getName()).log(Level.SEVERE, null, ex);\n        }\n    }\n    \n    public void loadProductTable() throws SQLException {\n            \n        String sql = &quot;SELECT product_id, produce_code, product_name, category_id, unit_in_stock, unit_price FROM tblproduct&quot;;\n        st = conn.prepareStatement(sql);\n        rs = st.executeQuery(sql);\n        while (rs.next()) {\n            Object id = String.valueOf(rs.getInt(&quot;product_id&quot;));\n            Object code = String.valueOf(rs.getLong(&quot;produce_code&quot;));\n            Object name = rs.getString(&quot;product_name&quot;);\n            Object category = String.valueOf(rs.getInt(&quot;category_id&quot;));\n            Object instock = String.valueOf(rs.getFloat(&quot;unit_in_stock&quot;));\n            Object price = String.valueOf((long) rs.getFloat(&quot;unit_price&quot;));\n            \n            \n            Object[] objects = new Object[] {id,code,name,category,instock,price};\n            \n            setModel(new javax.swing.table.DefaultTableModel(\n                    new Object [][] {    \n                        objects                        \n                    },\n                    new String [] {\n                        &quot;ID&quot;, &quot;CODE&quot;, &quot;NAME&quot;, &quot;CATEGORY&quot;, &quot;IN STOCK&quot;, &quot;UNIT PRICE&quot;, &quot;&quot;\n                    }            \n            ));\n                \n            \n        }\n    }\n}\n</code></pre>\n<p>The problem is when I ran the program from another class, the table only shows the last row of data.</p>\n<p>I tried to add the method <code>addRow()</code> at the end of <code>setModel(........).addRow();</code> but Netbeans says &quot;void type not allowed here&quot;.</p>\n"},{"tags":["java","string","collections"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":2,"creation_date":1673529115,"post_id":75096828,"comment_id":132522793,"body_markdown":"can you give some specific examples of what you expect to be changed into what when passed a specific parameter, what you expect to stay the same (and why), ...","body":"can you give some specific examples of what you expect to be changed into what when passed a specific parameter, what you expect to stay the same (and why), ..."},{"owner":{"display_name":"user6073886"},"score":0,"creation_date":1673529231,"post_id":75096828,"comment_id":132522829,"body_markdown":"Do you want to cut your String off to fit a maximum length? If that is the case using replaceAll is really not the way to go.","body":"Do you want to cut your String off to fit a maximum length? If that is the case using replaceAll is really not the way to go."},{"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"score":1,"creation_date":1673529280,"post_id":75096828,"comment_id":132522845,"body_markdown":"Sounds like substring with the conditonal operator `?:` would be better.","body":"Sounds like substring with the conditonal operator <code>?:</code> would be better."},{"owner":{"account_id":6508653,"reputation":884,"user_id":5036736,"accept_rate":36,"display_name":"Mayur"},"score":0,"creation_date":1673529351,"post_id":75096828,"comment_id":132522874,"body_markdown":"Try to use comment.substr(comment.getText(), maxTextLength)","body":"Try to use comment.substr(comment.getText(), maxTextLength)"},{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":1,"creation_date":1673529398,"post_id":75096828,"comment_id":132522894,"body_markdown":"Why don&#39;t you use `substring`? Sounds like a 100% match for this use case","body":"Why don&#39;t you use <code>substring</code>? Sounds like a 100% match for this use case"},{"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1673533123,"post_id":75096828,"comment_id":132524260,"body_markdown":"Why use `replaceAll` if you don&#39;t need to `replace all`?","body":"Why use <code>replaceAll</code> if you don&#39;t need to <code>replace all</code>?"},{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":0,"creation_date":1673538833,"post_id":75096828,"comment_id":132526532,"body_markdown":"From my POV the data itself should only get truncated if need be. Otherwise keep the full text and just truncate for display. This would allow to show the full text when the user hovers or clicks the entry.","body":"From my POV the data itself should only get truncated if need be. Otherwise keep the full text and just truncate for display. This would allow to show the full text when the user hovers or clicks the entry."}],"answers":[{"comments":[{"owner":{"account_id":21257942,"reputation":143,"user_id":15639126,"display_name":"rsnlpn"},"score":0,"creation_date":1673530719,"post_id":75096898,"comment_id":132523396,"body_markdown":"Thank you! I updated my question and actually I just need this -  new Comment(comment.getText().substring(0, maxTextLength)), but your solution is what I&#39;ve looked for.","body":"Thank you! I updated my question and actually I just need this -  new Comment(comment.getText().substring(0, maxTextLength)), but your solution is what I&#39;ve looked for."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1673530878,"post_id":75096898,"comment_id":132523444,"body_markdown":"If you don&#39;t use something like an ellipsis (`&quot;…&quot;`) you won&#39;t know whether something was truncated","body":"If you don&#39;t use something like an ellipsis (<code>&quot;…&quot;</code>) you won&#39;t know whether something was truncated"},{"owner":{"account_id":21257942,"reputation":143,"user_id":15639126,"display_name":"rsnlpn"},"score":0,"creation_date":1673531096,"post_id":75096898,"comment_id":132523503,"body_markdown":"Yes, thank you, I got your point, but it isn&#39;t what I need in my particular task. So I just leave a comment what solution suits to the raised question with its particular case description.","body":"Yes, thank you, I got your point, but it isn&#39;t what I need in my particular task. So I just leave a comment what solution suits to the raised question with its particular case description."}],"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1673529410,"creation_date":1673529410,"answer_id":75096898,"question_id":75096828,"body_markdown":"You never showed the comment class. Can we set the text on a comment? Can we create a new one giving the text on the constructor? I am assuming the latter.\r\n\r\nThen replace `*what should be here?*` with\r\n\r\n     new Comment(comment.getText().substring(0, maxTextLength-3) + &quot;...&quot;)","title":"Remove a part of string based on its given length with replaceAll in Java","body":"<p>You never showed the comment class. Can we set the text on a comment? Can we create a new one giving the text on the constructor? I am assuming the latter.</p>\n<p>Then replace <code>*what should be here?*</code> with</p>\n<pre><code> new Comment(comment.getText().substring(0, maxTextLength-3) + &quot;...&quot;)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2444604,"reputation":897,"user_id":2132294,"display_name":"Eugen"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673529987,"creation_date":1673529987,"answer_id":75097003,"question_id":75096828,"body_markdown":"I guess that you need something like this:\r\n\r\n    public static void handleComments (List&lt;Comment&gt; comments, int maxTextLength) {\r\n    \r\n        comments.stream()\r\n            .filter(comment -&gt; comment.getText().length() &gt; maxTextLength)\r\n            .forEach(comment -&gt; comment.setText(comment.getText().substring(0, maxTextLength - 1))\r\n            );\r\n      }","title":"Remove a part of string based on its given length with replaceAll in Java","body":"<p>I guess that you need something like this:</p>\n<pre><code>public static void handleComments (List&lt;Comment&gt; comments, int maxTextLength) {\n\n    comments.stream()\n        .filter(comment -&gt; comment.getText().length() &gt; maxTextLength)\n        .forEach(comment -&gt; comment.setText(comment.getText().substring(0, maxTextLength - 1))\n        );\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673532893,"creation_date":1673531027,"answer_id":75097232,"question_id":75096828,"body_markdown":"There are so many ways to do this.  I would opt for the most straight forward.  This method only replaces comments that are too long.\r\n```\r\nclass Comment {\r\n    private String text;\r\n\r\n    public Comment(String text) {\r\n        this.text = text;\r\n    }\r\n\r\n    public String getText() {\r\n        return text;\r\n    }\r\n\r\n    public void setText(String comment) {\r\n        this.text = comment;\r\n    }\r\n\r\n    public String toString() {\r\n        return text;\r\n    }\r\n}\r\n\r\nList&lt;Comment&gt; comments = List.of(\r\n        new Comment(&quot;What a nice view! Where is it ?&quot;),\r\n        new Comment(&quot;I do not know, I just found it on the internet!&quot;),\r\n        new Comment(&quot;Perfect!&quot;));\r\n\r\ncomments.forEach(System.out::println);\r\nSystem.out.println();\r\nhandleComments(comments, 30);\r\ncomments.forEach(System.out::println);\r\n```\r\nprints\r\n```\r\nWhat a nice view! Where is it ?\r\nI do not know, I just found it on the internet!\r\nPerfect!\r\n\r\nWhat a nice view! Where is it \r\nI do not know, I just found it\r\nPerfect!\r\n```\r\nThe handle method.  Just use a loop.  Don&#39;t replace the comments if they don&#39;t need it or create a new object.  Just update the required text using your `setter`.\r\n```\r\npublic static void handleComments(List&lt;Comment&gt; comments,\r\n        int maxTextLength) {\r\n    comments.forEach(com -&gt; {\r\n        String txt = com.getText();\r\n        int len = txt.length();\r\n\r\n        if (len &gt; maxTextLength) {\r\n            com.setText(txt.substring(0, maxTextLength));\r\n        }\r\n    });\r\n}\r\n\r\n\r\n","title":"Remove a part of string based on its given length with replaceAll in Java","body":"<p>There are so many ways to do this.  I would opt for the most straight forward.  This method only replaces comments that are too long.</p>\n<pre><code>class Comment {\n    private String text;\n\n    public Comment(String text) {\n        this.text = text;\n    }\n\n    public String getText() {\n        return text;\n    }\n\n    public void setText(String comment) {\n        this.text = comment;\n    }\n\n    public String toString() {\n        return text;\n    }\n}\n\nList&lt;Comment&gt; comments = List.of(\n        new Comment(&quot;What a nice view! Where is it ?&quot;),\n        new Comment(&quot;I do not know, I just found it on the internet!&quot;),\n        new Comment(&quot;Perfect!&quot;));\n\ncomments.forEach(System.out::println);\nSystem.out.println();\nhandleComments(comments, 30);\ncomments.forEach(System.out::println);\n</code></pre>\n<p>prints</p>\n<pre><code>What a nice view! Where is it ?\nI do not know, I just found it on the internet!\nPerfect!\n\nWhat a nice view! Where is it \nI do not know, I just found it\nPerfect!\n</code></pre>\n<p>The handle method.  Just use a loop.  Don't replace the comments if they don't need it or create a new object.  Just update the required text using your <code>setter</code>.</p>\n<pre><code>public static void handleComments(List&lt;Comment&gt; comments,\n        int maxTextLength) {\n    comments.forEach(com -&gt; {\n        String txt = com.getText();\n        int len = txt.length();\n\n        if (len &gt; maxTextLength) {\n            com.setText(txt.substring(0, maxTextLength));\n        }\n    });\n}\n\n\n</code></pre>\n"}],"owner":{"account_id":21257942,"reputation":143,"user_id":15639126,"display_name":"rsnlpn"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75096898,"answer_count":3,"score":0,"last_activity_date":1673532893,"creation_date":1673529034,"question_id":75096828,"body_markdown":"I know that there are different ways to solve this task, but I need a particular way using replaceAll() method. I just stuck with right condition in the expression.\r\n\r\nSo I have a method like this:\r\n\r\n```\r\n    public static void handleComments(List&lt;Comment&gt; comments, int maxTextLength) {\r\n            comments.replaceAll(comment -&gt; comment.getText().length() &gt; maxTextLength ?  *what should be here?* : comment);\r\n        }\r\n\r\n    class Comment {\r\n    private final String text;\r\n\r\n    public Comment(String text) {\r\n        this.text = text;\r\n    }\r\n\r\n    public String getText() {\r\n        return text;\r\n    }\r\n}\r\n```\r\n\r\nThe case is next: I pass to the method some comments and max length of comment. The method should take list of comments and next, if comment length &gt; maxTextLength, it returns new comment that is a copy of original comment, but shorter (with maxTextLength amount of characters), and if comment length &lt; maxTextLength, it just returns the same comment (or it can be also a copy with the same amount of characters).\r\n\r\nUpdate:\r\nExample is below - we have (enter it) limit of 30 characters per string and method cuts all characters in each comment if there are more (&gt;) than 30 characters.\r\n\r\n**Sample Input:**\r\n\r\n30\r\n\r\nWhat a nice view! Where is it *?*\r\n\r\nI do not know, I just found it *on the internet!*\r\n\r\nPerfect!\r\n\r\n**Sample Output:**\r\n\r\nWhat a nice view! Where is it\r\n\r\nI do not know, I just found it\r\n\r\nPerfect!","title":"Remove a part of string based on its given length with replaceAll in Java","body":"<p>I know that there are different ways to solve this task, but I need a particular way using replaceAll() method. I just stuck with right condition in the expression.</p>\n<p>So I have a method like this:</p>\n<pre><code>    public static void handleComments(List&lt;Comment&gt; comments, int maxTextLength) {\n            comments.replaceAll(comment -&gt; comment.getText().length() &gt; maxTextLength ?  *what should be here?* : comment);\n        }\n\n    class Comment {\n    private final String text;\n\n    public Comment(String text) {\n        this.text = text;\n    }\n\n    public String getText() {\n        return text;\n    }\n}\n</code></pre>\n<p>The case is next: I pass to the method some comments and max length of comment. The method should take list of comments and next, if comment length &gt; maxTextLength, it returns new comment that is a copy of original comment, but shorter (with maxTextLength amount of characters), and if comment length &lt; maxTextLength, it just returns the same comment (or it can be also a copy with the same amount of characters).</p>\n<p>Update:\nExample is below - we have (enter it) limit of 30 characters per string and method cuts all characters in each comment if there are more (&gt;) than 30 characters.</p>\n<p><strong>Sample Input:</strong></p>\n<p>30</p>\n<p>What a nice view! Where is it <em>?</em></p>\n<p>I do not know, I just found it <em>on the internet!</em></p>\n<p>Perfect!</p>\n<p><strong>Sample Output:</strong></p>\n<p>What a nice view! Where is it</p>\n<p>I do not know, I just found it</p>\n<p>Perfect!</p>\n"},{"tags":["java","spring-boot","apache-poi"],"comments":[{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":0,"creation_date":1673517133,"post_id":75094161,"comment_id":132518698,"body_markdown":"Do those columns have unique headers? If yes, use those to select the required columns…","body":"Do those columns have unique headers? If yes, use those to select the required columns…"},{"owner":{"account_id":20154452,"reputation":49,"user_id":20300988,"display_name":"Chaitanya"},"score":0,"creation_date":1673517235,"post_id":75094161,"comment_id":132518726,"body_markdown":"yes all the headers are unique @deHaar","body":"yes all the headers are unique @deHaar"},{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":2,"creation_date":1673517486,"post_id":75094161,"comment_id":132518807,"body_markdown":"Make a check for the header row (the very first one, I guess). Determine which columns to be considered and store their indexes/numbers. Then iterate the remaining rows and use the stored numbers in order to create the `Student`s.","body":"Make a check for the header row (the very first one, I guess). Determine which columns to be considered and store their indexes/numbers. Then iterate the remaining rows and use the stored numbers in order to create the <code>Student</code>s."}],"answers":[{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1673689764,"post_id":75097614,"comment_id":132557541,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/75097614/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":20154452,"reputation":49,"user_id":20300988,"display_name":"Chaitanya"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1673532689,"creation_date":1673532689,"answer_id":75097614,"question_id":75094161,"body_markdown":"This fix worked for me.\r\n\r\n \r\n\r\n    for (int z = 0; z &lt; row.getLastCellNum() - 1; z++) {\r\n            String columnName = sheet.getRow(2).getCell(z).getStringCellValue(); // 2 is  heading row\r\n            switch (columnName) {\r\n               case &quot;Column 1&quot;:\r\n                     student.set(currentRow.getCell(z).getStringCellValue())\r\n               break;\r\n               case &quot;Column 2&quot;:\r\n                     student.set(currentRow.getCell(z).getStringCellValue())\r\n               break;\r\n               default:\r\n               break;\r\n            }\r\n        }","title":"Save Excel Data in Database in Spring boot","body":"<p>This fix worked for me.</p>\n<pre><code>for (int z = 0; z &lt; row.getLastCellNum() - 1; z++) {\n        String columnName = sheet.getRow(2).getCell(z).getStringCellValue(); // 2 is  heading row\n        switch (columnName) {\n           case &quot;Column 1&quot;:\n                 student.set(currentRow.getCell(z).getStringCellValue())\n           break;\n           case &quot;Column 2&quot;:\n                 student.set(currentRow.getCell(z).getStringCellValue())\n           break;\n           default:\n           break;\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":20154452,"reputation":49,"user_id":20300988,"display_name":"Chaitanya"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":433,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":75097614,"answer_count":1,"score":0,"last_activity_date":1673532689,"creation_date":1673516018,"question_id":75094161,"body_markdown":"I have some excel files which i need to upload and save all the content in database.\r\n\r\n**In my excel files sometimes some column which is not mandatory is not present but in cases where it is mandatory it will be present**\r\n\r\n\r\nSo How can i handle this situation single spring boot controller which run in all these 3 excel files?\r\n\r\nFor Example - \r\n\r\n        Excel File 1\r\n    \r\n        Column1 | Column2 | Column3\r\n        data1      data 2    data 3\r\n        \r\n        Excel File 2\r\n        \r\n        Column1 | Column2 | Column3 | Column4\r\n        data1      data 2    data 3   data 4\r\n        \r\n        Excel File 3\r\n        \r\n        Column1 | Column2 | Column4 \r\n        data1      data 2    data 2\r\n\r\nMy Implementation \r\n\r\n\r\n     for (int j = 0; j &lt;= sheet.getLastRowNum(); j++) {\r\n         Row currentRow = sheet.getRow(j);\r\n         if (currentRow != null &amp;&amp; currentRow.getCell(0)!=null) {\r\n            Student student = new Student();\r\n            // Common Fields which is in all the excel files\r\n            student.setId((int)Math.round(currentRow.getCell(1).getNumericCellValue()));\r\n            student.setName(currentRow.getCell(2).getStringCellValue());\r\n            \r\n            // Rest of the fields (May be present in one excel but not present in other excel \r\n             vice-versa                                           \r\n         }\r\n     }\r\n","title":"Save Excel Data in Database in Spring boot","body":"<p>I have some excel files which i need to upload and save all the content in database.</p>\n<p><strong>In my excel files sometimes some column which is not mandatory is not present but in cases where it is mandatory it will be present</strong></p>\n<p>So How can i handle this situation single spring boot controller which run in all these 3 excel files?</p>\n<p>For Example -</p>\n<pre><code>    Excel File 1\n\n    Column1 | Column2 | Column3\n    data1      data 2    data 3\n    \n    Excel File 2\n    \n    Column1 | Column2 | Column3 | Column4\n    data1      data 2    data 3   data 4\n    \n    Excel File 3\n    \n    Column1 | Column2 | Column4 \n    data1      data 2    data 2\n</code></pre>\n<p>My Implementation</p>\n<pre><code> for (int j = 0; j &lt;= sheet.getLastRowNum(); j++) {\n     Row currentRow = sheet.getRow(j);\n     if (currentRow != null &amp;&amp; currentRow.getCell(0)!=null) {\n        Student student = new Student();\n        // Common Fields which is in all the excel files\n        student.setId((int)Math.round(currentRow.getCell(1).getNumericCellValue()));\n        student.setName(currentRow.getCell(2).getStringCellValue());\n        \n        // Rest of the fields (May be present in one excel but not present in other excel \n         vice-versa                                           \n     }\n }\n</code></pre>\n"},{"tags":["java","jar","runtime-error","binary-compatibility"],"comments":[{"owner":{"account_id":360087,"reputation":2036,"user_id":701884,"display_name":"Wivani"},"score":0,"creation_date":1308125181,"post_id":1980452,"comment_id":7437642,"body_markdown":"In an Eclipse project where I was testing Apache FOP 1.0 and Barcode4J, the additional libraries that came with Barcode4J were apparently overriding the ones that came with FOP (some had higher version numbers). It&#39;s a case for being very careful what you put in your build path / classpath.","body":"In an Eclipse project where I was testing Apache FOP 1.0 and Barcode4J, the additional libraries that came with Barcode4J were apparently overriding the ones that came with FOP (some had higher version numbers). It&#39;s a case for being very careful what you put in your build path / classpath."}],"answers":[{"comments":[{"owner":{"account_id":9540,"reputation":25179,"user_id":17675,"accept_rate":81,"display_name":"Zombies"},"score":3,"creation_date":1262187756,"post_id":1980474,"comment_id":1896286,"body_markdown":"For some reason the developers here are having a problem where recompiling the client code doesn&#39;t fix the issue exactly. For some reason if they edit the file where it occurs and recompile the error no longer occurs there, but more will randomly pop-up elsewhere in the project, where the library is referenced. I am curious what could possibly be casuing this.","body":"For some reason the developers here are having a problem where recompiling the client code doesn&#39;t fix the issue exactly. For some reason if they edit the file where it occurs and recompile the error no longer occurs there, but more will randomly pop-up elsewhere in the project, where the library is referenced. I am curious what could possibly be casuing this."},{"owner":{"account_id":43112,"reputation":58953,"user_id":125844,"accept_rate":85,"display_name":"notnoop"},"score":6,"creation_date":1262188372,"post_id":1980474,"comment_id":1896334,"body_markdown":"Have you tried to do a clean build (delete all the `*.class` files) and recompiling?  Editing files have similar effect.","body":"Have you tried to do a clean build (delete all the <code>*.class</code> files) and recompiling?  Editing files have similar effect."},{"owner":{"account_id":9540,"reputation":25179,"user_id":17675,"accept_rate":81,"display_name":"Zombies"},"score":0,"creation_date":1262192083,"post_id":1980474,"comment_id":1896736,"body_markdown":"No dynamically generated code.... unless you would consider a JSP to be such. We did try deleting the class files and this didn&#39;t seem to help. The wierd thing is that it just doesn&#39;t seem to happen for me but it happens for other developer.","body":"No dynamically generated code.... unless you would consider a JSP to be such. We did try deleting the class files and this didn&#39;t seem to help. The wierd thing is that it just doesn&#39;t seem to happen for me but it happens for other developer."},{"owner":{"account_id":43112,"reputation":58953,"user_id":125844,"accept_rate":85,"display_name":"notnoop"},"score":2,"creation_date":1262200722,"post_id":1980474,"comment_id":1897650,"body_markdown":"Can you ensure that when you do a clean build you are compiling against the same jars you run with?","body":"Can you ensure that when you do a clean build you are compiling against the same jars you run with?"},{"owner":{"account_id":3037469,"reputation":787,"user_id":2575201,"accept_rate":75,"display_name":"cowboi-peng"},"score":0,"creation_date":1506396067,"post_id":1980474,"comment_id":79792191,"body_markdown":"Is there something concerned with 32bit or 64bit platform , I found a error only perform in 64bit platform.","body":"Is there something concerned with 32bit or 64bit platform , I found a error only perform in 64bit platform."}],"tags":[],"owner":{"account_id":43112,"reputation":58953,"user_id":125844,"accept_rate":85,"display_name":"notnoop"},"comment_count":5,"down_vote_count":0,"up_vote_count":198,"is_accepted":true,"score":198,"last_activity_date":1511428910,"creation_date":1262183472,"answer_id":1980474,"question_id":1980452,"body_markdown":"This means that you have made some incompatible binary changes to the library without recompiling the client code.  [Java Language Specification &#167;13](http://docs.oracle.com/javase/specs/jls/se7/html/jls-13.html) details all such changes, most prominently, changing non-`static` non-private fields/methods to be `static` or vice versa.\r\n\r\nRecompile the client code against the new library, and you should be good to go.\r\n\r\nUPDATE: If you publish a public library, you should avoid making incompatible binary changes as much as possible to preserve what&#39;s known as &quot;binary backward compatibility&quot;.  Updating dependency jars alone ideally shouldn&#39;t break the application or the build. If you do have to break binary backward compatibility, it&#39;s [recommended](https://semver.org/) to increase the major version number (e.g. from 1.x.y to 2.0.0) before releasing the change.","title":"What causes java.lang.IncompatibleClassChangeError?","body":"<p>This means that you have made some incompatible binary changes to the library without recompiling the client code.  <a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/jls-13.html\" rel=\"noreferrer\">Java Language Specification §13</a> details all such changes, most prominently, changing non-<code>static</code> non-private fields/methods to be <code>static</code> or vice versa.</p>\n\n<p>Recompile the client code against the new library, and you should be good to go.</p>\n\n<p>UPDATE: If you publish a public library, you should avoid making incompatible binary changes as much as possible to preserve what's known as \"binary backward compatibility\".  Updating dependency jars alone ideally shouldn't break the application or the build. If you do have to break binary backward compatibility, it's <a href=\"https://semver.org/\" rel=\"noreferrer\">recommended</a> to increase the major version number (e.g. from 1.x.y to 2.0.0) before releasing the change.</p>\n"},{"tags":[],"owner":{"account_id":87105,"reputation":15933,"user_id":241776,"accept_rate":75,"display_name":"linuxbuild"},"comment_count":0,"down_vote_count":0,"up_vote_count":110,"is_accepted":false,"score":110,"last_activity_date":1487581058,"creation_date":1295006969,"answer_id":4690885,"question_id":1980452,"body_markdown":"Your newly packaged library **is not backward binary compatible** (BC) with old version. For this reason some of the library clients that are not recompiled may throw the exception.\r\n\r\nThis is a **complete** list of changes in Java library API that may cause clients built with an old version of the library to throw java.lang.**IncompatibleClassChangeError** if they run on a new one (i.e. breaking BC):\r\n\r\n 1. Non-final field become static,\r\n 2. Non-constant field become non-static,\r\n 3. Class become interface,\r\n 4. Interface become class,\r\n 5. if you add a new field to class/interface (or add new super-class/super-interface) then a static field from a super-interface of a client class C may hide an added field (with the same name) inherited from the super-class of C (very rare case).\r\n\r\n**Note**: There are many **other exceptions** caused by other incompatible changes: *NoSuchFieldError*, *NoSuchMethodError*, *IllegalAccessError*, *InstantiationError*, *VerifyError*, *NoClassDefFoundError* and *AbstractMethodError*.\r\n\r\nThe better paper about BC is [&quot;Evolving Java-based APIs 2: Achieving API Binary Compatibility&quot;][1] written by Jim des Rivi&#232;res.\r\n\r\nThere are also some **automatic tools** to detect such changes:\r\n\r\n - [japi-compliance-checker][2]\r\n - [clirr][3]\r\n - [japitools][4]\r\n - [sigtest][5]\r\n - [japi-checker][6]\r\n\r\nUsage of japi-compliance-checker for your library:\r\n\r\n    japi-compliance-checker OLD.jar NEW.jar\r\n\r\nUsage of clirr tool:\r\n\r\n    java -jar clirr-core-0.6-uber.jar -o OLD.jar -n NEW.jar\r\n\r\nGood luck!\r\n\r\n\r\n  [1]: http://wiki.eclipse.org/Evolving_Java-based_APIs_2\r\n  [2]: https://github.com/lvc/japi-compliance-checker\r\n  [3]: http://clirr.sourceforge.net/\r\n  [4]: http://packages.ubuntu.com/ru/hardy/japitools\r\n  [5]: http://sigtest.java.net/\r\n  [6]: http://code.google.com/p/japi-checker/","title":"What causes java.lang.IncompatibleClassChangeError?","body":"<p>Your newly packaged library <strong>is not backward binary compatible</strong> (BC) with old version. For this reason some of the library clients that are not recompiled may throw the exception.</p>\n\n<p>This is a <strong>complete</strong> list of changes in Java library API that may cause clients built with an old version of the library to throw java.lang.<strong>IncompatibleClassChangeError</strong> if they run on a new one (i.e. breaking BC):</p>\n\n<ol>\n<li>Non-final field become static,</li>\n<li>Non-constant field become non-static,</li>\n<li>Class become interface,</li>\n<li>Interface become class,</li>\n<li>if you add a new field to class/interface (or add new super-class/super-interface) then a static field from a super-interface of a client class C may hide an added field (with the same name) inherited from the super-class of C (very rare case).</li>\n</ol>\n\n<p><strong>Note</strong>: There are many <strong>other exceptions</strong> caused by other incompatible changes: <em>NoSuchFieldError</em>, <em>NoSuchMethodError</em>, <em>IllegalAccessError</em>, <em>InstantiationError</em>, <em>VerifyError</em>, <em>NoClassDefFoundError</em> and <em>AbstractMethodError</em>.</p>\n\n<p>The better paper about BC is <a href=\"http://wiki.eclipse.org/Evolving_Java-based_APIs_2\" rel=\"noreferrer\">\"Evolving Java-based APIs 2: Achieving API Binary Compatibility\"</a> written by Jim des Rivières.</p>\n\n<p>There are also some <strong>automatic tools</strong> to detect such changes:</p>\n\n<ul>\n<li><a href=\"https://github.com/lvc/japi-compliance-checker\" rel=\"noreferrer\">japi-compliance-checker</a></li>\n<li><a href=\"http://clirr.sourceforge.net/\" rel=\"noreferrer\">clirr</a></li>\n<li><a href=\"http://packages.ubuntu.com/ru/hardy/japitools\" rel=\"noreferrer\">japitools</a></li>\n<li><a href=\"http://sigtest.java.net/\" rel=\"noreferrer\">sigtest</a></li>\n<li><a href=\"http://code.google.com/p/japi-checker/\" rel=\"noreferrer\">japi-checker</a></li>\n</ul>\n\n<p>Usage of japi-compliance-checker for your library:</p>\n\n<pre><code>japi-compliance-checker OLD.jar NEW.jar\n</code></pre>\n\n<p>Usage of clirr tool:</p>\n\n<pre><code>java -jar clirr-core-0.6-uber.jar -o OLD.jar -n NEW.jar\n</code></pre>\n\n<p>Good luck!</p>\n"},{"comments":[{"owner":{"account_id":295281,"reputation":3060,"user_id":599614,"display_name":"sstn"},"score":1,"creation_date":1411136286,"post_id":5328649,"comment_id":40602794,"body_markdown":"Thanks for the hint. I had the same problem when calling a Java method with the wrong instance (this) supplied.","body":"Thanks for the hint. I had the same problem when calling a Java method with the wrong instance (this) supplied."}],"tags":[],"owner":{"account_id":7539,"reputation":21506,"user_id":13140,"accept_rate":89,"display_name":"Ogre Psalm33"},"comment_count":1,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1300293867,"creation_date":1300293867,"answer_id":5328649,"question_id":1980452,"body_markdown":"I have also discovered that, when using JNI, invoking a Java method from C++, if you pass parameters to the invoked Java method in the wrong order, you will get this error when you attempt to use the parameters inside the called method (because they won&#39;t be the right type).  I was initially taken aback that JNI does not do this checking for you as part of the class signature checking when you invoke the method, but I assume they don&#39;t do this kind of checking because you may be passing polymorphic parameters and they have to assume you know what you are doing.\r\n\r\nExample C++ JNI Code:\r\n\r\n    void invokeFooDoSomething() {\r\n        jobject javaFred = FredFactory::getFred(); // Get a Fred jobject\r\n        jobject javaFoo = FooFactory::getFoo(); // Get a Foo jobject\r\n        jobject javaBar = FooFactory::getBar(); // Get a Bar jobject\r\n        jmethodID methodID = getDoSomethingMethodId() // Get the JNI Method ID\r\n\r\n\r\n        jniEnv-&gt;CallVoidMethod(javaFoo,\r\n                               methodID,\r\n                               javaFred, // Woops!  I switched the Fred and Bar parameters!\r\n                               javaBar);\r\n\r\n        // &lt;&lt; Insert error handling code here to discover the JNI Exception &gt;&gt;\r\n        //  ... This is where the IncompatibleClassChangeError will show up.\r\n    }\r\n\r\nExample Java Code:\r\n\r\n    class Bar { ... }\r\n\r\n    class Fred {\r\n        public int size() { ... }\r\n    } \r\n\r\n    class Foo {\r\n        public void doSomething(Fred aFred, Bar anotherObject) {\r\n            if (name.size() &gt; 0) { // Will throw a cryptic java.lang.IncompatibleClassChangeError\r\n                // Do some stuff...\r\n            }\r\n        }\r\n    }","title":"What causes java.lang.IncompatibleClassChangeError?","body":"<p>I have also discovered that, when using JNI, invoking a Java method from C++, if you pass parameters to the invoked Java method in the wrong order, you will get this error when you attempt to use the parameters inside the called method (because they won't be the right type).  I was initially taken aback that JNI does not do this checking for you as part of the class signature checking when you invoke the method, but I assume they don't do this kind of checking because you may be passing polymorphic parameters and they have to assume you know what you are doing.</p>\n\n<p>Example C++ JNI Code:</p>\n\n<pre><code>void invokeFooDoSomething() {\n    jobject javaFred = FredFactory::getFred(); // Get a Fred jobject\n    jobject javaFoo = FooFactory::getFoo(); // Get a Foo jobject\n    jobject javaBar = FooFactory::getBar(); // Get a Bar jobject\n    jmethodID methodID = getDoSomethingMethodId() // Get the JNI Method ID\n\n\n    jniEnv-&gt;CallVoidMethod(javaFoo,\n                           methodID,\n                           javaFred, // Woops!  I switched the Fred and Bar parameters!\n                           javaBar);\n\n    // &lt;&lt; Insert error handling code here to discover the JNI Exception &gt;&gt;\n    //  ... This is where the IncompatibleClassChangeError will show up.\n}\n</code></pre>\n\n<p>Example Java Code:</p>\n\n<pre><code>class Bar { ... }\n\nclass Fred {\n    public int size() { ... }\n} \n\nclass Foo {\n    public void doSomething(Fred aFred, Bar anotherObject) {\n        if (name.size() &gt; 0) { // Will throw a cryptic java.lang.IncompatibleClassChangeError\n            // Do some stuff...\n        }\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":26702,"reputation":2236,"user_id":69739,"accept_rate":100,"display_name":"Virat Kadaru"},"score":7,"creation_date":1374275471,"post_id":5367064,"comment_id":25893677,"body_markdown":"The verbose argument helped me pinpoint which jars were giving problems. Thanks","body":"The verbose argument helped me pinpoint which jars were giving problems. Thanks"},{"owner":{"account_id":419184,"reputation":385,"user_id":796206,"display_name":"GerardV"},"score":1,"creation_date":1692533770,"post_id":5367064,"comment_id":135633668,"body_markdown":"As an alternative to the quite overwhelming -verbose output, you may be able to use the &#39;Depedency analyzer&#39; in your IDE (IntelliJ IDEA in my case). Filter for warnings and read what dependencies are being warned about.","body":"As an alternative to the quite overwhelming -verbose output, you may be able to use the &#39;Depedency analyzer&#39; in your IDE (IntelliJ IDEA in my case). Filter for warnings and read what dependencies are being warned about."}],"tags":[],"owner":{"account_id":220678,"reputation":3235,"user_id":478209,"accept_rate":100,"display_name":"Brian Topping"},"comment_count":2,"down_vote_count":0,"up_vote_count":73,"is_accepted":false,"score":73,"last_activity_date":1514670765,"creation_date":1300601368,"answer_id":5367064,"question_id":1980452,"body_markdown":"While these answers are all correct, resolving the problem is often more difficult.  It&#39;s generally the result of two mildly different versions of the same dependency on the classpath, and is almost always caused by either a different superclass than was originally compiled against being on the classpath *or* some import of the transitive closure being different, but generally at class instantiation and constructor invocation.  (After successful class loading and ctor invocation, you&#39;ll get `NoSuchMethodException` or whatnot.)\r\n\r\nIf the behavior appears random, it&#39;s likely the result of a multithreaded program classloading different transitive dependencies based on what code got hit first. \r\n\r\nTo resolve these, try launching the VM with `-verbose` as an argument, then look at the classes that were being loaded when the exception occurs.  You should see some surprising information. For instance, having multiple copies of the same dependency and versions you never expected or would have accepted if you knew they were being included.\r\n\r\nResolving duplicate jars with Maven is best done with a combination of the [maven-dependency-plugin][1] and [maven-enforcer-plugin][2] under Maven (or SBT&#39;s [Dependency Graph Plugin][3], then adding those jars to a &lt;dependencyManagement&gt; section of your top-level POM or as imported dependency elements in SBT (to remove those dependencies). \r\n\r\nGood luck!\r\n\r\n  [1]: http://maven.apache.org/plugins/maven-dependency-plugin/\r\n  [2]: http://maven.apache.org/plugins/maven-enforcer-plugin/\r\n  [3]: https://github.com/jrudolph/sbt-dependency-graph","title":"What causes java.lang.IncompatibleClassChangeError?","body":"<p>While these answers are all correct, resolving the problem is often more difficult.  It's generally the result of two mildly different versions of the same dependency on the classpath, and is almost always caused by either a different superclass than was originally compiled against being on the classpath <em>or</em> some import of the transitive closure being different, but generally at class instantiation and constructor invocation.  (After successful class loading and ctor invocation, you'll get <code>NoSuchMethodException</code> or whatnot.)</p>\n\n<p>If the behavior appears random, it's likely the result of a multithreaded program classloading different transitive dependencies based on what code got hit first. </p>\n\n<p>To resolve these, try launching the VM with <code>-verbose</code> as an argument, then look at the classes that were being loaded when the exception occurs.  You should see some surprising information. For instance, having multiple copies of the same dependency and versions you never expected or would have accepted if you knew they were being included.</p>\n\n<p>Resolving duplicate jars with Maven is best done with a combination of the <a href=\"http://maven.apache.org/plugins/maven-dependency-plugin/\" rel=\"noreferrer\">maven-dependency-plugin</a> and <a href=\"http://maven.apache.org/plugins/maven-enforcer-plugin/\" rel=\"noreferrer\">maven-enforcer-plugin</a> under Maven (or SBT's <a href=\"https://github.com/jrudolph/sbt-dependency-graph\" rel=\"noreferrer\">Dependency Graph Plugin</a>, then adding those jars to a  section of your top-level POM or as imported dependency elements in SBT (to remove those dependencies). </p>\n\n<p>Good luck!</p>\n"},{"tags":[],"owner":{"account_id":199943,"reputation":84060,"user_id":445543,"accept_rate":85,"display_name":"stivlo"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1312806812,"creation_date":1312805872,"answer_id":6981972,"question_id":1980452,"body_markdown":"Another situation where this error can appear is with Emma Code Coverage.\r\n\r\nThis happens when assigning an Object to an interface. I guess this has something to do with the Object being instrumented and not binary compatible anymore.\r\n\r\nhttp://sourceforge.net/tracker/?func=detail&amp;aid=3178921&amp;group_id=177969&amp;atid=883351\r\n\r\nFortunately this problem doesn&#39;t happen with Cobertura, so I&#39;ve added cobertura-maven-plugin in my reporting plugins of my pom.xml","title":"What causes java.lang.IncompatibleClassChangeError?","body":"<p>Another situation where this error can appear is with Emma Code Coverage.</p>\n\n<p>This happens when assigning an Object to an interface. I guess this has something to do with the Object being instrumented and not binary compatible anymore.</p>\n\n<p><a href=\"http://sourceforge.net/tracker/?func=detail&amp;aid=3178921&amp;group_id=177969&amp;atid=883351\" rel=\"nofollow\">http://sourceforge.net/tracker/?func=detail&amp;aid=3178921&amp;group_id=177969&amp;atid=883351</a></p>\n\n<p>Fortunately this problem doesn't happen with Cobertura, so I've added cobertura-maven-plugin in my reporting plugins of my pom.xml</p>\n"},{"tags":[],"owner":{"account_id":320407,"reputation":14632,"user_id":638670,"accept_rate":82,"display_name":"Abbas Gadhia"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1328512855,"creation_date":1328512855,"answer_id":9156810,"question_id":1980452,"body_markdown":"I&#39;ve faced this issue while undeploying and redeploying a war with glassfish. My class structure was like this,\r\n\r\n    public interface A{\r\n    }\r\n\r\n    public class AImpl implements A{\r\n    }\r\n\r\nand it was changed to \r\n\r\n    public abstract class A{\r\n    }\r\n\r\n    public class AImpl extends A{\r\n    }\r\n\r\nAfter stopping and restarting the domain, it worked out fine. \r\nI was using glassfish 3.1.43","title":"What causes java.lang.IncompatibleClassChangeError?","body":"<p>I've faced this issue while undeploying and redeploying a war with glassfish. My class structure was like this,</p>\n\n<pre><code>public interface A{\n}\n\npublic class AImpl implements A{\n}\n</code></pre>\n\n<p>and it was changed to </p>\n\n<pre><code>public abstract class A{\n}\n\npublic class AImpl extends A{\n}\n</code></pre>\n\n<p>After stopping and restarting the domain, it worked out fine. \nI was using glassfish 3.1.43</p>\n"},{"tags":[],"owner":{"account_id":543838,"reputation":2239,"user_id":913093,"accept_rate":43,"display_name":"denu"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1359100609,"creation_date":1359100609,"answer_id":14517627,"question_id":1980452,"body_markdown":"Please check if your code doesnt consist of two module projects that have the same classes names and packages definition. For example this could happen if someone uses copy-paste to create new implementation of interface based on previous implementation.","title":"What causes java.lang.IncompatibleClassChangeError?","body":"<p>Please check if your code doesnt consist of two module projects that have the same classes names and packages definition. For example this could happen if someone uses copy-paste to create new implementation of interface based on previous implementation.</p>\n"},{"comments":[{"owner":{"account_id":360428,"reputation":1668,"user_id":702419,"accept_rate":85,"display_name":"beterthanlife"},"score":0,"creation_date":1368008502,"post_id":15446778,"comment_id":23575484,"body_markdown":"How did you get to the bottom of this? Im sure I have a similar problem but dont have a clue how to trace which dependency library is being duplicated.","body":"How did you get to the bottom of this? Im sure I have a similar problem but dont have a clue how to trace which dependency library is being duplicated."},{"owner":{"account_id":294022,"reputation":115930,"user_id":597657,"accept_rate":99,"display_name":"Eng.Fouad"},"score":0,"creation_date":1368009011,"post_id":15446778,"comment_id":23575763,"body_markdown":"@beterthanlife write a script that searches inside all the jar files looking for duplicated classes (search by their full-qualified name, i.e with package name) :)","body":"@beterthanlife write a script that searches inside all the jar files looking for duplicated classes (search by their full-qualified name, i.e with package name) :)"},{"owner":{"account_id":360428,"reputation":1668,"user_id":702419,"accept_rate":85,"display_name":"beterthanlife"},"score":0,"creation_date":1368009716,"post_id":15446778,"comment_id":23576103,"body_markdown":"ok, using NetBeans and maven-shade I think I can see all of the classes which are being duplicated and the jar files they reside in. Many of these jar files I dont have directly referenced in my pom.xml, so I assume they must be being included by my dependencies. Is there an easy way to find out which dependency is including them, without going through each of the dependencies&#39; pom file? (please pardon my noobishness, Im a java virgin!)","body":"ok, using NetBeans and maven-shade I think I can see all of the classes which are being duplicated and the jar files they reside in. Many of these jar files I dont have directly referenced in my pom.xml, so I assume they must be being included by my dependencies. Is there an easy way to find out which dependency is including them, without going through each of the dependencies&#39; pom file? (please pardon my noobishness, Im a java virgin!)"},{"owner":{"account_id":294022,"reputation":115930,"user_id":597657,"accept_rate":99,"display_name":"Eng.Fouad"},"score":0,"creation_date":1368009774,"post_id":15446778,"comment_id":23576128,"body_markdown":"@beterthanlife Better ask a new question regarding that :)","body":"@beterthanlife Better ask a new question regarding that :)"},{"owner":{"account_id":1453097,"reputation":477,"user_id":1369434,"accept_rate":50,"display_name":"nyx"},"score":0,"creation_date":1429713776,"post_id":15446778,"comment_id":47730227,"body_markdown":"I found a duplicate jar by looking at the gradle dependencies graph (./gradlew :&lt;name&gt;:dependencies). So I found the culprit that drew the old version of the lib into the project.","body":"I found a duplicate jar by looking at the gradle dependencies graph (./gradlew :&lt;name&gt;:dependencies). So I found the culprit that drew the old version of the lib into the project."}],"tags":[],"owner":{"account_id":294022,"reputation":115930,"user_id":597657,"accept_rate":99,"display_name":"Eng.Fouad"},"comment_count":5,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1363431882,"creation_date":1363419202,"answer_id":15446778,"question_id":1980452,"body_markdown":"&lt;strike&gt;I had the same issue, and later I figured out that I am running the application on Java version 1.4 while the application is compiled on version 6.&lt;/strike&gt;\r\n\r\nActually, the reason was of having a duplicate library, one is located within the classpath and the other one is included inside a jar file that is located within the classpath.","title":"What causes java.lang.IncompatibleClassChangeError?","body":"<p><strike>I had the same issue, and later I figured out that I am running the application on Java version 1.4 while the application is compiled on version 6.</strike></p>\n\n<p>Actually, the reason was of having a duplicate library, one is located within the classpath and the other one is included inside a jar file that is located within the classpath.</p>\n"},{"tags":[],"owner":{"account_id":757313,"reputation":6028,"user_id":758831,"accept_rate":75,"display_name":"wmorrison365"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1363797503,"creation_date":1363787274,"answer_id":15525414,"question_id":1980452,"body_markdown":"If this is a record of possible occurences of this error then:\r\n\r\nI just got this error on WAS (8.5.0.1), during the CXF (2.6.0) loading of the spring (3.1.1_release) configuration where a BeanInstantiationException rolled up a CXF ExtensionException, rolling up a IncompatibleClassChangeError. The following snippet shows the gist of the stack trace:\r\n\r\n    Caused by: org.springframework.beans.BeanInstantiationException: Could not instantiate bean class [org.apache.cxf.bus.spring.SpringBus]: Constructor threw exception; nested exception is org.apache.cxf.bus.extension.ExtensionException\r\n                at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:162)\r\n                at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:76)\r\n                at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateBean(AbstractAutowireCapableBeanFactory.java:990)\r\n                ... 116 more\r\n    Caused by: org.apache.cxf.bus.extension.ExtensionException\r\n                at org.apache.cxf.bus.extension.Extension.tryClass(Extension.java:167)\r\n                at org.apache.cxf.bus.extension.Extension.getClassObject(Extension.java:179)\r\n                at org.apache.cxf.bus.extension.ExtensionManagerImpl.activateAllByType(ExtensionManagerImpl.java:138)\r\n                at org.apache.cxf.bus.extension.ExtensionManagerBus.&lt;init&gt;(ExtensionManagerBus.java:131)\r\n                [etc...]\r\n                at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:147)\r\n                ... 118 more\r\n\r\n    Caused by: java.lang.IncompatibleClassChangeError: \r\n    org.apache.neethi.AssertionBuilderFactory\r\n                at java.lang.ClassLoader.defineClassImpl(Native Method)\r\n                at java.lang.ClassLoader.defineClass(ClassLoader.java:284)\r\n                [etc...]\r\n                at com.ibm.ws.classloader.CompoundClassLoader.loadClass(CompoundClassLoader.java:586)\r\n                at java.lang.ClassLoader.loadClass(ClassLoader.java:658)\r\n                at org.apache.cxf.bus.extension.Extension.tryClass(Extension.java:163)\r\n                ... 128 more\r\n\r\nIn this case, the solution was to change the classpath order of the module in my war file. That is, open up the war application in the WAS console under and select the client module(s). In the module configuration, set the class-loading to be &quot;parent last&quot;.\r\n\r\nThis is found in the WAS console:\r\n\r\n - Applicatoins -&gt; Application Types -&gt; WebSphere Enterprise Applications\r\n - Click link representing your application (war)\r\n - Click &quot;Manage Modules&quot; under &quot;Modules&quot; section\r\n - Click link for the underlying module(s)\r\n - Change &quot;Class loader order&quot; to be &quot;(parent last)&quot;.\r\n","title":"What causes java.lang.IncompatibleClassChangeError?","body":"<p>If this is a record of possible occurences of this error then:</p>\n\n<p>I just got this error on WAS (8.5.0.1), during the CXF (2.6.0) loading of the spring (3.1.1_release) configuration where a BeanInstantiationException rolled up a CXF ExtensionException, rolling up a IncompatibleClassChangeError. The following snippet shows the gist of the stack trace:</p>\n\n<pre><code>Caused by: org.springframework.beans.BeanInstantiationException: Could not instantiate bean class [org.apache.cxf.bus.spring.SpringBus]: Constructor threw exception; nested exception is org.apache.cxf.bus.extension.ExtensionException\n            at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:162)\n            at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:76)\n            at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateBean(AbstractAutowireCapableBeanFactory.java:990)\n            ... 116 more\nCaused by: org.apache.cxf.bus.extension.ExtensionException\n            at org.apache.cxf.bus.extension.Extension.tryClass(Extension.java:167)\n            at org.apache.cxf.bus.extension.Extension.getClassObject(Extension.java:179)\n            at org.apache.cxf.bus.extension.ExtensionManagerImpl.activateAllByType(ExtensionManagerImpl.java:138)\n            at org.apache.cxf.bus.extension.ExtensionManagerBus.&lt;init&gt;(ExtensionManagerBus.java:131)\n            [etc...]\n            at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:147)\n            ... 118 more\n\nCaused by: java.lang.IncompatibleClassChangeError: \norg.apache.neethi.AssertionBuilderFactory\n            at java.lang.ClassLoader.defineClassImpl(Native Method)\n            at java.lang.ClassLoader.defineClass(ClassLoader.java:284)\n            [etc...]\n            at com.ibm.ws.classloader.CompoundClassLoader.loadClass(CompoundClassLoader.java:586)\n            at java.lang.ClassLoader.loadClass(ClassLoader.java:658)\n            at org.apache.cxf.bus.extension.Extension.tryClass(Extension.java:163)\n            ... 128 more\n</code></pre>\n\n<p>In this case, the solution was to change the classpath order of the module in my war file. That is, open up the war application in the WAS console under and select the client module(s). In the module configuration, set the class-loading to be \"parent last\".</p>\n\n<p>This is found in the WAS console:</p>\n\n<ul>\n<li>Applicatoins -> Application Types -> WebSphere Enterprise Applications</li>\n<li>Click link representing your application (war)</li>\n<li>Click \"Manage Modules\" under \"Modules\" section</li>\n<li>Click link for the underlying module(s)</li>\n<li>Change \"Class loader order\" to be \"(parent last)\".</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":159083,"reputation":15549,"user_id":378151,"accept_rate":74,"display_name":"Snekse"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1376074394,"creation_date":1376074394,"answer_id":18153681,"question_id":1980452,"body_markdown":"Documenting another scenario after burning way too much time.  \r\n\r\nMake sure you don&#39;t have a dependency jar that has a class with an EJB annotation on it.\r\n\r\nWe had a common jar file that had an `@local` annotation.  That class was later moved out of that common project and into our main ejb jar project. Our ejb jar and our common jar are both bundled within an ear.  The version of our common jar dependency was not updated. Thus 2 classes trying to be something with incompatible changes.","title":"What causes java.lang.IncompatibleClassChangeError?","body":"<p>Documenting another scenario after burning way too much time.  </p>\n\n<p>Make sure you don't have a dependency jar that has a class with an EJB annotation on it.</p>\n\n<p>We had a common jar file that had an <code>@local</code> annotation.  That class was later moved out of that common project and into our main ejb jar project. Our ejb jar and our common jar are both bundled within an ear.  The version of our common jar dependency was not updated. Thus 2 classes trying to be something with incompatible changes.</p>\n"},{"tags":[],"owner":{"account_id":304046,"reputation":4564,"user_id":613339,"accept_rate":81,"display_name":"bsautner"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1382038575,"creation_date":1382038575,"answer_id":19435655,"question_id":1980452,"body_markdown":"All of the above - for whatever reason I was doing some big refactor and starting to get this.  I renamed the package my interface was in and that cleared it. Hope that helps.","title":"What causes java.lang.IncompatibleClassChangeError?","body":"<p>All of the above - for whatever reason I was doing some big refactor and starting to get this.  I renamed the package my interface was in and that cleared it. Hope that helps.</p>\n"},{"tags":[],"owner":{"account_id":5539557,"reputation":111,"user_id":4396670,"display_name":"Jobin Thomas"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1427310297,"creation_date":1427310297,"answer_id":29264359,"question_id":1980452,"body_markdown":"I have a web application that deploys perfectly fine on my local machine&#39;s tomcat(8.0.20). However, when I put it into the qa environment (tomcat - 8.0.20), it kept on giving me the IncompatibleClassChangeError and it was complaining that I was extending on an interface. This interface was changed to an abstract class. And I compiled the parent and child classes and still I kept on getting the same issue. Finally, I wanted to debug, so, I changed the version on the parent to x.0.1-SNAPSHOT and then compiled everything and now it is working. If someone is still hitting the problem after following the answers given here, please make sure the versions in your pom.xml are also correct. Change the versions to see if that works. If so, then fix the version problem.","title":"What causes java.lang.IncompatibleClassChangeError?","body":"<p>I have a web application that deploys perfectly fine on my local machine's tomcat(8.0.20). However, when I put it into the qa environment (tomcat - 8.0.20), it kept on giving me the IncompatibleClassChangeError and it was complaining that I was extending on an interface. This interface was changed to an abstract class. And I compiled the parent and child classes and still I kept on getting the same issue. Finally, I wanted to debug, so, I changed the version on the parent to x.0.1-SNAPSHOT and then compiled everything and now it is working. If someone is still hitting the problem after following the answers given here, please make sure the versions in your pom.xml are also correct. Change the versions to see if that works. If so, then fix the version problem.</p>\n"},{"tags":[],"owner":{"account_id":2354440,"reputation":144,"user_id":2062586,"display_name":"David Nickerson"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1447705692,"creation_date":1447705363,"answer_id":33743949,"question_id":1980452,"body_markdown":"My answer, I believe, will be Intellij specific.  \r\n\r\nI had rebuilt clean, even going as far as to manually delete the &quot;out&quot; and &quot;target&quot; dirs.  Intellij has a &quot;invalidate caches and restart&quot;, which sometimes clears odd errors. This time it didn&#39;t work. The dependency versions all looked correct in the project settings-&gt;modules menu.\r\n\r\nThe final answer was to manually delete my problem dependency from my local maven repo.  An old version of bouncycastle was the culprit(I knew I had just changed versions and that would be the problem) and although the old version showed up no where in what was being built, it solved my problem.  I was using intellij version 14 and then upgraded to 15 during this process. ","title":"What causes java.lang.IncompatibleClassChangeError?","body":"<p>My answer, I believe, will be Intellij specific.  </p>\n\n<p>I had rebuilt clean, even going as far as to manually delete the \"out\" and \"target\" dirs.  Intellij has a \"invalidate caches and restart\", which sometimes clears odd errors. This time it didn't work. The dependency versions all looked correct in the project settings->modules menu.</p>\n\n<p>The final answer was to manually delete my problem dependency from my local maven repo.  An old version of bouncycastle was the culprit(I knew I had just changed versions and that would be the problem) and although the old version showed up no where in what was being built, it solved my problem.  I was using intellij version 14 and then upgraded to 15 during this process. </p>\n"},{"tags":[],"owner":{"account_id":49543,"reputation":19032,"user_id":147530,"accept_rate":63,"display_name":"morpheus"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1457393663,"creation_date":1457380539,"answer_id":35852790,"question_id":1980452,"body_markdown":"In my case, I ran into this error this way. `pom.xml` of my project defined two dependencies `A` and `B`. And both `A` and `B` defined dependency on same artifact (call it `C`) but different versions of it (`C.1` and `C.2`). When this happens, for each class in `C` maven can only select one version of the class from the two versions (while building an [uber-jar](https://stackoverflow.com/questions/11947037/what-is-an-uber-jar)). It will select the &quot;nearest&quot; version based on its [dependency mediation](https://maven.apache.org/guides/introduction/introduction-to-dependency-mechanism.html) rules and will output a warning [&quot;We have a duplicate class...&quot;](https://stackoverflow.com/questions/9802736/maven-build-warning-we-have-a-duplicate-class) If a method/class signature changes between the versions, it can cause a `java.lang.IncompatibleClassChangeError` exception if the incorrect version is used at runtime.\r\n\r\nAdvanced: If `A` must use v1 of `C` and `B` must use v2 of `C`, then we must [relocate](https://maven.apache.org/plugins/maven-shade-plugin/examples/class-relocation.html) `C` in `A` and `B`&#39;s poms to avoid class conflict (we have a duplicate class warning) when building the final  project that depends on both `A` and `B`.","title":"What causes java.lang.IncompatibleClassChangeError?","body":"<p>In my case, I ran into this error this way. <code>pom.xml</code> of my project defined two dependencies <code>A</code> and <code>B</code>. And both <code>A</code> and <code>B</code> defined dependency on same artifact (call it <code>C</code>) but different versions of it (<code>C.1</code> and <code>C.2</code>). When this happens, for each class in <code>C</code> maven can only select one version of the class from the two versions (while building an <a href=\"https://stackoverflow.com/questions/11947037/what-is-an-uber-jar\">uber-jar</a>). It will select the \"nearest\" version based on its <a href=\"https://maven.apache.org/guides/introduction/introduction-to-dependency-mechanism.html\" rel=\"nofollow noreferrer\">dependency mediation</a> rules and will output a warning <a href=\"https://stackoverflow.com/questions/9802736/maven-build-warning-we-have-a-duplicate-class\">\"We have a duplicate class...\"</a> If a method/class signature changes between the versions, it can cause a <code>java.lang.IncompatibleClassChangeError</code> exception if the incorrect version is used at runtime.</p>\n\n<p>Advanced: If <code>A</code> must use v1 of <code>C</code> and <code>B</code> must use v2 of <code>C</code>, then we must <a href=\"https://maven.apache.org/plugins/maven-shade-plugin/examples/class-relocation.html\" rel=\"nofollow noreferrer\">relocate</a> <code>C</code> in <code>A</code> and <code>B</code>'s poms to avoid class conflict (we have a duplicate class warning) when building the final  project that depends on both <code>A</code> and <code>B</code>.</p>\n"},{"tags":[],"owner":{"account_id":383457,"reputation":1076,"user_id":739318,"display_name":"Eric Oberm&#252;hlner"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1482519812,"creation_date":1482519812,"answer_id":41306662,"question_id":1980452,"body_markdown":"For some reason the same exception is also thrown when using JNI and passing the jclass argument instead of the jobject when calling a `Call*Method()`.\r\n\r\nThis is similar to the answer from Ogre Psalm33.\r\n\r\n    void example(JNIEnv *env, jobject inJavaList) {\r\n    \tjclass class_List = env-&gt;FindClass(&quot;java/util/List&quot;);\r\n    \r\n    \tjmethodID method_size = env-&gt;GetMethodID(class_List, &quot;size&quot;, &quot;()I&quot;);\r\n    \tlong size = env-&gt;CallIntMethod(class_List, method_size); // should be passing &#39;inJavaList&#39; instead of &#39;class_List&#39;\r\n    \r\n    \tstd::cout &lt;&lt; &quot;LIST SIZE &quot; &lt;&lt; size &lt;&lt; std::endl;\r\n    }\r\n\r\nI know it is a bit late to answer this question 5 years after being asked but this is one of the top hits when searching for `java.lang.IncompatibleClassChangeError` so I wanted to document this special case.","title":"What causes java.lang.IncompatibleClassChangeError?","body":"<p>For some reason the same exception is also thrown when using JNI and passing the jclass argument instead of the jobject when calling a <code>Call*Method()</code>.</p>\n\n<p>This is similar to the answer from Ogre Psalm33.</p>\n\n<pre><code>void example(JNIEnv *env, jobject inJavaList) {\n    jclass class_List = env-&gt;FindClass(\"java/util/List\");\n\n    jmethodID method_size = env-&gt;GetMethodID(class_List, \"size\", \"()I\");\n    long size = env-&gt;CallIntMethod(class_List, method_size); // should be passing 'inJavaList' instead of 'class_List'\n\n    std::cout &lt;&lt; \"LIST SIZE \" &lt;&lt; size &lt;&lt; std::endl;\n}\n</code></pre>\n\n<p>I know it is a bit late to answer this question 5 years after being asked but this is one of the top hits when searching for <code>java.lang.IncompatibleClassChangeError</code> so I wanted to document this special case.</p>\n"},{"tags":[],"owner":{"account_id":1560262,"reputation":476,"user_id":1450284,"display_name":"sourabh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1497880041,"creation_date":1497880041,"answer_id":44632358,"question_id":1980452,"body_markdown":"   Adding my 2 cents .If you are using scala and sbt and scala-logging as dependency ;then this can happen because scala-logging&#39;s earlier version had the name scala-logging-api.So;essentially the dependency resolutions do not happen because of different names leading to runtime errors while launching the scala application.","title":"What causes java.lang.IncompatibleClassChangeError?","body":"<p>Adding my 2 cents .If you are using scala and sbt and scala-logging as dependency ;then this can happen because scala-logging's earlier version had the name scala-logging-api.So;essentially the dependency resolutions do not happen because of different names leading to runtime errors while launching the scala application.</p>\n"},{"tags":[],"owner":{"account_id":236188,"reputation":15922,"user_id":503508,"accept_rate":81,"display_name":"Knossos"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1506510898,"creation_date":1506510898,"answer_id":46446494,"question_id":1980452,"body_markdown":"An additional cause of this issue, is if you have `Instant Run` enabled for Android Studio.\r\n\r\n# The fix\r\n\r\nIf you find you start getting this error, turn off `Instant Run`.\r\n\r\n1. Android Studio main settings\r\n1. Build, Execution, Deployment\r\n1. Instant Run\r\n1. Untick &quot;Enable instant run...&quot;\r\n\r\n# Why\r\n\r\n`Instant Run` modifies a large number of things during development, to make it quicker to provide updates to your running App. Hence instant run. When it works, it is really useful. However, when an issue such as this strikes, the best thing to do is to turn off `Instant Run` until the next version of Android Studio releases.","title":"What causes java.lang.IncompatibleClassChangeError?","body":"<p>An additional cause of this issue, is if you have <code>Instant Run</code> enabled for Android Studio.</p>\n\n<h1>The fix</h1>\n\n<p>If you find you start getting this error, turn off <code>Instant Run</code>.</p>\n\n<ol>\n<li>Android Studio main settings</li>\n<li>Build, Execution, Deployment</li>\n<li>Instant Run</li>\n<li>Untick \"Enable instant run...\"</li>\n</ol>\n\n<h1>Why</h1>\n\n<p><code>Instant Run</code> modifies a large number of things during development, to make it quicker to provide updates to your running App. Hence instant run. When it works, it is really useful. However, when an issue such as this strikes, the best thing to do is to turn off <code>Instant Run</code> until the next version of Android Studio releases.</p>\n"},{"tags":[],"owner":{"account_id":4488167,"reputation":29,"user_id":3650084,"display_name":"amine"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1562665977,"creation_date":1562661379,"answer_id":56948502,"question_id":1980452,"body_markdown":"In my case the error appeared when I  added the `com.nimbusds` library in my application deployed on `Websphere 8.5`.  \r\nThe below exception occurred:   \r\n&gt;Caused by: java.lang.IncompatibleClassChangeError: org.objectweb.asm.AnnotationVisitor\r\n\r\nThe solution was to exclude the asm jar from the library:  \r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.nimbusds&lt;/groupId&gt;\r\n    &lt;artifactId&gt;nimbus-jose-jwt&lt;/artifactId&gt;\r\n    &lt;version&gt;5.1&lt;/version&gt;\r\n    &lt;exclusions&gt;\r\n        &lt;exclusion&gt;\r\n            &lt;artifactId&gt;asm&lt;/artifactId&gt;\r\n            &lt;groupId&gt;org.ow2.asm&lt;/groupId&gt;\r\n        &lt;/exclusion&gt;\r\n    &lt;/exclusions&gt;\r\n&lt;/dependency&gt;\r\n```","title":"What causes java.lang.IncompatibleClassChangeError?","body":"<p>In my case the error appeared when I  added the <code>com.nimbusds</code> library in my application deployed on <code>Websphere 8.5</code>.<br>\nThe below exception occurred:   </p>\n\n<blockquote>\n  <p>Caused by: java.lang.IncompatibleClassChangeError: org.objectweb.asm.AnnotationVisitor</p>\n</blockquote>\n\n<p>The solution was to exclude the asm jar from the library:  </p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.nimbusds&lt;/groupId&gt;\n    &lt;artifactId&gt;nimbus-jose-jwt&lt;/artifactId&gt;\n    &lt;version&gt;5.1&lt;/version&gt;\n    &lt;exclusions&gt;\n        &lt;exclusion&gt;\n            &lt;artifactId&gt;asm&lt;/artifactId&gt;\n            &lt;groupId&gt;org.ow2.asm&lt;/groupId&gt;\n        &lt;/exclusion&gt;\n    &lt;/exclusions&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":404649,"reputation":57192,"user_id":773113,"accept_rate":72,"display_name":"Mike Nakis"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648406876,"creation_date":1648406876,"answer_id":71639328,"question_id":1980452,"body_markdown":"I got this error because I had an abstract base class which promised that it implements a certain interface, but I had forgotten to add the implementations of the interface methods, and then I created a non-abstract (concrete) bytecode-generated class which extended the abstract class, without providing implementations for those methods, either.\r\n\r\nWhen I tried to create an instance the bytecode-generated class, the JVM complained with `java.lang.IncompatibleClassChangeError`.\r\n\r\nLuckily, the exception has a &quot;message&quot; member which provides more detailed information as to what went wrong.  In my case the message clearly said that the particular class was supposed to implement the particular interface, but it did not actually implement it.","title":"What causes java.lang.IncompatibleClassChangeError?","body":"<p>I got this error because I had an abstract base class which promised that it implements a certain interface, but I had forgotten to add the implementations of the interface methods, and then I created a non-abstract (concrete) bytecode-generated class which extended the abstract class, without providing implementations for those methods, either.</p>\n<p>When I tried to create an instance the bytecode-generated class, the JVM complained with <code>java.lang.IncompatibleClassChangeError</code>.</p>\n<p>Luckily, the exception has a &quot;message&quot; member which provides more detailed information as to what went wrong.  In my case the message clearly said that the particular class was supposed to implement the particular interface, but it did not actually implement it.</p>\n"},{"tags":[],"owner":{"account_id":11259570,"reputation":916,"user_id":8258305,"accept_rate":60,"display_name":"Mohd Qasim"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662997691,"creation_date":1662997691,"answer_id":73691913,"question_id":1980452,"body_markdown":"If you came from android development. Then give a try of `rebuild` option might be fix for you.","title":"What causes java.lang.IncompatibleClassChangeError?","body":"<p>If you came from android development. Then give a try of <code>rebuild</code> option might be fix for you.</p>\n"},{"tags":[],"owner":{"account_id":10166574,"reputation":4392,"user_id":7508302,"display_name":"Cililing"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673532681,"creation_date":1673532681,"answer_id":75097610,"question_id":1980452,"body_markdown":"In my case:\r\n\r\n- I have a project containing a few modules, including `app`, `test`, `integrationTest`\r\n- I created `OneElementCache` in app module.\r\n- Then, I created a file `Cache` in test module, the file contains some helpers for creating `OneElementCache` in tests.\r\n- Until now, everything works perfectly (both `test` and `integrationTest` passes).\r\n- After that, I created a file `Cache` in app module.\r\n- Got while running `integrationTest`:\r\n``` \r\nCaused by: java.lang.IncompatibleClassChangeError: \r\n    class app.cache.CacheImpl can not implement app.cache.Cache, because it is not an interface (app.cache.Cache is in unnamed module of loader &#39;app&#39;)\r\n```\r\n\r\nThe reason was a conflict in naming in different modules (app/test). Changing the filename in test did the job.\r\n\r\n","title":"What causes java.lang.IncompatibleClassChangeError?","body":"<p>In my case:</p>\n<ul>\n<li>I have a project containing a few modules, including <code>app</code>, <code>test</code>, <code>integrationTest</code></li>\n<li>I created <code>OneElementCache</code> in app module.</li>\n<li>Then, I created a file <code>Cache</code> in test module, the file contains some helpers for creating <code>OneElementCache</code> in tests.</li>\n<li>Until now, everything works perfectly (both <code>test</code> and <code>integrationTest</code> passes).</li>\n<li>After that, I created a file <code>Cache</code> in app module.</li>\n<li>Got while running <code>integrationTest</code>:</li>\n</ul>\n<pre><code>Caused by: java.lang.IncompatibleClassChangeError: \n    class app.cache.CacheImpl can not implement app.cache.Cache, because it is not an interface (app.cache.Cache is in unnamed module of loader 'app')\n</code></pre>\n<p>The reason was a conflict in naming in different modules (app/test). Changing the filename in test did the job.</p>\n"}],"owner":{"account_id":9540,"reputation":25179,"user_id":17675,"accept_rate":81,"display_name":"Zombies"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":374047,"favorite_count":0,"down_vote_count":0,"up_vote_count":263,"accepted_answer_id":1980474,"answer_count":21,"score":263,"last_activity_date":1673532681,"creation_date":1262183062,"question_id":1980452,"body_markdown":"I&#39;m packaging a Java library as a JAR, and it&#39;s throwing many `java.lang.IncompatibleClassChangeError`s when I try to invoke methods from it. These errors seem to appear at random. What kinds of problems could be causing this error?","title":"What causes java.lang.IncompatibleClassChangeError?","body":"<p>I'm packaging a Java library as a JAR, and it's throwing many <code>java.lang.IncompatibleClassChangeError</code>s when I try to invoke methods from it. These errors seem to appear at random. What kinds of problems could be causing this error?</p>\n"},{"tags":["java","android","android-studio","opencv"],"owner":{"account_id":20247260,"reputation":11,"user_id":14849371,"display_name":"Adam Zack"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1360,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1673532616,"creation_date":1608291545,"question_id":65356403,"body_markdown":"\r\n\r\nz\r\n I making an app to detect potholes this the main function camera fragment where I have to use OpenCV to get the desired result\r\n while using OpenCV in android java I am facing this issue please help me\r\n:opencv.org E/OpenCV/StaticHelper: OpenCV Error: Cannot load info library for OpenCV\r\n    \r\nOpenCV version that I use is 3.4.2\r\n and also have placed libs in the jniLibs folder but still OpenCV library not loading\r\nI have to submit this app before tomorrow 19-DEC-2020 or I fail may semester please help  fellows \r\n           \r\n        package com.example.dpgra.defectdetect;\r\n        \r\n      \r\n        \r\n        import android.annotation.SuppressLint;\r\n        import android.content.Context;\r\n        import android.content.res.AssetManager;\r\n        import android.location.Location;\r\n        import android.os.Bundle;\r\n        import android.util.Log;\r\n        import android.view.LayoutInflater;\r\n        import android.view.View;\r\n        import android.view.ViewGroup;\r\n        import android.view.WindowManager;\r\n        import android.widget.SeekBar;\r\n        import android.widget.TextView;\r\n        import android.widget.Toast;\r\n        \r\n        import androidx.annotation.NonNull;\r\n        import androidx.annotation.Nullable;\r\n        import androidx.fragment.app.Fragment;\r\n        \r\n        import org.opencv.android.BaseLoaderCallback;\r\n        import org.opencv.android.CameraBridgeViewBase;\r\n        import org.opencv.android.OpenCVLoader;\r\n        import org.opencv.core.Core;\r\n        import org.opencv.core.Mat;\r\n        import org.opencv.core.Point;\r\n        import org.opencv.core.Scalar;\r\n        import org.opencv.core.Size;\r\n        import org.opencv.imgproc.Imgproc;\r\n        \r\n        import java.io.BufferedInputStream;\r\n        import java.io.File;\r\n        import java.io.FileOutputStream;\r\n        import java.io.IOException;\r\n        \r\n        import model.Darknet;\r\n        import model.Pothole;\r\n        import model.PotholeList;\r\n        \r\n        public class CameraFragment extends Fragment implements CameraBridgeViewBase.CvCameraViewListener2, View.OnClickListener, SeekBar.OnSeekBarChangeListener {\r\n        \r\n            private View rootView;\r\n            private CameraBridgeViewBase mOpenCvCameraView;\r\n            private Darknet net;\r\n            private static CameraFragment cameraFragment;\r\n            private PotholeList potholeList;\r\n            private Integer OrientationIsValid;\r\n            private double confidenceThresh;\r\n            BaseLoaderCallback mLoaderCallback ;\r\n            Mat imageMat;\r\n           // JavaCameraView javaCamera2View;\r\n        \r\n        \r\n        \r\n            private static String TAG =&quot;CameraFragment&quot;;\r\n            static\r\n            {\r\n        \r\n                if (OpenCVLoader.initDebug())\r\n                {\r\n                    Log.d(TAG,&quot;OpenCV Installed Successfully&quot;);\r\n                }\r\n                else\r\n                {\r\n                    Log.d(TAG,&quot;OpenCV Failed&quot;);\r\n                }\r\n            }\r\n        \r\n            @SuppressLint(&quot;ValidFragment&quot;)\r\n            private CameraFragment() {\r\n                super();\r\n                potholeList = PotholeList.getInstance();\r\n                OrientationIsValid = 0;\r\n                confidenceThresh = .6;\r\n            }\r\n        \r\n            /**\r\n             * Returns the one instance of the camera fragment.\r\n             *\r\n             * @return the camera fragment\r\n             */\r\n            public static CameraFragment getInstance() {\r\n                if (cameraFragment == null) {\r\n                    cameraFragment = new CameraFragment();\r\n                }\r\n                return cameraFragment;\r\n            }\r\n        \r\n        \r\n            @Override\r\n            public void onStart() {\r\n                super.onStart();\r\n        \r\n                mOpenCvCameraView.setVisibility(CameraBridgeViewBase.VISIBLE);\r\n            }\r\n            @Override\r\n            public void onCreate(@Nullable Bundle savedInstanceState) {\r\n                super.onCreate(savedInstanceState);\r\n        \r\n                if (getActivity() != null) {\r\n                    getActivity().getWindow().addFlags(WindowManager.LayoutParams.FLAG_KEEP_SCREEN_ON);\r\n                }\r\n        \r\n        \r\n            }\r\n        \r\n            @Nullable\r\n            @Override\r\n            public View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {\r\n                View rootView = inflater.inflate(R.layout.camera_fragment, container, false);\r\n                this.rootView = rootView;\r\n       \r\n                mOpenCvCameraView = (CameraBridgeViewBase) rootView.findViewById(R.id.CameraView);\r\n                //Check if the device is not an emulator\r\n                String myDeviceModel = android.os.Build.MODEL;\r\n        \r\n        \r\n                if (!myDeviceModel.toLowerCase().contains(&quot;sdk&quot;)) {\r\n                    //Rotate the camera view 90 degrees clockwise\r\n                    mOpenCvCameraView.setAngle(90);\r\n        \r\n                }\r\n                rootView.findViewById(R.id.floatingActionButton2).setOnClickListener(this);\r\n                mOpenCvCameraView.setCvCameraViewListener(this);\r\n       \r\n                SeekBar seekBar = rootView.findViewById(R.id.seekBar);\r\n                seekBar.setOnSeekBarChangeListener(this);\r\n        \r\n        \r\n        \r\n                /**\r\n                 * Makes sure opencv can load successfully.\r\n                 */\r\n        \r\n                 mLoaderCallback = new BaseLoaderCallback(this.getActivity()) {\r\n                    @SuppressLint(&quot;LongLogTag&quot;)\r\n                    @Override\r\n                    public void onManagerConnected(int status) {\r\n        \r\n                        switch (status) {\r\n                            case BaseLoaderCallback.SUCCESS: {\r\n                                //Log.i(TAG, &quot;OpenCV loaded successfully&quot;);\r\n                                mOpenCvCameraView.enableView();\r\n       \r\n                                imageMat = new Mat();\r\n                                break;\r\n        \r\n                            }\r\n                            default: {\r\n                                super.onManagerConnected(status);\r\n                                break;\r\n                            }\r\n                        }\r\n                    }\r\n                };\r\n        \r\n        \r\n                return root view;\r\n            }\r\n        \r\n            /**\r\n             * This method is invoked when camera preview has started. After this method is invoked\r\n             * the frames will start to be delivered to client via the onCameraFrame() callback.\r\n             *\r\n             * @param width  -  the width of the frames that will be delivered\r\n             * @param height - the height of the frames that will be delivered\r\n             */\r\n            @Override\r\n            public void onCameraViewStarted(int width, int height) {\r\n        \r\n                \r\n                String cfgFile = getPath(&quot;yolov2-tiny2.cfg&quot;, this.getActivity());\r\n                String weightsFile = getPath(&quot;yolov2-tiny2_58800.weights&quot;, this.getActivity());\r\n        \r\n                if (cfgFile != null &amp;&amp; weightsFile != null) {\r\n                    net = new Darknet(cfgFile, weightsFile);\r\n                }\r\n                mOpenCvCameraView.setVisibility(CameraBridgeViewBase.VISIBLE);\r\n            }\r\n        \r\n            /**\r\n             * This method is invoked when camera preview has been stopped for some reason.\r\n             * No frames will be delivered via onCameraFrame() callback after this method is called.\r\n             */\r\n            @Override\r\n            public void onCameraViewStopped() {\r\n        \r\n            }\r\n        \r\n            /**\r\n             * This method is invoked when delivery of the frame needs to be done.\r\n             * The returned values - is a modified frame which needs to be displayed on the screen.\r\n             * TODO: pass the parameters specifying the format of the frame (BPP, YUV or RGB and etc)\r\n             *\r\n             * @param inputFrame\r\n             */\r\n            @Override\r\n            public Mat onCameraFrame(CameraBridgeViewBase.CvCameraViewFrame inputFrame) {\r\n                Mat frame = inputFrame.rgba();\r\n                Imgproc.cvtColor(frame, frame, Imgproc.COLOR_BGRA2RGB);\r\n                Mat mRgbaT = frame;\r\n        /*        old_mRgbaT = frame.t();\r\n                Core.flip(old_mRgbaT, old_mRgbaT, 1);\r\n                Imgproc.resize(old_mRgbaT, mRgbaT, frame.size());\r\n                old_mRgbaT.release();\r\n                */\r\n                Mat temp = null;\r\n                for (int i = 0; i &lt; OrientationIsValid; i++) {\r\n        \r\n                    temp = frame.t();\r\n                    Core.flip(temp, temp, 1);\r\n                    Imgproc.resize(temp, mRgbaT, frame.size());\r\n                    temp.release();\r\n                }\r\n        \r\n                int cols = mRgbaT.cols();\r\n                int rows = mRgbaT.rows();\r\n                Size cropSize;\r\n                if ((float) cols / rows &gt; 1) {\r\n                    cropSize = new Size(rows * 1, rows);\r\n                } else {\r\n                    cropSize = new Size(cols, cols / 1);\r\n                }\r\n                int y1 = (int) (rows - cropSize.height) / 2;\r\n                int y2 = (int) (y1 + cropSize.height);\r\n                int x1 = (int) (cols - cropSize.width) / 2;\r\n                int x2 = (int) (x1 + cropSize.width);\r\n                Mat subFrame = mRgbaT.submat(y1, y2, x1, x2);\r\n                cols = subFrame.cols();\r\n                rows = subFrame.rows();\r\n                int sevarity = 0;\r\n                if (net != null) {\r\n                    double confidence, xCenter, yCenter, width, height = 0;\r\n                    Mat retMat = net.forwardLoadedNetwork(mRgbaT);\r\n                    for (int i = 0; i &lt; retMat.rows(); i++) {\r\n                        confidence = retMat.get(i, 5)\\[0\\];\r\n                        if (confidence &gt; confidenceThresh) {\r\n                            printMat(retMat.row(i));\r\n                            //System.out.println(&quot;YESSSSSS&quot;);\r\n                            xCenter = retMat.get(i, 0)\\[0\\] * mRgbaT.cols();\r\n                            yCenter = retMat.get(i, 1)\\[0\\] * mRgbaT.rows();\r\n                            width = retMat.get(i, 2)\\[0\\] * mRgbaT.cols();\r\n                            height = retMat.get(i, 3)\\[0\\] * mRgbaT.rows();\r\n                            Imgproc.rectangle(mRgbaT, new Point((xCenter - width / 2), (yCenter - height / 2)), new Point(xCenter + width / 2\r\n                                    , yCenter + height / 2), new Scalar(255, 0, 0), 4);\r\n                            Imgproc.putText(mRgbaT, String.format(&quot;%.4f&quot;, new Double(confidence * 100)) + &quot;%&quot;, new Point((xCenter - width / 2), (yCenter - height / 2) - 5)\r\n                                    , 1, 1, new Scalar(255, 0, 0), 2);\r\n                            sevarity++;\r\n                        }\r\n                    }\r\n                    retMat.release();\r\n                    subFrame.release();\r\n                    if (sevarity &gt; 0) {\r\n                        createPothole(sevarity);\r\n                    }\r\n                } else {\r\n                    //Log.i(&quot;System&quot;, &quot;Problem forwarding network&quot;);\r\n                }\r\n                return mRgbaT;\r\n            }\r\n        \r\n            private Pothole createPothole(int severity) {\r\n                Pothole pothole = null;\r\n                if (this.getActivity() != null) {\r\n                    Location location = ((MainActivity) this.getActivity()).getLocation();\r\n                    if (location != null) {\r\n                        pothole = new Pothole(location, createPotholeId(), severity);\r\n                        addToPotholeList(pothole);\r\n                    }\r\n                }\r\n        \r\n                return pothole;\r\n            }\r\n        \r\n            /**\r\n             * Creates the id string for a pothole.\r\n             *\r\n             * @return the pothole id\r\n             */\r\n            public String createPotholeId() {\r\n                PotholeList list = PotholeList.getInstance();\r\n                int num = 0;\r\n                if (!list.isEmpty()) {\r\n                    String lastId = list.get(list.size() - 1).getId();\r\n                    num = Integer.parseInt(lastId.substring(1));\r\n                }\r\n                String retId = &quot;p&quot; + (num + 1);\r\n                return retId;\r\n            }\r\n        \r\n            /**\r\n             * Prints the returned matrix outputted from the network.\r\n             *\r\n             * @param mat the mat to print\r\n             */\r\n            private void printMat(Mat mat) {\r\n                for (int i = 0; i &lt; mat.rows(); i++) {\r\n                    //System.out.print(&quot;\\[ &quot;);\r\n                    for (int n = 0; n &lt; mat.cols(); n++) {\r\n                        try {\r\n                            //System.out.printf( &quot;%.2f &quot;, mat.get(i, n)\\[0\\]);\r\n                        } catch (NullPointerException e) {\r\n                            //System.out.print( &quot; &quot; );\r\n                        }\r\n        \r\n                    }\r\n                    //System.out.println(&quot;\\]&quot;);\r\n                }\r\n            }\r\n        \r\n            @Override\r\n            public void onResume() {\r\n                super.onResume();\r\n        \r\n                try {\r\n                    if (OpenCVLoader.initDebug()) {\r\n                        Log.d(&quot;Debug&quot;, &quot;OpenCV library found inside package. Using it!&quot;);\r\n                        mLoaderCallback.onManagerConnected(BaseLoaderCallback .SUCCESS);\r\n        \r\n        \r\n                    }\r\n                    else {\r\n                        Log.d(&quot;Debug&quot;, &quot;Internal OpenCV library not found. Using OpenCV Manager for initialization&quot;);\r\n                        OpenCVLoader.initAsync(OpenCVLoader.OPENCV_VERSION_3_0_0, this.getActivity(), mLoaderCallback);\r\n                    }\r\n                }\r\n                catch (NullPointerException e) {\r\n                    Log.d(TAG, String.valueOf(e));\r\n                    Toast.makeText(this.getActivity(), &quot;OpenCV is required to run this feature. Please install OpenCV from the Google Play Store or download the APK from their official website.&quot;, Toast.LENGTH_LONG).show();\r\n        \r\n                }\r\n            }\r\n        \r\n            /**\r\n             * Gets the path of a file and create it in the app memory.\r\n             *\r\n             * @param fileType the file to find\r\n             * @param context  context\r\n             * @return the pathname\r\n             */\r\n            @SuppressLint(&quot;LongLogTag&quot;)\r\n            private static String getPath(String fileType, Context context) {\r\n                AssetManager assetManager = context.getAssets();\r\n                String\\[\\] pathNames = {};\r\n                String fileName = &quot;&quot;;\r\n                System.out.println(&quot;-----------------------------------------------------------------------&quot;);\r\n                try {\r\n                    pathNames = assetManager.list(&quot;yolo&quot;);\r\n                } catch (IOException e) {\r\n                    e.printStackTrace();\r\n                }\r\n                for (String filePath : pathNames) {\r\n                    System.out.println(filePath);\r\n                    if (filePath.endsWith(fileType)) {\r\n                        fileName = filePath;\r\n                        break;\r\n                    }\r\n                }\r\n                BufferedInputStream inputStream;\r\n                try {\r\n                    // Read data from assets.\r\n                    inputStream = new BufferedInputStream(assetManager.open(fileName));\r\n                    byte\\[\\] data = new byte\\[inputStream.available()\\];\r\n                    inputStream.read(data);\r\n                    inputStream.close();\r\n        \r\n                    // Create copy file in storage.\r\n                    File outFile = new File(context.getFilesDir(), fileName);\r\n                    FileOutputStream os = new FileOutputStream(outFile);\r\n                    os.write(data);\r\n                    os.close();\r\n                    // Return a path to file which may be read in common way.\r\n                    return outFile.getAbsolutePath();\r\n                } catch (IOException ex) {\r\n                    //Log.i(TAG, &quot;Failed to upload a file&quot;);\r\n                }\r\n                return &quot;&quot;;\r\n            }\r\n        \r\n            /**\r\n             * Adds the pothole to the pothole list.\r\n             *\r\n             * @param pothole the pothole to add\r\n             */\r\n            public boolean addToPotholeList(Pothole pothole) {\r\n                return potholeList.add(pothole);\r\n            }\r\n        \r\n            @Override\r\n            public void onClick(View view) {\r\n                OrientationIsValid++;\r\n                if (OrientationIsValid &gt; 3) {\r\n                    OrientationIsValid = 0;\r\n                }\r\n            }\r\n        \r\n            @Override\r\n            public void onProgressChanged(SeekBar seekBar, int i, boolean b) {\r\n                confidenceThresh = (double) i / 100;\r\n                TextView textView = rootView.findViewById(R.id.confidence);\r\n                textView.setText(&quot;Confidence Threshold: &quot; + (confidenceThresh * 100) + &quot;%&quot;);\r\n            }\r\n        \r\n            @Override\r\n            public void onStartTrackingTouch(SeekBar seekBar) {\r\n        \r\n            }\r\n        \r\n            @Override\r\n            public void onStopTrackingTouch(SeekBar seekBar) {\r\n        \r\n            }\r\n        }\r\n\r\n","title":"E/OpenCV/StaticHelper: OpenCV error: Cannot load info library for OpenCV","body":"<p>z\nI making an app to detect potholes this the main function camera fragment where I have to use OpenCV to get the desired result\nwhile using OpenCV in android java I am facing this issue please help me\n:opencv.org E/OpenCV/StaticHelper: OpenCV Error: Cannot load info library for OpenCV</p>\n<p>OpenCV version that I use is 3.4.2\nand also have placed libs in the jniLibs folder but still OpenCV library not loading\nI have to submit this app before tomorrow 19-DEC-2020 or I fail may semester please help  fellows</p>\n<pre><code>    package com.example.dpgra.defectdetect;\n    \n  \n    \n    import android.annotation.SuppressLint;\n    import android.content.Context;\n    import android.content.res.AssetManager;\n    import android.location.Location;\n    import android.os.Bundle;\n    import android.util.Log;\n    import android.view.LayoutInflater;\n    import android.view.View;\n    import android.view.ViewGroup;\n    import android.view.WindowManager;\n    import android.widget.SeekBar;\n    import android.widget.TextView;\n    import android.widget.Toast;\n    \n    import androidx.annotation.NonNull;\n    import androidx.annotation.Nullable;\n    import androidx.fragment.app.Fragment;\n    \n    import org.opencv.android.BaseLoaderCallback;\n    import org.opencv.android.CameraBridgeViewBase;\n    import org.opencv.android.OpenCVLoader;\n    import org.opencv.core.Core;\n    import org.opencv.core.Mat;\n    import org.opencv.core.Point;\n    import org.opencv.core.Scalar;\n    import org.opencv.core.Size;\n    import org.opencv.imgproc.Imgproc;\n    \n    import java.io.BufferedInputStream;\n    import java.io.File;\n    import java.io.FileOutputStream;\n    import java.io.IOException;\n    \n    import model.Darknet;\n    import model.Pothole;\n    import model.PotholeList;\n    \n    public class CameraFragment extends Fragment implements CameraBridgeViewBase.CvCameraViewListener2, View.OnClickListener, SeekBar.OnSeekBarChangeListener {\n    \n        private View rootView;\n        private CameraBridgeViewBase mOpenCvCameraView;\n        private Darknet net;\n        private static CameraFragment cameraFragment;\n        private PotholeList potholeList;\n        private Integer OrientationIsValid;\n        private double confidenceThresh;\n        BaseLoaderCallback mLoaderCallback ;\n        Mat imageMat;\n       // JavaCameraView javaCamera2View;\n    \n    \n    \n        private static String TAG =&quot;CameraFragment&quot;;\n        static\n        {\n    \n            if (OpenCVLoader.initDebug())\n            {\n                Log.d(TAG,&quot;OpenCV Installed Successfully&quot;);\n            }\n            else\n            {\n                Log.d(TAG,&quot;OpenCV Failed&quot;);\n            }\n        }\n    \n        @SuppressLint(&quot;ValidFragment&quot;)\n        private CameraFragment() {\n            super();\n            potholeList = PotholeList.getInstance();\n            OrientationIsValid = 0;\n            confidenceThresh = .6;\n        }\n    \n        /**\n         * Returns the one instance of the camera fragment.\n         *\n         * @return the camera fragment\n         */\n        public static CameraFragment getInstance() {\n            if (cameraFragment == null) {\n                cameraFragment = new CameraFragment();\n            }\n            return cameraFragment;\n        }\n    \n    \n        @Override\n        public void onStart() {\n            super.onStart();\n    \n            mOpenCvCameraView.setVisibility(CameraBridgeViewBase.VISIBLE);\n        }\n        @Override\n        public void onCreate(@Nullable Bundle savedInstanceState) {\n            super.onCreate(savedInstanceState);\n    \n            if (getActivity() != null) {\n                getActivity().getWindow().addFlags(WindowManager.LayoutParams.FLAG_KEEP_SCREEN_ON);\n            }\n    \n    \n        }\n    \n        @Nullable\n        @Override\n        public View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {\n            View rootView = inflater.inflate(R.layout.camera_fragment, container, false);\n            this.rootView = rootView;\n   \n            mOpenCvCameraView = (CameraBridgeViewBase) rootView.findViewById(R.id.CameraView);\n            //Check if the device is not an emulator\n            String myDeviceModel = android.os.Build.MODEL;\n    \n    \n            if (!myDeviceModel.toLowerCase().contains(&quot;sdk&quot;)) {\n                //Rotate the camera view 90 degrees clockwise\n                mOpenCvCameraView.setAngle(90);\n    \n            }\n            rootView.findViewById(R.id.floatingActionButton2).setOnClickListener(this);\n            mOpenCvCameraView.setCvCameraViewListener(this);\n   \n            SeekBar seekBar = rootView.findViewById(R.id.seekBar);\n            seekBar.setOnSeekBarChangeListener(this);\n    \n    \n    \n            /**\n             * Makes sure opencv can load successfully.\n             */\n    \n             mLoaderCallback = new BaseLoaderCallback(this.getActivity()) {\n                @SuppressLint(&quot;LongLogTag&quot;)\n                @Override\n                public void onManagerConnected(int status) {\n    \n                    switch (status) {\n                        case BaseLoaderCallback.SUCCESS: {\n                            //Log.i(TAG, &quot;OpenCV loaded successfully&quot;);\n                            mOpenCvCameraView.enableView();\n   \n                            imageMat = new Mat();\n                            break;\n    \n                        }\n                        default: {\n                            super.onManagerConnected(status);\n                            break;\n                        }\n                    }\n                }\n            };\n    \n    \n            return root view;\n        }\n    \n        /**\n         * This method is invoked when camera preview has started. After this method is invoked\n         * the frames will start to be delivered to client via the onCameraFrame() callback.\n         *\n         * @param width  -  the width of the frames that will be delivered\n         * @param height - the height of the frames that will be delivered\n         */\n        @Override\n        public void onCameraViewStarted(int width, int height) {\n    \n            \n            String cfgFile = getPath(&quot;yolov2-tiny2.cfg&quot;, this.getActivity());\n            String weightsFile = getPath(&quot;yolov2-tiny2_58800.weights&quot;, this.getActivity());\n    \n            if (cfgFile != null &amp;&amp; weightsFile != null) {\n                net = new Darknet(cfgFile, weightsFile);\n            }\n            mOpenCvCameraView.setVisibility(CameraBridgeViewBase.VISIBLE);\n        }\n    \n        /**\n         * This method is invoked when camera preview has been stopped for some reason.\n         * No frames will be delivered via onCameraFrame() callback after this method is called.\n         */\n        @Override\n        public void onCameraViewStopped() {\n    \n        }\n    \n        /**\n         * This method is invoked when delivery of the frame needs to be done.\n         * The returned values - is a modified frame which needs to be displayed on the screen.\n         * TODO: pass the parameters specifying the format of the frame (BPP, YUV or RGB and etc)\n         *\n         * @param inputFrame\n         */\n        @Override\n        public Mat onCameraFrame(CameraBridgeViewBase.CvCameraViewFrame inputFrame) {\n            Mat frame = inputFrame.rgba();\n            Imgproc.cvtColor(frame, frame, Imgproc.COLOR_BGRA2RGB);\n            Mat mRgbaT = frame;\n    /*        old_mRgbaT = frame.t();\n            Core.flip(old_mRgbaT, old_mRgbaT, 1);\n            Imgproc.resize(old_mRgbaT, mRgbaT, frame.size());\n            old_mRgbaT.release();\n            */\n            Mat temp = null;\n            for (int i = 0; i &lt; OrientationIsValid; i++) {\n    \n                temp = frame.t();\n                Core.flip(temp, temp, 1);\n                Imgproc.resize(temp, mRgbaT, frame.size());\n                temp.release();\n            }\n    \n            int cols = mRgbaT.cols();\n            int rows = mRgbaT.rows();\n            Size cropSize;\n            if ((float) cols / rows &gt; 1) {\n                cropSize = new Size(rows * 1, rows);\n            } else {\n                cropSize = new Size(cols, cols / 1);\n            }\n            int y1 = (int) (rows - cropSize.height) / 2;\n            int y2 = (int) (y1 + cropSize.height);\n            int x1 = (int) (cols - cropSize.width) / 2;\n            int x2 = (int) (x1 + cropSize.width);\n            Mat subFrame = mRgbaT.submat(y1, y2, x1, x2);\n            cols = subFrame.cols();\n            rows = subFrame.rows();\n            int sevarity = 0;\n            if (net != null) {\n                double confidence, xCenter, yCenter, width, height = 0;\n                Mat retMat = net.forwardLoadedNetwork(mRgbaT);\n                for (int i = 0; i &lt; retMat.rows(); i++) {\n                    confidence = retMat.get(i, 5)\\[0\\];\n                    if (confidence &gt; confidenceThresh) {\n                        printMat(retMat.row(i));\n                        //System.out.println(&quot;YESSSSSS&quot;);\n                        xCenter = retMat.get(i, 0)\\[0\\] * mRgbaT.cols();\n                        yCenter = retMat.get(i, 1)\\[0\\] * mRgbaT.rows();\n                        width = retMat.get(i, 2)\\[0\\] * mRgbaT.cols();\n                        height = retMat.get(i, 3)\\[0\\] * mRgbaT.rows();\n                        Imgproc.rectangle(mRgbaT, new Point((xCenter - width / 2), (yCenter - height / 2)), new Point(xCenter + width / 2\n                                , yCenter + height / 2), new Scalar(255, 0, 0), 4);\n                        Imgproc.putText(mRgbaT, String.format(&quot;%.4f&quot;, new Double(confidence * 100)) + &quot;%&quot;, new Point((xCenter - width / 2), (yCenter - height / 2) - 5)\n                                , 1, 1, new Scalar(255, 0, 0), 2);\n                        sevarity++;\n                    }\n                }\n                retMat.release();\n                subFrame.release();\n                if (sevarity &gt; 0) {\n                    createPothole(sevarity);\n                }\n            } else {\n                //Log.i(&quot;System&quot;, &quot;Problem forwarding network&quot;);\n            }\n            return mRgbaT;\n        }\n    \n        private Pothole createPothole(int severity) {\n            Pothole pothole = null;\n            if (this.getActivity() != null) {\n                Location location = ((MainActivity) this.getActivity()).getLocation();\n                if (location != null) {\n                    pothole = new Pothole(location, createPotholeId(), severity);\n                    addToPotholeList(pothole);\n                }\n            }\n    \n            return pothole;\n        }\n    \n        /**\n         * Creates the id string for a pothole.\n         *\n         * @return the pothole id\n         */\n        public String createPotholeId() {\n            PotholeList list = PotholeList.getInstance();\n            int num = 0;\n            if (!list.isEmpty()) {\n                String lastId = list.get(list.size() - 1).getId();\n                num = Integer.parseInt(lastId.substring(1));\n            }\n            String retId = &quot;p&quot; + (num + 1);\n            return retId;\n        }\n    \n        /**\n         * Prints the returned matrix outputted from the network.\n         *\n         * @param mat the mat to print\n         */\n        private void printMat(Mat mat) {\n            for (int i = 0; i &lt; mat.rows(); i++) {\n                //System.out.print(&quot;\\[ &quot;);\n                for (int n = 0; n &lt; mat.cols(); n++) {\n                    try {\n                        //System.out.printf( &quot;%.2f &quot;, mat.get(i, n)\\[0\\]);\n                    } catch (NullPointerException e) {\n                        //System.out.print( &quot; &quot; );\n                    }\n    \n                }\n                //System.out.println(&quot;\\]&quot;);\n            }\n        }\n    \n        @Override\n        public void onResume() {\n            super.onResume();\n    \n            try {\n                if (OpenCVLoader.initDebug()) {\n                    Log.d(&quot;Debug&quot;, &quot;OpenCV library found inside package. Using it!&quot;);\n                    mLoaderCallback.onManagerConnected(BaseLoaderCallback .SUCCESS);\n    \n    \n                }\n                else {\n                    Log.d(&quot;Debug&quot;, &quot;Internal OpenCV library not found. Using OpenCV Manager for initialization&quot;);\n                    OpenCVLoader.initAsync(OpenCVLoader.OPENCV_VERSION_3_0_0, this.getActivity(), mLoaderCallback);\n                }\n            }\n            catch (NullPointerException e) {\n                Log.d(TAG, String.valueOf(e));\n                Toast.makeText(this.getActivity(), &quot;OpenCV is required to run this feature. Please install OpenCV from the Google Play Store or download the APK from their official website.&quot;, Toast.LENGTH_LONG).show();\n    \n            }\n        }\n    \n        /**\n         * Gets the path of a file and create it in the app memory.\n         *\n         * @param fileType the file to find\n         * @param context  context\n         * @return the pathname\n         */\n        @SuppressLint(&quot;LongLogTag&quot;)\n        private static String getPath(String fileType, Context context) {\n            AssetManager assetManager = context.getAssets();\n            String\\[\\] pathNames = {};\n            String fileName = &quot;&quot;;\n            System.out.println(&quot;-----------------------------------------------------------------------&quot;);\n            try {\n                pathNames = assetManager.list(&quot;yolo&quot;);\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n            for (String filePath : pathNames) {\n                System.out.println(filePath);\n                if (filePath.endsWith(fileType)) {\n                    fileName = filePath;\n                    break;\n                }\n            }\n            BufferedInputStream inputStream;\n            try {\n                // Read data from assets.\n                inputStream = new BufferedInputStream(assetManager.open(fileName));\n                byte\\[\\] data = new byte\\[inputStream.available()\\];\n                inputStream.read(data);\n                inputStream.close();\n    \n                // Create copy file in storage.\n                File outFile = new File(context.getFilesDir(), fileName);\n                FileOutputStream os = new FileOutputStream(outFile);\n                os.write(data);\n                os.close();\n                // Return a path to file which may be read in common way.\n                return outFile.getAbsolutePath();\n            } catch (IOException ex) {\n                //Log.i(TAG, &quot;Failed to upload a file&quot;);\n            }\n            return &quot;&quot;;\n        }\n    \n        /**\n         * Adds the pothole to the pothole list.\n         *\n         * @param pothole the pothole to add\n         */\n        public boolean addToPotholeList(Pothole pothole) {\n            return potholeList.add(pothole);\n        }\n    \n        @Override\n        public void onClick(View view) {\n            OrientationIsValid++;\n            if (OrientationIsValid &gt; 3) {\n                OrientationIsValid = 0;\n            }\n        }\n    \n        @Override\n        public void onProgressChanged(SeekBar seekBar, int i, boolean b) {\n            confidenceThresh = (double) i / 100;\n            TextView textView = rootView.findViewById(R.id.confidence);\n            textView.setText(&quot;Confidence Threshold: &quot; + (confidenceThresh * 100) + &quot;%&quot;);\n        }\n    \n        @Override\n        public void onStartTrackingTouch(SeekBar seekBar) {\n    \n        }\n    \n        @Override\n        public void onStopTrackingTouch(SeekBar seekBar) {\n    \n        }\n    }\n</code></pre>\n"},{"tags":["java","parquet","avro","classcastexception"],"comments":[{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1673532717,"post_id":75096034,"comment_id":132524109,"body_markdown":"Well, look at your employee class that was generated. What are its constructor parameters? Avro binary type could represent anything, not always a number. Since you&#39;re using just `TEN`, why not use double type?","body":"Well, look at your employee class that was generated. What are its constructor parameters? Avro binary type could represent anything, not always a number. Since you&#39;re using just <code>TEN</code>, why not use double type?"},{"owner":{"account_id":11739205,"reputation":1,"user_id":8592066,"display_name":"HakanGuneser"},"score":0,"creation_date":1673590452,"post_id":75096034,"comment_id":132537667,"body_markdown":"``TEN`` was just an example, the client I&#39;m working with wants this as a decimal type field. So I&#39;m looking for some general solutions to do this. Also, apache-avro already has a decimal type in its documentation, I want to figure out why I can&#39;t use it.","body":"<code>TEN</code> was just an example, the client I&#39;m working with wants this as a decimal type field. So I&#39;m looking for some general solutions to do this. Also, apache-avro already has a decimal type in its documentation, I want to figure out why I can&#39;t use it."},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1673619690,"post_id":75096034,"comment_id":132546260,"body_markdown":"You can use it, but it&#39;ll generate a class with a ByteBuffer. No where have you told Avro anything about BigDecimal numeric type, such as `java-class` attribute. (unrelated, but you should remove hadoop-core dependency since it&#39;s very old and parquet already pulls in the correct one)","body":"You can use it, but it&#39;ll generate a class with a ByteBuffer. No where have you told Avro anything about BigDecimal numeric type, such as <code>java-class</code> attribute. (unrelated, but you should remove hadoop-core dependency since it&#39;s very old and parquet already pulls in the correct one)"}],"owner":{"account_id":11739205,"reputation":1,"user_id":8592066,"display_name":"HakanGuneser"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":179,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673532556,"creation_date":1673524854,"question_id":75096034,"body_markdown":"I need to create parquet file with using apache-avro library in Java8. the POJO created automatically from &quot;.avsc&quot; file with maven generation-resource. but I have trouble with BigDecimal fields in the file. I researched apache-avro library documentation([apache-avro](https://avro.apache.org/docs/1.11.1/specification/_print/#decimal)).\r\nI was able to created successfully POJO with the field types that I need. but I got exception while write phase. I saw similar problems that already asked but there is no solution to solve my problem.\r\n\r\nhere is the code that I&#39;m working on [github code](https://github.com/hakanguneser/avro-example)\r\n\r\nEmployee_schema.avsc\r\n```\r\n{&quot;type&quot;: &quot;record&quot;,\r\n  &quot;namespace&quot;: &quot;com.avro.example&quot;,\r\n  &quot;name&quot;: &quot;Employee&quot;,\r\n  &quot;fields&quot;: [\r\n    {&quot;name&quot;: &quot;name&quot;,&quot;type&quot;: &quot;string&quot;},\r\n    {&quot;name&quot;: &quot;email&quot;,&quot;type&quot;: &quot;string&quot;},\r\n    {&quot;name&quot;: &quot;salary&quot;,\r\n      &quot;type&quot;: { &quot;type&quot;: &quot;bytes&quot;,\r\n                &quot;logicalType&quot;: &quot;decimal&quot;,\r\n                &quot;precision&quot;: 4,\r\n                &quot;scale&quot;: 2\r\n      }}]\r\n}\r\n```\r\nMain.class\r\n\r\n```\r\npublic static void main(String[] args) throws IOException {\r\n\r\n    File outputParquet = new File(&quot;./output.parquet&quot;);\r\n    Files.deleteIfExists(outputParquet.toPath());\r\n    Employee employee = new Employee(&quot;john&quot;, &quot;john.doe@mail.com&quot;,BigDecimal.TEN);\r\n    ParquetWriter&lt;Employee&gt; writer = AvroParquetWriter.&lt;Employee&gt;builder(new Path(outputParquet.getAbsolutePath()))\r\n            .withCompressionCodec(CompressionCodecName.SNAPPY)\r\n            .withSchema(employee.getSchema())\r\n            .build();\r\n    try {\r\n        writer.write(employee);\r\n    } catch (Exception e) {\r\n        e.printStackTrace();\r\n    }\r\n    writer.close();\r\n}\r\n```\r\npom.xml\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;com.avro.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;avro-example&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;maven.compiler.source&gt;8&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;8&lt;/maven.compiler.target&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.parquet&lt;/groupId&gt;\r\n            &lt;artifactId&gt;parquet-avro&lt;/artifactId&gt;\r\n            &lt;version&gt;1.11.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.avro&lt;/groupId&gt;\r\n            &lt;artifactId&gt;avro&lt;/artifactId&gt;\r\n            &lt;version&gt;1.11.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.hadoop&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hadoop-core&lt;/artifactId&gt;\r\n            &lt;version&gt;1.2.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.avro&lt;/groupId&gt;\r\n                &lt;artifactId&gt;avro-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;1.11.1&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;schema&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;phase&gt;generate-sources&lt;/phase&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;sourceDirectory&gt;${project.basedir}/src/main/avro/&lt;/sourceDirectory&gt;\r\n                            &lt;outputDirectory&gt;${project.basedir}/src/main/java/&lt;/outputDirectory&gt;\r\n                            &lt;enableDecimalLogicalType&gt;true&lt;/enableDecimalLogicalType&gt;\r\n                            &lt;fieldVisibility&gt;private&lt;/fieldVisibility&gt;\r\n                            &lt;stringType&gt;String&lt;/stringType&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\n","title":"Apache Avro does not print BigDecimal into parquet file Error : java.math.BigDecimal cannot be cast to java.nio.ByteBuffer","body":"<p>I need to create parquet file with using apache-avro library in Java8. the POJO created automatically from &quot;.avsc&quot; file with maven generation-resource. but I have trouble with BigDecimal fields in the file. I researched apache-avro library documentation(<a href=\"https://avro.apache.org/docs/1.11.1/specification/_print/#decimal\" rel=\"nofollow noreferrer\">apache-avro</a>).\nI was able to created successfully POJO with the field types that I need. but I got exception while write phase. I saw similar problems that already asked but there is no solution to solve my problem.</p>\n<p>here is the code that I'm working on <a href=\"https://github.com/hakanguneser/avro-example\" rel=\"nofollow noreferrer\">github code</a></p>\n<p>Employee_schema.avsc</p>\n<pre><code>{&quot;type&quot;: &quot;record&quot;,\n  &quot;namespace&quot;: &quot;com.avro.example&quot;,\n  &quot;name&quot;: &quot;Employee&quot;,\n  &quot;fields&quot;: [\n    {&quot;name&quot;: &quot;name&quot;,&quot;type&quot;: &quot;string&quot;},\n    {&quot;name&quot;: &quot;email&quot;,&quot;type&quot;: &quot;string&quot;},\n    {&quot;name&quot;: &quot;salary&quot;,\n      &quot;type&quot;: { &quot;type&quot;: &quot;bytes&quot;,\n                &quot;logicalType&quot;: &quot;decimal&quot;,\n                &quot;precision&quot;: 4,\n                &quot;scale&quot;: 2\n      }}]\n}\n</code></pre>\n<p>Main.class</p>\n<pre><code>public static void main(String[] args) throws IOException {\n\n    File outputParquet = new File(&quot;./output.parquet&quot;);\n    Files.deleteIfExists(outputParquet.toPath());\n    Employee employee = new Employee(&quot;john&quot;, &quot;john.doe@mail.com&quot;,BigDecimal.TEN);\n    ParquetWriter&lt;Employee&gt; writer = AvroParquetWriter.&lt;Employee&gt;builder(new Path(outputParquet.getAbsolutePath()))\n            .withCompressionCodec(CompressionCodecName.SNAPPY)\n            .withSchema(employee.getSchema())\n            .build();\n    try {\n        writer.write(employee);\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n    writer.close();\n}\n</code></pre>\n<p>pom.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.avro.example&lt;/groupId&gt;\n    &lt;artifactId&gt;avro-example&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;maven.compiler.source&gt;8&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;8&lt;/maven.compiler.target&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.parquet&lt;/groupId&gt;\n            &lt;artifactId&gt;parquet-avro&lt;/artifactId&gt;\n            &lt;version&gt;1.11.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.avro&lt;/groupId&gt;\n            &lt;artifactId&gt;avro&lt;/artifactId&gt;\n            &lt;version&gt;1.11.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.hadoop&lt;/groupId&gt;\n            &lt;artifactId&gt;hadoop-core&lt;/artifactId&gt;\n            &lt;version&gt;1.2.1&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.avro&lt;/groupId&gt;\n                &lt;artifactId&gt;avro-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;1.11.1&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;schema&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;phase&gt;generate-sources&lt;/phase&gt;\n                        &lt;configuration&gt;\n                            &lt;sourceDirectory&gt;${project.basedir}/src/main/avro/&lt;/sourceDirectory&gt;\n                            &lt;outputDirectory&gt;${project.basedir}/src/main/java/&lt;/outputDirectory&gt;\n                            &lt;enableDecimalLogicalType&gt;true&lt;/enableDecimalLogicalType&gt;\n                            &lt;fieldVisibility&gt;private&lt;/fieldVisibility&gt;\n                            &lt;stringType&gt;String&lt;/stringType&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","gradle","build.gradle"],"owner":{"account_id":24351815,"reputation":11,"user_id":18287545,"display_name":"user18287545"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673532178,"creation_date":1673532178,"question_id":75097489,"body_markdown":"I want to changed jar from local file but i need all transitive dependencies.\r\nGradle doesn&#39;t download transitive dependencies for locaal jar file. \r\n\r\nHow to download only transitive dependencies and exclude main dependencies as it will be load from local?\r\nOr how can i download transitive dependencies for local jar?","title":"Gradle: download only transitive dependencies","body":"<p>I want to changed jar from local file but i need all transitive dependencies.\nGradle doesn't download transitive dependencies for locaal jar file.</p>\n<p>How to download only transitive dependencies and exclude main dependencies as it will be load from local?\nOr how can i download transitive dependencies for local jar?</p>\n"},{"tags":["java","azureservicebus","servicebus","azure-servicebus-topics"],"comments":[{"owner":{"account_id":53380,"reputation":6491,"user_id":159548,"display_name":"Jesse Squire"},"score":1,"creation_date":1673533518,"post_id":75097473,"comment_id":132524412,"body_markdown":"The processor client is not the best choice for this scenario, as it is intended to be long-running.  The `ServiceBusReceiverClient` would be a much more natural fit for your scenario.  see: https://learn.microsoft.com/java/api/com.azure.messaging.servicebus.servicebusreceiverclient?view=azure-java-stable","body":"The processor client is not the best choice for this scenario, as it is intended to be long-running.  The <code>ServiceBusReceiverClient</code> would be a much more natural fit for your scenario.  see: <a href=\"https://learn.microsoft.com/java/api/com.azure.messaging.servicebus.servicebusreceiverclient?view=azure-java-stable\" rel=\"nofollow noreferrer\">learn.microsoft.com/java/api/&hellip;</a>"}],"owner":{"account_id":27199768,"reputation":11,"user_id":20732174,"display_name":"End"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":271,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673532079,"creation_date":1673532079,"question_id":75097473,"body_markdown":"I am subscribed to a Azure servicebus topic made by an external department. The way I want the code to work is as follows: \r\n\r\n1. Trigger an http endpoint that starts processorClient and listens to the topic. \r\n2. Fetches one message\r\n3. Does required actions to that message\r\n4. Closes processorClient connection.\r\n5. Repeat\r\n\r\nI am using the ServiceBusProcessorClient class as shown in the following documentation [Receive messages from a subscription](https://learn.microsoft.com/en-us/azure/service-bus-messaging/service-bus-java-how-to-use-topics-subscriptions#receive-messages-from-a-subscription:~:text=client%0A%20%20%20%20senderClient.close()%3B%0A%7D-,Receive%20messages%20from%20a%20subscription,-In%20this%20section)\r\n\r\nIs there a way to utilize this code in order to only fetch one message from the topic at a time before calling the `processorClient.close();`\r\n\r\n\r\nI have tried using setting maxConcurrentCalls and setting prefetchCount(0). ","title":"Processing just one service bus topic message at a time","body":"<p>I am subscribed to a Azure servicebus topic made by an external department. The way I want the code to work is as follows:</p>\n<ol>\n<li>Trigger an http endpoint that starts processorClient and listens to the topic.</li>\n<li>Fetches one message</li>\n<li>Does required actions to that message</li>\n<li>Closes processorClient connection.</li>\n<li>Repeat</li>\n</ol>\n<p>I am using the ServiceBusProcessorClient class as shown in the following documentation <a href=\"https://learn.microsoft.com/en-us/azure/service-bus-messaging/service-bus-java-how-to-use-topics-subscriptions#receive-messages-from-a-subscription:%7E:text=client%0A%20%20%20%20senderClient.close()%3B%0A%7D-,Receive%20messages%20from%20a%20subscription,-In%20this%20section\" rel=\"nofollow noreferrer\">Receive messages from a subscription</a></p>\n<p>Is there a way to utilize this code in order to only fetch one message from the topic at a time before calling the <code>processorClient.close();</code></p>\n<p>I have tried using setting maxConcurrentCalls and setting prefetchCount(0).</p>\n"},{"tags":["java","macos","intellij-idea","keymapping","keymaps"],"answers":[{"comments":[{"owner":{"account_id":2048628,"reputation":1037,"user_id":1828136,"accept_rate":91,"display_name":"perkss"},"score":2,"creation_date":1459968241,"post_id":36331833,"comment_id":60531438,"body_markdown":"That is still different to windows though, but will have to be sufficient it seems. I wanted to use the exact key map they use on Windows on a Mac ie us of Ctrl instead of CMD.","body":"That is still different to windows though, but will have to be sufficient it seems. I wanted to use the exact key map they use on Windows on a Mac ie us of Ctrl instead of CMD."},{"owner":{"account_id":3624035,"reputation":18141,"user_id":3022127,"accept_rate":27,"display_name":"bersling"},"score":1,"creation_date":1510037114,"post_id":36331833,"comment_id":81252605,"body_markdown":"@Matt for me, when i was selecting `XWin`, the keymap was windows and also the Ctrl key was used not cmd. However, I&#39;d prefer to use Cmd, how did you get that to work? :)","body":"@Matt for me, when i was selecting <code>XWin</code>, the keymap was windows and also the Ctrl key was used not cmd. However, I&#39;d prefer to use Cmd, how did you get that to work? :)"},{"owner":{"account_id":2048628,"reputation":1037,"user_id":1828136,"accept_rate":91,"display_name":"perkss"},"score":0,"creation_date":1517641294,"post_id":36331833,"comment_id":84186667,"body_markdown":"@bersling I do not think it is possible at the moment","body":"@bersling I do not think it is possible at the moment"}],"tags":[],"owner":{"account_id":2573102,"reputation":5144,"user_id":2231368,"display_name":"Ofer Segev"},"comment_count":3,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1459422877,"creation_date":1459422877,"answer_id":36331833,"question_id":35874608,"body_markdown":"yes, it is possible.\r\ngo to Preferences -&gt; keymap -&gt; keymaps, and select your default\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/U3b7j.png","title":"Intellij Default windows keymap on Mac OS X","body":"<p>yes, it is possible.\ngo to Preferences -> keymap -> keymaps, and select your default</p>\n\n<p><a href=\"https://i.stack.imgur.com/U3b7j.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/U3b7j.png\" alt=\"enter image description here\"></a></p>\n"},{"comments":[{"owner":{"account_id":378468,"reputation":111,"user_id":731198,"display_name":"Martin Kalina"},"score":0,"creation_date":1604565352,"post_id":49705641,"comment_id":114386784,"body_markdown":"Thx for above solution, I added switch Fn and left Control for internal keyboard only. Now all keys are where they should be ;-)","body":"Thx for above solution, I added switch Fn and left Control for internal keyboard only. Now all keys are where they should be ;-)"},{"owner":{"account_id":2064333,"reputation":113,"user_id":1840185,"display_name":"Viktor Reinok"},"score":0,"creation_date":1623003153,"post_id":49705641,"comment_id":119948140,"body_markdown":"In case one would like to use a Windows keymap and the same keys across platforms... one would need to modify the XWin file (keymap idea plugin) and there replace all the control instraces with meta. YOu can find the file in the IDE setting repo at: /Users/username/Library/Application Support/JetBrains/IntelliJIdea2021.1/settingsRepository/repository/keymaps","body":"In case one would like to use a Windows keymap and the same keys across platforms... one would need to modify the XWin file (keymap idea plugin) and there replace all the control instraces with meta. YOu can find the file in the IDE setting repo at: /Users/username/Library/Application Support/JetBrains/IntelliJIdea2021.1/settingsRepository/repo&zwnj;&#8203;sitory/keymaps"},{"owner":{"account_id":2064333,"reputation":113,"user_id":1840185,"display_name":"Viktor Reinok"},"score":0,"creation_date":1625986443,"post_id":49705641,"comment_id":120769421,"body_markdown":"I wrote a blog post about setting up the keymap.\nhttps://viktorreinok.medium.com/how-to-use-win-hotkeys-on-mac-and-in-your-favorite-ide-for-example-intellij-c125da1fd1f1","body":"I wrote a blog post about setting up the keymap. <a href=\"https://viktorreinok.medium.com/how-to-use-win-hotkeys-on-mac-and-in-your-favorite-ide-for-example-intellij-c125da1fd1f1\" rel=\"nofollow noreferrer\">viktorreinok.medium.com/&hellip;</a>"},{"owner":{"account_id":1929128,"reputation":403,"user_id":1738936,"display_name":"vivekmore"},"score":2,"creation_date":1627929959,"post_id":49705641,"comment_id":121282339,"body_markdown":"wow this is still relevant in 2021! I don&#39;t understand why it should be `frontmost_application_unless` I thought it should be `frontmost_application_if` - because I read the setting as `Update the key binding *if* the front most application is intellij` and not `Update the key binding *unless* the front most application is intellij` ... am I missing something?","body":"wow this is still relevant in 2021! I don&#39;t understand why it should be <code>frontmost_application_unless</code> I thought it should be <code>frontmost_application_if</code> - because I read the setting as <code>Update the key binding *if* the front most application is intellij</code> and not <code>Update the key binding *unless* the front most application is intellij</code> ... am I missing something?"}],"tags":[],"owner":{"account_id":6111599,"reputation":448,"user_id":4767781,"display_name":"Mariusz"},"comment_count":4,"down_vote_count":0,"up_vote_count":26,"is_accepted":true,"score":26,"last_activity_date":1523091425,"creation_date":1523091425,"answer_id":49705641,"question_id":35874608,"body_markdown":"That was a pain for me aswell. Iam working at sometimes at IntelliJ in windows, linux and macOS and just don&#39;t want to handle the different layouts mentally.\r\n\r\nIve finally succeeded at having the same layout and I also **swapped the control/command** buttons on the keyboard (i am using a regular windows keyboard) in **all applications except IntelliJ** so I can use ctrl + c/v/a/f/... through the whole system.\r\n\r\n 1. changed the keymap in IntelliJ to &quot;**Default for XWin**&quot;\r\n 2. installed karabiner-elements which allows any keyboard/mouse changes: https://github.com/tekezo/Karabiner-Elements\r\n 3. edited my /Users/username/.config/karabiner/karabiner.json and added my own rule in that json under profiles &gt; complex_modifications &gt; rules: \r\n\r\n    &lt;pre&gt;\r\n{\r\n      &quot;description&quot;: &quot;ctrl/command swap&quot;,\r\n      &quot;manipulators&quot;: [\r\n        {\r\n          &quot;conditions&quot;: [\r\n            {\r\n              &quot;bundle_identifiers&quot;: [\r\n                &quot;^com\\\\.jetbrains\\\\.intellij$&quot;\r\n              ],\r\n              &quot;type&quot;: &quot;frontmost_application_unless&quot;\r\n            }\r\n          ],\r\n          &quot;from&quot;: {\r\n            &quot;key_code&quot;: &quot;left_control&quot;\r\n          },\r\n          &quot;to&quot;: [\r\n            {\r\n              &quot;key_code&quot;: &quot;left_command&quot;\r\n            }\r\n          ],\r\n          &quot;type&quot;: &quot;basic&quot;\r\n        },\r\n        {\r\n          &quot;conditions&quot;: [\r\n            {\r\n              &quot;bundle_identifiers&quot;: [\r\n                &quot;^com\\\\.jetbrains\\\\.intellij$&quot;\r\n              ],\r\n              &quot;type&quot;: &quot;frontmost_application_unless&quot;\r\n            }\r\n          ],\r\n          &quot;from&quot;: {\r\n            &quot;key_code&quot;: &quot;left_command&quot;\r\n          },\r\n          &quot;to&quot;: [\r\n            {\r\n              &quot;key_code&quot;: &quot;left_control&quot;\r\n            }\r\n          ],\r\n          &quot;type&quot;: &quot;basic&quot;\r\n        }\r\n      ]\r\n    }\r\n    &lt;/pre&gt;","title":"Intellij Default windows keymap on Mac OS X","body":"<p>That was a pain for me aswell. Iam working at sometimes at IntelliJ in windows, linux and macOS and just don't want to handle the different layouts mentally.</p>\n\n<p>Ive finally succeeded at having the same layout and I also <strong>swapped the control/command</strong> buttons on the keyboard (i am using a regular windows keyboard) in <strong>all applications except IntelliJ</strong> so I can use ctrl + c/v/a/f/... through the whole system.</p>\n\n<ol>\n<li>changed the keymap in IntelliJ to \"<strong>Default for XWin</strong>\"</li>\n<li>installed karabiner-elements which allows any keyboard/mouse changes: <a href=\"https://github.com/tekezo/Karabiner-Elements\" rel=\"noreferrer\">https://github.com/tekezo/Karabiner-Elements</a></li>\n<li><p>edited my /Users/username/.config/karabiner/karabiner.json and added my own rule in that json under profiles > complex_modifications > rules: </p>\n\n<pre>\n{\n  \"description\": \"ctrl/command swap\",\n  \"manipulators\": [\n    {\n      \"conditions\": [\n        {\n          \"bundle_identifiers\": [\n            \"^com\\\\.jetbrains\\\\.intellij$\"\n          ],\n          \"type\": \"frontmost_application_unless\"\n        }\n      ],\n      \"from\": {\n        \"key_code\": \"left_control\"\n      },\n      \"to\": [\n        {\n          \"key_code\": \"left_command\"\n        }\n      ],\n      \"type\": \"basic\"\n    },\n    {\n      \"conditions\": [\n        {\n          \"bundle_identifiers\": [\n            \"^com\\\\.jetbrains\\\\.intellij$\"\n          ],\n          \"type\": \"frontmost_application_unless\"\n        }\n      ],\n      \"from\": {\n        \"key_code\": \"left_command\"\n      },\n      \"to\": [\n        {\n          \"key_code\": \"left_control\"\n        }\n      ],\n      \"type\": \"basic\"\n    }\n  ]\n}\n</pre></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":7274083,"reputation":124,"user_id":5546100,"accept_rate":60,"display_name":"neza"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673531805,"creation_date":1673531805,"answer_id":75097422,"question_id":35874608,"body_markdown":"Adding to Mariusz&#39; answer, which is working for QWERTY keyboards, if you want to do that setup with a QWERTZ keyboard and are struggling how to type {}, [] and \\\\: \r\n\r\nGo to IntelliJ -&gt; Settings -&gt; Keymap -&gt; Tool Windows and remove (or remap) the shortcuts for Debug, Problems, Services, Structure and Git.\r\nYou need to replace them, otherwise they will overwrite the mapped bindings for the listed symbols.\r\n","title":"Intellij Default windows keymap on Mac OS X","body":"<p>Adding to Mariusz' answer, which is working for QWERTY keyboards, if you want to do that setup with a QWERTZ keyboard and are struggling how to type {}, [] and \\:</p>\n<p>Go to IntelliJ -&gt; Settings -&gt; Keymap -&gt; Tool Windows and remove (or remap) the shortcuts for Debug, Problems, Services, Structure and Git.\nYou need to replace them, otherwise they will overwrite the mapped bindings for the listed symbols.</p>\n"}],"owner":{"account_id":2048628,"reputation":1037,"user_id":1828136,"accept_rate":91,"display_name":"perkss"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10836,"favorite_count":0,"down_vote_count":0,"up_vote_count":21,"accepted_answer_id":49705641,"answer_count":3,"score":21,"last_activity_date":1673531805,"creation_date":1457459990,"question_id":35874608,"body_markdown":"Is it possible to have the default windows key map for Intellij IDEA on Mac OS X. It is not an option like the Eclipse Windows Key Map? ","title":"Intellij Default windows keymap on Mac OS X","body":"<p>Is it possible to have the default windows key map for Intellij IDEA on Mac OS X. It is not an option like the Eclipse Windows Key Map? </p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":20672368,"reputation":108,"user_id":15177824,"display_name":"JustM"},"score":0,"creation_date":1673594443,"post_id":75095256,"comment_id":132538457,"body_markdown":"Yes exactly, that&#39;s it ! I use Bealdung tutorial with OAuth2 client https://www.baeldung.com/spring-boot-keycloak","body":"Yes exactly, that&#39;s it ! I use Bealdung tutorial with OAuth2 client <a href=\"https://www.baeldung.com/spring-boot-keycloak\" rel=\"nofollow noreferrer\">baeldung.com/spring-boot-keycloak</a>"},{"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"score":0,"creation_date":1673596034,"post_id":75095256,"comment_id":132538882,"body_markdown":"This tutorial is targeting spring-boot 2.x and OAuth2 **client** (Thymeleaf or other server-side rendering framework). It is adapted to neither **resource-servers** (REST APIs) nor spring-boot 3. One positive point is it does not use deprecated Keycloak adapters for spring.","body":"This tutorial is targeting spring-boot 2.x and OAuth2 <b>client</b> (Thymeleaf or other server-side rendering framework). It is adapted to neither <b>resource-servers</b> (REST APIs) nor spring-boot 3. One positive point is it does not use deprecated Keycloak adapters for spring."}],"owner":{"account_id":20672368,"reputation":108,"user_id":15177824,"display_name":"JustM"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1673594453,"answer_count":0,"score":0,"last_activity_date":1673531772,"creation_date":1673521097,"question_id":75095256,"body_markdown":"i have problem with Keycloack 19 implementation for SpringBoot 3. I have checked some tutorials and every thing seems OK, but i get error beacause missing implementation of initi(B) in SecurityConfigurer.\r\n```\r\n  &lt;dependency&gt;\r\n            &lt;groupId&gt;org.keycloak&lt;/groupId&gt;\r\n            &lt;artifactId&gt;keycloak-spring-boot-starter&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.keycloak&lt;/groupId&gt;\r\n            &lt;artifactId&gt;keycloak-spring-security-adapter&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n    &lt;dependencyManagement&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.keycloak.bom&lt;/groupId&gt;\r\n                &lt;artifactId&gt;keycloak-adapter-bom&lt;/artifactId&gt;\r\n                &lt;version&gt;${keycloakVersion}&lt;/version&gt;\r\n                &lt;type&gt;pom&lt;/type&gt;\r\n                &lt;scope&gt;import&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    &lt;/dependencyManagement&gt;\r\n```\r\nAnd, here is my implementation\r\n\r\n```\r\n@Configuration\r\n@EnableWebSecurity\r\n@RequiredArgsConstructor\r\npublic class KeycloakWebSecurityConfig extends KeycloakWebSecurityConfigurerAdapter {\r\n\r\n    @Override\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n        super.configure(http);\r\n        http.csrf()\r\n                .disable()\r\n                .authorizeRequests()\r\n                .anyRequest()\r\n                .authenticated();\r\n        http.csrf().disable();\r\n    }\r\n    @Autowired\r\n    public void configrueGlobal(AuthenticationManagerBuilder auth) throws Exception {\r\n        KeycloakAuthenticationProvider keycloakAuthenticationProvider = keycloakAuthenticationProvider();\r\n        keycloakAuthenticationProvider.setGrantedAuthoritiesMapper(new SimpleAuthorityMapper());\r\n        auth.authenticationProvider(keycloakAuthenticationProvider);\r\n    }\r\n    @Bean\r\n    @Override\r\n    protected SessionAuthenticationStrategy sessionAuthenticationStrategy() {\r\n       return new RegisterSessionAuthenticationStrategy(new SessionRegistryImpl());    }\r\n    @Bean\r\n    public PasswordEncoder passwordEncoder() {\r\n        return new BCryptPasswordEncoder(12);\r\n    }\r\n}\r\n```\r\n[![IJ Error][1]][1]\r\n  [1]: https://i.stack.imgur.com/JEHPR.png","title":"SpringBoot Keycloak missing implementation problem","body":"<p>i have problem with Keycloack 19 implementation for SpringBoot 3. I have checked some tutorials and every thing seems OK, but i get error beacause missing implementation of initi(B) in SecurityConfigurer.</p>\n<pre><code>  &lt;dependency&gt;\n            &lt;groupId&gt;org.keycloak&lt;/groupId&gt;\n            &lt;artifactId&gt;keycloak-spring-boot-starter&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.keycloak&lt;/groupId&gt;\n            &lt;artifactId&gt;keycloak-spring-security-adapter&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.keycloak.bom&lt;/groupId&gt;\n                &lt;artifactId&gt;keycloak-adapter-bom&lt;/artifactId&gt;\n                &lt;version&gt;${keycloakVersion}&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n</code></pre>\n<p>And, here is my implementation</p>\n<pre><code>@Configuration\n@EnableWebSecurity\n@RequiredArgsConstructor\npublic class KeycloakWebSecurityConfig extends KeycloakWebSecurityConfigurerAdapter {\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        super.configure(http);\n        http.csrf()\n                .disable()\n                .authorizeRequests()\n                .anyRequest()\n                .authenticated();\n        http.csrf().disable();\n    }\n    @Autowired\n    public void configrueGlobal(AuthenticationManagerBuilder auth) throws Exception {\n        KeycloakAuthenticationProvider keycloakAuthenticationProvider = keycloakAuthenticationProvider();\n        keycloakAuthenticationProvider.setGrantedAuthoritiesMapper(new SimpleAuthorityMapper());\n        auth.authenticationProvider(keycloakAuthenticationProvider);\n    }\n    @Bean\n    @Override\n    protected SessionAuthenticationStrategy sessionAuthenticationStrategy() {\n       return new RegisterSessionAuthenticationStrategy(new SessionRegistryImpl());    }\n    @Bean\n    public PasswordEncoder passwordEncoder() {\n        return new BCryptPasswordEncoder(12);\n    }\n}\n</code></pre>\n<p>[![IJ Error][1]][1]\n[1]: https://i.stack.imgur.com/JEHPR.png</p>\n"},{"tags":["java","junit","apache-camel"],"comments":[{"owner":{"account_id":1901420,"reputation":3763,"user_id":1717210,"display_name":"TacheDeChoco"},"score":0,"creation_date":1672648804,"post_id":74918918,"comment_id":132318224,"body_markdown":"It seems an empty Camel context (with no route at all) is booted when the test in run. How do you kick in Camel in your unit test ?","body":"It seems an empty Camel context (with no route at all) is booted when the test in run. How do you kick in Camel in your unit test ?"},{"owner":{"account_id":26014900,"reputation":23,"user_id":20825594,"display_name":"John"},"score":0,"creation_date":1672670053,"post_id":74918918,"comment_id":132323718,"body_markdown":"Do we need to mock the route in the test-class? Can we not call the route directly from the service class","body":"Do we need to mock the route in the test-class? Can we not call the route directly from the service class"}],"answers":[{"tags":[],"owner":{"account_id":26037703,"reputation":305,"user_id":19742955,"display_name":"Jai Prakash"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673531208,"creation_date":1673531208,"answer_id":75097281,"question_id":74918918,"body_markdown":" if You want to test routeContext like below:\r\n ```\r\n&lt;camelcontext&gt;\r\n\t&lt;routeContext&gt;\r\n\t\t&lt;route id=&quot;test&quot;&gt;\r\n\t\t\t&lt;from uri=&quot;direct:test&quot;/&gt;\r\n\t\t\t&lt;to uri=&quot;bean:check&quot;/&gt;\r\n\t\t&lt;/route&gt;\r\n\t&lt;/routeContext&gt;\r\n &lt;/camelcontext&gt;\r\n```\r\n \r\n \r\nfollow the test case like this :\r\n \r\n ```\r\n@Test\r\n public void testRoute() throws Exception {\r\n\tRouteDefinition route = context.getRouteDefinition(&quot;test&quot;);\r\n\tAdviceWith.adviceWith(route, context, new AdviceWithRouteBuilder() {\r\n\t\t@Override\r\n\t\tpublic void configure() throws Exception {\r\n\t\t\tweaveAddLast().to(Endpoints.SEDA_SEND_ENDPOINT);\r\n\t\t}\r\n\t});\r\n\t\r\n\tMockEndpoint mockEndpoint =getMockEndpoint(Endpoints.SEDA_SEND_ENDPOINT).expectedMessageCount(1);\r\n\tLeapCoreTestUtils.template.sendBody(&quot;direct:test&quot;, &quot;test message&quot;);\r\n\tmockEndpoint.assertIsSatisfied();\r\n}\r\n```","title":"Getting an issue writing an apache camel test","body":"<p>if You want to test routeContext like below:</p>\n<pre><code>&lt;camelcontext&gt;\n   &lt;routeContext&gt;\n       &lt;route id=&quot;test&quot;&gt;\n           &lt;from uri=&quot;direct:test&quot;/&gt;\n           &lt;to uri=&quot;bean:check&quot;/&gt;\n       &lt;/route&gt;\n   &lt;/routeContext&gt;\n&lt;/camelcontext&gt;\n</code></pre>\n<p>follow the test case like this :</p>\n<pre><code>@Test\npublic void testRoute() throws Exception {\n   RouteDefinition route = context.getRouteDefinition(&quot;test&quot;);\n   AdviceWith.adviceWith(route, context, new AdviceWithRouteBuilder() {\n       @Override\n       public void configure() throws Exception {\n           weaveAddLast().to(Endpoints.SEDA_SEND_ENDPOINT);\n       }\n   });\n   \n   MockEndpoint mockEndpoint =getMockEndpoint(Endpoints.SEDA_SEND_ENDPOINT).expectedMessageCount(1);\n   LeapCoreTestUtils.template.sendBody(&quot;direct:test&quot;, &quot;test message&quot;);\n   mockEndpoint.assertIsSatisfied();\n}\n</code></pre>\n"}],"owner":{"account_id":26014900,"reputation":23,"user_id":20825594,"display_name":"John"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":98,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673531208,"creation_date":1672046520,"question_id":74918918,"body_markdown":"Am writing a test case for for an apache camel route and am getting this error when running it ( stack is pointing the the advice with part of the code for the error.. ) \r\n\r\n\r\n\r\n```\r\n @Test\r\n    public void testRoute() throws Exception {\r\n\r\n    \tAdviceWith.adviceWith(context, Endpoints.SEDA_SEND_ENDPOINT, a -&gt; {\r\n    \t    a.mockEndpoints(Endpoints.SEDA_SEND_ENDPOINT);\r\n    \t});\r\n    //     Set up the expectations for the mock endpoint\r\n\r\n       getMockEndpoint(&quot;mock:&quot; + Endpoints.SEDA_SEND_ENDPOINT).expectedMessageCount(1);\r\n\r\n        // Send a message to the seda:sendMessage endpoint\r\n        template.sendBody(Endpoints.SEDA_SEND_ENDPOINT, &quot;test message&quot;);\r\n\r\n        // Verify that the mock endpoint expectations are met\r\n        assertMockEndpointsSatisfied();\r\n     //   \r\n\r\n\r\n\r\n    }\r\n```\r\n\r\n\r\n&gt;  java.lang.IllegalArgumentException: Cannot advice route as there are no routes\r\n\tat org.apache.camel.builder.AdviceWith.findRouteDefinition(AdviceWith.java:262)\r\n\tat org.apache.camel.builder.AdviceWith.adviceWith(AdviceWith.java:74)\r\n\tat com.sams.pricing.prism.data.processor.CamelRouteTests1.testRoute(CamelRouteTests1.java:26)\r\n\tat java.base/\r\n\r\nHave thought that perhaps the endpoint is written incorrectly but double checked and even wrote it out, still getting the issue \r\n\r\n\r\nSEDA_SEND_ENDPOINT = &quot;seda:sendMessage?blockWhenFull=true&amp;concurrentConsumers=100&quot;","title":"Getting an issue writing an apache camel test","body":"<p>Am writing a test case for for an apache camel route and am getting this error when running it ( stack is pointing the the advice with part of the code for the error.. )</p>\n<pre><code> @Test\n    public void testRoute() throws Exception {\n\n        AdviceWith.adviceWith(context, Endpoints.SEDA_SEND_ENDPOINT, a -&gt; {\n            a.mockEndpoints(Endpoints.SEDA_SEND_ENDPOINT);\n        });\n    //     Set up the expectations for the mock endpoint\n\n       getMockEndpoint(&quot;mock:&quot; + Endpoints.SEDA_SEND_ENDPOINT).expectedMessageCount(1);\n\n        // Send a message to the seda:sendMessage endpoint\n        template.sendBody(Endpoints.SEDA_SEND_ENDPOINT, &quot;test message&quot;);\n\n        // Verify that the mock endpoint expectations are met\n        assertMockEndpointsSatisfied();\n     //   \n\n\n\n    }\n</code></pre>\n<blockquote>\n<p>java.lang.IllegalArgumentException: Cannot advice route as there are no routes\nat org.apache.camel.builder.AdviceWith.findRouteDefinition(AdviceWith.java:262)\nat org.apache.camel.builder.AdviceWith.adviceWith(AdviceWith.java:74)\nat com.sams.pricing.prism.data.processor.CamelRouteTests1.testRoute(CamelRouteTests1.java:26)\nat java.base/</p>\n</blockquote>\n<p>Have thought that perhaps the endpoint is written incorrectly but double checked and even wrote it out, still getting the issue</p>\n<p>SEDA_SEND_ENDPOINT = &quot;seda:sendMessage?blockWhenFull=true&amp;concurrentConsumers=100&quot;</p>\n"},{"tags":["java","postgresql","spring-boot","spring-data-jpa","jsonpath"],"comments":[{"owner":{"account_id":1018432,"reputation":21783,"user_id":1029453,"accept_rate":100,"display_name":"Richard Huxton"},"score":0,"creation_date":1673539866,"post_id":75097265,"comment_id":132526972,"body_markdown":"They just appear to be two arbitrary values you&#39;ve selected. It isn&#39;t that you want multiple results matching one path, you want to be able to specify multilple paths? How would that be different from calling json_path_query multiple times?","body":"They just appear to be two arbitrary values you&#39;ve selected. It isn&#39;t that you want multiple results matching one path, you want to be able to specify multilple paths? How would that be different from calling json_path_query multiple times?"},{"owner":{"account_id":10924793,"reputation":35,"user_id":9309215,"display_name":"Dmitry"},"score":0,"creation_date":1673540127,"post_id":75097265,"comment_id":132527076,"body_markdown":"I need to be able to allow the user to send a list of paths. Other than concatenating them all in a single json-path (which then should be passed to the repo method), I see no other way to produce a dynamic query that would retrieve multiple paths.","body":"I need to be able to allow the user to send a list of paths. Other than concatenating them all in a single json-path (which then should be passed to the repo method), I see no other way to produce a dynamic query that would retrieve multiple paths."}],"owner":{"account_id":10924793,"reputation":35,"user_id":9309215,"display_name":"Dmitry"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673531154,"creation_date":1673531154,"question_id":75097265,"body_markdown":"Given the following JSON example:\r\n\r\n    {\r\n        &quot;root&quot;: {\r\n            &quot;child-1&quot;: {\r\n                &quot;grandchild-1&quot;: &quot;value1&quot;,\r\n                &quot;grandchild-2&quot;: &quot;value2&quot;,\r\n                &quot;grandchild-3&quot;: &quot;value3&quot;\r\n            },\r\n            &quot;child-2&quot;: {\r\n                &quot;grandchild-4&quot;: &quot;value4&quot;,\r\n                &quot;grandchild-5&quot;: {\r\n                    &quot;grandgrandchild-1&quot;: &quot;value5&quot;\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\nHow to build a PostgreSQL query, using (one single) json-path that would return multiple object values?\r\n\r\nE.g., [value3, value5]\r\n\r\nThe closest I came to is the following query:\r\n\r\n    select jsonb_path_query(resp_json, &#39;$.*.child-1.grandchild-3&#39;),\r\n           jsonb_path_query(resp_json, &#39;$.*.child-2.grandchild-5.grandgrandchild-1&#39;)\r\n    from req_resp_body;\r\n\r\nThe obvious issue with this approach is that it requires one jsonb_path_query function call for each object. Given that the incoming nr. of objects is indefinite, this is unusable. \r\n\r\n**Notes**: \r\n- The &#39;*&#39; instead of &#39;root&#39; is on purpose, since the user of the query might not know the actual root name\r\n","title":"How to retrieve multiple objects from PostgreSQL using a single JsonPath","body":"<p>Given the following JSON example:</p>\n<pre><code>{\n    &quot;root&quot;: {\n        &quot;child-1&quot;: {\n            &quot;grandchild-1&quot;: &quot;value1&quot;,\n            &quot;grandchild-2&quot;: &quot;value2&quot;,\n            &quot;grandchild-3&quot;: &quot;value3&quot;\n        },\n        &quot;child-2&quot;: {\n            &quot;grandchild-4&quot;: &quot;value4&quot;,\n            &quot;grandchild-5&quot;: {\n                &quot;grandgrandchild-1&quot;: &quot;value5&quot;\n            }\n        }\n    }\n}\n</code></pre>\n<p>How to build a PostgreSQL query, using (one single) json-path that would return multiple object values?</p>\n<p>E.g., [value3, value5]</p>\n<p>The closest I came to is the following query:</p>\n<pre><code>select jsonb_path_query(resp_json, '$.*.child-1.grandchild-3'),\n       jsonb_path_query(resp_json, '$.*.child-2.grandchild-5.grandgrandchild-1')\nfrom req_resp_body;\n</code></pre>\n<p>The obvious issue with this approach is that it requires one jsonb_path_query function call for each object. Given that the incoming nr. of objects is indefinite, this is unusable.</p>\n<p><strong>Notes</strong>:</p>\n<ul>\n<li>The '*' instead of 'root' is on purpose, since the user of the query might not know the actual root name</li>\n</ul>\n"},{"tags":["java","android","accelerometer"],"answers":[{"tags":[],"owner":{"account_id":26736568,"reputation":3,"user_id":20338061,"display_name":"aremm"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1673531037,"creation_date":1673531037,"answer_id":75097236,"question_id":74207136,"body_markdown":"Just in case someone will ever have a similar question.\r\nFor the problem with gravity, I&#39;ve used Sensor.TYPE_LINEAR_ACCELERATION instead of Sensor.TYPE_ACCELEROMETER.\r\nAnd for noise, I&#39;ve used Kalman Filter from Apache Commons Math.","title":"Calculate moving speed of the phone","body":"<p>Just in case someone will ever have a similar question.\nFor the problem with gravity, I've used Sensor.TYPE_LINEAR_ACCELERATION instead of Sensor.TYPE_ACCELEROMETER.\nAnd for noise, I've used Kalman Filter from Apache Commons Math.</p>\n"}],"owner":{"account_id":26736568,"reputation":3,"user_id":20338061,"display_name":"aremm"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":88,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75097236,"answer_count":1,"score":0,"last_activity_date":1673531037,"creation_date":1666784339,"question_id":74207136,"body_markdown":"I need to calculate the speed with which the android device is moving. I&#39;m interested in cases with short distances where the device would often return to the starting point (like when a user is spinning on the office chair with an extended arm while holding the phone) so GPS is probably not applicable in my situation. How can I do it with an accelerometer? \r\n\r\nI was thinking about something like:\r\n\r\n```\r\ndouble delta_t = current_time - previous_time\r\n\r\ndouble delta_v_x = a_x * delta_t\r\ndouble delta_v_y = a_y * delta_t\r\ndouble delta_v_z = a_z * delta_t\r\n\r\ncurrent_v_x += delta_v_x\r\ncurrent_v_y += delta_v_y\r\ncurrent_v_z += delta_v_z\r\n\r\ndouble v = Math.sqrt(Math.pow(current_v_x, 2) +  Math.pow(current_v_y, 2) +  Math.pow(current_v_z, 2))\r\n```\r\n - Would it work as intended? \r\n - Do I have to take care of gravity too? How to do it if the orientation of the device can change?\r\n - Do I have to somehow remove the noise from acceleration measurements first?\r\n - Can high-pass filter solve both noise and gravity issues?","title":"Calculate moving speed of the phone","body":"<p>I need to calculate the speed with which the android device is moving. I'm interested in cases with short distances where the device would often return to the starting point (like when a user is spinning on the office chair with an extended arm while holding the phone) so GPS is probably not applicable in my situation. How can I do it with an accelerometer?</p>\n<p>I was thinking about something like:</p>\n<pre><code>double delta_t = current_time - previous_time\n\ndouble delta_v_x = a_x * delta_t\ndouble delta_v_y = a_y * delta_t\ndouble delta_v_z = a_z * delta_t\n\ncurrent_v_x += delta_v_x\ncurrent_v_y += delta_v_y\ncurrent_v_z += delta_v_z\n\ndouble v = Math.sqrt(Math.pow(current_v_x, 2) +  Math.pow(current_v_y, 2) +  Math.pow(current_v_z, 2))\n</code></pre>\n<ul>\n<li>Would it work as intended?</li>\n<li>Do I have to take care of gravity too? How to do it if the orientation of the device can change?</li>\n<li>Do I have to somehow remove the noise from acceleration measurements first?</li>\n<li>Can high-pass filter solve both noise and gravity issues?</li>\n</ul>\n"},{"tags":["java","itext","relative-path","html-to-pdf"],"answers":[{"comments":[{"owner":{"account_id":1819529,"reputation":295,"user_id":1653875,"display_name":"Deiva"},"score":0,"creation_date":1363002353,"post_id":15312625,"comment_id":21660861,"body_markdown":"Hi Saksham, Thanks for your reply, Do you have sample code in java? If you have then please share the code. It will help me to finish this task ASAP.","body":"Hi Saksham, Thanks for your reply, Do you have sample code in java? If you have then please share the code. It will help me to finish this task ASAP."}],"tags":[],"owner":{"account_id":2375066,"reputation":9127,"user_id":2078685,"accept_rate":72,"display_name":"Saksham"},"comment_count":1,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1373961817,"creation_date":1362844185,"answer_id":15312625,"question_id":15273933,"body_markdown":"Try getting the image into a memory or byte stream object and then cast that image object to an itextsharp image one.\r\n\r\nexplore the overloads of `iTextSharp.text.Image`\r\n\r\n**EDIT:**\r\n\r\n***Although the code is in C#, it might help you.***\r\n\r\nGet image from your local drive as:\r\n\r\n    Bitmap image1;\r\n    image1 = new Bitmap(@&quot;C:\\Documents and Settings\\All Users\\&quot; \r\n                + @&quot;Documents\\My Music\\music.jpeg&quot;, true);\r\n\r\n**Note:**: If you have the image on your application folder then we have functions to get the local file path of them in C#. Don&#39;t know about Java. Images from external site can be downloaded as\r\n\r\n    System.Net.WebClient client = new WebClient();\r\n    client.DownloadFile(imageURL, localPathname);   // look into java to get local path\r\n\r\nNow convert this byte stream to an image object as\r\n\r\n    MemoryStream imgMemoryStream = new MemoryStream(imgByteArray);\r\n    Image myImage = Drawing.Image.FromStream(imgMemoryStream);\r\n\r\nNow acreate an iTextSharp image object from it and add it to your doucment as\r\n\r\n    iTextSharp.text.Image pic = iTextSharp.text.Image.GetInstance(myImage, System.Drawing.Imaging.ImageFormat.Jpeg);\r\n    document.Add(pic);\r\n\r\nHope this helps you.","title":"iText – HTML to PDF - Image is not displayed in PDF","body":"<p>Try getting the image into a memory or byte stream object and then cast that image object to an itextsharp image one.</p>\n\n<p>explore the overloads of <code>iTextSharp.text.Image</code></p>\n\n<p><strong>EDIT:</strong></p>\n\n<p><em><strong>Although the code is in C#, it might help you.</em></strong></p>\n\n<p>Get image from your local drive as:</p>\n\n<pre><code>Bitmap image1;\nimage1 = new Bitmap(@\"C:\\Documents and Settings\\All Users\\\" \n            + @\"Documents\\My Music\\music.jpeg\", true);\n</code></pre>\n\n<p><strong>Note:</strong>: If you have the image on your application folder then we have functions to get the local file path of them in C#. Don't know about Java. Images from external site can be downloaded as</p>\n\n<pre><code>System.Net.WebClient client = new WebClient();\nclient.DownloadFile(imageURL, localPathname);   // look into java to get local path\n</code></pre>\n\n<p>Now convert this byte stream to an image object as</p>\n\n<pre><code>MemoryStream imgMemoryStream = new MemoryStream(imgByteArray);\nImage myImage = Drawing.Image.FromStream(imgMemoryStream);\n</code></pre>\n\n<p>Now acreate an iTextSharp image object from it and add it to your doucment as</p>\n\n<pre><code>iTextSharp.text.Image pic = iTextSharp.text.Image.GetInstance(myImage, System.Drawing.Imaging.ImageFormat.Jpeg);\ndocument.Add(pic);\n</code></pre>\n\n<p>Hope this helps you.</p>\n"},{"comments":[{"owner":{"account_id":2103622,"reputation":26956,"user_id":1870555,"accept_rate":75,"display_name":"christopher"},"score":0,"creation_date":1373890129,"post_id":17653672,"comment_id":25709558,"body_markdown":"That isn&#39;t even close to a viable answer! Come on, example, references etc!! :D","body":"That isn&#39;t even close to a viable answer! Come on, example, references etc!! :D"},{"owner":{"account_id":2613438,"reputation":4706,"user_id":2263089,"accept_rate":75,"display_name":"Sanjaya Liyanage"},"score":0,"creation_date":1373890370,"post_id":17653672,"comment_id":25709691,"body_markdown":"@Chris : I faced the same problem and achieved it this way. Just thought it will help him, :)","body":"@Chris : I faced the same problem and achieved it this way. Just thought it will help him, :)"},{"owner":{"account_id":2103622,"reputation":26956,"user_id":1870555,"accept_rate":75,"display_name":"christopher"},"score":0,"creation_date":1373895297,"post_id":17653672,"comment_id":25712736,"body_markdown":"Agreed, but I set the bounty because it&#39;s a question that has been largely unanswered on here, and if you want the bounty, could you place show it in more detail.","body":"Agreed, but I set the bounty because it&#39;s a question that has been largely unanswered on here, and if you want the bounty, could you place show it in more detail."},{"owner":{"account_id":1900128,"reputation":1273,"user_id":1716141,"accept_rate":65,"display_name":"Sathesh S"},"score":0,"creation_date":1395633665,"post_id":17653672,"comment_id":34410813,"body_markdown":"Hi @SanjayaLiyanage can you give code for my problem. my image tag will be `&lt;img alt=&quot;&quot; src=&quot;/testing/Image?imageId=9&quot;/&gt; ` where /testing/Image is my servlet mapping URL. How should i re-write the `@RequestMapping(value=&quot;images/{imageId:.+}` Here imageId value will be changing. I used the above code but it&#39;s not working.","body":"Hi @SanjayaLiyanage can you give code for my problem. my image tag will be <code>&lt;img alt=&quot;&quot; src=&quot;&#47;testing&#47;Image?imageId=9&quot;&#47;&gt; </code> where /testing/Image is my servlet mapping URL. How should i re-write the <code>@RequestMapping(value=&quot;images&#47;{imageId:.+}</code> Here imageId value will be changing. I used the above code but it&#39;s not working."}],"tags":[],"owner":{"account_id":2613438,"reputation":4706,"user_id":2263089,"accept_rate":75,"display_name":"Sanjaya Liyanage"},"comment_count":4,"down_vote_count":3,"up_vote_count":7,"is_accepted":false,"score":4,"last_activity_date":1373946909,"creation_date":1373889308,"answer_id":17653672,"question_id":15273933,"body_markdown":"I think you can do it easily using a Servlet for viewing the image. How to write a servlet for this is [here][1]\r\n\r\n\r\n  [1]: http://balusc.blogspot.com/2007/04/imageservlet.html\r\n\r\n\r\nHere a sample dispatcher for you. Just edit the required places as needed\r\n\r\n    @Controller\r\n    public class ImageController extends DispatcherServlet {\r\n    \r\n    \r\n    \r\n        private static final int DEFAULT_BUFFER_SIZE = 10240; // 10KB.\r\n    \r\n        // Properties ---------------------------------------------------------------------------------\r\n    \r\n        private String imagePath;\r\n    \r\n       @RequestMapping(value=&quot;images/{imageId:.+}&quot;, method = RequestMethod.GET)\r\n       public @ResponseBody void getImage(@PathVariable String imageId,HttpServletRequest request, HttpServletResponse response){\r\n        \tString requestedImage = request.getPathInfo();\r\n        \t this.imagePath =&quot;image path in server here&quot;;\r\n    \r\n        \t if (requestedImage == null) {\r\n                 // Do your thing if the image is not supplied to the request URI.\r\n                 // Throw an exception, or send 404, or show default/warning image, or just ignore it.\r\n                 try {\r\n    \t\t\t\tresponse.sendError(HttpServletResponse.SC_NOT_FOUND);\r\n                 }catch(IOException ioException){\r\n         \t\t\tlogger.error(&quot;error image path incorrect:{}&quot;, ioException);\r\n         \t\t\t\r\n         \t\t} // 404.\r\n                 return;\r\n             }\r\n        \t \r\n        \t File image=null;\r\n    \t\ttry {\r\n    \t\t\timage = new File(imagePath, URLDecoder.decode(imageId, &quot;UTF-8&quot;));\r\n    \t\t} catch (UnsupportedEncodingException unsupportedEncodingException) {\r\n    \t\t\tlogger.error(&quot;error image can not decode:{}&quot;, unsupportedEncodingException);\r\n    \t\t\t\r\n    \t\t}\r\n    \r\n             // Check if file actually exists in filesystem.\r\n             if (!image.exists()) {\r\n                 // Do your thing if the file appears to be non-existing.\r\n                 // Throw an exception, or send 404, or show default/warning image, or just ignore it.\r\n                 try {\r\n    \t\t\t\tresponse.sendError(HttpServletResponse.SC_NOT_FOUND);\r\n                 }catch(IOException ioException){\r\n          \t\t\tlogger.error(&quot;error image does not exists:{}&quot;, ioException);\r\n          \t\t\t\r\n          \t\t} // 404.\r\n                 return;\r\n             }\r\n    \r\n             // Get content type by filename.\r\n             String contentType = &quot;jpeg&quot;;\r\n             contentType=&quot;image/&quot;+contentType;\r\n             \r\n             // Init servlet response.\r\n             response.reset();\r\n             response.setBufferSize(DEFAULT_BUFFER_SIZE);\r\n             response.setContentType(contentType);\r\n             response.setHeader(&quot;Content-Length&quot;, String.valueOf(image.length()));\r\n             response.setHeader(&quot;Content-Disposition&quot;, &quot;inline; filename=\\&quot;&quot; + image.getName() + &quot;\\&quot;&quot;);\r\n    \r\n             // Prepare streams.\r\n             BufferedInputStream input = null;\r\n             BufferedOutputStream output = null;\r\n    \r\n             try {\r\n                 // Open streams.\r\n                 try {\r\n    \t\t\t\tinput = new BufferedInputStream(new FileInputStream(image), DEFAULT_BUFFER_SIZE);\r\n    \t\t\t} catch (FileNotFoundException e) {\r\n    \t\t\t\t\r\n          \t\t\tlogger.error(&quot;error creating file input stream to the image file :{}&quot;, e);\r\n          \t\t\t\r\n    \r\n    \t\t\t}\r\n                 try {\r\n    \t\t\t\t\r\n                \t output = new BufferedOutputStream(response.getOutputStream(), DEFAULT_BUFFER_SIZE);\r\n                \t \r\n    \t\t\t} catch (IOException e) {\r\n    \t\t\t\t\r\n    \t\t\t\t\r\n          \t\t\tlogger.error(&quot;error creating output stream to the http response :{}&quot;, e);\r\n          \t\t\t\r\n    \t\t\t}\r\n    \r\n                 // Write file contents to response.\r\n                 byte[] buffer = new byte[DEFAULT_BUFFER_SIZE];\r\n                 int length;\r\n                 try {\r\n    \t\t\t\twhile ((length = input.read(buffer)) &gt; 0) {\r\n    \t\t\t\t     output.write(buffer, 0, length);\r\n    \t\t\t\t }\r\n    \t\t\t} catch (IOException e) {\r\n    \r\n          \t\t\tlogger.error(&quot;error writing the image file to outputstream :{}&quot;, e);\r\n          \t\t\t\r\n    \t\t\t}\r\n             } finally {\r\n                 // Gently close streams.\r\n                 close(output);\r\n                 close(input);\r\n             }\r\n         }\r\n    \r\n         // Helpers (can be refactored to public utility class) ----------------------------------------\r\n    \r\n        \r\n    \t   \r\n    \r\n    private  void close(Closeable resource) {\r\n        if (resource != null) {\r\n            try {\r\n                resource.close();\r\n            } catch (IOException e) {\r\n                // Do your thing with the exception. Print it, log it or mail it.\r\n                logger.error(&quot;error closing resources:{}&quot;, e);\r\n            }\r\n        }\r\n    }\r\n    \r\n    \r\n        \r\n    \r\n    }","title":"iText – HTML to PDF - Image is not displayed in PDF","body":"<p>I think you can do it easily using a Servlet for viewing the image. How to write a servlet for this is <a href=\"http://balusc.blogspot.com/2007/04/imageservlet.html\" rel=\"nofollow\">here</a></p>\n\n<p>Here a sample dispatcher for you. Just edit the required places as needed</p>\n\n<pre><code>@Controller\npublic class ImageController extends DispatcherServlet {\n\n\n\n    private static final int DEFAULT_BUFFER_SIZE = 10240; // 10KB.\n\n    // Properties ---------------------------------------------------------------------------------\n\n    private String imagePath;\n\n   @RequestMapping(value=\"images/{imageId:.+}\", method = RequestMethod.GET)\n   public @ResponseBody void getImage(@PathVariable String imageId,HttpServletRequest request, HttpServletResponse response){\n        String requestedImage = request.getPathInfo();\n         this.imagePath =\"image path in server here\";\n\n         if (requestedImage == null) {\n             // Do your thing if the image is not supplied to the request URI.\n             // Throw an exception, or send 404, or show default/warning image, or just ignore it.\n             try {\n                response.sendError(HttpServletResponse.SC_NOT_FOUND);\n             }catch(IOException ioException){\n                logger.error(\"error image path incorrect:{}\", ioException);\n\n            } // 404.\n             return;\n         }\n\n         File image=null;\n        try {\n            image = new File(imagePath, URLDecoder.decode(imageId, \"UTF-8\"));\n        } catch (UnsupportedEncodingException unsupportedEncodingException) {\n            logger.error(\"error image can not decode:{}\", unsupportedEncodingException);\n\n        }\n\n         // Check if file actually exists in filesystem.\n         if (!image.exists()) {\n             // Do your thing if the file appears to be non-existing.\n             // Throw an exception, or send 404, or show default/warning image, or just ignore it.\n             try {\n                response.sendError(HttpServletResponse.SC_NOT_FOUND);\n             }catch(IOException ioException){\n                logger.error(\"error image does not exists:{}\", ioException);\n\n            } // 404.\n             return;\n         }\n\n         // Get content type by filename.\n         String contentType = \"jpeg\";\n         contentType=\"image/\"+contentType;\n\n         // Init servlet response.\n         response.reset();\n         response.setBufferSize(DEFAULT_BUFFER_SIZE);\n         response.setContentType(contentType);\n         response.setHeader(\"Content-Length\", String.valueOf(image.length()));\n         response.setHeader(\"Content-Disposition\", \"inline; filename=\\\"\" + image.getName() + \"\\\"\");\n\n         // Prepare streams.\n         BufferedInputStream input = null;\n         BufferedOutputStream output = null;\n\n         try {\n             // Open streams.\n             try {\n                input = new BufferedInputStream(new FileInputStream(image), DEFAULT_BUFFER_SIZE);\n            } catch (FileNotFoundException e) {\n\n                logger.error(\"error creating file input stream to the image file :{}\", e);\n\n\n            }\n             try {\n\n                 output = new BufferedOutputStream(response.getOutputStream(), DEFAULT_BUFFER_SIZE);\n\n            } catch (IOException e) {\n\n\n                logger.error(\"error creating output stream to the http response :{}\", e);\n\n            }\n\n             // Write file contents to response.\n             byte[] buffer = new byte[DEFAULT_BUFFER_SIZE];\n             int length;\n             try {\n                while ((length = input.read(buffer)) &gt; 0) {\n                     output.write(buffer, 0, length);\n                 }\n            } catch (IOException e) {\n\n                logger.error(\"error writing the image file to outputstream :{}\", e);\n\n            }\n         } finally {\n             // Gently close streams.\n             close(output);\n             close(input);\n         }\n     }\n\n     // Helpers (can be refactored to public utility class) ----------------------------------------\n\n\n\n\nprivate  void close(Closeable resource) {\n    if (resource != null) {\n        try {\n            resource.close();\n        } catch (IOException e) {\n            // Do your thing with the exception. Print it, log it or mail it.\n            logger.error(\"error closing resources:{}\", e);\n        }\n    }\n}\n\n\n\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2764012,"reputation":720,"user_id":2380275,"accept_rate":50,"display_name":"Dinesh J"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1418370723,"creation_date":1418370723,"answer_id":27439126,"question_id":15273933,"body_markdown":"I also faced to same issue..\r\n\r\nbut it was working with the image absolute path. it seems not working with remote path.\r\nWhat id did here is save the image in temp location of file system and generates pdf , finally delete the image file from temp location.\r\n\r\n\r\n    &lt;img src=&quot;/home/jboss/temp/imgs/img.png&quot;/&gt;","title":"iText – HTML to PDF - Image is not displayed in PDF","body":"<p>I also faced to same issue..</p>\n\n<p>but it was working with the image absolute path. it seems not working with remote path.\nWhat id did here is save the image in temp location of file system and generates pdf , finally delete the image file from temp location.</p>\n\n<pre><code>&lt;img src=\"/home/jboss/temp/imgs/img.png\"/&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":6369613,"reputation":1891,"user_id":4942459,"display_name":"Abdourahmane FALL"},"score":0,"creation_date":1444663359,"post_id":33084674,"comment_id":53985756,"body_markdown":"i use maven project. the import file like","body":"i use maven project. the import file like"}],"tags":[],"owner":{"account_id":6369613,"reputation":1891,"user_id":4942459,"display_name":"Abdourahmane FALL"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1444663283,"creation_date":1444663283,"answer_id":33084674,"question_id":15273933,"body_markdown":"to show image with Itext, you have to Changing the default configuration about Image Provider Like it :\r\ni do it from http://demo.itextsupport.com/xmlworker/itextdoc/flatsite.html\r\n\r\n    public class HtmlToPDF1 {\r\n\t  public static void main(String ... args ) throws DocumentException, IOException {\t   \r\n\t\t  \r\n\t\t  FontFactory.registerDirectories();\r\n\t\t  Document document = new Document();\r\n\t\t  PdfWriter writer = PdfWriter.getInstance(document,\r\n\t\t      new FileOutputStream(&quot;src/test/ressources/mypdf.pdf&quot;));\r\n\t\t  document.open(); HtmlPipelineContext htmlContext = new HtmlPipelineContext(null);\r\n\t\t  htmlContext.setTagFactory(Tags.getHtmlTagProcessorFactory());\r\n\t\t  htmlContext.setImageProvider(new AbstractImageProvider() {\r\n\t\t      public String getImageRootPath() {\r\n\t\t          return &quot;/home/fallphenix/workspace/JAVA/JEE/testHTMLtoPDF/src/test/ressources/&quot;;\r\n\t\t      }\r\n\t\t  }); CSSResolver cssResolver =\r\n\t\t\t    XMLWorkerHelper.getInstance().getDefaultCssResolver(true);\r\n\t\t\tPipeline&lt;?&gt; pipeline =\r\n\t\t\t    new CssResolverPipeline(cssResolver,\r\n\t\t\t            new HtmlPipeline(htmlContext,\r\n\t\t\t                new PdfWriterPipeline(document, writer)));\r\n\t\t\tXMLWorker worker = new XMLWorker(pipeline, true);\r\n\t\t\tXMLParser p = new XMLParser(worker);\r\n\t\t\tp.parse(new FileInputStream(&quot;src/test/ressources/other.html&quot;));\r\n\t\t\tdocument.close();\r\n\t\t\t  System.out.println(&quot;Done.&quot;);\t\t  \r\n\t\t}}\r\n","title":"iText – HTML to PDF - Image is not displayed in PDF","body":"<p>to show image with Itext, you have to Changing the default configuration about Image Provider Like it :\ni do it from <a href=\"http://demo.itextsupport.com/xmlworker/itextdoc/flatsite.html\" rel=\"nofollow\">http://demo.itextsupport.com/xmlworker/itextdoc/flatsite.html</a></p>\n\n<pre><code>public class HtmlToPDF1 {\n  public static void main(String ... args ) throws DocumentException, IOException {    \n\n      FontFactory.registerDirectories();\n      Document document = new Document();\n      PdfWriter writer = PdfWriter.getInstance(document,\n          new FileOutputStream(\"src/test/ressources/mypdf.pdf\"));\n      document.open(); HtmlPipelineContext htmlContext = new HtmlPipelineContext(null);\n      htmlContext.setTagFactory(Tags.getHtmlTagProcessorFactory());\n      htmlContext.setImageProvider(new AbstractImageProvider() {\n          public String getImageRootPath() {\n              return \"/home/fallphenix/workspace/JAVA/JEE/testHTMLtoPDF/src/test/ressources/\";\n          }\n      }); CSSResolver cssResolver =\n            XMLWorkerHelper.getInstance().getDefaultCssResolver(true);\n        Pipeline&lt;?&gt; pipeline =\n            new CssResolverPipeline(cssResolver,\n                    new HtmlPipeline(htmlContext,\n                        new PdfWriterPipeline(document, writer)));\n        XMLWorker worker = new XMLWorker(pipeline, true);\n        XMLParser p = new XMLParser(worker);\n        p.parse(new FileInputStream(\"src/test/ressources/other.html\"));\n        document.close();\n          System.out.println(\"Done.\");        \n    }}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4171099,"reputation":60,"user_id":3418844,"display_name":"sanjiv ranjan"},"score":0,"creation_date":1460039312,"post_id":36479239,"comment_id":60568493,"body_markdown":"htmlContext.setImageProvider(new AbstractImageProvider() {\n\n    public String getImageRootPath() {\n\n        return &quot;src/main/resources/html/&quot;;\n\n    }\n\n});","body":"htmlContext.setImageProvider(new AbstractImageProvider() {      public String getImageRootPath() {          return &quot;src/main/resources/html/&quot;;      }  });"}],"tags":[],"owner":{"account_id":4171099,"reputation":60,"user_id":3418844,"display_name":"sanjiv ranjan"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1512398111,"creation_date":1460039260,"answer_id":36479239,"question_id":15273933,"body_markdown":"Here are some examples: [https://developers.itextpdf.com/examples/xml-worker-itext5/html-images][1]\r\n\r\n  [1]: https://developers.itextpdf.com/examples/xml-worker-itext5/html-images\r\n\r\n    htmlContext.setImageProvider(new AbstractImageProvider() {\r\n        public String getImageRootPath() { return &quot;src/main/resources/html/&quot;; }\r\n    }); \r\n\r\nIf the HTML file you&#39;re parsing is stored in a directory that is different from the working directory, iText won&#39;t be able to create Image objects. We have to supply an implementation of the ImageProvider interface that tells iText what to do if an img tag is encountered. This interface has the following methods:\r\n\r\n    Image retrieve(final String src);\r\n    String getImageRootPath();\r\n    void store(String src, Image img);\r\n    void reset();\r\n\r\nYou can write your own class implementing these four methods, or you can subclass AbstractImageProvider. It is preferred to do the latter. XML Worker will use the store() method of the AbstractImageProvider class to cache all the Image objects that are encountered in a Map. These objects will be reused when the retrieve() method is called for an image with the same src. If you don&#39;t cache images, your PDF will be bloated. The same image bits and bytes will be written to the PDF more than once. The reset() method clears the cache; it is used when an ImageProvider is cloned. Finally, the getImageRootPath() method isn&#39;t implemented. \r\n\r\nIf the HTML file you&#39;re parsing is stored in a directory that is different from the working directory, iText won&#39;t be able to create Image objects. We have to supply an implementation of the ImageProvider interface that tells iText what to do if an img tag is encountered. This interface has the following methods:\r\n\r\n\r\nYou can write your own class implementing these four methods, or you can subclass AbstractImageProvider. It is preferred to do the latter. XML Worker will use the store() method of the AbstractImageProvider class to cache all the Image objects that are encountered in a Map. These objects will be reused when the retrieve() method is called for an image with the same src. If you don&#39;t cache images, your PDF will be bloated. The same image bits and bytes will be written to the PDF more than once. The reset() method clears the cache; it is used when an ImageProvider is cloned. Finally, the getImageRootPath() method isn&#39;t implemented. You have to implement it yourself, as is done in the following snippet:\r\n","title":"iText – HTML to PDF - Image is not displayed in PDF","body":"<p>Here are some examples: <a href=\"https://developers.itextpdf.com/examples/xml-worker-itext5/html-images\" rel=\"nofollow noreferrer\">https://developers.itextpdf.com/examples/xml-worker-itext5/html-images</a></p>\n\n<pre><code>htmlContext.setImageProvider(new AbstractImageProvider() {\n    public String getImageRootPath() { return \"src/main/resources/html/\"; }\n}); \n</code></pre>\n\n<p>If the HTML file you're parsing is stored in a directory that is different from the working directory, iText won't be able to create Image objects. We have to supply an implementation of the ImageProvider interface that tells iText what to do if an img tag is encountered. This interface has the following methods:</p>\n\n<pre><code>Image retrieve(final String src);\nString getImageRootPath();\nvoid store(String src, Image img);\nvoid reset();\n</code></pre>\n\n<p>You can write your own class implementing these four methods, or you can subclass AbstractImageProvider. It is preferred to do the latter. XML Worker will use the store() method of the AbstractImageProvider class to cache all the Image objects that are encountered in a Map. These objects will be reused when the retrieve() method is called for an image with the same src. If you don't cache images, your PDF will be bloated. The same image bits and bytes will be written to the PDF more than once. The reset() method clears the cache; it is used when an ImageProvider is cloned. Finally, the getImageRootPath() method isn't implemented. </p>\n\n<p>If the HTML file you're parsing is stored in a directory that is different from the working directory, iText won't be able to create Image objects. We have to supply an implementation of the ImageProvider interface that tells iText what to do if an img tag is encountered. This interface has the following methods:</p>\n\n<p>You can write your own class implementing these four methods, or you can subclass AbstractImageProvider. It is preferred to do the latter. XML Worker will use the store() method of the AbstractImageProvider class to cache all the Image objects that are encountered in a Map. These objects will be reused when the retrieve() method is called for an image with the same src. If you don't cache images, your PDF will be bloated. The same image bits and bytes will be written to the PDF more than once. The reset() method clears the cache; it is used when an ImageProvider is cloned. Finally, the getImageRootPath() method isn't implemented. You have to implement it yourself, as is done in the following snippet:</p>\n"},{"tags":[],"owner":{"account_id":3826530,"reputation":375,"user_id":3173247,"accept_rate":33,"display_name":"Jitendra Chandani"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673530858,"creation_date":1673530858,"answer_id":75097197,"question_id":15273933,"body_markdown":"I was looking for same requirement and this is what worked for me:\r\n\r\n            HtmlPipelineContext htmlContext = new HtmlPipelineContext(null);\r\n            htmlContext.setTagFactory(Tags.getHtmlTagProcessorFactory());\r\n            htmlContext.setImageProvider(new AbstractImageProvider() {\r\n            public String getImageRootPath() {\r\n                return null;\r\n            }\r\n\r\n            @Override\r\n            public Image retrieve(String src) {\r\n                try {\r\n                    Image img = com.itextpdf.text.Image.getInstance(new URL(src));\r\n                    return Image.getInstance(img);\r\n                } catch (Exception e) {\r\n                    e.printStackTrace();\r\n                }\r\n                return null;\r\n            }\r\n        });","title":"iText – HTML to PDF - Image is not displayed in PDF","body":"<p>I was looking for same requirement and this is what worked for me:</p>\n<pre><code>        HtmlPipelineContext htmlContext = new HtmlPipelineContext(null);\n        htmlContext.setTagFactory(Tags.getHtmlTagProcessorFactory());\n        htmlContext.setImageProvider(new AbstractImageProvider() {\n        public String getImageRootPath() {\n            return null;\n        }\n\n        @Override\n        public Image retrieve(String src) {\n            try {\n                Image img = com.itextpdf.text.Image.getInstance(new URL(src));\n                return Image.getInstance(img);\n            } catch (Exception e) {\n                e.printStackTrace();\n            }\n            return null;\n        }\n    });\n</code></pre>\n"}],"owner":{"account_id":1819529,"reputation":295,"user_id":1653875,"display_name":"Deiva"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32918,"favorite_count":0,"down_vote_count":0,"up_vote_count":21,"answer_count":6,"score":21,"last_activity_date":1673530858,"creation_date":1362667003,"question_id":15273933,"body_markdown":"I have a html page with text, image and I am parsing the HTML content to iText to generate the PDF. In the generated PDF,Included images are not getting displayed and , only the text is getting displayed. \r\n\r\nIf I pass the absolute path like **D:/Deiva/CRs/HTMLPage/article-101-horz.jpg** then the image will get printed. But if I try to print the image from the server like \r\n\r\n`http://localhost:8085/content/dam/article-101-h1.jpg or http://www.google.co.in/intl/en_ALL/images/logos/images_logo_lg.gif` \r\n\r\nthen it is not getting printed in the PDF.\r\n\r\n**NOTE:** I am using **itextpdf-5.2.1.jar** to generate the PDF.\r\n\r\n**My HTML Code (Article.html):**\r\n\r\n    &lt;html&gt;\r\n       &lt;head&gt;\r\n       &lt;/head&gt;\r\n       &lt;body&gt;\t\r\n         &lt;p&gt;Generate PDF with image using iText.&lt;/p&gt;\r\n         &lt;img src=&quot;http://localhost:8085/content/dam/article-10-h1.jpg&quot;&gt;&lt;/img&gt;\r\n         &lt;img src=&quot;http://www.google.co.in/intl/en_ALL/images/logos/imgs_logo_lg.gif&quot;&gt;&lt;/img&gt;\r\n         &lt;img class=&quot;right horz&quot; src=&quot;D:/Deiva/CRs/HTMLPage/article-101-horz.jpg&quot;&gt;&lt;/img&gt;\r\n       &lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\n**I am using the below java code for generating the PDF:**\r\n\r\n    private void createPDF (){\r\n     \r\n      String path = &quot;D:/Deiva/Test.pdf&quot;;\r\n      PdfWriter pdfWriter = null;\r\n       \r\n      //create a new document\r\n      Document document = new Document();\r\n       \r\n      try {\r\n     \r\n       //get Instance of the PDFWriter\r\n       pdfWriter = PdfWriter.getInstance(document, new FileOutputStream(path));\r\n        \r\n       //document header attributes\r\n       document.addAuthor(&quot;betterThanZero&quot;);\r\n       document.addCreationDate();\r\n       document.addProducer();\r\n       document.addCreator(&quot;MySampleCode.com&quot;);\r\n       document.addTitle(&quot;Demo for iText XMLWorker&quot;);\r\n       document.setPageSize(PageSize.LETTER);\r\n     \r\n       //open document\r\n       document.open();\r\n       InputStream is = new             FileInputStream(&quot;D:/Deiva/CRs/Oncology/Phase5/CR1/HTMLPage/Article.html&quot;);\r\n       \r\n       // create new input stream reader\r\n       InputStreamReader isr = new InputStreamReader(is);\r\n       \r\n       //get the XMLWorkerHelper Instance\r\n       XMLWorkerHelper worker = XMLWorkerHelper.getInstance();\r\n       //convert to PDF\r\n       worker.parseXHtml(pdfWriter, document, isr);\r\n        \r\n       //close the document\r\n       document.close();\r\n       //close the writer\r\n       pdfWriter.close();\r\n     \r\n      } catch (Exception e) {\r\n    \t  e.printStackTrace();\r\n      }\r\n     \r\n     }\r\n\r\nPlease suggest a solution to display the image in PDF. \r\n\r\nThanks in advance.\r\n\r\nDeiva","title":"iText – HTML to PDF - Image is not displayed in PDF","body":"<p>I have a html page with text, image and I am parsing the HTML content to iText to generate the PDF. In the generated PDF,Included images are not getting displayed and , only the text is getting displayed. </p>\n\n<p>If I pass the absolute path like <strong>D:/Deiva/CRs/HTMLPage/article-101-horz.jpg</strong> then the image will get printed. But if I try to print the image from the server like </p>\n\n<p><code>http://localhost:8085/content/dam/article-101-h1.jpg or http://www.google.co.in/intl/en_ALL/images/logos/images_logo_lg.gif</code> </p>\n\n<p>then it is not getting printed in the PDF.</p>\n\n<p><strong>NOTE:</strong> I am using <strong>itextpdf-5.2.1.jar</strong> to generate the PDF.</p>\n\n<p><strong>My HTML Code (Article.html):</strong></p>\n\n<pre><code>&lt;html&gt;\n   &lt;head&gt;\n   &lt;/head&gt;\n   &lt;body&gt;   \n     &lt;p&gt;Generate PDF with image using iText.&lt;/p&gt;\n     &lt;img src=\"http://localhost:8085/content/dam/article-10-h1.jpg\"&gt;&lt;/img&gt;\n     &lt;img src=\"http://www.google.co.in/intl/en_ALL/images/logos/imgs_logo_lg.gif\"&gt;&lt;/img&gt;\n     &lt;img class=\"right horz\" src=\"D:/Deiva/CRs/HTMLPage/article-101-horz.jpg\"&gt;&lt;/img&gt;\n   &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p><strong>I am using the below java code for generating the PDF:</strong></p>\n\n<pre><code>private void createPDF (){\n\n  String path = \"D:/Deiva/Test.pdf\";\n  PdfWriter pdfWriter = null;\n\n  //create a new document\n  Document document = new Document();\n\n  try {\n\n   //get Instance of the PDFWriter\n   pdfWriter = PdfWriter.getInstance(document, new FileOutputStream(path));\n\n   //document header attributes\n   document.addAuthor(\"betterThanZero\");\n   document.addCreationDate();\n   document.addProducer();\n   document.addCreator(\"MySampleCode.com\");\n   document.addTitle(\"Demo for iText XMLWorker\");\n   document.setPageSize(PageSize.LETTER);\n\n   //open document\n   document.open();\n   InputStream is = new             FileInputStream(\"D:/Deiva/CRs/Oncology/Phase5/CR1/HTMLPage/Article.html\");\n\n   // create new input stream reader\n   InputStreamReader isr = new InputStreamReader(is);\n\n   //get the XMLWorkerHelper Instance\n   XMLWorkerHelper worker = XMLWorkerHelper.getInstance();\n   //convert to PDF\n   worker.parseXHtml(pdfWriter, document, isr);\n\n   //close the document\n   document.close();\n   //close the writer\n   pdfWriter.close();\n\n  } catch (Exception e) {\n      e.printStackTrace();\n  }\n\n }\n</code></pre>\n\n<p>Please suggest a solution to display the image in PDF. </p>\n\n<p>Thanks in advance.</p>\n\n<p>Deiva</p>\n"},{"tags":["java","log4j","log4j2"],"answers":[{"comments":[{"owner":{"account_id":241953,"reputation":3528,"user_id":513133,"accept_rate":83,"display_name":"Runar Halse"},"score":9,"creation_date":1481791529,"post_id":31670278,"comment_id":69520660,"body_markdown":"this does not add a filename with todays date in the current log file","body":"this does not add a filename with todays date in the current log file"}],"tags":[],"owner":{"account_id":4915334,"reputation":1746,"user_id":3959406,"display_name":"Loganathan Mohanraj"},"comment_count":1,"down_vote_count":3,"up_vote_count":12,"is_accepted":true,"score":9,"last_activity_date":1466663861,"creation_date":1438069543,"answer_id":31670278,"question_id":31670088,"body_markdown":"The pattern should not be given in the attribute &quot;fileName&quot; rather you have to specify the pattern in the attribute &quot;filePattern&quot; as like below.\r\n\r\n    &lt;RollingFile name=&quot;RollingFile&quot; fileName=&quot;${log-path}/filename.log&quot; \r\n    filePattern=&quot;${log-path}/filename-%d{yyyy-MM-dd}-%i.log&quot; &gt;\r\n    ...\r\n    ...\r\n    &lt;/RollingFile&gt;\r\n\r\nThe &quot;%i&quot; is the counter that will be automatically incremented in rollover. \r\n\r\nHope this will help you.","title":"How to add the date timestamp to log4j2 logfiles?","body":"<p>The pattern should not be given in the attribute \"fileName\" rather you have to specify the pattern in the attribute \"filePattern\" as like below.</p>\n\n<pre><code>&lt;RollingFile name=\"RollingFile\" fileName=\"${log-path}/filename.log\" \nfilePattern=\"${log-path}/filename-%d{yyyy-MM-dd}-%i.log\" &gt;\n...\n...\n&lt;/RollingFile&gt;\n</code></pre>\n\n<p>The \"%i\" is the counter that will be automatically incremented in rollover. </p>\n\n<p>Hope this will help you.</p>\n"},{"comments":[{"owner":{"account_id":1096964,"reputation":3884,"user_id":1090360,"accept_rate":84,"display_name":"JackTheKnife"},"score":1,"creation_date":1521811857,"post_id":37915586,"comment_id":85903844,"body_markdown":"It is overwriting old logs with chunk of current date logs. Example: https://stackoverflow.com/questions/49432150/log4j2-overwrites-past-day-log-file","body":"It is overwriting old logs with chunk of current date logs. Example: <a href=\"https://stackoverflow.com/questions/49432150/log4j2-overwrites-past-day-log-file\" title=\"log4j2 overwrites past day log file\">stackoverflow.com/questions/49432150/&hellip;</a>"}],"tags":[],"owner":{"account_id":7365976,"reputation":375,"user_id":5607708,"display_name":"Bishal Gupta"},"comment_count":1,"down_vote_count":0,"up_vote_count":34,"is_accepted":false,"score":34,"last_activity_date":1466402946,"creation_date":1466402946,"answer_id":37915586,"question_id":31670088,"body_markdown":"To append the filename with date, replace %d with below format, i was having the same problem and but got by doing so : \r\n\r\n    &lt;RollingFile name=&quot;APP&quot; fileName=&quot;application-${date:yyyy-MM-dd}.log&quot; /&gt;","title":"How to add the date timestamp to log4j2 logfiles?","body":"<p>To append the filename with date, replace %d with below format, i was having the same problem and but got by doing so : </p>\n\n<pre><code>&lt;RollingFile name=\"APP\" fileName=\"application-${date:yyyy-MM-dd}.log\" /&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4995101,"reputation":614,"user_id":4015967,"accept_rate":75,"display_name":"Will"},"score":1,"creation_date":1569514588,"post_id":58019222,"comment_id":102630435,"body_markdown":"You&#39;ll want to use `${date:yyyy-MM-dd_HH-mm-ss}` for 24 hour time. Other 5am and 5pm both appear as 05.","body":"You&#39;ll want to use <code>${date:yyyy-MM-dd_HH-mm-ss}</code> for 24 hour time. Other 5am and 5pm both appear as 05."}],"tags":[],"owner":{"account_id":7551185,"reputation":1317,"user_id":5732539,"accept_rate":53,"display_name":"Greşanu Emanuel - Vasile"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1568929274,"creation_date":1568929035,"answer_id":58019222,"question_id":31670088,"body_markdown":"Try this:\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;Configuration status=&quot;warn&quot; name=&quot;MyApp&quot; packages=&quot;&quot;&gt;\r\n    \r\n        &lt;Properties&gt;\r\n            &lt;Property name=&quot;log-path&quot;&gt;D:/logs/&lt;/Property&gt;\r\n        &lt;/Properties&gt;\r\n    \r\n        &lt;Appenders&gt;\r\n            \r\n            &lt;RollingFile name=&quot;DebuggerLogger&quot; fileName=&quot;${log-path}CMSAutomation.${date:yyyy-MM-dd_hh-mm-ss}.log&quot; filePattern=&quot;${log-path}/$${date:yyyy-MM}/app-%d{MM-dd-yyyy}-%i.log.gz&quot;&gt;\r\n                &lt;PatternLayout&gt;\r\n                    &lt;Pattern&gt;%d %p %c{1.} [%t] %m%n&lt;/Pattern&gt;\r\n                &lt;/PatternLayout&gt;\r\n                &lt;Policies&gt;\r\n                    &lt;TimeBasedTriggeringPolicy /&gt;\r\n                    &lt;SizeBasedTriggeringPolicy size=&quot;10 MB&quot; /&gt;\r\n                &lt;/Policies&gt;\r\n            &lt;/RollingFile&gt;\r\n    \r\n        &lt;/Appenders&gt;\r\n    \r\n        &lt;Loggers&gt;\r\n            &lt;Root level=&quot;ALL&quot;&gt;\r\n                &lt;AppenderRef ref=&quot;DebuggerLogger&quot;/&gt;\r\n            &lt;/Root&gt;\r\n        &lt;/Loggers&gt;\r\n    \r\n    &lt;/Configuration&gt;","title":"How to add the date timestamp to log4j2 logfiles?","body":"<p>Try this:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;Configuration status=\"warn\" name=\"MyApp\" packages=\"\"&gt;\n\n    &lt;Properties&gt;\n        &lt;Property name=\"log-path\"&gt;D:/logs/&lt;/Property&gt;\n    &lt;/Properties&gt;\n\n    &lt;Appenders&gt;\n\n        &lt;RollingFile name=\"DebuggerLogger\" fileName=\"${log-path}CMSAutomation.${date:yyyy-MM-dd_hh-mm-ss}.log\" filePattern=\"${log-path}/$${date:yyyy-MM}/app-%d{MM-dd-yyyy}-%i.log.gz\"&gt;\n            &lt;PatternLayout&gt;\n                &lt;Pattern&gt;%d %p %c{1.} [%t] %m%n&lt;/Pattern&gt;\n            &lt;/PatternLayout&gt;\n            &lt;Policies&gt;\n                &lt;TimeBasedTriggeringPolicy /&gt;\n                &lt;SizeBasedTriggeringPolicy size=\"10 MB\" /&gt;\n            &lt;/Policies&gt;\n        &lt;/RollingFile&gt;\n\n    &lt;/Appenders&gt;\n\n    &lt;Loggers&gt;\n        &lt;Root level=\"ALL\"&gt;\n            &lt;AppenderRef ref=\"DebuggerLogger\"/&gt;\n        &lt;/Root&gt;\n    &lt;/Loggers&gt;\n\n&lt;/Configuration&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15375039,"reputation":508,"user_id":11092008,"display_name":"Shapur"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1576740399,"creation_date":1576677773,"answer_id":59393714,"question_id":31670088,"body_markdown":"Use `ASizeBasedTriggeringPolicy` class in appender.\r\nYou can even append the current second to the logfile name. `%d{yyyy_MM_dd HH.mm.ss}`\r\n\r\n\r\n\r\n    import org.apache.logging.log4j.core.LogEvent;\r\n    import org.apache.logging.log4j.core.appender.rolling.*;\r\n    import org.apache.logging.log4j.core.config.plugins.Plugin;\r\n    import org.apache.logging.log4j.core.config.plugins.PluginAttribute;\r\n    import org.apache.logging.log4j.core.config.plugins.PluginFactory;\r\n    \r\n    @Plugin(name = &quot;ASizeBasedTriggeringPolicy&quot;,\r\n            category = &quot;Core&quot;,\r\n            printObject = true\r\n    )\r\n    public class ASizeBasedTriggeringPolicy extends AbstractTriggeringPolicy {\r\n        private SizeBasedTriggeringPolicy sizeBasedTriggeringPolicy;\r\n        private RollingFileManager aManager;\r\n    \r\n        protected ASizeBasedTriggeringPolicy(String maxFileSize) {\r\n            sizeBasedTriggeringPolicy = SizeBasedTriggeringPolicy.createPolicy(maxFileSize);\r\n    \r\n        }\r\n    \r\n        public void initialize(RollingFileManager aManager) {\r\n            sizeBasedTriggeringPolicy.initialize(aManager);\r\n            this.aManager = aManager;\r\n        }\r\n    \r\n        public boolean isTriggeringEvent(LogEvent event) {\r\n            if (sizeBasedTriggeringPolicy.isTriggeringEvent(event)) {\r\n                aManager.getPatternProcessor().setPrevFileTime(System.currentTimeMillis());\r\n                return true;\r\n            } else {\r\n                return false;\r\n            }\r\n        }\r\n    \r\n        @PluginFactory\r\n        public static ASizeBasedTriggeringPolicy createPolicy(@PluginAttribute(&quot;size&quot;) String size) {\r\n            return new ASizeBasedTriggeringPolicy(size);\r\n        }\r\n    }\r\n\r\n\r\nThen use `ASizeBasedTriggeringPolicy` in log appender\r\n\r\n\r\n    &lt;RollingFile name=&quot;complete-log&quot; fileName=&quot;${log-path}/complete-${date:yyyy_MM_dd HH.mm.ss} .log&quot; \r\n                     filePattern=&quot;${log-path}/app-complete-%d{yyyy_MM_dd HH.mm.ss} - %i.log&quot; &gt;\r\n        ...\r\n        ... \r\n        &lt;Policies&gt;\r\n             &lt;ASizeBasedTriggeringPolicy size=&quot;200 kB&quot;  /&gt;\r\n        &lt;/Policies&gt;\r\n    &lt;/RollingFile&gt;","title":"How to add the date timestamp to log4j2 logfiles?","body":"<p>Use <code>ASizeBasedTriggeringPolicy</code> class in appender.\nYou can even append the current second to the logfile name. <code>%d{yyyy_MM_dd HH.mm.ss}</code></p>\n\n<pre><code>import org.apache.logging.log4j.core.LogEvent;\nimport org.apache.logging.log4j.core.appender.rolling.*;\nimport org.apache.logging.log4j.core.config.plugins.Plugin;\nimport org.apache.logging.log4j.core.config.plugins.PluginAttribute;\nimport org.apache.logging.log4j.core.config.plugins.PluginFactory;\n\n@Plugin(name = \"ASizeBasedTriggeringPolicy\",\n        category = \"Core\",\n        printObject = true\n)\npublic class ASizeBasedTriggeringPolicy extends AbstractTriggeringPolicy {\n    private SizeBasedTriggeringPolicy sizeBasedTriggeringPolicy;\n    private RollingFileManager aManager;\n\n    protected ASizeBasedTriggeringPolicy(String maxFileSize) {\n        sizeBasedTriggeringPolicy = SizeBasedTriggeringPolicy.createPolicy(maxFileSize);\n\n    }\n\n    public void initialize(RollingFileManager aManager) {\n        sizeBasedTriggeringPolicy.initialize(aManager);\n        this.aManager = aManager;\n    }\n\n    public boolean isTriggeringEvent(LogEvent event) {\n        if (sizeBasedTriggeringPolicy.isTriggeringEvent(event)) {\n            aManager.getPatternProcessor().setPrevFileTime(System.currentTimeMillis());\n            return true;\n        } else {\n            return false;\n        }\n    }\n\n    @PluginFactory\n    public static ASizeBasedTriggeringPolicy createPolicy(@PluginAttribute(\"size\") String size) {\n        return new ASizeBasedTriggeringPolicy(size);\n    }\n}\n</code></pre>\n\n<p>Then use <code>ASizeBasedTriggeringPolicy</code> in log appender</p>\n\n<pre><code>&lt;RollingFile name=\"complete-log\" fileName=\"${log-path}/complete-${date:yyyy_MM_dd HH.mm.ss} .log\" \n                 filePattern=\"${log-path}/app-complete-%d{yyyy_MM_dd HH.mm.ss} - %i.log\" &gt;\n    ...\n    ... \n    &lt;Policies&gt;\n         &lt;ASizeBasedTriggeringPolicy size=\"200 kB\"  /&gt;\n    &lt;/Policies&gt;\n&lt;/RollingFile&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4980140,"reputation":3385,"user_id":4005379,"accept_rate":64,"display_name":"Alferd Nobel"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1588894518,"creation_date":1588890910,"answer_id":61668922,"question_id":31670088,"body_markdown":"In yaml check the Property `filePattern` defined as `&quot;${date:yyyy-MM-dd}&quot;`, which helps to tag the date. If you are interested to tag the `HOSTNAME` environment variable to date then : `&quot;${env:HOST}-${date:yyyy-MM-dd}&quot;`\r\n \r\n\r\n    Properties:\r\n        Property:\r\n          - name: log-path\r\n            value: &quot;logs&quot;\r\n          - name:  filePattern\r\n            value: &quot;${date:yyyy-MM-dd}&quot;\r\n\r\n      Appenders:\r\n    \r\n        Console:\r\n          name: Console_Appender\r\n          target: SYSTEM_OUT\r\n          PatternLayout:\r\n            pattern: &quot;[%-5level] %d{yyyy-MM-dd HH:mm:ss.SSS} [%t] %c{1} - %msg%n&quot;\r\n    \r\n        File:\r\n          name: File_Appender\r\n          fileName: &quot;${log-path}/filelog-${filePattern}.log&quot;\r\n          \r\n          PatternLayout:\r\n            pattern: &quot;[%-5level] %d{yyyy-MM-dd HH:mm:ss.SSS} [%t] %c{1} - %msg%n&quot;\r\n            \r\n        RollingFile:\r\n          - name: RollingFile_Appender\r\n            fileName: &quot;${log-path}/rollingfile-${filePattern}.log&quot;\r\n            filePattern: &quot;logs/archive/rollingfile.log.%d{yyyy-MM-dd-hh-mm}.gz&quot;\r\n            PatternLayout:\r\n              pattern: &quot;[%-5level] %d{yyyy-MM-dd HH:mm:ss.SSS} [%t] %c{1} - %msg%n&quot;","title":"How to add the date timestamp to log4j2 logfiles?","body":"<p>In yaml check the Property <code>filePattern</code> defined as <code>\"${date:yyyy-MM-dd}\"</code>, which helps to tag the date. If you are interested to tag the <code>HOSTNAME</code> environment variable to date then : <code>\"${env:HOST}-${date:yyyy-MM-dd}\"</code></p>\n\n<pre><code>Properties:\n    Property:\n      - name: log-path\n        value: \"logs\"\n      - name:  filePattern\n        value: \"${date:yyyy-MM-dd}\"\n\n  Appenders:\n\n    Console:\n      name: Console_Appender\n      target: SYSTEM_OUT\n      PatternLayout:\n        pattern: \"[%-5level] %d{yyyy-MM-dd HH:mm:ss.SSS} [%t] %c{1} - %msg%n\"\n\n    File:\n      name: File_Appender\n      fileName: \"${log-path}/filelog-${filePattern}.log\"\n\n      PatternLayout:\n        pattern: \"[%-5level] %d{yyyy-MM-dd HH:mm:ss.SSS} [%t] %c{1} - %msg%n\"\n\n    RollingFile:\n      - name: RollingFile_Appender\n        fileName: \"${log-path}/rollingfile-${filePattern}.log\"\n        filePattern: \"logs/archive/rollingfile.log.%d{yyyy-MM-dd-hh-mm}.gz\"\n        PatternLayout:\n          pattern: \"[%-5level] %d{yyyy-MM-dd HH:mm:ss.SSS} [%t] %c{1} - %msg%n\"\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27510057,"reputation":11,"user_id":20992126,"display_name":"Ankit Kumar"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673530796,"creation_date":1673530796,"answer_id":75097182,"question_id":31670088,"body_markdown":"To show the date with the time timestamp to log4j2 file then add in log4j2.property file like:\r\n `appender.file.fileName=${filename}/app-${date:yyyy-MM-dd-hh-mm-ss}.log`","title":"How to add the date timestamp to log4j2 logfiles?","body":"<p>To show the date with the time timestamp to log4j2 file then add in log4j2.property file like:\n<code>appender.file.fileName=${filename}/app-${date:yyyy-MM-dd-hh-mm-ss}.log</code></p>\n"}],"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":24728,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"accepted_answer_id":31670278,"answer_count":6,"score":13,"last_activity_date":1673530796,"creation_date":1438068863,"question_id":31670088,"body_markdown":"I want to create day dependent logfiles with `log4j2`:\r\n\r\n    &lt;RollingFile name=&quot;APP&quot; fileName=&quot;application-%d{yyyy-MM-dd}.log&quot; /&gt;\r\n\r\nResulting logfile name: `application-%d{yyyy-MM-dd}.log`, the timestamp is not replaced. Why?","title":"How to add the date timestamp to log4j2 logfiles?","body":"<p>I want to create day dependent logfiles with <code>log4j2</code>:</p>\n\n<pre><code>&lt;RollingFile name=\"APP\" fileName=\"application-%d{yyyy-MM-dd}.log\" /&gt;\n</code></pre>\n\n<p>Resulting logfile name: <code>application-%d{yyyy-MM-dd}.log</code>, the timestamp is not replaced. Why?</p>\n"},{"tags":["java","android","firebase","firebase-realtime-database"],"comments":[{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":1,"creation_date":1673522531,"post_id":75095505,"comment_id":132520507,"body_markdown":"To understand better, do you need to update all children that exist under the `1234` node? Is that correct?","body":"To understand better, do you need to update all children that exist under the <code>1234</code> node? Is that correct?"},{"owner":{"account_id":27152804,"reputation":29,"user_id":20692036,"display_name":"Raunak Seth"},"score":0,"creation_date":1673525899,"post_id":75095505,"comment_id":132521652,"body_markdown":"Yes I want to edit all the children under the 1234 node","body":"Yes I want to edit all the children under the 1234 node"}],"answers":[{"comments":[{"owner":{"account_id":27152804,"reputation":29,"user_id":20692036,"display_name":"Raunak Seth"},"score":0,"creation_date":1673527803,"post_id":75096438,"comment_id":132522292,"body_markdown":"Thank You so much for helping me. You have been a lifesaver! But I wanted to know what exactly I was doing wrong. For example, some things I notice straight away are I call a reference to FirebaseDatabase as                                                                   \n                FirebaseDatabase firebaseDatabase=FirebaseDatabase.getInstance();           \n instead of                                                                                                     \n      DatabaseReference dbref=FirebaseDatabase.getInstance().getReference();","body":"Thank You so much for helping me. You have been a lifesaver! But I wanted to know what exactly I was doing wrong. For example, some things I notice straight away are I call a reference to FirebaseDatabase as                                                                                    FirebaseDatabase firebaseDatabase=FirebaseDatabase.getInstance();             instead of                                                                                                            DatabaseReference dbref=FirebaseDatabase.getInstance().getReference();"},{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":1,"creation_date":1673589929,"post_id":75096438,"comment_id":132537595,"body_markdown":"Yes, that was one, and the omission of the call to `.child(&quot;RegId&quot;).child(regid)`.","body":"Yes, that was one, and the omission of the call to <code>.child(&quot;RegId&quot;).child(regid)</code>."}],"tags":[],"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1673527037,"creation_date":1673527037,"answer_id":75096438,"question_id":75095505,"body_markdown":"To be able to update all children under a particular node, for instance, `1234`, you have to pass to the following method, `1234` as the first argument:\r\n\r\n    private void updateDatatoFirebase(String regid, String doctor_name, String city,String speciality) {\r\n        Map&lt;String, Object&gt; update=new HashMap&lt;&gt;();\r\n        update.put(&quot;doctor&quot;,doctor_name);\r\n        update.put(&quot;city&quot;,city);\r\n        update.put(&quot;speciality&quot;,speciality);\r\n\r\n        DatabaseReference dbref=FirebaseDatabase.getInstance().getReference();\r\n        dbref.child(&quot;RegId&quot;).child(regid).addListenerForSingleValueEvent(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n                for (DataSnapshot ds : snapshot.getChildren()){\r\n                    ds.getRef().updateChildren(update).addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {\r\n                        @Override\r\n                        public void onComplete(@NonNull Task&lt;Void&gt; task) {\r\n                            if (task.isSuccessful()) {\r\n                                Toast.makeText(need_help.this, &quot;Data in Database updated&quot;, Toast.LENGTH_SHORT).show();\r\n                            } else {\r\n                                Toast.makeText(need_help.this, &quot;Failed with an error: &quot; + task.getException().getMessage(), Toast.LENGTH_SHORT).show();\r\n                            }\r\n                        }\r\n                    });\r\n                    \r\n                }\r\n            }\r\n\r\n            @Override\r\n            public void onCancelled(@NonNull DatabaseError error) {\r\n                Toast.makeText(need_help.this, &quot;Fail to add data &quot; + error, Toast.LENGTH_SHORT).show();\r\n            }\r\n        });\r\n    }\r\n\r\nThings to notice:\r\n\r\n* I have added two extra calls `.child(&quot;RegId&quot;)` and `.child(regid)` call right after the root reference.\r\n* I have used the `ds` to call `getRef()` and then `.updateChildren(update)`.\r\n* I have attached a listener to see if something goes wrong when updating the children under `1234`.","title":"How to retrieve data from Firebase in android RealTimeDatabase to update on the basis of regid","body":"<p>To be able to update all children under a particular node, for instance, <code>1234</code>, you have to pass to the following method, <code>1234</code> as the first argument:</p>\n<pre><code>private void updateDatatoFirebase(String regid, String doctor_name, String city,String speciality) {\n    Map&lt;String, Object&gt; update=new HashMap&lt;&gt;();\n    update.put(&quot;doctor&quot;,doctor_name);\n    update.put(&quot;city&quot;,city);\n    update.put(&quot;speciality&quot;,speciality);\n\n    DatabaseReference dbref=FirebaseDatabase.getInstance().getReference();\n    dbref.child(&quot;RegId&quot;).child(regid).addListenerForSingleValueEvent(new ValueEventListener() {\n        @Override\n        public void onDataChange(@NonNull DataSnapshot snapshot) {\n            for (DataSnapshot ds : snapshot.getChildren()){\n                ds.getRef().updateChildren(update).addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {\n                    @Override\n                    public void onComplete(@NonNull Task&lt;Void&gt; task) {\n                        if (task.isSuccessful()) {\n                            Toast.makeText(need_help.this, &quot;Data in Database updated&quot;, Toast.LENGTH_SHORT).show();\n                        } else {\n                            Toast.makeText(need_help.this, &quot;Failed with an error: &quot; + task.getException().getMessage(), Toast.LENGTH_SHORT).show();\n                        }\n                    }\n                });\n                \n            }\n        }\n\n        @Override\n        public void onCancelled(@NonNull DatabaseError error) {\n            Toast.makeText(need_help.this, &quot;Fail to add data &quot; + error, Toast.LENGTH_SHORT).show();\n        }\n    });\n}\n</code></pre>\n<p>Things to notice:</p>\n<ul>\n<li>I have added two extra calls <code>.child(&quot;RegId&quot;)</code> and <code>.child(regid)</code> call right after the root reference.</li>\n<li>I have used the <code>ds</code> to call <code>getRef()</code> and then <code>.updateChildren(update)</code>.</li>\n<li>I have attached a listener to see if something goes wrong when updating the children under <code>1234</code>.</li>\n</ul>\n"}],"owner":{"account_id":27152804,"reputation":29,"user_id":20692036,"display_name":"Raunak Seth"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75096438,"answer_count":1,"score":0,"last_activity_date":1673530702,"creation_date":1673522217,"question_id":75095505,"body_markdown":"I want to retrieve data from my Realtime Database server[![][1]][1] so that I can update values based on the reg-id (stored this as a child string, not as Auth) I have saved for the user.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/H5Z9X.png\r\nI have done this till now\r\n\r\n\r\n \r\n        private void updateDatatoFirebase(String regid, String doctor_name, String city,String speciality) {\r\n        Map&lt;String, Object&gt; update=new HashMap&lt;&gt;();\r\n        update.put(&quot;doctor&quot;,doctor_name);\r\n        update.put(&quot;city&quot;,city);\r\n        update.put(&quot;speciality&quot;,speciality);\r\n\r\n        DatabaseReference dbref=FirebaseDatabase.getInstance().getReference();\r\n        dbref.addListenerForSingleValueEvent(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n                \r\n                for (DataSnapshot ds : snapshot.getChildren()){\r\n                    key = snapshot.getKey();\r\n\r\n\r\n                    if(checkid.equalsIgnoreCase(regid))\r\n                    {\r\n                        dbref.updateChildren(update);\r\n                        Toast.makeText(need_help.this, &quot;Data in Database updated&quot;, Toast.LENGTH_SHORT).show();\r\n                    }\r\n\r\n                    else\r\n                        Toast.makeText(need_help.this, &quot;No such id found&quot;, Toast.LENGTH_SHORT).show();\r\n                   \r\n                }\r\n            }\r\n\r\n            @Override\r\n            public void onCancelled(@NonNull DatabaseError error) {\r\n               \r\n                Toast.makeText(need_help.this, &quot;Fail to add data &quot; + error, Toast.LENGTH_SHORT).show();\r\n            }\r\n        });\r\n    }\r\n\r\nto update but it won&#39;t update\r\nand I have saved data like this\r\n\r\n\r\n    private void addDatatoFirebase(String regid, String doctor_name, String city,String speciality) {\r\n        \r\n        root=firebaseDatabase.getReference().child(&quot;RegId&quot;).child(regid);\r\n        HashMap&lt;String, String&gt; usermap=new HashMap&lt;&gt;();\r\n        usermap.put(&quot;doctor&quot;,doctor_name);\r\n        usermap.put(&quot;city&quot;,city);\r\n        usermap.put(&quot;speciality&quot;,speciality);\r\n        root.addListenerForSingleValueEvent(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n               \r\n                root.push().setValue(usermap);\r\n\r\n                \r\n                Toast.makeText(need_help.this, &quot;Data in Database updated&quot;, Toast.LENGTH_SHORT).show();\r\n            }\r\n\r\n            @Override\r\n            public void onCancelled(@NonNull DatabaseError error) {\r\n              \r\n                Toast.makeText(need_help.this, &quot;Fail to add data &quot; + error, Toast.LENGTH_SHORT).show();\r\n            }\r\n        });\r\n\r\n","title":"How to retrieve data from Firebase in android RealTimeDatabase to update on the basis of regid","body":"<p>I want to retrieve data from my Realtime Database server<a href=\"https://i.stack.imgur.com/H5Z9X.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/H5Z9X.png\" alt=\"\" /></a> so that I can update values based on the reg-id (stored this as a child string, not as Auth) I have saved for the user.</p>\n<p>I have done this till now</p>\n<pre><code>    private void updateDatatoFirebase(String regid, String doctor_name, String city,String speciality) {\n    Map&lt;String, Object&gt; update=new HashMap&lt;&gt;();\n    update.put(&quot;doctor&quot;,doctor_name);\n    update.put(&quot;city&quot;,city);\n    update.put(&quot;speciality&quot;,speciality);\n\n    DatabaseReference dbref=FirebaseDatabase.getInstance().getReference();\n    dbref.addListenerForSingleValueEvent(new ValueEventListener() {\n        @Override\n        public void onDataChange(@NonNull DataSnapshot snapshot) {\n            \n            for (DataSnapshot ds : snapshot.getChildren()){\n                key = snapshot.getKey();\n\n\n                if(checkid.equalsIgnoreCase(regid))\n                {\n                    dbref.updateChildren(update);\n                    Toast.makeText(need_help.this, &quot;Data in Database updated&quot;, Toast.LENGTH_SHORT).show();\n                }\n\n                else\n                    Toast.makeText(need_help.this, &quot;No such id found&quot;, Toast.LENGTH_SHORT).show();\n               \n            }\n        }\n\n        @Override\n        public void onCancelled(@NonNull DatabaseError error) {\n           \n            Toast.makeText(need_help.this, &quot;Fail to add data &quot; + error, Toast.LENGTH_SHORT).show();\n        }\n    });\n}\n</code></pre>\n<p>to update but it won't update\nand I have saved data like this</p>\n<pre><code>private void addDatatoFirebase(String regid, String doctor_name, String city,String speciality) {\n    \n    root=firebaseDatabase.getReference().child(&quot;RegId&quot;).child(regid);\n    HashMap&lt;String, String&gt; usermap=new HashMap&lt;&gt;();\n    usermap.put(&quot;doctor&quot;,doctor_name);\n    usermap.put(&quot;city&quot;,city);\n    usermap.put(&quot;speciality&quot;,speciality);\n    root.addListenerForSingleValueEvent(new ValueEventListener() {\n        @Override\n        public void onDataChange(@NonNull DataSnapshot snapshot) {\n           \n            root.push().setValue(usermap);\n\n            \n            Toast.makeText(need_help.this, &quot;Data in Database updated&quot;, Toast.LENGTH_SHORT).show();\n        }\n\n        @Override\n        public void onCancelled(@NonNull DatabaseError error) {\n          \n            Toast.makeText(need_help.this, &quot;Fail to add data &quot; + error, Toast.LENGTH_SHORT).show();\n        }\n    });\n</code></pre>\n"},{"tags":["java","servlets","jakarta-migration"],"comments":[{"owner":{"account_id":52822,"reputation":1089035,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":0,"creation_date":1671478938,"post_id":74855224,"comment_id":132103857,"body_markdown":"See &quot;javax.servlet.* doesn&#39;t work anymore in Servlet 5.0 or newer&quot; section of abovelinked duplicate.","body":"See &quot;javax.servlet.* doesn&#39;t work anymore in Servlet 5.0 or newer&quot; section of abovelinked duplicate."},{"owner":{"account_id":20961189,"reputation":1,"user_id":15400591,"display_name":"mohammed djefaflia"},"score":0,"creation_date":1671479324,"post_id":74855224,"comment_id":132103959,"body_markdown":"i am not using javax.servlet  i am using jakarta.servlet","body":"i am not using javax.servlet  i am using jakarta.servlet"},{"owner":{"account_id":52822,"reputation":1089035,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":0,"creation_date":1671480937,"post_id":74855224,"comment_id":132104371,"body_markdown":"I know. The section contains clues and a link how to correctly use it. It works both ways. javax.servlet doesn&#39;t work when you run on server which implements jakarta.servlet or when you blindly put javax.servlet classes in runtime classpath, and from the other side on jakarta.servlet doesn&#39;t work when you run on server which implements javax.servlet or when you blindly put jakarta.servlet classes in runtime classpath. See thus the link in that section for an in depth explanation what exactly Tomcat is and how to properly configure pom.xml for it.","body":"I know. The section contains clues and a link how to correctly use it. It works both ways. javax.servlet doesn&#39;t work when you run on server which implements jakarta.servlet or when you blindly put javax.servlet classes in runtime classpath, and from the other side on jakarta.servlet doesn&#39;t work when you run on server which implements javax.servlet or when you blindly put jakarta.servlet classes in runtime classpath. See thus the link in that section for an in depth explanation what exactly Tomcat is and how to properly configure pom.xml for it."}],"owner":{"account_id":20961189,"reputation":1,"user_id":15400591,"display_name":"mohammed djefaflia"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1671478673,"answer_count":0,"score":0,"last_activity_date":1673530302,"creation_date":1671478457,"question_id":74855224,"body_markdown":"i am trying to learn about servlet from a tutorial  I use intellij and this is the structure of the            default project\r\n      [project structure](https://i.stack.imgur.com/3cXqh.png)\r\n\r\nwhen i try to send a request to the \r\n      ```HelloServlet```\r\ni get this error \r\n     [error](https://i.stack.imgur.com/OksI2.png)\r\n\r\n\r\n\r\n\r\nthis is the structure of the servlet \r\n    [HelloServlet](https://i.stack.imgur.com/2xmaI.png)\r\nand this is the pattern of the servlet in **web.xml** file \r\n   \r\n\r\n\r\n```\r\n&lt;servlet&gt;\r\n    &lt;servlet-name&gt;home&lt;/servlet-name&gt;\r\n    &lt;servlet-class&gt;com.example.HelloServlet&lt;/servlet-class&gt;\r\n&lt;/servlet&gt;\r\n\r\n&lt;servlet-mapping&gt;\r\n    &lt;servlet-name&gt;home&lt;/servlet-name&gt;\r\n    &lt;url-pattern&gt;/home&lt;/url-pattern&gt;\r\n&lt;/servlet-mapping&gt;\r\n```\r\n\r\nthe project contain only what I did mention before \r\nand this the URL that I am using to request the servlet\r\n\r\n`http://localhost:8080/demo2_war_exploded/home`\r\n   \r\nalso the `init()`\r\n function does not get executed \r\n\r\n\r\n\r\n\r\n","title":"Error instantiating servlet class [com.example.HelloServlet] caused by java.lang.NoClassDefFoundError: jakarta/servlet/http/HttpServlet","body":"<p>i am trying to learn about servlet from a tutorial  I use intellij and this is the structure of the            default project\n<a href=\"https://i.stack.imgur.com/3cXqh.png\" rel=\"nofollow noreferrer\">project structure</a></p>\n<p>when i try to send a request to the\n<code>HelloServlet</code>\ni get this error\n<a href=\"https://i.stack.imgur.com/OksI2.png\" rel=\"nofollow noreferrer\">error</a></p>\n<p>this is the structure of the servlet\n<a href=\"https://i.stack.imgur.com/2xmaI.png\" rel=\"nofollow noreferrer\">HelloServlet</a>\nand this is the pattern of the servlet in <strong>web.xml</strong> file</p>\n<pre><code>&lt;servlet&gt;\n    &lt;servlet-name&gt;home&lt;/servlet-name&gt;\n    &lt;servlet-class&gt;com.example.HelloServlet&lt;/servlet-class&gt;\n&lt;/servlet&gt;\n\n&lt;servlet-mapping&gt;\n    &lt;servlet-name&gt;home&lt;/servlet-name&gt;\n    &lt;url-pattern&gt;/home&lt;/url-pattern&gt;\n&lt;/servlet-mapping&gt;\n</code></pre>\n<p>the project contain only what I did mention before\nand this the URL that I am using to request the servlet</p>\n<p><code>http://localhost:8080/demo2_war_exploded/home</code></p>\n<p>also the <code>init()</code>\nfunction does not get executed</p>\n"},{"tags":["java","string","double"],"comments":[{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":0,"creation_date":1547037676,"post_id":54110280,"comment_id":95052849,"body_markdown":"You&#39;re asking two different questions here. One of them is a duplicate of [What is the difference between Double.parseDouble(String) and Double.valueOf(String)?](https://stackoverflow.com/questions/10577610/what-is-the-difference-between-double-parsedoublestring-and-double-valueofstr). Please restrict yourself to one question per question.","body":"You&#39;re asking two different questions here. One of them is a duplicate of <a href=\"https://stackoverflow.com/questions/10577610/what-is-the-difference-between-double-parsedoublestring-and-double-valueofstr\">What is the difference between Double.parseDouble(String) and Double.valueOf(String)?</a>. Please restrict yourself to one question per question."}],"answers":[{"tags":[],"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"comment_count":0,"down_vote_count":1,"up_vote_count":4,"is_accepted":true,"score":3,"last_activity_date":1673529609,"creation_date":1547037654,"answer_id":54110413,"question_id":54110280,"body_markdown":"Neither method makes any difference. Both will throw a `NullPointerExecption`. Instead, you need to add a helper method which returns a `Double` e.g.\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    static Double parseDouble(String s) {\r\n        return s == null ? null : Double.parseDouble(s);\r\n    }\r\n\r\nor you can return a `double` by having a default value\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    static double parseDouble(String s, double otherwise) {\r\n        return s == null ? otherwise : Double.parseDouble(s);\r\n    }\r\n\r\na suitable value might be `Double.NaN`\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    static double parseDouble(String s) {\r\n        return s == null ? Double.NaN : Double.parseDouble(s);\r\n    }\r\n","title":"Parse String to Double with null values","body":"<p>Neither method makes any difference. Both will throw a <code>NullPointerExecption</code>. Instead, you need to add a helper method which returns a <code>Double</code> e.g.</p>\n<pre class=\"lang-java prettyprint-override\"><code>static Double parseDouble(String s) {\n    return s == null ? null : Double.parseDouble(s);\n}\n</code></pre>\n<p>or you can return a <code>double</code> by having a default value</p>\n<pre class=\"lang-java prettyprint-override\"><code>static double parseDouble(String s, double otherwise) {\n    return s == null ? otherwise : Double.parseDouble(s);\n}\n</code></pre>\n<p>a suitable value might be <code>Double.NaN</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>static double parseDouble(String s) {\n    return s == null ? Double.NaN : Double.parseDouble(s);\n}\n</code></pre>\n"}],"owner":{"account_id":8138940,"reputation":52,"user_id":6129779,"display_name":"Rub&#233;n Cotera"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3657,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"closed_date":1547037657,"accepted_answer_id":54110413,"answer_count":1,"score":-1,"last_activity_date":1673529609,"creation_date":1547037190,"question_id":54110280,"body_markdown":"I have to convert Strings to Doubles, but may be I have a null value. Does it work with `Double.parseDouble(stringValue)` or `Double.valueOf(stringValue)`?\r\n\r\nWhat is the difference between this two methods?\r\n\r\nThank you in advance.","title":"Parse String to Double with null values","body":"<p>I have to convert Strings to Doubles, but may be I have a null value. Does it work with <code>Double.parseDouble(stringValue)</code> or <code>Double.valueOf(stringValue)</code>?</p>\n\n<p>What is the difference between this two methods?</p>\n\n<p>Thank you in advance.</p>\n"},{"tags":["java","hibernate","jsp","jpa","struts-1"],"answers":[{"tags":[],"owner":{"account_id":16539707,"reputation":955,"user_id":11961036,"display_name":"Marco Frag Delle Monache"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1670227635,"creation_date":1670227635,"answer_id":74685034,"question_id":74599487,"body_markdown":"This is not a proper solution, but I discovered that the problem is caused by Sessions and Threads. In this project, it is used an internal method to retrieve the Hibernate current session using Threads. By changing the Thread number, the exception gets thrown in the next instance where this current session is used. So, if you are having the same problem, try investigating about these things.","title":"Hibernate throws exception, but only on first execution","body":"<p>This is not a proper solution, but I discovered that the problem is caused by Sessions and Threads. In this project, it is used an internal method to retrieve the Hibernate current session using Threads. By changing the Thread number, the exception gets thrown in the next instance where this current session is used. So, if you are having the same problem, try investigating about these things.</p>\n"}],"owner":{"account_id":16539707,"reputation":955,"user_id":11961036,"display_name":"Marco Frag Delle Monache"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":93,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74685034,"answer_count":1,"score":0,"last_activity_date":1673529457,"creation_date":1669632698,"question_id":74599487,"body_markdown":"I have an entity called Refund, which has two Foreign Keys on the same entity called Motivation.\r\n\r\nRefund.java\r\n\r\n    // other columns\r\n\r\n    @ManyToOne(targetEntity=Motivation.class, optional=true, fetch=FetchType.LAZY)\r\n\t@JoinColumn(name=&quot;opening_motivation&quot;, referencedColumnName=&quot;code&quot;)\r\n\t@ForeignKey(name=&quot;REFUND_OPENING_MOTIVATION_FK&quot;)\r\n\tprivate Motivation openingMotivation;\r\n\r\n\t@ManyToOne(targetEntity=Motivation.class, optional=true, fetch=FetchType.LAZY)\r\n\t@JoinColumn(name=&quot;closure_motivation&quot;, referencedColumnName=&quot;code&quot;)\r\n\t@ForeignKey(name=&quot;REFUND_CLOSURE_MOTIVATION_FK&quot;)\r\n\tprivate Motivation closureMotivation;\r\n\r\n    // getters and setters\r\n\r\n\r\nMotivation.java \r\n\r\n    private String code;\r\n    private String type;\r\n    private String description;\r\n\r\n    // getters and setters\r\n\r\nThis class does not have annotations because it has an extend and it is automatically binded by Hibernate, in the `hbm.xml`. The `@ManyToOne` works flawlessly and the table is present and has some elements in the Database (which is Oracle). \r\n\r\nInside a JSP, i need to populate a combobox with the elements of this table, filtered by the `type` column.\r\n\r\nAs I do here:\r\n\r\nMotivationDAO.java\r\n\r\n    public static List&lt;Motivation&gt; getMotivationsByType(String type) throws DatabaseException  {\r\n\t\t\r\n\t\tCriteria criteria = null;\r\n\t\t\r\n\t\ttry {\r\n\t\t\tSession session = HibernateUtil.currentSession();\r\n\t\t\t\r\n\t\t\tcriteria = session.createCriteria(Motivation.class);\r\n\t\t\tcriteria.add(Restrictions.eq(&quot;type&quot;, type);\r\n\t\t\treturn (List&lt;Motivation&gt;) criteria.list(); // the exception I specified later is thrown here\r\n\t\t\r\n\t\t} catch (HibernateException e) {\r\n\t\t\tthrow new DatabaseException(e.getMessage());\r\n\t\t}catch (Exception e) {\r\n\t\t\tSystem.out.println(&quot;getMotivationList: &quot; + e.getMessage());\r\n\t\t\tthrow new DatabaseException(&quot;an error occured&quot;);\r\n\t\t}\r\n\t}\r\n\r\nand, in the JSP:\r\n\r\n    &lt;form:select cssClass=&quot;comboBox&quot; path=&quot;pageAction.currentPL.entity.openingMotivation.code&quot; id=&quot;openingCombo&quot; disabled=&quot;true&quot;&gt;\r\n\t    &lt;form:option value=&quot;&quot;&gt;&lt;/form:option&gt;\r\n\t\t&lt;c:forEach var=&quot;openingMotivation&quot; items=&#39;&lt;%=MotivationDAO.getMotivationsByType(&quot;A&quot;)%&gt;&#39;&gt;\t\t\t\r\n\t\t    &lt;form:option value=&quot;${openingMotivation.code}&quot;&gt;${openingMotivation.code} - ${openingMotivation.description}&lt;/form:option&gt;\r\n\t\t&lt;/c:forEach&gt;\r\n\t&lt;/form:select&gt;\r\n\r\nThe problem is: for **some** Refunds (that has absolutely nothing different with &quot;working&quot; ones), the `getMotivationsByType()` functions gives an exception: `object references an unsaved transient instance - save the transient instance before flushing`. I tried browsing the Internet and I found [this article][1]. After applying the fix, it still gives me an error, but a different exception: `ids for this class must be manually assigned before calling save()`. Again, tried browsing and found [this post][2], but it suggests to add an auto-increment column Id for the class. This is not what I need, plus, I can not add it. \r\n\r\nThe strange fact is that if I refresh the JSP on the same &quot;bugged&quot; Refund, it works flawlessly. I tried some fixes which also actually fix the problem, but then I get some regressions on the save, like:\r\n\r\n 1. adding some properties to the foreign key annotations, for example: `updatable=false`.. But it doesn&#39;t work to me, because the field **must** be updatable. Putting `updatable=true` doesn&#39;t solve the problem.\r\n 2. removing the `code` from the `property` in the combobox path, like so:\r\n\r\n        &lt;form:select cssClass=&quot;comboBox&quot; path=&quot;pageAction.currentPL.entity.openingMotivation&quot; id=&quot;openingCombo&quot; disabled=&quot;true&quot;&gt;\r\n\t        &lt;form:option value=&quot;&quot;&gt;&lt;/form:option&gt;\r\n\t\t    &lt;c:forEach var=&quot;openingMotivation&quot; items=&#39;&lt;%=MotivationDAO.getMotivationsByType(&quot;A&quot;)%&gt;&#39;&gt;\t\t\t\r\n\t\t        &lt;form:option value=&quot;${openingMotivation}&quot;&gt;${openingMotivation.code} - ${openingMotivation.description}&lt;/form:option&gt;\r\n\t\t    &lt;/c:forEach&gt;\r\n\t    &lt;/form:select&gt;\r\n\r\nto send the full Entity to the backend, but it does not (entity appears to be null).\r\n\r\n 3. refactoring the combobox syntax, using `bean:define` instead of `c:forEach`\r\n 4. catching the exception and re-launching the same function when caught\r\n 5. adding the list into the `currentPL`, this way the list gets retrieved correctly but, after saving or refreshing, it rethrows the same exception.\r\n 6. setting motivations on `null` by default, because maybe since there is not a motivation with a `null` code, then Hibernate cannot find a Foreign Key, but nothing.\r\n 7. adding an auto-generated id column\r\n 8. separating the two foreign keys in two separated entities\r\n 9. closing the hibernate session\r\n\r\nWhat is unclear to me is: why does it solve the problem if I change a completely separated snippet of code? And why does it work on the second round?\r\n\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/2302802/how-to-fix-the-hibernate-object-references-an-unsaved-transient-instance-save\r\n  [2]: https://stackoverflow.com/questions/16142071/hibernate-ids-for-this-class-must-be-manually-assigned-before-calling-save","title":"Hibernate throws exception, but only on first execution","body":"<p>I have an entity called Refund, which has two Foreign Keys on the same entity called Motivation.</p>\n<p>Refund.java</p>\n<pre><code>// other columns\n\n@ManyToOne(targetEntity=Motivation.class, optional=true, fetch=FetchType.LAZY)\n@JoinColumn(name=&quot;opening_motivation&quot;, referencedColumnName=&quot;code&quot;)\n@ForeignKey(name=&quot;REFUND_OPENING_MOTIVATION_FK&quot;)\nprivate Motivation openingMotivation;\n\n@ManyToOne(targetEntity=Motivation.class, optional=true, fetch=FetchType.LAZY)\n@JoinColumn(name=&quot;closure_motivation&quot;, referencedColumnName=&quot;code&quot;)\n@ForeignKey(name=&quot;REFUND_CLOSURE_MOTIVATION_FK&quot;)\nprivate Motivation closureMotivation;\n\n// getters and setters\n</code></pre>\n<p>Motivation.java</p>\n<pre><code>private String code;\nprivate String type;\nprivate String description;\n\n// getters and setters\n</code></pre>\n<p>This class does not have annotations because it has an extend and it is automatically binded by Hibernate, in the <code>hbm.xml</code>. The <code>@ManyToOne</code> works flawlessly and the table is present and has some elements in the Database (which is Oracle).</p>\n<p>Inside a JSP, i need to populate a combobox with the elements of this table, filtered by the <code>type</code> column.</p>\n<p>As I do here:</p>\n<p>MotivationDAO.java</p>\n<pre><code>public static List&lt;Motivation&gt; getMotivationsByType(String type) throws DatabaseException  {\n    \n    Criteria criteria = null;\n    \n    try {\n        Session session = HibernateUtil.currentSession();\n        \n        criteria = session.createCriteria(Motivation.class);\n        criteria.add(Restrictions.eq(&quot;type&quot;, type);\n        return (List&lt;Motivation&gt;) criteria.list(); // the exception I specified later is thrown here\n    \n    } catch (HibernateException e) {\n        throw new DatabaseException(e.getMessage());\n    }catch (Exception e) {\n        System.out.println(&quot;getMotivationList: &quot; + e.getMessage());\n        throw new DatabaseException(&quot;an error occured&quot;);\n    }\n}\n</code></pre>\n<p>and, in the JSP:</p>\n<pre><code>&lt;form:select cssClass=&quot;comboBox&quot; path=&quot;pageAction.currentPL.entity.openingMotivation.code&quot; id=&quot;openingCombo&quot; disabled=&quot;true&quot;&gt;\n    &lt;form:option value=&quot;&quot;&gt;&lt;/form:option&gt;\n    &lt;c:forEach var=&quot;openingMotivation&quot; items='&lt;%=MotivationDAO.getMotivationsByType(&quot;A&quot;)%&gt;'&gt;            \n        &lt;form:option value=&quot;${openingMotivation.code}&quot;&gt;${openingMotivation.code} - ${openingMotivation.description}&lt;/form:option&gt;\n    &lt;/c:forEach&gt;\n&lt;/form:select&gt;\n</code></pre>\n<p>The problem is: for <strong>some</strong> Refunds (that has absolutely nothing different with &quot;working&quot; ones), the <code>getMotivationsByType()</code> functions gives an exception: <code>object references an unsaved transient instance - save the transient instance before flushing</code>. I tried browsing the Internet and I found <a href=\"https://stackoverflow.com/questions/2302802/how-to-fix-the-hibernate-object-references-an-unsaved-transient-instance-save\">this article</a>. After applying the fix, it still gives me an error, but a different exception: <code>ids for this class must be manually assigned before calling save()</code>. Again, tried browsing and found <a href=\"https://stackoverflow.com/questions/16142071/hibernate-ids-for-this-class-must-be-manually-assigned-before-calling-save\">this post</a>, but it suggests to add an auto-increment column Id for the class. This is not what I need, plus, I can not add it.</p>\n<p>The strange fact is that if I refresh the JSP on the same &quot;bugged&quot; Refund, it works flawlessly. I tried some fixes which also actually fix the problem, but then I get some regressions on the save, like:</p>\n<ol>\n<li><p>adding some properties to the foreign key annotations, for example: <code>updatable=false</code>.. But it doesn't work to me, because the field <strong>must</strong> be updatable. Putting <code>updatable=true</code> doesn't solve the problem.</p>\n</li>\n<li><p>removing the <code>code</code> from the <code>property</code> in the combobox path, like so:</p>\n<pre><code>&lt;form:select cssClass=&quot;comboBox&quot; path=&quot;pageAction.currentPL.entity.openingMotivation&quot; id=&quot;openingCombo&quot; disabled=&quot;true&quot;&gt;\n    &lt;form:option value=&quot;&quot;&gt;&lt;/form:option&gt;\n    &lt;c:forEach var=&quot;openingMotivation&quot; items='&lt;%=MotivationDAO.getMotivationsByType(&quot;A&quot;)%&gt;'&gt;            \n        &lt;form:option value=&quot;${openingMotivation}&quot;&gt;${openingMotivation.code} - ${openingMotivation.description}&lt;/form:option&gt;\n    &lt;/c:forEach&gt;\n&lt;/form:select&gt;\n</code></pre>\n</li>\n</ol>\n<p>to send the full Entity to the backend, but it does not (entity appears to be null).</p>\n<ol start=\"3\">\n<li>refactoring the combobox syntax, using <code>bean:define</code> instead of <code>c:forEach</code></li>\n<li>catching the exception and re-launching the same function when caught</li>\n<li>adding the list into the <code>currentPL</code>, this way the list gets retrieved correctly but, after saving or refreshing, it rethrows the same exception.</li>\n<li>setting motivations on <code>null</code> by default, because maybe since there is not a motivation with a <code>null</code> code, then Hibernate cannot find a Foreign Key, but nothing.</li>\n<li>adding an auto-generated id column</li>\n<li>separating the two foreign keys in two separated entities</li>\n<li>closing the hibernate session</li>\n</ol>\n<p>What is unclear to me is: why does it solve the problem if I change a completely separated snippet of code? And why does it work on the second round?</p>\n"},{"tags":["java","soap","java-17","eclipse-classpath","module-path"],"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1673694773,"post_id":75093742,"comment_id":132558268,"body_markdown":"You have a dependency (directly or indirectly) which provides `javax.xml.namespace`, you need to remove that dependency because it is included in Java itself.","body":"You have a dependency (directly or indirectly) which provides <code>javax.xml.namespace</code>, you need to remove that dependency because it is included in Java itself."}],"owner":{"account_id":27420518,"reputation":3,"user_id":20919033,"display_name":"HR S"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1673514158,"answer_count":0,"score":0,"last_activity_date":1673529079,"creation_date":1673513917,"question_id":75093742,"body_markdown":"I am using SE 17 but to access an SOAP API Endpoint in java I need a jdk version of 1.7 or below , else the compiler throws me and exception as &quot;The package javax.xml.namespace is accessible from more than one module: &lt;unnamed&gt;, java.xml&quot;.I&#39;ve tried to add the java.xml package into classpath and re-run my whole project but it&#39;s still not working.I need to run javax.xml.namespace in simple core JAVA SE 17 (not any maven or gradle project).","title":"I am using Java SE 17 for my project. But to access an endpoint I need to use compiler level SE 1.7 or below","body":"<p>I am using SE 17 but to access an SOAP API Endpoint in java I need a jdk version of 1.7 or below , else the compiler throws me and exception as &quot;The package javax.xml.namespace is accessible from more than one module: , java.xml&quot;.I've tried to add the java.xml package into classpath and re-run my whole project but it's still not working.I need to run javax.xml.namespace in simple core JAVA SE 17 (not any maven or gradle project).</p>\n"},{"tags":["java","android","firebase"],"comments":[{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1652334108,"post_id":72208587,"comment_id":127581990,"body_markdown":"Are you using the latest version of Android Studio?","body":"Are you using the latest version of Android Studio?"},{"owner":{"display_name":"user18148338"},"score":0,"creation_date":1652334393,"post_id":72208587,"comment_id":127582035,"body_markdown":"@AlexMamo Yes !!","body":"@AlexMamo Yes !!"},{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":1,"creation_date":1652334555,"post_id":72208587,"comment_id":127582066,"body_markdown":"Does this [answer](https://stackoverflow.com/questions/70883309/android-studios-project-gradle-file-changed) help?","body":"Does this <a href=\"https://stackoverflow.com/questions/70883309/android-studios-project-gradle-file-changed\">answer</a> help?"},{"owner":{"display_name":"user18148338"},"score":0,"creation_date":1652335382,"post_id":72208587,"comment_id":127582251,"body_markdown":"( classpath  &#39;com.google.gms:google-services:4.3.10&#39; )                                                          is this line of code necessary?","body":"( classpath  &#39;com.google.gms:google-services:4.3.10&#39; )                                                          is this line of code necessary?"},{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1652337003,"post_id":72208587,"comment_id":127582645,"body_markdown":"Most likely that&#39;s the line of code that&#39;s missing.","body":"Most likely that&#39;s the line of code that&#39;s missing."},{"owner":{"display_name":"user18148338"},"score":0,"creation_date":1652337204,"post_id":72208587,"comment_id":127582700,"body_markdown":"so will there be any solution","body":"so will there be any solution"},{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1652337371,"post_id":72208587,"comment_id":127582746,"body_markdown":"Add that line your code.","body":"Add that line your code."},{"owner":{"display_name":"user18148338"},"score":0,"creation_date":1652337815,"post_id":72208587,"comment_id":127582855,"body_markdown":"but still, the error show is happening  : (","body":"but still, the error show is happening  : ("},{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1652337857,"post_id":72208587,"comment_id":127582865,"body_markdown":"Try to use the exact code in that aswer.","body":"Try to use the exact code in that aswer."}],"answers":[{"comments":[{"owner":{"display_name":"user18148338"},"score":0,"creation_date":1652328054,"post_id":72209455,"comment_id":127581130,"body_markdown":"Is it showing up in your `Gradle project file` as well? If not please share your `code`","body":"Is it showing up in your <code>Gradle project file</code> as well? If not please share your <code>code</code>"},{"owner":{"account_id":21371577,"reputation":1913,"user_id":15739040,"display_name":"Vishal Beep"},"score":0,"creation_date":1652334353,"post_id":72209455,"comment_id":127582030,"body_markdown":"@aone yes it is showing","body":"@aone yes it is showing"},{"owner":{"account_id":21371577,"reputation":1913,"user_id":15739040,"display_name":"Vishal Beep"},"score":0,"creation_date":1652428064,"post_id":72209455,"comment_id":127608322,"body_markdown":"@aone update answer now you can check","body":"@aone update answer now you can check"}],"tags":[],"owner":{"account_id":21371577,"reputation":1913,"user_id":15739040,"display_name":"Vishal Beep"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1652428027,"creation_date":1652322168,"answer_id":72209455,"question_id":72208587,"body_markdown":"You can give it a try :\r\n\r\n### Edit\r\n\r\nin `build.gradle(Project: AppName)`\r\n\r\n    buildscript {\r\n      dependencies {\r\n         classpath &#39;com.google.gms:google-services:4.3.10&#39;\r\n      }\r\n    } // Top-level build file where you can add configuration options common \r\n      // to all sub-projects/modules.\r\n    plugins {\r\n       id &#39;com.android.application&#39; version &#39;7.2.0&#39; apply false\r\n       id &#39;com.android.library&#39; version &#39;7.2.0&#39; apply false\r\n    }\r\n\r\n    task clean(type: Delete) {\r\n       delete rootProject.buildDir\r\n    }\r\n\r\n\r\nin `build.gradle(Module: AppName)` :\r\n\r\n    plugins {\r\n     id &#39;com.android.application&#39;\r\n     id &#39;com.google.gms.google-services&#39;\r\n    }\r\n   \r\n    android {\r\n     // rest code ....\r\n    }\r\n\r\n    dependencies {\r\n     // here your dependencies\r\n    }\r\n\r\n\r\nand make sure you have added `google-services.json` to your project.\r\n\r\nand I will recommend you to connect firebase by android studio&#39;s [firebase tool](https://developer.android.com/studio/write/firebase) and avoid it manually.\r\n\r\n","title":"Plugin with id &#39;com.google.gms.google-services&#39; not found. [ Android ]","body":"<p>You can give it a try :</p>\n<h3>Edit</h3>\n<p>in <code>build.gradle(Project: AppName)</code></p>\n<pre><code>buildscript {\n  dependencies {\n     classpath 'com.google.gms:google-services:4.3.10'\n  }\n} // Top-level build file where you can add configuration options common \n  // to all sub-projects/modules.\nplugins {\n   id 'com.android.application' version '7.2.0' apply false\n   id 'com.android.library' version '7.2.0' apply false\n}\n\ntask clean(type: Delete) {\n   delete rootProject.buildDir\n}\n</code></pre>\n<p>in <code>build.gradle(Module: AppName)</code> :</p>\n<pre><code>plugins {\n id 'com.android.application'\n id 'com.google.gms.google-services'\n}\n\nandroid {\n // rest code ....\n}\n\ndependencies {\n // here your dependencies\n}\n</code></pre>\n<p>and make sure you have added <code>google-services.json</code> to your project.</p>\n<p>and I will recommend you to connect firebase by android studio's <a href=\"https://developer.android.com/studio/write/firebase\" rel=\"nofollow noreferrer\">firebase tool</a> and avoid it manually.</p>\n"},{"comments":[{"owner":{"account_id":13733650,"reputation":1167,"user_id":9910563,"display_name":"KoalaZub"},"score":0,"creation_date":1669948412,"post_id":72213149,"comment_id":131764429,"body_markdown":"Very much appreciated. Seems like Google needs to update its docs on this.","body":"Very much appreciated. Seems like Google needs to update its docs on this."},{"owner":{"account_id":4650093,"reputation":357,"user_id":3767217,"accept_rate":100,"display_name":"muoki_D"},"score":0,"creation_date":1672806908,"post_id":72213149,"comment_id":132354474,"body_markdown":"Thank you! saved my day. Indeed google needs to update their docs","body":"Thank you! saved my day. Indeed google needs to update their docs"}],"tags":[],"owner":{"account_id":263656,"reputation":1,"user_id":549372,"accept_rate":100,"display_name":"Martin Zeitler"},"comment_count":2,"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1673528810,"creation_date":1652347747,"answer_id":72213149,"question_id":72208587,"body_markdown":"The plugin needs to be referenced in the root `build.gradle`:\r\n\r\n    plugins {\r\n        id &#39;com.android.application&#39; version &#39;7.3.1&#39; apply false\r\n        id &#39;com.android.library&#39; version &#39;7.3.1&#39; apply false\r\n        id &#39;com.google.gms.google-services&#39; version &#39;4.3.14&#39; apply false\r\n    }\r\n\r\nThen it can be applied in a module `build.gradle`:\r\n\r\n    plugins {\r\n        id &#39;com.android.application&#39;\r\n        id &#39;com.google.gms.google-services&#39;\r\n    }","title":"Plugin with id &#39;com.google.gms.google-services&#39; not found. [ Android ]","body":"<p>The plugin needs to be referenced in the root <code>build.gradle</code>:</p>\n<pre><code>plugins {\n    id 'com.android.application' version '7.3.1' apply false\n    id 'com.android.library' version '7.3.1' apply false\n    id 'com.google.gms.google-services' version '4.3.14' apply false\n}\n</code></pre>\n<p>Then it can be applied in a module <code>build.gradle</code>:</p>\n<pre><code>plugins {\n    id 'com.android.application'\n    id 'com.google.gms.google-services'\n}\n</code></pre>\n"}],"owner":{"display_name":"user18148338"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8244,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":2,"score":7,"last_activity_date":1673528810,"creation_date":1652311484,"question_id":72208587,"body_markdown":" # I was Setup firebase\r\n**`Firebase` [Official link][1]**  \r\nI&#39;m Following This Link my 2nd step went through it correctly, but I think I am doing some mistakes in 3rd &amp; the 4th \r\nThere are some flaws in my code that I don&#39;t understand,  \r\n I will be glad if you can help us.  \r\n\r\n\r\n\r\n**build Gradle**:- `Project`\r\n\r\n    // Top-level build file where you can add configuration options common to all sub- \r\n    projects/modules.\r\n    plugins {\r\n    id &#39;com.android.application&#39; version &#39;7.1.3&#39; apply false\r\n    id &#39;com.android.library&#39; version &#39;7.1.3&#39; apply false\r\n    }\r\n\r\n    task clean(type: Delete) {\r\n    delete rootProject.buildDir\r\n    }\r\n\r\n**build Gradle**: `Module`\r\n\r\n    plugins {\r\n     id &#39;com.android.application&#39;\r\n    }\r\n\r\n    //code here..\r\n    apply plugin: &#39;com.google.gms.google-services&#39;\r\n\r\n    android {\r\n     compileSdk 32\r\n\r\n     defaultConfig {\r\n        applicationId &quot;com.company.myfire&quot;\r\n        minSdk 21\r\n        targetSdk 32\r\n        versionCode 1\r\n        versionName &quot;1.0&quot;\r\n\r\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n     }\r\n\r\n     buildTypes {\r\n        release {\r\n            minifyEnabled false\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard- \r\n     rules.pro&#39;\r\n        }\r\n     }\r\n     compileOptions {\r\n        sourceCompatibility JavaVersion.VERSION_1_8\r\n        targetCompatibility JavaVersion.VERSION_1_8\r\n     }\r\n    }\r\n\r\n    dependencies {\r\n     classpath &#39;com.google.gms:google-services:4.3.10&#39;\r\n     implementation &#39;androidx.appcompat:appcompat:1.4.1&#39;\r\n     implementation &#39;com.google.android.material:material:1.6.0&#39;\r\n     implementation &#39;androidx.constraintlayout:constraintlayout:2.1.3&#39;\r\n     implementation platform(&#39;com.google.firebase:firebase-bom:30.0.0&#39;)\r\n     implementation &#39;com.google.firebase:firebase-analytics&#39;\r\n     testImplementation &#39;junit:junit:4.13.2&#39;\r\n     androidTestImplementation &#39;androidx.test.ext:junit:1.1.3&#39;\r\n     androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.4.0&#39;\r\n    }\r\n\r\n\r\n  [1]: https://firebase.google.com/docs/android/setup?authuser=0&amp;hl=en#available-libraries","title":"Plugin with id &#39;com.google.gms.google-services&#39; not found. [ Android ]","body":"<h1>I was Setup firebase</h1>\n<p><strong><code>Firebase</code> <a href=\"https://firebase.google.com/docs/android/setup?authuser=0&amp;hl=en#available-libraries\" rel=\"noreferrer\">Official link</a></strong><br />\nI'm Following This Link my 2nd step went through it correctly, but I think I am doing some mistakes in 3rd &amp; the 4th\nThere are some flaws in my code that I don't understand,<br />\nI will be glad if you can help us.</p>\n<p><strong>build Gradle</strong>:- <code>Project</code></p>\n<pre><code>// Top-level build file where you can add configuration options common to all sub- \nprojects/modules.\nplugins {\nid 'com.android.application' version '7.1.3' apply false\nid 'com.android.library' version '7.1.3' apply false\n}\n\ntask clean(type: Delete) {\ndelete rootProject.buildDir\n}\n</code></pre>\n<p><strong>build Gradle</strong>: <code>Module</code></p>\n<pre><code>plugins {\n id 'com.android.application'\n}\n\n//code here..\napply plugin: 'com.google.gms.google-services'\n\nandroid {\n compileSdk 32\n\n defaultConfig {\n    applicationId &quot;com.company.myfire&quot;\n    minSdk 21\n    targetSdk 32\n    versionCode 1\n    versionName &quot;1.0&quot;\n\n    testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n }\n\n buildTypes {\n    release {\n        minifyEnabled false\n        proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard- \n rules.pro'\n    }\n }\n compileOptions {\n    sourceCompatibility JavaVersion.VERSION_1_8\n    targetCompatibility JavaVersion.VERSION_1_8\n }\n}\n\ndependencies {\n classpath 'com.google.gms:google-services:4.3.10'\n implementation 'androidx.appcompat:appcompat:1.4.1'\n implementation 'com.google.android.material:material:1.6.0'\n implementation 'androidx.constraintlayout:constraintlayout:2.1.3'\n implementation platform('com.google.firebase:firebase-bom:30.0.0')\n implementation 'com.google.firebase:firebase-analytics'\n testImplementation 'junit:junit:4.13.2'\n androidTestImplementation 'androidx.test.ext:junit:1.1.3'\n androidTestImplementation 'androidx.test.espresso:espresso-core:3.4.0'\n}\n</code></pre>\n"},{"tags":["java","gradle","jar"],"comments":[{"owner":{"account_id":2450346,"reputation":5181,"user_id":2136795,"display_name":"Gyro Gearless"},"score":0,"creation_date":1673524493,"post_id":75095806,"comment_id":132521175,"body_markdown":"Nope, it should be `/it/gpi/flowmanager2/database/issue2266/RearrangeKey.class`","body":"Nope, it should be <code>&#47;it&#47;gpi&#47;flowmanager2&#47;database&#47;issue2266&#47;RearrangeKey.class</code>"},{"owner":{"account_id":7295627,"reputation":57,"user_id":5560592,"display_name":"ilmagowalter"},"score":0,"creation_date":1673528642,"post_id":75095806,"comment_id":132522599,"body_markdown":"@GyroGearless, in jar the path is issue2266.jar\\it\\gpi\\flowmanager2\\database\\issue2266\\RearrangeKey.class","body":"@GyroGearless, in jar the path is issue2266.jar\\it\\gpi\\flowmanager2\\database\\issue2266\\Rearran&zwnj;&#8203;geKey.class"},{"owner":{"account_id":7295627,"reputation":57,"user_id":5560592,"display_name":"ilmagowalter"},"score":0,"creation_date":1673529272,"post_id":75095806,"comment_id":132522843,"body_markdown":"@GyroGearless\nhttps://drive.google.com/file/d/1-4r2VTtlFQ5zAZNXtPUOyxTHDkRZDRBj/view?usp=sharing","body":"@GyroGearless <a href=\"https://drive.google.com/file/d/1-4r2VTtlFQ5zAZNXtPUOyxTHDkRZDRBj/view?usp=sharing\" rel=\"nofollow noreferrer\">drive.google.com/file/d/1-4r2VTtlFQ5zAZNXtPUOyxTHDkRZDRBj/&hellip;</a>"}],"owner":{"account_id":7295627,"reputation":57,"user_id":5560592,"display_name":"ilmagowalter"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673528785,"creation_date":1673523718,"question_id":75095806,"body_markdown":"I have a project managed with gradle wrapper; this project generate a war file that will be run in wildfly.\r\n\r\nNow i have to create an additional jar file, so i create a new task\r\n\r\n    task issue2266Jar(type: Jar, description: &quot;crea issue2266.jar&quot;) {\r\n    \tgroup &#39;flowManager&#39;\r\n        manifest {\r\n            attributes &#39;Main-Class&#39;: &#39;it.gpi.flowmanager2.database.issue2266.RearrangeKey&#39;\r\n        }\r\n        baseName = &#39;issue2266&#39;\r\n        duplicatesStrategy = DuplicatesStrategy.EXCLUDE\r\n        from { configurations.runtimeClasspath.collect { it.isDirectory() ? it : zipTree(it) } }\r\n        with jar\r\n    }\r\n\r\nthat create jar, but when i run with\r\n\r\n    java -jar issue2266.jar\r\n\r\ni get the message &quot;Could not find or load main class: it.gpi.flowmanager2.database.issue2266.RearrangeKey&quot;\r\n\r\nin the jar file the RearrangeKy.class exist and is in issue2266.jar\\it\\gpi\\flowmanager2\\database\\issue2266\\ folder\r\n\r\nif i make the same things in a new project all work\r\ncan someone help ?\r\n\r\nthis is [build.gradle][1]\r\n\r\n\r\n  [1]: https://drive.google.com/file/d/1KwuAkjxZtQW466FD2YelIobHaEBWR_Gi/view?usp=sharing\r\n\r\nand this is manifest\r\n\r\n    Manifest-Version: 1.0\r\n    Main-Class: it.gpi.flowmanager2.database.issue2266.RearrangeKey\r\n\r\n","title":"jar created with gradle - Could not find or load main class","body":"<p>I have a project managed with gradle wrapper; this project generate a war file that will be run in wildfly.</p>\n<p>Now i have to create an additional jar file, so i create a new task</p>\n<pre><code>task issue2266Jar(type: Jar, description: &quot;crea issue2266.jar&quot;) {\n    group 'flowManager'\n    manifest {\n        attributes 'Main-Class': 'it.gpi.flowmanager2.database.issue2266.RearrangeKey'\n    }\n    baseName = 'issue2266'\n    duplicatesStrategy = DuplicatesStrategy.EXCLUDE\n    from { configurations.runtimeClasspath.collect { it.isDirectory() ? it : zipTree(it) } }\n    with jar\n}\n</code></pre>\n<p>that create jar, but when i run with</p>\n<pre><code>java -jar issue2266.jar\n</code></pre>\n<p>i get the message &quot;Could not find or load main class: it.gpi.flowmanager2.database.issue2266.RearrangeKey&quot;</p>\n<p>in the jar file the RearrangeKy.class exist and is in issue2266.jar\\it\\gpi\\flowmanager2\\database\\issue2266\\ folder</p>\n<p>if i make the same things in a new project all work\ncan someone help ?</p>\n<p>this is <a href=\"https://drive.google.com/file/d/1KwuAkjxZtQW466FD2YelIobHaEBWR_Gi/view?usp=sharing\" rel=\"nofollow noreferrer\">build.gradle</a></p>\n<p>and this is manifest</p>\n<pre><code>Manifest-Version: 1.0\nMain-Class: it.gpi.flowmanager2.database.issue2266.RearrangeKey\n</code></pre>\n"},{"tags":["java","json","rest","jersey"],"comments":[{"owner":{"account_id":3978849,"reputation":9293,"user_id":3281336,"accept_rate":60,"display_name":"PatS"},"score":0,"creation_date":1556556570,"post_id":8594707,"comment_id":98470715,"body_markdown":"Just FYI... In my case, the code ran fine inside IntelliJ but failed when it was packaged and deployed.  I was using the `maven-assembly-plugin` with *jar-with-dependencies* option.  I&#39;m going to change to use Jackson `ObjectMapper` which is a work around.","body":"Just FYI... In my case, the code ran fine inside IntelliJ but failed when it was packaged and deployed.  I was using the <code>maven-assembly-plugin</code> with <i>jar-with-dependencies</i> option.  I&#39;m going to change to use Jackson <code>ObjectMapper</code> which is a work around."},{"owner":{"account_id":9005008,"reputation":130,"user_id":6712094,"display_name":"Ajay"},"score":0,"creation_date":1591252924,"post_id":8594707,"comment_id":109985866,"body_markdown":"@PatS I am facing a similar issue. The code is running fine when its run using Intellij but throwing same error when packaged. Unlike you I don&#39;t have liberty to use Jackson ObjectMapper as the issue is in a dependency. Have you found an alternative solution to your problem?","body":"@PatS I am facing a similar issue. The code is running fine when its run using Intellij but throwing same error when packaged. Unlike you I don&#39;t have liberty to use Jackson ObjectMapper as the issue is in a dependency. Have you found an alternative solution to your problem?"},{"owner":{"account_id":3978849,"reputation":9293,"user_id":3281336,"accept_rate":60,"display_name":"PatS"},"score":0,"creation_date":1592256580,"post_id":8594707,"comment_id":110355536,"body_markdown":"@Ajay.  The solution I marked worked for me.  My guess is that in your IntelliJ you have some jar file that is needed or is &quot;the right version&quot; and it is picked over another file.  These kinds of problems are difficult.  I would suggest trying to use Shade Plugin (See https://maven.apache.org/plugins/maven-shade-plugin/) and enable debugging to see what classes are duplicates.  Most likely the code is pulling in the wrong version of a file when running outside of IntelliJ.","body":"@Ajay.  The solution I marked worked for me.  My guess is that in your IntelliJ you have some jar file that is needed or is &quot;the right version&quot; and it is picked over another file.  These kinds of problems are difficult.  I would suggest trying to use Shade Plugin (See <a href=\"https://maven.apache.org/plugins/maven-shade-plugin/\" rel=\"nofollow noreferrer\">maven.apache.org/plugins/maven-shade-plugin</a>) and enable debugging to see what classes are duplicates.  Most likely the code is pulling in the wrong version of a file when running outside of IntelliJ."}],"answers":[{"comments":[{"owner":{"account_id":112547,"reputation":6206,"user_id":296829,"accept_rate":73,"display_name":"Steve Kehlet"},"score":0,"creation_date":1390420112,"post_id":8594810,"comment_id":32087244,"body_markdown":"This is correct, see [this answer below](http://stackoverflow.com/a/17777247/296829) for more detailed steps on adding the maven dependency.","body":"This is correct, see <a href=\"http://stackoverflow.com/a/17777247/296829\">this answer below</a> for more detailed steps on adding the maven dependency."},{"owner":{"account_id":2839360,"reputation":3120,"user_id":2439252,"accept_rate":100,"display_name":"Mark Toman"},"score":0,"creation_date":1420582274,"post_id":8594810,"comment_id":44025139,"body_markdown":"In case of IntelliJ, adding jersey-json from maven in Project Structure wasn&#39;t enough. Adding the entry to pom.xml solved it.","body":"In case of IntelliJ, adding jersey-json from maven in Project Structure wasn&#39;t enough. Adding the entry to pom.xml solved it."},{"owner":{"account_id":205160,"reputation":7223,"user_id":453767,"accept_rate":61,"display_name":"Amit Kumar Gupta"},"score":4,"creation_date":1471015853,"post_id":8594810,"comment_id":65199855,"body_markdown":"I am facing the same issue and I have sdded jersey-json as well. But it dint solve the issues.","body":"I am facing the same issue and I have sdded jersey-json as well. But it dint solve the issues."},{"owner":{"account_id":410039,"reputation":510,"user_id":781641,"display_name":"Ion Freeman"},"score":0,"creation_date":1491410701,"post_id":8594810,"comment_id":73544249,"body_markdown":"That&#39;s terrible, @AmitGupta. What did you do?","body":"That&#39;s terrible, @AmitGupta. What did you do?"},{"owner":{"account_id":205160,"reputation":7223,"user_id":453767,"accept_rate":61,"display_name":"Amit Kumar Gupta"},"score":0,"creation_date":1491411807,"post_id":8594810,"comment_id":73544888,"body_markdown":"The issue was because of HTML response in case of err.","body":"The issue was because of HTML response in case of err."},{"owner":{"account_id":143607,"reputation":8395,"user_id":352061,"accept_rate":62,"display_name":"okonomichiyaki"},"score":0,"creation_date":1520618455,"post_id":8594810,"comment_id":85404212,"body_markdown":"In case someone else is in the same boat: this did not fix the problem for me (I already had a dependency on jersey-json).\n\nInstead, the root cause was that the server was not sending the `Content-Type` header I was expecting, and the Jersey client code was defaulting to `application/octect-stream`. Changing the server to return valid JSON with a matching header fixed it for me.","body":"In case someone else is in the same boat: this did not fix the problem for me (I already had a dependency on jersey-json).  Instead, the root cause was that the server was not sending the <code>Content-Type</code> header I was expecting, and the Jersey client code was defaulting to <code>application&#47;octect-stream</code>. Changing the server to return valid JSON with a matching header fixed it for me."},{"owner":{"account_id":13365063,"reputation":539,"user_id":9645646,"display_name":"Pugal"},"score":0,"creation_date":1603686800,"post_id":8594810,"comment_id":114104915,"body_markdown":"@VDev, I have same issue because I added `org.json`.. After saw your answer I add jar from [here](https://mvnrepository.com/artifact/com.sun.jersey/jersey-json). _FYI_ I using `eclipse - Jersey - Java - Postman`","body":"@VDev, I have same issue because I added <code>org.json</code>.. After saw your answer I add jar from <a href=\"https://mvnrepository.com/artifact/com.sun.jersey/jersey-json\" rel=\"nofollow noreferrer\">here</a>. <i>FYI</i> I using <code>eclipse - Jersey - Java - Postman</code>"}],"tags":[],"owner":{"account_id":54405,"reputation":2297,"user_id":162758,"accept_rate":65,"display_name":"VDev"},"comment_count":7,"down_vote_count":1,"up_vote_count":35,"is_accepted":true,"score":34,"last_activity_date":1516907895,"creation_date":1324493356,"answer_id":8594810,"question_id":8594707,"body_markdown":"I was able to fix the issue by adding the maven dependency for jersey-json.","title":"Jersey Exception : SEVERE: A message body reader for Java class","body":"<p>I was able to fix the issue by adding the maven dependency for jersey-json.</p>\n"},{"comments":[{"owner":{"account_id":192526,"reputation":17562,"user_id":433718,"accept_rate":77,"display_name":"OneWorld"},"score":0,"creation_date":1343412860,"post_id":9240012,"comment_id":15505907,"body_markdown":"I think your approach is not the common way. Normally mapping of JSON to POJOs works with JAXB without creating an own messageBodyReader, because the message reader for JSON already exists. See answer of VDev.","body":"I think your approach is not the common way. Normally mapping of JSON to POJOs works with JAXB without creating an own messageBodyReader, because the message reader for JSON already exists. See answer of VDev."}],"tags":[],"owner":{"account_id":310091,"reputation":621,"user_id":622894,"accept_rate":89,"display_name":"alex347"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1328962076,"creation_date":1328961564,"answer_id":9240012,"question_id":8594707,"body_markdown":"You need to implement your own `MessageBodyReader` and `MessageBodyWriter` for your class `Lorg.shoppingsite.model.entity.jpa.User`. \r\n\r\n    package javax.ws.rs.ext;\r\n    \r\n    import java.io.IOException;\r\n    import java.io.InputStream;\r\n    import java.lang.annotation.Annotation;\r\n    import java.lang.reflect.Type;\r\n    import javax.ws.rs.WebApplicationException;\r\n    import javax.ws.rs.core.MediaType;\r\n    import javax.ws.rs.core.MultivaluedMap;\r\n    \r\n    public interface MessageBodyReader&lt;T extends Object&gt; {\r\n    \r\n        public boolean isReadable(Class&lt;?&gt; type, \r\n            Type genericType, \r\n            Annotation[] annotations, \r\n            MediaType mediaType);\r\n    \r\n        public T readFrom(Class&lt;T&gt; type, \r\n            Type genericType, \r\n            Annotation[] annotations, \r\n            MediaType mediaType, \r\n            MultivaluedMap&lt;String, String&gt; httpHeaders, \r\n            InputStream entityStream) throws IOException, WebApplicationException;\r\n    }\r\n\r\n    package javax.ws.rs.ext;\r\n    \r\n    import java.io.IOException;\r\n    import java.io.OutputStream;\r\n    import java.lang.annotation.Annotation;\r\n    import java.lang.reflect.Type;\r\n    import javax.ws.rs.WebApplicationException;\r\n    import javax.ws.rs.core.MediaType;\r\n    import javax.ws.rs.core.MultivaluedMap;\r\n    \r\n    public interface MessageBodyWriter&lt;T extends Object&gt; {\r\n    \r\n        public boolean isWriteable(Class&lt;?&gt; type, \r\n            Type genericType, \r\n            Annotation[] annotations, \r\n            MediaType mediaType);\r\n    \r\n        public long getSize(T t, \r\n            Class&lt;?&gt; type, \r\n            Type genericType, \r\n            Annotation[] annotations, \r\n            MediaType mediaType);\r\n    \r\n        public void writeTo(T t, \r\n            Class&lt;?&gt; type, \r\n            Type genericType, \r\n            Annotation[] annotations, \r\n            MediaType mediaType, \r\n            MultivaluedMap&lt;String, Object&gt; httpHeaders, \r\n            OutputStream entityStream) throws IOException, WebApplicationException;\r\n    }\r\n\r\n","title":"Jersey Exception : SEVERE: A message body reader for Java class","body":"<p>You need to implement your own <code>MessageBodyReader</code> and <code>MessageBodyWriter</code> for your class <code>Lorg.shoppingsite.model.entity.jpa.User</code>. </p>\n\n<pre><code>package javax.ws.rs.ext;\n\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.lang.annotation.Annotation;\nimport java.lang.reflect.Type;\nimport javax.ws.rs.WebApplicationException;\nimport javax.ws.rs.core.MediaType;\nimport javax.ws.rs.core.MultivaluedMap;\n\npublic interface MessageBodyReader&lt;T extends Object&gt; {\n\n    public boolean isReadable(Class&lt;?&gt; type, \n        Type genericType, \n        Annotation[] annotations, \n        MediaType mediaType);\n\n    public T readFrom(Class&lt;T&gt; type, \n        Type genericType, \n        Annotation[] annotations, \n        MediaType mediaType, \n        MultivaluedMap&lt;String, String&gt; httpHeaders, \n        InputStream entityStream) throws IOException, WebApplicationException;\n}\n\npackage javax.ws.rs.ext;\n\nimport java.io.IOException;\nimport java.io.OutputStream;\nimport java.lang.annotation.Annotation;\nimport java.lang.reflect.Type;\nimport javax.ws.rs.WebApplicationException;\nimport javax.ws.rs.core.MediaType;\nimport javax.ws.rs.core.MultivaluedMap;\n\npublic interface MessageBodyWriter&lt;T extends Object&gt; {\n\n    public boolean isWriteable(Class&lt;?&gt; type, \n        Type genericType, \n        Annotation[] annotations, \n        MediaType mediaType);\n\n    public long getSize(T t, \n        Class&lt;?&gt; type, \n        Type genericType, \n        Annotation[] annotations, \n        MediaType mediaType);\n\n    public void writeTo(T t, \n        Class&lt;?&gt; type, \n        Type genericType, \n        Annotation[] annotations, \n        MediaType mediaType, \n        MultivaluedMap&lt;String, Object&gt; httpHeaders, \n        OutputStream entityStream) throws IOException, WebApplicationException;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":467725,"reputation":19389,"user_id":873282,"accept_rate":55,"display_name":"koppor"},"score":1,"creation_date":1372438575,"post_id":11763141,"comment_id":25210481,"body_markdown":"web.xml. See http://www.mkyong.com/webservices/jax-rs/json-example-with-jersey-jackson/","body":"web.xml. See <a href=\"http://www.mkyong.com/webservices/jax-rs/json-example-with-jersey-jackson/\" rel=\"nofollow noreferrer\">mkyong.com/webservices/jax-rs/json-example-with-jersey-jacks&zwnj;&#8203;on</a>"},{"owner":{"account_id":13672434,"reputation":863,"user_id":9864814,"display_name":"GGEv"},"score":0,"creation_date":1554459549,"post_id":11763141,"comment_id":97769552,"body_markdown":"this suggestion along with adding jersey-json dependency solved my problem and I get a valid response from server","body":"this suggestion along with adding jersey-json dependency solved my problem and I get a valid response from server"}],"tags":[],"owner":{"account_id":1711034,"reputation":135,"user_id":1569107,"display_name":"Maycon C&#233;sar de Carvalho"},"comment_count":2,"down_vote_count":3,"up_vote_count":14,"is_accepted":false,"score":11,"last_activity_date":1343836834,"creation_date":1343836834,"answer_id":11763141,"question_id":8594707,"body_markdown":"just put this\r\n\r\n\t\t&lt;init-param&gt;\r\n\t\t\t&lt;param-name&gt;com.sun.jersey.api.json.POJOMappingFeature&lt;/param-name&gt;\r\n\t\t\t&lt;param-value&gt;true&lt;/param-value&gt;\r\n\t\t&lt;/init-param&gt;","title":"Jersey Exception : SEVERE: A message body reader for Java class","body":"<p>just put this</p>\n\n<pre><code>    &lt;init-param&gt;\n        &lt;param-name&gt;com.sun.jersey.api.json.POJOMappingFeature&lt;/param-name&gt;\n        &lt;param-value&gt;true&lt;/param-value&gt;\n    &lt;/init-param&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":940821,"reputation":137,"user_id":968926,"accept_rate":0,"display_name":"gibsosmart"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1359636613,"creation_date":1359636613,"answer_id":14626222,"question_id":8594707,"body_markdown":"Just check if you are running different instances in eclipse. I quit all my other sessions, clean build fixed the problem","title":"Jersey Exception : SEVERE: A message body reader for Java class","body":"<p>Just check if you are running different instances in eclipse. I quit all my other sessions, clean build fixed the problem</p>\n"},{"comments":[{"owner":{"account_id":235501,"reputation":2641,"user_id":502360,"accept_rate":66,"display_name":"Joel"},"score":1,"creation_date":1469484326,"post_id":15514287,"comment_id":64545308,"body_markdown":"or in code:             clientConfig.getFeatures().put(JSONConfiguration.FEATURE_POJO_MAPPING, Boolean.TRUE);","body":"or in code:             clientConfig.getFeatures().put(JSONConfiguration.FEATURE_POJ&zwnj;&#8203;O_MAPPING, Boolean.TRUE);"}],"tags":[],"owner":{"account_id":72621,"reputation":101,"user_id":209620,"display_name":"James.G"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1363747058,"creation_date":1363747058,"answer_id":15514287,"question_id":8594707,"body_markdown":"In my case, I&#39;m using POJO. And I forgot configure POJOMappingFeature as true.\r\nMaycon has pointed it out in an early answer. However some guys might have trouble to configure it in web.xml correctly, here is my example.\r\n\r\n    &lt;servlet&gt;\r\n        &lt;servlet-name&gt;Jersey Servlet&lt;/servlet-name&gt;\r\n        &lt;servlet-class&gt;com.sun.jersey.spi.spring.container.servlet.SpringServlet&lt;/servlet-class&gt;\r\n        &lt;init-param&gt;\r\n            &lt;param-name&gt;com.sun.jersey.api.json.POJOMappingFeature&lt;/param-name&gt;\r\n            &lt;param-value&gt;true&lt;/param-value&gt;\r\n        &lt;/init-param&gt;\r\n        &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\r\n    &lt;/servlet&gt;","title":"Jersey Exception : SEVERE: A message body reader for Java class","body":"<p>In my case, I'm using POJO. And I forgot configure POJOMappingFeature as true.\nMaycon has pointed it out in an early answer. However some guys might have trouble to configure it in web.xml correctly, here is my example.</p>\n\n<pre><code>&lt;servlet&gt;\n    &lt;servlet-name&gt;Jersey Servlet&lt;/servlet-name&gt;\n    &lt;servlet-class&gt;com.sun.jersey.spi.spring.container.servlet.SpringServlet&lt;/servlet-class&gt;\n    &lt;init-param&gt;\n        &lt;param-name&gt;com.sun.jersey.api.json.POJOMappingFeature&lt;/param-name&gt;\n        &lt;param-value&gt;true&lt;/param-value&gt;\n    &lt;/init-param&gt;\n    &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\n&lt;/servlet&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":401994,"reputation":1812,"user_id":768894,"accept_rate":59,"display_name":"EMM"},"score":0,"creation_date":1464973071,"post_id":16432587,"comment_id":62722092,"body_markdown":"This was required even after adding jersey-json to pom. +1","body":"This was required even after adding jersey-json to pom. +1"}],"tags":[],"owner":{"account_id":1025051,"reputation":455,"user_id":1034548,"display_name":"Krasimir Kalinov Kostadinov"},"comment_count":1,"down_vote_count":1,"up_vote_count":12,"is_accepted":false,"score":11,"last_activity_date":1489864740,"creation_date":1367986829,"answer_id":16432587,"question_id":8594707,"body_markdown":"I know that this post is old and you figured this out a long time ago, but just to save the people who will read this some time.\r\n\r\nYou probably forgot to add annotation to the entity you are passing to the endpoint, so Jersey does not know how to process the POJO it receives.\r\nAnnotate the pojo with something like this: \r\n\r\n    @XmlRootElement(name = &quot;someName&quot;)","title":"Jersey Exception : SEVERE: A message body reader for Java class","body":"<p>I know that this post is old and you figured this out a long time ago, but just to save the people who will read this some time.</p>\n\n<p>You probably forgot to add annotation to the entity you are passing to the endpoint, so Jersey does not know how to process the POJO it receives.\nAnnotate the pojo with something like this: </p>\n\n<pre><code>@XmlRootElement(name = \"someName\")\n</code></pre>\n"},{"comments":[{"owner":{"account_id":695155,"reputation":26358,"user_id":274677,"accept_rate":81,"display_name":"Marcus Junius Brutus"},"score":0,"creation_date":1454668306,"post_id":17777247,"comment_id":58157713,"body_markdown":"just adding the jersey-json dependency was enough in my case.","body":"just adding the jersey-json dependency was enough in my case."},{"owner":{"account_id":36915,"reputation":3723,"user_id":105408,"accept_rate":75,"display_name":"markthegrea"},"score":0,"creation_date":1455807894,"post_id":17777247,"comment_id":58663454,"body_markdown":"NIce work!  We have been chasing this jar for quite a bit...  Thanks!","body":"NIce work!  We have been chasing this jar for quite a bit...  Thanks!"},{"owner":{"account_id":235501,"reputation":2641,"user_id":502360,"accept_rate":66,"display_name":"Joel"},"score":1,"creation_date":1469483936,"post_id":17777247,"comment_id":64545203,"body_markdown":"Seems odd @XmlBlahBlah is required for a JSON object, didn&#39;t help for me.","body":"Seems odd @XmlBlahBlah is required for a JSON object, didn&#39;t help for me."},{"owner":{"account_id":4111590,"reputation":1764,"user_id":3374242,"display_name":"Atul Chavan"},"score":0,"creation_date":1537804739,"post_id":17777247,"comment_id":91907722,"body_markdown":"i had to do both, adding annotation and maven dependency","body":"i had to do both, adding annotation and maven dependency"},{"owner":{"account_id":1878851,"reputation":69,"user_id":1699468,"display_name":"chenchun"},"score":1,"creation_date":1603877581,"post_id":17777247,"comment_id":114172619,"body_markdown":"You may also need to use maven shade plugin to merge META-INF/services/javax.ws.rs.ext.MessageBodyWriter and META-INF/services/javax.ws.rs.ext.MessageBodyReader of jersey-core and jersey-json library, please refer to https://stackoverflow.com/a/13279921/1699468","body":"You may also need to use maven shade plugin to merge META-INF/services/javax.ws.rs.ext.MessageBodyWriter and META-INF/services/javax.ws.rs.ext.MessageBodyReader of jersey-core and jersey-json library, please refer to <a href=\"https://stackoverflow.com/a/13279921/1699468\">stackoverflow.com/a/13279921/1699468</a>"}],"tags":[],"owner":{"account_id":2453269,"reputation":393,"user_id":2139024,"display_name":"user2139024"},"comment_count":5,"down_vote_count":0,"up_vote_count":37,"is_accepted":false,"score":37,"last_activity_date":1374443076,"creation_date":1374443076,"answer_id":17777247,"question_id":8594707,"body_markdown":"To make it work you only need two things. Check if you are missing:\r\n\r\n1. First of all, you need **@XmlRootElement** annotation for your object class/entity.\r\n2. You need to add dependency for **jersey-json** if you are missing.For your reference I added this dependency into my pom.xml.\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.sun.jersey&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jersey-json&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.17.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n","title":"Jersey Exception : SEVERE: A message body reader for Java class","body":"<p>To make it work you only need two things. Check if you are missing:</p>\n\n<ol>\n<li>First of all, you need <strong>@XmlRootElement</strong> annotation for your object class/entity.</li>\n<li><p>You need to add dependency for <strong>jersey-json</strong> if you are missing.For your reference I added this dependency into my pom.xml.</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.sun.jersey&lt;/groupId&gt;\n    &lt;artifactId&gt;jersey-json&lt;/artifactId&gt;\n    &lt;version&gt;1.17.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":2154105,"reputation":1703,"user_id":1909727,"display_name":"Siva Tumma"},"comment_count":0,"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1384398693,"creation_date":1384398693,"answer_id":19968819,"question_id":8594707,"body_markdown":"Mine was similar situation. I get this error in crucial times and I did not remember how I had solved it before, which I did many number of times. After strenuous hours of inspection, I have solved and reproduced the error and made sure how simple is the solution for this situation. \r\n\r\nOkay - solution : **remove (*or correct*) any newly made changes to your main project&#39;s properties files.**\r\n\r\nYes, this is it. In fact, my project is a multi-moduled huge one, and you know going without correct dependencies is a rare case scenario as is fetched often from git (RAC too). My project was getting almost all configurable things from a properties file that is common to about 15 or so modules (sub projects) with good amount of intra-dependencies among them. jersey-json&#39;s dependency is always there in my merged parent pom. XML Annotations aren&#39;t a problem as the project is being run for around 100 times after modifying them. some solutions here point to web.xml and things like POJOMappingFeature. In my case, I haven&#39;t even touched the webapp module in this build. so anyhow, this solution worked for me and I am spending time to record this in SO in case if I ever happen to fall into this error, I would not have to waste my sleepy nights. (of course, for you too)","title":"Jersey Exception : SEVERE: A message body reader for Java class","body":"<p>Mine was similar situation. I get this error in crucial times and I did not remember how I had solved it before, which I did many number of times. After strenuous hours of inspection, I have solved and reproduced the error and made sure how simple is the solution for this situation. </p>\n\n<p>Okay - solution : <strong>remove (<em>or correct</em>) any newly made changes to your main project's properties files.</strong></p>\n\n<p>Yes, this is it. In fact, my project is a multi-moduled huge one, and you know going without correct dependencies is a rare case scenario as is fetched often from git (RAC too). My project was getting almost all configurable things from a properties file that is common to about 15 or so modules (sub projects) with good amount of intra-dependencies among them. jersey-json's dependency is always there in my merged parent pom. XML Annotations aren't a problem as the project is being run for around 100 times after modifying them. some solutions here point to web.xml and things like POJOMappingFeature. In my case, I haven't even touched the webapp module in this build. so anyhow, this solution worked for me and I am spending time to record this in SO in case if I ever happen to fall into this error, I would not have to waste my sleepy nights. (of course, for you too)</p>\n"},{"comments":[{"owner":{"account_id":4133009,"reputation":5082,"user_id":3390364,"display_name":"rfornal"},"score":0,"creation_date":1428002526,"post_id":29420253,"comment_id":47013341,"body_markdown":"This is a comment on the question or an attempt at an answer; please place it there when you are able.","body":"This is a comment on the question or an attempt at an answer; please place it there when you are able."}],"tags":[],"owner":{"account_id":4702890,"reputation":1,"user_id":3805993,"display_name":"Nick Liu"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1428000485,"creation_date":1428000485,"answer_id":29420253,"question_id":8594707,"body_markdown":"Some may be confused why add jersey-json jar can&#39;t solve this problem. I found out that this jar has to newer than jersey-json-1.7.jar( 1.7.0 doesn&#39;t work, but 1.7.1 works fine.). hope this can help ","title":"Jersey Exception : SEVERE: A message body reader for Java class","body":"<p>Some may be confused why add jersey-json jar can't solve this problem. I found out that this jar has to newer than jersey-json-1.7.jar( 1.7.0 doesn't work, but 1.7.1 works fine.). hope this can help </p>\n"},{"comments":[{"owner":{"account_id":235501,"reputation":2641,"user_id":502360,"accept_rate":66,"display_name":"Joel"},"score":1,"creation_date":1469483538,"post_id":29808527,"comment_id":64545071,"body_markdown":"For Maven you add a transformer: ServicesResourceTransformer. This actually got me past this posted error message. However, it doesn&#39;t complain, but my .getEntity() call hangs instead. Something about json going on, because if I ask for a String entity, it doesn&#39;t hang.","body":"For Maven you add a transformer: ServicesResourceTransformer. This actually got me past this posted error message. However, it doesn&#39;t complain, but my .getEntity() call hangs instead. Something about json going on, because if I ask for a String entity, it doesn&#39;t hang."},{"owner":{"account_id":388668,"reputation":2288,"user_id":747739,"accept_rate":67,"display_name":"Phil"},"score":2,"creation_date":1501563495,"post_id":29808527,"comment_id":77819417,"body_markdown":"https://maven.apache.org/plugins/maven-shade-plugin/examples/resource-transformers.html#ServicesResourceTransformer    &lt;-- documentation for the maven way.","body":"<a href=\"https://maven.apache.org/plugins/maven-shade-plugin/examples/resource-transformers.html#ServicesResourceTransformer\" rel=\"nofollow noreferrer\">maven.apache.org/plugins/maven-shade-plugin/examples/&hellip;</a>    &lt;-- documentation for the maven way."},{"owner":{"account_id":15387,"reputation":63718,"user_id":32453,"accept_rate":92,"display_name":"rogerdpack"},"score":1,"creation_date":1516911243,"post_id":29808527,"comment_id":83895186,"body_markdown":"Thanks, using `ServicesResourceTransformer` fixed this for me `com.sun.jersey.api.client.ClientHandlerException: A message body reader for Java class org.x.y , and Java type class org.x.y and MIME media type application/xml; charset=UTF-8 was not found` (notice mine didn&#39;t complain of json, but might still be applicable) (got the problem after adding more dependencies to my project)","body":"Thanks, using <code>ServicesResourceTransformer</code> fixed this for me <code>com.sun.jersey.api.client.ClientHandlerException: A message body reader for Java class org.x.y , and Java type class org.x.y and MIME media type application&#47;xml; charset=UTF-8 was not found</code> (notice mine didn&#39;t complain of json, but might still be applicable) (got the problem after adding more dependencies to my project)"}],"tags":[],"owner":{"account_id":70100,"reputation":4960,"user_id":203619,"accept_rate":43,"display_name":"mooreds"},"comment_count":3,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1516911157,"creation_date":1429735802,"answer_id":29808527,"question_id":8594707,"body_markdown":"If you are building an uberjar or &quot;shaded jar&quot;, make sure your meta inf service files are merged.  (This bit me multiple times on a dropwizard project.)\r\n\r\nIf you are using the gradle shadowJar plugin, you want to call `mergeServiceFiles()` in your `shadowJar` target: https://github.com/johnrengelman/shadow#merging-service-files\r\n\r\nNot sure what the analogous commands are for maven or other build systems.","title":"Jersey Exception : SEVERE: A message body reader for Java class","body":"<p>If you are building an uberjar or \"shaded jar\", make sure your meta inf service files are merged.  (This bit me multiple times on a dropwizard project.)</p>\n\n<p>If you are using the gradle shadowJar plugin, you want to call <code>mergeServiceFiles()</code> in your <code>shadowJar</code> target: <a href=\"https://github.com/johnrengelman/shadow#merging-service-files\" rel=\"nofollow noreferrer\">https://github.com/johnrengelman/shadow#merging-service-files</a></p>\n\n<p>Not sure what the analogous commands are for maven or other build systems.</p>\n"},{"tags":[],"owner":{"account_id":2172788,"reputation":2115,"user_id":1924298,"accept_rate":60,"display_name":"Jens Peters"},"comment_count":0,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1430316785,"creation_date":1430316266,"answer_id":29946118,"question_id":8594707,"body_markdown":"We also decided to use jersey as a solution. But as we are using org.JSON in most of the cases this dependency is unecessary and we felt not good. \r\n\r\nTherefore we used the String representation to get a org.JSON object, instead of\r\n\r\n    JSONObject output = response.getEntity(JSONObject.class); \r\n\r\nwe use it this way now: \r\n\r\n    JSONObject output = new JSONObject(response.getEntity(String.class)); \r\n\r\nwhere JSONObject comes from org.JSON and the imports could be changed from:\r\n\r\n    -import org.codehaus.jettison.json.JSONArray;\r\n    -import org.codehaus.jettison.json.JSONException;\r\n    -import org.codehaus.jettison.json.JSONObject;\r\n    +import org.json.JSONArray;\r\n    +import org.json.JSONException;\r\n    +import org.json.JSONObject;","title":"Jersey Exception : SEVERE: A message body reader for Java class","body":"<p>We also decided to use jersey as a solution. But as we are using org.JSON in most of the cases this dependency is unecessary and we felt not good. </p>\n\n<p>Therefore we used the String representation to get a org.JSON object, instead of</p>\n\n<pre><code>JSONObject output = response.getEntity(JSONObject.class); \n</code></pre>\n\n<p>we use it this way now: </p>\n\n<pre><code>JSONObject output = new JSONObject(response.getEntity(String.class)); \n</code></pre>\n\n<p>where JSONObject comes from org.JSON and the imports could be changed from:</p>\n\n<pre><code>-import org.codehaus.jettison.json.JSONArray;\n-import org.codehaus.jettison.json.JSONException;\n-import org.codehaus.jettison.json.JSONObject;\n+import org.json.JSONArray;\n+import org.json.JSONException;\n+import org.json.JSONObject;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5774013,"reputation":1046,"user_id":5369132,"accept_rate":25,"display_name":"JesseBoyd"},"score":1,"creation_date":1509131626,"post_id":41339211,"comment_id":80911319,"body_markdown":"what does xmlrootelement have to do with sending a JSON object?","body":"what does xmlrootelement have to do with sending a JSON object?"}],"tags":[],"owner":{"account_id":3723682,"reputation":657,"user_id":3098044,"display_name":"mkumar0304"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1482814631,"creation_date":1482814631,"answer_id":41339211,"question_id":8594707,"body_markdown":"Just add below lines in your POJO before start of class ,and your issue is resolved.\r\n\t @Produces(&quot;application/json&quot;)\r\n\t @XmlRootElement\r\n\t See example \r\n\t import javax.ws.rs.Produces;\r\n\t import javax.xml.bind.annotation.XmlRootElement;\r\n\r\n\t /**\r\n\t * @author manoj.kumar\r\n\t * @email kumarmanoj.mtech@gmail.com\r\n\t */\r\n\t @Produces(&quot;application/json&quot;)\r\n\t @XmlRootElement  \r\n\t public class User {\r\n\t \r\n\t private String username;\r\n\t private String password;\r\n\t private String email;\r\n\t public String getUsername() {\r\n\t return username;\r\n\t }\r\n\t public void setUsername(String username) {\r\n\t\t this.username = username;\r\n\t }\r\n\t public String getPassword() {\r\n\t\t return password;\r\n\t }\r\n\t public void setPassword(String password) {\r\n\t\t this.password = password;\r\n\t }\r\n\t public String getEmail() {\r\n\t\treturn email;\r\n\t }\r\n\t public void setEmail(String email) {\r\n\t\tthis.email = email;\r\n\t }\r\n\t \r\n\t}\r\n\tadd below lines inside of your web.xml\r\n\t&lt;init-param&gt;\r\n\t\t&lt;param-name&gt;com.sun.jersey.api.json.POJOMappingFeature&lt;/param-name&gt;\r\n\t\t&lt;param-value&gt;true&lt;/param-value&gt;\r\n\t&lt;/init-param&gt;  \r\n\tNow recompile your webservice everything would work!!!","title":"Jersey Exception : SEVERE: A message body reader for Java class","body":"<p>Just add below lines in your POJO before start of class ,and your issue is resolved.\n     @Produces(\"application/json\")\n     @XmlRootElement\n     See example \n     import javax.ws.rs.Produces;\n     import javax.xml.bind.annotation.XmlRootElement;</p>\n\n<pre><code> /**\n * @author manoj.kumar\n * @email kumarmanoj.mtech@gmail.com\n */\n @Produces(\"application/json\")\n @XmlRootElement  \n public class User {\n\n private String username;\n private String password;\n private String email;\n public String getUsername() {\n return username;\n }\n public void setUsername(String username) {\n     this.username = username;\n }\n public String getPassword() {\n     return password;\n }\n public void setPassword(String password) {\n     this.password = password;\n }\n public String getEmail() {\n    return email;\n }\n public void setEmail(String email) {\n    this.email = email;\n }\n\n}\nadd below lines inside of your web.xml\n&lt;init-param&gt;\n    &lt;param-name&gt;com.sun.jersey.api.json.POJOMappingFeature&lt;/param-name&gt;\n    &lt;param-value&gt;true&lt;/param-value&gt;\n&lt;/init-param&gt;  \nNow recompile your webservice everything would work!!!\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7893242,"reputation":8350,"user_id":5962766,"accept_rate":87,"display_name":"Justinas Jakavonis"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1485355374,"creation_date":1485354652,"answer_id":41854150,"question_id":8594707,"body_markdown":"Try adding:\r\n   \r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.owlike&lt;/groupId&gt;\r\n        &lt;artifactId&gt;genson&lt;/artifactId&gt;\r\n        &lt;version&gt;1.4&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\nAlso this problem may occur if you&#39;re using `HTTP GET` with message body so in this case adding jersey-json lib, `@XmlRootElement` or modifying web.xml won&#39;t help. You should use URL `QueryParam` or `HTTP POST`.","title":"Jersey Exception : SEVERE: A message body reader for Java class","body":"<p>Try adding:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.owlike&lt;/groupId&gt;\n    &lt;artifactId&gt;genson&lt;/artifactId&gt;\n    &lt;version&gt;1.4&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>Also this problem may occur if you're using <code>HTTP GET</code> with message body so in this case adding jersey-json lib, <code>@XmlRootElement</code> or modifying web.xml won't help. You should use URL <code>QueryParam</code> or <code>HTTP POST</code>.</p>\n"},{"tags":[],"owner":{"account_id":9036075,"reputation":111,"user_id":6732010,"display_name":"Alexandr  Panchenko"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1586335440,"creation_date":1586335055,"answer_id":61096587,"question_id":8594707,"body_markdown":"for Python and Swagger example:\r\n\r\n```\r\nimport requests\r\nbase_url = &#39;https://petstore.swagger.io/v2&#39;\r\ndef store_order(uid):\r\n    api_url = f&quot;{base_url}/store/order&quot;\r\n    api_data = {\r\n        &#39;id&#39;:uid,\r\n        &quot;petId&quot;: 0,\r\n        &quot;quantity&quot;: 0,\r\n        &quot;shipDate&quot;: &quot;2020-04-08T07:56:05.832Z&quot;,\r\n        &quot;status&quot;: &quot;placed&quot;,\r\n        &quot;complete&quot;: &quot;true&quot;\r\n        }\r\n    # is a kind of magic..\r\n    r = requests.post(api_url, json=api_data)\r\n    return r\r\nprint(store_order(0).content)    \r\n```\r\nMost important string with MIME type:\r\nr = requests.post(api_url, json=api_data)","title":"Jersey Exception : SEVERE: A message body reader for Java class","body":"<p>for Python and Swagger example:</p>\n\n<pre><code>import requests\nbase_url = 'https://petstore.swagger.io/v2'\ndef store_order(uid):\n    api_url = f\"{base_url}/store/order\"\n    api_data = {\n        'id':uid,\n        \"petId\": 0,\n        \"quantity\": 0,\n        \"shipDate\": \"2020-04-08T07:56:05.832Z\",\n        \"status\": \"placed\",\n        \"complete\": \"true\"\n        }\n    # is a kind of magic..\n    r = requests.post(api_url, json=api_data)\n    return r\nprint(store_order(0).content)    \n</code></pre>\n\n<p>Most important string with MIME type:\nr = requests.post(api_url, json=api_data)</p>\n"},{"tags":[],"owner":{"account_id":9005008,"reputation":130,"user_id":6712094,"display_name":"Ajay"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1591352064,"creation_date":1591350634,"answer_id":62212551,"question_id":8594707,"body_markdown":"Q) *Code was working fine in Intellj but failing in command line.*\r\n\r\nSol) *Add dependencies of jersey as a direct dependency rather than a transient one.*\r\n\r\n\r\nReasoning: Since, it was working fine with IntelliJ, dependencies are correctly configured. \r\n\r\n1. Get required dependencies by one of the following:\r\n\r\n 1. check for the IntelliJ running command. [Stackoverflow-link][1]\r\n 2. List dependencies from maven ```mvn dependency:tree```\r\n\r\n2. Now, add those problematic jersey dependencies explicitly.\r\n  [1]: https://stackoverflow.com/questions/28141393/running-a-java-program-created-in-intellij-on-windows-command-line","title":"Jersey Exception : SEVERE: A message body reader for Java class","body":"<p>Q) <em>Code was working fine in Intellj but failing in command line.</em></p>\n\n<p>Sol) <em>Add dependencies of jersey as a direct dependency rather than a transient one.</em></p>\n\n<p>Reasoning: Since, it was working fine with IntelliJ, dependencies are correctly configured. </p>\n\n<ol>\n<li><p>Get required dependencies by one of the following:</p>\n\n<ol>\n<li>check for the IntelliJ running command. <a href=\"https://stackoverflow.com/questions/28141393/running-a-java-program-created-in-intellij-on-windows-command-line\">Stackoverflow-link</a></li>\n<li>List dependencies from maven <code>mvn dependency:tree</code></li>\n</ol></li>\n<li><p>Now, add those problematic jersey dependencies explicitly.</p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":2635098,"reputation":181,"user_id":2280024,"display_name":"Jay"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673528478,"creation_date":1673528478,"answer_id":75096716,"question_id":8594707,"body_markdown":"I was able to fix it after updating my Java version (1.8 in my case). I was using get method in com.sun.jersey.api.client.WebResource.entity(&lt;param1&gt;, &lt;param2&gt;).accept(&lt;param&gt;).get(&lt;ResponseClass&gt;).","title":"Jersey Exception : SEVERE: A message body reader for Java class","body":"<p>I was able to fix it after updating my Java version (1.8 in my case). I was using get method in com.sun.jersey.api.client.WebResource.entity(, ).accept().get().</p>\n"}],"owner":{"account_id":54405,"reputation":2297,"user_id":162758,"accept_rate":65,"display_name":"VDev"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":110502,"favorite_count":0,"down_vote_count":1,"up_vote_count":41,"accepted_answer_id":8594810,"answer_count":16,"score":40,"last_activity_date":1673528478,"creation_date":1324492831,"question_id":8594707,"body_markdown":"I have a Jersey based Rest WS which outputs JSON. I am implementing a Jersey Client to invoke the WS and consume the JSON response. The client code I have is below\r\n&lt;pre&gt;\r\nWebResource r = restClient.resource(UriBuilder.fromUri(&quot;http://localhost/&quot;).port(8080).build());\r\nString resp = r.path(&quot;/user&quot;).accept(MediaType.APPLICATION_JSON).get(String.class);\r\nUser[] users = r.path(&quot;/user&quot;).accept(MediaType.APPLICATION_JSON).get(User[].class);\r\n&lt;/pre&gt;\r\nThe 2nd line outputs the JSON string response correctly, however the 3rd line to marshal JSON to the POJO is not happening and I get the following exception stacktrace\r\n\r\n&lt;pre&gt;\r\nSEVERE: A message body reader for Java class [Lorg.shoppingsite.model.entity.jpa.User;, and Java type class [Lorg.shoppingsite.model.entity.jpa.User;, and MIME media type application/json was not found\r\nDec 21, 2011 11:32:01 AM com.sun.jersey.api.client.ClientResponse getEntity\r\nSEVERE: The registered message body readers compatible with the MIME media type are:\r\n*/* -&gt;\r\n  com.sun.jersey.core.impl.provider.entity.FormProvider\r\n  com.sun.jersey.core.impl.provider.entity.StringProvider\r\n  com.sun.jersey.core.impl.provider.entity.ByteArrayProvider\r\n  com.sun.jersey.core.impl.provider.entity.FileProvider\r\n  com.sun.jersey.core.impl.provider.entity.InputStreamProvider\r\n  com.sun.jersey.core.impl.provider.entity.DataSourceProvider\r\n  com.sun.jersey.core.impl.provider.entity.XMLJAXBElementProvider$General\r\n  com.sun.jersey.core.impl.provider.entity.ReaderProvider\r\n  com.sun.jersey.core.impl.provider.entity.DocumentProvider\r\n  com.sun.jersey.core.impl.provider.entity.SourceProvider$StreamSourceReader\r\n  com.sun.jersey.core.impl.provider.entity.SourceProvider$SAXSourceReader\r\n  com.sun.jersey.core.impl.provider.entity.SourceProvider$DOMSourceReader\r\n  com.sun.jersey.core.impl.provider.entity.XMLRootElementProvider$General\r\n  com.sun.jersey.core.impl.provider.entity.XMLListElementProvider$General\r\n  com.sun.jersey.core.impl.provider.entity.XMLRootObjectProvider$General\r\n  com.sun.jersey.core.impl.provider.entity.EntityHolderReader\r\n&lt;/pre&gt;\r\n\r\nI have the correct MIME TYPES in my request. My POJO has been annotated with XMLRootElement. What am I missing. \r\n\r\nThank you","title":"Jersey Exception : SEVERE: A message body reader for Java class","body":"<p>I have a Jersey based Rest WS which outputs JSON. I am implementing a Jersey Client to invoke the WS and consume the JSON response. The client code I have is below</p>\n\n<pre>\nWebResource r = restClient.resource(UriBuilder.fromUri(\"http://localhost/\").port(8080).build());\nString resp = r.path(\"/user\").accept(MediaType.APPLICATION_JSON).get(String.class);\nUser[] users = r.path(\"/user\").accept(MediaType.APPLICATION_JSON).get(User[].class);\n</pre>\n\n<p>The 2nd line outputs the JSON string response correctly, however the 3rd line to marshal JSON to the POJO is not happening and I get the following exception stacktrace</p>\n\n<pre>\nSEVERE: A message body reader for Java class [Lorg.shoppingsite.model.entity.jpa.User;, and Java type class [Lorg.shoppingsite.model.entity.jpa.User;, and MIME media type application/json was not found\nDec 21, 2011 11:32:01 AM com.sun.jersey.api.client.ClientResponse getEntity\nSEVERE: The registered message body readers compatible with the MIME media type are:\n*/* ->\n  com.sun.jersey.core.impl.provider.entity.FormProvider\n  com.sun.jersey.core.impl.provider.entity.StringProvider\n  com.sun.jersey.core.impl.provider.entity.ByteArrayProvider\n  com.sun.jersey.core.impl.provider.entity.FileProvider\n  com.sun.jersey.core.impl.provider.entity.InputStreamProvider\n  com.sun.jersey.core.impl.provider.entity.DataSourceProvider\n  com.sun.jersey.core.impl.provider.entity.XMLJAXBElementProvider$General\n  com.sun.jersey.core.impl.provider.entity.ReaderProvider\n  com.sun.jersey.core.impl.provider.entity.DocumentProvider\n  com.sun.jersey.core.impl.provider.entity.SourceProvider$StreamSourceReader\n  com.sun.jersey.core.impl.provider.entity.SourceProvider$SAXSourceReader\n  com.sun.jersey.core.impl.provider.entity.SourceProvider$DOMSourceReader\n  com.sun.jersey.core.impl.provider.entity.XMLRootElementProvider$General\n  com.sun.jersey.core.impl.provider.entity.XMLListElementProvider$General\n  com.sun.jersey.core.impl.provider.entity.XMLRootObjectProvider$General\n  com.sun.jersey.core.impl.provider.entity.EntityHolderReader\n</pre>\n\n<p>I have the correct MIME TYPES in my request. My POJO has been annotated with XMLRootElement. What am I missing. </p>\n\n<p>Thank you</p>\n"},{"tags":["java","sorting","arraylist"],"comments":[{"owner":{"account_id":213928,"reputation":13807,"user_id":467592,"accept_rate":92,"display_name":"Rohit Sharma"},"score":1,"creation_date":1494321608,"post_id":43865878,"comment_id":74766888,"body_markdown":"Comparators are what you need here. https://www.javatpoint.com/Comparator-interface-in-collection-framework","body":"Comparators are what you need here. <a href=\"https://www.javatpoint.com/Comparator-interface-in-collection-framework\" rel=\"nofollow noreferrer\">javatpoint.com/Comparator-interface-in-collection-framework</a>"},{"owner":{"account_id":2745652,"reputation":1931,"user_id":2366125,"accept_rate":61,"display_name":"CKM"},"score":0,"creation_date":1494321739,"post_id":43865878,"comment_id":74766979,"body_markdown":"reason for downvote?","body":"reason for downvote?"},{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":0,"creation_date":1494322071,"post_id":43865878,"comment_id":74767215,"body_markdown":"@chandresh Lack of effort shown, presumably","body":"@chandresh Lack of effort shown, presumably"},{"owner":{"account_id":2745652,"reputation":1931,"user_id":2366125,"accept_rate":61,"display_name":"CKM"},"score":0,"creation_date":1494323073,"post_id":43865878,"comment_id":74767904,"body_markdown":"@khelwood. Is the effort clear in the question now?","body":"@khelwood. Is the effort clear in the question now?"},{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":0,"creation_date":1494325590,"post_id":43865878,"comment_id":74769603,"body_markdown":"@chandresh Somewhat","body":"@chandresh Somewhat"}],"answers":[{"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1494322167,"post_id":43865987,"comment_id":74767275,"body_markdown":"The ``epoch`` field seems to be a ``String``, so you need a conversion first.","body":"The <code>epoch</code> field seems to be a <code>String</code>, so you need a conversion first."}],"tags":[],"owner":{"account_id":10377194,"reputation":4505,"user_id":7653073,"display_name":"Malte Hartwig"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1494322378,"creation_date":1494321755,"answer_id":43865987,"question_id":43865878,"body_markdown":"Try Comparators:\r\n\r\n    list.sort(Comparator.comparing(obj -&gt; Long.parseLong(obj.getEpoch())));\r\n\r\nThis is the newer syntax and Comparator API introduced with Java 8. The `comparing` method takes a function as a parameter that will extract the relevant attributes from the elements in the list.\r\n\r\nIf you read the JavaDoc of the `comparing` methods of Comparator you will find more information on how to modify the sorting further.\r\n\r\nFor a better understanding on what is happening:\r\n\r\n    list.sort(new Comparator&lt;MyObject&gt;() {\r\n        public int compare(MyObject o1, MyObject o2) {\r\n            return Long.parseLong(o1.getEpoch().toMillis()) - Long.parseLong(o2.getEpoch().toMillis());\r\n        }\r\n    })","title":"Sort arraylist of objects containing epochs in Java","body":"<p>Try Comparators:</p>\n\n<pre><code>list.sort(Comparator.comparing(obj -&gt; Long.parseLong(obj.getEpoch())));\n</code></pre>\n\n<p>This is the newer syntax and Comparator API introduced with Java 8. The <code>comparing</code> method takes a function as a parameter that will extract the relevant attributes from the elements in the list.</p>\n\n<p>If you read the JavaDoc of the <code>comparing</code> methods of Comparator you will find more information on how to modify the sorting further.</p>\n\n<p>For a better understanding on what is happening:</p>\n\n<pre><code>list.sort(new Comparator&lt;MyObject&gt;() {\n    public int compare(MyObject o1, MyObject o2) {\n        return Long.parseLong(o1.getEpoch().toMillis()) - Long.parseLong(o2.getEpoch().toMillis());\n    }\n})\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2745652,"reputation":1931,"user_id":2366125,"accept_rate":61,"display_name":"CKM"},"score":0,"creation_date":1494324826,"post_id":43866067,"comment_id":74769130,"body_markdown":"any idea how to get back the epoch representation from string one and then sort based on epoch (time)?","body":"any idea how to get back the epoch representation from string one and then sort based on epoch (time)?"}],"tags":[],"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1494322038,"creation_date":1494322038,"answer_id":43866067,"question_id":43865878,"body_markdown":"You can use ``Collections.sort(List&lt;T&gt;, Comparator&lt;T&gt;)`` to do this. You just need to specify a ``Comparator`` that uses the ``epoch`` component of your datatype.\r\n\r\nLets assume your type looks like this (the epoch seems to be a String):\r\n\r\n    class Container {\r\n      String epoch;\r\n      Integer i;\r\n      Container(String e, Integer ii){\r\n        epoch = e;\r\n        i = ii;\r\n      }\r\n    }\r\n\r\nThen you can create a Comparator that compares the numerical (!) value of the epoch String:\r\n\r\n    class ContComparator implements Comparator&lt;Container&gt; {\r\n      @Override\r\n      public int compare(Container o1, Container o2) {\r\n        final Long epoch2 = Long.valueOf(o2.epoch);\r\n        final Long epoch1 = Long.valueOf(o1.epoch);\r\n        return epoch1.compareTo(epoch2);\r\n      }\r\n    }\r\n\r\n\r\nAnd use it like this:\r\n\r\n    List&lt;Container&gt; arrlist = ... ;\r\n    Collections.sort(arrlist, new ContComparator());\r\n\r\n","title":"Sort arraylist of objects containing epochs in Java","body":"<p>You can use <code>Collections.sort(List&lt;T&gt;, Comparator&lt;T&gt;)</code> to do this. You just need to specify a <code>Comparator</code> that uses the <code>epoch</code> component of your datatype.</p>\n\n<p>Lets assume your type looks like this (the epoch seems to be a String):</p>\n\n<pre><code>class Container {\n  String epoch;\n  Integer i;\n  Container(String e, Integer ii){\n    epoch = e;\n    i = ii;\n  }\n}\n</code></pre>\n\n<p>Then you can create a Comparator that compares the numerical (!) value of the epoch String:</p>\n\n<pre><code>class ContComparator implements Comparator&lt;Container&gt; {\n  @Override\n  public int compare(Container o1, Container o2) {\n    final Long epoch2 = Long.valueOf(o2.epoch);\n    final Long epoch1 = Long.valueOf(o1.epoch);\n    return epoch1.compareTo(epoch2);\n  }\n}\n</code></pre>\n\n<p>And use it like this:</p>\n\n<pre><code>List&lt;Container&gt; arrlist = ... ;\nCollections.sort(arrlist, new ContComparator());\n</code></pre>\n"},{"comments":[{"owner":{"account_id":7291967,"reputation":57515,"user_id":5558072,"accept_rate":100,"display_name":"Youcef LAIDANI"},"score":0,"creation_date":1494322564,"post_id":43866075,"comment_id":74767545,"body_markdown":"new information, what did you mean @NewUser also the order will not change, or what did you mean?","body":"new information, what did you mean @NewUser also the order will not change, or what did you mean?"},{"owner":{"account_id":7291967,"reputation":57515,"user_id":5558072,"accept_rate":100,"display_name":"Youcef LAIDANI"},"score":0,"creation_date":1494322710,"post_id":43866075,"comment_id":74767642,"body_markdown":"i got it @NewUser thank you for the new information i appreciate it you can&#39;t add or remove your list","body":"i got it @NewUser thank you for the new information i appreciate it you can&#39;t add or remove your list"},{"owner":{"account_id":1481208,"reputation":3739,"user_id":1403801,"accept_rate":90,"display_name":"NewUser"},"score":1,"creation_date":1494322725,"post_id":43866075,"comment_id":74767652,"body_markdown":"`List&lt;String&gt; asList = Arrays.asList(&quot;name&quot;);\nasList.remove(0);` this will fail..","body":"<code>List&lt;String&gt; asList = Arrays.asList(&quot;name&quot;); asList.remove(0);</code> this will fail.."},{"owner":{"account_id":2745652,"reputation":1931,"user_id":2366125,"accept_rate":61,"display_name":"CKM"},"score":0,"creation_date":1494323455,"post_id":43866075,"comment_id":74768189,"body_markdown":"@YCF_L  Does it change the sorted output if I consider epoch as just string instead of time.?","body":"@YCF_L  Does it change the sorted output if I consider epoch as just string instead of time.?"},{"owner":{"account_id":7291967,"reputation":57515,"user_id":5558072,"accept_rate":100,"display_name":"Youcef LAIDANI"},"score":0,"creation_date":1494324209,"post_id":43866075,"comment_id":74768679,"body_markdown":"@chandresh in my example i consider `1493275005401` like a string not a time","body":"@chandresh in my example i consider <code>1493275005401</code> like a string not a time"},{"owner":{"account_id":2745652,"reputation":1931,"user_id":2366125,"accept_rate":61,"display_name":"CKM"},"score":0,"creation_date":1494324290,"post_id":43866075,"comment_id":74768745,"body_markdown":"But it is `epoch` and hence time.","body":"But it is <code>epoch</code> and hence time."},{"owner":{"account_id":7291967,"reputation":57515,"user_id":5558072,"accept_rate":100,"display_name":"Youcef LAIDANI"},"score":0,"creation_date":1494324315,"post_id":43866075,"comment_id":74768758,"body_markdown":"what did you mean by epoch? i don&#39;t get it @chandresh ?","body":"what did you mean by epoch? i don&#39;t get it @chandresh ?"},{"owner":{"account_id":7291967,"reputation":57515,"user_id":5558072,"accept_rate":100,"display_name":"Youcef LAIDANI"},"score":0,"creation_date":1494324433,"post_id":43866075,"comment_id":74768847,"body_markdown":"ah ok, yes it work fine you can use it like it is @chandresh did you try it?","body":"ah ok, yes it work fine you can use it like it is @chandresh did you try it?"},{"owner":{"account_id":2745652,"reputation":1931,"user_id":2366125,"accept_rate":61,"display_name":"CKM"},"score":0,"creation_date":1494324498,"post_id":43866075,"comment_id":74768900,"body_markdown":"I tried it but it gives lexicographic ordering which is not the same as time ordering. I got this ordering {14932,1493275005401,778888}.","body":"I tried it but it gives lexicographic ordering which is not the same as time ordering. I got this ordering {14932,1493275005401,778888}."},{"owner":{"account_id":7291967,"reputation":57515,"user_id":5558072,"accept_rate":100,"display_name":"Youcef LAIDANI"},"score":0,"creation_date":1494324555,"post_id":43866075,"comment_id":74768949,"body_markdown":"this is just an example @chandresh you have to use your real values of epoch?","body":"this is just an example @chandresh you have to use your real values of epoch?"},{"owner":{"account_id":2745652,"reputation":1931,"user_id":2366125,"accept_rate":61,"display_name":"CKM"},"score":0,"creation_date":1494324683,"post_id":43866075,"comment_id":74769043,"body_markdown":"I understand that. If we follow, epoch ordering, I should have got {14932,778888,1493275005401}(assume they are real values) which represents the time elapsed since Jan 1, 1970. This is where I was worried going through just string sort.","body":"I understand that. If we follow, epoch ordering, I should have got {14932,778888,1493275005401}(assume they are real values) which represents the time elapsed since Jan 1, 1970. This is where I was worried going through just string sort."},{"owner":{"account_id":7291967,"reputation":57515,"user_id":5558072,"accept_rate":100,"display_name":"Youcef LAIDANI"},"score":0,"creation_date":1494325065,"post_id":43866075,"comment_id":74769281,"body_markdown":"@chandresh you can use this `return new BigInteger(o1.getName()).compareTo(new BigInteger(o2.getName()));` in your comparator, i already edit my answer","body":"@chandresh you can use this <code>return new BigInteger(o1.getName()).compareTo(new BigInteger(o2.getName()));</code> in your comparator, i already edit my answer"},{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":1,"creation_date":1494328193,"post_id":43866075,"comment_id":74771399,"body_markdown":"@NewUser It&#39;s not an immutable list. Just a fixed-size list.","body":"@NewUser It&#39;s not an immutable list. Just a fixed-size list."}],"tags":[],"owner":{"account_id":7291967,"reputation":57515,"user_id":5558072,"accept_rate":100,"display_name":"Youcef LAIDANI"},"comment_count":13,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1494325044,"creation_date":1494322047,"answer_id":43866075,"question_id":43865878,"body_markdown":"You can use `Collections.sort` with a Comparator, consider you have this :\r\n\r\n    List&lt;Item&gt; arrlist = Arrays.asList(new Item(&quot;1493275005401&quot;, 2), new Item(&quot;14932&quot;, 5), \r\n        new Item(&quot;778888&quot;, 1));\r\n\r\nIf you want to sort using the first Item which is String you can use :\r\n\r\n    Collections.sort(arrlist, (o1, o2) -&gt; {\r\n        return o1.getName().compareTo(o2.getName());\r\n    });\r\n\r\nIf you want to sort using the second Item which is and int you can use :\r\n\r\n    Collections.sort(arrlist, (o1, o2) -&gt; {\r\n        return o1.getId() - o2.getId();\r\n    });\r\n\r\nNote : You can also sort your List with multiple itmes.\r\n\r\n---\r\n\r\n**Edit**\r\n\r\nbecause epoch is an Integer you can convert it to BigInteger and compare your dates :\r\n\r\n    Collections.sort(arrlist, (o1, o2) -&gt; {\r\n        return new BigInteger(o1.getName()).compareTo(new BigInteger(o2.getName()));\r\n    });","title":"Sort arraylist of objects containing epochs in Java","body":"<p>You can use <code>Collections.sort</code> with a Comparator, consider you have this :</p>\n\n<pre><code>List&lt;Item&gt; arrlist = Arrays.asList(new Item(\"1493275005401\", 2), new Item(\"14932\", 5), \n    new Item(\"778888\", 1));\n</code></pre>\n\n<p>If you want to sort using the first Item which is String you can use :</p>\n\n<pre><code>Collections.sort(arrlist, (o1, o2) -&gt; {\n    return o1.getName().compareTo(o2.getName());\n});\n</code></pre>\n\n<p>If you want to sort using the second Item which is and int you can use :</p>\n\n<pre><code>Collections.sort(arrlist, (o1, o2) -&gt; {\n    return o1.getId() - o2.getId();\n});\n</code></pre>\n\n<p>Note : You can also sort your List with multiple itmes.</p>\n\n<hr>\n\n<p><strong>Edit</strong></p>\n\n<p>because epoch is an Integer you can convert it to BigInteger and compare your dates :</p>\n\n<pre><code>Collections.sort(arrlist, (o1, o2) -&gt; {\n    return new BigInteger(o1.getName()).compareTo(new BigInteger(o2.getName()));\n});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6986635,"reputation":359,"user_id":5357287,"display_name":"Tasneem Haider"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673527866,"creation_date":1673527866,"answer_id":75096596,"question_id":43865878,"body_markdown":"For sorting by epoch time, we can do this\r\n`anyList.sort(Comparator.comparing(o.getEpoch()))`","title":"Sort arraylist of objects containing epochs in Java","body":"<p>For sorting by epoch time, we can do this\n<code>anyList.sort(Comparator.comparing(o.getEpoch()))</code></p>\n"}],"owner":{"account_id":2745652,"reputation":1931,"user_id":2366125,"accept_rate":61,"display_name":"CKM"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1278,"favorite_count":0,"down_vote_count":4,"up_vote_count":2,"accepted_answer_id":43866075,"answer_count":4,"score":-2,"last_activity_date":1673527866,"creation_date":1494321469,"question_id":43865878,"body_markdown":"I&#39;ve an arraylist of objects like `arrlist =[obj1, obj2,obj3]`, where each object contains `epochs` and an Integer i.e. `obj_i = {&quot;1493275005401&quot;, 2} for all i` . I want to sort arraylist on the basis of epochs. Being a beginner in java, I don&#39;t know much how to do this. \r\n\r\nNote: I did some googling, came up with `Collections.sort()` but I&#39;m not sure how to tell sort to sort on a specific field of the object.\r\n\r\nAny help is appreciated. \r\n\r\nEdit: Does it change the sorted output if I consider `epoch`(TIME) as just `string` instead of `time.`?","title":"Sort arraylist of objects containing epochs in Java","body":"<p>I've an arraylist of objects like <code>arrlist =[obj1, obj2,obj3]</code>, where each object contains <code>epochs</code> and an Integer i.e. <code>obj_i = {\"1493275005401\", 2} for all i</code> . I want to sort arraylist on the basis of epochs. Being a beginner in java, I don't know much how to do this. </p>\n\n<p>Note: I did some googling, came up with <code>Collections.sort()</code> but I'm not sure how to tell sort to sort on a specific field of the object.</p>\n\n<p>Any help is appreciated. </p>\n\n<p>Edit: Does it change the sorted output if I consider <code>epoch</code>(TIME) as just <code>string</code> instead of <code>time.</code>?</p>\n"},{"tags":["java","spring","spring-boot","rabbitmq","spring-amqp"],"answers":[{"comments":[{"owner":{"account_id":4624282,"reputation":110,"user_id":3748529,"display_name":"Elton Hoffmann"},"score":0,"creation_date":1521035859,"post_id":49278653,"comment_id":85561913,"body_markdown":"Oh cool! But anyway, i&#39;d like to remove the missing queue from my context. Is there any way of intercepting this exception?","body":"Oh cool! But anyway, i&#39;d like to remove the missing queue from my context. Is there any way of intercepting this exception?"},{"owner":{"account_id":1288095,"reputation":169336,"user_id":1240763,"display_name":"Gary Russell"},"score":2,"creation_date":1521039826,"post_id":49278653,"comment_id":85564808,"body_markdown":"Add an `ApplicationListener` to consume `ListenerContainerConsumerFailedEvent ` - see [Consumer Events](https://docs.spring.io/spring-amqp//reference/html/_reference.html#consumer-events). I noticed a bug in the docs; the `container` is actually in the `source` property of the event.","body":"Add an <code>ApplicationListener</code> to consume <code>ListenerContainerConsumerFailedEvent </code> - see <a href=\"https://docs.spring.io/spring-amqp//reference/html/_reference.html#consumer-events\" rel=\"nofollow noreferrer\">Consumer Events</a>. I noticed a bug in the docs; the <code>container</code> is actually in the <code>source</code> property of the event."},{"owner":{"account_id":4624282,"reputation":110,"user_id":3748529,"display_name":"Elton Hoffmann"},"score":0,"creation_date":1521043596,"post_id":49278653,"comment_id":85567706,"body_markdown":"Thanks for all the replies! Unfortunately it didn&#39;t work. My exception somehow was not caught by the listener. I&#39;ve edited my post with some new code","body":"Thanks for all the replies! Unfortunately it didn&#39;t work. My exception somehow was not caught by the listener. I&#39;ve edited my post with some new code"},{"owner":{"account_id":1288095,"reputation":169336,"user_id":1240763,"display_name":"Gary Russell"},"score":1,"creation_date":1521046457,"post_id":49278653,"comment_id":85569707,"body_markdown":"You didn&#39;t add the container as a bean definition, you registered it as a singleton `context.getBeanFactory().registerSingleton(queueName, container);` you need to use `destroySingleton()` (or register it as a bean definition  instead). The add/remove must use the same mechanism.","body":"You didn&#39;t add the container as a bean definition, you registered it as a singleton <code>context.getBeanFactory().registerSingleton(queueName, container);</code> you need to use <code>destroySingleton()</code> (or register it as a bean definition  instead). The add/remove must use the same mechanism."},{"owner":{"account_id":4624282,"reputation":110,"user_id":3748529,"display_name":"Elton Hoffmann"},"score":0,"creation_date":1521048848,"post_id":49278653,"comment_id":85571373,"body_markdown":"Will the `ListenerContainerConsumerFailedEvent` be fired only if the `SimpleMessageListenerContainer` was registered as a Bean? My `onApplicationEvent` is never being called","body":"Will the <code>ListenerContainerConsumerFailedEvent</code> be fired only if the <code>SimpleMessageListenerContainer</code> was registered as a Bean? My <code>onApplicationEvent</code> is never being called"},{"owner":{"account_id":1288095,"reputation":169336,"user_id":1240763,"display_name":"Gary Russell"},"score":1,"creation_date":1521049048,"post_id":49278653,"comment_id":85571487,"body_markdown":"Ah right - yes; if registering as a singleton you need to call `beanFactory.initializeBean()` to that all the `Aware...` interfaces are injected (including the event publisher). Or you can register it as a bean definition and call `getBean()`.","body":"Ah right - yes; if registering as a singleton you need to call <code>beanFactory.initializeBean()</code> to that all the <code>Aware...</code> interfaces are injected (including the event publisher). Or you can register it as a bean definition and call <code>getBean()</code>."},{"owner":{"account_id":3237003,"reputation":1250,"user_id":2730950,"display_name":"Vladimir"},"score":0,"creation_date":1538019473,"post_id":49278653,"comment_id":91997423,"body_markdown":"@GaryRussell can the SimpleMessageListeningContainer register a handler to to act upon a &quot;cancel received&quot; from a broker and do something about it ? ex. removeQueueNames of the queue thats been canceled?","body":"@GaryRussell can the SimpleMessageListeningContainer register a handler to to act upon a &quot;cancel received&quot; from a broker and do something about it ? ex. removeQueueNames of the queue thats been canceled?"},{"owner":{"account_id":3237003,"reputation":1250,"user_id":2730950,"display_name":"Vladimir"},"score":0,"creation_date":1538020101,"post_id":49278653,"comment_id":91997571,"body_markdown":"or somehow catch the ConsumerCancelledException","body":"or somehow catch the ConsumerCancelledException"},{"owner":{"account_id":1288095,"reputation":169336,"user_id":1240763,"display_name":"Gary Russell"},"score":0,"creation_date":1538051046,"post_id":49278653,"comment_id":92013218,"body_markdown":"You should not ask new questions in comments on old answers; ask a new question instead, You can use an `ApplicationListener` or `@EventListener` method to consume events. See [Consumer Events](https://docs.spring.io/spring-amqp/reference/html/_reference.html#consumer-events).","body":"You should not ask new questions in comments on old answers; ask a new question instead, You can use an <code>ApplicationListener</code> or <code>@EventListener</code> method to consume events. See <a href=\"https://docs.spring.io/spring-amqp/reference/html/_reference.html#consumer-events\" rel=\"nofollow noreferrer\">Consumer Events</a>."},{"owner":{"account_id":3237003,"reputation":1250,"user_id":2730950,"display_name":"Vladimir"},"score":0,"creation_date":1538491630,"post_id":49278653,"comment_id":92155940,"body_markdown":"Thank you @GaryRussell. Apologies for asking the question in the comments.","body":"Thank you @GaryRussell. Apologies for asking the question in the comments."}],"tags":[],"owner":{"account_id":1288095,"reputation":169336,"user_id":1240763,"display_name":"Gary Russell"},"comment_count":10,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1521033018,"creation_date":1521033018,"answer_id":49278653,"question_id":49276797,"body_markdown":"You&#39;ll get error logs, of course, but with `container.setMissingQueuesFatal(true);` (the default), the container will stop itself after 3 attempts to declare the queue at 5 second intervals.\r\n\r\nYou can affect the time it takes to stop by setting the `declarationRetries` (default 3) and `failedDeclarationRetryInterval` (default 5000).","title":"Spring AMQP handle deleted queues","body":"<p>You'll get error logs, of course, but with <code>container.setMissingQueuesFatal(true);</code> (the default), the container will stop itself after 3 attempts to declare the queue at 5 second intervals.</p>\n\n<p>You can affect the time it takes to stop by setting the <code>declarationRetries</code> (default 3) and <code>failedDeclarationRetryInterval</code> (default 5000).</p>\n"},{"tags":[],"owner":{"account_id":13404151,"reputation":1,"user_id":9672686,"display_name":"Stas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673527805,"creation_date":1673527805,"answer_id":75096581,"question_id":49276797,"body_markdown":"The easiest way is to use ApplicationListener for MissingQueueEvent\r\n\r\n```\r\n@Component\r\npublic class MissingQueueListener implements ApplicationListener&lt;MissingQueueEvent&gt; {\r\n\r\n    private static final Logger logger = LoggerFactory.getLogger(MissingQueueListener.class);\r\n\r\n    @Override\r\n    public void onApplicationEvent(MissingQueueEvent missingQueueEvent) {\r\n        ((SimpleMessageListenerContainer) missingQueueEvent.getSource()).removeQueueNames(missingQueueEvent.getQueue());\r\n        logger.error(&quot;Removing missing queue {} from its container&quot;, missingQueueEvent.getQueue());\r\n    }\r\n}\r\n```","title":"Spring AMQP handle deleted queues","body":"<p>The easiest way is to use ApplicationListener for MissingQueueEvent</p>\n<pre><code>@Component\npublic class MissingQueueListener implements ApplicationListener&lt;MissingQueueEvent&gt; {\n\n    private static final Logger logger = LoggerFactory.getLogger(MissingQueueListener.class);\n\n    @Override\n    public void onApplicationEvent(MissingQueueEvent missingQueueEvent) {\n        ((SimpleMessageListenerContainer) missingQueueEvent.getSource()).removeQueueNames(missingQueueEvent.getQueue());\n        logger.error(&quot;Removing missing queue {} from its container&quot;, missingQueueEvent.getQueue());\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":4624282,"reputation":110,"user_id":3748529,"display_name":"Elton Hoffmann"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2081,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":49278653,"answer_count":2,"score":1,"last_activity_date":1673527805,"creation_date":1521027431,"question_id":49276797,"body_markdown":"I&#39;m trying to make a Java service using Spring Boot that connects to a Rabbit exchange, discover new queues (that matches with a given prefix) and connect to them. I&#39;m using `RabbitManagementTemplate` to discover and `SimpleMessageListenerContainer` to create a bind. It works fine.\r\n\r\nThe problem is that when one of these dynamic queues gets deleted (by the web interface for example), my service can&#39;t handle the exception and I didn&#39;t find a place to register some handler to fix this. For these cases I just want to ignore the deletion and move on, I&#39;m not willing to recreate the queue.\r\n\r\nMy code is something like\r\n\r\n    @Scheduled(fixedDelay = 3*1000)\r\n    public void watchNewQueues() {\r\n        for (Queue queue : rabbitManagementTemplate.getQueues()) {\r\n            final String queueName = queue.getName();\r\n            String[] nameParts = queueName.split(&quot;\\\\.&quot;);\r\n            if (&quot;dynamic-queue&quot;.equals(nameParts[0]) &amp;&amp; !context.containsBean(queueName)) {\r\n\r\n                logger.info(&quot;New queue discovered! Binding to {}&quot;, queueName);\r\n                Binding binding = BindingBuilder.bind(queue).to(exchange).with(&quot;testroute.#&quot;);\r\n                rabbitAdmin.declareBinding(binding);\r\n                rabbitAdmin.declareQueue(queue);\r\n\r\n                SimpleMessageListenerContainer container = new SimpleMessageListenerContainer();\r\n                container.setConnectionFactory(connectionFactory);\r\n                container.setQueueNames(queueName);\r\n                container.setMessageListener(new MyMessageListener());\r\n                container.setPrefetchCount(settings.getPrefetch());\r\n\r\n                container.setAutoDeclare(false);\r\n                container.setMissingQueuesFatal(true);\r\n                container.setDeclarationRetries(0);\r\n                container.setFailedDeclarationRetryInterval(-1);\r\n\r\n                context.getBeanFactory().registerSingleton(queueName, container);\r\n\r\n                container.start();\r\n            }\r\n        }\r\n    }\r\n    \r\n    @Override\r\n    public void onApplicationEvent(ListenerContainerConsumerFailedEvent event) {\r\n        if (event.getSource() instanceof SimpleMessageListenerContainer) {\r\n            SimpleMessageListenerContainer container = (SimpleMessageListenerContainer) event.getSource();\r\n            if (context.getAutowireCapableBeanFactory() instanceof BeanDefinitionRegistry) {\r\n                logger.info(&quot;Removing bean! {}&quot;, container.getQueueNames()[0]);\r\n                ((BeanDefinitionRegistry)context.getAutowireCapableBeanFactory()).removeBeanDefinition(container.getQueueNames()[0]);\r\n            } else {\r\n                logger.info(&quot;Context is not able to remove bean&quot;);\r\n            }\r\n        } else {\r\n            logger.info(&quot;Got event but is not a SimpleMessageListenerContainer {}&quot;, event.toString());\r\n        }\r\n    }\r\n\r\n\r\nAnd when the queue gets deleted, console logs:\r\n\r\n    2018-03-13 15:01:29.623  WARN 32736 [pool-1-thread-6] --- o.s.a.r.listener.BlockingQueueConsumer   : Cancel received for amq.ctag-wKQUQkUNOSCtjQ9RBUNCig; Consumer: tags=[{amq.ctag-wKQUQkUNOSCtjQ9RBUNCig=dynamic-queue.some-test}], channel=Cached Rabbit Channel: AMQChannel(amqp://guest@localhost:5672/,3), conn: Proxy@23510c77 Shared Rabbit Connection: SimpleConnection@66c17803 [delegate=amqp://guest@localhost:5672/], acknowledgeMode=AUTO local queue size=0\r\n    2018-03-13 15:01:30.219  WARN 32736 [SimpleAsyncTaskExecutor-1] --- o.s.a.r.l.SimpleMessageListenerContainer : Consumer raised exception, processing can restart if the connection factory supports it. Exception summary: org.springframework.amqp.rabbit.support.ConsumerCancelledException\r\n    2018-03-13 15:01:30.219  INFO 32736 [SimpleAsyncTaskExecutor-1] --- o.s.a.r.l.SimpleMessageListenerContainer : Restarting Consumer: tags=[{}], channel=Cached Rabbit Channel: AMQChannel(amqp://guest@localhost:5672/,3), conn: Proxy@23510c77 Shared Rabbit Connection: SimpleConnection@66c17803 [delegate=amqp://guest@localhost:5672/], acknowledgeMode=AUTO local queue size=0\r\n    2018-03-13 15:01:30.243  WARN 32736 [SimpleAsyncTaskExecutor-2] --- o.s.a.r.listener.BlockingQueueConsumer   : Failed to declare queue:dynamic-queue.some-test\r\n    2018-03-13 15:01:30.246  WARN 32736 [SimpleAsyncTaskExecutor-2] --- o.s.a.r.listener.BlockingQueueConsumer   : Queue declaration failed; retries left=3\r\n\r\n    org.springframework.amqp.rabbit.listener.BlockingQueueConsumer$DeclarationException: Failed to declare queue(s):[dynamic-queue.some-test]\r\n      at org.springframework.amqp.rabbit.listener.BlockingQueueConsumer.attemptPassiveDeclarations(BlockingQueueConsumer.java:571)\r\n      at org.springframework.amqp.rabbit.listener.BlockingQueueConsumer.start(BlockingQueueConsumer.java:470)\r\n      at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1171)\r\n      at java.lang.Thread.run(Thread.java:748)\r\n    Caused by: java.io.IOException: null\r\n      at com.rabbitmq.client.impl.AMQChannel.wrap(AMQChannel.java:106)\r\n      at com.rabbitmq.client.impl.AMQChannel.wrap(AMQChannel.java:102)\r\n      at com.rabbitmq.client.impl.AMQChannel.exnWrappingRpc(AMQChannel.java:124)\r\n      at com.rabbitmq.client.impl.ChannelN.queueDeclarePassive(ChannelN.java:885)\r\n      at com.rabbitmq.client.impl.ChannelN.queueDeclarePassive(ChannelN.java:61)\r\n      at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n      at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n      at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n      at java.lang.reflect.Method.invoke(Method.java:498)\r\n      at org.springframework.amqp.rabbit.connection.CachingConnectionFactory$CachedChannelInvocationHandler.invoke(CachingConnectionFactory.java:835)\r\n      at com.sun.proxy.$Proxy63.queueDeclarePassive(Unknown Source)\r\n      at org.springframework.amqp.rabbit.listener.BlockingQueueConsumer.attemptPassiveDeclarations(BlockingQueueConsumer.java:550)\r\n      ... 3 common frames omitted\r\n    Caused by: com.rabbitmq.client.ShutdownSignalException: channel error; protocol method: #method&lt;channel.close&gt;(reply-code=404, reply-text=NOT_FOUND - no queue &#39;dynamic-queue.some-test&#39; in vhost &#39;/&#39;, class-id=50, method-id=10)\r\n      at com.rabbitmq.utility.ValueOrException.getValue(ValueOrException.java:67)\r\n      at com.rabbitmq.utility.BlockingValueOrException.uninterruptibleGetValue(BlockingValueOrException.java:33)\r\n      at com.rabbitmq.client.impl.AMQChannel$BlockingRpcContinuation.getReply(AMQChannel.java:361)\r\n      at com.rabbitmq.client.impl.AMQChannel.privateRpc(AMQChannel.java:226)\r\n      at com.rabbitmq.client.impl.AMQChannel.exnWrappingRpc(AMQChannel.java:118)\r\n      ... 12 common frames omitted\r\n    Caused by: com.rabbitmq.client.ShutdownSignalException: channel error; protocol method: #method&lt;channel.close&gt;(reply-code=404, reply-text=NOT_FOUND - no queue &#39;dynamic-queue.some-test&#39; in vhost &#39;/&#39;, class-id=50, method-id=10)\r\n      at com.rabbitmq.client.impl.ChannelN.asyncShutdown(ChannelN.java:484)\r\n      at com.rabbitmq.client.impl.ChannelN.processAsync(ChannelN.java:321)\r\n      at com.rabbitmq.client.impl.AMQChannel.handleCompleteInboundCommand(AMQChannel.java:144)\r\n      at com.rabbitmq.client.impl.AMQChannel.handleFrame(AMQChannel.java:91)\r\n      at com.rabbitmq.client.impl.AMQConnection$MainLoop.run(AMQConnection.java:554)\r\n      ... 1 common frames omitted\r\n\r\nThanks for your attention\r\n\r\n**EDIT:**\r\nThanks! I was able to avoid the recreation of the queue. I&#39;m now struggling to remove the queue from the Spring Context :)","title":"Spring AMQP handle deleted queues","body":"<p>I'm trying to make a Java service using Spring Boot that connects to a Rabbit exchange, discover new queues (that matches with a given prefix) and connect to them. I'm using <code>RabbitManagementTemplate</code> to discover and <code>SimpleMessageListenerContainer</code> to create a bind. It works fine.</p>\n\n<p>The problem is that when one of these dynamic queues gets deleted (by the web interface for example), my service can't handle the exception and I didn't find a place to register some handler to fix this. For these cases I just want to ignore the deletion and move on, I'm not willing to recreate the queue.</p>\n\n<p>My code is something like</p>\n\n<pre><code>@Scheduled(fixedDelay = 3*1000)\npublic void watchNewQueues() {\n    for (Queue queue : rabbitManagementTemplate.getQueues()) {\n        final String queueName = queue.getName();\n        String[] nameParts = queueName.split(\"\\\\.\");\n        if (\"dynamic-queue\".equals(nameParts[0]) &amp;&amp; !context.containsBean(queueName)) {\n\n            logger.info(\"New queue discovered! Binding to {}\", queueName);\n            Binding binding = BindingBuilder.bind(queue).to(exchange).with(\"testroute.#\");\n            rabbitAdmin.declareBinding(binding);\n            rabbitAdmin.declareQueue(queue);\n\n            SimpleMessageListenerContainer container = new SimpleMessageListenerContainer();\n            container.setConnectionFactory(connectionFactory);\n            container.setQueueNames(queueName);\n            container.setMessageListener(new MyMessageListener());\n            container.setPrefetchCount(settings.getPrefetch());\n\n            container.setAutoDeclare(false);\n            container.setMissingQueuesFatal(true);\n            container.setDeclarationRetries(0);\n            container.setFailedDeclarationRetryInterval(-1);\n\n            context.getBeanFactory().registerSingleton(queueName, container);\n\n            container.start();\n        }\n    }\n}\n\n@Override\npublic void onApplicationEvent(ListenerContainerConsumerFailedEvent event) {\n    if (event.getSource() instanceof SimpleMessageListenerContainer) {\n        SimpleMessageListenerContainer container = (SimpleMessageListenerContainer) event.getSource();\n        if (context.getAutowireCapableBeanFactory() instanceof BeanDefinitionRegistry) {\n            logger.info(\"Removing bean! {}\", container.getQueueNames()[0]);\n            ((BeanDefinitionRegistry)context.getAutowireCapableBeanFactory()).removeBeanDefinition(container.getQueueNames()[0]);\n        } else {\n            logger.info(\"Context is not able to remove bean\");\n        }\n    } else {\n        logger.info(\"Got event but is not a SimpleMessageListenerContainer {}\", event.toString());\n    }\n}\n</code></pre>\n\n<p>And when the queue gets deleted, console logs:</p>\n\n<pre><code>2018-03-13 15:01:29.623  WARN 32736 [pool-1-thread-6] --- o.s.a.r.listener.BlockingQueueConsumer   : Cancel received for amq.ctag-wKQUQkUNOSCtjQ9RBUNCig; Consumer: tags=[{amq.ctag-wKQUQkUNOSCtjQ9RBUNCig=dynamic-queue.some-test}], channel=Cached Rabbit Channel: AMQChannel(amqp://guest@localhost:5672/,3), conn: Proxy@23510c77 Shared Rabbit Connection: SimpleConnection@66c17803 [delegate=amqp://guest@localhost:5672/], acknowledgeMode=AUTO local queue size=0\n2018-03-13 15:01:30.219  WARN 32736 [SimpleAsyncTaskExecutor-1] --- o.s.a.r.l.SimpleMessageListenerContainer : Consumer raised exception, processing can restart if the connection factory supports it. Exception summary: org.springframework.amqp.rabbit.support.ConsumerCancelledException\n2018-03-13 15:01:30.219  INFO 32736 [SimpleAsyncTaskExecutor-1] --- o.s.a.r.l.SimpleMessageListenerContainer : Restarting Consumer: tags=[{}], channel=Cached Rabbit Channel: AMQChannel(amqp://guest@localhost:5672/,3), conn: Proxy@23510c77 Shared Rabbit Connection: SimpleConnection@66c17803 [delegate=amqp://guest@localhost:5672/], acknowledgeMode=AUTO local queue size=0\n2018-03-13 15:01:30.243  WARN 32736 [SimpleAsyncTaskExecutor-2] --- o.s.a.r.listener.BlockingQueueConsumer   : Failed to declare queue:dynamic-queue.some-test\n2018-03-13 15:01:30.246  WARN 32736 [SimpleAsyncTaskExecutor-2] --- o.s.a.r.listener.BlockingQueueConsumer   : Queue declaration failed; retries left=3\n\norg.springframework.amqp.rabbit.listener.BlockingQueueConsumer$DeclarationException: Failed to declare queue(s):[dynamic-queue.some-test]\n  at org.springframework.amqp.rabbit.listener.BlockingQueueConsumer.attemptPassiveDeclarations(BlockingQueueConsumer.java:571)\n  at org.springframework.amqp.rabbit.listener.BlockingQueueConsumer.start(BlockingQueueConsumer.java:470)\n  at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1171)\n  at java.lang.Thread.run(Thread.java:748)\nCaused by: java.io.IOException: null\n  at com.rabbitmq.client.impl.AMQChannel.wrap(AMQChannel.java:106)\n  at com.rabbitmq.client.impl.AMQChannel.wrap(AMQChannel.java:102)\n  at com.rabbitmq.client.impl.AMQChannel.exnWrappingRpc(AMQChannel.java:124)\n  at com.rabbitmq.client.impl.ChannelN.queueDeclarePassive(ChannelN.java:885)\n  at com.rabbitmq.client.impl.ChannelN.queueDeclarePassive(ChannelN.java:61)\n  at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n  at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n  at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n  at java.lang.reflect.Method.invoke(Method.java:498)\n  at org.springframework.amqp.rabbit.connection.CachingConnectionFactory$CachedChannelInvocationHandler.invoke(CachingConnectionFactory.java:835)\n  at com.sun.proxy.$Proxy63.queueDeclarePassive(Unknown Source)\n  at org.springframework.amqp.rabbit.listener.BlockingQueueConsumer.attemptPassiveDeclarations(BlockingQueueConsumer.java:550)\n  ... 3 common frames omitted\nCaused by: com.rabbitmq.client.ShutdownSignalException: channel error; protocol method: #method&lt;channel.close&gt;(reply-code=404, reply-text=NOT_FOUND - no queue 'dynamic-queue.some-test' in vhost '/', class-id=50, method-id=10)\n  at com.rabbitmq.utility.ValueOrException.getValue(ValueOrException.java:67)\n  at com.rabbitmq.utility.BlockingValueOrException.uninterruptibleGetValue(BlockingValueOrException.java:33)\n  at com.rabbitmq.client.impl.AMQChannel$BlockingRpcContinuation.getReply(AMQChannel.java:361)\n  at com.rabbitmq.client.impl.AMQChannel.privateRpc(AMQChannel.java:226)\n  at com.rabbitmq.client.impl.AMQChannel.exnWrappingRpc(AMQChannel.java:118)\n  ... 12 common frames omitted\nCaused by: com.rabbitmq.client.ShutdownSignalException: channel error; protocol method: #method&lt;channel.close&gt;(reply-code=404, reply-text=NOT_FOUND - no queue 'dynamic-queue.some-test' in vhost '/', class-id=50, method-id=10)\n  at com.rabbitmq.client.impl.ChannelN.asyncShutdown(ChannelN.java:484)\n  at com.rabbitmq.client.impl.ChannelN.processAsync(ChannelN.java:321)\n  at com.rabbitmq.client.impl.AMQChannel.handleCompleteInboundCommand(AMQChannel.java:144)\n  at com.rabbitmq.client.impl.AMQChannel.handleFrame(AMQChannel.java:91)\n  at com.rabbitmq.client.impl.AMQConnection$MainLoop.run(AMQConnection.java:554)\n  ... 1 common frames omitted\n</code></pre>\n\n<p>Thanks for your attention</p>\n\n<p><strong>EDIT:</strong>\nThanks! I was able to avoid the recreation of the queue. I'm now struggling to remove the queue from the Spring Context :)</p>\n"},{"tags":["java","json","csv","jackson","jackson-dataformat-csv"],"comments":[{"owner":{"account_id":21287,"reputation":37465,"user_id":51591,"accept_rate":82,"display_name":"Michał Ziober"},"score":0,"creation_date":1673391440,"post_id":75074834,"comment_id":132487604,"body_markdown":"Your CSV is broken. You need to change it a little bit. Wrap internal `JSON` with an escaping character. For example you can set apostrophe (&#39;) or pipe(|). Read `CSV` file, replace `{` with `|{` and `}` with `}|` and `CsvMapper` should handle it. For a general solution take a look at this question: [directly convert CSV file to JSON file using the Jackson library](https://stackoverflow.com/q/19766266/51591)","body":"Your CSV is broken. You need to change it a little bit. Wrap internal <code>JSON</code> with an escaping character. For example you can set apostrophe (&#39;) or pipe(|). Read <code>CSV</code> file, replace <code>{</code> with <code>|{</code> and <code>}</code> with <code>}|</code> and <code>CsvMapper</code> should handle it. For a general solution take a look at this question: <a href=\"https://stackoverflow.com/q/19766266/51591\">directly convert CSV file to JSON file using the Jackson library</a>"},{"owner":{"account_id":12247217,"reputation":13,"user_id":20977102,"display_name":"Vaibhav Tiwari"},"score":0,"creation_date":1673512661,"post_id":75074834,"comment_id":132517095,"body_markdown":"@MichałZiober, Even if the CSV gets updated, how could I escape csv and json at the same time without changing column separator  from  &#39;,&#39;?","body":"@MichałZiober, Even if the CSV gets updated, how could I escape csv and json at the same time without changing column separator  from  &#39;,&#39;?"}],"answers":[{"tags":[],"owner":{"account_id":8829300,"reputation":1,"user_id":6596378,"display_name":"Laura P&#233;rez"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673378951,"creation_date":1673378879,"answer_id":75074918,"question_id":75074834,"body_markdown":"You can use a csv JS library such as json-2-csv \r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    # Global so it can be called from anywhere\r\n    npm install -g json2csv\r\n\r\n    # or as a dependency of a project\r\n    npm install json2csv --save\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"Convert CSV with nested JSON object to JSON","body":"<p>You can use a csv JS library such as json-2-csv</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code># Global so it can be called from anywhere\nnpm install -g json2csv\n\n# or as a dependency of a project\nnpm install json2csv --save</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"},{"tags":[],"owner":{"account_id":4702310,"reputation":21,"user_id":3805562,"display_name":"hamza moslah"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673382071,"creation_date":1673382071,"answer_id":75075408,"question_id":75074834,"body_markdown":"You can `org.json.CDL` as follows:\r\n\r\n            BufferedReader br = new BufferedReader(new FileReader(&quot;file.csv&quot;));\r\n            String csvAsString = br.lines().collect(Collectors.joining(&quot;\\n&quot;));\r\n            String json = CDL.toJSONArray(csvAsString).toString();\r\n            try {\r\n                Files.write(Path.of(&quot;src/main/resources/output.json&quot;), json.getBytes(StandardCharsets.UTF_8));\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }","title":"Convert CSV with nested JSON object to JSON","body":"<p>You can <code>org.json.CDL</code> as follows:</p>\n<pre><code>        BufferedReader br = new BufferedReader(new FileReader(&quot;file.csv&quot;));\n        String csvAsString = br.lines().collect(Collectors.joining(&quot;\\n&quot;));\n        String json = CDL.toJSONArray(csvAsString).toString();\n        try {\n            Files.write(Path.of(&quot;src/main/resources/output.json&quot;), json.getBytes(StandardCharsets.UTF_8));\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":12247217,"reputation":13,"user_id":20977102,"display_name":"Vaibhav Tiwari"},"score":0,"creation_date":1673620529,"post_id":75094064,"comment_id":132546539,"body_markdown":"Do we need to build  a regex for nested JSON  to identify first and last &#39;{&#39; &#39;}&#39;  and that will again  fail if we will have  multiple nested JSONs?","body":"Do we need to build  a regex for nested JSON  to identify first and last &#39;{&#39; &#39;}&#39;  and that will again  fail if we will have  multiple nested JSONs?"},{"owner":{"account_id":21287,"reputation":37465,"user_id":51591,"accept_rate":82,"display_name":"Michał Ziober"},"score":0,"creation_date":1673620651,"post_id":75094064,"comment_id":132546578,"body_markdown":"Do not use `Regex` here. Just [StringUtils.lastIndexOf](https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/StringUtils.html#lastIndexOf-java.lang.CharSequence-java.lang.CharSequence-) and [RegExUtils.replaceFirst](https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/RegExUtils.html#replaceFirst-java.lang.String-java.util.regex.Pattern-java.lang.String-)","body":"Do not use <code>Regex</code> here. Just <a href=\"https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/StringUtils.html#lastIndexOf-java.lang.CharSequence-java.lang.CharSequence-\" rel=\"nofollow noreferrer\">StringUtils.lastIndexOf</a> and <a href=\"https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/RegExUtils.html#replaceFirst-java.lang.String-java.util.regex.Pattern-java.lang.String-\" rel=\"nofollow noreferrer\">RegExUtils.replaceFirst</a>"},{"owner":{"account_id":12247217,"reputation":13,"user_id":20977102,"display_name":"Vaibhav Tiwari"},"score":0,"creation_date":1673620831,"post_id":75094064,"comment_id":132546658,"body_markdown":"But what if we have multiple json as values?","body":"But what if we have multiple json as values?"},{"owner":{"account_id":21287,"reputation":37465,"user_id":51591,"accept_rate":82,"display_name":"Michał Ziober"},"score":0,"creation_date":1673627220,"post_id":75094064,"comment_id":132548938,"body_markdown":"@VaibhavTiwari, then you need to process it line by line. I assume that each line contains the whole `JSON` and there is no new lines inside. In case not, you need to handle this. Generally this is not a valid `CSV` file and handling all corner cases is painful.","body":"@VaibhavTiwari, then you need to process it line by line. I assume that each line contains the whole <code>JSON</code> and there is no new lines inside. In case not, you need to handle this. Generally this is not a valid <code>CSV</code> file and handling all corner cases is painful."}],"tags":[],"owner":{"account_id":21287,"reputation":37465,"user_id":51591,"accept_rate":82,"display_name":"Michał Ziober"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1673515576,"creation_date":1673515576,"answer_id":75094064,"question_id":75074834,"body_markdown":"Presented `CSV` content is broken. Values which contains column separator should be wrapped with a quote character. If we can not change the app which generates it we need to amend it before deserialising process. This example is simple so we can just replace `{` with `|{` and `}` with `}|` and set `|` as a quote character. But for `JSON` payloads with internal objects we need to replace only the first `{` and the last `}` brackets. Code could look like below:\r\n```java\r\nimport com.fasterxml.jackson.databind.JsonNode;\r\nimport com.fasterxml.jackson.databind.SerializationFeature;\r\nimport com.fasterxml.jackson.databind.json.JsonMapper;\r\nimport com.fasterxml.jackson.dataformat.csv.CsvMapper;\r\nimport com.fasterxml.jackson.dataformat.csv.CsvSchema;\r\n\r\nimport java.io.File;\r\nimport java.nio.file.Files;\r\nimport java.util.stream.Collectors;\r\n\r\npublic class CsvApp {\r\n\r\n\tpublic static void main(String[] args) throws Exception {\r\n\t\tFile csvFile = new File(&quot;./resource/test.csv&quot;).getAbsoluteFile();\r\n\t\tString csv = Files.readAllLines(csvFile.toPath()).stream().collect(Collectors.joining(System.lineSeparator()));\r\n\t\tcsv = csv.replace(&quot;{&quot;, &quot;|{&quot;).replace(&quot;}&quot;, &quot;}|&quot;);\r\n\r\n\t\tCsvMapper csvMapper = CsvMapper.builder().build();\r\n\r\n\t\tCsvSchema csvSchema = CsvSchema.builder().setQuoteChar(&#39;|&#39;).setUseHeader(true).build();\r\n\t\tObject csvContent = csvMapper.readerFor(JsonNode.class).with(csvSchema).readValue(csv);\r\n\r\n\t\tJsonMapper mapper = JsonMapper.builder().enable(SerializationFeature.INDENT_OUTPUT).build();\r\n\t\tmapper.writeValue(System.out, csvContent);\r\n\t}\r\n}\r\n```\r\n\r\nAbove code prints:\r\n```json\r\n{\r\n  &quot;header1&quot; : &quot;value1&quot;,\r\n  &quot;header2&quot; : &quot;value2&quot;,\r\n  &quot;header3&quot; : &quot;{\\&quot;name\\&quot;:\\&quot;John\\&quot;,\\&quot;age\\&quot;:30,\\&quot;car\\&quot;:null}&quot;\r\n}\r\n```","title":"Convert CSV with nested JSON object to JSON","body":"<p>Presented <code>CSV</code> content is broken. Values which contains column separator should be wrapped with a quote character. If we can not change the app which generates it we need to amend it before deserialising process. This example is simple so we can just replace <code>{</code> with <code>|{</code> and <code>}</code> with <code>}|</code> and set <code>|</code> as a quote character. But for <code>JSON</code> payloads with internal objects we need to replace only the first <code>{</code> and the last <code>}</code> brackets. Code could look like below:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import com.fasterxml.jackson.databind.JsonNode;\nimport com.fasterxml.jackson.databind.SerializationFeature;\nimport com.fasterxml.jackson.databind.json.JsonMapper;\nimport com.fasterxml.jackson.dataformat.csv.CsvMapper;\nimport com.fasterxml.jackson.dataformat.csv.CsvSchema;\n\nimport java.io.File;\nimport java.nio.file.Files;\nimport java.util.stream.Collectors;\n\npublic class CsvApp {\n\n    public static void main(String[] args) throws Exception {\n        File csvFile = new File(&quot;./resource/test.csv&quot;).getAbsoluteFile();\n        String csv = Files.readAllLines(csvFile.toPath()).stream().collect(Collectors.joining(System.lineSeparator()));\n        csv = csv.replace(&quot;{&quot;, &quot;|{&quot;).replace(&quot;}&quot;, &quot;}|&quot;);\n\n        CsvMapper csvMapper = CsvMapper.builder().build();\n\n        CsvSchema csvSchema = CsvSchema.builder().setQuoteChar('|').setUseHeader(true).build();\n        Object csvContent = csvMapper.readerFor(JsonNode.class).with(csvSchema).readValue(csv);\n\n        JsonMapper mapper = JsonMapper.builder().enable(SerializationFeature.INDENT_OUTPUT).build();\n        mapper.writeValue(System.out, csvContent);\n    }\n}\n</code></pre>\n<p>Above code prints:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;header1&quot; : &quot;value1&quot;,\n  &quot;header2&quot; : &quot;value2&quot;,\n  &quot;header3&quot; : &quot;{\\&quot;name\\&quot;:\\&quot;John\\&quot;,\\&quot;age\\&quot;:30,\\&quot;car\\&quot;:null}&quot;\n}\n</code></pre>\n"}],"owner":{"account_id":12247217,"reputation":13,"user_id":20977102,"display_name":"Vaibhav Tiwari"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":489,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75094064,"answer_count":3,"score":1,"last_activity_date":1673527741,"creation_date":1673378250,"question_id":75074834,"body_markdown":"I have a sample CSV message:\r\n```csv\r\nheader1,header2,header3\r\nvalue1,value2,{&quot;name&quot;:&quot;John&quot;,&quot;age&quot;:30,&quot;car&quot;:null}\r\n```\r\n\r\nHow to convert it in form of embedded `JSON` as in:\r\n```json\r\n{\r\n  &quot;header1&quot;: &quot;value1&quot;,\r\n  &quot;header2&quot;: &quot;value2&quot;,\r\n  &quot;header3&quot;: &quot;{\\&quot;name\\&quot;:\\&quot;John\\&quot;,\\&quot;age\\&quot;:30,\\&quot;car\\&quot;:null}&quot;\r\n}\r\n```\r\nI am using `Jackson` schema builder with default column separator:\r\n```java\r\nCsvSchema.builder().disableQuoteChar().setUseHeader(true).build();\r\nCsvMapper.builder().enable(CsvParser.Feature.IGNORE_TRAILING_UNMAPPABLE, CsvParser.Feature.WRAP_AS_ARRAY).build();\r\n```\r\n","title":"Convert CSV with nested JSON object to JSON","body":"<p>I have a sample CSV message:</p>\n<pre><code>header1,header2,header3\nvalue1,value2,{&quot;name&quot;:&quot;John&quot;,&quot;age&quot;:30,&quot;car&quot;:null}\n</code></pre>\n<p>How to convert it in form of embedded <code>JSON</code> as in:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;header1&quot;: &quot;value1&quot;,\n  &quot;header2&quot;: &quot;value2&quot;,\n  &quot;header3&quot;: &quot;{\\&quot;name\\&quot;:\\&quot;John\\&quot;,\\&quot;age\\&quot;:30,\\&quot;car\\&quot;:null}&quot;\n}\n</code></pre>\n<p>I am using <code>Jackson</code> schema builder with default column separator:</p>\n<pre class=\"lang-java prettyprint-override\"><code>CsvSchema.builder().disableQuoteChar().setUseHeader(true).build();\nCsvMapper.builder().enable(CsvParser.Feature.IGNORE_TRAILING_UNMAPPABLE, CsvParser.Feature.WRAP_AS_ARRAY).build();\n</code></pre>\n"},{"tags":["javascript","java","php","python","google-chrome"],"comments":[{"owner":{"account_id":1878061,"reputation":1,"user_id":2801559,"accept_rate":74,"display_name":"guest271314"},"score":0,"creation_date":1510296064,"post_id":47216947,"comment_id":81383386,"body_markdown":"You can use `PerfomanceObserver`, see https://stackoverflow.com/questions/45406906/detect-ajax-requests-from-raw-html/","body":"You can use <code>PerfomanceObserver</code>, see <a href=\"https://stackoverflow.com/questions/45406906/detect-ajax-requests-from-raw-html/\" title=\"detect ajax requests from raw html\">stackoverflow.com/questions/45406906/&hellip;</a>"},{"owner":{"account_id":11548429,"reputation":61,"user_id":8461800,"display_name":"Baba ramdev"},"score":0,"creation_date":1510296280,"post_id":47216947,"comment_id":81383480,"body_markdown":"I have gone through your link. but it was not really helpful. Can you please give an example? I was not able to see all the links.","body":"I have gone through your link. but it was not really helpful. Can you please give an example? I was not able to see all the links."},{"owner":{"account_id":1878061,"reputation":1,"user_id":2801559,"accept_rate":74,"display_name":"guest271314"},"score":0,"creation_date":1510296550,"post_id":47216947,"comment_id":81383586,"body_markdown":"What do you mean by &quot;not really helpful&quot;? Have you tried the code at the Answer at linked Question?","body":"What do you mean by &quot;not really helpful&quot;? Have you tried the code at the Answer at linked Question?"},{"owner":{"account_id":11548429,"reputation":61,"user_id":8461800,"display_name":"Baba ramdev"},"score":0,"creation_date":1510296604,"post_id":47216947,"comment_id":81383615,"body_markdown":"I tried. Can you please share working code snippet?","body":"I tried. Can you please share working code snippet?"},{"owner":{"account_id":11548429,"reputation":61,"user_id":8461800,"display_name":"Baba ramdev"},"score":0,"creation_date":1510296610,"post_id":47216947,"comment_id":81383621,"body_markdown":"This one is not working","body":"This one is not working"},{"owner":{"account_id":1878061,"reputation":1,"user_id":2801559,"accept_rate":74,"display_name":"guest271314"},"score":0,"creation_date":1510296675,"post_id":47216947,"comment_id":81383650,"body_markdown":"Can you describe &quot;not working&quot;? At which browser did you try code? Can you reproduce the issue at stacksnippets?","body":"Can you describe &quot;not working&quot;? At which browser did you try code? Can you reproduce the issue at stacksnippets?"},{"owner":{"account_id":11548429,"reputation":61,"user_id":8461800,"display_name":"Baba ramdev"},"score":0,"creation_date":1510296851,"post_id":47216947,"comment_id":81383729,"body_markdown":"I tried it on chrome using browser console but nothing is being after writing that snippet in console","body":"I tried it on chrome using browser console but nothing is being after writing that snippet in console"},{"owner":{"account_id":2723747,"reputation":57237,"user_id":2349407,"accept_rate":36,"display_name":"Vivek Doshi"},"score":0,"creation_date":1510297149,"post_id":47216947,"comment_id":81383875,"body_markdown":"@Babaramdev, will you please try out mine snippet same way ?","body":"@Babaramdev, will you please try out mine snippet same way ?"},{"owner":{"account_id":1878061,"reputation":1,"user_id":2801559,"accept_rate":74,"display_name":"guest271314"},"score":0,"creation_date":1510297844,"post_id":47216947,"comment_id":81384219,"body_markdown":"See https://stackoverflow.com/help/mcve","body":"See <a href=\"https://stackoverflow.com/help/mcve\">stackoverflow.com/help/mcve</a>"},{"owner":{"account_id":9732276,"reputation":17431,"user_id":7216865,"display_name":"Maurice Meyer"},"score":0,"creation_date":1510302880,"post_id":47216947,"comment_id":81386529,"body_markdown":"One option is to use the QT framework and use [WebView](http://doc.qt.io/qt-5/qml-qtwebview-webview.html) as well as [QNetworkAccessManager]\n(http://doc.qt.io/qt-5/qnetworkaccessmanager.html) to build your own &#39;network montor&#39;.  QT is available for multiple languages (Python, C++, Lua, Haskell, ...)","body":"One option is to use the QT framework and use <a href=\"http://doc.qt.io/qt-5/qml-qtwebview-webview.html\" rel=\"nofollow noreferrer\">WebView</a> as well as [QNetworkAccessManager] (<a href=\"http://doc.qt.io/qt-5/qnetworkaccessmanager.html\" rel=\"nofollow noreferrer\">doc.qt.io/qt-5/qnetworkaccessmanager.html</a>) to build your own &#39;network montor&#39;.  QT is available for multiple languages (Python, C++, Lua, Haskell, ...)"}],"answers":[{"tags":[],"owner":{"account_id":4569455,"reputation":321,"user_id":3709542,"accept_rate":20,"display_name":"Sazzad Hussain"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673527545,"creation_date":1673527545,"answer_id":75096527,"question_id":47216947,"body_markdown":"You can use a browser automation tool like Selenium.\r\n\r\nTry this python code.\r\n\r\n    from selenium import webdriver\r\n    \r\n    driver = webdriver.Chrome()\r\n    driver.get(&quot;yourwebsiteurl here&quot;)\r\n    driver.implicitly_wait(10)\r\n    ajax_urls = driver.execute_script(&quot;return performance.getEntries().map(entry =&gt; entry.name)&quot;)\r\n    \r\n    for url in ajax_urls:\r\n        print(url)\r\n\r\n","title":"How to access requesting URL in network tab listed using any programming language?","body":"<p>You can use a browser automation tool like Selenium.</p>\n<p>Try this python code.</p>\n<pre><code>from selenium import webdriver\n\ndriver = webdriver.Chrome()\ndriver.get(&quot;yourwebsiteurl here&quot;)\ndriver.implicitly_wait(10)\najax_urls = driver.execute_script(&quot;return performance.getEntries().map(entry =&gt; entry.name)&quot;)\n\nfor url in ajax_urls:\n    print(url)\n</code></pre>\n"}],"owner":{"account_id":11548429,"reputation":61,"user_id":8461800,"display_name":"Baba ramdev"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":517,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1673527545,"creation_date":1510295832,"question_id":47216947,"body_markdown":"Suppose there is a website which calls ajax requests everytime however I can&#39;t find(or see) any related URL in page source. But I can see every request or ajax calls in network tab using developer tools. \r\n\r\nPlease refer [screenshot][1] I attached to find URL in network tab. Let&#39;s say `Google analytics` link. How can I search the same URL using javascript or any programming language instead of opening network tab or any developer tool?\r\n\r\nI want to see that request URL using programming language. I would prefer javascript if there is. Is it possible or any API available to find the usage of requested links?\r\n\r\nI would appreciate if it is possible to get it done using Python, Javascript, Java or PHP.\r\n\r\n***HELP WOULD BE APPRECIATED!***\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/VLWyB.png","title":"How to access requesting URL in network tab listed using any programming language?","body":"<p>Suppose there is a website which calls ajax requests everytime however I can't find(or see) any related URL in page source. But I can see every request or ajax calls in network tab using developer tools. </p>\n\n<p>Please refer <a href=\"https://i.stack.imgur.com/VLWyB.png\" rel=\"nofollow noreferrer\">screenshot</a> I attached to find URL in network tab. Let's say <code>Google analytics</code> link. How can I search the same URL using javascript or any programming language instead of opening network tab or any developer tool?</p>\n\n<p>I want to see that request URL using programming language. I would prefer javascript if there is. Is it possible or any API available to find the usage of requested links?</p>\n\n<p>I would appreciate if it is possible to get it done using Python, Javascript, Java or PHP.</p>\n\n<p><strong><em>HELP WOULD BE APPRECIATED!</em></strong></p>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":18981447,"reputation":908,"user_id":13852758,"display_name":"Gulab Sagevadiya"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1673527452,"creation_date":1673527452,"answer_id":75096510,"question_id":75096291,"body_markdown":"you should use scrollview like this sample\r\n```\r\n&lt;androidx.core.widget.NestedScrollView\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;wrap_content&quot;&gt;\r\n    \r\n    &lt;androidx.appcompat.widget.LinearLayoutCompat\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:orientation=&quot;vertical&quot;&gt;\r\n        \r\n        &lt;TextView /&gt;\r\n\r\n        &lt;TextView /&gt;\r\n\r\n        &lt;TextView /&gt;\r\n        \r\n    &lt;/androidx.appcompat.widget.LinearLayoutCompat&gt;\r\n    \r\n&lt;/androidx.core.widget.NestedScrollView&gt;\r\n```\r\n\r\nNot Like this \r\n```\r\n&lt;androidx.core.widget.NestedScrollView\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;wrap_content&quot;&gt;\r\n\r\n    &lt;androidx.appcompat.widget.LinearLayoutCompat\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:orientation=&quot;vertical&quot;&gt;\r\n\r\n    &lt;/androidx.appcompat.widget.LinearLayoutCompat&gt;\r\n\r\n    &lt;TextView /&gt;\r\n\r\n    &lt;TextView /&gt;\r\n\r\n    &lt;TextView /&gt;\r\n\r\n&lt;/androidx.core.widget.NestedScrollView&gt;\r\n```","title":"How to do this ScrollView can host only one direct child androidx.core.widget.NestedScrollView This error is caused by","body":"<p>you should use scrollview like this sample</p>\n<pre><code>&lt;androidx.core.widget.NestedScrollView\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;&gt;\n    \n    &lt;androidx.appcompat.widget.LinearLayoutCompat\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:orientation=&quot;vertical&quot;&gt;\n        \n        &lt;TextView /&gt;\n\n        &lt;TextView /&gt;\n\n        &lt;TextView /&gt;\n        \n    &lt;/androidx.appcompat.widget.LinearLayoutCompat&gt;\n    \n&lt;/androidx.core.widget.NestedScrollView&gt;\n</code></pre>\n<p>Not Like this</p>\n<pre><code>&lt;androidx.core.widget.NestedScrollView\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;&gt;\n\n    &lt;androidx.appcompat.widget.LinearLayoutCompat\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:orientation=&quot;vertical&quot;&gt;\n\n    &lt;/androidx.appcompat.widget.LinearLayoutCompat&gt;\n\n    &lt;TextView /&gt;\n\n    &lt;TextView /&gt;\n\n    &lt;TextView /&gt;\n\n&lt;/androidx.core.widget.NestedScrollView&gt;\n</code></pre>\n"}],"owner":{"display_name":"user20936145"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":75096510,"answer_count":1,"score":0,"last_activity_date":1673527452,"creation_date":1673526217,"question_id":75096291,"body_markdown":"android.view.InflateException: Binary XML file line #44: ScrollView can host only one direct childCaused by: java.lang.IllegalStateException: ScrollView can host only one direct child at android.widget.ScrollView.addView(ScrollView.java:279) \r\natretrofit2.ExecutorCallAdapterFactory$ExecutorCallbackCall$1$1.run(ExecutorCallAdapterFactory.java:70)\r\n\r\n\r\n    &lt;androidx.cardview.widget.CardView\r\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:aapt=&quot;http://schemas.android.com/aapt&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;wrap_content&quot;\r\n    android:layout_marginLeft=&quot;@dimen/half_view_margin_standard&quot;\r\n    android:layout_marginTop=&quot;@dimen/view_margin_standard&quot;\r\n    android:layout_marginRight=&quot;@dimen/half_view_margin_standard&quot;\r\n    android:layout_marginBottom=&quot;@dimen/half_view_margin_standard&quot;&gt;\r\n\r\n\r\n\r\n    &lt;LinearLayout\r\n\r\n        android:orientation=&quot;vertical&quot;\r\n        android:id=&quot;@+id/ll_home_header_parent&quot;\r\n        android:background=&quot;@color/card_background_color&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;&gt;\r\n\r\n        &lt;androidx.core.widget.NestedScrollView\r\n            android:id=&quot;@+id/scrollView1&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:fillViewport=&quot;true&quot;&gt;\r\n\r\n\r\n        &lt;TextView\r\n            android:textSize=&quot;@dimen/app_titles_text_size&quot;\r\n            android:textStyle=&quot;bold&quot;\r\n            android:textColor=&quot;@color/abc_decor_view_status_guard&quot;\r\n            android:gravity=&quot;center&quot;\r\n            android:layout_gravity=&quot;center&quot;\r\n            android:id=&quot;@+id/tv_month_name&quot;\r\n            android:paddingTop=&quot;@dimen/view_margin_standard&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n\r\n            android:text=&quot;மே - திங்கள்&quot;/&gt;\r\n        &lt;LinearLayout android:gravity=&quot;center&quot; android:layout_gravity=&quot;center&quot; android:orientation=&quot;horizontal&quot; android:layout_width=&quot;match_parent&quot; android:layout_height=&quot;wrap_content&quot; android:layout_marginTop=&quot;@dimen/half_view_margin_standard&quot;&gt;\r\n            &lt;TextView android:textSize=&quot;@dimen/app_display_type_1_text_size&quot;\r\n                android:textColor=&quot;@color/abc_decor_view_status_guard&quot;\r\n                android:gravity=&quot;center&quot;\r\n                android:layout_gravity=&quot;center&quot;\r\n                android:id=&quot;@+id/tv_date&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:text=&quot;08-05-2017&quot;\r\n                android:fontFamily=&quot;@font/product_bold&quot;/&gt;\r\n        &lt;/LinearLayout&gt;\r\n\r\n\r\n        &lt;LinearLayout\r\n            android:layout_width=&quot;335dp&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_gravity=&quot;center&quot;\r\n            android:layout_marginTop=&quot;@dimen/half_view_margin_standard&quot;\r\n            android:layout_marginBottom=&quot;@dimen/half_view_margin_standard&quot;\r\n            android:orientation=&quot;horizontal&quot;&gt;\r\n            &lt;TextView\r\n                android:id=&quot;@+id/sf&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_gravity=&quot;center&quot;\r\n                android:layout_marginLeft=&quot;@dimen/half_view_margin_standard&quot;\r\n                android:gravity=&quot;left&quot;\r\n                android:text=&quot;நல்ல நேரம்&quot;\r\n                android:textColor=&quot;@color/black&quot;\r\n                android:textSize=&quot;@dimen/app_body_type_1_text_size&quot; /&gt;\r\n\r\n            &lt;TextView\r\n                android:id=&quot;@+id/tv_morning&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_gravity=&quot;center&quot;\r\n                android:layout_marginLeft=&quot;@dimen/half_view_margin_standard&quot;\r\n                android:gravity=&quot;left&quot;\r\n                android:text=&quot;கா&quot;\r\n                android:textColor=&quot;@color/black&quot;\r\n                android:textSize=&quot;@dimen/app_body_type_1_text_size&quot; /&gt;\r\n\r\n            &lt;TextView\r\n                android:id=&quot;@+id/tv_morning_time&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_gravity=&quot;center&quot;\r\n                android:layout_marginLeft=&quot;@dimen/half_view_margin_standard&quot;\r\n                android:gravity=&quot;left&quot;\r\n                android:text=&quot;10.30 - 12.00&quot;\r\n                android:textColor=&quot;@color/black&quot;\r\n                android:textSize=&quot;@dimen/app_body_type_1_text_size&quot; /&gt;\r\n\r\n            &lt;TextView\r\n                android:id=&quot;@+id/tv_evening&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_gravity=&quot;center&quot;\r\n                android:layout_marginLeft=&quot;@dimen/half_view_margin_standard&quot;\r\n                android:text=&quot;மா&quot;\r\n                android:textColor=&quot;@color/black&quot;\r\n                android:textSize=&quot;@dimen/app_body_type_1_text_size&quot; /&gt;\r\n\r\n            &lt;TextView\r\n                android:id=&quot;@+id/tv_evening_time&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;match_parent&quot;\r\n                android:layout_gravity=&quot;center&quot;\r\n                android:layout_marginLeft=&quot;@dimen/half_view_margin_standard&quot;\r\n                android:gravity=&quot;left&quot;\r\n                android:text=&quot;10.30 - 12.00&quot;\r\n                android:textColor=&quot;@color/black&quot;\r\n                android:textSize=&quot;@dimen/app_body_type_1_text_size&quot; /&gt;\r\n        &lt;/LinearLayout&gt;&lt;![CDATA[ 7.00 Maalai 4.30 - 6.00&quot;/&gt;\r\n\r\n\r\n        ]]&gt;\r\n\r\n\r\n\r\n        &lt;LinearLayout\r\n\r\n            android:orientation=&quot;vertical&quot;\r\n            android:background=&quot;@color/card_background_color&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;&gt;\r\n            &lt;TextView\r\n                android:id=&quot;@+id/tv_tamil_month_name&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_alignParentLeft=&quot;true&quot;\r\n                android:layout_gravity=&quot;center&quot;\r\n                android:layout_marginLeft=&quot;@dimen/half_view_margin_standard&quot;\r\n                android:gravity=&quot;center&quot;\r\n                android:text=&quot;சித்திரைத்&quot;\r\n                android:textColor=&quot;@color/abc_decor_view_status_guard&quot;\r\n                android:textSize=&quot;@dimen/app_big_sub_heads_text_size&quot; /&gt;\r\n\r\n            &lt;TextView\r\n                android:id=&quot;@+id/tv_viratham_home&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_alignParentLeft=&quot;true&quot;\r\n                android:layout_gravity=&quot;center&quot;\r\n                android:layout_marginLeft=&quot;@dimen/half_view_margin_standard&quot;\r\n                android:gravity=&quot;center&quot;\r\n                android:text=&quot;சித்திரைத்&quot;\r\n                android:textColor=&quot;@color/abc_decor_view_status_guard&quot;\r\n                android:textSize=&quot;@dimen/app_big_sub_heads_text_size&quot; /&gt;\r\n\r\n            &lt;TextView\r\n                android:id=&quot;@+id/tv_viratham_time_range&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_alignParentLeft=&quot;true&quot;\r\n                android:layout_gravity=&quot;center&quot;\r\n                android:layout_marginLeft=&quot;@dimen/half_view_margin_standard&quot;\r\n                android:gravity=&quot;center&quot;\r\n                android:text=&quot;சித்திரைத்&quot;\r\n                android:textColor=&quot;@color/abc_decor_view_status_guard&quot;\r\n                android:textSize=&quot;@dimen/app_big_sub_heads_text_size&quot; /&gt;\r\n\r\n            &lt;TextView\r\n                android:textSize=&quot;@dimen/app_body_type_1_text_size&quot;\r\n                android:textColor=&quot;@color/black&quot;\r\n                android:gravity=&quot;center&quot;\r\n                android:layout_gravity=&quot;center&quot;\r\n                android:id=&quot;@+id/tv_vishesham&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_margin=&quot;@dimen/half_view_margin_standard&quot;\r\n                android:text=&quot;காலை&quot;/&gt;\r\n        &lt;/LinearLayout&gt;\r\n\r\n\r\n        &lt;/androidx.core.widget.NestedScrollView&gt;\r\n    &lt;/LinearLayout&gt;\r\n&lt;/androidx.cardview.widget.CardView&gt;`\r\n\r\n`\r\n\r\nhow to clear error this","title":"How to do this ScrollView can host only one direct child androidx.core.widget.NestedScrollView This error is caused by","body":"<p>android.view.InflateException: Binary XML file line #44: ScrollView can host only one direct childCaused by: java.lang.IllegalStateException: ScrollView can host only one direct child at android.widget.ScrollView.addView(ScrollView.java:279)\natretrofit2.ExecutorCallAdapterFactory$ExecutorCallbackCall$1$1.run(ExecutorCallAdapterFactory.java:70)</p>\n<pre><code>&lt;androidx.cardview.widget.CardView\nxmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\nxmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\nxmlns:aapt=&quot;http://schemas.android.com/aapt&quot;\nandroid:layout_width=&quot;match_parent&quot;\nandroid:layout_height=&quot;wrap_content&quot;\nandroid:layout_marginLeft=&quot;@dimen/half_view_margin_standard&quot;\nandroid:layout_marginTop=&quot;@dimen/view_margin_standard&quot;\nandroid:layout_marginRight=&quot;@dimen/half_view_margin_standard&quot;\nandroid:layout_marginBottom=&quot;@dimen/half_view_margin_standard&quot;&gt;\n\n\n\n&lt;LinearLayout\n\n    android:orientation=&quot;vertical&quot;\n    android:id=&quot;@+id/ll_home_header_parent&quot;\n    android:background=&quot;@color/card_background_color&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;&gt;\n\n    &lt;androidx.core.widget.NestedScrollView\n        android:id=&quot;@+id/scrollView1&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:fillViewport=&quot;true&quot;&gt;\n\n\n    &lt;TextView\n        android:textSize=&quot;@dimen/app_titles_text_size&quot;\n        android:textStyle=&quot;bold&quot;\n        android:textColor=&quot;@color/abc_decor_view_status_guard&quot;\n        android:gravity=&quot;center&quot;\n        android:layout_gravity=&quot;center&quot;\n        android:id=&quot;@+id/tv_month_name&quot;\n        android:paddingTop=&quot;@dimen/view_margin_standard&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n\n        android:text=&quot;மே - திங்கள்&quot;/&gt;\n    &lt;LinearLayout android:gravity=&quot;center&quot; android:layout_gravity=&quot;center&quot; android:orientation=&quot;horizontal&quot; android:layout_width=&quot;match_parent&quot; android:layout_height=&quot;wrap_content&quot; android:layout_marginTop=&quot;@dimen/half_view_margin_standard&quot;&gt;\n        &lt;TextView android:textSize=&quot;@dimen/app_display_type_1_text_size&quot;\n            android:textColor=&quot;@color/abc_decor_view_status_guard&quot;\n            android:gravity=&quot;center&quot;\n            android:layout_gravity=&quot;center&quot;\n            android:id=&quot;@+id/tv_date&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:text=&quot;08-05-2017&quot;\n            android:fontFamily=&quot;@font/product_bold&quot;/&gt;\n    &lt;/LinearLayout&gt;\n\n\n    &lt;LinearLayout\n        android:layout_width=&quot;335dp&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_gravity=&quot;center&quot;\n        android:layout_marginTop=&quot;@dimen/half_view_margin_standard&quot;\n        android:layout_marginBottom=&quot;@dimen/half_view_margin_standard&quot;\n        android:orientation=&quot;horizontal&quot;&gt;\n        &lt;TextView\n            android:id=&quot;@+id/sf&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_gravity=&quot;center&quot;\n            android:layout_marginLeft=&quot;@dimen/half_view_margin_standard&quot;\n            android:gravity=&quot;left&quot;\n            android:text=&quot;நல்ல நேரம்&quot;\n            android:textColor=&quot;@color/black&quot;\n            android:textSize=&quot;@dimen/app_body_type_1_text_size&quot; /&gt;\n\n        &lt;TextView\n            android:id=&quot;@+id/tv_morning&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_gravity=&quot;center&quot;\n            android:layout_marginLeft=&quot;@dimen/half_view_margin_standard&quot;\n            android:gravity=&quot;left&quot;\n            android:text=&quot;கா&quot;\n            android:textColor=&quot;@color/black&quot;\n            android:textSize=&quot;@dimen/app_body_type_1_text_size&quot; /&gt;\n\n        &lt;TextView\n            android:id=&quot;@+id/tv_morning_time&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_gravity=&quot;center&quot;\n            android:layout_marginLeft=&quot;@dimen/half_view_margin_standard&quot;\n            android:gravity=&quot;left&quot;\n            android:text=&quot;10.30 - 12.00&quot;\n            android:textColor=&quot;@color/black&quot;\n            android:textSize=&quot;@dimen/app_body_type_1_text_size&quot; /&gt;\n\n        &lt;TextView\n            android:id=&quot;@+id/tv_evening&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_gravity=&quot;center&quot;\n            android:layout_marginLeft=&quot;@dimen/half_view_margin_standard&quot;\n            android:text=&quot;மா&quot;\n            android:textColor=&quot;@color/black&quot;\n            android:textSize=&quot;@dimen/app_body_type_1_text_size&quot; /&gt;\n\n        &lt;TextView\n            android:id=&quot;@+id/tv_evening_time&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;match_parent&quot;\n            android:layout_gravity=&quot;center&quot;\n            android:layout_marginLeft=&quot;@dimen/half_view_margin_standard&quot;\n            android:gravity=&quot;left&quot;\n            android:text=&quot;10.30 - 12.00&quot;\n            android:textColor=&quot;@color/black&quot;\n            android:textSize=&quot;@dimen/app_body_type_1_text_size&quot; /&gt;\n    &lt;/LinearLayout&gt;&lt;![CDATA[ 7.00 Maalai 4.30 - 6.00&quot;/&gt;\n\n\n    ]]&gt;\n\n\n\n    &lt;LinearLayout\n\n        android:orientation=&quot;vertical&quot;\n        android:background=&quot;@color/card_background_color&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;&gt;\n        &lt;TextView\n            android:id=&quot;@+id/tv_tamil_month_name&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_alignParentLeft=&quot;true&quot;\n            android:layout_gravity=&quot;center&quot;\n            android:layout_marginLeft=&quot;@dimen/half_view_margin_standard&quot;\n            android:gravity=&quot;center&quot;\n            android:text=&quot;சித்திரைத்&quot;\n            android:textColor=&quot;@color/abc_decor_view_status_guard&quot;\n            android:textSize=&quot;@dimen/app_big_sub_heads_text_size&quot; /&gt;\n\n        &lt;TextView\n            android:id=&quot;@+id/tv_viratham_home&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_alignParentLeft=&quot;true&quot;\n            android:layout_gravity=&quot;center&quot;\n            android:layout_marginLeft=&quot;@dimen/half_view_margin_standard&quot;\n            android:gravity=&quot;center&quot;\n            android:text=&quot;சித்திரைத்&quot;\n            android:textColor=&quot;@color/abc_decor_view_status_guard&quot;\n            android:textSize=&quot;@dimen/app_big_sub_heads_text_size&quot; /&gt;\n\n        &lt;TextView\n            android:id=&quot;@+id/tv_viratham_time_range&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_alignParentLeft=&quot;true&quot;\n            android:layout_gravity=&quot;center&quot;\n            android:layout_marginLeft=&quot;@dimen/half_view_margin_standard&quot;\n            android:gravity=&quot;center&quot;\n            android:text=&quot;சித்திரைத்&quot;\n            android:textColor=&quot;@color/abc_decor_view_status_guard&quot;\n            android:textSize=&quot;@dimen/app_big_sub_heads_text_size&quot; /&gt;\n\n        &lt;TextView\n            android:textSize=&quot;@dimen/app_body_type_1_text_size&quot;\n            android:textColor=&quot;@color/black&quot;\n            android:gravity=&quot;center&quot;\n            android:layout_gravity=&quot;center&quot;\n            android:id=&quot;@+id/tv_vishesham&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_margin=&quot;@dimen/half_view_margin_standard&quot;\n            android:text=&quot;காலை&quot;/&gt;\n    &lt;/LinearLayout&gt;\n\n\n    &lt;/androidx.core.widget.NestedScrollView&gt;\n&lt;/LinearLayout&gt;\n</code></pre>\n<p>&lt;/androidx.cardview.widget.CardView&gt;`</p>\n<p>`</p>\n<p>how to clear error this</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":13252051,"reputation":1635,"user_id":9569292,"display_name":"Thomas Timbul"},"score":0,"creation_date":1673358191,"post_id":75068913,"comment_id":132476846,"body_markdown":"Please show what you have tried and ideally a [Minimal Reproducible Example](https://stackoverflow.com/help/minimal-reproducible-example)","body":"Please show what you have tried and ideally a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">Minimal Reproducible Example</a>"},{"owner":{"account_id":15480820,"reputation":71,"user_id":11168157,"display_name":"Chris Damianidis"},"score":0,"creation_date":1673359370,"post_id":75068913,"comment_id":132477261,"body_markdown":"Thank you for the interest, but I found a solution my own after struggling.","body":"Thank you for the interest, but I found a solution my own after struggling."},{"owner":{"account_id":6767185,"reputation":17855,"user_id":5211833,"accept_rate":83,"display_name":"Adriaan"},"score":0,"creation_date":1673360017,"post_id":75068913,"comment_id":132477528,"body_markdown":"Please do not add answers to the question body itself. Instead, you should add it as an answer. [Answering your own question is allowed and even encouraged](https://stackoverflow.com/help/self-answer).","body":"Please do not add answers to the question body itself. Instead, you should add it as an answer. <a href=\"https://stackoverflow.com/help/self-answer\">Answering your own question is allowed and even encouraged</a>."},{"owner":{"account_id":15480820,"reputation":71,"user_id":11168157,"display_name":"Chris Damianidis"},"score":0,"creation_date":1673360116,"post_id":75068913,"comment_id":132477576,"body_markdown":"Yes I just did it.. If you found my question useful please upvote","body":"Yes I just did it.. If you found my question useful please upvote"}],"answers":[{"tags":[],"owner":{"account_id":15480820,"reputation":71,"user_id":11168157,"display_name":"Chris Damianidis"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1673442810,"creation_date":1673360070,"answer_id":75071245,"question_id":75068913,"body_markdown":"Retrieve field from LocalDate that has more than one event\r\n\r\n\r\nI am building a Calendar app that add event and then in every specific date you can see the events. My problem is that in every date block I am trying to add inflated block that will show in every date the title of the event and if the user wants to see more details he can with double tap. In every block will be shown only 2 events titles because of space. I am using DatabaseHelper, when a date have 2 events, these two events have in common only the date. So when I try to show these seperate events I can&#39;t find a way to retrieve the second event because the code read the first one in the specific date and the second one in this date is ignored.\r\n\r\n\r\n\r\n**SOLVED**\r\n\r\nI solved it using 2 loops to iterate through the ArrayList of object Event, the first loop begin from 0 and the second from arraylist size. I compare where the localdate values are same, and then I insert the correct value to the block.\r\n\r\nMy code:\r\n\r\n    ArrayList&lt;Event&gt; myEvents = new ArrayList&lt;&gt;();\r\n            while (cursor.moveToNext()) {\r\n                Event eventDB = new Event(cursor.getString(0), cursor.getString(1), cursor.getString(2),\r\n                        CalendarUtils.stringToLocalDate(cursor.getString(3)), LocalTime.parse(cursor.getString(4)));\r\n                myEvents.add(eventDB);\r\n            }\r\n    \r\n    \r\n            cursor.moveToPosition(0);\r\n            while (cursor.moveToNext()) {\r\n    \r\n    \r\n    \r\n                for (int i = 0; i &lt; myEvents.size(); i++) {\r\n                    if (myEvents.get(i).getDate().equals(date) &amp;&amp; LocalTime.parse(cursor.getString(4)).equals(myEvents.get(i).getTime())) {\r\n    \r\n                        holder.eventDayText.setVisibility(View.VISIBLE);\r\n                        holder.eventDayText.setText(myEvents.get(i).getName());\r\n                        holder.eventDayText.setTextColor(Color.BLUE);\r\n                        holder.eventDayText.setBackgroundResource(R.drawable.rounded_corner);\r\n    \r\n    \r\n    \r\n                        for (int j = myEvents.size()-1; j &gt;= 0; j--) {\r\n                            if (myEvents.get(i).getDate().equals(myEvents.get(j).getDate()) &amp;&amp; i &lt; myEvents.size() ) {\r\n                                if (myEvents.get(j).getName().equals(myEvents.get(i).getName())) {\r\n                                    holder.eventDayText2.setVisibility(View.GONE);\r\n    \r\n                                } else {\r\n                                    holder.eventDayText2.setVisibility(View.VISIBLE);\r\n                                    holder.eventDayText2.setText(myEvents.get(j).getName());\r\n                                    holder.eventDayText2.setTextColor(Color.BLUE);\r\n                                    holder.eventDayText2.setBackgroundResource(R.drawable.rounded_corner);\r\n    \r\n                                }\r\n                            }\r\n    \r\n                        }\r\n    \r\n                    }\r\n    \r\n    \r\n                }","title":"Retrieve field from LocalDate that has more than one event","body":"<p>Retrieve field from LocalDate that has more than one event</p>\n<p>I am building a Calendar app that add event and then in every specific date you can see the events. My problem is that in every date block I am trying to add inflated block that will show in every date the title of the event and if the user wants to see more details he can with double tap. In every block will be shown only 2 events titles because of space. I am using DatabaseHelper, when a date have 2 events, these two events have in common only the date. So when I try to show these seperate events I can't find a way to retrieve the second event because the code read the first one in the specific date and the second one in this date is ignored.</p>\n<p><strong>SOLVED</strong></p>\n<p>I solved it using 2 loops to iterate through the ArrayList of object Event, the first loop begin from 0 and the second from arraylist size. I compare where the localdate values are same, and then I insert the correct value to the block.</p>\n<p>My code:</p>\n<pre><code>ArrayList&lt;Event&gt; myEvents = new ArrayList&lt;&gt;();\n        while (cursor.moveToNext()) {\n            Event eventDB = new Event(cursor.getString(0), cursor.getString(1), cursor.getString(2),\n                    CalendarUtils.stringToLocalDate(cursor.getString(3)), LocalTime.parse(cursor.getString(4)));\n            myEvents.add(eventDB);\n        }\n\n\n        cursor.moveToPosition(0);\n        while (cursor.moveToNext()) {\n\n\n\n            for (int i = 0; i &lt; myEvents.size(); i++) {\n                if (myEvents.get(i).getDate().equals(date) &amp;&amp; LocalTime.parse(cursor.getString(4)).equals(myEvents.get(i).getTime())) {\n\n                    holder.eventDayText.setVisibility(View.VISIBLE);\n                    holder.eventDayText.setText(myEvents.get(i).getName());\n                    holder.eventDayText.setTextColor(Color.BLUE);\n                    holder.eventDayText.setBackgroundResource(R.drawable.rounded_corner);\n\n\n\n                    for (int j = myEvents.size()-1; j &gt;= 0; j--) {\n                        if (myEvents.get(i).getDate().equals(myEvents.get(j).getDate()) &amp;&amp; i &lt; myEvents.size() ) {\n                            if (myEvents.get(j).getName().equals(myEvents.get(i).getName())) {\n                                holder.eventDayText2.setVisibility(View.GONE);\n\n                            } else {\n                                holder.eventDayText2.setVisibility(View.VISIBLE);\n                                holder.eventDayText2.setText(myEvents.get(j).getName());\n                                holder.eventDayText2.setTextColor(Color.BLUE);\n                                holder.eventDayText2.setBackgroundResource(R.drawable.rounded_corner);\n\n                            }\n                        }\n\n                    }\n\n                }\n\n\n            }\n</code></pre>\n"}],"owner":{"account_id":15480820,"reputation":71,"user_id":11168157,"display_name":"Chris Damianidis"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1673384347,"accepted_answer_id":75071245,"answer_count":1,"score":0,"last_activity_date":1673527389,"creation_date":1673348133,"question_id":75068913,"body_markdown":"I am building a Calendar app that add event and then in every specific date you can see the events. My problem is that in every date block I am trying to add inflated block that will show in every date the title of the event and if the user wants to see more details he can with double tap. In every block will be shown only 2 events titles because of space. I am using DatabaseHelper, when a date have 2 events, these two events have in common only the date. So when I try to show these seperate events I can&#39;t find a way to retrieve the second event because the code read the first one in the specific date and the second one in this date is ignored. \r\n\r\n**Number is the day of each month: Ex: 5 of January\r\nThe two blocks down are the titles of the events inside this day, when there only one event in this day, the second block is hidden.**\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/FJekE.png","title":"Retrieve field from LocalDate that has more than one event","body":"<p>I am building a Calendar app that add event and then in every specific date you can see the events. My problem is that in every date block I am trying to add inflated block that will show in every date the title of the event and if the user wants to see more details he can with double tap. In every block will be shown only 2 events titles because of space. I am using DatabaseHelper, when a date have 2 events, these two events have in common only the date. So when I try to show these seperate events I can't find a way to retrieve the second event because the code read the first one in the specific date and the second one in this date is ignored.</p>\n<p><strong>Number is the day of each month: Ex: 5 of January\nThe two blocks down are the titles of the events inside this day, when there only one event in this day, the second block is hidden.</strong></p>\n<p><a href=\"https://i.stack.imgur.com/FJekE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FJekE.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","email","smtp"],"comments":[{"owner":{"account_id":1487089,"reputation":1546,"user_id":1395089,"display_name":"porfiriopartida"},"score":0,"creation_date":1380442911,"post_id":19075892,"comment_id":28197800,"body_markdown":"I think it will not be allowed not only by google but also by the ISP. You may get banned or something like that if you use it in a harmful way like sending spam.","body":"I think it will not be allowed not only by google but also by the ISP. You may get banned or something like that if you use it in a harmful way like sending spam."},{"owner":{"account_id":1189450,"reputation":87,"user_id":1162644,"display_name":"Ankit Gupta"},"score":0,"creation_date":1380469940,"post_id":19075892,"comment_id":28204615,"body_markdown":"Dont worry. Not gonna use that for spamming or something else. Just need to design a system like that for some project.!","body":"Dont worry. Not gonna use that for spamming or something else. Just need to design a system like that for some project.!"},{"owner":{"account_id":1232298,"reputation":11323,"user_id":1196603,"display_name":"Jk1"},"score":0,"creation_date":1380575406,"post_id":19075892,"comment_id":28246190,"body_markdown":"Transport.send() itself should not be a limitation here, it can process 200 mails/sec, especialy if you&#39;re using many threads for that. The question is if the target mail server is able to receive emails that fast? SSL/TLS, if you&#39;re using one, may also contribute to the slowdown significantly.","body":"Transport.send() itself should not be a limitation here, it can process 200 mails/sec, especialy if you&#39;re using many threads for that. The question is if the target mail server is able to receive emails that fast? SSL/TLS, if you&#39;re using one, may also contribute to the slowdown significantly."}],"answers":[{"tags":[],"owner":{"account_id":379713,"reputation":1242,"user_id":733267,"display_name":"Hontv&#225;ri Levente"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1384352106,"creation_date":1384352106,"answer_id":19956011,"question_id":19075892,"body_markdown":"Yes, you need a multithreaded server. As you wrote, you will use about 1000 threads for sending, that is feasible on any hardware from a CPU performance viewpoint, but you have to have adequate memory too.","title":"java bulk email sender","body":"<p>Yes, you need a multithreaded server. As you wrote, you will use about 1000 threads for sending, that is feasible on any hardware from a CPU performance viewpoint, but you have to have adequate memory too.</p>\n"},{"tags":[],"owner":{"account_id":4788483,"reputation":31,"user_id":3868292,"display_name":"Shashank Shah"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1479806785,"creation_date":1479806785,"answer_id":40738075,"question_id":19075892,"body_markdown":"Transport.send() is not an efficient way to send mass mails as it will open fresh connection for each message. Average time taken for each message is around 4 seconds.\r\n\r\nTry below code:\r\n\r\n    Session session = Session.getDefaultInstance(props,new javax.mail.Authenticator() {  \r\n\t\t\tprotected PasswordAuthentication getPasswordAuthentication() {  \r\n\t\t\t\treturn new PasswordAuthentication(&quot;FROM&quot;,&quot;PASSWORD&quot;);  \r\n\t\t\t}  \r\n\t\t});\r\n    Transport transport = session.getTransport(&quot;smtp&quot;);\r\n    transport.connect();\r\n    try{\r\n       for(Message m : messages) {\r\n       transport.sendMessage(m, m.getAllRecipients()); // time decreased to 2 second/message\r\n       }\r\n    }finally {\r\n    t.close();\r\n    }\r\n\r\nFurther you can try implementing using ThreadPool having fixed number of Thread depending upon the system you are having.","title":"java bulk email sender","body":"<p>Transport.send() is not an efficient way to send mass mails as it will open fresh connection for each message. Average time taken for each message is around 4 seconds.</p>\n\n<p>Try below code:</p>\n\n<pre><code>Session session = Session.getDefaultInstance(props,new javax.mail.Authenticator() {  \n        protected PasswordAuthentication getPasswordAuthentication() {  \n            return new PasswordAuthentication(\"FROM\",\"PASSWORD\");  \n        }  \n    });\nTransport transport = session.getTransport(\"smtp\");\ntransport.connect();\ntry{\n   for(Message m : messages) {\n   transport.sendMessage(m, m.getAllRecipients()); // time decreased to 2 second/message\n   }\n}finally {\nt.close();\n}\n</code></pre>\n\n<p>Further you can try implementing using ThreadPool having fixed number of Thread depending upon the system you are having.</p>\n"}],"owner":{"account_id":1189450,"reputation":87,"user_id":1162644,"display_name":"Ankit Gupta"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2217,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1673527374,"creation_date":1380442805,"question_id":19075892,"body_markdown":"I need to design an application in java which can send like 200-300 mails/sec. How to get it done. I tried the simple Transport.send() which sends one mail at a time but that takes around 2-3 secs in itself. Also will google smtp allow me to send this much number of mails per second ?! How to implement something like batch mail sending or can something like multi-threading help?","title":"java bulk email sender","body":"<p>I need to design an application in java which can send like 200-300 mails/sec. How to get it done. I tried the simple Transport.send() which sends one mail at a time but that takes around 2-3 secs in itself. Also will google smtp allow me to send this much number of mails per second ?! How to implement something like batch mail sending or can something like multi-threading help?</p>\n"},{"tags":["java","apache","gradle"],"comments":[{"owner":{"account_id":7332,"reputation":23983,"user_id":12704,"accept_rate":75,"display_name":"Michael Easter"},"score":0,"creation_date":1474510971,"post_id":39626522,"comment_id":66563718,"body_markdown":"If you have exactly &quot; import org.apache.poi;&quot; then the problem is an illegal import statement. You need a wildcard or class. e.g. &quot;import org.apache.poi.*;&quot;","body":"If you have exactly &quot; import org.apache.poi;&quot; then the problem is an illegal import statement. You need a wildcard or class. e.g. &quot;import org.apache.poi.*;&quot;"},{"owner":{"account_id":10671711,"reputation":821,"user_id":7856586,"display_name":"Roman Soviak"},"score":0,"creation_date":1519773215,"post_id":39626522,"comment_id":85044134,"body_markdown":"Did you solve this problem ?","body":"Did you solve this problem ?"}],"answers":[{"comments":[{"owner":{"account_id":8328298,"reputation":117,"user_id":6257662,"display_name":"Michael Rh&#246;se"},"score":0,"creation_date":1474492587,"post_id":39626620,"comment_id":66558806,"body_markdown":"If you build your project is there any error output?","body":"If you build your project is there any error output?"},{"owner":{"account_id":8132933,"reputation":121,"user_id":6125583,"accept_rate":50,"display_name":"Katelyn"},"score":1,"creation_date":1474492734,"post_id":39626620,"comment_id":66558883,"body_markdown":"Nevermind, I restarted the IDE and it worked. It did not work after I used &quot;clean and builde&quot;.","body":"Nevermind, I restarted the IDE and it worked. It did not work after I used &quot;clean and builde&quot;."},{"owner":{"account_id":8328298,"reputation":117,"user_id":6257662,"display_name":"Michael Rh&#246;se"},"score":0,"creation_date":1474492864,"post_id":39626620,"comment_id":66558942,"body_markdown":"Clean and build is not the same than reload project. Reload project is the same as reload pom in an maven project and tells your build tool to check the project dependencies.","body":"Clean and build is not the same than reload project. Reload project is the same as reload pom in an maven project and tells your build tool to check the project dependencies."},{"owner":{"account_id":8328298,"reputation":117,"user_id":6257662,"display_name":"Michael Rh&#246;se"},"score":1,"creation_date":1474492916,"post_id":39626620,"comment_id":66558964,"body_markdown":"If you restart your ide the build tool does the same","body":"If you restart your ide the build tool does the same"}],"tags":[],"owner":{"account_id":8328298,"reputation":117,"user_id":6257662,"display_name":"Michael Rh&#246;se"},"comment_count":4,"down_vote_count":1,"up_vote_count":3,"is_accepted":true,"score":2,"last_activity_date":1600793921,"creation_date":1474492058,"answer_id":39626620,"question_id":39626522,"body_markdown":"Some times it is useful to reload a gradle project so gradle could download the binary of the new dependency. After that the new packages should be available.","title":"Unable to use the apache.poi library after adding gradle dependency","body":"<p>Some times it is useful to reload a gradle project so gradle could download the binary of the new dependency. After that the new packages should be available.</p>\n"},{"tags":[],"owner":{"account_id":3575212,"reputation":616,"user_id":2984648,"display_name":"gauravsngarg"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1492255877,"creation_date":1492253037,"answer_id":43425074,"question_id":39626522,"body_markdown":"Found the same error while including gradle in the build.gradle file.\r\n\r\nUse:\r\n**compile group: &#39;org.apache.poi&#39;, name: &#39;poi&#39;, version: &#39;3.9&#39;** \r\n\r\n    Like: dependencies {\r\n        compile fileTree(dir: &#39;libs&#39;, include: [&#39;*.jar&#39;])\r\n    \r\n        testCompile &#39;junit:junit:4.12&#39;\r\n        compile group: &#39;org.apache.poi&#39;, name: &#39;poi&#39;, version: &#39;3.9&#39;\r\n        compile &#39;com.android.support:appcompat-v7:23.4.0&#39;\r\n    }\r\n    \r\n    \r\n    apply plugin: &#39;com.android.application&#39;\r\n    \r\n    android {\r\n        compileSdkVersion 23\r\n        buildToolsVersion &quot;23.0.3&quot;\r\n    \r\n        defaultConfig {\r\n            applicationId &quot;fl.gauravsngarg.com.inventory&quot;\r\n            minSdkVersion 23\r\n            targetSdkVersion 23\r\n            versionCode 1\r\n            versionName &quot;1.0&quot;\r\n        }\r\n        buildTypes {\r\n            release {\r\n                minifyEnabled false\r\n                proguardFiles getDefaultProguardFile(&#39;proguard-android.txt&#39;), &#39;proguard-rules.pro&#39;\r\n            }\r\n        }\r\n    }\r\n    \r\n    dependencies {\r\n        compile fileTree(dir: &#39;libs&#39;, include: [&#39;*.jar&#39;])\r\n    \r\n        testCompile &#39;junit:junit:4.12&#39;\r\n        compile group: &#39;org.apache.poi&#39;, name: &#39;poi&#39;, version: &#39;3.9&#39;\r\n        compile &#39;com.android.support:appcompat-v7:23.4.0&#39;\r\n    }\r\n\r\n","title":"Unable to use the apache.poi library after adding gradle dependency","body":"<p>Found the same error while including gradle in the build.gradle file.</p>\n\n<p>Use:\n<strong>compile group: 'org.apache.poi', name: 'poi', version: '3.9'</strong> </p>\n\n<pre><code>Like: dependencies {\n    compile fileTree(dir: 'libs', include: ['*.jar'])\n\n    testCompile 'junit:junit:4.12'\n    compile group: 'org.apache.poi', name: 'poi', version: '3.9'\n    compile 'com.android.support:appcompat-v7:23.4.0'\n}\n\n\napply plugin: 'com.android.application'\n\nandroid {\n    compileSdkVersion 23\n    buildToolsVersion \"23.0.3\"\n\n    defaultConfig {\n        applicationId \"fl.gauravsngarg.com.inventory\"\n        minSdkVersion 23\n        targetSdkVersion 23\n        versionCode 1\n        versionName \"1.0\"\n    }\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n        }\n    }\n}\n\ndependencies {\n    compile fileTree(dir: 'libs', include: ['*.jar'])\n\n    testCompile 'junit:junit:4.12'\n    compile group: 'org.apache.poi', name: 'poi', version: '3.9'\n    compile 'com.android.support:appcompat-v7:23.4.0'\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3958992,"reputation":447,"user_id":3266623,"display_name":"ShankPossible"},"score":0,"creation_date":1537430004,"post_id":50885693,"comment_id":91783480,"body_markdown":"even after adding, i am facing problem in import for org.apache.poi","body":"even after adding, i am facing problem in import for org.apache.poi"}],"tags":[],"owner":{"account_id":10290837,"reputation":1,"user_id":7592646,"display_name":"Adarsh Singh"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1529132209,"creation_date":1529132209,"answer_id":50885693,"question_id":39626522,"body_markdown":"After research I found the actual version. \r\n\r\nUse \r\n// https://mvnrepository.com/artifact/org.apache.poi/poi\r\ncompile group: &#39;org.apache.poi&#39;, name: &#39;poi&#39;, version: &#39;3.9&#39;\r\n\r\nIts given here \r\n\r\nhttps://mvnrepository.com/artifact/org.apache.poi/poi/3.9\r\n\r\nThe site contains all the official dependencies for gradle, maven, etc.","title":"Unable to use the apache.poi library after adding gradle dependency","body":"<p>After research I found the actual version. </p>\n\n<p>Use \n// <a href=\"https://mvnrepository.com/artifact/org.apache.poi/poi\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/org.apache.poi/poi</a>\ncompile group: 'org.apache.poi', name: 'poi', version: '3.9'</p>\n\n<p>Its given here </p>\n\n<p><a href=\"https://mvnrepository.com/artifact/org.apache.poi/poi/3.9\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/org.apache.poi/poi/3.9</a></p>\n\n<p>The site contains all the official dependencies for gradle, maven, etc.</p>\n"},{"tags":[],"owner":{"account_id":14516059,"reputation":191,"user_id":10485139,"display_name":"Aditya Chandel"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1541499240,"creation_date":1541499240,"answer_id":53169815,"question_id":39626522,"body_markdown":"It worked for me:\r\n\r\nIt is quite possible that you have enabled gradle sync in **offline mode**. \r\n\r\nJust change that.\r\n\r\nWorks like a charm","title":"Unable to use the apache.poi library after adding gradle dependency","body":"<p>It worked for me:</p>\n\n<p>It is quite possible that you have enabled gradle sync in <strong>offline mode</strong>. </p>\n\n<p>Just change that.</p>\n\n<p>Works like a charm</p>\n"},{"tags":[],"owner":{"account_id":17651050,"reputation":115,"user_id":12811504,"display_name":"Marvin Kern"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1585894632,"creation_date":1585894632,"answer_id":61006066,"question_id":39626522,"body_markdown":"I had the same issue!\r\n\r\nFor me File &gt; Invalidate Chaches / Restart &gt; Invalidate and Restart worked. \r\n\r\nI am using this version: https://mvnrepository.com/artifact/org.apache.poi/poi/4.1.2\r\n","title":"Unable to use the apache.poi library after adding gradle dependency","body":"<p>I had the same issue!</p>\n\n<p>For me File > Invalidate Chaches / Restart > Invalidate and Restart worked. </p>\n\n<p>I am using this version: <a href=\"https://mvnrepository.com/artifact/org.apache.poi/poi/4.1.2\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/org.apache.poi/poi/4.1.2</a></p>\n"},{"comments":[{"owner":{"account_id":12381428,"reputation":809,"user_id":9026870,"display_name":"Oleh Tatsiun"},"score":0,"creation_date":1607602548,"post_id":65231152,"comment_id":115327509,"body_markdown":"No Mohnish, I just answered the solution with org.apache.poi version 4.0.0 that was helped for me. It&#39;s not stealing. \nCome on man, we&#39;re here to help each other, not for stealing. \nI believe my explanation will help other guys.","body":"No Mohnish, I just answered the solution with org.apache.poi version 4.0.0 that was helped for me. It&#39;s not stealing.  Come on man, we&#39;re here to help each other, not for stealing.  I believe my explanation will help other guys."}],"tags":[],"owner":{"account_id":12381428,"reputation":809,"user_id":9026870,"display_name":"Oleh Tatsiun"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1607589835,"creation_date":1607589835,"answer_id":65231152,"question_id":39626522,"body_markdown":"Worked for me:\r\n\r\ncompile group: &#39;org.apache.poi&#39;, name: &#39;poi-ooxml&#39;, version: &#39;4.0.0&#39;","title":"Unable to use the apache.poi library after adding gradle dependency","body":"<p>Worked for me:</p>\n<p>compile group: 'org.apache.poi', name: 'poi-ooxml', version: '4.0.0'</p>\n"}],"owner":{"account_id":8132933,"reputation":121,"user_id":6125583,"accept_rate":50,"display_name":"Katelyn"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20960,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":39626620,"answer_count":6,"score":1,"last_activity_date":1673526768,"creation_date":1474491675,"question_id":39626522,"body_markdown":"I&#39;ve been trying to use the apache.poi library to create an excel file but, for some reason, I&#39;m unable to import anything.\r\n\r\n\r\n    mainClassName = &#39;Main&#39;\r\n    sourceCompatibility = 1.7\r\n    targetCompatibility = 1.7\r\n    version = &#39;1.0&#39;\r\n    \r\n    repositories {\r\n        mavenCentral()\r\n    }\r\n    \r\n    dependencies {\r\n        compile &#39;com.google.api-client:google-api-client:1.22.0&#39;\r\n        compile &#39;com.google.oauth-client:google-oauth-client-jetty:1.22.0&#39;\r\n        compile &#39;com.google.apis:google-api-services-sheets:v4-rev21-1.22.0&#39;\r\n    \r\n        compile &#39;org.apache.poi:poi:3.9&#39;\r\n    }\r\n\r\nWhen I am trying to write import org.apache.poi; it gives me an error saying &quot;Package does not exist&quot;.\r\nWhat is wrong with my dependencies? Thanks.\r\n","title":"Unable to use the apache.poi library after adding gradle dependency","body":"<p>I've been trying to use the apache.poi library to create an excel file but, for some reason, I'm unable to import anything.</p>\n\n<pre><code>mainClassName = 'Main'\nsourceCompatibility = 1.7\ntargetCompatibility = 1.7\nversion = '1.0'\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    compile 'com.google.api-client:google-api-client:1.22.0'\n    compile 'com.google.oauth-client:google-oauth-client-jetty:1.22.0'\n    compile 'com.google.apis:google-api-services-sheets:v4-rev21-1.22.0'\n\n    compile 'org.apache.poi:poi:3.9'\n}\n</code></pre>\n\n<p>When I am trying to write import org.apache.poi; it gives me an error saying \"Package does not exist\".\nWhat is wrong with my dependencies? Thanks.</p>\n"},{"tags":["java","selenium","selenium-webdriver","popup","alert"],"answers":[{"comments":[{"owner":{"account_id":5957897,"reputation":364,"user_id":4683883,"accept_rate":50,"display_name":"Jefe infiltrado"},"score":1,"creation_date":1673516198,"post_id":75093947,"comment_id":132518348,"body_markdown":"I had tried this and it unfortunately does not work. The popup is there anyway and I am not authenticated.","body":"I had tried this and it unfortunately does not work. The popup is there anyway and I am not authenticated."}],"tags":[],"owner":{"account_id":4261091,"reputation":32684,"user_id":3485434,"accept_rate":97,"display_name":"Prophet"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673514936,"creation_date":1673514936,"answer_id":75093947,"question_id":75093791,"body_markdown":"Try to use the approach where you send username and password in URL Request:\r\n```java\r\nhttp://username:password@the-site.com\r\n```\r\nThe username is `username` and password is `password` and the rest is the URL of that web page\r\n\r\n```java\r\nString URL = &quot;http://&quot; + username + &quot;:&quot; + password + &quot;@&quot; + theWebPageUrl;\r\ndriver.get(URL);\r\n```\r\nThe more detailed answer is  [here][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/11522757/3485434","title":"How to handle a popup window that does not exist in the WebDriver with Selenium/Java?","body":"<p>Try to use the approach where you send username and password in URL Request:</p>\n<pre class=\"lang-java prettyprint-override\"><code>http://username:password@the-site.com\n</code></pre>\n<p>The username is <code>username</code> and password is <code>password</code> and the rest is the URL of that web page</p>\n<pre class=\"lang-java prettyprint-override\"><code>String URL = &quot;http://&quot; + username + &quot;:&quot; + password + &quot;@&quot; + theWebPageUrl;\ndriver.get(URL);\n</code></pre>\n<p>The more detailed answer is  <a href=\"https://stackoverflow.com/a/11522757/3485434\">here</a></p>\n"},{"comments":[{"owner":{"account_id":5957897,"reputation":364,"user_id":4683883,"accept_rate":50,"display_name":"Jefe infiltrado"},"score":0,"creation_date":1673521213,"post_id":75094814,"comment_id":132520076,"body_markdown":"the alert is not found","body":"the alert is not found"},{"owner":{"account_id":3355741,"reputation":438,"user_id":2818711,"display_name":"Marek"},"score":0,"creation_date":1673526544,"post_id":75094814,"comment_id":132521870,"body_markdown":"check out my updated comment above","body":"check out my updated comment above"}],"tags":[],"owner":{"account_id":3355741,"reputation":438,"user_id":2818711,"display_name":"Marek"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673526518,"creation_date":1673519122,"answer_id":75094814,"question_id":75093791,"body_markdown":"in case you working with Selenium 4, have a look at this, might be worth trying - https://www.lambdatest.com/blog/handling-login-popup-in-selenium-webdriver-using-java/\r\n\r\nespecially this section\r\n\r\n&gt; Handling login pop-up in Selenium WebDriver using Selenium 4 beta\r\n&gt; version","title":"How to handle a popup window that does not exist in the WebDriver with Selenium/Java?","body":"<p>in case you working with Selenium 4, have a look at this, might be worth trying - <a href=\"https://www.lambdatest.com/blog/handling-login-popup-in-selenium-webdriver-using-java/\" rel=\"nofollow noreferrer\">https://www.lambdatest.com/blog/handling-login-popup-in-selenium-webdriver-using-java/</a></p>\n<p>especially this section</p>\n<blockquote>\n<p>Handling login pop-up in Selenium WebDriver using Selenium 4 beta\nversion</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":23004967,"reputation":181,"user_id":17128402,"display_name":"kadis"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673523012,"creation_date":1673523012,"answer_id":75095678,"question_id":75093791,"body_markdown":"try to access popup as an app element (browser) with [RPA.Desktop.Desktop][1] api or [RPA.Desktop.Windows][2] api. For Python it&#39;s `pip install rpaframework`\r\n\r\n\r\n  [1]: https://rpaframework.org/libraries/desktop/python.html#\r\n  [2]: https://rpaframework.org/libraries/desktop_windows/python.html","title":"How to handle a popup window that does not exist in the WebDriver with Selenium/Java?","body":"<p>try to access popup as an app element (browser) with <a href=\"https://rpaframework.org/libraries/desktop/python.html#\" rel=\"nofollow noreferrer\">RPA.Desktop.Desktop</a> api or <a href=\"https://rpaframework.org/libraries/desktop_windows/python.html\" rel=\"nofollow noreferrer\">RPA.Desktop.Windows</a> api. For Python it's <code>pip install rpaframework</code></p>\n"}],"owner":{"account_id":5957897,"reputation":364,"user_id":4683883,"accept_rate":50,"display_name":"Jefe infiltrado"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":203,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1673526518,"creation_date":1673514175,"question_id":75093791,"body_markdown":"I have a popup window which does not exist in the WebDriver. \r\n[![enter image description here][1]][1]\r\n\r\nThere is no WindowHandle for it, so I cannot address it as Alert.\r\n[![enter image description here][2]][2]\r\n\r\nBut since the cursor is in the right position, is there any way to just send username TAB password ENTER as Keys?\r\n\r\n  [1]: https://i.stack.imgur.com/BRUsB.png\r\n  [2]: https://i.stack.imgur.com/ldoVI.png","title":"How to handle a popup window that does not exist in the WebDriver with Selenium/Java?","body":"<p>I have a popup window which does not exist in the WebDriver.\n<a href=\"https://i.stack.imgur.com/BRUsB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BRUsB.png\" alt=\"enter image description here\" /></a></p>\n<p>There is no WindowHandle for it, so I cannot address it as Alert.\n<a href=\"https://i.stack.imgur.com/ldoVI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ldoVI.png\" alt=\"enter image description here\" /></a></p>\n<p>But since the cursor is in the right position, is there any way to just send username TAB password ENTER as Keys?</p>\n"},{"tags":["java","maven","quarkus","properties-file","uberjar"],"comments":[{"owner":{"account_id":2922228,"reputation":61034,"user_id":2504224,"display_name":"geoand"},"score":1,"creation_date":1673527559,"post_id":75095707,"comment_id":132522213,"body_markdown":"There isn&#39;t really a way to control this. This particular case is arguably a bug, but in general you can easily run into such problems with uber-jar","body":"There isn&#39;t really a way to control this. This particular case is arguably a bug, but in general you can easily run into such problems with uber-jar"},{"owner":{"account_id":2243576,"reputation":407,"user_id":1977508,"accept_rate":50,"display_name":"Furious Gamer"},"score":0,"creation_date":1673612668,"post_id":75095707,"comment_id":132543918,"body_markdown":"@geoand i see, is there a way to add some form of custom step in the build process? or do i rather need to use gradle if i want to do something like that? like for example change the application.properties when copied to the uber-jar or anything like that.","body":"@geoand i see, is there a way to add some form of custom step in the build process? or do i rather need to use gradle if i want to do something like that? like for example change the application.properties when copied to the uber-jar or anything like that."},{"owner":{"account_id":2922228,"reputation":61034,"user_id":2504224,"display_name":"geoand"},"score":0,"creation_date":1673621522,"post_id":75095707,"comment_id":132546941,"body_markdown":"I don&#39;t remember for sure, but I don&#39;t think there is any integration point for the uber-jar generation process.","body":"I don&#39;t remember for sure, but I don&#39;t think there is any integration point for the uber-jar generation process."}],"owner":{"account_id":2243576,"reputation":407,"user_id":1977508,"accept_rate":50,"display_name":"Furious Gamer"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":138,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673526372,"creation_date":1673523163,"question_id":75095707,"body_markdown":"I have a quarkus maven project which has properties in `src/main/application.properties`. This project also has a local dependency that also contains `src/main/application.properties` since there are tests in the dependency that rely on it (setting them in `src/test/application.properties` does not work). Example folder structure:\r\n\r\n- `dependency`\r\n  - `src/main/application.properties` (contains some settings for integration tests in this dependency)\r\n- `quarkus-project`\r\n  - `src/main/application.properties` (contains different settings for its own project)\r\n\r\nWhen i build an uber-jar for the `quarkus-project` it successfully creates one, however it contains the `application.properties` file of the dependency instead of its own. \r\n\r\nUber-jar contents generated for quarkus-project:\r\n\r\n - ...\r\n - `application.properties` (&lt;- file from `dependency`, rather than from `quarkus-project`)\r\n - ...\r\n\r\nWhy is that? Why does it use the `application.properties` of a dependency rather than its own when building the specific project? Is there a way to specify a priority or such?","title":"Maven uber-jar generation uses application.properties of dependency instead of its own","body":"<p>I have a quarkus maven project which has properties in <code>src/main/application.properties</code>. This project also has a local dependency that also contains <code>src/main/application.properties</code> since there are tests in the dependency that rely on it (setting them in <code>src/test/application.properties</code> does not work). Example folder structure:</p>\n<ul>\n<li><code>dependency</code>\n<ul>\n<li><code>src/main/application.properties</code> (contains some settings for integration tests in this dependency)</li>\n</ul>\n</li>\n<li><code>quarkus-project</code>\n<ul>\n<li><code>src/main/application.properties</code> (contains different settings for its own project)</li>\n</ul>\n</li>\n</ul>\n<p>When i build an uber-jar for the <code>quarkus-project</code> it successfully creates one, however it contains the <code>application.properties</code> file of the dependency instead of its own.</p>\n<p>Uber-jar contents generated for quarkus-project:</p>\n<ul>\n<li>...</li>\n<li><code>application.properties</code> (&lt;- file from <code>dependency</code>, rather than from <code>quarkus-project</code>)</li>\n<li>...</li>\n</ul>\n<p>Why is that? Why does it use the <code>application.properties</code> of a dependency rather than its own when building the specific project? Is there a way to specify a priority or such?</p>\n"},{"tags":["java","azure-databricks"],"comments":[{"owner":{"account_id":24283949,"reputation":2474,"user_id":18229980,"display_name":"Vamsi Bitra"},"score":0,"creation_date":1672833621,"post_id":75004894,"comment_id":132360825,"body_markdown":"hi @user2419681, can you provide more information. what you tried and expecting ?","body":"hi @user2419681, can you provide more information. what you tried and expecting ?"},{"owner":{"account_id":2814129,"reputation":1,"user_id":2419681,"display_name":"Jack"},"score":0,"creation_date":1672833915,"post_id":75004894,"comment_id":132360915,"body_markdown":"@SaiVamsi,I am trying to connect azure data bricks through proxy. Currently, I am using this URL spark://xxxx.azuredatabricks.com:448/default;transportMode=http;ssl=1httpPath=xxxx;AuthMech=3;UseProxy=1;proxyHost=xxxx;proxyPort=3128; , but I am getting the above error[JDBC Connection Refused: [Simba]JDBC Required Connection Key(s): Host, Port;]. I don&#39;t know what is the reason for that error.","body":"@SaiVamsi,I am trying to connect azure data bricks through proxy. Currently, I am using this URL spark://xxxx.azuredatabricks.com:448/default;transportMode=h&zwnj;&#8203;ttp;ssl=1httpPath=xx&zwnj;&#8203;xx;AuthMech=3;UsePro&zwnj;&#8203;xy=1;proxyHost=xxxx;&zwnj;&#8203;proxyPort=3128; , but I am getting the above error[JDBC Connection Refused: [Simba]JDBC Required Connection Key(s): Host, Port;]. I don&#39;t know what is the reason for that error."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1672836480,"post_id":75004894,"comment_id":132361738,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":9963,"reputation":82992,"user_id":18627,"display_name":"Alex Ott"},"score":0,"creation_date":1672921549,"post_id":75004894,"comment_id":132384340,"body_markdown":"what is the driver version?","body":"what is the driver version?"},{"owner":{"account_id":2814129,"reputation":1,"user_id":2419681,"display_name":"Jack"},"score":0,"creation_date":1673001894,"post_id":75004894,"comment_id":132404577,"body_markdown":"simba-databricks 2.6.21","body":"simba-databricks 2.6.21"}],"answers":[{"tags":[],"owner":{"account_id":9963,"reputation":82992,"user_id":18627,"display_name":"Alex Ott"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673526320,"creation_date":1673526320,"answer_id":75096305,"question_id":75004894,"body_markdown":"If you look into PDF documentation bundled with the driver you can see that it should be `ProxyHost` and `ProxyPort` (capitalized), while you have `proxyHost` and `proxyPort`. From the documentation (page 45 in PDF included into driver download):\r\n\r\n&gt; Property names and values are case-sensitive.","title":"azure databricks JDBC URI connection error during proxy","body":"<p>If you look into PDF documentation bundled with the driver you can see that it should be <code>ProxyHost</code> and <code>ProxyPort</code> (capitalized), while you have <code>proxyHost</code> and <code>proxyPort</code>. From the documentation (page 45 in PDF included into driver download):</p>\n<blockquote>\n<p>Property names and values are case-sensitive.</p>\n</blockquote>\n"}],"owner":{"account_id":2814129,"reputation":1,"user_id":2419681,"display_name":"Jack"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":445,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673526320,"creation_date":1672832397,"question_id":75004894,"body_markdown":"java.sql.SQLNonTransientConnectionException: [Simba][JDBC](10100) Connection Refused: [Simba][JDBC](11640) Required Connection Key(s): Host, Port; [Simba][JDBC](11480) Optional Connection Key(s): AllowSelfSignedCerts, AsyncExecPollInterval, AutomaticColumnRename, CAIssuedCertNamesMismatch, CatalogSchemaSwitch, ConnSchema, DecimalColumnScale, DefaultStringColumnLength, DelegationToken, DelegationUID, DnsResolver, DnsResolverArg, FastConnection, krbJAASFile, NonSSPs, PreparedMetaLimitZero, RowsFetchedPerBlock, ServerVersion, ServiceDiscoveryMode, SocketFactory, SocketFactoryArg, SocketTimeOut, SSLKeyStore, SSLKeyStorePwd, SSLTrustStore, SSLTrustStorePwd, StripCatalogName, UseCustomTypeCoercionMap, UseNativeQuery\r\n\r\nURI : spark://xxxx.azuredatabricks.com:448/default;transportMode=http;ssl=1httpPath=xxxx;AuthMech=3;UseProxy=1;proxyHost=xxxx;proxyPort=3128;\r\n\r\nTrying to connect azure databricks throuh proxy.\r\n\r\nCode :\r\n\r\n    private void createConnectionUsernameAndPassword(Configuration configuration)\r\n          throws ConnectionException {\r\n        // simba driver\r\n        Driver driver = new Driver();\r\n        // before creating the connection\r\n        if (!driver.acceptsURL(getJDBCUri())) {\r\n          throw new ConnectionException(AzureDBErrorCode.INVALID_JDBC_URI);\r\n        }\r\n        try {\r\n          this.connection = driver.connect(getJDBCUri(), properties);\r\n    \r\n        } catch (SQLException e) {\r\n          throw new ConnectionException(e);\r\n        }\r\n      }","title":"azure databricks JDBC URI connection error during proxy","body":"<p>java.sql.SQLNonTransientConnectionException: [Simba]JDBC Connection Refused: [Simba]JDBC Required Connection Key(s): Host, Port; [Simba]JDBC Optional Connection Key(s): AllowSelfSignedCerts, AsyncExecPollInterval, AutomaticColumnRename, CAIssuedCertNamesMismatch, CatalogSchemaSwitch, ConnSchema, DecimalColumnScale, DefaultStringColumnLength, DelegationToken, DelegationUID, DnsResolver, DnsResolverArg, FastConnection, krbJAASFile, NonSSPs, PreparedMetaLimitZero, RowsFetchedPerBlock, ServerVersion, ServiceDiscoveryMode, SocketFactory, SocketFactoryArg, SocketTimeOut, SSLKeyStore, SSLKeyStorePwd, SSLTrustStore, SSLTrustStorePwd, StripCatalogName, UseCustomTypeCoercionMap, UseNativeQuery</p>\n<p>URI : spark://xxxx.azuredatabricks.com:448/default;transportMode=http;ssl=1httpPath=xxxx;AuthMech=3;UseProxy=1;proxyHost=xxxx;proxyPort=3128;</p>\n<p>Trying to connect azure databricks throuh proxy.</p>\n<p>Code :</p>\n<pre><code>private void createConnectionUsernameAndPassword(Configuration configuration)\n      throws ConnectionException {\n    // simba driver\n    Driver driver = new Driver();\n    // before creating the connection\n    if (!driver.acceptsURL(getJDBCUri())) {\n      throw new ConnectionException(AzureDBErrorCode.INVALID_JDBC_URI);\n    }\n    try {\n      this.connection = driver.connect(getJDBCUri(), properties);\n\n    } catch (SQLException e) {\n      throw new ConnectionException(e);\n    }\n  }\n</code></pre>\n"},{"tags":["java","multithreading","performance","threadpool","apple-m1"],"comments":[{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":1,"creation_date":1673465836,"post_id":75087319,"comment_id":132507871,"body_markdown":"Re, &quot;...executes in 26 seconds...&quot; Is that 26 seconds of real time? or is that 26 seconds of CPU time? It should be no surprise if the program uses almost eight times as much CPU time when you ask it to do eight times as much work. How are you measuring the time? It&#39;s no surprise if the CONCURRENCY=8 version uses a little bit _less_ than eight times as much CPU if the main thread incurs some extra overhead (initializing the heap and other JVM resources, creating eight worker threads, etc.)","body":"Re, &quot;...executes in 26 seconds...&quot; Is that 26 seconds of real time? or is that 26 seconds of CPU time? It should be no surprise if the program uses almost eight times as much CPU time when you ask it to do eight times as much work. How are you measuring the time? It&#39;s no surprise if the CONCURRENCY=8 version uses a little bit <i>less</i> than eight times as much CPU if the main thread incurs some extra overhead (initializing the heap and other JVM resources, creating eight worker threads, etc.)"},{"owner":{"account_id":1239585,"reputation":816,"user_id":1202506,"display_name":"NicuMarasoiu"},"score":0,"creation_date":1673466997,"post_id":75087319,"comment_id":132508210,"body_markdown":"it is physical time, it is way faster with 1 thread than 4 or 8 threads. Are you able to test it?","body":"it is physical time, it is way faster with 1 thread than 4 or 8 threads. Are you able to test it?"},{"owner":{"account_id":4210603,"reputation":94386,"user_id":3448419,"display_name":"apangin"},"score":0,"creation_date":1673469233,"post_id":75087319,"comment_id":132508943,"body_markdown":"How do you run the test exactly? What is the JDK version and JVM arguments?","body":"How do you run the test exactly? What is the JDK version and JVM arguments?"},{"owner":{"account_id":1239585,"reputation":816,"user_id":1202506,"display_name":"NicuMarasoiu"},"score":0,"creation_date":1673469836,"post_id":75087319,"comment_id":132509141,"body_markdown":"run from Intellij with junit5, java17","body":"run from Intellij with junit5, java17"},{"owner":{"account_id":1239585,"reputation":816,"user_id":1202506,"display_name":"NicuMarasoiu"},"score":0,"creation_date":1673526226,"post_id":75087319,"comment_id":132521750,"body_markdown":"please see the answer as to more details. I think i answered the question as put, but for my original computation the problem still remains. I have it for many months","body":"please see the answer as to more details. I think i answered the question as put, but for my original computation the problem still remains. I have it for many months"}],"answers":[{"tags":[],"owner":{"account_id":1239585,"reputation":816,"user_id":1202506,"display_name":"NicuMarasoiu"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673526124,"creation_date":1673524293,"answer_id":75095921,"question_id":75087319,"body_markdown":"It would seem that when i pin the computation to the cores, the above does scale horizontally as expected in threads and the time is the same from 1 core to 8 cores. \r\n\r\nThis does not happen on the original computation, but it does on this one. I cannot share the original computation.\r\n\r\nSo this proves that the throttling cannot be a cause.\r\n\r\nThe original computation does fill 790% of CPU (8 cores), and no locking issues.\r\n\r\nOn the original computation, with pinning and all, still\r\n```\r\n    1 thread  =&gt; 5s  physical time\r\n    2 threads =&gt; 10s physical time\r\n    4 threads =&gt; 34s physical time\r\n    8 threads =&gt; 83s physical time\r\n```\r\n\r\nHere is the program that does scale horizontally (has same time to execute from 1 thread to 8 threads), with the dummy computation:\r\n```\r\nfinal class PinnedThreadsParallelismTest {\r\n    private static final int CONCURRENCY = 8;\r\n\r\n    public static void main(String[] args) throws InterruptedException {\r\n        var latch = new CountDownLatch(CONCURRENCY);\r\n        var executorService = newFixedThreadPool(CONCURRENCY);\r\n        for (int m = 0; m &lt; CONCURRENCY; m++) {\r\n            executorService.submit(() -&gt; {\r\n                try (var lock = AffinityLock.acquireLock()) {\r\n                    if (lock.cpuId() &gt; 0) {\r\n                        System.out.println(&quot;locked on &quot; + lock.cpuId());\r\n                        computation();\r\n                        latch.countDown();\r\n                        System.out.println(&quot;countDown&quot;);\r\n                    } else {\r\n                        latch.countDown();\r\n                    }\r\n                }\r\n            });\r\n        }\r\n        latch.await();\r\n        System.exit(0);\r\n    }\r\n\r\n    private static void computation() {\r\n        long n = (long) Math.pow(10, 7);\r\n        var sum = 0;\r\n        for (long i = 0; i &lt; n; i++) {\r\n            sum += LongStream.range(1, 9).boxed().limit(n).map(l -&gt; new BigDecimal(String.valueOf(l))).distinct().count();\r\n        }\r\n    }\r\n}\r\n```","title":"Why does this multi threaded parallel program executes close to sequential time?","body":"<p>It would seem that when i pin the computation to the cores, the above does scale horizontally as expected in threads and the time is the same from 1 core to 8 cores.</p>\n<p>This does not happen on the original computation, but it does on this one. I cannot share the original computation.</p>\n<p>So this proves that the throttling cannot be a cause.</p>\n<p>The original computation does fill 790% of CPU (8 cores), and no locking issues.</p>\n<p>On the original computation, with pinning and all, still</p>\n<pre><code>    1 thread  =&gt; 5s  physical time\n    2 threads =&gt; 10s physical time\n    4 threads =&gt; 34s physical time\n    8 threads =&gt; 83s physical time\n</code></pre>\n<p>Here is the program that does scale horizontally (has same time to execute from 1 thread to 8 threads), with the dummy computation:</p>\n<pre><code>final class PinnedThreadsParallelismTest {\n    private static final int CONCURRENCY = 8;\n\n    public static void main(String[] args) throws InterruptedException {\n        var latch = new CountDownLatch(CONCURRENCY);\n        var executorService = newFixedThreadPool(CONCURRENCY);\n        for (int m = 0; m &lt; CONCURRENCY; m++) {\n            executorService.submit(() -&gt; {\n                try (var lock = AffinityLock.acquireLock()) {\n                    if (lock.cpuId() &gt; 0) {\n                        System.out.println(&quot;locked on &quot; + lock.cpuId());\n                        computation();\n                        latch.countDown();\n                        System.out.println(&quot;countDown&quot;);\n                    } else {\n                        latch.countDown();\n                    }\n                }\n            });\n        }\n        latch.await();\n        System.exit(0);\n    }\n\n    private static void computation() {\n        long n = (long) Math.pow(10, 7);\n        var sum = 0;\n        for (long i = 0; i &lt; n; i++) {\n            sum += LongStream.range(1, 9).boxed().limit(n).map(l -&gt; new BigDecimal(String.valueOf(l))).distinct().count();\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1239585,"reputation":816,"user_id":1202506,"display_name":"NicuMarasoiu"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":125,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1673526124,"creation_date":1673460405,"question_id":75087319,"body_markdown":"In the program below, i schedule a small number of threads, each thread executing a CPU-bound long-running single-threaded computation which does not use any locks and saturates a core of Apple M1. I use less threads than physical cores. \r\n\r\nThe program, when `CONCURRENCY=8` executes in 26 seconds for 8 threads and when `CONCURRENCY=1` in 4 seconds for 1 thread. I do not understand this huge gap. \r\n\r\nThere is nothing else running on the machine. Temperature is low, plugged in.\r\n\r\nI can confirm i see 8 cores in use, i see CPU at `790%` for this Java process.\r\n\r\nThe computation function here is just a dummy one, not the actual computation i use, but something that does reproduce the problem.\r\n\r\nI would expect that the program will take roughly the same amount of time, regardless of how many threads i use (as long as `CONCURRENCY &lt;= 8` for instance, and I have 10 cores on Apple M1).\r\n\r\nHowever, it takes much more time with more threads, and it is very close to the same performance (time) as if i executed the computation sequentially 8 times one after another on a single core.\r\n\r\nIn reality i have a different computation of course, this is only about the pattern used with this thread pool and what could be wrong.\r\n\r\nPinning computation to cores does not help significantly with this.\r\n\r\nThe same type of results on i7 and on Apple M1.\r\n\r\nI only tested on MBP laptops so far. On Apple M1 and since even between 1 thread and 2 threads there is a huge gap, i think that thermal throttling or power throttling cannot play a big factor.\r\n\r\n```\r\n\r\nclass ProblemWithParallelismTest {\r\n    private static final int CONCURRENCY = 8;\r\n\r\n    @SneakyThrows\r\n    @Test\r\n    void evaluate() {\r\n        var latch = new CountDownLatch(CONCURRENCY);\r\n        var executorService = newFixedThreadPool(CONCURRENCY);\r\n        for (int m = 0; m &lt; CONCURRENCY; m++) {\r\n            executorService.submit(() -&gt; {\r\n                computation();\r\n                latch.countDown();\r\n            });\r\n        }\r\n        latch.await();\r\n    }\r\n\r\n    private static void computation() {\r\n        long n = (long) Math.pow(10, 7);\r\n        var sum = 0;\r\n        for (long i = 0; i &lt; n; i++) {\r\n            sum += LongStream.range(1, 9).boxed().limit(n).map(l -&gt; new BigDecimal(String.valueOf(l))).distinct().count();\r\n        }\r\n    }\r\n}\r\n```\r\n","title":"Why does this multi threaded parallel program executes close to sequential time?","body":"<p>In the program below, i schedule a small number of threads, each thread executing a CPU-bound long-running single-threaded computation which does not use any locks and saturates a core of Apple M1. I use less threads than physical cores.</p>\n<p>The program, when <code>CONCURRENCY=8</code> executes in 26 seconds for 8 threads and when <code>CONCURRENCY=1</code> in 4 seconds for 1 thread. I do not understand this huge gap.</p>\n<p>There is nothing else running on the machine. Temperature is low, plugged in.</p>\n<p>I can confirm i see 8 cores in use, i see CPU at <code>790%</code> for this Java process.</p>\n<p>The computation function here is just a dummy one, not the actual computation i use, but something that does reproduce the problem.</p>\n<p>I would expect that the program will take roughly the same amount of time, regardless of how many threads i use (as long as <code>CONCURRENCY &lt;= 8</code> for instance, and I have 10 cores on Apple M1).</p>\n<p>However, it takes much more time with more threads, and it is very close to the same performance (time) as if i executed the computation sequentially 8 times one after another on a single core.</p>\n<p>In reality i have a different computation of course, this is only about the pattern used with this thread pool and what could be wrong.</p>\n<p>Pinning computation to cores does not help significantly with this.</p>\n<p>The same type of results on i7 and on Apple M1.</p>\n<p>I only tested on MBP laptops so far. On Apple M1 and since even between 1 thread and 2 threads there is a huge gap, i think that thermal throttling or power throttling cannot play a big factor.</p>\n<pre><code>\nclass ProblemWithParallelismTest {\n    private static final int CONCURRENCY = 8;\n\n    @SneakyThrows\n    @Test\n    void evaluate() {\n        var latch = new CountDownLatch(CONCURRENCY);\n        var executorService = newFixedThreadPool(CONCURRENCY);\n        for (int m = 0; m &lt; CONCURRENCY; m++) {\n            executorService.submit(() -&gt; {\n                computation();\n                latch.countDown();\n            });\n        }\n        latch.await();\n    }\n\n    private static void computation() {\n        long n = (long) Math.pow(10, 7);\n        var sum = 0;\n        for (long i = 0; i &lt; n; i++) {\n            sum += LongStream.range(1, 9).boxed().limit(n).map(l -&gt; new BigDecimal(String.valueOf(l))).distinct().count();\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","exception","spring-annotations","exceptionhandler"],"comments":[{"owner":{"account_id":19726215,"reputation":538,"user_id":14442758,"display_name":"Z-100"},"score":0,"creation_date":1673526460,"post_id":75096222,"comment_id":132521845,"body_markdown":"It seems as the method of the first code fragment has a `throws AuthServerException` extension. If you try calling that specific method, you somehow have to handle it; thus eliminating the need for an exception handler. If you still want to handle the exception via exceptionhandler: Convert your `AuthServerException` into an unchecked exception (e.g. RuntimeException).","body":"It seems as the method of the first code fragment has a <code>throws AuthServerException</code> extension. If you try calling that specific method, you somehow have to handle it; thus eliminating the need for an exception handler. If you still want to handle the exception via exceptionhandler: Convert your <code>AuthServerException</code> into an unchecked exception (e.g. RuntimeException)."},{"owner":{"account_id":1174921,"reputation":1613,"user_id":1151144,"accept_rate":79,"display_name":"Dale"},"score":0,"creation_date":1673526476,"post_id":75096222,"comment_id":132521851,"body_markdown":"So  you are using a more specific Exception called AuthServerException to catch NullPointerException.  Please note that the AuthServerException is more specific.  It doesn&#39;t encapsulate the NullPointerException.  You may want to try to catch the NullPointerException and then do what you intend.  In other words if I create a specific exception off of Exception called MyException.  Only MyException will be caught, not Exception.  Try to catch the exact exception you&#39;re looking to control.","body":"So  you are using a more specific Exception called AuthServerException to catch NullPointerException.  Please note that the AuthServerException is more specific.  It doesn&#39;t encapsulate the NullPointerException.  You may want to try to catch the NullPointerException and then do what you intend.  In other words if I create a specific exception off of Exception called MyException.  Only MyException will be caught, not Exception.  Try to catch the exact exception you&#39;re looking to control."},{"owner":{"account_id":19726215,"reputation":538,"user_id":14442758,"display_name":"Z-100"},"score":1,"creation_date":1673526562,"post_id":75096222,"comment_id":132521875,"body_markdown":"Additionally: Get rid of the `@ExceptionHandler(...)` annotation. IMO it&#39;s better to implement exception handling globally. [Here&#39;s a great tutorial for that](https://www.baeldung.com/exception-handling-for-rest-with-spring). I hope this somehow helped :)","body":"Additionally: Get rid of the <code>@ExceptionHandler(...)</code> annotation. IMO it&#39;s better to implement exception handling globally. <a href=\"https://www.baeldung.com/exception-handling-for-rest-with-spring\" rel=\"nofollow noreferrer\">Here&#39;s a great tutorial for that</a>. I hope this somehow helped :)"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1673528185,"post_id":75096222,"comment_id":132522428,"body_markdown":"He shouldn&#39;t get rid of the `@ExceptionHandler` but asuming you want to have this applied globally and not only the `LandingPageController` you want to put this in an `@ControllerAdvice` annotated class. Unless this is only relevant for the `LandingPageController` (but that appears a bit empty).","body":"He shouldn&#39;t get rid of the <code>@ExceptionHandler</code> but asuming you want to have this applied globally and not only the <code>LandingPageController</code> you want to put this in an <code>@ControllerAdvice</code> annotated class. Unless this is only relevant for the <code>LandingPageController</code> (but that appears a bit empty)."},{"owner":{"account_id":3069866,"reputation":479,"user_id":2600803,"accept_rate":78,"display_name":"Mario P. Waxenegger"},"score":0,"creation_date":1694743304,"post_id":75096222,"comment_id":135934637,"body_markdown":"I just run the code in debug mode and all of the @ExceptionHandler gets executed. When I changed the return type to a simple String I can call the end-point and get that error string displayed, so the exception handling works just fine. When I run the code with ModelAndView I get an 404 from the browser. I have no experience with ModenAndView but maybe some investigation there could help?","body":"I just run the code in debug mode and all of the @ExceptionHandler gets executed. When I changed the return type to a simple String I can call the end-point and get that error string displayed, so the exception handling works just fine. When I run the code with ModelAndView I get an 404 from the browser. I have no experience with ModenAndView but maybe some investigation there could help?"},{"owner":{"account_id":3069866,"reputation":479,"user_id":2600803,"accept_rate":78,"display_name":"Mario P. Waxenegger"},"score":0,"creation_date":1694745704,"post_id":75096222,"comment_id":135934800,"body_markdown":"Is the `AuthServerException` thrown in a Controller method? If not, it can&#39;t be handled by `@ExceptionHandler` annotation.","body":"Is the <code>AuthServerException</code> thrown in a Controller method? If not, it can&#39;t be handled by <code>@ExceptionHandler</code> annotation."}],"owner":{"account_id":27452089,"reputation":29,"user_id":20944153,"display_name":"Vansh"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":199,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1673525889,"creation_date":1673525889,"question_id":75096222,"body_markdown":"I&#39;m new to Spring Boot. I&#39;m trying to handle a exception when a value is null. Basically, its a value that I&#39;m suppose to get from another external service (using restTemplate.exchange() method) which is currently down, so a null value gets assigned to that variable. Here&#39;s the code for the same service:\r\n\r\n```\r\n        ResponseEntity&lt;AuthenticationResponse&gt; respNode = null;\r\n        try {\r\n\t        respNode = restTemplate.exchange(url, HttpMethod.POST, httpEntity, new ParameterizedTypeReference&lt;AuthenticationResponse&gt;() {});\r\n        } catch (Exception e) {\r\n        \tif (respNode == null) {\r\n        \t\tlog.info(&quot;Unable to reach: {} &quot;, url);\r\n        \t\tthrow new AuthServerException(&quot;Auth Server Not Found&quot;);\r\n        \t}\r\n        }\r\n```\r\n\r\nI created a custom Exception to handle the scenario if the value is null. The Exception is thrown and I&#39;m able to read it in the logs, but I&#39;m not able to handle it.\r\n\r\nAuthServerException.java\r\n```\r\npackage com.nokia.sp.module.myVerify.portalapp.exception;\r\n\r\npublic class AuthServerException extends NullPointerException {\r\n\tprivate static final long serialVersionUID = 1L;\r\n\r\n\tpublic AuthServerException(String message) {\r\n\t\tsuper(message);\r\n\t}\r\n}\r\n```\r\n\r\nController:\r\n```\r\n@Controller\r\n@RequiredArgsConstructor\r\npublic class LandingPageController {\r\n    @ExceptionHandler(AuthServerException.class)\r\n    public ModelAndView AuthServerExceptionHandler(AuthServerException e) {\r\n    \tlog.info(e.getMessage());\r\n    \tModelAndView mav = new ModelAndView();\r\n    \tmav.setViewName(&quot;auth-server-handler&quot;);\r\n    \treturn mav;\r\n    }\r\n}\r\n```\r\n\r\nAm I missing something or have I made any syntax Error? Please do help me with the same. Thank you!\r\n\r\n----------------------------------------------","title":"Unable to Handle Exception with @ErrorHandler Annotation","body":"<p>I'm new to Spring Boot. I'm trying to handle a exception when a value is null. Basically, its a value that I'm suppose to get from another external service (using restTemplate.exchange() method) which is currently down, so a null value gets assigned to that variable. Here's the code for the same service:</p>\n<pre><code>        ResponseEntity&lt;AuthenticationResponse&gt; respNode = null;\n        try {\n            respNode = restTemplate.exchange(url, HttpMethod.POST, httpEntity, new ParameterizedTypeReference&lt;AuthenticationResponse&gt;() {});\n        } catch (Exception e) {\n            if (respNode == null) {\n                log.info(&quot;Unable to reach: {} &quot;, url);\n                throw new AuthServerException(&quot;Auth Server Not Found&quot;);\n            }\n        }\n</code></pre>\n<p>I created a custom Exception to handle the scenario if the value is null. The Exception is thrown and I'm able to read it in the logs, but I'm not able to handle it.</p>\n<p>AuthServerException.java</p>\n<pre><code>package com.nokia.sp.module.myVerify.portalapp.exception;\n\npublic class AuthServerException extends NullPointerException {\n    private static final long serialVersionUID = 1L;\n\n    public AuthServerException(String message) {\n        super(message);\n    }\n}\n</code></pre>\n<p>Controller:</p>\n<pre><code>@Controller\n@RequiredArgsConstructor\npublic class LandingPageController {\n    @ExceptionHandler(AuthServerException.class)\n    public ModelAndView AuthServerExceptionHandler(AuthServerException e) {\n        log.info(e.getMessage());\n        ModelAndView mav = new ModelAndView();\n        mav.setViewName(&quot;auth-server-handler&quot;);\n        return mav;\n    }\n}\n</code></pre>\n<p>Am I missing something or have I made any syntax Error? Please do help me with the same. Thank you!</p>\n<hr />\n"},{"tags":["java","spring-boot","aws-lambda"],"comments":[{"owner":{"account_id":3509196,"reputation":16493,"user_id":2933977,"display_name":"stdunbar"},"score":0,"creation_date":1673540161,"post_id":75096144,"comment_id":132527093,"body_markdown":"You don&#39;t talk to a Lambda on a URL really unless you have API gateway in front of it.  How are you accessing the Lambda?","body":"You don&#39;t talk to a Lambda on a URL really unless you have API gateway in front of it.  How are you accessing the Lambda?"},{"owner":{"account_id":27508768,"reputation":11,"user_id":20991078,"display_name":"George Thomas"},"score":0,"creation_date":1673594295,"post_id":75096144,"comment_id":132538422,"body_markdown":"We&#39;re using an ALB to talk to the Lambda.","body":"We&#39;re using an ALB to talk to the Lambda."}],"owner":{"account_id":27508768,"reputation":11,"user_id":20991078,"display_name":"George Thomas"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":97,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1673525455,"creation_date":1673525455,"question_id":75096144,"body_markdown":"We have a Spring Boot application that we&#39;re trying to migrate to AWS Lambda using the aws-serverless-java-container-springboot2 library. However, on Lambda, we see that the server.servlet.context-path we configure in our application.yml needs to be omitted from the request URI, for the request to be directed to the correct controller endpoint. \r\n\r\nIs it possible to have Lambda recognize the context-path defined in application.yml and process the requests without having to omit the context-path when making requests? \r\n\r\nWe tried using dispatcherServlet to configure the endpoints, however it doesn&#39;t seem to be working. ","title":"Spring Boot Context Path omitted when deployed to AWS Lambda","body":"<p>We have a Spring Boot application that we're trying to migrate to AWS Lambda using the aws-serverless-java-container-springboot2 library. However, on Lambda, we see that the server.servlet.context-path we configure in our application.yml needs to be omitted from the request URI, for the request to be directed to the correct controller endpoint.</p>\n<p>Is it possible to have Lambda recognize the context-path defined in application.yml and process the requests without having to omit the context-path when making requests?</p>\n<p>We tried using dispatcherServlet to configure the endpoints, however it doesn't seem to be working.</p>\n"},{"tags":["java","spring","servlets"],"answers":[{"comments":[{"owner":{"account_id":239746,"reputation":6175,"user_id":509565,"accept_rate":69,"display_name":"lrkwz"},"score":0,"creation_date":1696364578,"post_id":75096110,"comment_id":136142941,"body_markdown":"This answer concerns &quot;testing&quot; while the question is about &quot;debugging&quot;","body":"This answer concerns &quot;testing&quot; while the question is about &quot;debugging&quot;"},{"owner":{"account_id":6715571,"reputation":4013,"user_id":5177506,"display_name":"hunter"},"score":0,"creation_date":1696839785,"post_id":75096110,"comment_id":136199413,"body_markdown":"@irkwz , this question precisely ask how do we debug RestController (in IDEA )without an active servlet request. this explain the best and probably only the way it can be done, write a MOCK mvc and then debug it.","body":"@irkwz , this question precisely ask how do we debug RestController (in IDEA )without an active servlet request. this explain the best and probably only the way it can be done, write a MOCK mvc and then debug it."}],"tags":[],"owner":{"account_id":6715571,"reputation":4013,"user_id":5177506,"display_name":"hunter"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673525253,"creation_date":1673525253,"answer_id":75096110,"question_id":75095942,"body_markdown":"Easiest way to write integration/unit tests using Mock MVC and then execute a selected test case in debug mode in IDEA. Mock MVC is easy to use , you can get some basic idea from this link  https://howtodoinjava.com/spring-boot2/testing/spring-boot-mockmvc-example/","title":"How to debug Spring web application without real web request in IntelliJ","body":"<p>Easiest way to write integration/unit tests using Mock MVC and then execute a selected test case in debug mode in IDEA. Mock MVC is easy to use , you can get some basic idea from this link  <a href=\"https://howtodoinjava.com/spring-boot2/testing/spring-boot-mockmvc-example/\" rel=\"nofollow noreferrer\">https://howtodoinjava.com/spring-boot2/testing/spring-boot-mockmvc-example/</a></p>\n"}],"owner":{"account_id":7509953,"reputation":22160,"user_id":5705247,"accept_rate":27,"display_name":"Tuomas Toivonen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":147,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1673525253,"creation_date":1673524394,"question_id":75095942,"body_markdown":"I want to debug a Spring controller class with IntelliJ. Normally I would start the service in debug mode and perform a real REST request to enter the breakpoint.\r\n\r\nBut is it possible to invoke spring bean without an active servlet request and execution thread? Ideally, I would like to attach java REPL to an existing process and call arbitrary spring beans without web request. ","title":"How to debug Spring web application without real web request in IntelliJ","body":"<p>I want to debug a Spring controller class with IntelliJ. Normally I would start the service in debug mode and perform a real REST request to enter the breakpoint.</p>\n<p>But is it possible to invoke spring bean without an active servlet request and execution thread? Ideally, I would like to attach java REPL to an existing process and call arbitrary spring beans without web request.</p>\n"},{"tags":["java","android","image","kotlin","mediastore"],"comments":[{"owner":{"account_id":6235155,"reputation":81,"user_id":4850702,"display_name":"Marin Maršić"},"score":1,"creation_date":1576686078,"post_id":56904485,"comment_id":104981568,"body_markdown":"I was also getting those random numbers in a file name until I added: `put(MediaStore.MediaColumns.DISPLAY_NAME, name + &quot;.mp3&quot;)`","body":"I was also getting those random numbers in a file name until I added: <code>put(MediaStore.MediaColumns.DISPLAY_NAME, name + &quot;.mp3&quot;)</code>"},{"owner":{"account_id":8005925,"reputation":1108,"user_id":6039240,"display_name":"Amr"},"score":0,"creation_date":1624515956,"post_id":56904485,"comment_id":120380718,"body_markdown":"check my answer here https://stackoverflow.com/a/68110559/6039240","body":"check my answer here <a href=\"https://stackoverflow.com/a/68110559/6039240\">stackoverflow.com/a/68110559/6039240</a>"}],"answers":[{"comments":[{"owner":{"account_id":8506238,"reputation":2330,"user_id":6377726,"accept_rate":100,"display_name":"Android Admirer"},"score":0,"creation_date":1563469095,"post_id":56990305,"comment_id":100720035,"body_markdown":"Thank you very much, that really helped, but there are 3 more points. Please check my edited question","body":"Thank you very much, that really helped, but there are 3 more points. Please check my edited question"},{"owner":{"account_id":452040,"reputation":16772,"user_id":848253,"accept_rate":62,"display_name":"PerracoLabs"},"score":1,"creation_date":1563643292,"post_id":56990305,"comment_id":100770747,"body_markdown":"Is this problem happening only in Android Q, or all Android versions? Take into account that the code in my answer is meant for Android Q. For older versions of Android you will need to create the path + file as usual.","body":"Is this problem happening only in Android Q, or all Android versions? Take into account that the code in my answer is meant for Android Q. For older versions of Android you will need to create the path + file as usual."},{"owner":{"account_id":8506238,"reputation":2330,"user_id":6377726,"accept_rate":100,"display_name":"Android Admirer"},"score":1,"creation_date":1563644178,"post_id":56990305,"comment_id":100770961,"body_markdown":"Oh, this was tested on Android Pie not Q. So what I should do instead is check for the android version, and if it is Q do the code above and if it is lower use the usual deprecated code?","body":"Oh, this was tested on Android Pie not Q. So what I should do instead is check for the android version, and if it is Q do the code above and if it is lower use the usual deprecated code?"},{"owner":{"account_id":452040,"reputation":16772,"user_id":848253,"accept_rate":62,"display_name":"PerracoLabs"},"score":1,"creation_date":1563654853,"post_id":56990305,"comment_id":100773155,"body_markdown":"Yes, for older than Q you need to use your original code. Your code is deprecated only Q, but valid in older versions.","body":"Yes, for older than Q you need to use your original code. Your code is deprecated only Q, but valid in older versions."},{"owner":{"account_id":1645929,"reputation":2507,"user_id":1517483,"accept_rate":77,"display_name":"devrocca"},"score":0,"creation_date":1568883518,"post_id":56990305,"comment_id":102419203,"body_markdown":"You have to use `File.separator`, not `pathSeparator`. I submitted an edit but the OP strangely didn&#39;t understand and rejected it. See https://stackoverflow.com/questions/5971964/file-separator-or-file-pathseparator","body":"You have to use <code>File.separator</code>, not <code>pathSeparator</code>. I submitted an edit but the OP strangely didn&#39;t understand and rejected it. See <a href=\"https://stackoverflow.com/questions/5971964/file-separator-or-file-pathseparator\" title=\"file separator or file pathseparator\">stackoverflow.com/questions/5971964/&hellip;</a>"},{"owner":{"account_id":11327207,"reputation":152,"user_id":8305714,"display_name":"Sagar gujarati"},"score":0,"creation_date":1582096793,"post_id":56990305,"comment_id":106654551,"body_markdown":"How can i get that image and display in imageview? bcz Environment.getExternalStorageDirectory()  is deprecated","body":"How can i get that image and display in imageview? bcz Environment.getExternalStorageDirectory()  is deprecated"},{"owner":{"account_id":5843095,"reputation":6649,"user_id":4603998,"accept_rate":7,"display_name":"jazzbpn"},"score":0,"creation_date":1598240489,"post_id":56990305,"comment_id":112382916,"body_markdown":"Can anyone help with https://stackoverflow.com/questions/63543414/rename-file-of-the-external-storage-which-is-created-by-app-in-android-10-worki","body":"Can anyone help with <a href=\"https://stackoverflow.com/questions/63543414/rename-file-of-the-external-storage-which-is-created-by-app-in-android-10-worki\" title=\"rename file of the external storage which is created by app in android 10 worki\">stackoverflow.com/questions/63543414/&hellip;</a>"},{"owner":{"account_id":5826102,"reputation":2248,"user_id":4592448,"accept_rate":100,"display_name":"Fortran"},"score":0,"creation_date":1608215638,"post_id":56990305,"comment_id":115519551,"body_markdown":"why resolver uri return null? i put png and change png mimetype only","body":"why resolver uri return null? i put png and change png mimetype only"},{"owner":{"account_id":8270888,"reputation":51,"user_id":6218583,"display_name":"Nitin Vats"},"score":0,"creation_date":1612278346,"post_id":56990305,"comment_id":116713202,"body_markdown":"@PerracoLabs Do we have to add like this while we download file via DownloadManager or does the download manager do this on its own?","body":"@PerracoLabs Do we have to add like this while we download file via DownloadManager or does the download manager do this on its own?"},{"owner":{"account_id":14240321,"reputation":162,"user_id":10286896,"display_name":"Will V"},"score":0,"creation_date":1619640980,"post_id":56990305,"comment_id":118969874,"body_markdown":"@PerracoLabs, Perfect master, thank you very much!","body":"@PerracoLabs, Perfect master, thank you very much!"},{"owner":{"account_id":6960046,"reputation":3195,"user_id":5339829,"accept_rate":27,"display_name":"Aman Verma"},"score":1,"creation_date":1622342132,"post_id":56990305,"comment_id":119764036,"body_markdown":"How to check if the file already exists? If it does then just show the bitmap.","body":"How to check if the file already exists? If it does then just show the bitmap."},{"owner":{"account_id":12453203,"reputation":372,"user_id":9067230,"display_name":"Milan Tejani"},"score":0,"creation_date":1622442885,"post_id":56990305,"comment_id":119784730,"body_markdown":"how to save image in DCIM folder of external SDCARD?","body":"how to save image in DCIM folder of external SDCARD?"},{"owner":{"account_id":12453203,"reputation":372,"user_id":9067230,"display_name":"Milan Tejani"},"score":0,"creation_date":1622518637,"post_id":56990305,"comment_id":119808279,"body_markdown":"@PerracoLabs my friend published a question see this link https://stackoverflow.com/questions/67773780/how-to-save-image-in-dcim-folder-of-external-sdcard-in-android-11","body":"@PerracoLabs my friend published a question see this link <a href=\"https://stackoverflow.com/questions/67773780/how-to-save-image-in-dcim-folder-of-external-sdcard-in-android-11\" title=\"how to save image in dcim folder of external sdcard in android 11\">stackoverflow.com/questions/67773780/&hellip;</a>"},{"owner":{"account_id":8441706,"reputation":872,"user_id":6333971,"display_name":"Bhavin Patel"},"score":0,"creation_date":1625469889,"post_id":56990305,"comment_id":120625955,"body_markdown":"how to check  file already exist or not It&#39;s saved filename.jpg then filename(1).jpg and go on so I  want to check  file exist or not.","body":"how to check  file already exist or not It&#39;s saved filename.jpg then filename(1).jpg and go on so I  want to check  file exist or not."},{"owner":{"account_id":18981447,"reputation":908,"user_id":13852758,"display_name":"Gulab Sagevadiya"},"score":0,"creation_date":1653465575,"post_id":56990305,"comment_id":127856346,"body_markdown":"How to save document like csv file in DCIM folder?","body":"How to save document like csv file in DCIM folder?"}],"tags":[],"owner":{"account_id":452040,"reputation":16772,"user_id":848253,"accept_rate":62,"display_name":"PerracoLabs"},"comment_count":15,"down_vote_count":0,"up_vote_count":82,"is_accepted":true,"score":82,"last_activity_date":1619611897,"creation_date":1562851512,"answer_id":56990305,"question_id":56904485,"body_markdown":"Try the next method. Android Q (and above) already takes care of creating the folders if they don’t exist. The example is hard-coded to output into the **DCIM** folder. If you need a sub-folder then append the sub-folder name as next:\r\n\r\n    final String relativeLocation = Environment.DIRECTORY_DCIM + File.separator + “YourSubforderName”;\r\n\r\nConsider that the compress format should be related to the mime-type parameter. For example, with a JPEG compress format the mime-type would be &quot;image/jpeg&quot;, and so on. Probably you may also want to pass the compress quality as a parameter, in this example is hardcoded to 95.\r\n\r\n**Java:**\r\n\r\n    \r\n    @NonNull\r\n    public Uri saveBitmap(@NonNull final Context context, @NonNull final Bitmap bitmap,\r\n                          @NonNull final Bitmap.CompressFormat format,\r\n                          @NonNull final String mimeType,\r\n                          @NonNull final String displayName) throws IOException {\r\n\r\n        final ContentValues values = new ContentValues();\r\n        values.put(MediaStore.MediaColumns.DISPLAY_NAME, displayName);\r\n        values.put(MediaStore.MediaColumns.MIME_TYPE, mimeType);\r\n        values.put(MediaStore.MediaColumns.RELATIVE_PATH, Environment.DIRECTORY_DCIM);\r\n\r\n        final ContentResolver resolver = context.getContentResolver();\r\n        Uri uri = null;\r\n\r\n        try {\r\n            final Uri contentUri = MediaStore.Images.Media.EXTERNAL_CONTENT_URI;\r\n            uri = resolver.insert(contentUri, values);\r\n\r\n            if (uri == null)\r\n                throw new IOException(&quot;Failed to create new MediaStore record.&quot;);\r\n\r\n            try (final OutputStream stream = resolver.openOutputStream(uri)) {\r\n                if (stream == null)\r\n                    throw new IOException(&quot;Failed to open output stream.&quot;);\r\n             \r\n                if (!bitmap.compress(format, 95, stream))\r\n                    throw new IOException(&quot;Failed to save bitmap.&quot;);\r\n            }\r\n\r\n            return uri;\r\n        }\r\n        catch (IOException e) {\r\n\r\n            if (uri != null) {\r\n                // Don&#39;t leave an orphan entry in the MediaStore\r\n                resolver.delete(uri, null, null);\r\n            }\r\n\r\n            throw e;\r\n        }\r\n    }\r\n\r\n**Kotlin:**\r\n\r\n\t@Throws(IOException::class)\r\n    fun saveBitmap(\r\n        context: Context, bitmap: Bitmap, format: Bitmap.CompressFormat,\r\n        mimeType: String, displayName: String\r\n    ): Uri {\r\n\r\n        val values = ContentValues().apply {\r\n            put(MediaStore.MediaColumns.DISPLAY_NAME, displayName)\r\n            put(MediaStore.MediaColumns.MIME_TYPE, mimeType)\r\n            put(MediaStore.MediaColumns.RELATIVE_PATH, Environment.DIRECTORY_DCIM)\r\n        }\r\n\r\n        val resolver = context.contentResolver\r\n        var uri: Uri? = null\r\n\r\n        try {\r\n            uri = resolver.insert(MediaStore.Images.Media.EXTERNAL_CONTENT_URI, values)\r\n                ?: throw IOException(&quot;Failed to create new MediaStore record.&quot;)\r\n\r\n            resolver.openOutputStream(uri)?.use {\r\n                if (!bitmap.compress(format, 95, it))\r\n                    throw IOException(&quot;Failed to save bitmap.&quot;)\r\n            } ?: throw IOException(&quot;Failed to open output stream.&quot;)\r\n\r\n            return uri\r\n\r\n        } catch (e: IOException) {\r\n\r\n            uri?.let { orphanUri -&gt;\r\n                // Don&#39;t leave an orphan entry in the MediaStore\r\n                resolver.delete(orphanUri, null, null)\r\n            }\r\n\r\n            throw e\r\n        }\r\n    }\r\n\r\n**Kotlin variant, with a more functional style:**\r\n\r\n    @Throws(IOException::class)\r\n    fun saveBitmap(\r\n        context: Context, bitmap: Bitmap, format: Bitmap.CompressFormat,\r\n        mimeType: String, displayName: String\r\n    ): Uri {\r\n\r\n        val values = ContentValues().apply {\r\n            put(MediaStore.MediaColumns.DISPLAY_NAME, displayName)\r\n            put(MediaStore.MediaColumns.MIME_TYPE, mimeType)\r\n            put(MediaStore.MediaColumns.RELATIVE_PATH, Environment.DIRECTORY_DCIM)\r\n        }\r\n\r\n        var uri: Uri? = null\r\n\r\n        return runCatching {\r\n            with(context.contentResolver) {\r\n                insert(MediaStore.Images.Media.EXTERNAL_CONTENT_URI, values)?.also {\r\n                    uri = it // Keep uri reference so it can be removed on failure\r\n\r\n                    openOutputStream(it)?.use { stream -&gt;\r\n                        if (!bitmap.compress(format, 95, stream))\r\n                            throw IOException(&quot;Failed to save bitmap.&quot;)\r\n                    } ?: throw IOException(&quot;Failed to open output stream.&quot;)\r\n\r\n                } ?: throw IOException(&quot;Failed to create new MediaStore record.&quot;)\r\n            }\r\n        }.getOrElse {\r\n            uri?.let { orphanUri -&gt;\r\n                // Don&#39;t leave an orphan entry in the MediaStore\r\n                context.contentResolver.delete(orphanUri, null, null)\r\n            }\r\n\r\n            throw it\r\n        }\r\n    }\r\n","title":"How to save an image in Android Q using MediaStore?","body":"<p>Try the next method. Android Q (and above) already takes care of creating the folders if they don’t exist. The example is hard-coded to output into the <strong>DCIM</strong> folder. If you need a sub-folder then append the sub-folder name as next:</p>\n<pre><code>final String relativeLocation = Environment.DIRECTORY_DCIM + File.separator + “YourSubforderName”;\n</code></pre>\n<p>Consider that the compress format should be related to the mime-type parameter. For example, with a JPEG compress format the mime-type would be &quot;image/jpeg&quot;, and so on. Probably you may also want to pass the compress quality as a parameter, in this example is hardcoded to 95.</p>\n<p><strong>Java:</strong></p>\n<pre><code>@NonNull\npublic Uri saveBitmap(@NonNull final Context context, @NonNull final Bitmap bitmap,\n                      @NonNull final Bitmap.CompressFormat format,\n                      @NonNull final String mimeType,\n                      @NonNull final String displayName) throws IOException {\n\n    final ContentValues values = new ContentValues();\n    values.put(MediaStore.MediaColumns.DISPLAY_NAME, displayName);\n    values.put(MediaStore.MediaColumns.MIME_TYPE, mimeType);\n    values.put(MediaStore.MediaColumns.RELATIVE_PATH, Environment.DIRECTORY_DCIM);\n\n    final ContentResolver resolver = context.getContentResolver();\n    Uri uri = null;\n\n    try {\n        final Uri contentUri = MediaStore.Images.Media.EXTERNAL_CONTENT_URI;\n        uri = resolver.insert(contentUri, values);\n\n        if (uri == null)\n            throw new IOException(&quot;Failed to create new MediaStore record.&quot;);\n\n        try (final OutputStream stream = resolver.openOutputStream(uri)) {\n            if (stream == null)\n                throw new IOException(&quot;Failed to open output stream.&quot;);\n         \n            if (!bitmap.compress(format, 95, stream))\n                throw new IOException(&quot;Failed to save bitmap.&quot;);\n        }\n\n        return uri;\n    }\n    catch (IOException e) {\n\n        if (uri != null) {\n            // Don't leave an orphan entry in the MediaStore\n            resolver.delete(uri, null, null);\n        }\n\n        throw e;\n    }\n}\n</code></pre>\n<p><strong>Kotlin:</strong></p>\n<pre><code>@Throws(IOException::class)\nfun saveBitmap(\n    context: Context, bitmap: Bitmap, format: Bitmap.CompressFormat,\n    mimeType: String, displayName: String\n): Uri {\n\n    val values = ContentValues().apply {\n        put(MediaStore.MediaColumns.DISPLAY_NAME, displayName)\n        put(MediaStore.MediaColumns.MIME_TYPE, mimeType)\n        put(MediaStore.MediaColumns.RELATIVE_PATH, Environment.DIRECTORY_DCIM)\n    }\n\n    val resolver = context.contentResolver\n    var uri: Uri? = null\n\n    try {\n        uri = resolver.insert(MediaStore.Images.Media.EXTERNAL_CONTENT_URI, values)\n            ?: throw IOException(&quot;Failed to create new MediaStore record.&quot;)\n\n        resolver.openOutputStream(uri)?.use {\n            if (!bitmap.compress(format, 95, it))\n                throw IOException(&quot;Failed to save bitmap.&quot;)\n        } ?: throw IOException(&quot;Failed to open output stream.&quot;)\n\n        return uri\n\n    } catch (e: IOException) {\n\n        uri?.let { orphanUri -&gt;\n            // Don't leave an orphan entry in the MediaStore\n            resolver.delete(orphanUri, null, null)\n        }\n\n        throw e\n    }\n}\n</code></pre>\n<p><strong>Kotlin variant, with a more functional style:</strong></p>\n<pre><code>@Throws(IOException::class)\nfun saveBitmap(\n    context: Context, bitmap: Bitmap, format: Bitmap.CompressFormat,\n    mimeType: String, displayName: String\n): Uri {\n\n    val values = ContentValues().apply {\n        put(MediaStore.MediaColumns.DISPLAY_NAME, displayName)\n        put(MediaStore.MediaColumns.MIME_TYPE, mimeType)\n        put(MediaStore.MediaColumns.RELATIVE_PATH, Environment.DIRECTORY_DCIM)\n    }\n\n    var uri: Uri? = null\n\n    return runCatching {\n        with(context.contentResolver) {\n            insert(MediaStore.Images.Media.EXTERNAL_CONTENT_URI, values)?.also {\n                uri = it // Keep uri reference so it can be removed on failure\n\n                openOutputStream(it)?.use { stream -&gt;\n                    if (!bitmap.compress(format, 95, stream))\n                        throw IOException(&quot;Failed to save bitmap.&quot;)\n                } ?: throw IOException(&quot;Failed to open output stream.&quot;)\n\n            } ?: throw IOException(&quot;Failed to create new MediaStore record.&quot;)\n        }\n    }.getOrElse {\n        uri?.let { orphanUri -&gt;\n            // Don't leave an orphan entry in the MediaStore\n            context.contentResolver.delete(orphanUri, null, null)\n        }\n\n        throw it\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":12292533,"reputation":600,"user_id":8969251,"accept_rate":75,"display_name":"Jayesh Rathod"},"score":1,"creation_date":1582701934,"post_id":59536115,"comment_id":106863664,"body_markdown":"But how to check image is already saved or not! Nobody talking about it!","body":"But how to check image is already saved or not! Nobody talking about it!"},{"owner":{"account_id":14178672,"reputation":705,"user_id":10243064,"display_name":"Rachit Vohera"},"score":2,"creation_date":1582909146,"post_id":59536115,"comment_id":106951199,"body_markdown":"You can check exist file using this code \n`if(isFilePresent()){\n// call save function here\n}else{\n// Toast file exist //\n}\n\nprivate boolean isFilePresent() {\n    File file = new File(Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_PICTURES), name + &quot;.jpg&quot;);return file.exists();\n    }`","body":"You can check exist file using this code  <code>if(isFilePresent()){ &#47;&#47; call save function here }else{ &#47;&#47; Toast file exist &#47;&#47; }  private boolean isFilePresent() {     File file = new File(Environment.getExternalStoragePublicDirectory(Environme&zwnj;&#8203;nt.DIRECTORY_PICTURE&zwnj;&#8203;S), name + &quot;.jpg&quot;);return file.exists();     }</code>"},{"owner":{"account_id":7280101,"reputation":4126,"user_id":5550161,"accept_rate":87,"display_name":"HB."},"score":7,"creation_date":1588915256,"post_id":59536115,"comment_id":109089099,"body_markdown":"@RachitVohera Your answer is correct, but your previous comment is not - `getExternalStoragePublicDirectory ` is deprecated in Android 10. That is why you used `if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.Q) {` in your answer.","body":"@RachitVohera Your answer is correct, but your previous comment is not - <code>getExternalStoragePublicDirectory </code> is deprecated in Android 10. That is why you used <code>if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.Q) {</code> in your answer."},{"owner":{"account_id":5139008,"reputation":150,"user_id":5080308,"display_name":"Faraz Ahmed"},"score":0,"creation_date":1589032798,"post_id":59536115,"comment_id":109133322,"body_markdown":"Hey and what about if I wanna open this image file with a gallery using an intent. I passed the content URI but still I got file not found","body":"Hey and what about if I wanna open this image file with a gallery using an intent. I passed the content URI but still I got file not found"},{"owner":{"account_id":14178672,"reputation":705,"user_id":10243064,"display_name":"Rachit Vohera"},"score":0,"creation_date":1593706804,"post_id":59536115,"comment_id":110880751,"body_markdown":"run media scan for add new media","body":"run media scan for add new media"},{"owner":{"account_id":8905303,"reputation":3494,"user_id":6925888,"accept_rate":33,"display_name":"iamkdblue"},"score":0,"creation_date":1595526544,"post_id":59536115,"comment_id":111513416,"body_markdown":"@RachitVohera can you provide for storing video , i tried but my app getting crashed.","body":"@RachitVohera can you provide for storing video , i tried but my app getting crashed."},{"owner":{"account_id":6960046,"reputation":3195,"user_id":5339829,"accept_rate":27,"display_name":"Aman Verma"},"score":0,"creation_date":1622342513,"post_id":59536115,"comment_id":119764068,"body_markdown":"@HB. Do you have any suggestions on &quot;How to check the image exists or not&quot;? Android Q","body":"@HB. Do you have any suggestions on &quot;How to check the image exists or not&quot;? Android Q"},{"owner":{"account_id":7280101,"reputation":4126,"user_id":5550161,"accept_rate":87,"display_name":"HB."},"score":0,"creation_date":1623038571,"post_id":59536115,"comment_id":119954586,"body_markdown":"@AmanVerma You can try and open a `InputStream`, if it throws a `FileNotFoundException`, then the image is not available.","body":"@AmanVerma You can try and open a <code>InputStream</code>, if it throws a <code>FileNotFoundException</code>, then the image is not available."},{"owner":{"account_id":14891443,"reputation":415,"user_id":10752962,"display_name":"Vivek Thummar"},"score":0,"creation_date":1624447028,"post_id":59536115,"comment_id":120360258,"body_markdown":"@RachitVohera i tried to use your suggestion(i wan&#39;t to specify file extension) `DISPLAY_NAME, name + &quot;.jpg&quot;`, but because we use `MIME_TYPE, &quot;image/jpg&quot;` it was saving file with name - `name.jpg.jpg`, because `MIME_TYPE, &quot;image/jpg&quot;` will automatically takes file extension according to specified `mime_type`..","body":"@RachitVohera i tried to use your suggestion(i wan&#39;t to specify file extension) <code>DISPLAY_NAME, name + &quot;.jpg&quot;</code>, but because we use <code>MIME_TYPE, &quot;image&#47;jpg&quot;</code> it was saving file with name - <code>name.jpg.jpg</code>, because <code>MIME_TYPE, &quot;image&#47;jpg&quot;</code> will automatically takes file extension according to specified <code>mime_type</code>.."},{"owner":{"account_id":14178672,"reputation":705,"user_id":10243064,"display_name":"Rachit Vohera"},"score":0,"creation_date":1624449695,"post_id":59536115,"comment_id":120361332,"body_markdown":"@VivekThummar what name ur passing as parameter?","body":"@VivekThummar what name ur passing as parameter?"},{"owner":{"account_id":14891443,"reputation":415,"user_id":10752962,"display_name":"Vivek Thummar"},"score":0,"creation_date":1624451230,"post_id":59536115,"comment_id":120362033,"body_markdown":"it can be anything like `img_timeStamp`..basically it was file `name/title`","body":"it can be anything like <code>img_timeStamp</code>..basically it was file <code>name&#47;title</code>"},{"owner":{"account_id":8441706,"reputation":872,"user_id":6333971,"display_name":"Bhavin Patel"},"score":0,"creation_date":1625469807,"post_id":59536115,"comment_id":120625917,"body_markdown":"@NikhilSolanki, @HB how to check in `if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.Q) {` condition file already exist or not It&#39;s saved filename.jpg then filename(1).jpg and go on so I  want to check  file exist or not.","body":"@NikhilSolanki, @HB how to check in <code>if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.Q) {</code> condition file already exist or not It&#39;s saved filename.jpg then filename(1).jpg and go on so I  want to check  file exist or not."},{"owner":{"account_id":6960046,"reputation":3195,"user_id":5339829,"accept_rate":27,"display_name":"Aman Verma"},"score":0,"creation_date":1639257795,"post_id":59536115,"comment_id":124304153,"body_markdown":"I have successfully saved a file using mediastore. Now I want to show user a button which will open it in gallery or photos app. But right now I have the path as Pictures/FolderName/filename.jpg But i want the full path like storage/emulated/0/Pictures/FolderName. How to get that or should i hardcode is like &quot;storage/emulated/0&quot; then the path to my file?","body":"I have successfully saved a file using mediastore. Now I want to show user a button which will open it in gallery or photos app. But right now I have the path as Pictures/FolderName/filename.jpg But i want the full path like storage/emulated/0/Pictures/FolderName. How to get that or should i hardcode is like &quot;storage/emulated/0&quot; then the path to my file?"},{"owner":{"account_id":18981447,"reputation":908,"user_id":13852758,"display_name":"Gulab Sagevadiya"},"score":0,"creation_date":1653465659,"post_id":59536115,"comment_id":127856375,"body_markdown":"How to save document file like csv file in DCIM Folder ? I have posted bountied question in my profile. https://stackoverflow.com/questions/72269368/how-to-save-document-file-in-external-storage-after-android-api-level28/72373236#72373236","body":"How to save document file like csv file in DCIM Folder ? I have posted bountied question in my profile. <a href=\"https://stackoverflow.com/questions/72269368/how-to-save-document-file-in-external-storage-after-android-api-level28/72373236#72373236\" title=\"how to save document file in external storage after android api level28\">stackoverflow.com/questions/72269368/&hellip;</a>"},{"owner":{"account_id":5762640,"reputation":2957,"user_id":4548520,"accept_rate":80,"display_name":"user25"},"score":0,"creation_date":1699644183,"post_id":59536115,"comment_id":136562298,"body_markdown":"`&quot;.jpg&quot;` this is the error in `DISPLAY_NAME` because it adds it automatically","body":"<code>&quot;.jpg&quot;</code> this is the error in <code>DISPLAY_NAME</code> because it adds it automatically"}],"tags":[],"owner":{"account_id":14178672,"reputation":705,"user_id":10243064,"display_name":"Rachit Vohera"},"comment_count":15,"down_vote_count":0,"up_vote_count":54,"is_accepted":false,"score":54,"last_activity_date":1586168676,"creation_date":1577735271,"answer_id":59536115,"question_id":56904485,"body_markdown":"    private void saveImage(Bitmap bitmap, @NonNull String name) throws IOException {\r\n        OutputStream fos;\r\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.Q) {\r\n            ContentResolver resolver = getContentResolver();\r\n            ContentValues contentValues = new ContentValues();\r\n            contentValues.put(MediaStore.MediaColumns.DISPLAY_NAME, name + &quot;.jpg&quot;);\r\n            contentValues.put(MediaStore.MediaColumns.MIME_TYPE, &quot;image/jpg&quot;);\r\n            contentValues.put(MediaStore.MediaColumns.RELATIVE_PATH, Environment.DIRECTORY_PICTURES);\r\n            Uri imageUri = resolver.insert(MediaStore.Images.Media.EXTERNAL_CONTENT_URI, contentValues);\r\n            fos = resolver.openOutputStream(Objects.requireNonNull(imageUri));\r\n        } else {\r\n            String imagesDir = Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_PICTURES).toString();\r\n            File image = new File(imagesDir, name + &quot;.jpg&quot;);\r\n            fos = new FileOutputStream(image);\r\n        }\r\n        bitmap.compress(Bitmap.CompressFormat.JPEG, 100, fos);\r\n        Objects.requireNonNull(fos).close();\r\n    }\r\n\r\n\r\nImage will store in Pictures Folder @ root level\r\n\r\nsee in live https://youtu.be/695HqaiwzQ0 i created tutorial","title":"How to save an image in Android Q using MediaStore?","body":"<pre><code>private void saveImage(Bitmap bitmap, @NonNull String name) throws IOException {\n    OutputStream fos;\n    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.Q) {\n        ContentResolver resolver = getContentResolver();\n        ContentValues contentValues = new ContentValues();\n        contentValues.put(MediaStore.MediaColumns.DISPLAY_NAME, name + \".jpg\");\n        contentValues.put(MediaStore.MediaColumns.MIME_TYPE, \"image/jpg\");\n        contentValues.put(MediaStore.MediaColumns.RELATIVE_PATH, Environment.DIRECTORY_PICTURES);\n        Uri imageUri = resolver.insert(MediaStore.Images.Media.EXTERNAL_CONTENT_URI, contentValues);\n        fos = resolver.openOutputStream(Objects.requireNonNull(imageUri));\n    } else {\n        String imagesDir = Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_PICTURES).toString();\n        File image = new File(imagesDir, name + \".jpg\");\n        fos = new FileOutputStream(image);\n    }\n    bitmap.compress(Bitmap.CompressFormat.JPEG, 100, fos);\n    Objects.requireNonNull(fos).close();\n}\n</code></pre>\n\n<p>Image will store in Pictures Folder @ root level</p>\n\n<p>see in live <a href=\"https://youtu.be/695HqaiwzQ0\" rel=\"noreferrer\">https://youtu.be/695HqaiwzQ0</a> i created tutorial</p>\n"},{"comments":[{"owner":{"account_id":264294,"reputation":23543,"user_id":550471,"accept_rate":84,"display_name":"Someone Somewhere"},"score":0,"creation_date":1608341136,"post_id":62363941,"comment_id":115562649,"body_markdown":"I tried to use this approach, however, I get `IllegalArgumentException: Failed to find configured root that contains /Pictures/2020-12-17_170659_photo.jpg` when I attempt `FileProvider.getUriForFile()` immediately after saving the file on Android Q. In the manifest, the FileProvider `provider` is correctly set up. When using the MediaStore is it not possible to get the Uri after saving it (insert into table) ?","body":"I tried to use this approach, however, I get <code>IllegalArgumentException: Failed to find configured root that contains &#47;Pictures&#47;2020-12-17_170659_photo.jpg</code> when I attempt <code>FileProvider.getUriForFile()</code> immediately after saving the file on Android Q. In the manifest, the FileProvider <code>provider</code> is correctly set up. When using the MediaStore is it not possible to get the Uri after saving it (insert into table) ?"},{"owner":{"account_id":264294,"reputation":23543,"user_id":550471,"accept_rate":84,"display_name":"Someone Somewhere"},"score":0,"creation_date":1608341588,"post_id":62363941,"comment_id":115562715,"body_markdown":"Maybe it is necessary to save my image with getExternalFilesDir() and then call `FileProvider.getUriForFile()`?","body":"Maybe it is necessary to save my image with getExternalFilesDir() and then call <code>FileProvider.getUriForFile()</code>?"},{"owner":{"account_id":8441706,"reputation":872,"user_id":6333971,"display_name":"Bhavin Patel"},"score":0,"creation_date":1625469831,"post_id":62363941,"comment_id":120625930,"body_markdown":"how to check in `if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.Q) {` condition file already exist or not It&#39;s saved filename.jpg then filename(1).jpg and go on so I  want to check  file exist or not.","body":"how to check in <code>if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.Q) {</code> condition file already exist or not It&#39;s saved filename.jpg then filename(1).jpg and go on so I  want to check  file exist or not."},{"owner":{"account_id":6837917,"reputation":97,"user_id":5259178,"display_name":"Fakeeraddi Bhavi"},"score":0,"creation_date":1625735132,"post_id":62363941,"comment_id":120707584,"body_markdown":"@SomeoneSomewhere Did u got any solution ? how to get absolute file path after saving the image ? (android 11)","body":"@SomeoneSomewhere Did u got any solution ? how to get absolute file path after saving the image ? (android 11)"}],"tags":[],"owner":{"account_id":15736708,"reputation":434,"user_id":11355432,"display_name":"Ismail Osunlana"},"comment_count":4,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1592072463,"creation_date":1592072463,"answer_id":62363941,"question_id":56904485,"body_markdown":"This is what i always use. You can try it.\r\n\r\n     private void saveImageToStorage() throws IOException {\r\n\r\n        OutputStream imageOutStream;\r\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.Q) {\r\n\r\n            ContentValues values = new ContentValues();\r\n            values.put(MediaStore.Images.Media.DISPLAY_NAME, &quot;image_screenshot.jpg&quot;);\r\n            values.put(MediaStore.Images.Media.MIME_TYPE, &quot;image/jpeg&quot;);\r\n            values.put(MediaStore.Images.Media.RELATIVE_PATH, Environment.DIRECTORY_PICTURES);\r\n            Uri uri = getContentResolver().insert(MediaStore.Images.Media.EXTERNAL_CONTENT_URI, values);\r\n\r\n            imageOutStream = getContentResolver().openOutputStream(uri);\r\n        } else {\r\n            String imagePath = Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_PICTURES).toString();\r\n            File image = new File(imagePath, &quot;image_screenshotjpg&quot;);\r\n            imageOutStream = new FileOutputStream(image);\r\n        }\r\n\r\n        try {\r\n            bitmapObject.compress(Bitmap.CompressFormat.JPEG, 100, imageOutStream);\r\n        } finally {\r\n            imageOutStream.close();\r\n        }\r\n\r\n    }","title":"How to save an image in Android Q using MediaStore?","body":"<p>This is what i always use. You can try it.</p>\n\n<pre><code> private void saveImageToStorage() throws IOException {\n\n    OutputStream imageOutStream;\n    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.Q) {\n\n        ContentValues values = new ContentValues();\n        values.put(MediaStore.Images.Media.DISPLAY_NAME, \"image_screenshot.jpg\");\n        values.put(MediaStore.Images.Media.MIME_TYPE, \"image/jpeg\");\n        values.put(MediaStore.Images.Media.RELATIVE_PATH, Environment.DIRECTORY_PICTURES);\n        Uri uri = getContentResolver().insert(MediaStore.Images.Media.EXTERNAL_CONTENT_URI, values);\n\n        imageOutStream = getContentResolver().openOutputStream(uri);\n    } else {\n        String imagePath = Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_PICTURES).toString();\n        File image = new File(imagePath, \"image_screenshotjpg\");\n        imageOutStream = new FileOutputStream(image);\n    }\n\n    try {\n        bitmapObject.compress(Bitmap.CompressFormat.JPEG, 100, imageOutStream);\n    } finally {\n        imageOutStream.close();\n    }\n\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":131171,"reputation":24228,"user_id":330987,"accept_rate":80,"display_name":"Panama Jack"},"score":0,"creation_date":1674646069,"post_id":63257521,"comment_id":132757541,"body_markdown":"This is excellent. Even today I still struggled to save to the correct location. Very good function in that lib.","body":"This is excellent. Even today I still struggled to save to the correct location. Very good function in that lib."}],"tags":[],"owner":{"account_id":1279253,"reputation":420,"user_id":1233767,"accept_rate":25,"display_name":"Yaron Budowski"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1596594124,"creation_date":1596594124,"answer_id":63257521,"question_id":56904485,"body_markdown":"If anyone is looking how to save a photo into the DCIM folder, in a way that will appear in Google Photos later:\r\n(based on: https://github.com/yasirkula/UnityNativeGallery/blob/670d9e2b8328f7796dd95d29dd80fadd8935b804/JAR%20Source/NativeGallery.java#L73-L96)\r\n\r\n```java\r\nContentValue values = new ContentValues();\r\nvalues.put(MediaStore.MediaColumns.RELATIVE_PATH, Environment.DIRECTORY_DCIM);\r\nvalues.put(MediaStore.MediaColumns.DATE_TAKEN, System.currentTimeMillis());\r\nvalues.put(MediaStore.MediaColumns.IS_PENDING, true);\r\n\r\nUri uri = context.getContentResolver().insert(externalContentUri, values);\r\n\r\nif (uri != null) {\r\n    try\t{\r\n\t    if (WriteFileToStream(originalFile, context.getContentResolver().openOutputStream(uri))) {\r\n\t\t    values.put(MediaStore.MediaColumns.IS_PENDING, false);\r\n\t\t\tcontext.getContentResolver().update(uri, values, null, null);\r\n\t\t}\r\n\t} catch (Exception e) {\r\n\t\tcontext.getContentResolver().delete( uri, null, null );\r\n\t}\r\n}\r\n```\r\n\r\nWhere `WriteFileToStream` is a standard method copying from file to stream.\r\n","title":"How to save an image in Android Q using MediaStore?","body":"<p>If anyone is looking how to save a photo into the DCIM folder, in a way that will appear in Google Photos later:\n(based on: <a href=\"https://github.com/yasirkula/UnityNativeGallery/blob/670d9e2b8328f7796dd95d29dd80fadd8935b804/JAR%20Source/NativeGallery.java#L73-L96\" rel=\"nofollow noreferrer\">https://github.com/yasirkula/UnityNativeGallery/blob/670d9e2b8328f7796dd95d29dd80fadd8935b804/JAR%20Source/NativeGallery.java#L73-L96</a>)</p>\n<pre class=\"lang-java prettyprint-override\"><code>ContentValue values = new ContentValues();\nvalues.put(MediaStore.MediaColumns.RELATIVE_PATH, Environment.DIRECTORY_DCIM);\nvalues.put(MediaStore.MediaColumns.DATE_TAKEN, System.currentTimeMillis());\nvalues.put(MediaStore.MediaColumns.IS_PENDING, true);\n\nUri uri = context.getContentResolver().insert(externalContentUri, values);\n\nif (uri != null) {\n    try {\n        if (WriteFileToStream(originalFile, context.getContentResolver().openOutputStream(uri))) {\n            values.put(MediaStore.MediaColumns.IS_PENDING, false);\n            context.getContentResolver().update(uri, values, null, null);\n        }\n    } catch (Exception e) {\n        context.getContentResolver().delete( uri, null, null );\n    }\n}\n</code></pre>\n<p>Where <code>WriteFileToStream</code> is a standard method copying from file to stream.</p>\n"},{"tags":[],"owner":{"account_id":14718183,"reputation":1354,"user_id":10629573,"display_name":"Liong"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667186034,"creation_date":1646833060,"answer_id":71410217,"question_id":56904485,"body_markdown":"Here is my version for 2022, this version was tested in Emulator SDK 27 and 30 also on Samsung S22 Phone.\r\n\r\n**TL:DR**\r\n\r\nFor SDK &lt; 29 you need following the code [here][1], and need little add code after successfully take picture. You can see at my `savePictureQ(...)` function below\r\n\r\nOtherwise, if you are SDK &gt;= 29 just pass the URI at `MediaStore.EXTRA_OUTPUT` extras from `contentResolver.insert(...)` function\r\n\r\n---\r\n\r\nSince `startActivityForResult(Intent)` already deprecated my version using `registerForActivityResult(...)`\r\n```kotlin\r\nprivate val cameraLauncher =\r\n\tregisterForActivityResult(ActivityResultContracts.StartActivityForResult()) {\r\n\t\tif (it.resultCode == Activity.RESULT_OK) {\r\n\t\t\tval name: String = viewModel.savePictureQ()\r\n\t\t\tif (name != &quot;&quot;) requireActivity().applicationContext.deleteFile(name)\r\n\t\t\tval cr = requireContext().contentResolver\r\n\t\t\tval uri = viewModel.getTargetUri()\r\n\t\t\tif (uri != null) {\r\n\t\t\t\tval bitmap = if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.Q) {\r\n\t\t\t\t\tval source = ImageDecoder.createSource(cr, uri)\r\n\t\t\t\t\tImageDecoder.decodeBitmap(source)\r\n\t\t\t\t} else MediaStore.Images.Media.getBitmap(cr, uri)\r\n\t\t\t\tval resized = Bitmap.createScaledBitmap(bitmap, 512, 512, true)\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n```\r\n\r\nI call the Intent in another file named Repository.kt, I also using fake viewModel to call Repository code.\r\nHere is how I call my viewModel code\r\n```kotlin\r\nprivate lateinit var viewModel: MenuViewModel\r\noverride fun onCreateView(\r\n\tinflater: LayoutInflater, container: ViewGroup?, savedInstanceState: Bundle?\r\n): View {\r\n\tviewModel = MenuViewModel(Injection.provideRepository(requireContext()))\r\n\t...\r\n}\r\n\r\nprivate fun permissionCheck() {\r\n\tval granted = PackageManager.PERMISSION_GRANTED\r\n\tval permissions = arrayOf(\r\n\t\tManifest.permission.WRITE_EXTERNAL_STORAGE,\r\n\t\tManifest.permission.READ_EXTERNAL_STORAGE,\r\n\t\tManifest.permission.CAMERA\r\n\t)\r\n\tif (Build.VERSION.SDK_INT &lt; Build.VERSION_CODES.Q) {\r\n\t\tif (ActivityCompat.checkSelfPermission(\r\n\t\t\t\trequireContext(),\r\n\t\t\t\tpermissions[0]\r\n\t\t\t) != granted &amp;&amp; ActivityCompat.checkSelfPermission(\r\n\t\t\t\trequireContext(),\r\n\t\t\t\tpermissions[1]\r\n\t\t\t) != granted &amp;&amp; ActivityCompat.checkSelfPermission(\r\n\t\t\t\trequireContext(),\r\n\t\t\t\tpermissions[2]\r\n\t\t\t) != granted\r\n\t\t) ActivityCompat.requestPermissions(\r\n\t\t\trequireActivity(), permissions, MainActivity.REQUEST_CODE_PERMISSION\r\n\t\t) else MainActivity.accepted = true\r\n\r\n\t} else if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.Q) {\r\n\t\tif (ActivityCompat.checkSelfPermission(\r\n\t\t\t\trequireContext(),\r\n\t\t\t\tpermissions[2]\r\n\t\t\t) != granted &amp;&amp; ActivityCompat.checkSelfPermission(\r\n\t\t\t\trequireContext(),\r\n\t\t\t\tManifest.permission.ACCESS_MEDIA_LOCATION\r\n\t\t\t) != granted\r\n\t\t) ActivityCompat.requestPermissions(\r\n\t\t\trequireActivity(),\r\n\t\t\tarrayOf(permissions[2], Manifest.permission.ACCESS_MEDIA_LOCATION),\r\n\t\t\tMainActivity.REQUEST_CODE_PERMISSION\r\n\t\t) else MainActivity.accepted = true\r\n\t}\r\n}\r\n\r\noverride fun onViewCreated(view: View, savedInstanceState: Bundle?) {\r\n\t...\r\n\tbind.fromCamera.setOnClickListener {\r\n\t\tpermissionCheck()\r\n\t\tif (`permission granted check`) {\r\n\t\t\tviewModel.getCameraIntent(cameraLauncher)\r\n\t\t}\r\n\t}\r\n\t...\r\n}\r\n```\r\n\r\nin my fake viewModel:\r\n```kotlin\r\nclass MenuViewModel(private val repository: IRepository) {\r\n    fun getTargetUri() = repository.getTargetUri()\r\n    fun getCameraIntent(launcher: ActivityResultLauncher&lt;Intent&gt;) =\r\n        repository.createTakePictureIntent(launcher)\r\n    fun savePictureQ(): String = repository.savePictureQ()\r\n}\r\n```\r\n\r\nin my repository code:\r\n```kotlin\r\nclass Repository private constructor(private val context: Context) : IRepository {\r\n\r\n    companion object {\r\n        @Volatile\r\n        private var INSTANCE: IRepository? = null\r\n\r\n        fun getInstance(context: Context) = INSTANCE ?: synchronized(this) {\r\n            INSTANCE ?: Repository(context).apply { INSTANCE = this }\r\n        }\r\n    }\r\n\r\n    private var currentPath = &quot;&quot;\r\n    private var targetUri: Uri? = null\r\n\r\n    private fun createImageFile(): File {  // create temporary file for SDK &lt; 29\r\n        val timestamp = SimpleDateFormat(&quot;yyyyMMdd_HHmmss&quot;, Locale.getDefault()).format(Date())\r\n        val storageDir = context.getExternalFilesDir(Environment.DIRECTORY_PICTURES)\r\n        return File.createTempFile(timestamp, &quot;.jpg&quot;, storageDir)\r\n            .apply { currentPath = absolutePath }\r\n    }\r\n\r\n    override fun savePictureQ() : String {  // Saving picture and added to Gallery for SDK &lt; 29\r\n        if (Build.VERSION.SDK_INT &lt; Build.VERSION_CODES.Q) {\r\n            val f = File(currentPath)\r\n            val cr = context.contentResolver\r\n            val bitmap = BitmapFactory.decodeFile(currentPath)\r\n            val path = &quot;${Environment.DIRECTORY_PICTURES}${File.separator}PoCkDetection&quot;\r\n            val values = createContentValues(f.name, path)\r\n            var uri: Uri? = null\r\n            try {\r\n                uri = cr.insert(MediaStore.Images.Media.EXTERNAL_CONTENT_URI, values)!!\r\n                val os = cr.openOutputStream(uri)\r\n                try {\r\n                    val result = bitmap.compress(Bitmap.CompressFormat.JPEG, 100, os)\r\n                    if (!result) throw Exception()\r\n                } catch (e: Exception) {\r\n                    e.printStackTrace()\r\n                    throw e\r\n                } finally {\r\n                    os?.close()\r\n                    targetUri = uri\r\n                }\r\n                f.delete()\r\n                if (f.exists()) {\r\n                    f.canonicalFile.delete()\r\n                    if (f.exists()) return f.name\r\n                }\r\n            } catch (e: Exception) {\r\n                e.printStackTrace()\r\n                uri?.let {\r\n                    cr.delete(it, null, null)\r\n                }\r\n            }\r\n        }\r\n        return &quot;&quot;\r\n    }\r\n\r\n    override fun getTargetUri(): Uri? = targetUri\r\n\r\n    private fun createContentValues(title: String, path: String): ContentValues =\r\n        ContentValues().apply {\r\n            if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.Q) {\r\n                put(MediaStore.MediaColumns.TITLE, &quot;$title.jpg&quot;)\r\n                put(MediaStore.MediaColumns.DISPLAY_NAME, &quot;$title.jpg&quot;)\r\n                put(MediaStore.MediaColumns.MIME_TYPE, &quot;image/jpg&quot;)\r\n                put(MediaStore.MediaColumns.DATE_ADDED, System.currentTimeMillis())\r\n                put(MediaStore.MediaColumns.DATE_TAKEN, System.currentTimeMillis())\r\n                put(MediaStore.MediaColumns.RELATIVE_PATH, path)\r\n            } else {\r\n                put(MediaStore.Images.Media.TITLE, &quot;$title.jpg&quot;)\r\n                put(MediaStore.Images.Media.DISPLAY_NAME, &quot;$title.jpg&quot;)\r\n                put(MediaStore.Images.Media.MIME_TYPE, &quot;image/jpg&quot;)\r\n                put(MediaStore.Images.Media.DATE_ADDED, System.currentTimeMillis())\r\n                put(MediaStore.Images.Media.DATE_TAKEN, System.currentTimeMillis())\r\n            }\r\n        }\r\n\r\n    override fun createTakePictureIntent(launcher: ActivityResultLauncher&lt;Intent&gt;) {\r\n        Intent(MediaStore.ACTION_IMAGE_CAPTURE).also { takePictureIntent -&gt;\r\n            takePictureIntent.resolveActivity(context.packageManager).also {\r\n                if (Build.VERSION.SDK_INT &lt; Build.VERSION_CODES.Q) {\r\n                    val photoFile: File? = try {\r\n                        createImageFile()\r\n                    } catch (e: IOException) {\r\n                        e.printStackTrace()\r\n                        null\r\n                    }\r\n                    photoFile?.also {\r\n                        val photoURI =\r\n                            FileProvider.getUriForFile(context, &quot;com.your.package.name&quot;, it)\r\n                        takePictureIntent.putExtra(MediaStore.EXTRA_OUTPUT, photoURI)\r\n                        launcher.launch(takePictureIntent)\r\n                    }\r\n                } else {\r\n                    val timestamp =\r\n                        SimpleDateFormat(&quot;yyyyMMdd_HHmmss&quot;, Locale.getDefault()).format(Date())\r\n                    val path = &quot;${Environment.DIRECTORY_PICTURES}${File.separator}PoCkDetection&quot;\r\n                    val values = createContentValues(timestamp, path)\r\n                    val photoURI = context.contentResolver.insert(\r\n                        MediaStore.Images.Media.EXTERNAL_CONTENT_URI, values\r\n                    )\r\n                    targetUri = photoURI\r\n                    takePictureIntent.putExtra(MediaStore.EXTRA_OUTPUT, photoURI)\r\n                    launcher.launch(takePictureIntent)\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nFor SDK &lt; 29 I follow this code from [Google Developer][1]\r\n\r\nthis is how my manifest look after following the code:\r\n```\r\n&lt;application ...&gt;\r\n\t&lt;provider\r\n\t\tandroid:name=&quot;androidx.core.content.FileProvider&quot;\r\n\t\tandroid:authorities=&quot;com.your.package.name&quot;\r\n\t\tandroid:exported=&quot;false&quot;\r\n\t\tandroid:grantUriPermissions=&quot;true&quot;&gt;\r\n\t\t&lt;meta-data\r\n\t\t\tandroid:name=&quot;android.support.FILE_PROVIDER_PATHS&quot;\r\n\t\t\tandroid:resource=&quot;@xml/camera_paths&quot; /&gt;\r\n\t&lt;/provider&gt;\r\n&lt;/application&gt;\r\n```\r\nmake new res folder called xml, then make new xml file make sure the name same like you place on `&lt;meta-data&gt;` in `&lt;provider&gt;` and inside that file:\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;paths&gt;\r\n    &lt;external-files-path\r\n        name=&quot;camera_take&quot;\r\n        path=&quot;Pictures&quot; /&gt;\r\n&lt;/paths&gt;\r\n```\r\n\r\n  [1]: https://developer.android.com/training/camera-deprecated/photobasics#TaskPath","title":"How to save an image in Android Q using MediaStore?","body":"<p>Here is my version for 2022, this version was tested in Emulator SDK 27 and 30 also on Samsung S22 Phone.</p>\n<p><strong>TL:DR</strong></p>\n<p>For SDK &lt; 29 you need following the code <a href=\"https://developer.android.com/training/camera-deprecated/photobasics#TaskPath\" rel=\"nofollow noreferrer\">here</a>, and need little add code after successfully take picture. You can see at my <code>savePictureQ(...)</code> function below</p>\n<p>Otherwise, if you are SDK &gt;= 29 just pass the URI at <code>MediaStore.EXTRA_OUTPUT</code> extras from <code>contentResolver.insert(...)</code> function</p>\n<hr />\n<p>Since <code>startActivityForResult(Intent)</code> already deprecated my version using <code>registerForActivityResult(...)</code></p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>private val cameraLauncher =\n    registerForActivityResult(ActivityResultContracts.StartActivityForResult()) {\n        if (it.resultCode == Activity.RESULT_OK) {\n            val name: String = viewModel.savePictureQ()\n            if (name != &quot;&quot;) requireActivity().applicationContext.deleteFile(name)\n            val cr = requireContext().contentResolver\n            val uri = viewModel.getTargetUri()\n            if (uri != null) {\n                val bitmap = if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.Q) {\n                    val source = ImageDecoder.createSource(cr, uri)\n                    ImageDecoder.decodeBitmap(source)\n                } else MediaStore.Images.Media.getBitmap(cr, uri)\n                val resized = Bitmap.createScaledBitmap(bitmap, 512, 512, true)\n            }\n        }\n    }\n</code></pre>\n<p>I call the Intent in another file named Repository.kt, I also using fake viewModel to call Repository code.\nHere is how I call my viewModel code</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>private lateinit var viewModel: MenuViewModel\noverride fun onCreateView(\n    inflater: LayoutInflater, container: ViewGroup?, savedInstanceState: Bundle?\n): View {\n    viewModel = MenuViewModel(Injection.provideRepository(requireContext()))\n    ...\n}\n\nprivate fun permissionCheck() {\n    val granted = PackageManager.PERMISSION_GRANTED\n    val permissions = arrayOf(\n        Manifest.permission.WRITE_EXTERNAL_STORAGE,\n        Manifest.permission.READ_EXTERNAL_STORAGE,\n        Manifest.permission.CAMERA\n    )\n    if (Build.VERSION.SDK_INT &lt; Build.VERSION_CODES.Q) {\n        if (ActivityCompat.checkSelfPermission(\n                requireContext(),\n                permissions[0]\n            ) != granted &amp;&amp; ActivityCompat.checkSelfPermission(\n                requireContext(),\n                permissions[1]\n            ) != granted &amp;&amp; ActivityCompat.checkSelfPermission(\n                requireContext(),\n                permissions[2]\n            ) != granted\n        ) ActivityCompat.requestPermissions(\n            requireActivity(), permissions, MainActivity.REQUEST_CODE_PERMISSION\n        ) else MainActivity.accepted = true\n\n    } else if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.Q) {\n        if (ActivityCompat.checkSelfPermission(\n                requireContext(),\n                permissions[2]\n            ) != granted &amp;&amp; ActivityCompat.checkSelfPermission(\n                requireContext(),\n                Manifest.permission.ACCESS_MEDIA_LOCATION\n            ) != granted\n        ) ActivityCompat.requestPermissions(\n            requireActivity(),\n            arrayOf(permissions[2], Manifest.permission.ACCESS_MEDIA_LOCATION),\n            MainActivity.REQUEST_CODE_PERMISSION\n        ) else MainActivity.accepted = true\n    }\n}\n\noverride fun onViewCreated(view: View, savedInstanceState: Bundle?) {\n    ...\n    bind.fromCamera.setOnClickListener {\n        permissionCheck()\n        if (`permission granted check`) {\n            viewModel.getCameraIntent(cameraLauncher)\n        }\n    }\n    ...\n}\n</code></pre>\n<p>in my fake viewModel:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>class MenuViewModel(private val repository: IRepository) {\n    fun getTargetUri() = repository.getTargetUri()\n    fun getCameraIntent(launcher: ActivityResultLauncher&lt;Intent&gt;) =\n        repository.createTakePictureIntent(launcher)\n    fun savePictureQ(): String = repository.savePictureQ()\n}\n</code></pre>\n<p>in my repository code:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>class Repository private constructor(private val context: Context) : IRepository {\n\n    companion object {\n        @Volatile\n        private var INSTANCE: IRepository? = null\n\n        fun getInstance(context: Context) = INSTANCE ?: synchronized(this) {\n            INSTANCE ?: Repository(context).apply { INSTANCE = this }\n        }\n    }\n\n    private var currentPath = &quot;&quot;\n    private var targetUri: Uri? = null\n\n    private fun createImageFile(): File {  // create temporary file for SDK &lt; 29\n        val timestamp = SimpleDateFormat(&quot;yyyyMMdd_HHmmss&quot;, Locale.getDefault()).format(Date())\n        val storageDir = context.getExternalFilesDir(Environment.DIRECTORY_PICTURES)\n        return File.createTempFile(timestamp, &quot;.jpg&quot;, storageDir)\n            .apply { currentPath = absolutePath }\n    }\n\n    override fun savePictureQ() : String {  // Saving picture and added to Gallery for SDK &lt; 29\n        if (Build.VERSION.SDK_INT &lt; Build.VERSION_CODES.Q) {\n            val f = File(currentPath)\n            val cr = context.contentResolver\n            val bitmap = BitmapFactory.decodeFile(currentPath)\n            val path = &quot;${Environment.DIRECTORY_PICTURES}${File.separator}PoCkDetection&quot;\n            val values = createContentValues(f.name, path)\n            var uri: Uri? = null\n            try {\n                uri = cr.insert(MediaStore.Images.Media.EXTERNAL_CONTENT_URI, values)!!\n                val os = cr.openOutputStream(uri)\n                try {\n                    val result = bitmap.compress(Bitmap.CompressFormat.JPEG, 100, os)\n                    if (!result) throw Exception()\n                } catch (e: Exception) {\n                    e.printStackTrace()\n                    throw e\n                } finally {\n                    os?.close()\n                    targetUri = uri\n                }\n                f.delete()\n                if (f.exists()) {\n                    f.canonicalFile.delete()\n                    if (f.exists()) return f.name\n                }\n            } catch (e: Exception) {\n                e.printStackTrace()\n                uri?.let {\n                    cr.delete(it, null, null)\n                }\n            }\n        }\n        return &quot;&quot;\n    }\n\n    override fun getTargetUri(): Uri? = targetUri\n\n    private fun createContentValues(title: String, path: String): ContentValues =\n        ContentValues().apply {\n            if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.Q) {\n                put(MediaStore.MediaColumns.TITLE, &quot;$title.jpg&quot;)\n                put(MediaStore.MediaColumns.DISPLAY_NAME, &quot;$title.jpg&quot;)\n                put(MediaStore.MediaColumns.MIME_TYPE, &quot;image/jpg&quot;)\n                put(MediaStore.MediaColumns.DATE_ADDED, System.currentTimeMillis())\n                put(MediaStore.MediaColumns.DATE_TAKEN, System.currentTimeMillis())\n                put(MediaStore.MediaColumns.RELATIVE_PATH, path)\n            } else {\n                put(MediaStore.Images.Media.TITLE, &quot;$title.jpg&quot;)\n                put(MediaStore.Images.Media.DISPLAY_NAME, &quot;$title.jpg&quot;)\n                put(MediaStore.Images.Media.MIME_TYPE, &quot;image/jpg&quot;)\n                put(MediaStore.Images.Media.DATE_ADDED, System.currentTimeMillis())\n                put(MediaStore.Images.Media.DATE_TAKEN, System.currentTimeMillis())\n            }\n        }\n\n    override fun createTakePictureIntent(launcher: ActivityResultLauncher&lt;Intent&gt;) {\n        Intent(MediaStore.ACTION_IMAGE_CAPTURE).also { takePictureIntent -&gt;\n            takePictureIntent.resolveActivity(context.packageManager).also {\n                if (Build.VERSION.SDK_INT &lt; Build.VERSION_CODES.Q) {\n                    val photoFile: File? = try {\n                        createImageFile()\n                    } catch (e: IOException) {\n                        e.printStackTrace()\n                        null\n                    }\n                    photoFile?.also {\n                        val photoURI =\n                            FileProvider.getUriForFile(context, &quot;com.your.package.name&quot;, it)\n                        takePictureIntent.putExtra(MediaStore.EXTRA_OUTPUT, photoURI)\n                        launcher.launch(takePictureIntent)\n                    }\n                } else {\n                    val timestamp =\n                        SimpleDateFormat(&quot;yyyyMMdd_HHmmss&quot;, Locale.getDefault()).format(Date())\n                    val path = &quot;${Environment.DIRECTORY_PICTURES}${File.separator}PoCkDetection&quot;\n                    val values = createContentValues(timestamp, path)\n                    val photoURI = context.contentResolver.insert(\n                        MediaStore.Images.Media.EXTERNAL_CONTENT_URI, values\n                    )\n                    targetUri = photoURI\n                    takePictureIntent.putExtra(MediaStore.EXTRA_OUTPUT, photoURI)\n                    launcher.launch(takePictureIntent)\n                }\n            }\n        }\n    }\n}\n</code></pre>\n<p>For SDK &lt; 29 I follow this code from <a href=\"https://developer.android.com/training/camera-deprecated/photobasics#TaskPath\" rel=\"nofollow noreferrer\">Google Developer</a></p>\n<p>this is how my manifest look after following the code:</p>\n<pre><code>&lt;application ...&gt;\n    &lt;provider\n        android:name=&quot;androidx.core.content.FileProvider&quot;\n        android:authorities=&quot;com.your.package.name&quot;\n        android:exported=&quot;false&quot;\n        android:grantUriPermissions=&quot;true&quot;&gt;\n        &lt;meta-data\n            android:name=&quot;android.support.FILE_PROVIDER_PATHS&quot;\n            android:resource=&quot;@xml/camera_paths&quot; /&gt;\n    &lt;/provider&gt;\n&lt;/application&gt;\n</code></pre>\n<p>make new res folder called xml, then make new xml file make sure the name same like you place on <code>&lt;meta-data&gt;</code> in <code>&lt;provider&gt;</code> and inside that file:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;paths&gt;\n    &lt;external-files-path\n        name=&quot;camera_take&quot;\n        path=&quot;Pictures&quot; /&gt;\n&lt;/paths&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17180029,"reputation":268,"user_id":12435588,"display_name":"Asghar Hosseini"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667714452,"creation_date":1667714452,"answer_id":74333606,"question_id":56904485,"body_markdown":"       **You can use this too**\r\n\r\n      private fun saveFileInternal(\r\n            sourceFile: File,\r\n            fileName: String?,\r\n            fileType: FolderType,\r\n            contentResolver: ContentResolver\r\n        ): Boolean {\r\n            var filename: String? = fileName\r\n            return try {\r\n                var selectedType = fileType\r\n                val contentValues = ContentValues()\r\n                val extension: String? = getFileExtension(sourceFile)\r\n                var mimeType: String? = null\r\n                if (extension != null) {\r\n                    mimeType = MimeTypeMap.getSingleton().getMimeTypeFromExtension(extension)\r\n                }\r\n                var uriToInsert: Uri? = null\r\n                if ((fileType == FolderType.IMAGE || fileType == FolderType.VIDEO) &amp;&amp; mimeType != null) {\r\n                    if (mimeType.startsWith(&quot;image&quot;)) {\r\n                        selectedType = FolderType.IMAGE\r\n                    }\r\n                    if (mimeType.startsWith(&quot;video&quot;)) {\r\n                        selectedType = FolderType.VIDEO\r\n                    }\r\n                }\r\n                when (selectedType) {\r\n                    FolderType.IMAGE -&gt; {\r\n                        if (filename == null) {\r\n                            filename = generateFileName(0, extension)\r\n                        }\r\n                        uriToInsert =\r\n                            MediaStore.Images.Media.getContentUri(MediaStore.VOLUME_EXTERNAL_PRIMARY)\r\n                        val dirDest = File(Environment.DIRECTORY_PICTURES, &quot;folder&quot;)\r\n                        contentValues.put(MediaStore.MediaColumns.RELATIVE_PATH, &quot;$dirDest${separator}&quot;)\r\n                        contentValues.put(MediaStore.Images.Media.DISPLAY_NAME, filename)\r\n                        contentValues.put(MediaStore.Images.Media.MIME_TYPE, mimeType)\r\n                    }\r\n                    FolderType.VIDEO -&gt; {\r\n                        if (filename == null) {\r\n                            filename = generateFileName(1, extension)\r\n                        }\r\n                        val dirDest = File(Environment.DIRECTORY_MOVIES, &quot;folder&quot;)\r\n                        contentValues.put(MediaStore.MediaColumns.RELATIVE_PATH, &quot;$dirDest${separator}&quot;)\r\n                        uriToInsert =\r\n                            MediaStore.Video.Media.getContentUri(MediaStore.VOLUME_EXTERNAL)\r\n                        contentValues.put(MediaStore.Video.Media.DISPLAY_NAME, filename)\r\n        \r\n                    }\r\n                    FolderType.DOWNLOAD -&gt; {\r\n                        if (filename == null) {\r\n                            filename = sourceFile.name\r\n                        }\r\n                        val dirDest = File(Environment.DIRECTORY_DOWNLOADS, &quot;folder&quot;)\r\n                        contentValues.put(MediaStore.MediaColumns.RELATIVE_PATH, &quot;$dirDest${separator}&quot;)\r\n                        uriToInsert =\r\n                            MediaStore.Downloads.getContentUri(MediaStore.VOLUME_EXTERNAL_PRIMARY)\r\n                        contentValues.put(MediaStore.Downloads.DISPLAY_NAME, filename)\r\n                    }\r\n                    else -&gt; {\r\n                        if (filename == null) {\r\n                            filename = sourceFile.name\r\n                        }\r\n                        val dirDest = File(Environment.DIRECTORY_MUSIC, &quot;folder&quot;)\r\n                        contentValues.put(MediaStore.MediaColumns.RELATIVE_PATH, &quot;$dirDest${separator}&quot;)\r\n                        uriToInsert =\r\n                            MediaStore.Audio.Media.getContentUri(MediaStore.VOLUME_EXTERNAL_PRIMARY)\r\n                        contentValues.put(MediaStore.Audio.Media.DISPLAY_NAME, filename)\r\n                    }\r\n                }\r\n                contentValues.put(MediaStore.MediaColumns.MIME_TYPE, mimeType)\r\n                val dstUri: Uri = contentResolver.insert(uriToInsert!!, contentValues)!!\r\n                val fileInputStream = FileInputStream(sourceFile)\r\n                val outputStream: OutputStream = contentResolver.openOutputStream(dstUri)!!\r\n        \r\n                copyFile(fileInputStream, outputStream)\r\n                fileInputStream.close()\r\n                true\r\n            } catch (e: java.lang.Exception) {\r\n                Log.e(&quot;fileManager&quot;, e.message.toString())\r\n                false\r\n            }\r\n        }\r\n\r\n","title":"How to save an image in Android Q using MediaStore?","body":"<pre><code>   **You can use this too**\n\n  private fun saveFileInternal(\n        sourceFile: File,\n        fileName: String?,\n        fileType: FolderType,\n        contentResolver: ContentResolver\n    ): Boolean {\n        var filename: String? = fileName\n        return try {\n            var selectedType = fileType\n            val contentValues = ContentValues()\n            val extension: String? = getFileExtension(sourceFile)\n            var mimeType: String? = null\n            if (extension != null) {\n                mimeType = MimeTypeMap.getSingleton().getMimeTypeFromExtension(extension)\n            }\n            var uriToInsert: Uri? = null\n            if ((fileType == FolderType.IMAGE || fileType == FolderType.VIDEO) &amp;&amp; mimeType != null) {\n                if (mimeType.startsWith(&quot;image&quot;)) {\n                    selectedType = FolderType.IMAGE\n                }\n                if (mimeType.startsWith(&quot;video&quot;)) {\n                    selectedType = FolderType.VIDEO\n                }\n            }\n            when (selectedType) {\n                FolderType.IMAGE -&gt; {\n                    if (filename == null) {\n                        filename = generateFileName(0, extension)\n                    }\n                    uriToInsert =\n                        MediaStore.Images.Media.getContentUri(MediaStore.VOLUME_EXTERNAL_PRIMARY)\n                    val dirDest = File(Environment.DIRECTORY_PICTURES, &quot;folder&quot;)\n                    contentValues.put(MediaStore.MediaColumns.RELATIVE_PATH, &quot;$dirDest${separator}&quot;)\n                    contentValues.put(MediaStore.Images.Media.DISPLAY_NAME, filename)\n                    contentValues.put(MediaStore.Images.Media.MIME_TYPE, mimeType)\n                }\n                FolderType.VIDEO -&gt; {\n                    if (filename == null) {\n                        filename = generateFileName(1, extension)\n                    }\n                    val dirDest = File(Environment.DIRECTORY_MOVIES, &quot;folder&quot;)\n                    contentValues.put(MediaStore.MediaColumns.RELATIVE_PATH, &quot;$dirDest${separator}&quot;)\n                    uriToInsert =\n                        MediaStore.Video.Media.getContentUri(MediaStore.VOLUME_EXTERNAL)\n                    contentValues.put(MediaStore.Video.Media.DISPLAY_NAME, filename)\n    \n                }\n                FolderType.DOWNLOAD -&gt; {\n                    if (filename == null) {\n                        filename = sourceFile.name\n                    }\n                    val dirDest = File(Environment.DIRECTORY_DOWNLOADS, &quot;folder&quot;)\n                    contentValues.put(MediaStore.MediaColumns.RELATIVE_PATH, &quot;$dirDest${separator}&quot;)\n                    uriToInsert =\n                        MediaStore.Downloads.getContentUri(MediaStore.VOLUME_EXTERNAL_PRIMARY)\n                    contentValues.put(MediaStore.Downloads.DISPLAY_NAME, filename)\n                }\n                else -&gt; {\n                    if (filename == null) {\n                        filename = sourceFile.name\n                    }\n                    val dirDest = File(Environment.DIRECTORY_MUSIC, &quot;folder&quot;)\n                    contentValues.put(MediaStore.MediaColumns.RELATIVE_PATH, &quot;$dirDest${separator}&quot;)\n                    uriToInsert =\n                        MediaStore.Audio.Media.getContentUri(MediaStore.VOLUME_EXTERNAL_PRIMARY)\n                    contentValues.put(MediaStore.Audio.Media.DISPLAY_NAME, filename)\n                }\n            }\n            contentValues.put(MediaStore.MediaColumns.MIME_TYPE, mimeType)\n            val dstUri: Uri = contentResolver.insert(uriToInsert!!, contentValues)!!\n            val fileInputStream = FileInputStream(sourceFile)\n            val outputStream: OutputStream = contentResolver.openOutputStream(dstUri)!!\n    \n            copyFile(fileInputStream, outputStream)\n            fileInputStream.close()\n            true\n        } catch (e: java.lang.Exception) {\n            Log.e(&quot;fileManager&quot;, e.message.toString())\n            false\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":8506238,"reputation":2330,"user_id":6377726,"accept_rate":100,"display_name":"Android Admirer"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":80348,"favorite_count":0,"down_vote_count":0,"up_vote_count":81,"accepted_answer_id":56990305,"answer_count":6,"score":81,"last_activity_date":1673524869,"creation_date":1562335056,"question_id":56904485,"body_markdown":"Here is a link to the new Android Q [Scoped Storage][1].\r\n\r\nAccording to [this Android Developers Best Practices Blog][2], `storing shared media files` (which is my case) should be done using the [MediaStore][3] API.\r\n\r\nDigging into the docs and I cannot find a relevant function.\r\n\r\nHere is my trial in Kotlin:\r\n\r\n    val bitmap = getImageBitmap() // I have a bitmap from a function or callback or whatever\r\n\tval name = &quot;example.png&quot; // I have a name\r\n\r\n\tval picturesDirectory = getExternalFilesDir(Environment.DIRECTORY_PICTURES)!!\r\n\r\n    // Make sure the directory &quot;Android/data/com.mypackage.etc/files/Pictures&quot; exists\r\n\tif (!picturesDirectory.exists()) {\r\n\t\tpicturesDirectory.mkdirs()\r\n\t}\r\n\r\n\ttry {\r\n\t\tval out = FileOutputStream(File(picturesDirectory, name))\r\n\t\tbitmap.compress(Bitmap.CompressFormat.PNG, 100, out)\r\n\r\n\t\tout.flush()\r\n\t\tout.close()\r\n\r\n\t} catch(e: Exception) {\r\n        // handle the error\r\n\t}\r\n\r\nThe result is that my image is saved here `Android/data/com.mypackage.etc/files/Pictures/example.png` as described in the Best Practices Blog as `Storing app-internal files`\r\n\r\n----------\r\n\r\nMy question is:\r\n\r\nHow to save an image using the MediaStore API?\r\nAnswers in Java are equally acceptable.\r\n\r\n----------\r\n\r\n**EDIT**\r\n\r\nBut there are 3 more points.\r\n\r\nHere is my code:\r\n\r\n\r\n\tval name = &quot;Myimage&quot;\r\n\tval relativeLocation = Environment.DIRECTORY_PICTURES + File.pathSeparator + &quot;AppName&quot;\r\n\r\n\tval contentValues  = ContentValues().apply {\r\n\t\tput(MediaStore.Images.ImageColumns.DISPLAY_NAME, name)\r\n\t\tput(MediaStore.MediaColumns.MIME_TYPE, &quot;image/png&quot;)\r\n\r\n        // without this part causes &quot;Failed to create new MediaStore record&quot; exception to be invoked (uri is null below)\r\n\t\tif (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.Q) {\r\n\t\t\tput(MediaStore.Images.ImageColumns.RELATIVE_PATH, relativeLocation)\r\n\t\t}\r\n\t}\r\n\r\n\tval contentUri = MediaStore.Images.Media.EXTERNAL_CONTENT_URI\r\n\tvar stream: OutputStream? = null\r\n\tvar uri: Uri? = null\r\n\r\n\ttry {\r\n\t\turi = contentResolver.insert(contentUri, contentValues)\r\n\t\tif (uri == null)\r\n\t\t{\r\n\t\t\tthrow IOException(&quot;Failed to create new MediaStore record.&quot;)\r\n\t\t}\r\n\r\n\t\tstream = contentResolver.openOutputStream(uri)\r\n\r\n\t\tif (stream == null)\r\n\t\t{\r\n\t\t\tthrow IOException(&quot;Failed to get output stream.&quot;)\r\n\t\t}\r\n\r\n\t\tif (!bitmap.compress(Bitmap.CompressFormat.PNG, 100, stream))\r\n\t\t{\r\n\t\t\tthrow IOException(&quot;Failed to save bitmap.&quot;)\r\n\t\t}\r\n\r\n\r\n\t\tSnackbar.make(mCoordinator, R.string.image_saved_success, Snackbar.LENGTH_INDEFINITE).setAction(&quot;Open&quot;) {\r\n\t\t\tval intent = Intent()\r\n\t\t\tintent.type = &quot;image/*&quot;\r\n\t\t\tintent.action = Intent.ACTION_VIEW\r\n\t\t\tintent.data = contentUri\r\n\t\t\tstartActivity(Intent.createChooser(intent, &quot;Select Gallery App&quot;))\r\n\t\t}.show()\r\n\r\n\t} catch(e: IOException) {\r\n\t\tif (uri != null)\r\n\t\t{\r\n\t\t\tcontentResolver.delete(uri, null, null)\r\n\t\t}\r\n\r\n\t\tthrow IOException(e)\r\n\r\n\t}\r\n\tfinally {\r\n\t\tstream?.close()\r\n\t}\r\n\r\n1- The image saved doesn&#39;t get its correct name &quot;Myimage.png&quot;\r\n\r\nI tried using &quot;Myimage&quot; and &quot;Myimage.PNG&quot; but neither worked.\r\n\r\nThe image always gets a name made up of numbers like:\r\n\r\n`1563468625314.jpg`\r\n\r\nWhich bring us to the second problem:\r\n\r\n2- The image is saved as `jpg` even though I compress the bitmap in the format of `png`.\r\n\r\nNot a big issue. Just curious why.\r\n\r\n3- The relativeLocation bit causes an exception on Devices less than Android Q.\r\nAfter surrounding with the &quot;Android Version Check&quot; if statement, the images are saved directly in the root of the `Pictures` folder.\r\n\r\n\r\n----------\r\n\r\n\r\n**EDIT 2**\r\n\r\nChanged to:\r\n\r\n\turi = contentResolver.insert(contentUri, contentValues)\r\n\tif (uri == null)\r\n\t{\r\n\t\tthrow IOException(&quot;Failed to create new MediaStore record.&quot;)\r\n\t}\r\n\r\n\tval cursor = contentResolver.query(uri, null, null, null, null)\r\n\tDatabaseUtils.dumpCursor(cursor)\r\n\tcursor!!.close()\r\n\r\n\tstream = contentResolver.openOutputStream(uri)\r\n\r\nHere are the logs\r\n\r\n```\r\nI/System.out: &gt;&gt;&gt;&gt;&gt; Dumping cursor android.content.ContentResolver$CursorWrapperInner@76da9d1\r\nI/System.out: 0 {\r\nI/System.out:    _id=25417\r\nI/System.out:    _data=/storage/emulated/0/Pictures/1563640732667.jpg\r\nI/System.out:    _size=null\r\nI/System.out:    _display_name=Myimage\r\nI/System.out:    mime_type=image/png\r\nI/System.out:    title=1563640732667\r\nI/System.out:    date_added=1563640732\r\nI/System.out:    is_hdr=null\r\nI/System.out:    date_modified=null\r\nI/System.out:    description=null\r\nI/System.out:    picasa_id=null\r\nI/System.out:    isprivate=null\r\nI/System.out:    latitude=null\r\nI/System.out:    longitude=null\r\nI/System.out:    datetaken=null\r\nI/System.out:    orientation=null\r\nI/System.out:    mini_thumb_magic=null\r\nI/System.out:    bucket_id=-1617409521\r\nI/System.out:    bucket_display_name=Pictures\r\nI/System.out:    width=null\r\nI/System.out:    height=null\r\nI/System.out:    is_hw_privacy=null\r\nI/System.out:    hw_voice_offset=null\r\nI/System.out:    is_hw_favorite=null\r\nI/System.out:    hw_image_refocus=null\r\nI/System.out:    album_sort_index=null\r\nI/System.out:    bucket_display_name_alias=null\r\nI/System.out:    is_hw_burst=0\r\nI/System.out:    hw_rectify_offset=null\r\nI/System.out:    special_file_type=0\r\nI/System.out:    special_file_offset=null\r\nI/System.out:    cam_perception=null\r\nI/System.out:    cam_exif_flag=null\r\nI/System.out: }\r\nI/System.out: &lt;&lt;&lt;&lt;&lt;\r\n```\r\n\r\nI noticed the `title` to be matching the name so I tried adding:\r\n\r\n`put(MediaStore.Images.ImageColumns.TITLE, name)`\r\n\r\nIt still didn&#39;t work and here are the new logs:\r\n\r\n```\r\nI/System.out: &gt;&gt;&gt;&gt;&gt; Dumping cursor android.content.ContentResolver$CursorWrapperInner@51021a5\r\nI/System.out: 0 {\r\nI/System.out:    _id=25418\r\nI/System.out:    _data=/storage/emulated/0/Pictures/1563640934803.jpg\r\nI/System.out:    _size=null\r\nI/System.out:    _display_name=Myimage\r\nI/System.out:    mime_type=image/png\r\nI/System.out:    title=Myimage\r\nI/System.out:    date_added=1563640934\r\nI/System.out:    is_hdr=null\r\nI/System.out:    date_modified=null\r\nI/System.out:    description=null\r\nI/System.out:    picasa_id=null\r\nI/System.out:    isprivate=null\r\nI/System.out:    latitude=null\r\nI/System.out:    longitude=null\r\nI/System.out:    datetaken=null\r\nI/System.out:    orientation=null\r\nI/System.out:    mini_thumb_magic=null\r\nI/System.out:    bucket_id=-1617409521\r\nI/System.out:    bucket_display_name=Pictures\r\nI/System.out:    width=null\r\nI/System.out:    height=null\r\nI/System.out:    is_hw_privacy=null\r\nI/System.out:    hw_voice_offset=null\r\nI/System.out:    is_hw_favorite=null\r\nI/System.out:    hw_image_refocus=null\r\nI/System.out:    album_sort_index=null\r\nI/System.out:    bucket_display_name_alias=null\r\nI/System.out:    is_hw_burst=0\r\nI/System.out:    hw_rectify_offset=null\r\nI/System.out:    special_file_type=0\r\nI/System.out:    special_file_offset=null\r\nI/System.out:    cam_perception=null\r\nI/System.out:    cam_exif_flag=null\r\nI/System.out: }\r\nI/System.out: &lt;&lt;&lt;&lt;&lt;\r\n```\r\n\r\nAnd I can&#39;t change `date_added` to a name.\r\n\r\nAnd `MediaStore.MediaColumns.DATA` is deprecated.\r\n\r\n\r\n  [1]: https://developer.android.com/preview/privacy/scoped-storage\r\n  [2]: https://android-developers.googleblog.com/2019/04/android-q-scoped-storage-best-practices.html\r\n  [3]: https://developer.android.com/reference/android/provider/MediaStore","title":"How to save an image in Android Q using MediaStore?","body":"<p>Here is a link to the new Android Q <a href=\"https://developer.android.com/preview/privacy/scoped-storage\" rel=\"nofollow noreferrer\">Scoped Storage</a>.</p>\n<p>According to <a href=\"https://android-developers.googleblog.com/2019/04/android-q-scoped-storage-best-practices.html\" rel=\"nofollow noreferrer\">this Android Developers Best Practices Blog</a>, <code>storing shared media files</code> (which is my case) should be done using the <a href=\"https://developer.android.com/reference/android/provider/MediaStore\" rel=\"nofollow noreferrer\">MediaStore</a> API.</p>\n<p>Digging into the docs and I cannot find a relevant function.</p>\n<p>Here is my trial in Kotlin:</p>\n<pre><code>val bitmap = getImageBitmap() // I have a bitmap from a function or callback or whatever\nval name = &quot;example.png&quot; // I have a name\n\nval picturesDirectory = getExternalFilesDir(Environment.DIRECTORY_PICTURES)!!\n\n// Make sure the directory &quot;Android/data/com.mypackage.etc/files/Pictures&quot; exists\nif (!picturesDirectory.exists()) {\n    picturesDirectory.mkdirs()\n}\n\ntry {\n    val out = FileOutputStream(File(picturesDirectory, name))\n    bitmap.compress(Bitmap.CompressFormat.PNG, 100, out)\n\n    out.flush()\n    out.close()\n\n} catch(e: Exception) {\n    // handle the error\n}\n</code></pre>\n<p>The result is that my image is saved here <code>Android/data/com.mypackage.etc/files/Pictures/example.png</code> as described in the Best Practices Blog as <code>Storing app-internal files</code></p>\n<hr />\n<p>My question is:</p>\n<p>How to save an image using the MediaStore API?\nAnswers in Java are equally acceptable.</p>\n<hr />\n<p><strong>EDIT</strong></p>\n<p>But there are 3 more points.</p>\n<p>Here is my code:</p>\n<pre><code>val name = &quot;Myimage&quot;\nval relativeLocation = Environment.DIRECTORY_PICTURES + File.pathSeparator + &quot;AppName&quot;\n\nval contentValues  = ContentValues().apply {\n    put(MediaStore.Images.ImageColumns.DISPLAY_NAME, name)\n    put(MediaStore.MediaColumns.MIME_TYPE, &quot;image/png&quot;)\n\n    // without this part causes &quot;Failed to create new MediaStore record&quot; exception to be invoked (uri is null below)\n    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.Q) {\n        put(MediaStore.Images.ImageColumns.RELATIVE_PATH, relativeLocation)\n    }\n}\n\nval contentUri = MediaStore.Images.Media.EXTERNAL_CONTENT_URI\nvar stream: OutputStream? = null\nvar uri: Uri? = null\n\ntry {\n    uri = contentResolver.insert(contentUri, contentValues)\n    if (uri == null)\n    {\n        throw IOException(&quot;Failed to create new MediaStore record.&quot;)\n    }\n\n    stream = contentResolver.openOutputStream(uri)\n\n    if (stream == null)\n    {\n        throw IOException(&quot;Failed to get output stream.&quot;)\n    }\n\n    if (!bitmap.compress(Bitmap.CompressFormat.PNG, 100, stream))\n    {\n        throw IOException(&quot;Failed to save bitmap.&quot;)\n    }\n\n\n    Snackbar.make(mCoordinator, R.string.image_saved_success, Snackbar.LENGTH_INDEFINITE).setAction(&quot;Open&quot;) {\n        val intent = Intent()\n        intent.type = &quot;image/*&quot;\n        intent.action = Intent.ACTION_VIEW\n        intent.data = contentUri\n        startActivity(Intent.createChooser(intent, &quot;Select Gallery App&quot;))\n    }.show()\n\n} catch(e: IOException) {\n    if (uri != null)\n    {\n        contentResolver.delete(uri, null, null)\n    }\n\n    throw IOException(e)\n\n}\nfinally {\n    stream?.close()\n}\n</code></pre>\n<p>1- The image saved doesn't get its correct name &quot;Myimage.png&quot;</p>\n<p>I tried using &quot;Myimage&quot; and &quot;Myimage.PNG&quot; but neither worked.</p>\n<p>The image always gets a name made up of numbers like:</p>\n<p><code>1563468625314.jpg</code></p>\n<p>Which bring us to the second problem:</p>\n<p>2- The image is saved as <code>jpg</code> even though I compress the bitmap in the format of <code>png</code>.</p>\n<p>Not a big issue. Just curious why.</p>\n<p>3- The relativeLocation bit causes an exception on Devices less than Android Q.\nAfter surrounding with the &quot;Android Version Check&quot; if statement, the images are saved directly in the root of the <code>Pictures</code> folder.</p>\n<hr />\n<p><strong>EDIT 2</strong></p>\n<p>Changed to:</p>\n<pre><code>uri = contentResolver.insert(contentUri, contentValues)\nif (uri == null)\n{\n    throw IOException(&quot;Failed to create new MediaStore record.&quot;)\n}\n\nval cursor = contentResolver.query(uri, null, null, null, null)\nDatabaseUtils.dumpCursor(cursor)\ncursor!!.close()\n\nstream = contentResolver.openOutputStream(uri)\n</code></pre>\n<p>Here are the logs</p>\n<pre><code>I/System.out: &gt;&gt;&gt;&gt;&gt; Dumping cursor android.content.ContentResolver$CursorWrapperInner@76da9d1\nI/System.out: 0 {\nI/System.out:    _id=25417\nI/System.out:    _data=/storage/emulated/0/Pictures/1563640732667.jpg\nI/System.out:    _size=null\nI/System.out:    _display_name=Myimage\nI/System.out:    mime_type=image/png\nI/System.out:    title=1563640732667\nI/System.out:    date_added=1563640732\nI/System.out:    is_hdr=null\nI/System.out:    date_modified=null\nI/System.out:    description=null\nI/System.out:    picasa_id=null\nI/System.out:    isprivate=null\nI/System.out:    latitude=null\nI/System.out:    longitude=null\nI/System.out:    datetaken=null\nI/System.out:    orientation=null\nI/System.out:    mini_thumb_magic=null\nI/System.out:    bucket_id=-1617409521\nI/System.out:    bucket_display_name=Pictures\nI/System.out:    width=null\nI/System.out:    height=null\nI/System.out:    is_hw_privacy=null\nI/System.out:    hw_voice_offset=null\nI/System.out:    is_hw_favorite=null\nI/System.out:    hw_image_refocus=null\nI/System.out:    album_sort_index=null\nI/System.out:    bucket_display_name_alias=null\nI/System.out:    is_hw_burst=0\nI/System.out:    hw_rectify_offset=null\nI/System.out:    special_file_type=0\nI/System.out:    special_file_offset=null\nI/System.out:    cam_perception=null\nI/System.out:    cam_exif_flag=null\nI/System.out: }\nI/System.out: &lt;&lt;&lt;&lt;&lt;\n</code></pre>\n<p>I noticed the <code>title</code> to be matching the name so I tried adding:</p>\n<p><code>put(MediaStore.Images.ImageColumns.TITLE, name)</code></p>\n<p>It still didn't work and here are the new logs:</p>\n<pre><code>I/System.out: &gt;&gt;&gt;&gt;&gt; Dumping cursor android.content.ContentResolver$CursorWrapperInner@51021a5\nI/System.out: 0 {\nI/System.out:    _id=25418\nI/System.out:    _data=/storage/emulated/0/Pictures/1563640934803.jpg\nI/System.out:    _size=null\nI/System.out:    _display_name=Myimage\nI/System.out:    mime_type=image/png\nI/System.out:    title=Myimage\nI/System.out:    date_added=1563640934\nI/System.out:    is_hdr=null\nI/System.out:    date_modified=null\nI/System.out:    description=null\nI/System.out:    picasa_id=null\nI/System.out:    isprivate=null\nI/System.out:    latitude=null\nI/System.out:    longitude=null\nI/System.out:    datetaken=null\nI/System.out:    orientation=null\nI/System.out:    mini_thumb_magic=null\nI/System.out:    bucket_id=-1617409521\nI/System.out:    bucket_display_name=Pictures\nI/System.out:    width=null\nI/System.out:    height=null\nI/System.out:    is_hw_privacy=null\nI/System.out:    hw_voice_offset=null\nI/System.out:    is_hw_favorite=null\nI/System.out:    hw_image_refocus=null\nI/System.out:    album_sort_index=null\nI/System.out:    bucket_display_name_alias=null\nI/System.out:    is_hw_burst=0\nI/System.out:    hw_rectify_offset=null\nI/System.out:    special_file_type=0\nI/System.out:    special_file_offset=null\nI/System.out:    cam_perception=null\nI/System.out:    cam_exif_flag=null\nI/System.out: }\nI/System.out: &lt;&lt;&lt;&lt;&lt;\n</code></pre>\n<p>And I can't change <code>date_added</code> to a name.</p>\n<p>And <code>MediaStore.MediaColumns.DATA</code> is deprecated.</p>\n"},{"tags":["java","encryption","aes","rc4-cipher","secure-random"],"answers":[{"comments":[{"owner":{"account_id":20716783,"reputation":17,"user_id":15212005,"display_name":"Pragya S"},"score":0,"creation_date":1673532573,"post_id":75095963,"comment_id":132524056,"body_markdown":"Can anyone help me out creating hexadecimal IV and key using SecureRandom? rather then Hardcoding IV and Key as i was doing in above code?","body":"Can anyone help me out creating hexadecimal IV and key using SecureRandom? rather then Hardcoding IV and Key as i was doing in above code?"},{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":0,"creation_date":1673533774,"post_id":75095963,"comment_id":132524506,"body_markdown":"You can get the IV as bytes [from the `IVParameterSpec`](https://docs.oracle.com/javase/8/docs/api/javax/crypto/spec/IvParameterSpec.html#getIV--) There are plenty of questions on how to encode that to hexadecimals, newer Java versions even have a `Hex` class included. But really, you don&#39;t need it if you prefix the bytes to the ciphertext, as you base64 encode that anyway.","body":"You can get the IV as bytes <a href=\"https://docs.oracle.com/javase/8/docs/api/javax/crypto/spec/IvParameterSpec.html#getIV--\" rel=\"nofollow noreferrer\">from the <code>IVParameterSpec</code></a> There are plenty of questions on how to encode that to hexadecimals, newer Java versions even have a <code>Hex</code> class included. But really, you don&#39;t need it if you prefix the bytes to the ciphertext, as you base64 encode that anyway."}],"tags":[],"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673524484,"creation_date":1673524484,"answer_id":75095963,"question_id":75095685,"body_markdown":"The whole idea of a cipher is that it is indistinguishable from random (not considering the length of the ciphertext, that obviously depends on the size of the message in some way). If you have a unique key and IV then the ciphertext **should** be indistinguishable from random, although for CBC the IV should also be randomized. If you want to test if it &quot;works&quot; then you&#39;ll have to decrypt the ciphertext. Otherwise you can only check if the ciphertext size is about right.\r\n\r\nHowever, if you are asking about the security of your code then sure, the use of `SecureRandom` and `KeyGenerator` seems fine. You might want to prefix the IV to the ciphertext, that&#39;s the common way to communicate a random IV. If you want to know how to distribute keys then I&#39;d suggest reading into symmetric key management; that depends on the use case.\r\n\r\n---\r\n\r\nFor my fellow crypto nerds, yes, sure related key attacks are a thing so having a unique key &amp; IV is not entirely the whole story, but these keys are randomized, so that&#39;s fine. There are probably some other theoretical / practical issues with the answer which can usually be ignored.\r\n","title":"How to use SecureRandom instead of using hardcoded bytes array for Java AES Encrytion and Decryption?","body":"<p>The whole idea of a cipher is that it is indistinguishable from random (not considering the length of the ciphertext, that obviously depends on the size of the message in some way). If you have a unique key and IV then the ciphertext <strong>should</strong> be indistinguishable from random, although for CBC the IV should also be randomized. If you want to test if it &quot;works&quot; then you'll have to decrypt the ciphertext. Otherwise you can only check if the ciphertext size is about right.</p>\n<p>However, if you are asking about the security of your code then sure, the use of <code>SecureRandom</code> and <code>KeyGenerator</code> seems fine. You might want to prefix the IV to the ciphertext, that's the common way to communicate a random IV. If you want to know how to distribute keys then I'd suggest reading into symmetric key management; that depends on the use case.</p>\n<hr />\n<p>For my fellow crypto nerds, yes, sure related key attacks are a thing so having a unique key &amp; IV is not entirely the whole story, but these keys are randomized, so that's fine. There are probably some other theoretical / practical issues with the answer which can usually be ignored.</p>\n"}],"owner":{"account_id":20716783,"reputation":17,"user_id":15212005,"display_name":"Pragya S"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":173,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673524484,"creation_date":1673523029,"question_id":75095685,"body_markdown":"In my code I am using hardcoded arrays(given below) for IV and key\r\n\r\n    **private static byte[] IVAes = { 0x01, 0x02, 0x03, 0x04, 0x05, 0x06, 0x07, 0x08, 0x09, 0x10, 0x11, 0x12, 0x13, 0x14, 0x15, 0x16 };\r\n    \r\n    private static byte[] keyAes = { 0x01, 0x02, 0x03, 0x04, 0x05, 0x06, 0x07, 0x08, 0x09, 0x10, 0x11, 0x12, 0x13, 0x14, 0x15, 0x16 };\r\n    \r\n    public static String encryptAes(String strPlain) {\r\n    \t\tbyte[] encrypted = null;\r\n    \t\tif (StringUtils.isBlank(strPlain)) {\r\n    \t\t\treturn strPlain;\r\n    \t\t}\r\n    \t\tbyte[] toEncrypt = strPlain.getBytes();\r\n    \t\ttry {\r\n    \t\t\tAlgorithmParameterSpec paramSpec = new IvParameterSpec(IVAes);\r\n    \t\t\t// Generate the key specs.\r\n    \t\t\tSecretKeySpec skeySpec = new SecretKeySpec(keyAes, AES_ALGORITHM);\r\n    \t\t\t// Instantiate the cipher\r\n    \t\t\tCipher cipher = Cipher.getInstance(CIPHER_ALGORITHM);\r\n    \t\t\tcipher.init(Cipher.ENCRYPT_MODE, skeySpec, paramSpec);\r\n    \t\t\tencrypted = cipher.doFinal(toEncrypt);\r\n    \t\t} catch (NoSuchAlgorithmException | NoSuchPaddingException | InvalidKeyException\r\n    \t\t\t\t| InvalidAlgorithmParameterException | IllegalBlockSizeException | BadPaddingException e) {\r\n    \t\t\tLOGGER.error(e.getMessage(), e);\r\n    \t\t}\r\n    \t\treturn new String(Base64.encodeBase64(encrypted));\r\n    \t}**\r\n\r\nbut using hardcoded array as IV and Key is not prefered due to security perspective. Instead of this type of Hardcoded array can I use SecureRandom() as given below-\r\n\r\n\r\n\t\r\n\r\n    **public static String encryptAes(String strPlain) {\r\n    \t\tbyte[] encrypted = null;\r\n    \t\tif (StringUtils.isBlank(strPlain)) {\r\n    \t\t\treturn strPlain;\r\n    \t\t}\r\n    \t\tbyte[] toEncrypt = strPlain.getBytes();\r\n    \t\ttry {\r\n    //---------calling generateIV method\r\n    \r\n    \t\t\tAlgorithmParameterSpec paramSpec = generateIv();\r\n    \t\t\t\t// Instantiate the cipher\r\n    \t\t\tCipher cipher = Cipher.getInstance(CIPHER_ALGORITHM);\r\n    \t\t\tcipher.init(Cipher.ENCRYPT_MODE, skeySpec, paramSpec);\r\n    \t\t\tencrypted = cipher.doFinal(toEncrypt);\r\n    \t\t} catch (NoSuchAlgorithmException | NoSuchPaddingException | InvalidKeyException\r\n    \t\t\t\t| InvalidAlgorithmParameterException | IllegalBlockSizeException | BadPaddingException e) {\r\n    \t\t\tLOGGER.error(e.getMessage(), e);\r\n    \t\t}\r\n    \t\treturn new String(Base64.encodeBase64(encrypted));\r\n    \t}\r\n    \r\n    public static IvParameterSpec generateIv() {\r\n        byte[] IVAes = new byte[16];\r\n        new SecureRandom().nextBytes(IVAes);\r\n        return new IvParameterSpec(IVAes);\r\n    }\r\n    \r\n    int n = 128;\r\n    public static SecretKey generateKey(int n) throws NoSuchAlgorithmException {\r\n        KeyGenerator keyGenerator = KeyGenerator.getInstance(&quot;AES&quot;);\r\n        keyGenerator.init(n);\r\n        SecretKey key = keyGenerator.generateKey();\r\n        return key;\r\n    }**\r\n\r\nI just wanted to know that creating array of 16 bytes for IV and key by using SecureRandom and also key generator will give same result as it was giving when I use hardcoded array as shown above??\r\n","title":"How to use SecureRandom instead of using hardcoded bytes array for Java AES Encrytion and Decryption?","body":"<p>In my code I am using hardcoded arrays(given below) for IV and key</p>\n<pre><code>**private static byte[] IVAes = { 0x01, 0x02, 0x03, 0x04, 0x05, 0x06, 0x07, 0x08, 0x09, 0x10, 0x11, 0x12, 0x13, 0x14, 0x15, 0x16 };\n\nprivate static byte[] keyAes = { 0x01, 0x02, 0x03, 0x04, 0x05, 0x06, 0x07, 0x08, 0x09, 0x10, 0x11, 0x12, 0x13, 0x14, 0x15, 0x16 };\n\npublic static String encryptAes(String strPlain) {\n        byte[] encrypted = null;\n        if (StringUtils.isBlank(strPlain)) {\n            return strPlain;\n        }\n        byte[] toEncrypt = strPlain.getBytes();\n        try {\n            AlgorithmParameterSpec paramSpec = new IvParameterSpec(IVAes);\n            // Generate the key specs.\n            SecretKeySpec skeySpec = new SecretKeySpec(keyAes, AES_ALGORITHM);\n            // Instantiate the cipher\n            Cipher cipher = Cipher.getInstance(CIPHER_ALGORITHM);\n            cipher.init(Cipher.ENCRYPT_MODE, skeySpec, paramSpec);\n            encrypted = cipher.doFinal(toEncrypt);\n        } catch (NoSuchAlgorithmException | NoSuchPaddingException | InvalidKeyException\n                | InvalidAlgorithmParameterException | IllegalBlockSizeException | BadPaddingException e) {\n            LOGGER.error(e.getMessage(), e);\n        }\n        return new String(Base64.encodeBase64(encrypted));\n    }**\n</code></pre>\n<p>but using hardcoded array as IV and Key is not prefered due to security perspective. Instead of this type of Hardcoded array can I use SecureRandom() as given below-</p>\n<pre><code>**public static String encryptAes(String strPlain) {\n        byte[] encrypted = null;\n        if (StringUtils.isBlank(strPlain)) {\n            return strPlain;\n        }\n        byte[] toEncrypt = strPlain.getBytes();\n        try {\n//---------calling generateIV method\n\n            AlgorithmParameterSpec paramSpec = generateIv();\n                // Instantiate the cipher\n            Cipher cipher = Cipher.getInstance(CIPHER_ALGORITHM);\n            cipher.init(Cipher.ENCRYPT_MODE, skeySpec, paramSpec);\n            encrypted = cipher.doFinal(toEncrypt);\n        } catch (NoSuchAlgorithmException | NoSuchPaddingException | InvalidKeyException\n                | InvalidAlgorithmParameterException | IllegalBlockSizeException | BadPaddingException e) {\n            LOGGER.error(e.getMessage(), e);\n        }\n        return new String(Base64.encodeBase64(encrypted));\n    }\n\npublic static IvParameterSpec generateIv() {\n    byte[] IVAes = new byte[16];\n    new SecureRandom().nextBytes(IVAes);\n    return new IvParameterSpec(IVAes);\n}\n\nint n = 128;\npublic static SecretKey generateKey(int n) throws NoSuchAlgorithmException {\n    KeyGenerator keyGenerator = KeyGenerator.getInstance(&quot;AES&quot;);\n    keyGenerator.init(n);\n    SecretKey key = keyGenerator.generateKey();\n    return key;\n}**\n</code></pre>\n<p>I just wanted to know that creating array of 16 bytes for IV and key by using SecureRandom and also key generator will give same result as it was giving when I use hardcoded array as shown above??</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":1,"creation_date":1673524179,"post_id":75095786,"comment_id":132521043,"body_markdown":"What&#39;s the question/problem? You might want to elaborate on what you&#39;re trying to do and where you fail. Also, why are you creating `new PageInfo&lt;&gt;(propertyList)` if you&#39;re then just getting the list again? (I assume that constructor doesn&#39;t modify the list, does it?)","body":"What&#39;s the question/problem? You might want to elaborate on what you&#39;re trying to do and where you fail. Also, why are you creating <code>new PageInfo&lt;&gt;(propertyList)</code> if you&#39;re then just getting the list again? (I assume that constructor doesn&#39;t modify the list, does it?)"},{"owner":{"account_id":16795084,"reputation":232,"user_id":12141701,"display_name":"lukwas"},"score":0,"creation_date":1673524228,"post_id":75095786,"comment_id":132521064,"body_markdown":"Your desired output is not proper JSON","body":"Your desired output is not proper JSON"}],"answers":[{"comments":[{"owner":{"account_id":10955624,"reputation":431,"user_id":8050530,"accept_rate":94,"display_name":"wen tian"},"score":0,"creation_date":1673525787,"post_id":75095925,"comment_id":132521611,"body_markdown":"Thank you! I have already edited it `public class MyPojo&lt;T&gt;` and `private T data;`","body":"Thank you! I have already edited it <code>public class MyPojo&lt;T&gt;</code> and <code>private T data;</code>"}],"tags":[],"owner":{"account_id":6764946,"reputation":570,"user_id":5210225,"accept_rate":50,"display_name":"Dimitris"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1673524303,"creation_date":1673524303,"answer_id":75095925,"question_id":75095786,"body_markdown":"You are assigning the list to the map, so the response is a list. What you need to do instead is create a pojo with one variable named &quot;data&quot; of type list. Assign there the values via the setter and add in the map the new pojo object. The pojo should look like this:\r\n\r\n    import java.util.List;\r\n    \r\n    public class MyPojo {\r\n        private List&lt;String&gt; data;\r\n    \r\n        public List&lt;String&gt; getData() {\r\n            return data;\r\n        }\r\n    \r\n        public void setData(List&lt;String&gt; data) {\r\n            this.data = data;\r\n        }\r\n    }\r\n\r\nand then you should do something like:\r\n\r\n        MyPojo myPojo = new MyPojo();\r\n        myPojo.setData(info.getList());\r\n        map.put(&quot;data&quot;, myPojo);\r\n\r\n\r\n","title":"Returning JSON in Spring Boot?","body":"<p>You are assigning the list to the map, so the response is a list. What you need to do instead is create a pojo with one variable named &quot;data&quot; of type list. Assign there the values via the setter and add in the map the new pojo object. The pojo should look like this:</p>\n<pre><code>import java.util.List;\n\npublic class MyPojo {\n    private List&lt;String&gt; data;\n\n    public List&lt;String&gt; getData() {\n        return data;\n    }\n\n    public void setData(List&lt;String&gt; data) {\n        this.data = data;\n    }\n}\n</code></pre>\n<p>and then you should do something like:</p>\n<pre><code>    MyPojo myPojo = new MyPojo();\n    myPojo.setData(info.getList());\n    map.put(&quot;data&quot;, myPojo);\n</code></pre>\n"}],"owner":{"account_id":10955624,"reputation":431,"user_id":8050530,"accept_rate":94,"display_name":"wen tian"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75095925,"answer_count":1,"score":0,"last_activity_date":1673524303,"creation_date":1673523601,"question_id":75095786,"body_markdown":"I&#39;m trying to write SpringBoot request to return json data.But I can&#39;t think of a better way to solve the desired result below.\r\n\r\n**I want to print it out：**\r\n```\r\n{\r\n    {\r\n      &quot;code&quot;: &quot;200&quot;,\r\n      &quot;msg&quot;: &quot;success&quot;,\r\n      &quot;data&quot;: {\r\n        &quot;data&quot;: []\r\n    }\r\n}\r\n```\r\n\r\n**my code:**\r\n```\r\n@Controller\r\n@RequestMapping(value = &quot;/index/property&quot;)\r\npublic class PropertyController {\r\n\r\n    @Autowired\r\n    PropertyService propertyService;\r\n\r\n    @RequestMapping(value = &quot;list&quot;, method = RequestMethod.GET)\r\n    @ResponseBody\r\n    public Map&lt;String,Object&gt; getPropertyList(@RequestParam(defaultValue= &quot;1&quot;) int pageNumber, @RequestParam(defaultValue= &quot;5&quot;) int pageSize) {\r\n        Map&lt;String,Object&gt; map = new HashMap&lt;&gt;();\r\n        PageHelper.startPage(pageNumber, pageSize, true);\r\n        List&lt;Property&gt; propertyList = propertyService.queryList();\r\n        PageInfo&lt;Property&gt; info = new PageInfo&lt;&gt;(propertyList);\r\n        map.put(&quot;code&quot;,&quot;200&quot;);\r\n        map.put(&quot;msg&quot;,&quot;success&quot;);\r\n        map.put(&quot;data&quot;, info.getList());\r\n        return map;\r\n    }\r\n}\r\n\r\n```\r\n\r\n**json error format**\r\n```\r\n{\r\n    &quot;code&quot;: &quot;200&quot;,\r\n    &quot;msg&quot;: &quot;success&quot;,\r\n    &quot;data&quot;: []\r\n}\r\n```","title":"Returning JSON in Spring Boot?","body":"<p>I'm trying to write SpringBoot request to return json data.But I can't think of a better way to solve the desired result below.</p>\n<p><strong>I want to print it out：</strong></p>\n<pre><code>{\n    {\n      &quot;code&quot;: &quot;200&quot;,\n      &quot;msg&quot;: &quot;success&quot;,\n      &quot;data&quot;: {\n        &quot;data&quot;: []\n    }\n}\n</code></pre>\n<p><strong>my code:</strong></p>\n<pre><code>@Controller\n@RequestMapping(value = &quot;/index/property&quot;)\npublic class PropertyController {\n\n    @Autowired\n    PropertyService propertyService;\n\n    @RequestMapping(value = &quot;list&quot;, method = RequestMethod.GET)\n    @ResponseBody\n    public Map&lt;String,Object&gt; getPropertyList(@RequestParam(defaultValue= &quot;1&quot;) int pageNumber, @RequestParam(defaultValue= &quot;5&quot;) int pageSize) {\n        Map&lt;String,Object&gt; map = new HashMap&lt;&gt;();\n        PageHelper.startPage(pageNumber, pageSize, true);\n        List&lt;Property&gt; propertyList = propertyService.queryList();\n        PageInfo&lt;Property&gt; info = new PageInfo&lt;&gt;(propertyList);\n        map.put(&quot;code&quot;,&quot;200&quot;);\n        map.put(&quot;msg&quot;,&quot;success&quot;);\n        map.put(&quot;data&quot;, info.getList());\n        return map;\n    }\n}\n\n</code></pre>\n<p><strong>json error format</strong></p>\n<pre><code>{\n    &quot;code&quot;: &quot;200&quot;,\n    &quot;msg&quot;: &quot;success&quot;,\n    &quot;data&quot;: []\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"display_name":"user19443549"},"score":1,"creation_date":1673519320,"post_id":75094820,"comment_id":132519432,"body_markdown":"you can achieve this by overriding toString() function.","body":"you can achieve this by overriding toString() function."},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1673519380,"post_id":75094820,"comment_id":132519455,"body_markdown":"You could use Jackson to convert the pojo to a plain map, then basically just concat the entries into a string. Of course that doesn&#39;t work for more complex objects and deeper nesting - so maybe you might want to rethink the approach.","body":"You could use Jackson to convert the pojo to a plain map, then basically just concat the entries into a string. Of course that doesn&#39;t work for more complex objects and deeper nesting - so maybe you might want to rethink the approach."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1673519634,"post_id":75094820,"comment_id":132519543,"body_markdown":"`&quot;name=&quot; + name + &quot;&amp;age=&quot; + age + &quot;&amp;address=&quot; + address + &quot;&amp;city=&quot; + city`","body":"<code>&quot;name=&quot; + name + &quot;&amp;age=&quot; + age + &quot;&amp;address=&quot; + address + &quot;&amp;city=&quot; + city</code>"},{"owner":{"account_id":1176536,"reputation":4384,"user_id":1152410,"accept_rate":89,"display_name":"feco"},"score":0,"creation_date":1673520002,"post_id":75094820,"comment_id":132519653,"body_markdown":"I&#39;ve updated the question. Dont want to use toString because property names might change, and I dont want to update on 2 different places.","body":"I&#39;ve updated the question. Dont want to use toString because property names might change, and I dont want to update on 2 different places."},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1673520318,"post_id":75094820,"comment_id":132519764,"body_markdown":"What exactly do you mean with &quot;I need it to be encoded&quot; ?","body":"What exactly do you mean with &quot;I need it to be encoded&quot; ?"},{"owner":{"account_id":13961251,"reputation":741,"user_id":10082415,"display_name":"M. Al Jumaily"},"score":0,"creation_date":1673520487,"post_id":75094820,"comment_id":132519816,"body_markdown":"Have you considered using `getDeclaredFields()` from Java reflection and overriding the `toString()` method?","body":"Have you considered using <code>getDeclaredFields()</code> from Java reflection and overriding the <code>toString()</code> method?"},{"owner":{"account_id":1176536,"reputation":4384,"user_id":1152410,"accept_rate":89,"display_name":"feco"},"score":0,"creation_date":1673520684,"post_id":75094820,"comment_id":132519891,"body_markdown":"@cyberbrain missed Don&#39;t. corrected.","body":"@cyberbrain missed Don&#39;t. corrected."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1673520841,"post_id":75094820,"comment_id":132519940,"body_markdown":"There’s no sense in wasting hours trying all those inappropriate methods for something you can write down in three seconds and also adapt to whatever format change in three seconds. The real challenge will be adapting all the other code that uses this class when you really change the name of the property. Which will have the result that you will never change the names of these properties. See also https://en.wikipedia.org/wiki/YAGNI","body":"There’s no sense in wasting hours trying all those inappropriate methods for something you can write down in three seconds and also adapt to whatever format change in three seconds. The real challenge will be adapting all the other code that uses this class when you really change the name of the property. Which will have the result that you will never change the names of these properties. See also <a href=\"https://en.wikipedia.org/wiki/YAGNI\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/YAGNI</a>"},{"owner":{"account_id":1176536,"reputation":4384,"user_id":1152410,"accept_rate":89,"display_name":"feco"},"score":0,"creation_date":1673521232,"post_id":75094820,"comment_id":132520086,"body_markdown":"@Holger I get your concern. But since I&#39;m using lombok. So im not writting any getter/setter or toString.","body":"@Holger I get your concern. But since I&#39;m using lombok. So im not writting any getter/setter or toString."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1673521685,"post_id":75094820,"comment_id":132520227,"body_markdown":"Since you opened this question, you *are* writing the code that produces the string. And implementing it as `&quot;name=&quot; + name + &quot;&amp;age=&quot; + age + &quot;&amp;address=&quot; + address + &quot;&amp;city=&quot; + city` takes a few seconds, is simple *and* efficient. The accepted answer wastes lots of resources, for the questionable benefit of saving you three seconds of typing *if* you ever really change the name of a property. And then, you probably have to drop that code anyway, because it turns out that you have to stay backward compatible to the old string format, regardless of the property’s real name…","body":"Since you opened this question, you <i>are</i> writing the code that produces the string. And implementing it as <code>&quot;name=&quot; + name + &quot;&amp;age=&quot; + age + &quot;&amp;address=&quot; + address + &quot;&amp;city=&quot; + city</code> takes a few seconds, is simple <i>and</i> efficient. The accepted answer wastes lots of resources, for the questionable benefit of saving you three seconds of typing <i>if</i> you ever really change the name of a property. And then, you probably have to drop that code anyway, because it turns out that you have to stay backward compatible to the old string format, regardless of the property’s real name…"}],"answers":[{"comments":[{"owner":{"display_name":"user20937564"},"score":0,"creation_date":1673519739,"post_id":75094940,"comment_id":132519569,"body_markdown":"You can change format here as per your requirement.","body":"You can change format here as per your requirement."}],"tags":[],"owner":{"display_name":"user19443549"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673519690,"creation_date":1673519690,"answer_id":75094940,"question_id":75094820,"body_markdown":"You can override the toString() function to get required format -\r\n\r\n    private String name;\r\n    private int age;\r\n    private String address;\r\n    private String city;\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;name=&quot; + name +\r\n                &quot;&amp;age=&quot; + age +\r\n                &quot;&amp;address=&quot; + address +\r\n                &quot;&amp;city=&quot; + city;\r\n    }","title":"How to convert a Java object to key-value string","body":"<p>You can override the toString() function to get required format -</p>\n<pre><code>private String name;\nprivate int age;\nprivate String address;\nprivate String city;\n\n@Override\npublic String toString() {\n    return &quot;name=&quot; + name +\n            &quot;&amp;age=&quot; + age +\n            &quot;&amp;address=&quot; + address +\n            &quot;&amp;city=&quot; + city;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7291967,"reputation":57515,"user_id":5558072,"accept_rate":100,"display_name":"Youcef LAIDANI"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1673519960,"creation_date":1673519960,"answer_id":75095005,"question_id":75094820,"body_markdown":"I would go with the proposition of @Thomas where you can use for example:\r\n\r\n    ObjectMapper mapper = new ObjectMapper();\r\n    Map&lt;String, String&gt; map = mapper.convertValue(person, Map.class);\r\n\r\n    String response = map.entrySet().stream()\r\n            .map(entry -&gt; String.format(&quot;%s=%s&quot;, entry.getKey(), entry.getValue()))\r\n            .collect(Collectors.joining(&quot;&amp;&quot;));\r\n\r\n**Outputs**\r\n\r\n    name=John&amp;age=30&amp;address=12st NW Street&amp;city=New York","title":"How to convert a Java object to key-value string","body":"<p>I would go with the proposition of @Thomas where you can use for example:</p>\n<pre><code>ObjectMapper mapper = new ObjectMapper();\nMap&lt;String, String&gt; map = mapper.convertValue(person, Map.class);\n\nString response = map.entrySet().stream()\n        .map(entry -&gt; String.format(&quot;%s=%s&quot;, entry.getKey(), entry.getValue()))\n        .collect(Collectors.joining(&quot;&amp;&quot;));\n</code></pre>\n<p><strong>Outputs</strong></p>\n<pre><code>name=John&amp;age=30&amp;address=12st NW Street&amp;city=New York\n</code></pre>\n"}],"owner":{"account_id":1176536,"reputation":4384,"user_id":1152410,"accept_rate":89,"display_name":"feco"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":392,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75095005,"answer_count":2,"score":0,"last_activity_date":1673524177,"creation_date":1673519163,"question_id":75094820,"body_markdown":"I have this Java object and I will like to convert it into a key-value string joined by ampersand.\r\n\r\n    private String name;\r\n    private int age;\r\n    private String address;\r\n    private String city;\r\n\r\nConvert into this key-value string.\r\n\r\n    name=John&amp;age=30&amp;address=12st NW Street&amp;city=New York\r\n\r\nI have tried Jackson but I dont want a JSON string.\r\nI have tried URIEncoder but I don&#39;t need it to be encoded.\r\nTried looping each property using reflection, but I guess theres a better way.\r\n\r\nI have considered toString, but I want something more flexible. Because properties name might change.","title":"How to convert a Java object to key-value string","body":"<p>I have this Java object and I will like to convert it into a key-value string joined by ampersand.</p>\n<pre><code>private String name;\nprivate int age;\nprivate String address;\nprivate String city;\n</code></pre>\n<p>Convert into this key-value string.</p>\n<pre><code>name=John&amp;age=30&amp;address=12st NW Street&amp;city=New York\n</code></pre>\n<p>I have tried Jackson but I dont want a JSON string.\nI have tried URIEncoder but I don't need it to be encoded.\nTried looping each property using reflection, but I guess theres a better way.</p>\n<p>I have considered toString, but I want something more flexible. Because properties name might change.</p>\n"},{"tags":["java","unit-testing","jsp","junit"],"answers":[{"tags":[],"owner":{"account_id":1084850,"reputation":2100,"user_id":1080793,"accept_rate":69,"display_name":"Neel"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1393277704,"creation_date":1393277704,"answer_id":21999516,"question_id":10911090,"body_markdown":"the Java EE maven dependencies only provides stubs to help compile code which requires those interfaces. IT doe snot provide the implementation. Hence you cannot run them. You need to either work around to mock the behavior (which might end up refactoring your code a lot), or you need to functionally run the test using a dependency which provides a full implementation of the API&#39;s.\r\nMaybe [this answer][1] might help.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/3424207/testing-against-java-ee-6-api?rq=1","title":"How to unit-test JSP Tags?","body":"<p>the Java EE maven dependencies only provides stubs to help compile code which requires those interfaces. IT doe snot provide the implementation. Hence you cannot run them. You need to either work around to mock the behavior (which might end up refactoring your code a lot), or you need to functionally run the test using a dependency which provides a full implementation of the API's.\nMaybe <a href=\"https://stackoverflow.com/questions/3424207/testing-against-java-ee-6-api?rq=1\">this answer</a> might help.</p>\n"},{"tags":[],"owner":{"account_id":50986,"reputation":895,"user_id":152229,"accept_rate":100,"display_name":"vishal"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1456495821,"creation_date":1393278720,"answer_id":21999818,"question_id":10911090,"body_markdown":"Neel is right. You need to mock the ServletContext if you don&#39;t want to use the full javaee.jar.\r\n\r\n\r\n  [1]: http://blog.code-adept.com/2008/01/25/unit-testing-jsp-custom-tags/","title":"How to unit-test JSP Tags?","body":"<p>Neel is right. You need to mock the ServletContext if you don't want to use the full javaee.jar.</p>\n"},{"tags":[],"owner":{"account_id":211632,"reputation":1403,"user_id":463918,"display_name":"Gorky"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1445546279,"creation_date":1445546279,"answer_id":33290297,"question_id":10911090,"body_markdown":"You can use mockito and or power mock to mock servlet context and jsp page context. Mock each method that your tag calls to properly function(doTag). You need to add the mocking framework and javax.el as test dependencies.","title":"How to unit-test JSP Tags?","body":"<p>You can use mockito and or power mock to mock servlet context and jsp page context. Mock each method that your tag calls to properly function(doTag). You need to add the mocking framework and javax.el as test dependencies.</p>\n"},{"tags":[],"owner":{"account_id":403585,"reputation":2211,"user_id":771431,"accept_rate":70,"display_name":"xonya"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673524138,"creation_date":1673524138,"answer_id":75095894,"question_id":10911090,"body_markdown":"If you are using Spring Test you can do it in the following way:\r\n\r\n```java\r\npublic class MyCustomTagTest {\r\n\r\n    private MockServletContext mockServletContext;\r\n    private MockPageContext mockPageContext;\r\n\r\n    @BeforeEach\r\n    void setUp() {\r\n        mockServletContext = new MockServletContext();\r\n        mockPageContext = new MockPageContext(mockServletContext);\r\n    }\r\n\r\n    @Test\r\n    void testMyTag() throws Exception {\r\n        MyCustomTag myCustomTag = new MyCustomTag();\r\n        myCustomTag.setPageContext(mockPageContext);\r\n        myCustomTag.doStartTag();\r\n\r\n        String output = ((MockHttpServletResponse) mockPageContext.getResponse()).getContentAsString();\r\n\r\n        // do your assertions on output\r\n    }\r\n}\r\n```","title":"How to unit-test JSP Tags?","body":"<p>If you are using Spring Test you can do it in the following way:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MyCustomTagTest {\n\n    private MockServletContext mockServletContext;\n    private MockPageContext mockPageContext;\n\n    @BeforeEach\n    void setUp() {\n        mockServletContext = new MockServletContext();\n        mockPageContext = new MockPageContext(mockServletContext);\n    }\n\n    @Test\n    void testMyTag() throws Exception {\n        MyCustomTag myCustomTag = new MyCustomTag();\n        myCustomTag.setPageContext(mockPageContext);\n        myCustomTag.doStartTag();\n\n        String output = ((MockHttpServletResponse) mockPageContext.getResponse()).getContentAsString();\n\n        // do your assertions on output\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":981262,"reputation":2834,"user_id":1000918,"accept_rate":82,"display_name":"Queequeg"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3777,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":4,"score":5,"last_activity_date":1673524138,"creation_date":1338973062,"question_id":10911090,"body_markdown":"I have a custom JSP tag\r\n\r\n    public class HappyTag extends TagSupport { ... }\r\n\r\nand now I need to test it.\r\n\r\nSo I&#39;ve created a simple JUnit test:\r\n\r\n    @Test\r\n    public void testTag() {\r\n        HappyTag tag = new HappyTag();\r\n    }\r\n\r\nand I get the following error:\r\n\r\n    java.lang.ClassFormatError: Absent Code attribute in method that is not native or abstract in class file javax/servlet/jsp/tagext/TagSupport\r\n\tat java.lang.ClassLoader.defineClass1(Native Method)\r\n\tat java.lang.ClassLoader.defineClassCond(ClassLoader.java:631)\r\n\tat java.lang.ClassLoader.defineClass(ClassLoader.java:615)\r\n\tat java.security.SecureClassLoader.defineClass(SecureClassLoader.java:141)\r\n\tat java.net.URLClassLoader.defineClass(URLClassLoader.java:283)\r\n\tat java.net.URLClassLoader.access$000(URLClassLoader.java:58)\r\n\t(.....)\r\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:306)\r\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:247)\r\n\r\nI am using maven to build and test my application, tags included.\r\nMy current dependencies of the tags sub-module are:\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n        &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;commons-collections&lt;/groupId&gt;\r\n            &lt;artifactId&gt;commons-collections&lt;/artifactId&gt;\r\n            &lt;version&gt;3.2.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javaee-api&lt;/artifactId&gt;\r\n            &lt;version&gt;6.0-SNAPSHOT&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n    &lt;/dependencies&gt;\r\n\r\nplus some dependencies from the parent module:\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n       &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n            &lt;artifactId&gt;servlet-api&lt;/artifactId&gt;\r\n            &lt;version&gt;2.5&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.servlet.jsp&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jsp-api&lt;/artifactId&gt;\r\n            &lt;version&gt;2.1&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jstl&lt;/artifactId&gt;\r\n            &lt;version&gt;1.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.portlet&lt;/groupId&gt;\r\n            &lt;artifactId&gt;portlet-api&lt;/artifactId&gt;\r\n            &lt;version&gt;2.0&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.portletfaces&lt;/groupId&gt;\r\n            &lt;artifactId&gt;portletfaces-bridge-impl&lt;/artifactId&gt;\r\n            &lt;version&gt;2.0.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.el&lt;/groupId&gt;\r\n            &lt;artifactId&gt;el-api&lt;/artifactId&gt;\r\n            &lt;version&gt;2.2&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.glassfish.web&lt;/groupId&gt;\r\n            &lt;artifactId&gt;el-impl&lt;/artifactId&gt;\r\n            &lt;version&gt;2.2&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\nThose dependencies are enough to compile and use the tags in my JSP. They are not enough to test the tag :-(\r\n\r\nSo, what did I do wrong?\r\n\r\nKindest regards,&lt;br/&gt;\r\nQ.\r\n\r\n","title":"How to unit-test JSP Tags?","body":"<p>I have a custom JSP tag</p>\n\n<pre><code>public class HappyTag extends TagSupport { ... }\n</code></pre>\n\n<p>and now I need to test it.</p>\n\n<p>So I've created a simple JUnit test:</p>\n\n<pre><code>@Test\npublic void testTag() {\n    HappyTag tag = new HappyTag();\n}\n</code></pre>\n\n<p>and I get the following error:</p>\n\n<pre><code>java.lang.ClassFormatError: Absent Code attribute in method that is not native or abstract in class file javax/servlet/jsp/tagext/TagSupport\nat java.lang.ClassLoader.defineClass1(Native Method)\nat java.lang.ClassLoader.defineClassCond(ClassLoader.java:631)\nat java.lang.ClassLoader.defineClass(ClassLoader.java:615)\nat java.security.SecureClassLoader.defineClass(SecureClassLoader.java:141)\nat java.net.URLClassLoader.defineClass(URLClassLoader.java:283)\nat java.net.URLClassLoader.access$000(URLClassLoader.java:58)\n(.....)\nat java.lang.ClassLoader.loadClass(ClassLoader.java:306)\nat java.lang.ClassLoader.loadClass(ClassLoader.java:247)\n</code></pre>\n\n<p>I am using maven to build and test my application, tags included.\nMy current dependencies of the tags sub-module are:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;commons-collections&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-collections&lt;/artifactId&gt;\n        &lt;version&gt;3.2.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax&lt;/groupId&gt;\n        &lt;artifactId&gt;javaee-api&lt;/artifactId&gt;\n        &lt;version&gt;6.0-SNAPSHOT&lt;/version&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n&lt;/dependencies&gt;\n</code></pre>\n\n<p>plus some dependencies from the parent module:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>   &lt;dependency&gt;\n        &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n        &lt;artifactId&gt;servlet-api&lt;/artifactId&gt;\n        &lt;version&gt;2.5&lt;/version&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.servlet.jsp&lt;/groupId&gt;\n        &lt;artifactId&gt;jsp-api&lt;/artifactId&gt;\n        &lt;version&gt;2.1&lt;/version&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n        &lt;artifactId&gt;jstl&lt;/artifactId&gt;\n        &lt;version&gt;1.2&lt;/version&gt;\n    &lt;/dependency&gt;\n\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.portlet&lt;/groupId&gt;\n        &lt;artifactId&gt;portlet-api&lt;/artifactId&gt;\n        &lt;version&gt;2.0&lt;/version&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.portletfaces&lt;/groupId&gt;\n        &lt;artifactId&gt;portletfaces-bridge-impl&lt;/artifactId&gt;\n        &lt;version&gt;2.0.0&lt;/version&gt;\n    &lt;/dependency&gt;\n\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.el&lt;/groupId&gt;\n        &lt;artifactId&gt;el-api&lt;/artifactId&gt;\n        &lt;version&gt;2.2&lt;/version&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.glassfish.web&lt;/groupId&gt;\n        &lt;artifactId&gt;el-impl&lt;/artifactId&gt;\n        &lt;version&gt;2.2&lt;/version&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n</code></pre>\n\n<p>Those dependencies are enough to compile and use the tags in my JSP. They are not enough to test the tag :-(</p>\n\n<p>So, what did I do wrong?</p>\n\n<p>Kindest regards,<br/>\nQ.</p>\n"},{"tags":["java","barcode","fedex"],"answers":[{"tags":[],"owner":{"account_id":4750121,"reputation":51,"user_id":3840367,"display_name":"Tibor Tompa"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1501838729,"creation_date":1499174042,"answer_id":44907055,"question_id":36865729,"body_markdown":"You were right, you need to use those 2 label format types. When it comes to LTL Freight shipment request, the *&quot;Barcode Height missing from Custom Barcode Entry&quot;* can be returned when using `COMMON2D` or `LABEL_DATA_ONLY`. As per FedEx support, the FedEx LTL shipments require a Bill-Of-Lading (BOL) and the only `LabelFormatTypes` available for this are either the `FEDEX_FREIGHT_STRAIGHT_BILL_OF_LADING` or `VICS_BILL_OF_LADING where VICS` = Voluntary Inter-Industry Commerce Standards. \r\nThis label is returned in PDF format, besides that you can request a FedEx Address Label in ZPL format.","title":"Barcode Height missing from Custom Barcode Entry","body":"<p>You were right, you need to use those 2 label format types. When it comes to LTL Freight shipment request, the <em>\"Barcode Height missing from Custom Barcode Entry\"</em> can be returned when using <code>COMMON2D</code> or <code>LABEL_DATA_ONLY</code>. As per FedEx support, the FedEx LTL shipments require a Bill-Of-Lading (BOL) and the only <code>LabelFormatTypes</code> available for this are either the <code>FEDEX_FREIGHT_STRAIGHT_BILL_OF_LADING</code> or <code>VICS_BILL_OF_LADING where VICS</code> = Voluntary Inter-Industry Commerce Standards. \nThis label is returned in PDF format, besides that you can request a FedEx Address Label in ZPL format.</p>\n"}],"owner":{"account_id":1178354,"reputation":570,"user_id":1153808,"accept_rate":50,"display_name":"Syed Muhammad Umair"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":297,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1673524011,"creation_date":1461675680,"question_id":36865729,"body_markdown":"I am integrating FedEx shipping API to generate labels using Java. Everything is working fine, but except for this issue. I am receiving the following error when setting `LabelFormatType` to `COMMON2D` or `LABEL_DATA_ONLY` for FedEx Freight i.e `FEDEX_FREIGHT_ECONOMY` and `FEDEX_FREIGHT_PRIORITY`.\r\n\r\n            &lt;Code&gt;6022&lt;/Code&gt;\r\n            &lt;Message&gt;Barcode Height missing from Custom Barcode Entry&lt;/Message&gt;\r\n\r\nI did try to add Barcode height in fields below, but its not working\r\n\r\n    RequestedShipment -&gt; ShippingDocumentSpecification -&gt; CustomShipmentDocumentDetail -&gt; CustomContent -&gt; BarcodeEntries -&gt; BarHeight\r\n\r\n    RequestedShipment -&gt; ShippingDocumentSpecification -&gt; CustomPackageDocumentDetail -&gt; CustomContent -&gt; BarcodeEntries -&gt; BarHeight\r\n\r\n    RequestedShipment -&gt; ShippingDocumentSpecification -&gt; FreightAddressLabelDetail -&gt; CustomContent -&gt; BarcodeEntries -&gt; BarHeight\r\n\r\n    RequestedShipment -&gt; LabelSpecification -&gt; CustomerSpecifiedDetail -&gt; CustomContent -&gt; BarcodeEntries -&gt; BarHeight\r\n\r\nNote: The code is working for other two `LabelFormatType`i.e `FEDEX_FREIGHT_STRAIGHT_BILL_OF_LADING` and `VICS_BILL_OF_LADING` and other `ServiceTypes`.\r\n\r\nI am unable to find any solution yet.\r\n\r\nPlease let me know what am I missing ?","title":"Barcode Height missing from Custom Barcode Entry","body":"<p>I am integrating FedEx shipping API to generate labels using Java. Everything is working fine, but except for this issue. I am receiving the following error when setting <code>LabelFormatType</code> to <code>COMMON2D</code> or <code>LABEL_DATA_ONLY</code> for FedEx Freight i.e <code>FEDEX_FREIGHT_ECONOMY</code> and <code>FEDEX_FREIGHT_PRIORITY</code>.</p>\n\n<pre><code>        &lt;Code&gt;6022&lt;/Code&gt;\n        &lt;Message&gt;Barcode Height missing from Custom Barcode Entry&lt;/Message&gt;\n</code></pre>\n\n<p>I did try to add Barcode height in fields below, but its not working</p>\n\n<pre><code>RequestedShipment -&gt; ShippingDocumentSpecification -&gt; CustomShipmentDocumentDetail -&gt; CustomContent -&gt; BarcodeEntries -&gt; BarHeight\n\nRequestedShipment -&gt; ShippingDocumentSpecification -&gt; CustomPackageDocumentDetail -&gt; CustomContent -&gt; BarcodeEntries -&gt; BarHeight\n\nRequestedShipment -&gt; ShippingDocumentSpecification -&gt; FreightAddressLabelDetail -&gt; CustomContent -&gt; BarcodeEntries -&gt; BarHeight\n\nRequestedShipment -&gt; LabelSpecification -&gt; CustomerSpecifiedDetail -&gt; CustomContent -&gt; BarcodeEntries -&gt; BarHeight\n</code></pre>\n\n<p>Note: The code is working for other two <code>LabelFormatType</code>i.e <code>FEDEX_FREIGHT_STRAIGHT_BILL_OF_LADING</code> and <code>VICS_BILL_OF_LADING</code> and other <code>ServiceTypes</code>.</p>\n\n<p>I am unable to find any solution yet.</p>\n\n<p>Please let me know what am I missing ?</p>\n"},{"tags":["java","generics","java-8","java-11"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1673523997,"post_id":75095817,"comment_id":132520965,"body_markdown":"You can&#39;t due to type erasure etc. However, you can do something like `getW(Class&lt;T&gt; type)` and then use `type` for the cast.","body":"You can&#39;t due to type erasure etc. However, you can do something like <code>getW(Class&lt;T&gt; type)</code> and then use <code>type</code> for the cast."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":0,"creation_date":1673625987,"post_id":75095817,"comment_id":132548528,"body_markdown":"If you method always returns a `String`, it is not generic.","body":"If you method always returns a <code>String</code>, it is not generic."}],"owner":{"account_id":12346942,"reputation":115,"user_id":9007452,"display_name":"John Friday"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1673523955,"answer_count":0,"score":1,"last_activity_date":1673523964,"creation_date":1673523776,"question_id":75095817,"body_markdown":"I have an example generic method. How to execute class keyword on generic type **T** like below?\r\n\r\n    import java.util.Arrays;\r\n    public class BaseTag {\r\n        public &lt;T&gt; T getW() {\r\n            String[] arr = {&quot;A&quot;, &quot;B&quot;, &quot;C&quot;};\r\n            return Arrays.stream(arr)\r\n                    // .filter(arg -&gt; T.class.isAssignableFrom(arg.getClass()))     // another example\r\n                    .map(T.class::cast)\r\n                    .findFirst()\r\n                    .orElse(null);\r\n        }\r\n    }","title":"How to execute class on generic type in java","body":"<p>I have an example generic method. How to execute class keyword on generic type <strong>T</strong> like below?</p>\n<pre><code>import java.util.Arrays;\npublic class BaseTag {\n    public &lt;T&gt; T getW() {\n        String[] arr = {&quot;A&quot;, &quot;B&quot;, &quot;C&quot;};\n        return Arrays.stream(arr)\n                // .filter(arg -&gt; T.class.isAssignableFrom(arg.getClass()))     // another example\n                .map(T.class::cast)\n                .findFirst()\n                .orElse(null);\n    }\n}\n</code></pre>\n"},{"tags":["java","code-analysis","checkstyle","eclipse-jdt"],"answers":[{"comments":[{"owner":{"account_id":2126705,"reputation":91,"user_id":1888652,"accept_rate":100,"display_name":"Xiansong"},"score":0,"creation_date":1372252002,"post_id":17307476,"comment_id":25123056,"body_markdown":"Yes, Checkstyle&#39;s AST are based on ANTLR library. I found I am quite comfortable with Javaparser project, it has cleaner APIs than Eclipse JDT, but it basically meets my requirements. I have decided to use Visitors pattern to traverse the ASTs and get information to fill my own metric.","body":"Yes, Checkstyle&#39;s AST are based on ANTLR library. I found I am quite comfortable with Javaparser project, it has cleaner APIs than Eclipse JDT, but it basically meets my requirements. I have decided to use Visitors pattern to traverse the ASTs and get information to fill my own metric."},{"owner":{"account_id":2126705,"reputation":91,"user_id":1888652,"accept_rate":100,"display_name":"Xiansong"},"score":0,"creation_date":1372264857,"post_id":17307476,"comment_id":25131633,"body_markdown":"Of course, the only thing I want to take from Checkstyle is the way it calculates some metric indicators.","body":"Of course, the only thing I want to take from Checkstyle is the way it calculates some metric indicators."}],"tags":[],"owner":{"account_id":987285,"reputation":17009,"user_id":1005481,"accept_rate":89,"display_name":"barfuin"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1372194224,"creation_date":1372194224,"answer_id":17307476,"question_id":17274507,"body_markdown":"Well ... Checkstyle isn&#39;t really meant to be a toolkit for building third-party static code analysis tools. I would suggest taking a look at the [ANTLR][1] project instead. It&#39;s a really good Java parser which may already do what you need.\r\n\r\nCheckstyle uses ANTLR under the hood. You can take a look at how they do it by downloading the [Checkstyle sources][2]. This also reveals the logic behind their cyclomatic complexity implementation.\r\n\r\nHowever, it is generally possible to use Checkstyle as a framework for something not Checkstyle. You could do that by [writing a Checkstyle check][3], which basically means writing a subclass of `Check`. Then you can configure Checkstyle to run your class as explained in the link.&lt;br&gt;\r\nIf you want to simply gather metrics generated by Checkstyle to use in your own application on top of Checkstyle, then I would suggest you run Checkstyle normally and evaluate its report, e.g. by implementing a [listener][4] or by parsing Checkstyle&#39;s XML output created by calling it with the `-f xml` [command line option][5].\r\n\r\n*P.S.* From your reference to JDT AST I am assuming you are using Java. If so, you may want to add the [tag:java] tag to your question to get more answers.\r\n\r\n\r\n  [1]: http://www.antlr.org/\r\n  [2]: http://sourceforge.net/projects/checkstyle/files/checkstyle/5.6/\r\n  [3]: http://checkstyle.sourceforge.net/writingchecks.html\r\n  [4]: http://checkstyle.sourceforge.net/writinglisteners.html\r\n  [5]: http://checkstyle.sourceforge.net/cmdline.html","title":"CheckStyle API usage without Check Rules","body":"<p>Well ... Checkstyle isn't really meant to be a toolkit for building third-party static code analysis tools. I would suggest taking a look at the <a href=\"http://www.antlr.org/\" rel=\"nofollow\">ANTLR</a> project instead. It's a really good Java parser which may already do what you need.</p>\n\n<p>Checkstyle uses ANTLR under the hood. You can take a look at how they do it by downloading the <a href=\"http://sourceforge.net/projects/checkstyle/files/checkstyle/5.6/\" rel=\"nofollow\">Checkstyle sources</a>. This also reveals the logic behind their cyclomatic complexity implementation.</p>\n\n<p>However, it is generally possible to use Checkstyle as a framework for something not Checkstyle. You could do that by <a href=\"http://checkstyle.sourceforge.net/writingchecks.html\" rel=\"nofollow\">writing a Checkstyle check</a>, which basically means writing a subclass of <code>Check</code>. Then you can configure Checkstyle to run your class as explained in the link.<br>\nIf you want to simply gather metrics generated by Checkstyle to use in your own application on top of Checkstyle, then I would suggest you run Checkstyle normally and evaluate its report, e.g. by implementing a <a href=\"http://checkstyle.sourceforge.net/writinglisteners.html\" rel=\"nofollow\">listener</a> or by parsing Checkstyle's XML output created by calling it with the <code>-f xml</code> <a href=\"http://checkstyle.sourceforge.net/cmdline.html\" rel=\"nofollow\">command line option</a>.</p>\n\n<p><em>P.S.</em> From your reference to JDT AST I am assuming you are using Java. If so, you may want to add the <a href=\"/questions/tagged/java\" class=\"post-tag\" title=\"show questions tagged 'java'\" rel=\"tag\">java</a> tag to your question to get more answers.</p>\n"}],"owner":{"account_id":2126705,"reputation":91,"user_id":1888652,"accept_rate":100,"display_name":"Xiansong"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":318,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":17307476,"answer_count":1,"score":1,"last_activity_date":1673523766,"creation_date":1372073710,"question_id":17274507,"body_markdown":"Anyone knows how to use Checkstyle API in standalone Java project to access information about AST or Cyclomatic number about a java file or project?\r\n\r\nBecause what I found are all about using it as a whole and defined rules for evaluation, but I only need to retrieve the statistical information programmatically without using evaluation.\r\nI know that using JDT AST is OK for this, but it doesn&#39;t provide those functions for calculating some metrics.","title":"CheckStyle API usage without Check Rules","body":"<p>Anyone knows how to use Checkstyle API in standalone Java project to access information about AST or Cyclomatic number about a java file or project?</p>\n<p>Because what I found are all about using it as a whole and defined rules for evaluation, but I only need to retrieve the statistical information programmatically without using evaluation.\nI know that using JDT AST is OK for this, but it doesn't provide those functions for calculating some metrics.</p>\n"},{"tags":["java","maven","jakarta-migration"],"comments":[{"owner":{"account_id":551394,"reputation":8315,"user_id":916225,"accept_rate":69,"display_name":"seenukarthi"},"score":0,"creation_date":1671727863,"post_id":74891345,"comment_id":132164872,"body_markdown":"You need Spring Boot 3.0.0 for `jakarta.servlet` support. Also, Spring Boot 3.0.0 requires Java 17.","body":"You need Spring Boot 3.0.0 for <code>jakarta.servlet</code> support. Also, Spring Boot 3.0.0 requires Java 17."},{"owner":{"account_id":15861542,"reputation":65,"user_id":14797453,"display_name":"public_void_kee"},"score":0,"creation_date":1671728114,"post_id":74891345,"comment_id":132164942,"body_markdown":"Gotcha! I am using Java 17 but when I try 3.0.0 I get ```Unsupported targetJdk value &#39;17&#39;```. Any idea what might be up with that? Thanks!","body":"Gotcha! I am using Java 17 but when I try 3.0.0 I get <code>Unsupported targetJdk value &#39;17&#39;</code>. Any idea what might be up with that? Thanks!"},{"owner":{"account_id":14801365,"reputation":376,"user_id":15322661,"display_name":"Rustam"},"score":0,"creation_date":1671728327,"post_id":74891345,"comment_id":132165001,"body_markdown":"at which stage do you fall with `Unsupported targetJdk value &#39;17&#39;`?","body":"at which stage do you fall with <code>Unsupported targetJdk value &#39;17&#39;</code>?"},{"owner":{"account_id":15861542,"reputation":65,"user_id":14797453,"display_name":"public_void_kee"},"score":0,"creation_date":1671728831,"post_id":74891345,"comment_id":132165138,"body_markdown":"PMD. I tried what this suggests: https://maven.apache.org/plugins/maven-pmd-plugin/examples/upgrading-PMD-at-runtime.html to no avail. It results in the same ```cannot access jakarta.servlet.Filter``` error. I can add my plugins section to the post.","body":"PMD. I tried what this suggests: <a href=\"https://maven.apache.org/plugins/maven-pmd-plugin/examples/upgrading-PMD-at-runtime.html\" rel=\"nofollow noreferrer\">maven.apache.org/plugins/maven-pmd-plugin/examples/&hellip;</a> to no avail. It results in the same <code>cannot access jakarta.servlet.Filter</code> error. I can add my plugins section to the post."},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1671747074,"post_id":74891345,"comment_id":132169958,"body_markdown":"as I don&#39;t see a version number for the pmd plugin, probably you should try to specify a recent version of it (3.19.0 is the most recent one at the time I write this comment). And btw: you could drop all those group definitions for mavens own plugins.","body":"as I don&#39;t see a version number for the pmd plugin, probably you should try to specify a recent version of it (3.19.0 is the most recent one at the time I write this comment). And btw: you could drop all those group definitions for mavens own plugins."},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1671747250,"post_id":74891345,"comment_id":132170000,"body_markdown":"but if it&#39;s really about PMD, you probably should ask a new version here and tag it accordingly","body":"but if it&#39;s really about PMD, you probably should ask a new version here and tag it accordingly"},{"owner":{"account_id":15861542,"reputation":65,"user_id":14797453,"display_name":"public_void_kee"},"score":0,"creation_date":1672241940,"post_id":74891345,"comment_id":132249826,"body_markdown":"I think the ```Unsupported targetJdk value &#39;17&#39;``` problem was solved by updating intelliJ from 2020 to 2022. As for the ```jakarta.servlet.Filter``` error, I don&#39;t think it&#39;s a PMD problem, I specified the version number and it seems to have made no difference. Also thanks for the advice!","body":"I think the <code>Unsupported targetJdk value &#39;17&#39;</code> problem was solved by updating intelliJ from 2020 to 2022. As for the <code>jakarta.servlet.Filter</code> error, I don&#39;t think it&#39;s a PMD problem, I specified the version number and it seems to have made no difference. Also thanks for the advice!"}],"owner":{"account_id":15861542,"reputation":65,"user_id":14797453,"display_name":"public_void_kee"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3011,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1673523303,"creation_date":1671726800,"question_id":74891345,"body_markdown":"Getting the error ```cannot access jakarta.servlet.Filter``` when running ```mvn clean install``` and getting \r\n```class file for jakarta.servlet.Filter not found``` when trying to run. This seems to have started after moving from javax to jakarta, including updating my classes to use the jakarta namespace instead of the javax namespace, EXCEPT for in the case of javax.servlet, which can&#39;t be replaced with jakarta.servlet in any class because it&#39;s not found. I assume this is because ```mvn clean install``` never finishes due to the error?\r\n\r\n${jackson.Version} is 2.14.0-rc1 and ${springVersion} is 2.7.5\r\n\r\nNOTE: the ```spring-boot-starter-web``` dependency is already present and does not resolve the issue.\r\n\r\n```\r\n&lt;dependencyManagement&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jackson-annotations&lt;/artifactId&gt;\r\n                &lt;version&gt;${jackson.Version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\r\n                &lt;version&gt;${jackson.Version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n                &lt;version&gt;${jackson.Version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.fasterxml.jackson.module&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jackson-modules-java8&lt;/artifactId&gt;\r\n                &lt;version&gt;${jackson.Version}&lt;/version&gt;\r\n                &lt;type&gt;pom&lt;/type&gt;\r\n                &lt;scope&gt;runtime&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.lmax&lt;/groupId&gt;\r\n                &lt;artifactId&gt;disruptor&lt;/artifactId&gt;\r\n                &lt;version&gt;3.4.4&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.vlkan.log4j2&lt;/groupId&gt;\r\n                &lt;artifactId&gt;log4j2-logstash-layout&lt;/artifactId&gt;\r\n                &lt;version&gt;1.0.5&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;jakarta.xml.bind&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jakarta.xml.bind-api&lt;/artifactId&gt;\r\n                &lt;version&gt;4.0.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;jakarta.servlet&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jakarta.servlet-api&lt;/artifactId&gt;\r\n                &lt;version&gt;4.0.4&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;jakarta.validation&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jakarta.validation-api&lt;/artifactId&gt;\r\n                &lt;version&gt;3.0.2&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;jakarta.annotation&lt;/groupId&gt;\r\n                &lt;artifactId&gt;ca-parent&lt;/artifactId&gt;\r\n                &lt;version&gt;1.3.5&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n                &lt;artifactId&gt;commons-csv&lt;/artifactId&gt;\r\n                &lt;version&gt;1.9.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n                &lt;artifactId&gt;commons-text&lt;/artifactId&gt;\r\n                &lt;version&gt;1.10.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\r\n                &lt;artifactId&gt;httpclient&lt;/artifactId&gt;\r\n                &lt;version&gt;4.5.13&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n                &lt;artifactId&gt;log4j-1.2-api&lt;/artifactId&gt;\r\n                &lt;version&gt;${log4j.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n                &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\r\n                &lt;version&gt;${log4j.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n                &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\r\n                &lt;version&gt;${log4j.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n                &lt;artifactId&gt;log4j-jcl&lt;/artifactId&gt;\r\n                &lt;version&gt;${log4j.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n                &lt;artifactId&gt;log4j-jul&lt;/artifactId&gt;\r\n                &lt;version&gt;${log4j.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n                &lt;artifactId&gt;log4j-slf4j-impl&lt;/artifactId&gt;\r\n                &lt;version&gt;${log4j.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.4.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n                &lt;artifactId&gt;poi&lt;/artifactId&gt;\r\n                &lt;version&gt;5.2.2&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n                &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\r\n                &lt;version&gt;5.2.2&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\r\n                &lt;artifactId&gt;tomcat-embed-core&lt;/artifactId&gt;\r\n                &lt;version&gt;9.0.68&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.glassfish.jaxb&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jaxb-runtime&lt;/artifactId&gt;\r\n                &lt;version&gt;2.3.6&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.javers&lt;/groupId&gt;\r\n                &lt;artifactId&gt;javers-spring-boot-starter-mongo&lt;/artifactId&gt;\r\n                &lt;version&gt;6.6.5&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.jeasy&lt;/groupId&gt;\r\n                &lt;artifactId&gt;easy-rules-core&lt;/artifactId&gt;\r\n                &lt;version&gt;4.1.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.jeasy&lt;/groupId&gt;\r\n                &lt;artifactId&gt;easy-rules-support&lt;/artifactId&gt;\r\n                &lt;version&gt;4.1.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n                &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\r\n                &lt;version&gt;1.6.6&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n                &lt;version&gt;${springVersion}&lt;/version&gt;\r\n                &lt;exclusions&gt;\r\n                    &lt;exclusion&gt;\r\n                        &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\r\n                        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                    &lt;/exclusion&gt;\r\n                &lt;/exclusions&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-cache&lt;/artifactId&gt;\r\n                &lt;version&gt;${springVersion}&lt;/version&gt;\r\n                &lt;exclusions&gt;\r\n                    &lt;exclusion&gt;\r\n                        &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\r\n                        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                    &lt;/exclusion&gt;\r\n                &lt;/exclusions&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-log4j2&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-data-mongodb&lt;/artifactId&gt;\r\n                &lt;version&gt;${springVersion}&lt;/version&gt;\r\n                &lt;exclusions&gt;\r\n                    &lt;exclusion&gt;\r\n                        &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\r\n                        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                    &lt;/exclusion&gt;\r\n                &lt;/exclusions&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n                &lt;version&gt;${springVersion}&lt;/version&gt;\r\n                &lt;exclusions&gt;\r\n                    &lt;exclusion&gt;\r\n                        &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\r\n                        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                    &lt;/exclusion&gt;\r\n                &lt;/exclusions&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n                &lt;version&gt;${springVersion}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-web-services&lt;/artifactId&gt;\r\n                &lt;version&gt;${springVersion}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-security-config&lt;/artifactId&gt;\r\n                &lt;version&gt;${spring.security.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-security-core&lt;/artifactId&gt;\r\n                &lt;version&gt;${spring.security.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-security-web&lt;/artifactId&gt;\r\n                &lt;version&gt;${spring.security.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-web&lt;/artifactId&gt;\r\n                &lt;version&gt;6.0.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.yaml&lt;/groupId&gt;\r\n                &lt;artifactId&gt;snakeyaml&lt;/artifactId&gt;\r\n                &lt;version&gt;1.33&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.example.pdp.test&lt;/groupId&gt;\r\n                &lt;artifactId&gt;testing-utils-common-spring&lt;/artifactId&gt;\r\n                &lt;version&gt;2.0.0&lt;/version&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.github.stefanbirkner&lt;/groupId&gt;\r\n                &lt;artifactId&gt;system-rules&lt;/artifactId&gt;\r\n                &lt;version&gt;1.19.0&lt;/version&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n                &lt;artifactId&gt;cucumber-java&lt;/artifactId&gt;\r\n                &lt;version&gt;6.11.0&lt;/version&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n                &lt;artifactId&gt;cucumber-junit&lt;/artifactId&gt;\r\n                &lt;version&gt;6.11.0&lt;/version&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n                &lt;artifactId&gt;cucumber-spring&lt;/artifactId&gt;\r\n                &lt;version&gt;6.11.0&lt;/version&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\r\n                &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\r\n                &lt;version&gt;5.8.2&lt;/version&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n                &lt;exclusions&gt;\r\n                    &lt;exclusion&gt;\r\n                        &lt;groupId&gt;org.hamcrest&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;hamcrest-core&lt;/artifactId&gt;\r\n                    &lt;/exclusion&gt;\r\n                &lt;/exclusions&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n                &lt;version&gt;${springVersion}&lt;/version&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\r\n                &lt;version&gt;${spring.security.version}&lt;/version&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;pl.project13.maven&lt;/groupId&gt;\r\n                &lt;artifactId&gt;git-commit-id-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;4.0.5&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    &lt;/dependencyManagement&gt;\r\n```\r\n\r\nHere&#39;s my plugin section:\r\n```\r\n       &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-enforcer-plugin&lt;/artifactId&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;enforce-versions&lt;/id&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;enforce&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;rules&gt;\r\n                                &lt;requireMavenVersion&gt;\r\n                                    &lt;version&gt;3.3.9&lt;/version&gt;\r\n                                &lt;/requireMavenVersion&gt;\r\n                                &lt;requireJavaVersion&gt;\r\n                                    &lt;version&gt;1.11&lt;/version&gt;\r\n                                &lt;/requireJavaVersion&gt;\r\n                            &lt;/rules&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-jxr-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;destDir&gt;${project.build.directory}/site/sourceRefs&lt;/destDir&gt;\r\n                &lt;/configuration&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;jxr&lt;/goal&gt;\r\n                            &lt;goal&gt;test-jxr&lt;/goal&gt;\r\n                            &lt;goal&gt;aggregate&lt;/goal&gt;\r\n                            &lt;goal&gt;test-aggregate&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;phase&gt;initialize&lt;/phase&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-pmd-plugin&lt;/artifactId&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;phase&gt;compile&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;pmd&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;xrefLocation&gt;${project.build.directory}/site/sourceRefs&lt;/xrefLocation&gt;\r\n                    &lt;aggregate&gt;true&lt;/aggregate&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-javadoc-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;show&gt;private&lt;/show&gt;\r\n                    &lt;nohelp&gt;true&lt;/nohelp&gt;\r\n                    &lt;failOnError&gt;true&lt;/failOnError&gt;\r\n                    &lt;sourceFileExcludes&gt;\r\n                        &lt;exclude&gt;**/idq/**&lt;/exclude&gt;\r\n                    &lt;/sourceFileExcludes&gt;\r\n                &lt;/configuration&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;javadoc-no-fork&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;phase&gt;verify&lt;/phase&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-source-plugin&lt;/artifactId&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;bundle-sources&lt;/id&gt;\r\n                        &lt;phase&gt;package&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;jar-no-fork&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n                &lt;artifactId&gt;buildnumber-maven-plugin&lt;/artifactId&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;phase&gt;initialize&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;create&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;timestampFormat&gt;{0,date,yyyy-MM-dd HH:mm:ss Z}&lt;/timestampFormat&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;archive&gt;\r\n                        &lt;manifestFile&gt;${project.build.outputDirectory}/META-INF/MANIFEST.MF&lt;/manifestFile&gt;\r\n                    &lt;/archive&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;release&gt;17&lt;/release&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;includes&gt;\r\n                        &lt;include&gt;cucumber/**/*&lt;/include&gt;\r\n                    &lt;/includes&gt;\r\n                    &lt;skip&gt;${skipIT}&lt;/skip&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;reuseForks&gt;true&lt;/reuseForks&gt;\r\n                    &lt;argLine&gt;@{argLine} -Xmx1024m --illegal-access=permit&lt;/argLine&gt;\r\n                    &lt;useSystemClassLoader&gt;false&lt;/useSystemClassLoader&gt;\r\n                    &lt;excludes&gt;\r\n                        &lt;exclude&gt;cucumber/**/*&lt;/exclude&gt;\r\n                        &lt;exclude&gt;${sonar.exclusions}&lt;/exclude&gt;\r\n                    &lt;/excludes&gt;\r\n                    &lt;skip&gt;${skipUT}&lt;/skip&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-surefire-report-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;linkXRef&gt;true&lt;/linkXRef&gt;\r\n                    &lt;xrefLocation&gt;${project.build.directory}/site/sourceRefs&lt;/xrefLocation&gt;\r\n                    &lt;aggregate&gt;true&lt;/aggregate&gt;\r\n                &lt;/configuration&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;phase&gt;install&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;report-only&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;excludes&gt;com/example/provider/exampleapi/ApplicationLauncher.java&lt;/excludes&gt;\r\n                &lt;/configuration&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;default-prepare-agent&lt;/id&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;prepare-agent&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;check&lt;/id&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;check&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;rules&gt;\r\n                                &lt;rule&gt;\r\n                                    &lt;element&gt;BUNDLE&lt;/element&gt;\r\n                                    &lt;limits&gt;\r\n                                        &lt;limit&gt;\r\n                                            &lt;counter&gt;CLASS&lt;/counter&gt;\r\n                                            &lt;value&gt;COVEREDRATIO&lt;/value&gt;\r\n                                            &lt;minimum&gt;${code.coverage.requirement}&lt;/minimum&gt;\r\n                                        &lt;/limit&gt;\r\n                                        &lt;limit&gt;\r\n                                            &lt;counter&gt;METHOD&lt;/counter&gt;\r\n                                            &lt;value&gt;COVEREDRATIO&lt;/value&gt;\r\n                                            &lt;minimum&gt;${code.coverage.requirement}&lt;/minimum&gt;\r\n                                        &lt;/limit&gt;\r\n                                        &lt;limit&gt;\r\n                                            &lt;counter&gt;BRANCH&lt;/counter&gt;\r\n                                            &lt;value&gt;COVEREDRATIO&lt;/value&gt;\r\n                                            &lt;minimum&gt;${code.coverage.requirement}&lt;/minimum&gt;\r\n                                        &lt;/limit&gt;\r\n                                        &lt;limit&gt;\r\n                                            &lt;counter&gt;LINE&lt;/counter&gt;\r\n                                            &lt;value&gt;COVEREDRATIO&lt;/value&gt;\r\n                                            &lt;minimum&gt;${code.coverage.requirement}&lt;/minimum&gt;\r\n                                        &lt;/limit&gt;\r\n                                    &lt;/limits&gt;\r\n                                &lt;/rule&gt;\r\n                            &lt;/rules&gt;\r\n                            &lt;skip&gt;${skipUT}&lt;/skip&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;report&lt;/id&gt;\r\n                        &lt;phase&gt;prepare-package&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;report&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-release-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;localCheckout&gt;true&lt;/localCheckout&gt;\r\n                    &lt;pushChanges&gt;false&lt;/pushChanges&gt;\r\n                    &lt;goals&gt;deploy&lt;/goals&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-checkstyle-plugin&lt;/artifactId&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;checkstyle-check-aggregate&lt;/id&gt;\r\n                        &lt;phase&gt;compile&lt;/phase&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;configLocation&gt;/example.checkstyle.xml&lt;/configLocation&gt;\r\n                            &lt;encoding&gt;UTF-8&lt;/encoding&gt;\r\n                            &lt;consoleOutput&gt;true&lt;/consoleOutput&gt;\r\n                            &lt;failsOnError&gt;false&lt;/failsOnError&gt;\r\n                            &lt;enableRSS&gt;false&lt;/enableRSS&gt;\r\n                            &lt;excludes&gt;**/com/example/provider/exampleapi/model/idq/**/*&lt;/excludes&gt;\r\n                        &lt;/configuration&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;checkstyle&lt;/goal&gt;\r\n                            &lt;goal&gt;checkstyle-aggregate&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-site-plugin&lt;/artifactId&gt;\r\n                &lt;goals&gt;\r\n                    &lt;goal&gt;site&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;generateReports&gt;false&lt;/generateReports&gt;\r\n                &lt;/configuration&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;phase&gt;initialize&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;site&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.jvnet.jaxb2.maven2&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-jaxb2-plugin&lt;/artifactId&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;generate&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;schemaLanguage&gt;WSDL&lt;/schemaLanguage&gt;\r\n                    &lt;generatePackage&gt;com.example.exampleapi.model.idq&lt;/generatePackage&gt;\r\n                    &lt;schemas&gt;\r\n                        &lt;schema&gt;\r\n                            &lt;url&gt;\r\n                                https://examplewebservice.example.com/ExampleService/WebService/ws_Rule/\r\n                            &lt;/url&gt;\r\n                        &lt;/schema&gt;\r\n                    &lt;/schemas&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;pl.project13.maven&lt;/groupId&gt;\r\n                &lt;artifactId&gt;git-commit-id-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;offline&gt;true&lt;/offline&gt;\r\n                    &lt;failOnNoGitDirectory&gt;false&lt;/failOnNoGitDirectory&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n```","title":"cannot access jakart.servlet.filter in java maven project","body":"<p>Getting the error <code>cannot access jakarta.servlet.Filter</code> when running <code>mvn clean install</code> and getting\n<code>class file for jakarta.servlet.Filter not found</code> when trying to run. This seems to have started after moving from javax to jakarta, including updating my classes to use the jakarta namespace instead of the javax namespace, EXCEPT for in the case of javax.servlet, which can't be replaced with jakarta.servlet in any class because it's not found. I assume this is because <code>mvn clean install</code> never finishes due to the error?</p>\n<p>${jackson.Version} is 2.14.0-rc1 and ${springVersion} is 2.7.5</p>\n<p>NOTE: the <code>spring-boot-starter-web</code> dependency is already present and does not resolve the issue.</p>\n<pre><code>&lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n                &lt;artifactId&gt;jackson-annotations&lt;/artifactId&gt;\n                &lt;version&gt;${jackson.Version}&lt;/version&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n                &lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\n                &lt;version&gt;${jackson.Version}&lt;/version&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n                &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n                &lt;version&gt;${jackson.Version}&lt;/version&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;com.fasterxml.jackson.module&lt;/groupId&gt;\n                &lt;artifactId&gt;jackson-modules-java8&lt;/artifactId&gt;\n                &lt;version&gt;${jackson.Version}&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;com.lmax&lt;/groupId&gt;\n                &lt;artifactId&gt;disruptor&lt;/artifactId&gt;\n                &lt;version&gt;3.4.4&lt;/version&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;com.vlkan.log4j2&lt;/groupId&gt;\n                &lt;artifactId&gt;log4j2-logstash-layout&lt;/artifactId&gt;\n                &lt;version&gt;1.0.5&lt;/version&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;jakarta.xml.bind&lt;/groupId&gt;\n                &lt;artifactId&gt;jakarta.xml.bind-api&lt;/artifactId&gt;\n                &lt;version&gt;4.0.0&lt;/version&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;jakarta.servlet&lt;/groupId&gt;\n                &lt;artifactId&gt;jakarta.servlet-api&lt;/artifactId&gt;\n                &lt;version&gt;4.0.4&lt;/version&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;jakarta.validation&lt;/groupId&gt;\n                &lt;artifactId&gt;jakarta.validation-api&lt;/artifactId&gt;\n                &lt;version&gt;3.0.2&lt;/version&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;jakarta.annotation&lt;/groupId&gt;\n                &lt;artifactId&gt;ca-parent&lt;/artifactId&gt;\n                &lt;version&gt;1.3.5&lt;/version&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n                &lt;artifactId&gt;commons-csv&lt;/artifactId&gt;\n                &lt;version&gt;1.9.0&lt;/version&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n                &lt;artifactId&gt;commons-text&lt;/artifactId&gt;\n                &lt;version&gt;1.10.0&lt;/version&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\n                &lt;artifactId&gt;httpclient&lt;/artifactId&gt;\n                &lt;version&gt;4.5.13&lt;/version&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n                &lt;artifactId&gt;log4j-1.2-api&lt;/artifactId&gt;\n                &lt;version&gt;${log4j.version}&lt;/version&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n                &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\n                &lt;version&gt;${log4j.version}&lt;/version&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n                &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\n                &lt;version&gt;${log4j.version}&lt;/version&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n                &lt;artifactId&gt;log4j-jcl&lt;/artifactId&gt;\n                &lt;version&gt;${log4j.version}&lt;/version&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n                &lt;artifactId&gt;log4j-jul&lt;/artifactId&gt;\n                &lt;version&gt;${log4j.version}&lt;/version&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n                &lt;artifactId&gt;log4j-slf4j-impl&lt;/artifactId&gt;\n                &lt;version&gt;${log4j.version}&lt;/version&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.4.0&lt;/version&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n                &lt;artifactId&gt;poi&lt;/artifactId&gt;\n                &lt;version&gt;5.2.2&lt;/version&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n                &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\n                &lt;version&gt;5.2.2&lt;/version&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\n                &lt;artifactId&gt;tomcat-embed-core&lt;/artifactId&gt;\n                &lt;version&gt;9.0.68&lt;/version&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.glassfish.jaxb&lt;/groupId&gt;\n                &lt;artifactId&gt;jaxb-runtime&lt;/artifactId&gt;\n                &lt;version&gt;2.3.6&lt;/version&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.javers&lt;/groupId&gt;\n                &lt;artifactId&gt;javers-spring-boot-starter-mongo&lt;/artifactId&gt;\n                &lt;version&gt;6.6.5&lt;/version&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.jeasy&lt;/groupId&gt;\n                &lt;artifactId&gt;easy-rules-core&lt;/artifactId&gt;\n                &lt;version&gt;4.1.0&lt;/version&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.jeasy&lt;/groupId&gt;\n                &lt;artifactId&gt;easy-rules-support&lt;/artifactId&gt;\n                &lt;version&gt;4.1.0&lt;/version&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n                &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\n                &lt;version&gt;1.6.6&lt;/version&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n                &lt;version&gt;${springVersion}&lt;/version&gt;\n                &lt;exclusions&gt;\n                    &lt;exclusion&gt;\n                        &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\n                        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                    &lt;/exclusion&gt;\n                &lt;/exclusions&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-starter-cache&lt;/artifactId&gt;\n                &lt;version&gt;${springVersion}&lt;/version&gt;\n                &lt;exclusions&gt;\n                    &lt;exclusion&gt;\n                        &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\n                        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                    &lt;/exclusion&gt;\n                &lt;/exclusions&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-starter-log4j2&lt;/artifactId&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-starter-data-mongodb&lt;/artifactId&gt;\n                &lt;version&gt;${springVersion}&lt;/version&gt;\n                &lt;exclusions&gt;\n                    &lt;exclusion&gt;\n                        &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\n                        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                    &lt;/exclusion&gt;\n                &lt;/exclusions&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n                &lt;version&gt;${springVersion}&lt;/version&gt;\n                &lt;exclusions&gt;\n                    &lt;exclusion&gt;\n                        &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\n                        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                    &lt;/exclusion&gt;\n                &lt;/exclusions&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n                &lt;version&gt;${springVersion}&lt;/version&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-starter-web-services&lt;/artifactId&gt;\n                &lt;version&gt;${springVersion}&lt;/version&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-security-config&lt;/artifactId&gt;\n                &lt;version&gt;${spring.security.version}&lt;/version&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-security-core&lt;/artifactId&gt;\n                &lt;version&gt;${spring.security.version}&lt;/version&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-security-web&lt;/artifactId&gt;\n                &lt;version&gt;${spring.security.version}&lt;/version&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-web&lt;/artifactId&gt;\n                &lt;version&gt;6.0.0&lt;/version&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.yaml&lt;/groupId&gt;\n                &lt;artifactId&gt;snakeyaml&lt;/artifactId&gt;\n                &lt;version&gt;1.33&lt;/version&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;com.example.pdp.test&lt;/groupId&gt;\n                &lt;artifactId&gt;testing-utils-common-spring&lt;/artifactId&gt;\n                &lt;version&gt;2.0.0&lt;/version&gt;\n                &lt;scope&gt;test&lt;/scope&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;com.github.stefanbirkner&lt;/groupId&gt;\n                &lt;artifactId&gt;system-rules&lt;/artifactId&gt;\n                &lt;version&gt;1.19.0&lt;/version&gt;\n                &lt;scope&gt;test&lt;/scope&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n                &lt;artifactId&gt;cucumber-java&lt;/artifactId&gt;\n                &lt;version&gt;6.11.0&lt;/version&gt;\n                &lt;scope&gt;test&lt;/scope&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n                &lt;artifactId&gt;cucumber-junit&lt;/artifactId&gt;\n                &lt;version&gt;6.11.0&lt;/version&gt;\n                &lt;scope&gt;test&lt;/scope&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n                &lt;artifactId&gt;cucumber-spring&lt;/artifactId&gt;\n                &lt;version&gt;6.11.0&lt;/version&gt;\n                &lt;scope&gt;test&lt;/scope&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\n                &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\n                &lt;version&gt;5.8.2&lt;/version&gt;\n                &lt;scope&gt;test&lt;/scope&gt;\n                &lt;exclusions&gt;\n                    &lt;exclusion&gt;\n                        &lt;groupId&gt;org.hamcrest&lt;/groupId&gt;\n                        &lt;artifactId&gt;hamcrest-core&lt;/artifactId&gt;\n                    &lt;/exclusion&gt;\n                &lt;/exclusions&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n                &lt;version&gt;${springVersion}&lt;/version&gt;\n                &lt;scope&gt;test&lt;/scope&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\n                &lt;version&gt;${spring.security.version}&lt;/version&gt;\n                &lt;scope&gt;test&lt;/scope&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;pl.project13.maven&lt;/groupId&gt;\n                &lt;artifactId&gt;git-commit-id-plugin&lt;/artifactId&gt;\n                &lt;version&gt;4.0.5&lt;/version&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n</code></pre>\n<p>Here's my plugin section:</p>\n<pre><code>       &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-enforcer-plugin&lt;/artifactId&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;enforce-versions&lt;/id&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;enforce&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;rules&gt;\n                                &lt;requireMavenVersion&gt;\n                                    &lt;version&gt;3.3.9&lt;/version&gt;\n                                &lt;/requireMavenVersion&gt;\n                                &lt;requireJavaVersion&gt;\n                                    &lt;version&gt;1.11&lt;/version&gt;\n                                &lt;/requireJavaVersion&gt;\n                            &lt;/rules&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-jxr-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;destDir&gt;${project.build.directory}/site/sourceRefs&lt;/destDir&gt;\n                &lt;/configuration&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;jxr&lt;/goal&gt;\n                            &lt;goal&gt;test-jxr&lt;/goal&gt;\n                            &lt;goal&gt;aggregate&lt;/goal&gt;\n                            &lt;goal&gt;test-aggregate&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;phase&gt;initialize&lt;/phase&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-pmd-plugin&lt;/artifactId&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;phase&gt;compile&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;pmd&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n                &lt;configuration&gt;\n                    &lt;xrefLocation&gt;${project.build.directory}/site/sourceRefs&lt;/xrefLocation&gt;\n                    &lt;aggregate&gt;true&lt;/aggregate&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-javadoc-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;show&gt;private&lt;/show&gt;\n                    &lt;nohelp&gt;true&lt;/nohelp&gt;\n                    &lt;failOnError&gt;true&lt;/failOnError&gt;\n                    &lt;sourceFileExcludes&gt;\n                        &lt;exclude&gt;**/idq/**&lt;/exclude&gt;\n                    &lt;/sourceFileExcludes&gt;\n                &lt;/configuration&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;javadoc-no-fork&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;phase&gt;verify&lt;/phase&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-source-plugin&lt;/artifactId&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;bundle-sources&lt;/id&gt;\n                        &lt;phase&gt;package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;jar-no-fork&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n                &lt;artifactId&gt;buildnumber-maven-plugin&lt;/artifactId&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;phase&gt;initialize&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;create&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n                &lt;configuration&gt;\n                    &lt;timestampFormat&gt;{0,date,yyyy-MM-dd HH:mm:ss Z}&lt;/timestampFormat&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;archive&gt;\n                        &lt;manifestFile&gt;${project.build.outputDirectory}/META-INF/MANIFEST.MF&lt;/manifestFile&gt;\n                    &lt;/archive&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;release&gt;17&lt;/release&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;includes&gt;\n                        &lt;include&gt;cucumber/**/*&lt;/include&gt;\n                    &lt;/includes&gt;\n                    &lt;skip&gt;${skipIT}&lt;/skip&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;reuseForks&gt;true&lt;/reuseForks&gt;\n                    &lt;argLine&gt;@{argLine} -Xmx1024m --illegal-access=permit&lt;/argLine&gt;\n                    &lt;useSystemClassLoader&gt;false&lt;/useSystemClassLoader&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;cucumber/**/*&lt;/exclude&gt;\n                        &lt;exclude&gt;${sonar.exclusions}&lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                    &lt;skip&gt;${skipUT}&lt;/skip&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-surefire-report-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;linkXRef&gt;true&lt;/linkXRef&gt;\n                    &lt;xrefLocation&gt;${project.build.directory}/site/sourceRefs&lt;/xrefLocation&gt;\n                    &lt;aggregate&gt;true&lt;/aggregate&gt;\n                &lt;/configuration&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;phase&gt;install&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;report-only&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\n                &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;com/example/provider/exampleapi/ApplicationLauncher.java&lt;/excludes&gt;\n                &lt;/configuration&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;default-prepare-agent&lt;/id&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;prepare-agent&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;check&lt;/id&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;check&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;rules&gt;\n                                &lt;rule&gt;\n                                    &lt;element&gt;BUNDLE&lt;/element&gt;\n                                    &lt;limits&gt;\n                                        &lt;limit&gt;\n                                            &lt;counter&gt;CLASS&lt;/counter&gt;\n                                            &lt;value&gt;COVEREDRATIO&lt;/value&gt;\n                                            &lt;minimum&gt;${code.coverage.requirement}&lt;/minimum&gt;\n                                        &lt;/limit&gt;\n                                        &lt;limit&gt;\n                                            &lt;counter&gt;METHOD&lt;/counter&gt;\n                                            &lt;value&gt;COVEREDRATIO&lt;/value&gt;\n                                            &lt;minimum&gt;${code.coverage.requirement}&lt;/minimum&gt;\n                                        &lt;/limit&gt;\n                                        &lt;limit&gt;\n                                            &lt;counter&gt;BRANCH&lt;/counter&gt;\n                                            &lt;value&gt;COVEREDRATIO&lt;/value&gt;\n                                            &lt;minimum&gt;${code.coverage.requirement}&lt;/minimum&gt;\n                                        &lt;/limit&gt;\n                                        &lt;limit&gt;\n                                            &lt;counter&gt;LINE&lt;/counter&gt;\n                                            &lt;value&gt;COVEREDRATIO&lt;/value&gt;\n                                            &lt;minimum&gt;${code.coverage.requirement}&lt;/minimum&gt;\n                                        &lt;/limit&gt;\n                                    &lt;/limits&gt;\n                                &lt;/rule&gt;\n                            &lt;/rules&gt;\n                            &lt;skip&gt;${skipUT}&lt;/skip&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;report&lt;/id&gt;\n                        &lt;phase&gt;prepare-package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;report&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-release-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;localCheckout&gt;true&lt;/localCheckout&gt;\n                    &lt;pushChanges&gt;false&lt;/pushChanges&gt;\n                    &lt;goals&gt;deploy&lt;/goals&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-checkstyle-plugin&lt;/artifactId&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;checkstyle-check-aggregate&lt;/id&gt;\n                        &lt;phase&gt;compile&lt;/phase&gt;\n                        &lt;configuration&gt;\n                            &lt;configLocation&gt;/example.checkstyle.xml&lt;/configLocation&gt;\n                            &lt;encoding&gt;UTF-8&lt;/encoding&gt;\n                            &lt;consoleOutput&gt;true&lt;/consoleOutput&gt;\n                            &lt;failsOnError&gt;false&lt;/failsOnError&gt;\n                            &lt;enableRSS&gt;false&lt;/enableRSS&gt;\n                            &lt;excludes&gt;**/com/example/provider/exampleapi/model/idq/**/*&lt;/excludes&gt;\n                        &lt;/configuration&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;checkstyle&lt;/goal&gt;\n                            &lt;goal&gt;checkstyle-aggregate&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-site-plugin&lt;/artifactId&gt;\n                &lt;goals&gt;\n                    &lt;goal&gt;site&lt;/goal&gt;\n                &lt;/goals&gt;\n                &lt;configuration&gt;\n                    &lt;generateReports&gt;false&lt;/generateReports&gt;\n                &lt;/configuration&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;phase&gt;initialize&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;site&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.jvnet.jaxb2.maven2&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-jaxb2-plugin&lt;/artifactId&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;generate&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n                &lt;configuration&gt;\n                    &lt;schemaLanguage&gt;WSDL&lt;/schemaLanguage&gt;\n                    &lt;generatePackage&gt;com.example.exampleapi.model.idq&lt;/generatePackage&gt;\n                    &lt;schemas&gt;\n                        &lt;schema&gt;\n                            &lt;url&gt;\n                                https://examplewebservice.example.com/ExampleService/WebService/ws_Rule/\n                            &lt;/url&gt;\n                        &lt;/schema&gt;\n                    &lt;/schemas&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;pl.project13.maven&lt;/groupId&gt;\n                &lt;artifactId&gt;git-commit-id-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;offline&gt;true&lt;/offline&gt;\n                    &lt;failOnNoGitDirectory&gt;false&lt;/failOnNoGitDirectory&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n</code></pre>\n"},{"tags":["java","spring-boot","tomcat","graalvm","jakarta-migration"],"answers":[{"tags":[],"owner":{"account_id":6349671,"reputation":178,"user_id":4929141,"display_name":"THIAGORC"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1671568234,"creation_date":1671567707,"answer_id":74868520,"question_id":74829933,"body_markdown":"After several readings on Spring Boot 3.0.0 (https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/) user guide, have figured out that some classes Spring AOT needs a runtime hint as a result to compile it into a native program.\r\nIf the class is not found you need to create a custom hint (https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#native-image.advanced.custom-hints).\r\n\r\nSo to have it worked I have created a HTTPServletRequest runtime hint (bear in mind that must implements interface `org.springframework.aot.hint.RuntimeHintsRegistrar`) class as follows:\r\n\r\n```\r\npublic class HttpServletRequestRuntimeHint implements RuntimeHintsRegistrar{\r\n\r\n    @Override\r\n    public void registerHints(RuntimeHints hints, ClassLoader classLoader) {\r\n\ttry {\r\n\t    ProxyHints proxies = hints.proxies();\r\n\t    proxies.registerJdkProxy(HttpServletRequest.class);\r\n\t} catch (Exception e) {\r\n\t    throw new RuntimeException(&quot;Could not register RuntimeHint: &quot; + e.getMessage());\r\n\t}\r\n    }\r\n\r\n}\r\n```\r\n\r\nAnd then it needs to be informed on a `@Configuration` class or, for example,  your `@SpringBootApplication` annotated application class to activate those hints:\r\n\r\n```\r\n@SpringBootApplication\r\n@ImportRuntimeHints(value = {HttpServletRequestRuntimeHint.class})\r\npublic class DemoApplication {       \r\n    \r\n    @Autowired   \r\n    private HttpServletRequest request;\r\n\r\n    public static void main(String[] args) {\r\n\t    SpringApplication.run(ApplicationConfig.class, args);\r\n    }\r\n\r\n}\r\n```\r\n\r\nAnd done!\r\n\r\nHope that helps!\r\n\r\nThank you.","title":"spring-boot 3.0.0 GraaVM for interface jakarta.servlet.http.HttpServletRequest","body":"<p>After several readings on Spring Boot 3.0.0 (<a href=\"https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/</a>) user guide, have figured out that some classes Spring AOT needs a runtime hint as a result to compile it into a native program.\nIf the class is not found you need to create a custom hint (<a href=\"https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#native-image.advanced.custom-hints\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#native-image.advanced.custom-hints</a>).</p>\n<p>So to have it worked I have created a HTTPServletRequest runtime hint (bear in mind that must implements interface <code>org.springframework.aot.hint.RuntimeHintsRegistrar</code>) class as follows:</p>\n<pre><code>public class HttpServletRequestRuntimeHint implements RuntimeHintsRegistrar{\n\n    @Override\n    public void registerHints(RuntimeHints hints, ClassLoader classLoader) {\n    try {\n        ProxyHints proxies = hints.proxies();\n        proxies.registerJdkProxy(HttpServletRequest.class);\n    } catch (Exception e) {\n        throw new RuntimeException(&quot;Could not register RuntimeHint: &quot; + e.getMessage());\n    }\n    }\n\n}\n</code></pre>\n<p>And then it needs to be informed on a <code>@Configuration</code> class or, for example,  your <code>@SpringBootApplication</code> annotated application class to activate those hints:</p>\n<pre><code>@SpringBootApplication\n@ImportRuntimeHints(value = {HttpServletRequestRuntimeHint.class})\npublic class DemoApplication {       \n    \n    @Autowired   \n    private HttpServletRequest request;\n\n    public static void main(String[] args) {\n        SpringApplication.run(ApplicationConfig.class, args);\n    }\n\n}\n</code></pre>\n<p>And done!</p>\n<p>Hope that helps!</p>\n<p>Thank you.</p>\n"}],"owner":{"account_id":6349671,"reputation":178,"user_id":4929141,"display_name":"THIAGORC"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1649,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":74868520,"answer_count":1,"score":2,"last_activity_date":1673523302,"creation_date":1671226122,"question_id":74829933,"body_markdown":"Just testing some Spring Boot 3.0.0 with GraalVM Native and got some queries regarding it as I could not find properly documentation regarding it.\r\n\r\nSo, I&#39;ve started a new project with GraalVM Native Support and Spring Web depedencies on Spring Initializr (https://start.spring.io/).\r\n\r\nThen, for testing native image purposes I have my DemoApplication class like as follows:\r\n\r\n    \r\n```\r\npackage com.example.demo;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\n\r\nimport jakarta.servlet.http.HttpServletRequest;\r\n\r\n@SpringBootApplication(proxyBeanMethods = false)\r\npublic class DemoApplication {\r\n\r\n    @Autowired\r\n    private HttpServletRequest request;\r\n\r\n    public static void main(String[] args) {\r\n\t   SpringApplication.run(DemoApplication.class, args);\r\n    }   \r\n\r\n}\r\n```\r\n\r\nAs a result to build a native image, have used command as follows:\r\n\r\n    mvn -Pnative spring-boot:build-image\r\n\r\nThe image was successfully compiled and created:\r\n\r\n    docker images\r\n\r\n ```\r\nREPOSITORY                 TAG              IMAGE ID       CREATED        SIZE\r\npaketobuildpacks/run       tiny-cnb         c71fb787280a   3 days ago     17.3MB\r\npaketobuildpacks/builder   tiny             cf7ea4946a20   42 years ago   588MB\r\ndemo                       0.0.1-SNAPSHOT   7794949d07ce   42 years ago   96.9MB\r\n```\r\n\r\nWhen I run this &quot;demo&quot; image using:\r\n\r\n    docker run demo:0.0.1-SNAPSHOT\r\n\r\nIt shows the following exception:\r\n\r\n```\r\n.   ____          _            __ _ _\r\n /\\\\ / ___&#39;_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\r\n( ( )\\___ | &#39;_ | &#39;_| | &#39;_ \\/ _` | \\ \\ \\ \\\r\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\r\n  &#39;  |____| .__|_| |_|_| |_\\__, | / / / /\r\n =========|_|==============|___/=/_/_/_/\r\n :: Spring Boot ::                (v3.0.0)\r\n\r\n2022-12-16T21:23:41.386Z  INFO 1 --- [           main] com.example.demo.DemoApplication         : Starting AOT-processed DemoApplication using Java 17.0.5 with PID 1 (/workspace/com.example.demo.DemoApplication started by cnb in /workspace)\r\n2022-12-16T21:23:41.386Z  INFO 1 --- [           main] com.example.demo.DemoApplication         : No active profile set, falling back to 1 default profile: &quot;default&quot;\r\n2022-12-16T21:23:41.395Z  INFO 1 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\r\n2022-12-16T21:23:41.396Z  INFO 1 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\r\n2022-12-16T21:23:41.396Z  INFO 1 --- [           main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.1]\r\n2022-12-16T21:23:41.399Z  INFO 1 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\r\n2022-12-16T21:23:41.400Z  INFO 1 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 14 ms\r\n2022-12-16T21:23:41.403Z  WARN 1 --- [           main] w.s.c.ServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;demoApplication&#39;: Instantiation of supplied bean failed\r\n2022-12-16T21:23:41.403Z  INFO 1 --- [           main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]\r\n2022-12-16T21:23:41.404Z ERROR 1 --- [           main] o.s.boot.SpringApplication               : Application run failed\r\n\r\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;demoApplication&#39;: Instantiation of supplied bean failed\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.obtainInstanceFromSupplier(AbstractAutowireCapableBeanFactory.java:1236) ~[com.example.demo.DemoApplication:6.0.2]\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.obtainFromSupplier(AbstractAutowireCapableBeanFactory.java:1210) ~[com.example.demo.DemoApplication:6.0.2]\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1157) ~[com.example.demo.DemoApplication:6.0.2]\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:561) ~[com.example.demo.DemoApplication:6.0.2]\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521) ~[com.example.demo.DemoApplication:6.0.2]\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[com.example.demo.DemoApplication:6.0.2]\r\n        at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[com.example.demo.DemoApplication:6.0.2]\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[com.example.demo.DemoApplication:6.0.2]\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[com.example.demo.DemoApplication:6.0.2]\r\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:961) ~[com.example.demo.DemoApplication:6.0.2]\r\n        at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:915) ~[com.example.demo.DemoApplication:6.0.2]\r\n        at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584) ~[com.example.demo.DemoApplication:6.0.2]\r\n        at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[com.example.demo.DemoApplication:3.0.0]\r\n        at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:730) ~[com.example.demo.DemoApplication:3.0.0]\r\n        at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:432) ~[com.example.demo.DemoApplication:3.0.0]\r\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[com.example.demo.DemoApplication:3.0.0]\r\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1302) ~[com.example.demo.DemoApplication:3.0.0]\r\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1291) ~[com.example.demo.DemoApplication:3.0.0]\r\n        at com.example.demo.DemoApplication.main(DemoApplication.java:16) ~[com.example.demo.DemoApplication:na]\r\nCaused by: com.oracle.svm.core.jdk.UnsupportedFeatureError: Proxy class defined by interfaces [interface jakarta.servlet.http.HttpServletRequest] not found. Generating proxy classes at runtime is not supported. Proxy classes need to be defined at image build time by specifying the list of interfaces that they implement. To define proxy classes use -H:DynamicProxyConfigurationFiles=&lt;comma-separated-config-files&gt; and -H:DynamicProxyConfigurationResources=&lt;comma-separated-config-resources&gt; options.\r\n        at com.oracle.svm.core.util.VMError.unsupportedFeature(VMError.java:89) ~[na:na]\r\n        at com.oracle.svm.core.reflect.proxy.DynamicProxySupport.getProxyClass(DynamicProxySupport.java:171) ~[na:na]\r\n        at java.base@17.0.5/java.lang.reflect.Proxy.getProxyConstructor(Proxy.java:47) ~[com.example.demo.DemoApplication:na]\r\n        at java.base@17.0.5/java.lang.reflect.Proxy.newProxyInstance(Proxy.java:1037) ~[com.example.demo.DemoApplication:na]\r\n        at org.springframework.beans.factory.support.AutowireUtils.resolveAutowiringValue(AutowireUtils.java:134) ~[na:na]\r\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.findAutowireCandidates(DefaultListableBeanFactory.java:1576) ~[com.example.demo.DemoApplication:6.0.2]\r\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1368) ~[com.example.demo.DemoApplication:6.0.2]\r\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1325) ~[com.example.demo.DemoApplication:6.0.2]\r\n        at org.springframework.beans.factory.aot.AutowiredFieldValueResolver.resolveValue(AutowiredFieldValueResolver.java:189) ~[na:na]\r\n        at org.springframework.beans.factory.aot.AutowiredFieldValueResolver.resolveAndSet(AutowiredFieldValueResolver.java:167) ~[na:na]\r\n        at com.example.demo.DemoApplication__Autowiring.apply(DemoApplication__Autowiring.java:14) ~[na:na]\r\n        at org.springframework.beans.factory.support.InstanceSupplier$1.get(InstanceSupplier.java:82) ~[na:na]\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.obtainInstanceFromSupplier(AbstractAutowireCapableBeanFactory.java:1225) ~[com.example.demo.DemoApplication:6.0.2]\r\n        ... 18 common frames omitted\r\n```\r\n\r\nI assume that must be something related to inform a implementation for interface `jakarta.servlet.http.HttpServletRequest`, however I don&#39;t how to inform/configure it.\r\n\r\nDo you guys have any suggestion(s)?\r\n\r\nThanks in advance. ","title":"spring-boot 3.0.0 GraaVM for interface jakarta.servlet.http.HttpServletRequest","body":"<p>Just testing some Spring Boot 3.0.0 with GraalVM Native and got some queries regarding it as I could not find properly documentation regarding it.</p>\n<p>So, I've started a new project with GraalVM Native Support and Spring Web depedencies on Spring Initializr (<a href=\"https://start.spring.io/\" rel=\"nofollow noreferrer\">https://start.spring.io/</a>).</p>\n<p>Then, for testing native image purposes I have my DemoApplication class like as follows:</p>\n<pre><code>package com.example.demo;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\nimport jakarta.servlet.http.HttpServletRequest;\n\n@SpringBootApplication(proxyBeanMethods = false)\npublic class DemoApplication {\n\n    @Autowired\n    private HttpServletRequest request;\n\n    public static void main(String[] args) {\n       SpringApplication.run(DemoApplication.class, args);\n    }   \n\n}\n</code></pre>\n<p>As a result to build a native image, have used command as follows:</p>\n<pre><code>mvn -Pnative spring-boot:build-image\n</code></pre>\n<p>The image was successfully compiled and created:</p>\n<pre><code>docker images\n</code></pre>\n<pre><code>REPOSITORY                 TAG              IMAGE ID       CREATED        SIZE\npaketobuildpacks/run       tiny-cnb         c71fb787280a   3 days ago     17.3MB\npaketobuildpacks/builder   tiny             cf7ea4946a20   42 years ago   588MB\ndemo                       0.0.1-SNAPSHOT   7794949d07ce   42 years ago   96.9MB\n</code></pre>\n<p>When I run this &quot;demo&quot; image using:</p>\n<pre><code>docker run demo:0.0.1-SNAPSHOT\n</code></pre>\n<p>It shows the following exception:</p>\n<pre><code>.   ____          _            __ _ _\n /\\\\ / ___'_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\n( ( )\\___ | '_ | '_| | '_ \\/ _` | \\ \\ \\ \\\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\n  '  |____| .__|_| |_|_| |_\\__, | / / / /\n =========|_|==============|___/=/_/_/_/\n :: Spring Boot ::                (v3.0.0)\n\n2022-12-16T21:23:41.386Z  INFO 1 --- [           main] com.example.demo.DemoApplication         : Starting AOT-processed DemoApplication using Java 17.0.5 with PID 1 (/workspace/com.example.demo.DemoApplication started by cnb in /workspace)\n2022-12-16T21:23:41.386Z  INFO 1 --- [           main] com.example.demo.DemoApplication         : No active profile set, falling back to 1 default profile: &quot;default&quot;\n2022-12-16T21:23:41.395Z  INFO 1 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\n2022-12-16T21:23:41.396Z  INFO 1 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\n2022-12-16T21:23:41.396Z  INFO 1 --- [           main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.1]\n2022-12-16T21:23:41.399Z  INFO 1 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\n2022-12-16T21:23:41.400Z  INFO 1 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 14 ms\n2022-12-16T21:23:41.403Z  WARN 1 --- [           main] w.s.c.ServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'demoApplication': Instantiation of supplied bean failed\n2022-12-16T21:23:41.403Z  INFO 1 --- [           main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]\n2022-12-16T21:23:41.404Z ERROR 1 --- [           main] o.s.boot.SpringApplication               : Application run failed\n\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name 'demoApplication': Instantiation of supplied bean failed\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.obtainInstanceFromSupplier(AbstractAutowireCapableBeanFactory.java:1236) ~[com.example.demo.DemoApplication:6.0.2]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.obtainFromSupplier(AbstractAutowireCapableBeanFactory.java:1210) ~[com.example.demo.DemoApplication:6.0.2]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1157) ~[com.example.demo.DemoApplication:6.0.2]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:561) ~[com.example.demo.DemoApplication:6.0.2]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521) ~[com.example.demo.DemoApplication:6.0.2]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[com.example.demo.DemoApplication:6.0.2]\n        at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[com.example.demo.DemoApplication:6.0.2]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[com.example.demo.DemoApplication:6.0.2]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[com.example.demo.DemoApplication:6.0.2]\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:961) ~[com.example.demo.DemoApplication:6.0.2]\n        at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:915) ~[com.example.demo.DemoApplication:6.0.2]\n        at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584) ~[com.example.demo.DemoApplication:6.0.2]\n        at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[com.example.demo.DemoApplication:3.0.0]\n        at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:730) ~[com.example.demo.DemoApplication:3.0.0]\n        at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:432) ~[com.example.demo.DemoApplication:3.0.0]\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[com.example.demo.DemoApplication:3.0.0]\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1302) ~[com.example.demo.DemoApplication:3.0.0]\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1291) ~[com.example.demo.DemoApplication:3.0.0]\n        at com.example.demo.DemoApplication.main(DemoApplication.java:16) ~[com.example.demo.DemoApplication:na]\nCaused by: com.oracle.svm.core.jdk.UnsupportedFeatureError: Proxy class defined by interfaces [interface jakarta.servlet.http.HttpServletRequest] not found. Generating proxy classes at runtime is not supported. Proxy classes need to be defined at image build time by specifying the list of interfaces that they implement. To define proxy classes use -H:DynamicProxyConfigurationFiles=&lt;comma-separated-config-files&gt; and -H:DynamicProxyConfigurationResources=&lt;comma-separated-config-resources&gt; options.\n        at com.oracle.svm.core.util.VMError.unsupportedFeature(VMError.java:89) ~[na:na]\n        at com.oracle.svm.core.reflect.proxy.DynamicProxySupport.getProxyClass(DynamicProxySupport.java:171) ~[na:na]\n        at java.base@17.0.5/java.lang.reflect.Proxy.getProxyConstructor(Proxy.java:47) ~[com.example.demo.DemoApplication:na]\n        at java.base@17.0.5/java.lang.reflect.Proxy.newProxyInstance(Proxy.java:1037) ~[com.example.demo.DemoApplication:na]\n        at org.springframework.beans.factory.support.AutowireUtils.resolveAutowiringValue(AutowireUtils.java:134) ~[na:na]\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.findAutowireCandidates(DefaultListableBeanFactory.java:1576) ~[com.example.demo.DemoApplication:6.0.2]\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1368) ~[com.example.demo.DemoApplication:6.0.2]\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1325) ~[com.example.demo.DemoApplication:6.0.2]\n        at org.springframework.beans.factory.aot.AutowiredFieldValueResolver.resolveValue(AutowiredFieldValueResolver.java:189) ~[na:na]\n        at org.springframework.beans.factory.aot.AutowiredFieldValueResolver.resolveAndSet(AutowiredFieldValueResolver.java:167) ~[na:na]\n        at com.example.demo.DemoApplication__Autowiring.apply(DemoApplication__Autowiring.java:14) ~[na:na]\n        at org.springframework.beans.factory.support.InstanceSupplier$1.get(InstanceSupplier.java:82) ~[na:na]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.obtainInstanceFromSupplier(AbstractAutowireCapableBeanFactory.java:1225) ~[com.example.demo.DemoApplication:6.0.2]\n        ... 18 common frames omitted\n</code></pre>\n<p>I assume that must be something related to inform a implementation for interface <code>jakarta.servlet.http.HttpServletRequest</code>, however I don't how to inform/configure it.</p>\n<p>Do you guys have any suggestion(s)?</p>\n<p>Thanks in advance.</p>\n"},{"tags":["java","quartz-scheduler","java-17","glassfish-6","jakarta-migration"],"comments":[{"owner":{"account_id":24731384,"reputation":103,"user_id":18619318,"display_name":"user18619318"},"score":1,"creation_date":1652875668,"post_id":72288807,"comment_id":127711649,"body_markdown":"Things in `javax` have moved out of the JRE.  Also Java EE stuff has moved to a new namespace.     Have a look at https://stackoverflow.com/a/71529414/18619318.  You will most likely need a newer version of Quartz and the latest Glassfish","body":"Things in <code>javax</code> have moved out of the JRE.  Also Java EE stuff has moved to a new namespace.     Have a look at <a href=\"https://stackoverflow.com/a/71529414/18619318\">stackoverflow.com/a/71529414/18619318</a>.  You will most likely need a newer version of Quartz and the latest Glassfish"},{"owner":{"account_id":13759326,"reputation":41,"user_id":9929440,"display_name":"WajahatAlvi"},"score":0,"creation_date":1652876431,"post_id":72288807,"comment_id":127711922,"body_markdown":"@user18619318 I am using latest Glassfish compatible with java 17. I have also updated the namespace to jakarta(new). New version of quartz is using javax.servlet","body":"@user18619318 I am using latest Glassfish compatible with java 17. I have also updated the namespace to jakarta(new). New version of quartz is using javax.servlet"},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1652877647,"post_id":72288807,"comment_id":127712433,"body_markdown":"@user18619318 `javax.servlet` was never in the JRE. The problem is that GlassFish 6.2.3 is a Jakarta EE 9.1 implementation, and since Jakarta 9, the package names changed from `javax` to `jakarta`.","body":"@user18619318 <code>javax.servlet</code> was never in the JRE. The problem is that GlassFish 6.2.3 is a Jakarta EE 9.1 implementation, and since Jakarta 9, the package names changed from <code>javax</code> to <code>jakarta</code>."},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1652877978,"post_id":72288807,"comment_id":127712598,"body_markdown":"Given Quartz still uses the old Java EE/Jakarta 8 package names, you&#39;ll need to write your own equivalent listener using the `jakarta` package names (either as one-off code, or by forking Quartz and creating your own version with the fixes). Given the silence on issues like [this](https://github.com/quartz-scheduler/quartz/issues/737) and [this](https://github.com/quartz-scheduler/quartz/issues/794), I don&#39;t think you should hold your breath for the project to fix it for you.","body":"Given Quartz still uses the old Java EE/Jakarta 8 package names, you&#39;ll need to write your own equivalent listener using the <code>jakarta</code> package names (either as one-off code, or by forking Quartz and creating your own version with the fixes). Given the silence on issues like <a href=\"https://github.com/quartz-scheduler/quartz/issues/737\" rel=\"nofollow noreferrer\">this</a> and <a href=\"https://github.com/quartz-scheduler/quartz/issues/794\" rel=\"nofollow noreferrer\">this</a>, I don&#39;t think you should hold your breath for the project to fix it for you."},{"owner":{"account_id":13759326,"reputation":41,"user_id":9929440,"display_name":"WajahatAlvi"},"score":0,"creation_date":1653375101,"post_id":72288807,"comment_id":127829923,"body_markdown":"@MarkRotteveel Thank you for the answer. I have created a Custom listener which is using Jakarta package names.","body":"@MarkRotteveel Thank you for the answer. I have created a Custom listener which is using Jakarta package names."}],"answers":[{"comments":[{"owner":{"account_id":13759326,"reputation":41,"user_id":9929440,"display_name":"WajahatAlvi"},"score":0,"creation_date":1653375309,"post_id":72292127,"comment_id":127829999,"body_markdown":"I created a own listener of Quartz and added that into web.xml. The new listener is using only jakarta name packages. Before implementing this It was assumed that architecture of quartz keeps listener separate from internal functionality. my assumptions seems right for now. :D","body":"I created a own listener of Quartz and added that into web.xml. The new listener is using only jakarta name packages. Before implementing this It was assumed that architecture of quartz keeps listener separate from internal functionality. my assumptions seems right for now. :D"}],"tags":[],"owner":{"account_id":4809624,"reputation":3467,"user_id":3883475,"accept_rate":85,"display_name":"Ironluca"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1652888236,"creation_date":1652888236,"answer_id":72292127,"question_id":72288807,"body_markdown":"What I mention below, in general should never be done; however, since you are in a fix, you could experiment with the idea.\r\n\r\nThe idea in general is simple, &#39;wrapper&#39;:\r\n1) Create your own context listener, register in place of Quartz listener (as suggested above)\r\n2) Write a [ServletContext][1] wrapper which dispatches all method calls to the wrapped &#39;jakarta&#39; servlet context\r\n3) [ServletContextEvent][2] is a class, with one method, use the javax class itself\r\n4) From your listener call the corresponding context initialized/destroyed\r\n5) Have the javax.servlet jar in the classpath\r\n\r\nThen start the Glassfish ... who knows what happens next ... it might just work or fail spectacularly ... :D\r\n\r\n  [1]: https://docs.oracle.com/javaee/6/api/javax/servlet/ServletContext.html\r\n  [2]: https://docs.oracle.com/javaee/7/api/javax/servlet/ServletContextEvent.html","title":"Migration Java 8 to 17. java.lang.NoClassDefFoundError: javax/servlet/ServletContextListener Using Quartz","body":"<p>What I mention below, in general should never be done; however, since you are in a fix, you could experiment with the idea.</p>\n<p>The idea in general is simple, 'wrapper':</p>\n<ol>\n<li>Create your own context listener, register in place of Quartz listener (as suggested above)</li>\n<li>Write a <a href=\"https://docs.oracle.com/javaee/6/api/javax/servlet/ServletContext.html\" rel=\"nofollow noreferrer\">ServletContext</a> wrapper which dispatches all method calls to the wrapped 'jakarta' servlet context</li>\n<li><a href=\"https://docs.oracle.com/javaee/7/api/javax/servlet/ServletContextEvent.html\" rel=\"nofollow noreferrer\">ServletContextEvent</a> is a class, with one method, use the javax class itself</li>\n<li>From your listener call the corresponding context initialized/destroyed</li>\n<li>Have the javax.servlet jar in the classpath</li>\n</ol>\n<p>Then start the Glassfish ... who knows what happens next ... it might just work or fail spectacularly ... :D</p>\n"}],"owner":{"account_id":13759326,"reputation":41,"user_id":9929440,"display_name":"WajahatAlvi"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2041,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1673523293,"creation_date":1652875170,"question_id":72288807,"body_markdown":"I am migrating an application from Java 8 to Java 17, and javax dependencies changed to Jakarta ones. I also updated other dependencies which were dependent on javax.\r\n\r\nThe problem, we have used Quartz scheduler for scheduling jobs. QuartzInitializerListener is used to get Scheduler object. Also QuartzInitializerListener is added in web.xml as listener. QuartzInitializerListener uses javax library \r\n\r\nEclipse GlassFish 6.2.3  \r\n\r\nOpenJDK 17 \r\n\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.quartz-scheduler&lt;/groupId&gt;\r\n    &lt;artifactId&gt;quartz&lt;/artifactId&gt;\r\n    &lt;version&gt;2.3.2&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.quartz-scheduler&lt;/groupId&gt;\r\n    &lt;artifactId&gt;quartz-jobs&lt;/artifactId&gt;\r\n    &lt;version&gt;2.3.2&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\nScheduler Code\r\n```java\r\nprivate Scheduler getScheduler() throws SchedulerException {\r\n    StdSchedulerFactory factory = (StdSchedulerFactory) getServletContext().getAttribute(QuartzInitializerListener.QUARTZ_FACTORY_KEY);\r\n    return factory.getScheduler();\r\n}\r\n```\r\n\r\n```java\r\n//\r\n// Source code recreated from a .class file by IntelliJ IDEA\r\n// (powered by FernFlower decompiler)\r\n//\r\n\r\npackage org.quartz.ee.servlet;\r\n\r\nimport javax.servlet.ServletContext;\r\nimport javax.servlet.ServletContextEvent;\r\nimport javax.servlet.ServletContextListener;\r\nimport org.quartz.Scheduler;\r\nimport org.quartz.SchedulerException;\r\nimport org.quartz.impl.StdSchedulerFactory;\r\nimport org.slf4j.Logger;\r\nimport org.slf4j.LoggerFactory;\r\n\r\npublic class QuartzInitializerListener implements ServletContextListener {\r\n    public static final String QUARTZ_FACTORY_KEY = &quot;org.quartz.impl.StdSchedulerFactory.KEY&quot;;\r\n    private boolean performShutdown = true;\r\n    private boolean waitOnShutdown = false;\r\n    private Scheduler scheduler = null;\r\n    private final Logger log = LoggerFactory.getLogger(this.getClass());\r\n\r\n    public QuartzInitializerListener() {\r\n    }\r\n\r\n    public void contextInitialized(ServletContextEvent sce) {\r\n        this.log.info(&quot;Quartz Initializer Servlet loaded, initializing Scheduler...&quot;);\r\n        ServletContext servletContext = sce.getServletContext();\r\n\r\n        try {\r\n            String configFile = servletContext.getInitParameter(&quot;quartz:config-file&quot;);\r\n            if (configFile == null) {\r\n                configFile = servletContext.getInitParameter(&quot;config-file&quot;);\r\n            }\r\n\r\n            String shutdownPref = servletContext.getInitParameter(&quot;quartz:shutdown-on-unload&quot;);\r\n            if (shutdownPref == null) {\r\n                shutdownPref = servletContext.getInitParameter(&quot;shutdown-on-unload&quot;);\r\n            }\r\n\r\n            if (shutdownPref != null) {\r\n                this.performShutdown = Boolean.valueOf(shutdownPref);\r\n            }\r\n\r\n            String shutdownWaitPref = servletContext.getInitParameter(&quot;quartz:wait-on-shutdown&quot;);\r\n            if (shutdownWaitPref != null) {\r\n                this.waitOnShutdown = Boolean.valueOf(shutdownWaitPref);\r\n            }\r\n\r\n            StdSchedulerFactory factory = this.getSchedulerFactory(configFile);\r\n            this.scheduler = factory.getScheduler();\r\n            String startOnLoad = servletContext.getInitParameter(&quot;quartz:start-on-load&quot;);\r\n            if (startOnLoad == null) {\r\n                startOnLoad = servletContext.getInitParameter(&quot;start-scheduler-on-load&quot;);\r\n            }\r\n\r\n            int startDelay = 0;\r\n            String startDelayS = servletContext.getInitParameter(&quot;quartz:start-delay-seconds&quot;);\r\n            if (startDelayS == null) {\r\n                startDelayS = servletContext.getInitParameter(&quot;start-delay-seconds&quot;);\r\n            }\r\n\r\n            try {\r\n                if (startDelayS != null &amp;&amp; startDelayS.trim().length() &gt; 0) {\r\n                    startDelay = Integer.parseInt(startDelayS);\r\n                }\r\n            } catch (Exception var12) {\r\n                this.log.error(&quot;Cannot parse value of &#39;start-delay-seconds&#39; to an integer: &quot; + startDelayS + &quot;, defaulting to 5 seconds.&quot;);\r\n                startDelay = 5;\r\n            }\r\n\r\n            if (startOnLoad != null &amp;&amp; !Boolean.valueOf(startOnLoad)) {\r\n                this.log.info(&quot;Scheduler has not been started. Use scheduler.start()&quot;);\r\n            } else if (startDelay &lt;= 0) {\r\n                this.scheduler.start();\r\n                this.log.info(&quot;Scheduler has been started...&quot;);\r\n            } else {\r\n                this.scheduler.startDelayed(startDelay);\r\n                this.log.info(&quot;Scheduler will start in &quot; + startDelay + &quot; seconds.&quot;);\r\n            }\r\n\r\n            String factoryKey = servletContext.getInitParameter(&quot;quartz:servlet-context-factory-key&quot;);\r\n            if (factoryKey == null) {\r\n                factoryKey = servletContext.getInitParameter(&quot;servlet-context-factory-key&quot;);\r\n            }\r\n\r\n            if (factoryKey == null) {\r\n                factoryKey = &quot;org.quartz.impl.StdSchedulerFactory.KEY&quot;;\r\n            }\r\n\r\n            this.log.info(&quot;Storing the Quartz Scheduler Factory in the servlet context at key: &quot; + factoryKey);\r\n            servletContext.setAttribute(factoryKey, factory);\r\n            String servletCtxtKey = servletContext.getInitParameter(&quot;quartz:scheduler-context-servlet-context-key&quot;);\r\n            if (servletCtxtKey == null) {\r\n                servletCtxtKey = servletContext.getInitParameter(&quot;scheduler-context-servlet-context-key&quot;);\r\n            }\r\n\r\n            if (servletCtxtKey != null) {\r\n                this.log.info(&quot;Storing the ServletContext in the scheduler context at key: &quot; + servletCtxtKey);\r\n                this.scheduler.getContext().put(servletCtxtKey, servletContext);\r\n            }\r\n        } catch (Exception var13) {\r\n            this.log.error(&quot;Quartz Scheduler failed to initialize: &quot; + var13.toString());\r\n            var13.printStackTrace();\r\n        }\r\n\r\n    }\r\n\r\n    protected StdSchedulerFactory getSchedulerFactory(String configFile) throws SchedulerException {\r\n        StdSchedulerFactory factory;\r\n        if (configFile != null) {\r\n            factory = new StdSchedulerFactory(configFile);\r\n        } else {\r\n            factory = new StdSchedulerFactory();\r\n        }\r\n\r\n        return factory;\r\n    }\r\n\r\n    public void contextDestroyed(ServletContextEvent sce) {\r\n        if (this.performShutdown) {\r\n            try {\r\n                if (this.scheduler != null) {\r\n                    this.scheduler.shutdown(this.waitOnShutdown);\r\n                }\r\n            } catch (Exception var3) {\r\n                this.log.error(&quot;Quartz Scheduler failed to shutdown cleanly: &quot; + var3.toString());\r\n                var3.printStackTrace();\r\n            }\r\n\r\n            this.log.info(&quot;Quartz Scheduler successful shutdown.&quot;);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n","title":"Migration Java 8 to 17. java.lang.NoClassDefFoundError: javax/servlet/ServletContextListener Using Quartz","body":"<p>I am migrating an application from Java 8 to Java 17, and javax dependencies changed to Jakarta ones. I also updated other dependencies which were dependent on javax.</p>\n<p>The problem, we have used Quartz scheduler for scheduling jobs. QuartzInitializerListener is used to get Scheduler object. Also QuartzInitializerListener is added in web.xml as listener. QuartzInitializerListener uses javax library</p>\n<p>Eclipse GlassFish 6.2.3</p>\n<p>OpenJDK 17</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.quartz-scheduler&lt;/groupId&gt;\n    &lt;artifactId&gt;quartz&lt;/artifactId&gt;\n    &lt;version&gt;2.3.2&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.quartz-scheduler&lt;/groupId&gt;\n    &lt;artifactId&gt;quartz-jobs&lt;/artifactId&gt;\n    &lt;version&gt;2.3.2&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Scheduler Code</p>\n<pre class=\"lang-java prettyprint-override\"><code>private Scheduler getScheduler() throws SchedulerException {\n    StdSchedulerFactory factory = (StdSchedulerFactory) getServletContext().getAttribute(QuartzInitializerListener.QUARTZ_FACTORY_KEY);\n    return factory.getScheduler();\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>//\n// Source code recreated from a .class file by IntelliJ IDEA\n// (powered by FernFlower decompiler)\n//\n\npackage org.quartz.ee.servlet;\n\nimport javax.servlet.ServletContext;\nimport javax.servlet.ServletContextEvent;\nimport javax.servlet.ServletContextListener;\nimport org.quartz.Scheduler;\nimport org.quartz.SchedulerException;\nimport org.quartz.impl.StdSchedulerFactory;\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\n\npublic class QuartzInitializerListener implements ServletContextListener {\n    public static final String QUARTZ_FACTORY_KEY = &quot;org.quartz.impl.StdSchedulerFactory.KEY&quot;;\n    private boolean performShutdown = true;\n    private boolean waitOnShutdown = false;\n    private Scheduler scheduler = null;\n    private final Logger log = LoggerFactory.getLogger(this.getClass());\n\n    public QuartzInitializerListener() {\n    }\n\n    public void contextInitialized(ServletContextEvent sce) {\n        this.log.info(&quot;Quartz Initializer Servlet loaded, initializing Scheduler...&quot;);\n        ServletContext servletContext = sce.getServletContext();\n\n        try {\n            String configFile = servletContext.getInitParameter(&quot;quartz:config-file&quot;);\n            if (configFile == null) {\n                configFile = servletContext.getInitParameter(&quot;config-file&quot;);\n            }\n\n            String shutdownPref = servletContext.getInitParameter(&quot;quartz:shutdown-on-unload&quot;);\n            if (shutdownPref == null) {\n                shutdownPref = servletContext.getInitParameter(&quot;shutdown-on-unload&quot;);\n            }\n\n            if (shutdownPref != null) {\n                this.performShutdown = Boolean.valueOf(shutdownPref);\n            }\n\n            String shutdownWaitPref = servletContext.getInitParameter(&quot;quartz:wait-on-shutdown&quot;);\n            if (shutdownWaitPref != null) {\n                this.waitOnShutdown = Boolean.valueOf(shutdownWaitPref);\n            }\n\n            StdSchedulerFactory factory = this.getSchedulerFactory(configFile);\n            this.scheduler = factory.getScheduler();\n            String startOnLoad = servletContext.getInitParameter(&quot;quartz:start-on-load&quot;);\n            if (startOnLoad == null) {\n                startOnLoad = servletContext.getInitParameter(&quot;start-scheduler-on-load&quot;);\n            }\n\n            int startDelay = 0;\n            String startDelayS = servletContext.getInitParameter(&quot;quartz:start-delay-seconds&quot;);\n            if (startDelayS == null) {\n                startDelayS = servletContext.getInitParameter(&quot;start-delay-seconds&quot;);\n            }\n\n            try {\n                if (startDelayS != null &amp;&amp; startDelayS.trim().length() &gt; 0) {\n                    startDelay = Integer.parseInt(startDelayS);\n                }\n            } catch (Exception var12) {\n                this.log.error(&quot;Cannot parse value of 'start-delay-seconds' to an integer: &quot; + startDelayS + &quot;, defaulting to 5 seconds.&quot;);\n                startDelay = 5;\n            }\n\n            if (startOnLoad != null &amp;&amp; !Boolean.valueOf(startOnLoad)) {\n                this.log.info(&quot;Scheduler has not been started. Use scheduler.start()&quot;);\n            } else if (startDelay &lt;= 0) {\n                this.scheduler.start();\n                this.log.info(&quot;Scheduler has been started...&quot;);\n            } else {\n                this.scheduler.startDelayed(startDelay);\n                this.log.info(&quot;Scheduler will start in &quot; + startDelay + &quot; seconds.&quot;);\n            }\n\n            String factoryKey = servletContext.getInitParameter(&quot;quartz:servlet-context-factory-key&quot;);\n            if (factoryKey == null) {\n                factoryKey = servletContext.getInitParameter(&quot;servlet-context-factory-key&quot;);\n            }\n\n            if (factoryKey == null) {\n                factoryKey = &quot;org.quartz.impl.StdSchedulerFactory.KEY&quot;;\n            }\n\n            this.log.info(&quot;Storing the Quartz Scheduler Factory in the servlet context at key: &quot; + factoryKey);\n            servletContext.setAttribute(factoryKey, factory);\n            String servletCtxtKey = servletContext.getInitParameter(&quot;quartz:scheduler-context-servlet-context-key&quot;);\n            if (servletCtxtKey == null) {\n                servletCtxtKey = servletContext.getInitParameter(&quot;scheduler-context-servlet-context-key&quot;);\n            }\n\n            if (servletCtxtKey != null) {\n                this.log.info(&quot;Storing the ServletContext in the scheduler context at key: &quot; + servletCtxtKey);\n                this.scheduler.getContext().put(servletCtxtKey, servletContext);\n            }\n        } catch (Exception var13) {\n            this.log.error(&quot;Quartz Scheduler failed to initialize: &quot; + var13.toString());\n            var13.printStackTrace();\n        }\n\n    }\n\n    protected StdSchedulerFactory getSchedulerFactory(String configFile) throws SchedulerException {\n        StdSchedulerFactory factory;\n        if (configFile != null) {\n            factory = new StdSchedulerFactory(configFile);\n        } else {\n            factory = new StdSchedulerFactory();\n        }\n\n        return factory;\n    }\n\n    public void contextDestroyed(ServletContextEvent sce) {\n        if (this.performShutdown) {\n            try {\n                if (this.scheduler != null) {\n                    this.scheduler.shutdown(this.waitOnShutdown);\n                }\n            } catch (Exception var3) {\n                this.log.error(&quot;Quartz Scheduler failed to shutdown cleanly: &quot; + var3.toString());\n                var3.printStackTrace();\n            }\n\n            this.log.info(&quot;Quartz Scheduler successful shutdown.&quot;);\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","android","android-livedata"],"answers":[{"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1673525307,"post_id":75095692,"comment_id":132521453,"body_markdown":"Please don&#39;t post only code as answer, but also provide an explanation what your code does and how it solves the problem of the question. Answers with an explanation are usually more helpful and of better quality, and are more likely to attract upvotes.","body":"Please don&#39;t post only code as answer, but also provide an explanation what your code does and how it solves the problem of the question. Answers with an explanation are usually more helpful and of better quality, and are more likely to attract upvotes."}],"tags":[],"owner":{"account_id":15130099,"reputation":1,"user_id":20991149,"display_name":"iamserj"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673523186,"creation_date":1673523076,"answer_id":75095692,"question_id":72499205,"body_markdown":"```\r\n@Query(&quot; select * from coffe &quot;)\r\nfun getAll(): PagingSource&lt;Int, Coffe&gt;\r\n```","title":"Can i cast SimpleSQLiteQuery object to DataSource.Factory&lt;key, value&gt; and than LiveData&lt;PagedList&lt;&gt;?","body":"<pre><code>@Query(&quot; select * from coffe &quot;)\nfun getAll(): PagingSource&lt;Int, Coffe&gt;\n</code></pre>\n"}],"owner":{"account_id":22728694,"reputation":11,"user_id":17957523,"display_name":"U wan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673523186,"creation_date":1654340476,"question_id":72499205,"body_markdown":"Hello i have two classes\r\n\r\nFirst:\r\n\r\n```\r\n\r\npublic class SortUtils {\r\n\r\n    public enum Coffesortby {\r\n        CAFFEINE, TYPE, DEFAULT\r\n    }\r\n    \r\n    public static SimpleSQLiteQuery getAllQuery(Coffesortby sortBy, Boolean showOnlyFavorites) {\r\n        SupportSQLiteQueryBuilder queryBuilder =\r\n                SupportSQLiteQueryBuilder.builder(DataCoffeNames.TABLE_NAME)\r\n                .orderBy(getSortColumn(sortBy));\r\n        if (showOnlyFavorites) {\r\n            queryBuilder.selection(DataCoffeNames.COL_FAVORITE, new String[]{&quot;1&quot;});\r\n        }\r\n        return new SimpleSQLiteQuery(queryBuilder.create().getSql());\r\n    }\r\n    \r\n    private static String getSortColumn(Coffesortby value) {\r\n        switch (value) {\r\n            case CAFFEINE:\r\n                return DataCoffeNames.COL_CAFFEINE;\r\n            case TYPE:\r\n                return DataCoffeNames.COL_TYPE;\r\n            default:\r\n                return DataCoffeNames.COL_NAME;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nand another class with this function:\r\n```\r\n    public LiveData&lt;PagedList&lt;Coffe&gt;&gt; getSortedCoffes(String sort, Boolean fileByFavorite) {\r\n        SortUtils.Coffesortby sortBy = SortUtils.Coffesortby.valueOf(sort);\r\n        DataSource.Factory&lt;Integer, Tea&gt; factory = mDao.getAll(SortUtils.getAllQuery(sortBy, fileByFavorite));\r\n        return new LivePagedListBuilder&lt;&gt;(factory, PAGE_SIZE)\r\n                .build();\r\n    }\r\n```\r\n\r\nand CoffeDAO(i&#39;m using RoomDB) with this query script:\r\n```\r\n  @Query(&quot; select * from coffe &quot;)\r\n    DataSource.Factory&lt;Integer, Coffe&gt; getAll();\r\n```\r\n\r\nand i want to use getAllQuery function to get sorted query an finally using second class funciton called getSortedCoffes return LiveData&lt;PagedList&lt;Coffe&gt;&gt;, but i don&#39;t know how to do it right way..\r\n\r\nThanks in advance","title":"Can i cast SimpleSQLiteQuery object to DataSource.Factory&lt;key, value&gt; and than LiveData&lt;PagedList&lt;&gt;?","body":"<p>Hello i have two classes</p>\n<p>First:</p>\n<pre><code>\npublic class SortUtils {\n\n    public enum Coffesortby {\n        CAFFEINE, TYPE, DEFAULT\n    }\n    \n    public static SimpleSQLiteQuery getAllQuery(Coffesortby sortBy, Boolean showOnlyFavorites) {\n        SupportSQLiteQueryBuilder queryBuilder =\n                SupportSQLiteQueryBuilder.builder(DataCoffeNames.TABLE_NAME)\n                .orderBy(getSortColumn(sortBy));\n        if (showOnlyFavorites) {\n            queryBuilder.selection(DataCoffeNames.COL_FAVORITE, new String[]{&quot;1&quot;});\n        }\n        return new SimpleSQLiteQuery(queryBuilder.create().getSql());\n    }\n    \n    private static String getSortColumn(Coffesortby value) {\n        switch (value) {\n            case CAFFEINE:\n                return DataCoffeNames.COL_CAFFEINE;\n            case TYPE:\n                return DataCoffeNames.COL_TYPE;\n            default:\n                return DataCoffeNames.COL_NAME;\n        }\n    }\n}\n</code></pre>\n<p>and another class with this function:</p>\n<pre><code>    public LiveData&lt;PagedList&lt;Coffe&gt;&gt; getSortedCoffes(String sort, Boolean fileByFavorite) {\n        SortUtils.Coffesortby sortBy = SortUtils.Coffesortby.valueOf(sort);\n        DataSource.Factory&lt;Integer, Tea&gt; factory = mDao.getAll(SortUtils.getAllQuery(sortBy, fileByFavorite));\n        return new LivePagedListBuilder&lt;&gt;(factory, PAGE_SIZE)\n                .build();\n    }\n</code></pre>\n<p>and CoffeDAO(i'm using RoomDB) with this query script:</p>\n<pre><code>  @Query(&quot; select * from coffe &quot;)\n    DataSource.Factory&lt;Integer, Coffe&gt; getAll();\n</code></pre>\n<p>and i want to use getAllQuery function to get sorted query an finally using second class funciton called getSortedCoffes return LiveData&lt;PagedList&gt;, but i don't know how to do it right way..</p>\n<p>Thanks in advance</p>\n"},{"tags":["java","spring","model-view-controller","view","backend"],"answers":[{"tags":[],"owner":{"account_id":18340480,"reputation":81,"user_id":13356882,"display_name":"Noah670"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1608995599,"creation_date":1608995599,"answer_id":65457767,"question_id":65456272,"body_markdown":"It depends on what type of web-application you are planning on creating. If you are just starting out I would go with Thymeleaf as it is has much more modern server-side features compared to using just JSTL. You can also read more about the setup process for [thymeleaf](https://www.thymeleaf.org/documentation.html) using their documentation and integrating it with spring.","title":"Spring UI best option","body":"<p>It depends on what type of web-application you are planning on creating. If you are just starting out I would go with Thymeleaf as it is has much more modern server-side features compared to using just JSTL. You can also read more about the setup process for <a href=\"https://www.thymeleaf.org/documentation.html\" rel=\"nofollow noreferrer\">thymeleaf</a> using their documentation and integrating it with spring.</p>\n"}],"owner":{"account_id":18006343,"reputation":53,"user_id":13087029,"display_name":"Daniel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"closed_date":1608998324,"accepted_answer_id":65457767,"answer_count":1,"score":-2,"last_activity_date":1673523007,"creation_date":1608984927,"question_id":65456272,"body_markdown":"I starting learn java framework spring and build modern web-application, but at  this moment I dont want use any JS frameworks. In documentation I found two options thymeleaf and WebMvcConfigurer with JSTL.\r\nWhich one is more useful and will allow me to understand angular syntax easier in the future?\r\n","title":"Spring UI best option","body":"<p>I starting learn java framework spring and build modern web-application, but at  this moment I dont want use any JS frameworks. In documentation I found two options thymeleaf and WebMvcConfigurer with JSTL.\nWhich one is more useful and will allow me to understand angular syntax easier in the future?</p>\n"},{"tags":["java","android","android-camera2","video-codecs"],"owner":{"account_id":13850797,"reputation":1,"user_id":9998777,"display_name":"christo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673522700,"creation_date":1673522700,"question_id":75095607,"body_markdown":"I was working with a android project in which it captures live feed from a cam and saves it as a mp4 file. My target is to to decode this mp4 video file using media-codecs ( android internal software decoder) and dump this raw data. Using the CameraX api, i was able to save the mp4 file to storage. I wasn&#39;t able to load the recorded video file to media codecs for decoding.\r\nI won&#39;t be able to use any modules like opencv, ffmpeg.\r\n\r\n\r\nAny help is appreciated. \r\n\r\nI have no idea how to load file data to decoder. All the tutorials are loading it from surface textures.","title":"How to dump decoded frames from a mp4 file","body":"<p>I was working with a android project in which it captures live feed from a cam and saves it as a mp4 file. My target is to to decode this mp4 video file using media-codecs ( android internal software decoder) and dump this raw data. Using the CameraX api, i was able to save the mp4 file to storage. I wasn't able to load the recorded video file to media codecs for decoding.\nI won't be able to use any modules like opencv, ffmpeg.</p>\n<p>Any help is appreciated.</p>\n<p>I have no idea how to load file data to decoder. All the tutorials are loading it from surface textures.</p>\n"},{"tags":["java","unit-testing","mockito"],"comments":[{"owner":{"account_id":110658,"reputation":9404,"user_id":292728,"accept_rate":87,"display_name":"Kevin K"},"score":0,"creation_date":1599801680,"post_id":63840898,"comment_id":112891984,"body_markdown":"I updated my answer [here](https://stackoverflow.com/a/63840969/292728) to include more information that I think will help with this","body":"I updated my answer <a href=\"https://stackoverflow.com/a/63840969/292728\">here</a> to include more information that I think will help with this"},{"owner":{"account_id":1838479,"reputation":1083,"user_id":1668384,"accept_rate":54,"display_name":"Kumar"},"score":0,"creation_date":1599813370,"post_id":63840898,"comment_id":112896287,"body_markdown":"@KevinK, I tried your sample and while the method returned what its supposed to return, it was actually called despite being mocked. Is that expected? Did it happen in your sample as well?","body":"@KevinK, I tried your sample and while the method returned what its supposed to return, it was actually called despite being mocked. Is that expected? Did it happen in your sample as well?"},{"owner":{"account_id":11580831,"reputation":2846,"user_id":8484783,"display_name":"Marc"},"score":1,"creation_date":1599817764,"post_id":63840898,"comment_id":112898383,"body_markdown":"@Kumar it is expected reading the docs. The solution would be to use `doReturn().when()` syntax but is still not supported, check the details on my answer.","body":"@Kumar it is expected reading the docs. The solution would be to use <code>doReturn().when()</code> syntax but is still not supported, check the details on my answer."}],"answers":[{"comments":[{"owner":{"account_id":1838479,"reputation":1083,"user_id":1668384,"accept_rate":54,"display_name":"Kumar"},"score":0,"creation_date":1599807559,"post_id":63841319,"comment_id":112893734,"body_markdown":"did you actually try this method yourself? I tried and it ended up calling the static method that was mocked. Let me try it out in a sample project instead of the legacy project I&#39;m using now.","body":"did you actually try this method yourself? I tried and it ended up calling the static method that was mocked. Let me try it out in a sample project instead of the legacy project I&#39;m using now."},{"owner":{"account_id":11580831,"reputation":2846,"user_id":8484783,"display_name":"Marc"},"score":0,"creation_date":1599808673,"post_id":63841319,"comment_id":112894191,"body_markdown":"Yes I tried myself, using the class `Sample` I provided. It shouldn&#39;t be a problem to reproduce it. Let me know otherwise.","body":"Yes I tried myself, using the class <code>Sample</code> I provided. It shouldn&#39;t be a problem to reproduce it. Let me know otherwise."},{"owner":{"account_id":1838479,"reputation":1083,"user_id":1668384,"accept_rate":54,"display_name":"Kumar"},"score":1,"creation_date":1599813261,"post_id":63841319,"comment_id":112896233,"body_markdown":"I tried it and the mocked method returns the expected response. But I also noticed that the mocked method is being called (despite the response being what is specified in the test). Is this expected?","body":"I tried it and the mocked method returns the expected response. But I also noticed that the mocked method is being called (despite the response being what is specified in the test). Is this expected?"},{"owner":{"account_id":11580831,"reputation":2846,"user_id":8484783,"display_name":"Marc"},"score":2,"creation_date":1599815848,"post_id":63841319,"comment_id":112897432,"body_markdown":"@Kumar It seems to be the expected behavior from the docs (see my updated answer). So the static method is stubbed but still called. The question now is how to use `doReturn` syntax for a static method to ensure that the real stubbed method is not called.","body":"@Kumar It seems to be the expected behavior from the docs (see my updated answer). So the static method is stubbed but still called. The question now is how to use <code>doReturn</code> syntax for a static method to ensure that the real stubbed method is not called."},{"owner":{"account_id":6401714,"reputation":5744,"user_id":4964136,"accept_rate":100,"display_name":"Vishwa Ratna"},"score":0,"creation_date":1599822115,"post_id":63841319,"comment_id":112900266,"body_markdown":"...However, using Mockito.CALLS_REAL_METHODS you can configure the mock to actually trigger the real methods... use `@spy` when you want to test actual method with their internal.","body":"...However, using Mockito.CALLS_REAL_METHODS you can configure the mock to actually trigger the real methods... use <code>@spy</code> when you want to test actual method with their internal."},{"owner":{"account_id":13731053,"reputation":135,"user_id":9908563,"display_name":"Thomas Pires"},"score":1,"creation_date":1656589421,"post_id":63841319,"comment_id":128612825,"body_markdown":"Nice answer. Still working with Mockito 4.6.1","body":"Nice answer. Still working with Mockito 4.6.1"},{"owner":{"account_id":5698413,"reputation":69,"user_id":4504252,"display_name":"Muhammad Abdullah"},"score":1,"creation_date":1701426347,"post_id":63841319,"comment_id":136776815,"body_markdown":"Especially logged in to thank you :)","body":"Especially logged in to thank you :)"}],"tags":[],"owner":{"account_id":11580831,"reputation":2846,"user_id":8484783,"display_name":"Marc"},"comment_count":7,"down_vote_count":0,"up_vote_count":65,"is_accepted":true,"score":65,"last_activity_date":1673522660,"creation_date":1599802640,"answer_id":63841319,"question_id":63840898,"body_markdown":"By default all methods are mocked. However, using `Mockito.CALLS_REAL_METHODS` you can configure the mock to actually trigger the real methods excluding only one. \r\n\r\nFor example given the class `Sample`:\r\n\r\n    class Sample{\r\n    \tstatic String method1(String s) {\r\n    \t\treturn s;\r\n    \t}\r\n    \tstatic String method2(String s) {\r\n    \t\treturn s;\r\n    \t}\r\n    }\r\n\r\nIf we want to mock only `method1`:\r\n\r\n\t@Test\r\n\tpublic void singleStaticMethodTest(){\r\n\t\ttry (MockedStatic&lt;Sample&gt; mocked = Mockito.mockStatic(Sample.class,Mockito.CALLS_REAL_METHODS)) {\r\n\t\t\tmocked.when(() -&gt; Sample.method1(anyString())).thenReturn(&quot;bar&quot;);\r\n\t\t\tassertEquals(&quot;bar&quot;, Sample.method1(&quot;foo&quot;)); // mocked\r\n\t\t\tassertEquals(&quot;foo&quot;, Sample.method2(&quot;foo&quot;)); // not mocked\r\n\t\t}\r\n\t}\r\n- - -\r\n\r\n**Be aware** that the real `Sample.method1()` will still be called. From `Mockito.CALLS_REAL_METHODS` docs:\r\n\r\n&gt; This implementation can be helpful when working with legacy code. When\r\n&gt; this implementation is used, unstubbed methods will delegate to the\r\n&gt; real implementation. This is a way to create a partial mock object\r\n&gt; that calls real methods by default.\r\n&gt; ...\r\n\r\n&gt; Note 1: Stubbing partial mocks using\r\n&gt; `when(mock.getSomething()).thenReturn(fakeValue)` syntax will call the\r\n&gt; real method. For partial mock it&#39;s recommended to use `doReturn`\r\n&gt; syntax.\r\n\r\nSo if you don&#39;t want to trigger the stubbed static method at all, the solution would be to use the syntax `doReturn` (as the doc suggests) but for static methods is still not supported:\r\n\r\n\t@Test\r\n\tpublic void singleStaticMethodTest() {\r\n\t\ttry (MockedStatic&lt;Sample&gt; mocked = Mockito.mockStatic(Sample.class,Mockito.CALLS_REAL_METHODS)) {\r\n\t\t\tdoReturn(&quot;bar&quot;).when(mocked).method1(anyString()); // Compilation error!\r\n\t\t\t//...\r\n\t\t}\r\n\t}\r\n\r\nAbout this check this [issue][1].\r\n\r\n\r\n  [1]: https://github.com/mockito/mockito/issues/2027","title":"How to mock just one static method in a class using Mockito?","body":"<p>By default all methods are mocked. However, using <code>Mockito.CALLS_REAL_METHODS</code> you can configure the mock to actually trigger the real methods excluding only one.</p>\n<p>For example given the class <code>Sample</code>:</p>\n<pre><code>class Sample{\n    static String method1(String s) {\n        return s;\n    }\n    static String method2(String s) {\n        return s;\n    }\n}\n</code></pre>\n<p>If we want to mock only <code>method1</code>:</p>\n<pre><code>@Test\npublic void singleStaticMethodTest(){\n    try (MockedStatic&lt;Sample&gt; mocked = Mockito.mockStatic(Sample.class,Mockito.CALLS_REAL_METHODS)) {\n        mocked.when(() -&gt; Sample.method1(anyString())).thenReturn(&quot;bar&quot;);\n        assertEquals(&quot;bar&quot;, Sample.method1(&quot;foo&quot;)); // mocked\n        assertEquals(&quot;foo&quot;, Sample.method2(&quot;foo&quot;)); // not mocked\n    }\n}\n</code></pre>\n<hr />\n<p><strong>Be aware</strong> that the real <code>Sample.method1()</code> will still be called. From <code>Mockito.CALLS_REAL_METHODS</code> docs:</p>\n<blockquote>\n<p>This implementation can be helpful when working with legacy code. When\nthis implementation is used, unstubbed methods will delegate to the\nreal implementation. This is a way to create a partial mock object\nthat calls real methods by default.\n...</p>\n</blockquote>\n<blockquote>\n<p>Note 1: Stubbing partial mocks using\n<code>when(mock.getSomething()).thenReturn(fakeValue)</code> syntax will call the\nreal method. For partial mock it's recommended to use <code>doReturn</code>\nsyntax.</p>\n</blockquote>\n<p>So if you don't want to trigger the stubbed static method at all, the solution would be to use the syntax <code>doReturn</code> (as the doc suggests) but for static methods is still not supported:</p>\n<pre><code>@Test\npublic void singleStaticMethodTest() {\n    try (MockedStatic&lt;Sample&gt; mocked = Mockito.mockStatic(Sample.class,Mockito.CALLS_REAL_METHODS)) {\n        doReturn(&quot;bar&quot;).when(mocked).method1(anyString()); // Compilation error!\n        //...\n    }\n}\n</code></pre>\n<p>About this check this <a href=\"https://github.com/mockito/mockito/issues/2027\" rel=\"noreferrer\">issue</a>.</p>\n"}],"owner":{"account_id":1838479,"reputation":1083,"user_id":1668384,"accept_rate":54,"display_name":"Kumar"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38667,"favorite_count":0,"down_vote_count":0,"up_vote_count":40,"accepted_answer_id":63841319,"answer_count":1,"score":40,"last_activity_date":1673522660,"creation_date":1599799402,"question_id":63840898,"body_markdown":"The following line seems to mock all static methods in the class:\r\n```\r\nMockedStatic &lt;Sample&gt; sampleMock = Mockito.mockStatic( Sample.class );\r\nsampleMock.when( () -&gt; Sample.sampleStaticMethod( Mockito.any( String.class ) ) ).thenReturn( &quot;response&quot; );\r\n```\r\n\r\nIs it possible to mock just one static method in a class?","title":"How to mock just one static method in a class using Mockito?","body":"<p>The following line seems to mock all static methods in the class:</p>\n<pre><code>MockedStatic &lt;Sample&gt; sampleMock = Mockito.mockStatic( Sample.class );\nsampleMock.when( () -&gt; Sample.sampleStaticMethod( Mockito.any( String.class ) ) ).thenReturn( &quot;response&quot; );\n</code></pre>\n<p>Is it possible to mock just one static method in a class?</p>\n"},{"tags":["java","sql","hibernate","jpa","select-n-plus-1"],"answers":[{"tags":[],"owner":{"account_id":1012936,"reputation":145178,"user_id":1025118,"accept_rate":100,"display_name":"Vlad Mihalcea"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1586600618,"creation_date":1586544398,"answer_id":61146724,"question_id":61145966,"body_markdown":"Transaction handling\r\n--------------------\r\n\r\nEach test should manage transactions. So, you should remove the `@Transactional` annotation you added at the class level.\r\n\r\nSo, you inject a `TransactionTemplate` bean:\r\n\r\n    @Autowired\r\n    private TransactionTemplate transactionTemplate;\r\n\r\n\r\nAnd, then you save the entity in one transaction:\r\n\r\n    @Test\r\n    public void validateQueries() {\r\n    \ttry {\r\n    \t\ttransactionTemplate.execute((TransactionCallback&lt;Void&gt;) transactionStatus -&gt; {\r\n    \t\t\tTestObject testObject = new TestObject(1L);\r\n    \t\t\trepository.save(testObject);\r\n    \t\t\t\r\n    \t\t\treturn null;\r\n    \t\t});\r\n    \t} catch (TransactionException e) {\r\n    \t\tLOGGER.error(&quot;Failure&quot;, e);\r\n    \t}\r\n    \t\r\n    \tSQLStatementCountValidator.reset();\r\n    \trepository.findOne(1L);\t\r\n    \tSQLStatementCountValidator.assertSelectCount(1);\r\n    }\r\n\r\nYou can extract the transaction handling logic in a base class method to simplify the exception handling.","title":"Detecting N+1 query issues during testing with JPA and Hibernate","body":"<h2>Transaction handling</h2>\n\n<p>Each test should manage transactions. So, you should remove the <code>@Transactional</code> annotation you added at the class level.</p>\n\n<p>So, you inject a <code>TransactionTemplate</code> bean:</p>\n\n<pre><code>@Autowired\nprivate TransactionTemplate transactionTemplate;\n</code></pre>\n\n<p>And, then you save the entity in one transaction:</p>\n\n<pre><code>@Test\npublic void validateQueries() {\n    try {\n        transactionTemplate.execute((TransactionCallback&lt;Void&gt;) transactionStatus -&gt; {\n            TestObject testObject = new TestObject(1L);\n            repository.save(testObject);\n\n            return null;\n        });\n    } catch (TransactionException e) {\n        LOGGER.error(\"Failure\", e);\n    }\n\n    SQLStatementCountValidator.reset();\n    repository.findOne(1L); \n    SQLStatementCountValidator.assertSelectCount(1);\n}\n</code></pre>\n\n<p>You can extract the transaction handling logic in a base class method to simplify the exception handling.</p>\n"}],"owner":{"account_id":86075,"reputation":966,"user_id":239613,"display_name":"Gast&#243;n Fournier"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":465,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1673522613,"creation_date":1586541548,"question_id":61145966,"body_markdown":"We&#39;re using [Hypersistence Utils](https://github.com/vladmihalcea/hypersistence-utils), which is a great tool, but we&#39;re facing a challenge regarding Session cache, as mentioned in another question; it [can&#39;t be disabled](https://stackoverflow.com/a/34163440/239613). \r\n\r\nSo, the following test fails because `findOne` fetches the object from the session cache:\r\n```java\r\n    @Test\r\n    public void validateQueries() {\r\n        // when (scenario definition)\r\n        TestObject testObject = new TestObject(1L);\r\n        repository.save(testObject);\r\n        SQLStatementCountValidator.reset();\r\n    \r\n        repository.findOne(1L);\r\n        SQLStatementCountValidator.assertSelectCount(1);\r\n    }\r\n```\r\n\r\nThere&#39;s a workaround calling `entityManager.clear()` every time `SQLStatementCountValidator.reset()` is called.\r\n\r\nNow, the workaround is fine, but error-prone because now we have to inject EntityManager as a dependency of our tests and remember to call `entityManager.clear()` after saving all the objects that represent our scenario.\r\n\r\n**Questions**\r\n\r\n1. What would be the best way of achieving this? \r\n2. Would you expect SQLStatementCountValidator to also clear the entityManager?\r\n\r\n---\r\nHere you can check the log statements (the last one)\r\n```\r\n09:59.956 [main] [TRACE] o.h.e.i.AbstractSaveEventListener - Transient instance of: TestObject\r\n09:59.957 [main] [TRACE] o.h.e.i.DefaultPersistEventListener - Saving transient instance\r\n09:59.962 [main] [TRACE] o.h.e.i.AbstractSaveEventListener - Saving [TestObject#&lt;null&gt;]\r\nHibernate: \r\n    insert \r\n    into\r\n        test_object\r\n        (id, creation_time, &quot;update_time&quot;, &quot;name&quot;) \r\n    values\r\n        (null, ?, ?, ?)\r\n10:00.005 [main] [TRACE] o.h.e.i.AbstractFlushingEventListener - Flushing session\r\n10:00.005 [main] [DEBUG] o.h.e.i.AbstractFlushingEventListener - Processing flush-time cascades\r\n10:00.007 [main] [DEBUG] o.h.e.i.AbstractFlushingEventListener - Dirty checking collections\r\n10:00.007 [main] [TRACE] o.h.e.i.AbstractFlushingEventListener - Flushing entities and processing referenced collections\r\n10:00.011 [main] [TRACE] o.h.e.i.AbstractFlushingEventListener - Processing unreferenced collections\r\n10:00.011 [main] [TRACE] o.h.e.i.AbstractFlushingEventListener - Scheduling collection removes/(re)creates/updates\r\n10:00.011 [main] [DEBUG] o.h.e.i.AbstractFlushingEventListener - Flushed: 0 insertions, 0 updates, 0 deletions to 1 objects\r\n10:00.011 [main] [DEBUG] o.h.e.i.AbstractFlushingEventListener - Flushed: 0 (re)creations, 0 updates, 0 removals to 0 collections\r\n10:00.015 [main] [TRACE] o.h.e.i.AbstractFlushingEventListener - Executing flush\r\n10:00.015 [main] [TRACE] o.h.e.i.AbstractFlushingEventListener - Post flush\r\n10:02.780 [main] [TRACE] o.h.e.i.DefaultLoadEventListener - Loading entity: [TestObject#1]\r\n10:08.439 [main] [TRACE] o.h.e.i.DefaultLoadEventListener - Attempting to resolve: [TestObject#1]\r\n10:08.439 [main] [TRACE] o.h.e.i.DefaultLoadEventListener - Resolved object in session cache: [TestObject#1]\r\n\r\ncom.vladmihalcea.sql.exception.SQLSelectCountMismatchException: Expected 1 statements but recorded 0 instead!\r\n```\r\n\r\n---\r\n\r\nThis is how the workaround code looks like:\r\n```java\r\n    @Test\r\n    public void validateQueries() {\r\n        // when (scenario definition)\r\n        TestObject testObject = new TestObject(1L);\r\n        repository.save(testObject);\r\n        entityManager.clear();\r\n        SQLStatementCountValidator.reset();\r\n    \r\n        repository.findOne(1L);\r\n        SQLStatementCountValidator.assertSelectCount(1);\r\n    }\r\n```","title":"Detecting N+1 query issues during testing with JPA and Hibernate","body":"<p>We're using <a href=\"https://github.com/vladmihalcea/hypersistence-utils\" rel=\"nofollow noreferrer\">Hypersistence Utils</a>, which is a great tool, but we're facing a challenge regarding Session cache, as mentioned in another question; it <a href=\"https://stackoverflow.com/a/34163440/239613\">can't be disabled</a>.</p>\n<p>So, the following test fails because <code>findOne</code> fetches the object from the session cache:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Test\n    public void validateQueries() {\n        // when (scenario definition)\n        TestObject testObject = new TestObject(1L);\n        repository.save(testObject);\n        SQLStatementCountValidator.reset();\n    \n        repository.findOne(1L);\n        SQLStatementCountValidator.assertSelectCount(1);\n    }\n</code></pre>\n<p>There's a workaround calling <code>entityManager.clear()</code> every time <code>SQLStatementCountValidator.reset()</code> is called.</p>\n<p>Now, the workaround is fine, but error-prone because now we have to inject EntityManager as a dependency of our tests and remember to call <code>entityManager.clear()</code> after saving all the objects that represent our scenario.</p>\n<p><strong>Questions</strong></p>\n<ol>\n<li>What would be the best way of achieving this?</li>\n<li>Would you expect SQLStatementCountValidator to also clear the entityManager?</li>\n</ol>\n<hr />\n<p>Here you can check the log statements (the last one)</p>\n<pre><code>09:59.956 [main] [TRACE] o.h.e.i.AbstractSaveEventListener - Transient instance of: TestObject\n09:59.957 [main] [TRACE] o.h.e.i.DefaultPersistEventListener - Saving transient instance\n09:59.962 [main] [TRACE] o.h.e.i.AbstractSaveEventListener - Saving [TestObject#&lt;null&gt;]\nHibernate: \n    insert \n    into\n        test_object\n        (id, creation_time, &quot;update_time&quot;, &quot;name&quot;) \n    values\n        (null, ?, ?, ?)\n10:00.005 [main] [TRACE] o.h.e.i.AbstractFlushingEventListener - Flushing session\n10:00.005 [main] [DEBUG] o.h.e.i.AbstractFlushingEventListener - Processing flush-time cascades\n10:00.007 [main] [DEBUG] o.h.e.i.AbstractFlushingEventListener - Dirty checking collections\n10:00.007 [main] [TRACE] o.h.e.i.AbstractFlushingEventListener - Flushing entities and processing referenced collections\n10:00.011 [main] [TRACE] o.h.e.i.AbstractFlushingEventListener - Processing unreferenced collections\n10:00.011 [main] [TRACE] o.h.e.i.AbstractFlushingEventListener - Scheduling collection removes/(re)creates/updates\n10:00.011 [main] [DEBUG] o.h.e.i.AbstractFlushingEventListener - Flushed: 0 insertions, 0 updates, 0 deletions to 1 objects\n10:00.011 [main] [DEBUG] o.h.e.i.AbstractFlushingEventListener - Flushed: 0 (re)creations, 0 updates, 0 removals to 0 collections\n10:00.015 [main] [TRACE] o.h.e.i.AbstractFlushingEventListener - Executing flush\n10:00.015 [main] [TRACE] o.h.e.i.AbstractFlushingEventListener - Post flush\n10:02.780 [main] [TRACE] o.h.e.i.DefaultLoadEventListener - Loading entity: [TestObject#1]\n10:08.439 [main] [TRACE] o.h.e.i.DefaultLoadEventListener - Attempting to resolve: [TestObject#1]\n10:08.439 [main] [TRACE] o.h.e.i.DefaultLoadEventListener - Resolved object in session cache: [TestObject#1]\n\ncom.vladmihalcea.sql.exception.SQLSelectCountMismatchException: Expected 1 statements but recorded 0 instead!\n</code></pre>\n<hr />\n<p>This is how the workaround code looks like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Test\n    public void validateQueries() {\n        // when (scenario definition)\n        TestObject testObject = new TestObject(1L);\n        repository.save(testObject);\n        entityManager.clear();\n        SQLStatementCountValidator.reset();\n    \n        repository.findOne(1L);\n        SQLStatementCountValidator.assertSelectCount(1);\n    }\n</code></pre>\n"},{"tags":["java","hibernate","jpa","many-to-one","select-n-plus-1"],"answers":[{"tags":[],"owner":{"account_id":4737832,"reputation":1453,"user_id":3831651,"display_name":"Rohith K"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1420550391,"creation_date":1420550391,"answer_id":27799557,"question_id":27799455,"body_markdown":"In this Method there are Multiple SQLs fired. This first one is fired for retrieving all the records in the Parent table. The remaining are fired for retrieving records for each Parent Record. The first query retrieves M records from database, in this case M Parent records. For each Parent a new query retrieves Child.","title":"Hibernate creating N+1 queries for @ManyToOne JPA annotated property","body":"<p>In this Method there are Multiple SQLs fired. This first one is fired for retrieving all the records in the Parent table. The remaining are fired for retrieving records for each Parent Record. The first query retrieves M records from database, in this case M Parent records. For each Parent a new query retrieves Child.</p>\n"},{"comments":[{"owner":{"account_id":2701814,"reputation":7439,"user_id":2332384,"accept_rate":68,"display_name":"Mateus Viccari"},"score":0,"creation_date":1420551128,"post_id":27799560,"comment_id":44007894,"body_markdown":"Well actually it works fine, but is there a way to do it using annotations? Because let&#39;s say we have a lot of @ManyToOne annotated fields, i don&#39;t want to write a lot of JOIN FETCH XXX just to avoid the problem...","body":"Well actually it works fine, but is there a way to do it using annotations? Because let&#39;s say we have a lot of @ManyToOne annotated fields, i don&#39;t want to write a lot of JOIN FETCH XXX just to avoid the problem..."},{"owner":{"account_id":5077780,"reputation":24093,"user_id":4074715,"display_name":"Predrag Maric"},"score":1,"creation_date":1420551299,"post_id":27799560,"comment_id":44007997,"body_markdown":"Hibernate has a `@Fetch` annotation that you can use, put `@Fetch(FetchMode.JOIN)` on your relation mapping.","body":"Hibernate has a <code>@Fetch</code> annotation that you can use, put <code>@Fetch(FetchMode.JOIN)</code> on your relation mapping."},{"owner":{"account_id":2701814,"reputation":7439,"user_id":2332384,"accept_rate":68,"display_name":"Mateus Viccari"},"score":1,"creation_date":1420557612,"post_id":27799560,"comment_id":44011934,"body_markdown":"Even using `@Fetch(FetchMode.JOIN)` it still creates additional queries. Guess i&#39;ll have to work with the query fix.","body":"Even using <code>@Fetch(FetchMode.JOIN)</code> it still creates additional queries. Guess i&#39;ll have to work with the query fix."},{"owner":{"account_id":5077780,"reputation":24093,"user_id":4074715,"display_name":"Predrag Maric"},"score":1,"creation_date":1420557710,"post_id":27799560,"comment_id":44011999,"body_markdown":"Maybe `@Fetch` is ignored in queries, but is used if you get the entity using `session.get()`, you might check if that&#39;s true.","body":"Maybe <code>@Fetch</code> is ignored in queries, but is used if you get the entity using <code>session.get()</code>, you might check if that&#39;s true."},{"owner":{"account_id":9552046,"reputation":692,"user_id":7095884,"accept_rate":69,"display_name":"olivmir"},"score":0,"creation_date":1527517266,"post_id":27799560,"comment_id":88146748,"body_markdown":"@PredragMaric Yes, it is ignored - see also https://stackoverflow.com/a/36797931/7095884","body":"@PredragMaric Yes, it is ignored - see also <a href=\"https://stackoverflow.com/a/36797931/7095884\">stackoverflow.com/a/36797931/7095884</a>"},{"owner":{"account_id":10066191,"reputation":1108,"user_id":7441319,"display_name":"Alkis Mavridis"},"score":1,"creation_date":1579622261,"post_id":27799560,"comment_id":105823687,"body_markdown":"Does not work for me. QueryException: query specified join fetching, but the owner of the fetched association was not present in the select list","body":"Does not work for me. QueryException: query specified join fetching, but the owner of the fetched association was not present in the select list"}],"tags":[],"owner":{"account_id":5077780,"reputation":24093,"user_id":4074715,"display_name":"Predrag Maric"},"comment_count":6,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1420550407,"creation_date":1420550407,"answer_id":27799560,"question_id":27799455,"body_markdown":"Try with \r\n\r\n    session.createQuery(&quot;select i from InvoiceItem i join fetch i.invoice inv&quot;).list();\r\n\r\nIt should get all the data in a single SQL query by using joins.","title":"Hibernate creating N+1 queries for @ManyToOne JPA annotated property","body":"<p>Try with </p>\n\n<pre><code>session.createQuery(\"select i from InvoiceItem i join fetch i.invoice inv\").list();\n</code></pre>\n\n<p>It should get all the data in a single SQL query by using joins.</p>\n"},{"tags":[],"owner":{"account_id":1853233,"reputation":122831,"user_id":1679310,"display_name":"Radim K&#246;hler"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1420551319,"creation_date":1420551319,"answer_id":27799807,"question_id":27799455,"body_markdown":"Yes there is setting you need: **`@BatchSize(size=25)`**. Check it here:\r\n\r\n[20.1.5. Using batch fetching][1]\r\n\r\n*small cite:*\r\n\r\n&gt; Using batch fetching, Hibernate can load several uninitialized proxies if one proxy is accessed. Batch fetching is an optimization of the lazy select fetching strategy. There are two ways you can configure batch fetching: on the class level and the collection level.\r\n\r\n&gt; Batch fetching for classes/entities is easier to understand. Consider the following example: at runtime you have 25 Cat instances loaded in a Session, and each Cat has a reference to its owner, a Person. The Person class is mapped with a proxy, lazy=&quot;true&quot;. If you now iterate through all cats and call getOwner() on each, Hibernate will, by default, execute 25 SELECT statements to retrieve the proxied owners. You can tune this behavior by specifying a batch-size in the mapping of Person:\r\n\r\n    &lt;class name=&quot;Person&quot; batch-size=&quot;10&quot;&gt;...&lt;/class&gt;\r\n\r\n&gt; With this batch-size specified, Hibernate will now execute queries on demand when need to access the uninitialized proxy, as above, but the difference is that instead of querying the exactly proxy entity that being accessed, it will query more Person&#39;s owner at once, so, when accessing other person&#39;s owner, it may already been initialized by this batch fetch with only a few ( much less than 25) queries will be executed. \r\n\r\nSo, we can use that annotation on both:\r\n\r\n- collections/sets\r\n- classes/Entities\r\n\r\nCheck it also here:\r\n\r\n- https://stackoverflow.com/q/27688343/1679310\r\n\r\n\r\n  [1]: http://docs.jboss.org/hibernate/orm/4.3/manual/en-US/html_single/#performance-fetching-batch","title":"Hibernate creating N+1 queries for @ManyToOne JPA annotated property","body":"<p>Yes there is setting you need: <strong><code>@BatchSize(size=25)</code></strong>. Check it here:</p>\n\n<p><a href=\"http://docs.jboss.org/hibernate/orm/4.3/manual/en-US/html_single/#performance-fetching-batch\" rel=\"nofollow noreferrer\">20.1.5. Using batch fetching</a></p>\n\n<p><em>small cite:</em></p>\n\n<blockquote>\n  <p>Using batch fetching, Hibernate can load several uninitialized proxies if one proxy is accessed. Batch fetching is an optimization of the lazy select fetching strategy. There are two ways you can configure batch fetching: on the class level and the collection level.</p>\n  \n  <p>Batch fetching for classes/entities is easier to understand. Consider the following example: at runtime you have 25 Cat instances loaded in a Session, and each Cat has a reference to its owner, a Person. The Person class is mapped with a proxy, lazy=\"true\". If you now iterate through all cats and call getOwner() on each, Hibernate will, by default, execute 25 SELECT statements to retrieve the proxied owners. You can tune this behavior by specifying a batch-size in the mapping of Person:</p>\n</blockquote>\n\n<pre><code>&lt;class name=\"Person\" batch-size=\"10\"&gt;...&lt;/class&gt;\n</code></pre>\n\n<blockquote>\n  <p>With this batch-size specified, Hibernate will now execute queries on demand when need to access the uninitialized proxy, as above, but the difference is that instead of querying the exactly proxy entity that being accessed, it will query more Person's owner at once, so, when accessing other person's owner, it may already been initialized by this batch fetch with only a few ( much less than 25) queries will be executed. </p>\n</blockquote>\n\n<p>So, we can use that annotation on both:</p>\n\n<ul>\n<li>collections/sets</li>\n<li>classes/Entities</li>\n</ul>\n\n<p>Check it also here:</p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/q/27688343/1679310\">@BatchSize but many round trip in @ManyToOne case</a></li>\n</ul>\n"},{"comments":[{"owner":{"account_id":2871379,"reputation":2214,"user_id":2464657,"accept_rate":100,"display_name":"Adam"},"score":0,"creation_date":1552942048,"post_id":54528693,"comment_id":97194027,"body_markdown":"&quot;However, when executing a query that does not explicitly use a JOIN FETCH clause, Hibernate will not use a JOIN to fetch the FetchTYpe.EAGER associations, as it cannot alter the query that you already specified how to be constructed. So, it can only use secondary queries.&quot;\n\n\nFrom my recent testing, I have seen this is not applicable to Criteria queries. Is that true?","body":"&quot;However, when executing a query that does not explicitly use a JOIN FETCH clause, Hibernate will not use a JOIN to fetch the FetchTYpe.EAGER associations, as it cannot alter the query that you already specified how to be constructed. So, it can only use secondary queries.&quot;   From my recent testing, I have seen this is not applicable to Criteria queries. Is that true?"},{"owner":{"account_id":1012936,"reputation":145178,"user_id":1025118,"accept_rate":100,"display_name":"Vlad Mihalcea"},"score":0,"creation_date":1552942458,"post_id":54528693,"comment_id":97194207,"body_markdown":"Do you have a replicating test case which shows that?","body":"Do you have a replicating test case which shows that?"},{"owner":{"account_id":2871379,"reputation":2214,"user_id":2464657,"accept_rate":100,"display_name":"Adam"},"score":0,"creation_date":1553111724,"post_id":54528693,"comment_id":97269375,"body_markdown":"Its a bit hard to create a test project for this due to the complexity of how I am currently bootstrapping but I will try and remember to make a project which shows this when I get chance. The basic idea is when I select an entity which \nhas an @ManyToOne relationship, in the Critieria query case I see a single SQL query being executed (and the related entity is joined to). In the JPQL case, I see two SQL queries being executed, the second of which selects the related entity. I wasn&#39;t using your tool to count queries, just looking at SQL output (hibernate.show_sql = true).","body":"Its a bit hard to create a test project for this due to the complexity of how I am currently bootstrapping but I will try and remember to make a project which shows this when I get chance. The basic idea is when I select an entity which  has an @ManyToOne relationship, in the Critieria query case I see a single SQL query being executed (and the related entity is joined to). In the JPQL case, I see two SQL queries being executed, the second of which selects the related entity. I wasn&#39;t using your tool to count queries, just looking at SQL output (hibernate.show_sql = true)."},{"owner":{"account_id":9697932,"reputation":1242,"user_id":7193786,"accept_rate":87,"display_name":"Sahbaz"},"score":0,"creation_date":1579710381,"post_id":54528693,"comment_id":105859672,"body_markdown":"Can you please look at this problem ? \n\nhttps://stackoverflow.com/questions/59849508/hibernate-is-making-extra-sql-statement-with-manytoone-and-lazy-fetching-objec","body":"Can you please look at this problem ?   <a href=\"https://stackoverflow.com/questions/59849508/hibernate-is-making-extra-sql-statement-with-manytoone-and-lazy-fetching-objec\" title=\"hibernate is making extra sql statement with manytoone and lazy fetching objec\">stackoverflow.com/questions/59849508/&hellip;</a>"},{"owner":{"account_id":4682052,"reputation":1016,"user_id":3790512,"accept_rate":64,"display_name":"ThCollignon"},"score":0,"creation_date":1662024677,"post_id":54528693,"comment_id":129912412,"body_markdown":"A note as it occurred to me: `FetchType.LAZY` won&#39;t make any difference in the number of SQL requests if after your query you access data from the joined table. In that case a `JOIN FETCH` is necessary.","body":"A note as it occurred to me: <code>FetchType.LAZY</code> won&#39;t make any difference in the number of SQL requests if after your query you access data from the joined table. In that case a <code>JOIN FETCH</code> is necessary."}],"tags":[],"owner":{"account_id":1012936,"reputation":145178,"user_id":1025118,"accept_rate":100,"display_name":"Vlad Mihalcea"},"comment_count":5,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1673522571,"creation_date":1549347590,"answer_id":54528693,"question_id":27799455,"body_markdown":"The problem here is not related to Hibernate but to JPA.\r\n\r\nPrior to JPA 1.0, Hibernate 3 used lazy loading for all associations. \r\n\r\nHowever, the JPA 1.0 specification uses `FetchType.LAZY` only for collection associations:\r\n \r\n- [`@OneToMany`][1], \r\n- [`@ManyToMany`][2]\r\n- [`@ElementCollection`][3])\r\n\r\nThe [`@ManyToOne`][1] and [`@OneToOne`][4] associations use `FetchType.EAGER` by default, and that&#39;s very bad from a performance perspective.\r\n\r\nThe behavior described here is called the [N+1 query issue][5], and it happens because Hibernate needs to make sure that the `@ManyToOne` association is initialized prior to returning the result to the user.\r\n\r\nNow, if you are using direct fetching via `entityManager.find`, Hibernate can use a LEFT JOIN to initialize the `FetchTYpe.EAGER` associations.\r\n\r\nHowever, when executing a query that does not explicitly use a JOIN FETCH clause, Hibernate will not use a JOIN to fetch the `FetchTYpe.EAGER` associations, as it cannot alter the query that you already specified how to be constructed. So, it can only use secondary queries.\r\n\r\nThe fix is simple. Just use `FetchType.LAZY` for all associations:\r\n\r\n```    \r\n   @ManyToOne(fetch = FetchType.LAZY)\r\n   @JoinColumn(name = &quot;invoice_number&quot;, insertable = false, updatable = false)\r\n   private Invoice invoice;\r\n```\r\nMore, you should use the [Hypersistence Utils](https://github.com/vladmihalcea/hypersistence-utils) to assert the number of statements executed by JPA and Hibernate. \r\n\r\n  [1]: https://vladmihalcea.com/the-best-way-to-map-a-onetomany-association-with-jpa-and-hibernate/\r\n  [2]: https://vladmihalcea.com/the-best-way-to-use-the-manytomany-annotation-with-jpa-and-hibernate/\r\n  [3]: https://vladmihalcea.com/how-to-optimize-unidirectional-collections-with-jpa-and-hibernate/\r\n  [4]: https://vladmihalcea.com/the-best-way-to-map-a-onetoone-relationship-with-jpa-and-hibernate/\r\n","title":"Hibernate creating N+1 queries for @ManyToOne JPA annotated property","body":"<p>The problem here is not related to Hibernate but to JPA.</p>\n<p>Prior to JPA 1.0, Hibernate 3 used lazy loading for all associations.</p>\n<p>However, the JPA 1.0 specification uses <code>FetchType.LAZY</code> only for collection associations:</p>\n<ul>\n<li><a href=\"https://vladmihalcea.com/the-best-way-to-map-a-onetomany-association-with-jpa-and-hibernate/\" rel=\"nofollow noreferrer\"><code>@OneToMany</code></a>,</li>\n<li><a href=\"https://vladmihalcea.com/the-best-way-to-use-the-manytomany-annotation-with-jpa-and-hibernate/\" rel=\"nofollow noreferrer\"><code>@ManyToMany</code></a></li>\n<li><a href=\"https://vladmihalcea.com/how-to-optimize-unidirectional-collections-with-jpa-and-hibernate/\" rel=\"nofollow noreferrer\"><code>@ElementCollection</code></a>)</li>\n</ul>\n<p>The <a href=\"https://vladmihalcea.com/the-best-way-to-map-a-onetomany-association-with-jpa-and-hibernate/\" rel=\"nofollow noreferrer\"><code>@ManyToOne</code></a> and <a href=\"https://vladmihalcea.com/the-best-way-to-map-a-onetoone-relationship-with-jpa-and-hibernate/\" rel=\"nofollow noreferrer\"><code>@OneToOne</code></a> associations use <code>FetchType.EAGER</code> by default, and that's very bad from a performance perspective.</p>\n<p>The behavior described here is called the [N+1 query issue][5], and it happens because Hibernate needs to make sure that the <code>@ManyToOne</code> association is initialized prior to returning the result to the user.</p>\n<p>Now, if you are using direct fetching via <code>entityManager.find</code>, Hibernate can use a LEFT JOIN to initialize the <code>FetchTYpe.EAGER</code> associations.</p>\n<p>However, when executing a query that does not explicitly use a JOIN FETCH clause, Hibernate will not use a JOIN to fetch the <code>FetchTYpe.EAGER</code> associations, as it cannot alter the query that you already specified how to be constructed. So, it can only use secondary queries.</p>\n<p>The fix is simple. Just use <code>FetchType.LAZY</code> for all associations:</p>\n<pre><code>   @ManyToOne(fetch = FetchType.LAZY)\n   @JoinColumn(name = &quot;invoice_number&quot;, insertable = false, updatable = false)\n   private Invoice invoice;\n</code></pre>\n<p>More, you should use the <a href=\"https://github.com/vladmihalcea/hypersistence-utils\" rel=\"nofollow noreferrer\">Hypersistence Utils</a> to assert the number of statements executed by JPA and Hibernate.</p>\n"}],"owner":{"account_id":2701814,"reputation":7439,"user_id":2332384,"accept_rate":68,"display_name":"Mateus Viccari"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7276,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":27799560,"answer_count":4,"score":8,"last_activity_date":1673522571,"creation_date":1420550032,"question_id":27799455,"body_markdown":"I have these classes:\r\n\r\n    @Entity\r\n    public class Invoice implements Serializable {\r\n        @Id\r\n        @Basic(optional = false)\r\n        private Integer number;\r\n    \t\r\n        private BigDecimal value;\r\n    \t\r\n    \t//Getters and setters\r\n    }\r\n    \r\n    @Entity\r\n    public class InvoiceItem implements Serializable {\r\n    \t@EmbeddedId\r\n        protected InvoiceItemPK invoiceItemPk;\r\n    \t\r\n    \t@ManyToOne\r\n        @JoinColumn(name = &quot;invoice_number&quot;, insertable = false, updatable = false)\r\n        private Invoice invoice;\r\n    \t\r\n    \t//Getters and setters\r\n    }\r\n\r\nWhen i run this query:\r\n\r\n    session.createQuery(&quot;select i from InvoiceItem i&quot;).list();\r\n\r\nIt executes one query to select the records from InvoiceItem, and if I have 10000 invoice items, it generates 10000 additional queries to select the Invoice from each InvoiceItem.\r\n\r\nI think it would be a lot better if all the records could be fetched in a single sql. Actually, I find it weird why it is not the default behavior.\r\n\r\nSo, how can I do it?","title":"Hibernate creating N+1 queries for @ManyToOne JPA annotated property","body":"<p>I have these classes:</p>\n\n<pre><code>@Entity\npublic class Invoice implements Serializable {\n    @Id\n    @Basic(optional = false)\n    private Integer number;\n\n    private BigDecimal value;\n\n    //Getters and setters\n}\n\n@Entity\npublic class InvoiceItem implements Serializable {\n    @EmbeddedId\n    protected InvoiceItemPK invoiceItemPk;\n\n    @ManyToOne\n    @JoinColumn(name = \"invoice_number\", insertable = false, updatable = false)\n    private Invoice invoice;\n\n    //Getters and setters\n}\n</code></pre>\n\n<p>When i run this query:</p>\n\n<pre><code>session.createQuery(\"select i from InvoiceItem i\").list();\n</code></pre>\n\n<p>It executes one query to select the records from InvoiceItem, and if I have 10000 invoice items, it generates 10000 additional queries to select the Invoice from each InvoiceItem.</p>\n\n<p>I think it would be a lot better if all the records could be fetched in a single sql. Actually, I find it weird why it is not the default behavior.</p>\n\n<p>So, how can I do it?</p>\n"},{"tags":["java","spring","date","jpa","timezone"],"comments":[{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":0,"creation_date":1576561840,"post_id":59368200,"comment_id":104929777,"body_markdown":"Looks like a time zone issue. What database are you using? What time zone is your computer using?","body":"Looks like a time zone issue. What database are you using? What time zone is your computer using?"},{"owner":{"account_id":4158688,"reputation":2520,"user_id":3409234,"display_name":"TanvirChowdhury"},"score":0,"creation_date":1576562020,"post_id":59368200,"comment_id":104929816,"body_markdown":"i m using mySql 5.5 as database and my timeZone is Bangladesh Dhaka","body":"i m using mySql 5.5 as database and my timeZone is Bangladesh Dhaka"},{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":1,"creation_date":1576562814,"post_id":59368200,"comment_id":104930041,"body_markdown":"Possible duplicate of [JPA TemporalType.Date giving wrong date](https://stackoverflow.com/q/5300047/5221149)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/q/5300047/5221149\">JPA TemporalType.Date giving wrong date</a>"},{"owner":{"account_id":4158688,"reputation":2520,"user_id":3409234,"display_name":"TanvirChowdhury"},"score":0,"creation_date":1576573495,"post_id":59368200,"comment_id":104934325,"body_markdown":"Sorry your link does not help me anyway.Please see the edited question.","body":"Sorry your link does not help me anyway.Please see the edited question."}],"answers":[{"comments":[{"owner":{"account_id":8673158,"reputation":56,"user_id":6491389,"display_name":"tchiko"},"score":0,"creation_date":1673521552,"post_id":59728605,"comment_id":132520187,"body_markdown":"can you describe what exactly you did to solve the problem please, I have the same problem.","body":"can you describe what exactly you did to solve the problem please, I have the same problem."}],"tags":[],"owner":{"account_id":4158688,"reputation":2520,"user_id":3409234,"display_name":"TanvirChowdhury"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1578983705,"creation_date":1578983705,"answer_id":59728605,"question_id":59368200,"body_markdown":"updating the database timezone solved this issue.","title":"JPA+Hibernate date displays wrong data","body":"<p>updating the database timezone solved this issue.</p>\n"}],"owner":{"account_id":4158688,"reputation":2520,"user_id":3409234,"display_name":"TanvirChowdhury"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":369,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673522492,"creation_date":1576561440,"question_id":59368200,"body_markdown":"I user hibernate+spring+mysql 5.7. When I save date 20/04/1939, it stores correctly in database.\r\n\r\n    @Column(name = &quot;birth_date&quot;)\r\n        @Temporal(TemporalType.DATE)\r\n        private Date birthDate;\r\n\r\nthe value stored in database after save is 1939-04-20.\r\n\r\nwhen i display it using  \r\n\r\n    person.getBirthDate()\r\n\r\nit displays 19/04/1939. It is not related with my formatting.\r\nThe value it retrieves from db is one day less.\r\n\r\nIt is always showing 1 day less when i use year 1939 with any date. So what&#39;s wrong here? \r\nAlso for other years, dates are showing perfectly.","title":"JPA+Hibernate date displays wrong data","body":"<p>I user hibernate+spring+mysql 5.7. When I save date 20/04/1939, it stores correctly in database.</p>\n\n<pre><code>@Column(name = \"birth_date\")\n    @Temporal(TemporalType.DATE)\n    private Date birthDate;\n</code></pre>\n\n<p>the value stored in database after save is 1939-04-20.</p>\n\n<p>when i display it using  </p>\n\n<pre><code>person.getBirthDate()\n</code></pre>\n\n<p>it displays 19/04/1939. It is not related with my formatting.\nThe value it retrieves from db is one day less.</p>\n\n<p>It is always showing 1 day less when i use year 1939 with any date. So what's wrong here? \nAlso for other years, dates are showing perfectly.</p>\n"},{"tags":["java","xml"],"comments":[{"owner":{"account_id":5613556,"reputation":2315,"user_id":4445625,"accept_rate":50,"display_name":"Marc Stroebel"},"score":0,"creation_date":1673522652,"post_id":75095494,"comment_id":132520544,"body_markdown":"you could use xslt to reorder tags before uploading... https://stackoverflow.com/questions/37442799/xslt-change-element-order","body":"you could use xslt to reorder tags before uploading... <a href=\"https://stackoverflow.com/questions/37442799/xslt-change-element-order\" title=\"xslt change element order\">stackoverflow.com/questions/37442799/xslt-change-element-ord&zwnj;&#8203;er</a>"}],"owner":{"account_id":25101919,"reputation":7,"user_id":18952539,"display_name":"michalbarnat"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673522171,"creation_date":1673522171,"question_id":75095494,"body_markdown":"I have a little problem when I try to upload XML file to BaseLinker.\r\nThe problem is that the properties in XML are mixed, for example one time property name of price is 4th, next time is 6th or 8th. Because of it BaseLinker didn&#39;t upload it correctly.\r\n\r\nSome of my XML :\r\n\r\n\r\n\r\n```\r\n&lt;property name=&quot;grubość&quot;&gt;1&lt;/property&gt;\r\n&lt;property name=&quot;grubość ścianki&quot;&gt;1&lt;/property&gt;\r\n&lt;property name=&quot;średnica&quot;&gt;400&lt;/property&gt;\r\n&lt;property name=&quot;wysokość&quot;&gt;400&lt;/property&gt;\r\n&lt;property name=&quot;Pojemność (l)&quot;&gt;50&lt;/property&gt;\r\n&lt;property name=&quot;opis&quot;&gt;400&lt;/property&gt;\r\n&lt;property name=&quot;wymiary zewnętrzne&quot;&gt;400&lt;/property&gt;\r\n&lt;property name=&quot;waga&quot;&gt;50&lt;/property&gt;\r\n&lt;property name=&quot;wymiary&quot;&gt;1&lt;/property&gt;\r\n&lt;property name=&quot;moc&quot;&gt;1&lt;/property&gt;\r\n&lt;property name=&quot;napięcie&quot;&gt;400x/400h&lt;/property&gt;\r\n&lt;property name=&quot;categoryId&quot;&gt;194&lt;/property&gt;\r\n&lt;property name=&quot;productCode&quot;&gt;832806&lt;/property&gt;\r\n&lt;property name=&quot;largeSize&quot;&gt;0&lt;/property&gt;\r\n&lt;property name=&quot;tillStockLasts&quot;&gt;0&lt;/property&gt;\r\n&lt;property name=&quot;basePrice&quot;&gt;749.00&lt;/property&gt;\r\n&lt;property name=&quot;productId&quot;&gt;950&lt;/property&gt;\r\n```\r\n\r\n\r\n\r\nother line :\r\n\r\n\r\n\r\n```\r\n&lt;property name=&quot;wysokość&quot;&gt;450&lt;/property&gt;\r\n&lt;property name=&quot;wymiary zewnętrzne&quot;&gt;śr. 450x(H) 450 &lt;/property&gt;\r\n&lt;property name=&quot;Pojemność (l)&quot;&gt;70&lt;/property&gt;\r\n&lt;property name=&quot;wymiary&quot;&gt;śr.450x(H)450&lt;/property&gt;\r\n&lt;property name=&quot;categoryId&quot;&gt;194&lt;/property&gt;\r\n&lt;property name=&quot;productCode&quot;&gt;832929&lt;/property&gt;\r\n&lt;property name=&quot;largeSize&quot;&gt;0&lt;/property&gt;\r\n&lt;property name=&quot;tillStockLasts&quot;&gt;0&lt;/property&gt;\r\n&lt;property name=&quot;basePrice&quot;&gt;849.00&lt;/property&gt;\r\n&lt;property name=&quot;productId&quot;&gt;950&lt;/property&gt;\r\n```\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nIs it possible to parse it or use java program that can sort it in correct order? \r\nFor example I wanna have XML of properties like :\r\n`property name=&quot;wysokość&quot;\r\nproperty name=&quot;szerokosc&quot;\r\nproperty name=&quot;productCode&quot;\r\nproperty name=&quot;productID&quot;`\r\n\r\nand so on...","title":"Problem when uploading XML (mixed properties)","body":"<p>I have a little problem when I try to upload XML file to BaseLinker.\nThe problem is that the properties in XML are mixed, for example one time property name of price is 4th, next time is 6th or 8th. Because of it BaseLinker didn't upload it correctly.</p>\n<p>Some of my XML :</p>\n<pre><code>&lt;property name=&quot;grubość&quot;&gt;1&lt;/property&gt;\n&lt;property name=&quot;grubość ścianki&quot;&gt;1&lt;/property&gt;\n&lt;property name=&quot;średnica&quot;&gt;400&lt;/property&gt;\n&lt;property name=&quot;wysokość&quot;&gt;400&lt;/property&gt;\n&lt;property name=&quot;Pojemność (l)&quot;&gt;50&lt;/property&gt;\n&lt;property name=&quot;opis&quot;&gt;400&lt;/property&gt;\n&lt;property name=&quot;wymiary zewnętrzne&quot;&gt;400&lt;/property&gt;\n&lt;property name=&quot;waga&quot;&gt;50&lt;/property&gt;\n&lt;property name=&quot;wymiary&quot;&gt;1&lt;/property&gt;\n&lt;property name=&quot;moc&quot;&gt;1&lt;/property&gt;\n&lt;property name=&quot;napięcie&quot;&gt;400x/400h&lt;/property&gt;\n&lt;property name=&quot;categoryId&quot;&gt;194&lt;/property&gt;\n&lt;property name=&quot;productCode&quot;&gt;832806&lt;/property&gt;\n&lt;property name=&quot;largeSize&quot;&gt;0&lt;/property&gt;\n&lt;property name=&quot;tillStockLasts&quot;&gt;0&lt;/property&gt;\n&lt;property name=&quot;basePrice&quot;&gt;749.00&lt;/property&gt;\n&lt;property name=&quot;productId&quot;&gt;950&lt;/property&gt;\n</code></pre>\n<p>other line :</p>\n<pre><code>&lt;property name=&quot;wysokość&quot;&gt;450&lt;/property&gt;\n&lt;property name=&quot;wymiary zewnętrzne&quot;&gt;śr. 450x(H) 450 &lt;/property&gt;\n&lt;property name=&quot;Pojemność (l)&quot;&gt;70&lt;/property&gt;\n&lt;property name=&quot;wymiary&quot;&gt;śr.450x(H)450&lt;/property&gt;\n&lt;property name=&quot;categoryId&quot;&gt;194&lt;/property&gt;\n&lt;property name=&quot;productCode&quot;&gt;832929&lt;/property&gt;\n&lt;property name=&quot;largeSize&quot;&gt;0&lt;/property&gt;\n&lt;property name=&quot;tillStockLasts&quot;&gt;0&lt;/property&gt;\n&lt;property name=&quot;basePrice&quot;&gt;849.00&lt;/property&gt;\n&lt;property name=&quot;productId&quot;&gt;950&lt;/property&gt;\n</code></pre>\n<p>Is it possible to parse it or use java program that can sort it in correct order?\nFor example I wanna have XML of properties like :\n<code>property name=&quot;wysokość&quot; property name=&quot;szerokosc&quot; property name=&quot;productCode&quot; property name=&quot;productID&quot;</code></p>\n<p>and so on...</p>\n"},{"tags":["java","generated"],"comments":[{"owner":{"account_id":82272,"reputation":8133,"user_id":231456,"accept_rate":78,"display_name":"Jerome Cance"},"score":0,"creation_date":1336397826,"post_id":10483053,"comment_id":13546602,"body_markdown":"It&#39;s hard to answer. What&#39;s really your question ? How to use @Generated or how to use annotation in Java ?","body":"It&#39;s hard to answer. What&#39;s really your question ? How to use @Generated or how to use annotation in Java ?"},{"owner":{"account_id":1065237,"reputation":2090,"user_id":1065992,"accept_rate":78,"display_name":"Blood-HaZaRd"},"score":0,"creation_date":1336397958,"post_id":10483053,"comment_id":13546646,"body_markdown":"The first one, How to use the @Generated in Java","body":"The first one, How to use the @Generated in Java"}],"answers":[{"comments":[{"owner":{"account_id":1065237,"reputation":2090,"user_id":1065992,"accept_rate":78,"display_name":"Blood-HaZaRd"},"score":0,"creation_date":1336398367,"post_id":10483157,"comment_id":13546812,"body_markdown":"Does that mean if we build classes of our project (for instance) then we annotate one classeby  @Generated, the JVM will generate the .class files except the one with the annotation or I m totaly out of scope :/","body":"Does that mean if we build classes of our project (for instance) then we annotate one classeby  @Generated, the JVM will generate the .class files except the one with the annotation or I m totaly out of scope :/"},{"owner":{"account_id":1349821,"reputation":728,"user_id":1289799,"display_name":"Seshagiri"},"score":1,"creation_date":1336398964,"post_id":10483157,"comment_id":13547083,"body_markdown":"Please go through this link http://www.javabeat.net/2007/06/introduction-to-java-6-0-new-features-part-i/","body":"Please go through this link <a href=\"http://www.javabeat.net/2007/06/introduction-to-java-6-0-new-features-part-i/\" rel=\"nofollow noreferrer\">javabeat.net/2007/06/&hellip;</a>"},{"owner":{"account_id":1065237,"reputation":2090,"user_id":1065992,"accept_rate":78,"display_name":"Blood-HaZaRd"},"score":0,"creation_date":1336399201,"post_id":10483157,"comment_id":13547181,"body_markdown":"yeah i tried to post that example as a comment but did not worked. \n\nI know i ask too much but i really did not see what will be generated with in that example.","body":"yeah i tried to post that example as a comment but did not worked.   I know i ask too much but i really did not see what will be generated with in that example."},{"owner":{"account_id":1181763,"reputation":2612,"user_id":1156554,"display_name":"David"},"score":3,"creation_date":1336399219,"post_id":10483157,"comment_id":13547192,"body_markdown":"Per the javadoc, I get the impression the @Generated annotation is just a marker that indicates the code was auto-generated (think JaxB turning XSD into Java code) rather than hand written.  It has elements to identify which generator created the code and at what data / time it was done.  I suppose those might be handy so a generator could run again and notice that an older version had created that code and do some updates.","body":"Per the javadoc, I get the impression the @Generated annotation is just a marker that indicates the code was auto-generated (think JaxB turning XSD into Java code) rather than hand written.  It has elements to identify which generator created the code and at what data / time it was done.  I suppose those might be handy so a generator could run again and notice that an older version had created that code and do some updates."},{"owner":{"account_id":1349821,"reputation":728,"user_id":1289799,"display_name":"Seshagiri"},"score":0,"creation_date":1336399372,"post_id":10483157,"comment_id":13547258,"body_markdown":"@generated annotation is kind of bookmark to indicate the respective code is autogenerated by tools.  So that if any IDE who respects it may block the code to edit.","body":"@generated annotation is kind of bookmark to indicate the respective code is autogenerated by tools.  So that if any IDE who respects it may block the code to edit."},{"owner":{"account_id":1065237,"reputation":2090,"user_id":1065992,"accept_rate":78,"display_name":"Blood-HaZaRd"},"score":0,"creation_date":1336399558,"post_id":10483157,"comment_id":13547323,"body_markdown":"So I have no worry about zones bookmarked with @Generated !!!\n\nThank you Seshagiri for your help. I think It&#39;s more clear now.\nthank you David too.","body":"So I have no worry about zones bookmarked with @Generated !!!  Thank you Seshagiri for your help. I think It&#39;s more clear now. thank you David too."}],"tags":[],"owner":{"account_id":1349821,"reputation":728,"user_id":1289799,"display_name":"Seshagiri"},"comment_count":6,"down_vote_count":0,"up_vote_count":20,"is_accepted":true,"score":20,"last_activity_date":1481910695,"creation_date":1336398103,"answer_id":10483157,"question_id":10483053,"body_markdown":"As per the [JavaDoc][1]:\r\n\r\n&gt; The Generated annoation is used to mark source code that has been generated. It can also be used to differentiate user written code from generated code in a single file.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/8/docs/api/javax/annotation/Generated.html","title":"@Generated Annotation, how do we use it?","body":"<p>As per the <a href=\"http://docs.oracle.com/javase/8/docs/api/javax/annotation/Generated.html\" rel=\"noreferrer\">JavaDoc</a>:</p>\n\n<blockquote>\n  <p>The Generated annoation is used to mark source code that has been generated. It can also be used to differentiate user written code from generated code in a single file.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":418189,"reputation":1882,"user_id":794606,"accept_rate":80,"display_name":"Jacek Cz"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1441463977,"creation_date":1441463977,"answer_id":32414307,"question_id":10483053,"body_markdown":"Fox example are good and bad policies on the border between generated and written code. Way of thinking is (i belive) different in compiled (static) languages, nad interpreted / dynamic.\r\n\r\nWorst is to modify generated code (will be lost at next generation, or next generation is then prohibited)\r\nUsually is accepted to derive (manual) class from generated, or generate class what extends core &quot;manual&quot; class.\r\nIf someone know good policies in this area, please comment.","title":"@Generated Annotation, how do we use it?","body":"<p>Fox example are good and bad policies on the border between generated and written code. Way of thinking is (i belive) different in compiled (static) languages, nad interpreted / dynamic.</p>\n\n<p>Worst is to modify generated code (will be lost at next generation, or next generation is then prohibited)\nUsually is accepted to derive (manual) class from generated, or generate class what extends core \"manual\" class.\nIf someone know good policies in this area, please comment.</p>\n"},{"tags":[],"owner":{"account_id":39409,"reputation":47624,"user_id":113632,"accept_rate":84,"display_name":"dimo414"},"comment_count":0,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1575755711,"creation_date":1481910909,"answer_id":41189914,"question_id":10483053,"body_markdown":"[`@Generated`][1] is used by meta-programs such as [Auto/Value][2] which generate source code so you don&#39;t have to manually write it. If you&#39;re writing a `.java` file by hand (which is normally what one does), don&#39;t use `@Generated`.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/8/docs/api/javax/annotation/Generated.html\r\n  [2]: https://github.com/google/auto/blob/master/value/userguide/index.md","title":"@Generated Annotation, how do we use it?","body":"<p><a href=\"http://docs.oracle.com/javase/8/docs/api/javax/annotation/Generated.html\" rel=\"nofollow noreferrer\"><code>@Generated</code></a> is used by meta-programs such as <a href=\"https://github.com/google/auto/blob/master/value/userguide/index.md\" rel=\"nofollow noreferrer\">Auto/Value</a> which generate source code so you don't have to manually write it. If you're writing a <code>.java</code> file by hand (which is normally what one does), don't use <code>@Generated</code>.</p>\n"},{"tags":[],"owner":{"account_id":1315819,"reputation":1626,"user_id":1262728,"accept_rate":75,"display_name":"Erik van Oosten"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673522082,"creation_date":1673522082,"answer_id":75095475,"question_id":10483053,"body_markdown":"Some code linters use the annotation to skip generated code. For example, it doesn&#39;t make sense to calculate cyclomatic complexity on generated code.","title":"@Generated Annotation, how do we use it?","body":"<p>Some code linters use the annotation to skip generated code. For example, it doesn't make sense to calculate cyclomatic complexity on generated code.</p>\n"}],"owner":{"account_id":1065237,"reputation":2090,"user_id":1065992,"accept_rate":78,"display_name":"Blood-HaZaRd"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38422,"favorite_count":0,"down_vote_count":0,"up_vote_count":29,"accepted_answer_id":10483157,"answer_count":4,"score":29,"last_activity_date":1673522082,"creation_date":1336397742,"question_id":10483053,"body_markdown":"I recently read an article talking about the Java annotations, and on this latter comes the ***@Generated*** one. They say that it is used for automatically generate code.\r\n \r\nCould someone explain me that in further with a little example ?\r\n\r\nAll what i found on the net was some pro question or something beyond what i was looking for.\r\n ","title":"@Generated Annotation, how do we use it?","body":"<p>I recently read an article talking about the Java annotations, and on this latter comes the <strong><em>@Generated</em></strong> one. They say that it is used for automatically generate code.</p>\n\n<p>Could someone explain me that in further with a little example ?</p>\n\n<p>All what i found on the net was some pro question or something beyond what i was looking for.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9488,"page":735,"page_size":100}
