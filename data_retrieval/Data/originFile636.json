{"items":[{"tags":["java","spring","unit-testing","mockito","springmockito"],"comments":[{"owner":{"account_id":13179806,"reputation":91,"user_id":21197077,"display_name":"gneginskiy"},"score":0,"creation_date":1676879428,"post_id":75506374,"comment_id":133219124,"body_markdown":"consider using MockBeans/SpyBeans \nhttps://www.concretepage.com/spring-5/spybean-example-spring-test#SpyBean","body":"consider using MockBeans/SpyBeans  <a href=\"https://www.concretepage.com/spring-5/spybean-example-spring-test#SpyBean\" rel=\"nofollow noreferrer\">concretepage.com/spring-5/spybean-example-spring-test#SpyBea&zwnj;&#8203;n</a>"}],"answers":[{"tags":[],"owner":{"account_id":19395247,"reputation":3208,"user_id":14183092,"display_name":"kerbermeister"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676879624,"creation_date":1676879624,"answer_id":75506582,"question_id":75506374,"body_markdown":"Exception means literally what it says. Your service is not a mockito mock and you cannot declare a behaviour on this.\r\n\r\nYou could use `Mockito.spy` to, spy or partially mock your service object.\r\n\r\nSo that you only declare the behavior of second method and execute the actual code for first method.\r\n\r\nOr the simpliest way is to use `@SpyBean` in your case:\r\n\r\n    @SpyBean\r\n    SomeService someService;\r\n\r\nAnd after you&#39;ll be able to \r\n\r\n  \r\n\r\n    doReturn(100).when(someService).method2();","title":"Java: Spring: How to mock a method inside Autowired object","body":"<p>Exception means literally what it says. Your service is not a mockito mock and you cannot declare a behaviour on this.</p>\n<p>You could use <code>Mockito.spy</code> to, spy or partially mock your service object.</p>\n<p>So that you only declare the behavior of second method and execute the actual code for first method.</p>\n<p>Or the simpliest way is to use <code>@SpyBean</code> in your case:</p>\n<pre><code>@SpyBean\nSomeService someService;\n</code></pre>\n<p>And after you'll be able to</p>\n<pre><code>doReturn(100).when(someService).method2();\n</code></pre>\n"}],"owner":{"account_id":8993950,"reputation":115,"user_id":6705022,"display_name":"sainadh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":283,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676879624,"creation_date":1676878170,"question_id":75506374,"body_markdown":"```\r\n@Component\r\npublic class SomeService {\r\n\r\n  public void method1() {\r\n  int batchSize = method2();\r\n  // some operations...\r\n  }\r\n\r\n  public void method2() {\r\n  // something\r\n  return 10;\r\n  }\r\n```\r\nTest class\r\n```\r\n@SpringJUnitConfig(classes = SomeService.class)\r\npublic class SomeServiceTests {\r\n\r\n  @AutoWired\r\n  SomeService someService;\r\n\r\n  @Test\r\n  void method1Test() {\r\n  // mock method2 to return some value instead of executing the method in service\r\n\r\n  someService.method1();\r\n\r\n  // assertions\r\n  }\r\n```\r\n\r\nwhen i tried mocking method2 as below i got exception\r\n```\r\ndoReturn(100).when(someService).method2();\r\n```\r\n\r\nException\r\n```\r\norg.mockito.exceptions.misusing.NotAMockException: \r\nArgument passed to when() is not a mock!\r\nExample of correct stubbing:\r\n    doThrow(new RuntimeException()).when(mock).someMethod();\r\n```\r\n\r\nI understood the exception but not sure how to fix, above shared code is simplified and focusses on issue, my code is bit complex and can&#39;t share here due to policies of company.\r\n\r\nThanks for help.","title":"Java: Spring: How to mock a method inside Autowired object","body":"<pre><code>@Component\npublic class SomeService {\n\n  public void method1() {\n  int batchSize = method2();\n  // some operations...\n  }\n\n  public void method2() {\n  // something\n  return 10;\n  }\n</code></pre>\n<p>Test class</p>\n<pre><code>@SpringJUnitConfig(classes = SomeService.class)\npublic class SomeServiceTests {\n\n  @AutoWired\n  SomeService someService;\n\n  @Test\n  void method1Test() {\n  // mock method2 to return some value instead of executing the method in service\n\n  someService.method1();\n\n  // assertions\n  }\n</code></pre>\n<p>when i tried mocking method2 as below i got exception</p>\n<pre><code>doReturn(100).when(someService).method2();\n</code></pre>\n<p>Exception</p>\n<pre><code>org.mockito.exceptions.misusing.NotAMockException: \nArgument passed to when() is not a mock!\nExample of correct stubbing:\n    doThrow(new RuntimeException()).when(mock).someMethod();\n</code></pre>\n<p>I understood the exception but not sure how to fix, above shared code is simplified and focusses on issue, my code is bit complex and can't share here due to policies of company.</p>\n<p>Thanks for help.</p>\n"},{"tags":["java","android","kotlin"],"answers":[{"tags":[],"owner":{"account_id":14555492,"reputation":64,"user_id":10513148,"display_name":"Isuru"},"comment_count":0,"down_vote_count":2,"up_vote_count":1,"is_accepted":true,"score":-1,"last_activity_date":1676879313,"creation_date":1676879313,"answer_id":75506534,"question_id":75506467,"body_markdown":"You&#39;ll have to implement that interface somewhere.\r\n\r\nFor Kotlin:\r\n\r\n    class InterfaceCallbackImpl : InterfaceCallback {\r\n        override fun onComplete() {\r\n           // Implementation of the method\r\n        }\r\n    }\r\n\r\nThen you should be able to use InterfaceCallbackImpl \r\n","title":"How to access Java Interface in kotlin fun?","body":"<p>You'll have to implement that interface somewhere.</p>\n<p>For Kotlin:</p>\n<pre><code>class InterfaceCallbackImpl : InterfaceCallback {\n    override fun onComplete() {\n       // Implementation of the method\n    }\n}\n</code></pre>\n<p>Then you should be able to use InterfaceCallbackImpl</p>\n"}],"owner":{"account_id":27830179,"reputation":23,"user_id":21248755,"display_name":"mk_7"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75506534,"answer_count":1,"score":1,"last_activity_date":1676879313,"creation_date":1676878865,"question_id":75506467,"body_markdown":"I want to access java interface in kotlin class.\r\nHow can i do that?\r\n\r\n```\r\npublic interface InterfaceCallback {\r\n    void onComplete(Boolean isComplete);\r\n}\r\n\r\npublic class Utils {\r\n\r\n    //constructor\r\n    public Utils() {}\r\n\r\n    public void getCallbackEvent(Context context, String videoLink, InterfaceCallback interfaceCallback) {\r\n        //...\r\n        interfaceCallback.onComplete(true);\r\n    }\r\n}\r\n```\r\n\r\nI try to access this method in kotlin class as below but it&#39;s generate an error.\r\n\r\n```\r\nUtils().getCallbackEvent(this, videoLink) {it-&gt;\r\n    Log.e(TAG, &quot;getCallbackEvent: $it&quot;)\r\n}\r\n```\r\n\r\n```\r\njava.lang.IllegalAccessError: Interface com.example.demo.InterfaceCallback implemented by class com.example.demo.activitys.DownloadScreen$$ExternalSyntheticLambda1 is inaccessible (declaration of &#39;com.example.demo.activitys.DownloadScreen$$ExternalSyntheticLambda1&#39; appears in /data/data/com.example.demo/code_cache/.overlay/base.apk/classes9.dex)\r\n```\r\n\r\nThanks!\r\n","title":"How to access Java Interface in kotlin fun?","body":"<p>I want to access java interface in kotlin class.\nHow can i do that?</p>\n<pre><code>public interface InterfaceCallback {\n    void onComplete(Boolean isComplete);\n}\n\npublic class Utils {\n\n    //constructor\n    public Utils() {}\n\n    public void getCallbackEvent(Context context, String videoLink, InterfaceCallback interfaceCallback) {\n        //...\n        interfaceCallback.onComplete(true);\n    }\n}\n</code></pre>\n<p>I try to access this method in kotlin class as below but it's generate an error.</p>\n<pre><code>Utils().getCallbackEvent(this, videoLink) {it-&gt;\n    Log.e(TAG, &quot;getCallbackEvent: $it&quot;)\n}\n</code></pre>\n<pre><code>java.lang.IllegalAccessError: Interface com.example.demo.InterfaceCallback implemented by class com.example.demo.activitys.DownloadScreen$$ExternalSyntheticLambda1 is inaccessible (declaration of 'com.example.demo.activitys.DownloadScreen$$ExternalSyntheticLambda1' appears in /data/data/com.example.demo/code_cache/.overlay/base.apk/classes9.dex)\n</code></pre>\n<p>Thanks!</p>\n"},{"tags":["java","spring-boot","aws-lambda","aws-api-gateway","spring-cloud"],"answers":[{"tags":[],"owner":{"account_id":26534196,"reputation":36,"user_id":20165976,"display_name":"Manali Lakhani"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676879160,"creation_date":1676879160,"answer_id":75506511,"question_id":75506084,"body_markdown":"As per error seems like Handler going to find @RestController **&#39;domainController&#39;**\r\nIn your code there is all **Democontroller**\r\n\r\nThe bean for the demoController not defined properly.\r\n","title":"SpringBootRequestHandler for a GET call","body":"<p>As per error seems like Handler going to find @RestController <strong>'domainController'</strong>\nIn your code there is all <strong>Democontroller</strong></p>\n<p>The bean for the demoController not defined properly.</p>\n"}],"owner":{"account_id":27235913,"reputation":1,"user_id":20762825,"display_name":"akki_moote"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676879160,"creation_date":1676875993,"question_id":75506084,"body_markdown":"I am currently using Spring Cloud Function, and I want to deploy my GET function on AWS Lambda, using the adapter for AWS.\r\n\r\nTill now all the Spring Cloud Function implemented was a single POST function with the following structure.\r\n\r\nThis was done using the\r\nSpringBootRequestHandler.\r\n\r\nThe DemoRequest class was a POJO class defined to accept the request body and DemoResponse is for the response.\r\n\r\nI understand that this part of the code is Depricated.\r\n\r\nInterface to define the Endpoint:\r\n\r\n```\r\n@SuppressWarnings(&quot;hiding&quot;)\r\n@FunctionalInterface\r\npublic interface Demoapi&lt;DemoRequest, DemoResponse&gt;{\r\n@PostMapping(value = &quot;/v1/demo&quot;)\r\npublic ResponseEntity&lt;DemoResponse&gt; demo(@RequestBody DemoRequest demoInfo);\r\n\r\n}\r\n```\r\n\r\nFollowed by the controller where the @RestController was defined\r\n\r\nPart of the controller:\r\n\r\n```\r\n\r\n@RestController\r\npublic class Democontroller implements Demoapi\\&lt;DemoRequest, DemoResponse\\&gt;{\r\nstatic final Logger LOGGER = LogManager.getLogger(Democontroller.class);\r\n\r\n@Autowired\r\nprivate DemoService demoService;\r\n\r\n\r\n@Override\r\npublic ResponseEntity&lt;DemoResponse&gt; demo(@RequestBody DemoRequest demoInfo) {\r\nDemoResponse demoResponse=new DemoResponse();\r\ntry {\r\ndemoResponse = demoService.demofun(demoInfo);\r\n//logic\r\n}\r\n```\r\n\r\n```\r\nNow I want to modify this for the GET call and this is the modification I am using.\r\n```\r\n\r\n```\r\n@SuppressWarnings(&quot;hiding&quot;)\r\n```\r\n\r\n```\r\n@FunctionalInterfacepublic interface Demoapi&lt;Void, DemoResponse&gt;{ // as there is no request @GetMapping(value = &quot;/v1/demo&quot;)public ResponseEntity&lt;DemoResponse&gt; demo(@RequestParam(name=&quot;q&quot;, required = false defaultValue=&quot;...&quot;) String name);// the get call has an optional query param}\r\n```\r\n\r\n```\r\nFollowed by the controller where the @RestController was defined\r\n\r\nPart of the controller:\r\n```\r\n\r\n```\r\n@RestControllerpublic class Democontroller implements Demoapi&lt;Void, DemoResponse&gt;{static final Logger LOGGER = LogManager.getLogger(Democontroller.class);\r\n```\r\n\r\n```\r\n@Autowiredprivate DemoService demoService;\r\n```\r\n\r\n```\r\n@Overridepublic ResponseEntity&lt;DemoResponse&gt; demo(@RequestParam(name=&quot;q&quot;, required = false , defaultValue=&quot;...&quot;) String name) {DemoResponse demoResponse=new DemoResponse();try {demoResponse = demoService.demofun(name);//logic}\r\n```\r\n\r\n```\r\n\r\nThis set up works fine when tested in local but when deployed as Lambda ( I provide Handler as com.demo.DemoHandler in the AWS console, and in the Environment Variable under FUNCTION_NAME I give the DemoController class with the Starting letter in small caps i.e demoController ) and the lambda throws the following error when tested in the console as well as directed from an API Gateway:\r\n\r\n\\*2023-02-17 11:24:04.080  INFO 10 --- \\[           main\\] lambdainternal.AWSLambda                 : Started AWSLambda in 2.649 seconds (JVM running for 3.349)\r\n2023-02-17 11:24:04.329 ERROR 10 --- \\[           main\\] c.f.c.c.BeanFactoryAwareFunctionRegistry : Failed to invoke function &#39;domainController&#39;\r\njava.lang.IllegalArgumentException: argument type mismatch\r\n\\*\r\n```","title":"SpringBootRequestHandler for a GET call","body":"<p>I am currently using Spring Cloud Function, and I want to deploy my GET function on AWS Lambda, using the adapter for AWS.</p>\n<p>Till now all the Spring Cloud Function implemented was a single POST function with the following structure.</p>\n<p>This was done using the\nSpringBootRequestHandler.</p>\n<p>The DemoRequest class was a POJO class defined to accept the request body and DemoResponse is for the response.</p>\n<p>I understand that this part of the code is Depricated.</p>\n<p>Interface to define the Endpoint:</p>\n<pre><code>@SuppressWarnings(&quot;hiding&quot;)\n@FunctionalInterface\npublic interface Demoapi&lt;DemoRequest, DemoResponse&gt;{\n@PostMapping(value = &quot;/v1/demo&quot;)\npublic ResponseEntity&lt;DemoResponse&gt; demo(@RequestBody DemoRequest demoInfo);\n\n}\n</code></pre>\n<p>Followed by the controller where the @RestController was defined</p>\n<p>Part of the controller:</p>\n<pre><code>\n@RestController\npublic class Democontroller implements Demoapi\\&lt;DemoRequest, DemoResponse\\&gt;{\nstatic final Logger LOGGER = LogManager.getLogger(Democontroller.class);\n\n@Autowired\nprivate DemoService demoService;\n\n\n@Override\npublic ResponseEntity&lt;DemoResponse&gt; demo(@RequestBody DemoRequest demoInfo) {\nDemoResponse demoResponse=new DemoResponse();\ntry {\ndemoResponse = demoService.demofun(demoInfo);\n//logic\n}\n</code></pre>\n<pre><code>Now I want to modify this for the GET call and this is the modification I am using.\n</code></pre>\n<pre><code>@SuppressWarnings(&quot;hiding&quot;)\n</code></pre>\n<pre><code>@FunctionalInterfacepublic interface Demoapi&lt;Void, DemoResponse&gt;{ // as there is no request @GetMapping(value = &quot;/v1/demo&quot;)public ResponseEntity&lt;DemoResponse&gt; demo(@RequestParam(name=&quot;q&quot;, required = false defaultValue=&quot;...&quot;) String name);// the get call has an optional query param}\n</code></pre>\n<pre><code>Followed by the controller where the @RestController was defined\n\nPart of the controller:\n</code></pre>\n<pre><code>@RestControllerpublic class Democontroller implements Demoapi&lt;Void, DemoResponse&gt;{static final Logger LOGGER = LogManager.getLogger(Democontroller.class);\n</code></pre>\n<pre><code>@Autowiredprivate DemoService demoService;\n</code></pre>\n<pre><code>@Overridepublic ResponseEntity&lt;DemoResponse&gt; demo(@RequestParam(name=&quot;q&quot;, required = false , defaultValue=&quot;...&quot;) String name) {DemoResponse demoResponse=new DemoResponse();try {demoResponse = demoService.demofun(name);//logic}\n</code></pre>\n<pre><code>\nThis set up works fine when tested in local but when deployed as Lambda ( I provide Handler as com.demo.DemoHandler in the AWS console, and in the Environment Variable under FUNCTION_NAME I give the DemoController class with the Starting letter in small caps i.e demoController ) and the lambda throws the following error when tested in the console as well as directed from an API Gateway:\n\n\\*2023-02-17 11:24:04.080  INFO 10 --- \\[           main\\] lambdainternal.AWSLambda                 : Started AWSLambda in 2.649 seconds (JVM running for 3.349)\n2023-02-17 11:24:04.329 ERROR 10 --- \\[           main\\] c.f.c.c.BeanFactoryAwareFunctionRegistry : Failed to invoke function 'domainController'\njava.lang.IllegalArgumentException: argument type mismatch\n\\*\n</code></pre>\n"},{"tags":["java","spring","jdbc","jdbctemplate"],"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1476879032,"post_id":40126715,"comment_id":67531875,"body_markdown":"Have you taken a look at the API? [`JdbcTemplate.batchUpdate(String... sql)`](http://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/jdbc/core/JdbcTemplate.html#batchUpdate-java.lang.String...-)","body":"Have you taken a look at the API? <a href=\"http://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/jdbc/core/JdbcTemplate.html#batchUpdate-java.lang.String...-\" rel=\"nofollow noreferrer\"><code>JdbcTemplate.batchUpdate(String... sql)</code></a>"},{"owner":{"account_id":4755166,"reputation":11,"user_id":3844111,"display_name":"user3844111"},"score":0,"creation_date":1476974257,"post_id":40126715,"comment_id":67583693,"body_markdown":"Yes I have.. the problem is that it is not an update ,but multiple select statements that select into temporary tables...","body":"Yes I have.. the problem is that it is not an update ,but multiple select statements that select into temporary tables..."},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1476976376,"post_id":40126715,"comment_id":67585402,"body_markdown":"AFAIK selects into a table are still considered updates, not selects.","body":"AFAIK selects into a table are still considered updates, not selects."},{"owner":{"account_id":4764104,"reputation":9906,"user_id":3850730,"accept_rate":83,"display_name":"Sabir Khan"},"score":0,"creation_date":1477035345,"post_id":40126715,"comment_id":67609593,"body_markdown":"Please elaborate your question a bit more about what you are trying to achieve with actual Sqls and See [this SO Question](http://stackoverflow.com/questions/7899543/can-preparedstatement-addbatch-be-used-for-select-queries). Running Selects in batch shouldn&#39;t be supported at very first place.","body":"Please elaborate your question a bit more about what you are trying to achieve with actual Sqls and See <a href=\"http://stackoverflow.com/questions/7899543/can-preparedstatement-addbatch-be-used-for-select-queries\">this SO Question</a>. Running Selects in batch shouldn&#39;t be supported at very first place."}],"answers":[{"tags":[],"owner":{"account_id":4897952,"reputation":1,"user_id":3946913,"display_name":"Ankita"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676879076,"creation_date":1676478221,"answer_id":75462661,"question_id":40126715,"body_markdown":"The following code example illustrates how to execute 3 SQL update statements in a batch using the JdbcTemplate class:\r\n\r\n    String sql1 = &quot;INSERT INTO Users (email, pass, name) VALUES (&#39;email0&#39;, &#39;pass0&#39;, &#39;name0&#39;)&quot;;\r\n    String sql2 = &quot;UPDATE Users SET password=&#39;default&#39; WHERE user_id &lt; 10&quot;;\r\n    String sql3 = &quot;DELETE FROM Users WHERE email = &#39;&#39;&quot;;\r\n         \r\n    int[] updateCounts = template.batchUpdate(sql1, sql2, sql3);\r\n\r\nAs you can see, the batchUpdate() method takes an array of SQL statements as arguments, and returns an array of integer numbers indicating the number of rows affected by each query.\r\n\r\n\r\n","title":"addBatch() and executeBatch() equivalent in spring jdbctemplate","body":"<p>The following code example illustrates how to execute 3 SQL update statements in a batch using the JdbcTemplate class:</p>\n<pre><code>String sql1 = &quot;INSERT INTO Users (email, pass, name) VALUES ('email0', 'pass0', 'name0')&quot;;\nString sql2 = &quot;UPDATE Users SET password='default' WHERE user_id &lt; 10&quot;;\nString sql3 = &quot;DELETE FROM Users WHERE email = ''&quot;;\n     \nint[] updateCounts = template.batchUpdate(sql1, sql2, sql3);\n</code></pre>\n<p>As you can see, the batchUpdate() method takes an array of SQL statements as arguments, and returns an array of integer numbers indicating the number of rows affected by each query.</p>\n"}],"owner":{"account_id":4755166,"reputation":11,"user_id":3844111,"display_name":"user3844111"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1305,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1676879076,"creation_date":1476867648,"question_id":40126715,"body_markdown":"I would like to achieve the above using jdbctemplate.\r\n\r\nI have the following using jdbc:\r\n    \r\n    Connection conn = DBUtilities.getSQLConnection(); \r\n    // get a connection\r\n    Statement stmt = conn.createStatement(); \r\n    //create statement\r\n    stmt.addBatch(sql1);\r\n    //first sql statement to be added\r\n    stmt.addBatch(sql2);\r\n    //second sql to be added\r\n    stmt.executeBatch();\r\n    \r\n    ResultSet rs = stmt.executeQuery(sql3); \r\n    //third sql that uses previous sql 1 and 2\r\n\r\nHow do I add multiple SQL (batch) with jdbctemplate?","title":"addBatch() and executeBatch() equivalent in spring jdbctemplate","body":"<p>I would like to achieve the above using jdbctemplate.</p>\n\n<p>I have the following using jdbc:</p>\n\n<pre><code>Connection conn = DBUtilities.getSQLConnection(); \n// get a connection\nStatement stmt = conn.createStatement(); \n//create statement\nstmt.addBatch(sql1);\n//first sql statement to be added\nstmt.addBatch(sql2);\n//second sql to be added\nstmt.executeBatch();\n\nResultSet rs = stmt.executeQuery(sql3); \n//third sql that uses previous sql 1 and 2\n</code></pre>\n\n<p>How do I add multiple SQL (batch) with jdbctemplate?</p>\n"},{"tags":["java","spring-boot","cassandra-3.0","spring-data-cassandra","java-19"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1672837288,"post_id":75005801,"comment_id":132362036,"body_markdown":"Just generate it yourself on the client.","body":"Just generate it yourself on the client."},{"owner":{"account_id":6932559,"reputation":9427,"user_id":5321614,"accept_rate":89,"display_name":"Prafulla Kumar Sahu"},"score":0,"creation_date":1672837877,"post_id":75005801,"comment_id":132362261,"body_markdown":"@M.Deinum for now I am doing it, but searching for an elegant solution.","body":"@M.Deinum for now I am doing it, but searching for an elegant solution."}],"answers":[{"comments":[{"owner":{"account_id":6932559,"reputation":9427,"user_id":5321614,"accept_rate":89,"display_name":"Prafulla Kumar Sahu"},"score":0,"creation_date":1672837840,"post_id":75005920,"comment_id":132362250,"body_markdown":"`@CassandraType(type = DataType.Name` Name is not available for import, already tried this one.","body":"<code>@CassandraType(type = DataType.Name</code> Name is not available for import, already tried this one."},{"owner":{"account_id":5879019,"reputation":1195,"user_id":4629025,"display_name":"Raushan Kumar"},"score":0,"creation_date":1672838616,"post_id":75005920,"comment_id":132362522,"body_markdown":"check this file have definition--&gt;CassandraRowMapperFn.java","body":"check this file have definition--&gt;CassandraRowMapperFn.java"},{"owner":{"account_id":6932559,"reputation":9427,"user_id":5321614,"accept_rate":89,"display_name":"Prafulla Kumar Sahu"},"score":0,"creation_date":1672838948,"post_id":75005920,"comment_id":132362634,"body_markdown":"Can you please let me know your dependency seems you are using different package my DataType class is under `import com.datastax.oss.driver.api.core.type.DataType;`","body":"Can you please let me know your dependency seems you are using different package my DataType class is under <code>import com.datastax.oss.driver.api.core.type.DataType;</code>"},{"owner":{"account_id":5879019,"reputation":1195,"user_id":4629025,"display_name":"Raushan Kumar"},"score":0,"creation_date":1672839252,"post_id":75005920,"comment_id":132362755,"body_markdown":"https://docs.datastax.com/en/drivers/java/2.0/overview-summary.html\n\npackage:com.datastax.driver.core\n\nit&#39;s DataStax Java Driver for Apache Cassandra - Binary distribution 2.0.12 API","body":"<a href=\"https://docs.datastax.com/en/drivers/java/2.0/overview-summary.html\" rel=\"nofollow noreferrer\">docs.datastax.com/en/drivers/java/2.0/overview-summary.html</a>  package:com.datastax.driver.core  it&#39;s DataStax Java Driver for Apache Cassandra - Binary distribution 2.0.12 API"},{"owner":{"account_id":6932559,"reputation":9427,"user_id":5321614,"accept_rate":89,"display_name":"Prafulla Kumar Sahu"},"score":0,"creation_date":1672840502,"post_id":75005920,"comment_id":132363257,"body_markdown":"It needs another package `cassandra-driver-mapping` and that will change all the other syntax in my entity class.","body":"It needs another package <code>cassandra-driver-mapping</code> and that will change all the other syntax in my entity class."},{"owner":{"account_id":6932559,"reputation":9427,"user_id":5321614,"accept_rate":89,"display_name":"Prafulla Kumar Sahu"},"score":0,"creation_date":1673511818,"post_id":75005920,"comment_id":132516858,"body_markdown":"`Incompatible types. Found: &#39;com.datastax.driver.core.DataType.Name&#39;, required: &#39;org.springframework.data.cassandra.core.mapping.CassandraType.Name&#39;` the below option what I have posted is working, but still tried your version with `.cassandra.core.mapping` package and still getting this error, do you have any information which may help on it?","body":"<code>Incompatible types. Found: &#39;com.datastax.driver.core.DataType.Name&#39;, required: &#39;org.springframework.data.cassandra.core.mapping.CassandraTy&zwnj;&#8203;pe.Name&#39;</code> the below option what I have posted is working, but still tried your version with <code>.cassandra.core.mapping</code> package and still getting this error, do you have any information which may help on it?"}],"tags":[],"owner":{"account_id":5879019,"reputation":1195,"user_id":4629025,"display_name":"Raushan Kumar"},"comment_count":6,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672837687,"creation_date":1672837687,"answer_id":75005920,"question_id":75005801,"body_markdown":"It can be achieved either using **@CassandraType** annotation in combination with the **com.datastax.driver.core.DataType.Name.UUID** \r\n\r\n    @Table\r\n    @Data\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    public class Player {\r\n      @PrimaryKey\r\n      @CassandraType(type = DataType.Name.UUID)\r\n      private UUID id;\r\n\r\nor \r\n**@CassandraType** annotation with the **com.datastax.driver.core.DataType.Name.TIMEUUID** \r\n\r\n    @Table\r\n    @Data\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    public class Player {\r\n      @PrimaryKey\r\n      @CassandraType(type = DataType.Name.TIMEUUID)\r\n      private UUID id;","title":"How to make UUID auto generated in springbok Cassandra app","body":"<p>It can be achieved either using <strong>@CassandraType</strong> annotation in combination with the <strong>com.datastax.driver.core.DataType.Name.UUID</strong></p>\n<pre><code>@Table\n@Data\n@AllArgsConstructor\n@NoArgsConstructor\npublic class Player {\n  @PrimaryKey\n  @CassandraType(type = DataType.Name.UUID)\n  private UUID id;\n</code></pre>\n<p>or\n<strong>@CassandraType</strong> annotation with the <strong>com.datastax.driver.core.DataType.Name.TIMEUUID</strong></p>\n<pre><code>@Table\n@Data\n@AllArgsConstructor\n@NoArgsConstructor\npublic class Player {\n  @PrimaryKey\n  @CassandraType(type = DataType.Name.TIMEUUID)\n  private UUID id;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6932559,"reputation":9427,"user_id":5321614,"accept_rate":89,"display_name":"Prafulla Kumar Sahu"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1676878928,"creation_date":1672838500,"answer_id":75006088,"question_id":75005801,"body_markdown":"\r\n\r\n    @CassandraType(type = DataType.Name.TIMEUUID)\r\n\r\nis not auto generating the id.\r\n\r\nOne way is assigning default during declaration value like\r\n\r\n     private UUID id = UUID.randomUUID();\r\n\r\nbut still, I consider this as a workaround.","title":"How to make UUID auto generated in springbok Cassandra app","body":"<pre><code>@CassandraType(type = DataType.Name.TIMEUUID)\n</code></pre>\n<p>is not auto generating the id.</p>\n<p>One way is assigning default during declaration value like</p>\n<pre><code> private UUID id = UUID.randomUUID();\n</code></pre>\n<p>but still, I consider this as a workaround.</p>\n"}],"owner":{"account_id":6932559,"reputation":9427,"user_id":5321614,"accept_rate":89,"display_name":"Prafulla Kumar Sahu"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":404,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75006088,"answer_count":2,"score":0,"last_activity_date":1676878928,"creation_date":1672837119,"question_id":75005801,"body_markdown":"I am using\r\n\r\nJava: 19\r\n\r\nSpringboot: 3.0\r\n\r\n\r\nDependency\r\n\r\n    &lt;dependency&gt;\r\n          &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\r\n          &lt;artifactId&gt;spring-data-cassandra&lt;/artifactId&gt;\r\n     &lt;/dependency&gt;\r\n\r\nEntity class\r\n\r\n    @Table\r\n    @Data\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    public class Player {\r\n      @PrimaryKey\r\n      private UUID id;\r\n\r\nWould like to know if there is anything like\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n\r\nthat we can use with it.","title":"How to make UUID auto generated in springbok Cassandra app","body":"<p>I am using</p>\n<p>Java: 19</p>\n<p>Springboot: 3.0</p>\n<p>Dependency</p>\n<pre><code>&lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-data-cassandra&lt;/artifactId&gt;\n &lt;/dependency&gt;\n</code></pre>\n<p>Entity class</p>\n<pre><code>@Table\n@Data\n@AllArgsConstructor\n@NoArgsConstructor\npublic class Player {\n  @PrimaryKey\n  private UUID id;\n</code></pre>\n<p>Would like to know if there is anything like</p>\n<pre><code>@Id\n@GeneratedValue(strategy = GenerationType.AUTO)\n</code></pre>\n<p>that we can use with it.</p>\n"},{"tags":["java","spring","hibernate","jpa"],"answers":[{"comments":[{"owner":{"account_id":5627846,"reputation":339,"user_id":4455670,"display_name":"Vinz"},"score":0,"creation_date":1677019262,"post_id":75506470,"comment_id":133254110,"body_markdown":"Thanks for confirming, this is what I did, but this required creating a separate package for the VersionedRepository as JPA does not support having 2 repositories in same package, it was not so complicated in the end with the help of a good IDE and plugins...","body":"Thanks for confirming, this is what I did, but this required creating a separate package for the VersionedRepository as JPA does not support having 2 repositories in same package, it was not so complicated in the end with the help of a good IDE and plugins..."}],"tags":[],"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676878876,"creation_date":1676878876,"answer_id":75506470,"question_id":75476388,"body_markdown":"You can use that approach, but I would recommend you try to get away from such a limiting model and move the versioning parts into a subclass `VersionedBaseEntity`.","title":"Hibernate / Spring JPA, combining @Version and @DynamicUpdate","body":"<p>You can use that approach, but I would recommend you try to get away from such a limiting model and move the versioning parts into a subclass <code>VersionedBaseEntity</code>.</p>\n"}],"owner":{"account_id":5627846,"reputation":339,"user_id":4455670,"display_name":"Vinz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":131,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676878876,"creation_date":1676571489,"question_id":75476388,"body_markdown":"I have a question for JPA / Hibernate experts.\r\nIn my application all my entities inherit from a &quot;Base intenty&quot; that hold Id, cretedDate, Version and all fields common to all the the entities of the application.\r\n\r\n    @MappedSuperclass\r\n    public class BaseEntity implements Serializable {\r\n    \r\n        /**\r\n         * The constant serialVersionUID.\r\n         */\r\n        private static final long serialVersionUID = 1L;\r\n    \r\n        /**\r\n         * The Id.\r\n         */\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private Long id;\r\n    \r\n        /**\r\n         * The Created date.\r\n         */\r\n        @Basic(optional = false)\r\n        @Column(columnDefinition = &quot;TIMESTAMP WITH TIME ZONE DEFAULT CURRENT_TIMESTAMP&quot;, name = &quot;createddate&quot;)\r\n        @CreatedDate\r\n        @CreationTimestamp\r\n        @JsonIgnore\r\n        private ZonedDateTime createdDate;\r\n    \r\n        /**\r\n         * The Updated date.\r\n         */\r\n        @Basic(optional = false)\r\n        @Column(columnDefinition = &quot;TIMESTAMP WITH TIME ZONE DEFAULT CURRENT_TIMESTAMP&quot;, name = &quot;updateddate&quot;)\r\n        @UpdateTimestamp\r\n        @LastModifiedDate\r\n        @JsonIgnore\r\n        private ZonedDateTime updatedDate;\r\n    \r\n        /**\r\n         * The Version.\r\n         */\r\n        @Version\r\n        @Column(columnDefinition = &quot;INT DEFAULT 1&quot;)\r\n        @JsonIgnore\r\n        private Integer version;\r\n    \r\n        /**\r\n         * The constant logger.\r\n         */\r\n        static Logger logger = LogManager.getLogger(BaseEntity.class.getName());\r\n    \r\n        /**\r\n         * Instantiates a new Base entity.\r\n         */\r\n        public BaseEntity() {\r\n        }\r\n        [....]\r\n    }\r\n\r\nBut it happens that one of the entities ( one of the 120 tables of the database) is generating un-necessary Optimistic lock exception because it is a table that should not have required the @version, so I was thinking of adding :\r\n\r\n    @OptimisticLocking(type = OptimisticLockType.DIRTY)\r\n    @DynamicUpdate\r\n\r\nfor this particular entity.\r\n\r\nI cannot remove the inheritance of BaseIntity for this class because, the abstract JPA repository is expecting a class extending BaseEntity\r\n\r\n    @NoRepositoryBean interface CustomRepository&lt;T extends BaseEntity, ID extends Serializable&gt;\r\n        extends Repository&lt;T, ID&gt;, Serializable {\r\n\r\nSo my question is the following :\r\n\r\nWhat will be the behaviour of Hibernate / JPA, if an entity both has a     @Version column defined through its parent but has the @DynamicUpdate also activated locally.\r\n\r\nWhat will happen ? I checked it compiles and runs fine, but before putting this version in production i was wondering if it could have side effects...","title":"Hibernate / Spring JPA, combining @Version and @DynamicUpdate","body":"<p>I have a question for JPA / Hibernate experts.\nIn my application all my entities inherit from a &quot;Base intenty&quot; that hold Id, cretedDate, Version and all fields common to all the the entities of the application.</p>\n<pre><code>@MappedSuperclass\npublic class BaseEntity implements Serializable {\n\n    /**\n     * The constant serialVersionUID.\n     */\n    private static final long serialVersionUID = 1L;\n\n    /**\n     * The Id.\n     */\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    /**\n     * The Created date.\n     */\n    @Basic(optional = false)\n    @Column(columnDefinition = &quot;TIMESTAMP WITH TIME ZONE DEFAULT CURRENT_TIMESTAMP&quot;, name = &quot;createddate&quot;)\n    @CreatedDate\n    @CreationTimestamp\n    @JsonIgnore\n    private ZonedDateTime createdDate;\n\n    /**\n     * The Updated date.\n     */\n    @Basic(optional = false)\n    @Column(columnDefinition = &quot;TIMESTAMP WITH TIME ZONE DEFAULT CURRENT_TIMESTAMP&quot;, name = &quot;updateddate&quot;)\n    @UpdateTimestamp\n    @LastModifiedDate\n    @JsonIgnore\n    private ZonedDateTime updatedDate;\n\n    /**\n     * The Version.\n     */\n    @Version\n    @Column(columnDefinition = &quot;INT DEFAULT 1&quot;)\n    @JsonIgnore\n    private Integer version;\n\n    /**\n     * The constant logger.\n     */\n    static Logger logger = LogManager.getLogger(BaseEntity.class.getName());\n\n    /**\n     * Instantiates a new Base entity.\n     */\n    public BaseEntity() {\n    }\n    [....]\n}\n</code></pre>\n<p>But it happens that one of the entities ( one of the 120 tables of the database) is generating un-necessary Optimistic lock exception because it is a table that should not have required the @version, so I was thinking of adding :</p>\n<pre><code>@OptimisticLocking(type = OptimisticLockType.DIRTY)\n@DynamicUpdate\n</code></pre>\n<p>for this particular entity.</p>\n<p>I cannot remove the inheritance of BaseIntity for this class because, the abstract JPA repository is expecting a class extending BaseEntity</p>\n<pre><code>@NoRepositoryBean interface CustomRepository&lt;T extends BaseEntity, ID extends Serializable&gt;\n    extends Repository&lt;T, ID&gt;, Serializable {\n</code></pre>\n<p>So my question is the following :</p>\n<p>What will be the behaviour of Hibernate / JPA, if an entity both has a     @Version column defined through its parent but has the @DynamicUpdate also activated locally.</p>\n<p>What will happen ? I checked it compiles and runs fine, but before putting this version in production i was wondering if it could have side effects...</p>\n"},{"tags":["java","gradle","build.gradle","build-system","gradle-java-toolchain"],"comments":[{"owner":{"account_id":263656,"reputation":1,"user_id":549372,"accept_rate":100,"display_name":"Martin Zeitler"},"score":0,"creation_date":1658484473,"post_id":73078521,"comment_id":129068231,"body_markdown":"Does this answer your question? [How do I tell Gradle to use specific JDK version?](https://stackoverflow.com/questions/18487406/how-do-i-tell-gradle-to-use-specific-jdk-version)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/18487406/how-do-i-tell-gradle-to-use-specific-jdk-version\">How do I tell Gradle to use specific JDK version?</a>"},{"owner":{"account_id":3514618,"reputation":12090,"user_id":2938364,"accept_rate":88,"display_name":"Markus Weninger"},"score":0,"creation_date":1658486228,"post_id":73078521,"comment_id":129068817,"body_markdown":"@MartinZeitler: No, this does not answer my question. I do not care which Java version is used to run the _Gradle daemon_, neither do I want to manually set the JDK path to a certain location. I want to use Java toolchains for building AND running, and in both cases want to use a JDK, never a JRE. But thanks for the reference to the other question!","body":"@MartinZeitler: No, this does not answer my question. I do not care which Java version is used to run the <i>Gradle daemon</i>, neither do I want to manually set the JDK path to a certain location. I want to use Java toolchains for building AND running, and in both cases want to use a JDK, never a JRE. But thanks for the reference to the other question!"},{"owner":{"account_id":263656,"reputation":1,"user_id":549372,"accept_rate":100,"display_name":"Martin Zeitler"},"score":0,"creation_date":1658512407,"post_id":73078521,"comment_id":129078346,"body_markdown":"The JDK contains the JRE ...and Gradle will link against `rt.jar`, whether you like it or not. I&#39;m pretty certain about it, because my Gradle plugin javadocs wouldn&#39;t build without it on classpath.","body":"The JDK contains the JRE ...and Gradle will link against <code>rt.jar</code>, whether you like it or not. I&#39;m pretty certain about it, because my Gradle plugin javadocs wouldn&#39;t build without it on classpath."}],"answers":[{"comments":[{"owner":{"account_id":3514618,"reputation":12090,"user_id":2938364,"accept_rate":88,"display_name":"Markus Weninger"},"score":0,"creation_date":1658676424,"post_id":73084456,"comment_id":129104904,"body_markdown":"&quot;One always has to add rt.jar first&quot; ... That is not true, why should I have to explicitly add rt.jar (which should be on the bootstrap path anyways? The `runJar` task stated in my question runs fine without a problem. And yes, there are &quot;runtime-only&quot; JREs, and this I need to ensure that the Java toolchain choses (and if necessary downloads) a JDK because we rely on JDI located in tools.jar. Sadly your answer does not include anything related to Java toolchain. (Side note: You are right that we have our jar configured to have a main class in its Manifest)","body":"&quot;One always has to add rt.jar first&quot; ... That is not true, why should I have to explicitly add rt.jar (which should be on the bootstrap path anyways? The <code>runJar</code> task stated in my question runs fine without a problem. And yes, there are &quot;runtime-only&quot; JREs, and this I need to ensure that the Java toolchain choses (and if necessary downloads) a JDK because we rely on JDI located in tools.jar. Sadly your answer does not include anything related to Java toolchain. (Side note: You are right that we have our jar configured to have a main class in its Manifest)"},{"owner":{"account_id":263656,"reputation":1,"user_id":549372,"accept_rate":100,"display_name":"Martin Zeitler"},"score":1,"creation_date":1658822345,"post_id":73084456,"comment_id":129140434,"body_markdown":"`java.toolchain` will download a JDK, when none is available; see `~/.gradle/jdks`. And I still haven&#39;t found any separate JRE package in my package manager... Oracle/Sun Java were distributed alike this. So it should be generally possible to globally force the use of `~/.gradle/jdks/xyz` (which is initially not there), but one can write `gradle.properties`, to pick up on second run; there&#39;s also `org.gradle.java.installations.auto-detect=false`. One even can specify it per task: https://docs.gradle.org/current/userguide/toolchains.html#specify_custom_toolchains_for_individual_tasks","body":"<code>java.toolchain</code> will download a JDK, when none is available; see <code>~&#47;.gradle&#47;jdks</code>. And I still haven&#39;t found any separate JRE package in my package manager... Oracle/Sun Java were distributed alike this. So it should be generally possible to globally force the use of <code>~&#47;.gradle&#47;jdks&#47;xyz</code> (which is initially not there), but one can write <code>gradle.properties</code>, to pick up on second run; there&#39;s also <code>org.gradle.java.installations.auto-detect=false</code>. One even can specify it per task: <a href=\"https://docs.gradle.org/current/userguide/toolchains.html#specify_custom_toolchains_for_individual_tasks\" rel=\"nofollow noreferrer\">docs.gradle.org/current/userguide/&hellip;</a>"},{"owner":{"account_id":263656,"reputation":1,"user_id":549372,"accept_rate":100,"display_name":"Martin Zeitler"},"score":0,"creation_date":1658822688,"post_id":73084456,"comment_id":129140571,"body_markdown":"Plugin code provides some more flexibility (and Java might be easier to write than Groovy): https://docs.gradle.org/current/userguide/toolchains.html#sec:plugins","body":"Plugin code provides some more flexibility (and Java might be easier to write than Groovy): <a href=\"https://docs.gradle.org/current/userguide/toolchains.html#sec:plugins\" rel=\"nofollow noreferrer\">docs.gradle.org/current/userguide/toolchains.html#sec:plugin&zwnj;&#8203;s</a>"},{"owner":{"account_id":263656,"reputation":1,"user_id":549372,"accept_rate":100,"display_name":"Martin Zeitler"},"score":0,"creation_date":1658822981,"post_id":73084456,"comment_id":129140684,"body_markdown":"And in my example, the `classpath` is only being configured - and not given... which means I can link it to whatever version `rt.jar` I want to. Without the runtime `rt.jar`, nothing will link (despite this is rather related to Javadoc tasks).","body":"And in my example, the <code>classpath</code> is only being configured - and not given... which means I can link it to whatever version <code>rt.jar</code> I want to. Without the runtime <code>rt.jar</code>, nothing will link (despite this is rather related to Javadoc tasks)."},{"owner":{"account_id":263656,"reputation":1,"user_id":549372,"accept_rate":100,"display_name":"Martin Zeitler"},"score":0,"creation_date":1658823574,"post_id":73084456,"comment_id":129140905,"body_markdown":"eg. `org.gradle.java.installations.fromEnv=JDK8,JDK11` to only accept JDK installations.","body":"eg. <code>org.gradle.java.installations.fromEnv=JDK8,JDK11</code> to only accept JDK installations."},{"owner":{"account_id":263656,"reputation":1,"user_id":549372,"accept_rate":100,"display_name":"Martin Zeitler"},"score":0,"creation_date":1658824093,"post_id":73084456,"comment_id":129141105,"body_markdown":"This just needs `JDK8` and `JDK11` set up as environmental variables, with a path there... then these would be the preferred installations, whenever referring to them with `java.toolchain`.","body":"This just needs <code>JDK8</code> and <code>JDK11</code> set up as environmental variables, with a path there... then these would be the preferred installations, whenever referring to them with <code>java.toolchain</code>."},{"owner":{"account_id":3514618,"reputation":12090,"user_id":2938364,"accept_rate":88,"display_name":"Markus Weninger"},"score":0,"creation_date":1658826099,"post_id":73084456,"comment_id":129141981,"body_markdown":"&quot;java.toolchain will download a JDK, when none is available&quot; ... This is not true. It will _not_ download a JDK if a simple JRE is installed (e.g., only `openjdk-11-jre` is installed, but not `openjdk-11-jdk`) and no compile task is executed but a simple run task (such as `JavaExec`). Gradle would just use that openjdk-11-jre to run the program (it is important that I am talking about _running_ the already compiled program, not compiling it (which of course would need a JDK with a `javac`)).","body":"&quot;java.toolchain will download a JDK, when none is available&quot; ... This is not true. It will <i>not</i> download a JDK if a simple JRE is installed (e.g., only <code>openjdk-11-jre</code> is installed, but not <code>openjdk-11-jdk</code>) and no compile task is executed but a simple run task (such as <code>JavaExec</code>). Gradle would just use that openjdk-11-jre to run the program (it is important that I am talking about <i>running</i> the already compiled program, not compiling it (which of course would need a JDK with a <code>javac</code>))."},{"owner":{"account_id":3514618,"reputation":12090,"user_id":2938364,"accept_rate":88,"display_name":"Markus Weninger"},"score":0,"creation_date":1658826178,"post_id":73084456,"comment_id":129142004,"body_markdown":"**The solution:** I now use `org.gradle.java.installations.auto-detect=false`. This ignores any locally installed versions (both JRE or JDK), will download a *JDK* on first run, and will reuse that JDK on future runs. This ensures that a JDK is used also for `JavaExec` task.","body":"<b>The solution:</b> I now use <code>org.gradle.java.installations.auto-detect=false</code>. This ignores any locally installed versions (both JRE or JDK), will download a <i>JDK</i> on first run, and will reuse that JDK on future runs. This ensures that a JDK is used also for <code>JavaExec</code> task."},{"owner":{"account_id":263656,"reputation":1,"user_id":549372,"accept_rate":100,"display_name":"Martin Zeitler"},"score":1,"creation_date":1659179760,"post_id":73084456,"comment_id":129235137,"body_markdown":"Just found task `:javaToolchains`, which lists them all and also tells if it&#39;s JDK.","body":"Just found task <code>:javaToolchains</code>, which lists them all and also tells if it&#39;s JDK."}],"tags":[],"owner":{"account_id":263656,"reputation":1,"user_id":549372,"accept_rate":100,"display_name":"Martin Zeitler"},"comment_count":9,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1658823125,"creation_date":1658513275,"answer_id":73084456,"question_id":73078521,"body_markdown":"One always has to add `rt.jar` first:\r\n\r\n    task runJar(type: JavaExec) {\r\n        classpath = files(new File(System.getProperty(&#39;java.home&#39;) + File.separator + &#39;lib&#39; + File.separator + &#39;rt.jar&#39;))\r\n        classpath += files(jar.archiveFile)\r\n        ...\r\n    }\r\n    runJar.onlyIf {\r\n        new File(System.getProperty(&#39;java.home&#39;) + File.separator + &#39;lib&#39; + File.separator + &#39;rt.jar&#39;)).exists()\r\n    }\r\n    \r\nThis probably would still require a `mainClassName` inside `jar.archiveFile`. With `JavaExec` one can set up whatever [`environment`](https://docs.gradle.org/current/dsl/org.gradle.api.tasks.JavaExec.html#org.gradle.api.tasks.JavaExec:environment) variable ...incl. `JAVA_HOME`, so this could be alternated per task. But one can as well use an `Exec` task on then directly run [`java`](https://docs.oracle.com/en/java/javase/11/tools/java.html) `-jar some.jar`.&lt;br/&gt;I wouldn&#39;t even be too certain, that these &quot;runtime only&quot; JRE distributions still exist?&lt;br/&gt;\r\nAll I know is that there is no `tools.jar`","title":"Can we force the use of a JDK as Gradle Java toolchain?","body":"<p>One always has to add <code>rt.jar</code> first:</p>\n<pre><code>task runJar(type: JavaExec) {\n    classpath = files(new File(System.getProperty('java.home') + File.separator + 'lib' + File.separator + 'rt.jar'))\n    classpath += files(jar.archiveFile)\n    ...\n}\nrunJar.onlyIf {\n    new File(System.getProperty('java.home') + File.separator + 'lib' + File.separator + 'rt.jar')).exists()\n}\n</code></pre>\n<p>This probably would still require a <code>mainClassName</code> inside <code>jar.archiveFile</code>. With <code>JavaExec</code> one can set up whatever <a href=\"https://docs.gradle.org/current/dsl/org.gradle.api.tasks.JavaExec.html#org.gradle.api.tasks.JavaExec:environment\" rel=\"nofollow noreferrer\"><code>environment</code></a> variable ...incl. <code>JAVA_HOME</code>, so this could be alternated per task. But one can as well use an <code>Exec</code> task on then directly run <a href=\"https://docs.oracle.com/en/java/javase/11/tools/java.html\" rel=\"nofollow noreferrer\"><code>java</code></a> <code>-jar some.jar</code>.<br/>I wouldn't even be too certain, that these &quot;runtime only&quot; JRE distributions still exist?<br/>\nAll I know is that there is no <code>tools.jar</code></p>\n"},{"comments":[{"owner":{"account_id":3514618,"reputation":12090,"user_id":2938364,"accept_rate":88,"display_name":"Markus Weninger"},"score":0,"creation_date":1658676100,"post_id":73084510,"comment_id":129104846,"body_markdown":"I run my Gradle scripts from the command line, not using any specific tools.","body":"I run my Gradle scripts from the command line, not using any specific tools."}],"tags":[],"owner":{"account_id":25872845,"reputation":23,"user_id":19603435,"display_name":"Arunprashath"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1658513861,"creation_date":1658513624,"answer_id":73084510,"question_id":73078521,"body_markdown":"What is the tool you are using? If it is IntelliJ, then\r\n\r\nA feature in IntelliJ that where it would look up if java tool chain is configured and if it is, make it impossible for me to have mismatching configuration within:\r\n\r\nRun configurations\r\nProject Structure &gt; Project SDK\r\nProject Structure &gt; Project Language Level\r\n\r\n[enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/LeSV4.png","title":"Can we force the use of a JDK as Gradle Java toolchain?","body":"<p>What is the tool you are using? If it is IntelliJ, then</p>\n<p>A feature in IntelliJ that where it would look up if java tool chain is configured and if it is, make it impossible for me to have mismatching configuration within:</p>\n<p>Run configurations\nProject Structure &gt; Project SDK\nProject Structure &gt; Project Language Level</p>\n<p><a href=\"https://i.stack.imgur.com/LeSV4.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":[],"owner":{"account_id":3514618,"reputation":12090,"user_id":2938364,"accept_rate":88,"display_name":"Markus Weninger"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1658826442,"creation_date":1658826442,"answer_id":73120613,"question_id":73078521,"body_markdown":"The **solution** I finally came up with:\r\n\r\nI now use `org.gradle.java.installations.auto-detect=false` stored in a `settings.gradle` file in my project. This ignores any locally installed Java versions when using Java toolchains in Gradle.\r\n\r\nThus, it will download a suitable **JDK** on the first run, and will reuse this JDK on future runs.\r\n\r\n*Upside*: We ensure that even if a local JRE exists, we download a JDK (e.g., we can be sure that `tools.jar` exists).\r\n\r\n*Downside*: We also download a JDK if a matching one would exist on the machine.","title":"Can we force the use of a JDK as Gradle Java toolchain?","body":"<p>The <strong>solution</strong> I finally came up with:</p>\n<p>I now use <code>org.gradle.java.installations.auto-detect=false</code> stored in a <code>settings.gradle</code> file in my project. This ignores any locally installed Java versions when using Java toolchains in Gradle.</p>\n<p>Thus, it will download a suitable <strong>JDK</strong> on the first run, and will reuse this JDK on future runs.</p>\n<p><em>Upside</em>: We ensure that even if a local JRE exists, we download a JDK (e.g., we can be sure that <code>tools.jar</code> exists).</p>\n<p><em>Downside</em>: We also download a JDK if a matching one would exist on the machine.</p>\n"},{"tags":[],"owner":{"account_id":6808646,"reputation":4105,"user_id":5239648,"accept_rate":87,"display_name":"Nahshon paz"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1676878405,"creation_date":1676878405,"answer_id":75506405,"question_id":73078521,"body_markdown":"For those of us without internet on build machines per business requirement, *sigh*,\r\nhttps://docs.gradle.org/current/userguide/toolchains.html\r\ndescribes Selecting toolchains by vendor: \r\n\r\n    java {\r\n        toolchain {\r\n    ...\r\n            vendor = JvmVendorSpec.ADOPTIUM // or vendor = JvmVendorSpec.matching(&quot;Private Build&quot;) in my case. find the Vendor = value you need with ./gradlew -q javaToolchains\r\n        }\r\n    }\r\n\r\nor even complete Custom toolchain locations: \r\n\r\n`org.gradle.java.installations.fromEnv=JDK8,JRE17` //from env vars\r\n`org.gradle.java.installations.paths=/custom/path/jdk1.8,/shared/jre11`\r\n\r\n","title":"Can we force the use of a JDK as Gradle Java toolchain?","body":"<p>For those of us without internet on build machines per business requirement, <em>sigh</em>,\n<a href=\"https://docs.gradle.org/current/userguide/toolchains.html\" rel=\"nofollow noreferrer\">https://docs.gradle.org/current/userguide/toolchains.html</a>\ndescribes Selecting toolchains by vendor:</p>\n<pre><code>java {\n    toolchain {\n...\n        vendor = JvmVendorSpec.ADOPTIUM // or vendor = JvmVendorSpec.matching(&quot;Private Build&quot;) in my case. find the Vendor = value you need with ./gradlew -q javaToolchains\n    }\n}\n</code></pre>\n<p>or even complete Custom toolchain locations:</p>\n<p><code>org.gradle.java.installations.fromEnv=JDK8,JRE17</code> //from env vars\n<code>org.gradle.java.installations.paths=/custom/path/jdk1.8,/shared/jre11</code></p>\n"}],"owner":{"account_id":3514618,"reputation":12090,"user_id":2938364,"accept_rate":88,"display_name":"Markus Weninger"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3590,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":73120613,"answer_count":4,"score":2,"last_activity_date":1676878405,"creation_date":1658484104,"question_id":73078521,"body_markdown":"Gradle 6.7 introduced [_Java toolchains_](https://blog.gradle.org/java-toolchains).\r\n\r\nIn the documentation, they state that _Gradle chooses a JRE/JDK matching the requirements of the build ... By default, Gradle prefers installed JDKs over JREs..._ (from [docs.gradle.org: Toolchains for JVM projects](https://docs.gradle.org/current/userguide/toolchains.html)).\r\n\r\nThus, the JDK is chosen if we have both, JRE and JDK, installed.\r\n\r\n**Problem:**\r\n\r\nImagine that the user only has a JRE installed.\r\n\r\nYet, we want to run our application via Gradle (`JavaExec` task) using a Java toolchain, but have to ensure that a JDK is used for running because this application relies on `tools.jar`, which is not part of a JRE.\r\n\r\n**Question:**\r\n\r\nIs it possible to force Gradle to use a JDK for all tasks (including running / launching), not just for compiling, when using a Java toolchain? (see following minimal example with comment)\r\n\r\n    // This build.gradle should ensure that the application is run using a JDK of version 9 \r\n    plugins {\r\n        id &#39;application&#39;\r\n    }\r\n    java {\r\n        toolchain {\r\n            languageVersion = JavaLanguageVersion.of(9)\r\n            // QUESTION: How to force JDK here? &lt;------\r\n        }\r\n    }\r\n    // for JavaExec task runJar\r\n    tasks.withType(JavaExec).configureEach {\r\n        javaLauncher = javaToolchains.launcherFor(java.toolchain)\r\n    }\r\n    task runJar(type: JavaExec) {\r\n        classpath = files(jar.archiveFile)\r\n    }\r\n    ...","title":"Can we force the use of a JDK as Gradle Java toolchain?","body":"<p>Gradle 6.7 introduced <a href=\"https://blog.gradle.org/java-toolchains\" rel=\"nofollow noreferrer\"><em>Java toolchains</em></a>.</p>\n<p>In the documentation, they state that <em>Gradle chooses a JRE/JDK matching the requirements of the build ... By default, Gradle prefers installed JDKs over JREs...</em> (from <a href=\"https://docs.gradle.org/current/userguide/toolchains.html\" rel=\"nofollow noreferrer\">docs.gradle.org: Toolchains for JVM projects</a>).</p>\n<p>Thus, the JDK is chosen if we have both, JRE and JDK, installed.</p>\n<p><strong>Problem:</strong></p>\n<p>Imagine that the user only has a JRE installed.</p>\n<p>Yet, we want to run our application via Gradle (<code>JavaExec</code> task) using a Java toolchain, but have to ensure that a JDK is used for running because this application relies on <code>tools.jar</code>, which is not part of a JRE.</p>\n<p><strong>Question:</strong></p>\n<p>Is it possible to force Gradle to use a JDK for all tasks (including running / launching), not just for compiling, when using a Java toolchain? (see following minimal example with comment)</p>\n<pre><code>// This build.gradle should ensure that the application is run using a JDK of version 9 \nplugins {\n    id 'application'\n}\njava {\n    toolchain {\n        languageVersion = JavaLanguageVersion.of(9)\n        // QUESTION: How to force JDK here? &lt;------\n    }\n}\n// for JavaExec task runJar\ntasks.withType(JavaExec).configureEach {\n    javaLauncher = javaToolchains.launcherFor(java.toolchain)\n}\ntask runJar(type: JavaExec) {\n    classpath = files(jar.archiveFile)\n}\n...\n</code></pre>\n"},{"tags":["java","ssh","scp","jsch","jcabi"],"answers":[{"tags":[],"owner":{"account_id":453710,"reputation":192103,"user_id":850848,"accept_rate":80,"display_name":"Martin Prikryl"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1583217699,"creation_date":1472574702,"answer_id":39232735,"question_id":39232333,"body_markdown":"Automating an execution of an interactive command is a sign of a bad design. Anyway...\r\n\r\n---\r\n\r\nThe `scp` will prompt your for a password in an interactive session/terminal only. For security reasons, it won&#39;t read the password from a plain standard input.\r\n\r\nSo you have to enable an interactive session/terminal.\r\n\r\nIn JSch, you do that by calling `.setPty`:\r\n\r\n    channel.setPty(true);\r\n    channel.connect();\r\n\r\n---\r\n\r\nSimilar question: https://stackoverflow.com/q/11968805/850848.\r\n\r\n---\r\n\r\nAnother approach is using `expect` or `sshpass` tools: https://stackoverflow.com/q/50096/850848","title":"How to pass in the password to scp using Java ssh JSch and jcabi-ssh","body":"<p>Automating an execution of an interactive command is a sign of a bad design. Anyway...</p>\n\n<hr>\n\n<p>The <code>scp</code> will prompt your for a password in an interactive session/terminal only. For security reasons, it won't read the password from a plain standard input.</p>\n\n<p>So you have to enable an interactive session/terminal.</p>\n\n<p>In JSch, you do that by calling <code>.setPty</code>:</p>\n\n<pre><code>channel.setPty(true);\nchannel.connect();\n</code></pre>\n\n<hr>\n\n<p>Similar question: <a href=\"https://stackoverflow.com/q/11968805/850848\">Use JSch sudo example and Channel.setPty for running sudo command on remote host</a>.</p>\n\n<hr>\n\n<p>Another approach is using <code>expect</code> or <code>sshpass</code> tools: <a href=\"https://stackoverflow.com/q/50096/850848\">How to pass password to scp?</a></p>\n"},{"tags":[],"owner":{"account_id":63162,"reputation":102381,"user_id":187141,"accept_rate":82,"display_name":"yegor256"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1474763600,"creation_date":1474763600,"answer_id":39682282,"question_id":39232333,"body_markdown":"The problem is that `scp` is looking for a password in your `~/.ssh` and can&#39;t find it there. You should provide it again to `scp`. Something like this: https://stackoverflow.com/questions/50096/how-to-pass-password-to-scp","title":"How to pass in the password to scp using Java ssh JSch and jcabi-ssh","body":"<p>The problem is that <code>scp</code> is looking for a password in your <code>~/.ssh</code> and can't find it there. You should provide it again to <code>scp</code>. Something like this: <a href=\"https://stackoverflow.com/questions/50096/how-to-pass-password-to-scp\">How to pass password to scp?</a></p>\n"}],"owner":{"account_id":8510380,"reputation":450,"user_id":6380624,"accept_rate":27,"display_name":"Andrei Iatsuk"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3633,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":39232735,"answer_count":2,"score":1,"last_activity_date":1676878346,"creation_date":1472573220,"question_id":39232333,"body_markdown":"I need to execute following command:\r\n\r\n&lt;!-- language: lang-none --&gt;\r\n\r\n    scp -r ~/dataIn yatsuk@192.168.1.1:~/dataOut\r\n\r\nIn Ubuntu (16.04) terminal this command work correctly. \r\nyatsuk@192.168.1.1 is localhost.\r\n\r\nSo I try this code using jcabi:\r\n\r\n    Shell shell = new SSHByPassword(&quot;192.168.1.1&quot;, 22, &quot;yatsuk&quot;, &quot;passw&quot;);\r\n    String stdout = new Shell.Plain(shell).exec(&quot;scp -r ~/dataIn yatsuk@192.168.1.1:~/dataOut&quot;);\r\n    System.out.println(stdout);\r\n\r\nAnd this code by JSch:\r\n\r\n    JSch jsch = new JSch();\r\n    JSch.setConfig(&quot;StrictHostKeyChecking&quot;, &quot;no&quot;);\r\n    Session session = jsch.getSession(&quot;yatsuk&quot;, 192.168.1.1, 22);\r\n    session.setPassword(&quot;passw&quot;);\r\n    session.connect();\r\n\r\n    Channel channel = session.openChannel(&quot;exec&quot;);\r\n    ((ChannelExec) channel).setCommand(&quot;scp -r ~/dataIn yatsuk@192.168.1.1:~/dataOut&quot;);\r\n    ((ChannelExec) channel).setErrStream(System.err);\r\n    channel.setOutputStream(System.out);\r\n    channel.setInputStream(System.in);\r\n    channel.connect();\r\n\r\n    while (!channel.isClosed()) {\r\n        Thread.sleep(1000);\r\n    }\r\n    channel.disconnect();\r\n    session.disconnect();\r\n\r\nBoth return me:\r\n\r\n&lt;!-- language: lang-none --&gt;\r\n\r\n    Permission denied, please try again.\r\n    Permission denied, please try again.\r\n    Permission denied (publickey,password).\r\n    lost connection\r\n\r\nSimple commands like `echo 1 &gt; 1.txt` works perfectly.\r\nMaybe something I do not understand?","title":"How to pass in the password to scp using Java ssh JSch and jcabi-ssh","body":"<p>I need to execute following command:</p>\n<pre class=\"lang-none prettyprint-override\"><code>scp -r ~/dataIn yatsuk@192.168.1.1:~/dataOut\n</code></pre>\n<p>In Ubuntu (16.04) terminal this command work correctly.\nyatsuk@192.168.1.1 is localhost.</p>\n<p>So I try this code using jcabi:</p>\n<pre><code>Shell shell = new SSHByPassword(&quot;192.168.1.1&quot;, 22, &quot;yatsuk&quot;, &quot;passw&quot;);\nString stdout = new Shell.Plain(shell).exec(&quot;scp -r ~/dataIn yatsuk@192.168.1.1:~/dataOut&quot;);\nSystem.out.println(stdout);\n</code></pre>\n<p>And this code by JSch:</p>\n<pre><code>JSch jsch = new JSch();\nJSch.setConfig(&quot;StrictHostKeyChecking&quot;, &quot;no&quot;);\nSession session = jsch.getSession(&quot;yatsuk&quot;, 192.168.1.1, 22);\nsession.setPassword(&quot;passw&quot;);\nsession.connect();\n\nChannel channel = session.openChannel(&quot;exec&quot;);\n((ChannelExec) channel).setCommand(&quot;scp -r ~/dataIn yatsuk@192.168.1.1:~/dataOut&quot;);\n((ChannelExec) channel).setErrStream(System.err);\nchannel.setOutputStream(System.out);\nchannel.setInputStream(System.in);\nchannel.connect();\n\nwhile (!channel.isClosed()) {\n    Thread.sleep(1000);\n}\nchannel.disconnect();\nsession.disconnect();\n</code></pre>\n<p>Both return me:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Permission denied, please try again.\nPermission denied, please try again.\nPermission denied (publickey,password).\nlost connection\n</code></pre>\n<p>Simple commands like <code>echo 1 &gt; 1.txt</code> works perfectly.\nMaybe something I do not understand?</p>\n"},{"tags":["java","android","collections"],"comments":[{"owner":{"account_id":28934,"reputation":7258,"user_id":77722,"accept_rate":90,"display_name":"Tobias"},"score":3,"creation_date":1316429081,"post_id":7469643,"comment_id":9038341,"body_markdown":"Why don&#180;t you use sort() or sth. like that for arrays or collections?","body":"Why don&#180;t you use sort() or sth. like that for arrays or collections?"},{"owner":{"account_id":291508,"reputation":37619,"user_id":593709,"accept_rate":80,"display_name":"Adil Soomro"},"score":0,"creation_date":1316429195,"post_id":7469643,"comment_id":9038374,"body_markdown":"@jitender: What do you want to do, would you elaborate..?","body":"@jitender: What do you want to do, would you elaborate..?"},{"owner":{"display_name":"user934357"},"score":0,"creation_date":1316429868,"post_id":7469643,"comment_id":9038516,"body_markdown":"i want to sort a list in dictionary order while ignoring the case sensitive letters...i.e if i write man and Mango they come together in the list after sorting.","body":"i want to sort a list in dictionary order while ignoring the case sensitive letters...i.e if i write man and Mango they come together in the list after sorting."},{"owner":{"account_id":29689,"reputation":57954,"user_id":80425,"accept_rate":93,"display_name":"David Snabel-Caunt"},"score":0,"creation_date":1316430260,"post_id":7469643,"comment_id":9038611,"body_markdown":"I think jitender is looking for a *natural sort* order and I have no idea why [Collections.sort](http://developer.android.com/reference/java/util/Collections.html#sort(java.util.List&lt;T&gt;)) isn&#39;t being used!","body":"I think jitender is looking for a <i>natural sort</i> order and I have no idea why <a href=\"http://developer.android.com/reference/java/util/Collections.html#sort(java.util.List&lt;T&gt;)\" rel=\"nofollow noreferrer\">Collections.sort</a> isn&#39;t being used!"}],"answers":[{"tags":[],"owner":{"account_id":895026,"reputation":764,"user_id":932506,"display_name":"denolk"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1316429115,"creation_date":1316429115,"answer_id":7469697,"question_id":7469643,"body_markdown":"did you tried converting the first char of the string to lowercase on `if(fruits[i].charAt(0) == currChar)` and `char currChar = fruits[0].charAt(0)` statements?","title":"How to sort alphabetically while ignoring case sensitive?","body":"<p>did you tried converting the first char of the string to lowercase on <code>if(fruits[i].charAt(0) == currChar)</code> and <code>char currChar = fruits[0].charAt(0)</code> statements?</p>\n"},{"tags":[],"owner":{"account_id":29689,"reputation":57954,"user_id":80425,"accept_rate":93,"display_name":"David Snabel-Caunt"},"comment_count":0,"down_vote_count":1,"up_vote_count":49,"is_accepted":false,"score":48,"last_activity_date":1316431800,"creation_date":1316431800,"answer_id":7470230,"question_id":7469643,"body_markdown":"It is **very** unclear what you are trying to do, but you can sort a list like this:\r\n\r\n    List&lt;String&gt; fruits = new ArrayList&lt;String&gt;(7);\r\n    \r\n    fruits.add(&quot;Pineapple&quot;);\r\n    fruits.add(&quot;apple&quot;);\r\n    fruits.add(&quot;apricot&quot;);\r\n    fruits.add(&quot;Banana&quot;);\r\n    fruits.add(&quot;mango&quot;);\r\n    fruits.add(&quot;melon&quot;);        \r\n    fruits.add(&quot;peach&quot;);\r\n    \r\n    System.out.println(&quot;Unsorted: &quot; + fruits);\r\n    \r\n    Collections.sort(fruits, new Comparator&lt;String&gt;() {\r\n    \t@Override\r\n    \tpublic int compare(String o1, String o2) {\t\t\t\t\r\n    \t\treturn o1.compareToIgnoreCase(o2);\r\n    \t}\r\n    });\r\n    \r\n    System.out.println(&quot;Sorted: &quot; + fruits);","title":"How to sort alphabetically while ignoring case sensitive?","body":"<p>It is <strong>very</strong> unclear what you are trying to do, but you can sort a list like this:</p>\n\n<pre><code>List&lt;String&gt; fruits = new ArrayList&lt;String&gt;(7);\n\nfruits.add(\"Pineapple\");\nfruits.add(\"apple\");\nfruits.add(\"apricot\");\nfruits.add(\"Banana\");\nfruits.add(\"mango\");\nfruits.add(\"melon\");        \nfruits.add(\"peach\");\n\nSystem.out.println(\"Unsorted: \" + fruits);\n\nCollections.sort(fruits, new Comparator&lt;String&gt;() {\n    @Override\n    public int compare(String o1, String o2) {              \n        return o1.compareToIgnoreCase(o2);\n    }\n});\n\nSystem.out.println(\"Sorted: \" + fruits);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":918082,"reputation":54574,"user_id":950427,"accept_rate":91,"display_name":"Jared Burrows"},"score":0,"creation_date":1339880981,"post_id":7470578,"comment_id":14483603,"body_markdown":"http://stackoverflow.com/questions/203030/best-way-to-list-files-in-java-sorted-by-date-modified","body":"<a href=\"http://stackoverflow.com/questions/203030/best-way-to-list-files-in-java-sorted-by-date-modified\" title=\"best way to list files in java sorted by date modified\">stackoverflow.com/questions/203030/&hellip;</a>"},{"owner":{"account_id":5506123,"reputation":4004,"user_id":4373927,"accept_rate":94,"display_name":"John R Perry"},"score":7,"creation_date":1537396860,"post_id":7470578,"comment_id":91773892,"body_markdown":"This is so much more complicated that it needs to be.","body":"This is so much more complicated that it needs to be."}],"tags":[],"owner":{"account_id":196530,"reputation":23872,"user_id":440010,"accept_rate":68,"display_name":"NickT"},"comment_count":2,"down_vote_count":6,"up_vote_count":40,"is_accepted":true,"score":34,"last_activity_date":1316433526,"creation_date":1316433526,"answer_id":7470578,"question_id":7469643,"body_markdown":"Here&#39;s a plain java example of the best way to do it:\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.Collections;\r\n    import java.util.Comparator;\r\n    import java.util.List;\r\n    \r\n    public class Sorter {\r\n    \tString fruits[] = new String[7];\r\n    \tList&lt;String&gt; lst;\r\n    \r\n    \tSorter() {\r\n    \t\tlst = new ArrayList&lt;String&gt;();\r\n    \t\t// initialise UNSORTED array\r\n    \t\tfruits[0] = &quot;Melon&quot;; fruits[1] = &quot;apricot&quot;;\tfruits[2] = &quot;peach&quot;;\r\n    \t\tfruits[3] = &quot;mango&quot;; fruits[4] = &quot;Apple&quot;;\tfruits[5] = &quot;pineapple&quot;;\r\n    \t\tfruits[6] = &quot;banana&quot;;\r\n    \t}\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSorter srt = new Sorter();\r\n    \t\tsrt.anyOldUnstaticMethod();\r\n    \r\n    \t}\r\n    \tpublic void anyOldUnstaticMethod() {\r\n    \t\tCollections.addAll(lst, fruits);\r\n    \t\tSystem.out.println(&quot;Initial List&quot;);\r\n    \t\tfor (String s : lst)\r\n    \t\t\tSystem.out.println(s);\r\n    \t\tCollections.sort(lst);\r\n    \t\tSystem.out.println(&quot;\\nSorted List&quot;);\r\n    \t\tfor (String s : lst)\r\n    \t\t\tSystem.out.println(s);\r\n    \t\tCollections.sort(lst, new SortIgnoreCase());\r\n    \t\tSystem.out.println(&quot;\\nSorted Ignoring Case List&quot;);\r\n    \t\tfor (String s : lst)\r\n    \t\t\tSystem.out.println(s);\r\n    \t}\r\n    \r\n    \tpublic class SortIgnoreCase implements Comparator&lt;Object&gt; {\r\n    \t\tpublic int compare(Object o1, Object o2) {\r\n    \t\t\tString s1 = (String) o1;\r\n    \t\t\tString s2 = (String) o2;\r\n    \t\t\treturn s1.toLowerCase().compareTo(s2.toLowerCase());\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\n","title":"How to sort alphabetically while ignoring case sensitive?","body":"<p>Here's a plain java example of the best way to do it:</p>\n\n<pre><code>import java.util.ArrayList;\nimport java.util.Collections;\nimport java.util.Comparator;\nimport java.util.List;\n\npublic class Sorter {\n    String fruits[] = new String[7];\n    List&lt;String&gt; lst;\n\n    Sorter() {\n        lst = new ArrayList&lt;String&gt;();\n        // initialise UNSORTED array\n        fruits[0] = \"Melon\"; fruits[1] = \"apricot\"; fruits[2] = \"peach\";\n        fruits[3] = \"mango\"; fruits[4] = \"Apple\";   fruits[5] = \"pineapple\";\n        fruits[6] = \"banana\";\n    }\n\n    public static void main(String[] args) {\n        Sorter srt = new Sorter();\n        srt.anyOldUnstaticMethod();\n\n    }\n    public void anyOldUnstaticMethod() {\n        Collections.addAll(lst, fruits);\n        System.out.println(\"Initial List\");\n        for (String s : lst)\n            System.out.println(s);\n        Collections.sort(lst);\n        System.out.println(\"\\nSorted List\");\n        for (String s : lst)\n            System.out.println(s);\n        Collections.sort(lst, new SortIgnoreCase());\n        System.out.println(\"\\nSorted Ignoring Case List\");\n        for (String s : lst)\n            System.out.println(s);\n    }\n\n    public class SortIgnoreCase implements Comparator&lt;Object&gt; {\n        public int compare(Object o1, Object o2) {\n            String s1 = (String) o1;\n            String s2 = (String) o2;\n            return s1.toLowerCase().compareTo(s2.toLowerCase());\n        }\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":332245,"reputation":16487,"user_id":657427,"accept_rate":67,"display_name":"Christophe Roussy"},"score":1,"creation_date":1416837276,"post_id":17339673,"comment_id":42716205,"body_markdown":"Why not use the &lt;String&gt; type in the diamond operator to avoid casting to String ?","body":"Why not use the &lt;String&gt; type in the diamond operator to avoid casting to String ?"},{"owner":{"account_id":2888638,"reputation":10719,"user_id":2477916,"accept_rate":100,"display_name":"Java Devil"},"score":1,"creation_date":1416858208,"post_id":17339673,"comment_id":42728471,"body_markdown":"@ChristopheRoussy No reason, other than I didn&#39;t think of that or see that at the time maybe... would have been better.","body":"@ChristopheRoussy No reason, other than I didn&#39;t think of that or see that at the time maybe... would have been better."},{"owner":{"account_id":325916,"reputation":5887,"user_id":697099,"accept_rate":40,"display_name":"gerardw"},"score":1,"creation_date":1429297518,"post_id":17339673,"comment_id":47550533,"body_markdown":"java.lang.String.CASE_INSENSTIVE_ORDER is predefined. http://docs.oracle.com/javase/7/docs/api/java/lang/String.html#CASE_INSENSITIVE_ORDER","body":"java.lang.String.CASE_INSENSTIVE_ORDER is predefined. <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/String.html#CASE_INSENSITIVE_ORDER\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/7/docs/api/java/lang/&hellip;</a>"}],"tags":[],"owner":{"account_id":2888638,"reputation":10719,"user_id":2477916,"accept_rate":100,"display_name":"Java Devil"},"comment_count":3,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1416991679,"creation_date":1372325789,"answer_id":17339673,"question_id":7469643,"body_markdown":"I like the comparator class `SortIgnoreCase`, but would have used this\r\n\r\n    public class SortIgnoreCase implements Comparator&lt;String&gt; {\r\n        public int compare(String s1, String s2) {\r\n            return s1.compareToIgnoreCase(s2);    // Cleaner :)\r\n        }\r\n    }","title":"How to sort alphabetically while ignoring case sensitive?","body":"<p>I like the comparator class <code>SortIgnoreCase</code>, but would have used this</p>\n\n<pre><code>public class SortIgnoreCase implements Comparator&lt;String&gt; {\n    public int compare(String s1, String s2) {\n        return s1.compareToIgnoreCase(s2);    // Cleaner :)\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":604462,"reputation":1040,"user_id":309261,"display_name":"Neon"},"score":18,"creation_date":1373901538,"post_id":17491652,"comment_id":25716709,"body_markdown":"you don&#39;t have to create your own case-insensitive String Comparator, just use String.CASE_INSENSITIVE_ORDER (since Java 1.2)","body":"you don&#39;t have to create your own case-insensitive String Comparator, just use String.CASE_INSENSITIVE_ORDER (since Java 1.2)"},{"owner":{"account_id":1602625,"reputation":2339,"user_id":1483390,"accept_rate":52,"display_name":"Luis A. Florit"},"score":0,"creation_date":1455462292,"post_id":17491652,"comment_id":58490196,"body_markdown":"And what if I want to pass two properties, like insensitive order AND reverse order?","body":"And what if I want to pass two properties, like insensitive order AND reverse order?"},{"owner":{"account_id":1212298,"reputation":27085,"user_id":1180621,"accept_rate":100,"display_name":"Andrejs"},"score":1,"creation_date":1503219046,"post_id":17491652,"comment_id":78517798,"body_markdown":"Worth noting that this will modify the existing list so the list needs to be mutable.","body":"Worth noting that this will modify the existing list so the list needs to be mutable."},{"owner":{"account_id":440455,"reputation":769,"user_id":830024,"display_name":"Rob Stoecklein"},"score":1,"creation_date":1522782750,"post_id":17491652,"comment_id":86282723,"body_markdown":"You can also write: theList.sort(String.CASE_INSENSITIVE_ORDER)","body":"You can also write: theList.sort(String.CASE_INSENSITIVE_ORDER)"},{"owner":{"account_id":7532056,"reputation":1811,"user_id":5719810,"display_name":"Shamsul Arefin"},"score":0,"creation_date":1660666604,"post_id":17491652,"comment_id":129583957,"body_markdown":"For sorting an arraylist of objects, we do need to write a comparator","body":"For sorting an arraylist of objects, we do need to write a comparator"}],"tags":[],"owner":{"account_id":1623871,"reputation":2031,"user_id":1499882,"display_name":"guyblank"},"comment_count":5,"down_vote_count":0,"up_vote_count":193,"is_accepted":false,"score":193,"last_activity_date":1373035850,"creation_date":1373035850,"answer_id":17491652,"question_id":7469643,"body_markdown":"    Collections.sort(listToSort, String.CASE_INSENSITIVE_ORDER);","title":"How to sort alphabetically while ignoring case sensitive?","body":"<pre><code>Collections.sort(listToSort, String.CASE_INSENSITIVE_ORDER);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4184348,"reputation":517,"user_id":3428458,"display_name":"Hugo Silva"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1395831312,"creation_date":1395831312,"answer_id":22658778,"question_id":7469643,"body_markdown":"**Example using Collections and ArrayList:**\r\n\r\nDevelop an intern static class like the example &quot;CompareStrings&quot;.\r\n\r\nCall the intern static class in the main method.\r\n\r\nEasy to understand and works fine!\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.Collections;\r\n    import java.util.Comparator;\r\n    \r\n    public class MainClass {\r\n        public static void main(String[] args) {\r\n            ArrayList&lt;String&gt; myArray = new ArrayList&lt;String&gt;();\r\n            myArray.add(&quot;zzz&quot;);\r\n            myArray.add(&quot;xxx&quot;);\r\n            myArray.add(&quot;Aaa&quot;);\r\n            myArray.add(&quot;bb&quot;);\r\n            myArray.add(&quot;BB&quot;);\r\n            Collections.sort(myArray, new MainClass.CompareStrings());\r\n            for(String s : myArray) {\r\n                System.out.println(s);\r\n            }\r\n        }\r\n\r\n        public static class CompareStrings implements Comparator&lt;String&gt; {\r\n            @Override\r\n            public int compare(String s1, String s2) {\r\n               return s1.compareToIgnoreCase(s2);\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n\r\n","title":"How to sort alphabetically while ignoring case sensitive?","body":"<p><strong>Example using Collections and ArrayList:</strong></p>\n\n<p>Develop an intern static class like the example \"CompareStrings\".</p>\n\n<p>Call the intern static class in the main method.</p>\n\n<p>Easy to understand and works fine!</p>\n\n<pre><code>import java.util.ArrayList;\nimport java.util.Collections;\nimport java.util.Comparator;\n\npublic class MainClass {\n    public static void main(String[] args) {\n        ArrayList&lt;String&gt; myArray = new ArrayList&lt;String&gt;();\n        myArray.add(\"zzz\");\n        myArray.add(\"xxx\");\n        myArray.add(\"Aaa\");\n        myArray.add(\"bb\");\n        myArray.add(\"BB\");\n        Collections.sort(myArray, new MainClass.CompareStrings());\n        for(String s : myArray) {\n            System.out.println(s);\n        }\n    }\n\n    public static class CompareStrings implements Comparator&lt;String&gt; {\n        @Override\n        public int compare(String s1, String s2) {\n           return s1.compareToIgnoreCase(s2);\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4364907,"reputation":31,"user_id":3561002,"display_name":"user3561002"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1401457477,"creation_date":1401457477,"answer_id":23956080,"question_id":7469643,"body_markdown":"In your comparator factory class, do something like this:\r\n\r\n     private static final Comparator&lt;String&gt; MYSTRING_COMPARATOR = new Comparator&lt;String&gt;() {\r\n        @Override\r\n        public int compare(String s1, String s2) {\r\n          return s1.compareToIgnoreCase(s2);\r\n        }\r\n      };\r\n    \r\n      public static Comparator&lt;String&gt; getMyStringComparator() {\r\n        return MYSTRING_COMPARATOR;\r\n\r\nThis uses the compare to method which is case insensitive (why write your own). This way you can use Collections sort like this:\r\n\r\n    List&lt;String&gt; myArray = new ArrayList&lt;String&gt;();\r\n    //fill your array here    \r\n    Collections.sort(MyArray, MyComparators. getMyStringComparator());","title":"How to sort alphabetically while ignoring case sensitive?","body":"<p>In your comparator factory class, do something like this:</p>\n\n<pre><code> private static final Comparator&lt;String&gt; MYSTRING_COMPARATOR = new Comparator&lt;String&gt;() {\n    @Override\n    public int compare(String s1, String s2) {\n      return s1.compareToIgnoreCase(s2);\n    }\n  };\n\n  public static Comparator&lt;String&gt; getMyStringComparator() {\n    return MYSTRING_COMPARATOR;\n</code></pre>\n\n<p>This uses the compare to method which is case insensitive (why write your own). This way you can use Collections sort like this:</p>\n\n<pre><code>List&lt;String&gt; myArray = new ArrayList&lt;String&gt;();\n//fill your array here    \nCollections.sort(MyArray, MyComparators. getMyStringComparator());\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1161198,"reputation":1653,"user_id":1140659,"accept_rate":75,"display_name":"Roeland Van Heddegem"},"score":0,"creation_date":1661432259,"post_id":27046773,"comment_id":129774690,"body_markdown":"or even shorter: `listToSort.sort(usCollator);`","body":"or even shorter: <code>listToSort.sort(usCollator);</code>"}],"tags":[],"owner":{"account_id":123612,"reputation":48061,"user_id":318174,"accept_rate":71,"display_name":"Adam Gent"},"comment_count":1,"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1416507782,"creation_date":1416507782,"answer_id":27046773,"question_id":7469643,"body_markdown":"I can&#39;t believe no one made a reference to the [Collator][1]. Almost all of these answers will only work for the English language.\r\n\r\nYou should almost always use a [Collator for dictionary based sorting][2].\r\n\r\nFor case insensitive collator searching for the English language you do the following:\r\n\r\n    Collator usCollator = Collator.getInstance(Locale.US);\r\n    usCollator.setStrength(Collator.PRIMARY);\r\n    Collections.sort(listToSort, usCollator);\r\n\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/i18n/text/collationintro.html\r\n  [2]: https://docs.oracle.com/javase/7/docs/api/java/text/Collator.html","title":"How to sort alphabetically while ignoring case sensitive?","body":"<p>I can't believe no one made a reference to the <a href=\"https://docs.oracle.com/javase/tutorial/i18n/text/collationintro.html\" rel=\"noreferrer\">Collator</a>. Almost all of these answers will only work for the English language.</p>\n\n<p>You should almost always use a <a href=\"https://docs.oracle.com/javase/7/docs/api/java/text/Collator.html\" rel=\"noreferrer\">Collator for dictionary based sorting</a>.</p>\n\n<p>For case insensitive collator searching for the English language you do the following:</p>\n\n<pre><code>Collator usCollator = Collator.getInstance(Locale.US);\nusCollator.setStrength(Collator.PRIMARY);\nCollections.sort(listToSort, usCollator);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5489338,"reputation":401,"user_id":4363171,"display_name":"user4363171"},"comment_count":0,"down_vote_count":0,"up_vote_count":40,"is_accepted":false,"score":40,"last_activity_date":1418661680,"creation_date":1418661059,"answer_id":27488634,"question_id":7469643,"body_markdown":"`Collections.sort()` lets you pass a custom comparator for ordering. For case insensitive ordering `String` class provides a static final comparator called `CASE_INSENSITIVE_ORDER`.\r\n\r\nSo in your case all that&#39;s needed is:\r\n\r\n    Collections.sort(caps, String.CASE_INSENSITIVE_ORDER);","title":"How to sort alphabetically while ignoring case sensitive?","body":"<p><code>Collections.sort()</code> lets you pass a custom comparator for ordering. For case insensitive ordering <code>String</code> class provides a static final comparator called <code>CASE_INSENSITIVE_ORDER</code>.</p>\n\n<p>So in your case all that's needed is:</p>\n\n<pre><code>Collections.sort(caps, String.CASE_INSENSITIVE_ORDER);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6085211,"reputation":536,"user_id":4749531,"display_name":"Hatem Badawi"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1450142512,"creation_date":1450142512,"answer_id":34279510,"question_id":7469643,"body_markdown":"Pass `java.text.Collator.getInstance()` to `Collections.sort` method ; it will sort Alphabetically while ignoring case sensitive.\r\n\r\n            ArrayList&lt;String&gt; myArray = new ArrayList&lt;String&gt;();\r\n\t        myArray.add(&quot;zzz&quot;);\r\n\t        myArray.add(&quot;xxx&quot;);\r\n\t        myArray.add(&quot;Aaa&quot;);\r\n\t        myArray.add(&quot;bb&quot;);\r\n\t        myArray.add(&quot;BB&quot;);\r\n\t        Collections.sort(myArray,Collator.getInstance());","title":"How to sort alphabetically while ignoring case sensitive?","body":"<p>Pass <code>java.text.Collator.getInstance()</code> to <code>Collections.sort</code> method ; it will sort Alphabetically while ignoring case sensitive.</p>\n\n<pre><code>        ArrayList&lt;String&gt; myArray = new ArrayList&lt;String&gt;();\n        myArray.add(\"zzz\");\n        myArray.add(\"xxx\");\n        myArray.add(\"Aaa\");\n        myArray.add(\"bb\");\n        myArray.add(\"BB\");\n        Collections.sort(myArray,Collator.getInstance());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6379274,"reputation":123,"user_id":4949287,"accept_rate":60,"display_name":"CarlosLeo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1469525500,"creation_date":1469525500,"answer_id":38586125,"question_id":7469643,"body_markdown":"In your case you have a `List` of Strings and most of the already proposed solutions (I specially like @guyblank answer) are just fine but!!!, if you have a `List` of beans, which is my case, you can use `Comparable` interface in your bean like this:\r\n\r\n    public class UserBean implements Comparable&lt;UserBean&gt; {\r\n        \r\n       private String name;\r\n       private String surname;        \r\n       private Integer phone;\r\n\r\n       // GETTERS AND SETTERS\r\n\r\n       public int compareTo(UserBean bean) {\r\n           return name.compareToIgnoreCase(bean.name);\r\n       }\r\n    \r\n    }\r\n\r\nThen you only need to create your `ArrayList&lt;UserBean&gt; userBeanArray = new ArrayList&lt;UserBean&gt;();`, fill it and sort it: `Collections.sort(userBeanArray);`\r\n\r\n\r\nAnd you have it done!\r\n\r\nHope to help to community ;-)","title":"How to sort alphabetically while ignoring case sensitive?","body":"<p>In your case you have a <code>List</code> of Strings and most of the already proposed solutions (I specially like @guyblank answer) are just fine but!!!, if you have a <code>List</code> of beans, which is my case, you can use <code>Comparable</code> interface in your bean like this:</p>\n\n<pre><code>public class UserBean implements Comparable&lt;UserBean&gt; {\n\n   private String name;\n   private String surname;        \n   private Integer phone;\n\n   // GETTERS AND SETTERS\n\n   public int compareTo(UserBean bean) {\n       return name.compareToIgnoreCase(bean.name);\n   }\n\n}\n</code></pre>\n\n<p>Then you only need to create your <code>ArrayList&lt;UserBean&gt; userBeanArray = new ArrayList&lt;UserBean&gt;();</code>, fill it and sort it: <code>Collections.sort(userBeanArray);</code></p>\n\n<p>And you have it done!</p>\n\n<p>Hope to help to community ;-)</p>\n"},{"tags":[],"owner":{"account_id":9964431,"reputation":9,"user_id":7372541,"display_name":"Nilesh Patil"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1485174660,"creation_date":1485174660,"answer_id":41806451,"question_id":7469643,"body_markdown":"Here is an example to sort an array : Case-insensitive\r\n\r\n    import java.text.Collator;\r\n    import java.util.Arrays;\r\n\r\n    public class Main {\r\n      public static void main(String args[]) {\r\n\r\n        String[] myArray = new String[] { &quot;A&quot;, &quot;B&quot;, &quot;b&quot; };\r\n        Arrays.sort(myArray, Collator.getInstance());\r\n\r\n      System.out.println(Arrays.toString(myArray));\r\n\r\n     }\r\n\r\n    }\r\n\r\n\r\n/* Output:[A, b, B] */\r\n","title":"How to sort alphabetically while ignoring case sensitive?","body":"<p>Here is an example to sort an array : Case-insensitive</p>\n\n<pre><code>import java.text.Collator;\nimport java.util.Arrays;\n\npublic class Main {\n  public static void main(String args[]) {\n\n    String[] myArray = new String[] { \"A\", \"B\", \"b\" };\n    Arrays.sort(myArray, Collator.getInstance());\n\n  System.out.println(Arrays.toString(myArray));\n\n }\n\n}\n</code></pre>\n\n<p>/* Output:[A, b, B] */</p>\n"},{"tags":[],"owner":{"account_id":1212298,"reputation":27085,"user_id":1180621,"accept_rate":100,"display_name":"Andrejs"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1503219000,"creation_date":1503219000,"answer_id":45780236,"question_id":7469643,"body_markdown":"Since Java 8 you can sort using the Streams API:\r\n\r\n    List&lt;String&gt; fruits = Arrays.asList(&quot;apple&quot;, &quot;Apricot&quot;, &quot;banana&quot;);\r\n\r\n    List&lt;String&gt; sortedFruit = fruits.stream()\r\n          .sorted(String.CASE_INSENSITIVE_ORDER)\r\n          .collect(Collectors.toList())\r\n\r\nThe difference with `Collections.sort` is that this will return a new list and will not modify the existing one.","title":"How to sort alphabetically while ignoring case sensitive?","body":"<p>Since Java 8 you can sort using the Streams API:</p>\n\n<pre><code>List&lt;String&gt; fruits = Arrays.asList(\"apple\", \"Apricot\", \"banana\");\n\nList&lt;String&gt; sortedFruit = fruits.stream()\n      .sorted(String.CASE_INSENSITIVE_ORDER)\n      .collect(Collectors.toList())\n</code></pre>\n\n<p>The difference with <code>Collections.sort</code> is that this will return a new list and will not modify the existing one.</p>\n"},{"tags":[],"owner":{"account_id":7743155,"reputation":55371,"user_id":5862071,"accept_rate":86,"display_name":"Ousmane D."},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1515762115,"creation_date":1515762115,"answer_id":48226834,"question_id":7469643,"body_markdown":"You can directly call the default [sort][1] method on the list like this:\r\n\r\n    myList.sort(String.CASE_INSENSITIVE_ORDER); // reads as the problem statement and cleaner\r\n\r\nor:\r\n\r\n    myList.sort(String::compareToIgnoreCase);  // reads as the problem statement and cleaner\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/List.html#sort-java.util.Comparator-","title":"How to sort alphabetically while ignoring case sensitive?","body":"<p>You can directly call the default <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/List.html#sort-java.util.Comparator-\" rel=\"nofollow noreferrer\">sort</a> method on the list like this:</p>\n\n<pre><code>myList.sort(String.CASE_INSENSITIVE_ORDER); // reads as the problem statement and cleaner\n</code></pre>\n\n<p>or:</p>\n\n<pre><code>myList.sort(String::compareToIgnoreCase);  // reads as the problem statement and cleaner\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16363461,"reputation":81,"user_id":11818480,"display_name":"yome fisseha"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1571453411,"creation_date":1571453411,"answer_id":58460119,"question_id":7469643,"body_markdown":"Array Sorting in Java 8 Way-&gt; Easy peasy lemon squeezy\r\n\r\n    String[] names = {&quot;Alexis&quot;, &quot;Tim&quot;, &quot;Kyleen&quot;, &quot;KRISTY&quot;};\r\n\r\n\t  Arrays.sort(names, String::compareToIgnoreCase);\r\n\r\nI used method Reference `String::compareToIgnoreCase`\r\n","title":"How to sort alphabetically while ignoring case sensitive?","body":"<p>Array Sorting in Java 8 Way-> Easy peasy lemon squeezy</p>\n\n<pre><code>String[] names = {\"Alexis\", \"Tim\", \"Kyleen\", \"KRISTY\"};\n\n  Arrays.sort(names, String::compareToIgnoreCase);\n</code></pre>\n\n<p>I used method Reference <code>String::compareToIgnoreCase</code></p>\n"},{"tags":[],"owner":{"account_id":20859703,"reputation":31,"user_id":15322224,"display_name":"Sagar Talreja"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1676878113,"creation_date":1676878113,"answer_id":75506366,"question_id":7469643,"body_markdown":"We can pass both the field and the caseInsensitivitive in Comparator\r\n\r\n    Collections.sort(list, Comparator.comparing(Ticket::getName, String.CASE_INSENSITIVE_ORDER));","title":"How to sort alphabetically while ignoring case sensitive?","body":"<p>We can pass both the field and the caseInsensitivitive in Comparator</p>\n<pre><code>Collections.sort(list, Comparator.comparing(Ticket::getName, String.CASE_INSENSITIVE_ORDER));\n</code></pre>\n"}],"owner":{"display_name":"user934357"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":130463,"favorite_count":0,"down_vote_count":1,"up_vote_count":75,"accepted_answer_id":7470578,"answer_count":16,"score":74,"last_activity_date":1676878113,"creation_date":1316428882,"question_id":7469643,"body_markdown":"I have this code, but works only for lower case letters.  I want this to sort the list while ignoring the upper case letters..\r\n\r\n    package sortarray.com;\r\n    \r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    \r\n    import android.app.Activity;\r\n    import android.os.Bundle;\r\n    import android.util.Log;\r\n    import android.widget.TextView;\r\n    \r\n    public class SortArray extends Activity {\r\n    \tArrayList&lt;String[]&gt; matchedFruits = new ArrayList&lt;String[]&gt;();\r\n    \tTextView selection;\r\n    \r\n    \t@Override\r\n    \tpublic void onCreate(Bundle savedInstanceState) {\r\n    \t\tsuper.onCreate(savedInstanceState);\r\n    \t\tsetContentView(R.layout.main);\r\n    \r\n    \t\tString fruits[] = new String[7];// Sorted array\r\n    \t\tfruits[0] = &quot;apple&quot;;\r\n    \t\tfruits[1] = &quot;apricot&quot;;\r\n    \t\tfruits[2] = &quot;banana&quot;;\r\n    \t\tfruits[3] = &quot;mango&quot;;\r\n    \t\tfruits[4] = &quot;melon&quot;;\r\n    \t\tfruits[5] = &quot;pineapple&quot;;\r\n    \t\tfruits[6] = &quot;peach&quot;;\r\n    \t\tchar currChar = fruits[0].charAt(0);// Get first char of first element\r\n    \r\n    \t\tboolean match = false;\r\n    \t\tint len = fruits.length;\r\n    \t\tList&lt;String&gt; tmp = new ArrayList&lt;String&gt;();\r\n    \r\n    \t\tfor (int i = 1; i &lt; len; i++) {\r\n    \t\t\tLog.d(&quot;Comparing &quot;, fruits[i].charAt(0) + &quot;,&quot; + currChar);\r\n    \t\t\tif (fruits[i].charAt(0) == currChar) {\r\n    \t\t\t\tif (match == false)// new match?\r\n    \t\t\t\t{\r\n    \t\t\t\t\tmatch = true;// Reset search\r\n    \t\t\t\t\ttmp.clear();// clear existing items\r\n    \t\t\t\t\ttmp.add(fruits[i - 1]);\r\n    \t\t\t\t\tLog.d(&quot;Started new list &quot;, fruits[i - 1]);\r\n    \t\t\t\t} else {\r\n    \t\t\t\t\ttmp.add(fruits[i - 1]);\r\n    \t\t\t\t\tLog.d(&quot;Added to list &quot;, fruits[i - 1]);\r\n    \t\t\t\t}\r\n    \t\t\t} else {\r\n    \t\t\t\tmatch = false;\r\n    \t\t\t\ttmp.add(fruits[i - 1]);\r\n    \t\t\t\tmatchedFruits.add(tmp.toArray(new String[tmp.size()]));// add to\r\n    \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// final\r\n    \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// list\r\n    \t\t\t\tLog.d(&quot;Finished a list &quot;, fruits[i - 1]);\r\n    \t\t\t\ttmp.clear();// clear existing items\r\n    \r\n    \t\t\t}\r\n    \t\t\tcurrChar = fruits[i].charAt(0);\r\n    \r\n    \t\t}\r\n    \t\ttmp.add(fruits[len - 1]);\r\n    \t\tmatchedFruits.add(tmp.toArray(new String[tmp.size()]));// add left over\r\n    \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// items\r\n    \t\tprintList();\r\n    \t}\r\n    \r\n    \tvoid printList()\r\n        {\r\n        //Print the list \r\n    \t\tTextView selection = (TextView) findViewById(R.id.tv);\r\n    \t\tString mssg=&quot;&quot;;\r\n        for(int i=0;i&lt;matchedFruits.size();i++)\r\n        {\r\n        \t\tString tmp2[]= matchedFruits.get(i);\r\n        \t\t\r\n        \t\tfor (int j = 0; j &lt; tmp2.length; j++) {\r\n                    //Log.d(&quot;Final list&quot;, &quot;Array #&quot; + i + &quot;[&quot; + j + &quot;],&quot; + tmp2[j]);\r\n                    mssg += tmp2[j].toString();\r\n                \t\r\n                }\r\n        \t\t//selection.setText(&quot;\\n&quot;);\r\n        \t\tselection.setText(mssg);\r\n        \t\t\r\n        }\r\n        }\r\n    }","title":"How to sort alphabetically while ignoring case sensitive?","body":"<p>I have this code, but works only for lower case letters.  I want this to sort the list while ignoring the upper case letters..</p>\n\n<pre><code>package sortarray.com;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\nimport android.app.Activity;\nimport android.os.Bundle;\nimport android.util.Log;\nimport android.widget.TextView;\n\npublic class SortArray extends Activity {\n    ArrayList&lt;String[]&gt; matchedFruits = new ArrayList&lt;String[]&gt;();\n    TextView selection;\n\n    @Override\n    public void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.main);\n\n        String fruits[] = new String[7];// Sorted array\n        fruits[0] = \"apple\";\n        fruits[1] = \"apricot\";\n        fruits[2] = \"banana\";\n        fruits[3] = \"mango\";\n        fruits[4] = \"melon\";\n        fruits[5] = \"pineapple\";\n        fruits[6] = \"peach\";\n        char currChar = fruits[0].charAt(0);// Get first char of first element\n\n        boolean match = false;\n        int len = fruits.length;\n        List&lt;String&gt; tmp = new ArrayList&lt;String&gt;();\n\n        for (int i = 1; i &lt; len; i++) {\n            Log.d(\"Comparing \", fruits[i].charAt(0) + \",\" + currChar);\n            if (fruits[i].charAt(0) == currChar) {\n                if (match == false)// new match?\n                {\n                    match = true;// Reset search\n                    tmp.clear();// clear existing items\n                    tmp.add(fruits[i - 1]);\n                    Log.d(\"Started new list \", fruits[i - 1]);\n                } else {\n                    tmp.add(fruits[i - 1]);\n                    Log.d(\"Added to list \", fruits[i - 1]);\n                }\n            } else {\n                match = false;\n                tmp.add(fruits[i - 1]);\n                matchedFruits.add(tmp.toArray(new String[tmp.size()]));// add to\n                                                                        // final\n                                                                        // list\n                Log.d(\"Finished a list \", fruits[i - 1]);\n                tmp.clear();// clear existing items\n\n            }\n            currChar = fruits[i].charAt(0);\n\n        }\n        tmp.add(fruits[len - 1]);\n        matchedFruits.add(tmp.toArray(new String[tmp.size()]));// add left over\n                                                                // items\n        printList();\n    }\n\n    void printList()\n    {\n    //Print the list \n        TextView selection = (TextView) findViewById(R.id.tv);\n        String mssg=\"\";\n    for(int i=0;i&lt;matchedFruits.size();i++)\n    {\n            String tmp2[]= matchedFruits.get(i);\n\n            for (int j = 0; j &lt; tmp2.length; j++) {\n                //Log.d(\"Final list\", \"Array #\" + i + \"[\" + j + \"],\" + tmp2[j]);\n                mssg += tmp2[j].toString();\n\n            }\n            //selection.setText(\"\\n\");\n            selection.setText(mssg);\n\n    }\n    }\n}\n</code></pre>\n"},{"tags":["java","postgresql","spring-boot","spring-data-jpa"],"comments":[{"owner":{"account_id":9596641,"reputation":873,"user_id":7125557,"display_name":"dimirsen Z"},"score":0,"creation_date":1676476120,"post_id":75462176,"comment_id":133145103,"body_markdown":"please set in the application.properties:\nhibernate.show_sql=false and restart the app/test. You will see the generated SQL request and will be able to execute it in say Valentina Studio","body":"please set in the application.properties: hibernate.show_sql=false and restart the app/test. You will see the generated SQL request and will be able to execute it in say Valentina Studio"},{"owner":{"account_id":7501,"reputation":187982,"user_id":13070,"accept_rate":90,"display_name":"Mark B"},"score":0,"creation_date":1676476452,"post_id":75462176,"comment_id":133145243,"body_markdown":"@dimirsenZ shouldn&#39;t that be `hibernate.show_sql=true` ?","body":"@dimirsenZ shouldn&#39;t that be <code>hibernate.show_sql=true</code> ?"},{"owner":{"account_id":7501,"reputation":187982,"user_id":13070,"accept_rate":90,"display_name":"Mark B"},"score":0,"creation_date":1676476519,"post_id":75462176,"comment_id":133145279,"body_markdown":"Have you connected to the database and verified the column actually exists? Why are you assuming the error message is incorrect?","body":"Have you connected to the database and verified the column actually exists? Why are you assuming the error message is incorrect?"},{"owner":{"account_id":9596641,"reputation":873,"user_id":7125557,"display_name":"dimirsen Z"},"score":0,"creation_date":1676477892,"post_id":75462176,"comment_id":133145765,"body_markdown":"Mark B\nindeed. I copied it from my project as is","body":"Mark B indeed. I copied it from my project as is"},{"owner":{"account_id":25822,"reputation":78747,"user_id":66686,"accept_rate":87,"display_name":"Jens Schauder"},"score":0,"creation_date":1676537063,"post_id":75462176,"comment_id":133157703,"body_markdown":"Please post the DDL of the table.","body":"Please post the DDL of the table."},{"owner":{"account_id":6916082,"reputation":1,"user_id":5310304,"display_name":"Tushar Kumar"},"score":0,"creation_date":1676729016,"post_id":75462176,"comment_id":133197870,"body_markdown":"@JensSchauder below is the DDL of my table:\nCREATE TABLE IF NOT EXISTS public.tenant_info\n(\n    id integer NOT NULL,\n    tenant_id text COLLATE pg_catalog.&quot;default&quot; NOT NULL,\n    module_name text COLLATE pg_catalog.&quot;default&quot; NOT NULL,\n    url text COLLATE pg_catalog.&quot;default&quot; NOT NULL,\n    username text COLLATE pg_catalog.&quot;default&quot; NOT NULL,\n    password text COLLATE pg_catalog.&quot;default&quot; NOT NULL,\n    CONSTRAINT tenant_info_pkey PRIMARY KEY (id)\n)\n\nTABLESPACE pg_default;","body":"@JensSchauder below is the DDL of my table: CREATE TABLE IF NOT EXISTS public.tenant_info (     id integer NOT NULL,     tenant_id text COLLATE pg_catalog.&quot;default&quot; NOT NULL,     module_name text COLLATE pg_catalog.&quot;default&quot; NOT NULL,     url text COLLATE pg_catalog.&quot;default&quot; NOT NULL,     username text COLLATE pg_catalog.&quot;default&quot; NOT NULL,     password text COLLATE pg_catalog.&quot;default&quot; NOT NULL,     CONSTRAINT tenant_info_pkey PRIMARY KEY (id) )  TABLESPACE pg_default;"},{"owner":{"account_id":6916082,"reputation":1,"user_id":5310304,"display_name":"Tushar Kumar"},"score":0,"creation_date":1676729102,"post_id":75462176,"comment_id":133197887,"body_markdown":"@MarkB i have connected to DB and have added an image as well, i am not allowed to post any images yet, hence the image has been converted in form of URL, at the very beginning of this post mentioned as &quot;enter image description here&quot;.","body":"@MarkB i have connected to DB and have added an image as well, i am not allowed to post any images yet, hence the image has been converted in form of URL, at the very beginning of this post mentioned as &quot;enter image description here&quot;."},{"owner":{"account_id":6916082,"reputation":1,"user_id":5310304,"display_name":"Tushar Kumar"},"score":0,"creation_date":1676729243,"post_id":75462176,"comment_id":133197917,"body_markdown":"@dimirsenZ i have added the hibernate.show_sql=true and below is the query getting generated:\nHibernate: \n    select\n        tenantenti0_.id as id1_0_,\n        tenantenti0_.module_name as module_n2_0_,\n        tenantenti0_.password as password3_0_,\n        tenantenti0_.tenant_id as tenant_i4_0_,\n        tenantenti0_.url as url5_0_,\n        tenantenti0_.username as username6_0_ \n    from\n        public.tenant_info tenantenti0_","body":"@dimirsenZ i have added the hibernate.show_sql=true and below is the query getting generated: Hibernate:      select         tenantenti0_.id as id1_0_,         tenantenti0_.module_name as module_n2_0_,         tenantenti0_.password as password3_0_,         tenantenti0_.tenant_id as tenant_i4_0_,         tenantenti0_.url as url5_0_,         tenantenti0_.username as username6_0_      from         public.tenant_info tenantenti0_"},{"owner":{"account_id":9596641,"reputation":873,"user_id":7125557,"display_name":"dimirsen Z"},"score":0,"creation_date":1676799778,"post_id":75462176,"comment_id":133206943,"body_markdown":"Tushar Kumar So now you can execute this SQL outside your app - in IDE or in whatever program like Valentina Studio. If you reproduce your error, then the root cuase is beyond your application","body":"Tushar Kumar So now you can execute this SQL outside your app - in IDE or in whatever program like Valentina Studio. If you reproduce your error, then the root cuase is beyond your application"}],"answers":[{"comments":[{"owner":{"account_id":6916082,"reputation":1,"user_id":5310304,"display_name":"Tushar Kumar"},"score":0,"creation_date":1676729212,"post_id":75462364,"comment_id":133197908,"body_markdown":"I have added the image &quot;enter image description here&quot; at the very beginning of this post, and have added the DDL query as well in reply to main post.","body":"I have added the image &quot;enter image description here&quot; at the very beginning of this post, and have added the DDL query as well in reply to main post."}],"tags":[],"owner":{"account_id":19548722,"reputation":66,"user_id":14304860,"display_name":"Chetra_S11"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676476757,"creation_date":1676476757,"answer_id":75462364,"question_id":75462176,"body_markdown":"This can be caused because your database schema is not in synced with your Entity class. My advice is to inspect your database schema to see if your table has all the columns you expected. Might be more helpful if you show us your database table ;)","title":"SpringBoot + PostgreSQL &quot;Column does not exist&quot;","body":"<p>This can be caused because your database schema is not in synced with your Entity class. My advice is to inspect your database schema to see if your table has all the columns you expected. Might be more helpful if you show us your database table ;)</p>\n"},{"comments":[{"owner":{"account_id":14918495,"reputation":29,"user_id":10771586,"display_name":"Que1101"},"score":0,"creation_date":1692217823,"post_id":75467047,"comment_id":135595367,"body_markdown":"DId you try the escape characters on the table and schema name as well in java class?","body":"DId you try the escape characters on the table and schema name as well in java class?"}],"tags":[],"owner":{"account_id":14918495,"reputation":29,"user_id":10771586,"display_name":"Que1101"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1676557380,"creation_date":1676511717,"answer_id":75467047,"question_id":75462176,"body_markdown":"I think that there could be two problems you are facing and I cannot comment  so I have to answer just to try to help(Sorry if not useful). I believe that it may not be the schema but I would need you to upload your sql for the table to see it. It seems that it may be column not the table but the problem may be with \r\n\r\n    @Column(name = &quot;module_name&quot;)\r\n    private String moduleName;\r\n\r\nIf you look at your sql if you have quotes in postgres you may  have to escape them in your java code for it to work properly. Which would make it\r\n\r\n    @Column(name = &quot;\\&quot;module_name\\&quot;&quot;)\r\n    private String moduleName;\r\n\r\nOnce again sorry if it isn&#39;t helpful But can&#39;t comment yet so really hopeful that this will help. When I had schema naming issue it wouldn&#39;t even say column doesn&#39;t exist but the table as a whole would be missing.\r\n ","title":"SpringBoot + PostgreSQL &quot;Column does not exist&quot;","body":"<p>I think that there could be two problems you are facing and I cannot comment  so I have to answer just to try to help(Sorry if not useful). I believe that it may not be the schema but I would need you to upload your sql for the table to see it. It seems that it may be column not the table but the problem may be with</p>\n<pre><code>@Column(name = &quot;module_name&quot;)\nprivate String moduleName;\n</code></pre>\n<p>If you look at your sql if you have quotes in postgres you may  have to escape them in your java code for it to work properly. Which would make it</p>\n<pre><code>@Column(name = &quot;\\&quot;module_name\\&quot;&quot;)\nprivate String moduleName;\n</code></pre>\n<p>Once again sorry if it isn't helpful But can't comment yet so really hopeful that this will help. When I had schema naming issue it wouldn't even say column doesn't exist but the table as a whole would be missing.</p>\n"}],"owner":{"account_id":6916082,"reputation":1,"user_id":5310304,"display_name":"Tushar Kumar"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":755,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1676878105,"creation_date":1676475787,"question_id":75462176,"body_markdown":"I have been trying to retrieve all data from the table but getting \r\n\r\n&gt; &quot;Caused by: org.postgresql.util.PSQLException: ERROR: column tenantenti0_.module_name does not exist&quot;\r\n\r\nI have tried all the below still the issue persists:\r\n\r\n1. Adding in application.properties file --&gt; spring.jpa.properties.hibernate.default_schema=${your-default-schema-name}\r\n2. No camel case issue either in table column name or at code side.\r\n3. Have mentioned the schema name as well under @Table(name = &quot;tenant_info&quot;, schema = &quot;public&quot;), however for me it&#39;s public so shouldn&#39;t effect only in case of custom schema it needs to be mentioned.\r\n4. Have tried using @namedQuery in entity class and @query in repository class still the same issue.\r\n\r\nBelow is my Entity class:\r\n\r\n```java\r\n@Entity\r\n@Table(name = &quot;tenant_info&quot;, schema = &quot;public&quot;)\r\n@NamedQuery(name = &quot;TenantEntity.findAll&quot;, query = &quot;SELECT t FROM TenantEntity t&quot;)\r\n@ApplicationScope\r\npublic class TenantEntity implements Serializable {\r\n\t\r\n\tprivate static final long serialVersionUID = 1L;\r\n\r\n\t@Id\r\n\t@Column(name = &quot;id&quot;)\r\n\tprivate int id;\r\n\r\n\t@Column(name = &quot;tenant_id&quot;)\r\n\tprivate String tenantId;\r\n\r\n\t@Column(name = &quot;module_name&quot;)\r\n\tprivate String moduleName;\r\n\t\r\n\t@Column(name = &quot;url&quot;)\r\n\tprivate String url;\r\n\t\r\n\t@Column(name = &quot;username&quot;)\r\n\tprivate String userName;\r\n\t\r\n\t@Column(name = &quot;password&quot;)\r\n\tprivate String password;\r\n\r\n\tpublic int getId() {\r\n\t\treturn id;\r\n\t}\r\n\r\n\tpublic void setId(int id) {\r\n\t\tthis.id = id;\r\n\t}\r\n\r\n\tpublic String getTenantId() {\r\n\t\treturn tenantId;\r\n\t}\r\n\r\n\tpublic void setTenantId(String tenantId) {\r\n\t\tthis.tenantId = tenantId;\r\n\t}\r\n\r\n\tpublic String getModuleName() {\r\n\t\treturn moduleName;\r\n\t}\r\n\r\n\tpublic void setModuleName(String moduleName) {\r\n\t\tthis.moduleName = moduleName;\r\n\t}\r\n\r\n\tpublic String getUrl() {\r\n\t\treturn url;\r\n\t}\r\n\r\n\tpublic void setUrl(String url) {\r\n\t\tthis.url = url;\r\n\t}\r\n\r\n\tpublic String getUserName() {\r\n\t\treturn userName;\r\n\t}\r\n\r\n\tpublic void setUserName(String userName) {\r\n\t\tthis.userName = userName;\r\n\t}\r\n\r\n\tpublic String getPassword() {\r\n\t\treturn password;\r\n\t}\r\n\r\n\tpublic void setPassword(String password) {\r\n\t\tthis.password = password;\r\n\t}\r\n}\r\n```\r\n\r\nBelow is my Repository class:@Repository\r\n```java\r\npublic interface TenantRepository extends JpaRepository&lt;TenantEntity, String&gt; {\r\n\r\n\tpublic List&lt;TenantEntity&gt; findAll();\r\n\r\n\tpublic TenantEntity findByTenantId(String tenantId);\r\n\r\n\tpublic List&lt;TenantEntity&gt; findByModuleName(String moduleName);\r\n}\r\n```\r\n\r\nHave attached the table pic.\r\n\r\n```sql\r\nCREATE TABLE IF NOT EXISTS public.tenant_info ( \r\n    id integer NOT NULL, \r\n    tenant_id text COLLATE pg_catalog.&quot;default&quot; NOT NULL, \r\n    module_name text COLLATE pg_catalog.&quot;default&quot; NOT NULL, \r\n    url text COLLATE pg_catalog.&quot;default&quot; NOT NULL, \r\n    username text COLLATE pg_catalog.&quot;default&quot; NOT NULL, \r\n    password text COLLATE pg_catalog.&quot;default&quot; NOT NULL, \r\n    CONSTRAINT tenant_info_pkey PRIMARY KEY (id) \r\n) TABLESPACE pg_default;\r\n```\r\n![enter image description here](https://i.stack.imgur.com/1lJ7N.jpg) \r\n\r\n","title":"SpringBoot + PostgreSQL &quot;Column does not exist&quot;","body":"<p>I have been trying to retrieve all data from the table but getting</p>\n<blockquote>\n<p>&quot;Caused by: org.postgresql.util.PSQLException: ERROR: column tenantenti0_.module_name does not exist&quot;</p>\n</blockquote>\n<p>I have tried all the below still the issue persists:</p>\n<ol>\n<li>Adding in application.properties file --&gt; spring.jpa.properties.hibernate.default_schema=${your-default-schema-name}</li>\n<li>No camel case issue either in table column name or at code side.</li>\n<li>Have mentioned the schema name as well under @Table(name = &quot;tenant_info&quot;, schema = &quot;public&quot;), however for me it's public so shouldn't effect only in case of custom schema it needs to be mentioned.</li>\n<li>Have tried using @namedQuery in entity class and @query in repository class still the same issue.</li>\n</ol>\n<p>Below is my Entity class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table(name = &quot;tenant_info&quot;, schema = &quot;public&quot;)\n@NamedQuery(name = &quot;TenantEntity.findAll&quot;, query = &quot;SELECT t FROM TenantEntity t&quot;)\n@ApplicationScope\npublic class TenantEntity implements Serializable {\n    \n    private static final long serialVersionUID = 1L;\n\n    @Id\n    @Column(name = &quot;id&quot;)\n    private int id;\n\n    @Column(name = &quot;tenant_id&quot;)\n    private String tenantId;\n\n    @Column(name = &quot;module_name&quot;)\n    private String moduleName;\n    \n    @Column(name = &quot;url&quot;)\n    private String url;\n    \n    @Column(name = &quot;username&quot;)\n    private String userName;\n    \n    @Column(name = &quot;password&quot;)\n    private String password;\n\n    public int getId() {\n        return id;\n    }\n\n    public void setId(int id) {\n        this.id = id;\n    }\n\n    public String getTenantId() {\n        return tenantId;\n    }\n\n    public void setTenantId(String tenantId) {\n        this.tenantId = tenantId;\n    }\n\n    public String getModuleName() {\n        return moduleName;\n    }\n\n    public void setModuleName(String moduleName) {\n        this.moduleName = moduleName;\n    }\n\n    public String getUrl() {\n        return url;\n    }\n\n    public void setUrl(String url) {\n        this.url = url;\n    }\n\n    public String getUserName() {\n        return userName;\n    }\n\n    public void setUserName(String userName) {\n        this.userName = userName;\n    }\n\n    public String getPassword() {\n        return password;\n    }\n\n    public void setPassword(String password) {\n        this.password = password;\n    }\n}\n</code></pre>\n<p>Below is my Repository class:@Repository</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface TenantRepository extends JpaRepository&lt;TenantEntity, String&gt; {\n\n    public List&lt;TenantEntity&gt; findAll();\n\n    public TenantEntity findByTenantId(String tenantId);\n\n    public List&lt;TenantEntity&gt; findByModuleName(String moduleName);\n}\n</code></pre>\n<p>Have attached the table pic.</p>\n<pre class=\"lang-sql prettyprint-override\"><code>CREATE TABLE IF NOT EXISTS public.tenant_info ( \n    id integer NOT NULL, \n    tenant_id text COLLATE pg_catalog.&quot;default&quot; NOT NULL, \n    module_name text COLLATE pg_catalog.&quot;default&quot; NOT NULL, \n    url text COLLATE pg_catalog.&quot;default&quot; NOT NULL, \n    username text COLLATE pg_catalog.&quot;default&quot; NOT NULL, \n    password text COLLATE pg_catalog.&quot;default&quot; NOT NULL, \n    CONSTRAINT tenant_info_pkey PRIMARY KEY (id) \n) TABLESPACE pg_default;\n</code></pre>\n<p><img src=\"https://i.stack.imgur.com/1lJ7N.jpg\" alt=\"enter image description here\" /></p>\n"},{"tags":["java","android","database","kotlin","android-room"],"comments":[{"owner":{"account_id":8944678,"reputation":2098,"user_id":6672577,"display_name":"Shahzad Afridi"},"score":0,"creation_date":1610086068,"post_id":65624129,"comment_id":116025971,"body_markdown":"because you are inserting the note every time the method called inside onTextChanged.","body":"because you are inserting the note every time the method called inside onTextChanged."},{"owner":{"account_id":8944678,"reputation":2098,"user_id":6672577,"display_name":"Shahzad Afridi"},"score":0,"creation_date":1610086098,"post_id":65624129,"comment_id":116025981,"body_markdown":"you should use update method and update note with its id in database.","body":"you should use update method and update note with its id in database."},{"owner":{"account_id":19901812,"reputation":181,"user_id":14603826,"display_name":"miraquee"},"score":0,"creation_date":1610086344,"post_id":65624129,"comment_id":116026051,"body_markdown":"but i am using the conflict strategy right?","body":"but i am using the conflict strategy right?"},{"owner":{"account_id":19901812,"reputation":181,"user_id":14603826,"display_name":"miraquee"},"score":0,"creation_date":1610086367,"post_id":65624129,"comment_id":116026058,"body_markdown":"@ShahzadAfridi i.e @Insert(onConflict = OnConflictStrategy.REPLACE)","body":"@ShahzadAfridi i.e @Insert(onConflict = OnConflictStrategy.REPLACE)"},{"owner":{"account_id":8944678,"reputation":2098,"user_id":6672577,"display_name":"Shahzad Afridi"},"score":0,"creation_date":1610086761,"post_id":65624129,"comment_id":116026137,"body_markdown":"check below answer.","body":"check below answer."}],"answers":[{"comments":[{"owner":{"account_id":19901812,"reputation":181,"user_id":14603826,"display_name":"miraquee"},"score":0,"creation_date":1610086854,"post_id":65624261,"comment_id":116026164,"body_markdown":"But you must see that I am using the same Id to insert. And my conflict Strategy is replace so it should replace when two different note data with same id is saved, with the more latest one","body":"But you must see that I am using the same Id to insert. And my conflict Strategy is replace so it should replace when two different note data with same id is saved, with the more latest one"},{"owner":{"account_id":19901812,"reputation":181,"user_id":14603826,"display_name":"miraquee"},"score":0,"creation_date":1610086979,"post_id":65624261,"comment_id":116026194,"body_markdown":"intent  of viewOrOpenedNote  is in onCreate Method so it should work only one time","body":"intent  of viewOrOpenedNote  is in onCreate Method so it should work only one time"},{"owner":{"account_id":8944678,"reputation":2098,"user_id":6672577,"display_name":"Shahzad Afridi"},"score":0,"creation_date":1610087193,"post_id":65624261,"comment_id":116026241,"body_markdown":"One approach you should adopt let me write it down.","body":"One approach you should adopt let me write it down."},{"owner":{"account_id":8944678,"reputation":2098,"user_id":6672577,"display_name":"Shahzad Afridi"},"score":0,"creation_date":1610087264,"post_id":65624261,"comment_id":116026252,"body_markdown":"After textChange method, put Hadler with delay of 3 to 5 seconds,,, to minize database calls, what actually happening is that if you type 5 words then it will generate 5 calls so if move the saveNote to onTextChanged with dealy then it will minimize the calls.","body":"After textChange method, put Hadler with delay of 3 to 5 seconds,,, to minize database calls, what actually happening is that if you type 5 words then it will generate 5 calls so if move the saveNote to onTextChanged with dealy then it will minimize the calls."},{"owner":{"account_id":19901812,"reputation":181,"user_id":14603826,"display_name":"miraquee"},"score":0,"creation_date":1610087382,"post_id":65624261,"comment_id":116026278,"body_markdown":"Yes this sounds good, I will try this and inform you","body":"Yes this sounds good, I will try this and inform you"},{"owner":{"account_id":8944678,"reputation":2098,"user_id":6672577,"display_name":"Shahzad Afridi"},"score":1,"creation_date":1610087437,"post_id":65624261,"comment_id":116026297,"body_markdown":"one more thing why using async task, it&#39;s depreacted. you can achieve this with minimum lines of code by using coroutine. If you want me to write it down then I can do it for you.","body":"one more thing why using async task, it&#39;s depreacted. you can achieve this with minimum lines of code by using coroutine. If you want me to write it down then I can do it for you."},{"owner":{"account_id":5993122,"reputation":1883,"user_id":4708665,"accept_rate":60,"display_name":"Sandeep dhiman"},"score":2,"creation_date":1610087572,"post_id":65624261,"comment_id":116026323,"body_markdown":"Your primary key is auto generated so your setting od id will not work and each time it will store a record with new id..You better update that record using your id","body":"Your primary key is auto generated so your setting od id will not work and each time it will store a record with new id..You better update that record using your id"},{"owner":{"account_id":8944678,"reputation":2098,"user_id":6672577,"display_name":"Shahzad Afridi"},"score":0,"creation_date":1610087713,"post_id":65624261,"comment_id":116026348,"body_markdown":"Very good point sandeep. don&#39;t know why I missed this thing.","body":"Very good point sandeep. don&#39;t know why I missed this thing."},{"owner":{"account_id":19901812,"reputation":181,"user_id":14603826,"display_name":"miraquee"},"score":0,"creation_date":1610088112,"post_id":65624261,"comment_id":116026439,"body_markdown":"@ShahzadAfridi Yes it would be great if you could show me how to use coroutine. Meanwhile I am trying everything that you and Sandeep mentioned above. Thanks!","body":"@ShahzadAfridi Yes it would be great if you could show me how to use coroutine. Meanwhile I am trying everything that you and Sandeep mentioned above. Thanks!"},{"owner":{"account_id":19901812,"reputation":181,"user_id":14603826,"display_name":"miraquee"},"score":0,"creation_date":1610090767,"post_id":65624261,"comment_id":116027097,"body_markdown":"Thankyou very much @ShahzadAfridi I will replace async with this","body":"Thankyou very much @ShahzadAfridi I will replace async with this"}],"tags":[],"owner":{"account_id":8944678,"reputation":2098,"user_id":6672577,"display_name":"Shahzad Afridi"},"comment_count":10,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1610090895,"creation_date":1610086582,"answer_id":65624261,"question_id":65624129,"body_markdown":" You are create a new instance (viewOrOpenedNote) every time saveNote called in onTextChange so pass the old instance note object which you get from the database or currently showing to the user.  \r\n\r\n    //Pass the same note instance which you are showing on the screen.\r\n    @Update\r\n    fun updateNote(note: Note)\r\n    \r\n    //Give note the same id as It saved in the previous note. e-g create a note instance but set Id = viewOrOpenedNote.id so that is where Conflict will arise and the database will replace it.\r\n    @Insert(onConflict = OnConflictStrategy.REPLACE)\r\n    fun insertNote(note: Note) : Long\r\n\r\n**Using Coroutine**\r\n\r\n   **FIRST STEP:**\r\n    \r\n    def coroutines_android_version = &#39;1.3.9&#39;\r\n    // Coroutines libraries\r\n    implementation &quot;org.jetbrains.kotlinx:kotlinx-coroutines-core:$coroutines_core&quot;\r\n    implementation &quot;org.jetbrains.kotlinx:kotlinx-coroutines-android:$coroutines_android_version&quot;\r\n    \r\n    \r\n   **SECOND STEP:**\r\n    \r\n   Declear it on the class level.\r\n    \r\n    private val ioScope = CoroutineScope(Dispatchers.IO)\r\n    \r\n   **THIRD STEP:** \r\n    \r\n    ioScope.launch {\r\n    \tsaveNote()\r\n    }\r\n    \r\n    suspend fun saveNote(){\r\n    \tNotesDatabase.getDatabase(applicationContext).noteDao().insertNote(note)\r\n    }\r\n\r\n","title":"Duplicate data entry on update in Room Database","body":"<p>You are create a new instance (viewOrOpenedNote) every time saveNote called in onTextChange so pass the old instance note object which you get from the database or currently showing to the user.</p>\n<pre><code>//Pass the same note instance which you are showing on the screen.\n@Update\nfun updateNote(note: Note)\n\n//Give note the same id as It saved in the previous note. e-g create a note instance but set Id = viewOrOpenedNote.id so that is where Conflict will arise and the database will replace it.\n@Insert(onConflict = OnConflictStrategy.REPLACE)\nfun insertNote(note: Note) : Long\n</code></pre>\n<p><strong>Using Coroutine</strong></p>\n<p><strong>FIRST STEP:</strong></p>\n<pre><code>def coroutines_android_version = '1.3.9'\n// Coroutines libraries\nimplementation &quot;org.jetbrains.kotlinx:kotlinx-coroutines-core:$coroutines_core&quot;\nimplementation &quot;org.jetbrains.kotlinx:kotlinx-coroutines-android:$coroutines_android_version&quot;\n</code></pre>\n<p><strong>SECOND STEP:</strong></p>\n<p>Declear it on the class level.</p>\n<pre><code>private val ioScope = CoroutineScope(Dispatchers.IO)\n</code></pre>\n<p><strong>THIRD STEP:</strong></p>\n<pre><code>ioScope.launch {\n    saveNote()\n}\n\nsuspend fun saveNote(){\n    NotesDatabase.getDatabase(applicationContext).noteDao().insertNote(note)\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":19901812,"reputation":181,"user_id":14603826,"display_name":"miraquee"},"score":0,"creation_date":1610090309,"post_id":65624473,"comment_id":116026976,"body_markdown":"My code is throwing error in your third line. What is getId() and where should I place it?","body":"My code is throwing error in your third line. What is getId() and where should I place it?"},{"owner":{"account_id":19901812,"reputation":181,"user_id":14603826,"display_name":"miraquee"},"score":0,"creation_date":1610090329,"post_id":65624473,"comment_id":116026984,"body_markdown":"it is not recognizing that method","body":"it is not recognizing that method"},{"owner":{"account_id":15293172,"reputation":1557,"user_id":11034109,"display_name":"Dhanuesh"},"score":0,"creation_date":1610090410,"post_id":65624473,"comment_id":116027005,"body_markdown":"its probably a new method for returning the Id of a note","body":"its probably a new method for returning the Id of a note"},{"owner":{"account_id":19901812,"reputation":181,"user_id":14603826,"display_name":"miraquee"},"score":0,"creation_date":1610090486,"post_id":65624473,"comment_id":116027027,"body_markdown":"Thanks @rcs but what should i annotate it with? Can you please write that method?","body":"Thanks @rcs but what should i annotate it with? Can you please write that method?"},{"owner":{"account_id":15293172,"reputation":1557,"user_id":11034109,"display_name":"Dhanuesh"},"score":1,"creation_date":1610090601,"post_id":65624473,"comment_id":116027049,"body_markdown":"as far as I am aware of update query, we don&#39;t need `onConflict` for update","body":"as far as I am aware of update query, we don&#39;t need <code>onConflict</code> for update"},{"owner":{"account_id":15293172,"reputation":1557,"user_id":11034109,"display_name":"Dhanuesh"},"score":0,"creation_date":1610091207,"post_id":65624473,"comment_id":116027248,"body_markdown":"if nothing seems to solve your problem, you can try this, place a button with an onclicklistener which triggers your `saveNote()` method and as @ Shahzad Afridi pointed to, calling a database operation for every character you type has an adverse effect on your overall app performance","body":"if nothing seems to solve your problem, you can try this, place a button with an onclicklistener which triggers your <code>saveNote()</code> method and as @ Shahzad Afridi pointed to, calling a database operation for every character you type has an adverse effect on your overall app performance"},{"owner":{"account_id":19901812,"reputation":181,"user_id":14603826,"display_name":"miraquee"},"score":0,"creation_date":1610091629,"post_id":65624473,"comment_id":116027383,"body_markdown":"Actually I intent to automatically save notes on text change and i have used that button thing before","body":"Actually I intent to automatically save notes on text change and i have used that button thing before"},{"owner":{"account_id":19901812,"reputation":181,"user_id":14603826,"display_name":"miraquee"},"score":0,"creation_date":1610091832,"post_id":65624473,"comment_id":116027461,"body_markdown":"Actually I have found out the real problem for all this. All this mess is happening because i am using this `ide = note.id` in my postExecuteMethod() The thing is that this will always be null for new note. The only way to solve this is to get the note id through runInTransaction() but i am getting error in getId()  (as I mention above)","body":"Actually I have found out the real problem for all this. All this mess is happening because i am using this <code>ide = note.id</code> in my postExecuteMethod() The thing is that this will always be null for new note. The only way to solve this is to get the note id through runInTransaction() but i am getting error in getId()  (as I mention above)"},{"owner":{"account_id":19901812,"reputation":181,"user_id":14603826,"display_name":"miraquee"},"score":0,"creation_date":1610091873,"post_id":65624473,"comment_id":116027471,"body_markdown":"So right now i am waiting for @Sandeepdhiman&#39;s answer.","body":"So right now i am waiting for @Sandeepdhiman&#39;s answer."},{"owner":{"account_id":5993122,"reputation":1883,"user_id":4708665,"accept_rate":60,"display_name":"Sandeep dhiman"},"score":0,"creation_date":1610095262,"post_id":65624473,"comment_id":116028573,"body_markdown":"@miraquee  I have updated my code please check","body":"@miraquee  I have updated my code please check"}],"tags":[],"owner":{"account_id":5993122,"reputation":1883,"user_id":4708665,"accept_rate":60,"display_name":"Sandeep dhiman"},"comment_count":10,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1610095225,"creation_date":1610088018,"answer_id":65624473,"question_id":65624129,"body_markdown":"make a function inside your Dao like this &lt;br&gt;\r\n\r\n    @Update(onConflict = OnConflictStrategy.REPLACE)\r\n    fun update(note: Note): Int\r\nAnd put below code in your saveNote function &lt;br&gt;\r\n\r\n    fun saveNote(item: Note) {\r\n        database.runInTransaction {\r\n            val id = item.id\r\n\r\n            if(id == null)\r\n                getNoteDao().insert(item)\r\n            else\r\n                getNoteDao().update(item)\r\n        }\r\n    }","title":"Duplicate data entry on update in Room Database","body":"<p>make a function inside your Dao like this <br></p>\n<pre><code>@Update(onConflict = OnConflictStrategy.REPLACE)\nfun update(note: Note): Int\n</code></pre>\n<p>And put below code in your saveNote function <br></p>\n<pre><code>fun saveNote(item: Note) {\n    database.runInTransaction {\n        val id = item.id\n\n        if(id == null)\n            getNoteDao().insert(item)\n        else\n            getNoteDao().update(item)\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18517650,"reputation":347,"user_id":13491432,"display_name":"Arpit Anand"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1610094359,"creation_date":1610094359,"answer_id":65625595,"question_id":65624129,"body_markdown":"**TO SUM IT UP**\r\n\r\nConsidering the changes you have made by pointing out the error at `ide = note.id` in your postExecuteMethod().**Do these:** \r\n\r\n**1.**\r\nChange your insert block in **NoteDao.java** with this\r\n\r\n```\r\n@Insert(onConflict = OnConflictStrategy.REPLACE)\r\n    long insertNote(Note note);  //long istead of void if you need the id as return\r\n```\r\n**2.**\r\nChange the data-type of `ide` to **Long** from **int**\r\n```\r\n    var ide: Long? = null\r\n```\r\n**3.**\r\nIn `onCreate()`\r\n```\r\nif(intent.getBooleanExtra(&quot;isViewOrUpdate&quot;, false)){\r\n            viewOrOpenedNote = intent.getSerializableExtra(&quot;note&quot;) as Note?\r\n              ide = viewOrOpenedNote?.id?.toLong() //Convert to long\r\n```\r\n\r\n\r\n**4.**\r\nYou now just need to replace the `saveNote()` method with this block below. \r\n\r\n```\r\nprivate fun saveNote() {\r\n                val database = NotesDatabase.getDatabase(applicationContext) //add this here\r\n                val note = Note()\r\n                note.setTitle(Title)\r\n\r\n                if (ide != null) {\r\n                   note.setId(ide!!.toInt())  //convert to int as ide is long\r\n                }\r\n                class SaveNotes : AsyncTask&lt;Void, Void, Void&gt;() {\r\n                    override fun doInBackground(vararg void: Void?): Void? {\r\n                            ide = database.noteDao().insertNote(note)  // two things inone line: first insert the note and then get the id of the note saved\r\n                        return null\r\n                    }\r\n\r\n                    override fun onPostExecute(result: Void?) {\r\n                        super.onPostExecute(result)\r\n                        // Let this be empty\r\n                    }\r\n                }\r\n                SaveNotes().execute()\r\n}\r\n```","title":"Duplicate data entry on update in Room Database","body":"<p><strong>TO SUM IT UP</strong></p>\n<p>Considering the changes you have made by pointing out the error at <code>ide = note.id</code> in your postExecuteMethod().<strong>Do these:</strong></p>\n<p><strong>1.</strong>\nChange your insert block in <strong>NoteDao.java</strong> with this</p>\n<pre><code>@Insert(onConflict = OnConflictStrategy.REPLACE)\n    long insertNote(Note note);  //long istead of void if you need the id as return\n</code></pre>\n<p><strong>2.</strong>\nChange the data-type of <code>ide</code> to <strong>Long</strong> from <strong>int</strong></p>\n<pre><code>    var ide: Long? = null\n</code></pre>\n<p><strong>3.</strong>\nIn <code>onCreate()</code></p>\n<pre><code>if(intent.getBooleanExtra(&quot;isViewOrUpdate&quot;, false)){\n            viewOrOpenedNote = intent.getSerializableExtra(&quot;note&quot;) as Note?\n              ide = viewOrOpenedNote?.id?.toLong() //Convert to long\n</code></pre>\n<p><strong>4.</strong>\nYou now just need to replace the <code>saveNote()</code> method with this block below.</p>\n<pre><code>private fun saveNote() {\n                val database = NotesDatabase.getDatabase(applicationContext) //add this here\n                val note = Note()\n                note.setTitle(Title)\n\n                if (ide != null) {\n                   note.setId(ide!!.toInt())  //convert to int as ide is long\n                }\n                class SaveNotes : AsyncTask&lt;Void, Void, Void&gt;() {\n                    override fun doInBackground(vararg void: Void?): Void? {\n                            ide = database.noteDao().insertNote(note)  // two things inone line: first insert the note and then get the id of the note saved\n                        return null\n                    }\n\n                    override fun onPostExecute(result: Void?) {\n                        super.onPostExecute(result)\n                        // Let this be empty\n                    }\n                }\n                SaveNotes().execute()\n}\n</code></pre>\n"}],"owner":{"account_id":19901812,"reputation":181,"user_id":14603826,"display_name":"miraquee"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1293,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1676878040,"creation_date":1610085698,"question_id":65624129,"body_markdown":"I have a notes application. The user can create new notes or change the existing ones. \r\n\r\nIn this application I am trying to automatically save notes as soon as user changes the existing note. I am therefore using a `textWatcher` and I am calling the `saveNotes()` method in `onTextChanged()` method of the text wathcher. Thus, I intend here to save note everytime the user adds or removes any character from the text.\r\n\r\n```\r\nvar ide: Int? = null  //Global Variable\r\n```\r\n\r\n```\r\n//in OnCreate()\r\nif(intent.getBooleanExtra(&quot;isViewOrUpdate&quot;, false)){\r\n            viewOrOpenedNote = intent.getSerializableExtra(&quot;note&quot;) as Note?\r\n            ide = viewOrOpenedNote?.id\r\n\r\n```\r\nIn above two code sample.. the whole idea is to make variable `ide` act as a checker i.e it will return null if user is creating a new note otherwise, it will store the id of the note if the user has opened on an existing note to to view or edit the note.\r\n\r\n**Below is the textWatcher**\r\n\r\n\r\n\r\n```\r\ntitle_edit_text.addTextChangedListener((object : TextWatcher {\r\n            override fun beforeTextChanged(p0: CharSequence?, p1: Int, p2: Int, p3: Int) {}\r\n            override fun onTextChanged(p0: CharSequence?, p1: Int, p2: Int, p3: Int) {\r\n                saveNote()   // here I \r\n            }\r\n            override fun afterTextChanged(p0: Editable?) {}\r\n        }))\r\n```\r\n\r\n**saveNote()**\r\n```\r\nprivate fun saveNote() {\r\n                val note = Note()\r\n                note.setTitle(Title)\r\n\r\n                if (ide != null) {\r\n                    note.setId(ide!!)  // Here I am assigning the note id to `ide` in case the \r\n                                         `saveNote()` is called when user has opened an existing note. If \r\n                                          this is a new note then ide will be null automatically.\r\n                }\r\n                class SaveNotes : AsyncTask&lt;Void, Void, Void&gt;() {\r\n                    override fun doInBackground(vararg void: Void?): Void? {\r\n                        NotesDatabase.getDatabase(applicationContext).noteDao().insertNote(note)\r\n                        return null\r\n                    }\r\n\r\n                    override fun onPostExecute(result: Void?) {\r\n                        super.onPostExecute(result)\r\n                        ide = note.id               //This is because: If user has added a first \r\n                                                     character in new note, then after that an id will be \r\n                                                     assigned to this new database, whenever \r\n                                                    `saveNote()` method is called again after text change \r\n                                                     I need to save the changed note to the same existing \r\n                                                     id. I hope I am clear.\r\n\r\n                     // ***UPDATE*** After much contemplation I have found out \r\n                       that here lies the problem! changing the value of ide by \r\n                       simply `ide = note.id` will always give null value for new \r\n                       note, as this id is not received from the created note, \r\n                       but from the blank note instance I created above. \r\n                    }\r\n                }\r\n                SaveNotes().execute()\r\n}\r\n```\r\n\r\n***PROBLEM*** : The thing is even after taking above precautions, everytime I am changing a note, multiple instances of same note gets created. Example:\r\n\r\nSuppose I type: hello\r\n\r\nThe result I get is 5 different notes with different id. And text as follows:\r\n\r\n&gt; h             //id = 5\r\n\r\n&gt; he             //id = 4\r\n\r\n&gt; hel           //id = 3\r\n\r\n&gt; hell          //id = 2\r\n\r\n&gt; hello         //id = 1\r\n\r\n**NoteDao.java**\r\n\r\n```\r\n@Dao\r\npublic interface NoteDao {\r\n\r\n    @Query(&quot;SELECT * FROM note ORDER BY id DESC&quot;)\r\n    List&lt;Note&gt; getAllNotes();\r\n\r\n    @Insert(onConflict = OnConflictStrategy.REPLACE)\r\n    void insertNote(Note note);\r\n\r\n    @Delete\r\n    void delete(Note note);\r\n}\r\n```\r\n**Note.java**\r\n```\r\n@Entity(tableName = &quot;note&quot;)\r\npublic class Note implements Serializable {\r\n\r\n    @PrimaryKey(autoGenerate = true)\r\n    private int id;\r\n\r\n    @ColumnInfo(name = &quot;title&quot;)\r\n```\r\n\r\n**NoteDatabase.java**\r\n```\r\n public static synchronized NotesDatabase getDatabase(Context context)\r\n    {\r\n        if(notesDatabase == null){\r\n           notesDatabase =  Room.databaseBuilder(context\r\n            , NotesDatabase.class,\r\n                    &quot;note_db&quot;\r\n                    )\r\n                   .addMigrations(MIGRATION_1_2)\r\n                   .build();\r\n        }\r\n        return notesDatabase;\r\n    }\r\n\r\n\r\n    public abstract NoteDao noteDao();\r\n```\r\n","title":"Duplicate data entry on update in Room Database","body":"<p>I have a notes application. The user can create new notes or change the existing ones.</p>\n<p>In this application I am trying to automatically save notes as soon as user changes the existing note. I am therefore using a <code>textWatcher</code> and I am calling the <code>saveNotes()</code> method in <code>onTextChanged()</code> method of the text wathcher. Thus, I intend here to save note everytime the user adds or removes any character from the text.</p>\n<pre><code>var ide: Int? = null  //Global Variable\n</code></pre>\n<pre><code>//in OnCreate()\nif(intent.getBooleanExtra(&quot;isViewOrUpdate&quot;, false)){\n            viewOrOpenedNote = intent.getSerializableExtra(&quot;note&quot;) as Note?\n            ide = viewOrOpenedNote?.id\n\n</code></pre>\n<p>In above two code sample.. the whole idea is to make variable <code>ide</code> act as a checker i.e it will return null if user is creating a new note otherwise, it will store the id of the note if the user has opened on an existing note to to view or edit the note.</p>\n<p><strong>Below is the textWatcher</strong></p>\n<pre><code>title_edit_text.addTextChangedListener((object : TextWatcher {\n            override fun beforeTextChanged(p0: CharSequence?, p1: Int, p2: Int, p3: Int) {}\n            override fun onTextChanged(p0: CharSequence?, p1: Int, p2: Int, p3: Int) {\n                saveNote()   // here I \n            }\n            override fun afterTextChanged(p0: Editable?) {}\n        }))\n</code></pre>\n<p><strong>saveNote()</strong></p>\n<pre><code>private fun saveNote() {\n                val note = Note()\n                note.setTitle(Title)\n\n                if (ide != null) {\n                    note.setId(ide!!)  // Here I am assigning the note id to `ide` in case the \n                                         `saveNote()` is called when user has opened an existing note. If \n                                          this is a new note then ide will be null automatically.\n                }\n                class SaveNotes : AsyncTask&lt;Void, Void, Void&gt;() {\n                    override fun doInBackground(vararg void: Void?): Void? {\n                        NotesDatabase.getDatabase(applicationContext).noteDao().insertNote(note)\n                        return null\n                    }\n\n                    override fun onPostExecute(result: Void?) {\n                        super.onPostExecute(result)\n                        ide = note.id               //This is because: If user has added a first \n                                                     character in new note, then after that an id will be \n                                                     assigned to this new database, whenever \n                                                    `saveNote()` method is called again after text change \n                                                     I need to save the changed note to the same existing \n                                                     id. I hope I am clear.\n\n                     // ***UPDATE*** After much contemplation I have found out \n                       that here lies the problem! changing the value of ide by \n                       simply `ide = note.id` will always give null value for new \n                       note, as this id is not received from the created note, \n                       but from the blank note instance I created above. \n                    }\n                }\n                SaveNotes().execute()\n}\n</code></pre>\n<p><em><strong>PROBLEM</strong></em> : The thing is even after taking above precautions, everytime I am changing a note, multiple instances of same note gets created. Example:</p>\n<p>Suppose I type: hello</p>\n<p>The result I get is 5 different notes with different id. And text as follows:</p>\n<blockquote>\n<p>h             //id = 5</p>\n</blockquote>\n<blockquote>\n<p>he             //id = 4</p>\n</blockquote>\n<blockquote>\n<p>hel           //id = 3</p>\n</blockquote>\n<blockquote>\n<p>hell          //id = 2</p>\n</blockquote>\n<blockquote>\n<p>hello         //id = 1</p>\n</blockquote>\n<p><strong>NoteDao.java</strong></p>\n<pre><code>@Dao\npublic interface NoteDao {\n\n    @Query(&quot;SELECT * FROM note ORDER BY id DESC&quot;)\n    List&lt;Note&gt; getAllNotes();\n\n    @Insert(onConflict = OnConflictStrategy.REPLACE)\n    void insertNote(Note note);\n\n    @Delete\n    void delete(Note note);\n}\n</code></pre>\n<p><strong>Note.java</strong></p>\n<pre><code>@Entity(tableName = &quot;note&quot;)\npublic class Note implements Serializable {\n\n    @PrimaryKey(autoGenerate = true)\n    private int id;\n\n    @ColumnInfo(name = &quot;title&quot;)\n</code></pre>\n<p><strong>NoteDatabase.java</strong></p>\n<pre><code> public static synchronized NotesDatabase getDatabase(Context context)\n    {\n        if(notesDatabase == null){\n           notesDatabase =  Room.databaseBuilder(context\n            , NotesDatabase.class,\n                    &quot;note_db&quot;\n                    )\n                   .addMigrations(MIGRATION_1_2)\n                   .build();\n        }\n        return notesDatabase;\n    }\n\n\n    public abstract NoteDao noteDao();\n</code></pre>\n"},{"tags":["java","maven","visual-studio-code","maven-2","maven-3"],"answers":[{"comments":[{"owner":{"account_id":11299410,"reputation":443,"user_id":14677542,"display_name":"Imeguras"},"score":1,"creation_date":1667379725,"post_id":64461253,"comment_id":131151010,"body_markdown":"The answer was good, although the links without transcribing or copying some or the appropriate info, makes it annoying for lurking people","body":"The answer was good, although the links without transcribing or copying some or the appropriate info, makes it annoying for lurking people"}],"tags":[],"owner":{"account_id":19088616,"reputation":8294,"user_id":13939333,"display_name":"Molly Wang-MSFT"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1603274841,"creation_date":1603274841,"answer_id":64461253,"question_id":64393921,"body_markdown":"1.In `launch.json`, the attribute `vmArgs` is\r\n\r\n&gt; The extra options and system properties for the JVM (for example\r\n&gt; -Xms&lt;size&gt; -Xmx&lt;size&gt; -D&lt;name&gt;=&lt;value&gt;), it accepts a string or an array of string.\r\n [debugging-launch][1]\r\n\r\nso it won&#39;t work for your application.\r\n\r\n2.In `tasks.json`, the attribute `command` is for the command to execute;\r\n\r\n&gt; [Custome Tasks][2]\r\n\r\n3.It&#39;s recomended to use the setting `maven.executable.options`\r\n, which specifies default options for all mvn commands. \r\n&gt;[vscode-maven][3]\r\n\r\n[![enter image description here][4]][4]\r\n\r\n\r\n  [1]: https://code.visualstudio.com/docs/java/java-debugging#_launch\r\n  [2]: https://code.visualstudio.com/docs/editor/tasks#_custom-tasks\r\n  [3]: https://github.com/Microsoft/vscode-maven\r\n  [4]: https://i.stack.imgur.com/Mr0tk.png","title":"How to configure VSCode to run Java MAVEN applications with parameters?","body":"<p>1.In <code>launch.json</code>, the attribute <code>vmArgs</code> is</p>\n<blockquote>\n<p>The extra options and system properties for the JVM (for example\n-Xms -Xmx -D=), it accepts a string or an array of string.\n<a href=\"https://code.visualstudio.com/docs/java/java-debugging#_launch\" rel=\"noreferrer\">debugging-launch</a></p>\n</blockquote>\n<p>so it won't work for your application.</p>\n<p>2.In <code>tasks.json</code>, the attribute <code>command</code> is for the command to execute;</p>\n<blockquote>\n<p><a href=\"https://code.visualstudio.com/docs/editor/tasks#_custom-tasks\" rel=\"noreferrer\">Custome Tasks</a></p>\n</blockquote>\n<p>3.It's recomended to use the setting <code>maven.executable.options</code>\n, which specifies default options for all mvn commands.</p>\n<blockquote>\n<p><a href=\"https://github.com/Microsoft/vscode-maven\" rel=\"noreferrer\">vscode-maven</a></p>\n</blockquote>\n<p><a href=\"https://i.stack.imgur.com/Mr0tk.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/Mr0tk.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":19691566,"reputation":31,"user_id":14449748,"display_name":"Aristotle"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15365,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1676878017,"creation_date":1602869999,"question_id":64393921,"body_markdown":"I have a code without main method. The project was executed using the following command:\r\n\r\n```shellscript\r\n$mvn clean install -Dparam1=&quot;folder&quot; -Dparam2=&quot;path&quot;\r\n```\r\nIn Eclipse or IntelliJ, I just need to create a maven executor, define the goas as `clean install` and pass the maven parameters using the `-Dparam` format.\r\n\r\nIn VSCode, I have saw 3 different approaches and experimented the following:\r\n\r\n\r\n1. Create a `lunch.json` file calling the command `mvn` or `mvnDebug` in the `preLaunchTask`.\r\n\r\n```json\r\n{\r\n  &quot;version&quot;: &quot;0.2.0&quot;,\r\n  &quot;configurations&quot;: [\r\n    {\r\n        &quot;type&quot;: &quot;java&quot;,\r\n        &quot;request&quot;: &quot;launch&quot;,\r\n        ...\r\n        &quot;preLaunchTask&quot;: &quot;mvnDebug&quot;,\r\n        &quot;vmArgs&quot;: [ &quot;clean&quot;, &quot;install&quot;, &quot;-Dparam1=\\&quot;blabla\\&quot;&quot;, &quot;-Dparam2=\\&quot;blablabla\\&quot;&quot; ]\r\n\r\n    }\r\n  ]\r\n}\r\n```\r\n\r\nI also have tested passing all the commands in the `preLaunchTask` without the `vmArgs`. And did not work.\r\n\r\n2. Creating a `task.json` file passing the script and a `launch.json` file which will call in `preLaunchTask` the task created with the name defined in the parameter `taskName` of `task.json`.\r\n\r\n\r\n```json\r\n{\r\n    &quot;version&quot;: &quot;0.2.0&quot;,\r\n    &quot;configurations&quot;: [\r\n        {\r\n            &quot;type&quot;: &quot;java&quot;,\r\n            &quot;request&quot;: &quot;launch&quot;,\r\n            &quot;preLaunchTask&quot;: &quot;Debug&quot;,\r\n            &quot;name&quot;: &quot;Launch Program&quot;,\r\n            &quot;sourceMaps&quot;: true\r\n        }\r\n    ]\r\n```\r\nAnd the `tasks.json`:\r\n\r\n```json\r\n{\r\n    &quot;version&quot;: &quot;2.0.0&quot;,\r\n    &quot;tasks&quot;: [\r\n        {\r\n            &quot;label&quot;: &quot;Debug&quot;,\r\n            &quot;type&quot;: &quot;java&quot;,\r\n            &quot;script&quot;: &quot;mvnDebug clean install -Dparam1=\\&quot;folderName\\&quot; -Dparam2=\\&quot;blablabla\\&quot;&quot;,\r\n            &quot;problemMatcher&quot;: []\r\n        }\r\n    ]\r\n}\r\n```\r\n\r\n3. The 3rd approache I&#39;ve tried was using `settings.json`:\r\n\r\n```json\r\n{\r\n    &quot;maven.terminal.favorites&quot;: [\r\n        {\r\n            &quot;alias&quot;: &quot;CLEAN COMPILE&quot;,\r\n            &quot;command&quot;: &quot;clean install -Dparam1=\\&quot;value\\&quot; -Dparam2=\\&quot;blabla\\&quot;&quot;,\r\n            &quot;debug&quot;: true\r\n        },\r\n    ]\r\n}\r\n```\r\n\r\nFor all of them I got the message in the terminal:\r\n\r\n```\r\nListening for transport dt_socket at address: 56787\r\n```\r\n\r\nWhat I need from you, guys, is:\r\n\r\n1) What does this message means?\r\n2) Why is it waiting for a port?\r\n3) How does VSCode use a socket to do it?\r\n4) What is the best approach and why?\r\n5) **THE MOST IMPORTANT ONE**: How to run my JAVA MAVEN parameterized without a main function code using VSCode?\r\n\r\n**OBSERVATION: My JAVA version is JDK11, but I&#39;ve tried with JDK 8 too.**\r\n\r\nThank you a lot.","title":"How to configure VSCode to run Java MAVEN applications with parameters?","body":"<p>I have a code without main method. The project was executed using the following command:</p>\n<pre class=\"lang-sh prettyprint-override\"><code>$mvn clean install -Dparam1=&quot;folder&quot; -Dparam2=&quot;path&quot;\n</code></pre>\n<p>In Eclipse or IntelliJ, I just need to create a maven executor, define the goas as <code>clean install</code> and pass the maven parameters using the <code>-Dparam</code> format.</p>\n<p>In VSCode, I have saw 3 different approaches and experimented the following:</p>\n<ol>\n<li>Create a <code>lunch.json</code> file calling the command <code>mvn</code> or <code>mvnDebug</code> in the <code>preLaunchTask</code>.</li>\n</ol>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;version&quot;: &quot;0.2.0&quot;,\n  &quot;configurations&quot;: [\n    {\n        &quot;type&quot;: &quot;java&quot;,\n        &quot;request&quot;: &quot;launch&quot;,\n        ...\n        &quot;preLaunchTask&quot;: &quot;mvnDebug&quot;,\n        &quot;vmArgs&quot;: [ &quot;clean&quot;, &quot;install&quot;, &quot;-Dparam1=\\&quot;blabla\\&quot;&quot;, &quot;-Dparam2=\\&quot;blablabla\\&quot;&quot; ]\n\n    }\n  ]\n}\n</code></pre>\n<p>I also have tested passing all the commands in the <code>preLaunchTask</code> without the <code>vmArgs</code>. And did not work.</p>\n<ol start=\"2\">\n<li>Creating a <code>task.json</code> file passing the script and a <code>launch.json</code> file which will call in <code>preLaunchTask</code> the task created with the name defined in the parameter <code>taskName</code> of <code>task.json</code>.</li>\n</ol>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;version&quot;: &quot;0.2.0&quot;,\n    &quot;configurations&quot;: [\n        {\n            &quot;type&quot;: &quot;java&quot;,\n            &quot;request&quot;: &quot;launch&quot;,\n            &quot;preLaunchTask&quot;: &quot;Debug&quot;,\n            &quot;name&quot;: &quot;Launch Program&quot;,\n            &quot;sourceMaps&quot;: true\n        }\n    ]\n</code></pre>\n<p>And the <code>tasks.json</code>:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;version&quot;: &quot;2.0.0&quot;,\n    &quot;tasks&quot;: [\n        {\n            &quot;label&quot;: &quot;Debug&quot;,\n            &quot;type&quot;: &quot;java&quot;,\n            &quot;script&quot;: &quot;mvnDebug clean install -Dparam1=\\&quot;folderName\\&quot; -Dparam2=\\&quot;blablabla\\&quot;&quot;,\n            &quot;problemMatcher&quot;: []\n        }\n    ]\n}\n</code></pre>\n<ol start=\"3\">\n<li>The 3rd approache I've tried was using <code>settings.json</code>:</li>\n</ol>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;maven.terminal.favorites&quot;: [\n        {\n            &quot;alias&quot;: &quot;CLEAN COMPILE&quot;,\n            &quot;command&quot;: &quot;clean install -Dparam1=\\&quot;value\\&quot; -Dparam2=\\&quot;blabla\\&quot;&quot;,\n            &quot;debug&quot;: true\n        },\n    ]\n}\n</code></pre>\n<p>For all of them I got the message in the terminal:</p>\n<pre><code>Listening for transport dt_socket at address: 56787\n</code></pre>\n<p>What I need from you, guys, is:</p>\n<ol>\n<li>What does this message means?</li>\n<li>Why is it waiting for a port?</li>\n<li>How does VSCode use a socket to do it?</li>\n<li>What is the best approach and why?</li>\n<li><strong>THE MOST IMPORTANT ONE</strong>: How to run my JAVA MAVEN parameterized without a main function code using VSCode?</li>\n</ol>\n<p><strong>OBSERVATION: My JAVA version is JDK11, but I've tried with JDK 8 too.</strong></p>\n<p>Thank you a lot.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1328773,"reputation":37883,"user_id":1273080,"accept_rate":100,"display_name":"Petr Janeek"},"score":2,"creation_date":1676877409,"post_id":75506219,"comment_id":133218662,"body_markdown":"Instead of `setRecipient()` you want to use `addRecipient()`. The former overwrites all recipients and sets only a single one, the latter preserves the previous ones and adds another one. See the details in the docs of the mentioned methods, here: https://javaee.github.io/javamail/docs/api/javax/mail/Message.html","body":"Instead of <code>setRecipient()</code> you want to use <code>addRecipient()</code>. The former overwrites all recipients and sets only a single one, the latter preserves the previous ones and adds another one. See the details in the docs of the mentioned methods, here: <a href=\"https://javaee.github.io/javamail/docs/api/javax/mail/Message.html\" rel=\"nofollow noreferrer\">javaee.github.io/javamail/docs/api/javax/mail/Message.html</a>"}],"answers":[{"tags":[],"owner":{"account_id":27593096,"reputation":11,"user_id":21059843,"display_name":"khabz"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676877807,"creation_date":1676877807,"answer_id":75506321,"question_id":75506219,"body_markdown":"Alright, I fixed it by changing the arguments take by my List as follows:\r\n\r\nJust posting here for future reference if someone else gets in the same problem\r\n\r\n```\r\n//Fetching the email on the database\r\nList&lt;InternetAddress&gt; emails = new ArrayList&lt;&gt;();\r\n        try(Connection connection = connect();\r\n            PreparedStatement preparedStatement = connection.prepareStatement(&quot;SELECT email FROM user&quot;)){\r\n\r\n            // Get the emails from the database\r\n            ResultSet resultSet = preparedStatement.executeQuery();\r\n\r\n\r\n            while (resultSet.next()){\r\n                String email = resultSet.getString(&quot;email&quot;);\r\n                emails.add(new InternetAddress(email, false));\r\n            }\r\n\r\n        }catch (Exception e){\r\n            System.out.println(e.getMessage());\r\n        }\r\n   \r\n\r\n// Setting the recipients\r\nInternetAddress[] recipients = emails.toArray(new InternetAddress[emails.size()]);\r\nmsg.setRecipients(Message.RecipientType.BCC, recipients);\r\n\r\n```","title":"Send message to multiple recipients on Java | Javax.mail","body":"<p>Alright, I fixed it by changing the arguments take by my List as follows:</p>\n<p>Just posting here for future reference if someone else gets in the same problem</p>\n<pre><code>//Fetching the email on the database\nList&lt;InternetAddress&gt; emails = new ArrayList&lt;&gt;();\n        try(Connection connection = connect();\n            PreparedStatement preparedStatement = connection.prepareStatement(&quot;SELECT email FROM user&quot;)){\n\n            // Get the emails from the database\n            ResultSet resultSet = preparedStatement.executeQuery();\n\n\n            while (resultSet.next()){\n                String email = resultSet.getString(&quot;email&quot;);\n                emails.add(new InternetAddress(email, false));\n            }\n\n        }catch (Exception e){\n            System.out.println(e.getMessage());\n        }\n   \n\n// Setting the recipients\nInternetAddress[] recipients = emails.toArray(new InternetAddress[emails.size()]);\nmsg.setRecipients(Message.RecipientType.BCC, recipients);\n\n</code></pre>\n"}],"owner":{"account_id":27593096,"reputation":11,"user_id":21059843,"display_name":"khabz"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1676877807,"creation_date":1676877086,"question_id":75506219,"body_markdown":"My code only sends either the first or the last email, i dont even know why is that. \r\n\r\nbelow is my code\r\n\r\n\r\n```\r\n// Fetch the emails on the database\r\nList&lt;String&gt; emails = new ArrayList&lt;&gt;();\r\n        try(Connection connection = connect();\r\n            PreparedStatement preparedStatement = connection.prepareStatement(&quot;SELECT email FROM user&quot;)){\r\n\r\n            // Get the emails from the database\r\n            ResultSet resultSet = preparedStatement.executeQuery();\r\n\r\n\r\n            while (resultSet.next()){\r\n                String email = resultSet.getString(&quot;email&quot;);\r\n                emails.add(email);\r\n            }\r\n\r\n        }catch (Exception e){\r\n            System.out.println(e.getMessage());\r\n        }\r\n\r\n// Setting the recipients\r\nfor (String email : emails) {\r\nmsg.setRecipients(Message.RecipientType.BCC,InternetAddress.parse(email, false));\r\n}\r\n```\r\n\r\n\r\nI&#39;ve tried making it an array of string but it still the same","title":"Send message to multiple recipients on Java | Javax.mail","body":"<p>My code only sends either the first or the last email, i dont even know why is that.</p>\n<p>below is my code</p>\n<pre><code>// Fetch the emails on the database\nList&lt;String&gt; emails = new ArrayList&lt;&gt;();\n        try(Connection connection = connect();\n            PreparedStatement preparedStatement = connection.prepareStatement(&quot;SELECT email FROM user&quot;)){\n\n            // Get the emails from the database\n            ResultSet resultSet = preparedStatement.executeQuery();\n\n\n            while (resultSet.next()){\n                String email = resultSet.getString(&quot;email&quot;);\n                emails.add(email);\n            }\n\n        }catch (Exception e){\n            System.out.println(e.getMessage());\n        }\n\n// Setting the recipients\nfor (String email : emails) {\nmsg.setRecipients(Message.RecipientType.BCC,InternetAddress.parse(email, false));\n}\n</code></pre>\n<p>I've tried making it an array of string but it still the same</p>\n"},{"tags":["java","android","showcaseview"],"comments":[{"owner":{"account_id":18002107,"reputation":552,"user_id":13083841,"display_name":"mrzbn"},"score":1,"creation_date":1676877827,"post_id":75506245,"comment_id":133218755,"body_markdown":"In the issues section of the project you are using, I searched &quot;dialog&quot; and there is an [issue][1] similar to your problem. this [workaround][2] may be helpful.\n\n\n  [1]: https://github.com/mreram/ShowCaseView/issues/27\n  [2]: https://stackoverflow.com/questions/23896656/showcaseview-on-top-of-dialogfragment","body":"In the issues section of the project you are using, I searched &quot;dialog&quot; and there is an [issue][1] similar to your problem. this [workaround][2] may be helpful.     [1]: <a href=\"https://github.com/mreram/ShowCaseView/issues/27\" rel=\"nofollow noreferrer\">github.com/mreram/ShowCaseView/issues/27</a>   [2]: <a href=\"https://stackoverflow.com/questions/23896656/showcaseview-on-top-of-dialogfragment\" title=\"showcaseview on top of dialogfragment\">stackoverflow.com/questions/23896656/&hellip;</a>"},{"owner":{"display_name":"user21248724"},"score":0,"creation_date":1676877959,"post_id":75506245,"comment_id":133218785,"body_markdown":"@mrzbn I had already checked the posts you mentioned, unlike them I am not using a `DialogFragment`, I am using just a simple `Dialog`. So I am unsure as to how to resolve this.","body":"@mrzbn I had already checked the posts you mentioned, unlike them I am not using a <code>DialogFragment</code>, I am using just a simple <code>Dialog</code>. So I am unsure as to how to resolve this."},{"owner":{"account_id":270025,"reputation":6187,"user_id":3649629,"accept_rate":67,"display_name":"Gleichmut"},"score":0,"creation_date":1676878863,"post_id":75506245,"comment_id":133218993,"body_markdown":"I would suggest either to replace library to the similar alternative or go deep inside lib source code and fix this bug. Both solutions has their pros and cons. Anyway, submitting bug report to the origin repo is good and might help to solve this issue faster.","body":"I would suggest either to replace library to the similar alternative or go deep inside lib source code and fix this bug. Both solutions has their pros and cons. Anyway, submitting bug report to the origin repo is good and might help to solve this issue faster."}],"owner":{"display_name":"user21248724"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":81,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676877265,"creation_date":1676877265,"question_id":75506245,"body_markdown":"I am trying to show a `showcase` inside my `bottomsheetdialog`, as shown in my code below:\r\n\r\n**MainActivity.java**:\r\n```\r\nreport.setOnClickListener(v -&gt; {\r\n    final Dialog dialog = new Dialog(MainActivity.this);\r\n    dialog.requestWindowFeature(Window.FEATURE_NO_TITLE);\r\n    dialog.setContentView(R.layout.bottom_dialog_layout);\r\n\r\n    EditText report_bill_type = dialog.findViewById(R.id.bll);\r\n    dialog.show();\r\n    dialog.getWindow().setLayout(ViewGroup.LayoutParams.MATCH_PARENT,\r\n                                 ViewGroup.LayoutParams.WRAP_CONTENT);\r\n    dialog.getWindow().setBackgroundDrawable(new ColorDrawable((Color.TRANSPARENT)));\r\n    dialog.getWindow().setGravity(Gravity.BOTTOM);\r\n\r\n    new GuideView.Builder(v.getContext())\r\n        .setTitle(&quot;Title here&quot;)\r\n        .setContentText(&quot;Description here&quot;)\r\n        .setGravity(smartdevelop.ir.eram.showcaseviewlib.config.Gravity.auto)\r\n        .setTargetView(report_bill_type) //showcase keeps showing behind the dialog\r\n        .setDismissType(DismissType.anywhere)\r\n        .build()\r\n        .show();\r\n});\r\n```\r\n\r\nWhen I execute the code, the `showcase` keeps showing behind the dialog. How do I resolve this issue?\r\n\r\nI am using [this](https://github.com/mreram/ShowCaseView) showcase view.","title":"Why is my showcaseview showing behind my bottomsheetdialog in android?","body":"<p>I am trying to show a <code>showcase</code> inside my <code>bottomsheetdialog</code>, as shown in my code below:</p>\n<p><strong>MainActivity.java</strong>:</p>\n<pre><code>report.setOnClickListener(v -&gt; {\n    final Dialog dialog = new Dialog(MainActivity.this);\n    dialog.requestWindowFeature(Window.FEATURE_NO_TITLE);\n    dialog.setContentView(R.layout.bottom_dialog_layout);\n\n    EditText report_bill_type = dialog.findViewById(R.id.bll);\n    dialog.show();\n    dialog.getWindow().setLayout(ViewGroup.LayoutParams.MATCH_PARENT,\n                                 ViewGroup.LayoutParams.WRAP_CONTENT);\n    dialog.getWindow().setBackgroundDrawable(new ColorDrawable((Color.TRANSPARENT)));\n    dialog.getWindow().setGravity(Gravity.BOTTOM);\n\n    new GuideView.Builder(v.getContext())\n        .setTitle(&quot;Title here&quot;)\n        .setContentText(&quot;Description here&quot;)\n        .setGravity(smartdevelop.ir.eram.showcaseviewlib.config.Gravity.auto)\n        .setTargetView(report_bill_type) //showcase keeps showing behind the dialog\n        .setDismissType(DismissType.anywhere)\n        .build()\n        .show();\n});\n</code></pre>\n<p>When I execute the code, the <code>showcase</code> keeps showing behind the dialog. How do I resolve this issue?</p>\n<p>I am using <a href=\"https://github.com/mreram/ShowCaseView\" rel=\"nofollow noreferrer\">this</a> showcase view.</p>\n"},{"tags":["java","string","width","fontmetrics"],"owner":{"account_id":26103165,"reputation":1,"user_id":21248693,"display_name":"welt chen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676877165,"creation_date":1676876920,"question_id":75506197,"body_markdown":"I have benn working on compose office document (docx) by using Java, and the related design requires to know the millimeter of a string.But when I use code below to get pixel of this very sentence, the pixel is not correct(I&#39;m using a 2.8k display, so perhaps something wrong with my display?),so my question is what unit does the FontMetrics.stringWidth() method returns and how can I convert it to millimeter.Thank you very much!\r\nThis is my code:\r\n```\r\n private static double getStringPixelWidth(String str, Font font) {\r\n        if (str == null || str.equals(&quot;&quot;)) {\r\n            return 0;\r\n        }\r\n        FontMetrics fontMetrics = FontDesignMetrics.getMetrics(font);\r\n        return fontMetrics.stringWidth(str);\r\n    }\r\n```\r\nHow can I convert the result this method returns to millimeter","title":"How can I convert the result FontMetrics.stringWidth() returns to millimeter?","body":"<p>I have benn working on compose office document (docx) by using Java, and the related design requires to know the millimeter of a string.But when I use code below to get pixel of this very sentence, the pixel is not correct(I'm using a 2.8k display, so perhaps something wrong with my display?),so my question is what unit does the FontMetrics.stringWidth() method returns and how can I convert it to millimeter.Thank you very much!\nThis is my code:</p>\n<pre><code> private static double getStringPixelWidth(String str, Font font) {\n        if (str == null || str.equals(&quot;&quot;)) {\n            return 0;\n        }\n        FontMetrics fontMetrics = FontDesignMetrics.getMetrics(font);\n        return fontMetrics.stringWidth(str);\n    }\n</code></pre>\n<p>How can I convert the result this method returns to millimeter</p>\n"},{"tags":["java","concurrency","executorservice","completable-future"],"comments":[{"owner":{"account_id":249169,"reputation":19388,"user_id":525036,"accept_rate":25,"display_name":"Didier L"},"score":0,"creation_date":1676898068,"post_id":75506200,"comment_id":133224159,"body_markdown":"`ArrayList` is not thread-safe, and the logic of your code does not make any attempt at handling thread safety. In its current form, even with a thread-safe list implementation, the same batch could be sent multiple times to the persistence manager. It needs to be completely rewritten to work as, I suppose, is intended.","body":"<code>ArrayList</code> is not thread-safe, and the logic of your code does not make any attempt at handling thread safety. In its current form, even with a thread-safe list implementation, the same batch could be sent multiple times to the persistence manager. It needs to be completely rewritten to work as, I suppose, is intended."},{"owner":{"account_id":4073072,"reputation":43,"user_id":3345426,"display_name":"sharad"},"score":0,"creation_date":1676901598,"post_id":75506200,"comment_id":133225184,"body_markdown":"@DidierL - How can I stop sending &#39;same batch multiple times to the persistence manager&#39; Could you please point out the issues/suggestions?","body":"@DidierL - How can I stop sending &#39;same batch multiple times to the persistence manager&#39; Could you please point out the issues/suggestions?"},{"owner":{"account_id":249169,"reputation":19388,"user_id":525036,"accept_rate":25,"display_name":"Didier L"},"score":0,"creation_date":1676905710,"post_id":75506200,"comment_id":133226519,"body_markdown":"Multiple threads might check the list size and try to persist &amp; clear it simultaneously. You would need to either add synchronization over that block, or maybe work with a blocking queue and a parallel thread that processes it.","body":"Multiple threads might check the list size and try to persist &amp; clear it simultaneously. You would need to either add synchronization over that block, or maybe work with a blocking queue and a parallel thread that processes it."}],"owner":{"account_id":4073072,"reputation":43,"user_id":3345426,"display_name":"sharad"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676876940,"creation_date":1676876940,"question_id":75506200,"body_markdown":"I the below scenario, I can get the ConcurrentModificationException while calling `dslList.clear();`\r\nHow can I avoid concurrent modification exception without hampering the performance? \r\n\r\n```\r\npublic void processFiles(List&lt;FileIdBothDirectoryInformation&gt; files) {\r\n        AtomicInteger count = new AtomicInteger(0);\r\n        ExecutorService executorService = Executors.newFixedThreadPool(30);\r\n        List dslList = new ArrayList&lt;&gt;();\r\n\t\tList&lt;CompletableFuture&lt;Void&gt;&gt; completableFutures = files.stream().map(file -&gt; CompletableFuture.runAsync(() -&gt; {\r\n        \r\n            try {\r\n                File localFile = nasDataLoader.downloadFile(file.getFilePath());\r\n                if(localFile != null) {\r\n                    List&lt;&gt; lines = parse(localFile);\r\n                    dslList.addAll(lines.stream().map(line -&gt; {\r\n                        apply(line);\r\n                        return new Xxx(line);\r\n                    }).collect(Collectors.toList()));\r\n                   \r\n                    if(dslList.size() &gt;= BATCH_SIZE || count.incrementAndGet() == files.size()) {\r\n\t\t\t\t\t\tpersistenceManager.persist(dslList);\r\n\t\t\t\t\t\t dslList.clear();\r\n                    }\r\n                }\r\n            } catch () {\r\n                                \r\n            } \r\n        }, executorService)).collect(Collectors.toList());\r\n\r\n        List&lt;Void&gt; result = completableFutures.stream().map(CompletableFuture::join).collect(Collectors.toList());\r\n        executorService.shutdown();\r\n    }\r\n```\r\n","title":"How can i avoid ConcurrentModificationException in below scenario","body":"<p>I the below scenario, I can get the ConcurrentModificationException while calling <code>dslList.clear();</code>\nHow can I avoid concurrent modification exception without hampering the performance?</p>\n<pre><code>public void processFiles(List&lt;FileIdBothDirectoryInformation&gt; files) {\n        AtomicInteger count = new AtomicInteger(0);\n        ExecutorService executorService = Executors.newFixedThreadPool(30);\n        List dslList = new ArrayList&lt;&gt;();\n        List&lt;CompletableFuture&lt;Void&gt;&gt; completableFutures = files.stream().map(file -&gt; CompletableFuture.runAsync(() -&gt; {\n        \n            try {\n                File localFile = nasDataLoader.downloadFile(file.getFilePath());\n                if(localFile != null) {\n                    List&lt;&gt; lines = parse(localFile);\n                    dslList.addAll(lines.stream().map(line -&gt; {\n                        apply(line);\n                        return new Xxx(line);\n                    }).collect(Collectors.toList()));\n                   \n                    if(dslList.size() &gt;= BATCH_SIZE || count.incrementAndGet() == files.size()) {\n                        persistenceManager.persist(dslList);\n                         dslList.clear();\n                    }\n                }\n            } catch () {\n                                \n            } \n        }, executorService)).collect(Collectors.toList());\n\n        List&lt;Void&gt; result = completableFutures.stream().map(CompletableFuture::join).collect(Collectors.toList());\n        executorService.shutdown();\n    }\n</code></pre>\n"},{"tags":["java","amazon-s3"],"comments":[{"owner":{"account_id":2611206,"reputation":12820,"user_id":2261274,"display_name":"stevel"},"score":0,"creation_date":1676907878,"post_id":75505613,"comment_id":133227176,"body_markdown":"spark has a single-json record per line format, which could store 1M records in a single file. why not use spark standalone locally to extract all records and save to one or more files -getting that extraction right- and then upload once done?","body":"spark has a single-json record per line format, which could store 1M records in a single file. why not use spark standalone locally to extract all records and save to one or more files -getting that extraction right- and then upload once done?"}],"owner":{"account_id":12883738,"reputation":47,"user_id":9317986,"display_name":"Manoj Kumar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":104,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676876257,"creation_date":1676871569,"question_id":75505613,"body_markdown":"We have close to a million records in one DB table and while inserting a record to the table, we save a huge xml as Clob (a column has type as CLOB) and save the same. We are now planning to retire the Clob column as it is occupying lots of space and it is creating some performance issues. As part of it, we are planning to move the data in Clob column to S3 bucket in AWS. Basically the clob data will become a json file in S3 bucket and application in future will read/write from S3 bucket. The problem that we are facing is, for existing million records, we need to move clob data to S3 bucket. How can we move such huge dataset? iterating each record from DB and publishing the same to S3 bucket is very time consuming from code perspective. Any suggestions in this regard?","title":"Data from oracle db to S3 bucket in AWS","body":"<p>We have close to a million records in one DB table and while inserting a record to the table, we save a huge xml as Clob (a column has type as CLOB) and save the same. We are now planning to retire the Clob column as it is occupying lots of space and it is creating some performance issues. As part of it, we are planning to move the data in Clob column to S3 bucket in AWS. Basically the clob data will become a json file in S3 bucket and application in future will read/write from S3 bucket. The problem that we are facing is, for existing million records, we need to move clob data to S3 bucket. How can we move such huge dataset? iterating each record from DB and publishing the same to S3 bucket is very time consuming from code perspective. Any suggestions in this regard?</p>\n"},{"tags":["java","spring","spring-boot","gradle","dependencies"],"answers":[{"tags":[],"owner":{"account_id":4728451,"reputation":451,"user_id":3824715,"accept_rate":62,"display_name":"ch1ll"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1676876138,"creation_date":1676876138,"answer_id":75506098,"question_id":75484038,"body_markdown":"Finally fixed it by altering the import statement to: \r\n\r\n\timplementation (&#39;org.webjars.npm:github-com-daniel-nagy-fixed-table-header:0.2.1&#39;) {\r\n        exclude group: &#39;org.webjars.npm&#39;\r\n    }\r\n\r\nProblem was that the dependency `org.webjars.npm:angular:1.8.3` came with two different dependencies. This is the underlying problem. Applying a duplicate handling strategy is just dealing with it the wrong way I believe.  \r\n\r\nSee also this post: https://github.com/spring-projects/spring-boot/issues/33659","title":"Gradle &quot;angular-1.8.3&quot; is a duplicate but no duplicate handling strategy has been set","body":"<p>Finally fixed it by altering the import statement to:</p>\n<pre><code>implementation ('org.webjars.npm:github-com-daniel-nagy-fixed-table-header:0.2.1') {\n    exclude group: 'org.webjars.npm'\n}\n</code></pre>\n<p>Problem was that the dependency <code>org.webjars.npm:angular:1.8.3</code> came with two different dependencies. This is the underlying problem. Applying a duplicate handling strategy is just dealing with it the wrong way I believe.</p>\n<p>See also this post: <a href=\"https://github.com/spring-projects/spring-boot/issues/33659\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-boot/issues/33659</a></p>\n"}],"owner":{"account_id":4728451,"reputation":451,"user_id":3824715,"accept_rate":62,"display_name":"ch1ll"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75506098,"answer_count":1,"score":0,"last_activity_date":1676876138,"creation_date":1676635289,"question_id":75484038,"body_markdown":"I have a Spring Boot 2.2.x Project and I&#39;m getting the following error when executing `gradlew build`: \r\n\r\n\r\n    * What went wrong:\r\n    Execution failed for task &#39;:myproject:bootWar&#39;.\r\n    &gt; Entry WEB-INF/lib/angular-1.8.3.jar is a duplicate but no duplicate handling strategy has been set. Please refer to https://docs.gradle.org/7.6/dsl/org.gradle.api.tasks.Copy.html#org.gradle.api.tasks.Copy:duplicatesStrategy for details.\r\n\r\nUnfortunately this error occured after a big upgrade process (from Spring 1.5), so I cannot really track down a single change I made.\r\n\r\nHow can I find out where that duplicate comes from?\r\n\r\nWith the answers I found on Stackoverflow, everyone keeps suggesting to just handle duplicates by excluding the &quot;second&quot; duplicate. But I did not find a solution that works for all tasks - because if I set a handling strategy for the task `bootWar` I get the same error for every other task that somehow generates something (Jar, Tar, Zip, you name it).  \r\nAlso I think the root cause of the problem is the duplicate angular jar file. And I&#39;d like to fix that.\r\n\r\nAnswers I already found:   \r\nhttps://github.com/TheBoegl/gradle-launch4j/issues/117  \r\nhttps://stackoverflow.com/questions/68748884/how-fix-a-build-problem-entry-com-netflix-server-context-bidirectional-class-is   \r\nhttps://stackoverflow.com/questions/67265308/gradle-entry-classpath-is-a-duplicate-but-no-duplicate-handling-strategy-has-b  \r\n\r\n","title":"Gradle &quot;angular-1.8.3&quot; is a duplicate but no duplicate handling strategy has been set","body":"<p>I have a Spring Boot 2.2.x Project and I'm getting the following error when executing <code>gradlew build</code>:</p>\n<pre><code>* What went wrong:\nExecution failed for task ':myproject:bootWar'.\n&gt; Entry WEB-INF/lib/angular-1.8.3.jar is a duplicate but no duplicate handling strategy has been set. Please refer to https://docs.gradle.org/7.6/dsl/org.gradle.api.tasks.Copy.html#org.gradle.api.tasks.Copy:duplicatesStrategy for details.\n</code></pre>\n<p>Unfortunately this error occured after a big upgrade process (from Spring 1.5), so I cannot really track down a single change I made.</p>\n<p>How can I find out where that duplicate comes from?</p>\n<p>With the answers I found on Stackoverflow, everyone keeps suggesting to just handle duplicates by excluding the &quot;second&quot; duplicate. But I did not find a solution that works for all tasks - because if I set a handling strategy for the task <code>bootWar</code> I get the same error for every other task that somehow generates something (Jar, Tar, Zip, you name it).<br />\nAlso I think the root cause of the problem is the duplicate angular jar file. And I'd like to fix that.</p>\n<p>Answers I already found:<br />\n<a href=\"https://github.com/TheBoegl/gradle-launch4j/issues/117\" rel=\"nofollow noreferrer\">https://github.com/TheBoegl/gradle-launch4j/issues/117</a><br />\n<a href=\"https://stackoverflow.com/questions/68748884/how-fix-a-build-problem-entry-com-netflix-server-context-bidirectional-class-is\">How fix a build problem: Entry com/netflix/server/context/BiDirectional.class is a duplicate but no duplicate handling strategy has been set</a><br />\n<a href=\"https://stackoverflow.com/questions/67265308/gradle-entry-classpath-is-a-duplicate-but-no-duplicate-handling-strategy-has-b\">Gradle &quot;Entry .classpath is a duplicate but no duplicate handling strategy has been set&quot;</a></p>\n"},{"tags":["java","flutter","dart","encryption"],"comments":[{"owner":{"account_id":12359353,"reputation":42442,"user_id":9014097,"display_name":"Topaco"},"score":3,"creation_date":1640636874,"post_id":70500029,"comment_id":124622862,"body_markdown":"Can&#39;t you compare the functionality/results of the substeps from Kotlin and Dart code to isolate the problem(s)? At the moment your question doesn&#39;t seem focused enough to me.","body":"Can&#39;t you compare the functionality/results of the substeps from Kotlin and Dart code to isolate the problem(s)? At the moment your question doesn&#39;t seem focused enough to me."},{"owner":{"account_id":6719899,"reputation":91,"user_id":5180337,"display_name":"kapil"},"score":0,"creation_date":1640639895,"post_id":70500029,"comment_id":124623678,"body_markdown":"@Topaco I don&#39;t have complete java code. Will have to create a java app in order to make such comparison.  And If I do that then I won&#39;t have to even use the flutter app. Could just use the java to create android app. My last resort will be to try to use method channels in flutter and use this java code as it is. I am hoping that will work, Also I know just basics of java. bare minimum java knowledge.","body":"@Topaco I don&#39;t have complete java code. Will have to create a java app in order to make such comparison.  And If I do that then I won&#39;t have to even use the flutter app. Could just use the java to create android app. My last resort will be to try to use method channels in flutter and use this java code as it is. I am hoping that will work, Also I know just basics of java. bare minimum java knowledge."},{"owner":{"account_id":1809323,"reputation":11348,"user_id":1645712,"accept_rate":73,"display_name":"gusto2"},"score":0,"creation_date":1640679102,"post_id":70500029,"comment_id":124630185,"body_markdown":"There are some things to raise an eyebrow in the java code. But basically you should get a paper and pencil and compare parameters in both codes and they must match (beware of defaults). The first difference I found is that the java code is using the ECB mode. (with no IV defined)","body":"There are some things to raise an eyebrow in the java code. But basically you should get a paper and pencil and compare parameters in both codes and they must match (beware of defaults). The first difference I found is that the java code is using the ECB mode. (with no IV defined)"},{"owner":{"account_id":6719899,"reputation":91,"user_id":5180337,"display_name":"kapil"},"score":0,"creation_date":1640696270,"post_id":70500029,"comment_id":124635288,"body_markdown":"@gusto2 I have tried various options in flutter code without IV. It&#39;s on optional parameter, which can be null. But I keep getting error that It can&#39;t be null.  I don&#39;t get it, why does the documentation say that It can be null and why is it optional if we need to specify it every time. This means that I haven&#39;t tried an option which doesn&#39;t require IV. Maybe this could be it. Or I need to use some other flutter package.","body":"@gusto2 I have tried various options in flutter code without IV. It&#39;s on optional parameter, which can be null. But I keep getting error that It can&#39;t be null.  I don&#39;t get it, why does the documentation say that It can be null and why is it optional if we need to specify it every time. This means that I haven&#39;t tried an option which doesn&#39;t require IV. Maybe this could be it. Or I need to use some other flutter package."},{"owner":{"account_id":1809323,"reputation":11348,"user_id":1645712,"accept_rate":73,"display_name":"gusto2"},"score":0,"creation_date":1640708435,"post_id":70500029,"comment_id":124639397,"body_markdown":"It&#39;s about the encryption mode `AESMode.ecb` instead of `cbc` (this is used in the java code, but that&#39;s less secure), in that case IV is not ncessary. There may be more issues, this is just the first I spotted. It would hep you having contact to the people providing the service, so you could be given internal exception (unable to decrypt? wrong parameters? ...)","body":"It&#39;s about the encryption mode <code>AESMode.ecb</code> instead of <code>cbc</code> (this is used in the java code, but that&#39;s less secure), in that case IV is not ncessary. There may be more issues, this is just the first I spotted. It would hep you having contact to the people providing the service, so you could be given internal exception (unable to decrypt? wrong parameters? ...)"},{"owner":{"account_id":15863385,"reputation":1553,"user_id":11445944,"display_name":"Miftakhul Arzak"},"score":0,"creation_date":1640854930,"post_id":70500029,"comment_id":124674843,"body_markdown":"I think the sample you&#39;ve provided was written in kotlin, not java.","body":"I think the sample you&#39;ve provided was written in kotlin, not java."},{"owner":{"account_id":13294099,"reputation":49274,"user_id":9597706,"display_name":"Richard Heap"},"score":0,"creation_date":1641250870,"post_id":70500029,"comment_id":124753225,"body_markdown":"Can you add the whole certificate - for testing purposes?","body":"Can you add the whole certificate - for testing purposes?"}],"answers":[{"comments":[{"owner":{"account_id":13294099,"reputation":49274,"user_id":9597706,"display_name":"Richard Heap"},"score":0,"creation_date":1641390979,"post_id":70541085,"comment_id":124792240,"body_markdown":"The linked project does not show how to use AES cipher in ECB mode. (It does CBC and, of course, therefore needs an IV.)","body":"The linked project does not show how to use AES cipher in ECB mode. (It does CBC and, of course, therefore needs an IV.)"}],"tags":[],"owner":{"account_id":8630688,"reputation":1297,"user_id":6462376,"display_name":"Mohamed Reda"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640944675,"creation_date":1640944675,"answer_id":70541085,"question_id":70500029,"body_markdown":"Have a look at this [project][1], It&#39;s an example for the Encryption by Flutter with a good documentation, have 3 types of encryptions:\r\n\r\n\r\n\r\n 1. AES encryptions \r\n 2. Fernet encryptions \r\n 3. Salsa20 encryptions\r\n\r\n  [1]: https://github.com/mohamed-reda/Flutter_Encryption_Decryption","title":"Encryption/Decryption in flutter by adapting java code","body":"<p>Have a look at this <a href=\"https://github.com/mohamed-reda/Flutter_Encryption_Decryption\" rel=\"nofollow noreferrer\">project</a>, It's an example for the Encryption by Flutter with a good documentation, have 3 types of encryptions:</p>\n<ol>\n<li>AES encryptions</li>\n<li>Fernet encryptions</li>\n<li>Salsa20 encryptions</li>\n</ol>\n"},{"comments":[{"owner":{"account_id":6719899,"reputation":91,"user_id":5180337,"display_name":"kapil"},"score":0,"creation_date":1641389750,"post_id":70587524,"comment_id":124791676,"body_markdown":"Thanks, I will give the above code a try. I have post request sorted out. can&#39;t remember the package name right now, but making post request using web view is working right now.  Even my usage of public key is correct, I have confirmed it with them by asking them to decode a string which i encrypted using publc key. \nMy guess now is issue with either AES encryption. Current package does have a bug related to AES encryption, i used to workaround from their github issue post but maybe that workaround is not for my case.","body":"Thanks, I will give the above code a try. I have post request sorted out. can&#39;t remember the package name right now, but making post request using web view is working right now.  Even my usage of public key is correct, I have confirmed it with them by asking them to decode a string which i encrypted using publc key.  My guess now is issue with either AES encryption. Current package does have a bug related to AES encryption, i used to workaround from their github issue post but maybe that workaround is not for my case."},{"owner":{"account_id":6719899,"reputation":91,"user_id":5180337,"display_name":"kapil"},"score":0,"creation_date":1641392238,"post_id":70587524,"comment_id":124792818,"body_markdown":"It worked. Thanks. I had to modify one part of the code.\nhttps://gist.github.com/kapiljhajhria/c808cbeb2a769df7037229068dafcddf","body":"It worked. Thanks. I had to modify one part of the code. <a href=\"https://gist.github.com/kapiljhajhria/c808cbeb2a769df7037229068dafcddf\" rel=\"nofollow noreferrer\">gist.github.com/kapiljhajhria/c808cbeb2a769df7037229068dafcd&zwnj;&#8203;df</a>"},{"owner":{"account_id":13294099,"reputation":49274,"user_id":9597706,"display_name":"Richard Heap"},"score":0,"creation_date":1641392410,"post_id":70587524,"comment_id":124792897,"body_markdown":"@kapil I dislike the &#39;wrapper&#39; packages that try to make use of point castle &#39;easier&#39; because they obscure and obfuscate so much of the underlying functionality. For example, the package you were using only expects you to use CBC mode - so that&#39;s all it allows. What happens if you want to use GCM or, as in this case, ECB? You can&#39;t. That&#39;s why it&#39;s worth the bit of time it takes to learn how to use pointy castle directly.","body":"@kapil I dislike the &#39;wrapper&#39; packages that try to make use of point castle &#39;easier&#39; because they obscure and obfuscate so much of the underlying functionality. For example, the package you were using only expects you to use CBC mode - so that&#39;s all it allows. What happens if you want to use GCM or, as in this case, ECB? You can&#39;t. That&#39;s why it&#39;s worth the bit of time it takes to learn how to use pointy castle directly."},{"owner":{"account_id":13294099,"reputation":49274,"user_id":9597706,"display_name":"Richard Heap"},"score":0,"creation_date":1641392417,"post_id":70587524,"comment_id":124792903,"body_markdown":"(Incidentally, pointy castle is of course just a port of bouncy castle - now maintained by the BC folks. Your Kotlin code uses bouncy castle so there are strong similarities between the original Kotlin code and the eventual Dart code.)","body":"(Incidentally, pointy castle is of course just a port of bouncy castle - now maintained by the BC folks. Your Kotlin code uses bouncy castle so there are strong similarities between the original Kotlin code and the eventual Dart code.)"},{"owner":{"account_id":13294099,"reputation":49274,"user_id":9597706,"display_name":"Richard Heap"},"score":1,"creation_date":1641392600,"post_id":70587524,"comment_id":124792999,"body_markdown":"@kapil Excellent news! In the end the Dart code looks pretty neat (even in comparison to the original Kotlin), right?","body":"@kapil Excellent news! In the end the Dart code looks pretty neat (even in comparison to the original Kotlin), right?"},{"owner":{"account_id":6719899,"reputation":91,"user_id":5180337,"display_name":"kapil"},"score":0,"creation_date":1641392880,"post_id":70587524,"comment_id":124793122,"body_markdown":"I was using encrypt. It has a bug when you use AES with CBC, I used a workaround and thought that my public key usage was the issue. But I got a confirmation today that public key usage was correct. I sat down to redo other parts of the code and just saw your comment.  Your answer saved me hours which I would have spent starting from scratch. I was going to ditch encrypt package and use pointy castle this time.","body":"I was using encrypt. It has a bug when you use AES with CBC, I used a workaround and thought that my public key usage was the issue. But I got a confirmation today that public key usage was correct. I sat down to redo other parts of the code and just saw your comment.  Your answer saved me hours which I would have spent starting from scratch. I was going to ditch encrypt package and use pointy castle this time."},{"owner":{"account_id":1028524,"reputation":3932,"user_id":1037295,"accept_rate":46,"display_name":"yong ho"},"score":0,"creation_date":1652905540,"post_id":70587524,"comment_id":127723543,"body_markdown":"I want to encrypt HTTP JSON payload on Flutter side and then send to Java backend to decrypt.  Will this work?","body":"I want to encrypt HTTP JSON payload on Flutter side and then send to Java backend to decrypt.  Will this work?"},{"owner":{"account_id":13294099,"reputation":49274,"user_id":9597706,"display_name":"Richard Heap"},"score":0,"creation_date":1652917579,"post_id":70587524,"comment_id":127726349,"body_markdown":"@yongho yes, but prefer using GCM mode instead of ECB. You will of course then need a random IV/Nonce, which you can send to the server as is.","body":"@yongho yes, but prefer using GCM mode instead of ECB. You will of course then need a random IV/Nonce, which you can send to the server as is."}],"tags":[],"owner":{"account_id":13294099,"reputation":49274,"user_id":9597706,"display_name":"Richard Heap"},"comment_count":8,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1641355714,"creation_date":1641353625,"answer_id":70587524,"question_id":70500029,"body_markdown":"I used this document as my reference: https://developers.emsigner.com/signer-gateway/api-reference/signing-documents.html\r\n\r\nYou need 2 packages: `pointycastle` and `x509`, and to import them as follows:\r\n\r\n    import &#39;package:pointycastle/export.dart&#39;;\r\n    import &#39;package:x509/x509.dart&#39;;\r\n\r\nThen you need these helper functions:\r\n\r\n    Uint8List generateSessionKey() {\r\n      final r = Random();\r\n      return Uint8List.fromList(List&lt;int&gt;.generate(32, (_) =&gt; r.nextInt(256)));\r\n    }\r\n    \r\n    RSAPublicKey parseCert(String pemData) {\r\n      final cert = parsePem(pemData).first as X509Certificate;\r\n      final pub = cert.publicKey as RsaPublicKey;\r\n      return RSAPublicKey(pub.modulus, pub.exponent);\r\n    }\r\n    \r\n    Uint8List encryptUsingPublicKey(RSAPublicKey key, Uint8List data) {\r\n      final cipher = PKCS1Encoding(RSAEngine())\r\n        ..init(true, PublicKeyParameter&lt;RSAPublicKey&gt;(key));\r\n      return cipher.process(data);\r\n    }\r\n    \r\n    Uint8List encryptUsingSessionKey(Uint8List key, Uint8List data) {\r\n      final cipher = PaddedBlockCipher(&#39;AES/ECB/PKCS7&#39;)\r\n        ..init(true, PaddedBlockCipherParameters(KeyParameter(key), null));\r\n      return cipher.process(data);\r\n    }\r\n    \r\n    Uint8List sha256Digest(Uint8List data) {\r\n      return SHA256Digest().process(data);\r\n    }\r\n\r\nAnd you&#39;d build your 3 parameters like this:\r\n\r\n      final pem = File(&#39;cert2.pem&#39;).readAsStringSync();\r\n      final publicKey = parseCert(pem);\r\n    \r\n      final sessionKey = generateSessionKey();\r\n    \r\n      final encryptedSessionKey = encryptUsingPublicKey(publicKey, sessionKey);\r\n    \r\n      final jsonString = json.encode(&lt;String, dynamic&gt;{\r\n        &#39;FileType&#39;: &#39;PDF&#39;,\r\n        &#39;SignaturePosition&#39;: &#39;Top-Left&#39;,\r\n        &#39;AuthToken&#39;: &#39;some token&#39;,\r\n        &#39;File&#39;: &#39;&#39;,\r\n        &#39;SUrl&#39;: &#39;http://localhost:3000/Success&#39;,\r\n        &#39;FUrl&#39;: &#39;http://localhost:3000/Error&#39;,\r\n        &#39;CUrl&#39;: &#39;http://localhost:3000/Cancel&#39;,\r\n        &#39;ReferenceNumber&#39;: &#39;generate unique reference number&#39;,\r\n      });\r\n    \r\n      final jsonBytes = utf8.encode(jsonString) as Uint8List;\r\n    \r\n      final encryptedJson = encryptUsingSessionKey(sessionKey, jsonBytes);\r\n    \r\n      final hash = sha256Digest(jsonBytes);\r\n      final encryptedHash = encryptUsingSessionKey(sessionKey, hash);\r\n    \r\n      final p1 = base64.encode(encryptedSessionKey);\r\n      final p2 = base64.encode(encryptedJson);\r\n      final p3 = base64.encode(encryptedHash);\r\n\r\nBUT, the big problem I see is how you then do the POST, because you want to be in a web page, right? And the normal flutter web view doesn&#39;t support an initial post. It does look like there&#39;s another package. Just search for `flutter webview post`.\r\n\r\nBy the way, if you don&#39;t want to use the pointycastle registry, you can rewrite `encryptUsingSessionKey` without as:\r\n\r\n      final cipher = PaddedBlockCipherImpl(\r\n        PKCS7Padding(),\r\n        ECBBlockCipher(AESEngine()),\r\n      )..init(true, PaddedBlockCipherParameters(KeyParameter(key), null));\r\n      return cipher.process(data);\r\n\r\nFinally, at least until you get the web view issue understood, you can just use `http` to do the post. But, let it do the work of encoding the parameters and setting the content type, as follows:\r\n\r\n      final response = await http.post(\r\n        Uri.parse(&#39;https://somewhere/V3_0/Index&#39;),\r\n        body: &lt;String, String&gt;{\r\n          &#39;Parameter1&#39;: p1,\r\n          &#39;Parameter2&#39;: p2,\r\n          &#39;Parameter3&#39;: p3,\r\n        },\r\n      );\r\n      print(response.statusCode);\r\n      print(response.body);","title":"Encryption/Decryption in flutter by adapting java code","body":"<p>I used this document as my reference: <a href=\"https://developers.emsigner.com/signer-gateway/api-reference/signing-documents.html\" rel=\"nofollow noreferrer\">https://developers.emsigner.com/signer-gateway/api-reference/signing-documents.html</a></p>\n<p>You need 2 packages: <code>pointycastle</code> and <code>x509</code>, and to import them as follows:</p>\n<pre><code>import 'package:pointycastle/export.dart';\nimport 'package:x509/x509.dart';\n</code></pre>\n<p>Then you need these helper functions:</p>\n<pre><code>Uint8List generateSessionKey() {\n  final r = Random();\n  return Uint8List.fromList(List&lt;int&gt;.generate(32, (_) =&gt; r.nextInt(256)));\n}\n\nRSAPublicKey parseCert(String pemData) {\n  final cert = parsePem(pemData).first as X509Certificate;\n  final pub = cert.publicKey as RsaPublicKey;\n  return RSAPublicKey(pub.modulus, pub.exponent);\n}\n\nUint8List encryptUsingPublicKey(RSAPublicKey key, Uint8List data) {\n  final cipher = PKCS1Encoding(RSAEngine())\n    ..init(true, PublicKeyParameter&lt;RSAPublicKey&gt;(key));\n  return cipher.process(data);\n}\n\nUint8List encryptUsingSessionKey(Uint8List key, Uint8List data) {\n  final cipher = PaddedBlockCipher('AES/ECB/PKCS7')\n    ..init(true, PaddedBlockCipherParameters(KeyParameter(key), null));\n  return cipher.process(data);\n}\n\nUint8List sha256Digest(Uint8List data) {\n  return SHA256Digest().process(data);\n}\n</code></pre>\n<p>And you'd build your 3 parameters like this:</p>\n<pre><code>  final pem = File('cert2.pem').readAsStringSync();\n  final publicKey = parseCert(pem);\n\n  final sessionKey = generateSessionKey();\n\n  final encryptedSessionKey = encryptUsingPublicKey(publicKey, sessionKey);\n\n  final jsonString = json.encode(&lt;String, dynamic&gt;{\n    'FileType': 'PDF',\n    'SignaturePosition': 'Top-Left',\n    'AuthToken': 'some token',\n    'File': '',\n    'SUrl': 'http://localhost:3000/Success',\n    'FUrl': 'http://localhost:3000/Error',\n    'CUrl': 'http://localhost:3000/Cancel',\n    'ReferenceNumber': 'generate unique reference number',\n  });\n\n  final jsonBytes = utf8.encode(jsonString) as Uint8List;\n\n  final encryptedJson = encryptUsingSessionKey(sessionKey, jsonBytes);\n\n  final hash = sha256Digest(jsonBytes);\n  final encryptedHash = encryptUsingSessionKey(sessionKey, hash);\n\n  final p1 = base64.encode(encryptedSessionKey);\n  final p2 = base64.encode(encryptedJson);\n  final p3 = base64.encode(encryptedHash);\n</code></pre>\n<p>BUT, the big problem I see is how you then do the POST, because you want to be in a web page, right? And the normal flutter web view doesn't support an initial post. It does look like there's another package. Just search for <code>flutter webview post</code>.</p>\n<p>By the way, if you don't want to use the pointycastle registry, you can rewrite <code>encryptUsingSessionKey</code> without as:</p>\n<pre><code>  final cipher = PaddedBlockCipherImpl(\n    PKCS7Padding(),\n    ECBBlockCipher(AESEngine()),\n  )..init(true, PaddedBlockCipherParameters(KeyParameter(key), null));\n  return cipher.process(data);\n</code></pre>\n<p>Finally, at least until you get the web view issue understood, you can just use <code>http</code> to do the post. But, let it do the work of encoding the parameters and setting the content type, as follows:</p>\n<pre><code>  final response = await http.post(\n    Uri.parse('https://somewhere/V3_0/Index'),\n    body: &lt;String, String&gt;{\n      'Parameter1': p1,\n      'Parameter2': p2,\n      'Parameter3': p3,\n    },\n  );\n  print(response.statusCode);\n  print(response.body);\n</code></pre>\n"}],"owner":{"account_id":6719899,"reputation":91,"user_id":5180337,"display_name":"kapil"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1236,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":70587524,"answer_count":2,"score":0,"last_activity_date":1676875910,"creation_date":1640636234,"question_id":70500029,"body_markdown":"I am trying to create an app in flutter and the sample code which I have is in java. \r\n\r\nHere is the sample java code gist\r\nhttps://gist.github.com/kapiljhajhria/72a22ff75e238878f539f7bb21026208\r\n\r\nand here is my flutter code gist\r\nhttps://gist.github.com/kapiljhajhria/795d1a7c7cf1c76ca8e327bf8b2f51de\r\n\r\nHere is a brief summary of what I am doing\r\n 1. Generate a unique Session Key: AES Random Key 256\r\n 2. Encrypt JSON data using the Session Key from step 1\r\n 3. Generate SHA256 hash of JSON data\r\n 4. Encrypt generated hash from step 3, using session key from step 1.\r\n 5. Encrypt the session key using the public key. Public key provided as certificate.cer file. I copied the String value and added it to the class as a constant in order to make it easier to use. Not sure if this was the best approach.\r\n 6. Created a POST request with 3 Parameters. As shown in the java code. I think I am doing this part correctly. \r\n 7. The response which I will get will be encrypted using the session key from step 1. So i will have to decrypt that response data. Haven&#39;t reached this step yet. \r\n\r\nI don&#39;t have access to the server where this request is being made. \r\nSince the post request is being made using web view, I can&#39;t figure out a way to get proper error from my request. All I get is web page which says &quot;Invalid Request&quot;\r\n\r\nSo My first guess is that I am not using public key properly to encrypt my session key. \r\nif that part is correct, then I am not encrypting the data properly or my encryption method doesn&#39;t match encryption methods used in java code the java code. Maybe the session key which I am generating is not correct. \r\n\r\n\r\nAny help would be greatly appreciated. Thank you. If you need anything from me then please let me know. \r\n","title":"Encryption/Decryption in flutter by adapting java code","body":"<p>I am trying to create an app in flutter and the sample code which I have is in java.</p>\n<p>Here is the sample java code gist\n<a href=\"https://gist.github.com/kapiljhajhria/72a22ff75e238878f539f7bb21026208\" rel=\"nofollow noreferrer\">https://gist.github.com/kapiljhajhria/72a22ff75e238878f539f7bb21026208</a></p>\n<p>and here is my flutter code gist\n<a href=\"https://gist.github.com/kapiljhajhria/795d1a7c7cf1c76ca8e327bf8b2f51de\" rel=\"nofollow noreferrer\">https://gist.github.com/kapiljhajhria/795d1a7c7cf1c76ca8e327bf8b2f51de</a></p>\n<p>Here is a brief summary of what I am doing</p>\n<ol>\n<li>Generate a unique Session Key: AES Random Key 256</li>\n<li>Encrypt JSON data using the Session Key from step 1</li>\n<li>Generate SHA256 hash of JSON data</li>\n<li>Encrypt generated hash from step 3, using session key from step 1.</li>\n<li>Encrypt the session key using the public key. Public key provided as certificate.cer file. I copied the String value and added it to the class as a constant in order to make it easier to use. Not sure if this was the best approach.</li>\n<li>Created a POST request with 3 Parameters. As shown in the java code. I think I am doing this part correctly.</li>\n<li>The response which I will get will be encrypted using the session key from step 1. So i will have to decrypt that response data. Haven't reached this step yet.</li>\n</ol>\n<p>I don't have access to the server where this request is being made.\nSince the post request is being made using web view, I can't figure out a way to get proper error from my request. All I get is web page which says &quot;Invalid Request&quot;</p>\n<p>So My first guess is that I am not using public key properly to encrypt my session key.\nif that part is correct, then I am not encrypting the data properly or my encryption method doesn't match encryption methods used in java code the java code. Maybe the session key which I am generating is not correct.</p>\n<p>Any help would be greatly appreciated. Thank you. If you need anything from me then please let me know.</p>\n"},{"tags":["java","data-structures","hashmap","treeset"],"answers":[{"comments":[{"owner":{"account_id":17276755,"reputation":88,"user_id":12511231,"display_name":"Sai Patil"},"score":0,"creation_date":1676864974,"post_id":75505071,"comment_id":133216960,"body_markdown":"Thank you jack. n here is number of input entries or number of timestamp entries for each card? Treeset is used to store timestamps in ascending order and then find the number of values which are greater, querying element will take 0(logn) but we need count. Hence I don&#39;t think it will be logn.","body":"Thank you jack. n here is number of input entries or number of timestamp entries for each card? Treeset is used to store timestamps in ascending order and then find the number of values which are greater, querying element will take 0(logn) but we need count. Hence I don&#39;t think it will be logn."},{"owner":{"display_name":"user21231707"},"score":0,"creation_date":1676871276,"post_id":75505071,"comment_id":133217699,"body_markdown":"Oh, I dont know need to consider the order","body":"Oh, I dont know need to consider the order"}],"tags":[],"owner":{"display_name":"user21231707"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676864321,"creation_date":1676864321,"answer_id":75505071,"question_id":75504866,"body_markdown":"The bottom layer of Treeset is red-black tree, and the time complexity of query is O (log n),\r\n\r\nCompared with HashSet, TreeSet has slightly lower performance. The time complexity of insert query and other operations is O (log n).\r\n\r\nHashMap is recommended.","title":"Time Complexity and Better approach of coding","body":"<p>The bottom layer of Treeset is red-black tree, and the time complexity of query is O (log n),</p>\n<p>Compared with HashSet, TreeSet has slightly lower performance. The time complexity of insert query and other operations is O (log n).</p>\n<p>HashMap is recommended.</p>\n"},{"tags":[],"owner":{"account_id":18301757,"reputation":138,"user_id":13326385,"display_name":"Nicolas125841"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676875682,"creation_date":1676875682,"answer_id":75506043,"question_id":75504866,"body_markdown":"**Time Complexity:** \r\n\r\ntldr: I&#39;m pretty sure this takes O(n) per query and O(log(n)) per insert.\r\n\r\nFor each query, you initially use log(n) on the TreeSet to select the right user. \r\n\r\nOnce you have the user, it sounds like you are finding the first timestamp within your bound (again can be log(k)) and iterating through the rest in your bound. This part becomes O(k) because you could query for a very long time back and end up iterating through your whole set. \r\n\r\nAssuming your queries are random, the time complexity looks something like O(log(N) + K/2 + log(K)) -&gt; O(K/2) -&gt; O(n) (K is the set size for the user size, N is user count).\r\n\r\n**Solution:** \r\n\r\ntldr: Use a prefix sum.\r\n\r\nThe one way I can think of optimizing this from O(K) into O(log(K)) would be to keep track of the total number of logins performed by the user and store that with each timestamp. \r\n\r\nSomething like: \r\n\r\n**P1@Time0:** 1 total login\r\n\r\n**P1@Time5:** 2 total logins\r\n\r\n**P1@Time7:** 3 total logins\r\n\r\nThen for each query, you can just query the first time stamp out of your range and subtract its login count with the current login count.\r\n\r\nExample: You login at time = 9 and query for all logins within 4 seconds prior.\r\n\r\nYou have: \r\n\r\n**P1@Time0:** 1 total login\r\n\r\n**P1@Time5:** 2 total logins\r\n\r\n**P1@Time7:** 3 total logins\r\n\r\n**P1@Time9:** 4 total logins (just now added)\r\n\r\nQuery finds Time0 as upper bound in log(n):\r\n\r\n**P1@Time0:** 1 total login &lt;- closest time outside 4 seconds\r\n\r\n**P1@Time5:** 2 total logins \r\n\r\n**P1@Time7:** 3 total logins\r\n\r\n**P1@Time9:** 4 total logins\r\n\r\nTake 4 - 1 (from their login counts) = 3, you have logged in three times from your current login to 4 seconds ago (this method counts your current login as well, subtract one from your result if you don&#39;t want that).\r\n\r\nLook up a **prefix sum** for more info on this. \r\n\r\nOne note about this, it assumes that any newly added entries will come later than previous ones or you have the entire set of timestamps at the beginning. Your question sounds a lot like one coming from leetcode and if that&#39;s the case they most likely would put a condition like this in there. Otherwise, the solution might not function for what you need. ","title":"Time Complexity and Better approach of coding","body":"<p><strong>Time Complexity:</strong></p>\n<p>tldr: I'm pretty sure this takes O(n) per query and O(log(n)) per insert.</p>\n<p>For each query, you initially use log(n) on the TreeSet to select the right user.</p>\n<p>Once you have the user, it sounds like you are finding the first timestamp within your bound (again can be log(k)) and iterating through the rest in your bound. This part becomes O(k) because you could query for a very long time back and end up iterating through your whole set.</p>\n<p>Assuming your queries are random, the time complexity looks something like O(log(N) + K/2 + log(K)) -&gt; O(K/2) -&gt; O(n) (K is the set size for the user size, N is user count).</p>\n<p><strong>Solution:</strong></p>\n<p>tldr: Use a prefix sum.</p>\n<p>The one way I can think of optimizing this from O(K) into O(log(K)) would be to keep track of the total number of logins performed by the user and store that with each timestamp.</p>\n<p>Something like:</p>\n<p><strong>P1@Time0:</strong> 1 total login</p>\n<p><strong>P1@Time5:</strong> 2 total logins</p>\n<p><strong>P1@Time7:</strong> 3 total logins</p>\n<p>Then for each query, you can just query the first time stamp out of your range and subtract its login count with the current login count.</p>\n<p>Example: You login at time = 9 and query for all logins within 4 seconds prior.</p>\n<p>You have:</p>\n<p><strong>P1@Time0:</strong> 1 total login</p>\n<p><strong>P1@Time5:</strong> 2 total logins</p>\n<p><strong>P1@Time7:</strong> 3 total logins</p>\n<p><strong>P1@Time9:</strong> 4 total logins (just now added)</p>\n<p>Query finds Time0 as upper bound in log(n):</p>\n<p><strong>P1@Time0:</strong> 1 total login &lt;- closest time outside 4 seconds</p>\n<p><strong>P1@Time5:</strong> 2 total logins</p>\n<p><strong>P1@Time7:</strong> 3 total logins</p>\n<p><strong>P1@Time9:</strong> 4 total logins</p>\n<p>Take 4 - 1 (from their login counts) = 3, you have logged in three times from your current login to 4 seconds ago (this method counts your current login as well, subtract one from your result if you don't want that).</p>\n<p>Look up a <strong>prefix sum</strong> for more info on this.</p>\n<p>One note about this, it assumes that any newly added entries will come later than previous ones or you have the entire set of timestamps at the beginning. Your question sounds a lot like one coming from leetcode and if that's the case they most likely would put a condition like this in there. Otherwise, the solution might not function for what you need.</p>\n"}],"owner":{"account_id":17276755,"reputation":88,"user_id":12511231,"display_name":"Sai Patil"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1676875682,"creation_date":1676861491,"question_id":75504866,"body_markdown":"I have a problem, input will contain loggedin user id and timestamp when user logged in. when user logs in again need to find out no of times user logged in last x seconds.\r\n\r\ninput = \r\n{(P1, 0),\r\n(P2, 1),\r\n(P3, 2),\r\n(P1,3),\r\n(P1,4),\r\n(P2,5),\r\n(P1,6)}\r\n\r\nQ1: For last 4 seconds for P1 need to output how many times user has logged in. \r\n\r\noutput: **P1,2**\r\n\r\nQ2: In last 6 seconds for P1:\r\n\r\noutput: **P1,4**\r\n\r\nTo solve this, I have initially used a hashMap, with keys as person id and values as set of timestamps for each person.\r\n\r\n```\r\nMap&lt;personID,set&lt;TimeStamp&gt;&gt; personMap = new HashMap();\r\n\r\npersonMap.put(P1,Treeset(0,3,4));\r\npersonMap.put(P2,Treeset(1,5));\r\npersonMap.put(P3,Treeset(2));\r\n```\r\n\r\nthen on the final entry, we retrive the treeset and find values that fall after last 4 seconds from given time. This is working, but I am confused on timecomplexity, what will be timecomplexity for inserting and retrival considering values are Treesets?\r\n\r\nIs there any better datastructure of storing timestamps in personMap?\r\n\r\n","title":"Time Complexity and Better approach of coding","body":"<p>I have a problem, input will contain loggedin user id and timestamp when user logged in. when user logs in again need to find out no of times user logged in last x seconds.</p>\n<p>input =\n{(P1, 0),\n(P2, 1),\n(P3, 2),\n(P1,3),\n(P1,4),\n(P2,5),\n(P1,6)}</p>\n<p>Q1: For last 4 seconds for P1 need to output how many times user has logged in.</p>\n<p>output: <strong>P1,2</strong></p>\n<p>Q2: In last 6 seconds for P1:</p>\n<p>output: <strong>P1,4</strong></p>\n<p>To solve this, I have initially used a hashMap, with keys as person id and values as set of timestamps for each person.</p>\n<pre><code>Map&lt;personID,set&lt;TimeStamp&gt;&gt; personMap = new HashMap();\n\npersonMap.put(P1,Treeset(0,3,4));\npersonMap.put(P2,Treeset(1,5));\npersonMap.put(P3,Treeset(2));\n</code></pre>\n<p>then on the final entry, we retrive the treeset and find values that fall after last 4 seconds from given time. This is working, but I am confused on timecomplexity, what will be timecomplexity for inserting and retrival considering values are Treesets?</p>\n<p>Is there any better datastructure of storing timestamps in personMap?</p>\n"},{"tags":["java","xml","digital-signature","ebxml"],"answers":[{"comments":[{"owner":{"account_id":10518256,"reputation":33,"user_id":7751671,"display_name":"Tharindu Rukshan"},"score":0,"creation_date":1676875826,"post_id":75485222,"comment_id":133218378,"body_markdown":"I tried your code but it gave me the below error. Do you have any suggestions\n\n`com.sun.org.apache.xml.internal.security.exceptions.XMLSecurityRuntimeException: Current Node: [#document: null]\nOriginal Exception was javax.xml.transform.TransformerException: Prefix must resolve to a namespace: eb`","body":"I tried your code but it gave me the below error. Do you have any suggestions  <code>com.sun.org.apache.xml.internal.security.exceptions.XMLSecur&zwnj;&#8203;ityRuntimeException: Current Node: [#document: null] Original Exception was javax.xml.transform.TransformerException: Prefix must resolve to a namespace: eb</code>"},{"owner":{"account_id":26207975,"reputation":36,"user_id":19887301,"display_name":"Lukas Voigt"},"score":0,"creation_date":1676994713,"post_id":75485222,"comment_id":133247180,"body_markdown":"There is a problem with your xpath expression. The namespace prefix &#39;eb&#39; cannot be resolved. One possible solution would be to replace the prefix with the actual corresponding namespace uri","body":"There is a problem with your xpath expression. The namespace prefix &#39;eb&#39; cannot be resolved. One possible solution would be to replace the prefix with the actual corresponding namespace uri"}],"tags":[],"owner":{"account_id":26207975,"reputation":36,"user_id":19887301,"display_name":"Lukas Voigt"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676642559,"creation_date":1676642224,"answer_id":75485222,"question_id":75476902,"body_markdown":"The [XPath Filtering Transform][1] needs your XPath expression passed as an argument:\r\n\r\n    String xpathExpr = &quot;not(ancestor-or-self::eb:TraceHeaderList or ancestor-or-self::eb:Via)&quot;;\r\n    XPathFilterParameterSpec xpathSpec = new XPathFilterParameterSpec(xpathExpr);\r\n\r\n    Transform xpathTransform = xmlSignatureFactory.newTransform(CanonicalizationMethod.XPATH, xpathSpec);\r\n    transforms.add(xpathTransform);\r\n\r\n\r\n\r\n\r\n  [1]: https://www.w3.org/TR/xmldsig-core1/#sec-XPath","title":"How to add the XPATH Transform Algorithm (http://www.w3.org/TR/1999/REC-xpath-19991116) to digital signature in Java","body":"<p>The <a href=\"https://www.w3.org/TR/xmldsig-core1/#sec-XPath\" rel=\"nofollow noreferrer\">XPath Filtering Transform</a> needs your XPath expression passed as an argument:</p>\n<pre><code>String xpathExpr = &quot;not(ancestor-or-self::eb:TraceHeaderList or ancestor-or-self::eb:Via)&quot;;\nXPathFilterParameterSpec xpathSpec = new XPathFilterParameterSpec(xpathExpr);\n\nTransform xpathTransform = xmlSignatureFactory.newTransform(CanonicalizationMethod.XPATH, xpathSpec);\ntransforms.add(xpathTransform);\n</code></pre>\n"}],"owner":{"account_id":10518256,"reputation":33,"user_id":7751671,"display_name":"Tharindu Rukshan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":105,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1676875036,"creation_date":1676574632,"question_id":75476902,"body_markdown":"I&#39;m trying to add XPATH transform in signature. I already add envelope transform and it&#39;s ok.\r\n\r\n```\r\n        List&lt;Transform&gt; transforms = new LinkedList&lt;&gt;();\r\n        Transform envelopedTransform = xmlSignatureFactory.newTransform(CanonicalizationMethod.ENVELOPED,\r\n                                                                        (TransformParameterSpec) null);\r\n        transforms.add(envelopedTransform);\r\n```\r\n\r\nHow to add XPATH tag using Java?\r\n\r\nI tried XPATH transform add like this\r\n\r\n```\r\n        Transform xpath = xmlSignatureFactory.newTransform(CanonicalizationMethod.XPATH,\r\n                                                                        (TransformParameterSpec) null);\r\n        transforms.add(xpath);\r\n```\r\n\r\nI expected to create like below transform\r\n\r\n```\r\n&lt;ds:Transforms&gt;\r\n     &lt;ds:Transform Algorithm=&quot;http://www.w3.org/2000/09/xmldsig#enveloped-signature&quot;/&gt;\r\n     &lt;ds:Transform Algorithm=&quot;http://www.w3.org/TR/1999/REC-xpath-19991116&quot;&gt;\r\n         &lt;ds:XPath&gt;not(ancestor-or-self::eb:TraceHeaderList or ancestor-or-self::eb:Via)&lt;/ds:XPath&gt;\r\n     &lt;/ds:Transform&gt;\r\n&lt;/ds:Transforms&gt;\r\n```\r\n\r\nBut when add XPATH transform it gave me the below exception.\r\n[Exception Image](https://i.stack.imgur.com/xMsBo.png)\r\n\r\nWhat want to do add XPATH transform Algorithm using Java?\r\n\r\nI used this complete code\r\n\r\n    JSONObject jsonObject = new JSONObject();\r\n        // Create a DOM XMLSignatureFactory that will be used to generate the enveloped signature.\r\n        XMLSignatureFactory xmlSignatureFactory = XMLSignatureFactory.getInstance(&quot;DOM&quot;);\r\n\r\n        // Create a Reference to the enveloped document (in this case, you are signing the whole document,\r\n        // so a URI of &quot;&quot; signifies that, and also specify the SHA1 digest algorithm and the ENVELOPED Transform.\r\n        Reference envelopReference = xmlSignatureFactory.newReference(&quot;&quot;, xmlSignatureFactory.newDigestMethod(DigestMethod.SHA1, null),\r\n                                                                      Collections.singletonList\r\n                                                                          (xmlSignatureFactory.newTransform\r\n                                                                              (Transform.ENVELOPED, (TransformParameterSpec) null)),\r\n                                                                      null, null);\r\n\r\n        List&lt;Reference&gt; referenceList = new ArrayList&lt;&gt;();\r\n        referenceList.add(envelopReference);\r\n\r\n        List&lt;Reference&gt; references = new ArrayList&lt;&gt;();\r\n\r\n        DigestMethod digestMethod = xmlSignatureFactory.newDigestMethod(DigestMethod.SHA1, null);\r\n\r\n        List&lt;Transform&gt; transforms = new LinkedList&lt;&gt;();\r\n        Transform envelopedTransform = xmlSignatureFactory.newTransform(CanonicalizationMethod.ENVELOPED,\r\n                                                                        (TransformParameterSpec) null);\r\n        transforms.add(envelopedTransform);\r\n\r\n        Reference reference = xmlSignatureFactory.newReference(&quot;&quot;, digestMethod, transforms, null, null);\r\n\r\n        references.add(reference);\r\n\r\n        // Create the SignedInfo.\r\n        SignedInfo signedInfo = xmlSignatureFactory.newSignedInfo(xmlSignatureFactory.newCanonicalizationMethod(CanonicalizationMethod.INCLUSIVE,\r\n                                                                                                                (C14NMethodParameterSpec) null),\r\n                                                                  xmlSignatureFactory.newSignatureMethod(SignatureMethod.RSA_SHA1, null),\r\n                                                                  references);\r\n\r\n        // Load the KeyStore and get the signing key and certificate.\r\n        KeyStore keyStore = KeyStore.getInstance(&quot;PKCS12&quot;);\r\n        keyStore.load(new FileInputStream(&quot;keyStore.p12&quot;), &quot;123456&quot;.toCharArray());\r\n        KeyStore.PrivateKeyEntry keyEntry =\r\n            (KeyStore.PrivateKeyEntry) keyStore.getEntry\r\n                (&quot;alias&quot;, new KeyStore.PasswordProtection(&quot;123456&quot;.toCharArray()));\r\n        X509Certificate cert = (X509Certificate) keyEntry.getCertificate();\r\n\r\n        // Create the KeyInfo containing the X509Data.\r\n        KeyInfoFactory keyInfoFactory = xmlSignatureFactory.getKeyInfoFactory();\r\n        List x509Content = new ArrayList();\r\n        x509Content.add(cert.getSubjectX500Principal().getName());\r\n        x509Content.add(cert);\r\n        X509Data x509Data = keyInfoFactory.newX509Data(x509Content);\r\n        KeyInfo keyInfo = keyInfoFactory.newKeyInfo(Collections.singletonList(x509Data));\r\n\r\n        // Instantiate the document to be signed.\r\n        DocumentBuilderFactory documentBuilderFactory = DocumentBuilderFactory.newInstance();\r\n        // process XML securely, avoid attacks like XML External Entities (XXE)\r\n        documentBuilderFactory.setFeature(XMLConstants.FEATURE_SECURE_PROCESSING, true);\r\n        documentBuilderFactory.setNamespaceAware(true);\r\n\r\n        Resource resource = new FileSystemResource(resourceFileLocation.concat(&quot;ase.xml&quot;));\r\n        Document document = documentBuilderFactory.newDocumentBuilder().parse(resource.getFile());\r\n\r\n        // Create a DOMSignContext and specify the RSA PrivateKey and\r\n        // location of the resulting XMLSignature&#39;s parent element.\r\n        DOMSignContext dsc = new DOMSignContext(keyEntry.getPrivateKey(), document.getDocumentElement());\r\n\r\n        // Create the XMLSignature, but don&#39;t sign it yet.\r\n        XMLSignature signature = xmlSignatureFactory.newXMLSignature(signedInfo, keyInfo);\r\n\r\n        // Marshal, generate, and sign the enveloped signature.\r\n        signature.sign(dsc);\r\n\r\n        OutputStream os = new FileOutputStream(&quot;signedEbXml.xml&quot;);\r\n        TransformerFactory tf = TransformerFactory.newInstance();\r\n        Transformer trans = tf.newTransformer();\r\n        trans.transform(new DOMSource(document), new StreamResult(os));\r\n        os.flush();\r\n        os.close();\r\n\r\n        jsonObject.put(&quot;response&quot;, CommonConstants.RESPONSE);\r\n        return jsonObject;\r\n\r\n","title":"How to add the XPATH Transform Algorithm (http://www.w3.org/TR/1999/REC-xpath-19991116) to digital signature in Java","body":"<p>I'm trying to add XPATH transform in signature. I already add envelope transform and it's ok.</p>\n<pre><code>        List&lt;Transform&gt; transforms = new LinkedList&lt;&gt;();\n        Transform envelopedTransform = xmlSignatureFactory.newTransform(CanonicalizationMethod.ENVELOPED,\n                                                                        (TransformParameterSpec) null);\n        transforms.add(envelopedTransform);\n</code></pre>\n<p>How to add XPATH tag using Java?</p>\n<p>I tried XPATH transform add like this</p>\n<pre><code>        Transform xpath = xmlSignatureFactory.newTransform(CanonicalizationMethod.XPATH,\n                                                                        (TransformParameterSpec) null);\n        transforms.add(xpath);\n</code></pre>\n<p>I expected to create like below transform</p>\n<pre><code>&lt;ds:Transforms&gt;\n     &lt;ds:Transform Algorithm=&quot;http://www.w3.org/2000/09/xmldsig#enveloped-signature&quot;/&gt;\n     &lt;ds:Transform Algorithm=&quot;http://www.w3.org/TR/1999/REC-xpath-19991116&quot;&gt;\n         &lt;ds:XPath&gt;not(ancestor-or-self::eb:TraceHeaderList or ancestor-or-self::eb:Via)&lt;/ds:XPath&gt;\n     &lt;/ds:Transform&gt;\n&lt;/ds:Transforms&gt;\n</code></pre>\n<p>But when add XPATH transform it gave me the below exception.\n<a href=\"https://i.stack.imgur.com/xMsBo.png\" rel=\"nofollow noreferrer\">Exception Image</a></p>\n<p>What want to do add XPATH transform Algorithm using Java?</p>\n<p>I used this complete code</p>\n<pre><code>JSONObject jsonObject = new JSONObject();\n    // Create a DOM XMLSignatureFactory that will be used to generate the enveloped signature.\n    XMLSignatureFactory xmlSignatureFactory = XMLSignatureFactory.getInstance(&quot;DOM&quot;);\n\n    // Create a Reference to the enveloped document (in this case, you are signing the whole document,\n    // so a URI of &quot;&quot; signifies that, and also specify the SHA1 digest algorithm and the ENVELOPED Transform.\n    Reference envelopReference = xmlSignatureFactory.newReference(&quot;&quot;, xmlSignatureFactory.newDigestMethod(DigestMethod.SHA1, null),\n                                                                  Collections.singletonList\n                                                                      (xmlSignatureFactory.newTransform\n                                                                          (Transform.ENVELOPED, (TransformParameterSpec) null)),\n                                                                  null, null);\n\n    List&lt;Reference&gt; referenceList = new ArrayList&lt;&gt;();\n    referenceList.add(envelopReference);\n\n    List&lt;Reference&gt; references = new ArrayList&lt;&gt;();\n\n    DigestMethod digestMethod = xmlSignatureFactory.newDigestMethod(DigestMethod.SHA1, null);\n\n    List&lt;Transform&gt; transforms = new LinkedList&lt;&gt;();\n    Transform envelopedTransform = xmlSignatureFactory.newTransform(CanonicalizationMethod.ENVELOPED,\n                                                                    (TransformParameterSpec) null);\n    transforms.add(envelopedTransform);\n\n    Reference reference = xmlSignatureFactory.newReference(&quot;&quot;, digestMethod, transforms, null, null);\n\n    references.add(reference);\n\n    // Create the SignedInfo.\n    SignedInfo signedInfo = xmlSignatureFactory.newSignedInfo(xmlSignatureFactory.newCanonicalizationMethod(CanonicalizationMethod.INCLUSIVE,\n                                                                                                            (C14NMethodParameterSpec) null),\n                                                              xmlSignatureFactory.newSignatureMethod(SignatureMethod.RSA_SHA1, null),\n                                                              references);\n\n    // Load the KeyStore and get the signing key and certificate.\n    KeyStore keyStore = KeyStore.getInstance(&quot;PKCS12&quot;);\n    keyStore.load(new FileInputStream(&quot;keyStore.p12&quot;), &quot;123456&quot;.toCharArray());\n    KeyStore.PrivateKeyEntry keyEntry =\n        (KeyStore.PrivateKeyEntry) keyStore.getEntry\n            (&quot;alias&quot;, new KeyStore.PasswordProtection(&quot;123456&quot;.toCharArray()));\n    X509Certificate cert = (X509Certificate) keyEntry.getCertificate();\n\n    // Create the KeyInfo containing the X509Data.\n    KeyInfoFactory keyInfoFactory = xmlSignatureFactory.getKeyInfoFactory();\n    List x509Content = new ArrayList();\n    x509Content.add(cert.getSubjectX500Principal().getName());\n    x509Content.add(cert);\n    X509Data x509Data = keyInfoFactory.newX509Data(x509Content);\n    KeyInfo keyInfo = keyInfoFactory.newKeyInfo(Collections.singletonList(x509Data));\n\n    // Instantiate the document to be signed.\n    DocumentBuilderFactory documentBuilderFactory = DocumentBuilderFactory.newInstance();\n    // process XML securely, avoid attacks like XML External Entities (XXE)\n    documentBuilderFactory.setFeature(XMLConstants.FEATURE_SECURE_PROCESSING, true);\n    documentBuilderFactory.setNamespaceAware(true);\n\n    Resource resource = new FileSystemResource(resourceFileLocation.concat(&quot;ase.xml&quot;));\n    Document document = documentBuilderFactory.newDocumentBuilder().parse(resource.getFile());\n\n    // Create a DOMSignContext and specify the RSA PrivateKey and\n    // location of the resulting XMLSignature's parent element.\n    DOMSignContext dsc = new DOMSignContext(keyEntry.getPrivateKey(), document.getDocumentElement());\n\n    // Create the XMLSignature, but don't sign it yet.\n    XMLSignature signature = xmlSignatureFactory.newXMLSignature(signedInfo, keyInfo);\n\n    // Marshal, generate, and sign the enveloped signature.\n    signature.sign(dsc);\n\n    OutputStream os = new FileOutputStream(&quot;signedEbXml.xml&quot;);\n    TransformerFactory tf = TransformerFactory.newInstance();\n    Transformer trans = tf.newTransformer();\n    trans.transform(new DOMSource(document), new StreamResult(os));\n    os.flush();\n    os.close();\n\n    jsonObject.put(&quot;response&quot;, CommonConstants.RESPONSE);\n    return jsonObject;\n</code></pre>\n"},{"tags":["java","elasticsearch","mockito"],"comments":[{"owner":{"account_id":12455565,"reputation":5317,"user_id":9068895,"display_name":"Alex"},"score":0,"creation_date":1649864968,"post_id":71845612,"comment_id":126985444,"body_markdown":"Mocking such complex clients as ElasticSearch could be very complex. I would suggest to consider [Elasticsearch container](https://www.testcontainers.org/modules/elasticsearch/) from [testcontainers.org](http://www.testcontainers.org) as an embedded Elasticsearch for tests. \n\nThe advantage is that you could use any version of Elasticsearch and it&#39;s pretty easy to integrate into any project.","body":"Mocking such complex clients as ElasticSearch could be very complex. I would suggest to consider <a href=\"https://www.testcontainers.org/modules/elasticsearch/\" rel=\"nofollow noreferrer\">Elasticsearch container</a> from <a href=\"http://www.testcontainers.org\" rel=\"nofollow noreferrer\">testcontainers.org</a> as an embedded Elasticsearch for tests.   The advantage is that you could use any version of Elasticsearch and it&#39;s pretty easy to integrate into any project."}],"answers":[{"tags":[],"owner":{"account_id":8447886,"reputation":95,"user_id":6337832,"display_name":"Gene Parmon"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676871577,"creation_date":1676871577,"answer_id":75505615,"question_id":71845612,"body_markdown":"You seem to have a problem specifically with mocking iterating in a `for` loop.\r\n\r\n`for` loop can be used on classes that implement `Iterable` interface, as it uses its method `iterator()`. You would need to mock this method of your `BulkResponse` with an iterator of a list that contains your instances of `BulkItemResponse`.","title":"How to mock BulkResponse class of ElasticSearch","body":"<p>You seem to have a problem specifically with mocking iterating in a <code>for</code> loop.</p>\n<p><code>for</code> loop can be used on classes that implement <code>Iterable</code> interface, as it uses its method <code>iterator()</code>. You would need to mock this method of your <code>BulkResponse</code> with an iterator of a list that contains your instances of <code>BulkItemResponse</code>.</p>\n"},{"tags":[],"owner":{"account_id":3430916,"reputation":3799,"user_id":3059385,"accept_rate":40,"display_name":"Christopher Schneider"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676872359,"creation_date":1676872359,"answer_id":75505702,"question_id":71845612,"body_markdown":"It&#39;s easier not to mock it. Just use a real instance of `BulkResponse`.\r\n\r\nIn this case, mocking is more trouble than it&#39;s worth. Looking at the [source code][1] for that class, all you&#39;ve got to do is create a new `BulkResponse` with your `BulkResponseItem` as the argument.\r\n\r\nSo just do this instead. It&#39;ll be much cleaner:\r\n```\r\nnew BulkResponse(new BulkItemResponse[]{item1, item2}, 1L);\r\n```\r\n\r\nIf you _really_ want to, that class implements the `Iterable` interface, so you need to mock the `iterator()` method. The for each loop actually calls `iterator()`. \r\n\r\n\r\n\r\n  [1]: https://github.com/elastic/elasticsearch/blob/main/server/src/main/java/org/elasticsearch/action/bulk/BulkResponse.java","title":"How to mock BulkResponse class of ElasticSearch","body":"<p>It's easier not to mock it. Just use a real instance of <code>BulkResponse</code>.</p>\n<p>In this case, mocking is more trouble than it's worth. Looking at the <a href=\"https://github.com/elastic/elasticsearch/blob/main/server/src/main/java/org/elasticsearch/action/bulk/BulkResponse.java\" rel=\"nofollow noreferrer\">source code</a> for that class, all you've got to do is create a new <code>BulkResponse</code> with your <code>BulkResponseItem</code> as the argument.</p>\n<p>So just do this instead. It'll be much cleaner:</p>\n<pre><code>new BulkResponse(new BulkItemResponse[]{item1, item2}, 1L);\n</code></pre>\n<p>If you <em>really</em> want to, that class implements the <code>Iterable</code> interface, so you need to mock the <code>iterator()</code> method. The for each loop actually calls <code>iterator()</code>.</p>\n"}],"owner":{"account_id":3464234,"reputation":844,"user_id":2900314,"accept_rate":86,"display_name":"User27854"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":478,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1676872359,"creation_date":1649778314,"question_id":71845612,"body_markdown":"How do I mock the implementation for the below method, I am unable to mock BulkResponse. \r\n\r\n\r\n    public void aferBulk(long id, BulkRequest bulkRequest, BulkResponse bulkResponse) {\r\n\t\tif(bulkResponse.hasFailures()) {\r\n\t\t\tlogFailedResponses(bulkResponse);\r\n\t\t}else {\r\n\t\t\t//some action\r\n\t\t}\r\n\t}\r\n\t\r\n\tprivate void logFailedBulkItems(BulkResponse bulkResponse) {\r\n\t\t for (BulkItemResponse bulkItemResponse : bulkResponse) {\r\n\t            if (bulkItemResponse.isFailed()) {\r\n\t                BulkItemResponse.Failure failure = bulkItemResponse.getFailure();\r\n\t                LOGGER.error(&quot;ES: {}&quot;, failure.getMessage());\r\n\t            }\r\n\t        }\r\n\t}\r\n    }\r\n\r\n\r\nI have attempted this, But, i am unable to mock the below line\r\n\r\n     for (BulkItemResponse bulkItemResponse : bulkResponse)\r\n\r\nMocking code:\r\n\r\n\r\n     public void TestMethod(){\r\n\t\tBulkResponse bulkResponse = mock(BulkResponse.class);\r\n\t\twhen(bulkResponse.hasFailures()).thenReturn(true);\r\n\t\twhen(response.hasFailures()).thenReturn(responseHasFailures);\r\n\t    BulkItemResponse item1 = mock(BulkItemResponse.class);\r\n\t    BulkItemResponse item2 = mock(BulkItemResponse.class);\r\n\t    when(item1.getItemId()).thenReturn(1);\r\n\t    when(item1.isFailed()).thenReturn(true);\r\n\t    BulkItemResponse.Failure failure = mock(BulkItemResponse.Failure.class);\r\n\t    when(failure.getMessage()).thenReturn(&quot;Bad message&quot;);\r\n\t    when(item1.getFailure()).thenReturn(failure);\r\n\t    when(item2.getItemId()).thenReturn(2);\r\n\t    when(item2.isFailed()).thenReturn(false);\r\n\t    when(response.getItems()).thenReturn(new BulkItemResponse[]{item1, item2});\r\n\t}","title":"How to mock BulkResponse class of ElasticSearch","body":"<p>How do I mock the implementation for the below method, I am unable to mock BulkResponse.</p>\n<pre><code>public void aferBulk(long id, BulkRequest bulkRequest, BulkResponse bulkResponse) {\n    if(bulkResponse.hasFailures()) {\n        logFailedResponses(bulkResponse);\n    }else {\n        //some action\n    }\n}\n\nprivate void logFailedBulkItems(BulkResponse bulkResponse) {\n     for (BulkItemResponse bulkItemResponse : bulkResponse) {\n            if (bulkItemResponse.isFailed()) {\n                BulkItemResponse.Failure failure = bulkItemResponse.getFailure();\n                LOGGER.error(&quot;ES: {}&quot;, failure.getMessage());\n            }\n        }\n}\n}\n</code></pre>\n<p>I have attempted this, But, i am unable to mock the below line</p>\n<pre><code> for (BulkItemResponse bulkItemResponse : bulkResponse)\n</code></pre>\n<p>Mocking code:</p>\n<pre><code> public void TestMethod(){\n    BulkResponse bulkResponse = mock(BulkResponse.class);\n    when(bulkResponse.hasFailures()).thenReturn(true);\n    when(response.hasFailures()).thenReturn(responseHasFailures);\n    BulkItemResponse item1 = mock(BulkItemResponse.class);\n    BulkItemResponse item2 = mock(BulkItemResponse.class);\n    when(item1.getItemId()).thenReturn(1);\n    when(item1.isFailed()).thenReturn(true);\n    BulkItemResponse.Failure failure = mock(BulkItemResponse.Failure.class);\n    when(failure.getMessage()).thenReturn(&quot;Bad message&quot;);\n    when(item1.getFailure()).thenReturn(failure);\n    when(item2.getItemId()).thenReturn(2);\n    when(item2.isFailed()).thenReturn(false);\n    when(response.getItems()).thenReturn(new BulkItemResponse[]{item1, item2});\n}\n</code></pre>\n"},{"tags":["java","flutter","dart","encryption","pointycastle"],"comments":[{"owner":{"account_id":12359353,"reputation":42442,"user_id":9014097,"display_name":"Topaco"},"score":1,"creation_date":1655127627,"post_id":72601586,"comment_id":128250423,"body_markdown":"Since this is about encryption with Flutter, you should post your most recent Flutter code for *encryption*. Currently you have only posted the code for decryption.","body":"Since this is about encryption with Flutter, you should post your most recent Flutter code for <i>encryption</i>. Currently you have only posted the code for decryption."},{"owner":{"account_id":1028524,"reputation":3932,"user_id":1037295,"accept_rate":46,"display_name":"yong ho"},"score":0,"creation_date":1655131803,"post_id":72601586,"comment_id":128252277,"body_markdown":"@Topaco I don&#39;t know how to write the code for encryption. I merely copied the code online.","body":"@Topaco I don&#39;t know how to write the code for encryption. I merely copied the code online."},{"owner":{"account_id":13294099,"reputation":49274,"user_id":9597706,"display_name":"Richard Heap"},"score":0,"creation_date":1655133899,"post_id":72601586,"comment_id":128253230,"body_markdown":"Wouldn&#39;t you &#39;reverse&#39; the decryption? Derive the key the same way, flip false to true in `paddingCipher.init()` then assemble the salt, iv and ct in order (consider using `BytesBuilder`), finally base64 encoding the result. Having the Java code to copy helps you, as you can check the intermediate results as you perform the steps. (Of course you need to stick with a fixed salt.)","body":"Wouldn&#39;t you &#39;reverse&#39; the decryption? Derive the key the same way, flip false to true in <code>paddingCipher.init()</code> then assemble the salt, iv and ct in order (consider using <code>BytesBuilder</code>), finally base64 encoding the result. Having the Java code to copy helps you, as you can check the intermediate results as you perform the steps. (Of course you need to stick with a fixed salt.)"},{"owner":{"account_id":12359353,"reputation":42442,"user_id":9014097,"display_name":"Topaco"},"score":0,"creation_date":1655141479,"post_id":72601586,"comment_id":128256098,"body_markdown":"As a starting point for troubleshooting, please post an initial version of the encryption code using the posted decryption code and/or PointyCastle examples.","body":"As a starting point for troubleshooting, please post an initial version of the encryption code using the posted decryption code and/or PointyCastle examples."}],"answers":[{"tags":[],"owner":{"account_id":82592,"reputation":355,"user_id":232115,"display_name":"Mike"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659959805,"creation_date":1659959805,"answer_id":73277497,"question_id":72601586,"body_markdown":"Why don&#39;t you use pointcastle ? \r\nit is a dart porting of Bouncy castle and, as I can read in their page, there is yet the implementation of the AES algorithm for decrypt/encrpyt.\r\n\r\nMoreover use :\r\n\r\n[https://pub.dev/packages/encrypt][1]\r\n \r\nthat is a convenient wrapper on top of  pointcastle.\r\n\r\n\r\n  [1]: https://pub.dev/packages/encrypt","title":"Encryption in Flutter and Decryption in java (AES-256)","body":"<p>Why don't you use pointcastle ?\nit is a dart porting of Bouncy castle and, as I can read in their page, there is yet the implementation of the AES algorithm for decrypt/encrpyt.</p>\n<p>Moreover use :</p>\n<p><a href=\"https://pub.dev/packages/encrypt\" rel=\"nofollow noreferrer\">https://pub.dev/packages/encrypt</a></p>\n<p>that is a convenient wrapper on top of  pointcastle.</p>\n"}],"owner":{"account_id":1028524,"reputation":3932,"user_id":1037295,"accept_rate":46,"display_name":"yong ho"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1174,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1676869966,"creation_date":1655117303,"question_id":72601586,"body_markdown":"I am trying to implement encryption in Flutter, I&#39;m using java as a backend and dart for the mobile application. I have taken code from this https://stackoverflow.com/questions/67546548/encryption-in-java-and-decryption-in-flutter-aes-256\r\nBut it only supplies decryption in Flutter, and I want to implement encryption in Flutter so the Java code can decrypt it.\r\n\r\nCan you help me by providing the code for encryption in Flutter?\r\n\r\nThis is the java code for encryption and decryption.\r\n\r\n```\r\npublic class EncryptionService {\r\n    public String encrypt(String item) throws Exception {\r\n        byte[] ivBytes;\r\n        String password = &quot;Hello&quot;;\r\n        /* you can give whatever you want for password. This is for testing purpose */\r\n        SecureRandom random = new SecureRandom();\r\n        byte bytes[] = new byte[20];\r\n        random.nextBytes(bytes);\r\n        byte[] saltBytes = bytes;\r\n        // Derive the key\r\n        SecretKeyFactory factory = SecretKeyFactory.getInstance(&quot;PBKDF2WithHmacSHA1&quot;);\r\n\r\n        PBEKeySpec spec = new PBEKeySpec(password.toCharArray(), saltBytes, 65556, 256);\r\n\r\n        SecretKey secretKey = factory.generateSecret(spec);\r\n        SecretKeySpec secret = new SecretKeySpec(secretKey.getEncoded(), &quot;AES&quot;);\r\n\r\n        System.out.println(&quot;saltBytes : &quot; + saltBytes);\r\n\r\n        // encrypting the word\r\n        Cipher cipher = Cipher.getInstance(&quot;AES/CBC/PKCS5Padding&quot;);\r\n        cipher.init(Cipher.ENCRYPT_MODE, secret);\r\n        AlgorithmParameters params = cipher.getParameters();\r\n        ivBytes = params.getParameterSpec(IvParameterSpec.class).getIV();\r\n        System.out.println(&quot;ivBytes : &quot; + ivBytes);\r\n\r\n        byte[] encryptedTextBytes = cipher.doFinal(item.getBytes(&quot;UTF-8&quot;));\r\n        // prepend salt and vi\r\n        byte[] buffer = new byte[saltBytes.length + ivBytes.length + encryptedTextBytes.length];\r\n        System.arraycopy(saltBytes, 0, buffer, 0, saltBytes.length);\r\n        System.arraycopy(ivBytes, 0, buffer, saltBytes.length, ivBytes.length);\r\n        System.arraycopy(encryptedTextBytes, 0, buffer, saltBytes.length + ivBytes.length, encryptedTextBytes.length);\r\n        return new Base64().encodeToString(buffer);\r\n    }\r\n\r\n    public String decrypt(String encryptedText) throws Exception {\r\n        String password = &quot;Hello&quot;;\r\n        Cipher cipher = Cipher.getInstance(&quot;AES/CBC/PKCS5Padding&quot;);\r\n        // strip off the salt and iv\r\n        ByteBuffer buffer = ByteBuffer.wrap(new Base64().decode(encryptedText));\r\n        byte[] saltBytes = new byte[20];\r\n        buffer.get(saltBytes, 0, saltBytes.length);\r\n        byte[] ivBytes1 = new byte[cipher.getBlockSize()];\r\n        buffer.get(ivBytes1, 0, ivBytes1.length);\r\n        byte[] encryptedTextBytes = new byte[buffer.capacity() - saltBytes.length - ivBytes1.length];\r\n\r\n        buffer.get(encryptedTextBytes);\r\n        // Deriving the key\r\n        SecretKeyFactory factory = SecretKeyFactory.getInstance(&quot;PBKDF2WithHmacSHA1&quot;);\r\n        PBEKeySpec spec = new PBEKeySpec(password.toCharArray(), saltBytes, 65556, 256);\r\n        SecretKey secretKey = factory.generateSecret(spec);\r\n        SecretKeySpec secret = new SecretKeySpec(secretKey.getEncoded(), &quot;AES&quot;);\r\n        cipher.init(Cipher.DECRYPT_MODE, secret, new IvParameterSpec(ivBytes1));\r\n        byte[] decryptedTextBytes = null;\r\n        try {\r\n            decryptedTextBytes = cipher.doFinal(encryptedTextBytes);\r\n        } catch (IllegalBlockSizeException e) {\r\n            e.printStackTrace();\r\n        } catch (BadPaddingException e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n        return new String(decryptedTextBytes);\r\n    }\r\n}\r\n```\r\n\r\nDart implementation for decryption is something like this\r\n\r\n```\r\nclass EncryptionHelper {\r\n  static String decrypt(\r\n    String ciphertext,\r\n  ) {\r\n    Uint8List ciphertextlist = base64.decode(ciphertext);\r\n    var salt = ciphertextlist.sublist(0, 20);\r\n    var iv = ciphertextlist.sublist(20, 20 + 16);\r\n    var encrypted = ciphertextlist.sublist(20 + 16);\r\n\r\n    Uint8List key = generateKey(&quot;Hello&quot;, salt);\r\n    CBCBlockCipher cipher = new CBCBlockCipher(new AESFastEngine());\r\n\r\n    ParametersWithIV&lt;KeyParameter&gt; params =\r\n        new ParametersWithIV&lt;KeyParameter&gt;(new KeyParameter(key), iv);\r\n\r\n    PaddedBlockCipherParameters&lt;ParametersWithIV&lt;KeyParameter&gt;, Null&gt;\r\n        paddingParams =\r\n        new PaddedBlockCipherParameters&lt;ParametersWithIV&lt;KeyParameter&gt;, Null&gt;(\r\n            params, null);\r\n    PaddedBlockCipherImpl paddingCipher =\r\n        new PaddedBlockCipherImpl(new PKCS7Padding(), cipher);\r\n    paddingCipher.init(false, paddingParams);\r\n    var val = paddingCipher.process(encrypted);\r\n\r\n    return new String.fromCharCodes(val);\r\n  }\r\n\r\n  static Uint8List generateKey(String passphrase, Uint8List salt) {\r\n    Uint8List passphraseInt8List = Uint8List.fromList(passphrase.codeUnits);\r\n\r\n    KeyDerivator derivator =\r\n        PBKDF2KeyDerivator(HMac(SHA1Digest(), 64)); // 64 byte block size\r\n    Pbkdf2Parameters params =\r\n        Pbkdf2Parameters(salt, 65556, 32); // 32 byte key size\r\n    derivator.init(params);\r\n    return derivator.process(passphraseInt8List);\r\n  }\r\n}\r\n```","title":"Encryption in Flutter and Decryption in java (AES-256)","body":"<p>I am trying to implement encryption in Flutter, I'm using java as a backend and dart for the mobile application. I have taken code from this <a href=\"https://stackoverflow.com/questions/67546548/encryption-in-java-and-decryption-in-flutter-aes-256\">Encryption in Java and Decryption in Flutter (AES-256)</a>\nBut it only supplies decryption in Flutter, and I want to implement encryption in Flutter so the Java code can decrypt it.</p>\n<p>Can you help me by providing the code for encryption in Flutter?</p>\n<p>This is the java code for encryption and decryption.</p>\n<pre><code>public class EncryptionService {\n    public String encrypt(String item) throws Exception {\n        byte[] ivBytes;\n        String password = &quot;Hello&quot;;\n        /* you can give whatever you want for password. This is for testing purpose */\n        SecureRandom random = new SecureRandom();\n        byte bytes[] = new byte[20];\n        random.nextBytes(bytes);\n        byte[] saltBytes = bytes;\n        // Derive the key\n        SecretKeyFactory factory = SecretKeyFactory.getInstance(&quot;PBKDF2WithHmacSHA1&quot;);\n\n        PBEKeySpec spec = new PBEKeySpec(password.toCharArray(), saltBytes, 65556, 256);\n\n        SecretKey secretKey = factory.generateSecret(spec);\n        SecretKeySpec secret = new SecretKeySpec(secretKey.getEncoded(), &quot;AES&quot;);\n\n        System.out.println(&quot;saltBytes : &quot; + saltBytes);\n\n        // encrypting the word\n        Cipher cipher = Cipher.getInstance(&quot;AES/CBC/PKCS5Padding&quot;);\n        cipher.init(Cipher.ENCRYPT_MODE, secret);\n        AlgorithmParameters params = cipher.getParameters();\n        ivBytes = params.getParameterSpec(IvParameterSpec.class).getIV();\n        System.out.println(&quot;ivBytes : &quot; + ivBytes);\n\n        byte[] encryptedTextBytes = cipher.doFinal(item.getBytes(&quot;UTF-8&quot;));\n        // prepend salt and vi\n        byte[] buffer = new byte[saltBytes.length + ivBytes.length + encryptedTextBytes.length];\n        System.arraycopy(saltBytes, 0, buffer, 0, saltBytes.length);\n        System.arraycopy(ivBytes, 0, buffer, saltBytes.length, ivBytes.length);\n        System.arraycopy(encryptedTextBytes, 0, buffer, saltBytes.length + ivBytes.length, encryptedTextBytes.length);\n        return new Base64().encodeToString(buffer);\n    }\n\n    public String decrypt(String encryptedText) throws Exception {\n        String password = &quot;Hello&quot;;\n        Cipher cipher = Cipher.getInstance(&quot;AES/CBC/PKCS5Padding&quot;);\n        // strip off the salt and iv\n        ByteBuffer buffer = ByteBuffer.wrap(new Base64().decode(encryptedText));\n        byte[] saltBytes = new byte[20];\n        buffer.get(saltBytes, 0, saltBytes.length);\n        byte[] ivBytes1 = new byte[cipher.getBlockSize()];\n        buffer.get(ivBytes1, 0, ivBytes1.length);\n        byte[] encryptedTextBytes = new byte[buffer.capacity() - saltBytes.length - ivBytes1.length];\n\n        buffer.get(encryptedTextBytes);\n        // Deriving the key\n        SecretKeyFactory factory = SecretKeyFactory.getInstance(&quot;PBKDF2WithHmacSHA1&quot;);\n        PBEKeySpec spec = new PBEKeySpec(password.toCharArray(), saltBytes, 65556, 256);\n        SecretKey secretKey = factory.generateSecret(spec);\n        SecretKeySpec secret = new SecretKeySpec(secretKey.getEncoded(), &quot;AES&quot;);\n        cipher.init(Cipher.DECRYPT_MODE, secret, new IvParameterSpec(ivBytes1));\n        byte[] decryptedTextBytes = null;\n        try {\n            decryptedTextBytes = cipher.doFinal(encryptedTextBytes);\n        } catch (IllegalBlockSizeException e) {\n            e.printStackTrace();\n        } catch (BadPaddingException e) {\n            e.printStackTrace();\n        }\n\n        return new String(decryptedTextBytes);\n    }\n}\n</code></pre>\n<p>Dart implementation for decryption is something like this</p>\n<pre><code>class EncryptionHelper {\n  static String decrypt(\n    String ciphertext,\n  ) {\n    Uint8List ciphertextlist = base64.decode(ciphertext);\n    var salt = ciphertextlist.sublist(0, 20);\n    var iv = ciphertextlist.sublist(20, 20 + 16);\n    var encrypted = ciphertextlist.sublist(20 + 16);\n\n    Uint8List key = generateKey(&quot;Hello&quot;, salt);\n    CBCBlockCipher cipher = new CBCBlockCipher(new AESFastEngine());\n\n    ParametersWithIV&lt;KeyParameter&gt; params =\n        new ParametersWithIV&lt;KeyParameter&gt;(new KeyParameter(key), iv);\n\n    PaddedBlockCipherParameters&lt;ParametersWithIV&lt;KeyParameter&gt;, Null&gt;\n        paddingParams =\n        new PaddedBlockCipherParameters&lt;ParametersWithIV&lt;KeyParameter&gt;, Null&gt;(\n            params, null);\n    PaddedBlockCipherImpl paddingCipher =\n        new PaddedBlockCipherImpl(new PKCS7Padding(), cipher);\n    paddingCipher.init(false, paddingParams);\n    var val = paddingCipher.process(encrypted);\n\n    return new String.fromCharCodes(val);\n  }\n\n  static Uint8List generateKey(String passphrase, Uint8List salt) {\n    Uint8List passphraseInt8List = Uint8List.fromList(passphrase.codeUnits);\n\n    KeyDerivator derivator =\n        PBKDF2KeyDerivator(HMac(SHA1Digest(), 64)); // 64 byte block size\n    Pbkdf2Parameters params =\n        Pbkdf2Parameters(salt, 65556, 32); // 32 byte key size\n    derivator.init(params);\n    return derivator.process(passphraseInt8List);\n  }\n}\n</code></pre>\n"},{"tags":["java","sql-server","spring","spring-boot","spring-mvc"],"comments":[{"owner":{"account_id":13867576,"reputation":120,"user_id":10011738,"display_name":"amir rad"},"score":0,"creation_date":1676736160,"post_id":75493724,"comment_id":133199054,"body_markdown":"remove @Autowired from your constructor and test again? log on std shows  constructor not instantiated correctly.","body":"remove @Autowired from your constructor and test again? log on std shows  constructor not instantiated correctly."},{"owner":{"account_id":26885183,"reputation":17,"user_id":20464887,"display_name":"clement mensah"},"score":0,"creation_date":1676740770,"post_id":75493724,"comment_id":133199946,"body_markdown":"@AmirRad I have tried it but it did not work.","body":"@AmirRad I have tried it but it did not work."},{"owner":{"account_id":12743722,"reputation":19966,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1676741414,"post_id":75493724,"comment_id":133200089,"body_markdown":"Not an answer, just an observation: Your JDBC URL looks suspicious: `jdbc-url: jdbc:sqlserver://SERVER:;databaseName=DB;encrypt=false`. That `:;` suggests you are missing a port number. The colon (`:`) should be followed by a port number, or should be removed from the URL string. You can test your URL string separately to make sure it is valid.","body":"Not an answer, just an observation: Your JDBC URL looks suspicious: <code>jdbc-url: jdbc:sqlserver:&#47;&#47;SERVER:;databaseName=DB;encrypt=false</code>. That <code>:;</code> suggests you are missing a port number. The colon (<code>:</code>) should be followed by a port number, or should be removed from the URL string. You can test your URL string separately to make sure it is valid."},{"owner":{"account_id":12743722,"reputation":19966,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1676741799,"post_id":75493724,"comment_id":133200166,"body_markdown":"I echo what @Oliver wrote when they mentioned (a) you should try to improve the formatting of your question; and (b) you should provide a MRE - remove every line of code which is not relevant to your problem. You have not done either of those, so far.","body":"I echo what @Oliver wrote when they mentioned (a) you should try to improve the formatting of your question; and (b) you should provide a MRE - remove every line of code which is not relevant to your problem. You have not done either of those, so far."},{"owner":{"account_id":26885183,"reputation":17,"user_id":20464887,"display_name":"clement mensah"},"score":0,"creation_date":1676745246,"post_id":75493724,"comment_id":133200778,"body_markdown":"@andrewJames I have edited now. Concerning the url, it has a port a port number","body":"@andrewJames I have edited now. Concerning the url, it has a port a port number"},{"owner":{"account_id":12743722,"reputation":19966,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1676745735,"post_id":75493724,"comment_id":133200859,"body_markdown":"OK - that is not what I meant - but thank you for the edits, anyway.","body":"OK - that is not what I meant - but thank you for the edits, anyway."}],"answers":[{"comments":[{"owner":{"account_id":26885183,"reputation":17,"user_id":20464887,"display_name":"clement mensah"},"score":0,"creation_date":1676748363,"post_id":75495454,"comment_id":133201343,"body_markdown":"I get this error when I use a .properties file: &quot;Parameter 1 of constructor in com.autonation.ca.service.AppointmentService required a bean named &#39;entityManagerFactory&#39; that could not be found.&quot;","body":"I get this error when I use a .properties file: &quot;Parameter 1 of constructor in com.autonation.ca.service.AppointmentService required a bean named &#39;entityManagerFactory&#39; that could not be found.&quot;"},{"owner":{"account_id":13867576,"reputation":120,"user_id":10011738,"display_name":"amir rad"},"score":0,"creation_date":1676753558,"post_id":75495454,"comment_id":133202220,"body_markdown":"Use @EnableJpaRepositories(basePackages=&quot;your.package&quot;, entityManagerFactoryRef=&quot;emf&quot;) on related package.","body":"Use @EnableJpaRepositories(basePackages=&quot;your.package&quot;, entityManagerFactoryRef=&quot;emf&quot;) on related package."},{"owner":{"account_id":26885183,"reputation":17,"user_id":20464887,"display_name":"clement mensah"},"score":0,"creation_date":1676914086,"post_id":75495454,"comment_id":133228969,"body_markdown":"Thank you @Amir Rad. I used EnableJpaRepositories and it worked.","body":"Thank you @Amir Rad. I used EnableJpaRepositories and it worked."}],"tags":[],"owner":{"account_id":13867576,"reputation":120,"user_id":10011738,"display_name":"amir rad"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1676744617,"creation_date":1676744617,"answer_id":75495454,"question_id":75493724,"body_markdown":"change application.yml file to application.properties with these config,\r\n\r\n    ansir.datasource.schema= schema\r\n    ansir.datasource.jdbc-url=jdbc:sqlserver://SERVER;databaseName=DB;encrypt=false\r\n    ansir.datasource.username=root\r\n    ansir.datasource.password=pwd\r\n    ansir.datasource.driver-class-name= com.microsoft.sqlserver.jdbc.SQLServerDriver\r\n    ansir.datasource.hikari.maximum-pool-size=10\r\n    ansir.datasource.hikari.pool-name= HikariPool-ANSIR\r\n    ansir.datasource.jpa.show-sql= true\r\n    ansir.datasource.jpa.hibernate.dialect= org.hibernate.dialect.SQLServer2012Dialect\r\n    ansir.datasource.jpa.hibernate.ddl-auto= none\r\n\r\nperiod is not normal use in application.yml file.\r\n","title":"DataSource failing to instantiate","body":"<p>change application.yml file to application.properties with these config,</p>\n<pre><code>ansir.datasource.schema= schema\nansir.datasource.jdbc-url=jdbc:sqlserver://SERVER;databaseName=DB;encrypt=false\nansir.datasource.username=root\nansir.datasource.password=pwd\nansir.datasource.driver-class-name= com.microsoft.sqlserver.jdbc.SQLServerDriver\nansir.datasource.hikari.maximum-pool-size=10\nansir.datasource.hikari.pool-name= HikariPool-ANSIR\nansir.datasource.jpa.show-sql= true\nansir.datasource.jpa.hibernate.dialect= org.hibernate.dialect.SQLServer2012Dialect\nansir.datasource.jpa.hibernate.ddl-auto= none\n</code></pre>\n<p>period is not normal use in application.yml file.</p>\n"}],"owner":{"account_id":26885183,"reputation":17,"user_id":20464887,"display_name":"clement mensah"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":327,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":75495454,"answer_count":1,"score":-2,"last_activity_date":1676868755,"creation_date":1676727655,"question_id":75493724,"body_markdown":"I am trying to connect to an external mssql database but I am getting a bean instantiation exception. I have tried annotating my main class with @EnableJpaRepo, excluding DataSourceAutoConfiguration etc. I tried using myBatis and it worked but I&#39;ve been instructed to use Jpa. Thank you.\r\n\r\nMy .yml file:\r\n\r\n    ansir.datasource:\r\n      schema: schema\r\n      jdbc-url: jdbc:sqlserver://SERVER:PORTNO;databaseName=DB;encrypt=false \r\n      username: root\r\n      password: pwd\r\n      driver-class-name: com.microsoft.sqlserver.jdbc.SQLServerDriver\r\n      hikari.maximum-pool-size: 10\r\n      hikari.pool-name: HikariPool-ANSIR\r\n      jpa:\r\n        show-sql: true\r\n        hibernate.dialect: org.hibernate.dialect.SQLServer2012Dialect\r\n        hibernate.ddl-auto: none\r\n   \r\n\r\n my config class:\r\n\r\n    @Value(&quot;${ansir.datasource}&quot;)\r\n    private String SCHEMA_NAME;\r\n\r\n    @Value(&quot;${ansir.datasource.jdbc-url}&quot;)\r\n    private String jdbcUrl;\r\n\r\n    @Value(&quot;${ansir.datasource.username}&quot;)\r\n    private String username;\r\n\r\n    @Value(&quot;${ansir.datasource.password}&quot;)\r\n    private String password;\r\n\r\n    @Value(&quot;${ansir.datasource.driver-class-name}&quot;)\r\n    private String driverClassName;\r\n\r\n    @Value(&quot;${ansir.datasource.hikari.maximum-pool-size}&quot;)\r\n    private String maxPool;\r\n\r\n    @Value(&quot;${ansir.datasource.hikari.pool-name}&quot;)\r\n    private String poolName;\r\n\r\n    @Value(&quot;${ansir.datasource.jpa.show-sql}&quot;)\r\n    private String showSql;\r\n\r\n    @Value(&quot;${ansir.datasource.jpa.hibernate.dialect}&quot;)\r\n    private String hibernateDialect;\r\n\r\n    @Value(&quot;${ansir.datasource.jpa.hibernate.ddl-auto}&quot;)\r\n    private String ddl;\r\n    private final Environment env;\r\n\r\n    @Autowired\r\n    public ANSIRConfiguration(Environment env) {\r\n        this.env = env;\r\n    }\r\n\r\n    @Bean\r\n    @ConfigurationProperties(&quot;ansir.datasource&quot;)\r\n    public DataSource ansirDataSource() {\r\n        return DataSourceBuilder.create()\r\n                .driverClassName(env.getProperty(driverClassName))\r\n                .url(env.getProperty(jdbcUrl))\r\n                .username(env.getProperty(username))\r\n                .password(env.getProperty(password))\r\n                .build();\r\n    }\r\n\r\n    @Bean\r\n    public PlatformTransactionManager ansirTransactionManager(@Qualifier(&quot;ansirEntityManager&quot;) LocalContainerEntityManagerFactoryBean entityManagerFactoryBean) {\r\n\r\n        JpaTransactionManager transactionManager\r\n                = new JpaTransactionManager();\r\n        transactionManager.setEntityManagerFactory(\r\n                entityManagerFactoryBean.getObject());\r\n        return transactionManager;\r\n    }\r\n\r\n\r\n    @Bean(&quot;ansirEntityManager&quot;)\r\n    public LocalContainerEntityManagerFactoryBean ansirEntityManager(@Qualifier(&quot;ansirDataSource&quot;)DataSource ansirDataSource) {\r\n        LocalContainerEntityManagerFactoryBean entityManagerFactory\r\n                = new LocalContainerEntityManagerFactoryBean();\r\n        entityManagerFactory.setDataSource(ansirDataSource);\r\n        entityManagerFactory.setPackagesToScan(&quot;com.autonation.ca.client.ansir.entity&quot;);\r\n        entityManagerFactory.setPersistenceUnitName(&quot;ansir&quot;);\r\n\r\n        HibernateJpaVendorAdapter vendorAdapter\r\n\r\n                = new HibernateJpaVendorAdapter();\r\n        entityManagerFactory.setJpaVendorAdapter(vendorAdapter);\r\n        HashMap&lt;String, Object&gt; properties = new HashMap&lt;&gt;();\r\n        properties.put(&quot;hibernate.hbm2ddl.auto&quot;,\r\n                env.getProperty(ddl));\r\n        properties.put(&quot;hibernate.dialect&quot;,\r\n                env.getProperty(hibernateDialect));\r\n        properties.put(&quot;hibernate.proc.param_null_passing&quot;, true);\r\n        properties.put(&quot;hibernate.show_sq&quot;, showSql);\r\n        entityManagerFactory.setJpaPropertyMap(properties);\r\n\r\n        return entityManagerFactory;\r\n    }\r\n\r\n}\r\n\r\nmy stack trace:\r\n\r\nCaused by: java.lang.NullPointerException: null\r\n\tat java.base/java.util.concurrent.ConcurrentHashMap.putVal(ConcurrentHashMap.java:1011)\r\n\tat java.base/java.util.concurrent.ConcurrentHashMap.putIfAbsent(ConcurrentHashMap.java:1541)\r\n\tat java.base/java.lang.ClassLoader.getClassLoadingLock(ClassLoader.java:667)\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClassOrNull(BuiltinClassLoader.java:591)\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:579)\r\n\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\r\n\tat com.zaxxer.hikari.HikariConfig.attemptFromContextLoader(HikariConfig.java:970)\r\n\tat com.zaxxer.hikari.HikariConfig.setDriverClassName(HikariConfig.java:480)\r\n\tat org.springframework.boot.jdbc.DataSourceBuilder$MappedDataSourceProperty.set(DataSourceBuilder.java:460)\r\n\tat org.springframework.boot.jdbc.DataSourceBuilder$MappedDataSourceProperties.set(DataSourceBuilder.java:355)\r\n\tat org.springframework.boot.jdbc.DataSourceBuilder.build(DataSourceBuilder.java:190)\r\n\tat com.autonation.ca.client.ansir.config.ANSIRConfiguration.ansirDataSource(ANSIRConfiguration.java:64)\r\n\tat com.autonation.ca.client.ansir.config.ANSIRConfiguration$$EnhancerBySpringCGLIB$$307494cc.CGLIB$ansirDataSource$2(&lt;generated&gt;)\r\n\tat com.autonation.ca.client.ansir.config.ANSIRConfiguration$$EnhancerBySpringCGLIB$$307494cc$$FastClassBySpringCGLIB$$d0e3b4d8.invoke(&lt;generated&gt;)\r\n\tat org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:244)\r\n\tat org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:331)\r\n\tat com.autonation.ca.client.ansir.config.ANSIRConfiguration$$EnhancerBySpringCGLIB$$307494cc.ansirDataSource(&lt;generated&gt;)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154)\r\n\r\nThank you.\r\n\r\n\r\n","title":"DataSource failing to instantiate","body":"<p>I am trying to connect to an external mssql database but I am getting a bean instantiation exception. I have tried annotating my main class with @EnableJpaRepo, excluding DataSourceAutoConfiguration etc. I tried using myBatis and it worked but I've been instructed to use Jpa. Thank you.</p>\n<p>My .yml file:</p>\n<pre><code>ansir.datasource:\n  schema: schema\n  jdbc-url: jdbc:sqlserver://SERVER:PORTNO;databaseName=DB;encrypt=false \n  username: root\n  password: pwd\n  driver-class-name: com.microsoft.sqlserver.jdbc.SQLServerDriver\n  hikari.maximum-pool-size: 10\n  hikari.pool-name: HikariPool-ANSIR\n  jpa:\n    show-sql: true\n    hibernate.dialect: org.hibernate.dialect.SQLServer2012Dialect\n    hibernate.ddl-auto: none\n</code></pre>\n<p>my config class:</p>\n<pre><code>@Value(&quot;${ansir.datasource}&quot;)\nprivate String SCHEMA_NAME;\n\n@Value(&quot;${ansir.datasource.jdbc-url}&quot;)\nprivate String jdbcUrl;\n\n@Value(&quot;${ansir.datasource.username}&quot;)\nprivate String username;\n\n@Value(&quot;${ansir.datasource.password}&quot;)\nprivate String password;\n\n@Value(&quot;${ansir.datasource.driver-class-name}&quot;)\nprivate String driverClassName;\n\n@Value(&quot;${ansir.datasource.hikari.maximum-pool-size}&quot;)\nprivate String maxPool;\n\n@Value(&quot;${ansir.datasource.hikari.pool-name}&quot;)\nprivate String poolName;\n\n@Value(&quot;${ansir.datasource.jpa.show-sql}&quot;)\nprivate String showSql;\n\n@Value(&quot;${ansir.datasource.jpa.hibernate.dialect}&quot;)\nprivate String hibernateDialect;\n\n@Value(&quot;${ansir.datasource.jpa.hibernate.ddl-auto}&quot;)\nprivate String ddl;\nprivate final Environment env;\n\n@Autowired\npublic ANSIRConfiguration(Environment env) {\n    this.env = env;\n}\n\n@Bean\n@ConfigurationProperties(&quot;ansir.datasource&quot;)\npublic DataSource ansirDataSource() {\n    return DataSourceBuilder.create()\n            .driverClassName(env.getProperty(driverClassName))\n            .url(env.getProperty(jdbcUrl))\n            .username(env.getProperty(username))\n            .password(env.getProperty(password))\n            .build();\n}\n\n@Bean\npublic PlatformTransactionManager ansirTransactionManager(@Qualifier(&quot;ansirEntityManager&quot;) LocalContainerEntityManagerFactoryBean entityManagerFactoryBean) {\n\n    JpaTransactionManager transactionManager\n            = new JpaTransactionManager();\n    transactionManager.setEntityManagerFactory(\n            entityManagerFactoryBean.getObject());\n    return transactionManager;\n}\n\n\n@Bean(&quot;ansirEntityManager&quot;)\npublic LocalContainerEntityManagerFactoryBean ansirEntityManager(@Qualifier(&quot;ansirDataSource&quot;)DataSource ansirDataSource) {\n    LocalContainerEntityManagerFactoryBean entityManagerFactory\n            = new LocalContainerEntityManagerFactoryBean();\n    entityManagerFactory.setDataSource(ansirDataSource);\n    entityManagerFactory.setPackagesToScan(&quot;com.autonation.ca.client.ansir.entity&quot;);\n    entityManagerFactory.setPersistenceUnitName(&quot;ansir&quot;);\n\n    HibernateJpaVendorAdapter vendorAdapter\n\n            = new HibernateJpaVendorAdapter();\n    entityManagerFactory.setJpaVendorAdapter(vendorAdapter);\n    HashMap&lt;String, Object&gt; properties = new HashMap&lt;&gt;();\n    properties.put(&quot;hibernate.hbm2ddl.auto&quot;,\n            env.getProperty(ddl));\n    properties.put(&quot;hibernate.dialect&quot;,\n            env.getProperty(hibernateDialect));\n    properties.put(&quot;hibernate.proc.param_null_passing&quot;, true);\n    properties.put(&quot;hibernate.show_sq&quot;, showSql);\n    entityManagerFactory.setJpaPropertyMap(properties);\n\n    return entityManagerFactory;\n}\n</code></pre>\n<p>}</p>\n<p>my stack trace:</p>\n<p>Caused by: java.lang.NullPointerException: null\nat java.base/java.util.concurrent.ConcurrentHashMap.putVal(ConcurrentHashMap.java:1011)\nat java.base/java.util.concurrent.ConcurrentHashMap.putIfAbsent(ConcurrentHashMap.java:1541)\nat java.base/java.lang.ClassLoader.getClassLoadingLock(ClassLoader.java:667)\nat java.base/jdk.internal.loader.BuiltinClassLoader.loadClassOrNull(BuiltinClassLoader.java:591)\nat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:579)\nat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\nat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\nat com.zaxxer.hikari.HikariConfig.attemptFromContextLoader(HikariConfig.java:970)\nat com.zaxxer.hikari.HikariConfig.setDriverClassName(HikariConfig.java:480)\nat org.springframework.boot.jdbc.DataSourceBuilder$MappedDataSourceProperty.set(DataSourceBuilder.java:460)\nat org.springframework.boot.jdbc.DataSourceBuilder$MappedDataSourceProperties.set(DataSourceBuilder.java:355)\nat org.springframework.boot.jdbc.DataSourceBuilder.build(DataSourceBuilder.java:190)\nat com.autonation.ca.client.ansir.config.ANSIRConfiguration.ansirDataSource(ANSIRConfiguration.java:64)\nat com.autonation.ca.client.ansir.config.ANSIRConfiguration$$EnhancerBySpringCGLIB$$307494cc.CGLIB$ansirDataSource$2()\nat com.autonation.ca.client.ansir.config.ANSIRConfiguration$$EnhancerBySpringCGLIB$$307494cc$$FastClassBySpringCGLIB$$d0e3b4d8.invoke()\nat org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:244)\nat org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:331)\nat com.autonation.ca.client.ansir.config.ANSIRConfiguration$$EnhancerBySpringCGLIB$$307494cc.ansirDataSource()\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\nat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.base/java.lang.reflect.Method.invoke(Method.java:566)\nat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154)</p>\n<p>Thank you.</p>\n"},{"tags":["java","flutter","serversocket","tcpsocket"],"comments":[{"owner":{"account_id":8441706,"reputation":872,"user_id":6333971,"display_name":"Bhavin Patel"},"score":0,"creation_date":1597387534,"post_id":55857845,"comment_id":112121268,"body_markdown":"I&#39;m using same Encrypt and decrypt functionality .So,please share class which you created in flutter for encrypt decrypt and api dunction for converting data please","body":"I&#39;m using same Encrypt and decrypt functionality .So,please share class which you created in flutter for encrypt decrypt and api dunction for converting data please"}],"answers":[{"comments":[{"owner":{"account_id":8925491,"reputation":53,"user_id":6660202,"display_name":"Vaibhav Dikha"},"score":0,"creation_date":1556271490,"post_id":55858929,"comment_id":98389710,"body_markdown":"I am new to encryption , i implemented this function in flutter ,and this returned me a List&lt;Int&gt; , i would like to write this list to my server and then decrypt it over there , can i simply do sock.write(encryptedList) to write it to my server ? And can you give me the encrypt and decrypt function for dart and java both Please ? Also do you suggest i use a different padding than pkcs7 ?","body":"I am new to encryption , i implemented this function in flutter ,and this returned me a List&lt;Int&gt; , i would like to write this list to my server and then decrypt it over there , can i simply do sock.write(encryptedList) to write it to my server ? And can you give me the encrypt and decrypt function for dart and java both Please ? Also do you suggest i use a different padding than pkcs7 ?"},{"owner":{"account_id":13294099,"reputation":49274,"user_id":9597706,"display_name":"Richard Heap"},"score":0,"creation_date":1556273923,"post_id":55858929,"comment_id":98391042,"body_markdown":"It&#39;s probably `sock.add` in dart to send it. That dart encrypt should match the existing java decrypt in the question. Pkcs5/7 padding is acceptable for your purposes at the moment. Your main problem comes from using ECB. Read Wikipedia to see why. Decrypt is identical, but change true to false :-)","body":"It&#39;s probably <code>sock.add</code> in dart to send it. That dart encrypt should match the existing java decrypt in the question. Pkcs5/7 padding is acceptable for your purposes at the moment. Your main problem comes from using ECB. Read Wikipedia to see why. Decrypt is identical, but change true to false :-)"},{"owner":{"account_id":8925491,"reputation":53,"user_id":6660202,"display_name":"Vaibhav Dikha"},"score":0,"creation_date":1556310635,"post_id":55858929,"comment_id":98408892,"body_markdown":"Thanks a lot , i have successfully encrypted the string and decrypted on my server\nHowever i am unable to decrypt on the dart side , i received this string through encryption  &#39;&#214;b9&#247;&#209;\\^] v&#234;~&#167;&#211;&lt;&gt;&#39; which is actually &quot;Text data&quot; . \nI tried putting false in decrypt but it gives me this error when i pass this string to the decrypt function in dart \n&quot; Invalid argument(s): Input data length must be a multiple of cipher&#39;s block size&quot;","body":"Thanks a lot , i have successfully encrypted the string and decrypted on my server However i am unable to decrypt on the dart side , i received this string through encryption  &#39;&#214;b9&#247;&#209;\\^] v&#234;~&#167;&#211;&lt;&gt;&#39; which is actually &quot;Text data&quot; .  I tried putting false in decrypt but it gives me this error when i pass this string to the decrypt function in dart  &quot; Invalid argument(s): Input data length must be a multiple of cipher&#39;s block size&quot;"},{"owner":{"account_id":13294099,"reputation":49274,"user_id":9597706,"display_name":"Richard Heap"},"score":0,"creation_date":1556310850,"post_id":55858929,"comment_id":98408976,"body_markdown":"Ob9... isn&#39;t an array of bytes, so not sure how you would expect to decrypt that. Where are you getting the encrypted data from? Your Java function returns byte[] as you might expect.","body":"Ob9... isn&#39;t an array of bytes, so not sure how you would expect to decrypt that. Where are you getting the encrypted data from? Your Java function returns byte[] as you might expect."},{"owner":{"account_id":8925491,"reputation":53,"user_id":6660202,"display_name":"Vaibhav Dikha"},"score":0,"creation_date":1556311808,"post_id":55858929,"comment_id":98409291,"body_markdown":"I am stuck at \n1.)the way i am receiving the Stream of bytes from my server . and  \n2.) the return type of decrypt function , return statement \n\n1.) To receive on dart i am using sock.listen((data) { }\nI assume data is the byte stream i expect , or should i use stdin for that (please give sample snippet if possible) \n2.)my return type of decrypt function is string , it takes a list as an argument(the one we received) , i&#39;ve changed true to false in cipher.init , now what should be the return statement for this ?","body":"I am stuck at  1.)the way i am receiving the Stream of bytes from my server . and   2.) the return type of decrypt function , return statement   1.) To receive on dart i am using sock.listen((data) { } I assume data is the byte stream i expect , or should i use stdin for that (please give sample snippet if possible)  2.)my return type of decrypt function is string , it takes a list as an argument(the one we received) , i&#39;ve changed true to false in cipher.init , now what should be the return statement for this ?"},{"owner":{"account_id":8925491,"reputation":53,"user_id":6660202,"display_name":"Vaibhav Dikha"},"score":0,"creation_date":1556312426,"post_id":55858929,"comment_id":98409527,"body_markdown":"I want to first receive the byte array on dart and then decrypt it , but i face the above problems , by mistake i tried to convert the array to string hence the other comment , please ignore that","body":"I want to first receive the byte array on dart and then decrypt it , but i face the above problems , by mistake i tried to convert the array to string hence the other comment , please ignore that"},{"owner":{"account_id":13294099,"reputation":49274,"user_id":9597706,"display_name":"Richard Heap"},"score":0,"creation_date":1556313678,"post_id":55858929,"comment_id":98409934,"body_markdown":"`sock.listen` should yield bytes, yes. After decrypting the bytes you should get another byte array. Turn this back to characters - closest equiv to java toBytes is `utf8.decode(somebytes)`","body":"<code>sock.listen</code> should yield bytes, yes. After decrypting the bytes you should get another byte array. Turn this back to characters - closest equiv to java toBytes is <code>utf8.decode(somebytes)</code>"},{"owner":{"account_id":8925491,"reputation":53,"user_id":6660202,"display_name":"Vaibhav Dikha"},"score":0,"creation_date":1556314698,"post_id":55858929,"comment_id":98410231,"body_markdown":"for decrypting the recieved byte array , i have to pass it to the decrypt function , what should its argument be , earlier it was string when i was encrypting,now should it be the byte array ?","body":"for decrypting the recieved byte array , i have to pass it to the decrypt function , what should its argument be , earlier it was string when i was encrypting,now should it be the byte array ?"},{"owner":{"account_id":13294099,"reputation":49274,"user_id":9597706,"display_name":"Richard Heap"},"score":0,"creation_date":1556315551,"post_id":55858929,"comment_id":98410483,"body_markdown":"yes and the last line becomes `return utf8.decode(cipher.process(cipherText))`","body":"yes and the last line becomes <code>return utf8.decode(cipher.process(cipherText))</code>"},{"owner":{"account_id":8441706,"reputation":872,"user_id":6333971,"display_name":"Bhavin Patel"},"score":0,"creation_date":1597387520,"post_id":55858929,"comment_id":112121265,"body_markdown":"@VaibhavDikha I&#39;m using same Encrypt and decrypt functionality .So,please share class which you created in flutter for encrypt decrypt and api dunction for converting data please","body":"@VaibhavDikha I&#39;m using same Encrypt and decrypt functionality .So,please share class which you created in flutter for encrypt decrypt and api dunction for converting data please"}],"tags":[],"owner":{"account_id":13294099,"reputation":49274,"user_id":9597706,"display_name":"Richard Heap"},"comment_count":10,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1609622539,"creation_date":1556235239,"answer_id":55858929,"question_id":55857845,"body_markdown":"The way you are configuring the Java cipher defaults to Electronic Code Book (ECB) mode which shouldn&#39;t be used in a real cipher system. You are also relying on the default padding - PKCS5.\r\n\r\nUse the [`pointycastle`](https://pub.dev/packages/pointycastle) package, with the following imports:\r\n\r\n    import &#39;package:pointycastle/api.dart&#39;;\r\n    import &#39;package:pointycastle/block/aes_fast.dart&#39;;\r\n    import &#39;package:pointycastle/paddings/pkcs7.dart&#39;;\r\n    import &#39;package:pointycastle/padded_block_cipher/padded_block_cipher_impl.dart&#39;;\r\n    import &#39;package:pointycastle/block/modes/ecb.dart&#39;;\r\n\r\nAn approximate equivalent in Dart is:\r\n\r\n    List&lt;int&gt; encrypt2(String text) {\r\n      // key must be 16 or 32 bytes - not sure how &quot;mykey&quot; could work\r\n      // key should really be binary, not a String! Better to use a KDF.\r\n      Uint8List key = Uint8List.fromList(\r\n        utf8.encode(&#39;0123456789abcdef&#39;),\r\n      );\r\n    \r\n      PaddedBlockCipher cipher = PaddedBlockCipherImpl(\r\n        PKCS7Padding(), // Java defaults to PKCS5 which is equivalent\r\n        ECBBlockCipher(AESFastEngine()), // Very weak mode - don&#39;t use this in the real world\r\n      );\r\n    \r\n      cipher.init(\r\n        true,\r\n        PaddedBlockCipherParameters&lt;CipherParameters, CipherParameters&gt;(\r\n          KeyParameter(key),\r\n          null,\r\n        ),\r\n      );\r\n    \r\n      return cipher.process(utf8.encode(text)); // this isn&#39;t the same as .toBytes, except for ASCII\r\n    }","title":"is there a Dart Equivalent of the following Aes Encryption function in java","body":"<p>The way you are configuring the Java cipher defaults to Electronic Code Book (ECB) mode which shouldn't be used in a real cipher system. You are also relying on the default padding - PKCS5.</p>\n<p>Use the <a href=\"https://pub.dev/packages/pointycastle\" rel=\"nofollow noreferrer\"><code>pointycastle</code></a> package, with the following imports:</p>\n<pre><code>import 'package:pointycastle/api.dart';\nimport 'package:pointycastle/block/aes_fast.dart';\nimport 'package:pointycastle/paddings/pkcs7.dart';\nimport 'package:pointycastle/padded_block_cipher/padded_block_cipher_impl.dart';\nimport 'package:pointycastle/block/modes/ecb.dart';\n</code></pre>\n<p>An approximate equivalent in Dart is:</p>\n<pre><code>List&lt;int&gt; encrypt2(String text) {\n  // key must be 16 or 32 bytes - not sure how &quot;mykey&quot; could work\n  // key should really be binary, not a String! Better to use a KDF.\n  Uint8List key = Uint8List.fromList(\n    utf8.encode('0123456789abcdef'),\n  );\n\n  PaddedBlockCipher cipher = PaddedBlockCipherImpl(\n    PKCS7Padding(), // Java defaults to PKCS5 which is equivalent\n    ECBBlockCipher(AESFastEngine()), // Very weak mode - don't use this in the real world\n  );\n\n  cipher.init(\n    true,\n    PaddedBlockCipherParameters&lt;CipherParameters, CipherParameters&gt;(\n      KeyParameter(key),\n      null,\n    ),\n  );\n\n  return cipher.process(utf8.encode(text)); // this isn't the same as .toBytes, except for ASCII\n}\n</code></pre>\n"}],"owner":{"account_id":8925491,"reputation":53,"user_id":6660202,"display_name":"Vaibhav Dikha"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3210,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":55858929,"answer_count":1,"score":5,"last_activity_date":1676867392,"creation_date":1556227508,"question_id":55857845,"body_markdown":"I have set up a server that is listening for an encrypted byte array through the java function mentioned below. Earlier i was using java (android) to build my app so it was easy using the same java function but i am unable to figure out what is the dart equivalent(flutter) of that function which takes a string as input and returns an AES encrypted byte array as output ,which i can write to the tcp socket .\r\n\r\nAlso i&#39;d really appreciate help on knowing how to write the generated byte array to the server and then read a similar response and decrypting it through dart (flutter) \r\n\r\n\r\nI have been successful in writing simple strings and receiving simple strings as input and output to the tcp server through dart but cant do the same for encrypted byte arrays . In java i used DataOutputStream to send the response to server like this \r\n\r\n    DataOutputStream dOut = newDataOutputStream(socket.getOutputStream());\r\n\r\n               byte[] s2 = Encrypt3.encrypt2(myString);\r\n\r\n               dOut.writeInt(s2.length); // write length of the message\r\n                dOut.write(s2);\r\n\r\n\r\n\r\n\r\n\r\nHere is the java function i used for aes encryption \r\n\r\n\r\n    import java.security.Key;\r\n\r\n    import javax.crypto.Cipher;\r\n\r\n    import javax.crypto.spec.SecretKeySpec;\r\n\r\n\r\n    public class Encrypt3 {\r\n    public static String key = &quot;mykey&quot;;\r\n\r\n    public static byte[] encrypt2(String text ){\r\n        String encrypt =&quot;&quot;;\r\n\r\n        try{\r\n            // Create key and cipher\r\n            Key aesKey = new SecretKeySpec(key.getBytes(), &quot;AES&quot;);\r\n            Cipher cipher = Cipher.getInstance(&quot;AES&quot;);\r\n            // encrypt the text\r\n            cipher.init(Cipher.ENCRYPT_MODE, aesKey);\r\n            byte[] encrypted = cipher.doFinal(text.getBytes());\r\n            return encrypted ;\r\n        }catch(Exception e){\r\n            System.out.println(e);\r\n        }\r\n        return null ;\r\n    }\r\n\r\n\r\n    public static String decrypt2(byte[] encrypted2){\r\n        String decrypt =&quot;&quot;;\r\n        try{\r\n            Key aesKey = new SecretKeySpec(key.getBytes(), &quot;AES&quot;);\r\n            Cipher cipher = Cipher.getInstance(&quot;AES&quot;);\r\n            // decrypt the text\r\n            cipher.init(Cipher.DECRYPT_MODE, aesKey);\r\n            decrypt = new String(cipher.doFinal(encrypted2));\r\n        }catch(Exception e){\r\n            System.out.println(e);\r\n        }\r\n\r\n        return decrypt ;\r\n    }\r\n\r\n\r\n    }\r\n\r\n\r\nI expect the equivalent bytearray to be produced in dart when provided with a string as input,and then writing the byte array to a tcp server.\r\n\r\nThank You in advance ","title":"is there a Dart Equivalent of the following Aes Encryption function in java","body":"<p>I have set up a server that is listening for an encrypted byte array through the java function mentioned below. Earlier i was using java (android) to build my app so it was easy using the same java function but i am unable to figure out what is the dart equivalent(flutter) of that function which takes a string as input and returns an AES encrypted byte array as output ,which i can write to the tcp socket .</p>\n\n<p>Also i'd really appreciate help on knowing how to write the generated byte array to the server and then read a similar response and decrypting it through dart (flutter) </p>\n\n<p>I have been successful in writing simple strings and receiving simple strings as input and output to the tcp server through dart but cant do the same for encrypted byte arrays . In java i used DataOutputStream to send the response to server like this </p>\n\n<pre><code>DataOutputStream dOut = newDataOutputStream(socket.getOutputStream());\n\n           byte[] s2 = Encrypt3.encrypt2(myString);\n\n           dOut.writeInt(s2.length); // write length of the message\n            dOut.write(s2);\n</code></pre>\n\n<p>Here is the java function i used for aes encryption </p>\n\n<pre><code>import java.security.Key;\n\nimport javax.crypto.Cipher;\n\nimport javax.crypto.spec.SecretKeySpec;\n\n\npublic class Encrypt3 {\npublic static String key = \"mykey\";\n\npublic static byte[] encrypt2(String text ){\n    String encrypt =\"\";\n\n    try{\n        // Create key and cipher\n        Key aesKey = new SecretKeySpec(key.getBytes(), \"AES\");\n        Cipher cipher = Cipher.getInstance(\"AES\");\n        // encrypt the text\n        cipher.init(Cipher.ENCRYPT_MODE, aesKey);\n        byte[] encrypted = cipher.doFinal(text.getBytes());\n        return encrypted ;\n    }catch(Exception e){\n        System.out.println(e);\n    }\n    return null ;\n}\n\n\npublic static String decrypt2(byte[] encrypted2){\n    String decrypt =\"\";\n    try{\n        Key aesKey = new SecretKeySpec(key.getBytes(), \"AES\");\n        Cipher cipher = Cipher.getInstance(\"AES\");\n        // decrypt the text\n        cipher.init(Cipher.DECRYPT_MODE, aesKey);\n        decrypt = new String(cipher.doFinal(encrypted2));\n    }catch(Exception e){\n        System.out.println(e);\n    }\n\n    return decrypt ;\n}\n\n\n}\n</code></pre>\n\n<p>I expect the equivalent bytearray to be produced in dart when provided with a string as input,and then writing the byte array to a tcp server.</p>\n\n<p>Thank You in advance </p>\n"},{"tags":["java","excel"],"comments":[{"owner":{"account_id":4113392,"reputation":5800,"user_id":3375670,"accept_rate":88,"display_name":"Robert Kock"},"score":0,"creation_date":1565184801,"post_id":57395665,"comment_id":101273044,"body_markdown":"Maybe I&#39;m missing something but within your method `write` you explicitely close the workbook.","body":"Maybe I&#39;m missing something but within your method <code>write</code> you explicitely close the workbook."},{"owner":{"account_id":15975093,"reputation":81,"user_id":11528218,"display_name":"CyberWolf"},"score":0,"creation_date":1565185802,"post_id":57395665,"comment_id":101273674,"body_markdown":"@RobertKock, would it be a matter of removing/commenting the close line? I though I code call `workbook.open()` as easily as I can `workbook.close()`, but it doesn&#39;t seem to be the case.","body":"@RobertKock, would it be a matter of removing/commenting the close line? I though I code call <code>workbook.open()</code> as easily as I can <code>workbook.close()</code>, but it doesn&#39;t seem to be the case."},{"owner":{"account_id":15975093,"reputation":81,"user_id":11528218,"display_name":"CyberWolf"},"score":0,"creation_date":1565186361,"post_id":57395665,"comment_id":101274042,"body_markdown":"I see from javadocs (https://poi.apache.org/apidocs/4.1/) that after XSSFWorkbook.close() &quot;no further operations, updates or reads should be performed on the document&quot;. It seems to call OPCPackage.close(), which &quot;Close the open, writable package and save its content&quot;. However, I don&#39;t understand what they mean by &quot;save its content&quot;. If I write workbook into a FileOutputStream, close file, then edit the workbook some more and then close it, those extra edits wouldn&#39;t influence the file, would they? So where does it save those edits?","body":"I see from javadocs (<a href=\"https://poi.apache.org/apidocs/4.1/\" rel=\"nofollow noreferrer\">poi.apache.org/apidocs/4.1</a>) that after XSSFWorkbook.close() &quot;no further operations, updates or reads should be performed on the document&quot;. It seems to call OPCPackage.close(), which &quot;Close the open, writable package and save its content&quot;. However, I don&#39;t understand what they mean by &quot;save its content&quot;. If I write workbook into a FileOutputStream, close file, then edit the workbook some more and then close it, those extra edits wouldn&#39;t influence the file, would they? So where does it save those edits?"},{"owner":{"account_id":15975093,"reputation":81,"user_id":11528218,"display_name":"CyberWolf"},"score":0,"creation_date":1565186422,"post_id":57395665,"comment_id":101274090,"body_markdown":"Also, what is a better/more memory-efficient approach - to never call workbook.close() and to always get it from the Map and then push to FileOutputStream or close the workbook variable after every edit and later load it from FileInputStream?","body":"Also, what is a better/more memory-efficient approach - to never call workbook.close() and to always get it from the Map and then push to FileOutputStream or close the workbook variable after every edit and later load it from FileInputStream?"}],"answers":[{"tags":[],"owner":{"account_id":16456381,"reputation":46,"user_id":11888468,"display_name":"charles"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1598516893,"creation_date":1565193867,"answer_id":57398388,"question_id":57395665,"body_markdown":"Instead of storing the workbook itself you can store the name of work book in list\r\n\r\n    private List&lt;String&gt; workbooks = new ArrayList();\r\n\r\nRewrite the createWorkbook to store only the name of the excel sheet\r\nRewrite the write method so it creates a new workbook as follows \r\n\r\n    public void write(List&lt;ExcelData&gt; data, String workbookName) {\r\n\r\n    Workbook workbook = new XSSFWorkbook();\r\n    CreationHelper createHelper = workbook.getCreationHelper();\r\n\r\n   ... write stuff\r\n\r\n     FileOutputStream fileOut = new FileOutputStream(workbookName + &quot;.xlsx&quot;);\r\n     workbook.write(fileOut);\r\n     fileOut.close();\r\n\r\n     workbook.close();\r\n    }","title":"Apache POI: Writing into excel with Java: opening Workbook, java.io.IOException: Cannot write data, document seems to have been closed already","body":"<p>Instead of storing the workbook itself you can store the name of work book in list</p>\n<pre><code>private List&lt;String&gt; workbooks = new ArrayList();\n</code></pre>\n<p>Rewrite the createWorkbook to store only the name of the excel sheet\nRewrite the write method so it creates a new workbook as follows</p>\n<pre><code>public void write(List&lt;ExcelData&gt; data, String workbookName) {\n\nWorkbook workbook = new XSSFWorkbook();\nCreationHelper createHelper = workbook.getCreationHelper();\n</code></pre>\n<p>... write stuff</p>\n<pre><code> FileOutputStream fileOut = new FileOutputStream(workbookName + &quot;.xlsx&quot;);\n workbook.write(fileOut);\n fileOut.close();\n\n workbook.close();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7117652,"reputation":1968,"user_id":5443319,"accept_rate":0,"display_name":"Ziaullhaq Savanur"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676867258,"creation_date":1676867258,"answer_id":75505274,"question_id":57395665,"body_markdown":"This error mainly occurs when we try to write the contents of ***already closed*** workbook.\r\n\r\n    public void writeToExcel(File file) throws IOException {\r\n        LOGGER.debug(&quot;Writing chunks data to excel {}&quot;, file);\r\n        try (FileOutputStream outputStream = new FileOutputStream(file)) {\r\n            workbook.write(outputStream);\r\n        } catch (IOException e) {\r\n            LOGGER.error(&quot;Exception raised while writing chunks of items {}&quot;, e.getLocalizedMessage());\r\n        } finally {\r\n            // This line will take of closing XSSFWorkbook along with SXSSFWorkbook\r\n            workbook.close();\r\n        }\r\n    }\r\n\r\nThis code is the one is throwing the following exception\r\n```\r\nException thrown is:\r\nException raised while writing chunks of items \r\n&quot;Cannot write data, document seems to have been closed already&quot; \r\n```\r\nWhy we were getting this exception?\r\nHave a look at this code\r\n\r\n     private void instructionSheet(Resource resource) {\r\n        try {\r\n            InputStream in = resource.getInputStream();\r\n            // This is try-with-resources block which is closing the XSSFWorkbook\r\n            try (XSSFWorkbook xssfwb = new XSSFWorkbook(OPCPackage.open(in))) {\r\n                workbook = new SXSSFWorkbook(xssfwb);\r\n            }\r\n        } catch (IOException | InvalidFormatException e) {\r\n            LOGGER.error(&quot;The instruction sheet failed to create {}&quot;, e.getLocalizedMessage());\r\n        }\r\n    }\r\n\r\n\r\n\r\nYou can notice that the ***second try block*** is try-with-resources block and is ***closing*** the workbook, Hence we were getting the exception.\r\n\r\nWe ***resolved*** it just by ***removing*** the second try block i.e\r\n\r\n    private void instructionSheet(Resource resource) {\r\n        try {\r\n            workbook = new SXSSFWorkbook(new XSSFWorkbook(OPCPackage.open(resource.getInputStream())));\r\n        } catch (IOException | InvalidFormatException e) {\r\n            LOGGER.error(&quot;The instruction sheet failed to create {}&quot;, e.getLocalizedMessage());\r\n        }\r\n\r\n    }\r\n\r\nYou can notice in the first code block of this answer that we are closing the work book after writing the content to the file. \r\n\r\nThe ***close*** method called at finally block will take care of closing ***XSSFWorkbook*** instance along with ***SXSSFWorkbook***.","title":"Apache POI: Writing into excel with Java: opening Workbook, java.io.IOException: Cannot write data, document seems to have been closed already","body":"<p>This error mainly occurs when we try to write the contents of <em><strong>already closed</strong></em> workbook.</p>\n<pre><code>public void writeToExcel(File file) throws IOException {\n    LOGGER.debug(&quot;Writing chunks data to excel {}&quot;, file);\n    try (FileOutputStream outputStream = new FileOutputStream(file)) {\n        workbook.write(outputStream);\n    } catch (IOException e) {\n        LOGGER.error(&quot;Exception raised while writing chunks of items {}&quot;, e.getLocalizedMessage());\n    } finally {\n        // This line will take of closing XSSFWorkbook along with SXSSFWorkbook\n        workbook.close();\n    }\n}\n</code></pre>\n<p>This code is the one is throwing the following exception</p>\n<pre><code>Exception thrown is:\nException raised while writing chunks of items \n&quot;Cannot write data, document seems to have been closed already&quot; \n</code></pre>\n<p>Why we were getting this exception?\nHave a look at this code</p>\n<pre><code> private void instructionSheet(Resource resource) {\n    try {\n        InputStream in = resource.getInputStream();\n        // This is try-with-resources block which is closing the XSSFWorkbook\n        try (XSSFWorkbook xssfwb = new XSSFWorkbook(OPCPackage.open(in))) {\n            workbook = new SXSSFWorkbook(xssfwb);\n        }\n    } catch (IOException | InvalidFormatException e) {\n        LOGGER.error(&quot;The instruction sheet failed to create {}&quot;, e.getLocalizedMessage());\n    }\n}\n</code></pre>\n<p>You can notice that the <em><strong>second try block</strong></em> is try-with-resources block and is <em><strong>closing</strong></em> the workbook, Hence we were getting the exception.</p>\n<p>We <em><strong>resolved</strong></em> it just by <em><strong>removing</strong></em> the second try block i.e</p>\n<pre><code>private void instructionSheet(Resource resource) {\n    try {\n        workbook = new SXSSFWorkbook(new XSSFWorkbook(OPCPackage.open(resource.getInputStream())));\n    } catch (IOException | InvalidFormatException e) {\n        LOGGER.error(&quot;The instruction sheet failed to create {}&quot;, e.getLocalizedMessage());\n    }\n\n}\n</code></pre>\n<p>You can notice in the first code block of this answer that we are closing the work book after writing the content to the file.</p>\n<p>The <em><strong>close</strong></em> method called at finally block will take care of closing <em><strong>XSSFWorkbook</strong></em> instance along with <em><strong>SXSSFWorkbook</strong></em>.</p>\n"}],"owner":{"account_id":15975093,"reputation":81,"user_id":11528218,"display_name":"CyberWolf"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4930,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":57398388,"answer_count":2,"score":1,"last_activity_date":1676867258,"creation_date":1565184599,"question_id":57395665,"body_markdown":"I have a class that stores Excel workbooks:\r\n\r\n```\r\nprivate Map&lt;String, Workbook&gt; workbooks = new HashMap();\r\n\r\npublic Workbook createWorkbook(String name)  {\r\n    Workbook workbook = new XSSFWorkbook();\r\n    workbooks.put(name, workbook);\r\n    return workbook;\r\n}\r\n```\r\n\r\nand a method that writes into a workbook with a specified name:\r\n\r\n```\r\npublic void write(List&lt;ExcelData&gt; data, String workbookName) {\r\n   Workbook workbook = workbooks.get(workbookName);\r\n   CreationHelper createHelper = workbook.getCreationHelper();\r\n\r\n   ... write stuff\r\n\r\n   FileOutputStream fileOut = new FileOutputStream(workbookName + &quot;.xlsx&quot;);\r\n   workbook.write(fileOut);\r\n   fileOut.close();\r\n\r\n   workbook.close();\r\n}\r\n```\r\nHowever when I try to call method `write` two times for the same workbook:\r\n\r\n```\r\ntestExcel.write(data, &quot;Default&quot;);\r\ntestExcel.write(data1, &quot;Default&quot;);\r\n```\r\n\r\nI get\r\n\r\n```\r\nException in thread &quot;main&quot; java.io.IOException: Cannot write data, document seems to have been closed already\r\n```\r\nerror. I know I can open existing Excel workbook like this:\r\n```\r\nFileInputStream inputStream = new FileInputStream(new File(excelFilePath));\r\nWorkbook workbook = WorkbookFactory.create(inputStream);\r\n```\r\nBut I was wondering if there&#39;s a way to bypass it by storing a `Workbook` variable. What are the inner mechanics at play? Is the variable becomes invalid after `workbook.write()` is called?","title":"Apache POI: Writing into excel with Java: opening Workbook, java.io.IOException: Cannot write data, document seems to have been closed already","body":"<p>I have a class that stores Excel workbooks:</p>\n\n<pre><code>private Map&lt;String, Workbook&gt; workbooks = new HashMap();\n\npublic Workbook createWorkbook(String name)  {\n    Workbook workbook = new XSSFWorkbook();\n    workbooks.put(name, workbook);\n    return workbook;\n}\n</code></pre>\n\n<p>and a method that writes into a workbook with a specified name:</p>\n\n<pre><code>public void write(List&lt;ExcelData&gt; data, String workbookName) {\n   Workbook workbook = workbooks.get(workbookName);\n   CreationHelper createHelper = workbook.getCreationHelper();\n\n   ... write stuff\n\n   FileOutputStream fileOut = new FileOutputStream(workbookName + \".xlsx\");\n   workbook.write(fileOut);\n   fileOut.close();\n\n   workbook.close();\n}\n</code></pre>\n\n<p>However when I try to call method <code>write</code> two times for the same workbook:</p>\n\n<pre><code>testExcel.write(data, \"Default\");\ntestExcel.write(data1, \"Default\");\n</code></pre>\n\n<p>I get</p>\n\n<pre><code>Exception in thread \"main\" java.io.IOException: Cannot write data, document seems to have been closed already\n</code></pre>\n\n<p>error. I know I can open existing Excel workbook like this:</p>\n\n<pre><code>FileInputStream inputStream = new FileInputStream(new File(excelFilePath));\nWorkbook workbook = WorkbookFactory.create(inputStream);\n</code></pre>\n\n<p>But I was wondering if there's a way to bypass it by storing a <code>Workbook</code> variable. What are the inner mechanics at play? Is the variable becomes invalid after <code>workbook.write()</code> is called?</p>\n"},{"tags":["java","maven","github","gwt"],"owner":{"account_id":412334,"reputation":33756,"user_id":785349,"accept_rate":94,"display_name":"quarks"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676867124,"creation_date":1676867124,"question_id":75505269,"body_markdown":"When running a GWT app through the Jetty server:\r\n\r\n`./mvnw jetty:run -pl app-server -am -Denv=dev`\r\n\r\nWithin the container of Github Codespaces, it automatically makes a proxy to forward the internal port to the outside world like:\r\n\r\n`https://{username}-humble-couscous-{some-id}-8081.preview.app.github.dev/`\r\n\r\nNow when this page loads, it tries to load SuperDev Mode at port `9876` as such:\r\n\r\n`https://{username}-humble-couscous-{some-id}-8081.preview.app.github.dev:9876`\r\n\r\nBut, the port `9876` is proxied to a different URL, like `https://{username}-humble-couscous-{some-other-id}-9876.preview.app.github.dev`\r\n\r\nNow I&#39;d like to ask if there&#39;s a way to change the behavior of SDM in maven as such the project would load the SDM from within a given proxy or something similar. \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Y8okW.jpg","title":"How to change the behavior of SuperDevMode to make it run on Github Codespaces","body":"<p>When running a GWT app through the Jetty server:</p>\n<p><code>./mvnw jetty:run -pl app-server -am -Denv=dev</code></p>\n<p>Within the container of Github Codespaces, it automatically makes a proxy to forward the internal port to the outside world like:</p>\n<p><code>https://{username}-humble-couscous-{some-id}-8081.preview.app.github.dev/</code></p>\n<p>Now when this page loads, it tries to load SuperDev Mode at port <code>9876</code> as such:</p>\n<p><code>https://{username}-humble-couscous-{some-id}-8081.preview.app.github.dev:9876</code></p>\n<p>But, the port <code>9876</code> is proxied to a different URL, like <code>https://{username}-humble-couscous-{some-other-id}-9876.preview.app.github.dev</code></p>\n<p>Now I'd like to ask if there's a way to change the behavior of SDM in maven as such the project would load the SDM from within a given proxy or something similar.</p>\n<p><a href=\"https://i.stack.imgur.com/Y8okW.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Y8okW.jpg\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","eclipse","intellij-idea","automation"],"comments":[{"owner":{"account_id":3595277,"reputation":44036,"user_id":3000206,"accept_rate":98,"display_name":"Carcigenicate"},"score":0,"creation_date":1489093793,"post_id":42705422,"comment_id":72532915,"body_markdown":"I&#39;ve been using IntelliJ for half a year now, and I&#39;ve never seen an option to do this; never looked either though. Aren&#39;t a client and server arguably part of the same project? I always just divide my project&#39;s package into client and server directories.","body":"I&#39;ve been using IntelliJ for half a year now, and I&#39;ve never seen an option to do this; never looked either though. Aren&#39;t a client and server arguably part of the same project? I always just divide my project&#39;s package into client and server directories."},{"owner":{"account_id":1079173,"reputation":42590,"user_id":1076640,"display_name":"yshavit"},"score":2,"creation_date":1489093793,"post_id":42705422,"comment_id":72532917,"body_markdown":"If you always need them both open, why not add both modules to the same one project? You can do that even if they&#39;re in separate directories/repos/whatever. Just import module.","body":"If you always need them both open, why not add both modules to the same one project? You can do that even if they&#39;re in separate directories/repos/whatever. Just import module."},{"owner":{"account_id":3165787,"reputation":941,"user_id":2675845,"accept_rate":61,"display_name":"RuuddR"},"score":0,"creation_date":1489093907,"post_id":42705422,"comment_id":72532966,"body_markdown":"That&#39;s something I could do. Just divide them into 2 modules under the same project. Then comes my second question: is it possible to push and pull these modules seperately to github?","body":"That&#39;s something I could do. Just divide them into 2 modules under the same project. Then comes my second question: is it possible to push and pull these modules seperately to github?"},{"owner":{"account_id":8955483,"reputation":101,"user_id":6679991,"display_name":"Michael von Wenckstern"},"score":0,"creation_date":1489094110,"post_id":42705422,"comment_id":72533067,"body_markdown":"If your project (module) has submodules (e.g. as in maven), than you can open just the submodule (e.g. server or client) by calling File -&gt; New Project from Existing Sources. Than you can open both with different windows. (But later on you need to do two clicks)","body":"If your project (module) has submodules (e.g. as in maven), than you can open just the submodule (e.g. server or client) by calling File -&gt; New Project from Existing Sources. Than you can open both with different windows. (But later on you need to do two clicks)"},{"owner":{"account_id":3165787,"reputation":941,"user_id":2675845,"accept_rate":61,"display_name":"RuuddR"},"score":0,"creation_date":1489094224,"post_id":42705422,"comment_id":72533117,"body_markdown":"Yeah, that&#39;s what have been bothering me. I just want to be able to quickly load up the server and client at the same time. I think I&#39;ll just make 2 modules, one for the server and one for the client. Is it possible to push and pull these modules seperately to github?","body":"Yeah, that&#39;s what have been bothering me. I just want to be able to quickly load up the server and client at the same time. I think I&#39;ll just make 2 modules, one for the server and one for the client. Is it possible to push and pull these modules seperately to github?"},{"owner":{"account_id":38369,"reputation":335,"user_id":110078,"display_name":"David Zimmerman"},"score":0,"creation_date":1489095347,"post_id":42705422,"comment_id":72533673,"body_markdown":"file -&gt; open   and then in the dialog, choose new window.  That will leave the already open project window alone and open a new window for the next project","body":"file -&gt; open   and then in the dialog, choose new window.  That will leave the already open project window alone and open a new window for the next project"},{"owner":{"account_id":3165787,"reputation":941,"user_id":2675845,"accept_rate":61,"display_name":"RuuddR"},"score":0,"creation_date":1489095434,"post_id":42705422,"comment_id":72533732,"body_markdown":"@DavidZimmerman This is what I&#39;ve been doing constanlty, but I think there is a better way.","body":"@DavidZimmerman This is what I&#39;ve been doing constanlty, but I think there is a better way."},{"owner":{"account_id":350114,"reputation":12129,"user_id":685796,"display_name":"Meo"},"score":0,"creation_date":1489095529,"post_id":42705422,"comment_id":72533776,"body_markdown":"The better way is using a shortcut. Or closing IntelliJ by File | Exit, so it reopens both projects on start.","body":"The better way is using a shortcut. Or closing IntelliJ by File | Exit, so it reopens both projects on start."},{"owner":{"account_id":3165787,"reputation":941,"user_id":2675845,"accept_rate":61,"display_name":"RuuddR"},"score":0,"creation_date":1489095561,"post_id":42705422,"comment_id":72533792,"body_markdown":"You don&#39;t suggest using modules?","body":"You don&#39;t suggest using modules?"},{"owner":{"account_id":350114,"reputation":12129,"user_id":685796,"display_name":"Meo"},"score":0,"creation_date":1489095626,"post_id":42705422,"comment_id":72533827,"body_markdown":"Sure, use modules, what&#39;s the problem with that?","body":"Sure, use modules, what&#39;s the problem with that?"},{"owner":{"account_id":3165787,"reputation":941,"user_id":2675845,"accept_rate":61,"display_name":"RuuddR"},"score":0,"creation_date":1489095654,"post_id":42705422,"comment_id":72533844,"body_markdown":"I&#39;m not sure if I can push and pull the modules seperately, is that possible?","body":"I&#39;m not sure if I can push and pull the modules seperately, is that possible?"},{"owner":{"account_id":350114,"reputation":12129,"user_id":685796,"display_name":"Meo"},"score":0,"creation_date":1489095774,"post_id":42705422,"comment_id":72533909,"body_markdown":"Why don&#39;t you just try it?","body":"Why don&#39;t you just try it?"},{"owner":{"account_id":3165787,"reputation":941,"user_id":2675845,"accept_rate":61,"display_name":"RuuddR"},"score":0,"creation_date":1489097237,"post_id":42705422,"comment_id":72534626,"body_markdown":"I can&#39;t import a repository into a module, so I don&#39;t think this is possible.","body":"I can&#39;t import a repository into a module, so I don&#39;t think this is possible."},{"owner":{"account_id":36734,"reputation":392137,"user_id":104891,"display_name":"CrazyCoder"},"score":0,"creation_date":1489181850,"post_id":42705422,"comment_id":72575865,"body_markdown":"You can set separate VCS roots per modules, so it&#39;s not a problem, one module can even be in Git, another in Subversion.","body":"You can set separate VCS roots per modules, so it&#39;s not a problem, one module can even be in Git, another in Subversion."},{"owner":{"account_id":3165787,"reputation":941,"user_id":2675845,"accept_rate":61,"display_name":"RuuddR"},"score":0,"creation_date":1489182031,"post_id":42705422,"comment_id":72575942,"body_markdown":"Okay, and do you know how to do that?","body":"Okay, and do you know how to do that?"}],"answers":[{"comments":[{"owner":{"account_id":44572,"reputation":7100,"user_id":130910,"accept_rate":50,"display_name":"vaughan"},"score":0,"creation_date":1509879304,"post_id":47120690,"comment_id":81191086,"body_markdown":"Maybe it can be improved by using some `open` flags specified here: http://brettterpstra.com/2014/08/06/shell-tricks-the-os-x-open-command/","body":"Maybe it can be improved by using some <code>open</code> flags specified here: <a href=\"http://brettterpstra.com/2014/08/06/shell-tricks-the-os-x-open-command/\" rel=\"nofollow noreferrer\">brettterpstra.com/2014/08/06/shell-tricks-the-os-x-open-comm&zwnj;&#8203;and</a>"}],"tags":[],"owner":{"account_id":44572,"reputation":7100,"user_id":130910,"accept_rate":50,"display_name":"vaughan"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1509879401,"creation_date":1509879039,"answer_id":47120690,"question_id":42705422,"body_markdown":"Use CLI. Add `/path/to/intellij.app/Contents/MacOS/idea` to your `PATH`.\r\n\r\n    idea ~/dev/a; sleep 1; idea ~/dev/b\r\n\r\nDidn&#39;t work for me if I didn&#39;t sleep.\r\n\r\n---\r\n\r\nWith JetBrains Toolbox the executable is in a strange place so I use this config in my `~/.bashrc`. You have to update the version number when installing new versions in the toolbox.\r\n\r\n&lt;!-- language: lang-sh --&gt;\r\n\r\n    export LATEST_IDEA_VERSION_NUMBER=&quot;ch-0/173.3531.6/IntelliJ\\ IDEA\\ 2017.3\\ EAP.app&quot;\r\n    export JETBRAINS_TOOLBOX_ROOT=&quot;${HOME}/Library/Application\\ Support/JetBrains/Toolbox/apps&quot;\r\n    export LATEST_IDEA_VERSION_CLI=&quot;${JETBRAINS_TOOLBOX_ROOT}/IDEA-U/${LATEST_IDEA_VERSION_NUMBER}/Contents/MacOS/idea&quot;\r\n    alias idea=&quot;open -a ${LATEST_IDEA_VERSION_CLI}&quot;\r\n\r\n\r\nFor other platforms see: https://www.jetbrains.com/help/idea/opening-files-from-command-line.html","title":"Intellij, open two projects at once","body":"<p>Use CLI. Add <code>/path/to/intellij.app/Contents/MacOS/idea</code> to your <code>PATH</code>.</p>\n\n<pre><code>idea ~/dev/a; sleep 1; idea ~/dev/b\n</code></pre>\n\n<p>Didn't work for me if I didn't sleep.</p>\n\n<hr>\n\n<p>With JetBrains Toolbox the executable is in a strange place so I use this config in my <code>~/.bashrc</code>. You have to update the version number when installing new versions in the toolbox.</p>\n\n<pre class=\"lang-sh prettyprint-override\"><code>export LATEST_IDEA_VERSION_NUMBER=\"ch-0/173.3531.6/IntelliJ\\ IDEA\\ 2017.3\\ EAP.app\"\nexport JETBRAINS_TOOLBOX_ROOT=\"${HOME}/Library/Application\\ Support/JetBrains/Toolbox/apps\"\nexport LATEST_IDEA_VERSION_CLI=\"${JETBRAINS_TOOLBOX_ROOT}/IDEA-U/${LATEST_IDEA_VERSION_NUMBER}/Contents/MacOS/idea\"\nalias idea=\"open -a ${LATEST_IDEA_VERSION_CLI}\"\n</code></pre>\n\n<p>For other platforms see: <a href=\"https://www.jetbrains.com/help/idea/opening-files-from-command-line.html\" rel=\"nofollow noreferrer\">https://www.jetbrains.com/help/idea/opening-files-from-command-line.html</a></p>\n"},{"tags":[],"owner":{"account_id":11940305,"reputation":598,"user_id":8737329,"display_name":"Matthias Bohlen"},"comment_count":0,"down_vote_count":1,"up_vote_count":11,"is_accepted":false,"score":10,"last_activity_date":1676866970,"creation_date":1582300981,"answer_id":60342343,"question_id":42705422,"body_markdown":"This is from [the Webstorm docs][1], but it also works for IntelliJ Idea. I have set the option to &quot;Confirm window&quot; so that Idea asks me every time I want to switch to another project whether I want it in a new window:\r\n\r\n# Changing the project opening policy\r\n\r\nIn the Settings/Preferences dialog S, go to Appearance and Behavior | System Settings.\r\n\r\nIn the Project opening area, select the project opening policy.\r\n\r\n- **Confirm window to open project in:** This option is selected by default. WebStorm displays a dialog where you can choose to open the project in a new window, reuse the existing window, or add the new project to the currently opened one.\r\n\r\n- **Open project in new window:** Select this option to silently open each new project in a new window.\r\n\r\n- **Open project in the same window:** Select this option to silently close the project opened in the current window and open a new project in it.\r\n\r\n[![enter image description here][2]][2]\r\n(Screenshot: GoLand 2022.3.2)\r\n\r\n  [1]: https://www.jetbrains.com/help/webstorm/opening-reopening-and-closing-projects.html#ws_multiple_project_select_opening_policy\r\n  [2]: https://i.stack.imgur.com/pNDgt.png","title":"Intellij, open two projects at once","body":"<p>This is from <a href=\"https://www.jetbrains.com/help/webstorm/opening-reopening-and-closing-projects.html#ws_multiple_project_select_opening_policy\" rel=\"nofollow noreferrer\">the Webstorm docs</a>, but it also works for IntelliJ Idea. I have set the option to &quot;Confirm window&quot; so that Idea asks me every time I want to switch to another project whether I want it in a new window:</p>\n<h1>Changing the project opening policy</h1>\n<p>In the Settings/Preferences dialog S, go to Appearance and Behavior | System Settings.</p>\n<p>In the Project opening area, select the project opening policy.</p>\n<ul>\n<li><p><strong>Confirm window to open project in:</strong> This option is selected by default. WebStorm displays a dialog where you can choose to open the project in a new window, reuse the existing window, or add the new project to the currently opened one.</p>\n</li>\n<li><p><strong>Open project in new window:</strong> Select this option to silently open each new project in a new window.</p>\n</li>\n<li><p><strong>Open project in the same window:</strong> Select this option to silently close the project opened in the current window and open a new project in it.</p>\n</li>\n</ul>\n<p><a href=\"https://i.stack.imgur.com/pNDgt.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pNDgt.png\" alt=\"enter image description here\" /></a>\n(Screenshot: GoLand 2022.3.2)</p>\n"},{"tags":[],"owner":{"account_id":115273,"reputation":982,"user_id":302751,"accept_rate":85,"display_name":"pauloh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1606679461,"creation_date":1606678332,"answer_id":65064275,"question_id":42705422,"body_markdown":"Use can use this script do open all projects in background tasks\r\n\r\n    #!/bin/bash\r\n    \r\n    # Run a command in the background.\r\n    _evalBg() {\r\n        eval &quot;$@&quot; &amp;&gt;/dev/null &amp; disown;\r\n    }\r\n    \r\n    # in some cases is necessary open the application before projects \r\n    webstorm &amp;&amp; sleep 1;\r\n\r\n    _evalBg &quot;webstorm /home/user/development/projects/first&quot;;\r\n    _evalBg &quot;webstorm /home/user/development/projects/second&quot;;\r\n\r\nThis script is assembly with informations provided by [executing shell command in background from script](https://stackoverflow.com/questions/3683910/executing-shell-command-in-background-from-script) questions. All merits to the original author.\r\n","title":"Intellij, open two projects at once","body":"<p>Use can use this script do open all projects in background tasks</p>\n<pre><code>#!/bin/bash\n\n# Run a command in the background.\n_evalBg() {\n    eval &quot;$@&quot; &amp;&gt;/dev/null &amp; disown;\n}\n\n# in some cases is necessary open the application before projects \nwebstorm &amp;&amp; sleep 1;\n\n_evalBg &quot;webstorm /home/user/development/projects/first&quot;;\n_evalBg &quot;webstorm /home/user/development/projects/second&quot;;\n</code></pre>\n<p>This script is assembly with informations provided by <a href=\"https://stackoverflow.com/questions/3683910/executing-shell-command-in-background-from-script\">executing shell command in background from script</a> questions. All merits to the original author.</p>\n"},{"tags":[],"owner":{"account_id":3583493,"reputation":161,"user_id":2991134,"display_name":"DeepanshuJ"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664333439,"creation_date":1664333439,"answer_id":73875685,"question_id":42705422,"body_markdown":"After long due now, IntelliJ Idea now supports multiple windows from IntelliJ IDEA 2022.2.2 (Ultimate Edition), earlier we used to add project as module, but thats not the right way. Follow these steps your life would be so easy.\r\n\r\nSteps to follow to open multiple windows in IntelliJ IDEA\r\n\r\n 1. Download latest version of IntelliJ IDEA from here.\r\n 2. Once download, restore default setting using below steps:\r\nFile &gt; Manage IDE settings &gt; Restore default settings\r\n\r\n[![enter image description here][1]][1]\r\n\r\n 3. Now when you open a new project you will see this window:\r\n\r\n[![enter image description here][2]][2]\r\nReference: [CodeDaily][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/fJIp9.png\r\n  [2]: https://i.stack.imgur.com/ha7rN.png\r\n  [3]: https://codedaily.in/how-to-open-multiple-projects-in-intellij-idea/","title":"Intellij, open two projects at once","body":"<p>After long due now, IntelliJ Idea now supports multiple windows from IntelliJ IDEA 2022.2.2 (Ultimate Edition), earlier we used to add project as module, but thats not the right way. Follow these steps your life would be so easy.</p>\n<p>Steps to follow to open multiple windows in IntelliJ IDEA</p>\n<ol>\n<li>Download latest version of IntelliJ IDEA from here.</li>\n<li>Once download, restore default setting using below steps:\nFile &gt; Manage IDE settings &gt; Restore default settings</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/fJIp9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fJIp9.png\" alt=\"enter image description here\" /></a></p>\n<ol start=\"3\">\n<li>Now when you open a new project you will see this window:</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/ha7rN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ha7rN.png\" alt=\"enter image description here\" /></a>\nReference: <a href=\"https://codedaily.in/how-to-open-multiple-projects-in-intellij-idea/\" rel=\"nofollow noreferrer\">CodeDaily</a></p>\n"}],"owner":{"account_id":3165787,"reputation":941,"user_id":2675845,"accept_rate":61,"display_name":"RuuddR"},"comment_count":15,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14348,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":47120690,"answer_count":4,"score":7,"last_activity_date":1676866970,"creation_date":1489093668,"question_id":42705422,"body_markdown":"This is not one of the many questions about having two projects in the same window, like eclipse. What I want to ask is, is it possible to open 2 projects when you click one. Here is an image to describe what I want to do:\r\n[![IntelliJ interface with markings on it][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/uTkKh.png\r\nSo when I press one of the projects in the red rectangle that it opens both in the rectangle, because I always need a server and a client running at the same time, so I was thinking, maybe there is a way to automate this process and just click one of the two and it opens two.","title":"Intellij, open two projects at once","body":"<p>This is not one of the many questions about having two projects in the same window, like eclipse. What I want to ask is, is it possible to open 2 projects when you click one. Here is an image to describe what I want to do:\n<a href=\"https://i.stack.imgur.com/uTkKh.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/uTkKh.png\" alt=\"IntelliJ interface with markings on it\"></a></p>\n\n<p>So when I press one of the projects in the red rectangle that it opens both in the rectangle, because I always need a server and a client running at the same time, so I was thinking, maybe there is a way to automate this process and just click one of the two and it opens two.</p>\n"},{"tags":["java","android","json","serialization","gson"],"comments":[{"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":2,"creation_date":1676824521,"post_id":75501527,"comment_id":133210734,"body_markdown":"I recommend posting the stack trace as text, not an image. If you put a breakpoint inside your `serialize()` method, does `src` look correct? It feels like there is some issue with the `LocalDateTime` itself. Also, which `LocalDateTime` are you using? There are a few options for that, including Java 8 desugaring and ThreeTenABP.","body":"I recommend posting the stack trace as text, not an image. If you put a breakpoint inside your <code>serialize()</code> method, does <code>src</code> look correct? It feels like there is some issue with the <code>LocalDateTime</code> itself. Also, which <code>LocalDateTime</code> are you using? There are a few options for that, including Java 8 desugaring and ThreeTenABP."},{"owner":{"account_id":5384013,"reputation":6035,"user_id":4288506,"accept_rate":77,"display_name":"Marcono1234"},"score":0,"creation_date":1676830987,"post_id":75501527,"comment_id":133212047,"body_markdown":"If you just run `LocalDateTime.now().format(DateTimeFormatter.ISO_LOCAL_DATE_TIME)`, does the same exception occur then as well? In that case this is probably unrelated to Gson.","body":"If you just run <code>LocalDateTime.now().format(DateTimeFormatter.ISO_LOCAL_DATE_&zwnj;&#8203;TIME)</code>, does the same exception occur then as well? In that case this is probably unrelated to Gson."},{"owner":{"account_id":19621186,"reputation":33,"user_id":14361633,"display_name":"Tr&#226;n V&#245; Bo"},"score":0,"creation_date":1676907857,"post_id":75501527,"comment_id":133227166,"body_markdown":"Hi CommonsWare, I debugged and all data seems to be correct. I use the LocalDateTime which is from java.time package. I&#39;ll read about the desugaring and ThreeTenABP. Thank you so much","body":"Hi CommonsWare, I debugged and all data seems to be correct. I use the LocalDateTime which is from java.time package. I&#39;ll read about the desugaring and ThreeTenABP. Thank you so much"},{"owner":{"account_id":19621186,"reputation":33,"user_id":14361633,"display_name":"Tr&#226;n V&#245; Bo"},"score":0,"creation_date":1676907980,"post_id":75501527,"comment_id":133227207,"body_markdown":"Hi, Marcono1234, yes. the exception is thrown. I need to tried again. I believe it is not because of Gson but the compatibility of dependencies and Android platform... Still, I need to research more. Thank you for your time.","body":"Hi, Marcono1234, yes. the exception is thrown. I need to tried again. I believe it is not because of Gson but the compatibility of dependencies and Android platform... Still, I need to research more. Thank you for your time."},{"owner":{"account_id":5384013,"reputation":6035,"user_id":4288506,"accept_rate":77,"display_name":"Marcono1234"},"score":0,"creation_date":1676925424,"post_id":75501527,"comment_id":133231718,"body_markdown":"@Tr&#226;nV&#245;Bo, I would also recommend using [`GsonBuilder.addReflectionAccessFilter(ReflectionAccessFilter.BLOCK_ALL_PLATFORM)`](https://javadoc.io/doc/com.google.code.gson/gson/latest/com.google.gson/com/google/gson/GsonBuilder.html#addReflectionAccessFilter(com.google.gson.ReflectionAccessFilter)) to avoid using Gson&#39;s reflection-based adapter for Android library classes by accident. Otherwise you rely on their implementation details, which could differ between Android versions.","body":"@Tr&#226;nV&#245;Bo, I would also recommend using <a href=\"https://javadoc.io/doc/com.google.code.gson/gson/latest/com.google.gson/com/google/gson/GsonBuilder.html#addReflectionAccessFilter(com.google.gson.ReflectionAccessFilter)\" rel=\"nofollow noreferrer\"><code>GsonBuilder.addReflectionAccessFilter(ReflectionAccessFilter&zwnj;&#8203;.BLOCK_ALL_PLATFORM)</code></a> to avoid using Gson&#39;s reflection-based adapter for Android library classes by accident. Otherwise you rely on their implementation details, which could differ between Android versions."}],"answers":[{"comments":[{"owner":{"account_id":19621186,"reputation":33,"user_id":14361633,"display_name":"Tr&#226;n V&#245; Bo"},"score":0,"creation_date":1676858518,"post_id":75502641,"comment_id":133216256,"body_markdown":"I am so sorry, the &quot;//For example: 2022-02-02T11:11:510Z&quot; comment I was using to illustrate the data that was not empty in LocalDateTime type. I was misused between LocalDateTime and Instant. So now, I am updated my question again. (Thank you for pointing out this mistake). I&#39;ll try with Instant and update to you. Just FYI, beside I also want to understand why Gson cannot serialize LocalDateTime type in android (You can see that the data was not empty, but the logs thrown out said that it cannot be parsed because it was null). Thank you so much for time helping me out.","body":"I am so sorry, the &quot;//For example: 2022-02-02T11:11:510Z&quot; comment I was using to illustrate the data that was not empty in LocalDateTime type. I was misused between LocalDateTime and Instant. So now, I am updated my question again. (Thank you for pointing out this mistake). I&#39;ll try with Instant and update to you. Just FYI, beside I also want to understand why Gson cannot serialize LocalDateTime type in android (You can see that the data was not empty, but the logs thrown out said that it cannot be parsed because it was null). Thank you so much for time helping me out."},{"owner":{"account_id":19621186,"reputation":33,"user_id":14361633,"display_name":"Tr&#226;n V&#245; Bo"},"score":0,"creation_date":1676908718,"post_id":75502641,"comment_id":133227435,"body_markdown":"Hi Basil, I tried with the Instant and it worked. However, I would love to know more about why I cannot serialize java.time.LocalDateTime with Gson. I searched the documents and they did not seem to fit my curiosity. I believe it relates to the Android Java APIs compatibility as well as Android SDK configuration... It would be great if you can give me some more clues like keywords, and terms.. so that I could research more about it. Thank you so much for your time.","body":"Hi Basil, I tried with the Instant and it worked. However, I would love to know more about why I cannot serialize java.time.LocalDateTime with Gson. I searched the documents and they did not seem to fit my curiosity. I believe it relates to the Android Java APIs compatibility as well as Android SDK configuration... It would be great if you can give me some more clues like keywords, and terms.. so that I could research more about it. Thank you so much for your time."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1676913349,"post_id":75502641,"comment_id":133228745,"body_markdown":"@Tr&#226;nV&#245;Bo What happened when you tried writing a type adapter class for `LocalDateTime` in a fashion similar to what I showed you in a type adapter for `Instant`?","body":"@Tr&#226;nV&#245;Bo What happened when you tried writing a type adapter class for <code>LocalDateTime</code> in a fashion similar to what I showed you in a type adapter for <code>Instant</code>?"}],"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":3,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1676847060,"creation_date":1676832813,"answer_id":75502641,"question_id":75501527,"body_markdown":"# Square peg in a round hole\r\n\r\nWrong class. Use `Instant`, not `LocalDateTime`. \r\n\r\n```java\r\npublic class Person {\r\n    private String name;\r\n    private Instant createdAt;\r\n    \r\n}\r\n```\r\n\r\n\r\nYour input `&quot;2022-02-02T11:11:510Z&quot;` has a `Z` on the end. That letter indicates an offset from UTC of zero hours-minutes-seconds. \r\n\r\n    Instant instant = Instant.parse( &quot;2022-02-02T11:11:510Z&quot; ) ;\r\n\r\nThe `LocalDateTime` lacks any concept of offset or time zone. So that class cannot represent a moment, is not a specific point on the timeline. That class cannot represent the meaning intended by your input. That class cannot be used to record the moment something was created. \r\n\r\nYour input string complies with ISO 8601 standard. See Wikipedia. \r\n\r\nYou showed line of code:\r\n\r\n&gt;`Person person = new Person(&quot;John Doe&quot;, LocalDateTime.now());`\r\n\r\nI cannot imagine a case where calling `LocalDateTime.now` is the right thing to do. \r\n\r\nChange to:\r\n\r\n    Person person = new Person( &quot;John Doe&quot; , Instant.now() ) ;\r\n\r\n## Example code\r\n\r\nI am no expert on [Gson][1]. But I seem to have gotten the following to work.\r\n\r\nFor brevity, let&#39;s define your `Person` class as a [record][2]. I am pleased to see that the current version 2.10.1 of Gson seems to be working well with records.\r\n\r\n```java\r\npackage work.basil.example.gson;\r\n\r\nimport java.time.Instant;\r\n\r\npublic record Person( String name , Instant createdAt ) { }\r\n```\r\n\r\nApparently the only date-time type adapter bundled with GSON is for `java.util.Date`. That terrible legacy class should be avoided. Use only *java.time* classes.\r\n\r\nWe are using `java.time.Instant`. So we need to write our own type adapter. You can find 3rd party open-source type adapter implementations. But writing your own for `Instant` is simple enough. \r\n\r\nThe *java.time* classes by default use [ISO 8601][3] standard formats when parsing/generating text. So we will use that standard.\r\n\r\n```java\r\npackage work.basil.example.gson;\r\n\r\nimport com.google.gson.TypeAdapter;\r\nimport com.google.gson.stream.JsonReader;\r\nimport com.google.gson.stream.JsonWriter;\r\n\r\nimport java.io.IOException;\r\nimport java.time.Instant;\r\n\r\npublic class Gson_InstantTypeAdapter extends TypeAdapter &lt; Instant &gt;\r\n{\r\n    @Override\r\n    public void write ( JsonWriter jsonWriter , Instant instant ) throws IOException\r\n    {\r\n        jsonWriter.value( instant.toString() );  // Writes in standard ISO 8601 format.\r\n    }\r\n\r\n    @Override\r\n    public Instant read ( JsonReader jsonReader ) throws IOException\r\n    {\r\n        return Instant.parse( jsonReader.nextString() );   // Parses standard ISO 8601 format.\r\n    }\r\n}\r\n```\r\n\r\nNow we write an app to exercise these classes.\r\n\r\nFirst, define a `Gson` object to be using for generating and parsing JSON text.\r\n\r\n```java\r\nGson gson =\r\n        new GsonBuilder()\r\n                .registerTypeAdapter( Instant.class , new Gson_InstantTypeAdapter() )\r\n                .create();\r\n```\r\n\r\nWrite some JSON.\r\n\r\n```java\r\n// Write to JSON.\r\nPerson person = new Person( &quot;John Doe&quot; , Instant.now() ); //For example: 2022-02-02T11:11:510Z\r\nString personAsJson = gson.toJson( person );\r\n```\r\n\r\n&gt;personAsJson = {&quot;name&quot;:&quot;John Doe&quot;,&quot;createdAt&quot;:&quot;2023-02-19T22:47:42.566132Z&quot;}\r\n\r\nAnd read some JSON.\r\n\r\n```java\r\n// Parse JSON.\r\nPerson p = gson.fromJson( personAsJson , Person.class );\r\n```\r\n\r\n&gt;p.toString() = Person[name=John Doe, createdAt=2023-02-19T22:47:42.566132Z]\r\n\r\nBring that code together.\r\n\r\n```java\r\npackage work.basil.example.gson;\r\n\r\nimport com.google.gson.*;\r\n\r\nimport java.time.Instant;\r\n\r\npublic class App\r\n{\r\n    public static void main ( String[] args )\r\n    {\r\n        App app = new App();\r\n        app.demo();\r\n    }\r\n\r\n    private void demo ( )\r\n    {\r\n        Gson gson =\r\n                new GsonBuilder()\r\n                        .registerTypeAdapter( Instant.class , new Gson_InstantTypeAdapter() )\r\n                        .create();\r\n\r\n        // Write to JSON.\r\n        Person person = new Person( &quot;John Doe&quot; , Instant.now() ); //For example: 2022-02-02T11:11:510Z\r\n        String personAsJson = gson.toJson( person );\r\n\r\n        System.out.println( &quot;personAsJson = &quot; + personAsJson );\r\n\r\n        // Parse JSON.\r\n        Person p = gson.fromJson( personAsJson , Person.class );\r\n\r\n        System.out.println( &quot;p.toString() = &quot; + p );\r\n    }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://github.com/google/gson\r\n  [2]: https://openjdk.org/jeps/395\r\n  [3]: https://en.wikipedia.org/wiki/ISO_8601","title":"Gson is unable to serialize LocalDateTime data in Android (Java)","body":"<h1>Square peg in a round hole</h1>\n<p>Wrong class. Use <code>Instant</code>, not <code>LocalDateTime</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Person {\n    private String name;\n    private Instant createdAt;\n    \n}\n</code></pre>\n<p>Your input <code>&quot;2022-02-02T11:11:510Z&quot;</code> has a <code>Z</code> on the end. That letter indicates an offset from UTC of zero hours-minutes-seconds.</p>\n<pre><code>Instant instant = Instant.parse( &quot;2022-02-02T11:11:510Z&quot; ) ;\n</code></pre>\n<p>The <code>LocalDateTime</code> lacks any concept of offset or time zone. So that class cannot represent a moment, is not a specific point on the timeline. That class cannot represent the meaning intended by your input. That class cannot be used to record the moment something was created.</p>\n<p>Your input string complies with ISO 8601 standard. See Wikipedia.</p>\n<p>You showed line of code:</p>\n<blockquote>\n<p><code>Person person = new Person(&quot;John Doe&quot;, LocalDateTime.now());</code></p>\n</blockquote>\n<p>I cannot imagine a case where calling <code>LocalDateTime.now</code> is the right thing to do.</p>\n<p>Change to:</p>\n<pre><code>Person person = new Person( &quot;John Doe&quot; , Instant.now() ) ;\n</code></pre>\n<h2>Example code</h2>\n<p>I am no expert on <a href=\"https://github.com/google/gson\" rel=\"nofollow noreferrer\">Gson</a>. But I seem to have gotten the following to work.</p>\n<p>For brevity, let's define your <code>Person</code> class as a <a href=\"https://openjdk.org/jeps/395\" rel=\"nofollow noreferrer\">record</a>. I am pleased to see that the current version 2.10.1 of Gson seems to be working well with records.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package work.basil.example.gson;\n\nimport java.time.Instant;\n\npublic record Person( String name , Instant createdAt ) { }\n</code></pre>\n<p>Apparently the only date-time type adapter bundled with GSON is for <code>java.util.Date</code>. That terrible legacy class should be avoided. Use only <em>java.time</em> classes.</p>\n<p>We are using <code>java.time.Instant</code>. So we need to write our own type adapter. You can find 3rd party open-source type adapter implementations. But writing your own for <code>Instant</code> is simple enough.</p>\n<p>The <em>java.time</em> classes by default use <a href=\"https://en.wikipedia.org/wiki/ISO_8601\" rel=\"nofollow noreferrer\">ISO 8601</a> standard formats when parsing/generating text. So we will use that standard.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package work.basil.example.gson;\n\nimport com.google.gson.TypeAdapter;\nimport com.google.gson.stream.JsonReader;\nimport com.google.gson.stream.JsonWriter;\n\nimport java.io.IOException;\nimport java.time.Instant;\n\npublic class Gson_InstantTypeAdapter extends TypeAdapter &lt; Instant &gt;\n{\n    @Override\n    public void write ( JsonWriter jsonWriter , Instant instant ) throws IOException\n    {\n        jsonWriter.value( instant.toString() );  // Writes in standard ISO 8601 format.\n    }\n\n    @Override\n    public Instant read ( JsonReader jsonReader ) throws IOException\n    {\n        return Instant.parse( jsonReader.nextString() );   // Parses standard ISO 8601 format.\n    }\n}\n</code></pre>\n<p>Now we write an app to exercise these classes.</p>\n<p>First, define a <code>Gson</code> object to be using for generating and parsing JSON text.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Gson gson =\n        new GsonBuilder()\n                .registerTypeAdapter( Instant.class , new Gson_InstantTypeAdapter() )\n                .create();\n</code></pre>\n<p>Write some JSON.</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Write to JSON.\nPerson person = new Person( &quot;John Doe&quot; , Instant.now() ); //For example: 2022-02-02T11:11:510Z\nString personAsJson = gson.toJson( person );\n</code></pre>\n<blockquote>\n<p>personAsJson = {&quot;name&quot;:&quot;John Doe&quot;,&quot;createdAt&quot;:&quot;2023-02-19T22:47:42.566132Z&quot;}</p>\n</blockquote>\n<p>And read some JSON.</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Parse JSON.\nPerson p = gson.fromJson( personAsJson , Person.class );\n</code></pre>\n<blockquote>\n<p>p.toString() = Person[name=John Doe, createdAt=2023-02-19T22:47:42.566132Z]</p>\n</blockquote>\n<p>Bring that code together.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package work.basil.example.gson;\n\nimport com.google.gson.*;\n\nimport java.time.Instant;\n\npublic class App\n{\n    public static void main ( String[] args )\n    {\n        App app = new App();\n        app.demo();\n    }\n\n    private void demo ( )\n    {\n        Gson gson =\n                new GsonBuilder()\n                        .registerTypeAdapter( Instant.class , new Gson_InstantTypeAdapter() )\n                        .create();\n\n        // Write to JSON.\n        Person person = new Person( &quot;John Doe&quot; , Instant.now() ); //For example: 2022-02-02T11:11:510Z\n        String personAsJson = gson.toJson( person );\n\n        System.out.println( &quot;personAsJson = &quot; + personAsJson );\n\n        // Parse JSON.\n        Person p = gson.fromJson( personAsJson , Person.class );\n\n        System.out.println( &quot;p.toString() = &quot; + p );\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":19621186,"reputation":33,"user_id":14361633,"display_name":"Tr&#226;n V&#245; Bo"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":625,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1676865778,"creation_date":1676823207,"question_id":75501527,"body_markdown":"*[UPDATED:02.20.2023] I was misused between LocalDateTime and Instant data type in my example so I adjusted it. Sorry for this inconvenient. Thank you*\r\n\r\nI am practicing coding and facing an issue relating to Gson and LocalDateTime in Java Android.\r\nFor example, I created a Java object\r\n\r\n```\r\npublic class Person {\r\nprivate String name;\r\nprivate LocalDateTime createdAt;\r\n\r\n// Constructors\r\n// Getters and Setters\r\n}\r\n```\r\nThen I used Gson to convert this Person object in to Json\r\n\r\n```\r\nPerson person = new Person(&quot;John Doe&quot;, LocalDateTime.now()); //For example: 2022-02-02T11:11:045701100\r\nString personJsonAsString = new Gson().toJson(person);\r\n```\r\nI expect the Json should be\r\n\r\n```\r\n{\r\n&quot;name&quot;: &quot;John Doe&quot;,\r\n&quot;createdAt&quot;: &quot;2022-02-02T11:11:045701100&quot;\r\n}\r\n```\r\nBut the result I got was\r\n\r\n```\r\n{\r\n&quot;name&quot;: &quot;John Doe&quot;,\r\n&quot;createdAt&quot;: {} // &lt;- It&#39;s empty here\r\n}\r\n```\r\nAfter that, I researched and found that I can add custom serializer class into GsonBuilder instance so I tried again\r\n\r\n```\r\nPerson person = new Person(&quot;John Doe&quot;, LocalDateTime.now()); //For example: 2022-02-02T11:11:510Z\r\nGsonBuilder builder = new GsonBuilder();\r\nGson gson = builder.registerTypeAdapter(LocalDateTime.class, new LocalDateTimeJsonSerializer()).create();\r\nString personJsonAsString = gson.toJson(person);\r\n```\r\nWhile `LocalDateTimeJsonSerializer` is a class that I wrote\r\n```\r\npublic class LocalDateTimeJsonSerializer implements JsonSerializer&lt;LocalDateTime&gt; {\r\n    @Override\r\n    public JsonElement serialize(LocalDateTime src, Type typeOfSrc, JsonSerializationContext context) {\r\n        return new JsonPrimitive(src.format(DateTimeFormatter.ISO_LOCAL_DATE_TIME));\r\n    }\r\n}\r\n```\r\nThe exception was throw when I try to persist the data on the Android app like this:\r\n[![enter image description here](https://i.stack.imgur.com/RWNXM.png)](https://i.stack.imgur.com/RWNXM.png)\r\n\r\nFor now, I cannot figure out what makes LocalDateTime cannot be serialized in Android Platform by Gson. Please help me. Thank you so much for your time.\r\n\r\nWhat I did try:\r\nResearching other questions on Stackoverflow.\r\nTry out any available solutions.\r\nWhat I was expecting:\r\nI was expecting to know the actual root cause of the exception instead of fixing the bug and making it run only","title":"Gson is unable to serialize LocalDateTime data in Android (Java)","body":"<p><em>[UPDATED:02.20.2023] I was misused between LocalDateTime and Instant data type in my example so I adjusted it. Sorry for this inconvenient. Thank you</em></p>\n<p>I am practicing coding and facing an issue relating to Gson and LocalDateTime in Java Android.\nFor example, I created a Java object</p>\n<pre><code>public class Person {\nprivate String name;\nprivate LocalDateTime createdAt;\n\n// Constructors\n// Getters and Setters\n}\n</code></pre>\n<p>Then I used Gson to convert this Person object in to Json</p>\n<pre><code>Person person = new Person(&quot;John Doe&quot;, LocalDateTime.now()); //For example: 2022-02-02T11:11:045701100\nString personJsonAsString = new Gson().toJson(person);\n</code></pre>\n<p>I expect the Json should be</p>\n<pre><code>{\n&quot;name&quot;: &quot;John Doe&quot;,\n&quot;createdAt&quot;: &quot;2022-02-02T11:11:045701100&quot;\n}\n</code></pre>\n<p>But the result I got was</p>\n<pre><code>{\n&quot;name&quot;: &quot;John Doe&quot;,\n&quot;createdAt&quot;: {} // &lt;- It's empty here\n}\n</code></pre>\n<p>After that, I researched and found that I can add custom serializer class into GsonBuilder instance so I tried again</p>\n<pre><code>Person person = new Person(&quot;John Doe&quot;, LocalDateTime.now()); //For example: 2022-02-02T11:11:510Z\nGsonBuilder builder = new GsonBuilder();\nGson gson = builder.registerTypeAdapter(LocalDateTime.class, new LocalDateTimeJsonSerializer()).create();\nString personJsonAsString = gson.toJson(person);\n</code></pre>\n<p>While <code>LocalDateTimeJsonSerializer</code> is a class that I wrote</p>\n<pre><code>public class LocalDateTimeJsonSerializer implements JsonSerializer&lt;LocalDateTime&gt; {\n    @Override\n    public JsonElement serialize(LocalDateTime src, Type typeOfSrc, JsonSerializationContext context) {\n        return new JsonPrimitive(src.format(DateTimeFormatter.ISO_LOCAL_DATE_TIME));\n    }\n}\n</code></pre>\n<p>The exception was throw when I try to persist the data on the Android app like this:\n<a href=\"https://i.stack.imgur.com/RWNXM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/RWNXM.png\" alt=\"enter image description here\" /></a></p>\n<p>For now, I cannot figure out what makes LocalDateTime cannot be serialized in Android Platform by Gson. Please help me. Thank you so much for your time.</p>\n<p>What I did try:\nResearching other questions on Stackoverflow.\nTry out any available solutions.\nWhat I was expecting:\nI was expecting to know the actual root cause of the exception instead of fixing the bug and making it run only</p>\n"},{"tags":["java","jackson"],"answers":[{"tags":[],"owner":{"account_id":27801161,"reputation":1,"user_id":21225589,"display_name":"JustJavaDeveloper_987"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1676864410,"creation_date":1676864410,"answer_id":75505075,"question_id":75471082,"body_markdown":"I didn&#39;t find a way to do it on XmlMapper side, so I just modified a input json. Replaced all arrays with name &quot;value&quot; by object with name &quot;value&quot; and copied array`s items to new array with name &quot;Item&quot;. code example looks like:\r\n```\r\nprivate void changeArrayToObject(JsonNode node) {\r\n        if (node.isObject()) {\r\n            ObjectNode objectNode = (ObjectNode) node;\r\n            Iterator&lt;Map.Entry&lt;String, JsonNode&gt;&gt; iter = objectNode.fields();\r\n            while (iter.hasNext()) {\r\n                Map.Entry&lt;String, JsonNode&gt; entry = iter.next();\r\n                if (entry.getKey() == &quot;value&quot; &amp;&amp; entry.getValue().isArray()) {\r\n                    ArrayNode arrayNode = (ArrayNode) entry.getValue();\r\n                    ObjectNode newObject = new ObjectNode(new JsonNodeFactory(true));\r\n                    entry.setValue(newObject.set(&quot;Item&quot;, arrayNode));\r\n                    if(isArrayValueObjOrNot(arrayNode)) {\r\n                        for (JsonNode nextNode : arrayNode) {\r\n                            changeArrayToObject(nextNode);\r\n                        }\r\n                    }\r\n                } else {\r\n                    changeArrayToObject(entry.getValue());\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    private Boolean isArrayValueObjOrNot(ArrayNode arrayNode) {\r\n        JsonNode firstElement = arrayNode.get(0);\r\n        if (firstElement.isObject())\r\n            return true;\r\n        return false;\r\n    }\r\n```\r\n","title":"Java jackson parse large JSON to XML with specific xml array format","body":"<p>I didn't find a way to do it on XmlMapper side, so I just modified a input json. Replaced all arrays with name &quot;value&quot; by object with name &quot;value&quot; and copied array`s items to new array with name &quot;Item&quot;. code example looks like:</p>\n<pre><code>private void changeArrayToObject(JsonNode node) {\n        if (node.isObject()) {\n            ObjectNode objectNode = (ObjectNode) node;\n            Iterator&lt;Map.Entry&lt;String, JsonNode&gt;&gt; iter = objectNode.fields();\n            while (iter.hasNext()) {\n                Map.Entry&lt;String, JsonNode&gt; entry = iter.next();\n                if (entry.getKey() == &quot;value&quot; &amp;&amp; entry.getValue().isArray()) {\n                    ArrayNode arrayNode = (ArrayNode) entry.getValue();\n                    ObjectNode newObject = new ObjectNode(new JsonNodeFactory(true));\n                    entry.setValue(newObject.set(&quot;Item&quot;, arrayNode));\n                    if(isArrayValueObjOrNot(arrayNode)) {\n                        for (JsonNode nextNode : arrayNode) {\n                            changeArrayToObject(nextNode);\n                        }\n                    }\n                } else {\n                    changeArrayToObject(entry.getValue());\n                }\n            }\n        }\n    }\n\n    private Boolean isArrayValueObjOrNot(ArrayNode arrayNode) {\n        JsonNode firstElement = arrayNode.get(0);\n        if (firstElement.isObject())\n            return true;\n        return false;\n    }\n</code></pre>\n"}],"owner":{"account_id":27801161,"reputation":1,"user_id":21225589,"display_name":"JustJavaDeveloper_987"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":190,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75505075,"answer_count":1,"score":0,"last_activity_date":1676864410,"creation_date":1676544058,"question_id":75471082,"body_markdown":"Help me figure out how to convert Jason node to xml with `Jacson` library. \r\nMy JSON is large (from 10 to 200 mb) and contains many objects. So I wont be able to convert through the class and use `@JacksonXmlProperty(localName = &quot;someName&quot;)`. It because this json has a lotof dynamic elements. And the problem is that the format of arrays in xml should be:\r\n\r\n\r\n```\r\n&lt;test_data&gt;\r\n     &lt;data_type&gt;numeric&lt;/data_type&gt;\r\n     &lt;value&gt;\r\n         &lt;Item&gt;0&lt;/Item&gt;\r\n         &lt;Item&gt;1&lt;/Item&gt;\r\n     &lt;/value&gt;\r\n&lt;/test_data&gt;\r\n\r\nand jason element looks like this:\r\n{\r\n     &quot;test_data&quot;: {\r\n         &quot;data_type&quot;: &quot;numeric&quot;,\r\n         &quot;value&quot;: [\r\n             0,\r\n             1\r\n         ]\r\n     }\r\n}\r\n```\r\nif we take this xml and convert it like this: \r\n```\r\npublic static void main(String[] args) throws IOException {\r\n        String xmlStr = &quot;&quot;&quot;\r\n          &lt;test_data&gt;\r\n            &lt;data_type&gt;numeric&lt;/data_type&gt;\r\n            &lt;value&gt;\r\n              &lt;Item&gt;0&lt;/Item&gt;\r\n              &lt;Item&gt;1&lt;/Item&gt;\r\n            &lt;/value&gt;\r\n          &lt;/test_data&gt;\r\n            &quot;&quot;&quot;;\r\n        \r\n        XmlMapper xmlMapper = new XmlMapper();\r\n        JsonNode xml = xmlMapper.readTree(xmlStr);\r\n        ObjectMapper jsonMapper = new JsonMapper();\r\n        System.out.println(jsonMapper.writeValueAsString(xml));\r\n    }\r\n```\r\nOUTPUT is :\r\n```\r\n{&quot;data_type&quot;:&quot;numeric&quot;,&quot;value&quot;:{&quot;Item&quot;:[&quot;0&quot;,&quot;1&quot;]}}\r\n```\r\nvisa versa: \r\n```\r\nString jsonStr = &quot;&quot;&quot;\r\n            {\r\n                &quot;test_data&quot; : {\r\n                          &quot;data_type&quot; : &quot;numeric&quot;,\r\n                          &quot;value&quot; : [ 0, 1 ]\r\n                        }\r\n            }\r\n            &quot;&quot;&quot;;\r\n\r\n        ObjectMapper jsonMapper = new JsonMapper();\r\n        JsonNode node = jsonMapper.readTree(jsonStr.getBytes());\r\n        XmlMapper xmlMapper = new XmlMapper();\r\n        xmlMapper.configure(SerializationFeature.INDENT_OUTPUT, true);\r\n        String xml = xmlMapper.writeValueAsString(node);\r\n        System.out.println(xml);\r\n```\r\nOUTPUT: \r\n``` \r\n&lt;ObjectNode&gt;\r\n  &lt;test_data&gt;\r\n    &lt;data_type&gt;numeric&lt;/data_type&gt;\r\n    &lt;value&gt;0&lt;/value&gt;\r\n    &lt;value&gt;1&lt;/value&gt;\r\n  &lt;/test_data&gt;\r\n&lt;/ObjectNode&gt;\r\n```\r\nSimply say, I have JsonNode and I need xml String with specific array format, any idea? \r\n\r\n\r\nTry find a way to create JsonSerializer for JsonNode but failed.    ","title":"Java jackson parse large JSON to XML with specific xml array format","body":"<p>Help me figure out how to convert Jason node to xml with <code>Jacson</code> library.\nMy JSON is large (from 10 to 200 mb) and contains many objects. So I wont be able to convert through the class and use <code>@JacksonXmlProperty(localName = &quot;someName&quot;)</code>. It because this json has a lotof dynamic elements. And the problem is that the format of arrays in xml should be:</p>\n<pre><code>&lt;test_data&gt;\n     &lt;data_type&gt;numeric&lt;/data_type&gt;\n     &lt;value&gt;\n         &lt;Item&gt;0&lt;/Item&gt;\n         &lt;Item&gt;1&lt;/Item&gt;\n     &lt;/value&gt;\n&lt;/test_data&gt;\n\nand jason element looks like this:\n{\n     &quot;test_data&quot;: {\n         &quot;data_type&quot;: &quot;numeric&quot;,\n         &quot;value&quot;: [\n             0,\n             1\n         ]\n     }\n}\n</code></pre>\n<p>if we take this xml and convert it like this:</p>\n<pre><code>public static void main(String[] args) throws IOException {\n        String xmlStr = &quot;&quot;&quot;\n          &lt;test_data&gt;\n            &lt;data_type&gt;numeric&lt;/data_type&gt;\n            &lt;value&gt;\n              &lt;Item&gt;0&lt;/Item&gt;\n              &lt;Item&gt;1&lt;/Item&gt;\n            &lt;/value&gt;\n          &lt;/test_data&gt;\n            &quot;&quot;&quot;;\n        \n        XmlMapper xmlMapper = new XmlMapper();\n        JsonNode xml = xmlMapper.readTree(xmlStr);\n        ObjectMapper jsonMapper = new JsonMapper();\n        System.out.println(jsonMapper.writeValueAsString(xml));\n    }\n</code></pre>\n<p>OUTPUT is :</p>\n<pre><code>{&quot;data_type&quot;:&quot;numeric&quot;,&quot;value&quot;:{&quot;Item&quot;:[&quot;0&quot;,&quot;1&quot;]}}\n</code></pre>\n<p>visa versa:</p>\n<pre><code>String jsonStr = &quot;&quot;&quot;\n            {\n                &quot;test_data&quot; : {\n                          &quot;data_type&quot; : &quot;numeric&quot;,\n                          &quot;value&quot; : [ 0, 1 ]\n                        }\n            }\n            &quot;&quot;&quot;;\n\n        ObjectMapper jsonMapper = new JsonMapper();\n        JsonNode node = jsonMapper.readTree(jsonStr.getBytes());\n        XmlMapper xmlMapper = new XmlMapper();\n        xmlMapper.configure(SerializationFeature.INDENT_OUTPUT, true);\n        String xml = xmlMapper.writeValueAsString(node);\n        System.out.println(xml);\n</code></pre>\n<p>OUTPUT:</p>\n<pre><code>&lt;ObjectNode&gt;\n  &lt;test_data&gt;\n    &lt;data_type&gt;numeric&lt;/data_type&gt;\n    &lt;value&gt;0&lt;/value&gt;\n    &lt;value&gt;1&lt;/value&gt;\n  &lt;/test_data&gt;\n&lt;/ObjectNode&gt;\n</code></pre>\n<p>Simply say, I have JsonNode and I need xml String with specific array format, any idea?</p>\n<p>Try find a way to create JsonSerializer for JsonNode but failed.</p>\n"},{"tags":["java","maven","github","gwt"],"answers":[{"comments":[{"owner":{"account_id":412334,"reputation":33756,"user_id":785349,"accept_rate":94,"display_name":"quarks"},"score":0,"creation_date":1676867315,"post_id":75504979,"comment_id":133217230,"body_markdown":"Thanks, Colin. Btw, is there a way to change the behavior of how SDM is loaded? The proxying of ports in Codespaces prevents SDM from being loaded: https://stackoverflow.com/questions/75505269/how-to-change-the-behavior-of-superdevmode-to-make-it-run-on-github-codespaces","body":"Thanks, Colin. Btw, is there a way to change the behavior of how SDM is loaded? The proxying of ports in Codespaces prevents SDM from being loaded: <a href=\"https://stackoverflow.com/questions/75505269/how-to-change-the-behavior-of-superdevmode-to-make-it-run-on-github-codespaces\" title=\"how to change the behavior of superdevmode to make it run on github codespaces\">stackoverflow.com/questions/75505269/&hellip;</a>"}],"tags":[],"owner":{"account_id":459879,"reputation":17931,"user_id":860630,"display_name":"Colin Alworth"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1676863174,"creation_date":1676863174,"answer_id":75504979,"question_id":75504776,"body_markdown":"Looks like this might be a bug (or change in behavior) in Maven 3.9.0, which appears to be the default install for codespaces. Here&#39;s a quick workaround:\r\n\r\n 1. Using the maven wrapper plugin, install an older maven version (which will be run using the `./mvnw` script, that the plugin will also install for you:\r\n     ```shell\r\n        mvn wrapper:wrapper -Dmaven=3.8.7\r\n     ```\r\n 2. Run your command again, but using the `./mvnw` wrapper instead of the `mvn` binary on your PATH:\r\n     ```shell\r\n        ./mvnw gwt:codeserver -f &quot;/workspaces/myapp/app-client/pom.xml&quot; -am\r\n     ```\r\n\r\nI spent a few minutes looking for a bug report in the Maven JIRA, but didn&#39;t immediately see one that matches this description, it might be worth your time to file it.","title":"Error running GWT Codeserver in Github Codespaces","body":"<p>Looks like this might be a bug (or change in behavior) in Maven 3.9.0, which appears to be the default install for codespaces. Here's a quick workaround:</p>\n<ol>\n<li>Using the maven wrapper plugin, install an older maven version (which will be run using the <code>./mvnw</code> script, that the plugin will also install for you:\n<pre class=\"lang-bash prettyprint-override\"><code>   mvn wrapper:wrapper -Dmaven=3.8.7\n</code></pre>\n</li>\n<li>Run your command again, but using the <code>./mvnw</code> wrapper instead of the <code>mvn</code> binary on your PATH:\n<pre class=\"lang-bash prettyprint-override\"><code>   ./mvnw gwt:codeserver -f &quot;/workspaces/myapp/app-client/pom.xml&quot; -am\n</code></pre>\n</li>\n</ol>\n<p>I spent a few minutes looking for a bug report in the Maven JIRA, but didn't immediately see one that matches this description, it might be worth your time to file it.</p>\n"}],"owner":{"account_id":412334,"reputation":33756,"user_id":785349,"accept_rate":94,"display_name":"quarks"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":152,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75504979,"answer_count":1,"score":1,"last_activity_date":1676863174,"creation_date":1676860315,"question_id":75504776,"body_markdown":"I&#39;m able to compile my GWT app (*and run GWT Codeserver*) in Github Codespaces with this \r\n`mvn gwt:codeserver -f &quot;/workspaces/myapp/app-client/pom.xml&quot; -am`\r\n\r\nHowever when this command is used: (*the same command works in my local machine, same project*) \r\n`mvn gwt:codeserver -pl app-client -am`\r\n\r\nIt throws\r\n\r\n```\r\n[INFO] BUILD FAILURE\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] Total time:  3.940 s\r\n[INFO] Finished at: 2023-02-20T02:19:42Z\r\n[INFO] ------------------------------------------------------------------------\r\n[ERROR] NullPointerException\r\njava.lang.NullPointerException\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.executeForkedExecutions (MojoExecutor.java:439)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute (MojoExecutor.java:325)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:213)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:175)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.access$000 (MojoExecutor.java:76)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor$1.run (MojoExecutor.java:163)\r\n    at org.apache.maven.plugin.DefaultMojosExecutionStrategy.execute (DefaultMojosExecutionStrategy.java:39)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:160)\r\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:105)\r\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:73)\r\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:53)\r\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:118)\r\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:260)\r\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:172)\r\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:100)\r\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:821)\r\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:270)\r\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:192)\r\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\r\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\r\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\r\n    at java.lang.reflect.Method.invoke (Method.java:566)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\r\n[ERROR] \r\n[DEBUG] Shutting down adapter factory; available factories [file-lock, rwlock-local, semaphore-local, noop]; available name mappers [discriminating, file-gav, file-hgav, gav, static]\r\n[DEBUG] Shutting down &#39;file-lock&#39; factory\r\n[DEBUG] Shutting down &#39;rwlock-local&#39; factory\r\n[DEBUG] Shutting down &#39;semaphore-local&#39; factory\r\n[DEBUG] Shutting down &#39;noop&#39; factory\r\n```\r\n\r\n\r\nI&#39;m wondering what could be causing the error. It seems to be rooted here: https://github.com/apache/maven/blob/e2a8db3f0285e8853bb97e1864edb3c1e5143dc6/maven-core/src/main/java/org/apache/maven/lifecycle/internal/MojoExecutor.java#L439","title":"Error running GWT Codeserver in Github Codespaces","body":"<p>I'm able to compile my GWT app (<em>and run GWT Codeserver</em>) in Github Codespaces with this\n<code>mvn gwt:codeserver -f &quot;/workspaces/myapp/app-client/pom.xml&quot; -am</code></p>\n<p>However when this command is used: (<em>the same command works in my local machine, same project</em>)\n<code>mvn gwt:codeserver -pl app-client -am</code></p>\n<p>It throws</p>\n<pre><code>[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  3.940 s\n[INFO] Finished at: 2023-02-20T02:19:42Z\n[INFO] ------------------------------------------------------------------------\n[ERROR] NullPointerException\njava.lang.NullPointerException\n    at org.apache.maven.lifecycle.internal.MojoExecutor.executeForkedExecutions (MojoExecutor.java:439)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute (MojoExecutor.java:325)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:213)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:175)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.access$000 (MojoExecutor.java:76)\n    at org.apache.maven.lifecycle.internal.MojoExecutor$1.run (MojoExecutor.java:163)\n    at org.apache.maven.plugin.DefaultMojosExecutionStrategy.execute (DefaultMojosExecutionStrategy.java:39)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:160)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:105)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:73)\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:53)\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:118)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:260)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:172)\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:100)\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:821)\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:270)\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:192)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke (Method.java:566)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\n[ERROR] \n[DEBUG] Shutting down adapter factory; available factories [file-lock, rwlock-local, semaphore-local, noop]; available name mappers [discriminating, file-gav, file-hgav, gav, static]\n[DEBUG] Shutting down 'file-lock' factory\n[DEBUG] Shutting down 'rwlock-local' factory\n[DEBUG] Shutting down 'semaphore-local' factory\n[DEBUG] Shutting down 'noop' factory\n</code></pre>\n<p>I'm wondering what could be causing the error. It seems to be rooted here: <a href=\"https://github.com/apache/maven/blob/e2a8db3f0285e8853bb97e1864edb3c1e5143dc6/maven-core/src/main/java/org/apache/maven/lifecycle/internal/MojoExecutor.java#L439\" rel=\"nofollow noreferrer\">https://github.com/apache/maven/blob/e2a8db3f0285e8853bb97e1864edb3c1e5143dc6/maven-core/src/main/java/org/apache/maven/lifecycle/internal/MojoExecutor.java#L439</a></p>\n"},{"tags":["java","apache-kafka","jaxb","listener","jackson-databind"],"comments":[{"owner":{"account_id":2603480,"reputation":661,"user_id":2255217,"display_name":"Ron McLeod"},"score":0,"creation_date":1676863379,"post_id":75504912,"comment_id":133216789,"body_markdown":"Also posted here: https://coderanch.com/t/770476/java/Kafka-Listener-issues-giving-null#3530918","body":"Also posted here: <a href=\"https://coderanch.com/t/770476/java/Kafka-Listener-issues-giving-null#3530918\" rel=\"nofollow noreferrer\">coderanch.com/t/770476/java/&hellip;</a>"},{"owner":{"account_id":2885864,"reputation":861,"user_id":2475798,"display_name":"Neenad"},"score":0,"creation_date":1677052105,"post_id":75504912,"comment_id":133258999,"body_markdown":"How is the cart class annotated for the json attributes?","body":"How is the cart class annotated for the json attributes?"}],"owner":{"account_id":10300892,"reputation":17,"user_id":7599667,"display_name":"user7599667"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":330,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676862150,"creation_date":1676862150,"question_id":75504912,"body_markdown":"I have below code in my kafka reciever listener class\r\n\r\n    @EnableKafka\r\n    @Service\r\n    @Component\r\n    @Slf4j\r\n    public class MessageListener{\r\n    @Autowired\r\n    @Qualifier(&quot;MessageBeanService&quot;)\r\n    @KafkaListenter(topic={&quot;test-topic}, autoStartup=&quot;true&quot; groupId=&quot;test-consumer-group&quot;)\r\n    @Transactional(propagation=Propagation.REQUIRES_NEW)\r\n    public void receiveMessage(@Payload String message) throws JsonProcessingException\r\n    ObjectMapper objMapper=new ObjectMapper;\r\n    objMapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, FALSE);\r\n    CartSt msg=objMapper.readValue(messages, CartSt.class)\r\n\r\nCartSt has sub objects like Item, Price, Quantity.\r\nBut i see those sub objects getting populated as null values. \r\nObjectMapper is from fasterxml.jackson.databind jar package.\r\nHow to resolve these issues and populate correct non null values for the sub objects Item. Price, Quantity of CartSt main object.\r\nPlease advise\r\n\r\n","title":"Kafka Listener issues giving null values","body":"<p>I have below code in my kafka reciever listener class</p>\n<pre><code>@EnableKafka\n@Service\n@Component\n@Slf4j\npublic class MessageListener{\n@Autowired\n@Qualifier(&quot;MessageBeanService&quot;)\n@KafkaListenter(topic={&quot;test-topic}, autoStartup=&quot;true&quot; groupId=&quot;test-consumer-group&quot;)\n@Transactional(propagation=Propagation.REQUIRES_NEW)\npublic void receiveMessage(@Payload String message) throws JsonProcessingException\nObjectMapper objMapper=new ObjectMapper;\nobjMapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, FALSE);\nCartSt msg=objMapper.readValue(messages, CartSt.class)\n</code></pre>\n<p>CartSt has sub objects like Item, Price, Quantity.\nBut i see those sub objects getting populated as null values.\nObjectMapper is from fasterxml.jackson.databind jar package.\nHow to resolve these issues and populate correct non null values for the sub objects Item. Price, Quantity of CartSt main object.\nPlease advise</p>\n"},{"tags":["java","jaxb","xmlunit"],"comments":[{"owner":{"account_id":13179806,"reputation":91,"user_id":21197077,"display_name":"gneginskiy"},"score":0,"creation_date":1676375098,"post_id":75447294,"comment_id":133120354,"body_markdown":"org.assertj.core.api.Assertions.assertThat() doing this, as well in context of tests. They describe differences of recursive comparison in an exception message.\nMaybe you can take something from the code of the library.  Example: \n`Assertions.assertThat(actual).usingRecursiveComparison().ignoringFields(excludingFields).isEqualTo(expected)`\n    }\n`\n\nThey even have a line `List&lt;ComparisonDifference&gt; differences = determineDifferencesWith(expected);` in RecursiveComparisonAssert.isEqualTo()","body":"org.assertj.core.api.Assertions.assertThat() doing this, as well in context of tests. They describe differences of recursive comparison in an exception message. Maybe you can take something from the code of the library.  Example:  <code>Assertions.assertThat(actual).usingRecursiveComparison().ign&zwnj;&#8203;oringFields(excludin&zwnj;&#8203;gFields).isEqualTo(e&zwnj;&#8203;xpected)</code>     } `  They even have a line <code>List&lt;ComparisonDifference&gt; differences = determineDifferencesWith(expected);</code> in RecursiveComparisonAssert.isEqualTo()"}],"answers":[{"tags":[],"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676380752,"creation_date":1676380752,"answer_id":75448434,"question_id":75447294,"body_markdown":"&gt; I can use whatever does the job.\r\n\r\nHere is one way using just Java.\r\n- declare a [BiFunction](https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/function/BiFunction.html) to check the two instances. (A regular method could also work).\r\n- Then call the function to validate the two. An empty string is returned on success.\r\n```\r\nBiFunction&lt;DummyClass, DummyClass, String&gt; checkNames = (d1, d2) -&gt; {\r\n     if (!d1.getName().equals(d2.getName())) {\r\n         return &quot;fields not equal: name, values found a.name = &#39;%s&#39; - b.name = &#39;%s&#39;&quot;\r\n                 .formatted(d1.getName(), d2.getName());\r\n     } else if (!d1.getSurname().equals(d2.getSurname())) {\r\n         return &quot;fields not equal: surname, values found a.surname = &#39;%s&#39; - b.surname = &#39;%s&#39;&quot;\r\n                 .formatted(d1.getSurname(), d2.getSurname());\r\n     } else {\r\n         return &quot;&quot;;\r\n     }\r\n};\r\n```\r\nCreate some instances to evaluate.\r\n```\r\nDummyClass dc1 = new DummyClass(&quot;foo&quot;, &quot;bar&quot;);\r\nDummyClass dc2 = new DummyClass(&quot;foo&quot;, &quot;rab&quot;);\r\nDummyClass dc3 = new DummyClass(&quot;oof&quot;, &quot;bar&quot;);\r\n\r\nString result = checkNames.apply(dc1, dc2);\r\nif (!result.isEmpty()) {\r\n     System.out.println(result);\r\n}\r\n\r\nresult = checkNames.apply(dc2, dc3);\r\nif (!result.isEmpty()) {\r\n     System.out.println(result);\r\n}\r\n```\r\nprints\r\n```\r\nfields not equal: surname, values found a.surname = &#39;bar&#39; - b.surname = &#39;rab&#39;\r\nfields not equal: name, values found a.name = &#39;foo&#39; - b.name = &#39;oof&#39;\r\n","title":"comparing two instances of random java class to obtain differences of variables values","body":"<blockquote>\n<p>I can use whatever does the job.</p>\n</blockquote>\n<p>Here is one way using just Java.</p>\n<ul>\n<li>declare a <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/function/BiFunction.html\" rel=\"nofollow noreferrer\">BiFunction</a> to check the two instances. (A regular method could also work).</li>\n<li>Then call the function to validate the two. An empty string is returned on success.</li>\n</ul>\n<pre><code>BiFunction&lt;DummyClass, DummyClass, String&gt; checkNames = (d1, d2) -&gt; {\n     if (!d1.getName().equals(d2.getName())) {\n         return &quot;fields not equal: name, values found a.name = '%s' - b.name = '%s'&quot;\n                 .formatted(d1.getName(), d2.getName());\n     } else if (!d1.getSurname().equals(d2.getSurname())) {\n         return &quot;fields not equal: surname, values found a.surname = '%s' - b.surname = '%s'&quot;\n                 .formatted(d1.getSurname(), d2.getSurname());\n     } else {\n         return &quot;&quot;;\n     }\n};\n</code></pre>\n<p>Create some instances to evaluate.</p>\n<pre><code>DummyClass dc1 = new DummyClass(&quot;foo&quot;, &quot;bar&quot;);\nDummyClass dc2 = new DummyClass(&quot;foo&quot;, &quot;rab&quot;);\nDummyClass dc3 = new DummyClass(&quot;oof&quot;, &quot;bar&quot;);\n\nString result = checkNames.apply(dc1, dc2);\nif (!result.isEmpty()) {\n     System.out.println(result);\n}\n\nresult = checkNames.apply(dc2, dc3);\nif (!result.isEmpty()) {\n     System.out.println(result);\n}\n</code></pre>\n<p>prints</p>\n<pre><code>fields not equal: surname, values found a.surname = 'bar' - b.surname = 'rab'\nfields not equal: name, values found a.name = 'foo' - b.name = 'oof'\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27782790,"reputation":1,"user_id":21210836,"display_name":"Antonio"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676861733,"creation_date":1676469239,"answer_id":75460850,"question_id":75447294,"body_markdown":"Ok seems I read just the half of the story ... JAXB was removed since JAVA 11, but using JAXB reference implementation in conjunction with jakarta still does the trick.\r\n\r\nI solved adding this to the pom and using the two above mentioned.\r\n\r\n```\r\n&lt;dependencies&gt;\r\n\t&lt;dependency&gt;\r\n        &lt;groupId&gt;jakarta.xml.bind&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jakarta.xml.bind-api&lt;/artifactId&gt;\r\n        &lt;version&gt;4.0.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n &lt;dependency&gt;\r\n        &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jaxb-impl&lt;/artifactId&gt;\r\n        &lt;version&gt;4.0.2&lt;/version&gt;\r\n        &lt;scope&gt;runtime&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n&lt;/dependencies&gt;\r\n```","title":"comparing two instances of random java class to obtain differences of variables values","body":"<p>Ok seems I read just the half of the story ... JAXB was removed since JAVA 11, but using JAXB reference implementation in conjunction with jakarta still does the trick.</p>\n<p>I solved adding this to the pom and using the two above mentioned.</p>\n<pre><code>&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;jakarta.xml.bind&lt;/groupId&gt;\n        &lt;artifactId&gt;jakarta.xml.bind-api&lt;/artifactId&gt;\n        &lt;version&gt;4.0.0&lt;/version&gt;\n    &lt;/dependency&gt;\n &lt;dependency&gt;\n        &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\n        &lt;artifactId&gt;jaxb-impl&lt;/artifactId&gt;\n        &lt;version&gt;4.0.2&lt;/version&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n"}],"owner":{"account_id":27782790,"reputation":1,"user_id":21210836,"display_name":"Antonio"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1676861733,"creation_date":1676374777,"question_id":75447294,"body_markdown":"I need to compare two instances of the same java class and obtain the list of variables that are not equals.\r\n\r\nLet&#39;s say i have this kind of java class\r\n\r\n\r\n```\r\npublic class DummyClass\r\n{\r\n    private String name;\r\n    private String surname;\r\n    [constructors, getters and setters ...]\r\n}\r\n```\r\n\r\n\r\nAt runtime I have 2 instances of DummyClass, let&#39;s say a = [&quot;foo&quot;, &quot;bar&quot;] and b = [&quot;foo&quot;, &quot;rab&quot;], so  with same names but different surnames.\r\nMy goal is to compare them and hilight the fact that a.surname is not equals to b.surname, and also give as output something that sounds more or less like &quot;field not equals: surname, values found a.surname = &#39;bar&#39; - b.surname = &#39;rab&#39;&quot;\r\nI have too many classes, can&#39;t override the compareTo into each one of them, so as first approach i randomly landed on xmlunit --&gt; great! perfect! it offer exactly what I need IF I start from two xml files, so I tought to use JAXB for the mapping class - to - xml but with Java 17 I can&#39;t use JAXB, and I can&#39;t switch to previous version of Java.\r\n\r\nIs there any workaround to do what XMLUNIT does? XML approach was just an idea, i can use whatever does the job.","title":"comparing two instances of random java class to obtain differences of variables values","body":"<p>I need to compare two instances of the same java class and obtain the list of variables that are not equals.</p>\n<p>Let's say i have this kind of java class</p>\n<pre><code>public class DummyClass\n{\n    private String name;\n    private String surname;\n    [constructors, getters and setters ...]\n}\n</code></pre>\n<p>At runtime I have 2 instances of DummyClass, let's say a = [&quot;foo&quot;, &quot;bar&quot;] and b = [&quot;foo&quot;, &quot;rab&quot;], so  with same names but different surnames.\nMy goal is to compare them and hilight the fact that a.surname is not equals to b.surname, and also give as output something that sounds more or less like &quot;field not equals: surname, values found a.surname = 'bar' - b.surname = 'rab'&quot;\nI have too many classes, can't override the compareTo into each one of them, so as first approach i randomly landed on xmlunit --&gt; great! perfect! it offer exactly what I need IF I start from two xml files, so I tought to use JAXB for the mapping class - to - xml but with Java 17 I can't use JAXB, and I can't switch to previous version of Java.</p>\n<p>Is there any workaround to do what XMLUNIT does? XML approach was just an idea, i can use whatever does the job.</p>\n"},{"tags":["java","spring-boot","pagination"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1676859242,"post_id":75504681,"comment_id":133216337,"body_markdown":"See https://docs.spring.io/spring-data/commons/docs/current/api/org/springframework/data/repository/PagingAndSortingRepository.html","body":"See <a href=\"https://docs.spring.io/spring-data/commons/docs/current/api/org/springframework/data/repository/PagingAndSortingRepository.html\" rel=\"nofollow noreferrer\">docs.spring.io/spring-data/commons/docs/current/api/org/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":13170666,"reputation":78679,"user_id":9513184,"display_name":"Unmitigated"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676859317,"creation_date":1676859317,"answer_id":75504706,"question_id":75504681,"body_markdown":"Pass the [`Pageable`](https://docs.spring.io/spring-data/commons/docs/current/api/org/springframework/data/domain/Pageable.html) to [`findAll`](https://docs.spring.io/spring-data/commons/docs/current/api/org/springframework/data/repository/PagingAndSortingRepository.html#findAll(org.springframework.data.domain.Pageable)):\r\n\r\n```java\r\nPage&lt;Product&gt; page = productRepository.findAll(pageable);\r\nList&lt;ProductDto&gt; productList = page.getContent().stream()\r\n   .map(helperClass::mapProductToProductDto).collect(Collectors.toList());","title":"How can I get a list of object and then convert them to a page?","body":"<p>Pass the <a href=\"https://docs.spring.io/spring-data/commons/docs/current/api/org/springframework/data/domain/Pageable.html\" rel=\"nofollow noreferrer\"><code>Pageable</code></a> to <a href=\"https://docs.spring.io/spring-data/commons/docs/current/api/org/springframework/data/repository/PagingAndSortingRepository.html#findAll(org.springframework.data.domain.Pageable)\" rel=\"nofollow noreferrer\"><code>findAll</code></a>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Page&lt;Product&gt; page = productRepository.findAll(pageable);\nList&lt;ProductDto&gt; productList = page.getContent().stream()\n   .map(helperClass::mapProductToProductDto).collect(Collectors.toList());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11021248,"reputation":169,"user_id":8095425,"display_name":"Marcus Menezes"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676861019,"creation_date":1676861019,"answer_id":75504832,"question_id":75504681,"body_markdown":"To return a Pageable way, you can modify your findAll method as this \r\n\r\n&gt; Page&lt;Product&gt; productPage = productRepository.findAll(pageable);\r\n\r\n you can modify the code as follows: \r\n\r\n    public HttpEntity&lt;?&gt; getProducts(int pageNum, int pageSize) {\r\n\r\n    Pageable pageable = PageRequest.of(pageNum, pageSize);\r\n\r\n    Page&lt;Product&gt; productPage = productRepository.findAll(pageable);\r\n    List&lt;ProductDto&gt; productDtoList = productPage.getContent().stream()\r\n            .map(helperClass::mapProductToProductDto)\r\n            .collect(Collectors.toList());\r\n\r\n    Page&lt;ProductDto&gt; productDtoPage = new PageImpl&lt;&gt;(productDtoList, pageable, productPage.getTotalElements());\r\n\r\n    return ResponseEntity.ok(productDtoPage);\r\n    }","title":"How can I get a list of object and then convert them to a page?","body":"<p>To return a Pageable way, you can modify your findAll method as this</p>\n<blockquote>\n<p>Page productPage = productRepository.findAll(pageable);</p>\n</blockquote>\n<p>you can modify the code as follows:</p>\n<pre><code>public HttpEntity&lt;?&gt; getProducts(int pageNum, int pageSize) {\n\nPageable pageable = PageRequest.of(pageNum, pageSize);\n\nPage&lt;Product&gt; productPage = productRepository.findAll(pageable);\nList&lt;ProductDto&gt; productDtoList = productPage.getContent().stream()\n        .map(helperClass::mapProductToProductDto)\n        .collect(Collectors.toList());\n\nPage&lt;ProductDto&gt; productDtoPage = new PageImpl&lt;&gt;(productDtoList, pageable, productPage.getTotalElements());\n\nreturn ResponseEntity.ok(productDtoPage);\n}\n</code></pre>\n"}],"owner":{"account_id":24860398,"reputation":21,"user_id":18736248,"display_name":"Dadaboy Masharipov"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":113,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1676861019,"creation_date":1676858994,"question_id":75504681,"body_markdown":"I have a Product class\r\n\r\n```\r\n\r\n@Entity\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@Data\r\npublic class Product extends AbsEntity {\r\n\r\n    @Column(nullable = false, unique = true)\r\n    private String name;\r\n\r\n    @Length(max = 500)\r\n    @Column(nullable = false)\r\n    private String description;\r\n\r\n    private double price;//Evaluated in the $\r\n\r\n    @OneToOne\r\n    private Category category;\r\n\r\n    @OnDelete(action = OnDeleteAction.CASCADE)\r\n    @ManyToOne(optional = false, fetch = FetchType.LAZY)\r\n    private User owner;\r\n\r\n    @OneToOne(cascade = CascadeType.ALL, orphanRemoval = true)\r\n    private Attachment attachment;\r\n}\r\n```\r\n\r\nand repository:\r\n\r\n```\r\n\r\n@Repository\r\npublic interface ProductRepository extends JpaRepository&lt;Product, UUID&gt; {\r\n\r\n    \r\n    boolean existsByNameAndOwner(String name, User owner);\r\n\r\n    List&lt;Product&gt; findAllByCategoryName(String categoryName);\r\n\r\n    List&lt;Product&gt; findAllByOwnerId(UUID owner_id);\r\n}\r\n```\r\n\r\nWhen I try to get them and then page:\r\n\r\n```\r\npublic HttpEntity&lt;?&gt; getProducts(int pageNum, int pageSize) {\r\n\r\n    Pageable pageable = PageRequest.of(pageNum, pageSize);\r\n\r\n    List&lt;ProductDto&gt; productDtoList = \r\nproductRepository.findAll().stream().map(helperClass::mapProductToProductDto).\r\ncollect(Collectors.toList());\r\n\r\n    Page&lt;ProductDto&gt; products = new PageImpl&lt;&gt;(productDtoList, pageable, productDtoList.size());\r\n\r\n    return ResponseEntity.ok(products);\r\n}\r\n```\r\n\r\nand my helperClass method :\r\n\r\n```\r\npublic ProductDto mapProductToProductDto(Product product) {\r\n\r\n    ProductDto productDto = new ProductDto();\r\n\r\n    productDto.setName(product.getName());\r\n    productDto.setPicture(product.getAttachment().getContent());\r\n    productDto.setPrice(product.getPrice());\r\n    productDto.setDescription(product.getDescription());\r\n    productDto.setOwnerName(product.getOwner().getFullName());\r\n    productDto.setCategoryName(product.getCategory().getName());\r\n    productDto.setAddedDate(product.getCreatedAt());\r\n\r\n    return productDto;\r\n}\r\n```\r\n\r\nIt is not returning necessary page but returning me all products in a single page. Is there a way to receive a list of object and then turn them ito a page?? What is a problem here?","title":"How can I get a list of object and then convert them to a page?","body":"<p>I have a Product class</p>\n<pre><code>\n@Entity\n@AllArgsConstructor\n@NoArgsConstructor\n@Data\npublic class Product extends AbsEntity {\n\n    @Column(nullable = false, unique = true)\n    private String name;\n\n    @Length(max = 500)\n    @Column(nullable = false)\n    private String description;\n\n    private double price;//Evaluated in the $\n\n    @OneToOne\n    private Category category;\n\n    @OnDelete(action = OnDeleteAction.CASCADE)\n    @ManyToOne(optional = false, fetch = FetchType.LAZY)\n    private User owner;\n\n    @OneToOne(cascade = CascadeType.ALL, orphanRemoval = true)\n    private Attachment attachment;\n}\n</code></pre>\n<p>and repository:</p>\n<pre><code>\n@Repository\npublic interface ProductRepository extends JpaRepository&lt;Product, UUID&gt; {\n\n    \n    boolean existsByNameAndOwner(String name, User owner);\n\n    List&lt;Product&gt; findAllByCategoryName(String categoryName);\n\n    List&lt;Product&gt; findAllByOwnerId(UUID owner_id);\n}\n</code></pre>\n<p>When I try to get them and then page:</p>\n<pre><code>public HttpEntity&lt;?&gt; getProducts(int pageNum, int pageSize) {\n\n    Pageable pageable = PageRequest.of(pageNum, pageSize);\n\n    List&lt;ProductDto&gt; productDtoList = \nproductRepository.findAll().stream().map(helperClass::mapProductToProductDto).\ncollect(Collectors.toList());\n\n    Page&lt;ProductDto&gt; products = new PageImpl&lt;&gt;(productDtoList, pageable, productDtoList.size());\n\n    return ResponseEntity.ok(products);\n}\n</code></pre>\n<p>and my helperClass method :</p>\n<pre><code>public ProductDto mapProductToProductDto(Product product) {\n\n    ProductDto productDto = new ProductDto();\n\n    productDto.setName(product.getName());\n    productDto.setPicture(product.getAttachment().getContent());\n    productDto.setPrice(product.getPrice());\n    productDto.setDescription(product.getDescription());\n    productDto.setOwnerName(product.getOwner().getFullName());\n    productDto.setCategoryName(product.getCategory().getName());\n    productDto.setAddedDate(product.getCreatedAt());\n\n    return productDto;\n}\n</code></pre>\n<p>It is not returning necessary page but returning me all products in a single page. Is there a way to receive a list of object and then turn them ito a page?? What is a problem here?</p>\n"},{"tags":["java","java-8","java-stream"],"comments":[{"owner":{"account_id":13170666,"reputation":78679,"user_id":9513184,"display_name":"Unmitigated"},"score":0,"creation_date":1676854241,"post_id":75504363,"comment_id":133215748,"body_markdown":"Well, you never set the comments field.","body":"Well, you never set the comments field."},{"owner":{"account_id":11461712,"reputation":121,"user_id":8401182,"accept_rate":62,"display_name":"user8401182"},"score":0,"creation_date":1676854416,"post_id":75504363,"comment_id":133215764,"body_markdown":"@Unmitigated\n How to set to set accountId, custId, custName, comments, status while iterating the linkedDetails ?","body":"@Unmitigated  How to set to set accountId, custId, custName, comments, status while iterating the linkedDetails ?"}],"answers":[{"tags":[],"owner":{"account_id":1968635,"reputation":21509,"user_id":1768226,"accept_rate":80,"display_name":"shazin"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676860357,"creation_date":1676860357,"answer_id":75504782,"question_id":75504363,"body_markdown":"What you have to do is this.\r\n\r\n            List&lt;Account&gt; accounts = request.getAccountRequest().stream().flatMap(ac -&gt; ac.getLinkedDetails().stream().map(ld -&gt; {\r\n                Account account = new Account();\r\n                account.setAccountId(ac.getAccountId());\r\n                account.setCustId(ac.getCustId());\r\n                account.setCustCode(ld.getCustCode());\r\n                account.setStartOn(ld.getStartOn());\r\n                account.setLoanType(ld.getLoanType());\r\n    \r\n                return account;\r\n            })).collect(Collectors.toList());","title":"java8 stream to create multiple objects based on the list along with the existing properties","body":"<p>What you have to do is this.</p>\n<pre><code>        List&lt;Account&gt; accounts = request.getAccountRequest().stream().flatMap(ac -&gt; ac.getLinkedDetails().stream().map(ld -&gt; {\n            Account account = new Account();\n            account.setAccountId(ac.getAccountId());\n            account.setCustId(ac.getCustId());\n            account.setCustCode(ld.getCustCode());\n            account.setStartOn(ld.getStartOn());\n            account.setLoanType(ld.getLoanType());\n\n            return account;\n        })).collect(Collectors.toList());\n</code></pre>\n"}],"owner":{"account_id":11461712,"reputation":121,"user_id":8401182,"accept_rate":62,"display_name":"user8401182"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":431,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1676860357,"creation_date":1676853884,"question_id":75504363,"body_markdown":"I have a object which i want to create multiple object&#39;s based on the list.\r\n\r\nAccount.java\r\n\r\n        class Account{\r\n        @JsonProperty(&quot;accountId&quot;)\r\n        private Long accountId;\r\n        @JsonProperty(&quot;custId&quot;)\r\n        private String custId;\r\n        //custName, comments, status\r\n        private String custCode;\r\n        private LocalDate startOn;\r\n        private String loanType;\r\n    }\r\n\r\nSample input request json:\r\n\r\n    &quot;accountRequest&quot;: [\r\n        {\r\n            &quot;accountId&quot;: &quot;10EIIP&quot;,\r\n            &quot;custId&quot;: &quot;11EE&quot;,\r\n            &quot;custName&quot;: &quot;XYZ&quot;,\r\n            &quot;comments&quot;: null,\r\n            &quot;status&quot;: &quot;active&quot;,\r\n            &quot;linkedDetails&quot;: [\r\n                {\r\n                    &quot;custCode&quot;: &quot;001&quot;,\r\n                    &quot;startOn&quot;: &quot;2023-01-01&quot;,\r\n                    &quot;loanType&quot;: &quot;auto&quot;\r\n                },\r\n                {\r\n                    &quot;custCode&quot;: &quot;002&quot;,\r\n                    &quot;startOn&quot;: &quot;2023-01-15&quot;,\r\n                    &quot;loanType&quot;: &quot;home&quot;\r\n                },\r\n                {\r\n                    &quot;custCode&quot;: &quot;003&quot;,\r\n                    &quot;startOn&quot;: &quot;2023-02-10&quot;,\r\n                    &quot;loanType&quot;: &quot;home&quot;\r\n                }\r\n            ]\r\n        }\r\n    ]\r\n\r\nSample java code:\r\n\r\n    List&lt;Account&gt; accountList = new ArrayList&lt;&gt;();\r\n    List&lt;AccountRequest&gt; accountRequestList = request.getAccountRequest();\r\n    accountRequestList.get(0).getLinkedDetails().forEach(linkedDetails -&gt; {\r\n        Account account = new Account();\r\n        //need to set accountId, custId, custName, comments, status in each account object along with below set values..\r\n        account.setCustCode(linkedDetails.getCustCode());\r\n        account.setStartOn(linkedDetails.getStartOn());\r\n        account.setLoanType(linkedDetails.getLoanType());\r\n        accountList.add(account);\r\n    });\r\n\r\nFrom &quot;accountRequest&quot; object, i want to iterate &quot;linkedDetails&quot; and based on linkedDetails size i have to create the objects.\r\n\r\n**Expected output json:**\r\n\r\n    &quot;accountList&quot;: [\r\n        {\r\n            &quot;accountId&quot;: &quot;10EIIP&quot;,\r\n            &quot;custId&quot;: &quot;11EE&quot;,\r\n            &quot;custName&quot;: &quot;XYZ&quot;,\r\n            &quot;comments&quot;: null,\r\n            &quot;status&quot;: &quot;active&quot;,\r\n            &quot;custCode&quot;: &quot;001&quot;,\r\n            &quot;startOn&quot;: &quot;2023-01-01&quot;,\r\n            &quot;loanType&quot;: &quot;auto&quot;\r\n        },\r\n        {\r\n            &quot;accountId&quot;: &quot;10EIIP&quot;,\r\n            &quot;custId&quot;: &quot;11EE&quot;,\r\n            &quot;custName&quot;: &quot;XYZ&quot;,\r\n            &quot;comments&quot;: null,\r\n            &quot;status&quot;: &quot;active&quot;,\r\n            &quot;custCode&quot;: &quot;002&quot;,\r\n            &quot;startOn&quot;: &quot;2023-01-15&quot;,\r\n            &quot;loanType&quot;: &quot;home&quot;\r\n        },\r\n        {\r\n            &quot;accountId&quot;: &quot;10EIIP&quot;,\r\n            &quot;custId&quot;: &quot;11EE&quot;,\r\n            &quot;custName&quot;: &quot;XYZ&quot;,\r\n            &quot;comments&quot;: null,\r\n            &quot;status&quot;: &quot;active&quot;,\r\n            &quot;custCode&quot;: &quot;003&quot;,\r\n            &quot;startOn&quot;: &quot;2023-02-10&quot;,\r\n            &quot;loanType&quot;: &quot;home&quot;\r\n        }\r\n    ]\r\n\r\nWith the sample java code shown above, the properties accountId, custId, custName, comments, status are null and not copied. Looking for the output json as shown in expected output.","title":"java8 stream to create multiple objects based on the list along with the existing properties","body":"<p>I have a object which i want to create multiple object's based on the list.</p>\n<p>Account.java</p>\n<pre><code>    class Account{\n    @JsonProperty(&quot;accountId&quot;)\n    private Long accountId;\n    @JsonProperty(&quot;custId&quot;)\n    private String custId;\n    //custName, comments, status\n    private String custCode;\n    private LocalDate startOn;\n    private String loanType;\n}\n</code></pre>\n<p>Sample input request json:</p>\n<pre><code>&quot;accountRequest&quot;: [\n    {\n        &quot;accountId&quot;: &quot;10EIIP&quot;,\n        &quot;custId&quot;: &quot;11EE&quot;,\n        &quot;custName&quot;: &quot;XYZ&quot;,\n        &quot;comments&quot;: null,\n        &quot;status&quot;: &quot;active&quot;,\n        &quot;linkedDetails&quot;: [\n            {\n                &quot;custCode&quot;: &quot;001&quot;,\n                &quot;startOn&quot;: &quot;2023-01-01&quot;,\n                &quot;loanType&quot;: &quot;auto&quot;\n            },\n            {\n                &quot;custCode&quot;: &quot;002&quot;,\n                &quot;startOn&quot;: &quot;2023-01-15&quot;,\n                &quot;loanType&quot;: &quot;home&quot;\n            },\n            {\n                &quot;custCode&quot;: &quot;003&quot;,\n                &quot;startOn&quot;: &quot;2023-02-10&quot;,\n                &quot;loanType&quot;: &quot;home&quot;\n            }\n        ]\n    }\n]\n</code></pre>\n<p>Sample java code:</p>\n<pre><code>List&lt;Account&gt; accountList = new ArrayList&lt;&gt;();\nList&lt;AccountRequest&gt; accountRequestList = request.getAccountRequest();\naccountRequestList.get(0).getLinkedDetails().forEach(linkedDetails -&gt; {\n    Account account = new Account();\n    //need to set accountId, custId, custName, comments, status in each account object along with below set values..\n    account.setCustCode(linkedDetails.getCustCode());\n    account.setStartOn(linkedDetails.getStartOn());\n    account.setLoanType(linkedDetails.getLoanType());\n    accountList.add(account);\n});\n</code></pre>\n<p>From &quot;accountRequest&quot; object, i want to iterate &quot;linkedDetails&quot; and based on linkedDetails size i have to create the objects.</p>\n<p><strong>Expected output json:</strong></p>\n<pre><code>&quot;accountList&quot;: [\n    {\n        &quot;accountId&quot;: &quot;10EIIP&quot;,\n        &quot;custId&quot;: &quot;11EE&quot;,\n        &quot;custName&quot;: &quot;XYZ&quot;,\n        &quot;comments&quot;: null,\n        &quot;status&quot;: &quot;active&quot;,\n        &quot;custCode&quot;: &quot;001&quot;,\n        &quot;startOn&quot;: &quot;2023-01-01&quot;,\n        &quot;loanType&quot;: &quot;auto&quot;\n    },\n    {\n        &quot;accountId&quot;: &quot;10EIIP&quot;,\n        &quot;custId&quot;: &quot;11EE&quot;,\n        &quot;custName&quot;: &quot;XYZ&quot;,\n        &quot;comments&quot;: null,\n        &quot;status&quot;: &quot;active&quot;,\n        &quot;custCode&quot;: &quot;002&quot;,\n        &quot;startOn&quot;: &quot;2023-01-15&quot;,\n        &quot;loanType&quot;: &quot;home&quot;\n    },\n    {\n        &quot;accountId&quot;: &quot;10EIIP&quot;,\n        &quot;custId&quot;: &quot;11EE&quot;,\n        &quot;custName&quot;: &quot;XYZ&quot;,\n        &quot;comments&quot;: null,\n        &quot;status&quot;: &quot;active&quot;,\n        &quot;custCode&quot;: &quot;003&quot;,\n        &quot;startOn&quot;: &quot;2023-02-10&quot;,\n        &quot;loanType&quot;: &quot;home&quot;\n    }\n]\n</code></pre>\n<p>With the sample java code shown above, the properties accountId, custId, custName, comments, status are null and not copied. Looking for the output json as shown in expected output.</p>\n"},{"tags":["java","database","oracle","sql-insert"],"comments":[{"owner":{"account_id":17782616,"reputation":6789,"user_id":12913491,"display_name":"pmdba"},"score":3,"creation_date":1676861222,"post_id":75504758,"comment_id":133216541,"body_markdown":"Did you commit the insert?","body":"Did you commit the insert?"},{"owner":{"account_id":3303062,"reputation":6616,"user_id":2778710,"display_name":"astentx"},"score":0,"creation_date":1676869956,"post_id":75504758,"comment_id":133217552,"body_markdown":"https://docs.oracle.com/en/database/oracle/oracle-database/19/sqlrf/COMMIT.html#GUID-6CD5C9A7-54B9-4FA2-BA3C-D6B4492B9EE2","body":"<a href=\"https://docs.oracle.com/en/database/oracle/oracle-database/19/sqlrf/COMMIT.html#GUID-6CD5C9A7-54B9-4FA2-BA3C-D6B4492B9EE2\" rel=\"nofollow noreferrer\">docs.oracle.com/en/database/oracle/oracle-database/19/sqlrf/&zwnj;&#8203;&hellip;</a>"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1676881212,"post_id":75504758,"comment_id":133219576,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."}],"owner":{"account_id":27828387,"reputation":1,"user_id":21247297,"display_name":""},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676860162,"creation_date":1676860075,"question_id":75504758,"body_markdown":"I encountered the problem of data insertion failure, and oracle does not report any errors and prompts. \r\nIn order to verify this problem, we performed a query after the data was inserted, but the data can be queried at that time after the insertion, and after a period of time, it can not be queried again. I guess there may have been some regression.\r\nSince Oracle does not have any log alerts, I have no more information to provide.\r\nHow can we solve this problem.\r\n","title":"oracle data insertion failure without any error","body":"<p>I encountered the problem of data insertion failure, and oracle does not report any errors and prompts.\nIn order to verify this problem, we performed a query after the data was inserted, but the data can be queried at that time after the insertion, and after a period of time, it can not be queried again. I guess there may have been some regression.\nSince Oracle does not have any log alerts, I have no more information to provide.\nHow can we solve this problem.</p>\n"},{"tags":["java","spring","spring-boot","validation","spring-mvc"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1676888211,"post_id":75504635,"comment_id":133221460,"body_markdown":"Validation should also work for the super class. One thing to take into consideration is that `null` is allowed by `@NotEmpty`. So if you want to stop `null` from being assigned you need an additional `@NotNull` on it.","body":"Validation should also work for the super class. One thing to take into consideration is that <code>null</code> is allowed by <code>@NotEmpty</code>. So if you want to stop <code>null</code> from being assigned you need an additional <code>@NotNull</code> on it."},{"owner":{"account_id":19733554,"reputation":19,"user_id":14448529,"display_name":"graceful-martin"},"score":0,"creation_date":1676891518,"post_id":75504635,"comment_id":133222388,"body_markdown":"You said Validation show also work for the super class but In that case it wouldn&#39;t validate super class validation...","body":"You said Validation show also work for the super class but In that case it wouldn&#39;t validate super class validation..."},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1676892093,"post_id":75504635,"comment_id":133222527,"body_markdown":"It should. It doesn&#39;t matter where the annotations are. As stated I suspect the error lies in your expectations (i.e not sending anything leading to `null` which is perfectly fine by `@NotEmpty` as it allows `null` values).","body":"It should. It doesn&#39;t matter where the annotations are. As stated I suspect the error lies in your expectations (i.e not sending anything leading to <code>null</code> which is perfectly fine by <code>@NotEmpty</code> as it allows <code>null</code> values)."}],"owner":{"account_id":19733554,"reputation":19,"user_id":14448529,"display_name":"graceful-martin"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":182,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676858352,"creation_date":1676858352,"question_id":75504635,"body_markdown":"I&#39;m using Spring framework,\r\nand I faced the inheritance problem when I write Controller logic.\r\n\r\nFirst of all,\r\nthis is my Controller code snippet\r\n\r\n```\r\n@PostMapping(&quot;/pay/detail&quot;)\r\npublic ResponseEntity&lt;PayDetail.Response&gt; getPayDetail(\r\n    @Valid PayDetail.Request payDetail\r\n) {\r\n\r\n    ... some code\r\n}\r\n```\r\n\r\n\r\nand PayDetail class looks like this\r\n\r\n```\r\npublic class PayDetail {    \r\n    @Getter\r\n    @Setter\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    public static class Request extends CommReqForm {\r\n        @NotNull(message = &quot;Not null please&quot;)\r\n        private String work_type;\r\n    }\r\n}\r\n```\r\n\r\nand CommReqForm\r\n\r\n```\r\n@Data\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\npublic class CommReqForm {\r\n\r\n    @NotEmpty(message = &quot;servicecode not empty&quot;)\r\n    private String servicecode;\r\n\r\n    @NotEmpty(message = &quot;reqtype not empty&quot;)\r\n    private String reqtype; \r\n}\r\n```\r\n\r\nI wish that I can validate both of PayDetail.Request and CommReqForm classes but It makes validation just only PayDetail.Request class.\r\nHow can I solve this problem?\r\n\r\n@Valid cannot validate super class. I want to make both of sub class and super class validation.","title":"How can I make javax validation both of sub class and super class?","body":"<p>I'm using Spring framework,\nand I faced the inheritance problem when I write Controller logic.</p>\n<p>First of all,\nthis is my Controller code snippet</p>\n<pre><code>@PostMapping(&quot;/pay/detail&quot;)\npublic ResponseEntity&lt;PayDetail.Response&gt; getPayDetail(\n    @Valid PayDetail.Request payDetail\n) {\n\n    ... some code\n}\n</code></pre>\n<p>and PayDetail class looks like this</p>\n<pre><code>public class PayDetail {    \n    @Getter\n    @Setter\n    @NoArgsConstructor\n    @AllArgsConstructor\n    public static class Request extends CommReqForm {\n        @NotNull(message = &quot;Not null please&quot;)\n        private String work_type;\n    }\n}\n</code></pre>\n<p>and CommReqForm</p>\n<pre><code>@Data\n@AllArgsConstructor\n@NoArgsConstructor\npublic class CommReqForm {\n\n    @NotEmpty(message = &quot;servicecode not empty&quot;)\n    private String servicecode;\n\n    @NotEmpty(message = &quot;reqtype not empty&quot;)\n    private String reqtype; \n}\n</code></pre>\n<p>I wish that I can validate both of PayDetail.Request and CommReqForm classes but It makes validation just only PayDetail.Request class.\nHow can I solve this problem?</p>\n<p>@Valid cannot validate super class. I want to make both of sub class and super class validation.</p>\n"},{"tags":["java","gradle","react-native"],"owner":{"account_id":5380310,"reputation":47,"user_id":4285724,"display_name":"Nicholas369"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":705,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1676857929,"creation_date":1625296198,"question_id":68233988,"body_markdown":"# React Native First build Error #\r\n\r\nI wanted to setup my react native build and followed the steps Exactly from the environmental setup from the official react native documentation at version 0.64 with Google APIs Intel x86 Atom System Image part of the Android 10.0. \r\n&lt;https://reactnative.dev/docs/environment-setup&gt;\r\n\r\nBuild:\r\n&lt;https://github.com/NicChoo96/ReactNative0.64_Build&gt;\r\n\r\nI have not even successfully build it and display the first react native screen on my emulator. The emulator is working fine.\r\n\r\nI have also searched google for so many times, my tabs are just stacked but I cannot find any solution.\r\n\r\n## Why not Expo ##\r\n\r\nHaving built and rebuilt for many days, for my use case, I wouldn&#39;t be able to use expo so I can only stick to using react-native-cli. In case you want to know what, I want to use web3.js/ether.js, but I cannot even get the basic build up, how to even start anything?\r\n\r\n## My current tools and version ##\r\n```\r\nAPI Level: 29 (Android 10.0 Q)\r\nAndroid SDK Build-Tools: 29.0.3\r\nJDK: openjdk-8u292-b10\r\n\r\nUser variables for User:\r\nANDROID_HOME: %LOCALAPPDATA%\\Android\\sdk\r\nJAVA_HOME: C:\\Program Files\\OpenJDK\\openjdk-8u292-b10\r\nNode Version:v16.4.0\r\nYarn Version: 1.22.10\r\n\r\nPath: \r\n{ \r\n  C:\\Program Files\\OpenJDK\\openjdk-8u292-b10\\bin,\r\n  %LOCALAPPDATA%\\Android\\Sdk\\platform-tools,\r\n  %USERPROFILE%\\AppData\\Local\\Android\\sdk\\emulator\r\n} \r\n```\r\n\r\n## Error Logs ##\r\nThe errors below is what has shown up building again and again:\r\n\r\n### checkDebugDuplicateClasses error ###\r\n\r\n```\r\n\r\nExecution failed for task &#39;:app:checkDebugDuplicateClasses&#39;.\r\n&gt; A failure occurred while executing com.android.build.gradle.internal.tasks.CheckDuplicatesRunnable\r\n   &gt; Duplicate class com.facebook.soloader.ApkSoSource found in modules jetified-react-native-0.20.1-runtime (com.facebook.react:react-native:0.20.1) and jetified-soloader-0.10.1-runtime (com.facebook.soloader:soloader:0.10.1)\r\n     Duplicate class com.facebook.soloader.DirectorySoSource found in modules jetified-react-native-0.20.1-runtime (com.facebook.react:react-native:0.20.1) and jetified-soloader-0.10.1-runtime (com.facebook.soloader:soloader:0.10.1)\r\n     Duplicate class com.facebook.soloader.Elf32_Dyn found in modules jetified-react-native-0.20.1-runtime (com.facebook.react:react-native:0.20.1) and jetified-soloader-0.10.1-runtime (com.facebook.soloader:soloader:0.10.1)\r\n     Duplicate class com.facebook.soloader.Elf32_Ehdr found in modules jetified-react-native-0.20.1-runtime (com.facebook.react:react-native:0.20.1) and jetified-soloader-0.10.1-runtime (com.facebook.soloader:soloader:0.10.1)\r\n     Duplicate class com.facebook.soloader.Elf32_Phdr found in modules jetified-react-native-0.20.1-runtime (com.facebook.react:react-native:0.20.1) and jetified-soloader-0.10.1-runtime (com.facebook.soloader:soloader:0.10.1)\r\n     Duplicate class com.facebook.soloader.Elf32_Shdr found in modules jetified-react-native-0.20.1-runtime (com.facebook.react:react-native:0.20.1) and jetified-soloader-0.10.1-runtime (com.facebook.soloader:soloader:0.10.1)\r\n     Duplicate class com.facebook.soloader.Elf64_Dyn found in modules jetified-react-native-0.20.1-runtime (com.facebook.react:react-native:0.20.1) and jetified-soloader-0.10.1-runtime (com.facebook.soloader:soloader:0.10.1)\r\n     Duplicate class com.facebook.soloader.Elf64_Ehdr found in modules jetified-react-native-0.20.1-runtime (com.facebook.react:react-native:0.20.1) and jetified-soloader-0.10.1-runtime (com.facebook.soloader:soloader:0.10.1)\r\n     Duplicate class com.facebook.soloader.Elf64_Phdr found in modules jetified-react-native-0.20.1-runtime (com.facebook.react:react-native:0.20.1) and jetified-soloader-0.10.1-runtime (com.facebook.soloader:soloader:0.10.1)\r\n     Duplicate class com.facebook.soloader.Elf64_Shdr found in modules jetified-react-native-0.20.1-runtime (com.facebook.react:react-native:0.20.1) and jetified-soloader-0.10.1-runtime (com.facebook.soloader:soloader:0.10.1)\r\n     Duplicate class com.facebook.soloader.ExoSoSource found in modules jetified-react-native-0.20.1-runtime (com.facebook.react:react-native:0.20.1) and jetified-soloader-0.10.1-runtime (com.facebook.soloader:soloader:0.10.1)\r\n     Duplicate class com.facebook.soloader.FileLocker found in modules jetified-react-native-0.20.1-runtime (com.facebook.react:react-native:0.20.1) and jetified-soloader-0.10.1-runtime (com.facebook.soloader:soloader:0.10.1)\r\n     Duplicate class com.facebook.soloader.MinElf found in modules jetified-react-native-0.20.1-runtime (com.facebook.react:react-native:0.20.1) and jetified-soloader-0.10.1-runtime (com.facebook.soloader:soloader:0.10.1)\r\n     Duplicate class com.facebook.soloader.MinElf$ElfError found in modules jetified-react-native-0.20.1-runtime (com.facebook.react:react-native:0.20.1) and jetified-soloader-0.10.1-runtime (com.facebook.soloader:soloader:0.10.1)\r\n     Duplicate class com.facebook.soloader.NativeLibrary found in modules jetified-react-native-0.20.1-runtime (com.facebook.react:react-native:0.20.1) and jetified-soloader-0.10.1-runtime (com.facebook.soloader:soloader:0.10.1)\r\n     Duplicate class com.facebook.soloader.NoopSoSource found in modules jetified-react-native-0.20.1-runtime (com.facebook.react:react-native:0.20.1) and jetified-soloader-0.10.1-runtime (com.facebook.soloader:soloader:0.10.1)\r\n     Duplicate class com.facebook.soloader.SoLoader found in modules jetified-react-native-0.20.1-runtime (com.facebook.react:react-native:0.20.1) and jetified-soloader-0.10.1-runtime (com.facebook.soloader:soloader:0.10.1)\r\n     Duplicate class com.facebook.soloader.SoSource found in modules jetified-react-native-0.20.1-runtime (com.facebook.react:react-native:0.20.1) and jetified-soloader-0.10.1-runtime (com.facebook.soloader:soloader:0.10.1)\r\n     Duplicate class com.facebook.soloader.SysUtil found in modules jetified-react-native-0.20.1-runtime (com.facebook.react:react-native:0.20.1) and jetified-soloader-0.10.1-runtime (com.facebook.soloader:soloader:0.10.1)\r\n     Duplicate class com.facebook.soloader.SysUtil$LollipopSysdeps found in modules jetified-react-native-0.20.1-runtime (com.facebook.react:react-native:0.20.1) and jetified-soloader-0.10.1-runtime (com.facebook.soloader:soloader:0.10.1)\r\n```\r\n\r\n### compileDebugJavaWithJavac error ###\r\n```\r\n&gt; Task :app:compileDebugJavaWithJavac FAILED\r\n15 actionable tasks: 2 executed, 13 up-to-date\r\nD:\\1) ProjectsFolder\\FYP\\Learning\\web3RN\\android\\app\\src\\main\\java\\com\\web3rn\\MainApplication.java:6: error: cannot find symbol\r\nimport com.facebook.react.ReactApplication;\r\n                         ^\r\n  symbol:   class ReactApplication\r\n  location: package com.facebook.react\r\nD:\\1) ProjectsFolder\\FYP\\Learning\\web3RN\\android\\app\\src\\main\\java\\com\\web3rn\\MainApplication.java:8: error: cannot find symbol\r\nimport com.facebook.react.ReactNativeHost;\r\n                         ^\r\n  symbol:   class ReactNativeHost\r\n  location: package com.facebook.react\r\nD:\\1) ProjectsFolder\\FYP\\Learning\\web3RN\\android\\app\\src\\main\\java\\com\\web3rn\\MainApplication.java:14: error: cannot find symbol\r\npublic class MainApplication extends Application implements ReactApplication {\r\n                                                            ^\r\n  symbol: class ReactApplication\r\nD:\\1) ProjectsFolder\\FYP\\Learning\\web3RN\\android\\app\\src\\main\\java\\com\\web3rn\\MainApplication.java:16: error: cannot find symbol\r\n  private final ReactNativeHost mReactNativeHost =\r\n                ^\r\n  symbol:   class ReactNativeHost\r\n  location: class MainApplication\r\nD:\\1) ProjectsFolder\\FYP\\Learning\\web3RN\\android\\app\\src\\main\\java\\com\\web3rn\\MainApplication.java:39: error: cannot find symbol\r\n  public ReactNativeHost getReactNativeHost() {\r\n         ^\r\n  symbol:   class ReactNativeHost\r\n  location: class MainApplication\r\nD:\\1) ProjectsFolder\\FYP\\Learning\\web3RN\\android\\app\\build\\generated\\rncli\\src\\main\\java\\com\\facebook\\react\\PackageList.java:9: error: cannot find symbol\r\nimport com.facebook.react.shell.MainPackageConfig;\r\n                               ^\r\n  symbol:   class MainPackageConfig\r\n  location: package com.facebook.react.shell\r\nD:\\1) ProjectsFolder\\FYP\\Learning\\web3RN\\android\\app\\build\\generated\\rncli\\src\\main\\java\\com\\facebook\\react\\PackageList.java:18: error: cannot find symbol\r\n  private ReactNativeHost reactNativeHost;\r\n          ^\r\n  symbol:   class ReactNativeHost\r\n  location: class PackageList\r\nD:\\1) ProjectsFolder\\FYP\\Learning\\web3RN\\android\\app\\build\\generated\\rncli\\src\\main\\java\\com\\facebook\\react\\PackageList.java:19: error: cannot find symbol\r\n  private MainPackageConfig mConfig;\r\n          ^\r\n  symbol:   class MainPackageConfig\r\n  location: class PackageList\r\nD:\\1) ProjectsFolder\\FYP\\Learning\\web3RN\\android\\app\\build\\generated\\rncli\\src\\main\\java\\com\\facebook\\react\\PackageList.java:21: error: cannot find symbol\r\n  public PackageList(ReactNativeHost reactNativeHost) {\r\n                     ^\r\n  symbol:   class ReactNativeHost\r\n  location: class PackageList\r\nD:\\1) ProjectsFolder\\FYP\\Learning\\web3RN\\android\\app\\build\\generated\\rncli\\src\\main\\java\\com\\facebook\\react\\PackageList.java:29: error: cannot find symbol\r\n  public PackageList(ReactNativeHost reactNativeHost, MainPackageConfig config) {\r\n                     ^\r\n  symbol:   class ReactNativeHost\r\n  location: class PackageList\r\nD:\\1) ProjectsFolder\\FYP\\Learning\\web3RN\\android\\app\\build\\generated\\rncli\\src\\main\\java\\com\\facebook\\react\\PackageList.java:29: error: cannot find symbol\r\n  public PackageList(ReactNativeHost reactNativeHost, MainPackageConfig config) {\r\n                                                      ^\r\n  symbol:   class MainPackageConfig\r\n  location: class PackageList\r\nD:\\1) ProjectsFolder\\FYP\\Learning\\web3RN\\android\\app\\build\\generated\\rncli\\src\\main\\java\\com\\facebook\\react\\PackageList.java:34: error: cannot find symbol\r\n  public PackageList(Application application, MainPackageConfig config) {\r\n                                              ^\r\n  symbol:   class MainPackageConfig\r\n  location: class PackageList\r\nD:\\1) ProjectsFolder\\FYP\\Learning\\web3RN\\android\\app\\build\\generated\\rncli\\src\\main\\java\\com\\facebook\\react\\PackageList.java:40: error: cannot find symbol\r\n  private ReactNativeHost getReactNativeHost() {\r\n          ^\r\n  symbol:   class ReactNativeHost\r\n  location: class PackageList\r\nD:\\1) ProjectsFolder\\FYP\\Learning\\web3RN\\android\\app\\src\\debug\\java\\com\\web3rn\\ReactNativeFlipper.java:25: error: package okhttp3 does not exist\r\nimport okhttp3.OkHttpClient;\r\n              ^\r\nD:\\1) ProjectsFolder\\FYP\\Learning\\web3RN\\android\\app\\src\\main\\java\\com\\web3rn\\MainActivity.java:5: error: MainActivity is not abstract and does not override abstract method getPackages() in ReactActivity\r\npublic class MainActivity extends ReactActivity {\r\n       ^\r\nD:\\1) ProjectsFolder\\FYP\\Learning\\web3RN\\android\\app\\src\\main\\java\\com\\web3rn\\MainApplication.java:17: error: cannot find symbol\r\n      new ReactNativeHost(this) {\r\n          ^\r\n  symbol:   class ReactNativeHost\r\n  location: class MainApplication\r\nD:\\1) ProjectsFolder\\FYP\\Learning\\web3RN\\android\\app\\src\\main\\java\\com\\web3rn\\MainApplication.java:18: error: method does not override or implement a method from a supertype\r\n        @Override\r\n        ^\r\nD:\\1) ProjectsFolder\\FYP\\Learning\\web3RN\\android\\app\\src\\main\\java\\com\\web3rn\\MainApplication.java:23: error: method does not override or implement a method from a supertype\r\n        @Override\r\n        ^\r\nD:\\1) ProjectsFolder\\FYP\\Learning\\web3RN\\android\\app\\src\\main\\java\\com\\web3rn\\MainApplication.java:32: error: method does not override or implement a method from a supertype\r\n        @Override\r\n        ^\r\nD:\\1) ProjectsFolder\\FYP\\Learning\\web3RN\\android\\app\\src\\main\\java\\com\\web3rn\\MainApplication.java:38: error: method does not override or implement a method from a supertype\r\n  @Override\r\n  ^\r\nD:\\1) ProjectsFolder\\FYP\\Learning\\web3RN\\android\\app\\build\\generated\\rncli\\src\\main\\java\\com\\facebook\\react\\PackageList.java:26: error: reference to PackageList is ambiguous\r\n    this(application, null);\r\n    ^\r\n  both constructor PackageList(ReactNativeHost,MainPackageConfig) in PackageList and constructor PackageList(Application,MainPackageConfig) in PackageList match\r\nD:\\1) ProjectsFolder\\FYP\\Learning\\web3RN\\android\\app\\src\\debug\\java\\com\\web3rn\\ReactNativeFlipper.java:40: error: cannot find symbol\r\n          new NetworkingModule.CustomClientBuilder() {\r\n                              ^\r\n  symbol:   class CustomClientBuilder\r\n  location: class NetworkingModule\r\nD:\\1) ProjectsFolder\\FYP\\Learning\\web3RN\\android\\app\\src\\debug\\java\\com\\web3rn\\ReactNativeFlipper.java:42: error: package OkHttpClient does not exist\r\n            public void apply(OkHttpClient.Builder builder) {\r\n                                          ^\r\nD:\\1) ProjectsFolder\\FYP\\Learning\\web3RN\\android\\app\\src\\debug\\java\\com\\web3rn\\ReactNativeFlipper.java:41: error: method does not override or implement a method from a supertype\r\n            @Override\r\n            ^\r\nD:\\1) ProjectsFolder\\FYP\\Learning\\web3RN\\android\\app\\src\\debug\\java\\com\\web3rn\\ReactNativeFlipper.java:57: error: cannot find symbol\r\n                reactInstanceManager.removeReactInstanceEventListener(this);\r\n                                    ^\r\n  symbol:   method removeReactInstanceEventListener(&lt;anonymous ReactInstanceEventListener&gt;)\r\n  location: variable reactInstanceManager of type ReactInstanceManager\r\nNote: D:\\1) ProjectsFolder\\FYP\\Learning\\web3RN\\android\\app\\src\\debug\\java\\com\\web3rn\\ReactNativeFlipper.java uses or overrides a deprecated API.\r\nNote: Recompile with -Xlint:deprecation for details.\r\n25 errors\r\n```\r\n\r\n# What I have tried #\r\n\r\nI have already try to mess around with JDK, JRE, build.gradle, build tool version. It seems that I have never escaped from these same error over and over again. Currently, I just want to know what is the underlying that is causing this errors despite my efforts of trying to get it working at all.\r\n\r\n - Tried ./gradlew clean and build multiple times.\r\n - Tried changing gradle version but unsure the accurate version as the\r\n   template downloaded comes with build:gradle:4.1.0.\r\n - Tried multiple JDK version: 1.8, openjdk-8u292-b10, 15.0.1\r\n - Tried the implementation &quot;com.facebook.react:react-native:+&quot; to \r\n   implementation &quot;com.facebook.react:react-native:0.64.0&quot; but got an\r\n   error of not allowing the change.\r\n - Tried removing jcenter() from android/build.gradle but only just\r\n   error.\r\n - Tried changing compileSdkVersion and targetSdkVersion and\r\n   minSdkVersion around but not to avail.\r\n - Tried changing in this file but doesn&#39;t work\r\n\r\n```\r\nandroid/app/build.gradle\r\ndebugImplementation(&quot;com.facebook.flipper:flipper:${FLIPPER_VERSION}&quot;) {\r\n      exclude group: &#39;com.facebook.soloader&#39;\r\n      exclude group:&#39;com.facebook.fbjni&#39;\r\n    }\r\n```\r\n\r\nTried many and multiple ways, but I just have no clue which of these dependencies are causing this errors and stopping me to build even a Hello World Page.\r\n\r\n# My build.gradle files that is the original templates, what I have tried is not included since none of them works #\r\n\r\n### android/app/build.gradle ###\r\n\r\n```\r\napply plugin: &quot;com.android.application&quot;\r\n\r\nimport com.android.build.OutputFile\r\n\r\n/**\r\n * The react.gradle file registers a task for each build variant (e.g. bundleDebugJsAndAssets\r\n * and bundleReleaseJsAndAssets).\r\n * These basically call `react-native bundle` with the correct arguments during the Android build\r\n * cycle. By default, bundleDebugJsAndAssets is skipped, as in debug/dev mode we prefer to load the\r\n * bundle directly from the development server. Below you can see all the possible configurations\r\n * and their defaults. If you decide to add a configuration block, make sure to add it before the\r\n * `apply from: &quot;../../node_modules/react-native/react.gradle&quot;` line.\r\n *\r\n * project.ext.react = [\r\n *   // the name of the generated asset file containing your JS bundle\r\n *   bundleAssetName: &quot;index.android.bundle&quot;,\r\n *\r\n *   // the entry file for bundle generation. If none specified and\r\n *   // &quot;index.android.js&quot; exists, it will be used. Otherwise &quot;index.js&quot; is\r\n *   // default. Can be overridden with ENTRY_FILE environment variable.\r\n *   entryFile: &quot;index.android.js&quot;,\r\n *\r\n *   // https://reactnative.dev/docs/performance#enable-the-ram-format\r\n *   bundleCommand: &quot;ram-bundle&quot;,\r\n *\r\n *   // whether to bundle JS and assets in debug mode\r\n *   bundleInDebug: false,\r\n *\r\n *   // whether to bundle JS and assets in release mode\r\n *   bundleInRelease: true,\r\n *\r\n *   // whether to bundle JS and assets in another build variant (if configured).\r\n *   // See http://tools.android.com/tech-docs/new-build-system/user-guide#TOC-Build-Variants\r\n *   // The configuration property can be in the following formats\r\n *   //         &#39;bundleIn${productFlavor}${buildType}&#39;\r\n *   //         &#39;bundleIn${buildType}&#39;\r\n *   // bundleInFreeDebug: true,\r\n *   // bundleInPaidRelease: true,\r\n *   // bundleInBeta: true,\r\n *\r\n *   // whether to disable dev mode in custom build variants (by default only disabled in release)\r\n *   // for example: to disable dev mode in the staging build type (if configured)\r\n *   devDisabledInStaging: true,\r\n *   // The configuration property can be in the following formats\r\n *   //         &#39;devDisabledIn${productFlavor}${buildType}&#39;\r\n *   //         &#39;devDisabledIn${buildType}&#39;\r\n *\r\n *   // the root of your project, i.e. where &quot;package.json&quot; lives\r\n *   root: &quot;../../&quot;,\r\n *\r\n *   // where to put the JS bundle asset in debug mode\r\n *   jsBundleDirDebug: &quot;$buildDir/intermediates/assets/debug&quot;,\r\n *\r\n *   // where to put the JS bundle asset in release mode\r\n *   jsBundleDirRelease: &quot;$buildDir/intermediates/assets/release&quot;,\r\n *\r\n *   // where to put drawable resources / React Native assets, e.g. the ones you use via\r\n *   // require(&#39;./image.png&#39;)), in debug mode\r\n *   resourcesDirDebug: &quot;$buildDir/intermediates/res/merged/debug&quot;,\r\n *\r\n *   // where to put drawable resources / React Native assets, e.g. the ones you use via\r\n *   // require(&#39;./image.png&#39;)), in release mode\r\n *   resourcesDirRelease: &quot;$buildDir/intermediates/res/merged/release&quot;,\r\n *\r\n *   // by default the gradle tasks are skipped if none of the JS files or assets change; this means\r\n *   // that we don&#39;t look at files in android/ or ios/ to determine whether the tasks are up to\r\n *   // date; if you have any other folders that you want to ignore for performance reasons (gradle\r\n *   // indexes the entire tree), add them here. Alternatively, if you have JS files in android/\r\n *   // for example, you might want to remove it from here.\r\n *   inputExcludes: [&quot;android/**&quot;, &quot;ios/**&quot;],\r\n *\r\n *   // override which node gets called and with what additional arguments\r\n *   nodeExecutableAndArgs: [&quot;node&quot;],\r\n *\r\n *   // supply additional arguments to the packager\r\n *   extraPackagerArgs: []\r\n * ]\r\n */\r\n\r\nproject.ext.react = [\r\n    enableHermes: false,  // clean and rebuild if changing\r\n]\r\n\r\napply from: &quot;../../node_modules/react-native/react.gradle&quot;\r\n\r\n/**\r\n * Set this to true to create two separate APKs instead of one:\r\n *   - An APK that only works on ARM devices\r\n *   - An APK that only works on x86 devices\r\n * The advantage is the size of the APK is reduced by about 4MB.\r\n * Upload all the APKs to the Play Store and people will download\r\n * the correct one based on the CPU architecture of their device.\r\n */\r\ndef enableSeparateBuildPerCPUArchitecture = false\r\n\r\n/**\r\n * Run Proguard to shrink the Java bytecode in release builds.\r\n */\r\ndef enableProguardInReleaseBuilds = false\r\n\r\n/**\r\n * The preferred build flavor of JavaScriptCore.\r\n *\r\n * For example, to use the international variant, you can use:\r\n * `def jscFlavor = &#39;org.webkit:android-jsc-intl:+&#39;`\r\n *\r\n * The international variant includes ICU i18n library and necessary data\r\n * allowing to use e.g. `Date.toLocaleString` and `String.localeCompare` that\r\n * give correct results when using with locales other than en-US.  Note that\r\n * this variant is about 6MiB larger per architecture than default.\r\n */\r\ndef jscFlavor = &#39;org.webkit:android-jsc:+&#39;\r\n\r\n/**\r\n * Whether to enable the Hermes VM.\r\n *\r\n * This should be set on project.ext.react and mirrored here.  If it is not set\r\n * on project.ext.react, JavaScript will not be compiled to Hermes Bytecode\r\n * and the benefits of using Hermes will therefore be sharply reduced.\r\n */\r\ndef enableHermes = project.ext.react.get(&quot;enableHermes&quot;, false);\r\n\r\nandroid {\r\n    ndkVersion rootProject.ext.ndkVersion\r\n\r\n    compileSdkVersion rootProject.ext.compileSdkVersion\r\n\r\n    compileOptions {\r\n        sourceCompatibility JavaVersion.VERSION_1_8\r\n        targetCompatibility JavaVersion.VERSION_1_8\r\n    }\r\n\r\n    defaultConfig {\r\n        applicationId &quot;com.awesomeproject&quot;\r\n        minSdkVersion rootProject.ext.minSdkVersion\r\n        targetSdkVersion rootProject.ext.targetSdkVersion\r\n        versionCode 1\r\n        versionName &quot;1.0&quot;\r\n    }\r\n    splits {\r\n        abi {\r\n            reset()\r\n            enable enableSeparateBuildPerCPUArchitecture\r\n            universalApk false  // If true, also generate a universal APK\r\n            include &quot;armeabi-v7a&quot;, &quot;x86&quot;, &quot;arm64-v8a&quot;, &quot;x86_64&quot;\r\n        }\r\n    }\r\n    signingConfigs {\r\n        debug {\r\n            storeFile file(&#39;debug.keystore&#39;)\r\n            storePassword &#39;android&#39;\r\n            keyAlias &#39;androiddebugkey&#39;\r\n            keyPassword &#39;android&#39;\r\n        }\r\n    }\r\n    buildTypes {\r\n        debug {\r\n            signingConfig signingConfigs.debug\r\n        }\r\n        release {\r\n            // Caution! In production, you need to generate your own keystore file.\r\n            // see https://reactnative.dev/docs/signed-apk-android.\r\n            signingConfig signingConfigs.debug\r\n            minifyEnabled enableProguardInReleaseBuilds\r\n            proguardFiles getDefaultProguardFile(&quot;proguard-android.txt&quot;), &quot;proguard-rules.pro&quot;\r\n        }\r\n    }\r\n\r\n    // applicationVariants are e.g. debug, release\r\n    applicationVariants.all { variant -&gt;\r\n        variant.outputs.each { output -&gt;\r\n            // For each separate APK per architecture, set a unique version code as described here:\r\n            // https://developer.android.com/studio/build/configure-apk-splits.html\r\n            // Example: versionCode 1 will generate 1001 for armeabi-v7a, 1002 for x86, etc.\r\n            def versionCodes = [&quot;armeabi-v7a&quot;: 1, &quot;x86&quot;: 2, &quot;arm64-v8a&quot;: 3, &quot;x86_64&quot;: 4]\r\n            def abi = output.getFilter(OutputFile.ABI)\r\n            if (abi != null) {  // null for the universal-debug, universal-release variants\r\n                output.versionCodeOverride =\r\n                        defaultConfig.versionCode * 1000 + versionCodes.get(abi)\r\n            }\r\n\r\n        }\r\n    }\r\n}\r\n\r\ndependencies {\r\n    implementation fileTree(dir: &quot;libs&quot;, include: [&quot;*.jar&quot;])\r\n    //noinspection GradleDynamicVersion\r\n    implementation &quot;com.facebook.react:react-native:+&quot;  // From node_modules\r\n\r\n    implementation &quot;androidx.swiperefreshlayout:swiperefreshlayout:1.0.0&quot;\r\n\r\n    debugImplementation(&quot;com.facebook.flipper:flipper:${FLIPPER_VERSION}&quot;) {\r\n      exclude group:&#39;com.facebook.fbjni&#39;\r\n    }\r\n\r\n    debugImplementation(&quot;com.facebook.flipper:flipper-network-plugin:${FLIPPER_VERSION}&quot;) {\r\n        exclude group:&#39;com.facebook.flipper&#39;\r\n        exclude group:&#39;com.squareup.okhttp3&#39;, module:&#39;okhttp&#39;\r\n    }\r\n\r\n    debugImplementation(&quot;com.facebook.flipper:flipper-fresco-plugin:${FLIPPER_VERSION}&quot;) {\r\n        exclude group:&#39;com.facebook.flipper&#39;\r\n    }\r\n\r\n    if (enableHermes) {\r\n        def hermesPath = &quot;../../node_modules/hermes-engine/android/&quot;;\r\n        debugImplementation files(hermesPath + &quot;hermes-debug.aar&quot;)\r\n        releaseImplementation files(hermesPath + &quot;hermes-release.aar&quot;)\r\n    } else {\r\n        implementation jscFlavor\r\n    }\r\n}\r\n\r\n// Run this once to be able to run the application with BUCK\r\n// puts all compile dependencies into folder libs for BUCK to use\r\ntask copyDownloadableDepsToLibs(type: Copy) {\r\n    from configurations.compile\r\n    into &#39;libs&#39;\r\n}\r\n\r\napply from: file(&quot;../../node_modules/@react-native-community/cli-platform-android/native_modules.gradle&quot;); applyNativeModulesAppBuildGradle(project)\r\n\r\n```\r\n\r\n## android/build.gradle ##\r\n\r\n```\r\n// Top-level build file where you can add configuration options common to all sub-projects/modules.\r\n\r\nbuildscript {\r\n    ext {\r\n        buildToolsVersion = &quot;29.0.3&quot;\r\n        minSdkVersion = 21\r\n        compileSdkVersion = 29\r\n        targetSdkVersion = 29\r\n        ndkVersion = &quot;20.1.5948944&quot;\r\n    }\r\n    repositories {\r\n        google()\r\n        jcenter()\r\n    }\r\n    dependencies {\r\n        classpath(&quot;com.android.tools.build:gradle:4.1.0&quot;)\r\n        // NOTE: Do not place your application dependencies here; they belong\r\n        // in the individual module build.gradle files\r\n    }\r\n}\r\n\r\nallprojects {\r\n    repositories {\r\n        mavenLocal()\r\n        maven {\r\n            // All of React Native (JS, Obj-C sources, Android binaries) is installed from npm\r\n            url(&quot;$rootDir/../node_modules/react-native/android&quot;)\r\n        }\r\n        maven {\r\n            // Android JSC is installed from npm\r\n            url(&quot;$rootDir/../node_modules/jsc-android/dist&quot;)\r\n        }\r\n\r\n        google()\r\n        jcenter()\r\n        maven { url &#39;https://www.jitpack.io&#39; }\r\n    }\r\n}\r\n```\r\n","title":"React Native CLI version 0.64 setup Execution failed for task&#39;:app:checkDebugDuplicateClasses&#39;. and Task :app:compileDebugJavaWithJavac FAILED","body":"<h1>React Native First build Error</h1>\n<p>I wanted to setup my react native build and followed the steps Exactly from the environmental setup from the official react native documentation at version 0.64 with Google APIs Intel x86 Atom System Image part of the Android 10.0.\n<a href=\"https://reactnative.dev/docs/environment-setup\" rel=\"nofollow noreferrer\">https://reactnative.dev/docs/environment-setup</a></p>\n<p>Build:\n<a href=\"https://github.com/NicChoo96/ReactNative0.64_Build\" rel=\"nofollow noreferrer\">https://github.com/NicChoo96/ReactNative0.64_Build</a></p>\n<p>I have not even successfully build it and display the first react native screen on my emulator. The emulator is working fine.</p>\n<p>I have also searched google for so many times, my tabs are just stacked but I cannot find any solution.</p>\n<h2>Why not Expo</h2>\n<p>Having built and rebuilt for many days, for my use case, I wouldn't be able to use expo so I can only stick to using react-native-cli. In case you want to know what, I want to use web3.js/ether.js, but I cannot even get the basic build up, how to even start anything?</p>\n<h2>My current tools and version</h2>\n<pre><code>API Level: 29 (Android 10.0 Q)\nAndroid SDK Build-Tools: 29.0.3\nJDK: openjdk-8u292-b10\n\nUser variables for User:\nANDROID_HOME: %LOCALAPPDATA%\\Android\\sdk\nJAVA_HOME: C:\\Program Files\\OpenJDK\\openjdk-8u292-b10\nNode Version:v16.4.0\nYarn Version: 1.22.10\n\nPath: \n{ \n  C:\\Program Files\\OpenJDK\\openjdk-8u292-b10\\bin,\n  %LOCALAPPDATA%\\Android\\Sdk\\platform-tools,\n  %USERPROFILE%\\AppData\\Local\\Android\\sdk\\emulator\n} \n</code></pre>\n<h2>Error Logs</h2>\n<p>The errors below is what has shown up building again and again:</p>\n<h3>checkDebugDuplicateClasses error</h3>\n<pre><code>\nExecution failed for task ':app:checkDebugDuplicateClasses'.\n&gt; A failure occurred while executing com.android.build.gradle.internal.tasks.CheckDuplicatesRunnable\n   &gt; Duplicate class com.facebook.soloader.ApkSoSource found in modules jetified-react-native-0.20.1-runtime (com.facebook.react:react-native:0.20.1) and jetified-soloader-0.10.1-runtime (com.facebook.soloader:soloader:0.10.1)\n     Duplicate class com.facebook.soloader.DirectorySoSource found in modules jetified-react-native-0.20.1-runtime (com.facebook.react:react-native:0.20.1) and jetified-soloader-0.10.1-runtime (com.facebook.soloader:soloader:0.10.1)\n     Duplicate class com.facebook.soloader.Elf32_Dyn found in modules jetified-react-native-0.20.1-runtime (com.facebook.react:react-native:0.20.1) and jetified-soloader-0.10.1-runtime (com.facebook.soloader:soloader:0.10.1)\n     Duplicate class com.facebook.soloader.Elf32_Ehdr found in modules jetified-react-native-0.20.1-runtime (com.facebook.react:react-native:0.20.1) and jetified-soloader-0.10.1-runtime (com.facebook.soloader:soloader:0.10.1)\n     Duplicate class com.facebook.soloader.Elf32_Phdr found in modules jetified-react-native-0.20.1-runtime (com.facebook.react:react-native:0.20.1) and jetified-soloader-0.10.1-runtime (com.facebook.soloader:soloader:0.10.1)\n     Duplicate class com.facebook.soloader.Elf32_Shdr found in modules jetified-react-native-0.20.1-runtime (com.facebook.react:react-native:0.20.1) and jetified-soloader-0.10.1-runtime (com.facebook.soloader:soloader:0.10.1)\n     Duplicate class com.facebook.soloader.Elf64_Dyn found in modules jetified-react-native-0.20.1-runtime (com.facebook.react:react-native:0.20.1) and jetified-soloader-0.10.1-runtime (com.facebook.soloader:soloader:0.10.1)\n     Duplicate class com.facebook.soloader.Elf64_Ehdr found in modules jetified-react-native-0.20.1-runtime (com.facebook.react:react-native:0.20.1) and jetified-soloader-0.10.1-runtime (com.facebook.soloader:soloader:0.10.1)\n     Duplicate class com.facebook.soloader.Elf64_Phdr found in modules jetified-react-native-0.20.1-runtime (com.facebook.react:react-native:0.20.1) and jetified-soloader-0.10.1-runtime (com.facebook.soloader:soloader:0.10.1)\n     Duplicate class com.facebook.soloader.Elf64_Shdr found in modules jetified-react-native-0.20.1-runtime (com.facebook.react:react-native:0.20.1) and jetified-soloader-0.10.1-runtime (com.facebook.soloader:soloader:0.10.1)\n     Duplicate class com.facebook.soloader.ExoSoSource found in modules jetified-react-native-0.20.1-runtime (com.facebook.react:react-native:0.20.1) and jetified-soloader-0.10.1-runtime (com.facebook.soloader:soloader:0.10.1)\n     Duplicate class com.facebook.soloader.FileLocker found in modules jetified-react-native-0.20.1-runtime (com.facebook.react:react-native:0.20.1) and jetified-soloader-0.10.1-runtime (com.facebook.soloader:soloader:0.10.1)\n     Duplicate class com.facebook.soloader.MinElf found in modules jetified-react-native-0.20.1-runtime (com.facebook.react:react-native:0.20.1) and jetified-soloader-0.10.1-runtime (com.facebook.soloader:soloader:0.10.1)\n     Duplicate class com.facebook.soloader.MinElf$ElfError found in modules jetified-react-native-0.20.1-runtime (com.facebook.react:react-native:0.20.1) and jetified-soloader-0.10.1-runtime (com.facebook.soloader:soloader:0.10.1)\n     Duplicate class com.facebook.soloader.NativeLibrary found in modules jetified-react-native-0.20.1-runtime (com.facebook.react:react-native:0.20.1) and jetified-soloader-0.10.1-runtime (com.facebook.soloader:soloader:0.10.1)\n     Duplicate class com.facebook.soloader.NoopSoSource found in modules jetified-react-native-0.20.1-runtime (com.facebook.react:react-native:0.20.1) and jetified-soloader-0.10.1-runtime (com.facebook.soloader:soloader:0.10.1)\n     Duplicate class com.facebook.soloader.SoLoader found in modules jetified-react-native-0.20.1-runtime (com.facebook.react:react-native:0.20.1) and jetified-soloader-0.10.1-runtime (com.facebook.soloader:soloader:0.10.1)\n     Duplicate class com.facebook.soloader.SoSource found in modules jetified-react-native-0.20.1-runtime (com.facebook.react:react-native:0.20.1) and jetified-soloader-0.10.1-runtime (com.facebook.soloader:soloader:0.10.1)\n     Duplicate class com.facebook.soloader.SysUtil found in modules jetified-react-native-0.20.1-runtime (com.facebook.react:react-native:0.20.1) and jetified-soloader-0.10.1-runtime (com.facebook.soloader:soloader:0.10.1)\n     Duplicate class com.facebook.soloader.SysUtil$LollipopSysdeps found in modules jetified-react-native-0.20.1-runtime (com.facebook.react:react-native:0.20.1) and jetified-soloader-0.10.1-runtime (com.facebook.soloader:soloader:0.10.1)\n</code></pre>\n<h3>compileDebugJavaWithJavac error</h3>\n<pre><code>&gt; Task :app:compileDebugJavaWithJavac FAILED\n15 actionable tasks: 2 executed, 13 up-to-date\nD:\\1) ProjectsFolder\\FYP\\Learning\\web3RN\\android\\app\\src\\main\\java\\com\\web3rn\\MainApplication.java:6: error: cannot find symbol\nimport com.facebook.react.ReactApplication;\n                         ^\n  symbol:   class ReactApplication\n  location: package com.facebook.react\nD:\\1) ProjectsFolder\\FYP\\Learning\\web3RN\\android\\app\\src\\main\\java\\com\\web3rn\\MainApplication.java:8: error: cannot find symbol\nimport com.facebook.react.ReactNativeHost;\n                         ^\n  symbol:   class ReactNativeHost\n  location: package com.facebook.react\nD:\\1) ProjectsFolder\\FYP\\Learning\\web3RN\\android\\app\\src\\main\\java\\com\\web3rn\\MainApplication.java:14: error: cannot find symbol\npublic class MainApplication extends Application implements ReactApplication {\n                                                            ^\n  symbol: class ReactApplication\nD:\\1) ProjectsFolder\\FYP\\Learning\\web3RN\\android\\app\\src\\main\\java\\com\\web3rn\\MainApplication.java:16: error: cannot find symbol\n  private final ReactNativeHost mReactNativeHost =\n                ^\n  symbol:   class ReactNativeHost\n  location: class MainApplication\nD:\\1) ProjectsFolder\\FYP\\Learning\\web3RN\\android\\app\\src\\main\\java\\com\\web3rn\\MainApplication.java:39: error: cannot find symbol\n  public ReactNativeHost getReactNativeHost() {\n         ^\n  symbol:   class ReactNativeHost\n  location: class MainApplication\nD:\\1) ProjectsFolder\\FYP\\Learning\\web3RN\\android\\app\\build\\generated\\rncli\\src\\main\\java\\com\\facebook\\react\\PackageList.java:9: error: cannot find symbol\nimport com.facebook.react.shell.MainPackageConfig;\n                               ^\n  symbol:   class MainPackageConfig\n  location: package com.facebook.react.shell\nD:\\1) ProjectsFolder\\FYP\\Learning\\web3RN\\android\\app\\build\\generated\\rncli\\src\\main\\java\\com\\facebook\\react\\PackageList.java:18: error: cannot find symbol\n  private ReactNativeHost reactNativeHost;\n          ^\n  symbol:   class ReactNativeHost\n  location: class PackageList\nD:\\1) ProjectsFolder\\FYP\\Learning\\web3RN\\android\\app\\build\\generated\\rncli\\src\\main\\java\\com\\facebook\\react\\PackageList.java:19: error: cannot find symbol\n  private MainPackageConfig mConfig;\n          ^\n  symbol:   class MainPackageConfig\n  location: class PackageList\nD:\\1) ProjectsFolder\\FYP\\Learning\\web3RN\\android\\app\\build\\generated\\rncli\\src\\main\\java\\com\\facebook\\react\\PackageList.java:21: error: cannot find symbol\n  public PackageList(ReactNativeHost reactNativeHost) {\n                     ^\n  symbol:   class ReactNativeHost\n  location: class PackageList\nD:\\1) ProjectsFolder\\FYP\\Learning\\web3RN\\android\\app\\build\\generated\\rncli\\src\\main\\java\\com\\facebook\\react\\PackageList.java:29: error: cannot find symbol\n  public PackageList(ReactNativeHost reactNativeHost, MainPackageConfig config) {\n                     ^\n  symbol:   class ReactNativeHost\n  location: class PackageList\nD:\\1) ProjectsFolder\\FYP\\Learning\\web3RN\\android\\app\\build\\generated\\rncli\\src\\main\\java\\com\\facebook\\react\\PackageList.java:29: error: cannot find symbol\n  public PackageList(ReactNativeHost reactNativeHost, MainPackageConfig config) {\n                                                      ^\n  symbol:   class MainPackageConfig\n  location: class PackageList\nD:\\1) ProjectsFolder\\FYP\\Learning\\web3RN\\android\\app\\build\\generated\\rncli\\src\\main\\java\\com\\facebook\\react\\PackageList.java:34: error: cannot find symbol\n  public PackageList(Application application, MainPackageConfig config) {\n                                              ^\n  symbol:   class MainPackageConfig\n  location: class PackageList\nD:\\1) ProjectsFolder\\FYP\\Learning\\web3RN\\android\\app\\build\\generated\\rncli\\src\\main\\java\\com\\facebook\\react\\PackageList.java:40: error: cannot find symbol\n  private ReactNativeHost getReactNativeHost() {\n          ^\n  symbol:   class ReactNativeHost\n  location: class PackageList\nD:\\1) ProjectsFolder\\FYP\\Learning\\web3RN\\android\\app\\src\\debug\\java\\com\\web3rn\\ReactNativeFlipper.java:25: error: package okhttp3 does not exist\nimport okhttp3.OkHttpClient;\n              ^\nD:\\1) ProjectsFolder\\FYP\\Learning\\web3RN\\android\\app\\src\\main\\java\\com\\web3rn\\MainActivity.java:5: error: MainActivity is not abstract and does not override abstract method getPackages() in ReactActivity\npublic class MainActivity extends ReactActivity {\n       ^\nD:\\1) ProjectsFolder\\FYP\\Learning\\web3RN\\android\\app\\src\\main\\java\\com\\web3rn\\MainApplication.java:17: error: cannot find symbol\n      new ReactNativeHost(this) {\n          ^\n  symbol:   class ReactNativeHost\n  location: class MainApplication\nD:\\1) ProjectsFolder\\FYP\\Learning\\web3RN\\android\\app\\src\\main\\java\\com\\web3rn\\MainApplication.java:18: error: method does not override or implement a method from a supertype\n        @Override\n        ^\nD:\\1) ProjectsFolder\\FYP\\Learning\\web3RN\\android\\app\\src\\main\\java\\com\\web3rn\\MainApplication.java:23: error: method does not override or implement a method from a supertype\n        @Override\n        ^\nD:\\1) ProjectsFolder\\FYP\\Learning\\web3RN\\android\\app\\src\\main\\java\\com\\web3rn\\MainApplication.java:32: error: method does not override or implement a method from a supertype\n        @Override\n        ^\nD:\\1) ProjectsFolder\\FYP\\Learning\\web3RN\\android\\app\\src\\main\\java\\com\\web3rn\\MainApplication.java:38: error: method does not override or implement a method from a supertype\n  @Override\n  ^\nD:\\1) ProjectsFolder\\FYP\\Learning\\web3RN\\android\\app\\build\\generated\\rncli\\src\\main\\java\\com\\facebook\\react\\PackageList.java:26: error: reference to PackageList is ambiguous\n    this(application, null);\n    ^\n  both constructor PackageList(ReactNativeHost,MainPackageConfig) in PackageList and constructor PackageList(Application,MainPackageConfig) in PackageList match\nD:\\1) ProjectsFolder\\FYP\\Learning\\web3RN\\android\\app\\src\\debug\\java\\com\\web3rn\\ReactNativeFlipper.java:40: error: cannot find symbol\n          new NetworkingModule.CustomClientBuilder() {\n                              ^\n  symbol:   class CustomClientBuilder\n  location: class NetworkingModule\nD:\\1) ProjectsFolder\\FYP\\Learning\\web3RN\\android\\app\\src\\debug\\java\\com\\web3rn\\ReactNativeFlipper.java:42: error: package OkHttpClient does not exist\n            public void apply(OkHttpClient.Builder builder) {\n                                          ^\nD:\\1) ProjectsFolder\\FYP\\Learning\\web3RN\\android\\app\\src\\debug\\java\\com\\web3rn\\ReactNativeFlipper.java:41: error: method does not override or implement a method from a supertype\n            @Override\n            ^\nD:\\1) ProjectsFolder\\FYP\\Learning\\web3RN\\android\\app\\src\\debug\\java\\com\\web3rn\\ReactNativeFlipper.java:57: error: cannot find symbol\n                reactInstanceManager.removeReactInstanceEventListener(this);\n                                    ^\n  symbol:   method removeReactInstanceEventListener(&lt;anonymous ReactInstanceEventListener&gt;)\n  location: variable reactInstanceManager of type ReactInstanceManager\nNote: D:\\1) ProjectsFolder\\FYP\\Learning\\web3RN\\android\\app\\src\\debug\\java\\com\\web3rn\\ReactNativeFlipper.java uses or overrides a deprecated API.\nNote: Recompile with -Xlint:deprecation for details.\n25 errors\n</code></pre>\n<h1>What I have tried</h1>\n<p>I have already try to mess around with JDK, JRE, build.gradle, build tool version. It seems that I have never escaped from these same error over and over again. Currently, I just want to know what is the underlying that is causing this errors despite my efforts of trying to get it working at all.</p>\n<ul>\n<li>Tried ./gradlew clean and build multiple times.</li>\n<li>Tried changing gradle version but unsure the accurate version as the\ntemplate downloaded comes with build:gradle:4.1.0.</li>\n<li>Tried multiple JDK version: 1.8, openjdk-8u292-b10, 15.0.1</li>\n<li>Tried the implementation &quot;com.facebook.react:react-native:+&quot; to\nimplementation &quot;com.facebook.react:react-native:0.64.0&quot; but got an\nerror of not allowing the change.</li>\n<li>Tried removing jcenter() from android/build.gradle but only just\nerror.</li>\n<li>Tried changing compileSdkVersion and targetSdkVersion and\nminSdkVersion around but not to avail.</li>\n<li>Tried changing in this file but doesn't work</li>\n</ul>\n<pre><code>android/app/build.gradle\ndebugImplementation(&quot;com.facebook.flipper:flipper:${FLIPPER_VERSION}&quot;) {\n      exclude group: 'com.facebook.soloader'\n      exclude group:'com.facebook.fbjni'\n    }\n</code></pre>\n<p>Tried many and multiple ways, but I just have no clue which of these dependencies are causing this errors and stopping me to build even a Hello World Page.</p>\n<h1>My build.gradle files that is the original templates, what I have tried is not included since none of them works</h1>\n<h3>android/app/build.gradle</h3>\n<pre><code>apply plugin: &quot;com.android.application&quot;\n\nimport com.android.build.OutputFile\n\n/**\n * The react.gradle file registers a task for each build variant (e.g. bundleDebugJsAndAssets\n * and bundleReleaseJsAndAssets).\n * These basically call `react-native bundle` with the correct arguments during the Android build\n * cycle. By default, bundleDebugJsAndAssets is skipped, as in debug/dev mode we prefer to load the\n * bundle directly from the development server. Below you can see all the possible configurations\n * and their defaults. If you decide to add a configuration block, make sure to add it before the\n * `apply from: &quot;../../node_modules/react-native/react.gradle&quot;` line.\n *\n * project.ext.react = [\n *   // the name of the generated asset file containing your JS bundle\n *   bundleAssetName: &quot;index.android.bundle&quot;,\n *\n *   // the entry file for bundle generation. If none specified and\n *   // &quot;index.android.js&quot; exists, it will be used. Otherwise &quot;index.js&quot; is\n *   // default. Can be overridden with ENTRY_FILE environment variable.\n *   entryFile: &quot;index.android.js&quot;,\n *\n *   // https://reactnative.dev/docs/performance#enable-the-ram-format\n *   bundleCommand: &quot;ram-bundle&quot;,\n *\n *   // whether to bundle JS and assets in debug mode\n *   bundleInDebug: false,\n *\n *   // whether to bundle JS and assets in release mode\n *   bundleInRelease: true,\n *\n *   // whether to bundle JS and assets in another build variant (if configured).\n *   // See http://tools.android.com/tech-docs/new-build-system/user-guide#TOC-Build-Variants\n *   // The configuration property can be in the following formats\n *   //         'bundleIn${productFlavor}${buildType}'\n *   //         'bundleIn${buildType}'\n *   // bundleInFreeDebug: true,\n *   // bundleInPaidRelease: true,\n *   // bundleInBeta: true,\n *\n *   // whether to disable dev mode in custom build variants (by default only disabled in release)\n *   // for example: to disable dev mode in the staging build type (if configured)\n *   devDisabledInStaging: true,\n *   // The configuration property can be in the following formats\n *   //         'devDisabledIn${productFlavor}${buildType}'\n *   //         'devDisabledIn${buildType}'\n *\n *   // the root of your project, i.e. where &quot;package.json&quot; lives\n *   root: &quot;../../&quot;,\n *\n *   // where to put the JS bundle asset in debug mode\n *   jsBundleDirDebug: &quot;$buildDir/intermediates/assets/debug&quot;,\n *\n *   // where to put the JS bundle asset in release mode\n *   jsBundleDirRelease: &quot;$buildDir/intermediates/assets/release&quot;,\n *\n *   // where to put drawable resources / React Native assets, e.g. the ones you use via\n *   // require('./image.png')), in debug mode\n *   resourcesDirDebug: &quot;$buildDir/intermediates/res/merged/debug&quot;,\n *\n *   // where to put drawable resources / React Native assets, e.g. the ones you use via\n *   // require('./image.png')), in release mode\n *   resourcesDirRelease: &quot;$buildDir/intermediates/res/merged/release&quot;,\n *\n *   // by default the gradle tasks are skipped if none of the JS files or assets change; this means\n *   // that we don't look at files in android/ or ios/ to determine whether the tasks are up to\n *   // date; if you have any other folders that you want to ignore for performance reasons (gradle\n *   // indexes the entire tree), add them here. Alternatively, if you have JS files in android/\n *   // for example, you might want to remove it from here.\n *   inputExcludes: [&quot;android/**&quot;, &quot;ios/**&quot;],\n *\n *   // override which node gets called and with what additional arguments\n *   nodeExecutableAndArgs: [&quot;node&quot;],\n *\n *   // supply additional arguments to the packager\n *   extraPackagerArgs: []\n * ]\n */\n\nproject.ext.react = [\n    enableHermes: false,  // clean and rebuild if changing\n]\n\napply from: &quot;../../node_modules/react-native/react.gradle&quot;\n\n/**\n * Set this to true to create two separate APKs instead of one:\n *   - An APK that only works on ARM devices\n *   - An APK that only works on x86 devices\n * The advantage is the size of the APK is reduced by about 4MB.\n * Upload all the APKs to the Play Store and people will download\n * the correct one based on the CPU architecture of their device.\n */\ndef enableSeparateBuildPerCPUArchitecture = false\n\n/**\n * Run Proguard to shrink the Java bytecode in release builds.\n */\ndef enableProguardInReleaseBuilds = false\n\n/**\n * The preferred build flavor of JavaScriptCore.\n *\n * For example, to use the international variant, you can use:\n * `def jscFlavor = 'org.webkit:android-jsc-intl:+'`\n *\n * The international variant includes ICU i18n library and necessary data\n * allowing to use e.g. `Date.toLocaleString` and `String.localeCompare` that\n * give correct results when using with locales other than en-US.  Note that\n * this variant is about 6MiB larger per architecture than default.\n */\ndef jscFlavor = 'org.webkit:android-jsc:+'\n\n/**\n * Whether to enable the Hermes VM.\n *\n * This should be set on project.ext.react and mirrored here.  If it is not set\n * on project.ext.react, JavaScript will not be compiled to Hermes Bytecode\n * and the benefits of using Hermes will therefore be sharply reduced.\n */\ndef enableHermes = project.ext.react.get(&quot;enableHermes&quot;, false);\n\nandroid {\n    ndkVersion rootProject.ext.ndkVersion\n\n    compileSdkVersion rootProject.ext.compileSdkVersion\n\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n\n    defaultConfig {\n        applicationId &quot;com.awesomeproject&quot;\n        minSdkVersion rootProject.ext.minSdkVersion\n        targetSdkVersion rootProject.ext.targetSdkVersion\n        versionCode 1\n        versionName &quot;1.0&quot;\n    }\n    splits {\n        abi {\n            reset()\n            enable enableSeparateBuildPerCPUArchitecture\n            universalApk false  // If true, also generate a universal APK\n            include &quot;armeabi-v7a&quot;, &quot;x86&quot;, &quot;arm64-v8a&quot;, &quot;x86_64&quot;\n        }\n    }\n    signingConfigs {\n        debug {\n            storeFile file('debug.keystore')\n            storePassword 'android'\n            keyAlias 'androiddebugkey'\n            keyPassword 'android'\n        }\n    }\n    buildTypes {\n        debug {\n            signingConfig signingConfigs.debug\n        }\n        release {\n            // Caution! In production, you need to generate your own keystore file.\n            // see https://reactnative.dev/docs/signed-apk-android.\n            signingConfig signingConfigs.debug\n            minifyEnabled enableProguardInReleaseBuilds\n            proguardFiles getDefaultProguardFile(&quot;proguard-android.txt&quot;), &quot;proguard-rules.pro&quot;\n        }\n    }\n\n    // applicationVariants are e.g. debug, release\n    applicationVariants.all { variant -&gt;\n        variant.outputs.each { output -&gt;\n            // For each separate APK per architecture, set a unique version code as described here:\n            // https://developer.android.com/studio/build/configure-apk-splits.html\n            // Example: versionCode 1 will generate 1001 for armeabi-v7a, 1002 for x86, etc.\n            def versionCodes = [&quot;armeabi-v7a&quot;: 1, &quot;x86&quot;: 2, &quot;arm64-v8a&quot;: 3, &quot;x86_64&quot;: 4]\n            def abi = output.getFilter(OutputFile.ABI)\n            if (abi != null) {  // null for the universal-debug, universal-release variants\n                output.versionCodeOverride =\n                        defaultConfig.versionCode * 1000 + versionCodes.get(abi)\n            }\n\n        }\n    }\n}\n\ndependencies {\n    implementation fileTree(dir: &quot;libs&quot;, include: [&quot;*.jar&quot;])\n    //noinspection GradleDynamicVersion\n    implementation &quot;com.facebook.react:react-native:+&quot;  // From node_modules\n\n    implementation &quot;androidx.swiperefreshlayout:swiperefreshlayout:1.0.0&quot;\n\n    debugImplementation(&quot;com.facebook.flipper:flipper:${FLIPPER_VERSION}&quot;) {\n      exclude group:'com.facebook.fbjni'\n    }\n\n    debugImplementation(&quot;com.facebook.flipper:flipper-network-plugin:${FLIPPER_VERSION}&quot;) {\n        exclude group:'com.facebook.flipper'\n        exclude group:'com.squareup.okhttp3', module:'okhttp'\n    }\n\n    debugImplementation(&quot;com.facebook.flipper:flipper-fresco-plugin:${FLIPPER_VERSION}&quot;) {\n        exclude group:'com.facebook.flipper'\n    }\n\n    if (enableHermes) {\n        def hermesPath = &quot;../../node_modules/hermes-engine/android/&quot;;\n        debugImplementation files(hermesPath + &quot;hermes-debug.aar&quot;)\n        releaseImplementation files(hermesPath + &quot;hermes-release.aar&quot;)\n    } else {\n        implementation jscFlavor\n    }\n}\n\n// Run this once to be able to run the application with BUCK\n// puts all compile dependencies into folder libs for BUCK to use\ntask copyDownloadableDepsToLibs(type: Copy) {\n    from configurations.compile\n    into 'libs'\n}\n\napply from: file(&quot;../../node_modules/@react-native-community/cli-platform-android/native_modules.gradle&quot;); applyNativeModulesAppBuildGradle(project)\n\n</code></pre>\n<h2>android/build.gradle</h2>\n<pre><code>// Top-level build file where you can add configuration options common to all sub-projects/modules.\n\nbuildscript {\n    ext {\n        buildToolsVersion = &quot;29.0.3&quot;\n        minSdkVersion = 21\n        compileSdkVersion = 29\n        targetSdkVersion = 29\n        ndkVersion = &quot;20.1.5948944&quot;\n    }\n    repositories {\n        google()\n        jcenter()\n    }\n    dependencies {\n        classpath(&quot;com.android.tools.build:gradle:4.1.0&quot;)\n        // NOTE: Do not place your application dependencies here; they belong\n        // in the individual module build.gradle files\n    }\n}\n\nallprojects {\n    repositories {\n        mavenLocal()\n        maven {\n            // All of React Native (JS, Obj-C sources, Android binaries) is installed from npm\n            url(&quot;$rootDir/../node_modules/react-native/android&quot;)\n        }\n        maven {\n            // Android JSC is installed from npm\n            url(&quot;$rootDir/../node_modules/jsc-android/dist&quot;)\n        }\n\n        google()\n        jcenter()\n        maven { url 'https://www.jitpack.io' }\n    }\n}\n</code></pre>\n"},{"tags":["java","junit","stub"],"comments":[{"owner":{"account_id":5156654,"reputation":10601,"user_id":4129726,"display_name":"Sergii Lagutin"},"score":0,"creation_date":1439020778,"post_id":31890991,"comment_id":51698985,"body_markdown":"Hope this [answer](http://stackoverflow.com/questions/3459287/whats-the-difference-between-a-mock-stub) will help you","body":"Hope this <a href=\"http://stackoverflow.com/questions/3459287/whats-the-difference-between-a-mock-stub\">answer</a> will help you"},{"owner":{"account_id":6089760,"reputation":330,"user_id":4752486,"accept_rate":100,"display_name":"Wooopsa"},"score":0,"creation_date":1439020855,"post_id":31890991,"comment_id":51699003,"body_markdown":"I&#39;ve read that before and didn&#39;t help :(","body":"I&#39;ve read that before and didn&#39;t help :("},{"owner":{"account_id":894472,"reputation":5501,"user_id":932052,"accept_rate":94,"display_name":"Quintin Balsdon"},"score":0,"creation_date":1439022304,"post_id":31890991,"comment_id":51699309,"body_markdown":"It is the responsibility of the question-asker to provide example code and existing research they have done. This question needs improvement.","body":"It is the responsibility of the question-asker to provide example code and existing research they have done. This question needs improvement."},{"owner":{"account_id":954023,"reputation":404,"user_id":979643,"display_name":"feech"},"score":0,"creation_date":1574992217,"post_id":31890991,"comment_id":104428927,"body_markdown":"have a look at \thttps://github.com/anystub/anystub, probably the stubs will cover all your needs for mocking data","body":"have a look at \t<a href=\"https://github.com/anystub/anystub\" rel=\"nofollow noreferrer\">github.com/anystub/anystub</a>, probably the stubs will cover all your needs for mocking data"}],"answers":[{"comments":[{"owner":{"account_id":6089760,"reputation":330,"user_id":4752486,"accept_rate":100,"display_name":"Wooopsa"},"score":0,"creation_date":1439021178,"post_id":31891041,"comment_id":51699077,"body_markdown":"you mean i just write some code again, but this time more simple and write a testcase for that?\n\nan interface, a class and a testclass?\n\nThats it?","body":"you mean i just write some code again, but this time more simple and write a testcase for that?  an interface, a class and a testclass?  Thats it?"},{"owner":{"account_id":5156654,"reputation":10601,"user_id":4129726,"display_name":"Sergii Lagutin"},"score":1,"creation_date":1439021320,"post_id":31891041,"comment_id":51699112,"body_markdown":"@Hamid yes, you&#39;re right. If you wanna use mock, I suppose some classes need to interact with external services or databases. To avoid these interactions you may write stub with easier implementations than original classes.","body":"@Hamid yes, you&#39;re right. If you wanna use mock, I suppose some classes need to interact with external services or databases. To avoid these interactions you may write stub with easier implementations than original classes."},{"owner":{"account_id":6089760,"reputation":330,"user_id":4752486,"accept_rate":100,"display_name":"Wooopsa"},"score":0,"creation_date":1439021388,"post_id":31891041,"comment_id":51699132,"body_markdown":"would you mind give me an example on that? How it is easier?","body":"would you mind give me an example on that? How it is easier?"},{"owner":{"account_id":5156654,"reputation":10601,"user_id":4129726,"display_name":"Sergii Lagutin"},"score":0,"creation_date":1439021602,"post_id":31891041,"comment_id":51699174,"body_markdown":"@Hamid because you may write few lines to implement stub class. When you write unit tests you are focused on target class and don&#39;t wanna test target class&#39;s dependencies. So you should understand why you want to use mocks, stubs etc.","body":"@Hamid because you may write few lines to implement stub class. When you write unit tests you are focused on target class and don&#39;t wanna test target class&#39;s dependencies. So you should understand why you want to use mocks, stubs etc."},{"owner":{"account_id":954023,"reputation":404,"user_id":979643,"display_name":"feech"},"score":0,"creation_date":1557132669,"post_id":31891041,"comment_id":98649778,"body_markdown":"to reduce work to implement the stubs you still can use a library. https://anystub-guides.github.io/ has classes to stub http traffic and db-access","body":"to reduce work to implement the stubs you still can use a library. <a href=\"https://anystub-guides.github.io/\" rel=\"nofollow noreferrer\">anystub-guides.github.io</a> has classes to stub http traffic and db-access"}],"tags":[],"owner":{"account_id":5156654,"reputation":10601,"user_id":4129726,"display_name":"Sergii Lagutin"},"comment_count":5,"down_vote_count":0,"up_vote_count":29,"is_accepted":false,"score":29,"last_activity_date":1539465873,"creation_date":1439021032,"answer_id":31891041,"question_id":31890991,"body_markdown":"To use stubs in junit you don&#39;t need any frameworks.\r\n\r\nIf you want to stub some interface just implement it:\r\n\r\n    interface Service {\r\n        String doSomething();\r\n    }\r\n\r\n    class ServiceStub implements Service {\r\n        public String doSomething(){\r\n            return &quot;my stubbed return&quot;;\r\n        }\r\n    }\r\n\r\nThen create new stub object and inject it to tested object.\r\n\r\nIf you want to stub a concrete class, create subclass and override stubbed methods:\r\n\r\n    class Service {\r\n        public String doSomething(){\r\n            // interact with external service\r\n            // make some heavy computation\r\n            return &quot;real result&quot;;\r\n        }\r\n    }\r\n\r\n    class ServiceStub extends Service {\r\n        @Override\r\n        public String doSomething(){\r\n            return &quot;stubbed result&quot;;\r\n        }\r\n    }","title":"How to use stubs in JUnit and Java?","body":"<p>To use stubs in junit you don't need any frameworks.</p>\n\n<p>If you want to stub some interface just implement it:</p>\n\n<pre><code>interface Service {\n    String doSomething();\n}\n\nclass ServiceStub implements Service {\n    public String doSomething(){\n        return \"my stubbed return\";\n    }\n}\n</code></pre>\n\n<p>Then create new stub object and inject it to tested object.</p>\n\n<p>If you want to stub a concrete class, create subclass and override stubbed methods:</p>\n\n<pre><code>class Service {\n    public String doSomething(){\n        // interact with external service\n        // make some heavy computation\n        return \"real result\";\n    }\n}\n\nclass ServiceStub extends Service {\n    @Override\n    public String doSomething(){\n        return \"stubbed result\";\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":6089760,"reputation":330,"user_id":4752486,"accept_rate":100,"display_name":"Wooopsa"},"score":1,"creation_date":1439021856,"post_id":31891115,"comment_id":51699227,"body_markdown":"you mean, when we use stubs, we don&#39;t create an object of the stubClass?","body":"you mean, when we use stubs, we don&#39;t create an object of the stubClass?"},{"owner":{"account_id":45182,"reputation":3346,"user_id":133078,"display_name":"Michael Baker"},"score":1,"creation_date":1439023938,"post_id":31891115,"comment_id":51699653,"body_markdown":"As per @Sergey Lagutin answer. You create the stub to feed to the CUT (code/class under test) - the stub is a dependency replacement.","body":"As per @Sergey Lagutin answer. You create the stub to feed to the CUT (code/class under test) - the stub is a dependency replacement."}],"tags":[],"owner":{"account_id":45182,"reputation":3346,"user_id":133078,"display_name":"Michael Baker"},"comment_count":2,"down_vote_count":1,"up_vote_count":46,"is_accepted":true,"score":45,"last_activity_date":1638386899,"creation_date":1439021607,"answer_id":31891115,"question_id":31890991,"body_markdown":"It doesn&#39;t matter the framework or technology in my opinion. Mocks and stubs could be defined as follows.\r\n\r\nA stub is a controllable replacement for an existing dependency (or collaborator) in the system. By using a stub, you can test your code without dealing with the dependency directly. \r\n\r\nA mock object is a fake object in the system that decides whether the unit test has passed or failed. It does so by verifying whether the object under test interacted as expected with the fake object. \r\n\r\nPerhaps these images can clarify the interactions between a stub and a mock.\r\n\r\n**Stub**\r\n[![Stub][1]][1]\r\n\r\n**Mock**\r\n[![Mock][2]][2]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/k1BMx.png\r\n  [2]: http://i.stack.imgur.com/GYXIi.png","title":"How to use stubs in JUnit and Java?","body":"<p>It doesn't matter the framework or technology in my opinion. Mocks and stubs could be defined as follows.</p>\n<p>A stub is a controllable replacement for an existing dependency (or collaborator) in the system. By using a stub, you can test your code without dealing with the dependency directly.</p>\n<p>A mock object is a fake object in the system that decides whether the unit test has passed or failed. It does so by verifying whether the object under test interacted as expected with the fake object.</p>\n<p>Perhaps these images can clarify the interactions between a stub and a mock.</p>\n<p><strong>Stub</strong>\n<a href=\"https://i.stack.imgur.com/k1BMx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/k1BMx.png\" alt=\"Stub\" /></a></p>\n<p><strong>Mock</strong>\n<a href=\"https://i.stack.imgur.com/GYXIi.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/GYXIi.png\" alt=\"Mock\" /></a></p>\n"},{"tags":[],"owner":{"account_id":954023,"reputation":404,"user_id":979643,"display_name":"feech"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676857603,"creation_date":1574992121,"answer_id":59097871,"question_id":31890991,"body_markdown":"In general - Mock means implement some behavior, stubs - just supply some data. in other words preferable use the word mock when you need to demonstrate that it changes/keeps some state\r\n\r\nuse the word stub when your classes only expose the internal state. indeed you can use mock everywhere, and stub is just subset of mock\r\n\r\n","title":"How to use stubs in JUnit and Java?","body":"<p>In general - Mock means implement some behavior, stubs - just supply some data. in other words preferable use the word mock when you need to demonstrate that it changes/keeps some state</p>\n<p>use the word stub when your classes only expose the internal state. indeed you can use mock everywhere, and stub is just subset of mock</p>\n"}],"owner":{"account_id":6089760,"reputation":330,"user_id":4752486,"accept_rate":100,"display_name":"Wooopsa"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60357,"favorite_count":0,"down_vote_count":0,"up_vote_count":22,"accepted_answer_id":31891115,"answer_count":3,"score":22,"last_activity_date":1676857603,"creation_date":1439020668,"question_id":31890991,"body_markdown":"I have worked with JUnit and Mocks but I&#39;m wondering, what are the differences between Mocks and Stubs in JUnit and how to use Stubs in JUnit, Java?\r\nAnd as Mocks that have EasyMock, Mockito and so on, what does Stubs uses in Java?\r\n\r\nPlease give some example code for Stubs in Java.\r\n","title":"How to use stubs in JUnit and Java?","body":"<p>I have worked with JUnit and Mocks but I'm wondering, what are the differences between Mocks and Stubs in JUnit and how to use Stubs in JUnit, Java?\nAnd as Mocks that have EasyMock, Mockito and so on, what does Stubs uses in Java?</p>\n\n<p>Please give some example code for Stubs in Java.</p>\n"},{"tags":["java","android","cryptography","aes"],"comments":[{"owner":{"account_id":2676612,"reputation":13615,"user_id":2312877,"accept_rate":82,"display_name":"Kritner"},"score":0,"creation_date":1584104984,"post_id":60670117,"comment_id":107341513,"body_markdown":"There are several AES based MACs in addition to the one defined in 800-36B.  CMAC is not defined as a MAC that takes in an IV, so I&#39;m curious as to what led you to believe the key and data you&#39;re working with is for CMAC, rather than CbcMac, GMAC, AES-CCM, etc.  Either way there should be java libraries that exist that could handle any of these cases.","body":"There are several AES based MACs in addition to the one defined in 800-36B.  CMAC is not defined as a MAC that takes in an IV, so I&#39;m curious as to what led you to believe the key and data you&#39;re working with is for CMAC, rather than CbcMac, GMAC, AES-CCM, etc.  Either way there should be java libraries that exist that could handle any of these cases."},{"owner":{"account_id":8635468,"reputation":972,"user_id":6465824,"accept_rate":56,"display_name":"Fajar Khan"},"score":0,"creation_date":1584105753,"post_id":60670117,"comment_id":107341852,"body_markdown":"My bad there was no IV. I&#39;ve edited my code.","body":"My bad there was no IV. I&#39;ve edited my code."},{"owner":{"account_id":8635468,"reputation":972,"user_id":6465824,"accept_rate":56,"display_name":"Fajar Khan"},"score":0,"creation_date":1584105821,"post_id":60670117,"comment_id":107341889,"body_markdown":"I have been trying to find a good java example but no luck :(","body":"I have been trying to find a good java example but no luck :("},{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":0,"creation_date":1584112128,"post_id":60670117,"comment_id":107345054,"body_markdown":"Have you tried Bouncy Castle? It has certainly got a CMAC implementation... Otherwise: you convert from hex to binary, then init the CMAC with the key and then perform the calculation, possibly reverting the result back to hex. You don&#39;t need examples for that, do you? Otherwise there should be test classes available.","body":"Have you tried Bouncy Castle? It has certainly got a CMAC implementation... Otherwise: you convert from hex to binary, then init the CMAC with the key and then perform the calculation, possibly reverting the result back to hex. You don&#39;t need examples for that, do you? Otherwise there should be test classes available."},{"owner":{"account_id":8635468,"reputation":972,"user_id":6465824,"accept_rate":56,"display_name":"Fajar Khan"},"score":0,"creation_date":1584113056,"post_id":60670117,"comment_id":107345521,"body_markdown":"I&#39;ve edited question with what iv tried. I&#39;ll check Bouncy Castle out","body":"I&#39;ve edited question with what iv tried. I&#39;ll check Bouncy Castle out"},{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":0,"creation_date":1584202368,"post_id":60670117,"comment_id":107366780,"body_markdown":"Your messages are specified in hexadecimals. You are forgetting to decode your messages. Calling `getBytes` won&#39;t do that. And CMAC != HMAC. What did you think, only one character difference so they are about the same???","body":"Your messages are specified in hexadecimals. You are forgetting to decode your messages. Calling <code>getBytes</code> won&#39;t do that. And CMAC != HMAC. What did you think, only one character difference so they are about the same???"},{"owner":{"account_id":13060408,"reputation":707,"user_id":9437799,"display_name":"Sam Ginrich"},"score":0,"creation_date":1695043561,"post_id":60670117,"comment_id":135967415,"body_markdown":"@Kritner Bouncy Castle actually provides an extended version of CMAC with IV, commenting that it was not an improvement of IV-free version.","body":"@Kritner Bouncy Castle actually provides an extended version of CMAC with IV, commenting that it was not an improvement of IV-free version."}],"answers":[{"tags":[],"owner":{"account_id":8635468,"reputation":972,"user_id":6465824,"accept_rate":56,"display_name":"Fajar Khan"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1584612394,"creation_date":1584612394,"answer_id":60754866,"question_id":60670117,"body_markdown":"If anyone Looking for CMAC AES calculation here it is using Bouncy Castle:\r\n\r\n     public void getCMAC()\r\n                throws Exception {\r\n            byte[] msg = new byte[]{(byte) 0xA3, (byte) 0x00, (byte) 0x00, (byte) 0x35, (byte) 0xE7, (byte) 0x58,\r\n                    (byte) 0xC6, (byte) 0x09, (byte) 0x00, (byte) 0x4F, (byte) 0x44, (byte) 0x36, (byte) 0xF0,\r\n                    (byte) 0xEA, (byte) 0x31, (byte) 0x9A, (byte) 0xF4, (byte) 0x31, (byte) 0xE1,\r\n                    (byte) 0x98, (byte) 0xBC, (byte) 0x41, (byte) 0xA0, (byte) 0x67, (byte) 0xD1};\r\n    \r\n            byte[] keydata = new byte[]{(byte) 0x67, (byte) 0x1B, (byte) 0x9D, (byte) 0x1D, (byte) 0xC1, (byte) 0x54,\r\n                    (byte) 0x74, (byte) 0xA2, (byte) 0x5C, (byte) 0xB1, (byte) 0x77, (byte) 0xCA, (byte) 0x1A,\r\n                    (byte) 0x19, (byte) 0x9F, (byte) 0x0E};\r\n    \r\n            CipherParameters params = new KeyParameter(keydata);\r\n            BlockCipher aes = new AESEngine();\r\n            CMac mac = new CMac(aes);\r\n            mac.init(params);\r\n            mac.update(msg, 0, msg.length);\r\n            byte[] out = new byte[mac.getMacSize()];\r\n            mac.doFinal(out, 0);\r\n    \r\n            StringBuilder s19 = new StringBuilder();\r\n            for (byte b : out) {\r\n                s19.append(String.format(&quot;%02X &quot;, b));\r\n            }\r\n            Log.e(&quot;ecrypted Kmac :&quot;, s19.toString());\r\n        }\r\n\r\nMake sure you add lib like this:\r\n\r\n     implementation &#39;org.bouncycastle:bcpkix-jdk15on:1.56&#39;","title":"CMAC-AES (RFC 4493) calculation in Java","body":"<p>If anyone Looking for CMAC AES calculation here it is using Bouncy Castle:</p>\n\n<pre><code> public void getCMAC()\n            throws Exception {\n        byte[] msg = new byte[]{(byte) 0xA3, (byte) 0x00, (byte) 0x00, (byte) 0x35, (byte) 0xE7, (byte) 0x58,\n                (byte) 0xC6, (byte) 0x09, (byte) 0x00, (byte) 0x4F, (byte) 0x44, (byte) 0x36, (byte) 0xF0,\n                (byte) 0xEA, (byte) 0x31, (byte) 0x9A, (byte) 0xF4, (byte) 0x31, (byte) 0xE1,\n                (byte) 0x98, (byte) 0xBC, (byte) 0x41, (byte) 0xA0, (byte) 0x67, (byte) 0xD1};\n\n        byte[] keydata = new byte[]{(byte) 0x67, (byte) 0x1B, (byte) 0x9D, (byte) 0x1D, (byte) 0xC1, (byte) 0x54,\n                (byte) 0x74, (byte) 0xA2, (byte) 0x5C, (byte) 0xB1, (byte) 0x77, (byte) 0xCA, (byte) 0x1A,\n                (byte) 0x19, (byte) 0x9F, (byte) 0x0E};\n\n        CipherParameters params = new KeyParameter(keydata);\n        BlockCipher aes = new AESEngine();\n        CMac mac = new CMac(aes);\n        mac.init(params);\n        mac.update(msg, 0, msg.length);\n        byte[] out = new byte[mac.getMacSize()];\n        mac.doFinal(out, 0);\n\n        StringBuilder s19 = new StringBuilder();\n        for (byte b : out) {\n            s19.append(String.format(\"%02X \", b));\n        }\n        Log.e(\"ecrypted Kmac :\", s19.toString());\n    }\n</code></pre>\n\n<p>Make sure you add lib like this:</p>\n\n<pre><code> implementation 'org.bouncycastle:bcpkix-jdk15on:1.56'\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2143322,"reputation":5430,"user_id":3351474,"display_name":"k_o_"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676857436,"creation_date":1676857436,"answer_id":75504582,"question_id":60670117,"body_markdown":"This one is also using BouncyCastle but is using the Java Crypto API, which is more versatile if a different crypto provider should be used:\r\n\r\n~~~java\r\nMac mac = Mac.getInstance(&quot;AESCMAC&quot;, new BouncyCastleProvider());\r\nmac.init(new SecretKeySpec(key, &quot;AES&quot;));\r\nmac.update(data);\r\nmac.doFinal(moredata);\r\n~~~\r\n\r\nBouncyCastle has to be added [as a dependency](https://mvnrepository.com/artifact/org.bouncycastle/bcprov-jdk15on/1.70) before.","title":"CMAC-AES (RFC 4493) calculation in Java","body":"<p>This one is also using BouncyCastle but is using the Java Crypto API, which is more versatile if a different crypto provider should be used:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Mac mac = Mac.getInstance(&quot;AESCMAC&quot;, new BouncyCastleProvider());\nmac.init(new SecretKeySpec(key, &quot;AES&quot;));\nmac.update(data);\nmac.doFinal(moredata);\n</code></pre>\n<p>BouncyCastle has to be added <a href=\"https://mvnrepository.com/artifact/org.bouncycastle/bcprov-jdk15on/1.70\" rel=\"nofollow noreferrer\">as a dependency</a> before.</p>\n"}],"owner":{"account_id":8635468,"reputation":972,"user_id":6465824,"accept_rate":56,"display_name":"Fajar Khan"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3781,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"accepted_answer_id":60754866,"answer_count":2,"score":3,"last_activity_date":1676857436,"creation_date":1584100908,"question_id":60670117,"body_markdown":"I have key and data:\r\n\r\nNow how do I calculate CMAC based on these parameters? \r\n \r\nSome more info :\r\n\r\nMACs are calculated using AES as the underlying block cipher, according to the CMAC standard described in NIST Special Publication 800-38B. but I&#39;m having a hard time finding proper examples of MAC calculation in java.\r\n\r\nEDIT\r\n[this][1] link works perfectly for this. I need Java samples of this.\r\n\r\n  [1]: http://artjomb.github.io/cryptojs-extension/","title":"CMAC-AES (RFC 4493) calculation in Java","body":"<p>I have key and data:</p>\n\n<p>Now how do I calculate CMAC based on these parameters? </p>\n\n<p>Some more info :</p>\n\n<p>MACs are calculated using AES as the underlying block cipher, according to the CMAC standard described in NIST Special Publication 800-38B. but I'm having a hard time finding proper examples of MAC calculation in java.</p>\n\n<p>EDIT\n<a href=\"http://artjomb.github.io/cryptojs-extension/\" rel=\"nofollow noreferrer\">this</a> link works perfectly for this. I need Java samples of this.</p>\n"},{"tags":["java","arrays","binary-search"],"comments":[{"owner":{"account_id":27393528,"reputation":353,"user_id":20896122,"display_name":"undefined symbol"},"score":0,"creation_date":1676862281,"post_id":75504581,"comment_id":133216682,"body_markdown":"You have two other problems apart from the string comparison problem. (1) binary search requires that the array be in order. (2) each successive pass needs to reduce the search space by half, by selecting either the part that&#39;s below the midpoint or the part that&#39;s above the midpoint.  What you&#39;ve got looks at the same middle element over and over again, so it&#39;s not actually any kind of search.","body":"You have two other problems apart from the string comparison problem. (1) binary search requires that the array be in order. (2) each successive pass needs to reduce the search space by half, by selecting either the part that&#39;s below the midpoint or the part that&#39;s above the midpoint.  What you&#39;ve got looks at the same middle element over and over again, so it&#39;s not actually any kind of search."},{"owner":{"account_id":26833873,"reputation":1,"user_id":20421422,"display_name":"Devesh Singh"},"score":0,"creation_date":1676950908,"post_id":75504581,"comment_id":133235621,"body_markdown":"So I think Binary Search is not Possible for String Array , as in my code if I change my logic  (int mid = start ++;) I will get the result but it will be Liner Search Not BInary is it?","body":"So I think Binary Search is not Possible for String Array , as in my code if I change my logic  (int mid = start ++;) I will get the result but it will be Liner Search Not BInary is it?"},{"owner":{"account_id":27393528,"reputation":353,"user_id":20896122,"display_name":"undefined symbol"},"score":0,"creation_date":1676985521,"post_id":75504581,"comment_id":133243908,"body_markdown":"Of course binary search is possible; it&#39;s just that (1) what you&#39;ve coded is not binary search, and (2) as noted in the closure reason, your string comparisons are wrong.","body":"Of course binary search is possible; it&#39;s just that (1) what you&#39;ve coded is not binary search, and (2) as noted in the closure reason, your string comparisons are wrong."}],"owner":{"account_id":26833873,"reputation":1,"user_id":20421422,"display_name":"Devesh Singh"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":12,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1676857672,"answer_count":0,"score":0,"last_activity_date":1676857353,"creation_date":1676857353,"question_id":75504581,"body_markdown":"I just learned about Arrays and came to know about Linear and Binary Search . Is it possible to perform Binary Search on String Array ? I tryed to achieve but failed\r\n\r\nhere while running the code output is NOT FOUND ; I just can&#39;t get it.\r\n\r\n```\r\nString a[] = {&quot;Dossa&quot; , &quot;Maggie&quot; , &quot;Chai&quot; , &quot;Coffe&quot;};\r\nString key = &quot;Coffe&quot;;\r\nint index = hwq(a , key);\r\nif(index == -1 ){\r\n    System.out.print(&quot;NOT FOUND &quot;);\r\n}else{\r\n    System.out.print(key + &quot; is at index = &quot; + index);\r\n}\r\n}\r\n\r\npublic static int hwq(String a[] , String key){\r\n    int start = 0 , end = a.length - 1;\r\n    while(start &lt;= end){\r\n        int mid = ( start + end)/2 ;\r\n        if(a[mid] == key ){\r\n            return mid ;\r\n        }\r\n        start ++;\r\n        end --;\r\n    }\r\n    return -1;\r\n}\r\n```\r\n\r\nIt would be helpful to know my mistake and also a new or different  apporoach to this problem.\r\n","title":"Binary Search of String array in Java","body":"<p>I just learned about Arrays and came to know about Linear and Binary Search . Is it possible to perform Binary Search on String Array ? I tryed to achieve but failed</p>\n<p>here while running the code output is NOT FOUND ; I just can't get it.</p>\n<pre><code>String a[] = {&quot;Dossa&quot; , &quot;Maggie&quot; , &quot;Chai&quot; , &quot;Coffe&quot;};\nString key = &quot;Coffe&quot;;\nint index = hwq(a , key);\nif(index == -1 ){\n    System.out.print(&quot;NOT FOUND &quot;);\n}else{\n    System.out.print(key + &quot; is at index = &quot; + index);\n}\n}\n\npublic static int hwq(String a[] , String key){\n    int start = 0 , end = a.length - 1;\n    while(start &lt;= end){\n        int mid = ( start + end)/2 ;\n        if(a[mid] == key ){\n            return mid ;\n        }\n        start ++;\n        end --;\n    }\n    return -1;\n}\n</code></pre>\n<p>It would be helpful to know my mistake and also a new or different  apporoach to this problem.</p>\n"},{"tags":["java","inputstream"],"comments":[{"owner":{"account_id":7139308,"reputation":2282,"user_id":5457643,"display_name":"Turamarth"},"score":2,"creation_date":1516878774,"post_id":48441485,"comment_id":83874081,"body_markdown":"You haven&#39;t yet read the inputstream. Just wait with the deletion until the webserver is done with the stream would be my suggestion.","body":"You haven&#39;t yet read the inputstream. Just wait with the deletion until the webserver is done with the stream would be my suggestion."},{"owner":{"account_id":3861140,"reputation":808,"user_id":3198857,"display_name":"MadukaJ"},"score":0,"creation_date":1516879465,"post_id":48441485,"comment_id":83874522,"body_markdown":"in finally block you can delete the file.","body":"in finally block you can delete the file."},{"owner":{"account_id":11564221,"reputation":5963,"user_id":8473028,"accept_rate":94,"display_name":"DodgyCodeException"},"score":0,"creation_date":1516880137,"post_id":48441485,"comment_id":83874925,"body_markdown":"Could try calling `f.deleteOnExit()` which will delete the file when the JVM terminates (which may be much later than you would ideally want to delete the file).","body":"Could try calling <code>f.deleteOnExit()</code> which will delete the file when the JVM terminates (which may be much later than you would ideally want to delete the file)."}],"answers":[{"tags":[],"owner":{"account_id":28511,"reputation":7390,"user_id":76237,"display_name":"diginoise"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1516879632,"creation_date":1516879203,"answer_id":48441647,"question_id":48441485,"body_markdown":"Here is what happens in the constructor `FileInputStream(File file)` which your constructor delegates to:\r\n\r\n\r\n    public FileInputStream(File file) throws FileNotFoundException {\r\n       //some checks of file objects omitted here\r\n       fd = new FileDescriptor();\r\n       fd.attach(this);\r\n       open(name);    //native method opening the file for reading\r\n    }\r\n\r\ncalling `FileInputStream.close()` releases the file descriptor created in the constructor and calls native method to close opened file.\r\n\r\nAfter the call to `close()` you will be able to delete the file.\r\n\r\nSee [source here][1].\r\n\r\n\r\n  [1]: http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/8-b132/java/io/FileInputStream.java#FileInputStream.%3Cinit%3E%28java.io.File%29","title":"delete file after reading into inputstream","body":"<p>Here is what happens in the constructor <code>FileInputStream(File file)</code> which your constructor delegates to:</p>\n\n<pre><code>public FileInputStream(File file) throws FileNotFoundException {\n   //some checks of file objects omitted here\n   fd = new FileDescriptor();\n   fd.attach(this);\n   open(name);    //native method opening the file for reading\n}\n</code></pre>\n\n<p>calling <code>FileInputStream.close()</code> releases the file descriptor created in the constructor and calls native method to close opened file.</p>\n\n<p>After the call to <code>close()</code> you will be able to delete the file.</p>\n\n<p>See <a href=\"http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/8-b132/java/io/FileInputStream.java#FileInputStream.%3Cinit%3E%28java.io.File%29\" rel=\"nofollow noreferrer\">source here</a>.</p>\n"},{"comments":[{"owner":{"account_id":11564221,"reputation":5963,"user_id":8473028,"accept_rate":94,"display_name":"DodgyCodeException"},"score":0,"creation_date":1516880233,"post_id":48441736,"comment_id":83874988,"body_markdown":"This looks good, though it will only work if the OP remembers to actually close the InputStream.","body":"This looks good, though it will only work if the OP remembers to actually close the InputStream."},{"owner":{"account_id":11564221,"reputation":5963,"user_id":8473028,"accept_rate":94,"display_name":"DodgyCodeException"},"score":0,"creation_date":1516881881,"post_id":48441736,"comment_id":83876097,"body_markdown":"btw the OP appears to be new to Java, so to make this answer useful you should expand on how to use this class. Also, I think it would be better named DeleteOnCloseFileInputStream. `try (InputStream is = new DeleteOnCloseFileInputStream(&quot;\\\\Location\\\\file.txt&quot;)) {...use the InputStream...}` would make sure that the InputStream gets closed (and therefore the file gets deleted) no matter what.","body":"btw the OP appears to be new to Java, so to make this answer useful you should expand on how to use this class. Also, I think it would be better named DeleteOnCloseFileInputStream. <code>try (InputStream is = new DeleteOnCloseFileInputStream(&quot;\\\\Location\\\\file.txt&quot;)) {...use the InputStream...}</code> would make sure that the InputStream gets closed (and therefore the file gets deleted) no matter what."},{"owner":{"account_id":187431,"reputation":3311,"user_id":425481,"accept_rate":59,"display_name":"vbNewbie"},"score":0,"creation_date":1516958223,"post_id":48441736,"comment_id":83909697,"body_markdown":"Thanks for the response. The f.deleteOnExit() seemed to work fine but will consider these other options","body":"Thanks for the response. The f.deleteOnExit() seemed to work fine but will consider these other options"},{"owner":{"account_id":187431,"reputation":3311,"user_id":425481,"accept_rate":59,"display_name":"vbNewbie"},"score":0,"creation_date":1517229771,"post_id":48441736,"comment_id":83996266,"body_markdown":"Sorry one more related question: since I do the f.deleteOnExit() outside the above method and class it works; but if I try and close the inputstream and delete the file, that works but the returned stream is null in the calling function?","body":"Sorry one more related question: since I do the f.deleteOnExit() outside the above method and class it works; but if I try and close the inputstream and delete the file, that works but the returned stream is null in the calling function?"}],"tags":[],"owner":{"account_id":3861140,"reputation":808,"user_id":3198857,"display_name":"MadukaJ"},"comment_count":4,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1516879516,"creation_date":1516879516,"answer_id":48441736,"question_id":48441485,"body_markdown":"Try delete on the Finally block\r\n\r\n\r\n    import java.io.File;\r\n    import java.io.FileInputStream;\r\n    import java.io.FileNotFoundException;\r\n    import java.io.IOException;\r\n    \r\n    class DeleteFile extends FileInputStream {\r\n    \r\n      File file;\r\n    \r\n      public DeleteFile(String s) throws FileNotFoundException {\r\n        this(new File(s));\r\n      }\r\n    \r\n      public DeleteFile(File file) throws FileNotFoundException {\r\n        super(file);\r\n        this.file = file;\r\n      }\r\n    \r\n      public void close() throws IOException {\r\n        try {\r\n          super.close();\r\n        } finally {\r\n          if (file != null) {\r\n            file.delete();\r\n            file = null;\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n","title":"delete file after reading into inputstream","body":"<p>Try delete on the Finally block</p>\n\n<pre><code>import java.io.File;\nimport java.io.FileInputStream;\nimport java.io.FileNotFoundException;\nimport java.io.IOException;\n\nclass DeleteFile extends FileInputStream {\n\n  File file;\n\n  public DeleteFile(String s) throws FileNotFoundException {\n    this(new File(s));\n  }\n\n  public DeleteFile(File file) throws FileNotFoundException {\n    super(file);\n    this.file = file;\n  }\n\n  public void close() throws IOException {\n    try {\n      super.close();\n    } finally {\n      if (file != null) {\n        file.delete();\n        file = null;\n      }\n    }\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3731942,"reputation":367,"user_id":3103993,"accept_rate":40,"display_name":"dingjsh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676854850,"creation_date":1676854850,"answer_id":75504427,"question_id":48441485,"body_markdown":"`Files.newInputStream(yourFile,StandardOpenOption.DELETE_ON_CLOSE)` seems to be a better option.","title":"delete file after reading into inputstream","body":"<p><code>Files.newInputStream(yourFile,StandardOpenOption.DELETE_ON_CLOSE)</code> seems to be a better option.</p>\n"}],"owner":{"account_id":187431,"reputation":3311,"user_id":425481,"accept_rate":59,"display_name":"vbNewbie"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5407,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1676854850,"creation_date":1516878671,"question_id":48441485,"body_markdown":"I am trying to retrieve a video stream from a file stored locally. After reading into an inputstream, I am trying to delete the file but it does not allow this to happen. I understand that I need to close the stream, but I need to pass this stream on to a webserver call. Any ideas on how to best approach this:\r\n\r\n\r\n    InputStream is = new FileInputStream(&quot;\\\\Location\\\\file.txt&quot;);\r\n    File f = new File(&quot;\\\\Location\\\\file.txt&quot;);\r\n\t\t\t\t \r\n\t\t\t\t if(f.delete()) {\r\n\t\t\t\t\tSystem.out.println(&quot;success&quot;);\r\n\t\t\t\t } else {\r\n\t\t            System.out.println(&quot;failure&quot;);\r\n\t\t\t\t }  ","title":"delete file after reading into inputstream","body":"<p>I am trying to retrieve a video stream from a file stored locally. After reading into an inputstream, I am trying to delete the file but it does not allow this to happen. I understand that I need to close the stream, but I need to pass this stream on to a webserver call. Any ideas on how to best approach this:</p>\n\n<pre><code>InputStream is = new FileInputStream(\"\\\\Location\\\\file.txt\");\nFile f = new File(\"\\\\Location\\\\file.txt\");\n\n             if(f.delete()) {\n                System.out.println(\"success\");\n             } else {\n                System.out.println(\"failure\");\n             }  \n</code></pre>\n"},{"tags":["java","graphviz","dot"],"owner":{"account_id":25856963,"reputation":1,"user_id":19590055,"display_name":"Divya Vijayakumar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":130,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676854657,"creation_date":1676852823,"question_id":75504308,"body_markdown":"I&#39;m working on a project where I have to use Graphviz-java API to manipulate a graph such as add nodes, add edges, remove nodes, remove edges. \r\n\r\nI was able to add nodes and edges using \r\n\r\n    g.add(mutNode(nodeLabel)) \r\n\r\nand \r\n\r\n    g.add(mutNode(srcLabel).addLink(mutNode(dstLabel))\r\n\r\nBut I could not find any APIs for removing nodes and edges. I tried \r\n\r\n    g.nodes().remove(mutNode(nodeLabel) \r\n\r\nand \r\n\r\n    g.body.remove(label) \r\n\r\nbut no result. \r\n\r\nCould anyone let me know if there&#39;s any particular function or API that can remove a node or edge from a graph?","title":"Is there an API in Graphviz-java that can remove a node or an edge from a digraph?","body":"<p>I'm working on a project where I have to use Graphviz-java API to manipulate a graph such as add nodes, add edges, remove nodes, remove edges.</p>\n<p>I was able to add nodes and edges using</p>\n<pre><code>g.add(mutNode(nodeLabel)) \n</code></pre>\n<p>and</p>\n<pre><code>g.add(mutNode(srcLabel).addLink(mutNode(dstLabel))\n</code></pre>\n<p>But I could not find any APIs for removing nodes and edges. I tried</p>\n<pre><code>g.nodes().remove(mutNode(nodeLabel) \n</code></pre>\n<p>and</p>\n<pre><code>g.body.remove(label) \n</code></pre>\n<p>but no result.</p>\n<p>Could anyone let me know if there's any particular function or API that can remove a node or edge from a graph?</p>\n"},{"tags":["java","maven"],"owner":{"account_id":16480533,"reputation":311,"user_id":11907420,"display_name":"Usman Sajid"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676852663,"creation_date":1676852663,"question_id":75504303,"body_markdown":"I am using maven in my project. In my project, I am using a Java library testcontainers-keycloak. In the pom.xml of that library https://github.com/dasniko/testcontainers-keycloak/blob/2.1.2/pom.xml, many dependencies have been mentioned. I have noticed one thing for the dependencies with the ```&lt;scope&gt;test&lt;/scope&gt;``` . I am unable to see these dependencies in my .m2 directory. I was curious about it. Can any one tell me that how maven manages the dependencies with the ``` &lt;scope&gt;test&lt;/scope&gt;``` . In which directory, they are downloaded. I know that test scope indicates that the dependency is not required for normal use of the application, and is only available for the test compilation and execution phases but I do not know that where and when maven downloads such dependencies before executing our tests. ","title":"At which path and when the Transitive Dependencies with the scope test in the maven project are downloaded","body":"<p>I am using maven in my project. In my project, I am using a Java library testcontainers-keycloak. In the pom.xml of that library <a href=\"https://github.com/dasniko/testcontainers-keycloak/blob/2.1.2/pom.xml\" rel=\"nofollow noreferrer\">https://github.com/dasniko/testcontainers-keycloak/blob/2.1.2/pom.xml</a>, many dependencies have been mentioned. I have noticed one thing for the dependencies with the <code>&lt;scope&gt;test&lt;/scope&gt;</code> . I am unable to see these dependencies in my .m2 directory. I was curious about it. Can any one tell me that how maven manages the dependencies with the <code> &lt;scope&gt;test&lt;/scope&gt;</code> . In which directory, they are downloaded. I know that test scope indicates that the dependency is not required for normal use of the application, and is only available for the test compilation and execution phases but I do not know that where and when maven downloads such dependencies before executing our tests.</p>\n"},{"tags":["java","android","firebase-realtime-database","firebase-authentication","firebase-security"],"answers":[{"comments":[{"owner":{"account_id":9069534,"reputation":548,"user_id":6753279,"accept_rate":63,"display_name":"Ritu"},"score":0,"creation_date":1676826701,"post_id":75497130,"comment_id":133211218,"body_markdown":"Even the basic `{\n  &quot;rules&quot;: {\n    &quot;.read&quot;: &quot;auth.uid != null&quot;,\n    &quot;.write&quot;: &quot;auth.uid != null&quot;\n  }\n}\n` get permission denied message. Why? and how can i debug the auth.uid value","body":"Even the basic <code>{   &quot;rules&quot;: {     &quot;.read&quot;: &quot;auth.uid != null&quot;,     &quot;.write&quot;: &quot;auth.uid != null&quot;   } } </code> get permission denied message. Why? and how can i debug the auth.uid value"},{"owner":{"account_id":72426,"reputation":573804,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":0,"creation_date":1676829703,"post_id":75497130,"comment_id":133211782,"body_markdown":"That sounds like no user is signed in. Run `Log.i(&quot;Firebase&quot;, FirebaseAuth.getInstance().getCurrentUser());` right before you try to access the database.","body":"That sounds like no user is signed in. Run <code>Log.i(&quot;Firebase&quot;, FirebaseAuth.getInstance().getCurrentUser());</code> right before you try to access the database."},{"owner":{"account_id":9069534,"reputation":548,"user_id":6753279,"accept_rate":63,"display_name":"Ritu"},"score":0,"creation_date":1676831782,"post_id":75497130,"comment_id":133212202,"body_markdown":"Is my custom token with JWT sign up with firebaseAuth is correct?","body":"Is my custom token with JWT sign up with firebaseAuth is correct?"},{"owner":{"account_id":72426,"reputation":573804,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":0,"creation_date":1676837488,"post_id":75497130,"comment_id":133213236,"body_markdown":"You can test that yourself by checking what result you get in the `onComplete` of your `signInWithCustomToken`. If the sign in completes successfully your JWT is correct. If the sign in fails, there&#39;s an error message in `task.getException()` that tells you what went wrong.","body":"You can test that yourself by checking what result you get in the <code>onComplete</code> of your <code>signInWithCustomToken</code>. If the sign in completes successfully your JWT is correct. If the sign in fails, there&#39;s an error message in <code>task.getException()</code> that tells you what went wrong."},{"owner":{"account_id":9069534,"reputation":548,"user_id":6753279,"accept_rate":63,"display_name":"Ritu"},"score":0,"creation_date":1676838137,"post_id":75497130,"comment_id":133213374,"body_markdown":"Yes if you notice the `firebaseAuth.signInWithCustomToken` i only letting user to proceed (login) if the method calls `onComplete`","body":"Yes if you notice the <code>firebaseAuth.signInWithCustomToken</code> i only letting user to proceed (login) if the method calls <code>onComplete</code>"},{"owner":{"account_id":72426,"reputation":573804,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":0,"creation_date":1676838266,"post_id":75497130,"comment_id":133213395,"body_markdown":"A **completed** task can still have **failed** or **succeeded**. https://developers.google.com/android/guides/tasks","body":"A <b>completed</b> task can still have <b>failed</b> or <b>succeeded</b>. <a href=\"https://developers.google.com/android/guides/tasks\" rel=\"nofollow noreferrer\">developers.google.com/android/guides/tasks</a>"},{"owner":{"account_id":9069534,"reputation":548,"user_id":6753279,"accept_rate":63,"display_name":"Ritu"},"score":0,"creation_date":1676839183,"post_id":75497130,"comment_id":133213577,"body_markdown":"I checked the link and I&#39;m using `onComplete` and then again i check `if(task.isComplete())` . So by this code i guess it&#39;s getting success in signing. But if you can shed some light on my logic that would be really helpful for me.","body":"I checked the link and I&#39;m using <code>onComplete</code> and then again i check <code>if(task.isComplete())</code> . So by this code i guess it&#39;s getting success in signing. But if you can shed some light on my logic that would be really helpful for me."},{"owner":{"account_id":72426,"reputation":573804,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":0,"creation_date":1676844093,"post_id":75497130,"comment_id":133214403,"body_markdown":"Guessing it not going to help here. As said: a **completed** task can still have **failed** or **succeeded**. The link I gave has examples for explicit `addOnSuccessListener` and `addOnFailureListener` listener calls, but also for the `addOnCompleteListener` that you use and how to check `isSuccessful` in there.","body":"Guessing it not going to help here. As said: a <b>completed</b> task can still have <b>failed</b> or <b>succeeded</b>. The link I gave has examples for explicit <code>addOnSuccessListener</code> and <code>addOnFailureListener</code> listener calls, but also for the <code>addOnCompleteListener</code> that you use and how to check <code>isSuccessful</code> in there."},{"owner":{"account_id":72426,"reputation":573804,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":0,"creation_date":1676852352,"post_id":75497130,"comment_id":133215516,"body_markdown":"I added an example of this to my answer.","body":"I added an example of this to my answer."},{"owner":{"account_id":9069534,"reputation":548,"user_id":6753279,"accept_rate":63,"display_name":"Ritu"},"score":0,"creation_date":1676856199,"post_id":75497130,"comment_id":133215991,"body_markdown":"You are right and i think i need to ask separate question for help in generating token. I think i have found the root cause After using your code: `com.google.android.gms.tasks.RuntimeExecutionException: com.google.firebase.auth.FirebaseAuthInvalidCredentialsException: The custom token format is incorrect. Please check the documentation.`","body":"You are right and i think i need to ask separate question for help in generating token. I think i have found the root cause After using your code: <code>com.google.android.gms.tasks.RuntimeExecutionException: com.google.firebase.auth.FirebaseAuthInvalidCredentialsExcep&zwnj;&#8203;tion: The custom token format is incorrect. Please check the documentation.</code>"}],"tags":[],"owner":{"account_id":72426,"reputation":573804,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"comment_count":10,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676852343,"creation_date":1676764075,"answer_id":75497130,"question_id":75496500,"body_markdown":"As Alex also answered: you&#39;re not granting anyone read access to `/Chat`, so any code trying to read from there will be rejected. I would not recommend his answer though, as the rule on `/Chat` makes the more strict rules on `/Chat/$room_id` meaningless.\r\n\r\nI recommend reading the documentation on [rules don&#39;t filter data](https://firebase.google.com/docs/database/security/securing-data#rules_are_not_filters) (which explains why your current code don&#39;t work and on the fact that [permissions cascade](https://firebase.google.com/docs/database/security/core-syntax#read_and_write_rules_cascade) (which explains why the rules in Alex&#39; answer make the ones you already have meaningless).\r\n\r\nThe data structure you have look like what I described in my answer to: https://stackoverflow.com/questions/33540479/best-way-to-manage-chat-channels-in-firebase. In my answer there I also showed how to model security rules to allow read access and how to get a list of the chat room for the user, so I recommend checking that out.\r\n\r\n---\r\n\r\nAs I tried explaining in the comments, the way you handle the sign-in result is wrong:\r\n```\r\n//  THIS IS WRONG  \r\nfirebaseAuth = FirebaseAuth.getInstance();\r\nfirebaseAuth.signInWithCustomToken(Session.getJWT())\r\n    .addOnCompleteListener(new OnCompleteListener&lt;AuthResult&gt;() {\r\n        @Override\r\n        public void onComplete(@NonNull Task&lt;AuthResult&gt; task) {\r\n            if (task.isComplete()){\r\n                if(getActivity()!=null){\r\n                 //User Logged In Successfully \r\n                }else{\r\n                    // Failed\r\n                }\r\n            }\r\n        }\r\n    });\r\n```\r\n\r\nInstead, when a `Task` completes you should check whether it succeeded or failed, as shown in the documentation on [handling tas results](https://developers.google.com/android/guides/tasks#handling_task_results). In your case that&#39;d be:\r\n\r\n```\r\n//  Handling success and failure correctly &#128077;\r\nfirebaseAuth = FirebaseAuth.getInstance();\r\nfirebaseAuth.signInWithCustomToken(Session.getJWT())\r\n    .addOnCompleteListener(new OnCompleteListener&lt;AuthResult&gt;() {\r\n        @Override\r\n        public void onComplete(@NonNull Task&lt;AuthResult&gt; task) {\r\n            if (task.isSuccessful()!=null) {\r\n                // User signed in\r\n                // TODO: access database\r\n            } else {\r\n                // Sign in failed\r\n                throw task.getException();\r\n            }\r\n        }\r\n    });\r\n```\r\n","title":"Firebase Realtime Database Rules Permission Denied","body":"<p>As Alex also answered: you're not granting anyone read access to <code>/Chat</code>, so any code trying to read from there will be rejected. I would not recommend his answer though, as the rule on <code>/Chat</code> makes the more strict rules on <code>/Chat/$room_id</code> meaningless.</p>\n<p>I recommend reading the documentation on <a href=\"https://firebase.google.com/docs/database/security/securing-data#rules_are_not_filters\" rel=\"nofollow noreferrer\">rules don't filter data</a> (which explains why your current code don't work and on the fact that <a href=\"https://firebase.google.com/docs/database/security/core-syntax#read_and_write_rules_cascade\" rel=\"nofollow noreferrer\">permissions cascade</a> (which explains why the rules in Alex' answer make the ones you already have meaningless).</p>\n<p>The data structure you have look like what I described in my answer to: <a href=\"https://stackoverflow.com/questions/33540479/best-way-to-manage-chat-channels-in-firebase\">Best way to manage Chat channels in Firebase</a>. In my answer there I also showed how to model security rules to allow read access and how to get a list of the chat room for the user, so I recommend checking that out.</p>\n<hr />\n<p>As I tried explaining in the comments, the way you handle the sign-in result is wrong:</p>\n<pre><code>//  THIS IS WRONG  \nfirebaseAuth = FirebaseAuth.getInstance();\nfirebaseAuth.signInWithCustomToken(Session.getJWT())\n    .addOnCompleteListener(new OnCompleteListener&lt;AuthResult&gt;() {\n        @Override\n        public void onComplete(@NonNull Task&lt;AuthResult&gt; task) {\n            if (task.isComplete()){\n                if(getActivity()!=null){\n                 //User Logged In Successfully \n                }else{\n                    // Failed\n                }\n            }\n        }\n    });\n</code></pre>\n<p>Instead, when a <code>Task</code> completes you should check whether it succeeded or failed, as shown in the documentation on <a href=\"https://developers.google.com/android/guides/tasks#handling_task_results\" rel=\"nofollow noreferrer\">handling tas results</a>. In your case that'd be:</p>\n<pre><code>//  Handling success and failure correctly \nfirebaseAuth = FirebaseAuth.getInstance();\nfirebaseAuth.signInWithCustomToken(Session.getJWT())\n    .addOnCompleteListener(new OnCompleteListener&lt;AuthResult&gt;() {\n        @Override\n        public void onComplete(@NonNull Task&lt;AuthResult&gt; task) {\n            if (task.isSuccessful()!=null) {\n                // User signed in\n                // TODO: access database\n            } else {\n                // Sign in failed\n                throw task.getException();\n            }\n        }\n    });\n</code></pre>\n"}],"owner":{"account_id":9069534,"reputation":548,"user_id":6753279,"accept_rate":63,"display_name":"Ritu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":120,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676852373,"creation_date":1676755636,"question_id":75496500,"body_markdown":"I have an app where I am using a custom authentication method. First, on the user login into the app, I generate the JWT Token on the server and send it back to the app. \r\n\r\n    function generateJWT($con,$userID,$cretedTime) {\r\n    \t$secret_Key  = &quot;-----BEGIN PRIVATE KEY-----\\HCPW\\nAtY9K1/19yScEhdmhw8Ozek=\\n-----END PRIVATE KEY-----\\n&quot;;\r\n    \t$date   = time();\r\n    \t//$expire_at     = $date-&gt;modify(&#39;+3 minutes&#39;)-&gt;getTimestamp(); // Add 60 seconds\r\n    \t$domainName = &quot;firebase-adminsdk-XXXXXXXX.iam.gserviceaccount.com&quot;;\r\n    \r\n    \t$request_data = [\r\n    \t&#39;iss&#39;  =&gt; $domainName, \r\n    \t&#39;sub&#39; =&gt; $domainName,\r\n    \t&#39;aud&#39; =&gt; &quot;https://identitytoolkit.googleapis.com/google.identity.identitytoolkit.v1.IdentityToolkit&quot;,\r\n    \t&#39;iat&#39;  =&gt; $date,         // Issued at: time when the token was generated\r\n    \t\t                      // Issuer\r\n    \t//&#39;exp&#39; =&gt; $date+(60*60),  // Maximum expiration time six month in seconds //15778476 \r\n    \t&#39;uid&#39; =&gt; $userID,                     // User name\r\n    \t&#39;created&#39; =&gt; $cretedTime,                     // User name\r\n    \t];\r\n         $newToken = JWT::encode($request_data,$secret_Key,&#39;RS256&#39;);\t \t\r\n    \t return $newToken; \r\n    \t\r\n    }\r\n\r\nThen In the app send on receiving this token I am start the login process.my app using custom firebase auth \r\n\r\n    firebaseAuth = FirebaseAuth.getInstance();\r\n    firebaseAuth.signInWithCustomToken(Session.getJWT())\r\n            .addOnCompleteListener(new OnCompleteListener&lt;AuthResult&gt;() {\r\n                @Override\r\n                public void onComplete(@NonNull Task&lt;AuthResult&gt; task) {\r\n                    if (task.isComplete()){\r\n                        if(getActivity()!=null){\r\n                         //User Logged In Successfully \r\n                        }else{\r\n                            // Failed\r\n                        }\r\n\r\n                    }\r\n                }\r\n            });\r\n\r\n\r\nSo after days of googling, I got the Firebase rules for the structure of my database to look like this \r\n\r\n    {\r\n      &quot;Chat&quot;: {\r\n        &quot;206-4&quot;: &quot;&quot;,\r\n        &quot;311-158&quot;: &quot;&quot;,\r\n        &quot;215-112&quot;: &quot;&quot;,\r\n        &quot;734-115&quot;: &quot;&quot;,\r\n        &quot;734-55&quot;: &quot;&quot;,\r\n        &quot;734-468&quot;: &quot;&quot;,\r\n        &quot;34-32&quot;: &quot;&quot;,\r\n        &quot;534-179&quot;: &quot;&quot;,\r\n        &quot;734-345&quot;: {\r\n          &quot;-NI7hqW3YTFKpnSZU422&quot;: {\r\n            &quot;Message&quot;: &quot;Test&quot;,\r\n            &quot;Message_From&quot;: &quot;Support &quot;,\r\n            &quot;Message_From_ID&quot;: &quot;4&quot;,   \r\n            &quot;Message_To&quot;: &quot;Demo&quot;,\r\n            \r\n          },\r\n          &quot;-NMVOwlAqmyIA52QU9F-&quot;: {\r\n            &quot;Message&quot;: &quot;Hi&quot;,\r\n            &quot;Message_From&quot;: &quot;Support &quot;,\r\n            &quot;Message_From_ID&quot;: &quot;4&quot;,\r\n            &quot;Message_To&quot;: &quot;Demo&quot;,\r\n            \r\n          }\r\n        },    \r\n        &quot;347-234&quot;: {\r\n          &quot;-NI7hXybU02Mg6vYqdKp&quot;: {\r\n            &quot;Message&quot;: &quot;Ohio&quot;,\r\n            &quot;Message_From&quot;: &quot;Elaxer  Support &quot;,\r\n            &quot;Message_From_ID&quot;: &quot;4&quot;,\r\n            &quot;Message_To&quot;: &quot;Demo 2&quot;,\r\n            \r\n          }\r\n        },\r\n        &quot;281-69&quot;: &quot;&quot;,\r\n        &quot;317-34&quot;: &quot;&quot;\r\n      },\r\n      &quot;Users&quot;: {\r\n        &quot;4&quot;: {\r\n          &quot;Online&quot;: false,\r\n          &quot;lastSeen&quot;: &quot;1675785660782&quot;\r\n        },    \r\n        &quot;284&quot;: {\r\n          &quot;Online&quot;: false,\r\n          &quot;lastSeen&quot;: &quot;1673611185873&quot;\r\n        }\r\n      },\r\n      &quot;UsersLocations&quot;: {\r\n        &quot;4-210&quot;: {\r\n          &quot;-1&quot;: {\r\n            &quot;Latitude&quot;: &quot;22.605&quot;,\r\n            &quot;Longitude&quot;: &quot;88.375&quot;\r\n          }\r\n        },\r\n    \t&quot;25-21&quot;: {\r\n          &quot;-1&quot;: {\r\n            &quot;Latitude&quot;: &quot;22.605&quot;,\r\n            &quot;Longitude&quot;: &quot;88.375&quot;\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n\r\nFirebase Rules \r\n\r\n    {\r\n      &quot;rules&quot;: {\r\n        &quot;Chat&quot;: {\r\n          &quot;$room_id&quot;: {\r\n            &quot;.read&quot;: &quot;auth.uid === $room_id &amp;&amp; $room_id.beginsWith(auth.uid + &#39;-&#39;) || auth.uid === $room_id &amp;&amp; $room_id.endsWith(&#39;-&#39; + auth.uid)&quot;,\r\n            &quot;.write&quot;: &quot;auth.uid === $room_id &amp;&amp; $room_id.beginsWith(auth.uid + &#39;-&#39;) || auth.uid === $room_id &amp;&amp; $room_id.endsWith(&#39;-&#39; + auth.uid)&quot;\r\n          }\r\n        },\r\n        &quot;Users&quot;: {\r\n          &quot;$uid&quot;: {\r\n            &quot;.write&quot;: &quot;$uid === auth.uid&quot;\r\n          }\r\n        },\r\n        &quot;UsersLocations&quot;: {\r\n          &quot;$user_location_id&quot;: {\r\n            &quot;.read&quot;: &quot;auth.uid === $user_location_id &amp;&amp; $user_location_id.endsWith(&#39;-location&#39;)&quot;,\r\n            &quot;.write&quot;: &quot;auth.uid === $user_location_id &amp;&amp; $user_location_id.endsWith(&#39;-location&#39;)&quot;\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\nSo when ever i tried to create or get the Chat node (Chatroom).\r\n\r\n    DatabaseReference db = FirebaseDatabase.getInstance().getReference().child(&quot;Chat&quot;);\r\n    db.addListenerForSingleValueEvent(new ValueEventListener() {\r\n        @Override\r\n        public void onDataChange(DataSnapshot dataSnapshot) {\r\n            \r\n        }\r\n\r\n        @Override\r\n        public void onCancelled(DatabaseError databaseError) {           \r\n        }\r\n    });\r\n\r\n\r\n It gives me error \r\n\r\n&gt; Listen at /Chat failed: DatabaseError: Permission denied\r\n\r\nI am not able to understand why i am getting this error when i am only checking the user id exist in room name and my jwt token on generation time having user id of one user. Please help me out, what&#39;s wrong i am doing with my rules ","title":"Firebase Realtime Database Rules Permission Denied","body":"<p>I have an app where I am using a custom authentication method. First, on the user login into the app, I generate the JWT Token on the server and send it back to the app.</p>\n<pre><code>function generateJWT($con,$userID,$cretedTime) {\n    $secret_Key  = &quot;-----BEGIN PRIVATE KEY-----\\HCPW\\nAtY9K1/19yScEhdmhw8Ozek=\\n-----END PRIVATE KEY-----\\n&quot;;\n    $date   = time();\n    //$expire_at     = $date-&gt;modify('+3 minutes')-&gt;getTimestamp(); // Add 60 seconds\n    $domainName = &quot;firebase-adminsdk-XXXXXXXX.iam.gserviceaccount.com&quot;;\n\n    $request_data = [\n    'iss'  =&gt; $domainName, \n    'sub' =&gt; $domainName,\n    'aud' =&gt; &quot;https://identitytoolkit.googleapis.com/google.identity.identitytoolkit.v1.IdentityToolkit&quot;,\n    'iat'  =&gt; $date,         // Issued at: time when the token was generated\n                              // Issuer\n    //'exp' =&gt; $date+(60*60),  // Maximum expiration time six month in seconds //15778476 \n    'uid' =&gt; $userID,                     // User name\n    'created' =&gt; $cretedTime,                     // User name\n    ];\n     $newToken = JWT::encode($request_data,$secret_Key,'RS256');        \n     return $newToken; \n    \n}\n</code></pre>\n<p>Then In the app send on receiving this token I am start the login process.my app using custom firebase auth</p>\n<pre><code>firebaseAuth = FirebaseAuth.getInstance();\nfirebaseAuth.signInWithCustomToken(Session.getJWT())\n        .addOnCompleteListener(new OnCompleteListener&lt;AuthResult&gt;() {\n            @Override\n            public void onComplete(@NonNull Task&lt;AuthResult&gt; task) {\n                if (task.isComplete()){\n                    if(getActivity()!=null){\n                     //User Logged In Successfully \n                    }else{\n                        // Failed\n                    }\n\n                }\n            }\n        });\n</code></pre>\n<p>So after days of googling, I got the Firebase rules for the structure of my database to look like this</p>\n<pre><code>{\n  &quot;Chat&quot;: {\n    &quot;206-4&quot;: &quot;&quot;,\n    &quot;311-158&quot;: &quot;&quot;,\n    &quot;215-112&quot;: &quot;&quot;,\n    &quot;734-115&quot;: &quot;&quot;,\n    &quot;734-55&quot;: &quot;&quot;,\n    &quot;734-468&quot;: &quot;&quot;,\n    &quot;34-32&quot;: &quot;&quot;,\n    &quot;534-179&quot;: &quot;&quot;,\n    &quot;734-345&quot;: {\n      &quot;-NI7hqW3YTFKpnSZU422&quot;: {\n        &quot;Message&quot;: &quot;Test&quot;,\n        &quot;Message_From&quot;: &quot;Support &quot;,\n        &quot;Message_From_ID&quot;: &quot;4&quot;,   \n        &quot;Message_To&quot;: &quot;Demo&quot;,\n        \n      },\n      &quot;-NMVOwlAqmyIA52QU9F-&quot;: {\n        &quot;Message&quot;: &quot;Hi&quot;,\n        &quot;Message_From&quot;: &quot;Support &quot;,\n        &quot;Message_From_ID&quot;: &quot;4&quot;,\n        &quot;Message_To&quot;: &quot;Demo&quot;,\n        \n      }\n    },    \n    &quot;347-234&quot;: {\n      &quot;-NI7hXybU02Mg6vYqdKp&quot;: {\n        &quot;Message&quot;: &quot;Ohio&quot;,\n        &quot;Message_From&quot;: &quot;Elaxer  Support &quot;,\n        &quot;Message_From_ID&quot;: &quot;4&quot;,\n        &quot;Message_To&quot;: &quot;Demo 2&quot;,\n        \n      }\n    },\n    &quot;281-69&quot;: &quot;&quot;,\n    &quot;317-34&quot;: &quot;&quot;\n  },\n  &quot;Users&quot;: {\n    &quot;4&quot;: {\n      &quot;Online&quot;: false,\n      &quot;lastSeen&quot;: &quot;1675785660782&quot;\n    },    \n    &quot;284&quot;: {\n      &quot;Online&quot;: false,\n      &quot;lastSeen&quot;: &quot;1673611185873&quot;\n    }\n  },\n  &quot;UsersLocations&quot;: {\n    &quot;4-210&quot;: {\n      &quot;-1&quot;: {\n        &quot;Latitude&quot;: &quot;22.605&quot;,\n        &quot;Longitude&quot;: &quot;88.375&quot;\n      }\n    },\n    &quot;25-21&quot;: {\n      &quot;-1&quot;: {\n        &quot;Latitude&quot;: &quot;22.605&quot;,\n        &quot;Longitude&quot;: &quot;88.375&quot;\n      }\n    }\n  }\n}\n</code></pre>\n<p>Firebase Rules</p>\n<pre><code>{\n  &quot;rules&quot;: {\n    &quot;Chat&quot;: {\n      &quot;$room_id&quot;: {\n        &quot;.read&quot;: &quot;auth.uid === $room_id &amp;&amp; $room_id.beginsWith(auth.uid + '-') || auth.uid === $room_id &amp;&amp; $room_id.endsWith('-' + auth.uid)&quot;,\n        &quot;.write&quot;: &quot;auth.uid === $room_id &amp;&amp; $room_id.beginsWith(auth.uid + '-') || auth.uid === $room_id &amp;&amp; $room_id.endsWith('-' + auth.uid)&quot;\n      }\n    },\n    &quot;Users&quot;: {\n      &quot;$uid&quot;: {\n        &quot;.write&quot;: &quot;$uid === auth.uid&quot;\n      }\n    },\n    &quot;UsersLocations&quot;: {\n      &quot;$user_location_id&quot;: {\n        &quot;.read&quot;: &quot;auth.uid === $user_location_id &amp;&amp; $user_location_id.endsWith('-location')&quot;,\n        &quot;.write&quot;: &quot;auth.uid === $user_location_id &amp;&amp; $user_location_id.endsWith('-location')&quot;\n      }\n    }\n  }\n}\n</code></pre>\n<p>So when ever i tried to create or get the Chat node (Chatroom).</p>\n<pre><code>DatabaseReference db = FirebaseDatabase.getInstance().getReference().child(&quot;Chat&quot;);\ndb.addListenerForSingleValueEvent(new ValueEventListener() {\n    @Override\n    public void onDataChange(DataSnapshot dataSnapshot) {\n        \n    }\n\n    @Override\n    public void onCancelled(DatabaseError databaseError) {           \n    }\n});\n</code></pre>\n<p>It gives me error</p>\n<blockquote>\n<p>Listen at /Chat failed: DatabaseError: Permission denied</p>\n</blockquote>\n<p>I am not able to understand why i am getting this error when i am only checking the user id exist in room name and my jwt token on generation time having user id of one user. Please help me out, what's wrong i am doing with my rules</p>\n"},{"tags":["java","swing","jtextarea","word-wrap"],"answers":[{"comments":[{"owner":{"account_id":1078921,"reputation":36333,"user_id":1076463,"accept_rate":65,"display_name":"Robin"},"score":1,"creation_date":1326497353,"post_id":8858616,"comment_id":11067386,"body_markdown":"That&#39;s a first. Most times I am too slow due to the creation of the links to the Javadoc which take some time, even if you know the API from the top of your head","body":"That&#39;s a first. Most times I am too slow due to the creation of the links to the Javadoc which take some time, even if you know the API from the top of your head"},{"owner":{"account_id":2870291,"reputation":2811,"user_id":2463800,"accept_rate":75,"display_name":"Trevin Avery"},"score":8,"creation_date":1404241020,"post_id":8858616,"comment_id":37959777,"body_markdown":"You may also want to use [JTextArea#setWrapStyleWord](http://docs.oracle.com/javase/7/docs/api/javax/swing/JTextArea.html#setWrapStyleWord(boolean)) if don&#39;t want it to break words.","body":"You may also want to use <a href=\"http://docs.oracle.com/javase/7/docs/api/javax/swing/JTextArea.html#setWrapStyleWord(boolean)\" rel=\"nofollow noreferrer\">JTextArea#setWrapStyleWord</a> if don&#39;t want it to break words."}],"tags":[],"owner":{"account_id":1078921,"reputation":36333,"user_id":1076463,"accept_rate":65,"display_name":"Robin"},"comment_count":2,"down_vote_count":1,"up_vote_count":80,"is_accepted":true,"score":79,"last_activity_date":1326497132,"creation_date":1326497132,"answer_id":8858616,"question_id":8858584,"body_markdown":"Use the [`JTextArea#setLineWrap`][1] method. This is also illustrated in the [Swing `JTextArea` tutorial][2]\r\n\r\n[1]: http://docs.oracle.com/javase/7/docs/api/javax/swing/JTextArea.html#setLineWrap(boolean)\r\n[2]: http://docs.oracle.com/javase/tutorial/uiswing/components/textarea.html","title":"How to wrap text in a JTextArea","body":"<p>Use the <a href=\"http://docs.oracle.com/javase/7/docs/api/javax/swing/JTextArea.html#setLineWrap(boolean)\" rel=\"noreferrer\"><code>JTextArea#setLineWrap</code></a> method. This is also illustrated in the <a href=\"http://docs.oracle.com/javase/tutorial/uiswing/components/textarea.html\" rel=\"noreferrer\">Swing <code>JTextArea</code> tutorial</a></p>\n"},{"comments":[{"owner":{"account_id":1020366,"reputation":1147,"user_id":1030885,"accept_rate":55,"display_name":"Carlo"},"score":0,"creation_date":1326500220,"post_id":8858626,"comment_id":11067952,"body_markdown":"tq very much btw eventhough robin answer first :D","body":"tq very much btw eventhough robin answer first :D"}],"tags":[],"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"comment_count":1,"down_vote_count":0,"up_vote_count":31,"is_accepted":false,"score":31,"last_activity_date":1326497216,"creation_date":1326497216,"answer_id":8858626,"question_id":8858584,"body_markdown":"Look at the API for the methods available to JTextArea, in particular `setWrapStyleWord` and `setLineWrap`.","title":"How to wrap text in a JTextArea","body":"<p>Look at the API for the methods available to JTextArea, in particular <code>setWrapStyleWord</code> and <code>setLineWrap</code>.</p>\n"},{"tags":[],"owner":{"account_id":3027741,"reputation":1404,"user_id":2567363,"accept_rate":20,"display_name":"sathya"},"comment_count":0,"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1418646404,"creation_date":1391146013,"answer_id":21473025,"question_id":8858584,"body_markdown":"Try This :\r\n\r\n    jTextArea.setLineWrap(true);","title":"How to wrap text in a JTextArea","body":"<p>Try This :</p>\n\n<pre><code>jTextArea.setLineWrap(true);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6498231,"reputation":700,"user_id":5030083,"accept_rate":80,"display_name":"Kym NT"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1436317552,"creation_date":1436317552,"answer_id":31281898,"question_id":8858584,"body_markdown":"In a Swing GUI Designer Like Netbeans IDE,\r\n\r\nyou could just &#39;check&#39; the lineWrap in jTextArea property window.\r\n\r\n\r\nif property window is hidden:\r\n     \r\n    Goto WINDOW -&gt; IDE TOOLS -&gt; Properties\r\n\r\nor press \r\n\r\n    CTRL + SHIFT + 7\r\n\r\n\r\nIn Swing GUI\r\n\r\nadd the line\r\n\r\n    jTextArea.setLineWrap(true);","title":"How to wrap text in a JTextArea","body":"<p>In a Swing GUI Designer Like Netbeans IDE,</p>\n\n<p>you could just 'check' the lineWrap in jTextArea property window.</p>\n\n<p>if property window is hidden:</p>\n\n<pre><code>Goto WINDOW -&gt; IDE TOOLS -&gt; Properties\n</code></pre>\n\n<p>or press </p>\n\n<pre><code>CTRL + SHIFT + 7\n</code></pre>\n\n<p>In Swing GUI</p>\n\n<p>add the line</p>\n\n<pre><code>jTextArea.setLineWrap(true);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25415289,"reputation":1,"user_id":19222330,"display_name":"Jed"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653770153,"creation_date":1653770153,"answer_id":72419106,"question_id":8858584,"body_markdown":"you would need to use this to wrap text with multiple words.\r\n```\r\nJTextArea.setWrapStyleWord(true);\r\n```\r\n","title":"How to wrap text in a JTextArea","body":"<p>you would need to use this to wrap text with multiple words.</p>\n<pre><code>JTextArea.setWrapStyleWord(true);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17645425,"reputation":12774,"user_id":12806961,"display_name":"Code on the Rocks"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676851701,"creation_date":1676851701,"answer_id":75504251,"question_id":8858584,"body_markdown":"In the IntelliJ GUI Designer, you can just check the &quot;lineWrap&quot; box to get the wrapping functionality:\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/vWPSi.png","title":"How to wrap text in a JTextArea","body":"<p>In the IntelliJ GUI Designer, you can just check the &quot;lineWrap&quot; box to get the wrapping functionality:\n<a href=\"https://i.stack.imgur.com/vWPSi.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vWPSi.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":1020366,"reputation":1147,"user_id":1030885,"accept_rate":55,"display_name":"Carlo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":86705,"favorite_count":0,"down_vote_count":1,"up_vote_count":37,"accepted_answer_id":8858616,"answer_count":6,"score":36,"last_activity_date":1676851701,"creation_date":1326496883,"question_id":8858584,"body_markdown":"I have a JTextArea in Java.  When I place a large amount of text in it, the text area provides horizontal scrolling.\r\n\r\nHow can I make my text area wrap instead?","title":"How to wrap text in a JTextArea","body":"<p>I have a JTextArea in Java.  When I place a large amount of text in it, the text area provides horizontal scrolling.</p>\n\n<p>How can I make my text area wrap instead?</p>\n"},{"tags":["java","relative-path","java-6"],"comments":[{"owner":{"display_name":"user166390"},"score":3,"creation_date":1357625390,"post_id":14209085,"comment_id":19704084,"body_markdown":"That is a valid relative path in Windows .. but you&#39;re not where you link you are. (Hint, it&#39;s relative from the **current working directory** and not the source file.)","body":"That is a valid relative path in Windows .. but you&#39;re not where you link you are. (Hint, it&#39;s relative from the <b>current working directory</b> and not the source file.)"},{"owner":{"account_id":1064228,"reputation":16042,"user_id":1065180,"accept_rate":92,"display_name":"Nandkumar Tekale"},"score":0,"creation_date":1357626408,"post_id":14209085,"comment_id":19704384,"body_markdown":"You should keep your `config.properties` under `src`. Create `config` package under `src`, keep `config.properties` under `config` package. And access simply it as `config/config.properties`.","body":"You should keep your <code>config.properties</code> under <code>src</code>. Create <code>config</code> package under <code>src</code>, keep <code>config.properties</code> under <code>config</code> package. And access simply it as <code>config&#47;config.properties</code>."},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":1,"creation_date":1357626657,"post_id":14209085,"comment_id":19704467,"body_markdown":"Will `config.properties` be distributed with the Jar?  If so it becomes an [tag:embedded-resource] which is not accessible by `File`, but must instead be accessed by `URL`.","body":"Will <code>config.properties</code> be distributed with the Jar?  If so it becomes an <a href=\"https://stackoverflow.com/questions/tagged/embedded-resource\">embedded-resource</a> which is not accessible by <code>File</code>, but must instead be accessed by <code>URL</code>."},{"owner":{"account_id":1618462,"reputation":1893,"user_id":1495534,"accept_rate":57,"display_name":"ishk"},"score":0,"creation_date":1357629695,"post_id":14209085,"comment_id":19705565,"body_markdown":"yes it distribute with the jar file","body":"yes it distribute with the jar file"}],"answers":[{"comments":[{"owner":{"account_id":71611,"reputation":26366,"user_id":6998684,"display_name":"IgorGanapolsky"},"score":0,"creation_date":1458682811,"post_id":14209158,"comment_id":59968667,"body_markdown":"When creating `File(&quot;&quot;)` this way, the parameter should be the path to the file in your project, instead of `&quot;&quot;`.","body":"When creating <code>File(&quot;&quot;)</code> this way, the parameter should be the path to the file in your project, instead of <code>&quot;&quot;</code>."}],"tags":[],"owner":{"account_id":1744250,"reputation":6709,"user_id":1594817,"accept_rate":69,"display_name":"Vinay Veluri"},"comment_count":1,"down_vote_count":2,"up_vote_count":97,"is_accepted":false,"score":95,"last_activity_date":1676850125,"creation_date":1357625296,"answer_id":14209158,"question_id":14209085,"body_markdown":"Try something like this\r\n\r\n\r\n    String filePath = new File(&quot;&quot;).getAbsolutePath();\r\n    filePath.concat(&quot;path to the property file&quot;);\r\n\r\nSo your new file points to the path where it is created, usually your project home folder.\r\n\r\nAs [@cmc](/users/187273) said,\r\n\r\n        String basePath = new File(&quot;&quot;).getAbsolutePath();\r\n        System.out.println(basePath);\r\n\r\n        String path = new File(&quot;src/main/resources/conf.properties&quot;).getAbsolutePath();\r\n        System.out.println(path);\r\n\r\nBoth give the same value.\r\n\r\n","title":"How to define a relative path in java","body":"<p>Try something like this</p>\n<pre><code>String filePath = new File(&quot;&quot;).getAbsolutePath();\nfilePath.concat(&quot;path to the property file&quot;);\n</code></pre>\n<p>So your new file points to the path where it is created, usually your project home folder.</p>\n<p>As <a href=\"/users/187273\">@cmc</a> said,</p>\n<pre><code>    String basePath = new File(&quot;&quot;).getAbsolutePath();\n    System.out.println(basePath);\n\n    String path = new File(&quot;src/main/resources/conf.properties&quot;).getAbsolutePath();\n    System.out.println(path);\n</code></pre>\n<p>Both give the same value.</p>\n"},{"comments":[{"owner":{"account_id":1618462,"reputation":1893,"user_id":1495534,"accept_rate":57,"display_name":"ishk"},"score":0,"creation_date":1357626181,"post_id":14209244,"comment_id":19704316,"body_markdown":"how do i write relative path here?","body":"how do i write relative path here?"},{"owner":{"account_id":477805,"reputation":1943,"user_id":889505,"accept_rate":72,"display_name":"Abin Manathoor Devasia"},"score":0,"creation_date":1357626683,"post_id":14209244,"comment_id":19704471,"body_markdown":"@ishk i dont know whether java support relative access through  the packages,we can access files from project directory like i say above, and access subfolders too.like  File f=new File(&quot;folder/filename.txt&quot;);","body":"@ishk i dont know whether java support relative access through  the packages,we can access files from project directory like i say above, and access subfolders too.like  File f=new File(&quot;folder/filename.txt&quot;);"}],"tags":[],"owner":{"account_id":477805,"reputation":1943,"user_id":889505,"accept_rate":72,"display_name":"Abin Manathoor Devasia"},"comment_count":2,"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1357626096,"creation_date":1357625746,"answer_id":14209244,"question_id":14209085,"body_markdown":"     File f1 = new File(&quot;..\\\\..\\\\..\\\\config.properties&quot;);  \r\n\r\nthis path trying to access  file is in Project directory then just access  file like this.\r\n\r\n    File f=new File(&quot;filename.txt&quot;);\r\n\r\nif your file is in `OtherSources/Resources`\r\n\r\n    this.getClass().getClassLoader().getResource(&quot;relative path&quot;);//-&gt; relative path from resources folder","title":"How to define a relative path in java","body":"<pre><code> File f1 = new File(\"..\\\\..\\\\..\\\\config.properties\");  \n</code></pre>\n\n<p>this path trying to access  file is in Project directory then just access  file like this.</p>\n\n<pre><code>File f=new File(\"filename.txt\");\n</code></pre>\n\n<p>if your file is in <code>OtherSources/Resources</code></p>\n\n<pre><code>this.getClass().getClassLoader().getResource(\"relative path\");//-&gt; relative path from resources folder\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4185076,"reputation":2839,"user_id":3429015,"display_name":"Danon"},"comment_count":0,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1422482375,"creation_date":1422482375,"answer_id":28203225,"question_id":14209085,"body_markdown":"It&#39;s worth mentioning that in some cases \r\n\r\n    File myFolder = new File(&quot;directory&quot;); \r\n\r\ndoesn&#39;t point to the root elements. For example when you place your application on `C:` drive (`C:\\myApp.jar`) then `myFolder` points to (windows)\r\n\r\n    C:\\Users\\USERNAME\\directory\r\n\r\ninstead of\r\n\r\n    C:\\Directory","title":"How to define a relative path in java","body":"<p>It's worth mentioning that in some cases </p>\n\n<pre><code>File myFolder = new File(\"directory\"); \n</code></pre>\n\n<p>doesn't point to the root elements. For example when you place your application on <code>C:</code> drive (<code>C:\\myApp.jar</code>) then <code>myFolder</code> points to (windows)</p>\n\n<pre><code>C:\\Users\\USERNAME\\directory\n</code></pre>\n\n<p>instead of</p>\n\n<pre><code>C:\\Directory\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3812797,"reputation":83,"user_id":3163079,"display_name":"yahitesh"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1439891516,"creation_date":1439891039,"answer_id":32068919,"question_id":14209085,"body_markdown":"     public static void main(String[] args) {\r\n            Properties prop = new Properties();\r\n            InputStream input = null;\r\n            try {\r\n                File f=new File(&quot;config.properties&quot;);\r\n                input = new FileInputStream(f.getPath());\r\n                prop.load(input);\r\n                System.out.println(prop.getProperty(&quot;name&quot;));\r\n            } catch (IOException ex) {\r\n                ex.printStackTrace();\r\n            } finally {\r\n                if (input != null) {\r\n                    try {\r\n                        input.close();\r\n                    } catch (IOException e) {\r\n                        e.printStackTrace();\r\n                    }\r\n                }\r\n            }\r\n    \r\n        }\r\n\r\n\r\nYou can also use&lt;br&gt;\r\n**Path path1 =FileSystems.getDefault().getPath(System.getProperty(&quot;user.home&quot;), &quot;downloads&quot;, &quot;somefile.txt&quot;);**","title":"How to define a relative path in java","body":"<pre><code> public static void main(String[] args) {\n        Properties prop = new Properties();\n        InputStream input = null;\n        try {\n            File f=new File(\"config.properties\");\n            input = new FileInputStream(f.getPath());\n            prop.load(input);\n            System.out.println(prop.getProperty(\"name\"));\n        } catch (IOException ex) {\n            ex.printStackTrace();\n        } finally {\n            if (input != null) {\n                try {\n                    input.close();\n                } catch (IOException e) {\n                    e.printStackTrace();\n                }\n            }\n        }\n\n    }\n</code></pre>\n\n<p>You can also use<br>\n<strong>Path path1 =FileSystems.getDefault().getPath(System.getProperty(\"user.home\"), \"downloads\", \"somefile.txt\");</strong></p>\n"},{"tags":[],"owner":{"account_id":3234687,"reputation":165,"user_id":2729186,"display_name":"Chris Liston"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1489164038,"creation_date":1489164038,"answer_id":42723451,"question_id":14209085,"body_markdown":"I was having issues attaching screenshots to ExtentReports using a relative path to my image file. My current directory when executing is &quot;C:\\\\Eclipse 64-bit\\\\eclipse\\\\workspace\\\\SeleniumPractic&quot;. Under this, I created the folder ExtentReports for both the report.html and the image.png screenshot as below.\r\n\r\n\tprivate String className = getClass().getName();\r\n\tprivate String outputFolder = &quot;ExtentReports\\\\&quot;;\r\n\tprivate String outputFile = className  + &quot;.html&quot;;\r\n\tExtentReports report;\r\n\tExtentTest test;\r\n\r\n\t@BeforeMethod\r\n        //\tinitialise report variables\r\n\t\treport = new ExtentReports(outputFolder + outputFile);\r\n\t\ttest = report.startTest(className);\r\n        // more setup code\r\n\r\n    @Test\r\n        // test method code with log statements\r\n\r\n    @AfterMethod\r\n\t\t// takeScreenShot returns the relative path and filename for the image\r\n\t\tString imgFilename = GenericMethods.takeScreenShot(driver,outputFolder);\r\n\t\tString imagePath = test.addScreenCapture(imgFilename);\r\n\t\ttest.log(LogStatus.FAIL, &quot;Added image to report&quot;, imagePath);\r\n\r\nThis creates the report and image in the ExtentReports folder, but when the report is opened and the (blank) image inspected, hovering over the image src shows &quot;Could not load the image&quot; src=&quot;.\\ExtentReports\\QXKmoVZMW7.png&quot;.\r\n\r\nThis is solved by prefixing the relative path and filename for the image with the System Property &quot;user.dir&quot;. So this works perfectly and the image appears in the html report.\r\n\r\nChris\r\n\r\n    String imgFilename = GenericMethods.takeScreenShot(driver,System.getProperty(&quot;user.dir&quot;) + &quot;\\\\&quot; + outputFolder);\r\n    String imagePath = test.addScreenCapture(imgFilename);\r\n    test.log(LogStatus.FAIL, &quot;Added image to report&quot;, imagePath);\r\n\r\n\r\n\r\n","title":"How to define a relative path in java","body":"<p>I was having issues attaching screenshots to ExtentReports using a relative path to my image file. My current directory when executing is \"C:\\Eclipse 64-bit\\eclipse\\workspace\\SeleniumPractic\". Under this, I created the folder ExtentReports for both the report.html and the image.png screenshot as below.</p>\n\n<pre><code>private String className = getClass().getName();\nprivate String outputFolder = \"ExtentReports\\\\\";\nprivate String outputFile = className  + \".html\";\nExtentReports report;\nExtentTest test;\n\n@BeforeMethod\n    //  initialise report variables\n    report = new ExtentReports(outputFolder + outputFile);\n    test = report.startTest(className);\n    // more setup code\n\n@Test\n    // test method code with log statements\n\n@AfterMethod\n    // takeScreenShot returns the relative path and filename for the image\n    String imgFilename = GenericMethods.takeScreenShot(driver,outputFolder);\n    String imagePath = test.addScreenCapture(imgFilename);\n    test.log(LogStatus.FAIL, \"Added image to report\", imagePath);\n</code></pre>\n\n<p>This creates the report and image in the ExtentReports folder, but when the report is opened and the (blank) image inspected, hovering over the image src shows \"Could not load the image\" src=\".\\ExtentReports\\QXKmoVZMW7.png\".</p>\n\n<p>This is solved by prefixing the relative path and filename for the image with the System Property \"user.dir\". So this works perfectly and the image appears in the html report.</p>\n\n<p>Chris</p>\n\n<pre><code>String imgFilename = GenericMethods.takeScreenShot(driver,System.getProperty(\"user.dir\") + \"\\\\\" + outputFolder);\nString imagePath = test.addScreenCapture(imgFilename);\ntest.log(LogStatus.FAIL, \"Added image to report\", imagePath);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8307794,"reputation":180,"user_id":6244154,"display_name":"hoapham"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1564572712,"creation_date":1517113632,"answer_id":48483147,"question_id":14209085,"body_markdown":"Firstly, see the different between absolute path and relative path [here][1]:\r\n\r\nAn absolute path always contains the root element and the complete directory list required to locate the file.\r\n\r\nAlternatively, a relative path needs to be combined with another path in order to access a file.\r\n\r\nIn constructor File(String pathname), Javadoc&#39;s File class said that \r\n&gt;A pathname, whether abstract or in string form, may be either absolute or relative.\r\n\r\nIf you want to get relative path, you must be define the path from the current working directory to file or directory.Try to use [system properties][2] to get this.As the pictures that you drew: \r\n \r\n\r\n    String localDir = System.getProperty(&quot;user.dir&quot;);\r\n    File file = new File(localDir + &quot;\\\\config.properties&quot;);\r\n\r\n\r\nMoreover, you should try to avoid using similar &quot;.&quot;,  &quot;../&quot;, &quot;/&quot;, and other similar relative to the file location relative path, because when files are moved, it is harder to handle. \r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/essential/io/path.html\r\n  [2]: https://docs.oracle.com/javase/tutorial/essential/environment/sysprop.html","title":"How to define a relative path in java","body":"<p>Firstly, see the different between absolute path and relative path <a href=\"https://docs.oracle.com/javase/tutorial/essential/io/path.html\" rel=\"noreferrer\">here</a>:</p>\n\n<p>An absolute path always contains the root element and the complete directory list required to locate the file.</p>\n\n<p>Alternatively, a relative path needs to be combined with another path in order to access a file.</p>\n\n<p>In constructor File(String pathname), Javadoc's File class said that </p>\n\n<blockquote>\n  <p>A pathname, whether abstract or in string form, may be either absolute or relative.</p>\n</blockquote>\n\n<p>If you want to get relative path, you must be define the path from the current working directory to file or directory.Try to use <a href=\"https://docs.oracle.com/javase/tutorial/essential/environment/sysprop.html\" rel=\"noreferrer\">system properties</a> to get this.As the pictures that you drew: </p>\n\n<pre><code>String localDir = System.getProperty(\"user.dir\");\nFile file = new File(localDir + \"\\\\config.properties\");\n</code></pre>\n\n<p>Moreover, you should try to avoid using similar \".\",  \"../\", \"/\", and other similar relative to the file location relative path, because when files are moved, it is harder to handle. </p>\n"},{"tags":[],"owner":{"account_id":5396455,"reputation":5608,"user_id":4297539,"accept_rate":69,"display_name":"Siberia"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1518621892,"creation_date":1518621892,"answer_id":48790657,"question_id":14209085,"body_markdown":"Example for Spring Boot. My WSDL-file is in Resources in &quot;wsdl&quot; folder. The path to the WSDL-file is:\r\n\r\n&gt; resources/wsdl/WebServiceFile.wsdl\r\n\r\nTo get the path from some method to this file you can do the following:\r\n\r\n    String pathToWsdl = this.getClass().getClassLoader().\r\n    \t\t\t\t\tgetResource(&quot;wsdl\\\\WebServiceFile.wsdl&quot;).toString();","title":"How to define a relative path in java","body":"<p>Example for Spring Boot. My WSDL-file is in Resources in \"wsdl\" folder. The path to the WSDL-file is:</p>\n\n<blockquote>\n  <p>resources/wsdl/WebServiceFile.wsdl</p>\n</blockquote>\n\n<p>To get the path from some method to this file you can do the following:</p>\n\n<pre><code>String pathToWsdl = this.getClass().getClassLoader().\n                    getResource(\"wsdl\\\\WebServiceFile.wsdl\").toString();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":332245,"reputation":16487,"user_id":657427,"accept_rate":67,"display_name":"Christophe Roussy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632728049,"creation_date":1632728049,"answer_id":69342792,"question_id":14209085,"body_markdown":"Since Java 7 you have `Path.relativize()`:\r\n\r\n&quot;... a Path also defines the resolve and resolveSibling methods to combine paths. The relativize method that can be used to construct a relative path between two paths.&quot;\r\n\r\n - https://docs.oracle.com/javase/7/docs/api/java/nio/file/Path.html#relativize(java.nio.file.Path)\r\n - https://stackoverflow.com/questions/50551920/where-to-use-resolve-and-relativize-method-of-java-nio-file-path-class\r\n - https://stackoverflow.com/questions/37747896/understanding-java-nio-file-path-relativizepath-other\r\n\r\n","title":"How to define a relative path in java","body":"<p>Since Java 7 you have <code>Path.relativize()</code>:</p>\n<p>&quot;... a Path also defines the resolve and resolveSibling methods to combine paths. The relativize method that can be used to construct a relative path between two paths.&quot;</p>\n<ul>\n<li><a href=\"https://docs.oracle.com/javase/7/docs/api/java/nio/file/Path.html#relativize(java.nio.file.Path)\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/7/docs/api/java/nio/file/Path.html#relativize(java.nio.file.Path)</a></li>\n<li><a href=\"https://stackoverflow.com/questions/50551920/where-to-use-resolve-and-relativize-method-of-java-nio-file-path-class\">Where to use resolve() and relativize() method of java.nio.file.Path class?</a></li>\n<li><a href=\"https://stackoverflow.com/questions/37747896/understanding-java-nio-file-path-relativizepath-other\">Understanding java.nio.file.Path.relativize(Path other)</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":10648092,"reputation":11,"user_id":7840056,"display_name":"Maciej Krzyyski"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1633260302,"creation_date":1633245089,"answer_id":69422797,"question_id":14209085,"body_markdown":"If the file, as per your diagram, is 2 levels above your `src` folder, you should use the following relative path:\r\n\r\n    ../../config.properties\r\n\r\nPlease note, that in relative paths we use forward slashes `/` and not backslashes `\\`.","title":"How to define a relative path in java","body":"<p>If the file, as per your diagram, is 2 levels above your <code>src</code> folder, you should use the following relative path:</p>\n<pre><code>../../config.properties\n</code></pre>\n<p>Please note, that in relative paths we use forward slashes <code>/</code> and not backslashes <code>\\</code>.</p>\n"}],"owner":{"account_id":1618462,"reputation":1893,"user_id":1495534,"accept_rate":57,"display_name":"ishk"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":334315,"favorite_count":0,"down_vote_count":0,"up_vote_count":60,"answer_count":9,"score":60,"last_activity_date":1676850125,"creation_date":1357624886,"question_id":14209085,"body_markdown":"Here is the structure of my project :\r\n\r\n![here is the structure of my project][1]\r\n\r\nI need to read `config.properties` inside `MyClass.java`.\r\nI tried to do so with a relative path as follows :\r\n\r\n    // Code called from MyClass.java\r\n    File f1 = new File(&quot;..\\\\..\\\\..\\\\config.properties&quot;);  \r\n    String path = f1.getPath(); \r\n    prop.load(new FileInputStream(path));\r\n\r\nThis gives me the following error :\r\n\r\n&lt;!-- language: none --&gt;\r\n\r\n    ..\\..\\..\\config.properties (The system cannot find the file specified)\r\n\r\nHow can I define a relative path in Java? I&#39;m using jdk 1.6 and working on windows.\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/vPYrU.png","title":"How to define a relative path in java","body":"<p>Here is the structure of my project :</p>\n\n<p><img src=\"https://i.stack.imgur.com/vPYrU.png\" alt=\"here is the structure of my project\"></p>\n\n<p>I need to read <code>config.properties</code> inside <code>MyClass.java</code>.\nI tried to do so with a relative path as follows :</p>\n\n<pre><code>// Code called from MyClass.java\nFile f1 = new File(\"..\\\\..\\\\..\\\\config.properties\");  \nString path = f1.getPath(); \nprop.load(new FileInputStream(path));\n</code></pre>\n\n<p>This gives me the following error :</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>..\\..\\..\\config.properties (The system cannot find the file specified)\n</code></pre>\n\n<p>How can I define a relative path in Java? I'm using jdk 1.6 and working on windows.</p>\n"},{"tags":["java","mifare"],"owner":{"account_id":2890770,"reputation":123,"user_id":2479622,"accept_rate":100,"display_name":"Hugo Hernandez"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676849884,"creation_date":1676849884,"question_id":75504150,"body_markdown":"I have learned from the MF1SPLUSx0y1 datasheet that the sample tag I have is in SL0 (pre-perso state), so it is ready to write user data and keys, and I found a way to instantiate the PlusSL0 cardType correctly, but I haven&#39;t found a functional example to start the personalisation and write data into the card with TapLinx (neither NDEF nor APDU).\r\n\r\nThis is what I have so far:\r\n```\r\nIPlusSL0 plusSL0 = PlusFactory.getInstance().getPlusSL0(TapLinx.INSTANCE.getCustomModules());\r\n//\t\tif (plusSL0.getPlusType() == IPlus.SubType.PLUS_SE) {\r\n//\t\t\tSystem.out.println(&quot;PLUS_SE&quot;);\r\n//\t\t} else {\r\n//\t\t\tSystem.out.println(&quot;PLUS_S&quot;);\r\n//\t\t}\r\n\r\n\t\tif (!plusSL0.getReader().isConnected()){\r\n\t\t\tplusSL0.getReader().connect();\r\n\t\t\tSystem.out.println(&quot;Connected!&quot;);\r\n\r\n\t\t}\r\n\r\n\t\t// code commented because the operations are irreversible.\r\n\t\tplusSL0.writePerso(0x9000,KEY_DEFAULT_FF); // similarly fill all the mandatory keys.\r\n\t\tplusSL0.commitPerso();\r\n```\r\n\r\nThe method ```writePerso``` is throwing an exception ```apdu must be at least 2 bytes long```.\r\n\r\nAny help would be appreciated.\r\n","title":"NXP TapLinx 3 Java MIFARE PlusSL0 personalisation","body":"<p>I have learned from the MF1SPLUSx0y1 datasheet that the sample tag I have is in SL0 (pre-perso state), so it is ready to write user data and keys, and I found a way to instantiate the PlusSL0 cardType correctly, but I haven't found a functional example to start the personalisation and write data into the card with TapLinx (neither NDEF nor APDU).</p>\n<p>This is what I have so far:</p>\n<pre><code>IPlusSL0 plusSL0 = PlusFactory.getInstance().getPlusSL0(TapLinx.INSTANCE.getCustomModules());\n//      if (plusSL0.getPlusType() == IPlus.SubType.PLUS_SE) {\n//          System.out.println(&quot;PLUS_SE&quot;);\n//      } else {\n//          System.out.println(&quot;PLUS_S&quot;);\n//      }\n\n        if (!plusSL0.getReader().isConnected()){\n            plusSL0.getReader().connect();\n            System.out.println(&quot;Connected!&quot;);\n\n        }\n\n        // code commented because the operations are irreversible.\n        plusSL0.writePerso(0x9000,KEY_DEFAULT_FF); // similarly fill all the mandatory keys.\n        plusSL0.commitPerso();\n</code></pre>\n<p>The method <code>writePerso</code> is throwing an exception <code>apdu must be at least 2 bytes long</code>.</p>\n<p>Any help would be appreciated.</p>\n"},{"tags":["java","math","printing","output","percentage"],"comments":[{"owner":{"account_id":483434,"reputation":25487,"user_id":898478,"accept_rate":86,"display_name":"m0skit0"},"score":0,"creation_date":1676848592,"post_id":75504044,"comment_id":133215068,"body_markdown":"It is `\\n` not `%n`","body":"It is <code>\\n</code> not <code>%n</code>"},{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":1,"creation_date":1676848678,"post_id":75504044,"comment_id":133215083,"body_markdown":"@m0skit0 `%n` works with `printf`.","body":"@m0skit0 <code>%n</code> works with <code>printf</code>."},{"owner":{"account_id":25086413,"reputation":23,"user_id":18938549,"display_name":"Valentin Georgiev"},"score":0,"creation_date":1676848863,"post_id":75504044,"comment_id":133215102,"body_markdown":"I am trying to put one more % between both %% now. It should work.","body":"I am trying to put one more % between both %% now. It should work."}],"answers":[{"tags":[],"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1676849011,"creation_date":1676849011,"answer_id":75504086,"question_id":75504044,"body_markdown":"The problem is that the percent characters have special meaning in a String passed to `printf`. Printing a literal percent character requires doubling it: `%%`. Because these strings contain `%%n`, the first `%` escapes the second one, resulting in a literal `%`, then the `n` is treated as a literal `n` and included in the output.\r\n\r\nTo print a literal percent character followed by a newline, you should use `%%%n`.\r\n\r\nFor example:\r\n\r\n    System.out.printf(&quot;Top students: %.2f%%%n&quot;,p5);\r\n","title":"How to print this output in Java Top students: 33.33%?","body":"<p>The problem is that the percent characters have special meaning in a String passed to <code>printf</code>. Printing a literal percent character requires doubling it: <code>%%</code>. Because these strings contain <code>%%n</code>, the first <code>%</code> escapes the second one, resulting in a literal <code>%</code>, then the <code>n</code> is treated as a literal <code>n</code> and included in the output.</p>\n<p>To print a literal percent character followed by a newline, you should use <code>%%%n</code>.</p>\n<p>For example:</p>\n<pre><code>System.out.printf(&quot;Top students: %.2f%%%n&quot;,p5);\n</code></pre>\n"}],"owner":{"account_id":25086413,"reputation":23,"user_id":18938549,"display_name":"Valentin Georgiev"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1676849502,"creation_date":1676848380,"question_id":75504044,"body_markdown":"[![expected ouput][1]][1]My output is different ,I got \r\n\r\n    Top students: 30.00%nBetween 4.00 and 4.99: 30.00%nBetween 3.00 and 3.99: 20.00%nFail: 20.00%n Average: 4.06\r\n\r\nI tried:\r\n\r\n```\r\nSystem.out.printf(&quot;Top students: %.2f%%n&quot;,p5);\r\nSystem.out.printf(&quot;Between 4.00 and 4.99: %.2f%%n&quot;,p4);\r\nSystem.out.printf(&quot;Between 3.00 and 3.99: %.2f%%n&quot;,p3);\r\nSystem.out.printf(&quot;Fail: %.2f%%n &quot;,p2);\r\nSystem.out.printf(&quot;Average: %.2f&quot;,avg);\r\n````\r\n\r\n   \r\n\r\nIt should be -every student and given data in every new interval on new line:\r\n\r\n    Top students: 30.00%\r\n    Between 4.00 and 4.99: 30.00%\r\n    Between 3.00 and 3.99: 20.00%\r\n    Fail: 20.00%\r\n    Average: 4.06\r\n\r\nHow to fix it?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/0MyJd.png","title":"How to print this output in Java Top students: 33.33%?","body":"<p><a href=\"https://i.stack.imgur.com/0MyJd.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0MyJd.png\" alt=\"expected ouput\" /></a>My output is different ,I got</p>\n<pre><code>Top students: 30.00%nBetween 4.00 and 4.99: 30.00%nBetween 3.00 and 3.99: 20.00%nFail: 20.00%n Average: 4.06\n</code></pre>\n<p>I tried:</p>\n<pre><code>System.out.printf(&quot;Top students: %.2f%%n&quot;,p5);\nSystem.out.printf(&quot;Between 4.00 and 4.99: %.2f%%n&quot;,p4);\nSystem.out.printf(&quot;Between 3.00 and 3.99: %.2f%%n&quot;,p3);\nSystem.out.printf(&quot;Fail: %.2f%%n &quot;,p2);\nSystem.out.printf(&quot;Average: %.2f&quot;,avg);\n</code></pre>\n<p>It should be -every student and given data in every new interval on new line:</p>\n<pre><code>Top students: 30.00%\nBetween 4.00 and 4.99: 30.00%\nBetween 3.00 and 3.99: 20.00%\nFail: 20.00%\nAverage: 4.06\n</code></pre>\n<p>How to fix it?</p>\n"},{"tags":["java","sftp","jsch"],"comments":[{"owner":{"account_id":453710,"reputation":192103,"user_id":850848,"accept_rate":80,"display_name":"Martin Prikryl"},"score":0,"creation_date":1676885914,"post_id":65657619,"comment_id":133220787,"body_markdown":"See also [Send files directly from remote A to remote B from local using JSch?](https://stackoverflow.com/q/74397232/850848)","body":"See also <a href=\"https://stackoverflow.com/q/74397232/850848\">Send files directly from remote A to remote B from local using JSch?</a>"}],"answers":[{"comments":[{"owner":{"account_id":11119792,"reputation":2581,"user_id":8163025,"display_name":"saver"},"score":0,"creation_date":1610323224,"post_id":65658543,"comment_id":116089553,"body_markdown":"I&#39;m glad I could help!","body":"I&#39;m glad I could help!"}],"tags":[],"owner":{"account_id":11119792,"reputation":2581,"user_id":8163025,"display_name":"saver"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1668147568,"creation_date":1610312979,"answer_id":65658543,"question_id":65657619,"body_markdown":"If I understood your question correct, you code will be run from third server, for transferring file you should get file from ```server A```, and that put on ```server B```. By the way users under which you are going to download and upload files should have access to specified folders!\r\n\r\n```\r\nprivate boolean transferFile() throws JSchException, SftpException {\r\n    ChannelSftp channelSftpA = createChannelSftp();\r\n    ChannelSftp channelSftpB = createChannelSftp();\r\n    channelSftpA.connect();\r\n    channelSftpB.connect();\r\n\r\n    String fileName = &quot;readme.txt&quot;;\r\n    String remoteFilePathFrom = &quot;/folderFrom/&quot;;\r\n    String remoteFilePathTo = &quot;/folderTo/&quot;;\r\n\r\n    InputStream srcInputStream = channelSftpA.get(remoteFilePathFrom + fileName);\r\n    channelSftpB.put(srcInputStream, remoteFilePathTo + fileName);\r\n    System.out.println(&quot;Transfer has been completed&quot;);\r\n\r\n    channelSftpA.exit();\r\n    channelSftpB.exit();\r\n    return true;\r\n}\r\n```","title":"Send files from one remote server using JSch to another server using JSch too","body":"<p>If I understood your question correct, you code will be run from third server, for transferring file you should get file from <code>server A</code>, and that put on <code>server B</code>. By the way users under which you are going to download and upload files should have access to specified folders!</p>\n<pre><code>private boolean transferFile() throws JSchException, SftpException {\n    ChannelSftp channelSftpA = createChannelSftp();\n    ChannelSftp channelSftpB = createChannelSftp();\n    channelSftpA.connect();\n    channelSftpB.connect();\n\n    String fileName = &quot;readme.txt&quot;;\n    String remoteFilePathFrom = &quot;/folderFrom/&quot;;\n    String remoteFilePathTo = &quot;/folderTo/&quot;;\n\n    InputStream srcInputStream = channelSftpA.get(remoteFilePathFrom + fileName);\n    channelSftpB.put(srcInputStream, remoteFilePathTo + fileName);\n    System.out.println(&quot;Transfer has been completed&quot;);\n\n    channelSftpA.exit();\n    channelSftpB.exit();\n    return true;\n}\n</code></pre>\n"}],"owner":{"account_id":20104966,"reputation":93,"user_id":14759788,"display_name":"cryptomania14"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":573,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":65658543,"answer_count":1,"score":0,"last_activity_date":1676848258,"creation_date":1610307248,"question_id":65657619,"body_markdown":"I would like to send files from my first remote server to another one:\r\n\r\n    public boolean uploadFile() throws JSchException, SftpException {\r\n        ChannelSftp channelSftpA = createChannelSftp();\r\n        ChannelSftp channelSftpB = createChannelSftp();\r\n        channelSftpA.connect();\r\n        channelSftpB.connect();\r\n\r\n        localFilePath = &quot;/data/upload/readme.txt&quot;;\r\n        remoteFilePath = &quot;/bingo/pdf/&quot;;\r\n\r\n        channelSftpA.cd(localFilePath);\r\n        channelSftpA.put(localFilePath + &quot;readme.txt&quot;, remoteFilePath + &quot;readme.txt&quot;);\r\n\r\nBut it doesn&#39;t work. Should I put `channelB.put` into my first `channelA.put`? \r\n","title":"Send files from one remote server using JSch to another server using JSch too","body":"<p>I would like to send files from my first remote server to another one:</p>\n<pre><code>public boolean uploadFile() throws JSchException, SftpException {\n    ChannelSftp channelSftpA = createChannelSftp();\n    ChannelSftp channelSftpB = createChannelSftp();\n    channelSftpA.connect();\n    channelSftpB.connect();\n\n    localFilePath = &quot;/data/upload/readme.txt&quot;;\n    remoteFilePath = &quot;/bingo/pdf/&quot;;\n\n    channelSftpA.cd(localFilePath);\n    channelSftpA.put(localFilePath + &quot;readme.txt&quot;, remoteFilePath + &quot;readme.txt&quot;);\n</code></pre>\n<p>But it doesn't work. Should I put <code>channelB.put</code> into my first <code>channelA.put</code>?</p>\n"},{"tags":["java","ssh","raspberry-pi3","java.lang.class"],"comments":[{"owner":{"account_id":27393528,"reputation":353,"user_id":20896122,"display_name":"undefined symbol"},"score":0,"creation_date":1676848483,"post_id":75504021,"comment_id":133215052,"body_markdown":"Your Pi has an older version of java than compiled the software.  Compile the software with an older version (if you can), or update the Pi to a newer version.  Loosely speaking, the version of java that you run on has to be not older than the version you built on.","body":"Your Pi has an older version of java than compiled the software.  Compile the software with an older version (if you can), or update the Pi to a newer version.  Loosely speaking, the version of java that you run on has to be not older than the version you built on."},{"owner":{"account_id":27828018,"reputation":1,"user_id":21247021,"display_name":"Ryan Howlett"},"score":0,"creation_date":1676854232,"post_id":75504021,"comment_id":133215746,"body_markdown":"@undefinedsymbol the software i was compiling was the official minecraft server hosting program. also, what would i enter to update the jdk?","body":"@undefinedsymbol the software i was compiling was the official minecraft server hosting program. also, what would i enter to update the jdk?"},{"owner":{"account_id":27393528,"reputation":353,"user_id":20896122,"display_name":"undefined symbol"},"score":0,"creation_date":1676857146,"post_id":75504021,"comment_id":133216103,"body_markdown":"The raspberrypi forum on stackexchange is more likely to give you accurate advice... you should ask there.","body":"The raspberrypi forum on stackexchange is more likely to give you accurate advice... you should ask there."}],"owner":{"account_id":27828018,"reputation":1,"user_id":21247021,"display_name":"Ryan Howlett"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":186,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676848035,"creation_date":1676848035,"question_id":75504021,"body_markdown":"It reads: &quot;Error: LinkageError occurred while loading main class net.minecraft.bundler.Main\r\n        java.lang.UnsupportedClassVersionError: net/minecraft/bundler/Main has been compiled by a more recent version of the Java Runtime (class file version 61.0), this version of the Java Runtime only recognizes class file versions up to 55.0&quot;\r\n\r\n\r\n\r\nI ran &quot;java -Xmx1024M -Xms1024M -jar server.jar&quot; and it was supposed to ask me about agreeing to a EULA but it gave me the stated error. \r\n\r\n**\r\nExtra: I am connected via SSH from the windows terminal, what command would i run to install an older version and make it the primary java runtime version. I am clueless with this as i am following a Tom&#39;s Hardware tutorial.","title":"While attempting to set up a raspberry pi minecraft server, im getting an error message that states my Java Runtime version is too high","body":"<p>It reads: &quot;Error: LinkageError occurred while loading main class net.minecraft.bundler.Main\njava.lang.UnsupportedClassVersionError: net/minecraft/bundler/Main has been compiled by a more recent version of the Java Runtime (class file version 61.0), this version of the Java Runtime only recognizes class file versions up to 55.0&quot;</p>\n<p>I ran &quot;java -Xmx1024M -Xms1024M -jar server.jar&quot; and it was supposed to ask me about agreeing to a EULA but it gave me the stated error.</p>\n<p>**\nExtra: I am connected via SSH from the windows terminal, what command would i run to install an older version and make it the primary java runtime version. I am clueless with this as i am following a Tom's Hardware tutorial.</p>\n"},{"tags":["java","printing","format","rounding"],"answers":[{"tags":[],"owner":{"account_id":13170666,"reputation":78679,"user_id":9513184,"display_name":"Unmitigated"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1676846477,"creation_date":1676846477,"answer_id":75503898,"question_id":75503894,"body_markdown":"Put the `&quot;*C&quot;` in the format string, not as an additional argument.\r\n\r\n```java\r\nSystem.out.format(&quot;%nThe highest Temperature recorded was: %.2f*C&quot;, maxTemp);\r\n```\r\n\r\nAlternatively, you can use `%s` for a string placeholder.\r\n\r\n```java\r\nSystem.out.format(&quot;%nThe highest Temperature recorded was: %.2f%s&quot;, maxTemp, &quot;*C&quot;);\r\n```","title":"How do I print the remainng text?","body":"<p>Put the <code>&quot;*C&quot;</code> in the format string, not as an additional argument.</p>\n<pre class=\"lang-java prettyprint-override\"><code>System.out.format(&quot;%nThe highest Temperature recorded was: %.2f*C&quot;, maxTemp);\n</code></pre>\n<p>Alternatively, you can use <code>%s</code> for a string placeholder.</p>\n<pre class=\"lang-java prettyprint-override\"><code>System.out.format(&quot;%nThe highest Temperature recorded was: %.2f%s&quot;, maxTemp, &quot;*C&quot;);\n</code></pre>\n"}],"owner":{"account_id":26908157,"reputation":11,"user_id":20484152,"display_name":"TaxingClock"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"closed_date":1676847487,"accepted_answer_id":75503898,"answer_count":1,"score":-1,"last_activity_date":1676847914,"creation_date":1676846397,"question_id":75503894,"body_markdown":"I finally found out how to print a Double in Java with 2 decimal points. However, I now can&#39;t figure out how to keep printing text after the Double is sent out. \r\n\r\nI tried to print something like this.\r\n```\r\ndouble maxTemp;\r\nmaxTemp = 5.43210;\r\n\r\nSystem.out.format(&quot;\\nThe highest Temperature recorded was: %.2f&quot;, maxTemp, &quot;*C&quot;);\r\n```\r\nThen I wanted it to round the temperature to 2 decimal places and display:\r\n&gt; The highest Temperature recorded was: 5.43*C\r\n\r\nHowever it keeps cutting off the &#39;*C&#39; after the temperature is displayed.\r\nThis is the output:\r\n&gt; The highest Temperature recorded was: 5.43\r\n\r\nHow can I fix this?","title":"How do I print the remainng text?","body":"<p>I finally found out how to print a Double in Java with 2 decimal points. However, I now can't figure out how to keep printing text after the Double is sent out.</p>\n<p>I tried to print something like this.</p>\n<pre><code>double maxTemp;\nmaxTemp = 5.43210;\n\nSystem.out.format(&quot;\\nThe highest Temperature recorded was: %.2f&quot;, maxTemp, &quot;*C&quot;);\n</code></pre>\n<p>Then I wanted it to round the temperature to 2 decimal places and display:</p>\n<blockquote>\n<p>The highest Temperature recorded was: 5.43*C</p>\n</blockquote>\n<p>However it keeps cutting off the '*C' after the temperature is displayed.\nThis is the output:</p>\n<blockquote>\n<p>The highest Temperature recorded was: 5.43</p>\n</blockquote>\n<p>How can I fix this?</p>\n"},{"tags":["java","jvm"],"comments":[{"owner":{"account_id":61754,"reputation":3594,"user_id":183871,"accept_rate":94,"display_name":"Nayn"},"score":2,"creation_date":1279791551,"post_id":611134,"comment_id":3427181,"body_markdown":"This would be amazingly useful in grid computing where one might want to move his process to lightly loaded machine in the grid. Creating a recoverable snapshot would be a great win.\nGuys please give it a thought.","body":"This would be amazingly useful in grid computing where one might want to move his process to lightly loaded machine in the grid. Creating a recoverable snapshot would be a great win. Guys please give it a thought."}],"answers":[{"tags":[],"owner":{"account_id":18929,"reputation":5197,"user_id":43864,"accept_rate":62,"display_name":"neesh"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1236184489,"creation_date":1236184489,"answer_id":611384,"question_id":611134,"body_markdown":"This is currently not possible in any of the JVMs I know. It would not be very difficult to implement something like this in the JVM if programs run disconnected from their environments. However, many programs have hooks into their environment (think file handles, database connections) which would make implementing something like this very hairy.","title":"Can the JVM provide snapshot persistence?","body":"<p>This is currently not possible in any of the JVMs I know. It would not be very difficult to implement something like this in the JVM if programs run disconnected from their environments. However, many programs have hooks into their environment (think file handles, database connections) which would make implementing something like this very hairy.</p>\n"},{"tags":[],"owner":{"account_id":4938,"reputation":69433,"user_id":7671,"accept_rate":70,"display_name":"Alex Miller"},"comment_count":0,"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1236186740,"creation_date":1236186740,"answer_id":611561,"question_id":611134,"body_markdown":"There was a [JSR 323 proposed for this][1] a while back but it was [rejected][2].  You can find some links in those articles about the research behind this and what it would take.  It was mostly rejected as an idea that was too immature.\r\n\r\nI have heard of at least one startup (unfortunately don&#39;t recall the name) that was working on a virtualization technology over a hypervisor (probably Xen) that was getting pretty close to being able to move JVMs, including even things like file system refs and socket endpoints.  Because they were at the hypervisor level, they had access to all of that stuff.  By hooking that and the JVM, they had most of the pieces.  I think they might have gone under though.\r\n\r\nThe closest thing you can get today is [Terracotta][3], which allows you to cluster a portion of your JVM heap, storing it in a server array, which can be made persistent.  On JVM startup, you connect to the cluster and can continue using whatever portions of your heap are specified as clustered.  The actual objects are faulted in on an as-needed basis.  \r\n\r\n\r\n  [1]: http://tech.puredanger.com/2008/01/09/strong-mobility-for-java/\r\n  [2]: http://tech.puredanger.com/2008/01/24/jcp-votes-down-jsr-323/\r\n  [3]: http://terracotta.org","title":"Can the JVM provide snapshot persistence?","body":"<p>There was a <a href=\"http://tech.puredanger.com/2008/01/09/strong-mobility-for-java/\" rel=\"noreferrer\">JSR 323 proposed for this</a> a while back but it was <a href=\"http://tech.puredanger.com/2008/01/24/jcp-votes-down-jsr-323/\" rel=\"noreferrer\">rejected</a>.  You can find some links in those articles about the research behind this and what it would take.  It was mostly rejected as an idea that was too immature.</p>\n\n<p>I have heard of at least one startup (unfortunately don't recall the name) that was working on a virtualization technology over a hypervisor (probably Xen) that was getting pretty close to being able to move JVMs, including even things like file system refs and socket endpoints.  Because they were at the hypervisor level, they had access to all of that stuff.  By hooking that and the JVM, they had most of the pieces.  I think they might have gone under though.</p>\n\n<p>The closest thing you can get today is <a href=\"http://terracotta.org\" rel=\"noreferrer\">Terracotta</a>, which allows you to cluster a portion of your JVM heap, storing it in a server array, which can be made persistent.  On JVM startup, you connect to the cluster and can continue using whatever portions of your heap are specified as clustered.  The actual objects are faulted in on an as-needed basis.  </p>\n"},{"comments":[{"owner":{"account_id":3109597,"reputation":1211,"user_id":2631658,"display_name":"rmckeown"},"score":1,"creation_date":1476283888,"post_id":15562632,"comment_id":67281177,"body_markdown":"We used to do this with Smalltalk vm/images ... incredibly useful for debugging client issues ... freeze the image, bring it back to basecamp and step through the code from the line we stopped at client site. In many cases we didn&#39;t care about all those connections to external filesystems, databases, sockets ... we just needed to navigate various internal data structures as they existed at the client site.","body":"We used to do this with Smalltalk vm/images ... incredibly useful for debugging client issues ... freeze the image, bring it back to basecamp and step through the code from the line we stopped at client site. In many cases we didn&#39;t care about all those connections to external filesystems, databases, sockets ... we just needed to navigate various internal data structures as they existed at the client site."}],"tags":[],"owner":{"account_id":74486,"reputation":105478,"user_id":214010,"accept_rate":83,"display_name":"mikera"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1363925750,"creation_date":1363925750,"answer_id":15562632,"question_id":611134,"body_markdown":"Not possible at present. In general, pausing and restarting a memory image of a process in a different context is incredibly hard to achieve: what are you going to do with open OS resources? Transfers to machines with different instruction sets? database connections?\r\n\r\nAlso images of the running JVM are probably quite large - maybe much larger than the subset of the state you are actually interested in. So it&#39;s not a good idea from a performance perspective.\r\n\r\nA much better strategy is to have **code that persists and recreates the application state**: this is relatively feasible with most JVM dynamic languages. I do so similar stuff in Clojure, where you have an interactive environment (REPL) and it is quite possible to create and run a sequence of operations that rebuild the application state that you want in another JVM.","title":"Can the JVM provide snapshot persistence?","body":"<p>Not possible at present. In general, pausing and restarting a memory image of a process in a different context is incredibly hard to achieve: what are you going to do with open OS resources? Transfers to machines with different instruction sets? database connections?</p>\n\n<p>Also images of the running JVM are probably quite large - maybe much larger than the subset of the state you are actually interested in. So it's not a good idea from a performance perspective.</p>\n\n<p>A much better strategy is to have <strong>code that persists and recreates the application state</strong>: this is relatively feasible with most JVM dynamic languages. I do so similar stuff in Clojure, where you have an interactive environment (REPL) and it is quite possible to create and run a sequence of operations that rebuild the application state that you want in another JVM.</p>\n"},{"tags":[],"owner":{"account_id":5648860,"reputation":9049,"user_id":4470135,"accept_rate":54,"display_name":"yuranos"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676847738,"creation_date":1676847738,"answer_id":75503999,"question_id":611134,"body_markdown":"As of early 2023, there&#39;s some progress in this space and it seems a lot of things can at least be tried, even if without claims for their production readiness.\r\n\r\nOne such feature is called [CRaC][1]. You can check their [docs][2] or even get an [OpenJDK build][3] that includes the feature. The project has its [own repo][4] under OpenJDK and looks quite promising.\r\n\r\nAnother vendors/products to check:\r\n[Azul ReadyNow!][5]\r\n[OpenJ9 InstantOn][6]\r\n\r\nWhat&#39;s also really exciting, is [AWS Lambda SnapStart][7]. It doesn&#39;t give you full snapshoting capabilities, and is intrinsically vendor-specific, but it&#39;s what a ton of Java engineering who use AWS Lambda were waiting for so long.\r\n\r\n\r\n  [1]: https://openjdk.org/projects/crac/\r\n  [2]: https://github.com/CRaC/docs\r\n  [3]: https://github.com/CRaC/openjdk-builds/releases\r\n  [4]: https://github.com/openjdk/crac\r\n  [5]: https://www.azul.com/products/components/readynow/\r\n  [6]: https://openliberty.io/blog/2022/09/29/instant-on-beta.html\r\n  [7]: https://aws.amazon.com/about-aws/whats-new/2022/11/aws-lambda-snapstart-java-functions/","title":"Can the JVM provide snapshot persistence?","body":"<p>As of early 2023, there's some progress in this space and it seems a lot of things can at least be tried, even if without claims for their production readiness.</p>\n<p>One such feature is called <a href=\"https://openjdk.org/projects/crac/\" rel=\"nofollow noreferrer\">CRaC</a>. You can check their <a href=\"https://github.com/CRaC/docs\" rel=\"nofollow noreferrer\">docs</a> or even get an <a href=\"https://github.com/CRaC/openjdk-builds/releases\" rel=\"nofollow noreferrer\">OpenJDK build</a> that includes the feature. The project has its <a href=\"https://github.com/openjdk/crac\" rel=\"nofollow noreferrer\">own repo</a> under OpenJDK and looks quite promising.</p>\n<p>Another vendors/products to check:\n<a href=\"https://www.azul.com/products/components/readynow/\" rel=\"nofollow noreferrer\">Azul ReadyNow!</a>\n<a href=\"https://openliberty.io/blog/2022/09/29/instant-on-beta.html\" rel=\"nofollow noreferrer\">OpenJ9 InstantOn</a></p>\n<p>What's also really exciting, is <a href=\"https://aws.amazon.com/about-aws/whats-new/2022/11/aws-lambda-snapstart-java-functions/\" rel=\"nofollow noreferrer\">AWS Lambda SnapStart</a>. It doesn't give you full snapshoting capabilities, and is intrinsically vendor-specific, but it's what a ton of Java engineering who use AWS Lambda were waiting for so long.</p>\n"}],"owner":{"account_id":18883,"reputation":602,"user_id":43729,"accept_rate":100,"display_name":"mattrepl"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3449,"favorite_count":0,"down_vote_count":0,"up_vote_count":15,"accepted_answer_id":611561,"answer_count":4,"score":15,"last_activity_date":1676847738,"creation_date":1236181459,"question_id":611134,"body_markdown":"Is it possible to dump an image of a running JVM and later restore the previous state by loading the image into the JVM?  I&#39;m fairly certain the answer is negative, but would love to be wrong.\r\n\r\nWith all the dynamic languages available for the JVM comes an increase in interactivity, being able to save a coding session would help save time manually restoring the VM to a previous session.","title":"Can the JVM provide snapshot persistence?","body":"<p>Is it possible to dump an image of a running JVM and later restore the previous state by loading the image into the JVM?  I'm fairly certain the answer is negative, but would love to be wrong.</p>\n\n<p>With all the dynamic languages available for the JVM comes an increase in interactivity, being able to save a coding session would help save time manually restoring the VM to a previous session.</p>\n"},{"tags":["java","exception","plsql"],"comments":[{"owner":{"account_id":1101161,"reputation":119804,"user_id":1093528,"accept_rate":65,"display_name":"fge"},"score":0,"creation_date":1374240211,"post_id":17747175,"comment_id":25875313,"body_markdown":"What do you call the &quot;root cause&quot; exactly? The DB-specific exception?","body":"What do you call the &quot;root cause&quot; exactly? The DB-specific exception?"},{"owner":{"account_id":1827965,"reputation":5603,"user_id":1660192,"accept_rate":80,"display_name":"Aman Gupta"},"score":0,"creation_date":1374241020,"post_id":17747175,"comment_id":25875933,"body_markdown":"@fge, Yes its DB specific exception and question is updated.","body":"@fge, Yes its DB specific exception and question is updated."},{"owner":{"account_id":1101161,"reputation":119804,"user_id":1093528,"accept_rate":65,"display_name":"fge"},"score":0,"creation_date":1374242191,"post_id":17747175,"comment_id":25876672,"body_markdown":"Maybe `.getSQLException().getMessage()` then?","body":"Maybe <code>.getSQLException().getMessage()</code> then?"},{"owner":{"account_id":1827965,"reputation":5603,"user_id":1660192,"accept_rate":80,"display_name":"Aman Gupta"},"score":0,"creation_date":1374242348,"post_id":17747175,"comment_id":25876797,"body_markdown":"@fge, thing is I do not know what kind of exception will be thrown, hence I used parent class `Exception` to catch any possible exception. so `.getSQLException()...` wont work I guess.","body":"@fge, thing is I do not know what kind of exception will be thrown, hence I used parent class <code>Exception</code> to catch any possible exception. so <code>.getSQLException()...</code> wont work I guess."},{"owner":{"account_id":1101161,"reputation":119804,"user_id":1093528,"accept_rate":65,"display_name":"fge"},"score":1,"creation_date":1374242995,"post_id":17747175,"comment_id":25877207,"body_markdown":"Well, catch JDBCException then, or HibernateException. You should never catch `Exception` to begin with.","body":"Well, catch JDBCException then, or HibernateException. You should never catch <code>Exception</code> to begin with."},{"owner":{"account_id":263115,"reputation":16960,"user_id":548473,"display_name":"Grigory Kislin"},"score":0,"creation_date":1608846212,"post_id":17747175,"comment_id":115701238,"body_markdown":"See also https://stackoverflow.com/a/65442410/548473 in case you have Spring dependency","body":"See also <a href=\"https://stackoverflow.com/a/65442410/548473\">stackoverflow.com/a/65442410/548473</a> in case you have Spring dependency"}],"answers":[{"comments":[{"owner":{"account_id":1827965,"reputation":5603,"user_id":1660192,"accept_rate":80,"display_name":"Aman Gupta"},"score":8,"creation_date":1374241943,"post_id":17747232,"comment_id":25876502,"body_markdown":"Exception is basically of DB type exceptions. so above while loop goes in indefinite loop.","body":"Exception is basically of DB type exceptions. so above while loop goes in indefinite loop."},{"owner":{"account_id":1432074,"reputation":7327,"user_id":1354278,"accept_rate":73,"display_name":"johnm"},"score":1,"creation_date":1433262116,"post_id":17747232,"comment_id":49271248,"body_markdown":"It can be N causes deep....  cause.getCause().getCause().getCause().. hence the need for something like  Apache ExceptionUtils.getRootCause()","body":"It can be N causes deep....  cause.getCause().getCause().getCause().. hence the need for something like  Apache ExceptionUtils.getRootCause()"}],"tags":[],"owner":{"account_id":2485637,"reputation":17240,"user_id":2164109,"display_name":"morgano"},"comment_count":2,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1535767757,"creation_date":1374240211,"answer_id":17747232,"question_id":17747175,"body_markdown":"Are you asking for something like this?\r\n\r\n    Throwable cause = originalException;\r\n    while(cause.getCause() != null &amp;&amp; cause.getCause() != cause) {\r\n        cause = cause.getCause();\r\n    }\r\n\r\nor am I missing something?","title":"How can I loop through Exception getCause() to find root cause with detail message","body":"<p>Are you asking for something like this?</p>\n\n<pre><code>Throwable cause = originalException;\nwhile(cause.getCause() != null &amp;&amp; cause.getCause() != cause) {\n    cause = cause.getCause();\n}\n</code></pre>\n\n<p>or am I missing something?</p>\n"},{"comments":[{"owner":{"account_id":126748,"reputation":5288,"user_id":323447,"accept_rate":92,"display_name":"Paolo Fulgoni"},"score":20,"creation_date":1396250939,"post_id":17747256,"comment_id":34688150,"body_markdown":"You can find something similar in Guava&#39;s [Throwables](http://docs.guava-libraries.googlecode.com/git-history/release/javadoc/com/google/common/base/Throwables.html): `getRootCause(Throwable)` and `getStackTraceAsString(Throwable)`","body":"You can find something similar in Guava&#39;s <a href=\"http://docs.guava-libraries.googlecode.com/git-history/release/javadoc/com/google/common/base/Throwables.html\" rel=\"nofollow noreferrer\">Throwables</a>: <code>getRootCause(Throwable)</code> and <code>getStackTraceAsString(Throwable)</code>"},{"owner":{"account_id":20228,"reputation":40720,"user_id":48136,"display_name":"bric3"},"score":1,"creation_date":1516014597,"post_id":17747256,"comment_id":83506242,"body_markdown":"However Guava has an [issue](https://github.com/google/guava/issues/1173) regarding db style exception, thus creating infinite loops.","body":"However Guava has an <a href=\"https://github.com/google/guava/issues/1173\" rel=\"nofollow noreferrer\">issue</a> regarding db style exception, thus creating infinite loops."},{"owner":{"account_id":1782478,"reputation":1380,"user_id":1624839,"display_name":"Mehdi"},"score":0,"creation_date":1551810774,"post_id":17747256,"comment_id":96773712,"body_markdown":"Yes but this requires using Guava or Apache Commons, if your project is small enough it doesn&#39;t make sense, have a look at my anwser bellow I provide a 3 line util function.","body":"Yes but this requires using Guava or Apache Commons, if your project is small enough it doesn&#39;t make sense, have a look at my anwser bellow I provide a 3 line util function."},{"owner":{"account_id":8609684,"reputation":996,"user_id":6448518,"display_name":"rougou"},"score":0,"creation_date":1553827668,"post_id":17747256,"comment_id":97539716,"body_markdown":"Mehdi, your solution doesn&#39;t seem to handle possible infinite loops.","body":"Mehdi, your solution doesn&#39;t seem to handle possible infinite loops."},{"owner":{"account_id":2515468,"reputation":1611,"user_id":2187022,"accept_rate":90,"display_name":"Malvon"},"score":0,"creation_date":1575345559,"post_id":17747256,"comment_id":104525334,"body_markdown":"Unfortunately, Apache&#39;s solution will return the same exception if it is equal to the root cause. Sometimes that&#39;s not the intend. I would say to use Legna&#39;s.","body":"Unfortunately, Apache&#39;s solution will return the same exception if it is equal to the root cause. Sometimes that&#39;s not the intend. I would say to use Legna&#39;s."},{"owner":{"account_id":263115,"reputation":16960,"user_id":548473,"display_name":"Grigory Kislin"},"score":0,"creation_date":1608846271,"post_id":17747256,"comment_id":115701255,"body_markdown":"See also https://stackoverflow.com/a/65442410/548473 in case you have Spring dependency (`NestedExceptionUtils.getRootCause`)","body":"See also <a href=\"https://stackoverflow.com/a/65442410/548473\">stackoverflow.com/a/65442410/548473</a> in case you have Spring dependency (<code>NestedExceptionUtils.getRootCause</code>)"}],"tags":[],"owner":{"account_id":45349,"reputation":10115,"user_id":133645,"display_name":"reto"},"comment_count":6,"down_vote_count":2,"up_vote_count":124,"is_accepted":true,"score":122,"last_activity_date":1434180560,"creation_date":1374240284,"answer_id":17747256,"question_id":17747175,"body_markdown":"The Apache [ExceptionUtils](https://commons.apache.org/proper/commons-lang/javadocs/api-3.1/org/apache/commons/lang3/exception/ExceptionUtils.html) provide the following method:\r\n\r\n    Throwable getRootCause(Throwable throwable) \r\nas well as\r\n\r\n    String getRootCauseMessage(Throwable th) ","title":"How can I loop through Exception getCause() to find root cause with detail message","body":"<p>The Apache <a href=\"https://commons.apache.org/proper/commons-lang/javadocs/api-3.1/org/apache/commons/lang3/exception/ExceptionUtils.html\">ExceptionUtils</a> provide the following method:</p>\n\n<pre><code>Throwable getRootCause(Throwable throwable) \n</code></pre>\n\n<p>as well as</p>\n\n<pre><code>String getRootCauseMessage(Throwable th) \n</code></pre>\n"},{"comments":[{"owner":{"account_id":1827965,"reputation":5603,"user_id":1660192,"accept_rate":80,"display_name":"Aman Gupta"},"score":0,"creation_date":1374241846,"post_id":17747258,"comment_id":25876444,"body_markdown":"actually I am getting database regarding exception, so in that case above logic is not working. anyway thanks for your response. :)","body":"actually I am getting database regarding exception, so in that case above logic is not working. anyway thanks for your response. :)"},{"owner":{"account_id":214107,"reputation":4672,"user_id":467874,"accept_rate":92,"display_name":"brabec"},"score":3,"creation_date":1394817504,"post_id":17747258,"comment_id":34076509,"body_markdown":"This is not immune to loops - the case where an exception cause points to exception itself.","body":"This is not immune to loops - the case where an exception cause points to exception itself."},{"owner":{"account_id":6241436,"reputation":2512,"user_id":4854931,"accept_rate":33,"display_name":"Alex78191"},"score":0,"creation_date":1567617534,"post_id":17747258,"comment_id":102019458,"body_markdown":"@agpt why the above logic does not work with the database in relation to exclusion?","body":"@agpt why the above logic does not work with the database in relation to exclusion?"}],"tags":[],"owner":{"account_id":333768,"reputation":80790,"user_id":659804,"accept_rate":100,"display_name":"Ernest Friedman-Hill"},"comment_count":3,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1374240294,"creation_date":1374240294,"answer_id":17747258,"question_id":17747175,"body_markdown":"    } catch (Exception ex) {\r\n        while (ex.getCause() != null)\r\n            ex = ex.getCause();\r\n        System.out.println(&quot;Root cause is &quot; + ex.getMessage());\r\n    }\r\n\r\nWere you expecting something more complicated?\r\n            ","title":"How can I loop through Exception getCause() to find root cause with detail message","body":"<pre><code>} catch (Exception ex) {\n    while (ex.getCause() != null)\n        ex = ex.getCause();\n    System.out.println(\"Root cause is \" + ex.getMessage());\n}\n</code></pre>\n\n<p>Were you expecting something more complicated?</p>\n"},{"tags":[],"owner":{"account_id":543250,"reputation":18874,"user_id":912319,"accept_rate":62,"display_name":"Kanagavelu Sugumar"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1420618953,"creation_date":1420618953,"answer_id":27815130,"question_id":17747175,"body_markdown":"In [APACHE][1]; the implementation is like below. \r\n\r\nThe highlight is **list.contains(throwable) == false**\r\n\r\n    public static Throwable getRootCause(final Throwable throwable) {\r\n        final List&lt;Throwable&gt; list = getThrowableList(throwable);\r\n        return list.size() &lt; 2 ? null : (Throwable)list.get(list.size() - 1);\r\n    }\r\n\r\n    public static List&lt;Throwable&gt; getThrowableList(Throwable throwable) {\r\n        final List&lt;Throwable&gt; list = new ArrayList&lt;Throwable&gt;();\r\n        while (throwable != null &amp;&amp; list.contains(throwable) == false) {\r\n            list.add(throwable);\r\n            throwable = ExceptionUtils.getCause(throwable);\r\n        }\r\n        return list;\r\n    }\r\n\r\n\r\n  [1]: http://commons.apache.org/proper/commons-lang/apidocs/src-html/org/apache/commons/lang3/exception/ExceptionUtils.html","title":"How can I loop through Exception getCause() to find root cause with detail message","body":"<p>In <a href=\"http://commons.apache.org/proper/commons-lang/apidocs/src-html/org/apache/commons/lang3/exception/ExceptionUtils.html\" rel=\"nofollow\">APACHE</a>; the implementation is like below. </p>\n\n<p>The highlight is <strong>list.contains(throwable) == false</strong></p>\n\n<pre><code>public static Throwable getRootCause(final Throwable throwable) {\n    final List&lt;Throwable&gt; list = getThrowableList(throwable);\n    return list.size() &lt; 2 ? null : (Throwable)list.get(list.size() - 1);\n}\n\npublic static List&lt;Throwable&gt; getThrowableList(Throwable throwable) {\n    final List&lt;Throwable&gt; list = new ArrayList&lt;Throwable&gt;();\n    while (throwable != null &amp;&amp; list.contains(throwable) == false) {\n        list.add(throwable);\n        throwable = ExceptionUtils.getCause(throwable);\n    }\n    return list;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1827965,"reputation":5603,"user_id":1660192,"accept_rate":80,"display_name":"Aman Gupta"},"score":2,"creation_date":1425880564,"post_id":28565320,"comment_id":46127226,"body_markdown":"Indeed its helpful ! :) Thanks !","body":"Indeed its helpful ! :) Thanks !"},{"owner":{"account_id":6079355,"reputation":1914,"user_id":4745608,"display_name":"Aleksandr Erokhin"},"score":15,"creation_date":1433506998,"post_id":28565320,"comment_id":49394713,"body_markdown":"I believe such answers should be prefered by the questioner and the community as opposed to the answers with only a tool or lib recommendation.","body":"I believe such answers should be prefered by the questioner and the community as opposed to the answers with only a tool or lib recommendation."},{"owner":{"account_id":649723,"reputation":1632,"user_id":2197088,"display_name":"Legna"},"score":10,"creation_date":1433539833,"post_id":28565320,"comment_id":49413968,"body_markdown":"The implementation I provided above is guards you from cyclically chained exceptions  of just one step in depth, meaning when the exception chains to itself e = e.getCause() (the most common and only situation I have met). \n\nNevertheless apache&#39;s implementation will really guard your code from cyclic exception chains of any depth e = e.getCause().getCause()... etc .. .getCause();","body":"The implementation I provided above is guards you from cyclically chained exceptions  of just one step in depth, meaning when the exception chains to itself e = e.getCause() (the most common and only situation I have met).   Nevertheless apache&#39;s implementation will really guard your code from cyclic exception chains of any depth e = e.getCause().getCause()... etc .. .getCause();"},{"owner":{"account_id":6450631,"reputation":625,"user_id":4997647,"accept_rate":33,"display_name":"Kulbhushan Singh"},"score":0,"creation_date":1467276550,"post_id":28565320,"comment_id":63668654,"body_markdown":"in which cases (result != cause) will help?","body":"in which cases (result != cause) will help?"},{"owner":{"account_id":649723,"reputation":1632,"user_id":2197088,"display_name":"Legna"},"score":0,"creation_date":1479168545,"post_id":28565320,"comment_id":68435470,"body_markdown":"@KulbhushanSingh &#39;(result != cause)&#39; will help every single time &#39;result&#39; has a non null cause.\n\nthe condition/expression on the while statement evaluates in the following order:\n1.- assign cause = result.getCause()\n2.- evaluates the result of the assignment above for null. null != cause\n3.- if cause == null the whole expression evaluates to false, otherwise it proceeds to\n4.- evaluate (result != cause) and that&#39;s your result","body":"@KulbhushanSingh &#39;(result != cause)&#39; will help every single time &#39;result&#39; has a non null cause.  the condition/expression on the while statement evaluates in the following order: 1.- assign cause = result.getCause() 2.- evaluates the result of the assignment above for null. null != cause 3.- if cause == null the whole expression evaluates to false, otherwise it proceeds to 4.- evaluate (result != cause) and that&#39;s your result"},{"owner":{"account_id":3630600,"reputation":5980,"user_id":3026886,"accept_rate":93,"display_name":"rado"},"score":0,"creation_date":1518924808,"post_id":28565320,"comment_id":84700228,"body_markdown":"No additional libraries or frameworks, simple and doable logic, thanks for this answer!","body":"No additional libraries or frameworks, simple and doable logic, thanks for this answer!"},{"owner":{"account_id":1027813,"reputation":19711,"user_id":1036728,"accept_rate":53,"display_name":"antak"},"score":0,"creation_date":1576815307,"post_id":28565320,"comment_id":105026518,"body_markdown":"-1: *Apache&#39;s implementation returns null when no cause is found, which force me to perform an additional check for null.*: er? `ExceptionUtils.getRootCause(new Exception())` returns the input Exception, so I think the whole benefit argument provided in the answer is misguided.  In fact, the implementation in the answer produces the exact same result as `ExceptionUtils.getRootCause()`, but unlike Apache&#39;s, has only marginal handling for cyclic causes so can go into an infinite loop.","body":"-1: <i>Apache&#39;s implementation returns null when no cause is found, which force me to perform an additional check for null.</i>: er? <code>ExceptionUtils.getRootCause(new Exception())</code> returns the input Exception, so I think the whole benefit argument provided in the answer is misguided.  In fact, the implementation in the answer produces the exact same result as <code>ExceptionUtils.getRootCause()</code>, but unlike Apache&#39;s, has only marginal handling for cyclic causes so can go into an infinite loop."},{"owner":{"account_id":3882629,"reputation":476,"user_id":3214777,"accept_rate":55,"display_name":"Daniel Pop"},"score":0,"creation_date":1616490240,"post_id":28565320,"comment_id":118011421,"body_markdown":"would there be any concern with using such code in production?","body":"would there be any concern with using such code in production?"}],"tags":[],"owner":{"account_id":649723,"reputation":1632,"user_id":2197088,"display_name":"Legna"},"comment_count":8,"down_vote_count":1,"up_vote_count":94,"is_accepted":false,"score":93,"last_activity_date":1553092581,"creation_date":1424187950,"answer_id":28565320,"question_id":17747175,"body_markdown":"I normally use the implementation below instead of Apache&#39;s one.\r\n&lt;P&gt;Besides its complexity, Apache&#39;s implementation returns null when no cause is found, which force me to perform an additional check for null.\r\n&lt;p&gt;Normally when looking for an exception&#39;s root/cause I already have a non-null exception to start with, which is for all intended proposes is the cause of the failure at hand, if a deeper cause can&#39;t be found.   \r\n\r\n    Throwable getCause(Throwable e) {\r\n    \tThrowable cause = null; \r\n    \tThrowable result = e;\r\n    \t\r\n    \twhile(null != (cause = result.getCause())  &amp;&amp; (result != cause) ) {\r\n    \t\tresult = cause;\r\n    \t}\r\n    \treturn result;\r\n    }","title":"How can I loop through Exception getCause() to find root cause with detail message","body":"<p>I normally use the implementation below instead of Apache's one.\n<P>Besides its complexity, Apache's implementation returns null when no cause is found, which force me to perform an additional check for null.\n<p>Normally when looking for an exception's root/cause I already have a non-null exception to start with, which is for all intended proposes is the cause of the failure at hand, if a deeper cause can't be found.   </p>\n\n<pre><code>Throwable getCause(Throwable e) {\n    Throwable cause = null; \n    Throwable result = e;\n\n    while(null != (cause = result.getCause())  &amp;&amp; (result != cause) ) {\n        result = cause;\n    }\n    return result;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4879275,"reputation":385,"user_id":3933512,"display_name":"A. S. Ranjan"},"score":3,"creation_date":1598269444,"post_id":37245292,"comment_id":112393907,"body_markdown":"I like this code, but failed to understand why it should be avoided in production, is there an example?","body":"I like this code, but failed to understand why it should be avoided in production, is there an example?"},{"owner":{"account_id":1580843,"reputation":13479,"user_id":1466267,"accept_rate":91,"display_name":"SpaceTrucker"},"score":0,"creation_date":1598333208,"post_id":37245292,"comment_id":112416233,"body_markdown":"@A.S.Ranjan I think you should post a question of its own on SO and ask what a exeption cause loop is and why this can be dangerous in production to encounter.","body":"@A.S.Ranjan I think you should post a question of its own on SO and ask what a exeption cause loop is and why this can be dangerous in production to encounter."}],"tags":[],"owner":{"account_id":1580843,"reputation":13479,"user_id":1466267,"accept_rate":91,"display_name":"SpaceTrucker"},"comment_count":2,"down_vote_count":0,"up_vote_count":28,"is_accepted":false,"score":28,"last_activity_date":1532087747,"creation_date":1463360209,"answer_id":37245292,"question_id":17747175,"body_markdown":"Using java 8 Stream API, this can be achieved by:\r\n\r\n    Optional&lt;Throwable&gt; rootCause = Stream.iterate(exception, Throwable::getCause)\r\n                                          .filter(element -&gt; element.getCause() == null)\r\n                                          .findFirst();\r\n\r\nNote that this code is not immune to exception cause loops and therefore should be avoided in production.","title":"How can I loop through Exception getCause() to find root cause with detail message","body":"<p>Using java 8 Stream API, this can be achieved by:</p>\n\n<pre><code>Optional&lt;Throwable&gt; rootCause = Stream.iterate(exception, Throwable::getCause)\n                                      .filter(element -&gt; element.getCause() == null)\n                                      .findFirst();\n</code></pre>\n\n<p>Note that this code is not immune to exception cause loops and therefore should be avoided in production.</p>\n"},{"tags":[],"owner":{"account_id":2071615,"reputation":7603,"user_id":1845976,"accept_rate":56,"display_name":"schnatterer"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1498134392,"creation_date":1498134392,"answer_id":44699391,"question_id":17747175,"body_markdown":"[Guava&#39;s `Throwables`](https://google.github.io/guava/releases/snapshot/api/docs/com/google/common/base/Throwables.html) provides the following methods:\r\n\r\n    Throwable getRootCause(Throwable throwable)\r\n\r\nas well as\r\n\r\n    String getStackTraceAsString(Throwable throwable)","title":"How can I loop through Exception getCause() to find root cause with detail message","body":"<p><a href=\"https://google.github.io/guava/releases/snapshot/api/docs/com/google/common/base/Throwables.html\" rel=\"noreferrer\">Guava's <code>Throwables</code></a> provides the following methods:</p>\n\n<pre><code>Throwable getRootCause(Throwable throwable)\n</code></pre>\n\n<p>as well as</p>\n\n<pre><code>String getStackTraceAsString(Throwable throwable)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1782478,"reputation":1380,"user_id":1624839,"display_name":"Mehdi"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1676847401,"creation_date":1518461451,"answer_id":48753471,"question_id":17747175,"body_markdown":"Try this, you can put this function in a kind of Util class:\r\n\r\n    public static Throwable getRootException(Throwable exception){\r\n     Throwable rootException=exception;\r\n     while(rootException.getCause()!=null){\r\n      rootException = rootException.getCause();\r\n     }\r\n     return rootException;\r\n    }\r\n\r\nExample of usage :\r\n\r\n    catch(MyException e){\r\n      System.out.println(getRootException(e).getLocalizedMessage());\r\n    }\r\n\r\nSource : [How to get the root exception of any exception][1]\r\n\r\n\r\n  [1]: https://tutoref.com/","title":"How can I loop through Exception getCause() to find root cause with detail message","body":"<p>Try this, you can put this function in a kind of Util class:</p>\n<pre><code>public static Throwable getRootException(Throwable exception){\n Throwable rootException=exception;\n while(rootException.getCause()!=null){\n  rootException = rootException.getCause();\n }\n return rootException;\n}\n</code></pre>\n<p>Example of usage :</p>\n<pre><code>catch(MyException e){\n  System.out.println(getRootException(e).getLocalizedMessage());\n}\n</code></pre>\n<p>Source : <a href=\"https://tutoref.com/\" rel=\"nofollow noreferrer\">How to get the root exception of any exception</a></p>\n"},{"comments":[{"owner":{"account_id":4596281,"reputation":1418,"user_id":3728233,"accept_rate":100,"display_name":"sbrk"},"score":0,"creation_date":1590484462,"post_id":55364601,"comment_id":109689365,"body_markdown":"Might want to replace `if (e.getCause() == null)` with `if (e == null)` else you&#39;ll lose one level information.","body":"Might want to replace <code>if (e.getCause() == null)</code> with <code>if (e == null)</code> else you&#39;ll lose one level information."}],"tags":[],"owner":{"account_id":8579296,"reputation":734,"user_id":7019931,"display_name":"Roman Khomyshynets"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1553627224,"creation_date":1553627224,"answer_id":55364601,"question_id":17747175,"body_markdown":"Recursively:\r\n\r\n    public static Throwable getRootCause(Throwable e) {\r\n\t\tif (e.getCause() == null) return e;\r\n\t\treturn getRootCause(e.getCause());\r\n\t}","title":"How can I loop through Exception getCause() to find root cause with detail message","body":"<p>Recursively:</p>\n\n<pre><code>public static Throwable getRootCause(Throwable e) {\n    if (e.getCause() == null) return e;\n    return getRootCause(e.getCause());\n}\n</code></pre>\n"}],"owner":{"account_id":1827965,"reputation":5603,"user_id":1660192,"accept_rate":80,"display_name":"Aman Gupta"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":113530,"favorite_count":0,"down_vote_count":1,"up_vote_count":93,"closed_date":1563974722,"accepted_answer_id":17747256,"answer_count":9,"score":92,"last_activity_date":1676847401,"creation_date":1374240056,"question_id":17747175,"body_markdown":"I am trying to call `saveOrUpdate()` in hibernate to save data. Since columns have unique index, so its throws `ConstraintViolationException` when I look through via Eclipse debugger.  \r\n\r\nSince root cause could be different for different exception while inserting data to table.  \r\nI wanted to know, how can I loop / traverse through `getCause()` to check what is the root cause of exception and its message.\r\n\r\nUpdate:  \r\nThanks everyone for your kind response, thing is I want output like in below image:  \r\n![enter image description here][1]  \r\nI need to access  **detailMessage** field.  \r\n(I am really sorry If could not make my question more clear.)\r\n\r\nThanks.\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/n0Laj.png","title":"How can I loop through Exception getCause() to find root cause with detail message","body":"<p>I am trying to call <code>saveOrUpdate()</code> in hibernate to save data. Since columns have unique index, so its throws <code>ConstraintViolationException</code> when I look through via Eclipse debugger.  </p>\n\n<p>Since root cause could be different for different exception while inserting data to table.<br>\nI wanted to know, how can I loop / traverse through <code>getCause()</code> to check what is the root cause of exception and its message.</p>\n\n<p>Update:<br>\nThanks everyone for your kind response, thing is I want output like in below image:<br>\n<img src=\"https://i.stack.imgur.com/n0Laj.png\" alt=\"enter image description here\"><br>\nI need to access  <strong>detailMessage</strong> field.<br>\n(I am really sorry If could not make my question more clear.)</p>\n\n<p>Thanks.</p>\n"},{"tags":["java","mysql","spring-boot"],"comments":[{"owner":{"account_id":7333742,"reputation":485,"user_id":5585819,"display_name":"KDW"},"score":1,"creation_date":1676751644,"post_id":75496058,"comment_id":133201858,"body_markdown":"For what it&#39;s worth, some thoughts to think about. First, I find it a bit strange to have @Service on both the FilterService and FilterServiceImpl. I would only put it on the implementation class... Second, why so many dependencies like spring-tx, javax.transaction-api, javax.persistence, etc. Those should all be provided by the spring-data-jpa dependency. I recommend cleaning up those dependencies to exclude conflicting packages as a possible cause... I guess leaving the starters and mysql-connector should be sufficient...","body":"For what it&#39;s worth, some thoughts to think about. First, I find it a bit strange to have @Service on both the FilterService and FilterServiceImpl. I would only put it on the implementation class... Second, why so many dependencies like spring-tx, javax.transaction-api, javax.persistence, etc. Those should all be provided by the spring-data-jpa dependency. I recommend cleaning up those dependencies to exclude conflicting packages as a possible cause... I guess leaving the starters and mysql-connector should be sufficient..."},{"owner":{"account_id":4476759,"reputation":393,"user_id":3641702,"accept_rate":40,"display_name":"user3641702"},"score":0,"creation_date":1676752598,"post_id":75496058,"comment_id":133202036,"body_markdown":"@KDW javax.persistence, for instance, is for my Entity classes. I want to have some transactions, that&#39;s why I have spring-tx, javax.transaction-api. Is spring-data-jpa dependency enough for what I want to achieve?","body":"@KDW javax.persistence, for instance, is for my Entity classes. I want to have some transactions, that&#39;s why I have spring-tx, javax.transaction-api. Is spring-data-jpa dependency enough for what I want to achieve?"},{"owner":{"account_id":7333742,"reputation":485,"user_id":5585819,"display_name":"KDW"},"score":0,"creation_date":1676753396,"post_id":75496058,"comment_id":133202193,"body_markdown":"Since you are using Spring Boot in your application, you only need to define the following dependencies for database access. tx, persintence, etc is part of the starter dependency.       \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;","body":"Since you are using Spring Boot in your application, you only need to define the following dependencies for database access. tx, persintence, etc is part of the starter dependency.                &lt;dependency&gt;             &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;             &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;         &lt;/dependency&gt;         &lt;dependency&gt;             &lt;groupId&gt;mysql&lt;/groupId&gt;             &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;             &lt;scope&gt;runtime&lt;/scope&gt;         &lt;/dependency&gt;"},{"owner":{"account_id":7333742,"reputation":485,"user_id":5585819,"display_name":"KDW"},"score":0,"creation_date":1676754017,"post_id":75496058,"comment_id":133202284,"body_markdown":"Is the mentioned error message the entire stacktrace?\nYour db is running in Docker, is it accessible on the application.properties uri using e.g. MySQL Workbench? Does your application run in a Docker container as well, or does it run in your IDE?","body":"Is the mentioned error message the entire stacktrace? Your db is running in Docker, is it accessible on the application.properties uri using e.g. MySQL Workbench? Does your application run in a Docker container as well, or does it run in your IDE?"},{"owner":{"account_id":4561654,"reputation":3050,"user_id":3703819,"display_name":"dey"},"score":0,"creation_date":1676763368,"post_id":75496058,"comment_id":133203629,"body_markdown":"This may be caused when the repository is not scanned - maybe your `@SpringBootApplication` class is in different package - to make it work, it has to be in the same or any parent package","body":"This may be caused when the repository is not scanned - maybe your <code>@SpringBootApplication</code> class is in different package - to make it work, it has to be in the same or any parent package"},{"owner":{"account_id":13141463,"reputation":116,"user_id":9492915,"display_name":"SputNick"},"score":0,"creation_date":1676763927,"post_id":75496058,"comment_id":133203681,"body_markdown":"did you enable jpa repositories using @EnableJpaRepositories?","body":"did you enable jpa repositories using @EnableJpaRepositories?"}],"answers":[{"comments":[{"owner":{"account_id":4476759,"reputation":393,"user_id":3641702,"accept_rate":40,"display_name":"user3641702"},"score":0,"creation_date":1676757255,"post_id":75496390,"comment_id":133202797,"body_markdown":"Adding spring-boot-starter-data-jpa adds HikariCP and I&#39;m getting a new error now: Caused by: org.hibernate.HibernateException: Unable to determine Dialect without JDBC metadata (please set &#39;javax.persistence.jdbc.url&#39;, &#39;hibernate.connection.url&#39;, or &#39;hibernate.dialect&#39;)\n\nRegarding docker, I&#39;ve added my docker-compose in the original post.","body":"Adding spring-boot-starter-data-jpa adds HikariCP and I&#39;m getting a new error now: Caused by: org.hibernate.HibernateException: Unable to determine Dialect without JDBC metadata (please set &#39;javax.persistence.jdbc.url&#39;, &#39;hibernate.connection.url&#39;, or &#39;hibernate.dialect&#39;)  Regarding docker, I&#39;ve added my docker-compose in the original post."},{"owner":{"account_id":7333742,"reputation":485,"user_id":5585819,"display_name":"KDW"},"score":0,"creation_date":1676817764,"post_id":75496390,"comment_id":133209588,"body_markdown":"Looks like a configuration issue/conflict. Would it be possible by any chance to share your code somewhere on a Git repository?","body":"Looks like a configuration issue/conflict. Would it be possible by any chance to share your code somewhere on a Git repository?"}],"tags":[],"owner":{"account_id":7333742,"reputation":485,"user_id":5585819,"display_name":"KDW"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676754242,"creation_date":1676754242,"answer_id":75496390,"question_id":75496058,"body_markdown":"I think you can replace your dependencies with the following.\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n        &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;javax.validation&lt;/groupId&gt;\r\n        &lt;artifactId&gt;validation-api&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.liquibase&lt;/groupId&gt;\r\n        &lt;artifactId&gt;liquibase-core&lt;/artifactId&gt;\r\n        &lt;version&gt;4.19.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n        &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n        &lt;scope&gt;runtime&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\nIf you run your Spring Boot application inside your IDE or as a non-containerized application on the same host as your Docker engine, try using `localhost` instead of the container name.\r\n\r\n    spring.datasource.url=jdbc:mysql://localhost:3306/challenge","title":"org.springframework.beans.factory.UnsatisfiedDependencyException Error creating bean (repository)","body":"<p>I think you can replace your dependencies with the following.</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;javax.validation&lt;/groupId&gt;\n    &lt;artifactId&gt;validation-api&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.liquibase&lt;/groupId&gt;\n    &lt;artifactId&gt;liquibase-core&lt;/artifactId&gt;\n    &lt;version&gt;4.19.0&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;mysql&lt;/groupId&gt;\n    &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n    &lt;scope&gt;runtime&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>If you run your Spring Boot application inside your IDE or as a non-containerized application on the same host as your Docker engine, try using <code>localhost</code> instead of the container name.</p>\n<pre><code>spring.datasource.url=jdbc:mysql://localhost:3306/challenge\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4476759,"reputation":393,"user_id":3641702,"accept_rate":40,"display_name":"user3641702"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1676847396,"creation_date":1676847396,"answer_id":75503977,"question_id":75496058,"body_markdown":"Upon much trial and error and after fixing my dependencies as @KDW suggested, I finally figured out what was wrong.\r\nI created my project from [Spring Initializr][1] with version 3.0.2. Turns out there are some issues as mentioned [here][2] and [here][3].\r\nAlso, I was missing some annotations on my main class.\r\nHere&#39;s my solution:\r\n\r\nStep 1 - Downgrade Spring Boot version from 3.0.2 to 2.7.8:\r\n```\r\n&lt;parent&gt;\r\n\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t&lt;version&gt;2.7.8&lt;/version&gt;\r\n\t&lt;relativePath/&gt;\r\n&lt;/parent&gt;\r\n``` \r\nStep 2 - Dependency list\r\n```\r\n&lt;dependencies&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t&lt;/dependency&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t&lt;/dependency&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n\t&lt;/dependency&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t&lt;/dependency&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;mysql&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;8.0.32&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;javax.validation&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;validation-api&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.0.1.Final&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;javax.persistence&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;javax.persistence-api&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.2&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.1.4.RELEASE&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n&lt;/dependencies&gt;\r\n```\r\nStep 3 - Annotations on main class\r\n```\r\n@ServletComponentScan\r\n@EnableJpaRepositories(&quot;package_with_my_repositories&quot;)\r\n@EntityScan(&quot;package_with_my_entities&quot;)\r\n@SpringBootApplication\r\n```\r\n\r\n\r\n  [1]: https://start.spring.io/\r\n  [2]: https://stackoverflow.com/questions/73331089/java-lang-illegalargumentexception-not-a-managed-type-class-com-sportyshoe-ent\r\n  [3]: https://stackoverflow.com/questions/74674544/java-lang-illegalargumentexception-not-a-managed-type-entity","title":"org.springframework.beans.factory.UnsatisfiedDependencyException Error creating bean (repository)","body":"<p>Upon much trial and error and after fixing my dependencies as @KDW suggested, I finally figured out what was wrong.\nI created my project from <a href=\"https://start.spring.io/\" rel=\"nofollow noreferrer\">Spring Initializr</a> with version 3.0.2. Turns out there are some issues as mentioned <a href=\"https://stackoverflow.com/questions/73331089/java-lang-illegalargumentexception-not-a-managed-type-class-com-sportyshoe-ent\">here</a> and <a href=\"https://stackoverflow.com/questions/74674544/java-lang-illegalargumentexception-not-a-managed-type-entity\">here</a>.\nAlso, I was missing some annotations on my main class.\nHere's my solution:</p>\n<p>Step 1 - Downgrade Spring Boot version from 3.0.2 to 2.7.8:</p>\n<pre><code>&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;2.7.8&lt;/version&gt;\n    &lt;relativePath/&gt;\n&lt;/parent&gt;\n</code></pre>\n<p>Step 2 - Dependency list</p>\n<pre><code>&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;mysql&lt;/groupId&gt;\n        &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n        &lt;version&gt;8.0.32&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.validation&lt;/groupId&gt;\n        &lt;artifactId&gt;validation-api&lt;/artifactId&gt;\n        &lt;version&gt;2.0.1.Final&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.persistence&lt;/groupId&gt;\n        &lt;artifactId&gt;javax.persistence-api&lt;/artifactId&gt;\n        &lt;version&gt;2.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-data-jpa&lt;/artifactId&gt;\n        &lt;version&gt;2.1.4.RELEASE&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n<p>Step 3 - Annotations on main class</p>\n<pre><code>@ServletComponentScan\n@EnableJpaRepositories(&quot;package_with_my_repositories&quot;)\n@EntityScan(&quot;package_with_my_entities&quot;)\n@SpringBootApplication\n</code></pre>\n"}],"owner":{"account_id":4476759,"reputation":393,"user_id":3641702,"accept_rate":40,"display_name":"user3641702"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":313,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75503977,"answer_count":2,"score":0,"last_activity_date":1676847396,"creation_date":1676750561,"question_id":75496058,"body_markdown":"I&#39;m trying to set up a Spring Boot/MySQL/docker project. After adding the repository classes, I started getting this error:\r\n\r\n    Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: \r\n    Error creating bean with name &#39;filterController&#39;: Unsatisfied dependency expressed through field &#39;filterService&#39;: \r\n    Error creating bean with name &#39;filterServiceImpl&#39;: Unsatisfied dependency expressed through field &#39;filterRepository&#39;: \r\n    No qualifying bean of type &#39;backend.challenge.repositories.FilterRepository&#39; available: \r\n    expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: \r\n    {@org.springframework.beans.factory.annotation.Autowired(required=true)}\r\n\r\nChecked my classes and [this question][1], annotated everything. \r\nThere are two repositories, I&#39;ll just post one:\r\n```\r\nimport org.springframework.data.jpa.repository.JpaRepository;\r\nimport org.springframework.stereotype.Repository;\r\n\r\n@Repository\r\npublic interface FilterRepository extends JpaRepository&lt;FilterEntity, String&gt; {}\r\n```\r\nService:\r\n```\r\nimport org.springframework.stereotype.Service;\r\n\r\nimport java.util.List;\r\n\r\n@Service\r\npublic interface FilterService {\r\n    FilterResponseDto createFilter(FilterRequestDto filterRequestDto);\r\n    List&lt;FilterResponseDto&gt; getAllFilters();\r\n}\r\n```\r\n\r\nService implementation:\r\n```\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.stereotype.Service;\r\nimport org.springframework.transaction.annotation.Propagation;\r\nimport org.springframework.transaction.annotation.Transactional;\r\n\r\nimport java.util.List;\r\nimport java.util.stream.Collectors;\r\n\r\n@Service\r\npublic class FilterServiceImpl implements FilterService{\r\n    @Autowired\r\n    private FilterRepository filterRepository;\r\n    @Autowired\r\n    private FilterChangelogRepository filterChangelogRepository;\r\n\r\n    //method implementations here\r\n}\r\n```\r\n\r\nController:\r\n```\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.http.HttpStatus;\r\nimport org.springframework.validation.annotation.Validated;\r\nimport org.springframework.web.bind.annotation.*;\r\n\r\nimport javax.validation.Valid;\r\nimport javax.validation.constraints.NotBlank;\r\nimport javax.validation.constraints.NotNull;\r\nimport javax.validation.constraints.Pattern;\r\nimport java.util.List;\r\n\r\n@RestController\r\n@RequestMapping(&quot;filters&quot;)\r\n@Validated\r\npublic class FilterController {\r\n    @Autowired\r\n    private FilterService filterService;\r\n\t//mappings here\r\n}\r\n```\r\napplication.properties (pointing to the MySQL db running on docker)\r\n```\r\nspring.datasource.url=jdbc:mysql://mysqldb:3306/challenge\r\nspring.datasource.username=root\r\nspring.datasource.password=root\r\nspring.datasource.driver-class-name = com.mysql.cj.jdbc.Driver\r\n```\r\n\r\nLastly, my dependency list which is quite a mess:\r\n```\r\n&lt;dependencies&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t&lt;/dependency&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t&lt;/dependency&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-web&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;6.0.4&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-beans&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;6.0.4&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;javax.validation&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;validation-api&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.0.1.Final&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;com.mysql&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;8.0.32&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;javax.persistence&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;javax.persistence-api&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.2&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.1.4.RELEASE&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n&lt;/dependencies&gt;\r\n```\r\n\r\nWould appreciate if anybody could share some thoughts on this.\r\n\r\nEdit1: cleaned dependencies, still getting the same error.\r\n\r\nEdit2: Adding docker-compose file:\r\n```\r\nservices:\r\n\r\n  yourapp:\r\n    depends_on:\r\n      - mysqldb\r\n    restart: always\r\n    build:\r\n      context: ./\r\n      dockerfile: Dockerfile\r\n    ports:\r\n      - &quot;8080:8080&quot;\r\n    depends_on:\r\n      mysqldb:\r\n        condition: service_healthy\r\n    environment:\r\n      MYSQL_HOST: mysqldb\r\n      MYSQL_USER: root\r\n      MYSQL_PASSWORD: root\r\n      MYSQL_PORT: 3306\r\n    stdin_open: true\r\n    tty: true\r\n\r\n  mysqldb:\r\n    image: mysql:8.0\r\n    restart: always\r\n    ports:\r\n      - &quot;3306:3306&quot;\r\n    environment:\r\n      MYSQL_DATABASE: challenge\r\n      MYSQL_ROOT_PASSWORD: root\r\n    healthcheck:\r\n            test: [&quot;CMD&quot;, &quot;mysqladmin&quot; ,&quot;ping&quot;, &quot;-h&quot;, &quot;localhost&quot;]\r\n            timeout: 30s\r\n            retries: 5\r\n```\r\n\r\n  [1]: https://stackoverflow.com/questions/41511511/unsatisfieddependencyexception-error-creating-bean-with-name","title":"org.springframework.beans.factory.UnsatisfiedDependencyException Error creating bean (repository)","body":"<p>I'm trying to set up a Spring Boot/MySQL/docker project. After adding the repository classes, I started getting this error:</p>\n<pre><code>Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: \nError creating bean with name 'filterController': Unsatisfied dependency expressed through field 'filterService': \nError creating bean with name 'filterServiceImpl': Unsatisfied dependency expressed through field 'filterRepository': \nNo qualifying bean of type 'backend.challenge.repositories.FilterRepository' available: \nexpected at least 1 bean which qualifies as autowire candidate. Dependency annotations: \n{@org.springframework.beans.factory.annotation.Autowired(required=true)}\n</code></pre>\n<p>Checked my classes and <a href=\"https://stackoverflow.com/questions/41511511/unsatisfieddependencyexception-error-creating-bean-with-name\">this question</a>, annotated everything.\nThere are two repositories, I'll just post one:</p>\n<pre><code>import org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.stereotype.Repository;\n\n@Repository\npublic interface FilterRepository extends JpaRepository&lt;FilterEntity, String&gt; {}\n</code></pre>\n<p>Service:</p>\n<pre><code>import org.springframework.stereotype.Service;\n\nimport java.util.List;\n\n@Service\npublic interface FilterService {\n    FilterResponseDto createFilter(FilterRequestDto filterRequestDto);\n    List&lt;FilterResponseDto&gt; getAllFilters();\n}\n</code></pre>\n<p>Service implementation:</p>\n<pre><code>import org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Service;\nimport org.springframework.transaction.annotation.Propagation;\nimport org.springframework.transaction.annotation.Transactional;\n\nimport java.util.List;\nimport java.util.stream.Collectors;\n\n@Service\npublic class FilterServiceImpl implements FilterService{\n    @Autowired\n    private FilterRepository filterRepository;\n    @Autowired\n    private FilterChangelogRepository filterChangelogRepository;\n\n    //method implementations here\n}\n</code></pre>\n<p>Controller:</p>\n<pre><code>import org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.validation.annotation.Validated;\nimport org.springframework.web.bind.annotation.*;\n\nimport javax.validation.Valid;\nimport javax.validation.constraints.NotBlank;\nimport javax.validation.constraints.NotNull;\nimport javax.validation.constraints.Pattern;\nimport java.util.List;\n\n@RestController\n@RequestMapping(&quot;filters&quot;)\n@Validated\npublic class FilterController {\n    @Autowired\n    private FilterService filterService;\n    //mappings here\n}\n</code></pre>\n<p>application.properties (pointing to the MySQL db running on docker)</p>\n<pre><code>spring.datasource.url=jdbc:mysql://mysqldb:3306/challenge\nspring.datasource.username=root\nspring.datasource.password=root\nspring.datasource.driver-class-name = com.mysql.cj.jdbc.Driver\n</code></pre>\n<p>Lastly, my dependency list which is quite a mess:</p>\n<pre><code>&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-web&lt;/artifactId&gt;\n        &lt;version&gt;6.0.4&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-beans&lt;/artifactId&gt;\n        &lt;version&gt;6.0.4&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.validation&lt;/groupId&gt;\n        &lt;artifactId&gt;validation-api&lt;/artifactId&gt;\n        &lt;version&gt;2.0.1.Final&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.mysql&lt;/groupId&gt;\n        &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\n        &lt;version&gt;8.0.32&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.persistence&lt;/groupId&gt;\n        &lt;artifactId&gt;javax.persistence-api&lt;/artifactId&gt;\n        &lt;version&gt;2.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-data-jpa&lt;/artifactId&gt;\n        &lt;version&gt;2.1.4.RELEASE&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n<p>Would appreciate if anybody could share some thoughts on this.</p>\n<p>Edit1: cleaned dependencies, still getting the same error.</p>\n<p>Edit2: Adding docker-compose file:</p>\n<pre><code>services:\n\n  yourapp:\n    depends_on:\n      - mysqldb\n    restart: always\n    build:\n      context: ./\n      dockerfile: Dockerfile\n    ports:\n      - &quot;8080:8080&quot;\n    depends_on:\n      mysqldb:\n        condition: service_healthy\n    environment:\n      MYSQL_HOST: mysqldb\n      MYSQL_USER: root\n      MYSQL_PASSWORD: root\n      MYSQL_PORT: 3306\n    stdin_open: true\n    tty: true\n\n  mysqldb:\n    image: mysql:8.0\n    restart: always\n    ports:\n      - &quot;3306:3306&quot;\n    environment:\n      MYSQL_DATABASE: challenge\n      MYSQL_ROOT_PASSWORD: root\n    healthcheck:\n            test: [&quot;CMD&quot;, &quot;mysqladmin&quot; ,&quot;ping&quot;, &quot;-h&quot;, &quot;localhost&quot;]\n            timeout: 30s\n            retries: 5\n</code></pre>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1585768133,"post_id":60978452,"comment_id":107882431,"body_markdown":"Probably not. Java 9 introduced breaking changes. You can try it. But I guess you did. And it didn&#39;t work.","body":"Probably not. Java 9 introduced breaking changes. You can try it. But I guess you did. And it didn&#39;t work."},{"owner":{"account_id":16102064,"reputation":417,"user_id":11622551,"display_name":"Zach Rieck"},"score":0,"creation_date":1585768392,"post_id":60978452,"comment_id":107882578,"body_markdown":"Supposedly 1.5.x can be modularized (source: https://dzone.com/articles/migrating-springboot-applications-to-latest-java-v). Not sure if the same process will work for 1.4. I would run a jdeps command on your jars to get a list of dependencies and try to see if those are compatible with Java 11 to start","body":"Supposedly 1.5.x can be modularized (source: <a href=\"https://dzone.com/articles/migrating-springboot-applications-to-latest-java-v\" rel=\"nofollow noreferrer\">dzone.com/articles/&hellip;</a>). Not sure if the same process will work for 1.4. I would run a jdeps command on your jars to get a list of dependencies and try to see if those are compatible with Java 11 to start"}],"answers":[{"tags":[],"owner":{"account_id":223484,"reputation":61196,"user_id":482717,"accept_rate":66,"display_name":"Paul Verest"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676847183,"creation_date":1676847183,"answer_id":75503952,"question_id":60978452,"body_markdown":"**No.**\r\n\r\nSpring Boot [1.4 is using Spring Framework 4.3](https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-1.4-Release-Notes#new-and-noteworthy)\r\nwhich does not support Java (JRE) 11\r\n\r\n![](https://i.stack.imgur.com/p9LuK.png)\r\n\r\nhttps://endoflife.date/spring-framework\r\n","title":"Can I run spring boot 1.4.x jar on java 11+?","body":"<p><strong>No.</strong></p>\n<p>Spring Boot <a href=\"https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-1.4-Release-Notes#new-and-noteworthy\" rel=\"nofollow noreferrer\">1.4 is using Spring Framework 4.3</a>\nwhich does not support Java (JRE) 11</p>\n<p><img src=\"https://i.stack.imgur.com/p9LuK.png\" alt=\"\" /></p>\n<p><a href=\"https://endoflife.date/spring-framework\" rel=\"nofollow noreferrer\">https://endoflife.date/spring-framework</a></p>\n"}],"owner":{"account_id":3015538,"reputation":4229,"user_id":2557818,"accept_rate":82,"display_name":"Raja Anbazhagan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":420,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1676847183,"creation_date":1585767816,"question_id":60978452,"body_markdown":"I searched spring documentation and the release notes. The details provided are more towards development with a specific version. But these documentation fails to mention if the old jars can be run against new java versions.\r\n\r\nDoes anyone have any idea if spring boot `1.4.x` application compiled and built on `java 8` would run on `java 11+`.?","title":"Can I run spring boot 1.4.x jar on java 11+?","body":"<p>I searched spring documentation and the release notes. The details provided are more towards development with a specific version. But these documentation fails to mention if the old jars can be run against new java versions.</p>\n\n<p>Does anyone have any idea if spring boot <code>1.4.x</code> application compiled and built on <code>java 8</code> would run on <code>java 11+</code>.?</p>\n"},{"tags":["java","amazon-web-services","amazon-cloudwatch","amazon-cloudwatchlogs"],"comments":[{"owner":{"account_id":90365,"reputation":222506,"user_id":248823,"accept_rate":100,"display_name":"Marcin"},"score":1,"creation_date":1676850547,"post_id":75503933,"comment_id":133215307,"body_markdown":"The error is clear. Your user does not have permissions.","body":"The error is clear. Your user does not have permissions."},{"owner":{"account_id":1011143,"reputation":397,"user_id":1023693,"display_name":"Dai"},"score":0,"creation_date":1676858462,"post_id":75503933,"comment_id":133216250,"body_markdown":"The user `user/cloudwatchuser` don&#39;t have permission `events:PutEvents`","body":"The user <code>user&#47;cloudwatchuser</code> don&#39;t have permission <code>events:PutEvents</code>"}],"owner":{"account_id":2228413,"reputation":816,"user_id":1966655,"accept_rate":67,"display_name":"swapnil gandhi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676846944,"creation_date":1676846944,"question_id":75503933,"body_markdown":"New to aws, I am trying to write a code in java to put events to cloud logs. But I am getting this error in java. I am not sure what I need to do in console. \r\n\r\nsoftware.amazon.awssdk.services.cloudwatchevents.model.CloudWatchEventsException: User: arn:aws:iam::***:user/cloudwatchuser is not authorized to perform: events:PutEvents on resource: arn:aws:events:us-east-1:****:event-bus/default because no identity-based policy allows the events:PutEvents action (Service: CloudWatchEvents, Status Code: 400\r\n\r\n\r\nHow to solve this issue???\r\n\r\nI refereed to the official documentation https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/examples-cloudwatch-send-events.html","title":"AWS CloudWatchEventsException. cloudwatchuser is not authorized to perform: events:PutEvents on resource","body":"<p>New to aws, I am trying to write a code in java to put events to cloud logs. But I am getting this error in java. I am not sure what I need to do in console.</p>\n<p>software.amazon.awssdk.services.cloudwatchevents.model.CloudWatchEventsException: User: arn:aws:iam::<em><strong>:user/cloudwatchuser is not authorized to perform: events:PutEvents on resource: arn:aws:events:us-east-1:</strong></em>*:event-bus/default because no identity-based policy allows the events:PutEvents action (Service: CloudWatchEvents, Status Code: 400</p>\n<p>How to solve this issue???</p>\n<p>I refereed to the official documentation <a href=\"https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/examples-cloudwatch-send-events.html\" rel=\"nofollow noreferrer\">https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/examples-cloudwatch-send-events.html</a></p>\n"},{"tags":["java","for-loop","kotlin"],"answers":[{"comments":[{"owner":{"account_id":11374421,"reputation":323,"user_id":12575366,"display_name":"user12575366"},"score":0,"creation_date":1598207445,"post_id":63550604,"comment_id":112375987,"body_markdown":"No you not understand i need to check before 1 step of i then back to normal and also in my if compare two int values in same array but 1 step after i like val a = arrT[i] == arrT[i+1].","body":"No you not understand i need to check before 1 step of i then back to normal and also in my if compare two int values in same array but 1 step after i like val a = arrT[i] == arrT[i+1]."},{"owner":{"account_id":3829835,"reputation":2049,"user_id":3175694,"display_name":"Greg Billetdeaux"},"score":0,"creation_date":1598207630,"post_id":63550604,"comment_id":112376054,"body_markdown":"Edited my response to just add an additional check in your if statement to make sure i+1 is inside your bounds.","body":"Edited my response to just add an additional check in your if statement to make sure i+1 is inside your bounds."},{"owner":{"account_id":11374421,"reputation":323,"user_id":12575366,"display_name":"user12575366"},"score":0,"creation_date":1598207813,"post_id":63550604,"comment_id":112376109,"body_markdown":"After it what about last value of array","body":"After it what about last value of array"},{"owner":{"account_id":3829835,"reputation":2049,"user_id":3175694,"display_name":"Greg Billetdeaux"},"score":0,"creation_date":1598207938,"post_id":63550604,"comment_id":112376150,"body_markdown":"The if-statement will cause it to skip that one. Depends on your use-case for what you want to do. You can put an else statement to handle that one differently.","body":"The if-statement will cause it to skip that one. Depends on your use-case for what you want to do. You can put an else statement to handle that one differently."},{"owner":{"account_id":11374421,"reputation":323,"user_id":12575366,"display_name":"user12575366"},"score":0,"creation_date":1598208122,"post_id":63550604,"comment_id":112376214,"body_markdown":"yes correct but i also i need where if condition start like from index 3 and i need to compare also index 2 in it.","body":"yes correct but i also i need where if condition start like from index 3 and i need to compare also index 2 in it."},{"owner":{"account_id":3829835,"reputation":2049,"user_id":3175694,"display_name":"Greg Billetdeaux"},"score":0,"creation_date":1598208199,"post_id":63550604,"comment_id":112376242,"body_markdown":"Well, the way arrays work, if index 3 is valid, then index 2, 1, and 0 will be valid as well.","body":"Well, the way arrays work, if index 3 is valid, then index 2, 1, and 0 will be valid as well."},{"owner":{"account_id":11374421,"reputation":323,"user_id":12575366,"display_name":"user12575366"},"score":0,"creation_date":1598208557,"post_id":63550604,"comment_id":112376377,"body_markdown":"Then how can i now if my array&#39;s if condition is satisfied at index 3 and i need 1 index before that.","body":"Then how can i now if my array&#39;s if condition is satisfied at index 3 and i need 1 index before that."},{"owner":{"account_id":11374421,"reputation":323,"user_id":12575366,"display_name":"user12575366"},"score":0,"creation_date":1598209192,"post_id":63550604,"comment_id":112376568,"body_markdown":"Okay no need to answer last question. My problem is resolved. Thanks Man.","body":"Okay no need to answer last question. My problem is resolved. Thanks Man."}],"tags":[],"owner":{"account_id":3829835,"reputation":2049,"user_id":3175694,"display_name":"Greg Billetdeaux"},"comment_count":8,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1598207586,"creation_date":1598207176,"answer_id":63550604,"question_id":63550540,"body_markdown":"Think I understand what you&#39;re asking. Can you start with i = to 1 and do i-1 instead of i+1? Something like this:\r\n\r\n    for (i in 1 until arrTriple!!.size) {\r\n       if (arryTriple[i-1].third &gt;= overtime {\r\n          arrTriple[i].third\r\n       }\r\n    }\r\n\r\nYou&#39;ll have an edge case where `arrTriple.size == 1` that you&#39;d need to handle still.\r\n\r\nEDIT:\r\n\r\nOtherwise, just add an if-check.\r\n\r\n    for (i in 0 until arrTriple!!.size){\r\n      if (arrTriple[i].third &gt;= ordertime &amp;&amp; (i+1) &lt; arrTriple.size){ \r\n    \r\n      }\r\n    }","title":"Java / Kotlin getting value in for loop for step + one and also a step before if condition in for loop","body":"<p>Think I understand what you're asking. Can you start with i = to 1 and do i-1 instead of i+1? Something like this:</p>\n<pre><code>for (i in 1 until arrTriple!!.size) {\n   if (arryTriple[i-1].third &gt;= overtime {\n      arrTriple[i].third\n   }\n}\n</code></pre>\n<p>You'll have an edge case where <code>arrTriple.size == 1</code> that you'd need to handle still.</p>\n<p>EDIT:</p>\n<p>Otherwise, just add an if-check.</p>\n<pre><code>for (i in 0 until arrTriple!!.size){\n  if (arrTriple[i].third &gt;= ordertime &amp;&amp; (i+1) &lt; arrTriple.size){ \n\n  }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":11374421,"reputation":323,"user_id":12575366,"display_name":"user12575366"},"score":0,"creation_date":1598207607,"post_id":63550656,"comment_id":112376045,"body_markdown":"Then how can i compare 1 step after value with current value and also i need feom where if condition start like from index 3 in need to compare also index 2 in it.","body":"Then how can i compare 1 step after value with current value and also i need feom where if condition start like from index 3 in need to compare also index 2 in it."}],"tags":[],"owner":{"account_id":4842712,"reputation":59,"user_id":3907324,"accept_rate":0,"display_name":"bsteven48"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1598207480,"creation_date":1598207480,"answer_id":63550656,"question_id":63550540,"body_markdown":"You don&#39;t necessarily need `until`. You would write it just like this\r\n\r\n    for(element in arrTriple!!){\r\n        if(element.third &gt;= ordertime){ \r\n            // Your logic here\r\n        }\r\n    }\r\n\r\nThis would be my approach","title":"Java / Kotlin getting value in for loop for step + one and also a step before if condition in for loop","body":"<p>You don't necessarily need <code>until</code>. You would write it just like this</p>\n<pre><code>for(element in arrTriple!!){\n    if(element.third &gt;= ordertime){ \n        // Your logic here\n    }\n}\n</code></pre>\n<p>This would be my approach</p>\n"}],"owner":{"account_id":11374421,"reputation":323,"user_id":12575366,"display_name":"user12575366"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":295,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":63550604,"answer_count":2,"score":-1,"last_activity_date":1676846743,"creation_date":1598206841,"question_id":63550540,"body_markdown":"I am currently creating a program to check the order status (pending or confirmed) when a user open the app now the problem is if I need to check after order time and between I am checking time (Current Time) in this timeframe check for how many times I change price and compare if price is match or not.\r\n\r\nSo how can I check a step before i. like i is 3 and I need to also include 2 in it and compare value of i and i+1 value in every loop without getting index out of bond.\r\n\r\nCode : \r\n\r\n```val arrTriple = PREMIUMHM[itemname.toUpperCase(Locale.getDefault())]\r\n\r\n for (i in 0 until arrTriple!!.size){\r\n   if (arrTriple[i].third &gt;= ordertime){ //arrTriple[i].third is time when when I change price\r\n      \r\n     //Need this value also without getting indexoutofbond  = arrTriple[i+1].third \r\n     //So I can use my logic here.\r\n\r\n   }\r\n }\r\n","title":"Java / Kotlin getting value in for loop for step + one and also a step before if condition in for loop","body":"<p>I am currently creating a program to check the order status (pending or confirmed) when a user open the app now the problem is if I need to check after order time and between I am checking time (Current Time) in this timeframe check for how many times I change price and compare if price is match or not.</p>\n<p>So how can I check a step before i. like i is 3 and I need to also include 2 in it and compare value of i and i+1 value in every loop without getting index out of bond.</p>\n<p>Code :</p>\n<pre><code>\n for (i in 0 until arrTriple!!.size){\n   if (arrTriple[i].third &gt;= ordertime){ //arrTriple[i].third is time when when I change price\n      \n     //Need this value also without getting indexoutofbond  = arrTriple[i+1].third \n     //So I can use my logic here.\n\n   }\n }\n</code></pre>\n"},{"tags":["java","swing","draw","drawable"],"comments":[{"owner":{"account_id":9760,"reputation":85860,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1676685220,"post_id":75490691,"comment_id":133193396,"body_markdown":"_&quot;when I exported it to my desktop&quot;_ - How? That may be part of the problem.  Also, do you have the same JRE/JDK on both systems?  What about OS versions?  Lots of important details missing...","body":"<i>&quot;when I exported it to my desktop&quot;</i> - How? That may be part of the problem.  Also, do you have the same JRE/JDK on both systems?  What about OS versions?  Lots of important details missing..."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1676685548,"post_id":75490691,"comment_id":133193413,"body_markdown":"Oops, I was not reading as carefully as I should. Tricky variable names though","body":"Oops, I was not reading as carefully as I should. Tricky variable names though"},{"owner":{"account_id":27816044,"reputation":1,"user_id":21237404,"display_name":"NotQuiteSoInvisible"},"score":0,"creation_date":1676685814,"post_id":75490691,"comment_id":133193431,"body_markdown":"im using java echlipse on both computers and same os versions. I don&#39;t think it&#39;s a problem with the system, because i&#39;ve done a similar thing using a while loop to create tiles in a different game on the desktop. I exported the file using the export thing on java echlipse as well.","body":"im using java echlipse on both computers and same os versions. I don&#39;t think it&#39;s a problem with the system, because i&#39;ve done a similar thing using a while loop to create tiles in a different game on the desktop. I exported the file using the export thing on java echlipse as well."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1676687005,"post_id":75490691,"comment_id":133193523,"body_markdown":"Did you copy the compiled files over, or did you copy the source code and recompile?","body":"Did you copy the compiled files over, or did you copy the source code and recompile?"},{"owner":{"account_id":27816044,"reputation":1,"user_id":21237404,"display_name":"NotQuiteSoInvisible"},"score":0,"creation_date":1676687213,"post_id":75490691,"comment_id":133193547,"body_markdown":"i just downloaded it as a zip on echlipse and then imported. So the code is the exact same and I went through and checked. I don&#39;t know why, but the code is the same, but the output is different","body":"i just downloaded it as a zip on echlipse and then imported. So the code is the exact same and I went through and checked. I don&#39;t know why, but the code is the same, but the output is different"}],"answers":[{"comments":[{"owner":{"account_id":27816044,"reputation":1,"user_id":21237404,"display_name":"NotQuiteSoInvisible"},"score":0,"creation_date":1676690753,"post_id":75490812,"comment_id":133193792,"body_markdown":"Thank you for the suggestions. As I was cleaning up the code, I also inadvertently fixed the problem, which was just making the rows and cols local variables. For some reason this fixed the problem. I also wanted a tile manager because I wanted to have pixel art for the tiles, so reading them would be more organized if I had the manager.","body":"Thank you for the suggestions. As I was cleaning up the code, I also inadvertently fixed the problem, which was just making the rows and cols local variables. For some reason this fixed the problem. I also wanted a tile manager because I wanted to have pixel art for the tiles, so reading them would be more organized if I had the manager."},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1676845930,"post_id":75490812,"comment_id":133214687,"body_markdown":"@NotQuiteSoInvisible I&#39;m not saying you can&#39;t have the delegate and there&#39;s a lot of context missing, what I&#39;m saying is it&#39;s probably a bad idea to pass it an instance of `ChessBoard` - `ChessBoard` is a component with a lot of functionality that `TileManager` doesn&#39;t really need access to - better to define a contract for `TileManager` via a `interface`, just saying","body":"@NotQuiteSoInvisible I&#39;m not saying you can&#39;t have the delegate and there&#39;s a lot of context missing, what I&#39;m saying is it&#39;s probably a bad idea to pass it an instance of <code>ChessBoard</code> - <code>ChessBoard</code> is a component with a lot of functionality that <code>TileManager</code> doesn&#39;t really need access to - better to define a contract for <code>TileManager</code> via a <code>interface</code>, just saying"}],"tags":[],"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"comment_count":2,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1676845839,"creation_date":1676687297,"answer_id":75490812,"question_id":75490691,"body_markdown":"This is problematic on a number of levels...\r\n\r\n    public class TileManager {\r\n\r\n        private static int rows = 0;\r\n        private static int cols = 0;\r\n\r\n        //...\r\n        public void drawTiles(Graphics g) {\r\n            //...\r\n            while (rows &lt; cb.rows &amp;&amp; cols &lt; cb.cols) {\r\n\r\nAsk yourself the question, what happens on the next paint pass?\r\n\r\nPainting in Swing is destructive.  That is, on each new paint pass, you&#39;re expected to completely repaint the state of the component, from scratch.  \r\n\r\nOne of the things `paintComponent` will do is fill the `Graphics` context with the background color of the component.\r\n\r\nSo, on subsequent paint passes, `rows` and `cols` are already `&gt;=` `cb.rows` and `cb.cols` so you delegate will paint nothing.\r\n\r\nFirst, remove `static`, it&#39;s not doing your any favours in this context and will probably cause you more issues then it solves.  Second, `rows` and `cols` don&#39;t need to be instance level variables, their only function is to support the painting of the grid, so you can make then local variables instead.\r\n\r\nFor example...\r\n\r\n    public class TileManager {\r\n\r\n        ChessBoard cb;\r\n        public int[] types = new int[10];\r\n        private boolean c = true;\r\n        String[] alpha = {&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;, &quot;e&quot;, &quot;f&quot;, &quot;g&quot;, &quot;h&quot;};\r\n        String[] num = {&quot;8&quot;, &quot;7&quot;, &quot;6&quot;, &quot;5&quot;, &quot;4&quot;, &quot;3&quot;, &quot;2&quot;, &quot;1&quot;};\r\n\r\n        TileManager(ChessBoard cb) {\r\n            this.cb = cb;\r\n        }\r\n\r\n        public void drawTiles(Graphics g) {\r\n\r\n            Graphics2D g2 = (Graphics2D) g;\r\n            \r\n            int rows = 0;\r\n            int cols = 0;\r\n\r\n            while (rows &lt; cb.rows &amp;&amp; cols &lt; cb.cols) {\r\n\r\n                if (c) {\r\n                    g.setColor(Color.white);\r\n                }\r\n                if (!c) {\r\n                    g.setColor(Color.black);\r\n                }\r\n\r\n                g2.setFont(new Font(&quot;Comic Sans&quot;, Font.BOLD, 20));\r\n                g2.fillRect(cols * cb.tileSize, rows * cb.tileSize, cb.tileSize, cb.tileSize);\r\n                g2.setColor(Color.green);\r\n                g2.drawString(alpha[cols], 5 + cols * cb.tileSize, 20 + rows * cb.tileSize);\r\n                g2.drawString(num[rows], 75 + cols * cb.tileSize, 85 + rows * cb.tileSize);\r\n\r\n                c = !c;\r\n                cols++;\r\n\r\n                if (cols == 8) {\r\n\r\n                    c = !c;\r\n                    cols = 0;\r\n                    rows++;\r\n\r\n                }\r\n\r\n            }\r\n\r\n        }\r\n\r\n    }\r\n\r\nI, personally, would consider it bad practice to pass `TileManager` an instance of `ChessBoard`, you&#39;re exposing WAY more functionality to `TileManager` then it has any responsibility for managing.\r\n\r\nAs the code stands, I don&#39;t see any reason for it, but if you did need `TileManager` to pull information from it, I&#39;d consider writing an `interface` which defined the contract, or, simply have `ChessBoard` set the properties of the `TileManager`.  Any return communication should be done via an observer pattern (so `TileManager` and tell, who ever is interested, that some has happened)\r\n\r\nI would suggest paying closer attention to [Painting in AWT and Swing](https://www.oracle.com/java/technologies/painting.html).\r\n\r\nAs to the question of &quot;why&quot; it works on one platform and not another, welcome to the wonderful world of, that&#39;s how different platforms work - but some thing is triggering Swing to perform one or more paint passes after the initial paint pass.\r\n\r\nWhen I tested it (on MacOS), it worked right up to the moment I tried re-sizing the window.","title":"Why can I not use a while loop to draw a chessboard on my desktop, but can on my laptop?","body":"<p>This is problematic on a number of levels...</p>\n<pre><code>public class TileManager {\n\n    private static int rows = 0;\n    private static int cols = 0;\n\n    //...\n    public void drawTiles(Graphics g) {\n        //...\n        while (rows &lt; cb.rows &amp;&amp; cols &lt; cb.cols) {\n</code></pre>\n<p>Ask yourself the question, what happens on the next paint pass?</p>\n<p>Painting in Swing is destructive.  That is, on each new paint pass, you're expected to completely repaint the state of the component, from scratch.</p>\n<p>One of the things <code>paintComponent</code> will do is fill the <code>Graphics</code> context with the background color of the component.</p>\n<p>So, on subsequent paint passes, <code>rows</code> and <code>cols</code> are already <code>&gt;=</code> <code>cb.rows</code> and <code>cb.cols</code> so you delegate will paint nothing.</p>\n<p>First, remove <code>static</code>, it's not doing your any favours in this context and will probably cause you more issues then it solves.  Second, <code>rows</code> and <code>cols</code> don't need to be instance level variables, their only function is to support the painting of the grid, so you can make then local variables instead.</p>\n<p>For example...</p>\n<pre><code>public class TileManager {\n\n    ChessBoard cb;\n    public int[] types = new int[10];\n    private boolean c = true;\n    String[] alpha = {&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;, &quot;e&quot;, &quot;f&quot;, &quot;g&quot;, &quot;h&quot;};\n    String[] num = {&quot;8&quot;, &quot;7&quot;, &quot;6&quot;, &quot;5&quot;, &quot;4&quot;, &quot;3&quot;, &quot;2&quot;, &quot;1&quot;};\n\n    TileManager(ChessBoard cb) {\n        this.cb = cb;\n    }\n\n    public void drawTiles(Graphics g) {\n\n        Graphics2D g2 = (Graphics2D) g;\n        \n        int rows = 0;\n        int cols = 0;\n\n        while (rows &lt; cb.rows &amp;&amp; cols &lt; cb.cols) {\n\n            if (c) {\n                g.setColor(Color.white);\n            }\n            if (!c) {\n                g.setColor(Color.black);\n            }\n\n            g2.setFont(new Font(&quot;Comic Sans&quot;, Font.BOLD, 20));\n            g2.fillRect(cols * cb.tileSize, rows * cb.tileSize, cb.tileSize, cb.tileSize);\n            g2.setColor(Color.green);\n            g2.drawString(alpha[cols], 5 + cols * cb.tileSize, 20 + rows * cb.tileSize);\n            g2.drawString(num[rows], 75 + cols * cb.tileSize, 85 + rows * cb.tileSize);\n\n            c = !c;\n            cols++;\n\n            if (cols == 8) {\n\n                c = !c;\n                cols = 0;\n                rows++;\n\n            }\n\n        }\n\n    }\n\n}\n</code></pre>\n<p>I, personally, would consider it bad practice to pass <code>TileManager</code> an instance of <code>ChessBoard</code>, you're exposing WAY more functionality to <code>TileManager</code> then it has any responsibility for managing.</p>\n<p>As the code stands, I don't see any reason for it, but if you did need <code>TileManager</code> to pull information from it, I'd consider writing an <code>interface</code> which defined the contract, or, simply have <code>ChessBoard</code> set the properties of the <code>TileManager</code>.  Any return communication should be done via an observer pattern (so <code>TileManager</code> and tell, who ever is interested, that some has happened)</p>\n<p>I would suggest paying closer attention to <a href=\"https://www.oracle.com/java/technologies/painting.html\" rel=\"nofollow noreferrer\">Painting in AWT and Swing</a>.</p>\n<p>As to the question of &quot;why&quot; it works on one platform and not another, welcome to the wonderful world of, that's how different platforms work - but some thing is triggering Swing to perform one or more paint passes after the initial paint pass.</p>\n<p>When I tested it (on MacOS), it worked right up to the moment I tried re-sizing the window.</p>\n"}],"owner":{"account_id":27816044,"reputation":1,"user_id":21237404,"display_name":"NotQuiteSoInvisible"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676845839,"creation_date":1676685073,"question_id":75490691,"body_markdown":"I&#39;m trying to make a chess board using a while loop. However when I use a while loop, the tiles show up for a second and then they disappear. \r\n\r\nThe code for the panel\r\n```\r\npackage chess;\r\n\r\nimport java.awt.Color;\r\nimport java.awt.Dimension;\r\nimport java.awt.Graphics;\r\nimport java.awt.Graphics2D;\r\nimport java.awt.event.ActionEvent;\r\nimport java.awt.event.ActionListener;\r\nimport java.awt.event.KeyEvent;\r\nimport java.awt.event.KeyListener;\r\nimport java.awt.event.MouseEvent;\r\nimport java.awt.event.MouseListener;\r\nimport java.awt.event.MouseMotionListener;\r\n\r\nimport javax.swing.JPanel;\r\n\r\npublic class ChessBoard extends JPanel{\r\n\r\n\tpublic int tileSize = 90;\r\n\tpublic int cols = 8;\r\n\tpublic int rows = 8;\r\n\tpublic int maxCols = cols * tileSize;\r\n\tpublic int maxRows = rows * tileSize;\r\n\tTileManager tileM = new TileManager(this);\r\n\t\r\n\tChessBoard(){\r\n\t\t\r\n\t\tthis.setPreferredSize(new Dimension(maxCols, maxRows));\r\n\t\tthis.setBackground(Color.black);\r\n\t\tthis.setDoubleBuffered(true); \r\n\t\tthis.setFocusable(true); \r\n\t\t\r\n\t}\r\n\t\r\n\tpublic void paintComponent(Graphics g) {\r\n\t\t\r\n\t\tsuper.paintComponent(g);\r\n\t\tGraphics2D g2 = (Graphics2D)g;\r\n\t\ttileM.drawTiles(g2);\r\n\t\t\r\n\t}\r\n\r\n}\r\n```\r\n\r\nthe code for the drawing\r\n\r\n```\r\npackage chess;\r\n\r\nimport java.awt.Color;\r\nimport java.awt.Font;\r\nimport java.awt.Graphics;\r\nimport java.awt.Graphics2D;\r\n\r\nimport javax.imageio.ImageIO;\r\n\r\npublic class TileManager {\r\n\r\n\tChessBoard cb;\r\n\tpublic static int [] types = new int[10];\r\n\tprivate static int rows = 0;\r\n\tprivate static int cols = 0;\r\n\tprivate boolean c = true;\r\n\tString [] alpha = {&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;, &quot;e&quot;, &quot;f&quot;, &quot;g&quot;, &quot;h&quot;};\r\n\tString [] num = {&quot;8&quot;, &quot;7&quot;, &quot;6&quot;, &quot;5&quot;, &quot;4&quot;, &quot;3&quot;, &quot;2&quot;, &quot;1&quot;};\r\n\t\r\n\tTileManager(ChessBoard cb){\r\n\t\t\r\n\t\tthis.cb = cb;\r\n\t\t\r\n\t}\r\n\t\r\n\tpublic void drawTiles(Graphics g) {\r\n\t\t\r\n\t\tGraphics2D g2 = (Graphics2D)g;\r\n\t\t\r\n\t\twhile (rows &lt; cb.rows &amp;&amp; cols &lt; cb.cols) {\r\n\t\t\t\r\n\t\t\tif (c)\tg.setColor(Color.white);\r\n\t\t\tif (!c) g.setColor(Color.black);\r\n\t\t\t\r\n\t\t\tg2.setFont(new Font(&quot;Comic Sans&quot;, Font.BOLD, 20));\r\n\t\t\tg2.fillRect(cols * cb.tileSize, rows * cb.tileSize, cb.tileSize, cb.tileSize);\r\n\t\t\tg2.setColor(Color.green);\r\n\t\t\tg2.drawString(alpha[cols], 5 + cols * cb.tileSize, 20 + rows * cb.tileSize);\r\n\t\t\tg2.drawString(num[rows], 75 + cols * cb.tileSize, 85 + rows * cb.tileSize);\r\n\t\t\t\r\n\t\t\tc = !c;\r\n\t\t\tcols++;\r\n\r\n\t\t\tif (cols == 8) {\r\n\t\t\t\t\r\n\t\t\t\tc = !c;\r\n\t\t\t\tcols = 0;\r\n\t\t\t\trows++;\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t}\r\n\t\r\n}\r\n\r\n```\r\n\r\n\r\n\r\nThe weird thing about this is that this code works perfectly on my laptop, but when I exported it to my desktop, it has this problem. \r\n[this is what it looks like on my laptop, which weirdly works](https://i.stack.imgur.com/O2d96.png)\r\n[this is what it looks like on my desktop, and it shows the board correctly for a split second](https://i.stack.imgur.com/T2Zap.png)","title":"Why can I not use a while loop to draw a chessboard on my desktop, but can on my laptop?","body":"<p>I'm trying to make a chess board using a while loop. However when I use a while loop, the tiles show up for a second and then they disappear.</p>\n<p>The code for the panel</p>\n<pre><code>package chess;\n\nimport java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.Graphics;\nimport java.awt.Graphics2D;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.awt.event.KeyEvent;\nimport java.awt.event.KeyListener;\nimport java.awt.event.MouseEvent;\nimport java.awt.event.MouseListener;\nimport java.awt.event.MouseMotionListener;\n\nimport javax.swing.JPanel;\n\npublic class ChessBoard extends JPanel{\n\n    public int tileSize = 90;\n    public int cols = 8;\n    public int rows = 8;\n    public int maxCols = cols * tileSize;\n    public int maxRows = rows * tileSize;\n    TileManager tileM = new TileManager(this);\n    \n    ChessBoard(){\n        \n        this.setPreferredSize(new Dimension(maxCols, maxRows));\n        this.setBackground(Color.black);\n        this.setDoubleBuffered(true); \n        this.setFocusable(true); \n        \n    }\n    \n    public void paintComponent(Graphics g) {\n        \n        super.paintComponent(g);\n        Graphics2D g2 = (Graphics2D)g;\n        tileM.drawTiles(g2);\n        \n    }\n\n}\n</code></pre>\n<p>the code for the drawing</p>\n<pre><code>package chess;\n\nimport java.awt.Color;\nimport java.awt.Font;\nimport java.awt.Graphics;\nimport java.awt.Graphics2D;\n\nimport javax.imageio.ImageIO;\n\npublic class TileManager {\n\n    ChessBoard cb;\n    public static int [] types = new int[10];\n    private static int rows = 0;\n    private static int cols = 0;\n    private boolean c = true;\n    String [] alpha = {&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;, &quot;e&quot;, &quot;f&quot;, &quot;g&quot;, &quot;h&quot;};\n    String [] num = {&quot;8&quot;, &quot;7&quot;, &quot;6&quot;, &quot;5&quot;, &quot;4&quot;, &quot;3&quot;, &quot;2&quot;, &quot;1&quot;};\n    \n    TileManager(ChessBoard cb){\n        \n        this.cb = cb;\n        \n    }\n    \n    public void drawTiles(Graphics g) {\n        \n        Graphics2D g2 = (Graphics2D)g;\n        \n        while (rows &lt; cb.rows &amp;&amp; cols &lt; cb.cols) {\n            \n            if (c)  g.setColor(Color.white);\n            if (!c) g.setColor(Color.black);\n            \n            g2.setFont(new Font(&quot;Comic Sans&quot;, Font.BOLD, 20));\n            g2.fillRect(cols * cb.tileSize, rows * cb.tileSize, cb.tileSize, cb.tileSize);\n            g2.setColor(Color.green);\n            g2.drawString(alpha[cols], 5 + cols * cb.tileSize, 20 + rows * cb.tileSize);\n            g2.drawString(num[rows], 75 + cols * cb.tileSize, 85 + rows * cb.tileSize);\n            \n            c = !c;\n            cols++;\n\n            if (cols == 8) {\n                \n                c = !c;\n                cols = 0;\n                rows++;\n                \n            }\n            \n        }\n        \n    }\n    \n}\n\n</code></pre>\n<p>The weird thing about this is that this code works perfectly on my laptop, but when I exported it to my desktop, it has this problem.\n<a href=\"https://i.stack.imgur.com/O2d96.png\" rel=\"nofollow noreferrer\">this is what it looks like on my laptop, which weirdly works</a>\n<a href=\"https://i.stack.imgur.com/T2Zap.png\" rel=\"nofollow noreferrer\">this is what it looks like on my desktop, and it shows the board correctly for a split second</a></p>\n"},{"tags":["java","gson"],"comments":[{"owner":{"account_id":196487,"reputation":4706,"user_id":439945,"accept_rate":100,"display_name":"M.L."},"score":0,"creation_date":1311949447,"post_id":6873020,"comment_id":8179279,"body_markdown":"Have you checked that you are importing correct Date-class in all places? Also code example would be helpful.","body":"Have you checked that you are importing correct Date-class in all places? Also code example would be helpful."},{"owner":{"account_id":193707,"reputation":34691,"user_id":435605,"accept_rate":45,"display_name":"AlikElzin-kilaka"},"score":0,"creation_date":1435669448,"post_id":6873020,"comment_id":50288643,"body_markdown":"What do you mean by doesn&#39;t work? What do you actually see?","body":"What do you mean by doesn&#39;t work? What do you actually see?"}],"answers":[{"comments":[{"owner":{"account_id":365108,"reputation":5371,"user_id":709863,"accept_rate":81,"display_name":"St&#233;phane Piette"},"score":0,"creation_date":1312190613,"post_id":6875295,"comment_id":8209972,"body_markdown":"Ok it works better with your way.\nBut how can I display timestamps with this ?","body":"Ok it works better with your way. But how can I display timestamps with this ?"},{"owner":{"account_id":1764831,"reputation":2054,"user_id":1610918,"display_name":"Ramsharan"},"score":6,"creation_date":1375719908,"post_id":6875295,"comment_id":26431050,"body_markdown":"I am using Gson 2.2.4 and `Gson gson = new GsonBuilder().setDateFormat(&quot;yyyy-MM-dd&quot;).create();` works.","body":"I am using Gson 2.2.4 and <code>Gson gson = new GsonBuilder().setDateFormat(&quot;yyyy-MM-dd&quot;).create();</code> works."},{"owner":{"account_id":3071426,"reputation":6563,"user_id":2601995,"accept_rate":100,"display_name":"user2601995"},"score":0,"creation_date":1415061863,"post_id":6875295,"comment_id":42040858,"body_markdown":"using Gson 2.2.2 and `Gson gson = new GsonBuilder().setDateFormat(&quot;yyyy-MM-dd&quot;).create();` works","body":"using Gson 2.2.2 and <code>Gson gson = new GsonBuilder().setDateFormat(&quot;yyyy-MM-dd&quot;).create();</code> works"}],"tags":[],"owner":{"account_id":196487,"reputation":4706,"user_id":439945,"accept_rate":100,"display_name":"M.L."},"comment_count":3,"down_vote_count":0,"up_vote_count":351,"is_accepted":true,"score":351,"last_activity_date":1570049976,"creation_date":1311952628,"answer_id":6875295,"question_id":6873020,"body_markdown":"It seems that you need to define formats for both date and time part or use String-based formatting. For example:\r\n\r\n    Gson gson = new GsonBuilder()\r\n       .setDateFormat(&quot;EEE, dd MMM yyyy HH:mm:ss zzz&quot;).create();\r\n    \r\nor [using java.text.DateFormat][1]\r\n    \r\n    Gson gson = new GsonBuilder()\r\n       .setDateFormat(DateFormat.FULL, DateFormat.FULL).create();\r\n\r\nor do it with serializers:\r\n\r\nI believe that formatters cannot produce timestamps, but this serializer/deserializer-pair seems to work\r\n\r\n    JsonSerializer&lt;Date&gt; ser = new JsonSerializer&lt;Date&gt;() {\r\n      @Override\r\n      public JsonElement serialize(Date src, Type typeOfSrc, JsonSerializationContext \r\n                 context) {\r\n        return src == null ? null : new JsonPrimitive(src.getTime());\r\n      }\r\n    };\r\n        \r\n    JsonDeserializer&lt;Date&gt; deser = new JsonDeserializer&lt;Date&gt;() {\r\n      @Override\r\n      public Date deserialize(JsonElement json, Type typeOfT,\r\n           JsonDeserializationContext context) throws JsonParseException {\r\n        return json == null ? null : new Date(json.getAsLong());\r\n      }\r\n    };\r\n        \r\n    Gson gson = new GsonBuilder()\r\n       .registerTypeAdapter(Date.class, ser)\r\n       .registerTypeAdapter(Date.class, deser).create();\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/text/DateFormat.html\r\n\r\n\r\nIf using Java 8 or above you should use the above serializers/deserializers like so:\r\n\r\n\tJsonSerializer&lt;Date&gt; ser = (src, typeOfSrc, context) -&gt; src == null ? null\r\n\t\t\t\t: new JsonPrimitive(src.getTime());\r\n\r\n\tJsonDeserializer&lt;Date&gt; deser = (jSon, typeOfT, context) -&gt; jSon == null ? null : new Date(jSon.getAsLong());\r\n\r\n","title":"GSON - Date format","body":"<p>It seems that you need to define formats for both date and time part or use String-based formatting. For example:</p>\n\n<pre><code>Gson gson = new GsonBuilder()\n   .setDateFormat(\"EEE, dd MMM yyyy HH:mm:ss zzz\").create();\n</code></pre>\n\n<p>or <a href=\"https://docs.oracle.com/javase/7/docs/api/java/text/DateFormat.html\" rel=\"noreferrer\">using java.text.DateFormat</a></p>\n\n<pre><code>Gson gson = new GsonBuilder()\n   .setDateFormat(DateFormat.FULL, DateFormat.FULL).create();\n</code></pre>\n\n<p>or do it with serializers:</p>\n\n<p>I believe that formatters cannot produce timestamps, but this serializer/deserializer-pair seems to work</p>\n\n<pre><code>JsonSerializer&lt;Date&gt; ser = new JsonSerializer&lt;Date&gt;() {\n  @Override\n  public JsonElement serialize(Date src, Type typeOfSrc, JsonSerializationContext \n             context) {\n    return src == null ? null : new JsonPrimitive(src.getTime());\n  }\n};\n\nJsonDeserializer&lt;Date&gt; deser = new JsonDeserializer&lt;Date&gt;() {\n  @Override\n  public Date deserialize(JsonElement json, Type typeOfT,\n       JsonDeserializationContext context) throws JsonParseException {\n    return json == null ? null : new Date(json.getAsLong());\n  }\n};\n\nGson gson = new GsonBuilder()\n   .registerTypeAdapter(Date.class, ser)\n   .registerTypeAdapter(Date.class, deser).create();\n</code></pre>\n\n<p>If using Java 8 or above you should use the above serializers/deserializers like so:</p>\n\n<pre><code>JsonSerializer&lt;Date&gt; ser = (src, typeOfSrc, context) -&gt; src == null ? null\n            : new JsonPrimitive(src.getTime());\n\nJsonDeserializer&lt;Date&gt; deser = (jSon, typeOfT, context) -&gt; jSon == null ? null : new Date(jSon.getAsLong());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":356850,"reputation":18179,"user_id":696632,"accept_rate":62,"display_name":"Michael-O"},"comment_count":0,"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1676845753,"creation_date":1311954260,"answer_id":6875646,"question_id":6873020,"body_markdown":"This won&#39;t really work at all. There is no date type in JSON. I would recommend to serialize to [ISO&#160;8601][1] back and forth (for format agnostics and JS compat). Consider that you have to know which fields contain dates.\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/ISO_8601","title":"GSON - Date format","body":"<p>This won't really work at all. There is no date type in JSON. I would recommend to serialize to <a href=\"https://en.wikipedia.org/wiki/ISO_8601\" rel=\"nofollow noreferrer\">ISO8601</a> back and forth (for format agnostics and JS compat). Consider that you have to know which fields contain dates.</p>\n"},{"tags":[],"owner":{"account_id":149142,"reputation":1772,"user_id":361414,"display_name":"Milanka"},"comment_count":0,"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1353574136,"creation_date":1353574136,"answer_id":13508809,"question_id":6873020,"body_markdown":"As M.L. pointed out, JsonSerializer works here. However, if you are formatting database entities, use java.sql.Date to register you serializer. Deserializer is not needed.\r\n\r\n    Gson gson = new GsonBuilder()\r\n       .registerTypeAdapter(java.sql.Date.class, ser).create();\r\n\r\nThis bug report might be related: http://code.google.com/p/google-gson/issues/detail?id=230. I use version 1.7.2 though.","title":"GSON - Date format","body":"<p>As M.L. pointed out, JsonSerializer works here. However, if you are formatting database entities, use java.sql.Date to register you serializer. Deserializer is not needed.</p>\n\n<pre><code>Gson gson = new GsonBuilder()\n   .registerTypeAdapter(java.sql.Date.class, ser).create();\n</code></pre>\n\n<p>This bug report might be related: <a href=\"http://code.google.com/p/google-gson/issues/detail?id=230\" rel=\"noreferrer\">http://code.google.com/p/google-gson/issues/detail?id=230</a>. I use version 1.7.2 though.</p>\n"},{"comments":[{"owner":{"account_id":470583,"reputation":1801,"user_id":877856,"accept_rate":20,"display_name":"tj-recess"},"score":1,"creation_date":1422582935,"post_id":26631632,"comment_id":44819040,"body_markdown":"@Abhi - Why is quoting &#39;Z&#39; necessary?","body":"@Abhi - Why is quoting &#39;Z&#39; necessary?"},{"owner":{"account_id":3851263,"reputation":98,"user_id":3191399,"display_name":"Abhi"},"score":1,"creation_date":1422618191,"post_id":26631632,"comment_id":44831818,"body_markdown":"I tried without quotes and gson threw Exception that the date is not parseable. Does it work for you without quotes?","body":"I tried without quotes and gson threw Exception that the date is not parseable. Does it work for you without quotes?"},{"owner":{"account_id":1596239,"reputation":5767,"user_id":1478296,"accept_rate":57,"display_name":"Billda"},"score":9,"creation_date":1459770095,"post_id":26631632,"comment_id":60419652,"body_markdown":"ThIs is NOT right solution .. the Z means timezone and it represents UTC timezone, if you hardcode it like this you&#39;ll lost that info","body":"ThIs is NOT right solution .. the Z means timezone and it represents UTC timezone, if you hardcode it like this you&#39;ll lost that info"},{"owner":{"account_id":1954792,"reputation":5618,"user_id":1758051,"accept_rate":52,"display_name":"AgilePro"},"score":0,"creation_date":1667969848,"post_id":26631632,"comment_id":131292351,"body_markdown":"This is 8601 format which is right.  The Z means UTC, but I am not sure how you set the time zone on the Gson object.  That must be set as well or you will get the default time zone I would bet.","body":"This is 8601 format which is right.  The Z means UTC, but I am not sure how you set the time zone on the Gson object.  That must be set as well or you will get the default time zone I would bet."}],"tags":[],"owner":{"account_id":470583,"reputation":1801,"user_id":877856,"accept_rate":20,"display_name":"tj-recess"},"comment_count":4,"down_vote_count":2,"up_vote_count":95,"is_accepted":false,"score":93,"last_activity_date":1591191360,"creation_date":1414589272,"answer_id":26631632,"question_id":6873020,"body_markdown":"    Gson gson = new GsonBuilder().setDateFormat(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSSZ&quot;).create();\r\n\r\nAbove format seems better to me as it has precision up to millis.","title":"GSON - Date format","body":"<pre><code>Gson gson = new GsonBuilder().setDateFormat(\"yyyy-MM-dd'T'HH:mm:ss.SSSZ\").create();\n</code></pre>\n\n<p>Above format seems better to me as it has precision up to millis.</p>\n"},{"tags":[],"owner":{"account_id":1601221,"reputation":3223,"user_id":1482207,"accept_rate":60,"display_name":"Abhijit Chakra"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1441882459,"creation_date":1441882459,"answer_id":32499935,"question_id":6873020,"body_markdown":"You can specify you format `Gson gson = builder.setDateFormat(&quot;yyyy-MM-dd&quot;).create();`    in this method instead of `yyyy-MM-dd` you can use anyother formats \r\n\r\n\r\n     GsonBuilder builder = new GsonBuilder();\r\n        \t\t\t\t\tbuilder.registerTypeAdapter(Date.class, new JsonDeserializer&lt;Date&gt;() {\r\n        \t\t\t\t\t\tpublic Date deserialize(JsonElement json, Type typeOfT, JsonDeserializationContext context) throws JsonParseException {\r\n        \t\t\t\t\t\t\treturn new Date(json.getAsJsonPrimitive().getAsLong());\r\n        \t\t\t\t\t\t}\r\n        \t\t\t\t\t});\r\n        \t\t\t\t\t\r\n        \t\t\t\t\tGson gson = builder.setDateFormat(&quot;yyyy-MM-dd&quot;).create();","title":"GSON - Date format","body":"<p>You can specify you format <code>Gson gson = builder.setDateFormat(\"yyyy-MM-dd\").create();</code>    in this method instead of <code>yyyy-MM-dd</code> you can use anyother formats </p>\n\n<pre><code> GsonBuilder builder = new GsonBuilder();\n                        builder.registerTypeAdapter(Date.class, new JsonDeserializer&lt;Date&gt;() {\n                            public Date deserialize(JsonElement json, Type typeOfT, JsonDeserializationContext context) throws JsonParseException {\n                                return new Date(json.getAsJsonPrimitive().getAsLong());\n                            }\n                        });\n\n                        Gson gson = builder.setDateFormat(\"yyyy-MM-dd\").create();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":12881177,"reputation":879,"user_id":9316168,"display_name":"gmk57"},"score":1,"creation_date":1537789262,"post_id":35612915,"comment_id":91898079,"body_markdown":"It seems that null check can be omitted (Gson does it itself):\n`Gson gson = new GsonBuilder().registerTypeAdapter(Date.class, (JsonDeserializer) (json, typeOfT, context) -&gt; new Date(json.getAsLong())).create();`","body":"It seems that null check can be omitted (Gson does it itself): <code>Gson gson = new GsonBuilder().registerTypeAdapter(Date.class, (JsonDeserializer) (json, typeOfT, context) -&gt; new Date(json.getAsLong())).create();</code>"}],"tags":[],"owner":{"account_id":3386472,"reputation":4990,"user_id":2842342,"accept_rate":52,"display_name":"Karthik"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1456347371,"creation_date":1456347371,"answer_id":35612915,"question_id":6873020,"body_markdown":"In case if you hate Inner classes, by taking the advantage of functional interface you can write less code in **Java 8** with a lambda expression.\r\n\r\n    JsonDeserializer&lt;Date&gt; dateJsonDeserializer = \r\n         (json, typeOfT, context) -&gt; json == null ? null : new Date(json.getAsLong());\r\n    Gson gson = new GsonBuilder().registerTypeAdapter(Date.class,dateJsonDeserializer).create();\r\n\r\n","title":"GSON - Date format","body":"<p>In case if you hate Inner classes, by taking the advantage of functional interface you can write less code in <strong>Java 8</strong> with a lambda expression.</p>\n\n<pre><code>JsonDeserializer&lt;Date&gt; dateJsonDeserializer = \n     (json, typeOfT, context) -&gt; json == null ? null : new Date(json.getAsLong());\nGson gson = new GsonBuilder().registerTypeAdapter(Date.class,dateJsonDeserializer).create();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5384013,"reputation":6035,"user_id":4288506,"accept_rate":77,"display_name":"Marcono1234"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1557171849,"creation_date":1557171849,"answer_id":56011429,"question_id":6873020,"body_markdown":"This is a [bug](https://github.com/google/gson/issues/1529). Currently you either have to set a `timeStyle` as well or use one of the alternatives described in the other answers.","title":"GSON - Date format","body":"<p>This is a <a href=\"https://github.com/google/gson/issues/1529\" rel=\"nofollow noreferrer\">bug</a>. Currently you either have to set a <code>timeStyle</code> as well or use one of the alternatives described in the other answers.</p>\n"},{"comments":[{"owner":{"account_id":1255814,"reputation":13493,"user_id":1215291,"accept_rate":72,"display_name":"Kamil"},"score":0,"creation_date":1638623197,"post_id":60081130,"comment_id":124140053,"body_markdown":"&quot;I don&#39;t think it&#39;s good practice to use try/catch blocks&quot; It is good practice to use them, it is bad if you want to control normal program flow with try/catch.","body":"&quot;I don&#39;t think it&#39;s good practice to use try/catch blocks&quot; It is good practice to use them, it is bad if you want to control normal program flow with try/catch."},{"owner":{"account_id":13003328,"reputation":106,"user_id":9398719,"display_name":"Joe Ciaramitaro"},"score":0,"creation_date":1638729084,"post_id":60081130,"comment_id":124159857,"body_markdown":"Kamil, that is what I meant. But upon rereading my answer, I agree with you that clarification is necessary","body":"Kamil, that is what I meant. But upon rereading my answer, I agree with you that clarification is necessary"}],"tags":[],"owner":{"account_id":13003328,"reputation":106,"user_id":9398719,"display_name":"Joe Ciaramitaro"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638729054,"creation_date":1580923762,"answer_id":60081130,"question_id":6873020,"body_markdown":"I&#39;m on Gson 2.8.6 and discovered this bug today.\r\n\r\nMy approach allows all our existing clients (mobile/web/etc) to continue functioning as they were, but adds some handling for those using 24h formats and allows millis too, for good measure.\r\n\r\n    Gson rawGson = new Gson();\r\n    SimpleDateFormat fmt = new SimpleDateFormat(&quot;MMM d, yyyy HH:mm:ss&quot;)\r\n    private class DateDeserializer implements JsonDeserializer&lt;Date&gt; {\r\n    \t@Override\r\n    \tpublic Date deserialize(JsonElement json, Type typeOfT, JsonDeserializationContext context)\r\n    \t\t\tthrows JsonParseException {\r\n    \t\ttry {\r\n    \t\t\treturn new rawGson.fromJson(json, Date.class);\r\n    \t\t} catch (JsonSyntaxException e) {}\r\n    \t\tString timeString = json.getAsString();\r\n    \t\tlog.warning(&quot;Standard date deserialization didn&#39;t work:&quot; + timeString);\r\n    \t\ttry {\r\n    \t\t\treturn fmt.parse(timeString);\r\n    \t\t} catch (ParseException e) {}\r\n    \t\tlog.warning(&quot;Parsing as json 24 didn&#39;t work:&quot; + timeString);\r\n    \t\treturn new Date(json.getAsLong());\r\n    \t}\r\n    }\r\n\r\n    Gson gson = new GsonBuilder()\r\n        .registerTypeAdapter(Date.class, new DateDeserializer())\r\n        .create();\r\n\r\nI kept serialization the same as all clients understand the standard json date format.\r\n\r\nOrdinarily, I don&#39;t think it&#39;s good practice to use try/catch blocks to govern flow control, but this should be a fairly rare case.","title":"GSON - Date format","body":"<p>I'm on Gson 2.8.6 and discovered this bug today.</p>\n<p>My approach allows all our existing clients (mobile/web/etc) to continue functioning as they were, but adds some handling for those using 24h formats and allows millis too, for good measure.</p>\n<pre><code>Gson rawGson = new Gson();\nSimpleDateFormat fmt = new SimpleDateFormat(&quot;MMM d, yyyy HH:mm:ss&quot;)\nprivate class DateDeserializer implements JsonDeserializer&lt;Date&gt; {\n    @Override\n    public Date deserialize(JsonElement json, Type typeOfT, JsonDeserializationContext context)\n            throws JsonParseException {\n        try {\n            return new rawGson.fromJson(json, Date.class);\n        } catch (JsonSyntaxException e) {}\n        String timeString = json.getAsString();\n        log.warning(&quot;Standard date deserialization didn't work:&quot; + timeString);\n        try {\n            return fmt.parse(timeString);\n        } catch (ParseException e) {}\n        log.warning(&quot;Parsing as json 24 didn't work:&quot; + timeString);\n        return new Date(json.getAsLong());\n    }\n}\n\nGson gson = new GsonBuilder()\n    .registerTypeAdapter(Date.class, new DateDeserializer())\n    .create();\n</code></pre>\n<p>I kept serialization the same as all clients understand the standard json date format.</p>\n<p>Ordinarily, I don't think it's good practice to use try/catch blocks to govern flow control, but this should be a fairly rare case.</p>\n"}],"owner":{"account_id":365108,"reputation":5371,"user_id":709863,"accept_rate":81,"display_name":"St&#233;phane Piette"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":267022,"favorite_count":0,"down_vote_count":0,"up_vote_count":213,"accepted_answer_id":6875295,"answer_count":8,"score":213,"last_activity_date":1676845753,"creation_date":1311942287,"question_id":6873020,"body_markdown":"I&#39;m trying to have a custom date format in Gson output, but `.setDateFormat(DateFormat.FULL)` doesn&#39;t seem to work and it the same with `.registerTypeAdapter(Date.class, new DateSerializer())`.\r\n\r\nIt&#39;s like Gson doesn&#39;t care about the object &quot;Date&quot; and print it in its way.\r\n\r\nHow can I change that?\r\n\r\nThanks\r\n\r\nEDIT: \r\n\r\n    @Entity\r\n    public class AdviceSheet {\r\n      public Date lastModif;\r\n    [...]\r\n    }\r\n\r\n    public void method {\r\n       Gson gson = new GsonBuilder().setDateFormat(DateFormat.LONG).create();\r\n       System.out.println(gson.toJson(adviceSheet);\r\n    }\r\n\r\nI always use `java.util.Date`; `setDateFormat()` doesn&#39;t work :(\r\n\r\n\r\n","title":"GSON - Date format","body":"<p>I'm trying to have a custom date format in Gson output, but <code>.setDateFormat(DateFormat.FULL)</code> doesn't seem to work and it the same with <code>.registerTypeAdapter(Date.class, new DateSerializer())</code>.</p>\n\n<p>It's like Gson doesn't care about the object \"Date\" and print it in its way.</p>\n\n<p>How can I change that?</p>\n\n<p>Thanks</p>\n\n<p>EDIT: </p>\n\n<pre><code>@Entity\npublic class AdviceSheet {\n  public Date lastModif;\n[...]\n}\n\npublic void method {\n   Gson gson = new GsonBuilder().setDateFormat(DateFormat.LONG).create();\n   System.out.println(gson.toJson(adviceSheet);\n}\n</code></pre>\n\n<p>I always use <code>java.util.Date</code>; <code>setDateFormat()</code> doesn't work :(</p>\n"},{"tags":["java","multithreading","interrupt"],"comments":[{"owner":{"account_id":9,"reputation":220303,"user_id":13,"accept_rate":100,"display_name":"C. K. Young"},"score":2,"creation_date":1269196689,"post_id":2488165,"comment_id":2481182,"body_markdown":"@Jamie: No way Jose. This is a legitimate &quot;standard&quot; question.","body":"@Jamie: No way Jose. This is a legitimate &quot;standard&quot; question."},{"owner":{"account_id":9,"reputation":220303,"user_id":13,"accept_rate":100,"display_name":"C. K. Young"},"score":0,"creation_date":1269197399,"post_id":2488165,"comment_id":2481234,"body_markdown":"@OP: Re your edit: You have to reassert the interrupted status (see my post) in the `catch` block (for your `Timer.sleep`).","body":"@OP: Re your edit: You have to reassert the interrupted status (see my post) in the <code>catch</code> block (for your <code>Timer.sleep</code>)."},{"owner":{"account_id":76125,"reputation":9806,"user_id":218159,"accept_rate":99,"display_name":"Jamie Keeling"},"score":0,"creation_date":1269197898,"post_id":2488165,"comment_id":2481278,"body_markdown":"My mistake, I read the question incorrectly.","body":"My mistake, I read the question incorrectly."},{"owner":{"account_id":1369786,"reputation":73221,"user_id":1305344,"accept_rate":70,"display_name":"Jacek Laskowski"},"score":1,"creation_date":1362964535,"post_id":2488165,"comment_id":21647823,"body_markdown":"It&#39;s a code review-like question (not sure if there&#39;s a place for this in SO) and a potential duplicate of http://stackoverflow.com/q/3590000/1305344. I think the question should be ditched/closed/redirected.","body":"It&#39;s a code review-like question (not sure if there&#39;s a place for this in SO) and a potential duplicate of <a href=\"http://stackoverflow.com/q/3590000/1305344\">stackoverflow.com/q/3590000/1305344</a>. I think the question should be ditched/closed/redirected."}],"answers":[{"comments":[{"owner":{"account_id":9,"reputation":220303,"user_id":13,"accept_rate":100,"display_name":"C. K. Young"},"score":0,"creation_date":1269196084,"post_id":2488186,"comment_id":2481123,"body_markdown":"@Ricket: No it&#39;s not! It&#39;s still the standard way to interrupt a thread, because it works on a cooperative basis. Read Java Concurrency in Practice for more details.","body":"@Ricket: No it&#39;s not! It&#39;s still the standard way to interrupt a thread, because it works on a cooperative basis. Read Java Concurrency in Practice for more details."},{"owner":{"account_id":20039,"reputation":33532,"user_id":47493,"accept_rate":96,"display_name":"Ricket"},"score":0,"creation_date":1269196363,"post_id":2488186,"comment_id":2481148,"body_markdown":"@Chris I realized it and deleted my comment just after posting it; I was thinking of `stop()`.","body":"@Chris I realized it and deleted my comment just after posting it; I was thinking of <code>stop()</code>."}],"tags":[],"owner":{"account_id":5749,"reputation":17554,"user_id":9425,"accept_rate":80,"display_name":"Midhat"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1269195938,"creation_date":1269195938,"answer_id":2488186,"question_id":2488165,"body_markdown":"Yes it is the way to go","title":"Is it a good way to close a thread?","body":"<p>Yes it is the way to go</p>\n"},{"comments":[{"owner":{"account_id":9,"reputation":220303,"user_id":13,"accept_rate":100,"display_name":"C. K. Young"},"score":1,"creation_date":1269196121,"post_id":2488194,"comment_id":2481131,"body_markdown":"No, bad idea. Java has a built-in mechanism for signalling whether a thread should stop (interruption); don&#39;t subvert it.","body":"No, bad idea. Java has a built-in mechanism for signalling whether a thread should stop (interruption); don&#39;t subvert it."},{"owner":{"account_id":65732,"reputation":15928,"user_id":193256,"accept_rate":65,"display_name":"pajton"},"score":0,"creation_date":1269196202,"post_id":2488194,"comment_id":2481136,"body_markdown":"+1. IMO it is prefferable to have your own flag saying whether the Thread should be running. I do not remember where did that knowledge come from, but I just remember this is the best way to do that:).","body":"+1. IMO it is prefferable to have your own flag saying whether the Thread should be running. I do not remember where did that knowledge come from, but I just remember this is the best way to do that:)."},{"owner":{"account_id":9,"reputation":220303,"user_id":13,"accept_rate":100,"display_name":"C. K. Young"},"score":0,"creation_date":1269196363,"post_id":2488194,"comment_id":2481149,"body_markdown":"@pajton: The interrupted flag _is_ such a flag, except that it&#39;s also honoured by the JDK libraries (such as `Thread.sleep` or `Object.wait`), whereas a hand-rolled flag won&#39;t be observed by any of the standard libraries.","body":"@pajton: The interrupted flag <i>is</i> such a flag, except that it&#39;s also honoured by the JDK libraries (such as <code>Thread.sleep</code> or <code>Object.wait</code>), whereas a hand-rolled flag won&#39;t be observed by any of the standard libraries."},{"owner":{"account_id":24075,"reputation":29658,"user_id":60956,"accept_rate":85,"display_name":"Joel"},"score":0,"creation_date":1269196405,"post_id":2488194,"comment_id":2481157,"body_markdown":"Thread.interrupt() is the best way to stop a thread, always ensuring that Thread.currentThread.interrupt() is called as per Chris&#39;s answer.\nhttp://cretesoft.com/archive/Issue146.html","body":"Thread.interrupt() is the best way to stop a thread, always ensuring that Thread.currentThread.interrupt() is called as per Chris&#39;s answer. <a href=\"http://cretesoft.com/archive/Issue146.html\" rel=\"nofollow noreferrer\">cretesoft.com/archive/Issue146.html</a>"},{"owner":{"account_id":24075,"reputation":29658,"user_id":60956,"accept_rate":85,"display_name":"Joel"},"score":0,"creation_date":1269196490,"post_id":2488194,"comment_id":2481162,"body_markdown":"@pajtron - a Thread should not only respond when it thinks it should cease to run but also when any external actors wish to stop it - which is what the interrupt mechanism is for.","body":"@pajtron - a Thread should not only respond when it thinks it should cease to run but also when any external actors wish to stop it - which is what the interrupt mechanism is for."},{"owner":{"account_id":65732,"reputation":15928,"user_id":193256,"accept_rate":65,"display_name":"pajton"},"score":0,"creation_date":1269196710,"post_id":2488194,"comment_id":2481184,"body_markdown":"@chris, @joel I do not like this interrupting mechanism, because of weird behaviour of this flag. If you catch an InterruptedException you have to set the flag by yourself, when you call Thread.interrupted() it is cleared as well...You need to be very careful not to make mistake with it. Can you think of a good example where a user defined flag would be worse that using interruption mechanism?","body":"@chris, @joel I do not like this interrupting mechanism, because of weird behaviour of this flag. If you catch an InterruptedException you have to set the flag by yourself, when you call Thread.interrupted() it is cleared as well...You need to be very careful not to make mistake with it. Can you think of a good example where a user defined flag would be worse that using interruption mechanism?"},{"owner":{"account_id":9,"reputation":220303,"user_id":13,"accept_rate":100,"display_name":"C. K. Young"},"score":0,"creation_date":1269196841,"post_id":2488194,"comment_id":2481192,"body_markdown":"@pajton: If you are using built-in JDK mechanisms, such as `Thread.sleep`, or `Object.wait`, those functions can&#39;t see your user-defined flag (and therefore will keep waiting). If the interrupted flag is set, they will throw an `InterruptedException` straight away.","body":"@pajton: If you are using built-in JDK mechanisms, such as <code>Thread.sleep</code>, or <code>Object.wait</code>, those functions can&#39;t see your user-defined flag (and therefore will keep waiting). If the interrupted flag is set, they will throw an <code>InterruptedException</code> straight away."},{"owner":{"account_id":65732,"reputation":15928,"user_id":193256,"accept_rate":65,"display_name":"pajton"},"score":0,"creation_date":1269197671,"post_id":2488194,"comment_id":2481259,"body_markdown":"@chris When I use my own flag I would do something like thread.setRunning(false); thread.interrupt(). Hm, then it gets down to not having to care about interrupted flag weird behviour.","body":"@chris When I use my own flag I would do something like thread.setRunning(false); thread.interrupt(). Hm, then it gets down to not having to care about interrupted flag weird behviour."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1269215361,"post_id":2488194,"comment_id":2482545,"body_markdown":"I don&#39;t see the point of posting what *not* to do here. All it can do is confuse people.\n\nIt&#39;s difficult to imagine a practical case where you didn&#39;t want Thread.interrupt()&#39;s own boolean with its extra semantics.","body":"I don&#39;t see the point of posting what <i>not</i> to do here. All it can do is confuse people.  It&#39;s difficult to imagine a practical case where you didn&#39;t want Thread.interrupt()&#39;s own boolean with its extra semantics."},{"owner":{"account_id":20039,"reputation":33532,"user_id":47493,"accept_rate":96,"display_name":"Ricket"},"score":0,"creation_date":1269281982,"post_id":2488194,"comment_id":2488530,"body_markdown":"Take for instance Roman&#39;s link. That person may have benefited from looking at this page and going &quot;why would you use an interrupt when you could just use a boolean?&quot; - if he would then see my un-answer and realize that his method is in fact the same as the one I originally gave then he might be more open to this change. With the big bolded warning message, I don&#39;t think it&#39;s hurting anything.","body":"Take for instance Roman&#39;s link. That person may have benefited from looking at this page and going &quot;why would you use an interrupt when you could just use a boolean?&quot; - if he would then see my un-answer and realize that his method is in fact the same as the one I originally gave then he might be more open to this change. With the big bolded warning message, I don&#39;t think it&#39;s hurting anything."}],"tags":[],"owner":{"account_id":20039,"reputation":33532,"user_id":47493,"accept_rate":96,"display_name":"Ricket"},"comment_count":10,"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1676845506,"creation_date":1269196023,"answer_id":2488194,"question_id":2488165,"body_markdown":"Edit/Preamble\r\n---\r\n\r\nI&#39;d like to edit and note that I&#39;ve learned a lesson here today. There&#39;s no reason to implement a boolean as I explain in the following two paragraphs; the interrupt mechanism does that for me. For some reason I had assumed that &quot;interrupt&quot; stops the thread dead in its tracks (I don&#39;t know what I thought isInterrupted() did then!).\r\n\r\nSo, **here is an example of what not to do.** Keep on using your interrupt technique!\r\n\r\nOriginal answer\r\n---\r\n\r\nI tend to avoid interrupt, but especially to stop a thread. In your case, you&#39;re trying to use interrupt() as an alternative to stop(), which has been deprecated for good reason. All you need to do is declare a boolean which represents whether the thread should stop counting, and have the thread continuously check that boolean value. Then, when the parent thread is ready for the counter to stop, it should set the boolean to true (stop), which will cause the counter thread to stop as soon as it checks the value again.\r\n\r\nIn your Counter thread&#39;s anonymous class definition, add `public volatile boolean shouldStop;`. At the beginning of `run()`, set `shouldStop = false;`. Then replace all `Thread.interrupted()` with `shouldStop` (in your `if` statements). Finally, instead of calling `counter.interrupt()`, just say `counter.shouldStop = true;`. You can additionally call `counter.join()` right after setting `shouldStop=true` if you want to ensure that counter has stopped before continuing.","title":"Is it a good way to close a thread?","body":"<h2>Edit/Preamble</h2>\n<p>I'd like to edit and note that I've learned a lesson here today. There's no reason to implement a boolean as I explain in the following two paragraphs; the interrupt mechanism does that for me. For some reason I had assumed that &quot;interrupt&quot; stops the thread dead in its tracks (I don't know what I thought isInterrupted() did then!).</p>\n<p>So, <strong>here is an example of what not to do.</strong> Keep on using your interrupt technique!</p>\n<h2>Original answer</h2>\n<p>I tend to avoid interrupt, but especially to stop a thread. In your case, you're trying to use interrupt() as an alternative to stop(), which has been deprecated for good reason. All you need to do is declare a boolean which represents whether the thread should stop counting, and have the thread continuously check that boolean value. Then, when the parent thread is ready for the counter to stop, it should set the boolean to true (stop), which will cause the counter thread to stop as soon as it checks the value again.</p>\n<p>In your Counter thread's anonymous class definition, add <code>public volatile boolean shouldStop;</code>. At the beginning of <code>run()</code>, set <code>shouldStop = false;</code>. Then replace all <code>Thread.interrupted()</code> with <code>shouldStop</code> (in your <code>if</code> statements). Finally, instead of calling <code>counter.interrupt()</code>, just say <code>counter.shouldStop = true;</code>. You can additionally call <code>counter.join()</code> right after setting <code>shouldStop=true</code> if you want to ensure that counter has stopped before continuing.</p>\n"},{"comments":[{"owner":{"account_id":88863,"reputation":126169,"user_id":245549,"accept_rate":66,"display_name":"Roman"},"score":0,"creation_date":1269198089,"post_id":2488197,"comment_id":2481292,"body_markdown":"Chris Jester-Young, I do not understand when the InterruptedException will be thrown? Whenever I interrupt the thread? So, I do not need to us `if (Thread.interrupted())` at all?","body":"Chris Jester-Young, I do not understand when the InterruptedException will be thrown? Whenever I interrupt the thread? So, I do not need to us <code>if (Thread.interrupted())</code> at all?"},{"owner":{"account_id":9,"reputation":220303,"user_id":13,"accept_rate":100,"display_name":"C. K. Young"},"score":1,"creation_date":1269198293,"post_id":2488197,"comment_id":2481300,"body_markdown":"@Roman: `InterruptedException` is thrown if the interrupted flag is set at the time `Thread.sleep` is called, or if the thread is interrupted sometime during the sleep. If you&#39;re not calling one of the &quot;waiting&quot; functions, no `InterruptedException` is thrown, so you must check it yourself.","body":"@Roman: <code>InterruptedException</code> is thrown if the interrupted flag is set at the time <code>Thread.sleep</code> is called, or if the thread is interrupted sometime during the sleep. If you&#39;re not calling one of the &quot;waiting&quot; functions, no <code>InterruptedException</code> is thrown, so you must check it yourself."},{"owner":{"account_id":9,"reputation":220303,"user_id":13,"accept_rate":100,"display_name":"C. K. Young"},"score":1,"creation_date":1269198362,"post_id":2488197,"comment_id":2481309,"body_markdown":"@Roman: When an `InterruptedException` is thrown, the interrupted flag is cleared. So, you must set it again if you have later code that checks it. That&#39;s what the `Thread.currentThread().interrupt()` does.","body":"@Roman: When an <code>InterruptedException</code> is thrown, the interrupted flag is cleared. So, you must set it again if you have later code that checks it. That&#39;s what the <code>Thread.currentThread().interrupt()</code> does."},{"owner":{"account_id":88863,"reputation":126169,"user_id":245549,"accept_rate":66,"display_name":"Roman"},"score":0,"creation_date":1269198461,"post_id":2488197,"comment_id":2481315,"body_markdown":"Chris Jester-Young, I did it in a way you proposed. It works! But it looks to me that the exception is thrown by the `sleep`. So, if I interrupt the thread when it sleeps it will work (the thread will be interrupted). But what if I interrupt the thread when it does not sleep?","body":"Chris Jester-Young, I did it in a way you proposed. It works! But it looks to me that the exception is thrown by the <code>sleep</code>. So, if I interrupt the thread when it sleeps it will work (the thread will be interrupted). But what if I interrupt the thread when it does not sleep?"},{"owner":{"account_id":9,"reputation":220303,"user_id":13,"accept_rate":100,"display_name":"C. K. Young"},"score":0,"creation_date":1269198747,"post_id":2488197,"comment_id":2481329,"body_markdown":"@Roman: If your thread does not sleep or wait in any way, then you must check the interrupted flag yourself. I&#39;ve added some notes to my post to explain how that works.","body":"@Roman: If your thread does not sleep or wait in any way, then you must check the interrupted flag yourself. I&#39;ve added some notes to my post to explain how that works."},{"owner":{"account_id":88863,"reputation":126169,"user_id":245549,"accept_rate":66,"display_name":"Roman"},"score":0,"creation_date":1269198771,"post_id":2488197,"comment_id":2481331,"body_markdown":"Do I correctly understand? The exception will be throw by the `sleep` even if the interrupt was called when the thread did not sleep. But the thread will be interrupted when it tries to sleep.","body":"Do I correctly understand? The exception will be throw by the <code>sleep</code> even if the interrupt was called when the thread did not sleep. But the thread will be interrupted when it tries to sleep."}],"tags":[],"owner":{"account_id":9,"reputation":220303,"user_id":13,"accept_rate":100,"display_name":"C. K. Young"},"comment_count":6,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1269198704,"creation_date":1269196047,"answer_id":2488197,"question_id":2488165,"body_markdown":"Pretty close to the right idea. However, in your `catch (InterruptedException)` you should have:\r\n\r\n    Thread.currentThread().interrupt();\r\n\r\nso that the interrupted status goes on again, and doesn&#39;t do the stuff in the second block.\r\n\r\n---\r\n\r\nEdit to make my point clearer (because the OP&#39;s edit seems to have missed my initial point :-P): you should write your code like this:\r\n\r\n    try {\r\n        for (int = 40; i &gt; 0; --i) {\r\n            updateGUI(i, label);\r\n            Thread.sleep(1000);\r\n        }\r\n    } catch (InterruptedException e) {\r\n        Thread.currentThread().interrupt();  // &lt;-- THIS LINE IS IMPORTANT\r\n    }\r\n\r\n---\r\n\r\nSecond edit to explain what interruption does. :-)\r\n\r\nWhen you call `thread.interrupt()`, that thread&#39;s _interrupted flag_ is set. That flag doesn&#39;t do anything on its own; it&#39;s just a variable. The reason for this is because interruption supports something called &quot;cooperative thread management&quot;, where the thread&#39;s running code decides what to do when interrupted (rather than being forced to quit on the spot).\r\n\r\nSome functions built into the JDK, like `Thread.sleep`, or `Object.wait`, or `Lock.lockInterruptibly`,  will _check_ the flag, and if it&#39;s set, then it&#39;ll throw an `InterruptedException` after clearing the flag.\r\n\r\nSo, if you&#39;re calling one of those functions, you don&#39;t need to manually check the interrupted flag. But if you&#39;re not, e.g., if you&#39;re doing intensive processing instead of waiting for something, then you should periodically check the flag.\r\n\r\nThere are two ways to check the flag:\r\n\r\n 1. `interrupted()`\r\n 1. `isInterrupted()`\r\n\r\nThe first one clears the interrupted flag; the second one doesn&#39;t. You have to decide which version is &quot;more correct&quot; for your application logic.","title":"Is it a good way to close a thread?","body":"<p>Pretty close to the right idea. However, in your <code>catch (InterruptedException)</code> you should have:</p>\n\n<pre><code>Thread.currentThread().interrupt();\n</code></pre>\n\n<p>so that the interrupted status goes on again, and doesn't do the stuff in the second block.</p>\n\n<hr>\n\n<p>Edit to make my point clearer (because the OP's edit seems to have missed my initial point :-P): you should write your code like this:</p>\n\n<pre><code>try {\n    for (int = 40; i &gt; 0; --i) {\n        updateGUI(i, label);\n        Thread.sleep(1000);\n    }\n} catch (InterruptedException e) {\n    Thread.currentThread().interrupt();  // &lt;-- THIS LINE IS IMPORTANT\n}\n</code></pre>\n\n<hr>\n\n<p>Second edit to explain what interruption does. :-)</p>\n\n<p>When you call <code>thread.interrupt()</code>, that thread's <em>interrupted flag</em> is set. That flag doesn't do anything on its own; it's just a variable. The reason for this is because interruption supports something called \"cooperative thread management\", where the thread's running code decides what to do when interrupted (rather than being forced to quit on the spot).</p>\n\n<p>Some functions built into the JDK, like <code>Thread.sleep</code>, or <code>Object.wait</code>, or <code>Lock.lockInterruptibly</code>,  will <em>check</em> the flag, and if it's set, then it'll throw an <code>InterruptedException</code> after clearing the flag.</p>\n\n<p>So, if you're calling one of those functions, you don't need to manually check the interrupted flag. But if you're not, e.g., if you're doing intensive processing instead of waiting for something, then you should periodically check the flag.</p>\n\n<p>There are two ways to check the flag:</p>\n\n<ol>\n<li><code>interrupted()</code></li>\n<li><code>isInterrupted()</code></li>\n</ol>\n\n<p>The first one clears the interrupted flag; the second one doesn't. You have to decide which version is \"more correct\" for your application logic.</p>\n"},{"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1269245284,"post_id":2488202,"comment_id":2484130,"body_markdown":"The link doesn&#39;t say &#39;it&#39;s considered a better way&#39; at all. It is an example of using a separate boolean but it doesn&#39;t even discuss Thread.isInterrupted() let alone say which is better. If it is better I would like to know why.","body":"The link doesn&#39;t say &#39;it&#39;s considered a better way&#39; at all. It is an example of using a separate boolean but it doesn&#39;t even discuss Thread.isInterrupted() let alone say which is better. If it is better I would like to know why."}],"tags":[],"owner":{"account_id":35487,"reputation":64776,"user_id":100516,"accept_rate":69,"display_name":"Roman"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1269196159,"creation_date":1269196159,"answer_id":2488202,"question_id":2488165,"body_markdown":"1. It&#39;s considered a better way ([link][1]) to use separate volatile variable (boolean isStopped) for this purpose.\r\n\r\n2. Assume that `interrupted()` method changes value from true to false if your thread was interrupted, i.e.:\r\n\r\n&lt;code&gt;\r\nSystem.out.println (Thread.interrupted()); //true\r\n\r\nSystem.out.println (Thread.interrupted()); //false\r\n&lt;/code&gt;\r\n\r\nThe alternative is `isInterrupted()` method.\r\n\r\n\r\n  [1]: http://www.java2s.com/Code/Java/Threads/Thesafewaytostopathread.htm","title":"Is it a good way to close a thread?","body":"<ol>\n<li><p>It's considered a better way (<a href=\"http://www.java2s.com/Code/Java/Threads/Thesafewaytostopathread.htm\" rel=\"nofollow noreferrer\">link</a>) to use separate volatile variable (boolean isStopped) for this purpose.</p></li>\n<li><p>Assume that <code>interrupted()</code> method changes value from true to false if your thread was interrupted, i.e.:</p></li>\n</ol>\n\n<p><code>\nSystem.out.println (Thread.interrupted()); //true</p>\n\n<p>System.out.println (Thread.interrupted()); //false\n</code></p>\n\n<p>The alternative is <code>isInterrupted()</code> method.</p>\n"},{"tags":[],"owner":{"account_id":7450,"reputation":269220,"user_id":12960,"display_name":"Brian Agnew"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1269196343,"creation_date":1269196343,"answer_id":2488213,"question_id":2488165,"body_markdown":"Check out this article from the [JavaSpecialists][1] newsletter, which covers how to `interrupt()` threads and manage this properly.\r\n\r\n\r\n  [1]: http://www.javaspecialists.eu/archive/Issue056.html","title":"Is it a good way to close a thread?","body":"<p>Check out this article from the <a href=\"http://www.javaspecialists.eu/archive/Issue056.html\" rel=\"nofollow noreferrer\">JavaSpecialists</a> newsletter, which covers how to <code>interrupt()</code> threads and manage this properly.</p>\n"}],"owner":{"account_id":88863,"reputation":126169,"user_id":245549,"accept_rate":66,"display_name":"Roman"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":469,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":2488197,"answer_count":5,"score":-1,"last_activity_date":1676845506,"creation_date":1269195723,"question_id":2488165,"body_markdown":"**I have a short version of the question:**\r\n\r\n1. I start a thread like that: `counter.start();`, where `counter` is a thread.\r\n2. At the point when I want to stop the thread I do that: `counter.interrupt()`\r\n3. In my thread I periodically do this check: `Thread.interrupted()`. If it gives `true` I `return` from the thread and, as a consequence, it stops.\r\n\r\n-----\r\n\r\n**And here are some details, if needed:**\r\n\r\nIf you need more details, they are here. From the invent dispatch thread I start a counter thread in this way:\r\n\r\n\tpublic static void start() {\r\n\t\tSwingUtilities.invokeLater(new Runnable() {\r\n\t\t\tpublic void run() {\r\n\t\t\t\tshowGUI();\r\n\t\t\t\tcounter.start();\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\nwhere the thread is defined like that:\r\n\r\n    public static Thread counter = new Thread() {\r\n        public void run() {\r\n            for (int i=4; i&gt;0; i=i-1) {\r\n                updateGUI(i,label);\r\n                try {Thread.sleep(1000);} catch(InterruptedException e) {};\r\n            }\r\n    \t\t\t// The time for the partner selection is over.\r\n            SwingUtilities.invokeLater(new Runnable() {\r\n    \t        \tpublic void run() {    \r\n            \t\tframe.remove(partnerSelectionPanel);\r\n            \t\tframe.add(selectionFinishedPanel);\r\n            \t\tframe.invalidate();\r\n            \t\tframe.validate();\r\n        \t\t}\r\n        \t});\r\n        }\r\n    };\r\n\r\nThe thread performs countdown in the &quot;first&quot; window (it shows home much time left). If time limit is over, the thread close the &quot;first&quot; window and generate a new one. I want to modify my thread in the following way:\r\n\r\n    public static Thread counter = new Thread() {\r\n        public void run() {\r\n            for (int i=4; i&gt;0; i=i-1) {\r\n                if (!Thread.interrupted()) {\r\n                    updateGUI(i,label);\r\n                } else {\r\n                    return;\r\n                }\r\n                try {Thread.sleep(1000);} catch(InterruptedException e) {};\r\n            }\r\n    \t    // The time for the partner selection is over.\r\n            if (!Thread.interrupted()) {\r\n                SwingUtilities.invokeLater(new Runnable() {\r\n    \t        \tpublic void run() {    \r\n            \t\tframe.remove(partnerSelectionPanel);\r\n            \t\tframe.add(selectionFinishedPanel);\r\n            \t\tframe.invalidate();\r\n            \t\tframe.validate();\r\n        \t\t}\r\n        \t});\r\n            } else {\r\n                return;\r\n            } \r\n        }\r\n    };\r\n\r\n-------\r\n\r\n**ADDED:**\r\n\r\nBecause of some reasons it does not work. I have a method which interrupts the thread:\r\n\r\n\tpublic static void partnerSelected() {\r\n\t\tSystem.out.println(&quot;The button is pressed!!!!&quot;);\r\n\t\tcounter.interrupt();\r\n\t}\r\n\r\nThis method is activated when a button is pressed. When I press the button I see the corresponding output in the terminal (so this method is activated and it does something). But because of some reasons it does not interrupt the thread. Here is the code for the thread:\r\n\r\n    public static Thread counter = new Thread() {\r\n        public void run() {\r\n            for (int i=40; i&gt;0; i=i-1) {\r\n    \t            if (Thread.interrupted()) {\r\n    \t\t            System.out.println(&quot;Helloo!!!!!!!!!!!!!!!&quot;);\r\n    \t\t            return;\r\n    \t            }\r\n                updateGUI(i,label); \r\n                try {Thread.sleep(1000);} catch(InterruptedException e) {};\r\n            }\r\n    \t\t\t// The time for the partner selection is over.\r\n    \t\t\tif (Thread.interrupted()) {\r\n    \t\t\t\tSystem.out.println(&quot;Helloo!!!!!!!!!!!!!!!&quot;);\r\n    \t\t\t\treturn;\r\n    \t\t\t}\r\n            SwingUtilities.invokeLater(new Runnable() {\r\n    \t        \tpublic void run() {    \r\n            \t\tframe.remove(partnerSelectionPanel);\r\n            \t\tframe.add(selectionFinishedPanel);\r\n            \t\tframe.invalidate();\r\n            \t\tframe.validate();\r\n        \t\t}\r\n        \t});\r\n        }\r\n    };\r\n\r\nP.S. I do not see &quot;Hello!!!!!!!!!!!!!&quot; in the terminal...","title":"Is it a good way to close a thread?","body":"<p><strong>I have a short version of the question:</strong></p>\n\n<ol>\n<li>I start a thread like that: <code>counter.start();</code>, where <code>counter</code> is a thread.</li>\n<li>At the point when I want to stop the thread I do that: <code>counter.interrupt()</code></li>\n<li>In my thread I periodically do this check: <code>Thread.interrupted()</code>. If it gives <code>true</code> I <code>return</code> from the thread and, as a consequence, it stops.</li>\n</ol>\n\n<hr>\n\n<p><strong>And here are some details, if needed:</strong></p>\n\n<p>If you need more details, they are here. From the invent dispatch thread I start a counter thread in this way:</p>\n\n<pre><code>public static void start() {\n    SwingUtilities.invokeLater(new Runnable() {\n        public void run() {\n            showGUI();\n            counter.start();\n        }\n    });\n}\n</code></pre>\n\n<p>where the thread is defined like that:</p>\n\n<pre><code>public static Thread counter = new Thread() {\n    public void run() {\n        for (int i=4; i&gt;0; i=i-1) {\n            updateGUI(i,label);\n            try {Thread.sleep(1000);} catch(InterruptedException e) {};\n        }\n            // The time for the partner selection is over.\n        SwingUtilities.invokeLater(new Runnable() {\n                public void run() {    \n                frame.remove(partnerSelectionPanel);\n                frame.add(selectionFinishedPanel);\n                frame.invalidate();\n                frame.validate();\n            }\n        });\n    }\n};\n</code></pre>\n\n<p>The thread performs countdown in the \"first\" window (it shows home much time left). If time limit is over, the thread close the \"first\" window and generate a new one. I want to modify my thread in the following way:</p>\n\n<pre><code>public static Thread counter = new Thread() {\n    public void run() {\n        for (int i=4; i&gt;0; i=i-1) {\n            if (!Thread.interrupted()) {\n                updateGUI(i,label);\n            } else {\n                return;\n            }\n            try {Thread.sleep(1000);} catch(InterruptedException e) {};\n        }\n        // The time for the partner selection is over.\n        if (!Thread.interrupted()) {\n            SwingUtilities.invokeLater(new Runnable() {\n                public void run() {    \n                frame.remove(partnerSelectionPanel);\n                frame.add(selectionFinishedPanel);\n                frame.invalidate();\n                frame.validate();\n            }\n        });\n        } else {\n            return;\n        } \n    }\n};\n</code></pre>\n\n<hr>\n\n<p><strong>ADDED:</strong></p>\n\n<p>Because of some reasons it does not work. I have a method which interrupts the thread:</p>\n\n<pre><code>public static void partnerSelected() {\n    System.out.println(\"The button is pressed!!!!\");\n    counter.interrupt();\n}\n</code></pre>\n\n<p>This method is activated when a button is pressed. When I press the button I see the corresponding output in the terminal (so this method is activated and it does something). But because of some reasons it does not interrupt the thread. Here is the code for the thread:</p>\n\n<pre><code>public static Thread counter = new Thread() {\n    public void run() {\n        for (int i=40; i&gt;0; i=i-1) {\n                if (Thread.interrupted()) {\n                    System.out.println(\"Helloo!!!!!!!!!!!!!!!\");\n                    return;\n                }\n            updateGUI(i,label); \n            try {Thread.sleep(1000);} catch(InterruptedException e) {};\n        }\n            // The time for the partner selection is over.\n            if (Thread.interrupted()) {\n                System.out.println(\"Helloo!!!!!!!!!!!!!!!\");\n                return;\n            }\n        SwingUtilities.invokeLater(new Runnable() {\n                public void run() {    \n                frame.remove(partnerSelectionPanel);\n                frame.add(selectionFinishedPanel);\n                frame.invalidate();\n                frame.validate();\n            }\n        });\n    }\n};\n</code></pre>\n\n<p>P.S. I do not see \"Hello!!!!!!!!!!!!!\" in the terminal...</p>\n"},{"tags":["java","android","android-studio"],"answers":[{"tags":[],"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676813741,"creation_date":1676813741,"answer_id":75500502,"question_id":75500447,"body_markdown":"If you look towards the top of that screenshot, you chose the &quot;Empty Compose Activity&quot; template. That uses Jetpack Compose for its UI, and Jetpack Compose requires Kotlin. You will need to choose a different starter template if you wish to use Java.\r\n\r\nOr, consider learning Kotlin, as Kotlin is the long-term direction for Android app development. FWIW, [here is a free book of mine on Kotlin](https://commonsware.com/Kotlin/).","title":"Unable to change the language to Java in Android while creating new project","body":"<p>If you look towards the top of that screenshot, you chose the &quot;Empty Compose Activity&quot; template. That uses Jetpack Compose for its UI, and Jetpack Compose requires Kotlin. You will need to choose a different starter template if you wish to use Java.</p>\n<p>Or, consider learning Kotlin, as Kotlin is the long-term direction for Android app development. FWIW, <a href=\"https://commonsware.com/Kotlin/\" rel=\"nofollow noreferrer\">here is a free book of mine on Kotlin</a>.</p>\n"},{"comments":[{"owner":{"account_id":27825109,"reputation":11,"user_id":21244701,"display_name":"Ayushi Tiwari"},"score":0,"creation_date":1676919063,"post_id":75502357,"comment_id":133230248,"body_markdown":"Yes! I tried it and it worked out!! Thank you so much.","body":"Yes! I tried it and it worked out!! Thank you so much."}],"tags":[],"owner":{"account_id":27825796,"reputation":11,"user_id":21245258,"display_name":"Kitty Kagaya"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676830174,"creation_date":1676830174,"answer_id":75502357,"question_id":75500447,"body_markdown":"![Empty Activity][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/rhO9y.png\r\n\r\nWhy don&#39;t you create &quot;Empty Activity&quot; for learning android studio.\r\nStarting with &quot;Empty Activity&quot; is good for understanding this IDE.\r\nI did the same way when I was starting.\r\nHope this would help you.","title":"Unable to change the language to Java in Android while creating new project","body":"<p><img src=\"https://i.stack.imgur.com/rhO9y.png\" alt=\"Empty Activity\" /></p>\n<p>Why don't you create &quot;Empty Activity&quot; for learning android studio.\nStarting with &quot;Empty Activity&quot; is good for understanding this IDE.\nI did the same way when I was starting.\nHope this would help you.</p>\n"},{"tags":[],"owner":{"account_id":9411834,"reputation":296,"user_id":6998825,"display_name":"Hassan Badawi"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1676845384,"creation_date":1676845384,"answer_id":75503835,"question_id":75500447,"body_markdown":"straight forward for your problem \r\nas you see the android studio didn&#39;t recognize the java path from your PC or you didn&#39;t install android studio fully maybe it&#39;s customized so you have 2 way\r\n\r\n 1. if you have installed java JDK already you will need to make links between android studio and java, somehow maybe in the config\r\n\r\n 2. you didn&#39;t install java yet so (you need to install Java JDK)\r\n\r\n [install-setup-android-studio-java-jdk-sdk BY techpassmaster][1]\r\n\r\nthis the closest link I got containing all of steps you need individually\r\n\r\n  [1]: https://techpassmaster.com/install-setup-android-studio-java-jdk-sdk/","title":"Unable to change the language to Java in Android while creating new project","body":"<p>straight forward for your problem\nas you see the android studio didn't recognize the java path from your PC or you didn't install android studio fully maybe it's customized so you have 2 way</p>\n<ol>\n<li><p>if you have installed java JDK already you will need to make links between android studio and java, somehow maybe in the config</p>\n</li>\n<li><p>you didn't install java yet so (you need to install Java JDK)</p>\n</li>\n</ol>\n<p><a href=\"https://techpassmaster.com/install-setup-android-studio-java-jdk-sdk/\" rel=\"nofollow noreferrer\">install-setup-android-studio-java-jdk-sdk BY techpassmaster</a></p>\n<p>this the closest link I got containing all of steps you need individually</p>\n"}],"owner":{"account_id":27825109,"reputation":11,"user_id":21244701,"display_name":"Ayushi Tiwari"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1556,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1676845384,"creation_date":1676813196,"question_id":75500447,"body_markdown":"I am new to android Studio. I am trying to create new project in java language. But the language is set to kotlin by default. The drop down does not work. What shall I do? Can someone help me out here? \r\n\r\nI am trying to create new project in java language.\r\nThe drop down does not work from which i can choose the language.\r\n![enter image description here](https://i.stack.imgur.com/9tuZr.png)","title":"Unable to change the language to Java in Android while creating new project","body":"<p>I am new to android Studio. I am trying to create new project in java language. But the language is set to kotlin by default. The drop down does not work. What shall I do? Can someone help me out here?</p>\n<p>I am trying to create new project in java language.\nThe drop down does not work from which i can choose the language.\n<img src=\"https://i.stack.imgur.com/9tuZr.png\" alt=\"enter image description here\" /></p>\n"},{"tags":["java","android","android-room","android-architecture-components"],"comments":[{"owner":{"account_id":14218047,"reputation":11740,"user_id":10271334,"display_name":"Jeel Vankhede"},"score":0,"creation_date":1539350592,"post_id":52780426,"comment_id":92482345,"body_markdown":"share code about how you store data by calling `insertBirds`.","body":"share code about how you store data by calling <code>insertBirds</code>."},{"owner":{"display_name":"user10065900"},"score":0,"creation_date":1539350936,"post_id":52780426,"comment_id":92482547,"body_markdown":"I have shared the code, Birds class and BirdLocation class is my retrofit POJO class, BirdsRoom is entitiy class","body":"I have shared the code, Birds class and BirdLocation class is my retrofit POJO class, BirdsRoom is entitiy class"}],"answers":[{"comments":[{"owner":{"display_name":"user10065900"},"score":0,"creation_date":1539355671,"post_id":52781792,"comment_id":92485435,"body_markdown":"It gave me this error:   android.database.sqlite.SQLiteConstraintException: UNIQUE constraint failed: BirdsRoom.code (code 2067)","body":"It gave me this error:   android.database.sqlite.SQLiteConstraintException: UNIQUE constraint failed: BirdsRoom.code (code 2067)"},{"owner":{"account_id":5015098,"reputation":2952,"user_id":4030157,"accept_rate":88,"display_name":"eurosecom"},"score":1,"creation_date":1539357371,"post_id":52781792,"comment_id":92486316,"body_markdown":"When your BirdsRoom exists allready and you change BirdsRoom, you have to migrate database or uninstal app and install again with new BirdsRoom","body":"When your BirdsRoom exists allready and you change BirdsRoom, you have to migrate database or uninstal app and install again with new BirdsRoom"},{"owner":{"display_name":"user10065900"},"score":0,"creation_date":1539357601,"post_id":52781792,"comment_id":92486464,"body_markdown":"No it doesn&#39;t help, first run is successfull, but second run is give mentioned error","body":"No it doesn&#39;t help, first run is successfull, but second run is give mentioned error"},{"owner":{"display_name":"user10065900"},"score":0,"creation_date":1539358067,"post_id":52781792,"comment_id":92486728,"body_markdown":"Thanks I have added (onConfict = ConflictStrategy.REPLACE) it helped, thanks a lot","body":"Thanks I have added (onConfict = ConflictStrategy.REPLACE) it helped, thanks a lot"}],"tags":[],"owner":{"account_id":5015098,"reputation":2952,"user_id":4030157,"accept_rate":88,"display_name":"eurosecom"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1539354837,"creation_date":1539354837,"answer_id":52781792,"question_id":52780426,"body_markdown":"If you want to be  battery and code unique in your BirdsRoom to set annotation like below\r\n\r\n    @Entity(indices = {@Index(value = {&quot;battery&quot;, &quot;code&quot;}, unique = true)})\r\n    public class BirdsRoom {\r\n\r\n    @PrimaryKey(autoGenerate = true)\r\n    private int id;\r\n\r\n    @ColumnInfo(name = &quot;battery&quot;)\r\n    private String battery;\r\n\r\n    @ColumnInfo(name = &quot;code&quot;)\r\n    private String birdCode;\r\n\r\n    @ColumnInfo(name = &quot;latitude&quot;)\r\n    private double lat;\r\n\r\n    @ColumnInfo(name = &quot;longitude&quot;)\r\n    private double lng;","title":"How to avoid duplicating in Android Room","body":"<p>If you want to be  battery and code unique in your BirdsRoom to set annotation like below</p>\n\n<pre><code>@Entity(indices = {@Index(value = {\"battery\", \"code\"}, unique = true)})\npublic class BirdsRoom {\n\n@PrimaryKey(autoGenerate = true)\nprivate int id;\n\n@ColumnInfo(name = \"battery\")\nprivate String battery;\n\n@ColumnInfo(name = \"code\")\nprivate String birdCode;\n\n@ColumnInfo(name = \"latitude\")\nprivate double lat;\n\n@ColumnInfo(name = \"longitude\")\nprivate double lng;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12732167,"reputation":75,"user_id":9248399,"display_name":"Gokhun Celik"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676844284,"creation_date":1676844284,"answer_id":75503752,"question_id":52780426,"body_markdown":"If you don&#39;t want the values duplicate, you can add incides annotation it likewise;\r\n\r\n    @Entity(\r\n       tableName = &quot;birds&quot;,\r\n       indices = [\r\n           Index(&quot;battery&quot;, unique = true),\r\n           Index(&quot;code&quot;, unique = true)\r\n       ]\r\n    )","title":"How to avoid duplicating in Android Room","body":"<p>If you don't want the values duplicate, you can add incides annotation it likewise;</p>\n<pre><code>@Entity(\n   tableName = &quot;birds&quot;,\n   indices = [\n       Index(&quot;battery&quot;, unique = true),\n       Index(&quot;code&quot;, unique = true)\n   ]\n)\n</code></pre>\n"}],"owner":{"display_name":"user10065900"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2288,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":52781792,"answer_count":2,"score":1,"last_activity_date":1676844284,"creation_date":1539350441,"question_id":52780426,"body_markdown":"I want to create an app that stores the names of scooters, but when I search name, I am getting duplicates, I am using Room for Android, here is my code. Anyone please help me, thanks.\r\n\r\n*POJO Class*\r\n\r\n    @PrimaryKey(autoGenerate = true)\r\n    private int id;\r\n\r\n    @ColumnInfo(name = &quot;battery&quot;)\r\n    private String battery;\r\n\r\n    @ColumnInfo(name = &quot;code&quot;)\r\n    private String birdCode;\r\n\r\n    @ColumnInfo(name = &quot;latitude&quot;)\r\n    private double lat;\r\n\r\n    @ColumnInfo(name = &quot;longitude&quot;)\r\n    private double lng;\r\n\r\n\r\n*Dao Interface*\r\n\r\n  \r\n\r\n    @Query(&quot;SELECT * FROM BirdsRoom&quot; )\r\n    List&lt;BirdsRoom&gt; getCachedBirds();\r\n\r\n    @Insert(onConflict = OnConflictStrategy.REPLACE)\r\n    void insertBirds(BirdsRoom... birdsRoom);\r\n\r\n*How I insert data*\r\n\r\n    Birds birds = response.body().getBirdsList().get(i);\r\n    BirdLocation birdLocation = birds.birdLocation;\r\n    BirdLocation location = birds.birdLocation;\r\n    BirdsRoom birdsRoom = new BirdsRoom(birds.getCode(),birds.getBatteryLevel(), \r\n    birdLocation.getLat(), birdLocation.getLng());\r\n    birdsDatabase.getUserDao().insertBirds(birdsRoom);","title":"How to avoid duplicating in Android Room","body":"<p>I want to create an app that stores the names of scooters, but when I search name, I am getting duplicates, I am using Room for Android, here is my code. Anyone please help me, thanks.</p>\n\n<p><em>POJO Class</em></p>\n\n<pre><code>@PrimaryKey(autoGenerate = true)\nprivate int id;\n\n@ColumnInfo(name = \"battery\")\nprivate String battery;\n\n@ColumnInfo(name = \"code\")\nprivate String birdCode;\n\n@ColumnInfo(name = \"latitude\")\nprivate double lat;\n\n@ColumnInfo(name = \"longitude\")\nprivate double lng;\n</code></pre>\n\n<p><em>Dao Interface</em></p>\n\n<pre><code>@Query(\"SELECT * FROM BirdsRoom\" )\nList&lt;BirdsRoom&gt; getCachedBirds();\n\n@Insert(onConflict = OnConflictStrategy.REPLACE)\nvoid insertBirds(BirdsRoom... birdsRoom);\n</code></pre>\n\n<p><em>How I insert data</em></p>\n\n<pre><code>Birds birds = response.body().getBirdsList().get(i);\nBirdLocation birdLocation = birds.birdLocation;\nBirdLocation location = birds.birdLocation;\nBirdsRoom birdsRoom = new BirdsRoom(birds.getCode(),birds.getBatteryLevel(), \nbirdLocation.getLat(), birdLocation.getLng());\nbirdsDatabase.getUserDao().insertBirds(birdsRoom);\n</code></pre>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":740820,"reputation":47963,"user_id":2353911,"accept_rate":100,"display_name":"Mena"},"score":1,"creation_date":1522325569,"post_id":49555721,"comment_id":86118784,"body_markdown":"Just a comment here, if you&#39;re trying to parse JSON with regex, just **don&#39;t**. Use a JSON parser.","body":"Just a comment here, if you&#39;re trying to parse JSON with regex, just <b>don&#39;t</b>. Use a JSON parser."},{"owner":{"account_id":6920989,"reputation":31,"user_id":9505112,"display_name":"renegade2k"},"score":0,"creation_date":1522325696,"post_id":49555721,"comment_id":86118874,"body_markdown":"I tried JSON first, but in my mind it was easier to handle the REST requests with the HTTP Client just as plain text and put/get commands over URL. For this i built myself some handy methods to work with the plain text and regex is part of it ;)","body":"I tried JSON first, but in my mind it was easier to handle the REST requests with the HTTP Client just as plain text and put/get commands over URL. For this i built myself some handy methods to work with the plain text and regex is part of it ;)"},{"owner":{"account_id":740820,"reputation":47963,"user_id":2353911,"accept_rate":100,"display_name":"Mena"},"score":1,"creation_date":1522325897,"post_id":49555721,"comment_id":86119012,"body_markdown":"you are building your own padded cell, that is. Trust me on that one.","body":"you are building your own padded cell, that is. Trust me on that one."},{"owner":{"account_id":165546,"reputation":18964,"user_id":389099,"accept_rate":88,"display_name":"guido"},"score":0,"creation_date":1522327215,"post_id":49555721,"comment_id":86120063,"body_markdown":"Why don&#39;t you just capture any character until the next following `&quot;`? (ie. `.*?type\\&quot;:\\&quot;(.+?)(?&lt;!\\\\)\\&quot;`, but, don&#39;t parse json with regexes, anyway)","body":"Why don&#39;t you just capture any character until the next following <code>&quot;</code>? (ie. <code>.*?type\\&quot;:\\&quot;(.+?)(?&lt;!\\\\)\\&quot;</code>, but, don&#39;t parse json with regexes, anyway)"},{"owner":{"account_id":6920989,"reputation":31,"user_id":9505112,"display_name":"renegade2k"},"score":0,"creation_date":1522327720,"post_id":49555721,"comment_id":86120434,"body_markdown":"Worth a try. Seems legit ^^","body":"Worth a try. Seems legit ^^"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1522351922,"post_id":49555721,"comment_id":86135604,"body_markdown":"@ Will that work with `&quot;type&quot;:&quot;C:\\\\Program Files\\\\&quot;`?","body":"@ Will that work with <code>&quot;type&quot;:&quot;C:\\\\Program Files\\\\&quot;</code>?"}],"answers":[{"comments":[{"owner":{"account_id":6920989,"reputation":31,"user_id":9505112,"display_name":"renegade2k"},"score":0,"creation_date":1522327376,"post_id":49555939,"comment_id":86120204,"body_markdown":"Thx for the hint. I tried the (updated) code, but for some reason my script is hanging now. Maybe for some other reason, maybe not ... i will find out ;)","body":"Thx for the hint. I tried the (updated) code, but for some reason my script is hanging now. Maybe for some other reason, maybe not ... i will find out ;)"}],"tags":[],"owner":{"account_id":1754145,"reputation":43960,"user_id":1602555,"display_name":"Karol Dowbecki"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1522326991,"creation_date":1522326048,"answer_id":49555939,"question_id":49555721,"body_markdown":"If you have to keep using regex, which is not a great tool for parsing JSON, try `\\p{L}_`. In your case it would be:\r\n\r\n    String regex = &quot;.*?type\\&quot;:\\&quot;[\\\\p{L}_]+\\&quot;&quot;;\r\n\r\nWith on-line example: https://regex101.com/r/57oFD5/2\r\n\r\n&gt; \\p{L} matches any kind of letter from any language\r\n&gt;\r\n&gt; _ matches the character _ literally (case sensitive)\r\n\r\nThis will get hectic if you need to support other languages, whitespaces and various other UTF code points. For example do you need to support random number of white spaces around `:`? Take a look at [this answer on removing emojis][1], there are many corner cases.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/49516025/1602555","title":"Java regex not matching German &quot;Umlaut&quot; OR underscore","body":"<p>If you have to keep using regex, which is not a great tool for parsing JSON, try <code>\\p{L}_</code>. In your case it would be:</p>\n\n<pre><code>String regex = \".*?type\\\":\\\"[\\\\p{L}_]+\\\"\";\n</code></pre>\n\n<p>With on-line example: <a href=\"https://regex101.com/r/57oFD5/2\" rel=\"nofollow noreferrer\">https://regex101.com/r/57oFD5/2</a></p>\n\n<blockquote>\n  <p>\\p{L} matches any kind of letter from any language</p>\n  \n  <p>_ matches the character _ literally (case sensitive)</p>\n</blockquote>\n\n<p>This will get hectic if you need to support other languages, whitespaces and various other UTF code points. For example do you need to support random number of white spaces around <code>:</code>? Take a look at <a href=\"https://stackoverflow.com/a/49516025/1602555\">this answer on removing emojis</a>, there are many corner cases.</p>\n"}],"owner":{"account_id":6920989,"reputation":31,"user_id":9505112,"display_name":"renegade2k"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":297,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":1,"score":2,"last_activity_date":1676844085,"creation_date":1522325501,"question_id":49555721,"body_markdown":"I&#39;m trying to &quot;play around&quot; with some REST APIs and Java code.\r\n\r\nAs I am using German language mainly, I already managed it to get the Apache HTTP Client to work with UTF-8 encoding to make sure &quot;Umlaut&quot; are handled the right way.\r\n\r\nStill I can&#39;t get my regex to match my words correctly.\r\n\r\nI try to find words/word combinations like &quot;B&#252;ro_Licht&quot; from string like `...&quot;type&quot;:&quot;B&#252;ro_Licht&quot;...`.\r\n\r\nUsing regex expression `&quot;.*?type\\&quot;:\\&quot;(\\\\w+).*?&quot;` returns &quot;B&quot; for me, as it doesn&#39;t recognize the &quot;&#252;&quot; as a word character. Clearly, as \\w is said to be [a-z A-Z 0-9]. Within strings with no special characters I get the full &quot;Office_Light&quot; meanwhile.\r\n\r\nSo I tried another hint mentioned here in like nearly the same question (which I could not comment, because I lack of reputation points). \r\n\r\nUsing regex expression `&quot;.*?type\\&quot;:\\&quot;(\\\\p{L}).*?&quot;` returns &quot;B&#252;ro&quot; for me. But here again it cuts on the underscore for a reason I don&#39;t understand.\r\n\r\nIs there a nice way to combine both expressions to get the &quot;full&quot; word including underscores *and* special characters?","title":"Java regex not matching German &quot;Umlaut&quot; OR underscore","body":"<p>I'm trying to &quot;play around&quot; with some REST APIs and Java code.</p>\n<p>As I am using German language mainly, I already managed it to get the Apache HTTP Client to work with UTF-8 encoding to make sure &quot;Umlaut&quot; are handled the right way.</p>\n<p>Still I can't get my regex to match my words correctly.</p>\n<p>I try to find words/word combinations like &quot;Bro_Licht&quot; from string like <code>...&quot;type&quot;:&quot;Bro_Licht&quot;...</code>.</p>\n<p>Using regex expression <code>&quot;.*?type\\&quot;:\\&quot;(\\\\w+).*?&quot;</code> returns &quot;B&quot; for me, as it doesn't recognize the &quot;&quot; as a word character. Clearly, as \\w is said to be [a-z A-Z 0-9]. Within strings with no special characters I get the full &quot;Office_Light&quot; meanwhile.</p>\n<p>So I tried another hint mentioned here in like nearly the same question (which I could not comment, because I lack of reputation points).</p>\n<p>Using regex expression <code>&quot;.*?type\\&quot;:\\&quot;(\\\\p{L}).*?&quot;</code> returns &quot;Bro&quot; for me. But here again it cuts on the underscore for a reason I don't understand.</p>\n<p>Is there a nice way to combine both expressions to get the &quot;full&quot; word including underscores <em>and</em> special characters?</p>\n"},{"tags":["java","intellij-idea","package"],"comments":[{"owner":{"account_id":37187,"reputation":46693,"user_id":106261,"accept_rate":87,"display_name":"NimChimpsky"},"score":0,"creation_date":1397295113,"post_id":23028536,"comment_id":35180449,"body_markdown":"http://docs.oracle.com/javase/tutorial/java/nutsandbolts/switch.html","body":"<a href=\"http://docs.oracle.com/javase/tutorial/java/nutsandbolts/switch.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/java/nutsandbolts/switch.htm&zwnj;&#8203;l</a>"},{"owner":{"account_id":8281147,"reputation":420,"user_id":6225803,"display_name":"krishna T"},"score":0,"creation_date":1621687612,"post_id":23028536,"comment_id":119573493,"body_markdown":"@NimChimpsky the question is not about switch keyword. it is about packagename &#39;com.mydomain.switch&#39;.","body":"@NimChimpsky the question is not about switch keyword. it is about packagename &#39;com.mydomain.switch&#39;."},{"owner":{"account_id":37187,"reputation":46693,"user_id":106261,"accept_rate":87,"display_name":"NimChimpsky"},"score":0,"creation_date":1621829831,"post_id":23028536,"comment_id":119603869,"body_markdown":"@krishnaTelgave oh really ?  I wonder why the switch package name doesn&#39;t work then ?","body":"@krishnaTelgave oh really ?  I wonder why the switch package name doesn&#39;t work then ?"}],"answers":[{"comments":[{"owner":{"account_id":2594765,"reputation":2859,"user_id":2248702,"accept_rate":57,"display_name":"user2248702"},"score":0,"creation_date":1397299042,"post_id":23028607,"comment_id":35181516,"body_markdown":"Is there any convention for naming classes where the desired name is not possible?","body":"Is there any convention for naming classes where the desired name is not possible?"}],"tags":[],"owner":{"account_id":277416,"reputation":681888,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1397295362,"creation_date":1397294899,"answer_id":23028607,"question_id":23028536,"body_markdown":"When creating a package named switch, IntelliJ IDEA displays the following error message:\r\n\r\n&gt; Not a valid package name, it would be impossible to create a class inside\r\n\r\nSo, the message is quite clear. What you can do about it: use another name. The possibilities are infinite.\r\n\r\nHere is the list of reserved keywords, that can&#39;t be used as identifiers: http://docs.oracle.com/javase/specs/jls/se7/html/jls-3.html#jls-3.9","title":"Cannot create package IntelliJ IDEA","body":"<p>When creating a package named switch, IntelliJ IDEA displays the following error message:</p>\n\n<blockquote>\n  <p>Not a valid package name, it would be impossible to create a class inside</p>\n</blockquote>\n\n<p>So, the message is quite clear. What you can do about it: use another name. The possibilities are infinite.</p>\n\n<p>Here is the list of reserved keywords, that can't be used as identifiers: <a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/jls-3.html#jls-3.9\" rel=\"noreferrer\">http://docs.oracle.com/javase/specs/jls/se7/html/jls-3.html#jls-3.9</a></p>\n"},{"tags":[],"owner":{"account_id":10640876,"reputation":152,"user_id":7835955,"display_name":"pranavmalhotra"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1491631854,"creation_date":1491631854,"answer_id":43290816,"question_id":23028536,"body_markdown":"You probably had a space after the packagename. \r\n\r\nIntellij will give that error if the packagename ends with a space. ","title":"Cannot create package IntelliJ IDEA","body":"<p>You probably had a space after the packagename. </p>\n\n<p>Intellij will give that error if the packagename ends with a space. </p>\n"}],"owner":{"account_id":2594765,"reputation":2859,"user_id":2248702,"accept_rate":57,"display_name":"user2248702"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10340,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":2,"score":6,"last_activity_date":1676843787,"creation_date":1397294482,"question_id":23028536,"body_markdown":"I am attempting to create a package for my project in IntelliJ IDEA. I am naming the package &#39;com.mydomain.switch&#39; Switch being the project name, but as soon as I type &#39;switch&#39; it shows an error.\r\n\r\nThe only thing I can think of is that &#39;switch&#39; is a Java keyword, is this the case? and if so what can I do about it?","title":"Cannot create package IntelliJ IDEA","body":"<p>I am attempting to create a package for my project in IntelliJ IDEA. I am naming the package 'com.mydomain.switch' Switch being the project name, but as soon as I type 'switch' it shows an error.</p>\n\n<p>The only thing I can think of is that 'switch' is a Java keyword, is this the case? and if so what can I do about it?</p>\n"},{"tags":["java","spring","postgis"],"comments":[{"owner":{"account_id":3239775,"reputation":101,"user_id":9512670,"display_name":"Vince"},"score":2,"creation_date":1675686611,"post_id":75361767,"comment_id":132976723,"body_markdown":"This seems more a Spring question than a PostGIS one. [so] is probably a better resource for this.","body":"This seems more a Spring question than a PostGIS one. <a href=\"https://stackoverflow.com\">Stack Overflow</a> is probably a better resource for this."}],"answers":[{"tags":[],"owner":{"account_id":4034900,"reputation":31,"user_id":3319743,"display_name":"wab"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1676843645,"creation_date":1676843645,"answer_id":75503700,"question_id":75361767,"body_markdown":"You no longer need to specify the dialect:\r\n\r\nThe PostgisDialect class was first replaced by PostgisPG9xDialect / PostgisPG10Dialect classes, but now these are also deprecated (&quot;A SpatialDialect is no longer required.&quot;). \r\n\r\nSo the correct dialect is the default (org.hibernate.dialect.PostgreSQLDialect).\r\n\r\nBut since it is the default it shouldn&#39;t be necessary to specify it in your Spring-Boot application, both the default driver and dialect can be derived from what you specify in spring.datasource.url","title":"Spring 6 PostGIS integration","body":"<p>You no longer need to specify the dialect:</p>\n<p>The PostgisDialect class was first replaced by PostgisPG9xDialect / PostgisPG10Dialect classes, but now these are also deprecated (&quot;A SpatialDialect is no longer required.&quot;).</p>\n<p>So the correct dialect is the default (org.hibernate.dialect.PostgreSQLDialect).</p>\n<p>But since it is the default it shouldn't be necessary to specify it in your Spring-Boot application, both the default driver and dialect can be derived from what you specify in spring.datasource.url</p>\n"}],"owner":{"display_name":"Olivier Sofia"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":719,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1676843645,"creation_date":1675686278,"question_id":75361767,"body_markdown":"I have been trying to port an existing application using PostGIS from Spring 5 to Spring 6. \r\nI get an error saying that org.hibernate.spatial.dialect.postgis.PostgisDialect is not more available:\r\n&gt; Task :packages:discover-app-back-api:bootRun FAILED\r\n&gt;Caused by: org.hibernate.service.spi.ServiceException: Unable to create requested service org.hibernate.engine.jdbc.env.spi.JdbcEnvironment]\r\n&gt;Caused by: org.hibernate.boot.registry.selector.spi.StrategySelectionException: Unable to resolve name [org.hibernate.spatial.dialect.postgis.PostgisDialect] as strategy [org.hibernate.dialect.Dialect]\r\n&gt;Caused by: org.hibernate.boot.registry.classloading.spi.ClassLoadingException: Unable to load class [org.hibernate.spatial.dialect.postgis.PostgisDialect]\r\n&gt;Caused by: java.lang.ClassNotFoundException: Could not load requested class : org.hibernate.spatial.dialect.postgis.PostgisDialect\r\n\r\n\r\n- Spring boot 3.0.2\r\n- Spring security 6.0.1\r\n- Hibernate 6.1.6\r\n\r\nIndeed, this class is no more available in the version 6.X.\r\nWhat configuration should I use?\r\n","title":"Spring 6 PostGIS integration","body":"<p>I have been trying to port an existing application using PostGIS from Spring 5 to Spring 6.\nI get an error saying that org.hibernate.spatial.dialect.postgis.PostgisDialect is not more available:</p>\n<blockquote>\n<p>Task :packages:discover-app-back-api:bootRun FAILED\nCaused by: org.hibernate.service.spi.ServiceException: Unable to create requested service org.hibernate.engine.jdbc.env.spi.JdbcEnvironment]\nCaused by: org.hibernate.boot.registry.selector.spi.StrategySelectionException: Unable to resolve name [org.hibernate.spatial.dialect.postgis.PostgisDialect] as strategy [org.hibernate.dialect.Dialect]\nCaused by: org.hibernate.boot.registry.classloading.spi.ClassLoadingException: Unable to load class [org.hibernate.spatial.dialect.postgis.PostgisDialect]\nCaused by: java.lang.ClassNotFoundException: Could not load requested class : org.hibernate.spatial.dialect.postgis.PostgisDialect</p>\n</blockquote>\n<ul>\n<li>Spring boot 3.0.2</li>\n<li>Spring security 6.0.1</li>\n<li>Hibernate 6.1.6</li>\n</ul>\n<p>Indeed, this class is no more available in the version 6.X.\nWhat configuration should I use?</p>\n"},{"tags":["java","swing","intellij-idea","intellij-plugin"],"comments":[{"owner":{"account_id":15001707,"reputation":76,"user_id":10829171,"display_name":"Balaji"},"score":0,"creation_date":1577256908,"post_id":59475813,"comment_id":105129599,"body_markdown":"Which version of intellij and which java version ? Also before running the java you can add --illegal-access=deny so that java will throw exception on illegal reflective access and you can check the trace to identify the cause.","body":"Which version of intellij and which java version ? Also before running the java you can add --illegal-access=deny so that java will throw exception on illegal reflective access and you can check the trace to identify the cause."},{"owner":{"account_id":9444326,"reputation":1873,"user_id":10278150,"display_name":"Yaman KATBY"},"score":0,"creation_date":1577257797,"post_id":59475813,"comment_id":105129752,"body_markdown":"@Balaji I have updated the question and added the IntelliJ and Java versions can you take a look again?","body":"@Balaji I have updated the question and added the IntelliJ and Java versions can you take a look again?"},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1577273559,"post_id":59475813,"comment_id":105133003,"body_markdown":"Don&#39;t post images of text. [Edit] to add the text itself!","body":"Don&#39;t post images of text. <a href=\"https://stackoverflow.com/posts/59475813/edit\">Edit</a> to add the text itself!"},{"owner":{"account_id":15001707,"reputation":76,"user_id":10829171,"display_name":"Balaji"},"score":0,"creation_date":1577281773,"post_id":59475813,"comment_id":105134950,"body_markdown":"@YamanKATBY can you share the updated trace by running your program with --illegal-access=deny","body":"@YamanKATBY can you share the updated trace by running your program with --illegal-access=deny"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":1,"creation_date":1577289171,"post_id":59475813,"comment_id":105136591,"body_markdown":"*trying to add a JLabel to a JPanel* - your code is actually adding a `Label`, which is an AWT component, not a Swing component.","body":"<i>trying to add a JLabel to a JPanel</i> - your code is actually adding a <code>Label</code>, which is an AWT component, not a Swing component."},{"owner":{"account_id":9444326,"reputation":1873,"user_id":10278150,"display_name":"Yaman KATBY"},"score":0,"creation_date":1577358166,"post_id":59475813,"comment_id":105149702,"body_markdown":"@camickr I have changed the Label to JLabel and still getting the same error","body":"@camickr I have changed the Label to JLabel and still getting the same error"}],"answers":[{"tags":[],"owner":{"account_id":9444326,"reputation":1873,"user_id":10278150,"display_name":"Yaman KATBY"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1644761678,"creation_date":1577977636,"answer_id":59565557,"question_id":59475813,"body_markdown":"After a ton of researching, I&#39;ve got the point. the problem is you can&#39;t add a component to a `JPanel` if the _Layout Manager_ of the `JPanel` is equal to _GridLayoutManager (IntelliJ)_.\r\n\r\nIf you have the same problem:\r\n\r\n- Go to the _GUI Designer_\r\n- Select the `JPanel` that you want to add a component to it\r\n- From the properties panel, change the _Layout Manager_ to anything but _GridLayoutManager (IntelliJ)_ or _FormLayout (JGoodies)_\r\n\r\nIntelliJ GUI Designer properties panel  \r\n[![IntelliJ GUI Designer properties panel][1]][1]\r\n\r\nOr programmatically\r\n\r\n    contentPane.setLayout(new BoxLayout());\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/62xzg.png","title":"(IntelliJ GUI Designer) Runtime NullPointerException upon adding a component to a JPanel","body":"<p>After a ton of researching, I've got the point. the problem is you can't add a component to a <code>JPanel</code> if the <em>Layout Manager</em> of the <code>JPanel</code> is equal to <em>GridLayoutManager (IntelliJ)</em>.</p>\n<p>If you have the same problem:</p>\n<ul>\n<li>Go to the <em>GUI Designer</em></li>\n<li>Select the <code>JPanel</code> that you want to add a component to it</li>\n<li>From the properties panel, change the <em>Layout Manager</em> to anything but <em>GridLayoutManager (IntelliJ)</em> or <em>FormLayout (JGoodies)</em></li>\n</ul>\n<p>IntelliJ GUI Designer properties panel<br />\n<a href=\"https://i.stack.imgur.com/62xzg.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/62xzg.png\" alt=\"IntelliJ GUI Designer properties panel\" /></a></p>\n<p>Or programmatically</p>\n<pre><code>contentPane.setLayout(new BoxLayout());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17645425,"reputation":12774,"user_id":12806961,"display_name":"Code on the Rocks"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676843112,"creation_date":1676843112,"answer_id":75503667,"question_id":59475813,"body_markdown":"You can add components to a GridLayoutManager but first you need to set the layout to [specify the rows, cols, hgap, and vgap][1].\r\n```\r\nmyPanel.setLayout(new GridLayout(0, 3, 4, 4));\r\n\r\nmyPanel.add(button);\r\n```\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/uiswing/layout/grid.html","title":"(IntelliJ GUI Designer) Runtime NullPointerException upon adding a component to a JPanel","body":"<p>You can add components to a GridLayoutManager but first you need to set the layout to <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/grid.html\" rel=\"nofollow noreferrer\">specify the rows, cols, hgap, and vgap</a>.</p>\n<pre><code>myPanel.setLayout(new GridLayout(0, 3, 4, 4));\n\nmyPanel.add(button);\n</code></pre>\n"}],"owner":{"account_id":9444326,"reputation":1873,"user_id":10278150,"display_name":"Yaman KATBY"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":647,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":59565557,"answer_count":2,"score":1,"last_activity_date":1676843112,"creation_date":1577255596,"question_id":59475813,"body_markdown":"Working on an IntelliJ plugin and trying to add a `JLabel` component to a `JPanel` on click on a `JButton` and this is a snippet of my code.\r\n\r\n    addLabelButton.addActionListener(new ActionListener() {\r\n        @Override\r\n        public void actionPerformed(ActionEvent e) {\r\n            contentPane.add(new JLabel(&quot;Hi, JLabel!&quot;));\r\n            contentPane.revalidate();\r\n            contentPane.repaint();\r\n        }\r\n    });\r\n\r\nOn click on the `JButton` I&#39;m getting a run time error.\r\n\r\n&gt; 2020-01-02 17:44:16,118 [  30502]  ERROR -\r\n&gt; llij.ide.plugins.PluginManager - null  java.lang.NullPointerException\r\n&gt; \tat\r\n&gt; com.intellij.uiDesigner.core.GridLayoutManager.addLayoutComponent(GridLayoutManager.java:134)\r\n&gt; \tat java.desktop/java.awt.Container.addImpl(Container.java:1152) \tat\r\n&gt; java.desktop/java.awt.Container.add(Container.java:436)","title":"(IntelliJ GUI Designer) Runtime NullPointerException upon adding a component to a JPanel","body":"<p>Working on an IntelliJ plugin and trying to add a <code>JLabel</code> component to a <code>JPanel</code> on click on a <code>JButton</code> and this is a snippet of my code.</p>\n\n<pre><code>addLabelButton.addActionListener(new ActionListener() {\n    @Override\n    public void actionPerformed(ActionEvent e) {\n        contentPane.add(new JLabel(\"Hi, JLabel!\"));\n        contentPane.revalidate();\n        contentPane.repaint();\n    }\n});\n</code></pre>\n\n<p>On click on the <code>JButton</code> I'm getting a run time error.</p>\n\n<blockquote>\n  <p>2020-01-02 17:44:16,118 [  30502]  ERROR -\n  llij.ide.plugins.PluginManager - null  java.lang.NullPointerException\n    at\n  com.intellij.uiDesigner.core.GridLayoutManager.addLayoutComponent(GridLayoutManager.java:134)\n    at java.desktop/java.awt.Container.addImpl(Container.java:1152)     at\n  java.desktop/java.awt.Container.add(Container.java:436)</p>\n</blockquote>\n"},{"tags":["java","spring-boot","hibernate","jpa","orm"],"answers":[{"tags":[],"owner":{"account_id":153343,"reputation":1086,"user_id":368532,"accept_rate":70,"display_name":"Boris"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676843027,"creation_date":1676843027,"answer_id":75503661,"question_id":75500926,"body_markdown":"You have 2 options: \r\n 1. Eager fetch type with **@Fetch(FetchMode.JOIN)** (https://www.baeldung.com/hibernate-fetchmode), \r\n 2. **JOIN FETCH** (https://thorben-janssen.com/hibernate-tips-difference-join-left-join-fetch-join/)","title":"How to perfom lazy loading data in spring boot","body":"<p>You have 2 options:</p>\n<ol>\n<li>Eager fetch type with <strong>@Fetch(FetchMode.JOIN)</strong> (<a href=\"https://www.baeldung.com/hibernate-fetchmode\" rel=\"nofollow noreferrer\">https://www.baeldung.com/hibernate-fetchmode</a>),</li>\n<li><strong>JOIN FETCH</strong> (<a href=\"https://thorben-janssen.com/hibernate-tips-difference-join-left-join-fetch-join/\" rel=\"nofollow noreferrer\">https://thorben-janssen.com/hibernate-tips-difference-join-left-join-fetch-join/</a>)</li>\n</ol>\n"}],"owner":{"account_id":24280012,"reputation":123,"user_id":18226690,"display_name":"ln3106"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676843027,"creation_date":1676817863,"question_id":75500926,"body_markdown":"I have a Spring boot application in which I have a one to many relationship\r\nbetween my category entity and my product entity. A category contains several products\r\n and a product belongs to one and only one category.\r\nIn the database, each category contains several registered products.\r\nThe category that contains less products in database has 1000 products\r\nI have a category of my products in database which contains 15 000 products.\r\nAt the level of my category class, I have defined the one-to-many annotation\r\nwith the product entity and I have opted for the fetch mode = FetchType.LAZY.\r\nThis only retrieves the category entity and not the product entity.\r\nHow to do for the performance problem, because I want to create a method that\r\nretrieves for each category, all its products and loop on it.\r\nEven if I use the fetch mode = FetchType.EAGER,\r\nI will have the same problem, how to better use FetchType.LAZY or FetchType.EAGER\r\nwhile managing well the performance problem\r\n\r\n    @Data\r\n    @SuperBuilder\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @Entity\r\n    public class Category {\r\n        @Id\r\n        @GeneratedValue\r\n        private Integer id;\r\n        @OneToMany(mappedBy = &quot;category&quot;)\r\n        private List&lt;Product&gt; product;\r\n    }\r\n    \r\n    @Data\r\n    @SuperBuilder\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @Entity\r\n    public class Product {\r\n    \r\n        @Id\r\n        @GeneratedValue\r\n        private Integer id;\r\n        private String code;\r\n        private double price;\r\n        @ManyToOne\r\n        @JoinColumn(name=&quot;id_cat&quot;)\r\n        private Category category; \r\n    }\r\n\r\nHow can i solve it","title":"How to perfom lazy loading data in spring boot","body":"<p>I have a Spring boot application in which I have a one to many relationship\nbetween my category entity and my product entity. A category contains several products\nand a product belongs to one and only one category.\nIn the database, each category contains several registered products.\nThe category that contains less products in database has 1000 products\nI have a category of my products in database which contains 15 000 products.\nAt the level of my category class, I have defined the one-to-many annotation\nwith the product entity and I have opted for the fetch mode = FetchType.LAZY.\nThis only retrieves the category entity and not the product entity.\nHow to do for the performance problem, because I want to create a method that\nretrieves for each category, all its products and loop on it.\nEven if I use the fetch mode = FetchType.EAGER,\nI will have the same problem, how to better use FetchType.LAZY or FetchType.EAGER\nwhile managing well the performance problem</p>\n<pre><code>@Data\n@SuperBuilder\n@NoArgsConstructor\n@AllArgsConstructor\n@Entity\npublic class Category {\n    @Id\n    @GeneratedValue\n    private Integer id;\n    @OneToMany(mappedBy = &quot;category&quot;)\n    private List&lt;Product&gt; product;\n}\n\n@Data\n@SuperBuilder\n@NoArgsConstructor\n@AllArgsConstructor\n@Entity\npublic class Product {\n\n    @Id\n    @GeneratedValue\n    private Integer id;\n    private String code;\n    private double price;\n    @ManyToOne\n    @JoinColumn(name=&quot;id_cat&quot;)\n    private Category category; \n}\n</code></pre>\n<p>How can i solve it</p>\n"},{"tags":["java","c","linux","java-native-interface","jna"],"comments":[{"owner":{"account_id":9322,"reputation":9911,"user_id":17175,"accept_rate":89,"display_name":"technomage"},"score":1,"creation_date":1430047526,"post_id":29860555,"comment_id":47878183,"body_markdown":"[`restrict`](http://en.wikipedia.org/wiki/Restrict) is a hint to the C compiler, so you can ignore it for purposes of JNA function mappings.","body":"<a href=\"http://en.wikipedia.org/wiki/Restrict\" rel=\"nofollow noreferrer\"><code>restrict</code></a> is a hint to the C compiler, so you can ignore it for purposes of JNA function mappings."}],"answers":[{"comments":[{"owner":{"account_id":4444909,"reputation":941,"user_id":3618509,"accept_rate":78,"display_name":"JavaProphet"},"score":0,"creation_date":1430148803,"post_id":29877214,"comment_id":47922590,"body_markdown":"It actually turned out to be __xstat64, but you we&#39;re heading there, thanks!","body":"It actually turned out to be __xstat64, but you we&#39;re heading there, thanks!"}],"tags":[],"owner":{"account_id":9322,"reputation":9911,"user_id":17175,"accept_rate":89,"display_name":"technomage"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1430048916,"creation_date":1430048916,"answer_id":29877214,"question_id":29860555,"body_markdown":"Have you looked at [`sys/stat.h`](http://linux.die.net/include/sys/stat.h) to see if there&#39;s an actual declaration for `stat()` or if it&#39;s a C preprocessor macro?\r\n\r\nIn the link above, `stat` will actually be `stat64` if `__USE_FILE_OFFSET64` is defined.\r\n\r\nTo see if this is your problem, simply change the function name from `stat` to `stat64`.\r\n\r\nAs a more permanent solution supply a [function mapper](http://twall.github.io/jna/4.1.0/com/sun/jna/FunctionMapper.html) to your library load.\r\n\r\nThe following example first looks up the base label, then tries again after appending &quot;64&quot;:\r\n\r\n    FunctionMapper mapper = new FunctionMapper() {\r\n        public String getFunctionName(NativeLibrary library, java.lang.reflect.Method method) {\r\n            String name = method.getName();\r\n            try {\r\n                library.getFunction(name);\r\n            } catch(UnsatisfiedLinkError e) {\r\n                try {\r\n                    library.getFunction(name + &quot;64&quot;);\r\n                    return name + &quot;64&quot;;\r\n                } catch(UnsatisfiedLinkError e) {\r\n                     // If neither variant worked, report failure on the base label\r\n                }\r\n            }\r\n            return name;\r\n        }\r\n    };\r\n    Map options = new HashMap() {\r\n        { put(Library.OPTION_FUNCTION_MAPPER, mapper); }\r\n    };\r\n    library = Native.loadLibrary(&quot;c&quot;, options);","title":"JNA causes UnsatisfiedLinkException with Unix Stat","body":"<p>Have you looked at <a href=\"http://linux.die.net/include/sys/stat.h\" rel=\"nofollow\"><code>sys/stat.h</code></a> to see if there's an actual declaration for <code>stat()</code> or if it's a C preprocessor macro?</p>\n\n<p>In the link above, <code>stat</code> will actually be <code>stat64</code> if <code>__USE_FILE_OFFSET64</code> is defined.</p>\n\n<p>To see if this is your problem, simply change the function name from <code>stat</code> to <code>stat64</code>.</p>\n\n<p>As a more permanent solution supply a <a href=\"http://twall.github.io/jna/4.1.0/com/sun/jna/FunctionMapper.html\" rel=\"nofollow\">function mapper</a> to your library load.</p>\n\n<p>The following example first looks up the base label, then tries again after appending \"64\":</p>\n\n<pre><code>FunctionMapper mapper = new FunctionMapper() {\n    public String getFunctionName(NativeLibrary library, java.lang.reflect.Method method) {\n        String name = method.getName();\n        try {\n            library.getFunction(name);\n        } catch(UnsatisfiedLinkError e) {\n            try {\n                library.getFunction(name + \"64\");\n                return name + \"64\";\n            } catch(UnsatisfiedLinkError e) {\n                 // If neither variant worked, report failure on the base label\n            }\n        }\n        return name;\n    }\n};\nMap options = new HashMap() {\n    { put(Library.OPTION_FUNCTION_MAPPER, mapper); }\n};\nlibrary = Native.loadLibrary(\"c\", options);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3568486,"reputation":4276,"user_id":2979435,"accept_rate":42,"display_name":"deFreitas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676843012,"creation_date":1676843012,"answer_id":75503656,"question_id":29860555,"body_markdown":"It&#39;s also possible that `stat` function just don&#39;t exists on your installed libc version, as it happened to me.\r\n\r\n`stat` function is not present on **Debian 11.6**  using `GLIBC 2.31` but it is at **Ubuntu 22.04** which is using `GLIBC 2.35`.\r\n\r\n`libc stat` function is just a wrapper to `syscall` `4` though, so you can use the following code to call `stat` using `syscall` function\r\n\r\n\r\n    public interface Libc extends Library {\r\n    \r\n      Stats INSTANCE = Native.loadLibrary(Platform.C_LIBRARY_NAME, Libc.class);\r\n    \r\n      default int stat0(String pathname, Stat statbuf){\r\n        return this.syscall(4, pathname, statbuf);\r\n      }\r\n\r\n      int syscall(int number, Object... args);\r\n\r\n    }\r\n\r\nComplete code is [hosted here][1], if you&#39;re interested\r\n\r\n**Debug**\r\n\r\nDebian 11.6\r\n\r\n    $ strings /lib/x86_64-linux-gnu/libc.so.6  | grep &#39;GNU C Library&#39;\r\n    GNU C Library (Debian GLIBC 2.31-13+deb11u5) stable release version 2.31.\r\n    \r\n    $ nm -D /lib/x86_64-linux-gnu/libc.so.6  | grep &#39; stat&#39;\r\n    00000000000ec1c0 W statfs@@GLIBC_2.2.5\r\n    00000000000ec1c0 W statfs64@@GLIBC_2.2.5\r\n    00000000000ec220 W statvfs@@GLIBC_2.2.5\r\n    00000000000ec220 W statvfs64@@GLIBC_2.2.5\r\n    00000000000ec040 T statx@@GLIBC_2.28\r\n\r\nUbuntu 22.02\r\n\r\n    $ strings /lib/x86_64-linux-gnu/libc.so.6  | grep &#39;GNU C Library&#39;\r\n    GNU C Library (Ubuntu GLIBC 2.35-0ubuntu3.1) stable release version 2.35.\r\n    \r\n    \r\n    $ nm -D /lib/x86_64-linux-gnu/libc.so.6  | grep &#39; stat&#39;\r\n    0000000000113e60 W stat@@GLIBC_2.33\r\n    0000000000113e60 W stat64@@GLIBC_2.33\r\n    00000000001142b0 W statfs@@GLIBC_2.2.5\r\n    00000000001142b0 W statfs64@@GLIBC_2.2.5\r\n    0000000000114310 W statvfs@@GLIBC_2.2.5\r\n    0000000000114310 W statvfs64@@GLIBC_2.2.5\r\n    00000000001141e0 T statx@@GLIBC_2.28\r\n\r\n[1]: https://github.com/mageddo/java-native-examples/blob/8da6244382b739f604450407c2d3e1674e8edb4f/src/main/java/nativeapi/jna/stat/Stats.java","title":"JNA causes UnsatisfiedLinkException with Unix Stat","body":"<p>It's also possible that <code>stat</code> function just don't exists on your installed libc version, as it happened to me.</p>\n<p><code>stat</code> function is not present on <strong>Debian 11.6</strong>  using <code>GLIBC 2.31</code> but it is at <strong>Ubuntu 22.04</strong> which is using <code>GLIBC 2.35</code>.</p>\n<p><code>libc stat</code> function is just a wrapper to <code>syscall</code> <code>4</code> though, so you can use the following code to call <code>stat</code> using <code>syscall</code> function</p>\n<pre><code>public interface Libc extends Library {\n\n  Stats INSTANCE = Native.loadLibrary(Platform.C_LIBRARY_NAME, Libc.class);\n\n  default int stat0(String pathname, Stat statbuf){\n    return this.syscall(4, pathname, statbuf);\n  }\n\n  int syscall(int number, Object... args);\n\n}\n</code></pre>\n<p>Complete code is <a href=\"https://github.com/mageddo/java-native-examples/blob/8da6244382b739f604450407c2d3e1674e8edb4f/src/main/java/nativeapi/jna/stat/Stats.java\" rel=\"nofollow noreferrer\">hosted here</a>, if you're interested</p>\n<p><strong>Debug</strong></p>\n<p>Debian 11.6</p>\n<pre><code>$ strings /lib/x86_64-linux-gnu/libc.so.6  | grep 'GNU C Library'\nGNU C Library (Debian GLIBC 2.31-13+deb11u5) stable release version 2.31.\n\n$ nm -D /lib/x86_64-linux-gnu/libc.so.6  | grep ' stat'\n00000000000ec1c0 W statfs@@GLIBC_2.2.5\n00000000000ec1c0 W statfs64@@GLIBC_2.2.5\n00000000000ec220 W statvfs@@GLIBC_2.2.5\n00000000000ec220 W statvfs64@@GLIBC_2.2.5\n00000000000ec040 T statx@@GLIBC_2.28\n</code></pre>\n<p>Ubuntu 22.02</p>\n<pre><code>$ strings /lib/x86_64-linux-gnu/libc.so.6  | grep 'GNU C Library'\nGNU C Library (Ubuntu GLIBC 2.35-0ubuntu3.1) stable release version 2.35.\n\n\n$ nm -D /lib/x86_64-linux-gnu/libc.so.6  | grep ' stat'\n0000000000113e60 W stat@@GLIBC_2.33\n0000000000113e60 W stat64@@GLIBC_2.33\n00000000001142b0 W statfs@@GLIBC_2.2.5\n00000000001142b0 W statfs64@@GLIBC_2.2.5\n0000000000114310 W statvfs@@GLIBC_2.2.5\n0000000000114310 W statvfs64@@GLIBC_2.2.5\n00000000001141e0 T statx@@GLIBC_2.28\n</code></pre>\n"}],"owner":{"account_id":4444909,"reputation":941,"user_id":3618509,"accept_rate":78,"display_name":"JavaProphet"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":495,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":29877214,"answer_count":2,"score":1,"last_activity_date":1676843012,"creation_date":1429931435,"question_id":29860555,"body_markdown":"So, I&#39;m attempting to call the Linux C - stat function. \r\n\r\nMy JNA code: \r\n\r\n    \tpublic int stat(bap path, bap statdump);\r\n\r\nthe bap class: \r\n\r\n    public static class bap extends Structure {\r\n\t\t\r\n\t\tpublic byte[] array;\r\n\t\t\r\n\t\tpublic bap(int size) {\r\n\t\t\tarray = new byte[size];\r\n\t\t}\r\n\t\t\r\n\t\t@Override\r\n\t\tprotected List getFieldOrder() {\r\n\t\t\treturn Arrays.asList(new String[]{&quot;array&quot;});\r\n\t\t}\r\n\t\t\r\n\t}\r\n\r\nWhich, while nasty, performs as a byte array pointer for many other functions successfully.\r\nWhat I think the problem is, is here: `int stat(const char *restrict path, struct stat *restrict buf);`, as defined by http://linux.die.net/man/3/stat\r\n\r\nHow do I pass a constant char array, and what does the *restrict mean? I attempted to google, but I don&#39;t think it liked * in the search query, as nothing was relevant.\r\n\r\nEDIT: full exception\r\n\r\n    Exception in thread &quot;main&quot; java.lang.reflect.InvocationTargetException\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:      43)\r\n        at java.lang.reflect.Method.invoke(Method.java:497)\r\n        at org.eclipse.jdt.internal.jarinjarloader.JarRsrcLoader.main(JarRsrcLoader.java:58)\r\n    Caused by: java.lang.UnsatisfiedLinkError: Error looking up function &#39;stat&#39;: java: undefined       symbol: stat\r\n        at com.sun.jna.Function.&lt;init&gt;(Function.java:208)\r\n        at com.sun.jna.NativeLibrary.getFunction(NativeLibrary.java:536)\r\n        at com.sun.jna.NativeLibrary.getFunction(NativeLibrary.java:513)\r\n        at com.sun.jna.NativeLibrary.getFunction(NativeLibrary.java:499)\r\n        at com.sun.jna.Library$Handler.invoke(Library.java:199)\r\n        at com.sun.proxy.$Proxy0.stat(Unknown Source)\r\n","title":"JNA causes UnsatisfiedLinkException with Unix Stat","body":"<p>So, I'm attempting to call the Linux C - stat function. </p>\n\n<p>My JNA code: </p>\n\n<pre><code>    public int stat(bap path, bap statdump);\n</code></pre>\n\n<p>the bap class: </p>\n\n<pre><code>public static class bap extends Structure {\n\n    public byte[] array;\n\n    public bap(int size) {\n        array = new byte[size];\n    }\n\n    @Override\n    protected List getFieldOrder() {\n        return Arrays.asList(new String[]{\"array\"});\n    }\n\n}\n</code></pre>\n\n<p>Which, while nasty, performs as a byte array pointer for many other functions successfully.\nWhat I think the problem is, is here: <code>int stat(const char *restrict path, struct stat *restrict buf);</code>, as defined by <a href=\"http://linux.die.net/man/3/stat\" rel=\"nofollow\">http://linux.die.net/man/3/stat</a></p>\n\n<p>How do I pass a constant char array, and what does the *restrict mean? I attempted to google, but I don't think it liked * in the search query, as nothing was relevant.</p>\n\n<p>EDIT: full exception</p>\n\n<pre><code>Exception in thread \"main\" java.lang.reflect.InvocationTargetException\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:      43)\n    at java.lang.reflect.Method.invoke(Method.java:497)\n    at org.eclipse.jdt.internal.jarinjarloader.JarRsrcLoader.main(JarRsrcLoader.java:58)\nCaused by: java.lang.UnsatisfiedLinkError: Error looking up function 'stat': java: undefined       symbol: stat\n    at com.sun.jna.Function.&lt;init&gt;(Function.java:208)\n    at com.sun.jna.NativeLibrary.getFunction(NativeLibrary.java:536)\n    at com.sun.jna.NativeLibrary.getFunction(NativeLibrary.java:513)\n    at com.sun.jna.NativeLibrary.getFunction(NativeLibrary.java:499)\n    at com.sun.jna.Library$Handler.invoke(Library.java:199)\n    at com.sun.proxy.$Proxy0.stat(Unknown Source)\n</code></pre>\n"},{"tags":["java","xml","formatting","eclipse-jdt"],"comments":[{"owner":{"account_id":3377022,"reputation":11135,"user_id":2834978,"display_name":"LMC"},"score":0,"creation_date":1676847707,"post_id":75503647,"comment_id":133214942,"body_markdown":"What do you mean by &quot;force&quot;? Show a compile error?","body":"What do you mean by &quot;force&quot;? Show a compile error?"},{"owner":{"account_id":3159259,"reputation":109678,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1676876788,"post_id":75503647,"comment_id":133218544,"body_markdown":"The formatter doesn&#39;t ever add code, it only formats what is currently there. You can use &quot;Clean up&quot;  (Preferences &gt; Java &gt; Clean up) to do this - look at the &quot;Code Style&quot; &quot;use blocks in if/while/for/do&quot; settings.","body":"The formatter doesn&#39;t ever add code, it only formats what is currently there. You can use &quot;Clean up&quot;  (Preferences &gt; Java &gt; Clean up) to do this - look at the &quot;Code Style&quot; &quot;use blocks in if/while/for/do&quot; settings."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1676889687,"post_id":75503647,"comment_id":133221904,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"owner":{"account_id":20516369,"reputation":3,"user_id":15056922,"display_name":"Tanish azad"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676842894,"creation_date":1676842894,"question_id":75503647,"body_markdown":"I&#39;m trying to set the xml configuration file to force if else statement to always have curly braces but the [docs](https://help.eclipse.org/latest/index.jsp?topic=%2Forg.eclipse.jdt.doc.isv%2Freference%2Fapi%2Forg%2Feclipse%2Fjdt%2Fcore%2Fformatter%2FDefaultCodeFormatterConstants.html) don&#39;t have any option for that.\r\n\r\nHow can i do that?\r\n\r\nI tried googling but its no where to be found","title":"Eclipse jdt formatter configuration to force braces for if else","body":"<p>I'm trying to set the xml configuration file to force if else statement to always have curly braces but the <a href=\"https://help.eclipse.org/latest/index.jsp?topic=%2Forg.eclipse.jdt.doc.isv%2Freference%2Fapi%2Forg%2Feclipse%2Fjdt%2Fcore%2Fformatter%2FDefaultCodeFormatterConstants.html\" rel=\"nofollow noreferrer\">docs</a> don't have any option for that.</p>\n<p>How can i do that?</p>\n<p>I tried googling but its no where to be found</p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":1,"creation_date":1676840403,"post_id":75503405,"comment_id":133213754,"body_markdown":"Please [edit] the post and format the code properly.","body":"Please <a href=\"https://stackoverflow.com/posts/75503405/edit\">edit</a> the post and format the code properly."},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":1,"creation_date":1676840971,"post_id":75503405,"comment_id":133213846,"body_markdown":"Stop using `println` if you don&#39;t want a new line. Tangential: it&#39;d probably be better to gather the results in a list and `join` them, and use a hash to look up the translations, e.g., `String -&gt; String`.","body":"Stop using <code>println</code> if you don&#39;t want a new line. Tangential: it&#39;d probably be better to gather the results in a list and <code>join</code> them, and use a hash to look up the translations, e.g., <code>String -&gt; String</code>."},{"owner":{"account_id":4563475,"reputation":27298,"user_id":3705127,"accept_rate":52,"display_name":"sprinter"},"score":0,"creation_date":1676842033,"post_id":75503405,"comment_id":133214018,"body_markdown":"@DaveNewton note that hash and map aren&#39;t the same thing even though they are sometimes used incorrectly as synonyms. Hashes can be used for data structures that aren&#39;t maps and maps can be implemented without hashes.","body":"@DaveNewton note that hash and map aren&#39;t the same thing even though they are sometimes used incorrectly as synonyms. Hashes can be used for data structures that aren&#39;t maps and maps can be implemented without hashes."},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1676844191,"post_id":75503405,"comment_id":133214415,"body_markdown":"@sprinter Noted. One danger of being a full-time polyglot is translating between languages. I&#39;m fully aware of the technical definitions of the words, but different languages use different terms (e.g., Ruby hashes).","body":"@sprinter Noted. One danger of being a full-time polyglot is translating between languages. I&#39;m fully aware of the technical definitions of the words, but different languages use different terms (e.g., Ruby hashes)."},{"owner":{"account_id":4563475,"reputation":27298,"user_id":3705127,"accept_rate":52,"display_name":"sprinter"},"score":0,"creation_date":1676844526,"post_id":75503405,"comment_id":133214467,"body_markdown":"@DaveNewton yep understood and agree. I honestly think that was poor naming in Ruby - confusing implementation and interface. Data structures are pretty hard for beginners to get their heads around so I&#39;m a bit (too?) obsessed about accurate naming!","body":"@DaveNewton yep understood and agree. I honestly think that was poor naming in Ruby - confusing implementation and interface. Data structures are pretty hard for beginners to get their heads around so I&#39;m a bit (too?) obsessed about accurate naming!"}],"answers":[{"tags":[],"owner":{"account_id":17505813,"reputation":154,"user_id":12695057,"display_name":"JDChris100"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676842596,"creation_date":1676842596,"answer_id":75503622,"question_id":75503405,"body_markdown":"So, you could modify the code and create a method to convert a single char to a morse code string. \r\nThen, you just need to do three simple steps to this string.\r\n1) Split the string into a list of chars\r\n2) Using the Streams Library (https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html) map that list of chars to a list of strings\r\n3) Simply join the list of strings into a single string separated by a space\r\n\r\n\r\n```java\r\npublic class Main {\r\n  static String[] alphabet = {&quot;a.-&quot;, &quot;b-...&quot;, &quot;c-.-.&quot;, &quot;d-..&quot;, &quot;e.&quot;, &quot;f..-.&quot;, &quot;g--.&quot;, &quot;h....&quot;, &quot;i..&quot;, &quot;j.---&quot;, &quot;k-.-&quot;, &quot;l.-..&quot;, &quot;m--&quot;,&quot;n-.&quot;, &quot;o---&quot;, &quot;p.--.&quot;, &quot;q--.-&quot;, &quot;r.-.&quot;, &quot;s...&quot;, &quot;t-&quot;, &quot;u..-&quot;, &quot;v...-&quot;, &quot;w.--&quot;, &quot;x-..-&quot;, &quot;y-.--&quot;, &quot;z--..&quot;};\r\n    \r\n  public static void main(String[] args) {\r\n    String word = &quot;word&quot;;\r\n    String morseCode = word.chars()\r\n        .mapToObj(c -&gt; charToMorse((char) c))\r\n        .collect(Collectors.joining(&quot; &quot;));\r\n    System.out.println(morseCode);\r\n  }\r\n\r\n  public static String charToMorse(char c) {\r\n    for (int j = 0; j &lt; alphabet.length; j++) {\r\n      if (alphabet[j].charAt(0) == Character.toLowerCase(c)) {\r\n        return alphabet[j].substring(1);\r\n      }\r\n    }\r\n    return &quot;&quot;;\r\n  }\r\n}\r\n```","title":"print array content in one line","body":"<p>So, you could modify the code and create a method to convert a single char to a morse code string.\nThen, you just need to do three simple steps to this string.</p>\n<ol>\n<li>Split the string into a list of chars</li>\n<li>Using the Streams Library (<a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html</a>) map that list of chars to a list of strings</li>\n<li>Simply join the list of strings into a single string separated by a space</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>public class Main {\n  static String[] alphabet = {&quot;a.-&quot;, &quot;b-...&quot;, &quot;c-.-.&quot;, &quot;d-..&quot;, &quot;e.&quot;, &quot;f..-.&quot;, &quot;g--.&quot;, &quot;h....&quot;, &quot;i..&quot;, &quot;j.---&quot;, &quot;k-.-&quot;, &quot;l.-..&quot;, &quot;m--&quot;,&quot;n-.&quot;, &quot;o---&quot;, &quot;p.--.&quot;, &quot;q--.-&quot;, &quot;r.-.&quot;, &quot;s...&quot;, &quot;t-&quot;, &quot;u..-&quot;, &quot;v...-&quot;, &quot;w.--&quot;, &quot;x-..-&quot;, &quot;y-.--&quot;, &quot;z--..&quot;};\n    \n  public static void main(String[] args) {\n    String word = &quot;word&quot;;\n    String morseCode = word.chars()\n        .mapToObj(c -&gt; charToMorse((char) c))\n        .collect(Collectors.joining(&quot; &quot;));\n    System.out.println(morseCode);\n  }\n\n  public static String charToMorse(char c) {\n    for (int j = 0; j &lt; alphabet.length; j++) {\n      if (alphabet[j].charAt(0) == Character.toLowerCase(c)) {\n        return alphabet[j].substring(1);\n      }\n    }\n    return &quot;&quot;;\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":27708825,"reputation":21,"user_id":21151907,"display_name":"emarck"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"answer_count":1,"score":0,"last_activity_date":1676842596,"creation_date":1676840338,"question_id":75503405,"body_markdown":"```\r\npublic class morse {\r\n  public static void main(String[] args) {\r\n    String word = &quot;word&quot;;\r\n    String[] alphabet = {&quot;a.-&quot;, &quot;b-...&quot;, &quot;c-.-.&quot;, &quot;d-..&quot;, &quot;e.&quot;, &quot;f..-.&quot;, &quot;g--.&quot;, &quot;h....&quot;, &quot;i..&quot;, &quot;j.---&quot;, &quot;k-.-&quot;, &quot;l.-..&quot;, &quot;m--&quot;,&quot;n-.&quot;, &quot;o---&quot;, &quot;p.--.&quot;, &quot;q--.-&quot;, &quot;r.-.&quot;, &quot;s...&quot;, &quot;t-&quot;, &quot;u..-&quot;, &quot;v...-&quot;, &quot;w.--&quot;, &quot;x-..-&quot;, &quot;y-.--&quot;, &quot;z--..&quot;};\r\n    \r\n    for (int i = 0; i &lt; word.length() ; i++) {\r\n      for (int j = 0; j &lt; alphabet.length; j++) {\r\n        if (alphabet[j].charAt(0) == word.charAt(i)) {\r\n          System.out.println(alphabet[j].substring(1).toString());\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nhow can i print that in one line\r\n\r\ni tried applying .toString at the end of the if condition but that also didnt work and it was still the same, i was  mostly trying to find a simple solution.","title":"print array content in one line","body":"<pre><code>public class morse {\n  public static void main(String[] args) {\n    String word = &quot;word&quot;;\n    String[] alphabet = {&quot;a.-&quot;, &quot;b-...&quot;, &quot;c-.-.&quot;, &quot;d-..&quot;, &quot;e.&quot;, &quot;f..-.&quot;, &quot;g--.&quot;, &quot;h....&quot;, &quot;i..&quot;, &quot;j.---&quot;, &quot;k-.-&quot;, &quot;l.-..&quot;, &quot;m--&quot;,&quot;n-.&quot;, &quot;o---&quot;, &quot;p.--.&quot;, &quot;q--.-&quot;, &quot;r.-.&quot;, &quot;s...&quot;, &quot;t-&quot;, &quot;u..-&quot;, &quot;v...-&quot;, &quot;w.--&quot;, &quot;x-..-&quot;, &quot;y-.--&quot;, &quot;z--..&quot;};\n    \n    for (int i = 0; i &lt; word.length() ; i++) {\n      for (int j = 0; j &lt; alphabet.length; j++) {\n        if (alphabet[j].charAt(0) == word.charAt(i)) {\n          System.out.println(alphabet[j].substring(1).toString());\n        }\n      }\n    }\n  }\n}\n</code></pre>\n<p>how can i print that in one line</p>\n<p>i tried applying .toString at the end of the if condition but that also didnt work and it was still the same, i was  mostly trying to find a simple solution.</p>\n"},{"tags":["java","classloader"],"comments":[{"owner":{"account_id":70258,"reputation":590444,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"score":0,"creation_date":1320237688,"post_id":2036108,"comment_id":9759591,"body_markdown":"See also http://stackoverflow.com/questions/7980133/converting-a-given-class-lets-say-java-lang-object-to-a-byte-array-is-it-po","body":"See also <a href=\"http://stackoverflow.com/questions/7980133/converting-a-given-class-lets-say-java-lang-object-to-a-byte-array-is-it-po\" title=\"converting a given class lets say java lang object to a byte array is it po\">stackoverflow.com/questions/7980133/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":3282,"reputation":146296,"user_id":4725,"accept_rate":100,"display_name":"Tom Hawtin - tackline"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1263098921,"creation_date":1263098921,"answer_id":2036122,"question_id":2036108,"body_markdown":"In general you can&#39;t go back like that. However, for some class loaders you may be able to get the resource file be taking the fully qualified class name, replacing `.` with `/` and appending `.class` (so `mypackage.MyClass` becomes `mypackage/MyClass.class` (remember, may be case sensitive)).","title":"convert Class object to bytes","body":"<p>In general you can't go back like that. However, for some class loaders you may be able to get the resource file be taking the fully qualified class name, replacing <code>.</code> with <code>/</code> and appending <code>.class</code> (so <code>mypackage.MyClass</code> becomes <code>mypackage/MyClass.class</code> (remember, may be case sensitive)).</p>\n"},{"comments":[{"owner":{"account_id":2380504,"reputation":2993,"user_id":2082631,"accept_rate":70,"display_name":"Nikitin Mikhail"},"score":0,"creation_date":1374576561,"post_id":2036139,"comment_id":25983359,"body_markdown":"and how to compile the class back on the other side when I receive this message as `ByteArrayInputStream`?","body":"and how to compile the class back on the other side when I receive this message as <code>ByteArrayInputStream</code>?"},{"owner":{"account_id":4938,"reputation":69433,"user_id":7671,"accept_rate":70,"display_name":"Alex Miller"},"score":1,"creation_date":1375068411,"post_id":2036139,"comment_id":26172495,"body_markdown":"Creating classes from bytes is the job of a ClassLoader.","body":"Creating classes from bytes is the job of a ClassLoader."},{"owner":{"account_id":1814085,"reputation":1326,"user_id":1649567,"accept_rate":71,"display_name":"Rocky Hu"},"score":0,"creation_date":1453964405,"post_id":2036139,"comment_id":57833162,"body_markdown":"Hi, if the class is a proxy class and dynamic be generated at runtime, and stored in the memory, how can we save it to a file?","body":"Hi, if the class is a proxy class and dynamic be generated at runtime, and stored in the memory, how can we save it to a file?"},{"owner":{"account_id":2103408,"reputation":6138,"user_id":1870400,"accept_rate":42,"display_name":"user1870400"},"score":0,"creation_date":1554800144,"post_id":2036139,"comment_id":97874573,"body_markdown":"How to do the reverse? that is to convert byte[] to java.lang.Class?","body":"How to do the reverse? that is to convert byte[] to java.lang.Class?"},{"owner":{"account_id":21717650,"reputation":455,"user_id":16028444,"display_name":"MomoTheDev"},"score":0,"creation_date":1676842786,"post_id":2036139,"comment_id":133214169,"body_markdown":"If you want to recreate the class from the buffer, then look into [this](https://stackoverflow.com/a/75503621/16028444)","body":"If you want to recreate the class from the buffer, then look into <a href=\"https://stackoverflow.com/a/75503621/16028444\">this</a>"}],"tags":[],"owner":{"account_id":4938,"reputation":69433,"user_id":7671,"accept_rate":70,"display_name":"Alex Miller"},"comment_count":5,"down_vote_count":0,"up_vote_count":30,"is_accepted":true,"score":30,"last_activity_date":1383278646,"creation_date":1263099239,"answer_id":2036139,"question_id":2036108,"body_markdown":"You can usually just load the class as a resource from the Classloader.  \r\n\r\n    Class c = ...\r\n    String className = c.getName();\r\n    String classAsPath = className.replace(&#39;.&#39;, &#39;/&#39;) + &quot;.class&quot;;\r\n    InputStream stream = c.getClassLoader().getResourceAsStream(classAsPath);\r\n\r\nI would probably recommend using something from Apache commons-io to read the InputStream into a `byte[]`, but `IOUtils.toByteArray()` should do the trick.  Writing that code is really easy to get wrong and/or make slow.","title":"convert Class object to bytes","body":"<p>You can usually just load the class as a resource from the Classloader.  </p>\n\n<pre><code>Class c = ...\nString className = c.getName();\nString classAsPath = className.replace('.', '/') + \".class\";\nInputStream stream = c.getClassLoader().getResourceAsStream(classAsPath);\n</code></pre>\n\n<p>I would probably recommend using something from Apache commons-io to read the InputStream into a <code>byte[]</code>, but <code>IOUtils.toByteArray()</code> should do the trick.  Writing that code is really easy to get wrong and/or make slow.</p>\n"},{"tags":[],"owner":{"account_id":41228,"reputation":24523,"user_id":119772,"accept_rate":75,"display_name":"Suraj Chandran"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1263113850,"creation_date":1263113850,"answer_id":2036545,"question_id":2036108,"body_markdown":"You can try java [instrumentation][1]! In particular [ClassFileTransformer][2] maybe of interest to you!!\r\n\r\nYou simply override the transform method (from ClassFileTransformer), and your transform method will be called before each class is loaded. So then you cna do whatever class bytes.\r\n\r\n  [1]: http://java.sun.com/j2se/1.5.0/docs/api/java/lang/instrument/package-summary.html\r\n  [2]: http://java.sun.com/j2se/1.5.0/docs/api/java/lang/instrument/ClassFileTransformer.html","title":"convert Class object to bytes","body":"<p>You can try java <a href=\"http://java.sun.com/j2se/1.5.0/docs/api/java/lang/instrument/package-summary.html\" rel=\"nofollow noreferrer\">instrumentation</a>! In particular <a href=\"http://java.sun.com/j2se/1.5.0/docs/api/java/lang/instrument/ClassFileTransformer.html\" rel=\"nofollow noreferrer\">ClassFileTransformer</a> maybe of interest to you!!</p>\n\n<p>You simply override the transform method (from ClassFileTransformer), and your transform method will be called before each class is loaded. So then you cna do whatever class bytes.</p>\n"},{"tags":[],"owner":{"account_id":87016,"reputation":68348,"user_id":241590,"accept_rate":99,"display_name":"stacker"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1587488977,"creation_date":1263128736,"answer_id":2037065,"question_id":2036108,"body_markdown":"Make use of the [ClassFileTransformer](https://web.archive.org/web/20100207011321/http://www.sixlegs.com/blog/java/definalizer.html).\r\n","title":"convert Class object to bytes","body":"<p>Make use of the <a href=\"https://web.archive.org/web/20100207011321/http://www.sixlegs.com/blog/java/definalizer.html\" rel=\"nofollow noreferrer\">ClassFileTransformer</a>.</p>\n"},{"tags":[],"owner":{"account_id":21717650,"reputation":455,"user_id":16028444,"display_name":"MomoTheDev"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676842568,"creation_date":1676842568,"answer_id":75503621,"question_id":2036108,"body_markdown":"Here&#39;s a bit of help,\r\n\r\nuse \r\n```java\r\n\r\nfinal Class&lt;T&gt; clazz = ...\r\nfinal byte[] buffer = clazz.getClassLoader().getResourceAsStream(clazz.getName().replace(&#39;.&#39;, &#39;/&#39;).concat(&quot;.class&quot;));\r\n\r\n```\r\nto get the compiled byte code of the class.\r\n\r\n---\r\nAnd use \r\n```java\r\n\r\nclass SimpleClassLoader extends ClassLoader {\r\n\r\n    public Clazz&lt;?&gt; loadFromBuffer(final byte[] buffer) {\r\n        return defineClass(buffer, 0, buffer.length);\r\n    }\r\n\r\n    public Object newObjectFromBuffer(final byte[] buffer) {\r\n        return loadFromBuffer(buffer).newInstance();\r\n    }\r\n\r\n}\r\n\r\n```\r\nto instantiate an `Object` or to load the `Class` back from the buffer.","title":"convert Class object to bytes","body":"<p>Here's a bit of help,</p>\n<p>use</p>\n<pre class=\"lang-java prettyprint-override\"><code>\nfinal Class&lt;T&gt; clazz = ...\nfinal byte[] buffer = clazz.getClassLoader().getResourceAsStream(clazz.getName().replace('.', '/').concat(&quot;.class&quot;));\n\n</code></pre>\n<p>to get the compiled byte code of the class.</p>\n<hr />\n<p>And use</p>\n<pre class=\"lang-java prettyprint-override\"><code>\nclass SimpleClassLoader extends ClassLoader {\n\n    public Clazz&lt;?&gt; loadFromBuffer(final byte[] buffer) {\n        return defineClass(buffer, 0, buffer.length);\n    }\n\n    public Object newObjectFromBuffer(final byte[] buffer) {\n        return loadFromBuffer(buffer).newInstance();\n    }\n\n}\n\n</code></pre>\n<p>to instantiate an <code>Object</code> or to load the <code>Class</code> back from the buffer.</p>\n"}],"owner":{"account_id":25378,"reputation":2745,"user_id":65192,"accept_rate":81,"display_name":"Brian Harris"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18100,"favorite_count":0,"down_vote_count":0,"up_vote_count":30,"accepted_answer_id":2036139,"answer_count":5,"score":30,"last_activity_date":1676842568,"creation_date":1263098537,"question_id":2036108,"body_markdown":"If I have a [Class][1] instance at runtime, can I get its byte[] representation?  The bytes I&#39;m interested in would be in the [Class file format][2], such that they&#39;d be valid input to  [ClassLoader.defineClass][3].\r\n\r\n\r\n  [1]: http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Class.html\r\n  [2]: http://java.sun.com/docs/books/jvms/second_edition/html/ClassFile.doc.html\r\n  [3]: http://java.sun.com/j2se/1.5.0/docs/api/java/lang/ClassLoader.html#defineClass(java.lang.String, byte[], int, int)\r\n\r\nEDIT: I&#39;ve accepted a getResourceAsStream answer, because it&#39;s very simple and will work most of the time.  ClassFileTransformer seems like a more robust solution because it doesn&#39;t require that classes be loaded from .class files; it would handle network-loaded classes for example.  There&#39;s a few hoops to jump through with that approach, but I&#39;ll keep in in mind.  Thanks all!","title":"convert Class object to bytes","body":"<p>If I have a <a href=\"http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Class.html\" rel=\"noreferrer\">Class</a> instance at runtime, can I get its byte[] representation?  The bytes I'm interested in would be in the <a href=\"http://java.sun.com/docs/books/jvms/second_edition/html/ClassFile.doc.html\" rel=\"noreferrer\">Class file format</a>, such that they'd be valid input to  [ClassLoader.defineClass][3].</p>\n\n<p>[3]: <a href=\"http://java.sun.com/j2se/1.5.0/docs/api/java/lang/ClassLoader.html#defineClass(java.lang.String\" rel=\"noreferrer\">http://java.sun.com/j2se/1.5.0/docs/api/java/lang/ClassLoader.html#defineClass(java.lang.String</a>, byte[], int, int)</p>\n\n<p>EDIT: I've accepted a getResourceAsStream answer, because it's very simple and will work most of the time.  ClassFileTransformer seems like a more robust solution because it doesn't require that classes be loaded from .class files; it would handle network-loaded classes for example.  There's a few hoops to jump through with that approach, but I'll keep in in mind.  Thanks all!</p>\n"},{"tags":["java","spring-boot","datetime","jackson","date-format"],"comments":[{"owner":{"account_id":13170666,"reputation":78679,"user_id":9513184,"display_name":"Unmitigated"},"score":0,"creation_date":1676840971,"post_id":75503418,"comment_id":133213845,"body_markdown":"Take a look at this question: https://stackoverflow.com/questions/65103102/set-external-date-format-pattern-to-jsonformat-from-a-properties-file","body":"Take a look at this question: <a href=\"https://stackoverflow.com/questions/65103102/set-external-date-format-pattern-to-jsonformat-from-a-properties-file\" title=\"set external date format pattern to jsonformat from a properties file\">stackoverflow.com/questions/65103102/&hellip;</a>"},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":1,"creation_date":1676841069,"post_id":75503418,"comment_id":133213863,"body_markdown":"I don&#39;t know the answer to your question, but when faced with questions like this one, I tend to try it both ways, and see which one works.  A lot of software development consists of trying something, testing it out, failing, then trying something else.","body":"I don&#39;t know the answer to your question, but when faced with questions like this one, I tend to try it both ways, and see which one works.  A lot of software development consists of trying something, testing it out, failing, then trying something else."},{"owner":{"account_id":3446101,"reputation":11395,"user_id":2886891,"accept_rate":75,"display_name":"Honza Zidek"},"score":0,"creation_date":1676841130,"post_id":75503418,"comment_id":133213875,"body_markdown":"TL;DR: Java annotation do not accept variable values. More detailed - see https://stackoverflow.com/q/10636201/2886891, https://stackoverflow.com/q/62798011/2886891, https://stackoverflow.com/q/54403433/2886891, https://stackoverflow.com/q/14268981/2886891, https://stackoverflow.com/q/12568385/2886891","body":"TL;DR: Java annotation do not accept variable values. More detailed - see <a href=\"https://stackoverflow.com/q/10636201/2886891\">stackoverflow.com/q/10636201/2886891</a>, <a href=\"https://stackoverflow.com/q/62798011/2886891\">stackoverflow.com/q/62798011/2886891</a>, <a href=\"https://stackoverflow.com/q/54403433/2886891\">stackoverflow.com/q/54403433/2886891</a>, <a href=\"https://stackoverflow.com/q/14268981/2886891\">stackoverflow.com/q/14268981/2886891</a>, <a href=\"https://stackoverflow.com/q/12568385/2886891\">stackoverflow.com/q/12568385/2886891</a>"},{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1676841159,"post_id":75503418,"comment_id":133213881,"body_markdown":"@Unmitigated Thanks for help, it seems to suggest to use Value as I tried, but it is also not working.","body":"@Unmitigated Thanks for help, it seems to suggest to use Value as I tried, but it is also not working."},{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1676841248,"post_id":75503418,"comment_id":133213895,"body_markdown":"@HonzaZidek So, do you have any suggestion for using date format in DTO? Should I use Value annotation or anything? I also tried to use it but could not make it work.","body":"@HonzaZidek So, do you have any suggestion for using date format in DTO? Should I use Value annotation or anything? I also tried to use it but could not make it work."},{"owner":{"account_id":3446101,"reputation":11395,"user_id":2886891,"accept_rate":75,"display_name":"Honza Zidek"},"score":0,"creation_date":1676841291,"post_id":75503418,"comment_id":133213901,"body_markdown":"The way to achieve your goal would be probably something like modifying the JSON serializer/deserializer, which *can* be done in the code, so dynamically.","body":"The way to achieve your goal would be probably something like modifying the JSON serializer/deserializer, which <i>can</i> be done in the code, so dynamically."}],"answers":[{"comments":[{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1676841954,"post_id":75503523,"comment_id":133214004,"body_markdown":"Thanks a lot, but it says &quot;Although setting the default format like this is quite handy and straightforward, there&#39;s a drawback to this approach. Unfortunately, it doesn&#39;t work with the Java 8 date types, such as LocalDate and LocalDateTime. We can only use it to format fields of the type java.util.Date or the java.util.Calendar.&quot; I use `LocalDateTime`, then should I configure serializer?","body":"Thanks a lot, but it says &quot;Although setting the default format like this is quite handy and straightforward, there&#39;s a drawback to this approach. Unfortunately, it doesn&#39;t work with the Java 8 date types, such as LocalDate and LocalDateTime. We can only use it to format fields of the type java.util.Date or the java.util.Calendar.&quot; I use <code>LocalDateTime</code>, then should I configure serializer?"}],"tags":[],"owner":{"account_id":3446101,"reputation":11395,"user_id":2886891,"accept_rate":75,"display_name":"Honza Zidek"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1676842158,"creation_date":1676841556,"answer_id":75503523,"question_id":75503418,"body_markdown":"You have good tips here: https://www.baeldung.com/spring-boot-formatting-json-dates\r\n\r\nEither configure the default format, like\r\n\r\n``` \r\nspring.jackson.date-format=dd.MM.yyyy\r\n```\r\n\r\nor configure the serializer:\r\n\r\n``` lang-java\r\n@Configuration\r\npublic class MyJsonConfig {\r\n    @Value(&quot;${spring.jackson.date-format}&quot;)\r\n    private String dateFormat;\r\n\r\n    @Bean\r\n    public Jackson2ObjectMapperBuilderCustomizer jsonCustomizer() {\r\n        return builder -&gt; {\r\n            builder.simpleDateFormat(dateTimeFormat);\r\n            builder.serializers(new LocalDateSerializer(DateTimeFormatter.ofPattern(dateFormat)));\r\n            builder.serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(dateFormat)));\r\n        };\r\n    }\r\n}\r\n```\r\n","title":"Using application property in Spring Boot annotation?","body":"<p>You have good tips here: <a href=\"https://www.baeldung.com/spring-boot-formatting-json-dates\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-boot-formatting-json-dates</a></p>\n<p>Either configure the default format, like</p>\n<pre><code>spring.jackson.date-format=dd.MM.yyyy\n</code></pre>\n<p>or configure the serializer:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\npublic class MyJsonConfig {\n    @Value(&quot;${spring.jackson.date-format}&quot;)\n    private String dateFormat;\n\n    @Bean\n    public Jackson2ObjectMapperBuilderCustomizer jsonCustomizer() {\n        return builder -&gt; {\n            builder.simpleDateFormat(dateTimeFormat);\n            builder.serializers(new LocalDateSerializer(DateTimeFormatter.ofPattern(dateFormat)));\n            builder.serializers(new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(dateFormat)));\n        };\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":153343,"reputation":1086,"user_id":368532,"accept_rate":70,"display_name":"Boris"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1676841754,"creation_date":1676841754,"answer_id":75503543,"question_id":75503418,"body_markdown":" 1. **JsonFormat** is not a spring annotation, therefore you can&#39;t use spring expression language. \r\n2. **spring.jackson.date-format** defines default date format for some types of date classes, you don&#39;t have to use this variable inside **JsonFormat**, just define the value. For details see e.g. https://www.baeldung.com/spring-boot-formatting-json-dates\r\n3. If you would like to be more flexible in spring you can define converters for any type, see the same article. ","title":"Using application property in Spring Boot annotation?","body":"<ol>\n<li><strong>JsonFormat</strong> is not a spring annotation, therefore you can't use spring expression language.</li>\n<li><strong>spring.jackson.date-format</strong> defines default date format for some types of date classes, you don't have to use this variable inside <strong>JsonFormat</strong>, just define the value. For details see e.g. <a href=\"https://www.baeldung.com/spring-boot-formatting-json-dates\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-boot-formatting-json-dates</a></li>\n<li>If you would like to be more flexible in spring you can define converters for any type, see the same article.</li>\n</ol>\n"}],"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":223,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75503523,"answer_count":2,"score":0,"last_activity_date":1676842158,"creation_date":1676840475,"question_id":75503418,"body_markdown":"I have the following date field in my DTO class:\r\n\r\n```\r\n@JsonFormat(pattern=&quot;dd.MM.yyyy&quot;)\r\nprivate LocalDateTime date;\r\n```\r\n\r\nI define the date format in my application.yml as shown below:\r\n\r\n```\r\nspring:\r\n  jackson:\r\n    date-format: &quot;dd.MM.yyyy&quot;\r\n```\r\n\r\n&lt;br/&gt;\r\n\r\nI am trying to use this format in my DTO field directly like below:\r\n\r\n```\r\n@JsonFormat(pattern=&quot;${spring.jackson.date-format}&quot;)\r\nprivate LocalDateTime date;\r\n```\r\n\r\nIs it possible? Or do  have to add a `@Value` field like below? I tried but cannot use this `dateFormat` in my date field. \r\n\r\n```\r\n@Value(&quot;${spring.jackson.date-format}&quot;)\r\nprivate String dateFormat;\r\n```","title":"Using application property in Spring Boot annotation?","body":"<p>I have the following date field in my DTO class:</p>\n<pre><code>@JsonFormat(pattern=&quot;dd.MM.yyyy&quot;)\nprivate LocalDateTime date;\n</code></pre>\n<p>I define the date format in my application.yml as shown below:</p>\n<pre><code>spring:\n  jackson:\n    date-format: &quot;dd.MM.yyyy&quot;\n</code></pre>\n<br/>\n<p>I am trying to use this format in my DTO field directly like below:</p>\n<pre><code>@JsonFormat(pattern=&quot;${spring.jackson.date-format}&quot;)\nprivate LocalDateTime date;\n</code></pre>\n<p>Is it possible? Or do  have to add a <code>@Value</code> field like below? I tried but cannot use this <code>dateFormat</code> in my date field.</p>\n<pre><code>@Value(&quot;${spring.jackson.date-format}&quot;)\nprivate String dateFormat;\n</code></pre>\n"},{"tags":["java","double"],"answers":[{"tags":[],"owner":{"account_id":8433338,"reputation":20078,"user_id":6328256,"display_name":"Sash Sinha"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1676842037,"creation_date":1676841725,"answer_id":75503540,"question_id":75503392,"body_markdown":"Try using &lt;code&gt;String.&lt;b&gt;split&lt;/b&gt;&lt;/code&gt;:\r\n\r\n    class Main {\r\n        private static final int MAX_DIST_FROM_DECMIMAL_POINT = 2;\r\n\r\n        public static double extractDouble(double num) {\r\n            // 0. Return early if num is zero.\r\n            if (num == 0) {\r\n                return 0;\r\n            }\r\n            // 1. Cast the double into a string.\r\n            String numStr = String.valueOf(num);\r\n            // 2. Split the string at the decimal point into the integer and decimal parts.\r\n            String[] parts = numStr.split(&quot;\\\\.&quot;);\r\n            String intPart = parts[0];\r\n            String decPart = parts[1];\r\n            // 3. Extract substrings around decimal point.\r\n            String newIntPart = intPart.substring(intPart.length() - Math.min(intPart.length(), MAX_DIST_FROM_DECMIMAL_POINT));\r\n            String newDecPart = decPart.substring(0, Math.min(decPart.length(), MAX_DIST_FROM_DECMIMAL_POINT));\r\n            // 4. Comine the two strings into a double.\r\n            return Double.parseDouble(newIntPart + &quot;.&quot; + newDecPart);\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            double n1 = 1054001.4032;\r\n            System.out.printf(&quot;%f =&gt; %.2f%n&quot;, n1, extractDouble(n1));\r\n            double n2 = 2015.0634547;\r\n            System.out.printf(&quot;%f =&gt; %.2f%n&quot;, n2, extractDouble(n2));\r\n            double n3 = 319.00056;\r\n            System.out.printf(&quot;%f =&gt; %.2f%n&quot;, n3, extractDouble(n3));\r\n            double n4 = 1.2;\r\n            System.out.printf(&quot;%f =&gt; %.2f%n&quot;, n4, extractDouble(n4));\r\n        }\r\n    }\r\n\r\n**Output:**\r\n\r\n    1054001.403200 =&gt; 1.40\r\n    2015.063455 =&gt; 15.06\r\n    319.000560 =&gt; 19.00\r\n    1.200000 =&gt; 1.20\r\n\r\n","title":"How to create new double number with 2 numbers before and 2 numbers after dot from a previous double number?","body":"<p>Try using <code>String.<b>split</b></code>:</p>\n<pre><code>class Main {\n    private static final int MAX_DIST_FROM_DECMIMAL_POINT = 2;\n\n    public static double extractDouble(double num) {\n        // 0. Return early if num is zero.\n        if (num == 0) {\n            return 0;\n        }\n        // 1. Cast the double into a string.\n        String numStr = String.valueOf(num);\n        // 2. Split the string at the decimal point into the integer and decimal parts.\n        String[] parts = numStr.split(&quot;\\\\.&quot;);\n        String intPart = parts[0];\n        String decPart = parts[1];\n        // 3. Extract substrings around decimal point.\n        String newIntPart = intPart.substring(intPart.length() - Math.min(intPart.length(), MAX_DIST_FROM_DECMIMAL_POINT));\n        String newDecPart = decPart.substring(0, Math.min(decPart.length(), MAX_DIST_FROM_DECMIMAL_POINT));\n        // 4. Comine the two strings into a double.\n        return Double.parseDouble(newIntPart + &quot;.&quot; + newDecPart);\n    }\n\n    public static void main(String[] args) {\n        double n1 = 1054001.4032;\n        System.out.printf(&quot;%f =&gt; %.2f%n&quot;, n1, extractDouble(n1));\n        double n2 = 2015.0634547;\n        System.out.printf(&quot;%f =&gt; %.2f%n&quot;, n2, extractDouble(n2));\n        double n3 = 319.00056;\n        System.out.printf(&quot;%f =&gt; %.2f%n&quot;, n3, extractDouble(n3));\n        double n4 = 1.2;\n        System.out.printf(&quot;%f =&gt; %.2f%n&quot;, n4, extractDouble(n4));\n    }\n}\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre><code>1054001.403200 =&gt; 1.40\n2015.063455 =&gt; 15.06\n319.000560 =&gt; 19.00\n1.200000 =&gt; 1.20\n</code></pre>\n"}],"owner":{"account_id":25818749,"reputation":23,"user_id":19558278,"display_name":"user406"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":75503540,"answer_count":1,"score":1,"last_activity_date":1676842037,"creation_date":1676840154,"question_id":75503392,"body_markdown":"I need help to create a new double number by selecting 2 numbers before dot and 2 numbers after dot from a previous double number.\r\n\r\nFor example:\r\n\r\nDouble number: 10540**01.40**32\r\n\r\nNew double number: **1.40**\r\n\r\n\r\nDouble number: 20**15.06**34547\r\n\r\nNew double number: **15.06**\r\n\r\n\r\nDouble number: 3**19.00**056\r\n\r\nNew double number: **19.00**\r\n\r\nSo far, I found instructions on splitting (which is not the case). My goal is to create a new double number as shown above.","title":"How to create new double number with 2 numbers before and 2 numbers after dot from a previous double number?","body":"<p>I need help to create a new double number by selecting 2 numbers before dot and 2 numbers after dot from a previous double number.</p>\n<p>For example:</p>\n<p>Double number: 10540<strong>01.40</strong>32</p>\n<p>New double number: <strong>1.40</strong></p>\n<p>Double number: 20<strong>15.06</strong>34547</p>\n<p>New double number: <strong>15.06</strong></p>\n<p>Double number: 3<strong>19.00</strong>056</p>\n<p>New double number: <strong>19.00</strong></p>\n<p>So far, I found instructions on splitting (which is not the case). My goal is to create a new double number as shown above.</p>\n"},{"tags":["java","date","datetime","java-time","datetime-conversion"],"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1676222628,"post_id":75428799,"comment_id":133089806,"body_markdown":"Do you mean `atZoneSameInstant(ZoneId)`","body":"Do you mean <code>atZoneSameInstant(ZoneId)</code>"},{"owner":{"account_id":965625,"reputation":1524,"user_id":1103606,"accept_rate":51,"display_name":"Peter Penzov"},"score":0,"creation_date":1676222716,"post_id":75428799,"comment_id":133089830,"body_markdown":"sorry can you clarify more?","body":"sorry can you clarify more?"},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1676222818,"post_id":75428799,"comment_id":133089850,"body_markdown":"The method `atZoneSameInstant(ZoneId)` seems to be the closest equivalent of `org.joda.time.DateTime.withZone(..)` for `java.time.OffsetDateTime`. Or maybe you intended to use `java.time.Instant`, and then you&#39;d need to use the method `atZone(ZoneId)`.","body":"The method <code>atZoneSameInstant(ZoneId)</code> seems to be the closest equivalent of <code>org.joda.time.DateTime.withZone(..)</code> for <code>java.time.OffsetDateTime</code>. Or maybe you intended to use <code>java.time.Instant</code>, and then you&#39;d need to use the method <code>atZone(ZoneId)</code>."},{"owner":{"account_id":965625,"reputation":1524,"user_id":1103606,"accept_rate":51,"display_name":"Peter Penzov"},"score":0,"creation_date":1676222916,"post_id":75428799,"comment_id":133089866,"body_markdown":"ok but for `atZoneSameInstant(.....)` what argument I need to pass which will be same as `DateTimeZone.UTC`?","body":"ok but for <code>atZoneSameInstant(.....)</code> what argument I need to pass which will be same as <code>DateTimeZone.UTC</code>?"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1676224031,"post_id":75428799,"comment_id":133090049,"body_markdown":"Do you mean to migrate from the *Joda-Time* library to the *java.time* classes built into Java 8+? If so, say so. Edit the body of your Question.","body":"Do you mean to migrate from the <i>Joda-Time</i> library to the <i>java.time</i> classes built into Java 8+? If so, say so. Edit the body of your Question."},{"owner":{"account_id":965625,"reputation":1524,"user_id":1103606,"accept_rate":51,"display_name":"Peter Penzov"},"score":0,"creation_date":1676225912,"post_id":75428799,"comment_id":133090470,"body_markdown":"I want to migrate the code to java 17 but keeping the same functionality as much as I can. Can you guide me how to do it properly, please?","body":"I want to migrate the code to java 17 but keeping the same functionality as much as I can. Can you guide me how to do it properly, please?"},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1676278883,"post_id":75428799,"comment_id":133098017,"body_markdown":"You can use `ZoneOffset.UTC`, or `ZoneId.of(&quot;UTC&quot;)`","body":"You can use <code>ZoneOffset.UTC</code>, or <code>ZoneId.of(&quot;UTC&quot;)</code>"},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1676278944,"post_id":75428799,"comment_id":133098034,"body_markdown":"That said, migrating to Java 17 has nothing to do with switching to Jodatime. The `java.time` classes have been there since Java 8, and as far as I&#39;m aware, Jodatime works fine on Java 17.","body":"That said, migrating to Java 17 has nothing to do with switching to Jodatime. The <code>java.time</code> classes have been there since Java 8, and as far as I&#39;m aware, Jodatime works fine on Java 17."},{"owner":{"account_id":965625,"reputation":1524,"user_id":1103606,"accept_rate":51,"display_name":"Peter Penzov"},"score":0,"creation_date":1676304085,"post_id":75428799,"comment_id":133105630,"body_markdown":"I updated the post with your proposal but I get now error: `Cannot resolve method &#39;print(ZonedDateTime)&#39;`","body":"I updated the post with your proposal but I get now error: <code>Cannot resolve method &#39;print(ZonedDateTime)&#39;</code>"},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1676304297,"post_id":75428799,"comment_id":133105703,"body_markdown":"@PeterPenzov Just trying to migrate by trying to replace types and ask a question or comment for each compilation error you get is not a fruitful exercise. Study the actual API and you&#39;ll see that the [`java.time.format.DateTimeFormatter`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/format/DateTimeFormatter.html) doesn&#39;t have a `print` method (you probably want `format`).","body":"@PeterPenzov Just trying to migrate by trying to replace types and ask a question or comment for each compilation error you get is not a fruitful exercise. Study the actual API and you&#39;ll see that the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/format/DateTimeFormatter.html\" rel=\"nofollow noreferrer\"><code>java.time.format.DateTimeFormatter</code></a> doesn&#39;t have a <code>print</code> method (you probably want <code>format</code>)."},{"owner":{"account_id":965625,"reputation":1524,"user_id":1103606,"accept_rate":51,"display_name":"Peter Penzov"},"score":0,"creation_date":1676304495,"post_id":75428799,"comment_id":133105767,"body_markdown":"Sorry but the code is very critical and I don&#39;t have much of experience with DateTime. I get `Cannot resolve method &#39;format&#39; in &#39;DateTimeFormatter&#39;` There is no method format.","body":"Sorry but the code is very critical and I don&#39;t have much of experience with DateTime. I get <code>Cannot resolve method &#39;format&#39; in &#39;DateTimeFormatter&#39;</code> There is no method format."},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1676304654,"post_id":75428799,"comment_id":133105822,"body_markdown":"Then you&#39;re probably still using the `DateTimeFormatter` of Joda-Time, not of Java. And if the code is so critical, then either don&#39;t migrate away from Joda-Time, or it should be done by someone with more experience in Joda-Time and the java.time API. As far as I&#39;m aware, it works fine on Java 17, so that cannot be the reason why you&#39;re migrating away from it.","body":"Then you&#39;re probably still using the <code>DateTimeFormatter</code> of Joda-Time, not of Java. And if the code is so critical, then either don&#39;t migrate away from Joda-Time, or it should be done by someone with more experience in Joda-Time and the java.time API. As far as I&#39;m aware, it works fine on Java 17, so that cannot be the reason why you&#39;re migrating away from it."},{"owner":{"account_id":965625,"reputation":1524,"user_id":1103606,"accept_rate":51,"display_name":"Peter Penzov"},"score":0,"creation_date":1676305969,"post_id":75428799,"comment_id":133106294,"body_markdown":"yes, you&#39;re right. Last question which formatter I need to use for Java time?","body":"yes, you&#39;re right. Last question which formatter I need to use for Java time?"},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1676840215,"post_id":75428799,"comment_id":133213719,"body_markdown":"`.withOffsetSameInstant(ZoneOffset.UTC)`?","body":"<code>.withOffsetSameInstant(ZoneOffset.UTC)</code>?"},{"owner":{"account_id":965625,"reputation":1524,"user_id":1103606,"accept_rate":51,"display_name":"Peter Penzov"},"score":1,"creation_date":1676842242,"post_id":75428799,"comment_id":133214060,"body_markdown":"`log` is the entity (public class Log {...})","body":"<code>log</code> is the entity (public class Log {...})"},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1676866765,"post_id":75428799,"comment_id":133217159,"body_markdown":"I got confused because you are trying to call `log.setTimestamp()` but in your `Log` entity I dont see any `setTimestamp` method? Which type has its parameter got?","body":"I got confused because you are trying to call <code>log.setTimestamp()</code> but in your <code>Log</code> entity I dont see any <code>setTimestamp</code> method? Which type has its parameter got?"},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1676867000,"post_id":75428799,"comment_id":133217190,"body_markdown":"You format string `yy-mm-dd&#39;T&#39;HH:mm:ss&#39;Z&#39;` is weird and wrong (both in the old and the new code). It is trying to be [ISO 8601](https://en.wikipedia.org/wiki/ISO_8601), but in ISO 8601 two digit year is not allowed. The first lower case `mm` is wrong as explained in the answer. Putting `Z` in quotes is wrong too. Its the offset, so format the offset from the datetime. To produce proper ISO 8601 you dont need a format pattern string since both Joda-Time and java.time produce ISO 8601 natively.","body":"You format string <code>yy-mm-dd&#39;T&#39;HH:mm:ss&#39;Z&#39;</code> is weird and wrong (both in the old and the new code). It is trying to be <a href=\"https://en.wikipedia.org/wiki/ISO_8601\" rel=\"nofollow noreferrer\">ISO 8601</a>, but in ISO 8601 two digit year is not allowed. The first lower case <code>mm</code> is wrong as explained in the answer. Putting <code>Z</code> in quotes is wrong too. Its the offset, so format the offset from the datetime. To produce proper ISO 8601 you dont need a format pattern string since both Joda-Time and java.time produce ISO 8601 natively."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1676867353,"post_id":75428799,"comment_id":133217238,"body_markdown":"So to produce a string, assuming `auditLog` is a `Log`: `auditLog .getInsertedDate() .withOffsetSameInstant(ZoneOffset.UTC) .toString()`. Or if you dont want the fraction of second: `... .withOffsetSameInstant(ZoneOffset.UTC) .truncatedTo(ChronoUnit.SECONDS) .toString()`.","body":"So to produce a string, assuming <code>auditLog</code> is a <code>Log</code>: <code>auditLog .getInsertedDate() .withOffsetSameInstant(ZoneOffset.UTC) .toString()</code>. Or if you dont want the fraction of second: <code>... .withOffsetSameInstant(ZoneOffset.UTC) .truncatedTo(ChronoUnit.SECONDS) .toString()</code>."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1676867643,"post_id":75428799,"comment_id":133217272,"body_markdown":"(You may know this already), for better response to your question (1) provide full reproducible code ([mre]) (2) add all the right tags.","body":"(You may know this already), for better response to your question (1) provide full reproducible code (<a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>) (2) add all the right tags."}],"answers":[{"comments":[{"owner":{"account_id":965625,"reputation":1524,"user_id":1103606,"accept_rate":51,"display_name":"Peter Penzov"},"score":0,"creation_date":1676831317,"post_id":75501211,"comment_id":133212102,"body_markdown":"Thank you for your answer. One follow-up question which is not clear to me. Should I use  `joda time library` or `java date time api` from Java 17?","body":"Thank you for your answer. One follow-up question which is not clear to me. Should I use  <code>joda time library</code> or <code>java date time api</code> from Java 17?"},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":2,"creation_date":1676840549,"post_id":75501211,"comment_id":133213774,"body_markdown":"[The Joda-time homepage](https://www.joda.org/joda-time/) answera that part clearly: *Note that Joda-Time is considered to be a largely finished project. No major enhancements are planned. If using Java SE 8, please migrate to `java.time` (JSR-310).*","body":"<a href=\"https://www.joda.org/joda-time/\" rel=\"nofollow noreferrer\">The Joda-time homepage</a> answera that part clearly: <i>Note that Joda-Time is considered to be a largely finished project. No major enhancements are planned. If using Java SE 8, please migrate to <code>java.time</code> (JSR-310).</i>"}],"tags":[],"owner":{"account_id":21003685,"reputation":255,"user_id":15433963,"display_name":"Neil Menezes"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1676820531,"creation_date":1676820531,"answer_id":75501211,"question_id":75428799,"body_markdown":"First of all, it looks like your time format isn&#39;t what you intended it to be. \r\n\r\n&quot;yy-**mm**-dd&#39;T&#39;HH:mm:ss&#39;Z&#39;&quot; would mean a format that prints: \r\n&lt;br/&gt;*year-minutes-days&#39;T&#39;Hours(24 hour format):minutes:secondsZ*\r\n&lt;br/&gt;example: 23-**48**-19T14:48:17Z\r\n\r\nI&#39;m assuming you want to follow years with month of the year and so the format should be:\r\n&lt;br/&gt;&quot;yy-**MM**-dd&#39;T&#39;HH:mm:ss&#39;Z&#39;&quot;\r\n&lt;br/&gt;example: 23-**02**-19T14:48:17Z\r\n\r\nTo know more about constructing patterns for formatting please refer the section **&quot;Patterns for Formatting and Parsing&quot;** in the [java time api docs][1]\r\n\r\n&lt;br/&gt;&lt;br/&gt;Now, coming to your question,\r\n&lt;br/&gt; You seem to be mixing the [joda time library][2] with [java date time api][3]. Written purely with the java date time api, your code should look something like:\r\n\r\n    import java.time.OffsetDateTime;\r\n    import java.time.ZoneId;\r\n    import java.time.format.DateTimeFormatter;\r\n\r\n\r\n    DateTimeFormatter dateFormatter = DateTimeFormatter.ofPattern(&quot;yy-MM-dd&#39;T&#39;HH:mm:ss&#39;Z&#39;&quot;);\r\n    log.setInsertedDate(OffsetDateTime.now());\r\n    log.setTimestamp(dateFormatter.format(auditLog.getInsertedDate().atZoneSameInstant(ZoneId.of(&quot;UTC&quot;))));\r\n    \r\n\r\n\r\nPS: I know that working with date time objects can be frustrating and confusing in Java especially because there used to be more than one way to do it. I would recommend reading the [java date time api tutorials][4] to get a better understanding and to always use it (when writing in java 8+) to avoid confusion.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html\r\n  [2]: https://www.joda.org/joda-time/\r\n  [3]: https://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html\r\n  [4]: https://docs.oracle.com/javase/tutorial/datetime/index.html","title":"Cannot resolve method &#39;withZone&#39; in &#39;OffsetDateTime&#39;","body":"<p>First of all, it looks like your time format isn't what you intended it to be.</p>\n<p>&quot;yy-<strong>mm</strong>-dd'T'HH:mm:ss'Z'&quot; would mean a format that prints:\n<br/><em>year-minutes-days'T'Hours(24 hour format):minutes:secondsZ</em>\n<br/>example: 23-<strong>48</strong>-19T14:48:17Z</p>\n<p>I'm assuming you want to follow years with month of the year and so the format should be:\n<br/>&quot;yy-<strong>MM</strong>-dd'T'HH:mm:ss'Z'&quot;\n<br/>example: 23-<strong>02</strong>-19T14:48:17Z</p>\n<p>To know more about constructing patterns for formatting please refer the section <strong>&quot;Patterns for Formatting and Parsing&quot;</strong> in the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html\" rel=\"nofollow noreferrer\">java time api docs</a></p>\n<p><br/><br/>Now, coming to your question,\n<br/> You seem to be mixing the <a href=\"https://www.joda.org/joda-time/\" rel=\"nofollow noreferrer\">joda time library</a> with <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html\" rel=\"nofollow noreferrer\">java date time api</a>. Written purely with the java date time api, your code should look something like:</p>\n<pre><code>import java.time.OffsetDateTime;\nimport java.time.ZoneId;\nimport java.time.format.DateTimeFormatter;\n\n\nDateTimeFormatter dateFormatter = DateTimeFormatter.ofPattern(&quot;yy-MM-dd'T'HH:mm:ss'Z'&quot;);\nlog.setInsertedDate(OffsetDateTime.now());\nlog.setTimestamp(dateFormatter.format(auditLog.getInsertedDate().atZoneSameInstant(ZoneId.of(&quot;UTC&quot;))));\n</code></pre>\n<p>PS: I know that working with date time objects can be frustrating and confusing in Java especially because there used to be more than one way to do it. I would recommend reading the <a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"nofollow noreferrer\">java date time api tutorials</a> to get a better understanding and to always use it (when writing in java 8+) to avoid confusion.</p>\n"}],"owner":{"account_id":965625,"reputation":1524,"user_id":1103606,"accept_rate":51,"display_name":"Peter Penzov"},"comment_count":19,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":464,"favorite_count":0,"down_vote_count":6,"up_vote_count":0,"accepted_answer_id":75501211,"answer_count":1,"score":-6,"last_activity_date":1676840364,"creation_date":1676222459,"question_id":75428799,"body_markdown":"I have the following code that I want to migrate to Java 17:\r\n\r\nGradle dependency:\r\n\r\n    implementation &#39;org.jadira.usertype:usertype.core:7.0.0.CR1&#39;\r\n\r\nEntity:\r\n\r\n        import org.joda.time.DateTime;\r\n\r\n        @Entity\r\n        @Table(name = &quot;logs&quot;)\r\n        public class Log {\r\n        \r\n          @Column(name = &quot;inserted_date&quot;)\r\n          @Type(type = &quot;org.jadira.usertype.dateandtime.joda.PersistentDateTime&quot;)\r\n          private DateTime insertedDate;\r\n        }\r\n    \r\n    \r\n    .....\r\n    \r\n    DateTimeFormatter dateFormatter = DateTimeFormat.forPattern(&quot;yy-mm-dd&#39;T&#39;HH:mm:ss&#39;Z&#39;&quot;);\r\n    \r\n    log.setInsertedDate(DateTime.now());\r\n    dateFormatter.print(log.getInsertedDate().withZone(DateTimeZone.UTC)));\r\n\r\nI updated the code to this:\r\n\r\nEntity:\r\n\r\n        import java.time.OffsetDateTime;\r\n\r\n        @Entity\r\n        @Table(name = &quot;logs&quot;)\r\n        public class Log {\r\n        \r\n          @Column(name = &quot;inserted_date&quot;)\r\n          private OffsetDateTime insertedDate;\r\n        }\r\n    \r\n    \r\n    .....\r\n    \r\n    DateTimeFormatter dateFormatter = DateTimeFormat.forPattern(&quot;yy-mm-dd&#39;T&#39;HH:mm:ss&#39;Z&#39;&quot;);\r\n    \r\n    log.setInsertedDate(OffsetDateTime.now());\r\n    dateFormatter.print(log.getInsertedDate().withZone(DateTimeZone.UTC)));\r\n\r\nBut I get error `Cannot resolve method &#39;withZone&#39; in &#39;OffsetDateTime&#39;`. Do you know what is the proper way to update method `withZone`?\r\n\r\n***edit***: I tried this \r\n\r\nfrom:      `log.setTimestamp(dateFormatter.print(auditLog.getInsertedDate().withZone(DateTimeZone.UTC)));`\r\n\r\nto:     `log.setTimestamp(dateFormatter.print(auditLog.getInsertedDate().atZoneSameInstant(ZoneOffset.UTC)));`\r\n\r\nI get for this line: `auditLog.getInsertedDate().atZoneSameInstant(ZoneOffset.UTC)` error:\r\n\r\n`Cannot resolve method &#39;print(ZonedDateTime)&#39;`\r\n\r\nCan you advice how to solve this?\r\n\r\n\r\n\r\n","title":"Cannot resolve method &#39;withZone&#39; in &#39;OffsetDateTime&#39;","body":"<p>I have the following code that I want to migrate to Java 17:</p>\n<p>Gradle dependency:</p>\n<pre><code>implementation 'org.jadira.usertype:usertype.core:7.0.0.CR1'\n</code></pre>\n<p>Entity:</p>\n<pre><code>    import org.joda.time.DateTime;\n\n    @Entity\n    @Table(name = &quot;logs&quot;)\n    public class Log {\n    \n      @Column(name = &quot;inserted_date&quot;)\n      @Type(type = &quot;org.jadira.usertype.dateandtime.joda.PersistentDateTime&quot;)\n      private DateTime insertedDate;\n    }\n\n\n.....\n\nDateTimeFormatter dateFormatter = DateTimeFormat.forPattern(&quot;yy-mm-dd'T'HH:mm:ss'Z'&quot;);\n\nlog.setInsertedDate(DateTime.now());\ndateFormatter.print(log.getInsertedDate().withZone(DateTimeZone.UTC)));\n</code></pre>\n<p>I updated the code to this:</p>\n<p>Entity:</p>\n<pre><code>    import java.time.OffsetDateTime;\n\n    @Entity\n    @Table(name = &quot;logs&quot;)\n    public class Log {\n    \n      @Column(name = &quot;inserted_date&quot;)\n      private OffsetDateTime insertedDate;\n    }\n\n\n.....\n\nDateTimeFormatter dateFormatter = DateTimeFormat.forPattern(&quot;yy-mm-dd'T'HH:mm:ss'Z'&quot;);\n\nlog.setInsertedDate(OffsetDateTime.now());\ndateFormatter.print(log.getInsertedDate().withZone(DateTimeZone.UTC)));\n</code></pre>\n<p>But I get error <code>Cannot resolve method 'withZone' in 'OffsetDateTime'</code>. Do you know what is the proper way to update method <code>withZone</code>?</p>\n<p><em><strong>edit</strong></em>: I tried this</p>\n<p>from:      <code>log.setTimestamp(dateFormatter.print(auditLog.getInsertedDate().withZone(DateTimeZone.UTC)));</code></p>\n<p>to:     <code>log.setTimestamp(dateFormatter.print(auditLog.getInsertedDate().atZoneSameInstant(ZoneOffset.UTC)));</code></p>\n<p>I get for this line: <code>auditLog.getInsertedDate().atZoneSameInstant(ZoneOffset.UTC)</code> error:</p>\n<p><code>Cannot resolve method 'print(ZonedDateTime)'</code></p>\n<p>Can you advice how to solve this?</p>\n"},{"tags":["java","json","hmac"],"comments":[{"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"score":0,"creation_date":1639535702,"post_id":70357694,"comment_id":124371683,"body_markdown":"You either need to agree on a standard, or you could simply check both for a matching hash?","body":"You either need to agree on a standard, or you could simply check both for a matching hash?"},{"owner":{"account_id":4105555,"reputation":939,"user_id":3369719,"accept_rate":56,"display_name":"LifeStartsAtHelloWorld"},"score":0,"creation_date":1639536153,"post_id":70357694,"comment_id":124371733,"body_markdown":"Sorry, I did not get the last option, what do you mean by check both for a matching hash?","body":"Sorry, I did not get the last option, what do you mean by check both for a matching hash?"},{"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"score":1,"creation_date":1639536364,"post_id":70357694,"comment_id":124371763,"body_markdown":"When you convert the json, you can convert it twice, one with pretty printing and one without the pretty printing and then check if either one matches, and accept it if it does? You could then toggle an internal flag based on which one matches so you know if you need pretty printing or not going forward.","body":"When you convert the json, you can convert it twice, one with pretty printing and one without the pretty printing and then check if either one matches, and accept it if it does? You could then toggle an internal flag based on which one matches so you know if you need pretty printing or not going forward."},{"owner":{"account_id":401843,"reputation":89873,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1639539049,"post_id":70357694,"comment_id":124372147,"body_markdown":"What you want to do is a silly idea. You should definitely not call it JSON: You have created an entirely binary format: Some data is converted into some other binary representation, according to a precise spec. If you do the job exactly correct, byte for byte, the hashes will match. Otherwise, they will not. JSON fundamentally isn&#39;t binary, and JSON fundamentally has no features to say that e.g. injecting a space or newline someplace is forbidden, let alone where one should put the whitespace. In other words, &#39;hash up the result of JSONizing some data&#39; serves no purpose, stop doing it.","body":"What you want to do is a silly idea. You should definitely not call it JSON: You have created an entirely binary format: Some data is converted into some other binary representation, according to a precise spec. If you do the job exactly correct, byte for byte, the hashes will match. Otherwise, they will not. JSON fundamentally isn&#39;t binary, and JSON fundamentally has no features to say that e.g. injecting a space or newline someplace is forbidden, let alone where one should put the whitespace. In other words, &#39;hash up the result of JSONizing some data&#39; serves no purpose, stop doing it."},{"owner":{"account_id":4105555,"reputation":939,"user_id":3369719,"accept_rate":56,"display_name":"LifeStartsAtHelloWorld"},"score":0,"creation_date":1639540086,"post_id":70357694,"comment_id":124372310,"body_markdown":"That should work @sorifiend. Let me sleep on it","body":"That should work @sorifiend. Let me sleep on it"},{"owner":{"account_id":4105555,"reputation":939,"user_id":3369719,"accept_rate":56,"display_name":"LifeStartsAtHelloWorld"},"score":0,"creation_date":1639540287,"post_id":70357694,"comment_id":124372335,"body_markdown":"I get that and agree json isn&#39;t binary, do you have another approach to solving it? Is there another way to make sure both the partners meet a standard @rzwitserloot","body":"I get that and agree json isn&#39;t binary, do you have another approach to solving it? Is there another way to make sure both the partners meet a standard @rzwitserloot"},{"owner":{"account_id":401843,"reputation":89873,"user_id":768644,"display_name":"rzwitserloot"},"score":1,"creation_date":1639541152,"post_id":70357694,"comment_id":124372455,"body_markdown":"Pick a binary format that has an exact specification, such as protobuf. You can work around it by defining an exact pretty printer behaviour for JSON, but this is very complicated and calling that &#39;JSON&#39; would be highly misleading. I doubt you can avoid general misunderstanding, people see JSON and definitely aren&#39;t thinking &quot;Oh, whitespace matters&quot;. Note that @sorifiend &#39;s advice doesn&#39;t work; it&#39;s not &#39;pretty printed&#39; and &#39;not pretty printed&#39;. There are a billion pretty printing standards, you can&#39;t check them all.","body":"Pick a binary format that has an exact specification, such as protobuf. You can work around it by defining an exact pretty printer behaviour for JSON, but this is very complicated and calling that &#39;JSON&#39; would be highly misleading. I doubt you can avoid general misunderstanding, people see JSON and definitely aren&#39;t thinking &quot;Oh, whitespace matters&quot;. Note that @sorifiend &#39;s advice doesn&#39;t work; it&#39;s not &#39;pretty printed&#39; and &#39;not pretty printed&#39;. There are a billion pretty printing standards, you can&#39;t check them all."},{"owner":{"account_id":4105555,"reputation":939,"user_id":3369719,"accept_rate":56,"display_name":"LifeStartsAtHelloWorld"},"score":0,"creation_date":1639542906,"post_id":70357694,"comment_id":124372780,"body_markdown":"yea, I saw there are different printing standards. Protobuf does ring some bell, but I don&#39;t have much expertise in it. Let me read more on it. Thanks","body":"yea, I saw there are different printing standards. Protobuf does ring some bell, but I don&#39;t have much expertise in it. Let me read more on it. Thanks"},{"owner":{"account_id":4105555,"reputation":939,"user_id":3369719,"accept_rate":56,"display_name":"LifeStartsAtHelloWorld"},"score":0,"creation_date":1639629404,"post_id":70357694,"comment_id":124399535,"body_markdown":"I am reading the http raw body before it gets converted to json using spring boot interpreter.","body":"I am reading the http raw body before it gets converted to json using spring boot interpreter."}],"answers":[{"tags":[],"owner":{"account_id":3973740,"reputation":43,"user_id":3277542,"display_name":"Simon Towler"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676839521,"creation_date":1676839521,"answer_id":75503330,"question_id":70357694,"body_markdown":"There is no way for client and server to not be dependent on each other as to how the server reconstructs the form of the message the client signed.\r\n\r\nHMAC mechanisms depend on choosing a strict *Canonical Form* for the message, which both sides must follow. Client and server must construct the Canonical Form of the message in exactly the same way, for the HMACs to match.\r\n\r\n&gt; for HMAC to work reliably and prevent false errors (code mismatches) the JSON data must always be presented in some deterministic, also called normalised or canonical, order.\r\n\r\nhttps://connect2id.com/blog/how-to-secure-json-objects-with-hmac","title":"Convert Java Object to Json String to encrypt for Hmac authentication","body":"<p>There is no way for client and server to not be dependent on each other as to how the server reconstructs the form of the message the client signed.</p>\n<p>HMAC mechanisms depend on choosing a strict <em>Canonical Form</em> for the message, which both sides must follow. Client and server must construct the Canonical Form of the message in exactly the same way, for the HMACs to match.</p>\n<blockquote>\n<p>for HMAC to work reliably and prevent false errors (code mismatches) the JSON data must always be presented in some deterministic, also called normalised or canonical, order.</p>\n</blockquote>\n<p><a href=\"https://connect2id.com/blog/how-to-secure-json-objects-with-hmac\" rel=\"nofollow noreferrer\">https://connect2id.com/blog/how-to-secure-json-objects-with-hmac</a></p>\n"}],"owner":{"account_id":4105555,"reputation":939,"user_id":3369719,"accept_rate":56,"display_name":"LifeStartsAtHelloWorld"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":240,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676839521,"creation_date":1639534448,"question_id":70357694,"body_markdown":"Our partner is supporting HMAC authentication, where they send the hash when calling the api. On our side we compare the hash with the input sent. We are converting the input to json and then comparing it with the hash using apache commons HMACUtil.\r\n\r\n    public String calculateHmac(String data) {\r\n        return new HmacUtils(HmacAlgorithms.HMAC_SHA_256, pass).hmacHex(data);\r\n    }\r\n\r\n    public boolean checkHmac(String data, String hmacHex) {\r\n        return calculateHmac(data).equals(hmacHex);\r\n    }\r\n\r\nHowever, when we convert into json, if we use \r\n\r\n ObjectWriter ow = new ObjectMapper().writer().withDefaultPrettyPrinter();\r\n\r\nbut if the partner converts  without using &quot;withDefaultPrettyPrinter&quot; then the hash does not match.\r\n\r\nIs there a way not be dependent on each other on how we convert into json string?\r\n\r\n\r\n ","title":"Convert Java Object to Json String to encrypt for Hmac authentication","body":"<p>Our partner is supporting HMAC authentication, where they send the hash when calling the api. On our side we compare the hash with the input sent. We are converting the input to json and then comparing it with the hash using apache commons HMACUtil.</p>\n<pre><code>public String calculateHmac(String data) {\n    return new HmacUtils(HmacAlgorithms.HMAC_SHA_256, pass).hmacHex(data);\n}\n\npublic boolean checkHmac(String data, String hmacHex) {\n    return calculateHmac(data).equals(hmacHex);\n}\n</code></pre>\n<p>However, when we convert into json, if we use</p>\n<p>ObjectWriter ow = new ObjectMapper().writer().withDefaultPrettyPrinter();</p>\n<p>but if the partner converts  without using &quot;withDefaultPrettyPrinter&quot; then the hash does not match.</p>\n<p>Is there a way not be dependent on each other on how we convert into json string?</p>\n"},{"tags":["java","byte-buddy","java-17"],"answers":[{"tags":[],"owner":{"account_id":1284143,"reputation":43090,"user_id":1237575,"accept_rate":96,"display_name":"Rafael Winterhalter"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1676839134,"creation_date":1676839134,"answer_id":75503295,"question_id":75495735,"body_markdown":"What you rather want to do is to:\r\n\r\n    MethodCall.invoke(Object.class.getConstructor()).onSuper()\r\n\r\nThat invokes the `Object` constructor on the super object what is the JVM requirement. What you are doing is to look for a method of equal signature to invoke super on which does not exist. It is a synonym for `invokeSelf().onSuper()`.","title":"Could not assign variables to fields via ByteBudy","body":"<p>What you rather want to do is to:</p>\n<pre><code>MethodCall.invoke(Object.class.getConstructor()).onSuper()\n</code></pre>\n<p>That invokes the <code>Object</code> constructor on the super object what is the JVM requirement. What you are doing is to look for a method of equal signature to invoke super on which does not exist. It is a synonym for <code>invokeSelf().onSuper()</code>.</p>\n"}],"owner":{"account_id":14245148,"reputation":949,"user_id":10582056,"display_name":"ahrooran"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75503295,"answer_count":1,"score":0,"last_activity_date":1676839134,"creation_date":1676747187,"question_id":75495735,"body_markdown":"I am learning ByteBuddy and tried with the following code.\r\n\r\nI defined an Animal interface with overloaded methods and tried creating a class that overrides those both methods.\r\nThat worked fine.\r\nThen I tried to have a field in the generated class and tried to call that field.\r\nI am getting exceptions at that point.\r\n\r\nFollowing is my code:\r\n\r\n    public interface Animal {\r\n    \r\n        String sound();\r\n    \r\n        String sound(boolean loud);\r\n    }\r\n\r\nFollowing is the code snippet from Main::main method.\r\n\r\n    DynamicType.Unloaded&lt;Animal&gt; dogClassUnloaded = new ByteBuddy()\r\n            .subclass(Animal.class)\r\n            .name(&quot;Dog&quot;)\r\n    \r\n            // we can use bytebuddy modifiers\r\n            .defineField(&quot;colour&quot;, String.class, Visibility.PUBLIC, FieldManifestation.FINAL)\r\n    \r\n            .defineConstructor(Visibility.PUBLIC)\r\n            // or java modifiers -&gt; Modifier.FINAL + Modifier.PRIVATE like that\r\n            .withParameter(String.class, &quot;colour&quot;, Modifier.FINAL)\r\n            .intercept(\r\n                    MethodCall.invokeSuper()\r\n                            .andThen(\r\n                                    // field arguments are denoted by their index\r\n                                    FieldAccessor.ofField(&quot;colour&quot;).setsArgumentAt(0)\r\n                            )\r\n            )\r\n    \r\n            // There are different ways to match the methods, fields etc.\r\n            // https://www.tabnine.com/code/java/classes/net.bytebuddy.matcher.ElementMatchers\r\n    \r\n            // intercepting no argument method\r\n            .method(ElementMatchers.named(&quot;sound&quot;)\r\n                    .and(ElementMatchers.takesNoArguments())\r\n            )\r\n            .intercept(FixedValue.value(&quot;woof quiet&quot;))\r\n    \r\n    \r\n            // intercepting overloaded method with arguments\r\n            .method(\r\n                    ElementMatchers.named(&quot;sound&quot;)\r\n                            .and(ElementMatchers.takesArgument(0, boolean.class))\r\n            )\r\n            .intercept(FixedValue.value(&quot;woof woof loud&quot;))\r\n    \r\n            .make();\r\n    \r\n    Class&lt;? extends Animal&gt; dogClassLoaded = dogClassUnloaded\r\n            .load(Main.class.getClassLoader(), ClassLoadingStrategy.Default.WRAPPER)\r\n            .getLoaded();\r\n    \r\n    Animal dog = dogClassLoaded.getDeclaredConstructor(String.class).newInstance(&quot;black&quot;);\r\n    // Animal dog = dogClassLoaded.getDeclaredConstructor().newInstance();\r\n    \r\n    var x = dog.sound();\r\n    var y = dog.sound(true);\r\n    \r\n    System.out.println(x);\r\n    System.out.println(y);\r\n    \r\n    \r\n    // What if Dog.class has other methods / fields not in Animal.class\r\n    Field m = dogClassLoaded.getDeclaredField(&quot;colour&quot;);\r\n    String colour = (String) m.get(dog);\r\n    System.out.println(colour);\r\n\r\nWhen I tried to execute I get following exception:\r\n\r\n    Exception in thread &quot;main&quot; java.lang.IllegalStateException: public Dog(java.lang.String) does not accept 0 arguments\r\n    \tat net.bytebuddy.implementation.MethodCall$Appender.toStackManipulation(MethodCall.java:3553)\r\n    \tat net.bytebuddy.implementation.MethodCall$Appender.apply(MethodCall.java:3522)\r\n    \tat net.bytebuddy.implementation.bytecode.ByteCodeAppender$Compound.apply(ByteCodeAppender.java:156)\r\n    \tat net.bytebuddy.dynamic.scaffold.TypeWriter$MethodPool$Record$ForDefinedMethod$WithBody.applyCode(TypeWriter.java:730)\r\n    \tat net.bytebuddy.dynamic.scaffold.TypeWriter$MethodPool$Record$ForDefinedMethod$WithBody.applyBody(TypeWriter.java:715)\r\n    \tat net.bytebuddy.dynamic.scaffold.TypeWriter$MethodPool$Record$ForDefinedMethod.apply(TypeWriter.java:622)\r\n    \tat net.bytebuddy.dynamic.scaffold.TypeWriter$Default$ForCreation.create(TypeWriter.java:6043)\r\n    \tat net.bytebuddy.dynamic.scaffold.TypeWriter$Default.make(TypeWriter.java:2224)\r\n    \tat net.bytebuddy.dynamic.DynamicType$Builder$AbstractBase$UsingTypeWriter.make(DynamicType.java:4050)\r\n    \tat net.bytebuddy.dynamic.DynamicType$Builder$AbstractBase.make(DynamicType.java:3734)\r\n    \tat net.bytebuddy.dynamic.DynamicType$Builder$AbstractBase$Delegator.make(DynamicType.java:3986)\r\n    \tat tutorial.example_1.Main.main(Main.java:55)\r\n\r\nIt points that the make() method is not compiling properly. That means the class is not building as intended.\r\nI think `MethodCall.invokeSuper()` is where the issue is since super class is an interface.\r\n\r\nWhat is the solution?\r\nI am using Java-17 and latest version of bytebuddy (1.13)","title":"Could not assign variables to fields via ByteBudy","body":"<p>I am learning ByteBuddy and tried with the following code.</p>\n<p>I defined an Animal interface with overloaded methods and tried creating a class that overrides those both methods.\nThat worked fine.\nThen I tried to have a field in the generated class and tried to call that field.\nI am getting exceptions at that point.</p>\n<p>Following is my code:</p>\n<pre><code>public interface Animal {\n\n    String sound();\n\n    String sound(boolean loud);\n}\n</code></pre>\n<p>Following is the code snippet from Main::main method.</p>\n<pre><code>DynamicType.Unloaded&lt;Animal&gt; dogClassUnloaded = new ByteBuddy()\n        .subclass(Animal.class)\n        .name(&quot;Dog&quot;)\n\n        // we can use bytebuddy modifiers\n        .defineField(&quot;colour&quot;, String.class, Visibility.PUBLIC, FieldManifestation.FINAL)\n\n        .defineConstructor(Visibility.PUBLIC)\n        // or java modifiers -&gt; Modifier.FINAL + Modifier.PRIVATE like that\n        .withParameter(String.class, &quot;colour&quot;, Modifier.FINAL)\n        .intercept(\n                MethodCall.invokeSuper()\n                        .andThen(\n                                // field arguments are denoted by their index\n                                FieldAccessor.ofField(&quot;colour&quot;).setsArgumentAt(0)\n                        )\n        )\n\n        // There are different ways to match the methods, fields etc.\n        // https://www.tabnine.com/code/java/classes/net.bytebuddy.matcher.ElementMatchers\n\n        // intercepting no argument method\n        .method(ElementMatchers.named(&quot;sound&quot;)\n                .and(ElementMatchers.takesNoArguments())\n        )\n        .intercept(FixedValue.value(&quot;woof quiet&quot;))\n\n\n        // intercepting overloaded method with arguments\n        .method(\n                ElementMatchers.named(&quot;sound&quot;)\n                        .and(ElementMatchers.takesArgument(0, boolean.class))\n        )\n        .intercept(FixedValue.value(&quot;woof woof loud&quot;))\n\n        .make();\n\nClass&lt;? extends Animal&gt; dogClassLoaded = dogClassUnloaded\n        .load(Main.class.getClassLoader(), ClassLoadingStrategy.Default.WRAPPER)\n        .getLoaded();\n\nAnimal dog = dogClassLoaded.getDeclaredConstructor(String.class).newInstance(&quot;black&quot;);\n// Animal dog = dogClassLoaded.getDeclaredConstructor().newInstance();\n\nvar x = dog.sound();\nvar y = dog.sound(true);\n\nSystem.out.println(x);\nSystem.out.println(y);\n\n\n// What if Dog.class has other methods / fields not in Animal.class\nField m = dogClassLoaded.getDeclaredField(&quot;colour&quot;);\nString colour = (String) m.get(dog);\nSystem.out.println(colour);\n</code></pre>\n<p>When I tried to execute I get following exception:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.IllegalStateException: public Dog(java.lang.String) does not accept 0 arguments\n    at net.bytebuddy.implementation.MethodCall$Appender.toStackManipulation(MethodCall.java:3553)\n    at net.bytebuddy.implementation.MethodCall$Appender.apply(MethodCall.java:3522)\n    at net.bytebuddy.implementation.bytecode.ByteCodeAppender$Compound.apply(ByteCodeAppender.java:156)\n    at net.bytebuddy.dynamic.scaffold.TypeWriter$MethodPool$Record$ForDefinedMethod$WithBody.applyCode(TypeWriter.java:730)\n    at net.bytebuddy.dynamic.scaffold.TypeWriter$MethodPool$Record$ForDefinedMethod$WithBody.applyBody(TypeWriter.java:715)\n    at net.bytebuddy.dynamic.scaffold.TypeWriter$MethodPool$Record$ForDefinedMethod.apply(TypeWriter.java:622)\n    at net.bytebuddy.dynamic.scaffold.TypeWriter$Default$ForCreation.create(TypeWriter.java:6043)\n    at net.bytebuddy.dynamic.scaffold.TypeWriter$Default.make(TypeWriter.java:2224)\n    at net.bytebuddy.dynamic.DynamicType$Builder$AbstractBase$UsingTypeWriter.make(DynamicType.java:4050)\n    at net.bytebuddy.dynamic.DynamicType$Builder$AbstractBase.make(DynamicType.java:3734)\n    at net.bytebuddy.dynamic.DynamicType$Builder$AbstractBase$Delegator.make(DynamicType.java:3986)\n    at tutorial.example_1.Main.main(Main.java:55)\n</code></pre>\n<p>It points that the make() method is not compiling properly. That means the class is not building as intended.\nI think <code>MethodCall.invokeSuper()</code> is where the issue is since super class is an interface.</p>\n<p>What is the solution?\nI am using Java-17 and latest version of bytebuddy (1.13)</p>\n"},{"tags":["java","apache-kafka","kafka-consumer-api","consumer"],"owner":{"account_id":8059771,"reputation":1177,"user_id":6075655,"display_name":"Maxim Popov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676839039,"creation_date":1676839039,"question_id":75503283,"body_markdown":"I faced an issue when one consumer in the consumer group is unauthorized. As a result, all consumers in the same consumer group stop consuming messages from ALL topics. I will describe the isolated example but want to notice that it is a syntetich example, my services don&#39;t read only one topic per instance.\r\n\r\nI have two services: serviceA and serviceB. Both services have the same consumer group id, but serviceA consumes messages only from topicA and serviceB - from topicB. Everything is fine when both topics don&#39;t have ACL rules. But when I add ACL for topicA (only on kafka side, the app knows nothing about ACL), serviceA stops consuming messages (it is expected), but at the same time serviceB also stops consuming messages from topicB with the following logs\r\n\r\n```\r\n2023-02-17T11:01:38.134+03:00  WARN 69262 --- [       Thread-1] org.apache.kafka.clients.NetworkClient   : [Consumer clientId=consumer-my_app_2-1, groupId=my_app_2] Error while fetching metadata with correlation id 399 : {first_topic=TOPIC_AUTHORIZATION_FAILED} \r\n2023-02-17T11:01:38.135+03:00 ERROR 69262 --- [       Thread-1] org.apache.kafka.clients.Metadata        : [Consumer clientId=consumer-my_app_2-1, groupId=my_app_2] Topic authorization failed for topics [first_topic]\r\n```\r\nAs I understood, it happens because kafka-client in serviceB gets metadata( by groupId?), sees that topicA(just to remember, serviceB consumes only topicB and knows nothing about topicA) is unauthorized, and don&#39;t read messages from kafka.\r\n\r\nMy questions are: \r\n1) do I understand right that there is no way to make consumers in one consumer group ignore authorized error on one topic? \r\n2) If it is impossible, is there exist some way to understand that one topic in consumer is unauthorized, except UnathorizedEception?\r\n\r\n\r\n\r\nI created a project for reproducing the behavior https://github.com/makcpopTwo/kafkaExample . I tried to change consumer configuration but did find the solution. \r\n\r\nI also tried spring-kafka consumer behavior: it also works in the same way but Spring closes the container if UnathorizedException was received","title":"KafkaClient doesn&#39;t consume messages if one consumer in group is anuthorized","body":"<p>I faced an issue when one consumer in the consumer group is unauthorized. As a result, all consumers in the same consumer group stop consuming messages from ALL topics. I will describe the isolated example but want to notice that it is a syntetich example, my services don't read only one topic per instance.</p>\n<p>I have two services: serviceA and serviceB. Both services have the same consumer group id, but serviceA consumes messages only from topicA and serviceB - from topicB. Everything is fine when both topics don't have ACL rules. But when I add ACL for topicA (only on kafka side, the app knows nothing about ACL), serviceA stops consuming messages (it is expected), but at the same time serviceB also stops consuming messages from topicB with the following logs</p>\n<pre><code>2023-02-17T11:01:38.134+03:00  WARN 69262 --- [       Thread-1] org.apache.kafka.clients.NetworkClient   : [Consumer clientId=consumer-my_app_2-1, groupId=my_app_2] Error while fetching metadata with correlation id 399 : {first_topic=TOPIC_AUTHORIZATION_FAILED} \n2023-02-17T11:01:38.135+03:00 ERROR 69262 --- [       Thread-1] org.apache.kafka.clients.Metadata        : [Consumer clientId=consumer-my_app_2-1, groupId=my_app_2] Topic authorization failed for topics [first_topic]\n</code></pre>\n<p>As I understood, it happens because kafka-client in serviceB gets metadata( by groupId?), sees that topicA(just to remember, serviceB consumes only topicB and knows nothing about topicA) is unauthorized, and don't read messages from kafka.</p>\n<p>My questions are:</p>\n<ol>\n<li>do I understand right that there is no way to make consumers in one consumer group ignore authorized error on one topic?</li>\n<li>If it is impossible, is there exist some way to understand that one topic in consumer is unauthorized, except UnathorizedEception?</li>\n</ol>\n<p>I created a project for reproducing the behavior <a href=\"https://github.com/makcpopTwo/kafkaExample\" rel=\"nofollow noreferrer\">https://github.com/makcpopTwo/kafkaExample</a> . I tried to change consumer configuration but did find the solution.</p>\n<p>I also tried spring-kafka consumer behavior: it also works in the same way but Spring closes the container if UnathorizedException was received</p>\n"},{"tags":["java","microservices","spring-cloud","spring-cloud-feign"],"comments":[{"owner":{"account_id":5916600,"reputation":2324,"user_id":4655217,"display_name":"geobreze"},"score":1,"creation_date":1637608042,"post_id":70070923,"comment_id":123866953,"body_markdown":"You can implement `feign.RequestInterceptor`","body":"You can implement <code>feign.RequestInterceptor</code>"},{"owner":{"account_id":3405565,"reputation":840,"user_id":2856694,"accept_rate":30,"display_name":"Victor Soares"},"score":0,"creation_date":1637608529,"post_id":70070923,"comment_id":123867130,"body_markdown":"@geobreze How do I set the headers from the original request to the next one?","body":"@geobreze How do I set the headers from the original request to the next one?"},{"owner":{"account_id":5916600,"reputation":2324,"user_id":4655217,"display_name":"geobreze"},"score":1,"creation_date":1637611830,"post_id":70070923,"comment_id":123868286,"body_markdown":"You can put it to the thread local context. Or you can avoid implementing interceptor using AnnotatedParameterProcessor","body":"You can put it to the thread local context. Or you can avoid implementing interceptor using AnnotatedParameterProcessor"},{"owner":{"account_id":3405565,"reputation":840,"user_id":2856694,"accept_rate":30,"display_name":"Victor Soares"},"score":0,"creation_date":1637612134,"post_id":70070923,"comment_id":123868405,"body_markdown":"do you have a sample?","body":"do you have a sample?"}],"answers":[{"tags":[],"owner":{"account_id":5916600,"reputation":2324,"user_id":4655217,"display_name":"geobreze"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1637670157,"creation_date":1637670157,"answer_id":70080844,"question_id":70070923,"body_markdown":"Here is an example of how you can do it with `RequestInterceptor`\r\n\r\n```\r\n@Component\r\nclass CurrentRequestHeadersInterceptor implements RequestInterceptor {\r\n  @Override\r\n  public void apply(RequestTemplate template) {\r\n    RequestAttributes requestAttributes = RequestContextHolder.getRequestAttributes();\r\n    if (requestAttributes instanceof ServletRequestAttributes) {\r\n      HttpServletRequest webRequest = ((ServletRequestAttributes) requestAttributes).getRequest();\r\n      webRequest.getHeaderNames().asIterator()\r\n          .forEachRemaining(h -&gt; template.header(h, webRequest.getHeader(h)));\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nAs for `AnnotatedParameterProcessor`, I found a way to add only one header from the request, but I don&#39;t think this will work for you.\r\n\r\nIf you prefer explicit header passing, you can use `@RequestHeader` annotation to pass headers as `Map`.\r\n\r\n```\r\n@FeignClient(name = &quot;test&quot;, url = &quot;localhost:9090&quot;)\r\ninterface TestClient {\r\n  @RequestMapping(&quot;/test&quot;)\r\n  void test(@RequestHeader Map&lt;String, List&lt;String&gt;&gt; headers);\r\n}\r\n```\r\n\r\nThen you can add `WebRequest` as your controller&#39;s method parameter, convert a request to a `Map` of headers and then pass it to the client.","title":"Java - How to propagate the Headers to Spring OpenFeign","body":"<p>Here is an example of how you can do it with <code>RequestInterceptor</code></p>\n<pre><code>@Component\nclass CurrentRequestHeadersInterceptor implements RequestInterceptor {\n  @Override\n  public void apply(RequestTemplate template) {\n    RequestAttributes requestAttributes = RequestContextHolder.getRequestAttributes();\n    if (requestAttributes instanceof ServletRequestAttributes) {\n      HttpServletRequest webRequest = ((ServletRequestAttributes) requestAttributes).getRequest();\n      webRequest.getHeaderNames().asIterator()\n          .forEachRemaining(h -&gt; template.header(h, webRequest.getHeader(h)));\n    }\n  }\n}\n</code></pre>\n<p>As for <code>AnnotatedParameterProcessor</code>, I found a way to add only one header from the request, but I don't think this will work for you.</p>\n<p>If you prefer explicit header passing, you can use <code>@RequestHeader</code> annotation to pass headers as <code>Map</code>.</p>\n<pre><code>@FeignClient(name = &quot;test&quot;, url = &quot;localhost:9090&quot;)\ninterface TestClient {\n  @RequestMapping(&quot;/test&quot;)\n  void test(@RequestHeader Map&lt;String, List&lt;String&gt;&gt; headers);\n}\n</code></pre>\n<p>Then you can add <code>WebRequest</code> as your controller's method parameter, convert a request to a <code>Map</code> of headers and then pass it to the client.</p>\n"}],"owner":{"account_id":3405565,"reputation":840,"user_id":2856694,"accept_rate":30,"display_name":"Victor Soares"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1755,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70080844,"answer_count":1,"score":0,"last_activity_date":1676838782,"creation_date":1637606933,"question_id":70070923,"body_markdown":"I have a microservice that calls several micro services in cascade, using FeignClient (spring cloud). I want to propagate all the header values between then, without declare one atribute per header value at the feign method.\r\n\r\nThere is a way to do that? I was not able to find that online.\r\n\r\nSample of the propagation of headers that I have:\r\n\r\n    void doSomething(Long id, \r\n        @Header(&quot;Accept-Language&quot;) String language, \r\n        @Header(&quot;Accept&quot;) accept, \r\n        @Header(&quot;Authorization&quot;) authorization, \r\n        @Header(&quot;Connection&quot;) connection, ...)","title":"Java - How to propagate the Headers to Spring OpenFeign","body":"<p>I have a microservice that calls several micro services in cascade, using FeignClient (spring cloud). I want to propagate all the header values between then, without declare one atribute per header value at the feign method.</p>\n<p>There is a way to do that? I was not able to find that online.</p>\n<p>Sample of the propagation of headers that I have:</p>\n<pre><code>void doSomething(Long id, \n    @Header(&quot;Accept-Language&quot;) String language, \n    @Header(&quot;Accept&quot;) accept, \n    @Header(&quot;Authorization&quot;) authorization, \n    @Header(&quot;Connection&quot;) connection, ...)\n</code></pre>\n"},{"tags":["java","react-native","gradle"],"answers":[{"comments":[{"owner":{"account_id":23542927,"reputation":323,"user_id":17586837,"display_name":"Emanuele Ago"},"score":0,"creation_date":1649327672,"post_id":71771532,"comment_id":126849989,"body_markdown":"I installed but I have same error. When I configurated react native I remember that I run &#39;choco install -y nodejs.install openjdk8&#39; to install  Java SE Development Kit (JDK). Now I see ([link](https://reactnative.dev/docs/environment-setup)) that the command is &#39;choco install -y nodejs-lts openjdk11&#39;. If I run it probably I will fix the problem?","body":"I installed but I have same error. When I configurated react native I remember that I run &#39;choco install -y nodejs.install openjdk8&#39; to install  Java SE Development Kit (JDK). Now I see (<a href=\"https://reactnative.dev/docs/environment-setup\" rel=\"nofollow noreferrer\">link</a>) that the command is &#39;choco install -y nodejs-lts openjdk11&#39;. If I run it probably I will fix the problem?"}],"tags":[],"owner":{"account_id":3509196,"reputation":16493,"user_id":2933977,"display_name":"stdunbar"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649267612,"creation_date":1649267612,"answer_id":71771532,"question_id":71771423,"body_markdown":"&gt; Android Gradle plugin requires Java 11 to run. You are currently using Java 1.8.\r\n\r\nUltimately you need a newer version of Java to run this.  There are many resources online to assist you with this.  As it is recommending Java 11 I would stick with that.  One place to get Java 11 for Windows is on the &lt;a href=&quot;https://www.oracle.com/java/technologies/downloads/&quot;&gt;Oracle downloads site&lt;/a&gt; (as you currently have the Oracle build) but there are others related to OpenJDK too.","title":"React Native: &#39;compileJava&#39; task (current target is 1.8) and &#39;compileKotlin&#39; task (current target is 11) jvm target compat","body":"<blockquote>\n<p>Android Gradle plugin requires Java 11 to run. You are currently using Java 1.8.</p>\n</blockquote>\n<p>Ultimately you need a newer version of Java to run this.  There are many resources online to assist you with this.  As it is recommending Java 11 I would stick with that.  One place to get Java 11 for Windows is on the <a href=\"https://www.oracle.com/java/technologies/downloads/\" rel=\"nofollow noreferrer\">Oracle downloads site</a> (as you currently have the Oracle build) but there are others related to OpenJDK too.</p>\n"},{"comments":[{"owner":{"account_id":8179090,"reputation":143,"user_id":6156919,"display_name":"Fadi Quader"},"score":3,"creation_date":1649795903,"post_id":71800545,"comment_id":126965678,"body_markdown":"updating distributionUrl fixed it for me","body":"updating distributionUrl fixed it for me"},{"owner":{"account_id":2183128,"reputation":887,"user_id":1932159,"accept_rate":33,"display_name":"PurTahan"},"score":1,"creation_date":1652755124,"post_id":71800545,"comment_id":127676932,"body_markdown":"after that, need to clean by `cd ./android/ &amp;&amp; ./gradlew clean`","body":"after that, need to clean by <code>cd .&#47;android&#47; &amp;&amp; .&#47;gradlew clean</code>"}],"tags":[],"owner":{"account_id":5952173,"reputation":1249,"user_id":4679838,"accept_rate":91,"display_name":"MouTio"},"comment_count":2,"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1649437031,"creation_date":1649435991,"answer_id":71800545,"question_id":71771423,"body_markdown":"If you are using React Native witch Chocolatey, you must update JDK version to 11.  \r\nIn order to do the update, execute this in PowerShell (with admin privileges):\r\n\r\n\r\n    choco install -y openjdk11\r\n\r\nAfter that, the first time (only the first time) you run `npm android`, you will get a lot of warnings, but the built of the project will work.\r\n\r\nIf you continue receiving an error, maybe you need to adjust the gradle version of your project to be compatible with the new JDK version.  \r\nYou can achieve this by editing the file _YOUR_PROJECT\\android\\gradle\\wrapper\\gradle-wrapper.properties_  \r\nUpdate the version of **distributionUrl** to 7.4.2\r\n\r\nI hope I have been helpful\r\n","title":"React Native: &#39;compileJava&#39; task (current target is 1.8) and &#39;compileKotlin&#39; task (current target is 11) jvm target compat","body":"<p>If you are using React Native witch Chocolatey, you must update JDK version to 11.<br />\nIn order to do the update, execute this in PowerShell (with admin privileges):</p>\n<pre><code>choco install -y openjdk11\n</code></pre>\n<p>After that, the first time (only the first time) you run <code>npm android</code>, you will get a lot of warnings, but the built of the project will work.</p>\n<p>If you continue receiving an error, maybe you need to adjust the gradle version of your project to be compatible with the new JDK version.<br />\nYou can achieve this by editing the file <em>YOUR_PROJECT\\android\\gradle\\wrapper\\gradle-wrapper.properties</em><br />\nUpdate the version of <strong>distributionUrl</strong> to 7.4.2</p>\n<p>I hope I have been helpful</p>\n"},{"tags":[],"owner":{"account_id":21989972,"reputation":31,"user_id":16263565,"display_name":"Lyle Rogers"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649479405,"creation_date":1649479405,"answer_id":71805303,"question_id":71771423,"body_markdown":"I was having this very same problem here. I tried MouTio&#39;s solution and updated the distributionUrl to 7.4.2 at Project-Name\\android\\gradle\\wrapper\\gradle-wrapper.properties but that still gave me this error here:\r\n\r\n    &gt; Task :react-native-gradle-plugin:compileKotlin FAILED\r\n&#39;compileJava&#39; task (current target is 1.8) and &#39;compileKotlin&#39; task (current target is 11) jvm targeta version.\r\n1 actionable task: 1 executed\r\n\r\nFAILURE: Build failed with an exception.\r\n\r\n* What went wrong:\r\nExecution failed for task &#39;:react-native-gradle-plugin:compileKotlin&#39;.\r\n&gt; Failed to query the value of task &#39;:react-native-gradle-plugin:compileKotlin&#39; property &#39;compilerRun\r\n   &gt; Kotlin could not find the required JDK tools in the Java installation. Make sure Kotlin compilat\r\n\r\nHowever the error was fixed after running this `choco install -y nodejs-lts openjdk11` with a command line using administration privileges.\r\n\r\nand don&#39;t forget to run npm run android with a refreshed terminal.\r\n\r\n","title":"React Native: &#39;compileJava&#39; task (current target is 1.8) and &#39;compileKotlin&#39; task (current target is 11) jvm target compat","body":"<p>I was having this very same problem here. I tried MouTio's solution and updated the distributionUrl to 7.4.2 at Project-Name\\android\\gradle\\wrapper\\gradle-wrapper.properties but that still gave me this error here:</p>\n<pre><code>&gt; Task :react-native-gradle-plugin:compileKotlin FAILED\n</code></pre>\n<p>'compileJava' task (current target is 1.8) and 'compileKotlin' task (current target is 11) jvm targeta version.\n1 actionable task: 1 executed</p>\n<p>FAILURE: Build failed with an exception.</p>\n<ul>\n<li>What went wrong:\nExecution failed for task ':react-native-gradle-plugin:compileKotlin'.</li>\n</ul>\n<blockquote>\n<p>Failed to query the value of task ':react-native-gradle-plugin:compileKotlin' property 'compilerRun\nKotlin could not find the required JDK tools in the Java installation. Make sure Kotlin compilat</p>\n</blockquote>\n<p>However the error was fixed after running this <code>choco install -y nodejs-lts openjdk11</code> with a command line using administration privileges.</p>\n<p>and don't forget to run npm run android with a refreshed terminal.</p>\n"},{"comments":[{"owner":{"account_id":1457723,"reputation":2438,"user_id":1372899,"accept_rate":100,"display_name":"robbie_c"},"score":1,"creation_date":1653472325,"post_id":72259511,"comment_id":127858874,"body_markdown":"This didn&#39;t work for me, but in case people want to copy/paste the whole thing:\n\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project version=&quot;4&quot;&gt;\n  &lt;component name=&quot;CompilerConfiguration&quot;&gt;\n    &lt;bytecodeTargetLevel target=&quot;18&quot; &gt;\n      &lt;module name=&quot;react-native-gradle-plugin&quot; target=&quot;11&quot; /&gt;\n      &lt;module name=&quot;react-native-gradle-plugin.main&quot; target=&quot;11&quot; /&gt;\n      &lt;module name=&quot;react-native-gradle-plugin.test&quot; target=&quot;11&quot; /&gt;\n    &lt;/bytecodeTargetLevel&gt;\n  &lt;/component&gt;\n&lt;/project&gt;","body":"This didn&#39;t work for me, but in case people want to copy/paste the whole thing:  &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt; &lt;project version=&quot;4&quot;&gt;   &lt;component name=&quot;CompilerConfiguration&quot;&gt;     &lt;bytecodeTargetLevel target=&quot;18&quot; &gt;       &lt;module name=&quot;react-native-gradle-plugin&quot; target=&quot;11&quot; /&gt;       &lt;module name=&quot;react-native-gradle-plugin.main&quot; target=&quot;11&quot; /&gt;       &lt;module name=&quot;react-native-gradle-plugin.test&quot; target=&quot;11&quot; /&gt;     &lt;/bytecodeTargetLevel&gt;   &lt;/component&gt; &lt;/project&gt;"}],"tags":[],"owner":{"account_id":16479967,"reputation":375,"user_id":11906977,"display_name":"rsb"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1652708423,"creation_date":1652705441,"answer_id":72259511,"question_id":71771423,"body_markdown":"The message is gone at last.\r\n\r\nBefore to that do the following [ iam using Mac]\r\n1. Have JDK11 installed and HOME set\r\n2. If you have any old version or have installed latest 18 and not as mentioned in the error. Then follow this [URL][1] to remove the the installation and ensure the path is set properly by following this [refer to the highest scored one]\r\n3. Now to set the path follow this [URL][2]. Written by ***Arv***\r\n4. Now look for this file in android folder\r\n***android/.idea/compiler.xml*** and change the target set as &quot;**1.8**&quot; to &quot;**11**&quot;\r\n[![enter image description here][3]][3]\r\n5. run ./gradlew clean [run it twice..else same message will be visible]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/50056598/how-to-uninstall-jdk-on-mac-os\r\n  [2]: https://stackoverflow.com/questions/14702702/how-to-set-java-home-in-mac-permanently\r\n  [3]: https://i.stack.imgur.com/7e4Eg.png","title":"React Native: &#39;compileJava&#39; task (current target is 1.8) and &#39;compileKotlin&#39; task (current target is 11) jvm target compat","body":"<p>The message is gone at last.</p>\n<p>Before to that do the following [ iam using Mac]</p>\n<ol>\n<li>Have JDK11 installed and HOME set</li>\n<li>If you have any old version or have installed latest 18 and not as mentioned in the error. Then follow this <a href=\"https://stackoverflow.com/questions/50056598/how-to-uninstall-jdk-on-mac-os\">URL</a> to remove the the installation and ensure the path is set properly by following this [refer to the highest scored one]</li>\n<li>Now to set the path follow this <a href=\"https://stackoverflow.com/questions/14702702/how-to-set-java-home-in-mac-permanently\">URL</a>. Written by <em><strong>Arv</strong></em></li>\n<li>Now look for this file in android folder\n<em><strong>android/.idea/compiler.xml</strong></em> and change the target set as &quot;<strong>1.8</strong>&quot; to &quot;<strong>11</strong>&quot;\n<a href=\"https://i.stack.imgur.com/7e4Eg.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7e4Eg.png\" alt=\"enter image description here\" /></a></li>\n<li>run ./gradlew clean [run it twice..else same message will be visible]</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":14448330,"reputation":29,"user_id":10436722,"display_name":"MAM.AASIM"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1654620697,"creation_date":1654620697,"answer_id":72534919,"question_id":71771423,"body_markdown":"&gt; Task :react-native-gradle-plugin:compileKotlin\r\n&#39;compileJava&#39; task (current target is 1.8) and &#39;compileKotlin&#39; task (current target is 11) jvm target compatibility should be set to the same Java version.\r\n\r\nSolution \r\n----------------\r\nExecute following commands\r\n - run cmd(Administrator) the past\r\nchoco install -y openjdk11","title":"React Native: &#39;compileJava&#39; task (current target is 1.8) and &#39;compileKotlin&#39; task (current target is 11) jvm target compat","body":"<blockquote>\n<p>Task :react-native-gradle-plugin:compileKotlin\n'compileJava' task (current target is 1.8) and 'compileKotlin' task (current target is 11) jvm target compatibility should be set to the same Java version.</p>\n</blockquote>\n<h2>Solution</h2>\n<p>Execute following commands</p>\n<ul>\n<li>run cmd(Administrator) the past\nchoco install -y openjdk11</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":17699771,"reputation":31,"user_id":12849643,"display_name":"Jose Maria Gayosso Ortega"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1661478445,"creation_date":1661478445,"answer_id":73495306,"question_id":71771423,"body_markdown":"I just installed jdk11 then run `cd ./android/ &amp;&amp; ./gradlew clean` That works for me","title":"React Native: &#39;compileJava&#39; task (current target is 1.8) and &#39;compileKotlin&#39; task (current target is 11) jvm target compat","body":"<p>I just installed jdk11 then run <code>cd ./android/ &amp;&amp; ./gradlew clean</code> That works for me</p>\n"},{"tags":[],"owner":{"account_id":26212834,"reputation":11,"user_id":19891404,"display_name":"Tugay Tuna"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676838690,"creation_date":1676569246,"answer_id":75476040,"question_id":71771423,"body_markdown":"    openjdk11 v11.0.16.20220913 already installed.\r\n\r\n    node js version: v18.14.0\r\n\r\n    java version &quot;19.0.2&quot; 2023-01-17\r\n    Java(TM) SE Runtime Environment (build 19.0.2+7-44)\r\n    Java HotSpot(TM) 64-Bit Server VM (build 19.0.2+7-44, mixed mode, sharing)\r\n\r\n\r\n\r\nstill has same problem.\r\n\r\n\r\n----------solved----------\r\n\r\nupdate java and change environment variables location of JAVA_HOME\r\n\r\n\r\nAdd this to `gradle.properties`\r\n\r\n    org.gradle.java.home=C:\\\\Program Files\\\\Java\\\\jdk-18.0.2.1\r\n\r\n","title":"React Native: &#39;compileJava&#39; task (current target is 1.8) and &#39;compileKotlin&#39; task (current target is 11) jvm target compat","body":"<pre><code>openjdk11 v11.0.16.20220913 already installed.\n\nnode js version: v18.14.0\n\njava version &quot;19.0.2&quot; 2023-01-17\nJava(TM) SE Runtime Environment (build 19.0.2+7-44)\nJava HotSpot(TM) 64-Bit Server VM (build 19.0.2+7-44, mixed mode, sharing)\n</code></pre>\n<p>still has same problem.</p>\n<p>----------solved----------</p>\n<p>update java and change environment variables location of JAVA_HOME</p>\n<p>Add this to <code>gradle.properties</code></p>\n<pre><code>org.gradle.java.home=C:\\\\Program Files\\\\Java\\\\jdk-18.0.2.1\n</code></pre>\n"}],"owner":{"account_id":23542927,"reputation":323,"user_id":17586837,"display_name":"Emanuele Ago"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43047,"favorite_count":0,"down_vote_count":0,"up_vote_count":18,"accepted_answer_id":71800545,"answer_count":7,"score":18,"last_activity_date":1676838690,"creation_date":1649267058,"question_id":71771423,"body_markdown":"Hello everyone I am trying to create and run a react native app. I run\r\n `npx react-native init rn4` but when I run `npm run android` I have this error:\r\n\r\n    &gt; Task :react-native-gradle-plugin:compileKotlin\r\n    &#39;compileJava&#39; task (current target is 1.8) and &#39;compileKotlin&#39; task (current target is 11) jvm target compatibility should be set to the same Java version.\r\n    w: C:\\Users\\emanu\\App\\rn4\\node_modules\\react-native-gradle-plugin\\src\\main\\kotlin\\com\\facebook\\react\\ReactExtension.kt: (10, 37): &#39;BaseVariant&#39; is deprecated. Deprecated in Java\r\n    w: C:\\Users\\emanu\\App\\rn4\\node_modules\\react-native-gradle-plugin\\src\\main\\kotlin\\com\\facebook\\react\\ReactExtension.kt: (119, 30): &#39;BaseVariant&#39; is deprecated. Deprecated in Java\r\n    w: C:\\Users\\emanu\\App\\rn4\\node_modules\\react-native-gradle-plugin\\src\\main\\kotlin\\com\\facebook\\react\\ReactExtension.kt: (135, 26): &#39;BaseVariant&#39; is deprecated. Deprecated in Java\r\n    w: C:\\Users\\emanu\\App\\rn4\\node_modules\\react-native-gradle-plugin\\src\\main\\kotlin\\com\\facebook\\react\\ReactExtension.kt: (155, 32): &#39;BaseVariant&#39; is deprecated. Deprecated in Java\r\n    w: C:\\Users\\emanu\\App\\rn4\\node_modules\\react-native-gradle-plugin\\src\\main\\kotlin\\com\\facebook\\react\\ReactExtension.kt: (161, 31): &#39;BaseVariant&#39; is deprecated. Deprecated in Java\r\n    w: C:\\Users\\emanu\\App\\rn4\\node_modules\\react-native-gradle-plugin\\src\\main\\kotlin\\com\\facebook\\react\\ReactExtension.kt: (169, 36): &#39;BaseVariant&#39; is deprecated. Deprecated in Java\r\n    w: C:\\Users\\emanu\\App\\rn4\\node_modules\\react-native-gradle-plugin\\src\\main\\kotlin\\com\\facebook\\react\\ReactPlugin.kt: (99, 48): &#39;reactRoot: DirectoryProperty&#39; is deprecated. reactRoot was confusing and has been replace with rootto point to your root project and reactNativeDir to point to the folder of the react-native NPM package\r\n    w: C:\\Users\\emanu\\App\\rn4\\node_modules\\react-native-gradle-plugin\\src\\main\\kotlin\\com\\facebook\\react\\TaskConfiguration.kt: (10, 37): &#39;ApplicationVariant&#39; is deprecated. Deprecated in Java\r\n    w: C:\\Users\\emanu\\App\\rn4\\node_modules\\react-native-gradle-plugin\\src\\main\\kotlin\\com\\facebook\\react\\TaskConfiguration.kt: (11, 37): &#39;BaseVariant&#39; is deprecated. Deprecated in Java\r\n    w: C:\\Users\\emanu\\App\\rn4\\node_modules\\react-native-gradle-plugin\\src\\main\\kotlin\\com\\facebook\\react\\TaskConfiguration.kt: (12, 37): &#39;LibraryVariant&#39; is deprecated. Deprecated in Java\r\n    w: C:\\Users\\emanu\\App\\rn4\\node_modules\\react-native-gradle-plugin\\src\\main\\kotlin\\com\\facebook\\react\\TaskConfiguration.kt: (28, 51): &#39;BaseVariant&#39; is deprecated. Deprecated in Java\r\n    w: C:\\Users\\emanu\\App\\rn4\\node_modules\\react-native-gradle-plugin\\src\\main\\kotlin\\com\\facebook\\react\\TaskConfiguration.kt: (131, 12): &#39;ApplicationVariant&#39; is deprecated. Deprecated in Java\r\n    w: C:\\Users\\emanu\\App\\rn4\\node_modules\\react-native-gradle-plugin\\src\\main\\kotlin\\com\\facebook\\react\\TaskConfiguration.kt: (132, 12): &#39;LibraryVariant&#39; is deprecated. Deprecated in Java\r\n    w: C:\\Users\\emanu\\App\\rn4\\node_modules\\react-native-gradle-plugin\\src\\main\\kotlin\\com\\facebook\\react\\TaskConfiguration.kt: (250, 14): &#39;BaseVariant&#39; is deprecated. Deprecated in Java\r\n    \r\n    &gt; Task :react-native-gradle-plugin:compileJava\r\n    6 actionable tasks: 6 executed\r\n    Note: C:\\Users\\emanu\\App\\rn4\\node_modules\\react-native-gradle-plugin\\src\\main\\java\\com\\facebook\\react\\codegen\\generator\\SchemaJsonParser.java uses or overrides a deprecated API.\r\n    Note: Recompile with -Xlint:deprecation for details.\r\n    \r\n    FAILURE: Build failed with an exception.\r\n    \r\n    * Where:\r\n    Build file &#39;C:\\Users\\emanu\\App\\rn4\\android\\app\\build.gradle&#39; line: 1\r\n    \r\n    * What went wrong:\r\n    A problem occurred evaluating project &#39;:app&#39;.\r\n    &gt; Failed to apply plugin &#39;com.android.internal.application&#39;.\r\n       &gt; Android Gradle plugin requires Java 11 to run. You are currently using Java 1.8.\r\n         You can try some of the following options:\r\n           - changing the IDE settings.\r\n           - changing the JAVA_HOME environment variable.\r\n           - changing `org.gradle.java.home` in `gradle.properties`.\r\n    \r\n    * Try:\r\n    &gt; Run with --stacktrace option to get the stack trace.\r\n    &gt; Run with --info or --debug option to get more log output.\r\n    &gt; Run with --scan to get full insights.\r\n    \r\n    * Get more help at https://help.gradle.org\r\n    \r\n    BUILD FAILED in 59s\r\n    \r\n    error Failed to install the app. Make sure you have the Android development environment set up: https://reactnative.dev/docs/environment-setup.\r\n    Error: Command failed: gradlew.bat app:installDebug -PreactNativeDevServerPort=8081\r\n    Note: C:\\Users\\emanu\\App\\rn4\\node_modules\\react-native-gradle-plugin\\src\\main\\java\\com\\facebook\\react\\codegen\\generator\\SchemaJsonParser.java uses or overrides a deprecated API.\r\n    Note: Recompile with -Xlint:deprecation for details.\r\n    \r\n    FAILURE: Build failed with an exception.\r\n    \r\n    * Where:\r\n    Build file &#39;C:\\Users\\emanu\\App\\rn4\\android\\app\\build.gradle&#39; line: 1\r\n    \r\n    * What went wrong:\r\n    A problem occurred evaluating project &#39;:app&#39;.\r\n    &gt; Failed to apply plugin &#39;com.android.internal.application&#39;.\r\n       &gt; Android Gradle plugin requires Java 11 to run. You are currently using Java 1.8.\r\n         You can try some of the following options:\r\n           - changing the IDE settings.\r\n           - changing the JAVA_HOME environment variable.\r\n           - changing `org.gradle.java.home` in `gradle.properties`.\r\n    \r\n    * Try:\r\n    &gt; Run with --stacktrace option to get the stack trace.\r\n    &gt; Run with --info or --debug option to get more log output.\r\n    &gt; Run with --scan to get full insights.\r\n    \r\n    * Get more help at https://help.gradle.org\r\n    \r\n    BUILD FAILED in 59s\r\n    \r\n        at makeError (C:\\Users\\emanu\\App\\rn4\\node_modules\\execa\\index.js:174:9)\r\n        at C:\\Users\\emanu\\App\\rn4\\node_modules\\execa\\index.js:278:16\r\n        at processTicksAndRejections (node:internal/process/task_queues:96:5)\r\n        at async runOnAllDevices (C:\\Users\\emanu\\App\\rn4\\node_modules\\@react-native-community\\cli-platform-android\\build\\commands\\runAndroid\\runOnAllDevices.js:109:5)\r\n        at async Command.handleAction (C:\\Users\\emanu\\App\\rn4\\node_modules\\@react-native-community\\cli\\build\\index.js:192:9)\r\n    info Run CLI with --verbose flag for more details.\r\n\r\nI also run `cd android &amp;&amp; ./gradlew clean` and the output is:\r\n\r\n    FAILURE: Build failed with an exception.\r\n    \r\n    * Where:\r\n    Build file &#39;C:\\Users\\emanu\\App\\rn4\\android\\app\\build.gradle&#39; line: 1\r\n    \r\n    * What went wrong:\r\n    A problem occurred evaluating project &#39;:app&#39;.\r\n    &gt; Failed to apply plugin &#39;com.android.internal.application&#39;.\r\n       &gt; Android Gradle plugin requires Java 11 to run. You are currently using Java 1.8.\r\n         You can try some of the following options:\r\n           - changing the IDE settings.\r\n           - changing the JAVA_HOME environment variable.\r\n           - changing `org.gradle.java.home` in `gradle.properties`.\r\n\r\nThis is the file in `android/gradle/wrapper/gradle-wrapper.properties`\r\n\r\n    distributionBase=GRADLE_USER_HOME\r\n    distributionPath=wrapper/dists\r\n    distributionUrl=https\\://services.gradle.org/distributions/gradle-7.3.3-all.zip\r\n    zipStoreBase=GRADLE_USER_HOME\r\n    zipStorePath=wrapper/dists\r\n\r\n\r\nand this is the output when I run `./gradlew --version`\r\n\r\n    ------------------------------------------------------------\r\n    Gradle 7.3.3\r\n    ------------------------------------------------------------\r\n    \r\n    Build time:   2021-12-22 12:37:54 UTC\r\n    Revision:     6f556c80f945dc54b50e0be633da6c62dbe8dc71\r\n    \r\n    Kotlin:       1.5.31\r\n    Groovy:       3.0.9\r\n    Ant:          Apache Ant(TM) version 1.10.11 compiled on July 10 2021\r\n    JVM:          1.8.0_302 (Oracle Corporation 25.302-b08)\r\n    OS:           Windows 10 10.0 amd64\r\n\r\nI read similar posts but I haven&#39;t been able to fix it. With folders that I created some days ago I have no problem when I run the app.\r\n\r\nSomeone can help me please?\r\nVery thanks!\r\n\r\n","title":"React Native: &#39;compileJava&#39; task (current target is 1.8) and &#39;compileKotlin&#39; task (current target is 11) jvm target compat","body":"<p>Hello everyone I am trying to create and run a react native app. I run\n<code>npx react-native init rn4</code> but when I run <code>npm run android</code> I have this error:</p>\n<pre><code>&gt; Task :react-native-gradle-plugin:compileKotlin\n'compileJava' task (current target is 1.8) and 'compileKotlin' task (current target is 11) jvm target compatibility should be set to the same Java version.\nw: C:\\Users\\emanu\\App\\rn4\\node_modules\\react-native-gradle-plugin\\src\\main\\kotlin\\com\\facebook\\react\\ReactExtension.kt: (10, 37): 'BaseVariant' is deprecated. Deprecated in Java\nw: C:\\Users\\emanu\\App\\rn4\\node_modules\\react-native-gradle-plugin\\src\\main\\kotlin\\com\\facebook\\react\\ReactExtension.kt: (119, 30): 'BaseVariant' is deprecated. Deprecated in Java\nw: C:\\Users\\emanu\\App\\rn4\\node_modules\\react-native-gradle-plugin\\src\\main\\kotlin\\com\\facebook\\react\\ReactExtension.kt: (135, 26): 'BaseVariant' is deprecated. Deprecated in Java\nw: C:\\Users\\emanu\\App\\rn4\\node_modules\\react-native-gradle-plugin\\src\\main\\kotlin\\com\\facebook\\react\\ReactExtension.kt: (155, 32): 'BaseVariant' is deprecated. Deprecated in Java\nw: C:\\Users\\emanu\\App\\rn4\\node_modules\\react-native-gradle-plugin\\src\\main\\kotlin\\com\\facebook\\react\\ReactExtension.kt: (161, 31): 'BaseVariant' is deprecated. Deprecated in Java\nw: C:\\Users\\emanu\\App\\rn4\\node_modules\\react-native-gradle-plugin\\src\\main\\kotlin\\com\\facebook\\react\\ReactExtension.kt: (169, 36): 'BaseVariant' is deprecated. Deprecated in Java\nw: C:\\Users\\emanu\\App\\rn4\\node_modules\\react-native-gradle-plugin\\src\\main\\kotlin\\com\\facebook\\react\\ReactPlugin.kt: (99, 48): 'reactRoot: DirectoryProperty' is deprecated. reactRoot was confusing and has been replace with rootto point to your root project and reactNativeDir to point to the folder of the react-native NPM package\nw: C:\\Users\\emanu\\App\\rn4\\node_modules\\react-native-gradle-plugin\\src\\main\\kotlin\\com\\facebook\\react\\TaskConfiguration.kt: (10, 37): 'ApplicationVariant' is deprecated. Deprecated in Java\nw: C:\\Users\\emanu\\App\\rn4\\node_modules\\react-native-gradle-plugin\\src\\main\\kotlin\\com\\facebook\\react\\TaskConfiguration.kt: (11, 37): 'BaseVariant' is deprecated. Deprecated in Java\nw: C:\\Users\\emanu\\App\\rn4\\node_modules\\react-native-gradle-plugin\\src\\main\\kotlin\\com\\facebook\\react\\TaskConfiguration.kt: (12, 37): 'LibraryVariant' is deprecated. Deprecated in Java\nw: C:\\Users\\emanu\\App\\rn4\\node_modules\\react-native-gradle-plugin\\src\\main\\kotlin\\com\\facebook\\react\\TaskConfiguration.kt: (28, 51): 'BaseVariant' is deprecated. Deprecated in Java\nw: C:\\Users\\emanu\\App\\rn4\\node_modules\\react-native-gradle-plugin\\src\\main\\kotlin\\com\\facebook\\react\\TaskConfiguration.kt: (131, 12): 'ApplicationVariant' is deprecated. Deprecated in Java\nw: C:\\Users\\emanu\\App\\rn4\\node_modules\\react-native-gradle-plugin\\src\\main\\kotlin\\com\\facebook\\react\\TaskConfiguration.kt: (132, 12): 'LibraryVariant' is deprecated. Deprecated in Java\nw: C:\\Users\\emanu\\App\\rn4\\node_modules\\react-native-gradle-plugin\\src\\main\\kotlin\\com\\facebook\\react\\TaskConfiguration.kt: (250, 14): 'BaseVariant' is deprecated. Deprecated in Java\n\n&gt; Task :react-native-gradle-plugin:compileJava\n6 actionable tasks: 6 executed\nNote: C:\\Users\\emanu\\App\\rn4\\node_modules\\react-native-gradle-plugin\\src\\main\\java\\com\\facebook\\react\\codegen\\generator\\SchemaJsonParser.java uses or overrides a deprecated API.\nNote: Recompile with -Xlint:deprecation for details.\n\nFAILURE: Build failed with an exception.\n\n* Where:\nBuild file 'C:\\Users\\emanu\\App\\rn4\\android\\app\\build.gradle' line: 1\n\n* What went wrong:\nA problem occurred evaluating project ':app'.\n&gt; Failed to apply plugin 'com.android.internal.application'.\n   &gt; Android Gradle plugin requires Java 11 to run. You are currently using Java 1.8.\n     You can try some of the following options:\n       - changing the IDE settings.\n       - changing the JAVA_HOME environment variable.\n       - changing `org.gradle.java.home` in `gradle.properties`.\n\n* Try:\n&gt; Run with --stacktrace option to get the stack trace.\n&gt; Run with --info or --debug option to get more log output.\n&gt; Run with --scan to get full insights.\n\n* Get more help at https://help.gradle.org\n\nBUILD FAILED in 59s\n\nerror Failed to install the app. Make sure you have the Android development environment set up: https://reactnative.dev/docs/environment-setup.\nError: Command failed: gradlew.bat app:installDebug -PreactNativeDevServerPort=8081\nNote: C:\\Users\\emanu\\App\\rn4\\node_modules\\react-native-gradle-plugin\\src\\main\\java\\com\\facebook\\react\\codegen\\generator\\SchemaJsonParser.java uses or overrides a deprecated API.\nNote: Recompile with -Xlint:deprecation for details.\n\nFAILURE: Build failed with an exception.\n\n* Where:\nBuild file 'C:\\Users\\emanu\\App\\rn4\\android\\app\\build.gradle' line: 1\n\n* What went wrong:\nA problem occurred evaluating project ':app'.\n&gt; Failed to apply plugin 'com.android.internal.application'.\n   &gt; Android Gradle plugin requires Java 11 to run. You are currently using Java 1.8.\n     You can try some of the following options:\n       - changing the IDE settings.\n       - changing the JAVA_HOME environment variable.\n       - changing `org.gradle.java.home` in `gradle.properties`.\n\n* Try:\n&gt; Run with --stacktrace option to get the stack trace.\n&gt; Run with --info or --debug option to get more log output.\n&gt; Run with --scan to get full insights.\n\n* Get more help at https://help.gradle.org\n\nBUILD FAILED in 59s\n\n    at makeError (C:\\Users\\emanu\\App\\rn4\\node_modules\\execa\\index.js:174:9)\n    at C:\\Users\\emanu\\App\\rn4\\node_modules\\execa\\index.js:278:16\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at async runOnAllDevices (C:\\Users\\emanu\\App\\rn4\\node_modules\\@react-native-community\\cli-platform-android\\build\\commands\\runAndroid\\runOnAllDevices.js:109:5)\n    at async Command.handleAction (C:\\Users\\emanu\\App\\rn4\\node_modules\\@react-native-community\\cli\\build\\index.js:192:9)\ninfo Run CLI with --verbose flag for more details.\n</code></pre>\n<p>I also run <code>cd android &amp;&amp; ./gradlew clean</code> and the output is:</p>\n<pre><code>FAILURE: Build failed with an exception.\n\n* Where:\nBuild file 'C:\\Users\\emanu\\App\\rn4\\android\\app\\build.gradle' line: 1\n\n* What went wrong:\nA problem occurred evaluating project ':app'.\n&gt; Failed to apply plugin 'com.android.internal.application'.\n   &gt; Android Gradle plugin requires Java 11 to run. You are currently using Java 1.8.\n     You can try some of the following options:\n       - changing the IDE settings.\n       - changing the JAVA_HOME environment variable.\n       - changing `org.gradle.java.home` in `gradle.properties`.\n</code></pre>\n<p>This is the file in <code>android/gradle/wrapper/gradle-wrapper.properties</code></p>\n<pre><code>distributionBase=GRADLE_USER_HOME\ndistributionPath=wrapper/dists\ndistributionUrl=https\\://services.gradle.org/distributions/gradle-7.3.3-all.zip\nzipStoreBase=GRADLE_USER_HOME\nzipStorePath=wrapper/dists\n</code></pre>\n<p>and this is the output when I run <code>./gradlew --version</code></p>\n<pre><code>------------------------------------------------------------\nGradle 7.3.3\n------------------------------------------------------------\n\nBuild time:   2021-12-22 12:37:54 UTC\nRevision:     6f556c80f945dc54b50e0be633da6c62dbe8dc71\n\nKotlin:       1.5.31\nGroovy:       3.0.9\nAnt:          Apache Ant(TM) version 1.10.11 compiled on July 10 2021\nJVM:          1.8.0_302 (Oracle Corporation 25.302-b08)\nOS:           Windows 10 10.0 amd64\n</code></pre>\n<p>I read similar posts but I haven't been able to fix it. With folders that I created some days ago I have no problem when I run the app.</p>\n<p>Someone can help me please?\nVery thanks!</p>\n"},{"tags":["java","xml","serialization","xml-serialization","xstream"],"owner":{"account_id":18714921,"reputation":78,"user_id":13644171,"display_name":"harvanchik"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676838478,"creation_date":1676838478,"question_id":75503234,"body_markdown":"I am serializing an XML document into a Java Object.  There are some elements which I want to be optional.  If provided in the XML, then it will end up adding extra functionality.  But, if the element is missing from the XML, that&#39;s fine too -- don&#39;t throw an error because of it.\r\n\r\nIn the latest release of XStream, it noted that there is a converter now for Optional; thought, I am not sure how to implement that.\r\n\r\nI looked to see if there was any documentation on this, but I struggled to find anything.  I looked on StackOverflow for any answers, but there were none that I found that solved my problem.  I also searched the GitHub issues for examples of how to do it.","title":"How to have an optional element in XStream (XML -&gt; Java Object)","body":"<p>I am serializing an XML document into a Java Object.  There are some elements which I want to be optional.  If provided in the XML, then it will end up adding extra functionality.  But, if the element is missing from the XML, that's fine too -- don't throw an error because of it.</p>\n<p>In the latest release of XStream, it noted that there is a converter now for Optional; thought, I am not sure how to implement that.</p>\n<p>I looked to see if there was any documentation on this, but I struggled to find anything.  I looked on StackOverflow for any answers, but there were none that I found that solved my problem.  I also searched the GitHub issues for examples of how to do it.</p>\n"},{"tags":["java","spring-boot","feign"],"answers":[{"tags":[],"owner":{"account_id":9641278,"reputation":1707,"user_id":7155432,"display_name":"VaibS"},"comment_count":0,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1619807768,"creation_date":1619790284,"answer_id":67335025,"question_id":67334750,"body_markdown":"You can create an interceptor that&#39;d inject headers in all requests as below:\r\n```\r\n@Bean\r\npublic RequestInterceptor requestInterceptor() {\r\n  return requestTemplate -&gt; {\r\n      requestTemplate.header(&quot;user&quot;, username);\r\n      requestTemplate.header(&quot;password&quot;, password);\r\n      requestTemplate.header(&quot;Accept&quot;, ContentType.APPLICATION_JSON.getMimeType());\r\n  };\r\n}\r\n```\r\n\r\nAlso it provides a way to set interceptor using property files as below:\r\n```\r\nfeign:\r\n  client:\r\n    config:\r\n      default:\r\n        requestInterceptors:\r\n          com.baeldung.cloud.openfeign.JSONPlaceHolderInterceptor\r\n```\r\n\r\n&gt; we can create the configuration with default as the client name to configure all @FeignClient objects, or we can declare the feign client name for a configuration\r\n\r\nReference: https://www.baeldung.com/spring-cloud-openfeign\r\n\r\nEDIT:\r\nAnother way is to set headers in yml as below:\r\n```\r\nfeign:\r\n  client:\r\n    config:\r\n      default:\r\n        defaultRequestHeaders:\r\n          Authorization:\r\n            - Basic dXNlcjpwYXNzd29yZA==\r\n          SomeOtherHeader:\r\n            - Value1\r\n            - Value2\r\n```","title":"How to set fixed headers to the feign client instead of setting on request level","body":"<p>You can create an interceptor that'd inject headers in all requests as below:</p>\n<pre><code>@Bean\npublic RequestInterceptor requestInterceptor() {\n  return requestTemplate -&gt; {\n      requestTemplate.header(&quot;user&quot;, username);\n      requestTemplate.header(&quot;password&quot;, password);\n      requestTemplate.header(&quot;Accept&quot;, ContentType.APPLICATION_JSON.getMimeType());\n  };\n}\n</code></pre>\n<p>Also it provides a way to set interceptor using property files as below:</p>\n<pre><code>feign:\n  client:\n    config:\n      default:\n        requestInterceptors:\n          com.baeldung.cloud.openfeign.JSONPlaceHolderInterceptor\n</code></pre>\n<blockquote>\n<p>we can create the configuration with default as the client name to configure all @FeignClient objects, or we can declare the feign client name for a configuration</p>\n</blockquote>\n<p>Reference: <a href=\"https://www.baeldung.com/spring-cloud-openfeign\" rel=\"noreferrer\">https://www.baeldung.com/spring-cloud-openfeign</a></p>\n<p>EDIT:\nAnother way is to set headers in yml as below:</p>\n<pre><code>feign:\n  client:\n    config:\n      default:\n        defaultRequestHeaders:\n          Authorization:\n            - Basic dXNlcjpwYXNzd29yZA==\n          SomeOtherHeader:\n            - Value1\n            - Value2\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19878904,"reputation":186,"user_id":14563324,"display_name":"hitesh"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1628254700,"creation_date":1628254700,"answer_id":68681974,"question_id":67334750,"body_markdown":"we have used below for kotlin to make sure we add proper headers to all the request sent : \r\n\r\nFeign client with configuration setup\r\n```\r\n@FeignClient(name = &quot;YourClient&quot;, url = &quot;\\${base-url}&quot;, configuration = [FeignHeaderConfiguration::class])\r\ninterface YourClient \r\n```\r\n\r\nHeader configuration\r\n```\r\n@Configuration\r\nclass FeignHeaderConfiguration {\r\n\r\n    @Bean\r\n    fun clientHeaderInterceptor(): ClientHeaderInterceptor {\r\n        return ClientHeaderInterceptor()\r\n    }\r\n}\r\n```\r\n\r\nand interceptor where we added the header\r\n\r\n```\r\nclass ClientHeaderInterceptor : RequestInterceptor {\r\n    override fun apply(requestTemplate: RequestTemplate) {\r\n       requestTemplate.header(&quot;Accept&quot;, MediaType.APPLICATION_JSON_VALUE)\r\n    }\r\n}\r\n```\r\n","title":"How to set fixed headers to the feign client instead of setting on request level","body":"<p>we have used below for kotlin to make sure we add proper headers to all the request sent :</p>\n<p>Feign client with configuration setup</p>\n<pre><code>@FeignClient(name = &quot;YourClient&quot;, url = &quot;\\${base-url}&quot;, configuration = [FeignHeaderConfiguration::class])\ninterface YourClient \n</code></pre>\n<p>Header configuration</p>\n<pre><code>@Configuration\nclass FeignHeaderConfiguration {\n\n    @Bean\n    fun clientHeaderInterceptor(): ClientHeaderInterceptor {\n        return ClientHeaderInterceptor()\n    }\n}\n</code></pre>\n<p>and interceptor where we added the header</p>\n<pre><code>class ClientHeaderInterceptor : RequestInterceptor {\n    override fun apply(requestTemplate: RequestTemplate) {\n       requestTemplate.header(&quot;Accept&quot;, MediaType.APPLICATION_JSON_VALUE)\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":5318745,"reputation":721,"user_id":4242765,"accept_rate":30,"display_name":"Ram Kowsu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13782,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1676838475,"creation_date":1619789219,"question_id":67334750,"body_markdown":"I am using feign client for inter-service communication; question is I am able to send the method/request headers on request level meaning ex:\r\n\r\n    @FeignClient(name = &quot;product-service&quot;, url = &quot;https://jsonplaceholder.typicode.com/&quot;)\r\n    public interface ProductClient {\r\n    \r\n        @GetMapping(&quot;/posts&quot;)\r\n        List&lt;PostDTO&gt; fetchPosts(@RequestHeaders....);\r\n\r\n        @GetMapping(&quot;/posts/{id}&quot;)\r\n        List&lt;PostDTO&gt; fetchPostsById(@RequestHeaders...., @PathVariable(&quot;id&quot;)int id);\r\n\r\n\r\nBut as header is fixed, instead of sending the same value to each request; can we set it on class level; I tried below; it is not working\r\n\r\n    @FeignClient(name = &quot;product-service&quot;, url = &quot;https://jsonplaceholder.typicode.com/&quot;)\r\n    @Headers({\r\n            &quot;X-Ping: {token}&quot;\r\n    })\r\n    public interface ProductClient {\r\n    \r\n        @GetMapping(&quot;/posts&quot;)\r\n        List&lt;PostDTO&gt; fetchPosts(@RequestHeaders....);\r\n    \r\n        @GetMapping(&quot;/posts/{id}&quot;)\r\n        List&lt;PostDTO&gt; fetchPostsById(@RequestHeaders...., @PathVariable(&quot;id&quot;)int id);\r\n\r\n\r\n\r\nCorrect me with the API or an example.","title":"How to set fixed headers to the feign client instead of setting on request level","body":"<p>I am using feign client for inter-service communication; question is I am able to send the method/request headers on request level meaning ex:</p>\n<pre><code>@FeignClient(name = &quot;product-service&quot;, url = &quot;https://jsonplaceholder.typicode.com/&quot;)\npublic interface ProductClient {\n\n    @GetMapping(&quot;/posts&quot;)\n    List&lt;PostDTO&gt; fetchPosts(@RequestHeaders....);\n\n    @GetMapping(&quot;/posts/{id}&quot;)\n    List&lt;PostDTO&gt; fetchPostsById(@RequestHeaders...., @PathVariable(&quot;id&quot;)int id);\n</code></pre>\n<p>But as header is fixed, instead of sending the same value to each request; can we set it on class level; I tried below; it is not working</p>\n<pre><code>@FeignClient(name = &quot;product-service&quot;, url = &quot;https://jsonplaceholder.typicode.com/&quot;)\n@Headers({\n        &quot;X-Ping: {token}&quot;\n})\npublic interface ProductClient {\n\n    @GetMapping(&quot;/posts&quot;)\n    List&lt;PostDTO&gt; fetchPosts(@RequestHeaders....);\n\n    @GetMapping(&quot;/posts/{id}&quot;)\n    List&lt;PostDTO&gt; fetchPostsById(@RequestHeaders...., @PathVariable(&quot;id&quot;)int id);\n</code></pre>\n<p>Correct me with the API or an example.</p>\n"},{"tags":["java","spring-boot","spring-webflux","reactive-feign-client"],"comments":[{"owner":{"account_id":19814638,"reputation":434,"user_id":14512647,"display_name":"loc.dang"},"score":0,"creation_date":1640290341,"post_id":70466943,"comment_id":124564541,"body_markdown":"The InvoiceStore still gets &#39;Authorization&#39; when i call its API but it doesn&#39;t seem to send that data to the ProductStore.","body":"The InvoiceStore still gets &#39;Authorization&#39; when i call its API but it doesn&#39;t seem to send that data to the ProductStore."}],"answers":[{"comments":[{"owner":{"account_id":19814638,"reputation":434,"user_id":14512647,"display_name":"loc.dang"},"score":0,"creation_date":1640669543,"post_id":70493449,"comment_id":124628264,"body_markdown":"Oh sorry, I was missing this in the process of turning my code into a simple question to ask. I think I did something wrong in using `feign reactive`. When I enabled anonymous access at `localhost:8083/invoice/test` it worked. You must manually configure `feign reactive` to pass the `authorization header` instead of using the built-in configuration. I managed to do that but it didn&#39;t bring any good results for my project. Now I think the problem is with my consul configuration.\nThank you for help.","body":"Oh sorry, I was missing this in the process of turning my code into a simple question to ask. I think I did something wrong in using <code>feign reactive</code>. When I enabled anonymous access at <code>localhost:8083&#47;invoice&#47;test</code> it worked. You must manually configure <code>feign reactive</code> to pass the <code>authorization header</code> instead of using the built-in configuration. I managed to do that but it didn&#39;t bring any good results for my project. Now I think the problem is with my consul configuration. Thank you for help."},{"owner":{"account_id":19814638,"reputation":434,"user_id":14512647,"display_name":"loc.dang"},"score":0,"creation_date":1640670153,"post_id":70493449,"comment_id":124628366,"body_markdown":"I found 1 question about not transmitting authorization here [How to consume basic-authentication protected Restful web service via REACTIVE feign client](https://stackoverflow.com/questions/60609411/how-to-consume-basic-authentication-protected-restful-web-service-via-reactive-f)","body":"I found 1 question about not transmitting authorization here <a href=\"https://stackoverflow.com/questions/60609411/how-to-consume-basic-authentication-protected-restful-web-service-via-reactive-f\">How to consume basic-authentication protected Restful web service via REACTIVE feign client</a>"}],"tags":[],"owner":{"account_id":19190684,"reputation":113,"user_id":14020465,"display_name":"sajad"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1640595436,"creation_date":1640595436,"answer_id":70493449,"question_id":70466943,"body_markdown":"your code is totally wrong and i think you should get compile time error because testFeign(String authorization) need a string input but when you call it ( invoiceService.testFeign().switchIfEmpty ... ) you are not passing any input to it.\r\n\r\ni should check the main code ,but i think you are passing null value as authorization in client side ( probably ).","title":"My microservice is not receiving &quot;Authorization&quot; from request header when i use feign-reactive to call it from another microservice","body":"<p>your code is totally wrong and i think you should get compile time error because testFeign(String authorization) need a string input but when you call it ( invoiceService.testFeign().switchIfEmpty ... ) you are not passing any input to it.</p>\n<p>i should check the main code ,but i think you are passing null value as authorization in client side ( probably ).</p>\n"},{"tags":[],"owner":{"account_id":19814638,"reputation":434,"user_id":14512647,"display_name":"loc.dang"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641582855,"creation_date":1641582855,"answer_id":70626080,"question_id":70466943,"body_markdown":"I found the solution to this problem.\r\n\r\nI misinterpreted how to use `reactive feign` before, which resulted in it not working.\r\n\r\nI&#39;ve added `@EnableReactiveFeignClients` and `@EnableFeignClients` for my spring boot app\r\n\r\n```Java\r\n@EnableReactiveFeignClients\r\n@EnableFeignClients\r\npublic class AnswerStoreApp {\r\n// main method\r\n}\r\n```\r\n\r\nand then, I create an interface with `@ReactiveFeignClient(name = &quot;my-other-service&quot;)`\r\n\r\n```Java\r\n@ReactiveFeignClient(name = &quot;my-other-service&quot;)\r\npublic interface FeignClientService {\r\n\r\n    @GetMapping(&quot;/api/questions/test-feign&quot;)\r\n    Mono&lt;String&gt; demo(@RequestHeader(&quot;Authorization&quot;) String authorize);\r\n\r\n    // More request\r\n}\r\n```\r\n\r\nfinally, I can use `FeignClientService` to get the data that I need\r\n\r\n```Java\r\n@Autowired\r\nprivate FeignClientService feignClientService;\r\n\r\n// Some method\r\n\r\n@GetMapping(&quot;/invoice/test&quot;)\r\n    public Mono&lt;ResponseEntity&lt;String&gt;&gt; getProducts(@RequestHeader(&quot;Authorization&quot;) String authorization) {\r\n        return feignClientService.testFeign(authorization)\r\n            .switchIfEmpty(Mono.error(new ResponseStatusException(HttpStatus.NOT_FOUND)))\r\n            .map(response -&gt; ResponseEntity.ok().body(response));\r\n    }","title":"My microservice is not receiving &quot;Authorization&quot; from request header when i use feign-reactive to call it from another microservice","body":"<p>I found the solution to this problem.</p>\n<p>I misinterpreted how to use <code>reactive feign</code> before, which resulted in it not working.</p>\n<p>I've added <code>@EnableReactiveFeignClients</code> and <code>@EnableFeignClients</code> for my spring boot app</p>\n<pre><code>@EnableReactiveFeignClients\n@EnableFeignClients\npublic class AnswerStoreApp {\n// main method\n}\n</code></pre>\n<p>and then, I create an interface with <code>@ReactiveFeignClient(name = &quot;my-other-service&quot;)</code></p>\n<pre><code>@ReactiveFeignClient(name = &quot;my-other-service&quot;)\npublic interface FeignClientService {\n\n    @GetMapping(&quot;/api/questions/test-feign&quot;)\n    Mono&lt;String&gt; demo(@RequestHeader(&quot;Authorization&quot;) String authorize);\n\n    // More request\n}\n</code></pre>\n<p>finally, I can use <code>FeignClientService</code> to get the data that I need</p>\n<pre><code>@Autowired\nprivate FeignClientService feignClientService;\n\n// Some method\n\n@GetMapping(&quot;/invoice/test&quot;)\n    public Mono&lt;ResponseEntity&lt;String&gt;&gt; getProducts(@RequestHeader(&quot;Authorization&quot;) String authorization) {\n        return feignClientService.testFeign(authorization)\n            .switchIfEmpty(Mono.error(new ResponseStatusException(HttpStatus.NOT_FOUND)))\n            .map(response -&gt; ResponseEntity.ok().body(response));\n    }\n</code></pre>\n"}],"owner":{"account_id":19814638,"reputation":434,"user_id":14512647,"display_name":"loc.dang"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1394,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1676838405,"creation_date":1640290146,"question_id":70466943,"body_markdown":"I have 2 microservices, **ProductStore** and **InvoiceStore**.\r\n\r\nI want **ProductStore** to provide product information through an `API` and **InvoiceStore** to call `that API` to get product information from **ProductStore**. \r\nBut **ProductStore** needs `Authorization` information to check `user authentication` so I use `@RequestHeader(&quot;Authorization&quot;) String auth` as argument variable in my `FeignAPI` to send it to **ProductStore**. \r\nBut it reported that he did not receive the `Authorization` data when i test it.\r\n\r\nI use `@RequestHeader` like that because I see it in the examples of [feign-reactive all feature](https://github.com/Playtika/feign-reactive/blob/develop/feign-reactor-test/feign-reactor-spring-mvc-test/src/test/java/reactivefeign/spring/mvc/allfeatures/AllFeaturesMvc.java)\r\n\r\nI don&#39;t know if I did something wrong somewhere or I misunderstood the usage of `@RequestHeader`. \r\n\r\nHelp me please! Here is my code.\r\n\r\n\r\n\r\n\r\n\r\nMy **ProductStore** provides API to be able to get product information.\r\n\r\n```Java\r\n    @GetMapping(&quot;products&quot;)\r\n    public ResponseEntity&lt;String&gt; test(@RequestHeader(&quot;Authorization&quot;) String authorization) {\r\n        log.debug(&quot;Authorization is {}&quot;, authorization);\r\n        return ResponseEntity.ok().body(&quot;all products&quot;);\r\n    }\r\n```\r\n\r\nAnd my **InvoiceStore** call that API with `feign-reactive` WebReactiveFeign.\r\n\r\nI followed the instructions in the readme of [Playtika feign-reactive](https://github.com/Playtika/feign-reactive) and applied it to my project as follows\r\n\r\nFirst, I write FeignAPI\r\n\r\n```Java\r\n@Headers({ &quot;Accept: application/json&quot; })\r\npublic interface FeignClientAPI {\r\n\r\n    @RequestLine(&quot;GET /products&quot;)\r\n    Mono&lt;String&gt; getProducts(@RequestHeader(&quot;Authorization&quot;) String authorization);\r\n}\r\n```\r\n\r\nAnd then, I build the client in `IvoiceService`\r\n\r\n```Java\r\n@Service\r\n@Transactional\r\npublic class InvoiceService {\r\n    private final FeignClientAPI client = WebReactiveFeign.&lt;FeignClientAPI&gt;builder().target(FeignClientAPI.class, &quot;http://localhost:8082&quot;);\r\n\r\n    public Mono&lt;String&gt; testFeign(String authorization){\r\n        log.debug(&quot;Call api with authorization: {}&quot;, authorization);\r\n        return client.getTest(authorization);\r\n    }\r\n}\r\n```\r\n\r\nAnd then, I create an API \r\n\r\n```Java\r\n    @GetMapping(&quot;/invoice/test&quot;)\r\n    public Mono&lt;ResponseEntity&lt;String&gt;&gt; getProducts(@RequestHeader(&quot;Authorization&quot;) String authorization) {\r\n        return invoiceService.testFeign(authorization)\r\n            .switchIfEmpty(Mono.error(new ResponseStatusException(HttpStatus.NOT_FOUND)))\r\n            .map(response -&gt; ResponseEntity.ok().body(response));\r\n    }\r\n```\r\n\r\nFinally, I shoot an `GET` request to `localhost:8083/invoice/test` and I got an error \r\n\r\n```JSON\r\n{\r\n    &quot;title&quot;: &quot;Internal Server Error&quot;,\r\n    &quot;status&quot;: 500,\r\n    &quot;detail&quot;: &quot;[400 Bad Request] during [GET] to [http://localhost:8082/products] [FeignClientAPI#getTest(String)]: [{\\n  \\&quot;title\\&quot; : \\&quot;Bad Request\\&quot;,\\n  \\&quot;status\\&quot; : 400,\\n  \\&quot;detail\\&quot; : \\&quot;Required request header &#39;Authorization&#39; for method parameter type String is not present\\&quot;,\\n  \\&quot;path\\&quot; : \\&quot;/products\\&quot;,\\n  \\&quot;message\\&quot; : \\&quot;error.http.400\\&quot;\\n}]&quot;,\r\n    &quot;path&quot;: &quot;/invoice/test&quot;,\r\n    &quot;message&quot;: &quot;error.http.500&quot;\r\n}\r\n```\r\n\r\nTell me where i did wrong, Please!!! \r\nThank you for everything.","title":"My microservice is not receiving &quot;Authorization&quot; from request header when i use feign-reactive to call it from another microservice","body":"<p>I have 2 microservices, <strong>ProductStore</strong> and <strong>InvoiceStore</strong>.</p>\n<p>I want <strong>ProductStore</strong> to provide product information through an <code>API</code> and <strong>InvoiceStore</strong> to call <code>that API</code> to get product information from <strong>ProductStore</strong>.\nBut <strong>ProductStore</strong> needs <code>Authorization</code> information to check <code>user authentication</code> so I use <code>@RequestHeader(&quot;Authorization&quot;) String auth</code> as argument variable in my <code>FeignAPI</code> to send it to <strong>ProductStore</strong>.\nBut it reported that he did not receive the <code>Authorization</code> data when i test it.</p>\n<p>I use <code>@RequestHeader</code> like that because I see it in the examples of <a href=\"https://github.com/Playtika/feign-reactive/blob/develop/feign-reactor-test/feign-reactor-spring-mvc-test/src/test/java/reactivefeign/spring/mvc/allfeatures/AllFeaturesMvc.java\" rel=\"nofollow noreferrer\">feign-reactive all feature</a></p>\n<p>I don't know if I did something wrong somewhere or I misunderstood the usage of <code>@RequestHeader</code>.</p>\n<p>Help me please! Here is my code.</p>\n<p>My <strong>ProductStore</strong> provides API to be able to get product information.</p>\n<pre><code>    @GetMapping(&quot;products&quot;)\n    public ResponseEntity&lt;String&gt; test(@RequestHeader(&quot;Authorization&quot;) String authorization) {\n        log.debug(&quot;Authorization is {}&quot;, authorization);\n        return ResponseEntity.ok().body(&quot;all products&quot;);\n    }\n</code></pre>\n<p>And my <strong>InvoiceStore</strong> call that API with <code>feign-reactive</code> WebReactiveFeign.</p>\n<p>I followed the instructions in the readme of <a href=\"https://github.com/Playtika/feign-reactive\" rel=\"nofollow noreferrer\">Playtika feign-reactive</a> and applied it to my project as follows</p>\n<p>First, I write FeignAPI</p>\n<pre><code>@Headers({ &quot;Accept: application/json&quot; })\npublic interface FeignClientAPI {\n\n    @RequestLine(&quot;GET /products&quot;)\n    Mono&lt;String&gt; getProducts(@RequestHeader(&quot;Authorization&quot;) String authorization);\n}\n</code></pre>\n<p>And then, I build the client in <code>IvoiceService</code></p>\n<pre><code>@Service\n@Transactional\npublic class InvoiceService {\n    private final FeignClientAPI client = WebReactiveFeign.&lt;FeignClientAPI&gt;builder().target(FeignClientAPI.class, &quot;http://localhost:8082&quot;);\n\n    public Mono&lt;String&gt; testFeign(String authorization){\n        log.debug(&quot;Call api with authorization: {}&quot;, authorization);\n        return client.getTest(authorization);\n    }\n}\n</code></pre>\n<p>And then, I create an API</p>\n<pre><code>    @GetMapping(&quot;/invoice/test&quot;)\n    public Mono&lt;ResponseEntity&lt;String&gt;&gt; getProducts(@RequestHeader(&quot;Authorization&quot;) String authorization) {\n        return invoiceService.testFeign(authorization)\n            .switchIfEmpty(Mono.error(new ResponseStatusException(HttpStatus.NOT_FOUND)))\n            .map(response -&gt; ResponseEntity.ok().body(response));\n    }\n</code></pre>\n<p>Finally, I shoot an <code>GET</code> request to <code>localhost:8083/invoice/test</code> and I got an error</p>\n<pre><code>{\n    &quot;title&quot;: &quot;Internal Server Error&quot;,\n    &quot;status&quot;: 500,\n    &quot;detail&quot;: &quot;[400 Bad Request] during [GET] to [http://localhost:8082/products] [FeignClientAPI#getTest(String)]: [{\\n  \\&quot;title\\&quot; : \\&quot;Bad Request\\&quot;,\\n  \\&quot;status\\&quot; : 400,\\n  \\&quot;detail\\&quot; : \\&quot;Required request header 'Authorization' for method parameter type String is not present\\&quot;,\\n  \\&quot;path\\&quot; : \\&quot;/products\\&quot;,\\n  \\&quot;message\\&quot; : \\&quot;error.http.400\\&quot;\\n}]&quot;,\n    &quot;path&quot;: &quot;/invoice/test&quot;,\n    &quot;message&quot;: &quot;error.http.500&quot;\n}\n</code></pre>\n<p>Tell me where i did wrong, Please!!!\nThank you for everything.</p>\n"},{"tags":["java","spring","spring-boot","spring-cloud-feign"],"comments":[{"owner":{"account_id":14162458,"reputation":3910,"user_id":10231374,"display_name":"Toni"},"score":0,"creation_date":1665218529,"post_id":73995513,"comment_id":130651969,"body_markdown":"Does this answer your question? [Using @Headers with dynamic values in Feign client + Spring Cloud (Brixton RC2)](https://stackoverflow.com/questions/37066331/using-headers-with-dynamic-values-in-feign-client-spring-cloud-brixton-rc2)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/37066331/using-headers-with-dynamic-values-in-feign-client-spring-cloud-brixton-rc2\">Using @Headers with dynamic values in Feign client + Spring Cloud (Brixton RC2)</a>"}],"answers":[{"tags":[],"owner":{"account_id":26562582,"reputation":71,"user_id":20190174,"display_name":"Sumit Dhyani"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1665219121,"creation_date":1665219121,"answer_id":73995630,"question_id":73995513,"body_markdown":"It was answered before.\r\n\r\n\r\nThe solution is to use @RequestHeader annotation instead of feign specific annotations\r\n\r\n    @FeignClient(name=&quot;Simple-Gateway&quot;)\r\n    interface GatewayClient {    \r\n        @RequestMapping(method = RequestMethod.GET, value = &quot;/gateway/test&quot;)\r\n        String getSessionId(@RequestHeader(&quot;X-Auth-Token&quot;) String token);\r\n    }\r\n\r\n","title":"How to propagate token using Spring Feign Client","body":"<p>It was answered before.</p>\n<p>The solution is to use @RequestHeader annotation instead of feign specific annotations</p>\n<pre><code>@FeignClient(name=&quot;Simple-Gateway&quot;)\ninterface GatewayClient {    \n    @RequestMapping(method = RequestMethod.GET, value = &quot;/gateway/test&quot;)\n    String getSessionId(@RequestHeader(&quot;X-Auth-Token&quot;) String token);\n}\n</code></pre>\n"}],"owner":{"account_id":14113455,"reputation":210,"user_id":10195722,"display_name":"GenZ Dev"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":727,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73995630,"answer_count":1,"score":0,"last_activity_date":1676838354,"creation_date":1665217884,"question_id":73995513,"body_markdown":"I am using Feign Client to call another microservice as below:\r\n\r\n    @FeignClient(&quot;employee&quot;)\r\n    public interface EmployeeFeignClient {\r\n    \r\n    \t@RequestMapping(\r\n    \t\tmethod= RequestMethod.GET,\r\n    \t\tvalue=&quot;/employee/code/{code}&quot;,\r\n    \t\tconsumes=&quot;application/json&quot;\r\n    \t)\r\n    \tEmployeeResponseEntity getEmployeeByCode(@PathVariable(&quot;code&quot;) String code);\r\n    }\r\n\r\nThe service which calls the employee service will have authentication bearer token in its request header. I need to pass this same token to the service call being made. \r\nTried to find on how to achieve the same but could not. Some help would be nice.","title":"How to propagate token using Spring Feign Client","body":"<p>I am using Feign Client to call another microservice as below:</p>\n<pre><code>@FeignClient(&quot;employee&quot;)\npublic interface EmployeeFeignClient {\n\n    @RequestMapping(\n        method= RequestMethod.GET,\n        value=&quot;/employee/code/{code}&quot;,\n        consumes=&quot;application/json&quot;\n    )\n    EmployeeResponseEntity getEmployeeByCode(@PathVariable(&quot;code&quot;) String code);\n}\n</code></pre>\n<p>The service which calls the employee service will have authentication bearer token in its request header. I need to pass this same token to the service call being made.\nTried to find on how to achieve the same but could not. Some help would be nice.</p>\n"},{"tags":["java","spring","spring-boot","spring-security","spring-cloud-feign"],"answers":[{"tags":[],"owner":{"account_id":9905560,"reputation":651,"user_id":7334180,"accept_rate":75,"display_name":"Holinc"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1617875261,"creation_date":1617875261,"answer_id":67001446,"question_id":66988336,"body_markdown":"Implementing `RequestInterceptor` to set Authentication to request header.\r\n\r\n        public void apply(RequestTemplate template) {\r\n            if (RequestContextHolder.getRequestAttributes() != null &amp;&amp; RequestContextHolder.getRequestAttributes() instanceof ServletRequestAttributes) {\r\n                HttpServletRequest request = ((ServletRequestAttributes)RequestContextHolder.getRequestAttributes()).getRequest();\r\n                String authorization = request.getHeader(&quot;Authorization&quot;);\r\n                if (StringUtils.isNotBlank(authorization)) {\r\n                    template.header(&quot;Authorization&quot;, new String[]{authorization});\r\n                }\r\n            }\r\n    \r\n        }","title":"How to request Feign with Authentication JWT Bearer Java Spring?","body":"<p>Implementing <code>RequestInterceptor</code> to set Authentication to request header.</p>\n<pre><code>    public void apply(RequestTemplate template) {\n        if (RequestContextHolder.getRequestAttributes() != null &amp;&amp; RequestContextHolder.getRequestAttributes() instanceof ServletRequestAttributes) {\n            HttpServletRequest request = ((ServletRequestAttributes)RequestContextHolder.getRequestAttributes()).getRequest();\n            String authorization = request.getHeader(&quot;Authorization&quot;);\n            if (StringUtils.isNotBlank(authorization)) {\n                template.header(&quot;Authorization&quot;, new String[]{authorization});\n            }\n        }\n\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":242699,"reputation":1088,"user_id":514402,"display_name":"Mike Holdsworth"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1617933411,"creation_date":1617933411,"answer_id":67014087,"question_id":66988336,"body_markdown":"Naturally you need a way to obtain your service token from a well known OAuth endpoint using a `client-credentials` grant type\r\n\r\nIf you want to do it on a per integration basis, perhaps because you are integrating with different services using different approaches, you can do something like this:\r\n\r\n\r\n    @RequestMapping(method = [RequestMethod.GET], value = [&quot;/id/{id}&quot;], produces = [MediaType.APPLICATION_JSON_VALUE], consumes = [MediaType.APPLICATION_JSON_VALUE])\r\n    operator fun get(\r\n        @RequestHeader(&quot;Authorization&quot;) bearerToken: String = &quot;Bearer mybiglongencodedtoken....&quot;,\r\n        @PathVariable(&quot;id&quot;) code: String,\r\n\r\n","title":"How to request Feign with Authentication JWT Bearer Java Spring?","body":"<p>Naturally you need a way to obtain your service token from a well known OAuth endpoint using a <code>client-credentials</code> grant type</p>\n<p>If you want to do it on a per integration basis, perhaps because you are integrating with different services using different approaches, you can do something like this:</p>\n<pre><code>@RequestMapping(method = [RequestMethod.GET], value = [&quot;/id/{id}&quot;], produces = [MediaType.APPLICATION_JSON_VALUE], consumes = [MediaType.APPLICATION_JSON_VALUE])\noperator fun get(\n    @RequestHeader(&quot;Authorization&quot;) bearerToken: String = &quot;Bearer mybiglongencodedtoken....&quot;,\n    @PathVariable(&quot;id&quot;) code: String,\n</code></pre>\n"}],"owner":{"account_id":21180526,"reputation":13,"user_id":15575019,"display_name":"winterfell"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2507,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":67001446,"answer_count":2,"score":0,"last_activity_date":1676838262,"creation_date":1617806132,"question_id":66988336,"body_markdown":"&gt; I use two service in java spring service core and service shop, i want to insert data from service core with method in service core, but in service core i need to bearer token, how to i send auth bearer token from service shop to service core? ","title":"How to request Feign with Authentication JWT Bearer Java Spring?","body":"<blockquote>\n<p>I use two service in java spring service core and service shop, i want to insert data from service core with method in service core, but in service core i need to bearer token, how to i send auth bearer token from service shop to service core?</p>\n</blockquote>\n"},{"tags":["java","discord","boolean","discord-jda"],"answers":[{"tags":[],"owner":{"account_id":14719989,"reputation":5877,"user_id":10630900,"display_name":"Minn"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676837936,"creation_date":1676837936,"answer_id":75503170,"question_id":75502493,"body_markdown":"To keep track of state per-guild you can use a [map datastructure](https://en.wikipedia.org/wiki/Associative_array), with the guild&#39;s ID as key.\r\n\r\n```java\r\nprivate final Map&lt;Long, Boolean&gt; map = new HashMap&lt;&gt;();\r\n```\r\n\r\nYou can then *store* the boolean using `map.put(guild.getIdLong(), false)` and later *load* using `map.get(guild.getIdLong())`. Note however, that this will not persist between program restarts, since it is only stored in memory. To persist this state, you have to use a database, such as SQLite or similar.","title":"Limit a boolean to a server (Discord JDA)","body":"<p>To keep track of state per-guild you can use a <a href=\"https://en.wikipedia.org/wiki/Associative_array\" rel=\"nofollow noreferrer\">map datastructure</a>, with the guild's ID as key.</p>\n<pre class=\"lang-java prettyprint-override\"><code>private final Map&lt;Long, Boolean&gt; map = new HashMap&lt;&gt;();\n</code></pre>\n<p>You can then <em>store</em> the boolean using <code>map.put(guild.getIdLong(), false)</code> and later <em>load</em> using <code>map.get(guild.getIdLong())</code>. Note however, that this will not persist between program restarts, since it is only stored in memory. To persist this state, you have to use a database, such as SQLite or similar.</p>\n"}],"owner":{"account_id":27063280,"reputation":21,"user_id":20615009,"display_name":"David"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676837936,"creation_date":1676831446,"question_id":75502493,"body_markdown":"How can I limit a boolean to one server?\r\n\r\nIf I use a normal boolean to create a command that can be disabled: `Boolean b = true`\r\nand make it changeable with a text command: \r\n```\r\nif (event.getMessage().getContentStripped().equalsIgnoreCase(&quot;message&quot;)) {\r\n\r\n            if (event.getMember().getPermissions().contains(Permission.ADMINISTRATOR)) {\r\n\r\n                if (b) {\r\n\r\n                    b = false;\r\n\r\n                    event.getChannel().sendMessage(&quot;Successfully disabled the command.&quot;).queue();\r\n\r\n                } else if (!b) {\r\n\r\n                    event.getChannel().sendMessage(&quot;The command is already disabled.&quot;).queue();\r\n\r\n                }\r\n```\r\nit gets disabled/enabled for all servers the bot is in. I want people to only disable it for their own server though. How can I do this?\r\n\r\nSry if it&#39;s easy. I haven&#39;t found anything on Google. I&#39;m not so experienced with coding yet. I&#39;m here to learn :)","title":"Limit a boolean to a server (Discord JDA)","body":"<p>How can I limit a boolean to one server?</p>\n<p>If I use a normal boolean to create a command that can be disabled: <code>Boolean b = true</code>\nand make it changeable with a text command:</p>\n<pre><code>if (event.getMessage().getContentStripped().equalsIgnoreCase(&quot;message&quot;)) {\n\n            if (event.getMember().getPermissions().contains(Permission.ADMINISTRATOR)) {\n\n                if (b) {\n\n                    b = false;\n\n                    event.getChannel().sendMessage(&quot;Successfully disabled the command.&quot;).queue();\n\n                } else if (!b) {\n\n                    event.getChannel().sendMessage(&quot;The command is already disabled.&quot;).queue();\n\n                }\n</code></pre>\n<p>it gets disabled/enabled for all servers the bot is in. I want people to only disable it for their own server though. How can I do this?</p>\n<p>Sry if it's easy. I haven't found anything on Google. I'm not so experienced with coding yet. I'm here to learn :)</p>\n"},{"tags":["java","concatenation"],"comments":[{"owner":{"account_id":2524320,"reputation":9225,"user_id":2193968,"display_name":"Jerry Jeremiah"},"score":0,"creation_date":1676837559,"post_id":75503096,"comment_id":133213253,"body_markdown":"Make sure you are using Java 8 and then System.out.printf will work - but it still isn&#39;t what you were hoping for.","body":"Make sure you are using Java 8 and then System.out.printf will work - but it still isn&#39;t what you were hoping for."},{"owner":{"account_id":24564,"reputation":123812,"user_id":62576,"accept_rate":100,"display_name":"Ken White"},"score":1,"creation_date":1676837638,"post_id":75503096,"comment_id":133213273,"body_markdown":"No. Java uses `+` as the concatenation operator. `printf` will let you output strings without it, but that&#39;s not concatenation (which is also true of your Python example - the second and third calls to `print` do not concatenate, but use a format string).","body":"No. Java uses <code>+</code> as the concatenation operator. <code>printf</code> will let you output strings without it, but that&#39;s not concatenation (which is also true of your Python example - the second and third calls to <code>print</code> do not concatenate, but use a format string)."},{"owner":{"account_id":2524320,"reputation":9225,"user_id":2193968,"display_name":"Jerry Jeremiah"},"score":1,"creation_date":1676837689,"post_id":75503096,"comment_id":133213288,"body_markdown":"Possible duplicate: https://stackoverflow.com/questions/5324007/java-equivalent-of-pythons-format https://stackoverflow.com/questions/33281826/java-equivalent-to-pythons-str-format","body":"Possible duplicate: <a href=\"https://stackoverflow.com/questions/5324007/java-equivalent-of-pythons-format\" title=\"java equivalent of pythons format\">stackoverflow.com/questions/5324007/&hellip;</a> <a href=\"https://stackoverflow.com/questions/33281826/java-equivalent-to-pythons-str-format\" title=\"java equivalent to pythons str format\">stackoverflow.com/questions/33281826/&hellip;</a>"},{"owner":{"account_id":2524320,"reputation":9225,"user_id":2193968,"display_name":"Jerry Jeremiah"},"score":0,"creation_date":1676837770,"post_id":75503096,"comment_id":133213302,"body_markdown":"Here is one that has a similar format to you: https://docs.oracle.com/javase/7/docs/api/java/text/MessageFormat.html  I don&#39;t see anything that allows you to specify the variables inside the format string and not have any other parameters.","body":"Here is one that has a similar format to you: <a href=\"https://docs.oracle.com/javase/7/docs/api/java/text/MessageFormat.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/7/docs/api/java/text/MessageFormat.ht&zwnj;&#8203;ml</a>  I don&#39;t see anything that allows you to specify the variables inside the format string and not have any other parameters."}],"answers":[{"tags":[],"owner":{"account_id":27393528,"reputation":353,"user_id":20896122,"display_name":"undefined symbol"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1676837631,"creation_date":1676837564,"answer_id":75503141,"question_id":75503096,"body_markdown":"Java has `System.out.printf`, which is more-or-less (not exactly) like every other printf that&#39;s out there (see [documentation](https://docs.oracle.com/javase/8/docs/api/java/io/PrintStream.html#printf-java.lang.String-java.lang.Object...-)).\r\n\r\nThe String class has `String.format` (see [documentation](https://docs.oracle.com/javase/8/docs/api/java/lang/String.html#format-java.lang.String-java.lang.Object...-)).\r\n\r\nWith respect to what your teacher tells you - literally, they are correct.  Formatting is **not** concatenation; however, to achieve a particular result, you can often choose between formatting and concatenation.\r\n","title":"Are there other ways to concatenate inofrmation when I am going to print other than +, like System.out.println(&quot;hello&quot; + etc + variable))","body":"<p>Java has <code>System.out.printf</code>, which is more-or-less (not exactly) like every other printf that's out there (see <a href=\"https://docs.oracle.com/javase/8/docs/api/java/io/PrintStream.html#printf-java.lang.String-java.lang.Object...-\" rel=\"nofollow noreferrer\">documentation</a>).</p>\n<p>The String class has <code>String.format</code> (see <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/String.html#format-java.lang.String-java.lang.Object...-\" rel=\"nofollow noreferrer\">documentation</a>).</p>\n<p>With respect to what your teacher tells you - literally, they are correct.  Formatting is <strong>not</strong> concatenation; however, to achieve a particular result, you can often choose between formatting and concatenation.</p>\n"}],"owner":{"account_id":27827295,"reputation":1,"user_id":21246459,"display_name":"Eduardo Garc&#237;a de Marina"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676837631,"creation_date":1676837063,"question_id":75503096,"body_markdown":"Before I learnt the basics in python and there are several ways to concatenate information like:\r\n\r\n    name = &quot;Eduardo&quot;\r\n    surname = &quot;Garcia&quot;\r\n    \r\n    print(&quot;Hello &quot; + name + &quot; &quot; + surname)\r\n    print(&quot;Hello {} {}&quot;.format(name, surname))\r\n\r\nI like this one\r\n\r\n    print(f&quot;Hello {name} {surname}&quot;)\r\n\r\n\r\nBut I am making a course in java and the teacher says that the only way to do it is with +\r\n\r\nBut that sounds strange to me. Are there other ways to do it like in python with .format or f.\r\n\r\nThank you.\r\n\r\n\r\n\r\n\r\n\r\nI am learning the basics in java. I just want to understand how it works.","title":"Are there other ways to concatenate inofrmation when I am going to print other than +, like System.out.println(&quot;hello&quot; + etc + variable))","body":"<p>Before I learnt the basics in python and there are several ways to concatenate information like:</p>\n<pre><code>name = &quot;Eduardo&quot;\nsurname = &quot;Garcia&quot;\n\nprint(&quot;Hello &quot; + name + &quot; &quot; + surname)\nprint(&quot;Hello {} {}&quot;.format(name, surname))\n</code></pre>\n<p>I like this one</p>\n<pre><code>print(f&quot;Hello {name} {surname}&quot;)\n</code></pre>\n<p>But I am making a course in java and the teacher says that the only way to do it is with +</p>\n<p>But that sounds strange to me. Are there other ways to do it like in python with .format or f.</p>\n<p>Thank you.</p>\n<p>I am learning the basics in java. I just want to understand how it works.</p>\n"},{"tags":["java","junit","collections","assertion"],"comments":[{"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - "},"score":0,"creation_date":1616974399,"post_id":66847080,"comment_id":118163154,"body_markdown":"Sort the collections first then compare them.","body":"Sort the collections first then compare them."},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1616974901,"post_id":66847080,"comment_id":118163235,"body_markdown":"&quot;They should be the same, even if the order is different&quot;, so, what&#39;s the adversion to `Set`?","body":"&quot;They should be the same, even if the order is different&quot;, so, what&#39;s the adversion to <code>Set</code>?"},{"owner":{"account_id":9760,"reputation":85860,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1616974911,"post_id":66847080,"comment_id":118163236,"body_markdown":"The notion of `equals()` is not defined at that level in the hierarchy, and a usable definition depends wholly on the specific collection&#39;s contract.  Your method accepts any `Collection` but you couldn&#39;t apply it to a `List&lt;&gt;` and a `Set&lt;&gt;`. Before you can answer the question you need to consider the actual implementations and their behaviors.","body":"The notion of <code>equals()</code> is not defined at that level in the hierarchy, and a usable definition depends wholly on the specific collection&#39;s contract.  Your method accepts any <code>Collection</code> but you couldn&#39;t apply it to a <code>List&lt;&gt;</code> and a <code>Set&lt;&gt;</code>. Before you can answer the question you need to consider the actual implementations and their behaviors."},{"owner":{"account_id":4563475,"reputation":27298,"user_id":3705127,"accept_rate":52,"display_name":"sprinter"},"score":1,"creation_date":1616981856,"post_id":66847080,"comment_id":118164272,"body_markdown":"You might want to consider a different assertion library that has a richer set of assertions than those built in to junit. For example in assertJ you could use `assertThat(one).containsExactlyInAnyOrder(two)`","body":"You might want to consider a different assertion library that has a richer set of assertions than those built in to junit. For example in assertJ you could use <code>assertThat(one).containsExactlyInAnyOrder(two)</code>"}],"answers":[{"comments":[{"owner":{"account_id":9760,"reputation":85860,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1616976564,"post_id":66847198,"comment_id":118163516,"body_markdown":"Two problems: First, the question is under-specified and must consider what it means to compare different types of collections for equality.  Second, your solution can produce incorrect results.   Consider an _expected_ `List{1,2,3}` and an _actual_ `List{1,2,3,4}`.  `removeAll(Collection c)` removes every element `e` of `this` where `c.contains(e)` returns `true`.  So even though the the lists are most definitely NOT equal, after `expected.removeAll(actual)`, the result is empty and you would return `true`.","body":"Two problems: First, the question is under-specified and must consider what it means to compare different types of collections for equality.  Second, your solution can produce incorrect results.   Consider an <i>expected</i> <code>List{1,2,3}</code> and an <i>actual</i> <code>List{1,2,3,4}</code>.  <code>removeAll(Collection c)</code> removes every element <code>e</code> of <code>this</code> where <code>c.contains(e)</code> returns <code>true</code>.  So even though the the lists are most definitely NOT equal, after <code>expected.removeAll(actual)</code>, the result is empty and you would return <code>true</code>."},{"owner":{"account_id":9760,"reputation":85860,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1616976668,"post_id":66847198,"comment_id":118163532,"body_markdown":"The main issue is that `a.removeAll(b)` and `b.removeAll(a)` must BOTH be tested and the collections are equal only if both result in empty lists.","body":"The main issue is that <code>a.removeAll(b)</code> and <code>b.removeAll(a)</code> must BOTH be tested and the collections are equal only if both result in empty lists."},{"owner":{"account_id":18243171,"reputation":19300,"user_id":13279831,"display_name":"Nowhere Man"},"score":0,"creation_date":1616977513,"post_id":66847198,"comment_id":118163627,"body_markdown":"`{1, 2, 3}` and `{1, 2, 3, 4}` are not equal by size; however, `removeAll` does not seem to be fit for this task and I have replaced it with iterative `remove`.","body":"<code>{1, 2, 3}</code> and <code>{1, 2, 3, 4}</code> are not equal by size; however, <code>removeAll</code> does not seem to be fit for this task and I have replaced it with iterative <code>remove</code>."}],"tags":[],"owner":{"account_id":18243171,"reputation":19300,"user_id":13279831,"display_name":"Nowhere Man"},"comment_count":3,"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1616977412,"creation_date":1616974914,"answer_id":66847198,"question_id":66847080,"body_markdown":"To check equality of two collections, the size of the two collections should be compared, next a difference may be calculated by removing elements in collection `c2` from the copy of collection `c1` and if it&#39;s empty the collections are equal:\r\n```java\r\npublic static &lt;T&gt; boolean areCollectionsEqual(Collection&lt;T&gt; c1, Collection&lt;T&gt; c2) {\r\n    if (c1 == c2) return true;\r\n    \r\n    if (c1 == null || c2 == null || c1.size() != c2.size()) {\r\n        return false;\r\n    }\r\n    \r\n    Collection&lt;T&gt; tmp = new ArrayList&lt;&gt;(c1);\r\n    for (T item : c2) {\r\n        if (!tmp.remove(item)) {\r\n            return false;\r\n        }\r\n    }\r\n    \r\n    return tmp.isEmpty();\r\n}\r\n```\r\nSuch method allows to compare different types of collections (e.g. `List` to `Set`)\r\n\r\nThen common `assertTrue` / `assertFalse` may be used in tests:\r\n```java\r\npublic static &lt;T&gt; void assertCollectionsAreEqual(Collection&lt;T&gt; expected, Collection&lt;T&gt; actual, String message) {\r\n    Assertions.assertTrue(areCollectionsEqual(expected, actual), message);    \r\n}\r\n\r\npublic static &lt;T&gt; void assertCollectionsAreNotEqual(Collection&lt;T&gt; expected, Collection&lt;T&gt; actual, String message) {\r\n    Assertions.assertFalse(areCollectionsEqual(expected, actual), message);    \r\n}\r\n```\r\n----\r\n*Update* `Collection::removeAll` may produce incorrect result in the case when the collections contain the same elements with different frequencies. e.g. `List.of (1, 2, 2, 2)` and `List.of (1, 2, 1, 2)`, so it was replaced with iterative `remove`.","title":"Junit: How to check if 2 collections are equals with elements in different order?","body":"<p>To check equality of two collections, the size of the two collections should be compared, next a difference may be calculated by removing elements in collection <code>c2</code> from the copy of collection <code>c1</code> and if it's empty the collections are equal:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static &lt;T&gt; boolean areCollectionsEqual(Collection&lt;T&gt; c1, Collection&lt;T&gt; c2) {\n    if (c1 == c2) return true;\n    \n    if (c1 == null || c2 == null || c1.size() != c2.size()) {\n        return false;\n    }\n    \n    Collection&lt;T&gt; tmp = new ArrayList&lt;&gt;(c1);\n    for (T item : c2) {\n        if (!tmp.remove(item)) {\n            return false;\n        }\n    }\n    \n    return tmp.isEmpty();\n}\n</code></pre>\n<p>Such method allows to compare different types of collections (e.g. <code>List</code> to <code>Set</code>)</p>\n<p>Then common <code>assertTrue</code> / <code>assertFalse</code> may be used in tests:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static &lt;T&gt; void assertCollectionsAreEqual(Collection&lt;T&gt; expected, Collection&lt;T&gt; actual, String message) {\n    Assertions.assertTrue(areCollectionsEqual(expected, actual), message);    \n}\n\npublic static &lt;T&gt; void assertCollectionsAreNotEqual(Collection&lt;T&gt; expected, Collection&lt;T&gt; actual, String message) {\n    Assertions.assertFalse(areCollectionsEqual(expected, actual), message);    \n}\n</code></pre>\n<hr />\n<p><em>Update</em> <code>Collection::removeAll</code> may produce incorrect result in the case when the collections contain the same elements with different frequencies. e.g. <code>List.of (1, 2, 2, 2)</code> and <code>List.of (1, 2, 1, 2)</code>, so it was replaced with iterative <code>remove</code>.</p>\n"},{"tags":[],"owner":{"account_id":21090075,"reputation":101,"user_id":15502186,"display_name":"Philippe"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1616975468,"creation_date":1616975468,"answer_id":66847250,"question_id":66847080,"body_markdown":"There&#39;s no ready-made assertion method in JUnit 5 to accomplish this. You could use Hamcrest instead:\r\n\r\n    import static org.hamcrest.MatcherAssert.assertThat;\r\n    import static org.hamcrest.Matchers.containsInAnyOrder;\r\n    \r\n    assertThat(&quot;Not Equals&quot;, one, containsInAnyOrder(two.toArray()));\r\n    assertThat(&quot;Not Equals&quot;, one, containsInAnyOrder(three.toArray()));\r\n\r\n\r\n","title":"Junit: How to check if 2 collections are equals with elements in different order?","body":"<p>There's no ready-made assertion method in JUnit 5 to accomplish this. You could use Hamcrest instead:</p>\n<pre><code>import static org.hamcrest.MatcherAssert.assertThat;\nimport static org.hamcrest.Matchers.containsInAnyOrder;\n\nassertThat(&quot;Not Equals&quot;, one, containsInAnyOrder(two.toArray()));\nassertThat(&quot;Not Equals&quot;, one, containsInAnyOrder(three.toArray()));\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":2,"creation_date":1676575874,"post_id":75474098,"comment_id":133169952,"body_markdown":"Can you please add some explanations to your code?","body":"Can you please add some explanations to your code?"}],"tags":[],"owner":{"account_id":12393513,"reputation":41,"user_id":9034478,"display_name":"J Kost"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676837154,"creation_date":1676559582,"answer_id":75474098,"question_id":66847080,"body_markdown":"To test if `one` and `two` are equal:\r\n\r\nFirst check that the two collections have the same size:\r\n\r\n    assertEquals(one.size(), two.size());\r\n\r\nThen make sure that they contain the same elements:\r\n\r\n    assertTrue(one.containsAll(two));\r\n    assertTrue(two.containsAll(one));\r\n\r\nIf these two conditions are met, `one` and `two` should contain the same elements (given that the order doesn&#39;t matter here).\r\n\r\nE.g. let \r\n\r\n    Set&lt;Integer&gt; one = Set.of(1, 2, 3);\r\n    Set&lt;Integer&gt; two = Set.of(2, 1, 4);\r\n\r\nThe condition of equality passes, but \r\n\r\n    assertTrue(one.containsAll(two)); \r\n\r\nwill fail. ","title":"Junit: How to check if 2 collections are equals with elements in different order?","body":"<p>To test if <code>one</code> and <code>two</code> are equal:</p>\n<p>First check that the two collections have the same size:</p>\n<pre><code>assertEquals(one.size(), two.size());\n</code></pre>\n<p>Then make sure that they contain the same elements:</p>\n<pre><code>assertTrue(one.containsAll(two));\nassertTrue(two.containsAll(one));\n</code></pre>\n<p>If these two conditions are met, <code>one</code> and <code>two</code> should contain the same elements (given that the order doesn't matter here).</p>\n<p>E.g. let</p>\n<pre><code>Set&lt;Integer&gt; one = Set.of(1, 2, 3);\nSet&lt;Integer&gt; two = Set.of(2, 1, 4);\n</code></pre>\n<p>The condition of equality passes, but</p>\n<pre><code>assertTrue(one.containsAll(two)); \n</code></pre>\n<p>will fail.</p>\n"}],"owner":{"display_name":"user15412162"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1246,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":66847198,"answer_count":3,"score":1,"last_activity_date":1676837154,"creation_date":1616973704,"question_id":66847080,"body_markdown":"I am trying to check if two collections are the same using Assertions. They are supposed to be the same, even if their elements are in different order.\r\n\r\nHere is my method for checking equality:\r\n```\r\n public static &lt;T&gt; void assertCollectionsAreEquals (Collection&lt;T&gt; expected, Collection&lt;T&gt; actual, String message) {\r\n        Assertions.assertEquals(expected, actual, message);    \r\n        }\r\n```\r\nExample collections:\r\n```\r\n        Collection &lt;Integer&gt; one = new ArrayList&lt;Integer&gt;();\r\n        Collection &lt;Integer&gt; two = new ArrayList&lt;Integer&gt;();\r\n        Collection &lt;Integer&gt; three = new ArrayList&lt;Integer&gt;();\r\n\r\n        one.add(1);\r\n        one.add(2);\r\n        two.add(1);\r\n        two.add(2);\r\n        three.add(2);\r\n        three.add(1);\r\n\r\n```\r\nSo my collections look like this:\r\n```\r\nOne:[1, 2]\r\nTwo:[1, 2]\r\nThree:[2, 1]\r\n```\r\n\r\nTest:\r\n```\r\nassertCollectionsAreEquals(one, two, &quot;Not Equals&quot;);\r\nassertCollectionsAreEquals(one, three, &quot;Not Equals&quot;);\r\n```\r\nOutput:\r\n```\r\nException in thread &quot;main&quot; org.opentest4j.AssertionFailedError: Not Equals ==&gt; expected: &lt;[1, 2]&gt; but was: &lt;[2, 1]&gt;\r\n```\r\nHow do I make my tests succeed for all of my test collections?","title":"Junit: How to check if 2 collections are equals with elements in different order?","body":"<p>I am trying to check if two collections are the same using Assertions. They are supposed to be the same, even if their elements are in different order.</p>\n<p>Here is my method for checking equality:</p>\n<pre><code> public static &lt;T&gt; void assertCollectionsAreEquals (Collection&lt;T&gt; expected, Collection&lt;T&gt; actual, String message) {\n        Assertions.assertEquals(expected, actual, message);    \n        }\n</code></pre>\n<p>Example collections:</p>\n<pre><code>        Collection &lt;Integer&gt; one = new ArrayList&lt;Integer&gt;();\n        Collection &lt;Integer&gt; two = new ArrayList&lt;Integer&gt;();\n        Collection &lt;Integer&gt; three = new ArrayList&lt;Integer&gt;();\n\n        one.add(1);\n        one.add(2);\n        two.add(1);\n        two.add(2);\n        three.add(2);\n        three.add(1);\n\n</code></pre>\n<p>So my collections look like this:</p>\n<pre><code>One:[1, 2]\nTwo:[1, 2]\nThree:[2, 1]\n</code></pre>\n<p>Test:</p>\n<pre><code>assertCollectionsAreEquals(one, two, &quot;Not Equals&quot;);\nassertCollectionsAreEquals(one, three, &quot;Not Equals&quot;);\n</code></pre>\n<p>Output:</p>\n<pre><code>Exception in thread &quot;main&quot; org.opentest4j.AssertionFailedError: Not Equals ==&gt; expected: &lt;[1, 2]&gt; but was: &lt;[2, 1]&gt;\n</code></pre>\n<p>How do I make my tests succeed for all of my test collections?</p>\n"},{"tags":["java","api","rest"],"answers":[{"tags":[],"owner":{"account_id":1626038,"reputation":4046,"user_id":1501582,"accept_rate":54,"display_name":"Stefano Maglione"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676836991,"creation_date":1676836991,"answer_id":75503088,"question_id":75503003,"body_markdown":"Since you are going to retrieve information the GET is the most appropriate. POST instead should be used to &#39;insert&#39; fresh new datas. I would suggest to take a look at the meaning of all HTTP verbs (POST,GET,PUT,PATCH,DELETE) in order to understand them.","title":"How to return project details (name and other metadata) using rest api?","body":"<p>Since you are going to retrieve information the GET is the most appropriate. POST instead should be used to 'insert' fresh new datas. I would suggest to take a look at the meaning of all HTTP verbs (POST,GET,PUT,PATCH,DELETE) in order to understand them.</p>\n"}],"owner":{"account_id":12965362,"reputation":1,"user_id":9373098,"display_name":"Rk12"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676836991,"creation_date":1676836033,"question_id":75503003,"body_markdown":"Im fairly new to REST API and working on a product where client X interacts with n number of servers (Y1, Y2,Yn) to retrieve different type of data from backend, using POST requests.\r\n\r\nNow I also want to retrieve some metadata related to each server (file names, project name etc.) for our internal use-case in client X. Note: This should be a separate request.\r\n\r\nHow should I implement this using Rest?\r\nCan I use OPTIONS method for this?\r\n\r\nI tried implementing this with GET method but not sure if its best approach.","title":"How to return project details (name and other metadata) using rest api?","body":"<p>Im fairly new to REST API and working on a product where client X interacts with n number of servers (Y1, Y2,Yn) to retrieve different type of data from backend, using POST requests.</p>\n<p>Now I also want to retrieve some metadata related to each server (file names, project name etc.) for our internal use-case in client X. Note: This should be a separate request.</p>\n<p>How should I implement this using Rest?\nCan I use OPTIONS method for this?</p>\n<p>I tried implementing this with GET method but not sure if its best approach.</p>\n"},{"tags":["java","scala","runtime"],"comments":[{"owner":{"account_id":17602657,"reputation":189,"user_id":12772281,"display_name":"Marian"},"score":0,"creation_date":1624619997,"post_id":934191,"comment_id":120414561,"body_markdown":"you can use the where command under windows. cmd /c where appExec. Then on the returned trimmed string you can do: if(shellResult!=null &amp;&amp; shellResult.endsWith(&#39;git-bash.exe&#39;)) ..... bla bla","body":"you can use the where command under windows. cmd /c where appExec. Then on the returned trimmed string you can do: if(shellResult!=null &amp;&amp; shellResult.endsWith(&#39;git-bash.exe&#39;)) ..... bla bla"}],"answers":[{"comments":[{"owner":{"account_id":25419,"reputation":30532,"user_id":65326,"accept_rate":92,"display_name":"Apreche"},"score":3,"creation_date":1243874378,"post_id":934205,"comment_id":743726,"body_markdown":"I think it would be better to do &quot;which svn&quot; instead of &quot;svn help&quot;. It will still give the proper return code as to whether or not svn exists in the path, but on a success you will also get the full-path to the svn executable.","body":"I think it would be better to do &quot;which svn&quot; instead of &quot;svn help&quot;. It will still give the proper return code as to whether or not svn exists in the path, but on a success you will also get the full-path to the svn executable."},{"owner":{"account_id":142616,"reputation":34842,"user_id":350428,"accept_rate":59,"display_name":"Axel Fontaine"},"score":1,"creation_date":1455015852,"post_id":934205,"comment_id":58290452,"body_markdown":"&quot;where&quot; is the Windows equivalent of &quot;which&quot;","body":"&quot;where&quot; is the Windows equivalent of &quot;which&quot;"},{"owner":{"account_id":1326398,"reputation":2009,"user_id":1271116,"accept_rate":57,"display_name":"Giorgio"},"score":3,"creation_date":1475856145,"post_id":934205,"comment_id":67126572,"body_markdown":"You have to invoke Process#waitFor() before trying to get the exit value. See http://stackoverflow.com/questions/25979336/handling-the-illegalthreadstateexception","body":"You have to invoke Process#waitFor() before trying to get the exit value. See <a href=\"http://stackoverflow.com/questions/25979336/handling-the-illegalthreadstateexception\" title=\"handling the illegalthreadstateexception\">stackoverflow.com/questions/25979336/&hellip;</a>"}],"tags":[],"owner":{"account_id":39121,"reputation":6418,"user_id":112744,"accept_rate":86,"display_name":"Filipe Miguel Fonseca"},"comment_count":3,"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1243850769,"creation_date":1243850441,"answer_id":934205,"question_id":934191,"body_markdown":"I&#39;m no scala programmer, but what I would do in any language, is to execute something like &#39;`svn help`&#39; just to check the return code (0 or 1) of the exec method... if it fails the svn is not in the path :P\r\n\r\n    Runtime rt = Runtime.getRuntime();\r\n    Process proc = rt.exec(&quot;svn help&quot;);\r\n    int exitVal = proc.exitValue();\r\n\r\nBy convention, the value 0 indicates normal termination.","title":"How to check existence of a program in the path","body":"<p>I'm no scala programmer, but what I would do in any language, is to execute something like '<code>svn help</code>' just to check the return code (0 or 1) of the exec method... if it fails the svn is not in the path :P</p>\n\n<pre><code>Runtime rt = Runtime.getRuntime();\nProcess proc = rt.exec(\"svn help\");\nint exitVal = proc.exitValue();\n</code></pre>\n\n<p>By convention, the value 0 indicates normal termination.</p>\n"},{"tags":[],"owner":{"account_id":39855,"reputation":4272,"user_id":115167,"accept_rate":60,"display_name":"Huxi"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1676836761,"creation_date":1243866423,"answer_id":935062,"question_id":934191,"body_markdown":"Concerning the original question I&#39;d also check for existence as FMF suggested.\r\n\r\nI&#39;d also like to point out that you&#39;ll have to handle at least the output of the process, reading available data so the streams won&#39;t be filled to the brim. This would cause the process to block, otherwise.\r\n\r\nTo do this, retrieve the InputStreams of the process using proc.getInputStream() (for System.out) and proc.getErrorStream() (for System.err) and read available data in different threads.\r\n\r\nI just tell you because this is a common pitfall and svn will potentially create quite a bit of output.\r\n","title":"How to check existence of a program in the path","body":"<p>Concerning the original question I'd also check for existence as FMF suggested.</p>\n<p>I'd also like to point out that you'll have to handle at least the output of the process, reading available data so the streams won't be filled to the brim. This would cause the process to block, otherwise.</p>\n<p>To do this, retrieve the InputStreams of the process using proc.getInputStream() (for System.out) and proc.getErrorStream() (for System.err) and read available data in different threads.</p>\n<p>I just tell you because this is a common pitfall and svn will potentially create quite a bit of output.</p>\n"},{"tags":[],"owner":{"account_id":13704,"reputation":567,"user_id":27685,"display_name":"Jason Catena"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1243873572,"creation_date":1243873572,"answer_id":935574,"question_id":934191,"body_markdown":"If you have cygwin installed you could first call &quot;which svn&quot;, which will return the absolute path to svn if it&#39;s in the executable path, or else &quot;which: no svn in (...)&quot;.  The call to &quot;which&quot; will return an exitValue of 1 if not found, or 0 if it is found.  You can check this error code in the manner FMF details.\r\n","title":"How to check existence of a program in the path","body":"<p>If you have cygwin installed you could first call \"which svn\", which will return the absolute path to svn if it's in the executable path, or else \"which: no svn in (...)\".  The call to \"which\" will return an exitValue of 1 if not found, or 0 if it is found.  You can check this error code in the manner FMF details.</p>\n"},{"comments":[{"owner":{"account_id":6656807,"reputation":625,"user_id":5137075,"accept_rate":79,"display_name":"skrilmps"},"score":0,"creation_date":1508200015,"post_id":23539220,"comment_id":80507690,"body_markdown":"When I try this and run it inside my IDE (I&#39;m using Eclipse), it cannot find a file that has had its path added to my environment PATH variable.  However, when I create a runnable JRE from it and run that from my terminal, it works.  So I suspect my PATH from inside my IDE is not the same as my PATH when I open a terminal.  How can I get around this?  I&#39;d rather not make a runnable Jar every time I want to test the code.  Thanks!","body":"When I try this and run it inside my IDE (I&#39;m using Eclipse), it cannot find a file that has had its path added to my environment PATH variable.  However, when I create a runnable JRE from it and run that from my terminal, it works.  So I suspect my PATH from inside my IDE is not the same as my PATH when I open a terminal.  How can I get around this?  I&#39;d rather not make a runnable Jar every time I want to test the code.  Thanks!"},{"owner":{"account_id":6656807,"reputation":625,"user_id":5137075,"accept_rate":79,"display_name":"skrilmps"},"score":0,"creation_date":1508200798,"post_id":23539220,"comment_id":80507859,"body_markdown":"I&#39;m also not getting this to work on Windows.  If I set `exec = java` I get a false result.  But if I run `where java` from cmd I get a hit.","body":"I&#39;m also not getting this to work on Windows.  If I set <code>exec = java</code> I get a false result.  But if I run <code>where java</code> from cmd I get a hit."},{"owner":{"account_id":219684,"reputation":37267,"user_id":476716,"accept_rate":77,"display_name":"OrangeDog"},"score":0,"creation_date":1642425384,"post_id":23539220,"comment_id":125059955,"body_markdown":"As you&#39;re already using streams: `.flatMap(path -&gt; Stream.of(EXTENSIONS).map(ext -&gt; path.resolve(exe + ext)))`","body":"As you&#39;re already using streams: <code>.flatMap(path -&gt; Stream.of(EXTENSIONS).map(ext -&gt; path.resolve(exe + ext)))</code>"}],"tags":[],"owner":{"account_id":2049682,"reputation":7411,"user_id":1828937,"accept_rate":56,"display_name":"Dmitry Ginzburg"},"comment_count":3,"down_vote_count":0,"up_vote_count":31,"is_accepted":true,"score":31,"last_activity_date":1616460477,"creation_date":1399545054,"answer_id":23539220,"question_id":934191,"body_markdown":"Here&#39;s a Java 8 solution:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    String exec = &lt;executable name&gt;;\r\n    boolean existsInPath = Stream.of(System.getenv(&quot;PATH&quot;).split(Pattern.quote(File.pathSeparator)))\r\n            .map(Paths::get)\r\n            .anyMatch(path -&gt; Files.exists(path.resolve(exec)));\r\n\r\nReplace `anyMatch(...)` with `filter(...).findFirst()` to get a fully qualified path.\r\n\r\n---\r\n\r\nHere&#39;s a cross-platform static method that compares common executable extensions:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    import java.io.File;\r\n    import java.nio.file.Paths;\r\n    import java.util.stream.Stream;\r\n    \r\n    import static java.io.File.pathSeparator;\r\n    import static java.nio.file.Files.isExecutable;\r\n    import static java.lang.System.getenv;\r\n    import static java.util.regex.Pattern.quote;\r\n\r\n    public static boolean canExecute( final String exe ) {\r\n      final var paths = getenv( &quot;PATH&quot; ).split( quote( pathSeparator ) );\r\n      return Stream.of( paths ).map( Paths::get ).anyMatch(\r\n        path -&gt; {\r\n          final var p = path.resolve( exe );\r\n          var found = false;\r\n    \r\n          for( final var extension : EXTENSIONS ) {\r\n            if( isExecutable( Path.of( p.toString() + extension ) ) ) {\r\n              found = true;\r\n              break;\r\n            }\r\n          }\r\n    \r\n          return found;\r\n        }\r\n      );\r\n    }\r\n\r\nThis should address most of the critiques for the first solution. Aside, iterating over the [`PATHEXT`][1] system environment variable would avoid hard-coding extensions, but comes with its own drawbacks.\r\n\r\n\r\n  [1]: https://superuser.com/a/228693/9067\r\n\r\n","title":"How to check existence of a program in the path","body":"<p>Here's a Java 8 solution:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String exec = &lt;executable name&gt;;\nboolean existsInPath = Stream.of(System.getenv(&quot;PATH&quot;).split(Pattern.quote(File.pathSeparator)))\n        .map(Paths::get)\n        .anyMatch(path -&gt; Files.exists(path.resolve(exec)));\n</code></pre>\n<p>Replace <code>anyMatch(...)</code> with <code>filter(...).findFirst()</code> to get a fully qualified path.</p>\n<hr />\n<p>Here's a cross-platform static method that compares common executable extensions:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.File;\nimport java.nio.file.Paths;\nimport java.util.stream.Stream;\n\nimport static java.io.File.pathSeparator;\nimport static java.nio.file.Files.isExecutable;\nimport static java.lang.System.getenv;\nimport static java.util.regex.Pattern.quote;\n\npublic static boolean canExecute( final String exe ) {\n  final var paths = getenv( &quot;PATH&quot; ).split( quote( pathSeparator ) );\n  return Stream.of( paths ).map( Paths::get ).anyMatch(\n    path -&gt; {\n      final var p = path.resolve( exe );\n      var found = false;\n\n      for( final var extension : EXTENSIONS ) {\n        if( isExecutable( Path.of( p.toString() + extension ) ) ) {\n          found = true;\n          break;\n        }\n      }\n\n      return found;\n    }\n  );\n}\n</code></pre>\n<p>This should address most of the critiques for the first solution. Aside, iterating over the <a href=\"https://superuser.com/a/228693/9067\"><code>PATHEXT</code></a> system environment variable would avoid hard-coding extensions, but comes with its own drawbacks.</p>\n"},{"comments":[{"owner":{"account_id":8097,"reputation":6544,"user_id":14379,"display_name":"seanf"},"score":0,"creation_date":1484868713,"post_id":27936286,"comment_id":70699725,"body_markdown":"Thanks @gouessej. Looks like it&#39;s not part of a release yet: https://github.com/SeleniumHQ/selenium/blob/selenium-3.0.1/java/client/src/org/openqa/selenium/os/ExecutableFinder.java#L35","body":"Thanks @gouessej. Looks like it&#39;s not part of a release yet: <a href=\"https://github.com/SeleniumHQ/selenium/blob/selenium-3.0.1/java/client/src/org/openqa/selenium/os/ExecutableFinder.java#L35\" rel=\"nofollow noreferrer\">github.com/SeleniumHQ/selenium/blob/selenium-3.0.1/java/clie&zwnj;&#8203;nt/&hellip;</a>"}],"tags":[],"owner":{"account_id":8097,"reputation":6544,"user_id":14379,"display_name":"seanf"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1508415061,"creation_date":1421212736,"answer_id":27936286,"question_id":934191,"body_markdown":"Selenium has what looks to be a reasonably complete implementation for Windows/Linux/Mac in the class [`org.openqa.selenium.os.ExecutableFinder`][1], with `public` access since Selenium 3.1 (previously only accessible via the deprecated method `org.openqa.selenium.os.CommandLine#find`).  It is ASL 2.0 though.\r\n\r\nNote that `ExecutableFinder` doesn&#39;t understand [`PATHEXT`][2] on Windows - it just has a hard-coded set of executable file extensions (.exe, .com, .bat).\r\n\r\n\r\n  [1]: https://github.com/SeleniumHQ/selenium/blob/selenium-3.6.0/java/client/src/org/openqa/selenium/os/ExecutableFinder.java#L31\r\n  [2]: https://stackoverflow.com/a/7839178/14379","title":"How to check existence of a program in the path","body":"<p>Selenium has what looks to be a reasonably complete implementation for Windows/Linux/Mac in the class <a href=\"https://github.com/SeleniumHQ/selenium/blob/selenium-3.6.0/java/client/src/org/openqa/selenium/os/ExecutableFinder.java#L31\" rel=\"nofollow noreferrer\"><code>org.openqa.selenium.os.ExecutableFinder</code></a>, with <code>public</code> access since Selenium 3.1 (previously only accessible via the deprecated method <code>org.openqa.selenium.os.CommandLine#find</code>).  It is ASL 2.0 though.</p>\n\n<p>Note that <code>ExecutableFinder</code> doesn't understand <a href=\"https://stackoverflow.com/a/7839178/14379\"><code>PATHEXT</code></a> on Windows - it just has a hard-coded set of executable file extensions (.exe, .com, .bat).</p>\n"},{"comments":[{"owner":{"account_id":4646767,"reputation":17781,"user_id":3764804,"accept_rate":59,"display_name":"BullyWiiPlaza"},"score":0,"creation_date":1512053181,"post_id":38073998,"comment_id":82109110,"body_markdown":"This actually has terrible performance. Calling external processes should be avoided as much as possible.","body":"This actually has terrible performance. Calling external processes should be avoided as much as possible."},{"owner":{"account_id":8566752,"reputation":53339,"user_id":6419007,"accept_rate":67,"display_name":"Eric Duminil"},"score":1,"creation_date":1512053441,"post_id":38073998,"comment_id":82109288,"body_markdown":"@BullyWiiPlaza: Well, achieving good performance wasn&#39;t my goal either. If you have any idea how it could be faster while still working in Windows/Linux/MacOS, feel free to suggest anything. BTW, the result could be cached. Finally, the goal is to call an external process. Any `svn` call will probably be much slower than `where` or `which` call.","body":"@BullyWiiPlaza: Well, achieving good performance wasn&#39;t my goal either. If you have any idea how it could be faster while still working in Windows/Linux/MacOS, feel free to suggest anything. BTW, the result could be cached. Finally, the goal is to call an external process. Any <code>svn</code> call will probably be much slower than <code>where</code> or <code>which</code> call."},{"owner":{"account_id":4646767,"reputation":17781,"user_id":3764804,"accept_rate":59,"display_name":"BullyWiiPlaza"},"score":0,"creation_date":1512054724,"post_id":38073998,"comment_id":82110176,"body_markdown":"Yes, the answer above by `Dmitry Ginzburg` is really good. `where` has a relatively big overhead (can be more than 100 - 200ms) and if you call it multiple times it gets out of hands. I just realized this in my code as to why it was noticeably slower.","body":"Yes, the answer above by <code>Dmitry Ginzburg</code> is really good. <code>where</code> has a relatively big overhead (can be more than 100 - 200ms) and if you call it multiple times it gets out of hands. I just realized this in my code as to why it was noticeably slower."},{"owner":{"account_id":8566752,"reputation":53339,"user_id":6419007,"accept_rate":67,"display_name":"Eric Duminil"},"score":0,"creation_date":1512056412,"post_id":38073998,"comment_id":82111335,"body_markdown":"@BullyWiiPlaza: Dmitry&#39;s answer is more concise indeed, and it looks faster. I&#39;d argue that it&#39;s less robust though. If it works fine for you, great!","body":"@BullyWiiPlaza: Dmitry&#39;s answer is more concise indeed, and it looks faster. I&#39;d argue that it&#39;s less robust though. If it works fine for you, great!"}],"tags":[],"owner":{"account_id":8566752,"reputation":53339,"user_id":6419007,"accept_rate":67,"display_name":"Eric Duminil"},"comment_count":4,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1504989845,"creation_date":1467110585,"answer_id":38073998,"question_id":934191,"body_markdown":"this code uses &quot;where&quot; command on Windows, and &quot;which&quot; command on other systems, to check if the system knows about the desired program in PATH. If found, the function returns a java.nio.file.Path to the program, and null otherwise.\r\n \r\nI tested it with Java 8 on Windows 7 and Linux Mint 17.3.\r\n\r\n    import java.io.BufferedReader;\r\n    import java.io.IOException;\r\n    import java.io.InputStreamReader;\r\n    import java.nio.file.Path;\r\n    import java.nio.file.Paths;\r\n    import java.util.logging.Logger;\r\n    \r\n    \r\n    public class SimulationUtils\r\n    {\r\n    \tprivate final static Logger LOGGER = Logger.getLogger(SimulationUtils.class.getName());\r\n    \r\n    \tpublic static Path lookForProgramInPath(String desiredProgram) {\r\n    \t\tProcessBuilder pb = new ProcessBuilder(isWindows() ? &quot;where&quot; : &quot;which&quot;, desiredProgram);\r\n    \t\tPath foundProgram = null;\r\n    \t\ttry {\r\n    \t\t\tProcess proc = pb.start();\r\n    \t\t\tint errCode = proc.waitFor();\r\n    \t\t\tif (errCode == 0) {\r\n    \t\t\t\ttry (BufferedReader reader = new BufferedReader(new InputStreamReader(proc.getInputStream()))) {\r\n    \t\t\t\t\tfoundProgram = Paths.get(reader.readLine());\r\n    \t\t\t\t}\r\n    \t\t\t\tLOGGER.info(desiredProgram + &quot; has been found at : &quot; + foundProgram);\r\n    \t\t\t} else {\r\n    \t\t\t\tLOGGER.warning(desiredProgram + &quot; not in PATH&quot;);\r\n    \t\t\t}\r\n    \t\t} catch (IOException | InterruptedException ex) {\r\n    \t\t\tLOGGER.warning(&quot;Something went wrong while searching for &quot; + desiredProgram);\r\n    \t\t}\r\n    \t\treturn foundProgram;\r\n    \t}\r\n    \r\n    \tprivate static boolean isWindows() {\r\n    \t\treturn System.getProperty(&quot;os.name&quot;).toLowerCase().contains(&quot;windows&quot;);\r\n    \t}\r\n    }\r\n\r\nTo use it :\r\n\r\n\t\tSystem.out.println(SimulationUtils.lookForProgramInPath(&quot;notepad&quot;));\r\n\r\nOn my Windows 7 system, it displays : \r\n\r\n&gt; C:\\Windows\\System32\\notepad.exe\r\n\r\nAnd on linux :\r\n\r\n\t\tSystem.out.println(SimulationUtils.lookForProgramInPath(&quot;psql&quot;));\r\n\r\n&gt; /usr/bin/psql\r\n\r\nThe advantage of this method is that it should work on any platform and there&#39;s no need to parse the PATH environment variable or look at the registry. The desired program is never called, even if found. Finally, there&#39;s no need to know the program extension. gnuplot.exe under Windows and gnuplot under Linux would both be found by the same code :\r\n\r\n\t\tSimulationUtils.lookForProgramInPath(&quot;gnuplot&quot;)\r\n\r\nSuggestions for improvement are welcome!","title":"How to check existence of a program in the path","body":"<p>this code uses \"where\" command on Windows, and \"which\" command on other systems, to check if the system knows about the desired program in PATH. If found, the function returns a java.nio.file.Path to the program, and null otherwise.</p>\n\n<p>I tested it with Java 8 on Windows 7 and Linux Mint 17.3.</p>\n\n<pre><code>import java.io.BufferedReader;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\nimport java.nio.file.Path;\nimport java.nio.file.Paths;\nimport java.util.logging.Logger;\n\n\npublic class SimulationUtils\n{\n    private final static Logger LOGGER = Logger.getLogger(SimulationUtils.class.getName());\n\n    public static Path lookForProgramInPath(String desiredProgram) {\n        ProcessBuilder pb = new ProcessBuilder(isWindows() ? \"where\" : \"which\", desiredProgram);\n        Path foundProgram = null;\n        try {\n            Process proc = pb.start();\n            int errCode = proc.waitFor();\n            if (errCode == 0) {\n                try (BufferedReader reader = new BufferedReader(new InputStreamReader(proc.getInputStream()))) {\n                    foundProgram = Paths.get(reader.readLine());\n                }\n                LOGGER.info(desiredProgram + \" has been found at : \" + foundProgram);\n            } else {\n                LOGGER.warning(desiredProgram + \" not in PATH\");\n            }\n        } catch (IOException | InterruptedException ex) {\n            LOGGER.warning(\"Something went wrong while searching for \" + desiredProgram);\n        }\n        return foundProgram;\n    }\n\n    private static boolean isWindows() {\n        return System.getProperty(\"os.name\").toLowerCase().contains(\"windows\");\n    }\n}\n</code></pre>\n\n<p>To use it :</p>\n\n<pre><code>    System.out.println(SimulationUtils.lookForProgramInPath(\"notepad\"));\n</code></pre>\n\n<p>On my Windows 7 system, it displays : </p>\n\n<blockquote>\n  <p>C:\\Windows\\System32\\notepad.exe</p>\n</blockquote>\n\n<p>And on linux :</p>\n\n<pre><code>    System.out.println(SimulationUtils.lookForProgramInPath(\"psql\"));\n</code></pre>\n\n<blockquote>\n  <p>/usr/bin/psql</p>\n</blockquote>\n\n<p>The advantage of this method is that it should work on any platform and there's no need to parse the PATH environment variable or look at the registry. The desired program is never called, even if found. Finally, there's no need to know the program extension. gnuplot.exe under Windows and gnuplot under Linux would both be found by the same code :</p>\n\n<pre><code>    SimulationUtils.lookForProgramInPath(\"gnuplot\")\n</code></pre>\n\n<p>Suggestions for improvement are welcome!</p>\n"},{"tags":[],"owner":{"account_id":405484,"reputation":34324,"user_id":774398,"accept_rate":83,"display_name":"Patrick"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1478042137,"creation_date":1478042137,"answer_id":40370068,"question_id":934191,"body_markdown":"In my experience it is impossible to tell over the various systems through just calling a the command with the `ProcessBuilder` if it exits or not (neither `Exceptions` nor return values seem consistent)\r\n\r\nSo here is a Java7 solution that traverses the `PATH` environment variable and looks for a matching tool. Will check all files if directory. The `matchesExecutable` must be the name of the tool ignoring extension and case.\r\n\r\n    public static File checkAndGetFromPATHEnvVar(final String matchesExecutable) {\r\n        String[] pathParts = System.getenv(&quot;PATH&quot;).split(File.pathSeparator);\r\n        for (String pathPart : pathParts) {\r\n            File pathFile = new File(pathPart);\r\n\r\n            if (pathFile.isFile() &amp;&amp; pathFile.getName().toLowerCase().contains(matchesExecutable)) {\r\n                return pathFile;\r\n            } else if (pathFile.isDirectory()) {\r\n                File[] matchedFiles = pathFile.listFiles(new FileFilter() {\r\n                    @Override\r\n                    public boolean accept(File pathname) {\r\n                        return FileUtil.getFileNameWithoutExtension(pathname).toLowerCase().equals(matchesExecutable);\r\n                    }\r\n                });\r\n\r\n                if (matchedFiles != null) {\r\n                    for (File matchedFile : matchedFiles) {\r\n                        if (FileUtil.canRunCmd(new String[]{matchedFile.getAbsolutePath()})) {\r\n                            return matchedFile;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        return null;\r\n    }\r\n\r\nHere are the helper:\r\n\r\n    public static String getFileNameWithoutExtension(File file) {\r\n            String fileName = file.getName();\r\n            int pos = fileName.lastIndexOf(&quot;.&quot;);\r\n            if (pos &gt; 0) {\r\n                fileName = fileName.substring(0, pos);\r\n            }\r\n            return fileName;\r\n    }\r\n\r\n    public static boolean canRunCmd(String[] cmd) {\r\n            try {\r\n                ProcessBuilder pb = new ProcessBuilder(cmd);\r\n                pb.redirectErrorStream(true);\r\n                Process process = pb.start();\r\n                try (BufferedReader inStreamReader = new BufferedReader(new InputStreamReader(process.getInputStream()))) {\r\n                    while ((inStreamReader.readLine()) != null) {\r\n                    }\r\n                }\r\n                process.waitFor();\r\n            } catch (Exception e) {\r\n                return false;\r\n            }\r\n            return true;\r\n    }","title":"How to check existence of a program in the path","body":"<p>In my experience it is impossible to tell over the various systems through just calling a the command with the <code>ProcessBuilder</code> if it exits or not (neither <code>Exceptions</code> nor return values seem consistent)</p>\n\n<p>So here is a Java7 solution that traverses the <code>PATH</code> environment variable and looks for a matching tool. Will check all files if directory. The <code>matchesExecutable</code> must be the name of the tool ignoring extension and case.</p>\n\n<pre><code>public static File checkAndGetFromPATHEnvVar(final String matchesExecutable) {\n    String[] pathParts = System.getenv(\"PATH\").split(File.pathSeparator);\n    for (String pathPart : pathParts) {\n        File pathFile = new File(pathPart);\n\n        if (pathFile.isFile() &amp;&amp; pathFile.getName().toLowerCase().contains(matchesExecutable)) {\n            return pathFile;\n        } else if (pathFile.isDirectory()) {\n            File[] matchedFiles = pathFile.listFiles(new FileFilter() {\n                @Override\n                public boolean accept(File pathname) {\n                    return FileUtil.getFileNameWithoutExtension(pathname).toLowerCase().equals(matchesExecutable);\n                }\n            });\n\n            if (matchedFiles != null) {\n                for (File matchedFile : matchedFiles) {\n                    if (FileUtil.canRunCmd(new String[]{matchedFile.getAbsolutePath()})) {\n                        return matchedFile;\n                    }\n                }\n            }\n        }\n    }\n    return null;\n}\n</code></pre>\n\n<p>Here are the helper:</p>\n\n<pre><code>public static String getFileNameWithoutExtension(File file) {\n        String fileName = file.getName();\n        int pos = fileName.lastIndexOf(\".\");\n        if (pos &gt; 0) {\n            fileName = fileName.substring(0, pos);\n        }\n        return fileName;\n}\n\npublic static boolean canRunCmd(String[] cmd) {\n        try {\n            ProcessBuilder pb = new ProcessBuilder(cmd);\n            pb.redirectErrorStream(true);\n            Process process = pb.start();\n            try (BufferedReader inStreamReader = new BufferedReader(new InputStreamReader(process.getInputStream()))) {\n                while ((inStreamReader.readLine()) != null) {\n                }\n            }\n            process.waitFor();\n        } catch (Exception e) {\n            return false;\n        }\n        return true;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4646767,"reputation":17781,"user_id":3764804,"accept_rate":59,"display_name":"BullyWiiPlaza"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1569679710,"creation_date":1569679710,"answer_id":58147112,"question_id":934191,"body_markdown":"This is similar to [`Dmitry Ginzburg`][1]&#39;s answer but it also addresses the rare case of someone having an invalid path in the `PATH` environment variable. This would cause an `InvalidPathException`.\r\n\r\n    private static final String ENVIRONMENT_VARIABLES_TEXT = System.getenv(&quot;PATH&quot;);\r\n    \r\n    private static boolean isCommandAvailable(String executableFileName)\r\n    {\r\n    \tString[] environmentVariables = ENVIRONMENT_VARIABLES_TEXT.split(File.pathSeparator);\r\n    \tfor (String environmentVariable : environmentVariables)\r\n    \t{\r\n    \t\ttry\r\n    \t\t{\r\n    \t\t\tPath environmentVariablePath = Paths.get(environmentVariable);\r\n    \t\t\tif (Files.exists(environmentVariablePath))\r\n    \t\t\t{\r\n    \t\t\t\tPath resolvedEnvironmentVariableFilePath = environmentVariablePath.resolve(executableFileName);\r\n    \t\t\t\tif (Files.isExecutable(resolvedEnvironmentVariableFilePath))\r\n    \t\t\t\t{\r\n    \t\t\t\t\treturn true;\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t} catch (InvalidPathException exception)\r\n    \t\t{\r\n    \t\t\texception.printStackTrace();\r\n    \t\t}\r\n    \t}\r\n    \r\n    \treturn false;\r\n    }\r\n\r\nOverall this might now be the most efficient and robust solution.\r\n\r\n  [1]: https://stackoverflow.com/a/23539220/3764804","title":"How to check existence of a program in the path","body":"<p>This is similar to <a href=\"https://stackoverflow.com/a/23539220/3764804\"><code>Dmitry Ginzburg</code></a>'s answer but it also addresses the rare case of someone having an invalid path in the <code>PATH</code> environment variable. This would cause an <code>InvalidPathException</code>.</p>\n\n<pre><code>private static final String ENVIRONMENT_VARIABLES_TEXT = System.getenv(\"PATH\");\n\nprivate static boolean isCommandAvailable(String executableFileName)\n{\n    String[] environmentVariables = ENVIRONMENT_VARIABLES_TEXT.split(File.pathSeparator);\n    for (String environmentVariable : environmentVariables)\n    {\n        try\n        {\n            Path environmentVariablePath = Paths.get(environmentVariable);\n            if (Files.exists(environmentVariablePath))\n            {\n                Path resolvedEnvironmentVariableFilePath = environmentVariablePath.resolve(executableFileName);\n                if (Files.isExecutable(resolvedEnvironmentVariableFilePath))\n                {\n                    return true;\n                }\n            }\n        } catch (InvalidPathException exception)\n        {\n            exception.printStackTrace();\n        }\n    }\n\n    return false;\n}\n</code></pre>\n\n<p>Overall this might now be the most efficient and robust solution.</p>\n"},{"tags":[],"owner":{"account_id":17602657,"reputation":189,"user_id":12772281,"display_name":"Marian"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1624620146,"creation_date":1624620146,"answer_id":68130169,"question_id":934191,"body_markdown":"you can use the where command under windows. Let&#39;s suppose you check if the git-bash.exe app is on the windows path. You must run the shell command: cmd /c where git-bash. Then on the returned trimmed string you can do: if(shellResult!=null &amp;&amp; shellResult.endsWith(&#39;git-bash.exe&#39;)) ..... do yout things","title":"How to check existence of a program in the path","body":"<p>you can use the where command under windows. Let's suppose you check if the git-bash.exe app is on the windows path. You must run the shell command: cmd /c where git-bash. Then on the returned trimmed string you can do: if(shellResult!=null &amp;&amp; shellResult.endsWith('git-bash.exe')) ..... do yout things</p>\n"},{"comments":[{"owner":{"account_id":128453,"reputation":787,"user_id":326294,"display_name":"Alain BECKER"},"score":0,"creation_date":1653510458,"post_id":72328092,"comment_id":127873356,"body_markdown":"The &quot;accepted answer&quot; seems to have changed after your posting. Avoid using this phrasing, as it tends to make thing illegible afterwards. As of today, @Dimitry&#39;s answer is the accepted one, and doesn&#39;t look like executing the target program (which indeed wasn&#39;t wanted).","body":"The &quot;accepted answer&quot; seems to have changed after your posting. Avoid using this phrasing, as it tends to make thing illegible afterwards. As of today, @Dimitry&#39;s answer is the accepted one, and doesn&#39;t look like executing the target program (which indeed wasn&#39;t wanted)."}],"tags":[],"owner":{"account_id":4183692,"reputation":170,"user_id":3655454,"display_name":"feldentm"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653123530,"creation_date":1653123530,"answer_id":72328092,"question_id":934191,"body_markdown":"Beware: The accepted answer executes the target program. So, if you would use &quot;shutdown&quot;, for instance, your system may shutdown just because you wanted to know if it exists.\r\n\r\nI added my solution that does an exact match. It does not check if the file is executable. It is case-sensitive. If this does not meet your needs, feel free to adapt it accordingly.\r\n\r\n    public static File findInPATH(String executable) {\r\n      String[] PATH = System.getenv(&quot;PATH&quot;).split(File.pathSeparator);\r\n      for (var p : PATH) {\r\n         File entry = new File(p);\r\n         if (!entry.exists())\r\n            continue;\r\n\r\n         if (entry.isFile() &amp;&amp; entry.getName().equals(executable)) {\r\n            return entry;\r\n         } else if (entry.isDirectory()) {\r\n            for (var f : entry.listFiles())\r\n               if (f.getName().equals(executable))\r\n                  return f;\r\n         }\r\n      }\r\n      return null;\r\n   }","title":"How to check existence of a program in the path","body":"<p>Beware: The accepted answer executes the target program. So, if you would use &quot;shutdown&quot;, for instance, your system may shutdown just because you wanted to know if it exists.</p>\n<p>I added my solution that does an exact match. It does not check if the file is executable. It is case-sensitive. If this does not meet your needs, feel free to adapt it accordingly.</p>\n<pre><code>public static File findInPATH(String executable) {\n  String[] PATH = System.getenv(&quot;PATH&quot;).split(File.pathSeparator);\n  for (var p : PATH) {\n     File entry = new File(p);\n     if (!entry.exists())\n        continue;\n\n     if (entry.isFile() &amp;&amp; entry.getName().equals(executable)) {\n        return entry;\n     } else if (entry.isDirectory()) {\n        for (var f : entry.listFiles())\n           if (f.getName().equals(executable))\n              return f;\n     }\n  }\n  return null;\n</code></pre>\n<p>}</p>\n"}],"owner":{"account_id":1186,"reputation":15238,"user_id":1578,"accept_rate":100,"display_name":"Steve Gury"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8797,"favorite_count":0,"down_vote_count":0,"up_vote_count":19,"accepted_answer_id":23539220,"answer_count":10,"score":19,"last_activity_date":1676836761,"creation_date":1243849957,"question_id":934191,"body_markdown":"I&#39;m writing a program in scala which call:\r\n\r\n    Runtime.getRuntime().exec( &quot;svn ...&quot; )\r\n\r\nI want to check if &quot;svn&quot; is available from the commandline (ie. it is reachable in the PATH).\r\nHow can I do this ?\r\n\r\nPS: My program is designed to be run on windows","title":"How to check existence of a program in the path","body":"<p>I'm writing a program in scala which call:</p>\n\n<pre><code>Runtime.getRuntime().exec( \"svn ...\" )\n</code></pre>\n\n<p>I want to check if \"svn\" is available from the commandline (ie. it is reachable in the PATH).\nHow can I do this ?</p>\n\n<p>PS: My program is designed to be run on windows</p>\n"},{"tags":["java","spring-boot","spring-data-jpa","java-stream","modelmapper"],"answers":[{"tags":[],"owner":{"account_id":3212090,"reputation":743,"user_id":2711867,"accept_rate":56,"display_name":"scatolone"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1676835312,"creation_date":1676835312,"answer_id":75502925,"question_id":75502655,"body_markdown":"If you don&#39;t want all the transactions, but just the one associated to an account, I think u just have to substitute the left join with an inner join.\r\n\r\n    @Query(value = &quot;SELECT c.id AS id, c.name AS name, c.surname as surname, a.balance AS balance, &quot; +\r\n            &quot;t.id AS transactionId, t.description AS description, t.date AS date &quot; +\r\n            &quot;FROM Customer c &quot; +\r\n            &quot;LEFT JOIN Account a ON a.customer.id = c.id &quot; +\r\n            &quot;JOIN Transaction t ON a.id = t.account.id &quot; +\r\n            &quot;ORDER BY c.id&quot;)\r\n    List&lt;CustomerDetailsResponse&gt; findAllWithDetails();","title":"Cannot map joined table data using Projection, etc. in Spring Data JPA","body":"<p>If you don't want all the transactions, but just the one associated to an account, I think u just have to substitute the left join with an inner join.</p>\n<pre><code>@Query(value = &quot;SELECT c.id AS id, c.name AS name, c.surname as surname, a.balance AS balance, &quot; +\n        &quot;t.id AS transactionId, t.description AS description, t.date AS date &quot; +\n        &quot;FROM Customer c &quot; +\n        &quot;LEFT JOIN Account a ON a.customer.id = c.id &quot; +\n        &quot;JOIN Transaction t ON a.id = t.account.id &quot; +\n        &quot;ORDER BY c.id&quot;)\nList&lt;CustomerDetailsResponse&gt; findAllWithDetails();\n</code></pre>\n"}],"owner":{"display_name":"user21099360"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":186,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75502925,"answer_count":1,"score":0,"last_activity_date":1676836686,"creation_date":1676832928,"question_id":75502655,"body_markdown":"I am trying to retrieve `name`, `surname`, sum of `balance` (by grouping by customer) and `transaction` list by using a single database call by using Spring Data JPA @Query and Projection as shown below:\r\n\r\nHere is the related entities; `Customer` has many `Accounts`, and `Account` has many `Transactions` (relations are defined properly using Hibernate).\r\n\r\n```\r\npublic class Customer {\r\n\r\n    private Long id;\r\n\r\n    private String name;\r\n\r\n    private String surname;\r\n}\r\n```\r\n\r\n&lt;br/&gt;\r\n\r\n```\r\npublic class Account {\r\n\r\n    private Long id;\r\n\r\n    private BigDecimal balance;\r\n}\r\n```\r\n\r\n\r\n&lt;br/&gt;\r\n\r\n```\r\npublic class Transaction {\r\n\r\n    private Long id;\r\n\r\n    private Long accountId;\r\n\r\n    private LocalDateTime date;\r\n}\r\n```\r\n\r\nI tried to map the Customer entity that has also Account and Transaction data to a DTO, but I could not map properly. \r\n\r\nThen I tried to use the following query and then map the result to a projection, but the problem is that, it return records for each transaction.\r\n\r\n```\r\n@Query(value = &quot;SELECT c.id AS id, c.name AS name, c.surname as surname, a.balance AS balance, &quot; +\r\n        &quot;t.id AS transactionId, t.description AS description, t.date AS date &quot; +\r\n        &quot;FROM Customer c &quot; +\r\n        &quot;LEFT JOIN Account a ON a.customer.id = c.id &quot; +\r\n        &quot;LEFT JOIN Transaction t ON a.id = t.account.id &quot; +\r\n        &quot;ORDER BY c.id&quot;)\r\nList&lt;CustomerDetailsResponse&gt; findAllWithDetails();\r\n```\r\n\r\nHere is the returned result:\r\n\r\n```\r\n|id |name       |surname    |balance    |t_id   |date                   |\r\n|---|-----------|-----------|-----------|-------|------------------------\r\n|1  |Thorsten   |Canto      |100        |1      |2023-02-19 20:47:18.212|\r\n|1  |Thorsten   |Canto      |200        |2      |2023-02-19 20:47:21.425|\r\n|1  |Thorsten   |Canto      |300        |3      |2023-02-19 20:47:23.296|\r\n|2  |Tailor     |Bingham    |300        |4      |2023-02-19 20:47:25.350|\r\n|2  |Tailor     |Bingham    |500        |5      |2023-02-19 20:47:38.589|\r\n|2  |Tailor     |Bingham    |600        |6      |2023-02-19 20:47:40.916|\r\n|3  |Benson     |Wilkowski  |600        |7      |2023-02-19 20:47:42.675|\r\n|3  |Benson     |Wilkowski  |800        |8      |2023-02-19 20:47:44.635|\r\n|3  |Benson     |Wilkowski  |900        |9      |2023-02-19 20:47:47.436|\r\n|3  |Benson     |Wilkowski  |1000       |10     |2023-02-19 20:47:51.328|\r\n|4  |Pryce      |Gorriessen |           |       |                       |\r\n|5  |Melita     |Griffoen   |           |       |                       |\r\n```\r\n\r\nSo, how can I achieve this by using `Projection` or `ModelMapper` or `Java Stream`? ","title":"Cannot map joined table data using Projection, etc. in Spring Data JPA","body":"<p>I am trying to retrieve <code>name</code>, <code>surname</code>, sum of <code>balance</code> (by grouping by customer) and <code>transaction</code> list by using a single database call by using Spring Data JPA @Query and Projection as shown below:</p>\n<p>Here is the related entities; <code>Customer</code> has many <code>Accounts</code>, and <code>Account</code> has many <code>Transactions</code> (relations are defined properly using Hibernate).</p>\n<pre><code>public class Customer {\n\n    private Long id;\n\n    private String name;\n\n    private String surname;\n}\n</code></pre>\n<br/>\n<pre><code>public class Account {\n\n    private Long id;\n\n    private BigDecimal balance;\n}\n</code></pre>\n<br/>\n<pre><code>public class Transaction {\n\n    private Long id;\n\n    private Long accountId;\n\n    private LocalDateTime date;\n}\n</code></pre>\n<p>I tried to map the Customer entity that has also Account and Transaction data to a DTO, but I could not map properly.</p>\n<p>Then I tried to use the following query and then map the result to a projection, but the problem is that, it return records for each transaction.</p>\n<pre><code>@Query(value = &quot;SELECT c.id AS id, c.name AS name, c.surname as surname, a.balance AS balance, &quot; +\n        &quot;t.id AS transactionId, t.description AS description, t.date AS date &quot; +\n        &quot;FROM Customer c &quot; +\n        &quot;LEFT JOIN Account a ON a.customer.id = c.id &quot; +\n        &quot;LEFT JOIN Transaction t ON a.id = t.account.id &quot; +\n        &quot;ORDER BY c.id&quot;)\nList&lt;CustomerDetailsResponse&gt; findAllWithDetails();\n</code></pre>\n<p>Here is the returned result:</p>\n<pre><code>|id |name       |surname    |balance    |t_id   |date                   |\n|---|-----------|-----------|-----------|-------|------------------------\n|1  |Thorsten   |Canto      |100        |1      |2023-02-19 20:47:18.212|\n|1  |Thorsten   |Canto      |200        |2      |2023-02-19 20:47:21.425|\n|1  |Thorsten   |Canto      |300        |3      |2023-02-19 20:47:23.296|\n|2  |Tailor     |Bingham    |300        |4      |2023-02-19 20:47:25.350|\n|2  |Tailor     |Bingham    |500        |5      |2023-02-19 20:47:38.589|\n|2  |Tailor     |Bingham    |600        |6      |2023-02-19 20:47:40.916|\n|3  |Benson     |Wilkowski  |600        |7      |2023-02-19 20:47:42.675|\n|3  |Benson     |Wilkowski  |800        |8      |2023-02-19 20:47:44.635|\n|3  |Benson     |Wilkowski  |900        |9      |2023-02-19 20:47:47.436|\n|3  |Benson     |Wilkowski  |1000       |10     |2023-02-19 20:47:51.328|\n|4  |Pryce      |Gorriessen |           |       |                       |\n|5  |Melita     |Griffoen   |           |       |                       |\n</code></pre>\n<p>So, how can I achieve this by using <code>Projection</code> or <code>ModelMapper</code> or <code>Java Stream</code>?</p>\n"},{"tags":["java","ssl","java-11"],"comments":[{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":0,"creation_date":1676804992,"post_id":75499462,"comment_id":133207681,"body_markdown":"Whats in you pom?","body":"Whats in you pom?"}],"answers":[{"comments":[{"owner":{"account_id":14997822,"reputation":23,"user_id":10826564,"display_name":"Shawn"},"score":0,"creation_date":1676806348,"post_id":75499759,"comment_id":133207857,"body_markdown":"I tried using AES and It didn&#39;t work. I stated that in the original post","body":"I tried using AES and It didn&#39;t work. I stated that in the original post"},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":0,"creation_date":1676812782,"post_id":75499759,"comment_id":133208756,"body_markdown":"@Shawn if you want &quot;AES/CBC/PKCS5PADDING&quot; as the cipher then you must still specify that for the `Cipher` - otherwise you get some provider-specific default values. But &quot;AES/CBC/PKCS5PADDING&quot; is a cipher specification and you cannot use that to create a key. I&#39;ve updated my answer accordingly.","body":"@Shawn if you want &quot;AES/CBC/PKCS5PADDING&quot; as the cipher then you must still specify that for the <code>Cipher</code> - otherwise you get some provider-specific default values. But &quot;AES/CBC/PKCS5PADDING&quot; is a cipher specification and you cannot use that to create a key. I&#39;ve updated my answer accordingly."},{"owner":{"account_id":401843,"reputation":89873,"user_id":768644,"display_name":"rzwitserloot"},"score":1,"creation_date":1676814672,"post_id":75499759,"comment_id":133209015,"body_markdown":"@Shawn you can&#39;t pass the same string to both `KeyGenerator.getInstance` and `Cipher`. They are different strings. `AES` for one, `AES/CBC/PKCS5PADDING` to the other.","body":"@Shawn you can&#39;t pass the same string to both <code>KeyGenerator.getInstance</code> and <code>Cipher</code>. They are different strings. <code>AES</code> for one, <code>AES&#47;CBC&#47;PKCS5PADDING</code> to the other."}],"tags":[],"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1676813309,"creation_date":1676805623,"answer_id":75499759,"question_id":75499462,"body_markdown":"&quot;AES/CBC/PKCS5PADDING&quot; is a [`Cipher`](https://docs.oracle.com/en/java/javase/18/docs/api/java.base/javax/crypto/Cipher.html) specification consisting of\r\n\r\n* an algorithm name (AES - [Cipher Algorithm Names]( https://docs.oracle.com/en/java/javase/18/docs/specs/security/standard-names.html#cipher-algorithm-names))\r\n* an algorithm mode (CBC - [Cipher Algorithm Modes](https://docs.oracle.com/en/java/javase/18/docs/specs/security/standard-names.html#cipher-algorithm-modes))\r\n* an algorithm padding (PKCS5PADDING - [Cipher Algorithm Paddings](https://docs.oracle.com/en/java/javase/18/docs/specs/security/standard-names.html#cipher-algorithm-paddings))\r\n\r\n---\r\n\r\nFor the [`KeyGenerator`](https://docs.oracle.com/en/java/javase/18/docs/api/java.base/javax/crypto/KeyGenerator.html) only the algorithm itself is relevant ([KeyGenerator Algorithms](https://docs.oracle.com/en/java/javase/18/docs/specs/security/standard-names.html#keygenerator-algorithms)) and you **must** only specify the algorithm when calling `KeyGenerator.getInstance()`.\r\n\r\n`KeyGenerator.getInstance(&quot;AES&quot;)` will work for the `KeyGenerator`.\r\n\r\n**Note**: For the `Cipher` you **still must use** &quot;AES/CBC/PKCS5PADDING&quot;! Otherwise you will get a provider-specific [`Cipher`](https://docs.oracle.com/en/java/javase/18/docs/api/java.base/javax/crypto/Cipher.html):\r\n\r\n&gt; A transformation is of the form:\r\n&gt; \r\n&gt; * &quot;algorithm/mode/padding&quot; or\r\n&gt; * &quot;algorithm&quot;\r\n&gt; \r\n&gt; (in the latter case, provider-specific default values for the mode and padding scheme are used).","title":"KeyGenerator not available - Java issue","body":"<p>&quot;AES/CBC/PKCS5PADDING&quot; is a <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.base/javax/crypto/Cipher.html\" rel=\"nofollow noreferrer\"><code>Cipher</code></a> specification consisting of</p>\n<ul>\n<li>an algorithm name (AES - <a href=\"https://docs.oracle.com/en/java/javase/18/docs/specs/security/standard-names.html#cipher-algorithm-names\" rel=\"nofollow noreferrer\">Cipher Algorithm Names</a>)</li>\n<li>an algorithm mode (CBC - <a href=\"https://docs.oracle.com/en/java/javase/18/docs/specs/security/standard-names.html#cipher-algorithm-modes\" rel=\"nofollow noreferrer\">Cipher Algorithm Modes</a>)</li>\n<li>an algorithm padding (PKCS5PADDING - <a href=\"https://docs.oracle.com/en/java/javase/18/docs/specs/security/standard-names.html#cipher-algorithm-paddings\" rel=\"nofollow noreferrer\">Cipher Algorithm Paddings</a>)</li>\n</ul>\n<hr />\n<p>For the <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.base/javax/crypto/KeyGenerator.html\" rel=\"nofollow noreferrer\"><code>KeyGenerator</code></a> only the algorithm itself is relevant (<a href=\"https://docs.oracle.com/en/java/javase/18/docs/specs/security/standard-names.html#keygenerator-algorithms\" rel=\"nofollow noreferrer\">KeyGenerator Algorithms</a>) and you <strong>must</strong> only specify the algorithm when calling <code>KeyGenerator.getInstance()</code>.</p>\n<p><code>KeyGenerator.getInstance(&quot;AES&quot;)</code> will work for the <code>KeyGenerator</code>.</p>\n<p><strong>Note</strong>: For the <code>Cipher</code> you <strong>still must use</strong> &quot;AES/CBC/PKCS5PADDING&quot;! Otherwise you will get a provider-specific <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.base/javax/crypto/Cipher.html\" rel=\"nofollow noreferrer\"><code>Cipher</code></a>:</p>\n<blockquote>\n<p>A transformation is of the form:</p>\n<ul>\n<li>&quot;algorithm/mode/padding&quot; or</li>\n<li>&quot;algorithm&quot;</li>\n</ul>\n<p>(in the latter case, provider-specific default values for the mode and padding scheme are used).</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676836143,"creation_date":1676835833,"answer_id":75502975,"question_id":75499462,"body_markdown":"You cannot use the same value for the KeyGenerator algorithm and the Cipher algorithm.\r\n\r\nThese are the legal values of [KeyGenerator algorithm][1]. Your value of `AES/CBC/PKCS5PADDING` is not among them as Thomas&#39;s answer correctly indicates.\r\n\r\n    AES\r\n    ARCFOUR\r\n    Blowfish\r\n    DES\r\n    DESede\r\n    HmacMD5\r\n    HmacSHA1 HmacSHA256 HmacSHA384 HmacSHA512\r\n    RC2\r\n\r\nThe following are the [Cipher algorithms][2] that must be supported by Java implementations. Your value of `AES/CBC/PKCS5PADDING` will work here (if your code gets far enough.\r\n\r\n    AES/CBC/NoPadding (128)\r\n    AES/CBC/PKCS5Padding (128)\r\n    AES/ECB/NoPadding (128)\r\n    AES/ECB/PKCS5Padding (128)\r\n    DES/CBC/NoPadding (56)\r\n    DES/CBC/PKCS5Padding (56)\r\n    DES/ECB/NoPadding (56)\r\n    DES/ECB/PKCS5Padding (56)\r\n    DESede/CBC/NoPadding (168)\r\n    DESede/CBC/PKCS5Padding (168)\r\n    DESede/ECB/NoPadding (168)\r\n    DESede/ECB/PKCS5Padding (168)\r\n    RSA/ECB/PKCS1Padding (1024, 2048)\r\n    RSA/ECB/OAEPWithSHA-1AndMGF1Padding (1024, 2048)\r\n    RSA/ECB/OAEPWithSHA-256AndMGF1Padding (1024, 2048)\r\n\r\nThe following is code that &#39;works&#39;. Your code has other issues.\r\n\r\n\r\n    @SpringBootApplication\r\n    public class SslServerApplication {\r\n        private static final String KEYGENERATOR_ALGORITHM = &quot;AES&quot;;\r\n        private static final String CIPHER_ALGORITHM = &quot;AES/CBC/PKCS5PADDING&quot;;\r\n        private static final int KEY_SIZE = 192;\r\n    \r\n        public static void main(String[] args) throws Exception {\r\n            SecretKey key = generateKey();\r\n            String message = &quot;Hello, Professor Conlan!&quot;;\r\n    \r\n            byte[] encrypted = encrypt(message, key);\r\n            byte[] hash = hash(encrypted);\r\n    \r\n            System.out.println(&quot;Hash: &quot; + bytesToHex(hash));\r\n    \r\n            boolean verified = verifyChecksum(hash, encrypted, key);\r\n            System.out.println(&quot;Checksum verified: &quot; + verified);\r\n            \r\n            String decrypted =  new String(decrypt(encrypted, key));\r\n            System.out.println(&quot;Decrypted messaged: &quot; + decrypted);\r\n           \r\n            \r\n        }\r\n        //generates secret key\r\n        private static SecretKey generateKey() throws NoSuchAlgorithmException {\r\n            KeyGenerator keyGenerator = KeyGenerator.getInstance(KEYGENERATOR_ALGORITHM);\r\n            keyGenerator.init(KEY_SIZE);\r\n            return keyGenerator.generateKey();\r\n        }\r\n        //encrypts secret key key\r\n        static byte[] encrypt(String message, SecretKey key) throws Exception {\r\n            Cipher cipher = Cipher.getInstance(CIPHER_ALGORITHM);\r\n            byte[] iv = new byte[cipher.getBlockSize()];\r\n            SecureRandom random = new SecureRandom();\r\n            random.nextBytes(iv);\r\n            cipher.init(Cipher.ENCRYPT_MODE, key, new IvParameterSpec(iv));\r\n            return cipher.doFinal(message.getBytes(StandardCharsets.UTF_8));\r\n        }\r\n    \r\n        static byte[] hash(byte[] message) throws Exception {\r\n            MessageDigest md = MessageDigest.getInstance(&quot;SHA-256&quot;);\r\n            return md.digest(message);\r\n        }\r\n    \r\n        private static boolean verifyChecksum(byte[] checksum, byte[] message, SecretKey key) throws Exception {\r\n            byte[] hash = hash(decrypt(message, key));\r\n            return MessageDigest.isEqual(hash, checksum);\r\n        }\r\n        //decrypts the encrypted secret key\r\n        static byte[] decrypt(byte[] message, SecretKey key) throws Exception {\r\n            Cipher cipher = Cipher.getInstance(CIPHER_ALGORITHM);\r\n            byte[] iv = Arrays.copyOfRange(message, 0, cipher.getBlockSize());\r\n            cipher.init(Cipher.DECRYPT_MODE, key, new IvParameterSpec(iv));\r\n            return cipher.doFinal(Arrays.copyOfRange(message, cipher.getBlockSize(), message.length));\r\n        }\r\n    \r\n        static String bytesToHex(byte[] bytes) {\r\n            StringBuilder result = new StringBuilder();\r\n            for (byte b : bytes) {\r\n                result.append(String.format(&quot;%02x&quot;, b));\r\n            }\r\n            return result.toString();\r\n        }\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/technotes/guides/security/StandardNames.html#KeyGenerator\r\n  [2]: https://docs.oracle.com/javase/7/docs/api/javax/crypto/Cipher.html\r\n\r\n\r\n","title":"KeyGenerator not available - Java issue","body":"<p>You cannot use the same value for the KeyGenerator algorithm and the Cipher algorithm.</p>\n<p>These are the legal values of <a href=\"https://docs.oracle.com/javase/7/docs/technotes/guides/security/StandardNames.html#KeyGenerator\" rel=\"nofollow noreferrer\">KeyGenerator algorithm</a>. Your value of <code>AES/CBC/PKCS5PADDING</code> is not among them as Thomas's answer correctly indicates.</p>\n<pre><code>AES\nARCFOUR\nBlowfish\nDES\nDESede\nHmacMD5\nHmacSHA1 HmacSHA256 HmacSHA384 HmacSHA512\nRC2\n</code></pre>\n<p>The following are the <a href=\"https://docs.oracle.com/javase/7/docs/api/javax/crypto/Cipher.html\" rel=\"nofollow noreferrer\">Cipher algorithms</a> that must be supported by Java implementations. Your value of <code>AES/CBC/PKCS5PADDING</code> will work here (if your code gets far enough.</p>\n<pre><code>AES/CBC/NoPadding (128)\nAES/CBC/PKCS5Padding (128)\nAES/ECB/NoPadding (128)\nAES/ECB/PKCS5Padding (128)\nDES/CBC/NoPadding (56)\nDES/CBC/PKCS5Padding (56)\nDES/ECB/NoPadding (56)\nDES/ECB/PKCS5Padding (56)\nDESede/CBC/NoPadding (168)\nDESede/CBC/PKCS5Padding (168)\nDESede/ECB/NoPadding (168)\nDESede/ECB/PKCS5Padding (168)\nRSA/ECB/PKCS1Padding (1024, 2048)\nRSA/ECB/OAEPWithSHA-1AndMGF1Padding (1024, 2048)\nRSA/ECB/OAEPWithSHA-256AndMGF1Padding (1024, 2048)\n</code></pre>\n<p>The following is code that 'works'. Your code has other issues.</p>\n<pre><code>@SpringBootApplication\npublic class SslServerApplication {\n    private static final String KEYGENERATOR_ALGORITHM = &quot;AES&quot;;\n    private static final String CIPHER_ALGORITHM = &quot;AES/CBC/PKCS5PADDING&quot;;\n    private static final int KEY_SIZE = 192;\n\n    public static void main(String[] args) throws Exception {\n        SecretKey key = generateKey();\n        String message = &quot;Hello, Professor Conlan!&quot;;\n\n        byte[] encrypted = encrypt(message, key);\n        byte[] hash = hash(encrypted);\n\n        System.out.println(&quot;Hash: &quot; + bytesToHex(hash));\n\n        boolean verified = verifyChecksum(hash, encrypted, key);\n        System.out.println(&quot;Checksum verified: &quot; + verified);\n        \n        String decrypted =  new String(decrypt(encrypted, key));\n        System.out.println(&quot;Decrypted messaged: &quot; + decrypted);\n       \n        \n    }\n    //generates secret key\n    private static SecretKey generateKey() throws NoSuchAlgorithmException {\n        KeyGenerator keyGenerator = KeyGenerator.getInstance(KEYGENERATOR_ALGORITHM);\n        keyGenerator.init(KEY_SIZE);\n        return keyGenerator.generateKey();\n    }\n    //encrypts secret key key\n    static byte[] encrypt(String message, SecretKey key) throws Exception {\n        Cipher cipher = Cipher.getInstance(CIPHER_ALGORITHM);\n        byte[] iv = new byte[cipher.getBlockSize()];\n        SecureRandom random = new SecureRandom();\n        random.nextBytes(iv);\n        cipher.init(Cipher.ENCRYPT_MODE, key, new IvParameterSpec(iv));\n        return cipher.doFinal(message.getBytes(StandardCharsets.UTF_8));\n    }\n\n    static byte[] hash(byte[] message) throws Exception {\n        MessageDigest md = MessageDigest.getInstance(&quot;SHA-256&quot;);\n        return md.digest(message);\n    }\n\n    private static boolean verifyChecksum(byte[] checksum, byte[] message, SecretKey key) throws Exception {\n        byte[] hash = hash(decrypt(message, key));\n        return MessageDigest.isEqual(hash, checksum);\n    }\n    //decrypts the encrypted secret key\n    static byte[] decrypt(byte[] message, SecretKey key) throws Exception {\n        Cipher cipher = Cipher.getInstance(CIPHER_ALGORITHM);\n        byte[] iv = Arrays.copyOfRange(message, 0, cipher.getBlockSize());\n        cipher.init(Cipher.DECRYPT_MODE, key, new IvParameterSpec(iv));\n        return cipher.doFinal(Arrays.copyOfRange(message, cipher.getBlockSize(), message.length));\n    }\n\n    static String bytesToHex(byte[] bytes) {\n        StringBuilder result = new StringBuilder();\n        for (byte b : bytes) {\n            result.append(String.format(&quot;%02x&quot;, b));\n        }\n        return result.toString();\n    }\n</code></pre>\n"}],"owner":{"account_id":14997822,"reputation":23,"user_id":10826564,"display_name":"Shawn"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":297,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1676836143,"creation_date":1676802546,"question_id":75499462,"body_markdown":"So I am doing a small project and getting extremely frusterated. Ive tried inputting different algorithms for the KeyGenerator and different key sizes but with no luck. Could someone please help me out? \r\nIf I put simply &quot;AES&quot; - I get ECB Mode can not use IV\r\nand if I put &quot;AES/CBC/PKCS5PADDING&quot; - I get KeyGenerator not available\r\n\r\n```\r\n@SpringBootApplication\r\npublic class SslServerApplication {\r\n\r\n\tprivate static final String ALGORITHM = &quot;AES/CBC/PKCS5PADDING&quot;;\r\n\tprivate static final int KEY_SIZE = 192;\r\n\r\n\tpublic static void main(String[] args) throws Exception {\r\n\t    SecretKey key = generateKey();\r\n\t    String message = &quot;Hello, Professor Conlan!&quot;;\r\n\r\n\t    byte[] encrypted = encrypt(message, key);\r\n\t    byte[] hash = hash(encrypted);\r\n\r\n\t    System.out.println(&quot;Hash: &quot; + bytesToHex(hash));\r\n\r\n\t    boolean verified = verifyChecksum(hash, encrypted, key);\r\n\t    System.out.println(&quot;Checksum verified: &quot; + verified);\r\n\t}\r\n\t//generates secret key\r\n\tprivate static SecretKey generateKey() throws NoSuchAlgorithmException {\r\n\t    KeyGenerator keyGenerator = KeyGenerator.getInstance(ALGORITHM);\r\n\t    keyGenerator.init(KEY_SIZE);\r\n\t    return keyGenerator.generateKey();\r\n\t}\r\n\t//encrypts secret key key\r\n\tstatic byte[] encrypt(String message, SecretKey key) throws Exception {\r\n\t    Cipher cipher = Cipher.getInstance(ALGORITHM);\r\n\t    byte[] iv = new byte[cipher.getBlockSize()];\r\n\t    SecureRandom random = new SecureRandom();\r\n\t    random.nextBytes(iv);\r\n\t    cipher.init(Cipher.ENCRYPT_MODE, key, new IvParameterSpec(iv));\r\n\t    return cipher.doFinal(message.getBytes(StandardCharsets.UTF_8));\r\n\t}\r\n\r\n\tstatic byte[] hash(byte[] message) throws Exception {\r\n\t    MessageDigest md = MessageDigest.getInstance(&quot;SHA-256&quot;);\r\n\t    return md.digest(message);\r\n\t}\r\n\r\n\tprivate static boolean verifyChecksum(byte[] checksum, byte[] message, SecretKey key) throws Exception {\r\n\t    byte[] hash = hash(decrypt(message, key));\r\n\t    return MessageDigest.isEqual(hash, checksum);\r\n\t}\r\n\t//decrypts the encrypted secret key\r\n\tstatic byte[] decrypt(byte[] message, SecretKey key) throws Exception {\r\n\t    Cipher cipher = Cipher.getInstance(ALGORITHM);\r\n\t    byte[] iv = Arrays.copyOfRange(message, 0, cipher.getBlockSize());\r\n\t    cipher.init(Cipher.DECRYPT_MODE, key, new IvParameterSpec(iv));\r\n\t    return cipher.doFinal(Arrays.copyOfRange(message, cipher.getBlockSize(), message.length));\r\n\t}\r\n\r\n\tstatic String bytesToHex(byte[] bytes) {\r\n\t    StringBuilder result = new StringBuilder();\r\n\t    for (byte b : bytes) {\r\n\t        result.append(String.format(&quot;%02x&quot;, b));\r\n\t    }\r\n\t    return result.toString();\r\n\t}\r\n}\r\n```\r\n\r\nEDIT: This is my POM file\r\n\r\n``` \r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.2.4.RELEASE&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.snhu&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;ssl-server&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;ssl-server&lt;/name&gt;\r\n\t&lt;description&gt;ssl-server skeleton for CS-305&lt;/description&gt;\r\n\t\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-rest&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t\t&lt;exclusions&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;/exclusions&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n            \t&lt;groupId&gt;org.owasp&lt;/groupId&gt;\r\n            \t&lt;artifactId&gt;dependency-check-maven&lt;/artifactId&gt;\r\n            \t&lt;version&gt;5.3.0&lt;/version&gt;\r\n            \t&lt;configuration&gt;\r\n            \t &lt;outputDirectory default-value=&quot;C:\\Users\\Shawn\\Documents\\M7 Folder&quot;/&gt;\r\n            \t&lt;/configuration&gt;\r\n            \t\r\n            \t&lt;executions&gt;\r\n                  &lt;execution&gt;\r\n                      &lt;goals&gt;\r\n                          &lt;goal&gt;check&lt;/goal&gt;\r\n                      &lt;/goals&gt;\r\n                  &lt;/execution&gt;\r\n              &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```","title":"KeyGenerator not available - Java issue","body":"<p>So I am doing a small project and getting extremely frusterated. Ive tried inputting different algorithms for the KeyGenerator and different key sizes but with no luck. Could someone please help me out?\nIf I put simply &quot;AES&quot; - I get ECB Mode can not use IV\nand if I put &quot;AES/CBC/PKCS5PADDING&quot; - I get KeyGenerator not available</p>\n<pre><code>@SpringBootApplication\npublic class SslServerApplication {\n\n    private static final String ALGORITHM = &quot;AES/CBC/PKCS5PADDING&quot;;\n    private static final int KEY_SIZE = 192;\n\n    public static void main(String[] args) throws Exception {\n        SecretKey key = generateKey();\n        String message = &quot;Hello, Professor Conlan!&quot;;\n\n        byte[] encrypted = encrypt(message, key);\n        byte[] hash = hash(encrypted);\n\n        System.out.println(&quot;Hash: &quot; + bytesToHex(hash));\n\n        boolean verified = verifyChecksum(hash, encrypted, key);\n        System.out.println(&quot;Checksum verified: &quot; + verified);\n    }\n    //generates secret key\n    private static SecretKey generateKey() throws NoSuchAlgorithmException {\n        KeyGenerator keyGenerator = KeyGenerator.getInstance(ALGORITHM);\n        keyGenerator.init(KEY_SIZE);\n        return keyGenerator.generateKey();\n    }\n    //encrypts secret key key\n    static byte[] encrypt(String message, SecretKey key) throws Exception {\n        Cipher cipher = Cipher.getInstance(ALGORITHM);\n        byte[] iv = new byte[cipher.getBlockSize()];\n        SecureRandom random = new SecureRandom();\n        random.nextBytes(iv);\n        cipher.init(Cipher.ENCRYPT_MODE, key, new IvParameterSpec(iv));\n        return cipher.doFinal(message.getBytes(StandardCharsets.UTF_8));\n    }\n\n    static byte[] hash(byte[] message) throws Exception {\n        MessageDigest md = MessageDigest.getInstance(&quot;SHA-256&quot;);\n        return md.digest(message);\n    }\n\n    private static boolean verifyChecksum(byte[] checksum, byte[] message, SecretKey key) throws Exception {\n        byte[] hash = hash(decrypt(message, key));\n        return MessageDigest.isEqual(hash, checksum);\n    }\n    //decrypts the encrypted secret key\n    static byte[] decrypt(byte[] message, SecretKey key) throws Exception {\n        Cipher cipher = Cipher.getInstance(ALGORITHM);\n        byte[] iv = Arrays.copyOfRange(message, 0, cipher.getBlockSize());\n        cipher.init(Cipher.DECRYPT_MODE, key, new IvParameterSpec(iv));\n        return cipher.doFinal(Arrays.copyOfRange(message, cipher.getBlockSize(), message.length));\n    }\n\n    static String bytesToHex(byte[] bytes) {\n        StringBuilder result = new StringBuilder();\n        for (byte b : bytes) {\n            result.append(String.format(&quot;%02x&quot;, b));\n        }\n        return result.toString();\n    }\n}\n</code></pre>\n<p>EDIT: This is my POM file</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.2.4.RELEASE&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.snhu&lt;/groupId&gt;\n    &lt;artifactId&gt;ssl-server&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;ssl-server&lt;/name&gt;\n    &lt;description&gt;ssl-server skeleton for CS-305&lt;/description&gt;\n    \n    &lt;properties&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-rest&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\n                    &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.owasp&lt;/groupId&gt;\n                &lt;artifactId&gt;dependency-check-maven&lt;/artifactId&gt;\n                &lt;version&gt;5.3.0&lt;/version&gt;\n                &lt;configuration&gt;\n                 &lt;outputDirectory default-value=&quot;C:\\Users\\Shawn\\Documents\\M7 Folder&quot;/&gt;\n                &lt;/configuration&gt;\n                \n                &lt;executions&gt;\n                  &lt;execution&gt;\n                      &lt;goals&gt;\n                          &lt;goal&gt;check&lt;/goal&gt;\n                      &lt;/goals&gt;\n                  &lt;/execution&gt;\n              &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","android","pdf","android-studio-3.0"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":1,"creation_date":1676835318,"post_id":75502855,"comment_id":133212879,"body_markdown":"It is unclear at which directory you start to list. Please show how you call that function.","body":"It is unclear at which directory you start to list. Please show how you call that function."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1676835450,"post_id":75502855,"comment_id":133212904,"body_markdown":"Also tell Android version of used device.","body":"Also tell Android version of used device."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1676835479,"post_id":75502855,"comment_id":133212909,"body_markdown":"Also tell if those pdf files are created by your app.","body":"Also tell if those pdf files are created by your app."},{"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1676836539,"post_id":75502855,"comment_id":133213065,"body_markdown":"You do not have access to arbitrary files on external storage. Please use the Storage Access Framework to allow the user to browse for PDF files using a system-supplied UI.","body":"You do not have access to arbitrary files on external storage. Please use the Storage Access Framework to allow the user to browse for PDF files using a system-supplied UI."}],"owner":{"account_id":20554707,"reputation":1,"user_id":15086580,"display_name":"H M Danish"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676835873,"creation_date":1676834657,"question_id":75502855,"body_markdown":"I want to list all the pdf files and store them into Array List of type File but its not work.. code is working fine for jpg,png,mp3,mp4 but did not read any pdf.\r\n\r\n\r\n\r\n\r\n\r\nhere is my method to read pdf file:    \r\n\r\n    @SuppressLint(&quot;NewApi&quot;)\r\n    private List&lt;File&gt; getPDFFilesListInDirectory(File directory) {\r\n        List&lt;File&gt; pdfFilesList = new ArrayList&lt;&gt;();\r\n\r\n        if (directory.isDirectory()) {\r\n            File[] files = directory.listFiles();\r\n\r\n            if (files != null) {\r\n\r\n                for (File file : files) {\r\n                    Log.d(&quot;name&quot;, &quot;getPDFFilesListInDirectory: &quot;+file.getName());\r\n                    if (file.isFile() &amp;&amp; file.getName().toLowerCase().endsWith(&quot;.pdf&quot;)) {\r\n                        pdfFilesList.add(file);\r\n                    } else if (file.isDirectory()) {\r\n                        pdfFilesList.addAll(getPDFFilesListInDirectory(file));\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        return pdfFilesList;\r\n    }\r\n\r\nthis method reads all the folders but did not read any pdf file. also I give read and write external storage permission\r\n\r\n","title":"how to list all the pdf file from mobile storage?? this code is work for all Png, jpg. mp3","body":"<p>I want to list all the pdf files and store them into Array List of type File but its not work.. code is working fine for jpg,png,mp3,mp4 but did not read any pdf.</p>\n<p>here is my method to read pdf file:</p>\n<pre><code>@SuppressLint(&quot;NewApi&quot;)\nprivate List&lt;File&gt; getPDFFilesListInDirectory(File directory) {\n    List&lt;File&gt; pdfFilesList = new ArrayList&lt;&gt;();\n\n    if (directory.isDirectory()) {\n        File[] files = directory.listFiles();\n\n        if (files != null) {\n\n            for (File file : files) {\n                Log.d(&quot;name&quot;, &quot;getPDFFilesListInDirectory: &quot;+file.getName());\n                if (file.isFile() &amp;&amp; file.getName().toLowerCase().endsWith(&quot;.pdf&quot;)) {\n                    pdfFilesList.add(file);\n                } else if (file.isDirectory()) {\n                    pdfFilesList.addAll(getPDFFilesListInDirectory(file));\n                }\n            }\n        }\n    }\n\n    return pdfFilesList;\n}\n</code></pre>\n<p>this method reads all the folders but did not read any pdf file. also I give read and write external storage permission</p>\n"},{"tags":["java","openshift","minishift"],"comments":[{"owner":{"account_id":9586472,"reputation":788,"user_id":7119031,"display_name":"hiroyukik"},"score":0,"creation_date":1677302771,"post_id":75502974,"comment_id":133315527,"body_markdown":"You may need to put a namespace before `java-app-sample`. I thought the `java-app-sample` is a template you defined above.\nCommonly, OpenShift complements `openshift` namespace if a user doesn&#39;t specify namespace in front of template name.\nSo you should write like this `oc new-app &lt;namespace&gt;/java-app-sample -p APP_NAME=app-sample`.","body":"You may need to put a namespace before <code>java-app-sample</code>. I thought the <code>java-app-sample</code> is a template you defined above. Commonly, OpenShift complements <code>openshift</code> namespace if a user doesn&#39;t specify namespace in front of template name. So you should write like this <code>oc new-app &lt;namespace&gt;&#47;java-app-sample -p APP_NAME=app-sample</code>."}],"owner":{"account_id":18476555,"reputation":517,"user_id":13459947,"display_name":"Violetta"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676835832,"creation_date":1676835832,"question_id":75502974,"body_markdown":"I have a template.yaml, dockerfile and myproject.jar . How can I deploy an application in a minishift?\r\nI&#39;ve tried,\r\n```\r\noc create -f template.yaml\r\noc new-app java-app-sample -p APP_NAME=app-sample\r\n``` \r\n but I&#39;m not sure it&#39;s right","title":"How to deploy an application in minishift","body":"<p>I have a template.yaml, dockerfile and myproject.jar . How can I deploy an application in a minishift?\nI've tried,</p>\n<pre><code>oc create -f template.yaml\noc new-app java-app-sample -p APP_NAME=app-sample\n</code></pre>\n<p>but I'm not sure it's right</p>\n"},{"tags":["java","gradle"],"answers":[{"tags":[],"owner":{"account_id":4062194,"reputation":518,"user_id":3338418,"accept_rate":10,"display_name":"Adi Sivasankaran"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676834722,"creation_date":1676792041,"answer_id":75498631,"question_id":75498601,"body_markdown":"Using the `ext` block (which allows you to define custom properties and methods that can be accessed from anywhere in your build file), I can add the custom property `integrationTest`\r\n\r\n\r\n```java\r\next {\r\n    integrationTest = project.hasProperty(&#39;integrationTest&#39;)\r\n}\r\n```\r\n\r\nAnd I added a check in the `integrationTest` task:\r\n\r\n```java\r\ntasks.register(&#39;integrationTest&#39;, Test) {\r\n    if (integrationTest) {\r\n        testClassesDirs = sourceSets.integrationTest.output.classesDirs\r\n        classpath = sourceSets.integrationTest.runtimeClasspath\r\n    }\r\n}\r\n```\r\n\r\nNow when I add the system property via the terminal:\r\n```./gradlew integrationTest DintegrationTest=true```\r\n\r\nThe property&#39;s value will be set to `true`.","title":"MissingPropertyException: Gradle Task Fails Due to Unknown Property","body":"<p>Using the <code>ext</code> block (which allows you to define custom properties and methods that can be accessed from anywhere in your build file), I can add the custom property <code>integrationTest</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>ext {\n    integrationTest = project.hasProperty('integrationTest')\n}\n</code></pre>\n<p>And I added a check in the <code>integrationTest</code> task:</p>\n<pre class=\"lang-java prettyprint-override\"><code>tasks.register('integrationTest', Test) {\n    if (integrationTest) {\n        testClassesDirs = sourceSets.integrationTest.output.classesDirs\n        classpath = sourceSets.integrationTest.runtimeClasspath\n    }\n}\n</code></pre>\n<p>Now when I add the system property via the terminal:\n<code>./gradlew integrationTest DintegrationTest=true</code></p>\n<p>The property's value will be set to <code>true</code>.</p>\n"}],"owner":{"account_id":4062194,"reputation":518,"user_id":3338418,"accept_rate":10,"display_name":"Adi Sivasankaran"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":652,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1676834722,"creation_date":1676791685,"question_id":75498601,"body_markdown":"I am encountering the following error:\r\n\r\n```\r\n    Caused by: groovy.lang.MissingPropertyException: Could not get unknown property &#39;integrationTest&#39; for SourceSet container of type org.gradle.api.internal.tasks.DefaultSourceSetContainer.\r\n```\r\n\r\nThis is my `build.gradle` file. I have a `integrationTest` task defined already.\r\n\r\n\r\n```\r\nplugins {\r\n\tid &#39;java&#39;\r\n\tid &#39;org.springframework.boot&#39; version &#39;2.7.8&#39;\r\n\tid &#39;io.spring.dependency-management&#39; version &#39;1.0.15.RELEASE&#39;\r\n}\r\n\r\ngroup = &#39;com.app.api&#39;\r\nversion = &#39;0.0.1-SNAPSHOT&#39;\r\nsourceCompatibility = &#39;17&#39;\r\n\r\nrepositories {\r\n\tmavenCentral()\r\n}\r\n\r\ndependencies {\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter&#39;\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n\timplementation &#39;com.fasterxml.jackson.datatype:jackson-datatype-jsr310:2.11.0&#39;\r\n\ttestImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n\ttestImplementation &#39;junit:junit:4.13.1&#39;\r\n}\r\n\r\ntasks.register(&#39;integrationTest&#39;, Test) {\r\n\ttestClassesDirs = sourceSets.integrationTest.output.classesDirs\r\n\tclasspath = sourceSets.integrationTest.runtimeClasspath\r\n}\r\n\r\ntasks.withType(Jar).configureEach {\r\n\tduplicatesStrategy = DuplicatesStrategy.EXCLUDE\r\n\r\n\tmanifest {\r\n\t\tattributes[&quot;Main-Class&quot;] = &#39;com.app.api.ApiApplication&#39;\r\n\t}\r\n\r\n\tconfigurations[&quot;compileClasspath&quot;].each { file -&gt;\r\n\t\tfrom(zipTree(file.absoluteFile))\r\n\t}\r\n}\r\n```\r\n\r\nHow can one make `integrationTest` property be known to gradle?","title":"MissingPropertyException: Gradle Task Fails Due to Unknown Property","body":"<p>I am encountering the following error:</p>\n<pre><code>    Caused by: groovy.lang.MissingPropertyException: Could not get unknown property 'integrationTest' for SourceSet container of type org.gradle.api.internal.tasks.DefaultSourceSetContainer.\n</code></pre>\n<p>This is my <code>build.gradle</code> file. I have a <code>integrationTest</code> task defined already.</p>\n<pre><code>plugins {\n    id 'java'\n    id 'org.springframework.boot' version '2.7.8'\n    id 'io.spring.dependency-management' version '1.0.15.RELEASE'\n}\n\ngroup = 'com.app.api'\nversion = '0.0.1-SNAPSHOT'\nsourceCompatibility = '17'\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    implementation 'org.springframework.boot:spring-boot-starter'\n    implementation 'org.springframework.boot:spring-boot-starter-web'\n    implementation 'com.fasterxml.jackson.datatype:jackson-datatype-jsr310:2.11.0'\n    testImplementation 'org.springframework.boot:spring-boot-starter-test'\n    testImplementation 'junit:junit:4.13.1'\n}\n\ntasks.register('integrationTest', Test) {\n    testClassesDirs = sourceSets.integrationTest.output.classesDirs\n    classpath = sourceSets.integrationTest.runtimeClasspath\n}\n\ntasks.withType(Jar).configureEach {\n    duplicatesStrategy = DuplicatesStrategy.EXCLUDE\n\n    manifest {\n        attributes[&quot;Main-Class&quot;] = 'com.app.api.ApiApplication'\n    }\n\n    configurations[&quot;compileClasspath&quot;].each { file -&gt;\n        from(zipTree(file.absoluteFile))\n    }\n}\n</code></pre>\n<p>How can one make <code>integrationTest</code> property be known to gradle?</p>\n"},{"tags":["java","android","opengl-es","glsl","texture2d"],"answers":[{"tags":[],"owner":{"account_id":19185,"reputation":51299,"user_id":44729,"accept_rate":100,"display_name":"genpfault"},"comment_count":0,"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1413815122,"creation_date":1403301076,"answer_id":24336183,"question_id":24335975,"body_markdown":"    varying vec4 v_TextureCoordinates;\r\n            ^^^^\r\n\r\nThere are exactly two `texture2D()` overloads in ES 2.0:\r\n\r\n    vec4 texture2D(sampler2D sampler, vec2 coord)\r\n    vec4 texture2D(sampler2D sampler, vec2 coord, float bias)\r\n\r\n...neither of which accept a `vec4` for `coord`.\r\n\r\nSlice off the last two vector components of `v_TextureCoordinates` using a swizzle:\r\n\r\n    gl_FragColor = texture2D(u_TextureUnit, v_TextureCoordinates.xy );","title":"&#39;texture2D&#39; : No matching overloaded function found OpenGL ES2?","body":"<pre><code>varying vec4 v_TextureCoordinates;\n        ^^^^\n</code></pre>\n\n<p>There are exactly two <code>texture2D()</code> overloads in ES 2.0:</p>\n\n<pre><code>vec4 texture2D(sampler2D sampler, vec2 coord)\nvec4 texture2D(sampler2D sampler, vec2 coord, float bias)\n</code></pre>\n\n<p>...neither of which accept a <code>vec4</code> for <code>coord</code>.</p>\n\n<p>Slice off the last two vector components of <code>v_TextureCoordinates</code> using a swizzle:</p>\n\n<pre><code>gl_FragColor = texture2D(u_TextureUnit, v_TextureCoordinates.xy );\n</code></pre>\n"}],"owner":{"account_id":4642070,"reputation":480,"user_id":3761616,"accept_rate":100,"display_name":"LessComplexity"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12960,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":24336183,"answer_count":1,"score":9,"last_activity_date":1676834494,"creation_date":1403299978,"question_id":24335975,"body_markdown":"I was working on a project, and for that project I  had to walk through a book called &quot;OpenGL ES 2 For Android: A quick start guide&quot;.\r\nSo when I got to texturing, I got the error of:\r\n\r\n```none\r\n&#39;texture2D&#39; : No matching overloaded function found\r\n```\r\n\r\n...when I compile the shader.\r\n\r\nThe shader code:\r\n\r\n```glsl\r\n// Fragment shader\r\nprecision mediump float;\r\n\r\nuniform sampler2D u_TextureUnit;\r\nvarying vec4 v_TextureCoordinates;\r\n\r\nvoid main()\r\n{\r\n\tgl_FragColor = texture2D(u_TextureUnit, v_TextureCoordinates);\r\n}\r\n\r\n// Vertex shader\r\nuniform mat4 u_Matrix;\r\nattribute vec4 a_Position;\r\nattribute vec4 a_TextureCoordinates;\r\n\r\nvarying vec4 v_TextureCoordinates;\r\n\r\nvoid main()\r\n{\r\n\tgl_Position = u_Matrix * a_Position;\r\n\tv_TextureCoordinates = a_TextureCoordinates;\r\n}\r\n```\r\n\r\nI tried the same shaders for my project and for exactly the same code as in the book but it still gives me the same error when I compile the shader, and the viewport on the android device is blank, just the clear color I set is shown.","title":"&#39;texture2D&#39; : No matching overloaded function found OpenGL ES2?","body":"<p>I was working on a project, and for that project I  had to walk through a book called &quot;OpenGL ES 2 For Android: A quick start guide&quot;.\nSo when I got to texturing, I got the error of:</p>\n<pre class=\"lang-none prettyprint-override\"><code>'texture2D' : No matching overloaded function found\n</code></pre>\n<p>...when I compile the shader.</p>\n<p>The shader code:</p>\n<pre class=\"lang-c prettyprint-override\"><code>// Fragment shader\nprecision mediump float;\n\nuniform sampler2D u_TextureUnit;\nvarying vec4 v_TextureCoordinates;\n\nvoid main()\n{\n    gl_FragColor = texture2D(u_TextureUnit, v_TextureCoordinates);\n}\n\n// Vertex shader\nuniform mat4 u_Matrix;\nattribute vec4 a_Position;\nattribute vec4 a_TextureCoordinates;\n\nvarying vec4 v_TextureCoordinates;\n\nvoid main()\n{\n    gl_Position = u_Matrix * a_Position;\n    v_TextureCoordinates = a_TextureCoordinates;\n}\n</code></pre>\n<p>I tried the same shaders for my project and for exactly the same code as in the book but it still gives me the same error when I compile the shader, and the viewport on the android device is blank, just the clear color I set is shown.</p>\n"},{"tags":["java","spotify"],"comments":[{"owner":{"account_id":9575220,"reputation":413,"user_id":7111585,"display_name":"Ximzend"},"score":0,"creation_date":1676838825,"post_id":75502426,"comment_id":133213507,"body_markdown":"If you want info of user B, you&#39;ll need an access token of that user after it logged in. Before that works, their name and email address must be filled into &quot;Users and Access&quot; of your app through the Dashboard. You can [read more about this here](https://developer.spotify.com/community/news/2021/05/27/improving-the-developer-and-user-experience-for-third-party-apps/).","body":"If you want info of user B, you&#39;ll need an access token of that user after it logged in. Before that works, their name and email address must be filled into &quot;Users and Access&quot; of your app through the Dashboard. You can <a href=\"https://developer.spotify.com/community/news/2021/05/27/improving-the-developer-and-user-experience-for-third-party-apps/\" rel=\"nofollow noreferrer\">read more about this here</a>."}],"owner":{"account_id":5672211,"reputation":4278,"user_id":4969916,"accept_rate":35,"display_name":"Shiladittya Chakraborty"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676830726,"creation_date":1676830726,"question_id":75502426,"body_markdown":"I am trying create one application from where I can get the all the information related to user/Tracks/Album.\r\n\r\nI have used below code for authentication using clientid and client secret id.\r\n\r\n\tprivate static String clintId = &quot;generated id&quot;;\r\n\r\n\tprivate static String clientSecretId = &quot;generated secret id&quot;; \r\n\t \r\n    private static final URI redirectUri = SpotifyHttpManager.makeUri(&quot;http://localhost:8080/api/get-user-code/&quot;);\r\n\r\n    public static final SpotifyApi spotifyApi = new SpotifyApi.Builder()\r\n            .setClientId(clintId)\r\n            .setClientSecret(clientSecretId)\r\n            .setRedirectUri(redirectUri)\r\n            .build();\r\n\r\n    @GetMapping(&quot;login&quot;)\r\n    @ResponseBody\r\n    public String spotifyLogin(){\r\n        AuthorizationCodeUriRequest authorizationCodeUriRequest = spotifyApi.authorizationCodeUri()\r\n                .scope(&quot;user-read-private user-read-email user-top-read user-library-read user-library-modify&quot;)\r\n                .show_dialog(true)\r\n                .build();\r\n        final URI uri = authorizationCodeUriRequest.execute();\r\n        return uri.toString();\r\n    }\r\n\r\n    @GetMapping(value=&quot;get-user-code&quot;)\r\n    public void getSpotifyUserCode(@RequestParam(&quot;code&quot;) String userCode, HttpServletResponse response) throws IOException {\r\n        AuthorizationCodeRequest authorizationCodeRequest = spotifyApi.authorizationCode(userCode)\r\n                .build();\r\n\r\n        try {\r\n            final AuthorizationCodeCredentials authorizationCodeCredentials = authorizationCodeRequest.execute();\r\n\r\n            // Set access and refresh token for further &quot;spotifyApi&quot; object usage\r\n            System.out.println(&quot;Access token::&quot;+authorizationCodeCredentials.getAccessToken());\r\n            spotifyApi.setAccessToken(authorizationCodeCredentials.getAccessToken());\r\n            spotifyApi.setRefreshToken(authorizationCodeCredentials.getRefreshToken());\r\n\r\n            System.out.println(&quot;Expires in: &quot; + authorizationCodeCredentials.getExpiresIn());\r\n        } catch (IOException | SpotifyWebApiException | org.apache.hc.core5.http.ParseException e){\r\n            System.out.println(&quot;Error: &quot; + e.getMessage());\r\n        }\r\n\r\n        response.sendRedirect(&quot;http://localhost:3000/home&quot;);\r\n    }\r\n\t\r\nNow take one example: Suppose I have created above client id and secret id from `User A` (From development dashboard) so for `User A` everything is working fine like I am able to get user profile, Track etc.\r\n\r\nBut suppose if I try to get same details for `User B` like user profile/tracks etc with `User A` generated client id and secret id then not able to get those information for `User B` its showing &quot;`forbidden`&quot;.\r\n\r\nSo my question is that how to get those information for user B (with user A client id and secret details)? \t","title":"How to get spotify user details with details of another user clinet info","body":"<p>I am trying create one application from where I can get the all the information related to user/Tracks/Album.</p>\n<p>I have used below code for authentication using clientid and client secret id.</p>\n<pre><code>private static String clintId = &quot;generated id&quot;;\n\nprivate static String clientSecretId = &quot;generated secret id&quot;; \n \nprivate static final URI redirectUri = SpotifyHttpManager.makeUri(&quot;http://localhost:8080/api/get-user-code/&quot;);\n\npublic static final SpotifyApi spotifyApi = new SpotifyApi.Builder()\n        .setClientId(clintId)\n        .setClientSecret(clientSecretId)\n        .setRedirectUri(redirectUri)\n        .build();\n\n@GetMapping(&quot;login&quot;)\n@ResponseBody\npublic String spotifyLogin(){\n    AuthorizationCodeUriRequest authorizationCodeUriRequest = spotifyApi.authorizationCodeUri()\n            .scope(&quot;user-read-private user-read-email user-top-read user-library-read user-library-modify&quot;)\n            .show_dialog(true)\n            .build();\n    final URI uri = authorizationCodeUriRequest.execute();\n    return uri.toString();\n}\n\n@GetMapping(value=&quot;get-user-code&quot;)\npublic void getSpotifyUserCode(@RequestParam(&quot;code&quot;) String userCode, HttpServletResponse response) throws IOException {\n    AuthorizationCodeRequest authorizationCodeRequest = spotifyApi.authorizationCode(userCode)\n            .build();\n\n    try {\n        final AuthorizationCodeCredentials authorizationCodeCredentials = authorizationCodeRequest.execute();\n\n        // Set access and refresh token for further &quot;spotifyApi&quot; object usage\n        System.out.println(&quot;Access token::&quot;+authorizationCodeCredentials.getAccessToken());\n        spotifyApi.setAccessToken(authorizationCodeCredentials.getAccessToken());\n        spotifyApi.setRefreshToken(authorizationCodeCredentials.getRefreshToken());\n\n        System.out.println(&quot;Expires in: &quot; + authorizationCodeCredentials.getExpiresIn());\n    } catch (IOException | SpotifyWebApiException | org.apache.hc.core5.http.ParseException e){\n        System.out.println(&quot;Error: &quot; + e.getMessage());\n    }\n\n    response.sendRedirect(&quot;http://localhost:3000/home&quot;);\n}\n</code></pre>\n<p>Now take one example: Suppose I have created above client id and secret id from <code>User A</code> (From development dashboard) so for <code>User A</code> everything is working fine like I am able to get user profile, Track etc.</p>\n<p>But suppose if I try to get same details for <code>User B</code> like user profile/tracks etc with <code>User A</code> generated client id and secret id then not able to get those information for <code>User B</code> its showing &quot;<code>forbidden</code>&quot;.</p>\n<p>So my question is that how to get those information for user B (with user A client id and secret details)?</p>\n"},{"tags":["java","spring","docker","maven"],"comments":[{"owner":{"account_id":17835,"reputation":303915,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1676830710,"post_id":75502361,"comment_id":133211987,"body_markdown":"You need all the dependencies (like Spring) in the Docker file as well. Your app jar contains only your classes.","body":"You need all the dependencies (like Spring) in the Docker file as well. Your app jar contains only your classes."},{"owner":{"account_id":16341374,"reputation":19,"user_id":11802220,"display_name":"Youssef Dahmane Jdid"},"score":0,"creation_date":1676831297,"post_id":75502361,"comment_id":133212098,"body_markdown":"How i can  do that ?","body":"How i can  do that ?"},{"owner":{"account_id":2375368,"reputation":4423,"user_id":2078908,"display_name":"ursa"},"score":0,"creation_date":1676838574,"post_id":75502361,"comment_id":133213459,"body_markdown":"you need to pack your application with dependencies. there are different ways, but the simplest would be [maven-assembly-plugin](https://maven.apache.org/plugins/maven-assembly-plugin/usage.html#execution-building-an-assembly).","body":"you need to pack your application with dependencies. there are different ways, but the simplest would be <a href=\"https://maven.apache.org/plugins/maven-assembly-plugin/usage.html#execution-building-an-assembly\" rel=\"nofollow noreferrer\">maven-assembly-plugin</a>."},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1676838589,"post_id":75502361,"comment_id":133213463,"body_markdown":"Remove `&lt;sourceDirectory&gt;src&lt;/sourceDirectory&gt;` this and follow convention over configuration...","body":"Remove <code>&lt;sourceDirectory&gt;src&lt;&#47;sourceDirectory&gt;</code> this and follow convention over configuration..."},{"owner":{"account_id":16341374,"reputation":19,"user_id":11802220,"display_name":"Youssef Dahmane Jdid"},"score":0,"creation_date":1676931118,"post_id":75502361,"comment_id":133232972,"body_markdown":"@khmarbaise afte removing sourceDirectory i hot that Error: Could not find or load main class app.Main","body":"@khmarbaise afte removing sourceDirectory i hot that Error: Could not find or load main class app.Main"}],"owner":{"account_id":16341374,"reputation":19,"user_id":11802220,"display_name":"Youssef Dahmane Jdid"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":78,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1676830220,"creation_date":1676830220,"question_id":75502361,"body_markdown":"This is my Docker File : \r\n\r\n```\r\nFROM openjdk:11\r\nEXPOSE 3459\r\nARG JAR_FILE=target/jp_lstnr-0.0.1-SNAPSHOT.jar\r\nADD ${JAR_FILE} app.jar\r\nENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;,&quot;/app.jar&quot;]\r\n```\r\n\r\nThis is my pom file \r\n```\r\n&lt;project xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;groupId&gt;jp_lstnr&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jp_lstnr&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;kotlin.version&gt;1.3.21&lt;/kotlin.version&gt;\r\n    &lt;/properties&gt;\r\n\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\r\n            &lt;version&gt;2.3.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\r\n            &lt;version&gt;4.0.3.RELEASE&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-core&lt;/artifactId&gt;\r\n            &lt;version&gt;4.0.3.RELEASE&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-tx&lt;/artifactId&gt;\r\n            &lt;version&gt;4.0.3.RELEASE&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-orm&lt;/artifactId&gt;\r\n            &lt;version&gt;4.0.3.RELEASE&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;c3p0&lt;/groupId&gt;\r\n            &lt;artifactId&gt;c3p0&lt;/artifactId&gt;\r\n            &lt;version&gt;0.9.1.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- Hibernate --&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n            &lt;version&gt;5.1.46&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;commons-dbcp&lt;/groupId&gt;\r\n            &lt;artifactId&gt;commons-dbcp&lt;/artifactId&gt;\r\n            &lt;version&gt;1.4&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;commons-logging&lt;/groupId&gt;\r\n            &lt;artifactId&gt;commons-logging&lt;/artifactId&gt;\r\n            &lt;version&gt;1.1.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.sun.jersey&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jersey-client&lt;/artifactId&gt;\r\n            &lt;version&gt;1.9.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;net.sf.ehcache&lt;/groupId&gt;\r\n            &lt;artifactId&gt;ehcache&lt;/artifactId&gt;\r\n            &lt;version&gt;2.10.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.mail&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mail&lt;/artifactId&gt;\r\n            &lt;version&gt;1.4&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javaee-api&lt;/artifactId&gt;\r\n            &lt;version&gt;7.0&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;junit&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n            &lt;version&gt;4.12&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\r\n            &lt;artifactId&gt;kotlin-stdlib-jdk8&lt;/artifactId&gt;\r\n            &lt;version&gt;${kotlin.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\r\n            &lt;artifactId&gt;gson&lt;/artifactId&gt;\r\n            &lt;version&gt;2.8.4&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.github.cdimascio&lt;/groupId&gt;\r\n            &lt;artifactId&gt;java-dotenv&lt;/artifactId&gt;\r\n            &lt;version&gt;5.2.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;sourceDirectory&gt;src&lt;/sourceDirectory&gt;\r\n        &lt;plugins&gt;\r\n            &lt;!-- &lt;plugin&gt; &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt; &lt;version&gt;3.6.1&lt;/version&gt;\r\n                &lt;configuration&gt; &lt;source/&gt; &lt;target/&gt; &lt;/configuration&gt; &lt;/plugin&gt; --&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-eclipse-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.9&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;downloadSources&gt;true&lt;/downloadSources&gt;\r\n                    &lt;downloadJavadocs&gt;false&lt;/downloadJavadocs&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n\r\n            &lt;!-- Set a compiler level --&gt;\r\n\r\n            &lt;plugin&gt;\r\n                   &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;excludes&gt;\r\n                        &lt;exclude&gt;**/log4j.properties&lt;/exclude&gt;\r\n                    &lt;/excludes&gt;\r\n                    &lt;archive&gt;\r\n                        &lt;manifest&gt;\r\n                            &lt;addClasspath&gt;true&lt;/addClasspath&gt;\r\n                            &lt;mainClass&gt;app.Main&lt;/mainClass&gt;\r\n                            &lt;classpathPrefix&gt;dependency-jars/&lt;/classpathPrefix&gt;\r\n                        &lt;/manifest&gt;\r\n                    &lt;/archive&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.5.1&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;copy-dependencies&lt;/id&gt;\r\n                        &lt;phase&gt;package&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;copy-dependencies&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;includeScope&gt;runtime&lt;/includeScope&gt;\r\n                            &lt;outputDirectory&gt;${project.build.directory}/dependency-jars/&lt;/outputDirectory&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\r\n                &lt;artifactId&gt;kotlin-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;${kotlin.version}&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;compile&lt;/id&gt;\r\n                        &lt;phase&gt;compile&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;compile&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;test-compile&lt;/id&gt;\r\n                        &lt;phase&gt;test-compile&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;test-compile&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;jvmTarget&gt;1.8&lt;/jvmTarget&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.3.2&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;compile&lt;/id&gt;\r\n                        &lt;phase&gt;compile&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;compile&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;testCompile&lt;/id&gt;\r\n                        &lt;phase&gt;test-compile&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;testCompile&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;default-compile&lt;/id&gt;\r\n                        &lt;phase&gt;none&lt;/phase&gt;\r\n                    &lt;/execution&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;default-testCompile&lt;/id&gt;\r\n                        &lt;phase&gt;none&lt;/phase&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;source&gt;8&lt;/source&gt;\r\n                    &lt;target&gt;8&lt;/target&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nThat&#39;s work fine when i try java -jar target/jp_lstnr-0.0.1-SNAPSHOT.jar\r\n\r\nBut when i try to run using docker i got this error message : \r\n\r\nException in thread &quot;main&quot; java.lang.NoClassDefFoundError:org/springframework/context/support/ClassPathXmlApplicationContext\r\n","title":"Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError I got this when i try to run my spring tcpip server in Docker","body":"<p>This is my Docker File :</p>\n<pre><code>FROM openjdk:11\nEXPOSE 3459\nARG JAR_FILE=target/jp_lstnr-0.0.1-SNAPSHOT.jar\nADD ${JAR_FILE} app.jar\nENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;,&quot;/app.jar&quot;]\n</code></pre>\n<p>This is my pom file</p>\n<pre><code>&lt;project xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;jp_lstnr&lt;/groupId&gt;\n    &lt;artifactId&gt;jp_lstnr&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n\n    &lt;properties&gt;\n        &lt;kotlin.version&gt;1.3.21&lt;/kotlin.version&gt;\n    &lt;/properties&gt;\n\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\n            &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\n            &lt;version&gt;2.3.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\n            &lt;version&gt;4.0.3.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-core&lt;/artifactId&gt;\n            &lt;version&gt;4.0.3.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-tx&lt;/artifactId&gt;\n            &lt;version&gt;4.0.3.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-orm&lt;/artifactId&gt;\n            &lt;version&gt;4.0.3.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;c3p0&lt;/groupId&gt;\n            &lt;artifactId&gt;c3p0&lt;/artifactId&gt;\n            &lt;version&gt;0.9.1.2&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- Hibernate --&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;version&gt;5.1.46&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-dbcp&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-dbcp&lt;/artifactId&gt;\n            &lt;version&gt;1.4&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-logging&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-logging&lt;/artifactId&gt;\n            &lt;version&gt;1.1.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.sun.jersey&lt;/groupId&gt;\n            &lt;artifactId&gt;jersey-client&lt;/artifactId&gt;\n            &lt;version&gt;1.9.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;net.sf.ehcache&lt;/groupId&gt;\n            &lt;artifactId&gt;ehcache&lt;/artifactId&gt;\n            &lt;version&gt;2.10.1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.mail&lt;/groupId&gt;\n            &lt;artifactId&gt;mail&lt;/artifactId&gt;\n            &lt;version&gt;1.4&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax&lt;/groupId&gt;\n            &lt;artifactId&gt;javaee-api&lt;/artifactId&gt;\n            &lt;version&gt;7.0&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;version&gt;4.12&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\n            &lt;artifactId&gt;kotlin-stdlib-jdk8&lt;/artifactId&gt;\n            &lt;version&gt;${kotlin.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\n            &lt;artifactId&gt;gson&lt;/artifactId&gt;\n            &lt;version&gt;2.8.4&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.github.cdimascio&lt;/groupId&gt;\n            &lt;artifactId&gt;java-dotenv&lt;/artifactId&gt;\n            &lt;version&gt;5.2.1&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;sourceDirectory&gt;src&lt;/sourceDirectory&gt;\n        &lt;plugins&gt;\n            &lt;!-- &lt;plugin&gt; &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt; &lt;version&gt;3.6.1&lt;/version&gt;\n                &lt;configuration&gt; &lt;source/&gt; &lt;target/&gt; &lt;/configuration&gt; &lt;/plugin&gt; --&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-eclipse-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.9&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;downloadSources&gt;true&lt;/downloadSources&gt;\n                    &lt;downloadJavadocs&gt;false&lt;/downloadJavadocs&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n\n            &lt;!-- Set a compiler level --&gt;\n\n            &lt;plugin&gt;\n                   &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                    &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;**/log4j.properties&lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                    &lt;archive&gt;\n                        &lt;manifest&gt;\n                            &lt;addClasspath&gt;true&lt;/addClasspath&gt;\n                            &lt;mainClass&gt;app.Main&lt;/mainClass&gt;\n                            &lt;classpathPrefix&gt;dependency-jars/&lt;/classpathPrefix&gt;\n                        &lt;/manifest&gt;\n                    &lt;/archive&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.5.1&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;copy-dependencies&lt;/id&gt;\n                        &lt;phase&gt;package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;copy-dependencies&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;includeScope&gt;runtime&lt;/includeScope&gt;\n                            &lt;outputDirectory&gt;${project.build.directory}/dependency-jars/&lt;/outputDirectory&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\n                &lt;artifactId&gt;kotlin-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${kotlin.version}&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;compile&lt;/id&gt;\n                        &lt;phase&gt;compile&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;compile&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;test-compile&lt;/id&gt;\n                        &lt;phase&gt;test-compile&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;test-compile&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n                &lt;configuration&gt;\n                    &lt;jvmTarget&gt;1.8&lt;/jvmTarget&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.3.2&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;compile&lt;/id&gt;\n                        &lt;phase&gt;compile&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;compile&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;testCompile&lt;/id&gt;\n                        &lt;phase&gt;test-compile&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;testCompile&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;default-compile&lt;/id&gt;\n                        &lt;phase&gt;none&lt;/phase&gt;\n                    &lt;/execution&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;default-testCompile&lt;/id&gt;\n                        &lt;phase&gt;none&lt;/phase&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;8&lt;/source&gt;\n                    &lt;target&gt;8&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>That's work fine when i try java -jar target/jp_lstnr-0.0.1-SNAPSHOT.jar</p>\n<p>But when i try to run using docker i got this error message :</p>\n<p>Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError:org/springframework/context/support/ClassPathXmlApplicationContext</p>\n"},{"tags":["java","eclipse","graphics2d","java-12"],"comments":[{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":1,"creation_date":1676825705,"post_id":75501537,"comment_id":133210995,"body_markdown":"What is the exact error message? What are the exact steps to reproduce your problem? Please also tell what you have in the preferences _Java &gt; Appearance &gt; Type Filter_ since this might be related (even though it is unclear to me what you are talking about).","body":"What is the exact error message? What are the exact steps to reproduce your problem? Please also tell what you have in the preferences <i>Java &gt; Appearance &gt; Type Filter</i> since this might be related (even though it is unclear to me what you are talking about)."},{"owner":{"account_id":26545336,"reputation":53,"user_id":20175490,"display_name":"Paul"},"score":0,"creation_date":1676827174,"post_id":75501537,"comment_id":133211315,"body_markdown":"@howlger I added more information, hope it helps!","body":"@howlger I added more information, hope it helps!"},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1676829074,"post_id":75501537,"comment_id":133211651,"body_markdown":"`The import java.awt.Graphics2D cannot be resolved` is a compile error, preventing parts to be compiled. If you ignore this compile error, and run it and run into the not compiled code, you get `Unresolved compilation problems` at run time. If you have a `module-info.java` file, delete it (if needed you can recreate it later via right-click on project and _Configure_) or [in `module-info.java` add the required `requires ...;` statement](https://en.wikipedia.org/wiki/Java_Platform_Module_System#Properties_of_modules). If this does not help, please show a screenshot of structure, editor, error.","body":"<code>The import java.awt.Graphics2D cannot be resolved</code> is a compile error, preventing parts to be compiled. If you ignore this compile error, and run it and run into the not compiled code, you get <code>Unresolved compilation problems</code> at run time. If you have a <code>module-info.java</code> file, delete it (if needed you can recreate it later via right-click on project and <i>Configure</i>) or <a href=\"https://en.wikipedia.org/wiki/Java_Platform_Module_System#Properties_of_modules\" rel=\"nofollow noreferrer\">in <code>module-info.java</code> add the required <code>requires ...;</code> statement</a>. If this does not help, please show a screenshot of structure, editor, error."},{"owner":{"account_id":26545336,"reputation":53,"user_id":20175490,"display_name":"Paul"},"score":0,"creation_date":1676830344,"post_id":75501537,"comment_id":133211913,"body_markdown":"@howlger deleting it didn&#39;t help and I have requires java.desktop in the module, but it doesn&#39;t seem to help","body":"@howlger deleting it didn&#39;t help and I have requires java.desktop in the module, but it doesn&#39;t seem to help"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1676838495,"post_id":75501537,"comment_id":133213438,"body_markdown":"Maybe https://stackoverflow.com/questions/13705087/the-import-java-awt-cannot-be-resolved-and-cannot-be-resolved-to-a-typ","body":"Maybe <a href=\"https://stackoverflow.com/questions/13705087/the-import-java-awt-cannot-be-resolved-and-cannot-be-resolved-to-a-typ\" title=\"the import java awt cannot be resolved and cannot be resolved to a typ\">stackoverflow.com/questions/13705087/&hellip;</a>"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1676838701,"post_id":75501537,"comment_id":133213482,"body_markdown":"And while were at it - this looks like a really bad starting point as Swing is not Thread safe and single threaded - this means you shouldnt be updating the ui or any state it relies on from outside the context of event dispatching thread. A Swing Timer would be a better place to start","body":"And while were at it - this looks like a really bad starting point as Swing is not Thread safe and single threaded - this means you shouldnt be updating the ui or any state it relies on from outside the context of event dispatching thread. A Swing Timer would be a better place to start"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1676838890,"post_id":75501537,"comment_id":133213520,"body_markdown":"If they recommend using `KeyListener` for input monitoring, defiantly stop watching.  If you&#39;re just learning, I would suggest starting with JavaFX instead","body":"If they recommend using <code>KeyListener</code> for input monitoring, defiantly stop watching.  If you&#39;re just learning, I would suggest starting with JavaFX instead"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1676882776,"post_id":75501537,"comment_id":133219976,"body_markdown":"Which Eclipse version? And why Java&#160;12? Its outdated and not an LTE version.","body":"Which Eclipse version? And why Java 12? Its outdated and not an LTE version."}],"owner":{"account_id":26545336,"reputation":53,"user_id":20175490,"display_name":"Paul"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":284,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676829892,"creation_date":1676823256,"question_id":75501537,"body_markdown":"I&#39;m creating a game while following a tutorial and I came across an error. It shows Graphics2D cannot be resolved to a type. I&#39;m new to java and I&#39;m using Eclipse IDE (JavaSE-12). I imported the import java.awt.Graphics2D and it seems to remove the error, but as soon as I run the program the error shows up again. Everything else works fine and let&#39;s me import other things (Graphics, Dimension and JPanel for example). I would appreciate your answers!\r\n\r\n\tpackage main;\r\n\timport java.awt.Color;\r\n\timport java.awt.Dimension;\r\n\timport java.awt.Graphics;\r\n\timport java.awt.Graphics2D;\r\n\t\r\n\timport javax.swing.JPanel;\r\n\t\r\n\tpublic class GamePanel extends JPanel implements Runnable{\r\n\t\t\r\n\t\t//screen settings\r\n\t\tfinal int originalTileSize = 16;\r\n\t\tfinal int scale = 3; // 48x48\r\n\t\r\n\t\tfinal int tileSize = originalTileSize * scale;\r\n\t\tfinal int maxScreenCol = 16;\r\n\t\tfinal int maxScreenRow = 12;\r\n\t\tfinal int screenWidth = tileSize * maxScreenCol;\r\n\t\tfinal int screenHeight = tileSize * maxScreenRow;\r\n\t\t\r\n\t\tThread gameThread;\r\n\t\t\r\n\t\tpublic GamePanel() {\r\n\t\t\t\r\n\t\t\tthis.setPreferredSize(new Dimension(screenWidth, screenHeight));\r\n\t\t\tthis.setBackground(Color.pink);\r\n\t\t\tthis.setDoubleBuffered(true);\r\n\t\t}\r\n\t\r\n\t\tpublic void startGameThread() {\r\n\t\t\t\r\n\t\t\tgameThread = new Thread(this);\r\n\t\t\tgameThread.start();\r\n\t\t}\r\n\t\t\r\n\t\t@Override\r\n\t\tpublic void run() {\r\n\t\r\n\t\t\twhile(gameThread != null) {\r\n\t\t\t\tupdate();\r\n\t\t\t\t\r\n\t\t\t\trepaint();\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t\tpublic void update() {\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t\tpublic void paintComponent(Graphics g) {\r\n\t\t\tsuper.paintComponent(g);\r\n\t\t\tGraphics2D g2 = (Graphics2D)g; &lt;--- this line shows an error\r\n\t\t\t\r\n            // (I&#39;m trying to create a rectangle after I resolve the issue with Graphics)\r\n\t\t\t//g2.setColor(Color.white);\r\n\t\t\t//g2.fillRect(100, 100, tileSize, tileSize);\r\n\t\t\t//g2.dispose();\r\n\t\t}\r\n\t}\r\n\r\nUPDATE: \r\nMy CHECKED Type filters are:\r\n\r\n - com.sun*\r\n - io.micrometer.shaded*\r\n - jdk.*\r\n - sun.*\r\n - java.awt.List\r\n\r\nThe exact error messages:\r\n - Exception in thread &quot;AWT-EventQueue-0&quot; java.lang.Error: Unresolved \r\n compilation problems: \r\n  Graphics2D cannot be resolved to a type\r\n - The import java.awt.Graphics2D cannot be resolved\r\n\r\nThe youtube tutorial I&#39;m following is:\r\nhttps://www.youtube.com/watch?v=VpH33Uw-_0E&amp;list=PL_QPQmz5C6WUF-pOQDsbsKbaBZqXj4qSq&amp;index=2\r\nThis is the second part of the tutorial and I&#39;m at 7:00 minutes\r\n\r\nUPDATE: removing module-info.java didn&#39;t work, but I&#39;ll show you how it looks like right now:\r\n\r\n    module Maistas {\r\n\t   exports main;\r\n\r\n\t   requires transitive java.desktop;\r\n    }\r\n\r\nStructure:\r\n[![enter image description here][1]][1]\r\n\r\n \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/JKO4f.png","title":"Graphics2D cannot be resolved to a type","body":"<p>I'm creating a game while following a tutorial and I came across an error. It shows Graphics2D cannot be resolved to a type. I'm new to java and I'm using Eclipse IDE (JavaSE-12). I imported the import java.awt.Graphics2D and it seems to remove the error, but as soon as I run the program the error shows up again. Everything else works fine and let's me import other things (Graphics, Dimension and JPanel for example). I would appreciate your answers!</p>\n<pre><code>package main;\nimport java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.Graphics;\nimport java.awt.Graphics2D;\n\nimport javax.swing.JPanel;\n\npublic class GamePanel extends JPanel implements Runnable{\n    \n    //screen settings\n    final int originalTileSize = 16;\n    final int scale = 3; // 48x48\n\n    final int tileSize = originalTileSize * scale;\n    final int maxScreenCol = 16;\n    final int maxScreenRow = 12;\n    final int screenWidth = tileSize * maxScreenCol;\n    final int screenHeight = tileSize * maxScreenRow;\n    \n    Thread gameThread;\n    \n    public GamePanel() {\n        \n        this.setPreferredSize(new Dimension(screenWidth, screenHeight));\n        this.setBackground(Color.pink);\n        this.setDoubleBuffered(true);\n    }\n\n    public void startGameThread() {\n        \n        gameThread = new Thread(this);\n        gameThread.start();\n    }\n    \n    @Override\n    public void run() {\n\n        while(gameThread != null) {\n            update();\n            \n            repaint();\n        }\n        \n    }\n    \n    public void update() {\n        \n    }\n    \n    public void paintComponent(Graphics g) {\n        super.paintComponent(g);\n        Graphics2D g2 = (Graphics2D)g; &lt;--- this line shows an error\n        \n        // (I'm trying to create a rectangle after I resolve the issue with Graphics)\n        //g2.setColor(Color.white);\n        //g2.fillRect(100, 100, tileSize, tileSize);\n        //g2.dispose();\n    }\n}\n</code></pre>\n<p>UPDATE:\nMy CHECKED Type filters are:</p>\n<ul>\n<li>com.sun*</li>\n<li>io.micrometer.shaded*</li>\n<li>jdk.*</li>\n<li>sun.*</li>\n<li>java.awt.List</li>\n</ul>\n<p>The exact error messages:</p>\n<ul>\n<li>Exception in thread &quot;AWT-EventQueue-0&quot; java.lang.Error: Unresolved\ncompilation problems:\nGraphics2D cannot be resolved to a type</li>\n<li>The import java.awt.Graphics2D cannot be resolved</li>\n</ul>\n<p>The youtube tutorial I'm following is:\n<a href=\"https://www.youtube.com/watch?v=VpH33Uw-_0E&amp;list=PL_QPQmz5C6WUF-pOQDsbsKbaBZqXj4qSq&amp;index=2\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=VpH33Uw-_0E&amp;list=PL_QPQmz5C6WUF-pOQDsbsKbaBZqXj4qSq&amp;index=2</a>\nThis is the second part of the tutorial and I'm at 7:00 minutes</p>\n<p>UPDATE: removing module-info.java didn't work, but I'll show you how it looks like right now:</p>\n<pre><code>module Maistas {\n   exports main;\n\n   requires transitive java.desktop;\n}\n</code></pre>\n<p>Structure:\n<a href=\"https://i.stack.imgur.com/JKO4f.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JKO4f.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","multithreading","arraylist","server","client"],"answers":[{"tags":[],"owner":{"account_id":7091575,"reputation":58,"user_id":5426589,"display_name":"Imre T&#246;m&#246;sv&#225;ri"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676829378,"creation_date":1676829378,"answer_id":75502273,"question_id":75502008,"body_markdown":"In order to send something more complex you will have to serialize it. You can choose how to do the serialization, maybe the easiest is to use `ObjectOutputStream` and `ObjectInputStream` on the server and client respectively. These can be used very similarly to the `PrintWriter` / `BufferedReader` solution you are doing now.\r\n\r\nI had to change a few things as your example code did not compile.\r\n\r\nExample server based on your code:\r\n\r\n```\r\nimport java.io.BufferedReader;\r\nimport java.io.IOException;\r\nimport java.io.InputStreamReader;\r\nimport java.io.ObjectOutputStream;\r\nimport java.net.ServerSocket;\r\nimport java.net.Socket;\r\nimport java.util.List;\r\n\r\npublic class Server {\r\n    private static final List&lt;Integer&gt; myIntArray = List.of(1, 2, 3);\r\n\r\n    public static void main(String[] args) {\r\n        ServerSocket server = null;\r\n\r\n        try {\r\n            // server is listening on port 1234\r\n            server = new ServerSocket(1234);\r\n            server.setReuseAddress(true);\r\n\r\n            // running infinite loop for getting\r\n            // client request\r\n            while (true) {\r\n                // socket object to receive incoming client\r\n                // requests\r\n                Socket client = server.accept();\r\n\r\n                // Displaying that new client is connected\r\n                // to server\r\n                System.out.println(&quot;New client connected&quot; + client.getInetAddress().getHostAddress());\r\n\r\n                // create a new thread object\r\n                ClientHandler clientSock = new ClientHandler(client);\r\n\r\n                // This thread will handle the client\r\n                // separately\r\n                new Thread(clientSock).start();\r\n            }\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        } finally {\r\n            if (server != null) {\r\n                try {\r\n                    server.close();\r\n                } catch (IOException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    // ClientHandler class\r\n    private static class ClientHandler implements Runnable {\r\n        private final Socket clientSocket;\r\n\r\n        // Constructor\r\n        public ClientHandler(Socket socket) {\r\n            this.clientSocket = socket;\r\n        }\r\n\r\n        public void run() {\r\n            try (ObjectOutputStream objectOutputStream = new ObjectOutputStream(clientSocket.getOutputStream());\r\n                 BufferedReader in = new BufferedReader(new InputStreamReader(clientSocket.getInputStream()))) {\r\n\r\n                while (in.readLine() != null) {\r\n                    objectOutputStream.writeObject(myIntArray);\r\n                }\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n\r\nExample client:\r\n\r\n```\r\nimport java.io.*;\r\nimport java.net.*;\r\nimport java.util.*;\r\n\r\n// Client class\r\nclass Client {\r\n\r\n    // driver code\r\n    public static void main(String[] args) {\r\n        // establish a connection by providing host and port\r\n        // number\r\n        try (Socket socket = new Socket(&quot;localhost&quot;, 1234);\r\n             ObjectInputStream ois = new ObjectInputStream(socket.getInputStream());\r\n             PrintWriter out = new PrintWriter(socket.getOutputStream(), true)) {\r\n\r\n            // object of scanner class\r\n            Scanner sc = new Scanner(System.in);\r\n            String line = null;\r\n\r\n            while (!&quot;exit&quot;.equalsIgnoreCase(line)) {\r\n                // reading from user\r\n                line = sc.nextLine();\r\n\r\n                // sending the user input to server\r\n                out.println(line);\r\n                out.flush();\r\n\r\n                // displaying server reply\r\n                List&lt;Integer&gt; integers = (List&lt;Integer&gt;) ois.readObject();\r\n\r\n                System.out.println(&quot;server: &quot; + integers.get(0));\r\n            }\r\n\r\n            // closing the scanner object\r\n            sc.close();\r\n        } catch (IOException | ClassNotFoundException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nKeep in mind that if you are about to send your own custom types, both sides will have to know about those to be able to serialize/deserialize. Also, your classes will have to be serializable.\r\n","title":"How to send arralist on client by multithread server?","body":"<p>In order to send something more complex you will have to serialize it. You can choose how to do the serialization, maybe the easiest is to use <code>ObjectOutputStream</code> and <code>ObjectInputStream</code> on the server and client respectively. These can be used very similarly to the <code>PrintWriter</code> / <code>BufferedReader</code> solution you are doing now.</p>\n<p>I had to change a few things as your example code did not compile.</p>\n<p>Example server based on your code:</p>\n<pre><code>import java.io.BufferedReader;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\nimport java.io.ObjectOutputStream;\nimport java.net.ServerSocket;\nimport java.net.Socket;\nimport java.util.List;\n\npublic class Server {\n    private static final List&lt;Integer&gt; myIntArray = List.of(1, 2, 3);\n\n    public static void main(String[] args) {\n        ServerSocket server = null;\n\n        try {\n            // server is listening on port 1234\n            server = new ServerSocket(1234);\n            server.setReuseAddress(true);\n\n            // running infinite loop for getting\n            // client request\n            while (true) {\n                // socket object to receive incoming client\n                // requests\n                Socket client = server.accept();\n\n                // Displaying that new client is connected\n                // to server\n                System.out.println(&quot;New client connected&quot; + client.getInetAddress().getHostAddress());\n\n                // create a new thread object\n                ClientHandler clientSock = new ClientHandler(client);\n\n                // This thread will handle the client\n                // separately\n                new Thread(clientSock).start();\n            }\n        } catch (IOException e) {\n            e.printStackTrace();\n        } finally {\n            if (server != null) {\n                try {\n                    server.close();\n                } catch (IOException e) {\n                    e.printStackTrace();\n                }\n            }\n        }\n    }\n\n    // ClientHandler class\n    private static class ClientHandler implements Runnable {\n        private final Socket clientSocket;\n\n        // Constructor\n        public ClientHandler(Socket socket) {\n            this.clientSocket = socket;\n        }\n\n        public void run() {\n            try (ObjectOutputStream objectOutputStream = new ObjectOutputStream(clientSocket.getOutputStream());\n                 BufferedReader in = new BufferedReader(new InputStreamReader(clientSocket.getInputStream()))) {\n\n                while (in.readLine() != null) {\n                    objectOutputStream.writeObject(myIntArray);\n                }\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n        }\n    }\n}\n</code></pre>\n<p>Example client:</p>\n<pre><code>import java.io.*;\nimport java.net.*;\nimport java.util.*;\n\n// Client class\nclass Client {\n\n    // driver code\n    public static void main(String[] args) {\n        // establish a connection by providing host and port\n        // number\n        try (Socket socket = new Socket(&quot;localhost&quot;, 1234);\n             ObjectInputStream ois = new ObjectInputStream(socket.getInputStream());\n             PrintWriter out = new PrintWriter(socket.getOutputStream(), true)) {\n\n            // object of scanner class\n            Scanner sc = new Scanner(System.in);\n            String line = null;\n\n            while (!&quot;exit&quot;.equalsIgnoreCase(line)) {\n                // reading from user\n                line = sc.nextLine();\n\n                // sending the user input to server\n                out.println(line);\n                out.flush();\n\n                // displaying server reply\n                List&lt;Integer&gt; integers = (List&lt;Integer&gt;) ois.readObject();\n\n                System.out.println(&quot;server: &quot; + integers.get(0));\n            }\n\n            // closing the scanner object\n            sc.close();\n        } catch (IOException | ClassNotFoundException e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>Keep in mind that if you are about to send your own custom types, both sides will have to know about those to be able to serialize/deserialize. Also, your classes will have to be serializable.</p>\n"}],"owner":{"account_id":25846253,"reputation":23,"user_id":19581053,"display_name":"Fiordi Toska"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676829378,"creation_date":1676827245,"question_id":75502008,"body_markdown":"I want to send arraylist on multithreading server to client . So far i just write the conection and the clients can write and send to server msg ,the server just send back the msg to client is write somathing just sending.  My main problems is how to transfer from server to client the arraylist ?\r\ni am new on this and i dont know nothing for arralist . \r\n\r\ncode server :\r\n\r\n```\r\nimport java.io.*;\r\nimport java.net.*;\r\nimport java.util.ArrayList;\r\n\r\n// Server class\r\nclass Server {\r\n\r\n\r\n    \r\n    public static void main(String[] args)\r\n    {\r\n\r\n        private ArrayList&lt;Objects&gt; Obj = new ArrayList&lt;Objects&gt;();\r\n\r\n\r\n        // file read \r\n     //   String filePath = &quot;Hotels_new.txt&quot;;\r\n    //    System.out.println(Read_File( filePath ));\r\n\r\n\r\n\r\n        ServerSocket server = null;\r\n  \r\n        try {\r\n  \r\n            // server is listening on port 1234\r\n            server = new ServerSocket(1234);\r\n            server.setReuseAddress(true);\r\n  \r\n            // running infinite loop for getting\r\n            // client request\r\n            while (true) {\r\n  \r\n                // socket object to receive incoming client\r\n                // requests\r\n                Socket client = server.accept();\r\n  \r\n                // Displaying that new client is connected\r\n                // to server\r\n                System.out.println(&quot;New client connected&quot; + client.getInetAddress().getHostAddress());\r\n  \r\n                // create a new thread object\r\n                ClientHandler clientSock = new ClientHandler(client);\r\n  \r\n                // This thread will handle the client\r\n                // separately\r\n                new Thread(clientSock).start();\r\n            }\r\n        }\r\n        catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n        finally {\r\n            if (server != null) {\r\n                try {\r\n                    server.close();\r\n                }\r\n                catch (IOException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n        }\r\n    }\r\n  \r\n\r\n    private static String Read_File(String filePath)\r\n    {\r\n \r\n        // Declaring object of StringBuilder class\r\n        StringBuilder builder = new StringBuilder();\r\n \r\n        // try block to check for exceptions where\r\n        // object of BufferedReader class us created\r\n        // to read filepath\r\n        try (BufferedReader buffer = new BufferedReader(\r\n                 new FileReader(filePath))) {\r\n \r\n            String str;\r\n \r\n            // Condition check via buffer.readLine() method\r\n            // holding true upto that the while loop runs\r\n            while ((str = buffer.readLine()) != null) {\r\n \r\n                builder.append(str).append(&quot;\\n&quot;);\r\n            }\r\n        }\r\n \r\n        // Catch block to handle the exceptions\r\n        catch (IOException e) {\r\n \r\n            // Print the line number here exception occurred\r\n            // using printStackTrace() method\r\n            e.printStackTrace();\r\n        }\r\n \r\n        // Returning a string\r\n        return builder.toString();\r\n    }\r\n\r\n\r\n\r\n    // ClientHandler class\r\n    private static class ClientHandler implements Runnable {\r\n        private final Socket clientSocket;\r\n  \r\n        // Constructor\r\n        public ClientHandler(Socket socket)\r\n        {\r\n            this.clientSocket = socket;\r\n        }\r\n  \r\n        public void run()\r\n        {\r\n            PrintWriter out = null;\r\n            BufferedReader in = null;\r\n            try {\r\n                    \r\n                  // get the outputstream of client\r\n                out = new PrintWriter( clientSocket.getOutputStream(), true);\r\n\r\n                \r\n\r\n\r\n                  // get the inputstream of client\r\n                in = new BufferedReader(new InputStreamReader(clientSocket.getInputStream()));\r\n  \r\n                String line;\r\n                while ((line = in.readLine()) != null) {\r\n  \r\n                    // writing the received message from\r\n                    // client\r\n                    System.out.printf(&quot; Sent from the client: %s\\n&quot;,line);\r\n                    out.println(line);\r\n                }\r\n            }\r\n            catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n            finally {\r\n                try {\r\n                    if (out != null) {\r\n                        out.close();\r\n                    }\r\n                    if (in != null) \r\n                    {\r\n                        in.close();\r\n                        clientSocket.close();\r\n                    }\r\n                }\r\n                catch (IOException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\ncode client:\r\n\r\n```\r\n\r\n\r\nimport java.io.*;\r\nimport java.net.*;\r\nimport java.util.*;\r\nimport java.util.ArrayList;\r\n  \r\n// Client class\r\nclass Client {\r\n    \r\n    // driver code\r\n    public static void main(String[] args)\r\n    {\r\n        // establish a connection by providing host and port\r\n        // number\r\n        try (Socket socket = new Socket(&quot;localhost&quot;, 1234)) {\r\n            \r\n            // writing to server\r\n            PrintWriter out = new PrintWriter(\r\n                socket.getOutputStream(), true);\r\n  \r\n            // reading from server\r\n            BufferedReader in\r\n                = new BufferedReader(new InputStreamReader(\r\n                    socket.getInputStream()));\r\n  \r\n            // object of scanner class\r\n            Scanner sc = new Scanner(System.in);\r\n            String line = null;\r\n  \r\n           \r\n            while (!&quot;exit&quot;.equalsIgnoreCase(line)) {\r\n                \r\n                // reading from user\r\n                line = sc.nextLine();\r\n  \r\n                // sending the user input to server\r\n                out.println(line);\r\n                out.flush();\r\n  \r\n                // displaying server reply\r\n                System.out.println(&quot;Server replied &quot;\r\n                                   + in.readLine());\r\n            }\r\n            \r\n            // closing the scanner object\r\n            sc.close();\r\n        }\r\n        catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n","title":"How to send arralist on client by multithread server?","body":"<p>I want to send arraylist on multithreading server to client . So far i just write the conection and the clients can write and send to server msg ,the server just send back the msg to client is write somathing just sending.  My main problems is how to transfer from server to client the arraylist ?\ni am new on this and i dont know nothing for arralist .</p>\n<p>code server :</p>\n<pre><code>import java.io.*;\nimport java.net.*;\nimport java.util.ArrayList;\n\n// Server class\nclass Server {\n\n\n    \n    public static void main(String[] args)\n    {\n\n        private ArrayList&lt;Objects&gt; Obj = new ArrayList&lt;Objects&gt;();\n\n\n        // file read \n     //   String filePath = &quot;Hotels_new.txt&quot;;\n    //    System.out.println(Read_File( filePath ));\n\n\n\n        ServerSocket server = null;\n  \n        try {\n  \n            // server is listening on port 1234\n            server = new ServerSocket(1234);\n            server.setReuseAddress(true);\n  \n            // running infinite loop for getting\n            // client request\n            while (true) {\n  \n                // socket object to receive incoming client\n                // requests\n                Socket client = server.accept();\n  \n                // Displaying that new client is connected\n                // to server\n                System.out.println(&quot;New client connected&quot; + client.getInetAddress().getHostAddress());\n  \n                // create a new thread object\n                ClientHandler clientSock = new ClientHandler(client);\n  \n                // This thread will handle the client\n                // separately\n                new Thread(clientSock).start();\n            }\n        }\n        catch (IOException e) {\n            e.printStackTrace();\n        }\n        finally {\n            if (server != null) {\n                try {\n                    server.close();\n                }\n                catch (IOException e) {\n                    e.printStackTrace();\n                }\n            }\n        }\n    }\n  \n\n    private static String Read_File(String filePath)\n    {\n \n        // Declaring object of StringBuilder class\n        StringBuilder builder = new StringBuilder();\n \n        // try block to check for exceptions where\n        // object of BufferedReader class us created\n        // to read filepath\n        try (BufferedReader buffer = new BufferedReader(\n                 new FileReader(filePath))) {\n \n            String str;\n \n            // Condition check via buffer.readLine() method\n            // holding true upto that the while loop runs\n            while ((str = buffer.readLine()) != null) {\n \n                builder.append(str).append(&quot;\\n&quot;);\n            }\n        }\n \n        // Catch block to handle the exceptions\n        catch (IOException e) {\n \n            // Print the line number here exception occurred\n            // using printStackTrace() method\n            e.printStackTrace();\n        }\n \n        // Returning a string\n        return builder.toString();\n    }\n\n\n\n    // ClientHandler class\n    private static class ClientHandler implements Runnable {\n        private final Socket clientSocket;\n  \n        // Constructor\n        public ClientHandler(Socket socket)\n        {\n            this.clientSocket = socket;\n        }\n  \n        public void run()\n        {\n            PrintWriter out = null;\n            BufferedReader in = null;\n            try {\n                    \n                  // get the outputstream of client\n                out = new PrintWriter( clientSocket.getOutputStream(), true);\n\n                \n\n\n                  // get the inputstream of client\n                in = new BufferedReader(new InputStreamReader(clientSocket.getInputStream()));\n  \n                String line;\n                while ((line = in.readLine()) != null) {\n  \n                    // writing the received message from\n                    // client\n                    System.out.printf(&quot; Sent from the client: %s\\n&quot;,line);\n                    out.println(line);\n                }\n            }\n            catch (IOException e) {\n                e.printStackTrace();\n            }\n            finally {\n                try {\n                    if (out != null) {\n                        out.close();\n                    }\n                    if (in != null) \n                    {\n                        in.close();\n                        clientSocket.close();\n                    }\n                }\n                catch (IOException e) {\n                    e.printStackTrace();\n                }\n            }\n        }\n    }\n}\n</code></pre>\n<p>code client:</p>\n<pre><code>\n\nimport java.io.*;\nimport java.net.*;\nimport java.util.*;\nimport java.util.ArrayList;\n  \n// Client class\nclass Client {\n    \n    // driver code\n    public static void main(String[] args)\n    {\n        // establish a connection by providing host and port\n        // number\n        try (Socket socket = new Socket(&quot;localhost&quot;, 1234)) {\n            \n            // writing to server\n            PrintWriter out = new PrintWriter(\n                socket.getOutputStream(), true);\n  \n            // reading from server\n            BufferedReader in\n                = new BufferedReader(new InputStreamReader(\n                    socket.getInputStream()));\n  \n            // object of scanner class\n            Scanner sc = new Scanner(System.in);\n            String line = null;\n  \n           \n            while (!&quot;exit&quot;.equalsIgnoreCase(line)) {\n                \n                // reading from user\n                line = sc.nextLine();\n  \n                // sending the user input to server\n                out.println(line);\n                out.flush();\n  \n                // displaying server reply\n                System.out.println(&quot;Server replied &quot;\n                                   + in.readLine());\n            }\n            \n            // closing the scanner object\n            sc.close();\n        }\n        catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9587,"page":636,"page_size":100}
