{"items":[{"tags":["java","spring-boot","basic-authentication"],"answers":[{"comments":[{"owner":{"account_id":24069247,"reputation":5,"user_id":18045381,"display_name":"cocoz"},"score":0,"creation_date":1684897265,"post_id":76201560,"comment_id":134583178,"body_markdown":"The login feature does not exist in my project.\nWhen I got a request, I was going to check if there was a user on the db and move on.\nI know what the example sentence means, but it&#39;s not right for me.","body":"The login feature does not exist in my project. When I got a request, I was going to check if there was a user on the db and move on. I know what the example sentence means, but it&#39;s not right for me."}],"tags":[],"owner":{"account_id":8362258,"reputation":1639,"user_id":6280135,"display_name":"Maninder"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683556126,"creation_date":1683556126,"answer_id":76201560,"question_id":76180711,"body_markdown":"Working code:\r\n\r\nSecurityConfig:\r\n\r\n\r\n\r\n    @Configuration\r\n    @EnableMethodSecurity\r\n    @EnableWebSecurity\r\n    public class SecurityConfig {\r\n        @Bean\r\n        public PasswordEncoder passwordEncoder() {\r\n            return new BCryptPasswordEncoder();\r\n        }\r\n    \r\n        @Bean\r\n        public UserDetailsService userDetailsService() {\r\n            return new CustomUserDetailService();\r\n        }\r\n    \r\n        @Bean\r\n        public SecurityFilterChain filterChain(HttpSecurity httpSecurity) throws Exception {\r\n    \r\n            httpSecurity\r\n                    .csrf(a -&gt; a.disable())\r\n                    .authorizeHttpRequests((auth) -&gt; auth\r\n                            .requestMatchers( &quot;/user&quot;)\r\n                            .permitAll()\r\n                            .requestMatchers(&quot;/books/**&quot;)\r\n                            .authenticated())\r\n                    .httpBasic(Customizer.withDefaults());\r\n    \r\n            return httpSecurity.build();\r\n        }\r\n    \r\n        @Bean\r\n        public AuthenticationProvider authenticationProvider() {\r\n            DaoAuthenticationProvider authenticationProvider = new DaoAuthenticationProvider();\r\n            authenticationProvider.setUserDetailsService(userDetailsService());\r\n            authenticationProvider.setPasswordEncoder(passwordEncoder());\r\n            return authenticationProvider;\r\n        }\r\n    }\r\n\r\n\r\n\r\nService layer:\r\n\r\n    @Service\r\n    public class CustomUserDetailService implements UserDetailsService {\r\n        @Autowired\r\n        private UserRepository userRepository;\r\n    \r\n        @Autowired\r\n        PasswordEncoder encoder;\r\n    \r\n        @Override\r\n        public UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {\r\n            Optional&lt;User&gt; user = userRepository.findByUsername(username);\r\n            user.orElseThrow(() -&gt; new UsernameNotFoundException(&quot;Not found: &quot; + username));\r\n            return user.map(MyUserDetails::new).get();\r\n        }\r\n    \r\n        public String addUser(User user){\r\n            user.setPassword(encoder.encode(user.getPassword()));\r\n            userRepository.save(user);\r\n            return &quot;User saved&quot;;\r\n        }\r\n    }\r\n\r\nRepository layer:\r\n\r\n    @Repository\r\n    public interface UserRepository extends JpaRepository&lt;User, Long&gt; {\r\n        Optional&lt;User&gt; findByUsername(String username);\r\n    }\r\n\r\nUserDetials:\r\n\r\n    public class MyUserDetails implements UserDetails {\r\n        private String username;\r\n        private String password;\r\n        private boolean active;\r\n        private List&lt;GrantedAuthority&gt; authorities;\r\n    \r\n        public MyUserDetails(User user) {\r\n            username = user.getUsername();\r\n            password = user.getPassword();\r\n            active = user.isEnabled();\r\n            authorities = Arrays.stream(user.getRoles().split(&quot;,&quot;))\r\n                    .map(role -&gt; new SimpleGrantedAuthority(role))\r\n                    .collect(Collectors.toList());\r\n        }\r\n    \r\n        @Override\r\n        public Collection&lt;? extends GrantedAuthority&gt; getAuthorities() {\r\n            return authorities;\r\n        }\r\n    \r\n        @Override\r\n        public String getPassword() {\r\n            return password;\r\n        }\r\n    \r\n        @Override\r\n        public String getUsername() {\r\n            return username;\r\n        }\r\n    \r\n        @Override\r\n        public boolean isAccountNonExpired() {\r\n            return true;\r\n        }\r\n    \r\n        @Override\r\n        public boolean isAccountNonLocked() {\r\n            return true;\r\n        }\r\n    \r\n        @Override\r\n        public boolean isCredentialsNonExpired() {\r\n            return true;\r\n        }\r\n    \r\n        @Override\r\n        public boolean isEnabled() {\r\n            return active;\r\n        }\r\n    }\r\n\r\n\r\n\r\nUser class:\r\n\r\n    @Entity\r\n    @Table(name = &quot;User&quot;)\r\n    @Getter\r\n    @Setter\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    public class User {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.AUTO)\r\n        private Long id;\r\n        private String username;\r\n        private String password;\r\n        private String roles;\r\n        private boolean enabled;\r\n    }\r\n\r\n","title":"SpringBoot 2.7 SecurityfilterChain why ignore UserDetailsService?","body":"<p>Working code:</p>\n<p>SecurityConfig:</p>\n<pre><code>@Configuration\n@EnableMethodSecurity\n@EnableWebSecurity\npublic class SecurityConfig {\n    @Bean\n    public PasswordEncoder passwordEncoder() {\n        return new BCryptPasswordEncoder();\n    }\n\n    @Bean\n    public UserDetailsService userDetailsService() {\n        return new CustomUserDetailService();\n    }\n\n    @Bean\n    public SecurityFilterChain filterChain(HttpSecurity httpSecurity) throws Exception {\n\n        httpSecurity\n                .csrf(a -&gt; a.disable())\n                .authorizeHttpRequests((auth) -&gt; auth\n                        .requestMatchers( &quot;/user&quot;)\n                        .permitAll()\n                        .requestMatchers(&quot;/books/**&quot;)\n                        .authenticated())\n                .httpBasic(Customizer.withDefaults());\n\n        return httpSecurity.build();\n    }\n\n    @Bean\n    public AuthenticationProvider authenticationProvider() {\n        DaoAuthenticationProvider authenticationProvider = new DaoAuthenticationProvider();\n        authenticationProvider.setUserDetailsService(userDetailsService());\n        authenticationProvider.setPasswordEncoder(passwordEncoder());\n        return authenticationProvider;\n    }\n}\n</code></pre>\n<p>Service layer:</p>\n<pre><code>@Service\npublic class CustomUserDetailService implements UserDetailsService {\n    @Autowired\n    private UserRepository userRepository;\n\n    @Autowired\n    PasswordEncoder encoder;\n\n    @Override\n    public UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {\n        Optional&lt;User&gt; user = userRepository.findByUsername(username);\n        user.orElseThrow(() -&gt; new UsernameNotFoundException(&quot;Not found: &quot; + username));\n        return user.map(MyUserDetails::new).get();\n    }\n\n    public String addUser(User user){\n        user.setPassword(encoder.encode(user.getPassword()));\n        userRepository.save(user);\n        return &quot;User saved&quot;;\n    }\n}\n</code></pre>\n<p>Repository layer:</p>\n<pre><code>@Repository\npublic interface UserRepository extends JpaRepository&lt;User, Long&gt; {\n    Optional&lt;User&gt; findByUsername(String username);\n}\n</code></pre>\n<p>UserDetials:</p>\n<pre><code>public class MyUserDetails implements UserDetails {\n    private String username;\n    private String password;\n    private boolean active;\n    private List&lt;GrantedAuthority&gt; authorities;\n\n    public MyUserDetails(User user) {\n        username = user.getUsername();\n        password = user.getPassword();\n        active = user.isEnabled();\n        authorities = Arrays.stream(user.getRoles().split(&quot;,&quot;))\n                .map(role -&gt; new SimpleGrantedAuthority(role))\n                .collect(Collectors.toList());\n    }\n\n    @Override\n    public Collection&lt;? extends GrantedAuthority&gt; getAuthorities() {\n        return authorities;\n    }\n\n    @Override\n    public String getPassword() {\n        return password;\n    }\n\n    @Override\n    public String getUsername() {\n        return username;\n    }\n\n    @Override\n    public boolean isAccountNonExpired() {\n        return true;\n    }\n\n    @Override\n    public boolean isAccountNonLocked() {\n        return true;\n    }\n\n    @Override\n    public boolean isCredentialsNonExpired() {\n        return true;\n    }\n\n    @Override\n    public boolean isEnabled() {\n        return active;\n    }\n}\n</code></pre>\n<p>User class:</p>\n<pre><code>@Entity\n@Table(name = &quot;User&quot;)\n@Getter\n@Setter\n@NoArgsConstructor\n@AllArgsConstructor\npublic class User {\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private Long id;\n    private String username;\n    private String password;\n    private String roles;\n    private boolean enabled;\n}\n</code></pre>\n"}],"owner":{"account_id":24069247,"reputation":5,"user_id":18045381,"display_name":"cocoz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":134,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1683556126,"creation_date":1683278759,"question_id":76180711,"body_markdown":"```\r\n    @Configuration\r\n    @EnableWebSecurity\r\n    public class SecurityConfig {\r\n\r\n\t    @Autowired UserDetailsService userDetailsService;\r\n\r\n \t    @Bean\r\n\t    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n        \thttp.authorizeRequests()\r\n\t\t        .antMatchers( &quot;/**&quot; ).permitAll()\r\n\t\t        .anyRequest().authenticated()\r\n\t\t        .and().csrf().disable()\r\n\t\t        .httpBasic().and().userDetailsService( userDetailsService );\r\n\t\t    return http.build();\r\n\t    }\r\n\r\n\t    @Bean\r\n\t    public PasswordEncoder passwordEncoder() {\r\n\t\t    return new BCryptPasswordEncoder();\r\n\t    }\r\n    }\r\n```\r\n\r\n\r\n```\r\n@Service\r\npublic class UserDetailsServiceImpl implements UserDetailsService {\r\n\r\n\tprivate static final Logger            logger = LoggerFactory.getLogger( UserDetailsServiceImpl.class );\r\n\r\n\t@Autowired private DBService db;\r\n\t@Autowired private PasswordEncoder passwordEncoder;\r\n\r\n\t@Override\r\n\tpublic UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {\r\n\r\n\t\tif( username.equals( &quot; &quot; ) || username.isEmpty() ) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\r\n\t\tint ret = db.checkUser( username );\r\n\t\t\r\n        if( ret == 0 ) throw new UsernameNotFoundException( &quot;Invalid user&quot; );\r\n\r\n\t\tList&lt;GrantedAuthority&gt; authList = new ArrayList&lt;&gt;( 2 );\r\n\t\tauthList.add( new SimpleGrantedAuthority( &quot;ROLE_USER&quot; ) );\r\n\r\n\t\treturn new User( username, passwordEncoder.encode( username ), true, true, true, true, authList );\r\n\t}\r\n}\r\n```\r\n\r\nI am a beginner in springboot.\r\nI&#39;m trying to create an api server with a simple get, post function.\r\n\r\n&gt; Hypertext Transfer Protocol\r\n&gt;        GET /getcontens/1 HTTP/1.1\r\n&gt;        Accept: */*\r\n&gt;        Host: localhost:8080\r\n&gt;        Cookie: JSESSIONID=12pfvmq3rsac410tojukfkvlip\r\n&gt;        Authorization: Basic ODQ1OTY6ODQ1OTY=\r\n&gt;            Credentials: id:password\r\n\r\nThe request uses http basic authentication as above\r\n\r\nI disabled csrf to avoid 401 response due to csrf protection during post.\r\n\r\nThe problem is that if you create a securityFilterChain to disable csrf\r\n\r\nThe loadUserbyUsername function of UserDetilsService implemented in UserDetailsServiceImpl is not called.\r\n\r\nI&#39;ve been googling for the past week and I&#39;ve noticed that this is my problem not meeting the right csrf conditions\r\n\r\nCurrently, csrf is not available\r\n\r\nTo sum up the situation\r\n\r\n1. Disable csrf\r\n2. using loadUserByUsername\r\n\r\nI&#39;m asking for advice on the right path to do it\r\n\r\nThank you in advance.","title":"SpringBoot 2.7 SecurityfilterChain why ignore UserDetailsService?","body":"<pre><code>    @Configuration\n    @EnableWebSecurity\n    public class SecurityConfig {\n\n        @Autowired UserDetailsService userDetailsService;\n\n        @Bean\n        public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n            http.authorizeRequests()\n                .antMatchers( &quot;/**&quot; ).permitAll()\n                .anyRequest().authenticated()\n                .and().csrf().disable()\n                .httpBasic().and().userDetailsService( userDetailsService );\n            return http.build();\n        }\n\n        @Bean\n        public PasswordEncoder passwordEncoder() {\n            return new BCryptPasswordEncoder();\n        }\n    }\n</code></pre>\n<pre><code>@Service\npublic class UserDetailsServiceImpl implements UserDetailsService {\n\n    private static final Logger            logger = LoggerFactory.getLogger( UserDetailsServiceImpl.class );\n\n    @Autowired private DBService db;\n    @Autowired private PasswordEncoder passwordEncoder;\n\n    @Override\n    public UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {\n\n        if( username.equals( &quot; &quot; ) || username.isEmpty() ) {\n            return null;\n        }\n\n        int ret = db.checkUser( username );\n        \n        if( ret == 0 ) throw new UsernameNotFoundException( &quot;Invalid user&quot; );\n\n        List&lt;GrantedAuthority&gt; authList = new ArrayList&lt;&gt;( 2 );\n        authList.add( new SimpleGrantedAuthority( &quot;ROLE_USER&quot; ) );\n\n        return new User( username, passwordEncoder.encode( username ), true, true, true, true, authList );\n    }\n}\n</code></pre>\n<p>I am a beginner in springboot.\nI'm trying to create an api server with a simple get, post function.</p>\n<blockquote>\n<p>Hypertext Transfer Protocol\nGET /getcontens/1 HTTP/1.1\nAccept: <em>/</em>\nHost: localhost:8080\nCookie: JSESSIONID=12pfvmq3rsac410tojukfkvlip\nAuthorization: Basic ODQ1OTY6ODQ1OTY=\nCredentials: id:password</p>\n</blockquote>\n<p>The request uses http basic authentication as above</p>\n<p>I disabled csrf to avoid 401 response due to csrf protection during post.</p>\n<p>The problem is that if you create a securityFilterChain to disable csrf</p>\n<p>The loadUserbyUsername function of UserDetilsService implemented in UserDetailsServiceImpl is not called.</p>\n<p>I've been googling for the past week and I've noticed that this is my problem not meeting the right csrf conditions</p>\n<p>Currently, csrf is not available</p>\n<p>To sum up the situation</p>\n<ol>\n<li>Disable csrf</li>\n<li>using loadUserByUsername</li>\n</ol>\n<p>I'm asking for advice on the right path to do it</p>\n<p>Thank you in advance.</p>\n"},{"tags":["java","jco"],"comments":[{"owner":{"account_id":76469,"reputation":18423,"user_id":218890,"accept_rate":64,"display_name":"vwegert"},"score":0,"creation_date":1391624121,"post_id":21576628,"comment_id":32607533,"body_markdown":"I don&#39;t get it - is the function module exposing two structures or isn&#39;t it?","body":"I don&#39;t get it - is the function module exposing two structures or isn&#39;t it?"},{"owner":{"account_id":3921507,"reputation":89,"user_id":3243489,"accept_rate":50,"display_name":"bhat"},"score":0,"creation_date":1391667351,"post_id":21576628,"comment_id":32625528,"body_markdown":"Hi I am new to JCO SAP . I want to create entries in a SAP table.","body":"Hi I am new to JCO SAP . I want to create entries in a SAP table."},{"owner":{"account_id":20725,"reputation":4287,"user_id":49804,"display_name":"PATRY Guillaume"},"score":0,"creation_date":1391677152,"post_id":21576628,"comment_id":32629995,"body_markdown":"You said what you wanted to do, but not what was the problem. What did you try ? what is the problem with the filling of those structs...","body":"You said what you wanted to do, but not what was the problem. What did you try ? what is the problem with the filling of those structs..."},{"owner":{"account_id":3921507,"reputation":89,"user_id":3243489,"accept_rate":50,"display_name":"bhat"},"score":0,"creation_date":1391680042,"post_id":21576628,"comment_id":32631726,"body_markdown":"@PATRY Hi patry, equip exter number comes from one structure and corresponding equip desc i need to pass in another strucuture. but how to create the mapping that this number belongs to this description was my question. But now the problem is solved as my developer created it under same structure. plz also look this and help me.  http://stackoverflow.com/questions/21598989/sap-jco-creating-a-record-in-sap-using-java .. thank you","body":"@PATRY Hi patry, equip exter number comes from one structure and corresponding equip desc i need to pass in another strucuture. but how to create the mapping that this number belongs to this description was my question. But now the problem is solved as my developer created it under same structure. plz also look this and help me.  <a href=\"http://stackoverflow.com/questions/21598989/sap-jco-creating-a-record-in-sap-using-java\" title=\"sap jco creating a record in sap using java\">stackoverflow.com/questions/21598989/&hellip;</a> .. thank you"},{"owner":{"account_id":4789,"reputation":16106,"user_id":7381,"display_name":"Lanzelot"},"score":0,"creation_date":1520254208,"post_id":21576628,"comment_id":85226792,"body_markdown":"I also don&#39;t get it... If you want to use two structures, then just do it! What is the problem??","body":"I also don&#39;t get it... If you want to use two structures, then just do it! What is the problem??"}],"owner":{"account_id":3921507,"reputation":89,"user_id":3243489,"accept_rate":50,"display_name":"bhat"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":928,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1683556102,"creation_date":1391601507,"question_id":21576628,"body_markdown":"I had searched forum and got this below link \r\n\r\nhttp://www.apentia-forum.de/viewtopic.php?t=1962 \r\n\r\nbut here my problem is we have to pass two structures because data I want create in SAP system fall under two structures.\r\n\r\nCan anybody suggest me how can we use two structures? Or is there anything needs to be done in SAP side?\r\n\r\nHere is my code snippet:\r\n\r\n      public void createEquipment() throws JCoException{\r\n         \r\n         JCoFunction function = destinations.getRepository().getFunction(&quot;ZBAPI_EQUI_CREATE&quot;);\r\n     \r\n        if (function == null) {\r\n            throw new RuntimeException(&quot; ZBAPI_EQUI_CREATE does not exist&quot;);\r\n        }\r\n        \r\n        else{\r\n            System.out.println(&quot;BAPI  CODE -- ZBAPI_EQUI_CREATE -- EXISTS&quot;);\r\n        }\r\n       \r\n       //JCoTable eqptable=function.getTableParameterList().getTable(&quot;EUIP_EXTER_NUMBER&quot;);\r\n        JCoParameterList importparams =function.getImportParameterList();\r\n        JCoStructure eqptable1= importparams.getStructure(&quot;EUIP_EXTER_NUMBER&quot;);\r\n        //JCoStructure eqptable2= importparams.getStructure(&quot;DATA_GENERAL&quot;);\r\n\r\n\r\n       eqptable1.setValue(&quot;EQUIPMENT&quot;, 5600784);\r\n        //eqptable2.setValue(&quot;EQIPDESCR&quot;, &quot;Testing Interface Eqp&quot;);\r\n        function.execute(destinations);\r\n          \r\n         }","title":"How to use two structures in JCo for creation of data in SAP system","body":"<p>I had searched forum and got this below link</p>\n<p><a href=\"http://www.apentia-forum.de/viewtopic.php?t=1962\" rel=\"nofollow noreferrer\">http://www.apentia-forum.de/viewtopic.php?t=1962</a></p>\n<p>but here my problem is we have to pass two structures because data I want create in SAP system fall under two structures.</p>\n<p>Can anybody suggest me how can we use two structures? Or is there anything needs to be done in SAP side?</p>\n<p>Here is my code snippet:</p>\n<pre><code>  public void createEquipment() throws JCoException{\n     \n     JCoFunction function = destinations.getRepository().getFunction(&quot;ZBAPI_EQUI_CREATE&quot;);\n \n    if (function == null) {\n        throw new RuntimeException(&quot; ZBAPI_EQUI_CREATE does not exist&quot;);\n    }\n    \n    else{\n        System.out.println(&quot;BAPI  CODE -- ZBAPI_EQUI_CREATE -- EXISTS&quot;);\n    }\n   \n   //JCoTable eqptable=function.getTableParameterList().getTable(&quot;EUIP_EXTER_NUMBER&quot;);\n    JCoParameterList importparams =function.getImportParameterList();\n    JCoStructure eqptable1= importparams.getStructure(&quot;EUIP_EXTER_NUMBER&quot;);\n    //JCoStructure eqptable2= importparams.getStructure(&quot;DATA_GENERAL&quot;);\n\n\n   eqptable1.setValue(&quot;EQUIPMENT&quot;, 5600784);\n    //eqptable2.setValue(&quot;EQIPDESCR&quot;, &quot;Testing Interface Eqp&quot;);\n    function.execute(destinations);\n      \n     }\n</code></pre>\n"},{"tags":["java","android-studio","appium-android"],"owner":{"account_id":7704244,"reputation":17,"user_id":5846250,"display_name":"puneeth chidura"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683556038,"creation_date":1683556038,"question_id":76201547,"body_markdown":"I am trying to create a new Android virtual device in Android Studio and seeing the error as **&quot;An error occurred while creating the AVD. See idea.log for details.&quot;**\r\n\r\nwhen I open the idea.log it is as it is in the image.\r\nin addition to the one which is there in the image there are also other exceptions as listed below\r\n\r\n```\r\n    1) java.lang.reflect.InvocationTargetException\r\n    2) java.net.SocketTimeoutException: connect timed out\r\n    3)java.lang.NoClassDefFoundError: Could not initialize class com.sun.jna.Native\r\n    C:\\Users\\w159chpu\\AppData\\Local\\Google\\AndroidStudio2022.1\\tmp\\jna8592839284912440723.dll: Access is denied\r\n``` \r\n    \r\n[1]: https://i.stack.imgur.com/frdPq.png\r\n    \r\nCan someone please help me resolve this?","title":"how do i resolve An error occurred while creating the AVD. See idea.log for details","body":"<p>I am trying to create a new Android virtual device in Android Studio and seeing the error as <strong>&quot;An error occurred while creating the AVD. See idea.log for details.&quot;</strong></p>\n<p>when I open the idea.log it is as it is in the image.\nin addition to the one which is there in the image there are also other exceptions as listed below</p>\n<pre><code>    1) java.lang.reflect.InvocationTargetException\n    2) java.net.SocketTimeoutException: connect timed out\n    3)java.lang.NoClassDefFoundError: Could not initialize class com.sun.jna.Native\n    C:\\Users\\w159chpu\\AppData\\Local\\Google\\AndroidStudio2022.1\\tmp\\jna8592839284912440723.dll: Access is denied\n</code></pre>\n<p>Can someone please help me resolve this?</p>\n"},{"tags":["java","postgresql","spring-boot","cron","database-migration"],"comments":[{"owner":{"account_id":9772576,"reputation":77,"user_id":7374236,"display_name":"Lilia"},"score":0,"creation_date":1683556143,"post_id":76201288,"comment_id":134380625,"body_markdown":"May be ApplicationRunner/CommandLineRunner?","body":"May be ApplicationRunner/CommandLineRunner?"}],"answers":[{"comments":[{"owner":{"account_id":9772576,"reputation":77,"user_id":7374236,"display_name":"Lilia"},"score":0,"creation_date":1683556095,"post_id":76201469,"comment_id":134380618,"body_markdown":"Hi! thnx for an answer, nut i do not know what data i should insert, as it should be calculated. I updated the question.","body":"Hi! thnx for an answer, nut i do not know what data i should insert, as it should be calculated. I updated the question."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1683556289,"post_id":76201469,"comment_id":134380662,"body_markdown":"@Lilia And how will you make that calculation? Won’t you use SQL scripts and/or Java code?","body":"@Lilia And how will you make that calculation? Won’t you use SQL scripts and/or Java code?"},{"owner":{"account_id":9772576,"reputation":77,"user_id":7374236,"display_name":"Lilia"},"score":0,"creation_date":1683556745,"post_id":76201469,"comment_id":134380761,"body_markdown":"i have to entities. Company and X.  Entity X should have an id of a related company. Company id is a new field, that i added to database of X object. To get CompanyId I should create it with other ms, based on the fields of X object. So yes, i have to use Java code","body":"i have to entities. Company and X.  Entity X should have an id of a related company. Company id is a new field, that i added to database of X object. To get CompanyId I should create it with other ms, based on the fields of X object. So yes, i have to use Java code"}],"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1683555422,"creation_date":1683555422,"answer_id":76201469,"question_id":76201288,"body_markdown":"Use a [database migration][1] tool such as [*Flyway*][2] or [*Liquibase*][3] to manage [SQL][4] scripts and, optionally, executable code. \r\n\r\nThe tool tracks which scripts have been run. From that history the tool determines which scripts still need to be run, and then automatically runs them. \r\n\r\nYou asked:\r\n\r\n&gt;How this problem is called?\r\n\r\n[*Database refactoring*][5].\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Schema_migration\r\n  [2]: https://en.wikipedia.org/wiki/Flyway_(software)\r\n  [3]: https://en.wikipedia.org/wiki/Liquibase\r\n  [4]: https://en.wikipedia.org/wiki/SQL\r\n  [5]: https://en.wikipedia.org/wiki/Database_refactoring","title":"What are the best practices for one time production updating database (data migration) from microservice (without manual action)?","body":"<p>Use a <a href=\"https://en.wikipedia.org/wiki/Schema_migration\" rel=\"nofollow noreferrer\">database migration</a> tool such as <a href=\"https://en.wikipedia.org/wiki/Flyway_(software)\" rel=\"nofollow noreferrer\"><em>Flyway</em></a> or <a href=\"https://en.wikipedia.org/wiki/Liquibase\" rel=\"nofollow noreferrer\"><em>Liquibase</em></a> to manage <a href=\"https://en.wikipedia.org/wiki/SQL\" rel=\"nofollow noreferrer\">SQL</a> scripts and, optionally, executable code.</p>\n<p>The tool tracks which scripts have been run. From that history the tool determines which scripts still need to be run, and then automatically runs them.</p>\n<p>You asked:</p>\n<blockquote>\n<p>How this problem is called?</p>\n</blockquote>\n<p><a href=\"https://en.wikipedia.org/wiki/Database_refactoring\" rel=\"nofollow noreferrer\"><em>Database refactoring</em></a>.</p>\n"}],"owner":{"account_id":9772576,"reputation":77,"user_id":7374236,"display_name":"Lilia"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1683572756,"answer_count":1,"score":1,"last_activity_date":1683556037,"creation_date":1683554112,"question_id":76201288,"body_markdown":"Context : I added a new field to the database and now want to fill it with data.\r\nI need to it once for entities, that were created before this change (now the value of this new field is null, obviously). - data migration as I used to call it.\r\n\r\nI use : Java11, SpringBoot3, Postgres.\r\n\r\nThe question are : \r\n\r\n 1. what are **the best practices** to do it without manual action? / what are **the best practices** of running data migration task?\r\n 2. How this problem is called? Most of the time data migration is used in context transferring data from one db into other.\r\n\r\nWhat came to my mind : cron task ( but we need to set specific time to run this task)\r\n\r\nUpdate : \r\n\r\nThe value, that I should insert is unknown - I should somehow calculate it ( i should run some business logic, interact with other ms, and so on)\r\n\r\n","title":"What are the best practices for one time production updating database (data migration) from microservice (without manual action)?","body":"<p>Context : I added a new field to the database and now want to fill it with data.\nI need to it once for entities, that were created before this change (now the value of this new field is null, obviously). - data migration as I used to call it.</p>\n<p>I use : Java11, SpringBoot3, Postgres.</p>\n<p>The question are :</p>\n<ol>\n<li>what are <strong>the best practices</strong> to do it without manual action? / what are <strong>the best practices</strong> of running data migration task?</li>\n<li>How this problem is called? Most of the time data migration is used in context transferring data from one db into other.</li>\n</ol>\n<p>What came to my mind : cron task ( but we need to set specific time to run this task)</p>\n<p>Update :</p>\n<p>The value, that I should insert is unknown - I should somehow calculate it ( i should run some business logic, interact with other ms, and so on)</p>\n"},{"tags":["java","spring-boot","apache-kafka","spring-integration","spring-cloud"],"comments":[{"owner":{"account_id":1288095,"reputation":169336,"user_id":1240763,"display_name":"Gary Russell"},"score":0,"creation_date":1683554967,"post_id":76201293,"comment_id":134380363,"body_markdown":"`&gt;on sendData&#39;s topic.` What is that? `sendData` is just a simple channel in that configuration - do you have other consumers on it? If so, messages will be distributed to its subscribers in round robin fashion.","body":"<code>&gt;on sendData&#39;s topic.</code> What is that? <code>sendData</code> is just a simple channel in that configuration - do you have other consumers on it? If so, messages will be distributed to its subscribers in round robin fashion."},{"owner":{"account_id":10950090,"reputation":696,"user_id":8046729,"display_name":"corvo"},"score":0,"creation_date":1683555582,"post_id":76201293,"comment_id":134380515,"body_markdown":"@GaryRussell Since I am routing messages to a different channel, so whenever I do sendData.send() it should publish to test-topic. But since there&#39;s a router I expected the message to be routed to a different channel based on what the router returns. Since the router is hardcoded to return &quot;sendDataA&quot;, I expected all messages sent using sendData.send() channel to be routed to &quot;sendDataA&quot; channel i.e., published to test-topic-1. But the message is still published on test-topic.","body":"@GaryRussell Since I am routing messages to a different channel, so whenever I do sendData.send() it should publish to test-topic. But since there&#39;s a router I expected the message to be routed to a different channel based on what the router returns. Since the router is hardcoded to return &quot;sendDataA&quot;, I expected all messages sent using sendData.send() channel to be routed to &quot;sendDataA&quot; channel i.e., published to test-topic-1. But the message is still published on test-topic."},{"owner":{"account_id":3273937,"reputation":114870,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":0,"creation_date":1683557160,"post_id":76201293,"comment_id":134380847,"body_markdown":"That is not a surprise: you have a `sendData` binding configuration. So, whenever you call `sendData.send()` the message may land on the topic or on the mentioned router. The `DirectChannel` comes with a round-robin dispatching strategy by default. See Gary&#39;s answer.","body":"That is not a surprise: you have a <code>sendData</code> binding configuration. So, whenever you call <code>sendData.send()</code> the message may land on the topic or on the mentioned router. The <code>DirectChannel</code> comes with a round-robin dispatching strategy by default. See Gary&#39;s answer."},{"owner":{"account_id":10950090,"reputation":696,"user_id":8046729,"display_name":"corvo"},"score":0,"creation_date":1683560524,"post_id":76201293,"comment_id":134381652,"body_markdown":"@ArtemBilan wow, I wasn&#39;t aware that the Direct channel comes with a round-robin dispatching strategy. How can I always send it to the router?","body":"@ArtemBilan wow, I wasn&#39;t aware that the Direct channel comes with a round-robin dispatching strategy. How can I always send it to the router?"},{"owner":{"account_id":3273937,"reputation":114870,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":0,"creation_date":1683562080,"post_id":76201293,"comment_id":134381973,"body_markdown":"Why do you provide then binding for that `sendData`? See more info in docs about `DirectChannel`: https://docs.spring.io/spring-integration/docs/current/reference/html/core.html#channel-implementations-directchannel","body":"Why do you provide then binding for that <code>sendData</code>? See more info in docs about <code>DirectChannel</code>: <a href=\"https://docs.spring.io/spring-integration/docs/current/reference/html/core.html#channel-implementations-directchannel\" rel=\"nofollow noreferrer\">docs.spring.io/spring-integration/docs/current/reference/htm&zwnj;&#8203;l/&hellip;</a>"},{"owner":{"account_id":10950090,"reputation":696,"user_id":8046729,"display_name":"corvo"},"score":0,"creation_date":1683610128,"post_id":76201293,"comment_id":134388722,"body_markdown":"The binding is the topic where I want to publish the message. But, we plan to run some tests where the message should be published on a different topic. So, I am trying to see how to reroute a message to be published on one channel to instead publish on a different channel through the router.","body":"The binding is the topic where I want to publish the message. But, we plan to run some tests where the message should be published on a different topic. So, I am trying to see how to reroute a message to be published on one channel to instead publish on a different channel through the router."}],"answers":[{"comments":[{"owner":{"account_id":10950090,"reputation":696,"user_id":8046729,"display_name":"corvo"},"score":0,"creation_date":1683560502,"post_id":76201542,"comment_id":134381649,"body_markdown":"Is there a way to make the message always go the router instead of round-robin like topic-&gt;router-&gt;topic?","body":"Is there a way to make the message always go the router instead of round-robin like topic-&gt;router-&gt;topic?"},{"owner":{"account_id":1288095,"reputation":169336,"user_id":1240763,"display_name":"Gary Russell"},"score":0,"creation_date":1683560580,"post_id":76201542,"comment_id":134381673,"body_markdown":"Only by removing the binding definition for `sendData` (or set its `autoStartup` to `false`).","body":"Only by removing the binding definition for <code>sendData</code> (or set its <code>autoStartup</code> to <code>false</code>)."}],"tags":[],"owner":{"account_id":1288095,"reputation":169336,"user_id":1240763,"display_name":"Gary Russell"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1683555985,"creation_date":1683555985,"answer_id":76201542,"question_id":76201293,"body_markdown":"With that configuration, you have two subscribers, the binding and the router.\r\n\r\nThe first message will (probably) go to the binding, the second will go to the router, the third to the binding, etc.\r\n\r\nIf you want it to go to both places, change `sendData` to a `publishSubscribe` channel.","title":"Routing a kafka message to be published on a different channel spring boot","body":"<p>With that configuration, you have two subscribers, the binding and the router.</p>\n<p>The first message will (probably) go to the binding, the second will go to the router, the third to the binding, etc.</p>\n<p>If you want it to go to both places, change <code>sendData</code> to a <code>publishSubscribe</code> channel.</p>\n"}],"owner":{"account_id":10950090,"reputation":696,"user_id":8046729,"display_name":"corvo"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":95,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1683555985,"creation_date":1683554136,"question_id":76201293,"body_markdown":"I have three outbound channels &quot;sendData&quot;, &quot;sendDataA&quot;, &quot;sendDataB&quot; pointing to three topics test-topic, test-topic-1, test-topic-2 respectively. I wanted to know if its possible route messages on channel sendData to either sendDataA or sendDataB? Basically when sendData.send() method is called, I want the message to be published on the topic corresponding to sendDataA(test-topic-1) or sendDataB(test-topic-2).\r\n\r\nHere&#39;s what I tried:\r\n\r\n```\r\n@Configuration\r\npublic class OutboundChannels {\r\n\r\n    @Autowired\r\n    private RoundRobinRouter roundRobinRouter;\r\n\r\n    @Bean\r\n    public IntegrationFlow routeRoundRobin() {\r\n        return IntegrationFlows.from(getSendData())\r\n                .route(roundRobinRouter, &quot;route&quot;,\r\n                        r -&gt; r.channelMapping(&quot;sendDataA&quot;,\r\n                                        &quot;sendDataA&quot;)\r\n                                .channelMapping(&quot;sendDataB&quot;,\r\n                                        &quot;sendDataB&quot;))\r\n                .get();\r\n    }\r\n\r\n    @Bean(name = &quot;sendData&quot;)\r\n    public MessageChannel getSendData() {\r\n        return MessageChannels.direct()\r\n                .get();\r\n    }\r\n\r\n    @Bean(name = &quot;sendDataA&quot;)\r\n    public MessageChannel getSendDataA() {\r\n        return MessageChannels.direct()\r\n                .get();\r\n    }\r\n\r\n    @Bean(name = &quot;sendDataB&quot;)\r\n    public MessageChannel getSendDataB() {\r\n        return MessageChannels.direct()\r\n                .get();\r\n    }\r\n}\r\n```\r\nThe round robin class(currently there&#39;s no logic here it always returns sendDataA):\r\n```\r\n@Component\r\nclass RoundRobinRouter {\r\n    public String route(Object payload) {\r\n        return &quot;sendDataA&quot;;\r\n    }\r\n}\r\n```\r\n\r\ntopic binding in application.yml:\r\n```\r\n    stream:\r\n      bindings:\r\n        sendData:\r\n          destination: test-topic\r\n          binder: kafka\r\n        sendDataOne:\r\n          destination: test-topic-1\r\n          binder: kafka\r\n        sendDataTwo:\r\n          destination: test-topic-2\r\n          binder: kafka\r\n```\r\nHowever, this isn&#39;t working. The message is not routed to sendDataA but instead published on sendData&#39;s topic.\r\n\r\nAny pointers on a fix for my approach or any other approach to achieve the same is appreciated.","title":"Routing a kafka message to be published on a different channel spring boot","body":"<p>I have three outbound channels &quot;sendData&quot;, &quot;sendDataA&quot;, &quot;sendDataB&quot; pointing to three topics test-topic, test-topic-1, test-topic-2 respectively. I wanted to know if its possible route messages on channel sendData to either sendDataA or sendDataB? Basically when sendData.send() method is called, I want the message to be published on the topic corresponding to sendDataA(test-topic-1) or sendDataB(test-topic-2).</p>\n<p>Here's what I tried:</p>\n<pre><code>@Configuration\npublic class OutboundChannels {\n\n    @Autowired\n    private RoundRobinRouter roundRobinRouter;\n\n    @Bean\n    public IntegrationFlow routeRoundRobin() {\n        return IntegrationFlows.from(getSendData())\n                .route(roundRobinRouter, &quot;route&quot;,\n                        r -&gt; r.channelMapping(&quot;sendDataA&quot;,\n                                        &quot;sendDataA&quot;)\n                                .channelMapping(&quot;sendDataB&quot;,\n                                        &quot;sendDataB&quot;))\n                .get();\n    }\n\n    @Bean(name = &quot;sendData&quot;)\n    public MessageChannel getSendData() {\n        return MessageChannels.direct()\n                .get();\n    }\n\n    @Bean(name = &quot;sendDataA&quot;)\n    public MessageChannel getSendDataA() {\n        return MessageChannels.direct()\n                .get();\n    }\n\n    @Bean(name = &quot;sendDataB&quot;)\n    public MessageChannel getSendDataB() {\n        return MessageChannels.direct()\n                .get();\n    }\n}\n</code></pre>\n<p>The round robin class(currently there's no logic here it always returns sendDataA):</p>\n<pre><code>@Component\nclass RoundRobinRouter {\n    public String route(Object payload) {\n        return &quot;sendDataA&quot;;\n    }\n}\n</code></pre>\n<p>topic binding in application.yml:</p>\n<pre><code>    stream:\n      bindings:\n        sendData:\n          destination: test-topic\n          binder: kafka\n        sendDataOne:\n          destination: test-topic-1\n          binder: kafka\n        sendDataTwo:\n          destination: test-topic-2\n          binder: kafka\n</code></pre>\n<p>However, this isn't working. The message is not routed to sendDataA but instead published on sendData's topic.</p>\n<p>Any pointers on a fix for my approach or any other approach to achieve the same is appreciated.</p>\n"},{"tags":["java","jco"],"comments":[{"owner":{"account_id":20725,"reputation":4287,"user_id":49804,"display_name":"PATRY Guillaume"},"score":0,"creation_date":1391680681,"post_id":21598989,"comment_id":32632135,"body_markdown":"you&#39;ve got an abap dump. You&#39;ll have to look into transaction st22 on the abap backendto get the line in the function module, as well as the line","body":"you&#39;ve got an abap dump. You&#39;ll have to look into transaction st22 on the abap backendto get the line in the function module, as well as the line"},{"owner":{"account_id":3921507,"reputation":89,"user_id":3243489,"accept_rate":50,"display_name":"bhat"},"score":0,"creation_date":1391691649,"post_id":21598989,"comment_id":32639128,"body_markdown":"now we can  create data in SAP .But still showing dump error in java console as well as in SAP.thank you , we did what u have told...now we are looking at how to rectify this problem.can u give any suggestions.","body":"now we can  create data in SAP .But still showing dump error in java console as well as in SAP.thank you , we did what u have told...now we are looking at how to rectify this problem.can u give any suggestions."},{"owner":{"account_id":20725,"reputation":4287,"user_id":49804,"display_name":"PATRY Guillaume"},"score":0,"creation_date":1391693938,"post_id":21598989,"comment_id":32640696,"body_markdown":"we may help, but we would need at least some info. the code of the funcytion, line causing the dump (from st22) and kind of error...","body":"we may help, but we would need at least some info. the code of the funcytion, line causing the dump (from st22) and kind of error..."},{"owner":{"account_id":3921507,"reputation":89,"user_id":3243489,"accept_rate":50,"display_name":"bhat"},"score":0,"creation_date":1391747800,"post_id":21598989,"comment_id":32667790,"body_markdown":"JCoFunction function = destinations.getRepository().getFunction(&quot;xxx_xxx_xxxx&quot;);","body":"JCoFunction function = destinations.getRepository().getFunction(&quot;xxx_xxx_xxxx&quot;);"},{"owner":{"account_id":20725,"reputation":4287,"user_id":49804,"display_name":"PATRY Guillaume"},"score":0,"creation_date":1391989640,"post_id":21598989,"comment_id":32750304,"body_markdown":"i meant the abap function. the problem is on the abap side, not on the java side.","body":"i meant the abap function. the problem is on the abap side, not on the java side."}],"answers":[{"tags":[],"owner":{"account_id":8767058,"reputation":41,"user_id":6555074,"display_name":"Klaus Hopp"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1467792460,"creation_date":1467792460,"answer_id":38219110,"question_id":21598989,"body_markdown":"Since there is a short dump, we need to check the transaction code [ST22][1] to check the exact error for the issue. Then we can adjust the calling code according to the dump details.\r\n\r\n\r\n  [1]: https://www.sapdatasheet.org/abap/tran/st22.html","title":"SAP JCo creating a record in SAP system using Java","body":"<p>Since there is a short dump, we need to check the transaction code <a href=\"https://www.sapdatasheet.org/abap/tran/st22.html\" rel=\"nofollow\">ST22</a> to check the exact error for the issue. Then we can adjust the calling code according to the dump details.</p>\n"}],"owner":{"account_id":3921507,"reputation":89,"user_id":3243489,"accept_rate":50,"display_name":"bhat"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":415,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1683555969,"creation_date":1391679612,"question_id":21598989,"body_markdown":"I am trying to create an entry in SAP system with the functions and structures I got from ABAP.\r\nI was referring to this link\r\nhttps://stackoverflow.com/questions/8534602/creating-purchase-info-record-in-sap\r\n\r\nThe same problem happens to me. I could not see the record. When we are checking ERRORS as suggested by the above post.... We got this error..\r\n\r\n\r\n&gt; RFC_ERROR_SYSTEM_FAILURE: THE CURRENT APPLICATION TRIGGERED A\r\n&gt; TERMINATION WITH A SHORT DUMP.\r\n\r\n","title":"SAP JCo creating a record in SAP system using Java","body":"<p>I am trying to create an entry in SAP system with the functions and structures I got from ABAP.\nI was referring to this link\n<a href=\"https://stackoverflow.com/questions/8534602/creating-purchase-info-record-in-sap\">Creating Purchase Info Record in SAP</a></p>\n<p>The same problem happens to me. I could not see the record. When we are checking ERRORS as suggested by the above post.... We got this error..</p>\n<blockquote>\n<p>RFC_ERROR_SYSTEM_FAILURE: THE CURRENT APPLICATION TRIGGERED A\nTERMINATION WITH A SHORT DUMP.</p>\n</blockquote>\n"},{"tags":["java","jco"],"answers":[{"tags":[],"owner":{"account_id":2922140,"reputation":482,"user_id":2504156,"accept_rate":70,"display_name":"Gana"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1404477719,"creation_date":1404477719,"answer_id":24574617,"question_id":21621017,"body_markdown":"Try adding the property to your windows &quot;System variables&quot;/&quot;Environment variables&quot;.\r\n\r\nVariable Name: java.library.path\r\nVariable Value: C:/SAPJCo\r\n\r\nThis will work for Eclise.\r\n\r\nGood Luck!!","title":"SAP Jar not getting recognized in Eclipse","body":"<p>Try adding the property to your windows \"System variables\"/\"Environment variables\".</p>\n\n<p>Variable Name: java.library.path\nVariable Value: C:/SAPJCo</p>\n\n<p>This will work for Eclise.</p>\n\n<p>Good Luck!!</p>\n"}],"owner":{"account_id":3921507,"reputation":89,"user_id":3243489,"accept_rate":50,"display_name":"bhat"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2281,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1683555900,"creation_date":1391755417,"question_id":21621017,"body_markdown":"My java program which I created could not recognize `SAPJCO3.jar` which is already in the system class path and included in eclipse/project with buildpath option available in Eclipse.\r\n\r\n**ERROR MESSAGE** \r\n&gt; java.lang.ClassNotFoundException: No ClassLoaders found for: com.sap.conn.jco.AbapException\r\n&gt;\r\n&gt; Caused by: java.lang.RuntimeException: java.lang.NoClassDefFoundError: com/sap/conn/jco/AbapException\r\n\r\nIf I just remove `AbapException`  from my program and give normal Java exception , it throws error on the next JCo class. The same program works good in NETBEANS which I used for testing. Since my actual project was developed in Eclipse I need the program to run in Eclipse.\r\nCan any one help me with this. ","title":"SAP Jar not getting recognized in Eclipse","body":"<p>My java program which I created could not recognize <code>SAPJCO3.jar</code> which is already in the system class path and included in eclipse/project with buildpath option available in Eclipse.</p>\n<p><strong>ERROR MESSAGE</strong></p>\n<blockquote>\n<p>java.lang.ClassNotFoundException: No ClassLoaders found for: com.sap.conn.jco.AbapException</p>\n<p>Caused by: java.lang.RuntimeException: java.lang.NoClassDefFoundError: com/sap/conn/jco/AbapException</p>\n</blockquote>\n<p>If I just remove <code>AbapException</code>  from my program and give normal Java exception , it throws error on the next JCo class. The same program works good in NETBEANS which I used for testing. Since my actual project was developed in Eclipse I need the program to run in Eclipse.\nCan any one help me with this.</p>\n"},{"tags":["java","jco"],"comments":[{"owner":{"account_id":1741536,"reputation":1569,"user_id":1592796,"accept_rate":92,"display_name":"devrys"},"score":0,"creation_date":1392882654,"post_id":21695049,"comment_id":33167693,"body_markdown":"I have answered to one of your posts, maybe this works for you, too: http://stackoverflow.com/a/21901220/1592796","body":"I have answered to one of your posts, maybe this works for you, too: <a href=\"http://stackoverflow.com/a/21901220/1592796\">stackoverflow.com/a/21901220/1592796</a>"}],"answers":[{"tags":[],"owner":{"account_id":76469,"reputation":18423,"user_id":218890,"accept_rate":64,"display_name":"vwegert"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1392104886,"creation_date":1392104886,"answer_id":21695993,"question_id":21695049,"body_markdown":"SAP JCo is a proprietary closed-source library. Unless you work for SAP, you won&#39;t get the source files - and you&#39;re not allowed to include the source or binary form of JCo anyway.","title":"SAP JCo3 source files","body":"<p>SAP JCo is a proprietary closed-source library. Unless you work for SAP, you won't get the source files - and you're not allowed to include the source or binary form of JCo anyway.</p>\n"}],"owner":{"account_id":3921507,"reputation":89,"user_id":3243489,"accept_rate":50,"display_name":"bhat"},"comment_count":1,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":826,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1392108534,"accepted_answer_id":21695993,"answer_count":1,"score":-1,"last_activity_date":1683555833,"creation_date":1392101432,"question_id":21695049,"body_markdown":"In my previous post I have mentioned that my `sapjco3.jar` is not getting recognized in Eclipse. I tried various suggestions. But nothing works in Eclipse. \r\n\r\nSo I am thinking of getting the SAP JCo3 source files and including it in my project along with my code.\r\n\r\nSo can any one tell me, is it available anywhere. \r\n\r\nThanks","title":"SAP JCo3 source files","body":"<p>In my previous post I have mentioned that my <code>sapjco3.jar</code> is not getting recognized in Eclipse. I tried various suggestions. But nothing works in Eclipse.</p>\n<p>So I am thinking of getting the SAP JCo3 source files and including it in my project along with my code.</p>\n<p>So can any one tell me, is it available anywhere.</p>\n<p>Thanks</p>\n"},{"tags":["java","android","android-arrayadapter"],"comments":[{"owner":{"account_id":9325217,"reputation":356,"user_id":6922752,"display_name":"Gregor Rant"},"score":0,"creation_date":1626171507,"post_id":68360459,"comment_id":120816111,"body_markdown":"Does this answer your question? [android how to set arrayAdapter layout that prepared programmatically](https://stackoverflow.com/questions/15518662/android-how-to-set-arrayadapter-layout-that-prepared-programmatically)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/15518662/android-how-to-set-arrayadapter-layout-that-prepared-programmatically\">android how to set arrayAdapter layout that prepared programmatically</a>"},{"owner":{"account_id":20670469,"reputation":87,"user_id":15176346,"display_name":"Oseamiya"},"score":0,"creation_date":1626185117,"post_id":68360459,"comment_id":120821854,"body_markdown":"No , it don&#39;t @GregorRant","body":"No , it don&#39;t @GregorRant"}],"answers":[{"tags":[],"owner":{"account_id":20013244,"reputation":1040,"user_id":14669853,"display_name":"Cactusroot"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1626174752,"creation_date":1626174444,"answer_id":68361259,"question_id":68360459,"body_markdown":"I did not quite get the question, hope this helps:\r\n\r\n**How to get the view id**\r\n\r\nIf you programatically created a view and want to get its id, you need to call this:\r\n\r\n    view.setId(View.generateViewId());\r\n    int id = view.getId();\r\n\r\nSame goes for Layouts (classes that extend `Viewgroup`), because they are views (`ViewGroup` extends `View`).\r\n\r\n**Code example:**\r\n\r\n    layout.setId(View.generateViewId());\r\n    view.setId(View.generateViewId());\r\n    ArrayAdapter&lt;?&gt; adapter = new ArrayAdapter(this, layout.getId(), view.getId());\r\n\r\n**How to apply an ArrayAdapter**\r\n\r\nEvery object that extends `AbsListView` has a `setAdapter()`-Method, in that you can pass an ArrayAdapter.","title":"How to apply ArrayAdapter parameters as programatically made layout?","body":"<p>I did not quite get the question, hope this helps:</p>\n<p><strong>How to get the view id</strong></p>\n<p>If you programatically created a view and want to get its id, you need to call this:</p>\n<pre><code>view.setId(View.generateViewId());\nint id = view.getId();\n</code></pre>\n<p>Same goes for Layouts (classes that extend <code>Viewgroup</code>), because they are views (<code>ViewGroup</code> extends <code>View</code>).</p>\n<p><strong>Code example:</strong></p>\n<pre><code>layout.setId(View.generateViewId());\nview.setId(View.generateViewId());\nArrayAdapter&lt;?&gt; adapter = new ArrayAdapter(this, layout.getId(), view.getId());\n</code></pre>\n<p><strong>How to apply an ArrayAdapter</strong></p>\n<p>Every object that extends <code>AbsListView</code> has a <code>setAdapter()</code>-Method, in that you can pass an ArrayAdapter.</p>\n"}],"owner":{"account_id":20670469,"reputation":87,"user_id":15176346,"display_name":"Oseamiya"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":68361259,"answer_count":1,"score":0,"last_activity_date":1683555430,"creation_date":1626171177,"question_id":68360459,"body_markdown":"For ArrayAdapter,\r\n\r\n    ArrayAdapter &lt;String&gt; arrayAdapter = new ArrayAdapter(Context , resId , viewId , String[]) \r\n\r\nWe need to have resId and viewId but how can i use Custom programmatically made Android Views ??\r\nIs there any way so that i can apply programatically made layouts in this ArrayAdapter ??\r\n","title":"How to apply ArrayAdapter parameters as programatically made layout?","body":"<p>For ArrayAdapter,</p>\n<pre><code>ArrayAdapter &lt;String&gt; arrayAdapter = new ArrayAdapter(Context , resId , viewId , String[]) \n</code></pre>\n<p>We need to have resId and viewId but how can i use Custom programmatically made Android Views ??\nIs there any way so that i can apply programatically made layouts in this ArrayAdapter ??</p>\n"},{"tags":["java","android","button","height","padding"],"answers":[{"comments":[{"owner":{"account_id":1248641,"reputation":2466,"user_id":1209544,"display_name":"EMalik"},"score":0,"creation_date":1479250442,"post_id":26390446,"comment_id":68476520,"body_markdown":"Not working for me.\nI have used both `.setPadding( 0,0,0,0 )` and `.setMinimumHeight( 0 );` but no use.  BTW, my buttons are inside a `android.support.v7.widget.GridLayout` not sure if that matters.","body":"Not working for me. I have used both <code>.setPadding( 0,0,0,0 )</code> and <code>.setMinimumHeight( 0 );</code> but no use.  BTW, my buttons are inside a <code>android.support.v7.widget.GridLayout</code> not sure if that matters."}],"tags":[],"owner":{"account_id":400660,"reputation":4729,"user_id":766755,"display_name":"Michael Krause"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1413400939,"creation_date":1413400939,"answer_id":26390446,"question_id":26390303,"body_markdown":"I think you should try using setPadding(0,0,0,0); instead and see if that works for you.\r\n\r\nAs far as minHeight vs minimumHeight goes, minHeight is the XML attribute name you can use in a layout file.  setMinimumHeight is the corresponding View API method to do the same thing.","title":"Android : overriding Button minheight programmatically","body":"<p>I think you should try using setPadding(0,0,0,0); instead and see if that works for you.</p>\n\n<p>As far as minHeight vs minimumHeight goes, minHeight is the XML attribute name you can use in a layout file.  setMinimumHeight is the corresponding View API method to do the same thing.</p>\n"},{"comments":[{"owner":{"account_id":486111,"reputation":3782,"user_id":902832,"accept_rate":44,"display_name":"aaronmarino"},"score":1,"creation_date":1505222407,"post_id":41525925,"comment_id":79317357,"body_markdown":"You&#39;re not the only one. I also found I couldn&#39;t override the minimum height in my custom AppCompatButton without calling _both_ of these.","body":"You&#39;re not the only one. I also found I couldn&#39;t override the minimum height in my custom AppCompatButton without calling <i>both</i> of these."},{"owner":{"account_id":112033,"reputation":9456,"user_id":295675,"accept_rate":69,"display_name":"David Liu"},"score":3,"creation_date":1519767293,"post_id":41525925,"comment_id":85041742,"body_markdown":"For future people who run into this, setMinHeight is defined by TextView, while setMinimumHeight is defined by View. According to the API docs, the greater of the two values is used, so both must be set. https://developer.android.com/reference/android/widget/TextView.html#setMinHeight(int)","body":"For future people who run into this, setMinHeight is defined by TextView, while setMinimumHeight is defined by View. According to the API docs, the greater of the two values is used, so both must be set. <a href=\"https://developer.android.com/reference/android/widget/TextView.html#setMinHeight(int)\" rel=\"nofollow noreferrer\">developer.android.com/reference/android/widget/&hellip;</a>"},{"owner":{"account_id":112033,"reputation":9456,"user_id":295675,"accept_rate":69,"display_name":"David Liu"},"score":2,"creation_date":1519767490,"post_id":41525925,"comment_id":85041839,"body_markdown":"Additionally, the minHeight attribute in XML corresponds to the setMinimumHeight method, not the setMinHeight method, so be careful.","body":"Additionally, the minHeight attribute in XML corresponds to the setMinimumHeight method, not the setMinHeight method, so be careful."}],"tags":[],"owner":{"account_id":382438,"reputation":4611,"user_id":737655,"accept_rate":94,"display_name":"Flot2011"},"comment_count":3,"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1524842477,"creation_date":1483819507,"answer_id":41525925,"question_id":26390303,"body_markdown":"Just calling \r\n\r\n    btn.setMinHeight(0);\r\n\r\nor\r\n\r\n    btn.setMinimumHeight(0);\r\n\r\ndidn&#39;t work for me.\r\n\r\nIt worked when I called both methods, like that:\r\n\r\n    btn.setMinHeight(0);\r\n    btn.setMinimumHeight(0);\r\nChecked and rechecked, it&#39;s definitely the case, as weird as it looks.\r\n\r\nButton was created programmatically, no XML, but it was a part of a custom numeric control that does have an XML description.\r\n\r\nEDIT:\r\n\r\nsetMinHeight is defined by TextView, while setMinimumHeight is defined by View. According to the docs, the greater of the two values is used, so both must be set. minHeight attribute in XML corresponds to the setMinimumHeight method.\r\nThanks to@David Liu for this clarification.","title":"Android : overriding Button minheight programmatically","body":"<p>Just calling </p>\n\n<pre><code>btn.setMinHeight(0);\n</code></pre>\n\n<p>or</p>\n\n<pre><code>btn.setMinimumHeight(0);\n</code></pre>\n\n<p>didn't work for me.</p>\n\n<p>It worked when I called both methods, like that:</p>\n\n<pre><code>btn.setMinHeight(0);\nbtn.setMinimumHeight(0);\n</code></pre>\n\n<p>Checked and rechecked, it's definitely the case, as weird as it looks.</p>\n\n<p>Button was created programmatically, no XML, but it was a part of a custom numeric control that does have an XML description.</p>\n\n<p>EDIT:</p>\n\n<p>setMinHeight is defined by TextView, while setMinimumHeight is defined by View. According to the docs, the greater of the two values is used, so both must be set. minHeight attribute in XML corresponds to the setMinimumHeight method.\nThanks to@David Liu for this clarification.</p>\n"},{"tags":[],"owner":{"account_id":8743571,"reputation":4199,"user_id":7194773,"accept_rate":83,"display_name":"Lewis Kelsey"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683555423,"creation_date":1683555423,"answer_id":76201470,"question_id":26390303,"body_markdown":"The solution for me was\r\n            \r\n```\r\nandroid:insetTop=&quot;0dp&quot;\r\nandroid:insetBottom=&quot;0dp&quot;\r\n````\r\n\r\nin the button XML","title":"Android : overriding Button minheight programmatically","body":"<p>The solution for me was</p>\n<pre><code>android:insetTop=&quot;0dp&quot;\nandroid:insetBottom=&quot;0dp&quot;\n</code></pre>\n<p>in the button XML</p>\n"}],"owner":{"account_id":4815894,"reputation":7928,"user_id":3888000,"accept_rate":57,"display_name":"Dan Chaltiel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4935,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":26390446,"answer_count":3,"score":4,"last_activity_date":1683555423,"creation_date":1413400469,"question_id":26390303,"body_markdown":"Searching how to reduce the padding inside my buttons, I found out in https://stackoverflow.com/a/20323723/3888000 that I should set the min-height of my button to 0dp in the xml file.\r\nAnd yes, it works for me.\r\n\r\nProblem is : I want to create my button programmatically, and neither setMinimumHeight(1) nor setMinHeight(1) did work.\r\nHow to do it ?\r\n\r\nBy the way, what is the difference between these two methods ?\r\n\r\nThank you !","title":"Android : overriding Button minheight programmatically","body":"<p>Searching how to reduce the padding inside my buttons, I found out in <a href=\"https://stackoverflow.com/a/20323723/3888000\">https://stackoverflow.com/a/20323723/3888000</a> that I should set the min-height of my button to 0dp in the xml file.\nAnd yes, it works for me.</p>\n\n<p>Problem is : I want to create my button programmatically, and neither setMinimumHeight(1) nor setMinHeight(1) did work.\nHow to do it ?</p>\n\n<p>By the way, what is the difference between these two methods ?</p>\n\n<p>Thank you !</p>\n"},{"tags":["java","android","alarmmanager"],"answers":[{"comments":[{"owner":{"account_id":28547003,"reputation":3,"user_id":21852320,"display_name":"hegelty"},"score":0,"creation_date":1683557731,"post_id":76201368,"comment_id":134380989,"body_markdown":"Well, I found my problem. I made cancel function and I&#39;ve never call that function...","body":"Well, I found my problem. I made cancel function and I&#39;ve never call that function..."}],"tags":[],"owner":{"account_id":11341228,"reputation":61,"user_id":8315245,"display_name":"Arun Gohil"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1683554732,"creation_date":1683554732,"answer_id":76201368,"question_id":76201213,"body_markdown":"It looks like the case where your id is different while creating and cancelling the alarm.\r\n\r\n    PendingIntent pendingIntent =\r\n        PendingIntent.getBroadcast(\r\n                context,\r\n                id, // should be same for both, creating and cancelling\r\n                intent,\r\n                PendingIntent.FLAG_NO_CREATE | PendingIntent.FLAG_IMMUTABLE);\r\n\r\nThe id value should be same in both cases.\r\nHope it helps.","title":"Android AlarmManager cancel not works","body":"<p>It looks like the case where your id is different while creating and cancelling the alarm.</p>\n<pre><code>PendingIntent pendingIntent =\n    PendingIntent.getBroadcast(\n            context,\n            id, // should be same for both, creating and cancelling\n            intent,\n            PendingIntent.FLAG_NO_CREATE | PendingIntent.FLAG_IMMUTABLE);\n</code></pre>\n<p>The id value should be same in both cases.\nHope it helps.</p>\n"}],"owner":{"account_id":28547003,"reputation":3,"user_id":21852320,"display_name":"hegelty"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76201368,"answer_count":1,"score":0,"last_activity_date":1683554732,"creation_date":1683553466,"question_id":76201213,"body_markdown":"I&#39;ve created an alarm manager and it works well, but i cannot cancel it. I created a intent in same code as used in create alarm manager and cancel alarm but dosent works. An alarm is sitll working very well...\r\n\r\n\r\nCreate Alarm\r\n\r\n\r\n    Intent intent = new Intent(context, AlarmReciver.class);\r\n    intent.putExtra(&quot;alarm&quot;, id);\r\n    intent.putExtra(&quot;h&quot;, h);\r\n    intent.putExtra(&quot;m&quot;, m);\r\n    intent.putExtra(&quot;sound&quot;, sound);\r\n    intent.putExtra(&quot;vibration&quot;, vibration);\r\n    intent.putExtra(&quot;name&quot;, name);\r\n    intent.putExtra(&quot;problem_type&quot;, problem_type);\r\n\r\n    PendingIntent pendingIntent =\r\n            PendingIntent.getBroadcast(\r\n                    context,\r\n                    id,\r\n                    intent,\r\n                    PendingIntent.FLAG_UPDATE_CURRENT | PendingIntent.FLAG_IMMUTABLE);\r\n\r\n    AlarmManager alarmManager = (AlarmManager) context.getSystemService(ALARM_SERVICE);\r\n    alarmManager.setExactAndAllowWhileIdle(\r\n            AlarmManager.RTC_WAKEUP,\r\n            calendar.getTimeInMillis(),\r\n            pendingIntent\r\n    );\r\n\r\nCancel alarm\r\n\r\n    Intent intent = new Intent(context, AlarmReciver.class);\r\n    Alarm alarm = getAlarm(id);\r\n    intent.putExtra(&quot;alarm&quot;, id);\r\n    intent.putExtra(&quot;h&quot;, alarm.h);\r\n    intent.putExtra(&quot;m&quot;, alarm.m);\r\n    intent.putExtra(&quot;sound&quot;, alarm.sound);\r\n    intent.putExtra(&quot;vibration&quot;, alarm.vibration);\r\n    intent.putExtra(&quot;name&quot;, alarm.name);\r\n    intent.putExtra(&quot;problem_type&quot;, alarm.problem_type);\r\n\r\n    PendingIntent pendingIntent = // 등록했을 때의 인텐트랑 같아야 삭제됨\r\n            PendingIntent.getBroadcast(\r\n                    context,\r\n                    id,\r\n                    intent,\r\n                    PendingIntent.FLAG_NO_CREATE | PendingIntent.FLAG_IMMUTABLE);\r\n\r\n    AlarmManager alarmManager = (AlarmManager) context.getSystemService(ALARM_SERVICE);\r\n    alarmManager.cancel(pendingIntent);","title":"Android AlarmManager cancel not works","body":"<p>I've created an alarm manager and it works well, but i cannot cancel it. I created a intent in same code as used in create alarm manager and cancel alarm but dosent works. An alarm is sitll working very well...</p>\n<p>Create Alarm</p>\n<pre><code>Intent intent = new Intent(context, AlarmReciver.class);\nintent.putExtra(&quot;alarm&quot;, id);\nintent.putExtra(&quot;h&quot;, h);\nintent.putExtra(&quot;m&quot;, m);\nintent.putExtra(&quot;sound&quot;, sound);\nintent.putExtra(&quot;vibration&quot;, vibration);\nintent.putExtra(&quot;name&quot;, name);\nintent.putExtra(&quot;problem_type&quot;, problem_type);\n\nPendingIntent pendingIntent =\n        PendingIntent.getBroadcast(\n                context,\n                id,\n                intent,\n                PendingIntent.FLAG_UPDATE_CURRENT | PendingIntent.FLAG_IMMUTABLE);\n\nAlarmManager alarmManager = (AlarmManager) context.getSystemService(ALARM_SERVICE);\nalarmManager.setExactAndAllowWhileIdle(\n        AlarmManager.RTC_WAKEUP,\n        calendar.getTimeInMillis(),\n        pendingIntent\n);\n</code></pre>\n<p>Cancel alarm</p>\n<pre><code>Intent intent = new Intent(context, AlarmReciver.class);\nAlarm alarm = getAlarm(id);\nintent.putExtra(&quot;alarm&quot;, id);\nintent.putExtra(&quot;h&quot;, alarm.h);\nintent.putExtra(&quot;m&quot;, alarm.m);\nintent.putExtra(&quot;sound&quot;, alarm.sound);\nintent.putExtra(&quot;vibration&quot;, alarm.vibration);\nintent.putExtra(&quot;name&quot;, alarm.name);\nintent.putExtra(&quot;problem_type&quot;, alarm.problem_type);\n\nPendingIntent pendingIntent = // 등록했을 때의 인텐트랑 같아야 삭제됨\n        PendingIntent.getBroadcast(\n                context,\n                id,\n                intent,\n                PendingIntent.FLAG_NO_CREATE | PendingIntent.FLAG_IMMUTABLE);\n\nAlarmManager alarmManager = (AlarmManager) context.getSystemService(ALARM_SERVICE);\nalarmManager.cancel(pendingIntent);\n</code></pre>\n"},{"tags":["java","spring-boot","configuration","application.properties"],"comments":[{"owner":{"account_id":15168430,"reputation":173,"user_id":10945276,"display_name":"roediGERhard"},"score":0,"creation_date":1683552204,"post_id":76200871,"comment_id":134379737,"body_markdown":"maybe take a look at this stackoverflow post: https://stackoverflow.com/questions/32058814/spring-boot-custom-variables-in-application-properties","body":"maybe take a look at this stackoverflow post: <a href=\"https://stackoverflow.com/questions/32058814/spring-boot-custom-variables-in-application-properties\" title=\"spring boot custom variables in application properties\">stackoverflow.com/questions/32058814/&hellip;</a>"}],"owner":{"account_id":328801,"reputation":2083,"user_id":651955,"accept_rate":60,"display_name":"llasarov"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683554463,"creation_date":1683550950,"question_id":76200871,"body_markdown":"I&#39;m intending to write an executable JAR file (from command line) that will be run on scheduled base. After every run, some data needs to be stored in a file and evaluated in the next run (last run timestamp and some other values).\r\n\r\nI was planing to store that values in application.properties since some other configuration data is already stored there.\r\nBut after doing some research I&#39;m getting the impression that the purpose of application.properties is to provide configuration values in read-only fasion.\r\n\r\nSo is it possible to update the application.propoerties file during runtime by the executable itself or should I use another approach?\r\n\r\n","title":"Spring Boot executable JAR: Write into application.properties","body":"<p>I'm intending to write an executable JAR file (from command line) that will be run on scheduled base. After every run, some data needs to be stored in a file and evaluated in the next run (last run timestamp and some other values).</p>\n<p>I was planing to store that values in application.properties since some other configuration data is already stored there.\nBut after doing some research I'm getting the impression that the purpose of application.properties is to provide configuration values in read-only fasion.</p>\n<p>So is it possible to update the application.propoerties file during runtime by the executable itself or should I use another approach?</p>\n"},{"tags":["java","spring","spring-integration"],"comments":[{"owner":{"account_id":5636066,"reputation":6620,"user_id":4461537,"accept_rate":89,"display_name":"Ren&#233; Winkler"},"score":0,"creation_date":1683492103,"post_id":76185688,"comment_id":134371510,"body_markdown":"here are some approaches how to reload beans in general, maybe this helps. https://stackoverflow.com/questions/51218086/how-to-reinitialize-a-spring-bean","body":"here are some approaches how to reload beans in general, maybe this helps. <a href=\"https://stackoverflow.com/questions/51218086/how-to-reinitialize-a-spring-bean\" title=\"how to reinitialize a spring bean\">stackoverflow.com/questions/51218086/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":4609695,"reputation":30864,"user_id":3738171,"display_name":"Guerric P"},"score":0,"creation_date":1683570803,"post_id":76201341,"comment_id":134383875,"body_markdown":"Thanks for your complete and clear answer. There&#39;s just one thing I don&#39;t get: if I have multiple servers to poll, isn&#39;t the tuple &quot;hostname&quot;, &quot;port&quot;, and &quot;user&quot; a good key for the session factory? Are you saying that the only purpose of the locator is to have one session factory per thread? If so, how do I populate the keys before the threads exist?","body":"Thanks for your complete and clear answer. There&#39;s just one thing I don&#39;t get: if I have multiple servers to poll, isn&#39;t the tuple &quot;hostname&quot;, &quot;port&quot;, and &quot;user&quot; a good key for the session factory? Are you saying that the only purpose of the locator is to have one session factory per thread? If so, how do I populate the keys before the threads exist?"},{"owner":{"account_id":3273937,"reputation":114870,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":0,"creation_date":1683572179,"post_id":76201341,"comment_id":134384195,"body_markdown":"Well, that is also OK, but technically we suggest to have just some logical key which could be accessed from the `RotatingServerAdvice`. But I see your point: you may not know how many servers you have in the config. So, yes, then your `SessionFactoryKey` is good. But you need to clean up your `SessionFactoryLocator` some way. Although since your `RotatingServerAdvice` will never use old keys, it might be OK to not worry about old entries...","body":"Well, that is also OK, but technically we suggest to have just some logical key which could be accessed from the <code>RotatingServerAdvice</code>. But I see your point: you may not know how many servers you have in the config. So, yes, then your <code>SessionFactoryKey</code> is good. But you need to clean up your <code>SessionFactoryLocator</code> some way. Although since your <code>RotatingServerAdvice</code> will never use old keys, it might be OK to not worry about old entries..."},{"owner":{"account_id":4609695,"reputation":30864,"user_id":3738171,"display_name":"Guerric P"},"score":0,"creation_date":1683582145,"post_id":76201341,"comment_id":134386053,"body_markdown":"Ok thanks. Last thing, you are saying that the `DefaultSessionFactoryLocator` can&#39;t clear its internal `Map` and that I have to call `DefaultSessionFactoryLocator.removeSessionFactory()` in a `RefreshScopeRefreshedEvent`  listener. According to me annotating `sessionFactoryLocator` with `@RefreshScope` will call the bean factory to create a fresh one which will be provided by the proxy whose reference is held by the `DelegatingSessionFactory`. Am I misunderstanding?","body":"Ok thanks. Last thing, you are saying that the <code>DefaultSessionFactoryLocator</code> can&#39;t clear its internal <code>Map</code> and that I have to call <code>DefaultSessionFactoryLocator.removeSessionFactory()</code> in a <code>RefreshScopeRefreshedEvent</code>  listener. According to me annotating <code>sessionFactoryLocator</code> with <code>@RefreshScope</code> will call the bean factory to create a fresh one which will be provided by the proxy whose reference is held by the <code>DelegatingSessionFactory</code>. Am I misunderstanding?"},{"owner":{"account_id":3273937,"reputation":114870,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":0,"creation_date":1683582984,"post_id":76201341,"comment_id":134386163,"body_markdown":"Yes, you are right: I misread that `RefreshScope` Javadoc. Cannot confirm though, since I don&#39;t have any code to play with.","body":"Yes, you are right: I misread that <code>RefreshScope</code> Javadoc. Cannot confirm though, since I don&#39;t have any code to play with."}],"tags":[],"owner":{"account_id":3273937,"reputation":114870,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"comment_count":4,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1683554422,"creation_date":1683554422,"answer_id":76201341,"question_id":76185688,"body_markdown":"According to your current configuration, only what you need to reload is a configuration for SFTP servers. So, you need to refresh only `sessionFactoryLocator` and `RotatingServerAdvice` beans. \r\n\r\nAccording to the `org.springframework.cloud.context.scope.refresh.RefreshScope`, we need to have standard lifecycle callback on a bean for a proper refreshment. The `DefaultSessionFactoryLocator` doesn&#39;t have one to clean up its internal `Map`, so we probably need to catch a `RefreshScopeRefreshedEvent` and call `DefaultSessionFactoryLocator.removeSessionFactory()` for a clear state. However if you would just use simple keys for factory entries, then standard `@RefreshScope`  would be enough: the `DefaultSessionFactoryLocator` would be reinitialized and its internal map would be just overridden for the same key, but new values. Not sure why you decided to go some complex `SessionFactoryKey` abstraction based on a connection info. \r\n\r\nThe `RotatingServerAdvice` does not need any extra work: just `@RefreshScope` should be enough. That `RotatingServerAdvice(DelegatingSessionFactory&lt;?&gt; factory, List&lt;RotationPolicy.KeyDirectory&gt; keyDirectories)` constructor overrides all the instance internals.","title":"Reconfigure Spring Integration beans at runtime","body":"<p>According to your current configuration, only what you need to reload is a configuration for SFTP servers. So, you need to refresh only <code>sessionFactoryLocator</code> and <code>RotatingServerAdvice</code> beans.</p>\n<p>According to the <code>org.springframework.cloud.context.scope.refresh.RefreshScope</code>, we need to have standard lifecycle callback on a bean for a proper refreshment. The <code>DefaultSessionFactoryLocator</code> doesn't have one to clean up its internal <code>Map</code>, so we probably need to catch a <code>RefreshScopeRefreshedEvent</code> and call <code>DefaultSessionFactoryLocator.removeSessionFactory()</code> for a clear state. However if you would just use simple keys for factory entries, then standard <code>@RefreshScope</code>  would be enough: the <code>DefaultSessionFactoryLocator</code> would be reinitialized and its internal map would be just overridden for the same key, but new values. Not sure why you decided to go some complex <code>SessionFactoryKey</code> abstraction based on a connection info.</p>\n<p>The <code>RotatingServerAdvice</code> does not need any extra work: just <code>@RefreshScope</code> should be enough. That <code>RotatingServerAdvice(DelegatingSessionFactory&lt;?&gt; factory, List&lt;RotationPolicy.KeyDirectory&gt; keyDirectories)</code> constructor overrides all the instance internals.</p>\n"}],"owner":{"account_id":4609695,"reputation":30864,"user_id":3738171,"display_name":"Guerric P"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":239,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76201341,"answer_count":1,"score":0,"last_activity_date":1683554422,"creation_date":1683317937,"question_id":76185688,"body_markdown":"I have this configuration:\r\n\r\n    @Configuration\r\n    @EnableIntegration\r\n    public class SftpConfiguration {\r\n    \r\n    \t@Autowired\r\n    \tprivate InterfaceRepository interfaceRepo;\r\n    \r\n    \tpublic record SessionFactoryKey(String host, int port, String user) {\r\n    \t}\r\n    \r\n    \t@Bean\r\n    \tSessionFactoryLocator&lt;LsEntry&gt; sessionFactoryLocator() {\r\n    \r\n    \t\tMap&lt;Object, SessionFactory&lt;LsEntry&gt;&gt; factories = interfaceRepo.findAll().stream()\r\n    \t\t\t\t.map(x -&gt; new SimpleEntry&lt;&gt;(new SessionFactoryKey(x.getHostname(), x.getPort(), x.getUsername()),\r\n    \t\t\t\t\t\tsessionFactory(x.getHostname(), x.getPort(), x.getUsername(), x.getPassword())))\r\n    \t\t\t\t.collect(Collectors.toMap(Entry::getKey, Entry::getValue, (a, b) -&gt; a));\r\n    \r\n    \t\treturn new DefaultSessionFactoryLocator&lt;&gt;(factories);\r\n    \t}\r\n    \r\n    \t@Bean\r\n    \tRemoteFileTemplate&lt;LsEntry&gt; fileTemplateResolver(DelegatingSessionFactory&lt;LsEntry&gt; delegatingSessionFactory) {\r\n    \t\treturn new SftpRemoteFileTemplate(delegatingSessionFactory);\r\n    \t}\r\n    \r\n    \t@Bean\r\n    \tDelegatingSessionFactory&lt;LsEntry&gt; delegatingSessionFactory(SessionFactoryLocator&lt;LsEntry&gt; sessionFactoryLocator) {\r\n    \t\treturn new DelegatingSessionFactory&lt;&gt;(sessionFactoryLocator);\r\n    \t}\r\n    \r\n    \t@Bean\r\n    \tRotatingServerAdvice advice(DelegatingSessionFactory&lt;LsEntry&gt; delegatingSessionFactory) {\r\n    \r\n    \t\tList&lt;RotationPolicy.KeyDirectory&gt; keyDirectories = interfaceRepo.findAll().stream()\r\n    \t\t\t\t.filter(Interface::isReceivingData)\r\n    \t\t\t\t.map(x -&gt; new RotationPolicy.KeyDirectory(\r\n    \t\t\t\t\t\tnew SessionFactoryKey(x.getHostname(), x.getPort(), x.getUsername()),\r\n    \t\t\t\t\t\tx.getDirectory()))\r\n    \t\t\t\t.toList();\r\n    \r\n    \t\treturn keyDirectories.isEmpty() ? null : new RotatingServerAdvice(delegatingSessionFactory, keyDirectories);\r\n    \r\n    \t}\r\n    \r\n    \t@Bean\r\n    \tPropertiesPersistingMetadataStore store() {\r\n    \t\treturn new PropertiesPersistingMetadataStore();\r\n    \t}\r\n    \r\n    \t@Bean\r\n    \tpublic IntegrationFlow flow(ObjectProvider&lt;RotatingServerAdvice&gt; adviceProvider,\r\n    \t\t\tDelegatingSessionFactory&lt;LsEntry&gt; delegatingSessionFactory, PropertiesPersistingMetadataStore store) {\r\n    \t\t\r\n    \t\tRotatingServerAdvice advice = adviceProvider.getIfAvailable();\r\n    \r\n    \t\treturn advice == null ? null\r\n    \t\t\t\t: IntegrationFlows\r\n    \t\t\t\t\t\t.from(Sftp.inboundAdapter(delegatingSessionFactory)\r\n    \t\t\t\t\t\t\t\t.filter(new SftpPersistentAcceptOnceFileListFilter(store, &quot;rotate_&quot;))\r\n    \t\t\t\t\t\t\t\t.localDirectory(new File(&quot;C:\\\\tmp\\\\sftp&quot;))\r\n    \t\t\t\t\t\t\t\t.localFilenameExpression(&quot;#remoteDirectory + T(java.io.File).separator + #root&quot;)\r\n    \t\t\t\t\t\t\t\t.remoteDirectory(&quot;.&quot;), e -&gt; e.poller(Pollers.fixedDelay(1).advice(advice)))\r\n    \t\t\t\t\t\t.channel(MessageChannels.queue(&quot;files&quot;)).get();\r\n    \t}\r\n    \r\n    \tprivate SessionFactory&lt;LsEntry&gt; sessionFactory(String host, int port, String user, String password) {\r\n    \t\tDefaultSftpSessionFactory factory = new DefaultSftpSessionFactory(true);\r\n    \t\tfactory.setHost(host);\r\n    \t\tfactory.setPort(port);\r\n    \t\tfactory.setUser(user);\r\n    \t\tfactory.setPassword(password);\r\n    \t\tfactory.setAllowUnknownKeys(true);\r\n    \t\treturn factory;\r\n    \t}\r\n    }\r\n\r\nBasically it provides a `RemoteFileTemplate` that allows to upload files via SFTP, and an `IntegrationFlow` that polls a set of SFTP servers to retrieve files. The configuration is loaded via a database.\r\n\r\nI want to reload the beans when the configuration has changed in the database but I can&#39;t figure out how.\r\n\r\nI think the only chance I have to make it work is to use lazy proxies because the client code has already loaded bean instances which cannot be unloaded. That&#39;s why I tried `@RefreshScope` from spring cloud, but it didn&#39;t work because `IntegrationFlow` forbids other scopes than `singleton`.\r\n\r\nIs there any solution other than closing the application context and run `SpringApplication.run` again?","title":"Reconfigure Spring Integration beans at runtime","body":"<p>I have this configuration:</p>\n<pre><code>@Configuration\n@EnableIntegration\npublic class SftpConfiguration {\n\n    @Autowired\n    private InterfaceRepository interfaceRepo;\n\n    public record SessionFactoryKey(String host, int port, String user) {\n    }\n\n    @Bean\n    SessionFactoryLocator&lt;LsEntry&gt; sessionFactoryLocator() {\n\n        Map&lt;Object, SessionFactory&lt;LsEntry&gt;&gt; factories = interfaceRepo.findAll().stream()\n                .map(x -&gt; new SimpleEntry&lt;&gt;(new SessionFactoryKey(x.getHostname(), x.getPort(), x.getUsername()),\n                        sessionFactory(x.getHostname(), x.getPort(), x.getUsername(), x.getPassword())))\n                .collect(Collectors.toMap(Entry::getKey, Entry::getValue, (a, b) -&gt; a));\n\n        return new DefaultSessionFactoryLocator&lt;&gt;(factories);\n    }\n\n    @Bean\n    RemoteFileTemplate&lt;LsEntry&gt; fileTemplateResolver(DelegatingSessionFactory&lt;LsEntry&gt; delegatingSessionFactory) {\n        return new SftpRemoteFileTemplate(delegatingSessionFactory);\n    }\n\n    @Bean\n    DelegatingSessionFactory&lt;LsEntry&gt; delegatingSessionFactory(SessionFactoryLocator&lt;LsEntry&gt; sessionFactoryLocator) {\n        return new DelegatingSessionFactory&lt;&gt;(sessionFactoryLocator);\n    }\n\n    @Bean\n    RotatingServerAdvice advice(DelegatingSessionFactory&lt;LsEntry&gt; delegatingSessionFactory) {\n\n        List&lt;RotationPolicy.KeyDirectory&gt; keyDirectories = interfaceRepo.findAll().stream()\n                .filter(Interface::isReceivingData)\n                .map(x -&gt; new RotationPolicy.KeyDirectory(\n                        new SessionFactoryKey(x.getHostname(), x.getPort(), x.getUsername()),\n                        x.getDirectory()))\n                .toList();\n\n        return keyDirectories.isEmpty() ? null : new RotatingServerAdvice(delegatingSessionFactory, keyDirectories);\n\n    }\n\n    @Bean\n    PropertiesPersistingMetadataStore store() {\n        return new PropertiesPersistingMetadataStore();\n    }\n\n    @Bean\n    public IntegrationFlow flow(ObjectProvider&lt;RotatingServerAdvice&gt; adviceProvider,\n            DelegatingSessionFactory&lt;LsEntry&gt; delegatingSessionFactory, PropertiesPersistingMetadataStore store) {\n        \n        RotatingServerAdvice advice = adviceProvider.getIfAvailable();\n\n        return advice == null ? null\n                : IntegrationFlows\n                        .from(Sftp.inboundAdapter(delegatingSessionFactory)\n                                .filter(new SftpPersistentAcceptOnceFileListFilter(store, &quot;rotate_&quot;))\n                                .localDirectory(new File(&quot;C:\\\\tmp\\\\sftp&quot;))\n                                .localFilenameExpression(&quot;#remoteDirectory + T(java.io.File).separator + #root&quot;)\n                                .remoteDirectory(&quot;.&quot;), e -&gt; e.poller(Pollers.fixedDelay(1).advice(advice)))\n                        .channel(MessageChannels.queue(&quot;files&quot;)).get();\n    }\n\n    private SessionFactory&lt;LsEntry&gt; sessionFactory(String host, int port, String user, String password) {\n        DefaultSftpSessionFactory factory = new DefaultSftpSessionFactory(true);\n        factory.setHost(host);\n        factory.setPort(port);\n        factory.setUser(user);\n        factory.setPassword(password);\n        factory.setAllowUnknownKeys(true);\n        return factory;\n    }\n}\n</code></pre>\n<p>Basically it provides a <code>RemoteFileTemplate</code> that allows to upload files via SFTP, and an <code>IntegrationFlow</code> that polls a set of SFTP servers to retrieve files. The configuration is loaded via a database.</p>\n<p>I want to reload the beans when the configuration has changed in the database but I can't figure out how.</p>\n<p>I think the only chance I have to make it work is to use lazy proxies because the client code has already loaded bean instances which cannot be unloaded. That's why I tried <code>@RefreshScope</code> from spring cloud, but it didn't work because <code>IntegrationFlow</code> forbids other scopes than <code>singleton</code>.</p>\n<p>Is there any solution other than closing the application context and run <code>SpringApplication.run</code> again?</p>\n"},{"tags":["java","jakarta-ee","hibernate-validator"],"comments":[{"owner":{"account_id":6366204,"reputation":2197,"user_id":4940126,"display_name":"mark_o"},"score":0,"creation_date":1683536046,"post_id":76187602,"comment_id":134376214,"body_markdown":"How do you run your tests? Is there any app server involved that might contain a different jar version? Also, while it might not be related, I&#39;ve noticed that you only have a dependency on the validator in evb-domain. If you are making explicit validator calls in evb-ext-services it&#39;s better to list the dependency there as well.","body":"How do you run your tests? Is there any app server involved that might contain a different jar version? Also, while it might not be related, I&#39;ve noticed that you only have a dependency on the validator in evb-domain. If you are making explicit validator calls in evb-ext-services it&#39;s better to list the dependency there as well."},{"owner":{"account_id":15738788,"reputation":304,"user_id":11356914,"display_name":"Manu"},"score":0,"creation_date":1683554472,"post_id":76187602,"comment_id":134380253,"body_markdown":"I was able to figure out which dependency caused the error. but now my JPA tests take ages to finish for some reason.. Whereever i call `entityManager.getTransaction().commit()` it takes 20 seconds or so... I suspect the update`hibernate-validator` to be the cause, but cannot explain why.","body":"I was able to figure out which dependency caused the error. but now my JPA tests take ages to finish for some reason.. Whereever i call <code>entityManager.getTransaction().commit()</code> it takes 20 seconds or so... I suspect the update<code>hibernate-validator</code> to be the cause, but cannot explain why."},{"owner":{"account_id":6366204,"reputation":2197,"user_id":4940126,"display_name":"mark_o"},"score":0,"creation_date":1683559440,"post_id":76187602,"comment_id":134381373,"body_markdown":"Glad you&#39;ve figured out what was the original problem. If you are upgrading to Jakarta 10 I suspect you are also upgrading the ORM alongside the Validator. Try to get an isolated test and enable query logging - see if the amount of queries is +/- the same as before. If so, try to set the property `javax.persistence.validation.mode` to `none` and see how it performs with validation disabled.","body":"Glad you&#39;ve figured out what was the original problem. If you are upgrading to Jakarta 10 I suspect you are also upgrading the ORM alongside the Validator. Try to get an isolated test and enable query logging - see if the amount of queries is +/- the same as before. If so, try to set the property <code>javax.persistence.validation.mode</code> to <code>none</code> and see how it performs with validation disabled."},{"owner":{"account_id":15738788,"reputation":304,"user_id":11356914,"display_name":"Manu"},"score":0,"creation_date":1683625638,"post_id":76187602,"comment_id":134391704,"body_markdown":"I have enabled eclipselink logging and started a single test where i call `entityManager.getTransaction().begin()` and `entityManager.getTransaction().commit()`. There is just 2 queries in between, so apparently the amount of queries is not the problem. No idea whats the problem here...","body":"I have enabled eclipselink logging and started a single test where i call <code>entityManager.getTransaction().begin()</code> and <code>entityManager.getTransaction().commit()</code>. There is just 2 queries in between, so apparently the amount of queries is not the problem. No idea whats the problem here..."},{"owner":{"account_id":15738788,"reputation":304,"user_id":11356914,"display_name":"Manu"},"score":0,"creation_date":1683628441,"post_id":76187602,"comment_id":134392403,"body_markdown":"Yeah, I have rolled back the update of `hibernate-validator` and now my tests are running at a reasonable speed again.. I can&#39;t tell why hibernate-validator slows down the `EntityManager` commit so much, but for the time being I will try to stick with `5.4.0.Final`.","body":"Yeah, I have rolled back the update of <code>hibernate-validator</code> and now my tests are running at a reasonable speed again.. I can&#39;t tell why hibernate-validator slows down the <code>EntityManager</code> commit so much, but for the time being I will try to stick with <code>5.4.0.Final</code>."},{"owner":{"account_id":6366204,"reputation":2197,"user_id":4940126,"display_name":"mark_o"},"score":0,"creation_date":1683632536,"post_id":76187602,"comment_id":134393315,"body_markdown":"It might be related to something like - https://hibernate.atlassian.net/browse/HV-1928. If you are seeing the degraded performance and can create a reproducer and report it here https://hibernate.atlassian.net/browse/HV that would be nice. Reproducer templates can be found here https://github.com/hibernate/hibernate-test-case-templates/","body":"It might be related to something like - <a href=\"https://hibernate.atlassian.net/browse/HV-1928\" rel=\"nofollow noreferrer\">hibernate.atlassian.net/browse/HV-1928</a>. If you are seeing the degraded performance and can create a reproducer and report it here <a href=\"https://hibernate.atlassian.net/browse/HV\" rel=\"nofollow noreferrer\">hibernate.atlassian.net/browse/HV</a> that would be nice. Reproducer templates can be found here <a href=\"https://github.com/hibernate/hibernate-test-case-templates/\" rel=\"nofollow noreferrer\">github.com/hibernate/hibernate-test-case-templates</a>"}],"answers":[{"tags":[],"owner":{"account_id":15738788,"reputation":304,"user_id":11356914,"display_name":"Manu"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683554412,"creation_date":1683554412,"answer_id":76201338,"question_id":76187602,"body_markdown":"I found out that, in my scenario, the dependency causing this error is\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.jboss.resteasy&lt;/groupId&gt;\r\n            &lt;artifactId&gt;resteasy-jaxrs&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\nAfter commenting it out the error vanished.\r\n","title":"hibernate-validator - java.lang.NoClassDefFoundError: Could not initialize class org.hibernate.validator.internal.engine.ConfigurationImpl","body":"<p>I found out that, in my scenario, the dependency causing this error is</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.jboss.resteasy&lt;/groupId&gt;\n        &lt;artifactId&gt;resteasy-jaxrs&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>After commenting it out the error vanished.</p>\n"}],"owner":{"account_id":15738788,"reputation":304,"user_id":11356914,"display_name":"Manu"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":397,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1683554412,"creation_date":1683357298,"question_id":76187602,"body_markdown":"I am switching to JakartaEE 10 and therefore im trying to update my `hibernate-validator` from `5.4.0.Final` to `8.0.0.Final`, but I just can&#39;t get rid of the following error thats thrown in a lot of my tests:\r\n\r\n`java.lang.NoClassDefFoundError: Could not initialize class org.hibernate.validator.internal.engine.ConfigurationImpl`\r\n\r\nI&#39;ve read that you have to include \r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.glassfish.expressly&lt;/groupId&gt;\r\n    &lt;artifactId&gt;expressly&lt;/artifactId&gt;\r\n    &lt;version&gt;5.0.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\nnow, which I did, but I&#39;m still receiving this error. Answers to related questions referencing older versions of `hibernate-validator` assume a dependency mismatch, but I cannot spot it from the dependency tree of the module thats failing to build:\r\n\r\n```xml\r\n[INFO] --- maven-dependency-plugin:2.8:tree (default-cli) @ evb-ext-services ---\r\n[INFO] de.mygroupid.evb:evb-ext-services:jar:23.6.0-SNAPSHOT\r\n[INFO] +- de.mygroupid.evb:evb-business:jar:23.6.0-SNAPSHOT:compile\r\n[INFO] |  +- de.mygroupid.evb:evb-domain:jar:23.6.0-SNAPSHOT:compile\r\n[INFO] |  |  +- de.mygroupid.commons:commons-ips-jpa:jar:23.6.0-a20230503-02:compile\r\n[INFO] |  |  +- org.hibernate.validator:hibernate-validator:jar:8.0.0.Final:compile\r\n[INFO] |  |  \\- org.glassfish.expressly:expressly:jar:5.0.0:compile\r\n[INFO] |  +- de.mygroupid.evb:evb-gdv-modell:jar:23.6.0-SNAPSHOT:compile\r\n[INFO] |  +- de.mygroupid.evb:evb-hooks:jar:23.6.0-SNAPSHOT:compile\r\n[INFO] |  +- de.mygroupid.commons:commons-auth:jar:23.6.0-a20230503-02:compile\r\n[INFO] |  +- org.mygroupid:mygroupid-runtime:jar:23.6.0.a20230310-01:compile\r\n[INFO] |  +- org.mygroupid:mygroupid-valuetypes:jar:23.6.0.a20230310-01:compile\r\n[INFO] |  +- org.apache.commons:commons-lang3:jar:3.12.0:compile\r\n[INFO] |  +- org.mapstruct:mapstruct:jar:1.4.2.Final:compile\r\n[INFO] |  \\- org.junit.jupiter:junit-jupiter-engine:jar:5.9.2:compile\r\n[INFO] +- de.mygroupid.evb:evb-business-api:jar:23.6.0-SNAPSHOT:compile\r\n[INFO] |  \\- com.fasterxml.jackson.dataformat:jackson-dataformat-xml:jar:2.14.2:compile\r\n[INFO] |     +- com.fasterxml.jackson.core:jackson-core:jar:2.14.2:compile\r\n[INFO] |     +- com.fasterxml.jackson.core:jackson-annotations:jar:2.11.4:provided\r\n[INFO] |     +- org.codehaus.woodstox:stax2-api:jar:4.2.1:compile\r\n[INFO] |     \\- com.fasterxml.woodstox:woodstox-core:jar:6.5.0:compile\r\n[INFO] +- de.mygroupid.commons:commons-base:jar:23.6.0-a20230503-02:compile\r\n[INFO] +- de.mygroupid.commons:commons-cdi:jar:23.6.0-a20230503-02:compile\r\n[INFO] +- jakarta.xml.bind:jakarta.xml.bind-api:jar:4.0.0:provided\r\n[INFO] |  \\- jakarta.activation:jakarta.activation-api:jar:2.1.1:provided\r\n[INFO] +- jakarta.ws.rs:jakarta.ws.rs-api:jar:3.1.0:provided\r\n[INFO] +- jakarta.jws:jakarta.jws-api:jar:1.1.1:provided\r\n[INFO] +- jakarta.transaction:jakarta.transaction-api:jar:2.0.1:provided\r\n[INFO] +- jakarta.enterprise:jakarta.enterprise.cdi-api:jar:4.0.1:provided\r\n[INFO] |  +- jakarta.enterprise:jakarta.enterprise.lang-model:jar:4.0.1:provided\r\n[INFO] |  +- jakarta.annotation:jakarta.annotation-api:jar:2.1.1:provided\r\n[INFO] |  +- jakarta.el:jakarta.el-api:jar:5.0.0:compile\r\n[INFO] |  +- jakarta.interceptor:jakarta.interceptor-api:jar:2.1.0:provided\r\n[INFO] |  \\- jakarta.inject:jakarta.inject-api:jar:2.0.1:provided\r\n[INFO] +- jakarta.servlet:jakarta.servlet-api:jar:6.0.0:provided\r\n[INFO] +- io.swagger.core.v3:swagger-jaxrs2-jakarta:jar:2.1.13:compile\r\n[INFO] |  +- io.github.classgraph:classgraph:jar:4.8.138:compile\r\n[INFO] |  +- org.javassist:javassist:jar:3.25.0-GA:compile\r\n[INFO] |  +- io.swagger.core.v3:swagger-models-jakarta:jar:2.1.13:compile\r\n[INFO] |  +- io.swagger.core.v3:swagger-annotations-jakarta:jar:2.1.13:compile\r\n[INFO] |  +- io.swagger.core.v3:swagger-integration-jakarta:jar:2.1.13:compile\r\n[INFO] |  |  \\- io.swagger.core.v3:swagger-core-jakarta:jar:2.1.13:compile\r\n[INFO] |  |     +- com.fasterxml.jackson.dataformat:jackson-dataformat-yaml:jar:2.14.2:compile\r\n[INFO] |  |     |  \\- org.yaml:snakeyaml:jar:1.33:compile\r\n[INFO] |  |     \\- com.fasterxml.jackson.datatype:jackson-datatype-jsr310:jar:2.14.2:compile\r\n[INFO] |  +- com.fasterxml.jackson.core:jackson-databind:jar:2.14.2:compile\r\n[INFO] |  \\- com.fasterxml.jackson.jaxrs:jackson-jaxrs-json-provider:jar:jakarta:2.12.1:compile\r\n[INFO] |     +- com.fasterxml.jackson.jaxrs:jackson-jaxrs-base:jar:2.14.2:compile\r\n[INFO] |     \\- com.fasterxml.jackson.module:jackson-module-jaxb-annotations:jar:2.14.2:compile\r\n[INFO] +- de.mygroupid.evb:evb-business:test-jar:tests:23.6.0-SNAPSHOT:test\r\n[INFO] +- de.mygroupid.evb:evb-test-nachrichten:jar:23.6.0-SNAPSHOT:test\r\n[INFO] |  \\- org.springframework:spring-core:jar:6.0.7:test\r\n[INFO] |     \\- org.springframework:spring-jcl:jar:6.0.7:test\r\n[INFO] +- de.mygroupid.commons:commons-jax-rs:jar:23.6.0-a20230503-02:compile\r\n[INFO] +- de.mygroupid.commons:commons-auth-test:jar:23.6.0-a20230503-02:test\r\n[INFO] +- de.mygroupid.commons:commons-cdi-test:jar:23.6.0-a20230503-02:test\r\n[INFO] |  +- de.mygroupid.commons:commons-test:jar:23.6.0-a20230503-02:test\r\n[INFO] |  +- org.jboss.weld:weld-junit5:jar:4.0.0.Final:test\r\n[INFO] |  |  +- org.jboss.weld.se:weld-se-core:jar:5.0.0.SP1:test\r\n[INFO] |  |  |  +- org.jboss.weld.environment:weld-environment-common:jar:5.0.0.SP1:test\r\n[INFO] |  |  |  +- org.jboss.weld:weld-lite-extension-translator:jar:5.0.0.SP1:test\r\n[INFO] |  |  |  |  \\- org.jboss.logging:jboss-logging-processor:jar:2.2.1.Final:test\r\n[INFO] |  |  |  |     +- org.jboss.logging:jboss-logging-annotations:jar:2.2.1.Final:test\r\n[INFO] |  |  |  |     \\- org.jboss.jdeparser:jdeparser:jar:2.0.3.Final:test\r\n[INFO] |  |  |  \\- org.jboss.weld.probe:weld-probe-core:jar:5.0.0.SP1:test\r\n[INFO] |  |  \\- org.jboss.weld:weld-junit-common:jar:4.0.0.Final:test\r\n[INFO] |  |     \\- jakarta.persistence:jakarta.persistence-api:jar:3.1.0:provided\r\n[INFO] |  +- org.jboss.weld:weld-core-impl:jar:5.1.0.Final:test\r\n[INFO] |  |  +- org.jboss.weld:weld-api:jar:5.0.SP3:test\r\n[INFO] |  |  +- org.jboss.weld:weld-spi:jar:5.0.SP3:test\r\n[INFO] |  |  \\- org.jboss.classfilewriter:jboss-classfilewriter:jar:1.2.5.Final:test\r\n[INFO] |  +- org.jboss.weld.module:weld-jta:jar:5.1.0.Final:test\r\n[INFO] |  +- org.jboss.narayana.jta:narayana-jta-jakarta:jar:5.13.1.Final:test\r\n[INFO] |  |  +- org.jboss:jboss-transaction-spi-jakarta:jar:7.6.1.Final:test\r\n[INFO] |  |  \\- jakarta.resource:jakarta.resource-api:jar:2.0.0:test\r\n[INFO] |  \\- org.jboss.naming:jnpserver:jar:5.0.5.Final:test\r\n[INFO] |     +- org.jboss:jboss-common-core:jar:2.2.10.GA:test\r\n[INFO] |     \\- org.jboss.logging:jboss-logging-spi:jar:2.0.5.GA:test\r\n[INFO] +- de.mygroupid.commons:commons-ips-test:jar:23.6.0-a20230503-02:test\r\n[INFO] |  +- org.hamcrest:hamcrest:jar:2.2:test\r\n[INFO] |  \\- org.mygroupid:mygroupid-testsupport:jar:23.6.0.a20230310-01:test\r\n[INFO] +- de.mygroupid.commons:commons-ips:jar:23.6.0-a20230503-02:compile\r\n[INFO] +- junit:junit:jar:4.13.2:test\r\n[INFO] +- org.glassfish.jaxb:jaxb-runtime:jar:4.0.0:test\r\n[INFO] |  \\- org.glassfish.jaxb:jaxb-core:jar:4.0.2:test\r\n[INFO] |     +- org.eclipse.angus:angus-activation:jar:2.0.0:test\r\n[INFO] |     +- org.glassfish.jaxb:txw2:jar:4.0.2:test\r\n[INFO] |     \\- com.sun.istack:istack-commons-runtime:jar:4.1.1:test\r\n[INFO] +- org.jboss.resteasy:resteasy-jaxrs:jar:3.1.4.Final:test\r\n[INFO] |  +- org.jboss.spec.javax.ws.rs:jboss-jaxrs-api_2.0_spec:jar:1.0.1.Beta1:test\r\n[INFO] |  +- org.jboss.resteasy:resteasy-jaxrs-services:jar:3.1.4.Final:test\r\n[INFO] |  +- org.jboss.spec.javax.annotation:jboss-annotations-api_1.2_spec:jar:1.0.0.Final:test\r\n[INFO] |  +- javax.activation:activation:jar:1.1.1:test\r\n[INFO] |  +- org.apache.httpcomponents:httpclient:jar:4.5.14:test\r\n[INFO] |  |  +- org.apache.httpcomponents:httpcore:jar:4.4.16:test\r\n[INFO] |  |  \\- commons-codec:commons-codec:jar:1.15:test\r\n[INFO] |  +- commons-io:commons-io:jar:2.5:test\r\n[INFO] |  \\- net.jcip:jcip-annotations:jar:1.0:test\r\n[INFO] +- org.mockito:mockito-core:jar:5.1.1:test\r\n[INFO] |  +- net.bytebuddy:byte-buddy:jar:1.12.23:test\r\n[INFO] |  +- net.bytebuddy:byte-buddy-agent:jar:1.12.23:test\r\n[INFO] |  \\- org.objenesis:objenesis:jar:3.3:test\r\n[INFO] +- org.slf4j:slf4j-nop:jar:2.0.7:test\r\n[INFO] +- com.h2database:h2:jar:1.4.200:test\r\n[INFO] +- org.eclipse.persistence:eclipselink:jar:4.0.1:test\r\n[INFO] |  \\- com.sun.xml.bind:jaxb-xjc:jar:4.0.2:test\r\n[INFO] |     \\- com.sun.xml.bind:jaxb-core:jar:4.0.2:test\r\n[INFO] +- org.glassfish.jersey.core:jersey-common:jar:3.1.1:test\r\n[INFO] |  \\- org.glassfish.hk2:osgi-resource-locator:jar:1.0.3:test\r\n[INFO] +- org.glassfish:jakarta.el:jar:4.0.0:compile\r\n[INFO] +- jakarta.validation:jakarta.validation-api:jar:3.0.2:compile\r\n[INFO] +- org.jboss.logging:jboss-logging:jar:3.4.1.Final:compile\r\n[INFO] +- com.fasterxml:classmate:jar:1.5.1:compile\r\n[INFO] +- com.github.spotbugs:spotbugs-annotations:jar:4.5.3:provided\r\n[INFO] +- com.google.code.findbugs:jsr305:jar:3.0.2:provided\r\n[INFO] +- org.slf4j:slf4j-api:jar:2.0.7:compile\r\n[INFO] +- org.junit.jupiter:junit-jupiter-params:jar:5.8.2:test\r\n[INFO] |  +- org.junit.jupiter:junit-jupiter-api:jar:5.9.2:compile\r\n[INFO] |  |  +- org.opentest4j:opentest4j:jar:1.2.0:compile\r\n[INFO] |  |  \\- org.junit.platform:junit-platform-commons:jar:1.9.2:compile\r\n[INFO] |  \\- org.apiguardian:apiguardian-api:jar:1.1.2:compile\r\n[INFO] \\- org.junit.vintage:junit-vintage-engine:jar:5.8.2:test\r\n[INFO]    \\- org.junit.platform:junit-platform-engine:jar:1.9.2:compile\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] BUILD SUCCESS\r\n[INFO] ------------------------------------------------------------------------\r\n```\r\n\r\nIf you any idea how to get rid of this error then any help would be greatly appreciated, thanks in advance.","title":"hibernate-validator - java.lang.NoClassDefFoundError: Could not initialize class org.hibernate.validator.internal.engine.ConfigurationImpl","body":"<p>I am switching to JakartaEE 10 and therefore im trying to update my <code>hibernate-validator</code> from <code>5.4.0.Final</code> to <code>8.0.0.Final</code>, but I just can't get rid of the following error thats thrown in a lot of my tests:</p>\n<p><code>java.lang.NoClassDefFoundError: Could not initialize class org.hibernate.validator.internal.engine.ConfigurationImpl</code></p>\n<p>I've read that you have to include</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.glassfish.expressly&lt;/groupId&gt;\n    &lt;artifactId&gt;expressly&lt;/artifactId&gt;\n    &lt;version&gt;5.0.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>now, which I did, but I'm still receiving this error. Answers to related questions referencing older versions of <code>hibernate-validator</code> assume a dependency mismatch, but I cannot spot it from the dependency tree of the module thats failing to build:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>[INFO] --- maven-dependency-plugin:2.8:tree (default-cli) @ evb-ext-services ---\n[INFO] de.mygroupid.evb:evb-ext-services:jar:23.6.0-SNAPSHOT\n[INFO] +- de.mygroupid.evb:evb-business:jar:23.6.0-SNAPSHOT:compile\n[INFO] |  +- de.mygroupid.evb:evb-domain:jar:23.6.0-SNAPSHOT:compile\n[INFO] |  |  +- de.mygroupid.commons:commons-ips-jpa:jar:23.6.0-a20230503-02:compile\n[INFO] |  |  +- org.hibernate.validator:hibernate-validator:jar:8.0.0.Final:compile\n[INFO] |  |  \\- org.glassfish.expressly:expressly:jar:5.0.0:compile\n[INFO] |  +- de.mygroupid.evb:evb-gdv-modell:jar:23.6.0-SNAPSHOT:compile\n[INFO] |  +- de.mygroupid.evb:evb-hooks:jar:23.6.0-SNAPSHOT:compile\n[INFO] |  +- de.mygroupid.commons:commons-auth:jar:23.6.0-a20230503-02:compile\n[INFO] |  +- org.mygroupid:mygroupid-runtime:jar:23.6.0.a20230310-01:compile\n[INFO] |  +- org.mygroupid:mygroupid-valuetypes:jar:23.6.0.a20230310-01:compile\n[INFO] |  +- org.apache.commons:commons-lang3:jar:3.12.0:compile\n[INFO] |  +- org.mapstruct:mapstruct:jar:1.4.2.Final:compile\n[INFO] |  \\- org.junit.jupiter:junit-jupiter-engine:jar:5.9.2:compile\n[INFO] +- de.mygroupid.evb:evb-business-api:jar:23.6.0-SNAPSHOT:compile\n[INFO] |  \\- com.fasterxml.jackson.dataformat:jackson-dataformat-xml:jar:2.14.2:compile\n[INFO] |     +- com.fasterxml.jackson.core:jackson-core:jar:2.14.2:compile\n[INFO] |     +- com.fasterxml.jackson.core:jackson-annotations:jar:2.11.4:provided\n[INFO] |     +- org.codehaus.woodstox:stax2-api:jar:4.2.1:compile\n[INFO] |     \\- com.fasterxml.woodstox:woodstox-core:jar:6.5.0:compile\n[INFO] +- de.mygroupid.commons:commons-base:jar:23.6.0-a20230503-02:compile\n[INFO] +- de.mygroupid.commons:commons-cdi:jar:23.6.0-a20230503-02:compile\n[INFO] +- jakarta.xml.bind:jakarta.xml.bind-api:jar:4.0.0:provided\n[INFO] |  \\- jakarta.activation:jakarta.activation-api:jar:2.1.1:provided\n[INFO] +- jakarta.ws.rs:jakarta.ws.rs-api:jar:3.1.0:provided\n[INFO] +- jakarta.jws:jakarta.jws-api:jar:1.1.1:provided\n[INFO] +- jakarta.transaction:jakarta.transaction-api:jar:2.0.1:provided\n[INFO] +- jakarta.enterprise:jakarta.enterprise.cdi-api:jar:4.0.1:provided\n[INFO] |  +- jakarta.enterprise:jakarta.enterprise.lang-model:jar:4.0.1:provided\n[INFO] |  +- jakarta.annotation:jakarta.annotation-api:jar:2.1.1:provided\n[INFO] |  +- jakarta.el:jakarta.el-api:jar:5.0.0:compile\n[INFO] |  +- jakarta.interceptor:jakarta.interceptor-api:jar:2.1.0:provided\n[INFO] |  \\- jakarta.inject:jakarta.inject-api:jar:2.0.1:provided\n[INFO] +- jakarta.servlet:jakarta.servlet-api:jar:6.0.0:provided\n[INFO] +- io.swagger.core.v3:swagger-jaxrs2-jakarta:jar:2.1.13:compile\n[INFO] |  +- io.github.classgraph:classgraph:jar:4.8.138:compile\n[INFO] |  +- org.javassist:javassist:jar:3.25.0-GA:compile\n[INFO] |  +- io.swagger.core.v3:swagger-models-jakarta:jar:2.1.13:compile\n[INFO] |  +- io.swagger.core.v3:swagger-annotations-jakarta:jar:2.1.13:compile\n[INFO] |  +- io.swagger.core.v3:swagger-integration-jakarta:jar:2.1.13:compile\n[INFO] |  |  \\- io.swagger.core.v3:swagger-core-jakarta:jar:2.1.13:compile\n[INFO] |  |     +- com.fasterxml.jackson.dataformat:jackson-dataformat-yaml:jar:2.14.2:compile\n[INFO] |  |     |  \\- org.yaml:snakeyaml:jar:1.33:compile\n[INFO] |  |     \\- com.fasterxml.jackson.datatype:jackson-datatype-jsr310:jar:2.14.2:compile\n[INFO] |  +- com.fasterxml.jackson.core:jackson-databind:jar:2.14.2:compile\n[INFO] |  \\- com.fasterxml.jackson.jaxrs:jackson-jaxrs-json-provider:jar:jakarta:2.12.1:compile\n[INFO] |     +- com.fasterxml.jackson.jaxrs:jackson-jaxrs-base:jar:2.14.2:compile\n[INFO] |     \\- com.fasterxml.jackson.module:jackson-module-jaxb-annotations:jar:2.14.2:compile\n[INFO] +- de.mygroupid.evb:evb-business:test-jar:tests:23.6.0-SNAPSHOT:test\n[INFO] +- de.mygroupid.evb:evb-test-nachrichten:jar:23.6.0-SNAPSHOT:test\n[INFO] |  \\- org.springframework:spring-core:jar:6.0.7:test\n[INFO] |     \\- org.springframework:spring-jcl:jar:6.0.7:test\n[INFO] +- de.mygroupid.commons:commons-jax-rs:jar:23.6.0-a20230503-02:compile\n[INFO] +- de.mygroupid.commons:commons-auth-test:jar:23.6.0-a20230503-02:test\n[INFO] +- de.mygroupid.commons:commons-cdi-test:jar:23.6.0-a20230503-02:test\n[INFO] |  +- de.mygroupid.commons:commons-test:jar:23.6.0-a20230503-02:test\n[INFO] |  +- org.jboss.weld:weld-junit5:jar:4.0.0.Final:test\n[INFO] |  |  +- org.jboss.weld.se:weld-se-core:jar:5.0.0.SP1:test\n[INFO] |  |  |  +- org.jboss.weld.environment:weld-environment-common:jar:5.0.0.SP1:test\n[INFO] |  |  |  +- org.jboss.weld:weld-lite-extension-translator:jar:5.0.0.SP1:test\n[INFO] |  |  |  |  \\- org.jboss.logging:jboss-logging-processor:jar:2.2.1.Final:test\n[INFO] |  |  |  |     +- org.jboss.logging:jboss-logging-annotations:jar:2.2.1.Final:test\n[INFO] |  |  |  |     \\- org.jboss.jdeparser:jdeparser:jar:2.0.3.Final:test\n[INFO] |  |  |  \\- org.jboss.weld.probe:weld-probe-core:jar:5.0.0.SP1:test\n[INFO] |  |  \\- org.jboss.weld:weld-junit-common:jar:4.0.0.Final:test\n[INFO] |  |     \\- jakarta.persistence:jakarta.persistence-api:jar:3.1.0:provided\n[INFO] |  +- org.jboss.weld:weld-core-impl:jar:5.1.0.Final:test\n[INFO] |  |  +- org.jboss.weld:weld-api:jar:5.0.SP3:test\n[INFO] |  |  +- org.jboss.weld:weld-spi:jar:5.0.SP3:test\n[INFO] |  |  \\- org.jboss.classfilewriter:jboss-classfilewriter:jar:1.2.5.Final:test\n[INFO] |  +- org.jboss.weld.module:weld-jta:jar:5.1.0.Final:test\n[INFO] |  +- org.jboss.narayana.jta:narayana-jta-jakarta:jar:5.13.1.Final:test\n[INFO] |  |  +- org.jboss:jboss-transaction-spi-jakarta:jar:7.6.1.Final:test\n[INFO] |  |  \\- jakarta.resource:jakarta.resource-api:jar:2.0.0:test\n[INFO] |  \\- org.jboss.naming:jnpserver:jar:5.0.5.Final:test\n[INFO] |     +- org.jboss:jboss-common-core:jar:2.2.10.GA:test\n[INFO] |     \\- org.jboss.logging:jboss-logging-spi:jar:2.0.5.GA:test\n[INFO] +- de.mygroupid.commons:commons-ips-test:jar:23.6.0-a20230503-02:test\n[INFO] |  +- org.hamcrest:hamcrest:jar:2.2:test\n[INFO] |  \\- org.mygroupid:mygroupid-testsupport:jar:23.6.0.a20230310-01:test\n[INFO] +- de.mygroupid.commons:commons-ips:jar:23.6.0-a20230503-02:compile\n[INFO] +- junit:junit:jar:4.13.2:test\n[INFO] +- org.glassfish.jaxb:jaxb-runtime:jar:4.0.0:test\n[INFO] |  \\- org.glassfish.jaxb:jaxb-core:jar:4.0.2:test\n[INFO] |     +- org.eclipse.angus:angus-activation:jar:2.0.0:test\n[INFO] |     +- org.glassfish.jaxb:txw2:jar:4.0.2:test\n[INFO] |     \\- com.sun.istack:istack-commons-runtime:jar:4.1.1:test\n[INFO] +- org.jboss.resteasy:resteasy-jaxrs:jar:3.1.4.Final:test\n[INFO] |  +- org.jboss.spec.javax.ws.rs:jboss-jaxrs-api_2.0_spec:jar:1.0.1.Beta1:test\n[INFO] |  +- org.jboss.resteasy:resteasy-jaxrs-services:jar:3.1.4.Final:test\n[INFO] |  +- org.jboss.spec.javax.annotation:jboss-annotations-api_1.2_spec:jar:1.0.0.Final:test\n[INFO] |  +- javax.activation:activation:jar:1.1.1:test\n[INFO] |  +- org.apache.httpcomponents:httpclient:jar:4.5.14:test\n[INFO] |  |  +- org.apache.httpcomponents:httpcore:jar:4.4.16:test\n[INFO] |  |  \\- commons-codec:commons-codec:jar:1.15:test\n[INFO] |  +- commons-io:commons-io:jar:2.5:test\n[INFO] |  \\- net.jcip:jcip-annotations:jar:1.0:test\n[INFO] +- org.mockito:mockito-core:jar:5.1.1:test\n[INFO] |  +- net.bytebuddy:byte-buddy:jar:1.12.23:test\n[INFO] |  +- net.bytebuddy:byte-buddy-agent:jar:1.12.23:test\n[INFO] |  \\- org.objenesis:objenesis:jar:3.3:test\n[INFO] +- org.slf4j:slf4j-nop:jar:2.0.7:test\n[INFO] +- com.h2database:h2:jar:1.4.200:test\n[INFO] +- org.eclipse.persistence:eclipselink:jar:4.0.1:test\n[INFO] |  \\- com.sun.xml.bind:jaxb-xjc:jar:4.0.2:test\n[INFO] |     \\- com.sun.xml.bind:jaxb-core:jar:4.0.2:test\n[INFO] +- org.glassfish.jersey.core:jersey-common:jar:3.1.1:test\n[INFO] |  \\- org.glassfish.hk2:osgi-resource-locator:jar:1.0.3:test\n[INFO] +- org.glassfish:jakarta.el:jar:4.0.0:compile\n[INFO] +- jakarta.validation:jakarta.validation-api:jar:3.0.2:compile\n[INFO] +- org.jboss.logging:jboss-logging:jar:3.4.1.Final:compile\n[INFO] +- com.fasterxml:classmate:jar:1.5.1:compile\n[INFO] +- com.github.spotbugs:spotbugs-annotations:jar:4.5.3:provided\n[INFO] +- com.google.code.findbugs:jsr305:jar:3.0.2:provided\n[INFO] +- org.slf4j:slf4j-api:jar:2.0.7:compile\n[INFO] +- org.junit.jupiter:junit-jupiter-params:jar:5.8.2:test\n[INFO] |  +- org.junit.jupiter:junit-jupiter-api:jar:5.9.2:compile\n[INFO] |  |  +- org.opentest4j:opentest4j:jar:1.2.0:compile\n[INFO] |  |  \\- org.junit.platform:junit-platform-commons:jar:1.9.2:compile\n[INFO] |  \\- org.apiguardian:apiguardian-api:jar:1.1.2:compile\n[INFO] \\- org.junit.vintage:junit-vintage-engine:jar:5.8.2:test\n[INFO]    \\- org.junit.platform:junit-platform-engine:jar:1.9.2:compile\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD SUCCESS\n[INFO] ------------------------------------------------------------------------\n</code></pre>\n<p>If you any idea how to get rid of this error then any help would be greatly appreciated, thanks in advance.</p>\n"},{"tags":["java","mysql","spring-boot","authentication","intellij-idea"],"comments":[{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":1,"creation_date":1683555325,"post_id":76201309,"comment_id":134380447,"body_markdown":"Hi. There is no question in your post. Kindly read https://stackoverflow.com/help/how-to-ask.","body":"Hi. There is no question in your post. Kindly read <a href=\"https://stackoverflow.com/help/how-to-ask\">stackoverflow.com/help/how-to-ask</a>."}],"owner":{"account_id":27794378,"reputation":1,"user_id":21220232,"display_name":"Karan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683554216,"creation_date":1683554216,"question_id":76201309,"body_markdown":"*Error executing DDL &quot;alter table utilisateur_roles add constraint FK9lop304xtodorgho9w56lpjhn foreign key (utilisateur_id) references utilisateur (id)&quot; via JDBC Statement*\r\n\r\n# this is class utilisateur :\r\n\r\n```\r\npackage com.projetfd.projectfd.entities;\r\n\r\nimport jakarta.persistence.*;\r\nimport lombok.AllArgsConstructor;\r\nimport lombok.Builder;\r\nimport lombok.Data;\r\nimport lombok.NoArgsConstructor;\r\n\r\nimport java.util.List;\r\n\r\n@Entity\r\n@Data\r\n@Builder\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\npublic class Utilisateur {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n    @Column(unique = true)\r\n    private String nom;\r\n    private String motdepasse;\r\n    private String email;\r\n    @ManyToMany(fetch = FetchType.EAGER)\r\n    private List&lt;Role&gt;roles;\r\n\r\n\r\n\r\n    }\r\n```\r\n# this is class Role : \r\n\r\n\r\n```\r\npackage com.projetfd.projectfd.entities;\r\n\r\n\r\nimport jakarta.persistence.*;\r\nimport lombok.AllArgsConstructor;\r\nimport lombok.Builder;\r\nimport lombok.Data;\r\nimport lombok.NoArgsConstructor;\r\n\r\n\r\n@Entity\r\n@Builder\r\n@Data\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\npublic class Role {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n    private String role;\r\n\r\n    @ManyToOne\r\n    private Utilisateur utilisateur;\r\n\r\n\r\n\r\n\r\n}\r\n\r\n```\r\n\r\n# this is the application propreties : \r\n\r\n\r\n```\r\nserver.port=8777\r\nspring.datasource.url=jdbc:mysql://localhost:3306/databasePFE?createDatabaseIfNotExist=true\r\nspring.datasource.username=root\r\nspring.datasource.password=\r\n\r\nspring.jpa.hibernate.ddl-auto=update\r\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MariaDBDialect\r\nspring.jpa.show-sql=true\r\nspring.jpa.defer-datasource-initialization=true\r\nspring.sql.init.mode=always\r\nspring.thymeleaf.cache=false\r\nspring.main.allow-circular-references=true\r\n```\r\n\r\nand when i run the the application she give me this error : \r\n\r\nHibernate: alter table utilisateur_roles add constraint FKgvjufa2i7moss3i9eh2i9yoaq foreign key (roles_id) references role (id)\r\n2023-05-08T15:36:08.095+02:00  WARN 21924 --- [  restartedMain] o.h.t.s.i.ExceptionHandlerLoggedImpl     : GenerationTarget encountered exception accepting command : Error executing DDL &quot;alter table utilisateur_roles add constraint FKgvjufa2i7moss3i9eh2i9yoaq foreign key (roles_id) references role (id)&quot; via JDBC Statement\r\n\r\norg.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL &quot;alter table utilisateur_roles add constraint FKgvjufa2i7moss3i9eh2i9yoaq foreign key (roles_id) references role (id)&quot; via JDBC Statement\r\n\tat org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlString(AbstractSchemaMigrator.java:587) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlStrings(AbstractSchemaMigrator.java:532) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applyForeignKeys(AbstractSchemaMigrator.java:458) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.tool.schema.internal.AbstractSchemaMigrator.performMigration(AbstractSchemaMigrator.java:278) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:126) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:284) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:143) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat java.base/java.util.HashMap.forEach(HashMap.java:1429) ~[na:na]\r\n\tat org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:140) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.internal.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:336) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:415) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1423) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66) ~[spring-orm-6.0.8.jar:6.0.8]\r\n\tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376) ~[spring-orm-6.0.8.jar:6.0.8]\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-6.0.8.jar:6.0.8]\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-6.0.8.jar:6.0.8]\r\n\tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352) ~[spring-orm-6.0.8.jar:6.0.8]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1816) ~[spring-beans-6.0.8.jar:6.0.8]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766) ~[spring-beans-6.0.8.jar:6.0.8]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598) ~[spring-beans-6.0.8.jar:6.0.8]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.8.jar:6.0.8]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.8.jar:6.0.8]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.8.jar:6.0.8]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.8.jar:6.0.8]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.8.jar:6.0.8]\r\n\tat org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1132) ~[spring-context-6.0.8.jar:6.0.8]\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:907) ~[spring-context-6.0.8.jar:6.0.8]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584) ~[spring-context-6.0.8.jar:6.0.8]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.0.6.jar:3.0.6]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732) ~[spring-boot-3.0.6.jar:3.0.6]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:434) ~[spring-boot-3.0.6.jar:3.0.6]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:310) ~[spring-boot-3.0.6.jar:3.0.6]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1304) ~[spring-boot-3.0.6.jar:3.0.6]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1293) ~[spring-boot-3.0.6.jar:3.0.6]\r\n\tat com.projetfd.projectfd.ProjectFdApplication.main(ProjectFdApplication.java:13) ~[classes/:na]\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:578) ~[na:na]\r\n\tat org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-3.0.6.jar:3.0.6]\r\nCaused by: java.sql.SQLException: Can&#39;t create table `databasepfe`.`utilisateur_roles` (errno: 150 &quot;Foreign key constraint is incorrectly formed&quot;)\r\n\tat com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:130) ~[mysql-connector-j-8.0.33.jar:8.0.33]\r\n\tat com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122) ~[mysql-connector-j-8.0.33.jar:8.0.33]\r\n\tat com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:763) ~[mysql-connector-j-8.0.33.jar:8.0.33]\r\n\tat com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:648) ~[mysql-connector-j-8.0.33.jar:8.0.33]\r\n\tat com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94) ~[HikariCP-5.0.1.jar:na]\r\n\tat com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-5.0.1.jar:na]\r\n\tat org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\t... 38 common frames omitted\r\n","title":"alter table utilisateur_roles add constraint FK9lop304xtodorgho9w56lpjhn foreign key (utilisateur_id) references utilisateur (id)&quot; via JDBC Statement","body":"<p><em>Error executing DDL &quot;alter table utilisateur_roles add constraint FK9lop304xtodorgho9w56lpjhn foreign key (utilisateur_id) references utilisateur (id)&quot; via JDBC Statement</em></p>\n<h1>this is class utilisateur :</h1>\n<pre><code>package com.projetfd.projectfd.entities;\n\nimport jakarta.persistence.*;\nimport lombok.AllArgsConstructor;\nimport lombok.Builder;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\n\nimport java.util.List;\n\n@Entity\n@Data\n@Builder\n@AllArgsConstructor\n@NoArgsConstructor\npublic class Utilisateur {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n    @Column(unique = true)\n    private String nom;\n    private String motdepasse;\n    private String email;\n    @ManyToMany(fetch = FetchType.EAGER)\n    private List&lt;Role&gt;roles;\n\n\n\n    }\n</code></pre>\n<h1>this is class Role :</h1>\n<pre><code>package com.projetfd.projectfd.entities;\n\n\nimport jakarta.persistence.*;\nimport lombok.AllArgsConstructor;\nimport lombok.Builder;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\n\n\n@Entity\n@Builder\n@Data\n@NoArgsConstructor\n@AllArgsConstructor\npublic class Role {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n    private String role;\n\n    @ManyToOne\n    private Utilisateur utilisateur;\n\n\n\n\n}\n\n</code></pre>\n<h1>this is the application propreties :</h1>\n<pre><code>server.port=8777\nspring.datasource.url=jdbc:mysql://localhost:3306/databasePFE?createDatabaseIfNotExist=true\nspring.datasource.username=root\nspring.datasource.password=\n\nspring.jpa.hibernate.ddl-auto=update\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MariaDBDialect\nspring.jpa.show-sql=true\nspring.jpa.defer-datasource-initialization=true\nspring.sql.init.mode=always\nspring.thymeleaf.cache=false\nspring.main.allow-circular-references=true\n</code></pre>\n<p>and when i run the the application she give me this error :</p>\n<p>Hibernate: alter table utilisateur_roles add constraint FKgvjufa2i7moss3i9eh2i9yoaq foreign key (roles_id) references role (id)\n2023-05-08T15:36:08.095+02:00  WARN 21924 --- [  restartedMain] o.h.t.s.i.ExceptionHandlerLoggedImpl     : GenerationTarget encountered exception accepting command : Error executing DDL &quot;alter table utilisateur_roles add constraint FKgvjufa2i7moss3i9eh2i9yoaq foreign key (roles_id) references role (id)&quot; via JDBC Statement</p>\n<p>org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL &quot;alter table utilisateur_roles add constraint FKgvjufa2i7moss3i9eh2i9yoaq foreign key (roles_id) references role (id)&quot; via JDBC Statement\nat org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\nat org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlString(AbstractSchemaMigrator.java:587) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\nat org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlStrings(AbstractSchemaMigrator.java:532) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\nat org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applyForeignKeys(AbstractSchemaMigrator.java:458) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\nat org.hibernate.tool.schema.internal.AbstractSchemaMigrator.performMigration(AbstractSchemaMigrator.java:278) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\nat org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:126) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\nat org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:284) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\nat org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:143) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\nat java.base/java.util.HashMap.forEach(HashMap.java:1429) ~[na:na]\nat org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:140) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\nat org.hibernate.internal.SessionFactoryImpl.(SessionFactoryImpl.java:336) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\nat org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:415) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\nat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1423) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\nat org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66) ~[spring-orm-6.0.8.jar:6.0.8]\nat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376) ~[spring-orm-6.0.8.jar:6.0.8]\nat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-6.0.8.jar:6.0.8]\nat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-6.0.8.jar:6.0.8]\nat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352) ~[spring-orm-6.0.8.jar:6.0.8]\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1816) ~[spring-beans-6.0.8.jar:6.0.8]\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766) ~[spring-beans-6.0.8.jar:6.0.8]\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598) ~[spring-beans-6.0.8.jar:6.0.8]\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.8.jar:6.0.8]\nat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.8.jar:6.0.8]\nat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.8.jar:6.0.8]\nat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.8.jar:6.0.8]\nat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.8.jar:6.0.8]\nat org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1132) ~[spring-context-6.0.8.jar:6.0.8]\nat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:907) ~[spring-context-6.0.8.jar:6.0.8]\nat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584) ~[spring-context-6.0.8.jar:6.0.8]\nat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.0.6.jar:3.0.6]\nat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732) ~[spring-boot-3.0.6.jar:3.0.6]\nat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:434) ~[spring-boot-3.0.6.jar:3.0.6]\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:310) ~[spring-boot-3.0.6.jar:3.0.6]\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:1304) ~[spring-boot-3.0.6.jar:3.0.6]\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:1293) ~[spring-boot-3.0.6.jar:3.0.6]\nat com.projetfd.projectfd.ProjectFdApplication.main(ProjectFdApplication.java:13) ~[classes/:na]\nat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\nat java.base/java.lang.reflect.Method.invoke(Method.java:578) ~[na:na]\nat org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-3.0.6.jar:3.0.6]\nCaused by: java.sql.SQLException: Can't create table <code>databasepfe</code>.<code>utilisateur_roles</code> (errno: 150 &quot;Foreign key constraint is incorrectly formed&quot;)\nat com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:130) ~[mysql-connector-j-8.0.33.jar:8.0.33]\nat com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122) ~[mysql-connector-j-8.0.33.jar:8.0.33]\nat com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:763) ~[mysql-connector-j-8.0.33.jar:8.0.33]\nat com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:648) ~[mysql-connector-j-8.0.33.jar:8.0.33]\nat com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94) ~[HikariCP-5.0.1.jar:na]\nat com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-5.0.1.jar:na]\nat org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n... 38 common frames omitted</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":4181375,"reputation":5121,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1683463260,"post_id":76193883,"comment_id":134367616,"body_markdown":"what do you mean under &quot;search functionality is not working&quot;? restrictions `cb.lessThan` and `cb.greaterThan` produced by your code are mutually exclusive.","body":"what do you mean under &quot;search functionality is not working&quot;? restrictions <code>cb.lessThan</code> and <code>cb.greaterThan</code> produced by your code are mutually exclusive."},{"owner":{"account_id":965625,"reputation":1524,"user_id":1103606,"accept_rate":51,"display_name":"Peter Penzov"},"score":0,"creation_date":1683463495,"post_id":76193883,"comment_id":134367645,"body_markdown":"I mean data is not returned. What should be the proper way to select data range?","body":"I mean data is not returned. What should be the proper way to select data range?"},{"owner":{"account_id":4181375,"reputation":5121,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1683464696,"post_id":76193883,"comment_id":134367798,"body_markdown":"I believe you need to spend some time on redesigning your search API. Typically, when someone wants to find something using range/interval, he provides either both or just one interval boundary, based on that we build corresponding restrictions, in your cause there is no interval at all, so, it is broken by design.","body":"I believe you need to spend some time on redesigning your search API. Typically, when someone wants to find something using range/interval, he provides either both or just one interval boundary, based on that we build corresponding restrictions, in your cause there is no interval at all, so, it is broken by design."},{"owner":{"account_id":965625,"reputation":1524,"user_id":1103606,"accept_rate":51,"display_name":"Peter Penzov"},"score":0,"creation_date":1683464820,"post_id":76193883,"comment_id":134367824,"body_markdown":"Ok, I will use 2 variables `createdAtFrom` and `createdAtTo`. What should be the variable type and how to implement interval search into `getUsersBySpecification` method?","body":"Ok, I will use 2 variables <code>createdAtFrom</code> and <code>createdAtTo</code>. What should be the variable type and how to implement interval search into <code>getUsersBySpecification</code> method?"}],"answers":[{"comments":[{"owner":{"account_id":965625,"reputation":1524,"user_id":1103606,"accept_rate":51,"display_name":"Peter Penzov"},"score":0,"creation_date":1683491820,"post_id":76195841,"comment_id":134371474,"body_markdown":"Thanks. Why do you use `@DateTimeFormat(iso = DATE_TIME)`? Is it mandatory?","body":"Thanks. Why do you use <code>@DateTimeFormat(iso = DATE_TIME)</code>? Is it mandatory?"},{"owner":{"account_id":14860080,"reputation":934,"user_id":10731216,"display_name":"HereAndBeyond"},"score":0,"creation_date":1683527269,"post_id":76195841,"comment_id":134374576,"body_markdown":"I&#39;m using `@DateTimeFormat(iso = DATE_TIME)` to tell Spring how to parse income parameters of `LocalDateTime`. Without the annotation, you will get an exception. A bit more information you can find here: `https://www.baeldung.com/spring-date-parameters`. In the article some other ways of parsing are listed. And also shown the problem of parsing request parameters to `LocalDateTime` without annotations and additional configurations","body":"I&#39;m using <code>@DateTimeFormat(iso = DATE_TIME)</code> to tell Spring how to parse income parameters of <code>LocalDateTime</code>. Without the annotation, you will get an exception. A bit more information you can find here: <code>https:&#47;&#47;www.baeldung.com&#47;spring-date-parameters</code>. In the article some other ways of parsing are listed. And also shown the problem of parsing request parameters to <code>LocalDateTime</code> without annotations and additional configurations"},{"owner":{"account_id":965625,"reputation":1524,"user_id":1103606,"accept_rate":51,"display_name":"Peter Penzov"},"score":0,"creation_date":1683554044,"post_id":76195841,"comment_id":134380151,"body_markdown":"I have one additional question: In my case in order to reduce the endpoint code I send a Java Object `UserSearchParams` with search params(See above). Is the annotation code that I added a valid example?","body":"I have one additional question: In my case in order to reduce the endpoint code I send a Java Object <code>UserSearchParams</code> with search params(See above). Is the annotation code that I added a valid example?"},{"owner":{"account_id":14860080,"reputation":934,"user_id":10731216,"display_name":"HereAndBeyond"},"score":0,"creation_date":1683554627,"post_id":76195841,"comment_id":134380285,"body_markdown":"Yes, should work fine, I&#39;ve just checked that in my pet project and parameters were parsed successfully","body":"Yes, should work fine, I&#39;ve just checked that in my pet project and parameters were parsed successfully"}],"tags":[],"owner":{"account_id":14860080,"reputation":934,"user_id":10731216,"display_name":"HereAndBeyond"},"comment_count":4,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1683486935,"creation_date":1683486935,"answer_id":76195841,"question_id":76193883,"body_markdown":"Let me answer step by ste **based on the experience that I have (multiple different enterprise projects)**. Additional note: I was mostly working with PostgreSQL as a database.\r\n- Usually `LocalDateTime` is used. Because it&#39;s a bit more convenient to work with an it has no time-zone info. For databases usually `timestamp` is the appropriate column type. \r\n- Spring Boot is able to parse request parameters to `LocalDateTime` type without explicit custom config implementations. Here is an example of request for `LocalDateTime` type:\r\n  - `https://localhost:8080/my/endpoint?startDate=2023-01-01T00:30:00.000&amp;endDate=2023-12-31T23:30:00.000`\r\n  - `https://localhost:8080/my/endpoint?startDate=2023-01-01T00%3A30%3A00.000&amp;endDate=2023-12-31T23%3A30%3A00.000` (html decoded)\r\n\r\n   Here is the appropriate controller code:\r\n```java\r\n    @GetMapping(value = &quot;/my/endpoint&quot;)\r\n    public void myMethod(\r\n            @RequestParam(name = &quot;startDate&quot;) @DateTimeFormat(iso = DATE_TIME) LocalDateTime startDate,\r\n            @RequestParam(name = &quot;endDate&quot;) @DateTimeFormat(iso = DATE_TIME) LocalDateTime endDate) {\r\n        return doSearch(startDate, endDate);\r\n    }\r\n```\r\n\r\n   But be careful with old Spring versions. From my experience, it should work since Spring Boot 2.2.X. ***The idea is to have an implementation of JPA higher than 2.1 version, because in 2.1 version there is no convenient using of `LocalDateTime`.*** Simply put, use modern versions. \r\n\r\nA bit more information can be found [here][1].\r\n   \r\n   \r\n- As for implementation. Using `LocalDateTime` and JPA implementation 2.2 or higher, your code should work. You can also check code samples here:\r\n  - [https://dzone.com/articles/dealing-with-javas-localdatetime-in-jpa][2]\r\n  - [enter link description here][3] (it&#39;s about `LocalDate`, but should work with `LocalDateTime` too.\r\n\r\n\r\n  [1]: https://vladmihalcea.com/whats-new-in-jpa-2-2-java-8-date-and-time-types/\r\n  [2]: https://dzone.com/articles/dealing-with-javas-localdatetime-in-jpa\r\n  [3]: https://spring.io/blog/2011/04/26/advanced-spring-data-jpa-specifications-and-querydsl","title":"Implement search with date range","body":"<p>Let me answer step by ste <strong>based on the experience that I have (multiple different enterprise projects)</strong>. Additional note: I was mostly working with PostgreSQL as a database.</p>\n<ul>\n<li><p>Usually <code>LocalDateTime</code> is used. Because it's a bit more convenient to work with an it has no time-zone info. For databases usually <code>timestamp</code> is the appropriate column type.</p>\n</li>\n<li><p>Spring Boot is able to parse request parameters to <code>LocalDateTime</code> type without explicit custom config implementations. Here is an example of request for <code>LocalDateTime</code> type:</p>\n<ul>\n<li><code>https://localhost:8080/my/endpoint?startDate=2023-01-01T00:30:00.000&amp;endDate=2023-12-31T23:30:00.000</code></li>\n<li><code>https://localhost:8080/my/endpoint?startDate=2023-01-01T00%3A30%3A00.000&amp;endDate=2023-12-31T23%3A30%3A00.000</code> (html decoded)</li>\n</ul>\n<p>Here is the appropriate controller code:</p>\n</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>    @GetMapping(value = &quot;/my/endpoint&quot;)\n    public void myMethod(\n            @RequestParam(name = &quot;startDate&quot;) @DateTimeFormat(iso = DATE_TIME) LocalDateTime startDate,\n            @RequestParam(name = &quot;endDate&quot;) @DateTimeFormat(iso = DATE_TIME) LocalDateTime endDate) {\n        return doSearch(startDate, endDate);\n    }\n</code></pre>\n<p>But be careful with old Spring versions. From my experience, it should work since Spring Boot 2.2.X. <em><strong>The idea is to have an implementation of JPA higher than 2.1 version, because in 2.1 version there is no convenient using of <code>LocalDateTime</code>.</strong></em> Simply put, use modern versions.</p>\n<p>A bit more information can be found <a href=\"https://vladmihalcea.com/whats-new-in-jpa-2-2-java-8-date-and-time-types/\" rel=\"nofollow noreferrer\">here</a>.</p>\n<ul>\n<li>As for implementation. Using <code>LocalDateTime</code> and JPA implementation 2.2 or higher, your code should work. You can also check code samples here:\n<ul>\n<li><a href=\"https://dzone.com/articles/dealing-with-javas-localdatetime-in-jpa\" rel=\"nofollow noreferrer\">https://dzone.com/articles/dealing-with-javas-localdatetime-in-jpa</a></li>\n<li><a href=\"https://spring.io/blog/2011/04/26/advanced-spring-data-jpa-specifications-and-querydsl\" rel=\"nofollow noreferrer\">enter link description here</a> (it's about <code>LocalDate</code>, but should work with <code>LocalDateTime</code> too.</li>\n</ul>\n</li>\n</ul>\n"}],"owner":{"account_id":965625,"reputation":1524,"user_id":1103606,"accept_rate":51,"display_name":"Peter Penzov"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76195841,"answer_count":1,"score":1,"last_activity_date":1683554074,"creation_date":1683461939,"question_id":76193883,"body_markdown":"I want to implement Date range search using Spring Boot. I tried this:\r\n\r\nurl: `localhost:8080/users/users?page=0&amp;size=3&amp;createdAt=2023-05-02T04:57:19.83795Z`\r\n\r\n***Endpoint:***\r\n\r\n        @GetMapping(value = &quot;/users&quot;, produces = MediaType.APPLICATION_JSON_VALUE)\r\n        public Page&lt;UsersResource&gt; getUsersBySearchSpecification(@Valid UserSearchParams params, Pageable pageable)\r\n        {\r\n            Page&lt;UsersResource&gt; list = userService.getUsersBySpecification(params, pageable);\r\n            return list;\r\n        }\r\n\r\n***UserSearchParams:***\r\n\r\n    @Getter\r\n    @Setter\r\n    public class UserSearchParams {\r\n\r\n        private String param1;\r\n\r\n        private Integer param2;\r\n\r\n        private List&lt;String&gt; param3;\r\n    \r\n        @DateTimeFormat(iso = DATE_TIME) \r\n        LocalDateTime startDate;\r\n\r\n        private OffsetDateTime createdAt;\r\n    }\r\n\r\n***Search functionality:***\r\n\r\n        public Page&lt;Users&gt; getUsersBySpecification(UserSearchParams params, Pageable pageable)\r\n        {\r\n            Specification&lt;Users&gt; spec = (root, query, cb) -&gt; {\r\n                List&lt;Predicate&gt; predicates = new ArrayList&lt;&gt;();\r\n                if (params.getCreatedAt() != null) {\r\n                    predicates.add(cb.greaterThan(root.get(&quot;createdAt&quot;), params.getCreatedAt()));\r\n                }\r\n                if (params.getCreatedAt() != null) {\r\n                    predicates.add(cb.lessThan(root.get(&quot;createdAt&quot;), params.getCreatedAt()));\r\n                }\r\n                return cb.and(predicates.toArray(new Predicate[predicates.size()]));\r\n            };\r\n\r\n        return userRepository.findAll(spec, pageable);\r\n    }\r\n\r\nThe search functionality is not working. What data type should I use for `createdAt`? `OffsetDateTime` or `LocalDateTime` is better alternative?\r\n\r\nShould I manually parse the value `2023-05-02T04:57:19.83795Z` or I can rely on Spring Boot to parse the date?.\r\n\r\nIs this code properly implemented:\r\n\r\n            if (params.getCreatedAt() != null) {\r\n                predicates.add(cb.greaterThan(root.get(&quot;createdAt&quot;), params.getCreatedAt()));\r\n            }\r\n            if (params.getCreatedAt() != null) {\r\n                predicates.add(cb.lessThan(root.get(&quot;createdAt&quot;), params.getCreatedAt()));\r\n            }\r\n\r\nOr there is better way to to have this range select?","title":"Implement search with date range","body":"<p>I want to implement Date range search using Spring Boot. I tried this:</p>\n<p>url: <code>localhost:8080/users/users?page=0&amp;size=3&amp;createdAt=2023-05-02T04:57:19.83795Z</code></p>\n<p><em><strong>Endpoint:</strong></em></p>\n<pre><code>    @GetMapping(value = &quot;/users&quot;, produces = MediaType.APPLICATION_JSON_VALUE)\n    public Page&lt;UsersResource&gt; getUsersBySearchSpecification(@Valid UserSearchParams params, Pageable pageable)\n    {\n        Page&lt;UsersResource&gt; list = userService.getUsersBySpecification(params, pageable);\n        return list;\n    }\n</code></pre>\n<p><em><strong>UserSearchParams:</strong></em></p>\n<pre><code>@Getter\n@Setter\npublic class UserSearchParams {\n\n    private String param1;\n\n    private Integer param2;\n\n    private List&lt;String&gt; param3;\n\n    @DateTimeFormat(iso = DATE_TIME) \n    LocalDateTime startDate;\n\n    private OffsetDateTime createdAt;\n}\n</code></pre>\n<p><em><strong>Search functionality:</strong></em></p>\n<pre><code>    public Page&lt;Users&gt; getUsersBySpecification(UserSearchParams params, Pageable pageable)\n    {\n        Specification&lt;Users&gt; spec = (root, query, cb) -&gt; {\n            List&lt;Predicate&gt; predicates = new ArrayList&lt;&gt;();\n            if (params.getCreatedAt() != null) {\n                predicates.add(cb.greaterThan(root.get(&quot;createdAt&quot;), params.getCreatedAt()));\n            }\n            if (params.getCreatedAt() != null) {\n                predicates.add(cb.lessThan(root.get(&quot;createdAt&quot;), params.getCreatedAt()));\n            }\n            return cb.and(predicates.toArray(new Predicate[predicates.size()]));\n        };\n\n    return userRepository.findAll(spec, pageable);\n}\n</code></pre>\n<p>The search functionality is not working. What data type should I use for <code>createdAt</code>? <code>OffsetDateTime</code> or <code>LocalDateTime</code> is better alternative?</p>\n<p>Should I manually parse the value <code>2023-05-02T04:57:19.83795Z</code> or I can rely on Spring Boot to parse the date?.</p>\n<p>Is this code properly implemented:</p>\n<pre><code>        if (params.getCreatedAt() != null) {\n            predicates.add(cb.greaterThan(root.get(&quot;createdAt&quot;), params.getCreatedAt()));\n        }\n        if (params.getCreatedAt() != null) {\n            predicates.add(cb.lessThan(root.get(&quot;createdAt&quot;), params.getCreatedAt()));\n        }\n</code></pre>\n<p>Or there is better way to to have this range select?</p>\n"},{"tags":["java","android-studio","firebase-realtime-database","firebase-authentication","android-volley"],"comments":[{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1683538319,"post_id":76199156,"comment_id":134376688,"body_markdown":"Please edit your question and add your database structure as a JSON file. You can simply get it by clicking the Export JSON in the overflow menu (⠇) in your [Firebase Console](https://console.firebase.google.com/u/0/project/_/database/data).","body":"Please edit your question and add your database structure as a JSON file. You can simply get it by clicking the Export JSON in the overflow menu (⠇) in your <a href=\"https://console.firebase.google.com/u/0/project/_/database/data\" rel=\"nofollow noreferrer\">Firebase Console</a>."},{"owner":{"account_id":72426,"reputation":573804,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":0,"creation_date":1683553613,"post_id":76199156,"comment_id":134380072,"body_markdown":"How is `authToken` initialized?","body":"How is <code>authToken</code> initialized?"},{"owner":{"account_id":21952459,"reputation":214,"user_id":16231514,"display_name":"Franklyn Oreben"},"score":0,"creation_date":1683554355,"post_id":76199156,"comment_id":134380217,"body_markdown":"This is how i get the authToken @ \nFrank van Puffelen\n`user.getIdToken(true).addOnSuccessListener(new OnSuccessListener&lt;GetTokenResult&gt;() {\n  @Override\n  public void onSuccess(GetTokenResult result) {\n    String idToken = result.getToken();\n    //Do whatever\n    authToken = idToken;\n  }\n});`","body":"This is how i get the authToken @  Frank van Puffelen <code>user.getIdToken(true).addOnSuccessListener(new OnSuccessListener&lt;GetTokenResult&gt;() {   @Override   public void onSuccess(GetTokenResult result) {     String idToken = result.getToken();     &#47;&#47;Do whatever     authToken = idToken;   } });</code>"}],"owner":{"account_id":21952459,"reputation":214,"user_id":16231514,"display_name":"Franklyn Oreben"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683553541,"creation_date":1683537491,"question_id":76199156,"body_markdown":"I have no problem using a volley request to my firebase database when I set the rules as:\r\n```\r\n{\r\n &quot;rules&quot;: {\r\n   &quot;.read&quot;: true,\r\n   &quot;.write&quot;: true\r\n }\r\n}\r\n```\r\nHowever the request is denied witha 401 or 400 error when I make a Volley request to a Firebase database that has its rules set as:\r\n```\r\n{\r\n &quot;rules&quot;: {\r\n   &quot;.read&quot;: &quot;auth != null &amp;&amp; auth.uid != null &amp;&amp; auth.token.email_verified == true&quot;,\r\n   &quot;.write&quot;: &quot;auth != null &amp;&amp; auth.uid != null &amp;&amp; auth.token.email_verified == true&quot;\r\n }\r\n}\r\n```\r\nI have attempted to use authentication to my volley request but it still wouldn&#39;t work. This is how i make my request.\r\n\r\n```\r\nString url = DBLINK+&quot;/users.json&quot;;\r\nStringRequest request = new StringRequest(Request.Method.GET, url, new Response.Listener&lt;String&gt;(){\r\n    @Override\r\n    public void onResponse(String s) {\r\n        if(s.equals(&quot;null&quot;)){\r\n            //Toast.makeText(Login.this, &quot;&quot;+getApplicationContext().getResources().getString(R.string.user_not_found), Toast.LENGTH_LONG).show();\r\n            RegisterUserMyStyle();\r\n        }\r\n        else{\r\n            try {\r\n                JSONObject obj = new JSONObject(s);\r\n\r\n                if(!obj.has(savedUsername)){\r\n                    //Toast.makeText(Login.this, &quot;&quot;+getApplicationContext().getResources().getString(R.string.user_not_found), Toast.LENGTH_LONG).show();\r\n                    RegisterUserMyStyle();\r\n                }\r\n                else if(obj.getJSONObject(savedUsername).getString(&quot;password&quot;).equals(pass)){\r\n                   Toast.makeText(Login.this, &quot;Login Succede&quot;, Toast.LENGTH_SHORT).show();\r\n                }\r\n                else {\r\n                    Toast.makeText(Login.this, &quot;incorrect password&quot;, Toast.LENGTH_LONG).show();\r\n                }\r\n            } catch (JSONException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n\r\n        pd.dismiss();\r\n    }\r\n},new Response.ErrorListener(){\r\n    @Override\r\n    public void onErrorResponse(VolleyError volleyError) {\r\n        System.out.println(&quot;&quot; + volleyError);\r\n        pd.dismiss();\r\n    }\r\n}) {\r\n    @Override\r\n    public Map&lt;String, String&gt; getHeaders() throws AuthFailureError {\r\n        Map&lt;String, String&gt;  params = new HashMap&lt;String, String&gt;();\r\n        params.put(&quot;Authorization&quot;, &quot;auth_token=\\&quot;&quot; + authToken + &quot;\\&quot;&quot;);\r\n        params.put(&quot;auth != null &amp;&amp; auth.uid != null &amp;&amp; auth.token.email_verified == true&quot;, &quot;&quot;);\r\n\r\n        return params;\r\n    }\r\n};\r\n\r\nRequestQueue rQueue = Volley.newRequestQueue(Login.this);\r\nrQueue.add(request);\r\n```","title":"How to Make a Volley Request to a Firebase Database with Security Rules Set?","body":"<p>I have no problem using a volley request to my firebase database when I set the rules as:</p>\n<pre><code>{\n &quot;rules&quot;: {\n   &quot;.read&quot;: true,\n   &quot;.write&quot;: true\n }\n}\n</code></pre>\n<p>However the request is denied witha 401 or 400 error when I make a Volley request to a Firebase database that has its rules set as:</p>\n<pre><code>{\n &quot;rules&quot;: {\n   &quot;.read&quot;: &quot;auth != null &amp;&amp; auth.uid != null &amp;&amp; auth.token.email_verified == true&quot;,\n   &quot;.write&quot;: &quot;auth != null &amp;&amp; auth.uid != null &amp;&amp; auth.token.email_verified == true&quot;\n }\n}\n</code></pre>\n<p>I have attempted to use authentication to my volley request but it still wouldn't work. This is how i make my request.</p>\n<pre><code>String url = DBLINK+&quot;/users.json&quot;;\nStringRequest request = new StringRequest(Request.Method.GET, url, new Response.Listener&lt;String&gt;(){\n    @Override\n    public void onResponse(String s) {\n        if(s.equals(&quot;null&quot;)){\n            //Toast.makeText(Login.this, &quot;&quot;+getApplicationContext().getResources().getString(R.string.user_not_found), Toast.LENGTH_LONG).show();\n            RegisterUserMyStyle();\n        }\n        else{\n            try {\n                JSONObject obj = new JSONObject(s);\n\n                if(!obj.has(savedUsername)){\n                    //Toast.makeText(Login.this, &quot;&quot;+getApplicationContext().getResources().getString(R.string.user_not_found), Toast.LENGTH_LONG).show();\n                    RegisterUserMyStyle();\n                }\n                else if(obj.getJSONObject(savedUsername).getString(&quot;password&quot;).equals(pass)){\n                   Toast.makeText(Login.this, &quot;Login Succede&quot;, Toast.LENGTH_SHORT).show();\n                }\n                else {\n                    Toast.makeText(Login.this, &quot;incorrect password&quot;, Toast.LENGTH_LONG).show();\n                }\n            } catch (JSONException e) {\n                e.printStackTrace();\n            }\n        }\n\n        pd.dismiss();\n    }\n},new Response.ErrorListener(){\n    @Override\n    public void onErrorResponse(VolleyError volleyError) {\n        System.out.println(&quot;&quot; + volleyError);\n        pd.dismiss();\n    }\n}) {\n    @Override\n    public Map&lt;String, String&gt; getHeaders() throws AuthFailureError {\n        Map&lt;String, String&gt;  params = new HashMap&lt;String, String&gt;();\n        params.put(&quot;Authorization&quot;, &quot;auth_token=\\&quot;&quot; + authToken + &quot;\\&quot;&quot;);\n        params.put(&quot;auth != null &amp;&amp; auth.uid != null &amp;&amp; auth.token.email_verified == true&quot;, &quot;&quot;);\n\n        return params;\n    }\n};\n\nRequestQueue rQueue = Volley.newRequestQueue(Login.this);\nrQueue.add(request);\n</code></pre>\n"},{"tags":["java","android","api","google-play-services","ironsource"],"owner":{"account_id":28242847,"reputation":11,"user_id":21590375,"display_name":"prog "},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":409,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1683553060,"creation_date":1683553060,"question_id":76201154,"body_markdown":"I&#39;m facing an issue with displaying rewarded ads in my Android app using the ironSource SDK. When I try to show a rewarded video, I&#39;m getting the following error message: &quot;API: showRewardedVideo error: show called while no ads are available&quot;. Additionally, I&#39;m seeing a warning message stating that my app requires the Google Play Store, but it is missing.\r\n\r\nI have followed the documentation and integrated the ironSource SDK correctly. I have also configured the ad units and placements in my ironSource account, and they are active. I&#39;m testing the app on an Android emulator in Android Studio.\r\n\r\nI would like to know if there are any specific steps or configurations that I might be missing in order to make the rewarded ads work properly. Is there any additional setup or initialization required for the ironSource SDK? Could this issue be related to the absence of the Google Play Store on the emulator?\r\n\r\nAny guidance or insights on how to resolve this issue would be greatly appreciated. Thank you in advance for your help!\r\n\r\n\r\n_________________\r\nand my code now\r\n\r\n\r\n```\r\nublic class testMain extends AppCompatActivity {\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_test_main);\r\n\r\n        IronSource.init(this, &quot;197be235d&quot;);\r\n\r\n\r\n        IronSource.loadRewardedVideo();\r\n        IronSource.setLevelPlayRewardedVideoListener(new LevelPlayRewardedVideoListener() {\r\n            // Indicates that there&#39;s an available ad.\r\n            // The adInfo object includes information about the ad that was loaded successfully\r\n            // Use this callback instead of onRewardedVideoAvailabilityChanged(true)\r\n            @Override\r\n            public void onAdAvailable(AdInfo adInfo) {}\r\n            // Indicates that no ads are available to be displayed\r\n            // Use this callback instead of onRewardedVideoAvailabilityChanged(false)\r\n            @Override\r\n            public void onAdUnavailable() {}\r\n            // The Rewarded Video ad view has opened. Your activity will loose focus\r\n            @Override\r\n            public void onAdOpened(AdInfo adInfo) {}\r\n            // The Rewarded Video ad view is about to be closed. Your activity will regain its focus\r\n            @Override\r\n            public void onAdClosed(AdInfo adInfo) {}\r\n            // The user completed to watch the video, and should be rewarded.\r\n            // The placement parameter will include the reward data.\r\n            // When using server-to-server callbacks, you may ignore this event and wait for the ironSource server callback\r\n            @Override\r\n            public void onAdRewarded(Placement placement, AdInfo adInfo) {}\r\n            // The rewarded video ad was failed to show\r\n            @Override\r\n            public void onAdShowFailed(IronSourceError error, AdInfo adInfo) {}\r\n            // Invoked when the video ad was clicked.\r\n            // This callback is not supported by all networks, and we recommend using it\r\n            // only if it&#39;s supported by all networks you included in your build\r\n            @Override\r\n            public void onAdClicked(Placement placement, AdInfo adInfo) {}\r\n        });\r\n\r\n        IronSource.setLevelPlayInterstitialListener(new LevelPlayInterstitialListener() {\r\n            // Invoked when the interstitial ad was loaded successfully.\r\n            // AdInfo parameter includes information about the loaded ad\r\n            @Override\r\n            public void onAdReady(AdInfo adInfo) {}\r\n            // Indicates that the ad failed to be loaded\r\n            @Override\r\n            public void onAdLoadFailed(IronSourceError error) {}\r\n            // Invoked when the Interstitial Ad Unit has opened, and user left the application screen.\r\n            // This is the impression indication.\r\n            @Override\r\n            public void onAdOpened(AdInfo adInfo) {}\r\n            // Invoked when the interstitial ad closed and the user went back to the application screen.\r\n            @Override\r\n            public void onAdClosed(AdInfo adInfo) {}\r\n            // Invoked when the ad failed to show\r\n            @Override\r\n            public void onAdShowFailed(IronSourceError error, AdInfo adInfo) {}\r\n            // Invoked when end user clicked on the interstitial ad\r\n            @Override\r\n            public void onAdClicked(AdInfo adInfo) {}\r\n            // Invoked before the interstitial ad was opened, and before the InterstitialOnAdOpenedEvent is reported.\r\n            // This callback is not supported by all networks, and we recommend using it only if\r\n            // it&#39;s supported by all networks you included in your build.\r\n            @Override\r\n            public void onAdShowSucceeded(AdInfo adInfo){}\r\n        });\r\n\r\n\r\n        IronSource.loadInterstitial();\r\n\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n    public void radst(View view) {\r\n\r\n        IronSource.showRewardedVideo(&quot;DefaultRewardedVideo&quot;);\r\n\r\n    }\r\n\r\n    public void iadst(View view) {\r\n\r\n        IronSource.showInterstitial(&quot;DefaultInterstitial&quot;);\r\n\r\n    }\r\n    protected void onResume() {\r\n        super.onResume();\r\n        IronSource.onResume(this);\r\n    }\r\n    protected void onPause() {\r\n        super.onPause();\r\n        IronSource.onPause(this);\r\n    }\r\n}\r\n```\r\n\r\n\r\nI am facing an issue with displaying rewarded ads in my Android app using ironSource SDK. I have followed the documentation and implemented the necessary code, but the rewarded ads are not showing up as expected. Here are the details of what I have tried:\r\n\r\nIntegrated ironSource SDK into my app following the provided instructions.\r\nConfigured the ad unit and placement settings in the ironSource dashboard.\r\nImplemented the necessary code to load and show rewarded ads in the appropriate part of my app.\r\nChecked the logcat for any error messages or warnings related to the ad display.\r\nExpected behavior:\r\nI expect the rewarded ads to be displayed when the corresponding action is triggered by the user. The ads should provide a reward upon completion and then resume the app&#39;s normal flow.\r\n\r\nActual result:\r\nHowever, when I trigger the action to show the rewarded ad, I receive the following error message in the logcat:\r\n&quot;API: showRewardedVideo error: show called while no ads are available&quot;\r\n\r\nI have also noticed the following warning message:\r\n&quot;com.example.myapplication requires the Google Play Store, but it is missing.&quot;\r\n\r\nI would greatly appreciate any assistance or insights into resolving this issue. Thank you in advance for your help.","title":"Issue with displaying rewarded ads in my Android app","body":"<p>I'm facing an issue with displaying rewarded ads in my Android app using the ironSource SDK. When I try to show a rewarded video, I'm getting the following error message: &quot;API: showRewardedVideo error: show called while no ads are available&quot;. Additionally, I'm seeing a warning message stating that my app requires the Google Play Store, but it is missing.</p>\n<p>I have followed the documentation and integrated the ironSource SDK correctly. I have also configured the ad units and placements in my ironSource account, and they are active. I'm testing the app on an Android emulator in Android Studio.</p>\n<p>I would like to know if there are any specific steps or configurations that I might be missing in order to make the rewarded ads work properly. Is there any additional setup or initialization required for the ironSource SDK? Could this issue be related to the absence of the Google Play Store on the emulator?</p>\n<p>Any guidance or insights on how to resolve this issue would be greatly appreciated. Thank you in advance for your help!</p>\n<hr />\n<p>and my code now</p>\n<pre><code>ublic class testMain extends AppCompatActivity {\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_test_main);\n\n        IronSource.init(this, &quot;197be235d&quot;);\n\n\n        IronSource.loadRewardedVideo();\n        IronSource.setLevelPlayRewardedVideoListener(new LevelPlayRewardedVideoListener() {\n            // Indicates that there's an available ad.\n            // The adInfo object includes information about the ad that was loaded successfully\n            // Use this callback instead of onRewardedVideoAvailabilityChanged(true)\n            @Override\n            public void onAdAvailable(AdInfo adInfo) {}\n            // Indicates that no ads are available to be displayed\n            // Use this callback instead of onRewardedVideoAvailabilityChanged(false)\n            @Override\n            public void onAdUnavailable() {}\n            // The Rewarded Video ad view has opened. Your activity will loose focus\n            @Override\n            public void onAdOpened(AdInfo adInfo) {}\n            // The Rewarded Video ad view is about to be closed. Your activity will regain its focus\n            @Override\n            public void onAdClosed(AdInfo adInfo) {}\n            // The user completed to watch the video, and should be rewarded.\n            // The placement parameter will include the reward data.\n            // When using server-to-server callbacks, you may ignore this event and wait for the ironSource server callback\n            @Override\n            public void onAdRewarded(Placement placement, AdInfo adInfo) {}\n            // The rewarded video ad was failed to show\n            @Override\n            public void onAdShowFailed(IronSourceError error, AdInfo adInfo) {}\n            // Invoked when the video ad was clicked.\n            // This callback is not supported by all networks, and we recommend using it\n            // only if it's supported by all networks you included in your build\n            @Override\n            public void onAdClicked(Placement placement, AdInfo adInfo) {}\n        });\n\n        IronSource.setLevelPlayInterstitialListener(new LevelPlayInterstitialListener() {\n            // Invoked when the interstitial ad was loaded successfully.\n            // AdInfo parameter includes information about the loaded ad\n            @Override\n            public void onAdReady(AdInfo adInfo) {}\n            // Indicates that the ad failed to be loaded\n            @Override\n            public void onAdLoadFailed(IronSourceError error) {}\n            // Invoked when the Interstitial Ad Unit has opened, and user left the application screen.\n            // This is the impression indication.\n            @Override\n            public void onAdOpened(AdInfo adInfo) {}\n            // Invoked when the interstitial ad closed and the user went back to the application screen.\n            @Override\n            public void onAdClosed(AdInfo adInfo) {}\n            // Invoked when the ad failed to show\n            @Override\n            public void onAdShowFailed(IronSourceError error, AdInfo adInfo) {}\n            // Invoked when end user clicked on the interstitial ad\n            @Override\n            public void onAdClicked(AdInfo adInfo) {}\n            // Invoked before the interstitial ad was opened, and before the InterstitialOnAdOpenedEvent is reported.\n            // This callback is not supported by all networks, and we recommend using it only if\n            // it's supported by all networks you included in your build.\n            @Override\n            public void onAdShowSucceeded(AdInfo adInfo){}\n        });\n\n\n        IronSource.loadInterstitial();\n\n    }\n\n\n\n\n\n\n    public void radst(View view) {\n\n        IronSource.showRewardedVideo(&quot;DefaultRewardedVideo&quot;);\n\n    }\n\n    public void iadst(View view) {\n\n        IronSource.showInterstitial(&quot;DefaultInterstitial&quot;);\n\n    }\n    protected void onResume() {\n        super.onResume();\n        IronSource.onResume(this);\n    }\n    protected void onPause() {\n        super.onPause();\n        IronSource.onPause(this);\n    }\n}\n</code></pre>\n<p>I am facing an issue with displaying rewarded ads in my Android app using ironSource SDK. I have followed the documentation and implemented the necessary code, but the rewarded ads are not showing up as expected. Here are the details of what I have tried:</p>\n<p>Integrated ironSource SDK into my app following the provided instructions.\nConfigured the ad unit and placement settings in the ironSource dashboard.\nImplemented the necessary code to load and show rewarded ads in the appropriate part of my app.\nChecked the logcat for any error messages or warnings related to the ad display.\nExpected behavior:\nI expect the rewarded ads to be displayed when the corresponding action is triggered by the user. The ads should provide a reward upon completion and then resume the app's normal flow.</p>\n<p>Actual result:\nHowever, when I trigger the action to show the rewarded ad, I receive the following error message in the logcat:\n&quot;API: showRewardedVideo error: show called while no ads are available&quot;</p>\n<p>I have also noticed the following warning message:\n&quot;com.example.myapplication requires the Google Play Store, but it is missing.&quot;</p>\n<p>I would greatly appreciate any assistance or insights into resolving this issue. Thank you in advance for your help.</p>\n"},{"tags":["java","json","substring","jolt"],"answers":[{"tags":[],"owner":{"account_id":7712415,"reputation":60542,"user_id":5841306,"display_name":"Barbaros &#214;zhan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1683552810,"creation_date":1683552810,"answer_id":76201125,"question_id":76200838,"body_markdown":"Your approach, is pretty good, which would be improved like the one below :\r\n\r\n```json\r\n[\r\n  {\r\n    &quot;operation&quot;: &quot;shift&quot;,\r\n    &quot;spec&quot;: {\r\n      &quot;*&quot;: {\r\n        &quot;*:*,&quot;: {\r\n          &quot;@|$(0,2)&quot;: &quot;&amp;2&quot;\r\n        }\r\n      }\r\n    }\r\n  },\r\n  {\r\n    &quot;operation&quot;: &quot;modify-overwrite-beta&quot;,\r\n    &quot;spec&quot;: {\r\n      &quot;*&quot;: &quot;=split(&#39;,&#39;,@(1,&amp;))&quot;\r\n    }\r\n  },\r\n  {\r\n    &quot;operation&quot;: &quot;cardinality&quot;,\r\n    &quot;spec&quot;: {\r\n      &quot;*&quot;: &quot;ONE&quot;\r\n    }\r\n  }\r\n]\r\n```\r\n\r\nwhere the first spec(**shift**) returns\r\n\r\n```json\r\n{\r\n  &quot;key1&quot; : &quot;qqq,rrr&quot;,\r\n  &quot;key2&quot; : &quot;222&quot;,\r\n  &quot;key3&quot; : &quot;bbb&quot;\r\n}\r\n```\r\nthen we extract the piece before the comma(s) if there&#39;s any(in this case exists only for key-value pair `&quot;key1&quot; : &quot;qqq,rrr&quot;` )","title":"Extracting a substring from multiple values in A JSON using JOLT spec","body":"<p>Your approach, is pretty good, which would be improved like the one below :</p>\n<pre class=\"lang-json prettyprint-override\"><code>[\n  {\n    &quot;operation&quot;: &quot;shift&quot;,\n    &quot;spec&quot;: {\n      &quot;*&quot;: {\n        &quot;*:*,&quot;: {\n          &quot;@|$(0,2)&quot;: &quot;&amp;2&quot;\n        }\n      }\n    }\n  },\n  {\n    &quot;operation&quot;: &quot;modify-overwrite-beta&quot;,\n    &quot;spec&quot;: {\n      &quot;*&quot;: &quot;=split(',',@(1,&amp;))&quot;\n    }\n  },\n  {\n    &quot;operation&quot;: &quot;cardinality&quot;,\n    &quot;spec&quot;: {\n      &quot;*&quot;: &quot;ONE&quot;\n    }\n  }\n]\n</code></pre>\n<p>where the first spec(<strong>shift</strong>) returns</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;key1&quot; : &quot;qqq,rrr&quot;,\n  &quot;key2&quot; : &quot;222&quot;,\n  &quot;key3&quot; : &quot;bbb&quot;\n}\n</code></pre>\n<p>then we extract the piece before the comma(s) if there's any(in this case exists only for key-value pair <code>&quot;key1&quot; : &quot;qqq,rrr&quot;</code> )</p>\n"}],"owner":{"account_id":28546749,"reputation":13,"user_id":21852073,"display_name":"tmanral"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":109,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76201125,"answer_count":1,"score":1,"last_activity_date":1683553041,"creation_date":1683550697,"question_id":76200838,"body_markdown":"I have below json as input and I want to extract a substring from all the values. This targeted substring lies between a colon and a comma.\r\n\r\nInput JSON:\r\n```json\r\n{\r\n  &quot;key1&quot;: &quot;ppp:qqq,rrr,&quot;,\r\n  &quot;key2&quot;: &quot;111:222,&quot;,\r\n  &quot;key3&quot;: &quot;aaa:bbb,&quot;\r\n}\r\n```\r\n\r\nExpected JSON output:\r\n```json\r\n{\r\n  &quot;key1&quot;: &quot;qqq,&quot;,\r\n  &quot;key2&quot;: &quot;222&quot;,\r\n  &quot;key3&quot;: &quot;bbb&quot;\r\n}\r\n```\r\n\r\nMy current JOLT spec is working but only for the first key.\r\n```json\r\n[\r\n  {\r\n    &quot;operation&quot;: &quot;shift&quot;,\r\n    &quot;spec&quot;: {\r\n      &quot;*&quot;: {\r\n        &quot;*:*,*&quot;: {\r\n          &quot;$(0,2)&quot;: &quot;key1&quot;\r\n        }\r\n      }\r\n    }\r\n  }\r\n]\r\n```\r\nCurrent output:\r\n```json\r\n{\r\n  &quot;key1&quot;: &quot;qqq&quot;\r\n}\r\n```\r\nI need to modify my spec so that all keys present in the input json can be processed with the desired transformation.\r\n\r\n\r\n","title":"Extracting a substring from multiple values in A JSON using JOLT spec","body":"<p>I have below json as input and I want to extract a substring from all the values. This targeted substring lies between a colon and a comma.</p>\n<p>Input JSON:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;key1&quot;: &quot;ppp:qqq,rrr,&quot;,\n  &quot;key2&quot;: &quot;111:222,&quot;,\n  &quot;key3&quot;: &quot;aaa:bbb,&quot;\n}\n</code></pre>\n<p>Expected JSON output:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;key1&quot;: &quot;qqq,&quot;,\n  &quot;key2&quot;: &quot;222&quot;,\n  &quot;key3&quot;: &quot;bbb&quot;\n}\n</code></pre>\n<p>My current JOLT spec is working but only for the first key.</p>\n<pre class=\"lang-json prettyprint-override\"><code>[\n  {\n    &quot;operation&quot;: &quot;shift&quot;,\n    &quot;spec&quot;: {\n      &quot;*&quot;: {\n        &quot;*:*,*&quot;: {\n          &quot;$(0,2)&quot;: &quot;key1&quot;\n        }\n      }\n    }\n  }\n]\n</code></pre>\n<p>Current output:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;key1&quot;: &quot;qqq&quot;\n}\n</code></pre>\n<p>I need to modify my spec so that all keys present in the input json can be processed with the desired transformation.</p>\n"},{"tags":["java"],"answers":[{"comments":[{"owner":{"display_name":"user5746191"},"score":0,"creation_date":1452594163,"post_id":34740936,"comment_id":57227665,"body_markdown":"LLogiq, is there any simple samples for this. I cant understand this, as I am new to this.. Thanks","body":"LLogiq, is there any simple samples for this. I cant understand this, as I am new to this.. Thanks"}],"tags":[],"owner":{"account_id":3286109,"reputation":14055,"user_id":2765603,"accept_rate":90,"display_name":"llogiq"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1452601200,"creation_date":1452593907,"answer_id":34740936,"question_id":34740166,"body_markdown":"The `URL` class has a constructor `URL(URL context, String url)` that does what you tried doing with regexps.\r\n\r\nEdit: In your case the `context` URL is the source URL of the parsed resource. Let&#39;s say you parse something from `URL context = new URL(&quot;http://example.com/path/to/some.html#where?is+carmen+sandiego&quot;)`. Then you just take the reference of any link and create a `URL ref = new URL(context, src)`.","title":"How to get absolute url using java or jsoup","body":"<p>The <code>URL</code> class has a constructor <code>URL(URL context, String url)</code> that does what you tried doing with regexps.</p>\n\n<p>Edit: In your case the <code>context</code> URL is the source URL of the parsed resource. Let's say you parse something from <code>URL context = new URL(\"http://example.com/path/to/some.html#where?is+carmen+sandiego\")</code>. Then you just take the reference of any link and create a <code>URL ref = new URL(context, src)</code>.</p>\n"},{"tags":[],"owner":{"account_id":5588540,"reputation":12118,"user_id":4428462,"accept_rate":86,"display_name":"Jonas Czech"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1452623137,"creation_date":1452623137,"answer_id":34751156,"question_id":34740166,"body_markdown":"There are essentially two ways to get the absolute URL:\n\n* Using Jsoup&#39;s `abs:href` attribute getter. It works like this:\n\n        Element a = myDoc.select(&quot;a&quot;).first(); //selects tue first link on the page, replace with whatever selector you need to get your link (a element)\n        String url = a.attr(&quot;abs:href&quot;); //gets the absolute url of the link (href attribute)\n\n    Note that you need to provide Jsoup with the URL of the HTML document you are using, so it can resolve the URL correctly, this is done automatically if you use `Jsoup.connect(myHtmlUrl).get()`, if you are parsing HTML from a String or from a file, you need to provide it, use the appropriate `Jsoup.parse()` method which allows you to provide a base URL\n\n* The other way is with Java&#39;s built in URL class, **which is probably what you should use in your case**. You can use it like this:\n\n        String absoluteUrl = new URL(new URL(&quot;http://example.com/example.html&quot;), &quot;script.js&quot;)\n\n    Which would print:\n\n        http://example.com/script.js\n\n    To clarify a bit, the first parameter (in this case example.com) is the url your HTML document is from, and the second parameter (&quot;script.js&quot;) is the URL found _in_ your HTML.\n\n    In your case, you could use it like:\n        \n        String absoluteUrl = new URL(new URL(&quot;https://www.url.com/&quot;), &quot;/ajax/libs/jquery/2.1.1/jquery.min.js&quot;)\n\n    Which will print:\n\n        https://www.url.com/ajax/libs/jquery/2.1.1/jquery.min.js","title":"How to get absolute url using java or jsoup","body":"<p>There are essentially two ways to get the absolute URL:</p>\n\n<ul>\n<li><p>Using Jsoup's <code>abs:href</code> attribute getter. It works like this:</p>\n\n<pre><code>Element a = myDoc.select(\"a\").first(); //selects tue first link on the page, replace with whatever selector you need to get your link (a element)\nString url = a.attr(\"abs:href\"); //gets the absolute url of the link (href attribute)\n</code></pre>\n\n<p>Note that you need to provide Jsoup with the URL of the HTML document you are using, so it can resolve the URL correctly, this is done automatically if you use <code>Jsoup.connect(myHtmlUrl).get()</code>, if you are parsing HTML from a String or from a file, you need to provide it, use the appropriate <code>Jsoup.parse()</code> method which allows you to provide a base URL</p></li>\n<li><p>The other way is with Java's built in URL class, <strong>which is probably what you should use in your case</strong>. You can use it like this:</p>\n\n<pre><code>String absoluteUrl = new URL(new URL(\"http://example.com/example.html\"), \"script.js\")\n</code></pre>\n\n<p>Which would print:</p>\n\n<pre><code>http://example.com/script.js\n</code></pre>\n\n<p>To clarify a bit, the first parameter (in this case example.com) is the url your HTML document is from, and the second parameter (\"script.js\") is the URL found <em>in</em> your HTML.</p>\n\n<p>In your case, you could use it like:</p>\n\n<pre><code>String absoluteUrl = new URL(new URL(\"https://www.url.com/\"), \"/ajax/libs/jquery/2.1.1/jquery.min.js\")\n</code></pre>\n\n<p>Which will print:</p>\n\n<pre><code>https://www.url.com/ajax/libs/jquery/2.1.1/jquery.min.js\n</code></pre></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":14284626,"reputation":695,"user_id":10318272,"display_name":"S. Doe"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683552972,"creation_date":1683552972,"answer_id":76201142,"question_id":34740166,"body_markdown":"In JSoup you can use `org.jsoup.nodes.Node.absUrl(String)` as an alternative to `attr(&quot;abs:href&quot;)` what @jonas-czech described.","title":"How to get absolute url using java or jsoup","body":"<p>In JSoup you can use <code>org.jsoup.nodes.Node.absUrl(String)</code> as an alternative to <code>attr(&quot;abs:href&quot;)</code> what @jonas-czech described.</p>\n"}],"owner":{"display_name":"user5746191"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1514,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":34751156,"answer_count":3,"score":3,"last_activity_date":1683552972,"creation_date":1452591871,"question_id":34740166,"body_markdown":"I am having a textbox and submit button in my jsp page. When submitting this button with some url in textbox, I am getting the response of that url using URLConnection\r\n\r\n        String strUrl = request.getParameter(&quot;url&quot;);\r\n\t\tURL url = new URL(strUrl);\r\n\t\tHttpURLConnection connection = (HttpURLConnection) url.openConnection();\r\n\t\tbyte[] encodedBytes = Base64.encodeBase64(&quot;root:pass&quot;.getBytes());\r\n\t\tString encoding = new String(encodedBytes);\r\n\t\tHttpURLConnection connection = (HttpURLConnection) url.openConnection();\r\n\t\tconnection.setRequestMethod(&quot;GET&quot;);\r\n\t\tconnection.connect();\r\n\r\n\t\tInputStream content = (InputStream) connection.getInputStream();\r\n\t\tBufferedReader in = new BufferedReader(new InputStreamReader(content));\r\n\t\ttry {\r\n\t\t\tfWriter = new FileWriter(new File(&quot;f:\\\\new.html&quot;));\r\n\t\t\twriter = new BufferedWriter(fWriter);\r\n\t\t\twhile ((line = in.readLine()) != null) {\r\n\t\t\t\tString s = line.toString();\r\n\t\t\t\twriter.write(s);\t\r\n            }\t\t\t\t\r\n\t\t\twriter.close();\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\r\nIn the resulting html page, every css and js and images were missing as they are pointed to get from local.\r\nfor example, js is placed as followed in my generated html page.\r\n\r\n\t\t&lt;script src=&quot;/ajax/libs/jquery/2.1.1/jquery.min.js&quot;&gt;&lt;/script&gt;\r\n\r\nBut this actual src is as follows,\r\n\r\n\t\t&lt;script src=&quot;https://www.url.com/ajax/libs/jquery/2.1.1/jquery.min.js&quot;&gt;&lt;/script&gt;\r\n\r\n\r\nI know that there are many solution to replace all src, href with url host. Found many answers related to that.\r\n\r\nI used a solution as follows,\r\n\r\n\t\tif (s.contains((&quot;href=&quot;))) {\r\n\t\t\tif (s.contains(&quot;\\&quot;../&quot;) || s.contains(&quot;\\&quot;/&quot;)) {\r\n\t\t\t\t\t\ts = s.replace(&quot;\\&quot;../&quot;, &quot;\\&quot;http://&quot; + url.getHost() + &quot;/&quot;);\r\n\t\t\t\t\t\ts = s.replace(&quot;\\&quot;/&quot;, &quot;\\&quot;http://&quot; + url.getHost() + &quot;/&quot;);\r\n\t\t\t\t\t\twriter.write(s);\r\n\t\t\t\t\t\tout.println(s);\r\n\t\t\t}\r\n\t\t}\r\n\r\nNow I am able to get link,but its not useful in all the web sites. which means that it will helpful for only sites having that kind of host only prefix with src and hrefs.\r\n\r\nIn some websites, links are defined as href=&quot;frmArticles.aspx&quot;. In this case its not enough to add host with href url, because href and src are different even though I prefix with host. For example, folowing URL having href links as different than its URL.\r\n\r\nhttp://www.nakkheeran.in/Users/frmMagazine.aspx?M=2\r\n\r\n\t\t&lt;a href=&quot;frmArticles.aspx?A=25744&quot;&gt;தை தை தை&lt;/a&gt;\r\n\r\nIf, I am adding host to this href it becomes as follows,\r\n\r\n\t\t&lt;a href=&quot;http://www.nakkheeran.in/frmArticles.aspx?A=25744&quot;&gt;தை தை தை&lt;/a&gt;\r\n\r\nAnd this is not available. Because, the actual url is \r\n\r\n\t\t&lt;a href=&quot;http://www.nakkheeran.in/Users/frmArticles.aspx?A=25744&quot;&gt;தை தை தை&lt;/a&gt;","title":"How to get absolute url using java or jsoup","body":"<p>I am having a textbox and submit button in my jsp page. When submitting this button with some url in textbox, I am getting the response of that url using URLConnection</p>\n\n<pre><code>    String strUrl = request.getParameter(\"url\");\n    URL url = new URL(strUrl);\n    HttpURLConnection connection = (HttpURLConnection) url.openConnection();\n    byte[] encodedBytes = Base64.encodeBase64(\"root:pass\".getBytes());\n    String encoding = new String(encodedBytes);\n    HttpURLConnection connection = (HttpURLConnection) url.openConnection();\n    connection.setRequestMethod(\"GET\");\n    connection.connect();\n\n    InputStream content = (InputStream) connection.getInputStream();\n    BufferedReader in = new BufferedReader(new InputStreamReader(content));\n    try {\n        fWriter = new FileWriter(new File(\"f:\\\\new.html\"));\n        writer = new BufferedWriter(fWriter);\n        while ((line = in.readLine()) != null) {\n            String s = line.toString();\n            writer.write(s);    \n        }               \n        writer.close();\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n</code></pre>\n\n<p>In the resulting html page, every css and js and images were missing as they are pointed to get from local.\nfor example, js is placed as followed in my generated html page.</p>\n\n<pre><code>    &lt;script src=\"/ajax/libs/jquery/2.1.1/jquery.min.js\"&gt;&lt;/script&gt;\n</code></pre>\n\n<p>But this actual src is as follows,</p>\n\n<pre><code>    &lt;script src=\"https://www.url.com/ajax/libs/jquery/2.1.1/jquery.min.js\"&gt;&lt;/script&gt;\n</code></pre>\n\n<p>I know that there are many solution to replace all src, href with url host. Found many answers related to that.</p>\n\n<p>I used a solution as follows,</p>\n\n<pre><code>    if (s.contains((\"href=\"))) {\n        if (s.contains(\"\\\"../\") || s.contains(\"\\\"/\")) {\n                    s = s.replace(\"\\\"../\", \"\\\"http://\" + url.getHost() + \"/\");\n                    s = s.replace(\"\\\"/\", \"\\\"http://\" + url.getHost() + \"/\");\n                    writer.write(s);\n                    out.println(s);\n        }\n    }\n</code></pre>\n\n<p>Now I am able to get link,but its not useful in all the web sites. which means that it will helpful for only sites having that kind of host only prefix with src and hrefs.</p>\n\n<p>In some websites, links are defined as href=\"frmArticles.aspx\". In this case its not enough to add host with href url, because href and src are different even though I prefix with host. For example, folowing URL having href links as different than its URL.</p>\n\n<p><a href=\"http://www.nakkheeran.in/Users/frmMagazine.aspx?M=2\" rel=\"nofollow\">http://www.nakkheeran.in/Users/frmMagazine.aspx?M=2</a></p>\n\n<pre><code>    &lt;a href=\"frmArticles.aspx?A=25744\"&gt;தை தை தை&lt;/a&gt;\n</code></pre>\n\n<p>If, I am adding host to this href it becomes as follows,</p>\n\n<pre><code>    &lt;a href=\"http://www.nakkheeran.in/frmArticles.aspx?A=25744\"&gt;தை தை தை&lt;/a&gt;\n</code></pre>\n\n<p>And this is not available. Because, the actual url is </p>\n\n<pre><code>    &lt;a href=\"http://www.nakkheeran.in/Users/frmArticles.aspx?A=25744\"&gt;தை தை தை&lt;/a&gt;\n</code></pre>\n"},{"tags":["java","mongodb","spring-boot","spring-batch"],"comments":[{"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"score":0,"creation_date":1682692450,"post_id":76128600,"comment_id":134260420,"body_markdown":"It is not clear how you run jobs to process half the dataset each time. Are those different job instances? Updating flags on items would cause an issue with paging readers, but should work fine with cursor-based readers like in your case. Is there another process updating items while the batch job is processing them? A minimal example that reproduces the issue would be helpful to help you efficiently: https://stackoverflow.com/help/minimal-reproducible-example.","body":"It is not clear how you run jobs to process half the dataset each time. Are those different job instances? Updating flags on items would cause an issue with paging readers, but should work fine with cursor-based readers like in your case. Is there another process updating items while the batch job is processing them? A minimal example that reproduces the issue would be helpful to help you efficiently: <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">stackoverflow.com/help/minimal-reproducible-example</a>."},{"owner":{"account_id":27733228,"reputation":1,"user_id":21171332,"display_name":"AnonymousFox"},"score":0,"creation_date":1682697424,"post_id":76128600,"comment_id":134261550,"body_markdown":"Unless you specify otherwise (`spring.batch.job.enabled=false` ) they will run once on their own. Or you could set an `@Scheduled` parameter on an extra `MyJobRunner` class that will run and re-run the job. Both ways reproduce the same result, so I let Spring automatically start it upon application launch. To &quot;restart&quot; the job I just restart the application (or scheduler does it in the other case).\n\nThere is nothing else doing anything, the only thing in my application is the batch job config and database model. Short of providing a github link, there is no more info to provide.","body":"Unless you specify otherwise (<code>spring.batch.job.enabled=false</code> ) they will run once on their own. Or you could set an <code>@Scheduled</code> parameter on an extra <code>MyJobRunner</code> class that will run and re-run the job. Both ways reproduce the same result, so I let Spring automatically start it upon application launch. To &quot;restart&quot; the job I just restart the application (or scheduler does it in the other case).  There is nothing else doing anything, the only thing in my application is the batch job config and database model. Short of providing a github link, there is no more info to provide."},{"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"score":0,"creation_date":1683198371,"post_id":76128600,"comment_id":134331283,"body_markdown":"And what is the issue? Is the fact that the job is reading half the data each new run what you consider an issue? That is a design decision IMO, not related to spring batch, and is not necessarily an issue. A spring batch job is expected to process a fixed data set. If you change the input during the processing, it should not be surprising that next executions process more or less data, depending on filtering criteria given to the reader and data modification implemented in the processor.","body":"And what is the issue? Is the fact that the job is reading half the data each new run what you consider an issue? That is a design decision IMO, not related to spring batch, and is not necessarily an issue. A spring batch job is expected to process a fixed data set. If you change the input during the processing, it should not be surprising that next executions process more or less data, depending on filtering criteria given to the reader and data modification implemented in the processor."},{"owner":{"account_id":27733228,"reputation":1,"user_id":21171332,"display_name":"AnonymousFox"},"score":0,"creation_date":1683386511,"post_id":76128600,"comment_id":134360482,"body_markdown":"Doesn&#39;t the reader execute the query for each new set of data if I configure the cursor to have a specified batch size? I enabled detailed logs on mongodb and I could see that it was executing new queries. I am confused as to why it would always process exactly half of the data if it kept making new queries.","body":"Doesn&#39;t the reader execute the query for each new set of data if I configure the cursor to have a specified batch size? I enabled detailed logs on mongodb and I could see that it was executing new queries. I am confused as to why it would always process exactly half of the data if it kept making new queries."},{"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"score":0,"creation_date":1683441713,"post_id":76128600,"comment_id":134365316,"body_markdown":"I guess it process half-data because each run it changes the processAt, so the next run it will select less data.","body":"I guess it process half-data because each run it changes the processAt, so the next run it will select less data."}],"answers":[{"tags":[],"owner":{"account_id":27733228,"reputation":1,"user_id":21171332,"display_name":"AnonymousFox"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1683552827,"creation_date":1683544635,"answer_id":76200071,"question_id":76128600,"body_markdown":"I figured out what the issue was, and it&#39;s caused by the way `ItemReader` fetches new data.\r\n\r\nI logged every query on the database and came upon this line:\r\n```\r\n{ find: &quot;message&quot;, filter: { processedAt: { $exists: false } },\r\nskip: 8190, limit: 10, batchSize: 1000, noCursorTimeout: true, $db: ...\r\n\r\n```\r\n\r\nThe interaction between `skip` and `filter` causes data to be skipped because once an item has been processed (and marked as such in the database) it is no longer returned by the `filter`-query. That means that when `skip` is called on the query, it is skipping over *unprocessed data* since the processed data was excluded from the query. \r\n\r\n**The conclusion from this is that it is not possible to update the data while it is being processed.**\r\n\r\n&lt;hr /&gt;\r\n\r\nThe workaround I used was to remove the query parameter for `processedAt` and create a new `ItemProcessor` that checks if the item has been processed before passing it on to `ItemWriter`. The efficiency of this is questionable. If you expect the query to return mostly data that is valid for processing (i.e. without the `processedAt` field), then it&#39;s a good solution. If you expect a lot of data is going to be discarded because it already has a `processedAt` flag, then you might want to look into other solutions (and please do share them if you figure something out).\r\n\r\nThis is what the `ItemProcessor` looks like, nothing fancy:\r\n```\r\npublic class MyItemProcessor implements ItemProcessor&lt;TroublesomeModel, TroublesomeModel&gt; {\r\n    @Override\r\n    public TroublesomeModel process(TroublesomeModel item) throws Exception {\r\n        if (item.getProcessedAt() != null) {\r\n            return null;\r\n        }\r\n        return item;\r\n    }\r\n}\r\n```\r\nAnd since I am using `BulkOperations` in my `ItemWriter` which cannot handle empty lists, there needs to be a null check before entering it as well.\r\n\r\n&lt;hr /&gt;\r\n\r\nAn alternative workaround would be to just execute the query as-is, with the `processedAt` flag, set a `reader.maxItemCount` to a low enough number (in my case 1000), and re-run the job inside a scheduler on repeat. This fits my use case since it&#39;s supposed to actively process data as it arrives. No data is duplicated and it doesn&#39;t cause any unnecessary data processing or lengthy database queries.","title":"Spring Batch reading half data when field used to query with Reader is being updated with Writer","body":"<p>I figured out what the issue was, and it's caused by the way <code>ItemReader</code> fetches new data.</p>\n<p>I logged every query on the database and came upon this line:</p>\n<pre><code>{ find: &quot;message&quot;, filter: { processedAt: { $exists: false } },\nskip: 8190, limit: 10, batchSize: 1000, noCursorTimeout: true, $db: ...\n\n</code></pre>\n<p>The interaction between <code>skip</code> and <code>filter</code> causes data to be skipped because once an item has been processed (and marked as such in the database) it is no longer returned by the <code>filter</code>-query. That means that when <code>skip</code> is called on the query, it is skipping over <em>unprocessed data</em> since the processed data was excluded from the query.</p>\n<p><strong>The conclusion from this is that it is not possible to update the data while it is being processed.</strong></p>\n<hr />\n<p>The workaround I used was to remove the query parameter for <code>processedAt</code> and create a new <code>ItemProcessor</code> that checks if the item has been processed before passing it on to <code>ItemWriter</code>. The efficiency of this is questionable. If you expect the query to return mostly data that is valid for processing (i.e. without the <code>processedAt</code> field), then it's a good solution. If you expect a lot of data is going to be discarded because it already has a <code>processedAt</code> flag, then you might want to look into other solutions (and please do share them if you figure something out).</p>\n<p>This is what the <code>ItemProcessor</code> looks like, nothing fancy:</p>\n<pre><code>public class MyItemProcessor implements ItemProcessor&lt;TroublesomeModel, TroublesomeModel&gt; {\n    @Override\n    public TroublesomeModel process(TroublesomeModel item) throws Exception {\n        if (item.getProcessedAt() != null) {\n            return null;\n        }\n        return item;\n    }\n}\n</code></pre>\n<p>And since I am using <code>BulkOperations</code> in my <code>ItemWriter</code> which cannot handle empty lists, there needs to be a null check before entering it as well.</p>\n<hr />\n<p>An alternative workaround would be to just execute the query as-is, with the <code>processedAt</code> flag, set a <code>reader.maxItemCount</code> to a low enough number (in my case 1000), and re-run the job inside a scheduler on repeat. This fits my use case since it's supposed to actively process data as it arrives. No data is duplicated and it doesn't cause any unnecessary data processing or lengthy database queries.</p>\n"}],"owner":{"account_id":27733228,"reputation":1,"user_id":21171332,"display_name":"AnonymousFox"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":635,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76200071,"answer_count":1,"score":0,"last_activity_date":1683552827,"creation_date":1682677069,"question_id":76128600,"body_markdown":"I have a peculiar problem with my Spring Boot batch processing Job.\r\n\r\nThe Job reads only half the data from MongoDB, and with each subsequent run it reads half the remaining data (e.g. 30k -&gt; 15k -&gt; 7.5k...), and it finally finishes when there&#39;s sub 1000 documents remaining since I set `cursorBatchSize(1000)` in my `ItemReader`.\r\n\r\nThe issue occurs because my `ItemReader` queries for all documents that do not have the attribute `processedAt`. It then passes them onto the `ItemReader`, which processes them and adds the `processedAt` attribute to the documents, and then saves hem inside the *same* collection the reader is currently going through.\r\n\r\nI wrote an entirely new SpringBoot application to recreate this, removed everything that&#39;s irrelevant to the issue, minimized all data models, etc., so there&#39;s nothing custom about the Job or Batch config.\r\n\r\nIt doesn&#39;t look like a memory issue since when I run it with the query parameters set to return all documents it works fine.\r\n\r\nI don&#39;t think it&#39;s a race condition since the issue persists after setting `throttleLimit(1)` or specifying a TaskExecutor with only 1 Thread.\r\n\r\nThe Document in question only has 2 fields: a `name` attribute and a `processedAt` attribute, which isn&#39;t appended onto it until the document has been successfully processed.\r\n\r\nHere&#39;s the `ItemReader`:\r\n\r\n```\r\n    @Bean(name = &quot;myReader&quot;)\r\n    @StepScope\r\n    public MongoItemReader&lt;TroublesomeModel&gt; reader() {\r\n        Query query = new Query();\r\n        query.addCriteria(Criteria.where(&quot;processedAt&quot;).exists(false));\r\n\r\n        query.noCursorTimeout();\r\n        query.cursorBatchSize(1000);\r\n\r\n        MongoItemReader&lt;TroublesomeModel&gt; reader = new MongoItemReader&lt;&gt;();\r\n        reader.setTemplate(mongoTemplate);\r\n        reader.setTargetType(TroublesomeModel.class);\r\n        reader.setSaveState(false);\r\n        reader.setQuery(query);\r\n\r\n        return reader;\r\n    }\r\n```\r\n\r\nThe `ItemWriter`:\r\n\r\n```\r\n    @Override\r\n    public void write(List&lt;? extends TroublesomeModel&gt; items) {\r\n        BulkOperations bulkOperations = mongoTemplate.bulkOps(BulkOperations.BulkMode.UNORDERED, TroublesomeModel.class);\r\n\r\n        for (TroublesomeModel item: items) {\r\n            item.setAsProcessed();\r\n            bulkOperations.updateMulti(\r\n                    Query.query(Criteria.where(&quot;_id&quot;).is(item.getId())),\r\n                    new Update().set(&quot;processedAt&quot;, item.getProcessedAt())\r\n            );\r\n        }\r\n\r\n        bulkOperations.execute();\r\n    }\r\n\r\n    @Bean(name = &quot;myWriter&quot;)\r\n    @StepScope\r\n    public ItemWriter&lt;TroublesomeModel&gt; writer() {\r\n        return new BatchItemWriterConfig(mongoTemplate);\r\n    }\r\n```\r\n\r\nAnd the `Job` and `Step` configuration:\r\n\r\n```\r\n    @Bean(name = &quot;myStep&quot;)\r\n    public Step step(\r\n            @Qualifier(&quot;myReader&quot;) MongoItemReader&lt;TroublesomeModel&gt; myReader,\r\n            @Qualifier(&quot;myWriter&quot;) ItemWriter&lt;? super TroublesomeModel&gt; myWriter\r\n    ) {\r\n        return stepBuilderFactory.get(&quot;step&quot;)\r\n                .&lt;TroublesomeModel, TroublesomeModel&gt;chunk(100) // has to be 100\r\n                .reader(myReader)\r\n                .writer(myWriter)\r\n                .throttleLimit(10)\r\n                .build();\r\n    }\r\n\r\n    @Bean(name = &quot;myJob&quot;)\r\n    public Job myJob(@Qualifier(&quot;myStep&quot;) Step step) {\r\n        return jobBuilderFactory\r\n                .get(JOB_NAME)\r\n                .start(step)\r\n                .build();\r\n    }\r\n```\r\n\r\nIs my current logic just not feasible to implement or is there something I&#39;m missing?","title":"Spring Batch reading half data when field used to query with Reader is being updated with Writer","body":"<p>I have a peculiar problem with my Spring Boot batch processing Job.</p>\n<p>The Job reads only half the data from MongoDB, and with each subsequent run it reads half the remaining data (e.g. 30k -&gt; 15k -&gt; 7.5k...), and it finally finishes when there's sub 1000 documents remaining since I set <code>cursorBatchSize(1000)</code> in my <code>ItemReader</code>.</p>\n<p>The issue occurs because my <code>ItemReader</code> queries for all documents that do not have the attribute <code>processedAt</code>. It then passes them onto the <code>ItemReader</code>, which processes them and adds the <code>processedAt</code> attribute to the documents, and then saves hem inside the <em>same</em> collection the reader is currently going through.</p>\n<p>I wrote an entirely new SpringBoot application to recreate this, removed everything that's irrelevant to the issue, minimized all data models, etc., so there's nothing custom about the Job or Batch config.</p>\n<p>It doesn't look like a memory issue since when I run it with the query parameters set to return all documents it works fine.</p>\n<p>I don't think it's a race condition since the issue persists after setting <code>throttleLimit(1)</code> or specifying a TaskExecutor with only 1 Thread.</p>\n<p>The Document in question only has 2 fields: a <code>name</code> attribute and a <code>processedAt</code> attribute, which isn't appended onto it until the document has been successfully processed.</p>\n<p>Here's the <code>ItemReader</code>:</p>\n<pre><code>    @Bean(name = &quot;myReader&quot;)\n    @StepScope\n    public MongoItemReader&lt;TroublesomeModel&gt; reader() {\n        Query query = new Query();\n        query.addCriteria(Criteria.where(&quot;processedAt&quot;).exists(false));\n\n        query.noCursorTimeout();\n        query.cursorBatchSize(1000);\n\n        MongoItemReader&lt;TroublesomeModel&gt; reader = new MongoItemReader&lt;&gt;();\n        reader.setTemplate(mongoTemplate);\n        reader.setTargetType(TroublesomeModel.class);\n        reader.setSaveState(false);\n        reader.setQuery(query);\n\n        return reader;\n    }\n</code></pre>\n<p>The <code>ItemWriter</code>:</p>\n<pre><code>    @Override\n    public void write(List&lt;? extends TroublesomeModel&gt; items) {\n        BulkOperations bulkOperations = mongoTemplate.bulkOps(BulkOperations.BulkMode.UNORDERED, TroublesomeModel.class);\n\n        for (TroublesomeModel item: items) {\n            item.setAsProcessed();\n            bulkOperations.updateMulti(\n                    Query.query(Criteria.where(&quot;_id&quot;).is(item.getId())),\n                    new Update().set(&quot;processedAt&quot;, item.getProcessedAt())\n            );\n        }\n\n        bulkOperations.execute();\n    }\n\n    @Bean(name = &quot;myWriter&quot;)\n    @StepScope\n    public ItemWriter&lt;TroublesomeModel&gt; writer() {\n        return new BatchItemWriterConfig(mongoTemplate);\n    }\n</code></pre>\n<p>And the <code>Job</code> and <code>Step</code> configuration:</p>\n<pre><code>    @Bean(name = &quot;myStep&quot;)\n    public Step step(\n            @Qualifier(&quot;myReader&quot;) MongoItemReader&lt;TroublesomeModel&gt; myReader,\n            @Qualifier(&quot;myWriter&quot;) ItemWriter&lt;? super TroublesomeModel&gt; myWriter\n    ) {\n        return stepBuilderFactory.get(&quot;step&quot;)\n                .&lt;TroublesomeModel, TroublesomeModel&gt;chunk(100) // has to be 100\n                .reader(myReader)\n                .writer(myWriter)\n                .throttleLimit(10)\n                .build();\n    }\n\n    @Bean(name = &quot;myJob&quot;)\n    public Job myJob(@Qualifier(&quot;myStep&quot;) Step step) {\n        return jobBuilderFactory\n                .get(JOB_NAME)\n                .start(step)\n                .build();\n    }\n</code></pre>\n<p>Is my current logic just not feasible to implement or is there something I'm missing?</p>\n"},{"tags":["java","javafx","scenebuilder"],"comments":[{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1683536442,"post_id":76197745,"comment_id":134376300,"body_markdown":"hmm .. can&#39;t reproduce (plain code, don&#39;t expect any difference when using fxml): webview and it&#39;s containing stage seem to appear at the same time. How do measure those intermittent &quot;frames&quot;?","body":"hmm .. can&#39;t reproduce (plain code, don&#39;t expect any difference when using fxml): webview and it&#39;s containing stage seem to appear at the same time. How do measure those intermittent &quot;frames&quot;?"},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1683538725,"post_id":76197745,"comment_id":134376764,"body_markdown":"curious: why the runlater?","body":"curious: why the runlater?"},{"owner":{"account_id":28542424,"reputation":21,"user_id":21848316,"display_name":"Monomantle"},"score":0,"creation_date":1683549232,"post_id":76197745,"comment_id":134379019,"body_markdown":"@kleopatra The runLater should will the `stage.show()` on the JavaFx Application Thread. I used a recording software to see how many frames it took before the WebView showed with its contents.","body":"@kleopatra The runLater should will the <code>stage.show()</code> on the JavaFx Application Thread. I used a recording software to see how many frames it took before the WebView showed with its contents."},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1683549320,"post_id":76197745,"comment_id":134379040,"body_markdown":"yeah, I know what runlater does, thanks for the reminder :) But: the notification from the worker already happens on the fx application thread, so wondering if you had another reason for doing it.","body":"yeah, I know what runlater does, thanks for the reminder :) But: the notification from the worker already happens on the fx application thread, so wondering if you had another reason for doing it."},{"owner":{"account_id":28542424,"reputation":21,"user_id":21848316,"display_name":"Monomantle"},"score":0,"creation_date":1683549488,"post_id":76197745,"comment_id":134379076,"body_markdown":"@kleopatra I did not know that. I just wanted to make sure I was running code on the right Thread.","body":"@kleopatra I did not know that. I just wanted to make sure I was running code on the right Thread."},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1683549770,"post_id":76197745,"comment_id":134379145,"body_markdown":"well, the java doc mentions it (a bit in-passing, though): _[worker&#39;s] state is observable and available to JavaFX applications and is usable from the main JavaFX Application thread_ :)","body":"well, the java doc mentions it (a bit in-passing, though): <i>[worker&#39;s] state is observable and available to JavaFX applications and is usable from the main JavaFX Application thread</i> :)"},{"owner":{"account_id":28542424,"reputation":21,"user_id":21848316,"display_name":"Monomantle"},"score":0,"creation_date":1683549841,"post_id":76197745,"comment_id":134379164,"body_markdown":"@kleopatra I will add images of the &quot;frames&quot; in question.","body":"@kleopatra I will add images of the &quot;frames&quot; in question."},{"owner":{"account_id":28542424,"reputation":21,"user_id":21848316,"display_name":"Monomantle"},"score":0,"creation_date":1683552668,"post_id":76197745,"comment_id":134379848,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/253537/discussion-between-monomantle-and-kleopatra).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/253537/discussion-between-monomantle-and-kleopatra\">continue this discussion in chat</a>."},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":1,"creation_date":1683552998,"post_id":76197745,"comment_id":134379933,"body_markdown":"no, I&#39;m not the chatty type ;)","body":"no, I&#39;m not the chatty type ;)"}],"answers":[{"tags":[],"owner":{"account_id":28542424,"reputation":21,"user_id":21848316,"display_name":"Monomantle"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683525226,"creation_date":1683524913,"answer_id":76197813,"question_id":76197745,"body_markdown":"The problem occurs because of the stage decorator and the way that the `start()` method works, in general. A workaround to this is to set the following in MyApp:\r\n\r\n    stage = new Stage(StageStyle.TRANSPARENT); //Replace stage = primaryStage with this\r\n    stage.setOpacity(0);\r\n\tstage.show();\r\n\r\n`StageStyle.TRANSPARENT` removes the decoration, which will, i believe, prioritize the WebView to load faster because it doesn&#39;t need to be loaded. `stage.setOpacity(0);` hides the stage while it loads in the background with `stage.show();`\r\n\r\nand in the `Platform.runLater();` method, set the following:\r\n\r\n    stage.setOpacity(1);\r\n\r\nThis will reveal the stage along with the loaded WebView when you launch the application. I have verified it by recording myself starting the app and analyzing the recording frame-byframe to see how well it works. My results are that it loads with the frame at a 60th of a second (cannot attest for anything in-between). The previous code has about 2 frames where the WebView was not loaded. Hence, there is a very noticable difference in the two.\r\n\r\nThe downside is that you will have to make your down custom decorator.","title":"Load WebView And Its Contents With The Stage At The Same Time | JavaFX","body":"<p>The problem occurs because of the stage decorator and the way that the <code>start()</code> method works, in general. A workaround to this is to set the following in MyApp:</p>\n<pre><code>stage = new Stage(StageStyle.TRANSPARENT); //Replace stage = primaryStage with this\nstage.setOpacity(0);\nstage.show();\n</code></pre>\n<p><code>StageStyle.TRANSPARENT</code> removes the decoration, which will, i believe, prioritize the WebView to load faster because it doesn't need to be loaded. <code>stage.setOpacity(0);</code> hides the stage while it loads in the background with <code>stage.show();</code></p>\n<p>and in the <code>Platform.runLater();</code> method, set the following:</p>\n<pre><code>stage.setOpacity(1);\n</code></pre>\n<p>This will reveal the stage along with the loaded WebView when you launch the application. I have verified it by recording myself starting the app and analyzing the recording frame-byframe to see how well it works. My results are that it loads with the frame at a 60th of a second (cannot attest for anything in-between). The previous code has about 2 frames where the WebView was not loaded. Hence, there is a very noticable difference in the two.</p>\n<p>The downside is that you will have to make your down custom decorator.</p>\n"}],"owner":{"account_id":28542424,"reputation":21,"user_id":21848316,"display_name":"Monomantle"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1683552622,"creation_date":1683523842,"question_id":76197745,"body_markdown":"I am trying to load a WebView with its contents at the same time as the form.\r\n\r\nFor simplicity sake, this application consists of a WebView inside of a Pane. The WebView has an fx:id of webView.\r\n\r\nI am using JavaFX 20, Java 17, and SceneBuilder 19.\r\n\r\nHere is a simple recreation of what I tried to do:\r\n\r\n# Main:\r\n\r\n```\r\npackage example;\r\n \r\nimport javafx.application.Platform;\r\nimport javafx.application.Application;\r\nimport javafx.fxml.FXMLLoader;\r\nimport javafx.scene.Parent;\r\nimport javafx.scene.Scene;\r\nimport javafx.stage.Stage;\r\n \r\npublic class MyApp extends Application {\r\n    private static Stage stage;\r\n\r\n    @Override\r\n    public void start(Stage primaryStage) throws Exception{\r\n        Parent fxml = FXMLLoader.load(this.getClass().getResource(&quot;pathToFxmlFile&quot;));\r\n        Scene scene = new Scene(fxml);\r\n\r\n        stage = primaryStage;\r\n        stage.setScene(scene);\r\n    }\r\n    public static void main(String[] args) {\r\n        launch(args);\r\n    }\r\n    public static void showStage(){\r\n        Platform.runLater(()-&gt;stage.show());\r\n    }\r\n}\r\n```\r\n\r\n# Controller:\r\n\r\n```\r\npackage example;\r\n\r\nimport java.net.URL;\r\nimport java.util.ResourceBundle;\r\n\r\nimport javafx.beans.value.ChangeListener;\r\nimport javafx.concurrent.Worker;\r\nimport javafx.fxml.FXML;\r\nimport javafx.fxml.Initializable;\r\nimport javafx.scene.web.*;\r\n\r\npublic class MyController implements Initializable{\r\n  @FXML private WebView webView;\r\n  private WebEngine webEngine;\r\n\r\n  @Override\r\n  public void initialize(URL arg0, ResourceBundle arg1){\r\n    ChangeListener&lt;Object&gt; onDocChange = (obs, oldState, newState) -&gt; {\r\n    \tif (newState == Worker.State.SUCCEEDED){\r\n    \t    MyApp.showStage();\r\n    \t}else if(newState == Worker.State.FAILED){\r\n    \t\twebView.setVisible(false);\r\n    \t\tMyApp.showStage();\r\n    \t}\r\n    };\r\n    webEngine = webView.getEngine();\r\n    webEngine.getLoadWorker().stateProperty().addListener(onDocChange);\r\n    webEngine.load(&quot;urlToSite&quot;);\r\n  }\r\n}\r\n```\r\n\r\n\r\n\r\n**Goal:** My goal is to run the `start()` method and initialize the necessary components in the JavaFX Application Thread and then wait for the loading of the WebView to finish and then call `Platform.runLater();` with `stage.show()`, since the WebView would be loaded by then.\r\n\r\n**Result:** For a few frames, the stage will show an empty WebView or no Webview before loading the WebView.\r\n\r\n**Question:** How do I get the WebView, with all of its contents, to show at the same time as the Stage without it loading in a blank WebView for a split second?\r\n\r\n[![With StageStyle.TRASNSPARENT | W/ or Without Platform.runLater | Original Opacity][1]][1]\r\n[![With StageStyle.TRASNSPARENT | Without Platform.runLater() | Changing Opaciy][5]][5]\r\n[![Answer][7]][7]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/1Z7oF.png\r\n  [5]: https://i.stack.imgur.com/eoUEZ.png\r\n  [7]: https://i.stack.imgur.com/Ikk6z.png\r\n\r\nIn every variation that I tried, with or without `StageStyle`, `PlatForm.runLater();`, or `setOpacrity`, there are frames with no loaded WebView or an empty WebView (A variation of the first two images). The last image is the correct one (I cropped part of it). These images were captured via a screen recording tool and a video editor.","title":"Load WebView And Its Contents With The Stage At The Same Time | JavaFX","body":"<p>I am trying to load a WebView with its contents at the same time as the form.</p>\n<p>For simplicity sake, this application consists of a WebView inside of a Pane. The WebView has an fx:id of webView.</p>\n<p>I am using JavaFX 20, Java 17, and SceneBuilder 19.</p>\n<p>Here is a simple recreation of what I tried to do:</p>\n<h1>Main:</h1>\n<pre><code>package example;\n \nimport javafx.application.Platform;\nimport javafx.application.Application;\nimport javafx.fxml.FXMLLoader;\nimport javafx.scene.Parent;\nimport javafx.scene.Scene;\nimport javafx.stage.Stage;\n \npublic class MyApp extends Application {\n    private static Stage stage;\n\n    @Override\n    public void start(Stage primaryStage) throws Exception{\n        Parent fxml = FXMLLoader.load(this.getClass().getResource(&quot;pathToFxmlFile&quot;));\n        Scene scene = new Scene(fxml);\n\n        stage = primaryStage;\n        stage.setScene(scene);\n    }\n    public static void main(String[] args) {\n        launch(args);\n    }\n    public static void showStage(){\n        Platform.runLater(()-&gt;stage.show());\n    }\n}\n</code></pre>\n<h1>Controller:</h1>\n<pre><code>package example;\n\nimport java.net.URL;\nimport java.util.ResourceBundle;\n\nimport javafx.beans.value.ChangeListener;\nimport javafx.concurrent.Worker;\nimport javafx.fxml.FXML;\nimport javafx.fxml.Initializable;\nimport javafx.scene.web.*;\n\npublic class MyController implements Initializable{\n  @FXML private WebView webView;\n  private WebEngine webEngine;\n\n  @Override\n  public void initialize(URL arg0, ResourceBundle arg1){\n    ChangeListener&lt;Object&gt; onDocChange = (obs, oldState, newState) -&gt; {\n        if (newState == Worker.State.SUCCEEDED){\n            MyApp.showStage();\n        }else if(newState == Worker.State.FAILED){\n            webView.setVisible(false);\n            MyApp.showStage();\n        }\n    };\n    webEngine = webView.getEngine();\n    webEngine.getLoadWorker().stateProperty().addListener(onDocChange);\n    webEngine.load(&quot;urlToSite&quot;);\n  }\n}\n</code></pre>\n<p><strong>Goal:</strong> My goal is to run the <code>start()</code> method and initialize the necessary components in the JavaFX Application Thread and then wait for the loading of the WebView to finish and then call <code>Platform.runLater();</code> with <code>stage.show()</code>, since the WebView would be loaded by then.</p>\n<p><strong>Result:</strong> For a few frames, the stage will show an empty WebView or no Webview before loading the WebView.</p>\n<p><strong>Question:</strong> How do I get the WebView, with all of its contents, to show at the same time as the Stage without it loading in a blank WebView for a split second?</p>\n<p><a href=\"https://i.stack.imgur.com/1Z7oF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1Z7oF.png\" alt=\"With StageStyle.TRASNSPARENT | W/ or Without Platform.runLater | Original Opacity\" /></a>\n<a href=\"https://i.stack.imgur.com/eoUEZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/eoUEZ.png\" alt=\"With StageStyle.TRASNSPARENT | Without Platform.runLater() | Changing Opaciy\" /></a>\n<a href=\"https://i.stack.imgur.com/Ikk6z.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Ikk6z.png\" alt=\"Answer\" /></a></p>\n<p>In every variation that I tried, with or without <code>StageStyle</code>, <code>PlatForm.runLater();</code>, or <code>setOpacrity</code>, there are frames with no loaded WebView or an empty WebView (A variation of the first two images). The last image is the correct one (I cropped part of it). These images were captured via a screen recording tool and a video editor.</p>\n"},{"tags":["java","docker","maven","intellij-plugin","jib"],"comments":[{"owner":{"account_id":1881220,"reputation":4005,"user_id":1701388,"display_name":"Chanseok Oh"},"score":0,"creation_date":1666700737,"post_id":74192150,"comment_id":130994887,"body_markdown":"This is a Maven usage error. It is possible that you have a whitespace character (or some weird special character?) between `-Djib` and `.to.image=...` so that the latter is parsed as a separate token, being recognize as a plugin prefix.","body":"This is a Maven usage error. It is possible that you have a whitespace character (or some weird special character?) between <code>-Djib</code> and <code>.to.image=...</code> so that the latter is parsed as a separate token, being recognize as a plugin prefix."}],"answers":[{"comments":[{"owner":{"account_id":5547891,"reputation":1000,"user_id":4401979,"display_name":"FabioL"},"score":1,"creation_date":1683554592,"post_id":76201057,"comment_id":134380275,"body_markdown":"Sorry, this is not an answer","body":"Sorry, this is not an answer"}],"tags":[],"owner":{"account_id":26454327,"reputation":1,"user_id":20097077,"display_name":"yeskermesovv"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683552320,"creation_date":1683552320,"answer_id":76201057,"question_id":74192150,"body_markdown":"I had same issue when executing this script in windows powershell. Error disappeared when executed same command in CMD","title":"No plugin found for prefix &#39;.to.image=fullstack&#39; in the current project (Jib Maven Plugin)","body":"<p>I had same issue when executing this script in windows powershell. Error disappeared when executed same command in CMD</p>\n"}],"owner":{"account_id":16437875,"reputation":209,"user_id":14564074,"display_name":"noob234"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":177,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1683552320,"creation_date":1666691424,"question_id":74192150,"body_markdown":"I am trying to build a local Docker image with the Jib Maven plugin. \r\nI tried to run this command in my terminal (where I have my IntelliJ project):\r\n\r\n```D:\\GitHub\\fullstack\\fullstack&gt; ./mvnw jib:dockerBuild -Djib.to.image=fullstack:v1``` \r\n\r\nBut I get this log message:   \r\n```\r\nNo plugin found for prefix &#39;.to.image=fullstack&#39; in the current project and in the plugin groups [org.apache.maven.plugins, org.codehaus.mojo] a\r\nvailable from the repositories [local (C:\\Users\\emanuel.butoi\\.m2\\repository), central (https://repo.maven.apache.org/maven2)]\r\n``` \r\n\r\nI did a little bit of research on Google but I found nothing. I am not familiar with Maven, I am more familiar with Gradle. I will send pom.xml:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.7.4&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.emanuel&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;fullstack&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;fullstack&lt;/name&gt;\r\n\t&lt;description&gt;Fullstack project &lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;excludes&gt;\r\n\t\t\t\t\t\t&lt;exclude&gt;\r\n\t\t\t\t\t\t\t&lt;groupId&gt;org.project-lombok&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t\t\t\t&lt;/exclude&gt;\r\n\t\t\t\t\t&lt;/excludes&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;com.google.cloud.tools&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;jib-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;2.5.2&lt;/version&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;from&gt;\r\n\t\t\t\t\t\t&lt;image&gt;openjdk:8&lt;/image&gt;\r\n\t\t\t\t\t&lt;/from&gt;\r\n\t\t\t\t\t&lt;container&gt;\r\n\t\t\t\t\t\t&lt;ports&gt;\r\n\t\t\t\t\t\t\t&lt;port&gt;8080&lt;/port&gt;\r\n\t\t\t\t\t\t&lt;/ports&gt;\r\n\t\t\t\t\t\t&lt;format&gt;OCI&lt;/format&gt;\r\n\t\t\t\t\t&lt;/container&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\t&lt;profiles&gt;\r\n\t\t&lt;profile&gt;\r\n\t\t\t&lt;id&gt;build-frontend&lt;/id&gt;\r\n\t\t\t&lt;activation&gt;\r\n\t\t\t\t&lt;activeByDefault&gt;true&lt;/activeByDefault&gt;\r\n\t\t\t&lt;/activation&gt;\r\n\t\t\t&lt;build&gt;\r\n\t\t\t\t&lt;plugins&gt;\r\n\t\t\t\t\t&lt;plugin&gt;\r\n\t\t\t\t\t\t&lt;groupId&gt;com.github.eirslett&lt;/groupId&gt;\r\n\t\t\t\t\t\t&lt;artifactId&gt;frontend-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t\t\t&lt;!-- Use the latest released version:\r\n                                  https://repo1.maven.org/maven2/com/github/eirslett/frontend-maven-plugin/ --&gt;\r\n\t\t\t\t\t\t&lt;version&gt;1.11.2&lt;/version&gt;\r\n\t\t\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t\t\t&lt;nodeVersion&gt;v4.6.0&lt;/nodeVersion&gt;\r\n\t\t\t\t\t\t\t&lt;workingDirectory&gt;../frontend/build&lt;/workingDirectory&gt;\r\n\t\t\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t\t\t&lt;id&gt;install node and npm&lt;/id&gt;\r\n\t\t\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;goal&gt;install-node-and-npm&lt;/goal&gt;\r\n\t\t\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;nodeVersion&gt;v15.4.0&lt;/nodeVersion&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;npmVersion&gt;7.3.0&lt;/npmVersion&gt;\r\n\t\t\t\t\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t\t\t&lt;id&gt;npm install&lt;/id&gt;\r\n\t\t\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;goal&gt;npm&lt;/goal&gt;\r\n\t\t\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;arguments&gt;install&lt;/arguments&gt;\r\n\t\t\t\t\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t\t\t&lt;id&gt;npm run build&lt;/id&gt;\r\n\t\t\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;goal&gt;npm&lt;/goal&gt;\r\n\t\t\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;arguments&gt;run build&lt;/arguments&gt;\r\n\t\t\t\t\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t\t\t&lt;/executions&gt;\r\n\t\t\t\t\t&lt;/plugin&gt;\r\n\t\t\t\t\t&lt;plugin&gt;\r\n\t\t\t\t\t\t&lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\r\n\t\t\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t\t\t&lt;id&gt;copy-build-folder&lt;/id&gt;\r\n\t\t\t\t\t\t\t\t&lt;phase&gt;process-classes&lt;/phase&gt;\r\n\t\t\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;goal&gt;copy-resources&lt;/goal&gt;\r\n\t\t\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;resources&gt;\r\n\t\t\t\t\t\t\t\t\t\t&lt;resource&gt;\r\n\t\t\t\t\t\t\t\t\t\t\t&lt;directory&gt;../frontend/build&lt;/directory&gt;\r\n\t\t\t\t\t\t\t\t\t\t&lt;/resource&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;/resources&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;outputDirectory&gt;${basedir}/target/classes/static&lt;/outputDirectory&gt;\r\n&lt;!--\t\t\t\t\t\t\t\t\t&lt;outputDirectory&gt;${basedir}/src/main/resources/static&lt;/outputDirectory&gt;--&gt;\r\n\t\t\t\t\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t\t\t&lt;/executions&gt;\r\n\t\t\t\t\t&lt;/plugin&gt;\r\n\t\t\t\t&lt;/plugins&gt;\r\n\t\t\t&lt;/build&gt;\r\n\t\t&lt;/profile&gt;\r\n\t&lt;/profiles&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\n\r\nAnd also the full log with debug flag:\r\n\r\n``` \r\norg.apache.maven.plugin.prefix.NoPluginFoundForPrefixException: No plugin found for prefix &#39;.to.image=fullstack&#39; in the current project and in the plugi\r\nn groups [org.apache.maven.plugins, org.codehaus.mojo] available from the repositories [local (C:\\Users\\emanuel.butoi\\.m2\\repository), central (https://\r\nrepo.maven.apache.org/maven2)]\r\n    at org.apache.maven.plugin.prefix.internal.DefaultPluginPrefixResolver.resolve (DefaultPluginPrefixResolver.java:95)\r\n    at org.apache.maven.lifecycle.internal.MojoDescriptorCreator.findPluginForPrefix (MojoDescriptorCreator.java:266)\r\n    at org.apache.maven.lifecycle.internal.MojoDescriptorCreator.getMojoDescriptor (MojoDescriptorCreator.java:220)\r\n    at org.apache.maven.lifecycle.internal.DefaultLifecycleTaskSegmentCalculator.calculateTaskSegments (DefaultLifecycleTaskSegmentCalculator.java:104) \r\n    at org.apache.maven.lifecycle.internal.DefaultLifecycleTaskSegmentCalculator.calculateTaskSegments (DefaultLifecycleTaskSegmentCalculator.java:83)  \r\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:89)\r\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:294)\r\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\r\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\r\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:960)\r\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:293)\r\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:196)\r\n    at sun.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\r\n    at sun.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\r\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\r\n    at java.lang.reflect.Method.invoke (Method.java:498)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\r\n    at sun.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\r\n    at sun.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\r\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\r\n    at java.lang.reflect.Method.invoke (Method.java:498)\r\n    at org.apache.maven.wrapper.BootstrapMainStarter.start (BootstrapMainStarter.java:47)\r\n    at org.apache.maven.wrapper.WrapperExecutor.execute (WrapperExecutor.java:156)\r\n    at org.apache.maven.wrapper.MavenWrapperMain.main (MavenWrapperMain.java:72)\r\n[ERROR]\r\n[ERROR]\r\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/NoPluginFoundForPrefixException\r\n``` \r\n\r\n","title":"No plugin found for prefix &#39;.to.image=fullstack&#39; in the current project (Jib Maven Plugin)","body":"<p>I am trying to build a local Docker image with the Jib Maven plugin.\nI tried to run this command in my terminal (where I have my IntelliJ project):</p>\n<p><code>D:\\GitHub\\fullstack\\fullstack&gt; ./mvnw jib:dockerBuild -Djib.to.image=fullstack:v1</code></p>\n<p>But I get this log message:</p>\n<pre><code>No plugin found for prefix '.to.image=fullstack' in the current project and in the plugin groups [org.apache.maven.plugins, org.codehaus.mojo] a\nvailable from the repositories [local (C:\\Users\\emanuel.butoi\\.m2\\repository), central (https://repo.maven.apache.org/maven2)]\n</code></pre>\n<p>I did a little bit of research on Google but I found nothing. I am not familiar with Maven, I am more familiar with Gradle. I will send pom.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.4&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.emanuel&lt;/groupId&gt;\n    &lt;artifactId&gt;fullstack&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;fullstack&lt;/name&gt;\n    &lt;description&gt;Fullstack project &lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.project-lombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;com.google.cloud.tools&lt;/groupId&gt;\n                &lt;artifactId&gt;jib-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.5.2&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;from&gt;\n                        &lt;image&gt;openjdk:8&lt;/image&gt;\n                    &lt;/from&gt;\n                    &lt;container&gt;\n                        &lt;ports&gt;\n                            &lt;port&gt;8080&lt;/port&gt;\n                        &lt;/ports&gt;\n                        &lt;format&gt;OCI&lt;/format&gt;\n                    &lt;/container&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n    &lt;profiles&gt;\n        &lt;profile&gt;\n            &lt;id&gt;build-frontend&lt;/id&gt;\n            &lt;activation&gt;\n                &lt;activeByDefault&gt;true&lt;/activeByDefault&gt;\n            &lt;/activation&gt;\n            &lt;build&gt;\n                &lt;plugins&gt;\n                    &lt;plugin&gt;\n                        &lt;groupId&gt;com.github.eirslett&lt;/groupId&gt;\n                        &lt;artifactId&gt;frontend-maven-plugin&lt;/artifactId&gt;\n                        &lt;!-- Use the latest released version:\n                                  https://repo1.maven.org/maven2/com/github/eirslett/frontend-maven-plugin/ --&gt;\n                        &lt;version&gt;1.11.2&lt;/version&gt;\n                        &lt;configuration&gt;\n                            &lt;nodeVersion&gt;v4.6.0&lt;/nodeVersion&gt;\n                            &lt;workingDirectory&gt;../frontend/build&lt;/workingDirectory&gt;\n                        &lt;/configuration&gt;\n                        &lt;executions&gt;\n                            &lt;execution&gt;\n                                &lt;id&gt;install node and npm&lt;/id&gt;\n                                &lt;goals&gt;\n                                    &lt;goal&gt;install-node-and-npm&lt;/goal&gt;\n                                &lt;/goals&gt;\n                                &lt;configuration&gt;\n                                    &lt;nodeVersion&gt;v15.4.0&lt;/nodeVersion&gt;\n                                    &lt;npmVersion&gt;7.3.0&lt;/npmVersion&gt;\n                                &lt;/configuration&gt;\n                            &lt;/execution&gt;\n                            &lt;execution&gt;\n                                &lt;id&gt;npm install&lt;/id&gt;\n                                &lt;goals&gt;\n                                    &lt;goal&gt;npm&lt;/goal&gt;\n                                &lt;/goals&gt;\n                                &lt;configuration&gt;\n                                    &lt;arguments&gt;install&lt;/arguments&gt;\n                                &lt;/configuration&gt;\n                            &lt;/execution&gt;\n                            &lt;execution&gt;\n                                &lt;id&gt;npm run build&lt;/id&gt;\n                                &lt;goals&gt;\n                                    &lt;goal&gt;npm&lt;/goal&gt;\n                                &lt;/goals&gt;\n                                &lt;configuration&gt;\n                                    &lt;arguments&gt;run build&lt;/arguments&gt;\n                                &lt;/configuration&gt;\n                            &lt;/execution&gt;\n                        &lt;/executions&gt;\n                    &lt;/plugin&gt;\n                    &lt;plugin&gt;\n                        &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\n                        &lt;executions&gt;\n                            &lt;execution&gt;\n                                &lt;id&gt;copy-build-folder&lt;/id&gt;\n                                &lt;phase&gt;process-classes&lt;/phase&gt;\n                                &lt;goals&gt;\n                                    &lt;goal&gt;copy-resources&lt;/goal&gt;\n                                &lt;/goals&gt;\n                                &lt;configuration&gt;\n                                    &lt;resources&gt;\n                                        &lt;resource&gt;\n                                            &lt;directory&gt;../frontend/build&lt;/directory&gt;\n                                        &lt;/resource&gt;\n                                    &lt;/resources&gt;\n                                    &lt;outputDirectory&gt;${basedir}/target/classes/static&lt;/outputDirectory&gt;\n&lt;!--                                    &lt;outputDirectory&gt;${basedir}/src/main/resources/static&lt;/outputDirectory&gt;--&gt;\n                                &lt;/configuration&gt;\n                            &lt;/execution&gt;\n                        &lt;/executions&gt;\n                    &lt;/plugin&gt;\n                &lt;/plugins&gt;\n            &lt;/build&gt;\n        &lt;/profile&gt;\n    &lt;/profiles&gt;\n&lt;/project&gt;\n</code></pre>\n<p>And also the full log with debug flag:</p>\n<pre><code>org.apache.maven.plugin.prefix.NoPluginFoundForPrefixException: No plugin found for prefix '.to.image=fullstack' in the current project and in the plugi\nn groups [org.apache.maven.plugins, org.codehaus.mojo] available from the repositories [local (C:\\Users\\emanuel.butoi\\.m2\\repository), central (https://\nrepo.maven.apache.org/maven2)]\n    at org.apache.maven.plugin.prefix.internal.DefaultPluginPrefixResolver.resolve (DefaultPluginPrefixResolver.java:95)\n    at org.apache.maven.lifecycle.internal.MojoDescriptorCreator.findPluginForPrefix (MojoDescriptorCreator.java:266)\n    at org.apache.maven.lifecycle.internal.MojoDescriptorCreator.getMojoDescriptor (MojoDescriptorCreator.java:220)\n    at org.apache.maven.lifecycle.internal.DefaultLifecycleTaskSegmentCalculator.calculateTaskSegments (DefaultLifecycleTaskSegmentCalculator.java:104) \n    at org.apache.maven.lifecycle.internal.DefaultLifecycleTaskSegmentCalculator.calculateTaskSegments (DefaultLifecycleTaskSegmentCalculator.java:83)  \n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:89)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:294)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:960)\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:293)\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:196)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke (Method.java:498)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke (Method.java:498)\n    at org.apache.maven.wrapper.BootstrapMainStarter.start (BootstrapMainStarter.java:47)\n    at org.apache.maven.wrapper.WrapperExecutor.execute (WrapperExecutor.java:156)\n    at org.apache.maven.wrapper.MavenWrapperMain.main (MavenWrapperMain.java:72)\n[ERROR]\n[ERROR]\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/NoPluginFoundForPrefixException\n</code></pre>\n"},{"tags":["java","json","jackson"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1683550598,"post_id":76200665,"comment_id":134379333,"body_markdown":"You&#39;ll need to do `OffsetDateTime.parse(val).toInstant()` but you&#39;ll need to fix up the offset to `+02:00`","body":"You&#39;ll need to do <code>OffsetDateTime.parse(val).toInstant()</code> but you&#39;ll need to fix up the offset to <code>+02:00</code>"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1683556087,"post_id":76200665,"comment_id":134380616,"body_markdown":"The work is easier if you use the fully expanded standard [ISO 8601](https://en.wikipedia.org/wiki/ISO_8601) format. Always include the optional COLON character delimiting the hours and minutes of the offset.","body":"The work is easier if you use the fully expanded standard <a href=\"https://en.wikipedia.org/wiki/ISO_8601\" rel=\"nofollow noreferrer\">ISO 8601</a> format. Always include the optional COLON character delimiting the hours and minutes of the offset."}],"answers":[{"tags":[],"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1683551258,"creation_date":1683551258,"answer_id":76200917,"question_id":76200665,"body_markdown":"You could define your own formatter:\r\n```\r\nimport java.time.format.DateTimeFormatter;\r\nimport java.time.Instant;\r\n// :\r\n// :\r\nDateTimeFormatter customFormatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSSx&quot;);\r\nInstant result = Instant.from(customFormatter.parse(&quot;2023-05-04T19:40:07.000+0200&quot;));\r\n```\r\n(At the end you have to create a new `Instant` from the formatters parsing result, if you need exactly that class.)","title":"How to deserialize timestamp with offset into Instant","body":"<p>You could define your own formatter:</p>\n<pre><code>import java.time.format.DateTimeFormatter;\nimport java.time.Instant;\n// :\n// :\nDateTimeFormatter customFormatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd'T'HH:mm:ss.SSSx&quot;);\nInstant result = Instant.from(customFormatter.parse(&quot;2023-05-04T19:40:07.000+0200&quot;));\n</code></pre>\n<p>(At the end you have to create a new <code>Instant</code> from the formatters parsing result, if you need exactly that class.)</p>\n"}],"owner":{"account_id":6125530,"reputation":2720,"user_id":4777670,"accept_rate":100,"display_name":"Saif"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":91,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":76200917,"answer_count":1,"score":-1,"last_activity_date":1683551258,"creation_date":1683549380,"question_id":76200665,"body_markdown":"I have a json with timestamp having offsets from UTC (e.g., `2023-05-04T19:40:07.000+0200`). How to deserialize it into `java.time.Instant`)?\r\n```java\r\n\r\nimport com.fasterxml.jackson.core.JsonProcessingException;\r\nimport com.fasterxml.jackson.databind.ObjectMapper;\r\nimport com.fasterxml.jackson.datatype.jsr310.JavaTimeModule;\r\nimport org.junit.jupiter.api.Test;\r\n\r\nimport java.time.Instant;\r\n\r\npublic class MyInstantTest {\r\n\r\n    @Test\r\n    void test1() throws JsonProcessingException {\r\n\r\n        final ObjectMapper objectMapper = new ObjectMapper()\r\n                .registerModule(new JavaTimeModule())\r\n                .disable(com.fasterxml.jackson.databind.SerializationFeature.WRITE_DATES_AS_TIMESTAMPS)\r\n                .disable(com.fasterxml.jackson.databind.SerializationFeature.WRITE_DATE_TIMESTAMPS_AS_NANOSECONDS);\r\n\r\n        final MyClass deserializedObject = objectMapper.readValue(&quot;{\\&quot;time\\&quot;:\\&quot;2023-05-04T19:40:07.000+0200\\&quot;}&quot;, MyClass.class);\r\n\r\n//        com.fasterxml.jackson.databind.exc.InvalidFormatException: Cannot deserialize value of type `java.time.Instant` from String \r\n//        &quot;2023-05-04T19:40:07.000+0200&quot;: Failed to deserialize java.time.Instant: (java.time.format.DateTimeParseException) Text \r\n//        &#39;2023-05-04T19:40:07.000+0200&#39; could not be parsed at index 23\r\n//        at [Source: (String)&quot;{&quot;time&quot;:&quot;2023-05-04T19:40:07.000+0200&quot;}&quot;; line: 1, column: 9] (through reference chain: com.example.e\r\n//        .f.g.h.i.j.MyInstantTest$MyClass[&quot;time&quot;])\r\n\r\n        System.out.println(&quot;deserializedObject.getTime() = &quot; + deserializedObject.getTime());\r\n    }\r\n\r\n    static class MyClass {\r\n\r\n        MyClass() {\r\n\r\n        }\r\n\r\n        MyClass(Instant time) {\r\n\r\n            this.time = time;\r\n        }\r\n\r\n        public Instant getTime() {\r\n\r\n            return time;\r\n        }\r\n\r\n        public void setTime(final Instant time) {\r\n\r\n            this.time = time;\r\n        }\r\n\r\n        private Instant time;\r\n    }\r\n}\r\n```","title":"How to deserialize timestamp with offset into Instant","body":"<p>I have a json with timestamp having offsets from UTC (e.g., <code>2023-05-04T19:40:07.000+0200</code>). How to deserialize it into <code>java.time.Instant</code>)?</p>\n<pre class=\"lang-java prettyprint-override\"><code>\nimport com.fasterxml.jackson.core.JsonProcessingException;\nimport com.fasterxml.jackson.databind.ObjectMapper;\nimport com.fasterxml.jackson.datatype.jsr310.JavaTimeModule;\nimport org.junit.jupiter.api.Test;\n\nimport java.time.Instant;\n\npublic class MyInstantTest {\n\n    @Test\n    void test1() throws JsonProcessingException {\n\n        final ObjectMapper objectMapper = new ObjectMapper()\n                .registerModule(new JavaTimeModule())\n                .disable(com.fasterxml.jackson.databind.SerializationFeature.WRITE_DATES_AS_TIMESTAMPS)\n                .disable(com.fasterxml.jackson.databind.SerializationFeature.WRITE_DATE_TIMESTAMPS_AS_NANOSECONDS);\n\n        final MyClass deserializedObject = objectMapper.readValue(&quot;{\\&quot;time\\&quot;:\\&quot;2023-05-04T19:40:07.000+0200\\&quot;}&quot;, MyClass.class);\n\n//        com.fasterxml.jackson.databind.exc.InvalidFormatException: Cannot deserialize value of type `java.time.Instant` from String \n//        &quot;2023-05-04T19:40:07.000+0200&quot;: Failed to deserialize java.time.Instant: (java.time.format.DateTimeParseException) Text \n//        '2023-05-04T19:40:07.000+0200' could not be parsed at index 23\n//        at [Source: (String)&quot;{&quot;time&quot;:&quot;2023-05-04T19:40:07.000+0200&quot;}&quot;; line: 1, column: 9] (through reference chain: com.example.e\n//        .f.g.h.i.j.MyInstantTest$MyClass[&quot;time&quot;])\n\n        System.out.println(&quot;deserializedObject.getTime() = &quot; + deserializedObject.getTime());\n    }\n\n    static class MyClass {\n\n        MyClass() {\n\n        }\n\n        MyClass(Instant time) {\n\n            this.time = time;\n        }\n\n        public Instant getTime() {\n\n            return time;\n        }\n\n        public void setTime(final Instant time) {\n\n            this.time = time;\n        }\n\n        private Instant time;\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":10873224,"reputation":23,"user_id":7994433,"display_name":"Ragin"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1683550202,"creation_date":1683550202,"answer_id":76200776,"question_id":76199357,"body_markdown":"You have to handle the exception somewhere.\r\nSee https://www.baeldung.com/exception-handling-for-rest-with-spring for some examples.\r\n\r\nIf it is a REST service, you should use the @RestControllerAdvice annotation.\r\nHave a look at https://www.bezkoder.com/spring-boot-restcontrolleradvice/ for a tutorial.\r\n\r\nIn short: This component is catching at the end the exception, and you can decide there how you want to answer.\r\n\r\nIn the best case, you&#39;ll have your own exception(s), which can get the message and for example the HTTP status code as a constructor argument.\r\n\r\nThen you can throw this exception and catch it in this `ControllerAdvice`. There you can prepare the response and send it back.\r\n\r\nThis can look like this:\r\n\r\n```java\r\n@RestControllerAdvice\r\npublic class GlobalRestExceptionHandler {\r\n    @ExceptionHandler(MyCustomException.class)\r\n    public ResponseEntity&lt;ErrorMessageDto&gt; handleMyCustomExceptionException(\r\n            final MyCustomException exception) {\r\n        final var errorMessage = new ErrorMessageDto();\r\n        errorMessage.setMessage(exception.getMessage());\r\n        return ResponseEntity.status(exception.getStatus()).body(errorMessage);\r\n    }\r\n}\r\n```","title":"comparing two object attributes Return 500","body":"<p>You have to handle the exception somewhere.\nSee <a href=\"https://www.baeldung.com/exception-handling-for-rest-with-spring\" rel=\"nofollow noreferrer\">https://www.baeldung.com/exception-handling-for-rest-with-spring</a> for some examples.</p>\n<p>If it is a REST service, you should use the @RestControllerAdvice annotation.\nHave a look at <a href=\"https://www.bezkoder.com/spring-boot-restcontrolleradvice/\" rel=\"nofollow noreferrer\">https://www.bezkoder.com/spring-boot-restcontrolleradvice/</a> for a tutorial.</p>\n<p>In short: This component is catching at the end the exception, and you can decide there how you want to answer.</p>\n<p>In the best case, you'll have your own exception(s), which can get the message and for example the HTTP status code as a constructor argument.</p>\n<p>Then you can throw this exception and catch it in this <code>ControllerAdvice</code>. There you can prepare the response and send it back.</p>\n<p>This can look like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RestControllerAdvice\npublic class GlobalRestExceptionHandler {\n    @ExceptionHandler(MyCustomException.class)\n    public ResponseEntity&lt;ErrorMessageDto&gt; handleMyCustomExceptionException(\n            final MyCustomException exception) {\n        final var errorMessage = new ErrorMessageDto();\n        errorMessage.setMessage(exception.getMessage());\n        return ResponseEntity.status(exception.getStatus()).body(errorMessage);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":26952196,"reputation":23,"user_id":20521229,"display_name":"TechNewPy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1683550202,"creation_date":1683539179,"question_id":76199357,"body_markdown":"I&#39;m doing a validation check and see if both objects in `items` have the same `paymentProcessor`, if not I need to throw an Error. So I created a new list and added these attributes to the list, then I did the following\r\n\r\n    if(!(Collections.frequency(paymentProcessor, paymentProcessor.get(0)) == paymentProcessor.size())){\r\n        throw new ExceptionHandler(&quot;Multiple payment processor is not supported!&quot;);\r\n    }\r\n\r\nthe Problem is whenever the `ExceptionHandler` triggers it gives me 500 internal server error instead of displaying the error message.\r\n\r\n//this is my Json\r\n\r\n    &quot;items&quot;: [\r\n            {\r\n                &quot;paymentProcessor&quot;: &quot;MPGS&quot;,\r\n                &quot;type&quot;: &quot;CARD&quot;,\r\n            },\r\n            {\r\n                &quot;paymentProcessor&quot;: &quot;xx&quot;,\r\n                &quot;type&quot;: &quot;CARD&quot;,\r\n            }\r\n        ]\r\n","title":"comparing two object attributes Return 500","body":"<p>I'm doing a validation check and see if both objects in <code>items</code> have the same <code>paymentProcessor</code>, if not I need to throw an Error. So I created a new list and added these attributes to the list, then I did the following</p>\n<pre><code>if(!(Collections.frequency(paymentProcessor, paymentProcessor.get(0)) == paymentProcessor.size())){\n    throw new ExceptionHandler(&quot;Multiple payment processor is not supported!&quot;);\n}\n</code></pre>\n<p>the Problem is whenever the <code>ExceptionHandler</code> triggers it gives me 500 internal server error instead of displaying the error message.</p>\n<p>//this is my Json</p>\n<pre><code>&quot;items&quot;: [\n        {\n            &quot;paymentProcessor&quot;: &quot;MPGS&quot;,\n            &quot;type&quot;: &quot;CARD&quot;,\n        },\n        {\n            &quot;paymentProcessor&quot;: &quot;xx&quot;,\n            &quot;type&quot;: &quot;CARD&quot;,\n        }\n    ]\n</code></pre>\n"},{"tags":["java","aws-lambda","junit","amazon-dynamodb","mockito"],"comments":[{"owner":{"account_id":10662643,"reputation":689,"user_id":7899567,"display_name":"Anton Tokmakov"},"score":0,"creation_date":1683561875,"post_id":76200760,"comment_id":134381923,"body_markdown":"How did you mock dynamoDbClient? It would be nice if you&#39;ll add remaining code for test class. Maybe issue is happening in attempt to create dynamoDbClient.","body":"How did you mock dynamoDbClient? It would be nice if you&#39;ll add remaining code for test class. Maybe issue is happening in attempt to create dynamoDbClient."},{"owner":{"account_id":301230,"reputation":28997,"user_id":608820,"accept_rate":89,"display_name":"Augusto"},"score":0,"creation_date":1683568590,"post_id":76200760,"comment_id":134383407,"body_markdown":"It&#39;s usually a [bad practice to mock types you don&#39;t own](https://github.com/mockito/mockito/wiki/How-to-write-good-tests#dont-mock-a-type-you-dont-own). You can use a [fake](https://www.martinfowler.com/articles/mocksArentStubs.html) class or do an integration test using something like [LocalStack](https://docs.localstack.cloud/user-guide/aws/dynamodb/) to spin up a fake implementation of dynamodb.","body":"It&#39;s usually a <a href=\"https://github.com/mockito/mockito/wiki/How-to-write-good-tests#dont-mock-a-type-you-dont-own\" rel=\"nofollow noreferrer\">bad practice to mock types you don&#39;t own</a>. You can use a <a href=\"https://www.martinfowler.com/articles/mocksArentStubs.html\" rel=\"nofollow noreferrer\">fake</a> class or do an integration test using something like <a href=\"https://docs.localstack.cloud/user-guide/aws/dynamodb/\" rel=\"nofollow noreferrer\">LocalStack</a> to spin up a fake implementation of dynamodb."}],"owner":{"account_id":11921339,"reputation":93,"user_id":8723790,"display_name":"Zhuang Paulus"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":211,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683550106,"creation_date":1683550106,"question_id":76200760,"body_markdown":"I have a DynamoDB connection in AWS Lambda and I try to get an item from a table by key.\r\nThe code is like this\r\n\r\n\r\n    import software.amazon.awssdk.enhanced.dynamodb.DynamoDbEnhancedClient;\r\n    import software.amazon.awssdk.enhanced.dynamodb.DynamoDbTable;\r\n    import software.amazon.awssdk.enhanced.dynamodb.TableSchema;\r\n    import software.amazon.awssdk.enhanced.dynamodb.model.GetItemEnhancedRequest;\r\n    ...\r\n    \r\n\r\n    public class FooLambda implements RequestHandler&lt;APIGatewayProxyRequestEvent, APIGatewayProxyResponseEvent&gt;{\r\n    @Override\r\n    public APIGatewayProxyResponseEvent handleRequest(APIGatewayProxyRequestEvent input, Context context){\r\n    try {\r\n\r\n    ...\r\n\r\n    DynamoDbEnhancedClient enhancedClient = DynamoDbEnhancedClient.create();\r\n    DynamoDbTable&lt;FooEntity&gt; fooTable = enhancedClient.table(&quot;foo_table&quot;, TableSchema.fromBean(FooEntity.class));\r\n    Key fooKey = Key.builder()\r\n    .partitionValue(&quot;foo_ket&quot;)\r\n    .build();\r\n    FooEntity fooItem = fooTable.getItem(GetItemEnhancedRequest.builder().key(fooKey).build());        \r\n    String barValue = fooItem.getBar();\r\n    \r\n    ...\r\n\r\n    } catch(Exception e){\r\n        System.out.println(e.getMessage());\r\n    }\r\n\r\nHow do I mock this part of code in the unit test? I tried the following but it did not work\r\n\r\n    import org.junit.Test;\r\n    import static org.mockito.ArgumentMatchers.any;\r\n    import static org.mockito.Mockito.mock;\r\n    import static org.mockito.Mockito.when;\r\n\r\n    // prepare mocking\r\n    DynamoDbTable&lt;fooEntity&gt; dynamoDbTable = mock(DynamoDbTable.class);\r\n    when(dynamoDbClient.table(&quot;foo_table&quot;, TableSchema.fromBean(FooEntity.class))).thenReturn(dynamoDbTable);\r\n    FooEntity fooItem = mock(FooEntity.class);\r\n    when(dynamoDbTable.getItem(any(GetItemEnhancedRequest.class))).thenReturn(fooItem);\r\n    \r\n    // run test\r\n    APIGatewayProxyResponseEvent apiGatewayProxyResponseEvent = handler.handleRequest(input, context);\r\n\r\nThen error I got is\r\n\r\n    The security token included in the request is expired (Service: DynamoDb, Status Code: 400, Request ID: 03XXXXXXXXXXXXXXXX)\r\nwhich means I have not mocked the DynamoDB connection part successfully. How can I do it?","title":"How to mock DynamoDB in AWS Lambda using Java?","body":"<p>I have a DynamoDB connection in AWS Lambda and I try to get an item from a table by key.\nThe code is like this</p>\n<pre><code>import software.amazon.awssdk.enhanced.dynamodb.DynamoDbEnhancedClient;\nimport software.amazon.awssdk.enhanced.dynamodb.DynamoDbTable;\nimport software.amazon.awssdk.enhanced.dynamodb.TableSchema;\nimport software.amazon.awssdk.enhanced.dynamodb.model.GetItemEnhancedRequest;\n...\n\n\npublic class FooLambda implements RequestHandler&lt;APIGatewayProxyRequestEvent, APIGatewayProxyResponseEvent&gt;{\n@Override\npublic APIGatewayProxyResponseEvent handleRequest(APIGatewayProxyRequestEvent input, Context context){\ntry {\n\n...\n\nDynamoDbEnhancedClient enhancedClient = DynamoDbEnhancedClient.create();\nDynamoDbTable&lt;FooEntity&gt; fooTable = enhancedClient.table(&quot;foo_table&quot;, TableSchema.fromBean(FooEntity.class));\nKey fooKey = Key.builder()\n.partitionValue(&quot;foo_ket&quot;)\n.build();\nFooEntity fooItem = fooTable.getItem(GetItemEnhancedRequest.builder().key(fooKey).build());        \nString barValue = fooItem.getBar();\n\n...\n\n} catch(Exception e){\n    System.out.println(e.getMessage());\n}\n</code></pre>\n<p>How do I mock this part of code in the unit test? I tried the following but it did not work</p>\n<pre><code>import org.junit.Test;\nimport static org.mockito.ArgumentMatchers.any;\nimport static org.mockito.Mockito.mock;\nimport static org.mockito.Mockito.when;\n\n// prepare mocking\nDynamoDbTable&lt;fooEntity&gt; dynamoDbTable = mock(DynamoDbTable.class);\nwhen(dynamoDbClient.table(&quot;foo_table&quot;, TableSchema.fromBean(FooEntity.class))).thenReturn(dynamoDbTable);\nFooEntity fooItem = mock(FooEntity.class);\nwhen(dynamoDbTable.getItem(any(GetItemEnhancedRequest.class))).thenReturn(fooItem);\n\n// run test\nAPIGatewayProxyResponseEvent apiGatewayProxyResponseEvent = handler.handleRequest(input, context);\n</code></pre>\n<p>Then error I got is</p>\n<pre><code>The security token included in the request is expired (Service: DynamoDb, Status Code: 400, Request ID: 03XXXXXXXXXXXXXXXX)\n</code></pre>\n<p>which means I have not mocked the DynamoDB connection part successfully. How can I do it?</p>\n"},{"tags":["java","multithreading","jdbc","postgresql-13"],"comments":[{"owner":{"account_id":6169361,"reputation":20329,"user_id":4808122,"accept_rate":89,"display_name":"Marmite Bomber"},"score":0,"creation_date":1683641919,"post_id":76200754,"comment_id":134395686,"body_markdown":"Why is the column `lock` defined as `varchar(255)` when you say it is set to `integer`? This is not exact related, but such design decisions (similar is the usage of UUID as PK) somehow suggest that the performance is not the first thing you follow...","body":"Why is the column <code>lock</code> defined as <code>varchar(255)</code> when you say it is set to <code>integer</code>? This is not exact related, but such design decisions (similar is the usage of UUID as PK) somehow suggest that the performance is not the first thing you follow..."}],"owner":{"account_id":422350,"reputation":5723,"user_id":801072,"accept_rate":50,"display_name":"thehpi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1683550077,"creation_date":1683550077,"question_id":76200754,"body_markdown":"I have a table which has an id and a lock column.\r\n\r\n````\r\ncreate table mytable(id varchar(255),lock varchar(255), primary key (id));\r\ncreate index idx_mytable_lock on mytable (lock);\r\n````\r\n\r\nI populated it with 1 million records where only the id gets a unique UUID value.\r\n\r\nI have 8 processes that are trying to update the lock column to a unique value. The idea behind this is that those processors are consumers of this table and want to do something per id. This is the update statement.\r\n\r\n````\r\nUPDATE\r\n    mytable t\r\nSET LOCK = ?\r\nFROM (SELECT id\r\n      FROM mytable\r\n      WHERE LOCK IS NULL\r\n          FOR UPDATE SKIP LOCKED\r\n      LIMIT 500) AS subq\r\nWHERE t.id = subq.id\r\n  AND t.lock is null\r\nreturning t.id\r\n````\r\n\r\nThis is being executed using java and jdbc and the ? in the statement is a parameter which is set to an integer which acts as the thread id. I&#39;m not using transactions so every statement I execute is auto committed.\r\n\r\nIf I run the 8 thread they start running and update 500 records each until all records are updated and have an integer value in the lock column. No problems.\r\n\r\nNow I want to retry the whole thing so I run an update to set the lock column back to null \r\n\r\n    UPDATE mytable set lock = null where lock is not null;\r\n\r\nand after that I restart the 8 processes. What I now see is that the threads are hanging. \r\n\r\nI&#39;m querying the postgresql database processes:\r\n\r\n````\r\nselect\r\n\tpid,\r\n\tclient_addr,\r\n\tstate,\r\n\tquery_start,\r\n\tnow() - query_start since,\r\n\tquery\r\nfrom\r\n\tpg_stat_activity\r\nwhere state &lt;&gt; &#39;idle&#39;\r\norder by\r\n\t5 desc;\r\n````\r\n\r\nOutput:\r\n\r\n````\r\n  pid  | client_addr | state  |          query_start          |      since      |                                                                        query\r\n-------+-------------+--------+-------------------------------+-----------------+------------------------------------------------------------------------------------------------------------------------------------------------------\r\n 19058 | 10.8.4.35   | active | 2023-05-08 12:24:41.333687+00 | 00:08:44.361053 | UPDATE                                                                                                                                              +\r\n       |             |        |                               |                 |     mytable fs                                                                                                                                      +\r\n       |             |        |                               |                 | SET LOCK = $1                                                                                                                                       +\r\n       |             |        |                               |                 | FROM (SELECT id                                                                                                                                     +\r\n       |             |        |                               |                 |       FROM mytable                                                                                                                                  +\r\n       |             |        |                               |                 |       WHERE   LOCK IS NULL                                                                                                                          +\r\n       |             |        |                               |                 |       FOR UPDATE SKIP LOCKED                                                                                                                        +\r\n       |             |        |                               |                 |       LIMIT 500                                                                                                                                     +\r\n       |             |        |                               |                 |      ) AS subq                                                                                                                                      +\r\n       |             |        |                               |                 | WHERE fs.id = subq.id                                                                                                                               +\r\n       |             |        |                               |                 | AND fs.lock is null                                                                                                                                 +\r\n       |             |        |                               |                 | returning fs.id                                                                                                                                     +\r\n       |             |        |                               |                 |\r\n 19057 | 10.8.4.35   | active | 2023-05-08 12:24:41.334555+00 | 00:08:44.360185 | UPDATE                                                                                                                                              +\r\n       |             |        |                               |                 |     mytable fs                                                                                                                                      +\r\n       |             |        |                               |                 | SET LOCK = $1                                                                                                                                       +\r\n       |             |        |                               |                 | FROM (SELECT id                                                                                                                                     +\r\n       |             |        |                               |                 |       FROM mytable                                                                                                                                  +\r\n       |             |        |                               |                 |       WHERE   LOCK IS NULL                                                                                                                          +\r\n       |             |        |                               |                 |       FOR UPDATE SKIP LOCKED                                                                                                                        +\r\n       |             |        |                               |                 |       LIMIT 500                                                                                                                                     +\r\n       |             |        |                               |                 |      ) AS subq                                                                                                                                      +\r\n       |             |        |                               |                 | WHERE fs.id = subq.id                                                                                                                               +\r\n       |             |        |                               |                 | AND fs.lock is null                                                                                                                                 +\r\n       |             |        |                               |                 | returning fs.id                                                                                                                                     +\r\n.\r\n.\r\n.\r\n````\r\n\r\nThis is repeated 8 times. So I see the processes are running. This will stay for this for at least 30 minutes (I stopped them after that).\r\n\r\nMy thoughts: there is some locking and blocking going on so I ran:\r\n\r\n````\r\nSELECT\r\n\tblockeda.pid AS blocked_pid,\r\n\tblockeda.state as bd_state,\r\n\tnow() - blockeda.query_start AS waiting,\r\n\tblockinga.pid AS blocking_pid,\r\n\tblockinga.state as bi_state\r\nFROM\r\n\tpg_catalog.pg_locks blockedl\r\n\tJOIN pg_stat_activity blockeda ON blockedl.pid = blockeda.pid\r\n\tJOIN pg_catalog.pg_locks blockingl ON(\r\n\t\t(\r\n\t\t\t(\r\n\t\t\t\tblockingl.transactionid = blockedl.transactionid\r\n\t\t\t)\r\n\t\t\tOR (\r\n\t\t\t\tblockingl.relation = blockedl.relation\r\n\t\t\t\tAND blockingl.locktype = blockedl.locktype\r\n\t\t\t)\r\n\t\t)\r\n\t\tAND blockedl.pid != blockingl.pid\r\n\t)\r\n\tJOIN pg_stat_activity blockinga ON blockingl.pid = blockinga.pid\r\n\tAND blockinga.datid = blockeda.datid\r\nWHERE\r\n\tNOT blockedl.granted\r\n\tAND blockinga.datname = current_database();\r\n````\r\n\r\n(taken from https://wiki.postgresql.org/wiki/Lock_Monitoring)\r\n\r\nBut it does not produce any output which means there are no processes waiting for locks.\r\nSo what is it hanging on?? Then I checked postgresql and it is very busy, it is consuming CPU for all threads so it does not seem to be waiting for something.\r\n\r\nCould it be it is hanging on some internal resource?\r\n\r\nI&#39;m using a postgresql database on AWS with version 13.10 and 4Gb of ram. I checked the table stats and the table is using way less that that. So it does not seem to be a limitation with memory.\r\n\r\nHere my knowledge stops. How is it possible that this is happening? If I retry the statement with a lower number, so instead of 500 only a 100 limit then it seems to be working all the time. It also does not always happen. I also retried with a 1000 limit and that also sometimes works and sometimes not.\r\n\r\nWhat seems to be a clear trigger is the update statement that updates all records to lock=null. So if the lock column is already null all works fine. If I let the 8 threads update all record with an actual lock value and then clear all of them and restart the process then it starts hanging again.\r\n\r\nHope someone has an explanation for this.","title":"Postgresql update is hanging without having blocking locks","body":"<p>I have a table which has an id and a lock column.</p>\n<pre><code>create table mytable(id varchar(255),lock varchar(255), primary key (id));\ncreate index idx_mytable_lock on mytable (lock);\n</code></pre>\n<p>I populated it with 1 million records where only the id gets a unique UUID value.</p>\n<p>I have 8 processes that are trying to update the lock column to a unique value. The idea behind this is that those processors are consumers of this table and want to do something per id. This is the update statement.</p>\n<pre><code>UPDATE\n    mytable t\nSET LOCK = ?\nFROM (SELECT id\n      FROM mytable\n      WHERE LOCK IS NULL\n          FOR UPDATE SKIP LOCKED\n      LIMIT 500) AS subq\nWHERE t.id = subq.id\n  AND t.lock is null\nreturning t.id\n</code></pre>\n<p>This is being executed using java and jdbc and the ? in the statement is a parameter which is set to an integer which acts as the thread id. I'm not using transactions so every statement I execute is auto committed.</p>\n<p>If I run the 8 thread they start running and update 500 records each until all records are updated and have an integer value in the lock column. No problems.</p>\n<p>Now I want to retry the whole thing so I run an update to set the lock column back to null</p>\n<pre><code>UPDATE mytable set lock = null where lock is not null;\n</code></pre>\n<p>and after that I restart the 8 processes. What I now see is that the threads are hanging.</p>\n<p>I'm querying the postgresql database processes:</p>\n<pre><code>select\n    pid,\n    client_addr,\n    state,\n    query_start,\n    now() - query_start since,\n    query\nfrom\n    pg_stat_activity\nwhere state &lt;&gt; 'idle'\norder by\n    5 desc;\n</code></pre>\n<p>Output:</p>\n<pre><code>  pid  | client_addr | state  |          query_start          |      since      |                                                                        query\n-------+-------------+--------+-------------------------------+-----------------+------------------------------------------------------------------------------------------------------------------------------------------------------\n 19058 | 10.8.4.35   | active | 2023-05-08 12:24:41.333687+00 | 00:08:44.361053 | UPDATE                                                                                                                                              +\n       |             |        |                               |                 |     mytable fs                                                                                                                                      +\n       |             |        |                               |                 | SET LOCK = $1                                                                                                                                       +\n       |             |        |                               |                 | FROM (SELECT id                                                                                                                                     +\n       |             |        |                               |                 |       FROM mytable                                                                                                                                  +\n       |             |        |                               |                 |       WHERE   LOCK IS NULL                                                                                                                          +\n       |             |        |                               |                 |       FOR UPDATE SKIP LOCKED                                                                                                                        +\n       |             |        |                               |                 |       LIMIT 500                                                                                                                                     +\n       |             |        |                               |                 |      ) AS subq                                                                                                                                      +\n       |             |        |                               |                 | WHERE fs.id = subq.id                                                                                                                               +\n       |             |        |                               |                 | AND fs.lock is null                                                                                                                                 +\n       |             |        |                               |                 | returning fs.id                                                                                                                                     +\n       |             |        |                               |                 |\n 19057 | 10.8.4.35   | active | 2023-05-08 12:24:41.334555+00 | 00:08:44.360185 | UPDATE                                                                                                                                              +\n       |             |        |                               |                 |     mytable fs                                                                                                                                      +\n       |             |        |                               |                 | SET LOCK = $1                                                                                                                                       +\n       |             |        |                               |                 | FROM (SELECT id                                                                                                                                     +\n       |             |        |                               |                 |       FROM mytable                                                                                                                                  +\n       |             |        |                               |                 |       WHERE   LOCK IS NULL                                                                                                                          +\n       |             |        |                               |                 |       FOR UPDATE SKIP LOCKED                                                                                                                        +\n       |             |        |                               |                 |       LIMIT 500                                                                                                                                     +\n       |             |        |                               |                 |      ) AS subq                                                                                                                                      +\n       |             |        |                               |                 | WHERE fs.id = subq.id                                                                                                                               +\n       |             |        |                               |                 | AND fs.lock is null                                                                                                                                 +\n       |             |        |                               |                 | returning fs.id                                                                                                                                     +\n.\n.\n.\n</code></pre>\n<p>This is repeated 8 times. So I see the processes are running. This will stay for this for at least 30 minutes (I stopped them after that).</p>\n<p>My thoughts: there is some locking and blocking going on so I ran:</p>\n<pre><code>SELECT\n    blockeda.pid AS blocked_pid,\n    blockeda.state as bd_state,\n    now() - blockeda.query_start AS waiting,\n    blockinga.pid AS blocking_pid,\n    blockinga.state as bi_state\nFROM\n    pg_catalog.pg_locks blockedl\n    JOIN pg_stat_activity blockeda ON blockedl.pid = blockeda.pid\n    JOIN pg_catalog.pg_locks blockingl ON(\n        (\n            (\n                blockingl.transactionid = blockedl.transactionid\n            )\n            OR (\n                blockingl.relation = blockedl.relation\n                AND blockingl.locktype = blockedl.locktype\n            )\n        )\n        AND blockedl.pid != blockingl.pid\n    )\n    JOIN pg_stat_activity blockinga ON blockingl.pid = blockinga.pid\n    AND blockinga.datid = blockeda.datid\nWHERE\n    NOT blockedl.granted\n    AND blockinga.datname = current_database();\n</code></pre>\n<p>(taken from <a href=\"https://wiki.postgresql.org/wiki/Lock_Monitoring\" rel=\"nofollow noreferrer\">https://wiki.postgresql.org/wiki/Lock_Monitoring</a>)</p>\n<p>But it does not produce any output which means there are no processes waiting for locks.\nSo what is it hanging on?? Then I checked postgresql and it is very busy, it is consuming CPU for all threads so it does not seem to be waiting for something.</p>\n<p>Could it be it is hanging on some internal resource?</p>\n<p>I'm using a postgresql database on AWS with version 13.10 and 4Gb of ram. I checked the table stats and the table is using way less that that. So it does not seem to be a limitation with memory.</p>\n<p>Here my knowledge stops. How is it possible that this is happening? If I retry the statement with a lower number, so instead of 500 only a 100 limit then it seems to be working all the time. It also does not always happen. I also retried with a 1000 limit and that also sometimes works and sometimes not.</p>\n<p>What seems to be a clear trigger is the update statement that updates all records to lock=null. So if the lock column is already null all works fine. If I let the 8 threads update all record with an actual lock value and then clear all of them and restart the process then it starts hanging again.</p>\n<p>Hope someone has an explanation for this.</p>\n"},{"tags":["java","unit-testing","jersey","glassfish","multipartform-data"],"comments":[{"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"score":0,"creation_date":1683835562,"post_id":76192305,"comment_id":134431641,"body_markdown":"Try using the JerseyTest framework and run integration test. It might be easier","body":"Try using the JerseyTest framework and run integration test. It might be easier"},{"owner":{"account_id":26446267,"reputation":86,"user_id":20090078,"display_name":"Harsha"},"score":0,"creation_date":1683875531,"post_id":76192305,"comment_id":134436317,"body_markdown":"@PaulSamsotha I want to test my  manager layer not the service layer. Can I do that with jersey test framework? And also it will be helpful if you can provide some resources.","body":"@PaulSamsotha I want to test my  manager layer not the service layer. Can I do that with jersey test framework? And also it will be helpful if you can provide some resources."}],"owner":{"account_id":26446267,"reputation":86,"user_id":20090078,"display_name":"Harsha"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":126,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683549379,"creation_date":1683436908,"question_id":76192305,"body_markdown":"I am trying to pass multiparform data fields `Map&lt;String, List&lt;FormDataBodyPart&gt;&gt;`, the input I get from the rest API to the manager class that accepts the multipart fields as a input and read it and perform the required action.\r\n\r\n    JsonNode data = objectMapper.readTree(requestFields.get(REQUEST).get(0).getValueAs(InputStream.class));\r\n\r\nAssuming I always get the only one element only. The method works when I hit a postman request.\r\n\r\nBut when I am trying to unit test the manager class that accepts the field of the multipart form data throws an error\r\n\r\n    java.lang.IllegalStateException: Entity instance does not contain the unconverted content.\r\n    \r\n    \tat org.glassfish.jersey.media.multipart.BodyPart.getEntityAs(BodyPart.java:267)\r\n    \tat org.glassfish.jersey.media.multipart.FormDataBodyPart.getValueAs(FormDataBodyPart.java:291)\r\n    \tat com.confluxsys.iam.adc.core.impl.request.RequestManagerImpl.createRequest(RequestManagerImpl.java:178)\r\n    \tat com.confluxsys.iam.adc.util.request.TestRequestManagerV2.createRequestV2(TestRequestManagerV2.java:154)\r\n\r\n**Test class code --&gt;** \r\n\r\n    String data = &quot;{&quot;menu&quot;:{&quot;id&quot;:&quot;file&quot;,&quot;value&quot;:&quot;File&quot;,&quot;popup&quot;:{&quot;menuitem&quot;:[{&quot;value&quot;:&quot;New&quot;,&quot;onclick&quot;:&quot;CreateNewDoc()&quot;},{&quot;value&quot;:&quot;Open&quot;,&quot;onclick&quot;:&quot;OpenDoc()&quot;},{&quot;value&quot;:&quot;Close&quot;,&quot;onclick&quot;:&quot;CloseDoc()&quot;}]}}}&quot;;    \r\n    InputStream jsonStream;\r\n                try (FormDataMultiPart formDataMultiPart = new FormDataMultiPart()) {\r\n                    FormDataBodyPart form1 = new FormDataBodyPart();\r\n                    jsonStream = new ByteArrayInputStream(config.getBytes());\r\n                    form1.setMediaType(MediaType.APPLICATION_JSON_TYPE);\r\n                    form1.setValue(MediaType.APPLICATION_JSON_TYPE, jsonStream);\r\n                    form1.setName(&quot;part-config&quot;);\r\n                    form1.getHeaders().add(&quot;Content-Length&quot;, String.valueOf(config.getBytes().length));\r\n        \r\n        \r\n                    formDataMultiPart.bodyPart(form1);\r\n                  requestManager.createRequest(formDataMultiPart.getFields());\r\n                }\r\n\r\n\r\n\r\n**Main class code ---&gt;**\r\n\t\r\n    public void createRequest(Map&lt;String, List&lt;FormDataBodyPart&gt;&gt; requestFields) throws SystemFailureException, com.confluxsys.iap.config.util.ObjectNotFoundException {\r\n    if (!requestFields.containsKey(REQUEST)) {\r\n    \t\t\tlogger.error(&quot;Request json is not passed in the request payload&quot;);\r\n    \t\t\tthrow new IllegalArgumentException(&quot;The &#39;request&#39; body part is missing in the payload.&quot;);\r\n    \t\t}\r\n    \r\n    \t\ttry {\r\n    \t\t\tObjectMapper objectMapper = new objectMapper() ;\r\n    \t\t\t//as data [request] will always be sent assuming it will be present at first location\r\n                JsonNode data = objectMapper.readTree(requestFields.get(REQUEST).get(0).getValueAs(InputStream.class));\r\n    /*validation after reading */\r\n    }catch (Exception e) {\r\n    \t\t\tthrow new SystemFailureException(&quot;Error occured while creating request .Rolling back all operation .cause : &quot;, e);\r\n    \t\t}\r\n    }\r\n\r\n\r\nCan anyone suggest is there any way I can unit test this class?\r\n\r\nLibrary --&gt; org.glassfish.jersey 2.35","title":"How to unit test the multi/part form-data using glassfish jersey?","body":"<p>I am trying to pass multiparform data fields <code>Map&lt;String, List&lt;FormDataBodyPart&gt;&gt;</code>, the input I get from the rest API to the manager class that accepts the multipart fields as a input and read it and perform the required action.</p>\n<pre><code>JsonNode data = objectMapper.readTree(requestFields.get(REQUEST).get(0).getValueAs(InputStream.class));\n</code></pre>\n<p>Assuming I always get the only one element only. The method works when I hit a postman request.</p>\n<p>But when I am trying to unit test the manager class that accepts the field of the multipart form data throws an error</p>\n<pre><code>java.lang.IllegalStateException: Entity instance does not contain the unconverted content.\n\n    at org.glassfish.jersey.media.multipart.BodyPart.getEntityAs(BodyPart.java:267)\n    at org.glassfish.jersey.media.multipart.FormDataBodyPart.getValueAs(FormDataBodyPart.java:291)\n    at com.confluxsys.iam.adc.core.impl.request.RequestManagerImpl.createRequest(RequestManagerImpl.java:178)\n    at com.confluxsys.iam.adc.util.request.TestRequestManagerV2.createRequestV2(TestRequestManagerV2.java:154)\n</code></pre>\n<p><strong>Test class code --&gt;</strong></p>\n<pre><code>String data = &quot;{&quot;menu&quot;:{&quot;id&quot;:&quot;file&quot;,&quot;value&quot;:&quot;File&quot;,&quot;popup&quot;:{&quot;menuitem&quot;:[{&quot;value&quot;:&quot;New&quot;,&quot;onclick&quot;:&quot;CreateNewDoc()&quot;},{&quot;value&quot;:&quot;Open&quot;,&quot;onclick&quot;:&quot;OpenDoc()&quot;},{&quot;value&quot;:&quot;Close&quot;,&quot;onclick&quot;:&quot;CloseDoc()&quot;}]}}}&quot;;    \nInputStream jsonStream;\n            try (FormDataMultiPart formDataMultiPart = new FormDataMultiPart()) {\n                FormDataBodyPart form1 = new FormDataBodyPart();\n                jsonStream = new ByteArrayInputStream(config.getBytes());\n                form1.setMediaType(MediaType.APPLICATION_JSON_TYPE);\n                form1.setValue(MediaType.APPLICATION_JSON_TYPE, jsonStream);\n                form1.setName(&quot;part-config&quot;);\n                form1.getHeaders().add(&quot;Content-Length&quot;, String.valueOf(config.getBytes().length));\n    \n    \n                formDataMultiPart.bodyPart(form1);\n              requestManager.createRequest(formDataMultiPart.getFields());\n            }\n</code></pre>\n<p><strong>Main class code ---&gt;</strong></p>\n<pre><code>public void createRequest(Map&lt;String, List&lt;FormDataBodyPart&gt;&gt; requestFields) throws SystemFailureException, com.confluxsys.iap.config.util.ObjectNotFoundException {\nif (!requestFields.containsKey(REQUEST)) {\n            logger.error(&quot;Request json is not passed in the request payload&quot;);\n            throw new IllegalArgumentException(&quot;The 'request' body part is missing in the payload.&quot;);\n        }\n\n        try {\n            ObjectMapper objectMapper = new objectMapper() ;\n            //as data [request] will always be sent assuming it will be present at first location\n            JsonNode data = objectMapper.readTree(requestFields.get(REQUEST).get(0).getValueAs(InputStream.class));\n/*validation after reading */\n}catch (Exception e) {\n            throw new SystemFailureException(&quot;Error occured while creating request .Rolling back all operation .cause : &quot;, e);\n        }\n}\n</code></pre>\n<p>Can anyone suggest is there any way I can unit test this class?</p>\n<p>Library --&gt; org.glassfish.jersey 2.35</p>\n"},{"tags":["java","maven-2","maven-plugin"],"answers":[{"comments":[{"owner":{"account_id":49798,"reputation":1831,"user_id":148419,"accept_rate":100,"display_name":"talk to frank"},"score":0,"creation_date":1253210546,"post_id":1440241,"comment_id":1285705,"body_markdown":"thanks again, it works nicely. What is a good way to get a maven project for the downloaded file?","body":"thanks again, it works nicely. What is a good way to get a maven project for the downloaded file?"},{"owner":{"account_id":42418,"reputation":83388,"user_id":123582,"accept_rate":56,"display_name":"Rich Seller"},"score":0,"creation_date":1253210684,"post_id":1440241,"comment_id":1285722,"body_markdown":"well that&#39;s really a separate question :-/","body":"well that&#39;s really a separate question :-/"},{"owner":{"account_id":28876,"reputation":6802,"user_id":77489,"display_name":"Brian Fox"},"score":0,"creation_date":1265492137,"post_id":1440241,"comment_id":2167535,"body_markdown":"The dependency plugin has all of this code already, including resolving a project for the requested artifact.","body":"The dependency plugin has all of this code already, including resolving a project for the requested artifact."},{"owner":{"account_id":42418,"reputation":83388,"user_id":123582,"accept_rate":56,"display_name":"Rich Seller"},"score":1,"creation_date":1265495812,"post_id":1440241,"comment_id":2167766,"body_markdown":"@Brian, as the OP stated they were aware it was possible in the dependency plugin but wanted to do it inside their own plugin, I&#39;ve shown them how. Do you know a way to do this more efficiently?","body":"@Brian, as the OP stated they were aware it was possible in the dependency plugin but wanted to do it inside their own plugin, I&#39;ve shown them how. Do you know a way to do this more efficiently?"},{"owner":{"account_id":28876,"reputation":6802,"user_id":77489,"display_name":"Brian Fox"},"score":0,"creation_date":1266465545,"post_id":1440241,"comment_id":2250067,"body_markdown":"I missed that part of the OP but my point was only that they should simply be able to copy all of the relevant code from the dependency plugin...including the follow on about getting a project object for the artifact.","body":"I missed that part of the OP but my point was only that they should simply be able to copy all of the relevant code from the dependency plugin...including the follow on about getting a project object for the artifact."},{"owner":{"account_id":38146,"reputation":1653,"user_id":109318,"accept_rate":50,"display_name":"Asaf Mesika"},"score":2,"creation_date":1309862765,"post_id":1440241,"comment_id":7761521,"body_markdown":"Do you know how to do it in Maven 3 API, using Aether and Guice components? Maven lacks documentation for this.","body":"Do you know how to do it in Maven 3 API, using Aether and Guice components? Maven lacks documentation for this."},{"owner":{"account_id":206261,"reputation":7740,"user_id":455449,"accept_rate":83,"display_name":"Petr Kozelka"},"score":1,"creation_date":1351905932,"post_id":1440241,"comment_id":17979473,"body_markdown":"Just a side note: specifying also version inside the property can make  the project bit hard to (cleanly) release and maintain, as it forms a dependency that is effectively &quot;hidden&quot; from the buildsystem. \nIt might be better/safer to use a notation *not* specifying a version, and lookup the version in maven dependencies (which also means it must be there). This is for instance the approach used in maven-antrun-plugin. Note that the lookup must match all 4 remaining coordinates (GACT)","body":"Just a side note: specifying also version inside the property can make  the project bit hard to (cleanly) release and maintain, as it forms a dependency that is effectively &quot;hidden&quot; from the buildsystem.  It might be better/safer to use a notation <i>not</i> specifying a version, and lookup the version in maven dependencies (which also means it must be there). This is for instance the approach used in maven-antrun-plugin. Note that the lookup must match all 4 remaining coordinates (GACT)"},{"owner":{"account_id":43022,"reputation":22842,"user_id":125562,"accept_rate":64,"display_name":"Basilevs"},"score":2,"creation_date":1405395214,"post_id":1440241,"comment_id":38397599,"body_markdown":"ArtifactFactory is deprecated and ArtifactResolver is moved to Aether package.","body":"ArtifactFactory is deprecated and ArtifactResolver is moved to Aether package."}],"tags":[],"owner":{"account_id":42418,"reputation":83388,"user_id":123582,"accept_rate":56,"display_name":"Rich Seller"},"comment_count":8,"down_vote_count":1,"up_vote_count":27,"is_accepted":true,"score":26,"last_activity_date":1253208764,"creation_date":1253208764,"answer_id":1440241,"question_id":1440224,"body_markdown":"Your plugin needs to create an Artifact using the ArtifactFactory and the groupId, artifactId and version of the artifact to be bootstrapped, then pass that artifact to an ArtifactResolver to handle the discovery/download. \r\n\r\nThe resolver needs access to the local repository and remote repositories. The good news is that all those are plexus components that you can declare as dependencies in your Mojo and have Plexus wire them in for you.\r\n\r\nIn [another answer][1] I showed how to do this. In your case you need a cut-down version with slightly different parameters to read the groupId, artifactId and version. In the plugin below, the various components are declared as plexus components, and the properties to declare the groupId, artifactId, version, and packaging type.\r\n\r\n\r\n    package name.seller.rich.maven.plugins.bootstrap;\r\n\r\n    import java.util.List;\r\n\r\n    import org.apache.maven.artifact.Artifact;\r\n    import org.apache.maven.artifact.factory.ArtifactFactory;\r\n    import org.apache.maven.artifact.repository.ArtifactRepository;\r\n    import org.apache.maven.artifact.resolver.ArtifactNotFoundException;\r\n    import org.apache.maven.artifact.resolver.ArtifactResolutionException;\r\n    import org.apache.maven.artifact.resolver.ArtifactResolver;\r\n    import org.apache.maven.plugin.AbstractMojo;\r\n    import org.apache.maven.plugin.MojoExecutionException;\r\n    import org.apache.maven.plugin.MojoFailureException;\r\n\r\n    /**\r\n     * Obtain the artifact defined by the groupId, artifactId, and version\r\n     * from the remote repository.\r\n     * \r\n     * @goal bootstrap\r\n     */\r\n    public class BootstrapAppMojo extends AbstractMojo {\r\n\r\n        /**\r\n         * Used to look up Artifacts in the remote repository.\r\n         * \r\n         * @parameter expression=\r\n         *  &quot;${component.org.apache.maven.artifact.factory.ArtifactFactory}&quot;\r\n         * @required\r\n         * @readonly\r\n         */\r\n        protected ArtifactFactory factory;\r\n\r\n        /**\r\n         * Used to look up Artifacts in the remote repository.\r\n         * \r\n         * @parameter expression=\r\n         *  &quot;${component.org.apache.maven.artifact.resolver.ArtifactResolver}&quot;\r\n         * @required\r\n         * @readonly\r\n         */\r\n        protected ArtifactResolver artifactResolver;\r\n\r\n        /**\r\n         * List of Remote Repositories used by the resolver\r\n         * \r\n         * @parameter expression=&quot;${project.remoteArtifactRepositories}&quot;\r\n         * @readonly\r\n         * @required\r\n         */\r\n        protected List remoteRepositories;\r\n\r\n        /**\r\n         * Location of the local repository.\r\n         * \r\n         * @parameter expression=&quot;${localRepository}&quot;\r\n         * @readonly\r\n         * @required\r\n         */\r\n        protected ArtifactRepository localRepository;\r\n\r\n        /**\r\n         * The target pom&#39;s artifactId\r\n         * \r\n         * @parameter expression=&quot;${bootstrapArtifactId}&quot;\r\n         * @required\r\n         */\r\n        private String bootstrapArtifactId;\r\n\r\n        /**\r\n         * The target pom&#39;s groupId\r\n         * \r\n         * @parameter expression=&quot;${bootstrapGroupId}&quot;\r\n         * @required\r\n         */\r\n        private String bootstrapGroupId;\r\n\r\n        /**\r\n         * The target pom&#39;s type\r\n         * \r\n         * @parameter expression=&quot;${bootstrapType}&quot;\r\n         * @required\r\n         */\r\n        private String bootstrapType;\r\n\r\n        /**\r\n         * The target pom&#39;s version\r\n         * \r\n         * @parameter expression=&quot;${bootstrapVersion}&quot;\r\n         * @required\r\n         */\r\n        private String bootstrapVersion;\r\n\r\n        public void execute() throws MojoExecutionException, MojoFailureException {\r\n            try {\r\n                Artifact pomArtifact = this.factory.createArtifact(\r\n                    bootstrapGroupId, bootstrapArtifactId, bootstrapVersion,\r\n                    &quot;&quot;, bootstrapType);\r\n\r\n                artifactResolver.resolve(pomArtifact, this.remoteRepositories,\r\n                    this.localRepository);\r\n            } catch (ArtifactResolutionException e) {\r\n                getLog().error(&quot;can&#39;t resolve parent pom&quot;, e);\r\n            } catch (ArtifactNotFoundException e) {\r\n                getLog().error(&quot;can&#39;t resolve parent pom&quot;, e);\r\n            }\r\n        }\r\n    }\r\n\r\nThis is an example of a pom configured to use the plugin (and download the aspectjrt 1.6.4 pom):\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project&gt;\r\n      &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n      &lt;groupId&gt;name.seller.rich&lt;/groupId&gt;\r\n      &lt;artifactId&gt;bootstrap-test&lt;/artifactId&gt;\r\n      &lt;version&gt;1.0.0&lt;/version&gt;\r\n        &lt;build&gt;\r\n          &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n              &lt;groupId&gt;name.seller.rich&lt;/groupId&gt;\r\n              &lt;artifactId&gt;maven-bootstrap-plugin&lt;/artifactId&gt;\r\n              &lt;executions&gt;\r\n                &lt;execution&gt;\r\n                  &lt;phase&gt;package&lt;/phase&gt;\r\n                  &lt;goals&gt;\r\n                    &lt;goal&gt;bootstrap&lt;/goal&gt;\r\n                  &lt;/goals&gt;\r\n                  &lt;configuration&gt;\r\n                    &lt;bootstrapGroupId&gt;org.aspectj&lt;/bootstrapGroupId&gt;\r\n                    &lt;bootstrapArtifactId&gt;aspectjrt&lt;/bootstrapArtifactId&gt;\r\n                    &lt;bootstrapVersion&gt;1.6.4&lt;/bootstrapVersion&gt;\r\n                    &lt;bootstrapType&gt;pom&lt;/bootstrapType&gt;\r\n                  &lt;/configuration&gt;\r\n                &lt;/execution&gt;\r\n              &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n      &lt;/build&gt;\r\n    &lt;/project&gt;\r\n\r\n  [1]: https://stackoverflow.com/questions/951643/collapsing-parent-pom-into-the-child/1001575#1001575","title":"How can I download Maven artifacts within a plugin?","body":"<p>Your plugin needs to create an Artifact using the ArtifactFactory and the groupId, artifactId and version of the artifact to be bootstrapped, then pass that artifact to an ArtifactResolver to handle the discovery/download. </p>\n\n<p>The resolver needs access to the local repository and remote repositories. The good news is that all those are plexus components that you can declare as dependencies in your Mojo and have Plexus wire them in for you.</p>\n\n<p>In <a href=\"https://stackoverflow.com/questions/951643/collapsing-parent-pom-into-the-child/1001575#1001575\">another answer</a> I showed how to do this. In your case you need a cut-down version with slightly different parameters to read the groupId, artifactId and version. In the plugin below, the various components are declared as plexus components, and the properties to declare the groupId, artifactId, version, and packaging type.</p>\n\n<pre><code>package name.seller.rich.maven.plugins.bootstrap;\n\nimport java.util.List;\n\nimport org.apache.maven.artifact.Artifact;\nimport org.apache.maven.artifact.factory.ArtifactFactory;\nimport org.apache.maven.artifact.repository.ArtifactRepository;\nimport org.apache.maven.artifact.resolver.ArtifactNotFoundException;\nimport org.apache.maven.artifact.resolver.ArtifactResolutionException;\nimport org.apache.maven.artifact.resolver.ArtifactResolver;\nimport org.apache.maven.plugin.AbstractMojo;\nimport org.apache.maven.plugin.MojoExecutionException;\nimport org.apache.maven.plugin.MojoFailureException;\n\n/**\n * Obtain the artifact defined by the groupId, artifactId, and version\n * from the remote repository.\n * \n * @goal bootstrap\n */\npublic class BootstrapAppMojo extends AbstractMojo {\n\n    /**\n     * Used to look up Artifacts in the remote repository.\n     * \n     * @parameter expression=\n     *  \"${component.org.apache.maven.artifact.factory.ArtifactFactory}\"\n     * @required\n     * @readonly\n     */\n    protected ArtifactFactory factory;\n\n    /**\n     * Used to look up Artifacts in the remote repository.\n     * \n     * @parameter expression=\n     *  \"${component.org.apache.maven.artifact.resolver.ArtifactResolver}\"\n     * @required\n     * @readonly\n     */\n    protected ArtifactResolver artifactResolver;\n\n    /**\n     * List of Remote Repositories used by the resolver\n     * \n     * @parameter expression=\"${project.remoteArtifactRepositories}\"\n     * @readonly\n     * @required\n     */\n    protected List remoteRepositories;\n\n    /**\n     * Location of the local repository.\n     * \n     * @parameter expression=\"${localRepository}\"\n     * @readonly\n     * @required\n     */\n    protected ArtifactRepository localRepository;\n\n    /**\n     * The target pom's artifactId\n     * \n     * @parameter expression=\"${bootstrapArtifactId}\"\n     * @required\n     */\n    private String bootstrapArtifactId;\n\n    /**\n     * The target pom's groupId\n     * \n     * @parameter expression=\"${bootstrapGroupId}\"\n     * @required\n     */\n    private String bootstrapGroupId;\n\n    /**\n     * The target pom's type\n     * \n     * @parameter expression=\"${bootstrapType}\"\n     * @required\n     */\n    private String bootstrapType;\n\n    /**\n     * The target pom's version\n     * \n     * @parameter expression=\"${bootstrapVersion}\"\n     * @required\n     */\n    private String bootstrapVersion;\n\n    public void execute() throws MojoExecutionException, MojoFailureException {\n        try {\n            Artifact pomArtifact = this.factory.createArtifact(\n                bootstrapGroupId, bootstrapArtifactId, bootstrapVersion,\n                \"\", bootstrapType);\n\n            artifactResolver.resolve(pomArtifact, this.remoteRepositories,\n                this.localRepository);\n        } catch (ArtifactResolutionException e) {\n            getLog().error(\"can't resolve parent pom\", e);\n        } catch (ArtifactNotFoundException e) {\n            getLog().error(\"can't resolve parent pom\", e);\n        }\n    }\n}\n</code></pre>\n\n<p>This is an example of a pom configured to use the plugin (and download the aspectjrt 1.6.4 pom):</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n  &lt;groupId&gt;name.seller.rich&lt;/groupId&gt;\n  &lt;artifactId&gt;bootstrap-test&lt;/artifactId&gt;\n  &lt;version&gt;1.0.0&lt;/version&gt;\n    &lt;build&gt;\n      &lt;plugins&gt;\n        &lt;plugin&gt;\n          &lt;groupId&gt;name.seller.rich&lt;/groupId&gt;\n          &lt;artifactId&gt;maven-bootstrap-plugin&lt;/artifactId&gt;\n          &lt;executions&gt;\n            &lt;execution&gt;\n              &lt;phase&gt;package&lt;/phase&gt;\n              &lt;goals&gt;\n                &lt;goal&gt;bootstrap&lt;/goal&gt;\n              &lt;/goals&gt;\n              &lt;configuration&gt;\n                &lt;bootstrapGroupId&gt;org.aspectj&lt;/bootstrapGroupId&gt;\n                &lt;bootstrapArtifactId&gt;aspectjrt&lt;/bootstrapArtifactId&gt;\n                &lt;bootstrapVersion&gt;1.6.4&lt;/bootstrapVersion&gt;\n                &lt;bootstrapType&gt;pom&lt;/bootstrapType&gt;\n              &lt;/configuration&gt;\n            &lt;/execution&gt;\n          &lt;/executions&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2377255,"reputation":103,"user_id":2080250,"display_name":"Petr Hadraba"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683549066,"creation_date":1683549066,"answer_id":76200620,"question_id":1440224,"body_markdown":"I&#39;m facing similar issue. I want to extract specific files from plugin&#39;s dependencies in order not to pollute main artifact&#39;s dependencies.\r\n\r\nThe solution using &quot;old&quot; Maven API is obvious and straightforward. Except the deprecation.\r\n\r\nI decided to investigate new ways to do it using new API.\r\n\r\nMy main inspiration was [Maven Dependency Plug-In](https://github.com/apache/maven-dependency-plugin/tree/maven-dependency-plugin-3.5.0) especially [GetMojo](https://github.com/apache/maven-dependency-plugin/blob/maven-dependency-plugin-3.5.0/src/main/java/org/apache/maven/plugins/dependency/GetMojo.java), [UnpackDependenciesMojo](https://github.com/apache/maven-dependency-plugin/blob/maven-dependency-plugin-3.5.0/src/main/java/org/apache/maven/plugins/dependency/fromDependencies/UnpackDependenciesMojo.java) and [UnpackUtil](https://github.com/apache/maven-dependency-plugin/blob/master/src/main/java/org/apache/maven/plugins/dependency/utils/UnpackUtil.java).\r\n\r\nIn short, what has to be done:\r\n1. Create `org.apache.maven.shared.transfer.dependencies.DependableCoordinate` which points to desired GAV. Nothing special here; use `org.apache.maven.shared.transfer.dependencies.DefaultDependableCoordinate` POJO.\r\n2. Resolve the artifact. This is probably the most complex task. We need to set-up repositories, which can be obtained from Project&#39;s remote repositories and injecting proxies and authorization stuff. With this done we can use `org.apache.maven.shared.transfer.dependencies.resolve.DependencyResolver` to do the job.\r\n3. Extracting resolved artifact. `org.codehaus.plexus.archiver.UnArchiver` is our friend. To get an instance, we can use `org.codehaus.plexus.archiver.manager.ArchiverManager#getUnArchiver()`. There are two options: by type or by file extension.\r\n\r\nI developed/tested the following code with Maven 3.8.6 and Maven 3.9.1.\r\n\r\n### Common injection\r\n\r\n```\r\n    @Parameter(defaultValue = &quot;${project.build.directory}/download&quot;, required = true)\r\n    private File outputDirectory;\r\n\r\n    @Parameter\r\n    private List&lt;String&gt; includes = new ArrayList&lt;&gt;();\r\n\r\n    @Inject\r\n    private ArchiverManager archiverManager;\r\n\r\n    @Inject\r\n    private RepositorySystem repositorySystem;\r\n\r\n    @Inject\r\n    private DependencyResolver dependencyResolver;\r\n\r\n    @Parameter(defaultValue = &quot;${plugin}&quot;, readonly = true, required = true)\r\n    private PluginDescriptor pluginDescriptor;\r\n\r\n    @Parameter(defaultValue = &quot;${project}&quot;, readonly = true, required = true)\r\n    private MavenProject project;\r\n\r\n    @Parameter(defaultValue = &quot;${session}&quot;, required = true, readonly = true)\r\n    private MavenSession session;\r\n```\r\n\r\n### Creation of repositories for `DependencyResolver`\r\n\r\n```\r\n    private static List&lt;ArtifactRepository&gt; createRepositories(\r\n            final MavenProject project,\r\n            final MavenSession session,\r\n            final RepositorySystem repositorySystem) {\r\n        final List&lt;ArtifactRepository&gt; repositories = new ArrayList&lt;&gt;();\r\n\r\n        final var policy = new ArtifactRepositoryPolicy(\r\n                true,\r\n                ArtifactRepositoryPolicy.UPDATE_POLICY_ALWAYS,\r\n                ArtifactRepositoryPolicy.CHECKSUM_POLICY_FAIL);\r\n\r\n        project.getRemoteArtifactRepositories().forEach(\r\n                remoteRepository -&gt; repositories.add(\r\n                        new MavenArtifactRepository(\r\n                                remoteRepository.getId(),\r\n                                remoteRepository.getUrl(),\r\n                                remoteRepository.getLayout(),\r\n                                policy,\r\n                                policy)));\r\n\r\n        final var settings = session.getSettings();\r\n        repositorySystem.injectMirror(repositories, settings.getMirrors());\r\n        repositorySystem.injectProxy(repositories, settings.getProxies());\r\n        repositorySystem.injectAuthentication(repositories, settings.getServers());\r\n\r\n        return repositories;\r\n    }\r\n```\r\n\r\n### Resolving `DependableCoordinate`\r\n\r\n```\r\n    private static Iterable&lt;ArtifactResult&gt; resolveArtifact(\r\n            final DependableCoordinate artifact,\r\n            final List&lt;ArtifactRepository&gt; repositories,\r\n            final MavenSession session,\r\n            final DependencyResolver dependencyResolver)\r\n            throws DependencyResolverException {\r\n        final ProjectBuildingRequest buildingRequest\r\n                = new DefaultProjectBuildingRequest(session.getProjectBuildingRequest());\r\n        buildingRequest.setRemoteRepositories(repositories);\r\n        return dependencyResolver.resolveDependencies(buildingRequest, artifact, null);\r\n    }\r\n```\r\n\r\n### The extraction itself\r\n\r\n```\r\n    private static void extract(\r\n            final Artifact artifact,\r\n            final File directory,\r\n            final FileSelector[] selectors,\r\n            final ArchiverManager archiverManager)\r\n            throws IOException, MojoFailureException {\r\n        try {\r\n            if (!directory.exists()) {\r\n                if (!directory.mkdirs()) {\r\n                    throw new IOException(String.format(&quot;Failed to create directory [%s].&quot;, directory));\r\n                }\r\n            }\r\n\r\n            UnArchiver unArchiver;\r\n            try {\r\n                unArchiver = archiverManager.getUnArchiver(artifact.getType());\r\n            } catch (final NoSuchArchiverException ex) {\r\n                unArchiver = archiverManager.getUnArchiver(artifact.getFile());\r\n            }\r\n\r\n            unArchiver.setFileSelectors(selectors);\r\n            unArchiver.setSourceFile(artifact.getFile());\r\n            unArchiver.setDestDirectory(directory);\r\n            unArchiver.extract();\r\n        } catch (final NoSuchArchiverException ex) {\r\n            throw new MojoFailureException(\r\n                    String.format(&quot;Could not determine archive type for artifact [%s].&quot;, artifact),\r\n                    ex);\r\n        }\r\n    }\r\n```\r\n\r\n### And finally the control loop\r\n\r\n```\r\n    private static final Logger LOGGER = LoggerFactory.getLogger(DependencyDownloadMojo.class);\r\n\r\n    private static final List&lt;String&gt; DEFAULT_INCLUDES = Collections.singletonList(&quot;*.txt&quot;);\r\n\r\n    @Override\r\n    public void execute() throws MojoExecutionException, MojoFailureException {\r\n        LOGGER.debug(&quot;About to download resources from dependencies.&quot;);\r\n\r\n        final var repositories = createRepositories(project, session, repositorySystem);\r\n        final var dependencies = getPluginDependencies(pluginDescriptor.getPlugin());\r\n        final var selectors = createSelectors(includes);\r\n\r\n        LOGGER.info(&quot;Using resource selectors: [{}].&quot;, (Object) selectors);\r\n\r\n        for (final var dependency : dependencies) {\r\n            try {\r\n                LOGGER.info(&quot;About to download resources from dependency [{}].&quot;, dependency);\r\n\r\n                LOGGER.debug(&quot;About to resolve Artifact [{}].&quot;, dependency);\r\n                final var artifactResults = resolveArtifact(dependency, repositories, session, dependencyResolver);\r\n                if (LOGGER.isDebugEnabled()) {\r\n                    LOGGER.debug(&quot;Dependency resolves to [{}].&quot;, artifactResults);\r\n                    for (final var artifactResult : artifactResults) {\r\n                        LOGGER.debug(&quot;Dependency resolves to [{}]; location: [{}].&quot;,\r\n                                artifactResult.getArtifact(),\r\n                                artifactResult.getArtifact().getFile());\r\n                    }\r\n                }\r\n\r\n                for (final var artifactResult : artifactResults) {\r\n                    final var artifact = artifactResult.getArtifact();\r\n                    LOGGER.info(&quot;About to extract resources from artifact [{}].&quot;, artifact);\r\n\r\n                    try {\r\n                        extract(artifact, outputDirectory, selectors, archiverManager);\r\n                    } catch (final IOException ex) {\r\n                        final var message = String.format(\r\n                                &quot;Failed to extract resources from artifact [%s].&quot;, artifact);\r\n                        LOGGER.error(message, ex);\r\n                        throw new MojoExecutionException(message, ex);\r\n                    }\r\n                }\r\n            } catch (final DependencyResolverException ex) {\r\n                final var message = String.format(&quot;Failed to resolve dependency [%s].&quot;, dependency);\r\n                LOGGER.error(message, ex);\r\n                throw new MojoFailureException(message, ex);\r\n            }\r\n        }\r\n    }\r\n\r\n    private FileSelector[] createSelectors(final List&lt;String&gt; includes) {\r\n        final List&lt;FileSelector&gt; result = new ArrayList&lt;&gt;();\r\n\r\n        final List&lt;String&gt; includesOrDefaults = new ArrayList&lt;&gt;();\r\n\r\n        if (includes.isEmpty()) {\r\n            LOGGER.debug(&quot;Using default includes [{}].&quot;, DEFAULT_INCLUDES);\r\n            includesOrDefaults.addAll(DEFAULT_INCLUDES);\r\n        } else {\r\n            LOGGER.debug(&quot;Using provided includes [{}].&quot;, includes);\r\n            includesOrDefaults.addAll(includes);\r\n        }\r\n\r\n        for (final var include : includesOrDefaults) {\r\n            final var selector = new IncludeExcludeFileSelector();\r\n            selector.setIncludes(new String[] { include });\r\n            result.add(selector);\r\n        }\r\n\r\n        return result.toArray(new FileSelector[0]);\r\n    }\r\n```\r\n\r\n### The most important—POM\r\n\r\n```\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\r\n\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;global.sandbox.test.dependency.download.maven.plugin&lt;/groupId&gt;\r\n    &lt;artifactId&gt;dependency-download-maven-plugin&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    &lt;packaging&gt;maven-plugin&lt;/packaging&gt;\r\n\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;global.sandbox.test.dependency.download&lt;/groupId&gt;\r\n        &lt;artifactId&gt;dependency-download&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    &lt;/parent&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;maven.version&gt;3.8.2&lt;/maven.version&gt;\r\n        &lt;maven-plugin-plugin.version&gt;3.8.2&lt;/maven-plugin-plugin.version&gt;\r\n        &lt;sisu-maven-plugin.version&gt;0.9.0.M2&lt;/sisu-maven-plugin.version&gt;\r\n        &lt;plexus-archiver.version&gt;4.7.1&lt;/plexus-archiver.version&gt;\r\n        &lt;maven-artifact-transfer.version&gt;0.13.1&lt;/maven-artifact-transfer.version&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;prerequisites&gt;\r\n        &lt;maven&gt;3.8.2&lt;/maven&gt;\r\n    &lt;/prerequisites&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.maven&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-core&lt;/artifactId&gt;\r\n            &lt;version&gt;${maven.version}&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.maven&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-artifact&lt;/artifactId&gt;\r\n            &lt;version&gt;${maven.version}&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.maven&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-model&lt;/artifactId&gt;\r\n            &lt;version&gt;${maven.version}&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.maven&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-plugin-api&lt;/artifactId&gt;\r\n            &lt;version&gt;${maven.version}&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.maven.plugin-tools&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-plugin-annotations&lt;/artifactId&gt;\r\n            &lt;version&gt;${maven.version}&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.codehaus.plexus&lt;/groupId&gt;\r\n            &lt;artifactId&gt;plexus-archiver&lt;/artifactId&gt;\r\n            &lt;version&gt;${plexus-archiver.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.maven.shared&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-artifact-transfer&lt;/artifactId&gt;\r\n            &lt;version&gt;${maven-artifact-transfer.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;compilerArgs&gt;-Xlint:all&lt;/compilerArgs&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-plugin-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;${maven-plugin-plugin.version}&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;skipErrorNoDescriptorsFound&gt;false&lt;/skipErrorNoDescriptorsFound&gt;\r\n                    &lt;extractors&gt;\r\n                        &lt;extractor&gt;java-annotations&lt;/extractor&gt;\r\n                    &lt;/extractors&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.eclipse.sisu&lt;/groupId&gt;\r\n                &lt;artifactId&gt;sisu-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;${sisu-maven-plugin.version}&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;index-project&lt;/id&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;main-index&lt;/goal&gt;\r\n                            &lt;goal&gt;test-index&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\n#### Parent POM\r\n\r\n```\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\r\n\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;global.sandbox.test.dependency.download&lt;/groupId&gt;\r\n    &lt;artifactId&gt;dependency-download&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    &lt;packaging&gt;pom&lt;/packaging&gt;\r\n\r\n    &lt;modules&gt;\r\n        &lt;module&gt;dependency&lt;/module&gt;\r\n        &lt;module&gt;dependency-download-maven-plugin&lt;/module&gt;\r\n        &lt;module&gt;usage&lt;/module&gt;\r\n    &lt;/modules&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;maven.compiler.release&gt;17&lt;/maven.compiler.release&gt;\r\n        &lt;maven.compiler.target&gt;${maven.compiler.release}&lt;/maven.compiler.target&gt;\r\n        &lt;maven.compiler.source&gt;${maven.compiler.release}&lt;/maven.compiler.source&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n\r\n        &lt;maven-compiler-plugin.version&gt;3.11.0&lt;/maven-compiler-plugin.version&gt;\r\n        &lt;maven-resources-plugin.version&gt;3.3.1&lt;/maven-resources-plugin.version&gt;\r\n        &lt;maven-enforcer-plugin.version&gt;3.3.0&lt;/maven-enforcer-plugin.version&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;pluginManagement&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;${maven-compiler-plugin.version}&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;skip&gt;true&lt;/skip&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;${maven-resources-plugin.version}&lt;/version&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-enforcer-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;${maven-enforcer-plugin.version}&lt;/version&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/pluginManagement&gt;\r\n\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-enforcer-plugin&lt;/artifactId&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;enforce-maven&lt;/id&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;enforce&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;rules&gt;\r\n                                &lt;requireMavenVersion&gt;\r\n                                    &lt;version&gt;3.8.0&lt;/version&gt;\r\n                                &lt;/requireMavenVersion&gt;\r\n                            &lt;/rules&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n","title":"How can I download Maven artifacts within a plugin?","body":"<p>I'm facing similar issue. I want to extract specific files from plugin's dependencies in order not to pollute main artifact's dependencies.</p>\n<p>The solution using &quot;old&quot; Maven API is obvious and straightforward. Except the deprecation.</p>\n<p>I decided to investigate new ways to do it using new API.</p>\n<p>My main inspiration was <a href=\"https://github.com/apache/maven-dependency-plugin/tree/maven-dependency-plugin-3.5.0\" rel=\"nofollow noreferrer\">Maven Dependency Plug-In</a> especially <a href=\"https://github.com/apache/maven-dependency-plugin/blob/maven-dependency-plugin-3.5.0/src/main/java/org/apache/maven/plugins/dependency/GetMojo.java\" rel=\"nofollow noreferrer\">GetMojo</a>, <a href=\"https://github.com/apache/maven-dependency-plugin/blob/maven-dependency-plugin-3.5.0/src/main/java/org/apache/maven/plugins/dependency/fromDependencies/UnpackDependenciesMojo.java\" rel=\"nofollow noreferrer\">UnpackDependenciesMojo</a> and <a href=\"https://github.com/apache/maven-dependency-plugin/blob/master/src/main/java/org/apache/maven/plugins/dependency/utils/UnpackUtil.java\" rel=\"nofollow noreferrer\">UnpackUtil</a>.</p>\n<p>In short, what has to be done:</p>\n<ol>\n<li>Create <code>org.apache.maven.shared.transfer.dependencies.DependableCoordinate</code> which points to desired GAV. Nothing special here; use <code>org.apache.maven.shared.transfer.dependencies.DefaultDependableCoordinate</code> POJO.</li>\n<li>Resolve the artifact. This is probably the most complex task. We need to set-up repositories, which can be obtained from Project's remote repositories and injecting proxies and authorization stuff. With this done we can use <code>org.apache.maven.shared.transfer.dependencies.resolve.DependencyResolver</code> to do the job.</li>\n<li>Extracting resolved artifact. <code>org.codehaus.plexus.archiver.UnArchiver</code> is our friend. To get an instance, we can use <code>org.codehaus.plexus.archiver.manager.ArchiverManager#getUnArchiver()</code>. There are two options: by type or by file extension.</li>\n</ol>\n<p>I developed/tested the following code with Maven 3.8.6 and Maven 3.9.1.</p>\n<h3>Common injection</h3>\n<pre><code>    @Parameter(defaultValue = &quot;${project.build.directory}/download&quot;, required = true)\n    private File outputDirectory;\n\n    @Parameter\n    private List&lt;String&gt; includes = new ArrayList&lt;&gt;();\n\n    @Inject\n    private ArchiverManager archiverManager;\n\n    @Inject\n    private RepositorySystem repositorySystem;\n\n    @Inject\n    private DependencyResolver dependencyResolver;\n\n    @Parameter(defaultValue = &quot;${plugin}&quot;, readonly = true, required = true)\n    private PluginDescriptor pluginDescriptor;\n\n    @Parameter(defaultValue = &quot;${project}&quot;, readonly = true, required = true)\n    private MavenProject project;\n\n    @Parameter(defaultValue = &quot;${session}&quot;, required = true, readonly = true)\n    private MavenSession session;\n</code></pre>\n<h3>Creation of repositories for <code>DependencyResolver</code></h3>\n<pre><code>    private static List&lt;ArtifactRepository&gt; createRepositories(\n            final MavenProject project,\n            final MavenSession session,\n            final RepositorySystem repositorySystem) {\n        final List&lt;ArtifactRepository&gt; repositories = new ArrayList&lt;&gt;();\n\n        final var policy = new ArtifactRepositoryPolicy(\n                true,\n                ArtifactRepositoryPolicy.UPDATE_POLICY_ALWAYS,\n                ArtifactRepositoryPolicy.CHECKSUM_POLICY_FAIL);\n\n        project.getRemoteArtifactRepositories().forEach(\n                remoteRepository -&gt; repositories.add(\n                        new MavenArtifactRepository(\n                                remoteRepository.getId(),\n                                remoteRepository.getUrl(),\n                                remoteRepository.getLayout(),\n                                policy,\n                                policy)));\n\n        final var settings = session.getSettings();\n        repositorySystem.injectMirror(repositories, settings.getMirrors());\n        repositorySystem.injectProxy(repositories, settings.getProxies());\n        repositorySystem.injectAuthentication(repositories, settings.getServers());\n\n        return repositories;\n    }\n</code></pre>\n<h3>Resolving <code>DependableCoordinate</code></h3>\n<pre><code>    private static Iterable&lt;ArtifactResult&gt; resolveArtifact(\n            final DependableCoordinate artifact,\n            final List&lt;ArtifactRepository&gt; repositories,\n            final MavenSession session,\n            final DependencyResolver dependencyResolver)\n            throws DependencyResolverException {\n        final ProjectBuildingRequest buildingRequest\n                = new DefaultProjectBuildingRequest(session.getProjectBuildingRequest());\n        buildingRequest.setRemoteRepositories(repositories);\n        return dependencyResolver.resolveDependencies(buildingRequest, artifact, null);\n    }\n</code></pre>\n<h3>The extraction itself</h3>\n<pre><code>    private static void extract(\n            final Artifact artifact,\n            final File directory,\n            final FileSelector[] selectors,\n            final ArchiverManager archiverManager)\n            throws IOException, MojoFailureException {\n        try {\n            if (!directory.exists()) {\n                if (!directory.mkdirs()) {\n                    throw new IOException(String.format(&quot;Failed to create directory [%s].&quot;, directory));\n                }\n            }\n\n            UnArchiver unArchiver;\n            try {\n                unArchiver = archiverManager.getUnArchiver(artifact.getType());\n            } catch (final NoSuchArchiverException ex) {\n                unArchiver = archiverManager.getUnArchiver(artifact.getFile());\n            }\n\n            unArchiver.setFileSelectors(selectors);\n            unArchiver.setSourceFile(artifact.getFile());\n            unArchiver.setDestDirectory(directory);\n            unArchiver.extract();\n        } catch (final NoSuchArchiverException ex) {\n            throw new MojoFailureException(\n                    String.format(&quot;Could not determine archive type for artifact [%s].&quot;, artifact),\n                    ex);\n        }\n    }\n</code></pre>\n<h3>And finally the control loop</h3>\n<pre><code>    private static final Logger LOGGER = LoggerFactory.getLogger(DependencyDownloadMojo.class);\n\n    private static final List&lt;String&gt; DEFAULT_INCLUDES = Collections.singletonList(&quot;*.txt&quot;);\n\n    @Override\n    public void execute() throws MojoExecutionException, MojoFailureException {\n        LOGGER.debug(&quot;About to download resources from dependencies.&quot;);\n\n        final var repositories = createRepositories(project, session, repositorySystem);\n        final var dependencies = getPluginDependencies(pluginDescriptor.getPlugin());\n        final var selectors = createSelectors(includes);\n\n        LOGGER.info(&quot;Using resource selectors: [{}].&quot;, (Object) selectors);\n\n        for (final var dependency : dependencies) {\n            try {\n                LOGGER.info(&quot;About to download resources from dependency [{}].&quot;, dependency);\n\n                LOGGER.debug(&quot;About to resolve Artifact [{}].&quot;, dependency);\n                final var artifactResults = resolveArtifact(dependency, repositories, session, dependencyResolver);\n                if (LOGGER.isDebugEnabled()) {\n                    LOGGER.debug(&quot;Dependency resolves to [{}].&quot;, artifactResults);\n                    for (final var artifactResult : artifactResults) {\n                        LOGGER.debug(&quot;Dependency resolves to [{}]; location: [{}].&quot;,\n                                artifactResult.getArtifact(),\n                                artifactResult.getArtifact().getFile());\n                    }\n                }\n\n                for (final var artifactResult : artifactResults) {\n                    final var artifact = artifactResult.getArtifact();\n                    LOGGER.info(&quot;About to extract resources from artifact [{}].&quot;, artifact);\n\n                    try {\n                        extract(artifact, outputDirectory, selectors, archiverManager);\n                    } catch (final IOException ex) {\n                        final var message = String.format(\n                                &quot;Failed to extract resources from artifact [%s].&quot;, artifact);\n                        LOGGER.error(message, ex);\n                        throw new MojoExecutionException(message, ex);\n                    }\n                }\n            } catch (final DependencyResolverException ex) {\n                final var message = String.format(&quot;Failed to resolve dependency [%s].&quot;, dependency);\n                LOGGER.error(message, ex);\n                throw new MojoFailureException(message, ex);\n            }\n        }\n    }\n\n    private FileSelector[] createSelectors(final List&lt;String&gt; includes) {\n        final List&lt;FileSelector&gt; result = new ArrayList&lt;&gt;();\n\n        final List&lt;String&gt; includesOrDefaults = new ArrayList&lt;&gt;();\n\n        if (includes.isEmpty()) {\n            LOGGER.debug(&quot;Using default includes [{}].&quot;, DEFAULT_INCLUDES);\n            includesOrDefaults.addAll(DEFAULT_INCLUDES);\n        } else {\n            LOGGER.debug(&quot;Using provided includes [{}].&quot;, includes);\n            includesOrDefaults.addAll(includes);\n        }\n\n        for (final var include : includesOrDefaults) {\n            final var selector = new IncludeExcludeFileSelector();\n            selector.setIncludes(new String[] { include });\n            result.add(selector);\n        }\n\n        return result.toArray(new FileSelector[0]);\n    }\n</code></pre>\n<h3>The most important—POM</h3>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\n\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;global.sandbox.test.dependency.download.maven.plugin&lt;/groupId&gt;\n    &lt;artifactId&gt;dependency-download-maven-plugin&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;maven-plugin&lt;/packaging&gt;\n\n    &lt;parent&gt;\n        &lt;groupId&gt;global.sandbox.test.dependency.download&lt;/groupId&gt;\n        &lt;artifactId&gt;dependency-download&lt;/artifactId&gt;\n        &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;/parent&gt;\n\n    &lt;properties&gt;\n        &lt;maven.version&gt;3.8.2&lt;/maven.version&gt;\n        &lt;maven-plugin-plugin.version&gt;3.8.2&lt;/maven-plugin-plugin.version&gt;\n        &lt;sisu-maven-plugin.version&gt;0.9.0.M2&lt;/sisu-maven-plugin.version&gt;\n        &lt;plexus-archiver.version&gt;4.7.1&lt;/plexus-archiver.version&gt;\n        &lt;maven-artifact-transfer.version&gt;0.13.1&lt;/maven-artifact-transfer.version&gt;\n    &lt;/properties&gt;\n\n    &lt;prerequisites&gt;\n        &lt;maven&gt;3.8.2&lt;/maven&gt;\n    &lt;/prerequisites&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.maven&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-core&lt;/artifactId&gt;\n            &lt;version&gt;${maven.version}&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.maven&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-artifact&lt;/artifactId&gt;\n            &lt;version&gt;${maven.version}&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.maven&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-model&lt;/artifactId&gt;\n            &lt;version&gt;${maven.version}&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.maven&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-plugin-api&lt;/artifactId&gt;\n            &lt;version&gt;${maven.version}&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.maven.plugin-tools&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-plugin-annotations&lt;/artifactId&gt;\n            &lt;version&gt;${maven.version}&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.codehaus.plexus&lt;/groupId&gt;\n            &lt;artifactId&gt;plexus-archiver&lt;/artifactId&gt;\n            &lt;version&gt;${plexus-archiver.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.maven.shared&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-artifact-transfer&lt;/artifactId&gt;\n            &lt;version&gt;${maven-artifact-transfer.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;compilerArgs&gt;-Xlint:all&lt;/compilerArgs&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-plugin-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${maven-plugin-plugin.version}&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;skipErrorNoDescriptorsFound&gt;false&lt;/skipErrorNoDescriptorsFound&gt;\n                    &lt;extractors&gt;\n                        &lt;extractor&gt;java-annotations&lt;/extractor&gt;\n                    &lt;/extractors&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.eclipse.sisu&lt;/groupId&gt;\n                &lt;artifactId&gt;sisu-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${sisu-maven-plugin.version}&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;index-project&lt;/id&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;main-index&lt;/goal&gt;\n                            &lt;goal&gt;test-index&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<h4>Parent POM</h4>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\n\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;global.sandbox.test.dependency.download&lt;/groupId&gt;\n    &lt;artifactId&gt;dependency-download&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;pom&lt;/packaging&gt;\n\n    &lt;modules&gt;\n        &lt;module&gt;dependency&lt;/module&gt;\n        &lt;module&gt;dependency-download-maven-plugin&lt;/module&gt;\n        &lt;module&gt;usage&lt;/module&gt;\n    &lt;/modules&gt;\n\n    &lt;properties&gt;\n        &lt;maven.compiler.release&gt;17&lt;/maven.compiler.release&gt;\n        &lt;maven.compiler.target&gt;${maven.compiler.release}&lt;/maven.compiler.target&gt;\n        &lt;maven.compiler.source&gt;${maven.compiler.release}&lt;/maven.compiler.source&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n\n        &lt;maven-compiler-plugin.version&gt;3.11.0&lt;/maven-compiler-plugin.version&gt;\n        &lt;maven-resources-plugin.version&gt;3.3.1&lt;/maven-resources-plugin.version&gt;\n        &lt;maven-enforcer-plugin.version&gt;3.3.0&lt;/maven-enforcer-plugin.version&gt;\n    &lt;/properties&gt;\n\n    &lt;build&gt;\n        &lt;pluginManagement&gt;\n            &lt;plugins&gt;\n                &lt;plugin&gt;\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;${maven-compiler-plugin.version}&lt;/version&gt;\n                    &lt;configuration&gt;\n                        &lt;skip&gt;true&lt;/skip&gt;\n                    &lt;/configuration&gt;\n                &lt;/plugin&gt;\n                &lt;plugin&gt;\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                    &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;${maven-resources-plugin.version}&lt;/version&gt;\n                &lt;/plugin&gt;\n                &lt;plugin&gt;\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                    &lt;artifactId&gt;maven-enforcer-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;${maven-enforcer-plugin.version}&lt;/version&gt;\n                &lt;/plugin&gt;\n            &lt;/plugins&gt;\n        &lt;/pluginManagement&gt;\n\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-enforcer-plugin&lt;/artifactId&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;enforce-maven&lt;/id&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;enforce&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;rules&gt;\n                                &lt;requireMavenVersion&gt;\n                                    &lt;version&gt;3.8.0&lt;/version&gt;\n                                &lt;/requireMavenVersion&gt;\n                            &lt;/rules&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n"}],"owner":{"account_id":49798,"reputation":1831,"user_id":148419,"accept_rate":100,"display_name":"talk to frank"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9352,"favorite_count":0,"down_vote_count":0,"up_vote_count":21,"accepted_answer_id":1440241,"answer_count":2,"score":21,"last_activity_date":1683549066,"creation_date":1253208471,"question_id":1440224,"body_markdown":"I have a Maven plugin that takes a groupId, artifactId, and version in its confiugration.\r\n\r\nI want to be able to download that artifact from the remote repositories and copy the file into the project. I can&#39;t figure out how to download the artifact though.\r\n\r\nI understand that I can resolve dependencies using the dependency plugin, but I need it to happen inside my plugin. How can I do this?","title":"How can I download Maven artifacts within a plugin?","body":"<p>I have a Maven plugin that takes a groupId, artifactId, and version in its confiugration.</p>\n\n<p>I want to be able to download that artifact from the remote repositories and copy the file into the project. I can't figure out how to download the artifact though.</p>\n\n<p>I understand that I can resolve dependencies using the dependency plugin, but I need it to happen inside my plugin. How can I do this?</p>\n"},{"tags":["java","postgresql","zipkin"],"owner":{"account_id":18979715,"reputation":43,"user_id":13851333,"display_name":"Muhamed Risvan M S"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":275,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683548779,"creation_date":1683548779,"question_id":76200589,"body_markdown":"I&#39;m using sleuth for generating the trace ids and span ids and I can see the traces through zipkin UI. I need to store these generated traces into postgresql database. Currently it is storing in memory which will lose on zipkin server restart. \r\n\r\nBy running the following command(for start the zipkin server)\r\n\r\n    java -jar &quot;C:\\dump\\java\\zipkin-server-2.24.1-exec.jar&quot;  --zipkin.storage.type=mysql --zipkin.storage.mysql.host=localhost --zipkin.storage.mysql.port=3306 --zipkin.storage.mysql.username=myusername --zipkin.storage.mysql.password=mypassword --zipkin.storage.mysql.db=zipkin\r\n\r\nI can store the zipkin traces into mysql. Zipkin supports storing traces to mysql, cassandra and elasticsearch.\r\n\r\nIs there any for storing the traces into postgres?","title":"How to store the zipkin traces into postgresql database","body":"<p>I'm using sleuth for generating the trace ids and span ids and I can see the traces through zipkin UI. I need to store these generated traces into postgresql database. Currently it is storing in memory which will lose on zipkin server restart.</p>\n<p>By running the following command(for start the zipkin server)</p>\n<pre><code>java -jar &quot;C:\\dump\\java\\zipkin-server-2.24.1-exec.jar&quot;  --zipkin.storage.type=mysql --zipkin.storage.mysql.host=localhost --zipkin.storage.mysql.port=3306 --zipkin.storage.mysql.username=myusername --zipkin.storage.mysql.password=mypassword --zipkin.storage.mysql.db=zipkin\n</code></pre>\n<p>I can store the zipkin traces into mysql. Zipkin supports storing traces to mysql, cassandra and elasticsearch.</p>\n<p>Is there any for storing the traces into postgres?</p>\n"},{"tags":["java","user-interface"],"comments":[{"owner":{"account_id":4657551,"reputation":55619,"user_id":4492932,"accept_rate":100,"display_name":"DYZ"},"score":1,"creation_date":1683218287,"post_id":76175448,"comment_id":134336590,"body_markdown":"IMHO, this is not an exercise for a beginner... You would be better off learning about loops (to avoid code repetitions).","body":"IMHO, this is not an exercise for a beginner... You would be better off learning about loops (to avoid code repetitions)."},{"owner":{"account_id":70917,"reputation":17743,"user_id":205233,"accept_rate":90,"display_name":"Filburt"},"score":0,"creation_date":1683218383,"post_id":76175448,"comment_id":134336617,"body_markdown":"Does this answer your question? [Parsing an arithmetic expression and building a tree from it in Java](https://stackoverflow.com/questions/4589951/parsing-an-arithmetic-expression-and-building-a-tree-from-it-in-java)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/4589951/parsing-an-arithmetic-expression-and-building-a-tree-from-it-in-java\">Parsing an arithmetic expression and building a tree from it in Java</a>"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1683232914,"post_id":76175448,"comment_id":134339644,"body_markdown":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example).","body":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}],"answers":[{"tags":[],"owner":{"account_id":14221456,"reputation":53,"user_id":10273616,"display_name":"Kafka Wanna Fly"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683220610,"creation_date":1683220610,"answer_id":76175782,"question_id":76175448,"body_markdown":"I see that you have added value to `currentText` whenever a button is clicked. So my suggestion is you should do the logic based on the value of `currentText`.\r\n\r\nFor example:\r\n\r\n    var currentText = &quot;1304+555&quot;;\r\n    var numbers = currentText.split(&quot;\\\\+|\\\\-|\\\\*|\\\\/&quot;); // Split by +, -, *, /\r\n    \r\n    // Replace all numbers with empty string, so that we can get the operator\r\n    var operator = currentText.replaceAll(&quot;[0-9]&quot;, &quot;&quot;);\r\n    \r\n    switch (operator) {\r\n      case &quot;+&quot;:\r\n        System.out.println(\r\n          Integer.parseInt(numbers[0]) + Integer.parseInt(numbers[1])\r\n        );\r\n        break;\r\n      case &quot;-&quot;:\r\n        System.out.println(\r\n          Integer.parseInt(numbers[0]) - Integer.parseInt(numbers[1])\r\n        );\r\n        break;\r\n      case &quot;*&quot;:\r\n        System.out.println(\r\n          Integer.parseInt(numbers[0]) * Integer.parseInt(numbers[1])\r\n        );\r\n        break;\r\n      case &quot;/&quot;:\r\n        System.out.println(\r\n          Integer.parseInt(numbers[0]) / Integer.parseInt(numbers[1])\r\n        );\r\n        break;\r\n      default:\r\n        System.out.println(&quot;Invalid operator&quot;);\r\n        break;\r\n    }\r\n\r\n","title":"Java Gui Calculator, don&#39;t know how to take the input of the numbers and use those numbers to calculate an answer","body":"<p>I see that you have added value to <code>currentText</code> whenever a button is clicked. So my suggestion is you should do the logic based on the value of <code>currentText</code>.</p>\n<p>For example:</p>\n<pre><code>var currentText = &quot;1304+555&quot;;\nvar numbers = currentText.split(&quot;\\\\+|\\\\-|\\\\*|\\\\/&quot;); // Split by +, -, *, /\n\n// Replace all numbers with empty string, so that we can get the operator\nvar operator = currentText.replaceAll(&quot;[0-9]&quot;, &quot;&quot;);\n\nswitch (operator) {\n  case &quot;+&quot;:\n    System.out.println(\n      Integer.parseInt(numbers[0]) + Integer.parseInt(numbers[1])\n    );\n    break;\n  case &quot;-&quot;:\n    System.out.println(\n      Integer.parseInt(numbers[0]) - Integer.parseInt(numbers[1])\n    );\n    break;\n  case &quot;*&quot;:\n    System.out.println(\n      Integer.parseInt(numbers[0]) * Integer.parseInt(numbers[1])\n    );\n    break;\n  case &quot;/&quot;:\n    System.out.println(\n      Integer.parseInt(numbers[0]) / Integer.parseInt(numbers[1])\n    );\n    break;\n  default:\n    System.out.println(&quot;Invalid operator&quot;);\n    break;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28114441,"reputation":19,"user_id":21481750,"display_name":"Tristan Day"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1683548250,"creation_date":1683548250,"answer_id":76200530,"question_id":76175448,"body_markdown":"Thank you to everyone for your help, I was able to figure it out on my own, just by using some logic and reading. Here is my final code if anyone is wondering: \r\n\r\n    \r\n    \r\n    package calculator;\r\n\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    import javax.swing.*;\r\n\r\n\r\n    public class Calculator {\r\n \r\n    String currentText = &quot;&quot;;\r\n    JTextField screen;\r\n  \r\n    JButton button1;\r\n    JButton button2;\r\n    JButton button3;\r\n    JButton button4;\r\n    JButton button5;\r\n    JButton button6;\r\n    JButton button7;\r\n    JButton button8;\r\n    JButton button9;\r\n    \r\n    JButton add;\r\n    JButton subtract;\r\n    JButton multiply;\r\n    JButton divide;\r\n    JButton clr;\r\n    JButton equals;\r\n\r\n    JPanel panel;\r\n    JFrame frame;\r\n    \r\n    \r\n    public Calculator(){\r\n        \r\n        frame = new JFrame(&quot;calculator&quot;);\r\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        frame.setLocation(100, 100);\r\n        frame.setSize(300, 425);\r\n\r\n        \r\n        //set up panel\r\n        panel = new JPanel();\r\n        panel.setLayout(null);\r\n        \r\n        \r\n        \r\n        screen = new JTextField(&quot;0&quot;);\r\n        screen.setLocation(25,25);\r\n        screen.setSize(175,50);\r\n          \r\n        button1 = new JButton(&quot;1&quot;);\r\n        button1.setLocation(25,100);\r\n        button1.setSize(50,50);\r\n        button1.addActionListener(new Click());\r\n        button1.setActionCommand(&quot;Action1&quot;);\r\n        \r\n        button2 = new JButton(&quot;2&quot;);\r\n        button2.setLocation(25,155);\r\n        button2.setSize(50,50);\r\n        button2.addActionListener(new Click());\r\n        button2.setActionCommand(&quot;Action2&quot;);\r\n        \r\n        button3 = new JButton(&quot;3&quot;);\r\n        button3.setLocation(25,210);\r\n        button3.setSize(50,50);\r\n        button3.addActionListener(new Click());\r\n        button3.setActionCommand(&quot;Action3&quot;);\r\n        \r\n        button4 = new JButton(&quot;4&quot;);\r\n        button4.setLocation(25,265);\r\n        button4.setSize(50,50);\r\n        button4.addActionListener(new Click());\r\n        button4.setActionCommand(&quot;Action4&quot;);\r\n        \r\n        button5 = new JButton(&quot;5&quot;);\r\n        button5.setLocation(80,100);\r\n        button5.setSize(50,50);\r\n        button5.addActionListener(new Click());\r\n        button5.setActionCommand(&quot;Action5&quot;);\r\n        \r\n        button6 = new JButton(&quot;6&quot;);\r\n        button6.setLocation(80,155);\r\n        button6.setSize(50,50);\r\n        button6.addActionListener(new Click());\r\n        button6.setActionCommand(&quot;Action6&quot;);\r\n        \r\n        button7 = new JButton(&quot;7&quot;);\r\n        button7.setLocation(80,210);\r\n        button7.setSize(50,50);\r\n        button7.addActionListener(new Click());\r\n        button7.setActionCommand(&quot;Action7&quot;);\r\n        \r\n        button8 = new JButton(&quot;8&quot;);\r\n        button8.setLocation(80,265);\r\n        button8.setSize(50,50);\r\n        button8.addActionListener(new Click());\r\n        button8.setActionCommand(&quot;Action8&quot;);\r\n        \r\n        button9 = new JButton(&quot;9&quot;);\r\n        button9.setLocation(50,320);\r\n        button9.setSize(50,50);\r\n        button9.addActionListener(new Click());\r\n        button9.setActionCommand(&quot;Action9&quot;);\r\n        \r\n        add = new JButton(&quot;+&quot;);\r\n        add.setLocation(150,100);\r\n        add.setSize(50,50);\r\n        add.addActionListener(new Click());\r\n        add.setActionCommand(&quot;+&quot;);\r\n        \r\n        subtract = new JButton(&quot;-&quot;);\r\n        subtract.setLocation(150,155);\r\n        subtract.setSize(50,50);\r\n        subtract.addActionListener(new Click());\r\n        subtract.setActionCommand(&quot;-&quot;);\r\n        \r\n        multiply = new JButton(&quot;*&quot;);\r\n        multiply.setLocation(150, 210);\r\n        multiply.setSize(50,50);\r\n        multiply.addActionListener(new Click());\r\n        multiply.setActionCommand(&quot;*&quot;);\r\n        \r\n        divide = new JButton(&quot;&#247;&quot;);\r\n        divide.setLocation(150,265);\r\n        divide.setSize(50,50);\r\n        divide.addActionListener(new Click());\r\n        divide.setActionCommand(&quot;&#247;&quot;);\r\n        \r\n        clr = new JButton(&quot;CLR&quot;);\r\n        clr.setLocation(205, 120);\r\n        clr.setSize(75,50);\r\n        clr.addActionListener(new Click());\r\n        clr.setActionCommand(&quot;clr&quot;);\r\n        \r\n        equals = new JButton(&quot;=&quot;);\r\n        equals.setLocation(205,175);\r\n        equals.setSize(75,50);\r\n        equals.addActionListener(new Click());\r\n        equals.setActionCommand(&quot;=&quot;);\r\n        \r\n     \r\n        panel.add(screen);\r\n        \r\n        panel.add(button1);\r\n        panel.add(button2);\r\n        panel.add(button3);\r\n        panel.add(button4);\r\n        panel.add(button5);\r\n        panel.add(button6);\r\n        panel.add(button7);\r\n        panel.add(button8);\r\n        panel.add(button9);\r\n        \r\n        panel.add(add);\r\n        panel.add(subtract);\r\n        panel.add(multiply);\r\n        panel.add(divide);\r\n        panel.add(clr);\r\n        panel.add(equals);\r\n        \r\n        \r\n        \r\n        frame.setContentPane(panel);\r\n        frame.setVisible(true);\r\n        \r\n    }\r\n     class Click implements ActionListener {\r\n    @Override\r\n    public void actionPerformed(ActionEvent e) {\r\n        String action = e.getActionCommand();\r\n        \r\n        String number1 = &quot;&quot;;\r\n        String number2 = &quot;&quot;;\r\n        \r\n\r\n        if (action.equals(&quot;Action1&quot;)) {\r\n            currentText += &quot;1&quot;;\r\n            \r\n        } else if (action.equals(&quot;Action2&quot;)) {\r\n            currentText += &quot;2&quot;;\r\n            number1 = screen.getText();\r\n        } else if (action.equals(&quot;Action3&quot;)) {\r\n            currentText += &quot;3&quot;;\r\n        } else if (action.equals(&quot;Action4&quot;)) {\r\n            currentText += &quot;4&quot;;\r\n        } else if (action.equals(&quot;Action5&quot;)) {\r\n            currentText += &quot;5&quot;;\r\n        } else if (action.equals(&quot;Action6&quot;)) {\r\n            currentText += &quot;6&quot;;\r\n        } else if (action.equals(&quot;Action7&quot;)) {\r\n            currentText += &quot;7&quot;;\r\n        } else if (action.equals(&quot;Action8&quot;)) {\r\n            currentText += &quot;8&quot;;\r\n        } else if (action.equals(&quot;Action9&quot;)) {\r\n            currentText += &quot;9&quot;;\r\n        } else if(action.equals(&quot;+&quot;)){\r\n            currentText += &quot;+&quot;;\r\n        } else if (action.equals(&quot;-&quot;)){\r\n            currentText += &quot;-&quot;;\r\n        } else if (action.equals(&quot;*&quot;)){\r\n            currentText += &quot;*&quot;;\r\n        } else if (action.equals(&quot;&#247;&quot;)){\r\n            currentText += &quot;&#247;&quot;;\r\n        } else if (action.equals(&quot;clr&quot;)){\r\n            currentText = &quot;&quot;;\r\n        } else if (action.equals(&quot;=&quot;)){\r\n           \r\n        }\r\n       \r\n        screen.setText(currentText);\r\n    }\r\n}\r\n\r\n    \r\n    public static void main(String[] args) {\r\n        \r\n        Calculator gui = new Calculator();\r\n         \r\n      }\r\n    \r\n     }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Java Gui Calculator, don&#39;t know how to take the input of the numbers and use those numbers to calculate an answer","body":"<p>Thank you to everyone for your help, I was able to figure it out on my own, just by using some logic and reading. Here is my final code if anyone is wondering:</p>\n<pre><code>package calculator;\n\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport javax.swing.*;\n\n\npublic class Calculator {\n\nString currentText = &quot;&quot;;\nJTextField screen;\n\nJButton button1;\nJButton button2;\nJButton button3;\nJButton button4;\nJButton button5;\nJButton button6;\nJButton button7;\nJButton button8;\nJButton button9;\n\nJButton add;\nJButton subtract;\nJButton multiply;\nJButton divide;\nJButton clr;\nJButton equals;\n\nJPanel panel;\nJFrame frame;\n\n\npublic Calculator(){\n    \n    frame = new JFrame(&quot;calculator&quot;);\n    frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n    frame.setLocation(100, 100);\n    frame.setSize(300, 425);\n\n    \n    //set up panel\n    panel = new JPanel();\n    panel.setLayout(null);\n    \n    \n    \n    screen = new JTextField(&quot;0&quot;);\n    screen.setLocation(25,25);\n    screen.setSize(175,50);\n      \n    button1 = new JButton(&quot;1&quot;);\n    button1.setLocation(25,100);\n    button1.setSize(50,50);\n    button1.addActionListener(new Click());\n    button1.setActionCommand(&quot;Action1&quot;);\n    \n    button2 = new JButton(&quot;2&quot;);\n    button2.setLocation(25,155);\n    button2.setSize(50,50);\n    button2.addActionListener(new Click());\n    button2.setActionCommand(&quot;Action2&quot;);\n    \n    button3 = new JButton(&quot;3&quot;);\n    button3.setLocation(25,210);\n    button3.setSize(50,50);\n    button3.addActionListener(new Click());\n    button3.setActionCommand(&quot;Action3&quot;);\n    \n    button4 = new JButton(&quot;4&quot;);\n    button4.setLocation(25,265);\n    button4.setSize(50,50);\n    button4.addActionListener(new Click());\n    button4.setActionCommand(&quot;Action4&quot;);\n    \n    button5 = new JButton(&quot;5&quot;);\n    button5.setLocation(80,100);\n    button5.setSize(50,50);\n    button5.addActionListener(new Click());\n    button5.setActionCommand(&quot;Action5&quot;);\n    \n    button6 = new JButton(&quot;6&quot;);\n    button6.setLocation(80,155);\n    button6.setSize(50,50);\n    button6.addActionListener(new Click());\n    button6.setActionCommand(&quot;Action6&quot;);\n    \n    button7 = new JButton(&quot;7&quot;);\n    button7.setLocation(80,210);\n    button7.setSize(50,50);\n    button7.addActionListener(new Click());\n    button7.setActionCommand(&quot;Action7&quot;);\n    \n    button8 = new JButton(&quot;8&quot;);\n    button8.setLocation(80,265);\n    button8.setSize(50,50);\n    button8.addActionListener(new Click());\n    button8.setActionCommand(&quot;Action8&quot;);\n    \n    button9 = new JButton(&quot;9&quot;);\n    button9.setLocation(50,320);\n    button9.setSize(50,50);\n    button9.addActionListener(new Click());\n    button9.setActionCommand(&quot;Action9&quot;);\n    \n    add = new JButton(&quot;+&quot;);\n    add.setLocation(150,100);\n    add.setSize(50,50);\n    add.addActionListener(new Click());\n    add.setActionCommand(&quot;+&quot;);\n    \n    subtract = new JButton(&quot;-&quot;);\n    subtract.setLocation(150,155);\n    subtract.setSize(50,50);\n    subtract.addActionListener(new Click());\n    subtract.setActionCommand(&quot;-&quot;);\n    \n    multiply = new JButton(&quot;*&quot;);\n    multiply.setLocation(150, 210);\n    multiply.setSize(50,50);\n    multiply.addActionListener(new Click());\n    multiply.setActionCommand(&quot;*&quot;);\n    \n    divide = new JButton(&quot;÷&quot;);\n    divide.setLocation(150,265);\n    divide.setSize(50,50);\n    divide.addActionListener(new Click());\n    divide.setActionCommand(&quot;÷&quot;);\n    \n    clr = new JButton(&quot;CLR&quot;);\n    clr.setLocation(205, 120);\n    clr.setSize(75,50);\n    clr.addActionListener(new Click());\n    clr.setActionCommand(&quot;clr&quot;);\n    \n    equals = new JButton(&quot;=&quot;);\n    equals.setLocation(205,175);\n    equals.setSize(75,50);\n    equals.addActionListener(new Click());\n    equals.setActionCommand(&quot;=&quot;);\n    \n \n    panel.add(screen);\n    \n    panel.add(button1);\n    panel.add(button2);\n    panel.add(button3);\n    panel.add(button4);\n    panel.add(button5);\n    panel.add(button6);\n    panel.add(button7);\n    panel.add(button8);\n    panel.add(button9);\n    \n    panel.add(add);\n    panel.add(subtract);\n    panel.add(multiply);\n    panel.add(divide);\n    panel.add(clr);\n    panel.add(equals);\n    \n    \n    \n    frame.setContentPane(panel);\n    frame.setVisible(true);\n    \n}\n class Click implements ActionListener {\n@Override\npublic void actionPerformed(ActionEvent e) {\n    String action = e.getActionCommand();\n    \n    String number1 = &quot;&quot;;\n    String number2 = &quot;&quot;;\n    \n\n    if (action.equals(&quot;Action1&quot;)) {\n        currentText += &quot;1&quot;;\n        \n    } else if (action.equals(&quot;Action2&quot;)) {\n        currentText += &quot;2&quot;;\n        number1 = screen.getText();\n    } else if (action.equals(&quot;Action3&quot;)) {\n        currentText += &quot;3&quot;;\n    } else if (action.equals(&quot;Action4&quot;)) {\n        currentText += &quot;4&quot;;\n    } else if (action.equals(&quot;Action5&quot;)) {\n        currentText += &quot;5&quot;;\n    } else if (action.equals(&quot;Action6&quot;)) {\n        currentText += &quot;6&quot;;\n    } else if (action.equals(&quot;Action7&quot;)) {\n        currentText += &quot;7&quot;;\n    } else if (action.equals(&quot;Action8&quot;)) {\n        currentText += &quot;8&quot;;\n    } else if (action.equals(&quot;Action9&quot;)) {\n        currentText += &quot;9&quot;;\n    } else if(action.equals(&quot;+&quot;)){\n        currentText += &quot;+&quot;;\n    } else if (action.equals(&quot;-&quot;)){\n        currentText += &quot;-&quot;;\n    } else if (action.equals(&quot;*&quot;)){\n        currentText += &quot;*&quot;;\n    } else if (action.equals(&quot;÷&quot;)){\n        currentText += &quot;÷&quot;;\n    } else if (action.equals(&quot;clr&quot;)){\n        currentText = &quot;&quot;;\n    } else if (action.equals(&quot;=&quot;)){\n       \n    }\n   \n    screen.setText(currentText);\n}\n</code></pre>\n<p>}</p>\n<pre><code>public static void main(String[] args) {\n    \n    Calculator gui = new Calculator();\n     \n  }\n\n }\n</code></pre>\n"}],"owner":{"account_id":28114441,"reputation":19,"user_id":21481750,"display_name":"Tristan Day"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76200530,"answer_count":2,"score":0,"last_activity_date":1683548250,"creation_date":1683218006,"question_id":76175448,"body_markdown":"I am creating a java gui calculator. I have created just about everything else for the calculator just having issues on how to collect the users entire number before the math symbol is used and then the second input number. If someone could help me get a start on that I think I can solve the rest. Thanks!\r\n\r\nI honestly don&#39;t know how I would go around trying to collect the input of the entire number they may enter say maybe 1304 or so, as my buttons only add numbers not digits. Here is my code: \r\n\r\n\r\n\r\n\r\n\r\n```\r\n\r\npackage calculator;\r\n\r\nimport java.awt.Color;\r\nimport java.awt.event.ActionEvent;\r\nimport java.awt.event.ActionListener;\r\n    import javax.swing.*;\r\nimport javax.swing.border.Border;\r\n\r\npublic class Calculator {\r\n \r\n    String currentText = &quot;&quot;;\r\n    JTextField screen;\r\n  \r\n    JButton button1;\r\n    JButton button2;\r\n    JButton button3;\r\n    JButton button4;\r\n    JButton button5;\r\n    JButton button6;\r\n    JButton button7;\r\n    JButton button8;\r\n    JButton button9;\r\n    \r\n    JButton add;\r\n    JButton subtract;\r\n    JButton multiply;\r\n    JButton divide;\r\n    JButton clr;\r\n    JButton equals;\r\n\r\n    JPanel panel;\r\n    JFrame frame;\r\n    \r\n    \r\n    public Calculator(){\r\n        \r\n        frame = new JFrame(&quot;calculator&quot;);\r\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        frame.setLocation(100, 100);\r\n        frame.setSize(300, 425);\r\n        Border border = BorderFactory.createLineBorder(Color.black,1);\r\n        \r\n        //set up panel\r\n        panel = new JPanel();\r\n        panel.setLayout(null);\r\n        \r\n        \r\n        \r\n        screen = new JTextField(&quot;0&quot;);\r\n        screen.setLocation(25,25);\r\n        screen.setSize(175,50);\r\n        screen.setBackground(Color.white);\r\n        screen.setOpaque(true);\r\n    \r\n        \r\n        button1 = new JButton(&quot;1&quot;);\r\n        button1.setLocation(25,100);\r\n        button1.setSize(50,50);\r\n        button1.addActionListener(new Click());\r\n        button1.setActionCommand(&quot;Action1&quot;);\r\n        \r\n        button2 = new JButton(&quot;2&quot;);\r\n        button2.setLocation(25,155);\r\n        button2.setSize(50,50);\r\n        button2.addActionListener(new Click());\r\n        button2.setActionCommand(&quot;Action2&quot;);\r\n        \r\n        button3 = new JButton(&quot;3&quot;);\r\n        button3.setLocation(25,210);\r\n        button3.setSize(50,50);\r\n        button3.addActionListener(new Click());\r\n        button3.setActionCommand(&quot;Action3&quot;);\r\n        \r\n        button4 = new JButton(&quot;4&quot;);\r\n        button4.setLocation(25,265);\r\n        button4.setSize(50,50);\r\n        button4.addActionListener(new Click());\r\n        button4.setActionCommand(&quot;Action4&quot;);\r\n        \r\n        button5 = new JButton(&quot;5&quot;);\r\n        button5.setLocation(80,100);\r\n        button5.setSize(50,50);\r\n        button5.addActionListener(new Click());\r\n        button5.setActionCommand(&quot;Action5&quot;);\r\n        \r\n        button6 = new JButton(&quot;6&quot;);\r\n        button6.setLocation(80,155);\r\n        button6.setSize(50,50);\r\n        button6.addActionListener(new Click());\r\n        button6.setActionCommand(&quot;Action6&quot;);\r\n        \r\n        button7 = new JButton(&quot;7&quot;);\r\n        button7.setLocation(80,210);\r\n        button7.setSize(50,50);\r\n        button7.addActionListener(new Click());\r\n        button7.setActionCommand(&quot;Action7&quot;);\r\n        \r\n        button8 = new JButton(&quot;8&quot;);\r\n        button8.setLocation(80,265);\r\n        button8.setSize(50,50);\r\n        button8.addActionListener(new Click());\r\n        button8.setActionCommand(&quot;Action8&quot;);\r\n        \r\n        button9 = new JButton(&quot;9&quot;);\r\n        button9.setLocation(50,320);\r\n        button9.setSize(50,50);\r\n        button9.addActionListener(new Click());\r\n        button9.setActionCommand(&quot;Action9&quot;);\r\n        \r\n        add = new JButton(&quot;+&quot;);\r\n        add.setLocation(150,100);\r\n        add.setSize(50,50);\r\n        add.addActionListener(new Click());\r\n        add.setActionCommand(&quot;+&quot;);\r\n        \r\n        subtract = new JButton(&quot;-&quot;);\r\n        subtract.setLocation(150,155);\r\n        subtract.setSize(50,50);\r\n        subtract.addActionListener(new Click());\r\n        subtract.setActionCommand(&quot;-&quot;);\r\n        \r\n        multiply = new JButton(&quot;*&quot;);\r\n        multiply.setLocation(150, 210);\r\n        multiply.setSize(50,50);\r\n        multiply.addActionListener(new Click());\r\n        multiply.setActionCommand(&quot;*&quot;);\r\n        \r\n        divide = new JButton(&quot;&#247;&quot;);\r\n        divide.setLocation(150,265);\r\n        divide.setSize(50,50);\r\n        divide.addActionListener(new Click());\r\n        divide.setActionCommand(&quot;&#247;&quot;);\r\n        \r\n        clr = new JButton(&quot;CLR&quot;);\r\n        clr.setLocation(205, 120);\r\n        clr.setSize(75,50);\r\n        clr.addActionListener(new Click());\r\n        clr.setActionCommand(&quot;clr&quot;);\r\n        \r\n        equals = new JButton(&quot;=&quot;);\r\n        equals.setLocation(205,175);\r\n        equals.setSize(75,50);\r\n        equals.addActionListener(new Click());\r\n        equals.setActionCommand(&quot;=&quot;);\r\n        \r\n     \r\n        panel.add(screen);\r\n        \r\n        panel.add(button1);\r\n        panel.add(button2);\r\n        panel.add(button3);\r\n        panel.add(button4);\r\n        panel.add(button5);\r\n        panel.add(button6);\r\n        panel.add(button7);\r\n        panel.add(button8);\r\n        panel.add(button9);\r\n        \r\n        panel.add(add);\r\n        panel.add(subtract);\r\n        panel.add(multiply);\r\n        panel.add(divide);\r\n        panel.add(clr);\r\n        panel.add(equals);\r\n        \r\n        \r\n        \r\n        frame.setContentPane(panel);\r\n        frame.setVisible(true);\r\n        \r\n    }\r\n     class Click implements ActionListener {\r\n    @Override\r\n    public void actionPerformed(ActionEvent e) {\r\n        String action = e.getActionCommand();\r\n        \r\n        String number1 = &quot;&quot;;\r\n        String number2 = &quot;&quot;;\r\n        \r\n\r\n        if (action.equals(&quot;Action1&quot;)) {\r\n            currentText += &quot;1&quot;;\r\n            \r\n        } else if (action.equals(&quot;Action2&quot;)) {\r\n            currentText += &quot;2&quot;;\r\n            number1 = screen.getText();\r\n        } else if (action.equals(&quot;Action3&quot;)) {\r\n            currentText += &quot;3&quot;;\r\n        } else if (action.equals(&quot;Action4&quot;)) {\r\n            currentText += &quot;4&quot;;\r\n        } else if (action.equals(&quot;Action5&quot;)) {\r\n            currentText += &quot;5&quot;;\r\n        } else if (action.equals(&quot;Action6&quot;)) {\r\n            currentText += &quot;6&quot;;\r\n        } else if (action.equals(&quot;Action7&quot;)) {\r\n            currentText += &quot;7&quot;;\r\n        } else if (action.equals(&quot;Action8&quot;)) {\r\n            currentText += &quot;8&quot;;\r\n        } else if (action.equals(&quot;Action9&quot;)) {\r\n            currentText += &quot;9&quot;;\r\n        } else if(action.equals(&quot;+&quot;)){\r\n            currentText += &quot;+&quot;;\r\n        } else if (action.equals(&quot;-&quot;)){\r\n            currentText += &quot;-&quot;;\r\n        } else if (action.equals(&quot;*&quot;)){\r\n            currentText += &quot;*&quot;;\r\n        } else if (action.equals(&quot;&#247;&quot;)){\r\n            currentText += &quot;&#247;&quot;;\r\n        } else if (action.equals(&quot;clr&quot;)){\r\n            currentText = &quot;&quot;;\r\n        } else if (action.equals(&quot;=&quot;)){\r\n           \r\n        }\r\n        \r\n        \r\n\r\n        screen.setText(currentText);\r\n    }\r\n}\r\n\r\n    \r\n    public static void main(String[] args) {\r\n        \r\n        Calculator gui = new Calculator();\r\n        \r\n    }\r\n    \r\n}\r\n\r\n\r\n\r\n\r\n```\r\n\r\n","title":"Java Gui Calculator, don&#39;t know how to take the input of the numbers and use those numbers to calculate an answer","body":"<p>I am creating a java gui calculator. I have created just about everything else for the calculator just having issues on how to collect the users entire number before the math symbol is used and then the second input number. If someone could help me get a start on that I think I can solve the rest. Thanks!</p>\n<p>I honestly don't know how I would go around trying to collect the input of the entire number they may enter say maybe 1304 or so, as my buttons only add numbers not digits. Here is my code:</p>\n<pre><code>\npackage calculator;\n\nimport java.awt.Color;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\n    import javax.swing.*;\nimport javax.swing.border.Border;\n\npublic class Calculator {\n \n    String currentText = &quot;&quot;;\n    JTextField screen;\n  \n    JButton button1;\n    JButton button2;\n    JButton button3;\n    JButton button4;\n    JButton button5;\n    JButton button6;\n    JButton button7;\n    JButton button8;\n    JButton button9;\n    \n    JButton add;\n    JButton subtract;\n    JButton multiply;\n    JButton divide;\n    JButton clr;\n    JButton equals;\n\n    JPanel panel;\n    JFrame frame;\n    \n    \n    public Calculator(){\n        \n        frame = new JFrame(&quot;calculator&quot;);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.setLocation(100, 100);\n        frame.setSize(300, 425);\n        Border border = BorderFactory.createLineBorder(Color.black,1);\n        \n        //set up panel\n        panel = new JPanel();\n        panel.setLayout(null);\n        \n        \n        \n        screen = new JTextField(&quot;0&quot;);\n        screen.setLocation(25,25);\n        screen.setSize(175,50);\n        screen.setBackground(Color.white);\n        screen.setOpaque(true);\n    \n        \n        button1 = new JButton(&quot;1&quot;);\n        button1.setLocation(25,100);\n        button1.setSize(50,50);\n        button1.addActionListener(new Click());\n        button1.setActionCommand(&quot;Action1&quot;);\n        \n        button2 = new JButton(&quot;2&quot;);\n        button2.setLocation(25,155);\n        button2.setSize(50,50);\n        button2.addActionListener(new Click());\n        button2.setActionCommand(&quot;Action2&quot;);\n        \n        button3 = new JButton(&quot;3&quot;);\n        button3.setLocation(25,210);\n        button3.setSize(50,50);\n        button3.addActionListener(new Click());\n        button3.setActionCommand(&quot;Action3&quot;);\n        \n        button4 = new JButton(&quot;4&quot;);\n        button4.setLocation(25,265);\n        button4.setSize(50,50);\n        button4.addActionListener(new Click());\n        button4.setActionCommand(&quot;Action4&quot;);\n        \n        button5 = new JButton(&quot;5&quot;);\n        button5.setLocation(80,100);\n        button5.setSize(50,50);\n        button5.addActionListener(new Click());\n        button5.setActionCommand(&quot;Action5&quot;);\n        \n        button6 = new JButton(&quot;6&quot;);\n        button6.setLocation(80,155);\n        button6.setSize(50,50);\n        button6.addActionListener(new Click());\n        button6.setActionCommand(&quot;Action6&quot;);\n        \n        button7 = new JButton(&quot;7&quot;);\n        button7.setLocation(80,210);\n        button7.setSize(50,50);\n        button7.addActionListener(new Click());\n        button7.setActionCommand(&quot;Action7&quot;);\n        \n        button8 = new JButton(&quot;8&quot;);\n        button8.setLocation(80,265);\n        button8.setSize(50,50);\n        button8.addActionListener(new Click());\n        button8.setActionCommand(&quot;Action8&quot;);\n        \n        button9 = new JButton(&quot;9&quot;);\n        button9.setLocation(50,320);\n        button9.setSize(50,50);\n        button9.addActionListener(new Click());\n        button9.setActionCommand(&quot;Action9&quot;);\n        \n        add = new JButton(&quot;+&quot;);\n        add.setLocation(150,100);\n        add.setSize(50,50);\n        add.addActionListener(new Click());\n        add.setActionCommand(&quot;+&quot;);\n        \n        subtract = new JButton(&quot;-&quot;);\n        subtract.setLocation(150,155);\n        subtract.setSize(50,50);\n        subtract.addActionListener(new Click());\n        subtract.setActionCommand(&quot;-&quot;);\n        \n        multiply = new JButton(&quot;*&quot;);\n        multiply.setLocation(150, 210);\n        multiply.setSize(50,50);\n        multiply.addActionListener(new Click());\n        multiply.setActionCommand(&quot;*&quot;);\n        \n        divide = new JButton(&quot;÷&quot;);\n        divide.setLocation(150,265);\n        divide.setSize(50,50);\n        divide.addActionListener(new Click());\n        divide.setActionCommand(&quot;÷&quot;);\n        \n        clr = new JButton(&quot;CLR&quot;);\n        clr.setLocation(205, 120);\n        clr.setSize(75,50);\n        clr.addActionListener(new Click());\n        clr.setActionCommand(&quot;clr&quot;);\n        \n        equals = new JButton(&quot;=&quot;);\n        equals.setLocation(205,175);\n        equals.setSize(75,50);\n        equals.addActionListener(new Click());\n        equals.setActionCommand(&quot;=&quot;);\n        \n     \n        panel.add(screen);\n        \n        panel.add(button1);\n        panel.add(button2);\n        panel.add(button3);\n        panel.add(button4);\n        panel.add(button5);\n        panel.add(button6);\n        panel.add(button7);\n        panel.add(button8);\n        panel.add(button9);\n        \n        panel.add(add);\n        panel.add(subtract);\n        panel.add(multiply);\n        panel.add(divide);\n        panel.add(clr);\n        panel.add(equals);\n        \n        \n        \n        frame.setContentPane(panel);\n        frame.setVisible(true);\n        \n    }\n     class Click implements ActionListener {\n    @Override\n    public void actionPerformed(ActionEvent e) {\n        String action = e.getActionCommand();\n        \n        String number1 = &quot;&quot;;\n        String number2 = &quot;&quot;;\n        \n\n        if (action.equals(&quot;Action1&quot;)) {\n            currentText += &quot;1&quot;;\n            \n        } else if (action.equals(&quot;Action2&quot;)) {\n            currentText += &quot;2&quot;;\n            number1 = screen.getText();\n        } else if (action.equals(&quot;Action3&quot;)) {\n            currentText += &quot;3&quot;;\n        } else if (action.equals(&quot;Action4&quot;)) {\n            currentText += &quot;4&quot;;\n        } else if (action.equals(&quot;Action5&quot;)) {\n            currentText += &quot;5&quot;;\n        } else if (action.equals(&quot;Action6&quot;)) {\n            currentText += &quot;6&quot;;\n        } else if (action.equals(&quot;Action7&quot;)) {\n            currentText += &quot;7&quot;;\n        } else if (action.equals(&quot;Action8&quot;)) {\n            currentText += &quot;8&quot;;\n        } else if (action.equals(&quot;Action9&quot;)) {\n            currentText += &quot;9&quot;;\n        } else if(action.equals(&quot;+&quot;)){\n            currentText += &quot;+&quot;;\n        } else if (action.equals(&quot;-&quot;)){\n            currentText += &quot;-&quot;;\n        } else if (action.equals(&quot;*&quot;)){\n            currentText += &quot;*&quot;;\n        } else if (action.equals(&quot;÷&quot;)){\n            currentText += &quot;÷&quot;;\n        } else if (action.equals(&quot;clr&quot;)){\n            currentText = &quot;&quot;;\n        } else if (action.equals(&quot;=&quot;)){\n           \n        }\n        \n        \n\n        screen.setText(currentText);\n    }\n}\n\n    \n    public static void main(String[] args) {\n        \n        Calculator gui = new Calculator();\n        \n    }\n    \n}\n\n\n\n\n</code></pre>\n"},{"tags":["java","spring-boot","azure","servicebus","spring-bean"],"answers":[{"comments":[{"owner":{"account_id":3882629,"reputation":476,"user_id":3214777,"accept_rate":55,"display_name":"Daniel Pop"},"score":0,"creation_date":1683549483,"post_id":76200361,"comment_id":134379074,"body_markdown":"The problem with the second question is that if I make the class a @Component and remove the @Bean from the method, I get a `BeanCreationException: Error creating bean with name &#39;serviceBusClientBuilder&#39; defined in class path resource: Bean instantiation via factory method failed; nested exception is BeanInstantiationException: Failed to instantiate [ServiceBusClientBuilder]: Factory method &#39;serviceBusClientBuilder&#39; threw exception; nested exception is NullPointerException: Cannot invoke &quot;java.net.URI.getHost()&quot; because &quot;this.endpointUri&quot; is null`","body":"The problem with the second question is that if I make the class a @Component and remove the @Bean from the method, I get a <code>BeanCreationException: Error creating bean with name &#39;serviceBusClientBuilder&#39; defined in class path resource: Bean instantiation via factory method failed; nested exception is BeanInstantiationException: Failed to instantiate [ServiceBusClientBuilder]: Factory method &#39;serviceBusClientBuilder&#39; threw exception; nested exception is NullPointerException: Cannot invoke &quot;java.net.URI.getHost()&quot; because &quot;this.endpointUri&quot; is null</code>"},{"owner":{"account_id":3882629,"reputation":476,"user_id":3214777,"accept_rate":55,"display_name":"Daniel Pop"},"score":0,"creation_date":1683549546,"post_id":76200361,"comment_id":134379090,"body_markdown":"I think that, in order to have it working, I would have to define all the values the Bean is fetching by default behind the scenes.","body":"I think that, in order to have it working, I would have to define all the values the Bean is fetching by default behind the scenes."},{"owner":{"account_id":3882629,"reputation":476,"user_id":3214777,"accept_rate":55,"display_name":"Daniel Pop"},"score":0,"creation_date":1683702652,"post_id":76200361,"comment_id":134405194,"body_markdown":"do you know of any documentation that could help in doing what you suggested?","body":"do you know of any documentation that could help in doing what you suggested?"}],"tags":[],"owner":{"account_id":28546056,"reputation":36,"user_id":21851451,"display_name":"Paul K"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1683547378,"creation_date":1683546925,"answer_id":76200361,"question_id":76200092,"body_markdown":"The Configuration annotation is meant to annotate classes that store Bean methods: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/context/annotation/Configuration.html\r\n\r\n&gt; public @interface Configuration\r\n&gt; \r\n&gt; Indicates that a class declares one or\r\n&gt; more @Bean methods and may be processed by the Spring container to\r\n&gt; generate bean definitions and service requests for those beans at\r\n&gt; runtime\r\n\r\n\r\nBelow we alse see: &quot;@Configuration is meta-annotated with @Component, therefore @Configuration classes are candidates for component scanning&quot;\r\n\r\nIt means that you can in theory put the bean method into class annotated with a @Component but it does not make much sense (as it is not according to convention).\r\n\r\nIf you do not want to use @Configuration I think you can define a bean by creating a class which implements Consumer&lt;Message&lt;String&gt;&gt; interface and annotating it with @Component. Then you can add a method accept(Message&lt;String&gt; message) and add your logic there. \r\nI did not check this part but I think it should work. Adding beans as classes with @Component annotations is also per convention.\r\n\r\n\r\nAbout why the code works, it is simple: inside your library (spring-cloud-azure-stream, etc) there are some classes that are enabled/started based on properties in your application.properties file. These classes try to autowire a bean implementing Consumer&lt;Message&lt;String&gt;&gt; from the Spring context, but this bean is not defined in this library, it should be defined in your code. When you add it, bean resolves and messaging can work.","title":"Define a @Bean in @Configuration or @Component","body":"<p>The Configuration annotation is meant to annotate classes that store Bean methods: <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/context/annotation/Configuration.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/context/annotation/Configuration.html</a></p>\n<blockquote>\n<p>public @interface Configuration</p>\n<p>Indicates that a class declares one or\nmore @Bean methods and may be processed by the Spring container to\ngenerate bean definitions and service requests for those beans at\nruntime</p>\n</blockquote>\n<p>Below we alse see: &quot;@Configuration is meta-annotated with @Component, therefore @Configuration classes are candidates for component scanning&quot;</p>\n<p>It means that you can in theory put the bean method into class annotated with a @Component but it does not make much sense (as it is not according to convention).</p>\n<p>If you do not want to use @Configuration I think you can define a bean by creating a class which implements Consumer&lt;Message&gt; interface and annotating it with @Component. Then you can add a method accept(Message message) and add your logic there.\nI did not check this part but I think it should work. Adding beans as classes with @Component annotations is also per convention.</p>\n<p>About why the code works, it is simple: inside your library (spring-cloud-azure-stream, etc) there are some classes that are enabled/started based on properties in your application.properties file. These classes try to autowire a bean implementing Consumer&lt;Message&gt; from the Spring context, but this bean is not defined in this library, it should be defined in your code. When you add it, bean resolves and messaging can work.</p>\n"}],"owner":{"account_id":3882629,"reputation":476,"user_id":3214777,"accept_rate":55,"display_name":"Daniel Pop"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":277,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76200361,"answer_count":1,"score":0,"last_activity_date":1683547378,"creation_date":1683544786,"question_id":76200092,"body_markdown":"I am currently working on implementing a consumer of a Azure Service Bus queue in a Spring Boot application as explained in [Azure&#39;s official guide][1]. The code that consumes the messages from the queue per se is the following:\r\n```\r\n    @Bean\r\n    public Consumer&lt;Message&lt;String&gt;&gt; consume() {\r\n        return message-&gt;{\r\n            Checkpointer checkpointer = (Checkpointer) message.getHeaders().get(CHECKPOINTER);\r\n            LOGGER.info(&quot;New message received: &#39;{}&#39;&quot;, message.getPayload());\r\n            checkpointer.success()\r\n                        .doOnSuccess(s-&gt;LOGGER.info(&quot;Message &#39;{}&#39; successfully checkpointed&quot;, message.getPayload()))\r\n                        .doOnError(e-&gt;LOGGER.error(&quot;Error found&quot;, e))\r\n                        .block();\r\n        };\r\n    }\r\n```\r\nIn the link, the consumer is defined in the Main class. However, I want to have it in a dedicated class. What I observed is that the code works either if I annotate the new class with `@Component` or `@Configuration`. \r\n\r\nWhat intrigues me is, first, why does the `@Bean` function when defined inside a component (may be that SB scans for beans in all the `@Component` classes, as it does for `@Configuration`?). The second, and more important, is which approach is better: where should this consumer Bean live, as it is not a standard kind of Bean (ie., one that is further injected into another components, but rather one that starts functioning out of the box). The corollary of the latter is why this code just works (it consumes the messages without further ado), as the method signature does not have anything Azure specific?\r\n\r\n  [1]: https://learn.microsoft.com/en-us/azure/developer/java/spring-framework/configure-spring-cloud-stream-binder-java-app-with-service-bus?tabs=use-a-service-bus-queue","title":"Define a @Bean in @Configuration or @Component","body":"<p>I am currently working on implementing a consumer of a Azure Service Bus queue in a Spring Boot application as explained in <a href=\"https://learn.microsoft.com/en-us/azure/developer/java/spring-framework/configure-spring-cloud-stream-binder-java-app-with-service-bus?tabs=use-a-service-bus-queue\" rel=\"nofollow noreferrer\">Azure's official guide</a>. The code that consumes the messages from the queue per se is the following:</p>\n<pre><code>    @Bean\n    public Consumer&lt;Message&lt;String&gt;&gt; consume() {\n        return message-&gt;{\n            Checkpointer checkpointer = (Checkpointer) message.getHeaders().get(CHECKPOINTER);\n            LOGGER.info(&quot;New message received: '{}'&quot;, message.getPayload());\n            checkpointer.success()\n                        .doOnSuccess(s-&gt;LOGGER.info(&quot;Message '{}' successfully checkpointed&quot;, message.getPayload()))\n                        .doOnError(e-&gt;LOGGER.error(&quot;Error found&quot;, e))\n                        .block();\n        };\n    }\n</code></pre>\n<p>In the link, the consumer is defined in the Main class. However, I want to have it in a dedicated class. What I observed is that the code works either if I annotate the new class with <code>@Component</code> or <code>@Configuration</code>.</p>\n<p>What intrigues me is, first, why does the <code>@Bean</code> function when defined inside a component (may be that SB scans for beans in all the <code>@Component</code> classes, as it does for <code>@Configuration</code>?). The second, and more important, is which approach is better: where should this consumer Bean live, as it is not a standard kind of Bean (ie., one that is further injected into another components, but rather one that starts functioning out of the box). The corollary of the latter is why this code just works (it consumes the messages without further ado), as the method signature does not have anything Azure specific?</p>\n"},{"tags":["java","authentication","spotify"],"answers":[{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1683561042,"post_id":76200396,"comment_id":134381754,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/76200396/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":28546152,"reputation":79,"user_id":21851535,"display_name":"uglibubla"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683547257,"creation_date":1683547215,"answer_id":76200396,"question_id":76200306,"body_markdown":"Take a look at the documentation of the [authorization code flow](https://developer.spotify.com/documentation/web-api/concepts/authorization) or at the [example implementation](https://github.com/spotify-web-api-java/spotify-web-api-java/blob/develop/examples/authorization/authorization_code/AuthorizationCodeExample.java)","title":"Can&#39;t use/find the authorization code when using the Spotify API in Java","body":"<p>Take a look at the documentation of the <a href=\"https://developer.spotify.com/documentation/web-api/concepts/authorization\" rel=\"nofollow noreferrer\">authorization code flow</a> or at the <a href=\"https://github.com/spotify-web-api-java/spotify-web-api-java/blob/develop/examples/authorization/authorization_code/AuthorizationCodeExample.java\" rel=\"nofollow noreferrer\">example implementation</a></p>\n"}],"owner":{"account_id":28545717,"reputation":1,"user_id":21851168,"display_name":"Rickity2207"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":102,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1683547257,"creation_date":1683546537,"question_id":76200306,"body_markdown":"I&#39;m trying to use the Spotify API in Java 17 using Gradle. \r\n\r\nIn the documentation it says the authorization code should be in the redirectURI, but it doesn&#39;t work or I can&#39;t seem to find it. \r\n\r\n\r\n\r\nI tried the following scripts. These are in the same package.\r\n```\r\nimport se.michaelthelin.spotify.SpotifyApi;\r\nimport se.michaelthelin.spotify.SpotifyHttpManager;\r\nimport se.michaelthelin.spotify.requests.authorization.authorization_code.AuthorizationCodeUriRequest;\r\n\r\nimport java.net.URI;\r\nimport java.util.concurrent.CancellationException;\r\nimport java.util.concurrent.CompletableFuture;\r\nimport java.util.concurrent.CompletionException;\r\n\r\npublic class AuthorizationCodeUriExample {\r\n    private static final String clientId = &quot;&lt;client_id&gt;&quot;;\r\n    private static final String clientSecret = &quot;&lt;client_secret&gt;&quot;;\r\n    private static final URI redirectUri = SpotifyHttpManager.makeUri(&quot;https://example.com/spotify-test-uri&quot;);\r\n\r\n    private static final SpotifyApi spotifyApi = new SpotifyApi.Builder()\r\n            .setClientId(clientId)\r\n            .setClientSecret(clientSecret)\r\n            .setRedirectUri(redirectUri)\r\n            .build();\r\n    private static final AuthorizationCodeUriRequest authorizationCodeUriRequest = spotifyApi.authorizationCodeUri()\r\n\r\n            .build();\r\n\r\n    public static void authorizationCodeUri_Sync() {\r\n        final URI uri = authorizationCodeUriRequest.execute();\r\n\r\n        System.out.println(&quot;URI: &quot; + uri.toString());\r\n    }\r\n\r\n    public static void authorizationCodeUri_Async() {\r\n        try {\r\n            final CompletableFuture&lt;URI&gt; uriFuture = authorizationCodeUriRequest.executeAsync();\r\n\r\n            // Thread free to do other tasks...\r\n\r\n            // Example Only. Never block in production code.\r\n            final URI uri = uriFuture.join();\r\n\r\n            System.out.println(&quot;URI: &quot; + uri.toString());\r\n        } catch (CompletionException e) {\r\n            System.out.println(&quot;Error: &quot; + e.getCause().getMessage());\r\n        } catch (CancellationException e) {\r\n            System.out.println(&quot;Async operation cancelled.&quot;);\r\n        }\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        authorizationCodeUri_Sync();\r\n        authorizationCodeUri_Async();\r\n    }\r\n}\r\n\r\n``` \r\n\r\nNote that the client Id and the client secret are censored bc of obvious reasons.\r\n\r\nThis spits out 2 of the same URLs and they redirected as expected to a domain with the following URL: `https://example.com/spotify-test-uri?code=AQAz1CZeAZqGz2vl3NYf0XES4jrmwsr2JmNRFeMXcOnn5HZ_teOXcQKTKdMdEsnKnmwsEYGFXpB67iND0NDZqsWajOZEx6CEZmF0eV9tNsJZtMfAgT0LlG-S0wrva0OTDjICztePV_DkJy03ci9yRSyw3lO5BMxc6Ye1EiMzXv9nztA0FkiXBg`\r\n\r\nI thought the piece behind &quot;code&quot; were to be the authorization code. Correct me if I&#39;m wrong.\r\nI put the authorization code in the following script:\r\n\r\n```\r\nimport se.michaelthelin.spotify.SpotifyApi;\r\nimport se.michaelthelin.spotify.SpotifyHttpManager;\r\nimport se.michaelthelin.spotify.exceptions.SpotifyWebApiException;\r\nimport se.michaelthelin.spotify.model_objects.credentials.AuthorizationCodeCredentials;\r\nimport se.michaelthelin.spotify.requests.authorization.authorization_code.AuthorizationCodeRequest;\r\nimport org.apache.hc.core5.http.ParseException;\r\n\r\nimport java.io.IOException;\r\nimport java.net.URI;\r\nimport java.util.concurrent.CancellationException;\r\nimport java.util.concurrent.CompletableFuture;\r\nimport java.util.concurrent.CompletionException;\r\n\r\npublic class AuthorizationCodeExample {\r\n    private static final String clientId = &quot;&lt;client ID&gt;&quot;;\r\n    private static final String clientSecret = &quot;&lt;client secret&gt;&quot;;\r\n    private static final URI redirectUri = SpotifyHttpManager.makeUri(&quot;https://example.com/spotify-test-uri&quot;);\r\n    private static final String code = &quot;AQAz1CZeAZqGz2vl3NYf0XES4jrmwsr2JmNRFeMXcOnn5HZ_teOXcQKTKdMdEsnKnmwsEYGFXpB67iND0NDZqsWajOZEx6CEZmF0eV9tNsJZtMfAgT0LlG-S0wrva0OTDjICztePV_DkJy03ci9yRSyw3lO5BMxc6Ye1EiMzXv9nztA0FkiXBg&quot;;\r\n\r\n    private static final SpotifyApi spotifyApi = new SpotifyApi.Builder()\r\n            .setClientId(clientId)\r\n            .setClientSecret(clientSecret)\r\n            .setRedirectUri(redirectUri)\r\n            .build();\r\n    private static final AuthorizationCodeRequest authorizationCodeRequest = spotifyApi.authorizationCode(code)\r\n            .build();\r\n\r\n    public static void authorizationCode_Sync() {\r\n        try {\r\n            final AuthorizationCodeCredentials authorizationCodeCredentials = authorizationCodeRequest.execute();\r\n\r\n            // Set access and refresh token for further &quot;spotifyApi&quot; object usage\r\n            spotifyApi.setAccessToken(authorizationCodeCredentials.getAccessToken());\r\n            spotifyApi.setRefreshToken(authorizationCodeCredentials.getRefreshToken());\r\n\r\n            System.out.println(&quot;Expires in: &quot; + authorizationCodeCredentials.getExpiresIn());\r\n        } catch (IOException | SpotifyWebApiException | ParseException e) {\r\n            System.out.println(&quot;Error: &quot; + e.getMessage());\r\n        }\r\n    }\r\n\r\n    public static void authorizationCode_Async() {\r\n        try {\r\n            final CompletableFuture&lt;AuthorizationCodeCredentials&gt; authorizationCodeCredentialsFuture = authorizationCodeRequest.executeAsync();\r\n\r\n            // Thread free to do other tasks...\r\n\r\n            // Example Only. Never block in production code.\r\n            final AuthorizationCodeCredentials authorizationCodeCredentials = authorizationCodeCredentialsFuture.join();\r\n\r\n            // Set access and refresh token for further &quot;spotifyApi&quot; object usage\r\n            spotifyApi.setAccessToken(authorizationCodeCredentials.getAccessToken());\r\n            spotifyApi.setRefreshToken(authorizationCodeCredentials.getRefreshToken());\r\n\r\n            System.out.println(&quot;Expires in: &quot; + authorizationCodeCredentials.getExpiresIn());\r\n        } catch (CompletionException e) {\r\n            System.out.println(&quot;Error: &quot; + e.getCause().getMessage());\r\n        } catch (CancellationException e) {\r\n            System.out.println(&quot;Async operation cancelled.&quot;);\r\n        }\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        authorizationCode_Sync();\r\n        authorizationCode_Async();\r\n    }\r\n}\r\n\r\n```\r\nThis outputs:\r\n`Expires in: 3600\r\nError: Invalid authorization code`\r\ninstead of a refresh code.\r\n\r\nThe interesting thing is that it does know when it expires.\r\n\r\nI probably forgot something obvious as I&#39;m not that experienced. Anyone who knows what I missed/a possible fix?\r\n","title":"Can&#39;t use/find the authorization code when using the Spotify API in Java","body":"<p>I'm trying to use the Spotify API in Java 17 using Gradle.</p>\n<p>In the documentation it says the authorization code should be in the redirectURI, but it doesn't work or I can't seem to find it.</p>\n<p>I tried the following scripts. These are in the same package.</p>\n<pre><code>import se.michaelthelin.spotify.SpotifyApi;\nimport se.michaelthelin.spotify.SpotifyHttpManager;\nimport se.michaelthelin.spotify.requests.authorization.authorization_code.AuthorizationCodeUriRequest;\n\nimport java.net.URI;\nimport java.util.concurrent.CancellationException;\nimport java.util.concurrent.CompletableFuture;\nimport java.util.concurrent.CompletionException;\n\npublic class AuthorizationCodeUriExample {\n    private static final String clientId = &quot;&lt;client_id&gt;&quot;;\n    private static final String clientSecret = &quot;&lt;client_secret&gt;&quot;;\n    private static final URI redirectUri = SpotifyHttpManager.makeUri(&quot;https://example.com/spotify-test-uri&quot;);\n\n    private static final SpotifyApi spotifyApi = new SpotifyApi.Builder()\n            .setClientId(clientId)\n            .setClientSecret(clientSecret)\n            .setRedirectUri(redirectUri)\n            .build();\n    private static final AuthorizationCodeUriRequest authorizationCodeUriRequest = spotifyApi.authorizationCodeUri()\n\n            .build();\n\n    public static void authorizationCodeUri_Sync() {\n        final URI uri = authorizationCodeUriRequest.execute();\n\n        System.out.println(&quot;URI: &quot; + uri.toString());\n    }\n\n    public static void authorizationCodeUri_Async() {\n        try {\n            final CompletableFuture&lt;URI&gt; uriFuture = authorizationCodeUriRequest.executeAsync();\n\n            // Thread free to do other tasks...\n\n            // Example Only. Never block in production code.\n            final URI uri = uriFuture.join();\n\n            System.out.println(&quot;URI: &quot; + uri.toString());\n        } catch (CompletionException e) {\n            System.out.println(&quot;Error: &quot; + e.getCause().getMessage());\n        } catch (CancellationException e) {\n            System.out.println(&quot;Async operation cancelled.&quot;);\n        }\n    }\n\n    public static void main(String[] args) {\n        authorizationCodeUri_Sync();\n        authorizationCodeUri_Async();\n    }\n}\n\n</code></pre>\n<p>Note that the client Id and the client secret are censored bc of obvious reasons.</p>\n<p>This spits out 2 of the same URLs and they redirected as expected to a domain with the following URL: <code>https://example.com/spotify-test-uri?code=AQAz1CZeAZqGz2vl3NYf0XES4jrmwsr2JmNRFeMXcOnn5HZ_teOXcQKTKdMdEsnKnmwsEYGFXpB67iND0NDZqsWajOZEx6CEZmF0eV9tNsJZtMfAgT0LlG-S0wrva0OTDjICztePV_DkJy03ci9yRSyw3lO5BMxc6Ye1EiMzXv9nztA0FkiXBg</code></p>\n<p>I thought the piece behind &quot;code&quot; were to be the authorization code. Correct me if I'm wrong.\nI put the authorization code in the following script:</p>\n<pre><code>import se.michaelthelin.spotify.SpotifyApi;\nimport se.michaelthelin.spotify.SpotifyHttpManager;\nimport se.michaelthelin.spotify.exceptions.SpotifyWebApiException;\nimport se.michaelthelin.spotify.model_objects.credentials.AuthorizationCodeCredentials;\nimport se.michaelthelin.spotify.requests.authorization.authorization_code.AuthorizationCodeRequest;\nimport org.apache.hc.core5.http.ParseException;\n\nimport java.io.IOException;\nimport java.net.URI;\nimport java.util.concurrent.CancellationException;\nimport java.util.concurrent.CompletableFuture;\nimport java.util.concurrent.CompletionException;\n\npublic class AuthorizationCodeExample {\n    private static final String clientId = &quot;&lt;client ID&gt;&quot;;\n    private static final String clientSecret = &quot;&lt;client secret&gt;&quot;;\n    private static final URI redirectUri = SpotifyHttpManager.makeUri(&quot;https://example.com/spotify-test-uri&quot;);\n    private static final String code = &quot;AQAz1CZeAZqGz2vl3NYf0XES4jrmwsr2JmNRFeMXcOnn5HZ_teOXcQKTKdMdEsnKnmwsEYGFXpB67iND0NDZqsWajOZEx6CEZmF0eV9tNsJZtMfAgT0LlG-S0wrva0OTDjICztePV_DkJy03ci9yRSyw3lO5BMxc6Ye1EiMzXv9nztA0FkiXBg&quot;;\n\n    private static final SpotifyApi spotifyApi = new SpotifyApi.Builder()\n            .setClientId(clientId)\n            .setClientSecret(clientSecret)\n            .setRedirectUri(redirectUri)\n            .build();\n    private static final AuthorizationCodeRequest authorizationCodeRequest = spotifyApi.authorizationCode(code)\n            .build();\n\n    public static void authorizationCode_Sync() {\n        try {\n            final AuthorizationCodeCredentials authorizationCodeCredentials = authorizationCodeRequest.execute();\n\n            // Set access and refresh token for further &quot;spotifyApi&quot; object usage\n            spotifyApi.setAccessToken(authorizationCodeCredentials.getAccessToken());\n            spotifyApi.setRefreshToken(authorizationCodeCredentials.getRefreshToken());\n\n            System.out.println(&quot;Expires in: &quot; + authorizationCodeCredentials.getExpiresIn());\n        } catch (IOException | SpotifyWebApiException | ParseException e) {\n            System.out.println(&quot;Error: &quot; + e.getMessage());\n        }\n    }\n\n    public static void authorizationCode_Async() {\n        try {\n            final CompletableFuture&lt;AuthorizationCodeCredentials&gt; authorizationCodeCredentialsFuture = authorizationCodeRequest.executeAsync();\n\n            // Thread free to do other tasks...\n\n            // Example Only. Never block in production code.\n            final AuthorizationCodeCredentials authorizationCodeCredentials = authorizationCodeCredentialsFuture.join();\n\n            // Set access and refresh token for further &quot;spotifyApi&quot; object usage\n            spotifyApi.setAccessToken(authorizationCodeCredentials.getAccessToken());\n            spotifyApi.setRefreshToken(authorizationCodeCredentials.getRefreshToken());\n\n            System.out.println(&quot;Expires in: &quot; + authorizationCodeCredentials.getExpiresIn());\n        } catch (CompletionException e) {\n            System.out.println(&quot;Error: &quot; + e.getCause().getMessage());\n        } catch (CancellationException e) {\n            System.out.println(&quot;Async operation cancelled.&quot;);\n        }\n    }\n\n    public static void main(String[] args) {\n        authorizationCode_Sync();\n        authorizationCode_Async();\n    }\n}\n\n</code></pre>\n<p>This outputs:\n<code>Expires in: 3600 Error: Invalid authorization code</code>\ninstead of a refresh code.</p>\n<p>The interesting thing is that it does know when it expires.</p>\n<p>I probably forgot something obvious as I'm not that experienced. Anyone who knows what I missed/a possible fix?</p>\n"},{"tags":["java","spring","hibernate"],"comments":[{"owner":{"account_id":3449881,"reputation":3520,"user_id":2889760,"display_name":"Gavin King"},"score":0,"creation_date":1683292739,"post_id":76181603,"comment_id":134348588,"body_markdown":"I expect you&#39;re wrong to blame Hibernate here. The problem looks to be caused by something in your usage of Grails or Spring. (Note that there&#39;s no Hibernate code in that stack trace.)","body":"I expect you&#39;re wrong to blame Hibernate here. The problem looks to be caused by something in your usage of Grails or Spring. (Note that there&#39;s no Hibernate code in that stack trace.)"},{"owner":{"account_id":21441190,"reputation":95,"user_id":15795728,"display_name":"sunny"},"score":0,"creation_date":1683531649,"post_id":76181603,"comment_id":134375374,"body_markdown":"what would you suggest to check? It&#39;s weird that after `.save()` operation, the flushMode is changed to `MANUAL`.","body":"what would you suggest to check? It&#39;s weird that after <code>.save()</code> operation, the flushMode is changed to <code>MANUAL</code>."},{"owner":{"account_id":3449881,"reputation":3520,"user_id":2889760,"display_name":"Gavin King"},"score":0,"creation_date":1683538312,"post_id":76181603,"comment_id":134376685,"body_markdown":"Well, I mean, why don&#39;t you just put a breakpoint in `SessionImpl.setHibernateFlushMode()` and see who calls it?","body":"Well, I mean, why don&#39;t you just put a breakpoint in <code>SessionImpl.setHibernateFlushMode()</code> and see who calls it?"},{"owner":{"account_id":21441190,"reputation":95,"user_id":15795728,"display_name":"sunny"},"score":0,"creation_date":1683538965,"post_id":76181603,"comment_id":134376825,"body_markdown":"The method is just like this, so I don&#39;t know how I could check who calls it. I am only able to see actual flushMode that is being passed to this method\n(I pasted the method in the main comment above, because pasting it here makes it ugly)","body":"The method is just like this, so I don&#39;t know how I could check who calls it. I am only able to see actual flushMode that is being passed to this method (I pasted the method in the main comment above, because pasting it here makes it ugly)"},{"owner":{"account_id":3449881,"reputation":3520,"user_id":2889760,"display_name":"Gavin King"},"score":0,"creation_date":1683539364,"post_id":76181603,"comment_id":134376902,"body_markdown":"Your debugger will also show the stack. (The list of stack frames of calling methods.)","body":"Your debugger will also show the stack. (The list of stack frames of calling methods.)"},{"owner":{"account_id":21441190,"reputation":95,"user_id":15795728,"display_name":"sunny"},"score":0,"creation_date":1683546742,"post_id":76181603,"comment_id":134378449,"body_markdown":"I&#39;ve probably found where it is set, but what is weird is that on Friday it was throwing this error and today it doesn&#39;t.... it works fine, anyway, I&#39;ve pasted the screenshot at the bottom of the post again - it&#39;s `validate()` method from `HibernateDomainClassValidator`.","body":"I&#39;ve probably found where it is set, but what is weird is that on Friday it was throwing this error and today it doesn&#39;t.... it works fine, anyway, I&#39;ve pasted the screenshot at the bottom of the post again - it&#39;s <code>validate()</code> method from <code>HibernateDomainClassValidator</code>."},{"owner":{"account_id":3449881,"reputation":3520,"user_id":2889760,"display_name":"Gavin King"},"score":0,"creation_date":1683555434,"post_id":76181603,"comment_id":134380480,"body_markdown":"I mean, I have no idea what that class is. There&#39;s no class with that name in Hibernate Validator (nor in Hibernate ORM), so it&#39;s probably something from one of the other libraries you&#39;re using (as I suggested above).","body":"I mean, I have no idea what that class is. There&#39;s no class with that name in Hibernate Validator (nor in Hibernate ORM), so it&#39;s probably something from one of the other libraries you&#39;re using (as I suggested above)."}],"owner":{"account_id":21441190,"reputation":95,"user_id":15795728,"display_name":"sunny"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683546771,"creation_date":1683285490,"question_id":76181603,"body_markdown":"I&#39;m using Grails and experiencing a weird behavior of hibernate.\r\n\r\nHaving such a method in the service:\r\n\r\n```groovy\r\ndef delete(object) {\r\n  def parent = object.parent\r\n  if (parent) {\r\n    object.parent = null\r\n    parent.removeFromX(object)\r\n    parent.save()\r\n  }\r\n  object.delete(flush: true)\r\n}\r\n```\r\n\r\nIf the `.save()` is triggered and then the `.delete(flush: true)`, I get an error:\r\n\r\n`Write operations are not allowed in read-only mode (FlushMode.MANUAL): Turn your Session into FlushMode.COMMIT/AUTO or remove &#39;readOnly&#39; marker from transaction definition. `\r\n\r\nThe weird part is that if the `.save()` is not triggered (parent is `null`), the delete is working fine - it would mean that calling `.save()` before, marks somehow the transacation as read-only. Is it possible?\r\n\r\nThe project is using OSIV, if it might help you.\r\n\r\n\r\nFull stack trace from logs:\r\n```\r\nStacktrace follows:\r\norg.springframework.dao.InvalidDataAccessApiUsageException: Write operations are not allowed in read-only mode (FlushMode.MANUAL): Turn your Session into FlushMode.COMMIT/AUTO or remove &#39;readOnly&#39; marker from transaction definition.\r\n        at org.springframework.orm.hibernate3.HibernateTemplate.checkWriteOperationAllowed(HibernateTemplate.java:1175)\r\n        at org.springframework.orm.hibernate3.HibernateTemplate$25.doInHibernate(HibernateTemplate.java:839)\r\n        at org.springframework.orm.hibernate3.HibernateTemplate.doExecute(HibernateTemplate.java:406)\r\n        at org.springframework.orm.hibernate3.HibernateTemplate.executeWithNativeSession(HibernateTemplate.java:374)\r\n        at org.springframework.orm.hibernate3.HibernateTemplate.delete(HibernateTemplate.java:837)\r\n        at org.springframework.orm.hibernate3.HibernateTemplate.delete(HibernateTemplate.java:833)\r\n        at org.springframework.orm.hibernate3.HibernateOperations$delete.call(Unknown Source)\r\n        at org.codehaus.groovy.grails.plugins.orm.hibernate.HibernatePluginSupport$_addBasicPersistenceMethods_closure78.doCall(HibernatePluginSupport.groovy:847)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\r\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at java.lang.reflect.Method.invoke(Method.java:607)\r\n        at org.codehaus.groovy.reflection.CachedMethod.invoke(CachedMethod.java:90)\r\n        at org.codehaus.groovy.runtime.metaclass.ClosureMetaMethod.invoke(ClosureMetaMethod.java:80)\r\n        at org.codehaus.groovy.runtime.callsite.PogoMetaMethodSite$PogoMetaMethodSiteNoUnwrapNoCoerce.invoke(PogoMetaMethodSite.java:307)\r\n        at org.codehaus.groovy.runtime.callsite.PogoMetaMethodSite.call(PogoMetaMethodSite.java:63)\r\n        at org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:124)\r\n        at org.pih.warehouse.core.LocationService.deleteLocation(LocationService.groovy:716)\r\n        at org.pih.warehouse.core.LocationService$$FastClassByCGLIB$$366d1ea5.invoke(&lt;generated&gt;)\r\n        at net.sf.cglib.proxy.MethodProxy.invoke(MethodProxy.java:149)\r\n        at org.springframework.aop.framework.Cglib2AopProxy$CglibMethodInvocation.invokeJoinpoint(Cglib2AopProxy.java:688)\r\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:150)\r\n        at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:110)\r\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:172)\r\n        at org.springframework.aop.framework.Cglib2AopProxy$DynamicAdvisedInterceptor.intercept(Cglib2AopProxy.java:621)\r\n        at org.pih.warehouse.core.LocationService$$EnhancerByCGLIB$$7d8a27ff.deleteLocation(&lt;generated&gt;)\r\n        at org.pih.warehouse.core.LocationService$deleteLocation.call(Unknown Source)\r\n        at org.pih.warehouse.core.LocationController$_closure6.doCall(LocationController.groovy:162)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\r\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at java.lang.reflect.Method.invoke(Method.java:607)\r\n        at org.codehaus.groovy.runtime.callsite.PogoMetaMethodSite$PogoCachedMethodSite.invoke(PogoMetaMethodSite.java:225)\r\n        at org.codehaus.groovy.runtime.callsite.PogoMetaMethodSite.callCurrent(PogoMetaMethodSite.java:51)\r\n        at org.codehaus.groovy.runtime.callsite.AbstractCallSite.callCurrent(AbstractCallSite.java:149)\r\n        at org.pih.warehouse.core.LocationController$_closure6.doCall(LocationController.groovy)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\r\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at java.lang.reflect.Method.invoke(Method.java:607)\r\n        at org.codehaus.groovy.reflection.CachedMethod.invoke(CachedMethod.java:90)\r\n        at groovy.lang.MetaMethod.doMethodInvoke(MetaMethod.java:233)\r\n        at groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:1058)\r\n        at groovy.lang.ExpandoMetaClass.invokeMethod(ExpandoMetaClass.java:1070)\r\n        at groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:886)\r\n        at groovy.lang.Closure.call(Closure.java:282)\r\n        at groovy.lang.Closure.call(Closure.java:277)\r\n        at org.codehaus.groovy.grails.web.servlet.mvc.SimpleGrailsControllerHelper.handleAction(SimpleGrailsControllerHelper.java:368)\r\n        at org.codehaus.groovy.grails.web.servlet.mvc.SimpleGrailsControllerHelper.executeAction(SimpleGrailsControllerHelper.java:232)\r\n        at org.codehaus.groovy.grails.web.servlet.mvc.SimpleGrailsControllerHelper.handleURI(SimpleGrailsControllerHelper.java:190)\r\n        at org.codehaus.groovy.grails.web.servlet.mvc.SimpleGrailsControllerHelper.handleURI(SimpleGrailsControllerHelper.java:129)\r\n        at org.codehaus.groovy.grails.web.servlet.mvc.SimpleGrailsController.handleRequest(SimpleGrailsController.java:73)\r\n        at org.springframework.web.servlet.mvc.SimpleControllerHandlerAdapter.handle(SimpleControllerHandlerAdapter.java:48)\r\n        at org.codehaus.groovy.grails.web.servlet.GrailsDispatcherServlet.doDispatch(GrailsDispatcherServlet.java:292)\r\n        at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:719)\r\n        at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:644)\r\n        at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:549)\r\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:707)\r\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:820)\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:290)\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\r\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:70)\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\r\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:70)\r\n```\r\nI can confirm, after debugging and looking at flushMode before and after `save()` is called, before save, the `flushMode` is `AUTO`, but after calling save it becomes: `MANUAL`:\r\n[![enter image description here][1]][1]\r\n\r\n\r\n```\r\npublic void setFlushMode(FlushMode flushMode) {\r\n        this.errorIfClosed();\r\n        this.checkTransactionSynchStatus();\r\n        if (log.isTraceEnabled()) {\r\n            log.trace(&quot;setting flush mode to: &quot; + flushMode);\r\n        }\r\n\r\n        this.flushMode = flushMode;\r\n    }\r\n```\r\n\r\nThe `FlushMode.MANUAL` seems to be set here:\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/g1kBg.png\r\n  [2]: https://i.stack.imgur.com/LNB58.png","title":"Write operations are not allowed in read-only mode (FlushMode.MANUAL) - hibernate","body":"<p>I'm using Grails and experiencing a weird behavior of hibernate.</p>\n<p>Having such a method in the service:</p>\n<pre><code>def delete(object) {\n  def parent = object.parent\n  if (parent) {\n    object.parent = null\n    parent.removeFromX(object)\n    parent.save()\n  }\n  object.delete(flush: true)\n}\n</code></pre>\n<p>If the <code>.save()</code> is triggered and then the <code>.delete(flush: true)</code>, I get an error:</p>\n<p><code>Write operations are not allowed in read-only mode (FlushMode.MANUAL): Turn your Session into FlushMode.COMMIT/AUTO or remove 'readOnly' marker from transaction definition. </code></p>\n<p>The weird part is that if the <code>.save()</code> is not triggered (parent is <code>null</code>), the delete is working fine - it would mean that calling <code>.save()</code> before, marks somehow the transacation as read-only. Is it possible?</p>\n<p>The project is using OSIV, if it might help you.</p>\n<p>Full stack trace from logs:</p>\n<pre><code>Stacktrace follows:\norg.springframework.dao.InvalidDataAccessApiUsageException: Write operations are not allowed in read-only mode (FlushMode.MANUAL): Turn your Session into FlushMode.COMMIT/AUTO or remove 'readOnly' marker from transaction definition.\n        at org.springframework.orm.hibernate3.HibernateTemplate.checkWriteOperationAllowed(HibernateTemplate.java:1175)\n        at org.springframework.orm.hibernate3.HibernateTemplate$25.doInHibernate(HibernateTemplate.java:839)\n        at org.springframework.orm.hibernate3.HibernateTemplate.doExecute(HibernateTemplate.java:406)\n        at org.springframework.orm.hibernate3.HibernateTemplate.executeWithNativeSession(HibernateTemplate.java:374)\n        at org.springframework.orm.hibernate3.HibernateTemplate.delete(HibernateTemplate.java:837)\n        at org.springframework.orm.hibernate3.HibernateTemplate.delete(HibernateTemplate.java:833)\n        at org.springframework.orm.hibernate3.HibernateOperations$delete.call(Unknown Source)\n        at org.codehaus.groovy.grails.plugins.orm.hibernate.HibernatePluginSupport$_addBasicPersistenceMethods_closure78.doCall(HibernatePluginSupport.groovy:847)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.lang.reflect.Method.invoke(Method.java:607)\n        at org.codehaus.groovy.reflection.CachedMethod.invoke(CachedMethod.java:90)\n        at org.codehaus.groovy.runtime.metaclass.ClosureMetaMethod.invoke(ClosureMetaMethod.java:80)\n        at org.codehaus.groovy.runtime.callsite.PogoMetaMethodSite$PogoMetaMethodSiteNoUnwrapNoCoerce.invoke(PogoMetaMethodSite.java:307)\n        at org.codehaus.groovy.runtime.callsite.PogoMetaMethodSite.call(PogoMetaMethodSite.java:63)\n        at org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:124)\n        at org.pih.warehouse.core.LocationService.deleteLocation(LocationService.groovy:716)\n        at org.pih.warehouse.core.LocationService$$FastClassByCGLIB$$366d1ea5.invoke(&lt;generated&gt;)\n        at net.sf.cglib.proxy.MethodProxy.invoke(MethodProxy.java:149)\n        at org.springframework.aop.framework.Cglib2AopProxy$CglibMethodInvocation.invokeJoinpoint(Cglib2AopProxy.java:688)\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:150)\n        at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:110)\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:172)\n        at org.springframework.aop.framework.Cglib2AopProxy$DynamicAdvisedInterceptor.intercept(Cglib2AopProxy.java:621)\n        at org.pih.warehouse.core.LocationService$$EnhancerByCGLIB$$7d8a27ff.deleteLocation(&lt;generated&gt;)\n        at org.pih.warehouse.core.LocationService$deleteLocation.call(Unknown Source)\n        at org.pih.warehouse.core.LocationController$_closure6.doCall(LocationController.groovy:162)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.lang.reflect.Method.invoke(Method.java:607)\n        at org.codehaus.groovy.runtime.callsite.PogoMetaMethodSite$PogoCachedMethodSite.invoke(PogoMetaMethodSite.java:225)\n        at org.codehaus.groovy.runtime.callsite.PogoMetaMethodSite.callCurrent(PogoMetaMethodSite.java:51)\n        at org.codehaus.groovy.runtime.callsite.AbstractCallSite.callCurrent(AbstractCallSite.java:149)\n        at org.pih.warehouse.core.LocationController$_closure6.doCall(LocationController.groovy)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.lang.reflect.Method.invoke(Method.java:607)\n        at org.codehaus.groovy.reflection.CachedMethod.invoke(CachedMethod.java:90)\n        at groovy.lang.MetaMethod.doMethodInvoke(MetaMethod.java:233)\n        at groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:1058)\n        at groovy.lang.ExpandoMetaClass.invokeMethod(ExpandoMetaClass.java:1070)\n        at groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:886)\n        at groovy.lang.Closure.call(Closure.java:282)\n        at groovy.lang.Closure.call(Closure.java:277)\n        at org.codehaus.groovy.grails.web.servlet.mvc.SimpleGrailsControllerHelper.handleAction(SimpleGrailsControllerHelper.java:368)\n        at org.codehaus.groovy.grails.web.servlet.mvc.SimpleGrailsControllerHelper.executeAction(SimpleGrailsControllerHelper.java:232)\n        at org.codehaus.groovy.grails.web.servlet.mvc.SimpleGrailsControllerHelper.handleURI(SimpleGrailsControllerHelper.java:190)\n        at org.codehaus.groovy.grails.web.servlet.mvc.SimpleGrailsControllerHelper.handleURI(SimpleGrailsControllerHelper.java:129)\n        at org.codehaus.groovy.grails.web.servlet.mvc.SimpleGrailsController.handleRequest(SimpleGrailsController.java:73)\n        at org.springframework.web.servlet.mvc.SimpleControllerHandlerAdapter.handle(SimpleControllerHandlerAdapter.java:48)\n        at org.codehaus.groovy.grails.web.servlet.GrailsDispatcherServlet.doDispatch(GrailsDispatcherServlet.java:292)\n        at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:719)\n        at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:644)\n        at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:549)\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:707)\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:820)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:290)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:70)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:70)\n</code></pre>\n<p>I can confirm, after debugging and looking at flushMode before and after <code>save()</code> is called, before save, the <code>flushMode</code> is <code>AUTO</code>, but after calling save it becomes: <code>MANUAL</code>:\n<a href=\"https://i.stack.imgur.com/g1kBg.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/g1kBg.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>public void setFlushMode(FlushMode flushMode) {\n        this.errorIfClosed();\n        this.checkTransactionSynchStatus();\n        if (log.isTraceEnabled()) {\n            log.trace(&quot;setting flush mode to: &quot; + flushMode);\n        }\n\n        this.flushMode = flushMode;\n    }\n</code></pre>\n<p>The <code>FlushMode.MANUAL</code> seems to be set here:\n<a href=\"https://i.stack.imgur.com/LNB58.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/LNB58.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","android","kotlin","android-softkeyboard","soft-keyboard"],"answers":[{"comments":[{"owner":{"account_id":23151631,"reputation":111,"user_id":17253541,"display_name":"SHA"},"score":0,"creation_date":1683562312,"post_id":76200304,"comment_id":134382014,"body_markdown":"Yeah I tried a similar solution as well. But it has 2 issues which are not aligned with my requirement.","body":"Yeah I tried a similar solution as well. But it has 2 issues which are not aligned with my requirement."}],"tags":[],"owner":{"account_id":20191003,"reputation":331,"user_id":14809236,"display_name":"Camp Nerd"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683546525,"creation_date":1683546525,"answer_id":76200304,"question_id":76200068,"body_markdown":"Let&#39;s look at this at another approach. You can hide the keyboard by making the keyboard lose focus. You can also use this as an example to you code. It uses a button and an edit text. \r\n\r\n    MainActivity : AppCompatActivity() {\r\n    // on below line creating variables\r\n    lateinit var hideBtn: Button\r\n    override fun onCreate(savedInstanceState: Bundle?) {\r\n        super.onCreate(savedInstanceState)\r\n        setContentView(R.layout.activity_main)\r\n \r\n        // on below line wea re initializing our variables.\r\n        hideBtn = findViewById(R.id.idBtnHide)\r\n        \r\n        // on below line adding click listener for button.\r\n        hideBtn.setOnClickListener {\r\n             \r\n            // on below line getting current view.\r\n            val view: View? = this.currentFocus\r\n             \r\n            // on below line checking if view is not null.\r\n            if (view != null) {\r\n                // on below line we are creating a variable\r\n                // for input manager and initializing it.\r\n                val inputMethodManager =\r\n                    getSystemService(INPUT_METHOD_SERVICE) as InputMethodManager\r\n                 \r\n                // on below line hiding our keyboard.\r\n                inputMethodManager.hideSoftInputFromWindow(view.getWindowToken(), 0)\r\n                 \r\n                // displaying toast message on below line.\r\n                Toast.makeText(this, &quot;Key board hidden&quot;, Toast.LENGTH_SHORT).show()\r\n            }\r\n        }\r\n    }\r\n    }\r\n\r\n\r\nUsing the `input manager` will cause the keyboard to lose focus and hide. You can also use this in the main portion to where you tap anywhere on the screen and the keyboard will hide. \r\n\r\nThis is a method of hiding (not disabling) the keyboard.","title":"How to dynamically enable and disable the android soft keyboard","body":"<p>Let's look at this at another approach. You can hide the keyboard by making the keyboard lose focus. You can also use this as an example to you code. It uses a button and an edit text.</p>\n<pre><code>MainActivity : AppCompatActivity() {\n// on below line creating variables\nlateinit var hideBtn: Button\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_main)\n\n    // on below line wea re initializing our variables.\n    hideBtn = findViewById(R.id.idBtnHide)\n    \n    // on below line adding click listener for button.\n    hideBtn.setOnClickListener {\n         \n        // on below line getting current view.\n        val view: View? = this.currentFocus\n         \n        // on below line checking if view is not null.\n        if (view != null) {\n            // on below line we are creating a variable\n            // for input manager and initializing it.\n            val inputMethodManager =\n                getSystemService(INPUT_METHOD_SERVICE) as InputMethodManager\n             \n            // on below line hiding our keyboard.\n            inputMethodManager.hideSoftInputFromWindow(view.getWindowToken(), 0)\n             \n            // displaying toast message on below line.\n            Toast.makeText(this, &quot;Key board hidden&quot;, Toast.LENGTH_SHORT).show()\n        }\n    }\n}\n}\n</code></pre>\n<p>Using the <code>input manager</code> will cause the keyboard to lose focus and hide. You can also use this in the main portion to where you tap anywhere on the screen and the keyboard will hide.</p>\n<p>This is a method of hiding (not disabling) the keyboard.</p>\n"}],"owner":{"account_id":23151631,"reputation":111,"user_id":17253541,"display_name":"SHA"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1683546525,"creation_date":1683544621,"question_id":76200068,"body_markdown":"I am loading a certain web page in my android application using a webview and I want to disable the android keyboard for some screens and enable the android keyboard for some screens. So I tried implementing several approaches non of them work. When I set all the properties to support the keyboard enable and then try to disable it, it still pops out. These are the things I have done,\r\n\r\n    class SampleWebview(context: Context, attrs: AttributeSet): WebView(context, attrs) {\r\n        override fun onCreateInputConnection(outAttrs: EditorInfo): InputConnection? {\r\n            return null\r\n        }\r\n    \r\n        override fun onCheckIsTextEditor(): Boolean {\r\n            println(&quot;onCheckIsTextEditor&quot;)\r\n            return false\r\n        }\r\n    }\r\n\r\nI tried setting the onCheckIsTextEditor to false but it still keeps popping out. Please note that the above created SampleWebview was used in the layout file and references inside the Main Activity as well. Then I tried this,\r\n\r\n    wb.webViewClient = object: WebViewClient(){\r\n    \r\n                override fun onPageFinished(view: WebView?, url: String?) {\r\n                    viewModel.onPageFinishedLoading()\r\n    \r\n                }\r\n    \r\n                override fun onPageStarted(view: WebView?, url: String?, favicon: Bitmap?) {\r\n                    if(url?.contains(&quot;/hide&quot;, true) == false){\r\n                        wb.isFocusable = true\r\n                        wb.isFocusableInTouchMode = true\r\n                        pt.descendantFocusability = ViewGroup.FOCUS_BEFORE_DESCENDANTS\r\n                    } else {\r\n                        wb.isFocusable = false\r\n                        wb.isFocusableInTouchMode = false\r\n                        pt.descendantFocusability = ViewGroup.FOCUS_BLOCK_DESCENDANTS\r\n    \r\n                    }\r\n                }\r\n    }\r\n\r\nBut this doesn&#39;t work as well. But if i set the \r\n\r\n    wb.isFocusable = false\r\n    wb.isFocusableInTouchMode = false\r\n    pt.descendantFocusability = ViewGroup.FOCUS_BLOCK_DESCENDANTS\r\n\r\nand doesn&#39;t change them then the soft keyboard is disabled for the entire application (which is great), but I need the soft keyboard to be enabled for some screens in the webview. How to achieve this? I have been trying different solutions for hours now, and yet no exact solution. Any guidance for this is much appreciated. \r\n\r\n**To sum up things again, what i need is to enable the android soft keyboard for some screens in the website and to disable it on some screens in the website which is displayed inside the Webview.**","title":"How to dynamically enable and disable the android soft keyboard","body":"<p>I am loading a certain web page in my android application using a webview and I want to disable the android keyboard for some screens and enable the android keyboard for some screens. So I tried implementing several approaches non of them work. When I set all the properties to support the keyboard enable and then try to disable it, it still pops out. These are the things I have done,</p>\n<pre><code>class SampleWebview(context: Context, attrs: AttributeSet): WebView(context, attrs) {\n    override fun onCreateInputConnection(outAttrs: EditorInfo): InputConnection? {\n        return null\n    }\n\n    override fun onCheckIsTextEditor(): Boolean {\n        println(&quot;onCheckIsTextEditor&quot;)\n        return false\n    }\n}\n</code></pre>\n<p>I tried setting the onCheckIsTextEditor to false but it still keeps popping out. Please note that the above created SampleWebview was used in the layout file and references inside the Main Activity as well. Then I tried this,</p>\n<pre><code>wb.webViewClient = object: WebViewClient(){\n\n            override fun onPageFinished(view: WebView?, url: String?) {\n                viewModel.onPageFinishedLoading()\n\n            }\n\n            override fun onPageStarted(view: WebView?, url: String?, favicon: Bitmap?) {\n                if(url?.contains(&quot;/hide&quot;, true) == false){\n                    wb.isFocusable = true\n                    wb.isFocusableInTouchMode = true\n                    pt.descendantFocusability = ViewGroup.FOCUS_BEFORE_DESCENDANTS\n                } else {\n                    wb.isFocusable = false\n                    wb.isFocusableInTouchMode = false\n                    pt.descendantFocusability = ViewGroup.FOCUS_BLOCK_DESCENDANTS\n\n                }\n            }\n}\n</code></pre>\n<p>But this doesn't work as well. But if i set the</p>\n<pre><code>wb.isFocusable = false\nwb.isFocusableInTouchMode = false\npt.descendantFocusability = ViewGroup.FOCUS_BLOCK_DESCENDANTS\n</code></pre>\n<p>and doesn't change them then the soft keyboard is disabled for the entire application (which is great), but I need the soft keyboard to be enabled for some screens in the webview. How to achieve this? I have been trying different solutions for hours now, and yet no exact solution. Any guidance for this is much appreciated.</p>\n<p><strong>To sum up things again, what i need is to enable the android soft keyboard for some screens in the website and to disable it on some screens in the website which is displayed inside the Webview.</strong></p>\n"},{"tags":["java","jmeter","neoload"],"comments":[{"owner":{"account_id":353426,"reputation":5631,"user_id":691105,"display_name":"James Pulley"},"score":0,"creation_date":1683726849,"post_id":76200153,"comment_id":134411068,"body_markdown":"This pattern usually indicates that you are not receiving value from your current tool.   Your current tool is very capable, and you are moving to a tool that is less capable requiring additional tools to meet the same level of feature and functionality.   If you do not solve why you are not achieving at least a very high return on your performance testing tool investment (200%++) then the same problem of value generation will follow to the new tool.","body":"This pattern usually indicates that you are not receiving value from your current tool.   Your current tool is very capable, and you are moving to a tool that is less capable requiring additional tools to meet the same level of feature and functionality.   If you do not solve why you are not achieving at least a very high return on your performance testing tool investment (200%++) then the same problem of value generation will follow to the new tool."},{"owner":{"account_id":6008562,"reputation":471,"user_id":4719672,"accept_rate":100,"display_name":"Satish Shihani"},"score":0,"creation_date":1683817140,"post_id":76200153,"comment_id":134427533,"body_markdown":"Hi @JamesPulley,\nThe question was asked just for a blocker solution, Not for any marketing advice :)","body":"Hi @JamesPulley, The question was asked just for a blocker solution, Not for any marketing advice :)"},{"owner":{"account_id":353426,"reputation":5631,"user_id":691105,"display_name":"James Pulley"},"score":0,"creation_date":1683993546,"post_id":76200153,"comment_id":134453092,"body_markdown":"Just bringing up a pattern from three decades worth of consulting services delivery.  When you switch tools, if you do not figure out why you are not receiving value from a high feature/high capability tool to a tool with less capability, then the pattern that impacted delivery of value will follow to the new tool.\n\nIt&#39;s free advice.  Worth precisely what you paid for it.","body":"Just bringing up a pattern from three decades worth of consulting services delivery.  When you switch tools, if you do not figure out why you are not receiving value from a high feature/high capability tool to a tool with less capability, then the pattern that impacted delivery of value will follow to the new tool.  It&#39;s free advice.  Worth precisely what you paid for it."}],"answers":[{"comments":[{"owner":{"account_id":6008562,"reputation":471,"user_id":4719672,"accept_rate":100,"display_name":"Satish Shihani"},"score":0,"creation_date":1683623147,"post_id":76200216,"comment_id":134391094,"body_markdown":"Ahh ok, It was my bad, I didn&#39;t look at it the other way around. But it helped, Thanks.","body":"Ahh ok, It was my bad, I didn&#39;t look at it the other way around. But it helped, Thanks."}],"tags":[],"owner":{"account_id":3460456,"reputation":162758,"user_id":2897748,"display_name":"Dmitri T"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1683545768,"creation_date":1683545768,"answer_id":76200216,"question_id":76200153,"body_markdown":"You could just use JMeter&#39;s [HTTP(S) Test Script Recorder][1] as a proxy for the Neoload. \r\n\r\nGiven you:\r\n\r\n - Start JMeter&#39;s HTTP(S) Test Script Recorder\r\n - [Configure Neoload to use JMeter as a proxy][2]\r\n\r\nwhen you replay your test scenario in Neoload JMeter will capture the requests and generate appropriate [HTTP Request][3] samplers and [HTTP Header Managers][4]. \r\n\r\nYou will need to perform [correlation][5] manually however. If your Neoload script has a lot of dynamic values you might want to use [BlazeMeter Proxy Recorder][6] instead of JMeter&#39;s HTTP(S) Test Script Recorder, it has possibility to export recorded scripts in &quot;SmartJMX&quot; mode with automatic detection and correlation of the dynamic parameters. \r\n\r\n\r\n  [1]: https://jmeter.apache.org/usermanual/jmeter_proxy_step_by_step.html\r\n  [2]: https://documentation.tricentis.com/neoload/9.0/en/WebHelp/#683.htm#o24279\r\n  [3]: https://jmeter.apache.org/usermanual/component_reference.html#HTTP_Request\r\n  [4]: https://jmeter.apache.org/usermanual/component_reference.html#HTTP_Header_Manager\r\n  [5]: https://jmeter.apache.org/usermanual/jmeter_proxy_step_by_step.html#correlate-start\r\n  [6]: https://guide.blazemeter.com/hc/en-us/articles/13354690665233-Creating-the-Proxy-Recorder","title":"converting Neoload script to Jmeter script","body":"<p>You could just use JMeter's <a href=\"https://jmeter.apache.org/usermanual/jmeter_proxy_step_by_step.html\" rel=\"nofollow noreferrer\">HTTP(S) Test Script Recorder</a> as a proxy for the Neoload.</p>\n<p>Given you:</p>\n<ul>\n<li>Start JMeter's HTTP(S) Test Script Recorder</li>\n<li><a href=\"https://documentation.tricentis.com/neoload/9.0/en/WebHelp/#683.htm#o24279\" rel=\"nofollow noreferrer\">Configure Neoload to use JMeter as a proxy</a></li>\n</ul>\n<p>when you replay your test scenario in Neoload JMeter will capture the requests and generate appropriate <a href=\"https://jmeter.apache.org/usermanual/component_reference.html#HTTP_Request\" rel=\"nofollow noreferrer\">HTTP Request</a> samplers and <a href=\"https://jmeter.apache.org/usermanual/component_reference.html#HTTP_Header_Manager\" rel=\"nofollow noreferrer\">HTTP Header Managers</a>.</p>\n<p>You will need to perform <a href=\"https://jmeter.apache.org/usermanual/jmeter_proxy_step_by_step.html#correlate-start\" rel=\"nofollow noreferrer\">correlation</a> manually however. If your Neoload script has a lot of dynamic values you might want to use <a href=\"https://guide.blazemeter.com/hc/en-us/articles/13354690665233-Creating-the-Proxy-Recorder\" rel=\"nofollow noreferrer\">BlazeMeter Proxy Recorder</a> instead of JMeter's HTTP(S) Test Script Recorder, it has possibility to export recorded scripts in &quot;SmartJMX&quot; mode with automatic detection and correlation of the dynamic parameters.</p>\n"}],"owner":{"account_id":6008562,"reputation":471,"user_id":4719672,"accept_rate":100,"display_name":"Satish Shihani"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":358,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":76200216,"answer_count":1,"score":-1,"last_activity_date":1683545768,"creation_date":1683545244,"question_id":76200153,"body_markdown":"Is there a possibility of converting the Neoload script to the Jmeter script? \r\nIf yes, then how?\r\n\r\nI have solutions for other performance testing tools to Jmeter, but not for Neoload to Jmeter.","title":"converting Neoload script to Jmeter script","body":"<p>Is there a possibility of converting the Neoload script to the Jmeter script?\nIf yes, then how?</p>\n<p>I have solutions for other performance testing tools to Jmeter, but not for Neoload to Jmeter.</p>\n"},{"tags":["java","android"],"owner":{"account_id":22386279,"reputation":1,"user_id":16599040,"display_name":"varrun"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683545663,"creation_date":1683545663,"question_id":76200202,"body_markdown":"I have tried to access the pendrive in mobile phones. Usb pen drives were detecting in android mobiles. But how to access the contents inside pendrive in android. Below is the code taken from https://stackoverflow.com/questions/39942453/how-to-receive-usb-connection-status-broadcast\r\nI have checked with the code and able to get the usb and now i need to get the contents of pen drive.\r\n```\r\n@Override\r\nprotected void onCreate(Bundle savedInstanceState) {\r\n    super.onCreate(savedInstanceState);\r\n\r\n    mDeviceText = (TextView) findViewById(R.id.text_status);\r\n    mConnectButton = (Button) findViewById(R.id.button_connect);\r\n    mUsbManager = (UsbManager) getSystemService(Context.USB_SERVICE);\r\n}\r\n\r\n@Override\r\nprotected void onRestart() {\r\n    super.onRestart();\r\n    recreate();\r\n}\r\n\r\n@Override\r\nprotected void onResume() {\r\n    super.onResume();\r\n\r\n    mPermissionIntent = PendingIntent.getBroadcast(this, 0, new Intent(ACTION_USB_PERMISSION), 0);\r\n    IntentFilter filter = new IntentFilter(ACTION_USB_PERMISSION);\r\n    registerReceiver(mUsbReceiver, filter);\r\n    updateDeviceList();\r\n}\r\n\r\n@Override\r\nprotected void onPause() {\r\n    super.onPause();\r\n    unregisterReceiver(mUsbReceiver);\r\n}\r\n\r\npublic void onConnectClick(View v) {\r\n    if (mDevice == null) {\r\n        return;\r\n    }\r\n    mUsbManager.requestPermission(mDevice, mPermissionIntent);\r\n}\r\n\r\n\r\nprivate static final String ACTION_USB_PERMISSION = &quot;com.android.recipes.USB_PERMISSION&quot;;\r\nprivate final BroadcastReceiver mUsbReceiver = new BroadcastReceiver() {\r\n    public void onReceive(Context context, Intent intent) {\r\n        String action = intent.getAction();\r\n        if (ACTION_USB_PERMISSION.equals(action)) {\r\n\r\n            if (intent.getBooleanExtra(UsbManager.EXTRA_PERMISSION_GRANTED, false)\r\n                    &amp;&amp; device != null) {\r\n\r\n                getDeviceStatus(device);\r\n            } else {\r\n                Log.d(TAG, &quot;permission denied for device &quot; + device);\r\n            }\r\n        }\r\n    }\r\n};\r\n\r\n\r\nprivate void getDeviceStatus(UsbDevice device) {\r\n    UsbDeviceConnection connection = mUsbManager.openDevice(device);\r\n    byte[] buffer = new byte[LENGTH];\r\n    connection.controlTransfer(REQUEST_TYPE, REQUEST, REQ_VALUE, REQ_INDEX,\r\n            buffer, LENGTH, 2000);\r\n    connection.close();\r\n}\r\n\r\nprivate void updateDeviceList() {\r\n    HashMap&lt;String, UsbDevice&gt; connectedDevices = mUsbManager\r\n            .getDeviceList();\r\n    if (connectedDevices.isEmpty()) {\r\n        mDevice = null;\r\n        mDeviceText.setText(&quot;No Devices Currently Connected&quot;);\r\n        mConnectButton.setEnabled(false);\r\n    } else {\r\n        for (UsbDevice device : connectedDevices.values()) {\r\n            mDevice = device;\r\n        }\r\n        mDeviceText.setText(&quot;USB Device connected&quot;);\r\n        mConnectButton.setEnabled(true);\r\n    }\r\n}\r\n```\r\n","title":"How to display the pendrive contents in android?","body":"<p>I have tried to access the pendrive in mobile phones. Usb pen drives were detecting in android mobiles. But how to access the contents inside pendrive in android. Below is the code taken from <a href=\"https://stackoverflow.com/questions/39942453/how-to-receive-usb-connection-status-broadcast\">How to receive USB connection status broadcast?</a>\nI have checked with the code and able to get the usb and now i need to get the contents of pen drive.</p>\n<pre><code>@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n\n    mDeviceText = (TextView) findViewById(R.id.text_status);\n    mConnectButton = (Button) findViewById(R.id.button_connect);\n    mUsbManager = (UsbManager) getSystemService(Context.USB_SERVICE);\n}\n\n@Override\nprotected void onRestart() {\n    super.onRestart();\n    recreate();\n}\n\n@Override\nprotected void onResume() {\n    super.onResume();\n\n    mPermissionIntent = PendingIntent.getBroadcast(this, 0, new Intent(ACTION_USB_PERMISSION), 0);\n    IntentFilter filter = new IntentFilter(ACTION_USB_PERMISSION);\n    registerReceiver(mUsbReceiver, filter);\n    updateDeviceList();\n}\n\n@Override\nprotected void onPause() {\n    super.onPause();\n    unregisterReceiver(mUsbReceiver);\n}\n\npublic void onConnectClick(View v) {\n    if (mDevice == null) {\n        return;\n    }\n    mUsbManager.requestPermission(mDevice, mPermissionIntent);\n}\n\n\nprivate static final String ACTION_USB_PERMISSION = &quot;com.android.recipes.USB_PERMISSION&quot;;\nprivate final BroadcastReceiver mUsbReceiver = new BroadcastReceiver() {\n    public void onReceive(Context context, Intent intent) {\n        String action = intent.getAction();\n        if (ACTION_USB_PERMISSION.equals(action)) {\n\n            if (intent.getBooleanExtra(UsbManager.EXTRA_PERMISSION_GRANTED, false)\n                    &amp;&amp; device != null) {\n\n                getDeviceStatus(device);\n            } else {\n                Log.d(TAG, &quot;permission denied for device &quot; + device);\n            }\n        }\n    }\n};\n\n\nprivate void getDeviceStatus(UsbDevice device) {\n    UsbDeviceConnection connection = mUsbManager.openDevice(device);\n    byte[] buffer = new byte[LENGTH];\n    connection.controlTransfer(REQUEST_TYPE, REQUEST, REQ_VALUE, REQ_INDEX,\n            buffer, LENGTH, 2000);\n    connection.close();\n}\n\nprivate void updateDeviceList() {\n    HashMap&lt;String, UsbDevice&gt; connectedDevices = mUsbManager\n            .getDeviceList();\n    if (connectedDevices.isEmpty()) {\n        mDevice = null;\n        mDeviceText.setText(&quot;No Devices Currently Connected&quot;);\n        mConnectButton.setEnabled(false);\n    } else {\n        for (UsbDevice device : connectedDevices.values()) {\n            mDevice = device;\n        }\n        mDeviceText.setText(&quot;USB Device connected&quot;);\n        mConnectButton.setEnabled(true);\n    }\n}\n</code></pre>\n"},{"tags":["java","ssl","java-8","graalvm"],"comments":[{"owner":{"account_id":10300086,"reputation":352,"user_id":7599062,"display_name":"SyntaxNavigator"},"score":0,"creation_date":1682429394,"post_id":76076830,"comment_id":134211396,"body_markdown":"`openssl ciphers -v &#39;TLSv1.2&#39;`\nThis should provide a list of cipher suites supported by OpenSSL on your machine for TLS 1.2. You may compare this list to the one returned by your software to determine if there are any differences.","body":"<code>openssl ciphers -v &#39;TLSv1.2&#39;</code> This should provide a list of cipher suites supported by OpenSSL on your machine for TLS 1.2. You may compare this list to the one returned by your software to determine if there are any differences."},{"owner":{"account_id":6737779,"reputation":3295,"user_id":5191913,"accept_rate":67,"display_name":"Savior"},"score":0,"creation_date":1682431102,"post_id":76076830,"comment_id":134212030,"body_markdown":"@SyntaxNavigator There is no OpenSSL involved here.","body":"@SyntaxNavigator There is no OpenSSL involved here."},{"owner":{"account_id":392775,"reputation":1744,"user_id":754250,"display_name":"HoaPhan"},"score":0,"creation_date":1682489871,"post_id":76076830,"comment_id":134222190,"body_markdown":"I couldn&#39;t reproduce it, but if you put breakpoints in SSLEngineImpl, and SSLContextImpl, stepping through them it may just tell.","body":"I couldn&#39;t reproduce it, but if you put breakpoints in SSLEngineImpl, and SSLContextImpl, stepping through them it may just tell."},{"owner":{"account_id":1295413,"reputation":617,"user_id":1246600,"display_name":"Michael"},"score":0,"creation_date":1682529030,"post_id":76076830,"comment_id":134232046,"body_markdown":"Which OS are you using?","body":"Which OS are you using?"},{"owner":{"account_id":6737779,"reputation":3295,"user_id":5191913,"accept_rate":67,"display_name":"Savior"},"score":0,"creation_date":1682538764,"post_id":76076830,"comment_id":134233851,"body_markdown":"@Michael CentOS 8, linux kernel 5.12.","body":"@Michael CentOS 8, linux kernel 5.12."},{"owner":{"account_id":1295413,"reputation":617,"user_id":1246600,"display_name":"Michael"},"score":0,"creation_date":1682546329,"post_id":76076830,"comment_id":134235259,"body_markdown":"Sorry, I can&#39;t reproduce it (I get many cipher suites).","body":"Sorry, I can&#39;t reproduce it (I get many cipher suites)."},{"owner":{"account_id":2674923,"reputation":9479,"user_id":2311528,"accept_rate":59,"display_name":"Lonzak"},"score":0,"creation_date":1683024231,"post_id":76076830,"comment_id":134299945,"body_markdown":"@Savior What architecture does your system have? pc, mac, arm? Do you run it inside somekind of virtualization (like docker, kvm, proxmox ...)?","body":"@Savior What architecture does your system have? pc, mac, arm? Do you run it inside somekind of virtualization (like docker, kvm, proxmox ...)?"},{"owner":{"account_id":6737779,"reputation":3295,"user_id":5191913,"accept_rate":67,"display_name":"Savior"},"score":0,"creation_date":1683301782,"post_id":76076830,"comment_id":134351003,"body_markdown":"@Lonzak It&#39;s bare metal linux. Weirdly enough, it&#39;s only a couple hosts among this fleet. But I fail to see what system setting could influence the JVM&#39;s selection of algorithms.","body":"@Lonzak It&#39;s bare metal linux. Weirdly enough, it&#39;s only a couple hosts among this fleet. But I fail to see what system setting could influence the JVM&#39;s selection of algorithms."},{"owner":{"account_id":2674923,"reputation":9479,"user_id":2311528,"accept_rate":59,"display_name":"Lonzak"},"score":0,"creation_date":1683545591,"post_id":76076830,"comment_id":134378134,"body_markdown":"@Savior  I updated my answer with two additional points... (What architecture are you running?) And those fleet of other system are those completely identical or different in hard- or software?","body":"@Savior  I updated my answer with two additional points... (What architecture are you running?) And those fleet of other system are those completely identical or different in hard- or software?"}],"answers":[{"tags":[],"owner":{"account_id":7126990,"reputation":416,"user_id":5449595,"display_name":"gujou"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682504682,"creation_date":1682504682,"answer_id":76109693,"question_id":76076830,"body_markdown":"I&#39;ve downloaded and tested your code with your GraalVM version on java 8 *(https://github.com/graalvm/graalvm-ce-builds/releases/tag/vm-20.3.3)*\r\n\r\n    $ java -version\r\n    openjdk version &quot;1.8.0_302&quot;\r\n    OpenJDK Runtime Environment (build 1.8.0_302-b07)\r\n    OpenJDK 64-Bit Server VM GraalVM CE 20.3.3 (build 25.302-b07-jvmci-20.3-b20, mixed mode)\r\n\r\n\r\nI&#39;ve this output :\r\n\r\n    [TLS_AES_128_GCM_SHA256, TLS_AES_256_GCM_SHA384, TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384, TLS_RSA_WITH_AES_256_GCM_SHA384, TLS_ECDH_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDH_RSA_WITH_AES_256_GCM_SHA384, TLS_DHE_RSA_WITH_AES_256_GCM_SHA384, TLS_DHE_DSS_WITH_AES_256_GCM_SHA384, TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256, TLS_RSA_WITH_AES_128_GCM_SHA256, TLS_ECDH_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDH_RSA_WITH_AES_128_GCM_SHA256, TLS_DHE_RSA_WITH_AES_128_GCM_SHA256, TLS_DHE_DSS_WITH_AES_128_GCM_SHA256, TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA384, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384, TLS_RSA_WITH_AES_256_CBC_SHA256, TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA384, TLS_ECDH_RSA_WITH_AES_256_CBC_SHA384, TLS_DHE_RSA_WITH_AES_256_CBC_SHA256, TLS_DHE_DSS_WITH_AES_256_CBC_SHA256, TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA, TLS_RSA_WITH_AES_256_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDH_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_DSS_WITH_AES_256_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256, TLS_RSA_WITH_AES_128_CBC_SHA256, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA256, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA256, TLS_DHE_RSA_WITH_AES_128_CBC_SHA256, TLS_DHE_DSS_WITH_AES_128_CBC_SHA256, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA, TLS_RSA_WITH_AES_128_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_DSS_WITH_AES_128_CBC_SHA, TLS_EMPTY_RENEGOTIATION_INFO_SCSV]\r\n\r\nI have check my $JAVA_HOME/jre/lib/security/java.security :\r\n\r\n      jdk.tls.disabledAlgorithms=SSLv3, TLSv1, TLSv1.1, RC4, DES, MD5withRSA, \\\r\n            DH keySize &lt; 1024, EC keySize &lt; 224, 3DES_EDE_CBC, anon, NULL, \\\r\n            include jdk.disabled.namedCurves\r\n        &lt;...&gt;\r\n        jdk.tls.legacyAlgorithms= \\\r\n                K_NULL, C_NULL, M_NULL, \\\r\n                DH_anon, ECDH_anon, \\\r\n                RC4_128, RC4_40, DES_CBC, DES40_CBC, \\\r\n                3DES_EDE_CBC\r\n\r\nSo, I only see 2 possibilities if you have a fresh install :\r\n\r\n1. you don&#39;t use *--enable-https* when you compile Java code to a standalone executable like this :\r\n\r\n        $ native-image --enable-https Example\r\n\r\n2. you have a problem on your system environment and this is not a GraalVM problem...\r\n\r\nI hope it can help you,\r\nGLHF !","title":"GraalVM Java 8 SSLEngine only supports cipher suite TLS_EMPTY_RENEGOTIATION_INFO_SCSV","body":"<p>I've downloaded and tested your code with your GraalVM version on java 8 <em>(<a href=\"https://github.com/graalvm/graalvm-ce-builds/releases/tag/vm-20.3.3\" rel=\"nofollow noreferrer\">https://github.com/graalvm/graalvm-ce-builds/releases/tag/vm-20.3.3</a>)</em></p>\n<pre><code>$ java -version\nopenjdk version &quot;1.8.0_302&quot;\nOpenJDK Runtime Environment (build 1.8.0_302-b07)\nOpenJDK 64-Bit Server VM GraalVM CE 20.3.3 (build 25.302-b07-jvmci-20.3-b20, mixed mode)\n</code></pre>\n<p>I've this output :</p>\n<pre><code>[TLS_AES_128_GCM_SHA256, TLS_AES_256_GCM_SHA384, TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384, TLS_RSA_WITH_AES_256_GCM_SHA384, TLS_ECDH_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDH_RSA_WITH_AES_256_GCM_SHA384, TLS_DHE_RSA_WITH_AES_256_GCM_SHA384, TLS_DHE_DSS_WITH_AES_256_GCM_SHA384, TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256, TLS_RSA_WITH_AES_128_GCM_SHA256, TLS_ECDH_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDH_RSA_WITH_AES_128_GCM_SHA256, TLS_DHE_RSA_WITH_AES_128_GCM_SHA256, TLS_DHE_DSS_WITH_AES_128_GCM_SHA256, TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA384, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384, TLS_RSA_WITH_AES_256_CBC_SHA256, TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA384, TLS_ECDH_RSA_WITH_AES_256_CBC_SHA384, TLS_DHE_RSA_WITH_AES_256_CBC_SHA256, TLS_DHE_DSS_WITH_AES_256_CBC_SHA256, TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA, TLS_RSA_WITH_AES_256_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDH_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_DSS_WITH_AES_256_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256, TLS_RSA_WITH_AES_128_CBC_SHA256, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA256, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA256, TLS_DHE_RSA_WITH_AES_128_CBC_SHA256, TLS_DHE_DSS_WITH_AES_128_CBC_SHA256, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA, TLS_RSA_WITH_AES_128_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_DSS_WITH_AES_128_CBC_SHA, TLS_EMPTY_RENEGOTIATION_INFO_SCSV]\n</code></pre>\n<p>I have check my $JAVA_HOME/jre/lib/security/java.security :</p>\n<pre><code>  jdk.tls.disabledAlgorithms=SSLv3, TLSv1, TLSv1.1, RC4, DES, MD5withRSA, \\\n        DH keySize &lt; 1024, EC keySize &lt; 224, 3DES_EDE_CBC, anon, NULL, \\\n        include jdk.disabled.namedCurves\n    &lt;...&gt;\n    jdk.tls.legacyAlgorithms= \\\n            K_NULL, C_NULL, M_NULL, \\\n            DH_anon, ECDH_anon, \\\n            RC4_128, RC4_40, DES_CBC, DES40_CBC, \\\n            3DES_EDE_CBC\n</code></pre>\n<p>So, I only see 2 possibilities if you have a fresh install :</p>\n<ol>\n<li><p>you don't use <em>--enable-https</em> when you compile Java code to a standalone executable like this :</p>\n<pre><code> $ native-image --enable-https Example\n</code></pre>\n</li>\n<li><p>you have a problem on your system environment and this is not a GraalVM problem...</p>\n</li>\n</ol>\n<p>I hope it can help you,\nGLHF !</p>\n"},{"tags":[],"owner":{"account_id":2674923,"reputation":9479,"user_id":2311528,"accept_rate":59,"display_name":"Lonzak"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683545655,"creation_date":1682628406,"answer_id":76124531,"question_id":76076830,"body_markdown":"Some important information is missing in your post:\r\n\r\nIn a comment you write that your operating system is linux but on what **[architecture][1]** does it run? X86, MAC, ARM, ...? Do you run it inside some kind of **virtualization** layer (like docker, kvm, proxmox ...) or bare metal? \r\n\r\nSeveral things come to mind:\r\n\r\n 1. You are using CentOS 8 with linux kernel 5.12. Cent OS 8 has been eol&#39;ed since 2021-12-31 - [do not use it][2] anymore. There are known Java related [bugs][3] in centOS. \r\n 2. You can try to enable a different provider like SunEC in java.security config file by adding the line `security.provider.9=sun.security.ec.SunEC` (You can find an overview of available providers [here][4])\r\n 3. Did you try to use an up-to-date graalVM? The current java8 of graalVM is [20.3.10 - 8u371][5] (enterprise). There have been bugfixes in this area (e.g. in 20.3.4) and also additions: [Sean Mullan announced][6] that TLSv1.3 was enabled in 8u341 (which you are not using with 8u302)\r\n 4. Are you using java 8 for a specific reason? If not then use Java11 or higher. If yes then still try a Java11 based graal Version and see whether the behaviour is the same. (If you see more cipher suites this might be a java related issue if not then OS related)\r\n 5. Try to enable more cipher suites by using the `setEnabledCipherSuites` method, passing in an array of cipher suite names. For example:\r\n      \r\n        engine.setEnabledCipherSuites(new String[] {&quot;TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256&quot;, &quot;TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384&quot;});\r\n 6. You can always use a different SSL/TLS implementation, like Bouncy Castle, OpenSSL or the JSSE implementation that comes with a newer version of the JDK. \r\n 7. Try to add the following extension path to your java call: `-Djava.ext.dirs=./:/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.302.b07_64/jre/lib/ext` (adapt the path accordingly) It should point to the folder where the `sunjce_provider.jar` etc is located\r\n 8. Did you enable debug output? `-Djavax.net.debug=ssl` What does it say?\r\n\r\n  [1]: https://en.wikipedia.org/wiki/List_of_Linux-supported_computer_architectures\r\n  [2]: https://vulners.com/thn/THN:A022718A54C5EE0C2378E2A496201F6C\r\n  [3]: https://bugs.centos.org/view.php?id=9482\r\n  [4]: https://docs.oracle.com/javase/8/docs/technotes/guides/security/SunProviders.html\r\n  [5]: https://docs.oracle.com/en/graalvm/enterprise/20/docs/overview/release-notes/\r\n  [6]: https://twitter.com/seanjmullan/status/1549461422286856193","title":"GraalVM Java 8 SSLEngine only supports cipher suite TLS_EMPTY_RENEGOTIATION_INFO_SCSV","body":"<p>Some important information is missing in your post:</p>\n<p>In a comment you write that your operating system is linux but on what <strong><a href=\"https://en.wikipedia.org/wiki/List_of_Linux-supported_computer_architectures\" rel=\"nofollow noreferrer\">architecture</a></strong> does it run? X86, MAC, ARM, ...? Do you run it inside some kind of <strong>virtualization</strong> layer (like docker, kvm, proxmox ...) or bare metal?</p>\n<p>Several things come to mind:</p>\n<ol>\n<li><p>You are using CentOS 8 with linux kernel 5.12. Cent OS 8 has been eol'ed since 2021-12-31 - <a href=\"https://vulners.com/thn/THN:A022718A54C5EE0C2378E2A496201F6C\" rel=\"nofollow noreferrer\">do not use it</a> anymore. There are known Java related <a href=\"https://bugs.centos.org/view.php?id=9482\" rel=\"nofollow noreferrer\">bugs</a> in centOS.</p>\n</li>\n<li><p>You can try to enable a different provider like SunEC in java.security config file by adding the line <code>security.provider.9=sun.security.ec.SunEC</code> (You can find an overview of available providers <a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/security/SunProviders.html\" rel=\"nofollow noreferrer\">here</a>)</p>\n</li>\n<li><p>Did you try to use an up-to-date graalVM? The current java8 of graalVM is <a href=\"https://docs.oracle.com/en/graalvm/enterprise/20/docs/overview/release-notes/\" rel=\"nofollow noreferrer\">20.3.10 - 8u371</a> (enterprise). There have been bugfixes in this area (e.g. in 20.3.4) and also additions: <a href=\"https://twitter.com/seanjmullan/status/1549461422286856193\" rel=\"nofollow noreferrer\">Sean Mullan announced</a> that TLSv1.3 was enabled in 8u341 (which you are not using with 8u302)</p>\n</li>\n<li><p>Are you using java 8 for a specific reason? If not then use Java11 or higher. If yes then still try a Java11 based graal Version and see whether the behaviour is the same. (If you see more cipher suites this might be a java related issue if not then OS related)</p>\n</li>\n<li><p>Try to enable more cipher suites by using the <code>setEnabledCipherSuites</code> method, passing in an array of cipher suite names. For example:</p>\n<pre><code>engine.setEnabledCipherSuites(new String[] {&quot;TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256&quot;, &quot;TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384&quot;});\n</code></pre>\n</li>\n<li><p>You can always use a different SSL/TLS implementation, like Bouncy Castle, OpenSSL or the JSSE implementation that comes with a newer version of the JDK.</p>\n</li>\n<li><p>Try to add the following extension path to your java call: <code>-Djava.ext.dirs=./:/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.302.b07_64/jre/lib/ext</code> (adapt the path accordingly) It should point to the folder where the <code>sunjce_provider.jar</code> etc is located</p>\n</li>\n<li><p>Did you enable debug output? <code>-Djavax.net.debug=ssl</code> What does it say?</p>\n</li>\n</ol>\n"}],"owner":{"account_id":6737779,"reputation":3295,"user_id":5191913,"accept_rate":67,"display_name":"Savior"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":322,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1683545655,"creation_date":1682112761,"question_id":76076830,"body_markdown":"I&#39;ve got this small little program\r\n```\r\nimport java.util.Arrays;\r\nimport javax.net.ssl.SSLContext;\r\nimport javax.net.ssl.SSLEngine;\r\n\r\npublic class Example {\r\n\tpublic static void main(String[] args) throws Exception {\r\n\t\tSSLContext context = SSLContext.getInstance(&quot;TLS&quot;);\r\n\t\tcontext.init(null, null, null);\r\n\t\tSSLEngine engine = context.createSSLEngine();\r\n\t\tSystem.out.println(Arrays.toString(engine.getSupportedCipherSuites()));\r\n\t}\r\n}\r\n```\r\nAnd running on\r\n```\r\nopenjdk version &quot;1.8.0_302&quot;\r\nOpenJDK Runtime Environment (build 1.8.0_302-b07)\r\nOpenJDK 64-Bit Server VM GraalVM LIBGRAAL 20.3.3 (build 25.302-b07-jvmci-20.3-b20, mixed mode)\r\n```\r\nwill only report back\r\n```\r\n[TLS_EMPTY_RENEGOTIATION_INFO_SCSV]\r\n```\r\nThe provider is\r\n```\r\nSunJSSE version 1.8\r\n```\r\nThe config in `jre/lib/security/java.security` does not seem to disable all the standard cipher suites\r\n```\r\njdk.tls.disabledAlgorithms=SSLv3, TLSv1, TLSv1.1, RC4, DES, MD5withRSA, \\\r\n    DH keySize &lt; 1024, EC keySize &lt; 224, 3DES_EDE_CBC, anon, NULL, \\\r\n    include jdk.disabled.namedCurves\r\n[...]\r\njdk.tls.legacyAlgorithms= \\\r\n        K_NULL, C_NULL, M_NULL, \\\r\n        DH_anon, ECDH_anon, \\\r\n        RC4_128, RC4_40, DES_CBC, DES40_CBC, \\\r\n        3DES_EDE_CBC\r\n```\r\n\r\nSo where are all the TLS 1.2 and TLS 1.3 cipher suites? What else can be influencing the selection?\r\n\r\n","title":"GraalVM Java 8 SSLEngine only supports cipher suite TLS_EMPTY_RENEGOTIATION_INFO_SCSV","body":"<p>I've got this small little program</p>\n<pre><code>import java.util.Arrays;\nimport javax.net.ssl.SSLContext;\nimport javax.net.ssl.SSLEngine;\n\npublic class Example {\n    public static void main(String[] args) throws Exception {\n        SSLContext context = SSLContext.getInstance(&quot;TLS&quot;);\n        context.init(null, null, null);\n        SSLEngine engine = context.createSSLEngine();\n        System.out.println(Arrays.toString(engine.getSupportedCipherSuites()));\n    }\n}\n</code></pre>\n<p>And running on</p>\n<pre><code>openjdk version &quot;1.8.0_302&quot;\nOpenJDK Runtime Environment (build 1.8.0_302-b07)\nOpenJDK 64-Bit Server VM GraalVM LIBGRAAL 20.3.3 (build 25.302-b07-jvmci-20.3-b20, mixed mode)\n</code></pre>\n<p>will only report back</p>\n<pre><code>[TLS_EMPTY_RENEGOTIATION_INFO_SCSV]\n</code></pre>\n<p>The provider is</p>\n<pre><code>SunJSSE version 1.8\n</code></pre>\n<p>The config in <code>jre/lib/security/java.security</code> does not seem to disable all the standard cipher suites</p>\n<pre><code>jdk.tls.disabledAlgorithms=SSLv3, TLSv1, TLSv1.1, RC4, DES, MD5withRSA, \\\n    DH keySize &lt; 1024, EC keySize &lt; 224, 3DES_EDE_CBC, anon, NULL, \\\n    include jdk.disabled.namedCurves\n[...]\njdk.tls.legacyAlgorithms= \\\n        K_NULL, C_NULL, M_NULL, \\\n        DH_anon, ECDH_anon, \\\n        RC4_128, RC4_40, DES_CBC, DES40_CBC, \\\n        3DES_EDE_CBC\n</code></pre>\n<p>So where are all the TLS 1.2 and TLS 1.3 cipher suites? What else can be influencing the selection?</p>\n"},{"tags":["java","regex","validation","struts2"],"comments":[{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1365162739,"post_id":15831837,"comment_id":22525807,"body_markdown":"You could consider using a shorter regex, too.","body":"You could consider using a shorter regex, too."},{"owner":{"account_id":1879878,"reputation":24286,"user_id":1700321,"display_name":"Aleksandr M"},"score":0,"creation_date":1365346718,"post_id":15831837,"comment_id":22579912,"body_markdown":"Are you sure that `phone` variable is being set and it is not `null`?","body":"Are you sure that <code>phone</code> variable is being set and it is not <code>null</code>?"},{"owner":{"account_id":2018560,"reputation":997,"user_id":1805267,"display_name":"Lukasz Lenart"},"score":1,"creation_date":1365403744,"post_id":15831837,"comment_id":22595741,"body_markdown":"Struts version? Version 2.3.12 has broken annotation support which was improved in version 2.3.14 (under Vote now)","body":"Struts version? Version 2.3.12 has broken annotation support which was improved in version 2.3.14 (under Vote now)"},{"owner":{"account_id":2145778,"reputation":902,"user_id":1903411,"accept_rate":64,"display_name":"aloplop85"},"score":0,"creation_date":1365408263,"post_id":15831837,"comment_id":22597578,"body_markdown":"The phone variable is NOT null and I am using Struts version 2.3.12.","body":"The phone variable is NOT null and I am using Struts version 2.3.12."},{"owner":{"account_id":1879878,"reputation":24286,"user_id":1700321,"display_name":"Aleksandr M"},"score":1,"creation_date":1366113836,"post_id":15831837,"comment_id":22878291,"body_markdown":"@aloplop85: Now you can update Struts2 version to 2.3.14.","body":"@aloplop85: Now you can update Struts2 version to 2.3.14."},{"owner":{"account_id":2145778,"reputation":902,"user_id":1903411,"accept_rate":64,"display_name":"aloplop85"},"score":0,"creation_date":1366120761,"post_id":15831837,"comment_id":22882902,"body_markdown":"I&#180;ll try it as soon as possible. Thanks ;)","body":"I&#180;ll try it as soon as possible. Thanks ;)"}],"answers":[{"comments":[{"owner":{"account_id":2145778,"reputation":902,"user_id":1903411,"accept_rate":64,"display_name":"aloplop85"},"score":0,"creation_date":1365167013,"post_id":15832734,"comment_id":22528363,"body_markdown":"I write the phone number inside here:&lt;s:textfield label=&quot;Phone&quot; name=&quot;account.phone&quot;/&gt;   When validating the account bean, anything is accepted as &quot;phone&quot;. The @RequiredStringValidator is working properly.","body":"I write the phone number inside here:&lt;s:textfield label=&quot;Phone&quot; name=&quot;account.phone&quot;/&gt;   When validating the account bean, anything is accepted as &quot;phone&quot;. The @RequiredStringValidator is working properly."},{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1365167214,"post_id":15832734,"comment_id":22528494,"body_markdown":"Put the `validation` interceptor on the stack if it&#39;s not already there.","body":"Put the <code>validation</code> interceptor on the stack if it&#39;s not already there."},{"owner":{"account_id":2145778,"reputation":902,"user_id":1903411,"accept_rate":64,"display_name":"aloplop85"},"score":0,"creation_date":1365408156,"post_id":15832734,"comment_id":22597524,"body_markdown":"I am using the &quot;defaultStack&quot; so the &quot;validation&quot; interceptor is included there by default. Also, the other validations are working well.","body":"I am using the &quot;defaultStack&quot; so the &quot;validation&quot; interceptor is included there by default. Also, the other validations are working well."},{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1365408633,"post_id":15832734,"comment_id":22597733,"body_markdown":"Probably you need getters and setters, and annotation for `account.phone`","body":"Probably you need getters and setters, and annotation for <code>account.phone</code>"},{"owner":{"account_id":2145778,"reputation":902,"user_id":1903411,"accept_rate":64,"display_name":"aloplop85"},"score":0,"creation_date":1365413510,"post_id":15832734,"comment_id":22600229,"body_markdown":"The getter and setter were already placed for &quot;private String phone;&quot;                                                               public String getPhone() {\n    return phone;\n  }\n  \n  @RequiredStringValidator(message=&quot;Phone required.&quot;) \n  @RegexFieldValidator(type=ValidatorType.FIELD, message=&quot;Invalid Phone&quot;,\n  \t\texpression=&quot;\\\\([0-9][0-9][0-9]\\\\)\\\\s[0-9][0-9][0-9]-[0-9][0-9][0-9][0-9]&quot;)\n  public void setPhone(String phone) {\n    this.phone = phone;\n  }","body":"The getter and setter were already placed for &quot;private String phone;&quot;                                                               public String getPhone() {     return phone;   }      @RequiredStringValidator(message=&quot;Phone required.&quot;)    @RegexFieldValidator(type=ValidatorType.FIELD, message=&quot;Invalid Phone&quot;,   \t\texpression=&quot;\\&#40;[0-9][0-9][0-9]\\&#41;\\\\s[0-9][0-9][0-9]-&zwnj;&#8203;[0-9][0-9][0-9][0-9]&zwnj;&#8203;&quot;)   public void setPhone(String phone) {     this.phone = phone;   }"},{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1365416338,"post_id":15832734,"comment_id":22601763,"body_markdown":"I mean the account, setAccount, getAccount.","body":"I mean the account, setAccount, getAccount."},{"owner":{"account_id":2145778,"reputation":902,"user_id":1903411,"accept_rate":64,"display_name":"aloplop85"},"score":0,"creation_date":1365417878,"post_id":15832734,"comment_id":22602651,"body_markdown":"Yes, the Account setter and getter are inside an Action class. As I told before, the RequiredStringValidator is working but the RegexFieldValidator is not doing anything.","body":"Yes, the Account setter and getter are inside an Action class. As I told before, the RequiredStringValidator is working but the RegexFieldValidator is not doing anything."},{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1365418193,"post_id":15832734,"comment_id":22602796,"body_markdown":"That is the problem you have either put it in the Account and use `name=&quot;account.phone&quot;` or put it in action then `name=&quot;phone&quot;`.","body":"That is the problem you have either put it in the Account and use <code>name=&quot;account.phone&quot;</code> or put it in action then <code>name=&quot;phone&quot;</code>."},{"owner":{"account_id":2145778,"reputation":902,"user_id":1903411,"accept_rate":64,"display_name":"aloplop85"},"score":0,"creation_date":1365419210,"post_id":15832734,"comment_id":22603324,"body_markdown":"In the AccountAction class, in order to validate account fields I put: @Validations( visitorFields = {\n\t\t\t\t@VisitorFieldValidator(fieldName=&quot;account&quot;, message=&quot;&quot;, appendPrefix=true) [...] )","body":"In the AccountAction class, in order to validate account fields I put: @Validations( visitorFields = { \t\t\t\t@VisitorFieldValidator(fieldName=&quot;account&quot;, message=&quot;&quot;, appendPrefix=true) [...] )"}],"tags":[],"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"comment_count":9,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1365161222,"creation_date":1365161222,"answer_id":15832734,"question_id":15831837,"body_markdown":"Try with\r\n\r\n    @RegexFieldValidator(type=ValidatorType.FIELD, message=&quot;Invalid Phone&quot;,\r\n        expression=&quot;\\\\([0-9][0-9][0-9]\\\\)\\\\s[0-9][0-9][0-9]-[0-9][0-9][0-9][0-9]&quot;)","title":"Struts2 Annotations validate String using RegexFieldValidator","body":"<p>Try with</p>\n\n<pre><code>@RegexFieldValidator(type=ValidatorType.FIELD, message=\"Invalid Phone\",\n    expression=\"\\\\([0-9][0-9][0-9]\\\\)\\\\s[0-9][0-9][0-9]-[0-9][0-9][0-9][0-9]\")\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2145778,"reputation":902,"user_id":1903411,"accept_rate":64,"display_name":"aloplop85"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1366973032,"creation_date":1366973032,"answer_id":16234540,"question_id":15831837,"body_markdown":"The Struts 2 team has fixed the error and now it works correctly in version 2.3.14.\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.apache.struts&lt;/groupId&gt;\r\n      &lt;artifactId&gt;struts2-core&lt;/artifactId&gt;\r\n      &lt;version&gt;2.3.14&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\nI tried both cases:\r\n\r\n **1. Field validation:**\r\n\r\nAccountAction.java\r\n\r\n\r\n\r\n    regexFields = {\r\n    \t\t@RegexFieldValidator(fieldName=&quot;phone2&quot;,\r\n                                 regexExpression=&quot;\\\\d{3}-\\\\d{3}-\\\\d{4}&quot;,\r\n    \t\t\t\t           \t message=&quot;Invalid Phone&quot;)}\r\n\r\n **2. Visitor field validation:**\r\n\r\nAccountAction.java\r\n\r\n&lt;code&gt;\r\nvisitorFields = { @VisitorFieldValidator(fieldName=&quot;account&quot;, message=&quot;[Error]&quot;,  appendPrefix=true)\r\n\t\t}&lt;/code&gt;\r\n\r\nAccount.java\r\n\r\n &lt;code&gt;\r\n   @RequiredStringValidator(message=&quot;Phone required.&quot;) \r\n      @RegexFieldValidator(message=&quot;Invalid Phone&quot;, regexExpression=&quot;\\\\d{3}-\\\\d{3}-\\\\d{4}&quot;) \r\n          public void setPhone(String phone) {\r\n        this.phone = phone;\r\n  } &lt;/code&gt;\r\n","title":"Struts2 Annotations validate String using RegexFieldValidator","body":"<p>The Struts 2 team has fixed the error and now it works correctly in version 2.3.14.</p>\n\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.apache.struts&lt;/groupId&gt;\n  &lt;artifactId&gt;struts2-core&lt;/artifactId&gt;\n  &lt;version&gt;2.3.14&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>I tried both cases:</p>\n\n<p><strong>1. Field validation:</strong></p>\n\n<p>AccountAction.java</p>\n\n<pre><code>regexFields = {\n        @RegexFieldValidator(fieldName=\"phone2\",\n                             regexExpression=\"\\\\d{3}-\\\\d{3}-\\\\d{4}\",\n                             message=\"Invalid Phone\")}\n</code></pre>\n\n<p><strong>2. Visitor field validation:</strong></p>\n\n<p>AccountAction.java</p>\n\n<p><code>\nvisitorFields = { @VisitorFieldValidator(fieldName=\"account\", message=\"[Error]\",  appendPrefix=true)\n        }</code></p>\n\n<p>Account.java</p>\n\n<p><code>\n   @RequiredStringValidator(message=\"Phone required.\") \n      @RegexFieldValidator(message=\"Invalid Phone\", regexExpression=\"\\d{3}-\\d{3}-\\d{4}\") \n          public void setPhone(String phone) {\n        this.phone = phone;\n  } </code></p>\n"}],"owner":{"account_id":2145778,"reputation":902,"user_id":1903411,"accept_rate":64,"display_name":"aloplop85"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3563,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":16234540,"answer_count":2,"score":1,"last_activity_date":1683544922,"creation_date":1365158523,"question_id":15831837,"body_markdown":"I am trying to use Struts2 Annotations to validate some fields of a bean.\r\nIn this case, I would like to validate a phone number String with a regex.\r\n\r\nI found the `@RegexFieldValidator` annotation, so I included in my class and made some tests:\r\n\r\n\r\n      @RequiredStringValidator(message=&quot;Phone required.&quot;) \r\n      @RegexFieldValidator( message=&quot;Invalid Phone&quot;,\r\n      \texpression=&quot;\\\\([\\\\d][\\\\d][\\\\d]\\\\) [\\\\d][\\\\d][\\\\d]-[\\\\d][\\\\d][\\\\d][\\\\d]&quot;)\r\n      public void setPhone(String phone) {\r\n        this.phone = phone;\r\n      }\r\n\r\nHowever, the regex expression doesn&#180;t work. I tried even with `&quot;\\\\d{9}&quot;` and `&quot;[0-9]{9}&quot;`.\r\nEven with `type=ValidatorType.SIMPLE`.\r\n\r\nThe `RequiredStringValidator` works properly...What&#180;s going on here?\r\n\r\nIs it possible to use this validator properly?\r\n\r\n","title":"Struts2 Annotations validate String using RegexFieldValidator","body":"<p>I am trying to use Struts2 Annotations to validate some fields of a bean.\nIn this case, I would like to validate a phone number String with a regex.</p>\n<p>I found the <code>@RegexFieldValidator</code> annotation, so I included in my class and made some tests:</p>\n<pre><code>  @RequiredStringValidator(message=&quot;Phone required.&quot;) \n  @RegexFieldValidator( message=&quot;Invalid Phone&quot;,\n    expression=&quot;\\\\([\\\\d][\\\\d][\\\\d]\\\\) [\\\\d][\\\\d][\\\\d]-[\\\\d][\\\\d][\\\\d][\\\\d]&quot;)\n  public void setPhone(String phone) {\n    this.phone = phone;\n  }\n</code></pre>\n<p>However, the regex expression doesn´t work. I tried even with <code>&quot;\\\\d{9}&quot;</code> and <code>&quot;[0-9]{9}&quot;</code>.\nEven with <code>type=ValidatorType.SIMPLE</code>.</p>\n<p>The <code>RequiredStringValidator</code> works properly...What´s going on here?</p>\n<p>Is it possible to use this validator properly?</p>\n"},{"tags":["java","jpa","spring-batch","pom.xml","batch-processing"],"comments":[{"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1683540671,"post_id":76199449,"comment_id":134377163,"body_markdown":"Hello, jakarta is the correct one for the current Spring Boot version. Your pom.xml contains some ambiguous properties. The best way to get it done is to generate a fresh one using https://start.spring.io/ Please also note that you should install and use at least Java 17 for the current Spring Boot.","body":"Hello, jakarta is the correct one for the current Spring Boot version. Your pom.xml contains some ambiguous properties. The best way to get it done is to generate a fresh one using <a href=\"https://start.spring.io/\" rel=\"nofollow noreferrer\">start.spring.io</a> Please also note that you should install and use at least Java 17 for the current Spring Boot."},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1683558974,"post_id":76199449,"comment_id":134381245,"body_markdown":"A few things are off. First, an EntityManger cannot be converted to an EntityManagerFactory anyway, regardless of the different packages - a Factory is used to obtain EntityManagers, so this is odd. Second, you didn&#39;t show where this error is coming from - that should tell you more about what is really going on. The issue initially is that the Spring version used is for Jakarta persistence units - you can&#39;t just pick one or the other as the two packages don&#39;t work together. You&#39;ve then partially configured it for Jakarta, but are still using javax in your code. Use one or the other","body":"A few things are off. First, an EntityManger cannot be converted to an EntityManagerFactory anyway, regardless of the different packages - a Factory is used to obtain EntityManagers, so this is odd. Second, you didn&#39;t show where this error is coming from - that should tell you more about what is really going on. The issue initially is that the Spring version used is for Jakarta persistence units - you can&#39;t just pick one or the other as the two packages don&#39;t work together. You&#39;ve then partially configured it for Jakarta, but are still using javax in your code. Use one or the other"}],"answers":[{"tags":[],"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1683544652,"creation_date":1683544652,"answer_id":76200072,"question_id":76199449,"body_markdown":"In addition to updating dependencies, you need to update your import statements as well to use `jakarta.*` instead of `javax.*`.\r\n\r\nThis is mentioned in the migration guide here: https://github.com/spring-projects/spring-batch/wiki/Spring-Batch-5.0-Migration-Guide#dependencies-upgrade","title":"I am using javax api but the entitymanager is calling jakarta. persistence api","body":"<p>In addition to updating dependencies, you need to update your import statements as well to use <code>jakarta.*</code> instead of <code>javax.*</code>.</p>\n<p>This is mentioned in the migration guide here: <a href=\"https://github.com/spring-projects/spring-batch/wiki/Spring-Batch-5.0-Migration-Guide#dependencies-upgrade\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-batch/wiki/Spring-Batch-5.0-Migration-Guide#dependencies-upgrade</a></p>\n"}],"owner":{"account_id":28545028,"reputation":1,"user_id":21850580,"display_name":"Shailesh Patil"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1215,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1683544652,"creation_date":1683539762,"question_id":76199449,"body_markdown":"i am using javax.persistence API to create a spring batch application however the EntityManager and EntityFactory Manager are calling Jakarta persistence API.\r\n```\r\npackage com.example.demo.Config;\r\n\r\nimport com.example.demo.Entity.Earmark;\r\nimport com.example.demo.Repository.EarmarkRepository;\r\nimport org.springframework.batch.core.Job;\r\nimport org.springframework.batch.core.Step;\r\nimport org.springframework.batch.core.configuration.annotation.EnableBatchProcessing;\r\nimport org.springframework.batch.core.configuration.annotation.JobBuilderFactory;\r\nimport org.springframework.batch.core.configuration.annotation.StepBuilderFactory;\r\nimport org.springframework.batch.core.launch.support.RunIdIncrementer;\r\nimport org.springframework.batch.item.database.JpaPagingItemReader;\r\nimport org.springframework.batch.item.ItemReader;\r\nimport org.springframework.batch.item.ItemWriter;\r\nimport org.springframework.batch.item.database.JpaItemWriter;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.transaction.annotation.EnableTransactionManagement;\r\n\r\nimport javax.persistence.EntityManager;\r\nimport javax.persistence.EntityManagerFactory;\r\nimport java.util.Collections;\r\n\r\n@Configuration\r\n@EnableBatchProcessing\r\n@EnableTransactionManagement\r\npublic class EarmarkJobConfig {\r\n\r\n    private EntityManager entityManager;\r\n    \r\n    @Autowired\r\n    private EntityManagerFactory entityManagerFactory;\r\n    \r\n    @Autowired\r\n    private final JobBuilderFactory jobBuilderFactory;\r\n    \r\n    @Autowired\r\n    private final StepBuilderFactory stepBuilderFactory;\r\n    \r\n    @Autowired\r\n    private final EarmarkRepository earmarkRepository;\r\n    \r\n    private EarmarkJobConfig(JobBuilderFactory jobBuilderFactory,\r\n                             StepBuilderFactory stepBuilderFactory,\r\n                             EarmarkRepository earmarkRepository) {\r\n        this.jobBuilderFactory = jobBuilderFactory;\r\n        this.stepBuilderFactory = stepBuilderFactory;\r\n        this.earmarkRepository = earmarkRepository;\r\n    }\r\n    \r\n    public static EarmarkJobConfig createEarmarkJobConfig(JobBuilderFactory jobBuilderFactory,\r\n                                                          StepBuilderFactory stepBuilderFactory,\r\n                                                          EarmarkRepository earmarkRepository) {\r\n        return new EarmarkJobConfig(jobBuilderFactory, stepBuilderFactory, earmarkRepository);\r\n    }\r\n    \r\n    @Bean\r\n    public ItemReader&lt;Earmark&gt; earmarkItemReader() {\r\n        JpaPagingItemReader&lt;Earmark&gt; reader = new JpaPagingItemReader&lt;&gt;();\r\n        reader.setEntityManagerFactory(entityManager);\r\n        reader.setQueryString(&quot;SELECT e FROM Earmark e WHERE e.status = &#39;Pending&#39;&quot;);\r\n        reader.setParameterValues(Collections.emptyMap());\r\n        reader.setPageSize(100);\r\n        return reader;\r\n    }\r\n    \r\n    @Bean\r\n    public EarmarkItemProcessor earmarkItemProcessor() {\r\n        return new EarmarkItemProcessor();\r\n    }\r\n    \r\n    @Bean\r\n    public ItemWriter&lt;Earmark&gt; earmarkItemWriter() {\r\n        JpaItemWriter&lt;Earmark&gt; writer = new JpaItemWriter&lt;&gt;();\r\n        writer.setEntityManagerFactory(entityManager);\r\n        return writer;\r\n    }\r\n    \r\n    @Bean\r\n    public Step earmarkStep() {\r\n        return stepBuilderFactory.get(&quot;earmarkStep&quot;)\r\n                .&lt;Earmark, Earmark&gt;chunk(100)\r\n                .reader(earmarkItemReader())\r\n                .processor(earmarkItemProcessor())\r\n                .writer(earmarkItemWriter())\r\n                .build();\r\n    }\r\n    \r\n    @Bean\r\n    public Job earmarkJob() {\r\n        return jobBuilderFactory.get(&quot;jobName&quot;)\r\n                .incrementer(new RunIdIncrementer())\r\n                .start(earmarkStep())\r\n                .build();\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\nI tried changing pom.xml versions and tried excluding the javax api then jakarta api alternatively as well but still am getting the same error\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    \r\n    \\&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \t\t xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;\\&gt;\r\n    \\&lt;modelVersion\\&gt;4.0.0\\&lt;/modelVersion\\&gt;\r\n    \\&lt;parent\\&gt;\r\n    \\&lt;groupId\\&gt;org.springframework.boot\\&lt;/groupId\\&gt;\r\n    \\&lt;artifactId\\&gt;spring-boot-starter-parent\\&lt;/artifactId\\&gt;\r\n    \\&lt;version\\&gt;3.0.6\\&lt;/version\\&gt;\r\n    \\&lt;relativePath/\\&gt; \\&lt;!-- lookup parent from repository --\\&gt;\r\n    \\&lt;/parent\\&gt;\r\n    \\&lt;groupId\\&gt;com.example\\&lt;/groupId\\&gt;\r\n    \\&lt;artifactId\\&gt;demo\\&lt;/artifactId\\&gt;\r\n    \\&lt;version\\&gt;0.0.1-SNAPSHOT\\&lt;/version\\&gt;\r\n    \\&lt;name\\&gt;JavaApplication\\&lt;/name\\&gt;\r\n    \\&lt;description\\&gt;Demo project for Spring Boot\\&lt;/description\\&gt;\r\n    \\&lt;properties\\&gt;\r\n    \r\n        \t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n        \t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        \r\n        \t&lt;maven.compiler.source&gt;${java.version}&lt;/maven.compiler.source&gt;\r\n        \t&lt;maven.compiler.target&gt;${java.version}&lt;/maven.compiler.target&gt;\r\n        \r\n        \t&lt;spring.boot.version&gt;2.6.7&lt;/spring.boot.version&gt;\r\n        \t&lt;hibernate.core.version&gt;5.5.7&lt;/hibernate.core.version&gt;\r\n        \t&lt;h2.version&gt;2.1.212&lt;/h2.version&gt;\r\n        \t&lt;c3p0.version&gt;0.9.1.2&lt;/c3p0.version&gt;\r\n        \t&lt;postgres.version&gt;9.1-901.jdbc4&lt;/postgres.version&gt;\r\n        \t&lt;cli.version&gt;1.5.0&lt;/cli.version&gt;\r\n        \t&lt;liquibase.version&gt;4.9.1&lt;/liquibase.version&gt;\r\n        \t&lt;junit.version&gt;4.13.2&lt;/junit.version&gt;\r\n        \r\n        &lt;/properties&gt;\r\n        \r\n        &lt;dependencyManagement&gt;\r\n        \t&lt;dependencies&gt;\r\n        \t\t&lt;!-- https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-tomcat --&gt;\r\n        \t\t&lt;dependency&gt;\r\n        \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        \t\t\t&lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n        \t\t\t&lt;version&gt;3.0.6&lt;/version&gt;\r\n        \t\t&lt;/dependency&gt;\r\n        \t&lt;/dependencies&gt;\r\n        &lt;/dependencyManagement&gt;\r\n        \r\n        &lt;dependencies&gt;\r\n        \t&lt;!-- https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-batch --&gt;\r\n        \t&lt;dependency&gt;\r\n        \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        \t\t&lt;artifactId&gt;spring-boot-starter-batch&lt;/artifactId&gt;\r\n        \t\t&lt;version&gt;3.0.6&lt;/version&gt;\r\n        \t&lt;/dependency&gt;\r\n        \t&lt;!-- https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-actuator --&gt;\r\n        \t&lt;dependency&gt;\r\n        \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        \t\t&lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n        \t\t&lt;version&gt;3.0.6&lt;/version&gt;\r\n        \t&lt;/dependency&gt;\r\n        \t&lt;!-- https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-cache --&gt;\r\n        \t&lt;dependency&gt;\r\n        \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        \t\t&lt;artifactId&gt;spring-boot-starter-cache&lt;/artifactId&gt;\r\n        \t\t&lt;version&gt;3.0.6&lt;/version&gt;\r\n        \t&lt;/dependency&gt;\r\n        \t&lt;!-- https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-hateoas --&gt;\r\n        \t&lt;dependency&gt;\r\n        \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        \t\t&lt;artifactId&gt;spring-boot-starter-hateoas&lt;/artifactId&gt;\r\n        \t\t&lt;version&gt;3.0.6&lt;/version&gt;\r\n        \t&lt;/dependency&gt;\r\n        \t&lt;!-- https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-web --&gt;\r\n        \t&lt;dependency&gt;\r\n        \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        \t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        \t\t&lt;version&gt;3.0.6&lt;/version&gt;\r\n        \t&lt;/dependency&gt;\r\n        \t&lt;!-- https://mvnrepository.com/artifact/org.hibernate.orm/hibernate-core --&gt;\r\n        \t&lt;dependency&gt;\r\n        \t\t&lt;groupId&gt;org.hibernate.orm&lt;/groupId&gt;\r\n        \t\t&lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n        \t\t&lt;version&gt;6.2.2.Final&lt;/version&gt;\r\n        \t&lt;/dependency&gt;\r\n        \t&lt;!-- https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-logging --&gt;\r\n        \t&lt;dependency&gt;\r\n        \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        \t\t&lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\r\n        \t\t&lt;version&gt;3.0.6&lt;/version&gt;\r\n        \t&lt;/dependency&gt;\r\n        \t&lt;!-- https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-devtools --&gt;\r\n        \t&lt;dependency&gt;\r\n        \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        \t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n        \t\t&lt;version&gt;3.0.6&lt;/version&gt;\r\n        \t&lt;/dependency&gt;\r\n        \t&lt;!-- https://mvnrepository.com/artifact/org.projectlombok/lombok-maven-plugin --&gt;\r\n        \t&lt;dependency&gt;\r\n        \t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n        \t\t&lt;artifactId&gt;lombok-maven-plugin&lt;/artifactId&gt;\r\n        \t\t&lt;version&gt;1.18.20.0&lt;/version&gt;\r\n        \t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n        \t&lt;/dependency&gt;\r\n        \t&lt;!-- https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter --&gt;\r\n        \t&lt;dependency&gt;\r\n        \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        \t\t&lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n        \t\t&lt;version&gt;3.0.6&lt;/version&gt;\r\n        \t&lt;/dependency&gt;\r\n        \t&lt;!-- https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-data-jpa --&gt;\r\n        \t&lt;dependency&gt;\r\n        \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        \t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n        \t\t&lt;version&gt;3.0.6&lt;/version&gt;\r\n        \t&lt;/dependency&gt;\r\n        \t&lt;!-- https://mvnrepository.com/artifact/javax.persistence/javax.persistence-api --&gt;\r\n        \t&lt;!-- https://mvnrepository.com/artifact/javax.persistence/persistence-api --&gt;\r\n        \t&lt;dependency&gt;\r\n        \t\t&lt;groupId&gt;org.hibernate.javax.persistence&lt;/groupId&gt;\r\n        \t\t&lt;artifactId&gt;hibernate-jpa-2.1-api&lt;/artifactId&gt;\r\n        \t\t&lt;version&gt;1.0.0.Final&lt;/version&gt;\r\n        \t&lt;/dependency&gt;\r\n        \r\n        &lt;/dependencies&gt;\r\n        \r\n        &lt;build&gt;\r\n        \t&lt;plugins&gt;\r\n        \t\t&lt;plugin&gt;\r\n        \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        \t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n        \t\t\t&lt;version&gt;${spring.boot.version}&lt;/version&gt;\r\n        \t\t\t&lt;configuration&gt;\r\n        \t\t\t\t&lt;mainClass&gt;net.ldauvilaire.sample.batch.Application&lt;/mainClass&gt;\r\n        \t\t\t&lt;/configuration&gt;\r\n        \t\t\t&lt;executions&gt;\r\n        \t\t\t\t&lt;execution&gt;\r\n        \t\t\t\t\t&lt;goals&gt;\r\n        \t\t\t\t\t\t&lt;goal&gt;repackage&lt;/goal&gt;\r\n        \t\t\t\t\t&lt;/goals&gt;\r\n        \t\t\t\t&lt;/execution&gt;\r\n        \t\t\t&lt;/executions&gt;\r\n        \t\t&lt;/plugin&gt;\r\n        \t&lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n\r\njava: incompatible types: javax.persistence.EntityManager cannot be converted to jakarta.persistence.EntityManagerFactory","title":"I am using javax api but the entitymanager is calling jakarta. persistence api","body":"<p>i am using javax.persistence API to create a spring batch application however the EntityManager and EntityFactory Manager are calling Jakarta persistence API.</p>\n<pre><code>package com.example.demo.Config;\n\nimport com.example.demo.Entity.Earmark;\nimport com.example.demo.Repository.EarmarkRepository;\nimport org.springframework.batch.core.Job;\nimport org.springframework.batch.core.Step;\nimport org.springframework.batch.core.configuration.annotation.EnableBatchProcessing;\nimport org.springframework.batch.core.configuration.annotation.JobBuilderFactory;\nimport org.springframework.batch.core.configuration.annotation.StepBuilderFactory;\nimport org.springframework.batch.core.launch.support.RunIdIncrementer;\nimport org.springframework.batch.item.database.JpaPagingItemReader;\nimport org.springframework.batch.item.ItemReader;\nimport org.springframework.batch.item.ItemWriter;\nimport org.springframework.batch.item.database.JpaItemWriter;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.transaction.annotation.EnableTransactionManagement;\n\nimport javax.persistence.EntityManager;\nimport javax.persistence.EntityManagerFactory;\nimport java.util.Collections;\n\n@Configuration\n@EnableBatchProcessing\n@EnableTransactionManagement\npublic class EarmarkJobConfig {\n\n    private EntityManager entityManager;\n    \n    @Autowired\n    private EntityManagerFactory entityManagerFactory;\n    \n    @Autowired\n    private final JobBuilderFactory jobBuilderFactory;\n    \n    @Autowired\n    private final StepBuilderFactory stepBuilderFactory;\n    \n    @Autowired\n    private final EarmarkRepository earmarkRepository;\n    \n    private EarmarkJobConfig(JobBuilderFactory jobBuilderFactory,\n                             StepBuilderFactory stepBuilderFactory,\n                             EarmarkRepository earmarkRepository) {\n        this.jobBuilderFactory = jobBuilderFactory;\n        this.stepBuilderFactory = stepBuilderFactory;\n        this.earmarkRepository = earmarkRepository;\n    }\n    \n    public static EarmarkJobConfig createEarmarkJobConfig(JobBuilderFactory jobBuilderFactory,\n                                                          StepBuilderFactory stepBuilderFactory,\n                                                          EarmarkRepository earmarkRepository) {\n        return new EarmarkJobConfig(jobBuilderFactory, stepBuilderFactory, earmarkRepository);\n    }\n    \n    @Bean\n    public ItemReader&lt;Earmark&gt; earmarkItemReader() {\n        JpaPagingItemReader&lt;Earmark&gt; reader = new JpaPagingItemReader&lt;&gt;();\n        reader.setEntityManagerFactory(entityManager);\n        reader.setQueryString(&quot;SELECT e FROM Earmark e WHERE e.status = 'Pending'&quot;);\n        reader.setParameterValues(Collections.emptyMap());\n        reader.setPageSize(100);\n        return reader;\n    }\n    \n    @Bean\n    public EarmarkItemProcessor earmarkItemProcessor() {\n        return new EarmarkItemProcessor();\n    }\n    \n    @Bean\n    public ItemWriter&lt;Earmark&gt; earmarkItemWriter() {\n        JpaItemWriter&lt;Earmark&gt; writer = new JpaItemWriter&lt;&gt;();\n        writer.setEntityManagerFactory(entityManager);\n        return writer;\n    }\n    \n    @Bean\n    public Step earmarkStep() {\n        return stepBuilderFactory.get(&quot;earmarkStep&quot;)\n                .&lt;Earmark, Earmark&gt;chunk(100)\n                .reader(earmarkItemReader())\n                .processor(earmarkItemProcessor())\n                .writer(earmarkItemWriter())\n                .build();\n    }\n    \n    @Bean\n    public Job earmarkJob() {\n        return jobBuilderFactory.get(&quot;jobName&quot;)\n                .incrementer(new RunIdIncrementer())\n                .start(earmarkStep())\n                .build();\n    }\n\n}\n\n</code></pre>\n<p>I tried changing pom.xml versions and tried excluding the javax api then jakarta api alternatively as well but still am getting the same error</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n\\&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;\\&gt;\n\\&lt;modelVersion\\&gt;4.0.0\\&lt;/modelVersion\\&gt;\n\\&lt;parent\\&gt;\n\\&lt;groupId\\&gt;org.springframework.boot\\&lt;/groupId\\&gt;\n\\&lt;artifactId\\&gt;spring-boot-starter-parent\\&lt;/artifactId\\&gt;\n\\&lt;version\\&gt;3.0.6\\&lt;/version\\&gt;\n\\&lt;relativePath/\\&gt; \\&lt;!-- lookup parent from repository --\\&gt;\n\\&lt;/parent\\&gt;\n\\&lt;groupId\\&gt;com.example\\&lt;/groupId\\&gt;\n\\&lt;artifactId\\&gt;demo\\&lt;/artifactId\\&gt;\n\\&lt;version\\&gt;0.0.1-SNAPSHOT\\&lt;/version\\&gt;\n\\&lt;name\\&gt;JavaApplication\\&lt;/name\\&gt;\n\\&lt;description\\&gt;Demo project for Spring Boot\\&lt;/description\\&gt;\n\\&lt;properties\\&gt;\n\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    \n        &lt;maven.compiler.source&gt;${java.version}&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;${java.version}&lt;/maven.compiler.target&gt;\n    \n        &lt;spring.boot.version&gt;2.6.7&lt;/spring.boot.version&gt;\n        &lt;hibernate.core.version&gt;5.5.7&lt;/hibernate.core.version&gt;\n        &lt;h2.version&gt;2.1.212&lt;/h2.version&gt;\n        &lt;c3p0.version&gt;0.9.1.2&lt;/c3p0.version&gt;\n        &lt;postgres.version&gt;9.1-901.jdbc4&lt;/postgres.version&gt;\n        &lt;cli.version&gt;1.5.0&lt;/cli.version&gt;\n        &lt;liquibase.version&gt;4.9.1&lt;/liquibase.version&gt;\n        &lt;junit.version&gt;4.13.2&lt;/junit.version&gt;\n    \n    &lt;/properties&gt;\n    \n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;!-- https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-tomcat --&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n                &lt;version&gt;3.0.6&lt;/version&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n    \n    &lt;dependencies&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-batch --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-batch&lt;/artifactId&gt;\n            &lt;version&gt;3.0.6&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-actuator --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n            &lt;version&gt;3.0.6&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-cache --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-cache&lt;/artifactId&gt;\n            &lt;version&gt;3.0.6&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-hateoas --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-hateoas&lt;/artifactId&gt;\n            &lt;version&gt;3.0.6&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-web --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n            &lt;version&gt;3.0.6&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.hibernate.orm/hibernate-core --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate.orm&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n            &lt;version&gt;6.2.2.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-logging --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\n            &lt;version&gt;3.0.6&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-devtools --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;version&gt;3.0.6&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.projectlombok/lombok-maven-plugin --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;1.18.20.0&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n            &lt;version&gt;3.0.6&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-data-jpa --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n            &lt;version&gt;3.0.6&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/javax.persistence/javax.persistence-api --&gt;\n        &lt;!-- https://mvnrepository.com/artifact/javax.persistence/persistence-api --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate.javax.persistence&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-jpa-2.1-api&lt;/artifactId&gt;\n            &lt;version&gt;1.0.0.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n    \n    &lt;/dependencies&gt;\n    \n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${spring.boot.version}&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;mainClass&gt;net.ldauvilaire.sample.batch.Application&lt;/mainClass&gt;\n                &lt;/configuration&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;repackage&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n</code></pre>\n<p>java: incompatible types: javax.persistence.EntityManager cannot be converted to jakarta.persistence.EntityManagerFactory</p>\n"},{"tags":["java","reactive-programming","quarkus","quarkus-panache","quarkus-reactive"],"answers":[{"comments":[{"owner":{"account_id":58650,"reputation":3399,"user_id":175554,"accept_rate":40,"display_name":"ozkanpakdil"},"score":1,"creation_date":1682451582,"post_id":76101341,"comment_id":134217255,"body_markdown":"that code with chains looks like calling dogs and cats sequential not parallel, isn&#39;t it the whole idea of using **Uni** to make it all parallel ?","body":"that code with chains looks like calling dogs and cats sequential not parallel, isn&#39;t it the whole idea of using <b>Uni</b> to make it all parallel ?"},{"owner":{"account_id":6359950,"reputation":31,"user_id":4935751,"display_name":"Luka Juršnik"},"score":1,"creation_date":1682488116,"post_id":76101341,"comment_id":134221903,"body_markdown":"@ozkanpakdil yes you are right, but i need sadly say for now i don&#39;t found other working solution. if anyone has a better solution, especially parallel, I will be extremely happy if they share it with us","body":"@ozkanpakdil yes you are right, but i need sadly say for now i don&#39;t found other working solution. if anyone has a better solution, especially parallel, I will be extremely happy if they share it with us"},{"owner":{"account_id":7465730,"reputation":583,"user_id":5675380,"display_name":"Matthieu H"},"score":0,"creation_date":1682596113,"post_id":76101341,"comment_id":134242550,"body_markdown":"Your answer could be improved by adding a code example. Please [edit] to add a [Minimal, Reproducible Example](https://stackoverflow.com/help/minimal-reproducible-example), so that others can confirm that your answer is correct.","body":"Your answer could be improved by adding a code example. Please <a href=\"https://stackoverflow.com/posts/76101341/edit\">edit</a> to add a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">Minimal, Reproducible Example</a>, so that others can confirm that your answer is correct."}],"tags":[],"owner":{"account_id":6359950,"reputation":31,"user_id":4935751,"display_name":"Luka Juršnik"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1682660433,"creation_date":1682426916,"answer_id":76101341,"question_id":76072695,"body_markdown":"I found solution on Quarkus issues page (https://github.com/quarkusio/quarkus/issues/28808) and commit solution to existing project(https://github.com/Lukec1/quarkus-3.0.0.CR2-sample/commit/98a4791571334a898716d7780a87d993d443f5c6).\r\n\r\n**Edited:** recognized problem is when using Panache Hibernate Reactive and `Uni.combine`. Because of that i now use chain approach which does not work in parallel as we would like with the `Uni.combine`.\r\n\r\nZooService\r\n```java\r\n  public Uni&lt;List&lt;Dog&gt;&gt; getDogs(String owner) {\r\n    return zooRepository.getDogs(owner);\r\n  }\r\n\r\n  public Uni&lt;List&lt;Cat&gt;&gt; getCats(String owner) {\r\n    return zooRepository.getCats(owner);\r\n  }\r\n\r\n  public Uni&lt;List&lt;Rat&gt;&gt; getRats(String owner) {\r\n    return zooRepository.getRats(owner);\r\n  }\r\n\r\n  public Uni&lt;List&lt;Dolphin&gt;&gt; getDoplphins(String owner) {\r\n    return zooRepository.getDoplphins(owner);\r\n  }\r\n```\r\n\r\nZooRepository\r\n```java\r\nprivate Uni&lt;List&lt;AnimalEntity&gt;&gt; getAnimals(String ownerId, AnimalType animalType) {\r\n    return list(&quot;ownerId = ?1 AND animalType = ?2&quot;, ownerId, animalType).log()\r\n        .onItem()\r\n        .invoke(\r\n            result -&gt;\r\n                log.debug(\r\n                    &quot;Found {} entities for parameters &#39;{}&#39; - &#39;{}&#39;&quot;,\r\n                    result.size(),\r\n                    ownerId,\r\n                    animalType))\r\n        .onFailure()\r\n        .invoke(\r\n            throwable -&gt;\r\n                log.error(\r\n                    &quot;Error while getting accounts for parameters &#39;{}&#39; - &#39;{}&#39;&quot;,\r\n                    ownerId,\r\n                    animalType,\r\n                    throwable));\r\n  }\r\n\r\n  @WithSession\r\n  public Uni&lt;List&lt;Dog&gt;&gt; getDogs(String ownerId) {\r\n    return getAnimals(ownerId, AnimalType.DOG).map(animalEntityMapper::mapToDogs);\r\n  }\r\n\r\n  @WithSession\r\n  public Uni&lt;List&lt;Cat&gt;&gt; getCats(String ownerId) {\r\n    return getAnimals(ownerId, AnimalType.CAT).map(animalEntityMapper::mapToCats);\r\n  }\r\n\r\n  @WithSession\r\n  public Uni&lt;List&lt;Rat&gt;&gt; getRats(String ownerId) {\r\n    return getAnimals(ownerId, AnimalType.RAT).map(animalEntityMapper::mapToRats);\r\n  }\r\n\r\n  @WithSession\r\n  public Uni&lt;List&lt;Dolphin&gt;&gt; getDoplphins(String ownerId) {\r\n    return getAnimals(ownerId, AnimalType.DOLPHIN).map(animalEntityMapper::mapToDolphins);\r\n  }\r\n```\r\n\r\nCode which need to work, but not:\r\n```java\r\n    Uni&lt;List&lt;Dog&gt;&gt; dogs = zooService.getDogs(owner);\r\n    Uni&lt;List&lt;Cat&gt;&gt; cats = zooService.getCats(owner);\r\n    Uni&lt;List&lt;Rat&gt;&gt; rats = zooService.getRats(owner);\r\n    Uni&lt;List&lt;Dolphin&gt;&gt; dolphins = zooService.getDoplphins(owner);\r\n    \r\n    final AnimalsDto summary = new AnimalsDto();\r\n    \r\n    return Uni.combine().all().unis(dogs, cats, rats, \r\n    dolphins).asTuple().map(animal -&gt; {\r\n         summary.setDogs(animal.getItem1());\r\n         summary.setCats(animal.getItem2());\r\n         summary.setRats(animal.getItem3());\r\n         summary.setDolphins(animal.getItem4());\r\n         return summary;\r\n    });\r\n```\r\n\r\nand implemented working solution founded from Quarkus github issues:\r\n```java\r\n     return dogs.invoke(summary::setDogs)\r\n        .chain(() -&gt; cats.invoke(summary::setCats))\r\n        .chain(() -&gt; rats.invoke(summary::setRats))\r\n        .chain(() -&gt; dolphins.invoke(summary::setDolphins))\r\n        .replaceWith(summary);\r\n```","title":"How can i reactive list entities with different params in Quarkus 3.0.0.RC2 with hibernate reactive panache library while using repository pattern?","body":"<p>I found solution on Quarkus issues page (<a href=\"https://github.com/quarkusio/quarkus/issues/28808\" rel=\"nofollow noreferrer\">https://github.com/quarkusio/quarkus/issues/28808</a>) and commit solution to existing project(<a href=\"https://github.com/Lukec1/quarkus-3.0.0.CR2-sample/commit/98a4791571334a898716d7780a87d993d443f5c6\" rel=\"nofollow noreferrer\">https://github.com/Lukec1/quarkus-3.0.0.CR2-sample/commit/98a4791571334a898716d7780a87d993d443f5c6</a>).</p>\n<p><strong>Edited:</strong> recognized problem is when using Panache Hibernate Reactive and <code>Uni.combine</code>. Because of that i now use chain approach which does not work in parallel as we would like with the <code>Uni.combine</code>.</p>\n<p>ZooService</p>\n<pre class=\"lang-java prettyprint-override\"><code>  public Uni&lt;List&lt;Dog&gt;&gt; getDogs(String owner) {\n    return zooRepository.getDogs(owner);\n  }\n\n  public Uni&lt;List&lt;Cat&gt;&gt; getCats(String owner) {\n    return zooRepository.getCats(owner);\n  }\n\n  public Uni&lt;List&lt;Rat&gt;&gt; getRats(String owner) {\n    return zooRepository.getRats(owner);\n  }\n\n  public Uni&lt;List&lt;Dolphin&gt;&gt; getDoplphins(String owner) {\n    return zooRepository.getDoplphins(owner);\n  }\n</code></pre>\n<p>ZooRepository</p>\n<pre class=\"lang-java prettyprint-override\"><code>private Uni&lt;List&lt;AnimalEntity&gt;&gt; getAnimals(String ownerId, AnimalType animalType) {\n    return list(&quot;ownerId = ?1 AND animalType = ?2&quot;, ownerId, animalType).log()\n        .onItem()\n        .invoke(\n            result -&gt;\n                log.debug(\n                    &quot;Found {} entities for parameters '{}' - '{}'&quot;,\n                    result.size(),\n                    ownerId,\n                    animalType))\n        .onFailure()\n        .invoke(\n            throwable -&gt;\n                log.error(\n                    &quot;Error while getting accounts for parameters '{}' - '{}'&quot;,\n                    ownerId,\n                    animalType,\n                    throwable));\n  }\n\n  @WithSession\n  public Uni&lt;List&lt;Dog&gt;&gt; getDogs(String ownerId) {\n    return getAnimals(ownerId, AnimalType.DOG).map(animalEntityMapper::mapToDogs);\n  }\n\n  @WithSession\n  public Uni&lt;List&lt;Cat&gt;&gt; getCats(String ownerId) {\n    return getAnimals(ownerId, AnimalType.CAT).map(animalEntityMapper::mapToCats);\n  }\n\n  @WithSession\n  public Uni&lt;List&lt;Rat&gt;&gt; getRats(String ownerId) {\n    return getAnimals(ownerId, AnimalType.RAT).map(animalEntityMapper::mapToRats);\n  }\n\n  @WithSession\n  public Uni&lt;List&lt;Dolphin&gt;&gt; getDoplphins(String ownerId) {\n    return getAnimals(ownerId, AnimalType.DOLPHIN).map(animalEntityMapper::mapToDolphins);\n  }\n</code></pre>\n<p>Code which need to work, but not:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    Uni&lt;List&lt;Dog&gt;&gt; dogs = zooService.getDogs(owner);\n    Uni&lt;List&lt;Cat&gt;&gt; cats = zooService.getCats(owner);\n    Uni&lt;List&lt;Rat&gt;&gt; rats = zooService.getRats(owner);\n    Uni&lt;List&lt;Dolphin&gt;&gt; dolphins = zooService.getDoplphins(owner);\n    \n    final AnimalsDto summary = new AnimalsDto();\n    \n    return Uni.combine().all().unis(dogs, cats, rats, \n    dolphins).asTuple().map(animal -&gt; {\n         summary.setDogs(animal.getItem1());\n         summary.setCats(animal.getItem2());\n         summary.setRats(animal.getItem3());\n         summary.setDolphins(animal.getItem4());\n         return summary;\n    });\n</code></pre>\n<p>and implemented working solution founded from Quarkus github issues:</p>\n<pre class=\"lang-java prettyprint-override\"><code>     return dogs.invoke(summary::setDogs)\n        .chain(() -&gt; cats.invoke(summary::setCats))\n        .chain(() -&gt; rats.invoke(summary::setRats))\n        .chain(() -&gt; dolphins.invoke(summary::setDolphins))\n        .replaceWith(summary);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":58650,"reputation":3399,"user_id":175554,"accept_rate":40,"display_name":"ozkanpakdil"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1683544282,"creation_date":1683129696,"answer_id":76165969,"question_id":76072695,"body_markdown":"By design **hibernate reactive** can not share a session on parallel threads which is blocking using it with Uni or Mutiny.\r\n\r\n&gt; The problem is that Hibernate Reactive needs operations on the database to happen in a predictable order to avoid errors when managing entities. So, you cannot share the same session among different threads or uni streams.\r\n\r\n&gt;We don&#39;t have a solution for this at the moment, and chaining the uni is the only way to be sure that everything will work as expected.\r\n\r\nHere is the [real source](https://github.com/hibernate/hibernate-reactive/issues/1615)","title":"How can i reactive list entities with different params in Quarkus 3.0.0.RC2 with hibernate reactive panache library while using repository pattern?","body":"<p>By design <strong>hibernate reactive</strong> can not share a session on parallel threads which is blocking using it with Uni or Mutiny.</p>\n<blockquote>\n<p>The problem is that Hibernate Reactive needs operations on the database to happen in a predictable order to avoid errors when managing entities. So, you cannot share the same session among different threads or uni streams.</p>\n</blockquote>\n<blockquote>\n<p>We don't have a solution for this at the moment, and chaining the uni is the only way to be sure that everything will work as expected.</p>\n</blockquote>\n<p>Here is the <a href=\"https://github.com/hibernate/hibernate-reactive/issues/1615\" rel=\"nofollow noreferrer\">real source</a></p>\n"}],"owner":{"account_id":6359950,"reputation":31,"user_id":4935751,"display_name":"Luka Juršnik"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":451,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1683544282,"creation_date":1682076283,"question_id":76072695,"body_markdown":"I am working on a project using Quarkus 3.0.0.CR2 and Hibernate Reactive Panache as the ORM for a reactive application. The application retrieves animals from owners using an API [resource][1] that makes 5 reactive calls to a [service][2], which is forwards to the [database repository implementation][3].\r\n\r\nHowever, when reapeatably running the [unit test][4] or making curl calls to &quot;http://localhost:8080/zoo/animals/Melani&quot;, I am randomly encountering two different errors:\r\n- `org.hibernate.HibernateException: java.util.concurrent.CompletionException: java.lang.IllegalStateException: Session/EntityManager is closed`\r\n- `org.hibernate.HibernateException: java.util.concurrent.CompletionException: java.util.NoSuchElementException`\r\n\r\nCould someone please help me understand why I am encountering these errors and suggest a solution?\r\n\r\nHere is a link to a sample project on Github that demonstrates the error: https://github.com/Lukec1/quarkus-3.0.0.CR2-sample\r\n\r\nThank you in advance for your help.\r\n\r\n\r\n  [1]: https://github.com/Lukec1/quarkus-3.0.0.CR2-sample/blob/main/src/main/java/org/acme/ZooResource.java\r\n  [2]: https://github.com/Lukec1/quarkus-3.0.0.CR2-sample/blob/main/src/main/java/org/acme/ZooService.java\r\n  [3]: https://github.com/Lukec1/quarkus-3.0.0.CR2-sample/blob/main/src/main/java/org/acme/ZooRepository.java\r\n  [4]: https://github.com/Lukec1/quarkus-3.0.0.CR2-sample/blob/main/src/test/java/org/acme/ZooResourceTest.java","title":"How can i reactive list entities with different params in Quarkus 3.0.0.RC2 with hibernate reactive panache library while using repository pattern?","body":"<p>I am working on a project using Quarkus 3.0.0.CR2 and Hibernate Reactive Panache as the ORM for a reactive application. The application retrieves animals from owners using an API <a href=\"https://github.com/Lukec1/quarkus-3.0.0.CR2-sample/blob/main/src/main/java/org/acme/ZooResource.java\" rel=\"nofollow noreferrer\">resource</a> that makes 5 reactive calls to a <a href=\"https://github.com/Lukec1/quarkus-3.0.0.CR2-sample/blob/main/src/main/java/org/acme/ZooService.java\" rel=\"nofollow noreferrer\">service</a>, which is forwards to the <a href=\"https://github.com/Lukec1/quarkus-3.0.0.CR2-sample/blob/main/src/main/java/org/acme/ZooRepository.java\" rel=\"nofollow noreferrer\">database repository implementation</a>.</p>\n<p>However, when reapeatably running the <a href=\"https://github.com/Lukec1/quarkus-3.0.0.CR2-sample/blob/main/src/test/java/org/acme/ZooResourceTest.java\" rel=\"nofollow noreferrer\">unit test</a> or making curl calls to &quot;http://localhost:8080/zoo/animals/Melani&quot;, I am randomly encountering two different errors:</p>\n<ul>\n<li><code>org.hibernate.HibernateException: java.util.concurrent.CompletionException: java.lang.IllegalStateException: Session/EntityManager is closed</code></li>\n<li><code>org.hibernate.HibernateException: java.util.concurrent.CompletionException: java.util.NoSuchElementException</code></li>\n</ul>\n<p>Could someone please help me understand why I am encountering these errors and suggest a solution?</p>\n<p>Here is a link to a sample project on Github that demonstrates the error: <a href=\"https://github.com/Lukec1/quarkus-3.0.0.CR2-sample\" rel=\"nofollow noreferrer\">https://github.com/Lukec1/quarkus-3.0.0.CR2-sample</a></p>\n<p>Thank you in advance for your help.</p>\n"},{"tags":["java","advanced-installer"],"answers":[{"tags":[],"owner":{"account_id":1876846,"reputation":1214,"user_id":1697893,"display_name":"herman.smn"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1683543960,"creation_date":1683543960,"answer_id":76199974,"question_id":76179375,"body_markdown":"If you want to install in ProgramData only when the installation type is set to per-user, then you should leave the default installation location set [AI_UserProgramFiles]. Then you should just use a custom action that sets APPDIR property to [CommonAppDataFolder]. This custom action can be added as a published event on Next button.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/t1UI6.png","title":"How can I change location for per-user and per-machine installations in Advanced Installer","body":"<p>If you want to install in ProgramData only when the installation type is set to per-user, then you should leave the default installation location set [AI_UserProgramFiles]. Then you should just use a custom action that sets APPDIR property to [CommonAppDataFolder]. This custom action can be added as a published event on Next button.</p>\n<p><a href=\"https://i.stack.imgur.com/t1UI6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/t1UI6.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":27948865,"reputation":1,"user_id":21343225,"display_name":"Milosz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1683543960,"creation_date":1683268287,"question_id":76179375,"body_markdown":"I want to add an per-user and per-machine installation type to my Advanced Installer project.\r\nHowever default installation location is [AI_UserProgramFiles] which resolves to ProgramFiles in per-machine and LocalAppData in per-user installations. \r\nThis does not work, because my application downloads libs with Maven and saves temporary files, so I need non-administrative users to be able to modify contents of the per-machine location folder. \r\n\r\n\r\nI thought ProgramData might be a good place, so I changed ApplicationFolder to [CommonAppDataFolder], but now the application is installed in ProgramData folder in both types (per-user and per-machine), which I do not think is right.\r\nWhat folder should I use?","title":"How can I change location for per-user and per-machine installations in Advanced Installer","body":"<p>I want to add an per-user and per-machine installation type to my Advanced Installer project.\nHowever default installation location is [AI_UserProgramFiles] which resolves to ProgramFiles in per-machine and LocalAppData in per-user installations.\nThis does not work, because my application downloads libs with Maven and saves temporary files, so I need non-administrative users to be able to modify contents of the per-machine location folder.</p>\n<p>I thought ProgramData might be a good place, so I changed ApplicationFolder to [CommonAppDataFolder], but now the application is installed in ProgramData folder in both types (per-user and per-machine), which I do not think is right.\nWhat folder should I use?</p>\n"},{"tags":["java","spring","spring-boot","webclient","pageable"],"answers":[{"tags":[],"owner":{"account_id":7678261,"reputation":638,"user_id":5818372,"accept_rate":69,"display_name":"Gykonik"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1611070826,"creation_date":1611070826,"answer_id":65794720,"question_id":65760141,"body_markdown":"**I found an answer to this question on my own.**\r\n\r\nThe problem is the fact, that Account is abstract and has json subtypes. By replacing `public class CustomPageImpl&lt;T&gt; extends PageImpl&lt;T&gt;` by `public class CustomPageImpl&lt;T extends Account&gt; extends PageImpl&lt;T&gt;` I was able to solve this issue. Now I receive the type as planned.","title":"Missing Attribute &#39;type&#39; in Spring WebClient Response for Microservice Communication","body":"<p><strong>I found an answer to this question on my own.</strong></p>\n<p>The problem is the fact, that Account is abstract and has json subtypes. By replacing <code>public class CustomPageImpl&lt;T&gt; extends PageImpl&lt;T&gt;</code> by <code>public class CustomPageImpl&lt;T extends Account&gt; extends PageImpl&lt;T&gt;</code> I was able to solve this issue. Now I receive the type as planned.</p>\n"},{"tags":[],"owner":{"account_id":10085235,"reputation":441,"user_id":7454104,"display_name":"Flavio Oliva"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679417251,"creation_date":1679417251,"answer_id":75804087,"question_id":65760141,"body_markdown":"If you don&#39;t want to implement your CustomPageImpl you can register a module in Jackson ObjectMapper.\r\n\r\n```java\r\n@Configuration\r\npublic class JacksonConfiguration {\r\n\r\n    @Bean\r\n    public ObjectMapper objectMapper() {\r\n        return new ObjectMapper()\r\n            .registerModule(new PageJacksonModule())\r\n            .registerModule(new SortJacksonModule());\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\n`SortJacksonModule` and `PageJacksonModule` comes from `org.springframework.cloud.openfeign.support`\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-cloud-starter-openfeign&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\n","title":"Missing Attribute &#39;type&#39; in Spring WebClient Response for Microservice Communication","body":"<p>If you don't want to implement your CustomPageImpl you can register a module in Jackson ObjectMapper.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\npublic class JacksonConfiguration {\n\n    @Bean\n    public ObjectMapper objectMapper() {\n        return new ObjectMapper()\n            .registerModule(new PageJacksonModule())\n            .registerModule(new SortJacksonModule());\n    }\n\n}\n\n</code></pre>\n<p><code>SortJacksonModule</code> and <code>PageJacksonModule</code> comes from <code>org.springframework.cloud.openfeign.support</code></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-cloud-starter-openfeign&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":7678261,"reputation":638,"user_id":5818372,"accept_rate":69,"display_name":"Gykonik"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":737,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":65794720,"answer_count":2,"score":0,"last_activity_date":1683543550,"creation_date":1610883649,"question_id":65760141,"body_markdown":"I want to use WebClient to retrieve a page from another microservice. When I directly request the microservice using Postman, the response includes the `type` attribute among other fields in the `content` section. However, when I make the request via WebClient, the `type` attribute (and some other fields) disappear from the `content` section. The `content` is a list of objects of the abstract class `Account`. which uses `JsonSubTypes` for polymorphic deserialization.\r\n\r\nCan someone help me identify the mistake and understand why the &quot;type&quot; attribute disappears when using WebClient to call the microservice? \r\n\r\nHere are the sample responses for comparison:\r\n\r\n\r\n**Responses**\r\n\r\n*Response from `http://localhost:8080/api/v1/accounts`*\r\n\r\n\t{\r\n\t\t&quot;content&quot;: [\r\n\t\t\t{\r\n\t\t\t\t&quot;type&quot;: &quot;savingsBook&quot;,\r\n\t\t\t\t&quot;id&quot;: 108,\r\n\t\t\t\t&quot;accountNumber&quot;: 99781944,\r\n\t\t\t\t...\r\n\t\t\t}\r\n\t\t], &quot;pageable&quot;: {\r\n\t\t\t...\r\n\t\t}, &quot;totalPages&quot;: ...\r\n\t\t...\r\n\t}\r\n\t\t\r\n*Response from `http://localhost:8081/accounts`*\r\n\r\n\t{\r\n\t\t&quot;content&quot;: [\r\n\t\t\t{\r\n\t\t\t\t&quot;id&quot;: 108,\r\n\t\t\t\t&quot;accountNumber&quot;: 99781944,\r\n\t\t\t\t...\r\n\t\t\t}\r\n\t\t], &quot;pageable&quot;: {\r\n\t\t\t...\r\n\t\t}, &quot;totalPages&quot;: ...\r\n\t\t...\r\n\t}\r\n\r\n**Code-Snippets:**\r\n\r\n*8080&#39;s account controller*\r\n\r\n    @RequestMapping(method = RequestMethod.GET, produces = &quot;application/json&quot;)\r\n    public &lt;T extends Account&gt; Page&lt;T&gt; getAccounts(@RequestParam(value = &quot;page&quot;, required = false) Integer page, @RequestParam(value = &quot;pageSize&quot;, required = false) Integer pageSize, @RequestParam(value = &quot;sortBy&quot;, required = false) String sortBy) {\r\n        if (page == null) {\r\n            page = 0;\r\n        }\r\n        if (pageSize == null) {\r\n            pageSize = 10;\r\n        }\r\n\t\tif (sortBy == null) {\r\n\t\t\tPage&lt;T&gt; p = accountService.getAccounts(page, pageSize);\r\n\t\t\treturn new PageImpl&lt;T&gt;(p.getContent(), p.getPageable(), p.getTotalElements()) {};\r\n\r\n\t\t} else {\r\n\t\t\tSort sort = Sort.by(sortBy);\r\n\t\t\tPage&lt;T&gt; p = accountService.getAccounts(page, pageSize, sort);\r\n\t\t\treturn new PageImpl&lt;T&gt;(p.getContent(), p.getPageable(), p.getTotalElements()) {};\r\n\t\t}\r\n\t}\r\n\r\n*8081 Account Controler*\r\n\r\n    @GetMapping\r\n    public  &lt;T extends Account&gt; Page&lt;T&gt; getAllAccounts(@RequestParam(value = &quot;page&quot;, required = false) Integer page, \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t   @RequestParam(value = &quot;pageSize&quot;, required = false) Integer pageSize,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t   @RequestParam(value = &quot;sortBy&quot;, required = false) String sortBy) {\t\r\n    \t if (page == null) {\r\n             page = 0;\r\n         }\r\n         if (pageSize == null) {\r\n             pageSize = 10;\r\n         }\r\n         if (sortBy == null) {\r\n             return accountService.getAllAccounts(page, pageSize);\r\n         } else {\r\n             return accountService.getAllAccounts(page, pageSize, sortBy);\r\n         }\r\n    }\r\n\r\n\r\n*8081 AccountService*\r\n\r\n\tpublic &lt;T extends Account&gt; Page&lt;T&gt; getAllAccounts(Integer pageNumber, Integer pageSize) {\r\n\t\tParameterizedTypeReference&lt;CustomPageImpl&lt;T&gt;&gt; typeReference = new ParameterizedTypeReference&lt;CustomPageImpl&lt;T&gt;&gt;(){};\r\n\t\tSystem.out.println(&quot;Anfrage an: &quot; + addr + &quot;/accounts/&quot;);\r\n\t\tSystem.out.println(client.get().uri(&quot;/accounts/&quot;).retrieve().bodyToMono(typeReference).block().getContent());\r\n\t\tPage&lt;T&gt; prodData = (CustomPageImpl&lt;T&gt;)(client.get().uri(&quot;/accounts/&quot;).retrieve().bodyToMono(typeReference).block());\r\n\t\treturn prodData;\r\n\t}\r\n\r\n*CustomPageImpl (got it from another StackOverflow-Post)*\r\n\r\n\tpublic class CustomPageImpl&lt;T&gt; extends PageImpl&lt;T&gt; {\r\n\t\tprivate static final long serialVersionUID = 1L;\r\n\r\n\t\t@JsonCreator(mode = JsonCreator.Mode.PROPERTIES)\r\n\t\tpublic CustomPageImpl(@JsonProperty(&quot;content&quot;) List&lt;T&gt; content,\r\n\t\t\t\t@JsonProperty(&quot;number&quot;) int number,\r\n\t\t\t\t@JsonProperty(&quot;size&quot;) int size,\r\n\t\t\t\t@JsonProperty(&quot;totalElements&quot;) Long totalElements,\r\n\t\t\t\t@JsonProperty(&quot;pageable&quot;) JsonNode pageable,\r\n\t\t\t\t@JsonProperty(&quot;last&quot;) boolean last,\r\n\t\t\t\t@JsonProperty(&quot;totalPages&quot;) int totalPages,\r\n\t\t\t\t@JsonProperty(&quot;sort&quot;) JsonNode sort,\r\n\t\t\t\t@JsonProperty(&quot;first&quot;) boolean first,\r\n\t\t\t\t@JsonProperty(&quot;numberOfElements&quot;) int numberOfElements){\r\n\t\t\tsuper(content, PageRequest.of(number, size) , totalElements);\r\n\t\t}\r\n\t\tpublic CustomPageImpl(List&lt;T&gt; content, Pageable pageable, long total) {\r\n\t\t\tsuper(content, pageable, total);\r\n\t\t}\r\n\r\n\t\tpublic CustomPageImpl(List&lt;T&gt; content) {\r\n\t\t\tsuper(content);\r\n\t\t}\r\n\r\n\t\tpublic CustomPageImpl() {\r\n\t\t\tsuper(new ArrayList&lt;&gt;());\r\n\t\t}\r\n\t}\r\n\t\t\r\n","title":"Missing Attribute &#39;type&#39; in Spring WebClient Response for Microservice Communication","body":"<p>I want to use WebClient to retrieve a page from another microservice. When I directly request the microservice using Postman, the response includes the <code>type</code> attribute among other fields in the <code>content</code> section. However, when I make the request via WebClient, the <code>type</code> attribute (and some other fields) disappear from the <code>content</code> section. The <code>content</code> is a list of objects of the abstract class <code>Account</code>. which uses <code>JsonSubTypes</code> for polymorphic deserialization.</p>\n<p>Can someone help me identify the mistake and understand why the &quot;type&quot; attribute disappears when using WebClient to call the microservice?</p>\n<p>Here are the sample responses for comparison:</p>\n<p><strong>Responses</strong></p>\n<p><em>Response from <code>http://localhost:8080/api/v1/accounts</code></em></p>\n<pre><code>{\n    &quot;content&quot;: [\n        {\n            &quot;type&quot;: &quot;savingsBook&quot;,\n            &quot;id&quot;: 108,\n            &quot;accountNumber&quot;: 99781944,\n            ...\n        }\n    ], &quot;pageable&quot;: {\n        ...\n    }, &quot;totalPages&quot;: ...\n    ...\n}\n    \n</code></pre>\n<p><em>Response from <code>http://localhost:8081/accounts</code></em></p>\n<pre><code>{\n    &quot;content&quot;: [\n        {\n            &quot;id&quot;: 108,\n            &quot;accountNumber&quot;: 99781944,\n            ...\n        }\n    ], &quot;pageable&quot;: {\n        ...\n    }, &quot;totalPages&quot;: ...\n    ...\n}\n</code></pre>\n<p><strong>Code-Snippets:</strong></p>\n<p><em>8080's account controller</em></p>\n<pre><code>@RequestMapping(method = RequestMethod.GET, produces = &quot;application/json&quot;)\npublic &lt;T extends Account&gt; Page&lt;T&gt; getAccounts(@RequestParam(value = &quot;page&quot;, required = false) Integer page, @RequestParam(value = &quot;pageSize&quot;, required = false) Integer pageSize, @RequestParam(value = &quot;sortBy&quot;, required = false) String sortBy) {\n    if (page == null) {\n        page = 0;\n    }\n    if (pageSize == null) {\n        pageSize = 10;\n    }\n    if (sortBy == null) {\n        Page&lt;T&gt; p = accountService.getAccounts(page, pageSize);\n        return new PageImpl&lt;T&gt;(p.getContent(), p.getPageable(), p.getTotalElements()) {};\n\n    } else {\n        Sort sort = Sort.by(sortBy);\n        Page&lt;T&gt; p = accountService.getAccounts(page, pageSize, sort);\n        return new PageImpl&lt;T&gt;(p.getContent(), p.getPageable(), p.getTotalElements()) {};\n    }\n}\n</code></pre>\n<p><em>8081 Account Controler</em></p>\n<pre><code>@GetMapping\npublic  &lt;T extends Account&gt; Page&lt;T&gt; getAllAccounts(@RequestParam(value = &quot;page&quot;, required = false) Integer page, \n                                                   @RequestParam(value = &quot;pageSize&quot;, required = false) Integer pageSize,\n                                                   @RequestParam(value = &quot;sortBy&quot;, required = false) String sortBy) {   \n     if (page == null) {\n         page = 0;\n     }\n     if (pageSize == null) {\n         pageSize = 10;\n     }\n     if (sortBy == null) {\n         return accountService.getAllAccounts(page, pageSize);\n     } else {\n         return accountService.getAllAccounts(page, pageSize, sortBy);\n     }\n}\n</code></pre>\n<p><em>8081 AccountService</em></p>\n<pre><code>public &lt;T extends Account&gt; Page&lt;T&gt; getAllAccounts(Integer pageNumber, Integer pageSize) {\n    ParameterizedTypeReference&lt;CustomPageImpl&lt;T&gt;&gt; typeReference = new ParameterizedTypeReference&lt;CustomPageImpl&lt;T&gt;&gt;(){};\n    System.out.println(&quot;Anfrage an: &quot; + addr + &quot;/accounts/&quot;);\n    System.out.println(client.get().uri(&quot;/accounts/&quot;).retrieve().bodyToMono(typeReference).block().getContent());\n    Page&lt;T&gt; prodData = (CustomPageImpl&lt;T&gt;)(client.get().uri(&quot;/accounts/&quot;).retrieve().bodyToMono(typeReference).block());\n    return prodData;\n}\n</code></pre>\n<p><em>CustomPageImpl (got it from another StackOverflow-Post)</em></p>\n<pre><code>public class CustomPageImpl&lt;T&gt; extends PageImpl&lt;T&gt; {\n    private static final long serialVersionUID = 1L;\n\n    @JsonCreator(mode = JsonCreator.Mode.PROPERTIES)\n    public CustomPageImpl(@JsonProperty(&quot;content&quot;) List&lt;T&gt; content,\n            @JsonProperty(&quot;number&quot;) int number,\n            @JsonProperty(&quot;size&quot;) int size,\n            @JsonProperty(&quot;totalElements&quot;) Long totalElements,\n            @JsonProperty(&quot;pageable&quot;) JsonNode pageable,\n            @JsonProperty(&quot;last&quot;) boolean last,\n            @JsonProperty(&quot;totalPages&quot;) int totalPages,\n            @JsonProperty(&quot;sort&quot;) JsonNode sort,\n            @JsonProperty(&quot;first&quot;) boolean first,\n            @JsonProperty(&quot;numberOfElements&quot;) int numberOfElements){\n        super(content, PageRequest.of(number, size) , totalElements);\n    }\n    public CustomPageImpl(List&lt;T&gt; content, Pageable pageable, long total) {\n        super(content, pageable, total);\n    }\n\n    public CustomPageImpl(List&lt;T&gt; content) {\n        super(content);\n    }\n\n    public CustomPageImpl() {\n        super(new ArrayList&lt;&gt;());\n    }\n}\n    \n</code></pre>\n"},{"tags":["java","docker","dockerfile"],"comments":[{"owner":{"account_id":20906298,"reputation":332,"user_id":15358155,"display_name":"chameerar"},"score":0,"creation_date":1683530544,"post_id":76198075,"comment_id":134375152,"body_markdown":"Have you tried using `docker exec` after staring the container, if it works for your case.","body":"Have you tried using <code>docker exec</code> after staring the container, if it works for your case."},{"owner":{"account_id":19829224,"reputation":147,"user_id":14524187,"display_name":"lakshman"},"score":0,"creation_date":1683530658,"post_id":76198075,"comment_id":134375177,"body_markdown":"container itself doesn&#39;t run and exists immediately","body":"container itself doesn&#39;t run and exists immediately"},{"owner":{"account_id":13863020,"reputation":137043,"user_id":10008173,"display_name":"David Maze"},"score":0,"creation_date":1683541608,"post_id":76198075,"comment_id":134377335,"body_markdown":"With the code you&#39;ve included, I&#39;d probably expect the last `docker run` command to work, explicitly including the class name at the command line; what does that print out?","body":"With the code you&#39;ve included, I&#39;d probably expect the last <code>docker run</code> command to work, explicitly including the class name at the command line; what does that print out?"},{"owner":{"account_id":156394,"reputation":13006,"user_id":1489860,"accept_rate":75,"display_name":"Jeffrey Mixon"},"score":0,"creation_date":1683669195,"post_id":76198075,"comment_id":134401609,"body_markdown":"`docker run -it test:v2 /bin/sh` when pass the argument &quot;/bin/sh&quot; to your entrypoint, which it doesn&#39;t appear to be what you want. What does `docker run --rm test:v2 com.domain.uic559.opcua.OPCUAKafkaStreamUIC559` actually output?","body":"<code>docker run -it test:v2 &#47;bin&#47;sh</code> when pass the argument &quot;/bin/sh&quot; to your entrypoint, which it doesn&#39;t appear to be what you want. What does <code>docker run --rm test:v2 com.domain.uic559.opcua.OPCUAKafkaStreamUIC559</code> actually output?"},{"owner":{"account_id":19829224,"reputation":147,"user_id":14524187,"display_name":"lakshman"},"score":0,"creation_date":1683781982,"post_id":76198075,"comment_id":134419817,"body_markdown":"Based on my analysis i found /bin/sh along with docker run gave me a wrong output. I had to use&quot; docker run test:v2 com.domain.uic559.opcua.OPCUAKafkaStreamUIC559&quot; this gave me some output.  i could enter into the container with  sudo docker run -d test:v2","body":"Based on my analysis i found /bin/sh along with docker run gave me a wrong output. I had to use&quot; docker run test:v2 com.domain.uic559.opcua.OPCUAKafkaStreamUIC559&quot; this gave me some output.  i could enter into the container with  sudo docker run -d test:v2"}],"owner":{"account_id":19829224,"reputation":147,"user_id":14524187,"display_name":"lakshman"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":144,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683543452,"creation_date":1683528354,"question_id":76198075,"body_markdown":"I am trying to build spark processor docker image which is used for UIC559 conversion of message \r\nWhen i run the docker image i get the following error message\r\n\r\n```\r\nsudo docker run -it test:v2 /bin/sh\r\ninside file\r\nError: Could not find or load main class .bin.sh\r\nCaused by: java.lang.ClassNotFoundException: /bin/sh\r\n```\r\nThis is my entrypoint file\r\n```\r\n#!/bin/bash\r\necho inside file\r\nexec java -Djava.security.egd=file:/dev/./urandom -cp /opc/OPCUAClientUIC559_2.1-assembly.jar $*\r\n\r\n```\r\n\r\n\r\n\r\n1.I tried to create the docker image with entrypoint and ran the image and i could see the jar file inside the container\r\n2. passed the java arguments along the docker run command \r\n```\r\nsudo docker run -it test:v2 com.domain.uic559.opcua.OPCUAKafkaStreamUIC559\r\n\r\n```\r\nI am expecting this issue to resolve and enter into container and run without any error\r\n\r\n```\r\nFROM openjdk:11.0.1 AS build\r\nARG SCALA_VERSION\r\nENV SCALA_VERSION ${SCALA_VERSION:-2.12.15}\r\nARG SBT_VERSION\r\nENV SBT_VERSION ${SBT_VERSION:-1.3.13}\r\nARG USER_ID\r\nENV USER_ID ${USER_ID:-9999}\r\nARG GROUP_ID \r\nENV GROUP_ID ${GROUP_ID:-9999}\r\n# copy the root certificate for sbt and scala package to download thorugh network \r\nCOPY ./CIdependencies/zscaler-rootca.cer /root/zscaler-rootca.cer\r\n\r\n# Install sbt and pass root certificate\r\nRUN curl -fsLv --cacert /root/zscaler-rootca.cer &quot;https://github.com/sbt/sbt/releases/download/v$SBT_VERSION/sbt-$SBT_VERSION.tgz&quot; | tar xfz - -C /usr/share \r\nRUN \\\r\n  chown -R root:root /usr/share/sbt &amp;&amp; \\\r\n  chmod -R 755 /usr/share/sbt &amp;&amp; \\\r\n  ln -s /usr/share/sbt/bin/sbt /usr/local/bin/sbt &amp;&amp; \\\r\n# Install Scala and pass root certificate\r\n  curl -fsL --cacert /root/zscaler-rootca.cer &quot;https://downloads.typesafe.com/scala/$SCALA_VERSION/scala-$SCALA_VERSION.tgz&quot; SCALA_DIR=/usr/share/scala-$SCALA_VERSION | tar xfz - -C /usr/share &amp;&amp; \\\r\n  mv -f /usr/share/scala-$SCALA_VERSION /usr/share/scala &amp;&amp; \\\r\n  chown -R root:root /usr/share/scala &amp;&amp; \\\r\n  chmod -R 755 /usr/share/scala &amp;&amp; \\\r\n  ln -s /usr/share/scala/bin/* /usr/local/bin &amp;&amp; \\\r\n  echo &quot;@main def main = println(util.Properties.versionMsg)&quot; &gt; test.scala &amp;&amp; \\\r\n  echo &quot;println(util.Properties.versionMsg)&quot; &gt; test.scala &amp;&amp; \\\r\n  scala -nocompdaemon test.scala &amp;&amp; rm test.scala &amp;&amp; \\\r\n# Install rpm for sbt-native-packager -see https://github.com/hseeberger/scala-sbt/pull/114\r\n  echo &quot;deb http://deb.debian.org/debian/ oldstable main contrib non-free deb http://deb.debian.org/debian/ oldstable-updates main contrib non-free&quot; &gt; /etc/apt/sources.list &amp;&amp; \\\r\n  rm /etc/apt/sources.list.d/* &amp;&amp; \\\r\n  apt-key adv --batch --keyserver hkp://keyserver.ubuntu.com:80 --recv-keys 0E9840 &amp;&amp; \\\r\n  apt-get update &amp;&amp; apt-get install rpm -y &amp;&amp; \\\r\n  rm -rf /var/lib/apt/lists/*  \r\n\r\nUSER root\r\nWORKDIR /root\r\nRUN keytool -noprompt -storepass changeit -importcert -alias zscaler -file ./zscaler-rootca.cer -keystore /etc/ssl/certs/java/cacerts\r\n\r\n# Prepare sbt (warm cache)\r\nRUN \\\r\n  sbt sbtVersion &amp;&amp; \\\r\n  mkdir -p project &amp;&amp; \\\r\n  echo &quot;scalaVersion := \\&quot;${SCALA_VERSION}\\&quot;&quot; &gt; build.sbt &amp;&amp; \\\r\n  echo &quot;sbt.version=${SBT_VERSION}&quot; &gt; project/build.properties &amp;&amp; \\\r\n  echo &quot;// force sbt compiler-bridge download&quot; &gt; project/Dependencies.scala &amp;&amp; \\\r\n  echo &quot;case object Temp&quot; &gt; Temp.scala &amp;&amp; \\\r\n  sbt compile &amp;&amp; \\\r\n  rm -r project &amp;&amp; rm build.sbt &amp;&amp; rm Temp.scala &amp;&amp; rm -r target \r\n\r\nCMD sbt\r\n\r\nCOPY ./ ./\r\n\r\nRUN sbt assembly\r\n\r\nFROM ubuntu:latest\r\nARG GIT_COMMIT\r\nARG DS_VERSION=0.0.0.0\r\nLABEL Name=OPCUA_ClientUIC559 Version=$DS_VERSION git_commit=$GIT_COMMIT\r\nRUN apt-get update \\\r\n    &amp;&amp; DEBIAN_FRONTEND=noninteractive apt-get install -y -f --no-install-recommends \\\r\n        ca-certificates\\\r\n        curl\\\r\n\ticu-devtools=66.1-2ubuntu2 \\   \r\n        openjdk-11-jre \\ \r\n    &amp;&amp; apt-get clean \\          \r\n    &amp;&amp; rm -rf /var/lib/apt/lists/* \r\n\r\n# Create a user, group and changing the ownership to access the built files as root should not be used ideally\r\nRUN groupadd -r opc &amp;&amp; useradd --no-log-init -r -g opc opc\r\nRUN mkdir /opc; chown opc.opc /opc\r\n\r\nUSER opc\r\n\r\n# Switch working directory\r\n\r\nWORKDIR /opc\r\n\r\nCOPY --from=build --chown=opc:opc /root/entrypoint.sh /opc/entrypoint.sh\r\n\r\nCOPY --from=build --chown=opc:opc /root/target/scala-2.12.15/*.jar /opc/OPCUAClientUIC559_2.12.15-assembly.jar\r\nRUN chmod +x /opc/entrypoint.sh\r\nENTRYPOINT [&quot;bash&quot;,&quot;/opc/entrypoint.sh&quot;]","title":"Docker container fails to run and doesn&#39;t go inside the container","body":"<p>I am trying to build spark processor docker image which is used for UIC559 conversion of message\nWhen i run the docker image i get the following error message</p>\n<pre><code>sudo docker run -it test:v2 /bin/sh\ninside file\nError: Could not find or load main class .bin.sh\nCaused by: java.lang.ClassNotFoundException: /bin/sh\n</code></pre>\n<p>This is my entrypoint file</p>\n<pre><code>#!/bin/bash\necho inside file\nexec java -Djava.security.egd=file:/dev/./urandom -cp /opc/OPCUAClientUIC559_2.1-assembly.jar $*\n\n</code></pre>\n<p>1.I tried to create the docker image with entrypoint and ran the image and i could see the jar file inside the container\n2. passed the java arguments along the docker run command</p>\n<pre><code>sudo docker run -it test:v2 com.domain.uic559.opcua.OPCUAKafkaStreamUIC559\n\n</code></pre>\n<p>I am expecting this issue to resolve and enter into container and run without any error</p>\n<pre><code>FROM openjdk:11.0.1 AS build\nARG SCALA_VERSION\nENV SCALA_VERSION ${SCALA_VERSION:-2.12.15}\nARG SBT_VERSION\nENV SBT_VERSION ${SBT_VERSION:-1.3.13}\nARG USER_ID\nENV USER_ID ${USER_ID:-9999}\nARG GROUP_ID \nENV GROUP_ID ${GROUP_ID:-9999}\n# copy the root certificate for sbt and scala package to download thorugh network \nCOPY ./CIdependencies/zscaler-rootca.cer /root/zscaler-rootca.cer\n\n# Install sbt and pass root certificate\nRUN curl -fsLv --cacert /root/zscaler-rootca.cer &quot;https://github.com/sbt/sbt/releases/download/v$SBT_VERSION/sbt-$SBT_VERSION.tgz&quot; | tar xfz - -C /usr/share \nRUN \\\n  chown -R root:root /usr/share/sbt &amp;&amp; \\\n  chmod -R 755 /usr/share/sbt &amp;&amp; \\\n  ln -s /usr/share/sbt/bin/sbt /usr/local/bin/sbt &amp;&amp; \\\n# Install Scala and pass root certificate\n  curl -fsL --cacert /root/zscaler-rootca.cer &quot;https://downloads.typesafe.com/scala/$SCALA_VERSION/scala-$SCALA_VERSION.tgz&quot; SCALA_DIR=/usr/share/scala-$SCALA_VERSION | tar xfz - -C /usr/share &amp;&amp; \\\n  mv -f /usr/share/scala-$SCALA_VERSION /usr/share/scala &amp;&amp; \\\n  chown -R root:root /usr/share/scala &amp;&amp; \\\n  chmod -R 755 /usr/share/scala &amp;&amp; \\\n  ln -s /usr/share/scala/bin/* /usr/local/bin &amp;&amp; \\\n  echo &quot;@main def main = println(util.Properties.versionMsg)&quot; &gt; test.scala &amp;&amp; \\\n  echo &quot;println(util.Properties.versionMsg)&quot; &gt; test.scala &amp;&amp; \\\n  scala -nocompdaemon test.scala &amp;&amp; rm test.scala &amp;&amp; \\\n# Install rpm for sbt-native-packager -see https://github.com/hseeberger/scala-sbt/pull/114\n  echo &quot;deb http://deb.debian.org/debian/ oldstable main contrib non-free deb http://deb.debian.org/debian/ oldstable-updates main contrib non-free&quot; &gt; /etc/apt/sources.list &amp;&amp; \\\n  rm /etc/apt/sources.list.d/* &amp;&amp; \\\n  apt-key adv --batch --keyserver hkp://keyserver.ubuntu.com:80 --recv-keys 0E9840 &amp;&amp; \\\n  apt-get update &amp;&amp; apt-get install rpm -y &amp;&amp; \\\n  rm -rf /var/lib/apt/lists/*  \n\nUSER root\nWORKDIR /root\nRUN keytool -noprompt -storepass changeit -importcert -alias zscaler -file ./zscaler-rootca.cer -keystore /etc/ssl/certs/java/cacerts\n\n# Prepare sbt (warm cache)\nRUN \\\n  sbt sbtVersion &amp;&amp; \\\n  mkdir -p project &amp;&amp; \\\n  echo &quot;scalaVersion := \\&quot;${SCALA_VERSION}\\&quot;&quot; &gt; build.sbt &amp;&amp; \\\n  echo &quot;sbt.version=${SBT_VERSION}&quot; &gt; project/build.properties &amp;&amp; \\\n  echo &quot;// force sbt compiler-bridge download&quot; &gt; project/Dependencies.scala &amp;&amp; \\\n  echo &quot;case object Temp&quot; &gt; Temp.scala &amp;&amp; \\\n  sbt compile &amp;&amp; \\\n  rm -r project &amp;&amp; rm build.sbt &amp;&amp; rm Temp.scala &amp;&amp; rm -r target \n\nCMD sbt\n\nCOPY ./ ./\n\nRUN sbt assembly\n\nFROM ubuntu:latest\nARG GIT_COMMIT\nARG DS_VERSION=0.0.0.0\nLABEL Name=OPCUA_ClientUIC559 Version=$DS_VERSION git_commit=$GIT_COMMIT\nRUN apt-get update \\\n    &amp;&amp; DEBIAN_FRONTEND=noninteractive apt-get install -y -f --no-install-recommends \\\n        ca-certificates\\\n        curl\\\n    icu-devtools=66.1-2ubuntu2 \\   \n        openjdk-11-jre \\ \n    &amp;&amp; apt-get clean \\          \n    &amp;&amp; rm -rf /var/lib/apt/lists/* \n\n# Create a user, group and changing the ownership to access the built files as root should not be used ideally\nRUN groupadd -r opc &amp;&amp; useradd --no-log-init -r -g opc opc\nRUN mkdir /opc; chown opc.opc /opc\n\nUSER opc\n\n# Switch working directory\n\nWORKDIR /opc\n\nCOPY --from=build --chown=opc:opc /root/entrypoint.sh /opc/entrypoint.sh\n\nCOPY --from=build --chown=opc:opc /root/target/scala-2.12.15/*.jar /opc/OPCUAClientUIC559_2.12.15-assembly.jar\nRUN chmod +x /opc/entrypoint.sh\nENTRYPOINT [&quot;bash&quot;,&quot;/opc/entrypoint.sh&quot;]\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-integration"],"comments":[{"owner":{"account_id":3273937,"reputation":114870,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":0,"creation_date":1683555965,"post_id":76199867,"comment_id":134380590,"body_markdown":"So, to summarize: if you don&#39;t specify `&lt;tx:advice&gt;` it works well. And I know why: the local transaction in DB i started and closed. But if you have `&lt;tx:advice&gt;`, then you have to also add `&lt;tx:method&gt;`. The `transaction-manager=&quot;transactionManager&quot;` does not make sense, since this is exactly the name it looks for from context. Please, consider to share a simple project with us so we can reproduce on our side.","body":"So, to summarize: if you don&#39;t specify <code>&lt;tx:advice&gt;</code> it works well. And I know why: the local transaction in DB i started and closed. But if you have <code>&lt;tx:advice&gt;</code>, then you have to also add <code>&lt;tx:method&gt;</code>. The <code>transaction-manager=&quot;transactionManager&quot;</code> does not make sense, since this is exactly the name it looks for from context. Please, consider to share a simple project with us so we can reproduce on our side."},{"owner":{"account_id":1580105,"reputation":1275,"user_id":1465635,"accept_rate":50,"display_name":"Mauro Molinari"},"score":0,"creation_date":1683617047,"post_id":76199867,"comment_id":134389781,"body_markdown":"Not really. If I don&#39;t specify `&lt;tx:advice&gt;`, reading works ok, but nothing gets written to the database. To be more precise: an outbound adapter writes nothing (although it performs the query), while an outbound gateway executes the UPDATE (but writes nothing) followed by the SELECT (which hence can&#39;t read updated data). To summarize: I must specify `&lt;tx:advice&gt;` and I must specify the `&lt;tx:attributes&gt;`. In any other case, the transaction is not committed and nothing gets written to the database. I&#39;ll try to see if I can isolate this in a reproducible test case...","body":"Not really. If I don&#39;t specify <code>&lt;tx:advice&gt;</code>, reading works ok, but nothing gets written to the database. To be more precise: an outbound adapter writes nothing (although it performs the query), while an outbound gateway executes the UPDATE (but writes nothing) followed by the SELECT (which hence can&#39;t read updated data). To summarize: I must specify <code>&lt;tx:advice&gt;</code> and I must specify the <code>&lt;tx:attributes&gt;</code>. In any other case, the transaction is not committed and nothing gets written to the database. I&#39;ll try to see if I can isolate this in a reproducible test case..."}],"owner":{"account_id":1580105,"reputation":1275,"user_id":1465635,"accept_rate":50,"display_name":"Mauro Molinari"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683543248,"creation_date":1683543248,"question_id":76199867,"body_markdown":"I&#39;m using Spring Boot 2.7.10 and supplying it some XML configuration for Spring Integration. The problem I encounter is this: in my JDBC outbound gateways and adapters I need to specify an explicit `&lt;tx:advice&gt;` element with an explicit `&lt;tx:attributes&gt;` subelement inside the `&lt;int-jdbc:request-handler-advice-chain&gt;` otherwise the transaction won&#39;t be committed and changes will be lost.\r\n\r\nAs an example:\r\n\r\n```xml\r\n&lt;int-jdbc:outbound-channel-adapter\r\n\tid=&quot;myAdapter&quot;\r\n\tchannel=&quot;inputChannel&quot;\r\n\tdata-source=&quot;dataSource&quot;\r\n\tquery=&quot;UPDATE `MyTable` SET `param1` = :param1, `param2` = :param2 WHERE `id` = :id&quot;\r\n\tsql-parameter-source-factory=&quot;myParameterSourceFactory&quot;&gt;\r\n\t&lt;int-jdbc:request-handler-advice-chain&gt;\r\n\t\t&lt;bean class=&quot;org.springframework.integration.handler.advice.RequestHandlerRetryAdvice&quot;&gt;\r\n\t\t\t&lt;property name=&quot;retryTemplate&quot;\r\n\t\t\t\tref=&quot;myRetryTemplate&quot; /&gt;\r\n\t\t&lt;/bean&gt;\r\n\t\t&lt;tx:advice transaction-manager=&quot;transactionManager&quot;&gt;\r\n\t\t\t&lt;tx:attributes&gt;\r\n\t\t\t\t&lt;tx:method name=&quot;*&quot; propagation=&quot;REQUIRED&quot;/&gt;\r\n\t\t\t&lt;/tx:attributes&gt;\r\n\t\t&lt;/tx:advice&gt;\r\n\t&lt;/int-jdbc:request-handler-advice-chain&gt;\r\n&lt;/int-jdbc:outbound-channel-adapter&gt;\r\n```\r\n\r\nAs I said, if I omit the `&lt;tx:advice&gt;`, or if I specify it as an empty `&lt;tx:advice /&gt;` element (to say: use default transaction into for propagation, isolation, etc. for all method calls), the transaction is not committed and nothing gets written to the database, even if queries are indeed executed.\r\n\r\nBy debugging I see that `txInfo` in `org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionInfo)` is `null`. So, what I suspect is that something is missing which should define the default transaction definition to apply when no explicit attributes are given.\r\n\r\nIn my legacy applications (not using Spring Boot, but using a Spring Framework web application context set up mainly through XML configuration) I don&#39;t need to provide explicit `&lt;tx:advice&gt;` elements and:\r\n- if I don&#39;t specify anything, my JDBC outbound gateways/adapters do commit the transaction\r\n- if I define a poller inside an inbound adapter and I want it to open a transaction, I just need to specify an empty `&lt;tx:advice&gt;` to make it open a read/write transaction with a `PROPAGATION_REQUIRED` propagation and so on\r\n\r\nAfter all, this is what [the Spring Framework documentation][1] says. I suspect Spring Boot auto configuration mechanism is skipping some initialisation required when using XML configuration, but I couldn&#39;t find out what.\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/reference/html/data-access.html#transaction-declarative-txadvice-settings","title":"Explicit &lt;tx:advice&gt; with explicit &lt;tx:attributes&gt; needed to make JDBC outbound gateway/adapter to commit, why?","body":"<p>I'm using Spring Boot 2.7.10 and supplying it some XML configuration for Spring Integration. The problem I encounter is this: in my JDBC outbound gateways and adapters I need to specify an explicit <code>&lt;tx:advice&gt;</code> element with an explicit <code>&lt;tx:attributes&gt;</code> subelement inside the <code>&lt;int-jdbc:request-handler-advice-chain&gt;</code> otherwise the transaction won't be committed and changes will be lost.</p>\n<p>As an example:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;int-jdbc:outbound-channel-adapter\n    id=&quot;myAdapter&quot;\n    channel=&quot;inputChannel&quot;\n    data-source=&quot;dataSource&quot;\n    query=&quot;UPDATE `MyTable` SET `param1` = :param1, `param2` = :param2 WHERE `id` = :id&quot;\n    sql-parameter-source-factory=&quot;myParameterSourceFactory&quot;&gt;\n    &lt;int-jdbc:request-handler-advice-chain&gt;\n        &lt;bean class=&quot;org.springframework.integration.handler.advice.RequestHandlerRetryAdvice&quot;&gt;\n            &lt;property name=&quot;retryTemplate&quot;\n                ref=&quot;myRetryTemplate&quot; /&gt;\n        &lt;/bean&gt;\n        &lt;tx:advice transaction-manager=&quot;transactionManager&quot;&gt;\n            &lt;tx:attributes&gt;\n                &lt;tx:method name=&quot;*&quot; propagation=&quot;REQUIRED&quot;/&gt;\n            &lt;/tx:attributes&gt;\n        &lt;/tx:advice&gt;\n    &lt;/int-jdbc:request-handler-advice-chain&gt;\n&lt;/int-jdbc:outbound-channel-adapter&gt;\n</code></pre>\n<p>As I said, if I omit the <code>&lt;tx:advice&gt;</code>, or if I specify it as an empty <code>&lt;tx:advice /&gt;</code> element (to say: use default transaction into for propagation, isolation, etc. for all method calls), the transaction is not committed and nothing gets written to the database, even if queries are indeed executed.</p>\n<p>By debugging I see that <code>txInfo</code> in <code>org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionInfo)</code> is <code>null</code>. So, what I suspect is that something is missing which should define the default transaction definition to apply when no explicit attributes are given.</p>\n<p>In my legacy applications (not using Spring Boot, but using a Spring Framework web application context set up mainly through XML configuration) I don't need to provide explicit <code>&lt;tx:advice&gt;</code> elements and:</p>\n<ul>\n<li>if I don't specify anything, my JDBC outbound gateways/adapters do commit the transaction</li>\n<li>if I define a poller inside an inbound adapter and I want it to open a transaction, I just need to specify an empty <code>&lt;tx:advice&gt;</code> to make it open a read/write transaction with a <code>PROPAGATION_REQUIRED</code> propagation and so on</li>\n</ul>\n<p>After all, this is what <a href=\"https://docs.spring.io/spring-framework/docs/current/reference/html/data-access.html#transaction-declarative-txadvice-settings\" rel=\"nofollow noreferrer\">the Spring Framework documentation</a> says. I suspect Spring Boot auto configuration mechanism is skipping some initialisation required when using XML configuration, but I couldn't find out what.</p>\n"},{"tags":["java","vert.x"],"answers":[{"tags":[],"owner":{"account_id":5191510,"reputation":1415,"user_id":4154302,"display_name":"Asad Awadia"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683159083,"creation_date":1683159083,"answer_id":76168737,"question_id":76167692,"body_markdown":"&gt;the execution reaches the last line of getById function before webclient send returns its value\r\n\r\nThis sentence shows you do not understand how async programming works - before using vertx you need to learn the fundamentals of asynchronous programming. \r\n\r\n&gt;executeBlocking would help but it seems useless.\r\n\r\nExecute blocking is to offload blocking calls onto a non-eventloop thread - it does not suddenly change how async code works\r\n\r\n&gt;return output;//this line is executed before onSuccess!!!\r\n\r\nYes, that is expected and how async code works\r\n\r\n\r\n1. There is no way to &#39;return&#39; a value from an onSuccess or callback - you have to compose work via futures and handlers\r\n\r\n2. if you want to write async code that is able to execute and run sequentially you should ditch java and use kotlin with coroutines instead - doing an await call will give you the result and then you can return that from the function like normal code\r\n\r\nYou can learn more about how to use vertx and async code using my udemy course https://www.udemy.com/course/backend-development-with-vertx/learn/?referralCode=063C2D57CCB957C5088C\r\n\r\nor reach out for 1 on 1 sessions at https://consulting.aawadia.dev\r\n","title":"Synchronous API call in Vert.x and return the value with WebClient","body":"<blockquote>\n<p>the execution reaches the last line of getById function before webclient send returns its value</p>\n</blockquote>\n<p>This sentence shows you do not understand how async programming works - before using vertx you need to learn the fundamentals of asynchronous programming.</p>\n<blockquote>\n<p>executeBlocking would help but it seems useless.</p>\n</blockquote>\n<p>Execute blocking is to offload blocking calls onto a non-eventloop thread - it does not suddenly change how async code works</p>\n<blockquote>\n<p>return output;//this line is executed before onSuccess!!!</p>\n</blockquote>\n<p>Yes, that is expected and how async code works</p>\n<ol>\n<li><p>There is no way to 'return' a value from an onSuccess or callback - you have to compose work via futures and handlers</p>\n</li>\n<li><p>if you want to write async code that is able to execute and run sequentially you should ditch java and use kotlin with coroutines instead - doing an await call will give you the result and then you can return that from the function like normal code</p>\n</li>\n</ol>\n<p>You can learn more about how to use vertx and async code using my udemy course <a href=\"https://www.udemy.com/course/backend-development-with-vertx/learn/?referralCode=063C2D57CCB957C5088C\" rel=\"nofollow noreferrer\">https://www.udemy.com/course/backend-development-with-vertx/learn/?referralCode=063C2D57CCB957C5088C</a></p>\n<p>or reach out for 1 on 1 sessions at <a href=\"https://consulting.aawadia.dev\" rel=\"nofollow noreferrer\">https://consulting.aawadia.dev</a></p>\n"},{"comments":[{"owner":{"account_id":9572330,"reputation":924,"user_id":7930987,"accept_rate":50,"display_name":"BabaNew"},"score":0,"creation_date":1683450515,"post_id":76187238,"comment_id":134366159,"body_markdown":"Thanks for your response. Yes i believe your response answer my question so i am going to accept it and vote it. Could you just make 2 adjustments? 1) Delete the snippet WITH output field 2) can you add a snippet of code that shows how graceful handling of a Future&lt;String&gt; object should be done by the client in order to get the result?","body":"Thanks for your response. Yes i believe your response answer my question so i am going to accept it and vote it. Could you just make 2 adjustments? 1) Delete the snippet WITH output field 2) can you add a snippet of code that shows how graceful handling of a Future&lt;String&gt; object should be done by the client in order to get the result?"},{"owner":{"account_id":12863622,"reputation":2586,"user_id":9304616,"display_name":"Lebecca"},"score":0,"creation_date":1683460316,"post_id":76187238,"comment_id":134367247,"body_markdown":"@BabaNew checked the modified version","body":"@BabaNew checked the modified version"},{"owner":{"account_id":9572330,"reputation":924,"user_id":7930987,"accept_rate":50,"display_name":"BabaNew"},"score":0,"creation_date":1683467749,"post_id":76187238,"comment_id":134368216,"body_markdown":"I am sorry, i haven&#39;t properly specified what i was intending with &quot;client&quot;... Please see the modified version of my question","body":"I am sorry, i haven&#39;t properly specified what i was intending with &quot;client&quot;... Please see the modified version of my question"},{"owner":{"account_id":12863622,"reputation":2586,"user_id":9304616,"display_name":"Lebecca"},"score":0,"creation_date":1683468249,"post_id":76187238,"comment_id":134368287,"body_markdown":"@BabaNew you do not build a `client` yet. your code just deployed the verticle, which is a server(provider) in some way. And it does not provide a way for others (real client) to make call to it. You should publish your api to event bus or as a http endpoint, thus the `real client` can make call to it and consume the result. And that&#39;s another story, you sould have a look at the official docs of vert.x web and vertx evet bus.","body":"@BabaNew you do not build a <code>client</code> yet. your code just deployed the verticle, which is a server(provider) in some way. And it does not provide a way for others (real client) to make call to it. You should publish your api to event bus or as a http endpoint, thus the <code>real client</code> can make call to it and consume the result. And that&#39;s another story, you sould have a look at the official docs of vert.x web and vertx evet bus."},{"owner":{"account_id":9572330,"reputation":924,"user_id":7930987,"accept_rate":50,"display_name":"BabaNew"},"score":0,"creation_date":1683469734,"post_id":76187238,"comment_id":134368502,"body_markdown":"I edited my question to be even more clear about what my initial idea is... So, you are saying that webclient should only be used to communicate between 2 server programs? Hence vertx does not provide a client functionality like for instance httpclient of apache?","body":"I edited my question to be even more clear about what my initial idea is... So, you are saying that webclient should only be used to communicate between 2 server programs? Hence vertx does not provide a client functionality like for instance httpclient of apache?"},{"owner":{"account_id":12863622,"reputation":2586,"user_id":9304616,"display_name":"Lebecca"},"score":0,"creation_date":1683473707,"post_id":76187238,"comment_id":134368992,"body_markdown":"@BabaNew Get! I updated my answer so you can achieve what you want.","body":"@BabaNew Get! I updated my answer so you can achieve what you want."},{"owner":{"account_id":9572330,"reputation":924,"user_id":7930987,"accept_rate":50,"display_name":"BabaNew"},"score":0,"creation_date":1683485634,"post_id":76187238,"comment_id":134370678,"body_markdown":"Wait... i don&#39;t want to print to stdout the result of the call.. i want to return it as outcome of a function.... I need to use the outcome of the function outside this class. Is this possible?","body":"Wait... i don&#39;t want to print to stdout the result of the call.. i want to return it as outcome of a function.... I need to use the outcome of the function outside this class. Is this possible?"},{"owner":{"account_id":12863622,"reputation":2586,"user_id":9304616,"display_name":"Lebecca"},"score":0,"creation_date":1683512474,"post_id":76187238,"comment_id":134373210,"body_markdown":"@BabaNew of course you can, as I said, `in the asynchronous programming model, you have to do all things asynchronously`. So you can return Futrure&lt;String&gt; easily.","body":"@BabaNew of course you can, as I said, <code>in the asynchronous programming model, you have to do all things asynchronously</code>. So you can return Futrure&lt;String&gt; easily."},{"owner":{"account_id":9572330,"reputation":924,"user_id":7930987,"accept_rate":50,"display_name":"BabaNew"},"score":0,"creation_date":1683531067,"post_id":76187238,"comment_id":134375265,"body_markdown":"Ok... so we return to the initial question... can you add code to show how to gracefully get result out of Future&lt;String&gt;?","body":"Ok... so we return to the initial question... can you add code to show how to gracefully get result out of Future&lt;String&gt;?"},{"owner":{"account_id":12863622,"reputation":2586,"user_id":9304616,"display_name":"Lebecca"},"score":0,"creation_date":1683534454,"post_id":76187238,"comment_id":134375910,"body_markdown":"hi @BabaNew the next `compose` or `onSuccess` chained API call to future is the correct way to `gracefully get result out of Future&lt;String&gt;`, regardless you are making the call from the same class or on other class.","body":"hi @BabaNew the next <code>compose</code> or <code>onSuccess</code> chained API call to future is the correct way to <code>gracefully get result out of Future&lt;String&gt;</code>, regardless you are making the call from the same class or on other class."},{"owner":{"account_id":9572330,"reputation":924,"user_id":7930987,"accept_rate":50,"display_name":"BabaNew"},"score":0,"creation_date":1683542459,"post_id":76187238,"comment_id":134377494,"body_markdown":"Well... thanks for your responses... but you cannot return a string from onSuccess, no matter where onSuccess is chained","body":"Well... thanks for your responses... but you cannot return a string from onSuccess, no matter where onSuccess is chained"},{"owner":{"account_id":9572330,"reputation":924,"user_id":7930987,"accept_rate":50,"display_name":"BabaNew"},"score":0,"creation_date":1683542982,"post_id":76187238,"comment_id":134377589,"body_markdown":"After poking around a bit with the vertx library i found some way to achieve what i want... i will edit my question to show you... this approach actually works, but based on what you suggested i am not sure that this is the proper way to do this in vertx","body":"After poking around a bit with the vertx library i found some way to achieve what i want... i will edit my question to show you... this approach actually works, but based on what you suggested i am not sure that this is the proper way to do this in vertx"},{"owner":{"account_id":12863622,"reputation":2586,"user_id":9304616,"display_name":"Lebecca"},"score":0,"creation_date":1683545212,"post_id":76187238,"comment_id":134378055,"body_markdown":"@BabaNew the code you finally used is to turn async code to sync code, which is what I mentioned - the `anti-pattern` way, as it will cause the main event loop to be blocked for an unknown length of time, which is not acceptable in vertx philosophy. You can use it to test, but we should not use it in production code in most cases.","body":"@BabaNew the code you finally used is to turn async code to sync code, which is what I mentioned - the <code>anti-pattern</code> way, as it will cause the main event loop to be blocked for an unknown length of time, which is not acceptable in vertx philosophy. You can use it to test, but we should not use it in production code in most cases."}],"tags":[],"owner":{"account_id":12863622,"reputation":2586,"user_id":9304616,"display_name":"Lebecca"},"comment_count":13,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1683473523,"creation_date":1683349514,"answer_id":76187238,"question_id":76167692,"body_markdown":"The promise parameter in `executeBlocking` is used to pass the result to the caller asynchronously with one prerequisite:\r\n\r\n- the caller can only return value asynchronously\r\n\r\nthat&#39;s why I change the return type from `string` to `Future&lt;String&gt;` in the following code. The philosophy here is that in the asynchronous programming model, you have to do all things asynchronously (you may argue that you can do something to wait for the result, but it&#39;s anti-pattern in most cases). The output field can be deleted to simplify the code (if you don&#39;t mind):\r\n\r\n```java\r\nimport io.netty.handler.codec.http.HttpResponseStatus;\r\nimport io.vertx.core.AbstractVerticle;\r\nimport io.vertx.core.Future;\r\nimport io.vertx.ext.web.client.WebClient;\r\n\r\npublic class WebClientGetById extends AbstractVerticle {\r\n\r\n  @Override\r\n  public void start() {\r\n    //DO NOTHING\r\n  }\r\n\r\n  public Future&lt;String&gt; getById(String myId) {\r\n    return vertx.executeBlocking(\r\n        promise -&gt; {\r\n          WebClient client = WebClient.create(vertx);\r\n          client\r\n              .get(8666, &quot;localhost&quot;, &quot;/getById&quot;)\r\n              .putHeader(&quot;id&quot;, myId)\r\n              .send()\r\n              .compose(response -&gt; {\r\n                if (response.statusCode() == HttpResponseStatus.OK.code()) {\r\n                  promise.complete(response.bodyAsString());\r\n                } else {\r\n                  promise.fail(&quot;Got error from server &quot; + response.statusCode());\r\n                }\r\n                return Future.succeededFuture();\r\n              })\r\n              .onFailure(promise::fail);\r\n        });\r\n  }\r\n}\r\n```\r\n\r\nTo test your verticle method, you can call with:\r\n\r\n```java\r\n  public static void main(String[] args) {\r\n    WebClientGetById  verticle = new WebClientGetById ();\r\n    Vertx vertx = Vertx.vertx();\r\n    vertx.deployVerticle(verticle);\r\n    verticle.getById(&quot;myId&quot;)\r\n        .onSuccess(ret -&gt; {\r\n          System.out.println(ret);\r\n        })\r\n        .onFailure(exception -&gt; {\r\n          // please never forget error handling\r\n          // do some log here\r\n        });\r\n  }\r\n```\r\n\r\nBut honestly, you can do it without a verticle instance:\r\n\r\n```java\r\n  public static void main(String[] args) {\r\n    Vertx vertx = Vertx.vertx();\r\n\r\n    WebClient client = WebClient.create(vertx);\r\n    client\r\n        .get(8666, &quot;localhost&quot;, &quot;/getById&quot;)\r\n        .putHeader(&quot;id&quot;, &quot;xx&quot;)\r\n        .send()\r\n        .onSuccess(response -&gt; {\r\n          if (response.statusCode() == HttpResponseStatus.OK.code()) {\r\n            System.out.println(response.bodyAsString());\r\n          } else {\r\n            System.out.println(&quot;Got error from server &quot; + response.statusCode());\r\n          }\r\n        })\r\n        .onFailure(exception -&gt; {\r\n          // do some log here\r\n        });\r\n  }\r\n```","title":"Synchronous API call in Vert.x and return the value with WebClient","body":"<p>The promise parameter in <code>executeBlocking</code> is used to pass the result to the caller asynchronously with one prerequisite:</p>\n<ul>\n<li>the caller can only return value asynchronously</li>\n</ul>\n<p>that's why I change the return type from <code>string</code> to <code>Future&lt;String&gt;</code> in the following code. The philosophy here is that in the asynchronous programming model, you have to do all things asynchronously (you may argue that you can do something to wait for the result, but it's anti-pattern in most cases). The output field can be deleted to simplify the code (if you don't mind):</p>\n<pre class=\"lang-java prettyprint-override\"><code>import io.netty.handler.codec.http.HttpResponseStatus;\nimport io.vertx.core.AbstractVerticle;\nimport io.vertx.core.Future;\nimport io.vertx.ext.web.client.WebClient;\n\npublic class WebClientGetById extends AbstractVerticle {\n\n  @Override\n  public void start() {\n    //DO NOTHING\n  }\n\n  public Future&lt;String&gt; getById(String myId) {\n    return vertx.executeBlocking(\n        promise -&gt; {\n          WebClient client = WebClient.create(vertx);\n          client\n              .get(8666, &quot;localhost&quot;, &quot;/getById&quot;)\n              .putHeader(&quot;id&quot;, myId)\n              .send()\n              .compose(response -&gt; {\n                if (response.statusCode() == HttpResponseStatus.OK.code()) {\n                  promise.complete(response.bodyAsString());\n                } else {\n                  promise.fail(&quot;Got error from server &quot; + response.statusCode());\n                }\n                return Future.succeededFuture();\n              })\n              .onFailure(promise::fail);\n        });\n  }\n}\n</code></pre>\n<p>To test your verticle method, you can call with:</p>\n<pre class=\"lang-java prettyprint-override\"><code>  public static void main(String[] args) {\n    WebClientGetById  verticle = new WebClientGetById ();\n    Vertx vertx = Vertx.vertx();\n    vertx.deployVerticle(verticle);\n    verticle.getById(&quot;myId&quot;)\n        .onSuccess(ret -&gt; {\n          System.out.println(ret);\n        })\n        .onFailure(exception -&gt; {\n          // please never forget error handling\n          // do some log here\n        });\n  }\n</code></pre>\n<p>But honestly, you can do it without a verticle instance:</p>\n<pre class=\"lang-java prettyprint-override\"><code>  public static void main(String[] args) {\n    Vertx vertx = Vertx.vertx();\n\n    WebClient client = WebClient.create(vertx);\n    client\n        .get(8666, &quot;localhost&quot;, &quot;/getById&quot;)\n        .putHeader(&quot;id&quot;, &quot;xx&quot;)\n        .send()\n        .onSuccess(response -&gt; {\n          if (response.statusCode() == HttpResponseStatus.OK.code()) {\n            System.out.println(response.bodyAsString());\n          } else {\n            System.out.println(&quot;Got error from server &quot; + response.statusCode());\n          }\n        })\n        .onFailure(exception -&gt; {\n          // do some log here\n        });\n  }\n</code></pre>\n"}],"owner":{"account_id":9572330,"reputation":924,"user_id":7930987,"accept_rate":50,"display_name":"BabaNew"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":537,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76187238,"answer_count":2,"score":0,"last_activity_date":1683543153,"creation_date":1683145140,"question_id":76167692,"body_markdown":"I am new to Vert.x\r\n\r\nMy goal is to consume a Rest API, let&#39;s call it CRUD-API, using the Webclient class provided by VertX. CRUD-API requires an ID and returns a json object in the body of the response.\r\n\r\nMy problem is that my Consumer verticle returns before the call made with webclient executes.\r\n\r\nThis is my code:\r\n\r\n    public class WebClientGetById extends AbstractVerticle {\r\n    \r\n        private String output;\r\n    \r\n        @Override\r\n        public void start() {\r\n            //DO NOTHING\r\n        }\r\n    \r\n        public String getById(String myId) {\r\n            output = null;\r\n            vertx.executeBlocking(p -&gt; {\r\n                WebClient client = WebClient.create(vertx);\r\n                client\r\n                        .get(8666, &quot;localhost&quot;, &quot;/getById&quot;)\r\n                        .putHeader(&quot;id&quot;, myId)\r\n                        .send()\r\n                        .onSuccess(getSuccesssHandler());\r\n            });\r\n            return output;//THIS LINE IS EXECUTED BEFORE ONSUCCESS\r\n        }\r\n    \r\n        private Handler&lt;HttpResponse&lt;Buffer&gt;&gt; getSuccesssHandler() {\r\n            return new Handler&lt;HttpResponse&lt;Buffer&gt;&gt;() {\r\n                @Override\r\n                public void handle(HttpResponse&lt;Buffer&gt; response) {\r\n                    if (response.statusCode() == HttpResponseStatus.OK.code()) {\r\n                        output = response.bodyAsString();\r\n                    } else {\r\n                        output = &quot;Got error from server &quot; + response.statusCode();\r\n                    }\r\n                }\r\n            };\r\n        }\r\n    }\r\n\r\nThis is the code that creates the webclient and tries to consume CRUD-API:\r\n\r\n    public class MyClass {\r\n    \r\n        public static void main(String[] args) {\r\n            WebClientGetById  verticle = new WebClientGetById ();\r\n            Vertx vertx = Vertx.vertx();\r\n            vertx.deployVerticle(verticle);\r\n            String result = verticle.getById(&quot;myId&quot;);\r\n            System.out.println(result);\r\n        }\r\n    }\r\n\r\n\r\nAs you can see from the commented line, the execution reaches the last line of getById() before webclient send() returns its value. So null is always returned by getById.\r\n\r\nA part of this similar question seems to suggest to use executeBlocking to achieve my goal. \r\n\r\n[Is the vertx WebClient.send() method blocking or non-blocking][1]\r\n\r\nBut i tried it and it did not work.\r\n\r\nSo, what is the Vert.x right way of achieving this goal?\r\n\r\n(A piece of working code is preferred over a generic theoretical explanation)\r\n\r\n\r\n**EDIT**\r\n\r\n Based on many answers i tried to use a Future&lt;String&gt; object. The only way i can make it work with this approach is by modifying the client like so (assuming the verticle returns a Future&lt;String&gt; object), but i am really not sure that this working approach is graceful:\r\n\r\n    private String getVerticleOutput(String myId, WebClientGetById webClientGetById) {\r\n            Future&lt;String&gt; future = webClientGetById.getById(myId);\r\n            int counter = 0;\r\n            while(!future.isComplete() || counter&gt;5) {\r\n                try {\r\n                    Thread.sleep(1000L);\r\n                } catch (InterruptedException ex) {\r\n                    java.util.logging.Logger.getLogger(NewMain.class.getName()).log(Level.SEVERE, null, ex);\r\n                }\r\n                counter++;\r\n            }\r\n            if(future.failed()) {\r\n                throw new RuntimeException(&quot;invalid request&quot;);\r\n            }\r\n            return future.result();\r\n        }\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/71698129/is-the-vertx-webclient-send-method-blocking-or-non-blocking","title":"Synchronous API call in Vert.x and return the value with WebClient","body":"<p>I am new to Vert.x</p>\n<p>My goal is to consume a Rest API, let's call it CRUD-API, using the Webclient class provided by VertX. CRUD-API requires an ID and returns a json object in the body of the response.</p>\n<p>My problem is that my Consumer verticle returns before the call made with webclient executes.</p>\n<p>This is my code:</p>\n<pre><code>public class WebClientGetById extends AbstractVerticle {\n\n    private String output;\n\n    @Override\n    public void start() {\n        //DO NOTHING\n    }\n\n    public String getById(String myId) {\n        output = null;\n        vertx.executeBlocking(p -&gt; {\n            WebClient client = WebClient.create(vertx);\n            client\n                    .get(8666, &quot;localhost&quot;, &quot;/getById&quot;)\n                    .putHeader(&quot;id&quot;, myId)\n                    .send()\n                    .onSuccess(getSuccesssHandler());\n        });\n        return output;//THIS LINE IS EXECUTED BEFORE ONSUCCESS\n    }\n\n    private Handler&lt;HttpResponse&lt;Buffer&gt;&gt; getSuccesssHandler() {\n        return new Handler&lt;HttpResponse&lt;Buffer&gt;&gt;() {\n            @Override\n            public void handle(HttpResponse&lt;Buffer&gt; response) {\n                if (response.statusCode() == HttpResponseStatus.OK.code()) {\n                    output = response.bodyAsString();\n                } else {\n                    output = &quot;Got error from server &quot; + response.statusCode();\n                }\n            }\n        };\n    }\n}\n</code></pre>\n<p>This is the code that creates the webclient and tries to consume CRUD-API:</p>\n<pre><code>public class MyClass {\n\n    public static void main(String[] args) {\n        WebClientGetById  verticle = new WebClientGetById ();\n        Vertx vertx = Vertx.vertx();\n        vertx.deployVerticle(verticle);\n        String result = verticle.getById(&quot;myId&quot;);\n        System.out.println(result);\n    }\n}\n</code></pre>\n<p>As you can see from the commented line, the execution reaches the last line of getById() before webclient send() returns its value. So null is always returned by getById.</p>\n<p>A part of this similar question seems to suggest to use executeBlocking to achieve my goal.</p>\n<p><a href=\"https://stackoverflow.com/questions/71698129/is-the-vertx-webclient-send-method-blocking-or-non-blocking\">Is the vertx WebClient.send() method blocking or non-blocking</a></p>\n<p>But i tried it and it did not work.</p>\n<p>So, what is the Vert.x right way of achieving this goal?</p>\n<p>(A piece of working code is preferred over a generic theoretical explanation)</p>\n<p><strong>EDIT</strong></p>\n<p>Based on many answers i tried to use a Future object. The only way i can make it work with this approach is by modifying the client like so (assuming the verticle returns a Future object), but i am really not sure that this working approach is graceful:</p>\n<pre><code>private String getVerticleOutput(String myId, WebClientGetById webClientGetById) {\n        Future&lt;String&gt; future = webClientGetById.getById(myId);\n        int counter = 0;\n        while(!future.isComplete() || counter&gt;5) {\n            try {\n                Thread.sleep(1000L);\n            } catch (InterruptedException ex) {\n                java.util.logging.Logger.getLogger(NewMain.class.getName()).log(Level.SEVERE, null, ex);\n            }\n            counter++;\n        }\n        if(future.failed()) {\n            throw new RuntimeException(&quot;invalid request&quot;);\n        }\n        return future.result();\n    }\n</code></pre>\n"},{"tags":["java","spring-boot","rest"],"comments":[{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":1,"creation_date":1608300894,"post_id":65358481,"comment_id":115548529,"body_markdown":"You&#39;re trying to instantiate new instances through this method, it&#39;s better to use generics in this case for already instantiated objects. That said, you should probably ditch the generics here, and utilize the methods available to you through `Account`/etc. You could also look into factory, memento, and decorator design patterns. Lastly, note this line in the error in particular: `abstract types either need to be mapped to concrete types, have custom deserializer, or contain additional type information`","body":"You&#39;re trying to instantiate new instances through this method, it&#39;s better to use generics in this case for already instantiated objects. That said, you should probably ditch the generics here, and utilize the methods available to you through <code>Account</code>/etc. You could also look into factory, memento, and decorator design patterns. Lastly, note this line in the error in particular: <code>abstract types either need to be mapped to concrete types, have custom deserializer, or contain additional type information</code>"},{"owner":{"account_id":7678261,"reputation":638,"user_id":5818372,"accept_rate":69,"display_name":"Gykonik"},"score":0,"creation_date":1608307851,"post_id":65358481,"comment_id":115551796,"body_markdown":"What do you mean by &quot;ditch teh generics&quot;? The return of the request should contain all possible classes, which extend `account`. Therefore, I can&#39;t just leave you out. Besides, the other API service is predefined and must not be changed. I would prefer to be able to fix the error - could cou tell me how? :)","body":"What do you mean by &quot;ditch teh generics&quot;? The return of the request should contain all possible classes, which extend <code>account</code>. Therefore, I can&#39;t just leave you out. Besides, the other API service is predefined and must not be changed. I would prefer to be able to fix the error - could cou tell me how? :)"},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1608308635,"post_id":65358481,"comment_id":115552150,"body_markdown":"You could just return a `Page&lt;Account&gt;` (which is what you want), and then you would provide a deserializer to turn the stored data into an `Account` object. Hence, the factory pattern.","body":"You could just return a <code>Page&lt;Account&gt;</code> (which is what you want), and then you would provide a deserializer to turn the stored data into an <code>Account</code> object. Hence, the factory pattern."},{"owner":{"account_id":7678261,"reputation":638,"user_id":5818372,"accept_rate":69,"display_name":"Gykonik"},"score":0,"creation_date":1608308734,"post_id":65358481,"comment_id":115552196,"body_markdown":"But then I would lose information from classes which extend Account e.g. by another String customerName or something, wouldn&#39;t I?","body":"But then I would lose information from classes which extend Account e.g. by another String customerName or something, wouldn&#39;t I?"},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1608308840,"post_id":65358481,"comment_id":115552243,"body_markdown":"Just because you refer to something as its abstract type, doesn&#39;t change the underlying object. For an adjacent example, in `List&lt;String&gt; ex = new ArrayList&lt;&gt;();`, `ex` would still be an `ArrayList` (and could be casted to such or checked via `instanceof`), but is referred to as a `List`. Furthermore, `List` provides the methods needed to use it appropriately.","body":"Just because you refer to something as its abstract type, doesn&#39;t change the underlying object. For an adjacent example, in <code>List&lt;String&gt; ex = new ArrayList&lt;&gt;();</code>, <code>ex</code> would still be an <code>ArrayList</code> (and could be casted to such or checked via <code>instanceof</code>), but is referred to as a <code>List</code>. Furthermore, <code>List</code> provides the methods needed to use it appropriately."},{"owner":{"account_id":7678261,"reputation":638,"user_id":5818372,"accept_rate":69,"display_name":"Gykonik"},"score":0,"creation_date":1608309142,"post_id":65358481,"comment_id":115552370,"body_markdown":"Ahh okay, that makes sense. Thanks! However, if I change the return type to `Page&lt;Account&gt;` and adjust the types in the getAllAccounts-function, I still get the same error :/","body":"Ahh okay, that makes sense. Thanks! However, if I change the return type to <code>Page&lt;Account&gt;</code> and adjust the types in the getAllAccounts-function, I still get the same error :/"},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1608309379,"post_id":65358481,"comment_id":115552472,"body_markdown":"Correct, and for the same reason: you need to specify something (a deserializer) that turns the saved back-end data into objects. In your case, `Account` objects: you&#39;d create the object which was relevant and return it accordingly. The program still doesn&#39;t know how to turn your data into those objects.","body":"Correct, and for the same reason: you need to specify something (a deserializer) that turns the saved back-end data into objects. In your case, <code>Account</code> objects: you&#39;d create the object which was relevant and return it accordingly. The program still doesn&#39;t know how to turn your data into those objects."},{"owner":{"account_id":7678261,"reputation":638,"user_id":5818372,"accept_rate":69,"display_name":"Gykonik"},"score":0,"creation_date":1608309547,"post_id":65358481,"comment_id":115552540,"body_markdown":"Mhh, do you have a link with an example for creating such a deserializer? I&#39;ve never heard of it before... I&#39;m not sure how to implement a deserializer and how to use it in my code :/","body":"Mhh, do you have a link with an example for creating such a deserializer? I&#39;ve never heard of it before... I&#39;m not sure how to implement a deserializer and how to use it in my code :/"},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1608309675,"post_id":65358481,"comment_id":115552595,"body_markdown":"It really depends a lot on what you&#39;re doing in your actual code, enough that I&#39;ll say it&#39;ll be easier for you to google around things like &quot;spring boot deserializer&quot; and parsing through some examples. From there look up the javadocs of the classes used in the examples","body":"It really depends a lot on what you&#39;re doing in your actual code, enough that I&#39;ll say it&#39;ll be easier for you to google around things like &quot;spring boot deserializer&quot; and parsing through some examples. From there look up the javadocs of the classes used in the examples"},{"owner":{"account_id":7678261,"reputation":638,"user_id":5818372,"accept_rate":69,"display_name":"Gykonik"},"score":0,"creation_date":1608318201,"post_id":65358481,"comment_id":115556270,"body_markdown":"Sadly also after 2 hours of googling I have absolutly no Idea how I have to do this... I tried several things and also switched to webCliend (because I found out restTemplate is deprecated) and still the same error and I have no clue how to use a serializer / build a custom one...","body":"Sadly also after 2 hours of googling I have absolutly no Idea how I have to do this... I tried several things and also switched to webCliend (because I found out restTemplate is deprecated) and still the same error and I have no clue how to use a serializer / build a custom one..."}],"owner":{"account_id":7678261,"reputation":638,"user_id":5818372,"accept_rate":69,"display_name":"Gykonik"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":534,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":0,"score":1,"last_activity_date":1683543105,"creation_date":1608300535,"question_id":65358481,"body_markdown":"Similar to [this][1] question, I&#39;m trying to exchange information between two microservices using Spring `RestTemplate`. The difference in my case is that I&#39;m working with an abstract class as a generic type parameter, and I&#39;m encountering difficulties.\r\n\r\nHere&#39;s an example of my class:\r\n\r\n    public &lt;T extends Account&gt; Page&lt;T&gt; getAllAccounts() {\t// not working\r\n    \tParameterizedTypeReference&lt;Page&lt;T&gt;&gt; responseType = new ParameterizedTypeReference&lt;Page&lt;T&gt;&gt;() { };\r\n    \tResponseEntity&lt;Page&lt;T&gt;&gt; result = restTemplate.exchange(&quot;http://localhost:8080/api/v1/accounts/&quot;, HttpMethod.GET, null, responseType);\r\n\r\n    \tPage&lt;T&gt; accounts = result.getBody();\r\n    \t\r\n    \treturn accounts;\r\n    }\r\n\r\nThe function behind the API call has the return type `public &lt;T extends Account&gt; Page&lt;T&gt; getAccounts(...) {...}`. The type `T` can be any class that extends `Account`, as there are multiple `Account`-Types available.This method works fine for non-abstract classes (e.g., `Page&lt;CustomerAccount&gt;`), but it fails with abstract classes.\r\n\r\nSo, how can I communicate between a microservice running on port `8081` and another microservice running on port `8080`, using &quot;abstract generics&quot; (or a similar concept) with Spring `RestTemplate`?\r\n\r\nWhen I try to call the function, I receive the following error message:\r\n\r\n    This application has no explicit mapping for /error, so you are seeing this as a fallback.\r\n\tFri Dec 18 14:55:33 CET 2020\r\n\tThere was an unexpected error (type=Internal Server Error, status=500).\r\n\tType definition error: [simple type, class org.springframework.data.domain.Page]; nested exception is com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Cannot construct instance of `org.springframework.data.domain.Page` (no Creators, like default constructor, exist): abstract types either need to be mapped to concrete types, have custom deserializer, or contain additional type information at [Source: (PushbackInputStream); line: 1, column: 1]\r\n\torg.springframework.http.converter.HttpMessageConversionException: Type definition error: [simple type, class org.springframework.data.domain.Page]; nested exception is com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Cannot construct instance of `org.springframework.data.domain.Page` (no Creators, like default constructor, exist): abstract types either need to be mapped to concrete types, have custom deserializer, or contain additional type information\r\n\t at [Source: (PushbackInputStream); line: 1, column: 1]\r\n\t\tat org.springframework.http.converter.json.AbstractJackson2HttpMessageConverter.readJavaType(AbstractJackson2HttpMessageConverter.java:282)\r\n\t\tat org.springframework.http.converter.json.AbstractJackson2HttpMessageConverter.read(AbstractJackson2HttpMessageConverter.java:243)\r\n\t\tat org.springframework.web.client.HttpMessageConverterExtractor.extractData(HttpMessageConverterExtractor.java:105)\r\n\t\tat org.springframework.web.client.RestTemplate$ResponseEntityResponseExtractor.extractData(RestTemplate.java:1034)\r\n\t\tat org.springframework.web.client.RestTemplate$ResponseEntityResponseExtractor.extractData(RestTemplate.java:1017)\r\n\t\tat org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:777)\r\n\t\tat org.springframework.web.client.RestTemplate.execute(RestTemplate.java:710)\r\n\t\tat org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:630)\r\n\t\tat de.rwth.swc.lab.ws2021.daifu.businesslogic.services.AccountService.getAllAccounts(AccountService.java:50)\r\n\t\tat de.rwth.swc.lab.ws2021.daifu.businesslogic.api.AccountController.getAllAccounts(AccountController.java:47)\r\n    ... (rest shortend for better readability)\r\n\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/8108887/generics-with-spring-resttemplate","title":"Communication Between Microservices with Abstract Generics Using Spring RestTemplate","body":"<p>Similar to <a href=\"https://stackoverflow.com/questions/8108887/generics-with-spring-resttemplate\">this</a> question, I'm trying to exchange information between two microservices using Spring <code>RestTemplate</code>. The difference in my case is that I'm working with an abstract class as a generic type parameter, and I'm encountering difficulties.</p>\n<p>Here's an example of my class:</p>\n<pre><code>public &lt;T extends Account&gt; Page&lt;T&gt; getAllAccounts() {   // not working\n    ParameterizedTypeReference&lt;Page&lt;T&gt;&gt; responseType = new ParameterizedTypeReference&lt;Page&lt;T&gt;&gt;() { };\n    ResponseEntity&lt;Page&lt;T&gt;&gt; result = restTemplate.exchange(&quot;http://localhost:8080/api/v1/accounts/&quot;, HttpMethod.GET, null, responseType);\n\n    Page&lt;T&gt; accounts = result.getBody();\n    \n    return accounts;\n}\n</code></pre>\n<p>The function behind the API call has the return type <code>public &lt;T extends Account&gt; Page&lt;T&gt; getAccounts(...) {...}</code>. The type <code>T</code> can be any class that extends <code>Account</code>, as there are multiple <code>Account</code>-Types available.This method works fine for non-abstract classes (e.g., <code>Page&lt;CustomerAccount&gt;</code>), but it fails with abstract classes.</p>\n<p>So, how can I communicate between a microservice running on port <code>8081</code> and another microservice running on port <code>8080</code>, using &quot;abstract generics&quot; (or a similar concept) with Spring <code>RestTemplate</code>?</p>\n<p>When I try to call the function, I receive the following error message:</p>\n<pre><code>This application has no explicit mapping for /error, so you are seeing this as a fallback.\nFri Dec 18 14:55:33 CET 2020\nThere was an unexpected error (type=Internal Server Error, status=500).\nType definition error: [simple type, class org.springframework.data.domain.Page]; nested exception is com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Cannot construct instance of `org.springframework.data.domain.Page` (no Creators, like default constructor, exist): abstract types either need to be mapped to concrete types, have custom deserializer, or contain additional type information at [Source: (PushbackInputStream); line: 1, column: 1]\norg.springframework.http.converter.HttpMessageConversionException: Type definition error: [simple type, class org.springframework.data.domain.Page]; nested exception is com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Cannot construct instance of `org.springframework.data.domain.Page` (no Creators, like default constructor, exist): abstract types either need to be mapped to concrete types, have custom deserializer, or contain additional type information\n at [Source: (PushbackInputStream); line: 1, column: 1]\n    at org.springframework.http.converter.json.AbstractJackson2HttpMessageConverter.readJavaType(AbstractJackson2HttpMessageConverter.java:282)\n    at org.springframework.http.converter.json.AbstractJackson2HttpMessageConverter.read(AbstractJackson2HttpMessageConverter.java:243)\n    at org.springframework.web.client.HttpMessageConverterExtractor.extractData(HttpMessageConverterExtractor.java:105)\n    at org.springframework.web.client.RestTemplate$ResponseEntityResponseExtractor.extractData(RestTemplate.java:1034)\n    at org.springframework.web.client.RestTemplate$ResponseEntityResponseExtractor.extractData(RestTemplate.java:1017)\n    at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:777)\n    at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:710)\n    at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:630)\n    at de.rwth.swc.lab.ws2021.daifu.businesslogic.services.AccountService.getAllAccounts(AccountService.java:50)\n    at de.rwth.swc.lab.ws2021.daifu.businesslogic.api.AccountController.getAllAccounts(AccountController.java:47)\n... (rest shortend for better readability)\n</code></pre>\n"},{"tags":["java","opengl","matrix","vector","transformation"],"comments":[{"owner":{"account_id":679107,"reputation":16403,"user_id":526828,"display_name":"Matic Oblak"},"score":1,"creation_date":1524492064,"post_id":49982063,"comment_id":86982276,"body_markdown":"Not sure that is the issue but the way you put it should `right` not be `(0,0,-1)`? I believe the following needs to be true: `cross(up, d) == right`. Anyway for your &quot;wrong&quot; example please provide testable scenario. So please provide `cam` values that you used in your example that produced wrong results.","body":"Not sure that is the issue but the way you put it should <code>right</code> not be <code>(0,0,-1)</code>? I believe the following needs to be true: <code>cross(up, d) == right</code>. Anyway for your &quot;wrong&quot; example please provide testable scenario. So please provide <code>cam</code> values that you used in your example that produced wrong results."},{"owner":{"account_id":679107,"reputation":16403,"user_id":526828,"display_name":"Matic Oblak"},"score":0,"creation_date":1524492504,"post_id":49982063,"comment_id":86982618,"body_markdown":"Then the rotation might be off from what you expect. I am not sure what values are in your `cam` but if for instance `cam.x` represents a value that from user perspective turns left or right then the rotation must be done around &quot;up&quot;, not around &quot;right&quot;...","body":"Then the rotation might be off from what you expect. I am not sure what values are in your <code>cam</code> but if for instance <code>cam.x</code> represents a value that from user perspective turns left or right then the rotation must be done around &quot;up&quot;, not around &quot;right&quot;..."},{"owner":{"account_id":679107,"reputation":16403,"user_id":526828,"display_name":"Matic Oblak"},"score":0,"creation_date":1524492870,"post_id":49982063,"comment_id":86982917,"body_markdown":"Also be clear about creating the 3 camera vectors. Are these called every time (are they reset to original before new values are processed) because now it looks like they are part of some method but since you normalize them at the end we might expect they are initialized once and then the matrix multiplication is being called many times. If so then it is most likely the construction of your rotation matrix is wrong because you need to rotate around current base vectors. But this again depends on what you expect to have as a result.","body":"Also be clear about creating the 3 camera vectors. Are these called every time (are they reset to original before new values are processed) because now it looks like they are part of some method but since you normalize them at the end we might expect they are initialized once and then the matrix multiplication is being called many times. If so then it is most likely the construction of your rotation matrix is wrong because you need to rotate around current base vectors. But this again depends on what you expect to have as a result."},{"owner":{"account_id":7678261,"reputation":638,"user_id":5818372,"accept_rate":69,"display_name":"Gykonik"},"score":0,"creation_date":1524497005,"post_id":49982063,"comment_id":86985608,"body_markdown":"Ok, I edited it. Now you also have Cam Pos and Cam Rotation. (cam.x is the x value of camera rotation ofc). To the first aspect: This would make sense but if you imagine that you stand at the origin (0,0,0). In my coordinate system d would go forward (in the screen) (1,0,0), up would go up (0,1,0) and then right has to go to the right (0,0,1). What am I missing? And has `cross(up,d)==right` to be true or `cross(d, up)==right`?","body":"Ok, I edited it. Now you also have Cam Pos and Cam Rotation. (cam.x is the x value of camera rotation ofc). To the first aspect: This would make sense but if you imagine that you stand at the origin (0,0,0). In my coordinate system d would go forward (in the screen) (1,0,0), up would go up (0,1,0) and then right has to go to the right (0,0,1). What am I missing? And has <code>cross(up,d)==right</code> to be true or <code>cross(d, up)==right</code>?"},{"owner":{"account_id":7678261,"reputation":638,"user_id":5818372,"accept_rate":69,"display_name":"Gykonik"},"score":0,"creation_date":1524497161,"post_id":49982063,"comment_id":86985719,"body_markdown":"Answer to your 3rd post: The 3 vectors are then used to calculate a view frustum (maybe you know it, for frustum culling). But they don&#39;t get changed I just use them for a few vector additions and scalar products and then call the method again next frame","body":"Answer to your 3rd post: The 3 vectors are then used to calculate a view frustum (maybe you know it, for frustum culling). But they don&#39;t get changed I just use them for a few vector additions and scalar products and then call the method again next frame"},{"owner":{"account_id":2968584,"reputation":50571,"user_id":2521214,"accept_rate":71,"display_name":"Spektre"},"score":0,"creation_date":1524553401,"post_id":49982063,"comment_id":87006943,"body_markdown":"you can obtain your vectors directly from camera matrix see [Understanding 4x4 homogenous transform matrices](https://stackoverflow.com/a/28084380/2521214). You can even apply transform matrix on your vectors you just need to temporarily set the matrix origin to `(0,0,0)` so you do not offset the vectors.","body":"you can obtain your vectors directly from camera matrix see <a href=\"https://stackoverflow.com/a/28084380/2521214\">Understanding 4x4 homogenous transform matrices</a>. You can even apply transform matrix on your vectors you just need to temporarily set the matrix origin to <code>(0,0,0)</code> so you do not offset the vectors."},{"owner":{"account_id":7678261,"reputation":638,"user_id":5818372,"accept_rate":69,"display_name":"Gykonik"},"score":0,"creation_date":1524560840,"post_id":49982063,"comment_id":87011441,"body_markdown":"What do you mean by camera matrix? My only 2 matrices are projectionMatrix, viewMatrix (and transformationMatrix). Is this the same as a viewMatrix, or how do I get the camera matrix? And could you maybe explain your idea more in depth? :)","body":"What do you mean by camera matrix? My only 2 matrices are projectionMatrix, viewMatrix (and transformationMatrix). Is this the same as a viewMatrix, or how do I get the camera matrix? And could you maybe explain your idea more in depth? :)"},{"owner":{"account_id":7678261,"reputation":638,"user_id":5818372,"accept_rate":69,"display_name":"Gykonik"},"score":0,"creation_date":1524571118,"post_id":49982063,"comment_id":87018123,"body_markdown":"I edited the post to be up to date. Seems like we got closer to the solution","body":"I edited the post to be up to date. Seems like we got closer to the solution"},{"owner":{"account_id":2968584,"reputation":50571,"user_id":2521214,"accept_rate":71,"display_name":"Spektre"},"score":0,"creation_date":1524595741,"post_id":49982063,"comment_id":87034240,"body_markdown":"well I am talking about [`ModelView` matrix which is the multiplication of Model matrix (placing of rendered object in space) and View matrix (inverse of camera matrix)](https://stackoverflow.com/a/49841796/2521214).  If you got just one matrix on CPU side (on GPU you can have just one) than you do not have direct access to your camera nor object placing other than in the right place in between the incremental transformation calls. Projection matrix hold just the projection (usually perspective) and does not have any relation to camera placing (otherwise you got projection matrix abuse)","body":"well I am talking about <a href=\"https://stackoverflow.com/a/49841796/2521214\"><code>ModelView</code> matrix which is the multiplication of Model matrix (placing of rendered object in space) and View matrix (inverse of camera matrix)</a>.  If you got just one matrix on CPU side (on GPU you can have just one) than you do not have direct access to your camera nor object placing other than in the right place in between the incremental transformation calls. Projection matrix hold just the projection (usually perspective) and does not have any relation to camera placing (otherwise you got projection matrix abuse)"},{"owner":{"account_id":2968584,"reputation":50571,"user_id":2521214,"accept_rate":71,"display_name":"Spektre"},"score":0,"creation_date":1524595861,"post_id":49982063,"comment_id":87034303,"body_markdown":"the last 3 links in the **Understanding 4x4 homogenous transform** I linked before deals with camera and player control which is most likely what you want to see ...","body":"the last 3 links in the <b>Understanding 4x4 homogenous transform</b> I linked before deals with camera and player control which is most likely what you want to see ..."},{"owner":{"account_id":7678261,"reputation":638,"user_id":5818372,"accept_rate":69,"display_name":"Gykonik"},"score":0,"creation_date":1524604006,"post_id":49982063,"comment_id":87038038,"body_markdown":"Ahh I forgot, I also have a ModelView matrix. I have a modelMatrix with the cameras rotation, a viewMatrix and a modelViewMatrix. Im no sure, how I can extract the 3 vectors out of the modelViewMatrix. Could you explain it?","body":"Ahh I forgot, I also have a ModelView matrix. I have a modelMatrix with the cameras rotation, a viewMatrix and a modelViewMatrix. Im no sure, how I can extract the 3 vectors out of the modelViewMatrix. Could you explain it?"},{"owner":{"account_id":2968584,"reputation":50571,"user_id":2521214,"accept_rate":71,"display_name":"Spektre"},"score":0,"creation_date":1524638745,"post_id":49982063,"comment_id":87047595,"body_markdown":"you are using some `matrix4f` class I do not know (I do not code in JAVA) but if you can access individual cells of it see in which places the vectors and origin are located. The image in the link of mine is for OpenGL convention. The DirectX has it transponated. In pure OpenGL you can use `float m[16]; glGetFloatv(GL_MODELVIEW_MATRIX,m);` btw. to notify user `nick` present in the thread you should add `@nick` to your comment and site will notify the user automatically (not needed for author of the tread which is you here but for all others you should so we see you commented us)","body":"you are using some <code>matrix4f</code> class I do not know (I do not code in JAVA) but if you can access individual cells of it see in which places the vectors and origin are located. The image in the link of mine is for OpenGL convention. The DirectX has it transponated. In pure OpenGL you can use <code>float m[16]; glGetFloatv(GL_MODELVIEW_MATRIX,m);</code> btw. to notify user <code>nick</code> present in the thread you should add <code>@nick</code> to your comment and site will notify the user automatically (not needed for author of the tread which is you here but for all others you should so we see you commented us)"},{"owner":{"account_id":2968584,"reputation":50571,"user_id":2521214,"accept_rate":71,"display_name":"Spektre"},"score":0,"creation_date":1524638935,"post_id":49982063,"comment_id":87047698,"body_markdown":"so the `x,y,z` axises and `o` origin are either first 4 columns in matrix (OpenGL) or rows (DirectX) ignoring the last element which holds `w` and projection.","body":"so the <code>x,y,z</code> axises and <code>o</code> origin are either first 4 columns in matrix (OpenGL) or rows (DirectX) ignoring the last element which holds <code>w</code> and projection."},{"owner":{"account_id":7678261,"reputation":638,"user_id":5818372,"accept_rate":69,"display_name":"Gykonik"},"score":0,"creation_date":1524644294,"post_id":49982063,"comment_id":87050724,"body_markdown":"@Spektre my matrix is [this](https://ibb.co/fP8nwx). I guess, that the columns are `x,y,z` and `o`, aren&#39;t they? And this are my desired straight, up and right vectors? Because it seems that they are the negativ. Can this be because I didnt invert the viewMatrix?","body":"@Spektre my matrix is <a href=\"https://ibb.co/fP8nwx\" rel=\"nofollow noreferrer\">this</a>. I guess, that the columns are <code>x,y,z</code> and <code>o</code>, aren&#39;t they? And this are my desired straight, up and right vectors? Because it seems that they are the negativ. Can this be because I didnt invert the viewMatrix?"},{"owner":{"account_id":2968584,"reputation":50571,"user_id":2521214,"accept_rate":71,"display_name":"Spektre"},"score":0,"creation_date":1524644620,"post_id":49982063,"comment_id":87050909,"body_markdown":"@Niklas render them and you will see. They can be both it depends  on the multiplication order (`matrix*vector` or `vector*matrix`) is used and the order of matrix storage (row-major,column major) . So easier is to try one render and see if not OK than it is the other.  to render the matrix just extract `X,Y,Z,O` and render lines `O,O+X*a` , `O,O+Y*a` and `O,O+Z*a` where `a` is size of the axises to render. The numbers suggest you are using rows (**DirectX** style) so origin is `O(47.5,-47.42,90.82)` I moved the image to this site into your question. It is better to have it here","body":"@Niklas render them and you will see. They can be both it depends  on the multiplication order (<code>matrix*vector</code> or <code>vector*matrix</code>) is used and the order of matrix storage (row-major,column major) . So easier is to try one render and see if not OK than it is the other.  to render the matrix just extract <code>X,Y,Z,O</code> and render lines <code>O,O+X*a</code> , <code>O,O+Y*a</code> and <code>O,O+Z*a</code> where <code>a</code> is size of the axises to render. The numbers suggest you are using rows (<b>DirectX</b> style) so origin is <code>O(47.5,-47.42,90.82)</code> I moved the image to this site into your question. It is better to have it here"},{"owner":{"account_id":7678261,"reputation":638,"user_id":5818372,"accept_rate":69,"display_name":"Gykonik"},"score":0,"creation_date":1524659712,"post_id":49982063,"comment_id":87060923,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/169760/discussion-between-niklas-and-spektre).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/169760/discussion-between-niklas-and-spektre\">continue this discussion in chat</a>."},{"owner":{"account_id":2968584,"reputation":50571,"user_id":2521214,"accept_rate":71,"display_name":"Spektre"},"score":0,"creation_date":1524661234,"post_id":49982063,"comment_id":87062108,"body_markdown":"@Niklas IIRC chat does not notify so you need to check it periodically on your own. I added some stuff there","body":"@Niklas IIRC chat does not notify so you need to check it periodically on your own. I added some stuff there"}],"owner":{"account_id":7678261,"reputation":638,"user_id":5818372,"accept_rate":69,"display_name":"Gykonik"},"comment_count":17,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":600,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1683542266,"creation_date":1524489238,"question_id":49982063,"body_markdown":"I have three vectors representing the forward direction (`d`), upward direction (`up`), and right direction (`right`) in an OpenGL camera system. I need to update these vectors when the camera is rotated, so they continue to face the correct directions. My coordinate system follows the convention of `+x` to the right, `+y` upward, and `+z` out of the screen.\r\n\r\n[![Vector Representation][1]][1]\r\n[![Coordinate System][2]][2]\r\n\r\n\r\nHere&#39;s my current approach:\r\n\r\n    // Create the three vectors (Vector4f used for OpenGL compatibility)\r\n    d = new Vector4f(0, 0, -1, 0);\r\n    right = new Vector4f(1, 0, 0, 0);\r\n    \r\n    // Create a transformation matrix\r\n    Matrix4f matrix = new Matrix4f();\r\n    matrix.setIdentity();\r\n    Matrix4f.rotate((float) Math.toRadians(cam.getPitch()), new Vector3f(1, 0, 0), matrix, matrix);\r\n    Matrix4f.rotate((float) Math.toRadians(cam.getYaw()), new Vector3f(0, 1, 0), matrix, matrix);\r\n    Matrix4f.rotate((float) Math.toRadians(cam.getRoll()), new Vector3f(0, 0, 1), matrix, matrix);\r\n    \r\n    // Transform the 3 vectors with the matrix\r\n    Matrix4f.transform(matrix, d, d);\r\n    Matrix4f.transform(matrix, right, right);\r\n    \r\n    up = Vector3f.cross(right.xyz, d.xyz, null);\r\n    \r\n    // Normalize the vectors\r\n    d.normalise(); up.normalise(); right.normalise();\r\n\r\n**Problem**\r\n\r\nHowever, when the camera is pointing in certain directions, the resulting vectors do not match the expected values. Here are a few examples:\r\n\r\nWhen the camera points in the direction of the **x-axis**:\r\n\r\n    Camera Position: (-63, 15, 100)\r\n    Camera Rotation: (0, 90, 15)\r\n    Current Vectors: d(-1, 0, 0); up(0, 1, 0); right(0, 0, -1)\r\n    Desired Vectors: d(1, 0, 0); up(0, 1, 0); right(0, 0, 1)\r\n\r\nWhen the camera points in the direction of the **z-axis**:\r\n\r\n    Camera Position: (-15, -15, 51)\r\n    Camera Rotation: (0, 0, 15)\r\n    Current Vectors: d(0, 0, 1); up(0, 1, 0); right(-1, 0, 0)\r\n    Desired Vectors: d(0, 0, 1); up(0, 1, 0); right(-1, 0, 0)\r\n\r\nWhen the camera looks upward along the **y-axis**:\r\n\r\n    Camera Position: (-11, -48, 104)\r\n    Camera Rotation: (0, 90, -90)\r\n    Current Vectors: d(-1, 0, 0); up(0, 0, -1); right(0, -1, 0)\r\n    Desired Vectors: d(0, 1, 0); up(-1, 0, 0); right(0, 0, 1)\r\n\r\n\r\nNone of the calculated vectors match the desired vectors, and I&#39;m unsure what went wrong during the rotation. If you require additional information, please let me know, and I will update the post accordingly.\r\n\r\n**EDIT:**\r\nI have made some progress by modifying the source code and examples. The resulting vectors are now closer to the desired values, but they still fall short. It seems like there might be a small mistake or oversight that is causing the discrepancy. Additionally, I am curious if there are any specific conditions or limitations for the rotation angles, such as a restricted range (e.g., -180&#176; to +180&#176;), that I should be aware of? (for example only -180&#176; to +180&#176; or something like that?)\r\n\r\n\r\nHere is a visual representation of my transformation matrix: \r\n\r\n [![Transformation Matrix][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/nmwvb.png\r\n  [2]: https://i.stack.imgur.com/5EJE8.png\r\n  [3]: https://i.stack.imgur.com/994GP.png\r\n\r\n\r\n\r\n","title":"Troubleshooting 3D Vector Rotation in OpenGL Camera System","body":"<p>I have three vectors representing the forward direction (<code>d</code>), upward direction (<code>up</code>), and right direction (<code>right</code>) in an OpenGL camera system. I need to update these vectors when the camera is rotated, so they continue to face the correct directions. My coordinate system follows the convention of <code>+x</code> to the right, <code>+y</code> upward, and <code>+z</code> out of the screen.</p>\n<p><a href=\"https://i.stack.imgur.com/nmwvb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nmwvb.png\" alt=\"Vector Representation\" /></a>\n<a href=\"https://i.stack.imgur.com/5EJE8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5EJE8.png\" alt=\"Coordinate System\" /></a></p>\n<p>Here's my current approach:</p>\n<pre><code>// Create the three vectors (Vector4f used for OpenGL compatibility)\nd = new Vector4f(0, 0, -1, 0);\nright = new Vector4f(1, 0, 0, 0);\n\n// Create a transformation matrix\nMatrix4f matrix = new Matrix4f();\nmatrix.setIdentity();\nMatrix4f.rotate((float) Math.toRadians(cam.getPitch()), new Vector3f(1, 0, 0), matrix, matrix);\nMatrix4f.rotate((float) Math.toRadians(cam.getYaw()), new Vector3f(0, 1, 0), matrix, matrix);\nMatrix4f.rotate((float) Math.toRadians(cam.getRoll()), new Vector3f(0, 0, 1), matrix, matrix);\n\n// Transform the 3 vectors with the matrix\nMatrix4f.transform(matrix, d, d);\nMatrix4f.transform(matrix, right, right);\n\nup = Vector3f.cross(right.xyz, d.xyz, null);\n\n// Normalize the vectors\nd.normalise(); up.normalise(); right.normalise();\n</code></pre>\n<p><strong>Problem</strong></p>\n<p>However, when the camera is pointing in certain directions, the resulting vectors do not match the expected values. Here are a few examples:</p>\n<p>When the camera points in the direction of the <strong>x-axis</strong>:</p>\n<pre><code>Camera Position: (-63, 15, 100)\nCamera Rotation: (0, 90, 15)\nCurrent Vectors: d(-1, 0, 0); up(0, 1, 0); right(0, 0, -1)\nDesired Vectors: d(1, 0, 0); up(0, 1, 0); right(0, 0, 1)\n</code></pre>\n<p>When the camera points in the direction of the <strong>z-axis</strong>:</p>\n<pre><code>Camera Position: (-15, -15, 51)\nCamera Rotation: (0, 0, 15)\nCurrent Vectors: d(0, 0, 1); up(0, 1, 0); right(-1, 0, 0)\nDesired Vectors: d(0, 0, 1); up(0, 1, 0); right(-1, 0, 0)\n</code></pre>\n<p>When the camera looks upward along the <strong>y-axis</strong>:</p>\n<pre><code>Camera Position: (-11, -48, 104)\nCamera Rotation: (0, 90, -90)\nCurrent Vectors: d(-1, 0, 0); up(0, 0, -1); right(0, -1, 0)\nDesired Vectors: d(0, 1, 0); up(-1, 0, 0); right(0, 0, 1)\n</code></pre>\n<p>None of the calculated vectors match the desired vectors, and I'm unsure what went wrong during the rotation. If you require additional information, please let me know, and I will update the post accordingly.</p>\n<p><strong>EDIT:</strong>\nI have made some progress by modifying the source code and examples. The resulting vectors are now closer to the desired values, but they still fall short. It seems like there might be a small mistake or oversight that is causing the discrepancy. Additionally, I am curious if there are any specific conditions or limitations for the rotation angles, such as a restricted range (e.g., -180° to +180°), that I should be aware of? (for example only -180° to +180° or something like that?)</p>\n<p>Here is a visual representation of my transformation matrix:</p>\n<p><a href=\"https://i.stack.imgur.com/994GP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/994GP.png\" alt=\"Transformation Matrix\" /></a></p>\n"},{"tags":["java","interface","java-8","abstract-class","default-method"],"comments":[{"owner":{"account_id":1268556,"reputation":48088,"user_id":1225328,"accept_rate":93,"display_name":"sp00m"},"score":47,"creation_date":1384510357,"post_id":19998454,"comment_id":29775354,"body_markdown":"Maybe you still cannot have fields, private methods, etc. in interfaces, while you can in abstract class?","body":"Maybe you still cannot have fields, private methods, etc. in interfaces, while you can in abstract class?"},{"owner":{"account_id":3232997,"reputation":333,"user_id":2727802,"display_name":"Ashutosh Ranjan"},"score":2,"creation_date":1434607013,"post_id":19998454,"comment_id":49852865,"body_markdown":"I was wondering about this topic before, now i`m clear.Thanks to @Narendra Pathai . I would like to add link of another thread asked by you regarding same topic, as both of these were my doubts.\nhttp://stackoverflow.com/questions/19998309/purpose-of-default-or-defender-methods-in-java-8","body":"I was wondering about this topic before, now i`m clear.Thanks to @Narendra Pathai . I would like to add link of another thread asked by you regarding same topic, as both of these were my doubts. <a href=\"http://stackoverflow.com/questions/19998309/purpose-of-default-or-defender-methods-in-java-8\" title=\"purpose of default or defender methods in java 8\">stackoverflow.com/questions/19998309/&hellip;</a>"},{"owner":{"account_id":6935061,"reputation":475,"user_id":5323285,"display_name":"Fabri Pautasso"},"score":0,"creation_date":1479731704,"post_id":19998454,"comment_id":68667273,"body_markdown":"You can find a nice post on this one here: http://blog.codefx.org/java/everything-about-default-methods/","body":"You can find a nice post on this one here: <a href=\"http://blog.codefx.org/java/everything-about-default-methods/\" rel=\"nofollow noreferrer\">blog.codefx.org/java/everything-about-default-methods</a>"},{"owner":{"account_id":953426,"reputation":918,"user_id":979145,"accept_rate":25,"display_name":"DaBlick"},"score":0,"creation_date":1534195588,"post_id":19998454,"comment_id":90615842,"body_markdown":"You can still sometimes code a base class as an interface even if the base class has state.    It&#39;s just that the interface has to define setters and getters for the state and the concrete classes have to implement them and define the field.\n\nOne restriction on this is that in an abstract class, the bean property can be private or protected.  In interfaces only have public methods.   \n\nSo one reason you would use an abstract base class is if your classes have a property that needs to be private or protected.","body":"You can still sometimes code a base class as an interface even if the base class has state.    It&#39;s just that the interface has to define setters and getters for the state and the concrete classes have to implement them and define the field.  One restriction on this is that in an abstract class, the bean property can be private or protected.  In interfaces only have public methods.     So one reason you would use an abstract base class is if your classes have a property that needs to be private or protected."},{"owner":{"account_id":15756672,"reputation":191,"user_id":11369664,"display_name":"George Xavier"},"score":0,"creation_date":1563984304,"post_id":19998454,"comment_id":100884292,"body_markdown":"@DaBlick \nCould you not solve the state problem in an interface via a HashMap. \nEx: if you want a class Foo which holds int a, b, String c. and you want them to have state, create a \nHashMap&lt; /*name of Foo object*/ String, \n/*map of fields*/ Hashmap&lt; \n/*name specific Field*/ String, /*field value*/ Object&gt;&gt; map. \nWhen you want to &quot;instantiate&quot; the theoretical class Foo, you have method, instantiate(String nameOfFoo) which does \nmap.put(nameOfFoo, fields)\nwhere fields is a HashMap&lt;String, Object&gt;\nfields.put(&quot;a&quot;, new int(&quot;5&quot;));\nfields.put(&quot;b&quot;, new int(&quot;6&quot;));\nfields.put(&quot;c&quot;, &quot;blah&quot;));","body":"@DaBlick  Could you not solve the state problem in an interface via a HashMap.  Ex: if you want a class Foo which holds int a, b, String c. and you want them to have state, create a  HashMap&lt; /*name of Foo object*/ String,  /*map of fields*/ Hashmap&lt;  /*name specific Field*/ String, /*field value*/ Object&gt;&gt; map.  When you want to &quot;instantiate&quot; the theoretical class Foo, you have method, instantiate(String nameOfFoo) which does  map.put(nameOfFoo, fields) where fields is a HashMap&lt;String, Object&gt; fields.put(&quot;a&quot;, new int(&quot;5&quot;)); fields.put(&quot;b&quot;, new int(&quot;6&quot;)); fields.put(&quot;c&quot;, &quot;blah&quot;));"},{"owner":{"account_id":15756672,"reputation":191,"user_id":11369664,"display_name":"George Xavier"},"score":0,"creation_date":1563984360,"post_id":19998454,"comment_id":100884323,"body_markdown":"in other words &lt;&quot;nameOfFoo&quot;, &lt;&quot;specificfieldofFoo&quot;, fieldValue&gt; &gt;","body":"in other words &lt;&quot;nameOfFoo&quot;, &lt;&quot;specificfieldofFoo&quot;, fieldValue&gt; &gt;"},{"owner":{"account_id":953426,"reputation":918,"user_id":979145,"accept_rate":25,"display_name":"DaBlick"},"score":0,"creation_date":1563999708,"post_id":19998454,"comment_id":100891158,"body_markdown":"@GeorgeXavier To me it sounds like the HashMap you are talking about IS &quot;state&quot;.     I don&#39;t think in an interface you have way to hold the &quot;state&quot; of the HashMap.","body":"@GeorgeXavier To me it sounds like the HashMap you are talking about IS &quot;state&quot;.     I don&#39;t think in an interface you have way to hold the &quot;state&quot; of the HashMap."},{"owner":{"account_id":15756672,"reputation":191,"user_id":11369664,"display_name":"George Xavier"},"score":0,"creation_date":1564065482,"post_id":19998454,"comment_id":100916219,"body_markdown":"@DaBlick a static final map or collection can hold nonstatic values... I think. In which case, the map links the name of the object to another map which links the specific field in the specific object, to the value. Like an index. Enter in the name of the &quot;instance&quot; retrieving the map of fields. Enter in the name of the specific field in that already retrieved &quot;instance&quot; retrieving the field value.","body":"@DaBlick a static final map or collection can hold nonstatic values... I think. In which case, the map links the name of the object to another map which links the specific field in the specific object, to the value. Like an index. Enter in the name of the &quot;instance&quot; retrieving the map of fields. Enter in the name of the specific field in that already retrieved &quot;instance&quot; retrieving the field value."},{"owner":{"account_id":953426,"reputation":918,"user_id":979145,"accept_rate":25,"display_name":"DaBlick"},"score":0,"creation_date":1564084507,"post_id":19998454,"comment_id":100924994,"body_markdown":"@GeorgeXavier   That is not semantically equivalent to fields in general.   Only static fields.   I would consider that a bad practice and discourage that.  All implementations of the interface would share the same property values (like static fields, but unlike non-static fields).   You also expose yourself to bugs, re-entrancy issues, etc.  JMHO","body":"@GeorgeXavier   That is not semantically equivalent to fields in general.   Only static fields.   I would consider that a bad practice and discourage that.  All implementations of the interface would share the same property values (like static fields, but unlike non-static fields).   You also expose yourself to bugs, re-entrancy issues, etc.  JMHO"},{"owner":{"account_id":15756672,"reputation":191,"user_id":11369664,"display_name":"George Xavier"},"score":0,"creation_date":1564086924,"post_id":19998454,"comment_id":100925968,"body_markdown":"@DaBlick It&#39;s not a field, but it works as an equivalent. All you are doing is linking the object to a name via a string and hashmap, and the &quot;field&quot; equivalents would be inside the second hashmap. I never meant that systematically, it is a field. Rather, I meant that it works as an equivalent in that it will technically allow for a simulated &quot;instantiation&quot;. I don&#39;t know what you mean by property values; the values inside the hashmap are able to be changed even if the hashmap in itself is static. I don&#39;t know what re-entry is though.","body":"@DaBlick It&#39;s not a field, but it works as an equivalent. All you are doing is linking the object to a name via a string and hashmap, and the &quot;field&quot; equivalents would be inside the second hashmap. I never meant that systematically, it is a field. Rather, I meant that it works as an equivalent in that it will technically allow for a simulated &quot;instantiation&quot;. I don&#39;t know what you mean by property values; the values inside the hashmap are able to be changed even if the hashmap in itself is static. I don&#39;t know what re-entry is though."},{"owner":{"account_id":1257650,"reputation":23489,"user_id":1216775,"accept_rate":54,"display_name":"akhil_mittal"},"score":0,"creation_date":1631159247,"post_id":19998454,"comment_id":122149174,"body_markdown":"Default methods has put a stop on classic pattern: https://stackoverflow.com/a/32774868/1216775","body":"Default methods has put a stop on classic pattern: <a href=\"https://stackoverflow.com/a/32774868/1216775\">stackoverflow.com/a/32774868/1216775</a>"}],"answers":[{"comments":[{"owner":{"account_id":2078312,"reputation":16240,"user_id":1851024,"accept_rate":82,"display_name":"Andrey Chaschev"},"score":1,"creation_date":1384511267,"post_id":19998652,"comment_id":29775815,"body_markdown":"&#39;it is impossible to add methods to an interface without breaking the existing implementation&#39; - is it?","body":"&#39;it is impossible to add methods to an interface without breaking the existing implementation&#39; - is it?"},{"owner":{"account_id":1114067,"reputation":196801,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"score":31,"creation_date":1384511464,"post_id":19998652,"comment_id":29775931,"body_markdown":"@AndreyChaschev If you add a new method to the interface then all implementors must implement that new method. Therefore it breaks existing implementations.","body":"@AndreyChaschev If you add a new method to the interface then all implementors must implement that new method. Therefore it breaks existing implementations."},{"owner":{"account_id":2078312,"reputation":16240,"user_id":1851024,"accept_rate":82,"display_name":"Andrey Chaschev"},"score":4,"creation_date":1384511969,"post_id":19998652,"comment_id":29776179,"body_markdown":"@MarkoTopolnik thanks, missed that. Just to mention there is a way to *partially* avoid this - by presenting this method in a default abstract implementation. For this example this would be `AbstractList::forEach` throwing an `UnsupportedOperationException`.","body":"@MarkoTopolnik thanks, missed that. Just to mention there is a way to <i>partially</i> avoid this - by presenting this method in a default abstract implementation. For this example this would be <code>AbstractList::forEach</code> throwing an <code>UnsupportedOperationException</code>."},{"owner":{"account_id":1114067,"reputation":196801,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"score":4,"creation_date":1384512225,"post_id":19998652,"comment_id":29776324,"body_markdown":"@AndreyChaschev Yes, that was the old way (khm... *is the current way* :), with the deficiency that it restricts the implementor to single inheritance from the provided abstract implementation.","body":"@AndreyChaschev Yes, that was the old way (khm... <i>is the current way</i> :), with the deficiency that it restricts the implementor to single inheritance from the provided abstract implementation."},{"owner":{"account_id":15756672,"reputation":191,"user_id":11369664,"display_name":"George Xavier"},"score":0,"creation_date":1564088280,"post_id":19998652,"comment_id":100926427,"body_markdown":"I won&#39;t break if it so happens that ahead of time, all implementations included that method. Which is unlikely but possible.","body":"I won&#39;t break if it so happens that ahead of time, all implementations included that method. Which is unlikely but possible."}],"tags":[],"owner":{"account_id":1319573,"reputation":21851,"user_id":1265660,"accept_rate":75,"display_name":"Masudul"},"comment_count":5,"down_vote_count":2,"up_vote_count":73,"is_accepted":false,"score":71,"last_activity_date":1384510555,"creation_date":1384510555,"answer_id":19998652,"question_id":19998454,"body_markdown":"This is being described in this [article][1]. Think about `forEach` of Collections.\r\n\r\n    List&lt;?&gt; list = …\r\n    list.forEach(…);\r\n\r\n&gt; The forEach isn’t declared by `java.util.List` nor the\r\n&gt; `java.util.Collection` interface yet. One obvious solution would be to\r\n&gt; just add the new method to the existing interface and provide the\r\n&gt; implementation where required in the JDK. However, once published, it\r\n&gt; is impossible to add methods to an interface without breaking the\r\n&gt; existing implementation.\r\n&gt; \r\n&gt; The benefit that default methods bring is that now it’s possible to\r\n&gt; add a new default method to the interface and it doesn’t break the\r\n&gt; implementations.\r\n\r\n\r\n  [1]: http://zeroturnaround.com/rebellabs/java-8-explained-default-methods/","title":"When to use: Java 8+ interface default method, vs. abstract method","body":"<p>This is being described in this <a href=\"http://zeroturnaround.com/rebellabs/java-8-explained-default-methods/\" rel=\"noreferrer\">article</a>. Think about <code>forEach</code> of Collections.</p>\n\n<pre><code>List&lt;?&gt; list = …\nlist.forEach(…);\n</code></pre>\n\n<blockquote>\n  <p>The forEach isn’t declared by <code>java.util.List</code> nor the\n  <code>java.util.Collection</code> interface yet. One obvious solution would be to\n  just add the new method to the existing interface and provide the\n  implementation where required in the JDK. However, once published, it\n  is impossible to add methods to an interface without breaking the\n  existing implementation.</p>\n  \n  <p>The benefit that default methods bring is that now it’s possible to\n  add a new default method to the interface and it doesn’t break the\n  implementations.</p>\n</blockquote>\n"},{"comments":[{"owner":{"account_id":2414779,"reputation":14072,"user_id":2109070,"accept_rate":62,"display_name":"Trying"},"score":28,"creation_date":1442174941,"post_id":19998768,"comment_id":52964024,"body_markdown":"This answer is actually correct and makes sense especially &quot;Conceptually, main purpose of defender methods is a backward compatibility &quot;","body":"This answer is actually correct and makes sense especially &quot;Conceptually, main purpose of defender methods is a backward compatibility &quot;"},{"owner":{"account_id":1019866,"reputation":9990,"user_id":1030527,"accept_rate":86,"display_name":"bernie"},"score":1,"creation_date":1465914138,"post_id":19998768,"comment_id":63093467,"body_markdown":"@UnKnown this page gives more insight: https://docs.oracle.com/javase/tutorial/java/IandI/defaultmethods.html","body":"@UnKnown this page gives more insight: <a href=\"https://docs.oracle.com/javase/tutorial/java/IandI/defaultmethods.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/java/IandI/defaultmethods.ht&zwnj;&#8203;ml</a>"},{"owner":{"account_id":28866,"reputation":473,"user_id":77462,"accept_rate":38,"display_name":"LegendLength"},"score":0,"creation_date":1500102952,"post_id":19998768,"comment_id":77202292,"body_markdown":"@UnKnown, basically it allows you to add methods to an interface and classes that implement that interface automatically get that functionality.","body":"@UnKnown, basically it allows you to add methods to an interface and classes that implement that interface automatically get that functionality."},{"owner":{"account_id":1162514,"reputation":993,"user_id":1141741,"accept_rate":50,"display_name":"Anuroop"},"score":3,"creation_date":1505641413,"post_id":19998768,"comment_id":79488367,"body_markdown":"A more subtle point about point no. 2 above about &quot;can hold state is this&quot;. Abstract classes can hold state which can be changed later. Interfaces can also hold state but once a state is assigned after instance creation the state cannot be changed.","body":"A more subtle point about point no. 2 above about &quot;can hold state is this&quot;. Abstract classes can hold state which can be changed later. Interfaces can also hold state but once a state is assigned after instance creation the state cannot be changed."},{"owner":{"account_id":310349,"reputation":839,"user_id":623280,"accept_rate":80,"display_name":"geronimo"},"score":5,"creation_date":1513941606,"post_id":19998768,"comment_id":82850401,"body_markdown":"@Anuroop I&#39;d not describe the `public static final` fields of an interface as &quot;state&quot;. The `static` part means that the&#39;re not related to a particular instance at all. They are assigned _on class instantiation_, which is not the same as _after instance creation_.","body":"@Anuroop I&#39;d not describe the <code>public static final</code> fields of an interface as &quot;state&quot;. The <code>static</code> part means that the&#39;re not related to a particular instance at all. They are assigned <i>on class instantiation</i>, which is not the same as <i>after instance creation</i>."},{"owner":{"account_id":2503462,"reputation":55,"user_id":2177910,"display_name":"Faheem Shah"},"score":2,"creation_date":1585126942,"post_id":19998768,"comment_id":107651301,"body_markdown":"I like the answer but what does &quot;Conceptually, main purpose of defender methods is a backward compatibility after introduction of new features (as lambda-functions) in Java 8&quot; mean?","body":"I like the answer but what does &quot;Conceptually, main purpose of defender methods is a backward compatibility after introduction of new features (as lambda-functions) in Java 8&quot; mean?"},{"owner":{"account_id":708540,"reputation":4059,"user_id":2013891,"accept_rate":67,"display_name":"Glenn Mohammad"},"score":0,"creation_date":1610366760,"post_id":19998768,"comment_id":116101400,"body_markdown":"I just learned that the assumption taken was based on backward-compat. Thought it&#39;s got more something to do with resorting to multiple inheritance or &quot;Traits&quot; haha","body":"I just learned that the assumption taken was based on backward-compat. Thought it&#39;s got more something to do with resorting to multiple inheritance or &quot;Traits&quot; haha"}],"tags":[],"owner":{"account_id":3589069,"reputation":1549,"user_id":2995532,"display_name":"Vadym Vasyliev"},"comment_count":7,"down_vote_count":1,"up_vote_count":154,"is_accepted":false,"score":153,"last_activity_date":1384510908,"creation_date":1384510908,"answer_id":19998768,"question_id":19998454,"body_markdown":"There are a few technical differences. Abstract classes can still do more in comparison to Java 8 interfaces:\r\n\r\n 1. Abstract class can have a constructor.\r\n 2. Abstract classes are more structured and can hold a state.\r\n\r\nConceptually, main purpose of defender methods is a backward compatibility after introduction of new features (as lambda-functions) in Java 8.","title":"When to use: Java 8+ interface default method, vs. abstract method","body":"<p>There are a few technical differences. Abstract classes can still do more in comparison to Java 8 interfaces:</p>\n\n<ol>\n<li>Abstract class can have a constructor.</li>\n<li>Abstract classes are more structured and can hold a state.</li>\n</ol>\n\n<p>Conceptually, main purpose of defender methods is a backward compatibility after introduction of new features (as lambda-functions) in Java 8.</p>\n"},{"comments":[{"owner":{"account_id":1974305,"reputation":767,"user_id":1772454,"display_name":"panther"},"score":41,"creation_date":1424112421,"post_id":19998827,"comment_id":45409484,"body_markdown":"By this reasoning, the next thing they would add is default method declarations. \nI am still unsure about this, the feature seems more like a hack to me that is being exposed to everyone for misuse.","body":"By this reasoning, the next thing they would add is default method declarations.  I am still unsure about this, the feature seems more like a hack to me that is being exposed to everyone for misuse."},{"owner":{"account_id":1162514,"reputation":993,"user_id":1141741,"accept_rate":50,"display_name":"Anuroop"},"score":3,"creation_date":1505641283,"post_id":19998827,"comment_id":79488340,"body_markdown":"The only use of Abstract Classes in Java 8 era that i can see is for defining non-final fields. In Interfaces the fields are by default final so you cannot change them once they are assigned.","body":"The only use of Abstract Classes in Java 8 era that i can see is for defining non-final fields. In Interfaces the fields are by default final so you cannot change them once they are assigned."},{"owner":{"account_id":1114067,"reputation":196801,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"score":1,"creation_date":1505641329,"post_id":19998827,"comment_id":79488350,"body_markdown":"@Anuroop Interfaces cannot declare instance fields at all.","body":"@Anuroop Interfaces cannot declare instance fields at all."},{"owner":{"account_id":1162514,"reputation":993,"user_id":1141741,"accept_rate":50,"display_name":"Anuroop"},"score":0,"creation_date":1505641617,"post_id":19998827,"comment_id":79488422,"body_markdown":"@MarkoTopolnik I would like to add to your comment that interface fields are by default `public static final` and this is what i mean by my previous comment.","body":"@MarkoTopolnik I would like to add to your comment that interface fields are by default <code>public static final</code> and this is what i mean by my previous comment."},{"owner":{"account_id":1114067,"reputation":196801,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"score":8,"creation_date":1505641678,"post_id":19998827,"comment_id":79488439,"body_markdown":"@Anuroop Not just by default---that&#39;s the only option. Interfaces cannot declare instance state, which is why abstract classes are here to stay.","body":"@Anuroop Not just by default---that&#39;s the only option. Interfaces cannot declare instance state, which is why abstract classes are here to stay."},{"owner":{"account_id":1374097,"reputation":564,"user_id":1308453,"accept_rate":100,"display_name":"Philip Rego"},"score":0,"creation_date":1519761552,"post_id":19998827,"comment_id":85038915,"body_markdown":"&quot;The constraint on the default method is that it can be implemented only in the terms of calls to other interface methods&quot; How is that different then methods in an abstract class. Abstract methods can only call methods in it&#39;s class or a superclass.","body":"&quot;The constraint on the default method is that it can be implemented only in the terms of calls to other interface methods&quot; How is that different then methods in an abstract class. Abstract methods can only call methods in it&#39;s class or a superclass."},{"owner":{"account_id":1114067,"reputation":196801,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"score":2,"creation_date":1519762406,"post_id":19998827,"comment_id":85039327,"body_markdown":"@PhilipRego Abstract methods don&#39;t call anything because they have no implementation. The implemented methods in a class can access the class&#39;s state (instance variables). Interfaces cannot declare them so the default methods cannot access them. They have to rely on the class providing an implemented method that accesses the state.","body":"@PhilipRego Abstract methods don&#39;t call anything because they have no implementation. The implemented methods in a class can access the class&#39;s state (instance variables). Interfaces cannot declare them so the default methods cannot access them. They have to rely on the class providing an implemented method that accesses the state."},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":4,"creation_date":1536531199,"post_id":19998827,"comment_id":91446166,"body_markdown":"Marko Topolnik, your answer is dead on. But I would like to recommend an update to your answer. You may want to add that the beauty of default methods is that, if the interface adds new default methods, your previous implementation of that interface will not break. This wasn&#39;t true prior to Java 8.","body":"Marko Topolnik, your answer is dead on. But I would like to recommend an update to your answer. You may want to add that the beauty of default methods is that, if the interface adds new default methods, your previous implementation of that interface will not break. This wasn&#39;t true prior to Java 8."},{"owner":{"account_id":1114067,"reputation":196801,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"score":1,"creation_date":1536561167,"post_id":19998827,"comment_id":91451802,"body_markdown":"@hfontanez Yes, that was the motivation to introduce the feature in Java 8, so they can add lambda-oriented methods to `Collection`. I can add a sentence about it.","body":"@hfontanez Yes, that was the motivation to introduce the feature in Java 8, so they can add lambda-oriented methods to <code>Collection</code>. I can add a sentence about it."},{"owner":{"account_id":10891141,"reputation":1976,"user_id":8006882,"accept_rate":79,"display_name":"Anna Klein"},"score":0,"creation_date":1557060464,"post_id":19998827,"comment_id":98631961,"body_markdown":"I think an example in general about when to use the default method over an abc method would be good here as well.","body":"I think an example in general about when to use the default method over an abc method would be good here as well."},{"owner":{"account_id":15756672,"reputation":191,"user_id":11369664,"display_name":"George Xavier"},"score":0,"creation_date":1564087729,"post_id":19998827,"comment_id":100926256,"body_markdown":"Although this is correct, it is a little misleading for you could have a method that indirectly calls to it. For example, if you had an interface Foo and Bar is a class that implements it. Foo has default method method1. You want to do the equivalant of Bar b = new Bar(). b.method1(). Instead have method1 be defined as public void method1(Foo f){} and simple do Foo.method1(b). Foo.method1(b) -&gt; b.method1(); Hope this makes sense. Basically, just have a parameter that takes in an interface and call the method on the interface.","body":"Although this is correct, it is a little misleading for you could have a method that indirectly calls to it. For example, if you had an interface Foo and Bar is a class that implements it. Foo has default method method1. You want to do the equivalant of Bar b = new Bar(). b.method1(). Instead have method1 be defined as public void method1(Foo f){} and simple do Foo.method1(b). Foo.method1(b) -&gt; b.method1(); Hope this makes sense. Basically, just have a parameter that takes in an interface and call the method on the interface."},{"owner":{"account_id":8189476,"reputation":7627,"user_id":6164172,"accept_rate":92,"display_name":"Troskyvs"},"score":0,"creation_date":1658192328,"post_id":19998827,"comment_id":128985152,"body_markdown":"Appreciate &quot;The original motivation to introduce default methods to Java 8 was the desire to extend the Collections Framework interfaces with lambda-oriented methods without breaking any existing implementations.&quot;","body":"Appreciate &quot;The original motivation to introduce default methods to Java 8 was the desire to extend the Collections Framework interfaces with lambda-oriented methods without breaking any existing implementations.&quot;"}],"tags":[],"owner":{"account_id":1114067,"reputation":196801,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"comment_count":12,"down_vote_count":2,"up_vote_count":370,"is_accepted":true,"score":368,"last_activity_date":1536561660,"creation_date":1384511098,"answer_id":19998827,"question_id":19998454,"body_markdown":"There&#39;s a lot more to abstract classes than default method implementations (such as private state), but as of Java 8, whenever you have the choice of either, you should go with the defender (aka. `default`) method in the interface.\r\n\r\nThe constraint on the default method is that it can be implemented only in the terms of calls to other interface methods, with no reference to a particular implementation&#39;s state. So the main use case is higher-level and convenience methods.\r\n\r\nThe good thing about this new feature is that, where before you were forced to use an abstract class for the convenience methods, thus constraining the implementor to single inheritance, now you can have a really clean design with just the interface and a minimum of implementation effort forced on the programmer.\r\n\r\nThe original motivation to introduce `default` methods to Java 8 was the desire to extend the Collections Framework interfaces with lambda-oriented methods without breaking any existing implementations. Although this is more relevant to the authors of public libraries, you may find the same feature useful in your project as well. You&#39;ve got one centralized place where to add new convenience and you don&#39;t have to rely on how the rest of the type hierarchy looks.","title":"When to use: Java 8+ interface default method, vs. abstract method","body":"<p>There's a lot more to abstract classes than default method implementations (such as private state), but as of Java 8, whenever you have the choice of either, you should go with the defender (aka. <code>default</code>) method in the interface.</p>\n\n<p>The constraint on the default method is that it can be implemented only in the terms of calls to other interface methods, with no reference to a particular implementation's state. So the main use case is higher-level and convenience methods.</p>\n\n<p>The good thing about this new feature is that, where before you were forced to use an abstract class for the convenience methods, thus constraining the implementor to single inheritance, now you can have a really clean design with just the interface and a minimum of implementation effort forced on the programmer.</p>\n\n<p>The original motivation to introduce <code>default</code> methods to Java 8 was the desire to extend the Collections Framework interfaces with lambda-oriented methods without breaking any existing implementations. Although this is more relevant to the authors of public libraries, you may find the same feature useful in your project as well. You've got one centralized place where to add new convenience and you don't have to rely on how the rest of the type hierarchy looks.</p>\n"},{"tags":[],"owner":{"account_id":2078312,"reputation":16240,"user_id":1851024,"accept_rate":82,"display_name":"Andrey Chaschev"},"comment_count":0,"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1384511504,"creation_date":1384511152,"answer_id":19998849,"question_id":19998454,"body_markdown":"These two are quite different:\r\n\r\nDefault methods are to **add external functionality** to existing classes without changing their state.\r\n\r\nAnd abstract classes are a normal type of inheritance, they are **normal classes** which are intended to be extended.","title":"When to use: Java 8+ interface default method, vs. abstract method","body":"<p>These two are quite different:</p>\n\n<p>Default methods are to <strong>add external functionality</strong> to existing classes without changing their state.</p>\n\n<p>And abstract classes are a normal type of inheritance, they are <strong>normal classes</strong> which are intended to be extended.</p>\n"},{"comments":[{"owner":{"account_id":9985545,"reputation":169,"user_id":7386881,"display_name":"Hemanth Peela"},"score":1,"creation_date":1549819346,"post_id":28304230,"comment_id":96030824,"body_markdown":"I believe Abstract class has Constructor which can be defined unlike in Interface. In Java 8 also they both different to each other due to this.","body":"I believe Abstract class has Constructor which can be defined unlike in Interface. In Java 8 also they both different to each other due to this."},{"owner":{"account_id":15756672,"reputation":191,"user_id":11369664,"display_name":"George Xavier"},"score":1,"creation_date":1563980504,"post_id":28304230,"comment_id":100882222,"body_markdown":"why does an abstract class have a constructor if it cannot be instantiated?","body":"why does an abstract class have a constructor if it cannot be instantiated?"},{"owner":{"account_id":11478953,"reputation":937,"user_id":8413680,"display_name":"Sujay Mohan"},"score":1,"creation_date":1569303010,"post_id":28304230,"comment_id":102542179,"body_markdown":"We can call super() from child class which will call constructor of abstract class.This impacts the state of abstract class.","body":"We can call super() from child class which will call constructor of abstract class.This impacts the state of abstract class."},{"owner":{"account_id":3316240,"reputation":303,"user_id":2788547,"display_name":"Aniket"},"score":0,"creation_date":1623860764,"post_id":28304230,"comment_id":120200576,"body_markdown":"@GeorgeXavier for your question as to &#39;Why do abstract classes have constructors?&quot; Hopefully this may shed some light on your question. Thanks. ..... Link 1: \n(https://stackoverflow.com/questions/260666/can-an-abstract-class-have-a-constructor)\n ...... \nLink 2:\n(https://stackoverflow.com/questions/2170500/why-do-abstract-classes-in-java-have-constructors)","body":"@GeorgeXavier for your question as to &#39;Why do abstract classes have constructors?&quot; Hopefully this may shed some light on your question. Thanks. ..... Link 1:  (<a href=\"https://stackoverflow.com/questions/260666/can-an-abstract-class-have-a-constructor\" title=\"can an abstract class have a constructor\">stackoverflow.com/questions/260666/&hellip;</a>)  ......  Link 2: (<a href=\"https://stackoverflow.com/questions/2170500/why-do-abstract-classes-in-java-have-constructors\" title=\"why do abstract classes in java have constructors\">stackoverflow.com/questions/2170500/&hellip;</a>)"}],"tags":[],"owner":{"account_id":266703,"reputation":18305,"user_id":1149423,"accept_rate":83,"display_name":"Sufiyan Ghori"},"comment_count":4,"down_vote_count":0,"up_vote_count":31,"is_accepted":false,"score":31,"last_activity_date":1528419637,"creation_date":1422981937,"answer_id":28304230,"question_id":19998454,"body_markdown":"As described in [this][1] article,\r\n\r\n**Abstract classes versus interfaces in Java 8**\r\n\r\n&gt; After introducing Default Method, it seems that interfaces and\r\n&gt; abstract classes are same. However, they are still different concept\r\n&gt; in Java 8.\r\n&gt; \r\n&gt; Abstract class can define constructor. They are more structured and\r\n&gt; can have a state associated with them. While in contrast, default\r\n&gt; method can be implemented only in the terms of invoking other\r\n&gt; interface methods, with no reference to a particular implementation&#39;s\r\n&gt; state. Hence, both use for different purposes and choosing between two\r\n&gt; really depends on the scenario context.\r\n\r\n\r\n  [1]: http://muhammadkhojaye.blogspot.com/2014/03/interface-default-methods-in-java-8.html","title":"When to use: Java 8+ interface default method, vs. abstract method","body":"<p>As described in <a href=\"http://muhammadkhojaye.blogspot.com/2014/03/interface-default-methods-in-java-8.html\" rel=\"noreferrer\">this</a> article,</p>\n\n<p><strong>Abstract classes versus interfaces in Java 8</strong></p>\n\n<blockquote>\n  <p>After introducing Default Method, it seems that interfaces and\n  abstract classes are same. However, they are still different concept\n  in Java 8.</p>\n  \n  <p>Abstract class can define constructor. They are more structured and\n  can have a state associated with them. While in contrast, default\n  method can be implemented only in the terms of invoking other\n  interface methods, with no reference to a particular implementation's\n  state. Hence, both use for different purposes and choosing between two\n  really depends on the scenario context.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":1162208,"reputation":25761,"user_id":1141493,"accept_rate":99,"display_name":"kiriloff"},"comment_count":0,"down_vote_count":1,"up_vote_count":10,"is_accepted":false,"score":9,"last_activity_date":1474492841,"creation_date":1435059400,"answer_id":31001728,"question_id":19998454,"body_markdown":"Default methods in Java interface enables *interface evolution*.\n\nGiven an existing interface, if you wish to add a method to it without breaking the binary compatibility with older versions of the interface, you have two options at hands: add a default or a static method. Indeed, any abstract method added to the interface would have to be impleted by the classes or interfaces implementing this interface.\n\nA static method is unique to a class. A default method is unique to an instance of the class.\n\nIf you add a default method to an existing interface, classes and interfaces which implement this interface do not need to implement it. They can\r\n\r\n - implement the default method, and it overrides the implementation in implemented interface.\n - re-declare the method (without implementation) which makes it abstract.\n - do nothing (then the default method from implemented interface is simply inherited).\n\r\nMore on the topic [here](http://docs.oracle.com/javase/tutorial/java/IandI/defaultmethods.html).","title":"When to use: Java 8+ interface default method, vs. abstract method","body":"<p>Default methods in Java interface enables <em>interface evolution</em>.</p>\n\n<p>Given an existing interface, if you wish to add a method to it without breaking the binary compatibility with older versions of the interface, you have two options at hands: add a default or a static method. Indeed, any abstract method added to the interface would have to be impleted by the classes or interfaces implementing this interface.</p>\n\n<p>A static method is unique to a class. A default method is unique to an instance of the class.</p>\n\n<p>If you add a default method to an existing interface, classes and interfaces which implement this interface do not need to implement it. They can</p>\n\n<ul>\n<li>implement the default method, and it overrides the implementation in implemented interface.</li>\n<li>re-declare the method (without implementation) which makes it abstract.</li>\n<li>do nothing (then the default method from implemented interface is simply inherited).</li>\n</ul>\n\n<p>More on the topic <a href=\"http://docs.oracle.com/javase/tutorial/java/IandI/defaultmethods.html\" rel=\"noreferrer\">here</a>.</p>\n"},{"tags":[],"owner":{"account_id":1257650,"reputation":23489,"user_id":1216775,"accept_rate":54,"display_name":"akhil_mittal"},"comment_count":0,"down_vote_count":1,"up_vote_count":23,"is_accepted":false,"score":22,"last_activity_date":1605668068,"creation_date":1443155716,"answer_id":32774868,"question_id":19998454,"body_markdown":"Whenever we have a choice between abstract class and interface we should always (almost) prefer default (also known as defender or virtual extensions) methods.\r\n\r\n 1. Default methods have put an end to classic pattern of interface and a companion class that implements most or all of the methods in that interface. An example is `Collection and AbstractCollection`. Now we should implement the methods in the interface itself to provide default functionality. The classes which implement the interface has choice to override the methods or inherit the default implementation.\r\n 2. Another important use of default methods is `interface evolution`. Suppose I had a class Ball as:\r\n\r\n    `public class Ball implements Collection {   ...   }`\r\n\r\nNow in Java 8 a new feature streams in introduced. We can get a stream by using `stream` method added to the interface. If `stream` were not a default method all the implementations for `Collection` interface would have broken as they would not be implementing this new method. Adding a non-default method to an interface is not `source-compatible`.\r\n\r\nBut suppose we do not recompile the class and use an old jar file which contains this class `Ball`. The class will load fine without this missing method, instances can be created and it seems everything is working fine. **BUT** if program invokes `stream` method on instance of `Ball` we will get `AbstractMethodError`. So making method default solved both the problems.\r\n\r\n**Java 9** has got even private methods in interface which can be used to encapsulate the common code logic that was used in the interface methods that provided a default implementation.","title":"When to use: Java 8+ interface default method, vs. abstract method","body":"<p>Whenever we have a choice between abstract class and interface we should always (almost) prefer default (also known as defender or virtual extensions) methods.</p>\n<ol>\n<li><p>Default methods have put an end to classic pattern of interface and a companion class that implements most or all of the methods in that interface. An example is <code>Collection and AbstractCollection</code>. Now we should implement the methods in the interface itself to provide default functionality. The classes which implement the interface has choice to override the methods or inherit the default implementation.</p>\n</li>\n<li><p>Another important use of default methods is <code>interface evolution</code>. Suppose I had a class Ball as:</p>\n<p><code>public class Ball implements Collection {   ...   }</code></p>\n</li>\n</ol>\n<p>Now in Java 8 a new feature streams in introduced. We can get a stream by using <code>stream</code> method added to the interface. If <code>stream</code> were not a default method all the implementations for <code>Collection</code> interface would have broken as they would not be implementing this new method. Adding a non-default method to an interface is not <code>source-compatible</code>.</p>\n<p>But suppose we do not recompile the class and use an old jar file which contains this class <code>Ball</code>. The class will load fine without this missing method, instances can be created and it seems everything is working fine. <strong>BUT</strong> if program invokes <code>stream</code> method on instance of <code>Ball</code> we will get <code>AbstractMethodError</code>. So making method default solved both the problems.</p>\n<p><strong>Java 9</strong> has got even private methods in interface which can be used to encapsulate the common code logic that was used in the interface methods that provided a default implementation.</p>\n"},{"comments":[{"owner":{"account_id":9773964,"reputation":1324,"user_id":7244716,"accept_rate":88,"display_name":"valijon"},"score":1,"creation_date":1570588163,"post_id":37971794,"comment_id":102955916,"body_markdown":"Now interfaces have private methods too https://howtodoinjava.com/java9/java9-private-interface-methods/","body":"Now interfaces have private methods too <a href=\"https://howtodoinjava.com/java9/java9-private-interface-methods/\" rel=\"nofollow noreferrer\">howtodoinjava.com/java9/java9-private-interface-methods</a>"}],"tags":[],"owner":{"account_id":6453072,"reputation":37996,"user_id":4999394,"accept_rate":98,"display_name":"Ravindra babu"},"comment_count":1,"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1683542202,"creation_date":1466607684,"answer_id":37971794,"question_id":19998454,"body_markdown":"Regarding your queries:\r\n\r\n*Q1: I am confused between when would I use that sort of interface default method, instead of an abstract class (with abstract method(s))*\r\n\r\nAs per oracle documentation on [default methods][1]\r\n\r\n&gt; Default methods enable you to add new functionality to the interfaces of your libraries and ensure binary compatibility with code written for older versions of those interfaces.\r\n\r\n*So when should interface with default methods be used and when should an abstract class be used? Are the abstract classes still useful in that scenario?*\r\n\r\n\r\noracle [documentation ][2] provides perfect answer. \r\n\r\n**Abstract Classes Compared to Interfaces:**\r\n\r\n&gt;Abstract classes are similar to interfaces. You cannot instantiate them, and they may contain a mix of methods declared with or without an implementation. \r\n&gt;\r\n&gt; However, with abstract classes, you can declare fields that are not static and final, and define public, protected, and private concrete methods.\r\n&gt;\r\n&gt; With interfaces, all fields are automatically public, static, and final, and all methods that you declare or define (as default methods) are public.\r\n\r\nYou can extend only one class, whether or not it is abstract. But you can implement any number of interfaces.\r\n\r\n***abstract class use cases:***\r\n\r\n\r\n1. You don&#39;t have implementation in base class (with shared data) and only sub-classes have to define their own implementation. You need abstract class instead of interface since you want to share state with sub-classes.\r\n\r\n\r\n2. Abstract classes are used in Abstract Factory design pattern implementation ( creational pattern )\r\n\r\n    example: https://stackoverflow.com/questions/69849/factory-pattern-when-to-use-factory-methods/35857241#35857241\r\n\r\n\r\n3. You can find many use cases of abstract classes in design patterns. \r\n\r\n    example: Bridge pattern ( Structural pattern )\r\n\r\n    https://stackoverflow.com/questions/35079629/does-the-bridge-pattern-decouples-an-abstraction-from-implementation\r\n\r\n\r\n4. Abstract classes are used in Decorator design pattern\r\n\r\n    example : https://stackoverflow.com/questions/1549743/when-to-use-the-decorator-pattern/37504043#37504043\r\n\r\n5. Abstract class is best fit for *template method* pattern where you have to create skeleton.     \r\n\r\n    example: https://stackoverflow.com/questions/35559360/template-design-pattern-in-jdk-could-not-find-a-method-defining-set-of-methods/38740810#38740810\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/java/IandI/defaultmethods.html\r\n  [2]: https://docs.oracle.com/javase/tutorial/java/IandI/abstract.html","title":"When to use: Java 8+ interface default method, vs. abstract method","body":"<p>Regarding your queries:</p>\n<p><em>Q1: I am confused between when would I use that sort of interface default method, instead of an abstract class (with abstract method(s))</em></p>\n<p>As per oracle documentation on <a href=\"https://docs.oracle.com/javase/tutorial/java/IandI/defaultmethods.html\" rel=\"nofollow noreferrer\">default methods</a></p>\n<blockquote>\n<p>Default methods enable you to add new functionality to the interfaces of your libraries and ensure binary compatibility with code written for older versions of those interfaces.</p>\n</blockquote>\n<p><em>So when should interface with default methods be used and when should an abstract class be used? Are the abstract classes still useful in that scenario?</em></p>\n<p>oracle <a href=\"https://docs.oracle.com/javase/tutorial/java/IandI/abstract.html\" rel=\"nofollow noreferrer\">documentation </a> provides perfect answer.</p>\n<p><strong>Abstract Classes Compared to Interfaces:</strong></p>\n<blockquote>\n<p>Abstract classes are similar to interfaces. You cannot instantiate them, and they may contain a mix of methods declared with or without an implementation.</p>\n<p>However, with abstract classes, you can declare fields that are not static and final, and define public, protected, and private concrete methods.</p>\n<p>With interfaces, all fields are automatically public, static, and final, and all methods that you declare or define (as default methods) are public.</p>\n</blockquote>\n<p>You can extend only one class, whether or not it is abstract. But you can implement any number of interfaces.</p>\n<p><em><strong>abstract class use cases:</strong></em></p>\n<ol>\n<li><p>You don't have implementation in base class (with shared data) and only sub-classes have to define their own implementation. You need abstract class instead of interface since you want to share state with sub-classes.</p>\n</li>\n<li><p>Abstract classes are used in Abstract Factory design pattern implementation ( creational pattern )</p>\n<p>example: <a href=\"https://stackoverflow.com/questions/69849/factory-pattern-when-to-use-factory-methods/35857241#35857241\">Factory Pattern. When to use factory methods?</a></p>\n</li>\n<li><p>You can find many use cases of abstract classes in design patterns.</p>\n<p>example: Bridge pattern ( Structural pattern )</p>\n<p><a href=\"https://stackoverflow.com/questions/35079629/does-the-bridge-pattern-decouples-an-abstraction-from-implementation\">Does the Bridge Pattern decouples an abstraction from implementation?</a></p>\n</li>\n<li><p>Abstract classes are used in Decorator design pattern</p>\n<p>example : <a href=\"https://stackoverflow.com/questions/1549743/when-to-use-the-decorator-pattern/37504043#37504043\">When to Use the Decorator Pattern?</a></p>\n</li>\n<li><p>Abstract class is best fit for <em>template method</em> pattern where you have to create skeleton.</p>\n<p>example: <a href=\"https://stackoverflow.com/questions/35559360/template-design-pattern-in-jdk-could-not-find-a-method-defining-set-of-methods/38740810#38740810\">Template design pattern in JDK, could not find a method defining set of methods to be executed in order</a></p>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":5485446,"reputation":3713,"user_id":4360378,"accept_rate":86,"display_name":"Ahmad Sanie"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1470438655,"creation_date":1470416509,"answer_id":38794422,"question_id":19998454,"body_markdown":"&gt; when should interface with default methods be used and when should an\r\n&gt; abstract class be used?\r\n\r\n**Backward compatibility:**\r\nImagine that your interface is implemented by hundreds of classes, modifying that interface will force all the users to implement the newly added method, even though it could be not essential for many other classes that implements your interface, Plus it allows your  interface to be a ***functional interface***\r\n\r\n**Facts &amp; Restrictions:** \r\n\r\n1-May only be declared within an interface and not within a class or\r\nabstract class.\r\n\r\n2-Must provide a body\r\n\r\n3-It is not assumed to be abstract as other normal methods used in an interface.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/java/IandI/defaultmethods.html","title":"When to use: Java 8+ interface default method, vs. abstract method","body":"<blockquote>\n  <p>when should interface with default methods be used and when should an\n  abstract class be used?</p>\n</blockquote>\n\n<p><strong>Backward compatibility:</strong>\nImagine that your interface is implemented by hundreds of classes, modifying that interface will force all the users to implement the newly added method, even though it could be not essential for many other classes that implements your interface, Plus it allows your  interface to be a <strong><em>functional interface</em></strong></p>\n\n<p><strong>Facts &amp; Restrictions:</strong> </p>\n\n<p>1-May only be declared within an interface and not within a class or\nabstract class.</p>\n\n<p>2-Must provide a body</p>\n\n<p>3-It is not assumed to be abstract as other normal methods used in an interface.</p>\n"},{"tags":[],"owner":{"account_id":940893,"reputation":6928,"user_id":968988,"accept_rate":79,"display_name":"Nicolas Zozol"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1497186176,"creation_date":1490258186,"answer_id":42970863,"question_id":19998454,"body_markdown":"[Remi Forax][1] rule is **You don&#39;t design with Abstract classes. You design your app with interfaces**. Watever is the version of Java, whatever is the language. It is backed by the ***I**nterface segregation principle* in [SOL**I**D][2] principles.\r\n\r\nYou can later use Abstract classes to factorize code. Now with Java 8 you can do it directly in the interface. This is a facility, not more.\r\n\r\n\r\n  [1]: https://www.youtube.com/watch?v=-k2X7guaArU\r\n  [2]: https://en.wikipedia.org/wiki/SOLID_(object-oriented_design)","title":"When to use: Java 8+ interface default method, vs. abstract method","body":"<p><a href=\"https://www.youtube.com/watch?v=-k2X7guaArU\" rel=\"nofollow noreferrer\">Remi Forax</a> rule is <strong>You don't design with Abstract classes. You design your app with interfaces</strong>. Watever is the version of Java, whatever is the language. It is backed by the <strong><em>I</strong>nterface segregation principle</em> in <a href=\"https://en.wikipedia.org/wiki/SOLID_(object-oriented_design)\" rel=\"nofollow noreferrer\">SOL<strong>I</strong>D</a> principles.</p>\n\n<p>You can later use Abstract classes to factorize code. Now with Java 8 you can do it directly in the interface. This is a facility, not more.</p>\n"},{"tags":[],"owner":{"account_id":2203408,"reputation":5012,"user_id":1947216,"display_name":"mentallurg"},"comment_count":0,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1541658387,"creation_date":1514364900,"answer_id":47989121,"question_id":19998454,"body_markdown":"Please think first of open/closed principle. The default methods in interfaces DO VIOLATE it. This is a bad feature in Java. It encourages bad design, bad architecture, low software quality. I would suggest to avoid using default methods completely.\r\n\r\nAsk yourself a few questions:\r\nWhy can&#39;t you put your methods to the abstract class? Would you need then more than one abstract class? Then think about what is your class responsible for. Are you sure all methods you are going to put to the single class really fulfill the same purpose? May be you will distinguish several purposes and will then split your class into several classes, for each purpose its own class.\r\n","title":"When to use: Java 8+ interface default method, vs. abstract method","body":"<p>Please think first of open/closed principle. The default methods in interfaces DO VIOLATE it. This is a bad feature in Java. It encourages bad design, bad architecture, low software quality. I would suggest to avoid using default methods completely.</p>\n\n<p>Ask yourself a few questions:\nWhy can't you put your methods to the abstract class? Would you need then more than one abstract class? Then think about what is your class responsible for. Are you sure all methods you are going to put to the single class really fulfill the same purpose? May be you will distinguish several purposes and will then split your class into several classes, for each purpose its own class.</p>\n"},{"tags":[],"owner":{"account_id":7146340,"reputation":155,"user_id":5461926,"accept_rate":58,"display_name":"anik"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1519588819,"creation_date":1519588819,"answer_id":48977856,"question_id":19998454,"body_markdown":"Default methods in Java Interface are to be used more for providing dummy implementation of a function thus saving any implementing class of that interface from the pain of declaring all the abstract methods even if they want to deal with only one.\r\nDefault methods in interface are thus in a way more a replacement for the concept of adapter classes.\r\n\r\nThe methods in abstract class are however supposed to give a meaningful implementation which any child class should override only if needed to override a common functionality.","title":"When to use: Java 8+ interface default method, vs. abstract method","body":"<p>Default methods in Java Interface are to be used more for providing dummy implementation of a function thus saving any implementing class of that interface from the pain of declaring all the abstract methods even if they want to deal with only one.\nDefault methods in interface are thus in a way more a replacement for the concept of adapter classes.</p>\n\n<p>The methods in abstract class are however supposed to give a meaningful implementation which any child class should override only if needed to override a common functionality.</p>\n"},{"comments":[{"owner":{"account_id":15756672,"reputation":191,"user_id":11369664,"display_name":"George Xavier"},"score":0,"creation_date":1563980425,"post_id":54647872,"comment_id":100882176,"body_markdown":"I agree with #2 but for #1, can&#39;t you just implement the interface and thus have a state via the implementation class?","body":"I agree with #2 but for #1, can&#39;t you just implement the interface and thus have a state via the implementation class?"}],"tags":[],"owner":{"account_id":196466,"reputation":488,"user_id":439916,"accept_rate":55,"display_name":"Manish Sahni"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1549967084,"creation_date":1549967084,"answer_id":54647872,"question_id":19998454,"body_markdown":"In Java 8, an interface looks like an abstract class although their might be some differences such as :\r\n\r\n\r\n1) Abstract classes are classes, so they are not restricted to other restrictions of the interface in Java e.g. abstract class **can have the state**, but you cannot have the state on the interface in Java.\r\n\r\n2) Another semantic difference between interface with default methods and abstract class is that **you can define constructors inside an abstract class**, but you cannot define constructor inside interface in Java","title":"When to use: Java 8+ interface default method, vs. abstract method","body":"<p>In Java 8, an interface looks like an abstract class although their might be some differences such as :</p>\n\n<p>1) Abstract classes are classes, so they are not restricted to other restrictions of the interface in Java e.g. abstract class <strong>can have the state</strong>, but you cannot have the state on the interface in Java.</p>\n\n<p>2) Another semantic difference between interface with default methods and abstract class is that <strong>you can define constructors inside an abstract class</strong>, but you cannot define constructor inside interface in Java</p>\n"},{"tags":[],"owner":{"account_id":7699475,"reputation":1888,"user_id":5832619,"accept_rate":100,"display_name":"johnnyodonnell"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1567142659,"creation_date":1567142659,"answer_id":57720913,"question_id":19998454,"body_markdown":"As mentioned in other answers, the ability to add implementation to an interface was added in order to provide backward compatibility in the Collections framework. I would argue that providing backward compatibility is potentially the only good reason for adding implementation to an interface.\r\n\r\nOtherwise, **if you add implementation to an interface, you are breaking the fundamental law for why interfaces were added in the first place.** Java is a single inheritance language, unlike C++ which allows for multiple inheritance. Interfaces provide the typing benefits that come with a language that supports multiple inheritance without introducing the problems that come with multiple inheritance.\r\n\r\nMore specifically, Java only allows single inheritance of an implementation, but it does allow multiple inheritance of interfaces. For example, the following is valid Java code:\r\n\r\n    class MyObject extends String implements Runnable, Comparable { ... }\r\n\r\n`MyObject` inherits only one implementation, but it inherits three contracts.\r\n\r\nJava passed on multiple inheritance of implementation because multiple inheritance of implementation comes with a host of thorny problems, which are outside the scope of this answer. Interfaces were added to allow multiple inheritance of contracts (aka interfaces) without the problems of multiple inheritance of implementation.\r\n\r\nTo support my point, here is a quote from Ken Arnold and James Gosling from the book *The Java Programming Language, 4th edition*:\r\n\r\n&gt; Single inheritance precludes some useful and correct designs. The\r\n&gt; problems of multiple inheritance arise from multiple inheritance of\r\n&gt; implementation, but in many cases multiple inheritance is used to\r\n&gt; inherit a number of abstract contracts and perhaps one concrete\r\n&gt; implementation. Providing a means to inherit an abstract contract\r\n&gt; without inheriting an implementation allows the typing benefits of\r\n&gt; multiple inheritance without the problems of multiple implementation\r\n&gt; inheritance. The inheritance of an abstract contract is termed\r\n&gt; *interface inheritance*. The Java programming language supports interface inheritance by allowing you to declare an `interface` type","title":"When to use: Java 8+ interface default method, vs. abstract method","body":"<p>As mentioned in other answers, the ability to add implementation to an interface was added in order to provide backward compatibility in the Collections framework. I would argue that providing backward compatibility is potentially the only good reason for adding implementation to an interface.</p>\n\n<p>Otherwise, <strong>if you add implementation to an interface, you are breaking the fundamental law for why interfaces were added in the first place.</strong> Java is a single inheritance language, unlike C++ which allows for multiple inheritance. Interfaces provide the typing benefits that come with a language that supports multiple inheritance without introducing the problems that come with multiple inheritance.</p>\n\n<p>More specifically, Java only allows single inheritance of an implementation, but it does allow multiple inheritance of interfaces. For example, the following is valid Java code:</p>\n\n<pre><code>class MyObject extends String implements Runnable, Comparable { ... }\n</code></pre>\n\n<p><code>MyObject</code> inherits only one implementation, but it inherits three contracts.</p>\n\n<p>Java passed on multiple inheritance of implementation because multiple inheritance of implementation comes with a host of thorny problems, which are outside the scope of this answer. Interfaces were added to allow multiple inheritance of contracts (aka interfaces) without the problems of multiple inheritance of implementation.</p>\n\n<p>To support my point, here is a quote from Ken Arnold and James Gosling from the book <em>The Java Programming Language, 4th edition</em>:</p>\n\n<blockquote>\n  <p>Single inheritance precludes some useful and correct designs. The\n  problems of multiple inheritance arise from multiple inheritance of\n  implementation, but in many cases multiple inheritance is used to\n  inherit a number of abstract contracts and perhaps one concrete\n  implementation. Providing a means to inherit an abstract contract\n  without inheriting an implementation allows the typing benefits of\n  multiple inheritance without the problems of multiple implementation\n  inheritance. The inheritance of an abstract contract is termed\n  <em>interface inheritance</em>. The Java programming language supports interface inheritance by allowing you to declare an <code>interface</code> type</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":9592667,"reputation":595,"user_id":7122994,"display_name":"Umar Tahir"},"comment_count":0,"down_vote_count":1,"up_vote_count":19,"is_accepted":false,"score":18,"last_activity_date":1574095831,"creation_date":1573713338,"answer_id":58850747,"question_id":19998454,"body_markdown":"Although its an old question let me give my input on it as well.\r\n    \r\n   1. *abstract class:* Inside abstract class we can declare instance\r\n        variables, which are required to the child class\r\n        \r\n      *Interface:* Inside interface every variables is always public static\r\n      and final we cannot declare instance variables\r\n    \r\n   2. *abstract class:* Abstract class can talk about state of object\r\n    \r\n      *Interface:* Interface can never talk about state of object\r\n    \r\n   3. *abstract class:* Inside Abstract class we can declare constructors\r\n       \r\n      *Interface:* Inside interface we cannot declare constructors as purpose of  \r\n      **constructors is to initialize instance variables. So what\r\n      is the need of constructor there if we cannot have instance\r\n      variables in interfaces**.\r\n\r\n   4. *abstract class:* Inside abstract class we can declare instance and static blocks\r\n            \r\n      *Interface:* Interfaces cannot have instance and static blocks.\r\n    \r\n   5. *abstract class:* Abstract class cannot refer lambda expression\r\n\r\n      *Interfaces:* Interfaces with single abstract method can refer lambda expression\r\n    \r\n   6. *abstract class*: Inside abstract class we can override OBJECT CLASS methods\r\n\r\n      *Interfaces:* We cannot override OBJECT CLASS methods inside interfaces.\r\n\r\n\r\n\r\nI will end on the note that:\r\n\r\n**Default method concepts/static method concepts in interface** came just to save implementation classes but not to provide meaningful useful implementation. Default methods/static methods are kind of dummy implementation, &quot;if you want you can use them  or you can override them (in case of default methods) in implementation class&quot; **Thus saving us from implementing new methods in implementation classes whenever new methods in interfaces are added.** Therefore interfaces can never be equal to abstract classes.\r\n","title":"When to use: Java 8+ interface default method, vs. abstract method","body":"<p>Although its an old question let me give my input on it as well.</p>\n\n<ol>\n<li><p><em>abstract class:</em> Inside abstract class we can declare instance\n    variables, which are required to the child class</p>\n\n<p><em>Interface:</em> Inside interface every variables is always public static\n  and final we cannot declare instance variables</p></li>\n<li><p><em>abstract class:</em> Abstract class can talk about state of object</p>\n\n<p><em>Interface:</em> Interface can never talk about state of object</p></li>\n<li><p><em>abstract class:</em> Inside Abstract class we can declare constructors</p>\n\n<p><em>Interface:</em> Inside interface we cannot declare constructors as purpose of<br>\n  <strong>constructors is to initialize instance variables. So what\n  is the need of constructor there if we cannot have instance\n  variables in interfaces</strong>.</p></li>\n<li><p><em>abstract class:</em> Inside abstract class we can declare instance and static blocks</p>\n\n<p><em>Interface:</em> Interfaces cannot have instance and static blocks.</p></li>\n<li><p><em>abstract class:</em> Abstract class cannot refer lambda expression</p>\n\n<p><em>Interfaces:</em> Interfaces with single abstract method can refer lambda expression</p></li>\n<li><p><em>abstract class</em>: Inside abstract class we can override OBJECT CLASS methods</p>\n\n<p><em>Interfaces:</em> We cannot override OBJECT CLASS methods inside interfaces.</p></li>\n</ol>\n\n<p>I will end on the note that:</p>\n\n<p><strong>Default method concepts/static method concepts in interface</strong> came just to save implementation classes but not to provide meaningful useful implementation. Default methods/static methods are kind of dummy implementation, \"if you want you can use them  or you can override them (in case of default methods) in implementation class\" <strong>Thus saving us from implementing new methods in implementation classes whenever new methods in interfaces are added.</strong> Therefore interfaces can never be equal to abstract classes.</p>\n"},{"tags":[],"owner":{"account_id":4980140,"reputation":3385,"user_id":4005379,"accept_rate":64,"display_name":"Alferd Nobel"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1624574101,"creation_date":1624574101,"answer_id":68123422,"question_id":19998454,"body_markdown":"From a business use case context , Interfaces can be used to define specific business rules , where as abstract class would define the common structure to kickoff the business.\r\n\r\nSay some business owner wants to partner with Amazon and Walmart , then the interfaces defined here would be  `WalmartPartner` and  `AmazonPartner` would define the specific business rules and the abstract class `BusinessSetup` will get the business setup in a specific region.\r\n\r\n    // Interfaces\r\n     \r\n    public interface WalmartPartner {\r\n        public static boolean signUpForWalmartBusinessAccount(String BusinessId){\r\n            System.out.println(&quot;Setting up Walmart Business Partner&quot;);\r\n            return true;\r\n        }\r\n        public default  void  getWalmartDeals(){\r\n            System.out.println(&quot;Default walmart deal executed !&quot;);\r\n        }\r\n        public abstract void setupShopifyForWalmart();\r\n        public abstract  void setupWalmartProducts();\r\n    \r\n    public interface AmazonPartner {\r\n        public static boolean signUpAsAmazonServicePartner(String BusinessId){\r\n            System.out.println(&quot;Setting up Amazon Business Partner&quot;);\r\n            return true;\r\n        }\r\n        public default  void  paymentPlatformSetup(){\r\n            System.out.println(&quot; Amazon default payment platform is setup&quot;);\r\n        }\r\n        public abstract void setupPrimeMemberDealsByRegion();\r\n        public abstract  void setupPrimeDeals();\r\n    }\r\n\r\n     // Abstract class \r\n\r\n    public abstract class BusinessSetup {\r\n        String businessId ;\r\n        public BusinessSetup(String businessId){\r\n            this.businessId = businessId;\r\n            System.out.println(&quot;1. Initial Business setup for BusienssID: &quot;+this.businessId+&quot; is Complete&quot;);\r\n        }\r\n        public final boolean getBusinessRegisteredInRegion(String region){\r\n            System.out.println(&quot;2. Business got registered in &quot;+region+ &quot;!&quot;);\r\n            return true;\r\n        }\r\n        public abstract void setupCustomerPlatform(String customerId);\r\n        public abstract void setupVendorPlatform(String vendorId);\r\n    \r\n    }\r\n\r\n    // Concrete Class \r\n    public class WalMartPartnerImpl extends BusinessSetup implements WalmartPartner {\r\n        public WalMartPartnerImpl(String businessId) {\r\n            super(businessId);\r\n        }\r\n        @Override\r\n        public void setupCustomerPlatform(String customerId) {\r\n        }\r\n    \r\n        @Override\r\n        public void setupVendorPlatform(String vendorId) {\r\n        }\r\n    \r\n        @Override\r\n        public void setupShopifyForWalmart() {\r\n        }\r\n    \r\n        @Override\r\n        public void setupWalmartProducts() {\r\n        }\r\n        public static void main(String args[]){\r\n            WalMartPartnerImpl walMartPartner = new WalMartPartnerImpl(&quot;wal8989&quot;);\r\n            walMartPartner.getBusinessRegisteredInRegion(&quot;california&quot;);\r\n            walMartPartner.getWalmartDeals();\r\n            walMartPartner.setupCustomerPlatform(&quot;wal8989&quot;);\r\n    \r\n        }\r\n    }","title":"When to use: Java 8+ interface default method, vs. abstract method","body":"<p>From a business use case context , Interfaces can be used to define specific business rules , where as abstract class would define the common structure to kickoff the business.</p>\n<p>Say some business owner wants to partner with Amazon and Walmart , then the interfaces defined here would be  <code>WalmartPartner</code> and  <code>AmazonPartner</code> would define the specific business rules and the abstract class <code>BusinessSetup</code> will get the business setup in a specific region.</p>\n<pre><code>// Interfaces\n \npublic interface WalmartPartner {\n    public static boolean signUpForWalmartBusinessAccount(String BusinessId){\n        System.out.println(&quot;Setting up Walmart Business Partner&quot;);\n        return true;\n    }\n    public default  void  getWalmartDeals(){\n        System.out.println(&quot;Default walmart deal executed !&quot;);\n    }\n    public abstract void setupShopifyForWalmart();\n    public abstract  void setupWalmartProducts();\n\npublic interface AmazonPartner {\n    public static boolean signUpAsAmazonServicePartner(String BusinessId){\n        System.out.println(&quot;Setting up Amazon Business Partner&quot;);\n        return true;\n    }\n    public default  void  paymentPlatformSetup(){\n        System.out.println(&quot; Amazon default payment platform is setup&quot;);\n    }\n    public abstract void setupPrimeMemberDealsByRegion();\n    public abstract  void setupPrimeDeals();\n}\n\n // Abstract class \n\npublic abstract class BusinessSetup {\n    String businessId ;\n    public BusinessSetup(String businessId){\n        this.businessId = businessId;\n        System.out.println(&quot;1. Initial Business setup for BusienssID: &quot;+this.businessId+&quot; is Complete&quot;);\n    }\n    public final boolean getBusinessRegisteredInRegion(String region){\n        System.out.println(&quot;2. Business got registered in &quot;+region+ &quot;!&quot;);\n        return true;\n    }\n    public abstract void setupCustomerPlatform(String customerId);\n    public abstract void setupVendorPlatform(String vendorId);\n\n}\n\n// Concrete Class \npublic class WalMartPartnerImpl extends BusinessSetup implements WalmartPartner {\n    public WalMartPartnerImpl(String businessId) {\n        super(businessId);\n    }\n    @Override\n    public void setupCustomerPlatform(String customerId) {\n    }\n\n    @Override\n    public void setupVendorPlatform(String vendorId) {\n    }\n\n    @Override\n    public void setupShopifyForWalmart() {\n    }\n\n    @Override\n    public void setupWalmartProducts() {\n    }\n    public static void main(String args[]){\n        WalMartPartnerImpl walMartPartner = new WalMartPartnerImpl(&quot;wal8989&quot;);\n        walMartPartner.getBusinessRegisteredInRegion(&quot;california&quot;);\n        walMartPartner.getWalmartDeals();\n        walMartPartner.setupCustomerPlatform(&quot;wal8989&quot;);\n\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1903805,"reputation":41397,"user_id":1719067,"accept_rate":73,"display_name":"Narendra Pathai"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":163771,"favorite_count":0,"down_vote_count":1,"up_vote_count":631,"accepted_answer_id":19998827,"answer_count":16,"score":630,"last_activity_date":1683542202,"creation_date":1384509961,"question_id":19998454,"body_markdown":"Java 8 allows for default implementation of methods in interfaces called [Default Methods][1].\r\n\r\nI am confused between when would I use that sort of `interface default method`, instead of an `abstract class` (with `abstract method(s)`).\r\n\r\nSo when should interface with default methods be used and when should an abstract class (with abstract method(s)) be used? Are the abstract classes still useful in that scenario?   \r\n\r\n\r\n  [1]: http://java.dzone.com/articles/introduction-default-methods","title":"When to use: Java 8+ interface default method, vs. abstract method","body":"<p>Java 8 allows for default implementation of methods in interfaces called <a href=\"http://java.dzone.com/articles/introduction-default-methods\" rel=\"noreferrer\">Default Methods</a>.</p>\n\n<p>I am confused between when would I use that sort of <code>interface default method</code>, instead of an <code>abstract class</code> (with <code>abstract method(s)</code>).</p>\n\n<p>So when should interface with default methods be used and when should an abstract class (with abstract method(s)) be used? Are the abstract classes still useful in that scenario?   </p>\n"},{"tags":["java","spring-boot","influxdb"],"owner":{"account_id":22560169,"reputation":11,"user_id":16747918,"display_name":"Шатов Данил"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683541632,"creation_date":1683541632,"question_id":76199675,"body_markdown":"I have this class-repository:\r\n\r\n    @Repository\r\n    public class InfluxHostAvailabilityRepository implements HostAvailabilityRepository {\r\n    \r\n        public static final String CAMERAS_DATABASE = &quot;cameras&quot;;\r\n        public static final String CAMERAS_PHOTOS_TABLE = &quot;cameras_photos-count&quot;;\r\n        private final InfluxDBMapper influxDBMapper;\r\n    \r\n        public InfluxHostAvailabilityRepository(\r\n            @Value(&quot;${spring.influx.url}&quot;) String url,\r\n            @Value(&quot;${spring.influx.user}&quot;) String user,\r\n            @Value(&quot;${spring.influx.password}&quot;) String password,\r\n            @Value(&quot;${application.availability-report.influx.read-timeout-in-seconds}&quot;) Long readTimeoutInSeconds\r\n        ) {\r\n            OkHttpClient.Builder client = new OkHttpClient.Builder()\r\n                .readTimeout(readTimeoutInSeconds, TimeUnit.SECONDS);\r\n    \r\n                this.influxDBMapper = new InfluxDBMapper(InfluxDBFactory.connect(url, user, password, client));\r\n        }\r\n    \r\n        @Override\r\n        public List&lt;HostAvailability&gt; getHostAvailabilityForPeriod(Instant from, Instant to,\r\n                                                                   List&lt;String&gt; hosts,\r\n                                                                   Integer groupByMinute,\r\n                                                                   ZoneId zone) {\r\n    \r\n            final WhereNested&lt;?&gt; andNested = QueryBuilder.select().count(&quot;value&quot;).as(&quot;working&quot;)\r\n                .from(CAMERAS_DATABASE, CAMERAS_PHOTOS_TABLE)\r\n                .where(QueryBuilder.gte(&quot;time&quot;, from.toString()))\r\n                .and(QueryBuilder.lt(&quot;time&quot;, to.toString())).andNested();\r\n    \r\n            hosts.forEach(host -&gt; andNested.or(QueryBuilder.eq(&quot;host&quot;, host)));\r\n    \r\n            final Query query = andNested.close()\r\n                .groupBy(&quot;host&quot;, QueryBuilder.time(Long.valueOf(groupByMinute), DurationLiteral.MINUTE))\r\n                .fill(0)\r\n                .tz(zone.getId());\r\n    \r\n            log.debug(&quot;Query to influxDB: &quot; + query.getCommand());\r\n    \r\n            return influxDBMapper.query(query, HostAvailability.class);\r\n        }\r\n\r\nand get List Objects:\r\n\r\n    @Builder(builderClassName = &quot;Builder&quot;)\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @Data\r\n    @Measurement(name = &quot;cameras_photos-count&quot;, timeUnit = TimeUnit.SECONDS)\r\n    public class HostAvailability {\r\n    \r\n        /**\r\n         * Время начала периода.\r\n         */\r\n        @Column(name = &quot;time&quot;)\r\n        private Instant intervalFrom;\r\n    \r\n        /**\r\n         * working = 0  - считаем что хост недоступен.\r\n         *  working &gt; 0 - считаем что доступен\r\n         */\r\n        @Column(name = &quot;working&quot;)\r\n        private Integer working;\r\n    \r\n        /**\r\n         * имя хоста из тега host, оно же серийный номер камеры.\r\n         */\r\n        @Column(name = &quot;host&quot;)\r\n        private String host;\r\n    }\r\n\r\n\r\nwith a large number of Host Availability objects, I get OutOfMemory because of the Instant type in the intervalFrom field, I want to replace this field with the Long type so as not to store Instant, I get a ClassCastException, cannot convert the String type to Long, how would I convert the time to milliseconds when requesting select so that when mapping, I immediately write to the Long field?\r\n\r\ncan you show me how to getHostAvailabilityForPeriod please?\r\n\r\nits my dependency:\r\n\r\n     &lt;dependency&gt;\r\n                &lt;groupId&gt;org.influxdb&lt;/groupId&gt;\r\n                &lt;artifactId&gt;influxdb-java&lt;/artifactId&gt;\r\n                &lt;version&gt;2.15&lt;/version&gt;\r\n            &lt;/dependency&gt;","title":"spring, how to get time from InfluxDB in Long","body":"<p>I have this class-repository:</p>\n<pre><code>@Repository\npublic class InfluxHostAvailabilityRepository implements HostAvailabilityRepository {\n\n    public static final String CAMERAS_DATABASE = &quot;cameras&quot;;\n    public static final String CAMERAS_PHOTOS_TABLE = &quot;cameras_photos-count&quot;;\n    private final InfluxDBMapper influxDBMapper;\n\n    public InfluxHostAvailabilityRepository(\n        @Value(&quot;${spring.influx.url}&quot;) String url,\n        @Value(&quot;${spring.influx.user}&quot;) String user,\n        @Value(&quot;${spring.influx.password}&quot;) String password,\n        @Value(&quot;${application.availability-report.influx.read-timeout-in-seconds}&quot;) Long readTimeoutInSeconds\n    ) {\n        OkHttpClient.Builder client = new OkHttpClient.Builder()\n            .readTimeout(readTimeoutInSeconds, TimeUnit.SECONDS);\n\n            this.influxDBMapper = new InfluxDBMapper(InfluxDBFactory.connect(url, user, password, client));\n    }\n\n    @Override\n    public List&lt;HostAvailability&gt; getHostAvailabilityForPeriod(Instant from, Instant to,\n                                                               List&lt;String&gt; hosts,\n                                                               Integer groupByMinute,\n                                                               ZoneId zone) {\n\n        final WhereNested&lt;?&gt; andNested = QueryBuilder.select().count(&quot;value&quot;).as(&quot;working&quot;)\n            .from(CAMERAS_DATABASE, CAMERAS_PHOTOS_TABLE)\n            .where(QueryBuilder.gte(&quot;time&quot;, from.toString()))\n            .and(QueryBuilder.lt(&quot;time&quot;, to.toString())).andNested();\n\n        hosts.forEach(host -&gt; andNested.or(QueryBuilder.eq(&quot;host&quot;, host)));\n\n        final Query query = andNested.close()\n            .groupBy(&quot;host&quot;, QueryBuilder.time(Long.valueOf(groupByMinute), DurationLiteral.MINUTE))\n            .fill(0)\n            .tz(zone.getId());\n\n        log.debug(&quot;Query to influxDB: &quot; + query.getCommand());\n\n        return influxDBMapper.query(query, HostAvailability.class);\n    }\n</code></pre>\n<p>and get List Objects:</p>\n<pre><code>@Builder(builderClassName = &quot;Builder&quot;)\n@NoArgsConstructor\n@AllArgsConstructor\n@Data\n@Measurement(name = &quot;cameras_photos-count&quot;, timeUnit = TimeUnit.SECONDS)\npublic class HostAvailability {\n\n    /**\n     * Время начала периода.\n     */\n    @Column(name = &quot;time&quot;)\n    private Instant intervalFrom;\n\n    /**\n     * working = 0  - считаем что хост недоступен.\n     *  working &gt; 0 - считаем что доступен\n     */\n    @Column(name = &quot;working&quot;)\n    private Integer working;\n\n    /**\n     * имя хоста из тега host, оно же серийный номер камеры.\n     */\n    @Column(name = &quot;host&quot;)\n    private String host;\n}\n</code></pre>\n<p>with a large number of Host Availability objects, I get OutOfMemory because of the Instant type in the intervalFrom field, I want to replace this field with the Long type so as not to store Instant, I get a ClassCastException, cannot convert the String type to Long, how would I convert the time to milliseconds when requesting select so that when mapping, I immediately write to the Long field?</p>\n<p>can you show me how to getHostAvailabilityForPeriod please?</p>\n<p>its my dependency:</p>\n<pre><code> &lt;dependency&gt;\n            &lt;groupId&gt;org.influxdb&lt;/groupId&gt;\n            &lt;artifactId&gt;influxdb-java&lt;/artifactId&gt;\n            &lt;version&gt;2.15&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","arrays","json","regex","struts2"],"comments":[{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1443438321,"post_id":32821282,"comment_id":53478334,"body_markdown":"How did you use it in `struts.xml`?","body":"How did you use it in <code>struts.xml</code>?"},{"owner":{"account_id":2010755,"reputation":23,"user_id":1799235,"display_name":"Priyanga"},"score":0,"creation_date":1443438669,"post_id":32821282,"comment_id":53478523,"body_markdown":"@RomanC I edited the question with struts.xml code","body":"@RomanC I edited the question with struts.xml code"}],"answers":[{"comments":[{"owner":{"account_id":2010755,"reputation":23,"user_id":1799235,"display_name":"Priyanga"},"score":0,"creation_date":1443439989,"post_id":32821673,"comment_id":53479304,"body_markdown":"&lt;br/&gt; But the thing is two objects obj1 and obj2 has same properties(id ), so that I need to get the json result clearly for two objects, but I will try with this","body":"&lt;br/&gt; But the thing is two objects obj1 and obj2 has same properties(id ), so that I need to get the json result clearly for two objects, but I will try with this"},{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1443440348,"post_id":32821673,"comment_id":53479519,"body_markdown":"You should be more specific with your requirements, what is the actual type of `obj2`?","body":"You should be more specific with your requirements, what is the actual type of <code>obj2</code>?"},{"owner":{"account_id":2010755,"reputation":23,"user_id":1799235,"display_name":"Priyanga"},"score":0,"creation_date":1443440635,"post_id":32821673,"comment_id":53479717,"body_markdown":"Those are business Objects of the related domain; I will edit the Question with those info.","body":"Those are business Objects of the related domain; I will edit the Question with those info."},{"owner":{"account_id":2010755,"reputation":23,"user_id":1799235,"display_name":"Priyanga"},"score":0,"creation_date":1443441613,"post_id":32821673,"comment_id":53480294,"body_markdown":"I tried with following ;                                                                       ^itemList\\[\\d+\\].*\\.id$,\n\\[\\d+\\]\\.id$,                                                                                                 but didn&#39;t give the result. It only gives this json; {&quot;actionResult&quot;:&quot;SUCCESS&quot;,&quot;errorList&quot;:[],&quot;page&quot;:1,&quot;records&quot;:100,&quot;reqaction_&quot;:null,&quot;searchType&quot;:&quot;conNo&quot;,&quot;searchValue&quot;:&quot;241622668&quot;,&quot;service&quot;:&quot;IE&quot;,&quot;total&quot;:10}","body":"I tried with following ;                                                                       ^itemList&#91;\\d+&#93;.*\\.id$, &#91;\\d+&#93;\\.id$,                                                                                                 but didn&#39;t give the result. It only gives this json; {&quot;actionResult&quot;:&quot;SUCCESS&quot;,&quot;errorList&quot;:[],&quot;page&quot;:1,&quot;records&quot;:&zwnj;&#8203;100,&quot;reqaction_&quot;:nul&zwnj;&#8203;l,&quot;searchType&quot;:&quot;conN&zwnj;&#8203;o&quot;,&quot;searchValue&quot;:&quot;24&zwnj;&#8203;1622668&quot;,&quot;service&quot;:&quot;&zwnj;&#8203;IE&quot;,&quot;total&quot;:10}"},{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1443443209,"post_id":32821673,"comment_id":53481291,"body_markdown":"This is your expression and it doesn&#39;t work, I don&#39;t know who are you following.","body":"This is your expression and it doesn&#39;t work, I don&#39;t know who are you following."},{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1443444216,"post_id":32821673,"comment_id":53481973,"body_markdown":"The error is ok, it means that you *can* access `itemList`&#39;s properties.","body":"The error is ok, it means that you <i>can</i> access <code>itemList</code>&#39;s properties."},{"owner":{"account_id":2010755,"reputation":23,"user_id":1799235,"display_name":"Priyanga"},"score":0,"creation_date":1443591024,"post_id":32821673,"comment_id":53550176,"body_markdown":"Yes with that I was able to get an empty array of arrays in json String. That means I can access the collection.","body":"Yes with that I was able to get an empty array of arrays in json String. That means I can access the collection."},{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1443610957,"post_id":32821673,"comment_id":53560967,"body_markdown":"The error from this question is using wrong regex to access the action properties. It was not accessible and no exception was thrown. When you use regexes from this answer the property became accessible, the fact that it throws exception, I guess it&#39;s lazy loading problem and it should be asked in a separate page. Also to not duplicate my answers I recommend you to search SO for similar question that already has an answer. I have provided answers to this problem several times.","body":"The error from this question is using wrong regex to access the action properties. It was not accessible and no exception was thrown. When you use regexes from this answer the property became accessible, the fact that it throws exception, I guess it&#39;s lazy loading problem and it should be asked in a separate page. Also to not duplicate my answers I recommend you to search SO for similar question that already has an answer. I have provided answers to this problem several times."}],"tags":[],"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"comment_count":8,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1443439689,"creation_date":1443439062,"answer_id":32821673,"question_id":32821282,"body_markdown":"The param `includeProperties` contains a list of regexes, that you use to match properties of the serializable to JSON object. This regex expression should match your property name, try it\r\n\r\n    ^itemList.*$   \r\n\r\nIf you want only `id` property, then you can try \r\n\r\n    ^itemList.*\\.id$","title":"Struts 2 json result for List of arrays","body":"<p>The param <code>includeProperties</code> contains a list of regexes, that you use to match properties of the serializable to JSON object. This regex expression should match your property name, try it</p>\n\n<pre><code>^itemList.*$   \n</code></pre>\n\n<p>If you want only <code>id</code> property, then you can try </p>\n\n<pre><code>^itemList.*\\.id$\n</code></pre>\n"}],"owner":{"account_id":2010755,"reputation":23,"user_id":1799235,"display_name":"Priyanga"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":572,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":1,"score":-1,"last_activity_date":1683541627,"creation_date":1443437711,"question_id":32821282,"body_markdown":"I have an `ArrayList` of arrays `ArrayList&lt;[obj1,obj2]&gt;`. Here `obj1` and `obj2` are different Java entities and this list is returned by a HQL query.\r\n\r\nHow to loop through this list in `struts.xml` file to send this as JSON result?\r\n\r\nI tried below combination but with no luck:\r\n\r\n&lt;!-- language: lang-regex --&gt;\r\n\r\n   1.  `^itemList\\[\\d+\\]\\.^\\[\\0+\\].id` --&gt; id is a property of entity\r\n   2.  `^itemList\\[\\d+\\]\\.\\0\\.id`\r\n   3.  `^itemList\\[\\d+\\]\\.co.id` --&gt; co = entity alias in hql\r\n   4.  `^itemList\\[\\d+\\]\\[0].id`\r\n   5.  `^itemList\\[\\d+\\]\\.\\[\\0+\\].id`\r\n   6.  `^itemList\\[\\d+\\]\\.[0].id`\r\n\r\n## edit:\r\n\r\nI used it in `struts.xml` as follows:\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;action name=&quot;list-view-op-cost-management_cons&quot;  class=&quot;com.eves.aixis.s2.action.billing.ConsignmentBillingGridAction&quot; method=&quot;listViewOperationalCostForManagement&quot;&gt;\r\n                &lt;result type=&quot;json&quot;&gt;\r\n                    &lt;param name=&quot;ignoreHierarchy&quot;&gt;false&lt;/param&gt;\r\n                    &lt;param name=&quot;includeProperties&quot;&gt;\r\n                        viewType,\r\n                        searchType,\r\n                        searchValue,\r\n                        service,\r\n                        page,\r\n                        total,\r\n                        records,\r\n                        ^itemList\\[\\d+\\]\\.^\\[\\0+\\].id,\r\n                        reqaction_,\r\n                        actionResult,\r\n                        ^errorList\\[\\d+\\]\r\n                        \r\n                    &lt;/param&gt;\r\n                &lt;/result&gt;\r\n            &lt;/action&gt;\r\n\r\nEdit:\r\n\r\n    Obj1 = Consignment(Bussiness entity)\r\n\r\nwith fileds:\r\n\r\n\r\n    \r\n\r\n    private Integer id;\r\n        private String consignmentNo;\r\n        private Customer sender;\r\n        private Contact senderContact;\r\n        private Pickup pickupRef;\r\n        private Receiver receiver;\r\n        private List&lt;Invoice&gt; invoiceList;\r\n        private ConsignmentStatus consignmentStatus;\r\n        private Boolean invoiceToReiver;\r\n        private String deliveryInstruction;\r\n        private String customerReference;\r\n        private List&lt;PackageDescription&gt; packageDescription;// actual package info\r\n        private List&lt;PackageDescription&gt; custPackage;//use in ecp (external customer portal) and use in inquiry given customer package details\r\n        private List&lt;PackageDescription&gt; revProtPackages;//revenue protection packages\r\n        \r\n        private Receiver deliveryAddress;\r\n        private List&lt;ConsignmentTrack&gt; connoteTrack;\r\n        private ProductType productType;\r\n        private List&lt;Commodity&gt; commodities;\r\n        private PreBriefDeskVerify briefDeskVerify;\r\n\r\n\r\nand\r\n \r\n    obj2 = SalesOrder(Bussiness entity)\r\n\r\nwith fileds:\r\n\r\n    private Long id;\r\n        private SalesOrderType salesItemType;\r\n        \r\n        private Consignment salesItem;  \r\n                                        \r\n        private MasterAirwayBill mawb; \r\n        private Pickup pickupSI;\r\n        private Delivery deliverySI;\r\n    \r\n        \r\n        private WHSalesItem whSalesItem;\r\n        \r\n        \r\n        private Job job;\r\n        private SCMBillingState billingState;\r\n        \r\n        \r\n        private Tariff tariff; \r\n    \r\n        private Tariff tariffForPrinciples; \r\n       \r\n    \r\n        private List&lt;SalesOrderLineItem&gt; salesOrderItemList;\r\n        private String remarks;\r\n        private SalesOrderStatus salesOrderStatus;","title":"Struts 2 json result for List of arrays","body":"<p>I have an <code>ArrayList</code> of arrays <code>ArrayList&lt;[obj1,obj2]&gt;</code>. Here <code>obj1</code> and <code>obj2</code> are different Java entities and this list is returned by a HQL query.</p>\n<p>How to loop through this list in <code>struts.xml</code> file to send this as JSON result?</p>\n<p>I tried below combination but with no luck:</p>\n<ol>\n<li><code>^itemList\\[\\d+\\]\\.^\\[\\0+\\].id</code> --&gt; id is a property of entity</li>\n<li><code>^itemList\\[\\d+\\]\\.\\0\\.id</code></li>\n<li><code>^itemList\\[\\d+\\]\\.co.id</code> --&gt; co = entity alias in hql</li>\n<li><code>^itemList\\[\\d+\\]\\[0].id</code></li>\n<li><code>^itemList\\[\\d+\\]\\.\\[\\0+\\].id</code></li>\n<li><code>^itemList\\[\\d+\\]\\.[0].id</code></li>\n</ol>\n<h2>edit:</h2>\n<p>I used it in <code>struts.xml</code> as follows:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;action name=&quot;list-view-op-cost-management_cons&quot;  class=&quot;com.eves.aixis.s2.action.billing.ConsignmentBillingGridAction&quot; method=&quot;listViewOperationalCostForManagement&quot;&gt;\n            &lt;result type=&quot;json&quot;&gt;\n                &lt;param name=&quot;ignoreHierarchy&quot;&gt;false&lt;/param&gt;\n                &lt;param name=&quot;includeProperties&quot;&gt;\n                    viewType,\n                    searchType,\n                    searchValue,\n                    service,\n                    page,\n                    total,\n                    records,\n                    ^itemList\\[\\d+\\]\\.^\\[\\0+\\].id,\n                    reqaction_,\n                    actionResult,\n                    ^errorList\\[\\d+\\]\n                    \n                &lt;/param&gt;\n            &lt;/result&gt;\n        &lt;/action&gt;\n</code></pre>\n<p>Edit:</p>\n<pre><code>Obj1 = Consignment(Bussiness entity)\n</code></pre>\n<p>with fileds:</p>\n<pre><code>private Integer id;\n    private String consignmentNo;\n    private Customer sender;\n    private Contact senderContact;\n    private Pickup pickupRef;\n    private Receiver receiver;\n    private List&lt;Invoice&gt; invoiceList;\n    private ConsignmentStatus consignmentStatus;\n    private Boolean invoiceToReiver;\n    private String deliveryInstruction;\n    private String customerReference;\n    private List&lt;PackageDescription&gt; packageDescription;// actual package info\n    private List&lt;PackageDescription&gt; custPackage;//use in ecp (external customer portal) and use in inquiry given customer package details\n    private List&lt;PackageDescription&gt; revProtPackages;//revenue protection packages\n    \n    private Receiver deliveryAddress;\n    private List&lt;ConsignmentTrack&gt; connoteTrack;\n    private ProductType productType;\n    private List&lt;Commodity&gt; commodities;\n    private PreBriefDeskVerify briefDeskVerify;\n</code></pre>\n<p>and</p>\n<pre><code>obj2 = SalesOrder(Bussiness entity)\n</code></pre>\n<p>with fileds:</p>\n<pre><code>private Long id;\n    private SalesOrderType salesItemType;\n    \n    private Consignment salesItem;  \n                                    \n    private MasterAirwayBill mawb; \n    private Pickup pickupSI;\n    private Delivery deliverySI;\n\n    \n    private WHSalesItem whSalesItem;\n    \n    \n    private Job job;\n    private SCMBillingState billingState;\n    \n    \n    private Tariff tariff; \n\n    private Tariff tariffForPrinciples; \n   \n\n    private List&lt;SalesOrderLineItem&gt; salesOrderItemList;\n    private String remarks;\n    private SalesOrderStatus salesOrderStatus;\n</code></pre>\n"},{"tags":["java","multithreading","concurrency","executorservice","threadpoolexecutor"],"answers":[{"comments":[{"owner":{"account_id":39563,"reputation":4010,"user_id":114194,"accept_rate":70,"display_name":"hakish"},"score":1,"creation_date":1244118161,"post_id":949463,"comment_id":758226,"body_markdown":"yes i have gone through the docs..the problem is...fixedThreadPool is causing a out of memory error @ 3 threads.. where as cachedPool is internally creating only a single thread..on increasing the heap size \ni am getting the same performance for both..is there anything else i am missing!!","body":"yes i have gone through the docs..the problem is...fixedThreadPool is causing a out of memory error @ 3 threads.. where as cachedPool is internally creating only a single thread..on increasing the heap size  i am getting the same performance for both..is there anything else i am missing!!"},{"owner":{"account_id":14954,"reputation":47917,"user_id":31136,"accept_rate":50,"display_name":"bruno conde"},"score":1,"creation_date":1244120783,"post_id":949463,"comment_id":758503,"body_markdown":"Are you providing any Threadfactory to the ThreadPool? My guess is that might be storing some state in the threads that is not being garbage collected. If not, maybe your program is running so close to the heap limit size that with the creation of 3 threads it causes an OutOfMemory. Also, if cachedPool is internally creating only a single thread then this possible indicates that your tasks are running syncronhized.","body":"Are you providing any Threadfactory to the ThreadPool? My guess is that might be storing some state in the threads that is not being garbage collected. If not, maybe your program is running so close to the heap limit size that with the creation of 3 threads it causes an OutOfMemory. Also, if cachedPool is internally creating only a single thread then this possible indicates that your tasks are running syncronhized."},{"owner":{"account_id":2739457,"reputation":7470,"user_id":2361308,"accept_rate":71,"display_name":"Hearen"},"score":0,"creation_date":1525923977,"post_id":949463,"comment_id":87548298,"body_markdown":"@brunoconde Just as @Louis F. points out the `newCachedThreadPool` might cause some **serious** issues because you leave all control to the `thread pool` and when the **service** is working with others in the same **host**, which might cause the others crash due to long-time CPU waiting. So I think `newFixedThreadPool` can be more secure in this kind of scenario. Also this [post](https://stackoverflow.com/questions/29620591/newfixedthreadpool-vs-newcachedthreadpool) clarifies the most outstanding differences between them.","body":"@brunoconde Just as @Louis F. points out the <code>newCachedThreadPool</code> might cause some <b>serious</b> issues because you leave all control to the <code>thread pool</code> and when the <b>service</b> is working with others in the same <b>host</b>, which might cause the others crash due to long-time CPU waiting. So I think <code>newFixedThreadPool</code> can be more secure in this kind of scenario. Also this <a href=\"https://stackoverflow.com/questions/29620591/newfixedthreadpool-vs-newcachedthreadpool\">post</a> clarifies the most outstanding differences between them."}],"tags":[],"owner":{"account_id":14954,"reputation":47917,"user_id":31136,"accept_rate":50,"display_name":"bruno conde"},"comment_count":3,"down_vote_count":0,"up_vote_count":233,"is_accepted":true,"score":233,"last_activity_date":1469109359,"creation_date":1244107525,"answer_id":949463,"question_id":949355,"body_markdown":"I think the docs explain the difference and usage of these two functions pretty well: \r\n\r\n[`newFixedThreadPool`][1]\r\n\r\n&gt; Creates a thread pool that reuses a\r\n&gt; fixed number of threads operating off\r\n&gt; a shared unbounded queue. At any\r\n&gt; point, at most nThreads threads will\r\n&gt; be active processing tasks. If\r\n&gt; additional tasks are submitted when\r\n&gt; all threads are active, they will wait\r\n&gt; in the queue until a thread is\r\n&gt; available. If any thread terminates\r\n&gt; due to a failure during execution\r\n&gt; prior to shutdown, a new one will take\r\n&gt; its place if needed to execute\r\n&gt; subsequent tasks. The threads in the\r\n&gt; pool will exist until it is explicitly\r\n&gt; shutdown. \r\n\r\n[`newCachedThreadPool`][2]\r\n\r\n&gt; Creates a thread pool that creates new\r\n&gt; threads as needed, but will reuse\r\n&gt; previously constructed threads when\r\n&gt; they are available. These pools will\r\n&gt; typically improve the performance of\r\n&gt; programs that execute many short-lived\r\n&gt; asynchronous tasks. Calls to execute\r\n&gt; will reuse previously constructed\r\n&gt; threads if available. If no existing\r\n&gt; thread is available, a new thread will\r\n&gt; be created and added to the pool.\r\n&gt; Threads that have not been used for\r\n&gt; sixty seconds are terminated and\r\n&gt; removed from the cache. Thus, a pool\r\n&gt; that remains idle for long enough will\r\n&gt; not consume any resources. Note that\r\n&gt; pools with similar properties but\r\n&gt; different details (for example,\r\n&gt; timeout parameters) may be created\r\n&gt; using ThreadPoolExecutor constructors.\r\n\r\nIn terms of resources, the `newFixedThreadPool` will keep all the threads running until they are explicitly terminated. In the `newCachedThreadPool` Threads that have not been used for sixty seconds are terminated and removed from the cache.\r\n\r\nGiven this, the resource consumption will depend very much in the situation. For instance, If you have a huge number of long running tasks I would suggest the `FixedThreadPool`. As for the `CachedThreadPool`, the docs say that &quot;These pools will typically improve the performance of programs that execute many short-lived asynchronous tasks&quot;.\r\n\r\n  [1]: http://docs.oracle.com/javase/8/docs/api/java/util/concurrent/Executors.html#newFixedThreadPool%28int%29\r\n  [2]: http://docs.oracle.com/javase/8/docs/api/java/util/concurrent/Executors.html#newCachedThreadPool()","title":"Executors.newCachedThreadPool() versus Executors.newFixedThreadPool()","body":"<p>I think the docs explain the difference and usage of these two functions pretty well: </p>\n\n<p><a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/concurrent/Executors.html#newFixedThreadPool%28int%29\" rel=\"noreferrer\"><code>newFixedThreadPool</code></a></p>\n\n<blockquote>\n  <p>Creates a thread pool that reuses a\n  fixed number of threads operating off\n  a shared unbounded queue. At any\n  point, at most nThreads threads will\n  be active processing tasks. If\n  additional tasks are submitted when\n  all threads are active, they will wait\n  in the queue until a thread is\n  available. If any thread terminates\n  due to a failure during execution\n  prior to shutdown, a new one will take\n  its place if needed to execute\n  subsequent tasks. The threads in the\n  pool will exist until it is explicitly\n  shutdown. </p>\n</blockquote>\n\n<p><a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/concurrent/Executors.html#newCachedThreadPool()\" rel=\"noreferrer\"><code>newCachedThreadPool</code></a></p>\n\n<blockquote>\n  <p>Creates a thread pool that creates new\n  threads as needed, but will reuse\n  previously constructed threads when\n  they are available. These pools will\n  typically improve the performance of\n  programs that execute many short-lived\n  asynchronous tasks. Calls to execute\n  will reuse previously constructed\n  threads if available. If no existing\n  thread is available, a new thread will\n  be created and added to the pool.\n  Threads that have not been used for\n  sixty seconds are terminated and\n  removed from the cache. Thus, a pool\n  that remains idle for long enough will\n  not consume any resources. Note that\n  pools with similar properties but\n  different details (for example,\n  timeout parameters) may be created\n  using ThreadPoolExecutor constructors.</p>\n</blockquote>\n\n<p>In terms of resources, the <code>newFixedThreadPool</code> will keep all the threads running until they are explicitly terminated. In the <code>newCachedThreadPool</code> Threads that have not been used for sixty seconds are terminated and removed from the cache.</p>\n\n<p>Given this, the resource consumption will depend very much in the situation. For instance, If you have a huge number of long running tasks I would suggest the <code>FixedThreadPool</code>. As for the <code>CachedThreadPool</code>, the docs say that \"These pools will typically improve the performance of programs that execute many short-lived asynchronous tasks\".</p>\n"},{"tags":[],"owner":{"account_id":1934485,"reputation":654,"user_id":1743094,"accept_rate":100,"display_name":"Dhanaraj Durairaj"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1442318647,"creation_date":1399574599,"answer_id":23550046,"question_id":949355,"body_markdown":"You must use newCachedThreadPool only when you have short-lived asynchronous tasks as stated in Javadoc, if you submit tasks which takes longer time to process, you will end up creating too many threads. You may hit 100% CPU if you submit long running tasks at faster rate to newCachedThreadPool (http://rashcoder.com/be-careful-while-using-executors-newcachedthreadpool/). ","title":"Executors.newCachedThreadPool() versus Executors.newFixedThreadPool()","body":"<p>You must use newCachedThreadPool only when you have short-lived asynchronous tasks as stated in Javadoc, if you submit tasks which takes longer time to process, you will end up creating too many threads. You may hit 100% CPU if you submit long running tasks at faster rate to newCachedThreadPool (<a href=\"http://rashcoder.com/be-careful-while-using-executors-newcachedthreadpool/\" rel=\"nofollow\">http://rashcoder.com/be-careful-while-using-executors-newcachedthreadpool/</a>). </p>\n"},{"tags":[],"owner":{"account_id":6623450,"reputation":599,"user_id":5114375,"display_name":"Prashant Gautam"},"comment_count":0,"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1473075805,"creation_date":1440489147,"answer_id":32198421,"question_id":949355,"body_markdown":"That’s right, `Executors.newCachedThreadPool()` isn&#39;t a great choice for server code that&#39;s servicing multiple clients and concurrent requests.\r\n\r\nWhy? There are basically two (related) problems with it:\r\n\r\n1. It&#39;s unbounded, which means that you&#39;re opening the door for anyone to cripple your JVM by simply injecting more work into the service (DoS attack). Threads consume a non-negligible amount of memory and also increase memory consumption based on their work-in-progress, so it&#39;s quite easy to topple a server this way (unless you have other circuit-breakers in place).\r\n\r\n2. The unbounded problem is exacerbated by the fact that the Executor is fronted by a `SynchronousQueue` which means there&#39;s a direct handoff between the task-giver and the thread pool. Each new task will create a new thread if all existing threads are busy. This is generally a bad strategy for server code. When the CPU gets saturated, existing tasks take longer to finish. Yet more tasks are being submitted and more threads created, so tasks take longer and longer to complete. When the CPU is saturated, more threads is definitely not what the server needs.\r\n\r\nHere are my recommendations:\r\n\r\nUse a fixed-size thread pool [Executors.newFixedThreadPool][1] or a  [ThreadPoolExecutor.][2] with a set maximum number of threads;\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/Executors.html#newFixedThreadPool-int-\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ThreadPoolExecutor.html","title":"Executors.newCachedThreadPool() versus Executors.newFixedThreadPool()","body":"<p>That’s right, <code>Executors.newCachedThreadPool()</code> isn't a great choice for server code that's servicing multiple clients and concurrent requests.</p>\n\n<p>Why? There are basically two (related) problems with it:</p>\n\n<ol>\n<li><p>It's unbounded, which means that you're opening the door for anyone to cripple your JVM by simply injecting more work into the service (DoS attack). Threads consume a non-negligible amount of memory and also increase memory consumption based on their work-in-progress, so it's quite easy to topple a server this way (unless you have other circuit-breakers in place).</p></li>\n<li><p>The unbounded problem is exacerbated by the fact that the Executor is fronted by a <code>SynchronousQueue</code> which means there's a direct handoff between the task-giver and the thread pool. Each new task will create a new thread if all existing threads are busy. This is generally a bad strategy for server code. When the CPU gets saturated, existing tasks take longer to finish. Yet more tasks are being submitted and more threads created, so tasks take longer and longer to complete. When the CPU is saturated, more threads is definitely not what the server needs.</p></li>\n</ol>\n\n<p>Here are my recommendations:</p>\n\n<p>Use a fixed-size thread pool <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/Executors.html#newFixedThreadPool-int-\" rel=\"noreferrer\">Executors.newFixedThreadPool</a> or a  <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ThreadPoolExecutor.html\" rel=\"noreferrer\">ThreadPoolExecutor.</a> with a set maximum number of threads;</p>\n"},{"comments":[{"owner":{"account_id":230261,"reputation":791,"user_id":493759,"display_name":"Agoston Horvath"},"score":1,"creation_date":1460117584,"post_id":32426412,"comment_id":60606016,"body_markdown":"Exactly, a cached thread executor with a sane upper limit and say, 5-10 minutes of idle reaping is just perfect for most occasions.","body":"Exactly, a cached thread executor with a sane upper limit and say, 5-10 minutes of idle reaping is just perfect for most occasions."}],"tags":[],"owner":{"account_id":3127182,"reputation":6869,"user_id":2645833,"accept_rate":54,"display_name":"krmanish007"},"comment_count":1,"down_vote_count":0,"up_vote_count":27,"is_accepted":false,"score":27,"last_activity_date":1657735322,"creation_date":1441561260,"answer_id":32426412,"question_id":949355,"body_markdown":"If you see the code in the grepcode, you will see, they are calling [ThreadPoolExecutor.][1] internally and setting their properties. You can create your one to have a better control of your requirement.\r\n\r\n    public static ExecutorService newFixedThreadPool(int nThreads) {\r\n       return new ThreadPoolExecutor(nThreads, nThreads,0L, TimeUnit.MILLISECONDS,\r\n    new LinkedBlockingQueue&lt;Runnable&gt;());\r\n    }\r\n    \r\n    public static ExecutorService newCachedThreadPool() {\r\n            return new ThreadPoolExecutor(0, Integer.MAX_VALUE,\r\n                                          60L, TimeUnit.SECONDS,\r\n                                          new SynchronousQueue&lt;Runnable&gt;());\r\n    }\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ThreadPoolExecutor.html","title":"Executors.newCachedThreadPool() versus Executors.newFixedThreadPool()","body":"<p>If you see the code in the grepcode, you will see, they are calling <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ThreadPoolExecutor.html\" rel=\"nofollow noreferrer\">ThreadPoolExecutor.</a> internally and setting their properties. You can create your one to have a better control of your requirement.</p>\n<pre><code>public static ExecutorService newFixedThreadPool(int nThreads) {\n   return new ThreadPoolExecutor(nThreads, nThreads,0L, TimeUnit.MILLISECONDS,\nnew LinkedBlockingQueue&lt;Runnable&gt;());\n}\n\npublic static ExecutorService newCachedThreadPool() {\n        return new ThreadPoolExecutor(0, Integer.MAX_VALUE,\n                                      60L, TimeUnit.SECONDS,\n                                      new SynchronousQueue&lt;Runnable&gt;());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6453072,"reputation":37996,"user_id":4999394,"accept_rate":98,"display_name":"Ravindra babu"},"comment_count":0,"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1683541461,"creation_date":1448729513,"answer_id":33973860,"question_id":949355,"body_markdown":"If you are not worried about an unbounded queue of *Callable/Runnable* tasks, you can use one of them. As suggested by bruno, I too prefer `newFixedThreadPool` to `newCachedThreadPool` over these two.\r\n\r\nBut unbounded queue size is always dangerous. If you have some unexpected turbulence in the system and current threads are stuck, the queue size is going to increase and it may go out of bounds by causing OutOfMemory error OR degraded performance in the system. \r\n\r\nBut [ThreadPoolExecutor][1]   provides more flexible features compared to either `newFixedThreadPool` or `newCachedThreadPool`. It provides more granular control on various attributes. \r\n\r\n    ThreadPoolExecutor(int corePoolSize, int maximumPoolSize, long keepAliveTime, \r\n    TimeUnit unit, BlockingQueue&lt;Runnable&gt; workQueue, ThreadFactory threadFactory,\r\n    RejectedExecutionHandler handler)\r\n\r\n*Advantages:*\r\n\r\n1. You have full control of *BlockingQueue* size. It&#39;s not un-bounded, unlike the earlier two options. I won&#39;t get an out of memory error due to a huge pile-up of pending Callable/Runnable tasks when there is unexpected turbulence in the system.\r\n\r\n2. You can implement custom *Rejection handling* policy OR use one of the policies:\r\n             \r\n    &gt;1. In the default `ThreadPoolExecutor.AbortPolicy`, the handler throws a runtime RejectedExecutionException upon rejection.\r\n\r\n    &gt;2. In `ThreadPoolExecutor.CallerRunsPolicy`, the thread that invokes execute itself runs the task. This provides a simple feedback control mechanism that will slow down the rate that new tasks are submitted.\r\n\r\n    &gt;3. In `ThreadPoolExecutor.DiscardPolicy`, a task that cannot be executed is simply dropped.\r\n\r\n    &gt;4. In `ThreadPoolExecutor.DiscardOldestPolicy`, if the executor is not shut down, the task at the head of the work queue is dropped, and then execution is retried (which can fail again, causing this to be repeated.)\r\n\r\n\r\n3. You can implement a custom Thread factory for the below use cases:\r\n\r\n    &gt; By supplying a different ThreadFactory, you can alter the thread&#39;s name, thread group, priority, daemon status, etc\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ThreadPoolExecutor.html\r\n\r\n ","title":"Executors.newCachedThreadPool() versus Executors.newFixedThreadPool()","body":"<p>If you are not worried about an unbounded queue of <em>Callable/Runnable</em> tasks, you can use one of them. As suggested by bruno, I too prefer <code>newFixedThreadPool</code> to <code>newCachedThreadPool</code> over these two.</p>\n<p>But unbounded queue size is always dangerous. If you have some unexpected turbulence in the system and current threads are stuck, the queue size is going to increase and it may go out of bounds by causing OutOfMemory error OR degraded performance in the system.</p>\n<p>But <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ThreadPoolExecutor.html\" rel=\"nofollow noreferrer\">ThreadPoolExecutor</a>   provides more flexible features compared to either <code>newFixedThreadPool</code> or <code>newCachedThreadPool</code>. It provides more granular control on various attributes.</p>\n<pre><code>ThreadPoolExecutor(int corePoolSize, int maximumPoolSize, long keepAliveTime, \nTimeUnit unit, BlockingQueue&lt;Runnable&gt; workQueue, ThreadFactory threadFactory,\nRejectedExecutionHandler handler)\n</code></pre>\n<p><em>Advantages:</em></p>\n<ol>\n<li><p>You have full control of <em>BlockingQueue</em> size. It's not un-bounded, unlike the earlier two options. I won't get an out of memory error due to a huge pile-up of pending Callable/Runnable tasks when there is unexpected turbulence in the system.</p>\n</li>\n<li><p>You can implement custom <em>Rejection handling</em> policy OR use one of the policies:</p>\n<blockquote>\n<ol>\n<li>In the default <code>ThreadPoolExecutor.AbortPolicy</code>, the handler throws a runtime RejectedExecutionException upon rejection.</li>\n</ol>\n</blockquote>\n<blockquote>\n<ol start=\"2\">\n<li>In <code>ThreadPoolExecutor.CallerRunsPolicy</code>, the thread that invokes execute itself runs the task. This provides a simple feedback control mechanism that will slow down the rate that new tasks are submitted.</li>\n</ol>\n</blockquote>\n<blockquote>\n<ol start=\"3\">\n<li>In <code>ThreadPoolExecutor.DiscardPolicy</code>, a task that cannot be executed is simply dropped.</li>\n</ol>\n</blockquote>\n<blockquote>\n<ol start=\"4\">\n<li>In <code>ThreadPoolExecutor.DiscardOldestPolicy</code>, if the executor is not shut down, the task at the head of the work queue is dropped, and then execution is retried (which can fail again, causing this to be repeated.)</li>\n</ol>\n</blockquote>\n</li>\n<li><p>You can implement a custom Thread factory for the below use cases:</p>\n<blockquote>\n<p>By supplying a different ThreadFactory, you can alter the thread's name, thread group, priority, daemon status, etc</p>\n</blockquote>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":2728592,"reputation":2038,"user_id":2352924,"accept_rate":100,"display_name":"Louis F."},"comment_count":0,"down_vote_count":0,"up_vote_count":91,"is_accepted":false,"score":91,"last_activity_date":1450171304,"creation_date":1450171304,"answer_id":34285268,"question_id":949355,"body_markdown":"Just to complete the other answers, I would like to quote Effective Java, 2nd Edition, by Joshua Bloch, chapter 10, Item 68 :\n\n&gt;&quot;Choosing the executor service for a particular application can be tricky. If you’re writing a **small program**, or a **lightly loaded server**, using **Executors.new- CachedThreadPool is** generally a **good choice**, as it demands no configuration and generally “does the right thing.” But a cached thread pool is **not a good choice** for a **heavily loaded production server**! \n&gt;\n&gt;In a **cached thread pool**, **submitted tasks are not queued** but immediately handed off to a thread for execution. **If no threads are available, a new one is created**. If a server is so heavily loaded that all of its CPUs are fully utilized, and more tasks arrive, more threads will be created, which will only make matters worse.\n&gt;\n&gt;Therefore, **in a heavily loaded production server**, you are much better off using **Executors.newFixedThreadPool**, which gives you a pool with a fixed number of threads, or using the ThreadPoolExecutor class directly, **for maximum control.**&quot;\n","title":"Executors.newCachedThreadPool() versus Executors.newFixedThreadPool()","body":"<p>Just to complete the other answers, I would like to quote Effective Java, 2nd Edition, by Joshua Bloch, chapter 10, Item 68 :</p>\n<blockquote>\n<p>&quot;Choosing the executor service for a particular application can be tricky. If you’re writing a <strong>small program</strong>, or a <strong>lightly loaded server</strong>, using <strong>Executors.new- CachedThreadPool is</strong> generally a <strong>good choice</strong>, as it demands no configuration and generally “does the right thing.” But a cached thread pool is <strong>not a good choice</strong> for a <strong>heavily loaded production server</strong>!</p>\n<p>In a <strong>cached thread pool</strong>, <strong>submitted tasks are not queued</strong> but immediately handed off to a thread for execution. <strong>If no threads are available, a new one is created</strong>. If a server is so heavily loaded that all of its CPUs are fully utilized, and more tasks arrive, more threads will be created, which will only make matters worse.</p>\n<p>Therefore, <strong>in a heavily loaded production server</strong>, you are much better off using <strong>Executors.newFixedThreadPool</strong>, which gives you a pool with a fixed number of threads, or using the ThreadPoolExecutor class directly, <strong>for maximum control.</strong>&quot;</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":2188097,"reputation":57,"user_id":1935980,"display_name":"Mike"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1520889538,"creation_date":1520889538,"answer_id":49244551,"question_id":949355,"body_markdown":"I do some quick tests and have the following findings:\r\n\r\n1) if using SynchronousQueue:\r\n\r\nAfter the threads reach the maximum size, any new work will be rejected with the exception like below.\r\n\r\n&gt; Exception in thread &quot;main&quot; java.util.concurrent.RejectedExecutionException: Task java.util.concurrent.FutureTask@3fee733d rejected from java.util.concurrent.ThreadPoolExecutor@5acf9800[Running, pool size = 3, active threads = 3, queued tasks = 0, completed tasks = 0]\r\n&gt;\r\n&gt;at java.util.concurrent.ThreadPoolExecutor$AbortPolicy.rejectedExecution(ThreadPoolExecutor.java:2047)\r\n\r\n2) if using LinkedBlockingQueue:\r\n\r\nThe threads never increase from minimum size to maximum size, meaning the thread pool is fixed size as the minimum size.","title":"Executors.newCachedThreadPool() versus Executors.newFixedThreadPool()","body":"<p>I do some quick tests and have the following findings:</p>\n\n<p>1) if using SynchronousQueue:</p>\n\n<p>After the threads reach the maximum size, any new work will be rejected with the exception like below.</p>\n\n<blockquote>\n  <p>Exception in thread \"main\" java.util.concurrent.RejectedExecutionException: Task java.util.concurrent.FutureTask@3fee733d rejected from java.util.concurrent.ThreadPoolExecutor@5acf9800[Running, pool size = 3, active threads = 3, queued tasks = 0, completed tasks = 0]</p>\n  \n  <p>at java.util.concurrent.ThreadPoolExecutor$AbortPolicy.rejectedExecution(ThreadPoolExecutor.java:2047)</p>\n</blockquote>\n\n<p>2) if using LinkedBlockingQueue:</p>\n\n<p>The threads never increase from minimum size to maximum size, meaning the thread pool is fixed size as the minimum size.</p>\n"},{"comments":[{"owner":{"account_id":1227430,"reputation":29840,"user_id":1192728,"accept_rate":100,"display_name":"hqt"},"score":2,"creation_date":1605947388,"post_id":58771345,"comment_id":114813470,"body_markdown":"Thanks for this post. I hope this post will have more votes so it can go up ^^^ Understand the mechanism behind always better when taking a decision.","body":"Thanks for this post. I hope this post will have more votes so it can go up ^^^ Understand the mechanism behind always better when taking a decision."},{"owner":{"account_id":6608940,"reputation":620,"user_id":5483731,"accept_rate":72,"display_name":"linuxNoob"},"score":0,"creation_date":1664852027,"post_id":58771345,"comment_id":130560028,"body_markdown":"Great explanation. Can you give some examples of short-running tasks? I&#39;m thinking that making network/REST calls to APIs or database retrieval will not come under them?","body":"Great explanation. Can you give some examples of short-running tasks? I&#39;m thinking that making network/REST calls to APIs or database retrieval will not come under them?"}],"tags":[],"owner":{"account_id":1477692,"reputation":46661,"user_id":1393484,"accept_rate":100,"display_name":"Ali Dehghani"},"comment_count":2,"down_vote_count":0,"up_vote_count":26,"is_accepted":false,"score":26,"last_activity_date":1573235161,"creation_date":1573234480,"answer_id":58771345,"question_id":949355,"body_markdown":"The [`ThreadPoolExecutor`][2] class is the base implementation for the executors that are returned from many of the `Executors` factory methods. So let&#39;s approach *Fixed* and *Cached* thread pools from `ThreadPoolExecutor`&#39;s perspective.\r\n\r\nThreadPoolExecutor\r\n------------------\r\nThe [main constructor][1] of this class looks like this:\r\n```java\r\npublic ThreadPoolExecutor(\r\n                  int corePoolSize,\r\n                  int maximumPoolSize,\r\n                  long keepAliveTime,\r\n                  TimeUnit unit,\r\n                  BlockingQueue&lt;Runnable&gt; workQueue,\r\n                  ThreadFactory threadFactory,\r\n                  RejectedExecutionHandler handler\r\n)\r\n```\r\nCore Pool Size\r\n---------------\r\n**The `corePoolSize` determines the minimum size of the target thread pool.** The implementation would maintain a pool of that size even if there are no tasks to execute.\r\n\r\nMaximum Pool Size\r\n-----------------\r\n**The `maximumPoolSize` is the maximum number of threads that can be active at once.** \r\n\r\nAfter the thread pool grows and becomes bigger than the `corePoolSize` threshold, the executor can terminate idle threads and reach to the `corePoolSize` again.\r\nIf `allowCoreThreadTimeOut` is true, then the executor can even terminate core pool threads if they were idle more than `keepAliveTime` threshold.\r\n\r\nSo the bottom line is if threads remain idle more than `keepAliveTime` threshold, they may get terminated since there is no demand for them.\r\nQueuing\r\n-------\r\n**What happens when a new task comes in and all core threads are occupied?** The new tasks will be queued inside that `BlockingQueue&lt;Runnable&gt;` instance. When a thread becomes free, one of those queued tasks can be processed.\r\n\r\nThere are different implementations of the `BlockingQueue` interface in Java, so we can implement different queuing approaches like:\r\n\r\n 1. **Bounded Queue**: New tasks would be queued inside a bounded task queue.\r\n \r\n 2. **Unbounded Queue**: New tasks would be queued inside an unbounded task queue. So this queue can grow as much as the heap size allows.\r\n  \r\n 3. **Synchronous Handoff**: We can also use the `SynchronousQueue` to queue the new tasks. In that case, when queuing a new task, another thread must already be waiting for that task.\r\n \r\n\r\nWork Submission\r\n---------------\r\nHere&#39;s how the `ThreadPoolExecutor` executes a new task:\r\n\r\n 1. If fewer than `corePoolSize` threads are running, tries to start a\r\n    new thread with the given task as its first job.\r\n 2. Otherwise, it tries to enqueue the new task using the\r\n    `BlockingQueue#offer` method. The `offer` method won&#39;t block if the queue is full and immediately returns `false`.\r\n 3. **If it fails to queue the new task (i.e. `offer` returns `false`), then it tries to add a new thread to the thread pool with this task as its first job.**\r\n 4. If it fails to add the new thread, then the executor is either shut down or saturated. Either way, the new task would be rejected using the provided `RejectedExecutionHandler`.\r\n\r\n**The main difference between the fixed and cached thread pools boils down to these three factors:**\r\n\r\n 1. Core Pool Size\r\n 2. Maximum Pool Size\r\n 3. Queuing\r\n\r\n&lt;pre&gt;\r\n\r\n+-----------+-----------+-------------------+---------------------------------+\r\n| Pool Type | Core Size |    Maximum Size   |         Queuing Strategy        |\r\n+-----------+-----------+-------------------+---------------------------------+\r\n|   Fixed   | n (fixed) |     n (fixed)     | Unbounded `LinkedBlockingQueue` |\r\n+-----------+-----------+-------------------+---------------------------------+\r\n|   Cached  |     0     | Integer.MAX_VALUE |        `SynchronousQueue`       |\r\n+-----------+-----------+-------------------+---------------------------------+\r\n&lt;/pre&gt;\r\n\r\n&lt;hr&gt;\r\nFixed Thread Pool\r\n-----------------\r\n&lt;hr&gt;\r\nHere&#39;s how the `Excutors.newFixedThreadPool(n)` works:\r\n```java\r\npublic static ExecutorService newFixedThreadPool(int nThreads) {\r\n    return new ThreadPoolExecutor(nThreads, nThreads,\r\n                                  0L, TimeUnit.MILLISECONDS,\r\n                                  new LinkedBlockingQueue&lt;Runnable&gt;());\r\n}\r\n```\r\nAs you can see:\r\n\r\n - The thread pool size is fixed. \r\n - If there is high demand, it won&#39;t grow.\r\n - If threads are idle for quite some time, it won&#39;t shrink.\r\n - Suppose all those threads are occupied with some long-running tasks and the arrival rate is still pretty high. Since the executor is using an unbounded queue, it may consume a huge part of the heap. Being unfortunate enough, we may experience an `OutOfMemoryError`.\r\n\r\n&gt; When should I use one or the other? Which strategy is better in terms of resource utilization?\r\n\r\n**A fixed-size thread pool seems to be a good candidate when we&#39;re going to limit the number of concurrent tasks for resource management purposes**. \r\n\r\nFor example, if we&#39;re going to use an executor to handle web server requests, a fixed executor can handle the request bursts more reasonably. \r\n\r\n**For even better resource management, it&#39;s highly recommended to create a custom `ThreadPoolExecutor` with a bounded `BlockingQueue&lt;T&gt;` implementation coupled with reasonable `RejectedExecutionHandler`.**\r\n\r\n&lt;hr&gt;\r\nCached Thread Pool\r\n-----\r\n&lt;hr&gt;\r\n\r\nHere&#39;s how the `Executors.newCachedThreadPool()` works:\r\n```java\r\npublic static ExecutorService newCachedThreadPool() {\r\n    return new ThreadPoolExecutor(0, Integer.MAX_VALUE,\r\n                                  60L, TimeUnit.SECONDS,\r\n                                  new SynchronousQueue&lt;Runnable&gt;());\r\n}\r\n```\r\nAs you can see:\r\n\r\n - The thread pool can grow from zero threads to `Integer.MAX_VALUE`. Practically, the thread pool is unbounded.\r\n - If any thread is idle for more than 1 minute, it may get terminated. So the pool can shrink if threads remain too much idle.\r\n - If all allocated threads are occupied while a new task comes in, then it creates a new thread, as offering a new task to a `SynchronousQueue` always fails when there is no one on the other end to accept it! \r\n\r\n&gt; When should I use one or the other? Which strategy is better in terms of resource utilization?\r\n\r\nUse it when you have a lot of predictable short-running tasks.\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ThreadPoolExecutor.html#ThreadPoolExecutor(int,%20int,%20long,%20java.util.concurrent.TimeUnit,%20java.util.concurrent.BlockingQueue,%20java.util.concurrent.ThreadFactory,%20java.util.concurrent.RejectedExecutionHandler)\r\n\r\n  [2]: https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ThreadPoolExecutor.html","title":"Executors.newCachedThreadPool() versus Executors.newFixedThreadPool()","body":"<p>The <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ThreadPoolExecutor.html\" rel=\"noreferrer\"><code>ThreadPoolExecutor</code></a> class is the base implementation for the executors that are returned from many of the <code>Executors</code> factory methods. So let's approach <em>Fixed</em> and <em>Cached</em> thread pools from <code>ThreadPoolExecutor</code>'s perspective.</p>\n\n<h2>ThreadPoolExecutor</h2>\n\n<p>The <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ThreadPoolExecutor.html#ThreadPoolExecutor(int,%20int,%20long,%20java.util.concurrent.TimeUnit,%20java.util.concurrent.BlockingQueue,%20java.util.concurrent.ThreadFactory,%20java.util.concurrent.RejectedExecutionHandler)\" rel=\"noreferrer\">main constructor</a> of this class looks like this:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public ThreadPoolExecutor(\n                  int corePoolSize,\n                  int maximumPoolSize,\n                  long keepAliveTime,\n                  TimeUnit unit,\n                  BlockingQueue&lt;Runnable&gt; workQueue,\n                  ThreadFactory threadFactory,\n                  RejectedExecutionHandler handler\n)\n</code></pre>\n\n<h2>Core Pool Size</h2>\n\n<p><strong>The <code>corePoolSize</code> determines the minimum size of the target thread pool.</strong> The implementation would maintain a pool of that size even if there are no tasks to execute.</p>\n\n<h2>Maximum Pool Size</h2>\n\n<p><strong>The <code>maximumPoolSize</code> is the maximum number of threads that can be active at once.</strong> </p>\n\n<p>After the thread pool grows and becomes bigger than the <code>corePoolSize</code> threshold, the executor can terminate idle threads and reach to the <code>corePoolSize</code> again.\nIf <code>allowCoreThreadTimeOut</code> is true, then the executor can even terminate core pool threads if they were idle more than <code>keepAliveTime</code> threshold.</p>\n\n<p>So the bottom line is if threads remain idle more than <code>keepAliveTime</code> threshold, they may get terminated since there is no demand for them.</p>\n\n<h2>Queuing</h2>\n\n<p><strong>What happens when a new task comes in and all core threads are occupied?</strong> The new tasks will be queued inside that <code>BlockingQueue&lt;Runnable&gt;</code> instance. When a thread becomes free, one of those queued tasks can be processed.</p>\n\n<p>There are different implementations of the <code>BlockingQueue</code> interface in Java, so we can implement different queuing approaches like:</p>\n\n<ol>\n<li><p><strong>Bounded Queue</strong>: New tasks would be queued inside a bounded task queue.</p></li>\n<li><p><strong>Unbounded Queue</strong>: New tasks would be queued inside an unbounded task queue. So this queue can grow as much as the heap size allows.</p></li>\n<li><p><strong>Synchronous Handoff</strong>: We can also use the <code>SynchronousQueue</code> to queue the new tasks. In that case, when queuing a new task, another thread must already be waiting for that task.</p></li>\n</ol>\n\n<h2>Work Submission</h2>\n\n<p>Here's how the <code>ThreadPoolExecutor</code> executes a new task:</p>\n\n<ol>\n<li>If fewer than <code>corePoolSize</code> threads are running, tries to start a\nnew thread with the given task as its first job.</li>\n<li>Otherwise, it tries to enqueue the new task using the\n<code>BlockingQueue#offer</code> method. The <code>offer</code> method won't block if the queue is full and immediately returns <code>false</code>.</li>\n<li><strong>If it fails to queue the new task (i.e. <code>offer</code> returns <code>false</code>), then it tries to add a new thread to the thread pool with this task as its first job.</strong></li>\n<li>If it fails to add the new thread, then the executor is either shut down or saturated. Either way, the new task would be rejected using the provided <code>RejectedExecutionHandler</code>.</li>\n</ol>\n\n<p><strong>The main difference between the fixed and cached thread pools boils down to these three factors:</strong></p>\n\n<ol>\n<li>Core Pool Size</li>\n<li>Maximum Pool Size</li>\n<li>Queuing</li>\n</ol>\n\n<pre>\n\n+-----------+-----------+-------------------+---------------------------------+\n| Pool Type | Core Size |    Maximum Size   |         Queuing Strategy        |\n+-----------+-----------+-------------------+---------------------------------+\n|   Fixed   | n (fixed) |     n (fixed)     | Unbounded `LinkedBlockingQueue` |\n+-----------+-----------+-------------------+---------------------------------+\n|   Cached  |     0     | Integer.MAX_VALUE |        `SynchronousQueue`       |\n+-----------+-----------+-------------------+---------------------------------+\n</pre>\n\n<p><hr></p>\n\n<h2>Fixed Thread Pool</h2>\n\n<p><hr>\nHere's how the <code>Excutors.newFixedThreadPool(n)</code> works:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public static ExecutorService newFixedThreadPool(int nThreads) {\n    return new ThreadPoolExecutor(nThreads, nThreads,\n                                  0L, TimeUnit.MILLISECONDS,\n                                  new LinkedBlockingQueue&lt;Runnable&gt;());\n}\n</code></pre>\n\n<p>As you can see:</p>\n\n<ul>\n<li>The thread pool size is fixed. </li>\n<li>If there is high demand, it won't grow.</li>\n<li>If threads are idle for quite some time, it won't shrink.</li>\n<li>Suppose all those threads are occupied with some long-running tasks and the arrival rate is still pretty high. Since the executor is using an unbounded queue, it may consume a huge part of the heap. Being unfortunate enough, we may experience an <code>OutOfMemoryError</code>.</li>\n</ul>\n\n<blockquote>\n  <p>When should I use one or the other? Which strategy is better in terms of resource utilization?</p>\n</blockquote>\n\n<p><strong>A fixed-size thread pool seems to be a good candidate when we're going to limit the number of concurrent tasks for resource management purposes</strong>. </p>\n\n<p>For example, if we're going to use an executor to handle web server requests, a fixed executor can handle the request bursts more reasonably. </p>\n\n<p><strong>For even better resource management, it's highly recommended to create a custom <code>ThreadPoolExecutor</code> with a bounded <code>BlockingQueue&lt;T&gt;</code> implementation coupled with reasonable <code>RejectedExecutionHandler</code>.</strong></p>\n\n<p><hr></p>\n\n<h2>Cached Thread Pool</h2>\n\n<hr>\n\n<p>Here's how the <code>Executors.newCachedThreadPool()</code> works:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public static ExecutorService newCachedThreadPool() {\n    return new ThreadPoolExecutor(0, Integer.MAX_VALUE,\n                                  60L, TimeUnit.SECONDS,\n                                  new SynchronousQueue&lt;Runnable&gt;());\n}\n</code></pre>\n\n<p>As you can see:</p>\n\n<ul>\n<li>The thread pool can grow from zero threads to <code>Integer.MAX_VALUE</code>. Practically, the thread pool is unbounded.</li>\n<li>If any thread is idle for more than 1 minute, it may get terminated. So the pool can shrink if threads remain too much idle.</li>\n<li>If all allocated threads are occupied while a new task comes in, then it creates a new thread, as offering a new task to a <code>SynchronousQueue</code> always fails when there is no one on the other end to accept it! </li>\n</ul>\n\n<blockquote>\n  <p>When should I use one or the other? Which strategy is better in terms of resource utilization?</p>\n</blockquote>\n\n<p>Use it when you have a lot of predictable short-running tasks.</p>\n"}],"owner":{"account_id":39563,"reputation":4010,"user_id":114194,"accept_rate":70,"display_name":"hakish"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":133405,"favorite_count":0,"down_vote_count":2,"up_vote_count":199,"accepted_answer_id":949463,"answer_count":8,"score":197,"last_activity_date":1683541461,"creation_date":1244105740,"question_id":949355,"body_markdown":"[`newCachedThreadPool()`][1] versus [`newFixedThreadPool()`][2]\r\n  \r\nWhen should I use one or the other? Which strategy is better in terms of resource utilization?\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/8/docs/api/java/util/concurrent/Executors.html#newCachedThreadPool--\r\n  [2]: http://docs.oracle.com/javase/8/docs/api/java/util/concurrent/Executors.html#newFixedThreadPool-int-","title":"Executors.newCachedThreadPool() versus Executors.newFixedThreadPool()","body":"<p><a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/concurrent/Executors.html#newCachedThreadPool--\" rel=\"noreferrer\"><code>newCachedThreadPool()</code></a> versus <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/concurrent/Executors.html#newFixedThreadPool-int-\" rel=\"noreferrer\"><code>newFixedThreadPool()</code></a></p>\n\n<p>When should I use one or the other? Which strategy is better in terms of resource utilization?</p>\n"},{"tags":["java","spring","spring-boot","exception","response"],"comments":[{"owner":{"account_id":1041463,"reputation":3845,"user_id":1047418,"display_name":"Torben"},"score":0,"creation_date":1683542024,"post_id":76199622,"comment_id":134377413,"body_markdown":"Do not use exceptions for flow control, it&#39;s a bad practise. Put &quot;do not use exceptions for flow control&quot; to a search engine for more info. The message is a warning because you are not handling the exception so add an exception handler for the exception to get rid of the message. Leaking exception messages to API responses is a security issue as it allows attackers to learn information from your (missing) error handling.","body":"Do not use exceptions for flow control, it&#39;s a bad practise. Put &quot;do not use exceptions for flow control&quot; to a search engine for more info. The message is a warning because you are not handling the exception so add an exception handler for the exception to get rid of the message. Leaking exception messages to API responses is a security issue as it allows attackers to learn information from your (missing) error handling."}],"owner":{"account_id":229715,"reputation":1804,"user_id":492867,"accept_rate":96,"display_name":"tanasi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":220,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683541155,"creation_date":1683541155,"question_id":76199622,"body_markdown":"I have some logic in code to throw an error if something happen like this:\r\n\r\n    if(somethingHappned) {\r\n       throw new IllegalArgumentException(&quot;Message for FE!&quot;);\r\n    }\r\n    \r\nand this is response from Spring Boot:\r\n\r\n    {\r\n        &quot;errors&quot;: [\r\n            {\r\n                &quot;code&quot;: &quot;Unhandled Exception&quot;,\r\n                &quot;message&quot;: &quot;Caught an unhandled exception: Message for FE!&quot;\r\n            }\r\n        ]\r\n    }\r\n    \r\nIs it possible to get rid of\r\n\r\n&gt; Caught an unhandled exception:\r\n\r\nin exception response?","title":"Get rid of &quot;Caught an unhandled exception:&quot; in exception response","body":"<p>I have some logic in code to throw an error if something happen like this:</p>\n<pre><code>if(somethingHappned) {\n   throw new IllegalArgumentException(&quot;Message for FE!&quot;);\n}\n</code></pre>\n<p>and this is response from Spring Boot:</p>\n<pre><code>{\n    &quot;errors&quot;: [\n        {\n            &quot;code&quot;: &quot;Unhandled Exception&quot;,\n            &quot;message&quot;: &quot;Caught an unhandled exception: Message for FE!&quot;\n        }\n    ]\n}\n</code></pre>\n<p>Is it possible to get rid of</p>\n<blockquote>\n<p>Caught an unhandled exception:</p>\n</blockquote>\n<p>in exception response?</p>\n"},{"tags":["java","json","class-hierarchy"],"comments":[{"owner":{"account_id":116840,"reputation":12441,"user_id":306257,"accept_rate":96,"display_name":"Haldean Brown"},"score":0,"creation_date":1481061488,"post_id":40958961,"comment_id":69219978,"body_markdown":"Hi there! I tried to reword your question to be less focused on opinions and more on object-oriented design. For more information about the sorts of questions that are well-suited to Stack Overflow, check out http://stackoverflow.com/help/on-topic","body":"Hi there! I tried to reword your question to be less focused on opinions and more on object-oriented design. For more information about the sorts of questions that are well-suited to Stack Overflow, check out <a href=\"http://stackoverflow.com/help/on-topic\">stackoverflow.com/help/on-topic</a>"}],"answers":[{"tags":[],"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1480857886,"creation_date":1480857886,"answer_id":40959111,"question_id":40958961,"body_markdown":"Inheritance would be a naive approach.  A sub-class per Category and Subcategory cannot scale.\r\n\r\nWhat about sub-sub-categories?  Oh, my.  \r\n\r\nMaybe a better approach is to stick with a `Category` class and make it a [Composite][1], or just create a tree of `Category` instances.  That way you can assemble trees of categories to your heart&#39;s content by adding instances and data rather than new classes.\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Composite_pattern","title":"How to represent a multilevel hierarchy in Java","body":"<p>Inheritance would be a naive approach.  A sub-class per Category and Subcategory cannot scale.</p>\n\n<p>What about sub-sub-categories?  Oh, my.  </p>\n\n<p>Maybe a better approach is to stick with a <code>Category</code> class and make it a <a href=\"https://en.wikipedia.org/wiki/Composite_pattern\" rel=\"nofollow noreferrer\">Composite</a>, or just create a tree of <code>Category</code> instances.  That way you can assemble trees of categories to your heart's content by adding instances and data rather than new classes.</p>\n"},{"comments":[{"owner":{"account_id":22895878,"reputation":1,"user_id":21712958,"display_name":"Praw&#232;&#233;n EM"},"score":0,"creation_date":1683540711,"post_id":76199546,"comment_id":134377174,"body_markdown":"this is an example program that explain multilevel hierarchy and the polymorphism in java can be achieved","body":"this is an example program that explain multilevel hierarchy and the polymorphism in java can be achieved"}],"tags":[],"owner":{"account_id":22895878,"reputation":1,"user_id":21712958,"display_name":"Praw&#232;&#233;n EM"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683540633,"creation_date":1683540633,"answer_id":76199546,"question_id":40958961,"body_markdown":"    import java.util.Scanner;\r\n    \r\n    class Runner{\r\n    \t\r\n    \tpublic void Startedrunning(){\r\n    \t\tSystem.out.println(&quot; Game started &quot;);\r\n    \t\ttry {\r\n    \t\t\tThread.sleep(1000);\r\n    \t\t} catch (InterruptedException e) {\r\n    \r\n    \t\t}\r\n    \t}\r\n    \t\r\n    }\r\n    \r\n    \r\n    class fellDown extends Runner{\r\n    \t\r\n    \t@Override\r\n    \tpublic void Startedrunning(){\r\n    \t\tSystem.out.println(&quot;person started running&quot;);\r\n    \t\ttry {\r\n    \t\t\tThread.sleep(1000);\r\n    \t\t} catch (InterruptedException e) {\r\n    \r\n    \t\t}\r\n    \t\tSystem.out.println(&quot;person fell down&quot;);\r\n    \t\ttry {\r\n    \t\t\tThread.sleep(1000);\r\n    \t\t} catch (InterruptedException e) {\r\n    \r\n    \t\t}\r\n    \t\tSystem.out.println(&quot;Select an option&quot;);\r\n    \t\tSystem.out.println(&quot;press 1 to Sleep there / press 2 to Wake up and start running&quot;);\r\n    \t\tScanner sc = new Scanner(System.in);\r\n    \t\tint option = sc.nextInt();\r\n    \t\tif(option == 1){\r\n    \t\t\tSystem.out.println(&quot;Person is sleeping&quot;);\r\n    \t\t\tSystem.out.println(&quot;game over&quot;);\r\n    \t\t}else if(option == 2){\r\n    \t\t\tSystem.out.println(&quot;Person wokeup an started running again&quot;);\r\n    \t\t}else{\r\n    \t\t\tSystem.out.println(&quot;perssed a wrong key&quot;);\r\n    \t\t}\r\n    \t}\r\n    \r\n    }\r\n    class facedTree extends Runner{\r\n    \t@Override\r\n    \tpublic void Startedrunning(){\r\n    \t\tSystem.out.println(&quot;there is tree on the way&quot;);\r\n    \t\ttry {\r\n       \t\t\t Thread.sleep(1000); \r\n    \t\t} catch (InterruptedException e) {\r\n      \r\n    \t\t}\r\n    \t\tSystem.out.println(&quot;Select an option&quot;);\r\n    \t\tSystem.out.println(&quot;press 1 to jump/ press 2 to duck&quot;);\r\n    \t\tScanner sc = new Scanner(System.in);\r\n    \t\tint option = sc.nextInt();\r\n    \t\tif(option == 1){\r\n    \t\t\tSystem.out.println(&quot;Person dodged the tree&quot;);\r\n    \t\t\tSystem.out.println(&quot;game over&quot;);\r\n    \t\t}else if(option == 2){\r\n    \t\t\tSystem.out.println(&quot;Person hit the tree and is dead&quot;);\r\n    \t\t\tSystem.out.println(&quot;game over&quot;);\r\n    \t\t}else{\r\n    \t\t\tSystem.out.println(&quot;perssed a wrong key&quot;);\r\n    \t\t}\r\n    \t}\r\n    }\r\n    \r\n    \r\n    public class Rungame{\r\n    \tpublic static void main(String[] args){\r\n    \t\t\tRunner person3 = new Runner();\r\n    \t\t\tRunner person1= new fellDown();\r\n    \t\t\tRunner person2 = new facedTree();\r\n    \t\t\tperson3.Startedrunning();\r\n    \t\t\t((fellDown) person1).Startedrunning();\r\n    \t\t\t((facedTree) person2).Startedrunning();\r\n    \t\t\r\n    \t}\r\n    }\r\n    \r\n        \r\n\r\n","title":"How to represent a multilevel hierarchy in Java","body":"<pre><code>import java.util.Scanner;\n\nclass Runner{\n    \n    public void Startedrunning(){\n        System.out.println(&quot; Game started &quot;);\n        try {\n            Thread.sleep(1000);\n        } catch (InterruptedException e) {\n\n        }\n    }\n    \n}\n\n\nclass fellDown extends Runner{\n    \n    @Override\n    public void Startedrunning(){\n        System.out.println(&quot;person started running&quot;);\n        try {\n            Thread.sleep(1000);\n        } catch (InterruptedException e) {\n\n        }\n        System.out.println(&quot;person fell down&quot;);\n        try {\n            Thread.sleep(1000);\n        } catch (InterruptedException e) {\n\n        }\n        System.out.println(&quot;Select an option&quot;);\n        System.out.println(&quot;press 1 to Sleep there / press 2 to Wake up and start running&quot;);\n        Scanner sc = new Scanner(System.in);\n        int option = sc.nextInt();\n        if(option == 1){\n            System.out.println(&quot;Person is sleeping&quot;);\n            System.out.println(&quot;game over&quot;);\n        }else if(option == 2){\n            System.out.println(&quot;Person wokeup an started running again&quot;);\n        }else{\n            System.out.println(&quot;perssed a wrong key&quot;);\n        }\n    }\n\n}\nclass facedTree extends Runner{\n    @Override\n    public void Startedrunning(){\n        System.out.println(&quot;there is tree on the way&quot;);\n        try {\n             Thread.sleep(1000); \n        } catch (InterruptedException e) {\n  \n        }\n        System.out.println(&quot;Select an option&quot;);\n        System.out.println(&quot;press 1 to jump/ press 2 to duck&quot;);\n        Scanner sc = new Scanner(System.in);\n        int option = sc.nextInt();\n        if(option == 1){\n            System.out.println(&quot;Person dodged the tree&quot;);\n            System.out.println(&quot;game over&quot;);\n        }else if(option == 2){\n            System.out.println(&quot;Person hit the tree and is dead&quot;);\n            System.out.println(&quot;game over&quot;);\n        }else{\n            System.out.println(&quot;perssed a wrong key&quot;);\n        }\n    }\n}\n\n\npublic class Rungame{\n    public static void main(String[] args){\n            Runner person3 = new Runner();\n            Runner person1= new fellDown();\n            Runner person2 = new facedTree();\n            person3.Startedrunning();\n            ((fellDown) person1).Startedrunning();\n            ((facedTree) person2).Startedrunning();\n        \n    }\n}\n\n    \n</code></pre>\n"}],"owner":{"account_id":9756387,"reputation":37,"user_id":7232978,"accept_rate":50,"display_name":"matn"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":436,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":40959111,"answer_count":2,"score":-2,"last_activity_date":1683540633,"creation_date":1480856780,"question_id":40958961,"body_markdown":"I am trying to make an Android application where you can buy and sell items. I&#39;ve run into a wall: I am stuck at how to represent categories and sub-categories. Any category can have some number of sub-categories, and these sub-categories can also have sub categories with fields in them, etc.\r\n\r\nFor instance, let&#39;s say you want to sell a pair of your watches, the category and sub categories might be:\r\n\r\n    -Jewelry\r\n    --Men\r\n    ---Watches\r\n    ----Rolex\r\n\r\nor it might even be\r\n\r\n    -Jewelry\r\n    --Men\r\n    ---Watches\r\n    ----Rolex\r\n    -----Models\r\n    ------SubMarine\r\n\r\nHow would you represent this with a class hierarchy? I can&#39;t seem to find a solution that doesn&#39;t end out with a ton of classes and something that is difficult to update.\r\n\r\nI was thinking of using Jackson/Gson, Mysql/MSSQL for storage and most likely rest services for saving it; bonus points for an answer that can integrate with those technologies.","title":"How to represent a multilevel hierarchy in Java","body":"<p>I am trying to make an Android application where you can buy and sell items. I've run into a wall: I am stuck at how to represent categories and sub-categories. Any category can have some number of sub-categories, and these sub-categories can also have sub categories with fields in them, etc.</p>\n\n<p>For instance, let's say you want to sell a pair of your watches, the category and sub categories might be:</p>\n\n<pre><code>-Jewelry\n--Men\n---Watches\n----Rolex\n</code></pre>\n\n<p>or it might even be</p>\n\n<pre><code>-Jewelry\n--Men\n---Watches\n----Rolex\n-----Models\n------SubMarine\n</code></pre>\n\n<p>How would you represent this with a class hierarchy? I can't seem to find a solution that doesn't end out with a ton of classes and something that is difficult to update.</p>\n\n<p>I was thinking of using Jackson/Gson, Mysql/MSSQL for storage and most likely rest services for saving it; bonus points for an answer that can integrate with those technologies.</p>\n"},{"tags":["java","httpserver"],"answers":[{"comments":[{"owner":{"account_id":3104972,"reputation":2363,"user_id":2628048,"accept_rate":42,"display_name":"Rudolf Schmidt"},"score":0,"creation_date":1528524624,"post_id":50771267,"comment_id":88550337,"body_markdown":"This is exactly the answer I have searched for, here you will find the most knowledgeable users. Btw, do you think its a bad idea to use the http server from that package? Its still part of the api and I do not know why most frameworks prefer tomcat or other heavy weight servers if you have the jdk server already. What is your opinion?","body":"This is exactly the answer I have searched for, here you will find the most knowledgeable users. Btw, do you think its a bad idea to use the http server from that package? Its still part of the api and I do not know why most frameworks prefer tomcat or other heavy weight servers if you have the jdk server already. What is your opinion?"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1528535668,"post_id":50771267,"comment_id":88552742,"body_markdown":"The &quot;heavy-weight&quot; servers are (variously) offering better performance, more advanced functionality, more flexibility, etcetera.  Make your choices based on what you need.","body":"The &quot;heavy-weight&quot; servers are (variously) offering better performance, more advanced functionality, more flexibility, etcetera.  Make your choices based on what you need."}],"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":2,"down_vote_count":1,"up_vote_count":5,"is_accepted":true,"score":4,"last_activity_date":1636353945,"creation_date":1528522861,"answer_id":50771267,"question_id":50770747,"body_markdown":"&gt;  I guess it would help if I could force the http server to be accessable by localhost only. \r\n\r\nA Java SE `HttpServer` instance&lt;sup&gt;1&lt;/sup&gt; listens for requests on the IP address that it is bound to&lt;sup&gt;2&lt;/sup&gt;.  So bind it to a loopback IP address like this:\r\n\r\n    InetAddress localHost = InetAddress.getLoopbackAddress();\r\n    InetSocketAddress sockAddr = new InetSocketAddress(localHost, 80);\r\n    HttpServer server = HttpServer.create(sockAddr, 0);\r\n\r\nMore generally, if you only want to accept requests from a given set of IP addresses, one approach would be to call `HttpExchange::getRemoteAddress` in your handler and act appropriately if the remote address is not what you want.  But beware that the remote address is going to be the immediate upstream IP address.  It could be your reverse proxy, or some forward proxy used by the remote user.\r\n\r\nBut if you are looking for something where you can accept all request but only respond to requests that are addressed to a specific domain names (as per a conventional vhosts file)  I think you are going to have to implement that filtering yourself.  `HttpServer` is designed to be a simple light-weight server ... not a full functionality web container.\r\n\r\n------------------\r\n\r\n&lt;sup&gt;1 - This only applies to the `HTTPServer` classes provided by the JDK.  For others, YMMV.&lt;br&gt;\r\n2 - Unless you bind to the wild-card address ...&lt;/sup&gt; \r\n    ","title":"How to configure com.sun.net.httpserver to accept only requests from localhost?","body":"<blockquote>\n<p>I guess it would help if I could force the http server to be accessable by localhost only.</p>\n</blockquote>\n<p>A Java SE <code>HttpServer</code> instance<sup>1</sup> listens for requests on the IP address that it is bound to<sup>2</sup>.  So bind it to a loopback IP address like this:</p>\n<pre><code>InetAddress localHost = InetAddress.getLoopbackAddress();\nInetSocketAddress sockAddr = new InetSocketAddress(localHost, 80);\nHttpServer server = HttpServer.create(sockAddr, 0);\n</code></pre>\n<p>More generally, if you only want to accept requests from a given set of IP addresses, one approach would be to call <code>HttpExchange::getRemoteAddress</code> in your handler and act appropriately if the remote address is not what you want.  But beware that the remote address is going to be the immediate upstream IP address.  It could be your reverse proxy, or some forward proxy used by the remote user.</p>\n<p>But if you are looking for something where you can accept all request but only respond to requests that are addressed to a specific domain names (as per a conventional vhosts file)  I think you are going to have to implement that filtering yourself.  <code>HttpServer</code> is designed to be a simple light-weight server ... not a full functionality web container.</p>\n<hr />\n<p><sup>1 - This only applies to the <code>HTTPServer</code> classes provided by the JDK.  For others, YMMV.<br>\n2 - Unless you bind to the wild-card address ...</sup></p>\n"}],"owner":{"account_id":3104972,"reputation":2363,"user_id":2628048,"accept_rate":42,"display_name":"Rudolf Schmidt"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2037,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":50771267,"answer_count":1,"score":2,"last_activity_date":1683540031,"creation_date":1528516326,"question_id":50770747,"body_markdown":"I am using the com.sun.net.httpserver.HttpServer to handle some http requests. My http server runs behind nginx that maps the server domain names and forward the requests to my server by using it as a proxy running at a certain port. My http server takes all requests if they access the port where the server is running. I want a mechnism so that the server accept only requests from a domain that is supposed to be available, the same I use with nginx. I guess it would help if I could force the http server to be accessable by localhost only. \r\n\r\nWhat would be the best way to achieve that?","title":"How to configure com.sun.net.httpserver to accept only requests from localhost?","body":"<p>I am using the com.sun.net.httpserver.HttpServer to handle some http requests. My http server runs behind nginx that maps the server domain names and forward the requests to my server by using it as a proxy running at a certain port. My http server takes all requests if they access the port where the server is running. I want a mechnism so that the server accept only requests from a domain that is supposed to be available, the same I use with nginx. I guess it would help if I could force the http server to be accessable by localhost only. </p>\n\n<p>What would be the best way to achieve that?</p>\n"},{"tags":["java","webp"],"comments":[{"owner":{"account_id":2485432,"reputation":3514,"user_id":2163927,"accept_rate":93,"display_name":"Petro"},"score":0,"creation_date":1418264550,"post_id":27414282,"comment_id":43272701,"body_markdown":"Have your tried using double slashes? Seems like a pathing issue...java needs double slashes normally. //home//rtm//Desktop//xixi.webp","body":"Have your tried using double slashes? Seems like a pathing issue...java needs double slashes normally. //home//rtm//Desktop//xixi.webp"},{"owner":{"account_id":5367489,"reputation":163,"user_id":4276950,"display_name":"RTM"},"score":0,"creation_date":1418264780,"post_id":27414282,"comment_id":43272742,"body_markdown":"It is not the issue there","body":"It is not the issue there"},{"owner":{"account_id":2485432,"reputation":3514,"user_id":2163927,"accept_rate":93,"display_name":"Petro"},"score":0,"creation_date":1418264964,"post_id":27414282,"comment_id":43272784,"body_markdown":"Well if it&#39;s throwing a nullpointer exception, then the location of xixi.webp must be wrong. Try backslashes instead, I use backslashes for windows files. &quot;/home&quot; would be a Linux directory, is your windows directory named /home or is it C:/home or is this nested inside it&#39;s own directory?","body":"Well if it&#39;s throwing a nullpointer exception, then the location of xixi.webp must be wrong. Try backslashes instead, I use backslashes for windows files. &quot;/home&quot; would be a Linux directory, is your windows directory named /home or is it C:/home or is this nested inside it&#39;s own directory?"},{"owner":{"account_id":5367489,"reputation":163,"user_id":4276950,"display_name":"RTM"},"score":0,"creation_date":1418265446,"post_id":27414282,"comment_id":43272895,"body_markdown":"No,the full exception stack is java.lang.IllegalArgumentException: image == null!\n\tat javax.imageio.ImageTypeSpecifier.createFromRenderedImage(Unknown Source)\n\tat javax.imageio.ImageIO.getWriter(Unknown Source)\n\tat javax.imageio.ImageIO.write(Unknown Source),because imageio can&#39;t parse .webp","body":"No,the full exception stack is java.lang.IllegalArgumentException: image == null! \tat javax.imageio.ImageTypeSpecifier.createFromRenderedImage(Unk&zwnj;&#8203;nown Source) \tat javax.imageio.ImageIO.getWriter(Unknown Source) \tat javax.imageio.ImageIO.write(Unknown Source),because imageio can&#39;t parse .webp"},{"owner":{"account_id":2485432,"reputation":3514,"user_id":2163927,"accept_rate":93,"display_name":"Petro"},"score":0,"creation_date":1418265523,"post_id":27414282,"comment_id":43272915,"body_markdown":"so what does &quot;image == null! &quot; mean? shouldn&#39;t it be &#39;image != null&#39; or &#39;image == null&#39;?","body":"so what does &quot;image == null! &quot; mean? shouldn&#39;t it be &#39;image != null&#39; or &#39;image == null&#39;?"},{"owner":{"account_id":5367489,"reputation":163,"user_id":4276950,"display_name":"RTM"},"score":0,"creation_date":1418265949,"post_id":27414282,"comment_id":43273033,"body_markdown":"&quot;image == null&quot; because ImageIO.read(file1) return null,I said &quot;imageio can&#39;t parse .webp&quot;,maybe there is problem in complie webp-imageio.jar and libwebp-imageio.dll","body":"&quot;image == null&quot; because ImageIO.read(file1) return null,I said &quot;imageio can&#39;t parse .webp&quot;,maybe there is problem in complie webp-imageio.jar and libwebp-imageio.dll"},{"owner":{"account_id":600204,"reputation":22212,"user_id":303914,"display_name":"DWilches"},"score":0,"creation_date":1418268433,"post_id":27414282,"comment_id":43273731,"body_markdown":"First weird thing I notice: instead of double slashes you should be using only one slash or double back-slashes: \\\\","body":"First weird thing I notice: instead of double slashes you should be using only one slash or double back-slashes: \\\\"},{"owner":{"account_id":5367489,"reputation":163,"user_id":4276950,"display_name":"RTM"},"score":0,"creation_date":1418271133,"post_id":27414282,"comment_id":43274443,"body_markdown":"OK, I tried &quot;\\\\&quot;,it alse can&#39;t work.Obviously the problem is not there","body":"OK, I tried &quot;\\\\&quot;,it alse can&#39;t work.Obviously the problem is not there"}],"answers":[{"tags":[],"owner":{"account_id":5367489,"reputation":163,"user_id":4276950,"display_name":"RTM"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1683539520,"creation_date":1418278800,"answer_id":27416562,"question_id":27414282,"body_markdown":"well,I solved this problem by using google precompiled WebP utilities and library.It just need [libWebp](http://downloads.webmproject.org/releases/webp/libwebp-1.3.0-windows-x64.zip),you can find other version to match your system in http://downloads.webmproject.org/releases/webp/index.html.\r\nThen execute it in java,then is the code:\r\n        \r\n        //the &quot;dwebp.exe&quot;&#39;s path\r\n        String str1 = &quot;D:/workspace/demo/Test/libwebp-1.3.0-windows-x64/bin/dwebp.exe&quot;;\r\n        //the webp picture&#39;s path\r\n\t\tString str2 = &quot;D:/workspace/demo/Test/unnamed.webp&quot;;\r\n        //the converted picture&#39;s path\r\n\t\tString str3 = &quot;D:/workspace/demo/Test/xixi.png&quot;;\r\n\t\targs = new String[]{str1, str2, &quot;-o&quot;, str3};\r\n\r\n\t\ttry {\r\n\t\t\tRuntime.getRuntime().exec(args);\r\n\t\t} catch (IOException e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\r\nIt can convert webp to PNG, JPEG, TIFF, WebP or raw Y&#39;CbCr samples.","title":"How to convert webp to png or jpg using java in windows?","body":"<p>well,I solved this problem by using google precompiled WebP utilities and library.It just need <a href=\"http://downloads.webmproject.org/releases/webp/libwebp-1.3.0-windows-x64.zip\" rel=\"nofollow noreferrer\">libWebp</a>,you can find other version to match your system in <a href=\"http://downloads.webmproject.org/releases/webp/index.html\" rel=\"nofollow noreferrer\">http://downloads.webmproject.org/releases/webp/index.html</a>.\nThen execute it in java,then is the code:</p>\n<pre><code>    //the &quot;dwebp.exe&quot;'s path\n    String str1 = &quot;D:/workspace/demo/Test/libwebp-1.3.0-windows-x64/bin/dwebp.exe&quot;;\n    //the webp picture's path\n    String str2 = &quot;D:/workspace/demo/Test/unnamed.webp&quot;;\n    //the converted picture's path\n    String str3 = &quot;D:/workspace/demo/Test/xixi.png&quot;;\n    args = new String[]{str1, str2, &quot;-o&quot;, str3};\n\n    try {\n        Runtime.getRuntime().exec(args);\n    } catch (IOException e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n    }\n</code></pre>\n<p>It can convert webp to PNG, JPEG, TIFF, WebP or raw Y'CbCr samples.</p>\n"},{"tags":[],"owner":{"account_id":18871434,"reputation":1759,"user_id":13765920,"display_name":"anderson j mari&#241;o o."},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673643257,"creation_date":1673643257,"answer_id":75114388,"question_id":27414282,"body_markdown":"You can too convert png for example to webp, following the same example from @RMT change &#39;dwebp.exe&#39; by &#39;cwebp.exe&#39;, it&#39;s work for me.\r\n\r\n    //the &quot;cwebp.exe&quot;&#39;s path\r\n         String str1 = &quot;C:\\\\test\\\\bin\\\\cwebp.exe&quot;;\r\n    //the png picture&#39;s path\r\n         String str2 = &quot;C:\\\\test\\\\xixi.png&quot;;\r\n    //the converted picture&#39;s path\r\n        String str3 = &quot;C:\\\\test\\\\xixie.webp&quot;;\r\n    ","title":"How to convert webp to png or jpg using java in windows?","body":"<p>You can too convert png for example to webp, following the same example from @RMT change 'dwebp.exe' by 'cwebp.exe', it's work for me.</p>\n<pre><code>//the &quot;cwebp.exe&quot;'s path\n     String str1 = &quot;C:\\\\test\\\\bin\\\\cwebp.exe&quot;;\n//the png picture's path\n     String str2 = &quot;C:\\\\test\\\\xixi.png&quot;;\n//the converted picture's path\n    String str3 = &quot;C:\\\\test\\\\xixie.webp&quot;;\n</code></pre>\n"}],"owner":{"account_id":5367489,"reputation":163,"user_id":4276950,"display_name":"RTM"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9405,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1683539520,"creation_date":1418264225,"question_id":27414282,"body_markdown":"I got **[bitbucket.org/luciad/webp-imageio][1]** to work in Ubuntu, but I can&#39;t get it to work in Windows.\r\n\r\nHere is what I do in Ubuntu:\r\n\r\n1. Download webp-imageio and [**libwebp**][2] source code (other versions can be found in the [**google webp downloads repository**][3]).\r\n\r\n2. Using cmake to compile libwebp and webp-imageio, there is a `CMakefile.txt` file in webp-imageio. Maybe you need to modify it? Then you will get `webp-imageio.jar` and `libwebp-imageio.so` (it will be `.dll` in windows)\r\n\r\n3. Put `libwebp-imageio.so` in the java project Native library location and `webp-imageio.jar` in the java build path.\r\n\r\n4. Then, run the following code:\r\n\r\n&lt;!-- tsk --&gt;\r\n\r\n    File file1= new File(&quot;/home/rtm/Desktop/xixi.webp&quot;);  \r\n    File file2= new File(&quot;/home/rtm/Desktop/haha.png&quot;);  \r\n              \r\n    System.loadLibrary(&quot;webp-imageio&quot;);\r\n    try {  \r\n        BufferedImage im = ImageIO.read(file1);   \r\n        ImageIO.write(im, &quot;png&quot;, file2);  \r\n    } catch (IOException e) {  \r\n        e.printStackTrace();  \r\n    }  \r\n\r\n5. Then, I use cmake and mingw-w64, compile it in windows (`webp-imageio.jar` and `libwebp-imageio.dll`). That doesn&#39;t work, however, as `ImageIO.read(file1); ` returns null. WHY?\r\n\r\nHere is my code for Windows:\r\n\r\n&lt;!-- tsk --&gt;\r\n\r\n    File file1 = new File(&quot;D://workspace//demo//Test//unnamed.webp&quot;);\r\n\tFile file2 = new File(&quot;D://workspace//demo//Test//xixi.png&quot;);\r\n\r\n\tSystem.loadLibrary(&quot;webp-imageio&quot;);\r\n\ttry {\r\n        //FileUtils.copyFile(file1, file2);\r\n\t\tBufferedImage im = ImageIO.read(file1);\r\n\t\tImageIO.write(im, &quot;png&quot;, file2);\r\n\t} catch (Exception e) {\r\n\t\te.printStackTrace();\r\n\t}\r\n\r\nHere is the exception stack:\r\n\r\n    java.lang.IllegalArgumentException: image == null!\r\n\tat javax.imageio.ImageTypeSpecifier.createFromRenderedImage(Unknown Source)\r\n\tat javax.imageio.ImageIO.getWriter(Unknown Source)\r\n\tat javax.imageio.ImageIO.write(Unknown Source)\r\n\r\n\r\n  [1]: https://bitbucket.org/luciad/webp-imageio\r\n  [2]: http://downloads.webmproject.org/releases/webp/libwebp-0.4.2.tar.gz\r\n  [3]: http://downloads.webmproject.org/releases/webp/index.html","title":"How to convert webp to png or jpg using java in windows?","body":"<p>I got <strong><a href=\"https://bitbucket.org/luciad/webp-imageio\" rel=\"nofollow noreferrer\">bitbucket.org/luciad/webp-imageio</a></strong> to work in Ubuntu, but I can't get it to work in Windows.</p>\n\n<p>Here is what I do in Ubuntu:</p>\n\n<ol>\n<li><p>Download webp-imageio and <a href=\"http://downloads.webmproject.org/releases/webp/libwebp-0.4.2.tar.gz\" rel=\"nofollow noreferrer\"><strong>libwebp</strong></a> source code (other versions can be found in the <a href=\"http://downloads.webmproject.org/releases/webp/index.html\" rel=\"nofollow noreferrer\"><strong>google webp downloads repository</strong></a>).</p></li>\n<li><p>Using cmake to compile libwebp and webp-imageio, there is a <code>CMakefile.txt</code> file in webp-imageio. Maybe you need to modify it? Then you will get <code>webp-imageio.jar</code> and <code>libwebp-imageio.so</code> (it will be <code>.dll</code> in windows)</p></li>\n<li><p>Put <code>libwebp-imageio.so</code> in the java project Native library location and <code>webp-imageio.jar</code> in the java build path.</p></li>\n<li><p>Then, run the following code:</p></li>\n</ol>\n\n\n\n<pre><code>File file1= new File(\"/home/rtm/Desktop/xixi.webp\");  \nFile file2= new File(\"/home/rtm/Desktop/haha.png\");  \n\nSystem.loadLibrary(\"webp-imageio\");\ntry {  \n    BufferedImage im = ImageIO.read(file1);   \n    ImageIO.write(im, \"png\", file2);  \n} catch (IOException e) {  \n    e.printStackTrace();  \n}  \n</code></pre>\n\n<ol start=\"5\">\n<li>Then, I use cmake and mingw-w64, compile it in windows (<code>webp-imageio.jar</code> and <code>libwebp-imageio.dll</code>). That doesn't work, however, as <code>ImageIO.read(file1);</code> returns null. WHY?</li>\n</ol>\n\n<p>Here is my code for Windows:</p>\n\n\n\n<pre><code>File file1 = new File(\"D://workspace//demo//Test//unnamed.webp\");\nFile file2 = new File(\"D://workspace//demo//Test//xixi.png\");\n\nSystem.loadLibrary(\"webp-imageio\");\ntry {\n    //FileUtils.copyFile(file1, file2);\n    BufferedImage im = ImageIO.read(file1);\n    ImageIO.write(im, \"png\", file2);\n} catch (Exception e) {\n    e.printStackTrace();\n}\n</code></pre>\n\n<p>Here is the exception stack:</p>\n\n<pre><code>java.lang.IllegalArgumentException: image == null!\nat javax.imageio.ImageTypeSpecifier.createFromRenderedImage(Unknown Source)\nat javax.imageio.ImageIO.getWriter(Unknown Source)\nat javax.imageio.ImageIO.write(Unknown Source)\n</code></pre>\n"},{"tags":["java","multithreading","synchronization"],"comments":[{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":3,"creation_date":1683488591,"post_id":76195906,"comment_id":134371120,"body_markdown":"maybe your CPU is so fast that you missed the start - the output you are showing is about 84172 cycles... the start probably was scrolled out of view (and maybe memory)","body":"maybe your CPU is so fast that you missed the start - the output you are showing is about 84172 cycles... the start probably was scrolled out of view (and maybe memory)"},{"owner":{"account_id":483434,"reputation":25487,"user_id":898478,"accept_rate":86,"display_name":"m0skit0"},"score":4,"creation_date":1683488682,"post_id":76195906,"comment_id":134371135,"body_markdown":"Output to a file instead or redirect the output of the execution to a file, so you will be able to see what&#39;s the actual output.","body":"Output to a file instead or redirect the output of the execution to a file, so you will be able to see what&#39;s the actual output."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":2,"creation_date":1683488734,"post_id":76195906,"comment_id":134371139,"body_markdown":"or just code the producer to stop after 10 or 100 iterations","body":"or just code the producer to stop after 10 or 100 iterations"},{"owner":{"account_id":23677584,"reputation":89,"user_id":17703613,"display_name":"OrlandoVSilva"},"score":0,"creation_date":1683491777,"post_id":76195906,"comment_id":134371467,"body_markdown":"Thank you all, you were right! I can&#39;t believe I forgot I could a add for loop for 10 cycles, and confirm for myself. My CPU is too fast, and the for loop helped. Thank you","body":"Thank you all, you were right! I can&#39;t believe I forgot I could a add for loop for 10 cycles, and confirm for myself. My CPU is too fast, and the for loop helped. Thank you"}],"owner":{"account_id":23677584,"reputation":89,"user_id":17703613,"display_name":"OrlandoVSilva"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683539497,"creation_date":1683487834,"question_id":76195906,"body_markdown":"I&#39;m following an exercise from a Java book, and the exercise is a producer and consumer problem that uses the &quot;synchronized&quot; keyword on methods, and works with threads.\r\n\r\nIf it is okay, I will share pictures of the exercise from my book:\r\n\r\n[![enter image description here][1]][1]\r\n[![enter image description here][2]][2]\r\n\r\nThe outcome in the book is:\r\n\r\n```lang-none\r\nPut: 1\r\nGot: 1\r\nPut: 2\r\nGot: 2\r\nPut: 3\r\nGot: 3\r\nPut: 4\r\nGot: 4\r\nPut: 5\r\nGot: 5\r\n```\r\n\r\nMy code is the exact same as the one on the book, but the outcome varies for very large numbers such as:\r\n\r\n```lang-none\r\nPut: 84172\r\nGot: 84172\r\nPut: 84173\r\nGot: 84173\r\nPut: 84174\r\nGot: 84174\r\nPut: 84175\r\nGot: 84175\r\nPut: 84176\r\nGot: 84176\r\n```\r\n\r\nOr:\r\n\r\n```lang-none\r\nGot: 116734\r\nPut: 116735\r\nGot: 116735\r\nPut: 116736\r\nGot: 116736\r\nPut: 116737\r\nGot: 116737\r\n```\r\n\r\nand so on...\r\n\r\nIf I am correct, I am aware that threads/multithreading, go hand-hand with CPU.\r\n\r\nQ: Could my CPU be the reason for such high values? Because it is too fast?\r\n\r\n*My CPU is: 11th Gen Intel(R) Core(TM) i7-1165G7 @ 2.80GHz\r\n\r\nQ: If the answer to the question above is negative, can you help me understand why I&#39;m getting such high values?\r\n\r\nMain:\r\n```java\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        Q queue = new Q();\r\n\r\n        Producer producer = new Producer(queue);\r\n        Consumer consumer = new Consumer(queue);\r\n\r\n        producer.thread.start();\r\n        consumer.thread.start();\r\n    }\r\n}\r\n```\r\n\r\nQ:\r\n```java\r\npublic class Q {\r\n    int n;\r\n    boolean ready = false;\r\n\r\n    synchronized int get(){\r\n        while (!ready){\r\n            try {\r\n                wait();\r\n            } catch (InterruptedException e){\r\n                System.out.println(&quot;Consumer thread was interrupted!&quot;);\r\n                System.out.println();\r\n                System.out.println(e);\r\n            }\r\n        }\r\n\r\n        System.out.println(&quot;Got: &quot; + n);\r\n        ready = false;\r\n        notify();\r\n        return n;\r\n    }\r\n    // ------------------------\r\n\r\n    synchronized void put(int n){\r\n        while (ready){\r\n            try {\r\n                wait();\r\n            } catch (InterruptedException e){\r\n                System.out.println(&quot;Consumer thread was interrupted!&quot;);\r\n                System.out.println();\r\n                System.out.println(e);\r\n            }\r\n        }\r\n\r\n        this.n = n;\r\n        ready = true;\r\n        System.out.println(&quot;Put: &quot; +  n);\r\n        notify();\r\n    }\r\n}\r\n```\r\n\r\nProducer:\r\n```java\r\npublic class Producer implements Runnable{\r\n    Q queue;\r\n    Thread thread;\r\n\r\n    Producer(Q queue){\r\n        thread = new Thread(this, &quot;Producer&quot;);\r\n        this.queue = queue;\r\n    }\r\n\r\n    @Override\r\n    public void run() {\r\n        int i = 0;\r\n\r\n        while (true){\r\n            queue.put(i++);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nConsumer:\r\n```java\r\npublic class Consumer implements Runnable{\r\n    Q queue;\r\n    Thread thread;\r\n\r\n    Consumer(Q queue){\r\n        thread = new Thread(this, &quot;Consumer&quot;);\r\n        this.queue = queue;\r\n    }\r\n\r\n    @Override\r\n    public void run() {\r\n        while (true){\r\n            queue.get();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nThank you.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/CLRRA.jpg\r\n  [2]: https://i.stack.imgur.com/eBYQh.jpg","title":"My multithreaded program is returning different values than expected","body":"<p>I'm following an exercise from a Java book, and the exercise is a producer and consumer problem that uses the &quot;synchronized&quot; keyword on methods, and works with threads.</p>\n<p>If it is okay, I will share pictures of the exercise from my book:</p>\n<p><a href=\"https://i.stack.imgur.com/CLRRA.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/CLRRA.jpg\" alt=\"enter image description here\" /></a>\n<a href=\"https://i.stack.imgur.com/eBYQh.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/eBYQh.jpg\" alt=\"enter image description here\" /></a></p>\n<p>The outcome in the book is:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Put: 1\nGot: 1\nPut: 2\nGot: 2\nPut: 3\nGot: 3\nPut: 4\nGot: 4\nPut: 5\nGot: 5\n</code></pre>\n<p>My code is the exact same as the one on the book, but the outcome varies for very large numbers such as:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Put: 84172\nGot: 84172\nPut: 84173\nGot: 84173\nPut: 84174\nGot: 84174\nPut: 84175\nGot: 84175\nPut: 84176\nGot: 84176\n</code></pre>\n<p>Or:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Got: 116734\nPut: 116735\nGot: 116735\nPut: 116736\nGot: 116736\nPut: 116737\nGot: 116737\n</code></pre>\n<p>and so on...</p>\n<p>If I am correct, I am aware that threads/multithreading, go hand-hand with CPU.</p>\n<p>Q: Could my CPU be the reason for such high values? Because it is too fast?</p>\n<p>*My CPU is: 11th Gen Intel(R) Core(TM) i7-1165G7 @ 2.80GHz</p>\n<p>Q: If the answer to the question above is negative, can you help me understand why I'm getting such high values?</p>\n<p>Main:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Main {\n    public static void main(String[] args) {\n        Q queue = new Q();\n\n        Producer producer = new Producer(queue);\n        Consumer consumer = new Consumer(queue);\n\n        producer.thread.start();\n        consumer.thread.start();\n    }\n}\n</code></pre>\n<p>Q:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Q {\n    int n;\n    boolean ready = false;\n\n    synchronized int get(){\n        while (!ready){\n            try {\n                wait();\n            } catch (InterruptedException e){\n                System.out.println(&quot;Consumer thread was interrupted!&quot;);\n                System.out.println();\n                System.out.println(e);\n            }\n        }\n\n        System.out.println(&quot;Got: &quot; + n);\n        ready = false;\n        notify();\n        return n;\n    }\n    // ------------------------\n\n    synchronized void put(int n){\n        while (ready){\n            try {\n                wait();\n            } catch (InterruptedException e){\n                System.out.println(&quot;Consumer thread was interrupted!&quot;);\n                System.out.println();\n                System.out.println(e);\n            }\n        }\n\n        this.n = n;\n        ready = true;\n        System.out.println(&quot;Put: &quot; +  n);\n        notify();\n    }\n}\n</code></pre>\n<p>Producer:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Producer implements Runnable{\n    Q queue;\n    Thread thread;\n\n    Producer(Q queue){\n        thread = new Thread(this, &quot;Producer&quot;);\n        this.queue = queue;\n    }\n\n    @Override\n    public void run() {\n        int i = 0;\n\n        while (true){\n            queue.put(i++);\n        }\n    }\n}\n</code></pre>\n<p>Consumer:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Consumer implements Runnable{\n    Q queue;\n    Thread thread;\n\n    Consumer(Q queue){\n        thread = new Thread(this, &quot;Consumer&quot;);\n        this.queue = queue;\n    }\n\n    @Override\n    public void run() {\n        while (true){\n            queue.get();\n        }\n    }\n}\n</code></pre>\n<p>Thank you.</p>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":2,"creation_date":1611675771,"post_id":65904404,"comment_id":116524225,"body_markdown":"Did you follow [this guide](https://docs.oracle.com/en/java/javase/11/install/installation-jdk-macos.html#GUID-2FE451B0-9572-4E38-A1A5-568B77B146DE)? In general, how did you install a JDK on your machine?","body":"Did you follow <a href=\"https://docs.oracle.com/en/java/javase/11/install/installation-jdk-macos.html#GUID-2FE451B0-9572-4E38-A1A5-568B77B146DE\" rel=\"nofollow noreferrer\">this guide</a>? In general, how did you install a JDK on your machine?"},{"owner":{"account_id":20552585,"reputation":211,"user_id":15084955,"display_name":"Roman Belov"},"score":0,"creation_date":1611676072,"post_id":65904404,"comment_id":116524395,"body_markdown":"Yes. Installed successfully","body":"Yes. Installed successfully"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":5,"creation_date":1611676313,"post_id":65904404,"comment_id":116524511,"body_markdown":"Does this answer your question?  https://stackoverflow.com/questions/64833334/build-failure-run-mvn-clean-install-i-just-upgraded-big-sur","body":"Does this answer your question?  <a href=\"https://stackoverflow.com/questions/64833334/build-failure-run-mvn-clean-install-i-just-upgraded-big-sur\" title=\"build failure run mvn clean install i just upgraded big sur\">stackoverflow.com/questions/64833334/&hellip;</a>"},{"owner":{"account_id":20552585,"reputation":211,"user_id":15084955,"display_name":"Roman Belov"},"score":0,"creation_date":1611680951,"post_id":65904404,"comment_id":116527004,"body_markdown":"Thank you, that helped a lot","body":"Thank you, that helped a lot"}],"answers":[{"comments":[{"owner":{"account_id":2342473,"reputation":484,"user_id":2053454,"accept_rate":0,"display_name":"Nitendra"},"score":0,"creation_date":1641970241,"post_id":66479986,"comment_id":124944135,"body_markdown":"This answer works for me on macOS.","body":"This answer works for me on macOS."},{"owner":{"account_id":1866573,"reputation":1130,"user_id":1689987,"accept_rate":100,"display_name":"user1689987"},"score":4,"creation_date":1642905073,"post_id":66479986,"comment_id":125196661,"body_markdown":"how do you update your maven shell?","body":"how do you update your maven shell?"},{"owner":{"account_id":12151876,"reputation":388,"user_id":8871869,"display_name":"sudonitin"},"score":0,"creation_date":1669364010,"post_id":66479986,"comment_id":131629410,"body_markdown":"there&#39;s .mvnw file in your project, I guess the author is referring to that.\n\nI would suggest to follow the link attached below as an extension to this answer \n\nhttps://stackoverflow.com/a/72516836/8871869","body":"there&#39;s .mvnw file in your project, I guess the author is referring to that.  I would suggest to follow the link attached below as an extension to this answer   <a href=\"https://stackoverflow.com/a/72516836/8871869\">stackoverflow.com/a/72516836/8871869</a>"}],"tags":[],"owner":{"account_id":269588,"reputation":934,"user_id":559011,"accept_rate":25,"display_name":"Charles Wu"},"comment_count":3,"down_vote_count":0,"up_vote_count":32,"is_accepted":false,"score":32,"last_activity_date":1614878699,"creation_date":1614878699,"answer_id":66479986,"question_id":65904404,"body_markdown":"I meet the same question as yours.  \r\nThis solution (https://stackoverflow.com/questions/64833334/build-failure-run-mvn-clean-install-i-just-upgraded-big-sur) is to remove useless jre.  \r\nMine is to give mvn shell a correct java_home.\r\n\r\n## Solution - edit mvn bash\r\n### Step 1: Check how to filter your target java by `/usr/libexec/java_home`\r\nWhen I run command `/usr/libexec/java_home -V`\r\n\r\nI can see 2 virtual machines\r\n```\r\nMacBook-Pro:bin charles$ /usr/libexec/java_home -V\r\nMatching Java Virtual Machines (2):\r\n    1.8.251.08 (x86_64) &quot;Oracle Corporation&quot; - &quot;Java&quot; /Library/Internet Plug-Ins/JavaAppletPlugin.plugin/Contents/Home\r\n    1.8.0_251 (x86_64) &quot;Oracle Corporation&quot; - &quot;Java SE 8&quot; /Library/Java/JavaVirtualMachines/jdk1.8.0_251.jdk/Contents/Home\r\n/Library/Internet Plug-Ins/JavaAppletPlugin.plugin/Contents/Home\r\n```\r\nMy default return value of `/usr/libexec/java_home` is my jre path such as  \r\n**/Library/Internet Plug-Ins/JavaAppletPlugin.plugin/Contents/Home**\r\n\r\nBut I can change the return jdk path  \r\n**/Library/Java/JavaVirtualMachines/jdk1.8.0_251.jdk/Contents/Home**\r\n\r\nif I run command  \r\n`/usr/libexec/java_home -v1.8.0`  \r\n\r\n\r\n\r\n### Step 2: Update mvn shell\r\nFind following lines in mvn shell\r\n```\r\n\r\nif [ -z &quot;$JAVA_HOME&quot; ] &amp;&amp; [ -x &quot;/usr/libexec/java_home&quot; ]; then\r\n    #\r\n    # Apple JDKs\r\n    #\r\n    export JAVA_HOME=`/usr/libexec/java_home`\r\nfi\r\n```\r\nBecause I can use `usr/libexec/java_home -v1.8.0` to make sure system using jdk,\r\nI update my shell as\r\n```\r\nif [ -z &quot;$JAVA_HOME&quot; ] &amp;&amp; [ -x &quot;/usr/libexec/java_home&quot; ]; then\r\n    #\r\n    # Apple JDKs\r\n    #\r\n    export JAVA_HOME=`/usr/libexec/java_home -v1.8.0`\r\nfi\r\n```\r\nAnd then, it works.\r\n\r\n## How to check difference\r\n`mvn -version`\r\n\r\nBefore I update my mvn, I will see \r\n```\r\nMacBook-Pro:~ charles$ mvn -version\r\nApache Maven ........\r\nMaven home: ........\r\nJava version: 1.8.0_251, vendor: Oracle Corporation\r\nJava home: /Library/Internet Plug-Ins/JavaAppletPlugin.plugin/Contents/Home\r\nDefault locale: zh_TW, platform encoding: UTF-8\r\nOS name: &quot;mac os x&quot;, version: &quot;10.16&quot;, arch: &quot;x86_64&quot;, family: &quot;mac&quot;\r\n``` \r\n\r\nAfter I update my mvn, I can see the result\r\n```\r\nMacBook-Pro:~ charles$ mvn -version\r\nApache Maven ........\r\nMaven home: .......\r\nJava version: 1.8.0_251, vendor: Oracle Corporation\r\nJava home: /Library/Java/JavaVirtualMachines/jdk1.8.0_251.jdk/Contents/Home/jre\r\nDefault locale: zh_TW, platform encoding: UTF-8\r\nOS name: &quot;mac os x&quot;, version: &quot;10.16&quot;, arch: &quot;x86_64&quot;, family: &quot;mac&quot;\r\n```\r\n\r\nThough java home display as jre path, but the jre is sub-folder inside of jdk. It&#39;s ok.","title":"Mac os Big Sur | No compiler is provided in this environment. Perhaps you are running on a JRE rather than a JDK?","body":"<p>I meet the same question as yours.<br />\nThis solution (<a href=\"https://stackoverflow.com/questions/64833334/build-failure-run-mvn-clean-install-i-just-upgraded-big-sur\">Build failure run &quot;mvn clean install&quot;. I just upgraded Big Sur</a>) is to remove useless jre.<br />\nMine is to give mvn shell a correct java_home.</p>\n<h2>Solution - edit mvn bash</h2>\n<h3>Step 1: Check how to filter your target java by <code>/usr/libexec/java_home</code></h3>\n<p>When I run command <code>/usr/libexec/java_home -V</code></p>\n<p>I can see 2 virtual machines</p>\n<pre><code>MacBook-Pro:bin charles$ /usr/libexec/java_home -V\nMatching Java Virtual Machines (2):\n    1.8.251.08 (x86_64) &quot;Oracle Corporation&quot; - &quot;Java&quot; /Library/Internet Plug-Ins/JavaAppletPlugin.plugin/Contents/Home\n    1.8.0_251 (x86_64) &quot;Oracle Corporation&quot; - &quot;Java SE 8&quot; /Library/Java/JavaVirtualMachines/jdk1.8.0_251.jdk/Contents/Home\n/Library/Internet Plug-Ins/JavaAppletPlugin.plugin/Contents/Home\n</code></pre>\n<p>My default return value of <code>/usr/libexec/java_home</code> is my jre path such as<br />\n<strong>/Library/Internet Plug-Ins/JavaAppletPlugin.plugin/Contents/Home</strong></p>\n<p>But I can change the return jdk path<br />\n<strong>/Library/Java/JavaVirtualMachines/jdk1.8.0_251.jdk/Contents/Home</strong></p>\n<p>if I run command<br />\n<code>/usr/libexec/java_home -v1.8.0</code></p>\n<h3>Step 2: Update mvn shell</h3>\n<p>Find following lines in mvn shell</p>\n<pre><code>\nif [ -z &quot;$JAVA_HOME&quot; ] &amp;&amp; [ -x &quot;/usr/libexec/java_home&quot; ]; then\n    #\n    # Apple JDKs\n    #\n    export JAVA_HOME=`/usr/libexec/java_home`\nfi\n</code></pre>\n<p>Because I can use <code>usr/libexec/java_home -v1.8.0</code> to make sure system using jdk,\nI update my shell as</p>\n<pre><code>if [ -z &quot;$JAVA_HOME&quot; ] &amp;&amp; [ -x &quot;/usr/libexec/java_home&quot; ]; then\n    #\n    # Apple JDKs\n    #\n    export JAVA_HOME=`/usr/libexec/java_home -v1.8.0`\nfi\n</code></pre>\n<p>And then, it works.</p>\n<h2>How to check difference</h2>\n<p><code>mvn -version</code></p>\n<p>Before I update my mvn, I will see</p>\n<pre><code>MacBook-Pro:~ charles$ mvn -version\nApache Maven ........\nMaven home: ........\nJava version: 1.8.0_251, vendor: Oracle Corporation\nJava home: /Library/Internet Plug-Ins/JavaAppletPlugin.plugin/Contents/Home\nDefault locale: zh_TW, platform encoding: UTF-8\nOS name: &quot;mac os x&quot;, version: &quot;10.16&quot;, arch: &quot;x86_64&quot;, family: &quot;mac&quot;\n</code></pre>\n<p>After I update my mvn, I can see the result</p>\n<pre><code>MacBook-Pro:~ charles$ mvn -version\nApache Maven ........\nMaven home: .......\nJava version: 1.8.0_251, vendor: Oracle Corporation\nJava home: /Library/Java/JavaVirtualMachines/jdk1.8.0_251.jdk/Contents/Home/jre\nDefault locale: zh_TW, platform encoding: UTF-8\nOS name: &quot;mac os x&quot;, version: &quot;10.16&quot;, arch: &quot;x86_64&quot;, family: &quot;mac&quot;\n</code></pre>\n<p>Though java home display as jre path, but the jre is sub-folder inside of jdk. It's ok.</p>\n"},{"comments":[{"owner":{"account_id":8767617,"reputation":133,"user_id":6555495,"display_name":"Vishesh"},"score":0,"creation_date":1686200859,"post_id":70691463,"comment_id":134767227,"body_markdown":"Also make sure to change the java version inside Eclipse. Right click your Project Root &gt;  Java build Path(left Pane) &gt; Libraries [Tab] &gt; Select JRE System (if present) , click Edit &gt; Alternate JRE Radio &gt; Installed JREs.. btn&gt; go to the path of new JDK , till Home Directory &gt; Name your new jdk1.8 so you can identify it from list of options &gt; Finish &gt;  Then make sure to select the new added jdk in Alternate JRE. \nAfter this additional step only it worked for me\nThanks for the solution before this!!","body":"Also make sure to change the java version inside Eclipse. Right click your Project Root &gt;  Java build Path(left Pane) &gt; Libraries [Tab] &gt; Select JRE System (if present) , click Edit &gt; Alternate JRE Radio &gt; Installed JREs.. btn&gt; go to the path of new JDK , till Home Directory &gt; Name your new jdk1.8 so you can identify it from list of options &gt; Finish &gt;  Then make sure to select the new added jdk in Alternate JRE.  After this additional step only it worked for me Thanks for the solution before this!!"}],"tags":[],"owner":{"account_id":23802628,"reputation":510,"user_id":17812607,"display_name":"Gajapathi Kimidi"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1642052480,"creation_date":1642048429,"answer_id":70691463,"question_id":65904404,"body_markdown":"The default JRE comes with Mac is /Library/Internet Plug-Ins/JavaAppletPlugin.plugin/Contents/Home\r\n\r\n    % /usr/libexec/java_home\r\n    /Library/Internet Plug-Ins/JavaAppletPlugin.plugin/Contents/Home\r\n\r\nI have installed JDK using a dmg file. Even after passing the JAVA_HOME to the new path from bashrc (`/Library/Java/JavaVirtualMachines/jdk1.8.0_202.jdk/Contents/Home`), it was not taking. \r\n\r\nTo list the avaiable java installations\r\n\r\n    % /usr/libexec/java_home -V\r\n    Matching Java Virtual Machines (2):\r\n        1.8.311.11 (x86_64) &quot;Oracle Corporation&quot; - &quot;Java&quot; /Library/Internet Plug-Ins/JavaAppletPlugin.plugin/Contents/Home\r\n        1.8.0_202 (x86_64) &quot;Oracle Corporation&quot; - &quot;Java SE 8&quot; /Library/Java/JavaVirtualMachines/jdk1.8.0_202.jdk/Contents/Home\r\n\r\nIn order to point to your JDK, just do the below. \r\n\r\n    % cd /Library/Internet\\ Plug-Ins\r\n    % ls\r\n    JavaAppletPlugin.plugin\r\n    $ sudo mv JavaAppletPlugin.plugin JavaAppletPlugin.plugin-backup \r\n\r\nAfter that, if you run the command \r\n\r\n    % /usr/libexec/java_home\r\n    /Library/Java/JavaVirtualMachines/jdk1.8.0_202.jdk/Contents/Home\r\n\r\nDo not attempt to uninstall Java by removing the Java tools from /usr/bin. This directory is part of the system software and any changes will be reset by Apple the next time that you perform an update of the OS.","title":"Mac os Big Sur | No compiler is provided in this environment. Perhaps you are running on a JRE rather than a JDK?","body":"<p>The default JRE comes with Mac is /Library/Internet Plug-Ins/JavaAppletPlugin.plugin/Contents/Home</p>\n<pre><code>% /usr/libexec/java_home\n/Library/Internet Plug-Ins/JavaAppletPlugin.plugin/Contents/Home\n</code></pre>\n<p>I have installed JDK using a dmg file. Even after passing the JAVA_HOME to the new path from bashrc (<code>/Library/Java/JavaVirtualMachines/jdk1.8.0_202.jdk/Contents/Home</code>), it was not taking.</p>\n<p>To list the avaiable java installations</p>\n<pre><code>% /usr/libexec/java_home -V\nMatching Java Virtual Machines (2):\n    1.8.311.11 (x86_64) &quot;Oracle Corporation&quot; - &quot;Java&quot; /Library/Internet Plug-Ins/JavaAppletPlugin.plugin/Contents/Home\n    1.8.0_202 (x86_64) &quot;Oracle Corporation&quot; - &quot;Java SE 8&quot; /Library/Java/JavaVirtualMachines/jdk1.8.0_202.jdk/Contents/Home\n</code></pre>\n<p>In order to point to your JDK, just do the below.</p>\n<pre><code>% cd /Library/Internet\\ Plug-Ins\n% ls\nJavaAppletPlugin.plugin\n$ sudo mv JavaAppletPlugin.plugin JavaAppletPlugin.plugin-backup \n</code></pre>\n<p>After that, if you run the command</p>\n<pre><code>% /usr/libexec/java_home\n/Library/Java/JavaVirtualMachines/jdk1.8.0_202.jdk/Contents/Home\n</code></pre>\n<p>Do not attempt to uninstall Java by removing the Java tools from /usr/bin. This directory is part of the system software and any changes will be reset by Apple the next time that you perform an update of the OS.</p>\n"},{"tags":[],"owner":{"account_id":5101528,"reputation":576,"user_id":13855157,"display_name":"GAlonso"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1654514061,"creation_date":1654514061,"answer_id":72516836,"question_id":65904404,"body_markdown":"I was having the same issue, and could not fix it using the answers provided, maven kept using the default jre and I was always getting the &quot;No compiler error..&quot;. I managed to solve it setting the JAVA_HOME environment, so in my case I used the command:\r\n\r\n&gt; export JAVA_HOME=/Library/Java/JavaVirtualMachines/jdk1.8.0_331.jdk/Contents/Home\r\n\r\nAfter this command, the command mvn -v now outputs:\r\n\r\n&gt; Maven home: /opt/homebrew/Cellar/maven/3.8.5/libexec\r\nJava version: 1.8.0_331, vendor: Oracle Corporation, runtime: /Library/Java/JavaVirtualMachines/jdk1.8.0_331.jdk/Contents/Home/jre\r\n\r\nAlthough it says /jre, the command that was failing, &quot;mvn clean package -D skipTests&quot;, now executes properly.\r\n\r\nSo hope it helps somebody.","title":"Mac os Big Sur | No compiler is provided in this environment. Perhaps you are running on a JRE rather than a JDK?","body":"<p>I was having the same issue, and could not fix it using the answers provided, maven kept using the default jre and I was always getting the &quot;No compiler error..&quot;. I managed to solve it setting the JAVA_HOME environment, so in my case I used the command:</p>\n<blockquote>\n<p>export JAVA_HOME=/Library/Java/JavaVirtualMachines/jdk1.8.0_331.jdk/Contents/Home</p>\n</blockquote>\n<p>After this command, the command mvn -v now outputs:</p>\n<blockquote>\n<p>Maven home: /opt/homebrew/Cellar/maven/3.8.5/libexec\nJava version: 1.8.0_331, vendor: Oracle Corporation, runtime: /Library/Java/JavaVirtualMachines/jdk1.8.0_331.jdk/Contents/Home/jre</p>\n</blockquote>\n<p>Although it says /jre, the command that was failing, &quot;mvn clean package -D skipTests&quot;, now executes properly.</p>\n<p>So hope it helps somebody.</p>\n"},{"comments":[{"owner":{"account_id":8767617,"reputation":133,"user_id":6555495,"display_name":"Vishesh"},"score":0,"creation_date":1686200835,"post_id":73131102,"comment_id":134767225,"body_markdown":"Also make sure to change the java version inside Eclipse. Right click your Project Root &gt;  Java build Path(left Pane) &gt; Libraries [Tab] &gt; Select JRE System (if present) , click Edit &gt; Alternate JRE Radio &gt; Installed JREs.. btn&gt; go to the path of new JDK , till Home Directory &gt; Name your new jdk1.8 so you can identify it from list of options &gt; Finish &gt;  Then make sure to select the new added jdk in Alternate JRE. \nAfter this additional step only it worked for me\nThanks for the solution before this!!","body":"Also make sure to change the java version inside Eclipse. Right click your Project Root &gt;  Java build Path(left Pane) &gt; Libraries [Tab] &gt; Select JRE System (if present) , click Edit &gt; Alternate JRE Radio &gt; Installed JREs.. btn&gt; go to the path of new JDK , till Home Directory &gt; Name your new jdk1.8 so you can identify it from list of options &gt; Finish &gt;  Then make sure to select the new added jdk in Alternate JRE.  After this additional step only it worked for me Thanks for the solution before this!!"}],"tags":[],"owner":{"account_id":5043799,"reputation":39,"user_id":4050430,"display_name":"tharun"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1658882293,"creation_date":1658882293,"answer_id":73131102,"question_id":65904404,"body_markdown":"Run the command to list the available java installations:\r\n\r\n**$ /usr/libexec/java_home -V**\r\n\r\n&gt; Matching Java Virtual Machines (2):\r\n&gt; \r\n&gt; 1.8.251.08 (x86_64) &quot;Oracle Corporation&quot; - &quot;Java&quot; /Library/Internet Plug-Ins/JavaAppletPlugin.plugin/Contents/Home  \r\n&gt; 1.8.0_251 (x86_64) &quot;Oracle Corporation&quot; - &quot;Java SE 8&quot;  /Library/Java/JavaVirtualMachines/jdk1.8.0_251.jdk/Contents/Home\r\n\r\nCheck the default return value of the following command which is jre path in my case:\r\n\r\n**$/usr/libexec/java_home**\r\n\r\n&gt; /Library/Internet Plug-Ins/JavaAppletPlugin.plugin/Contents/Home\r\n\r\nRun the command to get JDK path:\r\n\r\n**$ /usr/libexec/java_home -v1.8.0**\r\n\r\n&gt; /Library/Java/JavaVirtualMachines/jdk1.8.0_251.jdk/Contents/Home\r\n\r\nAdd the following line in **.bash_profile** file:\r\n\r\n**export JAVA_HOME=$(/usr/libexec/java_home -v1.8.0)**","title":"Mac os Big Sur | No compiler is provided in this environment. Perhaps you are running on a JRE rather than a JDK?","body":"<p>Run the command to list the available java installations:</p>\n<p><strong>$ /usr/libexec/java_home -V</strong></p>\n<blockquote>\n<p>Matching Java Virtual Machines (2):</p>\n<p>1.8.251.08 (x86_64) &quot;Oracle Corporation&quot; - &quot;Java&quot; /Library/Internet Plug-Ins/JavaAppletPlugin.plugin/Contents/Home<br />\n1.8.0_251 (x86_64) &quot;Oracle Corporation&quot; - &quot;Java SE 8&quot;  /Library/Java/JavaVirtualMachines/jdk1.8.0_251.jdk/Contents/Home</p>\n</blockquote>\n<p>Check the default return value of the following command which is jre path in my case:</p>\n<p><strong>$/usr/libexec/java_home</strong></p>\n<blockquote>\n<p>/Library/Internet Plug-Ins/JavaAppletPlugin.plugin/Contents/Home</p>\n</blockquote>\n<p>Run the command to get JDK path:</p>\n<p><strong>$ /usr/libexec/java_home -v1.8.0</strong></p>\n<blockquote>\n<p>/Library/Java/JavaVirtualMachines/jdk1.8.0_251.jdk/Contents/Home</p>\n</blockquote>\n<p>Add the following line in <strong>.bash_profile</strong> file:</p>\n<p><strong>export JAVA_HOME=$(/usr/libexec/java_home -v1.8.0)</strong></p>\n"},{"tags":[],"owner":{"account_id":15946893,"reputation":13,"user_id":11507179,"display_name":"willy919"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1665154786,"creation_date":1663278540,"answer_id":73737775,"question_id":65904404,"body_markdown":"Go to your terminal and edit the zshrc File with your own JAVA_HOME version\r\n\r\nFor step 3 enter your java version\r\n\r\nType:\r\n\r\n 1. vim ~/.zshrc\r\n 2. press i to insert and add your path to JAVA_HOME\r\n 3. export JAVA_HOME=/Library/Java/JavaVirtualMachines/jdk1.8.0_261.jdk/Contents/Home (OR WHATEVER YOUR JAVA PATH IS)\r\n 4. press control + c to exit insert mode on vim\r\n 5. Type :wq and it will save the document and quit vim editor\r\n 6. source ~/.zshrc\r\n 7. mvn -version\r\n\r\nAfter you type mvn -version after all these steps You will be able to see your JAVA version and vendor update from the default\r\n&quot;/Library/Internet Plug-Ins/JavaAppletPlugin.plugin/Contents/Home&quot; to the java version you mentioned. \r\n\r\n","title":"Mac os Big Sur | No compiler is provided in this environment. Perhaps you are running on a JRE rather than a JDK?","body":"<p>Go to your terminal and edit the zshrc File with your own JAVA_HOME version</p>\n<p>For step 3 enter your java version</p>\n<p>Type:</p>\n<ol>\n<li>vim ~/.zshrc</li>\n<li>press i to insert and add your path to JAVA_HOME</li>\n<li>export JAVA_HOME=/Library/Java/JavaVirtualMachines/jdk1.8.0_261.jdk/Contents/Home (OR WHATEVER YOUR JAVA PATH IS)</li>\n<li>press control + c to exit insert mode on vim</li>\n<li>Type :wq and it will save the document and quit vim editor</li>\n<li>source ~/.zshrc</li>\n<li>mvn -version</li>\n</ol>\n<p>After you type mvn -version after all these steps You will be able to see your JAVA version and vendor update from the default\n&quot;/Library/Internet Plug-Ins/JavaAppletPlugin.plugin/Contents/Home&quot; to the java version you mentioned.</p>\n"},{"tags":[],"owner":{"account_id":19283592,"reputation":1,"user_id":14095109,"display_name":"Priya Gopinath"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677878775,"creation_date":1677878775,"answer_id":75632013,"question_id":65904404,"body_markdown":"This is what I edit for MacOS ventura , Eclipse/STS and it worked.I use Spring Tool Suite.\r\n\r\nGo to Eclipse/STS --&gt;Preferences/Settings --&gt; Java --&gt;Installed JRE&#39;s\r\n\r\nIf you see this as the first path among installed JRE&#39;s remove it.This does not include jdk.\r\n\r\n /Library/Internet Plug-Ins/JavaAppletPlugin.plugin/Contents/Home.\r\n\r\nEclipse will automatically take the next installed JDK library  which is the jdk 1.8.0_361. Pls make sure you have added a jdk library of your choice in the first place into installed jre&#39;s.\r\n\r\nAs a pre-requisite to this, make sure that your JAVA_HOME and M2_HOME are all set correctly and that mvn -version returns the right jdk version before modifying anything in eclipse.","title":"Mac os Big Sur | No compiler is provided in this environment. Perhaps you are running on a JRE rather than a JDK?","body":"<p>This is what I edit for MacOS ventura , Eclipse/STS and it worked.I use Spring Tool Suite.</p>\n<p>Go to Eclipse/STS --&gt;Preferences/Settings --&gt; Java --&gt;Installed JRE's</p>\n<p>If you see this as the first path among installed JRE's remove it.This does not include jdk.</p>\n<p>/Library/Internet Plug-Ins/JavaAppletPlugin.plugin/Contents/Home.</p>\n<p>Eclipse will automatically take the next installed JDK library  which is the jdk 1.8.0_361. Pls make sure you have added a jdk library of your choice in the first place into installed jre's.</p>\n<p>As a pre-requisite to this, make sure that your JAVA_HOME and M2_HOME are all set correctly and that mvn -version returns the right jdk version before modifying anything in eclipse.</p>\n"},{"comments":[{"owner":{"account_id":8767617,"reputation":133,"user_id":6555495,"display_name":"Vishesh"},"score":0,"creation_date":1686200797,"post_id":76192444,"comment_id":134767223,"body_markdown":"Also make sure to change the java version inside Eclipse. Right click your Project Root &gt;  Java build Path(left Pane) &gt; Libraries [Tab] &gt; Select JRE System (if present) , click Edit &gt; Alternate JRE Radio &gt; Installed JREs.. btn&gt; go to the path of new JDK , till Home Directory &gt; Name your new jdk1.8 so you can identify it from list of options &gt; Finish &gt;  Then make sure to select the new added jdk in Alternate JRE. \nAfter this additional step only it worked for me\nThanks for the solution before this!!","body":"Also make sure to change the java version inside Eclipse. Right click your Project Root &gt;  Java build Path(left Pane) &gt; Libraries [Tab] &gt; Select JRE System (if present) , click Edit &gt; Alternate JRE Radio &gt; Installed JREs.. btn&gt; go to the path of new JDK , till Home Directory &gt; Name your new jdk1.8 so you can identify it from list of options &gt; Finish &gt;  Then make sure to select the new added jdk in Alternate JRE.  After this additional step only it worked for me Thanks for the solution before this!!"}],"tags":[],"owner":{"account_id":28533719,"reputation":1,"user_id":21840718,"display_name":"Naveen Gowda"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683539452,"creation_date":1683439973,"answer_id":76192444,"question_id":65904404,"body_markdown":"When you checked \r\n```\r\nmvn -version \r\n```\r\nYou will get the below message (Which the Java runtime is pointing to /Library/Internet Plug-Ins/JavaAppletPlugin.plugin/Contents/Home):\r\n```\r\nApache Maven 3.9.1 \r\nMaven home: /Applications/Naveen Gowda/Own Project/apache-maven-3.9.1\r\nJava version: 1.8.0_361, runtime: /Library/Internet Plug-Ins/JavaAppletPlugin.plugin/Contents/Home\r\nDefault locale: en_IN, platform encoding: UTF-8\r\nOS name: &quot;mac os x&quot;, version: &quot;13.2.1&quot;, arch: &quot;x86_64&quot;, family: &quot;mac&quot;\r\n```\r\n\r\n1. Give below command: \r\n\r\n```\r\n/usr/libexec/java_home -V\r\n```\r\nYou will get this:-\r\n```\r\nMatching Java Virtual Machines (2):\r\n    1.8.361.09 (x86_64)  - &quot;Java&quot; /Library/Internet Plug-Ins/JavaAppletPlugin.plugin/Contents/Home\r\n    1.8.0_202 (x86_64)  - &quot;Java SE 8&quot; /Library/Java/JavaVirtualMachines/jdk1.8.0_202.jdk/Contents/Home\r\n/Library/Internet Plug-Ins/JavaAppletPlugin.plugin/Contents/Home\r\n```\r\n\r\n2. Then change path to JDK path and execute this command:\r\n```\r\nexport JAVA_HOME=/Library/Java/JavaVirtualMachines/jdk1.8.0_202.jdk/Contents/Home \r\n```\r\n\r\n3. Now check the Maven version again:\r\n```\r\nmvn -version\r\n``` \r\n\r\nNow you will get below which is pointing to JDK path:\r\n```\r\nApache Maven 3.9.1 \r\nMaven home: /Applications/Naveen Gowda/Own Project/apache-maven-3.9.1\r\nJava version: 1.8.0_202, runtime: /Library/Java/JavaVirtualMachines/jdk1.8.0_202.jdk/Contents/Home/jre\r\nDefault locale: en_IN, platform encoding: UTF-8\r\nOS name: &quot;mac os x&quot;, version: &quot;10.16&quot;, arch: &quot;x86_64&quot;, family: &quot;mac&quot;\r\n```\r\n","title":"Mac os Big Sur | No compiler is provided in this environment. Perhaps you are running on a JRE rather than a JDK?","body":"<p>When you checked</p>\n<pre><code>mvn -version \n</code></pre>\n<p>You will get the below message (Which the Java runtime is pointing to /Library/Internet Plug-Ins/JavaAppletPlugin.plugin/Contents/Home):</p>\n<pre><code>Apache Maven 3.9.1 \nMaven home: /Applications/Naveen Gowda/Own Project/apache-maven-3.9.1\nJava version: 1.8.0_361, runtime: /Library/Internet Plug-Ins/JavaAppletPlugin.plugin/Contents/Home\nDefault locale: en_IN, platform encoding: UTF-8\nOS name: &quot;mac os x&quot;, version: &quot;13.2.1&quot;, arch: &quot;x86_64&quot;, family: &quot;mac&quot;\n</code></pre>\n<ol>\n<li>Give below command:</li>\n</ol>\n<pre><code>/usr/libexec/java_home -V\n</code></pre>\n<p>You will get this:-</p>\n<pre><code>Matching Java Virtual Machines (2):\n    1.8.361.09 (x86_64)  - &quot;Java&quot; /Library/Internet Plug-Ins/JavaAppletPlugin.plugin/Contents/Home\n    1.8.0_202 (x86_64)  - &quot;Java SE 8&quot; /Library/Java/JavaVirtualMachines/jdk1.8.0_202.jdk/Contents/Home\n/Library/Internet Plug-Ins/JavaAppletPlugin.plugin/Contents/Home\n</code></pre>\n<ol start=\"2\">\n<li>Then change path to JDK path and execute this command:</li>\n</ol>\n<pre><code>export JAVA_HOME=/Library/Java/JavaVirtualMachines/jdk1.8.0_202.jdk/Contents/Home \n</code></pre>\n<ol start=\"3\">\n<li>Now check the Maven version again:</li>\n</ol>\n<pre><code>mvn -version\n</code></pre>\n<p>Now you will get below which is pointing to JDK path:</p>\n<pre><code>Apache Maven 3.9.1 \nMaven home: /Applications/Naveen Gowda/Own Project/apache-maven-3.9.1\nJava version: 1.8.0_202, runtime: /Library/Java/JavaVirtualMachines/jdk1.8.0_202.jdk/Contents/Home/jre\nDefault locale: en_IN, platform encoding: UTF-8\nOS name: &quot;mac os x&quot;, version: &quot;10.16&quot;, arch: &quot;x86_64&quot;, family: &quot;mac&quot;\n</code></pre>\n"}],"owner":{"account_id":20552585,"reputation":211,"user_id":15084955,"display_name":"Roman Belov"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":26779,"favorite_count":0,"down_vote_count":1,"up_vote_count":21,"answer_count":7,"score":20,"last_activity_date":1683539452,"creation_date":1611675619,"question_id":65904404,"body_markdown":"I am getting this error on the screenshot and I have seen other posts about it, however, the fixes provided are mainly for Windows, so whatever I tried did not fix the issue on my Mac. \r\n\r\nCurrently, when I run /usr/libexec/java_home it points me here: \r\n/Library/Internet Plug-Ins/JavaAppletPlugin.plugin/Contents/Home\r\n\r\nSo when running a maven project it throughs message like this: \r\nNo compiler is provided in this environment. Perhaps you are running on a JRE rather than a JDK?\r\n\r\nSo, I am wondering if the location of JAVA_HOME is incorrect, and if so how can I fix it? \r\nSorry, if asking something obvious questions, but I am new to this.\r\n\r\nI would really appreciate your help. \r\n\r\n![enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/wLepZ.png","title":"Mac os Big Sur | No compiler is provided in this environment. Perhaps you are running on a JRE rather than a JDK?","body":"<p>I am getting this error on the screenshot and I have seen other posts about it, however, the fixes provided are mainly for Windows, so whatever I tried did not fix the issue on my Mac.</p>\n<p>Currently, when I run /usr/libexec/java_home it points me here:\n/Library/Internet Plug-Ins/JavaAppletPlugin.plugin/Contents/Home</p>\n<p>So when running a maven project it throughs message like this:\nNo compiler is provided in this environment. Perhaps you are running on a JRE rather than a JDK?</p>\n<p>So, I am wondering if the location of JAVA_HOME is incorrect, and if so how can I fix it?\nSorry, if asking something obvious questions, but I am new to this.</p>\n<p>I would really appreciate your help.</p>\n<p><img src=\"https://i.stack.imgur.com/wLepZ.png\" alt=\"enter image description here\" /></p>\n"},{"tags":["java","security","dom4j","xxe"],"owner":{"account_id":25032089,"reputation":1,"user_id":18889797,"display_name":"Tejas Kumar Y N"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683539378,"creation_date":1683539378,"question_id":76199389,"body_markdown":"We are using the dom4j 2.1.1 library for our application to parse internal and external XML documents. After a code audit, it was discovered that there was a potential XXE vulnerability with dom4j versions &lt;2.0.3 and &gt;2.1.3. However, with dom4j 2.1.1 the default behavior has been changed to prevent the processing of external entities by default, making the library more secure against XXE attacks. But it is still not completely secure! \r\n\r\n\r\nHence this question.. how to completely disable external DTDs and External Entities from being parsed?","title":"How to prevent XXE attacks on dom4j 2.1.1?","body":"<p>We are using the dom4j 2.1.1 library for our application to parse internal and external XML documents. After a code audit, it was discovered that there was a potential XXE vulnerability with dom4j versions &lt;2.0.3 and &gt;2.1.3. However, with dom4j 2.1.1 the default behavior has been changed to prevent the processing of external entities by default, making the library more secure against XXE attacks. But it is still not completely secure!</p>\n<p>Hence this question.. how to completely disable external DTDs and External Entities from being parsed?</p>\n"},{"tags":["java","eclipse","jboss","jco"],"comments":[{"owner":{"account_id":76469,"reputation":18423,"user_id":218890,"accept_rate":64,"display_name":"vwegert"},"score":0,"creation_date":1392278360,"post_id":21745356,"comment_id":32894895,"body_markdown":"Have you installed the correct version of the native library as well?","body":"Have you installed the correct version of the native library as well?"}],"answers":[{"tags":[],"owner":{"account_id":1741536,"reputation":1569,"user_id":1592796,"accept_rate":92,"display_name":"devrys"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1392881929,"creation_date":1392881929,"answer_id":21901220,"question_id":21745356,"body_markdown":"I had a similar problem with the NoClassDefFoundError in JBoss EAP 6.1 when using classes from sapjco3.jar in an EJB (annotated with @Singleton and @Startup).\r\nBesides that I also received an error saying that the native library was already loaded in another classloader when republishing to EAP or restarting the deployed module.\r\n\r\nMy solution to both problems was to include sapjco3.jar as a global JBoss module.\r\n\r\nStep 1\r\n------\r\n\r\nI created the following structure inside EAPS&#39;s \\modules folder:\r\n\r\n    com\r\n    --&gt; sap\r\n        --&gt; conn\r\n            --&gt; jco\r\n                --&gt; main\r\n                    --&gt; module.xml\r\n                    --&gt; sapjco3.jar\r\n\r\n\r\nThe contents of **module.xml**:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n       &lt;module xmlns=&quot;urn:jboss:module:1.0&quot; name=&quot;com.sap.conn.jco&quot;&gt;\r\n       &lt;resources&gt;\r\n          &lt;resource-root path=&quot;sapjco3.jar&quot;/&gt;\r\n       &lt;/resources&gt;\r\n    &lt;/module&gt;\r\n\r\nStep 2\r\n------\r\n\r\nAdding the module as a global module in **standalone.xml**:\r\n\r\n    &lt;subsystem xmlns=&quot;urn:jboss:domain:ee:1.1&quot;&gt;\r\n       ... \r\n       &lt;global-modules&gt;\r\n           &lt;module name=&quot;com.sap.conn.jco&quot; /&gt;\r\n       &lt;/global-modules&gt;\r\n       ...\r\n    &lt;/subsystem&gt;\r\n\r\nStep 3\r\n------\r\n\r\nCreate or edit file **jboss-deployment-structure.xml** inside EJB projects META-INF to contain the module.\r\nMy file looks like this:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;jboss-deployment-structure&gt;\r\n       &lt;deployment&gt;\r\n          &lt;dependencies&gt;\r\n             &lt;module name=&quot;com.sap.conn.jco&quot; export=&quot;TRUE&quot; /&gt;\r\n          &lt;/dependencies&gt;\r\n       &lt;/deployment&gt;\r\n    &lt;/jboss-deployment-structure&gt;\r\n\r\nStep 4\r\n------\r\n\r\nConfigure Maven dependency as scope **provided**, so that we can work with sapjco3.jar inside the workspace but not have it inside the deployment.\r\n\r\n    &lt;dependency&gt;\r\n       &lt;groupId&gt;com.sap.conn.jco&lt;/groupId&gt;\r\n       &lt;artifactId&gt;sapjco3&lt;/artifactId&gt;\r\n       &lt;version&gt;3.0.10&lt;/version&gt;\r\n       &lt;scope&gt;provided&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\nThat is what I recall so far to make it work, maybe this is helpful for you or anybody else.","title":"SAP JBOSS issues with jar","body":"<p>I had a similar problem with the NoClassDefFoundError in JBoss EAP 6.1 when using classes from sapjco3.jar in an EJB (annotated with @Singleton and @Startup).\nBesides that I also received an error saying that the native library was already loaded in another classloader when republishing to EAP or restarting the deployed module.</p>\n\n<p>My solution to both problems was to include sapjco3.jar as a global JBoss module.</p>\n\n<h2>Step 1</h2>\n\n<p>I created the following structure inside EAPS's \\modules folder:</p>\n\n<pre><code>com\n--&gt; sap\n    --&gt; conn\n        --&gt; jco\n            --&gt; main\n                --&gt; module.xml\n                --&gt; sapjco3.jar\n</code></pre>\n\n<p>The contents of <strong>module.xml</strong>:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n   &lt;module xmlns=\"urn:jboss:module:1.0\" name=\"com.sap.conn.jco\"&gt;\n   &lt;resources&gt;\n      &lt;resource-root path=\"sapjco3.jar\"/&gt;\n   &lt;/resources&gt;\n&lt;/module&gt;\n</code></pre>\n\n<h2>Step 2</h2>\n\n<p>Adding the module as a global module in <strong>standalone.xml</strong>:</p>\n\n<pre><code>&lt;subsystem xmlns=\"urn:jboss:domain:ee:1.1\"&gt;\n   ... \n   &lt;global-modules&gt;\n       &lt;module name=\"com.sap.conn.jco\" /&gt;\n   &lt;/global-modules&gt;\n   ...\n&lt;/subsystem&gt;\n</code></pre>\n\n<h2>Step 3</h2>\n\n<p>Create or edit file <strong>jboss-deployment-structure.xml</strong> inside EJB projects META-INF to contain the module.\nMy file looks like this:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;jboss-deployment-structure&gt;\n   &lt;deployment&gt;\n      &lt;dependencies&gt;\n         &lt;module name=\"com.sap.conn.jco\" export=\"TRUE\" /&gt;\n      &lt;/dependencies&gt;\n   &lt;/deployment&gt;\n&lt;/jboss-deployment-structure&gt;\n</code></pre>\n\n<h2>Step 4</h2>\n\n<p>Configure Maven dependency as scope <strong>provided</strong>, so that we can work with sapjco3.jar inside the workspace but not have it inside the deployment.</p>\n\n<pre><code>&lt;dependency&gt;\n   &lt;groupId&gt;com.sap.conn.jco&lt;/groupId&gt;\n   &lt;artifactId&gt;sapjco3&lt;/artifactId&gt;\n   &lt;version&gt;3.0.10&lt;/version&gt;\n   &lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>That is what I recall so far to make it work, maybe this is helpful for you or anybody else.</p>\n"},{"tags":[],"owner":{"account_id":6859918,"reputation":1134,"user_id":5274291,"accept_rate":75,"display_name":"Jo&#227;o Pedro Schmitt"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1534181921,"creation_date":1534181921,"answer_id":51827796,"question_id":21745356,"body_markdown":"Besides that, could be necessary to add the dependency to the javax.api if are you using a newer version of sapjco3. This dependency is necessary to load the crypto library from Java.\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;module xmlns=&quot;urn:jboss:module:1.3&quot; name=&quot;com.sap.conn.jco&quot;&gt;\r\n    \t&lt;resources&gt;\r\n    \t\t&lt;resource-root path=&quot;sapjco3.jar&quot;/&gt;\r\n    \t&lt;/resources&gt;\r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;module name=&quot;javax.api&quot;/&gt;\r\n    \t&lt;/dependencies&gt;\r\n    &lt;/module&gt;","title":"SAP JBOSS issues with jar","body":"<p>Besides that, could be necessary to add the dependency to the javax.api if are you using a newer version of sapjco3. This dependency is necessary to load the crypto library from Java.</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;module xmlns=\"urn:jboss:module:1.3\" name=\"com.sap.conn.jco\"&gt;\n    &lt;resources&gt;\n        &lt;resource-root path=\"sapjco3.jar\"/&gt;\n    &lt;/resources&gt;\n    &lt;dependencies&gt;\n        &lt;module name=\"javax.api\"/&gt;\n    &lt;/dependencies&gt;\n&lt;/module&gt;\n</code></pre>\n"}],"owner":{"account_id":3921507,"reputation":89,"user_id":3243489,"accept_rate":50,"display_name":"bhat"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3503,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":21901220,"answer_count":2,"score":2,"last_activity_date":1683539004,"creation_date":1392266208,"question_id":21745356,"body_markdown":"I am trying to connect my J2EE application with SAP software using ABAP function calls. When I run it as a single class in Eclipse with hot coded values, it works fine. When I try to run it in JBoss server, where I am getting some values from my front end and passing it to my Java class which is the same class I referred before, it shows this following exception\r\n\r\n&gt; ```\r\n&gt; java.lang.NoClassDefFoundError: com/sap/conn/jco/JCoException\r\n&gt; \tat java.lang.Class.getDeclaredMethods0(Native Method)\r\n&gt; \tat java.lang.Class.privateGetDeclaredMethods(Unknown Source)\r\n&gt; \tat java.lang.Class.privateGetPublicMethods(Unknown Source)\r\n&gt; \tat java.lang.Class.getMethods(Unknown Source)\r\n&gt; \tat org.jboss.aop.ClassContainer.createMethodMap(ClassContainer.java:182)\r\n&gt; \r\n&gt; \t\r\n&gt;     09:35:42,326 INFO  [EARDeployer] Started J2EE application:\r\n&gt;                     file:/F:/jboss/jboss-4.2.3.GA/server/default/deploy/MPCS.ear\r\n&gt;     09:35:42,326 ERROR [URLDeploymentScanner] Incomplete Deployment listing:\r\n&gt; \r\n&gt;     --- MBeans waiting for other MBeans ---\r\n&gt;     ObjectName: jboss.j2ee:service=EJB3,module=MPCS.jar\r\n&gt;      State: FAILED\r\n&gt;      Reason: java.lang.NoClassDefFoundError: com/sap/conn/jco/JCoException\r\n&gt; \r\n&gt;     --- MBEANS THAT ARE THE ROOT CAUSE OF THE PROBLEM ---\r\n&gt;     ObjectName: jboss.j2ee:service=EJB3,module=MPCS.jar\r\n&gt;     State: FAILED\r\n&gt;     Reason: java.lang.NoClassDefFoundError: com/sap/conn/jco/JCoException\r\n&gt; ```\r\n\r\nI have my `sapjco3.jar` in `F:/jar` where I also have `ejb3-persistence.jar`, `jboss-ejb3x.jar`, etc. and they are properly recognized. I have added the jar in build path also. But nothing helps.\r\n","title":"SAP JBOSS issues with jar","body":"<p>I am trying to connect my J2EE application with SAP software using ABAP function calls. When I run it as a single class in Eclipse with hot coded values, it works fine. When I try to run it in JBoss server, where I am getting some values from my front end and passing it to my Java class which is the same class I referred before, it shows this following exception</p>\n<blockquote>\n<pre><code>java.lang.NoClassDefFoundError: com/sap/conn/jco/JCoException\n  at java.lang.Class.getDeclaredMethods0(Native Method)\n  at java.lang.Class.privateGetDeclaredMethods(Unknown Source)\n  at java.lang.Class.privateGetPublicMethods(Unknown Source)\n  at java.lang.Class.getMethods(Unknown Source)\n  at org.jboss.aop.ClassContainer.createMethodMap(ClassContainer.java:182)\n\n  \n    09:35:42,326 INFO  [EARDeployer] Started J2EE application:\n                    file:/F:/jboss/jboss-4.2.3.GA/server/default/deploy/MPCS.ear\n    09:35:42,326 ERROR [URLDeploymentScanner] Incomplete Deployment listing:\n\n    --- MBeans waiting for other MBeans ---\n    ObjectName: jboss.j2ee:service=EJB3,module=MPCS.jar\n     State: FAILED\n     Reason: java.lang.NoClassDefFoundError: com/sap/conn/jco/JCoException\n\n    --- MBEANS THAT ARE THE ROOT CAUSE OF THE PROBLEM ---\n    ObjectName: jboss.j2ee:service=EJB3,module=MPCS.jar\n    State: FAILED\n    Reason: java.lang.NoClassDefFoundError: com/sap/conn/jco/JCoException\n</code></pre>\n</blockquote>\n<p>I have my <code>sapjco3.jar</code> in <code>F:/jar</code> where I also have <code>ejb3-persistence.jar</code>, <code>jboss-ejb3x.jar</code>, etc. and they are properly recognized. I have added the jar in build path also. But nothing helps.</p>\n"},{"tags":["java","spring","spring-boot","mongodb-query","spring-data-mongodb"],"answers":[{"tags":[],"owner":{"account_id":15530681,"reputation":16,"user_id":11204312,"display_name":"Vivion Lin"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1683538940,"creation_date":1683538940,"answer_id":76199335,"question_id":76198563,"body_markdown":"One simple way is you can parse JSON to Document and provide it to MongoCollection:\r\n```\r\nDocument projectStage = Document.parse(&quot;{\\&quot;$project\\&quot;:...}&quot;); // your project stage JSON\r\nDocument groupStage = Document.parse(&quot;{\\&quot;$group\\&quot;:...}&quot;); // your group stage JSON\r\n\r\n// pass to MongoCollection\r\nList&lt;Document&gt; stages = List.of(projectStage, groupStage);\r\nMongoCollection collection = database.getCollection(collectionName);\r\nAggregateIterable&lt;Document&gt; result = collection.aggregate(stages);\r\n```\r\n\r\n---\r\n\r\nYou can still use the ```StringOperators``` and ```ArithmeticOperators``` in ```spring-data-mongodb``` to build your query.   \r\nBut since there is no method that can accept ```AggregationExpression``` as the ```start``` or ```length``` in ```StringOperators.Substr```, you may need to write your implementation about this.\r\nFor example:\r\n```\r\n// similar design to the origin StringOperators.SubStr\r\npublic static class NewSubStr implements AggregationExpression {\r\n    private final List&lt;?&gt; value;\r\n\r\n    private NewSubStr(List&lt;?&gt; value) {\r\n        this.value = value;\r\n    }\r\n\r\n    public static NewSubStr valueOf(String fieldReference) {\r\n        return new NewSubStr(Fields.fields(fieldReference).asList());\r\n    }\r\n\r\n    private String getMongoMethod() {\r\n        return &quot;$substr&quot;;\r\n    }\r\n\r\n    public NewSubStr substring(AggregationExpression start) {\r\n        return new NewSubStr(this.append(Arrays.asList(start, -1)));\r\n    }\r\n\r\n    private List&lt;Object&gt; append(List value) {\r\n        List&lt;Object&gt; clone = new ArrayList&lt;&gt;(this.value);\r\n        clone.addAll(value);\r\n        return clone;\r\n    }\r\n\r\n    @Override\r\n    public Document toDocument(AggregationOperationContext context) {\r\n        return new Document(this.getMongoMethod(), this.unpack(value, context));\r\n    }\r\n\r\n    private Object unpack(Object value, AggregationOperationContext context) {\r\n        if (value instanceof AggregationExpression) {\r\n            return ((AggregationExpression)value).toDocument(context);\r\n        } else if (value instanceof Field) {\r\n            return context.getReference((Field)value).toString();\r\n        } else if (value instanceof List) {\r\n            List&lt;Object&gt; sourceList = (List)value;\r\n            List&lt;Object&gt; mappedList = new ArrayList(sourceList.size());\r\n            sourceList.stream().map((item) -&gt; {\r\n                return this.unpack(item, context);\r\n            }).forEach(mappedList::add);\r\n            return mappedList;\r\n        } else {\r\n            return value;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nThen use your new SubStr like:\r\n```\r\nAggregationExpression strLenCP = StringOperators.valueOf(&quot;$pseudocitycode&quot;).lengthCP();\r\nAggregationExpression subtract = ArithmeticOperators.Subtract.valueOf(strLenCP).subtract(2);\r\nAggregationExpression substr = NewSubStr.valueOf(&quot;$pseudocitycode&quot;).substring(subtract);\r\nAggregationExpression toUpper = StringOperators.valueOf(substr).toUpper();\r\n\r\nProjectionOperation projection = Aggregation.project().and(toUpper).as(&quot;pseudocitycode_upper&quot;);\r\n\r\nAggregation aggregation = Aggregation.newAggregation(projection);\r\n```\r\n","title":"How to use spring-data-mongodb to implement complex expressions under $substr in Aggregation.project","body":"<p>One simple way is you can parse JSON to Document and provide it to MongoCollection:</p>\n<pre><code>Document projectStage = Document.parse(&quot;{\\&quot;$project\\&quot;:...}&quot;); // your project stage JSON\nDocument groupStage = Document.parse(&quot;{\\&quot;$group\\&quot;:...}&quot;); // your group stage JSON\n\n// pass to MongoCollection\nList&lt;Document&gt; stages = List.of(projectStage, groupStage);\nMongoCollection collection = database.getCollection(collectionName);\nAggregateIterable&lt;Document&gt; result = collection.aggregate(stages);\n</code></pre>\n<hr />\n<p>You can still use the <code>StringOperators</code> and <code>ArithmeticOperators</code> in <code>spring-data-mongodb</code> to build your query.<br />\nBut since there is no method that can accept <code>AggregationExpression</code> as the <code>start</code> or <code>length</code> in <code>StringOperators.Substr</code>, you may need to write your implementation about this.\nFor example:</p>\n<pre><code>// similar design to the origin StringOperators.SubStr\npublic static class NewSubStr implements AggregationExpression {\n    private final List&lt;?&gt; value;\n\n    private NewSubStr(List&lt;?&gt; value) {\n        this.value = value;\n    }\n\n    public static NewSubStr valueOf(String fieldReference) {\n        return new NewSubStr(Fields.fields(fieldReference).asList());\n    }\n\n    private String getMongoMethod() {\n        return &quot;$substr&quot;;\n    }\n\n    public NewSubStr substring(AggregationExpression start) {\n        return new NewSubStr(this.append(Arrays.asList(start, -1)));\n    }\n\n    private List&lt;Object&gt; append(List value) {\n        List&lt;Object&gt; clone = new ArrayList&lt;&gt;(this.value);\n        clone.addAll(value);\n        return clone;\n    }\n\n    @Override\n    public Document toDocument(AggregationOperationContext context) {\n        return new Document(this.getMongoMethod(), this.unpack(value, context));\n    }\n\n    private Object unpack(Object value, AggregationOperationContext context) {\n        if (value instanceof AggregationExpression) {\n            return ((AggregationExpression)value).toDocument(context);\n        } else if (value instanceof Field) {\n            return context.getReference((Field)value).toString();\n        } else if (value instanceof List) {\n            List&lt;Object&gt; sourceList = (List)value;\n            List&lt;Object&gt; mappedList = new ArrayList(sourceList.size());\n            sourceList.stream().map((item) -&gt; {\n                return this.unpack(item, context);\n            }).forEach(mappedList::add);\n            return mappedList;\n        } else {\n            return value;\n        }\n    }\n}\n</code></pre>\n<p>Then use your new SubStr like:</p>\n<pre><code>AggregationExpression strLenCP = StringOperators.valueOf(&quot;$pseudocitycode&quot;).lengthCP();\nAggregationExpression subtract = ArithmeticOperators.Subtract.valueOf(strLenCP).subtract(2);\nAggregationExpression substr = NewSubStr.valueOf(&quot;$pseudocitycode&quot;).substring(subtract);\nAggregationExpression toUpper = StringOperators.valueOf(substr).toUpper();\n\nProjectionOperation projection = Aggregation.project().and(toUpper).as(&quot;pseudocitycode_upper&quot;);\n\nAggregation aggregation = Aggregation.newAggregation(projection);\n</code></pre>\n"}],"owner":{"account_id":28543593,"reputation":3,"user_id":21849337,"display_name":"Xavier"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":274,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76199335,"answer_count":1,"score":0,"last_activity_date":1683538940,"creation_date":1683532905,"question_id":76198563,"body_markdown":"I have a mongodb query that should be converted to spring-data code.\r\n\r\n```\r\ndb.collection.aggregate([\r\n  {\r\n    &quot;$project&quot;: {\r\n      &quot;partnerid&quot;: 1,\r\n      &quot;market&quot;: {\r\n        &quot;$toUpper&quot;: [\r\n          {\r\n            &quot;$substr&quot;: [\r\n              &quot;$pseudocitycode&quot;,\r\n              0,\r\n              3\r\n            ]\r\n          }\r\n        ]\r\n      },\r\n      &quot;office&quot;: {\r\n        $toUpper: [\r\n          {\r\n            $substr: [\r\n              &quot;$pseudocitycode&quot;,\r\n              {\r\n                $subtract: [\r\n                  {\r\n                    $strLenCP: &quot;$pseudocitycode&quot;\r\n                  },\r\n                  2\r\n                ]\r\n              },\r\n              2\r\n            ]\r\n          }\r\n        ]\r\n      },\r\n      \r\n    }\r\n  },\r\n  {\r\n    &quot;$group&quot;: {\r\n      &quot;_id&quot;: {\r\n        &quot;partnerid&quot;: &quot;$partnerid&quot;,\r\n        &quot;market&quot;: &quot;$market&quot;,\r\n        &quot;office&quot;: &quot;$office&quot;\r\n      },\r\n      &quot;clickCount&quot;: {\r\n        &quot;$sum&quot;: 1\r\n      }\r\n    }\r\n  }\r\n])\r\n```\r\n\r\nI have tried using the following code to get started, but stuck how to get the office value.\r\n\r\n```Java\r\n//ArithmeticOperators.Subtract subtract = ArithmeticOperators.valueOf(StringOperators.valueOf(&quot;pseudocitycode&quot;).lengthCP()).subtract(2);\r\nStringOperators.Substr market = StringOperators.valueOf(&quot;pseudocitycode&quot;).substring(0, 3);\r\nProjectionOperation projectionOperation = Aggregation.project(&quot;partnerid&quot;)\r\n                    .and(StringOperators.valueOf(market).toUpper()).as(&quot;market&quot;)\r\n                    .andExpression(&quot;{$toUpper:[{$substr:[&#39;$pseudocitycode&#39;,{$subtract:[{$strLenCP:&#39;$pseudocitycode&#39;},2]},2]}]}&quot;).as(&quot;office&quot;); \r\n```\r\n\r\nCan anyone help implement the query code above? Thanks in advance.","title":"How to use spring-data-mongodb to implement complex expressions under $substr in Aggregation.project","body":"<p>I have a mongodb query that should be converted to spring-data code.</p>\n<pre><code>db.collection.aggregate([\n  {\n    &quot;$project&quot;: {\n      &quot;partnerid&quot;: 1,\n      &quot;market&quot;: {\n        &quot;$toUpper&quot;: [\n          {\n            &quot;$substr&quot;: [\n              &quot;$pseudocitycode&quot;,\n              0,\n              3\n            ]\n          }\n        ]\n      },\n      &quot;office&quot;: {\n        $toUpper: [\n          {\n            $substr: [\n              &quot;$pseudocitycode&quot;,\n              {\n                $subtract: [\n                  {\n                    $strLenCP: &quot;$pseudocitycode&quot;\n                  },\n                  2\n                ]\n              },\n              2\n            ]\n          }\n        ]\n      },\n      \n    }\n  },\n  {\n    &quot;$group&quot;: {\n      &quot;_id&quot;: {\n        &quot;partnerid&quot;: &quot;$partnerid&quot;,\n        &quot;market&quot;: &quot;$market&quot;,\n        &quot;office&quot;: &quot;$office&quot;\n      },\n      &quot;clickCount&quot;: {\n        &quot;$sum&quot;: 1\n      }\n    }\n  }\n])\n</code></pre>\n<p>I have tried using the following code to get started, but stuck how to get the office value.</p>\n<pre><code>//ArithmeticOperators.Subtract subtract = ArithmeticOperators.valueOf(StringOperators.valueOf(&quot;pseudocitycode&quot;).lengthCP()).subtract(2);\nStringOperators.Substr market = StringOperators.valueOf(&quot;pseudocitycode&quot;).substring(0, 3);\nProjectionOperation projectionOperation = Aggregation.project(&quot;partnerid&quot;)\n                    .and(StringOperators.valueOf(market).toUpper()).as(&quot;market&quot;)\n                    .andExpression(&quot;{$toUpper:[{$substr:['$pseudocitycode',{$subtract:[{$strLenCP:'$pseudocitycode'},2]},2]}]}&quot;).as(&quot;office&quot;); \n</code></pre>\n<p>Can anyone help implement the query code above? Thanks in advance.</p>\n"},{"tags":["java","spring-boot","gradle","build.gradle","gradle-plugin"],"comments":[{"owner":{"account_id":4508992,"reputation":1563,"user_id":3665662,"display_name":"amer"},"score":0,"creation_date":1577272683,"post_id":59477820,"comment_id":105132800,"body_markdown":"What is with this link: `distributionUrl=https\\://services.gradle.org/distributions/gradle-5.6.4-all.zip` ?","body":"What is with this link: <code>distributionUrl=https\\:&#47;&#47;services.gradle.org&#47;distributions&#47;g&zwnj;&#8203;radle-5.6.4-all.zip</code> ?"},{"owner":{"account_id":8977382,"reputation":1204,"user_id":9993404,"display_name":"Victory"},"score":0,"creation_date":1577272807,"post_id":59477820,"comment_id":105132830,"body_markdown":"This is my default `gradle-wrapper.properties` file and `distributionUrl`","body":"This is my default <code>gradle-wrapper.properties</code> file and <code>distributionUrl</code>"}],"answers":[{"comments":[{"owner":{"account_id":277416,"reputation":681878,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":0,"creation_date":1577275058,"post_id":59477914,"comment_id":105133389,"body_markdown":"That&#39;s a completely different issue. Remove your `jar { enabled true }` section.","body":"That&#39;s a completely different issue. Remove your <code>jar { enabled true }</code> section."},{"owner":{"account_id":8977382,"reputation":1204,"user_id":9993404,"display_name":"Victory"},"score":0,"creation_date":1577275293,"post_id":59477914,"comment_id":105133435,"body_markdown":"Solved my issue using `./gradlew bootJar`    :)","body":"Solved my issue using <code>.&#47;gradlew bootJar</code>    :)"},{"owner":{"account_id":9291622,"reputation":11361,"user_id":6899896,"display_name":"M.Ricciuti"},"score":0,"creation_date":1591964080,"post_id":59477914,"comment_id":110260884,"body_markdown":"@Victory you should then accept this answer, which is THE good answer ;)","body":"@Victory you should then accept this answer, which is THE good answer ;)"}],"tags":[],"owner":{"account_id":277416,"reputation":681878,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"comment_count":3,"down_vote_count":1,"up_vote_count":21,"is_accepted":true,"score":20,"last_activity_date":1577272941,"creation_date":1577272941,"answer_id":59477914,"question_id":59477820,"body_markdown":"If you&#39;re using the command `gradle build`, then you&#39;re not using the wrapper, and thus not using the version of gradle configured in the wrapper properties. You&#39;re using the global gradle version installed on your machine.\r\n\r\nTo use the gradle wrapper, use\r\n\r\n    ./gradlew build\r\n\r\nor, on Windows\r\n\r\n    .\\gradlew.bat build\r\n\r\nin your project root folder.\r\n\r\n[Documentation][1].\r\n\r\n\r\n  [1]: https://docs.gradle.org/current/userguide/gradle_wrapper.html","title":"Spring Boot plugin requires Gradle 4.10 or later. The current version is Gradle 4.1","body":"<p>If you're using the command <code>gradle build</code>, then you're not using the wrapper, and thus not using the version of gradle configured in the wrapper properties. You're using the global gradle version installed on your machine.</p>\n\n<p>To use the gradle wrapper, use</p>\n\n<pre><code>./gradlew build\n</code></pre>\n\n<p>or, on Windows</p>\n\n<pre><code>.\\gradlew.bat build\n</code></pre>\n\n<p>in your project root folder.</p>\n\n<p><a href=\"https://docs.gradle.org/current/userguide/gradle_wrapper.html\" rel=\"noreferrer\">Documentation</a>.</p>\n"},{"tags":[],"owner":{"account_id":12156027,"reputation":13933,"user_id":8874958,"display_name":"Kishan Solanki"},"comment_count":0,"down_vote_count":0,"up_vote_count":26,"is_accepted":false,"score":26,"last_activity_date":1591960687,"creation_date":1591875211,"answer_id":62323432,"question_id":59477820,"body_markdown":"1. Open File `gradle-wrapper.properties`\r\n2. You will find `distributionUrl` with value something like `distributionUrl=https\\://services.gradle.org/distributions/gradle-5.6.2-bin.zip`\r\n3. Change the **gradle version to greater than 4.10** , as I have **5.6.2**\r\n\r\nNote, this will upgrade the locally scoped gradle version.  (As opposed to the system wide gradle install)\r\n You will have to use the gradlew(rapper) to invoke.  \r\n\r\nFor example (on linux based)\r\n\r\n  ./gradlew  build\r\n\r\nI am guessing it would be similar on windows\r\n\r\n    .\\gradlew.bat build\r\n\r\nYou CANNOT use\r\n\r\n    gradle build\r\n\r\nbecause that will call the machine-scoped version (which will be the old version probably)\r\n\r\n\r\nFull locally scoped output below:\r\n\r\n    ./gradlew  build\r\n    \r\n    Welcome to Gradle 5.6.2!\r\n    \r\n    Here are the highlights of this release:\r\n     - Incremental Groovy compilation\r\n     - Groovy compile avoidance\r\n     - Test fixtures for Java projects\r\n     - Manage plugin versions via settings script\r\n\r\n","title":"Spring Boot plugin requires Gradle 4.10 or later. The current version is Gradle 4.1","body":"<ol>\n<li>Open File <code>gradle-wrapper.properties</code></li>\n<li>You will find <code>distributionUrl</code> with value something like <code>distributionUrl=https\\://services.gradle.org/distributions/gradle-5.6.2-bin.zip</code></li>\n<li>Change the <strong>gradle version to greater than 4.10</strong> , as I have <strong>5.6.2</strong></li>\n</ol>\n\n<p>Note, this will upgrade the locally scoped gradle version.  (As opposed to the system wide gradle install)\n You will have to use the gradlew(rapper) to invoke.  </p>\n\n<p>For example (on linux based)</p>\n\n<p>./gradlew  build</p>\n\n<p>I am guessing it would be similar on windows</p>\n\n<pre><code>.\\gradlew.bat build\n</code></pre>\n\n<p>You CANNOT use</p>\n\n<pre><code>gradle build\n</code></pre>\n\n<p>because that will call the machine-scoped version (which will be the old version probably)</p>\n\n<p>Full locally scoped output below:</p>\n\n<pre><code>./gradlew  build\n\nWelcome to Gradle 5.6.2!\n\nHere are the highlights of this release:\n - Incremental Groovy compilation\n - Groovy compile avoidance\n - Test fixtures for Java projects\n - Manage plugin versions via settings script\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2387373,"reputation":4304,"user_id":2088053,"accept_rate":50,"display_name":"Yuri"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1616082219,"creation_date":1616082219,"answer_id":66694384,"question_id":59477820,"body_markdown":"In my case, the cause was an old `settings.gradle` residing in the project&#39;s completely unrelated parent(!) directory.","title":"Spring Boot plugin requires Gradle 4.10 or later. The current version is Gradle 4.1","body":"<p>In my case, the cause was an old <code>settings.gradle</code> residing in the project's completely unrelated parent(!) directory.</p>\n"},{"tags":[],"owner":{"account_id":8815738,"reputation":694,"user_id":6587216,"display_name":"Elias"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640629603,"creation_date":1640629603,"answer_id":70499131,"question_id":59477820,"body_markdown":"In my case some other project in the same workspace &quot;.settings/org.eclipse.buildship.core.prefs&quot; file is having below property \r\n\r\n    gradle.user.home=C\\:/Gradle/gradle-6.7/bin(old version)\r\n\r\nreplaced with the following:\r\n\r\n    gradle.user.home=C\\:/Gradle/gradle-7.3.2/bin(new version)","title":"Spring Boot plugin requires Gradle 4.10 or later. The current version is Gradle 4.1","body":"<p>In my case some other project in the same workspace &quot;.settings/org.eclipse.buildship.core.prefs&quot; file is having below property</p>\n<pre><code>gradle.user.home=C\\:/Gradle/gradle-6.7/bin(old version)\n</code></pre>\n<p>replaced with the following:</p>\n<pre><code>gradle.user.home=C\\:/Gradle/gradle-7.3.2/bin(new version)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25771453,"reputation":1,"user_id":19520139,"display_name":"shubham puri"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683538919,"creation_date":1683538919,"answer_id":76199331,"question_id":59477820,"body_markdown":"Gradle 5.6.3 support the spring boot version till 2.4.13\r\n\r\n**Gradle**  *Spring Boot*(max version suported)\r\n5.6.3        2.4.13","title":"Spring Boot plugin requires Gradle 4.10 or later. The current version is Gradle 4.1","body":"<p>Gradle 5.6.3 support the spring boot version till 2.4.13</p>\n<p><strong>Gradle</strong>  <em>Spring Boot</em>(max version suported)\n5.6.3        2.4.13</p>\n"}],"owner":{"account_id":8977382,"reputation":1204,"user_id":9993404,"display_name":"Victory"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40940,"favorite_count":0,"down_vote_count":0,"up_vote_count":19,"accepted_answer_id":59477914,"answer_count":5,"score":19,"last_activity_date":1683538919,"creation_date":1577272387,"question_id":59477820,"body_markdown":"I have a Spring Gradle project. I&#39;m trying to make a build using `gradle build` command. But getting below error :\r\n\r\n    * Where:\r\n    Build file &#39;F:\\MyProjectName\\build.gradle&#39; line: 2\r\n    \r\n    * What went wrong:\r\n    An exception occurred applying plugin request [id: &#39;org.springframework.boot&#39;, version: &#39;2.2.2.RELEASE&#39;]\r\n    &gt; Failed to apply plugin [id &#39;org.springframework.boot&#39;]\r\n       &gt; Spring Boot plugin requires Gradle 4.10 or later. The current version is Gradle 4.1\r\n    \r\n    * Try:\r\n    Run with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output.\r\n    \r\n    * Get more help at https://help.gradle.org\r\n    \r\n    BUILD FAILED in 1s\r\n\r\nBut I&#39;m already using I&#39;m using **gradle-5.6.4**. and also tried latest **gradle-6.0.1-bin** but getting same error.\r\n    \r\n\r\n**gradle-wrapper.properties**\r\n\r\n    #Wed Dec 04 12:51:57 IST 2019\r\n    distributionUrl=https\\://services.gradle.org/distributions/gradle-5.6.4-all.zip\r\n    distributionBase=GRADLE_USER_HOME\r\n    distributionPath=wrapper/dists\r\n    zipStorePath=wrapper/dists\r\n    zipStoreBase=GRADLE_USER_HOME\r\n\r\n**build.gradle**\r\n\r\n    plugins {\r\n    \tid &#39;org.springframework.boot&#39; version &#39;2.2.1.RELEASE&#39;\r\n    \tid &#39;io.spring.dependency-management&#39; version &#39;1.0.8.RELEASE&#39;\r\n    \tid &#39;java&#39;\r\n    }\r\n    \r\n    group = &#39;com.example&#39;\r\n    version = &#39;0.0.1-SNAPSHOT&#39;\r\n    sourceCompatibility = &#39;1.8&#39;\r\n    \r\n    repositories {\r\n    \tmavenCentral()\r\n    }\r\n    \r\n    dependencies {\r\n    \timplementation &#39;org.springframework.boot:spring-boot-starter-data-mongodb-reactive&#39;\r\n    \timplementation &#39;org.springframework.boot:spring-boot-starter-security&#39;\r\n    \timplementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n    \timplementation &#39;io.jsonwebtoken:jjwt:0.9.1&#39;\r\n    \timplementation &#39;org.springframework.security:spring-security-jwt:1.0.7.RELEASE&#39;\r\n    \timplementation &#39;org.springframework.security.oauth:spring-security-oauth2:2.4.0.RELEASE&#39;\r\n    \timplementation &#39;de.mkammerer:argon2-jvm:2.6&#39;\r\n    \r\n    \tcompileOnly &#39;org.projectlombok:lombok:1.18.10&#39;\r\n    \tannotationProcessor &#39;org.projectlombok:lombok:1.18.10&#39;\r\n    \r\n    \ttestImplementation(&#39;org.springframework.boot:spring-boot-starter-test&#39;) {\r\n    \t\texclude group: &#39;org.junit.vintage&#39;, module: &#39;junit-vintage-engine&#39;\r\n    \t}\r\n    \ttestImplementation &#39;io.projectreactor:reactor-test&#39;\r\n    \ttestImplementation &#39;org.springframework.security:spring-security-test&#39;\r\n    }\r\n    \r\n    jar {\r\n    \tenabled true\r\n    }\r\n    \r\n    test {\r\n    \tuseJUnitPlatform()\r\n    }\r\nHow to solve this? Thanks in advance.","title":"Spring Boot plugin requires Gradle 4.10 or later. The current version is Gradle 4.1","body":"<p>I have a Spring Gradle project. I'm trying to make a build using <code>gradle build</code> command. But getting below error :</p>\n\n<pre><code>* Where:\nBuild file 'F:\\MyProjectName\\build.gradle' line: 2\n\n* What went wrong:\nAn exception occurred applying plugin request [id: 'org.springframework.boot', version: '2.2.2.RELEASE']\n&gt; Failed to apply plugin [id 'org.springframework.boot']\n   &gt; Spring Boot plugin requires Gradle 4.10 or later. The current version is Gradle 4.1\n\n* Try:\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output.\n\n* Get more help at https://help.gradle.org\n\nBUILD FAILED in 1s\n</code></pre>\n\n<p>But I'm already using I'm using <strong>gradle-5.6.4</strong>. and also tried latest <strong>gradle-6.0.1-bin</strong> but getting same error.</p>\n\n<p><strong>gradle-wrapper.properties</strong></p>\n\n<pre><code>#Wed Dec 04 12:51:57 IST 2019\ndistributionUrl=https\\://services.gradle.org/distributions/gradle-5.6.4-all.zip\ndistributionBase=GRADLE_USER_HOME\ndistributionPath=wrapper/dists\nzipStorePath=wrapper/dists\nzipStoreBase=GRADLE_USER_HOME\n</code></pre>\n\n<p><strong>build.gradle</strong></p>\n\n<pre><code>plugins {\n    id 'org.springframework.boot' version '2.2.1.RELEASE'\n    id 'io.spring.dependency-management' version '1.0.8.RELEASE'\n    id 'java'\n}\n\ngroup = 'com.example'\nversion = '0.0.1-SNAPSHOT'\nsourceCompatibility = '1.8'\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    implementation 'org.springframework.boot:spring-boot-starter-data-mongodb-reactive'\n    implementation 'org.springframework.boot:spring-boot-starter-security'\n    implementation 'org.springframework.boot:spring-boot-starter-web'\n    implementation 'io.jsonwebtoken:jjwt:0.9.1'\n    implementation 'org.springframework.security:spring-security-jwt:1.0.7.RELEASE'\n    implementation 'org.springframework.security.oauth:spring-security-oauth2:2.4.0.RELEASE'\n    implementation 'de.mkammerer:argon2-jvm:2.6'\n\n    compileOnly 'org.projectlombok:lombok:1.18.10'\n    annotationProcessor 'org.projectlombok:lombok:1.18.10'\n\n    testImplementation('org.springframework.boot:spring-boot-starter-test') {\n        exclude group: 'org.junit.vintage', module: 'junit-vintage-engine'\n    }\n    testImplementation 'io.projectreactor:reactor-test'\n    testImplementation 'org.springframework.security:spring-security-test'\n}\n\njar {\n    enabled true\n}\n\ntest {\n    useJUnitPlatform()\n}\n</code></pre>\n\n<p>How to solve this? Thanks in advance.</p>\n"},{"tags":["java","jco"],"answers":[{"tags":[],"owner":{"account_id":32513,"reputation":2129,"user_id":90305,"display_name":"Jon Quarfoth"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1394118255,"creation_date":1394118255,"answer_id":22228247,"question_id":22227854,"body_markdown":"The sapjco jar depends on the sapjco3.dll native library.\r\n\r\nYour local workstation must have that .dll somewhere where java can get at it.\r\n\r\nI&#39;d see where the dll is located on your local workstation, and figure out how it&#39;s being referenced, then see if you can replicate that on the server.\r\n\r\nThere are different versions of the .dll for 32-bit and 64-bit windows, so it&#39;s possible that you may need a different version on the server than you need on your local workstation.\r\n\r\n\r\n\r\n","title":"Having issue with SAP Java connectors","body":"<p>The sapjco jar depends on the sapjco3.dll native library.</p>\n\n<p>Your local workstation must have that .dll somewhere where java can get at it.</p>\n\n<p>I'd see where the dll is located on your local workstation, and figure out how it's being referenced, then see if you can replicate that on the server.</p>\n\n<p>There are different versions of the .dll for 32-bit and 64-bit windows, so it's possible that you may need a different version on the server than you need on your local workstation.</p>\n"},{"tags":[],"owner":{"account_id":1174359,"reputation":1087,"user_id":1150726,"accept_rate":84,"display_name":"daemon54"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1394130178,"creation_date":1394130178,"answer_id":22232823,"question_id":22227854,"body_markdown":"The issue is because of Visual 2005 C++ runtime redistributable. The version require by sapjco3.dll should be minimum of 8.0.50727.4053 to work, but however the version on my work server is much lower than this one and lead to this issue. Then I asked my system admin to update it. And now it works.","title":"Having issue with SAP Java connectors","body":"<p>The issue is because of Visual 2005 C++ runtime redistributable. The version require by sapjco3.dll should be minimum of 8.0.50727.4053 to work, but however the version on my work server is much lower than this one and lead to this issue. Then I asked my system admin to update it. And now it works.</p>\n"}],"owner":{"account_id":1174359,"reputation":1087,"user_id":1150726,"accept_rate":84,"display_name":"daemon54"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":394,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":22232823,"answer_count":2,"score":2,"last_activity_date":1683538817,"creation_date":1394117255,"question_id":22227854,"body_markdown":"I&#39;m trying to put SAP JCo3 libraries to my work server that has an OS &quot;Win 2003 Server&quot;. The SAP JCo3 libraries worked fine on my localhost which has an OS &quot;Windows 7&quot;. However when I performed the same procedure for installation on my work server and tried to use the libraries, I&#39;ve been getting this error:\r\n\r\n&gt; java.lang.ExceptionInInitializerError: Error getting the version of the native layer:\r\n&gt;\r\n&gt; java.lang.UnsatisfiedLinkError:***********\\sapjco3.dll:\r\n&gt;\r\n&gt; This application has failed to start because the application configuration is incorrect. Reinstalling the application may fix this problem\r\n\r\nCan anyone help me with this issue. Thanks in advance.\r\n\r\n","title":"Having issue with SAP Java connectors","body":"<p>I'm trying to put SAP JCo3 libraries to my work server that has an OS &quot;Win 2003 Server&quot;. The SAP JCo3 libraries worked fine on my localhost which has an OS &quot;Windows 7&quot;. However when I performed the same procedure for installation on my work server and tried to use the libraries, I've been getting this error:</p>\n<blockquote>\n<p>java.lang.ExceptionInInitializerError: Error getting the version of the native layer:</p>\n<p>java.lang.UnsatisfiedLinkError:***********\\sapjco3.dll:</p>\n<p>This application has failed to start because the application configuration is incorrect. Reinstalling the application may fix this problem</p>\n</blockquote>\n<p>Can anyone help me with this issue. Thanks in advance.</p>\n"},{"tags":["java","glassfish","connector","jco"],"answers":[{"comments":[{"owner":{"account_id":4166419,"reputation":11,"user_id":3415309,"display_name":"Gilop"},"score":0,"creation_date":1394716039,"post_id":22379497,"comment_id":34019929,"body_markdown":"I did it (in fact it was the first thing I did). But didn&#39;t success to have sapjco operable in Glassfish.","body":"I did it (in fact it was the first thing I did). But didn&#39;t success to have sapjco operable in Glassfish."},{"owner":{"account_id":1741536,"reputation":1569,"user_id":1592796,"accept_rate":92,"display_name":"devrys"},"score":0,"creation_date":1394716096,"post_id":22379497,"comment_id":34019979,"body_markdown":"Ok, this is bad, is there an error message you can provide or something like that?","body":"Ok, this is bad, is there an error message you can provide or something like that?"},{"owner":{"account_id":4166419,"reputation":11,"user_id":3415309,"display_name":"Gilop"},"score":0,"creation_date":1394793953,"post_id":22379497,"comment_id":34060495,"body_markdown":"No, it is just impossible to get it working. SAPjco is invisible from Glassfish. That&#39;s why I asked for install instructions to follow. At least I could get an error message.","body":"No, it is just impossible to get it working. SAPjco is invisible from Glassfish. That&#39;s why I asked for install instructions to follow. At least I could get an error message."},{"owner":{"account_id":3346235,"reputation":722,"user_id":2811348,"accept_rate":75,"display_name":"rawdog"},"score":0,"creation_date":1402922822,"post_id":22379497,"comment_id":37445926,"body_markdown":"I have GF4 and SAPJco 3 working together in Windows environment and also in Linux environment. In both cases I put the .dll/.so in the domains/domain1/bin folder. Everything works fine.\nThe connection data I put in a file called sapconnection.props located in domains/domain1/config folder. Of course you have to restart the server to get the .dll/.so loaded.\nHope that helps.","body":"I have GF4 and SAPJco 3 working together in Windows environment and also in Linux environment. In both cases I put the .dll/.so in the domains/domain1/bin folder. Everything works fine. The connection data I put in a file called sapconnection.props located in domains/domain1/config folder. Of course you have to restart the server to get the .dll/.so loaded. Hope that helps."}],"tags":[],"owner":{"account_id":1741536,"reputation":1569,"user_id":1592796,"accept_rate":92,"display_name":"devrys"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1394715763,"creation_date":1394715763,"answer_id":22379497,"question_id":22378589,"body_markdown":"The link you provided does not contain any information about the required dll file, which is the native library for JCo 3 (on linux the file is named libsapjco3.so for example).\n\nTake a look inside the javadoc folder of the sapjco3 archive you got from SAP, there is a file named **intro.html** which contains instructions on how to install JCo 3 on many operating systems (click on the **Installation** link at the top of the page).\n\nQuote from intro.html in the sapjco3-NTAMD64-3.0.10 archive:\n\n&gt;  To install JCo for Windows unzip the appropriate distribution package into an arbitrary directory {sapjco3-install-path}.\n&gt;\n&gt; Note: Do not copy the sapjco3.dll neither into the {windows-dir}\\system32 nor into the {windows-dir}\\SysWOW64 directory. This will break the operability of other JCo versions that are already installed on the same system. Furthermore you would risk that the current installation also would not work anymore, if the sapjco3.dll gets replaced in the respective Windows system directory in the future.\n&gt;\n&gt; Then add {sapjco3-install-path} to the PATH environment variable.\nFinally, add {sapjco3-install-path}\\sapjco3.jar to your CLASSPATH environment variable. \n\nI have followed the above instructions and got it working on Windows 7 64 bit and JBoss EAP 6.1.\n\nSee [my other post][1] for a screenshot of the modified PATH environment variable.\n\n\n  [1]: https://stackoverflow.com/a/21901789/1592796 &quot;over here&quot;","title":"Glassfish 4.0 and SAP JCo3","body":"<p>The link you provided does not contain any information about the required dll file, which is the native library for JCo 3 (on linux the file is named libsapjco3.so for example).</p>\n<p>Take a look inside the javadoc folder of the sapjco3 archive you got from SAP, there is a file named <strong>intro.html</strong> which contains instructions on how to install JCo 3 on many operating systems (click on the <strong>Installation</strong> link at the top of the page).</p>\n<p>Quote from intro.html in the sapjco3-NTAMD64-3.0.10 archive:</p>\n<blockquote>\n<p>To install JCo for Windows unzip the appropriate distribution package into an arbitrary directory {sapjco3-install-path}.</p>\n<p>Note: Do not copy the sapjco3.dll neither into the {windows-dir}\\system32 nor into the {windows-dir}\\SysWOW64 directory. This will break the operability of other JCo versions that are already installed on the same system. Furthermore you would risk that the current installation also would not work anymore, if the sapjco3.dll gets replaced in the respective Windows system directory in the future.</p>\n<p>Then add {sapjco3-install-path} to the PATH environment variable.\nFinally, add {sapjco3-install-path}\\sapjco3.jar to your CLASSPATH environment variable.</p>\n</blockquote>\n<p>I have followed the above instructions and got it working on Windows 7 64 bit and JBoss EAP 6.1.</p>\n<p>See <a href=\"https://stackoverflow.com/a/21901789/1592796\" title=\"over here\">my other post</a> for a screenshot of the modified PATH environment variable.</p>\n"}],"owner":{"account_id":4166419,"reputation":11,"user_id":3415309,"display_name":"Gilop"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1338,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1683538729,"creation_date":1394713530,"question_id":22378589,"body_markdown":"Searching thoroughly the internet and trying everything I found I came to a dead end.\r\n\r\nThere are no instructions that I can find to help me install SAP java connector (SAP JCo3) to Glassfish Server 4.0.\r\n\r\nAs I understand (http://docs.oracle.com/cd/E19957-01/820-7202/ggymv/index.html) SAP JCo has to be implemented through Connector Connection Pools. I tried to copy `sapjco3.jar`, `sapjco3.dll` and `sapjco3.pdb` to every possible location with no luck.\r\n\r\nMy server runs windows 2003. If you have done it, please help me!\r\n\r\nThank you,\r\n\r\nGilop\r\n","title":"Glassfish 4.0 and SAP JCo3","body":"<p>Searching thoroughly the internet and trying everything I found I came to a dead end.</p>\n<p>There are no instructions that I can find to help me install SAP java connector (SAP JCo3) to Glassfish Server 4.0.</p>\n<p>As I understand (<a href=\"http://docs.oracle.com/cd/E19957-01/820-7202/ggymv/index.html\" rel=\"nofollow noreferrer\">http://docs.oracle.com/cd/E19957-01/820-7202/ggymv/index.html</a>) SAP JCo has to be implemented through Connector Connection Pools. I tried to copy <code>sapjco3.jar</code>, <code>sapjco3.dll</code> and <code>sapjco3.pdb</code> to every possible location with no luck.</p>\n<p>My server runs windows 2003. If you have done it, please help me!</p>\n<p>Thank you,</p>\n<p>Gilop</p>\n"},{"tags":["java","passwords","sap-basis","jco"],"comments":[{"owner":{"account_id":1838761,"reputation":5041,"user_id":1779281,"accept_rate":87,"display_name":"Eduardo Copat"},"score":0,"creation_date":1395325475,"post_id":22532803,"comment_id":34294944,"body_markdown":"Do the same error happens when you uncomment those userChangeInput lines?","body":"Do the same error happens when you uncomment those userChangeInput lines?"},{"owner":{"account_id":3188752,"reputation":79,"user_id":2693636,"display_name":"MNW"},"score":0,"creation_date":1395325746,"post_id":22532803,"comment_id":34295173,"body_markdown":"when i do uncomment for userChangeInput then it showing error i.e sPassword and sPasswordx should be int type not structure type as its definds as Structure type.","body":"when i do uncomment for userChangeInput then it showing error i.e sPassword and sPasswordx should be int type not structure type as its definds as Structure type."},{"owner":{"account_id":1838761,"reputation":5041,"user_id":1779281,"accept_rate":87,"display_name":"Eduardo Copat"},"score":0,"creation_date":1395325995,"post_id":22532803,"comment_id":34295375,"body_markdown":"And if you change JCoStructure to JCO.Structure ?","body":"And if you change JCoStructure to JCO.Structure ?"},{"owner":{"account_id":3188752,"reputation":79,"user_id":2693636,"display_name":"MNW"},"score":0,"creation_date":1395326403,"post_id":22532803,"comment_id":34295691,"body_markdown":"for this we need Bapi Api com.sap.mw.jco.*;  but i have SAPJco3.jar Api latest one  .Is it feasible with SAPJco3.jar","body":"for this we need Bapi Api com.sap.mw.jco.*;  but i have SAPJco3.jar Api latest one  .Is it feasible with SAPJco3.jar"}],"owner":{"account_id":3188752,"reputation":79,"user_id":2693636,"display_name":"MNW"},"comment_count":4,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":122,"favorite_count":0,"down_vote_count":2,"up_vote_count":3,"closed_date":1395651118,"answer_count":0,"score":1,"last_activity_date":1683538665,"creation_date":1395317943,"question_id":22532803,"body_markdown":"I am trying to reset password for sap user using `BAPI_USER_CHANGE`, but it is giving error as \r\n&gt; password is not input field type\r\n\r\nI am posting my code below. Here `getRandomString()` is user-defined function. I have copied this code from internet and I am completely unaware about this function.\r\n\r\n\t    public static void resetSAPPwd()\r\n        {\r\n          //String newPassword = getRandomString();\r\n        \tString newPassword =&quot;mypwd&quot;;       \r\n        \tString userId=&quot;myid&quot;;\r\n        try{\r\n        \t\r\n        \t  JCoDestination destination = JCoDestinationManager.getDestination(DESTINATION_NAME2);\r\n        \t  System.out.println(&quot;getRepositoryUser for resetSAPPwd : &quot;+destination.getRepositoryUser());\r\n        \t  JCoFunction bapiUserChange = destination.getRepository().getFunction(&quot;BAPI_USER_CHANGE&quot;);\r\n              \r\n        \t  System.out.println(&quot;1 check fn:  &quot;);\r\n                 \r\n             if(bapiUserChange != null){\r\n                  JCoParameterList userChangeInput = bapiUserChange.getImportParameterList();\r\n                 \r\n                    System.out.println(&quot;JCoParameterList object userChangeInput ............. :&quot;+userChangeInput);    \r\n                   \r\n                        JCoStructure sPassword = userChangeInput.getStructure(&quot;PASSWORD&quot;);\r\n                        JCoStructure sPasswordx = userChangeInput.getStructure(&quot;PASSWORDX&quot;);\r\n                        \r\n                        sPassword.setValue(newPassword, &quot;BAPIPWD&quot;);\r\n                        System.out.println(&quot;0&quot;);\r\n                        sPasswordx.setValue(&#39;X&#39;, &quot;BAPIPWD&quot;);\r\n                        System.out.println(&quot;1&quot;);\r\n                        userChangeInput.setValue(userId, &quot;USERNAME&quot;);\r\n                        //userChangeInput.setValue(sPassword, &quot;PASSWORD&quot;); \r\n                        //userChangeInput.setValue(sPasswordx,&quot;PASSWORDX&quot;);\r\n                        System.out.println(&quot;2&quot;);\r\n                        bapiUserChange.execute(destination);\r\n                        \r\n                   System.out.println(&quot;Reset Pwd Done.......... &quot;);\r\n       \r\n              }\r\n        }catch(Exception e){\r\n        \tSystem.out.println(e.getMessage());\r\n        }\r\n  }","title":"How to reset password in SAP software using BAPI_USER_CHANGE?","body":"<p>I am trying to reset password for sap user using <code>BAPI_USER_CHANGE</code>, but it is giving error as</p>\n<blockquote>\n<p>password is not input field type</p>\n</blockquote>\n<p>I am posting my code below. Here <code>getRandomString()</code> is user-defined function. I have copied this code from internet and I am completely unaware about this function.</p>\n<pre><code>    public static void resetSAPPwd()\n    {\n      //String newPassword = getRandomString();\n        String newPassword =&quot;mypwd&quot;;       \n        String userId=&quot;myid&quot;;\n    try{\n        \n          JCoDestination destination = JCoDestinationManager.getDestination(DESTINATION_NAME2);\n          System.out.println(&quot;getRepositoryUser for resetSAPPwd : &quot;+destination.getRepositoryUser());\n          JCoFunction bapiUserChange = destination.getRepository().getFunction(&quot;BAPI_USER_CHANGE&quot;);\n          \n          System.out.println(&quot;1 check fn:  &quot;);\n             \n         if(bapiUserChange != null){\n              JCoParameterList userChangeInput = bapiUserChange.getImportParameterList();\n             \n                System.out.println(&quot;JCoParameterList object userChangeInput ............. :&quot;+userChangeInput);    \n               \n                    JCoStructure sPassword = userChangeInput.getStructure(&quot;PASSWORD&quot;);\n                    JCoStructure sPasswordx = userChangeInput.getStructure(&quot;PASSWORDX&quot;);\n                    \n                    sPassword.setValue(newPassword, &quot;BAPIPWD&quot;);\n                    System.out.println(&quot;0&quot;);\n                    sPasswordx.setValue('X', &quot;BAPIPWD&quot;);\n                    System.out.println(&quot;1&quot;);\n                    userChangeInput.setValue(userId, &quot;USERNAME&quot;);\n                    //userChangeInput.setValue(sPassword, &quot;PASSWORD&quot;); \n                    //userChangeInput.setValue(sPasswordx,&quot;PASSWORDX&quot;);\n                    System.out.println(&quot;2&quot;);\n                    bapiUserChange.execute(destination);\n                    \n               System.out.println(&quot;Reset Pwd Done.......... &quot;);\n   \n          }\n    }catch(Exception e){\n        System.out.println(e.getMessage());\n    }\n</code></pre>\n<p>}</p>\n"},{"tags":["java","file-io","path","nio"],"answers":[{"comments":[{"owner":{"account_id":537054,"reputation":32561,"user_id":905762,"accept_rate":77,"display_name":"John B"},"score":0,"creation_date":1374506126,"post_id":6903375,"comment_id":25953403,"body_markdown":"Would you please update the link? I would like to read this article.","body":"Would you please update the link? I would like to read this article."},{"owner":{"account_id":389530,"reputation":3131,"user_id":749041,"accept_rate":65,"display_name":"LordDoskias"},"score":0,"creation_date":1374508233,"post_id":6903375,"comment_id":25954747,"body_markdown":"Unfortunately I couldn&#39;t find the original article on the oracle web page. Here is a version from the wayback machine: http://web.archive.org/web/20090601091119/http://java.sun.com/developer/technicalArticles/javase/nio/","body":"Unfortunately I couldn&#39;t find the original article on the oracle web page. Here is a version from the wayback machine: <a href=\"http://web.archive.org/web/20090601091119/http://java.sun.com/developer/technicalArticles/javase/nio/\" rel=\"nofollow noreferrer\">web.archive.org/web/20090601091119/http://java.sun.com/&hellip;</a>"},{"owner":{"account_id":218057,"reputation":67738,"user_id":474189,"accept_rate":72,"display_name":"Duncan Jones"},"score":1,"creation_date":1408535090,"post_id":6903375,"comment_id":39623751,"body_markdown":"I found the article again on a normal Oracle side - added link to answer.","body":"I found the article again on a normal Oracle side - added link to answer."}],"tags":[],"owner":{"account_id":389530,"reputation":3131,"user_id":749041,"accept_rate":65,"display_name":"LordDoskias"},"comment_count":3,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1408535070,"creation_date":1312227004,"answer_id":6903375,"question_id":6903335,"body_markdown":"Check this article about more info - http://www.oracle.com/technetwork/articles/javase/nio-139333.html\r\n\r\nBasically file.Path will be the way to go from now on but as is widely known Java people tend to keep back-compatibility so I guess that&#39;s why they have left it. ","title":"Java: Path vs File","body":"<p>Check this article about more info - <a href=\"http://www.oracle.com/technetwork/articles/javase/nio-139333.html\" rel=\"noreferrer\">http://www.oracle.com/technetwork/articles/javase/nio-139333.html</a></p>\n\n<p>Basically file.Path will be the way to go from now on but as is widely known Java people tend to keep back-compatibility so I guess that's why they have left it. </p>\n"},{"comments":[{"owner":{"account_id":1415830,"reputation":7284,"user_id":1341526,"accept_rate":96,"display_name":"jacktrades"},"score":8,"creation_date":1357823127,"post_id":6904311,"comment_id":19788679,"body_markdown":"Path objects can be converted to File objects using [Path.toFile()](http://docs.oracle.com/javase/7/docs/api/java/nio/file/Path.html#toFile()), then use standard APIs.","body":"Path objects can be converted to File objects using <a href=\"http://docs.oracle.com/javase/7/docs/api/java/nio/file/Path.html#toFile()\" rel=\"nofollow noreferrer\">Path.toFile()</a>, then use standard APIs."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":3,"creation_date":1416357959,"post_id":6904311,"comment_id":42542780,"body_markdown":"So your answer is &#39;yes but no&#39;?","body":"So your answer is &#39;yes but no&#39;?"}],"tags":[],"owner":{"account_id":76511,"reputation":44893,"user_id":218978,"accept_rate":100,"display_name":"irreputable"},"comment_count":2,"down_vote_count":2,"up_vote_count":7,"is_accepted":false,"score":5,"last_activity_date":1312231920,"creation_date":1312231920,"answer_id":6904311,"question_id":6903335,"body_markdown":"Yes, but many existing APIs, including Java7&#39;s own standard APIs, still work only with `File` type.","title":"Java: Path vs File","body":"<p>Yes, but many existing APIs, including Java7's own standard APIs, still work only with <code>File</code> type.</p>\n"},{"comments":[{"owner":{"account_id":2056480,"reputation":661,"user_id":1834100,"accept_rate":65,"display_name":"Chris"},"score":17,"creation_date":1373761900,"post_id":6907260,"comment_id":25677942,"body_markdown":"Even if this is one of these &quot;Because the RFC says so&quot;-Answers, I would not consider it as a good answer. It&#39;s pretty obvious that File will be replace by Path. If you want to be ahead of time you can start using Path immediatly and use toFile() where needed.","body":"Even if this is one of these &quot;Because the RFC says so&quot;-Answers, I would not consider it as a good answer. It&#39;s pretty obvious that File will be replace by Path. If you want to be ahead of time you can start using Path immediatly and use toFile() where needed."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":17,"creation_date":1397154001,"post_id":6907260,"comment_id":35120808,"body_markdown":"@Chris Nothing has ever been removed from the JDK since they changed the AWT event model in 1.02. It isn&#39;t &#39;obvious&#39; at all. It&#39;s wrong.","body":"@Chris Nothing has ever been removed from the JDK since they changed the AWT event model in 1.02. It isn&#39;t &#39;obvious&#39; at all. It&#39;s wrong."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":5,"creation_date":1484335190,"post_id":6907260,"comment_id":70483677,"body_markdown":"@downvoters This answer is essentially a tautology. It can&#39;t be wrong. NB In the five years since I wrote this answer, Java 8 has subsequently appeared, and `java.io.File` is still neither removed nor even deprecated, and there is still nothing in the Javadoc to suggest that either of these things will ever happen.","body":"@downvoters This answer is essentially a tautology. It can&#39;t be wrong. NB In the five years since I wrote this answer, Java 8 has subsequently appeared, and <code>java.io.File</code> is still neither removed nor even deprecated, and there is still nothing in the Javadoc to suggest that either of these things will ever happen."},{"owner":{"account_id":703628,"reputation":14438,"user_id":595305,"accept_rate":83,"display_name":"mike rodent"},"score":2,"creation_date":1488735940,"post_id":6907260,"comment_id":72352565,"body_markdown":"@EJP I just upvoted that comment of yours. However, I&#39;m not entirely sure that you&#39;re right when you say the answer is a tautology.  The question, which should probably have been squashed for being &quot;opinion-based&quot;, is &quot;can we **consider** it deprecated&quot;.  Well, yes, the OP and anyone else **can**, but it isn&#39;t.","body":"@EJP I just upvoted that comment of yours. However, I&#39;m not entirely sure that you&#39;re right when you say the answer is a tautology.  The question, which should probably have been squashed for being &quot;opinion-based&quot;, is &quot;can we <b>consider</b> it deprecated&quot;.  Well, yes, the OP and anyone else <b>can</b>, but it isn&#39;t."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1516146406,"post_id":6907260,"comment_id":83568233,"body_markdown":"@mikerodent I suggest that&#39;s just a wilful misreading of what the question is really about. Also a partial quotation.","body":"@mikerodent I suggest that&#39;s just a wilful misreading of what the question is really about. Also a partial quotation."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1516146631,"post_id":6907260,"comment_id":83568302,"body_markdown":"@downvoter If you downvote tautologies do you also upvote self-contradictions?","body":"@downvoter If you downvote tautologies do you also upvote self-contradictions?"},{"owner":{"account_id":100270,"reputation":127154,"user_id":270371,"accept_rate":33,"display_name":"davidxxx"},"score":0,"creation_date":1516175869,"post_id":6907260,"comment_id":83576787,"body_markdown":"@EJP Sorry I would upvote. Bad manipulation on my smartphone. If you edit, I could reverse it.","body":"@EJP Sorry I would upvote. Bad manipulation on my smartphone. If you edit, I could reverse it."},{"owner":{"account_id":703628,"reputation":14438,"user_id":595305,"accept_rate":83,"display_name":"mike rodent"},"score":0,"creation_date":1516179275,"post_id":6907260,"comment_id":83578557,"body_markdown":"@EJP Disagree. The question should have been squashed as &quot;opinion-based&quot;.  If the words &quot;can we consider&quot; had been absent it wouldn&#39;t have been posed in the first place.","body":"@EJP Disagree. The question should have been squashed as &quot;opinion-based&quot;.  If the words &quot;can we consider&quot; had been absent it wouldn&#39;t have been posed in the first place."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1518570375,"post_id":6907260,"comment_id":84557968,"body_markdown":"@mikerodent I don&#39;t understand your final sentence. You don&#39;t know what the OP would and wouldn&#39;t have &#39;posed&#39;. And I don&#39;t see that the presence of the word &#39;can&#39; makes any substantive difference.","body":"@mikerodent I don&#39;t understand your final sentence. You don&#39;t know what the OP would and wouldn&#39;t have &#39;posed&#39;. And I don&#39;t see that the presence of the word &#39;can&#39; makes any substantive difference."}],"tags":[],"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"comment_count":9,"down_vote_count":10,"up_vote_count":27,"is_accepted":false,"score":17,"last_activity_date":1518570309,"creation_date":1312259469,"answer_id":6907260,"question_id":6903335,"body_markdown":"&gt; can we consider it deprecated?\r\n\r\nNo, you *can&#39;t* consider it deprecated unless and until it is so marked in the `File` Javadoc.","title":"Java: Path vs File","body":"<blockquote>\n  <p>can we consider it deprecated?</p>\n</blockquote>\n\n<p>No, you <em>can't</em> consider it deprecated unless and until it is so marked in the <code>File</code> Javadoc.</p>\n"},{"comments":[{"owner":{"account_id":1042456,"reputation":3429,"user_id":1048186,"accept_rate":80,"display_name":"Josiah Yoder"},"score":15,"creation_date":1422306942,"post_id":26658436,"comment_id":44689050,"body_markdown":"You can read Oracle&#39;s comments on the differences here: http://docs.oracle.com/javase/tutorial/essential/io/legacy.html","body":"You can read Oracle&#39;s comments on the differences here: <a href=\"http://docs.oracle.com/javase/tutorial/essential/io/legacy.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/essential/io/legacy.html</a>"},{"owner":{"account_id":1042456,"reputation":3429,"user_id":1048186,"accept_rate":80,"display_name":"Josiah Yoder"},"score":4,"creation_date":1422308410,"post_id":26658436,"comment_id":44689818,"body_markdown":"Also note that &quot;Files&quot; (in the plural) is **not** deprecated.  It is essentially an abstract class that operates on Path objects and performs many of the features of the old File class, such as isDirectory() or exists()","body":"Also note that &quot;Files&quot; (in the plural) is <b>not</b> deprecated.  It is essentially an abstract class that operates on Path objects and performs many of the features of the old File class, such as isDirectory() or exists()"},{"owner":{"account_id":8087746,"reputation":1035,"user_id":6094756,"accept_rate":60,"display_name":"piegames"},"score":4,"creation_date":1504699598,"post_id":26658436,"comment_id":79110284,"body_markdown":"Now I&#39;m wondering: why do the new File/FolderChooser dialogs in JavaFX 8 then still use `File` instead of `Path`?","body":"Now I&#39;m wondering: why do the new File/FolderChooser dialogs in JavaFX 8 then still use <code>File</code> instead of <code>Path</code>?"},{"owner":{"account_id":1042456,"reputation":3429,"user_id":1048186,"accept_rate":80,"display_name":"Josiah Yoder"},"score":2,"creation_date":1516645678,"post_id":26658436,"comment_id":83763652,"body_markdown":"Path is an interface. To create an instance, use Paths.get(filename). It could be because of the confusion of having to write Files.exists(Paths.get(filename)) instead of new File(filename).exists() that the older API is still used.","body":"Path is an interface. To create an instance, use Paths.get(filename). It could be because of the confusion of having to write Files.exists(Paths.get(filename)) instead of new File(filename).exists() that the older API is still used."},{"owner":{"account_id":2485164,"reputation":2314,"user_id":2163727,"accept_rate":80,"display_name":"MasterHD"},"score":0,"creation_date":1582809892,"post_id":26658436,"comment_id":106910620,"body_markdown":"`Path` can be more easily modified to &quot;add children&quot; with `resolve(...)` or &quot;move up one level&quot; with `getParent()`, etc. whereas `File` cannot. Essentially once you have finished modifying the Path, you&#39;ll often convert it `toFile()` so it can be sent into legacy methods such as a `FileInputStream` constructor.","body":"<code>Path</code> can be more easily modified to &quot;add children&quot; with <code>resolve(...)</code> or &quot;move up one level&quot; with <code>getParent()</code>, etc. whereas <code>File</code> cannot. Essentially once you have finished modifying the Path, you&#39;ll often convert it <code>toFile()</code> so it can be sent into legacy methods such as a <code>FileInputStream</code> constructor."}],"tags":[],"owner":{"account_id":2254066,"reputation":5334,"user_id":1985648,"accept_rate":59,"display_name":"Don Cheadle"},"comment_count":5,"down_vote_count":0,"up_vote_count":193,"is_accepted":false,"score":193,"last_activity_date":1553096215,"creation_date":1414686696,"answer_id":26658436,"question_id":6903335,"body_markdown":"**Long story short:** \r\n\r\n`java.io.File` will most likely *never* be deprecated / unsupported. That said, `java.nio.file.Path` is part of the more modern `java.nio.file` lib, and does everything `java.io.File` can, but generally in a better way, and more. \r\n\r\nFor new projects, use `Path`.\r\n\r\nAnd if you ever need a `File` object for legacy, just call [Path#toFile()](http://docs.oracle.com/javase/7/docs/api/java/nio/file/Path.html#toFile())\r\n\r\n**Migrating from File to Path**\r\n\r\n[This Oracle page highlights differences, and maps `java.io.File functionality` to `java.nio.file lib (including Path) functionality`](http://docs.oracle.com/javase/tutorial/essential/io/legacy.html)\r\n\r\n[Article by Janice J. Heiss and Sharon Zakhour, May 2009, discussing NIO.2 File System in JDK 7](http://www.oracle.com/technetwork/articles/javase/nio-139333.html)","title":"Java: Path vs File","body":"<p><strong>Long story short:</strong> </p>\n\n<p><code>java.io.File</code> will most likely <em>never</em> be deprecated / unsupported. That said, <code>java.nio.file.Path</code> is part of the more modern <code>java.nio.file</code> lib, and does everything <code>java.io.File</code> can, but generally in a better way, and more. </p>\n\n<p>For new projects, use <code>Path</code>.</p>\n\n<p>And if you ever need a <code>File</code> object for legacy, just call <a href=\"http://docs.oracle.com/javase/7/docs/api/java/nio/file/Path.html#toFile()\" rel=\"noreferrer\">Path#toFile()</a></p>\n\n<p><strong>Migrating from File to Path</strong></p>\n\n<p><a href=\"http://docs.oracle.com/javase/tutorial/essential/io/legacy.html\" rel=\"noreferrer\">This Oracle page highlights differences, and maps <code>java.io.File functionality</code> to <code>java.nio.file lib (including Path) functionality</code></a></p>\n\n<p><a href=\"http://www.oracle.com/technetwork/articles/javase/nio-139333.html\" rel=\"noreferrer\">Article by Janice J. Heiss and Sharon Zakhour, May 2009, discussing NIO.2 File System in JDK 7</a></p>\n"},{"comments":[{"owner":{"account_id":1936546,"reputation":133675,"user_id":1743880,"accept_rate":100,"display_name":"Tunaki"},"score":7,"creation_date":1488736983,"post_id":42611934,"comment_id":72352935,"body_markdown":"I don&#39;t understand your analogy.","body":"I don&#39;t understand your analogy."},{"owner":{"account_id":703628,"reputation":14438,"user_id":595305,"accept_rate":83,"display_name":"mike rodent"},"score":0,"creation_date":1488737384,"post_id":42611934,"comment_id":72353071,"body_markdown":"Any &quot;or&quot; question should present two logical alternatives, both of which essentially answer the same question.","body":"Any &quot;or&quot; question should present two logical alternatives, both of which essentially answer the same question."},{"owner":{"account_id":1936546,"reputation":133675,"user_id":1743880,"accept_rate":100,"display_name":"Tunaki"},"score":0,"creation_date":1488737471,"post_id":42611934,"comment_id":72353099,"body_markdown":"Sorry, this sounds highly pedantic in this context. The idea is &quot;I want to use `File`. Should I, yes or no?&quot;","body":"Sorry, this sounds highly pedantic in this context. The idea is &quot;I want to use <code>File</code>. Should I, yes or no?&quot;"},{"owner":{"account_id":703628,"reputation":14438,"user_id":595305,"accept_rate":83,"display_name":"mike rodent"},"score":0,"creation_date":1488737825,"post_id":42611934,"comment_id":72353230,"body_markdown":"No offence taken. The way the question is posed invites an analysis of what&#39;s it&#39;s &quot;really&quot; asking, and you&#39;ve given a reasonable interpretation.  But it is a loaded question.  By pointing out its curious nature I&#39;m just drawing attention to the fact that it should really have been squashed as &quot;opinion-based&quot;.  As to your question: &quot;yes&quot;.  You say you want to, so use it.  The OP wanted someone to say &quot;don&#39;t use `File`, it&#39;s a bit rubbish&quot;, but `File` is still with us five or more years later. Maybe we should celebrate that?","body":"No offence taken. The way the question is posed invites an analysis of what&#39;s it&#39;s &quot;really&quot; asking, and you&#39;ve given a reasonable interpretation.  But it is a loaded question.  By pointing out its curious nature I&#39;m just drawing attention to the fact that it should really have been squashed as &quot;opinion-based&quot;.  As to your question: &quot;yes&quot;.  You say you want to, so use it.  The OP wanted someone to say &quot;don&#39;t use <code>File</code>, it&#39;s a bit rubbish&quot;, but <code>File</code> is still with us five or more years later. Maybe we should celebrate that?"},{"owner":{"account_id":1936546,"reputation":133675,"user_id":1743880,"accept_rate":100,"display_name":"Tunaki"},"score":1,"creation_date":1488738124,"post_id":42611934,"comment_id":72353331,"body_markdown":"Yeah I agree it&#39;s a loaded question... especially since that a lot of existing 3rd party APIs still use `File` anyway. It&#39;s not going to die anytime soon.","body":"Yeah I agree it&#39;s a loaded question... especially since that a lot of existing 3rd party APIs still use <code>File</code> anyway. It&#39;s not going to die anytime soon."},{"owner":{"account_id":2254066,"reputation":5334,"user_id":1985648,"accept_rate":59,"display_name":"Don Cheadle"},"score":3,"creation_date":1493931779,"post_id":42611934,"comment_id":74626192,"body_markdown":"`it isn&#39;t deprecated. But there&#39;s nothing to stop you *considering* it so` LOL.","body":"<code>it isn&#39;t deprecated. But there&#39;s nothing to stop you *considering* it so</code> LOL."}],"tags":[],"owner":{"account_id":703628,"reputation":14438,"user_id":595305,"accept_rate":83,"display_name":"mike rodent"},"comment_count":6,"down_vote_count":12,"up_vote_count":2,"is_accepted":false,"score":-10,"last_activity_date":1515003113,"creation_date":1488736741,"answer_id":42611934,"question_id":6903335,"body_markdown":"&gt; For new applications written in Java 7, is there any reason to use a\r\n&gt; java.io.File object any more or can we consider it deprecated?\r\n\r\nThis is a bit like saying: &quot;should Napoleon invade Russia, ***or*** are these Brussels sprouts really tasty?&quot;\r\n\r\nAs to the second part of the question, you can indeed consider it deprecated. As of January 2018, it isn&#39;t deprecated.  But there&#39;s nothing to stop you ***considering*** it so.  Whether that will procure you any advantage in this life or the next is impossible to say.\r\n\r\n","title":"Java: Path vs File","body":"<blockquote>\n  <p>For new applications written in Java 7, is there any reason to use a\n  java.io.File object any more or can we consider it deprecated?</p>\n</blockquote>\n\n<p>This is a bit like saying: \"should Napoleon invade Russia, <strong><em>or</em></strong> are these Brussels sprouts really tasty?\"</p>\n\n<p>As to the second part of the question, you can indeed consider it deprecated. As of January 2018, it isn't deprecated.  But there's nothing to stop you <strong><em>considering</em></strong> it so.  Whether that will procure you any advantage in this life or the next is impossible to say.</p>\n"},{"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1519722659,"post_id":45558265,"comment_id":85014316,"body_markdown":"He didn&#39;t ask whether `Path` was better. He asked whether `File` was deprecated.","body":"He didn&#39;t ask whether <code>Path</code> was better. He asked whether <code>File</code> was deprecated."},{"owner":{"account_id":938093,"reputation":2857,"user_id":966656,"accept_rate":82,"display_name":"Andrew S"},"score":3,"creation_date":1522819668,"post_id":45558265,"comment_id":86294376,"body_markdown":"@EJP I think you are being a little over pedantic. The OP did ask if java.io.File was deprecated and I answered that.. He also stated  &quot;I believe a java.nio.file.Path can do everything a java.io.File can do and more.&quot;  I was merely confirming his comment, it was hardly worth a vote down.","body":"@EJP I think you are being a little over pedantic. The OP did ask if java.io.File was deprecated and I answered that.. He also stated  &quot;I believe a java.nio.file.Path can do everything a java.io.File can do and more.&quot;  I was merely confirming his comment, it was hardly worth a vote down."}],"tags":[],"owner":{"account_id":938093,"reputation":2857,"user_id":966656,"accept_rate":82,"display_name":"Andrew S"},"comment_count":2,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1522819741,"creation_date":1502158368,"answer_id":45558265,"question_id":6903335,"body_markdown":"Java.io.File is not deprecated. Yes java.nio.file.Path is better, but as long as there are still plenty of programs and text books using Java.io.File, if only for legacy reasons, it should not be considered deprecated, its too important. Doing so would just be throwing a spanner in the works for no over all gain. For example the Android framework uses File for some of its basic file handling features, many other things do to.\r\n\r\n","title":"Java: Path vs File","body":"<p>Java.io.File is not deprecated. Yes java.nio.file.Path is better, but as long as there are still plenty of programs and text books using Java.io.File, if only for legacy reasons, it should not be considered deprecated, its too important. Doing so would just be throwing a spanner in the works for no over all gain. For example the Android framework uses File for some of its basic file handling features, many other things do to.</p>\n"},{"comments":[{"owner":{"account_id":703628,"reputation":14438,"user_id":595305,"accept_rate":83,"display_name":"mike rodent"},"score":0,"creation_date":1516179540,"post_id":48296025,"comment_id":83578722,"body_markdown":"In short, she/he can indeed **consider** it deprecated if she/he wants.","body":"In short, she/he can indeed <b>consider</b> it deprecated if she/he wants."},{"owner":{"account_id":100270,"reputation":127154,"user_id":270371,"accept_rate":33,"display_name":"davidxxx"},"score":0,"creation_date":1516181017,"post_id":48296025,"comment_id":83579611,"body_markdown":"@mike rodent. Exactly. Conceptually she/he should while it is not the case in terms of Javadoc for explained reasons.","body":"@mike rodent. Exactly. Conceptually she/he should while it is not the case in terms of Javadoc for explained reasons."}],"tags":[],"owner":{"account_id":100270,"reputation":127154,"user_id":270371,"accept_rate":33,"display_name":"davidxxx"},"comment_count":2,"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1516175816,"creation_date":1516175386,"answer_id":48296025,"question_id":6903335,"body_markdown":"I will complete the very good answer of `@mmcrae`.\r\n\r\n&gt;  is there any reason to use a java.io.File object any more or can we\r\n&gt; consider it deprecated?\r\n\r\nJDK classes are very rarely deprecated.&lt;br&gt;\r\nYou can see on the [the JDK 8 API deprecates list][1] all classes deprecated since the first JDK.&lt;br&gt;\r\nIt contains only a little part of classes that the Oracle documentation and the Java community discourage to use.&lt;br&gt;\r\n`java.util.Date`, `java.util.Vector`, `java.util.Hashtable`... that are classes with so many defects are not deprecated.&lt;br&gt;\r\nBut why ? &lt;br&gt;\r\nBecause conceptually something of `deprecated` means still there but discourage to use as it will very certainly be removed.&lt;br&gt;\r\nThousands of programs rely on these bad designed classes.&lt;br&gt;\r\nFor such classes, Java API developers will not give such a signal.&lt;br&gt;\r\n\r\nAnswer of `@EJP` is so really right :\r\n\r\n&gt; Not unless and until it is so marked in the Javadoc.\r\n\r\nSo, I think that your question would make more sense in its terms : &lt;br&gt;\r\n&quot;As we have the choice, should we use `java.io.File` or `java.nio.file.Path` for new developments and if the answer is `java.nio.file.Path`, could you easily take advantage of `java.io.File` for legacy projects using `java.io.File` ?&quot;\r\n&gt; I believe a java.nio.file.Path can do everything a java.io.File can do\r\n&gt; and more.\r\n\r\nYou have the answer.&lt;br&gt;\r\n\r\n[This oracle tutorial][2] about legacy IO confirms your thinking.&lt;br&gt;\r\n\r\n\r\n&gt; Prior to the Java SE 7 release, the `java.io.File` class was the\r\n&gt; mechanism used for file I/O, but it had several drawbacks.\r\n&gt; \r\n&gt; Many methods didn&#39;t throw exceptions when they failed, so it was\r\n&gt; impossible to obtain a useful error message. For example, if a file\r\n&gt; deletion failed, the program would receive a &quot;delete fail&quot; but\r\n&gt; wouldn&#39;t know if it was because the file didn&#39;t exist, the user didn&#39;t\r\n&gt; have permissions, or there was some other problem.\r\n&gt; \r\n&gt; The rename method didn&#39;t work consistently across platforms. There was\r\n&gt; no real support for symbolic links.\r\n&gt; \r\n&gt; More support for metadata was desired, such as file permissions, file\r\n&gt; owner, and other security attributes.\r\n&gt; \r\n&gt; Accessing file metadata was inefficient.\r\n&gt; \r\n&gt; Many of the File methods didn&#39;t scale. Requesting a large directory\r\n&gt; listing over a server could result in a hang. Large directories could\r\n&gt; also cause memory resource problems, resulting in a denial of service.\r\n&gt; \r\n&gt; It was not possible to write reliable code that could recursively walk\r\n&gt; a file tree and respond appropriately if there were circular symbolic\r\n&gt; links.\r\n\r\nWith so many drawbacks for `java.io.File`, we need really no reason to use this class for new developments.&lt;br&gt;\r\nAnd even for legacy code using `java.io.File`, Oracle gives hints to use `Path`.\r\n\r\n&gt; Perhaps you have legacy code that uses java.io.File and would like to\r\n&gt; take advantage of the java.nio.file.Path functionality with minimal\r\n&gt; impact to your code.\r\n&gt; \r\n&gt; The java.io.File class provides the toPath method, which converts an\r\n&gt; old style File instance to a java.nio.file.Path instance, as follows:\r\n\r\n    Path input = file.toPath();\r\n\r\n&gt; You can then take advantage of the rich feature set available to the\r\n&gt; Path class.\r\n&gt; \r\n&gt; For example, assume you had some code that deleted a file:\r\n\r\n    file.delete();\r\n\r\n&gt; You could modify this code to use the Files.delete method, as follows:\r\n\r\n    Path fp = file.toPath();\r\n    Files.delete(fp);\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/deprecated-list.html#class\r\n  [2]: https://docs.oracle.com/javase/tutorial/essential/io/legacy.html\r\n\r\n","title":"Java: Path vs File","body":"<p>I will complete the very good answer of <code>@mmcrae</code>.</p>\n\n<blockquote>\n  <p>is there any reason to use a java.io.File object any more or can we\n  consider it deprecated?</p>\n</blockquote>\n\n<p>JDK classes are very rarely deprecated.<br>\nYou can see on the <a href=\"https://docs.oracle.com/javase/8/docs/api/deprecated-list.html#class\" rel=\"noreferrer\">the JDK 8 API deprecates list</a> all classes deprecated since the first JDK.<br>\nIt contains only a little part of classes that the Oracle documentation and the Java community discourage to use.<br>\n<code>java.util.Date</code>, <code>java.util.Vector</code>, <code>java.util.Hashtable</code>... that are classes with so many defects are not deprecated.<br>\nBut why ? <br>\nBecause conceptually something of <code>deprecated</code> means still there but discourage to use as it will very certainly be removed.<br>\nThousands of programs rely on these bad designed classes.<br>\nFor such classes, Java API developers will not give such a signal.<br></p>\n\n<p>Answer of <code>@EJP</code> is so really right :</p>\n\n<blockquote>\n  <p>Not unless and until it is so marked in the Javadoc.</p>\n</blockquote>\n\n<p>So, I think that your question would make more sense in its terms : <br>\n\"As we have the choice, should we use <code>java.io.File</code> or <code>java.nio.file.Path</code> for new developments and if the answer is <code>java.nio.file.Path</code>, could you easily take advantage of <code>java.io.File</code> for legacy projects using <code>java.io.File</code> ?\"</p>\n\n<blockquote>\n  <p>I believe a java.nio.file.Path can do everything a java.io.File can do\n  and more.</p>\n</blockquote>\n\n<p>You have the answer.<br></p>\n\n<p><a href=\"https://docs.oracle.com/javase/tutorial/essential/io/legacy.html\" rel=\"noreferrer\">This oracle tutorial</a> about legacy IO confirms your thinking.<br></p>\n\n<blockquote>\n  <p>Prior to the Java SE 7 release, the <code>java.io.File</code> class was the\n  mechanism used for file I/O, but it had several drawbacks.</p>\n  \n  <p>Many methods didn't throw exceptions when they failed, so it was\n  impossible to obtain a useful error message. For example, if a file\n  deletion failed, the program would receive a \"delete fail\" but\n  wouldn't know if it was because the file didn't exist, the user didn't\n  have permissions, or there was some other problem.</p>\n  \n  <p>The rename method didn't work consistently across platforms. There was\n  no real support for symbolic links.</p>\n  \n  <p>More support for metadata was desired, such as file permissions, file\n  owner, and other security attributes.</p>\n  \n  <p>Accessing file metadata was inefficient.</p>\n  \n  <p>Many of the File methods didn't scale. Requesting a large directory\n  listing over a server could result in a hang. Large directories could\n  also cause memory resource problems, resulting in a denial of service.</p>\n  \n  <p>It was not possible to write reliable code that could recursively walk\n  a file tree and respond appropriately if there were circular symbolic\n  links.</p>\n</blockquote>\n\n<p>With so many drawbacks for <code>java.io.File</code>, we need really no reason to use this class for new developments.<br>\nAnd even for legacy code using <code>java.io.File</code>, Oracle gives hints to use <code>Path</code>.</p>\n\n<blockquote>\n  <p>Perhaps you have legacy code that uses java.io.File and would like to\n  take advantage of the java.nio.file.Path functionality with minimal\n  impact to your code.</p>\n  \n  <p>The java.io.File class provides the toPath method, which converts an\n  old style File instance to a java.nio.file.Path instance, as follows:</p>\n</blockquote>\n\n<pre><code>Path input = file.toPath();\n</code></pre>\n\n<blockquote>\n  <p>You can then take advantage of the rich feature set available to the\n  Path class.</p>\n  \n  <p>For example, assume you had some code that deleted a file:</p>\n</blockquote>\n\n<pre><code>file.delete();\n</code></pre>\n\n<blockquote>\n  <p>You could modify this code to use the Files.delete method, as follows:</p>\n</blockquote>\n\n<pre><code>Path fp = file.toPath();\nFiles.delete(fp);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10131623,"reputation":332,"user_id":7484811,"display_name":"Maged Almaweri"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1611718974,"creation_date":1611718974,"answer_id":65912608,"question_id":6903335,"body_markdown":"It is known that classes in **java.nio** package work with **Path instances**, and not **File instances**. It&#39;s recommended practice to work with the Path class if using java.nio wherever possible.\r\n\r\nNow sometimes you will have to use the File class. That&#39;s because the method or constructor wants to File instance as a parameter, but when you do have a choice, make sure you use the **Path** over the **File**.","title":"Java: Path vs File","body":"<p>It is known that classes in <strong>java.nio</strong> package work with <strong>Path instances</strong>, and not <strong>File instances</strong>. It's recommended practice to work with the Path class if using java.nio wherever possible.</p>\n<p>Now sometimes you will have to use the File class. That's because the method or constructor wants to File instance as a parameter, but when you do have a choice, make sure you use the <strong>Path</strong> over the <strong>File</strong>.</p>\n"}],"owner":{"account_id":4804,"reputation":268589,"user_id":7412,"accept_rate":96,"display_name":"dogbane"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":86706,"favorite_count":0,"down_vote_count":0,"up_vote_count":238,"answer_count":8,"score":238,"last_activity_date":1683538536,"creation_date":1312226809,"question_id":6903335,"body_markdown":"For new applications written in Java 7, is there any reason to use a [`java.io.File`][2] object any more or can we consider it deprecated? \r\n\r\nI believe a [`java.nio.file.Path`][1] can do everything a [`java.io.File`][2] can do and more.\r\n\r\n\r\n  [1]: http://download.oracle.com/javase/7/docs/api/java/nio/file/Path.html\r\n  [2]: http://download.oracle.com/javase/7/docs/api/java/io/File.html","title":"Java: Path vs File","body":"<p>For new applications written in Java 7, is there any reason to use a <a href=\"http://download.oracle.com/javase/7/docs/api/java/io/File.html\" rel=\"noreferrer\"><code>java.io.File</code></a> object any more or can we consider it deprecated? </p>\n\n<p>I believe a <a href=\"http://download.oracle.com/javase/7/docs/api/java/nio/file/Path.html\" rel=\"noreferrer\"><code>java.nio.file.Path</code></a> can do everything a <a href=\"http://download.oracle.com/javase/7/docs/api/java/io/File.html\" rel=\"noreferrer\"><code>java.io.File</code></a> can do and more.</p>\n"},{"tags":["java","sap-erp","jco"],"answers":[{"tags":[],"owner":{"account_id":775068,"reputation":64803,"user_id":823393,"accept_rate":86,"display_name":"OldCurmudgeon"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1396515489,"creation_date":1396515489,"answer_id":22832596,"question_id":22832462,"body_markdown":"The SAP system is complex to interface to. You need to use a file structure called [IDoc](http://scn.sap.com/thread/1376487).\r\n\r\nYou can get an idea of the scope of your problem [here](http://wiki.scn.sap.com/wiki/display/Retail/IS-Retail).","title":"Connect SAP Retail using Java","body":"<p>The SAP system is complex to interface to. You need to use a file structure called <a href=\"http://scn.sap.com/thread/1376487\" rel=\"nofollow\">IDoc</a>.</p>\n\n<p>You can get an idea of the scope of your problem <a href=\"http://wiki.scn.sap.com/wiki/display/Retail/IS-Retail\" rel=\"nofollow\">here</a>.</p>\n"},{"comments":[{"owner":{"account_id":1907169,"reputation":1234,"user_id":1721793,"display_name":"sashimi"},"score":1,"creation_date":1600349001,"post_id":22832972,"comment_id":113064206,"body_markdown":"You may also use some libraries built on top of SAP JCo, that provide an easier to use programming interface. One such a library is [sap4j](http://sap4j.com) which is useful if you need to retrieve, transform, and persist the data. It abstracts you from underlying SAP data structures, providing standard data structures. They provide some examples as well. Another well-known library is the [hibersap](http://hibersap.org/), which provides Hibernate like annotations to query data to an object model.","body":"You may also use some libraries built on top of SAP JCo, that provide an easier to use programming interface. One such a library is <a href=\"http://sap4j.com\" rel=\"nofollow noreferrer\">sap4j</a> which is useful if you need to retrieve, transform, and persist the data. It abstracts you from underlying SAP data structures, providing standard data structures. They provide some examples as well. Another well-known library is the <a href=\"http://hibersap.org/\" rel=\"nofollow noreferrer\">hibersap</a>, which provides Hibernate like annotations to query data to an object model."}],"tags":[],"owner":{"account_id":20725,"reputation":4287,"user_id":49804,"display_name":"PATRY Guillaume"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1396516373,"creation_date":1396516373,"answer_id":22832972,"question_id":22832462,"body_markdown":"There are several possibilities.\r\n\r\n - SAP functions can be easily turned into webservice, in which case you &quot;just&quot; have to call the  webservice as you do for any other one.\r\n - Another possibility is to use the JavaConnector (JCO) provided by SAP. The current version is 3, and really differs from previous version. The connector is available at http://service.sap.com/connectors, but you need a marketplace account (something that the SAP people in your company/customer should be able to provide)\r\n\r\nIn both case, you will have to work with your SAP Expert(s) / Consultant(s) to get the info on what you have to call, or to develop specific code in the SAP system.\r\n\r\nregards","title":"Connect SAP Retail using Java","body":"<p>There are several possibilities.</p>\n\n<ul>\n<li>SAP functions can be easily turned into webservice, in which case you \"just\" have to call the  webservice as you do for any other one.</li>\n<li>Another possibility is to use the JavaConnector (JCO) provided by SAP. The current version is 3, and really differs from previous version. The connector is available at <a href=\"http://service.sap.com/connectors\" rel=\"nofollow\">http://service.sap.com/connectors</a>, but you need a marketplace account (something that the SAP people in your company/customer should be able to provide)</li>\n</ul>\n\n<p>In both case, you will have to work with your SAP Expert(s) / Consultant(s) to get the info on what you have to call, or to develop specific code in the SAP system.</p>\n\n<p>regards</p>\n"}],"owner":{"account_id":1656232,"reputation":3156,"user_id":1525718,"accept_rate":14,"display_name":"suresiva"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":200,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1683538520,"creation_date":1396515096,"question_id":22832462,"body_markdown":"I am new to SAP Retail, got a task to connect and interact with the SAP Retail system using java in order to retrieve promotion, offer data.\r\n\r\nI am looking for ways to do so, either using any Java API or Web services.\r\n\r\nPlease give me some ideas to achieve this.","title":"Connect SAP Retail using Java","body":"<p>I am new to SAP Retail, got a task to connect and interact with the SAP Retail system using java in order to retrieve promotion, offer data.</p>\n<p>I am looking for ways to do so, either using any Java API or Web services.</p>\n<p>Please give me some ideas to achieve this.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":9725613,"reputation":53332,"user_id":7212686,"accept_rate":100,"display_name":"azro"},"score":0,"creation_date":1683535944,"post_id":76198923,"comment_id":134376183,"body_markdown":"what is the expected result ?","body":"what is the expected result ?"}],"answers":[{"tags":[],"owner":{"account_id":9725613,"reputation":53332,"user_id":7212686,"accept_rate":100,"display_name":"azro"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1683536870,"creation_date":1683535901,"answer_id":76198954,"question_id":76198923,"body_markdown":"The issue comes with the non-sense loop\r\n\r\n    for(int j=i;j&lt;=i;j++){\r\n        if(i&gt;j)\r\n            c.add(1);\r\n        if(i&lt;j)\r\n            c.add(1);   \r\n    }\r\n\r\n1. You define `j=i`\r\n2. check if `j` is **strictly** superior or inferior to `i` : none are True\r\n3. increment `j`, `j&lt;=i` is now False, the loops ends\r\n\r\nConclusion : that for-loop does nothing","title":"I have insert the integers 1,1 in arraylist c,but when I printing the c arraylist .it is howing empty,why?","body":"<p>The issue comes with the non-sense loop</p>\n<pre><code>for(int j=i;j&lt;=i;j++){\n    if(i&gt;j)\n        c.add(1);\n    if(i&lt;j)\n        c.add(1);   \n}\n</code></pre>\n<ol>\n<li>You define <code>j=i</code></li>\n<li>check if <code>j</code> is <strong>strictly</strong> superior or inferior to <code>i</code> : none are True</li>\n<li>increment <code>j</code>, <code>j&lt;=i</code> is now False, the loops ends</li>\n</ol>\n<p>Conclusion : that for-loop does nothing</p>\n"}],"owner":{"account_id":26429958,"reputation":1,"user_id":20076301,"display_name":"Charan kalidindi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":24,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1683536870,"creation_date":1683535644,"question_id":76198923,"body_markdown":"\tpublic static void main(String[] args) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\tScanner sc=new Scanner(System.in);\r\n\t\tArrayList&lt;Integer&gt; a=new ArrayList();\r\n\t\tint a1=sc.nextInt();\r\n\t\tfor(int i=0;i&lt;a1;i++)\r\n\t\t{\r\n\t\t\tSystem.out.println(&quot;enter Elements&quot;);\r\n\t\t\ta.add(sc.nextInt());\r\n\t\t}\r\n\t\tint b1=sc.nextInt();\r\n\t\tArrayList&lt;Integer&gt; b=new ArrayList();\r\n\t\tfor(int j=0;j&lt;b1;j++)\r\n\t\t{\r\n\t\t\tSystem.out.println(&quot;enter elemets for b&quot;);\r\n\t\t\tb.add(sc.nextInt());\r\n\t\t}\r\n\t\tArrayList&lt;Integer&gt; c=new ArrayList();\r\n\t\tfor(int i=0;i&lt;a.size();i++)\r\n\t\t{\r\n\t\t\tfor(int j=i;j&lt;=i;j++)\r\n\t\t\t{\r\n\t\t\t\tif(i&gt;j)\r\n\t\t\t\t\tc.add(1);\r\n\t\t\t\tif(i&lt;j)\r\n\t\t\t\t\tc.add(1);\t\r\n\t\t\t}\r\n\t\t}\t\t\r\n\t\tSystem.out.println(c);\r\n\t}\r\n\r\n\r\nIn Java console --&gt;\r\n\r\n    3\r\n    enter Elements\r\n    1\r\n    enter Elements\r\n    2\r\n    enter Elements\r\n    3\r\n    3\r\n    enter elemets for b\r\n    3\r\n    enter elemets for b\r\n    2\r\n    enter elemets for b\r\n    1\r\n    []\r\n\r\n","title":"I have insert the integers 1,1 in arraylist c,but when I printing the c arraylist .it is howing empty,why?","body":"<pre><code>public static void main(String[] args) {\n    // TODO Auto-generated method stub\n    Scanner sc=new Scanner(System.in);\n    ArrayList&lt;Integer&gt; a=new ArrayList();\n    int a1=sc.nextInt();\n    for(int i=0;i&lt;a1;i++)\n    {\n        System.out.println(&quot;enter Elements&quot;);\n        a.add(sc.nextInt());\n    }\n    int b1=sc.nextInt();\n    ArrayList&lt;Integer&gt; b=new ArrayList();\n    for(int j=0;j&lt;b1;j++)\n    {\n        System.out.println(&quot;enter elemets for b&quot;);\n        b.add(sc.nextInt());\n    }\n    ArrayList&lt;Integer&gt; c=new ArrayList();\n    for(int i=0;i&lt;a.size();i++)\n    {\n        for(int j=i;j&lt;=i;j++)\n        {\n            if(i&gt;j)\n                c.add(1);\n            if(i&lt;j)\n                c.add(1);   \n        }\n    }       \n    System.out.println(c);\n}\n</code></pre>\n<p>In Java console --&gt;</p>\n<pre><code>3\nenter Elements\n1\nenter Elements\n2\nenter Elements\n3\n3\nenter elemets for b\n3\nenter elemets for b\n2\nenter elemets for b\n1\n[]\n</code></pre>\n"},{"tags":["java","email","smtp"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1683544759,"post_id":76199086,"comment_id":134377969,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":19273525,"reputation":1,"user_id":14087018,"display_name":"KANIKA BANSAL"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683536851,"creation_date":1683536851,"question_id":76199086,"body_markdown":"I am using spring-boot to send notification emails to users. SMTP properties like username, host and password are customizable and I am storing it in a properties file. I want to trigger an action whenever a user replies to these emails. Is there a way I can do this? \r\n\r\nCurrently I am having a scheduled a quartz job which keeps checking if any new emails are there in every minute. It looks like an overload. Is there a better way ?","title":"Trigger an action whenever a mail is received using Java Spring-boot JavaMail","body":"<p>I am using spring-boot to send notification emails to users. SMTP properties like username, host and password are customizable and I am storing it in a properties file. I want to trigger an action whenever a user replies to these emails. Is there a way I can do this?</p>\n<p>Currently I am having a scheduled a quartz job which keeps checking if any new emails are there in every minute. It looks like an overload. Is there a better way ?</p>\n"},{"tags":["java","spring-boot","apache-kafka"],"answers":[{"comments":[{"owner":{"account_id":10718315,"reputation":320,"user_id":10655551,"display_name":"Subhakant Priyadarsan"},"score":0,"creation_date":1683531127,"post_id":76198339,"comment_id":134375283,"body_markdown":"Yes, this would work. But in my case, the topic names are comma separated. How do I read them?","body":"Yes, this would work. But in my case, the topic names are comma separated. How do I read them?"},{"owner":{"account_id":3209227,"reputation":471,"user_id":2709542,"display_name":"Mathew"},"score":0,"creation_date":1683531342,"post_id":76198339,"comment_id":134375330,"body_markdown":"@SubhakantPriyadarsan try this: @KafkaListener(topics = &quot;#{&#39;${kafka.topics}&#39;.split(&#39;,&#39;)}&quot;)","body":"@SubhakantPriyadarsan try this: @KafkaListener(topics = &quot;#{&#39;${kafka.topics}&#39;.split(&#39;,&#39;)}&quot;)"}],"tags":[],"owner":{"account_id":3209227,"reputation":471,"user_id":2709542,"display_name":"Mathew"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1683530907,"creation_date":1683530907,"answer_id":76198339,"question_id":76198277,"body_markdown":"If we have to fetch multiple topics from the application.properties file :\r\n\r\n    @KafkaListener(topics = { &quot;${spring.kafka.topic1}&quot;, &quot;${spring.kafka.topic2}&quot; })","title":"How do I configure a KafkaListener to Listen to multiple comma separated topic configured in my properties file?","body":"<p>If we have to fetch multiple topics from the application.properties file :</p>\n<pre><code>@KafkaListener(topics = { &quot;${spring.kafka.topic1}&quot;, &quot;${spring.kafka.topic2}&quot; })\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10718315,"reputation":320,"user_id":10655551,"display_name":"Subhakant Priyadarsan"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1683536409,"creation_date":1683536409,"answer_id":76199014,"question_id":76198277,"body_markdown":"@Mathew, Thanks for your quick response.\r\n\r\n    @KafkaListener(topics = &quot;#{&#39;${kafka.topics}&#39;.split(&#39;,&#39;)}&quot;)\r\n\r\nThis is something I was looking for.","title":"How do I configure a KafkaListener to Listen to multiple comma separated topic configured in my properties file?","body":"<p>@Mathew, Thanks for your quick response.</p>\n<pre><code>@KafkaListener(topics = &quot;#{'${kafka.topics}'.split(',')}&quot;)\n</code></pre>\n<p>This is something I was looking for.</p>\n"}],"owner":{"account_id":10718315,"reputation":320,"user_id":10655551,"display_name":"Subhakant Priyadarsan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":113,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76199014,"answer_count":2,"score":1,"last_activity_date":1683536409,"creation_date":1683530223,"question_id":76198277,"body_markdown":"Anyone know how do I configure a KafkaListener with multiple topics? Any help would be appreciated.\r\n\r\nMy Java Code,\r\n\r\n    @KafkaListener(topics = &quot;${application.kafka.topics}&quot;)\r\n    public void listen(ConsumerRecord&lt;?, ?&gt; record, Acknowledgment ack) {\r\n        System.out.println(record);\r\n    } \r\n\r\n\r\napplication.yaml \r\n\r\n    application:\r\n       kafka:\r\n         topics: topic1, topic2","title":"How do I configure a KafkaListener to Listen to multiple comma separated topic configured in my properties file?","body":"<p>Anyone know how do I configure a KafkaListener with multiple topics? Any help would be appreciated.</p>\n<p>My Java Code,</p>\n<pre><code>@KafkaListener(topics = &quot;${application.kafka.topics}&quot;)\npublic void listen(ConsumerRecord&lt;?, ?&gt; record, Acknowledgment ack) {\n    System.out.println(record);\n} \n</code></pre>\n<p>application.yaml</p>\n<pre><code>application:\n   kafka:\n     topics: topic1, topic2\n</code></pre>\n"},{"tags":["java","java-stream"],"comments":[{"owner":{"account_id":9727861,"reputation":2565,"user_id":7214091,"display_name":"Gast&#243;n Schabas"},"score":2,"creation_date":1683410924,"post_id":76191366,"comment_id":134363347,"body_markdown":"I think with `groupingBy` you can solve your task. Check the article [Guide to Java 8 groupingBy](https://www.baeldung.com/java-groupingby-collector#10-aggregating-multiple-attributes-of-a-grouped-result)","body":"I think with <code>groupingBy</code> you can solve your task. Check the article <a href=\"https://www.baeldung.com/java-groupingby-collector#10-aggregating-multiple-attributes-of-a-grouped-result\" rel=\"nofollow noreferrer\">Guide to Java 8 groupingBy</a>"},{"owner":{"account_id":957259,"reputation":29625,"user_id":982341,"display_name":"GreyBeardedGeek"},"score":2,"creation_date":1683411050,"post_id":76191366,"comment_id":134363365,"body_markdown":"Also consider stream.reduce in addition to groupingBy","body":"Also consider stream.reduce in addition to groupingBy"}],"answers":[{"comments":[{"owner":{"account_id":446597,"reputation":22464,"user_id":839733,"accept_rate":69,"display_name":"Abhijit Sarkar"},"score":1,"creation_date":1683426965,"post_id":76191629,"comment_id":134364484,"body_markdown":"Seems overkill, no?","body":"Seems overkill, no?"},{"owner":{"account_id":4228398,"reputation":17727,"user_id":3461397,"display_name":"Oleg Cherednik"},"score":0,"creation_date":1683453872,"post_id":76191629,"comment_id":134366499,"body_markdown":"Yep. I prefer not using Stream in this case.","body":"Yep. I prefer not using Stream in this case."}],"tags":[],"owner":{"account_id":4228398,"reputation":17727,"user_id":3461397,"display_name":"Oleg Cherednik"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1683416249,"creation_date":1683416249,"answer_id":76191629,"question_id":76191366,"body_markdown":"You can write your own `Collector`:\r\n\r\n```java\r\npublic static Map&lt;Product, Total&gt; calc(List&lt;Result&gt; results) {\r\n    return results.stream().collect(Collectors.groupingBy(\r\n            result -&gt; new Product(result.getCode(), result.getDescription()),\r\n            Collectors.mapping(Result::getValue, new Collector&lt;Duration, Total, Total&gt;() {\r\n                @Override\r\n                public Supplier&lt;Total&gt; supplier() {\r\n                    return () -&gt; new Total(Duration.ZERO, 0);\r\n                }\r\n\r\n                @Override\r\n                public BiConsumer&lt;Total, Duration&gt; accumulator() {\r\n                    return (total, duration) -&gt; {\r\n                        total.setTotal(total.getTotal().plus(duration));\r\n                        total.setCount(total.getCount() + 1);\r\n                    };\r\n                }\r\n\r\n                @Override\r\n                public BinaryOperator&lt;Total&gt; combiner() {\r\n                    return (one, two) -&gt; new Total(one.getTotal().plus(two.getTotal()),\r\n                                                   one.getCount() + two.getCount());\r\n                }\r\n\r\n                @Override\r\n                public Function&lt;Total, Total&gt; finisher() {\r\n                    return Function.identity();\r\n                }\r\n\r\n                @Override\r\n                public Set&lt;Characteristics&gt; characteristics() {\r\n                    return Set.of(Characteristics.UNORDERED);\r\n                }\r\n            })));\r\n}\r\n```","title":"Java Stream collectors: how to create total with counting","body":"<p>You can write your own <code>Collector</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static Map&lt;Product, Total&gt; calc(List&lt;Result&gt; results) {\n    return results.stream().collect(Collectors.groupingBy(\n            result -&gt; new Product(result.getCode(), result.getDescription()),\n            Collectors.mapping(Result::getValue, new Collector&lt;Duration, Total, Total&gt;() {\n                @Override\n                public Supplier&lt;Total&gt; supplier() {\n                    return () -&gt; new Total(Duration.ZERO, 0);\n                }\n\n                @Override\n                public BiConsumer&lt;Total, Duration&gt; accumulator() {\n                    return (total, duration) -&gt; {\n                        total.setTotal(total.getTotal().plus(duration));\n                        total.setCount(total.getCount() + 1);\n                    };\n                }\n\n                @Override\n                public BinaryOperator&lt;Total&gt; combiner() {\n                    return (one, two) -&gt; new Total(one.getTotal().plus(two.getTotal()),\n                                                   one.getCount() + two.getCount());\n                }\n\n                @Override\n                public Function&lt;Total, Total&gt; finisher() {\n                    return Function.identity();\n                }\n\n                @Override\n                public Set&lt;Characteristics&gt; characteristics() {\n                    return Set.of(Characteristics.UNORDERED);\n                }\n            })));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14587108,"reputation":155,"user_id":10535520,"display_name":"Stone"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683426536,"creation_date":1683426536,"answer_id":76191967,"question_id":76191366,"body_markdown":"You could try this way.\r\n\r\n            Map&lt;Product, Total&gt; ans = results.stream().collect(groupingBy(r -&gt; new Product(r.code, r.description), collectingAndThen(toList(), list -&gt; {\r\n            long count = list.size();\r\n            Duration total = list.stream().map(r -&gt; r.value).reduce((o1, o2) -&gt; o1.plus(o2)).get();\r\n            return new Total(total, count);\r\n        })));","title":"Java Stream collectors: how to create total with counting","body":"<p>You could try this way.</p>\n<pre><code>        Map&lt;Product, Total&gt; ans = results.stream().collect(groupingBy(r -&gt; new Product(r.code, r.description), collectingAndThen(toList(), list -&gt; {\n        long count = list.size();\n        Duration total = list.stream().map(r -&gt; r.value).reduce((o1, o2) -&gt; o1.plus(o2)).get();\n        return new Total(total, count);\n    })));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8467230,"reputation":459,"user_id":6351048,"display_name":"Nipuna Jayawardana"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683427215,"creation_date":1683427215,"answer_id":76191978,"question_id":76191366,"body_markdown":"you can do it like this\r\n\r\n    Map&lt;Product, Total&gt; result = resultList.stream()\r\n    .collect(Collectors.groupingBy(\r\n        r -&gt; new Product(r.getCode(), r.getDescription()),\r\n        Collectors.reducing(\r\n            new Total(Duration.ZERO, 0),\r\n            r -&gt; new Total(r.getDuration(), 1),\r\n            (t1, t2) -&gt; new Total(t1.getDuration().plus(t2.getDuration()), t1.getCount() + t2.getCount())\r\n        )\r\n    ));\r\n","title":"Java Stream collectors: how to create total with counting","body":"<p>you can do it like this</p>\n<pre><code>Map&lt;Product, Total&gt; result = resultList.stream()\n.collect(Collectors.groupingBy(\n    r -&gt; new Product(r.getCode(), r.getDescription()),\n    Collectors.reducing(\n        new Total(Duration.ZERO, 0),\n        r -&gt; new Total(r.getDuration(), 1),\n        (t1, t2) -&gt; new Total(t1.getDuration().plus(t2.getDuration()), t1.getCount() + t2.getCount())\n    )\n));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1683536228,"creation_date":1683536228,"answer_id":76198992,"question_id":76191366,"body_markdown":"Your approach is working and formally correct, but it is wasteful to collect all elements into `List`s, just to perform another Reduction afterwards. Perform the Reduction in the first place:\r\n\r\n```java\r\nMap&lt;Product, Total&gt; map = results.stream()\r\n  .collect(Collectors.groupingBy(r -&gt; new Product(r.getCode(), r.getDescription()),\r\n        Collectors.teeing(\r\n            Collectors.reducing(Duration.ZERO, Result::getValue, Duration::plus),\r\n            Collectors.counting(),\r\n            Total::new)));\r\n```\r\n","title":"Java Stream collectors: how to create total with counting","body":"<p>Your approach is working and formally correct, but it is wasteful to collect all elements into <code>List</code>s, just to perform another Reduction afterwards. Perform the Reduction in the first place:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;Product, Total&gt; map = results.stream()\n  .collect(Collectors.groupingBy(r -&gt; new Product(r.getCode(), r.getDescription()),\n        Collectors.teeing(\n            Collectors.reducing(Duration.ZERO, Result::getValue, Duration::plus),\n            Collectors.counting(),\n            Total::new)));\n</code></pre>\n"}],"owner":{"account_id":633896,"reputation":3552,"user_id":399637,"accept_rate":90,"display_name":"res1"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":128,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76198992,"answer_count":4,"score":0,"last_activity_date":1683536228,"creation_date":1683410650,"question_id":76191366,"body_markdown":"I have a list of objects of class `Result` defined as:\r\n```java\r\nclass Result {\r\n    String code;\r\n    String description;\r\n    Duration value;\r\n}\r\n```\r\nand these two classes:\r\n```java\r\nclass Product {\r\n    String code;\r\n    String description;\r\n}\r\n```\r\n----------------\r\n```java\r\nclass Total {\r\n    Duration total;\r\n    long count;\r\n}\r\n```\r\nGiven the `List&lt;Result&gt;` I have to generate a `Map&lt;Product, Total&gt;` where in total I have the sum of every value in `Result` that has the same `code` and `description` (this is key) and as count how many result with this key is present in the list of results.\r\n\r\nFor creating the total sum I consider to use `plus(Duration)` of `Duration`.\r\n\r\nHow can I do this?  \r\nThanks for the help.\r\n\r\n##### UPDATE:\r\n\r\nFrom the comments hints I was able to do this:  \r\n(Can someone tell me if it can be correct?)\r\n```java\r\nMap &lt;Product, Total&gt; map = results.stream()\r\n                                  .collect(Collectors.groupingBy(p -&gt; new Product(p.getCode(), p.getDescription()),\r\n    Collectors.collectingAndThen(Collectors.toList(), list -&gt; {\r\n        Duration total = list.stream().map(Result::getValue).reduce(Duration.ZERO, Duration::plus);\r\n        long count = list.size();\r\n        return new Total(total, count);\r\n    })));","title":"Java Stream collectors: how to create total with counting","body":"<p>I have a list of objects of class <code>Result</code> defined as:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Result {\n    String code;\n    String description;\n    Duration value;\n}\n</code></pre>\n<p>and these two classes:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Product {\n    String code;\n    String description;\n}\n</code></pre>\n<hr />\n<pre class=\"lang-java prettyprint-override\"><code>class Total {\n    Duration total;\n    long count;\n}\n</code></pre>\n<p>Given the <code>List&lt;Result&gt;</code> I have to generate a <code>Map&lt;Product, Total&gt;</code> where in total I have the sum of every value in <code>Result</code> that has the same <code>code</code> and <code>description</code> (this is key) and as count how many result with this key is present in the list of results.</p>\n<p>For creating the total sum I consider to use <code>plus(Duration)</code> of <code>Duration</code>.</p>\n<p>How can I do this?<br />\nThanks for the help.</p>\n<h5>UPDATE:</h5>\n<p>From the comments hints I was able to do this:<br />\n(Can someone tell me if it can be correct?)</p>\n<pre class=\"lang-java prettyprint-override\"><code>Map &lt;Product, Total&gt; map = results.stream()\n                                  .collect(Collectors.groupingBy(p -&gt; new Product(p.getCode(), p.getDescription()),\n    Collectors.collectingAndThen(Collectors.toList(), list -&gt; {\n        Duration total = list.stream().map(Result::getValue).reduce(Duration.ZERO, Duration::plus);\n        long count = list.size();\n        return new Total(total, count);\n    })));\n</code></pre>\n"},{"tags":["java","collections","interface","iterator","implements"],"answers":[{"comments":[{"owner":{"account_id":17933974,"reputation":25,"user_id":13030693,"display_name":"Anand Pandey"},"score":0,"creation_date":1683298778,"post_id":76183127,"comment_id":134350259,"body_markdown":"Hii,Thanks for your answer altough i am talking about &#39;Iterator&#39; interface not &#39;Iterable&#39; Interface ,in Interface &#39;Iterable &#39; there is one method &#39;iterator()&#39; whose declaration looks like following- &quot; Iterator&lt;T&gt; iterator() &quot; and this method is implemented by AbstractList class, since it provided implementation to &#39;iterator()&#39; method which means that it must have implemented Interface &#39;Iterator&lt;T&gt;&#39; because return type of method is  Interface &#39;Iterator&lt;T&gt;&#39; but AbstractList class doesnot &#39;implements&#39; Interface Iterator&lt;T&gt; ?","body":"Hii,Thanks for your answer altough i am talking about &#39;Iterator&#39; interface not &#39;Iterable&#39; Interface ,in Interface &#39;Iterable &#39; there is one method &#39;iterator()&#39; whose declaration looks like following- &quot; Iterator&lt;T&gt; iterator() &quot; and this method is implemented by AbstractList class, since it provided implementation to &#39;iterator()&#39; method which means that it must have implemented Interface &#39;Iterator&lt;T&gt;&#39; because return type of method is  Interface &#39;Iterator&lt;T&gt;&#39; but AbstractList class doesnot &#39;implements&#39; Interface Iterator&lt;T&gt; ?"},{"owner":{"account_id":388928,"reputation":2941,"user_id":3692110,"display_name":"erosb"},"score":0,"creation_date":1683299194,"post_id":76183127,"comment_id":134350390,"body_markdown":"AbstractList does not implement Iterator. It implements Iterable. Which means it has an iterator() method which returns an Iterator. But the returned Iterator itself is not the ArrayList instance, but a custom iterator.","body":"AbstractList does not implement Iterator. It implements Iterable. Which means it has an iterator() method which returns an Iterator. But the returned Iterator itself is not the ArrayList instance, but a custom iterator."}],"tags":[],"owner":{"account_id":388928,"reputation":2941,"user_id":3692110,"display_name":"erosb"},"comment_count":2,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1683296007,"creation_date":1683296007,"answer_id":76183127,"question_id":76183076,"body_markdown":"&gt; so a class needs to implement it using a &#39;implements&#39; keyword but here the &#39;AbstractList&#39; class(abstract) implements it without using the &#39;implements&#39; keyword?\r\n\r\n\r\n\r\nThe `AbstractList` does not have to explicitly implement `Iterable`, because its superclass is `AbstractCollection`, which implements the `Collection` interface. The `Collection` interface extends  `Iterable`, so (transitively) `AbstractList` and `ArrayList` both implement `Iterable`.\r\n\r\nIn other words we can say that a class implements an interface if\r\n * any of its parent classes implement the interface\r\n * or any of its implemented interfaces extend the interface in question\r\n * (or the class itself directly implements the interface - trivial case)","title":"How can AbstractList class provide an implementation of the &#39;Iterator&lt;E&gt;&#39; Interface if it doesnot implements the Interface &#39;Iterator&lt;E&gt;&#39;?","body":"<blockquote>\n<p>so a class needs to implement it using a 'implements' keyword but here the 'AbstractList' class(abstract) implements it without using the 'implements' keyword?</p>\n</blockquote>\n<p>The <code>AbstractList</code> does not have to explicitly implement <code>Iterable</code>, because its superclass is <code>AbstractCollection</code>, which implements the <code>Collection</code> interface. The <code>Collection</code> interface extends  <code>Iterable</code>, so (transitively) <code>AbstractList</code> and <code>ArrayList</code> both implement <code>Iterable</code>.</p>\n<p>In other words we can say that a class implements an interface if</p>\n<ul>\n<li>any of its parent classes implement the interface</li>\n<li>or any of its implemented interfaces extend the interface in question</li>\n<li>(or the class itself directly implements the interface - trivial case)</li>\n</ul>\n"},{"comments":[{"owner":{"account_id":17933974,"reputation":25,"user_id":13030693,"display_name":"Anand Pandey"},"score":0,"creation_date":1683302850,"post_id":76183565,"comment_id":134351245,"body_markdown":"Thanks a TON for your response!!Just wanted to confirm one thing ,this sort of implementation of an interface is an example of implementation of interface using anonymus inner class? it may sound very silly but i am very new to Java so i need some help.","body":"Thanks a TON for your response!!Just wanted to confirm one thing ,this sort of implementation of an interface is an example of implementation of interface using anonymus inner class? it may sound very silly but i am very new to Java so i need some help."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1683534910,"post_id":76183565,"comment_id":134375983,"body_markdown":"“*without implementing that interface*” is a misleading phrase. The anonymous inner class *does* implement the interface, just without the “`implements`” keyword. Besides anonymous inner classes or lambda expressions/method references, an interface could also be implemented by implementing another interface that `extends` the former or by using [`Proxy`](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/reflect/Proxy.html) There might be more possibilities…","body":"“<i>without implementing that interface</i>” is a misleading phrase. The anonymous inner class <i>does</i> implement the interface, just without the “<code>implements</code>” keyword. Besides anonymous inner classes or lambda expressions/method references, an interface could also be implemented by implementing another interface that <code>extends</code> the former or by using <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/reflect/Proxy.html\" rel=\"nofollow noreferrer\"><code>Proxy</code></a> There might be more possibilities…"},{"owner":{"account_id":2577707,"reputation":2286,"user_id":2235015,"display_name":"Florian Albrecht"},"score":0,"creation_date":1683536019,"post_id":76183565,"comment_id":134376203,"body_markdown":"@Holger you are absolutely right, I detailed that sentence a bit. And yes, there are lots of other options what could be done, but I think that would be a little bit of an overload here :-)","body":"@Holger you are absolutely right, I detailed that sentence a bit. And yes, there are lots of other options what could be done, but I think that would be a little bit of an overload here :-)"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1683536977,"post_id":76183565,"comment_id":134376406,"body_markdown":"Maybe rephrase “*without having the class itself implementing that interface*” to “*without an explicit `implements` clause for the interface*”","body":"Maybe rephrase “<i>without having the class itself implementing that interface</i>” to “<i>without an explicit <code>implements</code> clause for the interface</i>”"}],"tags":[],"owner":{"account_id":2577707,"reputation":2286,"user_id":2235015,"display_name":"Florian Albrecht"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1683535952,"creation_date":1683298939,"answer_id":76183565,"question_id":76183076,"body_markdown":"Well, that is not very Collections specific. Any class can, of course, provide an implementation for X without having the class itself implementing that interface:\r\n\r\n    public interface X {\r\n      int getSize();\r\n    }\r\n\r\n    public class A {\r\n    \r\n      private List&lt;String&gt; internalList = new ArrayList&lt;&gt;();\r\n    \r\n      // ...      \r\n\r\n      public X x() {\r\n        return new X() {\r\n          public int getSize() {\r\n            return A.this.internalList.size();\r\n          }\r\n        };\r\n      }\r\n    }\r\n\r\n(Example could be shortened using Lambdas, and `A.this` also is not explicitly required, but to increase understandibility).\r\n\r\n`AbstractList` does more or less the same: Its `iterator()` method returns an `Iterator` implementation **using methods of the AbstractList** to implement the methods from the `Iterator` interface.\r\n\r\nMore Collections-specific information: `AbstractList` **must not** implement the `Iterator` interface, as an `Iterator` is a stateful object which can be used to iterate over an arbitrary list of elements - once. As soon as it is at the end (i.e., `hasNext()` returns `false`), it cannot be used again. So, any `List` directly implementing the `Iterator` interface could only be iterated once.\r\n\r\nThat&#39;s why each call to `iterator()` on an `AbstractList` **returns a new object** - with a new state for iterating the list from the beginning to the end.","title":"How can AbstractList class provide an implementation of the &#39;Iterator&lt;E&gt;&#39; Interface if it doesnot implements the Interface &#39;Iterator&lt;E&gt;&#39;?","body":"<p>Well, that is not very Collections specific. Any class can, of course, provide an implementation for X without having the class itself implementing that interface:</p>\n<pre><code>public interface X {\n  int getSize();\n}\n\npublic class A {\n\n  private List&lt;String&gt; internalList = new ArrayList&lt;&gt;();\n\n  // ...      \n\n  public X x() {\n    return new X() {\n      public int getSize() {\n        return A.this.internalList.size();\n      }\n    };\n  }\n}\n</code></pre>\n<p>(Example could be shortened using Lambdas, and <code>A.this</code> also is not explicitly required, but to increase understandibility).</p>\n<p><code>AbstractList</code> does more or less the same: Its <code>iterator()</code> method returns an <code>Iterator</code> implementation <strong>using methods of the AbstractList</strong> to implement the methods from the <code>Iterator</code> interface.</p>\n<p>More Collections-specific information: <code>AbstractList</code> <strong>must not</strong> implement the <code>Iterator</code> interface, as an <code>Iterator</code> is a stateful object which can be used to iterate over an arbitrary list of elements - once. As soon as it is at the end (i.e., <code>hasNext()</code> returns <code>false</code>), it cannot be used again. So, any <code>List</code> directly implementing the <code>Iterator</code> interface could only be iterated once.</p>\n<p>That's why each call to <code>iterator()</code> on an <code>AbstractList</code> <strong>returns a new object</strong> - with a new state for iterating the list from the beginning to the end.</p>\n"}],"owner":{"account_id":17933974,"reputation":25,"user_id":13030693,"display_name":"Anand Pandey"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76183565,"answer_count":2,"score":0,"last_activity_date":1683535952,"creation_date":1683295691,"question_id":76183076,"body_markdown":"I am very new to Java collection framework,pardon me if this question sounds silly.\r\n\r\nthere is one method &#39;iterator()&#39; specified in &#39;Iterable &lt;T&gt;&#39; Interface which returns an &#39;Iterator &lt;E&gt;&#39; over elements of type E now AbstractList &lt;E&gt; (abstract class) provided an implementation to this method and returns an &#39;Iterator&lt;E&gt;&#39; so my question is how can it can return an &#39;Iterator&lt;E&gt;&#39;   without implementing interface &#39;Iterator&lt;E&gt;&#39;?\r\n\r\nReferences :\r\n\r\nArrayList :\r\nhttps://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/ArrayList.html#iterator()\r\n\r\nAbstractList:\r\nhttps://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/AbstractList.html#iterator()\r\n\r\nIterable:\r\nhttps://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Iterable.html#iterator()\r\n\r\nIterator:\r\nhttps://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Iterator.html\r\n\r\nMy understanding:\r\n\r\nas we know functional interfaces can be implemented without using &#39;implements&#39; keyword i.e by the means of anonymous class and lambda Expression but the &#39;Iterator&#39; Interface is not a functional interface so a class needs to implement it using a &#39;implements&#39; keyword but here the &#39;AbstractList&#39; class(abstract) implements it without using the &#39;implements&#39; keyword?\r\n\r\nNote that i am talking about &#39;Iterator&#39; interface not &#39;Iterable&#39; Interface ,in Interface &#39;Iterable &#39; there is one method &#39;iterator()&#39;\r\nwhose declaration looks like following- &quot; Iterator&lt;T&gt; iterator() &quot; and this method is implemented by AbstractList class, since it provided implementation to &#39;iterator()&#39; method which means that it must have implemented Interface &#39;Iterator&lt;T&gt;&#39; because return type of method is &#39;Iterator&lt;T&gt;&#39; but AbstractList class doesnot &#39;implements&#39; Interface Iterator&lt;T&gt; ? ","title":"How can AbstractList class provide an implementation of the &#39;Iterator&lt;E&gt;&#39; Interface if it doesnot implements the Interface &#39;Iterator&lt;E&gt;&#39;?","body":"<p>I am very new to Java collection framework,pardon me if this question sounds silly.</p>\n<p>there is one method 'iterator()' specified in 'Iterable ' Interface which returns an 'Iterator ' over elements of type E now AbstractList  (abstract class) provided an implementation to this method and returns an 'Iterator' so my question is how can it can return an 'Iterator'   without implementing interface 'Iterator'?</p>\n<p>References :</p>\n<p>ArrayList :\n<a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/ArrayList.html#iterator()\" rel=\"nofollow noreferrer\">https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/ArrayList.html#iterator()</a></p>\n<p>AbstractList:\n<a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/AbstractList.html#iterator()\" rel=\"nofollow noreferrer\">https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/AbstractList.html#iterator()</a></p>\n<p>Iterable:\n<a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Iterable.html#iterator()\" rel=\"nofollow noreferrer\">https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Iterable.html#iterator()</a></p>\n<p>Iterator:\n<a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Iterator.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Iterator.html</a></p>\n<p>My understanding:</p>\n<p>as we know functional interfaces can be implemented without using 'implements' keyword i.e by the means of anonymous class and lambda Expression but the 'Iterator' Interface is not a functional interface so a class needs to implement it using a 'implements' keyword but here the 'AbstractList' class(abstract) implements it without using the 'implements' keyword?</p>\n<p>Note that i am talking about 'Iterator' interface not 'Iterable' Interface ,in Interface 'Iterable ' there is one method 'iterator()'\nwhose declaration looks like following- &quot; Iterator iterator() &quot; and this method is implemented by AbstractList class, since it provided implementation to 'iterator()' method which means that it must have implemented Interface 'Iterator' because return type of method is 'Iterator' but AbstractList class doesnot 'implements' Interface Iterator ?</p>\n"},{"tags":["java","oop","methods","fractions"],"comments":[{"owner":{"account_id":357454,"reputation":77335,"user_id":697630,"accept_rate":84,"display_name":"Edwin Dalorzo"},"score":1,"creation_date":1664884607,"post_id":73947113,"comment_id":130567782,"body_markdown":"I believe you need to find the greatest common divisor (gcd) of both the numerator and denominator and use that number to divide both of them. See the [Euclidean Algorithm](https://en.wikipedia.org/wiki/Euclidean_algorithm#Implementations). Also, `simplify` is something that can probably occur in the `Fraction` class constructor, instead of your `Calculator`. Using that same logic, multiply a Fraction by another is something I would put in the `Fraction` class itself, e.g. in an instance method `Fraction.multiply(Fraction)`.","body":"I believe you need to find the greatest common divisor (gcd) of both the numerator and denominator and use that number to divide both of them. See the <a href=\"https://en.wikipedia.org/wiki/Euclidean_algorithm#Implementations\" rel=\"nofollow noreferrer\">Euclidean Algorithm</a>. Also, <code>simplify</code> is something that can probably occur in the <code>Fraction</code> class constructor, instead of your <code>Calculator</code>. Using that same logic, multiply a Fraction by another is something I would put in the <code>Fraction</code> class itself, e.g. in an instance method <code>Fraction.multiply(Fraction)</code>."}],"answers":[{"tags":[],"owner":{"account_id":329814,"reputation":11000,"user_id":653539,"accept_rate":50,"display_name":"Tom&#225;š Z&#225;lusk&#253;"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1664884872,"creation_date":1664884872,"answer_id":73947556,"question_id":73947113,"body_markdown":"As Edwin commented you want algorithm for greatest common divisor. However to answer your question, you got unexpected result because the newly computed variables `num` and `denom` at the line with `num = num / i` are not stored back into `Fraction f`.\r\n\r\nEither (worse option) call `f.setNum(num); f.setDenom(denom)` or (better) change `Fraction` to immutable class and return new `Fraction` from `simplify` method.","title":"Algorithm for the greatest common denominator","body":"<p>As Edwin commented you want algorithm for greatest common divisor. However to answer your question, you got unexpected result because the newly computed variables <code>num</code> and <code>denom</code> at the line with <code>num = num / i</code> are not stored back into <code>Fraction f</code>.</p>\n<p>Either (worse option) call <code>f.setNum(num); f.setDenom(denom)</code> or (better) change <code>Fraction</code> to immutable class and return new <code>Fraction</code> from <code>simplify</code> method.</p>\n"}],"owner":{"account_id":24292612,"reputation":39,"user_id":18237344,"display_name":"blulow"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":92,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73947556,"answer_count":1,"score":1,"last_activity_date":1683535233,"creation_date":1664882458,"question_id":73947113,"body_markdown":"I have a class `Calculator` which aggregates instances of a class `Fraction` as its attributes.\r\n\r\n*Class `Fraction` has attributes `num` for numerator and `denom` for denominator.*\r\n\r\nHere is a snippet of the code with `multiply` and `simplify` (to get a fraction in its lowest terms) methods. \r\n\r\n```java\r\npublic class Calculator {\r\n\tprivate Fraction f1 = new Fraction(4, 9);\r\n\tprivate Fraction f2 = new Fraction(3, 8);\r\n\r\n\tpublic void multiply() throws Exception {\r\n\t\tint num = f1.getNum() * f2.getNum();\r\n\t\tint denom = f1.getDenom() * f2.getDenom();\r\n\t\tFraction f = new Fraction(num, denom);\r\n\t\tsimplify(f);\r\n\t\tSystem.out.print(f);\r\n\t}\r\n\r\n  private void simplify(Fraction f) throws Exception {\r\n\t    int num = f.getNum();\r\n\t    int denom = f.getDenom();\r\n\t\tfor (int i = num; i &gt; 0; i--) {\r\n\t\t\tif ((num % i == 0) &amp;&amp; (denom % i == 0)) {\r\n\t\t\t\tnum = num / i;\r\n\t\t\t    denom = denom / i;\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n```\r\nHowever, I get 12/72 as a result of multiplication while I should get 1/6.\r\nHow can I change the code so that `simplify` method works when invoked in `multiply`? ","title":"Algorithm for the greatest common denominator","body":"<p>I have a class <code>Calculator</code> which aggregates instances of a class <code>Fraction</code> as its attributes.</p>\n<p><em>Class <code>Fraction</code> has attributes <code>num</code> for numerator and <code>denom</code> for denominator.</em></p>\n<p>Here is a snippet of the code with <code>multiply</code> and <code>simplify</code> (to get a fraction in its lowest terms) methods.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Calculator {\n    private Fraction f1 = new Fraction(4, 9);\n    private Fraction f2 = new Fraction(3, 8);\n\n    public void multiply() throws Exception {\n        int num = f1.getNum() * f2.getNum();\n        int denom = f1.getDenom() * f2.getDenom();\n        Fraction f = new Fraction(num, denom);\n        simplify(f);\n        System.out.print(f);\n    }\n\n  private void simplify(Fraction f) throws Exception {\n        int num = f.getNum();\n        int denom = f.getDenom();\n        for (int i = num; i &gt; 0; i--) {\n            if ((num % i == 0) &amp;&amp; (denom % i == 0)) {\n                num = num / i;\n                denom = denom / i;\n                break;\n            }\n        }\n    }\n</code></pre>\n<p>However, I get 12/72 as a result of multiplication while I should get 1/6.\nHow can I change the code so that <code>simplify</code> method works when invoked in <code>multiply</code>?</p>\n"},{"tags":["java","class","methods","aggregation"],"comments":[{"owner":{"account_id":6074897,"reputation":2892,"user_id":4742570,"display_name":"jsheeran"},"score":1,"creation_date":1665747276,"post_id":74068529,"comment_id":130775718,"body_markdown":"Rather than &quot;it does not work&quot;, please give detail of expected and actual results. Aside: if a value of zero is passed to `Fraction()` as a denominator, it would make more sense to throw an `IllegalArgumentException` or `DivisionByZeroException` than to set it to 1.","body":"Rather than &quot;it does not work&quot;, please give detail of expected and actual results. Aside: if a value of zero is passed to <code>Fraction()</code> as a denominator, it would make more sense to throw an <code>IllegalArgumentException</code> or <code>DivisionByZeroException</code> than to set it to 1."},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1665749723,"post_id":74068529,"comment_id":130776468,"body_markdown":"Your code is missing method `simplifyFraction`.","body":"Your code is missing method <code>simplifyFraction</code>."},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":1,"creation_date":1665750238,"post_id":74068529,"comment_id":130776637,"body_markdown":"I&#39;m guessing this is homework and that one of the requirements is that class `Calculator` have two member variables of type `Fraction`. Because if that is not the case, then I would make method `add` (in class `Calculator`) a static method that takes two `Fraction` parameters that are the operands for the &quot;add&quot; operation and the method would return a `Fraction` which is the result of the &quot;add&quot; operation. So must class `Calculator` have members `f1` and `f2`?","body":"I&#39;m guessing this is homework and that one of the requirements is that class <code>Calculator</code> have two member variables of type <code>Fraction</code>. Because if that is not the case, then I would make method <code>add</code> (in class <code>Calculator</code>) a static method that takes two <code>Fraction</code> parameters that are the operands for the &quot;add&quot; operation and the method would return a <code>Fraction</code> which is the result of the &quot;add&quot; operation. So must class <code>Calculator</code> have members <code>f1</code> and <code>f2</code>?"}],"answers":[{"tags":[],"owner":{"account_id":26495067,"reputation":34,"user_id":20132955,"display_name":"OCEAN OESTREICHER"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1665773812,"creation_date":1665773812,"answer_id":74073709,"question_id":74068529,"body_markdown":"Your add method is the problem here. It is returning a Calculator object and println calls that object&#39;s toString method so the toString method for Calculator is being called. The add method should not return a new Calculator but instead a new Fraction that represents your result. Then the code will print the toString method in your Fraction class which is what you want to display.\r\n\r\n```\r\npublic class Calculator {\r\n.\r\n.\r\n.\r\n   public Fraction add() {\r\n          return f1.add(f2);\r\n   }\r\n}\r\n```","title":"How to aggregate methods from another class in Java?","body":"<p>Your add method is the problem here. It is returning a Calculator object and println calls that object's toString method so the toString method for Calculator is being called. The add method should not return a new Calculator but instead a new Fraction that represents your result. Then the code will print the toString method in your Fraction class which is what you want to display.</p>\n<pre><code>public class Calculator {\n.\n.\n.\n   public Fraction add() {\n          return f1.add(f2);\n   }\n}\n</code></pre>\n"}],"owner":{"account_id":24292612,"reputation":39,"user_id":18237344,"display_name":"blulow"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":288,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74073709,"answer_count":1,"score":0,"last_activity_date":1683535054,"creation_date":1665746901,"question_id":74068529,"body_markdown":"I have a class `Fraction` with the arithmetic operations for fractions. Here is an abstract of my class `Fraction`. (I&#39;ve included only method of addition.)\r\n```java\r\npackage com.company;\r\n\r\nimport java.util.Scanner;\r\n\r\npublic class Fraction {\r\n    private int num; // numerator\r\n    private int denom; // denominator\r\n\r\n    public Fraction() {\r\n        super();\r\n    }\r\n\r\n    public Fraction(int num, int denom) {\r\n        super();\r\n        this.num = num;\r\n        this.denom = denom;\r\n        if (denom == 0) {\r\n            this.denom = 1;\r\n        }\r\n    }\r\n\r\n    public int getNum() {\r\n        return num;\r\n    }\r\n\r\n    public void setNum(int num) {\r\n        this.num = num;\r\n    }\r\n\r\n    public int getDenom() {\r\n        return denom;\r\n    }\r\n\r\n    public void setDenom(int denom) {\r\n        if (denom &gt; 0) {\r\n            this.denom = denom;\r\n        }\r\n    }\r\n\r\n    public void inputFraction() {\r\n        Scanner innum = new Scanner(System.in);\r\n        System.out.println(&quot;Input numerator: &quot;);\r\n        num = innum.nextInt();\r\n\r\n        Scanner indenom = new Scanner(System.in);\r\n        System.out.println(&quot;Input denominator: &quot;);\r\n        denom = indenom.nextInt();\r\n    }\r\n\r\n    public String toString() {\r\n        return num + &quot;/&quot; + denom;\r\n    }\r\n\r\n    // addition\r\n    public Fraction add(Fraction f2) {\r\n        int num2 = f2.getNum();\r\n        int denom2 = f2.getDenom();\r\n        int num3 = (num * denom2) + (num2 * denom);\r\n        int denom3 = denom * denom2;\r\n        Fraction f3 = new Fraction(num3, denom3);\r\n        f3.simplifyFraction();\r\n        return f3;\r\n    }\r\n}\r\n```\r\nNow my second task is to make a class `Calculator`, which aggregates two instances of class `Fraction` as its attributes and create a complete set of arithmetic operations using instances of the class `Fraction` as operands. So, if I am correct, I basically have to use those methods from the class `Fraction` in my `Calculator`. I&#39;ve attempted to do that but I do not get any output when I call for method `add` (from class `Calculator`) in `main()`.\r\n\r\nHere is an abstract of my `Calculator` class. (I&#39;ve included only method of addition to give the general idea.)\r\n\r\n```java\r\npackage com.company;\r\n\r\npublic class Calculator {\r\n    private Fraction f1 = new Fraction();\r\n    private Fraction f2 = new Fraction();\r\n    private Fraction f;\r\n\r\n    public Calculator() {\r\n        super();\r\n    }\r\n\r\n    public Calculator(Fraction f) {\r\n        this.f = f;\r\n    }\r\n\r\n    public void input() {\r\n        f1.inputFraction();\r\n        f2.inputFraction();\r\n    }\r\n\r\n    public void view() {\r\n        f1.toString();\r\n        System.out.println(&quot;Fraction = &quot; + f1.toString());\r\n        f2.toString();\r\n        System.out.println(&quot;Fraction = &quot; + f2.toString());\r\n    }\r\n\r\n    public Calculator add() {\r\n        Calculator f = new Calculator(f1.add(f2));\r\n        return f;\r\n    }\r\n}\r\n```\r\nAnd part of my `main()`:\r\n\r\n```java\r\nCalculator m = new Calculator();\r\nm.input();\r\nm.view();\r\nSystem.out.println(&quot;Sum = &quot; + m.add());\r\n```\r\nI&#39;m assuming there are multiple places where I have gone wrong, so I&#39;d be grateful for some advice.\r\n","title":"How to aggregate methods from another class in Java?","body":"<p>I have a class <code>Fraction</code> with the arithmetic operations for fractions. Here is an abstract of my class <code>Fraction</code>. (I've included only method of addition.)</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.company;\n\nimport java.util.Scanner;\n\npublic class Fraction {\n    private int num; // numerator\n    private int denom; // denominator\n\n    public Fraction() {\n        super();\n    }\n\n    public Fraction(int num, int denom) {\n        super();\n        this.num = num;\n        this.denom = denom;\n        if (denom == 0) {\n            this.denom = 1;\n        }\n    }\n\n    public int getNum() {\n        return num;\n    }\n\n    public void setNum(int num) {\n        this.num = num;\n    }\n\n    public int getDenom() {\n        return denom;\n    }\n\n    public void setDenom(int denom) {\n        if (denom &gt; 0) {\n            this.denom = denom;\n        }\n    }\n\n    public void inputFraction() {\n        Scanner innum = new Scanner(System.in);\n        System.out.println(&quot;Input numerator: &quot;);\n        num = innum.nextInt();\n\n        Scanner indenom = new Scanner(System.in);\n        System.out.println(&quot;Input denominator: &quot;);\n        denom = indenom.nextInt();\n    }\n\n    public String toString() {\n        return num + &quot;/&quot; + denom;\n    }\n\n    // addition\n    public Fraction add(Fraction f2) {\n        int num2 = f2.getNum();\n        int denom2 = f2.getDenom();\n        int num3 = (num * denom2) + (num2 * denom);\n        int denom3 = denom * denom2;\n        Fraction f3 = new Fraction(num3, denom3);\n        f3.simplifyFraction();\n        return f3;\n    }\n}\n</code></pre>\n<p>Now my second task is to make a class <code>Calculator</code>, which aggregates two instances of class <code>Fraction</code> as its attributes and create a complete set of arithmetic operations using instances of the class <code>Fraction</code> as operands. So, if I am correct, I basically have to use those methods from the class <code>Fraction</code> in my <code>Calculator</code>. I've attempted to do that but I do not get any output when I call for method <code>add</code> (from class <code>Calculator</code>) in <code>main()</code>.</p>\n<p>Here is an abstract of my <code>Calculator</code> class. (I've included only method of addition to give the general idea.)</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.company;\n\npublic class Calculator {\n    private Fraction f1 = new Fraction();\n    private Fraction f2 = new Fraction();\n    private Fraction f;\n\n    public Calculator() {\n        super();\n    }\n\n    public Calculator(Fraction f) {\n        this.f = f;\n    }\n\n    public void input() {\n        f1.inputFraction();\n        f2.inputFraction();\n    }\n\n    public void view() {\n        f1.toString();\n        System.out.println(&quot;Fraction = &quot; + f1.toString());\n        f2.toString();\n        System.out.println(&quot;Fraction = &quot; + f2.toString());\n    }\n\n    public Calculator add() {\n        Calculator f = new Calculator(f1.add(f2));\n        return f;\n    }\n}\n</code></pre>\n<p>And part of my <code>main()</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Calculator m = new Calculator();\nm.input();\nm.view();\nSystem.out.println(&quot;Sum = &quot; + m.add());\n</code></pre>\n<p>I'm assuming there are multiple places where I have gone wrong, so I'd be grateful for some advice.</p>\n"},{"tags":["java","spring","tomcat","protocol-buffers","grpc"],"owner":{"account_id":17692678,"reputation":1,"user_id":12844097,"display_name":"dmas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":392,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683534773,"creation_date":1683534773,"question_id":76198799,"body_markdown":"I have a single module spring gRPC project. I have written the .proto files I am able to compile the project and generate the necessary files. However when I try to run the project I get an error starting tomcat.\r\n\r\nHere is my properties file...\r\n\r\n\r\n```\r\nspring:\r\n  datasource:\r\n    driver-class-name: com.mysql.jdbc.Driver\r\n    url: &#39;jdbc:mysql://localhost:3306/protodb&#39;\r\n    username: root\r\n    password: 35581277mM/\r\n\r\n  jpa:\r\n    show-sql: true\r\n  hibernate:\r\n    ddl-auto: update\r\n  properties:\r\n    hibernate:\r\n      dialect: org.hibernate.dialect.MySQLDialect\r\n\r\n  server:\r\n    port: &#39;9191&#39;\r\n\r\n  grpc:\r\n    port: &#39;8080&#39;\r\n    enableReflection: true\r\n```\r\n\r\n\r\n And my pom file looks like this...\r\n\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.0.6&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;io.maddennis&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;grpcscuffhold&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;grpcscuffhold&lt;/name&gt;\r\n\t&lt;description&gt;Demo project for Spring Boot grpc scuffhold&lt;/description&gt;\r\n\r\n\t&lt;properties&gt;\r\n\t\t&lt;protobuf.version&gt;3.22.3&lt;/protobuf.version&gt;\r\n\t\t&lt;protobuf-plugin.version&gt;0.6.1&lt;/protobuf-plugin.version&gt;\r\n\t\t&lt;grpc.version&gt;1.54.1&lt;/grpc.version&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\r\n\t&lt;dependencies&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/net.devh/grpc-server-spring-boot-starter --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;net.devh&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;grpc-server-spring-boot-starter&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.14.0.RELEASE&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.mysql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.grpc&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;grpc-stub&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${grpc.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.grpc&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;grpc-protobuf&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${grpc.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;!-- Java 9+ compatibility - Do NOT update to 2.0.0 --&gt;\r\n\t\t\t&lt;groupId&gt;jakarta.annotation&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jakarta.annotation-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.3.5&lt;/version&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\r\n\t\t&lt;extensions&gt;\r\n\t\t\t&lt;extension&gt;\r\n\t\t\t\t&lt;groupId&gt;kr.motd.maven&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;os-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;1.7.0&lt;/version&gt;\r\n\t\t\t&lt;/extension&gt;\r\n\t\t&lt;/extensions&gt;\r\n\r\n\t\t&lt;plugins&gt;\r\n\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;excludes&gt;\r\n\t\t\t\t\t\t&lt;exclude&gt;\r\n\t\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t\t\t\t&lt;/exclude&gt;\r\n\t\t\t\t\t&lt;/excludes&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.xolstice.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;protobuf-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;${protobuf-plugin.version}&lt;/version&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;protocArtifact&gt;com.google.protobuf:protoc:${protobuf.version}:exe:${os.detected.classifier}&lt;/protocArtifact&gt;\r\n\t\t\t\t\t&lt;pluginId&gt;grpc-java&lt;/pluginId&gt;\r\n\t\t\t\t\t&lt;pluginArtifact&gt;io.grpc:protoc-gen-grpc-java:${grpc.version}:exe:${os.detected.classifier}&lt;/pluginArtifact&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;compile&lt;/goal&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;compile-custom&lt;/goal&gt;\r\n\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t&lt;/executions&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n```\r\n\r\n\r\nAnd here is the error I am getting...\r\n\r\n\r\n```\r\n&quot;C:\\Program Files\\Java\\jdk-19\\bin\\java.exe&quot; -javaagent:C:\\Users\\user\\AppData\\Local\\JetBrains\\Toolbox\\apps\\IDEA-C\\ch-0\\231.8770.65\\lib\\idea_rt.jar=53664:C:\\Users\\user\\AppData\\Local\\JetBrains\\Toolbox\\apps\\IDEA-C\\ch-0\\231.8770.65\\bin -Dfile.encoding=UTF-8 -Dsun.stdout.encoding=UTF-8 -Dsun.stderr.encoding=UTF-8 -classpath C:\\Users\\user\\Downloads\\grpcscuffhold\\grpcscuffhold\\target\\classes;C:\\Users\\user\\.m2\\repository\\org\\springframework\\boot\\spring-boot-starter-web\\3.0.6\\spring-boot-starter-web-3.0.6.jar;C:\\Users\\user\\.m2\\repository\\org\\springframework\\boot\\spring-boot-starter\\3.0.6\\spring-boot-starter-3.0.6.jar;C:\\Users\\user\\.m2\\repository\\org\\springframework\\boot\\spring-boot\\3.0.6\\spring-boot-3.0.6.jar;C:\\Users\\user\\.m2\\repository\\org\\springframework\\boot\\spring-boot-autoconfigure\\3.0.6\\spring-boot-autoconfigure-3.0.6.jar;C:\\Users\\user\\.m2\\repository\\org\\springframework\\boot\\spring-boot-starter-logging\\3.0.6\\spring-boot-starter-logging-3.0.6.jar;C:\\Users\\user\\.m2\\repository\\ch\\qos\\logback\\logback-classic\\1.4.7\\logback-classic-1.4.7.jar;C:\\Users\\user\\.m2\\repository\\ch\\qos\\logback\\logback-core\\1.4.7\\logback-core-1.4.7.jar;C:\\Users\\user\\.m2\\repository\\org\\apache\\logging\\log4j\\log4j-to-slf4j\\2.19.0\\log4j-to-slf4j-2.19.0.jar;C:\\Users\\user\\.m2\\repository\\org\\apache\\logging\\log4j\\log4j-api\\2.19.0\\log4j-api-2.19.0.jar;C:\\Users\\user\\.m2\\repository\\org\\slf4j\\jul-to-slf4j\\2.0.7\\jul-to-slf4j-2.0.7.jar;C:\\Users\\user\\.m2\\repository\\org\\yaml\\snakeyaml\\1.33\\snakeyaml-1.33.jar;C:\\Users\\user\\.m2\\repository\\org\\springframework\\boot\\spring-boot-starter-json\\3.0.6\\spring-boot-starter-json-3.0.6.jar;C:\\Users\\user\\.m2\\repository\\com\\fasterxml\\jackson\\core\\jackson-databind\\2.14.2\\jackson-databind-2.14.2.jar;C:\\Users\\user\\.m2\\repository\\com\\fasterxml\\jackson\\core\\jackson-annotations\\2.14.2\\jackson-annotations-2.14.2.jar;C:\\Users\\user\\.m2\\repository\\com\\fasterxml\\jackson\\core\\jackson-core\\2.14.2\\jackson-core-2.14.2.jar;C:\\Users\\user\\.m2\\repository\\com\\fasterxml\\jackson\\datatype\\jackson-datatype-jdk8\\2.14.2\\jackson-datatype-jdk8-2.14.2.jar;C:\\Users\\user\\.m2\\repository\\com\\fasterxml\\jackson\\datatype\\jackson-datatype-jsr310\\2.14.2\\jackson-datatype-jsr310-2.14.2.jar;C:\\Users\\user\\.m2\\repository\\com\\fasterxml\\jackson\\module\\jackson-module-parameter-names\\2.14.2\\jackson-module-parameter-names-2.14.2.jar;C:\\Users\\user\\.m2\\repository\\org\\springframework\\boot\\spring-boot-starter-tomcat\\3.0.6\\spring-boot-starter-tomcat-3.0.6.jar;C:\\Users\\user\\.m2\\repository\\org\\apache\\tomcat\\embed\\tomcat-embed-core\\10.1.8\\tomcat-embed-core-10.1.8.jar;C:\\Users\\user\\.m2\\repository\\org\\apache\\tomcat\\embed\\tomcat-embed-websocket\\10.1.8\\tomcat-embed-websocket-10.1.8.jar;C:\\Users\\user\\.m2\\repository\\org\\springframework\\spring-web\\6.0.8\\spring-web-6.0.8.jar;C:\\Users\\user\\.m2\\repository\\org\\springframework\\spring-beans\\6.0.8\\spring-beans-6.0.8.jar;C:\\Users\\user\\.m2\\repository\\io\\micrometer\\micrometer-observation\\1.10.6\\micrometer-observation-1.10.6.jar;C:\\Users\\user\\.m2\\repository\\io\\micrometer\\micrometer-commons\\1.10.6\\micrometer-commons-1.10.6.jar;C:\\Users\\user\\.m2\\repository\\org\\springframework\\spring-webmvc\\6.0.8\\spring-webmvc-6.0.8.jar;C:\\Users\\user\\.m2\\repository\\org\\springframework\\spring-aop\\6.0.8\\spring-aop-6.0.8.jar;C:\\Users\\user\\.m2\\repository\\org\\springframework\\spring-context\\6.0.8\\spring-context-6.0.8.jar;C:\\Users\\user\\.m2\\repository\\org\\springframework\\spring-expression\\6.0.8\\spring-expression-6.0.8.jar;C:\\Users\\user\\.m2\\repository\\org\\springframework\\boot\\spring-boot-starter-data-jpa\\3.0.6\\spring-boot-starter-data-jpa-3.0.6.jar;C:\\Users\\user\\.m2\\repository\\org\\springframework\\boot\\spring-boot-starter-aop\\3.0.6\\spring-boot-starter-aop-3.0.6.jar;C:\\Users\\user\\.m2\\repository\\org\\aspectj\\aspectjweaver\\1.9.19\\aspectjweaver-1.9.19.jar;C:\\Users\\user\\.m2\\repository\\org\\springframework\\boot\\spring-boot-starter-jdbc\\3.0.6\\spring-boot-starter-jdbc-3.0.6.jar;C:\\Users\\user\\.m2\\repository\\com\\zaxxer\\HikariCP\\5.0.1\\HikariCP-5.0.1.jar;C:\\Users\\user\\.m2\\repository\\org\\springframework\\spring-jdbc\\6.0.8\\spring-jdbc-6.0.8.jar;C:\\Users\\user\\.m2\\repository\\org\\hibernate\\orm\\hibernate-core\\6.1.7.Final\\hibernate-core-6.1.7.Final.jar;C:\\Users\\user\\.m2\\repository\\jakarta\\persistence\\jakarta.persistence-api\\3.1.0\\jakarta.persistence-api-3.1.0.jar;C:\\Users\\user\\.m2\\repository\\jakarta\\transaction\\jakarta.transaction-api\\2.0.1\\jakarta.transaction-api-2.0.1.jar;C:\\Users\\user\\.m2\\repository\\org\\jboss\\logging\\jboss-logging\\3.5.0.Final\\jboss-logging-3.5.0.Final.jar;C:\\Users\\user\\.m2\\repository\\org\\hibernate\\common\\hibernate-commons-annotations\\6.0.6.Final\\hibernate-commons-annotations-6.0.6.Final.jar;C:\\Users\\user\\.m2\\repository\\org\\jboss\\jandex\\2.4.2.Final\\jandex-2.4.2.Final.jar;C:\\Users\\user\\.m2\\repository\\com\\fasterxml\\classmate\\1.5.1\\classmate-1.5.1.jar;C:\\Users\\user\\.m2\\repository\\net\\bytebuddy\\byte-buddy\\1.12.23\\byte-buddy-1.12.23.jar;C:\\Users\\user\\.m2\\repository\\org\\glassfish\\jaxb\\jaxb-runtime\\4.0.2\\jaxb-runtime-4.0.2.jar;C:\\Users\\user\\.m2\\repository\\org\\glassfish\\jaxb\\jaxb-core\\4.0.2\\jaxb-core-4.0.2.jar;C:\\Users\\user\\.m2\\repository\\org\\eclipse\\angus\\angus-activation\\2.0.0\\angus-activation-2.0.0.jar;C:\\Users\\user\\.m2\\repository\\org\\glassfish\\jaxb\\txw2\\4.0.2\\txw2-4.0.2.jar;C:\\Users\\user\\.m2\\repository\\com\\sun\\istack\\istack-commons-runtime\\4.1.1\\istack-commons-runtime-4.1.1.jar;C:\\Users\\user\\.m2\\repository\\jakarta\\inject\\jakarta.inject-api\\2.0.0\\jakarta.inject-api-2.0.0.jar;C:\\Users\\user\\.m2\\repository\\org\\antlr\\antlr4-runtime\\4.10.1\\antlr4-runtime-4.10.1.jar;C:\\Users\\user\\.m2\\repository\\org\\springframework\\data\\spring-data-jpa\\3.0.5\\spring-data-jpa-3.0.5.jar;C:\\Users\\user\\.m2\\repository\\org\\springframework\\data\\spring-data-commons\\3.0.5\\spring-data-commons-3.0.5.jar;C:\\Users\\user\\.m2\\repository\\org\\springframework\\spring-orm\\6.0.8\\spring-orm-6.0.8.jar;C:\\Users\\user\\.m2\\repository\\org\\springframework\\spring-tx\\6.0.8\\spring-tx-6.0.8.jar;C:\\Users\\user\\.m2\\repository\\org\\slf4j\\slf4j-api\\2.0.7\\slf4j-api-2.0.7.jar;C:\\Users\\user\\.m2\\repository\\org\\springframework\\spring-aspects\\6.0.8\\spring-aspects-6.0.8.jar;C:\\Users\\user\\.m2\\repository\\org\\springframework\\boot\\spring-boot-starter-validation\\3.0.6\\spring-boot-starter-validation-3.0.6.jar;C:\\Users\\user\\.m2\\repository\\org\\apache\\tomcat\\embed\\tomcat-embed-el\\10.1.8\\tomcat-embed-el-10.1.8.jar;C:\\Users\\user\\.m2\\repository\\org\\hibernate\\validator\\hibernate-validator\\8.0.0.Final\\hibernate-validator-8.0.0.Final.jar;C:\\Users\\user\\.m2\\repository\\jakarta\\validation\\jakarta.validation-api\\3.0.2\\jakarta.validation-api-3.0.2.jar;C:\\Users\\user\\.m2\\repository\\net\\devh\\grpc-server-spring-boot-starter\\2.14.0.RELEASE\\grpc-server-spring-boot-starter-2.14.0.RELEASE.jar;C:\\Users\\user\\.m2\\repository\\net\\devh\\grpc-server-spring-boot-autoconfigure\\2.14.0.RELEASE\\grpc-server-spring-boot-autoconfigure-2.14.0.RELEASE.jar;C:\\Users\\user\\.m2\\repository\\net\\devh\\grpc-common-spring-boot\\2.14.0.RELEASE\\grpc-common-spring-boot-2.14.0.RELEASE.jar;C:\\Users\\user\\.m2\\repository\\io\\grpc\\grpc-core\\1.51.0\\grpc-core-1.51.0.jar;C:\\Users\\user\\.m2\\repository\\com\\google\\code\\gson\\gson\\2.9.1\\gson-2.9.1.jar;C:\\Users\\user\\.m2\\repository\\com\\google\\android\\annotations\\4.1.1.4\\annotations-4.1.1.4.jar;C:\\Users\\user\\.m2\\repository\\org\\codehaus\\mojo\\animal-sniffer-annotations\\1.21\\animal-sniffer-annotations-1.21.jar;C:\\Users\\user\\.m2\\repository\\io\\grpc\\grpc-netty-shaded\\1.51.0\\grpc-netty-shaded-1.51.0.jar;C:\\Users\\user\\.m2\\repository\\io\\perfmark\\perfmark-api\\0.25.0\\perfmark-api-0.25.0.jar;C:\\Users\\user\\.m2\\repository\\io\\grpc\\grpc-services\\1.51.0\\grpc-services-1.51.0.jar;C:\\Users\\user\\.m2\\repository\\com\\google\\protobuf\\protobuf-java-util\\3.21.7\\protobuf-java-util-3.21.7.jar;C:\\Users\\user\\.m2\\repository\\io\\grpc\\grpc-api\\1.51.0\\grpc-api-1.51.0.jar;C:\\Users\\user\\.m2\\repository\\io\\grpc\\grpc-context\\1.51.0\\grpc-context-1.51.0.jar;C:\\Users\\user\\.m2\\repository\\com\\mysql\\mysql-connector-j\\8.0.33\\mysql-connector-j-8.0.33.jar;C:\\Users\\user\\.m2\\repository\\org\\projectlombok\\lombok\\1.18.26\\lombok-1.18.26.jar;C:\\Users\\user\\.m2\\repository\\jakarta\\xml\\bind\\jakarta.xml.bind-api\\4.0.0\\jakarta.xml.bind-api-4.0.0.jar;C:\\Users\\user\\.m2\\repository\\jakarta\\activation\\jakarta.activation-api\\2.1.1\\jakarta.activation-api-2.1.1.jar;C:\\Users\\user\\.m2\\repository\\org\\springframework\\spring-core\\6.0.8\\spring-core-6.0.8.jar;C:\\Users\\user\\.m2\\repository\\org\\springframework\\spring-jcl\\6.0.8\\spring-jcl-6.0.8.jar;C:\\Users\\user\\.m2\\repository\\io\\grpc\\grpc-stub\\1.54.1\\grpc-stub-1.54.1.jar;C:\\Users\\user\\.m2\\repository\\com\\google\\guava\\guava\\31.1-android\\guava-31.1-android.jar;C:\\Users\\user\\.m2\\repository\\com\\google\\guava\\failureaccess\\1.0.1\\failureaccess-1.0.1.jar;C:\\Users\\user\\.m2\\repository\\com\\google\\guava\\listenablefuture\\9999.0-empty-to-avoid-conflict-with-guava\\listenablefuture-9999.0-empty-to-avoid-conflict-with-guava.jar;C:\\Users\\user\\.m2\\repository\\org\\checkerframework\\checker-qual\\3.12.0\\checker-qual-3.12.0.jar;C:\\Users\\user\\.m2\\repository\\com\\google\\j2objc\\j2objc-annotations\\1.3\\j2objc-annotations-1.3.jar;C:\\Users\\user\\.m2\\repository\\com\\google\\errorprone\\error_prone_annotations\\2.18.0\\error_prone_annotations-2.18.0.jar;C:\\Users\\user\\.m2\\repository\\io\\grpc\\grpc-protobuf\\1.54.1\\grpc-protobuf-1.54.1.jar;C:\\Users\\user\\.m2\\repository\\com\\google\\code\\findbugs\\jsr305\\3.0.2\\jsr305-3.0.2.jar;C:\\Users\\user\\.m2\\repository\\com\\google\\protobuf\\protobuf-java\\3.21.7\\protobuf-java-3.21.7.jar;C:\\Users\\user\\.m2\\repository\\com\\google\\api\\grpc\\proto-google-common-protos\\2.9.0\\proto-google-common-protos-2.9.0.jar;C:\\Users\\user\\.m2\\repository\\io\\grpc\\grpc-protobuf-lite\\1.54.1\\grpc-protobuf-lite-1.54.1.jar;C:\\Users\\user\\.m2\\repository\\jakarta\\annotation\\jakarta.annotation-api\\1.3.5\\jakarta.annotation-api-1.3.5.jar io.maddennis.grpcscuffhold.GrpcApp\r\n\r\n  .   ____          _            __ _ _\r\n /\\\\ / ___&#39;_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\r\n( ( )\\___ | &#39;_ | &#39;_| | &#39;_ \\/ _` | \\ \\ \\ \\\r\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\r\n  &#39;  |____| .__|_| |_|_| |_\\__, | / / / /\r\n =========|_|==============|___/=/_/_/_/\r\n :: Spring Boot ::                (v3.0.6)\r\n\r\n2023-05-08T11:13:32.586+03:00  INFO 16436 --- [           main] io.maddennis.grpcscuffhold.GrpcApp       : Starting GrpcApp using Java 19.0.1 with PID 16436 (C:\\Users\\user\\Downloads\\grpcscuffhold\\grpcscuffhold\\target\\classes started by user in C:\\Users\\user\\Downloads\\grpcscuffhold\\grpcscuffhold)\r\n2023-05-08T11:13:32.588+03:00  INFO 16436 --- [           main] io.maddennis.grpcscuffhold.GrpcApp       : No active profile set, falling back to 1 default profile: &quot;default&quot;\r\n2023-05-08T11:13:33.217+03:00  INFO 16436 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\r\n2023-05-08T11:13:33.277+03:00  INFO 16436 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 51 ms. Found 4 JPA repository interfaces.\r\n2023-05-08T11:13:33.830+03:00  INFO 16436 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\r\n2023-05-08T11:13:33.838+03:00  INFO 16436 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\r\n2023-05-08T11:13:33.839+03:00  INFO 16436 --- [           main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.8]\r\n2023-05-08T11:13:33.904+03:00  INFO 16436 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\r\n2023-05-08T11:13:33.909+03:00  INFO 16436 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1268 ms\r\n2023-05-08T11:13:33.959+03:00 ERROR 16436 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Exception starting filter [requestContextFilter]\r\n\r\njava.lang.NoClassDefFoundError: jakarta/annotation/PostConstruct\r\n\tat org.apache.catalina.core.DefaultInstanceManager.findPostConstruct(DefaultInstanceManager.java:639) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.catalina.core.DefaultInstanceManager.populateAnnotationsCache(DefaultInstanceManager.java:340) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.catalina.core.DefaultInstanceManager.newInstance(DefaultInstanceManager.java:163) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.catalina.core.DefaultInstanceManager.newInstance(DefaultInstanceManager.java:156) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.catalina.core.ApplicationFilterConfig.&lt;init&gt;(ApplicationFilterConfig.java:101) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.catalina.core.StandardContext.filterStart(StandardContext.java:4305) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:4918) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1332) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1322) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317) ~[na:na]\r\n\tat org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145) ~[na:na]\r\n\tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:871) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:846) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1332) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1322) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317) ~[na:na]\r\n\tat org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145) ~[na:na]\r\n\tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:871) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:241) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.catalina.core.StandardService.startInternal(StandardService.java:428) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:913) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.catalina.startup.Tomcat.start(Tomcat.java:485) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:123) ~[spring-boot-3.0.6.jar:3.0.6]\r\n\tat org.springframework.boot.web.embedded.tomcat.TomcatWebServer.&lt;init&gt;(TomcatWebServer.java:104) ~[spring-boot-3.0.6.jar:3.0.6]\r\n\tat org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:488) ~[spring-boot-3.0.6.jar:3.0.6]\r\n\tat org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:210) ~[spring-boot-3.0.6.jar:3.0.6]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:183) ~[spring-boot-3.0.6.jar:3.0.6]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:161) ~[spring-boot-3.0.6.jar:3.0.6]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:578) ~[spring-context-6.0.8.jar:6.0.8]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.0.6.jar:3.0.6]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732) ~[spring-boot-3.0.6.jar:3.0.6]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:434) ~[spring-boot-3.0.6.jar:3.0.6]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:310) ~[spring-boot-3.0.6.jar:3.0.6]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1304) ~[spring-boot-3.0.6.jar:3.0.6]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1293) ~[spring-boot-3.0.6.jar:3.0.6]\r\n\tat io.maddennis.grpcscuffhold.GrpcApp.main(GrpcApp.java:10) ~[classes/:na]\r\nCaused by: java.lang.ClassNotFoundException: jakarta.annotation.PostConstruct\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641) ~[na:na]\r\n\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188) ~[na:na]\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521) ~[na:na]\r\n\t... 43 common frames omitted\r\n\r\n2023-05-08T11:13:33.963+03:00 ERROR 16436 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Exception starting filter [Tomcat WebSocket (JSR356) Filter]\r\n\r\njava.lang.NoClassDefFoundError: jakarta/annotation/PostConstruct\r\n\tat org.apache.catalina.core.DefaultInstanceManager.findPostConstruct(DefaultInstanceManager.java:639) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.catalina.core.DefaultInstanceManager.populateAnnotationsCache(DefaultInstanceManager.java:340) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.catalina.core.DefaultInstanceManager.newInstance(DefaultInstanceManager.java:163) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.catalina.core.DefaultInstanceManager.newInstance(DefaultInstanceManager.java:156) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.catalina.core.ApplicationFilterConfig.&lt;init&gt;(ApplicationFilterConfig.java:101) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.catalina.core.StandardContext.filterStart(StandardContext.java:4305) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:4918) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1332) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1322) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317) ~[na:na]\r\n\tat org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145) ~[na:na]\r\n\tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:871) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:846) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1332) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1322) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317) ~[na:na]\r\n\tat org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145) ~[na:na]\r\n\tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:871) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:241) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.catalina.core.StandardService.startInternal(StandardService.java:428) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:913) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.catalina.startup.Tomcat.start(Tomcat.java:485) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:123) ~[spring-boot-3.0.6.jar:3.0.6]\r\n\tat org.springframework.boot.web.embedded.tomcat.TomcatWebServer.&lt;init&gt;(TomcatWebServer.java:104) ~[spring-boot-3.0.6.jar:3.0.6]\r\n\tat org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:488) ~[spring-boot-3.0.6.jar:3.0.6]\r\n\tat org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:210) ~[spring-boot-3.0.6.jar:3.0.6]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:183) ~[spring-boot-3.0.6.jar:3.0.6]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:161) ~[spring-boot-3.0.6.jar:3.0.6]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:578) ~[spring-context-6.0.8.jar:6.0.8]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.0.6.jar:3.0.6]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732) ~[spring-boot-3.0.6.jar:3.0.6]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:434) ~[spring-boot-3.0.6.jar:3.0.6]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:310) ~[spring-boot-3.0.6.jar:3.0.6]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1304) ~[spring-boot-3.0.6.jar:3.0.6]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1293) ~[spring-boot-3.0.6.jar:3.0.6]\r\n\tat io.maddennis.grpcscuffhold.GrpcApp.main(GrpcApp.java:10) ~[classes/:na]\r\nCaused by: java.lang.ClassNotFoundException: jakarta.annotation.PostConstruct\r\n\t... 43 common frames omitted\r\n\r\n2023-05-08T11:13:33.965+03:00 ERROR 16436 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Exception starting filter [characterEncodingFilter]\r\n\r\njava.lang.NoClassDefFoundError: jakarta/annotation/PostConstruct\r\n\tat org.apache.catalina.core.DefaultInstanceManager.findPostConstruct(DefaultInstanceManager.java:639) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.catalina.core.DefaultInstanceManager.populateAnnotationsCache(DefaultInstanceManager.java:340) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.catalina.core.DefaultInstanceManager.newInstance(DefaultInstanceManager.java:163) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.catalina.core.DefaultInstanceManager.newInstance(DefaultInstanceManager.java:156) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.catalina.core.ApplicationFilterConfig.&lt;init&gt;(ApplicationFilterConfig.java:101) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.catalina.core.StandardContext.filterStart(StandardContext.java:4305) ~[tomcat-\r\n\t\r\n\t\r\n\r\n\r\n\r\nProcess finished with exit code 1\r\n\r\n```\r\n\r\nMy project structure looks like this...\r\n\r\n\r\n\r\n\r\n\r\n\r\nI have tried to look up the exceptions but I really do not know where the error could be coming from","title":"Spring Boot gRPC API unable to start Tomcat","body":"<p>I have a single module spring gRPC project. I have written the .proto files I am able to compile the project and generate the necessary files. However when I try to run the project I get an error starting tomcat.</p>\n<p>Here is my properties file...</p>\n<pre><code>spring:\n  datasource:\n    driver-class-name: com.mysql.jdbc.Driver\n    url: 'jdbc:mysql://localhost:3306/protodb'\n    username: root\n    password: 35581277mM/\n\n  jpa:\n    show-sql: true\n  hibernate:\n    ddl-auto: update\n  properties:\n    hibernate:\n      dialect: org.hibernate.dialect.MySQLDialect\n\n  server:\n    port: '9191'\n\n  grpc:\n    port: '8080'\n    enableReflection: true\n</code></pre>\n<p>And my pom file looks like this...</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.6&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;io.maddennis&lt;/groupId&gt;\n    &lt;artifactId&gt;grpcscuffhold&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;grpcscuffhold&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot grpc scuffhold&lt;/description&gt;\n\n    &lt;properties&gt;\n        &lt;protobuf.version&gt;3.22.3&lt;/protobuf.version&gt;\n        &lt;protobuf-plugin.version&gt;0.6.1&lt;/protobuf-plugin.version&gt;\n        &lt;grpc.version&gt;1.54.1&lt;/grpc.version&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/net.devh/grpc-server-spring-boot-starter --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;net.devh&lt;/groupId&gt;\n            &lt;artifactId&gt;grpc-server-spring-boot-starter&lt;/artifactId&gt;\n            &lt;version&gt;2.14.0.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.grpc&lt;/groupId&gt;\n            &lt;artifactId&gt;grpc-stub&lt;/artifactId&gt;\n            &lt;version&gt;${grpc.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.grpc&lt;/groupId&gt;\n            &lt;artifactId&gt;grpc-protobuf&lt;/artifactId&gt;\n            &lt;version&gt;${grpc.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;!-- Java 9+ compatibility - Do NOT update to 2.0.0 --&gt;\n            &lt;groupId&gt;jakarta.annotation&lt;/groupId&gt;\n            &lt;artifactId&gt;jakarta.annotation-api&lt;/artifactId&gt;\n            &lt;version&gt;1.3.5&lt;/version&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n\n        &lt;extensions&gt;\n            &lt;extension&gt;\n                &lt;groupId&gt;kr.motd.maven&lt;/groupId&gt;\n                &lt;artifactId&gt;os-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;1.7.0&lt;/version&gt;\n            &lt;/extension&gt;\n        &lt;/extensions&gt;\n\n        &lt;plugins&gt;\n\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.xolstice.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;protobuf-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${protobuf-plugin.version}&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;protocArtifact&gt;com.google.protobuf:protoc:${protobuf.version}:exe:${os.detected.classifier}&lt;/protocArtifact&gt;\n                    &lt;pluginId&gt;grpc-java&lt;/pluginId&gt;\n                    &lt;pluginArtifact&gt;io.grpc:protoc-gen-grpc-java:${grpc.version}:exe:${os.detected.classifier}&lt;/pluginArtifact&gt;\n                &lt;/configuration&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;compile&lt;/goal&gt;\n                            &lt;goal&gt;compile-custom&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n\n</code></pre>\n<p>And here is the error I am getting...</p>\n<pre><code>&quot;C:\\Program Files\\Java\\jdk-19\\bin\\java.exe&quot; -javaagent:C:\\Users\\user\\AppData\\Local\\JetBrains\\Toolbox\\apps\\IDEA-C\\ch-0\\231.8770.65\\lib\\idea_rt.jar=53664:C:\\Users\\user\\AppData\\Local\\JetBrains\\Toolbox\\apps\\IDEA-C\\ch-0\\231.8770.65\\bin -Dfile.encoding=UTF-8 -Dsun.stdout.encoding=UTF-8 -Dsun.stderr.encoding=UTF-8 -classpath C:\\Users\\user\\Downloads\\grpcscuffhold\\grpcscuffhold\\target\\classes;C:\\Users\\user\\.m2\\repository\\org\\springframework\\boot\\spring-boot-starter-web\\3.0.6\\spring-boot-starter-web-3.0.6.jar;C:\\Users\\user\\.m2\\repository\\org\\springframework\\boot\\spring-boot-starter\\3.0.6\\spring-boot-starter-3.0.6.jar;C:\\Users\\user\\.m2\\repository\\org\\springframework\\boot\\spring-boot\\3.0.6\\spring-boot-3.0.6.jar;C:\\Users\\user\\.m2\\repository\\org\\springframework\\boot\\spring-boot-autoconfigure\\3.0.6\\spring-boot-autoconfigure-3.0.6.jar;C:\\Users\\user\\.m2\\repository\\org\\springframework\\boot\\spring-boot-starter-logging\\3.0.6\\spring-boot-starter-logging-3.0.6.jar;C:\\Users\\user\\.m2\\repository\\ch\\qos\\logback\\logback-classic\\1.4.7\\logback-classic-1.4.7.jar;C:\\Users\\user\\.m2\\repository\\ch\\qos\\logback\\logback-core\\1.4.7\\logback-core-1.4.7.jar;C:\\Users\\user\\.m2\\repository\\org\\apache\\logging\\log4j\\log4j-to-slf4j\\2.19.0\\log4j-to-slf4j-2.19.0.jar;C:\\Users\\user\\.m2\\repository\\org\\apache\\logging\\log4j\\log4j-api\\2.19.0\\log4j-api-2.19.0.jar;C:\\Users\\user\\.m2\\repository\\org\\slf4j\\jul-to-slf4j\\2.0.7\\jul-to-slf4j-2.0.7.jar;C:\\Users\\user\\.m2\\repository\\org\\yaml\\snakeyaml\\1.33\\snakeyaml-1.33.jar;C:\\Users\\user\\.m2\\repository\\org\\springframework\\boot\\spring-boot-starter-json\\3.0.6\\spring-boot-starter-json-3.0.6.jar;C:\\Users\\user\\.m2\\repository\\com\\fasterxml\\jackson\\core\\jackson-databind\\2.14.2\\jackson-databind-2.14.2.jar;C:\\Users\\user\\.m2\\repository\\com\\fasterxml\\jackson\\core\\jackson-annotations\\2.14.2\\jackson-annotations-2.14.2.jar;C:\\Users\\user\\.m2\\repository\\com\\fasterxml\\jackson\\core\\jackson-core\\2.14.2\\jackson-core-2.14.2.jar;C:\\Users\\user\\.m2\\repository\\com\\fasterxml\\jackson\\datatype\\jackson-datatype-jdk8\\2.14.2\\jackson-datatype-jdk8-2.14.2.jar;C:\\Users\\user\\.m2\\repository\\com\\fasterxml\\jackson\\datatype\\jackson-datatype-jsr310\\2.14.2\\jackson-datatype-jsr310-2.14.2.jar;C:\\Users\\user\\.m2\\repository\\com\\fasterxml\\jackson\\module\\jackson-module-parameter-names\\2.14.2\\jackson-module-parameter-names-2.14.2.jar;C:\\Users\\user\\.m2\\repository\\org\\springframework\\boot\\spring-boot-starter-tomcat\\3.0.6\\spring-boot-starter-tomcat-3.0.6.jar;C:\\Users\\user\\.m2\\repository\\org\\apache\\tomcat\\embed\\tomcat-embed-core\\10.1.8\\tomcat-embed-core-10.1.8.jar;C:\\Users\\user\\.m2\\repository\\org\\apache\\tomcat\\embed\\tomcat-embed-websocket\\10.1.8\\tomcat-embed-websocket-10.1.8.jar;C:\\Users\\user\\.m2\\repository\\org\\springframework\\spring-web\\6.0.8\\spring-web-6.0.8.jar;C:\\Users\\user\\.m2\\repository\\org\\springframework\\spring-beans\\6.0.8\\spring-beans-6.0.8.jar;C:\\Users\\user\\.m2\\repository\\io\\micrometer\\micrometer-observation\\1.10.6\\micrometer-observation-1.10.6.jar;C:\\Users\\user\\.m2\\repository\\io\\micrometer\\micrometer-commons\\1.10.6\\micrometer-commons-1.10.6.jar;C:\\Users\\user\\.m2\\repository\\org\\springframework\\spring-webmvc\\6.0.8\\spring-webmvc-6.0.8.jar;C:\\Users\\user\\.m2\\repository\\org\\springframework\\spring-aop\\6.0.8\\spring-aop-6.0.8.jar;C:\\Users\\user\\.m2\\repository\\org\\springframework\\spring-context\\6.0.8\\spring-context-6.0.8.jar;C:\\Users\\user\\.m2\\repository\\org\\springframework\\spring-expression\\6.0.8\\spring-expression-6.0.8.jar;C:\\Users\\user\\.m2\\repository\\org\\springframework\\boot\\spring-boot-starter-data-jpa\\3.0.6\\spring-boot-starter-data-jpa-3.0.6.jar;C:\\Users\\user\\.m2\\repository\\org\\springframework\\boot\\spring-boot-starter-aop\\3.0.6\\spring-boot-starter-aop-3.0.6.jar;C:\\Users\\user\\.m2\\repository\\org\\aspectj\\aspectjweaver\\1.9.19\\aspectjweaver-1.9.19.jar;C:\\Users\\user\\.m2\\repository\\org\\springframework\\boot\\spring-boot-starter-jdbc\\3.0.6\\spring-boot-starter-jdbc-3.0.6.jar;C:\\Users\\user\\.m2\\repository\\com\\zaxxer\\HikariCP\\5.0.1\\HikariCP-5.0.1.jar;C:\\Users\\user\\.m2\\repository\\org\\springframework\\spring-jdbc\\6.0.8\\spring-jdbc-6.0.8.jar;C:\\Users\\user\\.m2\\repository\\org\\hibernate\\orm\\hibernate-core\\6.1.7.Final\\hibernate-core-6.1.7.Final.jar;C:\\Users\\user\\.m2\\repository\\jakarta\\persistence\\jakarta.persistence-api\\3.1.0\\jakarta.persistence-api-3.1.0.jar;C:\\Users\\user\\.m2\\repository\\jakarta\\transaction\\jakarta.transaction-api\\2.0.1\\jakarta.transaction-api-2.0.1.jar;C:\\Users\\user\\.m2\\repository\\org\\jboss\\logging\\jboss-logging\\3.5.0.Final\\jboss-logging-3.5.0.Final.jar;C:\\Users\\user\\.m2\\repository\\org\\hibernate\\common\\hibernate-commons-annotations\\6.0.6.Final\\hibernate-commons-annotations-6.0.6.Final.jar;C:\\Users\\user\\.m2\\repository\\org\\jboss\\jandex\\2.4.2.Final\\jandex-2.4.2.Final.jar;C:\\Users\\user\\.m2\\repository\\com\\fasterxml\\classmate\\1.5.1\\classmate-1.5.1.jar;C:\\Users\\user\\.m2\\repository\\net\\bytebuddy\\byte-buddy\\1.12.23\\byte-buddy-1.12.23.jar;C:\\Users\\user\\.m2\\repository\\org\\glassfish\\jaxb\\jaxb-runtime\\4.0.2\\jaxb-runtime-4.0.2.jar;C:\\Users\\user\\.m2\\repository\\org\\glassfish\\jaxb\\jaxb-core\\4.0.2\\jaxb-core-4.0.2.jar;C:\\Users\\user\\.m2\\repository\\org\\eclipse\\angus\\angus-activation\\2.0.0\\angus-activation-2.0.0.jar;C:\\Users\\user\\.m2\\repository\\org\\glassfish\\jaxb\\txw2\\4.0.2\\txw2-4.0.2.jar;C:\\Users\\user\\.m2\\repository\\com\\sun\\istack\\istack-commons-runtime\\4.1.1\\istack-commons-runtime-4.1.1.jar;C:\\Users\\user\\.m2\\repository\\jakarta\\inject\\jakarta.inject-api\\2.0.0\\jakarta.inject-api-2.0.0.jar;C:\\Users\\user\\.m2\\repository\\org\\antlr\\antlr4-runtime\\4.10.1\\antlr4-runtime-4.10.1.jar;C:\\Users\\user\\.m2\\repository\\org\\springframework\\data\\spring-data-jpa\\3.0.5\\spring-data-jpa-3.0.5.jar;C:\\Users\\user\\.m2\\repository\\org\\springframework\\data\\spring-data-commons\\3.0.5\\spring-data-commons-3.0.5.jar;C:\\Users\\user\\.m2\\repository\\org\\springframework\\spring-orm\\6.0.8\\spring-orm-6.0.8.jar;C:\\Users\\user\\.m2\\repository\\org\\springframework\\spring-tx\\6.0.8\\spring-tx-6.0.8.jar;C:\\Users\\user\\.m2\\repository\\org\\slf4j\\slf4j-api\\2.0.7\\slf4j-api-2.0.7.jar;C:\\Users\\user\\.m2\\repository\\org\\springframework\\spring-aspects\\6.0.8\\spring-aspects-6.0.8.jar;C:\\Users\\user\\.m2\\repository\\org\\springframework\\boot\\spring-boot-starter-validation\\3.0.6\\spring-boot-starter-validation-3.0.6.jar;C:\\Users\\user\\.m2\\repository\\org\\apache\\tomcat\\embed\\tomcat-embed-el\\10.1.8\\tomcat-embed-el-10.1.8.jar;C:\\Users\\user\\.m2\\repository\\org\\hibernate\\validator\\hibernate-validator\\8.0.0.Final\\hibernate-validator-8.0.0.Final.jar;C:\\Users\\user\\.m2\\repository\\jakarta\\validation\\jakarta.validation-api\\3.0.2\\jakarta.validation-api-3.0.2.jar;C:\\Users\\user\\.m2\\repository\\net\\devh\\grpc-server-spring-boot-starter\\2.14.0.RELEASE\\grpc-server-spring-boot-starter-2.14.0.RELEASE.jar;C:\\Users\\user\\.m2\\repository\\net\\devh\\grpc-server-spring-boot-autoconfigure\\2.14.0.RELEASE\\grpc-server-spring-boot-autoconfigure-2.14.0.RELEASE.jar;C:\\Users\\user\\.m2\\repository\\net\\devh\\grpc-common-spring-boot\\2.14.0.RELEASE\\grpc-common-spring-boot-2.14.0.RELEASE.jar;C:\\Users\\user\\.m2\\repository\\io\\grpc\\grpc-core\\1.51.0\\grpc-core-1.51.0.jar;C:\\Users\\user\\.m2\\repository\\com\\google\\code\\gson\\gson\\2.9.1\\gson-2.9.1.jar;C:\\Users\\user\\.m2\\repository\\com\\google\\android\\annotations\\4.1.1.4\\annotations-4.1.1.4.jar;C:\\Users\\user\\.m2\\repository\\org\\codehaus\\mojo\\animal-sniffer-annotations\\1.21\\animal-sniffer-annotations-1.21.jar;C:\\Users\\user\\.m2\\repository\\io\\grpc\\grpc-netty-shaded\\1.51.0\\grpc-netty-shaded-1.51.0.jar;C:\\Users\\user\\.m2\\repository\\io\\perfmark\\perfmark-api\\0.25.0\\perfmark-api-0.25.0.jar;C:\\Users\\user\\.m2\\repository\\io\\grpc\\grpc-services\\1.51.0\\grpc-services-1.51.0.jar;C:\\Users\\user\\.m2\\repository\\com\\google\\protobuf\\protobuf-java-util\\3.21.7\\protobuf-java-util-3.21.7.jar;C:\\Users\\user\\.m2\\repository\\io\\grpc\\grpc-api\\1.51.0\\grpc-api-1.51.0.jar;C:\\Users\\user\\.m2\\repository\\io\\grpc\\grpc-context\\1.51.0\\grpc-context-1.51.0.jar;C:\\Users\\user\\.m2\\repository\\com\\mysql\\mysql-connector-j\\8.0.33\\mysql-connector-j-8.0.33.jar;C:\\Users\\user\\.m2\\repository\\org\\projectlombok\\lombok\\1.18.26\\lombok-1.18.26.jar;C:\\Users\\user\\.m2\\repository\\jakarta\\xml\\bind\\jakarta.xml.bind-api\\4.0.0\\jakarta.xml.bind-api-4.0.0.jar;C:\\Users\\user\\.m2\\repository\\jakarta\\activation\\jakarta.activation-api\\2.1.1\\jakarta.activation-api-2.1.1.jar;C:\\Users\\user\\.m2\\repository\\org\\springframework\\spring-core\\6.0.8\\spring-core-6.0.8.jar;C:\\Users\\user\\.m2\\repository\\org\\springframework\\spring-jcl\\6.0.8\\spring-jcl-6.0.8.jar;C:\\Users\\user\\.m2\\repository\\io\\grpc\\grpc-stub\\1.54.1\\grpc-stub-1.54.1.jar;C:\\Users\\user\\.m2\\repository\\com\\google\\guava\\guava\\31.1-android\\guava-31.1-android.jar;C:\\Users\\user\\.m2\\repository\\com\\google\\guava\\failureaccess\\1.0.1\\failureaccess-1.0.1.jar;C:\\Users\\user\\.m2\\repository\\com\\google\\guava\\listenablefuture\\9999.0-empty-to-avoid-conflict-with-guava\\listenablefuture-9999.0-empty-to-avoid-conflict-with-guava.jar;C:\\Users\\user\\.m2\\repository\\org\\checkerframework\\checker-qual\\3.12.0\\checker-qual-3.12.0.jar;C:\\Users\\user\\.m2\\repository\\com\\google\\j2objc\\j2objc-annotations\\1.3\\j2objc-annotations-1.3.jar;C:\\Users\\user\\.m2\\repository\\com\\google\\errorprone\\error_prone_annotations\\2.18.0\\error_prone_annotations-2.18.0.jar;C:\\Users\\user\\.m2\\repository\\io\\grpc\\grpc-protobuf\\1.54.1\\grpc-protobuf-1.54.1.jar;C:\\Users\\user\\.m2\\repository\\com\\google\\code\\findbugs\\jsr305\\3.0.2\\jsr305-3.0.2.jar;C:\\Users\\user\\.m2\\repository\\com\\google\\protobuf\\protobuf-java\\3.21.7\\protobuf-java-3.21.7.jar;C:\\Users\\user\\.m2\\repository\\com\\google\\api\\grpc\\proto-google-common-protos\\2.9.0\\proto-google-common-protos-2.9.0.jar;C:\\Users\\user\\.m2\\repository\\io\\grpc\\grpc-protobuf-lite\\1.54.1\\grpc-protobuf-lite-1.54.1.jar;C:\\Users\\user\\.m2\\repository\\jakarta\\annotation\\jakarta.annotation-api\\1.3.5\\jakarta.annotation-api-1.3.5.jar io.maddennis.grpcscuffhold.GrpcApp\n\n  .   ____          _            __ _ _\n /\\\\ / ___'_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\n( ( )\\___ | '_ | '_| | '_ \\/ _` | \\ \\ \\ \\\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\n  '  |____| .__|_| |_|_| |_\\__, | / / / /\n =========|_|==============|___/=/_/_/_/\n :: Spring Boot ::                (v3.0.6)\n\n2023-05-08T11:13:32.586+03:00  INFO 16436 --- [           main] io.maddennis.grpcscuffhold.GrpcApp       : Starting GrpcApp using Java 19.0.1 with PID 16436 (C:\\Users\\user\\Downloads\\grpcscuffhold\\grpcscuffhold\\target\\classes started by user in C:\\Users\\user\\Downloads\\grpcscuffhold\\grpcscuffhold)\n2023-05-08T11:13:32.588+03:00  INFO 16436 --- [           main] io.maddennis.grpcscuffhold.GrpcApp       : No active profile set, falling back to 1 default profile: &quot;default&quot;\n2023-05-08T11:13:33.217+03:00  INFO 16436 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\n2023-05-08T11:13:33.277+03:00  INFO 16436 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 51 ms. Found 4 JPA repository interfaces.\n2023-05-08T11:13:33.830+03:00  INFO 16436 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\n2023-05-08T11:13:33.838+03:00  INFO 16436 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\n2023-05-08T11:13:33.839+03:00  INFO 16436 --- [           main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.8]\n2023-05-08T11:13:33.904+03:00  INFO 16436 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\n2023-05-08T11:13:33.909+03:00  INFO 16436 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1268 ms\n2023-05-08T11:13:33.959+03:00 ERROR 16436 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Exception starting filter [requestContextFilter]\n\njava.lang.NoClassDefFoundError: jakarta/annotation/PostConstruct\n    at org.apache.catalina.core.DefaultInstanceManager.findPostConstruct(DefaultInstanceManager.java:639) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.core.DefaultInstanceManager.populateAnnotationsCache(DefaultInstanceManager.java:340) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.core.DefaultInstanceManager.newInstance(DefaultInstanceManager.java:163) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.core.DefaultInstanceManager.newInstance(DefaultInstanceManager.java:156) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.core.ApplicationFilterConfig.&lt;init&gt;(ApplicationFilterConfig.java:101) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.core.StandardContext.filterStart(StandardContext.java:4305) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:4918) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1332) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1322) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317) ~[na:na]\n    at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145) ~[na:na]\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:871) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:846) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1332) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1322) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317) ~[na:na]\n    at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145) ~[na:na]\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:871) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:241) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.core.StandardService.startInternal(StandardService.java:428) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:913) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.startup.Tomcat.start(Tomcat.java:485) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:123) ~[spring-boot-3.0.6.jar:3.0.6]\n    at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.&lt;init&gt;(TomcatWebServer.java:104) ~[spring-boot-3.0.6.jar:3.0.6]\n    at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:488) ~[spring-boot-3.0.6.jar:3.0.6]\n    at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:210) ~[spring-boot-3.0.6.jar:3.0.6]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:183) ~[spring-boot-3.0.6.jar:3.0.6]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:161) ~[spring-boot-3.0.6.jar:3.0.6]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:578) ~[spring-context-6.0.8.jar:6.0.8]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.0.6.jar:3.0.6]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732) ~[spring-boot-3.0.6.jar:3.0.6]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:434) ~[spring-boot-3.0.6.jar:3.0.6]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:310) ~[spring-boot-3.0.6.jar:3.0.6]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1304) ~[spring-boot-3.0.6.jar:3.0.6]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1293) ~[spring-boot-3.0.6.jar:3.0.6]\n    at io.maddennis.grpcscuffhold.GrpcApp.main(GrpcApp.java:10) ~[classes/:na]\nCaused by: java.lang.ClassNotFoundException: jakarta.annotation.PostConstruct\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641) ~[na:na]\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188) ~[na:na]\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521) ~[na:na]\n    ... 43 common frames omitted\n\n2023-05-08T11:13:33.963+03:00 ERROR 16436 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Exception starting filter [Tomcat WebSocket (JSR356) Filter]\n\njava.lang.NoClassDefFoundError: jakarta/annotation/PostConstruct\n    at org.apache.catalina.core.DefaultInstanceManager.findPostConstruct(DefaultInstanceManager.java:639) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.core.DefaultInstanceManager.populateAnnotationsCache(DefaultInstanceManager.java:340) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.core.DefaultInstanceManager.newInstance(DefaultInstanceManager.java:163) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.core.DefaultInstanceManager.newInstance(DefaultInstanceManager.java:156) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.core.ApplicationFilterConfig.&lt;init&gt;(ApplicationFilterConfig.java:101) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.core.StandardContext.filterStart(StandardContext.java:4305) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:4918) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1332) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1322) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317) ~[na:na]\n    at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145) ~[na:na]\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:871) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:846) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1332) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1322) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317) ~[na:na]\n    at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145) ~[na:na]\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:871) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:241) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.core.StandardService.startInternal(StandardService.java:428) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:913) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.startup.Tomcat.start(Tomcat.java:485) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:123) ~[spring-boot-3.0.6.jar:3.0.6]\n    at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.&lt;init&gt;(TomcatWebServer.java:104) ~[spring-boot-3.0.6.jar:3.0.6]\n    at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:488) ~[spring-boot-3.0.6.jar:3.0.6]\n    at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:210) ~[spring-boot-3.0.6.jar:3.0.6]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:183) ~[spring-boot-3.0.6.jar:3.0.6]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:161) ~[spring-boot-3.0.6.jar:3.0.6]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:578) ~[spring-context-6.0.8.jar:6.0.8]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.0.6.jar:3.0.6]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732) ~[spring-boot-3.0.6.jar:3.0.6]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:434) ~[spring-boot-3.0.6.jar:3.0.6]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:310) ~[spring-boot-3.0.6.jar:3.0.6]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1304) ~[spring-boot-3.0.6.jar:3.0.6]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1293) ~[spring-boot-3.0.6.jar:3.0.6]\n    at io.maddennis.grpcscuffhold.GrpcApp.main(GrpcApp.java:10) ~[classes/:na]\nCaused by: java.lang.ClassNotFoundException: jakarta.annotation.PostConstruct\n    ... 43 common frames omitted\n\n2023-05-08T11:13:33.965+03:00 ERROR 16436 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Exception starting filter [characterEncodingFilter]\n\njava.lang.NoClassDefFoundError: jakarta/annotation/PostConstruct\n    at org.apache.catalina.core.DefaultInstanceManager.findPostConstruct(DefaultInstanceManager.java:639) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.core.DefaultInstanceManager.populateAnnotationsCache(DefaultInstanceManager.java:340) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.core.DefaultInstanceManager.newInstance(DefaultInstanceManager.java:163) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.core.DefaultInstanceManager.newInstance(DefaultInstanceManager.java:156) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.core.ApplicationFilterConfig.&lt;init&gt;(ApplicationFilterConfig.java:101) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.core.StandardContext.filterStart(StandardContext.java:4305) ~[tomcat-\n    \n    \n\n\n\nProcess finished with exit code 1\n\n</code></pre>\n<p>My project structure looks like this...</p>\n<p>I have tried to look up the exceptions but I really do not know where the error could be coming from</p>\n"},{"tags":["java","lombok"],"answers":[{"comments":[{"owner":{"account_id":17520379,"reputation":1536,"user_id":12706564,"display_name":"Emanuel Trandafir"},"score":0,"creation_date":1683534842,"post_id":76198698,"comment_id":134375972,"body_markdown":"oh, I missed it. thanks!","body":"oh, I missed it. thanks!"}],"tags":[],"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1683534688,"creation_date":1683534008,"answer_id":76198698,"question_id":76198560,"body_markdown":"Your quote from the lombok documentation is incomplete. The actual [lombok documentation](https://projectlombok.org/features/Value) is very clear about this behaviour:\r\n\r\n&gt; In practice, @Value is shorthand for: final @ToString @EqualsAndHashCode @AllArgsConstructor @FieldDefaults(makeFinal = true, level = AccessLevel.PRIVATE) @Getter, except that explicitly including an implementation of any of the relevant methods simply means that part won&#39;t be generated and no warning will be emitted. \r\n&gt;\r\n&gt; [...]\r\n&gt;\r\n&gt; Also, *any* explicit constructor, no matter the arguments list, implies lombok will not generate a constructor.\r\n\r\nAnd the next sentence contains the solution:\r\n\r\n&gt; If you do want lombok to generate the all-args constructor, add `@AllArgsConstructor` to the class.\r\n\r\nIf you need the additional constructor, you must add the `@AllArgsConstructor` annotation.","title":"Lombok&#39;s @Value not working with additional constructor","body":"<p>Your quote from the lombok documentation is incomplete. The actual <a href=\"https://projectlombok.org/features/Value\" rel=\"nofollow noreferrer\">lombok documentation</a> is very clear about this behaviour:</p>\n<blockquote>\n<p>In practice, @Value is shorthand for: final @ToString @EqualsAndHashCode @AllArgsConstructor @FieldDefaults(makeFinal = true, level = AccessLevel.PRIVATE) @Getter, except that explicitly including an implementation of any of the relevant methods simply means that part won't be generated and no warning will be emitted.</p>\n<p>[...]</p>\n<p>Also, <em>any</em> explicit constructor, no matter the arguments list, implies lombok will not generate a constructor.</p>\n</blockquote>\n<p>And the next sentence contains the solution:</p>\n<blockquote>\n<p>If you do want lombok to generate the all-args constructor, add <code>@AllArgsConstructor</code> to the class.</p>\n</blockquote>\n<p>If you need the additional constructor, you must add the <code>@AllArgsConstructor</code> annotation.</p>\n"}],"owner":{"account_id":17520379,"reputation":1536,"user_id":12706564,"display_name":"Emanuel Trandafir"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":349,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76198698,"answer_count":1,"score":0,"last_activity_date":1683534688,"creation_date":1683532858,"question_id":76198560,"body_markdown":"I am using Lombok&#39;s @Value annotation like this:\r\n```java\r\n@Value\r\npublic class Foo {\r\n    int x;\r\n    int y;\r\n}\r\n```\r\nAs per the official documentation, this should be equivalent to `@Getter @FieldDefaults(makeFinal=true, level=AccessLevel.PRIVATE) @AllArgsConstructor @ToString @EqualsAndHashCode`. So far everything looks good, I can check the code with a little test and see that the `@AllArgsConstrucotr` is present.\r\n\r\nHowever, I need to add an additional constructor that calls the All-Args Constructor and this breaks everything:\r\n```java\r\n@Value\r\npublic class Foo {\r\n    int x; // IDE warning: Variable &#39;x&#39; might not have been initialized\r\n    int y; // IDE warning: Variable &#39;y&#39; might not have been initialized\r\n    \r\n    public Foo(Bar bar) {\r\n        this(bar.getA(), bar.getB()); // IDE warning: Expected 1 arguments but found 2\r\n    }\r\n}\r\n\r\n```\r\nIf I&#39;m trying to run a simple test, I&#39;ll get a compilation error:\r\n```java: constructor Foo in class ...Foo cannot be applied to given types;\r\n  required: ...Bar\r\n  found:    int,int\r\n  reason: actual and formal argument lists differ in length\r\n```\r\nIn short, the @AllArgsConstructor is no longer generated, and I need manually add it back in order to enforce lombok  to generate it:\r\n```java\r\n@Value\r\n@AllArgsConstructor\r\npublic class Foo {\r\n    //...\r\n}\r\n```\r\nIs there a better way of doing it? Can I enforce this through some configuration? Is this a known issue in Lombok? The version I am using in this project is `1.18.18`\r\n\r\n\r\n","title":"Lombok&#39;s @Value not working with additional constructor","body":"<p>I am using Lombok's @Value annotation like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Value\npublic class Foo {\n    int x;\n    int y;\n}\n</code></pre>\n<p>As per the official documentation, this should be equivalent to <code>@Getter @FieldDefaults(makeFinal=true, level=AccessLevel.PRIVATE) @AllArgsConstructor @ToString @EqualsAndHashCode</code>. So far everything looks good, I can check the code with a little test and see that the <code>@AllArgsConstrucotr</code> is present.</p>\n<p>However, I need to add an additional constructor that calls the All-Args Constructor and this breaks everything:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Value\npublic class Foo {\n    int x; // IDE warning: Variable 'x' might not have been initialized\n    int y; // IDE warning: Variable 'y' might not have been initialized\n    \n    public Foo(Bar bar) {\n        this(bar.getA(), bar.getB()); // IDE warning: Expected 1 arguments but found 2\n    }\n}\n\n</code></pre>\n<p>If I'm trying to run a simple test, I'll get a compilation error:</p>\n<pre><code>  required: ...Bar\n  found:    int,int\n  reason: actual and formal argument lists differ in length\n</code></pre>\n<p>In short, the @AllArgsConstructor is no longer generated, and I need manually add it back in order to enforce lombok  to generate it:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Value\n@AllArgsConstructor\npublic class Foo {\n    //...\n}\n</code></pre>\n<p>Is there a better way of doing it? Can I enforce this through some configuration? Is this a known issue in Lombok? The version I am using in this project is <code>1.18.18</code></p>\n"},{"tags":["java","class","oop"],"comments":[{"owner":{"account_id":1540816,"reputation":10259,"user_id":1435543,"display_name":"smac2020"},"score":0,"creation_date":1638816703,"post_id":70250420,"comment_id":124183559,"body_markdown":"Look at using a better IDE for Java -- like IntelliJ.","body":"Look at using a better IDE for Java -- like IntelliJ."},{"owner":{"account_id":1475,"reputation":533794,"user_id":1968,"accept_rate":83,"display_name":"Konrad Rudolph"},"score":0,"creation_date":1638817395,"post_id":70250420,"comment_id":124183804,"body_markdown":"@smac2020 There’s nothing wrong with VS Code. I’m using both IntelliJ IDEA and VS Code for Java development and although the latter is *mostly* less powerful (but note the “mostly”: one of the reasons why I’m using VS Code is because its remote working integration is second to none), it’s fundamentally a capable IDE for Java development.","body":"@smac2020 There’s nothing wrong with VS Code. I’m using both IntelliJ IDEA and VS Code for Java development and although the latter is <i>mostly</i> less powerful (but note the “mostly”: one of the reasons why I’m using VS Code is because its remote working integration is second to none), it’s fundamentally a capable IDE for Java development."},{"owner":{"account_id":17983057,"reputation":1072,"user_id":13068918,"display_name":"Sheng Chen"},"score":0,"creation_date":1638841207,"post_id":70250420,"comment_id":124189912,"body_markdown":"Remove the .class files in your src folder, and try trigger the command `Java: Clean Java Language Server workspace`","body":"Remove the .class files in your src folder, and try trigger the command <code>Java: Clean Java Language Server workspace</code>"},{"owner":{"account_id":9934875,"reputation":1085,"user_id":7353524,"display_name":"Alexander Pushkarev"},"score":0,"creation_date":1657717612,"post_id":70250420,"comment_id":128876472,"body_markdown":"@smac2020 vscode has many benefits compared to IntelliJ. It&#39;s lightweight, great for polyglot developers, always free, to name a few","body":"@smac2020 vscode has many benefits compared to IntelliJ. It&#39;s lightweight, great for polyglot developers, always free, to name a few"}],"answers":[{"tags":[],"owner":{"account_id":28544334,"reputation":1,"user_id":21849974,"display_name":"Cherry"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683534671,"creation_date":1683534671,"answer_id":76198783,"question_id":70250420,"body_markdown":"If you compile `stringcompare.java` via \r\n\r\n    javac stringcompare.java\r\n\r\nthen the `.class` files got duplicated. Try\r\n\r\n    javac -d bin src/stringcompare.java\r\n\r\n","title":"Duplicate .class file in vs code","body":"<p>If you compile <code>stringcompare.java</code> via</p>\n<pre><code>javac stringcompare.java\n</code></pre>\n<p>then the <code>.class</code> files got duplicated. Try</p>\n<pre><code>javac -d bin src/stringcompare.java\n</code></pre>\n"}],"owner":{"account_id":23565475,"reputation":1,"user_id":17606259,"display_name":"ryder3383"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":424,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1683534671,"creation_date":1638816586,"question_id":70250420,"body_markdown":"The problem I am facing is that whenever I compile a .java file in my vscode it creates a .class file in my src folder of the project as well as one in the bin folder of the project.\r\nI know that bin folder is the default folder for the .class file creation while compiling but I cannot understand why is it getting duplicated. I checked my setting json file has bin outpath but still I am facing this problem. Can someone tell me what might be the reason for this and how to troubleshoot.[Screenshot of the problem and the json file setting][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/wmpbE.png","title":"Duplicate .class file in vs code","body":"<p>The problem I am facing is that whenever I compile a .java file in my vscode it creates a .class file in my src folder of the project as well as one in the bin folder of the project.\nI know that bin folder is the default folder for the .class file creation while compiling but I cannot understand why is it getting duplicated. I checked my setting json file has bin outpath but still I am facing this problem. Can someone tell me what might be the reason for this and how to troubleshoot.<a href=\"https://i.stack.imgur.com/wmpbE.png\" rel=\"nofollow noreferrer\">Screenshot of the problem and the json file setting</a></p>\n"},{"tags":["java","collections","nullpointerexception","hashmap"],"owner":{"account_id":15558166,"reputation":302,"user_id":11223954,"display_name":"Dattq2303"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1683455190,"answer_count":0,"score":0,"last_activity_date":1683534594,"creation_date":1683454151,"question_id":76193256,"body_markdown":"I have this block of code to create a deep copy of a Map&lt;String, Object&gt;:\r\n\r\n        Map&lt;String, Object&gt; originalMap = new HashMap&lt;&gt;();\r\n        originalMap.put(&quot;key1&quot;, &quot;value1&quot;);\r\n        originalMap.put(&quot;key2&quot;, null);\r\n        originalMap.put(&quot;key3&quot;, &quot;value3&quot;);\r\n\r\n        Map&lt;String, Object&gt; newMap = originalMap.entrySet()\r\n            .stream()\r\n            .collect(Collectors.toMap(\r\n                Map.Entry::getKey,\r\n                // Map.Entry::getValue,\r\n                // entry -&gt; entry.getValue() != null ? entry.getValue() : null,\r\n                entry -&gt; entry.getValue() != null ? entry.getValue() : &quot;&quot;,\r\n                (oldValue, newValue) -&gt; oldValue,\r\n                HashMap::new\r\n            ));\r\n\r\n        System.out.println(&quot;Original map: &quot; + originalMap);\r\n        System.out.println(&quot;New map: &quot; + newMap);\r\n\r\nIf I use 2 commented line, this codeblock throw `Null Pointer Exception` and I don&#39;t understand this. I know that HashMap does allow Null values so why it&#39;s not accept the `value mapper` to return null? ","title":"Why in Collectors.toMap(keyMapper, valueMapper, mergeFunction, mapSupplier), valueMapper param not allowed null?","body":"<p>I have this block of code to create a deep copy of a Map&lt;String, Object&gt;:</p>\n<pre><code>    Map&lt;String, Object&gt; originalMap = new HashMap&lt;&gt;();\n    originalMap.put(&quot;key1&quot;, &quot;value1&quot;);\n    originalMap.put(&quot;key2&quot;, null);\n    originalMap.put(&quot;key3&quot;, &quot;value3&quot;);\n\n    Map&lt;String, Object&gt; newMap = originalMap.entrySet()\n        .stream()\n        .collect(Collectors.toMap(\n            Map.Entry::getKey,\n            // Map.Entry::getValue,\n            // entry -&gt; entry.getValue() != null ? entry.getValue() : null,\n            entry -&gt; entry.getValue() != null ? entry.getValue() : &quot;&quot;,\n            (oldValue, newValue) -&gt; oldValue,\n            HashMap::new\n        ));\n\n    System.out.println(&quot;Original map: &quot; + originalMap);\n    System.out.println(&quot;New map: &quot; + newMap);\n</code></pre>\n<p>If I use 2 commented line, this codeblock throw <code>Null Pointer Exception</code> and I don't understand this. I know that HashMap does allow Null values so why it's not accept the <code>value mapper</code> to return null?</p>\n"},{"tags":["java","opencv","computer-vision"],"comments":[{"owner":{"account_id":1111280,"reputation":6531,"user_id":1101692,"accept_rate":89,"display_name":"Shark"},"score":0,"creation_date":1677840705,"post_id":75625686,"comment_id":133420919,"body_markdown":"Let me search for you: [link1](https://stackoverflow.com/questions/59168477/cant-find-starting-number-in-the-name-of-file-when-trying-to-read-frames-fr), [link2](https://stackoverflow.com/questions/60651352/cvvideocaptureopen-videoiocv-images-raised-opencv-exception), [link3](https://community.intel.com/t5/Intel-Distribution-of-OpenVINO/OpenCV-4-1-2-openvino-Unsupported-Extension-Error-Solved/m-p/1193849), [link4](https://answers.opencv.org/question/220468/video-from-ip-camera-cant-find-starting-number-cvicvextractpattern/)","body":"Let me search for you: <a href=\"https://stackoverflow.com/questions/59168477/cant-find-starting-number-in-the-name-of-file-when-trying-to-read-frames-fr\">link1</a>, <a href=\"https://stackoverflow.com/questions/60651352/cvvideocaptureopen-videoiocv-images-raised-opencv-exception\">link2</a>, <a href=\"https://community.intel.com/t5/Intel-Distribution-of-OpenVINO/OpenCV-4-1-2-openvino-Unsupported-Extension-Error-Solved/m-p/1193849\" rel=\"nofollow noreferrer\">link3</a>, <a href=\"https://answers.opencv.org/question/220468/video-from-ip-camera-cant-find-starting-number-cvicvextractpattern/\" rel=\"nofollow noreferrer\">link4</a>"},{"owner":{"account_id":1111280,"reputation":6531,"user_id":1101692,"accept_rate":89,"display_name":"Shark"},"score":0,"creation_date":1677840883,"post_id":75625686,"comment_id":133420961,"body_markdown":"Why is it failing to load all these libraries though?","body":"Why is it failing to load all these libraries though?"}],"answers":[{"tags":[],"owner":{"account_id":1111280,"reputation":6531,"user_id":1101692,"accept_rate":89,"display_name":"Shark"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1677840804,"creation_date":1677840804,"answer_id":75626135,"question_id":75625686,"body_markdown":"Try rebuilding OpenCV with FFMpeg and `-DWITH_FFMPEG=ON`. All the four links i pasted to you revolve around the identical problem and identical solution.","title":"OpenCV is not working with ip webcam in Java","body":"<p>Try rebuilding OpenCV with FFMpeg and <code>-DWITH_FFMPEG=ON</code>. All the four links i pasted to you revolve around the identical problem and identical solution.</p>\n"},{"tags":[],"owner":{"account_id":27925928,"reputation":3,"user_id":21325039,"display_name":"Adeel Akmal"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683534251,"creation_date":1683490353,"answer_id":76196070,"question_id":75625686,"body_markdown":"Update\r\n-------\r\nSo, I was able to resolve this issue basically all I had to do was compile the OpenCV source code with `-DWITH_FFMPEG=ON`.\r\n\r\nOther than that some other issues I had were actually trying to build OpenCV itself in windows as it is a nightmare I highly recommend to include opencv-contrib as extra modules that will fix a lot of dependency issues. \r\n\r\nLastly if you want to actually use FFMPEG in your application make sure to Dynamically load the `opencv_videoio_ffmpegxxx_64.dll` in your application or it will not be able to decode the videos if they are in H.264 format.","title":"OpenCV is not working with ip webcam in Java","body":"<h2>Update</h2>\n<p>So, I was able to resolve this issue basically all I had to do was compile the OpenCV source code with <code>-DWITH_FFMPEG=ON</code>.</p>\n<p>Other than that some other issues I had were actually trying to build OpenCV itself in windows as it is a nightmare I highly recommend to include opencv-contrib as extra modules that will fix a lot of dependency issues.</p>\n<p>Lastly if you want to actually use FFMPEG in your application make sure to Dynamically load the <code>opencv_videoio_ffmpegxxx_64.dll</code> in your application or it will not be able to decode the videos if they are in H.264 format.</p>\n"}],"owner":{"account_id":27925928,"reputation":3,"user_id":21325039,"display_name":"Adeel Akmal"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":369,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75626135,"answer_count":2,"score":0,"last_activity_date":1683534251,"creation_date":1677838126,"question_id":75625686,"body_markdown":"I tried to make access my webcam with opencv in java but it gives me this error \r\n```\r\n[ INFO:0@0.054] global videoio_registry.cpp:232 cv::`anonymous-namespace&#39;::VideoBackendRegistry::VideoBackendRegistry VIDEOIO: Enabled backends(9, sorted by priority): FFMPEG(1000); GSTREAMER(990); INTEL_MFX(980); MSMF(970); DSHOW(960); CV_IMAGES(950); CV_MJPEG(940); UEYE(930); OBSENSOR(920)\r\n[ INFO:0@0.055] global backend_plugin.cpp:383 cv::impl::getPluginCandidates Found 3 plugin(s) for FFMPEG\r\n[ INFO:0@0.056] global plugin_loader.impl.hpp:67 cv::plugin::impl::DynamicLib::libraryLoad load C:\\opencv\\build\\java\\x64\\opencv_videoio_ffmpeg470_64d.dll =&gt; FAILED\r\n[ INFO:0@0.057] global plugin_loader.impl.hpp:67 cv::plugin::impl::DynamicLib::libraryLoad load opencv_videoio_ffmpeg470_64d.dll =&gt; FAILED\r\n[ INFO:0@0.059] global plugin_loader.impl.hpp:67 cv::plugin::impl::DynamicLib::libraryLoad load opencv_videoio_ffmpeg470_64.dll =&gt; FAILED\r\n[ INFO:0@0.059] global backend_plugin.cpp:383 cv::impl::getPluginCandidates Found 2 plugin(s) for GSTREAMER\r\n[ INFO:0@0.060] global plugin_loader.impl.hpp:67 cv::plugin::impl::DynamicLib::libraryLoad load C:\\opencv\\build\\java\\x64\\opencv_videoio_gstreamer470_64d.dll =&gt; FAILED\r\n[ INFO:0@0.061] global plugin_loader.impl.hpp:67 cv::plugin::impl::DynamicLib::libraryLoad load opencv_videoio_gstreamer470_64d.dll =&gt; FAILED\r\n[ INFO:0@0.061] global backend_plugin.cpp:383 cv::impl::getPluginCandidates Found 2 plugin(s) for INTEL_MFX\r\n[ INFO:0@0.062] global plugin_loader.impl.hpp:67 cv::plugin::impl::DynamicLib::libraryLoad load C:\\opencv\\build\\java\\x64\\opencv_videoio_intel_mfx470_64d.dll =&gt; FAILED\r\n[ INFO:0@0.063] global plugin_loader.impl.hpp:67 cv::plugin::impl::DynamicLib::libraryLoad load opencv_videoio_intel_mfx470_64d.dll =&gt; FAILED\r\n[ INFO:0@0.116] global cap_msmf.cpp:1027 CvCapture_MSMF::configureHW MSMF: Using D3D11 video acceleration on GPU device: Intel(R) UHD Graphics 620\r\nOpenCV(4.7.0-dev) Error: Bad argument (CAP_IMAGES: can&#39;t find starting number (in the name of file): rtsp://172.30.75.213:8080/video) in cv::icvExtractPattern, file C:\\GHA-OCV-2\\_work\\ci-gha-workflow\\ci-gha-workflow\\opencv\\modules\\videoio\\src\\cap_images.cpp, line 253\r\n[ERROR:0@1.865] global cap.cpp:166 cv::VideoCapture::open VIDEOIO(CV_IMAGES): raised OpenCV exception:\r\n\r\nOpenCV(4.7.0-dev) C:\\GHA-OCV-2\\_work\\ci-gha-workflow\\ci-gha-workflow\\opencv\\modules\\videoio\\src\\cap_images.cpp:253: error: (-5:Bad argument) CAP_IMAGES: can&#39;t find starting number (in the name of file): rtsp://172.30.75.213:8080/video in function &#39;cv::icvExtractPattern&#39;\r\n```\r\nHere is the code that I worte:\r\n\r\n```\r\nimport javafx.application.Application;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.image.Image;\r\nimport javafx.scene.image.ImageView;\r\nimport javafx.scene.layout.VBox;\r\nimport javafx.stage.Stage;\r\n\r\nimport java.io.ByteArrayInputStream;\r\n\r\nimport org.opencv.core.Core;\r\nimport org.opencv.core.Mat;\r\nimport org.opencv.core.MatOfByte;\r\nimport org.opencv.videoio.VideoCapture;\r\nimport org.opencv.imgcodecs.Imgcodecs;\r\n\r\npublic class capture extends Application {\r\n\r\n    // Make the imageView accessible to all the threads\r\n    volatile ImageView imageView = new ImageView();\r\n\r\n    class CameraThread extends Thread {\r\n        VideoCapture capture = new VideoCapture();\r\n\r\n        @Override\r\n        public void run() {\r\n            capture.open(&quot;http://172.30.75.213:8080/video&quot;);\r\n            Mat frame = new Mat();\r\n            while (true) {\r\n                if (capture.read(frame)) {\r\n                    // Convert the OpenCV frame to a JavaFX image\r\n                    Image image = convertMatToImage(frame);\r\n\r\n                    // Display the image in the ImageView\r\n                    imageView.setImage(image);\r\n                }\r\n            }\r\n        }\r\n\r\n        private Image convertMatToImage(Mat mat) {\r\n            // Convert the Mat object to a byte array\r\n            MatOfByte buffer = new MatOfByte();\r\n            Imgcodecs.imencode(&quot;.png&quot;, mat, buffer);\r\n            byte[] imageData = buffer.toArray();\r\n\r\n            // Convert the byte array to a JavaFX image\r\n            ByteArrayInputStream inputStream = new ByteArrayInputStream(imageData);\r\n            return new Image(inputStream);\r\n        }\r\n\r\n    }\r\n\r\n    @Override\r\n    public void start(Stage stage) {\r\n\r\n        // Start the video capture thread\r\n        Thread videoCaptureThread = new CameraThread();\r\n        videoCaptureThread.setDaemon(true);\r\n        videoCaptureThread.start();\r\n\r\n        stage.setTitle(&quot;Video Capture&quot;);\r\n\r\n        // Create a JavaFX VBox to hold the ImageView\r\n        VBox vbox = new VBox();\r\n        vbox.getChildren().add(imageView);\r\n\r\n        // Create a JavaFX Scene with the VBox and set it on the Stage\r\n        Scene scene = new Scene(vbox, 640, 480);\r\n        stage.setScene(scene);\r\n        stage.show();\r\n\r\n    }\r\n\r\n    public static void main(String args[]) {\r\n        System.loadLibrary(Core.NATIVE_LIBRARY_NAME);\r\n        launch(args);\r\n\r\n    }\r\n}\r\n```\r\n\r\nI tried running the same webcam on python using opencv and it seems to work fine but for some reason it does not work in java. Can you help me understand this because the error message makes no sense\r\n\r\n\r\nI was expecting to access mobile camera through ipcamera in java using opencv but it did not work ","title":"OpenCV is not working with ip webcam in Java","body":"<p>I tried to make access my webcam with opencv in java but it gives me this error</p>\n<pre><code>[ INFO:0@0.054] global videoio_registry.cpp:232 cv::`anonymous-namespace'::VideoBackendRegistry::VideoBackendRegistry VIDEOIO: Enabled backends(9, sorted by priority): FFMPEG(1000); GSTREAMER(990); INTEL_MFX(980); MSMF(970); DSHOW(960); CV_IMAGES(950); CV_MJPEG(940); UEYE(930); OBSENSOR(920)\n[ INFO:0@0.055] global backend_plugin.cpp:383 cv::impl::getPluginCandidates Found 3 plugin(s) for FFMPEG\n[ INFO:0@0.056] global plugin_loader.impl.hpp:67 cv::plugin::impl::DynamicLib::libraryLoad load C:\\opencv\\build\\java\\x64\\opencv_videoio_ffmpeg470_64d.dll =&gt; FAILED\n[ INFO:0@0.057] global plugin_loader.impl.hpp:67 cv::plugin::impl::DynamicLib::libraryLoad load opencv_videoio_ffmpeg470_64d.dll =&gt; FAILED\n[ INFO:0@0.059] global plugin_loader.impl.hpp:67 cv::plugin::impl::DynamicLib::libraryLoad load opencv_videoio_ffmpeg470_64.dll =&gt; FAILED\n[ INFO:0@0.059] global backend_plugin.cpp:383 cv::impl::getPluginCandidates Found 2 plugin(s) for GSTREAMER\n[ INFO:0@0.060] global plugin_loader.impl.hpp:67 cv::plugin::impl::DynamicLib::libraryLoad load C:\\opencv\\build\\java\\x64\\opencv_videoio_gstreamer470_64d.dll =&gt; FAILED\n[ INFO:0@0.061] global plugin_loader.impl.hpp:67 cv::plugin::impl::DynamicLib::libraryLoad load opencv_videoio_gstreamer470_64d.dll =&gt; FAILED\n[ INFO:0@0.061] global backend_plugin.cpp:383 cv::impl::getPluginCandidates Found 2 plugin(s) for INTEL_MFX\n[ INFO:0@0.062] global plugin_loader.impl.hpp:67 cv::plugin::impl::DynamicLib::libraryLoad load C:\\opencv\\build\\java\\x64\\opencv_videoio_intel_mfx470_64d.dll =&gt; FAILED\n[ INFO:0@0.063] global plugin_loader.impl.hpp:67 cv::plugin::impl::DynamicLib::libraryLoad load opencv_videoio_intel_mfx470_64d.dll =&gt; FAILED\n[ INFO:0@0.116] global cap_msmf.cpp:1027 CvCapture_MSMF::configureHW MSMF: Using D3D11 video acceleration on GPU device: Intel(R) UHD Graphics 620\nOpenCV(4.7.0-dev) Error: Bad argument (CAP_IMAGES: can't find starting number (in the name of file): rtsp://172.30.75.213:8080/video) in cv::icvExtractPattern, file C:\\GHA-OCV-2\\_work\\ci-gha-workflow\\ci-gha-workflow\\opencv\\modules\\videoio\\src\\cap_images.cpp, line 253\n[ERROR:0@1.865] global cap.cpp:166 cv::VideoCapture::open VIDEOIO(CV_IMAGES): raised OpenCV exception:\n\nOpenCV(4.7.0-dev) C:\\GHA-OCV-2\\_work\\ci-gha-workflow\\ci-gha-workflow\\opencv\\modules\\videoio\\src\\cap_images.cpp:253: error: (-5:Bad argument) CAP_IMAGES: can't find starting number (in the name of file): rtsp://172.30.75.213:8080/video in function 'cv::icvExtractPattern'\n</code></pre>\n<p>Here is the code that I worte:</p>\n<pre><code>import javafx.application.Application;\nimport javafx.scene.Scene;\nimport javafx.scene.image.Image;\nimport javafx.scene.image.ImageView;\nimport javafx.scene.layout.VBox;\nimport javafx.stage.Stage;\n\nimport java.io.ByteArrayInputStream;\n\nimport org.opencv.core.Core;\nimport org.opencv.core.Mat;\nimport org.opencv.core.MatOfByte;\nimport org.opencv.videoio.VideoCapture;\nimport org.opencv.imgcodecs.Imgcodecs;\n\npublic class capture extends Application {\n\n    // Make the imageView accessible to all the threads\n    volatile ImageView imageView = new ImageView();\n\n    class CameraThread extends Thread {\n        VideoCapture capture = new VideoCapture();\n\n        @Override\n        public void run() {\n            capture.open(&quot;http://172.30.75.213:8080/video&quot;);\n            Mat frame = new Mat();\n            while (true) {\n                if (capture.read(frame)) {\n                    // Convert the OpenCV frame to a JavaFX image\n                    Image image = convertMatToImage(frame);\n\n                    // Display the image in the ImageView\n                    imageView.setImage(image);\n                }\n            }\n        }\n\n        private Image convertMatToImage(Mat mat) {\n            // Convert the Mat object to a byte array\n            MatOfByte buffer = new MatOfByte();\n            Imgcodecs.imencode(&quot;.png&quot;, mat, buffer);\n            byte[] imageData = buffer.toArray();\n\n            // Convert the byte array to a JavaFX image\n            ByteArrayInputStream inputStream = new ByteArrayInputStream(imageData);\n            return new Image(inputStream);\n        }\n\n    }\n\n    @Override\n    public void start(Stage stage) {\n\n        // Start the video capture thread\n        Thread videoCaptureThread = new CameraThread();\n        videoCaptureThread.setDaemon(true);\n        videoCaptureThread.start();\n\n        stage.setTitle(&quot;Video Capture&quot;);\n\n        // Create a JavaFX VBox to hold the ImageView\n        VBox vbox = new VBox();\n        vbox.getChildren().add(imageView);\n\n        // Create a JavaFX Scene with the VBox and set it on the Stage\n        Scene scene = new Scene(vbox, 640, 480);\n        stage.setScene(scene);\n        stage.show();\n\n    }\n\n    public static void main(String args[]) {\n        System.loadLibrary(Core.NATIVE_LIBRARY_NAME);\n        launch(args);\n\n    }\n}\n</code></pre>\n<p>I tried running the same webcam on python using opencv and it seems to work fine but for some reason it does not work in java. Can you help me understand this because the error message makes no sense</p>\n<p>I was expecting to access mobile camera through ipcamera in java using opencv but it did not work</p>\n"},{"tags":["java","android"],"owner":{"account_id":28542466,"reputation":1,"user_id":21848355,"display_name":"honeybadger"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683534053,"creation_date":1683522098,"question_id":76197626,"body_markdown":"I&#39;m having a problem with camera access with the use of card view in android. Every card when being selected does open the camera. \r\n\r\nHere&#39;s the code: \r\n```Java\r\nprivate CardView card1, card2, card3, card4;\r\n\r\n@SuppressLint(&quot;MissingInflatedId&quot;)\r\n@Override\r\nprotected void onCreate(Bundle savedInstanceState) {\r\n    super.onCreate(savedInstanceState);\r\n    setContentView(R.layout.activity_shape_layout);\r\n    Objects.requireNonNull(getSupportActionBar()).setTitle(&quot;Select a Shape&quot;);\r\n    getSupportActionBar().setDisplayHomeAsUpEnabled(true);\r\n\r\n    //Action Bar Color\r\n    ActionBar actionBar;\r\n    actionBar = getSupportActionBar();\r\n    ColorDrawable colorDrawable = new ColorDrawable(Color.parseColor(&quot;#782DD8&quot;));\r\n    actionBar.setBackgroundDrawable(colorDrawable);\r\n\r\n    //CardView buttons\r\n    card1 = (CardView) findViewById(R.id.c1);\r\n    card2 = (CardView) findViewById(R.id.c2);\r\n    card3 = (CardView) findViewById(R.id.c3);\r\n    card4 = (CardView) findViewById(R.id.c4);\r\n\r\n    card1.setOnClickListener(this);\r\n    card2.setOnClickListener(this);\r\n    card3.setOnClickListener(this);\r\n    card4.setOnClickListener(this);\r\n\r\n    }\r\n@Override\r\npublic void onClick(View v) {\r\n    if (v.getId() == R.id.c1 || v.getId() == R.id.c2 || v.getId() == R.id.c3 || v.getId() == R.id.c4) {\r\n        // Check camera permission\r\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M &amp;&amp;\r\n                    checkSelfPermission(Manifest.permission.CAMERA) != PackageManager.PERMISSION_GRANTED) {\r\n            requestPermissions(new String[]{Manifest.permission.CAMERA}, REQUEST_CAMERA_PERMISSION);\r\n        } else {\r\n            // Camera permission already granted, open camera\r\n            openCamera();\r\n        }\r\n    }\r\n}\r\n\r\nprivate CameraDevice cameraDevice;\r\nprivate CameraCaptureSession cameraCaptureSession;\r\nprivate CaptureRequest.Builder captureRequestBuilder;\r\n\r\nprivate void openCamera() {\r\n    // Get the camera manager\r\n\r\n    CameraManager cameraManager = (CameraManager) getSystemService(Context.CAMERA_SERVICE);\r\n\r\n    try {\r\n        // Get the first camera id\r\n        String cameraId = cameraManager.getCameraIdList()[0];\r\n\r\n        // Check camera permission\r\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M &amp;&amp;\r\n                    checkSelfPermission(Manifest.permission.CAMERA) != PackageManager.PERMISSION_GRANTED) {\r\n                requestPermissions(new String[]{Manifest.permission.CAMERA}, REQUEST_CAMERA_PERMISSION);\r\n            return;\r\n        }\r\n\r\n        // Open the camera device\r\n        cameraManager.openCamera(cameraId, new CameraDevice.StateCallback() {\r\n            @Override\r\n            public void onOpened(@NonNull CameraDevice camera) {\r\n                cameraDevice = camera;\r\n                // Start the camera preview\r\n                startPreview();\r\n            }\r\n\r\n            @Override\r\n            public void onDisconnected(@NonNull CameraDevice camera) {\r\n                cameraDevice.close();\r\n                cameraDevice = null;\r\n            }\r\n\r\n            @Override\r\n            public void onError(@NonNull CameraDevice camera, int error) {\r\n                cameraDevice.close();\r\n                cameraDevice = null;\r\n                Log.e(TAG, &quot;Failed to open camera: &quot; + error);\r\n            }\r\n        }, null);\r\n\r\n    } catch (CameraAccessException e) {\r\n        Log.e(TAG, &quot;Failed to access camera: &quot; + e.getMessage());\r\n    }\r\n\r\n```\r\n\r\nI&#39;ve tried implementing the code &quot;Intent&quot; to open the camera on the next layout but it still doesn&#39;t work. When one of the card view is press, the camera should open.","title":"How to have a camera access with card view in android?","body":"<p>I'm having a problem with camera access with the use of card view in android. Every card when being selected does open the camera.</p>\n<p>Here's the code:</p>\n<pre><code>private CardView card1, card2, card3, card4;\n\n@SuppressLint(&quot;MissingInflatedId&quot;)\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_shape_layout);\n    Objects.requireNonNull(getSupportActionBar()).setTitle(&quot;Select a Shape&quot;);\n    getSupportActionBar().setDisplayHomeAsUpEnabled(true);\n\n    //Action Bar Color\n    ActionBar actionBar;\n    actionBar = getSupportActionBar();\n    ColorDrawable colorDrawable = new ColorDrawable(Color.parseColor(&quot;#782DD8&quot;));\n    actionBar.setBackgroundDrawable(colorDrawable);\n\n    //CardView buttons\n    card1 = (CardView) findViewById(R.id.c1);\n    card2 = (CardView) findViewById(R.id.c2);\n    card3 = (CardView) findViewById(R.id.c3);\n    card4 = (CardView) findViewById(R.id.c4);\n\n    card1.setOnClickListener(this);\n    card2.setOnClickListener(this);\n    card3.setOnClickListener(this);\n    card4.setOnClickListener(this);\n\n    }\n@Override\npublic void onClick(View v) {\n    if (v.getId() == R.id.c1 || v.getId() == R.id.c2 || v.getId() == R.id.c3 || v.getId() == R.id.c4) {\n        // Check camera permission\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M &amp;&amp;\n                    checkSelfPermission(Manifest.permission.CAMERA) != PackageManager.PERMISSION_GRANTED) {\n            requestPermissions(new String[]{Manifest.permission.CAMERA}, REQUEST_CAMERA_PERMISSION);\n        } else {\n            // Camera permission already granted, open camera\n            openCamera();\n        }\n    }\n}\n\nprivate CameraDevice cameraDevice;\nprivate CameraCaptureSession cameraCaptureSession;\nprivate CaptureRequest.Builder captureRequestBuilder;\n\nprivate void openCamera() {\n    // Get the camera manager\n\n    CameraManager cameraManager = (CameraManager) getSystemService(Context.CAMERA_SERVICE);\n\n    try {\n        // Get the first camera id\n        String cameraId = cameraManager.getCameraIdList()[0];\n\n        // Check camera permission\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M &amp;&amp;\n                    checkSelfPermission(Manifest.permission.CAMERA) != PackageManager.PERMISSION_GRANTED) {\n                requestPermissions(new String[]{Manifest.permission.CAMERA}, REQUEST_CAMERA_PERMISSION);\n            return;\n        }\n\n        // Open the camera device\n        cameraManager.openCamera(cameraId, new CameraDevice.StateCallback() {\n            @Override\n            public void onOpened(@NonNull CameraDevice camera) {\n                cameraDevice = camera;\n                // Start the camera preview\n                startPreview();\n            }\n\n            @Override\n            public void onDisconnected(@NonNull CameraDevice camera) {\n                cameraDevice.close();\n                cameraDevice = null;\n            }\n\n            @Override\n            public void onError(@NonNull CameraDevice camera, int error) {\n                cameraDevice.close();\n                cameraDevice = null;\n                Log.e(TAG, &quot;Failed to open camera: &quot; + error);\n            }\n        }, null);\n\n    } catch (CameraAccessException e) {\n        Log.e(TAG, &quot;Failed to access camera: &quot; + e.getMessage());\n    }\n\n</code></pre>\n<p>I've tried implementing the code &quot;Intent&quot; to open the camera on the next layout but it still doesn't work. When one of the card view is press, the camera should open.</p>\n"},{"tags":["java","jdbc","jboss","spring-jdbc"],"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1683529167,"post_id":76198093,"comment_id":134374878,"body_markdown":"Check that the JAR file containing the Oracle JDBC driver is on the **runtime** classpath.","body":"Check that the JAR file containing the Oracle JDBC driver is on the <b>runtime</b> classpath."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1683529493,"post_id":76198093,"comment_id":134374944,"body_markdown":"You probably should also consult this: https://blogs.oracle.com/developers/post/configuring-the-oracle-jdbc-drivers-in-a-springboot-project-take-2.  Note the dependencies from &quot;com.oracle.database.jdbc&quot; in the example POM file.","body":"You probably should also consult this: <a href=\"https://blogs.oracle.com/developers/post/configuring-the-oracle-jdbc-drivers-in-a-springboot-project-take-2\" rel=\"nofollow noreferrer\">blogs.oracle.com/developers/post/&hellip;</a>.  Note the dependencies from &quot;com.oracle.database.jdbc&quot; in the example POM file."}],"answers":[{"tags":[],"owner":{"account_id":8088856,"reputation":13,"user_id":6095473,"display_name":"Y.Hladkevych"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683533666,"creation_date":1683533666,"answer_id":76198640,"question_id":76198093,"body_markdown":"It isn&#39;t easy to guess what&#39;s been changed, I&#39;d suggest using the following strategy in such situations:\r\n\r\n 1. Find out a library that provides ojdbc module\r\n 2. Compare results of: mvn dependency:tree command after migration to a newer version and before the migration.\r\n 3. add a missing library to your pom or to your server libs directly \r\n\r\np.s. you may use maven helper plugin for more easy dependency:tree investigations","title":"CannotGetJdbcConnectionException after upgrading springboot version","body":"<p>It isn't easy to guess what's been changed, I'd suggest using the following strategy in such situations:</p>\n<ol>\n<li>Find out a library that provides ojdbc module</li>\n<li>Compare results of: mvn dependency:tree command after migration to a newer version and before the migration.</li>\n<li>add a missing library to your pom or to your server libs directly</li>\n</ol>\n<p>p.s. you may use maven helper plugin for more easy dependency:tree investigations</p>\n"}],"owner":{"account_id":6011371,"reputation":1250,"user_id":4721737,"accept_rate":78,"display_name":"Saqib Ahmed"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1683533666,"creation_date":1683528472,"question_id":76198093,"body_markdown":"After upgrading `spring-boot-starter-parent` version to `2.6.14`, I&#39;am getting following error, the code is working fine on my locale but after deploying on JBOSS server, I &#39;am getting exception : `Failed to obtain JDBC Connection; nested exception is java.sql.SQLException: Unable to load class: oracle.jdbc.OracleDriver from ClassLoader:ModuleClassLoader for Module &quot;deployment.xyz.war&quot;` \r\n\r\n         org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLException: Unable to load class: oracle.jdbc.OracleDriver from ClassLoader:ModuleClassLoader for Module &quot;deployment.xyz.war&quot; from Service Module Loader;ClassLoader:ModuleClassLoader for Module &quot;deployment.xyz.war&quot; from Service Module Loader\r\n    2023-05-08 06:17:46,741 INFO  [stdout] (default task-1)         at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:83) ~[spring-jdbc-5.3.24.jar:5.3.24]\r\n    2023-05-08 06:17:46,741 INFO  [stdout] (default task-1)         at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:646) ~[spring-jdbc-5.3.24.jar:5.3.24]\r\n    2023-05-08 06:17:46,742 INFO  [stdout] (default task-1)         at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:713) ~[spring-jdbc-5.3.24.jar:5.3.24]\r\n    2023-05-08 06:17:46,742 INFO  [stdout] (default task-1)         at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:744) ~[spring-jdbc-5.3.24.jar:5.3.24]\r\n    2023-05-08 06:17:46,742 INFO  [stdout] (default task-1)         at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:757) ~[spring-jdbc-5.3.24.jar:5.3.24]\r\n\r\njava version : `1.8.0_222`\r\nBJOSS version : `7.2`\r\nspring jdbc : `spring-jdbc-5.3.24`","title":"CannotGetJdbcConnectionException after upgrading springboot version","body":"<p>After upgrading <code>spring-boot-starter-parent</code> version to <code>2.6.14</code>, I'am getting following error, the code is working fine on my locale but after deploying on JBOSS server, I 'am getting exception : <code>Failed to obtain JDBC Connection; nested exception is java.sql.SQLException: Unable to load class: oracle.jdbc.OracleDriver from ClassLoader:ModuleClassLoader for Module &quot;deployment.xyz.war&quot;</code></p>\n<pre><code>     org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLException: Unable to load class: oracle.jdbc.OracleDriver from ClassLoader:ModuleClassLoader for Module &quot;deployment.xyz.war&quot; from Service Module Loader;ClassLoader:ModuleClassLoader for Module &quot;deployment.xyz.war&quot; from Service Module Loader\n2023-05-08 06:17:46,741 INFO  [stdout] (default task-1)         at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:83) ~[spring-jdbc-5.3.24.jar:5.3.24]\n2023-05-08 06:17:46,741 INFO  [stdout] (default task-1)         at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:646) ~[spring-jdbc-5.3.24.jar:5.3.24]\n2023-05-08 06:17:46,742 INFO  [stdout] (default task-1)         at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:713) ~[spring-jdbc-5.3.24.jar:5.3.24]\n2023-05-08 06:17:46,742 INFO  [stdout] (default task-1)         at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:744) ~[spring-jdbc-5.3.24.jar:5.3.24]\n2023-05-08 06:17:46,742 INFO  [stdout] (default task-1)         at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:757) ~[spring-jdbc-5.3.24.jar:5.3.24]\n</code></pre>\n<p>java version : <code>1.8.0_222</code>\nBJOSS version : <code>7.2</code>\nspring jdbc : <code>spring-jdbc-5.3.24</code></p>\n"},{"tags":["java","android","rotation"],"comments":[{"owner":{"account_id":12085588,"reputation":237,"user_id":8834839,"display_name":"Jake Madden"},"score":0,"creation_date":1510380320,"post_id":47234626,"comment_id":81420289,"body_markdown":"Thanks for the downvote and no feedback. *eyeroll*","body":"Thanks for the downvote and no feedback. <i>eyeroll</i>"},{"owner":{"account_id":111736,"reputation":11811,"user_id":295004,"display_name":"Morrison Chang"},"score":0,"creation_date":1510381000,"post_id":47234626,"comment_id":81420419,"body_markdown":"Not downvoter but topic is covered by: https://developer.android.com/guide/topics/resources/runtime-changes.html","body":"Not downvoter but topic is covered by: <a href=\"https://developer.android.com/guide/topics/resources/runtime-changes.html\" rel=\"nofollow noreferrer\">developer.android.com/guide/topics/resources/&hellip;</a>"},{"owner":{"account_id":12085588,"reputation":237,"user_id":8834839,"display_name":"Jake Madden"},"score":0,"creation_date":1510411145,"post_id":47234626,"comment_id":81428220,"body_markdown":"Ah, thankyou! That is actually really helpful for another issue I&#39;m having. :)","body":"Ah, thankyou! That is actually really helpful for another issue I&#39;m having. :)"}],"answers":[{"tags":[],"owner":{"account_id":12085588,"reputation":237,"user_id":8834839,"display_name":"Jake Madden"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1683533129,"creation_date":1510380579,"answer_id":47234957,"question_id":47234626,"body_markdown":"I managed to figure this out myself using some help from this post: [Handling Screen Layout Changes In Android][1]. Although their basic conclusion seems to be wrong that you can&#39;t keep a single layout and rotate in the manner I&#39;m looking for? \r\n\r\nCorrect me if there&#39;s some fatal mistake I&#39;m making, but the code I&#39;ve used seems to work. The basic idea is to use a Linear Layout and change the orientation as the screen orientation changes:\r\n\r\n    //Manage screen rotation\r\n        @Override\r\n        public void onConfigurationChanged(Configuration newConfig) {\r\n            super.onConfigurationChanged(newConfig);\r\n    \r\n            LinearLayout readingsLinearLayout = findViewById(R.id.readingsLinearLayout);\r\n    \r\n            if (getResources().getConfiguration().orientation == Configuration.ORIENTATION_PORTRAIT) {\r\n    \r\n                readingsLinearLayout.setOrientation(LinearLayout.VERTICAL);\r\n    \r\n            } else {\r\n    \r\n              readingsLinearLayout.setOrientation(LinearLayout.HORIZONTAL);\r\n    \r\n            }\r\n    \r\n        }\r\n\r\n\r\n  [1]: https://www.codeproject.com/Articles/422431/Handling-screen-layout-changes-in-Android","title":"Fixed position on rotate","body":"<p>I managed to figure this out myself using some help from this post: <a href=\"https://www.codeproject.com/Articles/422431/Handling-screen-layout-changes-in-Android\" rel=\"nofollow noreferrer\">Handling Screen Layout Changes In Android</a>. Although their basic conclusion seems to be wrong that you can't keep a single layout and rotate in the manner I'm looking for?</p>\n<p>Correct me if there's some fatal mistake I'm making, but the code I've used seems to work. The basic idea is to use a Linear Layout and change the orientation as the screen orientation changes:</p>\n<pre><code>//Manage screen rotation\n    @Override\n    public void onConfigurationChanged(Configuration newConfig) {\n        super.onConfigurationChanged(newConfig);\n\n        LinearLayout readingsLinearLayout = findViewById(R.id.readingsLinearLayout);\n\n        if (getResources().getConfiguration().orientation == Configuration.ORIENTATION_PORTRAIT) {\n\n            readingsLinearLayout.setOrientation(LinearLayout.VERTICAL);\n\n        } else {\n\n          readingsLinearLayout.setOrientation(LinearLayout.HORIZONTAL);\n\n        }\n\n    }\n</code></pre>\n"}],"owner":{"account_id":12085588,"reputation":237,"user_id":8834839,"display_name":"Jake Madden"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":141,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1683533129,"creation_date":1510377512,"question_id":47234626,"body_markdown":"I feel like this should be fairly simple, but I couldn&#39;t find anything online. \r\n\r\nMy question is the same as [this question][1], just for Android instead of iOS: I want to rotate UI elements while keeping their dimensions/position fixed on screen rotate. I realise I could create a second layout file for landscape, but I want to prevent a full reload of the activity on rotating when it involves downloading web content and processing it (takes a few seconds every time).\r\n\r\n  [1]: https://stackoverflow.com/questions/9346864/rotating-uilabel-with-fixed-position","title":"Fixed position on rotate","body":"<p>I feel like this should be fairly simple, but I couldn't find anything online. </p>\n\n<p>My question is the same as <a href=\"https://stackoverflow.com/questions/9346864/rotating-uilabel-with-fixed-position\">this question</a>, just for Android instead of iOS: I want to rotate UI elements while keeping their dimensions/position fixed on screen rotate. I realise I could create a second layout file for landscape, but I want to prevent a full reload of the activity on rotating when it involves downloading web content and processing it (takes a few seconds every time).</p>\n"},{"tags":["java","spring-boot","quartz-scheduler"],"comments":[{"owner":{"account_id":8061851,"reputation":425,"user_id":6077161,"display_name":"Anshul"},"score":0,"creation_date":1658142057,"post_id":73020972,"comment_id":128969130,"body_markdown":"You can refer this : https://stackoverflow.com/questions/12626380/quartz-scheduler-in-cluster-environment. I hope this helps and I am answering your question","body":"You can refer this : <a href=\"https://stackoverflow.com/questions/12626380/quartz-scheduler-in-cluster-environment\" title=\"quartz scheduler in cluster environment\">stackoverflow.com/questions/12626380/&hellip;</a>. I hope this helps and I am answering your question"},{"owner":{"account_id":8632535,"reputation":147,"user_id":6463728,"display_name":"Anil  Gupta"},"score":0,"creation_date":1658143780,"post_id":73020972,"comment_id":128969791,"body_markdown":"Before posting the question i went through the link you shared, and that question is talking about how to run quartz job in a clustered environment, what i am looking for is how to run separate group of jobs to run on diff machines without any code changes, mu current quartz version is 2.1","body":"Before posting the question i went through the link you shared, and that question is talking about how to run quartz job in a clustered environment, what i am looking for is how to run separate group of jobs to run on diff machines without any code changes, mu current quartz version is 2.1"},{"owner":{"account_id":4809624,"reputation":3467,"user_id":3883475,"accept_rate":85,"display_name":"Ironluca"},"score":0,"creation_date":1658154083,"post_id":73020972,"comment_id":128974121,"body_markdown":"First ask yourself, if you really need to do this; in a horizontally scaling clustered environment, all cluster members should be same. In your case, all cluster members will not be the same. For instance if you add a new server to the cluster, which job group should this member process. Having said that, to do this you need to initialize the Quartz Scheduler from different properties file on different server and configure different job store. You will have additional problem of maintaining different job stores or implement your own and use PROP_JOB_STORE_CLASS to set it on the schedulers.","body":"First ask yourself, if you really need to do this; in a horizontally scaling clustered environment, all cluster members should be same. In your case, all cluster members will not be the same. For instance if you add a new server to the cluster, which job group should this member process. Having said that, to do this you need to initialize the Quartz Scheduler from different properties file on different server and configure different job store. You will have additional problem of maintaining different job stores or implement your own and use PROP_JOB_STORE_CLASS to set it on the schedulers."}],"answers":[{"tags":[],"owner":{"account_id":13124442,"reputation":66,"user_id":9480909,"display_name":"zgy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683532571,"creation_date":1683532571,"answer_id":76198522,"question_id":73020972,"body_markdown":"You can refer to https://stackoverflow.com/a/55302145/9480909 \r\n\r\nJust specify different **org.quartz.scheduler.instanceName** for different applications.\r\n\r\nSince the old project I maintain configures the scheduler bean through xml, the configuration method is slightly different.\r\n\r\nIn short, it is to modify the **schedulerName** property of **org.springframework.scheduling.quartz.SchedulerFactoryBean**.","title":"How to define quartz config so that only one group of jobs get picked","body":"<p>You can refer to <a href=\"https://stackoverflow.com/a/55302145/9480909\">https://stackoverflow.com/a/55302145/9480909</a></p>\n<p>Just specify different <strong>org.quartz.scheduler.instanceName</strong> for different applications.</p>\n<p>Since the old project I maintain configures the scheduler bean through xml, the configuration method is slightly different.</p>\n<p>In short, it is to modify the <strong>schedulerName</strong> property of <strong>org.springframework.scheduling.quartz.SchedulerFactoryBean</strong>.</p>\n"}],"owner":{"account_id":8632535,"reputation":147,"user_id":6463728,"display_name":"Anil  Gupta"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":638,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1683532571,"creation_date":1658140714,"question_id":73020972,"body_markdown":"I have a micro-service which is running quartz job for different vendor, am planning to run this on multiple instances, how did i make sure that only one group of job is running on first server and the other group is running on 2nd server.\r\n\r\nI am currently using Quartz 2.2.1 version","title":"How to define quartz config so that only one group of jobs get picked","body":"<p>I have a micro-service which is running quartz job for different vendor, am planning to run this on multiple instances, how did i make sure that only one group of job is running on first server and the other group is running on 2nd server.</p>\n<p>I am currently using Quartz 2.2.1 version</p>\n"},{"tags":["java","spring","spring-boot","asynchronous"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":2,"creation_date":1683530742,"post_id":76198238,"comment_id":134375194,"body_markdown":"I am lacking sleep myself but *&quot;I&#39;ve included a Thread.sleep() method call for 10 seconds to test if it is waiting for the complete duration or not. If it is waiting for the complete duration, then it is synchronous, otherwise, it is asynchronous.&quot;*  does not seem to be correct.   You are forcing a sleep.","body":"I am lacking sleep myself but <i>&quot;I&#39;ve included a Thread.sleep() method call for 10 seconds to test if it is waiting for the complete duration or not. If it is waiting for the complete duration, then it is synchronous, otherwise, it is asynchronous.&quot;</i>  does not seem to be correct.   You are forcing a sleep."},{"owner":{"account_id":28512191,"reputation":21,"user_id":21822041,"display_name":"Deepak Mathur"},"score":0,"creation_date":1683531048,"post_id":76198238,"comment_id":134375260,"body_markdown":"thank you for your response but i don&#39;t understand it can you elaborate ?","body":"thank you for your response but i don&#39;t understand it can you elaborate ?"},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1683532307,"post_id":76198238,"comment_id":134375477,"body_markdown":"You are calling sleep, **then** you execute your command","body":"You are calling sleep, <b>then</b> you execute your command"},{"owner":{"account_id":16871523,"reputation":706,"user_id":12199915,"display_name":"Alex"},"score":1,"creation_date":1683532376,"post_id":76198238,"comment_id":134375496,"body_markdown":"When you use `Thread.sleep` in such manner you first blocking the executing thread and then after 10 seconds return a `CompletableFuture`","body":"When you use <code>Thread.sleep</code> in such manner you first blocking the executing thread and then after 10 seconds return a <code>CompletableFuture</code>"}],"answers":[{"comments":[{"owner":{"account_id":28512191,"reputation":21,"user_id":21822041,"display_name":"Deepak Mathur"},"score":0,"creation_date":1683534205,"post_id":76198491,"comment_id":134375850,"body_markdown":"thank you again for your response but what i want \n\n\n1. My Controller should be available for the client side always even after my sevice is taking time then it doesn&#39;t wait for it \n\n\n2. If the that interval of period 10sec sleep getting that response back","body":"thank you again for your response but what i want    1. My Controller should be available for the client side always even after my sevice is taking time then it doesn&#39;t wait for it    2. If the that interval of period 10sec sleep getting that response back"}],"tags":[],"owner":{"account_id":2546777,"reputation":168,"user_id":2211431,"display_name":"human"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1683532326,"creation_date":1683532326,"answer_id":76198491,"question_id":76198238,"body_markdown":"Question is not very clear, so answering based on the given code. \r\n1. Your `sleep(10000)` is called before starting `supplyAsync()` -&gt; so it ***WILL ALWAYS*** wait for 10 secs then executes next instruction, which is `make-an-async-call`. In other words, `sleep()` and `supplyAsync()` are written in synchronous manner. \r\n2. `.thenApply()` will execute after async call completes. Since `async()` call itself starts after 10 secs, then will also happen after 10 secs.","title":"Why is my asynchronous GET request working synchronously in Spring Boot?","body":"<p>Question is not very clear, so answering based on the given code.</p>\n<ol>\n<li>Your <code>sleep(10000)</code> is called before starting <code>supplyAsync()</code> -&gt; so it <em><strong>WILL ALWAYS</strong></em> wait for 10 secs then executes next instruction, which is <code>make-an-async-call</code>. In other words, <code>sleep()</code> and <code>supplyAsync()</code> are written in synchronous manner.</li>\n<li><code>.thenApply()</code> will execute after async call completes. Since <code>async()</code> call itself starts after 10 secs, then will also happen after 10 secs.</li>\n</ol>\n"}],"owner":{"account_id":28512191,"reputation":21,"user_id":21822041,"display_name":"Deepak Mathur"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":134,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1683532326,"creation_date":1683529932,"question_id":76198238,"body_markdown":"I&#39;m currently working on a Spring Boot application where I&#39;m implementing asynchronous requests using CompletableFutures. However, I&#39;m facing an issue where my GET request seems to be working synchronously instead of asynchronously. I&#39;ve included a Thread.sleep() method call for 10 seconds to test if it is waiting for the complete duration or not. If it is waiting for the complete duration, then it is synchronous, otherwise, it is asynchronous.\r\n\r\ncode is given below:\r\n\r\n//service\r\n```\r\n @Override\r\n    public CompletableFuture&lt;Subscribers&gt; getUserById(int id) {\r\n        try {\r\n            Thread.sleep(10000);\r\n        } catch (InterruptedException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n        return CompletableFuture.supplyAsync(() -&gt; userRepository.findById(id).orElse(null));\r\n    }\r\n\r\n```\r\n\r\n//controller\r\n\r\n```\r\n   @GetMapping(&quot;/getMode/{id}&quot;)\r\n    public CompletableFuture&lt;ResponseEntity&lt;?&gt;&gt; getUserById(@PathVariable int id) {\r\n        return userService.getUserById(id)\r\n                .thenApply(user -&gt; {\r\n                    if(user != null) {\r\n                        return ResponseEntity.ok().body(user);\r\n                    } else {\r\n                        return ResponseEntity.notFound().build();\r\n                    }\r\n\r\n                })\r\n                .exceptionally(ex -&gt; ResponseEntity.status(HttpStatus.INTERNAL_SERVER_ERROR).build());\r\n\r\n    }\r\n```\r\nIt would be helpful to provide some code examples or specific details about your implementation in order to give a clearer understanding of the problem.\r\n\r\n","title":"Why is my asynchronous GET request working synchronously in Spring Boot?","body":"<p>I'm currently working on a Spring Boot application where I'm implementing asynchronous requests using CompletableFutures. However, I'm facing an issue where my GET request seems to be working synchronously instead of asynchronously. I've included a Thread.sleep() method call for 10 seconds to test if it is waiting for the complete duration or not. If it is waiting for the complete duration, then it is synchronous, otherwise, it is asynchronous.</p>\n<p>code is given below:</p>\n<p>//service</p>\n<pre><code> @Override\n    public CompletableFuture&lt;Subscribers&gt; getUserById(int id) {\n        try {\n            Thread.sleep(10000);\n        } catch (InterruptedException e) {\n            throw new RuntimeException(e);\n        }\n        return CompletableFuture.supplyAsync(() -&gt; userRepository.findById(id).orElse(null));\n    }\n\n</code></pre>\n<p>//controller</p>\n<pre><code>   @GetMapping(&quot;/getMode/{id}&quot;)\n    public CompletableFuture&lt;ResponseEntity&lt;?&gt;&gt; getUserById(@PathVariable int id) {\n        return userService.getUserById(id)\n                .thenApply(user -&gt; {\n                    if(user != null) {\n                        return ResponseEntity.ok().body(user);\n                    } else {\n                        return ResponseEntity.notFound().build();\n                    }\n\n                })\n                .exceptionally(ex -&gt; ResponseEntity.status(HttpStatus.INTERNAL_SERVER_ERROR).build());\n\n    }\n</code></pre>\n<p>It would be helpful to provide some code examples or specific details about your implementation in order to give a clearer understanding of the problem.</p>\n"},{"tags":["java","spring","quarkus"],"comments":[{"owner":{"account_id":3052937,"reputation":17914,"user_id":2587166,"accept_rate":83,"display_name":"Luca Basso Ricci"},"score":0,"creation_date":1683534174,"post_id":76198455,"comment_id":134375844,"body_markdown":"https://quarkus.io/guides/resteasy-reactive#parameter-mapping","body":"<a href=\"https://quarkus.io/guides/resteasy-reactive#parameter-mapping\" rel=\"nofollow noreferrer\">quarkus.io/guides/resteasy-reactive#parameter-mapping</a>"},{"owner":{"account_id":2922228,"reputation":61034,"user_id":2504224,"display_name":"geoand"},"score":0,"creation_date":1683541634,"post_id":76198455,"comment_id":134377339,"body_markdown":"We&#39;ll need more information about what exactly you are trying to do","body":"We&#39;ll need more information about what exactly you are trying to do"},{"owner":{"account_id":21485072,"reputation":21,"user_id":15831824,"display_name":"Ayume"},"score":0,"creation_date":1683618959,"post_id":76198455,"comment_id":134390150,"body_markdown":"I don&#39;t have a specific case or goal. Colleagues and I were just wondering if there was something similar to spring the HandlerMethodArgumentResolver. The link to resteasy seems to reflect at least a similar approach, so thank you very much","body":"I don&#39;t have a specific case or goal. Colleagues and I were just wondering if there was something similar to spring the HandlerMethodArgumentResolver. The link to resteasy seems to reflect at least a similar approach, so thank you very much"}],"owner":{"account_id":21485072,"reputation":21,"user_id":15831824,"display_name":"Ayume"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":99,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1683532066,"creation_date":1683532066,"question_id":76198455,"body_markdown":"I hope to find help here because I&#39;m struggling for quite a long time to find an elegant way to custom parameter injection using quarkus (maybe with help of one of the many handy extensions). What I was thinking was something like spring&#39;s HandlerMethodArgumentResolver in this link: [text](https://www.petrikainulainen.net/programming/spring-framework/spring-from-the-trenches-creating-a-custom-handlermethodargumentresolver/)\r\n\r\nThus far I haven&#39;t found a decent way to handle this (pun intended)\r\nThanks in advance!\r\n\r\nsearching for alternative implementations but ended up not being satisfied. Maybe got I got drifted away and lack the experience of being successful to find anything of value.","title":"Quarkus custom parameter injection for handling complex objects","body":"<p>I hope to find help here because I'm struggling for quite a long time to find an elegant way to custom parameter injection using quarkus (maybe with help of one of the many handy extensions). What I was thinking was something like spring's HandlerMethodArgumentResolver in this link: <a href=\"https://www.petrikainulainen.net/programming/spring-framework/spring-from-the-trenches-creating-a-custom-handlermethodargumentresolver/\" rel=\"nofollow noreferrer\">text</a></p>\n<p>Thus far I haven't found a decent way to handle this (pun intended)\nThanks in advance!</p>\n<p>searching for alternative implementations but ended up not being satisfied. Maybe got I got drifted away and lack the experience of being successful to find anything of value.</p>\n"},{"tags":["java","compression","gzip","tar","archive"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1683285863,"post_id":76180634,"comment_id":134347008,"body_markdown":"afaics with Commons Compress, you&#39;d only need to *enumerate* the entries until you find the right one, at which point, you could get a `InputStream` on it","body":"afaics with Commons Compress, you&#39;d only need to <i>enumerate</i> the entries until you find the right one, at which point, you could get a <code>InputStream</code> on it"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1683286604,"post_id":76180634,"comment_id":134347141,"body_markdown":"`org.codehaus.plexus.archiver.tar.TarUnArchiver` seems to be able to extract an entry by path directly","body":"<code>org.codehaus.plexus.archiver.tar.TarUnArchiver</code> seems to be able to extract an entry by path directly"},{"owner":{"account_id":4919628,"reputation":18071,"user_id":3962537,"display_name":"Dan Mašek"},"score":0,"creation_date":1683288566,"post_id":76180634,"comment_id":134347587,"body_markdown":"&quot;Is there a tool, library...&quot; -- Note that questions &quot;seeking recommendations for books, tools, software libraries, and more&quot; are considered off-topic here ([help/on-topic]). Please [edit] your question to comply with that rule.","body":"&quot;Is there a tool, library...&quot; -- Note that questions &quot;seeking recommendations for books, tools, software libraries, and more&quot; are considered off-topic here (<a href=\"https://stackoverflow.com/help/on-topic\">help center</a>). Please <a href=\"https://stackoverflow.com/posts/76180634/edit\">edit</a> your question to comply with that rule."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1683292941,"post_id":76180634,"comment_id":134348633,"body_markdown":"A `.tar.gz` file is exactly what the name suggests: a `.tar` file that has been compressed with `gzip` whereas the latter has no notion of “entries”. You can [extract the `gzip` file in a streaming mode](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/zip/GZIPInputStream.html), to iterate over the entries of the contained `.tar` file until reaching the desired entry but there’s no way around extracting the compressed data up to this point.","body":"A <code>.tar.gz</code> file is exactly what the name suggests: a <code>.tar</code> file that has been compressed with <code>gzip</code> whereas the latter has no notion of “entries”. You can <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/zip/GZIPInputStream.html\" rel=\"nofollow noreferrer\">extract the <code>gzip</code> file in a streaming mode</a>, to iterate over the entries of the contained <code>.tar</code> file until reaching the desired entry but there’s no way around extracting the compressed data up to this point."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1683306983,"post_id":76180634,"comment_id":134352150,"body_markdown":"@Holger is right, I was stupidly thinking of a tar.gz as a tar file with *each* entry gzipped ;)","body":"@Holger is right, I was stupidly thinking of a tar.gz as a tar file with <i>each</i> entry gzipped ;)"}],"answers":[{"tags":[],"owner":{"account_id":1136690,"reputation":104411,"user_id":1180620,"accept_rate":83,"display_name":"Mark Adler"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683299289,"creation_date":1683299289,"answer_id":76183608,"question_id":76180634,"body_markdown":"[pixz][1] should do what you want. It looks like you can reconstruct the archive for your use, in which case you can build it with random access blocks and an index to the tar files using pixz.\r\n\r\n\r\n  [1]: https://github.com/vasi/pixz/","title":"Efficiently extracting a single file from a large tar.xz archive without decompressing the entire archive","body":"<p><a href=\"https://github.com/vasi/pixz/\" rel=\"nofollow noreferrer\">pixz</a> should do what you want. It looks like you can reconstruct the archive for your use, in which case you can build it with random access blocks and an index to the tar files using pixz.</p>\n"}],"owner":{"account_id":9701119,"reputation":1,"user_id":21824536,"display_name":"Plank"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":331,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1683531322,"creation_date":1683278256,"question_id":76180634,"body_markdown":"I have a large tar.gz archive, and I need to extract a single file from it without having to decompress and unpack the entire archive. The current process I&#39;m using seems to extract the whole tar.xz file first, and then searches for the specific file I need (e.g., &quot;153381.pb&quot;). This approach is time-consuming and resource-intensive, and I&#39;m looking for a more efficient way to directly locate and extract the target file from the compressed archive.\r\n\r\nI would like to know if there are any general strategies or techniques that could help me achieve this goal of extracting a single file from a tar.xz archive more efficiently, without decompressing the entire archive first. Any suggestions or guidance would be greatly appreciated.\r\n\r\nThe current tar.gz archive I&#39;m working with is 106MB and contains around 1.5 million files. I&#39;ve experimented with dividing the archive into smaller groups of 10,000 files each and compressing them using the .xz format. With this approach, extracting a specific file becomes almost instantaneous. However, I&#39;m trying to determine if this is the most appropriate solution or if there is an alternative compression method that allows for efficient extraction of individual files without needing to decompress the entire archive.","title":"Efficiently extracting a single file from a large tar.xz archive without decompressing the entire archive","body":"<p>I have a large tar.gz archive, and I need to extract a single file from it without having to decompress and unpack the entire archive. The current process I'm using seems to extract the whole tar.xz file first, and then searches for the specific file I need (e.g., &quot;153381.pb&quot;). This approach is time-consuming and resource-intensive, and I'm looking for a more efficient way to directly locate and extract the target file from the compressed archive.</p>\n<p>I would like to know if there are any general strategies or techniques that could help me achieve this goal of extracting a single file from a tar.xz archive more efficiently, without decompressing the entire archive first. Any suggestions or guidance would be greatly appreciated.</p>\n<p>The current tar.gz archive I'm working with is 106MB and contains around 1.5 million files. I've experimented with dividing the archive into smaller groups of 10,000 files each and compressing them using the .xz format. With this approach, extracting a specific file becomes almost instantaneous. However, I'm trying to determine if this is the most appropriate solution or if there is an alternative compression method that allows for efficient extraction of individual files without needing to decompress the entire archive.</p>\n"},{"tags":["java","web-services","soap","jax-ws","jaxws-maven-plugin"],"comments":[{"owner":{"account_id":114756,"reputation":57127,"user_id":301607,"accept_rate":100,"display_name":"StanislavL"},"score":0,"creation_date":1495115026,"post_id":44049228,"comment_id":75124236,"body_markdown":"Map is an interface so no way to instantiate it. Try to make it class `HashMap&lt;QName, String&gt; otherAttributes = new HashMap()` (need to adapt getter/setter as well)","body":"Map is an interface so no way to instantiate it. Try to make it class <code>HashMap&lt;QName, String&gt; otherAttributes = new HashMap()</code> (need to adapt getter/setter as well)"},{"owner":{"account_id":7188908,"reputation":411,"user_id":5489970,"accept_rate":75,"display_name":"Manuel S."},"score":0,"creation_date":1495115190,"post_id":44049228,"comment_id":75124360,"body_markdown":"I get that, But this is a class auto-generated by jaxws-maven-plugin, So why would it generate a class that can&#39;t be sent through a ws?","body":"I get that, But this is a class auto-generated by jaxws-maven-plugin, So why would it generate a class that can&#39;t be sent through a ws?"},{"owner":{"account_id":114756,"reputation":57127,"user_id":301607,"accept_rate":100,"display_name":"StanislavL"},"score":0,"creation_date":1495115298,"post_id":44049228,"comment_id":75124444,"body_markdown":"It can be sent. I think problem is parsing when the Map should be instantiated. Could be WS uses e.g. LinkedHashMap to keep order.","body":"It can be sent. I think problem is parsing when the Map should be instantiated. Could be WS uses e.g. LinkedHashMap to keep order."},{"owner":{"account_id":7188908,"reputation":411,"user_id":5489970,"accept_rate":75,"display_name":"Manuel S."},"score":0,"creation_date":1495115971,"post_id":44049228,"comment_id":75124991,"body_markdown":"I see, but then I don&#39;t know what I can do, as I don&#39;t control what type of map the attribute is defined, as this is an external library I use with the auto-gen classes. Even If I altered the client, the jaxws plugin will re-generate this classes on maven install/package etc...","body":"I see, but then I don&#39;t know what I can do, as I don&#39;t control what type of map the attribute is defined, as this is an external library I use with the auto-gen classes. Even If I altered the client, the jaxws plugin will re-generate this classes on maven install/package etc..."},{"owner":{"account_id":114756,"reputation":57127,"user_id":301607,"accept_rate":100,"display_name":"StanislavL"},"score":0,"creation_date":1495116524,"post_id":44049228,"comment_id":75125454,"body_markdown":"Try to use `&lt;jaxb:globalBindings ` and define a binding customization file https://web-gmazza.rhcloud.com/blog/entry/enhancing-jaxb-artifacts to use desired implementation for maps (e.g. LinkedHashMap always). Have not tried myself","body":"Try to use <code>&lt;jaxb:globalBindings </code> and define a binding customization file <a href=\"https://web-gmazza.rhcloud.com/blog/entry/enhancing-jaxb-artifacts\" rel=\"nofollow noreferrer\">web-gmazza.rhcloud.com/blog/entry/enhancing-jaxb-artifacts</a> to use desired implementation for maps (e.g. LinkedHashMap always). Have not tried myself"},{"owner":{"account_id":7188908,"reputation":411,"user_id":5489970,"accept_rate":75,"display_name":"Manuel S."},"score":0,"creation_date":1495187401,"post_id":44049228,"comment_id":75157625,"body_markdown":"I haven&#39;t found anything related to map implementation in custom bindings","body":"I haven&#39;t found anything related to map implementation in custom bindings"}],"answers":[{"tags":[],"owner":{"account_id":7188908,"reputation":411,"user_id":5489970,"accept_rate":75,"display_name":"Manuel S."},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1495627203,"creation_date":1495627203,"answer_id":44157825,"question_id":44049228,"body_markdown":"The problem was finally solved by removing:\r\n\r\n    @WebService(name = &quot;DistributorsV1Port&quot;, targetNamespace = &quot;http://www.opentravel.org/OTA/2003/05&quot;)\r\n    @SOAPBinding(parameterStyle = SOAPBinding.ParameterStyle.BARE)\r\n    @XmlSeeAlso({\r\n            ObjectFactory.class\r\n    })\r\n\r\nFrom the implementation. As those annotations are inherited, I didn&#39;t need them there, and then IntelliJ won&#39;t complain anymore.\r\n\r\nAnyways, having them there shouldn&#39;t be a problem, and I guess this is an issue with IntelliJ&#39;s warnings.","title":"Class java.util.Map not public or does not allow instantiation with auto generated classes in WebService","body":"<p>The problem was finally solved by removing:</p>\n\n<pre><code>@WebService(name = \"DistributorsV1Port\", targetNamespace = \"http://www.opentravel.org/OTA/2003/05\")\n@SOAPBinding(parameterStyle = SOAPBinding.ParameterStyle.BARE)\n@XmlSeeAlso({\n        ObjectFactory.class\n})\n</code></pre>\n\n<p>From the implementation. As those annotations are inherited, I didn't need them there, and then IntelliJ won't complain anymore.</p>\n\n<p>Anyways, having them there shouldn't be a problem, and I guess this is an issue with IntelliJ's warnings.</p>\n"}],"owner":{"account_id":7188908,"reputation":411,"user_id":5489970,"accept_rate":75,"display_name":"Manuel S."},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6203,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":44157825,"answer_count":1,"score":2,"last_activity_date":1683528866,"creation_date":1495114364,"question_id":44049228,"body_markdown":"I have a WSDL provided by a partner, based on the OTA standard http://www.opentravel.org/OTA/2003/05.\r\n\r\nI generated a Java Client using jaxws-maven-plugin to auto generate Java classes.\r\nThe port is available through a ServiceClient that provides the methods. Until here, no problem at all.\r\n\r\nThe problems come when, for testing purposes, we need to create a mock implementation of the WebService.\r\n\r\nI&#39;ve done this with other WebServices and didn&#39;t get any errors, but for this one I get the following error when implementing the Interface&#39;s method:\r\n\r\n&gt; Web method problem:Class java.util.Map not public or does not allow\r\n&gt; instantiation\r\n\r\nSo my interface looks like this:\r\n\r\n    @WebService(name = &quot;DistributorsV1Port&quot;, targetNamespace = &quot;http://www.opentravel.org/OTA/2003/05&quot;)\r\n    @SOAPBinding(parameterStyle = SOAPBinding.ParameterStyle.BARE)\r\n    @XmlSeeAlso({\r\n            ObjectFactory.class\r\n    })\r\n    public interface ServiceMock extends ServiceDispatcher&lt;Object, Object&gt; {\r\n    \r\n        @WebMethod(operationName = &quot;GetMultiAvailability&quot;)\r\n        @WebResult(name = &quot;OTA_HotelAvailRS&quot;, targetNamespace = &quot;http://www.opentravel.org/OTA/2003/05&quot;, partName = &quot;response&quot;)\r\n        public OTAHotelAvailRS getMultiAvailability(\r\n            @WebParam(name = &quot;OTA_HotelAvailRQ&quot;, targetNamespace = &quot;http://www.opentravel.org/OTA/2003/05&quot;, partName = &quot;request&quot;)\r\n                    OTAHotelAvailRQ request);\r\n\r\nAnd the implementation is as follows:\r\n\r\n    @WebService(name = &quot;DistributorsV1Port&quot;, targetNamespace = &quot;http://www.opentravel.org/OTA/2003/05&quot;)\r\n    @SOAPBinding(parameterStyle = SOAPBinding.ParameterStyle.BARE)\r\n    @XmlSeeAlso({\r\n            ObjectFactory.class\r\n    })\r\n    public class ServiceMockImpl extends ServiceDispatcherImpl&lt;Object, Object&gt; implements ServiceMock {\r\n\r\n        @Override\r\n        public OTAHotelAvailRS getMultiAvailability(OTAHotelAvailRQ request) {\r\n            return (OTAHotelAvailRS) dispatch(request);\r\n        }\r\n    }\r\n\r\n\r\nSo what I understand, is that one of the attributes of the OTAHotelAvailRQ is a map, and @WebService doesn&#39;t like returning Maps. But this class has been auto generated by jax-ws plugin, so I&#39;m getting a bit lost.\r\n\r\nThis is the attribute:\r\n\r\n    @XmlAnyAttribute\r\n    private Map&lt;QName, String&gt; otherAttributes = new HashMap();\r\n\r\n\r\nIf more code is helpful, please request the classes you would like to see. \r\n\r\n","title":"Class java.util.Map not public or does not allow instantiation with auto generated classes in WebService","body":"<p>I have a WSDL provided by a partner, based on the OTA standard <a href=\"http://www.opentravel.org/OTA/2003/05\" rel=\"nofollow noreferrer\">http://www.opentravel.org/OTA/2003/05</a>.</p>\n\n<p>I generated a Java Client using jaxws-maven-plugin to auto generate Java classes.\nThe port is available through a ServiceClient that provides the methods. Until here, no problem at all.</p>\n\n<p>The problems come when, for testing purposes, we need to create a mock implementation of the WebService.</p>\n\n<p>I've done this with other WebServices and didn't get any errors, but for this one I get the following error when implementing the Interface's method:</p>\n\n<blockquote>\n  <p>Web method problem:Class java.util.Map not public or does not allow\n  instantiation</p>\n</blockquote>\n\n<p>So my interface looks like this:</p>\n\n<pre><code>@WebService(name = \"DistributorsV1Port\", targetNamespace = \"http://www.opentravel.org/OTA/2003/05\")\n@SOAPBinding(parameterStyle = SOAPBinding.ParameterStyle.BARE)\n@XmlSeeAlso({\n        ObjectFactory.class\n})\npublic interface ServiceMock extends ServiceDispatcher&lt;Object, Object&gt; {\n\n    @WebMethod(operationName = \"GetMultiAvailability\")\n    @WebResult(name = \"OTA_HotelAvailRS\", targetNamespace = \"http://www.opentravel.org/OTA/2003/05\", partName = \"response\")\n    public OTAHotelAvailRS getMultiAvailability(\n        @WebParam(name = \"OTA_HotelAvailRQ\", targetNamespace = \"http://www.opentravel.org/OTA/2003/05\", partName = \"request\")\n                OTAHotelAvailRQ request);\n</code></pre>\n\n<p>And the implementation is as follows:</p>\n\n<pre><code>@WebService(name = \"DistributorsV1Port\", targetNamespace = \"http://www.opentravel.org/OTA/2003/05\")\n@SOAPBinding(parameterStyle = SOAPBinding.ParameterStyle.BARE)\n@XmlSeeAlso({\n        ObjectFactory.class\n})\npublic class ServiceMockImpl extends ServiceDispatcherImpl&lt;Object, Object&gt; implements ServiceMock {\n\n    @Override\n    public OTAHotelAvailRS getMultiAvailability(OTAHotelAvailRQ request) {\n        return (OTAHotelAvailRS) dispatch(request);\n    }\n}\n</code></pre>\n\n<p>So what I understand, is that one of the attributes of the OTAHotelAvailRQ is a map, and @WebService doesn't like returning Maps. But this class has been auto generated by jax-ws plugin, so I'm getting a bit lost.</p>\n\n<p>This is the attribute:</p>\n\n<pre><code>@XmlAnyAttribute\nprivate Map&lt;QName, String&gt; otherAttributes = new HashMap();\n</code></pre>\n\n<p>If more code is helpful, please request the classes you would like to see. </p>\n"},{"tags":["java","maven","jooq","querydsl","jooq-codegen-maven"],"answers":[{"tags":[],"owner":{"account_id":247217,"reputation":213465,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1683528339,"creation_date":1683528339,"answer_id":76198069,"question_id":76189277,"body_markdown":"This is documented in the manual page of the [`JPADatabase`][1]. The `JPADatabase` doesn&#39;t use any annotation processing hook into the compilation process and generate your `TableImpl`. Instead, it uses previously compiled entities and runs Hibernate DDL generation on them. That means, you *have to* compile your entities *first*, and only then generate your jOOQ code, and only then compile your DAO. See the manual section on how to organise your dependencies:\r\n\r\n```\r\n                +-------------------+\r\n                | Your JPA entities |\r\n                +-------------------+\r\n                     ^         ^\r\n          depends on |         | depends on\r\n                     |         |\r\n  +---------------------+   +---------------------+\r\n  | jOOQ codegen plugin |   | Your application    |\r\n  +---------------------+   +---------------------+\r\n                     |         |\r\n           generates |         | depends on\r\n                     v         v\r\n             +-------------------------+\r\n             | jOOQ generated classes  |\r\n             +-------------------------+\r\n```\r\n\r\nIf you think about what happens behind the scenes, that appears to be a much cleaner approach than relying on annotation processing&#39;s various caveats and limitations caused by the fact that they *have to* happen during compilation.\r\n\r\nJPA entities are self-contained, and can be designed as a re-usable libraries for various other componnents. DAOs will depend on both JPA entities and/or jOOQ code, and other lower level stuff.\r\n\r\n\r\n  [1]: https://www.jooq.org/doc/latest/manual/code-generation/codegen-jpa/","title":"JOOQ failed to generate souces if pojo and DAO was in same package","body":"<p>This is documented in the manual page of the <a href=\"https://www.jooq.org/doc/latest/manual/code-generation/codegen-jpa/\" rel=\"nofollow noreferrer\"><code>JPADatabase</code></a>. The <code>JPADatabase</code> doesn't use any annotation processing hook into the compilation process and generate your <code>TableImpl</code>. Instead, it uses previously compiled entities and runs Hibernate DDL generation on them. That means, you <em>have to</em> compile your entities <em>first</em>, and only then generate your jOOQ code, and only then compile your DAO. See the manual section on how to organise your dependencies:</p>\n<pre><code>                +-------------------+\n                | Your JPA entities |\n                +-------------------+\n                     ^         ^\n          depends on |         | depends on\n                     |         |\n  +---------------------+   +---------------------+\n  | jOOQ codegen plugin |   | Your application    |\n  +---------------------+   +---------------------+\n                     |         |\n           generates |         | depends on\n                     v         v\n             +-------------------------+\n             | jOOQ generated classes  |\n             +-------------------------+\n</code></pre>\n<p>If you think about what happens behind the scenes, that appears to be a much cleaner approach than relying on annotation processing's various caveats and limitations caused by the fact that they <em>have to</em> happen during compilation.</p>\n<p>JPA entities are self-contained, and can be designed as a re-usable libraries for various other componnents. DAOs will depend on both JPA entities and/or jOOQ code, and other lower level stuff.</p>\n"}],"owner":{"account_id":14456404,"reputation":101,"user_id":10442485,"display_name":"wwc"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":76198069,"answer_count":1,"score":2,"last_activity_date":1683528339,"creation_date":1683381377,"question_id":76189277,"body_markdown":"My pojo(JPA entities) and DAO was in same package, I configured jooq-codegen-maven to generate TableImpl code  from JPA entities. and DAO&#39;s code uses TableImpl. \r\n\r\nthe strange thing is , \r\n1. when the first time I compile (```mvn clean``` and ```install```), the codegen will fetch  **0 tables** . And my DAO will get **compile error (unknown class)** because the TableImpl was not created. And the compile process of JPA entities(in same package) was skipped.\r\n\r\n2. Now, If I comment-out all DAO code and compile. Jooq also fetch 0 tables, but the other code of the package (including 9 JPA entities) will compile success\r\n\r\n3. I have to compile again, Jooq will fetch **9 tables**, and generate theirs TableImpl.\r\n\r\n4. now I can un-comment the DAO, and compile again, finally everything will success. (Apparently, It&#39;s not an option to compile a project for three times).\r\n\r\n\r\nIf I change to QueryDSL (using apt-maven-plugin), it will success in the first time. Seems like QueryDSL first create Q-class and then compile the other code, but Jooq only generate code depends on a fully success compile, which is impossible. just like a dead-lock.\r\n\r\n\r\nMy pom.xml:\r\n```xml\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;com.mysema.maven&lt;/groupId&gt;\r\n                &lt;artifactId&gt;apt-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;1.1.3&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;process&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;outputDirectory&gt;target/generated-sources/java&lt;/outputDirectory&gt;\r\n                            &lt;processor&gt;com.querydsl.apt.jpa.JPAAnnotationProcessor&lt;/processor&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n\r\n\r\n\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.jooq&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jooq-codegen-maven&lt;/artifactId&gt;\r\n                &lt;version&gt;${jooq.version}&lt;/version&gt;\r\n\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;jooq-codegen&lt;/id&gt;\r\n                        &lt;phase&gt;generate-sources&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;generate&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n\r\n                &lt;configuration&gt;\r\n                    &lt;generator&gt;\r\n                        &lt;database&gt;\r\n                            &lt;name&gt;org.jooq.meta.extensions.jpa.JPADatabase&lt;/name&gt;\r\n                            &lt;inputSchema&gt;PUBLIC&lt;/inputSchema&gt;\r\n                            &lt;outputSchemaToDefault&gt;true&lt;/outputSchemaToDefault&gt;\r\n\t\t\t\t\t\t\t\r\n                            &lt;properties&gt; \r\n                                &lt;property&gt;\r\n                                    &lt;key&gt;packages&lt;/key&gt;\r\n                                    &lt;value&gt;com.mypack.business&lt;/value&gt;\r\n                                &lt;/property&gt;\r\n \r\n                                &lt;property&gt;\r\n                                    &lt;key&gt;useAttributeConverters&lt;/key&gt;\r\n                                    &lt;value&gt;true&lt;/value&gt;\r\n                                &lt;/property&gt; \r\n                                &lt;property&gt;\r\n                                    &lt;key&gt;unqualifiedSchema&lt;/key&gt;\r\n                                    &lt;value&gt;none&lt;/value&gt;\r\n                                &lt;/property&gt;\r\n                            &lt;/properties&gt;\r\n                        &lt;/database&gt;\r\n                        &lt;target&gt;\r\n                            &lt;packageName&gt;com.mypack.business.repository.entity.jooq&lt;/packageName&gt;\r\n                            &lt;directory&gt;target/generated-sources/java&lt;/directory&gt;\r\n                        &lt;/target&gt;\r\n                    &lt;/generator&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n```\r\n\r\n\r\nSo how can I make Jooq compile success for just one time? \r\n\r\nOr, if it&#39;s difficult, can I spread pojo and DAO (including jooq codegen) into two project to solve it?","title":"JOOQ failed to generate souces if pojo and DAO was in same package","body":"<p>My pojo(JPA entities) and DAO was in same package, I configured jooq-codegen-maven to generate TableImpl code  from JPA entities. and DAO's code uses TableImpl.</p>\n<p>the strange thing is ,</p>\n<ol>\n<li><p>when the first time I compile (<code>mvn clean</code> and <code>install</code>), the codegen will fetch  <strong>0 tables</strong> . And my DAO will get <strong>compile error (unknown class)</strong> because the TableImpl was not created. And the compile process of JPA entities(in same package) was skipped.</p>\n</li>\n<li><p>Now, If I comment-out all DAO code and compile. Jooq also fetch 0 tables, but the other code of the package (including 9 JPA entities) will compile success</p>\n</li>\n<li><p>I have to compile again, Jooq will fetch <strong>9 tables</strong>, and generate theirs TableImpl.</p>\n</li>\n<li><p>now I can un-comment the DAO, and compile again, finally everything will success. (Apparently, It's not an option to compile a project for three times).</p>\n</li>\n</ol>\n<p>If I change to QueryDSL (using apt-maven-plugin), it will success in the first time. Seems like QueryDSL first create Q-class and then compile the other code, but Jooq only generate code depends on a fully success compile, which is impossible. just like a dead-lock.</p>\n<p>My pom.xml:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>            &lt;plugin&gt;\n                &lt;groupId&gt;com.mysema.maven&lt;/groupId&gt;\n                &lt;artifactId&gt;apt-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;1.1.3&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;process&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;outputDirectory&gt;target/generated-sources/java&lt;/outputDirectory&gt;\n                            &lt;processor&gt;com.querydsl.apt.jpa.JPAAnnotationProcessor&lt;/processor&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n\n\n\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.jooq&lt;/groupId&gt;\n                &lt;artifactId&gt;jooq-codegen-maven&lt;/artifactId&gt;\n                &lt;version&gt;${jooq.version}&lt;/version&gt;\n\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;jooq-codegen&lt;/id&gt;\n                        &lt;phase&gt;generate-sources&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;generate&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n\n                &lt;configuration&gt;\n                    &lt;generator&gt;\n                        &lt;database&gt;\n                            &lt;name&gt;org.jooq.meta.extensions.jpa.JPADatabase&lt;/name&gt;\n                            &lt;inputSchema&gt;PUBLIC&lt;/inputSchema&gt;\n                            &lt;outputSchemaToDefault&gt;true&lt;/outputSchemaToDefault&gt;\n                            \n                            &lt;properties&gt; \n                                &lt;property&gt;\n                                    &lt;key&gt;packages&lt;/key&gt;\n                                    &lt;value&gt;com.mypack.business&lt;/value&gt;\n                                &lt;/property&gt;\n \n                                &lt;property&gt;\n                                    &lt;key&gt;useAttributeConverters&lt;/key&gt;\n                                    &lt;value&gt;true&lt;/value&gt;\n                                &lt;/property&gt; \n                                &lt;property&gt;\n                                    &lt;key&gt;unqualifiedSchema&lt;/key&gt;\n                                    &lt;value&gt;none&lt;/value&gt;\n                                &lt;/property&gt;\n                            &lt;/properties&gt;\n                        &lt;/database&gt;\n                        &lt;target&gt;\n                            &lt;packageName&gt;com.mypack.business.repository.entity.jooq&lt;/packageName&gt;\n                            &lt;directory&gt;target/generated-sources/java&lt;/directory&gt;\n                        &lt;/target&gt;\n                    &lt;/generator&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n</code></pre>\n<p>So how can I make Jooq compile success for just one time?</p>\n<p>Or, if it's difficult, can I spread pojo and DAO (including jooq codegen) into two project to solve it?</p>\n"},{"tags":["java","android"],"owner":{"account_id":28519023,"reputation":1,"user_id":21827995,"display_name":"Ezgi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683528038,"creation_date":1683301983,"question_id":76183968,"body_markdown":"I want to add searchview to my notepad application made with sqlite\r\n\r\nI have an sqlite notebook application. I want to add searchview to this application to search users notes. but i am having some problems. I don&#39;t know how to add it.When I want to add, I write searchview, but the application exits, how do I solve it?\r\n\r\nMainActivity.java\r\n\r\n```\r\npublic class MainActivity extends AppCompatActivity {\r\n    public static veritabanı veritabanim;\r\n    ListView list_view;\r\n    private TextView myNot,mySaat,myTarih;\r\n    private SearchView searchView;\r\n\r\n    int images[]= {R.drawable.ic_note};\r\n\r\n    private ArrayAdapter arrayAdapter;\r\n    private ArrayList arrayList;\r\n    private MyAdapter adapter;\r\n\r\n\r\n    @SuppressLint(&quot;MissingInflatedId&quot;)\r\n    @Override\r\n\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n       list_view=findViewById(R.id.list_view);\r\n        searchView = findViewById(R.id.searchview);\r\n\r\n        veritabanim= Room.databaseBuilder(getApplicationContext(),veritabanı.class,&quot;notdb&quot;).allowMainThreadQueries().build();\r\n       Button btn_notekle=findViewById(R.id.btnnotekle);\r\n\r\n\r\n\r\n\r\n       btn_notekle.setOnClickListener(new View.OnClickListener() {\r\n           @Override\r\n           public void onClick(View view) {\r\n               Intent intent=new Intent(getApplicationContext(),notekle.class);\r\n               startActivity(intent);\r\n           }\r\n       });\r\n\r\n        List&lt;Not&gt; notlar= MainActivity.veritabanim.dao().getNot();\r\n         arrayList=new ArrayList();\r\n\r\n        ArrayList n=new ArrayList();\r\n        ArrayList s=new ArrayList();\r\n        ArrayList t=new ArrayList();\r\n\r\n\r\n\r\n        String veriler=&quot;&quot;;\r\n\r\n        for (Not nt:notlar){\r\n            int id=nt.getId();\r\n            String nnotsaat=nt.getNotsaat();\r\n            String nnottarih=nt.getNottarih();\r\n            String nnot=nt.getNot();\r\n\r\n            veriler=veriler+nnot+nnotsaat+nnottarih;\r\n            arrayList.add(veriler);\r\n            veriler=&quot;&quot;;\r\n\r\n\r\n\r\n\r\n\r\n            n.add(nnot);\r\n            s.add(nnotsaat);\r\n            t.add(nnottarih);\r\n\r\n        }\r\n\r\n\r\n\r\n        arrayAdapter=new ArrayAdapter(this, android.R.layout.simple_list_item_1,arrayList);\r\n\r\n         adapter=new MyAdapter(this, n,s,t,images);\r\n        list_view.setAdapter(adapter);\r\n        Not not = new Not();\r\n\r\n\r\n        searchView.setOnQueryTextListener(new SearchView.OnQueryTextListener() {\r\n            @Override\r\n            public boolean onQueryTextSubmit(String query) {\r\n                return false;\r\n            }\r\n\r\n            @Override\r\n            public boolean onQueryTextChange(String newText) {\r\n                not.getNot().toLowerCase().contains(newText);\r\n\r\n\r\n                return false;\r\n\r\n\r\n            }\r\n        });\r\n\r\n\r\n        list_view.setOnItemClickListener(new AdapterView.OnItemClickListener() {\r\n            @Override\r\n            public void onItemClick(AdapterView&lt;?&gt; adapterView, View view, int position, long l) {\r\n\r\n\r\n                AlertDialog.Builder diyalogOlusturucu = new AlertDialog.Builder(MainActivity.this);\r\n\r\n\r\n                long veriid=arrayAdapter.getItemId(position);\r\n                String listeid=String.valueOf(veriid);\r\n\r\n\r\n                diyalogOlusturucu.setMessage(&quot;Not Silinsin mi?&quot;)\r\n                        .setCancelable(false)\r\n                        .setPositiveButton(&quot;Evet&quot;, new DialogInterface.OnClickListener() {\r\n                            @Override\r\n                            public void onClick(DialogInterface dialogInterface, int i) {\r\n                                veriSil(listeid);\r\n                            }\r\n                        }).setNegativeButton(&quot;Hayır&quot;, new DialogInterface.OnClickListener() {\r\n                            @Override\r\n                            public void onClick(DialogInterface dialogInterface, int i) {\r\n                                dialogInterface.dismiss();\r\n                            }\r\n                        });\r\n                diyalogOlusturucu.create().show();\r\n            }\r\n        });\r\n\r\n    }\r\n\r\n    private void veriSil(String listeid){\r\n\r\n\r\n        List&lt;Not&gt; notlarsil=MainActivity.veritabanim.dao().getNot();\r\n        ArrayList arrayListSil=new ArrayList();\r\n\r\n        int veriler;\r\n        for (Not silliste : notlarsil){\r\n            int id = silliste.getId();\r\n            veriler=id;\r\n           arrayListSil.add(veriler);\r\n           veriler=0;\r\n        }\r\n             String Sid=listeid;\r\n        int id=Integer.valueOf(Sid);\r\n        int eleman=(int) arrayListSil.get(id);\r\n\r\n        Not not=new Not();\r\n        not.setId(eleman);\r\n        MainActivity.veritabanim.dao().notSil(not);\r\n\r\n        Toast.makeText(getApplicationContext(),&quot;Not Silindi.&quot;,Toast.LENGTH_SHORT).show();\r\n        finish();\r\n        startActivity(getIntent());\r\n    }\r\n        class MyAdapter extends ArrayAdapter&lt;String &gt;{\r\n        Context context;\r\n        ArrayList rNot;\r\n        ArrayList rSaat;\r\n        ArrayList rTarih;\r\n        int rImg[];\r\n        MyAdapter(Context c,ArrayList not, ArrayList saat, ArrayList tarih,int imgs[]){\r\n\r\n            super(c, R.layout.custom_view, R.id.txtnot, not);\r\n            this.context=c;\r\n            this.rNot= not;\r\n            this.rSaat=saat;\r\n            this.rTarih=tarih;\r\n            this.rImg=images;\r\n\r\n\r\n        }\r\n\r\n\r\n\r\n        @NonNull\r\n            @Override\r\n            public View getView(int position, @Nullable View convertView, @NonNull ViewGroup parent){\r\n             LayoutInflater layoutInflater=(LayoutInflater) getApplicationContext().getSystemService(Context.LAYOUT_INFLATER_SERVICE);\r\n            View row=layoutInflater.inflate(R.layout.custom_view, parent, false);\r\n            ImageView images=row.findViewById(R.id.resim);\r\n             myNot=row.findViewById(R.id.txtnot);\r\n             mySaat=row.findViewById(R.id.txtsaat);\r\n             myTarih=row.findViewById(R.id.txttarih);\r\n\r\n\r\n\r\n            images.setImageResource(rImg[0]);\r\n            myNot.setText((CharSequence) rNot.get(position));\r\n            mySaat.setText((CharSequence) rSaat.get(position));\r\n            myTarih.setText((CharSequence) rTarih.get(position));\r\n\r\n\r\n\r\n            return row;\r\n\r\n        }\r\n\r\n\r\n        }\r\n    }\r\n```\r\n\r\nNot.java\r\n\r\n```\r\n@Entity(tableName = &quot;notlar&quot;)\r\npublic class Not {\r\n    @PrimaryKey\r\n    public int id;\r\n    @ColumnInfo(name = &quot;not&quot;)\r\n    public String not;\r\n\r\n    @ColumnInfo(name = &quot;saat&quot;)\r\n    public String notsaat;\r\n\r\n    @ColumnInfo(name = &quot;tarih&quot;)\r\n    public String nottarih;\r\n\r\n\r\n    public int getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(int id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public String getNot() {\r\n        return not;\r\n    }\r\n\r\n    public void setNot(String not) {\r\n        this.not = not;\r\n    }\r\n\r\n    public String getNotsaat() {\r\n        return notsaat;\r\n    }\r\n\r\n    public void setNotsaat(String notsaat) {\r\n        this.notsaat = notsaat;\r\n    }\r\n\r\n    public String getNottarih() {\r\n        return nottarih;\r\n    }\r\n\r\n    public void setNottarih(String nottarih) {\r\n        this.nottarih = nottarih;\r\n    }\r\n}\r\n```","title":"How do I filter in a listview with Search View?","body":"<p>I want to add searchview to my notepad application made with sqlite</p>\n<p>I have an sqlite notebook application. I want to add searchview to this application to search users notes. but i am having some problems. I don't know how to add it.When I want to add, I write searchview, but the application exits, how do I solve it?</p>\n<p>MainActivity.java</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n    public static veritabanı veritabanim;\n    ListView list_view;\n    private TextView myNot,mySaat,myTarih;\n    private SearchView searchView;\n\n    int images[]= {R.drawable.ic_note};\n\n    private ArrayAdapter arrayAdapter;\n    private ArrayList arrayList;\n    private MyAdapter adapter;\n\n\n    @SuppressLint(&quot;MissingInflatedId&quot;)\n    @Override\n\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n       list_view=findViewById(R.id.list_view);\n        searchView = findViewById(R.id.searchview);\n\n        veritabanim= Room.databaseBuilder(getApplicationContext(),veritabanı.class,&quot;notdb&quot;).allowMainThreadQueries().build();\n       Button btn_notekle=findViewById(R.id.btnnotekle);\n\n\n\n\n       btn_notekle.setOnClickListener(new View.OnClickListener() {\n           @Override\n           public void onClick(View view) {\n               Intent intent=new Intent(getApplicationContext(),notekle.class);\n               startActivity(intent);\n           }\n       });\n\n        List&lt;Not&gt; notlar= MainActivity.veritabanim.dao().getNot();\n         arrayList=new ArrayList();\n\n        ArrayList n=new ArrayList();\n        ArrayList s=new ArrayList();\n        ArrayList t=new ArrayList();\n\n\n\n        String veriler=&quot;&quot;;\n\n        for (Not nt:notlar){\n            int id=nt.getId();\n            String nnotsaat=nt.getNotsaat();\n            String nnottarih=nt.getNottarih();\n            String nnot=nt.getNot();\n\n            veriler=veriler+nnot+nnotsaat+nnottarih;\n            arrayList.add(veriler);\n            veriler=&quot;&quot;;\n\n\n\n\n\n            n.add(nnot);\n            s.add(nnotsaat);\n            t.add(nnottarih);\n\n        }\n\n\n\n        arrayAdapter=new ArrayAdapter(this, android.R.layout.simple_list_item_1,arrayList);\n\n         adapter=new MyAdapter(this, n,s,t,images);\n        list_view.setAdapter(adapter);\n        Not not = new Not();\n\n\n        searchView.setOnQueryTextListener(new SearchView.OnQueryTextListener() {\n            @Override\n            public boolean onQueryTextSubmit(String query) {\n                return false;\n            }\n\n            @Override\n            public boolean onQueryTextChange(String newText) {\n                not.getNot().toLowerCase().contains(newText);\n\n\n                return false;\n\n\n            }\n        });\n\n\n        list_view.setOnItemClickListener(new AdapterView.OnItemClickListener() {\n            @Override\n            public void onItemClick(AdapterView&lt;?&gt; adapterView, View view, int position, long l) {\n\n\n                AlertDialog.Builder diyalogOlusturucu = new AlertDialog.Builder(MainActivity.this);\n\n\n                long veriid=arrayAdapter.getItemId(position);\n                String listeid=String.valueOf(veriid);\n\n\n                diyalogOlusturucu.setMessage(&quot;Not Silinsin mi?&quot;)\n                        .setCancelable(false)\n                        .setPositiveButton(&quot;Evet&quot;, new DialogInterface.OnClickListener() {\n                            @Override\n                            public void onClick(DialogInterface dialogInterface, int i) {\n                                veriSil(listeid);\n                            }\n                        }).setNegativeButton(&quot;Hayır&quot;, new DialogInterface.OnClickListener() {\n                            @Override\n                            public void onClick(DialogInterface dialogInterface, int i) {\n                                dialogInterface.dismiss();\n                            }\n                        });\n                diyalogOlusturucu.create().show();\n            }\n        });\n\n    }\n\n    private void veriSil(String listeid){\n\n\n        List&lt;Not&gt; notlarsil=MainActivity.veritabanim.dao().getNot();\n        ArrayList arrayListSil=new ArrayList();\n\n        int veriler;\n        for (Not silliste : notlarsil){\n            int id = silliste.getId();\n            veriler=id;\n           arrayListSil.add(veriler);\n           veriler=0;\n        }\n             String Sid=listeid;\n        int id=Integer.valueOf(Sid);\n        int eleman=(int) arrayListSil.get(id);\n\n        Not not=new Not();\n        not.setId(eleman);\n        MainActivity.veritabanim.dao().notSil(not);\n\n        Toast.makeText(getApplicationContext(),&quot;Not Silindi.&quot;,Toast.LENGTH_SHORT).show();\n        finish();\n        startActivity(getIntent());\n    }\n        class MyAdapter extends ArrayAdapter&lt;String &gt;{\n        Context context;\n        ArrayList rNot;\n        ArrayList rSaat;\n        ArrayList rTarih;\n        int rImg[];\n        MyAdapter(Context c,ArrayList not, ArrayList saat, ArrayList tarih,int imgs[]){\n\n            super(c, R.layout.custom_view, R.id.txtnot, not);\n            this.context=c;\n            this.rNot= not;\n            this.rSaat=saat;\n            this.rTarih=tarih;\n            this.rImg=images;\n\n\n        }\n\n\n\n        @NonNull\n            @Override\n            public View getView(int position, @Nullable View convertView, @NonNull ViewGroup parent){\n             LayoutInflater layoutInflater=(LayoutInflater) getApplicationContext().getSystemService(Context.LAYOUT_INFLATER_SERVICE);\n            View row=layoutInflater.inflate(R.layout.custom_view, parent, false);\n            ImageView images=row.findViewById(R.id.resim);\n             myNot=row.findViewById(R.id.txtnot);\n             mySaat=row.findViewById(R.id.txtsaat);\n             myTarih=row.findViewById(R.id.txttarih);\n\n\n\n            images.setImageResource(rImg[0]);\n            myNot.setText((CharSequence) rNot.get(position));\n            mySaat.setText((CharSequence) rSaat.get(position));\n            myTarih.setText((CharSequence) rTarih.get(position));\n\n\n\n            return row;\n\n        }\n\n\n        }\n    }\n</code></pre>\n<p>Not.java</p>\n<pre><code>@Entity(tableName = &quot;notlar&quot;)\npublic class Not {\n    @PrimaryKey\n    public int id;\n    @ColumnInfo(name = &quot;not&quot;)\n    public String not;\n\n    @ColumnInfo(name = &quot;saat&quot;)\n    public String notsaat;\n\n    @ColumnInfo(name = &quot;tarih&quot;)\n    public String nottarih;\n\n\n    public int getId() {\n        return id;\n    }\n\n    public void setId(int id) {\n        this.id = id;\n    }\n\n    public String getNot() {\n        return not;\n    }\n\n    public void setNot(String not) {\n        this.not = not;\n    }\n\n    public String getNotsaat() {\n        return notsaat;\n    }\n\n    public void setNotsaat(String notsaat) {\n        this.notsaat = notsaat;\n    }\n\n    public String getNottarih() {\n        return nottarih;\n    }\n\n    public void setNottarih(String nottarih) {\n        this.nottarih = nottarih;\n    }\n}\n</code></pre>\n"},{"tags":["java","hystrix","spring-cloud-feign","feign","circuit-breaker"],"answers":[{"tags":[],"owner":{"account_id":12787333,"reputation":489,"user_id":9253117,"display_name":"Kirill Sereda"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1586883480,"creation_date":1586883480,"answer_id":61213120,"question_id":61208796,"body_markdown":"I decided it in my Fallback class:\r\n\r\n    @Component\r\n    public class Fallback implements ServiceTwoFeignClient {\r\n    \r\n        @Autowired\r\n        private ServiceThreeFeignClient serviceThreeFeignClient;\r\n    \r\n        @Override\r\n        public String getString() {\r\n            return serviceThreeFeignClient.getString();\r\n        }\r\n    \r\n    }\r\n\r\n","title":"Java Feign client Fallback - can&#39;t call fallback","body":"<p>I decided it in my Fallback class:</p>\n\n<pre><code>@Component\npublic class Fallback implements ServiceTwoFeignClient {\n\n    @Autowired\n    private ServiceThreeFeignClient serviceThreeFeignClient;\n\n    @Override\n    public String getString() {\n        return serviceThreeFeignClient.getString();\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28091322,"reputation":1,"user_id":21460790,"display_name":"goodwin"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683528011,"creation_date":1683528011,"answer_id":76198038,"question_id":61208796,"body_markdown":"Caused by: java.lang.IllegalStateException: Incompatible fallback instance. Fallback/fallbackFactory of type class com.example.client.service.Fallback is not assignable to interface com.example.client.service.ServiceTwoFeignClient for feign client service-two\r\n\r\n----\r\nbase on this info ,i think that you may import the wrong fallbackfactory class,\r\nthere are two fallbackfactory;if you are using openfeign ,you may need to import feign.hystrix.FallbackFactory;\r\n","title":"Java Feign client Fallback - can&#39;t call fallback","body":"<p>Caused by: java.lang.IllegalStateException: Incompatible fallback instance. Fallback/fallbackFactory of type class com.example.client.service.Fallback is not assignable to interface com.example.client.service.ServiceTwoFeignClient for feign client service-two</p>\n<hr />\n<p>base on this info ,i think that you may import the wrong fallbackfactory class,\nthere are two fallbackfactory;if you are using openfeign ,you may need to import feign.hystrix.FallbackFactory;</p>\n"}],"owner":{"account_id":12787333,"reputation":489,"user_id":9253117,"display_name":"Kirill Sereda"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3646,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":61213120,"answer_count":2,"score":1,"last_activity_date":1683528011,"creation_date":1586870580,"question_id":61208796,"body_markdown":"I am trying to understand with the work of the **Feign client** in Java and calling **Fallback** in case of an error, and I encountered some difficulties.\r\nI wrote the simplest example to understand how it works, but it seems like I&#39;m confused.\r\nPlease help me understand where my mistake is.\r\n\r\nI also posted this example on a github to make it more convenient:\r\nhttps://github.com/ksereda/feign-fallback-example\r\n\r\nThe **client** calls **service-one** through Feign and receives the string *&quot;Get String from SERVICE-ONE&quot;.*\r\n\r\nThe **сlient** also calls **service-two** through Feign and gets the string *&quot;Get String from SERVICE-TWO&quot;.*\r\n\r\nPrerequisite:\r\nin case of unavailability of **service-two**, the **client** must call the Fallback class in which the call to **service-three** is indicated and instead of *&quot;Get String from SERVICE-TWO&quot;*, the **client** should get *&quot;Get String from SERVICE-THREE&quot;* from **service-three.**\r\n\r\n**Service-two** and **service-three** are the same, only return different strings.\r\n\r\n***Service-one code:***\r\n\r\n    @RestController\r\n    @RequestMapping(&quot;/&quot;)\r\n    public class OneController {\r\n    \r\n        Logger logger = Logger.getLogger(OneController.class.getName());\r\n    \r\n        @GetMapping(&quot;/getStringFromServiceOne&quot;)\r\n        public String getString() {\r\n            logger.info(&quot;Get String from SERVICE-ONE&quot;);\r\n            return &quot;Get String from SERVICE-ONE&quot;;\r\n        }\r\n    \r\n    }\r\n\r\n***Service-two code:***\r\n\r\n    @RestController\r\n    @RequestMapping(&quot;/&quot;)\r\n    public class TwoController {\r\n    \r\n        Logger logger = Logger.getLogger(TwoController.class.getName());\r\n    \r\n        @GetMapping(&quot;/getStringFromServiceTwo&quot;)\r\n        public String getString() {\r\n            logger.info(&quot;Get String from SERVICE-TWO&quot;);\r\n            return &quot;Get String from SERVICE-TWO&quot;;\r\n        }\r\n    \r\n    }\r\n\r\n***Service-three code:***\r\n\r\n    @RestController\r\n    @RequestMapping(&quot;/&quot;)\r\n    public class ThreeController {\r\n    \r\n        Logger logger = Logger.getLogger(ThreeController.class.getName());\r\n    \r\n        @GetMapping(&quot;/getStringFromServiceThree&quot;)\r\n        public String getString() {\r\n            logger.info(&quot;Get String from SERVICE-THREE&quot;);\r\n            return &quot;Get String from SERVICE-THREE&quot;;\r\n        }\r\n    \r\n    }\r\n\r\n\r\n***Client code:***\r\n\r\nController:\r\n\r\n    @RestController\r\n    @RequestMapping(&quot;/&quot;)\r\n    public class ClientController {\r\n    \r\n       Logger logger = Logger.getLogger(ClientController.class.getName());\r\n    \r\n        @Autowired\r\n        private ServiceOneFeignClient serviceOneFeignClient;\r\n    \r\n        @Autowired\r\n        private ServiceTwoFeignClient serviceTwoFeignClient;\r\n    \r\n        @RequestMapping(path = &quot;/getDataFromServiceOneByFeign&quot;)\r\n        public String getDataFromServiceOne() {\r\n            String result = serviceOneFeignClient.getString();\r\n            logger.info(&quot;Calling through Feign Client&quot;);\r\n            return result;\r\n        }\r\n    \r\n        @RequestMapping(path = &quot;/getDataFromServiceTwoByFeign&quot;)\r\n        public String getDataFromServiceTwo() {\r\n            String result = serviceTwoFeignClient.getString();\r\n            logger.info(&quot;Calling through Feign Client&quot;);\r\n            return result;\r\n        }\r\n    \r\n    }\r\n\r\n\r\nFeign 1:\r\n\r\n    @FeignClient(name = &quot;service-one&quot;, url = &quot;http://localhost:8081/&quot;)\r\n    public interface ServiceOneFeignClient {\r\n    \r\n        @GetMapping(&quot;/getStringFromServiceOne&quot;)\r\n        String getString();\r\n    \r\n    }\r\n\r\nand Feign 2:\r\n\r\n    @FeignClient(name = &quot;service-two&quot;, url = &quot;http://localhost:8082/&quot;, fallback = Fallback.class)\r\n    public interface ServiceTwoFeignClient {\r\n    \r\n        @GetMapping(&quot;/getStringFromServiceTwo&quot;)\r\n        String getString();\r\n    \r\n    }\r\n\r\nand Feign 3:\r\n\r\n    @FeignClient(name = &quot;service-three&quot;, url = &quot;http://localhost:8083/&quot;)\r\n    public interface ServiceThreeFeignClient {\r\n    \r\n        @GetMapping(&quot;/getStringFromServiceThree&quot;)\r\n        String getString();\r\n    \r\n    }\r\n\r\nMain class:\r\n\r\n    @SpringBootApplication\r\n    @EnableFeignClients\r\n    @EnableCircuitBreaker\r\n    @EnableHystrix\r\n    public class ClientApplication {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(ClientApplication.class, args);\r\n    \t}\r\n    \r\n    }\r\n\r\nand application.yml file\r\n\r\n    server:\r\n      port: 8070\r\n    \r\n    feign:\r\n      hystrix:\r\n        enabled: true\r\n\r\n\r\nand here I created Fallback class\r\n\r\n    @Component\r\n    public class Fallback implements ServiceThreeFeignClient {\r\n        \r\n        @Override\r\n        public String getString() {\r\n            System.out.println(&quot;Called MOVIE-SERVICE with Fallback class!&quot;);\r\n            return new String(&quot;FALLBACK STRING&quot;);\r\n        }\r\n    \r\n    }\r\n\r\nHere I want to call **service-three** if **service-two** is unavailable.\r\n\r\nBut when I launch my application, I immediately get an error:\r\n\r\n    Caused by: java.lang.IllegalStateException: Incompatible fallback instance. Fallback/fallbackFactory of type class com.example.client.service.Fallback is not assignable to interface com.example.client.service.ServiceTwoFeignClient for feign client service-two\r\n    \tat org.springframework.cloud.openfeign.HystrixTargeter.getFromContext(HystrixTargeter.java:86) ~[spring-cloud-openfeign-core-2.1.1.RELEASE.jar:2.1.1.RELEASE]\r\n    \tat org.springframework.cloud.openfeign.HystrixTargeter.targetWithFallback(HystrixTargeter.java:70) ~[spring-cloud-openfeign-core-2.1.1.RELEASE.jar:2.1.1.RELEASE]\r\n    \tat org.springframework.cloud.openfeign.HystrixTargeter.target(HystrixTargeter.java:46) ~[spring-cloud-openfeign-core-2.1.1.RELEASE.jar:2.1.1.RELEASE]\r\n    \tat org.springframework.cloud.openfeign.FeignClientFactoryBean.getTarget(FeignClientFactoryBean.java:284) ~[spring-cloud-openfeign-core-2.1.1.RELEASE.jar:2.1.1.RELEASE]\r\n    \tat org.springframework.cloud.openfeign.FeignClientFactoryBean.getObject(FeignClientFactoryBean.java:247) ~[spring-cloud-openfeign-core-2.1.1.RELEASE.jar:2.1.1.RELEASE]\r\n    \tat org.springframework.beans.factory.support.FactoryBeanRegistrySupport.doGetObjectFromFactoryBean(FactoryBeanRegistrySupport.java:171) ~[spring-beans-5.1.7.RELEASE.jar:5.1.7.RELEASE]\r\n\r\nI understand what he writes: I must indicate\r\n\r\n    implements ServiceTwoFeignClient\r\n\r\ninstead\r\n\r\n    implements ServiceThreeFeignClient\r\n\r\nbut I want to call service three if service two is unavailable.\r\n\r\nI don’t understand how to do this.\r\nI would be grateful for your help.\r\nthanks","title":"Java Feign client Fallback - can&#39;t call fallback","body":"<p>I am trying to understand with the work of the <strong>Feign client</strong> in Java and calling <strong>Fallback</strong> in case of an error, and I encountered some difficulties.\nI wrote the simplest example to understand how it works, but it seems like I'm confused.\nPlease help me understand where my mistake is.</p>\n\n<p>I also posted this example on a github to make it more convenient:\n<a href=\"https://github.com/ksereda/feign-fallback-example\" rel=\"nofollow noreferrer\">https://github.com/ksereda/feign-fallback-example</a></p>\n\n<p>The <strong>client</strong> calls <strong>service-one</strong> through Feign and receives the string <em>\"Get String from SERVICE-ONE\".</em></p>\n\n<p>The <strong>сlient</strong> also calls <strong>service-two</strong> through Feign and gets the string <em>\"Get String from SERVICE-TWO\".</em></p>\n\n<p>Prerequisite:\nin case of unavailability of <strong>service-two</strong>, the <strong>client</strong> must call the Fallback class in which the call to <strong>service-three</strong> is indicated and instead of <em>\"Get String from SERVICE-TWO\"</em>, the <strong>client</strong> should get <em>\"Get String from SERVICE-THREE\"</em> from <strong>service-three.</strong></p>\n\n<p><strong>Service-two</strong> and <strong>service-three</strong> are the same, only return different strings.</p>\n\n<p><strong><em>Service-one code:</em></strong></p>\n\n<pre><code>@RestController\n@RequestMapping(\"/\")\npublic class OneController {\n\n    Logger logger = Logger.getLogger(OneController.class.getName());\n\n    @GetMapping(\"/getStringFromServiceOne\")\n    public String getString() {\n        logger.info(\"Get String from SERVICE-ONE\");\n        return \"Get String from SERVICE-ONE\";\n    }\n\n}\n</code></pre>\n\n<p><strong><em>Service-two code:</em></strong></p>\n\n<pre><code>@RestController\n@RequestMapping(\"/\")\npublic class TwoController {\n\n    Logger logger = Logger.getLogger(TwoController.class.getName());\n\n    @GetMapping(\"/getStringFromServiceTwo\")\n    public String getString() {\n        logger.info(\"Get String from SERVICE-TWO\");\n        return \"Get String from SERVICE-TWO\";\n    }\n\n}\n</code></pre>\n\n<p><strong><em>Service-three code:</em></strong></p>\n\n<pre><code>@RestController\n@RequestMapping(\"/\")\npublic class ThreeController {\n\n    Logger logger = Logger.getLogger(ThreeController.class.getName());\n\n    @GetMapping(\"/getStringFromServiceThree\")\n    public String getString() {\n        logger.info(\"Get String from SERVICE-THREE\");\n        return \"Get String from SERVICE-THREE\";\n    }\n\n}\n</code></pre>\n\n<p><strong><em>Client code:</em></strong></p>\n\n<p>Controller:</p>\n\n<pre><code>@RestController\n@RequestMapping(\"/\")\npublic class ClientController {\n\n   Logger logger = Logger.getLogger(ClientController.class.getName());\n\n    @Autowired\n    private ServiceOneFeignClient serviceOneFeignClient;\n\n    @Autowired\n    private ServiceTwoFeignClient serviceTwoFeignClient;\n\n    @RequestMapping(path = \"/getDataFromServiceOneByFeign\")\n    public String getDataFromServiceOne() {\n        String result = serviceOneFeignClient.getString();\n        logger.info(\"Calling through Feign Client\");\n        return result;\n    }\n\n    @RequestMapping(path = \"/getDataFromServiceTwoByFeign\")\n    public String getDataFromServiceTwo() {\n        String result = serviceTwoFeignClient.getString();\n        logger.info(\"Calling through Feign Client\");\n        return result;\n    }\n\n}\n</code></pre>\n\n<p>Feign 1:</p>\n\n<pre><code>@FeignClient(name = \"service-one\", url = \"http://localhost:8081/\")\npublic interface ServiceOneFeignClient {\n\n    @GetMapping(\"/getStringFromServiceOne\")\n    String getString();\n\n}\n</code></pre>\n\n<p>and Feign 2:</p>\n\n<pre><code>@FeignClient(name = \"service-two\", url = \"http://localhost:8082/\", fallback = Fallback.class)\npublic interface ServiceTwoFeignClient {\n\n    @GetMapping(\"/getStringFromServiceTwo\")\n    String getString();\n\n}\n</code></pre>\n\n<p>and Feign 3:</p>\n\n<pre><code>@FeignClient(name = \"service-three\", url = \"http://localhost:8083/\")\npublic interface ServiceThreeFeignClient {\n\n    @GetMapping(\"/getStringFromServiceThree\")\n    String getString();\n\n}\n</code></pre>\n\n<p>Main class:</p>\n\n<pre><code>@SpringBootApplication\n@EnableFeignClients\n@EnableCircuitBreaker\n@EnableHystrix\npublic class ClientApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(ClientApplication.class, args);\n    }\n\n}\n</code></pre>\n\n<p>and application.yml file</p>\n\n<pre><code>server:\n  port: 8070\n\nfeign:\n  hystrix:\n    enabled: true\n</code></pre>\n\n<p>and here I created Fallback class</p>\n\n<pre><code>@Component\npublic class Fallback implements ServiceThreeFeignClient {\n\n    @Override\n    public String getString() {\n        System.out.println(\"Called MOVIE-SERVICE with Fallback class!\");\n        return new String(\"FALLBACK STRING\");\n    }\n\n}\n</code></pre>\n\n<p>Here I want to call <strong>service-three</strong> if <strong>service-two</strong> is unavailable.</p>\n\n<p>But when I launch my application, I immediately get an error:</p>\n\n<pre><code>Caused by: java.lang.IllegalStateException: Incompatible fallback instance. Fallback/fallbackFactory of type class com.example.client.service.Fallback is not assignable to interface com.example.client.service.ServiceTwoFeignClient for feign client service-two\n    at org.springframework.cloud.openfeign.HystrixTargeter.getFromContext(HystrixTargeter.java:86) ~[spring-cloud-openfeign-core-2.1.1.RELEASE.jar:2.1.1.RELEASE]\n    at org.springframework.cloud.openfeign.HystrixTargeter.targetWithFallback(HystrixTargeter.java:70) ~[spring-cloud-openfeign-core-2.1.1.RELEASE.jar:2.1.1.RELEASE]\n    at org.springframework.cloud.openfeign.HystrixTargeter.target(HystrixTargeter.java:46) ~[spring-cloud-openfeign-core-2.1.1.RELEASE.jar:2.1.1.RELEASE]\n    at org.springframework.cloud.openfeign.FeignClientFactoryBean.getTarget(FeignClientFactoryBean.java:284) ~[spring-cloud-openfeign-core-2.1.1.RELEASE.jar:2.1.1.RELEASE]\n    at org.springframework.cloud.openfeign.FeignClientFactoryBean.getObject(FeignClientFactoryBean.java:247) ~[spring-cloud-openfeign-core-2.1.1.RELEASE.jar:2.1.1.RELEASE]\n    at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.doGetObjectFromFactoryBean(FactoryBeanRegistrySupport.java:171) ~[spring-beans-5.1.7.RELEASE.jar:5.1.7.RELEASE]\n</code></pre>\n\n<p>I understand what he writes: I must indicate</p>\n\n<pre><code>implements ServiceTwoFeignClient\n</code></pre>\n\n<p>instead</p>\n\n<pre><code>implements ServiceThreeFeignClient\n</code></pre>\n\n<p>but I want to call service three if service two is unavailable.</p>\n\n<p>I don’t understand how to do this.\nI would be grateful for your help.\nthanks</p>\n"},{"tags":["java","netbeans","build","ant"],"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1683514902,"post_id":76197248,"comment_id":134373381,"body_markdown":"What is `run.xml`?","body":"What is <code>run.xml</code>?"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1683514999,"post_id":76197248,"comment_id":134373389,"body_markdown":"You have not defined `out`.","body":"You have not defined <code>out</code>."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1683515044,"post_id":76197248,"comment_id":134373396,"body_markdown":"We need an entire example, as brief as possible to show your issue. [MCVE](https://stackoverflow.com/help/minimal-reproducible-example)","body":"We need an entire example, as brief as possible to show your issue. <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">MCVE</a>"},{"owner":{"account_id":28382762,"reputation":73,"user_id":21709774,"display_name":"Choosechee"},"score":0,"creation_date":1683515399,"post_id":76197248,"comment_id":134373424,"body_markdown":"@BasilBourque out is System.out, I just imported it, so it would just be out.","body":"@BasilBourque out is System.out, I just imported it, so it would just be out."},{"owner":{"account_id":28382762,"reputation":73,"user_id":21709774,"display_name":"Choosechee"},"score":0,"creation_date":1683516135,"post_id":76197248,"comment_id":134373487,"body_markdown":"I&#39;ve added a better example.","body":"I&#39;ve added a better example."},{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":0,"creation_date":1683522064,"post_id":76197248,"comment_id":134373901,"body_markdown":"I am running NB 17 with Java 20 on Windows 10, and could not reproduce your problem; your code ran fine. Then I compared your run.xml with mine. Mine is about twice as large as yours, but yours does contain valid XML. So then I replaced my copy of run.xml with yours, and restarted NetBeans. Your code still ran fine! So although that doesn&#39;t resolve your issue, it does show that your code and your run.xml are OK, and the problem lies elsewhere. What version of Java are you using?","body":"I am running NB 17 with Java 20 on Windows 10, and could not reproduce your problem; your code ran fine. Then I compared your run.xml with mine. Mine is about twice as large as yours, but yours does contain valid XML. So then I replaced my copy of run.xml with yours, and restarted NetBeans. Your code still ran fine! So although that doesn&#39;t resolve your issue, it does show that your code and your run.xml are OK, and the problem lies elsewhere. What version of Java are you using?"},{"owner":{"account_id":9970255,"reputation":197,"user_id":7376577,"display_name":"Peter F"},"score":0,"creation_date":1683525342,"post_id":76197248,"comment_id":134374270,"body_markdown":"I can reproduce the problem using Netbeans 17 and Java 17 on Windows 10","body":"I can reproduce the problem using Netbeans 17 and Java 17 on Windows 10"},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1686439888,"post_id":76197248,"comment_id":134799085,"body_markdown":"Fixed in NetBeans 18; tested with Java/FX 17 on macOS; see [PR-5682](https://github.com/apache/netbeans/pull/5682).","body":"Fixed in NetBeans 18; tested with Java/FX 17 on macOS; see <a href=\"https://github.com/apache/netbeans/pull/5682\" rel=\"nofollow noreferrer\">PR-5682</a>."}],"answers":[{"tags":[],"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1683526430,"creation_date":1683526430,"answer_id":76197917,"question_id":76197248,"body_markdown":"Although I can&#39;t reproduce your problem, I think it is occurring because of a bug in NetBeans. See [Uncompilable code exception with Compile on Save #5260](https://github.com/apache/netbeans/issues/5260).\r\n\r\nThat bug report cites using `instanceof` pattern matching as a trigger for that *&quot;Uncompilable code&quot;* error, and also using the &quot;*Compile on save*&quot; build option. So here are a couple of changes you can make to avoid the issue:\r\n\r\n[1] Change your `print()` method to not use the `instanceof` pattern matching syntax:\r\n\r\n    public static void print(String s) {\r\n        if (ShortEasyPrint.output instanceof PrintStream) {\r\n            PrintStream printStream = (PrintStream)output;\r\n            printStream.print(s);\r\n        } else if (ShortEasyPrint.output instanceof PrintWriter) {\r\n            PrintWriter printWriter = (PrintWriter)output;\r\n            printWriter.print(s);\r\n        }\r\n    }\r\n\r\n(There are other ways to implement that logic, but that is irrelevant with respect to your problem.)\r\n\r\n[2] Uncheck **{project} &gt; Properties &gt; Build &gt; Compiling &gt; Compile on Save** if it is currently checked.\r\n\r\nNotes:\r\n- I&#39;m not sure why I can&#39;t reproduce your problem. Your code runs fine for me, and I&#39;m also using *Compile on Save*. Perhaps it is because I&#39;m using JDK 20, and you are using an earlier JDK?\r\n- While not directly related to your issue, [JEP 433: Pattern Matching for switch (Fourth Preview)](https://openjdk.org/jeps/433) may be of interest. In particular, see the code in the `formatterPatternSwitch()` example.\r\n- Arguably, your question is a duplicate of [java.lang.RuntimeException: Uncompilable source code - what can cause this?](https://stackoverflow.com/q/2333285/2985643), although that question lacked the detail and focus of yours. But you still may want to review its answers if this answer doesn&#39;t resolve your issue.\r\n ","title":"What is causing the error Exception in thread &quot;main&quot; java.lang.RuntimeException: Uncompilable code, with no other explanation except xml stuff?","body":"<p>Although I can't reproduce your problem, I think it is occurring because of a bug in NetBeans. See <a href=\"https://github.com/apache/netbeans/issues/5260\" rel=\"nofollow noreferrer\">Uncompilable code exception with Compile on Save #5260</a>.</p>\n<p>That bug report cites using <code>instanceof</code> pattern matching as a trigger for that <em>&quot;Uncompilable code&quot;</em> error, and also using the &quot;<em>Compile on save</em>&quot; build option. So here are a couple of changes you can make to avoid the issue:</p>\n<p>[1] Change your <code>print()</code> method to not use the <code>instanceof</code> pattern matching syntax:</p>\n<pre><code>public static void print(String s) {\n    if (ShortEasyPrint.output instanceof PrintStream) {\n        PrintStream printStream = (PrintStream)output;\n        printStream.print(s);\n    } else if (ShortEasyPrint.output instanceof PrintWriter) {\n        PrintWriter printWriter = (PrintWriter)output;\n        printWriter.print(s);\n    }\n}\n</code></pre>\n<p>(There are other ways to implement that logic, but that is irrelevant with respect to your problem.)</p>\n<p>[2] Uncheck <strong>{project} &gt; Properties &gt; Build &gt; Compiling &gt; Compile on Save</strong> if it is currently checked.</p>\n<p>Notes:</p>\n<ul>\n<li>I'm not sure why I can't reproduce your problem. Your code runs fine for me, and I'm also using <em>Compile on Save</em>. Perhaps it is because I'm using JDK 20, and you are using an earlier JDK?</li>\n<li>While not directly related to your issue, <a href=\"https://openjdk.org/jeps/433\" rel=\"nofollow noreferrer\">JEP 433: Pattern Matching for switch (Fourth Preview)</a> may be of interest. In particular, see the code in the <code>formatterPatternSwitch()</code> example.</li>\n<li>Arguably, your question is a duplicate of <a href=\"https://stackoverflow.com/q/2333285/2985643\">java.lang.RuntimeException: Uncompilable source code - what can cause this?</a>, although that question lacked the detail and focus of yours. But you still may want to review its answers if this answer doesn't resolve your issue.</li>\n</ul>\n"},{"comments":[{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":0,"creation_date":1683528144,"post_id":76198016,"comment_id":134374711,"body_markdown":"How is this answer any different to the one I have already posted? (Apart from telling the OP not to use NetBeans, which is not a solution.)","body":"How is this answer any different to the one I have already posted? (Apart from telling the OP not to use NetBeans, which is not a solution.)"},{"owner":{"account_id":9970255,"reputation":197,"user_id":7376577,"display_name":"Peter F"},"score":0,"creation_date":1683528253,"post_id":76198016,"comment_id":134374723,"body_markdown":"It is no different. I started writing it before you posted your answer.","body":"It is no different. I started writing it before you posted your answer."}],"tags":[],"owner":{"account_id":9970255,"reputation":197,"user_id":7376577,"display_name":"Peter F"},"comment_count":2,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1683527756,"creation_date":1683527756,"answer_id":76198016,"question_id":76197248,"body_markdown":"It&#39;s a bug in Netbeans IDE.\r\n\r\nSee these two issues on Github:\r\n\r\n* [Exception: Uncompilable code at instanceof with pattern matching JDK-17 debug / run in Netbeans][1]\r\n* [Uncompilable code exception with Compile on Save][2]\r\n\r\nWorkarounds:\r\n\r\n* Disable the &#39;Compile on Save&#39; feature in Netbeans IDE.\r\n\r\n    1. Open the &#39;Project Properties&#39; window. You can right-click on the project in the Projects panel then choose Properties, or click File &gt; Project Properties.\r\n    1. Click Build &gt; Compiling.\r\n    1. At the top, de-select &#39;Compile on Save&#39; then click OK.\r\n\r\n    [![screenshot of Project Properties window][3]][3]\r\n\r\n    After turning off &#39;Compile on Save&#39;, the  project will have a hammer icon and all the Java files in the project will have a wrench icon:\r\n\r\n    [![screenshot of project and file in Netbeans with Compile On Save turned off][4]][4]\r\n\r\n* Do not use `instanceof` pattern matching. You can change the code to:\r\n\r\n    ```java\r\n    public static void print(String s) {\r\n        if (output instanceof PrintStream) {\r\n            PrintStream castToPrintStream = (PrintStream) output;\r\n            castToPrintStream.print(s);\r\n        } else if (output instanceof PrintWriter) {\r\n            PrintWriter castToPrintWriter = (PrintWriter) output;\r\n            castToPrintWriter.print(s);\r\n        }\r\n    }\r\n    ```\r\n    \r\n    or\r\n    \r\n\r\n    ```java\r\n    public static void print(String s) {\r\n        if (output instanceof PrintStream) {\r\n            ((PrintStream) output).print(s);\r\n        } else if (output instanceof PrintWriter) {\r\n            ((PrintWriter) output).print(s);\r\n        }\r\n    }\r\n    ```\r\n\r\n* Do not use Netbeans IDE. You can compile and run your code using the command-line like this:\r\n\r\n    ```shell\r\n    javac ShortEasyPrint.java\r\n    java ShortEasyPrint\r\n    ```\r\n    Links to documentation:\r\n    \r\n    * [The `javac` command][5] (Java compiler)\r\n    * [The `java` command][6] \r\n\r\n\r\n  [1]: https://github.com/apache/netbeans/issues/5723\r\n  [2]: https://github.com/apache/netbeans/issues/5260\r\n  [3]: https://i.stack.imgur.com/APPna.png\r\n  [4]: https://i.stack.imgur.com/wpDXc.png\r\n  [5]: https://docs.oracle.com/en/java/javase/17/docs/specs/man/javac.html\r\n  [6]: https://docs.oracle.com/en/java/javase/17/docs/specs/man/java.html","title":"What is causing the error Exception in thread &quot;main&quot; java.lang.RuntimeException: Uncompilable code, with no other explanation except xml stuff?","body":"<p>It's a bug in Netbeans IDE.</p>\n<p>See these two issues on Github:</p>\n<ul>\n<li><a href=\"https://github.com/apache/netbeans/issues/5723\" rel=\"nofollow noreferrer\">Exception: Uncompilable code at instanceof with pattern matching JDK-17 debug / run in Netbeans</a></li>\n<li><a href=\"https://github.com/apache/netbeans/issues/5260\" rel=\"nofollow noreferrer\">Uncompilable code exception with Compile on Save</a></li>\n</ul>\n<p>Workarounds:</p>\n<ul>\n<li><p>Disable the 'Compile on Save' feature in Netbeans IDE.</p>\n<ol>\n<li>Open the 'Project Properties' window. You can right-click on the project in the Projects panel then choose Properties, or click File &gt; Project Properties.</li>\n<li>Click Build &gt; Compiling.</li>\n<li>At the top, de-select 'Compile on Save' then click OK.</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/APPna.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/APPna.png\" alt=\"screenshot of Project Properties window\" /></a></p>\n<p>After turning off 'Compile on Save', the  project will have a hammer icon and all the Java files in the project will have a wrench icon:</p>\n<p><a href=\"https://i.stack.imgur.com/wpDXc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wpDXc.png\" alt=\"screenshot of project and file in Netbeans with Compile On Save turned off\" /></a></p>\n</li>\n<li><p>Do not use <code>instanceof</code> pattern matching. You can change the code to:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void print(String s) {\n    if (output instanceof PrintStream) {\n        PrintStream castToPrintStream = (PrintStream) output;\n        castToPrintStream.print(s);\n    } else if (output instanceof PrintWriter) {\n        PrintWriter castToPrintWriter = (PrintWriter) output;\n        castToPrintWriter.print(s);\n    }\n}\n</code></pre>\n<p>or</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void print(String s) {\n    if (output instanceof PrintStream) {\n        ((PrintStream) output).print(s);\n    } else if (output instanceof PrintWriter) {\n        ((PrintWriter) output).print(s);\n    }\n}\n</code></pre>\n</li>\n<li><p>Do not use Netbeans IDE. You can compile and run your code using the command-line like this:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>javac ShortEasyPrint.java\njava ShortEasyPrint\n</code></pre>\n<p>Links to documentation:</p>\n<ul>\n<li><a href=\"https://docs.oracle.com/en/java/javase/17/docs/specs/man/javac.html\" rel=\"nofollow noreferrer\">The <code>javac</code> command</a> (Java compiler)</li>\n<li><a href=\"https://docs.oracle.com/en/java/javase/17/docs/specs/man/java.html\" rel=\"nofollow noreferrer\">The <code>java</code> command</a></li>\n</ul>\n</li>\n</ul>\n"}],"owner":{"account_id":28382762,"reputation":73,"user_id":21709774,"display_name":"Choosechee"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":249,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76197917,"answer_count":2,"score":0,"last_activity_date":1683527756,"creation_date":1683514679,"question_id":76197248,"body_markdown":"I&#39;m trying to make an EasyPrint class that allows you to print to the console with just print(), println(), and printf(), instead of having to do System.out or out. It also lets you set it to use a different PrintStream or a PrintWriter. However, when I test it, I get this error:\r\n\r\n\r\n```\r\nException in thread &quot;main&quot; java.lang.RuntimeException: Uncompilable code\r\n\tat easyprint.EasyPrint.print(EasyPrint.java:1)\r\n\tat tests.TestEasyPrint.main(TestEasyPrint.java:15)\r\nC:\\Users\\myUsername\\AppData\\Local\\NetBeans\\Cache\\17\\executor-snippets\\run.xml:111: The following error occurred while executing this line:\r\nC:\\Users\\myUsername\\AppData\\Local\\NetBeans\\Cache\\17\\executor-snippets\\run.xml:68: Java returned: 1\r\nBUILD FAILED (total time: 0 seconds)\r\n```\r\n\r\nAs you can see, it doesn&#39;t provide any information about the problem besides the run.xml stuff, which I don&#39;t understand.\r\n\r\nHere&#39;s a shortened version of the class and the test that has the same problem:\r\n\r\n\r\n```java\r\nimport java.io.*;\r\n\r\npublic class ShortEasyPrint {\r\n    private static Object output = System.out;\r\n    \r\n    public static void setOutput(PrintStream output) {\r\n        ShortEasyPrint.output = output;\r\n    }\r\n    \r\n    public static void setOutput(PrintWriter output) {\r\n        ShortEasyPrint.output = output;\r\n    }\r\n\r\n    public static void print(String s) {\r\n        if (output instanceof PrintStream printStream)\r\n            printStream.print(s);\r\n        else if (output instanceof PrintWriter printWriter)\r\n            printWriter.print(s);\r\n    }\r\n    \r\n    public static void main(String[] args) {\r\n        print(&quot;Test&quot;);\r\n    }\r\n}\r\n```\r\n\r\nI&#39;ve tried putting the test program in the same package, and the same class too (like in the example), and it still doesn&#39;t work (of course, even if they did work there, I wouldn&#39;t be able to use the class for other programs). I put the run.xml in pastebin, in case it helps: https://pastebin.com/zMYe78SN\r\n\r\nDoes anyone know what&#39;s wrong?","title":"What is causing the error Exception in thread &quot;main&quot; java.lang.RuntimeException: Uncompilable code, with no other explanation except xml stuff?","body":"<p>I'm trying to make an EasyPrint class that allows you to print to the console with just print(), println(), and printf(), instead of having to do System.out or out. It also lets you set it to use a different PrintStream or a PrintWriter. However, when I test it, I get this error:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.RuntimeException: Uncompilable code\n    at easyprint.EasyPrint.print(EasyPrint.java:1)\n    at tests.TestEasyPrint.main(TestEasyPrint.java:15)\nC:\\Users\\myUsername\\AppData\\Local\\NetBeans\\Cache\\17\\executor-snippets\\run.xml:111: The following error occurred while executing this line:\nC:\\Users\\myUsername\\AppData\\Local\\NetBeans\\Cache\\17\\executor-snippets\\run.xml:68: Java returned: 1\nBUILD FAILED (total time: 0 seconds)\n</code></pre>\n<p>As you can see, it doesn't provide any information about the problem besides the run.xml stuff, which I don't understand.</p>\n<p>Here's a shortened version of the class and the test that has the same problem:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.*;\n\npublic class ShortEasyPrint {\n    private static Object output = System.out;\n    \n    public static void setOutput(PrintStream output) {\n        ShortEasyPrint.output = output;\n    }\n    \n    public static void setOutput(PrintWriter output) {\n        ShortEasyPrint.output = output;\n    }\n\n    public static void print(String s) {\n        if (output instanceof PrintStream printStream)\n            printStream.print(s);\n        else if (output instanceof PrintWriter printWriter)\n            printWriter.print(s);\n    }\n    \n    public static void main(String[] args) {\n        print(&quot;Test&quot;);\n    }\n}\n</code></pre>\n<p>I've tried putting the test program in the same package, and the same class too (like in the example), and it still doesn't work (of course, even if they did work there, I wouldn't be able to use the class for other programs). I put the run.xml in pastebin, in case it helps: <a href=\"https://pastebin.com/zMYe78SN\" rel=\"nofollow noreferrer\">https://pastebin.com/zMYe78SN</a></p>\n<p>Does anyone know what's wrong?</p>\n"},{"tags":["java","powerpoint","aspose","aspose-slides"],"owner":{"account_id":19133592,"reputation":88,"user_id":13974992,"display_name":"Hungnn"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":164,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683527172,"creation_date":1673508817,"question_id":75092906,"body_markdown":"I&#39;m working with: Aspose.Slides lib to read PPT and PPTX files.\r\n\r\nWhen I replace text with another text, the font size is broken.\r\nOrigin:\r\n[![Origin file](https://i.stack.imgur.com/B1284.png)](https://i.stack.imgur.com/B1284.png)\r\n\r\nAfter replace text:\r\n[![New file](https://i.stack.imgur.com/usefp.png)](https://i.stack.imgur.com/usefp.png)\r\n\r\n```\r\npublic void asposeTranslate(String fileName) throws IOException {\r\n        Locale.setDefault(new Locale(&quot;en-us&quot;));\r\n        // Load presentation\r\n        Presentation pres = new Presentation(URL + &quot;/&quot; + fileName);\r\n        \r\n        // Loop through each slide\r\n        for (ISlide slide : pres.getSlides()) {\r\n            // Get all text frames in the slide\r\n            ITextFrame[] tf = SlideUtil.getAllTextBoxes(slide);\r\n\r\n            for (int i = 0; i &lt; tf.length; i++) {\r\n\r\n                for (IParagraph para : tf[i].getParagraphs()) {\r\n                    \r\n                    for (IPortion port : para.getPortions()) {\r\n                        String originText = port.getText();\r\n                        String newText = translateText(originTexmakes); // method make a new text\r\n                        port.setText(newText); // replace with new text\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        pres.save(URL + &quot;/new_&quot; + fileName, SaveFormat.Pptx);\r\n    }\r\n```\r\n\r\nI read from blogs: [https://blog.aspose.com/slides/find-and-replace-text-in-powerpoint-using-java/#API-to-Find-and-Replace-Text-in-PowerPoint](https://www.stackoverflow.com/)\r\n\r\nAfter replacing the new text, How can I keep older all styles of the older text?\r\n\r\nI used `aspose-slides-21.7`\r\n\r\nThanks,","title":"Java Aspose Slides find and replace text cannot keep text style","body":"<p>I'm working with: Aspose.Slides lib to read PPT and PPTX files.</p>\n<p>When I replace text with another text, the font size is broken.\nOrigin:\n<a href=\"https://i.stack.imgur.com/B1284.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/B1284.png\" alt=\"Origin file\" /></a></p>\n<p>After replace text:\n<a href=\"https://i.stack.imgur.com/usefp.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/usefp.png\" alt=\"New file\" /></a></p>\n<pre><code>public void asposeTranslate(String fileName) throws IOException {\n        Locale.setDefault(new Locale(&quot;en-us&quot;));\n        // Load presentation\n        Presentation pres = new Presentation(URL + &quot;/&quot; + fileName);\n        \n        // Loop through each slide\n        for (ISlide slide : pres.getSlides()) {\n            // Get all text frames in the slide\n            ITextFrame[] tf = SlideUtil.getAllTextBoxes(slide);\n\n            for (int i = 0; i &lt; tf.length; i++) {\n\n                for (IParagraph para : tf[i].getParagraphs()) {\n                    \n                    for (IPortion port : para.getPortions()) {\n                        String originText = port.getText();\n                        String newText = translateText(originTexmakes); // method make a new text\n                        port.setText(newText); // replace with new text\n                    }\n                }\n            }\n        }\n        pres.save(URL + &quot;/new_&quot; + fileName, SaveFormat.Pptx);\n    }\n</code></pre>\n<p>I read from blogs: <a href=\"https://www.stackoverflow.com/\">https://blog.aspose.com/slides/find-and-replace-text-in-powerpoint-using-java/#API-to-Find-and-Replace-Text-in-PowerPoint</a></p>\n<p>After replacing the new text, How can I keep older all styles of the older text?</p>\n<p>I used <code>aspose-slides-21.7</code></p>\n<p>Thanks,</p>\n"},{"tags":["java","ioexception","bufferedwriter"],"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1683526248,"post_id":75863001,"comment_id":134374401,"body_markdown":"Exceptions are thrown. This is a compiler error, not an exception, and it is displayed, or printed, or shown. Not &#39;thrown&#39;.","body":"Exceptions are thrown. This is a compiler error, not an exception, and it is displayed, or printed, or shown. Not &#39;thrown&#39;."}],"answers":[{"tags":[],"owner":{"account_id":28110653,"reputation":1,"user_id":21478470,"display_name":"Smanika"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679985380,"creation_date":1679985380,"answer_id":75863032,"question_id":75863001,"body_markdown":"You need to add an exception to the method signature.\r\n\r\n**public static void main(String[] args) throws IOException**","title":"Why my code showing error: unreported exception IOException; must be caught or declared to be thrown at bw.write(s);","body":"<p>You need to add an exception to the method signature.</p>\n<p><strong>public static void main(String[] args) throws IOException</strong></p>\n"}],"owner":{"account_id":28144999,"reputation":1,"user_id":21507443,"display_name":"Charan Guvvala"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":92,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1679991045,"answer_count":1,"score":0,"last_activity_date":1683526216,"creation_date":1679985161,"question_id":75863001,"body_markdown":"&gt; Problem Statement: Given an array of integers, answer queries of the form: [i, j] : Print the sum of array elements from A[i] to A[j], both inclusive\r\n\r\nThis is the code I used:\r\n```\r\nimport java.io.*;\r\nimport java.util.*;\r\n\r\npublic class Solution {\r\n\r\n    public static void main(String[] args) {\r\n        /* Enter your code here. Read input from STDIN. Print output to STDOUT. Your class should be named Solution. */\r\n        Scanner sc=new Scanner(System.in);\r\n        BufferedWriter bw=new BufferedWriter(new OutputStreamWriter(System.out));\r\n        int n=sc.nextInt();\r\n        long arr[]=new long[n];\r\n        for(int i=0;i&lt;n;i++)\r\n            arr[i]=sc.nextLong();\r\n        long farr[]=new long[n];\r\n        farr[0]=arr[0];\r\n        for(int i=1;i&lt;n;i++)\r\n            farr[i]=farr[i-1]+arr[i];\r\n        int q=sc.nextInt();\r\n        while(q--&gt;0){\r\n            int i=sc.nextInt();\r\n            int j=sc.nextInt();\r\n            if(i!=0){\r\n                //I&#39;m converting long value to String bcoz bw can&#39;t write long value in buffer \r\n                String s=String.valueOf(farr[j]-farr[i-1]);\r\n                bw.write(s);\r\n            }\r\n            else{\r\n                String s=String.valueOf(farr[j]);\r\n                bw.write(s);\r\n            }\r\n        }\r\n        bw.flush();\r\n        bw.close();\r\n    }\r\n}\r\n```\r\nI tried the above code for Sum of Subarray problem","title":"Why my code showing error: unreported exception IOException; must be caught or declared to be thrown at bw.write(s);","body":"<blockquote>\n<p>Problem Statement: Given an array of integers, answer queries of the form: [i, j] : Print the sum of array elements from A[i] to A[j], both inclusive</p>\n</blockquote>\n<p>This is the code I used:</p>\n<pre><code>import java.io.*;\nimport java.util.*;\n\npublic class Solution {\n\n    public static void main(String[] args) {\n        /* Enter your code here. Read input from STDIN. Print output to STDOUT. Your class should be named Solution. */\n        Scanner sc=new Scanner(System.in);\n        BufferedWriter bw=new BufferedWriter(new OutputStreamWriter(System.out));\n        int n=sc.nextInt();\n        long arr[]=new long[n];\n        for(int i=0;i&lt;n;i++)\n            arr[i]=sc.nextLong();\n        long farr[]=new long[n];\n        farr[0]=arr[0];\n        for(int i=1;i&lt;n;i++)\n            farr[i]=farr[i-1]+arr[i];\n        int q=sc.nextInt();\n        while(q--&gt;0){\n            int i=sc.nextInt();\n            int j=sc.nextInt();\n            if(i!=0){\n                //I'm converting long value to String bcoz bw can't write long value in buffer \n                String s=String.valueOf(farr[j]-farr[i-1]);\n                bw.write(s);\n            }\n            else{\n                String s=String.valueOf(farr[j]);\n                bw.write(s);\n            }\n        }\n        bw.flush();\n        bw.close();\n    }\n}\n</code></pre>\n<p>I tried the above code for Sum of Subarray problem</p>\n"},{"tags":["java","encryption","key-generator"],"answers":[{"tags":[],"owner":{"account_id":449256,"reputation":2120,"user_id":843943,"accept_rate":75,"display_name":"Grim"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669751328,"creation_date":1669751328,"answer_id":74619504,"question_id":74619437,"body_markdown":"Use \r\n\r\n    public static void main(String[] args) throws Exception {\r\n\r\nInstead","title":"java - unreported exception NoSuchAlgorithmException","body":"<p>Use</p>\n<pre><code>public static void main(String[] args) throws Exception {\n</code></pre>\n<p>Instead</p>\n"}],"owner":{"account_id":22470439,"reputation":21,"user_id":16670952,"display_name":"Someone"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":129,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1669752497,"answer_count":1,"score":-3,"last_activity_date":1683526021,"creation_date":1669750960,"question_id":74619437,"body_markdown":"im trying to generate an aes key with java and i get the error NoSuchAlgorithmException, i tried everything and nothing worked. ive seen questions of other people and the answer was exactly what i did, what i did wrong? this is my code:\r\n```\r\nimport javax.crypto.KeyGenerator;\r\nimport java.security.SecureRandom;\r\n\r\nclass Main {\r\n  public static String Func(byte[] bArr) {\r\n    StringBuilder sb = new StringBuilder();\r\n    for (int i = 0; bArr != null &amp;&amp; i &lt; bArr.length; i++) {\r\n      String hexString = Integer.toHexString(bArr[i] &amp; 255);\r\n      if (hexString.length() == 1) {\r\n        sb.append(&#39;0&#39;);\r\n      }\r\n      sb.append(hexString);\r\n    }\r\n    return sb.toString();\r\n  }\r\n\r\n  public static void main(String[] args) {\r\n    String[] strArr = null;\r\n    strArr = new String[2];\r\n    KeyGenerator generator = KeyGenerator.getInstance(&quot;AES&quot;);\r\n    SecureRandom secureRandom = new SecureRandom();\r\n    generator.init(128, secureRandom);\r\n    strArr[0] = Func(generator.generateKey().getEncoded());\r\n    System.out.println(strArr[0]);\r\n  }\r\n}\r\n```\r\nand i get the error:\r\n```\r\nerror: unreported exception NoSuchAlgorithmException; must be caught or declared to be thrown\r\nKeyGenerator generator = KeyGenerator.getInstance(&quot;AES&quot;);\r\n```","title":"java - unreported exception NoSuchAlgorithmException","body":"<p>im trying to generate an aes key with java and i get the error NoSuchAlgorithmException, i tried everything and nothing worked. ive seen questions of other people and the answer was exactly what i did, what i did wrong? this is my code:</p>\n<pre><code>import javax.crypto.KeyGenerator;\nimport java.security.SecureRandom;\n\nclass Main {\n  public static String Func(byte[] bArr) {\n    StringBuilder sb = new StringBuilder();\n    for (int i = 0; bArr != null &amp;&amp; i &lt; bArr.length; i++) {\n      String hexString = Integer.toHexString(bArr[i] &amp; 255);\n      if (hexString.length() == 1) {\n        sb.append('0');\n      }\n      sb.append(hexString);\n    }\n    return sb.toString();\n  }\n\n  public static void main(String[] args) {\n    String[] strArr = null;\n    strArr = new String[2];\n    KeyGenerator generator = KeyGenerator.getInstance(&quot;AES&quot;);\n    SecureRandom secureRandom = new SecureRandom();\n    generator.init(128, secureRandom);\n    strArr[0] = Func(generator.generateKey().getEncoded());\n    System.out.println(strArr[0]);\n  }\n}\n</code></pre>\n<p>and i get the error:</p>\n<pre><code>error: unreported exception NoSuchAlgorithmException; must be caught or declared to be thrown\nKeyGenerator generator = KeyGenerator.getInstance(&quot;AES&quot;);\n</code></pre>\n"},{"tags":["java","visual-studio-code","javafx","vscode-extensions"],"comments":[{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":5,"creation_date":1683469559,"post_id":76194460,"comment_id":134368471,"body_markdown":"Welcome to Slackoverflow. Please read https://stackoverflow.com/help/how-to-ask. Also don&#39;t use images for text information https://meta.stackoverflow.com/questions/285551/why-should-i-not-upload-images-of-code-data-errors/285557#285557","body":"Welcome to Slackoverflow. Please read <a href=\"https://stackoverflow.com/help/how-to-ask\">stackoverflow.com/help/how-to-ask</a>. Also don&#39;t use images for text information <a href=\"https://meta.stackoverflow.com/questions/285551/why-should-i-not-upload-images-of-code-data-errors/285557#285557\" title=\"why should i not upload images of code data errors\">meta.stackoverflow.com/questions/285551/&hellip;</a>"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1683475430,"post_id":76194460,"comment_id":134369206,"body_markdown":"Which Java version is being used? `--moudle-path` is not available with Java 8 or earlier","body":"Which Java version is being used? <code>--moudle-path</code> is not available with Java 8 or earlier"},{"owner":{"account_id":28243143,"reputation":11,"user_id":21590616,"display_name":"Ferruccio Islam Bisceglia"},"score":0,"creation_date":1683478849,"post_id":76194460,"comment_id":134369662,"body_markdown":"@user16320675 java version &quot;20.0.1&quot; 2023-04-18","body":"@user16320675 java version &quot;20.0.1&quot; 2023-04-18"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1683482453,"post_id":76194460,"comment_id":134370235,"body_markdown":"are you sure, how you checked? (e.g. adding `-version` to `vmArgs` *before* `--module-path` ?)  (( I get the exact error when trying it with Java 8, but I do not use VS code ))","body":"are you sure, how you checked? (e.g. adding <code>-version</code> to <code>vmArgs</code> <i>before</i> <code>--module-path</code> ?)  (( I get the exact error when trying it with Java 8, but I do not use VS code ))"},{"owner":{"account_id":28243143,"reputation":11,"user_id":21590616,"display_name":"Ferruccio Islam Bisceglia"},"score":0,"creation_date":1683493624,"post_id":76194460,"comment_id":134371692,"body_markdown":"@user16320675 i checked the version by entering “java -version” in the cmd. So i should add “-version $myversion” before —module-path?","body":"@user16320675 i checked the version by entering “java -version” in the cmd. So i should add “-version $myversion” before —module-path?"}],"answers":[{"comments":[{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1683566465,"post_id":76197837,"comment_id":134382938,"body_markdown":"That’s interesting: an image of a cited web page *and* a link to the page in bold italics.  I’ve never seen that before in an answer.  It works well here IMO.","body":"That’s interesting: an image of a cited web page <i>and</i> a link to the page in bold italics.  I’ve never seen that before in an answer.  It works well here IMO."}],"tags":[],"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1683525264,"creation_date":1683525264,"answer_id":76197837,"question_id":76194460,"body_markdown":"First you need to make sure you are using **Java9** or higher, then configure [`vmArgs` in *launch.json*][1]:\r\n\r\n```json\r\n{\r\n    &quot;version&quot;: &quot;0.2.0&quot;,\r\n    &quot;configurations&quot;: [\r\n        {\r\n            &quot;type&quot;: &quot;java&quot;,\r\n            &quot;name&quot;: &quot;App&quot;,\r\n            &quot;request&quot;: &quot;launch&quot;,\r\n            &quot;mainClass&quot;: &quot;application.Main&quot;,\r\n            &quot;projectName&quot;: &quot;FirstJavaFXProject&quot;,\r\n            &quot;vmArgs&quot;: &quot;--module-path C:/Java/java-sdk-20.0.1/lib --add-modules javafx.controls,javafx.fxml&quot;,\r\n\r\n        }\r\n    ]\r\n}\r\n```\r\n\r\n*No single quotes around the path.*\r\n\r\n***It will be more helpful to refer to [this document][2].***\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://code.visualstudio.com/docs/java/java-debugging#_launch\r\n  [2]: https://openjfx.io/openjfx-docs/\r\n  [3]: https://i.stack.imgur.com/UnKFW.png","title":"Unrecognized option: --module-path Error: Could not create the Java Virtual Machine. Error: A fatal exception has occurred","body":"<p>First you need to make sure you are using <strong>Java9</strong> or higher, then configure <a href=\"https://code.visualstudio.com/docs/java/java-debugging#_launch\" rel=\"nofollow noreferrer\"><code>vmArgs</code> in <em>launch.json</em></a>:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;version&quot;: &quot;0.2.0&quot;,\n    &quot;configurations&quot;: [\n        {\n            &quot;type&quot;: &quot;java&quot;,\n            &quot;name&quot;: &quot;App&quot;,\n            &quot;request&quot;: &quot;launch&quot;,\n            &quot;mainClass&quot;: &quot;application.Main&quot;,\n            &quot;projectName&quot;: &quot;FirstJavaFXProject&quot;,\n            &quot;vmArgs&quot;: &quot;--module-path C:/Java/java-sdk-20.0.1/lib --add-modules javafx.controls,javafx.fxml&quot;,\n\n        }\n    ]\n}\n</code></pre>\n<p><em>No single quotes around the path.</em></p>\n<p><em><strong>It will be more helpful to refer to <a href=\"https://openjfx.io/openjfx-docs/\" rel=\"nofollow noreferrer\">this document</a>.</strong></em></p>\n<p><a href=\"https://i.stack.imgur.com/UnKFW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UnKFW.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":28243143,"reputation":11,"user_id":21590616,"display_name":"Ferruccio Islam Bisceglia"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":871,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1683525264,"creation_date":1683468850,"question_id":76194460,"body_markdown":"trying to setup a JavaFX project for the first time on vscode\r\n\r\nerror keep showing:\r\n\r\nUnrecognized option: --module-path\r\nError: Could not create the Java Virtual Machine.\r\nError: A fatal exception has occurred. Program will exit.\r\nPS C:\\Users\\bisce\\Desktop\\coding\\JavaProjects\\FirstJavaFXProject&gt;\r\n\r\nI tried setting up the env variable _JAVA_OPTION to have 1GB of memory allocated.\r\n\r\nattaching a screenshot of the launch.json file:\r\n[launch.json](https://i.stack.imgur.com/qsY2i.png)\r\n\r\nFarewell\r\n\r\n\r\n\r\n\r\nI tried setting up the env variable _JAVA_OPTION to have 1GB of memory allocated.","title":"Unrecognized option: --module-path Error: Could not create the Java Virtual Machine. Error: A fatal exception has occurred","body":"<p>trying to setup a JavaFX project for the first time on vscode</p>\n<p>error keep showing:</p>\n<p>Unrecognized option: --module-path\nError: Could not create the Java Virtual Machine.\nError: A fatal exception has occurred. Program will exit.\nPS C:\\Users\\bisce\\Desktop\\coding\\JavaProjects\\FirstJavaFXProject&gt;</p>\n<p>I tried setting up the env variable _JAVA_OPTION to have 1GB of memory allocated.</p>\n<p>attaching a screenshot of the launch.json file:\n<a href=\"https://i.stack.imgur.com/qsY2i.png\" rel=\"nofollow noreferrer\">launch.json</a></p>\n<p>Farewell</p>\n<p>I tried setting up the env variable _JAVA_OPTION to have 1GB of memory allocated.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":9727861,"reputation":2565,"user_id":7214091,"display_name":"Gast&#243;n Schabas"},"score":2,"creation_date":1683525119,"post_id":76197809,"comment_id":134374241,"body_markdown":"The article [Baeldung - Java Warning “unchecked](https://www.baeldung.com/java-unchecked-conversion) can also help you","body":"The article <a href=\"https://www.baeldung.com/java-unchecked-conversion\" rel=\"nofollow noreferrer\">Baeldung - Java Warning “unchecked</a> can also help you"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":2,"creation_date":1683525247,"post_id":76197809,"comment_id":134374255,"body_markdown":"it is not recommended to use Raw Types (`ConcurrentHashMap cmap`) from Java Language Specification [4.8. Raw Types](https://docs.oracle.com/javase/specs/jls/se20/html/jls-4.html#jls-4.8-400): &quot;*The use of raw types is allowed only as a concession to compatibility of legacy code. The use of raw types in code written after the introduction of generics into the Java programming language is strongly discouraged. It is possible that future versions of the Java programming language will disallow the use of raw types.*&quot;","body":"it is not recommended to use Raw Types (<code>ConcurrentHashMap cmap</code>) from Java Language Specification <a href=\"https://docs.oracle.com/javase/specs/jls/se20/html/jls-4.html#jls-4.8-400\" rel=\"nofollow noreferrer\">4.8. Raw Types</a>: &quot;<i>The use of raw types is allowed only as a concession to compatibility of legacy code. The use of raw types in code written after the introduction of generics into the Java programming language is strongly discouraged. It is possible that future versions of the Java programming language will disallow the use of raw types.</i>&quot;"},{"owner":{"account_id":184870,"reputation":118711,"user_id":421195,"accept_rate":83,"display_name":"paulsm4"},"score":1,"creation_date":1683525274,"post_id":76197809,"comment_id":134374260,"body_markdown":"I was going to suggest the Baeldung article myself - it&#39;s very good. To merely &quot;avoid the warning&quot;, there&#39;s `@SuppressWarnings(“unchecked”)`.  Another approach might be to declare a base class, and avoid using any raw types (or using &quot;Object&quot;!)","body":"I was going to suggest the Baeldung article myself - it&#39;s very good. To merely &quot;avoid the warning&quot;, there&#39;s <code>@SuppressWarnings(“unchecked”)</code>.  Another approach might be to declare a base class, and avoid using any raw types (or using &quot;Object&quot;!)"}],"owner":{"account_id":143734,"reputation":791,"user_id":352290,"accept_rate":100,"display_name":"user352290"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1683570080,"answer_count":0,"score":0,"last_activity_date":1683524817,"creation_date":1683524817,"question_id":76197809,"body_markdown":"How to avoid warning for an unchecked conversion while fetching from ConcurrentHashMap\r\n\r\n    warning: [unchecked] unchecked conversion\r\n        Set&lt;Map.Entry&lt;Object, Object&gt;&gt; kvPairs = cmap.entrySet();\r\n\r\nThe code snippet below, is the implementation for caching\r\n\r\n    Cache cache = cacheManager.getCache(cacheName);\r\n    log.trace(&quot;native cache name {}&quot;, cache.getNativeCache().getClass().getName());\r\n    \r\n    ConcurrentHashMap cmap = (ConcurrentHashMap) cache.getNativeCache();\r\n    Map&lt;String, Object&gt; map = new HashMap&lt;String, Object&gt;(cmap.size());\r\n    Set&lt;Map.Entry&lt;Object, Object&gt;&gt; kvPairs = cmap.entrySet();\r\n    for (Map.Entry&lt;Object, Object&gt; kv : kvPairs) {\r\n        Object value = kv.getValue();\r\n        if (value instanceof String) {\r\n            map.put((String) kv.getKey(), (String) value);\r\n        }\r\n        else if (value instanceof Newspaper) {\r\n            map.put((String) kv.getKey(), (Newspaper) value);\r\n        }\r\n        else if (value instanceof ArrayList) {\r\n            map.put((String) kv.getKey(), (ArrayList) value);\r\n        }\r\n        else if (value instanceof Response) {\r\n            map.put((String) kv.getKey(), (Response) value);\r\n        }\r\n        else if (value instanceof PageableResponse) {\r\n            map.put((String) kv.getKey(), (PageableResponse) value);\r\n        }\r\n        else {\r\n            log.error(&quot;unable to process value {}&quot;, value.getClass().getName());\r\n        }\r\n    }\r\n\r\n","title":"How to avoid warning for an unchecked conversion while fetching from ConcurrentHashMap","body":"<p>How to avoid warning for an unchecked conversion while fetching from ConcurrentHashMap</p>\n<pre><code>warning: [unchecked] unchecked conversion\n    Set&lt;Map.Entry&lt;Object, Object&gt;&gt; kvPairs = cmap.entrySet();\n</code></pre>\n<p>The code snippet below, is the implementation for caching</p>\n<pre><code>Cache cache = cacheManager.getCache(cacheName);\nlog.trace(&quot;native cache name {}&quot;, cache.getNativeCache().getClass().getName());\n\nConcurrentHashMap cmap = (ConcurrentHashMap) cache.getNativeCache();\nMap&lt;String, Object&gt; map = new HashMap&lt;String, Object&gt;(cmap.size());\nSet&lt;Map.Entry&lt;Object, Object&gt;&gt; kvPairs = cmap.entrySet();\nfor (Map.Entry&lt;Object, Object&gt; kv : kvPairs) {\n    Object value = kv.getValue();\n    if (value instanceof String) {\n        map.put((String) kv.getKey(), (String) value);\n    }\n    else if (value instanceof Newspaper) {\n        map.put((String) kv.getKey(), (Newspaper) value);\n    }\n    else if (value instanceof ArrayList) {\n        map.put((String) kv.getKey(), (ArrayList) value);\n    }\n    else if (value instanceof Response) {\n        map.put((String) kv.getKey(), (Response) value);\n    }\n    else if (value instanceof PageableResponse) {\n        map.put((String) kv.getKey(), (PageableResponse) value);\n    }\n    else {\n        log.error(&quot;unable to process value {}&quot;, value.getClass().getName());\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":446597,"reputation":22464,"user_id":839733,"accept_rate":69,"display_name":"Abhijit Sarkar"},"score":0,"creation_date":1683524404,"post_id":76197781,"comment_id":134374148,"body_markdown":"Just Google the names of the missing classes + which jar.","body":"Just Google the names of the missing classes + which jar."},{"owner":{"account_id":9727861,"reputation":2565,"user_id":7214091,"display_name":"Gast&#243;n Schabas"},"score":0,"creation_date":1683524751,"post_id":76197781,"comment_id":134374194,"body_markdown":"Are you following a tutorial or something like that? How you choose those dependencies? Is your IDE the one that shows that message? Are you running maven from the command line?","body":"Are you following a tutorial or something like that? How you choose those dependencies? Is your IDE the one that shows that message? Are you running maven from the command line?"},{"owner":{"account_id":20906298,"reputation":332,"user_id":15358155,"display_name":"chameerar"},"score":0,"creation_date":1683530058,"post_id":76197781,"comment_id":134375068,"body_markdown":"Could you please elaborate more on how you are running the program? Most likely this has caused due to  a missing dependency. However, it is better to show all the steps you took in the question.","body":"Could you please elaborate more on how you are running the program? Most likely this has caused due to  a missing dependency. However, it is better to show all the steps you took in the question."},{"owner":{"account_id":191592,"reputation":3687,"user_id":432254,"accept_rate":64,"display_name":"Andrey"},"score":1,"creation_date":1692131140,"post_id":76197781,"comment_id":135581985,"body_markdown":"Just met the same problem on Idea 2023.2 #IU-232.8660.185. No solution found, had to downgrade the app version.","body":"Just met the same problem on Idea 2023.2 #IU-232.8660.185. No solution found, had to downgrade the app version."},{"owner":{"account_id":1924099,"reputation":106,"user_id":1734950,"display_name":"Cool-T"},"score":1,"creation_date":1695305931,"post_id":76197781,"comment_id":136009198,"body_markdown":"@Andrey i manadged to fix this issue buy re-add maven project in idea\nsource: https://intellij-support.jetbrains.com/hc/en-us/community/posts/11333307374994-Maven-Dependency-not-recognized-by-IntelliJ?page=1#community_comment_11338231269266","body":"@Andrey i manadged to fix this issue buy re-add maven project in idea source: <a href=\"https://intellij-support.jetbrains.com/hc/en-us/community/posts/11333307374994-Maven-Dependency-not-recognized-by-IntelliJ?page=1#community_comment_11338231269266\" rel=\"nofollow noreferrer\">intellij-support.jetbrains.com/hc/en-us/community/posts/&hellip;</a>"}],"owner":{"account_id":25466532,"reputation":49,"user_id":19265495,"display_name":"Frank G"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":329,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1683524250,"creation_date":1683524250,"question_id":76197781,"body_markdown":"I&#39;m trying to learn SpringBoot and I&#39;ve not been able to resolve this issue for the past several days, I try to run my ```DemoApplication``` class, and encounter these messages\r\n```package org.junit.jupiter.api does not exist```\r\n```package org.springframework.boot.test.context does not exist```\r\n```cannot find symbol class SpringBootTest```\r\n```cannot find symbol class Test```\r\nUnfortunately, no tutorials online seem to encounter this issue, and I&#39;ve not found any helpful guides.\r\nI&#39;m using IntelliJ IDEA, and I&#39;m on SpringBoot 2.7.11. I ran into the same issue with 3.0.6.\r\n\r\nMy pom.xml is as follows\r\n```&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.7.11&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.example.sbpractice&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;demo&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;demo&lt;/name&gt;\r\n\t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```","title":"How to resolve java: package org.junit.jupiter.api does not exist and package org.springframework.boot.test.context does not exist","body":"<p>I'm trying to learn SpringBoot and I've not been able to resolve this issue for the past several days, I try to run my <code>DemoApplication</code> class, and encounter these messages\n<code>package org.junit.jupiter.api does not exist</code>\n<code>package org.springframework.boot.test.context does not exist</code>\n<code>cannot find symbol class SpringBootTest</code>\n<code>cannot find symbol class Test</code>\nUnfortunately, no tutorials online seem to encounter this issue, and I've not found any helpful guides.\nI'm using IntelliJ IDEA, and I'm on SpringBoot 2.7.11. I ran into the same issue with 3.0.6.</p>\n<p>My pom.xml is as follows</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.11&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example.sbpractice&lt;/groupId&gt;\n    &lt;artifactId&gt;demo&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;demo&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","arraylist"],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":0,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1683147046,"creation_date":1683147046,"answer_id":76167890,"question_id":76167823,"body_markdown":"Your evident problem is lack of knowledge on how to debug.\r\n\r\nGiven that you asked this question on SO, evidently you think a seasoned programmer just stares at code for a while in a zen-like trance and then jumps out the bathtub, run down the street, and yell eureka a lot.\r\n\r\nThat&#39;s.. not how it works.\r\n\r\nYou debug. It&#39;s easy! You arrange a system whereby you can see what your code is doing as it is doing it, and you work out &#39;in your head&#39; or on paper what you think it should do.\r\n\r\nAnytime the two disagree, yay! You found one (1) bug. There are probably more; fix it, start over or keep going. Once the software does exactly what you expected it to do, grand. It works now. Ship it.\r\n\r\nSo, go ahead, and do that. It&#39;s generally a good idea to learn how to use debuggers (they make this easy by letting you see the value of expressions and variables, and run code one line at a time), but if that sounds like too much effort right now (that&#39;s not good; you may have heard that laziness is a virtue - that&#39;s not the kind of laziness you want to cultivate), in which case, there&#39;s always injecting a boatload of Sysout statements.\r\n\r\nI specifically suggest you check what happens to `newArraylist` when the &#39;subsequence of 5&#39; you are gathering together ends up failing halfway through, i.e. 15 - check, 14 - still check, 12 - uhoh, turns out 15 was __not__ the final number in the 5-number sequence you were looking for after all. So, now what does your code do when this scenario occurs?\r\n\r\nDon&#39;t think about it. Just go edit your code so your code _tells you_ what it does in that case. Contrast to what you want it to do, and, you&#39;ll have your answer.\r\n","title":"Determining the 5 integers in sequence in ArrayList with largest last integer","body":"<p>Your evident problem is lack of knowledge on how to debug.</p>\n<p>Given that you asked this question on SO, evidently you think a seasoned programmer just stares at code for a while in a zen-like trance and then jumps out the bathtub, run down the street, and yell eureka a lot.</p>\n<p>That's.. not how it works.</p>\n<p>You debug. It's easy! You arrange a system whereby you can see what your code is doing as it is doing it, and you work out 'in your head' or on paper what you think it should do.</p>\n<p>Anytime the two disagree, yay! You found one (1) bug. There are probably more; fix it, start over or keep going. Once the software does exactly what you expected it to do, grand. It works now. Ship it.</p>\n<p>So, go ahead, and do that. It's generally a good idea to learn how to use debuggers (they make this easy by letting you see the value of expressions and variables, and run code one line at a time), but if that sounds like too much effort right now (that's not good; you may have heard that laziness is a virtue - that's not the kind of laziness you want to cultivate), in which case, there's always injecting a boatload of Sysout statements.</p>\n<p>I specifically suggest you check what happens to <code>newArraylist</code> when the 'subsequence of 5' you are gathering together ends up failing halfway through, i.e. 15 - check, 14 - still check, 12 - uhoh, turns out 15 was <strong>not</strong> the final number in the 5-number sequence you were looking for after all. So, now what does your code do when this scenario occurs?</p>\n<p>Don't think about it. Just go edit your code so your code <em>tells you</em> what it does in that case. Contrast to what you want it to do, and, you'll have your answer.</p>\n"},{"comments":[{"owner":{"account_id":8933852,"reputation":13,"user_id":6665418,"display_name":"Nate650"},"score":0,"creation_date":1683152505,"post_id":76168095,"comment_id":134324535,"body_markdown":"This doesn&#39;t yield the expected outcome.  newArrayList is `[10, 11, 12, 14, 15]` instead of `[8, 9, 10, 11, 12]`.  All 5 integers in the sublist have to be consecutive.","body":"This doesn&#39;t yield the expected outcome.  newArrayList is <code>[10, 11, 12, 14, 15]</code> instead of <code>[8, 9, 10, 11, 12]</code>.  All 5 integers in the sublist have to be consecutive."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1683210610,"post_id":76168095,"comment_id":134334620,"body_markdown":"As it’s currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As it’s currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/76168095/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":28497108,"reputation":11,"user_id":21808842,"display_name":"Brogrammer"},"comment_count":2,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1683149031,"creation_date":1683149031,"answer_id":76168095,"question_id":76167823,"body_markdown":"This should do:\r\n\r\n    public static void main(String[] args) {\r\n\t    ArrayList&lt;Integer&gt; al = new ArrayList&lt;&gt;(Arrays.asList(3, 5, 7, 8, 9, 10, 11, 12, 14, 15));\r\n\t    ArrayList&lt;Integer&gt; al2 = new ArrayList&lt;&gt;(Arrays.asList(10, 9, 8, 7, 6, 5, 4));\r\n\t    ArrayList&lt;Integer&gt; al3 = new ArrayList&lt;&gt;(Arrays.asList(45, 23, 214, 123, 12, 67, 45, 23, 546, 234, 12, 23));\r\n        test2(al);\r\n        test2(al2);\r\n        test2(al3);\r\n\t}\r\n\t\r\n\tpublic static void test2(List&lt;Integer&gt; al) {\r\n\t\tSystem.out.println(&quot;list before: &quot; + al);\r\n\t\t\r\n\t\tInteger maxValue = al.get(4);\r\n\t\tInteger maxValuePosition = 4;\t\r\n\t\tfor (int i = 5; i &lt; al.size(); ++i) {\r\n\t\t\tif (al.get(i) &gt; maxValue) {\r\n\t\t\t\tmaxValue = al.get(i);\r\n\t\t\t\tmaxValuePosition = i;\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tSystem.out.println(&quot;max value position: &quot; + maxValuePosition);\r\n\t\t\r\n\t\tList&lt;Integer&gt; newArrayList = al.subList(maxValuePosition - 4, maxValuePosition + 1);\r\n        System.out.println(&quot;new list: &quot; + newArrayList);\r\n\t}","title":"Determining the 5 integers in sequence in ArrayList with largest last integer","body":"<p>This should do:</p>\n<pre><code>public static void main(String[] args) {\n    ArrayList&lt;Integer&gt; al = new ArrayList&lt;&gt;(Arrays.asList(3, 5, 7, 8, 9, 10, 11, 12, 14, 15));\n    ArrayList&lt;Integer&gt; al2 = new ArrayList&lt;&gt;(Arrays.asList(10, 9, 8, 7, 6, 5, 4));\n    ArrayList&lt;Integer&gt; al3 = new ArrayList&lt;&gt;(Arrays.asList(45, 23, 214, 123, 12, 67, 45, 23, 546, 234, 12, 23));\n    test2(al);\n    test2(al2);\n    test2(al3);\n}\n\npublic static void test2(List&lt;Integer&gt; al) {\n    System.out.println(&quot;list before: &quot; + al);\n    \n    Integer maxValue = al.get(4);\n    Integer maxValuePosition = 4;   \n    for (int i = 5; i &lt; al.size(); ++i) {\n        if (al.get(i) &gt; maxValue) {\n            maxValue = al.get(i);\n            maxValuePosition = i;\n        }\n    }\n    \n    System.out.println(&quot;max value position: &quot; + maxValuePosition);\n    \n    List&lt;Integer&gt; newArrayList = al.subList(maxValuePosition - 4, maxValuePosition + 1);\n    System.out.println(&quot;new list: &quot; + newArrayList);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8933852,"reputation":13,"user_id":6665418,"display_name":"Nate650"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683218050,"creation_date":1683217733,"answer_id":76175409,"question_id":76167823,"body_markdown":"Thanks for the replies.\r\n\r\nI don&#39;t know if this is the most elegant solution, but I figured out a solution.\r\n\r\n```\r\npublic static void test2(ArrayList&lt;Integer&gt; al) {\r\n        ArrayList&lt;Integer&gt; newArrayList = new ArrayList&lt;&gt;();\r\n        Collections.reverse(al);\r\n        System.out.println(&quot;original list: &quot; + al);\r\n        for (int i = 1; i &lt; al.size(); ++i) {\r\n            if (al.get(i) == al.get(i - 1) - 1 ) {\r\n                newArrayList.add(al.get(i - 1));\r\n                if (i == al.size() - 1 || newArrayList.size() == 4) {\r\n                    newArrayList.add(al.get(i));\r\n                }\r\n            } else {\r\n                newArrayList.clear();\r\n            }\r\n            if (newArrayList.size() == 5) {\r\n                break;\r\n            }\r\n        }\r\n        System.out.println(&quot;new list: &quot; + newArrayList);\r\n    }\r\n\r\noriginal list: [22, 21, 20, 16, 15, 14, 12, 11, 10, 9, 8, 7, 5, 3, 2]\r\nnew list: [12, 11, 10, 9, 8]\r\noriginal list: [11, 8, 7, 6, 5, 4]\r\nnew list: [8, 7, 6, 5, 4]\r\noriginal list: [8, 7, 6, 5, 4, 2]\r\nnew list: [8, 7, 6, 5, 4]\r\n```","title":"Determining the 5 integers in sequence in ArrayList with largest last integer","body":"<p>Thanks for the replies.</p>\n<p>I don't know if this is the most elegant solution, but I figured out a solution.</p>\n<pre><code>public static void test2(ArrayList&lt;Integer&gt; al) {\n        ArrayList&lt;Integer&gt; newArrayList = new ArrayList&lt;&gt;();\n        Collections.reverse(al);\n        System.out.println(&quot;original list: &quot; + al);\n        for (int i = 1; i &lt; al.size(); ++i) {\n            if (al.get(i) == al.get(i - 1) - 1 ) {\n                newArrayList.add(al.get(i - 1));\n                if (i == al.size() - 1 || newArrayList.size() == 4) {\n                    newArrayList.add(al.get(i));\n                }\n            } else {\n                newArrayList.clear();\n            }\n            if (newArrayList.size() == 5) {\n                break;\n            }\n        }\n        System.out.println(&quot;new list: &quot; + newArrayList);\n    }\n\noriginal list: [22, 21, 20, 16, 15, 14, 12, 11, 10, 9, 8, 7, 5, 3, 2]\nnew list: [12, 11, 10, 9, 8]\noriginal list: [11, 8, 7, 6, 5, 4]\nnew list: [8, 7, 6, 5, 4]\noriginal list: [8, 7, 6, 5, 4, 2]\nnew list: [8, 7, 6, 5, 4]\n</code></pre>\n"},{"comments":[{"owner":{"account_id":8933852,"reputation":13,"user_id":6665418,"display_name":"Nate650"},"score":0,"creation_date":1683522524,"post_id":76176364,"comment_id":134373954,"body_markdown":"This is a very creative solution.  Thank you!  I also figured out another solution (which I&#39;ll post as another answer), but I like yours more.  :)","body":"This is a very creative solution.  Thank you!  I also figured out another solution (which I&#39;ll post as another answer), but I like yours more.  :)"}],"tags":[],"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1683225178,"creation_date":1683225178,"answer_id":76176364,"question_id":76167823,"body_markdown":"Here is one solution which:\r\n -  uses an `isValid` helper method to analyze the current and candidate sublist.\r\n -  makes use of `subLists` to avoid having to create separate ones (sublists show a view of the main list so elements aren&#39;t copied).\r\n -  avoids reversing the parent list by iterating backwards.\r\n\r\n```\r\nList&lt;Integer&gt; list = List.of(1,2,3,4,5,16,17,18,19,22,23,24,47,48,90);\r\n```\r\nCheck for solutions of series containing 1 to 5 elements. \r\n```\r\nfor (int limit = 5; limit &gt; 0; limit--) {\r\n     System.out.printf(&quot;For limit = %d : %s%n&quot;,limit, getMax(list, limit));\r\n}\r\n```\r\nprints\r\n```\r\nFor limit = 5 : [1, 2, 3, 4, 5]\r\nFor limit = 4 : [16, 17, 18, 19]\r\nFor limit = 3 : [22, 23, 24]\r\nFor limit = 2 : [47, 48]\r\nFor limit = 1 : [90]\r\n\r\n```\r\nThe main routine that iterates thru the subLists of size limit and returns either the valid one or `null` if not found.\r\n```\r\npublic static List&lt;Integer&gt; getMax(List&lt;Integer&gt; list, int limit) { \r\n    for (int i = list.size()-limit; i &gt;= 0; i--) {\r\n        List&lt;Integer&gt; candidate = list.subList(i,i+limit);\r\n        if (isValid(candidate)) {\r\n            return candidate;\r\n        }\r\n    }\r\n    return null;\r\n}\r\n```\r\nReturns `true` if the candidate is a valid arithmetic sequence of size `limit`. Else returns `false`.\r\n```\r\npublic static boolean isValid(List&lt;Integer&gt; candidate) {\r\n    for (int i = candidate.size()-1; i &gt; 0; i--) {\r\n        if (candidate.get(i) - 1 != candidate.get(i-1)) {\r\n            return false;\r\n        }\r\n    }\r\n    return true;\r\n}\r\n","title":"Determining the 5 integers in sequence in ArrayList with largest last integer","body":"<p>Here is one solution which:</p>\n<ul>\n<li>uses an <code>isValid</code> helper method to analyze the current and candidate sublist.</li>\n<li>makes use of <code>subLists</code> to avoid having to create separate ones (sublists show a view of the main list so elements aren't copied).</li>\n<li>avoids reversing the parent list by iterating backwards.</li>\n</ul>\n<pre><code>List&lt;Integer&gt; list = List.of(1,2,3,4,5,16,17,18,19,22,23,24,47,48,90);\n</code></pre>\n<p>Check for solutions of series containing 1 to 5 elements.</p>\n<pre><code>for (int limit = 5; limit &gt; 0; limit--) {\n     System.out.printf(&quot;For limit = %d : %s%n&quot;,limit, getMax(list, limit));\n}\n</code></pre>\n<p>prints</p>\n<pre><code>For limit = 5 : [1, 2, 3, 4, 5]\nFor limit = 4 : [16, 17, 18, 19]\nFor limit = 3 : [22, 23, 24]\nFor limit = 2 : [47, 48]\nFor limit = 1 : [90]\n\n</code></pre>\n<p>The main routine that iterates thru the subLists of size limit and returns either the valid one or <code>null</code> if not found.</p>\n<pre><code>public static List&lt;Integer&gt; getMax(List&lt;Integer&gt; list, int limit) { \n    for (int i = list.size()-limit; i &gt;= 0; i--) {\n        List&lt;Integer&gt; candidate = list.subList(i,i+limit);\n        if (isValid(candidate)) {\n            return candidate;\n        }\n    }\n    return null;\n}\n</code></pre>\n<p>Returns <code>true</code> if the candidate is a valid arithmetic sequence of size <code>limit</code>. Else returns <code>false</code>.</p>\n<pre><code>public static boolean isValid(List&lt;Integer&gt; candidate) {\n    for (int i = candidate.size()-1; i &gt; 0; i--) {\n        if (candidate.get(i) - 1 != candidate.get(i-1)) {\n            return false;\n        }\n    }\n    return true;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8933852,"reputation":13,"user_id":6665418,"display_name":"Nate650"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683523706,"creation_date":1683523706,"answer_id":76197732,"question_id":76167823,"body_markdown":"Another solution:\r\n\r\n```\r\n    public static void determineGreatestFiveCardsInSequence() {\r\n        List&lt;Integer&gt; list = List.of(2, 5, 6, 7, 8, 9, 12);\r\n\r\n        int start_index = 0;\r\n        int end_index = 0;\r\n        int length = list.size();\r\n\r\n        for (int i = 1; i &lt; length; ++i) {\r\n            if (list.get(i - 1) + 1 != list.get(i)) {\r\n                end_index = i - 1;\r\n                if (end_index - start_index &gt;= 4) {\r\n                    break;\r\n                }\r\n                start_index = i;\r\n            }\r\n        }\r\n        if (!(end_index - start_index &gt;= 4)) {\r\n            end_index = length - 1;\r\n        }\r\n        System.out.println(list.subList(start_index, end_index + 1));\r\n    }\r\n```\r\n\r\nOutput:\r\n\r\n```\r\n[5, 6, 7, 8, 9]\r\n```","title":"Determining the 5 integers in sequence in ArrayList with largest last integer","body":"<p>Another solution:</p>\n<pre><code>    public static void determineGreatestFiveCardsInSequence() {\n        List&lt;Integer&gt; list = List.of(2, 5, 6, 7, 8, 9, 12);\n\n        int start_index = 0;\n        int end_index = 0;\n        int length = list.size();\n\n        for (int i = 1; i &lt; length; ++i) {\n            if (list.get(i - 1) + 1 != list.get(i)) {\n                end_index = i - 1;\n                if (end_index - start_index &gt;= 4) {\n                    break;\n                }\n                start_index = i;\n            }\n        }\n        if (!(end_index - start_index &gt;= 4)) {\n            end_index = length - 1;\n        }\n        System.out.println(list.subList(start_index, end_index + 1));\n    }\n</code></pre>\n<p>Output:</p>\n<pre><code>[5, 6, 7, 8, 9]\n</code></pre>\n"}],"owner":{"account_id":8933852,"reputation":13,"user_id":6665418,"display_name":"Nate650"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":70,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":76176364,"answer_count":5,"score":-1,"last_activity_date":1683523706,"creation_date":1683146522,"question_id":76167823,"body_markdown":"Suppose I have a sorted ArrayList of integers with no duplicates:\r\n\r\n`ArrayList&lt;Integer&gt; al = new ArrayList&lt;&gt;(Arrays.asList(3, 5, 7, 8, 9, 10, 11, 12, 14, 15));`\r\n\r\nAssume it is guaranteed that there is a sequence of at least 5 numbers in the list.\r\n\r\nI&#39;m trying to determine the 5 number sequence with the largest last number.  In this case, it would be:\r\n\r\n`[8, 9, 10, 11, 12]` (the order of this result doesn&#39;t matter to me)\r\n\r\nThis is what I came up with:\r\n\r\n```\r\npublic class Game {\r\n\r\n    public static void test2(ArrayList&lt;Integer&gt; al) {\r\n        ArrayList&lt;Integer&gt; newArrayList = new ArrayList&lt;&gt;();\r\n        Collections.reverse(al);\r\n        System.out.println(&quot;list before: &quot; + al);\r\n        for (int i = 1; i &lt; al.size(); ++i) {\r\n            if (al.get(i) == al.get(i - 1) - 1) {\r\n                newArrayList.add(al.get(i - 1));\r\n            }\r\n            if (newArrayList.size() == 5) {\r\n                break;\r\n            }\r\n        }\r\n        System.out.println(&quot;new list: &quot; + newArrayList);\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        ArrayList&lt;Integer&gt; al = new ArrayList&lt;&gt;(Arrays.asList(3, 5, 7, 8, 9, 10, 11, 12, 14, 15));\r\n        test2(al);\r\n    }\r\n\r\n}\r\n```\r\n\r\nThis yields the following list:\r\n\r\n`[15, 12, 11, 10, 9]` instead of `[12, 11, 10, 9, 8]`\r\n\r\nI know why my solution doesn&#39;t work but can&#39;t figure out how to fix it.","title":"Determining the 5 integers in sequence in ArrayList with largest last integer","body":"<p>Suppose I have a sorted ArrayList of integers with no duplicates:</p>\n<p><code>ArrayList&lt;Integer&gt; al = new ArrayList&lt;&gt;(Arrays.asList(3, 5, 7, 8, 9, 10, 11, 12, 14, 15));</code></p>\n<p>Assume it is guaranteed that there is a sequence of at least 5 numbers in the list.</p>\n<p>I'm trying to determine the 5 number sequence with the largest last number.  In this case, it would be:</p>\n<p><code>[8, 9, 10, 11, 12]</code> (the order of this result doesn't matter to me)</p>\n<p>This is what I came up with:</p>\n<pre><code>public class Game {\n\n    public static void test2(ArrayList&lt;Integer&gt; al) {\n        ArrayList&lt;Integer&gt; newArrayList = new ArrayList&lt;&gt;();\n        Collections.reverse(al);\n        System.out.println(&quot;list before: &quot; + al);\n        for (int i = 1; i &lt; al.size(); ++i) {\n            if (al.get(i) == al.get(i - 1) - 1) {\n                newArrayList.add(al.get(i - 1));\n            }\n            if (newArrayList.size() == 5) {\n                break;\n            }\n        }\n        System.out.println(&quot;new list: &quot; + newArrayList);\n    }\n\n    public static void main(String[] args) {\n        ArrayList&lt;Integer&gt; al = new ArrayList&lt;&gt;(Arrays.asList(3, 5, 7, 8, 9, 10, 11, 12, 14, 15));\n        test2(al);\n    }\n\n}\n</code></pre>\n<p>This yields the following list:</p>\n<p><code>[15, 12, 11, 10, 9]</code> instead of <code>[12, 11, 10, 9, 8]</code></p>\n<p>I know why my solution doesn't work but can't figure out how to fix it.</p>\n"},{"tags":["java","spring","jar","jboss7.x","component-scan"],"owner":{"account_id":15393529,"reputation":35,"user_id":11105422,"display_name":"siddhant"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683523262,"creation_date":1683523262,"question_id":76197706,"body_markdown":"I have a jar file which acts like a plugin. In my main application I use component scan to inject the classes present in the jar file placed on the classpath. This is working fine in springboot however I am looking for a way to do the same thing on Jboss server but the classpath approach does not work in jboss as it loads 3rd party jar through modules. I have tried adding this jar both as a static module and dynamic module but my main app is unable to scan the classes inside the jar file. I&#39;m not getting any module loading errors so it looks like the jar is getting loaded as a module but I&#39;m not sure what could be the reason for spring component scan to not be working.\r\n\r\nLet me know if I need to add more info to the question.","title":"spring component scan not working on jboss module","body":"<p>I have a jar file which acts like a plugin. In my main application I use component scan to inject the classes present in the jar file placed on the classpath. This is working fine in springboot however I am looking for a way to do the same thing on Jboss server but the classpath approach does not work in jboss as it loads 3rd party jar through modules. I have tried adding this jar both as a static module and dynamic module but my main app is unable to scan the classes inside the jar file. I'm not getting any module loading errors so it looks like the jar is getting loaded as a module but I'm not sure what could be the reason for spring component scan to not be working.</p>\n<p>Let me know if I need to add more info to the question.</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1683519600,"creation_date":1683518039,"answer_id":76197425,"question_id":76197322,"body_markdown":"There is no way to know what is installed in your system. There maybe multiple versions installed with different methods. If you see it in command line it has to be in the path. Search the path directories.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/SEYUg.png","title":"uninstalling java from command prompt","body":"<p>There is no way to know what is installed in your system. There maybe multiple versions installed with different methods. If you see it in command line it has to be in the path. Search the path directories.</p>\n"},{"comments":[{"owner":{"account_id":28541761,"reputation":29,"user_id":21847732,"display_name":"Harsh"},"score":0,"creation_date":1683520174,"post_id":76197508,"comment_id":134373768,"body_markdown":"you mean in command prompt I should type this right","body":"you mean in command prompt I should type this right"},{"owner":{"account_id":22906904,"reputation":113,"user_id":17044833,"display_name":"Jaison "},"score":0,"creation_date":1683520294,"post_id":76197508,"comment_id":134373774,"body_markdown":"yes, that is correct","body":"yes, that is correct"},{"owner":{"account_id":28541761,"reputation":29,"user_id":21847732,"display_name":"Harsh"},"score":0,"creation_date":1683521107,"post_id":76197508,"comment_id":134373829,"body_markdown":"Yesss ! done java removed ,Thankyou","body":"Yesss ! done java removed ,Thankyou"},{"owner":{"account_id":28541761,"reputation":29,"user_id":21847732,"display_name":"Harsh"},"score":0,"creation_date":1683521295,"post_id":76197508,"comment_id":134373841,"body_markdown":"But that Java file is still there in control panel","body":"But that Java file is still there in control panel"}],"tags":[],"owner":{"account_id":22906904,"reputation":113,"user_id":17044833,"display_name":"Jaison "},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1683519939,"creation_date":1683519939,"answer_id":76197508,"question_id":76197322,"body_markdown":"\r\nYou will probably need to find the path of the installed java that is showing up in your cmd.\r\n\r\nTry running the below command on your windows machine to get the path of the installed java\r\n\r\n    for %i in (java.exe) do @echo.   %~$PATH:i\r\n\r\nyou can refer https://stackoverflow.com/questions/4681090/how-do-i-find-where-jdk-is-installed-on-my-windows-machine this thread for more details.\r\n\r\nOnce you find the path, try any of the steps mentioned here https://www.codejava.net/java-se/uninstall-jdk-from-windows for uninstalling.\r\n\r\n","title":"uninstalling java from command prompt","body":"<p>You will probably need to find the path of the installed java that is showing up in your cmd.</p>\n<p>Try running the below command on your windows machine to get the path of the installed java</p>\n<pre><code>for %i in (java.exe) do @echo.   %~$PATH:i\n</code></pre>\n<p>you can refer <a href=\"https://stackoverflow.com/questions/4681090/how-do-i-find-where-jdk-is-installed-on-my-windows-machine\">How do I find where JDK is installed on my windows machine?</a> this thread for more details.</p>\n<p>Once you find the path, try any of the steps mentioned here <a href=\"https://www.codejava.net/java-se/uninstall-jdk-from-windows\" rel=\"nofollow noreferrer\">https://www.codejava.net/java-se/uninstall-jdk-from-windows</a> for uninstalling.</p>\n"}],"owner":{"account_id":28541761,"reputation":29,"user_id":21847732,"display_name":"Harsh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":279,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"closed_date":1683614828,"answer_count":2,"score":-2,"last_activity_date":1683522472,"creation_date":1683516318,"question_id":76197322,"body_markdown":"I have uninstalled all java  from everywhere  and in command prompt it shows:\r\n\r\n```lang-none\r\nC:\\Users\\admin&gt;java -version\r\njava version &quot;1.8.0_111&quot;\r\nJava(TM) SE Runtime Environment (build 1.8.0_111-b14)\r\nJava HotSpot(TM) Client VM (build 25.111-b14, mixed mode)\r\n```\r\n\r\nI uninstall java from control panel but then also it shows in command prompt\r\n[screen shot of control panel][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ZzWuv.png","title":"uninstalling java from command prompt","body":"<p>I have uninstalled all java  from everywhere  and in command prompt it shows:</p>\n<pre class=\"lang-none prettyprint-override\"><code>C:\\Users\\admin&gt;java -version\njava version &quot;1.8.0_111&quot;\nJava(TM) SE Runtime Environment (build 1.8.0_111-b14)\nJava HotSpot(TM) Client VM (build 25.111-b14, mixed mode)\n</code></pre>\n<p>I uninstall java from control panel but then also it shows in command prompt\n<a href=\"https://i.stack.imgur.com/ZzWuv.png\" rel=\"nofollow noreferrer\">screen shot of control panel</a></p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9774,"page":451,"page_size":100}
