{"items":[{"tags":["java","pdf","processing","pdfbox"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1686591033,"post_id":76458772,"comment_id":134816729,"body_markdown":"fwiw I just used your code on a libreoffice Writer doc that I exported to pdf. It printed out the targets of the links just fine","body":"fwiw I just used your code on a libreoffice Writer doc that I exported to pdf. It printed out the targets of the links just fine"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1686591350,"post_id":76458772,"comment_id":134816809,"body_markdown":"Oh right. I think I might have misunderstood. If they are not &#39;proper&#39; links then surely that code can&#39;t possibly work?","body":"Oh right. I think I might have misunderstood. If they are not &#39;proper&#39; links then surely that code can&#39;t possibly work?"},{"owner":{"account_id":6597633,"reputation":6391,"user_id":5096868,"accept_rate":18,"display_name":"Yogesh Rathi"},"score":0,"creation_date":1686599591,"post_id":76458772,"comment_id":134818276,"body_markdown":"I have bad space somewhere, and some place i have normal string but that is link @KJ","body":"I have bad space somewhere, and some place i have normal string but that is link @KJ"},{"owner":{"account_id":6597633,"reputation":6391,"user_id":5096868,"accept_rate":18,"display_name":"Yogesh Rathi"},"score":0,"creation_date":1686599674,"post_id":76458772,"comment_id":134818287,"body_markdown":"You can check this pdf for example https://drive.google.com/file/d/1OqLjSUXpJ1Z3Ap5uDhSXMr0IdG9R6hCO/view?usp=drivesdk","body":"You can check this pdf for example <a href=\"https://drive.google.com/file/d/1OqLjSUXpJ1Z3Ap5uDhSXMr0IdG9R6hCO/view?usp=drivesdk\" rel=\"nofollow noreferrer\">drive.google.com/file/d/1OqLjSUXpJ1Z3Ap5uDhSXMr0IdG9R6hCO/&hellip;</a>"},{"owner":{"account_id":6597633,"reputation":6391,"user_id":5096868,"accept_rate":18,"display_name":"Yogesh Rathi"},"score":0,"creation_date":1686601404,"post_id":76458772,"comment_id":134818588,"body_markdown":"I am ok with any language, but i have thousands of pdf that i need to convert, via pattern i am able to detect that but unable to update in pdf, because not aware about the location, if someone from pdfbox give some info then it would be great","body":"I am ok with any language, but i have thousands of pdf that i need to convert, via pattern i am able to detect that but unable to update in pdf, because not aware about the location, if someone from pdfbox give some info then it would be great"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1686605061,"post_id":76458772,"comment_id":134819230,"body_markdown":"As @KJ said, the linked document simply contains links in the footnote plain text. Those are going to be quite tricky to parse out with regex such that they will be valid links because they cross line boundaries","body":"As @KJ said, the linked document simply contains links in the footnote plain text. Those are going to be quite tricky to parse out with regex such that they will be valid links because they cross line boundaries"},{"owner":{"account_id":6597633,"reputation":6391,"user_id":5096868,"accept_rate":18,"display_name":"Yogesh Rathi"},"score":0,"creation_date":1686627137,"post_id":76458772,"comment_id":134821310,"body_markdown":"@KJ Manual changes is not possible, I have lot of pdf with me. Whatever you edited that i expect from coding","body":"@KJ Manual changes is not possible, I have lot of pdf with me. Whatever you edited that i expect from coding"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1686647102,"post_id":76458772,"comment_id":134824178,"body_markdown":"This is the sort of problem you face: `https://$www.sec.gov/news/speech/spch120604rjc.htm$3` where I mark the line breaks by `$`. Multiline matching will give you the www joined correctly, but will *in* correctly give you the &#39;3&#39; (which is there to denote a new bulletpoint in the footnotes) joined on to the url. Endings of urls are super-arbitrary and can contain mostly anything apart from the space character","body":"This is the sort of problem you face: <code>https:&#47;&#47;$www.sec.gov&#47;news&#47;speech&#47;spch120604rjc.htm$3</code> where I mark the line breaks by <code>$</code>. Multiline matching will give you the www joined correctly, but will <i>in</i> correctly give you the &#39;3&#39; (which is there to denote a new bulletpoint in the footnotes) joined on to the url. Endings of urls are super-arbitrary and can contain mostly anything apart from the space character"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1686656566,"post_id":76458772,"comment_id":134826179,"body_markdown":"*but I think that specific was not a great problem that actual entry works as www.sec.gov/news/speech/spch120604rjc.htm* Well, you and I know what the link *should* be, but the machine doesn&#39;t and the fact is that it *is broken*. That just happens to be the first one I noticed as problematic. Then you&#39;ve got the problem (especially with old documents) that even when the machine gets it right, some links will be broken","body":"<i>but I think that specific was not a great problem that actual entry works as www.sec.gov/news/speech/spch120604rjc.htm</i> Well, you and I know what the link <i>should</i> be, but the machine doesn&#39;t and the fact is that it <i>is broken</i>. That just happens to be the first one I noticed as problematic. Then you&#39;ve got the problem (especially with old documents) that even when the machine gets it right, some links will be broken"},{"owner":{"account_id":6597633,"reputation":6391,"user_id":5096868,"accept_rate":18,"display_name":"Yogesh Rathi"},"score":0,"creation_date":1686661648,"post_id":76458772,"comment_id":134827358,"body_markdown":"I am worried about accoutingresearchmanger.com related urls @KJ","body":"I am worried about accoutingresearchmanger.com related urls @KJ"},{"owner":{"account_id":6597633,"reputation":6391,"user_id":5096868,"accept_rate":18,"display_name":"Yogesh Rathi"},"score":0,"creation_date":1686661714,"post_id":76458772,"comment_id":134827369,"body_markdown":"I have lot of links, I just shared one pdf, mostly you can focus on accounting* related urls @g00se","body":"I have lot of links, I just shared one pdf, mostly you can focus on accounting* related urls @g00se"},{"owner":{"account_id":6597633,"reputation":6391,"user_id":5096868,"accept_rate":18,"display_name":"Yogesh Rathi"},"score":0,"creation_date":1686661839,"post_id":76458772,"comment_id":134827394,"body_markdown":"Can we read para to para and can able to replace para to para? if Yes then we can add custom logic, Somehow to achieve this task, But i dont want to loose formatting and images","body":"Can we read para to para and can able to replace para to para? if Yes then we can add custom logic, Somehow to achieve this task, But i dont want to loose formatting and images"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":2,"creation_date":1686661966,"post_id":76458772,"comment_id":134827437,"body_markdown":"This task can only be partially automated. All the broken links are going to have to be given to a *person* to sort out","body":"This task can only be partially automated. All the broken links are going to have to be given to a <i>person</i> to sort out"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1686664159,"post_id":76458772,"comment_id":134827990,"body_markdown":"There will undoubtedly be lots of application-specific ops related to urls. The relevant thing here is that specific api sees *no links* in that document so effectively they are plain text. No automation would be necessary at all, presumably, if they all worked","body":"There will undoubtedly be lots of application-specific ops related to urls. The relevant thing here is that specific api sees <i>no links</i> in that document so effectively they are plain text. No automation would be necessary at all, presumably, if they all worked"},{"owner":{"account_id":6597633,"reputation":6391,"user_id":5096868,"accept_rate":18,"display_name":"Yogesh Rathi"},"score":0,"creation_date":1686684173,"post_id":76458772,"comment_id":134832379,"body_markdown":"I dont have common same url at one place, based on url, I want to caluclate id and new domain have different id, so that id i can pick from server and create new url","body":"I dont have common same url at one place, based on url, I want to caluclate id and new domain have different id, so that id i can pick from server and create new url"},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":1,"creation_date":1686733139,"post_id":76458772,"comment_id":134838353,"body_markdown":"I just had a look at the document and have to confirm what KJ and g00se  already said - the URLs are not marked as such in any way, neither using tags nor by special styles. There is no clear way to automatically determine where the URL ends. But I think it would be possible to implement an URL editor working for this and very similar documents (as long as the replacement URLs are not longer in print than the current ones). But you say you have thousands of documents to edit. If they are similar (not only on screen but also internally) to your example, creating such an editor may make sense.","body":"I just had a look at the document and have to confirm what KJ and g00se  already said - the URLs are not marked as such in any way, neither using tags nor by special styles. There is no clear way to automatically determine where the URL ends. But I think it would be possible to implement an URL editor working for this and very similar documents (as long as the replacement URLs are not longer in print than the current ones). But you say you have thousands of documents to edit. If they are similar (not only on screen but also internally) to your example, creating such an editor may make sense."},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":1,"creation_date":1686733507,"post_id":76458772,"comment_id":134838433,"body_markdown":"But even then you should have someone verifying the outputs unless a certain error rate is acceptable.","body":"But even then you should have someone verifying the outputs unless a certain error rate is acceptable."},{"owner":{"account_id":6597633,"reputation":6391,"user_id":5096868,"accept_rate":18,"display_name":"Yogesh Rathi"},"score":0,"creation_date":1686744875,"post_id":76458772,"comment_id":134840813,"body_markdown":"and I saw above code not work for footer link replacement","body":"and I saw above code not work for footer link replacement"}],"owner":{"account_id":6597633,"reputation":6391,"user_id":5096868,"accept_rate":18,"display_name":"Yogesh Rathi"},"comment_count":18,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686639655,"creation_date":1686588813,"question_id":76458772,"body_markdown":"I have one pdf file that have lot of links inside pdf, But those not annoted properly, And my organization going to release new website, So I want to collect all links from old domain and want to replace with new domain\r\n\r\nTried this code to collect all links from pdf\r\n\r\n    public void parsePdf(final Path path) {\r\n\t\ttry (PDDocument document = PDDocument.load(Files.newInputStream(path))) {\r\n\t\t\tfor (PDPage pdPage : document.getPages()) {\r\n\t\t\t\tpdPage.getAnnotations()\r\n\t\t\t\t\t.stream()\r\n\t\t\t\t\t.filter(annotation -&gt; annotation instanceof PDAnnotationLink)\r\n\t\t\t\t\t.map(annotation -&gt; (PDAnnotationLink) annotation)\r\n\t\t\t\t\t.map(PDAnnotationLink::getAction)\r\n\t\t\t\t\t.filter(action -&gt; action instanceof PDActionURI)\r\n\t\t\t\t\t.forEach(action -&gt; {\r\n\t\t\t\t\t\tSystem.out.println(((PDActionURI) action).getURI());\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t);\r\n\t\t\t}\r\n\t\t\tdocument.setAllSecurityToBeRemoved(true);\r\n\t\t\tdocument.save(path.toFile());\r\n\t\t}\r\n\t}\r\n\r\nI am unable to collect any link, I tried with TextStrip it works to retrieve link\r\n\r\n            PDDocument document = PDDocument.load(Path.of(path.toString()).toFile());\r\n\t\t\tPDFTextStripper textStripper = new PDFTextStripper();\r\n\t\t\ttextStripper.setLineSeparator(&quot;\\n&quot;);\r\n\r\n\t\t\tString textContent = textStripper.getText(document);\r\n\r\n\t\t\t// Use regular expression to find URLs in the text content, accounting for multi-line URLs\r\n\t\t\tString urlRegex = &quot;(?:http[s]?://|www\\\\.)[\\\\S\\\\n]+&quot;;\r\n\t\t\tPattern pattern = Pattern.compile(urlRegex);\r\n\t\t\tMatcher matcher = pattern.matcher(textContent);\r\n\r\n\t\t\twhile (matcher.find()) {\r\n\t\t\t\tString url = matcher.group().replaceAll(&quot;\\\\n&quot;, &quot;&quot;); // Remove line breaks from the matched URL\r\n\t\t\t\tSystem.out.println(url);\r\n\t\t\t\ttextContent.replaceAll(url,&quot;test.com&quot;);\r\n\t\t\t}\r\nBut not able to update that location. Some of the links pattern to detect because somewhere added &#39;\\n&#39; or space.\r\n\r\nMy pdf contains images as well, So I dont want to loose anything, So is there any way to detect and repalce the link which is not annoted.\r\n\r\nMaven Dependency\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    &lt;dependency&gt;\r\n       &lt;groupId&gt;org.apache.pdfbox&lt;/groupId&gt;\r\n       &lt;artifactId&gt;pdfbox&lt;/artifactId&gt;\r\n       &lt;version&gt;${pdfbox.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nFeel free to comment any input required from my side and ofcourse thank you !","title":"Unable to replace url from string content org.apache.pdfbox","body":"<p>I have one pdf file that have lot of links inside pdf, But those not annoted properly, And my organization going to release new website, So I want to collect all links from old domain and want to replace with new domain</p>\n<p>Tried this code to collect all links from pdf</p>\n<pre><code>public void parsePdf(final Path path) {\n    try (PDDocument document = PDDocument.load(Files.newInputStream(path))) {\n        for (PDPage pdPage : document.getPages()) {\n            pdPage.getAnnotations()\n                .stream()\n                .filter(annotation -&gt; annotation instanceof PDAnnotationLink)\n                .map(annotation -&gt; (PDAnnotationLink) annotation)\n                .map(PDAnnotationLink::getAction)\n                .filter(action -&gt; action instanceof PDActionURI)\n                .forEach(action -&gt; {\n                    System.out.println(((PDActionURI) action).getURI());\n                    }\n                );\n        }\n        document.setAllSecurityToBeRemoved(true);\n        document.save(path.toFile());\n    }\n}\n</code></pre>\n<p>I am unable to collect any link, I tried with TextStrip it works to retrieve link</p>\n<pre><code>        PDDocument document = PDDocument.load(Path.of(path.toString()).toFile());\n        PDFTextStripper textStripper = new PDFTextStripper();\n        textStripper.setLineSeparator(&quot;\\n&quot;);\n\n        String textContent = textStripper.getText(document);\n\n        // Use regular expression to find URLs in the text content, accounting for multi-line URLs\n        String urlRegex = &quot;(?:http[s]?://|www\\\\.)[\\\\S\\\\n]+&quot;;\n        Pattern pattern = Pattern.compile(urlRegex);\n        Matcher matcher = pattern.matcher(textContent);\n\n        while (matcher.find()) {\n            String url = matcher.group().replaceAll(&quot;\\\\n&quot;, &quot;&quot;); // Remove line breaks from the matched URL\n            System.out.println(url);\n            textContent.replaceAll(url,&quot;test.com&quot;);\n        }\n</code></pre>\n<p>But not able to update that location. Some of the links pattern to detect because somewhere added '\\n' or space.</p>\n<p>My pdf contains images as well, So I dont want to loose anything, So is there any way to detect and repalce the link which is not annoted.</p>\n<p>Maven Dependency</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>&lt;dependency&gt;\n   &lt;groupId&gt;org.apache.pdfbox&lt;/groupId&gt;\n   &lt;artifactId&gt;pdfbox&lt;/artifactId&gt;\n   &lt;version&gt;${pdfbox.version}&lt;/version&gt;\n&lt;/dependency&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>Feel free to comment any input required from my side and ofcourse thank you !</p>\n"},{"tags":["java","android","android-studio","bluetooth","bluetooth-lowenergy"],"comments":[{"owner":{"account_id":17575058,"reputation":2200,"user_id":12749998,"display_name":"Kozmotronik"},"score":0,"creation_date":1686810062,"post_id":76459289,"comment_id":134850887,"body_markdown":"Looks like you are confusing things. It is not the device object itself which is null but its name property. When you detect a device which has no name or an empty string just display it as *Unknown* or *Unnamed*.","body":"Looks like you are confusing things. It is not the device object itself which is null but its name property. When you detect a device which has no name or an empty string just display it as <i>Unknown</i> or <i>Unnamed</i>."},{"owner":{"account_id":21973697,"reputation":336,"user_id":16249829,"display_name":"TheBestPlayer"},"score":0,"creation_date":1686814549,"post_id":76459289,"comment_id":134851725,"body_markdown":"You are right. Thanks","body":"You are right. Thanks"}],"answers":[{"tags":[],"owner":{"account_id":11064381,"reputation":1063,"user_id":8124605,"display_name":"Risto"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1686639592,"creation_date":1686639592,"answer_id":76462368,"question_id":76459289,"body_markdown":"A Bluetooth LE device can transmit its name in the advertisement message, but it does not have to. If &quot;DEVICE NAME&quot; is null, use &quot;DEVICE MAC&quot; instead.","title":"BA.startDiscovery() returns &quot;null&quot; for some device names","body":"<p>A Bluetooth LE device can transmit its name in the advertisement message, but it does not have to. If &quot;DEVICE NAME&quot; is null, use &quot;DEVICE MAC&quot; instead.</p>\n"}],"owner":{"account_id":21973697,"reputation":336,"user_id":16249829,"display_name":"TheBestPlayer"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76462368,"answer_count":1,"score":0,"last_activity_date":1686639592,"creation_date":1686593718,"question_id":76459289,"body_markdown":"I am a beginner Android App programmer and I am working on BLE app to communicate with the microcontroller (ESP32).\r\n\r\nI have managed to get the APP going (enabling the BLE and Location permissions) and got to the point where I am able to scan nearby BLE devices.\r\n\r\nI have noticed that when I start discovering nearby BLE devices, some devices are detected as &quot;null&quot;\r\n\r\nThe debug logs when I click &quot;SCAN&quot; button:\r\n```\r\nE/SCAN&#160;BUTTON: Clicked \r\nE/CHECK: CHECKING LOCATION PERMISSION \r\nE/INFO: LOCATION PERMISSION ALREADY GRANTED: \r\nE/INFO: LOCATION PERMISSION IS OK, START BLE DISCOVERY \r\nI/BluetoothAdapter: startDiscovery\r\nE/CALLBACK: onReceive\r\nE/BroadcastReceiver: SCANNING IN PROGRESS\r\nE/CALLBACK: onReceive\r\nI/System.out: DEVICE NAME FOUND = DESKTOP-KPO80BS\r\nI/System.out: DEVICE MAC FOUND = 64:6E:69:78:B9:54\r\nE/CALLBACK: onReceive\r\nI/System.out: DEVICE NAME FOUND = null\r\nI/System.out: DEVICE MAC FOUND = 5E:52:CD:CD:EB:EA\r\nE/CALLBACK: onReceive\r\nI/System.out: DEVICE NAME FOUND = [LG] webOS TV UP75003LF\r\nI/System.out: DEVICE MAC FOUND = 4C:BC:E9:4E:62:17\r\nE/CALLBACK: onReceive\r\nI/System.out: DEVICE NAME FOUND = null\r\nI/System.out: DEVICE MAC FOUND = 7F:CA:0B:28:8E:86\r\nE/CALLBACK: onReceive\r\nI/System.out: DEVICE NAME FOUND = CGATES-DV8947\r\nI/System.out: DEVICE MAC FOUND = 10:76:36:B5:7C:A4\r\nE/CALLBACK: onReceive\r\nI/System.out: DEVICE NAME FOUND = [LG] webOS TV UP75003LF\r\nI/System.out: DEVICE MAC FOUND = 7C:5E:DC:65:EB:E9\r\nE/CALLBACK: onReceive\r\nI/System.out: DEVICE NAME FOUND = JBL Bar 5.1_5883\r\nI/System.out: DEVICE MAC FOUND = 7E:96:FC:6A:9F:A9\r\nE/CALLBACK: onReceive\r\nI/System.out: DEVICE NAME FOUND = null\r\nI/System.out: DEVICE MAC FOUND = 4E:AE:EC:2B:D9:52\r\nE/CALLBACK: onReceive\r\nE/BroadcastReceiver: DISCOVERY FINISHED \r\n```\r\n\r\nHow it looks on my phone (Simulating on my Physical Samsung Flip 2).\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/pQFWE.png\r\n\r\n\r\n\r\nMy build. gradle (Here you can see the target SDK and minSDK:\r\n```\r\nplugins {\r\n    id &#39;com.android.application&#39;\r\n}\r\n\r\nandroid {\r\n    namespace &#39;com.example.location_test_v2&#39;\r\n    compileSdk 33\r\n\r\n    defaultConfig {\r\n        applicationId &quot;com.example.location_test_v2&quot;\r\n        minSdk 25\r\n        targetSdk 33\r\n        versionCode 1\r\n        versionName &quot;1.0&quot;\r\n\r\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n    }\r\n\r\n    buildTypes {\r\n        release {\r\n            minifyEnabled false\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n        }\r\n    }\r\n    compileOptions {\r\n        sourceCompatibility JavaVersion.VERSION_1_8\r\n        targetCompatibility JavaVersion.VERSION_1_8\r\n    }\r\n}\r\n\r\ndependencies {\r\n\r\n    implementation &quot;androidx.fragment:fragment:1.5.6&quot;\r\n    implementation &quot;androidx.activity:activity:1.7.0&quot;\r\n    implementation &#39;androidx.appcompat:appcompat:1.6.1&#39;\r\n    implementation &#39;com.google.android.material:material:1.8.0&#39;\r\n    implementation &#39;androidx.constraintlayout:constraintlayout:2.1.4&#39;\r\n    testImplementation &#39;junit:junit:4.13.2&#39;\r\n    androidTestImplementation &#39;androidx.test.ext:junit:1.1.5&#39;\r\n    androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.5.1&#39;\r\n}\r\n\r\nconfigurations.implementation {\r\n    exclude group: &#39;org.jetbrains.kotlin&#39;, module: &#39;kotlin-stdlib-jdk8&#39;\r\n}\r\n``` \r\n\r\n\r\nThe callback function that is being executed when I call BA.startDiscovery() : \r\n```\r\n    private final BroadcastReceiver devicesFoundReceiver = new BroadcastReceiver() {\r\n        public void onReceive(Context context, Intent intent) {\r\n            Log.e(&quot;CALLBACK&quot;, &quot;onReceive&quot;);\r\n            String action = intent.getAction();\r\n            if (BluetoothDevice.ACTION_FOUND.equals(action)) {\r\n\r\n                BluetoothDevice device = intent.getParcelableExtra(BluetoothDevice.EXTRA_DEVICE);\r\n                String deviceName = device.getName();\r\n                String deviceHardwareAddress = device.getAddress(); // MAC address\r\n\r\n                //Log.e(&quot;BroadcastReceiver&quot;, &quot;DEVICE FOUND: &quot;,deviceName);\r\n                System.out.print(&quot;DEVICE NAME FOUND = &quot;);\r\n                System.out.println(deviceName);\r\n                System.out.print(&quot;DEVICE MAC FOUND = &quot;);\r\n                System.out.println(deviceHardwareAddress);\r\n                list.add(deviceName);\r\n                \r\n            }\r\n            else if(BA.ACTION_DISCOVERY_FINISHED.equals(action)){\r\n                Log.e(&quot;BroadcastReceiver&quot;, &quot;DISCOVERY FINISHED &quot;);\r\n                ArrayAdapter adapter = new ArrayAdapter(MainActivity.this, android.R.layout.simple_list_item_1,list);\r\n                listview.setAdapter(adapter);\r\n            }\r\n            else if(BA.ACTION_DISCOVERY_STARTED.equals(action)){\r\n                listview.setAdapter(null);\r\n                Log.e(&quot;BroadcastReceiver&quot;, &quot;SCANNING IN PROGRESS&quot;);\r\n            }\r\n        }\r\n    };\r\n```\r\n\r\n\r\n\r\n\r\nI have found some other people complaining about this but no clear solution has been provided:\r\nhttps://issuetracker.google.com/issues/240485116\r\n\r\nI hope to get some advice regarding how to handle this. Thanks in advance.","title":"BA.startDiscovery() returns &quot;null&quot; for some device names","body":"<p>I am a beginner Android App programmer and I am working on BLE app to communicate with the microcontroller (ESP32).</p>\n<p>I have managed to get the APP going (enabling the BLE and Location permissions) and got to the point where I am able to scan nearby BLE devices.</p>\n<p>I have noticed that when I start discovering nearby BLE devices, some devices are detected as &quot;null&quot;</p>\n<p>The debug logs when I click &quot;SCAN&quot; button:</p>\n<pre><code>E/SCANÂ BUTTON: Clicked \nE/CHECK: CHECKING LOCATION PERMISSION \nE/INFO: LOCATION PERMISSION ALREADY GRANTED: \nE/INFO: LOCATION PERMISSION IS OK, START BLE DISCOVERY \nI/BluetoothAdapter: startDiscovery\nE/CALLBACK: onReceive\nE/BroadcastReceiver: SCANNING IN PROGRESS\nE/CALLBACK: onReceive\nI/System.out: DEVICE NAME FOUND = DESKTOP-KPO80BS\nI/System.out: DEVICE MAC FOUND = 64:6E:69:78:B9:54\nE/CALLBACK: onReceive\nI/System.out: DEVICE NAME FOUND = null\nI/System.out: DEVICE MAC FOUND = 5E:52:CD:CD:EB:EA\nE/CALLBACK: onReceive\nI/System.out: DEVICE NAME FOUND = [LG] webOS TV UP75003LF\nI/System.out: DEVICE MAC FOUND = 4C:BC:E9:4E:62:17\nE/CALLBACK: onReceive\nI/System.out: DEVICE NAME FOUND = null\nI/System.out: DEVICE MAC FOUND = 7F:CA:0B:28:8E:86\nE/CALLBACK: onReceive\nI/System.out: DEVICE NAME FOUND = CGATES-DV8947\nI/System.out: DEVICE MAC FOUND = 10:76:36:B5:7C:A4\nE/CALLBACK: onReceive\nI/System.out: DEVICE NAME FOUND = [LG] webOS TV UP75003LF\nI/System.out: DEVICE MAC FOUND = 7C:5E:DC:65:EB:E9\nE/CALLBACK: onReceive\nI/System.out: DEVICE NAME FOUND = JBL Bar 5.1_5883\nI/System.out: DEVICE MAC FOUND = 7E:96:FC:6A:9F:A9\nE/CALLBACK: onReceive\nI/System.out: DEVICE NAME FOUND = null\nI/System.out: DEVICE MAC FOUND = 4E:AE:EC:2B:D9:52\nE/CALLBACK: onReceive\nE/BroadcastReceiver: DISCOVERY FINISHED \n</code></pre>\n<p>How it looks on my phone (Simulating on my Physical Samsung Flip 2).\n<a href=\"https://i.stack.imgur.com/pQFWE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pQFWE.png\" alt=\"enter image description here\" /></a></p>\n<p>My build. gradle (Here you can see the target SDK and minSDK:</p>\n<pre><code>plugins {\n    id 'com.android.application'\n}\n\nandroid {\n    namespace 'com.example.location_test_v2'\n    compileSdk 33\n\n    defaultConfig {\n        applicationId &quot;com.example.location_test_v2&quot;\n        minSdk 25\n        targetSdk 33\n        versionCode 1\n        versionName &quot;1.0&quot;\n\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n    }\n\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n}\n\ndependencies {\n\n    implementation &quot;androidx.fragment:fragment:1.5.6&quot;\n    implementation &quot;androidx.activity:activity:1.7.0&quot;\n    implementation 'androidx.appcompat:appcompat:1.6.1'\n    implementation 'com.google.android.material:material:1.8.0'\n    implementation 'androidx.constraintlayout:constraintlayout:2.1.4'\n    testImplementation 'junit:junit:4.13.2'\n    androidTestImplementation 'androidx.test.ext:junit:1.1.5'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.5.1'\n}\n\nconfigurations.implementation {\n    exclude group: 'org.jetbrains.kotlin', module: 'kotlin-stdlib-jdk8'\n}\n</code></pre>\n<p>The callback function that is being executed when I call BA.startDiscovery() :</p>\n<pre><code>    private final BroadcastReceiver devicesFoundReceiver = new BroadcastReceiver() {\n        public void onReceive(Context context, Intent intent) {\n            Log.e(&quot;CALLBACK&quot;, &quot;onReceive&quot;);\n            String action = intent.getAction();\n            if (BluetoothDevice.ACTION_FOUND.equals(action)) {\n\n                BluetoothDevice device = intent.getParcelableExtra(BluetoothDevice.EXTRA_DEVICE);\n                String deviceName = device.getName();\n                String deviceHardwareAddress = device.getAddress(); // MAC address\n\n                //Log.e(&quot;BroadcastReceiver&quot;, &quot;DEVICE FOUND: &quot;,deviceName);\n                System.out.print(&quot;DEVICE NAME FOUND = &quot;);\n                System.out.println(deviceName);\n                System.out.print(&quot;DEVICE MAC FOUND = &quot;);\n                System.out.println(deviceHardwareAddress);\n                list.add(deviceName);\n                \n            }\n            else if(BA.ACTION_DISCOVERY_FINISHED.equals(action)){\n                Log.e(&quot;BroadcastReceiver&quot;, &quot;DISCOVERY FINISHED &quot;);\n                ArrayAdapter adapter = new ArrayAdapter(MainActivity.this, android.R.layout.simple_list_item_1,list);\n                listview.setAdapter(adapter);\n            }\n            else if(BA.ACTION_DISCOVERY_STARTED.equals(action)){\n                listview.setAdapter(null);\n                Log.e(&quot;BroadcastReceiver&quot;, &quot;SCANNING IN PROGRESS&quot;);\n            }\n        }\n    };\n</code></pre>\n<p>I have found some other people complaining about this but no clear solution has been provided:\n<a href=\"https://issuetracker.google.com/issues/240485116\" rel=\"nofollow noreferrer\">https://issuetracker.google.com/issues/240485116</a></p>\n<p>I hope to get some advice regarding how to handle this. Thanks in advance.</p>\n"},{"tags":["java","database","oracle","jdbc","metadata"],"answers":[{"comments":[{"owner":{"account_id":297284,"reputation":1700,"user_id":602719,"accept_rate":100,"display_name":"lunicon"},"score":0,"creation_date":1322595141,"post_id":8312108,"comment_id":10249800,"body_markdown":"Found some wizdom for [mssql](http://www.mssqltips.com/sqlservertip/1638/using-sql-server-meta-data-to-list-tables-that-make-up-views/) [others](http://forums.whirlpool.net.au/archive/523219)","body":"Found some wizdom for <a href=\"http://www.mssqltips.com/sqlservertip/1638/using-sql-server-meta-data-to-list-tables-that-make-up-views/\" rel=\"nofollow noreferrer\">mssql</a> <a href=\"http://forums.whirlpool.net.au/archive/523219\" rel=\"nofollow noreferrer\">others</a>"},{"owner":{"account_id":1001733,"reputation":34918,"user_id":1016435,"display_name":"xQbert"},"score":0,"creation_date":1322612050,"post_id":8312108,"comment_id":10254492,"body_markdown":"I thought you were after Oracle solutions; thus stuck with oracle sys tables","body":"I thought you were after Oracle solutions; thus stuck with oracle sys tables"},{"owner":{"account_id":177686,"reputation":35366,"user_id":409172,"accept_rate":50,"display_name":"Jon Heller"},"score":1,"creation_date":1322626189,"post_id":8312108,"comment_id":10256671,"body_markdown":"If your views reference views then you&#39;ll need a hierarchical query on ALL_DEPENDENCIES to get all the tables.","body":"If your views reference views then you&#39;ll need a hierarchical query on ALL_DEPENDENCIES to get all the tables."},{"owner":{"account_id":1001733,"reputation":34918,"user_id":1016435,"display_name":"xQbert"},"score":0,"creation_date":1322658233,"post_id":8312108,"comment_id":10263870,"body_markdown":"Ah yes I forgot that aspect.  You could go further and say if the view references functions, procedures you would need to use a hierarchical query as well.","body":"Ah yes I forgot that aspect.  You could go further and say if the view references functions, procedures you would need to use a hierarchical query as well."}],"tags":[],"owner":{"account_id":1001733,"reputation":34918,"user_id":1016435,"display_name":"xQbert"},"comment_count":4,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1322575717,"creation_date":1322575717,"answer_id":8312108,"question_id":8311898,"body_markdown":"Oracle:\r\n\r\n    Select * from dictionary \r\n\r\nReturns many system tables/functions you have access to which contain valuable structure information.\r\n\r\nin that list you will see\r\n\r\n`Select * from ALL_Views` (which contains the source SQL for the view) which could be parsed for table names.\r\n\r\nThough I think there&#39;s an all_Dependencies or all_References view that will contain required references to tables in seperate fields which would be easier to parse I&#39;m looking for that now...\r\n\r\n`Select * from All_dependencies WHERE Name = &#39;YOUR_VIEWNAME&#39; and Referenced_Type=&#39;TABLE&#39;` will return all referenced tables.\r\n\r\nThough I&#39;m not sure how those features work with Linked tables. so if you&#39;re referencing external tables though a linked server... those features may not work.","title":"How to get VIEW references (base tables) through JDBC?","body":"<p>Oracle:</p>\n\n<pre><code>Select * from dictionary \n</code></pre>\n\n<p>Returns many system tables/functions you have access to which contain valuable structure information.</p>\n\n<p>in that list you will see</p>\n\n<p><code>Select * from ALL_Views</code> (which contains the source SQL for the view) which could be parsed for table names.</p>\n\n<p>Though I think there's an all_Dependencies or all_References view that will contain required references to tables in seperate fields which would be easier to parse I'm looking for that now...</p>\n\n<p><code>Select * from All_dependencies WHERE Name = 'YOUR_VIEWNAME' and Referenced_Type='TABLE'</code> will return all referenced tables.</p>\n\n<p>Though I'm not sure how those features work with Linked tables. so if you're referencing external tables though a linked server... those features may not work.</p>\n"},{"tags":[],"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1686639424,"creation_date":1322577138,"answer_id":8312491,"question_id":8311898,"body_markdown":"As far as I know there is no JDBC specific way to retrieve this information: you will need to dive into your database specific system tables and see if that information is available.\r\n\r\nThe rest of this answer describes how to retrieves view and does not answer the question:\r\n\r\n[DatabaseMetaData#getTables()][1] with type &quot;VIEW&quot;\r\n\r\nFor example\r\n\r\n    dmd.getTables(catalog, schema, &quot;%&quot;, new String[] {&quot;VIEW&quot;});\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/api/java/sql/DatabaseMetaData.html#getTables%28java.lang.String,%20java.lang.String,%20java.lang.String,%20java.lang.String%5B%5D%29","title":"How to get VIEW references (base tables) through JDBC?","body":"<p>As far as I know there is no JDBC specific way to retrieve this information: you will need to dive into your database specific system tables and see if that information is available.</p>\n<p>The rest of this answer describes how to retrieves view and does not answer the question:</p>\n<p><a href=\"http://docs.oracle.com/javase/6/docs/api/java/sql/DatabaseMetaData.html#getTables%28java.lang.String,%20java.lang.String,%20java.lang.String,%20java.lang.String%5B%5D%29\" rel=\"nofollow noreferrer\">DatabaseMetaData#getTables()</a> with type &quot;VIEW&quot;</p>\n<p>For example</p>\n<pre><code>dmd.getTables(catalog, schema, &quot;%&quot;, new String[] {&quot;VIEW&quot;});\n</code></pre>\n"}],"owner":{"account_id":297284,"reputation":1700,"user_id":602719,"accept_rate":100,"display_name":"lunicon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6429,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":8312108,"answer_count":2,"score":3,"last_activity_date":1686639424,"creation_date":1322574807,"question_id":8311898,"body_markdown":"When I create VIEW, database engine pases my query and store it some how. Can I then find out what tables are used by one view? I understand that different databases may be differently. May have some sort of level of abstraction throw JDBC.\r\n\r\nSomething tells me that this is done through getTables(?):\r\n\r\n    Connection con = DriverManager.getConnection(DBURL, DBUSER, DBPASS);\t\t\r\n    DatabaseMetaData md = con.getMetaData();\r\n    md.getTables(null, null, null, null);\r\n\r\nIf it can not be. Are there solution in particular for Oracle database (like view/referenses in plsql developer)?","title":"How to get VIEW references (base tables) through JDBC?","body":"<p>When I create VIEW, database engine pases my query and store it some how. Can I then find out what tables are used by one view? I understand that different databases may be differently. May have some sort of level of abstraction throw JDBC.</p>\n\n<p>Something tells me that this is done through getTables(?):</p>\n\n<pre><code>Connection con = DriverManager.getConnection(DBURL, DBUSER, DBPASS);        \nDatabaseMetaData md = con.getMetaData();\nmd.getTables(null, null, null, null);\n</code></pre>\n\n<p>If it can not be. Are there solution in particular for Oracle database (like view/referenses in plsql developer)?</p>\n"},{"tags":["java","android","twilio","sms","api-gateway"],"answers":[{"tags":[],"owner":{"account_id":4723783,"reputation":2524,"user_id":3821022,"display_name":"IObert"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1686639335,"creation_date":1686639335,"answer_id":76462341,"question_id":76460237,"body_markdown":"No, this is not possible. If you wish to use the number that was previous &quot;on&quot; your SIM card, you can request to [port this number to Twilio](https://support.twilio.com/hc/en-us/articles/223179348-Porting-a-Phone-Number-to-Twilio).\r\n\r\nWhile it&#39;s possible to make calls from [verified numbers](https://support.twilio.com/hc/en-us/articles/223135427-What-s-the-Difference-Between-a-Verified-Phone-Number-and-a-Twilio-Phone-Number-#:~:text=Capabilities%3A%20Verified%20phone%20numbers%20can,route%20through%20your%20original%20provider.), it&#39;s not possible to send SMS from these sender IDs.","title":"Use Twilio as a SMS gateway to SIM on a phone?","body":"<p>No, this is not possible. If you wish to use the number that was previous &quot;on&quot; your SIM card, you can request to <a href=\"https://support.twilio.com/hc/en-us/articles/223179348-Porting-a-Phone-Number-to-Twilio\" rel=\"nofollow noreferrer\">port this number to Twilio</a>.</p>\n<p>While it's possible to make calls from <a href=\"https://support.twilio.com/hc/en-us/articles/223135427-What-s-the-Difference-Between-a-Verified-Phone-Number-and-a-Twilio-Phone-Number-#:%7E:text=Capabilities%3A%20Verified%20phone%20numbers%20can,route%20through%20your%20original%20provider.\" rel=\"nofollow noreferrer\">verified numbers</a>, it's not possible to send SMS from these sender IDs.</p>\n"}],"owner":{"account_id":28775096,"reputation":5,"user_id":22063140,"display_name":"Nicholas Saunders"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76462341,"answer_count":1,"score":0,"last_activity_date":1686639335,"creation_date":1686602977,"question_id":76460237,"body_markdown":"In the [broader context](https://stackoverflow.com/q/2570410/22063140) of sending SMS with Java, can Twilio be used to send messages from the same phone number as is on the SIM chip on a physical phone?\r\n\r\nSomething along the lines of https://sms.ilpostino.com.ar/ in SMS functionality, where there&#39;s a corresponding app so that the phone itself is used as a gateway.\r\n\r\n\r\n\r\n\r\nTwilio seems to be [strictly ](https://stackoverflow.com/q/26011313/22063140)an API.","title":"Use Twilio as a SMS gateway to SIM on a phone?","body":"<p>In the <a href=\"https://stackoverflow.com/q/2570410/22063140\">broader context</a> of sending SMS with Java, can Twilio be used to send messages from the same phone number as is on the SIM chip on a physical phone?</p>\n<p>Something along the lines of <a href=\"https://sms.ilpostino.com.ar/\" rel=\"nofollow noreferrer\">https://sms.ilpostino.com.ar/</a> in SMS functionality, where there's a corresponding app so that the phone itself is used as a gateway.</p>\n<p>Twilio seems to be <a href=\"https://stackoverflow.com/q/26011313/22063140\">strictly </a>an API.</p>\n"},{"tags":["java","mysql","swing","jdbc","mssql-jdbc"],"comments":[{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1686639464,"post_id":76462222,"comment_id":134822636,"body_markdown":"Make sure the mysql driver jar file is available to in your &quot;referenced libraries&quot; - [for example](https://stackoverflow.com/questions/50232557/visual-studio-code-java-extension-how-to-add-a-jar-to-classpath)","body":"Make sure the mysql driver jar file is available to in your &quot;referenced libraries&quot; - <a href=\"https://stackoverflow.com/questions/50232557/visual-studio-code-java-extension-how-to-add-a-jar-to-classpath\">for example</a>"},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1686639717,"post_id":76462222,"comment_id":134822672,"body_markdown":"If you&#39;re using [tag:mysql], why did you also tag [tag:mssql-jdbc] which is for the JDBC driver of Microsoft SQL Server, an entirely different DBMS?","body":"If you&#39;re using <a href=\"https://stackoverflow.com/questions/tagged/mysql\">mysql</a>, why did you also tag <a href=\"https://stackoverflow.com/questions/tagged/mssql-jdbc\">mssql-jdbc</a> which is for the JDBC driver of Microsoft SQL Server, an entirely different DBMS?"},{"owner":{"account_id":5075297,"reputation":1212,"user_id":4072831,"accept_rate":62,"display_name":"Sandeep"},"score":0,"creation_date":1686639719,"post_id":76462222,"comment_id":134822673,"body_markdown":"Are you sure you are using correct tables? you query is `insert into student` and table in screenshot which you included is named studentDetails","body":"Are you sure you are using correct tables? you query is <code>insert into student</code> and table in screenshot which you included is named studentDetails"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1686640057,"post_id":76462222,"comment_id":134822735,"body_markdown":"Wait, what? Title: &quot;*despite no errors*&quot; but in very first sentence: &quot;*`java.lang.ClassNotFoundException` error with the message `com.mysql.cj.jdbc.Driver` when attempting to run*&quot;, on next sentence &quot;*runs without any errors*&quot;, later on &quot;***Error and excception while I run the code***&quot; with stack trace ??!!","body":"Wait, what? Title: &quot;<i>despite no errors</i>&quot; but in very first sentence: &quot;<i><code>java.lang.ClassNotFoundException</code> error with the message <code>com.mysql.cj.jdbc.Driver</code> when attempting to run</i>&quot;, on next sentence &quot;<i>runs without any errors</i>&quot;, later on &quot;<b><i>Error and excception while I run the code</i></b>&quot; with stack trace ??!!"},{"owner":{"account_id":20922168,"reputation":1,"user_id":15370507,"display_name":"Nil65"},"score":0,"creation_date":1686640682,"post_id":76462222,"comment_id":134822873,"body_markdown":"I&#39;m glad to inform you that I have resolved the issue I was facing with my Java code for data insertion into a MySQL database. It turns out that the problem was due to a mistake in specifying the table name.","body":"I&#39;m glad to inform you that I have resolved the issue I was facing with my Java code for data insertion into a MySQL database. It turns out that the problem was due to a mistake in specifying the table name."},{"owner":{"account_id":20922168,"reputation":1,"user_id":15370507,"display_name":"Nil65"},"score":0,"creation_date":1686640888,"post_id":76462222,"comment_id":134822914,"body_markdown":"I&#39;m still experiencing the java.lang.ClassNotFoundException error with the message &quot;com.mysql.cj.jdbc.Driver&quot; when running my Java code using the VS Code Code Runner extension. Despite resolving the issue related to the incorrect table name, the driver class error persists. \n\nThe code compiles and runs without any issues when executed through the regular &quot;Run Java&quot; command.\nHowever, when I try to run the code using the Code Runner extension, I encounter the ClassNotFoundException for the com.mysql.cj.jdbc.Driver class.","body":"I&#39;m still experiencing the java.lang.ClassNotFoundException error with the message &quot;com.mysql.cj.jdbc.Driver&quot; when running my Java code using the VS Code Code Runner extension. Despite resolving the issue related to the incorrect table name, the driver class error persists.   The code compiles and runs without any issues when executed through the regular &quot;Run Java&quot; command. However, when I try to run the code using the Code Runner extension, I encounter the ClassNotFoundException for the com.mysql.cj.jdbc.Driver class."},{"owner":{"account_id":18991005,"reputation":1312,"user_id":13860286,"display_name":"Shila Mosammami"},"score":0,"creation_date":1686641710,"post_id":76462222,"comment_id":134823070,"body_markdown":"Are you using the correct classpath?","body":"Are you using the correct classpath?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1686646489,"post_id":76462222,"comment_id":134824030,"body_markdown":"You [don&#39;t need](https://www.baeldung.com/java-jdbc-loading-drivers) `Class.forName` unless you have a dated version of your driver. Strangely (I think) that&#39;s not the right class name anyway. Also [avoid null layouts](https://technojeeves.com/index.php/aliasjava1/114-avoid-null-layouts-in-swing)","body":"You <a href=\"https://www.baeldung.com/java-jdbc-loading-drivers\" rel=\"nofollow noreferrer\">don&#39;t need</a> <code>Class.forName</code> unless you have a dated version of your driver. Strangely (I think) that&#39;s not the right class name anyway. Also <a href=\"https://technojeeves.com/index.php/aliasjava1/114-avoid-null-layouts-in-swing\" rel=\"nofollow noreferrer\">avoid null layouts</a>"},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1686647245,"post_id":76462222,"comment_id":134824209,"body_markdown":"@g00se Since MySQL Connector/J 8, `com.mysql.cj.jdbc.Driver` is the correct class name (it still supports loading `com.mysql.jdbc.Driver` for backwards compatibility).","body":"@g00se Since MySQL Connector/J 8, <code>com.mysql.cj.jdbc.Driver</code> is the correct class name (it still supports loading <code>com.mysql.jdbc.Driver</code> for backwards compatibility)."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1686647734,"post_id":76462222,"comment_id":134824314,"body_markdown":"My memory could be playing tricks here, but I seem to remember having had errors trying to load that class (unnecessarily like the OP) despite it being present and I *had* to load `com.mysql.jdbc.Driver`","body":"My memory could be playing tricks here, but I seem to remember having had errors trying to load that class (unnecessarily like the OP) despite it being present and I <i>had</i> to load <code>com.mysql.jdbc.Driver</code>"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1686648301,"post_id":76462222,"comment_id":134824446,"body_markdown":"Update: with connector-j 8.0.29 ... *Loading class `com.mysql.jdbc.Driver&#39;. This is deprecated. The new driver class is `com.mysql.cj.jdbc.Driver&#39;. The driver is automatically registered via the SPI and manual loading of the driver class is generally unnecessary.* So it does work. Curiously, loading `com.mysql.cj.jdbc.Driver` produces no message telling you it&#39;s unnecessary ;)","body":"Update: with connector-j 8.0.29 ... <i>Loading class <code>com.mysql.jdbc.Driver&#39;. This is deprecated. The new driver class is </code>com.mysql.cj.jdbc.Driver&#39;. The driver is automatically registered via the SPI and manual loading of the driver class is generally unnecessary.</i> So it does work. Curiously, loading <code>com.mysql.cj.jdbc.Driver</code> produces no message telling you it&#39;s unnecessary ;)"},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1686656251,"post_id":76462222,"comment_id":134826115,"body_markdown":"@g00se The warning means that loading or using `com.mysql.jdbc.Driver` is deprecated (it is a subclass of `com.mysql.cj.jdbc.Driver` and the parent doesn&#39;t produce that warning); in addition it explains that manual loading is usually not necessary, because most code using `Class.forName(&quot;com.mysql.jdbc.Driver&quot;)` is likely cargo-culting it, so telling them they don&#39;t need to is a good thing. However, the SPI loader (ServiceLoader) **also** uses `Class.forName`, so writing a warning then is a bad idea and could lead to confusion.","body":"@g00se The warning means that loading or using <code>com.mysql.jdbc.Driver</code> is deprecated (it is a subclass of <code>com.mysql.cj.jdbc.Driver</code> and the parent doesn&#39;t produce that warning); in addition it explains that manual loading is usually not necessary, because most code using <code>Class.forName(&quot;com.mysql.jdbc.Driver&quot;)</code> is likely cargo-culting it, so telling them they don&#39;t need to is a good thing. However, the SPI loader (ServiceLoader) <b>also</b> uses <code>Class.forName</code>, so writing a warning then is a bad idea and could lead to confusion."},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1686656314,"post_id":76462222,"comment_id":134826133,"body_markdown":"The service definition file for MySQL Connector/J 8 references com.mysql.cj.jdbc.Driver, which is why that class doesn&#39;t trigger the warning.","body":"The service definition file for MySQL Connector/J 8 references com.mysql.cj.jdbc.Driver, which is why that class doesn&#39;t trigger the warning."}],"answers":[{"tags":[],"owner":{"account_id":16588824,"reputation":1,"user_id":11987473,"display_name":"xiaoalex"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686639162,"creation_date":1686639162,"answer_id":76462319,"question_id":76462222,"body_markdown":"make sure you have add the mysql Driver jar. Since you use reflection to load class Driver, it won&#39;t prompt errors when compiling.Only when the code is running to the process of loading class Driver, errors merge.","title":"Java code not inserting data into MySQL database despite no errors","body":"<p>make sure you have add the mysql Driver jar. Since you use reflection to load class Driver, it won't prompt errors when compiling.Only when the code is running to the process of loading class Driver, errors merge.</p>\n"}],"owner":{"account_id":20922168,"reputation":1,"user_id":15370507,"display_name":"Nil65"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":184,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1686639162,"creation_date":1686638182,"question_id":76462222,"body_markdown":"I am facing a `java.lang.ClassNotFoundException` error with the message `com.mysql.cj.jdbc.Driver` when attempting to run my Java code for data insertion into a MySQL database. Surprisingly, the code compiles and runs without any errors, but the data is not being inserted into the database. Here&#39;s an overview of the issue:\r\n\r\n- I&#39;m using Java and JDBC to connect to a MySQL database and insert data into a table.\r\n- I have made sure to include the MySQL JDBC driver JAR file in my project&#39;s classpath.\r\n- When I run the code, I encounter the mentioned ClassNotFoundException error for the `com.mysql.cj.jdbc.Driver` class.\r\n- However, if I only compile the code without running it, there are no errors.\r\n- Despite the successful compilation, the data is not getting inserted into the database.\r\n\r\n## **Here&#39;s a snippet of the code where I connect the JDBC:**\r\n\r\n```\r\nimport java.sql.*;\r\npublic class Conn {\r\n    /*\r\n     * JDBC Connection has 4 Stages\r\n     *  (1)-Register the Driver Class\r\n     *  (2)-Creating Connection String\r\n     *  (3)-Creating Statement\r\n     *  (4)-Executing MySQL Queries\r\n     *  (5)-Closing the Connection\r\n     */\r\n\r\n    Connection c; //reference variable\r\n    Statement s; //\r\n    Conn(){\r\n\r\n        try{\r\n            // (1)-Register the Driver Class\r\n            Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\r\n            //Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;).newInstance();\r\n            System.out.println(&quot;Driver Loaded&quot;);\r\n            // (2)-Creating Connection String\r\n            /*\r\n             * Connection String provides the information in which database you have connect\r\n             */\r\n            c= DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306/universitymanagementsystem&quot;,&quot;root&quot;, &quot;123456789&quot;);\r\n            System.out.println(&quot;Connection Established&quot;);\r\n            // (3)\r\n            s= c.createStatement();\r\n\r\n        }catch(Exception e){\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n    /*public static java.beans.Statement createStatement() {\r\n        return null;\r\n    }*/\r\n}\r\n\r\n```\r\n## **Here is the snippet of the code of AddStudent.java file**\r\n\r\n```\r\nimport javax.swing.*;\r\nimport java.awt.*;\r\nimport java.util.*;\r\nimport java.awt.event.*;\r\nimport java.sql.*;\r\n//import com.toedter.calendar.JDateChooser;\r\n\r\npublic class AddStudent extends JFrame implements ActionListener {\r\n    JTextField tfname, tffname, tffaddress, tfphone, tfemail, tfX, tfXII, tfAdhar, tfdob;\r\n    JLabel labelrollno;\r\n    JComboBox&lt;String&gt; cbCourse, cbBranch;\r\n    JButton btnSubmit, btnCancel;\r\n    // JDateChooser dobChooser;\r\n    /*\r\n     * create a object for random class\r\n     * which create some random number for roll number\r\n     */\r\n\r\n    Random ran = new Random();\r\n    long first4 = Math.abs((ran.nextLong() % 9000L) + 1000L);\r\n\r\n    AddStudent() {\r\n\r\n        // for layout\r\n        setSize(900, 700);\r\n        setLocation(350, 50);\r\n        setLayout(null); // cause we want our own layout\r\n\r\n        // for heading\r\n        JLabel heading = new JLabel(&quot;New student Details&quot;);\r\n        heading.setBounds(310, 30, 500, 50);\r\n        heading.setFont(new Font(&quot;serif&quot;, Font.BOLD, 30));\r\n        add(heading);\r\n\r\n        // name label\r\n        JLabel labelName = new JLabel(&quot;Name&quot;);\r\n        labelName.setBounds(50, 150, 100, 30);\r\n        labelName.setFont(new Font(&quot;serif&quot;, Font.BOLD, 20));\r\n        add(labelName);\r\n        // name input box\r\n        tfname = new JTextField();\r\n        tfname.setBounds(200, 150, 150, 30);\r\n        add(tfname);\r\n\r\n        // father name label\r\n        JLabel labelFName = new JLabel(&quot;Fathers Name&quot;);\r\n        labelFName.setBounds(400, 150, 200, 30);\r\n        labelFName.setFont(new Font(&quot;serif&quot;, Font.BOLD, 20));\r\n        add(labelFName);\r\n        // father name input box\r\n        tffname = new JTextField();\r\n        tffname.setBounds(600, 150, 150, 30);\r\n        add(tffname);\r\n\r\n        // roll name label\r\n        JLabel lblRollNo = new JLabel(&quot;Roll Number&quot;);\r\n        lblRollNo.setBounds(50, 200, 200, 30);\r\n        lblRollNo.setFont(new Font(&quot;serif&quot;, Font.BOLD, 20));\r\n        add(lblRollNo);\r\n        setVisible(true);\r\n\r\n        // roll nameinput box\r\n        labelrollno = new JLabel(&quot;1533&quot; + first4);\r\n        labelrollno.setBounds(200, 200, 200, 30);\r\n        labelrollno.setFont(new Font(&quot;serif&quot;, Font.BOLD, 20));\r\n        add(labelrollno);\r\n        setVisible(true);\r\n\r\n        // date of birth\r\n        JLabel lblDob = new JLabel(&quot;Date of Birth&quot;);\r\n        lblDob.setBounds(400, 200, 200, 30);\r\n        lblDob.setFont(new Font(&quot;serif&quot;, Font.BOLD, 20));\r\n        add(lblDob);\r\n\r\n        // date of birth input box\r\n        tfdob = new JTextField();\r\n        tfdob.setBounds(600, 200, 150, 30);\r\n        add(tfdob);\r\n\r\n        // date of birth input box\r\n        /*\r\n         * dobChooser = new JDateChooser();\r\n         * dobChooser.setBounds(600, 200, 150, 30);\r\n         * add(dobChooser);\r\n         */\r\n\r\n        // address label\r\n        JLabel labeladdress = new JLabel(&quot;Address Name&quot;);\r\n        labeladdress.setBounds(50, 250, 200, 30);\r\n        labeladdress.setFont(new Font(&quot;serif&quot;, Font.BOLD, 20));\r\n        add(labeladdress);\r\n        // address name input box\r\n        tffaddress = new JTextField();\r\n        tffaddress.setBounds(200, 250, 150, 30);\r\n        add(tffaddress);\r\n\r\n        // phone number label\r\n        JLabel labelPhone = new JLabel(&quot;Phone Number&quot;);\r\n        labelPhone.setBounds(400, 250, 200, 30);\r\n        labelPhone.setFont(new Font(&quot;serif&quot;, Font.BOLD, 20));\r\n        add(labelPhone);\r\n        // phone number input box\r\n        tfphone = new JTextField();\r\n        tfphone.setBounds(600, 250, 150, 30);\r\n        add(tfphone);\r\n\r\n        // Email Id\r\n        JLabel labelemail = new JLabel(&quot;Email Id&quot;);\r\n        labelemail.setBounds(50, 300, 200, 30);\r\n        labelemail.setFont(new Font(&quot;serif&quot;, Font.BOLD, 20));\r\n        add(labelemail);\r\n        // Email Id input box\r\n        tfemail = new JTextField();\r\n        tfemail.setBounds(200, 300, 150, 30);\r\n        add(tfemail);\r\n\r\n        // Class X label\r\n        JLabel labelX = new JLabel(&quot;Class X(%)&quot;);\r\n        labelX.setBounds(400, 300, 200, 30);\r\n        labelX.setFont(new Font(&quot;serif&quot;, Font.BOLD, 20));\r\n        add(labelX);\r\n        // Class X input box\r\n        tfX = new JTextField();\r\n        tfX.setBounds(600, 300, 150, 30);\r\n        add(tfX);\r\n\r\n        // Class XII label\r\n        JLabel labelXII = new JLabel(&quot;Class XII(%)&quot;);\r\n        labelXII.setBounds(50, 350, 200, 30);\r\n        labelXII.setFont(new Font(&quot;serif&quot;, Font.BOLD, 20));\r\n        add(labelXII);\r\n        // Class XII input box\r\n        tfXII = new JTextField();\r\n        tfXII.setBounds(200, 350, 150, 30);\r\n        add(tfXII);\r\n\r\n        // Adhar Number label\r\n        JLabel labelAdhar = new JLabel(&quot;Adhar Number&quot;);\r\n        labelAdhar.setBounds(400, 350, 200, 30);\r\n        labelAdhar.setFont(new Font(&quot;serif&quot;, Font.BOLD, 20));\r\n        add(labelAdhar);\r\n        // Adhar Number input box\r\n        tfAdhar = new JTextField();\r\n        tfAdhar.setBounds(600, 350, 150, 30);\r\n        add(tfAdhar);\r\n\r\n        // dropdown for course\r\n        /*\r\n         * JLabel labelCourse = new JLabel(&quot;Course&quot;);\r\n         * labelCourse.setBounds(50, 400, 200, 30);\r\n         * labelCourse.setFont(new Font(&quot;serif&quot;, Font.BOLD, 20));\r\n         * add(labelCourse);\r\n         * String course[] = { &quot;B.Tech&quot;, &quot;M.Tech&quot;, &quot;BBA&quot;, &quot;MBA&quot;, &quot;BCA&quot;, &quot;MCA&quot; };\r\n         * cbCourse = new JComboBox(course);\r\n         * cbCourse.setBounds(200, 400, 150, 30);\r\n         * cbCourse.setBackground(Color.WHITE);\r\n         * add(cbCourse);\r\n         */\r\n\r\n        // dropdown for course\r\n        JLabel labelCourse = new JLabel(&quot;Course&quot;);\r\n        labelCourse.setBounds(50, 400, 200, 30);\r\n        labelCourse.setFont(new Font(&quot;serif&quot;, Font.BOLD, 20));\r\n        add(labelCourse);\r\n\r\n        String course[] = { &quot;B.Tech&quot;, &quot;M.Tech&quot;, &quot;BBA&quot;, &quot;MBA&quot;, &quot;BCA&quot;, &quot;MCA&quot; };\r\n        cbCourse = new JComboBox&lt;&gt;(course);\r\n        cbCourse.setBounds(200, 400, 150, 30);\r\n        cbCourse.setBackground(Color.WHITE);\r\n        add(cbCourse);\r\n\r\n        // dropdown for branch\r\n        JLabel labelBranch = new JLabel(&quot;Branch&quot;);\r\n        labelBranch.setBounds(400, 400, 200, 30);\r\n        labelBranch.setFont(new Font(&quot;serif&quot;, Font.BOLD, 20));\r\n        add(labelBranch);\r\n\r\n        String[] branch = { &quot;CSE&quot;, &quot;ECE&quot;, &quot;EEE&quot;, &quot;ME&quot;, &quot;CE&quot;, &quot;IT&quot;, &quot;Not Applicable&quot; };\r\n        cbBranch = new JComboBox&lt;&gt;(branch);\r\n        cbBranch.setBounds(600, 400, 150, 30);\r\n        cbBranch.setBackground(Color.WHITE);\r\n        add(cbBranch);\r\n\r\n        // submit button\r\n        btnSubmit = new JButton(&quot;Submit&quot;);\r\n        btnSubmit.setBounds(200, 450, 150, 30);\r\n        btnSubmit.setBackground(Color.BLACK);\r\n        btnSubmit.setForeground(Color.WHITE);\r\n        btnSubmit.addActionListener(this);\r\n        add(btnSubmit);\r\n\r\n        // cancel button\r\n        btnCancel = new JButton(&quot;Cancel&quot;);\r\n        btnCancel.setBounds(400, 450, 150, 30);\r\n        btnCancel.setBackground(Color.BLACK);\r\n        btnCancel.setForeground(Color.WHITE);\r\n        btnCancel.addActionListener(this);\r\n        add(btnCancel);\r\n\r\n        setVisible(true);\r\n\r\n    }\r\n\r\n    public void actionPerformed(ActionEvent ae) {\r\n        if (ae.getSource() == btnSubmit) {\r\n            // taking all the values\r\n            String fname = tfname.getText();\r\n            String ffname = tffname.getText();\r\n            String rollno = labelrollno.getText();\r\n            String dob = tfdob.getText();\r\n            String address = tffaddress.getText();\r\n            String phone = tfphone.getText();\r\n            String email = tfemail.getText();\r\n            String class_x = tfX.getText();\r\n            String class_xii = tfXII.getText();\r\n            String adhar = tfAdhar.getText();\r\n            String course = (String) cbCourse.getSelectedItem();\r\n            String branch = (String) cbBranch.getSelectedItem();\r\n\r\n            // inserting into database\r\n\r\n            try {\r\n                String query = &quot;insert into student values(&#39;&quot;+fname+&quot;&#39;, &#39;&quot;+ffname+&quot;&#39;, &#39;&quot;+rollno+&quot;&#39;, &#39;&quot;+dob+&quot;&#39;, &#39;&quot;+address+&quot;&#39;, &#39;&quot;+phone+&quot;&#39;, &#39;&quot;+email+&quot;&#39;, &#39;&quot;+class_x+&quot;&#39;, &#39;&quot;+class_xii+&quot;&#39;, &#39;&quot;+adhar+&quot;&#39;, &#39;&quot;+course+&quot;&#39;, &#39;&quot;+branch+&quot;&#39;)&quot;;\r\n\r\n                Conn con = new Conn();\r\n                con.s.executeUpdate(query);\r\n                \r\n                JOptionPane.showMessageDialog(null, &quot;Student Details Inserted Successfully&quot;);\r\n                setVisible(false);\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n\r\n    \r\n        } else {\r\n            setVisible(false);\r\n\r\n        }\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        new AddStudent();\r\n    }\r\n}\r\n\r\n```\r\n\r\nHere is the proof that I already include the mysql-Connector jar file \r\n[![enter image description here][1]][1]\r\n\r\n## **Error and excception while I run the code**\r\n\r\n```\r\njava.lang.ClassNotFoundException: com.mysql.cj.jdbc.Driver\r\n        at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)     \r\n        at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)  \r\n        at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\r\n        at java.base/java.lang.Class.forName0(Native Method)\r\n        at java.base/java.lang.Class.forName(Class.java:375)\r\n        at Conn.&lt;init&gt;(Conn.java:19)\r\n        at AddStudent.actionPerformed(AddStudent.java:225)\r\n        at java.desktop/javax.swing.AbstractButton.fireActionPerformed(AbstractButton.java:1972)       \r\n        at java.desktop/javax.swing.AbstractButton$Handler.actionPerformed(AbstractButton.java:2313)   \r\n        at java.desktop/javax.swing.DefaultButtonModel.fireActionPerformed(DefaultButtonModel.java:405)\r\n        at java.desktop/javax.swing.DefaultButtonModel.setPressed(DefaultButtonModel.java:262)\r\n        at java.desktop/javax.swing.plaf.basic.BasicButtonListener.mouseReleased(BasicButtonListener.java:279)\r\n        at java.desktop/java.awt.Component.processMouseEvent(Component.java:6626)\r\n        at java.desktop/javax.swing.JComponent.processMouseEvent(JComponent.java:3389)\r\n        at java.desktop/java.awt.Component.processEvent(Component.java:6391)\r\n        at java.desktop/java.awt.Container.processEvent(Container.java:2266)\r\n        at java.desktop/java.awt.Component.dispatchEventImpl(Component.java:5001)\r\n        at java.desktop/java.awt.Container.dispatchEventImpl(Container.java:2324)\r\n        at java.desktop/java.awt.Component.dispatchEvent(Component.java:4833)\r\n        at java.desktop/java.awt.LightweightDispatcher.retargetMouseEvent(Container.java:4948)\r\n        at java.desktop/java.awt.LightweightDispatcher.processMouseEvent(Container.java:4575)\r\n        at java.desktop/java.awt.LightweightDispatcher.dispatchEvent(Container.java:4516)\r\n        at java.desktop/java.awt.Container.dispatchEventImpl(Container.java:2310)\r\n        at java.desktop/java.awt.Window.dispatchEventImpl(Window.java:2780)\r\n        at java.desktop/java.awt.Component.dispatchEvent(Component.java:4833)\r\n        at java.desktop/java.awt.EventQueue.dispatchEventImpl(EventQueue.java:773)\r\n        at java.desktop/java.awt.EventQueue$4.run(EventQueue.java:722)\r\n        at java.desktop/java.awt.EventQueue$4.run(EventQueue.java:716)\r\n        at java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\r\n        at java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:86)\r\n        at java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:97)\r\n        at java.desktop/java.awt.EventQueue$5.run(EventQueue.java:746)\r\n        at java.desktop/java.awt.EventQueue$5.run(EventQueue.java:744)\r\n        at java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\r\n        at java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:86)\r\n        at java.desktop/java.awt.EventQueue.dispatchEvent(EventQueue.java:743)\r\n        at java.desktop/java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:203)\r\n        at java.desktop/java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:124)\r\n        at java.desktop/java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:113)\r\n        at java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:109)\r\n        at java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)\r\n        at java.desktop/java.awt.EventDispatchThread.run(EventDispatchThread.java:90)\r\njava.lang.NullPointerException: Cannot invoke &quot;java.sql.Statement.executeUpdate(String)&quot; because &quot;&lt;local15&gt;.s&quot; is null\r\n        at AddStudent.actionPerformed(AddStudent.java:226)\r\n        at java.desktop/javax.swing.AbstractButton.fireActionPerformed(AbstractButton.java:1972)\r\n        at java.desktop/javax.swing.AbstractButton$Handler.actionPerformed(AbstractButton.java:2313)\r\n        at java.desktop/javax.swing.DefaultButtonModel.fireActionPerformed(DefaultButtonModel.java:405)\r\n        at java.desktop/javax.swing.DefaultButtonModel.setPressed(DefaultButtonModel.java:262)\r\n        at java.desktop/javax.swing.plaf.basic.BasicButtonListener.mouseReleased(BasicButtonListener.java:279)\r\n        at java.desktop/java.awt.Component.processMouseEvent(Component.java:6626)\r\n        at java.desktop/javax.swing.JComponent.processMouseEvent(JComponent.java:3389)\r\n        at java.desktop/java.awt.Component.processEvent(Component.java:6391)\r\n        at java.desktop/java.awt.Container.processEvent(Container.java:2266)\r\n        at java.desktop/java.awt.Component.dispatchEventImpl(Component.java:5001)\r\n        at java.desktop/java.awt.Container.dispatchEventImpl(Container.java:2324)\r\n        at java.desktop/java.awt.Component.dispatchEvent(Component.java:4833)\r\n        at java.desktop/java.awt.LightweightDispatcher.retargetMouseEvent(Container.java:4948)\r\n        at java.desktop/java.awt.LightweightDispatcher.processMouseEvent(Container.java:4575)\r\n        at java.desktop/java.awt.LightweightDispatcher.dispatchEvent(Container.java:4516)\r\n        at java.desktop/java.awt.Container.dispatchEventImpl(Container.java:2310)\r\n        at java.desktop/java.awt.Window.dispatchEventImpl(Window.java:2780)\r\n        at java.desktop/java.awt.Component.dispatchEvent(Component.java:4833)\r\n        at java.desktop/java.awt.EventQueue.dispatchEventImpl(EventQueue.java:773)\r\n        at java.desktop/java.awt.EventQueue$4.run(EventQueue.java:722)\r\n        at java.desktop/java.awt.EventQueue$4.run(EventQueue.java:716)\r\n        at java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\r\n        at java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:86)\r\n        at java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:97)\r\n        at java.desktop/java.awt.EventQueue$5.run(EventQueue.java:746)\r\n        at java.desktop/java.awt.EventQueue$5.run(EventQueue.java:744)\r\n        at java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\r\n        at java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:86)\r\n        at java.desktop/java.awt.EventQueue.dispatchEvent(EventQueue.java:743)\r\n        at java.desktop/java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:203)\r\n        at java.desktop/java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:124)\r\n        at java.desktop/java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:113)\r\n        at java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:109)\r\n        at java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)\r\n        at java.desktop/java.awt.EventDispatchThread.run(EventDispatchThread.java:90)\r\n```\r\n\r\n## **But when I hit Run Java that time no problem but the data is not inserted into database**\r\n[![enter image description here][2]][2]\r\n\r\n## **Data is not insert image**\r\n[![enter image description here][3]][3]\r\n\r\n\r\nI have been working on a Java code snippet to insert data into a MySQL database table, but I&#39;m encountering unexpected behavior. Here&#39;s a summary of what I&#39;ve tried and the expected outcome:\r\n\r\nI have established a JDBC connection to the MySQL database using the appropriate connection parameters (URL, username, and password).\r\nAfter successfully establishing the connection, I attempted to insert data into the table using an SQL insert statement.\r\nHowever, despite running the code without any errors, the data is not being stored in the database table as expected.\r\n\r\nI was expecting the code to insert the provided data into the specified table, but it seems to complete without any errors, yet the data is not being stored. I have verified that the connection parameters and SQL query are correct.\r\n\r\nAny guidance or suggestions regarding this issue would be greatly appreciated. Thank you in advance for your help!\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/DMrmw.png\r\n  [2]: https://i.stack.imgur.com/CEqlg.png\r\n  [3]: https://i.stack.imgur.com/NKcHl.png","title":"Java code not inserting data into MySQL database despite no errors","body":"<p>I am facing a <code>java.lang.ClassNotFoundException</code> error with the message <code>com.mysql.cj.jdbc.Driver</code> when attempting to run my Java code for data insertion into a MySQL database. Surprisingly, the code compiles and runs without any errors, but the data is not being inserted into the database. Here's an overview of the issue:</p>\n<ul>\n<li>I'm using Java and JDBC to connect to a MySQL database and insert data into a table.</li>\n<li>I have made sure to include the MySQL JDBC driver JAR file in my project's classpath.</li>\n<li>When I run the code, I encounter the mentioned ClassNotFoundException error for the <code>com.mysql.cj.jdbc.Driver</code> class.</li>\n<li>However, if I only compile the code without running it, there are no errors.</li>\n<li>Despite the successful compilation, the data is not getting inserted into the database.</li>\n</ul>\n<h2><strong>Here's a snippet of the code where I connect the JDBC:</strong></h2>\n<pre><code>import java.sql.*;\npublic class Conn {\n    /*\n     * JDBC Connection has 4 Stages\n     *  (1)-Register the Driver Class\n     *  (2)-Creating Connection String\n     *  (3)-Creating Statement\n     *  (4)-Executing MySQL Queries\n     *  (5)-Closing the Connection\n     */\n\n    Connection c; //reference variable\n    Statement s; //\n    Conn(){\n\n        try{\n            // (1)-Register the Driver Class\n            Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\n            //Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;).newInstance();\n            System.out.println(&quot;Driver Loaded&quot;);\n            // (2)-Creating Connection String\n            /*\n             * Connection String provides the information in which database you have connect\n             */\n            c= DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306/universitymanagementsystem&quot;,&quot;root&quot;, &quot;123456789&quot;);\n            System.out.println(&quot;Connection Established&quot;);\n            // (3)\n            s= c.createStatement();\n\n        }catch(Exception e){\n            e.printStackTrace();\n        }\n    }\n    /*public static java.beans.Statement createStatement() {\n        return null;\n    }*/\n}\n\n</code></pre>\n<h2><strong>Here is the snippet of the code of AddStudent.java file</strong></h2>\n<pre><code>import javax.swing.*;\nimport java.awt.*;\nimport java.util.*;\nimport java.awt.event.*;\nimport java.sql.*;\n//import com.toedter.calendar.JDateChooser;\n\npublic class AddStudent extends JFrame implements ActionListener {\n    JTextField tfname, tffname, tffaddress, tfphone, tfemail, tfX, tfXII, tfAdhar, tfdob;\n    JLabel labelrollno;\n    JComboBox&lt;String&gt; cbCourse, cbBranch;\n    JButton btnSubmit, btnCancel;\n    // JDateChooser dobChooser;\n    /*\n     * create a object for random class\n     * which create some random number for roll number\n     */\n\n    Random ran = new Random();\n    long first4 = Math.abs((ran.nextLong() % 9000L) + 1000L);\n\n    AddStudent() {\n\n        // for layout\n        setSize(900, 700);\n        setLocation(350, 50);\n        setLayout(null); // cause we want our own layout\n\n        // for heading\n        JLabel heading = new JLabel(&quot;New student Details&quot;);\n        heading.setBounds(310, 30, 500, 50);\n        heading.setFont(new Font(&quot;serif&quot;, Font.BOLD, 30));\n        add(heading);\n\n        // name label\n        JLabel labelName = new JLabel(&quot;Name&quot;);\n        labelName.setBounds(50, 150, 100, 30);\n        labelName.setFont(new Font(&quot;serif&quot;, Font.BOLD, 20));\n        add(labelName);\n        // name input box\n        tfname = new JTextField();\n        tfname.setBounds(200, 150, 150, 30);\n        add(tfname);\n\n        // father name label\n        JLabel labelFName = new JLabel(&quot;Fathers Name&quot;);\n        labelFName.setBounds(400, 150, 200, 30);\n        labelFName.setFont(new Font(&quot;serif&quot;, Font.BOLD, 20));\n        add(labelFName);\n        // father name input box\n        tffname = new JTextField();\n        tffname.setBounds(600, 150, 150, 30);\n        add(tffname);\n\n        // roll name label\n        JLabel lblRollNo = new JLabel(&quot;Roll Number&quot;);\n        lblRollNo.setBounds(50, 200, 200, 30);\n        lblRollNo.setFont(new Font(&quot;serif&quot;, Font.BOLD, 20));\n        add(lblRollNo);\n        setVisible(true);\n\n        // roll nameinput box\n        labelrollno = new JLabel(&quot;1533&quot; + first4);\n        labelrollno.setBounds(200, 200, 200, 30);\n        labelrollno.setFont(new Font(&quot;serif&quot;, Font.BOLD, 20));\n        add(labelrollno);\n        setVisible(true);\n\n        // date of birth\n        JLabel lblDob = new JLabel(&quot;Date of Birth&quot;);\n        lblDob.setBounds(400, 200, 200, 30);\n        lblDob.setFont(new Font(&quot;serif&quot;, Font.BOLD, 20));\n        add(lblDob);\n\n        // date of birth input box\n        tfdob = new JTextField();\n        tfdob.setBounds(600, 200, 150, 30);\n        add(tfdob);\n\n        // date of birth input box\n        /*\n         * dobChooser = new JDateChooser();\n         * dobChooser.setBounds(600, 200, 150, 30);\n         * add(dobChooser);\n         */\n\n        // address label\n        JLabel labeladdress = new JLabel(&quot;Address Name&quot;);\n        labeladdress.setBounds(50, 250, 200, 30);\n        labeladdress.setFont(new Font(&quot;serif&quot;, Font.BOLD, 20));\n        add(labeladdress);\n        // address name input box\n        tffaddress = new JTextField();\n        tffaddress.setBounds(200, 250, 150, 30);\n        add(tffaddress);\n\n        // phone number label\n        JLabel labelPhone = new JLabel(&quot;Phone Number&quot;);\n        labelPhone.setBounds(400, 250, 200, 30);\n        labelPhone.setFont(new Font(&quot;serif&quot;, Font.BOLD, 20));\n        add(labelPhone);\n        // phone number input box\n        tfphone = new JTextField();\n        tfphone.setBounds(600, 250, 150, 30);\n        add(tfphone);\n\n        // Email Id\n        JLabel labelemail = new JLabel(&quot;Email Id&quot;);\n        labelemail.setBounds(50, 300, 200, 30);\n        labelemail.setFont(new Font(&quot;serif&quot;, Font.BOLD, 20));\n        add(labelemail);\n        // Email Id input box\n        tfemail = new JTextField();\n        tfemail.setBounds(200, 300, 150, 30);\n        add(tfemail);\n\n        // Class X label\n        JLabel labelX = new JLabel(&quot;Class X(%)&quot;);\n        labelX.setBounds(400, 300, 200, 30);\n        labelX.setFont(new Font(&quot;serif&quot;, Font.BOLD, 20));\n        add(labelX);\n        // Class X input box\n        tfX = new JTextField();\n        tfX.setBounds(600, 300, 150, 30);\n        add(tfX);\n\n        // Class XII label\n        JLabel labelXII = new JLabel(&quot;Class XII(%)&quot;);\n        labelXII.setBounds(50, 350, 200, 30);\n        labelXII.setFont(new Font(&quot;serif&quot;, Font.BOLD, 20));\n        add(labelXII);\n        // Class XII input box\n        tfXII = new JTextField();\n        tfXII.setBounds(200, 350, 150, 30);\n        add(tfXII);\n\n        // Adhar Number label\n        JLabel labelAdhar = new JLabel(&quot;Adhar Number&quot;);\n        labelAdhar.setBounds(400, 350, 200, 30);\n        labelAdhar.setFont(new Font(&quot;serif&quot;, Font.BOLD, 20));\n        add(labelAdhar);\n        // Adhar Number input box\n        tfAdhar = new JTextField();\n        tfAdhar.setBounds(600, 350, 150, 30);\n        add(tfAdhar);\n\n        // dropdown for course\n        /*\n         * JLabel labelCourse = new JLabel(&quot;Course&quot;);\n         * labelCourse.setBounds(50, 400, 200, 30);\n         * labelCourse.setFont(new Font(&quot;serif&quot;, Font.BOLD, 20));\n         * add(labelCourse);\n         * String course[] = { &quot;B.Tech&quot;, &quot;M.Tech&quot;, &quot;BBA&quot;, &quot;MBA&quot;, &quot;BCA&quot;, &quot;MCA&quot; };\n         * cbCourse = new JComboBox(course);\n         * cbCourse.setBounds(200, 400, 150, 30);\n         * cbCourse.setBackground(Color.WHITE);\n         * add(cbCourse);\n         */\n\n        // dropdown for course\n        JLabel labelCourse = new JLabel(&quot;Course&quot;);\n        labelCourse.setBounds(50, 400, 200, 30);\n        labelCourse.setFont(new Font(&quot;serif&quot;, Font.BOLD, 20));\n        add(labelCourse);\n\n        String course[] = { &quot;B.Tech&quot;, &quot;M.Tech&quot;, &quot;BBA&quot;, &quot;MBA&quot;, &quot;BCA&quot;, &quot;MCA&quot; };\n        cbCourse = new JComboBox&lt;&gt;(course);\n        cbCourse.setBounds(200, 400, 150, 30);\n        cbCourse.setBackground(Color.WHITE);\n        add(cbCourse);\n\n        // dropdown for branch\n        JLabel labelBranch = new JLabel(&quot;Branch&quot;);\n        labelBranch.setBounds(400, 400, 200, 30);\n        labelBranch.setFont(new Font(&quot;serif&quot;, Font.BOLD, 20));\n        add(labelBranch);\n\n        String[] branch = { &quot;CSE&quot;, &quot;ECE&quot;, &quot;EEE&quot;, &quot;ME&quot;, &quot;CE&quot;, &quot;IT&quot;, &quot;Not Applicable&quot; };\n        cbBranch = new JComboBox&lt;&gt;(branch);\n        cbBranch.setBounds(600, 400, 150, 30);\n        cbBranch.setBackground(Color.WHITE);\n        add(cbBranch);\n\n        // submit button\n        btnSubmit = new JButton(&quot;Submit&quot;);\n        btnSubmit.setBounds(200, 450, 150, 30);\n        btnSubmit.setBackground(Color.BLACK);\n        btnSubmit.setForeground(Color.WHITE);\n        btnSubmit.addActionListener(this);\n        add(btnSubmit);\n\n        // cancel button\n        btnCancel = new JButton(&quot;Cancel&quot;);\n        btnCancel.setBounds(400, 450, 150, 30);\n        btnCancel.setBackground(Color.BLACK);\n        btnCancel.setForeground(Color.WHITE);\n        btnCancel.addActionListener(this);\n        add(btnCancel);\n\n        setVisible(true);\n\n    }\n\n    public void actionPerformed(ActionEvent ae) {\n        if (ae.getSource() == btnSubmit) {\n            // taking all the values\n            String fname = tfname.getText();\n            String ffname = tffname.getText();\n            String rollno = labelrollno.getText();\n            String dob = tfdob.getText();\n            String address = tffaddress.getText();\n            String phone = tfphone.getText();\n            String email = tfemail.getText();\n            String class_x = tfX.getText();\n            String class_xii = tfXII.getText();\n            String adhar = tfAdhar.getText();\n            String course = (String) cbCourse.getSelectedItem();\n            String branch = (String) cbBranch.getSelectedItem();\n\n            // inserting into database\n\n            try {\n                String query = &quot;insert into student values('&quot;+fname+&quot;', '&quot;+ffname+&quot;', '&quot;+rollno+&quot;', '&quot;+dob+&quot;', '&quot;+address+&quot;', '&quot;+phone+&quot;', '&quot;+email+&quot;', '&quot;+class_x+&quot;', '&quot;+class_xii+&quot;', '&quot;+adhar+&quot;', '&quot;+course+&quot;', '&quot;+branch+&quot;')&quot;;\n\n                Conn con = new Conn();\n                con.s.executeUpdate(query);\n                \n                JOptionPane.showMessageDialog(null, &quot;Student Details Inserted Successfully&quot;);\n                setVisible(false);\n            } catch (Exception e) {\n                e.printStackTrace();\n            }\n\n    \n        } else {\n            setVisible(false);\n\n        }\n    }\n\n    public static void main(String[] args) {\n        new AddStudent();\n    }\n}\n\n</code></pre>\n<p>Here is the proof that I already include the mysql-Connector jar file\n<a href=\"https://i.stack.imgur.com/DMrmw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DMrmw.png\" alt=\"enter image description here\" /></a></p>\n<h2><strong>Error and excception while I run the code</strong></h2>\n<pre><code>java.lang.ClassNotFoundException: com.mysql.cj.jdbc.Driver\n        at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)     \n        at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)  \n        at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\n        at java.base/java.lang.Class.forName0(Native Method)\n        at java.base/java.lang.Class.forName(Class.java:375)\n        at Conn.&lt;init&gt;(Conn.java:19)\n        at AddStudent.actionPerformed(AddStudent.java:225)\n        at java.desktop/javax.swing.AbstractButton.fireActionPerformed(AbstractButton.java:1972)       \n        at java.desktop/javax.swing.AbstractButton$Handler.actionPerformed(AbstractButton.java:2313)   \n        at java.desktop/javax.swing.DefaultButtonModel.fireActionPerformed(DefaultButtonModel.java:405)\n        at java.desktop/javax.swing.DefaultButtonModel.setPressed(DefaultButtonModel.java:262)\n        at java.desktop/javax.swing.plaf.basic.BasicButtonListener.mouseReleased(BasicButtonListener.java:279)\n        at java.desktop/java.awt.Component.processMouseEvent(Component.java:6626)\n        at java.desktop/javax.swing.JComponent.processMouseEvent(JComponent.java:3389)\n        at java.desktop/java.awt.Component.processEvent(Component.java:6391)\n        at java.desktop/java.awt.Container.processEvent(Container.java:2266)\n        at java.desktop/java.awt.Component.dispatchEventImpl(Component.java:5001)\n        at java.desktop/java.awt.Container.dispatchEventImpl(Container.java:2324)\n        at java.desktop/java.awt.Component.dispatchEvent(Component.java:4833)\n        at java.desktop/java.awt.LightweightDispatcher.retargetMouseEvent(Container.java:4948)\n        at java.desktop/java.awt.LightweightDispatcher.processMouseEvent(Container.java:4575)\n        at java.desktop/java.awt.LightweightDispatcher.dispatchEvent(Container.java:4516)\n        at java.desktop/java.awt.Container.dispatchEventImpl(Container.java:2310)\n        at java.desktop/java.awt.Window.dispatchEventImpl(Window.java:2780)\n        at java.desktop/java.awt.Component.dispatchEvent(Component.java:4833)\n        at java.desktop/java.awt.EventQueue.dispatchEventImpl(EventQueue.java:773)\n        at java.desktop/java.awt.EventQueue$4.run(EventQueue.java:722)\n        at java.desktop/java.awt.EventQueue$4.run(EventQueue.java:716)\n        at java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\n        at java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:86)\n        at java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:97)\n        at java.desktop/java.awt.EventQueue$5.run(EventQueue.java:746)\n        at java.desktop/java.awt.EventQueue$5.run(EventQueue.java:744)\n        at java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\n        at java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:86)\n        at java.desktop/java.awt.EventQueue.dispatchEvent(EventQueue.java:743)\n        at java.desktop/java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:203)\n        at java.desktop/java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:124)\n        at java.desktop/java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:113)\n        at java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:109)\n        at java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)\n        at java.desktop/java.awt.EventDispatchThread.run(EventDispatchThread.java:90)\njava.lang.NullPointerException: Cannot invoke &quot;java.sql.Statement.executeUpdate(String)&quot; because &quot;&lt;local15&gt;.s&quot; is null\n        at AddStudent.actionPerformed(AddStudent.java:226)\n        at java.desktop/javax.swing.AbstractButton.fireActionPerformed(AbstractButton.java:1972)\n        at java.desktop/javax.swing.AbstractButton$Handler.actionPerformed(AbstractButton.java:2313)\n        at java.desktop/javax.swing.DefaultButtonModel.fireActionPerformed(DefaultButtonModel.java:405)\n        at java.desktop/javax.swing.DefaultButtonModel.setPressed(DefaultButtonModel.java:262)\n        at java.desktop/javax.swing.plaf.basic.BasicButtonListener.mouseReleased(BasicButtonListener.java:279)\n        at java.desktop/java.awt.Component.processMouseEvent(Component.java:6626)\n        at java.desktop/javax.swing.JComponent.processMouseEvent(JComponent.java:3389)\n        at java.desktop/java.awt.Component.processEvent(Component.java:6391)\n        at java.desktop/java.awt.Container.processEvent(Container.java:2266)\n        at java.desktop/java.awt.Component.dispatchEventImpl(Component.java:5001)\n        at java.desktop/java.awt.Container.dispatchEventImpl(Container.java:2324)\n        at java.desktop/java.awt.Component.dispatchEvent(Component.java:4833)\n        at java.desktop/java.awt.LightweightDispatcher.retargetMouseEvent(Container.java:4948)\n        at java.desktop/java.awt.LightweightDispatcher.processMouseEvent(Container.java:4575)\n        at java.desktop/java.awt.LightweightDispatcher.dispatchEvent(Container.java:4516)\n        at java.desktop/java.awt.Container.dispatchEventImpl(Container.java:2310)\n        at java.desktop/java.awt.Window.dispatchEventImpl(Window.java:2780)\n        at java.desktop/java.awt.Component.dispatchEvent(Component.java:4833)\n        at java.desktop/java.awt.EventQueue.dispatchEventImpl(EventQueue.java:773)\n        at java.desktop/java.awt.EventQueue$4.run(EventQueue.java:722)\n        at java.desktop/java.awt.EventQueue$4.run(EventQueue.java:716)\n        at java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\n        at java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:86)\n        at java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:97)\n        at java.desktop/java.awt.EventQueue$5.run(EventQueue.java:746)\n        at java.desktop/java.awt.EventQueue$5.run(EventQueue.java:744)\n        at java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\n        at java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:86)\n        at java.desktop/java.awt.EventQueue.dispatchEvent(EventQueue.java:743)\n        at java.desktop/java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:203)\n        at java.desktop/java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:124)\n        at java.desktop/java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:113)\n        at java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:109)\n        at java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)\n        at java.desktop/java.awt.EventDispatchThread.run(EventDispatchThread.java:90)\n</code></pre>\n<h2><strong>But when I hit Run Java that time no problem but the data is not inserted into database</strong></h2>\n<p><a href=\"https://i.stack.imgur.com/CEqlg.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/CEqlg.png\" alt=\"enter image description here\" /></a></p>\n<h2><strong>Data is not insert image</strong></h2>\n<p><a href=\"https://i.stack.imgur.com/NKcHl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NKcHl.png\" alt=\"enter image description here\" /></a></p>\n<p>I have been working on a Java code snippet to insert data into a MySQL database table, but I'm encountering unexpected behavior. Here's a summary of what I've tried and the expected outcome:</p>\n<p>I have established a JDBC connection to the MySQL database using the appropriate connection parameters (URL, username, and password).\nAfter successfully establishing the connection, I attempted to insert data into the table using an SQL insert statement.\nHowever, despite running the code without any errors, the data is not being stored in the database table as expected.</p>\n<p>I was expecting the code to insert the provided data into the specified table, but it seems to complete without any errors, yet the data is not being stored. I have verified that the connection parameters and SQL query are correct.</p>\n<p>Any guidance or suggestions regarding this issue would be greatly appreciated. Thank you in advance for your help!</p>\n"},{"tags":["java","class","generics","interface"],"comments":[{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1686626528,"post_id":76461491,"comment_id":134821258,"body_markdown":"What&#39;s wrong with `Recipe.build(...)`?","body":"What&#39;s wrong with <code>Recipe.build(...)</code>?"},{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":1,"creation_date":1686626631,"post_id":76461491,"comment_id":134821263,"body_markdown":"Wait, what&#39;s `T.build`? You can&#39;t call static methods on type parameters like that. You should probably write a `RecipeBuilder&lt;T extends Recipe&gt;`, or something like that.","body":"Wait, what&#39;s <code>T.build</code>? You can&#39;t call static methods on type parameters like that. You should probably write a <code>RecipeBuilder&lt;T extends Recipe&gt;</code>, or something like that."}],"answers":[{"tags":[],"owner":{"account_id":16215668,"reputation":9,"user_id":11708570,"display_name":"Vladmix6"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686639120,"creation_date":1686639120,"answer_id":76462316,"question_id":76461491,"body_markdown":"I think you are trying to call the interface static method in a wrong way (I may be wrong by not understanding your exact expectation). But the idea with Java 8 static methods in interfaces is that the static method doesn&#39;t belong to a specific object. These methods are not part of a class (that implements that interface) available APIs. To use static methods from an interface **you don&#39;t have to create any object**, that is the may idea behind them. In order to call your static methods you have to do it something like this:\r\n\r\n    Sub-Recipe recipe = Builder.build((new File(&quot;/path/to/file&quot;));\r\n\r\nThere is no need to create any object when calling static methods from an interface, you can think of that interface just as an &quot;utility library&quot; with general methods that have an implementation defined in interface and that cannot be overridden in the classes that are implementing that interface. ","title":"can&#39;t use static method in class that implements a interface (Java 17)","body":"<p>I think you are trying to call the interface static method in a wrong way (I may be wrong by not understanding your exact expectation). But the idea with Java 8 static methods in interfaces is that the static method doesn't belong to a specific object. These methods are not part of a class (that implements that interface) available APIs. To use static methods from an interface <strong>you don't have to create any object</strong>, that is the may idea behind them. In order to call your static methods you have to do it something like this:</p>\n<pre><code>Sub-Recipe recipe = Builder.build((new File(&quot;/path/to/file&quot;));\n</code></pre>\n<p>There is no need to create any object when calling static methods from an interface, you can think of that interface just as an &quot;utility library&quot; with general methods that have an implementation defined in interface and that cannot be overridden in the classes that are implementing that interface.</p>\n"}],"owner":{"account_id":20585180,"reputation":1,"user_id":15110212,"display_name":"Xaxurro"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686639120,"creation_date":1686626332,"question_id":76461491,"body_markdown":"I have a class `Recipe` that has multiple children classes, i want to make two `static` methods, one that takes a JSON file and returns an object of the child class already casted, and other that returns a List of the child class, and all inside an interface like this:\r\n```java\r\npublic interface Builder {\r\n    static &lt;T extends Recipe&gt; T build(File file) throws IOException {\r\n        String json = new String(Files.readAllBytes(Paths.get(file.getPath())));\r\n        return (T) T.build(new JSONObject(json));\r\n    }\r\n\r\n    static &lt;T extends Recipe&gt; List&lt;T&gt; build(File[] files) throws IOException {\r\n        List&lt;T&gt; recipeList = new ArrayList&lt;&gt;();\r\n\r\n        for (File file : files) {\r\n            T r = build(file);\r\n\r\n            if (r != null) recipeList.add(r);\r\n        }\r\n        return recipeList;\r\n    }\r\n}\r\n```\r\n\r\nHowever when i implement the interface in the sub-class (i.e. `Sub-Recipe`) i can&#39;t use the `static` methods created on the interface\r\n\r\n```\r\nSub-Recipe recipe = Sub-Recipe.build(new File(&quot;/path/to/file&quot;));\r\n```\r\n\r\nI tried using a `default` method on the interface, but if i do that i wouldn&#39;t be able to make a `static` method.","title":"can&#39;t use static method in class that implements a interface (Java 17)","body":"<p>I have a class <code>Recipe</code> that has multiple children classes, i want to make two <code>static</code> methods, one that takes a JSON file and returns an object of the child class already casted, and other that returns a List of the child class, and all inside an interface like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface Builder {\n    static &lt;T extends Recipe&gt; T build(File file) throws IOException {\n        String json = new String(Files.readAllBytes(Paths.get(file.getPath())));\n        return (T) T.build(new JSONObject(json));\n    }\n\n    static &lt;T extends Recipe&gt; List&lt;T&gt; build(File[] files) throws IOException {\n        List&lt;T&gt; recipeList = new ArrayList&lt;&gt;();\n\n        for (File file : files) {\n            T r = build(file);\n\n            if (r != null) recipeList.add(r);\n        }\n        return recipeList;\n    }\n}\n</code></pre>\n<p>However when i implement the interface in the sub-class (i.e. <code>Sub-Recipe</code>) i can't use the <code>static</code> methods created on the interface</p>\n<pre><code>Sub-Recipe recipe = Sub-Recipe.build(new File(&quot;/path/to/file&quot;));\n</code></pre>\n<p>I tried using a <code>default</code> method on the interface, but if i do that i wouldn't be able to make a <code>static</code> method.</p>\n"},{"tags":["java","ios","swift","cryptography","elliptic-curve"],"answers":[{"tags":[],"owner":{"account_id":208697,"reputation":526,"user_id":459349,"accept_rate":50,"display_name":"mahler"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1604052914,"creation_date":1604052914,"answer_id":64606418,"question_id":64606417,"body_markdown":"Notice in the Apple documentation how the first 65-bytes are the uncompressed public key (`04 || X || Y`) concatenated with the private scalar (`|| K`). Take these bytes off and you can create the private key. I hope this helps somebody.\r\n\r\n```java\r\n/*\r\n *  For an elliptic curve private key, the output is formatted as the public key\r\n * concatenated with the big endian encoding of the secret scalar, or 04 || X || Y || K.\r\n */\r\nprivate PrivateKey createECPrivateKey(byte[] rawBytes) throws NoSuchAlgorithmException, InvalidKeySpecException, InvalidParameterSpecException {\r\n    KeyFactory kf = KeyFactory.getInstance(&quot;EC&quot;);\r\n    BigInteger s = new BigInteger(Arrays.copyOfRange(rawBytes, 65, rawBytes.length));\r\n    return kf.generatePrivate(new ECPrivateKeySpec(s, ecParameterSpecForCurve(&quot;secp256r1&quot;)));\r\n}\r\n```","title":"Importing ANSI X9.63 formatted key pair in Java","body":"<p>Notice in the Apple documentation how the first 65-bytes are the uncompressed public key (<code>04 || X || Y</code>) concatenated with the private scalar (<code>|| K</code>). Take these bytes off and you can create the private key. I hope this helps somebody.</p>\n<pre class=\"lang-java prettyprint-override\"><code>/*\n *  For an elliptic curve private key, the output is formatted as the public key\n * concatenated with the big endian encoding of the secret scalar, or 04 || X || Y || K.\n */\nprivate PrivateKey createECPrivateKey(byte[] rawBytes) throws NoSuchAlgorithmException, InvalidKeySpecException, InvalidParameterSpecException {\n    KeyFactory kf = KeyFactory.getInstance(&quot;EC&quot;);\n    BigInteger s = new BigInteger(Arrays.copyOfRange(rawBytes, 65, rawBytes.length));\n    return kf.generatePrivate(new ECPrivateKeySpec(s, ecParameterSpecForCurve(&quot;secp256r1&quot;)));\n}\n</code></pre>\n"}],"owner":{"account_id":208697,"reputation":526,"user_id":459349,"accept_rate":50,"display_name":"mahler"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1281,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":64606418,"answer_count":1,"score":0,"last_activity_date":1686639102,"creation_date":1604052914,"question_id":64606417,"body_markdown":"I have generated a key pair on iOS and created a data representation using the following code:\r\n\r\n```swift\r\nvar publicKey, privateKey: SecKey?\r\nlet keyattribute = [\r\n    kSecAttrKeyType as String: kSecAttrKeyTypeECSECPrimeRandom,\r\n    kSecAttrKeySizeInBits as String : 256\r\n    ] as CFDictionary\r\nSecKeyGeneratePair(keyattribute, &amp;publicKey, &amp;privateKey)\r\n\r\nvar error: Unmanaged&lt;CFError&gt;?\r\nlet pubkeyRep = SecKeyCopyExternalRepresentation(publicKey!, &amp;error) as Data?\r\nlet prikeyRep = SecKeyCopyExternalRepresentation(privateKey!, &amp;error) as Data?\r\n```\r\n\r\nAccording to the documentation from Apple, the [SecKeyCopyExternalRepresentation][1] function encodes these keys using uncompressed *[ANSI X9.63 format][2]*\r\n\r\nI want to transform these byte arrays into `PublicKey` and `PrivateKey` objects in Java. \r\n\r\nA few examples that I&#39;ve found [here][3] (using SunJCE) and [here][4] (using BouncyCastle) work for the public key, but they don&#39;t describe a way to import the private key.\r\n\r\n\r\n  [1]: https://developer.apple.com/documentation/security/1643698-seckeycopyexternalrepresentation\r\n  [2]: https://standards.globalspec.com/std/26827/X9.63\r\n  [3]: https://stackoverflow.com/a/56170785/459349\r\n  [4]: https://stackoverflow.com/a/36033552/459349","title":"Importing ANSI X9.63 formatted key pair in Java","body":"<p>I have generated a key pair on iOS and created a data representation using the following code:</p>\n<pre class=\"lang-swift prettyprint-override\"><code>var publicKey, privateKey: SecKey?\nlet keyattribute = [\n    kSecAttrKeyType as String: kSecAttrKeyTypeECSECPrimeRandom,\n    kSecAttrKeySizeInBits as String : 256\n    ] as CFDictionary\nSecKeyGeneratePair(keyattribute, &amp;publicKey, &amp;privateKey)\n\nvar error: Unmanaged&lt;CFError&gt;?\nlet pubkeyRep = SecKeyCopyExternalRepresentation(publicKey!, &amp;error) as Data?\nlet prikeyRep = SecKeyCopyExternalRepresentation(privateKey!, &amp;error) as Data?\n</code></pre>\n<p>According to the documentation from Apple, the <a href=\"https://developer.apple.com/documentation/security/1643698-seckeycopyexternalrepresentation\" rel=\"nofollow noreferrer\">SecKeyCopyExternalRepresentation</a> function encodes these keys using uncompressed <em><a href=\"https://standards.globalspec.com/std/26827/X9.63\" rel=\"nofollow noreferrer\">ANSI X9.63 format</a></em></p>\n<p>I want to transform these byte arrays into <code>PublicKey</code> and <code>PrivateKey</code> objects in Java.</p>\n<p>A few examples that I've found <a href=\"https://stackoverflow.com/a/56170785/459349\">here</a> (using SunJCE) and <a href=\"https://stackoverflow.com/a/36033552/459349\">here</a> (using BouncyCastle) work for the public key, but they don't describe a way to import the private key.</p>\n"},{"tags":["java","sockets","data-structures","stream"],"comments":[{"owner":{"account_id":2880367,"reputation":6588,"user_id":2471439,"display_name":"kiheru"},"score":5,"creation_date":1380888456,"post_id":19180728,"comment_id":28377385,"body_markdown":"You&#39;re silently ignoring the exceptions from `setupStream()`. Add at minimum `e.printStackTrace()` in the catch blocks.","body":"You&#39;re silently ignoring the exceptions from <code>setupStream()</code>. Add at minimum <code>e.printStackTrace()</code> in the catch blocks."},{"owner":{"account_id":801225,"reputation":7522,"user_id":878732,"accept_rate":60,"display_name":"harsh"},"score":1,"creation_date":1380889047,"post_id":19180728,"comment_id":28377701,"body_markdown":"@VinceEmigh you should worry about error handling, `Stream` constructor is always failing but since exception is suppressed nothing get noticed. Further `setupStream` throws NPE due to `null` `Socket` as there is nothing listening on it!","body":"@VinceEmigh you should worry about error handling, <code>Stream</code> constructor is always failing but since exception is suppressed nothing get noticed. Further <code>setupStream</code> throws NPE due to <code>null</code> <code>Socket</code> as there is nothing listening on it!"},{"owner":{"account_id":2880367,"reputation":6588,"user_id":2471439,"display_name":"kiheru"},"score":1,"creation_date":1380889739,"post_id":19180728,"comment_id":28378043,"body_markdown":"There are not all that many ways to not reach the line below `setupStreams()` (locking up, or an exception gets thrown). How do you know an exception does not get thrown if you never check that? You say you don&#39;t get any errors, but the code you have pasted is not capable of detecting that.","body":"There are not all that many ways to not reach the line below <code>setupStreams()</code> (locking up, or an exception gets thrown). How do you know an exception does not get thrown if you never check that? You say you don&#39;t get any errors, but the code you have pasted is not capable of detecting that."},{"owner":{"account_id":910172,"reputation":2622,"user_id":944201,"accept_rate":60,"display_name":"xmoex"},"score":1,"creation_date":1380891345,"post_id":19180728,"comment_id":28378916,"body_markdown":"if you omit those stacktraces, how could people possibly know that you already know that there&#39;s no error? you diddn&#39;t talk about a server in the first place, and so it seems likely that you forgot about it and didn&#39;t realize it because of missing stacktraces...","body":"if you omit those stacktraces, how could people possibly know that you already know that there&#39;s no error? you diddn&#39;t talk about a server in the first place, and so it seems likely that you forgot about it and didn&#39;t realize it because of missing stacktraces..."}],"answers":[{"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":2,"creation_date":1380891101,"post_id":19181351,"comment_id":28378785,"body_markdown":"It is exactly as I said. An ObjectInputStream needs an ObjectOutputStream at the other end, and *vice versa.* However the remarks about exception handling are not to be ignored. It isn&#39;t something you add to the program after you get it working. It is an essential part of getting it working in the first place.","body":"It is exactly as I said. An ObjectInputStream needs an ObjectOutputStream at the other end, and <i>vice versa.</i> However the remarks about exception handling are not to be ignored. It isn&#39;t something you add to the program after you get it working. It is an essential part of getting it working in the first place."}],"tags":[],"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1686638801,"creation_date":1380890239,"answer_id":19181351,"question_id":19180728,"body_markdown":"I suspect that your server does not create an `ObjectOutputStream`, so when the client constructs its `ObjectInputStream`, it blocks waiting for the object stream header, which never arrives.","title":"Program won&#39;t continue after initializing input/output streams?","body":"<p>I suspect that your server does not create an <code>ObjectOutputStream</code>, so when the client constructs its <code>ObjectInputStream</code>, it blocks waiting for the object stream header, which never arrives.</p>\n"}],"owner":{"account_id":2787344,"reputation":14687,"user_id":2398375,"accept_rate":75,"display_name":"Vince"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":558,"favorite_count":0,"down_vote_count":4,"up_vote_count":0,"answer_count":1,"score":-4,"last_activity_date":1686638801,"creation_date":1380888170,"question_id":19180728,"body_markdown":"Before people suspect that I have no idea what I&#39;m doing at all (and end up voting this down for no reason at all), please read this:\r\n\r\nIt connects to my server just fine! I&#39;m getting no errors (from the client OR server), and my server is recognizing the connection. It works with my friend&#39;s client that he made, but I wanted to make my own client, and apparently I&#39;m doing something wrong. PLEASE STAY ON TOPIC! Thanks :)\r\n__________________________\r\n\r\nTitle basically says it all. I&#39;ve tested with `println` messages above and below the `setupStream()` in my Client.java `run()`, but only the message above the `setupStream()` prints. I&#39;m not sure how I&#39;m supposed to initialize my stream without making my program come to a halt.\r\n\r\nClient.java\r\n\r\n    import java.io.IOException;\r\n    \r\n    \r\n    public class Client extends Stream implements Runnable {\r\n    \tpublic boolean running = false;\r\n    \tprivate Thread clientThread;\r\n    \t\r\n    \tFrame frame;\r\n    \tpublic Client() {\r\n    \t\tsuper(&quot;localhost&quot;, 43594);\r\n    \t\t\r\n    \t\tframe = new ClientFrame(500, 500);\r\n    \t\tstart();\r\n    \t}\r\n    \t\r\n    \tpublic synchronized void start() {\r\n    \t\tif(running) return;\r\n    \t\trunning = true;\r\n    \t\t\r\n    \t\tclientThread = new Thread(this);\r\n    \t\tclientThread.start();\r\n    \t}\r\n    \tpublic synchronized void stop() {\r\n    \t\tif(!running) return;\r\n    \t\trunning = false;\r\n    \t\t\r\n    \t\tclientThread.interrupt();\r\n    \t\ttry {\r\n    \t\t\tclientThread.join();\r\n    \t\t} catch (InterruptedException e) {e.printStackTrace();}\r\n    \t}\r\n    \t\r\n    \tpublic void run() {\r\n    \t\ttry{\r\n    \t\tsetupStream();\r\n    \t\t\r\n    \t\twhile(running) {\r\n    \t\t\tSystem.out.println(&quot;running&quot;);\r\n    \t\t}\r\n    \t\t}catch(IOException e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t}finally {\r\n    \t\t\ttry{\r\n    \t\t\tout.close();\r\n    \t\t\tin.close();\r\n    \t\t\tsocket.close();\r\n    \t\t\tclientThread.join();\r\n    \t\t\t}catch(IOException | InterruptedException e) { e.printStackTrace(); }\r\n    \t\t}\r\n    \t}\r\n    \tpublic static void main(String[] args) {\r\n    \t\tnew Client();\r\n    \t}\r\n    }\r\n\r\nStream.java\r\n\r\n    import java.io.IOException;\r\n    import java.io.ObjectInputStream;\r\n    import java.io.ObjectOutputStream;\r\n    import java.net.Socket;\r\n    \r\n    \r\n    public class Stream {\r\n    \t\r\n    \tSocket socket;\r\n    \tObjectOutputStream out;\r\n    \tObjectInputStream in;\r\n    \tString data;\r\n    \t\r\n    \tpublic Stream(String host, int port) {\r\n    \t\ttry {\r\n    \t\t\tsocket = new Socket(host, port);\r\n    \t\t} catch (IOException e) { \r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    \tprotected void setupStream() throws IOException {\r\n    \t\tout = new ObjectOutputStream(socket.getOutputStream());\r\n    \t\tout.flush();\r\n    \t\tin = new ObjectInputStream(socket.getInputStream());\r\n    \t}\r\n    \r\n    }\r\n\r\n\r\nMy Server Thread:\r\n\r\n    package Server;\r\n    \r\n    import java.io.DataInputStream;\r\n    import java.io.DataOutputStream;\r\n    import java.io.IOException;\r\n    import java.net.Socket;\r\n    import java.text.SimpleDateFormat;\r\n    import java.util.ArrayList;\r\n    import java.util.Calendar;\r\n    \r\n    public class User extends Thread {\r\n    \tpublic static int users = 0;\r\n    \tpublic int ID;\r\n    \tpublic String username;\r\n    \tboolean online = false;\r\n    \t\r\n    \tpublic static ArrayList&lt;String&gt; usernames = new ArrayList&lt;String&gt;();\r\n    \t\r\n    \tSocket socket;\r\n    \r\n    \tDataOutputStream out;\r\n    \tDataInputStream in;\r\n    \tString input;\r\n    \t\r\n    \tpublic User(Socket socket) {\r\n    \t\tthis.socket = socket;\r\n    \t\t\r\n    \t}\r\n    \t\r\n    \tpublic String decode(String input) {\r\n    \t\tString[] split = input.split(&quot; &quot;);\r\n    \t\t\r\n    \t\tif(input.startsWith(&quot;::&quot;)) {\r\n    \t\t\ttry {\r\n    \t\t\t\tswitch(split[0].substring(2, split[0].length()).toLowerCase()) {\r\n    \t\t\t\tcase &quot;setname&quot;: \r\n    \t\t\t\tcase &quot;changename&quot;:\r\n    \t\t\t\tcase &quot;newname&quot;:\r\n    \t\t\t\t\tif(usernames.contains(split[1].toLowerCase())) {\r\n    \t\t\t\t\t\tout.writeUTF(&quot;This name is already taken! Please choose a different one.&quot;);\r\n    \t\t\t\t\t\tout.flush();\r\n    \t\t\t\t\t\treturn null;\r\n    \t\t\t\t\t}\r\n    \t\t\t\t\tif(username == null) {\r\n    \t\t\t\t\t\tusername = split[1].substring(0, 1).toUpperCase() + split[1].substring(1, split[1].length());\r\n    \t\t\t\t\t\tServer.users.put(split[1].toLowerCase(), Server.user[ID]);\r\n    \t\t\t\t\t\tusernames.add(split[1].toLowerCase());\r\n    \t\t\t\t\t} else {\r\n    \t\t\t\t\t\tusernames.remove(username.toLowerCase());\r\n    \t\t\t\t\t\tusername = split[1].substring(0, 1).toUpperCase() + split[1].substring(1, split[1].length());\r\n    \t\t\t\t\t\tusernames.add(split[1].toLowerCase());\r\n    \t\t\t\t\t}\r\n    \t\t\t\t\t\treturn null;\r\n    \t\t\t\tcase &quot;rank+&quot;:\r\n    \t\t\t\t\treturn null;\r\n    \t\t\t\tcase &quot;[sm]=&quot;:\r\n    \t\t\t\t\treturn null;\r\n    \t\t\t\t}\r\n    \t\t\t}catch(IOException e) { }\r\n    \t\t}\r\n    \t\treturn input;\r\n    \t}\r\n    \t\r\n    \tString timeStamp;\r\n    \tpublic void run() {\r\n    \t\ttry {\r\n    \t\t\t\r\n    \t\t\tout = new DataOutputStream(socket.getOutputStream());\r\n    \t\t\tout.flush();\r\n    \t\t\tin = new DataInputStream(socket.getInputStream());\r\n    \t\t\t\r\n    \t\t\twhile((input = in.readUTF()) != null) {\r\n    \t\t\t\tinput = decode(input);\r\n    \t\t\t\t\r\n    \t\t\t\tif(input != null) {\r\n    \t\t\t\t\tif(username != null) {\r\n    \t\t\t\t\t\ttimeStamp = new SimpleDateFormat(&quot;[h:mm:ss] &quot;).format(Calendar.getInstance().getTime());\r\n    \t\t\t\t\t\tServer.sendGlobalMessage(timeStamp + username +&quot;: &quot;+input);\r\n    \t\t\t\t\t} else {\r\n    \t\t\t\t\t\ttimeStamp = new SimpleDateFormat(&quot;[h:mm:ss] &quot;).format(Calendar.getInstance().getTime());\r\n    \t\t\t\t\t\tServer.sendGlobalMessage(timeStamp + &quot;Guest &quot;+ID+&quot;: &quot;+input);\r\n    \t\t\t\t\t}\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t\t\r\n    \t\t}catch(IOException e) { e.printStackTrace(); } finally { \r\n    \t\t\ttry{\r\n    \t\t\t\tout.close();\r\n    \t\t\t\tin.close();\r\n    \t\t\t\tsocket.close();\r\n    \t\t\t} catch(IOException e) { e.printStackTrace(); }\r\n    \t\t}\r\n    \t\t\r\n    \t}\r\n    \r\n    }\r\n\r\nI haven&#39;t touched the code of my Server Thread for a while, since it has always worked up until I made my new client.","title":"Program won&#39;t continue after initializing input/output streams?","body":"<p>Before people suspect that I have no idea what I'm doing at all (and end up voting this down for no reason at all), please read this:</p>\n\n<p>It connects to my server just fine! I'm getting no errors (from the client OR server), and my server is recognizing the connection. It works with my friend's client that he made, but I wanted to make my own client, and apparently I'm doing something wrong. PLEASE STAY ON TOPIC! Thanks :)</p>\n\n<hr>\n\n<p>Title basically says it all. I've tested with <code>println</code> messages above and below the <code>setupStream()</code> in my Client.java <code>run()</code>, but only the message above the <code>setupStream()</code> prints. I'm not sure how I'm supposed to initialize my stream without making my program come to a halt.</p>\n\n<p>Client.java</p>\n\n<pre><code>import java.io.IOException;\n\n\npublic class Client extends Stream implements Runnable {\n    public boolean running = false;\n    private Thread clientThread;\n\n    Frame frame;\n    public Client() {\n        super(\"localhost\", 43594);\n\n        frame = new ClientFrame(500, 500);\n        start();\n    }\n\n    public synchronized void start() {\n        if(running) return;\n        running = true;\n\n        clientThread = new Thread(this);\n        clientThread.start();\n    }\n    public synchronized void stop() {\n        if(!running) return;\n        running = false;\n\n        clientThread.interrupt();\n        try {\n            clientThread.join();\n        } catch (InterruptedException e) {e.printStackTrace();}\n    }\n\n    public void run() {\n        try{\n        setupStream();\n\n        while(running) {\n            System.out.println(\"running\");\n        }\n        }catch(IOException e) {\n            e.printStackTrace();\n        }finally {\n            try{\n            out.close();\n            in.close();\n            socket.close();\n            clientThread.join();\n            }catch(IOException | InterruptedException e) { e.printStackTrace(); }\n        }\n    }\n    public static void main(String[] args) {\n        new Client();\n    }\n}\n</code></pre>\n\n<p>Stream.java</p>\n\n<pre><code>import java.io.IOException;\nimport java.io.ObjectInputStream;\nimport java.io.ObjectOutputStream;\nimport java.net.Socket;\n\n\npublic class Stream {\n\n    Socket socket;\n    ObjectOutputStream out;\n    ObjectInputStream in;\n    String data;\n\n    public Stream(String host, int port) {\n        try {\n            socket = new Socket(host, port);\n        } catch (IOException e) { \n            e.printStackTrace();\n        }\n    }\n\n    protected void setupStream() throws IOException {\n        out = new ObjectOutputStream(socket.getOutputStream());\n        out.flush();\n        in = new ObjectInputStream(socket.getInputStream());\n    }\n\n}\n</code></pre>\n\n<p>My Server Thread:</p>\n\n<pre><code>package Server;\n\nimport java.io.DataInputStream;\nimport java.io.DataOutputStream;\nimport java.io.IOException;\nimport java.net.Socket;\nimport java.text.SimpleDateFormat;\nimport java.util.ArrayList;\nimport java.util.Calendar;\n\npublic class User extends Thread {\n    public static int users = 0;\n    public int ID;\n    public String username;\n    boolean online = false;\n\n    public static ArrayList&lt;String&gt; usernames = new ArrayList&lt;String&gt;();\n\n    Socket socket;\n\n    DataOutputStream out;\n    DataInputStream in;\n    String input;\n\n    public User(Socket socket) {\n        this.socket = socket;\n\n    }\n\n    public String decode(String input) {\n        String[] split = input.split(\" \");\n\n        if(input.startsWith(\"::\")) {\n            try {\n                switch(split[0].substring(2, split[0].length()).toLowerCase()) {\n                case \"setname\": \n                case \"changename\":\n                case \"newname\":\n                    if(usernames.contains(split[1].toLowerCase())) {\n                        out.writeUTF(\"This name is already taken! Please choose a different one.\");\n                        out.flush();\n                        return null;\n                    }\n                    if(username == null) {\n                        username = split[1].substring(0, 1).toUpperCase() + split[1].substring(1, split[1].length());\n                        Server.users.put(split[1].toLowerCase(), Server.user[ID]);\n                        usernames.add(split[1].toLowerCase());\n                    } else {\n                        usernames.remove(username.toLowerCase());\n                        username = split[1].substring(0, 1).toUpperCase() + split[1].substring(1, split[1].length());\n                        usernames.add(split[1].toLowerCase());\n                    }\n                        return null;\n                case \"rank+\":\n                    return null;\n                case \"[sm]=\":\n                    return null;\n                }\n            }catch(IOException e) { }\n        }\n        return input;\n    }\n\n    String timeStamp;\n    public void run() {\n        try {\n\n            out = new DataOutputStream(socket.getOutputStream());\n            out.flush();\n            in = new DataInputStream(socket.getInputStream());\n\n            while((input = in.readUTF()) != null) {\n                input = decode(input);\n\n                if(input != null) {\n                    if(username != null) {\n                        timeStamp = new SimpleDateFormat(\"[h:mm:ss] \").format(Calendar.getInstance().getTime());\n                        Server.sendGlobalMessage(timeStamp + username +\": \"+input);\n                    } else {\n                        timeStamp = new SimpleDateFormat(\"[h:mm:ss] \").format(Calendar.getInstance().getTime());\n                        Server.sendGlobalMessage(timeStamp + \"Guest \"+ID+\": \"+input);\n                    }\n                }\n            }\n\n        }catch(IOException e) { e.printStackTrace(); } finally { \n            try{\n                out.close();\n                in.close();\n                socket.close();\n            } catch(IOException e) { e.printStackTrace(); }\n        }\n\n    }\n\n}\n</code></pre>\n\n<p>I haven't touched the code of my Server Thread for a while, since it has always worked up until I made my new client.</p>\n"},{"tags":["java","twilio","sms","twilio-twiml","bulksms"],"answers":[{"comments":[{"owner":{"account_id":5737580,"reputation":724,"user_id":4531180,"display_name":"Nicholas Saunders"},"score":0,"creation_date":1686582505,"post_id":76454274,"comment_id":134814893,"body_markdown":"Not using phone numbers would be like replying to e-mails without using e-mail addresses, would it not?  I&#39;m looking for a link on how to parse a phone number from an incoming request.","body":"Not using phone numbers would be like replying to e-mails without using e-mail addresses, would it not?  I&#39;m looking for a link on how to parse a phone number from an incoming request."},{"owner":{"account_id":4723783,"reputation":2524,"user_id":3821022,"display_name":"IObert"},"score":0,"creation_date":1686597159,"post_id":76454274,"comment_id":134817894,"body_markdown":"No, because Twilio does a lot of footwork for you in the background. So you can rely on the cookie. Or only return TwiML that doesn&#39;t specify a number at all -- at it will still find its way back to the original sender. But it is possible to work with the number if that&#39;s what you want.","body":"No, because Twilio does a lot of footwork for you in the background. So you can rely on the cookie. Or only return TwiML that doesn&#39;t specify a number at all -- at it will still find its way back to the original sender. But it is possible to work with the number if that&#39;s what you want."},{"owner":{"account_id":5737580,"reputation":724,"user_id":4531180,"display_name":"Nicholas Saunders"},"score":0,"creation_date":1686631178,"post_id":76454274,"comment_id":134821632,"body_markdown":"I&#39;m just not understanding why sessions are even being used.  Sessions of what?  That, I suppose, is where I&#39;m confused.  A text message is sent and then replied to, and then maybe that reply is replied to.  Yes, while Twilio employs REST, there are no &quot;sessions&quot; or &quot;cookies&quot; in text messages.","body":"I&#39;m just not understanding why sessions are even being used.  Sessions of what?  That, I suppose, is where I&#39;m confused.  A text message is sent and then replied to, and then maybe that reply is replied to.  Yes, while Twilio employs REST, there are no &quot;sessions&quot; or &quot;cookies&quot; in text messages."},{"owner":{"account_id":4723783,"reputation":2524,"user_id":3821022,"display_name":"IObert"},"score":0,"creation_date":1686638847,"post_id":76454274,"comment_id":134822507,"body_markdown":"Like HTTP is, by nature, a stateless protocol, cookies can help the server to connect all individual request to one session. And similarly, Twilio, connects all messages within this 4-hour window, to one session. This is intended to make your life easier.\nIn some way, you can see Twilio as a technology bridge which converts events from the SMS-protocol to the HTTP-protocol to make it easy for web devs.","body":"Like HTTP is, by nature, a stateless protocol, cookies can help the server to connect all individual request to one session. And similarly, Twilio, connects all messages within this 4-hour window, to one session. This is intended to make your life easier. In some way, you can see Twilio as a technology bridge which converts events from the SMS-protocol to the HTTP-protocol to make it easy for web devs."},{"owner":{"account_id":5737580,"reputation":724,"user_id":4531180,"display_name":"Nicholas Saunders"},"score":0,"creation_date":1686670650,"post_id":76454274,"comment_id":134829623,"body_markdown":"okay, and not to drag this out, but within a four hour window:  would multiple messages from multiple numbers then be grouped under a single session?  Or, would each conversation thread be distinct?","body":"okay, and not to drag this out, but within a four hour window:  would multiple messages from multiple numbers then be grouped under a single session?  Or, would each conversation thread be distinct?"},{"owner":{"account_id":4723783,"reputation":2524,"user_id":3821022,"display_name":"IObert"},"score":0,"creation_date":1686726718,"post_id":76454274,"comment_id":134837036,"body_markdown":"Each thread is distinct :)","body":"Each thread is distinct :)"}],"tags":[],"owner":{"account_id":4723783,"reputation":2524,"user_id":3821022,"display_name":"IObert"},"comment_count":6,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1686638673,"creation_date":1686553532,"answer_id":76454274,"question_id":76446754,"body_markdown":"I&#39;m not sure if I understand this question. This sample code seems to show two different things:\r\n\r\n 1. How to use cookies to keep track of an individual conversation without handling phone numbers. It will use different cookies for different conversations within a certain time window. See:\r\n   &gt; This means you can use server-side sessions to keep track of application state between requests. How cool is that? Twilio will expire the cookies for that conversation after four hours of inactivity, as if the user &quot;closed the browser.&quot;\r\n&gt;\r\n&gt; [Source](https://www.twilio.com/docs/sms/tutorials/how-to-create-sms-conversations-java)\r\n\r\n\r\n 2. How to parse a phone number from an incoming request to do whatever you want programmatically (in this case, reading names from a HashMap).","title":"How to receive and reply to SMS messages with Twilio?","body":"<p>I'm not sure if I understand this question. This sample code seems to show two different things:</p>\n<ol>\n<li>How to use cookies to keep track of an individual conversation without handling phone numbers. It will use different cookies for different conversations within a certain time window. See:</li>\n</ol>\n<blockquote>\n<p>This means you can use server-side sessions to keep track of application state between requests. How cool is that? Twilio will expire the cookies for that conversation after four hours of inactivity, as if the user &quot;closed the browser.&quot;</p>\n<p><a href=\"https://www.twilio.com/docs/sms/tutorials/how-to-create-sms-conversations-java\" rel=\"nofollow noreferrer\">Source</a></p>\n</blockquote>\n<ol start=\"2\">\n<li>How to parse a phone number from an incoming request to do whatever you want programmatically (in this case, reading names from a HashMap).</li>\n</ol>\n"}],"owner":{"account_id":5737580,"reputation":724,"user_id":4531180,"display_name":"Nicholas Saunders"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":130,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686638673,"creation_date":1686409022,"question_id":76446754,"body_markdown":"Example [code][1]:\r\n\r\n\r\n    import java.util.Arrays;\r\n    import java.util.List;\r\n    import com.twilio.Twilio;\r\n    import com.twilio.rest.notify.v1.service.Notification;\r\n    \r\n    public class Example {\r\n      // Find your Account Sid and Token at twilio.com/user/account\r\n      public static final String ACCOUNT_SID = &quot;ACXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX&quot;;\r\n      public static final String AUTH_TOKEN = &quot;your_auth_token&quot;;\r\n    \r\n      public static final String SERVICE_SID = &quot;ISXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX&quot;;\r\n    \r\n      public static void main(String[] args) {\r\n        // Initialize the client\r\n        Twilio.init(ACCOUNT_SID, AUTH_TOKEN);\r\n    \r\n        List&lt;String&gt; toBindings = Arrays.asList(\r\n        &quot;{\\&quot;binding_type\\&quot;:\\&quot;sms\\&quot;,\\&quot;address\\&quot;:\\&quot;+15555555555\\&quot;}&quot;,\r\n        &quot;{\\&quot;binding_type\\&quot;:\\&quot;facebook-messenger\\&quot;,\\&quot;address\\&quot;:\\&quot;123456789123\\&quot;}&quot;);\r\n    \r\n        Notification notification = Notification\r\n            .creator(SERVICE_SID)\r\n            .setBody(&quot;Hello Bob&quot;)\r\n            .setToBinding(toBindings)\r\n            .create();\r\n    \r\n        System.out.println(notification.getSid());\r\n      }\r\n    }\r\n\r\n\r\nWhich is all well and good.  How are message replies [received][2] and tracked?  Furthermore,how are those replies replied to?\r\n\r\nNot looking to make a chat bot but just to send and receive messages in a somewhat threaded fashion.  *Looking to use TwiML and Java.*\r\n\r\n-------------------\r\n\r\nfurther [reading][3] shows:\r\n\r\n\r\n\r\n\r\n    import java.io.IOException;\r\n    import java.util.HashMap;\r\n    \r\n    import javax.servlet.http.HttpServlet;\r\n    import javax.servlet.http.HttpServletRequest;\r\n    import javax.servlet.http.HttpServletResponse;\r\n    import javax.servlet.http.HttpSession;\r\n    \r\n    import com.twilio.twiml.messaging.Body;\r\n    import com.twilio.twiml.messaging.Message;\r\n    import com.twilio.twiml.MessagingResponse;\r\n    import com.twilio.twiml.TwiMLException;\r\n    \r\n    public class TwilioServlet extends HttpServlet {\r\n      public void service(HttpServletRequest request, HttpServletResponse response) throws IOException {\r\n        HttpSession session = request.getSession(true);\r\n        Integer counter = (Integer) session.getAttribute(&quot;counter&quot;);\r\n        if (counter == null) {\r\n          counter = new Integer(0);\r\n        }\r\n    \r\n        /* Increment the counter by one, and store the count in the session. */\r\n        int count = counter.intValue();\r\n        count++;\r\n        session.setAttribute(&quot;counter&quot;, new Integer(count));\r\n    \r\n        // Create a dict of people we know.\r\n        HashMap&lt;String, String&gt; callers = new HashMap&lt;String, String&gt;();\r\n        callers.put(&quot;+14158675308&quot;, &quot;Rey&quot;);\r\n        callers.put(&quot;+12349013030&quot;, &quot;Finn&quot;);\r\n        callers.put(&quot;+12348134522&quot;, &quot;Chewy&quot;);\r\n    \r\n        String fromNumber = request.getParameter(&quot;From&quot;);\r\n        String toNumber = request.getParameter(&quot;To&quot;);\r\n        String fromName = callers.get(fromNumber);\r\n        if (fromName == null) {\r\n          // Use the caller&#39;s name\r\n          fromName = &quot;Friend&quot;;\r\n        }\r\n    \r\n        String message =\r\n            fromName + &quot; has messaged &quot; + toNumber + &quot; &quot; + String.valueOf(count) + &quot; times.&quot;;\r\n    \r\n        // Create a TwiML response and add our friendly message.\r\n        Message sms = new Message.Builder().body(new Body(message)).build();\r\n        MessagingResponse twimlResponse = new MessagingResponse.Builder().message(sms).build();\r\n    \r\n        response.setContentType(&quot;application/xml&quot;);\r\n    \r\n        try {\r\n          response.getWriter().print(twimlResponse.toXml());\r\n        } catch (TwiMLException e) {\r\n          e.printStackTrace();\r\n        }\r\n      }\r\n    }\r\n\r\n\r\nWhich is all well and good...but why use cookies at all?  Because each SMS comes from a specific number why not track messages by their phone number?\r\n\r\nI must be asking the wrong question, or asking the question the wrong way, because the above code isn&#39;t using phone numbers to track conversations.\r\n\r\nWith e-mail, for example, conversations or threads aren&#39;t tracked or managed with cookies but by who sent the message.  The header.  With SMS the equivalent would be the phone number.\r\n\r\nLooking for a high level explanation for why cookies are being used and why phone numbers **aren&#39;t** being used.\r\n\r\n\r\n  [1]: https://stackoverflow.com/q/66482220/4531180\r\n  [2]: https://stackoverflow.com/q/73638256/4531180\r\n  [3]: https://%20https://www.twilio.com/docs/sms/tutorials/how-to-create-sms-conversations-java","title":"How to receive and reply to SMS messages with Twilio?","body":"<p>Example <a href=\"https://stackoverflow.com/q/66482220/4531180\">code</a>:</p>\n<pre><code>import java.util.Arrays;\nimport java.util.List;\nimport com.twilio.Twilio;\nimport com.twilio.rest.notify.v1.service.Notification;\n\npublic class Example {\n  // Find your Account Sid and Token at twilio.com/user/account\n  public static final String ACCOUNT_SID = &quot;ACXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX&quot;;\n  public static final String AUTH_TOKEN = &quot;your_auth_token&quot;;\n\n  public static final String SERVICE_SID = &quot;ISXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX&quot;;\n\n  public static void main(String[] args) {\n    // Initialize the client\n    Twilio.init(ACCOUNT_SID, AUTH_TOKEN);\n\n    List&lt;String&gt; toBindings = Arrays.asList(\n    &quot;{\\&quot;binding_type\\&quot;:\\&quot;sms\\&quot;,\\&quot;address\\&quot;:\\&quot;+15555555555\\&quot;}&quot;,\n    &quot;{\\&quot;binding_type\\&quot;:\\&quot;facebook-messenger\\&quot;,\\&quot;address\\&quot;:\\&quot;123456789123\\&quot;}&quot;);\n\n    Notification notification = Notification\n        .creator(SERVICE_SID)\n        .setBody(&quot;Hello Bob&quot;)\n        .setToBinding(toBindings)\n        .create();\n\n    System.out.println(notification.getSid());\n  }\n}\n</code></pre>\n<p>Which is all well and good.  How are message replies <a href=\"https://stackoverflow.com/q/73638256/4531180\">received</a> and tracked?  Furthermore,how are those replies replied to?</p>\n<p>Not looking to make a chat bot but just to send and receive messages in a somewhat threaded fashion.  <em>Looking to use TwiML and Java.</em></p>\n<hr />\n<p>further <a href=\"https://%20https://www.twilio.com/docs/sms/tutorials/how-to-create-sms-conversations-java\" rel=\"nofollow noreferrer\">reading</a> shows:</p>\n<pre><code>import java.io.IOException;\nimport java.util.HashMap;\n\nimport javax.servlet.http.HttpServlet;\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletResponse;\nimport javax.servlet.http.HttpSession;\n\nimport com.twilio.twiml.messaging.Body;\nimport com.twilio.twiml.messaging.Message;\nimport com.twilio.twiml.MessagingResponse;\nimport com.twilio.twiml.TwiMLException;\n\npublic class TwilioServlet extends HttpServlet {\n  public void service(HttpServletRequest request, HttpServletResponse response) throws IOException {\n    HttpSession session = request.getSession(true);\n    Integer counter = (Integer) session.getAttribute(&quot;counter&quot;);\n    if (counter == null) {\n      counter = new Integer(0);\n    }\n\n    /* Increment the counter by one, and store the count in the session. */\n    int count = counter.intValue();\n    count++;\n    session.setAttribute(&quot;counter&quot;, new Integer(count));\n\n    // Create a dict of people we know.\n    HashMap&lt;String, String&gt; callers = new HashMap&lt;String, String&gt;();\n    callers.put(&quot;+14158675308&quot;, &quot;Rey&quot;);\n    callers.put(&quot;+12349013030&quot;, &quot;Finn&quot;);\n    callers.put(&quot;+12348134522&quot;, &quot;Chewy&quot;);\n\n    String fromNumber = request.getParameter(&quot;From&quot;);\n    String toNumber = request.getParameter(&quot;To&quot;);\n    String fromName = callers.get(fromNumber);\n    if (fromName == null) {\n      // Use the caller's name\n      fromName = &quot;Friend&quot;;\n    }\n\n    String message =\n        fromName + &quot; has messaged &quot; + toNumber + &quot; &quot; + String.valueOf(count) + &quot; times.&quot;;\n\n    // Create a TwiML response and add our friendly message.\n    Message sms = new Message.Builder().body(new Body(message)).build();\n    MessagingResponse twimlResponse = new MessagingResponse.Builder().message(sms).build();\n\n    response.setContentType(&quot;application/xml&quot;);\n\n    try {\n      response.getWriter().print(twimlResponse.toXml());\n    } catch (TwiMLException e) {\n      e.printStackTrace();\n    }\n  }\n}\n</code></pre>\n<p>Which is all well and good...but why use cookies at all?  Because each SMS comes from a specific number why not track messages by their phone number?</p>\n<p>I must be asking the wrong question, or asking the question the wrong way, because the above code isn't using phone numbers to track conversations.</p>\n<p>With e-mail, for example, conversations or threads aren't tracked or managed with cookies but by who sent the message.  The header.  With SMS the equivalent would be the phone number.</p>\n<p>Looking for a high level explanation for why cookies are being used and why phone numbers <strong>aren't</strong> being used.</p>\n"},{"tags":["java","spring","spring-mvc","hashmap"],"comments":[{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1686555732,"post_id":76454368,"comment_id":134808903,"body_markdown":"`if (ids == null || ids.isEmpty()) ids = Map.of(&quot;foo&quot;, &quot;bar&quot;); return ids; `!?","body":"<code>if (ids == null || ids.isEmpty()) ids = Map.of(&quot;foo&quot;, &quot;bar&quot;); return ids; </code>!?"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1686555822,"post_id":76454368,"comment_id":134808918,"body_markdown":"but +1 for (ease&amp;pragmatism) doing &quot;(sort of) json in properties&quot; ! :)","body":"but +1 for (ease&amp;pragmatism) doing &quot;(sort of) json in properties&quot; ! :)"}],"answers":[{"comments":[{"owner":{"account_id":6364484,"reputation":534,"user_id":4938849,"display_name":"Remo"},"score":0,"creation_date":1686555509,"post_id":76454463,"comment_id":134808868,"body_markdown":"```test.feature={UPPER:{id:&#39;54&#39;}}``` it&#39;s working perfectly. I want to specify default value if property not configured.","body":"<code>test.feature={UPPER:{id:&#39;54&#39;}}</code> it&#39;s working perfectly. I want to specify default value if property not configured."},{"owner":{"account_id":27780880,"reputation":47,"user_id":21209255,"display_name":"Muhammadqodir Muhsinov"},"score":0,"creation_date":1686555829,"post_id":76454463,"comment_id":134808921,"body_markdown":"In this case, try this:\n\n`@Bean\npublic Map&lt;String, Map&lt;String, String&gt;&gt; test(\n    @Value(&quot;#{${test.feature:#{T(java.util.Collections).emptyMap()}}}&quot;)\n    Map&lt;String, Map&lt;String, String&gt;&gt; ids) {\n\n    return ids;\n}`","body":"In this case, try this:  <code>@Bean public Map&lt;String, Map&lt;String, String&gt;&gt; test(     @Value(&quot;#{${test.feature:#{T(java.util.Collections).emptyMap&zwnj;&#8203;()}}}&quot;)     Map&lt;String, Map&lt;String, String&gt;&gt; ids) {      return ids; }</code>"}],"tags":[],"owner":{"account_id":27780880,"reputation":47,"user_id":21209255,"display_name":"Muhammadqodir Muhsinov"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686555211,"creation_date":1686555211,"answer_id":76454463,"question_id":76454368,"body_markdown":"**1. This is how you can define map in .properties file**\r\n\r\n    myMap.key1 = value1\r\n\r\n    myMap.key2 = value2\r\n\r\n    myMap.key3 = value3\r\n\r\n**2. And how to deal with nested map:**\r\n\r\n    nestedMap.key1.nestedKey1=nestedValue1\r\n\r\n    nestedMap.key1.nestedKey2=nestedValue2\r\n\r\n    nestedMap.key2.nestedKey3=nestedValue3\r\n\r\n    nestedMap.key2.nestedKey4=nestedValue4","title":"How to set default value for Map in spring @Value?","body":"<p><strong>1. This is how you can define map in .properties file</strong></p>\n<pre><code>myMap.key1 = value1\n\nmyMap.key2 = value2\n\nmyMap.key3 = value3\n</code></pre>\n<p><strong>2. And how to deal with nested map:</strong></p>\n<pre><code>nestedMap.key1.nestedKey1=nestedValue1\n\nnestedMap.key1.nestedKey2=nestedValue2\n\nnestedMap.key2.nestedKey3=nestedValue3\n\nnestedMap.key2.nestedKey4=nestedValue4\n</code></pre>\n"},{"comments":[{"owner":{"account_id":15718721,"reputation":988,"user_id":11342225,"display_name":"alea"},"score":0,"creation_date":1686584602,"post_id":76454495,"comment_id":134815407,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/76454495/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":10624733,"reputation":11,"user_id":7824699,"display_name":"é±åä¼"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1686638558,"creation_date":1686555608,"answer_id":76454495,"question_id":76454368,"body_markdown":"   If the map is not empty, it can be written as follows:\r\n\r\n    @Value(&quot;#{${populate.map:{&#39;k1&#39;:&#39;v1&#39;,&#39;k2&#39;:&#39;v2&#39;}}}&quot;)  // result is {&quot;k1&quot;:&quot;v1&quot;,&quot;k2&quot;:&quot;v2&quot;}\r\n    private Map&lt;String, String&gt; map3;\r\n\r\nor:\r\n\r\n    @Value(&quot;#{${test.feature:{k1:{nk1:&#39;v1&#39;}}}}&quot;) Map&lt;String,Map&lt;String,String&gt;&gt; map\r\n\r\notherwise:\r\n\r\n    @Value(&quot;#{${test.feature:{T(java.util.Collections).emptyMap()}}}&quot;) Map&lt;String, String&gt; map3\r\n\r\n","title":"How to set default value for Map in spring @Value?","body":"<p>If the map is not empty, it can be written as follows:</p>\n<pre><code>@Value(&quot;#{${populate.map:{'k1':'v1','k2':'v2'}}}&quot;)  // result is {&quot;k1&quot;:&quot;v1&quot;,&quot;k2&quot;:&quot;v2&quot;}\nprivate Map&lt;String, String&gt; map3;\n</code></pre>\n<p>or:</p>\n<pre><code>@Value(&quot;#{${test.feature:{k1:{nk1:'v1'}}}}&quot;) Map&lt;String,Map&lt;String,String&gt;&gt; map\n</code></pre>\n<p>otherwise:</p>\n<pre><code>@Value(&quot;#{${test.feature:{T(java.util.Collections).emptyMap()}}}&quot;) Map&lt;String, String&gt; map3\n</code></pre>\n"},{"comments":[{"owner":{"account_id":6364484,"reputation":534,"user_id":4938849,"display_name":"Remo"},"score":0,"creation_date":1686583960,"post_id":76454813,"comment_id":134815242,"body_markdown":"If I am using this approach, getting IllegalStateException: Cannot convert value of type &#39;java.util.ArrayList&#39; to required type &#39;java.util.Map&#39;: no matching editors or conversion strategy found.","body":"If I am using this approach, getting IllegalStateException: Cannot convert value of type &#39;java.util.ArrayList&#39; to required type &#39;java.util.Map&#39;: no matching editors or conversion strategy found."},{"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1686587829,"post_id":76454813,"comment_id":134816126,"body_markdown":"I see. This could be related to Spring version. I have tested with String Boot 3.1.0","body":"I see. This could be related to Spring version. I have tested with String Boot 3.1.0"}],"tags":[],"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686558593,"creation_date":1686558593,"answer_id":76454813,"question_id":76454368,"body_markdown":"I have tested and this works as you wanted it:\r\n\r\n    @Value(&quot;#{${test.feature:{T(java.util.Collections).emptyMap()}}}&quot;)\r\n    Map&lt;String, Map&lt;String, String&gt;&gt; ids) {\r\n    return ids;\r\n","title":"How to set default value for Map in spring @Value?","body":"<p>I have tested and this works as you wanted it:</p>\n<pre><code>@Value(&quot;#{${test.feature:{T(java.util.Collections).emptyMap()}}}&quot;)\nMap&lt;String, Map&lt;String, String&gt;&gt; ids) {\nreturn ids;\n</code></pre>\n"}],"owner":{"account_id":6364484,"reputation":534,"user_id":4938849,"display_name":"Remo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":518,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1686638558,"creation_date":1686554500,"question_id":76454368,"body_markdown":"I am having below property in properties file \r\n\r\n```\r\ntest.feature={UPPER:{id:&#39;54&#39;}}\r\n```\r\nBelow is the bean I am tying to get the value from properties file.\r\n```\r\n    @Bean\r\n    public Map&lt;String, Map&lt;String, String&gt;&gt; test(\r\n        @Value(&quot;#{${test.feature}}&quot;)\r\n        Map&lt;String, Map&lt;String, String&gt;&gt; ids) {\r\n\r\n        return ids;\r\n    }\r\n```\r\n\r\nIt&#39;s working fine. But if we not configure the property, want to set the default value.\r\n\r\nI tried in different ways but nothing helps.\r\n\r\n```\r\n@Value(&quot;#{${test.feature:{T(java.util.Collections).emptyMap()}}}&quot;)\r\ngetting IllegalStateException: Cannot convert value of type &#39;java.util.ArrayList&#39; to required type &#39;java.util.Map&#39;: no matching editors or conversion strategy found. \r\n\r\n@Value(&quot;#{${test.feature} ?: { : }}&quot;)\r\n\r\n@Value(&quot;#{${test.feature:}}&quot;)\r\n```\r\nI have tried above ways but nothing helps.\r\n\r\nNote: I&#39;m using spring 5.x and not in spring boot.\r\n\r\nHow to fix this?","title":"How to set default value for Map in spring @Value?","body":"<p>I am having below property in properties file</p>\n<pre><code>test.feature={UPPER:{id:'54'}}\n</code></pre>\n<p>Below is the bean I am tying to get the value from properties file.</p>\n<pre><code>    @Bean\n    public Map&lt;String, Map&lt;String, String&gt;&gt; test(\n        @Value(&quot;#{${test.feature}}&quot;)\n        Map&lt;String, Map&lt;String, String&gt;&gt; ids) {\n\n        return ids;\n    }\n</code></pre>\n<p>It's working fine. But if we not configure the property, want to set the default value.</p>\n<p>I tried in different ways but nothing helps.</p>\n<pre><code>@Value(&quot;#{${test.feature:{T(java.util.Collections).emptyMap()}}}&quot;)\ngetting IllegalStateException: Cannot convert value of type 'java.util.ArrayList' to required type 'java.util.Map': no matching editors or conversion strategy found. \n\n@Value(&quot;#{${test.feature} ?: { : }}&quot;)\n\n@Value(&quot;#{${test.feature:}}&quot;)\n</code></pre>\n<p>I have tried above ways but nothing helps.</p>\n<p>Note: I'm using spring 5.x and not in spring boot.</p>\n<p>How to fix this?</p>\n"},{"tags":["java","vaadin","crud"],"comments":[{"owner":{"account_id":3837378,"reputation":35488,"user_id":3181392,"display_name":"cfrick"},"score":0,"creation_date":1686577261,"post_id":76457133,"comment_id":134813575,"body_markdown":"Please provide\na [MRE](https://stackoverflow.com/help/minimal-reproducible-example)","body":"Please provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">MRE</a>"},{"owner":{"account_id":12280349,"reputation":10212,"user_id":8962195,"display_name":"Tatu Lund"},"score":0,"creation_date":1686636548,"post_id":76457133,"comment_id":134822148,"body_markdown":"Are you using Binder to validate the form? If so, the saving should not be possible if there is a validation error.","body":"Are you using Binder to validate the form? If so, the saving should not be possible if there is a validation error."},{"owner":{"account_id":8619641,"reputation":23,"user_id":6455058,"display_name":"Muhammet Kurt"},"score":0,"creation_date":1686638655,"post_id":76457133,"comment_id":134822459,"body_markdown":"I&#39;ve added my createEditor method which includes binder. I want to show a warning message if carrierDragDrop has no value. carrierDragDrop is a custom-made class and I&#39;m checking its value in crud&#39;s saveListener.","body":"I&#39;ve added my createEditor method which includes binder. I want to show a warning message if carrierDragDrop has no value. carrierDragDrop is a custom-made class and I&#39;m checking its value in crud&#39;s saveListener."}],"owner":{"account_id":8619641,"reputation":23,"user_id":6455058,"display_name":"Muhammet Kurt"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686638462,"creation_date":1686576328,"question_id":76457133,"body_markdown":"I created vaadin crud component and its editor. When user clicks the row, editor opens automatically. Then if user makes change and clicks save, editor window closes automatically. Everything is fine until now, but if user makes some wrong changes, I&#39;m showing vaadins warning message and editor still closes automatically. I just want to make crud editor remain on screen only if warning message created. \r\n\r\nI couldn&#39;t find any solution on vaadin&#39;s documentation. By the way, I have created my own enhanced crud object which extends crud object.\r\nMy crud&#39;s save listener runs a method and the method doesn&#39;t return any value. Editor always closes once the below method is run. \r\n\r\nMy vaadin version: 14\r\n\r\n    private BinderCrudEditor&lt;Account&gt; createEditor() {\r\n    \tTextField nameField = new TextField(&quot;Test textfield&quot;);\r\n    \tnameField.setWidth(&quot;300px&quot;);\r\n    \tCheckbox disableField = new Checkbox(&quot;Disable&quot;);\r\n    \tcarrierDragDrop = new CarrierDragDrop(getParameters());\r\n    \tcarrierDragDrop.setReadOnly(isReadOnly());\r\n    \r\n    \tBinder&lt;Account&gt; binder = new Binder&lt;&gt;(Account.class);\r\n    \tbinder.forField(nameField).asRequired(&quot;message1&quot;).withValidator(this::validateForSameNameCarrier, &quot;message2&quot;)\r\n    \t\t\t.withValidator(this::validateForSameNameRoutingClass, &quot;message3&quot;)\r\n    \t\t\t.withValidator(this::validateForSameNameAccounts, &quot;message4&quot;).bind(Account::getName, Account::setName);\r\n    \tbinder.forField(disableField).bind(account -&gt; !account.isActive(), (account, disable) -&gt; account.setActive(!disable));\r\n    \tcarrierDragDrop.setValueChangeListener(event -&gt; {\r\n    \t\tif (event.isFromClient()) {\r\n    \t\t\tcrud.setDirty(true);\r\n    \t\t}\r\n    \t});\r\n    \r\n    \tMixedVerticalLayout layout = new MixedVerticalLayout();\r\n    \tlayout.getRoot(false).add(nameField, carrierDragDrop, disableField);\r\n    \treturn new BinderCrudEditor&lt;&gt;(binder, layout);\r\n    }\r\n\r\n","title":"How to make Vaadin Crud Editor window remain on screen once save is clicked?","body":"<p>I created vaadin crud component and its editor. When user clicks the row, editor opens automatically. Then if user makes change and clicks save, editor window closes automatically. Everything is fine until now, but if user makes some wrong changes, I'm showing vaadins warning message and editor still closes automatically. I just want to make crud editor remain on screen only if warning message created.</p>\n<p>I couldn't find any solution on vaadin's documentation. By the way, I have created my own enhanced crud object which extends crud object.\nMy crud's save listener runs a method and the method doesn't return any value. Editor always closes once the below method is run.</p>\n<p>My vaadin version: 14</p>\n<pre><code>private BinderCrudEditor&lt;Account&gt; createEditor() {\n    TextField nameField = new TextField(&quot;Test textfield&quot;);\n    nameField.setWidth(&quot;300px&quot;);\n    Checkbox disableField = new Checkbox(&quot;Disable&quot;);\n    carrierDragDrop = new CarrierDragDrop(getParameters());\n    carrierDragDrop.setReadOnly(isReadOnly());\n\n    Binder&lt;Account&gt; binder = new Binder&lt;&gt;(Account.class);\n    binder.forField(nameField).asRequired(&quot;message1&quot;).withValidator(this::validateForSameNameCarrier, &quot;message2&quot;)\n            .withValidator(this::validateForSameNameRoutingClass, &quot;message3&quot;)\n            .withValidator(this::validateForSameNameAccounts, &quot;message4&quot;).bind(Account::getName, Account::setName);\n    binder.forField(disableField).bind(account -&gt; !account.isActive(), (account, disable) -&gt; account.setActive(!disable));\n    carrierDragDrop.setValueChangeListener(event -&gt; {\n        if (event.isFromClient()) {\n            crud.setDirty(true);\n        }\n    });\n\n    MixedVerticalLayout layout = new MixedVerticalLayout();\n    layout.getRoot(false).add(nameField, carrierDragDrop, disableField);\n    return new BinderCrudEditor&lt;&gt;(binder, layout);\n}\n</code></pre>\n"},{"tags":["java","java-8","java-stream","map-function"],"comments":[{"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"score":2,"creation_date":1435303341,"post_id":31058755,"comment_id":50154064,"body_markdown":"or `.map(this::maybeReturnsNull).map(Optional::ofNullable).map(o -&gt; o.orElse(defaultValue))`","body":"or <code>.map(this::maybeReturnsNull).map(Optional::ofNullable).map(o -&gt; o.orElse(defaultValue))</code>"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":4,"creation_date":1435310185,"post_id":31058755,"comment_id":50157979,"body_markdown":"@assylias: even if it doesnât make a difference in performance, I think a single `.map(x -&gt; Optional.ofNullable(maybeReturnsNull(x)).orElse(defaultValue))` should be preferred over three mapping steps here. But well, itâs still a matter of tasteâ¦","body":"@assylias: even if it doesnât make a difference in performance, I think a single <code>.map(x -&gt; Optional.ofNullable(maybeReturnsNull(x)).orElse(defaultValue&zwnj;&#8203;))</code> should be preferred over three mapping steps here. But well, itâs still a matter of tasteâ¦"}],"answers":[{"tags":[],"owner":{"account_id":1416522,"reputation":91364,"user_id":3553087,"display_name":"Brian Goetz"},"comment_count":0,"down_vote_count":0,"up_vote_count":29,"is_accepted":true,"score":29,"last_activity_date":1435260164,"creation_date":1435260164,"answer_id":31059039,"question_id":31058755,"body_markdown":"Either is fine.  Pick the one that seems more readable to you.  If the calculation naturally decomposes, as this one does, then the multiple maps is probably more readable.  Some calculations won&#39;t naturally decompose, in which case you&#39;re stuck at the former.  In neither case should you be worrying that one is significantly more performant than the other; that&#39;s largely a non-consideration.","title":"Using multiple map functions vs. a block statement in a map in a java stream","body":"<p>Either is fine.  Pick the one that seems more readable to you.  If the calculation naturally decomposes, as this one does, then the multiple maps is probably more readable.  Some calculations won't naturally decompose, in which case you're stuck at the former.  In neither case should you be worrying that one is significantly more performant than the other; that's largely a non-consideration.</p>\n"},{"tags":[],"owner":{"account_id":2444028,"reputation":3478,"user_id":2131816,"display_name":"Arun Pratap Singh"},"comment_count":0,"down_vote_count":5,"up_vote_count":1,"is_accepted":false,"score":-4,"last_activity_date":1435286559,"creation_date":1435286559,"answer_id":31064004,"question_id":31058755,"body_markdown":"java has provided a dedicated API to handle with &quot;null&quot;.\r\n\r\nhttps://docs.oracle.com/javase/8/docs/api/java/util/Optional.html\r\n\r\n","title":"Using multiple map functions vs. a block statement in a map in a java stream","body":"<p>java has provided a dedicated API to handle with \"null\".</p>\n\n<p><a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Optional.html\" rel=\"nofollow\">https://docs.oracle.com/javase/8/docs/api/java/util/Optional.html</a></p>\n"},{"tags":[],"owner":{"account_id":27532212,"reputation":1,"user_id":21010529,"display_name":"Mohammed Yaseen M"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686637649,"creation_date":1686637649,"answer_id":76462178,"question_id":31058755,"body_markdown":"use filter before map.\r\n\r\n    data.stream().filter(Objects::nonNull).\r\n        .map(x -&gt; x*x)\r\n    \r\n    filter(Objects::nonNull) try this instead .","title":"Using multiple map functions vs. a block statement in a map in a java stream","body":"<p>use filter before map.</p>\n<pre><code>data.stream().filter(Objects::nonNull).\n    .map(x -&gt; x*x)\n\nfilter(Objects::nonNull) try this instead .\n</code></pre>\n"}],"owner":{"account_id":1484336,"reputation":2037,"user_id":1392894,"accept_rate":61,"display_name":"Brian Ecker"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30815,"favorite_count":0,"down_vote_count":0,"up_vote_count":35,"accepted_answer_id":31059039,"answer_count":3,"score":35,"last_activity_date":1686637649,"creation_date":1435259207,"question_id":31058755,"body_markdown":"Say I have the following code\r\n\r\n    data.stream()\r\n        .map(x -&gt; {\r\n            Object a = maybeReturnsNull(x);\r\n            return a == null ? defaultValue : a;\r\n        })\r\n\r\nI have some function that might be returning `null`, and I&#39;m applying it to an element of the stream. I then want to make sure that any `null` results get changed to some default value instead. Is there any significant difference between using two maps as in the following example, as compared to using the previous example that defines a helper variable `a` and uses a code block in the lambda expression? \r\n\r\n    data.stream()\r\n        .map(x -&gt; maybeReturnsNull(x))\r\n        .map(x -&gt; x == null ? defaultValue : x)\r\n\r\nIs there a standard on where or not to avoid using block statements with lambda functions? ","title":"Using multiple map functions vs. a block statement in a map in a java stream","body":"<p>Say I have the following code</p>\n\n<pre><code>data.stream()\n    .map(x -&gt; {\n        Object a = maybeReturnsNull(x);\n        return a == null ? defaultValue : a;\n    })\n</code></pre>\n\n<p>I have some function that might be returning <code>null</code>, and I'm applying it to an element of the stream. I then want to make sure that any <code>null</code> results get changed to some default value instead. Is there any significant difference between using two maps as in the following example, as compared to using the previous example that defines a helper variable <code>a</code> and uses a code block in the lambda expression? </p>\n\n<pre><code>data.stream()\n    .map(x -&gt; maybeReturnsNull(x))\n    .map(x -&gt; x == null ? defaultValue : x)\n</code></pre>\n\n<p>Is there a standard on where or not to avoid using block statements with lambda functions? </p>\n"},{"tags":["java","json","string"],"comments":[{"owner":{"account_id":20374110,"reputation":4203,"user_id":14945696,"display_name":"Ghost"},"score":0,"creation_date":1686626242,"post_id":76461479,"comment_id":134821239,"body_markdown":"Do you want `body=registration, done, successful` using Java?","body":"Do you want <code>body=registration, done, successful</code> using Java?"},{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":1,"creation_date":1686626526,"post_id":76461479,"comment_id":134821257,"body_markdown":"The string doesn&#39;t contain a valid JSON document. The syntax is wrong.","body":"The string doesn&#39;t contain a valid JSON document. The syntax is wrong."},{"owner":{"account_id":9108841,"reputation":189,"user_id":6778300,"display_name":"DeepakVerma"},"score":0,"creation_date":1686627545,"post_id":76461479,"comment_id":134821341,"body_markdown":"@KevinM.Mansour, Instead of this output: {&quot;items&quot;:[{&quot;id&quot;:1647,&quot;address&quot;:&quot;sample&quot;,&quot;person&quot;:null,&quot;date&quot;:1686616249817,&quot;read&quot;:0,&quot;status&quot;:-1,&quot;type&quot;:1,&quot;subject&quot;:null,&quot;body&quot;:&quot;registration done successful&quot;,&quot;click on this to know more, serviceCenter&quot;:&quot;+910000000000&quot;}],\nI want  {&quot;items&quot;:[{&quot;id&quot;:1647,&quot;address&quot;:&quot;sample&quot;,&quot;person&quot;:null,&quot;date&quot;:1686616249817,&quot;read&quot;:0,&quot;status&quot;:-1,&quot;type&quot;:1,&quot;subject&quot;:null,&quot;body&quot;:&quot;registration done successful,click on this to know more&quot;, &quot;serviceCenter&quot;:&quot;+910000000000&quot;}],&quot;total&quot;:1570}","body":"@KevinM.Mansour, Instead of this output: {&quot;items&quot;:[{&quot;id&quot;:1647,&quot;address&quot;:&quot;sample&quot;,&quot;person&quot;:null,&quot;date&quot;&zwnj;&#8203;:1686616249817,&quot;read&zwnj;&#8203;&quot;:0,&quot;status&quot;:-1,&quot;typ&zwnj;&#8203;e&quot;:1,&quot;subject&quot;:null,&zwnj;&#8203;&quot;body&quot;:&quot;registration done successful&quot;,&quot;click on this to know more, serviceCenter&quot;:&quot;+910000000000&quot;}], I want  {&quot;items&quot;:[{&quot;id&quot;:1647,&quot;address&quot;:&quot;sample&quot;,&quot;person&quot;:null,&quot;date&quot;&zwnj;&#8203;:1686616249817,&quot;read&zwnj;&#8203;&quot;:0,&quot;status&quot;:-1,&quot;typ&zwnj;&#8203;e&quot;:1,&quot;subject&quot;:null,&zwnj;&#8203;&quot;body&quot;:&quot;registration done successful,click on this to know more&quot;, &quot;serviceCenter&quot;:&quot;+910000000000&quot;}],&quot;total&quot;:1570}"}],"answers":[{"tags":[],"owner":{"account_id":21741636,"reputation":1162,"user_id":16048914,"display_name":"David Weber"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686637606,"creation_date":1686637292,"answer_id":76462147,"question_id":76461479,"body_markdown":"You could try this:\r\n\r\n    String strJSON = &quot;{items=[\r\n    {id=1647, \r\n    address=sample, \r\n    person=null, \r\n    date=1686616249817, \r\n    read=0, \r\n    status=-1, \r\n    type=1, \r\n    subject=null, \r\n    body=\\&quot;registration done successful, click on this to know more\\&quot;, \r\n    serviceCenter=+910000000000}], \r\n    total=1570}&quot;\r\n    .replaceAll(&quot;=&quot;,&quot;:&quot;);\r\n\r\n \r\n\r\n    System.out.println(JsonPath.parse(strJSON).jsonString())\r\n\r\nYou need to escape the double quotes. \r\nPersonal Tip: Check Out the json Syntax, this Takes ~60 minutes. :)\r\nHere is a nice short article:\r\nhttps://www.tutorialspoint.com/json/json_syntax.htm\r\n\r\nIn general, you must put Strings between doublequotes in Json. The comma is used to split the member fields, like parameters in Java methods. \r\nAnd because you are in a String already, you need to escape the doublequotes.","title":"how to convert string to json having comma in value","body":"<p>You could try this:</p>\n<pre><code>String strJSON = &quot;{items=[\n{id=1647, \naddress=sample, \nperson=null, \ndate=1686616249817, \nread=0, \nstatus=-1, \ntype=1, \nsubject=null, \nbody=\\&quot;registration done successful, click on this to know more\\&quot;, \nserviceCenter=+910000000000}], \ntotal=1570}&quot;\n.replaceAll(&quot;=&quot;,&quot;:&quot;);\n\n\n\nSystem.out.println(JsonPath.parse(strJSON).jsonString())\n</code></pre>\n<p>You need to escape the double quotes.\nPersonal Tip: Check Out the json Syntax, this Takes ~60 minutes. :)\nHere is a nice short article:\n<a href=\"https://www.tutorialspoint.com/json/json_syntax.htm\" rel=\"nofollow noreferrer\">https://www.tutorialspoint.com/json/json_syntax.htm</a></p>\n<p>In general, you must put Strings between doublequotes in Json. The comma is used to split the member fields, like parameters in Java methods.\nAnd because you are in a String already, you need to escape the doublequotes.</p>\n"}],"owner":{"account_id":9108841,"reputation":189,"user_id":6778300,"display_name":"DeepakVerma"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686637606,"creation_date":1686626040,"question_id":76461479,"body_markdown":"    import com.jayway.jsonpath.JsonPath;\r\n    \r\n     String strJSON = &quot;{items=[{id=1647, address=sample, person=null, date=1686616249817, read=0, status=-1, type=1, subject=null, body=registration done successful, click on this to know more, serviceCenter=+910000000000}], total=1570}&quot;.replaceAll(&quot;=&quot;,&quot;:&quot;);\r\n     System.out.println(JsonPath.parse(strJSON).jsonString());\r\n\r\nIn above sample key &quot;body &quot; value have comma\r\n\r\nInstead of this output: \r\n\r\n    {&quot;items&quot;:[{&quot;id&quot;:1647,&quot;address&quot;:&quot;sample&quot;,&quot;person&quot;:null,&quot;date&quot;:1686616249817,&quot;read&quot;:0,&quot;status&quot;:-1,&quot;type&quot;:1,&quot;subject&quot;:null,&quot;body&quot;:&quot;registration done successful&quot;,&quot;click on this to know more, serviceCenter&quot;:&quot;+910000000000&quot;}],&quot;total&quot;:1570}\r\n\r\nI want output to be \r\n\r\n    {&quot;items&quot;:[{&quot;id&quot;:1647,&quot;address&quot;:&quot;sample&quot;,&quot;person&quot;:null,&quot;date&quot;:1686616249817,&quot;read&quot;:0,&quot;status&quot;:-1,&quot;type&quot;:1,&quot;subject&quot;:null,&quot;body&quot;:&quot;registration done successful,click on this to know more&quot;, &quot;serviceCenter&quot;:&quot;+910000000000&quot;}],&quot;total&quot;:1570}","title":"how to convert string to json having comma in value","body":"<pre><code>import com.jayway.jsonpath.JsonPath;\n\n String strJSON = &quot;{items=[{id=1647, address=sample, person=null, date=1686616249817, read=0, status=-1, type=1, subject=null, body=registration done successful, click on this to know more, serviceCenter=+910000000000}], total=1570}&quot;.replaceAll(&quot;=&quot;,&quot;:&quot;);\n System.out.println(JsonPath.parse(strJSON).jsonString());\n</code></pre>\n<p>In above sample key &quot;body &quot; value have comma</p>\n<p>Instead of this output:</p>\n<pre><code>{&quot;items&quot;:[{&quot;id&quot;:1647,&quot;address&quot;:&quot;sample&quot;,&quot;person&quot;:null,&quot;date&quot;:1686616249817,&quot;read&quot;:0,&quot;status&quot;:-1,&quot;type&quot;:1,&quot;subject&quot;:null,&quot;body&quot;:&quot;registration done successful&quot;,&quot;click on this to know more, serviceCenter&quot;:&quot;+910000000000&quot;}],&quot;total&quot;:1570}\n</code></pre>\n<p>I want output to be</p>\n<pre><code>{&quot;items&quot;:[{&quot;id&quot;:1647,&quot;address&quot;:&quot;sample&quot;,&quot;person&quot;:null,&quot;date&quot;:1686616249817,&quot;read&quot;:0,&quot;status&quot;:-1,&quot;type&quot;:1,&quot;subject&quot;:null,&quot;body&quot;:&quot;registration done successful,click on this to know more&quot;, &quot;serviceCenter&quot;:&quot;+910000000000&quot;}],&quot;total&quot;:1570}\n</code></pre>\n"},{"tags":["java","mysql","spring-boot","date"],"comments":[{"owner":{"account_id":12037792,"reputation":1783,"user_id":8805742,"display_name":"mahfuj asif"},"score":0,"creation_date":1686637130,"post_id":76462029,"comment_id":134822230,"body_markdown":"Can you provide the entity? Are you using any custom Serializer/Deserializer class?","body":"Can you provide the entity? Are you using any custom Serializer/Deserializer class?"},{"owner":{"account_id":28189145,"reputation":1,"user_id":21544824,"display_name":"Kalaiselvan K"},"score":1,"creation_date":1686637482,"post_id":76462029,"comment_id":134822276,"body_markdown":"@mahfujasif edited the question and added entity class","body":"@mahfujasif edited the question and added entity class"},{"owner":{"account_id":1674328,"reputation":2652,"user_id":1540177,"display_name":"grekier"},"score":0,"creation_date":1686722720,"post_id":76462029,"comment_id":134836298,"body_markdown":"Date without time is a mess when timezone is involved as a date is assume to be at a fixed time of day (midnight I believe). And a UTC date is actually not the same date in Australia as it is in California. You already have the datetime so I would remove the date and use datetime to get the correct date.","body":"Date without time is a mess when timezone is involved as a date is assume to be at a fixed time of day (midnight I believe). And a UTC date is actually not the same date in Australia as it is in California. You already have the datetime so I would remove the date and use datetime to get the correct date."}],"owner":{"account_id":28189145,"reputation":1,"user_id":21544824,"display_name":"Kalaiselvan K"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686637451,"creation_date":1686635857,"question_id":76462029,"body_markdown":"I am developing application, which will have different timezone users data.\r\nSo I planned to store the date and datetime in UTC (MYSQL)\r\n\r\nIn application level I have set the timezone as UTC using below lines of code at the start time application startup,\r\n\r\n```\r\n`@PostConstruct\r\n    public void init(){\r\n        TimeZone.setDefault(TimeZone.getTimeZone(&quot;UTC&quot;));   // It will set UTC timezone\r\n        System.out.println(&quot;Spring boot application running in UTC timezone :&quot;+ new Date());   // It will print UTC timezone\r\n    }`\r\n```\r\n\r\n\r\nWhile storing the date&#39;s and datetimes its stored properly in the database.\r\n\r\nBut when I retrieve the data from the database its always coming less than one day.\r\n\r\nFor eg.\r\n\r\nI have two columns (created_date and created_datetime) in the table called users\r\ncreated_date -&gt; stores only date - 2023-06-13\r\ncreated_datetime -&gt; stores date and time - 2023-06-13 10:49:09\r\n\r\nwhen I retrieve the data using JPA created_datetime column value is coming as it is, but created_date column value is coming as 2023-06-12 (-1 day)\r\n\r\nIn the entity level i have used LocalDate for created_date and LocalDateTime for created_datetime,\r\n\r\nBelow is my mysql timezone details\r\n\r\n```\r\n`SELECT @@global.time_zone, @@session.time_zone;`\r\n```\r\n\r\n[Mysql TimeZone Info](https://i.stack.imgur.com/UhUPg.png) \r\n\r\napplication.properties file i am using below values\r\n\r\n*spring.datasource.url=jdbc:mysql://localhost:3306/**********?connectionTimeZone=UTC\r\nspring.jpa.properties.hibernate.jdbc.time_zone=UTC*\r\n\r\nI am using *mysql-connector-j-8.0.31.jar.*\r\n\r\nMy entity class\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    @Entity\r\n    @Table(name = &quot;user&quot;)\r\n    @Getter\r\n    @Setter\r\n    public class User {\r\n\r\n    \t@Id\r\n    \t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    \tprivate Long id;\r\n\r\n    \t@Column(name = &quot;created_date&quot;)\r\n    \tprivate LocalDate createdDate;\r\n\r\n    \t@Column(name = &quot;created_datetime&quot;)\r\n    \tprivate LocalDateTime createdDateTime;\r\n\r\n    \t@Column(name = &quot;updated_date&quot;)\r\n    \tprivate LocalDate updatedDate;\r\n\r\n    \t@Column(name = &quot;updated_datetime&quot;)\r\n    \tprivate LocalDateTime updatedDateTime;\r\n    }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nI have tried so many things, but nothing resolved my issue.\r\nPlease give your solutions/suggestions","title":"springboot switched one day back (-1) after reading from db (mysql)","body":"<p>I am developing application, which will have different timezone users data.\nSo I planned to store the date and datetime in UTC (MYSQL)</p>\n<p>In application level I have set the timezone as UTC using below lines of code at the start time application startup,</p>\n<pre><code>`@PostConstruct\n    public void init(){\n        TimeZone.setDefault(TimeZone.getTimeZone(&quot;UTC&quot;));   // It will set UTC timezone\n        System.out.println(&quot;Spring boot application running in UTC timezone :&quot;+ new Date());   // It will print UTC timezone\n    }`\n</code></pre>\n<p>While storing the date's and datetimes its stored properly in the database.</p>\n<p>But when I retrieve the data from the database its always coming less than one day.</p>\n<p>For eg.</p>\n<p>I have two columns (created_date and created_datetime) in the table called users\ncreated_date -&gt; stores only date - 2023-06-13\ncreated_datetime -&gt; stores date and time - 2023-06-13 10:49:09</p>\n<p>when I retrieve the data using JPA created_datetime column value is coming as it is, but created_date column value is coming as 2023-06-12 (-1 day)</p>\n<p>In the entity level i have used LocalDate for created_date and LocalDateTime for created_datetime,</p>\n<p>Below is my mysql timezone details</p>\n<pre><code>`SELECT @@global.time_zone, @@session.time_zone;`\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/UhUPg.png\" rel=\"nofollow noreferrer\">Mysql TimeZone Info</a></p>\n<p>application.properties file i am using below values</p>\n<p><em>spring.datasource.url=jdbc:mysql://localhost:3306/</em>********<em>?connectionTimeZone=UTC\nspring.jpa.properties.hibernate.jdbc.time_zone=UTC</em></p>\n<p>I am using <em>mysql-connector-j-8.0.31.jar.</em></p>\n<p>My entity class</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>@Entity\n@Table(name = \"user\")\n@Getter\n@Setter\npublic class User {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @Column(name = \"created_date\")\n    private LocalDate createdDate;\n\n    @Column(name = \"created_datetime\")\n    private LocalDateTime createdDateTime;\n\n    @Column(name = \"updated_date\")\n    private LocalDate updatedDate;\n\n    @Column(name = \"updated_datetime\")\n    private LocalDateTime updatedDateTime;\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>I have tried so many things, but nothing resolved my issue.\nPlease give your solutions/suggestions</p>\n"},{"tags":["java","excel","csv"],"comments":[{"owner":{"account_id":6520078,"reputation":823,"user_id":5044592,"accept_rate":47,"display_name":"Murali krishna"},"score":1,"creation_date":1450936013,"post_id":34447832,"comment_id":56637668,"body_markdown":"This link gives you so many answers choose the best. http://stackoverflow.com/questions/3571223/how-do-i-get-the-file-extension-of-a-file-in-java","body":"This link gives you so many answers choose the best. <a href=\"http://stackoverflow.com/questions/3571223/how-do-i-get-the-file-extension-of-a-file-in-java\" title=\"how do i get the file extension of a file in java\">stackoverflow.com/questions/3571223/&hellip;</a>"},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1450936845,"post_id":34447832,"comment_id":56637927,"body_markdown":"`if( filename.endsWith(&quot;.xlsx&quot;)) { ...`","body":"<code>if( filename.endsWith(&quot;.xlsx&quot;)) { ...</code>"}],"answers":[{"comments":[{"owner":{"account_id":1059510,"reputation":15581,"user_id":1061426,"accept_rate":69,"display_name":"bharal"},"score":0,"creation_date":1580143387,"post_id":34447916,"comment_id":105992600,"body_markdown":"this method is very buggy and java flavour dependent on what it recognises","body":"this method is very buggy and java flavour dependent on what it recognises"}],"tags":[],"owner":{"account_id":6947199,"reputation":2802,"user_id":5331198,"display_name":"thegauravmahawar"},"comment_count":1,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1450936149,"creation_date":1450936149,"answer_id":34447916,"question_id":34447832,"body_markdown":"You can use [`probeContentType(Path path)`](http://docs.oracle.com/javase/7/docs/api/java/nio/file/Files.html#probeContentType%28java.nio.file.Path%29) for this.\r\n\r\n&gt; Probes the content type of a file.\r\n\r\nIf the `content-type` is `text/csv` it is a `.csv` file. If the `content-type` is `application/vnd.openxmlformats-officedocument.spreadsheetml.sheet` it is a `.xlsx` file.\r\n\r\nYou should try something like:\r\n\r\n    File file = new File(&quot;some path&quot;);\r\n    Path filePath = file.toPath();\r\n    String contentType = probeContentType(filePath);\r\n    if(&quot;text/csv&quot;.equals(contentType)) { \r\n      ...\r\n    }","title":"Checking type of a file (csv or excel file(xlsx)) in java","body":"<p>You can use <a href=\"http://docs.oracle.com/javase/7/docs/api/java/nio/file/Files.html#probeContentType%28java.nio.file.Path%29\" rel=\"nofollow\"><code>probeContentType(Path path)</code></a> for this.</p>\n\n<blockquote>\n  <p>Probes the content type of a file.</p>\n</blockquote>\n\n<p>If the <code>content-type</code> is <code>text/csv</code> it is a <code>.csv</code> file. If the <code>content-type</code> is <code>application/vnd.openxmlformats-officedocument.spreadsheetml.sheet</code> it is a <code>.xlsx</code> file.</p>\n\n<p>You should try something like:</p>\n\n<pre><code>File file = new File(\"some path\");\nPath filePath = file.toPath();\nString contentType = probeContentType(filePath);\nif(\"text/csv\".equals(contentType)) { \n  ...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4523415,"reputation":1,"user_id":3675957,"display_name":"banarsiamin"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1686637234,"creation_date":1505124007,"answer_id":46152949,"question_id":34447832,"body_markdown":"      &lt;?php\r\n      $mimes = array(&#39;application/vnd.ms-excel&#39;,&#39;text/plain&#39;,&#39;text/csv&#39;,&#39;text/tsv&#39;);\r\n        if(in_array($_FILES[&#39;file&#39;][&#39;type&#39;],$mimes)){\r\n          // do something\r\n        } else {\r\n          die(&quot;Sorry, mime type not allowed&quot;);\r\n        }\r\n    \r\n    ?&gt;","title":"Checking type of a file (csv or excel file(xlsx)) in java","body":"<pre><code>  &lt;?php\n  $mimes = array('application/vnd.ms-excel','text/plain','text/csv','text/tsv');\n    if(in_array($_FILES['file']['type'],$mimes)){\n      // do something\n    } else {\n      die(&quot;Sorry, mime type not allowed&quot;);\n    }\n\n?&gt;\n</code></pre>\n"}],"owner":{"account_id":7390124,"reputation":73,"user_id":5623794,"accept_rate":17,"display_name":"R.Y.H"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8484,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1686637234,"creation_date":1450935639,"question_id":34447832,"body_markdown":"I need to upload a file. Before I upload it, I need to know if the file is either csv or excel file(xlsx). If it is csv or excel file I will continue else exit.\r\nHow can I know the type of a file in java by using its path.","title":"Checking type of a file (csv or excel file(xlsx)) in java","body":"<p>I need to upload a file. Before I upload it, I need to know if the file is either csv or excel file(xlsx). If it is csv or excel file I will continue else exit.\nHow can I know the type of a file in java by using its path.</p>\n"},{"tags":["java","android","firebase","firebase-authentication"],"comments":[{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1686657771,"post_id":76462057,"comment_id":134826425,"body_markdown":"What is the exact line of code that produces that error?","body":"What is the exact line of code that produces that error?"},{"owner":{"account_id":26831827,"reputation":1,"user_id":20419673,"display_name":"Deepak Sharma"},"score":0,"creation_date":1686727055,"post_id":76462057,"comment_id":134837104,"body_markdown":"it does not say where the problem is, in log cat","body":"it does not say where the problem is, in log cat"}],"owner":{"account_id":26831827,"reputation":1,"user_id":20419673,"display_name":"Deepak Sharma"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686637030,"creation_date":1686636161,"question_id":76462057,"body_markdown":"I am getting \r\n\r\n&gt; &quot;E/AndroidRuntime: FATAL EXCEPTION: main&quot; and &quot; \r\n&gt; android.app.RemoteServiceException: Context.startForegroundService()\r\n&gt; did not then call Service.startForeground(): ServiceRecord&quot; as error\r\n&gt; when OTP arrives from firebase or after some specific time.\r\n\r\nMy code.\r\n\r\n \r\n\r\n    PhoneAuthProvider.getInstance().verifyPhoneNumber(\r\n                    &quot;+91&quot; + phone.getText().toString(),\r\n                    30,\r\n                    TimeUnit.SECONDS,\r\n                    LoginUser.this,\r\n                    new PhoneAuthProvider.OnVerificationStateChangedCallbacks() {\r\n                        @Override\r\n                        public void onVerificationCompleted(@NonNull PhoneAuthCredential phoneAuthCredential) {\r\n                            progressDialog.dismiss();\r\n                            getOtp.setVisibility(View.VISIBLE);\r\n                        }\r\n    \r\n                        @Override\r\n                        public void onVerificationFailed(@NonNull FirebaseException e) {\r\n                            progressDialog.dismiss();\r\n                            getOtp.setVisibility(View.VISIBLE);\r\n                            Toast.makeText(getApplicationContext(),e.getMessage(), Toast.LENGTH_SHORT).show();\r\n                        }\r\n    \r\n                        @Override\r\n                        public void onCodeSent(@NonNull String s, @NonNull PhoneAuthProvider.ForceResendingToken forceResendingToken) {\r\n                            super.onCodeSent(s, forceResendingToken);\r\n    \r\n                            Intent intent = new Intent(LoginUser.this, EnterOtp.class);\r\n                            intent.putExtra(&quot;backEndOtp&quot;, s);\r\n                            intent.putExtra(&quot;mobile&quot;, phone.getText().toString());\r\n                            startActivity(intent);\r\n                            progressDialog.dismiss();\r\n                            getOtp.setVisibility(View.VISIBLE);\r\n                            finish();\r\n    \r\n                        }\r\n                    }\r\n            );\r\n\r\n\r\n\r\nI tried using try/catch in my code but it did&#39;nt work","title":"Getting &quot;E/AndroidRuntime: FATAL EXCEPTION: main&quot; when OTP arrives from firebase","body":"<p>I am getting</p>\n<blockquote>\n<p>&quot;E/AndroidRuntime: FATAL EXCEPTION: main&quot; and &quot;\nandroid.app.RemoteServiceException: Context.startForegroundService()\ndid not then call Service.startForeground(): ServiceRecord&quot; as error\nwhen OTP arrives from firebase or after some specific time.</p>\n</blockquote>\n<p>My code.</p>\n<pre><code>PhoneAuthProvider.getInstance().verifyPhoneNumber(\n                &quot;+91&quot; + phone.getText().toString(),\n                30,\n                TimeUnit.SECONDS,\n                LoginUser.this,\n                new PhoneAuthProvider.OnVerificationStateChangedCallbacks() {\n                    @Override\n                    public void onVerificationCompleted(@NonNull PhoneAuthCredential phoneAuthCredential) {\n                        progressDialog.dismiss();\n                        getOtp.setVisibility(View.VISIBLE);\n                    }\n\n                    @Override\n                    public void onVerificationFailed(@NonNull FirebaseException e) {\n                        progressDialog.dismiss();\n                        getOtp.setVisibility(View.VISIBLE);\n                        Toast.makeText(getApplicationContext(),e.getMessage(), Toast.LENGTH_SHORT).show();\n                    }\n\n                    @Override\n                    public void onCodeSent(@NonNull String s, @NonNull PhoneAuthProvider.ForceResendingToken forceResendingToken) {\n                        super.onCodeSent(s, forceResendingToken);\n\n                        Intent intent = new Intent(LoginUser.this, EnterOtp.class);\n                        intent.putExtra(&quot;backEndOtp&quot;, s);\n                        intent.putExtra(&quot;mobile&quot;, phone.getText().toString());\n                        startActivity(intent);\n                        progressDialog.dismiss();\n                        getOtp.setVisibility(View.VISIBLE);\n                        finish();\n\n                    }\n                }\n        );\n</code></pre>\n<p>I tried using try/catch in my code but it did'nt work</p>\n"},{"tags":["java","json","file","import","unzip"],"comments":[{"owner":{"account_id":2338104,"reputation":9101,"user_id":2049986,"accept_rate":89,"display_name":"Jacob van Lingen"},"score":0,"creation_date":1685955871,"post_id":76404731,"comment_id":134727848,"body_markdown":"Your question is quite broad, and feels kinda like a [&quot;Do my work for me&quot;](https://meta.stackoverflow.com/questions/274630/should-we-add-a-do-my-work-for-me-close-reason) question to me. Can you show us what you&#39;ve tried so far? TIP: If you have no idea how to start, you can just paste the above question into ChatGPT (I got a decent answer just by using the above question, with the mention you are using Spring Boot).","body":"Your question is quite broad, and feels kinda like a <a href=\"https://meta.stackoverflow.com/questions/274630/should-we-add-a-do-my-work-for-me-close-reason\">&quot;Do my work for me&quot;</a> question to me. Can you show us what you&#39;ve tried so far? TIP: If you have no idea how to start, you can just paste the above question into ChatGPT (I got a decent answer just by using the above question, with the mention you are using Spring Boot)."},{"owner":{"account_id":28196096,"reputation":11,"user_id":21550705,"display_name":"hemanth reddy m"},"score":0,"creation_date":1686035374,"post_id":76404731,"comment_id":134740072,"body_markdown":"As client confidentiality, I will not be able to share the code snipets. I tried to write the file to a /tmp/Path and read the file using fileinputSteam and converted it into String and casted it to org.json.jsonObject. It is providing me a hashmap. How can it be used to cast to DTO&#39;s . As map&#39;s cannot be casted.","body":"As client confidentiality, I will not be able to share the code snipets. I tried to write the file to a /tmp/Path and read the file using fileinputSteam and converted it into String and casted it to org.json.jsonObject. It is providing me a hashmap. How can it be used to cast to DTO&#39;s . As map&#39;s cannot be casted."},{"owner":{"account_id":2338104,"reputation":9101,"user_id":2049986,"accept_rate":89,"display_name":"Jacob van Lingen"},"score":0,"creation_date":1686119158,"post_id":76404731,"comment_id":134753504,"body_markdown":"Ah owkee, so probably [Convert a Map&lt;String, String&gt; to a POJO](https://stackoverflow.com/questions/16428817/convert-a-mapstring-string-to-a-pojo) is all you need. Good luck!","body":"Ah owkee, so probably <a href=\"https://stackoverflow.com/questions/16428817/convert-a-mapstring-string-to-a-pojo\">Convert a Map&lt;String, String&gt; to a POJO</a> is all you need. Good luck!"},{"owner":{"account_id":28196096,"reputation":11,"user_id":21550705,"display_name":"hemanth reddy m"},"score":0,"creation_date":1686639035,"post_id":76404731,"comment_id":134822541,"body_markdown":"I tried this approach, it did not work. after mapping the POJO was still null, I was able to map using GSON","body":"I tried this approach, it did not work. after mapping the POJO was still null, I was able to map using GSON"}],"answers":[{"tags":[],"owner":{"account_id":28196096,"reputation":11,"user_id":21550705,"display_name":"hemanth reddy m"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686636101,"creation_date":1686636101,"answer_id":76462046,"question_id":76404731,"body_markdown":"Initially, I tried to map the JSONObject to the POJO, using ObjectMapper&#39;s writeValue and convertValue. Though the mapping was successful in runtime without any expection, the POJO was still null.(JSON Properties were enabled to identify the JSONObjects)\r\n\r\nI tried mapping using GSON and JSONObjects. I am able to map successfully with the below approach:\r\n\r\n    Map&lt;String, Object&gt; userData =\r\n              mapper.readValue(fileData, new TypeReference&lt;Map&lt;String, Object&gt;&gt;() {});\r\n          JSONObject json = new JSONObject((Map&lt;String, ?&gt;) userData.get(&quot;fundusFile&quot;));\r\n    \r\n          FundusFile fundusFile = new Gson().fromJson(json.toString(), FundusFile.class);\r\n\r\n ","title":"Data conversion to DTO&#39;s dynamically from the JSON File which is part of a zipped File(Request Param)","body":"<p>Initially, I tried to map the JSONObject to the POJO, using ObjectMapper's writeValue and convertValue. Though the mapping was successful in runtime without any expection, the POJO was still null.(JSON Properties were enabled to identify the JSONObjects)</p>\n<p>I tried mapping using GSON and JSONObjects. I am able to map successfully with the below approach:</p>\n<pre><code>Map&lt;String, Object&gt; userData =\n          mapper.readValue(fileData, new TypeReference&lt;Map&lt;String, Object&gt;&gt;() {});\n      JSONObject json = new JSONObject((Map&lt;String, ?&gt;) userData.get(&quot;fundusFile&quot;));\n\n      FundusFile fundusFile = new Gson().fromJson(json.toString(), FundusFile.class);\n</code></pre>\n"}],"owner":{"account_id":28196096,"reputation":11,"user_id":21550705,"display_name":"hemanth reddy m"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686636101,"creation_date":1685954248,"question_id":76404731,"body_markdown":"I am trying to upload a zipfile and load the json data from json file which is in the zipFile to respective DTO&#39;s. \r\n\r\nupload part (following annotations are referred to spring boot annotation):\r\n```\r\n@ApiOperation(value = &quot;Imports one or more files&quot;)\r\n@PostMapping(&quot;/fileExchange/import&quot;)\r\npublic ResponseEntity Import(@RequestParam MultipartFile file)\r\n```\r\n\r\nPlease suggest possible approaches to load json file data dynamically into respective DTO&#39;s without reading the jsonFile manually and as jsonFile length and data may vary.","title":"Data conversion to DTO&#39;s dynamically from the JSON File which is part of a zipped File(Request Param)","body":"<p>I am trying to upload a zipfile and load the json data from json file which is in the zipFile to respective DTO's.</p>\n<p>upload part (following annotations are referred to spring boot annotation):</p>\n<pre><code>@ApiOperation(value = &quot;Imports one or more files&quot;)\n@PostMapping(&quot;/fileExchange/import&quot;)\npublic ResponseEntity Import(@RequestParam MultipartFile file)\n</code></pre>\n<p>Please suggest possible approaches to load json file data dynamically into respective DTO's without reading the jsonFile manually and as jsonFile length and data may vary.</p>\n"},{"tags":["java","spring-boot","spring-integration","sftp","polling"],"comments":[{"owner":{"account_id":3273937,"reputation":114870,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":0,"creation_date":1675693337,"post_id":75359354,"comment_id":132978080,"body_markdown":"Would you mind to reformat the code and stacktrace in your question to make them readable: https://stackoverflow.com/help/how-to-ask, https://meta.stackoverflow.com/questions/251361/how-do-i-format-my-code-blocks ?","body":"Would you mind to reformat the code and stacktrace in your question to make them readable: <a href=\"https://stackoverflow.com/help/how-to-ask\">stackoverflow.com/help/how-to-ask</a>, <a href=\"https://meta.stackoverflow.com/questions/251361/how-do-i-format-my-code-blocks\" title=\"how do i format my code blocks\">meta.stackoverflow.com/questions/251361/&hellip;</a> ?"},{"owner":{"account_id":3273937,"reputation":114870,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":0,"creation_date":1675695444,"post_id":75359354,"comment_id":132978832,"body_markdown":"See this one for more info: https://issues.apache.org/jira/browse/SSHD-945. You probably don&#39;t have some SSH algorithm provider lib against your server security.","body":"See this one for more info: <a href=\"https://issues.apache.org/jira/browse/SSHD-945\" rel=\"nofollow noreferrer\">issues.apache.org/jira/browse/SSHD-945</a>. You probably don&#39;t have some SSH algorithm provider lib against your server security."},{"owner":{"account_id":13192155,"reputation":43,"user_id":9528166,"display_name":"Rishabh"},"score":0,"creation_date":1675746452,"post_id":75359354,"comment_id":132990058,"body_markdown":"Sorry i have updated the question. I just changed Java version from 17 to 11. In Java 11 same code base with same key and same server is still working.","body":"Sorry i have updated the question. I just changed Java version from 17 to 11. In Java 11 same code base with same key and same server is still working."},{"owner":{"account_id":3273937,"reputation":114870,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":0,"creation_date":1675776712,"post_id":75359354,"comment_id":132998117,"body_markdown":"Spring Integration `6.0.x` doesn&#39;t work with Java 11. So, you probably did something else, like downgraded Spring Integration.","body":"Spring Integration <code>6.0.x</code> doesn&#39;t work with Java 11. So, you probably did something else, like downgraded Spring Integration."},{"owner":{"account_id":13192155,"reputation":43,"user_id":9528166,"display_name":"Rishabh"},"score":0,"creation_date":1675831508,"post_id":75359354,"comment_id":133010880,"body_markdown":"With Java 11 i was using  5.5.15, with Java 17 i am using 6.0.1. Only change in code i did was as above.","body":"With Java 11 i was using  5.5.15, with Java 17 i am using 6.0.1. Only change in code i did was as above."},{"owner":{"account_id":13192155,"reputation":43,"user_id":9528166,"display_name":"Rishabh"},"score":0,"creation_date":1675831622,"post_id":75359354,"comment_id":133010898,"body_markdown":"Also instead of LsEntry i am using DirEntry because LsEntry is no longer supported with Spring Integration 6.0.1","body":"Also instead of LsEntry i am using DirEntry because LsEntry is no longer supported with Spring Integration 6.0.1"},{"owner":{"account_id":13192155,"reputation":43,"user_id":9528166,"display_name":"Rishabh"},"score":0,"creation_date":1675846686,"post_id":75359354,"comment_id":133013843,"body_markdown":"I got the issue with this, with JSCH you can ppk file in putty ssh-rsa. But in Apache we need to have our key starting with -----BEGIN OPENSSH PRIVATE KEY-----. Because inside code this is the beginner apache has in order to load.","body":"I got the issue with this, with JSCH you can ppk file in putty ssh-rsa. But in Apache we need to have our key starting with -----BEGIN OPENSSH PRIVATE KEY-----. Because inside code this is the beginner apache has in order to load."},{"owner":{"account_id":3273937,"reputation":114870,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":0,"creation_date":1675865791,"post_id":75359354,"comment_id":133019795,"body_markdown":"Did it work when you fixed the key?","body":"Did it work when you fixed the key?"},{"owner":{"account_id":13192155,"reputation":43,"user_id":9528166,"display_name":"Rishabh"},"score":1,"creation_date":1686053658,"post_id":75359354,"comment_id":134743742,"body_markdown":"Yes Artem, sorry for late response","body":"Yes Artem, sorry for late response"},{"owner":{"account_id":3273937,"reputation":114870,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":0,"creation_date":1686060864,"post_id":75359354,"comment_id":134745449,"body_markdown":"Good. I guess you can form it into an answer and add it to your own question here.","body":"Good. I guess you can form it into an answer and add it to your own question here."}],"answers":[{"tags":[],"owner":{"account_id":13192155,"reputation":43,"user_id":9528166,"display_name":"Rishabh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686635854,"creation_date":1686195666,"answer_id":76428470,"question_id":75359354,"body_markdown":"I got the issue, with Java 17 changes we have to use DirEntry from Apache instead of LsEntry.\r\nWith JSCH you can ppk file in putty ssh-rsa. But in Apache we need to have our key starting with\r\n `-----BEGIN OPENSSH PRIVATE KEY-----`. Because inside code this is the beginner apache has in order to load.\r\n\r\nSo we can convert our key to OPENSSH private key and it will work as expected.\r\n\r\n&gt;ssh-keygen -p -N &quot;&quot; -f /path/to/key","title":"SFTP polling is not working with Spring Integration 6.0.1","body":"<p>I got the issue, with Java 17 changes we have to use DirEntry from Apache instead of LsEntry.\nWith JSCH you can ppk file in putty ssh-rsa. But in Apache we need to have our key starting with\n<code>-----BEGIN OPENSSH PRIVATE KEY-----</code>. Because inside code this is the beginner apache has in order to load.</p>\n<p>So we can convert our key to OPENSSH private key and it will work as expected.</p>\n<blockquote>\n<p>ssh-keygen -p -N &quot;&quot; -f /path/to/key</p>\n</blockquote>\n"}],"owner":{"account_id":13192155,"reputation":43,"user_id":9528166,"display_name":"Rishabh"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":746,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686635854,"creation_date":1675674973,"question_id":75359354,"body_markdown":"Hello I am using file poller with Spring Integration and we have recently migrated to Java 17. Spring Integration moved from 5.5.15 to 6.0.1\r\n\r\nMy old bean was:\r\n\r\n    @Bean  \r\n    public SessionFactory&lt;LsEntry&gt; sftpSessionFactory(){ \r\n       DefaultSftpSessionFactory sf = new DefaultSftpSessionFactory();  \r\n       sf.setHost(serverhost);  \r\n       sf.setPort(portname); \r\n       sf.setUser(username);\r\n       Resource resource = resourceLoader.getResource(sftpKeyPrivateKey); \r\n       sf.setPrivateKey(resource); \r\n       sf.setPrivateKeyPassphrase(sftpKeyPrivateKeyPassword); \r\n       sf.setAllowUnknownKeys(true); \r\n       return new CachingSessionFactory&lt;LsEntry&gt; (sf); \r\n    }\r\n\r\nMy new code for Session Factory looked like:\r\n\r\n    @Bean \r\n    public SessionFactory&lt;org.apache.sshd.sftp.client.SftpClient.DirEntry&gt; sftpSessionFactory() \r\n    { \r\n        DefaultSftpSessionFactory sf = new DefaultSftpSessionFactory();  \r\n        sf.setHost(serverhost); \r\n        sf.setPort(portname);\r\n        sf.setUser(username); \r\n        Resource resource = resourceLoader.getResource(sftpKeyPrivateKey); \r\n        sf.setPrivateKey(resource); \r\n        sf.setPrivateKeyPassphrase(sftpKeyPrivateKeyPassword); \r\n        sf.setAllowUnknownKeys(true); \r\n        return new  CachingSessionFactory&lt;org.apache.sshd.sftp.client.SftpClient.DirEntry(sf); \r\n    }\r\n\r\nEverything else remains same. Old code was working as expected but in new code when i start my service i get below exception:\r\n\r\n    Caused by: java.lang.IllegalStateException: failed to create SFTP Session \r\n    at org.springframework.integration.sftp.session.DefaultSftpSessionFactory.getSession(DefaultSftpSessionFactory.java:291) \r\n    at org.springframework.integration.sftp.session.DefaultSftpSessionFactory.getSession(DefaultSftpSessionFactory.java:67) \r\n    at org.springframework.integration.file.remote.session.CachingSessionFactory$1.createForPool(CachingSessionFactory.java:85) \r\n    at org.springframework.integration.file.remote.session.CachingSessionFactory$1.createForPool(CachingSessionFactory.java:82) \r\n    at org.springframework.integration.util.SimplePool.doGetItem(SimplePool.java:206) \r\n    at org.springframework.integration.util.SimplePool.getItem(SimplePool.java:187) ... 23 more Caused by: org.apache.sshd.common.SshException: No more authentication methods available \r\n    at org.apache.sshd.common.future.AbstractSshFuture.verifyResult(AbstractSshFuture.java:127) \r\n    at org.apache.sshd.client.future.DefaultAuthFuture.verify(DefaultAuthFuture.java:39) \r\n    at org.apache.sshd.client.future.DefaultAuthFuture.verify(DefaultAuthFuture.java:32) \r\n    at org.apache.sshd.common.future.VerifiableFuture.verify(VerifiableFuture.java:43) \r\n    at org.apache.sshd.common.future.VerifiableFuture.verify(VerifiableFuture.java:68) \r\n    at org.springframework.integration.sftp.session.DefaultSftpSessionFactory.initClientSession(DefaultSftpSessionFactory.java:318) \r\n    at org.springframework.integration.sftp.session.DefaultSftpSessionFactory.getSession(DefaultSftpSessionFactory.java:281) ... 28 more \r\n    Caused by: org.apache.sshd.common.SshException: No more authentication methods available","title":"SFTP polling is not working with Spring Integration 6.0.1","body":"<p>Hello I am using file poller with Spring Integration and we have recently migrated to Java 17. Spring Integration moved from 5.5.15 to 6.0.1</p>\n<p>My old bean was:</p>\n<pre><code>@Bean  \npublic SessionFactory&lt;LsEntry&gt; sftpSessionFactory(){ \n   DefaultSftpSessionFactory sf = new DefaultSftpSessionFactory();  \n   sf.setHost(serverhost);  \n   sf.setPort(portname); \n   sf.setUser(username);\n   Resource resource = resourceLoader.getResource(sftpKeyPrivateKey); \n   sf.setPrivateKey(resource); \n   sf.setPrivateKeyPassphrase(sftpKeyPrivateKeyPassword); \n   sf.setAllowUnknownKeys(true); \n   return new CachingSessionFactory&lt;LsEntry&gt; (sf); \n}\n</code></pre>\n<p>My new code for Session Factory looked like:</p>\n<pre><code>@Bean \npublic SessionFactory&lt;org.apache.sshd.sftp.client.SftpClient.DirEntry&gt; sftpSessionFactory() \n{ \n    DefaultSftpSessionFactory sf = new DefaultSftpSessionFactory();  \n    sf.setHost(serverhost); \n    sf.setPort(portname);\n    sf.setUser(username); \n    Resource resource = resourceLoader.getResource(sftpKeyPrivateKey); \n    sf.setPrivateKey(resource); \n    sf.setPrivateKeyPassphrase(sftpKeyPrivateKeyPassword); \n    sf.setAllowUnknownKeys(true); \n    return new  CachingSessionFactory&lt;org.apache.sshd.sftp.client.SftpClient.DirEntry(sf); \n}\n</code></pre>\n<p>Everything else remains same. Old code was working as expected but in new code when i start my service i get below exception:</p>\n<pre><code>Caused by: java.lang.IllegalStateException: failed to create SFTP Session \nat org.springframework.integration.sftp.session.DefaultSftpSessionFactory.getSession(DefaultSftpSessionFactory.java:291) \nat org.springframework.integration.sftp.session.DefaultSftpSessionFactory.getSession(DefaultSftpSessionFactory.java:67) \nat org.springframework.integration.file.remote.session.CachingSessionFactory$1.createForPool(CachingSessionFactory.java:85) \nat org.springframework.integration.file.remote.session.CachingSessionFactory$1.createForPool(CachingSessionFactory.java:82) \nat org.springframework.integration.util.SimplePool.doGetItem(SimplePool.java:206) \nat org.springframework.integration.util.SimplePool.getItem(SimplePool.java:187) ... 23 more Caused by: org.apache.sshd.common.SshException: No more authentication methods available \nat org.apache.sshd.common.future.AbstractSshFuture.verifyResult(AbstractSshFuture.java:127) \nat org.apache.sshd.client.future.DefaultAuthFuture.verify(DefaultAuthFuture.java:39) \nat org.apache.sshd.client.future.DefaultAuthFuture.verify(DefaultAuthFuture.java:32) \nat org.apache.sshd.common.future.VerifiableFuture.verify(VerifiableFuture.java:43) \nat org.apache.sshd.common.future.VerifiableFuture.verify(VerifiableFuture.java:68) \nat org.springframework.integration.sftp.session.DefaultSftpSessionFactory.initClientSession(DefaultSftpSessionFactory.java:318) \nat org.springframework.integration.sftp.session.DefaultSftpSessionFactory.getSession(DefaultSftpSessionFactory.java:281) ... 28 more \nCaused by: org.apache.sshd.common.SshException: No more authentication methods available\n</code></pre>\n"},{"tags":["java","postgresql"],"answers":[{"comments":[{"owner":{"account_id":322960,"reputation":7711,"user_id":642680,"accept_rate":74,"display_name":"D-Dá´um"},"score":0,"creation_date":1574427630,"post_id":45874274,"comment_id":104239997,"body_markdown":"Just wanted to add that this also works if one is using named parameters too in Spring JDBC e.g. `:paramName::xml`","body":"Just wanted to add that this also works if one is using named parameters too in Spring JDBC e.g. <code>:paramName::xml</code>"},{"owner":{"account_id":3740643,"reputation":935,"user_id":3110488,"display_name":"m.nguyencntt"},"score":0,"creation_date":1597084327,"post_id":45874274,"comment_id":112012702,"body_markdown":"worked for me:\n\nINSERT INTO Student (id,name,age,creationTime) VALUES (?,?,?,?::date)","body":"worked for me:  INSERT INTO Student (id,name,age,creationTime) VALUES (?,?,?,?::date)"},{"owner":{"account_id":15580762,"reputation":132,"user_id":11240620,"display_name":"codeSeeker"},"score":0,"creation_date":1657805788,"post_id":45874274,"comment_id":128901671,"body_markdown":"@Pavel\nwhile doing select also should we use in this way like below?\nselect * from Event where State=?::status","body":"@Pavel while doing select also should we use in this way like below? select * from Event where State=?::status"}],"tags":[],"owner":{"account_id":176171,"reputation":43029,"user_id":406691,"display_name":"Pavel Stehule"},"comment_count":3,"down_vote_count":1,"up_vote_count":39,"is_accepted":true,"score":38,"last_activity_date":1686635256,"creation_date":1503633804,"answer_id":45874274,"question_id":45873514,"body_markdown":"You are using Prepared Statements - PostgreSQL gets info from client side, so parameter is `varchar` because you are using `setString` method. You should inform Postgres with explicit cast, so that input datatype is different.\r\n\r\n    PreparedStatement stmt = conn.prepareStatement(\r\n      &quot;INSERT INTO Event (EventNum, EventName, startHour, endHour, startMin, endMin, startDate, endDate, State, depName)\r\n                   VALUES (?, ?, ?, ?, ?, ?, ?::date, ?::date, ?::status, ?)&quot;);\r\n\r\nAll data is passed in text form (it is default) - so that is not a problem with passed values. PostgreSQL uses strict type system - and without explicit casting doesn&#39;t allow cast from `varchar` to `date`, `enum`, `int`, ...","title":"PostgreSQL Hint: You will need to rewrite or cast the expression. column &quot;state&quot; is of type status but expression is of type character varying","body":"<p>You are using Prepared Statements - PostgreSQL gets info from client side, so parameter is <code>varchar</code> because you are using <code>setString</code> method. You should inform Postgres with explicit cast, so that input datatype is different.</p>\n<pre><code>PreparedStatement stmt = conn.prepareStatement(\n  &quot;INSERT INTO Event (EventNum, EventName, startHour, endHour, startMin, endMin, startDate, endDate, State, depName)\n               VALUES (?, ?, ?, ?, ?, ?, ?::date, ?::date, ?::status, ?)&quot;);\n</code></pre>\n<p>All data is passed in text form (it is default) - so that is not a problem with passed values. PostgreSQL uses strict type system - and without explicit casting doesn't allow cast from <code>varchar</code> to <code>date</code>, <code>enum</code>, <code>int</code>, ...</p>\n"},{"tags":[],"owner":{"account_id":10006521,"reputation":631,"user_id":7400808,"display_name":"MrNinjamannn"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1569593951,"creation_date":1569593951,"answer_id":58136403,"question_id":45873514,"body_markdown":"you must will be have same problem if you use DBeaver.\r\n\r\ntry: \r\n\r\n1.right click on your postgres db\r\n\r\n2.edit connection/general/database\r\n\r\n3.change database to the base in the context of which you want to make changes\r\n","title":"PostgreSQL Hint: You will need to rewrite or cast the expression. column &quot;state&quot; is of type status but expression is of type character varying","body":"<p>you must will be have same problem if you use DBeaver.</p>\n\n<p>try: </p>\n\n<p>1.right click on your postgres db</p>\n\n<p>2.edit connection/general/database</p>\n\n<p>3.change database to the base in the context of which you want to make changes</p>\n"},{"tags":[],"owner":{"account_id":2109967,"reputation":6673,"user_id":1875434,"accept_rate":67,"display_name":"abbas"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647593716,"creation_date":1584460477,"answer_id":60725872,"question_id":45873514,"body_markdown":"You cannot store a String in a Enum type field. You need to use the setObject method and also provide the type like this\r\n     \r\n    stmt.setObject(9, ev.getState().status(), Types.OTHER);","title":"PostgreSQL Hint: You will need to rewrite or cast the expression. column &quot;state&quot; is of type status but expression is of type character varying","body":"<p>You cannot store a String in a Enum type field. You need to use the setObject method and also provide the type like this</p>\n<pre><code>stmt.setObject(9, ev.getState().status(), Types.OTHER);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11250661,"reputation":1,"user_id":8251861,"display_name":"Selim &#199;EKAL"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1596631810,"creation_date":1596629357,"answer_id":63264882,"question_id":45873514,"body_markdown":"Thanks, Pavel Stehule,\r\n\r\nIf we want to add the date with time, we should use the following expression.\r\n\r\n    PreparedStatement stmt = conn.prepareStatement(\r\n      &quot;INSERT INTO Event (EventNum, EventName, startHour, endHour, startMin, endMin, startDate, endDate, State, depName)\r\n                   VALUES (?, ?, ?, ?, ?, ?, ?::timestamp, ?, ?, ?)&quot;);","title":"PostgreSQL Hint: You will need to rewrite or cast the expression. column &quot;state&quot; is of type status but expression is of type character varying","body":"<p>Thanks, Pavel Stehule,</p>\n<p>If we want to add the date with time, we should use the following expression.</p>\n<pre><code>PreparedStatement stmt = conn.prepareStatement(\n  &quot;INSERT INTO Event (EventNum, EventName, startHour, endHour, startMin, endMin, startDate, endDate, State, depName)\n               VALUES (?, ?, ?, ?, ?, ?, ?::timestamp, ?, ?, ?)&quot;);\n</code></pre>\n"}],"owner":{"account_id":8892236,"reputation":476,"user_id":6638412,"display_name":"Gatiivs"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":101630,"favorite_count":0,"down_vote_count":0,"up_vote_count":36,"accepted_answer_id":45874274,"answer_count":4,"score":36,"last_activity_date":1686635256,"creation_date":1503627942,"question_id":45873514,"body_markdown":"I am trying to create a SQL statement using java. The problem is I am using\r\n\r\n\r\n\r\n     stmt.setString(9, ev.getState().status());\r\n\r\n\r\n\r\n\r\nfor a variable I am trying to insert into a SQL column of type status \r\n\r\n     CREATE TYPE STATUS AS ENUM (&#39;APPROVED&#39;, &#39;CLOSED&#39;,&#39;STARTED&#39;, &#39;WAITING&#39;);\r\n\r\nIt is throwing me an exception of \r\n\r\n    column &quot;state&quot; is of type status but expression is of type character varying\r\n    Hint: You will need to rewrite or cast the expression.\r\nDid I make a mistake or do I actually need to cast the value in sql? If yes, how does one cast in this situation?\r\n\r\nFull Statement:\r\n\r\n         PreparedStatement stmt = conn.prepareStatement(&quot;INSERT INTO Event (EventNum, EventName, startHour, endHour, startMin, endMin, startDate, endDate, State, depName) VALUES (?, ?, ?, ?, ?, ?, ?::date, ?::date, ?, ?)&quot;);\r\n\r\n\r\n         \r\n         \r\n         stmt.setInt(1, ev.getEventNum());\r\n         stmt.setString(2, ev.getName());\r\n         stmt.setInt(3, ev.getStartHour());\r\n         stmt.setInt(4, ev.getEndHour());\r\n         stmt.setInt(5, ev.getStartMinute());\r\n         stmt.setInt(6, ev.getEndMinute());\r\n         stmt.setString(7, ev.getStartYear() + &quot;-&quot; + ev.getStartMonth() + &quot;-&quot; + ev.getStartDate());\r\n         stmt.setString(8, ev.getEndYear() + &quot;-&quot; + ev.getEndMonth() + &quot;-&quot; + ev.getEndDate());\r\n         stmt.setString(9, ev.getState().status());\r\n         stmt.setString(10, ev.getDepartment());\r\n         \r\n\r\n         \r\n         stmt.executeUpdate();\r\n\r\n\r\n\r\n","title":"PostgreSQL Hint: You will need to rewrite or cast the expression. column &quot;state&quot; is of type status but expression is of type character varying","body":"<p>I am trying to create a SQL statement using java. The problem is I am using</p>\n\n<pre><code> stmt.setString(9, ev.getState().status());\n</code></pre>\n\n<p>for a variable I am trying to insert into a SQL column of type status </p>\n\n<pre><code> CREATE TYPE STATUS AS ENUM ('APPROVED', 'CLOSED','STARTED', 'WAITING');\n</code></pre>\n\n<p>It is throwing me an exception of </p>\n\n<pre><code>column \"state\" is of type status but expression is of type character varying\nHint: You will need to rewrite or cast the expression.\n</code></pre>\n\n<p>Did I make a mistake or do I actually need to cast the value in sql? If yes, how does one cast in this situation?</p>\n\n<p>Full Statement:</p>\n\n<pre><code>     PreparedStatement stmt = conn.prepareStatement(\"INSERT INTO Event (EventNum, EventName, startHour, endHour, startMin, endMin, startDate, endDate, State, depName) VALUES (?, ?, ?, ?, ?, ?, ?::date, ?::date, ?, ?)\");\n\n\n\n\n     stmt.setInt(1, ev.getEventNum());\n     stmt.setString(2, ev.getName());\n     stmt.setInt(3, ev.getStartHour());\n     stmt.setInt(4, ev.getEndHour());\n     stmt.setInt(5, ev.getStartMinute());\n     stmt.setInt(6, ev.getEndMinute());\n     stmt.setString(7, ev.getStartYear() + \"-\" + ev.getStartMonth() + \"-\" + ev.getStartDate());\n     stmt.setString(8, ev.getEndYear() + \"-\" + ev.getEndMonth() + \"-\" + ev.getEndDate());\n     stmt.setString(9, ev.getState().status());\n     stmt.setString(10, ev.getDepartment());\n\n\n\n     stmt.executeUpdate();\n</code></pre>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1686567398,"post_id":76454330,"comment_id":134811332,"body_markdown":"If you could create an full example project because there seemed to be a configuration which is not given in your post...","body":"If you could create an full example project because there seemed to be a configuration which is not given in your post..."},{"owner":{"account_id":70791,"reputation":1619,"user_id":204950,"accept_rate":92,"display_name":"banterCZ"},"score":0,"creation_date":1686631986,"post_id":76454330,"comment_id":134821707,"body_markdown":"@khmarbaise The full example was added to the question.","body":"@khmarbaise The full example was added to the question."},{"owner":{"account_id":4181375,"reputation":5121,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1686633774,"post_id":76454330,"comment_id":134821847,"body_markdown":"@banterCZ did I understand properly that the main idea is following: setting `&lt;scope&gt;test&lt;/scope&gt;` for `&lt;artifactId&gt;tomcat-embed-el&lt;/artifactId&gt;` cause `maven` to enforce `test` scope for transitive dependencies (there is related issue in maven&#39;s jira), you expect that since maven (mistakenly?) enforces `test` scope for `tomcat-embed-el`, `maven-enforcer-plugin` should follow the same logic. Is it correct?","body":"@banterCZ did I understand properly that the main idea is following: setting <code>&lt;scope&gt;test&lt;&#47;scope&gt;</code> for <code>&lt;artifactId&gt;tomcat-embed-el&lt;&#47;artifactId&gt;</code> cause <code>maven</code> to enforce <code>test</code> scope for transitive dependencies (there is related issue in maven&#39;s jira), you expect that since maven (mistakenly?) enforces <code>test</code> scope for <code>tomcat-embed-el</code>, <code>maven-enforcer-plugin</code> should follow the same logic. Is it correct?"},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1686634850,"post_id":76454330,"comment_id":134821947,"body_markdown":"I already wrote . you have blocked the dependencies in your enforcer rule which denies dependencies in compile scope... but you keep the definition of the dependencies in the compile scope... Based on the enforcer rule you have to change the scope if you don&#39;t change it will continue to fail...apart from that I don&#39;t understand why you are trying to deny the dependency to tomcat.embed in a spring boot project... if you require reactive you should change to the appropriate reactive components.","body":"I already wrote . you have blocked the dependencies in your enforcer rule which denies dependencies in compile scope... but you keep the definition of the dependencies in the compile scope... Based on the enforcer rule you have to change the scope if you don&#39;t change it will continue to fail...apart from that I don&#39;t understand why you are trying to deny the dependency to tomcat.embed in a spring boot project... if you require reactive you should change to the appropriate reactive components."},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1686635097,"post_id":76454330,"comment_id":134821973,"body_markdown":"Furthermore you have to exclude the appropriate dependencies via pom (because it&#39;s coming into your tree via `org.springframework.boot:spring-boot-starter-validation:jar:3.1.0`...)...Check my updated answer...","body":"Furthermore you have to exclude the appropriate dependencies via pom (because it&#39;s coming into your tree via <code>org.springframework.boot:spring-boot-starter-validation:jar:&zwnj;&#8203;3.1.0</code>...)...Check my updated answer..."},{"owner":{"account_id":70791,"reputation":1619,"user_id":204950,"accept_rate":92,"display_name":"banterCZ"},"score":0,"creation_date":1686637871,"post_id":76454330,"comment_id":134822325,"body_markdown":"The reason why I exclude tomcat-embed is that I prepare a build also for application servers. I changed the scoped to test, which used to work for the older enforcer-plugin. I know I may use exclusion, but it means declaring it at each possible dependency. Anyway, the dependencyManagement fixed it, thanks.","body":"The reason why I exclude tomcat-embed is that I prepare a build also for application servers. I changed the scoped to test, which used to work for the older enforcer-plugin. I know I may use exclusion, but it means declaring it at each possible dependency. Anyway, the dependencyManagement fixed it, thanks."},{"owner":{"account_id":70791,"reputation":1619,"user_id":204950,"accept_rate":92,"display_name":"banterCZ"},"score":0,"creation_date":1686638253,"post_id":76454330,"comment_id":134822389,"body_markdown":"@AndreyB.Panfilov May you please link the jira issues? This is not maven misbehavior, but expected work with scopes. I suspect the enforcer-plugin from misevaluation that.","body":"@AndreyB.Panfilov May you please link the jira issues? This is not maven misbehavior, but expected work with scopes. I suspect the enforcer-plugin from misevaluation that."},{"owner":{"account_id":4181375,"reputation":5121,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":1,"creation_date":1686666494,"post_id":76454330,"comment_id":134828526,"body_markdown":"https://issues.apache.org/jira/browse/MNG-6058 - and a lot of outgoing links","body":"<a href=\"https://issues.apache.org/jira/browse/MNG-6058\" rel=\"nofollow noreferrer\">issues.apache.org/jira/browse/MNG-6058</a> - and a lot of outgoing links"}],"answers":[{"comments":[{"owner":{"account_id":70791,"reputation":1619,"user_id":204950,"accept_rate":92,"display_name":"banterCZ"},"score":0,"creation_date":1686632028,"post_id":76455962,"comment_id":134821711,"body_markdown":"I have edited the question and added a full pom example to reproduce.","body":"I have edited the question and added a full pom example to reproduce."},{"owner":{"account_id":70791,"reputation":1619,"user_id":204950,"accept_rate":92,"display_name":"banterCZ"},"score":0,"creation_date":1686637948,"post_id":76455962,"comment_id":134822340,"body_markdown":"I know I may use exclusion, but it means declaring it at each possible dependency. Anyway, the dependencyManagement fixed it (even for Spring Boot as a parent, not import), thanks.","body":"I know I may use exclusion, but it means declaring it at each possible dependency. Anyway, the dependencyManagement fixed it (even for Spring Boot as a parent, not import), thanks."},{"owner":{"account_id":70791,"reputation":1619,"user_id":204950,"accept_rate":92,"display_name":"banterCZ"},"score":0,"creation_date":1686638321,"post_id":76455962,"comment_id":134822406,"body_markdown":"I still suspect the enforcer-plugin from misevaluation.","body":"I still suspect the enforcer-plugin from misevaluation."},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1686645148,"post_id":76455962,"comment_id":134823719,"body_markdown":"Just try to print out the effective pom file and you will see the difference...","body":"Just try to print out the effective pom file and you will see the difference..."},{"owner":{"account_id":82626,"reputation":12122,"user_id":232175,"accept_rate":62,"display_name":"Matthias"},"score":0,"creation_date":1693972882,"post_id":76455962,"comment_id":135828629,"body_markdown":"&quot;but new enforcer plugin does NOT respect that&quot; - isn&#39;t that still an issue with the new version of the enforcer plugin...?","body":"&quot;but new enforcer plugin does NOT respect that&quot; - isn&#39;t that still an issue with the new version of the enforcer plugin...?"}],"tags":[],"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"comment_count":5,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1686635200,"creation_date":1686567379,"answer_id":76455962,"question_id":76454330,"body_markdown":"First maven-enforcer-plugin with the given rule is exactly doing what it should be doing means breaking the build based on the given dependencies which are not allowed based on the rules... tried both version exactly the same behaviour ... only the output looks a bit different... \r\n\r\nUsing the maven-enforcer-plugin version 3.1.0 produces the same failure like this:\r\n\r\n    [INFO] -----------------&lt; com.soebes.spring.example:employee &gt;-----------------\r\n    [INFO] Building Employee Demo Application 0.0.1-SNAPSHOT\r\n    [INFO]   from pom.xml\r\n    [INFO] --------------------------------[ jar ]---------------------------------\r\n    [INFO] \r\n    [INFO] --- maven-clean-plugin:3.2.0:clean (default-clean) @ employee ---\r\n    [INFO] \r\n    [INFO] --- maven-enforcer-plugin:3.1.0:enforce (enforce-banned-dependencies) @ employee ---\r\n    [ERROR] Rule 0: org.apache.maven.plugins.enforcer.BannedDependencies failed with message:\r\n    Found Banned Dependency: org.apache.tomcat.embed:tomcat-embed-websocket:jar:10.1.8\r\n    Found Banned Dependency: org.apache.tomcat.embed:tomcat-embed-el:jar:10.1.8\r\n    Found Banned Dependency: org.apache.tomcat.embed:tomcat-embed-core:jar:10.1.8\r\n    Use &#39;mvn dependency:tree&#39; to locate the source of the banned dependencies.\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] BUILD FAILURE\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Total time:  0.447 s\r\n    [INFO] Finished at: 2023-06-12T12:53:26+02:00\r\n    [INFO] ------------------------------------------------------------------------\r\n    [ERROR] Failed to execute goal org.apache.maven.plugins:maven-enforcer-plugin:3.1.0:enforce (enforce-banned-dependencies) on project employee: Some Enforcer rules have failed. Look above for specific messages explaining why the rule failed. -&gt; [Help 1]\r\n\r\nAs the maven-enforcer-plugin version 3.3.0  does:\r\n\r\n    [INFO] \r\n    [INFO] --- maven-clean-plugin:3.2.0:clean (default-clean) @ employee ---\r\n    [INFO] \r\n    [INFO] --- maven-enforcer-plugin:3.3.0:enforce (enforce-banned-dependencies) @ employee ---\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] BUILD FAILURE\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Total time:  0.405 s\r\n    [INFO] Finished at: 2023-06-12T12:55:35+02:00\r\n    [INFO] ------------------------------------------------------------------------\r\n    [ERROR] Failed to execute goal org.apache.maven.plugins:maven-enforcer-plugin:3.3.0:enforce (enforce-banned-dependencies) on project employee: \r\n    [ERROR] Rule 0: org.apache.maven.enforcer.rules.dependency.BannedDependencies failed with message:\r\n    [ERROR] com.soebes.spring.example:employee:jar:0.0.1-SNAPSHOT\r\n    [ERROR]    org.springframework.boot:spring-boot-starter-web:jar:3.1.0\r\n    [ERROR]       org.springframework.boot:spring-boot-starter-tomcat:jar:3.1.0\r\n    [ERROR]          org.apache.tomcat.embed:tomcat-embed-core:jar:10.1.8 &lt;--- banned via the exclude/include list\r\n    [ERROR]          org.apache.tomcat.embed:tomcat-embed-el:jar:10.1.8 &lt;--- banned via the exclude/include list\r\n    [ERROR]          org.apache.tomcat.embed:tomcat-embed-websocket:jar:10.1.8 &lt;--- banned via the exclude/include list\r\n    [ERROR] \r\n    [ERROR] -&gt; [Help 1]\r\n    [ERROR] \r\n    [ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\r\n    [ERROR] Re-run Maven using the -X switch to enable full debug logging.\r\n    [ERROR] \r\n\r\nUpdate:\r\n\r\nIf you exclude the tomcat dependency via:\r\n\r\n&lt;!-- language:language-xml --&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n      &lt;exclusions&gt;\r\n        &lt;exclusion&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n        &lt;/exclusion&gt;\r\n      &lt;/exclusions&gt;\r\n    &lt;/dependency&gt;\r\n\r\nBut you must be careful because you need something else which supports servlet etc. \r\n\r\nIf you need to overwrite the sope of dependency (which means change the scope) you have to do that in a dependencyManagement section...\r\n\r\n&lt;!-- language:language-xml --&gt;\r\n\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-dependencies&lt;/artifactId&gt;\r\n        &lt;version&gt;${spring.boot.version}&lt;/version&gt;\r\n        &lt;scope&gt;import&lt;/scope&gt;\r\n        &lt;type&gt;pom&lt;/type&gt;\r\n      &lt;/dependency&gt;\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\r\n        &lt;artifactId&gt;tomcat-embed-el&lt;/artifactId&gt;\r\n        &lt;!--  Overriding scope of transitive dependency from spring-boot-starter-validation but new enforcer plugin does NOT respect that  --&gt;\r\n        &lt;scope&gt;test&lt;/scope&gt;\r\n      &lt;/dependency&gt;\r\n\r\nThat needed to done with each dependency you want to change the scope for... ","title":"maven-enforcer-plugin 3.3.0 breaking behavior for scope","body":"<p>First maven-enforcer-plugin with the given rule is exactly doing what it should be doing means breaking the build based on the given dependencies which are not allowed based on the rules... tried both version exactly the same behaviour ... only the output looks a bit different...</p>\n<p>Using the maven-enforcer-plugin version 3.1.0 produces the same failure like this:</p>\n<pre><code>[INFO] -----------------&lt; com.soebes.spring.example:employee &gt;-----------------\n[INFO] Building Employee Demo Application 0.0.1-SNAPSHOT\n[INFO]   from pom.xml\n[INFO] --------------------------------[ jar ]---------------------------------\n[INFO] \n[INFO] --- maven-clean-plugin:3.2.0:clean (default-clean) @ employee ---\n[INFO] \n[INFO] --- maven-enforcer-plugin:3.1.0:enforce (enforce-banned-dependencies) @ employee ---\n[ERROR] Rule 0: org.apache.maven.plugins.enforcer.BannedDependencies failed with message:\nFound Banned Dependency: org.apache.tomcat.embed:tomcat-embed-websocket:jar:10.1.8\nFound Banned Dependency: org.apache.tomcat.embed:tomcat-embed-el:jar:10.1.8\nFound Banned Dependency: org.apache.tomcat.embed:tomcat-embed-core:jar:10.1.8\nUse 'mvn dependency:tree' to locate the source of the banned dependencies.\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  0.447 s\n[INFO] Finished at: 2023-06-12T12:53:26+02:00\n[INFO] ------------------------------------------------------------------------\n[ERROR] Failed to execute goal org.apache.maven.plugins:maven-enforcer-plugin:3.1.0:enforce (enforce-banned-dependencies) on project employee: Some Enforcer rules have failed. Look above for specific messages explaining why the rule failed. -&gt; [Help 1]\n</code></pre>\n<p>As the maven-enforcer-plugin version 3.3.0  does:</p>\n<pre><code>[INFO] \n[INFO] --- maven-clean-plugin:3.2.0:clean (default-clean) @ employee ---\n[INFO] \n[INFO] --- maven-enforcer-plugin:3.3.0:enforce (enforce-banned-dependencies) @ employee ---\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  0.405 s\n[INFO] Finished at: 2023-06-12T12:55:35+02:00\n[INFO] ------------------------------------------------------------------------\n[ERROR] Failed to execute goal org.apache.maven.plugins:maven-enforcer-plugin:3.3.0:enforce (enforce-banned-dependencies) on project employee: \n[ERROR] Rule 0: org.apache.maven.enforcer.rules.dependency.BannedDependencies failed with message:\n[ERROR] com.soebes.spring.example:employee:jar:0.0.1-SNAPSHOT\n[ERROR]    org.springframework.boot:spring-boot-starter-web:jar:3.1.0\n[ERROR]       org.springframework.boot:spring-boot-starter-tomcat:jar:3.1.0\n[ERROR]          org.apache.tomcat.embed:tomcat-embed-core:jar:10.1.8 &lt;--- banned via the exclude/include list\n[ERROR]          org.apache.tomcat.embed:tomcat-embed-el:jar:10.1.8 &lt;--- banned via the exclude/include list\n[ERROR]          org.apache.tomcat.embed:tomcat-embed-websocket:jar:10.1.8 &lt;--- banned via the exclude/include list\n[ERROR] \n[ERROR] -&gt; [Help 1]\n[ERROR] \n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n[ERROR] \n</code></pre>\n<p>Update:</p>\n<p>If you exclude the tomcat dependency via:</p>\n\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n  &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n  &lt;exclusions&gt;\n    &lt;exclusion&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n    &lt;/exclusion&gt;\n  &lt;/exclusions&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>But you must be careful because you need something else which supports servlet etc.</p>\n<p>If you need to overwrite the sope of dependency (which means change the scope) you have to do that in a dependencyManagement section...</p>\n\n<pre><code>  &lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-dependencies&lt;/artifactId&gt;\n    &lt;version&gt;${spring.boot.version}&lt;/version&gt;\n    &lt;scope&gt;import&lt;/scope&gt;\n    &lt;type&gt;pom&lt;/type&gt;\n  &lt;/dependency&gt;\n  &lt;dependency&gt;\n    &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\n    &lt;artifactId&gt;tomcat-embed-el&lt;/artifactId&gt;\n    &lt;!--  Overriding scope of transitive dependency from spring-boot-starter-validation but new enforcer plugin does NOT respect that  --&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n  &lt;/dependency&gt;\n</code></pre>\n<p>That needed to done with each dependency you want to change the scope for...</p>\n"}],"owner":{"account_id":70791,"reputation":1619,"user_id":204950,"accept_rate":92,"display_name":"banterCZ"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":344,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":76455962,"answer_count":1,"score":3,"last_activity_date":1686635200,"creation_date":1686554091,"question_id":76454330,"body_markdown":"When upgrading Spring Boot to 3.1 I got a transitive upgrade of `maven-enforcer-plugin` **3.3.0**, breaking my build. The configuration of scopes for transitive dependencies behaves strangely.\r\n\r\nCurrent configuration\r\n```xml\r\n&lt;plugin&gt;\r\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    &lt;artifactId&gt;maven-enforcer-plugin&lt;/artifactId&gt;\r\n    &lt;executions&gt;\r\n        &lt;execution&gt;\r\n            &lt;id&gt;enforce-banned-dependencies&lt;/id&gt;\r\n            &lt;goals&gt;\r\n                &lt;goal&gt;enforce&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n            &lt;configuration&gt;\r\n                &lt;rules&gt;\r\n                    &lt;bannedDependencies&gt;\r\n                        &lt;excludes&gt;\r\n                            &lt;exclude&gt;org.apache.tomcat.embed:*:*:*:compile&lt;/exclude&gt;\r\n                    &lt;/bannedDependencies&gt;\r\n                &lt;/rules&gt;\r\n            &lt;/configuration&gt;\r\n        &lt;/execution&gt;\r\n    &lt;/executions&gt;\r\n&lt;/plugin&gt;\r\n```\r\n\r\nDependencies\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\r\n    &lt;artifactId&gt;tomcat-embed-el&lt;/artifactId&gt;\r\n    &lt;scope&gt;test&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nError\r\n```\r\n[ERROR] Failed to execute goal org.apache.maven.plugins:maven-enforcer-plugin:3.3.0:enforce (enforce-banned-dependencies) on project enrollment-server: \r\n[ERROR] Rule 0: org.apache.maven.enforcer.rules.dependency.BannedDependencies failed with message:\r\n[ERROR] com.example:test:war:1.0.0-SNAPSHOT\r\n[ERROR]    org.springframework.boot:spring-boot-starter-validation:jar:3.1.0\r\n[ERROR]       org.apache.tomcat.embed:tomcat-embed-el:jar:10.1.8 &lt;--- banned via the exclude/include list\r\n```\r\n\r\nI have noticed, that there is an option `&lt;searchTransitive&gt;false&lt;/searchTransitive&gt;` but it seems to me, that it ignores transitive dependencies completely. So the dependency is not checked but is attached. IMHO the main goal of this plugin was to control the content of the final artifact.\r\n\r\nDowngrading to `maven-enforcer-plugin` **3.1.0** so far.\r\n\r\nFull example:\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;test&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;3.1.0&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\r\n            &lt;artifactId&gt;tomcat-embed-el&lt;/artifactId&gt;\r\n            &lt;!--  Overriding scope of transitive dependency from spring-boot-starter-validation but new enforcer plugin does NOT respect that  --&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-enforcer-plugin&lt;/artifactId&gt;\r\n                &lt;!--  Working with 3.1.0 --&gt;\r\n                &lt;!--  &lt;version&gt;3.1.0&lt;/version&gt; --&gt;\r\n                &lt;!--  Implicit version 3.3.0 breaks the build  --&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;enforce-banned-dependencies&lt;/id&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;enforce&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;rules&gt;\r\n                                &lt;bannedDependencies&gt;\r\n                                    &lt;excludes&gt;\r\n                                        &lt;exclude&gt;org.apache.tomcat.embed:*:*:*:compile&lt;/exclude&gt;\r\n                                    &lt;/excludes&gt;\r\n                                &lt;/bannedDependencies&gt;\r\n                            &lt;/rules&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```","title":"maven-enforcer-plugin 3.3.0 breaking behavior for scope","body":"<p>When upgrading Spring Boot to 3.1 I got a transitive upgrade of <code>maven-enforcer-plugin</code> <strong>3.3.0</strong>, breaking my build. The configuration of scopes for transitive dependencies behaves strangely.</p>\n<p>Current configuration</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-enforcer-plugin&lt;/artifactId&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;id&gt;enforce-banned-dependencies&lt;/id&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;enforce&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n                &lt;rules&gt;\n                    &lt;bannedDependencies&gt;\n                        &lt;excludes&gt;\n                            &lt;exclude&gt;org.apache.tomcat.embed:*:*:*:compile&lt;/exclude&gt;\n                    &lt;/bannedDependencies&gt;\n                &lt;/rules&gt;\n            &lt;/configuration&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>Dependencies</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\n    &lt;artifactId&gt;tomcat-embed-el&lt;/artifactId&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Error</p>\n<pre><code>[ERROR] Failed to execute goal org.apache.maven.plugins:maven-enforcer-plugin:3.3.0:enforce (enforce-banned-dependencies) on project enrollment-server: \n[ERROR] Rule 0: org.apache.maven.enforcer.rules.dependency.BannedDependencies failed with message:\n[ERROR] com.example:test:war:1.0.0-SNAPSHOT\n[ERROR]    org.springframework.boot:spring-boot-starter-validation:jar:3.1.0\n[ERROR]       org.apache.tomcat.embed:tomcat-embed-el:jar:10.1.8 &lt;--- banned via the exclude/include list\n</code></pre>\n<p>I have noticed, that there is an option <code>&lt;searchTransitive&gt;false&lt;/searchTransitive&gt;</code> but it seems to me, that it ignores transitive dependencies completely. So the dependency is not checked but is attached. IMHO the main goal of this plugin was to control the content of the final artifact.</p>\n<p>Downgrading to <code>maven-enforcer-plugin</code> <strong>3.1.0</strong> so far.</p>\n<p>Full example:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;test&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.1.0&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\n            &lt;artifactId&gt;tomcat-embed-el&lt;/artifactId&gt;\n            &lt;!--  Overriding scope of transitive dependency from spring-boot-starter-validation but new enforcer plugin does NOT respect that  --&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-enforcer-plugin&lt;/artifactId&gt;\n                &lt;!--  Working with 3.1.0 --&gt;\n                &lt;!--  &lt;version&gt;3.1.0&lt;/version&gt; --&gt;\n                &lt;!--  Implicit version 3.3.0 breaks the build  --&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;enforce-banned-dependencies&lt;/id&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;enforce&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;rules&gt;\n                                &lt;bannedDependencies&gt;\n                                    &lt;excludes&gt;\n                                        &lt;exclude&gt;org.apache.tomcat.embed:*:*:*:compile&lt;/exclude&gt;\n                                    &lt;/excludes&gt;\n                                &lt;/bannedDependencies&gt;\n                            &lt;/rules&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","spring","hashmap"],"answers":[{"comments":[{"owner":{"account_id":12526641,"reputation":21,"user_id":9325557,"display_name":"Kalai Selvan"},"score":0,"creation_date":1619350492,"post_id":67252578,"comment_id":118873525,"body_markdown":"but I have one clarification, Map is only accepting string datatype values, how can I use different data types in a same hash? @gautam m","body":"but I have one clarification, Map is only accepting string datatype values, how can I use different data types in a same hash? @gautam m"},{"owner":{"account_id":10595663,"reputation":4835,"user_id":7804477,"display_name":"Gautham M"},"score":0,"creation_date":1619352611,"post_id":67252578,"comment_id":118874122,"body_markdown":"@KalaiSelvan currently your map is `Map&lt;String, String&gt;`, if the value part could be of different types then use `Map&lt;String, Object&gt;`","body":"@KalaiSelvan currently your map is <code>Map&lt;String, String&gt;</code>, if the value part could be of different types then use <code>Map&lt;String, Object&gt;</code>"}],"tags":[],"owner":{"account_id":10595663,"reputation":4835,"user_id":7804477,"display_name":"Gautham M"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1619348161,"creation_date":1619348161,"answer_id":67252578,"question_id":67252485,"body_markdown":"For each iteration you are replacing the same key. So only the data in the last iteration would be available.\r\n\r\nReplace the code as follows:\r\n\r\n    List&lt;Map&lt;String, String&gt;&gt; myhash = new ArrayList&lt;&gt;();       \r\n    for (Applicant applicant : users) {\r\n        Map&lt;String, String&gt; map = new HashMap&lt;&gt;();\r\n        map.put(&quot;fathername&quot;, applicant.getFather_name());\r\n        map.put(&quot;name&quot;, applicant.getFirst_name());\r\n        myhash.add(map);\r\n        System.out.println(applicant.getFirst_name());\r\n    }\r\n\r\n    return myhash;\r\n","title":"create dynamic objects using spring boot hashmap","body":"<p>For each iteration you are replacing the same key. So only the data in the last iteration would be available.</p>\n<p>Replace the code as follows:</p>\n<pre><code>List&lt;Map&lt;String, String&gt;&gt; myhash = new ArrayList&lt;&gt;();       \nfor (Applicant applicant : users) {\n    Map&lt;String, String&gt; map = new HashMap&lt;&gt;();\n    map.put(&quot;fathername&quot;, applicant.getFather_name());\n    map.put(&quot;name&quot;, applicant.getFirst_name());\n    myhash.add(map);\n    System.out.println(applicant.getFirst_name());\n}\n\nreturn myhash;\n</code></pre>\n"}],"owner":{"account_id":12526641,"reputation":21,"user_id":9325557,"display_name":"Kalai Selvan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1007,"favorite_count":0,"down_vote_count":4,"up_vote_count":1,"accepted_answer_id":67252578,"answer_count":1,"score":-3,"last_activity_date":1686634911,"creation_date":1619347520,"question_id":67252485,"body_markdown":"i wrote the below code to form custom objects. but its returning only single object. like below\r\n\r\n**{&quot;fathername&quot;:null,&quot;name&quot;:&quot;ks&quot;}**\r\n\r\nbut i want like below(array object)\r\n\r\n**[{&quot;name&quot;:&quot;test&quot;,&quot;fathername&quot;:&quot;test123&quot;},{&quot;name&quot;:&quot;ks&quot;,&quot;fathername&quot;:null}]**\r\n\r\nbut it is returning single object. what i am missing here, please pour your suggestions\r\n\r\n\r\n    public HashMap&lt;String, String&gt; applicantlistv2() {\t\t\r\n    \tList&lt;Applicant&gt; users = repository.findAll();\r\n    \t\r\n        HashMap&lt;String, String&gt; myhash = new HashMap&lt;String, String&gt;();\r\n       \r\n        \r\n    \tfor (Applicant applicant : users) {\r\n    \t\tmyhash.put(&quot;fathername&quot;, applicant.getFather_name());\r\n    \t\tmyhash.put(&quot;name&quot;, applicant.getFirst_name());\r\n    \t\t\r\n    \t\tSystem.out.println(applicant.getFirst_name());\r\n    \r\n    \t}\r\n    \r\n     //return repository.findAll();\r\n    \treturn myhash;\r\n    }","title":"create dynamic objects using spring boot hashmap","body":"<p>i wrote the below code to form custom objects. but its returning only single object. like below</p>\n<p><strong>{&quot;fathername&quot;:null,&quot;name&quot;:&quot;ks&quot;}</strong></p>\n<p>but i want like below(array object)</p>\n<p><strong>[{&quot;name&quot;:&quot;test&quot;,&quot;fathername&quot;:&quot;test123&quot;},{&quot;name&quot;:&quot;ks&quot;,&quot;fathername&quot;:null}]</strong></p>\n<p>but it is returning single object. what i am missing here, please pour your suggestions</p>\n<pre><code>public HashMap&lt;String, String&gt; applicantlistv2() {      \n    List&lt;Applicant&gt; users = repository.findAll();\n    \n    HashMap&lt;String, String&gt; myhash = new HashMap&lt;String, String&gt;();\n   \n    \n    for (Applicant applicant : users) {\n        myhash.put(&quot;fathername&quot;, applicant.getFather_name());\n        myhash.put(&quot;name&quot;, applicant.getFirst_name());\n        \n        System.out.println(applicant.getFirst_name());\n\n    }\n\n //return repository.findAll();\n    return myhash;\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":1979094,"reputation":3912,"user_id":1776132,"display_name":"Smile"},"score":0,"creation_date":1574073683,"post_id":58912672,"comment_id":104087383,"body_markdown":"Please add more details to your question. Is the jar included in another web application? If yes, have you tried including the controller as a bean in the web app?","body":"Please add more details to your question. Is the jar included in another web application? If yes, have you tried including the controller as a bean in the web app?"},{"owner":{"account_id":11129218,"reputation":654,"user_id":8169680,"display_name":"Surya"},"score":0,"creation_date":1574073801,"post_id":58912672,"comment_id":104087458,"body_markdown":"@Smile Yes, the jar is included in another Spring BOOT Application which I have run and trying to access the API present in the jar.","body":"@Smile Yes, the jar is included in another Spring BOOT Application which I have run and trying to access the API present in the jar."},{"owner":{"account_id":277416,"reputation":681878,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":0,"creation_date":1574074073,"post_id":58912672,"comment_id":104087598,"body_markdown":"So, access it. What happens when you do it? As long as the controller is a Spring bean registered (scanned, typically) in the Boot application, it doesn&#39;t matter whether it&#39;s in a jar or in another jar.","body":"So, access it. What happens when you do it? As long as the controller is a Spring bean registered (scanned, typically) in the Boot application, it doesn&#39;t matter whether it&#39;s in a jar or in another jar."},{"owner":{"account_id":1979094,"reputation":3912,"user_id":1776132,"display_name":"Smile"},"score":0,"creation_date":1574074220,"post_id":58912672,"comment_id":104087697,"body_markdown":"Then, make sure the controller class is configured as bean. for eg. `@ComponentScan(basePackages = &quot;your.controller.package&quot;)` is added to spring boot config. It will help if you edit your question and add code of controller as well as spring boot main class.","body":"Then, make sure the controller class is configured as bean. for eg. <code>@ComponentScan(basePackages = &quot;your.controller.package&quot;)</code> is added to spring boot config. It will help if you edit your question and add code of controller as well as spring boot main class."},{"owner":{"account_id":11129218,"reputation":654,"user_id":8169680,"display_name":"Surya"},"score":0,"creation_date":1574076762,"post_id":58912672,"comment_id":104089173,"body_markdown":"@Smile I have added the Controller as well as Spring Boot main class please check.","body":"@Smile I have added the Controller as well as Spring Boot main class please check."},{"owner":{"account_id":11129218,"reputation":654,"user_id":8169680,"display_name":"Surya"},"score":0,"creation_date":1574076773,"post_id":58912672,"comment_id":104089179,"body_markdown":"Accessing http://localhost:8080/v1/supportedDeviceTypes but getting - &#39;This application has no explicit mapping..&#39; in browser.\n\nBut I have printed the loaded beans in Application Context and could see BasicRestController bean is loaded while starting the app.","body":"Accessing <a href=\"http://localhost:8080/v1/supportedDeviceTypes\" rel=\"nofollow noreferrer\">localhost:8080/v1/supportedDeviceTypes</a> but getting - &#39;This application has no explicit mapping..&#39; in browser.  But I have printed the loaded beans in Application Context and could see BasicRestController bean is loaded while starting the app."},{"owner":{"account_id":277416,"reputation":681878,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":1,"creation_date":1574078069,"post_id":58912672,"comment_id":104089879,"body_markdown":"It should be `@RestController @RequestMapping(&quot;/v1&quot;)`. In your code, `/v1`is the name of the bean.","body":"It should be <code>@RestController @RequestMapping(&quot;&#47;v1&quot;)</code>. In your code, <code>&#47;v1</code>is the name of the bean."}],"answers":[{"comments":[{"owner":{"account_id":11129218,"reputation":654,"user_id":8169680,"display_name":"Surya"},"score":0,"creation_date":1574144490,"post_id":58926224,"comment_id":104116027,"body_markdown":"Adding ComponentScan instead of Bean solved the problem. I think Bean only scans one particular class of the jar file in my case, not all the class files of jar.\n\n&quot;Also, as JB Nizet mentioned, it should be @RestController @RequestMapping(&quot;/v1&quot;) in BasicRestController.&quot; - yes that&#39;s correct.\n\nAfter modifying as per the suggestions my code worked. Thanks a lot guys.","body":"Adding ComponentScan instead of Bean solved the problem. I think Bean only scans one particular class of the jar file in my case, not all the class files of jar.  &quot;Also, as JB Nizet mentioned, it should be @RestController @RequestMapping(&quot;/v1&quot;) in BasicRestController.&quot; - yes that&#39;s correct.  After modifying as per the suggestions my code worked. Thanks a lot guys."},{"owner":{"account_id":74149,"reputation":1808,"user_id":213199,"accept_rate":49,"display_name":"Stella"},"score":0,"creation_date":1686634388,"post_id":58926224,"comment_id":134821906,"body_markdown":"Hi @Surya, how did you solve this? I have same problem and I donât know of any solution to solve this. Here is my query: https://stackoverflow.com/questions/76461051/accessing-intellij-gradle-based-spring-boot-service-application-jar-file-throw","body":"Hi @Surya, how did you solve this? I have same problem and I donât know of any solution to solve this. Here is my query: <a href=\"https://stackoverflow.com/questions/76461051/accessing-intellij-gradle-based-spring-boot-service-application-jar-file-throw\" title=\"accessing intellij gradle based spring boot service application jar file throw\">stackoverflow.com/questions/76461051/&hellip;</a>"}],"tags":[],"owner":{"account_id":1979094,"reputation":3912,"user_id":1776132,"display_name":"Smile"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1574134350,"creation_date":1574134350,"answer_id":58926224,"question_id":58912672,"body_markdown":"Try removing following bean from `CommonControllerConfig`\r\n```java\r\n        @Bean\r\n        public BasicRestController basicRestController() {\r\n            return new BasicRestController();\r\n        }\r\n```\r\nAnd instead add `@ComponentScan(basePackages = &quot;your.controller.package&quot;)`\r\nAlso, as JB Nizet mentioned, it should be `@RestController @RequestMapping(&quot;/v1&quot;)` in `BasicRestController`.","title":"How to access Rest APIs mentioned in Controller class of a Jar file in my Spring Boot Application","body":"<p>Try removing following bean from <code>CommonControllerConfig</code></p>\n\n<pre class=\"lang-java prettyprint-override\"><code>        @Bean\n        public BasicRestController basicRestController() {\n            return new BasicRestController();\n        }\n</code></pre>\n\n<p>And instead add <code>@ComponentScan(basePackages = \"your.controller.package\")</code>\nAlso, as JB Nizet mentioned, it should be <code>@RestController @RequestMapping(\"/v1\")</code> in <code>BasicRestController</code>.</p>\n"}],"owner":{"account_id":11129218,"reputation":654,"user_id":8169680,"display_name":"Surya"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":960,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":58926224,"answer_count":1,"score":-1,"last_activity_date":1686634655,"creation_date":1574073491,"question_id":58912672,"body_markdown":"I am new to Spring / Spring Boot.\r\n\r\nIn my Spring Boot Application, I have a **JAR** file which has a Controller class and corresponding Service Interface (not class). I have implemented the Service interface and created a Service class with some logic. Now I want to access the APIs (/v1/getDetails) present in Controller class of JAR file.\r\n\r\nCan we access the REST APIs present in Controller class of JAR file? If so then please guide me.\r\n\r\nPS: I have tried to search on internet but didn&#39;t get a clear answer.\r\n\r\n**Controller class in Jar:**\r\n```java\r\n    @RestController(&quot;/v1&quot;)  \r\n    public class BasicRestController {  \r\n    \t@Autowired  \r\n    \tBasicServiceInterface basicService;  \r\n    \t\r\n    \t@GetMapping(&quot;/supportedDeviceTypes&quot;)\r\n    \tpublic NameValuePair&lt;?&gt; getSupportedDeviceTypes() {\r\n    \t\treturn basicService.getSupportedDeviceTypes();\r\n    \t}\r\n    }\r\n```\r\n**Spring Boot Main Class:** \r\n```java\r\n    @SpringBootApplication  \r\n    public class XXXProjectApplication{\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(XXXProjectApplication.class, args);\r\n    \t}\r\n    }\r\n```\r\n**Configuration Class:**\r\n```java \r\n    @Configuration  \r\n    public class CommonControllerConfig {  \r\n    \r\n    \t@Bean\r\n    \tpublic BasicRestController basicRestController() {\r\n    \t\treturn new BasicRestController();\r\n    \t}\r\n    }\r\n```\r\n\r\nAccessing http://localhost:8080/v1/supportedDeviceTypes but getting - &#39;This application has no explicit mapping..&#39; in browser.\r\n\r\nBut I have printed the loaded beans in Application Context and could see BasicRestController bean is loaded while starting the app.","title":"How to access Rest APIs mentioned in Controller class of a Jar file in my Spring Boot Application","body":"<p>I am new to Spring / Spring Boot.</p>\n\n<p>In my Spring Boot Application, I have a <strong>JAR</strong> file which has a Controller class and corresponding Service Interface (not class). I have implemented the Service interface and created a Service class with some logic. Now I want to access the APIs (/v1/getDetails) present in Controller class of JAR file.</p>\n\n<p>Can we access the REST APIs present in Controller class of JAR file? If so then please guide me.</p>\n\n<p>PS: I have tried to search on internet but didn't get a clear answer.</p>\n\n<p><strong>Controller class in Jar:</strong></p>\n\n<pre class=\"lang-java prettyprint-override\"><code>    @RestController(\"/v1\")  \n    public class BasicRestController {  \n        @Autowired  \n        BasicServiceInterface basicService;  \n\n        @GetMapping(\"/supportedDeviceTypes\")\n        public NameValuePair&lt;?&gt; getSupportedDeviceTypes() {\n            return basicService.getSupportedDeviceTypes();\n        }\n    }\n</code></pre>\n\n<p><strong>Spring Boot Main Class:</strong> </p>\n\n<pre class=\"lang-java prettyprint-override\"><code>    @SpringBootApplication  \n    public class XXXProjectApplication{\n\n        public static void main(String[] args) {\n            SpringApplication.run(XXXProjectApplication.class, args);\n        }\n    }\n</code></pre>\n\n<p><strong>Configuration Class:</strong></p>\n\n<pre class=\"lang-java prettyprint-override\"><code>    @Configuration  \n    public class CommonControllerConfig {  \n\n        @Bean\n        public BasicRestController basicRestController() {\n            return new BasicRestController();\n        }\n    }\n</code></pre>\n\n<p>Accessing <a href=\"http://localhost:8080/v1/supportedDeviceTypes\" rel=\"nofollow noreferrer\">http://localhost:8080/v1/supportedDeviceTypes</a> but getting - 'This application has no explicit mapping..' in browser.</p>\n\n<p>But I have printed the loaded beans in Application Context and could see BasicRestController bean is loaded while starting the app.</p>\n"},{"tags":["java","anylogic","systemdynamics"],"answers":[{"comments":[{"owner":{"account_id":2486375,"reputation":11068,"user_id":2164728,"accept_rate":62,"display_name":"Benjamin"},"score":0,"creation_date":1686736703,"post_id":76461901,"comment_id":134839095,"body_markdown":"sure, please upvote answers that were helpful, see https://stackoverflow.com/help/why-vote","body":"sure, please upvote answers that were helpful, see <a href=\"https://stackoverflow.com/help/why-vote\">stackoverflow.com/help/why-vote</a>"},{"owner":{"account_id":28808392,"reputation":33,"user_id":22063691,"display_name":"Alex"},"score":1,"creation_date":1686870918,"post_id":76461901,"comment_id":134861658,"body_markdown":"Hi Benjamin - tried to upvote it but I&#39;m also brand new to posting on stackoverflow, so I still lack the &#39;reputation&#39; to be able to cast a vote","body":"Hi Benjamin - tried to upvote it but I&#39;m also brand new to posting on stackoverflow, so I still lack the &#39;reputation&#39; to be able to cast a vote"}],"tags":[],"owner":{"account_id":2486375,"reputation":11068,"user_id":2164728,"accept_rate":62,"display_name":"Benjamin"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1686633978,"creation_date":1686633978,"answer_id":76461901,"question_id":76461036,"body_markdown":"Use conditional operators, you can only write 1 line of code in those fields:\r\n\r\n`Police&lt;7500 ? 10 : 5`\r\n\r\n","title":"Writing an AnyLogic if-then statements - System Dynamics (stocks + flows)","body":"<p>Use conditional operators, you can only write 1 line of code in those fields:</p>\n<p><code>Police&lt;7500 ? 10 : 5</code></p>\n"},{"comments":[{"owner":{"account_id":28808392,"reputation":33,"user_id":22063691,"display_name":"Alex"},"score":0,"creation_date":1686722851,"post_id":76461906,"comment_id":134836320,"body_markdown":"Yep, made use of the first equation and it worked perfectly. Thank you","body":"Yep, made use of the first equation and it worked perfectly. Thank you"}],"tags":[],"owner":{"account_id":4196914,"reputation":8766,"user_id":3438111,"accept_rate":100,"display_name":"Felipe"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1686634039,"creation_date":1686634039,"answer_id":76461906,"question_id":76461036,"body_markdown":"you have to use the following format:\r\n\r\n    Police&lt;7500 ? 10 : 5\r\n\r\nor you can use a function that returns a double\r\n\r\n    function(Police)\r\n\r\nand the function would have the following\r\n\r\n    if(Police&lt;7500) return 10.0;\r\n    else return 5.0;","title":"Writing an AnyLogic if-then statements - System Dynamics (stocks + flows)","body":"<p>you have to use the following format:</p>\n<pre><code>Police&lt;7500 ? 10 : 5\n</code></pre>\n<p>or you can use a function that returns a double</p>\n<pre><code>function(Police)\n</code></pre>\n<p>and the function would have the following</p>\n<pre><code>if(Police&lt;7500) return 10.0;\nelse return 5.0;\n</code></pre>\n"}],"owner":{"account_id":28808392,"reputation":33,"user_id":22063691,"display_name":"Alex"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76461906,"answer_count":2,"score":1,"last_activity_date":1686634039,"creation_date":1686616304,"question_id":76461036,"body_markdown":"New to AnyLogic and trying to create conditional, if-then equations within flow elements.\r\n\r\nFor example, I would like the flow of âpolice_graduatesâ to be 10, on the condition that the stock of âPoliceâ is less than 7500; if the stock surpasses 7500, I would like the flow of âpolice_graduatesâ to be 5. \r\n\r\nI entered the following equation into the equation field of the flow properties:\r\n\r\n```\r\nif( Police&lt;7500 )\r\n  10\r\n  else \r\n  5\r\n```\r\n\r\n[See here](https://i.stack.imgur.com/YL87L.jpg)\r\n\r\nBut the model does not run and I get the following error message:\r\n\r\n```\r\nError during model creation:\r\nERROR during variable generation:\r\nCouldn&#39;t parse expression for police_graduates - Flow: syntax error.\r\nPlease check expressions of this variable.\r\njava.lang.RuntimeException: ERROR during variable generation:\r\nCouldn&#39;t parse expression for police_graduates - Flow: syntax error.\r\nPlease check expressions of this variable.\r\n\tat model2.Main.&lt;init&gt;(Main.java:162)\r\n\tat model2.Simulation.createRoot(Simulation.java:158)\r\n\tat model2.Simulation.createRoot(Simulation.java:1)\r\n```\r\n\r\n\r\nIs there something wrong with the syntax in which Iâve written the equation?","title":"Writing an AnyLogic if-then statements - System Dynamics (stocks + flows)","body":"<p>New to AnyLogic and trying to create conditional, if-then equations within flow elements.</p>\n<p>For example, I would like the flow of âpolice_graduatesâ to be 10, on the condition that the stock of âPoliceâ is less than 7500; if the stock surpasses 7500, I would like the flow of âpolice_graduatesâ to be 5.</p>\n<p>I entered the following equation into the equation field of the flow properties:</p>\n<pre><code>if( Police&lt;7500 )\n  10\n  else \n  5\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/YL87L.jpg\" rel=\"nofollow noreferrer\">See here</a></p>\n<p>But the model does not run and I get the following error message:</p>\n<pre><code>Error during model creation:\nERROR during variable generation:\nCouldn't parse expression for police_graduates - Flow: syntax error.\nPlease check expressions of this variable.\njava.lang.RuntimeException: ERROR during variable generation:\nCouldn't parse expression for police_graduates - Flow: syntax error.\nPlease check expressions of this variable.\n    at model2.Main.&lt;init&gt;(Main.java:162)\n    at model2.Simulation.createRoot(Simulation.java:158)\n    at model2.Simulation.createRoot(Simulation.java:1)\n</code></pre>\n<p>Is there something wrong with the syntax in which Iâve written the equation?</p>\n"},{"tags":["java","spring-boot","spring-security","spring-data-jpa"],"comments":[{"owner":{"account_id":4181375,"reputation":5121,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1686632502,"post_id":76461749,"comment_id":134821749,"body_markdown":"I would say JPA somewhere else saves client entity and overrides the value of `locked` property stored by `lockClientAccount` method, and believe that marking `locked`  property as non-updatable (i.e. `@Column(... updatable = false ...)`) should help. FYI, that is extremely hard to read your code due to reverse logic of `locked` property.","body":"I would say JPA somewhere else saves client entity and overrides the value of <code>locked</code> property stored by <code>lockClientAccount</code> method, and believe that marking <code>locked</code>  property as non-updatable (i.e. <code>@Column(... updatable = false ...)</code>) should help. FYI, that is extremely hard to read your code due to reverse logic of <code>locked</code> property."},{"owner":{"account_id":25502779,"reputation":109,"user_id":19295685,"display_name":"seju"},"score":0,"creation_date":1686633338,"post_id":76461749,"comment_id":134821806,"body_markdown":"@AndreyB.Panfilov sorry can you rephrase? You think JPA is overriding the property but I should try setting `accountNoneLocked` column property to `updateable = false`? And I refactored to make it less confusing","body":"@AndreyB.Panfilov sorry can you rephrase? You think JPA is overriding the property but I should try setting <code>accountNoneLocked</code> column property to <code>updateable = false</code>? And I refactored to make it less confusing"},{"owner":{"account_id":4181375,"reputation":5121,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1686634286,"post_id":76461749,"comment_id":134821899,"body_markdown":"there are two ways how `accountNoneLocked` property could be updated in DB: 1) via direct JPQL update (your `lockClientAccount` method), 2) via explicit or implicit save of  `Clientz` entity. Since you are facing concurrency issues that is good idea to get a single point of truth of `accountNoneLocked` property state, i.e. disable updating `accountNoneLocked` property via saving entity.","body":"there are two ways how <code>accountNoneLocked</code> property could be updated in DB: 1) via direct JPQL update (your <code>lockClientAccount</code> method), 2) via explicit or implicit save of  <code>Clientz</code> entity. Since you are facing concurrency issues that is good idea to get a single point of truth of <code>accountNoneLocked</code> property state, i.e. disable updating <code>accountNoneLocked</code> property via saving entity."},{"owner":{"account_id":25502779,"reputation":109,"user_id":19295685,"display_name":"seju"},"score":0,"creation_date":1686634786,"post_id":76461749,"comment_id":134821944,"body_markdown":"@AndreyB.Panfilov sorry it is still not clear to me. Are you suggesting I instead set `accountNoneLocked` column to updateable false via -&gt; `@Column(name = &quot;account_none_locked&quot;, nullable = false, updatable = false)\nprivate boolean accountNoneLocked;` and save the entire entity object via `this.clientRepository.save(clientz)` because I am facing concurrency issues?","body":"@AndreyB.Panfilov sorry it is still not clear to me. Are you suggesting I instead set <code>accountNoneLocked</code> column to updateable false via -&gt; <code>@Column(name = &quot;account_none_locked&quot;, nullable = false, updatable = false) private boolean accountNoneLocked;</code> and save the entire entity object via <code>this.clientRepository.save(clientz)</code> because I am facing concurrency issues?"},{"owner":{"account_id":4181375,"reputation":5121,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1686634875,"post_id":76461749,"comment_id":134821952,"body_markdown":"No, just set `updatable` to `false` and do not change anything else.","body":"No, just set <code>updatable</code> to <code>false</code> and do not change anything else."},{"owner":{"account_id":25502779,"reputation":109,"user_id":19295685,"display_name":"seju"},"score":0,"creation_date":1686635016,"post_id":76461749,"comment_id":134821966,"body_markdown":"@AndreyB.Panfilov ok just a moment. I&#39;ll make these changes and run integration tests","body":"@AndreyB.Panfilov ok just a moment. I&#39;ll make these changes and run integration tests"},{"owner":{"account_id":25502779,"reputation":109,"user_id":19295685,"display_name":"seju"},"score":0,"creation_date":1686635954,"post_id":76461749,"comment_id":134822085,"body_markdown":"@AndreyB.Panfilov unfortunately, still the same issue.","body":"@AndreyB.Panfilov unfortunately, still the same issue."}],"owner":{"account_id":25502779,"reputation":109,"user_id":19295685,"display_name":"seju"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686633807,"creation_date":1686631440,"question_id":76461749,"body_markdown":"I am trying to build a brute force attack prevention mechanics for a mini project. The issue I&#39;m facing involves the method `registerLoginFailure` method, which is triggered by a BadCredentials Exception using the @EventListener annotation. The problem is that despite marking the method as @Transactional and attempting to update the locked property of the Clientz entity, the update is not persisted, even though the object is successfully found using findByPrincipal.\r\n\r\nMethod Structure: The registerLoginFailure method follows a structured approach to handle login failures. It checks the client&#39;s status, tracks login attempts, and updates the property accordingly. However, the issue lies within the update step.\r\n\r\nBruteForceService\r\n\r\n```\r\nimport org.springframework.transaction.annotation.Transactional;\r\n    /**\r\n     * Method to register every login failure of type BadCredentials for a Clientz.\r\n     * this.bruteForceRepo stores in redis for caching and concurrency\r\n     * @param auth of type Spring Core Authentication\r\n     */\r\n    @Transactional\r\n    public void registerLoginFailure(Authentication auth) {\r\n        var clientz = this.clientRepository.findByPrincipal(auth.getName()).orElse(null);\r\n\r\n        if (clientz == null || !clientz.accountNoneLocked()) {\r\n            return;\r\n        }\r\n\r\n        // Using redis for caching and concurrency\r\n        var bruteEntity = this.bruteForceRepo.findByPrincipal(auth.getName());\r\n\r\n        if (bruteEntity.isEmpty()) {\r\n            this.bruteForceRepo.save(new BruteForceEntity(0, auth.getName()));\r\n            return;\r\n        }\r\n\r\n        if (bruteEntity.get().getFailedAttempt() &lt; this.MAX) {\r\n            bruteEntity.get().setFailedAttempt(bruteEntity.get().getFailedAttempt() + 1);\r\n            this.bruteForceRepo.update(bruteEntity.get());\r\n            return;\r\n        }\r\n\r\n        this.clientRepository.lockClientAccount(false, clientz.getClientId());\r\n        // TODO send client email to change password\r\n    }\r\n```\r\nQuery method `lockClientAccount` is responsible for updating the boolean property locked of the `Clientz` entity. It is defined using the `@Modifying` annotation, indicating that it performs a modification query. The query uses the JPQL syntax to update the entity. The flushAutomatically and clearAutomatically properties are set to true in the annotation, ensuring that the persistence context is cleared and flushed automatically before and after the query execution.\r\n\r\n```\r\nimport org.springframework.data.jpa.repository.Modifying;\r\nimport org.springframework.transaction.annotation.Transactional;\r\n\r\n@Modifying(flushAutomatically = true, clearAutomatically = true)\r\n@Transactional\r\n@Query(value = &quot;UPDATE Clientz c SET c.accountNoneLocked = ?1 WHERE c.clientId = ?2&quot;)\r\nvoid lockClientAccount(@Param(value = &quot;bool&quot;) boolean bool, @Param(value = &quot;id&quot;) Long id);\r\n```\r\n\r\n\r\nAuthentication Events which triggers `registerLoginFailure`\r\n\r\n```\r\n@Component\r\npublic class AuthenticationEvents {\r\n\r\n  @EventListener\r\n  public void onFailure(AbstractAuthenticationFailureEvent failures) {\r\n     bruteForceService.registerLoginFailure(failures.getAuthentication());\r\n  }\r\n\r\n}\r\n```\r\n\r\nI should also say `lockClientAccount` query method functions correctly when invoked through a PUT RESTful call. However, it fails to work as expected when multiple or concurrent POST HTTP calls (login attempts) with incorrect credentials are made.","title":"Using @Modifying annotation on an @EventListener in Spring Security/JPA data modifications are not persisted in the database","body":"<p>I am trying to build a brute force attack prevention mechanics for a mini project. The issue I'm facing involves the method <code>registerLoginFailure</code> method, which is triggered by a BadCredentials Exception using the @EventListener annotation. The problem is that despite marking the method as @Transactional and attempting to update the locked property of the Clientz entity, the update is not persisted, even though the object is successfully found using findByPrincipal.</p>\n<p>Method Structure: The registerLoginFailure method follows a structured approach to handle login failures. It checks the client's status, tracks login attempts, and updates the property accordingly. However, the issue lies within the update step.</p>\n<p>BruteForceService</p>\n<pre><code>import org.springframework.transaction.annotation.Transactional;\n    /**\n     * Method to register every login failure of type BadCredentials for a Clientz.\n     * this.bruteForceRepo stores in redis for caching and concurrency\n     * @param auth of type Spring Core Authentication\n     */\n    @Transactional\n    public void registerLoginFailure(Authentication auth) {\n        var clientz = this.clientRepository.findByPrincipal(auth.getName()).orElse(null);\n\n        if (clientz == null || !clientz.accountNoneLocked()) {\n            return;\n        }\n\n        // Using redis for caching and concurrency\n        var bruteEntity = this.bruteForceRepo.findByPrincipal(auth.getName());\n\n        if (bruteEntity.isEmpty()) {\n            this.bruteForceRepo.save(new BruteForceEntity(0, auth.getName()));\n            return;\n        }\n\n        if (bruteEntity.get().getFailedAttempt() &lt; this.MAX) {\n            bruteEntity.get().setFailedAttempt(bruteEntity.get().getFailedAttempt() + 1);\n            this.bruteForceRepo.update(bruteEntity.get());\n            return;\n        }\n\n        this.clientRepository.lockClientAccount(false, clientz.getClientId());\n        // TODO send client email to change password\n    }\n</code></pre>\n<p>Query method <code>lockClientAccount</code> is responsible for updating the boolean property locked of the <code>Clientz</code> entity. It is defined using the <code>@Modifying</code> annotation, indicating that it performs a modification query. The query uses the JPQL syntax to update the entity. The flushAutomatically and clearAutomatically properties are set to true in the annotation, ensuring that the persistence context is cleared and flushed automatically before and after the query execution.</p>\n<pre><code>import org.springframework.data.jpa.repository.Modifying;\nimport org.springframework.transaction.annotation.Transactional;\n\n@Modifying(flushAutomatically = true, clearAutomatically = true)\n@Transactional\n@Query(value = &quot;UPDATE Clientz c SET c.accountNoneLocked = ?1 WHERE c.clientId = ?2&quot;)\nvoid lockClientAccount(@Param(value = &quot;bool&quot;) boolean bool, @Param(value = &quot;id&quot;) Long id);\n</code></pre>\n<p>Authentication Events which triggers <code>registerLoginFailure</code></p>\n<pre><code>@Component\npublic class AuthenticationEvents {\n\n  @EventListener\n  public void onFailure(AbstractAuthenticationFailureEvent failures) {\n     bruteForceService.registerLoginFailure(failures.getAuthentication());\n  }\n\n}\n</code></pre>\n<p>I should also say <code>lockClientAccount</code> query method functions correctly when invoked through a PUT RESTful call. However, it fails to work as expected when multiple or concurrent POST HTTP calls (login attempts) with incorrect credentials are made.</p>\n"},{"tags":["java","intellij-idea","libgdx"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1686648823,"post_id":76461825,"comment_id":134824548,"body_markdown":"Yes, there is a question open on this. Please post a link to it. Also, [please never post images of text](https://meta.stackoverflow.com/questions/285551/why-should-i-not-upload-images-of-code-data-errors/285557#285557). They are not searchable, we cannot copy-paste... Always copy-paste the text and format it properly.\nYou should have posted the output of `echo %JAVA_HOME%` *as code-formatted text*. That is showing you that your Java home is in quite a different place from the Java that&#39;s being used to run. You need to *pre*pend `%JAVA_HOME%\\bin;` to `PATH`","body":"Yes, there is a question open on this. Please post a link to it. Also, <a href=\"https://meta.stackoverflow.com/questions/285551/why-should-i-not-upload-images-of-code-data-errors/285557#285557\">please never post images of text</a>. They are not searchable, we cannot copy-paste... Always copy-paste the text and format it properly. You should have posted the output of <code>echo %JAVA_HOME%</code> <i>as code-formatted text</i>. That is showing you that your Java home is in quite a different place from the Java that&#39;s being used to run. You need to <i>pre</i>pend <code>%JAVA_HOME%\\bin;</code> to <code>PATH</code>"}],"owner":{"account_id":26661153,"reputation":1,"user_id":20273960,"display_name":"Yesto"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686632889,"creation_date":1686632708,"question_id":76461825,"body_markdown":"I know there is already a question to this, but I&#39;m a beginner and all the links I&#39;ve read didn&#39;t really help me so this is kind of my last resort of the night\r\n\r\nso I&#39;m trying to create a game on libgdx, at the start when I run the default badlogic game it seems normal and runs just fine.\r\n\r\nbut when I add my own codes (I know maybe there&#39;s an mistake on my code), but instead of displaying my errors it says this:\r\nExecution failed for task &#39;:desktop:DesktopLauncher.main()&#39;.\r\n&gt; Process &#39;command &#39;C:/Users/RAKITAN/.jdks/jdk-18.0.2.1/bin/java.exe&#39;&#39; finished with non-zero exit value 1\r\n\r\n\r\nI&#39;ve tried:\r\n- I checked and echoing the java version on cmd and it seems right (jdk 18):\r\n[cmd](https://i.stack.imgur.com/t0WsU.png)\r\n\r\n- I also already tried the &#39;invalidate cache and restart&#39; method as the top comment said on https://stackoverflow.com/questions/60651244/process-command-c-program-files-java-jdk-bin-java-exe-finished-with-non-zer\r\n\r\n- Create an env VAR JAVA_HOME and configure the enviroment variables\r\n\r\n- Tried re-installing IntelliJ\r\n\r\nWhat is actually the problem here? Do I have to delete and re-download the JDKs? \r\nIf I need to post something related to the question feel free to let me know. Thanks","title":"Process &#39;command &#39;C:/Users/RAKITAN/.jdks/jdk-18.0.2.1/bin/java.exe&#39;&#39; finished with non-zero exit value 1 for LIBGDX","body":"<p>I know there is already a question to this, but I'm a beginner and all the links I've read didn't really help me so this is kind of my last resort of the night</p>\n<p>so I'm trying to create a game on libgdx, at the start when I run the default badlogic game it seems normal and runs just fine.</p>\n<p>but when I add my own codes (I know maybe there's an mistake on my code), but instead of displaying my errors it says this:\nExecution failed for task ':desktop:DesktopLauncher.main()'.</p>\n<blockquote>\n<p>Process 'command 'C:/Users/RAKITAN/.jdks/jdk-18.0.2.1/bin/java.exe'' finished with non-zero exit value 1</p>\n</blockquote>\n<p>I've tried:</p>\n<ul>\n<li><p>I checked and echoing the java version on cmd and it seems right (jdk 18):\n<a href=\"https://i.stack.imgur.com/t0WsU.png\" rel=\"nofollow noreferrer\">cmd</a></p>\n</li>\n<li><p>I also already tried the 'invalidate cache and restart' method as the top comment said on <a href=\"https://stackoverflow.com/questions/60651244/process-command-c-program-files-java-jdk-bin-java-exe-finished-with-non-zer\">Process &#39;command &#39;C:\\Program Files\\Java\\jdk\\bin\\java.exe&#39;&#39; finished with non-zero exit value 1 eclipse</a></p>\n</li>\n<li><p>Create an env VAR JAVA_HOME and configure the enviroment variables</p>\n</li>\n<li><p>Tried re-installing IntelliJ</p>\n</li>\n</ul>\n<p>What is actually the problem here? Do I have to delete and re-download the JDKs?\nIf I need to post something related to the question feel free to let me know. Thanks</p>\n"},{"tags":["java","testing","integration-testing","jmx"],"answers":[{"tags":[],"owner":{"account_id":557644,"reputation":11713,"user_id":920173,"accept_rate":79,"display_name":"Salvatorelab"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1516874100,"creation_date":1516874100,"answer_id":48440028,"question_id":48440027,"body_markdown":"The error is pretty clear, there is an instance already and someone is trying to create another one. And it fails. \r\n\r\nOne way to solve this, when the problem is only showing on tests, is to ignore registration of duplicated mBeans:\r\n\r\n    &lt;context:mbean-export registration=&quot;ignoreExisting&quot;/&gt;\r\n\r\nOr if you prefer the annotation way:\r\n\r\n    @Autowired\r\n    MBeanExporter mBeanExporter;\r\n\r\nAnd then set the policy to **ignore**:\r\n\r\n    mBeanExporter.setRegistrationPolicy(RegistrationPolicy.IGNORE_EXISTING);\r\n\r\nBy default the policy is set to **FAIL_ON_EXISTING**. You can also set it to **REPLACE_EXISTING**.","title":"Testing: Unable to register MBean instance already exists","body":"<p>The error is pretty clear, there is an instance already and someone is trying to create another one. And it fails. </p>\n\n<p>One way to solve this, when the problem is only showing on tests, is to ignore registration of duplicated mBeans:</p>\n\n<pre><code>&lt;context:mbean-export registration=\"ignoreExisting\"/&gt;\n</code></pre>\n\n<p>Or if you prefer the annotation way:</p>\n\n<pre><code>@Autowired\nMBeanExporter mBeanExporter;\n</code></pre>\n\n<p>And then set the policy to <strong>ignore</strong>:</p>\n\n<pre><code>mBeanExporter.setRegistrationPolicy(RegistrationPolicy.IGNORE_EXISTING);\n</code></pre>\n\n<p>By default the policy is set to <strong>FAIL_ON_EXISTING</strong>. You can also set it to <strong>REPLACE_EXISTING</strong>.</p>\n"},{"tags":[],"owner":{"account_id":12560057,"reputation":66,"user_id":9138174,"display_name":"surajtekchandani"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1523260251,"creation_date":1523259950,"answer_id":49727876,"question_id":48440027,"body_markdown":"If you are using java based configuration you only need to add this \r\n\r\n@EnableMBeanExport(registration=RegistrationPolicy.REPLACE_EXISTING)\r\nOR\r\n@EnableMBeanExport(registration=RegistrationPolicy.IGNORE_EXISTING)\r\n\r\nSo it will replace or use already existing bean (according to your configuration) and it will not give any kind of error","title":"Testing: Unable to register MBean instance already exists","body":"<p>If you are using java based configuration you only need to add this </p>\n\n<p>@EnableMBeanExport(registration=RegistrationPolicy.REPLACE_EXISTING)\nOR\n@EnableMBeanExport(registration=RegistrationPolicy.IGNORE_EXISTING)</p>\n\n<p>So it will replace or use already existing bean (according to your configuration) and it will not give any kind of error</p>\n"},{"tags":[],"owner":{"display_name":"user10389661"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1549285717,"creation_date":1549285717,"answer_id":54516844,"question_id":48440027,"body_markdown":"If you have the @EnableAutoConfiguration annotation above your test, consider it to remove it. That helped me.  ","title":"Testing: Unable to register MBean instance already exists","body":"<p>If you have the @EnableAutoConfiguration annotation above your test, consider it to remove it. That helped me.  </p>\n"},{"tags":[],"owner":{"account_id":27996,"reputation":3020,"user_id":74343,"accept_rate":62,"display_name":"Brimstedt"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686632840,"creation_date":1686632840,"answer_id":76461832,"question_id":48440027,"body_markdown":"\r\nIn my case this occurred during tests, a second configuration that enables jmx (and scheduling in my case) that is not enabled for integration tests solved the issue. \r\n\r\n    @Configuration\r\n    @EnableScheduling\r\n    @EnableMBeanExport\r\n    @Profile(&quot;!integrationtest&quot;) // Do not run for the integrationtest profile \r\n    public class SchedulingConfiguration {\r\n    \r\n    }\r\n\r\nYou also need to annotate your tests so they use the integrationtest profile:\r\n\r\n    @SpringBootTest\r\n    @ActiveProfiles(&quot;integrationtest&quot;)\r\n    class XServiceTest {\r\n\r\n","title":"Testing: Unable to register MBean instance already exists","body":"<p>In my case this occurred during tests, a second configuration that enables jmx (and scheduling in my case) that is not enabled for integration tests solved the issue.</p>\n<pre><code>@Configuration\n@EnableScheduling\n@EnableMBeanExport\n@Profile(&quot;!integrationtest&quot;) // Do not run for the integrationtest profile \npublic class SchedulingConfiguration {\n\n}\n</code></pre>\n<p>You also need to annotate your tests so they use the integrationtest profile:</p>\n<pre><code>@SpringBootTest\n@ActiveProfiles(&quot;integrationtest&quot;)\nclass XServiceTest {\n</code></pre>\n"}],"owner":{"account_id":557644,"reputation":11713,"user_id":920173,"accept_rate":79,"display_name":"Salvatorelab"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8799,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":49727876,"answer_count":4,"score":3,"last_activity_date":1686632840,"creation_date":1516874100,"question_id":48440027,"body_markdown":"We have a few integration tests but recently we have faced a problem when a **@ManagedResource** is in the way:\r\n\r\n    Unable to register MBean [com.api.configuration.ApiConfiguration@63fde7ca] with key &#39;apiConfiguration&#39;; nested exception is javax.management.InstanceAlreadyExistsException: api:name=ApiConfiguration\r\n\r\nAnd the offending bean looks like this:\r\n\r\n    @Component\r\n    @ManagedResource(objectName = &quot;api:name=ApiConfiguration&quot;)\r\n    public class ApiConfiguration {\r\n    \r\n        @ManagedOperation\t\r\n    \tpublic void reloadConfiguration() {\r\n            // do something\r\n        }\r\n        \r\n    }\r\n\r\nWe have tried adding a `@DirtiesContext` on every integration test without success.\r\nThe error only appears when running all tests from Maven or IntelliJ. If we run only one of the failing tests it works.","title":"Testing: Unable to register MBean instance already exists","body":"<p>We have a few integration tests but recently we have faced a problem when a <strong>@ManagedResource</strong> is in the way:</p>\n\n<pre><code>Unable to register MBean [com.api.configuration.ApiConfiguration@63fde7ca] with key 'apiConfiguration'; nested exception is javax.management.InstanceAlreadyExistsException: api:name=ApiConfiguration\n</code></pre>\n\n<p>And the offending bean looks like this:</p>\n\n<pre><code>@Component\n@ManagedResource(objectName = \"api:name=ApiConfiguration\")\npublic class ApiConfiguration {\n\n    @ManagedOperation   \n    public void reloadConfiguration() {\n        // do something\n    }\n\n}\n</code></pre>\n\n<p>We have tried adding a <code>@DirtiesContext</code> on every integration test without success.\nThe error only appears when running all tests from Maven or IntelliJ. If we run only one of the failing tests it works.</p>\n"},{"tags":["java","websphere","websphere-commerce"],"owner":{"account_id":18802560,"reputation":639,"user_id":13712583,"display_name":"KUNAL HIRANI"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686632703,"creation_date":1686563365,"question_id":76455445,"body_markdown":"I want to add extra data into response entity of out of box handler method. \r\n\r\nThere is a out of box handler named **CartHandler** Which has below method\r\n\r\n```\r\n @Path(&quot;@self/usable_payment_info&quot;)\r\n public Response getUsablePaymentInfo(@PathParam(&quot;storeId&quot;) @ParameterDescription(description=&quot;The store identifier.&quot;, valueProviderClass=StoreIdProvider.class, required=true) String storeId, @QueryParam(&quot;responseFormat&quot;) @ParameterDescription(description=&quot;The response format. If the request has an input body, that body must also use the format specified in \\&quot;responseFormat\\&quot;. Valid values include \\&quot;json\\&quot; and \\&quot;xml\\&quot; without the quotes. If the responseFormat isn&#39;t specified, the \\&quot;accept\\&quot; HTTP header shall be used to determine the format of the response. If the \\&quot;accept\\&quot; HTTP header isn&#39;t specified as well, the default response format shall be in json.&quot;, valueProviderClass=ResponseType.class) String responseFormat, @QueryParam(&quot;pageNumber&quot;) @ParameterDescription(description=&quot;Page number, starting at 1. Valid values include positive integers of 1 and above. The \\&quot;pageSize\\&quot; must be specified for paging to work.&quot;) int pageNumber, @QueryParam(&quot;pageSize&quot;) @ParameterDescription(description=&quot;Page size. Used to limit the amount of data returned by a query. Valid values include positive integers of 1 and above. The \\&quot;pageNumber\\&quot; must be specified for paging to work.&quot;) int pageSize)\r\n  {\r\n\r\n  }\r\n\r\n```\r\n\r\nNow, i want to add extra fields to the existing json data which is generated in response of this above method.\r\n\r\n\r\nSo i tried to extend the CartHandler with in new handler which overrides the above method.\r\n\r\n\r\n```\r\n\r\npublic class UsablePaymentInfoHandler extends CartHandler {\r\n\r\n @override\r\n public Response getUsablePaymentInfo(@PathParam(&quot;storeId&quot;) @ParameterDescription(description=&quot;The store identifier.&quot;, valueProviderClass=StoreIdProvider.class, required=true) String storeId, @QueryParam(&quot;responseFormat&quot;) @ParameterDescription(description=&quot;The response format. If the request has an input body, that body must also use the format specified in \\&quot;responseFormat\\&quot;. Valid values include \\&quot;json\\&quot; and \\&quot;xml\\&quot; without the quotes. If the responseFormat isn&#39;t specified, the \\&quot;accept\\&quot; HTTP header shall be used to determine the format of the response. If the \\&quot;accept\\&quot; HTTP header isn&#39;t specified as well, the default response format shall be in json.&quot;, valueProviderClass=ResponseType.class) String responseFormat, @QueryParam(&quot;pageNumber&quot;) @ParameterDescription(description=&quot;Page number, starting at 1. Valid values include positive integers of 1 and above. The \\&quot;pageSize\\&quot; must be specified for paging to work.&quot;) int pageNumber, @QueryParam(&quot;pageSize&quot;) @ParameterDescription(description=&quot;Page size. Used to limit the amount of data returned by a query. Valid values include positive integers of 1 and above. The \\&quot;pageNumber\\&quot; must be specified for paging to work.&quot;) int pageSize)\r\n  {\r\n\t  super.getUsablePaymentInfo(storeId, responseFormat, pageNumber, pageSize);\r\n\t  return null;\r\n  }\r\n\r\n}\r\n\r\n```\r\n\r\nBut when i checked in debug mode, i found that control is not passed here as it is passing control to old out-of-box method only.\r\n\r\n\r\nCan anyone suggest solution for this?\r\n\r\n","title":"Can we override existing method of out-of-box handler in websphere commerce?","body":"<p>I want to add extra data into response entity of out of box handler method.</p>\n<p>There is a out of box handler named <strong>CartHandler</strong> Which has below method</p>\n<pre><code> @Path(&quot;@self/usable_payment_info&quot;)\n public Response getUsablePaymentInfo(@PathParam(&quot;storeId&quot;) @ParameterDescription(description=&quot;The store identifier.&quot;, valueProviderClass=StoreIdProvider.class, required=true) String storeId, @QueryParam(&quot;responseFormat&quot;) @ParameterDescription(description=&quot;The response format. If the request has an input body, that body must also use the format specified in \\&quot;responseFormat\\&quot;. Valid values include \\&quot;json\\&quot; and \\&quot;xml\\&quot; without the quotes. If the responseFormat isn't specified, the \\&quot;accept\\&quot; HTTP header shall be used to determine the format of the response. If the \\&quot;accept\\&quot; HTTP header isn't specified as well, the default response format shall be in json.&quot;, valueProviderClass=ResponseType.class) String responseFormat, @QueryParam(&quot;pageNumber&quot;) @ParameterDescription(description=&quot;Page number, starting at 1. Valid values include positive integers of 1 and above. The \\&quot;pageSize\\&quot; must be specified for paging to work.&quot;) int pageNumber, @QueryParam(&quot;pageSize&quot;) @ParameterDescription(description=&quot;Page size. Used to limit the amount of data returned by a query. Valid values include positive integers of 1 and above. The \\&quot;pageNumber\\&quot; must be specified for paging to work.&quot;) int pageSize)\n  {\n\n  }\n\n</code></pre>\n<p>Now, i want to add extra fields to the existing json data which is generated in response of this above method.</p>\n<p>So i tried to extend the CartHandler with in new handler which overrides the above method.</p>\n<pre><code>\npublic class UsablePaymentInfoHandler extends CartHandler {\n\n @override\n public Response getUsablePaymentInfo(@PathParam(&quot;storeId&quot;) @ParameterDescription(description=&quot;The store identifier.&quot;, valueProviderClass=StoreIdProvider.class, required=true) String storeId, @QueryParam(&quot;responseFormat&quot;) @ParameterDescription(description=&quot;The response format. If the request has an input body, that body must also use the format specified in \\&quot;responseFormat\\&quot;. Valid values include \\&quot;json\\&quot; and \\&quot;xml\\&quot; without the quotes. If the responseFormat isn't specified, the \\&quot;accept\\&quot; HTTP header shall be used to determine the format of the response. If the \\&quot;accept\\&quot; HTTP header isn't specified as well, the default response format shall be in json.&quot;, valueProviderClass=ResponseType.class) String responseFormat, @QueryParam(&quot;pageNumber&quot;) @ParameterDescription(description=&quot;Page number, starting at 1. Valid values include positive integers of 1 and above. The \\&quot;pageSize\\&quot; must be specified for paging to work.&quot;) int pageNumber, @QueryParam(&quot;pageSize&quot;) @ParameterDescription(description=&quot;Page size. Used to limit the amount of data returned by a query. Valid values include positive integers of 1 and above. The \\&quot;pageNumber\\&quot; must be specified for paging to work.&quot;) int pageSize)\n  {\n      super.getUsablePaymentInfo(storeId, responseFormat, pageNumber, pageSize);\n      return null;\n  }\n\n}\n\n</code></pre>\n<p>But when i checked in debug mode, i found that control is not passed here as it is passing control to old out-of-box method only.</p>\n<p>Can anyone suggest solution for this?</p>\n"},{"tags":["java","bitwise-operators","comparison-operators","bitwise-and"],"comments":[{"owner":{"account_id":1960454,"reputation":44539,"user_id":1762224,"accept_rate":61,"display_name":"Mr. Polywhirl"},"score":1,"creation_date":1686512427,"post_id":76452225,"comment_id":134805099,"body_markdown":"It&#39;s binary multiplication. Usually for validating bit flags.","body":"It&#39;s binary multiplication. Usually for validating bit flags."},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":1,"creation_date":1686512899,"post_id":76452225,"comment_id":134805146,"body_markdown":"It may be a mis-reference.  If I&#39;m not mistaken, I believe originally, in some old programming languages from the early 70s, that&#39;s what the single _&amp;_ would accomplish.  And, they redacted it due to inconsistencies with general programming logic, and design.  The modern approach for the single _&amp;_ is what the other posters here are explaining; the _bitwise_ operation.","body":"It may be a mis-reference.  If I&#39;m not mistaken, I believe originally, in some old programming languages from the early 70s, that&#39;s what the single <i>&amp;</i> would accomplish.  And, they redacted it due to inconsistencies with general programming logic, and design.  The modern approach for the single <i>&amp;</i> is what the other posters here are explaining; the <i>bitwise</i> operation."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":4,"creation_date":1686535131,"post_id":76452225,"comment_id":134806916,"body_markdown":"*&quot;It&#39;s binary multiplication&quot;* - I have never heard it called that before ... and it is very misleading.","body":"<i>&quot;It&#39;s binary multiplication&quot;</i> - I have never heard it called that before ... and it is very misleading."}],"answers":[{"tags":[],"owner":{"account_id":1475,"reputation":533794,"user_id":1968,"accept_rate":83,"display_name":"Konrad Rudolph"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1686512413,"creation_date":1686512413,"answer_id":76452242,"question_id":76452225,"body_markdown":"[`&amp;` performs *bitwise âandâ*](https://docs.oracle.com/javase/tutorial/java/nutsandbolts/op3.html).\r\n\r\nThus, `ch &amp; 15` checks whether any of the first four lowest bits are set (because 15 is 1111 in binary). The result of the operation is a number with all other bits set to 0, and only those of the four low-level bits set to 1 which were also set to 1 in `ch`.","title":"What&#39;s the purpose of &amp; in Java?","body":"<p><a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/op3.html\" rel=\"noreferrer\"><code>&amp;</code> performs <em>bitwise âandâ</em></a>.</p>\n<p>Thus, <code>ch &amp; 15</code> checks whether any of the first four lowest bits are set (because 15 is 1111 in binary). The result of the operation is a number with all other bits set to 0, and only those of the four low-level bits set to 1 which were also set to 1 in <code>ch</code>.</p>\n"},{"comments":[{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1686518195,"post_id":76452244,"comment_id":134805675,"body_markdown":"`ch &amp; 16` to check the **second** bit ? Are you sure it is the second one? `16` is `0b1_0000`  the 5th bit !","body":"<code>ch &amp; 16</code> to check the <b>second</b> bit ? Are you sure it is the second one? <code>16</code> is <code>0b1_0000</code>  the 5th bit !"}],"tags":[],"owner":{"account_id":21212970,"reputation":86,"user_id":15601177,"display_name":"berry.11"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1686512458,"creation_date":1686512458,"answer_id":76452244,"question_id":76452225,"body_markdown":"The &amp; operator used in the code is the bitwise AND operator. This operator checks the corresponding bits of the two operands at the bit level and generates its result.\r\n\r\nIn the code snippet, the second bit (corresponding to 16) of the variable ch is checked using the ch &amp; 16 expression. If the second bit is 1 (not 0), the last 4 bits of ch (the corresponding bits 15) are assigned to the screenData[pos] array.\r\nThis usage is used to control certain bits of ch and act accordingly. \r\n\r\nFor example, the expression ch &amp; 16 is used to check the second bit of the variable ch, while the expression ch &amp; 15 is used to get the last 4 bits of ch.\r\nHence, the &amp; operator is used to control or manipulate certain bits in bitwise operations.","title":"What&#39;s the purpose of &amp; in Java?","body":"<p>The &amp; operator used in the code is the bitwise AND operator. This operator checks the corresponding bits of the two operands at the bit level and generates its result.</p>\n<p>In the code snippet, the second bit (corresponding to 16) of the variable ch is checked using the ch &amp; 16 expression. If the second bit is 1 (not 0), the last 4 bits of ch (the corresponding bits 15) are assigned to the screenData[pos] array.\nThis usage is used to control certain bits of ch and act accordingly.</p>\n<p>For example, the expression ch &amp; 16 is used to check the second bit of the variable ch, while the expression ch &amp; 15 is used to get the last 4 bits of ch.\nHence, the &amp; operator is used to control or manipulate certain bits in bitwise operations.</p>\n"},{"comments":[{"owner":{"account_id":28654856,"reputation":33,"user_id":21941130,"display_name":"Smile D"},"score":0,"creation_date":1686519874,"post_id":76452314,"comment_id":134805827,"body_markdown":"Ohh, I see. Thanks!","body":"Ohh, I see. Thanks!"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1686552180,"post_id":76452314,"comment_id":134808275,"body_markdown":"Personally I would never allow code using `&amp;` as a logical operator. It&#39;s use implies that the code is using side effects inappropriately, and most people will read it a `&amp;&amp;` out of habit.","body":"Personally I would never allow code using <code>&amp;</code> as a logical operator. It&#39;s use implies that the code is using side effects inappropriately, and most people will read it a <code>&amp;&amp;</code> out of habit."},{"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1686565524,"post_id":76452314,"comment_id":134810977,"body_markdown":"@tgdavies I pointed that out in my answer.","body":"@tgdavies I pointed that out in my answer."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1686567230,"post_id":76452314,"comment_id":134811297,"body_markdown":"@WJS yes, not criticising your answer, just emphasizing that point.","body":"@WJS yes, not criticising your answer, just emphasizing that point."}],"tags":[],"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1686514956,"creation_date":1686513790,"answer_id":76452314,"question_id":76452225,"body_markdown":"&gt;What&#39;s the purpose of &amp; in Java?\r\n\r\nThere are two uses for the `&amp;` (AND) operator\r\n- the most common is as a bit masking operation in combination with other bit manipulation operators `(e.g ~, |, ^)` to check for certain bits or to mask off certain bits.\r\n- the other is for logical comparisons.\r\n  - `&amp;&amp;` for short circuiting conditionals\r\n  - `&amp;`  for non-short circuiting conditionals\r\n\r\n**Bit Masking, etc**\r\n```\r\nint v = 0xFF;\r\nv = v &amp; 0xF0; //now v = 0xF0\r\n```\r\n**In Conditionals**\r\n```\r\nint v = 10;\r\nint k = 1;\r\nif (v == 11 &amp;&amp; k++ == 4) {\r\n   // do something\r\n}\r\nSystem.out.println(k); // prints 1\r\n```\r\nsince `v` is false, there was no reason to check if `k++ == 4` so `k` is not incremented.  In other words it efficiently short circuits the evaluation.  This is because, when a series of `&amp;&amp;` separates various logical tests, if one fails, the whole expression is evaluated as false.  Unlike the `||` (OR operator), if a all the expressions are OR&#39;s and evaluate `false` except for one, the expression is `true`.\r\n```\r\nint v = 10;\r\nint k = 1;\r\nif (v == 11 &amp; k++ == 4) {\r\n   // do something\r\n}\r\nSystem.out.println(k); // prints 2\r\n```\r\nWith a single `&amp;` `k` is tested regardless of the outcome of the first or even the second part of the conditional.  This is, imho, less used and can induce bugs that are hard to find.\r\n\r\nIn your example, here is what is going on.\r\n```\r\nint ch = 0, pos = 0;\r\nif((ch &amp; 16) != 0) { //16 is 10000 in binary so it checks to see if that \r\n                     //bit is set, if `not ==  0`, it is set, so the \r\n                     //conditional succeeds\r\n                \r\n      screenData[pos] = (int) (ch &amp; 15); // 15 is 1111 in binary to it \r\n                                         // masks off the high order bits\r\n                                         // keeping the low   \r\n                                         // order four bits of ch and \r\n                                         // assigns the result to the array.\r\n```\r\nThe above example would be more interesting if `ch` wasn&#39;t `0` to start.\r\n    \r\n\r\n\r\n\r\n\r\n ","title":"What&#39;s the purpose of &amp; in Java?","body":"<blockquote>\n<p>What's the purpose of &amp; in Java?</p>\n</blockquote>\n<p>There are two uses for the <code>&amp;</code> (AND) operator</p>\n<ul>\n<li>the most common is as a bit masking operation in combination with other bit manipulation operators <code>(e.g ~, |, ^)</code> to check for certain bits or to mask off certain bits.</li>\n<li>the other is for logical comparisons.\n<ul>\n<li><code>&amp;&amp;</code> for short circuiting conditionals</li>\n<li><code>&amp;</code>  for non-short circuiting conditionals</li>\n</ul>\n</li>\n</ul>\n<p><strong>Bit Masking, etc</strong></p>\n<pre><code>int v = 0xFF;\nv = v &amp; 0xF0; //now v = 0xF0\n</code></pre>\n<p><strong>In Conditionals</strong></p>\n<pre><code>int v = 10;\nint k = 1;\nif (v == 11 &amp;&amp; k++ == 4) {\n   // do something\n}\nSystem.out.println(k); // prints 1\n</code></pre>\n<p>since <code>v</code> is false, there was no reason to check if <code>k++ == 4</code> so <code>k</code> is not incremented.  In other words it efficiently short circuits the evaluation.  This is because, when a series of <code>&amp;&amp;</code> separates various logical tests, if one fails, the whole expression is evaluated as false.  Unlike the <code>||</code> (OR operator), if a all the expressions are OR's and evaluate <code>false</code> except for one, the expression is <code>true</code>.</p>\n<pre><code>int v = 10;\nint k = 1;\nif (v == 11 &amp; k++ == 4) {\n   // do something\n}\nSystem.out.println(k); // prints 2\n</code></pre>\n<p>With a single <code>&amp;</code> <code>k</code> is tested regardless of the outcome of the first or even the second part of the conditional.  This is, imho, less used and can induce bugs that are hard to find.</p>\n<p>In your example, here is what is going on.</p>\n<pre><code>int ch = 0, pos = 0;\nif((ch &amp; 16) != 0) { //16 is 10000 in binary so it checks to see if that \n                     //bit is set, if `not ==  0`, it is set, so the \n                     //conditional succeeds\n                \n      screenData[pos] = (int) (ch &amp; 15); // 15 is 1111 in binary to it \n                                         // masks off the high order bits\n                                         // keeping the low   \n                                         // order four bits of ch and \n                                         // assigns the result to the array.\n</code></pre>\n<p>The above example would be more interesting if <code>ch</code> wasn't <code>0</code> to start.</p>\n"}],"owner":{"account_id":28654856,"reputation":33,"user_id":21941130,"display_name":"Smile D"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":116,"favorite_count":0,"down_vote_count":5,"up_vote_count":2,"accepted_answer_id":76452244,"answer_count":3,"score":-3,"last_activity_date":1686632411,"creation_date":1686512171,"question_id":76452225,"body_markdown":"So, I was following a pacman tutorial and the coder uses &amp; not  &amp;&amp;. He doesn&#39;t explain what it does though. I searched it up and it says that unlike &amp;&amp;, &amp; checks both statements. That makes sense. But the coder doesn&#39;t use it in a comparison context. This is his code. \r\n\r\nscreenData[] is an 255 element int array. \r\n\r\n```\r\nint ch = 0, pos = 0;\r\nif((ch &amp; 16) != 0) {\r\n      screenData[pos] = (int) (ch &amp; 15);\r\n\t}\r\n```\r\n\r\n\r\nPlease tell me why he did that and what&#39;s the use of &amp; in this context.","title":"What&#39;s the purpose of &amp; in Java?","body":"<p>So, I was following a pacman tutorial and the coder uses &amp; not  &amp;&amp;. He doesn't explain what it does though. I searched it up and it says that unlike &amp;&amp;, &amp; checks both statements. That makes sense. But the coder doesn't use it in a comparison context. This is his code.</p>\n<p>screenData[] is an 255 element int array.</p>\n<pre><code>int ch = 0, pos = 0;\nif((ch &amp; 16) != 0) {\n      screenData[pos] = (int) (ch &amp; 15);\n    }\n</code></pre>\n<p>Please tell me why he did that and what's the use of &amp; in this context.</p>\n"},{"tags":["java","database","caching","jooq","change-data-capture"],"answers":[{"comments":[{"owner":{"account_id":1262646,"reputation":2597,"user_id":1220560,"display_name":"morgwai"},"score":0,"creation_date":1689550023,"post_id":76455566,"comment_id":135225124,"body_markdown":"Hello Vlad, forgive me for bothering you directly: would you be able to help with this question: https://stackoverflow.com/questions/76666162/cache-them-all-with-hibernate ? So far nobody was able to provide any hints :(  Many thanks!!","body":"Hello Vlad, forgive me for bothering you directly: would you be able to help with this question: <a href=\"https://stackoverflow.com/questions/76666162/cache-them-all-with-hibernate\" title=\"cache them all with hibernate\">stackoverflow.com/questions/76666162/&hellip;</a> ? So far nobody was able to provide any hints :(  Many thanks!!"},{"owner":{"account_id":1262646,"reputation":2597,"user_id":1220560,"display_name":"morgwai"},"score":0,"creation_date":1689585298,"post_id":76455566,"comment_id":135228959,"body_markdown":"awesome thanks!! enjoy your time off! :)","body":"awesome thanks!! enjoy your time off! :)"}],"tags":[],"owner":{"account_id":1012936,"reputation":145178,"user_id":1025118,"accept_rate":100,"display_name":"Vlad Mihalcea"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686564344,"creation_date":1686564344,"answer_id":76455566,"question_id":76379832,"body_markdown":"The solution in the article is meant to be called every N seconds to synchronize the cache.\r\n\r\nThe Web Sockets push is more useful for the UI than for backend services. If you want to make this synchronously, you could use PostgreSQL [NOTIFY](https://www.postgresql.org/docs/current/sql-notify.html).","title":"Realtime Database Change Capture in Java Application","body":"<p>The solution in the article is meant to be called every N seconds to synchronize the cache.</p>\n<p>The Web Sockets push is more useful for the UI than for backend services. If you want to make this synchronously, you could use PostgreSQL <a href=\"https://www.postgresql.org/docs/current/sql-notify.html\" rel=\"nofollow noreferrer\">NOTIFY</a>.</p>\n"}],"owner":{"account_id":1661646,"reputation":813,"user_id":1529822,"accept_rate":42,"display_name":"vvekselva"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1686632228,"creation_date":1685606507,"question_id":76379832,"body_markdown":"I&#39;ve read the following article about cache synchronization and database.\r\nHere the author uses JOOQ for cache synchronization.\r\n\r\nhttps://vladmihalcea.com/cache-synchronization-jooq-postgresql-functions/\r\n\r\n\r\nAfter reading the article I found that to know the database changes, we need to call the API manually.\r\nIs there any pattern to get real-time notifications of the database changes to the Java application like web socket push?","title":"Realtime Database Change Capture in Java Application","body":"<p>I've read the following article about cache synchronization and database.\nHere the author uses JOOQ for cache synchronization.</p>\n<p><a href=\"https://vladmihalcea.com/cache-synchronization-jooq-postgresql-functions/\" rel=\"nofollow noreferrer\">https://vladmihalcea.com/cache-synchronization-jooq-postgresql-functions/</a></p>\n<p>After reading the article I found that to know the database changes, we need to call the API manually.\nIs there any pattern to get real-time notifications of the database changes to the Java application like web socket push?</p>\n"},{"tags":["java","arrays","double","average"],"comments":[{"owner":{"account_id":1114067,"reputation":196801,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"score":2,"creation_date":1345192291,"post_id":12002332,"comment_id":16008306,"body_markdown":"@DanglingPiyush No need to. The question is clear.","body":"@DanglingPiyush No need to. The question is clear."},{"owner":{"account_id":19462,"reputation":102762,"user_id":45664,"accept_rate":91,"display_name":"Andrzej Doyle"},"score":2,"creation_date":1345192471,"post_id":12002332,"comment_id":16008365,"body_markdown":"Your whitespace is quite misleading.  It&#39;s usually considered good practice to use braces around for/while loops for clarity, whereas what you have now is misleading.  See [this pastebin](http://pastebin.com/HLpFv8zw) for an example of what I mean.","body":"Your whitespace is quite misleading.  It&#39;s usually considered good practice to use braces around for/while loops for clarity, whereas what you have now is misleading.  See <a href=\"http://pastebin.com/HLpFv8zw\" rel=\"nofollow noreferrer\">this pastebin</a> for an example of what I mean."}],"answers":[{"comments":[{"owner":{"account_id":204988,"reputation":6870,"user_id":453513,"accept_rate":72,"display_name":"RAY"},"score":0,"creation_date":1345193317,"post_id":12002349,"comment_id":16008655,"body_markdown":"LOL. How can nobody notice this?","body":"LOL. How can nobody notice this?"},{"owner":{"account_id":243785,"reputation":14615,"user_id":516165,"display_name":"CyberDem0n"},"score":0,"creation_date":1345193485,"post_id":12002349,"comment_id":16008715,"body_markdown":"@RAY It&#39;s a part of unified diff format http://en.wikipedia.org/wiki/Diff#Unified_format","body":"@RAY It&#39;s a part of unified diff format <a href=\"http://en.wikipedia.org/wiki/Diff#Unified_format\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Diff#Unified_format</a>"},{"owner":{"account_id":204988,"reputation":6870,"user_id":453513,"accept_rate":72,"display_name":"RAY"},"score":0,"creation_date":1345196346,"post_id":12002349,"comment_id":16009916,"body_markdown":"I know. It&#39;s just funny that nobody seemed to have noticed something so obvious.","body":"I know. It&#39;s just funny that nobody seemed to have noticed something so obvious."}],"tags":[],"owner":{"account_id":243785,"reputation":14615,"user_id":516165,"display_name":"CyberDem0n"},"comment_count":3,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1345192125,"creation_date":1345192125,"answer_id":12002349,"question_id":12002332,"body_markdown":"    -while(int i=0; i &lt; data.length; i++) \r\n    +for(int i=0; i &lt; data.length; i++) \r\n","title":"How to manipulate arrays. Find the average. Beginner Java","body":"<pre><code>-while(int i=0; i &lt; data.length; i++) \n+for(int i=0; i &lt; data.length; i++) \n</code></pre>\n"},{"comments":[{"owner":{"account_id":19462,"reputation":102762,"user_id":45664,"accept_rate":91,"display_name":"Andrzej Doyle"},"score":2,"creation_date":1345192561,"post_id":12002374,"comment_id":16008397,"body_markdown":"And one can fix the integer division problem either by assigning `sum` as a `double` initially; or by explicitly casting either of the arguments on the division line, e.g. `double average = ((double)sum) / data.length;`","body":"And one can fix the integer division problem either by assigning <code>sum</code> as a <code>double</code> initially; or by explicitly casting either of the arguments on the division line, e.g. <code>double average = ((double)sum) &#47; data.length;</code>"},{"owner":{"account_id":1114067,"reputation":196801,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"score":1,"creation_date":1345192738,"post_id":12002374,"comment_id":16008449,"body_markdown":"@AndrzejDoyle I wouldn&#39;t recommend `double sum` as a general solution as it will lead to precision loss for integers above 2^54 (or was it 2^56?). Anyway, a quite large number, but still, why do it when there&#39;s a cleaner alternative.","body":"@AndrzejDoyle I wouldn&#39;t recommend <code>double sum</code> as a general solution as it will lead to precision loss for integers above 2^54 (or was it 2^56?). Anyway, a quite large number, but still, why do it when there&#39;s a cleaner alternative."},{"owner":{"account_id":19462,"reputation":102762,"user_id":45664,"accept_rate":91,"display_name":"Andrzej Doyle"},"score":0,"creation_date":1345193072,"post_id":12002374,"comment_id":16008559,"body_markdown":"Agreed, converting before division is the &quot;proper&quot; way to do it.  (I think in your example I&#39;d want to add brackets, to make it clear that it&#39;s evaluated as `(1.0d * sum) / data.length` and not `1.0d * (sum / data.length)`, as the latter is still wrong.  I realise that even without brackets Java will take the former approach, but the brackets are a sort of documentation that will remove any doubt for someone reading.  A bit like marking variables `final` even if they&#39;re never actually reassigned.)","body":"Agreed, converting before division is the &quot;proper&quot; way to do it.  (I think in your example I&#39;d want to add brackets, to make it clear that it&#39;s evaluated as <code>(1.0d * sum) &#47; data.length</code> and not <code>1.0d * (sum &#47; data.length)</code>, as the latter is still wrong.  I realise that even without brackets Java will take the former approach, but the brackets are a sort of documentation that will remove any doubt for someone reading.  A bit like marking variables <code>final</code> even if they&#39;re never actually reassigned.)"},{"owner":{"account_id":1114067,"reputation":196801,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"score":0,"creation_date":1345193279,"post_id":12002374,"comment_id":16008638,"body_markdown":"@AndrzejDoyle I kind of dislike the parens, but if I did use them, I&#39;d go with your suggestion: `((double)sum)/data.length` since it makes the intention even more clear and direct, not to say possibly shaves off an unneeded FP operation.","body":"@AndrzejDoyle I kind of dislike the parens, but if I did use them, I&#39;d go with your suggestion: <code>((double)sum)&#47;data.length</code> since it makes the intention even more clear and direct, not to say possibly shaves off an unneeded FP operation."},{"owner":{"account_id":389189,"reputation":7662,"user_id":748503,"display_name":"James McGuigan"},"score":0,"creation_date":1613404946,"post_id":12002374,"comment_id":117058743,"body_markdown":"You should also be aware of the `data.length == 0` edgecase which will throw a division by zero error. `double average = (data.length &gt; 0) ? (double) sum / data.length : 0.0;`","body":"You should also be aware of the <code>data.length == 0</code> edgecase which will throw a division by zero error. <code>double average = (data.length &gt; 0) ? (double) sum &#47; data.length : 0.0;</code>"},{"owner":{"account_id":389189,"reputation":7662,"user_id":748503,"display_name":"James McGuigan"},"score":0,"creation_date":1613405273,"post_id":12002374,"comment_id":117058920,"body_markdown":"It&#39;s also worth noting that `(double) sum / data.length` without brackets also works in practice. Casting takes precedence over mathematical operators, thus `((double) sum)` becomes implicit, then the division operator propagates the double type. Personally, I think it is more readable, as the end result is to safely cast the whole division operation.  http://bmanolov.free.fr/javaoperators.php","body":"It&#39;s also worth noting that <code>(double) sum &#47; data.length</code> without brackets also works in practice. Casting takes precedence over mathematical operators, thus <code>((double) sum)</code> becomes implicit, then the division operator propagates the double type. Personally, I think it is more readable, as the end result is to safely cast the whole division operation.  <a href=\"http://bmanolov.free.fr/javaoperators.php\" rel=\"nofollow noreferrer\">bmanolov.free.fr/javaoperators.php</a>"},{"owner":{"account_id":1114067,"reputation":196801,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"score":0,"creation_date":1613423916,"post_id":12002374,"comment_id":117066078,"body_markdown":"It won&#39;t throw any errors, the result of `0.0 / 0.0` is `NaN`, which is the best way to answer the question &quot;what is the average of an empty list&quot;.","body":"It won&#39;t throw any errors, the result of <code>0.0 &#47; 0.0</code> is <code>NaN</code>, which is the best way to answer the question &quot;what is the average of an empty list&quot;."}],"tags":[],"owner":{"account_id":1114067,"reputation":196801,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"comment_count":7,"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1345192613,"creation_date":1345192221,"answer_id":12002374,"question_id":12002332,"body_markdown":"Using an enhanced for would be even nicer:\r\n\r\n    int sum = 0;\r\n    for (int d : data) sum += d;\r\n\r\nAnother thing that will probably give you a big surprise is the wrong result that you will obtain from\r\n\r\n    double average = sum / data.length;\r\n\r\nReason: on the right-hand side you have integer division and Java will not automatically promote it to floating-point division. It will calculate the integer quotient of `sum/data.length` and only then promote that integer to a `double`. A solution would be\r\n\r\n    double average = 1.0d * sum / data.length;\r\n\r\nThis will force the dividend into a `double`, which will automatically propagate to the divisor.","title":"How to manipulate arrays. Find the average. Beginner Java","body":"<p>Using an enhanced for would be even nicer:</p>\n\n<pre><code>int sum = 0;\nfor (int d : data) sum += d;\n</code></pre>\n\n<p>Another thing that will probably give you a big surprise is the wrong result that you will obtain from</p>\n\n<pre><code>double average = sum / data.length;\n</code></pre>\n\n<p>Reason: on the right-hand side you have integer division and Java will not automatically promote it to floating-point division. It will calculate the integer quotient of <code>sum/data.length</code> and only then promote that integer to a <code>double</code>. A solution would be</p>\n\n<pre><code>double average = 1.0d * sum / data.length;\n</code></pre>\n\n<p>This will force the dividend into a <code>double</code>, which will automatically propagate to the divisor.</p>\n"},{"tags":[],"owner":{"account_id":543284,"reputation":2492,"user_id":912318,"accept_rate":92,"display_name":"James"},"comment_count":0,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1345192404,"creation_date":1345192404,"answer_id":12002421,"question_id":12002332,"body_markdown":"Couple of problems:\r\n\r\nThe `while` should be a `for`\r\nYou are not returning a value but you have declared a return type of double\r\n\r\n    double average = sum / data.length;;\r\nsum and data.length are both ints so the division will return an int - check your types\r\n\r\ndouble semi-colon, probably won&#39;t break it, just looks odd.\r\n","title":"How to manipulate arrays. Find the average. Beginner Java","body":"<p>Couple of problems:</p>\n\n<p>The <code>while</code> should be a <code>for</code>\nYou are not returning a value but you have declared a return type of double</p>\n\n<pre><code>double average = sum / data.length;;\n</code></pre>\n\n<p>sum and data.length are both ints so the division will return an int - check your types</p>\n\n<p>double semi-colon, probably won't break it, just looks odd.</p>\n"},{"tags":[],"owner":{"account_id":1393712,"reputation":878,"user_id":1559445,"accept_rate":89,"display_name":"mssb"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1345198148,"creation_date":1345198148,"answer_id":12003793,"question_id":12002332,"body_markdown":"Try this way\r\n\r\n    public void average(int[] data) {  \r\n        int sum = 0;\r\n        double average;\r\n\r\n        for(int i=0; i &lt; data.length; i++){\r\n            sum = sum + data[i];\r\n        }\r\n        average = (double)sum/data.length;\r\n        System.out.println(&quot;Average value of array element is &quot; + average);    \r\n    }\r\n\r\nif you need to return average value you need to use **double** key word Instead of the **void** key word and need to return value **return average**.\r\n\r\n    public double average(int[] data) {  \r\n        int sum = 0;\r\n        double average;\r\n\r\n        for(int i=0; i &lt; data.length; i++){\r\n            sum = sum + data[i];\r\n        }\r\n        average = (double)sum/data.length;\r\n        return average;    \r\n    }","title":"How to manipulate arrays. Find the average. Beginner Java","body":"<p>Try this way</p>\n\n<pre><code>public void average(int[] data) {  \n    int sum = 0;\n    double average;\n\n    for(int i=0; i &lt; data.length; i++){\n        sum = sum + data[i];\n    }\n    average = (double)sum/data.length;\n    System.out.println(\"Average value of array element is \" + average);    \n}\n</code></pre>\n\n<p>if you need to return average value you need to use <strong>double</strong> key word Instead of the <strong>void</strong> key word and need to return value <strong>return average</strong>.</p>\n\n<pre><code>public double average(int[] data) {  \n    int sum = 0;\n    double average;\n\n    for(int i=0; i &lt; data.length; i++){\n        sum = sum + data[i];\n    }\n    average = (double)sum/data.length;\n    return average;    \n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5665550,"reputation":1596,"user_id":4481818,"display_name":"skubski"},"score":0,"creation_date":1507204853,"post_id":30596989,"comment_id":80122979,"body_markdown":"Where does vargu come from? Why do you declare an variable average and not use it? Why do you declare the fori loop iteration variable outside the loop?","body":"Where does vargu come from? Why do you declare an variable average and not use it? Why do you declare the fori loop iteration variable outside the loop?"}],"tags":[],"owner":{"account_id":6403368,"reputation":1,"user_id":4965357,"display_name":"Kastriot Rexhepi"},"comment_count":1,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1433251376,"creation_date":1433250330,"answer_id":30596989,"question_id":12002332,"body_markdown":"If we want to add numbers of an Array and find the average of them follow this easy way! .....\r\n\r\n\tpublic class Array {\r\n\r\n\t\tpublic static void main(String[] args) {\r\n\t\t\t\r\n\t\t\tint[]array = {1,3,5,7,9,6,3};\r\n\t\t\tint i=0;\r\n\t\t\tint sum=0;\r\n\t\t\tdouble average=0;\r\n\t\t\tfor( i=0;i&lt;array.length;i++){\r\n\t\t\t\tSystem.out.println(array[i]);\r\n\t\t\t\tsum=sum+array[i];\r\n\t\t\t}\r\n\t\t\tSystem.out.println(&quot;sum is:&quot;+sum);\r\n\t\t\tSystem.out.println(&quot;average is: &quot;+(double)sum/vargu.length);\r\n\t\t\t\r\n\t\t\t\r\n\r\n\t\t}\r\n\r\n\t}","title":"How to manipulate arrays. Find the average. Beginner Java","body":"<p>If we want to add numbers of an Array and find the average of them follow this easy way! .....</p>\n\n<pre><code>public class Array {\n\n    public static void main(String[] args) {\n\n        int[]array = {1,3,5,7,9,6,3};\n        int i=0;\n        int sum=0;\n        double average=0;\n        for( i=0;i&lt;array.length;i++){\n            System.out.println(array[i]);\n            sum=sum+array[i];\n        }\n        System.out.println(\"sum is:\"+sum);\n        System.out.println(\"average is: \"+(double)sum/vargu.length);\n\n\n\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6403368,"reputation":1,"user_id":4965357,"display_name":"Kastriot Rexhepi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1433261697,"creation_date":1433261697,"answer_id":30601302,"question_id":12002332,"body_markdown":"Best way to find the average of some numbers is  trying  **Classes** ......\r\n\r\n\r\n\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\taverage(1,2,5,4);\r\n\t\r\n\t}\r\n\t\r\n\tpublic static void average(int...numbers){\r\n\t\tint total = 0;\r\n\t\tfor(int x: numbers){\r\n\t\t\ttotal+=x;\r\n\t\t}\r\n\t\tSystem.out.println(&quot;Average is: &quot;+(double)total/numbers.length);\r\n\t\t\r\n\t}","title":"How to manipulate arrays. Find the average. Beginner Java","body":"<p>Best way to find the average of some numbers is  trying  <strong>Classes</strong> ......</p>\n\n<pre><code>public static void main(String[] args) {\n    average(1,2,5,4);\n\n}\n\npublic static void average(int...numbers){\n    int total = 0;\n    for(int x: numbers){\n        total+=x;\n    }\n    System.out.println(\"Average is: \"+(double)total/numbers.length);\n\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":389189,"reputation":7662,"user_id":748503,"display_name":"James McGuigan"},"score":0,"creation_date":1613403806,"post_id":46585325,"comment_id":117058209,"body_markdown":"This really should be written as: `(int) Arrays.stream(new int[]{}).average().orElse(0.0);` to handle the `OptionalDouble.empty` return value for an empty array. `.average()` returns a double by default, but can be casted if desired.","body":"This really should be written as: <code>(int) Arrays.stream(new int[]{}).average().orElse(0.0);</code> to handle the <code>OptionalDouble.empty</code> return value for an empty array. <code>.average()</code> returns a double by default, but can be casted if desired."}],"tags":[],"owner":{"account_id":5665550,"reputation":1596,"user_id":4481818,"display_name":"skubski"},"comment_count":1,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1507205495,"creation_date":1507205495,"answer_id":46585325,"question_id":12002332,"body_markdown":"The Java 8 streaming api offers an elegant alternative:\r\n\r\n    public static void main(String[] args) {\r\n        double avg = Arrays.stream(new int[]{1,3,2,5,8}).average().getAsDouble();\r\n    \r\n        System.out.println(&quot;avg: &quot; + avg);\r\n    }","title":"How to manipulate arrays. Find the average. Beginner Java","body":"<p>The Java 8 streaming api offers an elegant alternative:</p>\n\n<pre><code>public static void main(String[] args) {\n    double avg = Arrays.stream(new int[]{1,3,2,5,8}).average().getAsDouble();\n\n    System.out.println(\"avg: \" + avg);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28338811,"reputation":1,"user_id":21672153,"display_name":"Susikumar Pitchaimuthu"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686631677,"creation_date":1686631677,"answer_id":76461767,"question_id":12002332,"body_markdown":"      double[] numArray = { 45.3, 67.5, -45.6, 20.34, 33.0, 45.6 };\r\n        double sum = 0.0;\r\n\r\n        for (double num: numArray) {\r\n           sum += num;\r\n        }\r\n\r\n        double average = sum / numArray.length;\r\n        System.out.format(&quot;The average is: %.2f&quot;, average);","title":"How to manipulate arrays. Find the average. Beginner Java","body":"<pre><code>  double[] numArray = { 45.3, 67.5, -45.6, 20.34, 33.0, 45.6 };\n    double sum = 0.0;\n\n    for (double num: numArray) {\n       sum += num;\n    }\n\n    double average = sum / numArray.length;\n    System.out.format(&quot;The average is: %.2f&quot;, average);\n</code></pre>\n"}],"owner":{"account_id":1758006,"reputation":111,"user_id":1605782,"accept_rate":0,"display_name":"user1605782"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":144285,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"answer_count":8,"score":9,"last_activity_date":1686631677,"creation_date":1345192037,"question_id":12002332,"body_markdown":"I have a homework assignment and I was wondering if anyone could help me as I am new to Java and programming and am stuck on a question. The question is: \r\n\r\nThe first method finds the average of the elements of an integer array:\r\n\r\n    public double average(int[] data)\r\n\r\nThat is, given an integer array, data, calculate the average of its elements are return the average value. For example, the average of {1, 3, 2, 5, 8} is 3.8. \r\n\r\nHere is what I have done so far: \r\n\r\n    public double average(int[] data) {  \r\n        int sum = 0;\r\n        \r\n        while(int i=0; i &lt; data.length; i++) \r\n        \r\n        sum = sum + data[i]; \r\n        double average = sum / data.length;; \r\n        \r\n        System.out.println(&quot;Average value of array element is &quot; &quot; + average);\r\n    }\r\n\r\nWhen compiling it I get an error message at the `int i=0` part saying &#39;.class expected&#39;. Any help would be appreciated. ","title":"How to manipulate arrays. Find the average. Beginner Java","body":"<p>I have a homework assignment and I was wondering if anyone could help me as I am new to Java and programming and am stuck on a question. The question is: </p>\n\n<p>The first method finds the average of the elements of an integer array:</p>\n\n<pre><code>public double average(int[] data)\n</code></pre>\n\n<p>That is, given an integer array, data, calculate the average of its elements are return the average value. For example, the average of {1, 3, 2, 5, 8} is 3.8. </p>\n\n<p>Here is what I have done so far: </p>\n\n<pre><code>public double average(int[] data) {  \n    int sum = 0;\n\n    while(int i=0; i &lt; data.length; i++) \n\n    sum = sum + data[i]; \n    double average = sum / data.length;; \n\n    System.out.println(\"Average value of array element is \" \" + average);\n}\n</code></pre>\n\n<p>When compiling it I get an error message at the <code>int i=0</code> part saying '.class expected'. Any help would be appreciated. </p>\n"},{"tags":["java","spring","spring-boot","javabeans","spring-bean"],"comments":[{"owner":{"account_id":8136328,"reputation":1561,"user_id":6127820,"accept_rate":33,"display_name":"Vaibs"},"score":0,"creation_date":1686305107,"post_id":76428648,"comment_id":134783809,"body_markdown":"could you please add code?","body":"could you please add code?"},{"owner":{"account_id":8489777,"reputation":91,"user_id":6366515,"display_name":"vishal jagdale"},"score":0,"creation_date":1686630023,"post_id":76428648,"comment_id":134821533,"body_markdown":"@Vaibs I have added the code please check,","body":"@Vaibs I have added the code please check,"}],"owner":{"account_id":8489777,"reputation":91,"user_id":6366515,"display_name":"vishal jagdale"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686631281,"creation_date":1686198820,"question_id":76428648,"body_markdown":"I have a bean annotated with @Scope(&quot;prototype&quot;). It worked well with Spring boot  2.1.7 RELEASE. Spring created this bean only when requested from application context, but after upgrading to spring boot version 2.7.11 RELEASE the spring is trying to create bean even before it is requested(spring tries to create a bean at start up). I have tried @Lookup @Lazy and @Scope(value = &quot;prototype&quot;, proxyMode = ScopedProxyMode.INTERFACES) but nothings works. It seems prototype bean is not at all working.\r\n\r\n        @Scope(&quot;prototype&quot;)\r\n        @Bean\r\n        public MyClass myBeanLoader(final DataSource ds){\r\n           // some code\r\n            return myclass;\r\n        }\r\n\r\n    //trying to load bean at runtime,but bean is created even before below code. Ideally the bean should be created after below code.\r\n\r\n    DataSource ds=new DataSource();\r\n    appContext.getBean(MyClass.class,ds);\r\n\r\n","title":"@Scope(&quot;prototype&quot;) is not working in spring boot upgrade from version 2.1.7 RELEASE to 2.7.11 RELEASE","body":"<p>I have a bean annotated with @Scope(&quot;prototype&quot;). It worked well with Spring boot  2.1.7 RELEASE. Spring created this bean only when requested from application context, but after upgrading to spring boot version 2.7.11 RELEASE the spring is trying to create bean even before it is requested(spring tries to create a bean at start up). I have tried @Lookup @Lazy and @Scope(value = &quot;prototype&quot;, proxyMode = ScopedProxyMode.INTERFACES) but nothings works. It seems prototype bean is not at all working.</p>\n<pre><code>    @Scope(&quot;prototype&quot;)\n    @Bean\n    public MyClass myBeanLoader(final DataSource ds){\n       // some code\n        return myclass;\n    }\n\n//trying to load bean at runtime,but bean is created even before below code. Ideally the bean should be created after below code.\n\nDataSource ds=new DataSource();\nappContext.getBean(MyClass.class,ds);\n</code></pre>\n"},{"tags":["java","implementation","rate-limiting","resilience4j"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1686644595,"post_id":76461722,"comment_id":134823637,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":17753578,"reputation":1,"user_id":12891118,"display_name":"SIvaji"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686631046,"creation_date":1686631046,"question_id":76461722,"body_markdown":"I was surfing internet on implementing IP address based ratelimiter using Resilience-4j in java programming language.  But, i didn&#39;t find any relevant articles or information on this.\r\n\r\nCan somebody share your thoughts/suggestions?","title":"Is it possible to implement IP based Ratelimiter using Resilience 4j in java?","body":"<p>I was surfing internet on implementing IP address based ratelimiter using Resilience-4j in java programming language.  But, i didn't find any relevant articles or information on this.</p>\n<p>Can somebody share your thoughts/suggestions?</p>\n"},{"tags":["java","primefaces","primefaces-datatable"],"comments":[{"owner":{"account_id":1073348,"reputation":571,"user_id":1072089,"accept_rate":75,"display_name":"Nikola"},"score":0,"creation_date":1686747582,"post_id":76461686,"comment_id":134841497,"body_markdown":"you want to print numbers in headerRow as well? header 1, header 2, header 3?","body":"you want to print numbers in headerRow as well? header 1, header 2, header 3?"},{"owner":{"account_id":1073348,"reputation":571,"user_id":1072089,"accept_rate":75,"display_name":"Nikola"},"score":0,"creation_date":1686747661,"post_id":76461686,"comment_id":134841531,"body_markdown":"or you want to print inside 1st header &quot;rows 2,3,6&quot;, 2nd header &quot;rows 1,5&quot;","body":"or you want to print inside 1st header &quot;rows 2,3,6&quot;, 2nd header &quot;rows 1,5&quot;"}],"owner":{"account_id":28809186,"reputation":1,"user_id":22064313,"display_name":"Edgard Moreno"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686630353,"creation_date":1686630353,"question_id":76461686,"body_markdown":"I have a primefaces datatable that allows grouping by rows and I want print on backing bean the rowgroups and the rows index that each rowgroup contains\r\n\r\nhere is the xhtml\r\n\r\n```\r\n&lt;p:dataTable \r\n\tid=&quot;tblPartidas&quot;\r\n\tvar=&quot;item&quot;                                     \r\n\tdraggableRows=&quot;true&quot;\r\n\trowKey=&quot;#{item.objProd.idProd}&quot;\r\n\tbinding=&quot;#{cotizacionController.dtPartidasSelec}&quot;\r\n\tvalue=&quot;#{cotizacionController.lstPartidasSelec}&quot;&gt;\t\r\n\t&lt;p:headerRow field=&quot;desGrupo&quot;&gt;\r\n\t\t&lt;p:column colspan=&quot;5&quot; style=&quot;background-color: #BFBFBF&quot;&gt;\r\n\t\t\t&lt;div class=&quot;inline-flex align-items-center&quot; \r\n\t\t\t\t style=&quot;vertical-align: middle&quot;&gt;\r\n\t\t\t\t&lt;h:outputText class=&quot;p-3 text-dark&quot; value=&quot;#{item.desGrupo}&quot;/&gt;\r\n\t\t\t&lt;/div&gt;\r\n\t\t&lt;/p:column&gt;\r\n\t&lt;/p:headerRow&gt;\r\n\t&lt;p:column headerText=&quot;No.&quot; width=&quot;20&quot; style=&quot;padding: 1px;text-align: center&quot; class=&quot;d-none&quot;&gt;\r\n\t\t&lt;h:outputLabel value=&quot;#{cotizacionController.lstPartidasSelec.indexOf(item) + 1}&quot; /&gt;\r\n\t&lt;/p:column&gt;\r\n\t&lt;p:column headerText=&quot;Partida&quot; width=&quot;200&quot; sortBy=&quot;#{item.objProd.desProd}&quot;&gt;\r\n\t\t&lt;h:outputText class=&quot;fw-bold text-uppercase&quot; value=&quot;#{item.objProd.desProd}&quot;/&gt;&lt;br/&gt;\t\t\r\n\t&lt;/p:column&gt;\r\n&lt;/p:dataTable&gt;\r\n```\r\n\r\n\r\nIn backing bean i created a binding but i dont know how to access to the rowgroups detail\r\n\r\n```\r\nprivate DataTable dtPartidasSelec;\r\n```","title":"how to access details of rowgroups of primefaces datatable","body":"<p>I have a primefaces datatable that allows grouping by rows and I want print on backing bean the rowgroups and the rows index that each rowgroup contains</p>\n<p>here is the xhtml</p>\n<pre><code>&lt;p:dataTable \n    id=&quot;tblPartidas&quot;\n    var=&quot;item&quot;                                     \n    draggableRows=&quot;true&quot;\n    rowKey=&quot;#{item.objProd.idProd}&quot;\n    binding=&quot;#{cotizacionController.dtPartidasSelec}&quot;\n    value=&quot;#{cotizacionController.lstPartidasSelec}&quot;&gt;   \n    &lt;p:headerRow field=&quot;desGrupo&quot;&gt;\n        &lt;p:column colspan=&quot;5&quot; style=&quot;background-color: #BFBFBF&quot;&gt;\n            &lt;div class=&quot;inline-flex align-items-center&quot; \n                 style=&quot;vertical-align: middle&quot;&gt;\n                &lt;h:outputText class=&quot;p-3 text-dark&quot; value=&quot;#{item.desGrupo}&quot;/&gt;\n            &lt;/div&gt;\n        &lt;/p:column&gt;\n    &lt;/p:headerRow&gt;\n    &lt;p:column headerText=&quot;No.&quot; width=&quot;20&quot; style=&quot;padding: 1px;text-align: center&quot; class=&quot;d-none&quot;&gt;\n        &lt;h:outputLabel value=&quot;#{cotizacionController.lstPartidasSelec.indexOf(item) + 1}&quot; /&gt;\n    &lt;/p:column&gt;\n    &lt;p:column headerText=&quot;Partida&quot; width=&quot;200&quot; sortBy=&quot;#{item.objProd.desProd}&quot;&gt;\n        &lt;h:outputText class=&quot;fw-bold text-uppercase&quot; value=&quot;#{item.objProd.desProd}&quot;/&gt;&lt;br/&gt;     \n    &lt;/p:column&gt;\n&lt;/p:dataTable&gt;\n</code></pre>\n<p>In backing bean i created a binding but i dont know how to access to the rowgroups detail</p>\n<pre><code>private DataTable dtPartidasSelec;\n</code></pre>\n"},{"tags":["java","intellij-idea"],"comments":[{"owner":{"account_id":36734,"reputation":392137,"user_id":104891,"display_name":"CrazyCoder"},"score":0,"creation_date":1583444994,"post_id":60554377,"comment_id":107129499,"body_markdown":"Please make sure to use the release JDK version, not ea and update to the latest IntelliJ IDEA version: http://www.jetbrains.com/idea/download/index.html .","body":"Please make sure to use the release JDK version, not ea and update to the latest IntelliJ IDEA version: <a href=\"http://www.jetbrains.com/idea/download/index.html\" rel=\"nofollow noreferrer\">jetbrains.com/idea/download/index.html</a> ."},{"owner":{"account_id":4475363,"reputation":141,"user_id":3640616,"accept_rate":83,"display_name":"Mahdir"},"score":0,"creation_date":1583448043,"post_id":60554377,"comment_id":107130591,"body_markdown":"@CrazyCoder Thanks buddy, if you answered it as an answer and not comment, I would&#39;ve gratefully marked it as answer.","body":"@CrazyCoder Thanks buddy, if you answered it as an answer and not comment, I would&#39;ve gratefully marked it as answer."}],"answers":[{"comments":[{"owner":{"account_id":2325162,"reputation":1765,"user_id":2039845,"display_name":"Kedar9444"},"score":0,"creation_date":1635161038,"post_id":60555220,"comment_id":123212861,"body_markdown":"why we need to upgrade the IntelliJ Idea ?","body":"why we need to upgrade the IntelliJ Idea ?"},{"owner":{"account_id":36734,"reputation":392137,"user_id":104891,"display_name":"CrazyCoder"},"score":0,"creation_date":1635176826,"post_id":60555220,"comment_id":123220242,"body_markdown":"@Kedar9444 Older IntelliJ IDEA versions may not support JDK versions released after that IDE version.","body":"@Kedar9444 Older IntelliJ IDEA versions may not support JDK versions released after that IDE version."}],"tags":[],"owner":{"account_id":36734,"reputation":392137,"user_id":104891,"display_name":"CrazyCoder"},"comment_count":2,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1583449269,"creation_date":1583449269,"answer_id":60555220,"question_id":60554377,"body_markdown":"Please make sure to use the release JDK version, not `ea` and update to the [latest IntelliJ IDEA version](http://www.jetbrains.com/idea/download/index.html).","title":"Cannot run a HelloWorld on Intellij Idea (java.lang.IllegalAccessError)","body":"<p>Please make sure to use the release JDK version, not <code>ea</code> and update to the <a href=\"http://www.jetbrains.com/idea/download/index.html\" rel=\"noreferrer\">latest IntelliJ IDEA version</a>.</p>\n"},{"tags":[],"owner":{"account_id":4222765,"reputation":43,"user_id":3457130,"display_name":"andre.obueno"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1640349222,"creation_date":1640349222,"answer_id":70472949,"question_id":60554377,"body_markdown":"I had the same error and the solution I&#39;ve found was to downgrade my Java version (JDK) from 16 to 11. Then, it worked :)","title":"Cannot run a HelloWorld on Intellij Idea (java.lang.IllegalAccessError)","body":"<p>I had the same error and the solution I've found was to downgrade my Java version (JDK) from 16 to 11. Then, it worked :)</p>\n"},{"tags":[],"owner":{"account_id":17328411,"reputation":21,"user_id":12552118,"display_name":"Shreyash Karandikar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686629624,"creation_date":1686629624,"answer_id":76461649,"question_id":60554377,"body_markdown":"In my case, Language Level was not matching with JDK version i.e. 17. After [downloading latest IntelliJ][1] I got language levels to 20.\r\n&lt;br&gt;\r\nFile &gt; Project Structure \r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://www.jetbrains.com/idea/download/other.html?utm_source=product&amp;utm_medium=link&amp;utm_campaign=IC&amp;utm_content=2019.3#version20193\r\n  [2]: https://i.stack.imgur.com/1RfdJ.png","title":"Cannot run a HelloWorld on Intellij Idea (java.lang.IllegalAccessError)","body":"<p>In my case, Language Level was not matching with JDK version i.e. 17. After <a href=\"https://www.jetbrains.com/idea/download/other.html?utm_source=product&amp;utm_medium=link&amp;utm_campaign=IC&amp;utm_content=2019.3#version20193\" rel=\"nofollow noreferrer\">downloading latest IntelliJ</a> I got language levels to 20.\n<br>\nFile &gt; Project Structure\n<a href=\"https://i.stack.imgur.com/1RfdJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1RfdJ.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":4475363,"reputation":141,"user_id":3640616,"accept_rate":83,"display_name":"Mahdir"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13222,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":60555220,"answer_count":3,"score":6,"last_activity_date":1686629624,"creation_date":1583444548,"question_id":60554377,"body_markdown":"I wanted to just run HelloWorld on Intellij Idea which is failed.\r\nJava Version is &quot;9-ea&quot; in my macOS.\r\n\r\n    Error:Internal error: (java.lang.IllegalAccessError) class com.intellij.util.io.FileChannelUtil (in unnamed module @0x6ecc4cd7) cannot access class sun.nio.ch.FileChannelImpl (in module java.base) because module java.base does not export sun.nio.ch to unnamed module @0x6ecc4cd7\r\n    java.lang.IllegalAccessError: class com.intellij.util.io.FileChannelUtil (in unnamed module @0x6ecc4cd7) cannot access class sun.nio.ch.FileChannelImpl (in module java.base) because module java.base does not export sun.nio.ch to unnamed module @0x6ecc4cd7\r\n    \tat com.intellij.util.io.FileChannelUtil.setupUnInterruptibleHandle(FileChannelUtil.java:26)\r\n    \t......\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/MDLVl.png","title":"Cannot run a HelloWorld on Intellij Idea (java.lang.IllegalAccessError)","body":"<p>I wanted to just run HelloWorld on Intellij Idea which is failed.\nJava Version is \"9-ea\" in my macOS.</p>\n\n<pre><code>Error:Internal error: (java.lang.IllegalAccessError) class com.intellij.util.io.FileChannelUtil (in unnamed module @0x6ecc4cd7) cannot access class sun.nio.ch.FileChannelImpl (in module java.base) because module java.base does not export sun.nio.ch to unnamed module @0x6ecc4cd7\njava.lang.IllegalAccessError: class com.intellij.util.io.FileChannelUtil (in unnamed module @0x6ecc4cd7) cannot access class sun.nio.ch.FileChannelImpl (in module java.base) because module java.base does not export sun.nio.ch to unnamed module @0x6ecc4cd7\n    at com.intellij.util.io.FileChannelUtil.setupUnInterruptibleHandle(FileChannelUtil.java:26)\n    ......\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/MDLVl.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/MDLVl.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":["java","mysql","concurrency","hbase"],"comments":[{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":1,"creation_date":1686628764,"post_id":76461506,"comment_id":134821433,"body_markdown":"Be aware that the Javadoc of ConcurrentHashMap specifies that the size may be inaccurate: &quot;Bear in mind that the results of aggregate status methods including size, isEmpty, and containsValue are typically useful only when a map is not undergoing concurrent updates in other threads. Otherwise the results of these methods reflect transient states that may be adequate for monitoring or estimation purposes, but not for program control.&quot;","body":"Be aware that the Javadoc of ConcurrentHashMap specifies that the size may be inaccurate: &quot;Bear in mind that the results of aggregate status methods including size, isEmpty, and containsValue are typically useful only when a map is not undergoing concurrent updates in other threads. Otherwise the results of these methods reflect transient states that may be adequate for monitoring or estimation purposes, but not for program control.&quot;"},{"owner":{"account_id":2891308,"reputation":12354,"user_id":2480047,"display_name":"varocarbas"},"score":1,"creation_date":1686628793,"post_id":76461506,"comment_id":134821440,"body_markdown":"Just the words &quot;unique&quot;, &quot;concurrent&quot; and &quot;duplicates&quot; by themselves seem to tell a whole story, not exactly a nice one. Many queries might be returning unique values concurrently and the resulting data might not be unique. But I see a much bigger problem here: 884979 records for a HashMap?! When you are using a DB, the resource precisely meant to deal with big sizes?! Why do you do that? Could you please explain what you are trying to accomplish?","body":"Just the words &quot;unique&quot;, &quot;concurrent&quot; and &quot;duplicates&quot; by themselves seem to tell a whole story, not exactly a nice one. Many queries might be returning unique values concurrently and the resulting data might not be unique. But I see a much bigger problem here: 884979 records for a HashMap?! When you are using a DB, the resource precisely meant to deal with big sizes?! Why do you do that? Could you please explain what you are trying to accomplish?"},{"owner":{"account_id":20100957,"reputation":285,"user_id":14739428,"display_name":"william"},"score":0,"creation_date":1687850190,"post_id":76461506,"comment_id":134990367,"body_markdown":"@varocarbas I need to write the latest version of the unique ID from the daily data into the DB. There are approximately one million records of data each day, and many of them have different version numbers but duplicate IDs. I use multiple threads to handle batch processing in the form of separate pagination. Therefore, I use ConcurrentHashMap. Even if I don&#39;t use the size property of ConcurrentHashMap to print logs, the elements in ConcurrentHashMap can still have the same ID due to the excessive amount of data.","body":"@varocarbas I need to write the latest version of the unique ID from the daily data into the DB. There are approximately one million records of data each day, and many of them have different version numbers but duplicate IDs. I use multiple threads to handle batch processing in the form of separate pagination. Therefore, I use ConcurrentHashMap. Even if I don&#39;t use the size property of ConcurrentHashMap to print logs, the elements in ConcurrentHashMap can still have the same ID due to the excessive amount of data."},{"owner":{"account_id":20100957,"reputation":285,"user_id":14739428,"display_name":"william"},"score":0,"creation_date":1687850402,"post_id":76461506,"comment_id":134990405,"body_markdown":"@LouisWasserman In fact, when the data volume is large (1 million records with duplicate keys), ConcurrentHashMap does exhibit the issue of having duplicate keys and loses its deduplication functionality. However, in cases of smaller data volumes (several thousand to tens of thousands of records), I have not encountered this problem.","body":"@LouisWasserman In fact, when the data volume is large (1 million records with duplicate keys), ConcurrentHashMap does exhibit the issue of having duplicate keys and loses its deduplication functionality. However, in cases of smaller data volumes (several thousand to tens of thousands of records), I have not encountered this problem."},{"owner":{"account_id":2891308,"reputation":12354,"user_id":2480047,"display_name":"varocarbas"},"score":0,"creation_date":1687864086,"post_id":76461506,"comment_id":134993239,"body_markdown":"@william But why using HashMaps (concurrent or not) at all? When dealing with so much information, the best format is precisely a DB. Why don&#39;t you create a temporary table or something like that and store all the information being managed by those HashMaps there? When dealing with so many records, I seriously doubt that relying on memory can make things faster than a DB, mainly with as heavy elements as HashMaps. And, of course, the memory usage would drop drastically. To not mention that with a DB you don&#39;t have to worry about all the concurrency issues.","body":"@william But why using HashMaps (concurrent or not) at all? When dealing with so much information, the best format is precisely a DB. Why don&#39;t you create a temporary table or something like that and store all the information being managed by those HashMaps there? When dealing with so many records, I seriously doubt that relying on memory can make things faster than a DB, mainly with as heavy elements as HashMaps. And, of course, the memory usage would drop drastically. To not mention that with a DB you don&#39;t have to worry about all the concurrency issues."}],"owner":{"account_id":20100957,"reputation":285,"user_id":14739428,"display_name":"william"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686626676,"creation_date":1686626676,"question_id":76461506,"body_markdown":"I have 975,641 rows of pure string data as rowkeys for HBase, where the lengths of the strings vary. After using distinct in MySQL to remove duplicates, there are 884,508 unique data entries.\r\n\r\nWhen I use multiple threads to read data from the database in batches and write them to HBase, I encounter the following issue:\r\nI start 50 threads in a loop, and each thread reads 1,000 rows of data in batches. I use a ConcurrentHashMap to deduplicate the rowkeys within each thread.\r\n\r\nAfter completing all the loops, an AtomicInteger shows that 975,641 rows of data were processed correctly.\r\nAt this point, the size of the ConcurrentHashMap is 884,979, which is 471 more entries than expected.\r\n\r\nWhen I store the keySet of the ConcurrentHashMap in MySQL and deduplicate the rowkeys, I find that there are 471 duplicate entries. The correct number of unique rowkeys is indeed 884,508.\r\n\r\nAfter multiple tests, I have observed that the specific duplicate entries stored in MySQL vary each time. However, the occurrence of 471 duplicate entries can be consistently reproduced. Furthermore, the keySet of the ConcurrentHashMap always has 471 extra entries, even when the original data remains unchanged.\r\n\r\nThis issue does not occur when the original number of rowkeys is relatively small.\r\n\r\nBelow is my code:\r\n\r\n```\r\n@Service\r\n@Slf4j\r\npublic class HbaseSupportServiceImplV2 extends HbaseSupportServiceImpl implements HbaseMigrationService {\r\n    @Resource\r\n    protected MPRawDataService rawDataSourceMybatisPlus;\r\n\r\n    protected ThreadPoolExecutor executor;\r\n\r\n    protected CountDownLatch processCountDownLatch;\r\n\r\n    protected volatile ConcurrentHashMap&lt;String, String&gt; rowKeyMap = new ConcurrentHashMap&lt;&gt;();\r\n\r\n    protected final static DateTimeFormatter DATE_TIME_FORMATTER = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&quot;);\r\n\r\n    private static final Integer pageSize = 1000;\r\n\r\n    @PostConstruct\r\n    public void initializeExecutor() {\r\n        int cpuCoreNum = Runtime.getRuntime().availableProcessors();\r\n        executor = new ThreadPoolExecutor(\r\n                50,\r\n                100,\r\n                60,\r\n                TimeUnit.SECONDS,\r\n                new ArrayBlockingQueue&lt;&gt;(1000),\r\n                new ThreadFactoryBuilder().setNameFormat(&quot;hbase-migration-%d&quot;).build(),\r\n                new RejectFreeDiscardPolicy());\r\n    }\r\n\r\n\r\n    @Override\r\n    public List&lt;JSONObject&gt; migrateMysql2Hbase(Mysql2HbaseMigrationForm reqForm) throws Exception {\r\n        LocalDate startDate = LocalDate.parse(reqForm.getStartDate(), DATE_TIME_FORMATTER);\r\n        LocalDate endDate = LocalDate.parse(reqForm.getEndDate(), DATE_TIME_FORMATTER);\r\n        String tableName = reqForm.getTableName();\r\n\r\n\r\n        //return log\r\n        List&lt;JSONObject&gt; result = new ArrayList&lt;&gt;();\r\n\r\n        //process one day each time\r\n        LocalDate thatDate = startDate;\r\n\r\n        while (!thatDate.isAfter(endDate)) {\r\n            long startTime = System.currentTimeMillis();\r\n\r\n            //total row from raw data\r\n            long totalCount = rawDataSourceMybatisPlus.count(new LambdaQueryWrapper&lt;RawData&gt;()\r\n                    .eq(RawData::getDate, thatDate));\r\n\r\n            //calculate total page\r\n            long totalPage = totalCount / pageSize + (totalCount % pageSize == 0 ? 0 : 1);\r\n\r\n            //start a new count down latch to ensure 50 threads(pages) running at the same time\r\n            if (totalPage &gt; 50) {\r\n                processCountDownLatch = new CountDownLatch(50);\r\n            } else {\r\n                processCountDownLatch = new CountDownLatch((int) (totalPage));\r\n            }\r\n\r\n            List&lt;Future&lt;Set&lt;String&gt;&gt;&gt; taskList = new ArrayList&lt;&gt;();\r\n\r\n            //loop to get paged data then send to HBase\r\n            for (Long currentPage = 1L; currentPage &lt;= totalPage; currentPage++) {\r\n                Long limitOffset = (currentPage - 1) * pageSize;\r\n                Long limitCount = pageSize.longValue();\r\n\r\n                //submit task to thread pool\r\n                Future&lt;Set&lt;String&gt;&gt; submit = executor.submit(new BatchProcess(limitOffset, limitCount, thatDate, tableName, currentPage));\r\n                taskList.add(submit);\r\n\r\n                if (currentPage % 50 == 0) {\r\n                    //when reach to 50 pages, wait for all 50 pages to finish\r\n                    try {\r\n                        processCountDownLatch.await();\r\n                        //print log when each 50 pages finished\r\n                        log.info(&quot;thatDate={},currentPage={},taotalPage={},remainPage={}&quot;,\r\n                                thatDate.format(DATE_TIME_FORMATTER),\r\n                                currentPage,\r\n                                totalPage,\r\n                                totalPage - currentPage);\r\n                    } catch (InterruptedException e) {\r\n                        NotifiableLog.ERROR.print(&quot;countDown wait error&quot;, e);\r\n                    }\r\n\r\n                    //reset count down latch \r\n                    if (totalPage - currentPage &gt; 50) {\r\n                        //for next 50 pages\r\n                        processCountDownLatch = new CountDownLatch(50);\r\n                    } else {\r\n                        //for remain pages less equal than 50\r\n                        processCountDownLatch = new CountDownLatch((int) (totalPage - currentPage));\r\n                    }\r\n                } else if (currentPage == totalPage) {\r\n                    // when reach to last page, wait for all pages to finish\r\n                    try {\r\n                        processCountDownLatch.await();\r\n                        //print log when each 50 pages finished\r\n                        log.info(&quot;thatDate={},currentPage={},taotalPage={},remainPage={}&quot;,\r\n                                thatDate.format(DATE_TIME_FORMATTER),\r\n                                currentPage,\r\n                                totalPage,\r\n                                totalPage - currentPage);\r\n                    } catch (InterruptedException e) {\r\n                        NotifiableLog.ERROR.print(&quot;countDown waiting error&quot;, e);\r\n                    }\r\n                }\r\n            }\r\n\r\n            //analyze result\r\n            Long totalSuccessCount = 0L;\r\n            for (Future&lt;Set&lt;String&gt;&gt; future : taskList) {\r\n                try {\r\n                    totalSuccessCount += future.get().size();\r\n                } catch (Exception e) {\r\n                    //just email me and continue\r\n                    NotifiableLog.ERROR.print(&quot;async has error&quot;, e);\r\n                }\r\n            }\r\n\r\n            try {\r\n                log.info(&quot;succeedï¼now date={},total MySQL rows={},rowkey count={}&quot;,\r\n                        thatDate.format(DATE_TIME_FORMATTER),\r\n                        totalCount,\r\n                        rowKeyMap.size()\r\n                );\r\n                JSONObjectBuilder currentProcessLog = new JSONObjectBuilder()\r\n                        .put(&quot;date&quot;, thatDate.format(DATE_TIME_FORMATTER))\r\n                        .put(&quot;totalCount&quot;, totalCount)\r\n                        .put(&quot;totalSuccessCount&quot;, totalSuccessCount)\r\n                        .put(&quot;processTimeUsageMillis&quot;, System.currentTimeMillis() - startTime);\r\n                result.add(currentProcessLog.build());\r\n\r\n            } catch (RuntimeException e) {\r\n                throw e;\r\n            }\r\n\r\n            thatDate = thatDate.plusDays(1);\r\n        }\r\n\r\n        return result;\r\n    }\r\n\r\n    class BatchProcess implements Callable&lt;Set&lt;String&gt;&gt; {\r\n        private final long limitOffset;\r\n        private final long limitCount;\r\n        private final LocalDate thatDate;\r\n        private final String tableName;\r\n        private final Long order;\r\n\r\n        public BatchProcess(long limitOffset, long limitCount, LocalDate thatDate, String tableName, Long order) {\r\n            this.limitOffset = limitOffset;\r\n            this.limitCount = limitCount;\r\n            this.thatDate = thatDate;\r\n            this.tableName = tableName;\r\n            this.order = order;\r\n        }\r\n\r\n        @Override\r\n        public Set&lt;String&gt; call() throws Exception {\r\n            try {\r\n                return actualProcess();\r\n            } catch (Exception e) {\r\n                NotifiableLog.ERROR.print(&quot;async task error&quot;, e);\r\n                throw e;\r\n            } finally {\r\n                processCountDownLatch.countDown();\r\n            }\r\n        }\r\n\r\n        private Set&lt;String&gt; actualProcess() throws Exception {\r\n            // query data from MySQL\r\n            // this will perform a select below:\r\n            // SELECT rowkey FROM tableName WHERE date = #{thatDate} LIMIT #{limitOffset}, #{limitCount}\r\n            List&lt;RawData&gt; page = rawDataSourceMybatisPlus.multithreadDirectList(\r\n                    limitOffset,\r\n                    limitCount,\r\n                    thatDate);\r\n\r\n            if (page.isEmpty()) {\r\n                //skip when query result is empty\r\n                NotifiableLog.ERROR.print(&quot;query result is empty offset={},date={}&quot;, limitOffset, thatDate);\r\n                return new HashSet&lt;&gt;();\r\n            }\r\n\r\n            //construct rowkey and HBase data from query result\r\n            List&lt;SaveHbaseDetailForm&gt; dataList = new ArrayList&lt;&gt;();\r\n            Set&lt;String&gt; rowkeyInThisBatch = new HashSet&lt;&gt;();\r\n            page.stream()\r\n                    .forEach(e -&gt; {\r\n                        //construct rowkey from query result\r\n                        String rowkey = String.format(&quot;%s-%s-%s-%s-%s&quot;,\r\n                                e.getMarketId() == null ? &quot;null&quot; : e.getMarketId(),\r\n                                e.getSku() == null ? &quot;null&quot; : e.getSku(),\r\n                                e.getUseAdv() == null ? &quot;null&quot; : e.getUseAdv(),\r\n                                e.getFetchDate() == null ? &quot;null&quot; : e.getFetchDate().format(DateTimeFormatter.ofPattern(&quot;yyyyMMdd&quot;)),\r\n                                e.getName() == null ? &quot;null&quot; : e.getName());\r\n                        List&lt;SaveHbaseDetailForm&gt; rowDataList = new ArrayList&lt;&gt;();\r\n                        JSONObject jsonObject = JSONObject.parseObject(JSONObject.toJSONString(e));\r\n                        jsonObject.forEach((k, v) -&gt; {\r\n                            SaveHbaseDetailForm data = new SaveHbaseDetailForm();\r\n                            data.setColumn(k);\r\n                            data.setCf(&quot;rank&quot;);\r\n                            data.setValue(v.toString());\r\n                            data.setRowkey(rowkey);\r\n                            rowDataList.add(data);\r\n                        });\r\n\r\n                        rowkeyInThisBatch.add(rowkey);\r\n                        rowKeyMap.putIfAbsent(rowkey, rowkey);\r\n\r\n                        dataList.addAll(rowDataList);\r\n                    });\r\n\r\n            //save to hbase\r\n            saveData(tableName, dataList, null);\r\n            return rowkeyInThisBatch;\r\n        }\r\n    }\r\n}\r\n\r\n```\r\nI didn&#39;t give the saving code of ConcurrentHashMap&#39;s keySet, it just shows a size of 884,979 at end of the process.\r\n\r\n\r\nWhat could be causing this situation?","title":"ConcurrentHasnMap has duplicate key when size are big","body":"<p>I have 975,641 rows of pure string data as rowkeys for HBase, where the lengths of the strings vary. After using distinct in MySQL to remove duplicates, there are 884,508 unique data entries.</p>\n<p>When I use multiple threads to read data from the database in batches and write them to HBase, I encounter the following issue:\nI start 50 threads in a loop, and each thread reads 1,000 rows of data in batches. I use a ConcurrentHashMap to deduplicate the rowkeys within each thread.</p>\n<p>After completing all the loops, an AtomicInteger shows that 975,641 rows of data were processed correctly.\nAt this point, the size of the ConcurrentHashMap is 884,979, which is 471 more entries than expected.</p>\n<p>When I store the keySet of the ConcurrentHashMap in MySQL and deduplicate the rowkeys, I find that there are 471 duplicate entries. The correct number of unique rowkeys is indeed 884,508.</p>\n<p>After multiple tests, I have observed that the specific duplicate entries stored in MySQL vary each time. However, the occurrence of 471 duplicate entries can be consistently reproduced. Furthermore, the keySet of the ConcurrentHashMap always has 471 extra entries, even when the original data remains unchanged.</p>\n<p>This issue does not occur when the original number of rowkeys is relatively small.</p>\n<p>Below is my code:</p>\n<pre><code>@Service\n@Slf4j\npublic class HbaseSupportServiceImplV2 extends HbaseSupportServiceImpl implements HbaseMigrationService {\n    @Resource\n    protected MPRawDataService rawDataSourceMybatisPlus;\n\n    protected ThreadPoolExecutor executor;\n\n    protected CountDownLatch processCountDownLatch;\n\n    protected volatile ConcurrentHashMap&lt;String, String&gt; rowKeyMap = new ConcurrentHashMap&lt;&gt;();\n\n    protected final static DateTimeFormatter DATE_TIME_FORMATTER = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&quot;);\n\n    private static final Integer pageSize = 1000;\n\n    @PostConstruct\n    public void initializeExecutor() {\n        int cpuCoreNum = Runtime.getRuntime().availableProcessors();\n        executor = new ThreadPoolExecutor(\n                50,\n                100,\n                60,\n                TimeUnit.SECONDS,\n                new ArrayBlockingQueue&lt;&gt;(1000),\n                new ThreadFactoryBuilder().setNameFormat(&quot;hbase-migration-%d&quot;).build(),\n                new RejectFreeDiscardPolicy());\n    }\n\n\n    @Override\n    public List&lt;JSONObject&gt; migrateMysql2Hbase(Mysql2HbaseMigrationForm reqForm) throws Exception {\n        LocalDate startDate = LocalDate.parse(reqForm.getStartDate(), DATE_TIME_FORMATTER);\n        LocalDate endDate = LocalDate.parse(reqForm.getEndDate(), DATE_TIME_FORMATTER);\n        String tableName = reqForm.getTableName();\n\n\n        //return log\n        List&lt;JSONObject&gt; result = new ArrayList&lt;&gt;();\n\n        //process one day each time\n        LocalDate thatDate = startDate;\n\n        while (!thatDate.isAfter(endDate)) {\n            long startTime = System.currentTimeMillis();\n\n            //total row from raw data\n            long totalCount = rawDataSourceMybatisPlus.count(new LambdaQueryWrapper&lt;RawData&gt;()\n                    .eq(RawData::getDate, thatDate));\n\n            //calculate total page\n            long totalPage = totalCount / pageSize + (totalCount % pageSize == 0 ? 0 : 1);\n\n            //start a new count down latch to ensure 50 threads(pages) running at the same time\n            if (totalPage &gt; 50) {\n                processCountDownLatch = new CountDownLatch(50);\n            } else {\n                processCountDownLatch = new CountDownLatch((int) (totalPage));\n            }\n\n            List&lt;Future&lt;Set&lt;String&gt;&gt;&gt; taskList = new ArrayList&lt;&gt;();\n\n            //loop to get paged data then send to HBase\n            for (Long currentPage = 1L; currentPage &lt;= totalPage; currentPage++) {\n                Long limitOffset = (currentPage - 1) * pageSize;\n                Long limitCount = pageSize.longValue();\n\n                //submit task to thread pool\n                Future&lt;Set&lt;String&gt;&gt; submit = executor.submit(new BatchProcess(limitOffset, limitCount, thatDate, tableName, currentPage));\n                taskList.add(submit);\n\n                if (currentPage % 50 == 0) {\n                    //when reach to 50 pages, wait for all 50 pages to finish\n                    try {\n                        processCountDownLatch.await();\n                        //print log when each 50 pages finished\n                        log.info(&quot;thatDate={},currentPage={},taotalPage={},remainPage={}&quot;,\n                                thatDate.format(DATE_TIME_FORMATTER),\n                                currentPage,\n                                totalPage,\n                                totalPage - currentPage);\n                    } catch (InterruptedException e) {\n                        NotifiableLog.ERROR.print(&quot;countDown wait error&quot;, e);\n                    }\n\n                    //reset count down latch \n                    if (totalPage - currentPage &gt; 50) {\n                        //for next 50 pages\n                        processCountDownLatch = new CountDownLatch(50);\n                    } else {\n                        //for remain pages less equal than 50\n                        processCountDownLatch = new CountDownLatch((int) (totalPage - currentPage));\n                    }\n                } else if (currentPage == totalPage) {\n                    // when reach to last page, wait for all pages to finish\n                    try {\n                        processCountDownLatch.await();\n                        //print log when each 50 pages finished\n                        log.info(&quot;thatDate={},currentPage={},taotalPage={},remainPage={}&quot;,\n                                thatDate.format(DATE_TIME_FORMATTER),\n                                currentPage,\n                                totalPage,\n                                totalPage - currentPage);\n                    } catch (InterruptedException e) {\n                        NotifiableLog.ERROR.print(&quot;countDown waiting error&quot;, e);\n                    }\n                }\n            }\n\n            //analyze result\n            Long totalSuccessCount = 0L;\n            for (Future&lt;Set&lt;String&gt;&gt; future : taskList) {\n                try {\n                    totalSuccessCount += future.get().size();\n                } catch (Exception e) {\n                    //just email me and continue\n                    NotifiableLog.ERROR.print(&quot;async has error&quot;, e);\n                }\n            }\n\n            try {\n                log.info(&quot;succeedï¼now date={},total MySQL rows={},rowkey count={}&quot;,\n                        thatDate.format(DATE_TIME_FORMATTER),\n                        totalCount,\n                        rowKeyMap.size()\n                );\n                JSONObjectBuilder currentProcessLog = new JSONObjectBuilder()\n                        .put(&quot;date&quot;, thatDate.format(DATE_TIME_FORMATTER))\n                        .put(&quot;totalCount&quot;, totalCount)\n                        .put(&quot;totalSuccessCount&quot;, totalSuccessCount)\n                        .put(&quot;processTimeUsageMillis&quot;, System.currentTimeMillis() - startTime);\n                result.add(currentProcessLog.build());\n\n            } catch (RuntimeException e) {\n                throw e;\n            }\n\n            thatDate = thatDate.plusDays(1);\n        }\n\n        return result;\n    }\n\n    class BatchProcess implements Callable&lt;Set&lt;String&gt;&gt; {\n        private final long limitOffset;\n        private final long limitCount;\n        private final LocalDate thatDate;\n        private final String tableName;\n        private final Long order;\n\n        public BatchProcess(long limitOffset, long limitCount, LocalDate thatDate, String tableName, Long order) {\n            this.limitOffset = limitOffset;\n            this.limitCount = limitCount;\n            this.thatDate = thatDate;\n            this.tableName = tableName;\n            this.order = order;\n        }\n\n        @Override\n        public Set&lt;String&gt; call() throws Exception {\n            try {\n                return actualProcess();\n            } catch (Exception e) {\n                NotifiableLog.ERROR.print(&quot;async task error&quot;, e);\n                throw e;\n            } finally {\n                processCountDownLatch.countDown();\n            }\n        }\n\n        private Set&lt;String&gt; actualProcess() throws Exception {\n            // query data from MySQL\n            // this will perform a select below:\n            // SELECT rowkey FROM tableName WHERE date = #{thatDate} LIMIT #{limitOffset}, #{limitCount}\n            List&lt;RawData&gt; page = rawDataSourceMybatisPlus.multithreadDirectList(\n                    limitOffset,\n                    limitCount,\n                    thatDate);\n\n            if (page.isEmpty()) {\n                //skip when query result is empty\n                NotifiableLog.ERROR.print(&quot;query result is empty offset={},date={}&quot;, limitOffset, thatDate);\n                return new HashSet&lt;&gt;();\n            }\n\n            //construct rowkey and HBase data from query result\n            List&lt;SaveHbaseDetailForm&gt; dataList = new ArrayList&lt;&gt;();\n            Set&lt;String&gt; rowkeyInThisBatch = new HashSet&lt;&gt;();\n            page.stream()\n                    .forEach(e -&gt; {\n                        //construct rowkey from query result\n                        String rowkey = String.format(&quot;%s-%s-%s-%s-%s&quot;,\n                                e.getMarketId() == null ? &quot;null&quot; : e.getMarketId(),\n                                e.getSku() == null ? &quot;null&quot; : e.getSku(),\n                                e.getUseAdv() == null ? &quot;null&quot; : e.getUseAdv(),\n                                e.getFetchDate() == null ? &quot;null&quot; : e.getFetchDate().format(DateTimeFormatter.ofPattern(&quot;yyyyMMdd&quot;)),\n                                e.getName() == null ? &quot;null&quot; : e.getName());\n                        List&lt;SaveHbaseDetailForm&gt; rowDataList = new ArrayList&lt;&gt;();\n                        JSONObject jsonObject = JSONObject.parseObject(JSONObject.toJSONString(e));\n                        jsonObject.forEach((k, v) -&gt; {\n                            SaveHbaseDetailForm data = new SaveHbaseDetailForm();\n                            data.setColumn(k);\n                            data.setCf(&quot;rank&quot;);\n                            data.setValue(v.toString());\n                            data.setRowkey(rowkey);\n                            rowDataList.add(data);\n                        });\n\n                        rowkeyInThisBatch.add(rowkey);\n                        rowKeyMap.putIfAbsent(rowkey, rowkey);\n\n                        dataList.addAll(rowDataList);\n                    });\n\n            //save to hbase\n            saveData(tableName, dataList, null);\n            return rowkeyInThisBatch;\n        }\n    }\n}\n\n</code></pre>\n<p>I didn't give the saving code of ConcurrentHashMap's keySet, it just shows a size of 884,979 at end of the process.</p>\n<p>What could be causing this situation?</p>\n"},{"tags":["java","algorithm","backtracking"],"comments":[{"owner":{"account_id":3700957,"reputation":13521,"user_id":3080723,"display_name":"Stef"},"score":0,"creation_date":1686645707,"post_id":76461499,"comment_id":134823829,"body_markdown":"The basic idea is to have a variable `numberOfSolutions`, and replace almost all your `return ...;` statements with `numberOfSolutions += ...;`","body":"The basic idea is to have a variable <code>numberOfSolutions</code>, and replace almost all your <code>return ...;</code> statements with <code>numberOfSolutions += ...;</code>"}],"owner":{"account_id":28678923,"reputation":1,"user_id":21960507,"display_name":"Patryk Figiel"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686626520,"creation_date":1686626520,"question_id":76461499,"body_markdown":"I&#39;ve made backtracking algorithm which solves given kakuro board and in the other class I&#39;ve got a board generator, which before give board to user checks them by using solver whether this board has a solution or not. The problem is that kakuro can only have one unique solution and sometimes my game generates boards with multiple solutions. How can I change that? I&#39;ve tried adding changes to solver and also generator, but it&#39;s still not working properly. I&#39;d be very grateful for your help\r\n\r\nThat&#39;s my solver algorithm:\r\n```\r\npackage Game;\r\n\r\nimport java.util.HashSet;\r\nimport java.util.Set;\r\n\r\npublic class GameSolver {\r\n\r\n    public static boolean isValid(int[][] board, int column, int row, int value){\r\n\r\n        int sumRow = 0;\r\n        for (int c = column; c &gt; 0; c--) {\r\n            sumRow += board[row][c];\r\n        }\r\n\r\n        int sumColumn = 0;\r\n        for (int r = row; r &gt; 0; r--) {\r\n            sumColumn += board[r][column];\r\n        }\r\n\r\n        if (sumRow + value &gt; board[row][0] || sumColumn + value &gt; board[0][column]) {\r\n            return false;\r\n        }\r\n\r\n        for (int r = 0; r &lt; row; r++) {\r\n            if (board[r][column] == value) {\r\n                return false;\r\n            }\r\n        }\r\n        for (int c = 0; c &lt; column; c++) {\r\n            if (board[row][c] == value) {\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n\r\n    public static boolean isCorrect(int[][] board, int size){\r\n        for(int i=1; i &lt; size; ++i){\r\n            int sum = 0;\r\n            Set&lt;Integer&gt; valuesSet = new HashSet&lt;&gt;();\r\n            for (int j = 1; j &lt; size; ++j) {\r\n                int value = board[i][j];\r\n                if (value != 0) {\r\n                    if (valuesSet.contains(value)) {\r\n                        return false;\r\n                    }\r\n                    valuesSet.add(value);\r\n                }\r\n                sum += value;\r\n            }\r\n            if(board[i][0] != sum){\r\n                return false;\r\n            }\r\n        }\r\n\r\n        for(int j=1; j &lt; size; ++j){\r\n            int sum = 0;\r\n            Set&lt;Integer&gt; valuesSet = new HashSet&lt;&gt;();\r\n            for (int i = 1; i &lt; size; ++i) {\r\n                int value = board[i][j];\r\n                if(value != 0){\r\n                    if(valuesSet.contains(value)){\r\n                        return false;\r\n                    }\r\n                    valuesSet.add(value);\r\n                }\r\n                sum += value;\r\n            }\r\n            if(board[0][j] != sum){\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n\r\n    public static boolean solve(int[][] board, int column, int row, int size){\r\n\r\n        if(row == size){\r\n            printBoard(board);\r\n            return true;\r\n        }\r\n        else if(column == size){\r\n            return solve(board, 1, row + 1, size);\r\n        }\r\n        else if(board[row][column] != 0){\r\n            return solve(board, column + 1, row, size);\r\n        }\r\n        else{\r\n            for(int k=1; k&lt;10; k++){\r\n                if(isValid(board, column, row, k)){\r\n                    board[row][column] = k;\r\n                    if(solve(board, column + 1, row, size)){\r\n                        if(isCorrect(board, size)){\r\n                            return true;\r\n                        }\r\n                    }\r\n                    board[row][column] = 0;\r\n                }\r\n            }\r\n            return false;\r\n        }\r\n    }\r\n\r\n    public static void printBoard(int[][] board) {\r\n        for (int[] row : board) {\r\n            for (int cell : row) {\r\n                System.out.print(cell + &quot; &quot;);\r\n            }\r\n            System.out.println();\r\n        }\r\n        System.out.println(&quot;=============&quot;);\r\n    }\r\n}\r\n\r\n\r\n```\r\nAnd here class which generate boards:\r\n\r\n```\r\npackage Game;\r\n\r\nimport java.util.Arrays;\r\nimport java.util.Random;\r\n\r\npublic class Board {\r\n    public static int[][] board;\r\n    public static int[][] solvedBoard;\r\n\r\n    public static void generateBoard(int size, boolean hardLevel) {\r\n        board = new int[size][size];\r\n        solvedBoard = new int[size][size];\r\n        int sumR;\r\n        int sumC;\r\n\r\n        do {\r\n            resetBoard(board);\r\n            sumC = 0;\r\n            sumR = 0;\r\n\r\n            for (int i = 0; i &lt; size; i++) {\r\n                for (int j = 0; j &lt; size; j++) {\r\n                    if (i == 0) {\r\n                        if (j == 0) {\r\n                            board[i][j] = 0;\r\n                        } else if (size &lt;= 4 &amp;&amp; !hardLevel) {\r\n                            board[i][j] = new Random().nextInt(12) + 3;\r\n                        } else if (hardLevel){\r\n                            board[i][j] = new Random().nextInt(18) + 7;\r\n                        }\r\n                    } else if (j == 0) {\r\n                        if (hardLevel) {\r\n                            board[i][j] = new Random().nextInt(18) + 7;\r\n                        } else if(size &lt;=4){\r\n                            board[i][j] = new Random().nextInt(12) + 3;\r\n                        }\r\n                    } else {\r\n                        board[i][j] = 0;\r\n                    }\r\n                }\r\n            }\r\n\r\n            for (int i = 0; i &lt; size; i++) {\r\n                sumR += board[0][i];\r\n                sumC += board[i][0];\r\n            }\r\n\r\n            if (sumC == sumR) {\r\n                if (GameSolver.solve(board, 1, 1, size)) {\r\n                    copyBoard(board, solvedBoard);\r\n                    resetForUser(board, size);\r\n                    break;\r\n                }\r\n            }\r\n        } while(true);\r\n    }\r\n    public static boolean isBoardSolved() {\r\n            for (int i = 0; i &lt; board.length; i++) {\r\n                for (int j = 0; j &lt; board[i].length; j++) {\r\n                    if (board[i][j] != solvedBoard[i][j]) {\r\n                        return false;\r\n                    }\r\n                }\r\n            }\r\n        return true;\r\n        }\r\n\r\n    public static void resetBoard(int[][] board) {\r\n        for (int[] ints : board) {\r\n            Arrays.fill(ints, 0);\r\n        }\r\n    }\r\n\r\n    public static void copyBoard(int[][] source, int[][] destination) {\r\n        for (int i = 0; i &lt; source.length; i++) {\r\n            System.arraycopy(source[i], 0, destination[i], 0, source[i].length);\r\n        }\r\n    }\r\n\r\n    public static void resetForUser(int[][] board, int size){\r\n        for (int i = 1; i &lt; size; i++) {\r\n            for (int j = 1; j &lt; size; j++) {\r\n                board[i][j] =0;\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n\r\n","title":"How to check if kakuro board has more than one solution?","body":"<p>I've made backtracking algorithm which solves given kakuro board and in the other class I've got a board generator, which before give board to user checks them by using solver whether this board has a solution or not. The problem is that kakuro can only have one unique solution and sometimes my game generates boards with multiple solutions. How can I change that? I've tried adding changes to solver and also generator, but it's still not working properly. I'd be very grateful for your help</p>\n<p>That's my solver algorithm:</p>\n<pre><code>package Game;\n\nimport java.util.HashSet;\nimport java.util.Set;\n\npublic class GameSolver {\n\n    public static boolean isValid(int[][] board, int column, int row, int value){\n\n        int sumRow = 0;\n        for (int c = column; c &gt; 0; c--) {\n            sumRow += board[row][c];\n        }\n\n        int sumColumn = 0;\n        for (int r = row; r &gt; 0; r--) {\n            sumColumn += board[r][column];\n        }\n\n        if (sumRow + value &gt; board[row][0] || sumColumn + value &gt; board[0][column]) {\n            return false;\n        }\n\n        for (int r = 0; r &lt; row; r++) {\n            if (board[r][column] == value) {\n                return false;\n            }\n        }\n        for (int c = 0; c &lt; column; c++) {\n            if (board[row][c] == value) {\n                return false;\n            }\n        }\n        return true;\n    }\n\n    public static boolean isCorrect(int[][] board, int size){\n        for(int i=1; i &lt; size; ++i){\n            int sum = 0;\n            Set&lt;Integer&gt; valuesSet = new HashSet&lt;&gt;();\n            for (int j = 1; j &lt; size; ++j) {\n                int value = board[i][j];\n                if (value != 0) {\n                    if (valuesSet.contains(value)) {\n                        return false;\n                    }\n                    valuesSet.add(value);\n                }\n                sum += value;\n            }\n            if(board[i][0] != sum){\n                return false;\n            }\n        }\n\n        for(int j=1; j &lt; size; ++j){\n            int sum = 0;\n            Set&lt;Integer&gt; valuesSet = new HashSet&lt;&gt;();\n            for (int i = 1; i &lt; size; ++i) {\n                int value = board[i][j];\n                if(value != 0){\n                    if(valuesSet.contains(value)){\n                        return false;\n                    }\n                    valuesSet.add(value);\n                }\n                sum += value;\n            }\n            if(board[0][j] != sum){\n                return false;\n            }\n        }\n        return true;\n    }\n\n    public static boolean solve(int[][] board, int column, int row, int size){\n\n        if(row == size){\n            printBoard(board);\n            return true;\n        }\n        else if(column == size){\n            return solve(board, 1, row + 1, size);\n        }\n        else if(board[row][column] != 0){\n            return solve(board, column + 1, row, size);\n        }\n        else{\n            for(int k=1; k&lt;10; k++){\n                if(isValid(board, column, row, k)){\n                    board[row][column] = k;\n                    if(solve(board, column + 1, row, size)){\n                        if(isCorrect(board, size)){\n                            return true;\n                        }\n                    }\n                    board[row][column] = 0;\n                }\n            }\n            return false;\n        }\n    }\n\n    public static void printBoard(int[][] board) {\n        for (int[] row : board) {\n            for (int cell : row) {\n                System.out.print(cell + &quot; &quot;);\n            }\n            System.out.println();\n        }\n        System.out.println(&quot;=============&quot;);\n    }\n}\n\n\n</code></pre>\n<p>And here class which generate boards:</p>\n<pre><code>package Game;\n\nimport java.util.Arrays;\nimport java.util.Random;\n\npublic class Board {\n    public static int[][] board;\n    public static int[][] solvedBoard;\n\n    public static void generateBoard(int size, boolean hardLevel) {\n        board = new int[size][size];\n        solvedBoard = new int[size][size];\n        int sumR;\n        int sumC;\n\n        do {\n            resetBoard(board);\n            sumC = 0;\n            sumR = 0;\n\n            for (int i = 0; i &lt; size; i++) {\n                for (int j = 0; j &lt; size; j++) {\n                    if (i == 0) {\n                        if (j == 0) {\n                            board[i][j] = 0;\n                        } else if (size &lt;= 4 &amp;&amp; !hardLevel) {\n                            board[i][j] = new Random().nextInt(12) + 3;\n                        } else if (hardLevel){\n                            board[i][j] = new Random().nextInt(18) + 7;\n                        }\n                    } else if (j == 0) {\n                        if (hardLevel) {\n                            board[i][j] = new Random().nextInt(18) + 7;\n                        } else if(size &lt;=4){\n                            board[i][j] = new Random().nextInt(12) + 3;\n                        }\n                    } else {\n                        board[i][j] = 0;\n                    }\n                }\n            }\n\n            for (int i = 0; i &lt; size; i++) {\n                sumR += board[0][i];\n                sumC += board[i][0];\n            }\n\n            if (sumC == sumR) {\n                if (GameSolver.solve(board, 1, 1, size)) {\n                    copyBoard(board, solvedBoard);\n                    resetForUser(board, size);\n                    break;\n                }\n            }\n        } while(true);\n    }\n    public static boolean isBoardSolved() {\n            for (int i = 0; i &lt; board.length; i++) {\n                for (int j = 0; j &lt; board[i].length; j++) {\n                    if (board[i][j] != solvedBoard[i][j]) {\n                        return false;\n                    }\n                }\n            }\n        return true;\n        }\n\n    public static void resetBoard(int[][] board) {\n        for (int[] ints : board) {\n            Arrays.fill(ints, 0);\n        }\n    }\n\n    public static void copyBoard(int[][] source, int[][] destination) {\n        for (int i = 0; i &lt; source.length; i++) {\n            System.arraycopy(source[i], 0, destination[i], 0, source[i].length);\n        }\n    }\n\n    public static void resetForUser(int[][] board, int size){\n        for (int i = 1; i &lt; size; i++) {\n            for (int j = 1; j &lt; size; j++) {\n                board[i][j] =0;\n            }\n        }\n    }\n}\n\n</code></pre>\n"},{"tags":["java","spring","spring-boot","apache-kafka","spring-kafka"],"answers":[{"comments":[{"owner":{"account_id":1288095,"reputation":169336,"user_id":1240763,"display_name":"Gary Russell"},"score":1,"creation_date":1672760330,"post_id":74943872,"comment_id":132344469,"body_markdown":"You can also do it programmatically (assuming all current consumers are stopped); create a `KafkaConsumer` with the old group (don&#39;t subscribe or assign any partitions). Call `committed()` to get the current committed offsets. Create another consumer with the new group and perform `seek()` operations.","body":"You can also do it programmatically (assuming all current consumers are stopped); create a <code>KafkaConsumer</code> with the old group (don&#39;t subscribe or assign any partitions). Call <code>committed()</code> to get the current committed offsets. Create another consumer with the new group and perform <code>seek()</code> operations."},{"owner":{"account_id":8191586,"reputation":81,"user_id":12195379,"display_name":"Rajesh Rai"},"score":0,"creation_date":1678177911,"post_id":74943872,"comment_id":133478371,"body_markdown":"You can use consumer with seek option. can store the last processed offset for a consumer group to a journal store(which is accessible to all the consumers of a group) and in case of restart they can seek from last offset, check the documentation [here][1]\n\n\n  [1]: https://docs.spring.io/spring-kafka/docs/current/reference/html/#seek","body":"You can use consumer with seek option. can store the last processed offset for a consumer group to a journal store(which is accessible to all the consumers of a group) and in case of restart they can seek from last offset, check the documentation [here][1]     [1]: <a href=\"https://docs.spring.io/spring-kafka/docs/current/reference/html/#seek\" rel=\"nofollow noreferrer\">docs.spring.io/spring-kafka/docs/current/reference/html/#see&zwnj;&#8203;k</a>"}],"tags":[],"owner":{"account_id":9120249,"reputation":15521,"user_id":6785908,"accept_rate":70,"display_name":"so-random-dude"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1686626489,"creation_date":1672252833,"answer_id":74943872,"question_id":74943770,"body_markdown":"This is an interesting question, I have come across this scenario more times than I think I would. This is how I went about it\r\n\r\n 1. Use console-consumer with `--group new-CG-name`, `--from-beginning` and `--max-messages 1` so that it consumes just one message and the consumer group is registered with the broker/zookeeper\r\n 2. Stop the current consumer app and find out the offset for each of the partition for the given topic-current consumer group\r\n 3. Using consumer-group.sh, Change the new-CG-name&#39;s offset for all of the partitions to the same number as the current CG&#39;s offset\r\n 4. Change the consumer group name in your listener app to new name and start the app\r\n\r\nStep 1 may not be necessary. You can experiment without it","title":"Change the group.id of spring-kafka listeners without re-processing processed or losing unprocessed messages","body":"<p>This is an interesting question, I have come across this scenario more times than I think I would. This is how I went about it</p>\n<ol>\n<li>Use console-consumer with <code>--group new-CG-name</code>, <code>--from-beginning</code> and <code>--max-messages 1</code> so that it consumes just one message and the consumer group is registered with the broker/zookeeper</li>\n<li>Stop the current consumer app and find out the offset for each of the partition for the given topic-current consumer group</li>\n<li>Using consumer-group.sh, Change the new-CG-name's offset for all of the partitions to the same number as the current CG's offset</li>\n<li>Change the consumer group name in your listener app to new name and start the app</li>\n</ol>\n<p>Step 1 may not be necessary. You can experiment without it</p>\n"},{"tags":[],"owner":{"account_id":8191586,"reputation":81,"user_id":12195379,"display_name":"Rajesh Rai"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678262639,"creation_date":1678262639,"answer_id":75670576,"question_id":74943770,"body_markdown":"You can use consumer with seek option. can store the last processed offset for a consumer group to a journal store(which is accessible to all the consumers of a group) and in case of restart they can seek from last offset, check the documentation [here][1]\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-kafka/docs/current/reference/html/#seek","title":"Change the group.id of spring-kafka listeners without re-processing processed or losing unprocessed messages","body":"<p>You can use consumer with seek option. can store the last processed offset for a consumer group to a journal store(which is accessible to all the consumers of a group) and in case of restart they can seek from last offset, check the documentation <a href=\"https://docs.spring.io/spring-kafka/docs/current/reference/html/#seek\" rel=\"nofollow noreferrer\">here</a></p>\n"}],"owner":{"account_id":12875245,"reputation":547,"user_id":9312181,"display_name":"tusharRawat"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":645,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1686626489,"creation_date":1672252069,"question_id":74943770,"body_markdown":"We have few **`Kafka listeners`** consuming from different `topics` but they are under a same consumer group - `group-1`. (legacy-code.)\r\n\r\nAs it&#39;s not a good practice to keep the listeners consuming from different topics in the same group. \r\n\r\n\r\nWe want to separate the consumer groups for each listener, i.e. listener consuming from `topic-1` would be in a separate group than the listener consuming from `topic-2`. \r\n\r\n\r\nAs per the docs, we could mention the `groupId` property over each `@KafkaListener`, but what we are afraid of is:-\r\n\r\n 1. If we set the `auto.offset.reset` for new consumer groups as\r\n    `latest`, then we will be losing on some messages, as when our old\r\n    common consumer group dies, due to consumer `LAG` some messages must not have been processed by it, and the new consumer group will not be processing those messages and just starts reading from the latest offset.\r\n2. If we set the `auto.offset.reset` for new consumer groups as\r\n    `earliest`, then we will be processing the same messages again, as new consumers starts reading from the topic&#39;s earliest offset present on broker.\r\n\r\n\r\n&gt; We want to eliminate both the above cases. Is there a way to do this\r\n&gt; safely in spring-kafka.","title":"Change the group.id of spring-kafka listeners without re-processing processed or losing unprocessed messages","body":"<p>We have few <strong><code>Kafka listeners</code></strong> consuming from different <code>topics</code> but they are under a same consumer group - <code>group-1</code>. (legacy-code.)</p>\n<p>As it's not a good practice to keep the listeners consuming from different topics in the same group.</p>\n<p>We want to separate the consumer groups for each listener, i.e. listener consuming from <code>topic-1</code> would be in a separate group than the listener consuming from <code>topic-2</code>.</p>\n<p>As per the docs, we could mention the <code>groupId</code> property over each <code>@KafkaListener</code>, but what we are afraid of is:-</p>\n<ol>\n<li>If we set the <code>auto.offset.reset</code> for new consumer groups as\n<code>latest</code>, then we will be losing on some messages, as when our old\ncommon consumer group dies, due to consumer <code>LAG</code> some messages must not have been processed by it, and the new consumer group will not be processing those messages and just starts reading from the latest offset.</li>\n<li>If we set the <code>auto.offset.reset</code> for new consumer groups as\n<code>earliest</code>, then we will be processing the same messages again, as new consumers starts reading from the topic's earliest offset present on broker.</li>\n</ol>\n<blockquote>\n<p>We want to eliminate both the above cases. Is there a way to do this\nsafely in spring-kafka.</p>\n</blockquote>\n"},{"tags":["java","android","gps","broadcastreceiver","locationmanager"],"comments":[{"owner":{"account_id":4490260,"reputation":181,"user_id":3651520,"accept_rate":0,"display_name":"Ender87"},"score":0,"creation_date":1459418223,"post_id":36325088,"comment_id":60282235,"body_markdown":"So how exactly would I implement that? It sounded like the GpsStatusListener was a better option since it only needs 1 method, while the LocationListener has like 4.. But in any case, what would the steps be for where to put everything? Since it&#39;s already a Listener on its own (I think), should I simply run it within a Service (rather than in a BroadcastListener) or what?","body":"So how exactly would I implement that? It sounded like the GpsStatusListener was a better option since it only needs 1 method, while the LocationListener has like 4.. But in any case, what would the steps be for where to put everything? Since it&#39;s already a Listener on its own (I think), should I simply run it within a Service (rather than in a BroadcastListener) or what?"},{"owner":{"account_id":4490260,"reputation":181,"user_id":3651520,"accept_rate":0,"display_name":"Ender87"},"score":0,"creation_date":1459497748,"post_id":36325088,"comment_id":60322570,"body_markdown":"@DanielNugent So a couple questions.. If I use the LocationListener in order to determine the exact moment the user switches the Location Setting to &quot;ON&quot; (and thus only using onProviderEnabled), would I still need to get the latitude and longitude, etc like in the example? And question 2 is, do I need to use a Handler like in the example as well? If I&#39;m not mistaken, it&#39;s hard-coded into the LocationListener already right? As is the function of a BroadcastListener, meaning I don&#39;t need that either, and can simply run the code within a Service (or Activity with no Layout) correct? or no? Thanks","body":"@DanielNugent So a couple questions.. If I use the LocationListener in order to determine the exact moment the user switches the Location Setting to &quot;ON&quot; (and thus only using onProviderEnabled), would I still need to get the latitude and longitude, etc like in the example? And question 2 is, do I need to use a Handler like in the example as well? If I&#39;m not mistaken, it&#39;s hard-coded into the LocationListener already right? As is the function of a BroadcastListener, meaning I don&#39;t need that either, and can simply run the code within a Service (or Activity with no Layout) correct? or no? Thanks"},{"owner":{"account_id":4490260,"reputation":181,"user_id":3651520,"accept_rate":0,"display_name":"Ender87"},"score":0,"creation_date":1459500878,"post_id":36325088,"comment_id":60324319,"body_markdown":"@DanielNugent Again, I don&#39;t even need the actual location whatsoever.. I literally ONLY need my App to essentially listen for when &quot;Location&quot; gets turned on, and then start a new activity. That&#39;s it. But other than that, my App doesn&#39;t have ANYTHING to do with using the Location or anything whatsoever (aside from running in the background and firing up my next activity as soon as the Location SETTING gets turned on).. Does that change anything, as far as the best option?","body":"@DanielNugent Again, I don&#39;t even need the actual location whatsoever.. I literally ONLY need my App to essentially listen for when &quot;Location&quot; gets turned on, and then start a new activity. That&#39;s it. But other than that, my App doesn&#39;t have ANYTHING to do with using the Location or anything whatsoever (aside from running in the background and firing up my next activity as soon as the Location SETTING gets turned on).. Does that change anything, as far as the best option?"},{"owner":{"account_id":4490260,"reputation":181,"user_id":3651520,"accept_rate":0,"display_name":"Ender87"},"score":0,"creation_date":1459563457,"post_id":36325088,"comment_id":60356079,"body_markdown":"@DanielNugent When you say &quot;use the BroadcastReceiver for android. location.PROVIDERS_CHANGED&quot;, are you still referring to using the LocationListener (within a Service), OR are you saying to implement some kind of &quot; If/Else&quot; statement containing PROVIDERS_CHANGED somehow, from within an actual BroadcastListener?","body":"@DanielNugent When you say &quot;use the BroadcastReceiver for android. location.PROVIDERS_CHANGED&quot;, are you still referring to using the LocationListener (within a Service), OR are you saying to implement some kind of &quot; If/Else&quot; statement containing PROVIDERS_CHANGED somehow, from within an actual BroadcastListener?"},{"owner":{"account_id":4490260,"reputation":181,"user_id":3651520,"accept_rate":0,"display_name":"Ender87"},"score":0,"creation_date":1459563807,"post_id":36325088,"comment_id":60356133,"body_markdown":"@DanielNugent I wish there was a way for us to communicate more easily.. I have a few more questions about it that are pretty basic, but I don&#39;t want to make this post/thread too long.. Would you mind if I emailed you? If I could get your email that would be super helpful in achieving my goals. I really appreciate your help.","body":"@DanielNugent I wish there was a way for us to communicate more easily.. I have a few more questions about it that are pretty basic, but I don&#39;t want to make this post/thread too long.. Would you mind if I emailed you? If I could get your email that would be super helpful in achieving my goals. I really appreciate your help."},{"owner":{"account_id":4490260,"reputation":181,"user_id":3651520,"accept_rate":0,"display_name":"Ender87"},"score":0,"creation_date":1459722138,"post_id":36325088,"comment_id":60400761,"body_markdown":"@DanielNugent I took a look at the link you gave me, and it seems to make sense.. However, you mention some kind of &quot;Library&quot; on a few occasions in that post.. Do I need to utilize some kind of Library as well? Or can I simply put that code into a receiver, and have a button in my main app start the receiver up and close itself?","body":"@DanielNugent I took a look at the link you gave me, and it seems to make sense.. However, you mention some kind of &quot;Library&quot; on a few occasions in that post.. Do I need to utilize some kind of Library as well? Or can I simply put that code into a receiver, and have a button in my main app start the receiver up and close itself?"},{"owner":{"account_id":4490260,"reputation":181,"user_id":3651520,"accept_rate":0,"display_name":"Ender87"},"score":0,"creation_date":1459723002,"post_id":36325088,"comment_id":60400994,"body_markdown":"@DanielNugent Awesome I&#39;ll try it out and get back to you with any further questions.. However just curious, whats the difference between running a BroadcastReceiver using an Intent, vs running a Service using the LocationListener? Isnt it basically the same? Remember I need it to be running at all times, even when my App isn&#39;t. And also start listening automatically when the system starts etc. So how would the 2 methods differ?","body":"@DanielNugent Awesome I&#39;ll try it out and get back to you with any further questions.. However just curious, whats the difference between running a BroadcastReceiver using an Intent, vs running a Service using the LocationListener? Isnt it basically the same? Remember I need it to be running at all times, even when my App isn&#39;t. And also start listening automatically when the system starts etc. So how would the 2 methods differ?"},{"owner":{"account_id":4490260,"reputation":181,"user_id":3651520,"accept_rate":0,"display_name":"Ender87"},"score":0,"creation_date":1459729970,"post_id":36325088,"comment_id":60402638,"body_markdown":"@DanielNugent For example, in my MainActivity, I have to use an Intent to actually Start my Service when they press a Button.. But do I need to do this for my Receiver in a similar way? Or how does the Receiver get started?","body":"@DanielNugent For example, in my MainActivity, I have to use an Intent to actually Start my Service when they press a Button.. But do I need to do this for my Receiver in a similar way? Or how does the Receiver get started?"},{"owner":{"account_id":5559444,"reputation":43202,"user_id":4409409,"display_name":"Daniel Nugent"},"score":0,"creation_date":1459735849,"post_id":36325088,"comment_id":60403995,"body_markdown":"I just added an answer, I really think it&#39;s as simple as that.  Let me know if it works for you!","body":"I just added an answer, I really think it&#39;s as simple as that.  Let me know if it works for you!"},{"owner":{"account_id":4490260,"reputation":181,"user_id":3651520,"accept_rate":0,"display_name":"Ender87"},"score":0,"creation_date":1459736598,"post_id":36325088,"comment_id":60404140,"body_markdown":"@DanielNugent I now have the entire Receiver coded, as well as the Manifest, both as you described.. My only remaining questions are: How to make sure the Receiver stays active, in the event that the user turns off the Location Service and then turns it back ON again.. Essentially I want it to be listening at ALL times for it to be turned ON, even after the initial receipt of the Broadcast.. Make sense? Just want to make sure the Receiver doesnt get killed.. And thank you again for all the help..","body":"@DanielNugent I now have the entire Receiver coded, as well as the Manifest, both as you described.. My only remaining questions are: How to make sure the Receiver stays active, in the event that the user turns off the Location Service and then turns it back ON again.. Essentially I want it to be listening at ALL times for it to be turned ON, even after the initial receipt of the Broadcast.. Make sense? Just want to make sure the Receiver doesnt get killed.. And thank you again for all the help.."},{"owner":{"account_id":5559444,"reputation":43202,"user_id":4409409,"display_name":"Daniel Nugent"},"score":0,"creation_date":1459737121,"post_id":36325088,"comment_id":60404216,"body_markdown":"You should read the documentation on BroadcastReceivers, the beauty of them is that they are not always running (so your app is not eating up battery life), but when the provider change happens, the OS starts your app and executes the BroadcastReceiver&#39;s onReceive.  Go ahead and test it, and make sure that it works for your needs!","body":"You should read the documentation on BroadcastReceivers, the beauty of them is that they are not always running (so your app is not eating up battery life), but when the provider change happens, the OS starts your app and executes the BroadcastReceiver&#39;s onReceive.  Go ahead and test it, and make sure that it works for your needs!"},{"owner":{"account_id":4490260,"reputation":181,"user_id":3651520,"accept_rate":0,"display_name":"Ender87"},"score":0,"creation_date":1459737419,"post_id":36325088,"comment_id":60404261,"body_markdown":"@DanielNugent Awesome, I will try it out, and thanks again.. I actually have the documentation up as we speak.. The only issue is, I want the &quot;Launch my next Activity upon receipt of the Broadcast&quot; to be an Option the user can set to On or Off. But it sounds like the Receiver will always be running. I also need to make sure it doesn&#39;t get killed after it receives the initial Broadcast, so it will continue to respond to it. Is there a code needed to reinitialize the Receiver after the onReceive code, or does it automatically reinstate it?","body":"@DanielNugent Awesome, I will try it out, and thanks again.. I actually have the documentation up as we speak.. The only issue is, I want the &quot;Launch my next Activity upon receipt of the Broadcast&quot; to be an Option the user can set to On or Off. But it sounds like the Receiver will always be running. I also need to make sure it doesn&#39;t get killed after it receives the initial Broadcast, so it will continue to respond to it. Is there a code needed to reinitialize the Receiver after the onReceive code, or does it automatically reinstate it?"},{"owner":{"account_id":5559444,"reputation":43202,"user_id":4409409,"display_name":"Daniel Nugent"},"score":0,"creation_date":1459737678,"post_id":36325088,"comment_id":60404315,"body_markdown":"Just use a SharedPreference value to store what the user has chosen, and check the value of the SharedPreference in the BroadcastReceiver.  If the user has disabled it, don&#39;t start the Activity in onReceive() in the BroadcastReceiver.","body":"Just use a SharedPreference value to store what the user has chosen, and check the value of the SharedPreference in the BroadcastReceiver.  If the user has disabled it, don&#39;t start the Activity in onReceive() in the BroadcastReceiver."},{"owner":{"account_id":4490260,"reputation":181,"user_id":3651520,"accept_rate":0,"display_name":"Ender87"},"score":0,"creation_date":1459814617,"post_id":36325088,"comment_id":60445238,"body_markdown":"@DanielNugent OK So I just edited my original post and added all the Code I&#39;ve got so far.. Could you take a look at my Edit above, and the questions under it? Thanks Daniel!","body":"@DanielNugent OK So I just edited my original post and added all the Code I&#39;ve got so far.. Could you take a look at my Edit above, and the questions under it? Thanks Daniel!"}],"answers":[{"comments":[{"owner":{"account_id":3181077,"reputation":3160,"user_id":2774781,"accept_rate":73,"display_name":"guy_m"},"score":2,"creation_date":1527004731,"post_id":36351850,"comment_id":87957487,"body_markdown":"Hey, what about Android Oreo? we can no longer use the manifest as it violates some new restrictions. It&#39;s basically isn&#39;t called when app is in background. I understand we should do something with a JobScheduler. Any thoughts?","body":"Hey, what about Android Oreo? we can no longer use the manifest as it violates some new restrictions. It&#39;s basically isn&#39;t called when app is in background. I understand we should do something with a JobScheduler. Any thoughts?"},{"owner":{"account_id":2492823,"reputation":606,"user_id":2169965,"accept_rate":57,"display_name":"gfache"},"score":3,"creation_date":1527008034,"post_id":36351850,"comment_id":87959357,"body_markdown":"You&#39;ll have to use context based registration or dynamic registration. doc [link] (https://developer.android.com/guide/components/broadcasts#context-registered-receivers)","body":"You&#39;ll have to use context based registration or dynamic registration. doc [link] (<a href=\"https://developer.android.com/guide/components/broadcasts#context-registered-receivers\" rel=\"nofollow noreferrer\">developer.android.com/guide/components/&hellip;</a>)"},{"owner":{"account_id":17448840,"reputation":189,"user_id":12649245,"display_name":"Kelvin Bouma"},"score":0,"creation_date":1691247169,"post_id":36351850,"comment_id":135467676,"body_markdown":"Please just use .equals() instead of .matches(). It also causes you to needlessly call .toRegex() in your Kotlin code","body":"Please just use .equals() instead of .matches(). It also causes you to needlessly call .toRegex() in your Kotlin code"}],"tags":[],"owner":{"account_id":5559444,"reputation":43202,"user_id":4409409,"display_name":"Daniel Nugent"},"comment_count":3,"down_vote_count":0,"up_vote_count":28,"is_accepted":false,"score":28,"last_activity_date":1573366516,"creation_date":1459500396,"answer_id":36351850,"question_id":36325088,"body_markdown":"Since you don&#39;t need to actually get a Location, the best implementation for your needs would be a BroadcastReceiver.\r\n\r\nThis is the best option because you wouldn&#39;t need to have a Service running at all times (resulting in extra batter drain), and you would be able to start your Activity from the BroadcastReceiver.\r\n\r\nWith the intent filter and BroadcastReceiver, your app will be started by the OS whenever the Location setting has changed (enabled or disabled), and in the case that it is enabled, you can start your Activity from the BroadcastReceiver.\r\n\r\nFirst add the intent filter, which will be captured when the OS sends out the implicit Intent that the setting has changed.\r\n\r\n\r\n&lt;!--language: xml--&gt;\r\n\r\n    &lt;receiver\r\n        android:name=&quot;.LocationProviderChangedReceiver&quot;\r\n        android:exported=&quot;false&quot; &gt;\r\n        &lt;intent-filter&gt;\r\n            &lt;action android:name=&quot;android.location.PROVIDERS_CHANGED&quot; /&gt;\r\n            &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\r\n        &lt;/intent-filter&gt;\r\n    &lt;/receiver&gt;\r\n\r\nNote that for this to work on Android Oreo and above, you&#39;ll need to register the broadcast receiver at runtime, see here: https://developer.android.com/guide/components/broadcasts#context-registered-receivers\r\n\r\nThen, in LocationProviderChangedReceiver.java, your implementation would be something like this:\r\n&lt;!--language: java--&gt;\r\n\r\n    import android.content.BroadcastReceiver;\r\n    import android.content.Context;\r\n    import android.content.Intent;\r\n    import android.location.LocationManager;\r\n    import android.util.Log;\r\n    import android.widget.Toast;\r\n    \r\n    public class LocationProviderChangedReceiver extends BroadcastReceiver {\r\n        private final static String TAG = &quot;LocationProviderChanged&quot;;\r\n    \r\n        boolean isGpsEnabled;\r\n        boolean isNetworkEnabled;\r\n    \r\n        @Override\r\n        public void onReceive(Context context, Intent intent) {\r\n            if (intent.getAction().matches(&quot;android.location.PROVIDERS_CHANGED&quot;))\r\n            {\r\n                Log.i(TAG, &quot;Location Providers changed&quot;);\r\n    \r\n                LocationManager locationManager = (LocationManager) context.getSystemService(Context.LOCATION_SERVICE);\r\n                isGpsEnabled = locationManager.isProviderEnabled(LocationManager.GPS_PROVIDER);\r\n                isNetworkEnabled = locationManager.isProviderEnabled(LocationManager.NETWORK_PROVIDER);\r\n    \r\n                //Start your Activity if location was enabled:\r\n                if (isGpsEnabled || isNetworkEnabled) {\r\n                      Intent i = new Intent(context, YourActivity.class);\r\n                      context.startActivity(i);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n**Edit**\r\n\r\nUpdated solution with Kotlin and registering receiver at runtime for Android 9.\r\n\r\nThe BroadcastReceiver class in Kotlin:\r\n\r\n\r\n&lt;!-- language: kotlin --&gt;\r\n\r\n    class LocationProviderChangedReceiver : BroadcastReceiver() {\r\n    \r\n        internal var isGpsEnabled: Boolean = false\r\n        internal var isNetworkEnabled: Boolean = false\r\n    \r\n        override fun onReceive(context: Context, intent: Intent) {\r\n            intent.action?.let { act -&gt;\r\n                if (act.matches(&quot;android.location.PROVIDERS_CHANGED&quot;.toRegex())) {\r\n                    val locationManager = context.getSystemService(Context.LOCATION_SERVICE) as LocationManager\r\n                    isGpsEnabled = locationManager.isProviderEnabled(LocationManager.GPS_PROVIDER)\r\n                    isNetworkEnabled = locationManager.isProviderEnabled(LocationManager.NETWORK_PROVIDER)\r\n    \r\n                    Log.i(TAG, &quot;Location Providers changed, is GPS Enabled: &quot; + isGpsEnabled)\r\n    \r\n                    //Start your Activity if location was enabled:\r\n                    if (isGpsEnabled || isNetworkEnabled) {\r\n                        val i = Intent(context, YourActivity::class.java)\r\n                        context.startActivity(i)\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    \r\n        companion object {\r\n            private val TAG = &quot;LocationProviderChanged&quot;\r\n        }\r\n    }\r\n\r\n\r\nRegister at runtime, for example in onCreate() of your app&#39;s MainActivity:\r\n\r\n&lt;!-- language: kotlin --&gt;\r\n\r\n    override fun onCreate(savedInstanceState: Bundle?) {\r\n        super.onCreate(savedInstanceState)\r\n        setContentView(R.layout.activity_main)\r\n\r\n        val br: BroadcastReceiver = LocationProviderChangedReceiver()\r\n        val filter = IntentFilter(LocationManager.PROVIDERS_CHANGED_ACTION)\r\n        registerReceiver(br, filter)\r\n    }\r\n","title":"How to? Listen for Location Setting being turned ON (Android App)","body":"<p>Since you don't need to actually get a Location, the best implementation for your needs would be a BroadcastReceiver.</p>\n\n<p>This is the best option because you wouldn't need to have a Service running at all times (resulting in extra batter drain), and you would be able to start your Activity from the BroadcastReceiver.</p>\n\n<p>With the intent filter and BroadcastReceiver, your app will be started by the OS whenever the Location setting has changed (enabled or disabled), and in the case that it is enabled, you can start your Activity from the BroadcastReceiver.</p>\n\n<p>First add the intent filter, which will be captured when the OS sends out the implicit Intent that the setting has changed.</p>\n\n\n\n<pre><code>&lt;receiver\n    android:name=\".LocationProviderChangedReceiver\"\n    android:exported=\"false\" &gt;\n    &lt;intent-filter&gt;\n        &lt;action android:name=\"android.location.PROVIDERS_CHANGED\" /&gt;\n        &lt;category android:name=\"android.intent.category.DEFAULT\" /&gt;\n    &lt;/intent-filter&gt;\n&lt;/receiver&gt;\n</code></pre>\n\n<p>Note that for this to work on Android Oreo and above, you'll need to register the broadcast receiver at runtime, see here: <a href=\"https://developer.android.com/guide/components/broadcasts#context-registered-receivers\" rel=\"noreferrer\">https://developer.android.com/guide/components/broadcasts#context-registered-receivers</a></p>\n\n<p>Then, in LocationProviderChangedReceiver.java, your implementation would be something like this:\n</p>\n\n<pre><code>import android.content.BroadcastReceiver;\nimport android.content.Context;\nimport android.content.Intent;\nimport android.location.LocationManager;\nimport android.util.Log;\nimport android.widget.Toast;\n\npublic class LocationProviderChangedReceiver extends BroadcastReceiver {\n    private final static String TAG = \"LocationProviderChanged\";\n\n    boolean isGpsEnabled;\n    boolean isNetworkEnabled;\n\n    @Override\n    public void onReceive(Context context, Intent intent) {\n        if (intent.getAction().matches(\"android.location.PROVIDERS_CHANGED\"))\n        {\n            Log.i(TAG, \"Location Providers changed\");\n\n            LocationManager locationManager = (LocationManager) context.getSystemService(Context.LOCATION_SERVICE);\n            isGpsEnabled = locationManager.isProviderEnabled(LocationManager.GPS_PROVIDER);\n            isNetworkEnabled = locationManager.isProviderEnabled(LocationManager.NETWORK_PROVIDER);\n\n            //Start your Activity if location was enabled:\n            if (isGpsEnabled || isNetworkEnabled) {\n                  Intent i = new Intent(context, YourActivity.class);\n                  context.startActivity(i);\n            }\n        }\n    }\n}\n</code></pre>\n\n<p><strong>Edit</strong></p>\n\n<p>Updated solution with Kotlin and registering receiver at runtime for Android 9.</p>\n\n<p>The BroadcastReceiver class in Kotlin:</p>\n\n<pre><code>class LocationProviderChangedReceiver : BroadcastReceiver() {\n\n    internal var isGpsEnabled: Boolean = false\n    internal var isNetworkEnabled: Boolean = false\n\n    override fun onReceive(context: Context, intent: Intent) {\n        intent.action?.let { act -&gt;\n            if (act.matches(\"android.location.PROVIDERS_CHANGED\".toRegex())) {\n                val locationManager = context.getSystemService(Context.LOCATION_SERVICE) as LocationManager\n                isGpsEnabled = locationManager.isProviderEnabled(LocationManager.GPS_PROVIDER)\n                isNetworkEnabled = locationManager.isProviderEnabled(LocationManager.NETWORK_PROVIDER)\n\n                Log.i(TAG, \"Location Providers changed, is GPS Enabled: \" + isGpsEnabled)\n\n                //Start your Activity if location was enabled:\n                if (isGpsEnabled || isNetworkEnabled) {\n                    val i = Intent(context, YourActivity::class.java)\n                    context.startActivity(i)\n                }\n            }\n        }\n    }\n\n    companion object {\n        private val TAG = \"LocationProviderChanged\"\n    }\n}\n</code></pre>\n\n<p>Register at runtime, for example in onCreate() of your app's MainActivity:</p>\n\n<pre><code>override fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_main)\n\n    val br: BroadcastReceiver = LocationProviderChangedReceiver()\n    val filter = IntentFilter(LocationManager.PROVIDERS_CHANGED_ACTION)\n    registerReceiver(br, filter)\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":7528696,"reputation":1247,"user_id":5717791,"display_name":"Williaan Lopes"},"score":1,"creation_date":1562125155,"post_id":55047578,"comment_id":100274369,"body_markdown":"This is useful if you did not want to use it in a separate class","body":"This is useful if you did not want to use it in a separate class"}],"tags":[],"owner":{"account_id":2362295,"reputation":4187,"user_id":2068732,"accept_rate":67,"display_name":"matdev"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1551973102,"creation_date":1551973102,"answer_id":55047578,"question_id":36325088,"body_markdown":"Here is a solution using dynamic registration:\r\n\r\nIn your fragment or activity&#39;s onResume() method, listen to changes in `LocationManager.PROVIDERS_CHANGED_ACTION`\r\n\r\n    IntentFilter filter = new IntentFilter(LocationManager.PROVIDERS_CHANGED_ACTION);\r\n    filter.addAction(Intent.ACTION_PROVIDER_CHANGED);\r\n    mActivity.registerReceiver(gpsSwitchStateReceiver, filter);\r\n\r\nHere is a code sample for the `gpsSwitchStateReceiver` object:\r\n\r\n\r\n    private BroadcastReceiver gpsSwitchStateReceiver = new BroadcastReceiver() {\r\n            @Override\r\n            public void onReceive(Context context, Intent intent) {\r\n    \r\n    \r\n                if (LocationManager.PROVIDERS_CHANGED_ACTION.equals(intent.getAction())) {\r\n                    // Make an action or refresh an already managed state.\r\n    \r\n                    LocationManager locationManager = (LocationManager) context.getSystemService(Context.LOCATION_SERVICE);\r\n                    boolean isGpsEnabled = locationManager.isProviderEnabled(LocationManager.GPS_PROVIDER);\r\n                    boolean isNetworkEnabled = locationManager.isProviderEnabled(LocationManager.NETWORK_PROVIDER);\r\n    \r\n                    if (isGpsEnabled || isNetworkEnabled) {\r\n                        Log.i(this.getClass().getName(), &quot;gpsSwitchStateReceiver.onReceive() location is enabled : isGpsEnabled = &quot; + isGpsEnabled + &quot; isNetworkEnabled = &quot; + isNetworkEnabled);\r\n                    } else {\r\n                        Log.w(this.getClass().getName(), &quot;gpsSwitchStateReceiver.onReceive() location disabled &quot;);\r\n                    }\r\n                }\r\n            }\r\n        };\r\n\r\nIn your onPause() method, unregister the receiver\r\n\r\n    mActivity.unregisterReceiver(gpsSwitchStateReceiver);","title":"How to? Listen for Location Setting being turned ON (Android App)","body":"<p>Here is a solution using dynamic registration:</p>\n\n<p>In your fragment or activity's onResume() method, listen to changes in <code>LocationManager.PROVIDERS_CHANGED_ACTION</code></p>\n\n<pre><code>IntentFilter filter = new IntentFilter(LocationManager.PROVIDERS_CHANGED_ACTION);\nfilter.addAction(Intent.ACTION_PROVIDER_CHANGED);\nmActivity.registerReceiver(gpsSwitchStateReceiver, filter);\n</code></pre>\n\n<p>Here is a code sample for the <code>gpsSwitchStateReceiver</code> object:</p>\n\n<pre><code>private BroadcastReceiver gpsSwitchStateReceiver = new BroadcastReceiver() {\n        @Override\n        public void onReceive(Context context, Intent intent) {\n\n\n            if (LocationManager.PROVIDERS_CHANGED_ACTION.equals(intent.getAction())) {\n                // Make an action or refresh an already managed state.\n\n                LocationManager locationManager = (LocationManager) context.getSystemService(Context.LOCATION_SERVICE);\n                boolean isGpsEnabled = locationManager.isProviderEnabled(LocationManager.GPS_PROVIDER);\n                boolean isNetworkEnabled = locationManager.isProviderEnabled(LocationManager.NETWORK_PROVIDER);\n\n                if (isGpsEnabled || isNetworkEnabled) {\n                    Log.i(this.getClass().getName(), \"gpsSwitchStateReceiver.onReceive() location is enabled : isGpsEnabled = \" + isGpsEnabled + \" isNetworkEnabled = \" + isNetworkEnabled);\n                } else {\n                    Log.w(this.getClass().getName(), \"gpsSwitchStateReceiver.onReceive() location disabled \");\n                }\n            }\n        }\n    };\n</code></pre>\n\n<p>In your onPause() method, unregister the receiver</p>\n\n<pre><code>mActivity.unregisterReceiver(gpsSwitchStateReceiver);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8978416,"reputation":148,"user_id":6694413,"display_name":"Mohanakrrishna"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1559732850,"creation_date":1559063223,"answer_id":56347083,"question_id":36325088,"body_markdown":"LocationListeners&#39;s `onProvideEnabled()` method will work instantly. When you call this remember if you are doing `LocationManager.removeUpdates()` in between `onProviderEnabled()` won&#39;t work.\r\n\r\nAnd this is pretty much simple when you are reading locations from Location API&#39;s of Android. You don&#39;t need the broadcast receivers listening and communication further\r\n\r\nBut when you are using `FusedLocationProviderClient` from google API and if you use LocationListener&#39;s `onProviderEnabled` and `onProviderDisabled` methods you will be having two services running in parallel, checking for the provider changes. So using `BroadcastReceiver` is better","title":"How to? Listen for Location Setting being turned ON (Android App)","body":"<p>LocationListeners's <code>onProvideEnabled()</code> method will work instantly. When you call this remember if you are doing <code>LocationManager.removeUpdates()</code> in between <code>onProviderEnabled()</code> won't work.</p>\n\n<p>And this is pretty much simple when you are reading locations from Location API's of Android. You don't need the broadcast receivers listening and communication further</p>\n\n<p>But when you are using <code>FusedLocationProviderClient</code> from google API and if you use LocationListener's <code>onProviderEnabled</code> and <code>onProviderDisabled</code> methods you will be having two services running in parallel, checking for the provider changes. So using <code>BroadcastReceiver</code> is better</p>\n"},{"comments":[{"owner":{"account_id":23190867,"reputation":51,"user_id":17287267,"display_name":"Abdullqadir"},"score":0,"creation_date":1687261032,"post_id":76461493,"comment_id":134908900,"body_markdown":"I have tested this on Android 10 and 13, works fine.","body":"I have tested this on Android 10 and 13, works fine."}],"tags":[],"owner":{"account_id":231436,"reputation":2174,"user_id":495673,"accept_rate":60,"display_name":"argenkiwi"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1686626394,"creation_date":1686626394,"answer_id":76461493,"question_id":36325088,"body_markdown":"Here is an extension property that produces a flow from a Broadcast receiver:\r\n```\r\nval Context.locationEnabledFlow\r\n    get() = callbackFlow {\r\n        val receiver = object : BroadcastReceiver() {\r\n            override fun onReceive(context: Context?, intent: Intent?) {\r\n                trySend(LocationManagerCompat.isLocationEnabled(locationManager))\r\n            }\r\n        }\r\n\r\n        registerReceiver(receiver, IntentFilter(LocationManager.PROVIDERS_CHANGED_ACTION))\r\n        awaitClose { unregisterReceiver(receiver) }\r\n    }\r\n```\r\nFor example, this is how you could use it with Jetpack Compose:\r\n```\r\nval isLocationEnabled by LocalContext.current.locationEnabledFlow\r\n    .collectAsStateWithLifecycle(initialValue = false)\r\n\r\nText(text = when(isLocationEnabled){\r\n    true -&gt; &quot;Location enabled.&quot;\r\n    false -&gt; &quot;Location disabled.&quot;\r\n})\r\n```","title":"How to? Listen for Location Setting being turned ON (Android App)","body":"<p>Here is an extension property that produces a flow from a Broadcast receiver:</p>\n<pre><code>val Context.locationEnabledFlow\n    get() = callbackFlow {\n        val receiver = object : BroadcastReceiver() {\n            override fun onReceive(context: Context?, intent: Intent?) {\n                trySend(LocationManagerCompat.isLocationEnabled(locationManager))\n            }\n        }\n\n        registerReceiver(receiver, IntentFilter(LocationManager.PROVIDERS_CHANGED_ACTION))\n        awaitClose { unregisterReceiver(receiver) }\n    }\n</code></pre>\n<p>For example, this is how you could use it with Jetpack Compose:</p>\n<pre><code>val isLocationEnabled by LocalContext.current.locationEnabledFlow\n    .collectAsStateWithLifecycle(initialValue = false)\n\nText(text = when(isLocationEnabled){\n    true -&gt; &quot;Location enabled.&quot;\n    false -&gt; &quot;Location disabled.&quot;\n})\n</code></pre>\n"}],"owner":{"account_id":4490260,"reputation":181,"user_id":3651520,"accept_rate":0,"display_name":"Ender87"},"comment_count":14,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15122,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"answer_count":4,"score":14,"last_activity_date":1686626394,"creation_date":1459403155,"question_id":36325088,"body_markdown":"So I&#39;ve spent the past few weeks working on my Android App and looking into the best way of implementing what I need to do, but still can&#39;t quite get it right.. Any/all help is greatly appreciated, as I am still getting the hang of things..\r\n\r\n\r\nTask: \r\n------------\r\n(Assuming the &quot;Location&quot;/GPS Setting is currently off), I need to have my App constantly be listening for the &quot;Location&quot; Setting to be turned ON.. At this point, simply start an Activity.\r\n\r\n\r\nIdeas:\r\n------------\r\nThese are all the different ways I think it could possibly work:\r\n\r\n- LocationListener using &quot;onProviderEnabled&quot;\r\n\r\n- GpsStatusListener using &quot;onGpsStatusChanged&quot; with &quot;GPS_EVENT_STARTED&quot;\r\n\r\n- GpsProvider requiresSatellite (to determine if it starts), or somehow use the GpsProvider&#39;s &quot;AVAILABLE&quot; Constant/int\r\n\r\n- SettingInjectorService using &quot;ACTION_SERVICE_INTENT&quot; (and/or) &quot;ACTION_INJECTED_SETTING_CHANGED&quot; with &quot;onGetEnabled&quot; or &quot;isEnabled&quot;\r\n\r\n- Settings.Secure using &quot;LOCATION_MODE&quot; != &quot;LOCATION_MODE_OFF&quot;\r\n\r\n- a ContentObserver/ContentResolver\r\n\r\n- Intent getAction (...)\r\n\r\n- An &quot;if/else&quot; of some kind\r\n\r\n\r\nQuestions:\r\n------------\r\nAny kind of advice or answers for any of the following questions are very much appreciated..\r\n\r\n- Which of the Ideas above would be the best way of accomplishing the Task? The simpler the better, but most importantly it needs to be listening at all times, and respond instantly when the Location Setting is turned On.\r\n\r\n- For whichever one of the Ideas  above works best, how would I implement it? (For example, would I need a BroadcastListener? or a Service? and how would it all piece together?\r\n\r\n\r\nI truly appreciate any advice or help that you can provide me with.. I&#39;m still getting the hang of all this, but confident enough to do it, and eager to   publish my first App.. So thank you, it means a lot and will greatly help me along.&lt;br&gt;\r\n&lt;br&gt;\r\n&lt;br&gt;\r\n\r\nEDIT:&lt;br&gt;\r\n&lt;br&gt;\r\nOK So here&#39;s what I&#39;ve got so far...\r\n&lt;br&gt;\r\nHeres my Receiver:\r\n&lt;br&gt;\r\n&lt;br&gt;\r\nMyReceiver.Java    \r\n&lt;!--language: java --&gt;\r\n\r\n    public class MyReceiver extends BroadcastReceiver {\r\n        \r\n        private final static String TAG = &quot;LocationProviderChanged&quot;;\r\n        \r\n        boolean isGpsEnabled;\r\n        boolean isNetworkEnabled;\r\n        \r\n        \r\n        \r\n        public MyReceiver() {\r\n        // EMPTY\r\n        \r\n        // MyReceiver Close Bracket\r\n        }\r\n        \r\n        \r\n        \r\n        // START OF onReceive\r\n        @Override\r\n        public void onReceive(Context context, Intent intent) {\r\n        \r\n        \r\n            // PRIMARY RECEIVER\r\n            if (intent.getAction().matches(&quot;android.location.PROVIDERS_CHANGED&quot;)) {\r\n                \r\n                Log.i(TAG, &quot;Location Providers Changed&quot;);\r\n        \r\n                LocationManager locationManager = (LocationManager) context.getSystemService(Context.LOCATION_SERVICE);\r\n                isGpsEnabled = locationManager.isProviderEnabled(LocationManager.GPS_PROVIDER);\r\n                isNetworkEnabled = locationManager.isProviderEnabled(LocationManager.NETWORK_PROVIDER);\r\n        \r\n                Toast.makeText(context, &quot;GPS Enabled: &quot; + isGpsEnabled + &quot; Network Location Enabled: &quot; + isNetworkEnabled, Toast.LENGTH_LONG).show();\r\n        \r\n                // START DIALOG ACTIVITY\r\n                if (isGpsEnabled || isNetworkEnabled) {\r\n                    Intent runDialogActivity = new Intent(context, DialogActivity.class);\r\n                    context.startActivity(runDialogActivity);\r\n        \r\n                }\r\n        \r\n            }\r\n        \r\n        \r\n        \r\n            // BOOT COMPLETED (REPLICA OF PRIMARY RECEIVER CODE FOR WHEN BOOT_COMPLETED)\r\n            if (intent.getAction().matches(&quot;android.intent.action.BOOT_COMPLETED&quot;)) {\r\n                \r\n                Log.i(TAG, &quot;Location Providers Changed Boot&quot;);\r\n        \r\n                LocationManager locationManager = (LocationManager) context.getSystemService(Context.LOCATION_SERVICE);\r\n                isGpsEnabled = locationManager.isProviderEnabled(LocationManager.GPS_PROVIDER);\r\n                isNetworkEnabled = locationManager.isProviderEnabled(LocationManager.NETWORK_PROVIDER);\r\n        \r\n                Toast.makeText(context, &quot;GPS Enabled Boot: &quot; + isGpsEnabled + &quot; Network Location Enabled Boot: &quot; + isNetworkEnabled, Toast.LENGTH_LONG).show();\r\n        \r\n                // START DIALOG ACTIVITY\r\n                if (isGpsEnabled || isNetworkEnabled) {\r\n                    Intent runDialogActivity = new Intent(context, DialogActivity.class);\r\n                    context.startActivity(runDialogActivity);\r\n        \r\n                }\r\n                \r\n            }\r\n        \r\n        \r\n        \r\n        // onReceive CLOSE BRACKET\r\n        }\r\n        \r\n        \r\n        \r\n    // CLOSE OF FULL CLASS\r\n    }\r\n    \r\n\r\n\r\nAnd heres what the Manifest looks like:\r\n \r\nManifest.XML\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    \r\n    &lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        package=&quot;com.ender.projects.receivertest&quot;&gt;\r\n    \r\n        &lt;uses-permission android:name=&quot;android.permission.ACCESS_FINE_LOCATION&quot; /&gt;\r\n    \r\n        &lt;uses-permission android:name=&quot;android.permission.RECEIVE_BOOT_COMPLETED&quot; /&gt;\r\n    \r\n        &lt;application\r\n            android:allowBackup=&quot;true&quot;\r\n            android:fullBackupContent=&quot;true&quot;\r\n            android:icon=&quot;@mipmap/ic_launcher&quot;\r\n            android:label=&quot;@string/app_name&quot;\r\n            android:theme=&quot;@style/AppTheme&quot;&gt;\r\n    \r\n            &lt;activity android:name=&quot;.MainActivity&quot;&gt;\r\n                &lt;intent-filter&gt;\r\n                    &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n                    &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n                &lt;/intent-filter&gt;\r\n            &lt;/activity&gt;\r\n\r\n            &lt;activity android:name=&quot;.DialogActivity&quot;&gt;\r\n            &lt;/activity&gt;\r\n    \r\n            &lt;receiver\r\n                android:name=&quot;.MyReceiver&quot;\r\n                android:enabled=&quot;true&quot;\r\n                android:exported=&quot;true&quot;&gt;\r\n                &lt;intent-filter&gt;\r\n                    &lt;action android:name=&quot;android.location.PROVIDERS_CHANGED&quot; /&gt;\r\n    \r\n                    &lt;action android:name=&quot;android.intent.action.BOOT_COMPLETED&quot; /&gt;\r\n    \r\n                    &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\r\n                &lt;/intent-filter&gt;\r\n            &lt;/receiver&gt;\r\n            \r\n        &lt;/application&gt;\r\n    \r\n    &lt;/manifest&gt;\r\n\r\n\r\nAside from these files, I have the following files:&lt;br&gt;\r\n`MainActivity.Java` and `DialogActivity.Java`, both with Layout files,&lt;br&gt;\r\n`activity_main.xml` and `activity_dialog.xml` to match with them.&lt;br&gt;\r\n&lt;br&gt;\r\nSo if I understand correctly, when the user downloads the App and opens it, my `MainActivity.Java` and corresponding layout will launch. But I am only going to use this simply as a preferences screen. So once they open the App for the first time, the Broadcast Receiver should automatically start listening for the LOCATION setting to be turned on, correct? I also want the Broadcast Listener to remain listening, even after it receives the initial Broadcast (so that my `onReceive` still fires if they turn the LOCATION setting off, and then later they turn it ON again..&lt;br&gt;\r\n&lt;br&gt;\r\nSo (A) How does my code look thus far?&lt;br&gt;\r\nand (B) To accomplish what I just described, what would need to be added?&lt;br&gt;\r\nand (C) Running it throws this error when I turn the LOCATION setting ON.&lt;br&gt;\r\n..How can I fix it?:&lt;br&gt;\r\n`java.lang.RuntimeException: Unable to start receiver com.bryce.projects.servicesthreadsetc.MyReceiver: android.util.AndroidRuntimeException: Calling startActivity() from outside of an Activity  context requires the FLAG_ACTIVITY_NEW_TASK flag. Is this really what you want?`&lt;br&gt;\r\n&lt;br&gt;\r\n&lt;br&gt;\r\nThanks again for all the help!&lt;br&gt;","title":"How to? Listen for Location Setting being turned ON (Android App)","body":"<p>So I've spent the past few weeks working on my Android App and looking into the best way of implementing what I need to do, but still can't quite get it right.. Any/all help is greatly appreciated, as I am still getting the hang of things..</p>\n\n<h2>Task:</h2>\n\n<p>(Assuming the \"Location\"/GPS Setting is currently off), I need to have my App constantly be listening for the \"Location\" Setting to be turned ON.. At this point, simply start an Activity.</p>\n\n<h2>Ideas:</h2>\n\n<p>These are all the different ways I think it could possibly work:</p>\n\n<ul>\n<li><p>LocationListener using \"onProviderEnabled\"</p></li>\n<li><p>GpsStatusListener using \"onGpsStatusChanged\" with \"GPS_EVENT_STARTED\"</p></li>\n<li><p>GpsProvider requiresSatellite (to determine if it starts), or somehow use the GpsProvider's \"AVAILABLE\" Constant/int</p></li>\n<li><p>SettingInjectorService using \"ACTION_SERVICE_INTENT\" (and/or) \"ACTION_INJECTED_SETTING_CHANGED\" with \"onGetEnabled\" or \"isEnabled\"</p></li>\n<li><p>Settings.Secure using \"LOCATION_MODE\" != \"LOCATION_MODE_OFF\"</p></li>\n<li><p>a ContentObserver/ContentResolver</p></li>\n<li><p>Intent getAction (...)</p></li>\n<li><p>An \"if/else\" of some kind</p></li>\n</ul>\n\n<h2>Questions:</h2>\n\n<p>Any kind of advice or answers for any of the following questions are very much appreciated..</p>\n\n<ul>\n<li><p>Which of the Ideas above would be the best way of accomplishing the Task? The simpler the better, but most importantly it needs to be listening at all times, and respond instantly when the Location Setting is turned On.</p></li>\n<li><p>For whichever one of the Ideas  above works best, how would I implement it? (For example, would I need a BroadcastListener? or a Service? and how would it all piece together?</p></li>\n</ul>\n\n<p>I truly appreciate any advice or help that you can provide me with.. I'm still getting the hang of all this, but confident enough to do it, and eager to   publish my first App.. So thank you, it means a lot and will greatly help me along.<br>\n<br>\n<br></p>\n\n<p>EDIT:<br>\n<br>\nOK So here's what I've got so far...\n<br>\nHeres my Receiver:\n<br>\n<br>\nMyReceiver.Java<br>\n</p>\n\n<pre><code>public class MyReceiver extends BroadcastReceiver {\n\n    private final static String TAG = \"LocationProviderChanged\";\n\n    boolean isGpsEnabled;\n    boolean isNetworkEnabled;\n\n\n\n    public MyReceiver() {\n    // EMPTY\n\n    // MyReceiver Close Bracket\n    }\n\n\n\n    // START OF onReceive\n    @Override\n    public void onReceive(Context context, Intent intent) {\n\n\n        // PRIMARY RECEIVER\n        if (intent.getAction().matches(\"android.location.PROVIDERS_CHANGED\")) {\n\n            Log.i(TAG, \"Location Providers Changed\");\n\n            LocationManager locationManager = (LocationManager) context.getSystemService(Context.LOCATION_SERVICE);\n            isGpsEnabled = locationManager.isProviderEnabled(LocationManager.GPS_PROVIDER);\n            isNetworkEnabled = locationManager.isProviderEnabled(LocationManager.NETWORK_PROVIDER);\n\n            Toast.makeText(context, \"GPS Enabled: \" + isGpsEnabled + \" Network Location Enabled: \" + isNetworkEnabled, Toast.LENGTH_LONG).show();\n\n            // START DIALOG ACTIVITY\n            if (isGpsEnabled || isNetworkEnabled) {\n                Intent runDialogActivity = new Intent(context, DialogActivity.class);\n                context.startActivity(runDialogActivity);\n\n            }\n\n        }\n\n\n\n        // BOOT COMPLETED (REPLICA OF PRIMARY RECEIVER CODE FOR WHEN BOOT_COMPLETED)\n        if (intent.getAction().matches(\"android.intent.action.BOOT_COMPLETED\")) {\n\n            Log.i(TAG, \"Location Providers Changed Boot\");\n\n            LocationManager locationManager = (LocationManager) context.getSystemService(Context.LOCATION_SERVICE);\n            isGpsEnabled = locationManager.isProviderEnabled(LocationManager.GPS_PROVIDER);\n            isNetworkEnabled = locationManager.isProviderEnabled(LocationManager.NETWORK_PROVIDER);\n\n            Toast.makeText(context, \"GPS Enabled Boot: \" + isGpsEnabled + \" Network Location Enabled Boot: \" + isNetworkEnabled, Toast.LENGTH_LONG).show();\n\n            // START DIALOG ACTIVITY\n            if (isGpsEnabled || isNetworkEnabled) {\n                Intent runDialogActivity = new Intent(context, DialogActivity.class);\n                context.startActivity(runDialogActivity);\n\n            }\n\n        }\n\n\n\n    // onReceive CLOSE BRACKET\n    }\n\n\n\n// CLOSE OF FULL CLASS\n}\n</code></pre>\n\n<p>And heres what the Manifest looks like:</p>\n\n<p>Manifest.XML</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n\n&lt;manifest xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    package=\"com.ender.projects.receivertest\"&gt;\n\n    &lt;uses-permission android:name=\"android.permission.ACCESS_FINE_LOCATION\" /&gt;\n\n    &lt;uses-permission android:name=\"android.permission.RECEIVE_BOOT_COMPLETED\" /&gt;\n\n    &lt;application\n        android:allowBackup=\"true\"\n        android:fullBackupContent=\"true\"\n        android:icon=\"@mipmap/ic_launcher\"\n        android:label=\"@string/app_name\"\n        android:theme=\"@style/AppTheme\"&gt;\n\n        &lt;activity android:name=\".MainActivity\"&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=\"android.intent.action.MAIN\" /&gt;\n                &lt;category android:name=\"android.intent.category.LAUNCHER\" /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n\n        &lt;activity android:name=\".DialogActivity\"&gt;\n        &lt;/activity&gt;\n\n        &lt;receiver\n            android:name=\".MyReceiver\"\n            android:enabled=\"true\"\n            android:exported=\"true\"&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=\"android.location.PROVIDERS_CHANGED\" /&gt;\n\n                &lt;action android:name=\"android.intent.action.BOOT_COMPLETED\" /&gt;\n\n                &lt;category android:name=\"android.intent.category.DEFAULT\" /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/receiver&gt;\n\n    &lt;/application&gt;\n\n&lt;/manifest&gt;\n</code></pre>\n\n<p>Aside from these files, I have the following files:<br>\n<code>MainActivity.Java</code> and <code>DialogActivity.Java</code>, both with Layout files,<br>\n<code>activity_main.xml</code> and <code>activity_dialog.xml</code> to match with them.<br>\n<br>\nSo if I understand correctly, when the user downloads the App and opens it, my <code>MainActivity.Java</code> and corresponding layout will launch. But I am only going to use this simply as a preferences screen. So once they open the App for the first time, the Broadcast Receiver should automatically start listening for the LOCATION setting to be turned on, correct? I also want the Broadcast Listener to remain listening, even after it receives the initial Broadcast (so that my <code>onReceive</code> still fires if they turn the LOCATION setting off, and then later they turn it ON again..<br>\n<br>\nSo (A) How does my code look thus far?<br>\nand (B) To accomplish what I just described, what would need to be added?<br>\nand (C) Running it throws this error when I turn the LOCATION setting ON.<br>\n..How can I fix it?:<br>\n<code>java.lang.RuntimeException: Unable to start receiver com.bryce.projects.servicesthreadsetc.MyReceiver: android.util.AndroidRuntimeException: Calling startActivity() from outside of an Activity  context requires the FLAG_ACTIVITY_NEW_TASK flag. Is this really what you want?</code><br>\n<br>\n<br>\nThanks again for all the help!<br></p>\n"},{"tags":["java","theory","computation-theory","dfa"],"comments":[{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1686626997,"post_id":76461241,"comment_id":134821298,"body_markdown":"What have your attempts looked like? It doesn&#39;t seem like there are that many options for a basic implementation--the `A`s don&#39;t matter, and you&#39;re toggling between two states based on whether there&#39;s an odd number of `B`s, or zero/even `B`s.","body":"What have your attempts looked like? It doesn&#39;t seem like there are that many options for a basic implementation--the <code>A</code>s don&#39;t matter, and you&#39;re toggling between two states based on whether there&#39;s an odd number of <code>B</code>s, or zero/even <code>B</code>s."},{"owner":{"account_id":28808668,"reputation":1,"user_id":22063904,"display_name":"Kinglouis01"},"score":0,"creation_date":1686627091,"post_id":76461241,"comment_id":134821306,"body_markdown":"Would two states, q0 as the start/accept state and q1 work with both having self loops of a and b going between both work?","body":"Would two states, q0 as the start/accept state and q1 work with both having self loops of a and b going between both work?"},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1686627247,"post_id":76461241,"comment_id":134821316,"body_markdown":"AFAIK yes--by &quot;not many options&quot; I mean &quot;the basic implementation is straight-forward&quot; which means you may be over-thinking this.","body":"AFAIK yes--by &quot;not many options&quot; I mean &quot;the basic implementation is straight-forward&quot; which means you may be over-thinking this."},{"owner":{"account_id":28808668,"reputation":1,"user_id":22063904,"display_name":"Kinglouis01"},"score":0,"creation_date":1686627387,"post_id":76461241,"comment_id":134821327,"body_markdown":"yes I was over thinking it, you pointing it out helped actually. Thank you.","body":"yes I was over thinking it, you pointing it out helped actually. Thank you."},{"owner":{"account_id":28808668,"reputation":1,"user_id":22063904,"display_name":"Kinglouis01"},"score":0,"creation_date":1686627465,"post_id":76461241,"comment_id":134821335,"body_markdown":"how would you write L = {w | w is a string over the alphabet {a, b} and if w contains any &#39;b&#39;s, it has an even number of &#39;b&#39;s} where it looks correct in terms of format of a langauge hypothesis","body":"how would you write L = {w | w is a string over the alphabet {a, b} and if w contains any &#39;b&#39;s, it has an even number of &#39;b&#39;s} where it looks correct in terms of format of a langauge hypothesis"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1686644495,"post_id":76461241,"comment_id":134823597,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":28808668,"reputation":1,"user_id":22063904,"display_name":"Kinglouis01"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686626187,"creation_date":1686620821,"question_id":76461241,"body_markdown":"This DFA accepts any string over the alphabet {a, b} where the number of &#39;b&#39;s, if present, is even.  An example of strings it accept: \r\nAccepted:\r\na\r\naa\r\nbb\r\naaa\r\nabb\r\nbab\r\nbba\r\naaa\r\nabb\r\nbab\r\nbba\r\naaaa\r\naaab\r\naabab\r\nbaaab\r\naabab\r\nbaaab\r\nbabaa\r\nbbaaa\r\naaabab\r\naaaa\r\naabab\r\nbbaaa\r\nbbbb\r\naaaa\r\n\r\nIve tried dfas with states, 3 states, I just can&#39;t get it to work.","title":"Ned help drawing a dfa from this hypothesis?","body":"<p>This DFA accepts any string over the alphabet {a, b} where the number of 'b's, if present, is even.  An example of strings it accept:\nAccepted:\na\naa\nbb\naaa\nabb\nbab\nbba\naaa\nabb\nbab\nbba\naaaa\naaab\naabab\nbaaab\naabab\nbaaab\nbabaa\nbbaaa\naaabab\naaaa\naabab\nbbaaa\nbbbb\naaaa</p>\n<p>Ive tried dfas with states, 3 states, I just can't get it to work.</p>\n"},{"tags":["java","curl","geofence","tile38"],"owner":{"account_id":24350612,"reputation":1,"user_id":18286493,"display_name":"Budi Rahmawan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686625985,"creation_date":1686625985,"question_id":76461478,"body_markdown":"I want to query my result with and operation, in my cli the command is goes fine but if i try to make client with http error invalid argument &#39;&amp;&amp;&#39; has occured.\r\nPlease can anyone know how to format text first, this is my example curl request?\r\n\r\nCLI Command :\r\nwithin evidence where &#39;timestamp &gt;= 1654128000 &amp;&amp; timestamp &lt;= 1658361600&#39; get areas indonesia-aceh\r\n\r\nCurl :\r\n`curl --location &#39;localhost:9851&#39; \\\r\n--header &#39;Content-Type: text/plain&#39; \\\r\n--data &#39;within evidence where &#39;\\&#39;&#39;timestamp &gt;= 1654128000 &amp;&amp; timestamp &lt;= 1658361600&#39;\\&#39;&#39; get areas indonesia-aceh&#39;`\r\n\r\nTo successfully make request in Tile38","title":"How to filter and operation using network protocol in Tile38","body":"<p>I want to query my result with and operation, in my cli the command is goes fine but if i try to make client with http error invalid argument '&amp;&amp;' has occured.\nPlease can anyone know how to format text first, this is my example curl request?</p>\n<p>CLI Command :\nwithin evidence where 'timestamp &gt;= 1654128000 &amp;&amp; timestamp &lt;= 1658361600' get areas indonesia-aceh</p>\n<p>Curl :\n<code>curl --location 'localhost:9851' \\ --header 'Content-Type: text/plain' \\ --data 'within evidence where '\\''timestamp &gt;= 1654128000 &amp;&amp; timestamp &lt;= 1658361600'\\'' get areas indonesia-aceh'</code></p>\n<p>To successfully make request in Tile38</p>\n"},{"tags":["java","android","c++","java-native-interface","shared-libraries"],"comments":[{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":1,"creation_date":1685390050,"post_id":76359654,"comment_id":134650331,"body_markdown":"You could use inotify tools to check where your service is searching for the library.","body":"You could use inotify tools to check where your service is searching for the library."},{"owner":{"account_id":5175385,"reputation":80,"user_id":4142710,"display_name":"&#193;lison Ven&#226;ncio"},"score":0,"creation_date":1685392009,"post_id":76359654,"comment_id":134650597,"body_markdown":"Didn&#39;t know about this tool, could you explain how to use it to check the service search path?","body":"Didn&#39;t know about this tool, could you explain how to use it to check the service search path?"},{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":1,"creation_date":1685393081,"post_id":76359654,"comment_id":134650737,"body_markdown":"This is a standard Linux tool for monitoring file system activity such as file open. Even if the command fails because of a missing file you can see the file path that was tried to open. By default inotify tools are not included in Android but the necessary API is there (can be e.g. used from within an app). On GitHub you will find an older adaption for Android which can be compiled using NDK or you try to use a precompiled version from a Termux repository.","body":"This is a standard Linux tool for monitoring file system activity such as file open. Even if the command fails because of a missing file you can see the file path that was tried to open. By default inotify tools are not included in Android but the necessary API is there (can be e.g. used from within an app). On GitHub you will find an older adaption for Android which can be compiled using NDK or you try to use a precompiled version from a Termux repository."},{"owner":{"account_id":5175385,"reputation":80,"user_id":4142710,"display_name":"&#193;lison Ven&#226;ncio"},"score":0,"creation_date":1685650039,"post_id":76359654,"comment_id":134694188,"body_markdown":"I could see that the service is searching for the library in /system/lib64 while the .so file is in /vendor/lib64.\nI made a copy of the .so to /system/lib64 and it worked, but I think this is not a good practice. So, how could I force the search to /vendor/lib64?","body":"I could see that the service is searching for the library in /system/lib64 while the .so file is in /vendor/lib64. I made a copy of the .so to /system/lib64 and it worked, but I think this is not a good practice. So, how could I force the search to /vendor/lib64?"}],"answers":[{"tags":[],"owner":{"account_id":5175385,"reputation":80,"user_id":4142710,"display_name":"&#193;lison Ven&#226;ncio"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1686625105,"creation_date":1686617771,"answer_id":76461105,"question_id":76359654,"body_markdown":"Removing `vendor: true` tag from the shared lib Android.bp fixed the problem","title":"Error UnsatisfiedLinkError: dlopen failed: library while trying to create a JNI Service","body":"<p>Removing <code>vendor: true</code> tag from the shared lib Android.bp fixed the problem</p>\n"}],"owner":{"account_id":5175385,"reputation":80,"user_id":4142710,"display_name":"&#193;lison Ven&#226;ncio"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":231,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76461105,"answer_count":1,"score":0,"last_activity_date":1686625105,"creation_date":1685385431,"question_id":76359654,"body_markdown":"I am trying create a Service that access a JNI shared library, but when it tries to access the lib it returns an exception.\r\n\r\n     8746 05-29 05:00:16.259   921   921 E AndroidRuntime: FATAL EXCEPTION: main                                                                                                  â\r\n     8747 05-29 05:00:16.259   921   921 E AndroidRuntime: Process: vendor.alvenan.javanativetestservice, PID: 921                                                                â\r\n     8748 05-29 05:00:16.259   921   921 E AndroidRuntime: java.lang.UnsatisfiedLinkError: dlopen failed: library &quot;libjavanativetestservice_jni.so&quot; not found                     â\r\n     8749 05-29 05:00:16.259   921   921 E AndroidRuntime:    at java.lang.Runtime.loadLibrary0(Runtime.java:1077)                                                                â\r\n     8750 05-29 05:00:16.259   921   921 E AndroidRuntime:    at java.lang.Runtime.loadLibrary0(Runtime.java:998)                                                                 â\r\n     8751 05-29 05:00:16.259   921   921 E AndroidRuntime:    at java.lang.System.loadLibrary(System.java:1661)                                                                   â\r\n     8752 05-29 05:00:16.259   921   921 E AndroidRuntime:    at vendor.alvenan.javanativetestservice.JavaNativeTestServiceImpl.&lt;clinit&gt;(JavaNativeTestServiceImpl.java:14)       â\r\n     8753 05-29 05:00:16.259   921   921 E AndroidRuntime:    at vendor.alvenan.javanativetestservice.JavaNativeTestService.onCreate(JavaNativeTestService.java:14)               â\r\n     8754 05-29 05:00:16.259   921   921 E AndroidRuntime:    at android.app.Instrumentation.callApplicationOnCreate(Instrumentation.java:1277)                                   â\r\n     8755 05-29 05:00:16.259   921   921 E AndroidRuntime:    at android.app.ActivityThread.handleBindApplication(ActivityThread.java:6759)                                       â\r\n     8756 05-29 05:00:16.259   921   921 E AndroidRuntime:    at android.app.ActivityThread.-$$Nest$mhandleBindApplication(Unknown Source:0)                                      â\r\n     8757 05-29 05:00:16.259   921   921 E AndroidRuntime:    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2133)                                             â\r\n     8758 05-29 05:00:16.259   921   921 E AndroidRuntime:    at android.os.Handler.dispatchMessage(Handler.java:106)                                                             â\r\n     8759 05-29 05:00:16.259   921   921 E AndroidRuntime:    at android.os.Looper.loopOnce(Looper.java:201)                                                                      â\r\n     8760 05-29 05:00:16.259   921   921 E AndroidRuntime:    at android.os.Looper.loop(Looper.java:288)\r\n     8761 05-29 05:00:16.259   921   921 E AndroidRuntime:    at android.app.ActivityThread.main(ActivityThread.java:7872)\r\n     8762 05-29 05:00:16.259   921   921 E AndroidRuntime:    at java.lang.reflect.Method.invoke(Native Method)\r\n     8763 05-29 05:00:16.259   921   921 E AndroidRuntime:    at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:548)\r\n\r\nI am using the ARPI13 project:\r\nhttps://github.com/snappautomotive/firmware_rpi-local_manifests/tree/arpi-13\r\n\r\nThe JNI lib seems to be in the right place:\r\n\r\n    rpi4:/ # cat vendor/etc/public.libraries.txt\r\n    libjavanativetestservice_jni.so\r\n    rpi4:/ # ls -l vendor/lib64/libjavanativetestservice_jni.so\r\n    -rw-r--r-- 1 root root 10952 2023-05-29 15:40 vendor/lib64/libjavanativetestservice_jni.so\r\n\r\nThe full code is on github: https://github.com/alvenan/aosp_bench/tree/main/bench_test_jni\r\n\r\nThe device makefile has the following setup:\r\n\r\n    PRODUCT_PACKAGES += JavaNativeTestService\r\n    PRODUCT_COPY_FILES += \\\r\n       vendor/alvenan/aosp_bench/bench_test_jni/public.libraries.txt:$(TARGET_COPY_OUT_VENDOR)/etc/public.libraries.txt","title":"Error UnsatisfiedLinkError: dlopen failed: library while trying to create a JNI Service","body":"<p>I am trying create a Service that access a JNI shared library, but when it tries to access the lib it returns an exception.</p>\n<pre><code> 8746 05-29 05:00:16.259   921   921 E AndroidRuntime: FATAL EXCEPTION: main                                                                                                  â\n 8747 05-29 05:00:16.259   921   921 E AndroidRuntime: Process: vendor.alvenan.javanativetestservice, PID: 921                                                                â\n 8748 05-29 05:00:16.259   921   921 E AndroidRuntime: java.lang.UnsatisfiedLinkError: dlopen failed: library &quot;libjavanativetestservice_jni.so&quot; not found                     â\n 8749 05-29 05:00:16.259   921   921 E AndroidRuntime:    at java.lang.Runtime.loadLibrary0(Runtime.java:1077)                                                                â\n 8750 05-29 05:00:16.259   921   921 E AndroidRuntime:    at java.lang.Runtime.loadLibrary0(Runtime.java:998)                                                                 â\n 8751 05-29 05:00:16.259   921   921 E AndroidRuntime:    at java.lang.System.loadLibrary(System.java:1661)                                                                   â\n 8752 05-29 05:00:16.259   921   921 E AndroidRuntime:    at vendor.alvenan.javanativetestservice.JavaNativeTestServiceImpl.&lt;clinit&gt;(JavaNativeTestServiceImpl.java:14)       â\n 8753 05-29 05:00:16.259   921   921 E AndroidRuntime:    at vendor.alvenan.javanativetestservice.JavaNativeTestService.onCreate(JavaNativeTestService.java:14)               â\n 8754 05-29 05:00:16.259   921   921 E AndroidRuntime:    at android.app.Instrumentation.callApplicationOnCreate(Instrumentation.java:1277)                                   â\n 8755 05-29 05:00:16.259   921   921 E AndroidRuntime:    at android.app.ActivityThread.handleBindApplication(ActivityThread.java:6759)                                       â\n 8756 05-29 05:00:16.259   921   921 E AndroidRuntime:    at android.app.ActivityThread.-$$Nest$mhandleBindApplication(Unknown Source:0)                                      â\n 8757 05-29 05:00:16.259   921   921 E AndroidRuntime:    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2133)                                             â\n 8758 05-29 05:00:16.259   921   921 E AndroidRuntime:    at android.os.Handler.dispatchMessage(Handler.java:106)                                                             â\n 8759 05-29 05:00:16.259   921   921 E AndroidRuntime:    at android.os.Looper.loopOnce(Looper.java:201)                                                                      â\n 8760 05-29 05:00:16.259   921   921 E AndroidRuntime:    at android.os.Looper.loop(Looper.java:288)\n 8761 05-29 05:00:16.259   921   921 E AndroidRuntime:    at android.app.ActivityThread.main(ActivityThread.java:7872)\n 8762 05-29 05:00:16.259   921   921 E AndroidRuntime:    at java.lang.reflect.Method.invoke(Native Method)\n 8763 05-29 05:00:16.259   921   921 E AndroidRuntime:    at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:548)\n</code></pre>\n<p>I am using the ARPI13 project:\n<a href=\"https://github.com/snappautomotive/firmware_rpi-local_manifests/tree/arpi-13\" rel=\"nofollow noreferrer\">https://github.com/snappautomotive/firmware_rpi-local_manifests/tree/arpi-13</a></p>\n<p>The JNI lib seems to be in the right place:</p>\n<pre><code>rpi4:/ # cat vendor/etc/public.libraries.txt\nlibjavanativetestservice_jni.so\nrpi4:/ # ls -l vendor/lib64/libjavanativetestservice_jni.so\n-rw-r--r-- 1 root root 10952 2023-05-29 15:40 vendor/lib64/libjavanativetestservice_jni.so\n</code></pre>\n<p>The full code is on github: <a href=\"https://github.com/alvenan/aosp_bench/tree/main/bench_test_jni\" rel=\"nofollow noreferrer\">https://github.com/alvenan/aosp_bench/tree/main/bench_test_jni</a></p>\n<p>The device makefile has the following setup:</p>\n<pre><code>PRODUCT_PACKAGES += JavaNativeTestService\nPRODUCT_COPY_FILES += \\\n   vendor/alvenan/aosp_bench/bench_test_jni/public.libraries.txt:$(TARGET_COPY_OUT_VENDOR)/etc/public.libraries.txt\n</code></pre>\n"},{"tags":["java","algorithm","math","logic"],"comments":[{"owner":{"account_id":6397988,"reputation":7696,"user_id":4961700,"accept_rate":50,"display_name":"Solar Mike"},"score":1,"creation_date":1686378236,"post_id":76444981,"comment_id":134793533,"body_markdown":"We only look at homework when you show what you have done so far. What errors? Provide code that can be copied and pasted.","body":"We only look at homework when you show what you have done so far. What errors? Provide code that can be copied and pasted."},{"owner":{"account_id":28791920,"reputation":11,"user_id":22051014,"display_name":"Fibin pious"},"score":0,"creation_date":1686379244,"post_id":76444981,"comment_id":134793610,"body_markdown":"this is not a homework assignment. I have added the code that i done as an image","body":"this is not a homework assignment. I have added the code that i done as an image"},{"owner":{"account_id":28791920,"reputation":11,"user_id":22051014,"display_name":"Fibin pious"},"score":0,"creation_date":1686379365,"post_id":76444981,"comment_id":134793619,"body_markdown":"And its not an error its just 1  test case is not passing.","body":"And its not an error its just 1  test case is not passing."},{"owner":{"account_id":6397988,"reputation":7696,"user_id":4961700,"accept_rate":50,"display_name":"Solar Mike"},"score":0,"creation_date":1686379571,"post_id":76444981,"comment_id":134793633,"body_markdown":"So you add an image of the code, why would you expect anyone to re-type your code to test it for you? Paste it correctly - even have a button to use.","body":"So you add an image of the code, why would you expect anyone to re-type your code to test it for you? Paste it correctly - even have a button to use."},{"owner":{"account_id":28791920,"reputation":11,"user_id":22051014,"display_name":"Fibin pious"},"score":0,"creation_date":1686379991,"post_id":76444981,"comment_id":134793677,"body_markdown":"i have added the code","body":"i have added the code"},{"owner":{"account_id":4127333,"reputation":34381,"user_id":3386109,"display_name":"user3386109"},"score":3,"creation_date":1686382173,"post_id":76444981,"comment_id":134793830,"body_markdown":"Maybe `int mod = (int) (1e9 +9);`","body":"Maybe <code>int mod = (int) (1e9 +9);</code>"},{"owner":{"account_id":85671,"reputation":40858,"user_id":238704,"display_name":"President James K. Polk"},"score":0,"creation_date":1686404672,"post_id":76444981,"comment_id":134795775,"body_markdown":"To clarify, in your text you wrote: &quot;... return it modulo 10^9 + 7...&quot; but in your code you have `int mod = (int) (1e9 + 9)`. So one of those is wrong, and if it&#39;s your code then that could be the source of error.","body":"To clarify, in your text you wrote: &quot;... return it modulo 10^9 + 7...&quot; but in your code you have <code>int mod = (int) (1e9 + 9)</code>. So one of those is wrong, and if it&#39;s your code then that could be the source of error."},{"owner":{"account_id":15659011,"reputation":828,"user_id":11298380,"display_name":"The Coding Penguin"},"score":0,"creation_date":1686561334,"post_id":76444981,"comment_id":134810072,"body_markdown":"Please show us something showing you tried at least.","body":"Please show us something showing you tried at least."}],"answers":[{"comments":[{"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1686624889,"post_id":76448942,"comment_id":134821149,"body_markdown":"@PresidentJamesK.Polk It was from an earlier analysis.  It has been fixed.  Thanks!","body":"@PresidentJamesK.Polk It was from an earlier analysis.  It has been fixed.  Thanks!"}],"tags":[],"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1686624852,"creation_date":1686455525,"answer_id":76448942,"question_id":76444981,"body_markdown":"The problem is that you are summing the frequencies and then taking the mod of that sum, in some cases, resulting in the wrong answer.  You need to declare count as a long and just sum the frequencies. It needs to be a long so it won&#39;t overflow.  So instead of taking the remainder as you sum the frequencies, take it at the end before you return the value.  So...\r\n- correct the mod to `(int)1e9 + 7`\r\n- declare count as a long.\r\n- tally the count using `count += freq`\r\n- And return the value as `(int) ((count/2L)% mod);`. It&#39;s important to take the mod after correcting for duplicate pairs.  I.e. Take the `mod of the half` instead of `half of the mod`.\r\n\r\n**Note:**  A long value for `count` is sufficient since the maximum pairings would occur for an array of size `100,000` containing `identical powers of 2`. The total frequencies would be `100_000`.  And since `100,000*99,999` would be `double` the total pairings (excluding the same index), `9,999,900,000` would be the product prior to reduction which easily fits into a `long`.\r\n\r\n**And some other observations.**\r\n\r\nBefore you return the final result you do some adjusting on count. The following are not required.\r\n\r\n- Adjusting count if odd is not required since integer division will yield the required result. `(e.g.  11/2 == 5 and 10/2 == 5)`\r\n\r\n- Adding `mod to count if negative` is not required since count can never be negative. Once you decide to decrement `freq`, you have already determined that `freq` is positive since it has obtained a frequency count from the map.  So the least `freq` can be is `0`.  So `count` is only updated with values `&gt;= 0` thus can never be negative.\r\n\r\n\r\n**This may be obivious but...**\r\n\r\nThe sum of two `identical` numbers will only be a power of `2` if they are powers of `2`.\r\n- `n + n = 2n`.  Whether `n` is composite or prime, it must only have `2` as factor(s).\r\n\r\n","title":"Find the number of pairs of (i, j) such that i &lt; j and Ai + Aj = 2^x where x is an integer. In java","body":"<p>The problem is that you are summing the frequencies and then taking the mod of that sum, in some cases, resulting in the wrong answer.  You need to declare count as a long and just sum the frequencies. It needs to be a long so it won't overflow.  So instead of taking the remainder as you sum the frequencies, take it at the end before you return the value.  So...</p>\n<ul>\n<li>correct the mod to <code>(int)1e9 + 7</code></li>\n<li>declare count as a long.</li>\n<li>tally the count using <code>count += freq</code></li>\n<li>And return the value as <code>(int) ((count/2L)% mod);</code>. It's important to take the mod after correcting for duplicate pairs.  I.e. Take the <code>mod of the half</code> instead of <code>half of the mod</code>.</li>\n</ul>\n<p><strong>Note:</strong>  A long value for <code>count</code> is sufficient since the maximum pairings would occur for an array of size <code>100,000</code> containing <code>identical powers of 2</code>. The total frequencies would be <code>100_000</code>.  And since <code>100,000*99,999</code> would be <code>double</code> the total pairings (excluding the same index), <code>9,999,900,000</code> would be the product prior to reduction which easily fits into a <code>long</code>.</p>\n<p><strong>And some other observations.</strong></p>\n<p>Before you return the final result you do some adjusting on count. The following are not required.</p>\n<ul>\n<li><p>Adjusting count if odd is not required since integer division will yield the required result. <code>(e.g.  11/2 == 5 and 10/2 == 5)</code></p>\n</li>\n<li><p>Adding <code>mod to count if negative</code> is not required since count can never be negative. Once you decide to decrement <code>freq</code>, you have already determined that <code>freq</code> is positive since it has obtained a frequency count from the map.  So the least <code>freq</code> can be is <code>0</code>.  So <code>count</code> is only updated with values <code>&gt;= 0</code> thus can never be negative.</p>\n</li>\n</ul>\n<p><strong>This may be obivious but...</strong></p>\n<p>The sum of two <code>identical</code> numbers will only be a power of <code>2</code> if they are powers of <code>2</code>.</p>\n<ul>\n<li><code>n + n = 2n</code>.  Whether <code>n</code> is composite or prime, it must only have <code>2</code> as factor(s).</li>\n</ul>\n"}],"owner":{"account_id":28791920,"reputation":11,"user_id":22051014,"display_name":"Fibin pious"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":649,"favorite_count":0,"down_vote_count":5,"up_vote_count":1,"answer_count":1,"score":-4,"last_activity_date":1686624852,"creation_date":1686378117,"question_id":76444981,"body_markdown":"You are given an array A of length N. Find the number of pairs of (i, j) such that i &lt; j and A&lt;sub&gt;i&lt;/sub&gt; + A&lt;sub&gt;j&lt;/sub&gt; = 2&lt;sup&gt;x&lt;/sup&gt; where x is an integer. Since the answer could be large return it modulo 10&lt;sup&gt;9&lt;/sup&gt; + 7.\r\n\r\n##### Function description   \r\n\r\nComplete the twiceMatch function in the editor below. It has the following parameter(s):  \r\n\r\nName |\tType |\tDescription\r\n---|---|---  \r\nA|\t INTEGER ARRAY | array of non-negative integers.\r\n\r\n##### Return\t\r\n\r\nThe function must return an INTEGER denoting the number of ordered pairs satisfying the condition.\r\nConstraints\r\n\r\n - 1  â¤ N â¤  10&lt;sup&gt;5&lt;/sup&gt;\r\n - 1  â¤ A&lt;sub&gt;i&lt;/sub&gt; â¤  10&lt;sup&gt;9&lt;/sup&gt;\r\n\r\n##### Examples, first number in the input is the number of array values to follow\r\n\r\nInput | Output | Output Description\r\n---|---|---\r\n4 1 15 2 7 | 2 | ordered pairs of indices satisfying the conditions are: (1, 2), (1, 4)\r\n5 1 2 3 4 5 | 2 | ordered pairs of indices satisfying the conditions are: (1, 3), (3, 5)\r\n5 2 2 2 2 2 | 10 | All pairs of (i, j) satisfies the condition.\r\n\r\nOut of 15 Test cases only 1 is fails. The testcase is hidden.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/DHI8B.png\r\n\r\n```java\r\nimport java.io.*;\r\nimport java.util.*;\r\nimport java.lang.Math;\r\npublic class Solution {\r\n\tpublic static int twiceMatch(int[] A) {\r\n\t\tint n = A.length;\r\n\t\tint mod = (int)(1e9 + 9);\r\n\r\n\t\tMap &lt;Integer, Integer&gt; freqMap = new HashMap &lt; &gt;();\r\n\r\n\t\tfor (int num: A) {\r\n\t\t\tfreqMap.put(num, freqMap.getOrDefault(num, 0) + 1);\r\n\t\t}\r\n\r\n\t\tint count = 0;\r\n\r\n\t\tfor (int i = 0; i &lt; n; i++) {\r\n\t\t\tfor (int x = 0; x &lt;= 30; x++) {\r\n\t\t\t\tint target = (1 &lt;&lt; x) - A[i];\r\n\t\t\t\tif (target &lt; 0)\r\n                    continue;\r\n\r\n\t\t\t\tif (freqMap.containsKey(target)) {\r\n\t\t\t\t\tint freq = freqMap.get(target);\r\n\r\n\t\t\t\t\tif (target == A[i]) {\r\n\t\t\t\t\t\tfreq--;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tcount = (count + freq) % mod;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (count % 2 != 0) {\r\n\t\t\tcount--;\r\n\t\t}\r\n\r\n\t\tif (count &lt; 0) {\r\n\t\t\tcount += mod;\r\n\t\t}\r\n\r\n\t\tif (count == 0) {\r\n\t\t\treturn - 1;\r\n\t\t}\r\n\r\n\t\treturn count / 2;\r\n\t}\r\n\tpublic static void main(String[] args) {\r\n\t\tScanner scan = new Scanner(System. in );\r\n\t\tint N;\r\n\t\tN = scan.nextInt();\r\n\t\tint[] A = new int[N];\r\n\t\tfor (int j = 0; j &lt; N; j++) {\r\n\t\t\tA[j] = scan.nextInt();\r\n\t\t}\r\n\t\tint result;\r\n\t\tresult = twiceMatch(A);\r\n\t\tSystem.out.print(result);\r\n\t\treturn;\r\n\t}\r\n}\r\n```\r\n![enter image description here][1]","title":"Find the number of pairs of (i, j) such that i &lt; j and Ai + Aj = 2^x where x is an integer. In java","body":"<p>You are given an array A of length N. Find the number of pairs of (i, j) such that i &lt; j and A<sub>i</sub> + A<sub>j</sub> = 2<sup>x</sup> where x is an integer. Since the answer could be large return it modulo 10<sup>9</sup> + 7.</p>\n<h5>Function description</h5>\n<p>Complete the twiceMatch function in the editor below. It has the following parameter(s):</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>Name</th>\n<th>Type</th>\n<th>Description</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>A</td>\n<td>INTEGER ARRAY</td>\n<td>array of non-negative integers.</td>\n</tr>\n</tbody>\n</table>\n</div><h5>Return</h5>\n<p>The function must return an INTEGER denoting the number of ordered pairs satisfying the condition.\nConstraints</p>\n<ul>\n<li>1  â¤ N â¤  10<sup>5</sup></li>\n<li>1  â¤ A<sub>i</sub> â¤  10<sup>9</sup></li>\n</ul>\n<h5>Examples, first number in the input is the number of array values to follow</h5>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>Input</th>\n<th>Output</th>\n<th>Output Description</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>4 1 15 2 7</td>\n<td>2</td>\n<td>ordered pairs of indices satisfying the conditions are: (1, 2), (1, 4)</td>\n</tr>\n<tr>\n<td>5 1 2 3 4 5</td>\n<td>2</td>\n<td>ordered pairs of indices satisfying the conditions are: (1, 3), (3, 5)</td>\n</tr>\n<tr>\n<td>5 2 2 2 2 2</td>\n<td>10</td>\n<td>All pairs of (i, j) satisfies the condition.</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>Out of 15 Test cases only 1 is fails. The testcase is hidden.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.*;\nimport java.util.*;\nimport java.lang.Math;\npublic class Solution {\n    public static int twiceMatch(int[] A) {\n        int n = A.length;\n        int mod = (int)(1e9 + 9);\n\n        Map &lt;Integer, Integer&gt; freqMap = new HashMap &lt; &gt;();\n\n        for (int num: A) {\n            freqMap.put(num, freqMap.getOrDefault(num, 0) + 1);\n        }\n\n        int count = 0;\n\n        for (int i = 0; i &lt; n; i++) {\n            for (int x = 0; x &lt;= 30; x++) {\n                int target = (1 &lt;&lt; x) - A[i];\n                if (target &lt; 0)\n                    continue;\n\n                if (freqMap.containsKey(target)) {\n                    int freq = freqMap.get(target);\n\n                    if (target == A[i]) {\n                        freq--;\n                    }\n\n                    count = (count + freq) % mod;\n                }\n            }\n        }\n\n        if (count % 2 != 0) {\n            count--;\n        }\n\n        if (count &lt; 0) {\n            count += mod;\n        }\n\n        if (count == 0) {\n            return - 1;\n        }\n\n        return count / 2;\n    }\n    public static void main(String[] args) {\n        Scanner scan = new Scanner(System. in );\n        int N;\n        N = scan.nextInt();\n        int[] A = new int[N];\n        for (int j = 0; j &lt; N; j++) {\n            A[j] = scan.nextInt();\n        }\n        int result;\n        result = twiceMatch(A);\n        System.out.print(result);\n        return;\n    }\n}\n</code></pre>\n<p><img src=\"https://i.stack.imgur.com/DHI8B.png\" alt=\"enter image description here\" /></p>\n"},{"tags":["java","anylogic"],"comments":[{"owner":{"account_id":2486375,"reputation":11068,"user_id":2164728,"accept_rate":62,"display_name":"Benjamin"},"score":0,"creation_date":1686633883,"post_id":76460906,"comment_id":134821856,"body_markdown":"What errors? Have you tried to use `traceln()` to find out what your functions return? Best find out the root cause of the issue and report on that, tbh :)","body":"What errors? Have you tried to use <code>traceln()</code> to find out what your functions return? Best find out the root cause of the issue and report on that, tbh :)"},{"owner":{"account_id":26042302,"reputation":11,"user_id":19746867,"display_name":"Hossein Reihani"},"score":0,"creation_date":1686844500,"post_id":76460906,"comment_id":134857106,"body_markdown":"I solved the errors issue. The problem now is that the getDayOfWeek() will stop updating after a week and getHourOfDay() starts with 0 - which can be reasonable - but remains 0 through the simulation. So, the model always only gives one arrivals and then no new agents arrive, due to the fact that the interarrival time now is equal to infinity...","body":"I solved the errors issue. The problem now is that the getDayOfWeek() will stop updating after a week and getHourOfDay() starts with 0 - which can be reasonable - but remains 0 through the simulation. So, the model always only gives one arrivals and then no new agents arrive, due to the fact that the interarrival time now is equal to infinity..."},{"owner":{"account_id":2486375,"reputation":11068,"user_id":2164728,"accept_rate":62,"display_name":"Benjamin"},"score":0,"creation_date":1686847018,"post_id":76460906,"comment_id":134857648,"body_markdown":"Please always open new issues for new problems. SOF does not work like a forum, see https://benjamin-schumann.com/blog/anylogic-stackoverflow","body":"Please always open new issues for new problems. SOF does not work like a forum, see <a href=\"https://benjamin-schumann.com/blog/anylogic-stackoverflow\" rel=\"nofollow noreferrer\">benjamin-schumann.com/blog/anylogic-stackoverflow</a>"},{"owner":{"account_id":2486375,"reputation":11068,"user_id":2164728,"accept_rate":62,"display_name":"Benjamin"},"score":0,"creation_date":1686847047,"post_id":76460906,"comment_id":134857657,"body_markdown":"Also, please share how you solved it, helps others in the future with similar problems ;)","body":"Also, please share how you solved it, helps others in the future with similar problems ;)"}],"owner":{"account_id":26042302,"reputation":11,"user_id":19746867,"display_name":"Hossein Reihani"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686623074,"creation_date":1686613620,"question_id":76460906,"body_markdown":"I have two types of arrivals, planned and unplanned, which is shown as agent&#39;s parameter.\r\nI also have arrival shares for months, day of the week and hours of the day added as DB to the model, which is connected to the model using table functions &quot;months()&quot;, &quot;dayp()&quot;, &quot;dayu()&quot;, &quot;hourp()&quot; and &quot;houru()&quot; (months shares are the same for planned and unplanned patients so I use on month DB for both).\r\n\r\nIn the source block, for each hours in the simulation I need to calculate the inter-arrival time considering patient type and time of arrival as presented in the picture. [![enter image description here](https://i.stack.imgur.com/vJaPC.jpg)](https://i.stack.imgur.com/vJaPC.jpg)\r\n\r\nThe table functions for planned patient types are here:\r\n[![month of the year share in the yearly arrivals](https://i.stack.imgur.com/rLkGo.jpg)](https://i.stack.imgur.com/rLkGo.jpg)\r\n\r\n[![Day of the week share in the weekly arrivals](https://i.stack.imgur.com/zV2Si.jpg)](https://i.stack.imgur.com/zV2Si.jpg)\r\n\r\n[![Hour of the day share in the daily arrivals](https://i.stack.imgur.com/NoPYy.jpg)](https://i.stack.imgur.com/NoPYy.jpg)\r\n\r\nThis one does not give me any arrivals and basically gives me zero.\r\nIf I make a function that needs patients type as the argument (to decide whether use planned DBs or unplanned ones) and put it in the source Inter-arrival time formula, the model does not run and gives me the errors.\r\n\r\n\r\nCan you please help me?\r\nAppreciated in advance.\r\n ","title":"Anylogic Dynamic Arrival Function doesn&#39;t work (agent and time dependent function)","body":"<p>I have two types of arrivals, planned and unplanned, which is shown as agent's parameter.\nI also have arrival shares for months, day of the week and hours of the day added as DB to the model, which is connected to the model using table functions &quot;months()&quot;, &quot;dayp()&quot;, &quot;dayu()&quot;, &quot;hourp()&quot; and &quot;houru()&quot; (months shares are the same for planned and unplanned patients so I use on month DB for both).</p>\n<p>In the source block, for each hours in the simulation I need to calculate the inter-arrival time considering patient type and time of arrival as presented in the picture. <a href=\"https://i.stack.imgur.com/vJaPC.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vJaPC.jpg\" alt=\"enter image description here\" /></a></p>\n<p>The table functions for planned patient types are here:\n<a href=\"https://i.stack.imgur.com/rLkGo.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rLkGo.jpg\" alt=\"month of the year share in the yearly arrivals\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/zV2Si.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zV2Si.jpg\" alt=\"Day of the week share in the weekly arrivals\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/NoPYy.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NoPYy.jpg\" alt=\"Hour of the day share in the daily arrivals\" /></a></p>\n<p>This one does not give me any arrivals and basically gives me zero.\nIf I make a function that needs patients type as the argument (to decide whether use planned DBs or unplanned ones) and put it in the source Inter-arrival time formula, the model does not run and gives me the errors.</p>\n<p>Can you please help me?\nAppreciated in advance.</p>\n"},{"tags":["java","maven"],"answers":[{"tags":[],"owner":{"account_id":322516,"reputation":121953,"user_id":641955,"accept_rate":72,"display_name":"janos"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1478375152,"creation_date":1478282587,"answer_id":40429144,"question_id":40428891,"body_markdown":"Same thing happens for me. That&#39;s indeed a shame. The version `5-SNAPSHOT` looks a bit strange. If you just drop that, it actually works:\r\n\r\n    mvn archetype:generate -DarchetypeGroupId=org.apache.maven.archetypes -DarchetypeArtifactId=maven-archetype-quickstart\r\n\r\nYou can also simply specify only `groupId` and `artifactId` in batch mode:\r\n\r\n    mvn archetype:generate -DgroupId=com.mycompany.app -DartifactId=my-app -DinteractiveMode=false\r\n\r\nThe result is almost identical to creating with the `maven-archetype-quickstart` archetype.\r\n\r\nFor more info, see this page: [Maven in 5 Minutes][1].\r\n\r\n\r\n  [1]: https://maven.apache.org/guides/getting-started/maven-in-five-minutes.html","title":"Maven Quickstart Archetype does not exist","body":"<p>Same thing happens for me. That's indeed a shame. The version <code>5-SNAPSHOT</code> looks a bit strange. If you just drop that, it actually works:</p>\n\n<pre><code>mvn archetype:generate -DarchetypeGroupId=org.apache.maven.archetypes -DarchetypeArtifactId=maven-archetype-quickstart\n</code></pre>\n\n<p>You can also simply specify only <code>groupId</code> and <code>artifactId</code> in batch mode:</p>\n\n<pre><code>mvn archetype:generate -DgroupId=com.mycompany.app -DartifactId=my-app -DinteractiveMode=false\n</code></pre>\n\n<p>The result is almost identical to creating with the <code>maven-archetype-quickstart</code> archetype.</p>\n\n<p>For more info, see this page: <a href=\"https://maven.apache.org/guides/getting-started/maven-in-five-minutes.html\" rel=\"nofollow noreferrer\">Maven in 5 Minutes</a>.</p>\n"},{"tags":[],"owner":{"account_id":3141774,"reputation":3802,"user_id":2657100,"display_name":"nandsito"},"comment_count":0,"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1478283996,"creation_date":1478283342,"answer_id":40429352,"question_id":40428891,"body_markdown":"The specified version is not valid. It&#39;s from a [2010-edited Maven example page](http://maven.apache.org/archetypes/maven-archetype-quickstart/).\r\n\r\n[The most recent archetype version is 1.1](http://search.maven.org/#search%7Cgav%7C1%7Cg%3A%22org.apache.maven.archetypes%22%20AND%20a%3A%22maven-archetype-quickstart%22) (ironically, also from 2010), so try this instead:\r\n\r\n&lt;!-- language: lang-none --&gt;\r\n\r\n    mvn archetype:generate -DarchetypeGroupId=org.apache.maven.archetypes -DarchetypeArtifactId=maven-archetype-quickstart -DarchetypeVersion=1.1\r\n","title":"Maven Quickstart Archetype does not exist","body":"<p>The specified version is not valid. It's from a <a href=\"http://maven.apache.org/archetypes/maven-archetype-quickstart/\" rel=\"noreferrer\">2010-edited Maven example page</a>.</p>\n\n<p><a href=\"http://search.maven.org/#search%7Cgav%7C1%7Cg%3A%22org.apache.maven.archetypes%22%20AND%20a%3A%22maven-archetype-quickstart%22\" rel=\"noreferrer\">The most recent archetype version is 1.1</a> (ironically, also from 2010), so try this instead:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>mvn archetype:generate -DarchetypeGroupId=org.apache.maven.archetypes -DarchetypeArtifactId=maven-archetype-quickstart -DarchetypeVersion=1.1\n</code></pre>\n"},{"comments":[{"owner":{"account_id":7378104,"reputation":699,"user_id":5615908,"display_name":"Marek W"},"score":0,"creation_date":1620045927,"post_id":67366679,"comment_id":119077610,"body_markdown":"Hi Mick.zw, the question is quite old and was already answered correctly by a different user.","body":"Hi Mick.zw, the question is quite old and was already answered correctly by a different user."},{"owner":{"account_id":18781678,"reputation":21,"user_id":13696195,"display_name":"Mick.zw"},"score":1,"creation_date":1620135660,"post_id":67366679,"comment_id":119107176,"body_markdown":"Hi @MarekW, It maybe old but someone might still need such information. I actually needed such information yesterday and that&#39;s how I came to find the page. While some of these solutions worked for others, none would have solved my issue if I still did not realise the misspelling, and someone might find this helpful in the future, I hope.","body":"Hi @MarekW, It maybe old but someone might still need such information. I actually needed such information yesterday and that&#39;s how I came to find the page. While some of these solutions worked for others, none would have solved my issue if I still did not realise the misspelling, and someone might find this helpful in the future, I hope."}],"tags":[],"owner":{"account_id":18781678,"reputation":21,"user_id":13696195,"display_name":"Mick.zw"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1620034879,"creation_date":1620034879,"answer_id":67366679,"question_id":40428891,"body_markdown":"Another reason for this, as was in my case, was to do with spelling mistakes, especially when you&#39;re new to this, a common misspelling would be archtype instead of archetype and this fixed the same error in my case. ","title":"Maven Quickstart Archetype does not exist","body":"<p>Another reason for this, as was in my case, was to do with spelling mistakes, especially when you're new to this, a common misspelling would be archtype instead of archetype and this fixed the same error in my case.</p>\n"},{"tags":[],"owner":{"account_id":26314862,"reputation":41,"user_id":19977803,"display_name":"Heena Patidar"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1686622904,"creation_date":1686622904,"answer_id":76461344,"question_id":40428891,"body_markdown":"I was getting a similar error while creating a new maven project for building a Java web application using Spring MVC framework in Eclipse IDE.\r\n**Archetype repository not defined. Using the one from [org.apache.maven.archetypes:maven-archetype-quickstart:1.4] found in catalog remote** and progressed 33% only.\r\n\r\nby defining the archetype repository URL in Eclipse IDE I was able to resolve this issue.\r\n\r\nhere, are the steps I followed:\r\n1. In Eclipse IDE, go to &quot;Window&quot; -&gt; &quot;Preferences&quot; to open the preferences dialog.\r\n2. In the preferences dialog, expand the &quot;Maven&quot; category and click on &quot;Archetypes&quot;.\r\n3. Click on the &quot;Add Remote Catalog&quot; button.\r\n4. Enter a name for the catalog and provide the catalog file URL associated with the \r\n   archetype repository. For example, you can try using the following URL for the \r\n   archetype repository:\r\nCatalog File: https://repository.jboss.org/nexus/content/repositories/releases/archetype-catalog.xml\r\n5. Click &quot;OK&quot; to add the remote catalog and associate it with the archetype repository.\r\n6. Click &quot;Apply&quot; or &quot;OK&quot; to save the changes and close the preferences dialog.\r\n\r\nNow while creating a new maven project it was asking for p**arent group id, artifact id, and version** in I have given **org.jboss.spring.archetypes, spring-mvc-webapp, 1.0.0.CR8 respectively** \r\n","title":"Maven Quickstart Archetype does not exist","body":"<p>I was getting a similar error while creating a new maven project for building a Java web application using Spring MVC framework in Eclipse IDE.\n<strong>Archetype repository not defined. Using the one from [org.apache.maven.archetypes:maven-archetype-quickstart:1.4] found in catalog remote</strong> and progressed 33% only.</p>\n<p>by defining the archetype repository URL in Eclipse IDE I was able to resolve this issue.</p>\n<p>here, are the steps I followed:</p>\n<ol>\n<li>In Eclipse IDE, go to &quot;Window&quot; -&gt; &quot;Preferences&quot; to open the preferences dialog.</li>\n<li>In the preferences dialog, expand the &quot;Maven&quot; category and click on &quot;Archetypes&quot;.</li>\n<li>Click on the &quot;Add Remote Catalog&quot; button.</li>\n<li>Enter a name for the catalog and provide the catalog file URL associated with the\narchetype repository. For example, you can try using the following URL for the\narchetype repository:\nCatalog File: <a href=\"https://repository.jboss.org/nexus/content/repositories/releases/archetype-catalog.xml\" rel=\"nofollow noreferrer\">https://repository.jboss.org/nexus/content/repositories/releases/archetype-catalog.xml</a></li>\n<li>Click &quot;OK&quot; to add the remote catalog and associate it with the archetype repository.</li>\n<li>Click &quot;Apply&quot; or &quot;OK&quot; to save the changes and close the preferences dialog.</li>\n</ol>\n<p>Now while creating a new maven project it was asking for p<strong>arent group id, artifact id, and version</strong> in I have given <strong>org.jboss.spring.archetypes, spring-mvc-webapp, 1.0.0.CR8 respectively</strong></p>\n"}],"owner":{"account_id":5196325,"reputation":2506,"user_id":4157487,"accept_rate":89,"display_name":"George"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16643,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"accepted_answer_id":40429352,"answer_count":4,"score":13,"last_activity_date":1686622904,"creation_date":1478281681,"question_id":40428891,"body_markdown":"I wanted to start a new project using maven. Installed Maven 3.3.9, put it in my path, created an empty folder and ran the command given in https://maven.apache.org/archetypes/maven-archetype-quickstart/\r\n\r\n    mvn archetype:generate -DarchetypeGroupId=org.apache.maven.archetypes -DarchetypeArtifactId=maven-archetype-quickstart -DarchetypeVersion=5-SNAPSHOT\r\n\r\nInstead of a new project, I got an error\r\n\r\n    E:\\CODING\\prj&gt;mvn archetype:generate -DarchetypeGroupId=org.apache.maven.archetypes -DarchetypeArtifactId=maven-archetype-quickstart -DarchetypeVersion=5-SNAPSHOT\r\n    [INFO] Scanning for projects...\r\n    [INFO]\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Building Maven Stub Project (No POM) 1\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO]\r\n    [INFO] &gt;&gt;&gt; maven-archetype-plugin:2.4:generate (default-cli) &gt; generate-sources @ standalone-pom &gt;&gt;&gt;\r\n    [INFO]\r\n    [INFO] &lt;&lt;&lt; maven-archetype-plugin:2.4:generate (default-cli) &lt; generate-sources @ standalone-pom &lt;&lt;&lt;\r\n    [INFO]\r\n    [INFO] --- maven-archetype-plugin:2.4:generate (default-cli) @ standalone-pom ---\r\n    [INFO] Generating project in Interactive mode\r\n    [INFO] Archetype repository not defined. Using the one from [org.apache.maven.archetypes:maven-archetype-quickstart:1.1] found in catalog remote\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] BUILD FAILURE\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Total time: 5.016 s\r\n    [INFO] Finished at: 2016-11-04T13:41:30-04:00\r\n    [INFO] Final Memory: 12M/114M\r\n    [INFO] ------------------------------------------------------------------------\r\n    [ERROR] Failed to execute goal org.apache.maven.plugins:maven-archetype-plugin:2.4:generate (default-cli) on project standalone-pom: The desired archetype does not exist (org.apache.maven.archetypes:maven-archetype-quickstart:5-SNAPSHOT) -&gt; [Help 1]\r\n    [ERROR]\r\n    [ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\r\n    [ERROR] Re-run Maven using the -X switch to enable full debug logging.\r\n    [ERROR]\r\n    [ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n    [ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException\r\n\r\nDoes anyone know why? Even better, how DO I create a blank Maven project?","title":"Maven Quickstart Archetype does not exist","body":"<p>I wanted to start a new project using maven. Installed Maven 3.3.9, put it in my path, created an empty folder and ran the command given in <a href=\"https://maven.apache.org/archetypes/maven-archetype-quickstart/\" rel=\"noreferrer\">https://maven.apache.org/archetypes/maven-archetype-quickstart/</a></p>\n\n<pre><code>mvn archetype:generate -DarchetypeGroupId=org.apache.maven.archetypes -DarchetypeArtifactId=maven-archetype-quickstart -DarchetypeVersion=5-SNAPSHOT\n</code></pre>\n\n<p>Instead of a new project, I got an error</p>\n\n<pre><code>E:\\CODING\\prj&gt;mvn archetype:generate -DarchetypeGroupId=org.apache.maven.archetypes -DarchetypeArtifactId=maven-archetype-quickstart -DarchetypeVersion=5-SNAPSHOT\n[INFO] Scanning for projects...\n[INFO]\n[INFO] ------------------------------------------------------------------------\n[INFO] Building Maven Stub Project (No POM) 1\n[INFO] ------------------------------------------------------------------------\n[INFO]\n[INFO] &gt;&gt;&gt; maven-archetype-plugin:2.4:generate (default-cli) &gt; generate-sources @ standalone-pom &gt;&gt;&gt;\n[INFO]\n[INFO] &lt;&lt;&lt; maven-archetype-plugin:2.4:generate (default-cli) &lt; generate-sources @ standalone-pom &lt;&lt;&lt;\n[INFO]\n[INFO] --- maven-archetype-plugin:2.4:generate (default-cli) @ standalone-pom ---\n[INFO] Generating project in Interactive mode\n[INFO] Archetype repository not defined. Using the one from [org.apache.maven.archetypes:maven-archetype-quickstart:1.1] found in catalog remote\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time: 5.016 s\n[INFO] Finished at: 2016-11-04T13:41:30-04:00\n[INFO] Final Memory: 12M/114M\n[INFO] ------------------------------------------------------------------------\n[ERROR] Failed to execute goal org.apache.maven.plugins:maven-archetype-plugin:2.4:generate (default-cli) on project standalone-pom: The desired archetype does not exist (org.apache.maven.archetypes:maven-archetype-quickstart:5-SNAPSHOT) -&gt; [Help 1]\n[ERROR]\n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n[ERROR]\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException\n</code></pre>\n\n<p>Does anyone know why? Even better, how DO I create a blank Maven project?</p>\n"},{"tags":["java","json","android-studio","fileinputstream","fileoutputstream"],"answers":[{"tags":[],"owner":{"account_id":7655262,"reputation":7506,"user_id":5802417,"display_name":"Michael Gantman"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686562211,"creation_date":1686562211,"answer_id":76455282,"question_id":76454446,"body_markdown":"Basically answer to your question is no. Your course of action is to \r\n1. read the file into memory, \r\n2. modify the content in memory\r\n3. override the old file with modified content.\r\n\r\nHere is the question with good answers on how to modify a text file: [Modifying existing file content in Java][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/8563294/modifying-existing-file-content-in-java","title":"Overwrite JSON object without replacing the file completely Android Studio","body":"<p>Basically answer to your question is no. Your course of action is to</p>\n<ol>\n<li>read the file into memory,</li>\n<li>modify the content in memory</li>\n<li>override the old file with modified content.</li>\n</ol>\n<p>Here is the question with good answers on how to modify a text file: <a href=\"https://stackoverflow.com/questions/8563294/modifying-existing-file-content-in-java\">Modifying existing file content in Java</a></p>\n"},{"tags":[],"owner":{"account_id":17871198,"reputation":390,"user_id":12982457,"display_name":"Hiraeths"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1686621977,"creation_date":1686621977,"answer_id":76461300,"question_id":76454446,"body_markdown":"I&#39;ve found the answer to this. Basically I need to read the existing JSON file and then replace the existing JSON object value\r\n\r\n    private void writeFile(String age) {\r\n        try {\r\n            FileInputStream fileInputStream = openFileInput(&quot;credentials.json&quot;);\r\n            InputStreamReader isr = new InputStreamReader(fileInputStream);\r\n            BufferedReader br = new BufferedReader(isr);\r\n\r\n            StringBuilder jsonStringBuilder = new StringBuilder();\r\n            String line;\r\n            while ((line = br.readLine()) != null) {\r\n                jsonStringBuilder.append(line);\r\n            }\r\n            br.close();\r\n\r\n            String jsonString = jsonStringBuilder.toString();\r\n            JsonParser jsonParser = new JsonParser();\r\n            JsonObject jsonObject = jsonParser.parse(jsonString).getAsJsonObject();\r\n\r\n            jsonObject.addProperty(&quot;age&quot;, age);\r\n\r\n            FileOutputStream fileOutputStream = openFileOutput(&quot;credentials.json&quot;, MODE_PRIVATE);\r\n            OutputStreamWriter osw = new OutputStreamWriter(fileOutputStream);\r\n            BufferedWriter bw = new BufferedWriter(osw);\r\n\r\n            Gson gson = new GsonBuilder().setPrettyPrinting().create();\r\n            String updatedJsonString = gson.toJson(jsonObject);\r\n\r\n            bw.write(updatedJsonString);\r\n            bw.flush();\r\n            bw.close();\r\n\r\n        } catch (FileNotFoundException e) {\r\n            intentActivity(Login.class);\r\n        } catch (IOException e) {\r\n            intentActivity(Login.class);\r\n        }\r\n    }","title":"Overwrite JSON object without replacing the file completely Android Studio","body":"<p>I've found the answer to this. Basically I need to read the existing JSON file and then replace the existing JSON object value</p>\n<pre><code>private void writeFile(String age) {\n    try {\n        FileInputStream fileInputStream = openFileInput(&quot;credentials.json&quot;);\n        InputStreamReader isr = new InputStreamReader(fileInputStream);\n        BufferedReader br = new BufferedReader(isr);\n\n        StringBuilder jsonStringBuilder = new StringBuilder();\n        String line;\n        while ((line = br.readLine()) != null) {\n            jsonStringBuilder.append(line);\n        }\n        br.close();\n\n        String jsonString = jsonStringBuilder.toString();\n        JsonParser jsonParser = new JsonParser();\n        JsonObject jsonObject = jsonParser.parse(jsonString).getAsJsonObject();\n\n        jsonObject.addProperty(&quot;age&quot;, age);\n\n        FileOutputStream fileOutputStream = openFileOutput(&quot;credentials.json&quot;, MODE_PRIVATE);\n        OutputStreamWriter osw = new OutputStreamWriter(fileOutputStream);\n        BufferedWriter bw = new BufferedWriter(osw);\n\n        Gson gson = new GsonBuilder().setPrettyPrinting().create();\n        String updatedJsonString = gson.toJson(jsonObject);\n\n        bw.write(updatedJsonString);\n        bw.flush();\n        bw.close();\n\n    } catch (FileNotFoundException e) {\n        intentActivity(Login.class);\n    } catch (IOException e) {\n        intentActivity(Login.class);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":17871198,"reputation":390,"user_id":12982457,"display_name":"Hiraeths"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76461300,"answer_count":2,"score":0,"last_activity_date":1686621977,"creation_date":1686555115,"question_id":76454446,"body_markdown":"Basically I am trying to overwrite the following JSON data \r\n\r\n    {\r\n        &quot;name&quot; : &quot;John Doe&quot;,\r\n        &quot;gender&quot; : &quot;male&quot;,\r\n        &quot;age&quot; : &quot;21&quot;\r\n    }\r\n\r\nMy goal is to replace only the age. So I am using FileOutputStream like below\r\n\r\n    JSONObject object = new JSONObject();\r\n    try {\r\n        object.put(&quot;age&quot;, &quot;40&quot;);\r\n\r\n    } catch (JSONException e) {\r\n        //do smthng\r\n    }\r\n\r\n    String textToSave = object.toString();\r\n\r\n    try {\r\n        FileOutputStream fileOutputStream = openFileOutput(&quot;credentials.txt&quot;, MODE_PRIVATE);\r\n        fileOutputStream.write(textToSave.getBytes());\r\n        fileOutputStream.close();\r\n        intentActivity(MainMenu.class);\r\n\r\n    } catch (FileNotFoundException e) {\r\n        //do smthng\r\n    } catch (IOException e) {\r\n        //do smhtng\r\n    }\r\n\r\nBut with the above code, I realized it completely deletes the existing `credentials.txt` which means I lost the `name` and `gender` value. Is there anyway just to replace the `age`? Thank you","title":"Overwrite JSON object without replacing the file completely Android Studio","body":"<p>Basically I am trying to overwrite the following JSON data</p>\n<pre><code>{\n    &quot;name&quot; : &quot;John Doe&quot;,\n    &quot;gender&quot; : &quot;male&quot;,\n    &quot;age&quot; : &quot;21&quot;\n}\n</code></pre>\n<p>My goal is to replace only the age. So I am using FileOutputStream like below</p>\n<pre><code>JSONObject object = new JSONObject();\ntry {\n    object.put(&quot;age&quot;, &quot;40&quot;);\n\n} catch (JSONException e) {\n    //do smthng\n}\n\nString textToSave = object.toString();\n\ntry {\n    FileOutputStream fileOutputStream = openFileOutput(&quot;credentials.txt&quot;, MODE_PRIVATE);\n    fileOutputStream.write(textToSave.getBytes());\n    fileOutputStream.close();\n    intentActivity(MainMenu.class);\n\n} catch (FileNotFoundException e) {\n    //do smthng\n} catch (IOException e) {\n    //do smhtng\n}\n</code></pre>\n<p>But with the above code, I realized it completely deletes the existing <code>credentials.txt</code> which means I lost the <code>name</code> and <code>gender</code> value. Is there anyway just to replace the <code>age</code>? Thank you</p>\n"},{"tags":["java","kubernetes","tomcat8"],"answers":[{"tags":[],"owner":{"account_id":11613849,"reputation":1208,"user_id":8507296,"display_name":"PSKP"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1686621911,"creation_date":1686621911,"answer_id":76461293,"question_id":76457142,"body_markdown":"So, I found the issue. The issue is with mountPath: `/usr/local/tomcat/webapps/ROOT`\r\n\r\ntomcat wants to create a `ROOT` directory and I was mounting it. So Tomcat was like **ROOT is already present, I am not going to do anything**.\r\n\r\nNow I changed the mount point and also small change in Dockerfile is working fine.\r\n\r\n## Mount point\r\n\r\nInstead of mounting at `/usr/local/tomcat/webapps/ROOT`, mounting now at `/usr/local/tomcat/webapps`\r\n\r\n```yaml\r\n- name: tmp3\r\n  mountPath: /usr/local/tomcat/webapps\r\n```\r\n\r\n## Change in Dockerfile\r\n\r\nBefore I was moving the .war file directly to `/usr/local/tomcat/webapps/ROOT.war`, but now we are mounting `webapps` so it will not be available at run time.\r\n\r\nCopying `ROOT.war` to some other location and before starting tomcat, move it to `webapps`\r\n\r\n```dockerfile\r\nADD myservice/target/myservice.war /usr/local/tomcat/ROOT.war\r\nCOPY script.sh /script.sh\r\n\r\nCMD [&quot;bash&quot;, &quot;/script.sh&quot;]\r\n```\r\n\r\n**script.sh**\r\n\r\n```sh\r\ncp /usr/local/tomcat/ROOT.war /usr/local/tomcat/webapps/ROOT.war\r\ncatalina.sh run\r\n```\r\n\r\n","title":"After changing to non root &amp; read only filesystem, tomcat giving 404","body":"<p>So, I found the issue. The issue is with mountPath: <code>/usr/local/tomcat/webapps/ROOT</code></p>\n<p>tomcat wants to create a <code>ROOT</code> directory and I was mounting it. So Tomcat was like <strong>ROOT is already present, I am not going to do anything</strong>.</p>\n<p>Now I changed the mount point and also small change in Dockerfile is working fine.</p>\n<h2>Mount point</h2>\n<p>Instead of mounting at <code>/usr/local/tomcat/webapps/ROOT</code>, mounting now at <code>/usr/local/tomcat/webapps</code></p>\n<pre class=\"lang-yaml prettyprint-override\"><code>- name: tmp3\n  mountPath: /usr/local/tomcat/webapps\n</code></pre>\n<h2>Change in Dockerfile</h2>\n<p>Before I was moving the .war file directly to <code>/usr/local/tomcat/webapps/ROOT.war</code>, but now we are mounting <code>webapps</code> so it will not be available at run time.</p>\n<p>Copying <code>ROOT.war</code> to some other location and before starting tomcat, move it to <code>webapps</code></p>\n<pre><code>ADD myservice/target/myservice.war /usr/local/tomcat/ROOT.war\nCOPY script.sh /script.sh\n\nCMD [&quot;bash&quot;, &quot;/script.sh&quot;]\n</code></pre>\n<p><strong>script.sh</strong></p>\n<pre class=\"lang-bash prettyprint-override\"><code>cp /usr/local/tomcat/ROOT.war /usr/local/tomcat/webapps/ROOT.war\ncatalina.sh run\n</code></pre>\n"}],"owner":{"account_id":11613849,"reputation":1208,"user_id":8507296,"display_name":"PSKP"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":411,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76461293,"answer_count":1,"score":0,"last_activity_date":1686621911,"creation_date":1686576412,"question_id":76457142,"body_markdown":"I have the .war file, it was working fine. but when run as a non-root &amp; read-only filesystem is enabled, it starts to fail with errors like being unable to create a file or directory. So I create tmp volumes and mounted them on all paths which were giving issues.\r\n\r\nBut now there is no error in logs and Tomcat is giving 404 for all endpoints. As it is giving 404, k8s is restarting that pod.\r\n\r\n## tmp volume mounted paths\r\n\r\n```yaml\r\nvolumeMounts:\r\n    - name: tmp1\r\n      mountPath: /usr/local/tomcat/logs\r\n    - name: tmp2\r\n      mountPath: /usr/local/tomcat/temp\r\n    - name: tmp3\r\n      mountPath: /usr/local/tomcat/webapps/ROOT\r\n    - name: tmp4\r\n      mountPath: /usr/local/tomcat/conf/Catalina\r\n    - name: tmp5\r\n      mountPath: /usr/local/tomcat/work/Catalina\r\n```\r\n\r\n## Logs without error\r\n\r\n```\r\nINFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Xmx750m\r\nINFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Xms256m\r\nINFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Djdk.tls.ephemeralDHKeySize=2048\r\nINFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Djava.protocol.handler.pkgs=org.apache.catalina.webresources\r\nINFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dorg.apache.catalina.security.SecurityListener.UMASK=0027\r\nINFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dignore.endorsed.dirs=\r\nINFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dcatalina.base=/usr/local/tomcat\r\nINFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dcatalina.home=/usr/local/tomcat\r\nINFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Djava.io.tmpdir=/usr/local/tomcat/temp\r\nINFO [main] org.apache.catalina.core.AprLifecycleListener.lifecycleEvent Loaded Apache Tomcat Native library [1.2.30] using APR version [1.6.5].\r\nINFO [main] org.apache.catalina.core.AprLifecycleListener.lifecycleEvent APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true].\r\nINFO [main] org.apache.catalina.core.AprLifecycleListener.lifecycleEvent APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]\r\nINFO [main] org.apache.catalina.core.AprLifecycleListener.initializeSSL OpenSSL successfully initialized [OpenSSL 1.1.1d  10 Sep 2019]\r\nINFO [main] org.apache.coyote.AbstractProtocol.init Initializing ProtocolHandler [&quot;http-nio-8080&quot;]\r\nINFO [main] org.apache.tomcat.util.net.NioSelectorPool.getSharedSelector Using a shared selector for servlet write/read\r\nINFO [main] org.apache.catalina.startup.Catalina.load Initialization processed in 533 ms\r\nINFO [main] org.apache.catalina.core.StandardService.startInternal Starting service [Catalina]\r\nINFO [main] org.apache.catalina.core.StandardEngine.startInternal Starting Servlet engine: [Apache Tomcat/8.5.69]\r\nINFO [localhost-startStop-1] org.apache.catalina.startup.HostConfig.deployWAR Deploying web application archive [/usr/local/tomcat/webapps/ROOT.war]\r\nINFO [localhost-startStop-1] org.apache.jasper.servlet.TldScanner.scanJars At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.\r\nINFO [localhost-startStop-1] org.apache.catalina.startup.HostConfig.deployWAR Deployment of web application archive [/usr/local/tomcat/webapps/ROOT.war] has finished in [413] ms\r\nINFO [main] org.apache.coyote.AbstractProtocol.start Starting ProtocolHandler [&quot;http-nio-8080&quot;]\r\nINFO [main] org.apache.catalina.startup.Catalina.start Server startup in 469 ms\r\nINFO [Thread-4] org.apache.coyote.AbstractProtocol.pause Pausing ProtocolHandler [&quot;http-nio-8080&quot;]\r\nINFO [Thread-4] org.apache.catalina.core.StandardService.stopInternal Stopping service [Catalina]\r\nINFO [Thread-4] org.apache.coyote.AbstractProtocol.stop Stopping ProtocolHandler [&quot;http-nio-8080&quot;]\r\nINFO [Thread-4] org.apache.coyote.AbstractProtocol.destroy Destroying ProtocolHandler [&quot;http-nio-8080&quot;]\r\n```\r\n\r\nI am not sure from where should I start looking. Logs has no error.","title":"After changing to non root &amp; read only filesystem, tomcat giving 404","body":"<p>I have the .war file, it was working fine. but when run as a non-root &amp; read-only filesystem is enabled, it starts to fail with errors like being unable to create a file or directory. So I create tmp volumes and mounted them on all paths which were giving issues.</p>\n<p>But now there is no error in logs and Tomcat is giving 404 for all endpoints. As it is giving 404, k8s is restarting that pod.</p>\n<h2>tmp volume mounted paths</h2>\n<pre class=\"lang-yaml prettyprint-override\"><code>volumeMounts:\n    - name: tmp1\n      mountPath: /usr/local/tomcat/logs\n    - name: tmp2\n      mountPath: /usr/local/tomcat/temp\n    - name: tmp3\n      mountPath: /usr/local/tomcat/webapps/ROOT\n    - name: tmp4\n      mountPath: /usr/local/tomcat/conf/Catalina\n    - name: tmp5\n      mountPath: /usr/local/tomcat/work/Catalina\n</code></pre>\n<h2>Logs without error</h2>\n<pre><code>INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Xmx750m\nINFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Xms256m\nINFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Djdk.tls.ephemeralDHKeySize=2048\nINFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Djava.protocol.handler.pkgs=org.apache.catalina.webresources\nINFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dorg.apache.catalina.security.SecurityListener.UMASK=0027\nINFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dignore.endorsed.dirs=\nINFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dcatalina.base=/usr/local/tomcat\nINFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dcatalina.home=/usr/local/tomcat\nINFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Djava.io.tmpdir=/usr/local/tomcat/temp\nINFO [main] org.apache.catalina.core.AprLifecycleListener.lifecycleEvent Loaded Apache Tomcat Native library [1.2.30] using APR version [1.6.5].\nINFO [main] org.apache.catalina.core.AprLifecycleListener.lifecycleEvent APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true].\nINFO [main] org.apache.catalina.core.AprLifecycleListener.lifecycleEvent APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]\nINFO [main] org.apache.catalina.core.AprLifecycleListener.initializeSSL OpenSSL successfully initialized [OpenSSL 1.1.1d  10 Sep 2019]\nINFO [main] org.apache.coyote.AbstractProtocol.init Initializing ProtocolHandler [&quot;http-nio-8080&quot;]\nINFO [main] org.apache.tomcat.util.net.NioSelectorPool.getSharedSelector Using a shared selector for servlet write/read\nINFO [main] org.apache.catalina.startup.Catalina.load Initialization processed in 533 ms\nINFO [main] org.apache.catalina.core.StandardService.startInternal Starting service [Catalina]\nINFO [main] org.apache.catalina.core.StandardEngine.startInternal Starting Servlet engine: [Apache Tomcat/8.5.69]\nINFO [localhost-startStop-1] org.apache.catalina.startup.HostConfig.deployWAR Deploying web application archive [/usr/local/tomcat/webapps/ROOT.war]\nINFO [localhost-startStop-1] org.apache.jasper.servlet.TldScanner.scanJars At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.\nINFO [localhost-startStop-1] org.apache.catalina.startup.HostConfig.deployWAR Deployment of web application archive [/usr/local/tomcat/webapps/ROOT.war] has finished in [413] ms\nINFO [main] org.apache.coyote.AbstractProtocol.start Starting ProtocolHandler [&quot;http-nio-8080&quot;]\nINFO [main] org.apache.catalina.startup.Catalina.start Server startup in 469 ms\nINFO [Thread-4] org.apache.coyote.AbstractProtocol.pause Pausing ProtocolHandler [&quot;http-nio-8080&quot;]\nINFO [Thread-4] org.apache.catalina.core.StandardService.stopInternal Stopping service [Catalina]\nINFO [Thread-4] org.apache.coyote.AbstractProtocol.stop Stopping ProtocolHandler [&quot;http-nio-8080&quot;]\nINFO [Thread-4] org.apache.coyote.AbstractProtocol.destroy Destroying ProtocolHandler [&quot;http-nio-8080&quot;]\n</code></pre>\n<p>I am not sure from where should I start looking. Logs has no error.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":20906298,"reputation":332,"user_id":15358155,"display_name":"chameerar"},"score":0,"creation_date":1686622064,"post_id":76461229,"comment_id":134820941,"body_markdown":"Please provide relevant code and your effort in the question. See the minimal reproducible example https://stackoverflow.com/help/minimal-reproducible-example .","body":"Please provide relevant code and your effort in the question. See the minimal reproducible example <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">stackoverflow.com/help/minimal-reproducible-example</a> ."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1686643823,"post_id":76461229,"comment_id":134823452,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"owner":{"account_id":28804190,"reputation":1,"user_id":22060415,"display_name":"èäºé"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686621503,"creation_date":1686620593,"question_id":76461229,"body_markdown":"Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/junit/platform/launcher/TestIdentifier\r\nException in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/junit/platform/launcher/TestIdentifier\r\n\r\nThis is a exception when i run the test class, How to deal with this question?","title":"Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/junit/platform/launcher/TestIdentifier","body":"<p>Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/junit/platform/launcher/TestIdentifier\nException in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/junit/platform/launcher/TestIdentifier</p>\n<p>This is a exception when i run the test class, How to deal with this question?</p>\n"},{"tags":["java","object","initialization"],"comments":[{"owner":{"account_id":261142,"reputation":47118,"user_id":545127,"accept_rate":69,"display_name":"Raedwald"},"score":0,"creation_date":1402742321,"post_id":15596193,"comment_id":37398277,"body_markdown":"possible duplicate of [What does it mean to &quot;program to an interface&quot;?](http://stackoverflow.com/questions/383947/what-does-it-mean-to-program-to-an-interface)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/383947/what-does-it-mean-to-program-to-an-interface\">What does it mean to &quot;program to an interface&quot;?</a>"}],"answers":[{"tags":[],"owner":{"account_id":2081598,"reputation":9477,"user_id":1853479,"display_name":"j__m"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1364110564,"creation_date":1364110564,"answer_id":15596204,"question_id":15596193,"body_markdown":"The objects are the same.  However, because `sc1` is declared as type `superClass` you cannot use `subClass` methods on it without casting.","title":"Whats the difference between subClass sc = new subClass() and superClass sc = new subClass?","body":"<p>The objects are the same.  However, because <code>sc1</code> is declared as type <code>superClass</code> you cannot use <code>subClass</code> methods on it without casting.</p>\n"},{"tags":[],"owner":{"account_id":152622,"reputation":490044,"user_id":367273,"accept_rate":96,"display_name":"NPE"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1364110574,"creation_date":1364110574,"answer_id":15596205,"question_id":15596193,"body_markdown":"&gt; whats the difference between the two objects created using the above code?\r\n\r\nThe two objects are exactly the same. What&#39;s different is the type of the variable where the object reference is stored. In practice, this means that if there are any methods specific to `subClass`, you&#39;ll be able to access them through `sc2` but not through `sc1` (the latter would require a cast).","title":"Whats the difference between subClass sc = new subClass() and superClass sc = new subClass?","body":"<blockquote>\n  <p>whats the difference between the two objects created using the above code?</p>\n</blockquote>\n\n<p>The two objects are exactly the same. What's different is the type of the variable where the object reference is stored. In practice, this means that if there are any methods specific to <code>subClass</code>, you'll be able to access them through <code>sc2</code> but not through <code>sc1</code> (the latter would require a cast).</p>\n"},{"tags":[],"owner":{"account_id":329404,"reputation":14849,"user_id":652895,"accept_rate":96,"display_name":"Varun Achar"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1686620395,"creation_date":1364110632,"answer_id":15596211,"question_id":15596193,"body_markdown":"Simple explanation : \r\nWhen you use \r\n\r\n    SuperClass obj = new SubClass();\r\n\r\nOnly public methods that are defined in `SuperClass` are accessible. Methods defined in `SubClass` are not.\r\n\r\n\r\nWhen you use \r\n\r\n    SubClass obj = new SubClass(); \r\n\r\npublic methods defined in `SubClass` are also accessible along with the `SuperClass` public methods.\r\n\r\nObject created in both cases is the same.\r\n\r\nEx:\r\n\r\n\r\n\r\n    public class SuperClass {\r\n    \r\n      public void method1(){\r\n    \r\n      }\r\n    }\r\n    \r\n    public class SubClass extends SuperClass {\r\n      public void method2()\r\n      {\r\n     \r\n      }\r\n    }\r\n    \r\n    SubClass sub = new SubClass();\r\n    sub.method1();  //Valid through inheritance from SuperClass\r\n    sub.method2();  // Valid\r\n    \r\n    SuperClass superClass = new SubClass();\r\n    superClass.method1();\r\n    superClass.method2(); // Compilation Error since Reference is of SuperClass so only SuperClass methods are accessible.\r\n\r\n\r\n","title":"Whats the difference between subClass sc = new subClass() and superClass sc = new subClass?","body":"<p>Simple explanation :\nWhen you use</p>\n<pre><code>SuperClass obj = new SubClass();\n</code></pre>\n<p>Only public methods that are defined in <code>SuperClass</code> are accessible. Methods defined in <code>SubClass</code> are not.</p>\n<p>When you use</p>\n<pre><code>SubClass obj = new SubClass(); \n</code></pre>\n<p>public methods defined in <code>SubClass</code> are also accessible along with the <code>SuperClass</code> public methods.</p>\n<p>Object created in both cases is the same.</p>\n<p>Ex:</p>\n<pre><code>public class SuperClass {\n\n  public void method1(){\n\n  }\n}\n\npublic class SubClass extends SuperClass {\n  public void method2()\n  {\n \n  }\n}\n\nSubClass sub = new SubClass();\nsub.method1();  //Valid through inheritance from SuperClass\nsub.method2();  // Valid\n\nSuperClass superClass = new SubClass();\nsuperClass.method1();\nsuperClass.method2(); // Compilation Error since Reference is of SuperClass so only SuperClass methods are accessible.\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1175311,"reputation":15568,"user_id":1151456,"accept_rate":83,"display_name":"Abubakkar"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1364111098,"creation_date":1364110727,"answer_id":15596220,"question_id":15596193,"body_markdown":"In both the cases, objects of `subClass` will be created, but the references will be different.\r\n\r\nWith the reference of `superClass` i.e `sc1` , you won&#39;t be able to invoke the methods present in the `subClass` but not in the `superClass`. You will require casting to invoke the `subClass` methods.\r\n\r\nLike :\r\n\r\n\r\n    class superClass {\r\n       public void superClassMethod(){\r\n       }\r\n    }\r\n    \r\n    class subClass extends superClass{\r\n       public void subClassMethod(){\r\n       }\r\n    }\r\n\r\n\r\nNow :\r\n\r\n    public class test\r\n    {\r\n      public static void main(){\r\n    \r\n        superClass sc1 = new subClass();\r\n        subClass sc2 = new subClass();\r\n        //whats the difference between the two objects created using the above code?\r\n         \r\n    \r\n        sc2.subClassMethod(); //this is valid\r\n       \r\n        sc1.subClassMethod(); // this is a compiler error, \r\n                              // as no method named subClassMethod\r\n                              // is present in the superClass as the\r\n                              // reference is of superClass type\r\n    \r\n       // for this you require a type cast\r\n    \r\n       (subClass)sc1.subClassMethod(); // Now this is valid\r\n    \r\n      }\r\n    }","title":"Whats the difference between subClass sc = new subClass() and superClass sc = new subClass?","body":"<p>In both the cases, objects of <code>subClass</code> will be created, but the references will be different.</p>\n\n<p>With the reference of <code>superClass</code> i.e <code>sc1</code> , you won't be able to invoke the methods present in the <code>subClass</code> but not in the <code>superClass</code>. You will require casting to invoke the <code>subClass</code> methods.</p>\n\n<p>Like :</p>\n\n<pre><code>class superClass {\n   public void superClassMethod(){\n   }\n}\n\nclass subClass extends superClass{\n   public void subClassMethod(){\n   }\n}\n</code></pre>\n\n<p>Now :</p>\n\n<pre><code>public class test\n{\n  public static void main(){\n\n    superClass sc1 = new subClass();\n    subClass sc2 = new subClass();\n    //whats the difference between the two objects created using the above code?\n\n\n    sc2.subClassMethod(); //this is valid\n\n    sc1.subClassMethod(); // this is a compiler error, \n                          // as no method named subClassMethod\n                          // is present in the superClass as the\n                          // reference is of superClass type\n\n   // for this you require a type cast\n\n   (subClass)sc1.subClassMethod(); // Now this is valid\n\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1432143,"reputation":6832,"user_id":1354334,"accept_rate":94,"display_name":"Saif"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1364114691,"creation_date":1364114691,"answer_id":15596619,"question_id":15596193,"body_markdown":"just think like this.\r\nwhen you using the parent (super class) reference you will get access to only the things(variable , methods) that parent has. but if you use the reference of child you will get everything that the parent and child have (child inherit properties from parent).","title":"Whats the difference between subClass sc = new subClass() and superClass sc = new subClass?","body":"<p>just think like this.\nwhen you using the parent (super class) reference you will get access to only the things(variable , methods) that parent has. but if you use the reference of child you will get everything that the parent and child have (child inherit properties from parent).</p>\n"},{"tags":[],"owner":{"account_id":3377410,"reputation":5006,"user_id":2835365,"display_name":"Alireza"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1402741886,"creation_date":1402741886,"answer_id":24218987,"question_id":15596193,"body_markdown":"In addition to the above answers, because the constructed object is really an object of type  `SubClass` you can cast it to `SubClass` and call the methods:\r\n\r\n    SuperClass superClass = new SubClass();\r\n    superClass.method1();\r\n    ((SubClass)superClass).method2();","title":"Whats the difference between subClass sc = new subClass() and superClass sc = new subClass?","body":"<p>In addition to the above answers, because the constructed object is really an object of type  <code>SubClass</code> you can cast it to <code>SubClass</code> and call the methods:</p>\n\n<pre><code>SuperClass superClass = new SubClass();\nsuperClass.method1();\n((SubClass)superClass).method2();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20092627,"reputation":671,"user_id":14732792,"display_name":"Rasathurai Karan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640521783,"creation_date":1640498370,"answer_id":70484511,"question_id":15596193,"body_markdown":" \r\n\r\n    public class SuperClass {\r\n        \r\n          public void method1(){\r\n        \r\n          }\r\n    \r\n     public void method3(){\r\n        \r\n          }\r\n    \r\n    \r\n        }\r\n        \r\n        public class SubClass extends SuperClass {\r\n          public void method2()\r\n          {\r\n        \r\n          }\r\n    @override\r\n     public void method3(){\r\n        \r\n          }\r\n        }\r\n        \r\n        SubClass sub = new SubClass();\r\n        sub.method1();  //Valid through inheritance from SuperClass\r\n        sub.method2();  // Valid \r\n        sub.method3();//valid \r\n\r\n    \r\n       superClass sc1 = new subClass();\r\n        superClass.method1();\r\n    superClass.method2();////compilation error: cannot find symbol method\r\n    superClass.method3();//run over ridden version\r\n\r\n    superClass sc1 = new subClass();\r\nYou can invoke all the methods defined in theSuperClass  for the reference sc1, (which is actually holding a Subclass object), \r\nThis is because a subclass instance possesses all the properties of its superclass.\r\n\r\n\r\n\r\nHowever, you CANNOT invoke methods defined in the  subclass for the reference sc1, .\r\n\r\n// CANNOT invoke methods in Subclass as sc1 is a superclass reference\r\n\r\nThis is because sc1 is a reference to the Superclass, which does not know about methods defined in the subclass .\r\n\r\nsc1 is a reference to the Superclass, but holds an object of its subclass . The reference sc1, however, retains its internal identity. In our example, the subclass  overrides methods Method3 . sc1.Method3  invokes the overridden version defined in the subclass , instead of the version defined in superclass. This is because sc1 is in fact holding a subclass object internally.\r\n\r\n","title":"Whats the difference between subClass sc = new subClass() and superClass sc = new subClass?","body":"<pre><code>public class SuperClass {\n    \n      public void method1(){\n    \n      }\n\n public void method3(){\n    \n      }\n\n\n    }\n    \n    public class SubClass extends SuperClass {\n      public void method2()\n      {\n    \n      }\n@override\n public void method3(){\n    \n      }\n    }\n    \n    SubClass sub = new SubClass();\n    sub.method1();  //Valid through inheritance from SuperClass\n    sub.method2();  // Valid \n    sub.method3();//valid \n\n\n   superClass sc1 = new subClass();\n    superClass.method1();\nsuperClass.method2();////compilation error: cannot find symbol method\nsuperClass.method3();//run over ridden version\n\nsuperClass sc1 = new subClass();\n</code></pre>\n<p>You can invoke all the methods defined in theSuperClass  for the reference sc1, (which is actually holding a Subclass object),\nThis is because a subclass instance possesses all the properties of its superclass.</p>\n<p>However, you CANNOT invoke methods defined in the  subclass for the reference sc1, .</p>\n<p>// CANNOT invoke methods in Subclass as sc1 is a superclass reference</p>\n<p>This is because sc1 is a reference to the Superclass, which does not know about methods defined in the subclass .</p>\n<p>sc1 is a reference to the Superclass, but holds an object of its subclass . The reference sc1, however, retains its internal identity. In our example, the subclass  overrides methods Method3 . sc1.Method3  invokes the overridden version defined in the subclass , instead of the version defined in superclass. This is because sc1 is in fact holding a subclass object internally.</p>\n"}],"owner":{"account_id":1502550,"reputation":175,"user_id":1406739,"display_name":"flav"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12753,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":15596211,"answer_count":7,"score":5,"last_activity_date":1686620395,"creation_date":1364110479,"question_id":15596193,"body_markdown":"    class superClass {}\r\n    \r\n    class subClass extends superClass{}\r\n    \r\n    public class test\r\n    {\r\n    \r\n        public static void main()\r\n    \r\n    {\r\n    \r\n        superClass sc1 = new subClass();\r\n        subClass sc2 = new subClass();\r\n        //whats the difference between the two objects created using the above code?\r\n    \r\n    }\r\n    }","title":"Whats the difference between subClass sc = new subClass() and superClass sc = new subClass?","body":"<pre><code>class superClass {}\n\nclass subClass extends superClass{}\n\npublic class test\n{\n\n    public static void main()\n\n{\n\n    superClass sc1 = new subClass();\n    subClass sc2 = new subClass();\n    //whats the difference between the two objects created using the above code?\n\n}\n}\n</code></pre>\n"},{"tags":["java","zipinputstream","gzipinputstream"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1686620934,"post_id":76461195,"comment_id":134820849,"body_markdown":"I don&#39;t think you want to close it. See [here](https://stackoverflow.com/a/50648338/1553851) for how you can delegate `close()` to `closeEntry()`.","body":"I don&#39;t think you want to close it. See <a href=\"https://stackoverflow.com/a/50648338/1553851\">here</a> for how you can delegate <code>close()</code> to <code>closeEntry()</code>."}],"owner":{"account_id":7537904,"reputation":1761,"user_id":5723609,"accept_rate":65,"display_name":"Guo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686620113,"creation_date":1686620113,"question_id":76461195,"body_markdown":"sample code:  \r\n\r\n    import java.io.*;\r\n    import java.util.zip.*;\r\n    \r\n    public class Main {\r\n        public static void main(String[] args) throws IOException {\r\n            try(FileInputStream fileInputStream = new FileInputStream(&quot;xxx.zip&quot;);\r\n                ZipInputStream zipIn = new ZipInputStream(fileInputStream)){\r\n                ZipEntry entry;\r\n                while ((entry = zipIn.getNextEntry()) != null) {\r\n                    try {\r\n                        if (!entry.isDirectory() &amp;&amp; entry.getName().endsWith(&quot;.gz&quot;)) {\r\n                         \r\n                            GZIPInputStream gzipIn = new GZIPInputStream(zipIn);\r\n    \r\n                            // do something\r\n                            // .......\r\n                            // do something\r\n    \r\n                            /*\r\n                             * Do I need to close the GZIPInputStream?\r\n                             * Closing the GZIPInputStream will cause the entire ZipInputStream to be closed.\r\n                             * If it is not closed, will it lead to memory leaks?\r\n                             */\r\n                            gzipIn.close();\r\n    \r\n                        }\r\n                    } finally {\r\n                        zipIn.closeEntry();\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\nHow to do?\r\n","title":"Do I need to close the GZIPInputStream when unpacking the gzip in a zip file?","body":"<p>sample code:</p>\n<pre><code>import java.io.*;\nimport java.util.zip.*;\n\npublic class Main {\n    public static void main(String[] args) throws IOException {\n        try(FileInputStream fileInputStream = new FileInputStream(&quot;xxx.zip&quot;);\n            ZipInputStream zipIn = new ZipInputStream(fileInputStream)){\n            ZipEntry entry;\n            while ((entry = zipIn.getNextEntry()) != null) {\n                try {\n                    if (!entry.isDirectory() &amp;&amp; entry.getName().endsWith(&quot;.gz&quot;)) {\n                     \n                        GZIPInputStream gzipIn = new GZIPInputStream(zipIn);\n\n                        // do something\n                        // .......\n                        // do something\n\n                        /*\n                         * Do I need to close the GZIPInputStream?\n                         * Closing the GZIPInputStream will cause the entire ZipInputStream to be closed.\n                         * If it is not closed, will it lead to memory leaks?\n                         */\n                        gzipIn.close();\n\n                    }\n                } finally {\n                    zipIn.closeEntry();\n                }\n            }\n        }\n    }\n}\n</code></pre>\n<p>How to do?</p>\n"},{"tags":["java","http","apache-commons"],"owner":{"account_id":23184907,"reputation":25,"user_id":17282180,"display_name":"Iosiv"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686619194,"creation_date":1686619194,"question_id":76461156,"body_markdown":"I&#39;m trying to build a method that validates a given host name has the right HTTP format according to RFC 9110 [see here][1]. Basically, i want this:\r\n\r\n```\r\ntest.domain.com -&gt; pass\r\ndomain:port -&gt; pass\r\nuser:pass@test.domain -&gt; fail\r\ntest.domain.com/foo -&gt; fail\r\n```\r\n\r\nMy current implementation is:\r\n\r\n```\r\nboolean isValidHost(String host) {\r\n\tif (host.contains(&quot;/&quot;)) return false;\r\n\treturn UrlValidator.getInstance().isValid(&quot;https://&quot; + host);\r\n}\r\n```\r\nwhere the `UrlValidator` belongs to `org.apache.commons.validator.routines.UrlValidator`. This implementation however accepts the host `user:pass@test.domain`, which is not compliant. Any hints of a better approach?\r\n\r\nNote: I rather use a library than custom solutions like regex.\r\n\r\n  [1]: https://datatracker.ietf.org/doc/html/rfc9110#name-host-and-authority","title":"Validate Host name for HTTP standard compliance in Java","body":"<p>I'm trying to build a method that validates a given host name has the right HTTP format according to RFC 9110 <a href=\"https://datatracker.ietf.org/doc/html/rfc9110#name-host-and-authority\" rel=\"nofollow noreferrer\">see here</a>. Basically, i want this:</p>\n<pre><code>test.domain.com -&gt; pass\ndomain:port -&gt; pass\nuser:pass@test.domain -&gt; fail\ntest.domain.com/foo -&gt; fail\n</code></pre>\n<p>My current implementation is:</p>\n<pre><code>boolean isValidHost(String host) {\n    if (host.contains(&quot;/&quot;)) return false;\n    return UrlValidator.getInstance().isValid(&quot;https://&quot; + host);\n}\n</code></pre>\n<p>where the <code>UrlValidator</code> belongs to <code>org.apache.commons.validator.routines.UrlValidator</code>. This implementation however accepts the host <code>user:pass@test.domain</code>, which is not compliant. Any hints of a better approach?</p>\n<p>Note: I rather use a library than custom solutions like regex.</p>\n"},{"tags":["java","selenium-webdriver","htmlunit","nosuchelementexception","htmlunit-driver"],"comments":[{"owner":{"account_id":3716127,"reputation":18090,"user_id":3092298,"accept_rate":84,"display_name":"Greg Burghardt"},"score":0,"creation_date":1595101207,"post_id":62968163,"comment_id":111360399,"body_markdown":"After you getting an error message?","body":"After you getting an error message?"},{"owner":{"account_id":10049107,"reputation":186647,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"score":0,"creation_date":1595104311,"post_id":62968163,"comment_id":111361263,"body_markdown":"@AnirudhTEAM You haven&#39;t told us where you are stuck. Your code works at my end.","body":"@AnirudhTEAM You haven&#39;t told us where you are stuck. Your code works at my end."}],"answers":[{"tags":[],"owner":{"account_id":10049107,"reputation":186647,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1595189394,"creation_date":1595189394,"answer_id":62985147,"question_id":62968163,"body_markdown":"Ideally, to use [tag:htmlunit-driver] you need to download [**htmlunit-driver-2.42.0-jar-with-dependencies.jar**](https://github.com/SeleniumHQ/htmlunit-driver/releases/tag/2.42.0) the [latest release](https://github.com/SeleniumHQ/htmlunit-driver/releases) as of today.\r\n\r\nThe below code block works perfect at my end:\r\n\r\n\timport org.openqa.selenium.By;\r\n\timport org.openqa.selenium.htmlunit.HtmlUnitDriver;\r\n\timport org.openqa.selenium.support.ui.ExpectedConditions;\r\n\timport org.openqa.selenium.support.ui.WebDriverWait;\r\n\r\n\tpublic class HtmlUnitDriverDemo {\r\n\r\n\t\tpublic static void main(String[] args) {\r\n\r\n\t\t    HtmlUnitDriver driver = new HtmlUnitDriver();\r\n\t\t    driver.get(&quot;https://www.vignanits.ac.in/server/moodle/login/index.php&quot;);\r\n\t\t    System.out.println(driver.getCurrentUrl()+driver.getTitle()); \r\n\t\t    new WebDriverWait(driver, 20).until(ExpectedConditions.elementToBeClickable(By.id(&quot;username&quot;)));\r\n\t\t    driver.findElement(By.id(&quot;password&quot;)).sendKeys(&quot;xyz&quot;);\r\n\t\t    driver.findElement(By.id(&quot;loginbtn&quot;)).click();\r\n\t\t}\r\n\t}\r\n\t\r\nConsole Output:\r\n\r\n\thttps://www.vignanits.ac.in/server/moodle/login/index.phpVIGNAN MOODLE: Log in to the site\r\n\r\n\r\n----------\r\n\r\n\r\n\t\r\nReference\r\n---------\r\nYou can find a detailed discussion on [NoSuchElementException](https://stackoverflow.com/questions/46202283/exception-in-thread-main-org-openqa-selenium-nosuchelementexception-unable-to/46212233#46212233) in:\r\n\r\n- [NoSuchElementException, Selenium unable to locate element](https://stackoverflow.com/questions/48471321/nosuchelementexception-selenium-unable-to-locate-element/48472940#48472940)","title":"How to send the login credentials using HtmlUnitDriver and Selenium Java","body":"<p>Ideally, to use <a href=\"/questions/tagged/htmlunit-driver\" class=\"post-tag\" title=\"show questions tagged &#39;htmlunit-driver&#39;\" rel=\"tag\">htmlunit-driver</a> you need to download <a href=\"https://github.com/SeleniumHQ/htmlunit-driver/releases/tag/2.42.0\" rel=\"nofollow noreferrer\"><strong>htmlunit-driver-2.42.0-jar-with-dependencies.jar</strong></a> the <a href=\"https://github.com/SeleniumHQ/htmlunit-driver/releases\" rel=\"nofollow noreferrer\">latest release</a> as of today.</p>\n<p>The below code block works perfect at my end:</p>\n<pre><code>import org.openqa.selenium.By;\nimport org.openqa.selenium.htmlunit.HtmlUnitDriver;\nimport org.openqa.selenium.support.ui.ExpectedConditions;\nimport org.openqa.selenium.support.ui.WebDriverWait;\n\npublic class HtmlUnitDriverDemo {\n\n    public static void main(String[] args) {\n\n        HtmlUnitDriver driver = new HtmlUnitDriver();\n        driver.get(&quot;https://www.vignanits.ac.in/server/moodle/login/index.php&quot;);\n        System.out.println(driver.getCurrentUrl()+driver.getTitle()); \n        new WebDriverWait(driver, 20).until(ExpectedConditions.elementToBeClickable(By.id(&quot;username&quot;)));\n        driver.findElement(By.id(&quot;password&quot;)).sendKeys(&quot;xyz&quot;);\n        driver.findElement(By.id(&quot;loginbtn&quot;)).click();\n    }\n}\n</code></pre>\n<p>Console Output:</p>\n<pre><code>https://www.vignanits.ac.in/server/moodle/login/index.phpVIGNAN MOODLE: Log in to the site\n</code></pre>\n<hr />\n<h2>Reference</h2>\n<p>You can find a detailed discussion on <a href=\"https://stackoverflow.com/questions/46202283/exception-in-thread-main-org-openqa-selenium-nosuchelementexception-unable-to/46212233#46212233\">NoSuchElementException</a> in:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/48471321/nosuchelementexception-selenium-unable-to-locate-element/48472940#48472940\">NoSuchElementException, Selenium unable to locate element</a></li>\n</ul>\n"}],"owner":{"account_id":19105763,"reputation":11,"user_id":13952947,"display_name":"AnirudhTEAM"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":332,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1686618188,"creation_date":1595072735,"question_id":62968163,"body_markdown":"I&#39;m tring to send the login credentials within the username and password field https://www.vignanits.ac.in/server/moodle/login/index.php which needed to be automated using HtmlUnitDriver but facing NoSuchElementException.\r\n\r\nCode trials:\r\n\r\n```\r\npackage leela;\r\n\r\nimport org.openqa.selenium.By;\r\nimport org.openqa.selenium.htmlunit.HtmlUnitDriver;\r\n\r\nimport com.gargoylesoftware.htmlunit.WebClient;\r\n\r\npublic class LeelaHtmlUnit {\r\n\r\n\tpublic static void main(String[] args) throws InterruptedException {\r\n\t\t\r\n\t\tHtmlUnitDriver driver = new HtmlUnitDriver(true);\r\n\t\tdriver.get(&quot;https://www.vignanits.ac.in/server/moodle/login/index.php&quot;);\r\n\t\tSystem.out.println(driver.getCurrentUrl()+driver.getTitle()); \r\n\t\tdriver.findElement(By.id(&quot;username&quot;)).sendKeys(&quot;xyz&quot;);\r\n\t\tdriver.findElement(By.id(&quot;password&quot;)).sendKeys(&quot;xyz&quot;);\r\n\t\tdriver.findElement(By.id(&quot;loginbtn&quot;)).click();\r\n\t\tSystem.out.println(driver.getCurrentUrl()+driver.getTitle());\r\n\t}\r\n\r\n}\r\n```","title":"How to send the login credentials using HtmlUnitDriver and Selenium Java","body":"<p>I'm tring to send the login credentials within the username and password field <a href=\"https://www.vignanits.ac.in/server/moodle/login/index.php\" rel=\"nofollow noreferrer\">https://www.vignanits.ac.in/server/moodle/login/index.php</a> which needed to be automated using HtmlUnitDriver but facing NoSuchElementException.</p>\n<p>Code trials:</p>\n<pre><code>package leela;\n\nimport org.openqa.selenium.By;\nimport org.openqa.selenium.htmlunit.HtmlUnitDriver;\n\nimport com.gargoylesoftware.htmlunit.WebClient;\n\npublic class LeelaHtmlUnit {\n\n    public static void main(String[] args) throws InterruptedException {\n        \n        HtmlUnitDriver driver = new HtmlUnitDriver(true);\n        driver.get(&quot;https://www.vignanits.ac.in/server/moodle/login/index.php&quot;);\n        System.out.println(driver.getCurrentUrl()+driver.getTitle()); \n        driver.findElement(By.id(&quot;username&quot;)).sendKeys(&quot;xyz&quot;);\n        driver.findElement(By.id(&quot;password&quot;)).sendKeys(&quot;xyz&quot;);\n        driver.findElement(By.id(&quot;loginbtn&quot;)).click();\n        System.out.println(driver.getCurrentUrl()+driver.getTitle());\n    }\n\n}\n</code></pre>\n"},{"tags":["java","sum"],"comments":[{"owner":{"account_id":2366187,"reputation":60162,"user_id":2071828,"accept_rate":88,"display_name":"Boris the Spider"},"score":3,"creation_date":1483707145,"post_id":41506150,"comment_id":70217650,"body_markdown":"`sum = sum + i` - you seem to have missed the negatives.","body":"<code>sum = sum + i</code> - you seem to have missed the negatives."},{"owner":{"account_id":8803007,"reputation":57,"user_id":6578533,"accept_rate":60,"display_name":"Anna Nikolova"},"score":0,"creation_date":1483707213,"post_id":41506150,"comment_id":70217695,"body_markdown":"@BoristheSpider Yeah, that is my main problem","body":"@BoristheSpider Yeah, that is my main problem"},{"owner":{"account_id":7517740,"reputation":7252,"user_id":5710637,"display_name":"fafl"},"score":2,"creation_date":1483707268,"post_id":41506150,"comment_id":70217726,"body_markdown":"You can get it directly with `sum = n % 2 == 0 ? -n : n`","body":"You can get it directly with <code>sum = n % 2 == 0 ? -n : n</code>"},{"owner":{"account_id":2366187,"reputation":60162,"user_id":2071828,"accept_rate":88,"display_name":"Boris the Spider"},"score":4,"creation_date":1483707285,"post_id":41506150,"comment_id":70217737,"body_markdown":"Also note that `1 - 3 + 5 - 7 + 9 - 11 + 13 ... = 1 + (5 - 3) + (9 - 7) + (13 - 11) ... = 1 + 2 + 2 + 2 ...`.","body":"Also note that <code>1 - 3 + 5 - 7 + 9 - 11 + 13 ... = 1 + (5 - 3) + (9 - 7) + (13 - 11) ... = 1 + 2 + 2 + 2 ...</code>."},{"owner":{"account_id":6138731,"reputation":716,"user_id":4786769,"display_name":"Robin Koch"},"score":0,"creation_date":1483707478,"post_id":41506150,"comment_id":70217870,"body_markdown":"Given `n := 4` is the answer suppoed to be `1-3 = -2` or `1-3+5-7 = -4`?","body":"Given <code>n := 4</code> is the answer suppoed to be <code>1-3 = -2</code> or <code>1-3+5-7 = -4</code>?"},{"owner":{"account_id":8803007,"reputation":57,"user_id":6578533,"accept_rate":60,"display_name":"Anna Nikolova"},"score":0,"creation_date":1483707518,"post_id":41506150,"comment_id":70217896,"body_markdown":"@BoristheSpider Thank you! I will try to think about your suggestion :)","body":"@BoristheSpider Thank you! I will try to think about your suggestion :)"},{"owner":{"account_id":7517740,"reputation":7252,"user_id":5710637,"display_name":"fafl"},"score":2,"creation_date":1483707589,"post_id":41506150,"comment_id":70217944,"body_markdown":"Guys, the results are 1, -2, 3, -4, 5, -6 and so on. It&#39;s just `n` with every even number being negative.","body":"Guys, the results are 1, -2, 3, -4, 5, -6 and so on. It&#39;s just <code>n</code> with every even number being negative."},{"owner":{"account_id":8803007,"reputation":57,"user_id":6578533,"accept_rate":60,"display_name":"Anna Nikolova"},"score":1,"creation_date":1483707591,"post_id":41506150,"comment_id":70217945,"body_markdown":"@RobinKoch The first one","body":"@RobinKoch The first one"},{"owner":{"account_id":6138731,"reputation":716,"user_id":4786769,"display_name":"Robin Koch"},"score":0,"creation_date":1483707920,"post_id":41506150,"comment_id":70218134,"body_markdown":"@dasblinkenlight A math based solution would be `return math.pow(-1, n%2+1)*n` (for n given the number of summands which is not the assignment accoriding to Anna)","body":"@dasblinkenlight A math based solution would be <code>return math.pow(-1, n%2+1)*n</code> (for n given the number of summands which is not the assignment accoriding to Anna)"},{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":0,"creation_date":1686621571,"post_id":41506150,"comment_id":134820900,"body_markdown":"`-n * (1-2*(n&amp;1))`. Don&#39;t use that if you don&#39;t understand it.","body":"<code>-n * (1-2*(n&amp;1))</code>. Don&#39;t use that if you don&#39;t understand it."}],"answers":[{"comments":[{"owner":{"account_id":8803007,"reputation":57,"user_id":6578533,"accept_rate":60,"display_name":"Anna Nikolova"},"score":0,"creation_date":1483707981,"post_id":41506309,"comment_id":70218185,"body_markdown":"@shantaram_t It works!!! Thank you! But I have a question: why i % 4 == 1?","body":"@shantaram_t It works!!! Thank you! But I have a question: why i % 4 == 1?"},{"owner":{"account_id":4180238,"reputation":1666,"user_id":3425489,"accept_rate":58,"display_name":"Shantaram Tupe"},"score":1,"creation_date":1483708278,"post_id":41506309,"comment_id":70218373,"body_markdown":"bcoz `( i % 4 == 1 )`  gives you no. to be add e.g.  `1 = ( i%4 == 1)`  , `5 = ( i%4 == 1)` , `9 = ( i%4 == 1)`  and so on and rest of the numbers  i.e. `i%2 != 0` e.g `3 = ( i%2 != 1)` , `7 = ( i%2 != 1)` you are substracting","body":"bcoz <code>( i % 4 == 1 )</code>  gives you no. to be add e.g.  <code>1 = ( i%4 == 1)</code>  , <code>5 = ( i%4 == 1)</code> , <code>9 = ( i%4 == 1)</code>  and so on and rest of the numbers  i.e. <code>i%2 != 0</code> e.g <code>3 = ( i%2 != 1)</code> , <code>7 = ( i%2 != 1)</code> you are substracting"},{"owner":{"account_id":4180238,"reputation":1666,"user_id":3425489,"accept_rate":58,"display_name":"Shantaram Tupe"},"score":1,"creation_date":1483709506,"post_id":41506309,"comment_id":70219139,"body_markdown":"@AnnaNikolova I have removed condition checking `(i % 2 != 0)` since incrementing loop by `i+=2`","body":"@AnnaNikolova I have removed condition checking <code>(i % 2 != 0)</code> since incrementing loop by <code>i+=2</code>"},{"owner":{"account_id":4180238,"reputation":1666,"user_id":3425489,"accept_rate":58,"display_name":"Shantaram Tupe"},"score":0,"creation_date":1483710290,"post_id":41506309,"comment_id":70219651,"body_markdown":"@dasblinkenlight sir, you are taking it as wrong, you can correct me If I&#39;m wrong","body":"@dasblinkenlight sir, you are taking it as wrong, you can correct me If I&#39;m wrong"},{"owner":{"account_id":4180238,"reputation":1666,"user_id":3425489,"accept_rate":58,"display_name":"Shantaram Tupe"},"score":0,"creation_date":1483711621,"post_id":41506309,"comment_id":70220444,"body_markdown":"@dasblinkenlight sir, I have given answer...check and let me know","body":"@dasblinkenlight sir, I have given answer...check and let me know"},{"owner":{"account_id":4180238,"reputation":1666,"user_id":3425489,"accept_rate":58,"display_name":"Shantaram Tupe"},"score":0,"creation_date":1483711767,"post_id":41506309,"comment_id":70220553,"body_markdown":"@dasblinkenlight  no issue sir, because of My bad English I did not got your previous comment, that you explained","body":"@dasblinkenlight  no issue sir, because of My bad English I did not got your previous comment, that you explained"},{"owner":{"account_id":2366187,"reputation":60162,"user_id":2071828,"accept_rate":88,"display_name":"Boris the Spider"},"score":1,"creation_date":1483722875,"post_id":41506309,"comment_id":70227513,"body_markdown":"I think the point that [fafl was making](https://stackoverflow.com/questions/41506150/sum-of-odd-numbers/41506554#comment70217726_41506150) is that the sum of that series produces `1, -2, 3, -4, 5` as the result so you don&#39;t need a loop or anything like that, you need to return `n`, multiplied by `-1` if `n` is even...","body":"I think the point that <a href=\"https://stackoverflow.com/questions/41506150/sum-of-odd-numbers/41506554#comment70217726_41506150\">fafl was making</a> is that the sum of that series produces <code>1, -2, 3, -4, 5</code> as the result so you don&#39;t need a loop or anything like that, you need to return <code>n</code>, multiplied by <code>-1</code> if <code>n</code> is even..."},{"owner":{"account_id":4180238,"reputation":1666,"user_id":3425489,"accept_rate":58,"display_name":"Shantaram Tupe"},"score":0,"creation_date":1483769049,"post_id":41506309,"comment_id":70242884,"body_markdown":"@BoristheSpider fafl&#39;s answer is short and sweet , I don&#39;t need to use loop for that","body":"@BoristheSpider fafl&#39;s answer is short and sweet , I don&#39;t need to use loop for that"}],"tags":[],"owner":{"account_id":4180238,"reputation":1666,"user_id":3425489,"accept_rate":58,"display_name":"Shantaram Tupe"},"comment_count":8,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1483769190,"creation_date":1483707604,"answer_id":41506309,"question_id":41506150,"body_markdown":"May be you want this\r\n\r\nIf I enter **i/p 7** this will produce **-4 as o/p**\r\n\r\n    for (int i = 1; i &lt;= n; i+=2) {\r\n            if( i % 4 == 1 )\r\n                sum = sum + i;\r\n            else\r\n                sum = sum - i;\r\n    }\r\n\r\nin  @fafl style (Using Ternary operator), correct me if I&#39;m wrong\r\n\r\n    sum += (i % 2 != 0) ? ( i % 4 == 1 ) ? + i : - i;\r\n\r\nIf I enter **i/p 7** this will produce **7 as o/p**\r\n\r\n    \t\tint n = input.nextInt();\r\n\t\t    int sum = 0;\r\n\t\t    int addOrDedduct = 1;\r\n\t\t    for (int i = 1; i &lt;= n; i++ ) {\r\n\t\t            if( addOrDedduct % 4 == 1 )\r\n\t\t                sum = sum + addOrDedduct;\r\n\t\t            else\r\n\t\t                sum = sum - addOrDedduct;\r\n\t\t            addOrDedduct+=2;\r\n\t\t    }\r\n\t\t    System.out.println(sum);\r\n**Update:**  \r\nfafl&#39;s statement `sum = n % 2 == 0 ? -n : n` producing same o/p, Here you don&#39;t need to use `loop`   \r\nForget about the loop and use fafl&#39;s answer.  \r\n","title":"Sum of odd numbers","body":"<p>May be you want this</p>\n\n<p>If I enter <strong>i/p 7</strong> this will produce <strong>-4 as o/p</strong></p>\n\n<pre><code>for (int i = 1; i &lt;= n; i+=2) {\n        if( i % 4 == 1 )\n            sum = sum + i;\n        else\n            sum = sum - i;\n}\n</code></pre>\n\n<p>in  @fafl style (Using Ternary operator), correct me if I'm wrong</p>\n\n<pre><code>sum += (i % 2 != 0) ? ( i % 4 == 1 ) ? + i : - i;\n</code></pre>\n\n<p>If I enter <strong>i/p 7</strong> this will produce <strong>7 as o/p</strong></p>\n\n<pre><code>        int n = input.nextInt();\n        int sum = 0;\n        int addOrDedduct = 1;\n        for (int i = 1; i &lt;= n; i++ ) {\n                if( addOrDedduct % 4 == 1 )\n                    sum = sum + addOrDedduct;\n                else\n                    sum = sum - addOrDedduct;\n                addOrDedduct+=2;\n        }\n        System.out.println(sum);\n</code></pre>\n\n<p><strong>Update:</strong><br>\nfafl's statement <code>sum = n % 2 == 0 ? -n : n</code> producing same o/p, Here you don't need to use <code>loop</code><br>\nForget about the loop and use fafl's answer.  </p>\n"},{"tags":[],"owner":{"account_id":9880033,"reputation":191,"user_id":7316434,"display_name":"ErikWe"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1483707991,"creation_date":1483707991,"answer_id":41506409,"question_id":41506150,"body_markdown":"You can do this with an extra variable to check if you have to add or to subtract:\r\n\r\n        int sum = 0;\r\n\t\tboolean sub = false;\r\n\t\tfor (int i = 1; i &lt;= n; i++) {\r\n\t\t\tif (i % 2 == 1) {\r\n\t\t\t\tif (sub) {\r\n\t\t\t\t\tsum -= i;\r\n\t\t\t\t\tsub = false;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tsum += i;\r\n\t\t\t\t\tsub = true;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\nThis solution is a bit hacky but it should work.","title":"Sum of odd numbers","body":"<p>You can do this with an extra variable to check if you have to add or to subtract:</p>\n\n<pre><code>    int sum = 0;\n    boolean sub = false;\n    for (int i = 1; i &lt;= n; i++) {\n        if (i % 2 == 1) {\n            if (sub) {\n                sum -= i;\n                sub = false;\n            } else {\n                sum += i;\n                sub = true;\n            }\n        }\n    }\n</code></pre>\n\n<p>This solution is a bit hacky but it should work.</p>\n"},{"comments":[{"owner":{"account_id":9981215,"reputation":84,"user_id":7384101,"display_name":"Bob"},"score":1,"creation_date":1483708473,"post_id":41506422,"comment_id":70218500,"body_markdown":"@BoristheSpider maby i didnt get the question but if n=3 and the answer is 3 because if u get the sum of :1 - 3 + 5 - 7 + 9 - 11 + 13... till the 3rd diggit u get 1-3+5=3","body":"@BoristheSpider maby i didnt get the question but if n=3 and the answer is 3 because if u get the sum of :1 - 3 + 5 - 7 + 9 - 11 + 13... till the 3rd diggit u get 1-3+5=3"},{"owner":{"account_id":2366187,"reputation":60162,"user_id":2071828,"accept_rate":88,"display_name":"Boris the Spider"},"score":0,"creation_date":1483708539,"post_id":41506422,"comment_id":70218541,"body_markdown":"I think you are right; have a vote. But I think you need to explain your logic, then post code, then explain the code. Especially when answering a beginner&#39;s question.","body":"I think you are right; have a vote. But I think you need to explain your logic, then post code, then explain the code. Especially when answering a beginner&#39;s question."},{"owner":{"account_id":9981215,"reputation":84,"user_id":7384101,"display_name":"Bob"},"score":0,"creation_date":1483708714,"post_id":41506422,"comment_id":70218657,"body_markdown":"OK ur right ;)\nbut she said that shantaram_t answer is right so i didnt get the question because it&#39;s not the same sum","body":"OK ur right ;) but she said that shantaram_t answer is right so i didnt get the question because it&#39;s not the same sum"},{"owner":{"account_id":6138731,"reputation":716,"user_id":4786769,"display_name":"Robin Koch"},"score":2,"creation_date":1483708907,"post_id":41506422,"comment_id":70218762,"body_markdown":"I have a truly remarkable proof by induction of this which this comment is too small to contain.","body":"I have a truly remarkable proof by induction of this which this comment is too small to contain."}],"tags":[],"owner":{"account_id":9981215,"reputation":84,"user_id":7384101,"display_name":"Bob"},"comment_count":4,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1483708041,"creation_date":1483708041,"answer_id":41506422,"question_id":41506150,"body_markdown":"Fafl is right with\r\nsum = n % 2 == 0 ? -n : n\r\n","title":"Sum of odd numbers","body":"<p>Fafl is right with\nsum = n % 2 == 0 ? -n : n</p>\n"},{"comments":[{"owner":{"account_id":6138731,"reputation":716,"user_id":4786769,"display_name":"Robin Koch"},"score":0,"creation_date":1483708673,"post_id":41506554,"comment_id":70218624,"body_markdown":"I would vote for either `int sign = -1` and `sum = sum + sign * i` or `sum = negative ? sum+i : sum-i`, you don&#39;t need to test a boolean against `true`.","body":"I would vote for either <code>int sign = -1</code> and <code>sum = sum + sign * i</code> or <code>sum = negative ? sum+i : sum-i</code>, you don&#39;t need to test a boolean against <code>true</code>."},{"owner":{"account_id":2366187,"reputation":60162,"user_id":2071828,"accept_rate":88,"display_name":"Boris the Spider"},"score":0,"creation_date":1483708755,"post_id":41506554,"comment_id":70218677,"body_markdown":"If you ever find yourself writing `positive == true`, i.e. testing a `boolean` against `true`, then you have gone wrong somewhere along the line.","body":"If you ever find yourself writing <code>positive == true</code>, i.e. testing a <code>boolean</code> against <code>true</code>, then you have gone wrong somewhere along the line."},{"owner":{"account_id":6609894,"reputation":125,"user_id":5105437,"accept_rate":80,"display_name":"Levan"},"score":0,"creation_date":1483708941,"post_id":41506554,"comment_id":70218789,"body_markdown":"That&#39;s true. I changed it.","body":"That&#39;s true. I changed it."}],"tags":[],"owner":{"account_id":6609894,"reputation":125,"user_id":5105437,"accept_rate":80,"display_name":"Levan"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1483708916,"creation_date":1483708439,"answer_id":41506554,"question_id":41506150,"body_markdown":"    Scanner input = new Scanner(System.in);\r\n\t\tSystem.out.println(&quot;Enter n= &quot;);\r\n\t\tint n = input.nextInt();\r\n\t\tint sum=0;\r\n\t\tboolean positive=false;\r\n\r\n\t\tfor(int i=1;i&lt;=n;i+=2){\r\n\t\t\tpositive=!positive;\r\n\t\t\tsum = positive? sum+i : sum-i; \r\n\t\t}\r\n\t\tSystem.out.println(sum);\r\n\t}\r\n","title":"Sum of odd numbers","body":"<pre><code>Scanner input = new Scanner(System.in);\n    System.out.println(\"Enter n= \");\n    int n = input.nextInt();\n    int sum=0;\n    boolean positive=false;\n\n    for(int i=1;i&lt;=n;i+=2){\n        positive=!positive;\n        sum = positive? sum+i : sum-i; \n    }\n    System.out.println(sum);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6138731,"reputation":716,"user_id":4786769,"display_name":"Robin Koch"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1483708451,"creation_date":1483708451,"answer_id":41506557,"question_id":41506150,"body_markdown":"Using a for-loop, no modulo arithmitic:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    int sum = 0\r\n    for (int i = 1; math.abs(i) &lt;= n; i = -math.signum(i)*(math.abs(i)+2)) {\r\n            sum += i;\r\n        }\r\n    system.out.println(sum)","title":"Sum of odd numbers","body":"<p>Using a for-loop, no modulo arithmitic:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>int sum = 0\nfor (int i = 1; math.abs(i) &lt;= n; i = -math.signum(i)*(math.abs(i)+2)) {\n        sum += i;\n    }\nsystem.out.println(sum)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28801793,"reputation":1,"user_id":22058499,"display_name":"user22058499"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686617922,"creation_date":1686544236,"answer_id":76453658,"question_id":41506150,"body_markdown":"You can refer to the below code, if you want.\r\n    \r\n    package java.programs;\r\n     \r\n    import java.util.*;\r\n     \r\n    public class OddNumberSum {\r\n        public static void main(String args[]) {\r\n            int N, i, sum = 0;\r\n     \r\n            Scanner in = new Scanner(System.in);\r\n            System.out.println(&quot;Enter a number&quot;);\r\n            N = in.nextInt();\r\n     \r\n            for(i = 0; i &lt;= N; i++){\r\n                if((i%2) == 1){\r\n                    sum += i;\r\n                }\r\n            }\r\n         \r\n            System.out.print(&quot;Sum of all odd numbers \r\n               between 0 to &quot; + N + &quot; = &quot; + sum);\r\n        }\r\n    }","title":"Sum of odd numbers","body":"<p>You can refer to the below code, if you want.</p>\n<pre><code>package java.programs;\n \nimport java.util.*;\n \npublic class OddNumberSum {\n    public static void main(String args[]) {\n        int N, i, sum = 0;\n \n        Scanner in = new Scanner(System.in);\n        System.out.println(&quot;Enter a number&quot;);\n        N = in.nextInt();\n \n        for(i = 0; i &lt;= N; i++){\n            if((i%2) == 1){\n                sum += i;\n            }\n        }\n     \n        System.out.print(&quot;Sum of all odd numbers \n           between 0 to &quot; + N + &quot; = &quot; + sum);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":8803007,"reputation":57,"user_id":6578533,"accept_rate":60,"display_name":"Anna Nikolova"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8317,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":41506309,"answer_count":6,"score":0,"last_activity_date":1686617922,"creation_date":1483707021,"question_id":41506150,"body_markdown":"You are given the sum 1 - 3 + 5 - 7 + 9 - 11 + 13... You should compile a program that (given integer N) finds and displays the value of the sum to the N-th addend.\r\n\r\nI don&#39;t even have an idea how this program should be. I&#39;ve written some code but  don&#39;t know what to add. Please, can you help me? :) \r\n\r\nHere is my code: \r\n\r\n    Scanner input = new Scanner(System.in);\r\n        \r\n    System.out.print(&quot;n = &quot;);\r\n    int n = input.nextInt();\r\n    int sum = 0;\r\n        \r\n    for (int i = 1; i &lt;= n; i++) {       \r\n        if (i % 2 != 0) {\r\n            sum = sum + i;\r\n        }\r\n    }\r\n        \r\n    System.out.println(sum);","title":"Sum of odd numbers","body":"<p>You are given the sum 1 - 3 + 5 - 7 + 9 - 11 + 13... You should compile a program that (given integer N) finds and displays the value of the sum to the N-th addend.</p>\n\n<p>I don't even have an idea how this program should be. I've written some code but  don't know what to add. Please, can you help me? :) </p>\n\n<p>Here is my code: </p>\n\n<pre><code>Scanner input = new Scanner(System.in);\n\nSystem.out.print(\"n = \");\nint n = input.nextInt();\nint sum = 0;\n\nfor (int i = 1; i &lt;= n; i++) {       \n    if (i % 2 != 0) {\n        sum = sum + i;\n    }\n}\n\nSystem.out.println(sum);\n</code></pre>\n"},{"tags":["java","tomcat"],"owner":{"account_id":26287513,"reputation":1,"user_id":19954974,"display_name":"Kishor kumar K"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686617792,"creation_date":1686415873,"question_id":76447216,"body_markdown":"As this is my first time configuring client hints, I am having a hard time getting the exact configuration in Tomcat server. Could you please assist me with this issue if you can? below hints have to configure in server side \r\n\r\n```\r\n Accept-CH: sec-ch-ua-platform-version,sec-ch-ua-full-version,sec-ch-ua-full-version-list,sec-ch-ua-model,sec-ch-ua-arch,sec-ch-ua-bitness, sec-ch-ua-wow64\r\n```","title":"How do I set the Accept-CH:sec-ch-ua-platform-version,sec-ch-ua-full-version in Tomcat server level?","body":"<p>As this is my first time configuring client hints, I am having a hard time getting the exact configuration in Tomcat server. Could you please assist me with this issue if you can? below hints have to configure in server side</p>\n<pre><code> Accept-CH: sec-ch-ua-platform-version,sec-ch-ua-full-version,sec-ch-ua-full-version-list,sec-ch-ua-model,sec-ch-ua-arch,sec-ch-ua-bitness, sec-ch-ua-wow64\n</code></pre>\n"},{"tags":["java","json","mongodb","kotlin"],"comments":[{"owner":{"account_id":13141180,"reputation":4284,"user_id":9492730,"display_name":"dododo"},"score":0,"creation_date":1686509527,"post_id":76431033,"comment_id":134804817,"body_markdown":"try to return simple `BsonDocument`s (without deserialization with `Person.class`) and print what result you have. It will allow you to see what documents you actually receive and whether it has anything with serialization at all or it&#39;s something different","body":"try to return simple <code>BsonDocument</code>s (without deserialization with <code>Person.class</code>) and print what result you have. It will allow you to see what documents you actually receive and whether it has anything with serialization at all or it&#39;s something different"},{"owner":{"account_id":13141180,"reputation":4284,"user_id":9492730,"display_name":"dododo"},"score":0,"creation_date":1686509609,"post_id":76431033,"comment_id":134804829,"body_markdown":"also, you should provide a filter you use","body":"also, you should provide a filter you use"},{"owner":{"account_id":16962007,"reputation":1665,"user_id":12268910,"display_name":"java12399900"},"score":0,"creation_date":1686558039,"post_id":76431033,"comment_id":134809339,"body_markdown":"I am able to return the document correctly no problem. Can you provide an answer on how to use the coderegistry in my scenario?","body":"I am able to return the document correctly no problem. Can you provide an answer on how to use the coderegistry in my scenario?"},{"owner":{"account_id":13141180,"reputation":4284,"user_id":9492730,"display_name":"dododo"},"score":0,"creation_date":1686558550,"post_id":76431033,"comment_id":134809454,"body_markdown":"my question was whether the bson document corresponds to what fields you have in your class? I&#39;m not a java developer, but your case looks pretty straightforward if they match. Have you looked at https://stackoverflow.com/a/70718741/9492730?","body":"my question was whether the bson document corresponds to what fields you have in your class? I&#39;m not a java developer, but your case looks pretty straightforward if they match. Have you looked at <a href=\"https://stackoverflow.com/a/70718741/9492730\">stackoverflow.com/a/70718741/9492730</a>?"},{"owner":{"account_id":13141180,"reputation":4284,"user_id":9492730,"display_name":"dododo"},"score":0,"creation_date":1686558740,"post_id":76431033,"comment_id":134809493,"body_markdown":"Also, not sure about `JsonProperty` in java, in c# this property is called `BsonProperty`. Will it work if you replace it?","body":"Also, not sure about <code>JsonProperty</code> in java, in c# this property is called <code>BsonProperty</code>. Will it work if you replace it?"},{"owner":{"account_id":13141180,"reputation":4284,"user_id":9492730,"display_name":"dododo"},"score":0,"creation_date":1686558803,"post_id":76431033,"comment_id":134809504,"body_markdown":"see here https://www.mongodb.com/developer/languages/java/java-mapping-pojos/","body":"see here <a href=\"https://www.mongodb.com/developer/languages/java/java-mapping-pojos/\" rel=\"nofollow noreferrer\">mongodb.com/developer/languages/java/java-mapping-pojos</a>"}],"answers":[{"tags":[],"owner":{"account_id":2073393,"reputation":2457,"user_id":1847378,"display_name":"AndrewL"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1686617514,"creation_date":1686617514,"answer_id":76461093,"question_id":76431033,"body_markdown":"Below is some working code where you can see that I write to the DB and read back data.\r\n\r\nSeveral things are not clear in your question which may either explain why your attempt did not work, or I have misunderstood your requirement.\r\n\r\n#### `Person` class\r\n`Person` is a POJO - for this you probably don&#39;t want to use a straight `class`. In the way created it is awkward to construct the `Person` - I had to create a little helper method as there is no constructor in your class:\r\n\r\n```lang-java\r\nprivate static Person makePerson(String id, String type, int age) {\r\n    Person p = new Person();\r\n    p.setPersonID(id);\r\n    p.setType(type);\r\n    p.setAge(age);\r\n    return p;\r\n}\r\n```\r\n\r\nWhereas, if you make a few small alterations and use a `data class` then this implicitly gives you a constructor, `toString()`, `hashCode()`:\r\n```lang-kotlin\r\n@JsonInclude(JsonInclude.Include.NON_NULL)\r\ndata class Person (     //&lt;&lt; round brackets\r\n\r\n    @JsonProperty(&quot;_id&quot;)\r\n    var personID: String? = null,  //&lt;&lt; comma\r\n\r\n    @JsonProperty(&quot;name&quot;)\r\n    var type: String? = null,\r\n\r\n    @JsonProperty(&quot;age&quot;)\r\n    var age: Int? = null,\r\n\r\n)\r\n```\r\n\r\n#### Codec setup\r\n I don&#39;t think you have your Codecs setup in the right way.  (If a Codec is missing you will get a startup error.). Observe my working code.\r\n\r\n#### What is your intended output?\r\nYou say it is &quot;not as expected&quot;, is it that it is missing the age and name/type field? The field name is &quot;ID&quot; too, what do you want? `personID`, `_id` or `ID` ?\r\n\r\n#### How is your output implemented now?\r\nHow are you extracting and displaying the data in JSON - you don&#39;t say but given the annotations you use (`@JsonProperty`), you must be using Jackson, I have included that in my code sample.  The Quick Start Guide you refer to talks about `@BsonProperty` - this is for a different purpose - for how to name the fields in the database, where as `@JsonProperty` is for naming in JSON.\r\n\r\n#### Specimen code\r\n\r\n```lang-java\r\nimport com.fasterxml.jackson.core.JsonProcessingException;\r\nimport com.fasterxml.jackson.databind.ObjectMapper;\r\nimport com.mongodb.ConnectionString;\r\nimport com.mongodb.MongoClientSettings;\r\nimport com.mongodb.client.MongoClient;\r\nimport com.mongodb.client.MongoClients;\r\nimport com.mongodb.client.MongoCollection;\r\nimport com.mongodb.client.MongoDatabase;\r\nimport org.bson.codecs.configuration.CodecRegistry;\r\nimport org.bson.codecs.pojo.PojoCodecProvider;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\nimport static org.bson.codecs.configuration.CodecRegistries.fromProviders;\r\nimport static org.bson.codecs.configuration.CodecRegistries.fromRegistries;\r\n\r\npublic class Test {\r\n\r\n    public static void main(String[] args) {\r\n        ConnectionString connectionString = new ConnectionString(&quot;mongodb://127.0.0.1:27017&quot;);\r\n        CodecRegistry pojoCodecRegistry = fromProviders(PojoCodecProvider.builder().automatic(true).build());\r\n        CodecRegistry codecRegistry = fromRegistries(MongoClientSettings.getDefaultCodecRegistry(), pojoCodecRegistry);\r\n        MongoClientSettings clientSettings = MongoClientSettings.builder()\r\n                .applyConnectionString(connectionString)\r\n                .codecRegistry(codecRegistry)\r\n                .build();\r\n        try (MongoClient mongoClient = MongoClients.create(clientSettings)) {\r\n            MongoDatabase database = mongoClient.getDatabase(&quot;person&quot;);\r\n            MongoCollection&lt;Person&gt; collection = database.getCollection(&quot;personCollection&quot;, Person.class);\r\n\r\n            List&lt;Person&gt; persons = new ArrayList&lt;&gt;();\r\n            persons.add(makePerson(&quot;personId1&quot;, &quot;Lesley&quot;, 10));\r\n            persons.add(makePerson(&quot;personId2&quot;, &quot;Bob&quot;, 20));\r\n            persons.add(makePerson(&quot;personId3&quot;, &quot;Jane&quot;, 30));\r\n\r\n            collection.insertMany(persons);\r\n\r\n            List&lt;Person&gt; persons2 = collection.find().into(new ArrayList&lt;Person&gt;());\r\n            ObjectMapper mapper = new ObjectMapper();\r\n            System.out.println(mapper.writerWithDefaultPrettyPrinter().writeValueAsString(persons2));\r\n\r\n        } catch (JsonProcessingException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n\r\n    private static Person makePerson(String id, String type, int age) {\r\n        Person p = new Person();\r\n        p.setPersonID(id);\r\n        p.setType(type);\r\n        p.setAge(age);\r\n        return p;\r\n    }\r\n}\r\n```\r\n\r\nAnd the output is:\r\n```lang-json\r\n[ {\r\n  &quot;_id&quot; : &quot;personId1&quot;,\r\n  &quot;name&quot; : &quot;Lesley&quot;,\r\n  &quot;age&quot; : 10\r\n}, {\r\n  &quot;_id&quot; : &quot;personId2&quot;,\r\n  &quot;name&quot; : &quot;Bob&quot;,\r\n  &quot;age&quot; : 20\r\n}, {\r\n  &quot;_id&quot; : &quot;personId3&quot;,\r\n  &quot;name&quot; : &quot;Jane&quot;,\r\n  &quot;age&quot; : 30\r\n} ]\r\n```\r\n\r\nAnd the dependencies I used:\r\n```lang-xml\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.mongodb&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mongodb-driver-sync&lt;/artifactId&gt;\r\n            &lt;version&gt;4.8.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n            &lt;version&gt;2.14.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n```","title":"MongoDB and java - CodecRegistry only returning an ID field rather than all fields in POJO?","body":"<p>Below is some working code where you can see that I write to the DB and read back data.</p>\n<p>Several things are not clear in your question which may either explain why your attempt did not work, or I have misunderstood your requirement.</p>\n<h4><code>Person</code> class</h4>\n<p><code>Person</code> is a POJO - for this you probably don't want to use a straight <code>class</code>. In the way created it is awkward to construct the <code>Person</code> - I had to create a little helper method as there is no constructor in your class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static Person makePerson(String id, String type, int age) {\n    Person p = new Person();\n    p.setPersonID(id);\n    p.setType(type);\n    p.setAge(age);\n    return p;\n}\n</code></pre>\n<p>Whereas, if you make a few small alterations and use a <code>data class</code> then this implicitly gives you a constructor, <code>toString()</code>, <code>hashCode()</code>:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>@JsonInclude(JsonInclude.Include.NON_NULL)\ndata class Person (     //&lt;&lt; round brackets\n\n    @JsonProperty(&quot;_id&quot;)\n    var personID: String? = null,  //&lt;&lt; comma\n\n    @JsonProperty(&quot;name&quot;)\n    var type: String? = null,\n\n    @JsonProperty(&quot;age&quot;)\n    var age: Int? = null,\n\n)\n</code></pre>\n<h4>Codec setup</h4>\n<p>I don't think you have your Codecs setup in the right way.  (If a Codec is missing you will get a startup error.). Observe my working code.</p>\n<h4>What is your intended output?</h4>\n<p>You say it is &quot;not as expected&quot;, is it that it is missing the age and name/type field? The field name is &quot;ID&quot; too, what do you want? <code>personID</code>, <code>_id</code> or <code>ID</code> ?</p>\n<h4>How is your output implemented now?</h4>\n<p>How are you extracting and displaying the data in JSON - you don't say but given the annotations you use (<code>@JsonProperty</code>), you must be using Jackson, I have included that in my code sample.  The Quick Start Guide you refer to talks about <code>@BsonProperty</code> - this is for a different purpose - for how to name the fields in the database, where as <code>@JsonProperty</code> is for naming in JSON.</p>\n<h4>Specimen code</h4>\n<pre class=\"lang-java prettyprint-override\"><code>import com.fasterxml.jackson.core.JsonProcessingException;\nimport com.fasterxml.jackson.databind.ObjectMapper;\nimport com.mongodb.ConnectionString;\nimport com.mongodb.MongoClientSettings;\nimport com.mongodb.client.MongoClient;\nimport com.mongodb.client.MongoClients;\nimport com.mongodb.client.MongoCollection;\nimport com.mongodb.client.MongoDatabase;\nimport org.bson.codecs.configuration.CodecRegistry;\nimport org.bson.codecs.pojo.PojoCodecProvider;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\nimport static org.bson.codecs.configuration.CodecRegistries.fromProviders;\nimport static org.bson.codecs.configuration.CodecRegistries.fromRegistries;\n\npublic class Test {\n\n    public static void main(String[] args) {\n        ConnectionString connectionString = new ConnectionString(&quot;mongodb://127.0.0.1:27017&quot;);\n        CodecRegistry pojoCodecRegistry = fromProviders(PojoCodecProvider.builder().automatic(true).build());\n        CodecRegistry codecRegistry = fromRegistries(MongoClientSettings.getDefaultCodecRegistry(), pojoCodecRegistry);\n        MongoClientSettings clientSettings = MongoClientSettings.builder()\n                .applyConnectionString(connectionString)\n                .codecRegistry(codecRegistry)\n                .build();\n        try (MongoClient mongoClient = MongoClients.create(clientSettings)) {\n            MongoDatabase database = mongoClient.getDatabase(&quot;person&quot;);\n            MongoCollection&lt;Person&gt; collection = database.getCollection(&quot;personCollection&quot;, Person.class);\n\n            List&lt;Person&gt; persons = new ArrayList&lt;&gt;();\n            persons.add(makePerson(&quot;personId1&quot;, &quot;Lesley&quot;, 10));\n            persons.add(makePerson(&quot;personId2&quot;, &quot;Bob&quot;, 20));\n            persons.add(makePerson(&quot;personId3&quot;, &quot;Jane&quot;, 30));\n\n            collection.insertMany(persons);\n\n            List&lt;Person&gt; persons2 = collection.find().into(new ArrayList&lt;Person&gt;());\n            ObjectMapper mapper = new ObjectMapper();\n            System.out.println(mapper.writerWithDefaultPrettyPrinter().writeValueAsString(persons2));\n\n        } catch (JsonProcessingException e) {\n            throw new RuntimeException(e);\n        }\n    }\n\n    private static Person makePerson(String id, String type, int age) {\n        Person p = new Person();\n        p.setPersonID(id);\n        p.setType(type);\n        p.setAge(age);\n        return p;\n    }\n}\n</code></pre>\n<p>And the output is:</p>\n<pre class=\"lang-json prettyprint-override\"><code>[ {\n  &quot;_id&quot; : &quot;personId1&quot;,\n  &quot;name&quot; : &quot;Lesley&quot;,\n  &quot;age&quot; : 10\n}, {\n  &quot;_id&quot; : &quot;personId2&quot;,\n  &quot;name&quot; : &quot;Bob&quot;,\n  &quot;age&quot; : 20\n}, {\n  &quot;_id&quot; : &quot;personId3&quot;,\n  &quot;name&quot; : &quot;Jane&quot;,\n  &quot;age&quot; : 30\n} ]\n</code></pre>\n<p>And the dependencies I used:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.mongodb&lt;/groupId&gt;\n            &lt;artifactId&gt;mongodb-driver-sync&lt;/artifactId&gt;\n            &lt;version&gt;4.8.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n            &lt;version&gt;2.14.0&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":16962007,"reputation":1665,"user_id":12268910,"display_name":"java12399900"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":127,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76461093,"answer_count":1,"score":0,"last_activity_date":1686617514,"creation_date":1686221068,"question_id":76431033,"body_markdown":"I have the following code to create my mongo client in my Java Spring project:\r\n\r\n    CodecRegistry pojoCodecRegistry = fromRegistries(MongoClientSettings.getDefaultCodecRegistry(),\r\n            fromProviders(PojoCodecProvider.builder().register(Person.class).automatic(true).build()));\r\n\r\n    MongoClientSettings settings = MongoClientSettings.builder()\r\n            .codecRegistry(pojoCodecRegistry)\r\n            .applyConnectionString(new ConnectionString(&quot;myConnectionStrng&quot;))\r\n            .build();\r\n\r\n    MongoClient mongoClient = MongoClients.create(settings);\r\n    MongoDatabase database = mongoClient.getDatabase(&quot;person&quot;).withCodecRegistry(pojoCodecRegistry);\r\n    MongoCollection&lt;Person&gt; collection = database.getCollection(&quot;personCollection&quot;, Person.class).withCodecRegistry(pojoCodecRegistry);\r\n\r\nMy Kotilin Pojo is:\r\n\r\n    @JsonInclude(JsonInclude.Include.NON_NULL)\r\n    class Person {\r\n    \r\n        @JsonProperty(&quot;_id&quot;)\r\n        var personID: String? = null\r\n    \r\n        @JsonProperty(&quot;name&quot;)\r\n        var type: String? = null\r\n    \r\n        @JsonProperty(&quot;age&quot;)\r\n        var age: Int? = null\r\n    \t\r\n    }\r\n\r\nI am able to get a response but the response is not as expected, i.e. it is \r\n\r\n    {\r\n      &quot;persons&quot;: [\r\n        {\r\n          &quot;ID&quot;: &quot;personId1&quot;\r\n        },\r\n        {\r\n          &quot;ID&quot;: &quot;personId2&quot;\r\n        },\r\n        {\r\n          &quot;ID&quot;: &quot;personId3&quot;\r\n        }\r\n    }\r\n\r\nEach person object only shows some ID field rather than the fields in my POJO that I am expecting.\r\n\r\nWhat am I missing here? Do I need to define a custom codec for my Pojo? I am unsure as first time using this mongo library.\r\n","title":"MongoDB and java - CodecRegistry only returning an ID field rather than all fields in POJO?","body":"<p>I have the following code to create my mongo client in my Java Spring project:</p>\n<pre><code>CodecRegistry pojoCodecRegistry = fromRegistries(MongoClientSettings.getDefaultCodecRegistry(),\n        fromProviders(PojoCodecProvider.builder().register(Person.class).automatic(true).build()));\n\nMongoClientSettings settings = MongoClientSettings.builder()\n        .codecRegistry(pojoCodecRegistry)\n        .applyConnectionString(new ConnectionString(&quot;myConnectionStrng&quot;))\n        .build();\n\nMongoClient mongoClient = MongoClients.create(settings);\nMongoDatabase database = mongoClient.getDatabase(&quot;person&quot;).withCodecRegistry(pojoCodecRegistry);\nMongoCollection&lt;Person&gt; collection = database.getCollection(&quot;personCollection&quot;, Person.class).withCodecRegistry(pojoCodecRegistry);\n</code></pre>\n<p>My Kotilin Pojo is:</p>\n<pre><code>@JsonInclude(JsonInclude.Include.NON_NULL)\nclass Person {\n\n    @JsonProperty(&quot;_id&quot;)\n    var personID: String? = null\n\n    @JsonProperty(&quot;name&quot;)\n    var type: String? = null\n\n    @JsonProperty(&quot;age&quot;)\n    var age: Int? = null\n    \n}\n</code></pre>\n<p>I am able to get a response but the response is not as expected, i.e. it is</p>\n<pre><code>{\n  &quot;persons&quot;: [\n    {\n      &quot;ID&quot;: &quot;personId1&quot;\n    },\n    {\n      &quot;ID&quot;: &quot;personId2&quot;\n    },\n    {\n      &quot;ID&quot;: &quot;personId3&quot;\n    }\n}\n</code></pre>\n<p>Each person object only shows some ID field rather than the fields in my POJO that I am expecting.</p>\n<p>What am I missing here? Do I need to define a custom codec for my Pojo? I am unsure as first time using this mongo library.</p>\n"},{"tags":["java","android","database","sqlite","concurrency"],"answers":[{"comments":[{"owner":{"account_id":16939345,"reputation":91,"user_id":12251590,"display_name":"CodeX"},"score":0,"creation_date":1686635009,"post_id":76461092,"comment_id":134821964,"body_markdown":"Very helpful suggestions. can @MikeT guide me on adding and fetching data into sqlite table simultaneously and updating UI.","body":"Very helpful suggestions. can @MikeT guide me on adding and fetching data into sqlite table simultaneously and updating UI."}],"tags":[],"owner":{"account_id":6077735,"reputation":52951,"user_id":4744514,"accept_rate":96,"display_name":"MikeT"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686617477,"creation_date":1686617477,"answer_id":76461092,"question_id":76456457,"body_markdown":"I would suggest **NOT** closing the database unless specifically required (say to backup the database as a single file if it is in WAL mode).\r\n\r\nWhenever you open the database it is a relatively resource hungry process. If you close the database, then it will have to subsequently be opened at some expense.\r\n\r\nAs such you may wish to consider using a singleton (i.e. have a single instance of the opened database).\r\n\r\nHowever, **ALWAYS** close a **Cursor** when done with it (which you are doing). A Cursor can be considered as a file and uses 1 of the limited available file allocations (about 1000 or so) for the operating system.\r\n\r\nWith regards to retrieving data from a Cursor, then rather than a moveToFirst and the do until moveToNext returns 0. You can simplify the code using `while(cursor.moveToNext) { .... }`. It is also inadvisable to use hard coded column offsets e.g. `bokmarks.setFileName(cursor.getString(1));` where 1 is the hard coded column offset and relies upon the 2nd column being the file name column and would have to be changed if the order of the columns in the cursor were to change. Instead you can utilise the `Cursor`&#39;s `getColumnIndex` method to get the offset according to the column&#39;s name irrespective of it&#39;s position within the `Cursor`.\r\n\r\nPutting the above together (making some assumptions) then you could have your class that extends SQLiteOpenHelper as (for example) :-\r\n\r\n    class MySQLiteOpenHelper extends SQLiteOpenHelper {\r\n    \r\n       public static final String DATABASE_FILENAME = &quot;mydatabase.db&quot;;\r\n       public static final int DATABASE_VERSION = 1;\r\n       public static final String KEY_FILE_NAME = &quot;kfn&quot;;\r\n       public static final String KEY_FILE_URI = &quot;kuri&quot;;\r\n       public static final String KEY_FILE_PATH = &quot;kpath&quot;;\r\n       public static final String KEY_MONTH_NAME = &quot;kmonth&quot;;\r\n       public static final String KEY_DATE = &quot;kdate&quot;;\r\n       public static final String TABLE_DETAIL = &quot;detail&quot;;\r\n    \r\n       @Override\r\n       public void onCreate(SQLiteDatabase sqLiteDatabase) {\r\n    \r\n       }\r\n    \r\n       @Override\r\n       public void onUpgrade(SQLiteDatabase sqLiteDatabase, int i, int i1) {\r\n    \r\n       }\r\n    \r\n       private MySQLiteOpenHelper(Context context) {\r\n          super(context,DATABASE_FILENAME,null,DATABASE_VERSION);\r\n       }\r\n    \r\n       private static volatile MySQLiteOpenHelper instance;\r\n       public static MySQLiteOpenHelper getMySQLiteOpenHelperInstance(Context context) {\r\n          if (instance==null) {\r\n             instance = new MySQLiteOpenHelper(context);\r\n          }\r\n          return instance;\r\n       }\r\n    \r\n       public void insertData(List&lt;ModelClass&gt; list) {\r\n          SQLiteDatabase dbase = this.getReadableDatabase();\r\n          dbase.beginTransaction();\r\n          try {\r\n             ContentValues values = new ContentValues();\r\n             for (ModelClass bokmark : list) {\r\n                values.put(KEY_FILE_NAME, bokmark.getFileName());\r\n                values.put(KEY_FILE_URI, String.valueOf(bokmark.getFileUri()));\r\n                values.put(KEY_FILE_PATH, String.valueOf(bokmark.getFilePath()));\r\n                values.put(KEY_MONTH_NAME, bokmark.getMonthName());\r\n                values.put(KEY_DATE, bokmark.getAudioDate());\r\n    \r\n                dbase.insert(TABLE_DETAIL, null, values);\r\n             }\r\n             dbase.setTransactionSuccessful();\r\n          } finally {\r\n             dbase.endTransaction();\r\n          }\r\n          //dbase.close(); /* &lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt; inefficient database will be closed when App is stopped as part of App cleanup */\r\n       }\r\n    \r\n       public ArrayList&lt;ModelClass&gt; getAllData() {\r\n          ArrayList&lt;ModelClass&gt; bookmarkList = new ArrayList&lt;ModelClass&gt;();\r\n          String selectQuery = &quot;SELECT * FROM &quot; + TABLE_DETAIL;\r\n          //Log.e(&quot;selectQuery===&gt;&quot;, &quot;&quot; + selectQuery);\r\n          SQLiteDatabase dbase = this.getReadableDatabase();\r\n          Cursor cursor = dbase.rawQuery(selectQuery, null);\r\n    \r\n          // looping through all rows and adding to list\r\n          /* &lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt; get the column offsfets according to the column name rather than hard coding the offsets &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; */\r\n          int fnidx = cursor.getColumnIndex(KEY_FILE_NAME);\r\n          int uriidx = cursor.getColumnIndex(KEY_FILE_URI);\r\n          int fpidx = cursor.getColumnIndex(KEY_FILE_PATH);\r\n          int mnidx = cursor.getColumnIndex(KEY_MONTH_NAME);\r\n          int didx = cursor.getColumnIndex(KEY_DATE);\r\n          while (cursor.moveToNext()) { /*&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt; Simpler while loop */\r\n             ModelClass bokmarks = new ModelClass();\r\n             bokmarks.setFileName(cursor.getString(fnidx));\r\n             bokmarks.setFileUri(parse(cursor.getString(uriidx)));\r\n             bokmarks.setFilePath(cursor.getString(fpidx));\r\n             bokmarks.setMonthName(cursor.getString(mnidx));\r\n             bokmarks.setAudioDate(cursor.getString(didx));\r\n             bookmarkList.add(bokmarks);\r\n          }\r\n          cursor.close();\r\n          //dbase.close(); /* &lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt; inefficient database will be closed when App is stopped as part of App cleanup */\r\n          return bookmarkList;\r\n       }\r\n    }\r\n\r\n- ***Note** the above code is in-principle code, it has not been compiled and run so may contain some errors*\r\n\r\nAs for running in separate threads, there are many ways. Frequently the issue many encounter is understanding and coding for the detection and handling of the completion of the other thread, by the main thread, whenever that occurs.\r\n\r\nI would suggest having a look at https://developer.android.com/topic/performance/threads as a starting point. ","title":"Performing concurrent operations(Insert, retrieve data) in android sqlite","body":"<p>I would suggest <strong>NOT</strong> closing the database unless specifically required (say to backup the database as a single file if it is in WAL mode).</p>\n<p>Whenever you open the database it is a relatively resource hungry process. If you close the database, then it will have to subsequently be opened at some expense.</p>\n<p>As such you may wish to consider using a singleton (i.e. have a single instance of the opened database).</p>\n<p>However, <strong>ALWAYS</strong> close a <strong>Cursor</strong> when done with it (which you are doing). A Cursor can be considered as a file and uses 1 of the limited available file allocations (about 1000 or so) for the operating system.</p>\n<p>With regards to retrieving data from a Cursor, then rather than a moveToFirst and the do until moveToNext returns 0. You can simplify the code using <code>while(cursor.moveToNext) { .... }</code>. It is also inadvisable to use hard coded column offsets e.g. <code>bokmarks.setFileName(cursor.getString(1));</code> where 1 is the hard coded column offset and relies upon the 2nd column being the file name column and would have to be changed if the order of the columns in the cursor were to change. Instead you can utilise the <code>Cursor</code>'s <code>getColumnIndex</code> method to get the offset according to the column's name irrespective of it's position within the <code>Cursor</code>.</p>\n<p>Putting the above together (making some assumptions) then you could have your class that extends SQLiteOpenHelper as (for example) :-</p>\n<pre><code>class MySQLiteOpenHelper extends SQLiteOpenHelper {\n\n   public static final String DATABASE_FILENAME = &quot;mydatabase.db&quot;;\n   public static final int DATABASE_VERSION = 1;\n   public static final String KEY_FILE_NAME = &quot;kfn&quot;;\n   public static final String KEY_FILE_URI = &quot;kuri&quot;;\n   public static final String KEY_FILE_PATH = &quot;kpath&quot;;\n   public static final String KEY_MONTH_NAME = &quot;kmonth&quot;;\n   public static final String KEY_DATE = &quot;kdate&quot;;\n   public static final String TABLE_DETAIL = &quot;detail&quot;;\n\n   @Override\n   public void onCreate(SQLiteDatabase sqLiteDatabase) {\n\n   }\n\n   @Override\n   public void onUpgrade(SQLiteDatabase sqLiteDatabase, int i, int i1) {\n\n   }\n\n   private MySQLiteOpenHelper(Context context) {\n      super(context,DATABASE_FILENAME,null,DATABASE_VERSION);\n   }\n\n   private static volatile MySQLiteOpenHelper instance;\n   public static MySQLiteOpenHelper getMySQLiteOpenHelperInstance(Context context) {\n      if (instance==null) {\n         instance = new MySQLiteOpenHelper(context);\n      }\n      return instance;\n   }\n\n   public void insertData(List&lt;ModelClass&gt; list) {\n      SQLiteDatabase dbase = this.getReadableDatabase();\n      dbase.beginTransaction();\n      try {\n         ContentValues values = new ContentValues();\n         for (ModelClass bokmark : list) {\n            values.put(KEY_FILE_NAME, bokmark.getFileName());\n            values.put(KEY_FILE_URI, String.valueOf(bokmark.getFileUri()));\n            values.put(KEY_FILE_PATH, String.valueOf(bokmark.getFilePath()));\n            values.put(KEY_MONTH_NAME, bokmark.getMonthName());\n            values.put(KEY_DATE, bokmark.getAudioDate());\n\n            dbase.insert(TABLE_DETAIL, null, values);\n         }\n         dbase.setTransactionSuccessful();\n      } finally {\n         dbase.endTransaction();\n      }\n      //dbase.close(); /* &lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt; inefficient database will be closed when App is stopped as part of App cleanup */\n   }\n\n   public ArrayList&lt;ModelClass&gt; getAllData() {\n      ArrayList&lt;ModelClass&gt; bookmarkList = new ArrayList&lt;ModelClass&gt;();\n      String selectQuery = &quot;SELECT * FROM &quot; + TABLE_DETAIL;\n      //Log.e(&quot;selectQuery===&gt;&quot;, &quot;&quot; + selectQuery);\n      SQLiteDatabase dbase = this.getReadableDatabase();\n      Cursor cursor = dbase.rawQuery(selectQuery, null);\n\n      // looping through all rows and adding to list\n      /* &lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt; get the column offsfets according to the column name rather than hard coding the offsets &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; */\n      int fnidx = cursor.getColumnIndex(KEY_FILE_NAME);\n      int uriidx = cursor.getColumnIndex(KEY_FILE_URI);\n      int fpidx = cursor.getColumnIndex(KEY_FILE_PATH);\n      int mnidx = cursor.getColumnIndex(KEY_MONTH_NAME);\n      int didx = cursor.getColumnIndex(KEY_DATE);\n      while (cursor.moveToNext()) { /*&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt; Simpler while loop */\n         ModelClass bokmarks = new ModelClass();\n         bokmarks.setFileName(cursor.getString(fnidx));\n         bokmarks.setFileUri(parse(cursor.getString(uriidx)));\n         bokmarks.setFilePath(cursor.getString(fpidx));\n         bokmarks.setMonthName(cursor.getString(mnidx));\n         bokmarks.setAudioDate(cursor.getString(didx));\n         bookmarkList.add(bokmarks);\n      }\n      cursor.close();\n      //dbase.close(); /* &lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt; inefficient database will be closed when App is stopped as part of App cleanup */\n      return bookmarkList;\n   }\n}\n</code></pre>\n<ul>\n<li><em><strong>Note</strong> the above code is in-principle code, it has not been compiled and run so may contain some errors</em></li>\n</ul>\n<p>As for running in separate threads, there are many ways. Frequently the issue many encounter is understanding and coding for the detection and handling of the completion of the other thread, by the main thread, whenever that occurs.</p>\n<p>I would suggest having a look at <a href=\"https://developer.android.com/topic/performance/threads\" rel=\"nofollow noreferrer\">https://developer.android.com/topic/performance/threads</a> as a starting point.</p>\n"}],"owner":{"account_id":16939345,"reputation":91,"user_id":12251590,"display_name":"CodeX"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686617477,"creation_date":1686571258,"question_id":76456457,"body_markdown":"i want to ask a question related to performing concurrent operations like inserting bulk of data and retrieving data at the same time while data insert operation is going on. I have tried threads for this scenario but no success.\r\n\r\nBelow are two functions for inserting and retrieving data from sqlite table\r\n\r\n    public void insertData(List&lt;ModelClass&gt; list) {\r\n            SQLiteDatabase dbase = this.getWritableDatabase();\r\n            dbase.beginTransaction();\r\n            try {\r\n                ContentValues values = new ContentValues();\r\n                for (ModelClass bokmark : list) {\r\n                    values.put(KEY_FILE_NAME, bokmark.getFileName());\r\n                    values.put(KEY_FILE_URI, String.valueOf(bokmark.getFileUri()));\r\n                    values.put(KEY_FILE_PATH, String.valueOf(bokmark.getFilePath()));\r\n                    values.put(KEY_MONTH_NAME, bokmark.getMonthName());\r\n                    values.put(KEY_DATE, bokmark.getAudioDate());\r\n    \r\n                    dbase.insert(TABLE_DETAIL, null, values);\r\n                }\r\n                dbase.setTransactionSuccessful();\r\n            } finally {\r\n                dbase.endTransaction();\r\n            }\r\n    \r\n            dbase.close();\r\n    \r\n        }\r\n\r\nand below function for retrievel of data\r\n\r\n    public ArrayList&lt;ModelClass&gt; getAllData() {\r\n            ArrayList&lt;ModelClass&gt; bookmarkList = new ArrayList&lt;ModelClass&gt;();\r\n            String selectQuery = &quot;SELECT * FROM &quot; + TABLE_DETAIL;\r\n            //Log.e(&quot;selectQuery===&gt;&quot;, &quot;&quot; + selectQuery);\r\n            SQLiteDatabase dbase = this.getReadableDatabase();\r\n            Cursor cursor = dbase.rawQuery(selectQuery, null);\r\n    \r\n            // looping through all rows and adding to list\r\n            if (cursor.moveToFirst()) {\r\n                do {\r\n                    ModelClass bokmarks = new ModelClass();\r\n                    bokmarks.setFileName(cursor.getString(1));\r\n                    bokmarks.setFileUri(Uri.parse(cursor.getString(2)));\r\n                    bokmarks.setFilePath(cursor.getString(3));\r\n                    bokmarks.setMonthName(cursor.getString(4));\r\n                    bokmarks.setAudioDate(cursor.getString(5));\r\n    \r\n                    bookmarkList.add(bokmarks);\r\n                } while (cursor.moveToNext());\r\n            }\r\n            cursor.close();\r\n            dbase.close();\r\n    \r\n            return bookmarkList;\r\n        }\r\n\r\nOn searching internet, some links suggest to use threads. i have tried with threads but no luck. Anyone have guidance related to this will be helpful.","title":"Performing concurrent operations(Insert, retrieve data) in android sqlite","body":"<p>i want to ask a question related to performing concurrent operations like inserting bulk of data and retrieving data at the same time while data insert operation is going on. I have tried threads for this scenario but no success.</p>\n<p>Below are two functions for inserting and retrieving data from sqlite table</p>\n<pre><code>public void insertData(List&lt;ModelClass&gt; list) {\n        SQLiteDatabase dbase = this.getWritableDatabase();\n        dbase.beginTransaction();\n        try {\n            ContentValues values = new ContentValues();\n            for (ModelClass bokmark : list) {\n                values.put(KEY_FILE_NAME, bokmark.getFileName());\n                values.put(KEY_FILE_URI, String.valueOf(bokmark.getFileUri()));\n                values.put(KEY_FILE_PATH, String.valueOf(bokmark.getFilePath()));\n                values.put(KEY_MONTH_NAME, bokmark.getMonthName());\n                values.put(KEY_DATE, bokmark.getAudioDate());\n\n                dbase.insert(TABLE_DETAIL, null, values);\n            }\n            dbase.setTransactionSuccessful();\n        } finally {\n            dbase.endTransaction();\n        }\n\n        dbase.close();\n\n    }\n</code></pre>\n<p>and below function for retrievel of data</p>\n<pre><code>public ArrayList&lt;ModelClass&gt; getAllData() {\n        ArrayList&lt;ModelClass&gt; bookmarkList = new ArrayList&lt;ModelClass&gt;();\n        String selectQuery = &quot;SELECT * FROM &quot; + TABLE_DETAIL;\n        //Log.e(&quot;selectQuery===&gt;&quot;, &quot;&quot; + selectQuery);\n        SQLiteDatabase dbase = this.getReadableDatabase();\n        Cursor cursor = dbase.rawQuery(selectQuery, null);\n\n        // looping through all rows and adding to list\n        if (cursor.moveToFirst()) {\n            do {\n                ModelClass bokmarks = new ModelClass();\n                bokmarks.setFileName(cursor.getString(1));\n                bokmarks.setFileUri(Uri.parse(cursor.getString(2)));\n                bokmarks.setFilePath(cursor.getString(3));\n                bokmarks.setMonthName(cursor.getString(4));\n                bokmarks.setAudioDate(cursor.getString(5));\n\n                bookmarkList.add(bokmarks);\n            } while (cursor.moveToNext());\n        }\n        cursor.close();\n        dbase.close();\n\n        return bookmarkList;\n    }\n</code></pre>\n<p>On searching internet, some links suggest to use threads. i have tried with threads but no luck. Anyone have guidance related to this will be helpful.</p>\n"},{"tags":["java","spring","maven"],"comments":[{"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"score":0,"creation_date":1686644168,"post_id":76461091,"comment_id":134823529,"body_markdown":"What do you mean by &quot;in production&quot;? You don&#39;t build your application again for production, you build it, and test it, and then it goes to production (without any rebuild).","body":"What do you mean by &quot;in production&quot;? You don&#39;t build your application again for production, you build it, and test it, and then it goes to production (without any rebuild)."}],"owner":{"account_id":27660885,"reputation":7,"user_id":21113755,"display_name":"cs55"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686617476,"creation_date":1686617476,"question_id":76461091,"body_markdown":"I would like to skip integration tests in Production during maven CI/CD pipeline.\r\n\r\nI am using following in my `pom.xml`\r\n\r\n    &lt;plugin&gt;\r\n        &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;2.21.0&lt;/version&gt;\r\n        &lt;executions&gt;\r\n            &lt;execution&gt;\r\n                &lt;goals&gt;\r\n                    &lt;goal&gt;integration-test&lt;/goal&gt;\r\n                    &lt;goal&gt;verify&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;groups&gt;IntegrationTest&lt;/groups&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n    &lt;/plugin&gt;\r\n\r\nIs there any configuration setting that will allow me to skip integration tests during CI/CD in Production?","title":"How do I skip integration tests in Production envrionment?","body":"<p>I would like to skip integration tests in Production during maven CI/CD pipeline.</p>\n<p>I am using following in my <code>pom.xml</code></p>\n<pre><code>&lt;plugin&gt;\n    &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\n    &lt;version&gt;2.21.0&lt;/version&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;integration-test&lt;/goal&gt;\n                &lt;goal&gt;verify&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n                &lt;groups&gt;IntegrationTest&lt;/groups&gt;\n            &lt;/configuration&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>Is there any configuration setting that will allow me to skip integration tests during CI/CD in Production?</p>\n"},{"tags":["java","node.js","mongoose","mongoose-schema"],"comments":[{"owner":{"account_id":15659011,"reputation":828,"user_id":11298380,"display_name":"The Coding Penguin"},"score":0,"creation_date":1686560972,"post_id":76446476,"comment_id":134809992,"body_markdown":"Please do not attach your code or errors as images, use code blocks instead (you already did that for some part of your code, why not for all of it?","body":"Please do not attach your code or errors as images, use code blocks instead (you already did that for some part of your code, why not for all of it?"}],"owner":{"account_id":24746241,"reputation":1,"user_id":18632383,"display_name":"Anjul Singhal"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686617359,"creation_date":1686404502,"question_id":76446476,"body_markdown":"[image 2](https://i.stack.imgur.com/C9WWO.png)\r\n[image 3](https://i.stack.imgur.com/fXUIK.png)[output image](https://i.stack.imgur.com/TobBj.png)\r\n\r\nI am getting this error: `OverwriteModelError: Cannot overwrite `user` model once compiled.` \r\n\r\nPlease, resolve this error I&#39;m trying to find by nothing works.\r\n```\r\nconst express = require(&quot;express&quot;);\r\nconst router = express.Router();\r\nvar fatchuser = require(&quot;../middleware/fetchuser&quot;);\r\nconst Notes = require(&quot;../models/Notes&quot;);\r\n\r\n//ROUTE-1:  Get all the notes: GET &quot;/api/auth/getuser&quot;. Login require\r\nrouter.get(&quot;/fetchallnotes&quot;,fatchuser , async (req, res) =&gt; {\r\n  const notes = await Notes.find({user: req.user.id});\r\n  res.json(notes);\r\n});\r\nmodule.exports = router;\r\n```\r\n`user` is main problem and `user` value isn&#39;t coming.","title":"OverwriteModelError: Cannot overwrite model once compiled","body":"<p><a href=\"https://i.stack.imgur.com/C9WWO.png\" rel=\"nofollow noreferrer\">image 2</a>\n<a href=\"https://i.stack.imgur.com/fXUIK.png\" rel=\"nofollow noreferrer\">image 3</a><a href=\"https://i.stack.imgur.com/TobBj.png\" rel=\"nofollow noreferrer\">output image</a></p>\n<p>I am getting this error: <code>OverwriteModelError: Cannot overwrite </code>user<code> model once compiled.</code></p>\n<p>Please, resolve this error I'm trying to find by nothing works.</p>\n<pre><code>const express = require(&quot;express&quot;);\nconst router = express.Router();\nvar fatchuser = require(&quot;../middleware/fetchuser&quot;);\nconst Notes = require(&quot;../models/Notes&quot;);\n\n//ROUTE-1:  Get all the notes: GET &quot;/api/auth/getuser&quot;. Login require\nrouter.get(&quot;/fetchallnotes&quot;,fatchuser , async (req, res) =&gt; {\n  const notes = await Notes.find({user: req.user.id});\n  res.json(notes);\n});\nmodule.exports = router;\n</code></pre>\n<p><code>user</code> is main problem and <code>user</code> value isn't coming.</p>\n"},{"tags":["java","spring","spring-boot","csv","opencsv"],"comments":[{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1669119647,"post_id":74525597,"comment_id":131566922,"body_markdown":"Does anybody have never used filter in OpenCSV?","body":"Does anybody have never used filter in OpenCSV?"},{"owner":{"account_id":18044315,"reputation":1227,"user_id":13115701,"display_name":"Paul Marcelin Bejan"},"score":1,"creation_date":1672132929,"post_id":74525597,"comment_id":132225868,"body_markdown":"You need to try first and show us, then if something is wrong, we will help you.","body":"You need to try first and show us, then if something is wrong, we will help you."}],"answers":[{"comments":[{"owner":{"account_id":543600,"reputation":1014,"user_id":2125723,"accept_rate":80,"display_name":"ryanwebjackson"},"score":0,"creation_date":1686140315,"post_id":76398630,"comment_id":134757811,"body_markdown":"Can you add a brief explanation of how the code solves OP&#39;s problem?","body":"Can you add a brief explanation of how the code solves OP&#39;s problem?"},{"owner":{"account_id":9865655,"reputation":43,"user_id":7307214,"display_name":"Jagruti"},"score":0,"creation_date":1686616682,"post_id":76398630,"comment_id":134820469,"body_markdown":"OP&#39;s problem meaning?","body":"OP&#39;s problem meaning?"},{"owner":{"account_id":9865655,"reputation":43,"user_id":7307214,"display_name":"Jagruti"},"score":0,"creation_date":1686616781,"post_id":76398630,"comment_id":134820478,"body_markdown":"e.g might help .https://github.com/jagrutifrankdemo/product-aggregator/blob/main/src/main/java/com/ennov/read/impl/CSVFileOpsImpl.java","body":"e.g might help .<a href=\"https://github.com/jagrutifrankdemo/product-aggregator/blob/main/src/main/java/com/ennov/read/impl/CSVFileOpsImpl.java\" rel=\"nofollow noreferrer\">github.com/jagrutifrankdemo/product-aggregator/blob/main/sr&zwnj;&#8203;c/&hellip;</a>"},{"owner":{"account_id":543600,"reputation":1014,"user_id":2125723,"accept_rate":80,"display_name":"ryanwebjackson"},"score":0,"creation_date":1686680739,"post_id":76398630,"comment_id":134831747,"body_markdown":"&quot;OP&#39;s problem&quot; refers to what the Question asker is trying to solve. OP means Original Poster.","body":"&quot;OP&#39;s problem&quot; refers to what the Question asker is trying to solve. OP means Original Poster."},{"owner":{"account_id":9865655,"reputation":43,"user_id":7307214,"display_name":"Jagruti"},"score":0,"creation_date":1686682439,"post_id":76398630,"comment_id":134832109,"body_markdown":"I have given snippet how filter can be achieved during csv read/ post csv read), does that help?","body":"I have given snippet how filter can be achieved during csv read/ post csv read), does that help?"}],"tags":[],"owner":{"account_id":9865655,"reputation":43,"user_id":7307214,"display_name":"Jagruti"},"comment_count":5,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685842226,"creation_date":1685842226,"answer_id":76398630,"question_id":74525597,"body_markdown":"Hope this helps\r\nList FilterbycoumnValue= new CsvToBeanBuilder&lt;Product&gt;\r\n                .withFilter(line -&gt; line[1].equals(value))\r\n              ","title":"OpenCSV : Using a custom filter based on column value?","body":"<p>Hope this helps\nList FilterbycoumnValue= new CsvToBeanBuilder\n.withFilter(line -&gt; line[1].equals(value))</p>\n"}],"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":350,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1686616759,"creation_date":1669069992,"question_id":74525597,"body_markdown":"I use OpenCSV in order to read CSV file and I use the Java stream method after reading all the rows of CSV file:\r\n\r\n\r\n\r\n```\r\npublic class CsvHelper {\r\n\r\n    private enum Headers {\r\n        ID,\r\n        NAME,\r\n        EMAIL,\r\n        COUNTRY\r\n    }\r\n\r\n    public static List&lt;EmployeeRequest&gt; csvToEmployees(InputStream is) throws IllegalAccessException {\r\n        try (BufferedReader reader = new BufferedReader(new InputStreamReader(is, StandardCharsets.UTF_8));\r\n             CSVParser parser = new CSVParser(reader,\r\n                     CSVFormat.DEFAULT.withFirstRecordAsHeader().withIgnoreHeaderCase().withTrim())) {\r\n\r\n            List&lt;EmployeeRequest&gt; employees = new ArrayList&lt;&gt;();\r\n            Iterable&lt;CSVRecord&gt; records = parser.getRecords();\r\n\r\n            for (CSVRecord rec : records) {\r\n                EmployeeRequest employee = new EmployeeRequest(\r\n                        Long.parseLong(rec.get(Headers.ID)),\r\n                        rec.get(Headers.NAME),\r\n                        rec.get(Headers.EMAIL),\r\n                        rec.get(Headers.COUNTRY)\r\n                );\r\n                employees.add(employee);\r\n            }\r\n            return employees;\r\n        } catch (IOException e) {\r\n            throw new IllegalAccessException(&quot;Failed: &quot; + e.getMessage());\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\n\r\nBut in order to use the same `csvToEmployees` method multiple times, I need to apply some filter based on some field e.g. `NAME`. I found something on the following page, but not sure if it is the most proper approach for filtering that I mentioned.So, any idea about this issue? \r\n\r\nhttps://opencsv.sourceforge.net/apidocs/com/opencsv/bean/CsvToBeanFilter.html ","title":"OpenCSV : Using a custom filter based on column value?","body":"<p>I use OpenCSV in order to read CSV file and I use the Java stream method after reading all the rows of CSV file:</p>\n<pre><code>public class CsvHelper {\n\n    private enum Headers {\n        ID,\n        NAME,\n        EMAIL,\n        COUNTRY\n    }\n\n    public static List&lt;EmployeeRequest&gt; csvToEmployees(InputStream is) throws IllegalAccessException {\n        try (BufferedReader reader = new BufferedReader(new InputStreamReader(is, StandardCharsets.UTF_8));\n             CSVParser parser = new CSVParser(reader,\n                     CSVFormat.DEFAULT.withFirstRecordAsHeader().withIgnoreHeaderCase().withTrim())) {\n\n            List&lt;EmployeeRequest&gt; employees = new ArrayList&lt;&gt;();\n            Iterable&lt;CSVRecord&gt; records = parser.getRecords();\n\n            for (CSVRecord rec : records) {\n                EmployeeRequest employee = new EmployeeRequest(\n                        Long.parseLong(rec.get(Headers.ID)),\n                        rec.get(Headers.NAME),\n                        rec.get(Headers.EMAIL),\n                        rec.get(Headers.COUNTRY)\n                );\n                employees.add(employee);\n            }\n            return employees;\n        } catch (IOException e) {\n            throw new IllegalAccessException(&quot;Failed: &quot; + e.getMessage());\n        }\n    }\n}\n</code></pre>\n<p>But in order to use the same <code>csvToEmployees</code> method multiple times, I need to apply some filter based on some field e.g. <code>NAME</code>. I found something on the following page, but not sure if it is the most proper approach for filtering that I mentioned.So, any idea about this issue?</p>\n<p><a href=\"https://opencsv.sourceforge.net/apidocs/com/opencsv/bean/CsvToBeanFilter.html\" rel=\"nofollow noreferrer\">https://opencsv.sourceforge.net/apidocs/com/opencsv/bean/CsvToBeanFilter.html</a></p>\n"},{"tags":["java","hibernate","jpa"],"comments":[{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1686667219,"post_id":76460986,"comment_id":134828752,"body_markdown":"Your Thing-&gt;Baz reference requires the bazkey value to be set within Baz, and that is what identifies one Baz instance from others. If you want lookups by any other Baz property, you&#39;ll have to query for it yourself, as only you (and your app) can reliably know what to do if there is more than one instance found for the property lookup, or even which properties to query over. All JPA requires is the ID in the Baz entity if you aren&#39;t merging it though, so I&#39;d suggest if you are going to pass around partial data, you use that instead of name properties (or have JPA use name as the PK and fks)","body":"Your Thing-&gt;Baz reference requires the bazkey value to be set within Baz, and that is what identifies one Baz instance from others. If you want lookups by any other Baz property, you&#39;ll have to query for it yourself, as only you (and your app) can reliably know what to do if there is more than one instance found for the property lookup, or even which properties to query over. All JPA requires is the ID in the Baz entity if you aren&#39;t merging it though, so I&#39;d suggest if you are going to pass around partial data, you use that instead of name properties (or have JPA use name as the PK and fks)"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1686667294,"post_id":76460986,"comment_id":134828773,"body_markdown":"If you can&#39;t do that, I&#39;d override the save logic in your thing repository to check the Baz reference and query for it if it isn&#39;t populated with an ID.","body":"If you can&#39;t do that, I&#39;d override the save logic in your thing repository to check the Baz reference and query for it if it isn&#39;t populated with an ID."}],"owner":{"account_id":9051618,"reputation":3658,"user_id":6741482,"accept_rate":95,"display_name":"pstatix"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686616140,"creation_date":1686615478,"question_id":76460986,"body_markdown":"Is it possible with JPA/Hibernate to have a table of persisted objects, and when creating an object externally, match it up with a persisted one such that the other attributes are populated?\r\n\r\nFor example, suppose I have a table that has the following information:\r\n\r\n    +--------+----------------+\r\n    | bazkey |    bazname     |\r\n    +--------+----------------+\r\n    |      1 | something      |\r\n    |      2 | someotherthing |\r\n    +--------+----------------+\r\n\r\nThis table is called `baztable` and contains persisted `Baz` objects that have the following definition:\r\n\r\n    @Data\r\n    @Entity\r\n    @Table(name = &quot;baztable&quot;)\r\n    public class Baz {\r\n        @Id // plus some random key generator\r\n        private int bazkey;\r\n    \r\n        @Column(name = &quot;bazname&quot;)\r\n        private String name;\r\n    }\r\n\r\nI have another entity that maps down to the `baztable` via a `ManyToOne` relationship, meaning many of these entities can point to a single `Baz` object that&#39;s been persisted. Such an entity has the following definition:\r\n\r\n    @Data\r\n    @Entity\r\n    @Table(name = &quot;thingtable&quot;)\r\n    public class Thing {\r\n        @Id // plus some random key generator\r\n        private int thingkey;\r\n    \r\n        @Column(name = &quot;thingname&quot;)\r\n        private String name;\r\n    \r\n        @ManyToOne(fetch = FetchType.EAGER)\r\n        @JoinColumn(name = &quot;bazkey&quot;, referencedColumnName = &quot;bazkey&quot;)\r\n        private Baz baz;\r\n    }\r\n\r\nNow without adding `cascade = CascadeType.ALL` to the `@ManyToOne` annotation, a `Baz` object should be transient and will not be persisted. In my case, that&#39;s fine, because the `baztable` is populated elsewhere and I do not want a `Thing` entity to persist its child entities. \r\n\r\nIn order to populate the `baz` field of a `Thing` I could search the `baztable` by the `bazname` column for a given entity. But what I am wondering is if its possible to create the `Baz` entity explicitly, assigning it to the `baz` field and then when persisting the `Thing` entity, it automatically looks up the needed information for the `@JoinColumn`?\r\n\r\nFor example:\r\n\r\n    final Thing thing = new Thing();\r\n    thing.setName(&quot;thething&quot;);\r\n    thing.setBaz(new Baz(&quot;someotherthing&quot;));\r\n    thingRepository.save(thing);\r\n    \r\n    +----------+-----------+--------+\r\n    | thingkey | thingname | bazkey |\r\n    +----------+-----------+--------+\r\n    |        5 | thething  |      2 |\r\n    +----------+-----------+--------+\r\n\r\nIn the above, the `bazkey` column is populated with the `bazkey` corresponding to the `Baz` entity persisted with the name `someotherthing`, and subsequently its `bazkey` is used as the foreign key from the `thingtable`.","title":"Hibernate - Map entity to existing row in table","body":"<p>Is it possible with JPA/Hibernate to have a table of persisted objects, and when creating an object externally, match it up with a persisted one such that the other attributes are populated?</p>\n<p>For example, suppose I have a table that has the following information:</p>\n<pre><code>+--------+----------------+\n| bazkey |    bazname     |\n+--------+----------------+\n|      1 | something      |\n|      2 | someotherthing |\n+--------+----------------+\n</code></pre>\n<p>This table is called <code>baztable</code> and contains persisted <code>Baz</code> objects that have the following definition:</p>\n<pre><code>@Data\n@Entity\n@Table(name = &quot;baztable&quot;)\npublic class Baz {\n    @Id // plus some random key generator\n    private int bazkey;\n\n    @Column(name = &quot;bazname&quot;)\n    private String name;\n}\n</code></pre>\n<p>I have another entity that maps down to the <code>baztable</code> via a <code>ManyToOne</code> relationship, meaning many of these entities can point to a single <code>Baz</code> object that's been persisted. Such an entity has the following definition:</p>\n<pre><code>@Data\n@Entity\n@Table(name = &quot;thingtable&quot;)\npublic class Thing {\n    @Id // plus some random key generator\n    private int thingkey;\n\n    @Column(name = &quot;thingname&quot;)\n    private String name;\n\n    @ManyToOne(fetch = FetchType.EAGER)\n    @JoinColumn(name = &quot;bazkey&quot;, referencedColumnName = &quot;bazkey&quot;)\n    private Baz baz;\n}\n</code></pre>\n<p>Now without adding <code>cascade = CascadeType.ALL</code> to the <code>@ManyToOne</code> annotation, a <code>Baz</code> object should be transient and will not be persisted. In my case, that's fine, because the <code>baztable</code> is populated elsewhere and I do not want a <code>Thing</code> entity to persist its child entities.</p>\n<p>In order to populate the <code>baz</code> field of a <code>Thing</code> I could search the <code>baztable</code> by the <code>bazname</code> column for a given entity. But what I am wondering is if its possible to create the <code>Baz</code> entity explicitly, assigning it to the <code>baz</code> field and then when persisting the <code>Thing</code> entity, it automatically looks up the needed information for the <code>@JoinColumn</code>?</p>\n<p>For example:</p>\n<pre><code>final Thing thing = new Thing();\nthing.setName(&quot;thething&quot;);\nthing.setBaz(new Baz(&quot;someotherthing&quot;));\nthingRepository.save(thing);\n\n+----------+-----------+--------+\n| thingkey | thingname | bazkey |\n+----------+-----------+--------+\n|        5 | thething  |      2 |\n+----------+-----------+--------+\n</code></pre>\n<p>In the above, the <code>bazkey</code> column is populated with the <code>bazkey</code> corresponding to the <code>Baz</code> entity persisted with the name <code>someotherthing</code>, and subsequently its <code>bazkey</code> is used as the foreign key from the <code>thingtable</code>.</p>\n"},{"tags":["java","string","reverse"],"answers":[{"tags":[],"owner":{"account_id":2496,"reputation":266244,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686592879,"creation_date":1686592879,"answer_id":76459206,"question_id":76459122,"body_markdown":"The most straightforward way to write this kind of a loop is using the `break` keyword.\r\n\r\n```java\r\npublic static void main(String[] args) {\r\n    Scanner scanner = new Scanner(System.in);\r\n    while (true) {\r\n        System.out.println(&quot;Enter some text:&quot;);\r\n        String input = scanner.nextLine();\r\n        if (input.toLowerCase().equals(&quot;stop&quot;)) {\r\n            break;\r\n        }\r\n        String reversed = reverseString(input);\r\n        System.out.println(&quot;Reversed: &quot; + reversed);\r\n        if (isPalindrome(input))\r\n            System.out.println(&quot;That&#39;s a palindrome!&quot;);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nThis eliminates the redundant test for special input, and makes your code more readable by reducing nesting.","title":"I want to output text I type backwards unless I type stop, recognize capital letters also need a solution without new char[string.length]","body":"<p>The most straightforward way to write this kind of a loop is using the <code>break</code> keyword.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n    Scanner scanner = new Scanner(System.in);\n    while (true) {\n        System.out.println(&quot;Enter some text:&quot;);\n        String input = scanner.nextLine();\n        if (input.toLowerCase().equals(&quot;stop&quot;)) {\n            break;\n        }\n        String reversed = reverseString(input);\n        System.out.println(&quot;Reversed: &quot; + reversed);\n        if (isPalindrome(input))\n            System.out.println(&quot;That's a palindrome!&quot;);\n        }\n    }\n}\n</code></pre>\n<p>This eliminates the redundant test for special input, and makes your code more readable by reducing nesting.</p>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686616009,"creation_date":1686597430,"answer_id":76459698,"question_id":76459122,"body_markdown":"&gt; _&quot;... it doesent work without the second if !.equals(&quot;stop&quot;)&quot;_\r\n\r\nYou&#39;ll need to re-order a few things for it to work with a single check for _&quot;stop&quot;_.\r\n\r\nI suggest adding a _boolean_ variable, to indicate when the loop should be exited.  \r\nAnd, change the _while_ loop, to a _do-while_ loop.\r\n\r\nAdditionally, you can use _[String#equalsIgnoreCase](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html#equalsIgnoreCase(java.lang.String))_ to equate strings with different cases.\r\n\r\n```java\r\nScanner scanner = new Scanner(System.in);\r\nString input = &quot;&quot;;\r\nboolean exit = false;\r\n\r\ndo {\r\n    System.out.println(&quot;Enter some text:&quot;);\r\n    input = scanner.nextLine();\r\n\r\n    if (input.equalsIgnoreCase(&quot;stop&quot;)) exit = true;\r\n    else {\r\n        String reversed = reverseString(input);\r\n        System.out.println(&quot;Reversed: &quot; + reversed);\r\n\r\n        if (isPalindrome(input))\r\n            System.out.println(&quot;That&#39;s a palindrome!&quot;);\r\n    }\r\n} while (!exit);\r\n```\r\n\r\nEverything else appears correct.\r\n\r\n&gt; _&quot;... need a solution without new char[string.length]&quot;_\r\n\r\nThere are a few ways to reverse a _String_ value.\r\n\r\nYou can optimize your code, by using the following.\r\n\r\n```java\r\npublic static String reverseString(String string) {\r\n    String reversed = &quot;&quot;;\r\n    for (char character : string.toCharArray())\r\n        reversed = character + reversed;\r\n    return reversed;\r\n}\r\n```\r\n\r\nAdditionally, you can use the _[StringBuilder](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/StringBuilder.html)_ class, which has a _[reverse](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/StringBuilder.html#reverse())_ method.\r\n\r\n```java\r\npublic static String reverseString(String string) {\r\n    StringBuilder reversed = new StringBuilder(string);\r\n    return reversed.reverse().toString();\r\n}\r\n```","title":"I want to output text I type backwards unless I type stop, recognize capital letters also need a solution without new char[string.length]","body":"<blockquote>\n<p><em>&quot;... it doesent work without the second if !.equals(&quot;stop&quot;)&quot;</em></p>\n</blockquote>\n<p>You'll need to re-order a few things for it to work with a single check for <em>&quot;stop&quot;</em>.</p>\n<p>I suggest adding a <em>boolean</em> variable, to indicate when the loop should be exited.<br />\nAnd, change the <em>while</em> loop, to a <em>do-while</em> loop.</p>\n<p>Additionally, you can use <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html#equalsIgnoreCase(java.lang.String)\" rel=\"nofollow noreferrer\">String#equalsIgnoreCase</a></em> to equate strings with different cases.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Scanner scanner = new Scanner(System.in);\nString input = &quot;&quot;;\nboolean exit = false;\n\ndo {\n    System.out.println(&quot;Enter some text:&quot;);\n    input = scanner.nextLine();\n\n    if (input.equalsIgnoreCase(&quot;stop&quot;)) exit = true;\n    else {\n        String reversed = reverseString(input);\n        System.out.println(&quot;Reversed: &quot; + reversed);\n\n        if (isPalindrome(input))\n            System.out.println(&quot;That's a palindrome!&quot;);\n    }\n} while (!exit);\n</code></pre>\n<p>Everything else appears correct.</p>\n<blockquote>\n<p><em>&quot;... need a solution without new char[string.length]&quot;</em></p>\n</blockquote>\n<p>There are a few ways to reverse a <em>String</em> value.</p>\n<p>You can optimize your code, by using the following.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static String reverseString(String string) {\n    String reversed = &quot;&quot;;\n    for (char character : string.toCharArray())\n        reversed = character + reversed;\n    return reversed;\n}\n</code></pre>\n<p>Additionally, you can use the <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/StringBuilder.html\" rel=\"nofollow noreferrer\">StringBuilder</a></em> class, which has a <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/StringBuilder.html#reverse()\" rel=\"nofollow noreferrer\">reverse</a></em> method.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static String reverseString(String string) {\n    StringBuilder reversed = new StringBuilder(string);\n    return reversed.reverse().toString();\n}\n</code></pre>\n"}],"owner":{"account_id":28806692,"reputation":11,"user_id":22062400,"display_name":"Hadzet"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1686616009,"creation_date":1686592012,"question_id":76459122,"body_markdown":"so the first part is easy! \r\ni just ask to enter some text and reverse this string with the reverseString method.  \r\nit will ask as long as i enter stop.\r\nit doesent work without the second if !.equals(&quot;stop&quot;) ? \r\n```\r\n`\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        Scanner scanner = new Scanner(System.in);\r\n        String input = &quot;&quot;;\r\n\r\n        while (!input.toLowerCase().equals(&quot;stop&quot;)) {\r\n            System.out.println(&quot;Enter some text:&quot;);\r\n            input = scanner.nextLine();\r\n\r\n            if (!input.toLowerCase().equals(&quot;stop&quot;)) {\r\n                String reversed = reverseString(input);\r\n                System.out.println(&quot;Reversed: &quot; + reversed);\r\n\r\n                if (isPalindrome(input))\r\n                    System.out.println(&quot;That&#39;s a palindrome!&quot;);\r\n            }\r\n        }\r\n    }\r\n\r\n///here is the second new char[string.length()] i dont get it; \r\n\r\n    public static String reverseString(String string) {\r\n        int length = string.length();\r\n        char[] reversed = new char[length];\r\n        for (int i = 0, j = length - 1; i &lt; length; i++, j--) {\r\n            reversed[j] = string.charAt(i);\r\n        }\r\n        return new String(reversed);\r\n    }\r\n\r\n    public static boolean isPalindrome(String string) {\r\n        String normalized = normalizeString(string);\r\n        return normalized.equals(reverseString(normalized));\r\n    }\r\n\r\n///here is the second new char[string.length()] i dont get it; \r\n\r\n    public static String normalizeString(String string) {\r\n        char[] normalized = new char[string.length()];\r\n        int count = 0;\r\n        for (int i = 0; i &lt; string.length(); i++) {\r\n            char c = string.charAt(i);\r\n            if (Character.isLetter(c)) {\r\n                normalized[count++] = Character.toLowerCase(c);\r\n            }\r\n        }\r\n        return new String(normalized, 0, count);\r\n    }\r\n}\r\n\r\n\r\n`\r\n```\r\n\r\nI&#39;ve tried so many things but I can&#39;t find a simple solution anymore without rewriting the whole code. are there too many methods? should i do something with substrings ? Maybe you have an idea for this.\r\n","title":"I want to output text I type backwards unless I type stop, recognize capital letters also need a solution without new char[string.length]","body":"<p>so the first part is easy!\ni just ask to enter some text and reverse this string with the reverseString method.<br />\nit will ask as long as i enter stop.\nit doesent work without the second if !.equals(&quot;stop&quot;) ?</p>\n<pre><code>`\npublic class Main {\n    public static void main(String[] args) {\n        Scanner scanner = new Scanner(System.in);\n        String input = &quot;&quot;;\n\n        while (!input.toLowerCase().equals(&quot;stop&quot;)) {\n            System.out.println(&quot;Enter some text:&quot;);\n            input = scanner.nextLine();\n\n            if (!input.toLowerCase().equals(&quot;stop&quot;)) {\n                String reversed = reverseString(input);\n                System.out.println(&quot;Reversed: &quot; + reversed);\n\n                if (isPalindrome(input))\n                    System.out.println(&quot;That's a palindrome!&quot;);\n            }\n        }\n    }\n\n///here is the second new char[string.length()] i dont get it; \n\n    public static String reverseString(String string) {\n        int length = string.length();\n        char[] reversed = new char[length];\n        for (int i = 0, j = length - 1; i &lt; length; i++, j--) {\n            reversed[j] = string.charAt(i);\n        }\n        return new String(reversed);\n    }\n\n    public static boolean isPalindrome(String string) {\n        String normalized = normalizeString(string);\n        return normalized.equals(reverseString(normalized));\n    }\n\n///here is the second new char[string.length()] i dont get it; \n\n    public static String normalizeString(String string) {\n        char[] normalized = new char[string.length()];\n        int count = 0;\n        for (int i = 0; i &lt; string.length(); i++) {\n            char c = string.charAt(i);\n            if (Character.isLetter(c)) {\n                normalized[count++] = Character.toLowerCase(c);\n            }\n        }\n        return new String(normalized, 0, count);\n    }\n}\n\n\n`\n</code></pre>\n<p>I've tried so many things but I can't find a simple solution anymore without rewriting the whole code. are there too many methods? should i do something with substrings ? Maybe you have an idea for this.</p>\n"},{"tags":["java","inheritance"],"comments":[{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":0,"creation_date":1686604988,"post_id":76460361,"comment_id":134819219,"body_markdown":"On the JVM level, there are no private classes - only package private classes. While you have a hard time compiling the code (for example by removing the `private` modifier from `TestingInner`), the generated class should work at runtime.","body":"On the JVM level, there are no private classes - only package private classes. While you have a hard time compiling the code (for example by removing the <code>private</code> modifier from <code>TestingInner</code>), the generated class should work at runtime."},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":2,"creation_date":1686605070,"post_id":76460361,"comment_id":134819231,"body_markdown":"Why are you trying to extend a private class? The point of `private` is to keep it invisible outside the declaring class.","body":"Why are you trying to extend a private class? The point of <code>private</code> is to keep it invisible outside the declaring class."},{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":0,"creation_date":1686605190,"post_id":76460361,"comment_id":134819245,"body_markdown":"@shmosel Why are you questioning OPs curiosity? The point of SO is to get answers to questions.","body":"@shmosel Why are you questioning OPs curiosity? The point of SO is to get answers to questions."},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":1,"creation_date":1686605365,"post_id":76460361,"comment_id":134819274,"body_markdown":"@JohannesKuhn I&#39;m trying to understand the question. Is OP unaware of what `private` means, or trying to work around it, or trying to do something else entirely?","body":"@JohannesKuhn I&#39;m trying to understand the question. Is OP unaware of what <code>private</code> means, or trying to work around it, or trying to do something else entirely?"},{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":0,"creation_date":1686605579,"post_id":76460361,"comment_id":134819303,"body_markdown":"@shmosel &quot;Changing private to public will work, but wanted to see if any implementation exist to override getNameString()&quot;. My educated guess after reading especially the quoted part of the question is: Yes, OP knows/is aware what `private` means.","body":"@shmosel &quot;Changing private to public will work, but wanted to see if any implementation exist to override getNameString()&quot;. My educated guess after reading especially the quoted part of the question is: Yes, OP knows/is aware what <code>private</code> means."},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1686609609,"post_id":76460361,"comment_id":134819757,"body_markdown":"So, if you declare the inner-class as _static_, even if it is _private_, you can then extend another class from it ... .","body":"So, if you declare the inner-class as <i>static</i>, even if it is <i>private</i>, you can then extend another class from it ... ."},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":1,"creation_date":1686614647,"post_id":76460361,"comment_id":134820261,"body_markdown":"@Reilas the extendability of a class has nothing to do with whether it is static or not. In terms of this question, it is purely a question of its accessibility.","body":"@Reilas the extendability of a class has nothing to do with whether it is static or not. In terms of this question, it is purely a question of its accessibility."},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1686614834,"post_id":76460361,"comment_id":134820282,"body_markdown":"@AndyTurner, then, how is it working on my computer?  Should I recommend this as a solution?","body":"@AndyTurner, then, how is it working on my computer?  Should I recommend this as a solution?"},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1686614947,"post_id":76460361,"comment_id":134820300,"body_markdown":"What part of, _&quot;... Question is there any way to override getNameString() which is under inner class which is private ...&quot;_, am I misunderstanding.  I got it to work here.","body":"What part of, <i>&quot;... Question is there any way to override getNameString() which is under inner class which is private ...&quot;</i>, am I misunderstanding.  I got it to work here."},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1686614988,"post_id":76460361,"comment_id":134820305,"body_markdown":"@Reilas I cannot say why it works for you, because I don&#39;t know exactly how you&#39;ve declared the class. Perhaps you&#39;ve declared `Testing2` inside `Testing`? It would help if you provided a [mcve], e.g. on ideone. Anyway,  you previously wrote this as an answer, and it got downvoted through the floor; I&#39;m not sure that suggesting the same thing again would get a different response.","body":"@Reilas I cannot say why it works for you, because I don&#39;t know exactly how you&#39;ve declared the class. Perhaps you&#39;ve declared <code>Testing2</code> inside <code>Testing</code>? It would help if you provided a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>, e.g. on ideone. Anyway,  you previously wrote this as an answer, and it got downvoted through the floor; I&#39;m not sure that suggesting the same thing again would get a different response."},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1686615023,"post_id":76460361,"comment_id":134820308,"body_markdown":"@AndyTurner, makes sense.","body":"@AndyTurner, makes sense."},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1686615168,"post_id":76460361,"comment_id":134820323,"body_markdown":"@AndyTurner, then why are you not recommending that as a solution?  If, it is a solution.","body":"@AndyTurner, then why are you not recommending that as a solution?  If, it is a solution."},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1686615246,"post_id":76460361,"comment_id":134820331,"body_markdown":"@Reilas I do. It&#39;s the last paragraph of my answer.","body":"@Reilas I do. It&#39;s the last paragraph of my answer."}],"answers":[{"tags":[],"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1686609132,"creation_date":1686608941,"answer_id":76460689,"question_id":76460361,"body_markdown":"No, you can&#39;t do it.  You can&#39;t extend a class that isn&#39;t visible so there is nothing visible to override.  That it is an inner class is irrelevant.","title":"java inherit method of Nester Inner class where Inner class has private Identifier","body":"<p>No, you can't do it.  You can't extend a class that isn't visible so there is nothing visible to override.  That it is an inner class is irrelevant.</p>\n"},{"comments":[{"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1686609477,"post_id":76460708,"comment_id":134819745,"body_markdown":"A much better answer than mine +1.","body":"A much better answer than mine +1."}],"tags":[],"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1686615909,"creation_date":1686609315,"answer_id":76460708,"question_id":76460361,"body_markdown":"In order to be able to extend a class, the class must be accessible: referring to [JLS 8.1.4](https://docs.oracle.com/javase/specs/jls/se19/html/jls-8.html#jls-8.1.4):\r\n\r\n&gt;     ClassExtends:\r\n&gt;        extends ClassType\r\n&gt;\r\n&gt; ...\r\n&gt;\r\n&gt; **The ClassType must name an accessible class (&#167;6.6), or a compile-time error occurs.**\r\n\r\n\r\n\r\nReferring to [JLS 6.6.1](https://docs.oracle.com/javase/specs/jls/se19/html/jls-6.html#jls-6.6.1), &quot;Determining Accessibility&quot; (emphasis added):\r\n\r\n&gt; ...\r\n&gt; * Otherwise, the member [class, interface, field, or method] or constructor is declared private. Access is permitted only when one of the following is true:\r\n&gt;   *  **Access occurs from within the body of the top level class or interface that encloses the declaration of the member or constructor.**\r\n&gt;   * Access occurs in the permits clause of the top level class or interface that encloses the declaration of the member.\r\n&gt;   * Access occurs in the record component list of the top level record class that encloses the declaration of the member.\r\n\r\nYour class would be accessible inside the body of `Testing`, the top-level class, so you could extend it there. But you can&#39;t do it outside the body of `Testing`.","title":"java inherit method of Nester Inner class where Inner class has private Identifier","body":"<p>In order to be able to extend a class, the class must be accessible: referring to <a href=\"https://docs.oracle.com/javase/specs/jls/se19/html/jls-8.html#jls-8.1.4\" rel=\"nofollow noreferrer\">JLS 8.1.4</a>:</p>\n<blockquote>\n<pre><code>ClassExtends:\n   extends ClassType\n</code></pre>\n<p>...</p>\n<p><strong>The ClassType must name an accessible class (Â§6.6), or a compile-time error occurs.</strong></p>\n</blockquote>\n<p>Referring to <a href=\"https://docs.oracle.com/javase/specs/jls/se19/html/jls-6.html#jls-6.6.1\" rel=\"nofollow noreferrer\">JLS 6.6.1</a>, &quot;Determining Accessibility&quot; (emphasis added):</p>\n<blockquote>\n<p>...</p>\n<ul>\n<li>Otherwise, the member [class, interface, field, or method] or constructor is declared private. Access is permitted only when one of the following is true:\n<ul>\n<li><strong>Access occurs from within the body of the top level class or interface that encloses the declaration of the member or constructor.</strong></li>\n<li>Access occurs in the permits clause of the top level class or interface that encloses the declaration of the member.</li>\n<li>Access occurs in the record component list of the top level record class that encloses the declaration of the member.</li>\n</ul>\n</li>\n</ul>\n</blockquote>\n<p>Your class would be accessible inside the body of <code>Testing</code>, the top-level class, so you could extend it there. But you can't do it outside the body of <code>Testing</code>.</p>\n"}],"owner":{"account_id":4027181,"reputation":347,"user_id":3314897,"display_name":"shadab"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":76460708,"answer_count":2,"score":-1,"last_activity_date":1686615909,"creation_date":1686604298,"question_id":76460361,"body_markdown":"```\r\npublic class Testing {\r\n\r\n  public String name = null;\r\n\r\n  public String getName() {\r\n    TestingInner test = new TestingInner(&quot;Testing inner override&quot;);\r\n    return test.getNameString();\r\n  }\r\n\r\n  public String testName() {\r\n    return this.name;\r\n  }\r\n\r\n  private class TestingInner {\r\n\r\n    String nameString = null;\r\n\r\n    public TestingInner(String name) {\r\n      this.nameString = name;\r\n    }\r\n\r\n    public String getNameString() {\r\n      return &quot;Inner Class &quot; + this.nameString;\r\n    }\r\n  }\r\n}\r\n\r\npublic class Testing2 extends Testing.TestingInner {\r\n\r\n  @Override\r\n  public String getNameString() {\r\n    System.out.println(&quot;Override Inner class method&quot;);\r\n    return &quot;This is&quot;;\r\n  }\r\n}\r\n```\r\n\r\nGetting multiple error message which is expected\r\n\r\n&gt; The method getNameString() of type Testing2 must override or implement a supertype method\r\n&gt; \r\n&gt; The type Testing.TestingInner is not visible\r\n\r\n**Question** is there any way to override getNameString() which is under inner class which is private. \r\nChanging private to public will work, but wanted to see if any implementation exist to override getNameString()","title":"java inherit method of Nester Inner class where Inner class has private Identifier","body":"<pre><code>public class Testing {\n\n  public String name = null;\n\n  public String getName() {\n    TestingInner test = new TestingInner(&quot;Testing inner override&quot;);\n    return test.getNameString();\n  }\n\n  public String testName() {\n    return this.name;\n  }\n\n  private class TestingInner {\n\n    String nameString = null;\n\n    public TestingInner(String name) {\n      this.nameString = name;\n    }\n\n    public String getNameString() {\n      return &quot;Inner Class &quot; + this.nameString;\n    }\n  }\n}\n\npublic class Testing2 extends Testing.TestingInner {\n\n  @Override\n  public String getNameString() {\n    System.out.println(&quot;Override Inner class method&quot;);\n    return &quot;This is&quot;;\n  }\n}\n</code></pre>\n<p>Getting multiple error message which is expected</p>\n<blockquote>\n<p>The method getNameString() of type Testing2 must override or implement a supertype method</p>\n<p>The type Testing.TestingInner is not visible</p>\n</blockquote>\n<p><strong>Question</strong> is there any way to override getNameString() which is under inner class which is private.\nChanging private to public will work, but wanted to see if any implementation exist to override getNameString()</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":2,"creation_date":1686613941,"post_id":76460890,"comment_id":134820190,"body_markdown":"What are you trying to do? When you start a process, you know what parameters you pass it. You can log these from your startup script.","body":"What are you trying to do? When you start a process, you know what parameters you pass it. You can log these from your startup script."},{"owner":{"account_id":28808020,"reputation":21,"user_id":22063409,"display_name":"Spencer Nold"},"score":0,"creation_date":1686614351,"post_id":76460890,"comment_id":134820229,"body_markdown":"I&#39;m debugging a program that I did not write. It uses Java 19, and people these days all seem to just have Java 8 downloaded, so it uses a launcher to download an openjdk jvm and run the program. The launcher is written in a language that compiles to machine code, and I don&#39;t have the knowledge to go through the assembly and figure out the individual command-line arguments being used.","body":"I&#39;m debugging a program that I did not write. It uses Java 19, and people these days all seem to just have Java 8 downloaded, so it uses a launcher to download an openjdk jvm and run the program. The launcher is written in a language that compiles to machine code, and I don&#39;t have the knowledge to go through the assembly and figure out the individual command-line arguments being used."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1686614626,"post_id":76460890,"comment_id":134820257,"body_markdown":"Does `ps -w` show you what you need?","body":"Does <code>ps -w</code> show you what you need?"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1686614995,"post_id":76460890,"comment_id":134820306,"body_markdown":"Or on windows maybe https://learn.microsoft.com/en-us/sysinternals/downloads/procmon","body":"Or on windows maybe <a href=\"https://learn.microsoft.com/en-us/sysinternals/downloads/procmon\" rel=\"nofollow noreferrer\">learn.microsoft.com/en-us/sysinternals/downloads/procmon</a>"},{"owner":{"account_id":28808020,"reputation":21,"user_id":22063409,"display_name":"Spencer Nold"},"score":0,"creation_date":1686615237,"post_id":76460890,"comment_id":134820330,"body_markdown":"Running this on a mac does not seem to give any information relating to Java whatsoever, I only see xcode programms running with ps -w","body":"Running this on a mac does not seem to give any information relating to Java whatsoever, I only see xcode programms running with ps -w"},{"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1686615291,"post_id":76460890,"comment_id":134820337,"body_markdown":"Are you sure it wasn&#39;t compiled with `native-image`? Why do you think it&#39;s a running jar?","body":"Are you sure it wasn&#39;t compiled with <code>native-image</code>? Why do you think it&#39;s a running jar?"},{"owner":{"account_id":28808020,"reputation":21,"user_id":22063409,"display_name":"Spencer Nold"},"score":0,"creation_date":1686615562,"post_id":76460890,"comment_id":134820365,"body_markdown":"Procmon was perfect and easy to use, thank you, it worked!","body":"Procmon was perfect and easy to use, thank you, it worked!"},{"owner":{"account_id":28808020,"reputation":21,"user_id":22063409,"display_name":"Spencer Nold"},"score":0,"creation_date":1686615629,"post_id":76460890,"comment_id":134820370,"body_markdown":"@ElliottFrisch I&#39;ve never worked with native images in Java, but I know the jar file location and it looks like authentic java bytecode to me, not some fancy way of compiling it to machine code or something","body":"@ElliottFrisch I&#39;ve never worked with native images in Java, but I know the jar file location and it looks like authentic java bytecode to me, not some fancy way of compiling it to machine code or something"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1686615682,"post_id":76460890,"comment_id":134820374,"body_markdown":"you might need `ps -axw`","body":"you might need <code>ps -axw</code>"},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1686617272,"post_id":76460890,"comment_id":134820512,"body_markdown":"What is the difference between &#39;I can see the arguments passed to the jar&#39; and &#39;I want to know what class path and other run arguments are being used&#39;? Please explain.","body":"What is the difference between &#39;I can see the arguments passed to the jar&#39; and &#39;I want to know what class path and other run arguments are being used&#39;? Please explain."},{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":0,"creation_date":1686619935,"post_id":76460890,"comment_id":134820743,"body_markdown":"Task Manager -&gt; Details -&gt; Rightclick the column header -&gt; Select columns -&gt; Command Line.","body":"Task Manager -&gt; Details -&gt; Rightclick the column header -&gt; Select columns -&gt; Command Line."}],"answers":[{"tags":[],"owner":{"account_id":28808020,"reputation":21,"user_id":22063409,"display_name":"Spencer Nold"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1686615736,"creation_date":1686615736,"answer_id":76461004,"question_id":76460890,"body_markdown":"Thank you tgdavies, procmon learn.microsoft.com/en-us/sysinternals/downloads/procmon worked perfectly, was intuitive, and easy to use","title":"How can I print the command-line run arguments of a running jar file?","body":"<p>Thank you tgdavies, procmon learn.microsoft.com/en-us/sysinternals/downloads/procmon worked perfectly, was intuitive, and easy to use</p>\n"}],"owner":{"account_id":28808020,"reputation":21,"user_id":22063409,"display_name":"Spencer Nold"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1686618196,"answer_count":1,"score":1,"last_activity_date":1686615736,"creation_date":1686613317,"question_id":76460890,"body_markdown":"So I have a program thatâs already running, and I want to know what command-line arguments are being used to run the jar. I can see the arguments passed to the jar with the java attach library, but I want to know what class path and other run arguments are being used. Is there any way of printing this to the terminal in any way? Java code or otherwise.\r\n\r\nNote: I am NOT looking for how to run a jar with classpath arguments, thatâs all Iâve been able to find on google\r\n\r\nMessed around with the VirtualMachine and VirtualMachineDescriptor classes, did some googling, and didnât find anything other than looping through the string array parameter in the entry point method, which is not at all what Iâm looking for.","title":"How can I print the command-line run arguments of a running jar file?","body":"<p>So I have a program thatâs already running, and I want to know what command-line arguments are being used to run the jar. I can see the arguments passed to the jar with the java attach library, but I want to know what class path and other run arguments are being used. Is there any way of printing this to the terminal in any way? Java code or otherwise.</p>\n<p>Note: I am NOT looking for how to run a jar with classpath arguments, thatâs all Iâve been able to find on google</p>\n<p>Messed around with the VirtualMachine and VirtualMachineDescriptor classes, did some googling, and didnât find anything other than looping through the string array parameter in the entry point method, which is not at all what Iâm looking for.</p>\n"},{"tags":["java","xdocreport"],"comments":[{"owner":{"account_id":25558260,"reputation":3,"user_id":19341331,"display_name":"Yono"},"score":0,"creation_date":1686616110,"post_id":76453860,"comment_id":134820414,"body_markdown":"Create an image using XdocReport Do you know how to attach it?","body":"Create an image using XdocReport Do you know how to attach it?"}],"owner":{"account_id":25558260,"reputation":3,"user_id":19341331,"display_name":"Yono"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686615713,"creation_date":1686548312,"question_id":76453860,"body_markdown":"I&#39;m trying to insert a png file into a docx file using the Java POI library. \r\n\r\n\r\nThe code looks like this \r\n\r\n```\r\n        try {\r\n            InputStream in = this.getClass().getClassLoader().getResourceAsStream(&quot;reports&quot; + File.separator + &quot;test.docx&quot;);\r\n            InputStream imageIs = this.getClass().getClassLoader().getResourceAsStream(&quot;reports&quot; + File.separator + &quot;logo.png&quot;);\r\n\r\n            byte[] image = IOUtils.toByteArray(imageIs);\r\n            IImageProvider imageProvider = new ByteArrayImageProvider(image);\r\n\r\n            IXDocReport report = XDocReportRegistry.getRegistry().loadReport(in, TemplateEngineKind.Velocity);\r\n\r\n            FieldsMetadata metadata = report.createFieldsMetadata();\r\n            metadata.addFieldAsImage(&quot;image&quot;);\r\n\r\n            IContext context = report.createContext();\r\n            context.put(&quot;created&quot;, ZonedDateTime.now().format(DateTimeFormatter.ofPattern(&quot;yyyyë MMì ddì¼&quot;)));\r\n            context.put(&quot;image&quot;, imageProvider);\r\n\r\n            String tmpDir = System.getProperty(&quot;java.io.tmpdir&quot;);\r\n            try (OutputStream out = new FileOutputStream(new File(tmpDir + File.separator + &quot;test-out.docx&quot;))) {\r\n                report.process(context, out);\r\n            }\r\n        } catch (IOException | XDocReportException e) {\r\n            e.printStackTrace();\r\n        }\r\n```\r\n\r\n\r\nI&#39;m not sure what the problem is. I keep getting the image toString instead of inserting it. \r\n\r\nImage Input \r\n\r\nBut \r\n\r\nOutput \r\n\r\nfr.opensagres.xdocreport.document.images.ByteArrayImageProvider@1af2d44a","title":"I&#39;m trying to insert a png file into a docx file using the Java XDocReport library","body":"<p>I'm trying to insert a png file into a docx file using the Java POI library.</p>\n<p>The code looks like this</p>\n<pre><code>        try {\n            InputStream in = this.getClass().getClassLoader().getResourceAsStream(&quot;reports&quot; + File.separator + &quot;test.docx&quot;);\n            InputStream imageIs = this.getClass().getClassLoader().getResourceAsStream(&quot;reports&quot; + File.separator + &quot;logo.png&quot;);\n\n            byte[] image = IOUtils.toByteArray(imageIs);\n            IImageProvider imageProvider = new ByteArrayImageProvider(image);\n\n            IXDocReport report = XDocReportRegistry.getRegistry().loadReport(in, TemplateEngineKind.Velocity);\n\n            FieldsMetadata metadata = report.createFieldsMetadata();\n            metadata.addFieldAsImage(&quot;image&quot;);\n\n            IContext context = report.createContext();\n            context.put(&quot;created&quot;, ZonedDateTime.now().format(DateTimeFormatter.ofPattern(&quot;yyyyë MMì ddì¼&quot;)));\n            context.put(&quot;image&quot;, imageProvider);\n\n            String tmpDir = System.getProperty(&quot;java.io.tmpdir&quot;);\n            try (OutputStream out = new FileOutputStream(new File(tmpDir + File.separator + &quot;test-out.docx&quot;))) {\n                report.process(context, out);\n            }\n        } catch (IOException | XDocReportException e) {\n            e.printStackTrace();\n        }\n</code></pre>\n<p>I'm not sure what the problem is. I keep getting the image toString instead of inserting it.</p>\n<p>Image Input</p>\n<p>But</p>\n<p>Output</p>\n<p>fr.opensagres.xdocreport.document.images.ByteArrayImageProvider@1af2d44a</p>\n"},{"tags":["java","regex","elasticsearch","elasticsearch-query"],"comments":[{"owner":{"account_id":27900922,"reputation":5928,"user_id":21305238,"display_name":"InSync"},"score":1,"creation_date":1685806953,"post_id":76396557,"comment_id":134714153,"body_markdown":"In regex, a quantifier (`?`) cannot be followed by another quantifier (`*`). Also, there&#39;s no need to escape `-` if it&#39;s not inside a character class.","body":"In regex, a quantifier (<code>?</code>) cannot be followed by another quantifier (<code>*</code>). Also, there&#39;s no need to escape <code>-</code> if it&#39;s not inside a character class."},{"owner":{"account_id":4725913,"reputation":37,"user_id":3822558,"display_name":"user3822558"},"score":0,"creation_date":1685808134,"post_id":76396557,"comment_id":134714279,"body_markdown":"Ok. What about other special chars like +? I tried with and without + and still didn&#39;t get the results. Am I missing something else?","body":"Ok. What about other special chars like +? I tried with and without + and still didn&#39;t get the results. Am I missing something else?"},{"owner":{"account_id":27900922,"reputation":5928,"user_id":21305238,"display_name":"InSync"},"score":0,"creation_date":1685808342,"post_id":76396557,"comment_id":134714300,"body_markdown":"(Disclaimer: I don&#39;t know Elasticsearch.) `+` means 1 or more, a succeeding `?` makes `+` only match as needed. `?` itself means 0 or 1. Please add more details on what you have and what you want to match.","body":"(Disclaimer: I don&#39;t know Elasticsearch.) <code>+</code> means 1 or more, a succeeding <code>?</code> makes <code>+</code> only match as needed. <code>?</code> itself means 0 or 1. Please add more details on what you have and what you want to match."},{"owner":{"account_id":9727861,"reputation":2565,"user_id":7214091,"display_name":"Gast&#243;n Schabas"},"score":2,"creation_date":1685809037,"post_id":76396557,"comment_id":134714386,"body_markdown":"It&#39;s not clear if you know that the regex is the one you want and elastic search is not working as you expected or something else. Have you tested the regex manually, in a set of different unit test? Please edit your post providing a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example). Show what data you have in elastic search, how you are trying to consume, what are the expected behavior and what is the actual behavior.","body":"It&#39;s not clear if you know that the regex is the one you want and elastic search is not working as you expected or something else. Have you tested the regex manually, in a set of different unit test? Please edit your post providing a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. Show what data you have in elastic search, how you are trying to consume, what are the expected behavior and what is the actual behavior."},{"owner":{"account_id":4725913,"reputation":37,"user_id":3822558,"display_name":"user3822558"},"score":0,"creation_date":1685819848,"post_id":76396557,"comment_id":134715603,"body_markdown":"I have tested very basic search for example 123*567 in my search which regex value shows 123[0-9]567 and I get no results. I tried 1234567 as input and I got 1 hit.","body":"I have tested very basic search for example 123*567 in my search which regex value shows 123[0-9]567 and I get no results. I tried 1234567 as input and I got 1 hit."},{"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1685820692,"post_id":76396557,"comment_id":134715704,"body_markdown":"Are you sure your problem has anything to do with elastic search, and it&#39;s not solely a regex problem? Your regex shows that your regex knowledge is not high. Have you tested your regex with your input using an online regex testing tool to verify it actually works? If not, consider rephrasing your question to be regex only and remove all traces of elastic search.","body":"Are you sure your problem has anything to do with elastic search, and it&#39;s not solely a regex problem? Your regex shows that your regex knowledge is not high. Have you tested your regex with your input using an online regex testing tool to verify it actually works? If not, consider rephrasing your question to be regex only and remove all traces of elastic search."},{"owner":{"account_id":4725913,"reputation":37,"user_id":3822558,"display_name":"user3822558"},"score":0,"creation_date":1685827005,"post_id":76396557,"comment_id":134716282,"body_markdown":"I used the simplest case of [0-9]123 when I know and tested 2123 exist but [0-9]123 it does not. I tested on online tool as well. What would you say is the syntax for the simplest regex case? Ex:input =&quot;*234**8&quot;; input.replace(&quot;*&quot;,&quot;[0-9]); the query I get is &quot;[0-9]234[0-9][0-9]8&quot;.","body":"I used the simplest case of [0-9]123 when I know and tested 2123 exist but [0-9]123 it does not. I tested on online tool as well. What would you say is the syntax for the simplest regex case? Ex:input =&quot;<i>234**8&quot;; input.replace(&quot;</i>&quot;,&quot;[0-9]); the query I get is &quot;[0-9]234[0-9][0-9]8&quot;."},{"owner":{"account_id":4725913,"reputation":37,"user_id":3822558,"display_name":"user3822558"},"score":0,"creation_date":1686411350,"post_id":76396557,"comment_id":134796505,"body_markdown":"Yeah so the issue was I was searching in a specific field and was not on the fields I want... so it was syntax on it..","body":"Yeah so the issue was I was searching in a specific field and was not on the fields I want... so it was syntax on it.."}],"answers":[{"tags":[],"owner":{"account_id":4725913,"reputation":37,"user_id":3822558,"display_name":"user3822558"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686411405,"creation_date":1686411405,"answer_id":76446909,"question_id":76396557,"body_markdown":"In the end I was using the wrong field for the query which i thought was there. Had to search across all fields to get some results.","title":"Elasticsearch query in java for regex not working correctly- is the syntax wrong?","body":"<p>In the end I was using the wrong field for the query which i thought was there. Had to search across all fields to get some results.</p>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686613494,"creation_date":1686613087,"answer_id":76460876,"question_id":76396557,"body_markdown":"Wikipedia has a great documentation on the regular expression syntax.  \r\n_[Wikipedia &amp;ndash; Regular expression &amp;ndash; Syntax](https://en.wikipedia.org/wiki/Regular_expression#Syntax)_.\r\n\r\nThere are a few errors with your pattern.\r\n\r\nFirstly, you&#39;ll only have to escape a hyphen character if it is within a _character class_, and is subsequently not the first, or only character, or appears after the final range.\r\n\r\nSo, it&#39;s attempting to match a value that begins with a _\\\\_ character.\r\n\r\n&gt; _&quot;... I have tried searching using regex with purely * like 234**789 ...&quot;_\r\n\r\nThe * character, in regular expression syntax, is a quantifier, as opposed to most Unix syntax that recognizes that as a wildcard character.\r\n\r\nThe meta-character you&#39;re looking for is the dot character, ..\r\n\r\nTry the following pattern, and see if the results improve.\r\n\r\n```none\r\n-?.[0-9]3475[0-9]6\r\n```\r\n\r\nAdditionally, you can, optionally, use the _\\d_ syntax to represent a _[0-9]_.\r\n\r\n```none\r\n-?.\\d3475\\d6\r\n```\r\n\r\nAs a final note, you mention\r\n\r\n&gt; _&quot;... phone numbers that could have +,# as prefix ...&quot;_\r\n\r\nWould that not mean the pattern should be\r\n\r\n```none\r\n[+#]?\\d3475\\d6\r\n```","title":"Elasticsearch query in java for regex not working correctly- is the syntax wrong?","body":"<p>Wikipedia has a great documentation on the regular expression syntax.<br />\n<em><a href=\"https://en.wikipedia.org/wiki/Regular_expression#Syntax\" rel=\"nofollow noreferrer\">Wikipedia â Regular expression â Syntax</a></em>.</p>\n<p>There are a few errors with your pattern.</p>\n<p>Firstly, you'll only have to escape a hyphen character if it is within a <em>character class</em>, and is subsequently not the first, or only character, or appears after the final range.</p>\n<p>So, it's attempting to match a value that begins with a <em>\\</em> character.</p>\n<blockquote>\n<p><em>&quot;... I have tried searching using regex with purely * like 234**789 ...&quot;</em></p>\n</blockquote>\n<p>The * character, in regular expression syntax, is a quantifier, as opposed to most Unix syntax that recognizes that as a wildcard character.</p>\n<p>The meta-character you're looking for is the dot character, ..</p>\n<p>Try the following pattern, and see if the results improve.</p>\n<pre class=\"lang-none prettyprint-override\"><code>-?.[0-9]3475[0-9]6\n</code></pre>\n<p>Additionally, you can, optionally, use the <em>\\d</em> syntax to represent a <em>[0-9]</em>.</p>\n<pre class=\"lang-none prettyprint-override\"><code>-?.\\d3475\\d6\n</code></pre>\n<p>As a final note, you mention</p>\n<blockquote>\n<p><em>&quot;... phone numbers that could have +,# as prefix ...&quot;</em></p>\n</blockquote>\n<p>Would that not mean the pattern should be</p>\n<pre class=\"lang-none prettyprint-override\"><code>[+#]?\\d3475\\d6\n</code></pre>\n"}],"owner":{"account_id":4725913,"reputation":37,"user_id":3822558,"display_name":"user3822558"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1686613494,"creation_date":1685803381,"question_id":76396557,"body_markdown":"Have not had luck finding answers but here is my situation:\r\n\r\n`QueryBuilders.regexpQuery(&quot;regexExpression&quot;,&quot;\\\\-?*[0-9]3475[0-9]6&quot;)`;\r\n\r\n&gt; `QueryBuilders.simpleQueryStringQuery(&quot;\\\\-?*2347566);`\r\n\r\nBoth queries I ran and simplequery returns 2347566 with or without the &quot;-&quot; but the regex query doesn&#39;t return anything. The value I printed out for regex query is \\\\-?*[0-9]3475[0-9]6 which is correct.  \r\nDoes anyone know why this is happening? I set the flag to &quot;all&quot; as well.\r\n\r\nTo clarify, I have a database of phone numbers that could have +,# as prefix and the user can input those characters, * and numbers in the search field. The search should ignore all instances of +,# in the search so that if I have +123 in the database, 123 search will return that result or +123 should also return same result since I am treating the + as wildcard so 0 or 1 occurence.\r\n\r\nFor example, a +123*45* should return 123[0-9]45[0-9] with or without the + (or the other occurrence.)\r\n\r\nI have tried searching using regex with purely * like 234**789 when I know there are many phone numbers that can be found if I use exact match like 23456789 or 23477789. But when I use the regex search only on * or [0-9], it returns nothing even though the value of the regex search is 234[0-9][0-9]789.\r\n\r\n","title":"Elasticsearch query in java for regex not working correctly- is the syntax wrong?","body":"<p>Have not had luck finding answers but here is my situation:</p>\n<p><code>QueryBuilders.regexpQuery(&quot;regexExpression&quot;,&quot;\\\\-?*[0-9]3475[0-9]6&quot;)</code>;</p>\n<blockquote>\n<p><code>QueryBuilders.simpleQueryStringQuery(&quot;\\\\-?*2347566);</code></p>\n</blockquote>\n<p>Both queries I ran and simplequery returns 2347566 with or without the &quot;-&quot; but the regex query doesn't return anything. The value I printed out for regex query is \\-?*[0-9]3475[0-9]6 which is correct.<br />\nDoes anyone know why this is happening? I set the flag to &quot;all&quot; as well.</p>\n<p>To clarify, I have a database of phone numbers that could have +,# as prefix and the user can input those characters, * and numbers in the search field. The search should ignore all instances of +,# in the search so that if I have +123 in the database, 123 search will return that result or +123 should also return same result since I am treating the + as wildcard so 0 or 1 occurence.</p>\n<p>For example, a +123<em>45</em> should return 123[0-9]45[0-9] with or without the + (or the other occurrence.)</p>\n<p>I have tried searching using regex with purely * like 234**789 when I know there are many phone numbers that can be found if I use exact match like 23456789 or 23477789. But when I use the regex search only on * or [0-9], it returns nothing even though the value of the regex search is 234[0-9][0-9]789.</p>\n"},{"tags":["java","algorithm","time-complexity"],"comments":[{"owner":{"account_id":226653,"reputation":39281,"user_id":487813,"accept_rate":84,"display_name":"apokryfos"},"score":0,"creation_date":1686512278,"post_id":76451768,"comment_id":134805088,"body_markdown":"can we assume that the length of any word in the world list is also 1-10^5 long?","body":"can we assume that the length of any word in the world list is also 1-10^5 long?"},{"owner":{"account_id":3837342,"reputation":6111,"user_id":3181365,"accept_rate":70,"display_name":"learner"},"score":0,"creation_date":1686512508,"post_id":76451768,"comment_id":134805106,"body_markdown":"@apokryfos, the word length in the list is a maximum of 10. I added that to my post now.","body":"@apokryfos, the word length in the list is a maximum of 10. I added that to my post now."},{"owner":{"account_id":5370447,"reputation":16262,"user_id":4279155,"accept_rate":55,"display_name":"Dominique"},"score":0,"creation_date":1686578972,"post_id":76451768,"comment_id":134813978,"body_markdown":"Shouldn&#39;t your solution be character-based instead of string-based?","body":"Shouldn&#39;t your solution be character-based instead of string-based?"},{"owner":{"account_id":3837342,"reputation":6111,"user_id":3181365,"accept_rate":70,"display_name":"learner"},"score":0,"creation_date":1686580419,"post_id":76451768,"comment_id":134814368,"body_markdown":"@Dominique, sorry I did not understand, can you explain with an example","body":"@Dominique, sorry I did not understand, can you explain with an example"}],"answers":[{"comments":[{"owner":{"account_id":4181375,"reputation":5121,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":2,"creation_date":1686517004,"post_id":76452040,"comment_id":134805566,"body_markdown":"@learner `9` is a correct answer for (`helloworld`, [`rld`]): `helloworl`","body":"@learner <code>9</code> is a correct answer for (<code>helloworld</code>, [<code>rld</code>]): <code>helloworl</code>"}],"tags":[],"owner":{"account_id":61566,"reputation":68934,"user_id":183406,"accept_rate":74,"display_name":"meriton"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1686513320,"creation_date":1686509582,"answer_id":76452040,"question_id":76451768,"body_markdown":"Your complexity analysis is wrong, because `substring` and `contains` are not constant time operations, but depend upon the length of the strings involved. \r\n\r\nSuppose the input string doesn&#39;t contain any search word. Then, you&#39;ll do substrings of length 1, 2, 3, ..., n, and call contains on each of them `m` times, for a total complexity of `O(mn^2)` ...\r\n\r\nTo get an actual `O(mn)` algorithm, I&#39;d do something like this:\r\n\r\n    var answer = 0;\r\n    var j = 0;\r\n    for (int i = 0; i &lt; s.length; i++) {\r\n        while (endsWith(s, j, i, words) j++;\r\n        answer = Math.max(answer, i - j);\r\n    }\r\n\r\nwhere \r\n\r\n    /** @return whether s[begin..end] ends with a word in words */\r\n    boolean endsWith(String s, int begin, int end, List&lt;String&gt; words) {\r\n        for (var word : words) {\r\n            if (endsWith(s, begin, end, word)) {\r\n                return true;\r\n            }\r\n        }\r\n    }\r\n\r\n    boolean endsWith(String s, int begin, int end, String word) {\r\n        var offset = end - word.length;\r\n        if (offset &lt; begin) return false;\r\n        for (int i = 0; i &lt; word.length; i++) {\r\n            if (s.charAt(offset + i) != word.charAt(i)) return false;\r\n        }\r\n        return true;\r\n    }\r\n\r\n(this code is untested, you may have to fix minor bugs, but the general idea should be solid)\r\n\r\n&gt; Can you please share time complexity of this solution, I still see it as O(m*n^2)\r\n\r\n`endsWith` is `O(m)`, and invoked at most 2n times, because each invocation increases `i` or `j`, each of which is increased at most `n` times.","title":"Find longest substring","body":"<p>Your complexity analysis is wrong, because <code>substring</code> and <code>contains</code> are not constant time operations, but depend upon the length of the strings involved.</p>\n<p>Suppose the input string doesn't contain any search word. Then, you'll do substrings of length 1, 2, 3, ..., n, and call contains on each of them <code>m</code> times, for a total complexity of <code>O(mn^2)</code> ...</p>\n<p>To get an actual <code>O(mn)</code> algorithm, I'd do something like this:</p>\n<pre><code>var answer = 0;\nvar j = 0;\nfor (int i = 0; i &lt; s.length; i++) {\n    while (endsWith(s, j, i, words) j++;\n    answer = Math.max(answer, i - j);\n}\n</code></pre>\n<p>where</p>\n<pre><code>/** @return whether s[begin..end] ends with a word in words */\nboolean endsWith(String s, int begin, int end, List&lt;String&gt; words) {\n    for (var word : words) {\n        if (endsWith(s, begin, end, word)) {\n            return true;\n        }\n    }\n}\n\nboolean endsWith(String s, int begin, int end, String word) {\n    var offset = end - word.length;\n    if (offset &lt; begin) return false;\n    for (int i = 0; i &lt; word.length; i++) {\n        if (s.charAt(offset + i) != word.charAt(i)) return false;\n    }\n    return true;\n}\n</code></pre>\n<p>(this code is untested, you may have to fix minor bugs, but the general idea should be solid)</p>\n<blockquote>\n<p>Can you please share time complexity of this solution, I still see it as O(m*n^2)</p>\n</blockquote>\n<p><code>endsWith</code> is <code>O(m)</code>, and invoked at most 2n times, because each invocation increases <code>i</code> or <code>j</code>, each of which is increased at most <code>n</code> times.</p>\n"},{"tags":[],"owner":{"account_id":4181375,"reputation":5121,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1686522047,"creation_date":1686515133,"answer_id":76452391,"question_id":76451768,"body_markdown":"I believe it is solvable with O(N * max_word_length) (at least there no polynomial dependency on word count) TC using [trie](https://en.wikipedia.org/wiki/Trie) data structure:\r\n\r\n```java\r\npublic class SO76451768 {\r\n\r\n    public int solve(String s, List&lt;String&gt; list) {\r\n        Trie revert = new Trie(true);\r\n        list.forEach(revert::add);\r\n\r\n        char[] chars = s.toCharArray();\r\n\r\n        int ans = 0;\r\n        int start = 0;\r\n        int end = 1;\r\n\r\n        while (end &lt;= chars.length) {\r\n            int r = revert.matchLen(chars, start, end);\r\n            if (r == 0) {\r\n                ans = Math.max(ans, end - start);\r\n                end++;\r\n            } else {\r\n                start = Math.max(start + 1, end - r + 1);\r\n                end = start + 1;\r\n            }\r\n        }\r\n\r\n\r\n        return ans;\r\n    }\r\n\r\n\r\n    static class Trie {\r\n\r\n        final boolean revert;\r\n\r\n        Trie[] children = new Trie[26];\r\n\r\n        boolean eow;\r\n\r\n        public Trie(boolean revert) {\r\n            this.revert = revert;\r\n        }\r\n\r\n        int matchLen(char[] c, int from, int to) {\r\n            Trie child;\r\n            Trie[] arr = children;\r\n            for (int i = 0; i &lt; to - from; i++) {\r\n                child = arr[c[revert ? to - i - 1 : i + from] - &#39;a&#39;];\r\n                if (child == null) {\r\n                    return 0;\r\n                }\r\n                if (child.eow) {\r\n                    return i + 1;\r\n                }\r\n                arr = child.children;\r\n            }\r\n            return 0;\r\n        }\r\n\r\n        void add(String key) {\r\n            Trie child = null;\r\n            Trie[] arr = children;\r\n            char[] chars = key.toCharArray();\r\n            for (int i = 0; i &lt; chars.length; i++) {\r\n                char c = chars[revert ? chars.length - i - 1 : i];\r\n                child = arr[c - &#39;a&#39;];\r\n                if (child == null) {\r\n                    child = new Trie(revert);\r\n                    arr[c - &#39;a&#39;] = child;\r\n                }\r\n                arr = child.children;\r\n            }\r\n            child.eow = true;\r\n        }\r\n    }\r\n\r\n}\r\n```","title":"Find longest substring","body":"<p>I believe it is solvable with O(N * max_word_length) (at least there no polynomial dependency on word count) TC using <a href=\"https://en.wikipedia.org/wiki/Trie\" rel=\"nofollow noreferrer\">trie</a> data structure:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class SO76451768 {\n\n    public int solve(String s, List&lt;String&gt; list) {\n        Trie revert = new Trie(true);\n        list.forEach(revert::add);\n\n        char[] chars = s.toCharArray();\n\n        int ans = 0;\n        int start = 0;\n        int end = 1;\n\n        while (end &lt;= chars.length) {\n            int r = revert.matchLen(chars, start, end);\n            if (r == 0) {\n                ans = Math.max(ans, end - start);\n                end++;\n            } else {\n                start = Math.max(start + 1, end - r + 1);\n                end = start + 1;\n            }\n        }\n\n\n        return ans;\n    }\n\n\n    static class Trie {\n\n        final boolean revert;\n\n        Trie[] children = new Trie[26];\n\n        boolean eow;\n\n        public Trie(boolean revert) {\n            this.revert = revert;\n        }\n\n        int matchLen(char[] c, int from, int to) {\n            Trie child;\n            Trie[] arr = children;\n            for (int i = 0; i &lt; to - from; i++) {\n                child = arr[c[revert ? to - i - 1 : i + from] - 'a'];\n                if (child == null) {\n                    return 0;\n                }\n                if (child.eow) {\n                    return i + 1;\n                }\n                arr = child.children;\n            }\n            return 0;\n        }\n\n        void add(String key) {\n            Trie child = null;\n            Trie[] arr = children;\n            char[] chars = key.toCharArray();\n            for (int i = 0; i &lt; chars.length; i++) {\n                char c = chars[revert ? chars.length - i - 1 : i];\n                child = arr[c - 'a'];\n                if (child == null) {\n                    child = new Trie(revert);\n                    arr[c - 'a'] = child;\n                }\n                arr = child.children;\n            }\n            child.eow = true;\n        }\n    }\n\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3837342,"reputation":6111,"user_id":3181365,"accept_rate":70,"display_name":"learner"},"score":0,"creation_date":1686596053,"post_id":76457291,"comment_id":134817682,"body_markdown":"Thank you, I read this multiple times but was not able to figure out how this works. Can you please share the code if possible I will try to run and debug the code to understand the logic.","body":"Thank you, I read this multiple times but was not able to figure out how this works. Can you please share the code if possible I will try to run and debug the code to understand the logic."},{"owner":{"account_id":2326766,"reputation":8079,"user_id":2041077,"accept_rate":40,"display_name":"Dave"},"score":0,"creation_date":1686597659,"post_id":76457291,"comment_id":134818000,"body_markdown":"Which bit don&#39;t you understand? Build the prefix tree, parsing the input string, or my last sentence which I didn&#39;t elaborate on: using the results to find the longest substring in linear additional time? I&#39;m not going to write code for you, but am happy to explain more.","body":"Which bit don&#39;t you understand? Build the prefix tree, parsing the input string, or my last sentence which I didn&#39;t elaborate on: using the results to find the longest substring in linear additional time? I&#39;m not going to write code for you, but am happy to explain more."},{"owner":{"account_id":3837342,"reputation":6111,"user_id":3181365,"accept_rate":70,"display_name":"learner"},"score":0,"creation_date":1686608455,"post_id":76457291,"comment_id":134819639,"body_markdown":"I tried to understand line by line but was not able to understand it properly. For me, it is like a newbie reading a scientific paper, I am lost completely.","body":"I tried to understand line by line but was not able to understand it properly. For me, it is like a newbie reading a scientific paper, I am lost completely."},{"owner":{"account_id":2326766,"reputation":8079,"user_id":2041077,"accept_rate":40,"display_name":"Dave"},"score":0,"creation_date":1686611547,"post_id":76457291,"comment_id":134819968,"body_markdown":"@learner I added some explanations. Does that help?","body":"@learner I added some explanations. Does that help?"}],"tags":[],"owner":{"account_id":2326766,"reputation":8079,"user_id":2041077,"accept_rate":40,"display_name":"Dave"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1686612699,"creation_date":1686577501,"answer_id":76457291,"question_id":76451768,"body_markdown":"**Step 1: store words in a prefix tree (aka trie)**\r\n\r\nWe can store words in a prefix tree (aka trie) as follows: The root node points to up to 26 nodes, one for the first letter of each word being stored. Then, each node points to up to 26 descendants, one for each letter than can follow the prefix from the root to the current node.\r\n\r\nExample: we want to store CAT, CAN, COT, ART, ARE\r\n\r\n               root\r\n              /    \\\r\n             C      A\r\n            / \\     |\r\n           A   O    R\r\n          / \\  |   / \\\r\n         N   T T  E   T\r\n\r\nPut the list of words in a prefix tree. If a word is ever an extension of another word (e.g. catatonic vs cat), omit the longer word. I.e., in creating your tree, if a word ever ends on a letter with descendants, delete all descendants from the tree. If a word ever extends past a leaf, ignore it.\r\n\r\nThis step is O(sum of letter counts of forbidden words)\r\n\r\n**Step 2: find the starting and ending indices of banned words in the input string**\r\n\r\nMaintain a linked list of references/pointers to letters in the prefix tree, initially empty. I&#39;ll call these pointers below.\r\n\r\nFirst, an example: Say the input string is CART, and the banned words are CAN, CAT, COT, ARE, ART as above.\r\n\r\n    parse C: create a new pointer to the &#39;C&#39; child of the root\r\n    parse A: create a new pointer to the &#39;A&#39; child of the root\r\n             update the &#39;C&#39; pointer to point to its child &#39;A&#39;\r\n    parse R: we don&#39;t create a new pointer since no banned word starts with &#39;R&#39;\r\n             delete the pointer to the &#39;A&#39; that has no &#39;R&#39; child\r\n             update the pointer to the other &#39;A&#39; to point to its R child\r\n    parse T: we don&#39;t create a new pointer since no banned word starts with &#39;R&#39;\r\n             update the only remaining pointer to point to its &#39;T&#39; child. Notice that this is a leaf 3 down from the root, so the end of a length 3 banned word. Store the pair of indices for later use.\r\n\r\nNote that every single pointer will always point to the current letter. On every step, a pointer either:\r\n 1. moves to its child that matches the new letter\r\n 2. is deleted if no child matches the new letter\r\n 3. is created if the root has a child matching the new letter (i.e. if a banned word starts with the new letter)\r\n\r\nParse the input string. For each letter:\r\n - for each pointer in your list of pointers, either 1) delete it if the current letter isn&#39;t a descendant, or point to the appropriate descendant if the current letter is a descendant.\r\n - create a pointer to the current letter as the first letter of a word, if possible.\r\n - if you reach the end of a word, then the last few characters in the string form a forbidden word. The character count is the depth in the prefix tree. Note the index where each word starts and ends.\r\n\r\nThis step is O((length of input string) * (average number of pointers)). I&#39;m not sure how many pointers you&#39;re likely to have active at once.\r\n\r\n**Step 3: find the longest substring that doesn&#39;t contain the starting and ending indices of any banned word**\r\n\r\nOnce this is done, in linear additional time you can use this to find the longest substring that doesn&#39;t contain a forbidden word.","title":"Find longest substring","body":"<p><strong>Step 1: store words in a prefix tree (aka trie)</strong></p>\n<p>We can store words in a prefix tree (aka trie) as follows: The root node points to up to 26 nodes, one for the first letter of each word being stored. Then, each node points to up to 26 descendants, one for each letter than can follow the prefix from the root to the current node.</p>\n<p>Example: we want to store CAT, CAN, COT, ART, ARE</p>\n<pre><code>           root\n          /    \\\n         C      A\n        / \\     |\n       A   O    R\n      / \\  |   / \\\n     N   T T  E   T\n</code></pre>\n<p>Put the list of words in a prefix tree. If a word is ever an extension of another word (e.g. catatonic vs cat), omit the longer word. I.e., in creating your tree, if a word ever ends on a letter with descendants, delete all descendants from the tree. If a word ever extends past a leaf, ignore it.</p>\n<p>This step is O(sum of letter counts of forbidden words)</p>\n<p><strong>Step 2: find the starting and ending indices of banned words in the input string</strong></p>\n<p>Maintain a linked list of references/pointers to letters in the prefix tree, initially empty. I'll call these pointers below.</p>\n<p>First, an example: Say the input string is CART, and the banned words are CAN, CAT, COT, ARE, ART as above.</p>\n<pre><code>parse C: create a new pointer to the 'C' child of the root\nparse A: create a new pointer to the 'A' child of the root\n         update the 'C' pointer to point to its child 'A'\nparse R: we don't create a new pointer since no banned word starts with 'R'\n         delete the pointer to the 'A' that has no 'R' child\n         update the pointer to the other 'A' to point to its R child\nparse T: we don't create a new pointer since no banned word starts with 'R'\n         update the only remaining pointer to point to its 'T' child. Notice that this is a leaf 3 down from the root, so the end of a length 3 banned word. Store the pair of indices for later use.\n</code></pre>\n<p>Note that every single pointer will always point to the current letter. On every step, a pointer either:</p>\n<ol>\n<li>moves to its child that matches the new letter</li>\n<li>is deleted if no child matches the new letter</li>\n<li>is created if the root has a child matching the new letter (i.e. if a banned word starts with the new letter)</li>\n</ol>\n<p>Parse the input string. For each letter:</p>\n<ul>\n<li>for each pointer in your list of pointers, either 1) delete it if the current letter isn't a descendant, or point to the appropriate descendant if the current letter is a descendant.</li>\n<li>create a pointer to the current letter as the first letter of a word, if possible.</li>\n<li>if you reach the end of a word, then the last few characters in the string form a forbidden word. The character count is the depth in the prefix tree. Note the index where each word starts and ends.</li>\n</ul>\n<p>This step is O((length of input string) * (average number of pointers)). I'm not sure how many pointers you're likely to have active at once.</p>\n<p><strong>Step 3: find the longest substring that doesn't contain the starting and ending indices of any banned word</strong></p>\n<p>Once this is done, in linear additional time you can use this to find the longest substring that doesn't contain a forbidden word.</p>\n"}],"owner":{"account_id":3837342,"reputation":6111,"user_id":3181365,"accept_rate":70,"display_name":"learner"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":640,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":76452040,"answer_count":3,"score":-1,"last_activity_date":1686612699,"creation_date":1686505931,"question_id":76451768,"body_markdown":"Given a string and list of words, I want to find the longest substring such that it does not have any word present in the provided list of words.\r\n\r\n**Constraints:**\r\n\r\n    The length of the string is 1 to 10^5, with no spaces\r\n    The size of the words list is 1 to 10, with no spaces, and each word length is in the range of 1 to 10.\r\n\r\n**Example:**\r\n\r\n    s = &quot;helloworld&quot;\r\n    words = [&quot;wor&quot;, &quot;rld&quot;]\r\n\r\n**Solution :**\r\n\r\n    Valid longest substring: hellowo , here we don&#39;t have &quot;wor&quot;, &quot;rld&quot; in this substring. \r\n    Result = 7\r\n\r\nHere is my code, which works fine for smaller inputs:\r\n\r\n    int solve(String s, List&lt;String&gt; list) {\r\n    \tint answer = 0, j=0;\r\n    \tfor(int i = 0 ; i &lt;= s.length(); i++) {\r\n    \t\tString sub = s.substring(j, i);\r\n    \t\tfor(String e : list) {\r\n    \t\t\tif(sub.contains(e)){\r\n    \t\t\t\tj = j+1;\r\n    \t\t\t\tsub = s.substring(j, i);\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\tanswer = Math.max(answer, i-j);\r\n    \t}\r\n    \treturn answer;\r\n    }\r\n\r\nThe time complexity for this code is I assume O(m*n^2) where n is the size of the input string and m is the size of the list.\r\n\r\nHow to reduce time complexity and solve this with a better approach.\r\n\r\n\r\n**Edit:** Updated the time complexity based on meriton explanation.","title":"Find longest substring","body":"<p>Given a string and list of words, I want to find the longest substring such that it does not have any word present in the provided list of words.</p>\n<p><strong>Constraints:</strong></p>\n<pre><code>The length of the string is 1 to 10^5, with no spaces\nThe size of the words list is 1 to 10, with no spaces, and each word length is in the range of 1 to 10.\n</code></pre>\n<p><strong>Example:</strong></p>\n<pre><code>s = &quot;helloworld&quot;\nwords = [&quot;wor&quot;, &quot;rld&quot;]\n</code></pre>\n<p><strong>Solution :</strong></p>\n<pre><code>Valid longest substring: hellowo , here we don't have &quot;wor&quot;, &quot;rld&quot; in this substring. \nResult = 7\n</code></pre>\n<p>Here is my code, which works fine for smaller inputs:</p>\n<pre><code>int solve(String s, List&lt;String&gt; list) {\n    int answer = 0, j=0;\n    for(int i = 0 ; i &lt;= s.length(); i++) {\n        String sub = s.substring(j, i);\n        for(String e : list) {\n            if(sub.contains(e)){\n                j = j+1;\n                sub = s.substring(j, i);\n            }\n        }\n        answer = Math.max(answer, i-j);\n    }\n    return answer;\n}\n</code></pre>\n<p>The time complexity for this code is I assume O(m*n^2) where n is the size of the input string and m is the size of the list.</p>\n<p>How to reduce time complexity and solve this with a better approach.</p>\n<p><strong>Edit:</strong> Updated the time complexity based on meriton explanation.</p>\n"},{"tags":["java","kotlin","compiler-errors"],"comments":[{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1686618013,"post_id":76460822,"comment_id":134820577,"body_markdown":"Can you show a [mcve]? What is the &quot;automatically generated setter&quot;? What generated it?","body":"Can you show a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>? What is the &quot;automatically generated setter&quot;? What generated it?"},{"owner":{"account_id":31088,"reputation":18761,"user_id":85140,"accept_rate":82,"display_name":"the_drow"},"score":0,"creation_date":1686630129,"post_id":76460822,"comment_id":134821546,"body_markdown":"Kotlin generates a property out of the `getRequest` and `setRequest` methods.","body":"Kotlin generates a property out of the <code>getRequest</code> and <code>setRequest</code> methods."},{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1686630398,"post_id":76460822,"comment_id":134821575,"body_markdown":"Okay, now post a [mcve].","body":"Okay, now post a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}],"owner":{"account_id":31088,"reputation":18761,"user_id":85140,"accept_rate":82,"display_name":"the_drow"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686611741,"creation_date":1686611741,"question_id":76460822,"body_markdown":"I&#39;m trying to use kotlin fixtures to create a builder object:\r\n```\r\n package bla.testdoubles.stubs\r\n \r\n import bla.testdoubles.TreehouseTestFixture\r\n import bla.testdoubles.fakes.FakeRequest\r\n import bla.ServiceRequest\r\n \r\n typealias Builder = ServiceRequest.ServiceRequestBuilder&lt;FakeRequest&gt;\r\n \r\n val FakeRequestFixture = MyCustomTestFixture&lt;FakeRequest&gt; {\r\n }\r\n \r\n val ServiceRequestFixture = MyCustomTestFixture&lt;Builder&gt; {\r\n     property&lt;Builder, FakeRequest&gt;(Builder::request) {\r\n         FakeRequestFixture\r\n     }\r\n \r\n     property&lt;Builder, String&gt;(&quot;fullRequestURI&quot;) {\r\n         // TODO: use Faker\r\n         &quot;123&quot;\r\n     }\r\n }\r\n```\r\nThe compiler says that Builder::request is a private member and cannot be accessed. I&#39;m trying to refer to the automatically generated setter and not the private request  variable that the Builder declared.\r\n\r\nThis is the error:\r\n Cannot access &#39;request&#39;: it is private in &#39;ServiceRequestBuilder&#39;\r\nThe generated setter uses the setRequest  method and that should be public.\r\nWhat am I doing wrong here?","title":"Cannot refer to Kotlin generated setter using Class::property","body":"<p>I'm trying to use kotlin fixtures to create a builder object:</p>\n<pre><code> package bla.testdoubles.stubs\n \n import bla.testdoubles.TreehouseTestFixture\n import bla.testdoubles.fakes.FakeRequest\n import bla.ServiceRequest\n \n typealias Builder = ServiceRequest.ServiceRequestBuilder&lt;FakeRequest&gt;\n \n val FakeRequestFixture = MyCustomTestFixture&lt;FakeRequest&gt; {\n }\n \n val ServiceRequestFixture = MyCustomTestFixture&lt;Builder&gt; {\n     property&lt;Builder, FakeRequest&gt;(Builder::request) {\n         FakeRequestFixture\n     }\n \n     property&lt;Builder, String&gt;(&quot;fullRequestURI&quot;) {\n         // TODO: use Faker\n         &quot;123&quot;\n     }\n }\n</code></pre>\n<p>The compiler says that Builder::request is a private member and cannot be accessed. I'm trying to refer to the automatically generated setter and not the private request  variable that the Builder declared.</p>\n<p>This is the error:\nCannot access 'request': it is private in 'ServiceRequestBuilder'\nThe generated setter uses the setRequest  method and that should be public.\nWhat am I doing wrong here?</p>\n"},{"tags":["java","redis","quarkus"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":1,"creation_date":1670430916,"post_id":74719917,"comment_id":131876268,"body_markdown":"Please [edit] the post and add a [MRE], otherwise it might be difficult to help.","body":"Please <a href=\"https://stackoverflow.com/posts/74719917/edit\">edit</a> the post and add a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>, otherwise it might be difficult to help."},{"owner":{"account_id":1276303,"reputation":2937,"user_id":1231484,"display_name":"Clement"},"score":1,"creation_date":1670441666,"post_id":74719917,"comment_id":131879693,"body_markdown":"The high-level (datasource) API does not provide Redis Streams command yet, but you can use the low level APIs (`Redis` and `RedisAPI`) and use the commands directly.","body":"The high-level (datasource) API does not provide Redis Streams command yet, but you can use the low level APIs (<code>Redis</code> and <code>RedisAPI</code>) and use the commands directly."},{"owner":{"account_id":19135777,"reputation":505,"user_id":13976784,"display_name":"Aswath Murugan"},"score":1,"creation_date":1670470063,"post_id":74719917,"comment_id":131884804,"body_markdown":"Using low level APIs am able to read data from stream, I want to a listener to recv seq of data. is there any examples?","body":"Using low level APIs am able to read data from stream, I want to a listener to recv seq of data. is there any examples?"}],"answers":[{"tags":[],"owner":{"account_id":5803745,"reputation":140,"user_id":4577096,"display_name":"Michal Hlav&#225;Ä"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1686590295,"creation_date":1686590295,"answer_id":76458942,"question_id":74719917,"body_markdown":"I make it work using `Multi.createBy().repeating()`:\r\n\r\n    @Startup\r\n    @ApplicationScoped\r\n    public class StreamListener {\r\n    \r\n        private static final Logger log = LoggerFactory.getLogger(StreamListener.class);\r\n    \r\n        private static final String CHANNEL = &quot;channel&quot;;\r\n        private static final String STREAM = &quot;stream&quot;;\r\n        private static final String STREAM_GROUP = &quot;stream_0&quot;;\r\n        private static final String STREAM_CONSUMER = &quot;consumer&quot;;\r\n    \r\n        private final ReactiveStreamCommands&lt;String, String, MyMessage&gt; stream;\r\n        private Cancellable consumer;\r\n    \r\n        public StreamListener(ReactiveRedisDataSource ds) {\r\n            this.stream = ds.stream(MyMessage.class);\r\n        }\r\n    \r\n        @PostConstruct\r\n        void onStart() {\r\n            log.info(&quot;Stream listener is starting...&quot;);\r\n    \r\n            this.consumer = this.stream.xgroupCreate(STREAM, STREAM_GROUP, &quot;0-0&quot;)\r\n                    .onFailure().recoverWithNull()\r\n                    .map(v -&gt; this.stream.xgroupCreateConsumer(STREAM, STREAM_GROUP, STREAM_CONSUMER))\r\n                    .map(v -&gt; createStreamListener())\r\n                    .subscribe().with(cancellable -&gt; this.consumer = cancellable);\r\n    \r\n            log.info(&quot;Subscribed to {} channel&quot;, CHANNEL);\r\n        }\r\n    \r\n        @PreDestroy\r\n        void onStop() {\r\n            log.info(&quot;The application is stopping...&quot;);\r\n            this.consumer.cancel();\r\n            this.stream.xgroupDelConsumer(STREAM, STREAM_GROUP, STREAM_CONSUMER)\r\n                    .subscribe()\r\n                    .with(unack -&gt; log.info(&quot;Consumer deleted with {} unacknowledged messages&quot;, unack));\r\n        }\r\n    \r\n        private Cancellable createStreamListener() {\r\n            log.info(&quot;Creating stream listener&quot;);\r\n            XReadGroupArgs args = new XReadGroupArgs().block(Duration.ofSeconds(60)).count(10);\r\n            return Multi.createBy()\r\n                    .repeating()\r\n                    .uni(() -&gt; this.stream.xreadgroup(STREAM_GROUP, STREAM_CONSUMER, STREAM, &quot;&gt;&quot;, args)\r\n                            .onFailure().recoverWithItem(emptyList()))\r\n                    .indefinitely()\r\n                    .map(this::processMessage)\r\n                    .onFailure().recoverWithItem(e -&gt; {\r\n                        log.error(&quot;Cannot process message&quot;, e);\r\n                        return new String[0];\r\n                    })\r\n                    .map(this::acknowledge)\r\n                    .onItem().transformToUniAndConcatenate(Function.identity())\r\n                    .subscribe()\r\n                    .with(count -&gt; log.debug(&quot;Collected {} requests&quot;, count));\r\n        }\r\n    \r\n        String[] processMessage(List&lt;StreamMessage&lt;String, String, MyMessage&gt;&gt; messages) {\r\n            List&lt;String&gt; messageIds = new ArrayList&lt;&gt;();\r\n            for (StreamMessage&lt;String, String, MyMessage&gt; message : messages) {\r\n                messageIds.add(message.id());\r\n                // do your job here\r\n            }\r\n            return messageIds.toArray(new String[0]);\r\n        }\r\n    \r\n        Uni&lt;Integer&gt; acknowledge(String[] ids) {\r\n            log.debug(&quot;Acknowledge {} messages&quot;, ids.length);\r\n            return ids.length &gt; 0 ? this.stream.xack(STREAM, STREAM_GROUP, ids) : Uni.createFrom().item(0);\r\n        }\r\n    \r\n        @Scheduled(every = &quot;1h&quot;)\r\n        void trimStream() {\r\n            this.stream.xtrim(STREAM, new XTrimArgs().maxlen(10000).nearlyExactTrimming())\r\n                    .subscribe().with(count -&gt; log.info(&quot;Trimmed {} messages from stream {}&quot;, count, STREAM));\r\n        }\r\n    \r\n        private static class MyMessage {\r\n        }\r\n    }\r\n\r\n","title":"How to use Quarkus to read data from Redis Stream?","body":"<p>I make it work using <code>Multi.createBy().repeating()</code>:</p>\n<pre><code>@Startup\n@ApplicationScoped\npublic class StreamListener {\n\n    private static final Logger log = LoggerFactory.getLogger(StreamListener.class);\n\n    private static final String CHANNEL = &quot;channel&quot;;\n    private static final String STREAM = &quot;stream&quot;;\n    private static final String STREAM_GROUP = &quot;stream_0&quot;;\n    private static final String STREAM_CONSUMER = &quot;consumer&quot;;\n\n    private final ReactiveStreamCommands&lt;String, String, MyMessage&gt; stream;\n    private Cancellable consumer;\n\n    public StreamListener(ReactiveRedisDataSource ds) {\n        this.stream = ds.stream(MyMessage.class);\n    }\n\n    @PostConstruct\n    void onStart() {\n        log.info(&quot;Stream listener is starting...&quot;);\n\n        this.consumer = this.stream.xgroupCreate(STREAM, STREAM_GROUP, &quot;0-0&quot;)\n                .onFailure().recoverWithNull()\n                .map(v -&gt; this.stream.xgroupCreateConsumer(STREAM, STREAM_GROUP, STREAM_CONSUMER))\n                .map(v -&gt; createStreamListener())\n                .subscribe().with(cancellable -&gt; this.consumer = cancellable);\n\n        log.info(&quot;Subscribed to {} channel&quot;, CHANNEL);\n    }\n\n    @PreDestroy\n    void onStop() {\n        log.info(&quot;The application is stopping...&quot;);\n        this.consumer.cancel();\n        this.stream.xgroupDelConsumer(STREAM, STREAM_GROUP, STREAM_CONSUMER)\n                .subscribe()\n                .with(unack -&gt; log.info(&quot;Consumer deleted with {} unacknowledged messages&quot;, unack));\n    }\n\n    private Cancellable createStreamListener() {\n        log.info(&quot;Creating stream listener&quot;);\n        XReadGroupArgs args = new XReadGroupArgs().block(Duration.ofSeconds(60)).count(10);\n        return Multi.createBy()\n                .repeating()\n                .uni(() -&gt; this.stream.xreadgroup(STREAM_GROUP, STREAM_CONSUMER, STREAM, &quot;&gt;&quot;, args)\n                        .onFailure().recoverWithItem(emptyList()))\n                .indefinitely()\n                .map(this::processMessage)\n                .onFailure().recoverWithItem(e -&gt; {\n                    log.error(&quot;Cannot process message&quot;, e);\n                    return new String[0];\n                })\n                .map(this::acknowledge)\n                .onItem().transformToUniAndConcatenate(Function.identity())\n                .subscribe()\n                .with(count -&gt; log.debug(&quot;Collected {} requests&quot;, count));\n    }\n\n    String[] processMessage(List&lt;StreamMessage&lt;String, String, MyMessage&gt;&gt; messages) {\n        List&lt;String&gt; messageIds = new ArrayList&lt;&gt;();\n        for (StreamMessage&lt;String, String, MyMessage&gt; message : messages) {\n            messageIds.add(message.id());\n            // do your job here\n        }\n        return messageIds.toArray(new String[0]);\n    }\n\n    Uni&lt;Integer&gt; acknowledge(String[] ids) {\n        log.debug(&quot;Acknowledge {} messages&quot;, ids.length);\n        return ids.length &gt; 0 ? this.stream.xack(STREAM, STREAM_GROUP, ids) : Uni.createFrom().item(0);\n    }\n\n    @Scheduled(every = &quot;1h&quot;)\n    void trimStream() {\n        this.stream.xtrim(STREAM, new XTrimArgs().maxlen(10000).nearlyExactTrimming())\n                .subscribe().with(count -&gt; log.info(&quot;Trimmed {} messages from stream {}&quot;, count, STREAM));\n    }\n\n    private static class MyMessage {\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":19135777,"reputation":505,"user_id":13976784,"display_name":"Aswath Murugan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":282,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1686610795,"creation_date":1670430579,"question_id":74719917,"body_markdown":"Am trying to read data from Redis stream using Quarkus. But am unable to achieve it.Upon checking the Quarkus guide,stream is not available yet .Is there any other way that I could read data from Redis Stream using Quarkus\r\n\r\nUsing Redis API\r\n```\r\n @Startup\r\n  void onStart(@Observes StartupEvent ev) {\r\n    System.out.println(&quot;Stream&quot;);\r\n    Redis.createClient(vertx)\r\n        .connect()\r\n        .onSuccess(connection -&gt; {\r\n          // use the connection\r\n          System.out.println(&quot;Successfully connected = &quot; + connection + &quot; &quot; + Thread.currentThread().getName());\r\n          connection.handler(message -&gt; {\r\n            // do whatever you need to do with your message\r\n            System.out.println(&quot;Message = &quot; + message + &quot; &quot; + Thread.currentThread().getName());\r\n          });\r\n          connection.send(Request.cmd(Command.XRANGE).arg(&quot;test&quot;).arg(&quot;-&quot;).arg(&quot;+&quot;))\r\n              .onSuccess(res -&gt; {\r\n                System.out.println(&quot;Subscribed&quot;);\r\n                System.out.println(res);\r\n              });\r\n        });\r\n  }\r\n```","title":"How to use Quarkus to read data from Redis Stream?","body":"<p>Am trying to read data from Redis stream using Quarkus. But am unable to achieve it.Upon checking the Quarkus guide,stream is not available yet .Is there any other way that I could read data from Redis Stream using Quarkus</p>\n<p>Using Redis API</p>\n<pre><code> @Startup\n  void onStart(@Observes StartupEvent ev) {\n    System.out.println(&quot;Stream&quot;);\n    Redis.createClient(vertx)\n        .connect()\n        .onSuccess(connection -&gt; {\n          // use the connection\n          System.out.println(&quot;Successfully connected = &quot; + connection + &quot; &quot; + Thread.currentThread().getName());\n          connection.handler(message -&gt; {\n            // do whatever you need to do with your message\n            System.out.println(&quot;Message = &quot; + message + &quot; &quot; + Thread.currentThread().getName());\n          });\n          connection.send(Request.cmd(Command.XRANGE).arg(&quot;test&quot;).arg(&quot;-&quot;).arg(&quot;+&quot;))\n              .onSuccess(res -&gt; {\n                System.out.println(&quot;Subscribed&quot;);\n                System.out.println(res);\n              });\n        });\n  }\n</code></pre>\n"},{"tags":["java","spring-boot","log4j2"],"comments":[{"owner":{"account_id":10408148,"reputation":1398,"user_id":7674438,"accept_rate":100,"display_name":"Lore"},"score":0,"creation_date":1686579929,"post_id":76456559,"comment_id":134814229,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":28804356,"reputation":1,"user_id":22060550,"display_name":"Aristotoo"},"score":0,"creation_date":1686596352,"post_id":76456559,"comment_id":134817724,"body_markdown":"All code was working fine until I decided to install log4j2.what specifically is missing?","body":"All code was working fine until I decided to install log4j2.what specifically is missing?"}],"answers":[{"comments":[{"owner":{"account_id":28804356,"reputation":1,"user_id":22060550,"display_name":"Aristotoo"},"score":0,"creation_date":1686577544,"post_id":76456947,"comment_id":134813631,"body_markdown":"I think I understand what you mean, but I&#39;ve never experienced anything like this. I would be grateful if you tell me what I need to do?\nManually fix all version conflicts?","body":"I think I understand what you mean, but I&#39;ve never experienced anything like this. I would be grateful if you tell me what I need to do? Manually fix all version conflicts?"}],"tags":[],"owner":{"account_id":7673258,"reputation":1688,"user_id":6200354,"display_name":"atish.s"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686574999,"creation_date":1686574999,"answer_id":76456947,"question_id":76456559,"body_markdown":"This is a typical issue when dependencies are not compatible with each other. I think the log4j2 dependency added is not compatible with the version of spring you are using.\r\n\r\nYou might want to analyze the dependencies to see the conflicting maven dependencies.\r\n\r\nI have done it using the [Dependency Analyzer][1] in intelliJ and it is not looking good.\r\n\r\n[![Conflicting dependencies][2]][2]\r\n\r\n\r\n  [1]: https://www.jetbrains.com/idea/guide/tutorials/analyzing-dependencies/dependency-analyzer/\r\n  [2]: https://i.stack.imgur.com/PVkCn.png","title":"After connecting Log4j2 spring boot application throws java.lang.NoClassDefFoundError","body":"<p>This is a typical issue when dependencies are not compatible with each other. I think the log4j2 dependency added is not compatible with the version of spring you are using.</p>\n<p>You might want to analyze the dependencies to see the conflicting maven dependencies.</p>\n<p>I have done it using the <a href=\"https://www.jetbrains.com/idea/guide/tutorials/analyzing-dependencies/dependency-analyzer/\" rel=\"nofollow noreferrer\">Dependency Analyzer</a> in intelliJ and it is not looking good.</p>\n<p><a href=\"https://i.stack.imgur.com/PVkCn.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PVkCn.png\" alt=\"Conflicting dependencies\" /></a></p>\n"}],"owner":{"account_id":28804356,"reputation":1,"user_id":22060550,"display_name":"Aristotoo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":619,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686610268,"creation_date":1686571859,"question_id":76456559,"body_markdown":"I am new to programming. I have a `multi`-`module` application. After I excluded `spring-boot-starter-logging` in `POM.xml` and connecting `Log4j2`, `Spring Boot` application throws an exception `java.lang.NoClassDefFoundError: org.springframework.core.NestedIOException`.\r\n\r\nParent `POM.xml`:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\r\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n  &lt;groupId&gt;com.bogdan.pms&lt;/groupId&gt;\r\n  &lt;artifactId&gt;Project_Management_System&lt;/artifactId&gt;\r\n  &lt;packaging&gt;pom&lt;/packaging&gt;\r\n  &lt;version&gt;${revision}${changelist}&lt;/version&gt;\r\n\r\n  &lt;modules&gt;\r\n    &lt;module&gt;PMS-App&lt;/module&gt;\r\n    &lt;module&gt;PMS-dto&lt;/module&gt;\r\n    &lt;module&gt;PMS-datalayer&lt;/module&gt;\r\n    &lt;module&gt;PMS-core&lt;/module&gt;\r\n    &lt;module&gt;PMS-web&lt;/module&gt;\r\n    &lt;module&gt;PMS-common&lt;/module&gt;\r\n  &lt;/modules&gt;\r\n  &lt;properties&gt;\r\n    &lt;revision&gt;0.1&lt;/revision&gt;\r\n    &lt;changelist&gt;-SNAPSHOT&lt;/changelist&gt;\r\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\r\n    &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\r\n  &lt;/properties&gt;\r\n\r\n  &lt;dependencies&gt;\r\n    \r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n      &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n      &lt;version&gt;1.18.26&lt;/version&gt;\r\n      &lt;scope&gt;provided&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    \r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n      &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n      &lt;version&gt;42.6.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n  \r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.liquibase&lt;/groupId&gt;\r\n      &lt;artifactId&gt;liquibase-core&lt;/artifactId&gt;\r\n      &lt;version&gt;4.22.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    \r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n      &lt;version&gt;3.1.0&lt;/version&gt;\r\n      &lt;exclusions&gt;\r\n        &lt;exclusion&gt;\r\n        &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jul-to-slf4j&lt;/artifactId&gt;\r\n        &lt;/exclusion&gt;\r\n        &lt;exclusion&gt;\r\n          &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n          &lt;artifactId&gt;log4j-to-slf4j&lt;/artifactId&gt;\r\n        &lt;/exclusion&gt;\r\n      &lt;/exclusions&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    \r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n      &lt;version&gt;3.1.0&lt;/version&gt;\r\n      &lt;exclusions&gt;\r\n        &lt;exclusion&gt;\r\n          &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n          &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\r\n        &lt;/exclusion&gt;\r\n      &lt;/exclusions&gt;\r\n    &lt;/dependency&gt;\r\n\r\n   \r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n      &lt;version&gt;3.1.0&lt;/version&gt;\r\n      &lt;exclusions&gt;\r\n        &lt;exclusion&gt;\r\n          &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n          &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\r\n        &lt;/exclusion&gt;\r\n      &lt;/exclusions&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    \r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-boot-starter-log4j2&lt;/artifactId&gt;\r\n      &lt;version&gt;3.1.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    \r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n      &lt;artifactId&gt;log4j-spring-boot&lt;/artifactId&gt;\r\n      &lt;version&gt;2.20.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n      &lt;artifactId&gt;springdoc-openapi-starter-webmvc-ui&lt;/artifactId&gt;\r\n      &lt;version&gt;2.0.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n      &lt;artifactId&gt;springfox-boot-starter&lt;/artifactId&gt;\r\n      &lt;version&gt;3.0.0&lt;/version&gt;\r\n      &lt;exclusions&gt;\r\n        &lt;exclusion&gt;\r\n          &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n          &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n        &lt;/exclusion&gt;\r\n      &lt;/exclusions&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    \r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n      &lt;version&gt;3.1.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-security-oauth2-client&lt;/artifactId&gt;\r\n      &lt;version&gt;6.1.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-security-oauth2-jose&lt;/artifactId&gt;\r\n      &lt;version&gt;6.1.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    \r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n      &lt;version&gt;3.1.0&lt;/version&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.testcontainers&lt;/groupId&gt;\r\n      &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n      &lt;version&gt;1.17.6&lt;/version&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\n  &lt;/dependencies&gt;\r\n\r\n  &lt;build&gt;\r\n    &lt;finalName&gt;project_management_system&lt;/finalName&gt;\r\n    &lt;pluginManagement&gt;\r\n      &lt;plugins&gt;\r\n        &lt;plugin&gt;\r\n          &lt;groupId&gt;org.liquibase&lt;/groupId&gt;\r\n          &lt;artifactId&gt;liquibase-maven-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;4.22.0&lt;/version&gt;\r\n            &lt;configuration&gt;\r\n              &lt;url&gt;jdbc:postgresql://localhost:5432/project_management_system&lt;/url&gt;\r\n              &lt;username&gt;postgres&lt;/username&gt;\r\n              &lt;password&gt;*****&lt;/password&gt;\r\n              &lt;outputChangeLogFile&gt;db.changelog-master.xml&lt;/outputChangeLogFile&gt;\r\n            &lt;/configuration&gt;\r\n        &lt;/plugin&gt;\r\n\r\n        &lt;plugin&gt;\r\n          &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n          &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n          &lt;configuration&gt;\r\n            &lt;mainClass&gt;com.bogdan.pms.Application&lt;/mainClass&gt;\r\n          &lt;/configuration&gt;\r\n        &lt;/plugin&gt;\r\n      &lt;/plugins&gt;\r\n    &lt;/pluginManagement&gt;\r\n  &lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nlog4j2.xml\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;Configuration status=&quot;DEBUG&quot;&gt;\r\n    &lt;Appenders&gt;\r\n        &lt;Console name=&quot;LogToConsole&quot; target=&quot;SYSTEM_OUT&quot;&gt;\r\n            &lt;PatternLayout pattern=&quot;%d{HH:mm:ss.SSS} [%t] %-5level %logger{36} - %msg%n&quot;/&gt;\r\n        &lt;/Console&gt;\r\n        &lt;File name=&quot;LogToFile&quot; fileName=&quot;logs/app.log&quot;&gt;\r\n            &lt;PatternLayout&gt;\r\n                &lt;Pattern&gt;%d %p %c{1.} [%t] %m%n&lt;/Pattern&gt;\r\n            &lt;/PatternLayout&gt;\r\n        &lt;/File&gt;\r\n    &lt;/Appenders&gt;\r\n    &lt;Loggers&gt;\r\n        &lt;Logger name=&quot;com.bogdan&quot; level=&quot;debug&quot; additivity=&quot;false&quot;&gt;\r\n            &lt;AppenderRef ref=&quot;LogToFile&quot;/&gt;\r\n            &lt;AppenderRef ref=&quot;LogToConsole&quot;/&gt;\r\n        &lt;/Logger&gt;\r\n        &lt;Logger name=&quot;org.springframework.boot&quot; level=&quot;error&quot; additivity=&quot;false&quot;&gt;\r\n            &lt;AppenderRef ref=&quot;LogToConsole&quot;/&gt;\r\n        &lt;/Logger&gt;\r\n        &lt;Root level=&quot;error&quot;&gt;\r\n            &lt;AppenderRef ref=&quot;LogToFile&quot;/&gt;\r\n            &lt;AppenderRef ref=&quot;LogToConsole&quot;/&gt;\r\n        &lt;/Root&gt;\r\n    &lt;/Loggers&gt;\r\n&lt;/Configuration&gt;\r\n```\r\n\r\nAfter launching the application:\r\n\r\n```\r\n  .   ____          _            __ _ _\r\n /\\\\ / ___&#39;_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\r\n( ( )\\___ | &#39;_ | &#39;_| | &#39;_ \\/ _` | \\ \\ \\ \\\r\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\r\n  &#39;  |____| .__|_| |_|_| |_\\__, | / / / /\r\n =========|_|==============|___/=/_/_/_/\r\n :: Spring Boot ::                (v3.1.0)\r\n\r\n14:38:44.491 [main] INFO  com.bogdan.pms.Application - Starting Application using Java 17.0.7 with PID 5256 (D:\\IT\\DigDes\\ProjectManagementSystem\\PMS-App\\target\\classes started by Bogdan in D:\\IT\\DigDes\\ProjectManagementSystem)\r\nDEBUG StatusConsoleListener AsyncLogger.ThreadNameStrategy=UNCACHED (user specified null, default is UNCACHED)\r\nDEBUG StatusConsoleListener org.apache.logging.log4j.core.util.SystemClock supports precise timestamps.\r\n14:38:44.548 [main] DEBUG com.bogdan.pms.Application - Running with Spring Boot v3.1.0, Spring v5.3.24\r\n14:38:44.550 [main] INFO  com.bogdan.pms.Application - No active profile set, falling back to 1 default profile: &quot;default&quot;\r\n14:38:44.814 [main] ERROR org.springframework.boot.SpringApplication - Application run failed\r\njava.lang.NoClassDefFoundError: org/springframework/core/NestedIOException\r\n\tat org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:323) ~[spring-context-5.3.24.jar:5.3.24]\r\n\tat org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:247) ~[spring-context-5.3.24.jar:5.3.24]\r\n\tat org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:311) ~[spring-context-5.3.24.jar:5.3.24]\r\n\tat org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:112) ~[spring-context-5.3.24.jar:5.3.24]\r\n\tat org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:746) ~[spring-context-5.3.24.jar:5.3.24]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:564) ~[spring-context-5.3.24.jar:5.3.24]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.1.0.jar:3.1.0]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:733) [spring-boot-3.1.0.jar:3.1.0]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:435) [spring-boot-3.1.0.jar:3.1.0]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:311) [spring-boot-3.1.0.jar:3.1.0]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1305) [spring-boot-3.1.0.jar:3.1.0]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1294) [spring-boot-3.1.0.jar:3.1.0]\r\n\tat com.bogdan.pms.Application.main(Application.java:14) [classes/:?]\r\nCaused by: java.lang.ClassNotFoundException: org.springframework.core.NestedIOException\r\n\tat jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641) ~[?:?]\r\n\tat jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188) ~[?:?]\r\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:520) ~[?:?]\r\n\t... 13 more\r\nDEBUG StatusConsoleListener Stopping LoggerContext[name=6f94fa3e, org.apache.logging.log4j.core.LoggerContext@2ca26d77]...\r\nDEBUG StatusConsoleListener Shutting down FileManager logs/app.log\r\nDEBUG StatusConsoleListener OutputStream closed\r\nDEBUG StatusConsoleListener Shut down FileManager logs/app.log, all resources released: true\r\nDEBUG StatusConsoleListener Appender LogToFile stopped with status true\r\nDEBUG StatusConsoleListener Shutting down OutputStreamManager SYSTEM_OUT.false.false\r\nDEBUG StatusConsoleListener OutputStream closed\r\nDEBUG StatusConsoleListener Shut down OutputStreamManager SYSTEM_OUT.false.false, all resources released: true\r\nDEBUG StatusConsoleListener Appender LogToConsole stopped with status true\r\nDEBUG StatusConsoleListener Stopped XmlConfiguration[location=D:\\IT\\DigDes\\ProjectManagementSystem\\PMS-web\\target\\classes\\log4j2.xml] OK\r\nDEBUG StatusConsoleListener Stopped LoggerContext[name=6f94fa3e, org.apache.logging.log4j.core.LoggerContext@2ca26d77] with status true\r\n\r\nProcess finished with exit code 1\r\n```\r\n\r\nI hope I provided enough information. I will be glad for any help.","title":"After connecting Log4j2 spring boot application throws java.lang.NoClassDefFoundError","body":"<p>I am new to programming. I have a <code>multi</code>-<code>module</code> application. After I excluded <code>spring-boot-starter-logging</code> in <code>POM.xml</code> and connecting <code>Log4j2</code>, <code>Spring Boot</code> application throws an exception <code>java.lang.NoClassDefFoundError: org.springframework.core.NestedIOException</code>.</p>\n<p>Parent <code>POM.xml</code>:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n  &lt;groupId&gt;com.bogdan.pms&lt;/groupId&gt;\n  &lt;artifactId&gt;Project_Management_System&lt;/artifactId&gt;\n  &lt;packaging&gt;pom&lt;/packaging&gt;\n  &lt;version&gt;${revision}${changelist}&lt;/version&gt;\n\n  &lt;modules&gt;\n    &lt;module&gt;PMS-App&lt;/module&gt;\n    &lt;module&gt;PMS-dto&lt;/module&gt;\n    &lt;module&gt;PMS-datalayer&lt;/module&gt;\n    &lt;module&gt;PMS-core&lt;/module&gt;\n    &lt;module&gt;PMS-web&lt;/module&gt;\n    &lt;module&gt;PMS-common&lt;/module&gt;\n  &lt;/modules&gt;\n  &lt;properties&gt;\n    &lt;revision&gt;0.1&lt;/revision&gt;\n    &lt;changelist&gt;-SNAPSHOT&lt;/changelist&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\n  &lt;/properties&gt;\n\n  &lt;dependencies&gt;\n    \n    &lt;dependency&gt;\n      &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n      &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n      &lt;version&gt;1.18.26&lt;/version&gt;\n      &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    \n    &lt;dependency&gt;\n      &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n      &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n      &lt;version&gt;42.6.0&lt;/version&gt;\n    &lt;/dependency&gt;\n\n  \n    &lt;dependency&gt;\n      &lt;groupId&gt;org.liquibase&lt;/groupId&gt;\n      &lt;artifactId&gt;liquibase-core&lt;/artifactId&gt;\n      &lt;version&gt;4.22.0&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    \n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n      &lt;version&gt;3.1.0&lt;/version&gt;\n      &lt;exclusions&gt;\n        &lt;exclusion&gt;\n        &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n        &lt;artifactId&gt;jul-to-slf4j&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n        &lt;exclusion&gt;\n          &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n          &lt;artifactId&gt;log4j-to-slf4j&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n      &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n\n    \n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n      &lt;version&gt;3.1.0&lt;/version&gt;\n      &lt;exclusions&gt;\n        &lt;exclusion&gt;\n          &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n          &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n      &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n\n   \n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n      &lt;version&gt;3.1.0&lt;/version&gt;\n      &lt;exclusions&gt;\n        &lt;exclusion&gt;\n          &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n          &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n      &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n\n    \n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-starter-log4j2&lt;/artifactId&gt;\n      &lt;version&gt;3.1.0&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    \n    &lt;dependency&gt;\n      &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n      &lt;artifactId&gt;log4j-spring-boot&lt;/artifactId&gt;\n      &lt;version&gt;2.20.0&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n      &lt;artifactId&gt;springdoc-openapi-starter-webmvc-ui&lt;/artifactId&gt;\n      &lt;version&gt;2.0.0&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n      &lt;artifactId&gt;springfox-boot-starter&lt;/artifactId&gt;\n      &lt;version&gt;3.0.0&lt;/version&gt;\n      &lt;exclusions&gt;\n        &lt;exclusion&gt;\n          &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n          &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n      &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n\n    \n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n      &lt;version&gt;3.1.0&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-security-oauth2-client&lt;/artifactId&gt;\n      &lt;version&gt;6.1.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-security-oauth2-jose&lt;/artifactId&gt;\n      &lt;version&gt;6.1.0&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    \n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n      &lt;version&gt;3.1.0&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.testcontainers&lt;/groupId&gt;\n      &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n      &lt;version&gt;1.17.6&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n\n  &lt;/dependencies&gt;\n\n  &lt;build&gt;\n    &lt;finalName&gt;project_management_system&lt;/finalName&gt;\n    &lt;pluginManagement&gt;\n      &lt;plugins&gt;\n        &lt;plugin&gt;\n          &lt;groupId&gt;org.liquibase&lt;/groupId&gt;\n          &lt;artifactId&gt;liquibase-maven-plugin&lt;/artifactId&gt;\n          &lt;version&gt;4.22.0&lt;/version&gt;\n            &lt;configuration&gt;\n              &lt;url&gt;jdbc:postgresql://localhost:5432/project_management_system&lt;/url&gt;\n              &lt;username&gt;postgres&lt;/username&gt;\n              &lt;password&gt;*****&lt;/password&gt;\n              &lt;outputChangeLogFile&gt;db.changelog-master.xml&lt;/outputChangeLogFile&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n\n        &lt;plugin&gt;\n          &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n          &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n          &lt;configuration&gt;\n            &lt;mainClass&gt;com.bogdan.pms.Application&lt;/mainClass&gt;\n          &lt;/configuration&gt;\n        &lt;/plugin&gt;\n      &lt;/plugins&gt;\n    &lt;/pluginManagement&gt;\n  &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>log4j2.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;Configuration status=&quot;DEBUG&quot;&gt;\n    &lt;Appenders&gt;\n        &lt;Console name=&quot;LogToConsole&quot; target=&quot;SYSTEM_OUT&quot;&gt;\n            &lt;PatternLayout pattern=&quot;%d{HH:mm:ss.SSS} [%t] %-5level %logger{36} - %msg%n&quot;/&gt;\n        &lt;/Console&gt;\n        &lt;File name=&quot;LogToFile&quot; fileName=&quot;logs/app.log&quot;&gt;\n            &lt;PatternLayout&gt;\n                &lt;Pattern&gt;%d %p %c{1.} [%t] %m%n&lt;/Pattern&gt;\n            &lt;/PatternLayout&gt;\n        &lt;/File&gt;\n    &lt;/Appenders&gt;\n    &lt;Loggers&gt;\n        &lt;Logger name=&quot;com.bogdan&quot; level=&quot;debug&quot; additivity=&quot;false&quot;&gt;\n            &lt;AppenderRef ref=&quot;LogToFile&quot;/&gt;\n            &lt;AppenderRef ref=&quot;LogToConsole&quot;/&gt;\n        &lt;/Logger&gt;\n        &lt;Logger name=&quot;org.springframework.boot&quot; level=&quot;error&quot; additivity=&quot;false&quot;&gt;\n            &lt;AppenderRef ref=&quot;LogToConsole&quot;/&gt;\n        &lt;/Logger&gt;\n        &lt;Root level=&quot;error&quot;&gt;\n            &lt;AppenderRef ref=&quot;LogToFile&quot;/&gt;\n            &lt;AppenderRef ref=&quot;LogToConsole&quot;/&gt;\n        &lt;/Root&gt;\n    &lt;/Loggers&gt;\n&lt;/Configuration&gt;\n</code></pre>\n<p>After launching the application:</p>\n<pre><code>  .   ____          _            __ _ _\n /\\\\ / ___'_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\n( ( )\\___ | '_ | '_| | '_ \\/ _` | \\ \\ \\ \\\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\n  '  |____| .__|_| |_|_| |_\\__, | / / / /\n =========|_|==============|___/=/_/_/_/\n :: Spring Boot ::                (v3.1.0)\n\n14:38:44.491 [main] INFO  com.bogdan.pms.Application - Starting Application using Java 17.0.7 with PID 5256 (D:\\IT\\DigDes\\ProjectManagementSystem\\PMS-App\\target\\classes started by Bogdan in D:\\IT\\DigDes\\ProjectManagementSystem)\nDEBUG StatusConsoleListener AsyncLogger.ThreadNameStrategy=UNCACHED (user specified null, default is UNCACHED)\nDEBUG StatusConsoleListener org.apache.logging.log4j.core.util.SystemClock supports precise timestamps.\n14:38:44.548 [main] DEBUG com.bogdan.pms.Application - Running with Spring Boot v3.1.0, Spring v5.3.24\n14:38:44.550 [main] INFO  com.bogdan.pms.Application - No active profile set, falling back to 1 default profile: &quot;default&quot;\n14:38:44.814 [main] ERROR org.springframework.boot.SpringApplication - Application run failed\njava.lang.NoClassDefFoundError: org/springframework/core/NestedIOException\n    at org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:323) ~[spring-context-5.3.24.jar:5.3.24]\n    at org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:247) ~[spring-context-5.3.24.jar:5.3.24]\n    at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:311) ~[spring-context-5.3.24.jar:5.3.24]\n    at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:112) ~[spring-context-5.3.24.jar:5.3.24]\n    at org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:746) ~[spring-context-5.3.24.jar:5.3.24]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:564) ~[spring-context-5.3.24.jar:5.3.24]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.1.0.jar:3.1.0]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:733) [spring-boot-3.1.0.jar:3.1.0]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:435) [spring-boot-3.1.0.jar:3.1.0]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:311) [spring-boot-3.1.0.jar:3.1.0]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1305) [spring-boot-3.1.0.jar:3.1.0]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1294) [spring-boot-3.1.0.jar:3.1.0]\n    at com.bogdan.pms.Application.main(Application.java:14) [classes/:?]\nCaused by: java.lang.ClassNotFoundException: org.springframework.core.NestedIOException\n    at jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641) ~[?:?]\n    at jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188) ~[?:?]\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:520) ~[?:?]\n    ... 13 more\nDEBUG StatusConsoleListener Stopping LoggerContext[name=6f94fa3e, org.apache.logging.log4j.core.LoggerContext@2ca26d77]...\nDEBUG StatusConsoleListener Shutting down FileManager logs/app.log\nDEBUG StatusConsoleListener OutputStream closed\nDEBUG StatusConsoleListener Shut down FileManager logs/app.log, all resources released: true\nDEBUG StatusConsoleListener Appender LogToFile stopped with status true\nDEBUG StatusConsoleListener Shutting down OutputStreamManager SYSTEM_OUT.false.false\nDEBUG StatusConsoleListener OutputStream closed\nDEBUG StatusConsoleListener Shut down OutputStreamManager SYSTEM_OUT.false.false, all resources released: true\nDEBUG StatusConsoleListener Appender LogToConsole stopped with status true\nDEBUG StatusConsoleListener Stopped XmlConfiguration[location=D:\\IT\\DigDes\\ProjectManagementSystem\\PMS-web\\target\\classes\\log4j2.xml] OK\nDEBUG StatusConsoleListener Stopped LoggerContext[name=6f94fa3e, org.apache.logging.log4j.core.LoggerContext@2ca26d77] with status true\n\nProcess finished with exit code 1\n</code></pre>\n<p>I hope I provided enough information. I will be glad for any help.</p>\n"},{"tags":["java","collections","hashset","linkedhashset"],"comments":[{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":2,"creation_date":1456405814,"post_id":35628232,"comment_id":58937939,"body_markdown":"What is the quote that makes you think it does not retain order?","body":"What is the quote that makes you think it does not retain order?"},{"owner":{"account_id":1677570,"reputation":18354,"user_id":1542723,"display_name":"Ferrybig"},"score":0,"creation_date":1456405879,"post_id":35628232,"comment_id":58937985,"body_markdown":"Use a [`CopyOnWriteArraySet`](https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/CopyOnWriteArraySet.html), it provides: insertion order, thread-safety, no dublicates, safe iteration while looping","body":"Use a <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/CopyOnWriteArraySet.html\" rel=\"nofollow noreferrer\"><code>CopyOnWriteArraySet</code></a>, it provides: insertion order, thread-safety, no dublicates, safe iteration while looping"},{"owner":{"account_id":2522926,"reputation":30310,"user_id":2192903,"accept_rate":73,"display_name":"Arnaud Denoyelle"},"score":0,"creation_date":1456406027,"post_id":35628232,"comment_id":58938084,"body_markdown":"According to the javadoc, it does retain the order. Can you show an example where it does not?","body":"According to the javadoc, it does retain the order. Can you show an example where it does not?"},{"owner":{"account_id":5501406,"reputation":4041,"user_id":4370629,"accept_rate":67,"display_name":"Spotted"},"score":0,"creation_date":1456406941,"post_id":35628232,"comment_id":58938712,"body_markdown":"Show us an example where order isn&#39;t retained","body":"Show us an example where order isn&#39;t retained"},{"owner":{"account_id":95589,"reputation":2149,"user_id":948737,"accept_rate":70,"display_name":"forum.test17"},"score":0,"creation_date":1456407710,"post_id":35628232,"comment_id":58939266,"body_markdown":"@ all I was wrong in my obersvation","body":"@ all I was wrong in my obersvation"}],"answers":[{"tags":[],"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1456406541,"creation_date":1456406541,"answer_id":35628529,"question_id":35628232,"body_markdown":"The [Javadoc for `LinkedHashSet`](https://docs.oracle.com/javase/7/docs/api/java/util/LinkedHashSet.html) is reasonably clear:\r\n\r\n&gt; the iteration ordering ... is the order in which elements were inserted into the set (insertion-order)","title":"Why doesn&#39;t LinkedHashSet always retain order?","body":"<p>The <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/LinkedHashSet.html\" rel=\"nofollow\">Javadoc for <code>LinkedHashSet</code></a> is reasonably clear:</p>\n\n<blockquote>\n  <p>the iteration ordering ... is the order in which elements were inserted into the set (insertion-order)</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":3164480,"reputation":568,"user_id":2674784,"accept_rate":50,"display_name":"Eugene Kirin"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1456407058,"creation_date":1456407058,"answer_id":35628714,"question_id":35628232,"body_markdown":"Only LinkedHashSet guarantees predictable order\r\n\r\nFrom jdoc:\r\n\r\n&gt; Hash table and linked list implementation of the Set interface, with\r\n&gt; predictable iteration order","title":"Why doesn&#39;t LinkedHashSet always retain order?","body":"<p>Only LinkedHashSet guarantees predictable order</p>\n\n<p>From jdoc:</p>\n\n<blockquote>\n  <p>Hash table and linked list implementation of the Set interface, with\n  predictable iteration order</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1579400401,"creation_date":1579399247,"answer_id":59806528,"question_id":35628232,"body_markdown":"\r\n&gt; and should be unique\r\n\r\nA [`Set`][1] implementation contains no duplicate elements, as explained in more detail in the Javadoc.\r\n\r\n&gt;java collection to retain order\r\n\r\nWhat do you mean by &quot;order&quot;? \r\n\r\n# Insertion-order: `LinkedHashSet`\r\n\r\nIf you mean tracking the order in which the objects were originally added to the set, use [`LinkedHashSet`][2]. \r\n\r\n\r\n    Set&lt; String &gt; colors = new LinkedHashSet&lt;&gt; () ;\r\n    String peachPuff = &quot;PeachPuff&quot; ;\r\n    colors.add( &quot;CornflowerBlue&quot; ) ;\r\n    colors.add( peachPuff ) ;\r\n    colors.add( &quot;DarkSlateGray&quot; ) ;\r\n    colors.add( peachPuff ) ; // Adding again. Original insertion order maintained.\r\n\r\nRun [code live at IdeOne.com][3]. Notice how `peachPuff` object remains in its original # 2 position despite being added to the set a second time.\r\n\r\n    System.out.println( &quot;colors.toString(): &quot; + colors ) ;\r\n\r\n&gt;colors.toString(): [CornflowerBlue, PeachPuff, DarkSlateGray]\r\n\r\n\r\n\r\n# Sorted-order: `TreeSet` or `ConcurrentSkipListSet`\r\n\r\nIf you mean keeping the elements sorted by their content, use an implementation of [`NavigableSet`][4] (successor to [`SortedSet`][5]). \r\n\r\nThe sorting is done either by:\r\n\r\n - Calling the [`compareTo`][6] defined on any object implementing [`Comparable`][7] interface.\r\n - Using a [`Comparator`][8] implementation passed by you.\r\n\r\nTwo classes bundled with Java implement `NavigableSet` (and `SortedSet`): `TreeSet` &amp; `ConcurrentSkipListSet`. \r\n\r\n## `TreeSet`\r\n\r\nIf you manipulating the set within a single thread, or only using the set across threads for reads only, use [`TreeSet`][9].\r\n\r\nExample:\r\n\r\n    Set&lt; String &gt; names = new TreeSet&lt;&gt; () ;\r\n    names.add( &quot;Carol&quot; ) ;\r\n    names.add( &quot;Alice&quot; ) ;\r\n    names.add( &quot;Bob&quot; ) ;\r\n\r\nThis will be reported in alphabetical order. See this [code run live at IdeOne.com][3].\r\n\r\n&gt;names.toString(): [Alice, Bob, Carol]\r\n\r\n## `ConcurrentSkipListSet` \r\n\r\nIf manipulating the set across threads, [concurrency][10] is an issue. Use [`ConcurrentSkipListSet`][11] class. \r\n\r\nYou may want to learn about the [skip list][12] algorithm. \r\n\r\n# Enum definition order: `EnumSet`\r\n\r\nIf you want to track a collection enum objects (see [Tutorial][13]) by the order in which they are defined on the enum, use [`EnumSet`][14]. This class is highly optimized for enums, being very fast to execute and using very little memory. \r\n\r\nExample: Track the weekend days from the [`DayOfWeek`][15] enum. \r\n\r\n    Set&lt; DayOfWeek &gt; weekend = EnumSet.of( DayOfWeek.SUNDAY , DayOfWeek.SATURDAY ) ;\r\n\r\nDespite our defining the set in wrong order, the [`EnumSet`][14] will iterate the items in the order defined on the `DayOfWeek` enum. That order is Monday-Sunday, so our `EnumSet` will iterate with Saturday reporting before Sunday. \r\n\r\nSee this [code run live at IdeOne.com][3].\r\n\r\n&gt;weekend.toString(): [SATURDAY, SUNDAY]\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Set.html\r\n  [2]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/LinkedHashSet.html\r\n  [3]: https://ideone.com/RfVBNj\r\n  [4]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/NavigableSet.html\r\n  [5]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/SortedSet.html\r\n  [6]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Comparable.html#compareTo(T)\r\n  [7]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Comparable.html\r\n  [8]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Comparator.html\r\n  [9]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/TreeSet.html\r\n  [10]: https://en.wikipedia.org/wiki/Concurrency_(computer_science)\r\n  [11]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/concurrent/ConcurrentSkipListSet.html\r\n  [12]: https://en.wikipedia.org/wiki/Skip_list\r\n  [13]: https://docs.oracle.com/javase/tutorial/java/javaOO/enum.html\r\n  [14]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/EnumSet.html\r\n  [15]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/DayOfWeek.html","title":"Why doesn&#39;t LinkedHashSet always retain order?","body":"<blockquote>\n  <p>and should be unique</p>\n</blockquote>\n\n<p>A <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Set.html\" rel=\"nofollow noreferrer\"><code>Set</code></a> implementation contains no duplicate elements, as explained in more detail in the Javadoc.</p>\n\n<blockquote>\n  <p>java collection to retain order</p>\n</blockquote>\n\n<p>What do you mean by \"order\"? </p>\n\n<h1>Insertion-order: <code>LinkedHashSet</code></h1>\n\n<p>If you mean tracking the order in which the objects were originally added to the set, use <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/LinkedHashSet.html\" rel=\"nofollow noreferrer\"><code>LinkedHashSet</code></a>. </p>\n\n<pre><code>Set&lt; String &gt; colors = new LinkedHashSet&lt;&gt; () ;\nString peachPuff = \"PeachPuff\" ;\ncolors.add( \"CornflowerBlue\" ) ;\ncolors.add( peachPuff ) ;\ncolors.add( \"DarkSlateGray\" ) ;\ncolors.add( peachPuff ) ; // Adding again. Original insertion order maintained.\n</code></pre>\n\n<p>Run <a href=\"https://ideone.com/RfVBNj\" rel=\"nofollow noreferrer\">code live at IdeOne.com</a>. Notice how <code>peachPuff</code> object remains in its original # 2 position despite being added to the set a second time.</p>\n\n<pre><code>System.out.println( \"colors.toString(): \" + colors ) ;\n</code></pre>\n\n<blockquote>\n  <p>colors.toString(): [CornflowerBlue, PeachPuff, DarkSlateGray]</p>\n</blockquote>\n\n<h1>Sorted-order: <code>TreeSet</code> or <code>ConcurrentSkipListSet</code></h1>\n\n<p>If you mean keeping the elements sorted by their content, use an implementation of <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/NavigableSet.html\" rel=\"nofollow noreferrer\"><code>NavigableSet</code></a> (successor to <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/SortedSet.html\" rel=\"nofollow noreferrer\"><code>SortedSet</code></a>). </p>\n\n<p>The sorting is done either by:</p>\n\n<ul>\n<li>Calling the <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Comparable.html#compareTo(T)\" rel=\"nofollow noreferrer\"><code>compareTo</code></a> defined on any object implementing <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Comparable.html\" rel=\"nofollow noreferrer\"><code>Comparable</code></a> interface.</li>\n<li>Using a <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Comparator.html\" rel=\"nofollow noreferrer\"><code>Comparator</code></a> implementation passed by you.</li>\n</ul>\n\n<p>Two classes bundled with Java implement <code>NavigableSet</code> (and <code>SortedSet</code>): <code>TreeSet</code> &amp; <code>ConcurrentSkipListSet</code>. </p>\n\n<h2><code>TreeSet</code></h2>\n\n<p>If you manipulating the set within a single thread, or only using the set across threads for reads only, use <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/TreeSet.html\" rel=\"nofollow noreferrer\"><code>TreeSet</code></a>.</p>\n\n<p>Example:</p>\n\n<pre><code>Set&lt; String &gt; names = new TreeSet&lt;&gt; () ;\nnames.add( \"Carol\" ) ;\nnames.add( \"Alice\" ) ;\nnames.add( \"Bob\" ) ;\n</code></pre>\n\n<p>This will be reported in alphabetical order. See this <a href=\"https://ideone.com/RfVBNj\" rel=\"nofollow noreferrer\">code run live at IdeOne.com</a>.</p>\n\n<blockquote>\n  <p>names.toString(): [Alice, Bob, Carol]</p>\n</blockquote>\n\n<h2><code>ConcurrentSkipListSet</code></h2>\n\n<p>If manipulating the set across threads, <a href=\"https://en.wikipedia.org/wiki/Concurrency_(computer_science)\" rel=\"nofollow noreferrer\">concurrency</a> is an issue. Use <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/concurrent/ConcurrentSkipListSet.html\" rel=\"nofollow noreferrer\"><code>ConcurrentSkipListSet</code></a> class. </p>\n\n<p>You may want to learn about the <a href=\"https://en.wikipedia.org/wiki/Skip_list\" rel=\"nofollow noreferrer\">skip list</a> algorithm. </p>\n\n<h1>Enum definition order: <code>EnumSet</code></h1>\n\n<p>If you want to track a collection enum objects (see <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/enum.html\" rel=\"nofollow noreferrer\">Tutorial</a>) by the order in which they are defined on the enum, use <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/EnumSet.html\" rel=\"nofollow noreferrer\"><code>EnumSet</code></a>. This class is highly optimized for enums, being very fast to execute and using very little memory. </p>\n\n<p>Example: Track the weekend days from the <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/DayOfWeek.html\" rel=\"nofollow noreferrer\"><code>DayOfWeek</code></a> enum. </p>\n\n<pre><code>Set&lt; DayOfWeek &gt; weekend = EnumSet.of( DayOfWeek.SUNDAY , DayOfWeek.SATURDAY ) ;\n</code></pre>\n\n<p>Despite our defining the set in wrong order, the <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/EnumSet.html\" rel=\"nofollow noreferrer\"><code>EnumSet</code></a> will iterate the items in the order defined on the <code>DayOfWeek</code> enum. That order is Monday-Sunday, so our <code>EnumSet</code> will iterate with Saturday reporting before Sunday. </p>\n\n<p>See this <a href=\"https://ideone.com/RfVBNj\" rel=\"nofollow noreferrer\">code run live at IdeOne.com</a>.</p>\n\n<blockquote>\n  <p>weekend.toString(): [SATURDAY, SUNDAY]</p>\n</blockquote>\n"}],"owner":{"account_id":95589,"reputation":2149,"user_id":948737,"accept_rate":70,"display_name":"forum.test17"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1063,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":35628714,"answer_count":3,"score":1,"last_activity_date":1686609520,"creation_date":1456405726,"question_id":35628232,"body_markdown":"    Set&lt;String&gt; stringSet = new HashSet&lt;String&gt;();\r\n\r\nwill not retain order obviously \r\n\r\n    Set&lt;String&gt; linkedHastSet = new LinkedHashSet&lt;String&gt;();\r\n\r\nwhile reading elements from the above set it should retain order but in some times it does not ? am I wrong in my observation or I am missing something ?","title":"Why doesn&#39;t LinkedHashSet always retain order?","body":"<pre><code>Set&lt;String&gt; stringSet = new HashSet&lt;String&gt;();\n</code></pre>\n\n<p>will not retain order obviously </p>\n\n<pre><code>Set&lt;String&gt; linkedHastSet = new LinkedHashSet&lt;String&gt;();\n</code></pre>\n\n<p>while reading elements from the above set it should retain order but in some times it does not ? am I wrong in my observation or I am missing something ?</p>\n"},{"tags":["java","string","automatic-ref-counting","center"],"answers":[{"tags":[],"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686609448,"creation_date":1686604528,"answer_id":76460381,"question_id":76454107,"body_markdown":"Ensure that the angle is split in half horizontally. Then just draw the string horizontally from the angle pivot.  You can then rotate the graphics context and draw the next arc and string.  This demo shows a single &quot;wedge.&quot;  The computations for positioning the String are in the comments. \r\n```\r\nimport java.awt.Color;\r\nimport java.awt.Dimension;\r\nimport java.awt.Font;\r\nimport java.awt.FontMetrics;\r\nimport java.awt.Graphics;\r\nimport java.awt.Graphics2D;\r\nimport java.awt.RenderingHints;\r\n\r\nimport javax.swing.JFrame;\r\nimport javax.swing.JPanel;\r\nimport javax.swing.SwingUtilities;\r\nimport javax.swing.Timer;\r\n\r\npublic class RotatingAndCentering extends JPanel {\r\n    JFrame f = new JFrame();\r\n    int width = 500;\r\n    int height = 500;\r\n    int i = 0;\r\n\r\n    public static void main(String[] args) {\r\n        SwingUtilities.invokeLater(() -&gt; new RotatingAndCentering().start());\r\n    }\r\n\r\n    public void start() {\r\n        f.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        f.add(this);\r\n        f.pack();\r\n        f.setLocationRelativeTo(null);\r\n        f.setVisible(true);\r\n       \r\n        int inc = 1;\r\n        Timer t = new Timer(0, (ae) -&gt; {\r\n            i += inc;\r\n            if (i &gt;= 360) {\r\n                i -= 360;\r\n            }\r\n            f.repaint();\r\n        });\r\n        t.setDelay(25);\r\n        t.start();\r\n    }\r\n    public Dimension getPreferredSize() {\r\n        return new Dimension(width, height);\r\n    }\r\n    \r\n    public void paintComponent(Graphics g) {\r\n        super.paintComponent(g);\r\n\r\n        Graphics2D g2d = (Graphics2D) g;\r\n        g2d.setRenderingHint(RenderingHints.KEY_ANTIALIASING,\r\n                RenderingHints.VALUE_ANTIALIAS_ON);\r\n        g2d.setColor(Color.RED);\r\n        int startAngle = -36; // counter clockwise\r\n        int extent = 72; // clockwise\r\n        int w = width - 100;\r\n        int h = height - 100;\r\n        int xOrigin = 50;\r\n        int yOrigin = 50;\r\n        g2d.rotate(Math.toRadians(i), width/2, height/2);\r\n        g2d.fillArc(xOrigin, yOrigin, w, h, startAngle, extent);\r\n\r\n        String s = &quot;This should be centered&quot;;\r\n        g2d.setColor(Color.BLACK);\r\n        Font f = new Font(&quot;Arial&quot;, Font.BOLD, 14);\r\n        g2d.setFont(f);\r\n        // fontmetrics is used to compute String width and height for help in centering.\r\n        FontMetrics fm = g2d.getFontMetrics();\r\n        // 250 is the width of the panel.\r\n        // 200 is half length of the arc.\r\n        // so 250 - (200 + s.length())/2 should be x for center\r\n        // then slightly adjust the baseline by add half the string height.\r\n        int strX = width / 2\r\n                + (w/2  - SwingUtilities.computeStringWidth(fm, s))/2;\r\n        int strY = height/2 + fm.getHeight()/2;\r\n        \r\n        g2d.drawString(s, strX, strY);\r\n        \r\n    }\r\n\r\n}\r\n```\r\nNote:  Instead of rotating what you&#39;re drawing, you can rotate the graphics context and then draw everything the same each time.  Only the angle changes.\r\n\r\nIt&#39;s like rotating a white board `x` radians about a center, drawing a horizontal line from that center point, then rotating back to it&#39;s previous position. As `x` changes, the line seems to rotate about the center.\r\n\r\nAlso, most of the calculations should be done outside of `paintComponent` to keep processing on the EDT at a minimum.\r\n","title":"Centering a String Based on a Dynamically Changing Arc","body":"<p>Ensure that the angle is split in half horizontally. Then just draw the string horizontally from the angle pivot.  You can then rotate the graphics context and draw the next arc and string.  This demo shows a single &quot;wedge.&quot;  The computations for positioning the String are in the comments.</p>\n<pre><code>import java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.Font;\nimport java.awt.FontMetrics;\nimport java.awt.Graphics;\nimport java.awt.Graphics2D;\nimport java.awt.RenderingHints;\n\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\nimport javax.swing.SwingUtilities;\nimport javax.swing.Timer;\n\npublic class RotatingAndCentering extends JPanel {\n    JFrame f = new JFrame();\n    int width = 500;\n    int height = 500;\n    int i = 0;\n\n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(() -&gt; new RotatingAndCentering().start());\n    }\n\n    public void start() {\n        f.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        f.add(this);\n        f.pack();\n        f.setLocationRelativeTo(null);\n        f.setVisible(true);\n       \n        int inc = 1;\n        Timer t = new Timer(0, (ae) -&gt; {\n            i += inc;\n            if (i &gt;= 360) {\n                i -= 360;\n            }\n            f.repaint();\n        });\n        t.setDelay(25);\n        t.start();\n    }\n    public Dimension getPreferredSize() {\n        return new Dimension(width, height);\n    }\n    \n    public void paintComponent(Graphics g) {\n        super.paintComponent(g);\n\n        Graphics2D g2d = (Graphics2D) g;\n        g2d.setRenderingHint(RenderingHints.KEY_ANTIALIASING,\n                RenderingHints.VALUE_ANTIALIAS_ON);\n        g2d.setColor(Color.RED);\n        int startAngle = -36; // counter clockwise\n        int extent = 72; // clockwise\n        int w = width - 100;\n        int h = height - 100;\n        int xOrigin = 50;\n        int yOrigin = 50;\n        g2d.rotate(Math.toRadians(i), width/2, height/2);\n        g2d.fillArc(xOrigin, yOrigin, w, h, startAngle, extent);\n\n        String s = &quot;This should be centered&quot;;\n        g2d.setColor(Color.BLACK);\n        Font f = new Font(&quot;Arial&quot;, Font.BOLD, 14);\n        g2d.setFont(f);\n        // fontmetrics is used to compute String width and height for help in centering.\n        FontMetrics fm = g2d.getFontMetrics();\n        // 250 is the width of the panel.\n        // 200 is half length of the arc.\n        // so 250 - (200 + s.length())/2 should be x for center\n        // then slightly adjust the baseline by add half the string height.\n        int strX = width / 2\n                + (w/2  - SwingUtilities.computeStringWidth(fm, s))/2;\n        int strY = height/2 + fm.getHeight()/2;\n        \n        g2d.drawString(s, strX, strY);\n        \n    }\n\n}\n</code></pre>\n<p>Note:  Instead of rotating what you're drawing, you can rotate the graphics context and then draw everything the same each time.  Only the angle changes.</p>\n<p>It's like rotating a white board <code>x</code> radians about a center, drawing a horizontal line from that center point, then rotating back to it's previous position. As <code>x</code> changes, the line seems to rotate about the center.</p>\n<p>Also, most of the calculations should be done outside of <code>paintComponent</code> to keep processing on the EDT at a minimum.</p>\n"}],"owner":{"account_id":26663799,"reputation":1,"user_id":20276211,"display_name":"G&#246;kay Åahin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686609448,"creation_date":1686551817,"question_id":76454107,"body_markdown":"I&#39;m in my first year of computer engineering, learning Java as my first programming language. I wanted to create a &#39;Fast Wheel Raffle&#39; application, but I encountered a few issues. First of all:\r\n\r\n1- I&#39;m creating the Arcs using the fillArc method and increasing the spinAngel by spinAngelMultiplier in the spin() method to perform the spinning operation.\r\n2- The calculateAngel() method returns the angle for each Arc.\r\n\r\nThe problem I&#39;m facing is that I&#39;m unable to center each value from the &#39;inputs&#39; list within the Arcs. What can I do to achieve this?\r\n\r\n\r\nThere is a drawWheel() method for creating Arcs.\r\n```\r\n    public void drawWheel(Graphics g){\r\n        Graphics2D g2D = (Graphics2D) g;\r\n        g2D.setColor(Color.BLACK);\r\n        g2D.setRenderingHint (RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_ON);\r\n        g2D.setStroke(new BasicStroke(4));\r\n        g2D.drawOval(100,100,400,400);\r\n        if(this.inputs.size() &gt; 0){\r\n            int extra = 0;\r\n            for(int i = 0; i &lt; this.inputs.size(); i++){\r\n                g2D.setColor(colors[i]);\r\n                int angel = calculateAngel();\r\n                if ( ( i == this.inputs.size() - 1 )  &amp;&amp; ( (angel + angel*i) != 360 ) ) {\r\n                    extra = 360 - (angel+angel*i) ;\r\n                }\r\n                g2D.fillArc(100,100,400,400,angel*i+spinAngel, angel+extra);\r\n\r\n                System.out.println(angel*i+spinAngel + &quot; and &quot; + (angel+extra));\r\n\r\n                // I really confused on this part\r\n \r\n                g2D.setFont(new Font(&quot;Ariel&quot;, Font.BOLD, 10));\r\n                g2D.setColor(Color.black);\r\n                int xMultiplier = -1;\r\n                int yMultiplier = 1;\r\n                if(angel*i+spinAngel &gt;=0 &amp;&amp; angel*i+spinAngel &lt;180){\r\n                    yMultiplier = -1;\r\n                }if(angel*i+spinAngel &gt;=270 &amp;&amp; angel*i+spinAngel &lt;90){\r\n                    xMultiplier = 1;\r\n                }\r\n                int cosX = (int) ( Math.cos(angel+extra) );\r\n                int sinY = (int) ( Math.cos(angel+extra) );\r\n                int stringX = 300 + (xMultiplier * cosX);\r\n                int stringY = 300 + (yMultiplier * sinY);\r\n                g2D.drawString( inputs.get(i), stringX, stringY);\r\n\r\n            }\r\n        }\r\n        g2D.setColor(Color.BLACK);\r\n        g2D.fillOval(300,300,2,2);\r\n    }\r\n```\r\n[When the inputs are entered, the wheel appears like this. As it looks, I couldn&#39;t figure out how to center the Strings within the Arcs.](https://i.stack.imgur.com/jWyHB.png)\r\n\r\nAnd spin() method for increasing spinAngel and reducing spinAngelMultiplier randomly.\r\n```\r\n    public void spin(){\r\n        if(spinAngelMultiplier == 0){\r\n            gameRunning = false;\r\n            return;\r\n        }\r\n\r\n        if(spinAngelMultiplierReducer &gt;= randomNumber){\r\n            spinAngelMultiplierReducer = 0;\r\n            spinAngelMultiplier--;\r\n            minMaxSet();\r\n        }\r\n\r\n        spinAngelMultiplierReducer++;\r\n        spinAngel += spinAngelMultiplier;\r\n\r\n    }\r\n\r\n\r\n    @Override\r\n    public void actionPerformed(ActionEvent e) {\r\n        spin();\r\n        repaint();\r\n    }\r\n```\r\n\r\n\r\n\r\nIn this part of drawWheel() method;\r\n```\r\n                System.out.println(angel*i+spinAngel + &quot; and &quot; + (angel+extra));\r\n\r\n                g2D.setFont(new Font(&quot;Ariel&quot;, Font.BOLD, 10));\r\n                g2D.setColor(Color.black);\r\n                int xMultiplier = -1;\r\n                int yMultiplier = 1;\r\n                if(angel*i+spinAngel &gt;=0 &amp;&amp; angel*i+spinAngel &lt;180){\r\n                    yMultiplier = -1;\r\n                }if(angel*i+spinAngel &gt;=270 &amp;&amp; angel*i+spinAngel &lt;90){\r\n                    xMultiplier = 1;\r\n                }\r\n                int cosX = (int) ( Math.cos(angel+extra) );\r\n                int sinY = (int) ( Math.cos(angel+extra) );\r\n                int stringX = 300 + (xMultiplier * cosX);\r\n                int stringY = 300 + (yMultiplier * sinY);\r\n                g2D.drawString( inputs.get(i), stringX, stringY);\r\n```\r\n\r\n[angel*i+spinAngel + &quot; and &quot; + (angel+extra)](https://i.stack.imgur.com/WqBJa.png)\r\n\r\nWhat comes to mind when I look at these angle values is:\r\n\r\nIf the value of (angle * i + spinAngel) is greater than 0 and less than 180, I should set yMultiplier to -1. Because this means that the desired Arc is located on the upper side of the circle, and I need to write the String on the upper side of the circle.\r\n  \r\nI applied the same thought process to xMultiplier, but I couldn&#39;t achieve the desired result.","title":"Centering a String Based on a Dynamically Changing Arc","body":"<p>I'm in my first year of computer engineering, learning Java as my first programming language. I wanted to create a 'Fast Wheel Raffle' application, but I encountered a few issues. First of all:</p>\n<p>1- I'm creating the Arcs using the fillArc method and increasing the spinAngel by spinAngelMultiplier in the spin() method to perform the spinning operation.\n2- The calculateAngel() method returns the angle for each Arc.</p>\n<p>The problem I'm facing is that I'm unable to center each value from the 'inputs' list within the Arcs. What can I do to achieve this?</p>\n<p>There is a drawWheel() method for creating Arcs.</p>\n<pre><code>    public void drawWheel(Graphics g){\n        Graphics2D g2D = (Graphics2D) g;\n        g2D.setColor(Color.BLACK);\n        g2D.setRenderingHint (RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_ON);\n        g2D.setStroke(new BasicStroke(4));\n        g2D.drawOval(100,100,400,400);\n        if(this.inputs.size() &gt; 0){\n            int extra = 0;\n            for(int i = 0; i &lt; this.inputs.size(); i++){\n                g2D.setColor(colors[i]);\n                int angel = calculateAngel();\n                if ( ( i == this.inputs.size() - 1 )  &amp;&amp; ( (angel + angel*i) != 360 ) ) {\n                    extra = 360 - (angel+angel*i) ;\n                }\n                g2D.fillArc(100,100,400,400,angel*i+spinAngel, angel+extra);\n\n                System.out.println(angel*i+spinAngel + &quot; and &quot; + (angel+extra));\n\n                // I really confused on this part\n \n                g2D.setFont(new Font(&quot;Ariel&quot;, Font.BOLD, 10));\n                g2D.setColor(Color.black);\n                int xMultiplier = -1;\n                int yMultiplier = 1;\n                if(angel*i+spinAngel &gt;=0 &amp;&amp; angel*i+spinAngel &lt;180){\n                    yMultiplier = -1;\n                }if(angel*i+spinAngel &gt;=270 &amp;&amp; angel*i+spinAngel &lt;90){\n                    xMultiplier = 1;\n                }\n                int cosX = (int) ( Math.cos(angel+extra) );\n                int sinY = (int) ( Math.cos(angel+extra) );\n                int stringX = 300 + (xMultiplier * cosX);\n                int stringY = 300 + (yMultiplier * sinY);\n                g2D.drawString( inputs.get(i), stringX, stringY);\n\n            }\n        }\n        g2D.setColor(Color.BLACK);\n        g2D.fillOval(300,300,2,2);\n    }\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/jWyHB.png\" rel=\"nofollow noreferrer\">When the inputs are entered, the wheel appears like this. As it looks, I couldn't figure out how to center the Strings within the Arcs.</a></p>\n<p>And spin() method for increasing spinAngel and reducing spinAngelMultiplier randomly.</p>\n<pre><code>    public void spin(){\n        if(spinAngelMultiplier == 0){\n            gameRunning = false;\n            return;\n        }\n\n        if(spinAngelMultiplierReducer &gt;= randomNumber){\n            spinAngelMultiplierReducer = 0;\n            spinAngelMultiplier--;\n            minMaxSet();\n        }\n\n        spinAngelMultiplierReducer++;\n        spinAngel += spinAngelMultiplier;\n\n    }\n\n\n    @Override\n    public void actionPerformed(ActionEvent e) {\n        spin();\n        repaint();\n    }\n</code></pre>\n<p>In this part of drawWheel() method;</p>\n<pre><code>                System.out.println(angel*i+spinAngel + &quot; and &quot; + (angel+extra));\n\n                g2D.setFont(new Font(&quot;Ariel&quot;, Font.BOLD, 10));\n                g2D.setColor(Color.black);\n                int xMultiplier = -1;\n                int yMultiplier = 1;\n                if(angel*i+spinAngel &gt;=0 &amp;&amp; angel*i+spinAngel &lt;180){\n                    yMultiplier = -1;\n                }if(angel*i+spinAngel &gt;=270 &amp;&amp; angel*i+spinAngel &lt;90){\n                    xMultiplier = 1;\n                }\n                int cosX = (int) ( Math.cos(angel+extra) );\n                int sinY = (int) ( Math.cos(angel+extra) );\n                int stringX = 300 + (xMultiplier * cosX);\n                int stringY = 300 + (yMultiplier * sinY);\n                g2D.drawString( inputs.get(i), stringX, stringY);\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/WqBJa.png\" rel=\"nofollow noreferrer\">angel*i+spinAngel + &quot; and &quot; + (angel+extra)</a></p>\n<p>What comes to mind when I look at these angle values is:</p>\n<p>If the value of (angle * i + spinAngel) is greater than 0 and less than 180, I should set yMultiplier to -1. Because this means that the desired Arc is located on the upper side of the circle, and I need to write the String on the upper side of the circle.</p>\n<p>I applied the same thought process to xMultiplier, but I couldn't achieve the desired result.</p>\n"},{"tags":["java","jackson","jackson-databind"],"comments":[{"owner":{"account_id":964210,"reputation":1018,"user_id":987959,"display_name":"PJ Fanning"},"score":0,"creation_date":1686829493,"post_id":76458930,"comment_id":134854786,"body_markdown":"that method is in jackson-core 2.15.2 - can you double check that you upgraded all jackson jars to use 2.15.2?","body":"that method is in jackson-core 2.15.2 - can you double check that you upgraded all jackson jars to use 2.15.2?"}],"owner":{"account_id":28806595,"reputation":1,"user_id":22062319,"display_name":"Mohamed Housni"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":732,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686609225,"creation_date":1686590154,"question_id":76458930,"body_markdown":"After Upgrading jackson to version 2.15.2 I start getting this error:\r\n\r\n```java.lang.NoSuchMethodError: com.fasterxml.jackson.core.io.IOContext.streamReadConstraints()Lcom/fasterxml/jackson/core/StreamReadConstraints; at com.fasterxml.jackson.dataformat.javaprop.JavaPropsParser.(JavaPropsParser.java:104) at com.fasterxml.jackson.dataformat.javaprop.JavaPropsFactory.createParser(JavaPropsFactory.java:159) at com.fasterxml.jackson.dataformat.javaprop.JavaPropsMapper.readPropertiesAs(JavaPropsMapper.java:107) at com.fasterxml.jackson.dataformat.javaprop.JavaPropsMapper.readPropertiesAs(JavaPropsMapper.java:141) at```\r\n\r\nI tried to line all jackson modules to same version but I still got the same issue  ","title":"JavaPropsMapper in com.fasterxml.jackson version 2.15.2","body":"<p>After Upgrading jackson to version 2.15.2 I start getting this error:</p>\n<p><code>java.lang.NoSuchMethodError: com.fasterxml.jackson.core.io.IOContext.streamReadConstraints()Lcom/fasterxml/jackson/core/StreamReadConstraints; at com.fasterxml.jackson.dataformat.javaprop.JavaPropsParser.(JavaPropsParser.java:104) at com.fasterxml.jackson.dataformat.javaprop.JavaPropsFactory.createParser(JavaPropsFactory.java:159) at com.fasterxml.jackson.dataformat.javaprop.JavaPropsMapper.readPropertiesAs(JavaPropsMapper.java:107) at com.fasterxml.jackson.dataformat.javaprop.JavaPropsMapper.readPropertiesAs(JavaPropsMapper.java:141) at</code></p>\n<p>I tried to line all jackson modules to same version but I still got the same issue</p>\n"},{"tags":["java","comparable","treeset"],"comments":[{"owner":{"account_id":3131031,"reputation":24013,"user_id":2648811,"accept_rate":33,"display_name":"Green Cloak Guy"},"score":1,"creation_date":1641316248,"post_id":70582537,"comment_id":124771742,"body_markdown":"A tree set works by constructing a binary tree. In order to place objects in a binary tree, they need to be compared with the root node and each branch node they encounter (to see which side of the tree they need to go on). You can use a HashSet instead of a TreeSet if you&#39;d rather implement `hash()` than `compareTo()`.","body":"A tree set works by constructing a binary tree. In order to place objects in a binary tree, they need to be compared with the root node and each branch node they encounter (to see which side of the tree they need to go on). You can use a HashSet instead of a TreeSet if you&#39;d rather implement <code>hash()</code> than <code>compareTo()</code>."},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":1,"creation_date":1641316321,"post_id":70582537,"comment_id":124771770,"body_markdown":"You can&#39;t put items in a `TreeSet` without knowing how to compare them.","body":"You can&#39;t put items in a <code>TreeSet</code> without knowing how to compare them."},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":1,"creation_date":1641316713,"post_id":70582537,"comment_id":124771915,"body_markdown":"&quot;*Why do objects put in a TreeSet have to implement the Comparable interface?*&quot; - [They do not have to](https://ideone.com/3J1Kya). --- We need to provide some kind of order since [`TreeSet`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/TreeSet.html) implements [`SortedSet`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/SortedSet.html).","body":"&quot;<i>Why do objects put in a TreeSet have to implement the Comparable interface?</i>&quot; - <a href=\"https://ideone.com/3J1Kya\" rel=\"nofollow noreferrer\">They do not have to</a>. --- We need to provide some kind of order since <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/TreeSet.html\" rel=\"nofollow noreferrer\"><code>TreeSet</code></a> implements <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/SortedSet.html\" rel=\"nofollow noreferrer\"><code>SortedSet</code></a>."}],"answers":[{"tags":[],"owner":{"account_id":2450311,"reputation":3009,"user_id":2136767,"accept_rate":74,"display_name":"Paul"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1686608788,"creation_date":1641317464,"answer_id":70582810,"question_id":70582537,"body_markdown":"\r\n[`TreeSet`][1] is an ordered implementation of [`Set`][2].  Specifically, `TreeSet` implements [`NavigableSet`][3] and [`SortedSet`][4], both sub-interfaces of `Set`.\r\n\r\n# `Comparable`\r\n\r\nWhen `TreeSet`&#39;s values are iterated they are returned in the order defined by the object&#39;s class.  This can be useful when the objects in question have some natural concept of order - i.e. some values are &#39;less than&#39; or &#39;more than&#39; other values (e.g. dates).\r\n\r\nIn Java, the way to define the ordering of objects of a given class is by having that class implement [`Comparable`][5].\r\n\r\nIf you don&#39;t care about the ordering (which is often the case) you can use `HashSet` instead.\r\n\r\nAlternatively, if you care about the order in which elements were *added* (but not their &#39;natural&#39; order) you can use `LinkedHashSet`.\r\n\r\n# `Comparator`\r\n\r\nFinally, you might sometimes be interested in a set with a guaranteed iteration order (which is not the order the elements were added) but which is *not* the natural order of the objects defined by `compareTo`.  When this happens you can use the [constructor for `TreeSet`][6] which takes an explicit [`Comparator`][7].  This comparator than defines the ordering (e.g. for iteration) for that *specific* set, which can be different from the natural order - if the objects have one, which they don&#39;t have to when using this constructor.\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/TreeSet.html\r\n  [2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Set.html\r\n  [3]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/NavigableSet.html\r\n  [4]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/SortedSet.html\r\n  [5]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Comparable.html\r\n  [6]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/TreeSet.html#%3Cinit%3E(java.util.Comparator)\r\n  [7]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Comparator.html","title":"Java Comparable and TreeSet","body":"<p><a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/TreeSet.html\" rel=\"nofollow noreferrer\"><code>TreeSet</code></a> is an ordered implementation of <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Set.html\" rel=\"nofollow noreferrer\"><code>Set</code></a>.  Specifically, <code>TreeSet</code> implements <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/NavigableSet.html\" rel=\"nofollow noreferrer\"><code>NavigableSet</code></a> and <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/SortedSet.html\" rel=\"nofollow noreferrer\"><code>SortedSet</code></a>, both sub-interfaces of <code>Set</code>.</p>\n<h1><code>Comparable</code></h1>\n<p>When <code>TreeSet</code>'s values are iterated they are returned in the order defined by the object's class.  This can be useful when the objects in question have some natural concept of order - i.e. some values are 'less than' or 'more than' other values (e.g. dates).</p>\n<p>In Java, the way to define the ordering of objects of a given class is by having that class implement <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Comparable.html\" rel=\"nofollow noreferrer\"><code>Comparable</code></a>.</p>\n<p>If you don't care about the ordering (which is often the case) you can use <code>HashSet</code> instead.</p>\n<p>Alternatively, if you care about the order in which elements were <em>added</em> (but not their 'natural' order) you can use <code>LinkedHashSet</code>.</p>\n<h1><code>Comparator</code></h1>\n<p>Finally, you might sometimes be interested in a set with a guaranteed iteration order (which is not the order the elements were added) but which is <em>not</em> the natural order of the objects defined by <code>compareTo</code>.  When this happens you can use the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/TreeSet.html#%3Cinit%3E(java.util.Comparator)\" rel=\"nofollow noreferrer\">constructor for <code>TreeSet</code></a> which takes an explicit <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Comparator.html\" rel=\"nofollow noreferrer\"><code>Comparator</code></a>.  This comparator than defines the ordering (e.g. for iteration) for that <em>specific</em> set, which can be different from the natural order - if the objects have one, which they don't have to when using this constructor.</p>\n"}],"owner":{"account_id":23807442,"reputation":73,"user_id":17816735,"display_name":"asim"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":992,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":70582810,"answer_count":1,"score":3,"last_activity_date":1686608788,"creation_date":1641316073,"question_id":70582537,"body_markdown":"Why do objects put in a TreeSet have to implement the Comparable interface?\r\nI&#39;m trying to create a TreeSet containing some objects of my own class but ClassCastException is thrown when I try to add objects in the set.","title":"Java Comparable and TreeSet","body":"<p>Why do objects put in a TreeSet have to implement the Comparable interface?\nI'm trying to create a TreeSet containing some objects of my own class but ClassCastException is thrown when I try to add objects in the set.</p>\n"},{"tags":["java","json","spring-boot","unit-testing","media-type"],"owner":{"account_id":28807953,"reputation":1,"user_id":22063351,"display_name":"Elyas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":99,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686607970,"creation_date":1686607970,"question_id":76460636,"body_markdown":"I&#39;m facing an issue with the unit tests for my Spring Boot application. When running the unit tests, I encounter the following error: &quot;java.lang.AssertionError: Range for response status value 415 expected:&lt;SUCCESSFUL&gt; but was:&lt;CLIENT_ERROR&gt;&quot;.\r\n\r\nWhen I manually test the application using Postman, the endpoints work fine and return the expected results.\r\n\r\nI have a UserController class with a createUser method that handles the creation of a user. Inside this method, the user&#39;s password is hashed using the HashingUtil.hashWithMD5 method before saving it to the repository.\r\n\r\nHere&#39;s an example of the createUser method in the UserController:\r\n\r\n```\r\n@PostMapping(&quot;/users&quot;)\r\npublic ResponseEntity&lt;User&gt; createUser(@RequestBody User user){\r\n    user.setPassword(HashingUtil.hashWithMD5(user.getPassword()));\r\n    return ResponseEntity.ok(this.userRepository.save(user));\r\n}\r\n\r\n```\r\n\r\nIn my test class, I have a test method createUser that sends a POST request to the /users endpoint with a JSON payload containing the username and password. Here&#39;s an example of the relevant parts from the test class:\r\n\r\n```\r\n@BeforeEach\r\nvoid init()\r\n{\r\n    this.username = &quot;myfirstUser&quot;;\r\n    String password = &quot;savepassword&quot;;\r\n    this.encodedPassword = this.encodeMD5(password);\r\n    this.userJson = String.format(&quot;{\\&quot;username\\&quot;:\\&quot;%s\\&quot;, \\&quot;password\\&quot;:\\&quot;%s\\&quot;}&quot;, this.username, password);\r\n}\r\n\r\n@Test\r\nvoid createUser() throws Exception\r\n{\r\n    this.mvc.perform(MockMvcRequestBuilders.post(&quot;/users&quot;).content(this.userJson))\r\n        .andExpect(MockMvcResultMatchers.status().is2xxSuccessful());\r\n}\r\n\r\n```\r\n\r\n\r\n\r\nI suspect that the issue might be related to how the server is handling the data during the unit tests, specifically the media type or content type. I have tried adding the consumes attribute with MediaType.APPLICATION_JSON_VALUE to the createUser method in the UserController, but it didn&#39;t resolve the issue.\r\n\r\n**Hint:** Please, I am looking for a solution that can be implemented from the other classes without modifying the test class itself.\r\n","title":"Unit Test Failure: Error 415 - Unsupported Media Type","body":"<p>I'm facing an issue with the unit tests for my Spring Boot application. When running the unit tests, I encounter the following error: &quot;java.lang.AssertionError: Range for response status value 415 expected: but was:&lt;CLIENT_ERROR&gt;&quot;.</p>\n<p>When I manually test the application using Postman, the endpoints work fine and return the expected results.</p>\n<p>I have a UserController class with a createUser method that handles the creation of a user. Inside this method, the user's password is hashed using the HashingUtil.hashWithMD5 method before saving it to the repository.</p>\n<p>Here's an example of the createUser method in the UserController:</p>\n<pre><code>@PostMapping(&quot;/users&quot;)\npublic ResponseEntity&lt;User&gt; createUser(@RequestBody User user){\n    user.setPassword(HashingUtil.hashWithMD5(user.getPassword()));\n    return ResponseEntity.ok(this.userRepository.save(user));\n}\n\n</code></pre>\n<p>In my test class, I have a test method createUser that sends a POST request to the /users endpoint with a JSON payload containing the username and password. Here's an example of the relevant parts from the test class:</p>\n<pre><code>@BeforeEach\nvoid init()\n{\n    this.username = &quot;myfirstUser&quot;;\n    String password = &quot;savepassword&quot;;\n    this.encodedPassword = this.encodeMD5(password);\n    this.userJson = String.format(&quot;{\\&quot;username\\&quot;:\\&quot;%s\\&quot;, \\&quot;password\\&quot;:\\&quot;%s\\&quot;}&quot;, this.username, password);\n}\n\n@Test\nvoid createUser() throws Exception\n{\n    this.mvc.perform(MockMvcRequestBuilders.post(&quot;/users&quot;).content(this.userJson))\n        .andExpect(MockMvcResultMatchers.status().is2xxSuccessful());\n}\n\n</code></pre>\n<p>I suspect that the issue might be related to how the server is handling the data during the unit tests, specifically the media type or content type. I have tried adding the consumes attribute with MediaType.APPLICATION_JSON_VALUE to the createUser method in the UserController, but it didn't resolve the issue.</p>\n<p><strong>Hint:</strong> Please, I am looking for a solution that can be implemented from the other classes without modifying the test class itself.</p>\n"},{"tags":["java","json","jackson"],"comments":[{"owner":{"account_id":1573445,"reputation":4861,"user_id":1460591,"accept_rate":79,"display_name":"Youans"},"score":0,"creation_date":1686604491,"post_id":76460323,"comment_id":134819130,"body_markdown":"Does this answer your question? [Jackson: Serialize only marked fields](https://stackoverflow.com/questions/22668374/jackson-serialize-only-marked-fields)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/22668374/jackson-serialize-only-marked-fields\">Jackson: Serialize only marked fields</a>"}],"answers":[{"tags":[],"owner":{"account_id":10637559,"reputation":2455,"user_id":7833793,"display_name":"R4N"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1686607776,"creation_date":1686607365,"answer_id":76460591,"question_id":76460323,"body_markdown":"If I understand you query correctly, you&#39;d like to include just a single property of SomeObject when serializing it using Jackson. If that&#39;s correct, then I think @JsonIncludeProperties class annotation might be a good fit. Something along these lines:\r\n\r\n```\r\n@JsonIncludeProperties({&quot;someId&quot;})\r\npublic class SomeObject {\r\n    private Long someId;\r\n    private String someName;\r\n// other properties to be ignored when serializing\r\n...\r\n// getters/setters\r\n\r\n}\r\n```\r\n\r\nThe output result would not include other properties of SomeObject in the serialization (only the property/properties specified by @JsonIncludeProperties):\r\n\r\n```\r\n{&quot;id&quot;:null,&quot;myName&quot;:null,&quot;someObject&quot;:{&quot;someId&quot;:123}}\r\n```\r\n\r\nIt was added in Jackson Release 2.12: https://github.com/FasterXML/jackson/wiki/Jackson-Release-2.12#jsonincludeproperties\r\n\r\nAdditional details linked from the GitHub release post: https://cowtowncoder.medium.com/jackson-2-12-most-wanted-2-5-bc45ef53ede7\r\n\r\n","title":"Use Jackson to get one Field from sub-object","body":"<p>If I understand you query correctly, you'd like to include just a single property of SomeObject when serializing it using Jackson. If that's correct, then I think @JsonIncludeProperties class annotation might be a good fit. Something along these lines:</p>\n<pre><code>@JsonIncludeProperties({&quot;someId&quot;})\npublic class SomeObject {\n    private Long someId;\n    private String someName;\n// other properties to be ignored when serializing\n...\n// getters/setters\n\n}\n</code></pre>\n<p>The output result would not include other properties of SomeObject in the serialization (only the property/properties specified by @JsonIncludeProperties):</p>\n<pre><code>{&quot;id&quot;:null,&quot;myName&quot;:null,&quot;someObject&quot;:{&quot;someId&quot;:123}}\n</code></pre>\n<p>It was added in Jackson Release 2.12: <a href=\"https://github.com/FasterXML/jackson/wiki/Jackson-Release-2.12#jsonincludeproperties\" rel=\"nofollow noreferrer\">https://github.com/FasterXML/jackson/wiki/Jackson-Release-2.12#jsonincludeproperties</a></p>\n<p>Additional details linked from the GitHub release post: <a href=\"https://cowtowncoder.medium.com/jackson-2-12-most-wanted-2-5-bc45ef53ede7\" rel=\"nofollow noreferrer\">https://cowtowncoder.medium.com/jackson-2-12-most-wanted-2-5-bc45ef53ede7</a></p>\n"}],"owner":{"account_id":1835763,"reputation":1908,"user_id":1666206,"accept_rate":67,"display_name":"tjholmes66"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":228,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76460591,"answer_count":1,"score":0,"last_activity_date":1686607776,"creation_date":1686603870,"question_id":76460323,"body_markdown":"I don&#39;t expect this will be a tough question, but with all that Jackson has to offer, I hope there is a solution that will work for me.  Am using Java 11 now.\r\n\r\nLet&#39;s say I have an object that looks like this:\r\n\r\n    public class MyMainObject() {\r\n        private Long id;\r\n        private String myName;\r\n        private SomeObject someObject;\r\n        ... getters/setters\r\n    }\r\n    public class SomeObject() {\r\n        private Long someId;\r\n        private String someName;\r\n    }\r\n\r\nNow, I know I can use Jackson to convert this code as follows to json:\r\n\r\n    MyMainObject myMainObject = new MyMainObject();\r\n    ObjectMapper mapper = new ObjectMapper();\r\n    String json = mapper.writeValueAsString(myMainObject);\r\n\r\nI know that this will give me the entirety of &#39;SomeObject&#39; in the JSON, which is fine.   But now, I just want to get the &#39;someId&#39; field from &#39;SomeObject&#39;.  \r\n\r\nI am wondering if there is some Jackson Annotation I could use in the &#39;MyMainObject&#39; with the field &#39;someObject&#39; so I only get the &#39;someId&#39; from &#39;SomeObject&#39;.\r\n\r\nI suppose I could forget this and just do a mapping from these two objects to some other DTO.  Or, I could put @JsonIgnore for the SomeObject.someName and that would work also.\r\nBut in this case, imagine SomeObject has many more fields than the ones I listed, and I don&#39;t want to use @JsonIgnore for all those fields.\r\n\r\nSo, if there is a quick Jackson Annotation I could use to just get the one field from the SomeObject, that would be great.   I&#39;ll keep checking the Jackson Annotations to see if there is something.","title":"Use Jackson to get one Field from sub-object","body":"<p>I don't expect this will be a tough question, but with all that Jackson has to offer, I hope there is a solution that will work for me.  Am using Java 11 now.</p>\n<p>Let's say I have an object that looks like this:</p>\n<pre><code>public class MyMainObject() {\n    private Long id;\n    private String myName;\n    private SomeObject someObject;\n    ... getters/setters\n}\npublic class SomeObject() {\n    private Long someId;\n    private String someName;\n}\n</code></pre>\n<p>Now, I know I can use Jackson to convert this code as follows to json:</p>\n<pre><code>MyMainObject myMainObject = new MyMainObject();\nObjectMapper mapper = new ObjectMapper();\nString json = mapper.writeValueAsString(myMainObject);\n</code></pre>\n<p>I know that this will give me the entirety of 'SomeObject' in the JSON, which is fine.   But now, I just want to get the 'someId' field from 'SomeObject'.</p>\n<p>I am wondering if there is some Jackson Annotation I could use in the 'MyMainObject' with the field 'someObject' so I only get the 'someId' from 'SomeObject'.</p>\n<p>I suppose I could forget this and just do a mapping from these two objects to some other DTO.  Or, I could put @JsonIgnore for the SomeObject.someName and that would work also.\nBut in this case, imagine SomeObject has many more fields than the ones I listed, and I don't want to use @JsonIgnore for all those fields.</p>\n<p>So, if there is a quick Jackson Annotation I could use to just get the one field from the SomeObject, that would be great.   I'll keep checking the Jackson Annotations to see if there is something.</p>\n"},{"tags":["java","asynchttpclient"],"answers":[{"comments":[{"owner":{"account_id":1532442,"reputation":1266,"user_id":1429322,"accept_rate":38,"display_name":"user1429322"},"score":0,"creation_date":1686607393,"post_id":76460561,"comment_id":134819529,"body_markdown":"This works. Thank you. One question though. What&#39;s the difference between the first parameter to NioEventLoopGroup and the thread size in the executor. What happens if they are different?","body":"This works. Thank you. One question though. What&#39;s the difference between the first parameter to NioEventLoopGroup and the thread size in the executor. What happens if they are different?"},{"owner":{"account_id":19395247,"reputation":3208,"user_id":14183092,"display_name":"kerbermeister"},"score":0,"creation_date":1686607982,"post_id":76460561,"comment_id":134819592,"body_markdown":"Basically you create the thread pool executor with n threads. Then you specify the number of threads in eventloopgroup and provide your executor. It means that this instance of client will use exactly the number of threads that you specified. That&#39;s okay for sure if your executor has more threads than you specified in the eventloopgroup, but I&#39;m not sure what would happen if the executor has less threads than you specified in the eventloopgroup.","body":"Basically you create the thread pool executor with n threads. Then you specify the number of threads in eventloopgroup and provide your executor. It means that this instance of client will use exactly the number of threads that you specified. That&#39;s okay for sure if your executor has more threads than you specified in the eventloopgroup, but I&#39;m not sure what would happen if the executor has less threads than you specified in the eventloopgroup."}],"tags":[],"owner":{"account_id":19395247,"reputation":3208,"user_id":14183092,"display_name":"kerbermeister"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1686607000,"creation_date":1686607000,"answer_id":76460561,"question_id":76460313,"body_markdown":"You can do it like this:\r\n\r\n    public AsyncHttpClient asyncHttpClient() {\r\n        ExecutorService executorService = Executors.newFixedThreadPool(10); // create executor\r\n        EventLoopGroup eventLoopGroup = new NioEventLoopGroup(10, executorService); // specify number of threads to be used by this instance and provide your executor\r\n\r\n        DefaultAsyncHttpClientConfig.Builder configBuilder = Dsl.config()\r\n                .setEventLoopGroup(eventLoopGroup);\r\n\r\n        return Dsl.asyncHttpClient(configBuilder.build());\r\n    }","title":"How to set an executor for async-http-client?","body":"<p>You can do it like this:</p>\n<pre><code>public AsyncHttpClient asyncHttpClient() {\n    ExecutorService executorService = Executors.newFixedThreadPool(10); // create executor\n    EventLoopGroup eventLoopGroup = new NioEventLoopGroup(10, executorService); // specify number of threads to be used by this instance and provide your executor\n\n    DefaultAsyncHttpClientConfig.Builder configBuilder = Dsl.config()\n            .setEventLoopGroup(eventLoopGroup);\n\n    return Dsl.asyncHttpClient(configBuilder.build());\n}\n</code></pre>\n"}],"owner":{"account_id":1532442,"reputation":1266,"user_id":1429322,"accept_rate":38,"display_name":"user1429322"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":218,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76460561,"answer_count":1,"score":0,"last_activity_date":1686607000,"creation_date":1686603755,"question_id":76460313,"body_markdown":"How to setup the thread pool size for async-http-client? I found this - https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/Executors.html to create a thread pool. But I am not able to set the executor for the client. My connections are limited and hence I want to restrict the number of threads to only 10 in the thread pool. I am using async-http-client:2.12.3\r\n\r\n    final AsyncHttpClient http =\r\n            asyncHttpClient(\r\n                    config().setThreadPoolName(&quot;CustomThreadPool&quot;));","title":"How to set an executor for async-http-client?","body":"<p>How to setup the thread pool size for async-http-client? I found this - <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/Executors.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/Executors.html</a> to create a thread pool. But I am not able to set the executor for the client. My connections are limited and hence I want to restrict the number of threads to only 10 in the thread pool. I am using async-http-client:2.12.3</p>\n<pre><code>final AsyncHttpClient http =\n        asyncHttpClient(\n                config().setThreadPoolName(&quot;CustomThreadPool&quot;));\n</code></pre>\n"},{"tags":["java","performance","optimization","collections"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":2,"creation_date":1686603333,"post_id":76460260,"comment_id":134818925,"body_markdown":"There&#39;s no point in sorting a list to perform a single binary search. A linear search will be much more efficient.","body":"There&#39;s no point in sorting a list to perform a single binary search. A linear search will be much more efficient."},{"owner":{"account_id":12635372,"reputation":295,"user_id":9185021,"display_name":"Mixalis Navridis"},"score":0,"creation_date":1686603494,"post_id":76460260,"comment_id":134818959,"body_markdown":"@shmosel if we assume that the list is too big. Would linear search still be more efficient?","body":"@shmosel if we assume that the list is too big. Would linear search still be more efficient?"},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":2,"creation_date":1686603636,"post_id":76460260,"comment_id":134818986,"body_markdown":"Yes. Sorting requires at minimum a single pass; usually multiple. A linear search takes at most a single pass; usually less.","body":"Yes. Sorting requires at minimum a single pass; usually multiple. A linear search takes at most a single pass; usually less."},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":1,"creation_date":1686603820,"post_id":76460260,"comment_id":134819024,"body_markdown":"But binary searching a pre-sorted list, as per solution 2, will perform better than linear. Searching a HashSet will be even faster than that. Only you can decide wether it&#39;s worth the extra memory cost.","body":"But binary searching a pre-sorted list, as per solution 2, will perform better than linear. Searching a HashSet will be even faster than that. Only you can decide wether it&#39;s worth the extra memory cost."},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1686604509,"post_id":76460260,"comment_id":134819135,"body_markdown":"Side note: `comparing(Foo::getName)` is equivalent to `c`. There&#39;s no need to define the same comparator twice.","body":"Side note: <code>comparing(Foo::getName)</code> is equivalent to <code>c</code>. There&#39;s no need to define the same comparator twice."}],"answers":[{"tags":[],"owner":{"account_id":2792262,"reputation":163877,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1686605427,"creation_date":1686605427,"answer_id":76460446,"question_id":76460260,"body_markdown":"There is no point at all in sorting before searching *every time*.  Sorting will cost you more than a linear scan through the data, so you get a benefit only if you can perform multiple searches per sort.  Ideally, you sort once for all, then perform all the searches.\r\n\r\nIn your case, however,\r\n\r\n&gt; multiple add operations happened all time\r\n\r\nYou think that ...\r\n\r\n&gt; The problem is that the performed operations sometimes are for name and others for the surname.\r\n\r\n... but in fact, even if the searches were always for one field, it would be very costly to keep the list in sorted order as you add elements (unless the additions were in order already).  For unordered additions, the average cost per addition would be proportional to the number of elements already in the list.\r\n\r\n&gt; i want to avoid all time to sort based on the given field and then perform binary search, so is there any efficient solution on that?\r\n\r\nYes.  Use a `HashMap&lt;String, Foo&gt;` for each search criterion you want to support, instead of a list of any flavor.  That will give you O(1) (ammortized) cost for additions and lookups, at the cost of more storage use.  (The `Foo`s are not duplicated, but the framework of one `ArrayList` will be smaller than that of two `HashMap`s for the same number of elements / entries).\r\n```\r\npublic class MemTest3 {\r\n    static HashMap&lt;String, Foo&gt; byGivenName = new HashMap&lt;&gt;();\r\n    static HashMap&lt;String, Foo&gt; bySurname = new HashMap&lt;&gt;();\r\n\r\n    public static void main(String[] args) {\r\n\r\n        add(&quot;John&quot;,&quot;colins&quot;);\r\n        add(&quot;Andrew&quot;,&quot;tate&quot;);\r\n        add(&quot;Zoe&quot;,&quot;prelevits&quot;);\r\n        add(&quot;jonh&quot;,&quot;adam&quot;);\r\n    }\r\n\r\n    public static void add(String name,String surname){\r\n        Foo foo = new Foo(name, surname);\r\n\r\n        byGivenName.put(name, foo);\r\n        bySurname.put(surname, foo);\r\n        retrieveByGivenName(&quot;Zoe&quot;);\r\n        retrieveBySurname(&quot;adam&quot;);\r\n    }\r\n\r\n    public static foo retrieveByGivenName(String name) {\r\n        return byGivenName.get(name);\r\n    }\r\n\r\n    public static foo retrieveBySurname(String surname) {\r\n        return bySurname.get(surname);\r\n    }\r\n\r\n    // ...\r\n}\r\n```\r\nI presume there that the element indexes are not actually significant, but I think that must be true because otherwise, the continual re-sorting you propose to do would be an issue too.","title":"How to avoid sorting every time when do binary search on a list in java","body":"<p>There is no point at all in sorting before searching <em>every time</em>.  Sorting will cost you more than a linear scan through the data, so you get a benefit only if you can perform multiple searches per sort.  Ideally, you sort once for all, then perform all the searches.</p>\n<p>In your case, however,</p>\n<blockquote>\n<p>multiple add operations happened all time</p>\n</blockquote>\n<p>You think that ...</p>\n<blockquote>\n<p>The problem is that the performed operations sometimes are for name and others for the surname.</p>\n</blockquote>\n<p>... but in fact, even if the searches were always for one field, it would be very costly to keep the list in sorted order as you add elements (unless the additions were in order already).  For unordered additions, the average cost per addition would be proportional to the number of elements already in the list.</p>\n<blockquote>\n<p>i want to avoid all time to sort based on the given field and then perform binary search, so is there any efficient solution on that?</p>\n</blockquote>\n<p>Yes.  Use a <code>HashMap&lt;String, Foo&gt;</code> for each search criterion you want to support, instead of a list of any flavor.  That will give you O(1) (ammortized) cost for additions and lookups, at the cost of more storage use.  (The <code>Foo</code>s are not duplicated, but the framework of one <code>ArrayList</code> will be smaller than that of two <code>HashMap</code>s for the same number of elements / entries).</p>\n<pre><code>public class MemTest3 {\n    static HashMap&lt;String, Foo&gt; byGivenName = new HashMap&lt;&gt;();\n    static HashMap&lt;String, Foo&gt; bySurname = new HashMap&lt;&gt;();\n\n    public static void main(String[] args) {\n\n        add(&quot;John&quot;,&quot;colins&quot;);\n        add(&quot;Andrew&quot;,&quot;tate&quot;);\n        add(&quot;Zoe&quot;,&quot;prelevits&quot;);\n        add(&quot;jonh&quot;,&quot;adam&quot;);\n    }\n\n    public static void add(String name,String surname){\n        Foo foo = new Foo(name, surname);\n\n        byGivenName.put(name, foo);\n        bySurname.put(surname, foo);\n        retrieveByGivenName(&quot;Zoe&quot;);\n        retrieveBySurname(&quot;adam&quot;);\n    }\n\n    public static foo retrieveByGivenName(String name) {\n        return byGivenName.get(name);\n    }\n\n    public static foo retrieveBySurname(String surname) {\n        return bySurname.get(surname);\n    }\n\n    // ...\n}\n</code></pre>\n<p>I presume there that the element indexes are not actually significant, but I think that must be true because otherwise, the continual re-sorting you propose to do would be an issue too.</p>\n"},{"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1686665485,"post_id":76460527,"comment_id":134828270,"body_markdown":"Then, donât call the method âBinarySearchâ¦â","body":"Then, donât call the method âBinarySearchâ¦â"},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1686666011,"post_id":76460527,"comment_id":134828377,"body_markdown":"@Holger, oh wow, what a great idea.","body":"@Holger, oh wow, what a great idea."}],"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686606588,"creation_date":1686606588,"answer_id":76460527,"question_id":76460260,"body_markdown":"&gt; _&quot;... i want an efficient approach to perform searching operations ...&quot;_\r\n\r\n&gt; _&quot;... is there any efficient solution ...&quot;_\r\n\r\nIt entirely depends on the data, against the search criteria.\r\n\r\nStatistically, a single iteration is going to be the most valid approach.  \r\nAs opposed to sorting first, and then searching.\r\n\r\n```java\r\nFoo BinarySearchName(String string) {\r\n    for (Foo foo : al) {\r\n        if (foo.getName().equals(string))\r\n            return foo;\r\n    }\r\n    return null;\r\n}\r\n\r\nFoo BinarySearchSurname(String string) {\r\n    for (Foo foo : al) {\r\n        if (foo.getSurname().equals(string))\r\n            return foo;\r\n    }\r\n    return null;\r\n}\r\n```","title":"How to avoid sorting every time when do binary search on a list in java","body":"<blockquote>\n<p><em>&quot;... i want an efficient approach to perform searching operations ...&quot;</em></p>\n</blockquote>\n<blockquote>\n<p><em>&quot;... is there any efficient solution ...&quot;</em></p>\n</blockquote>\n<p>It entirely depends on the data, against the search criteria.</p>\n<p>Statistically, a single iteration is going to be the most valid approach.<br />\nAs opposed to sorting first, and then searching.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Foo BinarySearchName(String string) {\n    for (Foo foo : al) {\n        if (foo.getName().equals(string))\n            return foo;\n    }\n    return null;\n}\n\nFoo BinarySearchSurname(String string) {\n    for (Foo foo : al) {\n        if (foo.getSurname().equals(string))\n            return foo;\n    }\n    return null;\n}\n</code></pre>\n"}],"owner":{"account_id":12635372,"reputation":295,"user_id":9185021,"display_name":"Mixalis Navridis"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1686606588,"creation_date":1686603217,"question_id":76460260,"body_markdown":"Hello to the wonderful community, i came up with a small problem that struggling me to figure out a solution. I have a simple dummy class with a name and surname and an ArrayList of that class.In reality my real class is very heavy and multiple add operations happened all time thus i want an efficient approach to perform searching operations and hence i use the binary search base. The problem is that the performed operations sometimes are for name and others for the surname. i want to avoid all time to sort based on the given field and then perform binary search, so is there any efficient solution on that?\r\n\r\n\r\n\r\nHere is my dummy solutions:\r\n\r\n**Dummy solution 1**: keep the code as it with the overhead of sort method before i called the binary search.\r\n\r\n**Dummy solution 2**: waste my memory and keep two sorted ArrayList one with name and the other surname and **keep** also the insertion order so as to avoid sort func every time i do a binary search.\r\n\r\nI am sure there is exist another efficient approach can you suggest me please a solution to this problem \r\n\r\n    package Memory;\r\n    \r\n    import java.util.ArrayList;\r\n    import java.util.Collections;\r\n    import java.util.Comparator;\r\n    \r\n    public class MemTest2 {\r\n        static ArrayList&lt;Foo&gt; al = new ArrayList&lt;Foo&gt;();\r\n        public static void main(String[] args) {\r\n    \r\n            add(&quot;John&quot;,&quot;colins&quot;);\r\n            add(&quot;Andrew&quot;,&quot;tate&quot;);\r\n            add(&quot;Zoe&quot;,&quot;prelevits&quot;);\r\n            add(&quot;jonh&quot;,&quot;adam&quot;);\r\n    \r\n    \r\n            BinarySearchName();\r\n            BinarySearchSurname();\r\n        }\r\n    \r\n        public static void add(String name,String surname){\r\n            al.add(new Foo(name,surname));\r\n        }\r\n    \r\n        public static void BinarySearchName(){\r\n            Comparator&lt;Foo&gt; c = new Comparator&lt;Foo&gt;() {\r\n                public int compare(Foo u1, Foo u2)\r\n                {\r\n                    return u1.getName().compareTo(u2.getName());\r\n                }\r\n            };\r\n            Collections.sort(al, Comparator.comparing(Foo::getName));\r\n            int index = Collections.binarySearch(al, new Foo(&quot;Zoe&quot;,&quot;prelevits&quot;), c);\r\n        }\r\n    \r\n        public static void BinarySearchSurname(){\r\n            Comparator&lt;Foo&gt; c = new Comparator&lt;Foo&gt;() {\r\n                public int compare(Foo u1, Foo u2)\r\n                {\r\n                    return u1.getSurname().compareTo(u2.getSurname());\r\n                }\r\n            };\r\n            Collections.sort(al, Comparator.comparing(Foo::getSurname));\r\n            int index = Collections.binarySearch(al, new Foo(&quot;john&quot;,&quot;adam&quot;), c);\r\n        }\r\n    \r\n        private static class Foo{\r\n            private String name;\r\n            private String surname;\r\n    \r\n            public Foo(String name, String surname) {\r\n                this.name = name;\r\n                this.surname = surname;\r\n            }\r\n    \r\n            public String getName() {\r\n                return name;\r\n            }\r\n    \r\n            public void setName(String name) {\r\n                this.name = name;\r\n            }\r\n    \r\n            public String getSurname() {\r\n                return surname;\r\n            }\r\n    \r\n            public void setSurname(String surname) {\r\n                this.surname = surname;\r\n            }\r\n        }\r\n    }\r\n\r\n","title":"How to avoid sorting every time when do binary search on a list in java","body":"<p>Hello to the wonderful community, i came up with a small problem that struggling me to figure out a solution. I have a simple dummy class with a name and surname and an ArrayList of that class.In reality my real class is very heavy and multiple add operations happened all time thus i want an efficient approach to perform searching operations and hence i use the binary search base. The problem is that the performed operations sometimes are for name and others for the surname. i want to avoid all time to sort based on the given field and then perform binary search, so is there any efficient solution on that?</p>\n<p>Here is my dummy solutions:</p>\n<p><strong>Dummy solution 1</strong>: keep the code as it with the overhead of sort method before i called the binary search.</p>\n<p><strong>Dummy solution 2</strong>: waste my memory and keep two sorted ArrayList one with name and the other surname and <strong>keep</strong> also the insertion order so as to avoid sort func every time i do a binary search.</p>\n<p>I am sure there is exist another efficient approach can you suggest me please a solution to this problem</p>\n<pre><code>package Memory;\n\nimport java.util.ArrayList;\nimport java.util.Collections;\nimport java.util.Comparator;\n\npublic class MemTest2 {\n    static ArrayList&lt;Foo&gt; al = new ArrayList&lt;Foo&gt;();\n    public static void main(String[] args) {\n\n        add(&quot;John&quot;,&quot;colins&quot;);\n        add(&quot;Andrew&quot;,&quot;tate&quot;);\n        add(&quot;Zoe&quot;,&quot;prelevits&quot;);\n        add(&quot;jonh&quot;,&quot;adam&quot;);\n\n\n        BinarySearchName();\n        BinarySearchSurname();\n    }\n\n    public static void add(String name,String surname){\n        al.add(new Foo(name,surname));\n    }\n\n    public static void BinarySearchName(){\n        Comparator&lt;Foo&gt; c = new Comparator&lt;Foo&gt;() {\n            public int compare(Foo u1, Foo u2)\n            {\n                return u1.getName().compareTo(u2.getName());\n            }\n        };\n        Collections.sort(al, Comparator.comparing(Foo::getName));\n        int index = Collections.binarySearch(al, new Foo(&quot;Zoe&quot;,&quot;prelevits&quot;), c);\n    }\n\n    public static void BinarySearchSurname(){\n        Comparator&lt;Foo&gt; c = new Comparator&lt;Foo&gt;() {\n            public int compare(Foo u1, Foo u2)\n            {\n                return u1.getSurname().compareTo(u2.getSurname());\n            }\n        };\n        Collections.sort(al, Comparator.comparing(Foo::getSurname));\n        int index = Collections.binarySearch(al, new Foo(&quot;john&quot;,&quot;adam&quot;), c);\n    }\n\n    private static class Foo{\n        private String name;\n        private String surname;\n\n        public Foo(String name, String surname) {\n            this.name = name;\n            this.surname = surname;\n        }\n\n        public String getName() {\n            return name;\n        }\n\n        public void setName(String name) {\n            this.name = name;\n        }\n\n        public String getSurname() {\n            return surname;\n        }\n\n        public void setSurname(String surname) {\n            this.surname = surname;\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","android","multithreading"],"comments":[{"owner":{"account_id":3309368,"reputation":4742,"user_id":2783229,"accept_rate":66,"display_name":"Nitesh Tiwari"},"score":0,"creation_date":1435601559,"post_id":11411022,"comment_id":50257832,"body_markdown":"example to demonstrate with thread example http://code2concept.blogspot.in/2015/02/androidhow-to-find-on-which-thread-code.html","body":"example to demonstrate with thread example <a href=\"http://code2concept.blogspot.in/2015/02/androidhow-to-find-on-which-thread-code.html\" rel=\"nofollow noreferrer\">code2concept.blogspot.in/2015/02/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":370671,"reputation":21814,"user_id":718764,"accept_rate":88,"display_name":"Carnal"},"comment_count":0,"down_vote_count":2,"up_vote_count":817,"is_accepted":true,"score":815,"last_activity_date":1341915138,"creation_date":1341915138,"answer_id":11411087,"question_id":11411022,"body_markdown":"    Looper.myLooper() == Looper.getMainLooper()\r\n\r\nif this returns true, then you&#39;re on the UI thread!","title":"How to check if current thread is not main thread","body":"<pre><code>Looper.myLooper() == Looper.getMainLooper()\n</code></pre>\n\n<p>if this returns true, then you're on the UI thread!</p>\n"},{"comments":[{"owner":{"account_id":1255397,"reputation":2306,"user_id":1214974,"accept_rate":67,"display_name":"Janus Varmarken"},"score":10,"creation_date":1452185884,"post_id":11411116,"comment_id":57067068,"body_markdown":"Should one consider the latter as the safer option as there is no guarantee that any arbitrary thread is associated with a Looper (assuming that the main thread is always associated with a looper)?","body":"Should one consider the latter as the safer option as there is no guarantee that any arbitrary thread is associated with a Looper (assuming that the main thread is always associated with a looper)?"},{"owner":{"account_id":3290197,"reputation":8796,"user_id":3682067,"accept_rate":93,"display_name":"Saeed Masoumi"},"score":1,"creation_date":1541233568,"post_id":11411116,"comment_id":93153207,"body_markdown":"`Looper.myLooper()` will return null if the thread is not associated with a Looper. So both are safe and have the same result but the first one is a little bit slower while it searches inside a map to find out the looper and its associated thread and do some other stuff .","body":"<code>Looper.myLooper()</code> will return null if the thread is not associated with a Looper. So both are safe and have the same result but the first one is a little bit slower while it searches inside a map to find out the looper and its associated thread and do some other stuff ."}],"tags":[],"owner":{"account_id":245918,"reputation":27339,"user_id":519718,"accept_rate":92,"display_name":"AAnkit"},"comment_count":2,"down_vote_count":0,"up_vote_count":142,"is_accepted":false,"score":142,"last_activity_date":1434367373,"creation_date":1341915244,"answer_id":11411116,"question_id":11411022,"body_markdown":"you can use below code  to know if current thread is UI/Main thread or not\r\n\r\n    if(Looper.myLooper() == Looper.getMainLooper()) {\r\n       // Current Thread is Main Thread.\r\n    }\r\n\r\n\r\nor you can also use this \r\n\r\n    if(Looper.getMainLooper().getThread() == Thread.currentThread()) {\r\n       // Current Thread is Main Thread.\r\n    }\r\n[Here is similar question][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/8714032/519718","title":"How to check if current thread is not main thread","body":"<p>you can use below code  to know if current thread is UI/Main thread or not</p>\n\n<pre><code>if(Looper.myLooper() == Looper.getMainLooper()) {\n   // Current Thread is Main Thread.\n}\n</code></pre>\n\n<p>or you can also use this </p>\n\n<pre><code>if(Looper.getMainLooper().getThread() == Thread.currentThread()) {\n   // Current Thread is Main Thread.\n}\n</code></pre>\n\n<p><a href=\"https://stackoverflow.com/a/8714032/519718\">Here is similar question</a></p>\n"},{"tags":[],"owner":{"account_id":287294,"reputation":6275,"user_id":587012,"accept_rate":44,"display_name":"Vishwanath.M"},"comment_count":0,"down_vote_count":4,"up_vote_count":5,"is_accepted":false,"score":1,"last_activity_date":1341915489,"creation_date":1341915489,"answer_id":11411195,"question_id":11411022,"body_markdown":"you can verify it in android ddms logcat where process id will be same but thread id will be different.","title":"How to check if current thread is not main thread","body":"<p>you can verify it in android ddms logcat where process id will be same but thread id will be different.</p>\n"},{"comments":[{"owner":{"account_id":3122965,"reputation":4550,"user_id":2642390,"display_name":"Mike"},"score":0,"creation_date":1449089065,"post_id":34052602,"comment_id":55859481,"body_markdown":"What do you mean by &quot;under API 23 or higher&quot;? That doesn&#39;t make much sense to me..Also the exact same answer was posted by AAnkit, below..","body":"What do you mean by &quot;under API 23 or higher&quot;? That doesn&#39;t make much sense to me..Also the exact same answer was posted by AAnkit, below.."},{"owner":{"account_id":2733131,"reputation":3771,"user_id":2402790,"accept_rate":0,"display_name":"Michael Allan"},"score":1,"creation_date":1449090006,"post_id":34052602,"comment_id":55859990,"body_markdown":"@Mike Thanks, I fixed the API bit.  AAnkit actually favours `Looper.myLooper() == Looper.getMainLooper()`, which I think is less clear.  I credit greg7gkb.","body":"@Mike Thanks, I fixed the API bit.  AAnkit actually favours <code>Looper.myLooper() == Looper.getMainLooper()</code>, which I think is less clear.  I credit greg7gkb."},{"owner":{"account_id":264259,"reputation":5983,"user_id":550393,"accept_rate":51,"display_name":"2cupsOfTech"},"score":2,"creation_date":1501251562,"post_id":34052602,"comment_id":77713030,"body_markdown":"should this be a comparison with == or equals() as Android Studio is raising a warning ?","body":"should this be a comparison with == or equals() as Android Studio is raising a warning ?"},{"owner":{"account_id":2733131,"reputation":3771,"user_id":2402790,"accept_rate":0,"display_name":"Michael Allan"},"score":1,"creation_date":1539047412,"post_id":34052602,"comment_id":92349957,"body_markdown":"@2cupsOfTech On 2nd thought, thatâs good advice. Currently both tests are the same at runtime because [Thread](https://docs.oracle.com/javase/8/docs/api/java/lang/Thread.html) does not override `equals`, and so falls back to `==`, but that could change in future. So I corrected the answer.","body":"@2cupsOfTech On 2nd thought, thatâs good advice. Currently both tests are the same at runtime because <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Thread.html\" rel=\"nofollow noreferrer\">Thread</a> does not override <code>equals</code>, and so falls back to <code>==</code>, but that could change in future. So I corrected the answer."}],"tags":[],"owner":{"account_id":2733131,"reputation":3771,"user_id":2402790,"accept_rate":0,"display_name":"Michael Allan"},"comment_count":4,"down_vote_count":0,"up_vote_count":74,"is_accepted":false,"score":74,"last_activity_date":1559885046,"creation_date":1449088943,"answer_id":34052602,"question_id":11411022,"body_markdown":"The best way is the clearest, most robust way: *\r\n\r\n    Thread.currentThread().equals( Looper.getMainLooper().getThread() )\r\n\r\nOr, if the runtime platform is API level 23 (Marshmallow 6.0) or higher:\r\n\r\n    Looper.getMainLooper().isCurrentThread()\r\n\r\nSee the [Looper API][LooperAPI].  Note that calling `Looper.getMainLooper()` involves synchronization (see the [source][getMainLooperSource]).  You might want to avoid the overhead by storing the return value and reusing it.\r\n\r\n&amp;nbsp;&amp;nbsp;&amp;nbsp;* *credit [greg7gkb][gregComment] and [2cupsOfTech][2cupsComment]*\r\n\r\n  [2cupsComment]: https://stackoverflow.com/a/34052602\r\n  [getMainLooperSource]: https://android.googlesource.com/platform/frameworks/base.git/+/android-6.0.0_r1/core/java/android/os/Looper.java#112\r\n  [gregComment]: https://stackoverflow.com/a/3273018/2402790\r\n  [LooperAPI]: http://developer.android.com/reference/android/os/Looper.html\r\n","title":"How to check if current thread is not main thread","body":"<p>The best way is the clearest, most robust way: *</p>\n\n<pre><code>Thread.currentThread().equals( Looper.getMainLooper().getThread() )\n</code></pre>\n\n<p>Or, if the runtime platform is API level 23 (Marshmallow 6.0) or higher:</p>\n\n<pre><code>Looper.getMainLooper().isCurrentThread()\n</code></pre>\n\n<p>See the <a href=\"http://developer.android.com/reference/android/os/Looper.html\" rel=\"noreferrer\">Looper API</a>.  Note that calling <code>Looper.getMainLooper()</code> involves synchronization (see the <a href=\"https://android.googlesource.com/platform/frameworks/base.git/+/android-6.0.0_r1/core/java/android/os/Looper.java#112\" rel=\"noreferrer\">source</a>).  You might want to avoid the overhead by storing the return value and reusing it.</p>\n\n<p>&nbsp;&nbsp;&nbsp;* <em>credit <a href=\"https://stackoverflow.com/a/3273018/2402790\">greg7gkb</a> and <a href=\"https://stackoverflow.com/a/34052602\">2cupsOfTech</a></em></p>\n"},{"comments":[{"owner":{"account_id":5531638,"reputation":14395,"user_id":4391450,"display_name":"AxelH"},"score":0,"creation_date":1480427033,"post_id":40867287,"comment_id":68950146,"body_markdown":"I am not sure the UI thread is a daemon but I will believe you on this one. But how will you make the difference with a Daemon Thread that I could (but should not) create.","body":"I am not sure the UI thread is a daemon but I will believe you on this one. But how will you make the difference with a Daemon Thread that I could (but should not) create."},{"owner":{"account_id":3005841,"reputation":483,"user_id":2550410,"display_name":"Shailendra Singh"},"score":0,"creation_date":1480577679,"post_id":40867287,"comment_id":69022640,"body_markdown":"I tested in my web app, it shows that UI thread is a Daemon thread. I put some debug break points  in eclipse environment and verified it. Thread detail shown as Thread[http-bio-8080-exec-7,5,main]. Clicked on some UI pages and checked the debug point.","body":"I tested in my web app, it shows that UI thread is a Daemon thread. I put some debug break points  in eclipse environment and verified it. Thread detail shown as Thread[http-bio-8080-exec-7,5,main]. Clicked on some UI pages and checked the debug point."},{"owner":{"account_id":3005841,"reputation":483,"user_id":2550410,"display_name":"Shailendra Singh"},"score":0,"creation_date":1480577856,"post_id":40867287,"comment_id":69022715,"body_markdown":"Also, even if in the thread name details its showing &#39;main&#39; but calling setDaemon(true) on thread object will make it daemon.","body":"Also, even if in the thread name details its showing &#39;main&#39; but calling setDaemon(true) on thread object will make it daemon."},{"owner":{"account_id":5531638,"reputation":14395,"user_id":4391450,"display_name":"AxelH"},"score":0,"creation_date":1480578192,"post_id":40867287,"comment_id":69022868,"body_markdown":"You didn&#39;t read the good part ... I wasn&#39;t doubting (completly) about it being a Daemon, I was telling that you can&#39;t make the differences with an other Daemon thread like this.","body":"You didn&#39;t read the good part ... I wasn&#39;t doubting (completly) about it being a Daemon, I was telling that you can&#39;t make the differences with an other Daemon thread like this."},{"owner":{"display_name":"user1531971"},"score":0,"creation_date":1495123740,"post_id":40867287,"comment_id":75130858,"body_markdown":"Put another way: a main thread may be a daemon thread, but not all daemon threads are the main thread. (Identifying the main thread is what is being asked here.)","body":"Put another way: a main thread may be a daemon thread, but not all daemon threads are the main thread. (Identifying the main thread is what is being asked here.)"},{"owner":{"display_name":"user1531971"},"score":0,"creation_date":1495123981,"post_id":40867287,"comment_id":75131001,"body_markdown":"Also, it&#39;s important to note that the main thread being a daemon is not under programmer control, and an API or VM change could result in this assertion being untrue.","body":"Also, it&#39;s important to note that the main thread being a daemon is not under programmer control, and an API or VM change could result in this assertion being untrue."}],"tags":[],"owner":{"account_id":3005841,"reputation":483,"user_id":2550410,"display_name":"Shailendra Singh"},"comment_count":6,"down_vote_count":8,"up_vote_count":1,"is_accepted":false,"score":-7,"last_activity_date":1480426583,"creation_date":1480426583,"answer_id":40867287,"question_id":11411022,"body_markdown":"You can try Thread.currentThread().isDaemon()\r\n","title":"How to check if current thread is not main thread","body":"<p>You can try Thread.currentThread().isDaemon()</p>\n"},{"comments":[{"owner":{"account_id":4690396,"reputation":1599,"user_id":3796660,"accept_rate":54,"display_name":"AJW"},"score":0,"creation_date":1636579575,"post_id":41280460,"comment_id":123598417,"body_markdown":"Other answers around Handler recommend using &quot;.postDelayed()&quot; rather than &quot;.post()&quot;.  What is the main difference and can you mention why you recommended using &quot;.post()&quot;?","body":"Other answers around Handler recommend using &quot;.postDelayed()&quot; rather than &quot;.post()&quot;.  What is the main difference and can you mention why you recommended using &quot;.post()&quot;?"},{"owner":{"account_id":796053,"reputation":115361,"user_id":878126,"accept_rate":51,"display_name":"android developer"},"score":0,"creation_date":1636585996,"post_id":41280460,"comment_id":123600191,"body_markdown":"@AJW Sure, here are the docs: https://developer.android.com/reference/android/os/Handler#post(java.lang.Runnable) https://developer.android.com/reference/android/os/Handler#postDelayed(java.lang.Runnable,%20java.lang.Object,%20long) . You use the postDelayed if you wish for the runnable to run at least X ms fro now.","body":"@AJW Sure, here are the docs: <a href=\"https://developer.android.com/reference/android/os/Handler#post(java.lang.Runnable)\" rel=\"nofollow noreferrer\">developer.android.com/reference/android/os/&hellip;</a> <a href=\"https://developer.android.com/reference/android/os/Handler#postDelayed(java.lang.Runnable,%20java.lang.Object,%20long)\" rel=\"nofollow noreferrer\">developer.android.com/reference/android/os/&hellip;</a> . You use the postDelayed if you wish for the runnable to run at least X ms fro now."},{"owner":{"account_id":4690396,"reputation":1599,"user_id":3796660,"accept_rate":54,"display_name":"AJW"},"score":0,"creation_date":1636586129,"post_id":41280460,"comment_id":123600225,"body_markdown":"Excellent, I appreciate the info.","body":"Excellent, I appreciate the info."},{"owner":{"account_id":5624068,"reputation":1977,"user_id":4453027,"accept_rate":45,"display_name":"KJEjava48"},"score":0,"creation_date":1638623722,"post_id":41280460,"comment_id":124140179,"body_markdown":"@androiddeveloper How can i run something not in the main thread???","body":"@androiddeveloper How can i run something not in the main thread???"},{"owner":{"account_id":796053,"reputation":115361,"user_id":878126,"accept_rate":51,"display_name":"android developer"},"score":0,"creation_date":1638627979,"post_id":41280460,"comment_id":124141070,"body_markdown":"@KJEjava48 Many ways to do it. The basic one is to create a new `Thread` class and either implement `run` on it or provide a `Runnable` instance to it, and then call `start()` on this `Thread` instance. In Kotlin there is a very short way to do it, using just `thread{ runCodeHere() }` .","body":"@KJEjava48 Many ways to do it. The basic one is to create a new <code>Thread</code> class and either implement <code>run</code> on it or provide a <code>Runnable</code> instance to it, and then call <code>start()</code> on this <code>Thread</code> instance. In Kotlin there is a very short way to do it, using just <code>thread{ runCodeHere() }</code> ."}],"tags":[],"owner":{"account_id":796053,"reputation":115361,"user_id":878126,"accept_rate":51,"display_name":"android developer"},"comment_count":5,"down_vote_count":0,"up_vote_count":28,"is_accepted":false,"score":28,"last_activity_date":1526510689,"creation_date":1482400975,"answer_id":41280460,"question_id":11411022,"body_markdown":"Summarizing the solutions, I think that&#39;s the best one:\r\n\r\n    boolean isUiThread = VERSION.SDK_INT &gt;= VERSION_CODES.M \r\n        ? Looper.getMainLooper().isCurrentThread()\r\n        : Thread.currentThread() == Looper.getMainLooper().getThread();\r\n\r\nAnd, if you wish to run something on the UI thread, you can use this:\r\n\r\n    new Handler(Looper.getMainLooper()).post(new Runnable() {\r\n        @Override\r\n        public void run() {\r\n           //this runs on the UI thread\r\n        }\r\n    });","title":"How to check if current thread is not main thread","body":"<p>Summarizing the solutions, I think that's the best one:</p>\n\n<pre><code>boolean isUiThread = VERSION.SDK_INT &gt;= VERSION_CODES.M \n    ? Looper.getMainLooper().isCurrentThread()\n    : Thread.currentThread() == Looper.getMainLooper().getThread();\n</code></pre>\n\n<p>And, if you wish to run something on the UI thread, you can use this:</p>\n\n<pre><code>new Handler(Looper.getMainLooper()).post(new Runnable() {\n    @Override\n    public void run() {\n       //this runs on the UI thread\n    }\n});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4013696,"reputation":3065,"user_id":3306437,"display_name":"Lovekush Vishwakarma"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1543314242,"creation_date":1543314242,"answer_id":53497524,"question_id":11411022,"body_markdown":"**You can check** \r\n\r\n    if(Looper.myLooper() == Looper.getMainLooper()) {\r\n       // You are on mainThread \r\n    }else{\r\n    // you are on non-ui thread\r\n    }","title":"How to check if current thread is not main thread","body":"<p><strong>You can check</strong> </p>\n\n<pre><code>if(Looper.myLooper() == Looper.getMainLooper()) {\n   // You are on mainThread \n}else{\n// you are on non-ui thread\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4103031,"reputation":11144,"user_id":3367974,"accept_rate":33,"display_name":"Mehdi Dehghani"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1547627258,"creation_date":1547625638,"answer_id":54212574,"question_id":11411022,"body_markdown":"`Xamarin.Android` port: (_`C#`_)\r\n\r\n    public bool IsMainThread =&gt; Build.VERSION.SdkInt &gt;= BuildVersionCodes.M\r\n        ? Looper.MainLooper.IsCurrentThread\r\n        : Looper.MyLooper() == Looper.MainLooper;\r\n\r\nUsage:\r\n\r\n    if (IsMainThread) {\r\n        // you are on UI/Main thread\r\n    }","title":"How to check if current thread is not main thread","body":"<p><code>Xamarin.Android</code> port: (<em><code>C#</code></em>)</p>\n\n<pre><code>public bool IsMainThread =&gt; Build.VERSION.SdkInt &gt;= BuildVersionCodes.M\n    ? Looper.MainLooper.IsCurrentThread\n    : Looper.MyLooper() == Looper.MainLooper;\n</code></pre>\n\n<p>Usage:</p>\n\n<pre><code>if (IsMainThread) {\n    // you are on UI/Main thread\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2759227,"reputation":496,"user_id":2376453,"accept_rate":83,"display_name":"NekoKikoushi"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1566913620,"creation_date":1566913620,"answer_id":57676093,"question_id":11411022,"body_markdown":"Allow me to preface this with:\r\nI acknowledged this post has the &#39;Android&#39; tag, however, my search had nothing to do with &#39;Android&#39; and this was my top result. To that end, for the **non-Android** SO Java users landing here, don&#39;t forget about:\r\n\r\n    public static void main(String[] args{\r\n        Thread.currentThread().setName(&quot;SomeNameIChoose&quot;);\r\n        /*...the rest of main...*/\r\n    }\r\n\r\nAfter setting this, elsewhere in your code, you can easily check if you&#39;re about to execute on the main thread with:\r\n\r\n    if(Thread.currentThread().getName().equals(&quot;SomeNameIChoose&quot;))\r\n    {\r\n        //do something on main thread\r\n    }\r\n\r\nA bit embarrassed I had searched before remembering this, but hopefully it will help someone else!","title":"How to check if current thread is not main thread","body":"<p>Allow me to preface this with:\nI acknowledged this post has the 'Android' tag, however, my search had nothing to do with 'Android' and this was my top result. To that end, for the <strong>non-Android</strong> SO Java users landing here, don't forget about:</p>\n\n<pre><code>public static void main(String[] args{\n    Thread.currentThread().setName(\"SomeNameIChoose\");\n    /*...the rest of main...*/\n}\n</code></pre>\n\n<p>After setting this, elsewhere in your code, you can easily check if you're about to execute on the main thread with:</p>\n\n<pre><code>if(Thread.currentThread().getName().equals(\"SomeNameIChoose\"))\n{\n    //do something on main thread\n}\n</code></pre>\n\n<p>A bit embarrassed I had searched before remembering this, but hopefully it will help someone else!</p>\n"},{"comments":[{"owner":{"account_id":5624068,"reputation":1977,"user_id":4453027,"accept_rate":45,"display_name":"KJEjava48"},"score":0,"creation_date":1638621128,"post_id":65793746,"comment_id":124139604,"body_markdown":"How??  Can u pls show that Toast code","body":"How??  Can u pls show that Toast code"},{"owner":{"account_id":14889423,"reputation":85,"user_id":10751598,"display_name":"Stefan Irndorfer"},"score":0,"creation_date":1640090696,"post_id":65793746,"comment_id":124508437,"body_markdown":"`Toast.makeText(activity, &quot;Hello main thread&quot;, Toast.LENGTH_LONG).show();`","body":"<code>Toast.makeText(activity, &quot;Hello main thread&quot;, Toast.LENGTH_LONG).show();</code>"}],"tags":[],"owner":{"account_id":14889423,"reputation":85,"user_id":10751598,"display_name":"Stefan Irndorfer"},"comment_count":2,"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1611067287,"creation_date":1611067287,"answer_id":65793746,"question_id":11411022,"body_markdown":"A simple Toast message works also as a quick check.","title":"How to check if current thread is not main thread","body":"<p>A simple Toast message works also as a quick check.</p>\n"},{"tags":[],"owner":{"account_id":19490079,"reputation":615,"user_id":14258439,"display_name":"Kumar Santanu"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1641722876,"creation_date":1641722876,"answer_id":70640232,"question_id":11411022,"body_markdown":"**First of all check It is main Thread or not**\r\n\r\n&gt; In Kotlin\r\n\r\n    fun isRunningOnMainThread(): Boolean {\r\n        return Thread.currentThread() == Looper.getMainLooper().thread\r\n    }\r\n\r\n&gt; In Java\r\n\r\n    static boolean isRunningOnMainThread() {\r\n      return Thread.currentThread().equals(Looper.getMainLooper().getThread());\r\n    }","title":"How to check if current thread is not main thread","body":"<p><strong>First of all check It is main Thread or not</strong></p>\n<blockquote>\n<p>In Kotlin</p>\n</blockquote>\n<pre><code>fun isRunningOnMainThread(): Boolean {\n    return Thread.currentThread() == Looper.getMainLooper().thread\n}\n</code></pre>\n<blockquote>\n<p>In Java</p>\n</blockquote>\n<pre><code>static boolean isRunningOnMainThread() {\n  return Thread.currentThread().equals(Looper.getMainLooper().getThread());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12776413,"reputation":640,"user_id":9955950,"display_name":"shubham chouhan"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1646122873,"creation_date":1646122873,"answer_id":71305539,"question_id":11411022,"body_markdown":"just log this line, it should print &quot;main&quot;.\r\n\r\n  **Thread.currentThread().name**","title":"How to check if current thread is not main thread","body":"<p>just log this line, it should print &quot;main&quot;.</p>\n<p><strong>Thread.currentThread().name</strong></p>\n"},{"tags":[],"owner":{"account_id":13893486,"reputation":1259,"user_id":10030894,"display_name":"Nicolas Duponchel"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1656582315,"creation_date":1656582315,"answer_id":72813622,"question_id":11411022,"body_markdown":"In addition to all previous answers \r\n```kotlin\r\ninline fun &lt;T&gt; ensureNotOnMainThread(block: () -&gt; T): T {\r\n    check(Thread.currentThread() != Looper.getMainLooper().thread) { &quot;This function cannot be called on main thread&quot; }\r\n    return block()\r\n}\r\n``` \r\nallows to wrap any method with it, following example : \r\n```kotlin\r\nfun isInDataBase(id: String) = ensureNotOnMainThread { db.contains(id) }\r\n```","title":"How to check if current thread is not main thread","body":"<p>In addition to all previous answers</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>inline fun &lt;T&gt; ensureNotOnMainThread(block: () -&gt; T): T {\n    check(Thread.currentThread() != Looper.getMainLooper().thread) { &quot;This function cannot be called on main thread&quot; }\n    return block()\n}\n</code></pre>\n<p>allows to wrap any method with it, following example :</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>fun isInDataBase(id: String) = ensureNotOnMainThread { db.contains(id) }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":558340,"reputation":1150,"user_id":920849,"display_name":"Stephen Talley"},"score":0,"creation_date":1687643764,"post_id":74778050,"comment_id":134966184,"body_markdown":"Care to elaborate @Renetik? Can you suggest a better solution in a non-Android context?","body":"Care to elaborate @Renetik? Can you suggest a better solution in a non-Android context?"}],"tags":[],"owner":{"account_id":558340,"reputation":1150,"user_id":920849,"display_name":"Stephen Talley"},"comment_count":1,"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1670887650,"creation_date":1670884274,"answer_id":74778050,"question_id":11411022,"body_markdown":"A coroutines-based, Android-agnostic approach:\r\n\r\n    val onMainThread: Boolean\r\n        get() = Thread.currentThread() === try {\r\n            runBlocking(Dispatchers.Main.immediate) {\r\n                Thread.currentThread()\r\n            }\r\n        } catch (e: IllegalStateException) {\r\n            // No main dispatcher has been registered; not in an Android context?\r\n            null\r\n        }\r\n","title":"How to check if current thread is not main thread","body":"<p>A coroutines-based, Android-agnostic approach:</p>\n<pre><code>val onMainThread: Boolean\n    get() = Thread.currentThread() === try {\n        runBlocking(Dispatchers.Main.immediate) {\n            Thread.currentThread()\n        }\n    } catch (e: IllegalStateException) {\n        // No main dispatcher has been registered; not in an Android context?\n        null\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":875385,"reputation":6025,"user_id":925135,"accept_rate":82,"display_name":"Renetik"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686605781,"creation_date":1686605781,"answer_id":76460474,"question_id":11411022,"body_markdown":"So another answer to join the company, for some extension file in kotlin: \r\n\r\n    import android.os.Looper.getMainLooper\r\n    import java.lang.Thread.currentThread\r\n    \r\n    val Thread.isMain get() = getMainLooper().thread == this\r\n    \r\n    val isThreadMain get() = getMainLooper().thread == currentThread()","title":"How to check if current thread is not main thread","body":"<p>So another answer to join the company, for some extension file in kotlin:</p>\n<pre><code>import android.os.Looper.getMainLooper\nimport java.lang.Thread.currentThread\n\nval Thread.isMain get() = getMainLooper().thread == this\n\nval isThreadMain get() = getMainLooper().thread == currentThread()\n</code></pre>\n"}],"owner":{"account_id":1503800,"reputation":10872,"user_id":1407672,"accept_rate":88,"display_name":"Charlie-Blake"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":171548,"favorite_count":0,"down_vote_count":1,"up_vote_count":463,"accepted_answer_id":11411087,"answer_count":15,"score":462,"last_activity_date":1686605781,"creation_date":1341914940,"question_id":11411022,"body_markdown":"I need to check if the thread running a certain piece of code is the main (UI) thread or not. How can I achieve this?","title":"How to check if current thread is not main thread","body":"<p>I need to check if the thread running a certain piece of code is the main (UI) thread or not. How can I achieve this?</p>\n"},{"tags":["java","elasticsearch"],"answers":[{"comments":[{"owner":{"account_id":5467117,"reputation":19,"user_id":21576393,"display_name":"shaselai"},"score":0,"creation_date":1686669835,"post_id":76460387,"comment_id":134829439,"body_markdown":"I tried it and i don&#39;t think it is searching correctly\n{\n  &quot;query&quot;: {\n    &quot;range&quot;: {\n      &quot;phone-num.digits-only&quot;: {\n        &quot;gt&quot;: &quot;2333333444&quot;,\n        &quot;lte&quot;: &quot;2333333444&quot;\n      }\n    }\n  }\n}\ngets me 0.  BUT if i change lte to something like 222222222222222222, i get some results. I don&#39;t think it is being treated as numbers?","body":"I tried it and i don&#39;t think it is searching correctly {   &quot;query&quot;: {     &quot;range&quot;: {       &quot;phone-num.digits-only&quot;: {         &quot;gt&quot;: &quot;2333333444&quot;,         &quot;lte&quot;: &quot;2333333444&quot;       }     }   } } gets me 0.  BUT if i change lte to something like 222222222222222222, i get some results. I don&#39;t think it is being treated as numbers?"},{"owner":{"account_id":18184081,"reputation":36,"user_id":13231217,"display_name":"Amish"},"score":0,"creation_date":1686754971,"post_id":76460387,"comment_id":134843318,"body_markdown":"don&#39;t make &quot;gt&quot; and &quot;lte&quot; the same value. &quot;gt&quot; means &quot;greater than&quot; and &quot;lte&quot; means &quot;less than or equals&quot;. If you set both to the same value, you&#39;ll get zero results. use the exact query I gave you without changing it.","body":"don&#39;t make &quot;gt&quot; and &quot;lte&quot; the same value. &quot;gt&quot; means &quot;greater than&quot; and &quot;lte&quot; means &quot;less than or equals&quot;. If you set both to the same value, you&#39;ll get zero results. use the exact query I gave you without changing it."},{"owner":{"account_id":5467117,"reputation":19,"user_id":21576393,"display_name":"shaselai"},"score":0,"creation_date":1686763411,"post_id":76460387,"comment_id":134845224,"body_markdown":"i did. so the issue is still if i search &quot;gt&quot;: &quot;1&quot; &quot;lte:22222222&quot; i get some results. BUT if i use &quot;gt:4&quot; and same lte i get 0 results... somehow it is still thinking the keys are string.","body":"i did. so the issue is still if i search &quot;gt&quot;: &quot;1&quot; &quot;lte:22222222&quot; i get some results. BUT if i use &quot;gt:4&quot; and same lte i get 0 results... somehow it is still thinking the keys are string."},{"owner":{"account_id":18184081,"reputation":36,"user_id":13231217,"display_name":"Amish"},"score":0,"creation_date":1686766694,"post_id":76460387,"comment_id":134845827,"body_markdown":"Yes, they are still stored as strings, but you can still perform a range query on them this way. The difference is that they are sorted alphabetically rather than numerically, so &quot;4&quot; is greater than &quot;2333333444&quot;.","body":"Yes, they are still stored as strings, but you can still perform a range query on them this way. The difference is that they are sorted alphabetically rather than numerically, so &quot;4&quot; is greater than &quot;2333333444&quot;."},{"owner":{"account_id":5467117,"reputation":19,"user_id":21576393,"display_name":"shaselai"},"score":0,"creation_date":1686769060,"post_id":76460387,"comment_id":134846209,"body_markdown":"hmm.. so how do i solve queries like 4045555 to 2034445555? I understand there are standards for phone numbers but with country codes etc. things could be different. is there another way to do it with fields during mapping using scripts maybe I can create a &quot;long&quot; field parsing with script? \nAlso, why is there a need for &quot;keyword&quot; inside fields? it&#39;s not being used anywhere?","body":"hmm.. so how do i solve queries like 4045555 to 2034445555? I understand there are standards for phone numbers but with country codes etc. things could be different. is there another way to do it with fields during mapping using scripts maybe I can create a &quot;long&quot; field parsing with script?  Also, why is there a need for &quot;keyword&quot; inside fields? it&#39;s not being used anywhere?"}],"tags":[],"owner":{"account_id":18184081,"reputation":36,"user_id":13231217,"display_name":"Amish"},"comment_count":5,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686605116,"creation_date":1686604574,"answer_id":76460387,"question_id":76459496,"body_markdown":"I would instead keep the parsed value field as a keyword field and just use a range query on that. \r\n\r\nHere&#39;s an example of the mapping you could use:\r\n```\r\nPUT phone-numbers-index \r\n{\r\n  &quot;settings&quot;: {\r\n    &quot;analysis&quot;: {\r\n      &quot;normalizer&quot;: {\r\n        &quot;digits-only&quot;: {\r\n          &quot;type&quot;: &quot;custom&quot;,\r\n          &quot;char_filter&quot;: &quot;digits-only&quot;\r\n        }\r\n      },\r\n      &quot;analyzer&quot;: {\r\n        \r\n      },\r\n      &quot;char_filter&quot; : {\r\n        &quot;digits-only&quot;:{\r\n            &quot;type&quot;:&quot;pattern_replace&quot;,\r\n            &quot;pattern&quot;:&quot;[^0-9]&quot;,\r\n            &quot;replacement&quot;:&quot;&quot;\r\n        }\r\n      },\r\n      &quot;filter&quot;: {\r\n        \r\n      }\r\n    }\r\n  }, \r\n  &quot;mappings&quot;: {\r\n    &quot;properties&quot;: {\r\n      &quot;phone-num&quot;: {\r\n        &quot;type&quot;: &quot;text&quot;,\r\n        &quot;fields&quot;: {\r\n          &quot;keyword&quot;: {\r\n            &quot;type&quot;: &quot;keyword&quot;\r\n          },\r\n          &quot;digits-only&quot;: {\r\n            &quot;type&quot;: &quot;keyword&quot;,\r\n            &quot;normalizer&quot;: &quot;digits-only&quot;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nThis will create a field called &quot;digits-only&quot; on your phone-num field. Then, you can use a range query on the digits-only field to query phone numbers between two values:\r\n\r\n```\r\nGET phone-numbers-index/_search\r\n{\r\n  &quot;query&quot;: {\r\n    &quot;range&quot;: {\r\n      &quot;phone-num.digits-only&quot;: {\r\n        &quot;gt&quot;: &quot;1&quot;,\r\n        &quot;lte&quot;: &quot;2333333444&quot;\r\n      }\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nThis query will return every document with a phone number greater than 1 and less than or equal to (233) 333-3444 ","title":"Having issues Elasticsearch creating numeric field from parsed values for range query","body":"<p>I would instead keep the parsed value field as a keyword field and just use a range query on that.</p>\n<p>Here's an example of the mapping you could use:</p>\n<pre><code>PUT phone-numbers-index \n{\n  &quot;settings&quot;: {\n    &quot;analysis&quot;: {\n      &quot;normalizer&quot;: {\n        &quot;digits-only&quot;: {\n          &quot;type&quot;: &quot;custom&quot;,\n          &quot;char_filter&quot;: &quot;digits-only&quot;\n        }\n      },\n      &quot;analyzer&quot;: {\n        \n      },\n      &quot;char_filter&quot; : {\n        &quot;digits-only&quot;:{\n            &quot;type&quot;:&quot;pattern_replace&quot;,\n            &quot;pattern&quot;:&quot;[^0-9]&quot;,\n            &quot;replacement&quot;:&quot;&quot;\n        }\n      },\n      &quot;filter&quot;: {\n        \n      }\n    }\n  }, \n  &quot;mappings&quot;: {\n    &quot;properties&quot;: {\n      &quot;phone-num&quot;: {\n        &quot;type&quot;: &quot;text&quot;,\n        &quot;fields&quot;: {\n          &quot;keyword&quot;: {\n            &quot;type&quot;: &quot;keyword&quot;\n          },\n          &quot;digits-only&quot;: {\n            &quot;type&quot;: &quot;keyword&quot;,\n            &quot;normalizer&quot;: &quot;digits-only&quot;\n          }\n        }\n      }\n    }\n  }\n}\n</code></pre>\n<p>This will create a field called &quot;digits-only&quot; on your phone-num field. Then, you can use a range query on the digits-only field to query phone numbers between two values:</p>\n<pre><code>GET phone-numbers-index/_search\n{\n  &quot;query&quot;: {\n    &quot;range&quot;: {\n      &quot;phone-num.digits-only&quot;: {\n        &quot;gt&quot;: &quot;1&quot;,\n        &quot;lte&quot;: &quot;2333333444&quot;\n      }\n    }\n  }\n}\n</code></pre>\n<p>This query will return every document with a phone number greater than 1 and less than or equal to (233) 333-3444</p>\n"}],"owner":{"account_id":5467117,"reputation":19,"user_id":21576393,"display_name":"shaselai"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1686605116,"creation_date":1686595848,"question_id":76459496,"body_markdown":"I have an input of phone number which could include -, + or alphabet. I want to have a numeric version of that value for my Range query. So I was able to parse +233-333-3444 into 2333333444 and when I did a &quot;match query&quot; with &quot;phone-num.parsedValue = 23333334444&quot; i received results. \r\n\r\n\r\n```\r\n&quot;phone-num&quot;: {\r\n\r\n&quot;text&quot;,\r\n\r\n&quot;fields&quot;: {\r\n\r\n&quot;parsedValue&quot;: {\r\n\r\n&quot;analyzer&quot;: &quot;phone-analyzer&quot;,\r\n\r\n&quot;type&quot;:&quot;text&quot;\r\n\r\n}}}\r\n```\r\n\r\n\r\nWhen i tried to do a range query:\r\n\r\n```\r\n&quot;query&quot;:{\r\n\r\n&quot;range&quot;:{\r\n\r\n&quot;phone-num.parsedValue&quot;:{\r\n\r\n&quot;from&quot;:1,\r\n\r\n&quot;to&quot;: 2333333444,\r\n\r\n&quot;include_lower&quot;:true,\r\n\r\n&quot;include_upper&quot;:true }}}\r\n```\r\n\r\ni get 0 results. I am pretty sure this is because the value is in string. The issue is I am not sure how to query against it. I tried &quot;copy_to&quot; and &quot;fields within fields&quot; but neither worked... Is there a way to either:\r\n\r\n1. Save another value based on my &quot;parsedValue&quot; result and save it as long so i can search against it\r\n\r\n2. If I can&#39;t do it during mapping part, what about parsing as part of the query? \r\n\r\nSo to recap - I want to perform Ranged query on incoming Phone numbers with non-numeric values. I did filter it with custom analyzer to remove non-digits but can&#39;t search against it due to the result value still being a string.","title":"Having issues Elasticsearch creating numeric field from parsed values for range query","body":"<p>I have an input of phone number which could include -, + or alphabet. I want to have a numeric version of that value for my Range query. So I was able to parse +233-333-3444 into 2333333444 and when I did a &quot;match query&quot; with &quot;phone-num.parsedValue = 23333334444&quot; i received results.</p>\n<pre><code>&quot;phone-num&quot;: {\n\n&quot;text&quot;,\n\n&quot;fields&quot;: {\n\n&quot;parsedValue&quot;: {\n\n&quot;analyzer&quot;: &quot;phone-analyzer&quot;,\n\n&quot;type&quot;:&quot;text&quot;\n\n}}}\n</code></pre>\n<p>When i tried to do a range query:</p>\n<pre><code>&quot;query&quot;:{\n\n&quot;range&quot;:{\n\n&quot;phone-num.parsedValue&quot;:{\n\n&quot;from&quot;:1,\n\n&quot;to&quot;: 2333333444,\n\n&quot;include_lower&quot;:true,\n\n&quot;include_upper&quot;:true }}}\n</code></pre>\n<p>i get 0 results. I am pretty sure this is because the value is in string. The issue is I am not sure how to query against it. I tried &quot;copy_to&quot; and &quot;fields within fields&quot; but neither worked... Is there a way to either:</p>\n<ol>\n<li><p>Save another value based on my &quot;parsedValue&quot; result and save it as long so i can search against it</p>\n</li>\n<li><p>If I can't do it during mapping part, what about parsing as part of the query?</p>\n</li>\n</ol>\n<p>So to recap - I want to perform Ranged query on incoming Phone numbers with non-numeric values. I did filter it with custom analyzer to remove non-digits but can't search against it due to the result value still being a string.</p>\n"},{"tags":["java","android","multithreading","midi","interrupted-exception"],"comments":[{"owner":{"account_id":2246691,"reputation":26585,"user_id":1979882,"accept_rate":90,"display_name":"Vyacheslav"},"score":0,"creation_date":1473169642,"post_id":39211146,"comment_id":66031005,"body_markdown":"Please, provide more information where  `MyRunnable` is called. There its thread is started, cancelled","body":"Please, provide more information where  <code>MyRunnable</code> is called. There its thread is started, cancelled"},{"owner":{"account_id":4778452,"reputation":1243,"user_id":3860983,"accept_rate":82,"display_name":"yun"},"score":0,"creation_date":1473170047,"post_id":39211146,"comment_id":66031329,"body_markdown":"@Vyacheslav Certainly - added it just now","body":"@Vyacheslav Certainly - added it just now"},{"owner":{"account_id":2246691,"reputation":26585,"user_id":1979882,"accept_rate":90,"display_name":"Vyacheslav"},"score":0,"creation_date":1473170361,"post_id":39211146,"comment_id":66031559,"body_markdown":"So, how do you start `AudioActivity`? I just can see you have changed code of the example project.","body":"So, how do you start <code>AudioActivity</code>? I just can see you have changed code of the example project."},{"owner":{"account_id":2246691,"reputation":26585,"user_id":1979882,"accept_rate":90,"display_name":"Vyacheslav"},"score":0,"creation_date":1473170458,"post_id":39211146,"comment_id":66031623,"body_markdown":"What is `AudioActivity.midiEngine`?","body":"What is <code>AudioActivity.midiEngine</code>?"},{"owner":{"account_id":4778452,"reputation":1243,"user_id":3860983,"accept_rate":82,"display_name":"yun"},"score":0,"creation_date":1473170501,"post_id":39211146,"comment_id":66031648,"body_markdown":"@Vyacheslav `AudioActivity` is just the Main Activity for the Android application. The `midiEngine` variable is a `MidiReceiver` subclass (same as from the example; almost if not all the MIDI stuff is taken from the midisuite example). `midiEngine` is a static variable owned by `AudioActivity`. I&#39;ll post that class as well if needed","body":"@Vyacheslav <code>AudioActivity</code> is just the Main Activity for the Android application. The <code>midiEngine</code> variable is a <code>MidiReceiver</code> subclass (same as from the example; almost if not all the MIDI stuff is taken from the midisuite example). <code>midiEngine</code> is a static variable owned by <code>AudioActivity</code>. I&#39;ll post that class as well if needed"},{"owner":{"account_id":2246691,"reputation":26585,"user_id":1979882,"accept_rate":90,"display_name":"Vyacheslav"},"score":0,"creation_date":1473170707,"post_id":39211146,"comment_id":66031775,"body_markdown":"Of course post. The problem is about your thread is interrupted by somewhere. But you do not show how your code actually works.","body":"Of course post. The problem is about your thread is interrupted by somewhere. But you do not show how your code actually works."},{"owner":{"account_id":4778452,"reputation":1243,"user_id":3860983,"accept_rate":82,"display_name":"yun"},"score":0,"creation_date":1473170812,"post_id":39211146,"comment_id":66031856,"body_markdown":"@Vyacheslav There&#39;s a lot of code and I only wanted to post parts of the code when needed and I wasn&#39;t sure which parts were related quite yet. I do have a thread running for my audio generation code, so in total I guess there are 3 threads (audio, midi, and UI).","body":"@Vyacheslav There&#39;s a lot of code and I only wanted to post parts of the code when needed and I wasn&#39;t sure which parts were related quite yet. I do have a thread running for my audio generation code, so in total I guess there are 3 threads (audio, midi, and UI)."}],"answers":[{"tags":[],"owner":{"account_id":875385,"reputation":6025,"user_id":925135,"accept_rate":82,"display_name":"Renetik"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686605078,"creation_date":1686605078,"answer_id":76460423,"question_id":39211146,"body_markdown":"This is realy old post but I will repond anyway:\r\n\r\nWhile I debug my onSend of MidiReceiver that is used in my MidiDeviceService defined in mainfest I can see clearly that it is running on some thread, no UI thread. S when I see this code I can clearly see multiple related issues.\r\n\r\nI check thread by :\r\n\r\n    val Thread.isMain get() = Looper.getMainLooper().thread == this\r\nor\r\n\r\n    val Thread.isMain2 get() = Looper.myLooper() == Looper.getMainLooper()\r\n \r\nWhat gives me that same result. I could not find this anywhere in documentation what is crazy, but my debugging gives me clear answer. \r\nI cannot see any synchronization or anything in this code so as I dont see code of MidiEventScheduler eather and this is not part of android api is that like thread safe? \r\n\r\nI doubt so.","title":"Android MIDI Threading InteruptedException - Aftertouch Messages","body":"<p>This is realy old post but I will repond anyway:</p>\n<p>While I debug my onSend of MidiReceiver that is used in my MidiDeviceService defined in mainfest I can see clearly that it is running on some thread, no UI thread. S when I see this code I can clearly see multiple related issues.</p>\n<p>I check thread by :</p>\n<pre><code>val Thread.isMain get() = Looper.getMainLooper().thread == this\n</code></pre>\n<p>or</p>\n<pre><code>val Thread.isMain2 get() = Looper.myLooper() == Looper.getMainLooper()\n</code></pre>\n<p>What gives me that same result. I could not find this anywhere in documentation what is crazy, but my debugging gives me clear answer.\nI cannot see any synchronization or anything in this code so as I dont see code of MidiEventScheduler eather and this is not part of android api is that like thread safe?</p>\n<p>I doubt so.</p>\n"}],"owner":{"account_id":4778452,"reputation":1243,"user_id":3860983,"accept_rate":82,"display_name":"yun"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":348,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"answer_count":1,"score":16,"last_activity_date":1686605078,"creation_date":1472488914,"question_id":39211146,"body_markdown":"Trying to run MIDI on my Android app. I&#39;m following the [midisuite example][1] to configure my app and it works fine with the exception of aftertouch. Whenever I try to trigger aftertouch, I run into a threading exception type \r\n`InteruptedException`. How should I prevent this threading issue? My knowledge on multithreading isn&#39;t the best or else I would&#39;ve figured this out already. All I can really tell right now is that the message is sending too fast and the thread hasn&#39;t woken up yet from its sleep call.\r\n\r\nI followed the github repo with my code as follows:\r\n\r\n`MidiReceiver` subclass: \r\n\r\n    @TargetApi(Build.VERSION_CODES.M)\r\n    public class MidiEngine extends MidiReceiver {\r\n    \r\n        public  AudioActivity activity;\r\n        private MidiEventScheduler eventScheduler;\r\n        private MidiFramer midiFramer;\r\n        private MidiReceiver midiReceiver = new MyReceiver();\r\n    \r\n        private Thread mThread;\r\n        private boolean go;\r\n        private int mProgram;\r\n    \r\n        public MidiEngine() {\r\n            this(new AudioActivity());\r\n        }\r\n    \r\n        public MidiEngine(AudioActivity activity) {\r\n            this.activity = activity;\r\n            midiReceiver = new MyReceiver();\r\n            midiFramer = new MidiFramer(midiReceiver);\r\n        }\r\n    \r\n        public AudioActivity getActivity() {\r\n            return this.activity;\r\n        }\r\n    \r\n        /* This will be called when MIDI data arrives. */\r\n        @Override\r\n        public void onSend(byte[] data, int offset, int count, long timestamp)\r\n                throws IOException {\r\n            if (eventScheduler != null) {\r\n                if (!MidiConstants.isAllActiveSensing(data, offset, count)) {\r\n                    eventScheduler.getReceiver().send(data, offset, count,\r\n                            timestamp);\r\n                }\r\n            }\r\n        }\r\n    \r\n        // Custom Listener to send to correct methods\r\n        private class MyReceiver extends MidiReceiver {\r\n            @Override\r\n            public void onSend(byte[] msg, int offset, int count, long timestamp) throws IOException {\r\n                byte command    = (byte)(msg[0] &amp; MidiConstants.STATUS_COMMAND_MASK);\r\n                int channel     = (byte)(msg[0] &amp; MidiConstants.STATUS_CHANNEL_MASK);\r\n    \r\n                switch (command) {\r\n                    case MidiConstants.STATUS_NOTE_ON:\r\n                        activity.keyDown(i, msg[1], msg[2]);\r\n                        break;\r\n    \r\n                    case MidiConstants.STATUS_NOTE_OFF:\r\n                        activity.keyUp(channel, msg[1]);\r\n                        break;\r\n    \r\n                    case MidiConstants.STATUS_POLYPHONIC_AFTERTOUCH:\r\n                        activity.keyDown(channel, msg[1], msg[2]);\r\n                        break;\r\n    \r\n                    case MidiConstants.STATUS_PITCH_BEND:\r\n                        activity.pitchBendAction(channel, (msg[2] &lt;&lt; 7) + msg[1]);\r\n                        break;\r\n    \r\n                    case MidiConstants.STATUS_CONTROL_CHANGE:\r\n                        activity.ccAction(channel, msg[1], msg[2]);\r\n                        break;\r\n    \r\n                    case MidiConstants.STATUS_PROGRAM_CHANGE:\r\n                        mProgram = msg[1];\r\n                        break;\r\n    \r\n                    default:\r\n                        break;\r\n                }\r\n            }\r\n        }\r\n    \r\n        class MyRunnable implements Runnable {\r\n            @Override\r\n            public void run() {\r\n                do {\r\n                    try {\r\n                        activity.runOnUiThread(new Runnable() {\r\n                            @Override\r\n                            public void run() {\r\n                                try {\r\n                                    processMidiEvents();\r\n                                }\r\n                                catch (Exception e) {\r\n                                    Log.e(&quot;Java&quot;, &quot;SynthEngine background thread exception.&quot;, e);\r\n                                }\r\n                            }\r\n                        });\r\n                        Thread.sleep(100);\r\n                    }\r\n                    catch (InterruptedException e) {\r\n                        Log.e(&quot;Java&quot;, &quot;Threading exception&quot;, e);\r\n                    }\r\n                }\r\n                while (go);\r\n            }\r\n        }\r\n    \r\n        /**\r\n         * @throws IOException\r\n         *\r\n         */\r\n        private void processMidiEvents() throws IOException {\r\n            long now = System.nanoTime();\r\n            MidiEventScheduler.MidiEvent event = (MidiEventScheduler.MidiEvent) eventScheduler.getNextEvent(now);\r\n            while (event != null) {\r\n                midiFramer.send(event.data, 0, event.count, event.getTimestamp());\r\n                eventScheduler.addEventToPool(event);\r\n                event = (MidiEventScheduler.MidiEvent) eventScheduler.getNextEvent(now);\r\n            }\r\n        }\r\n    \r\n        public void start() {\r\n            stop();\r\n            go = true;\r\n            mThread = new Thread(new MyRunnable());\r\n            mThread.setPriority(6);\r\n            eventScheduler = new MidiEventScheduler();\r\n            mThread.start();\r\n        }\r\n    \r\n        public void stop() {\r\n            go = false;\r\n            if (mThread != null) {\r\n                try {\r\n                    mThread.interrupt();\r\n                    mThread.join(500);\r\n                }\r\n                catch (Exception e) {\r\n    \r\n                }\r\n                mThread = null;\r\n                eventScheduler = null;\r\n            }\r\n        }\r\n    \r\n    }\r\n\r\nStack Trace Error (line 154 refers to the `Thread.sleep` part in my custom `Runnable` class):\r\n\r\n    Java: Threading exception\r\n          java.lang.InterruptedException\r\n              at java.lang.Thread.sleep(Native Method)\r\n              at java.lang.Thread.sleep(Thread.java:1031)\r\n              at java.lang.Thread.sleep(Thread.java:985)\r\n              at com.rfoo.midiapp.communication.MidiEngineInput$MyRunnable.run(MidiEngineInput.java:154)\r\n                                                                         at java.lang.Thread.run(Thread.java:818)\r\n\r\nThanks!\r\n\r\n**EDIT: Thread start**\r\n----------\r\n\r\nMidi Device Service subclass (thread will start whenever a device has connected or disconnected).\r\n\r\n\r\n    @TargetApi(Build.VERSION_CODES.M)\r\n    public class MidiSynthDeviceService extends MidiDeviceService {\r\n        private static final String TAG = &quot;MidiSynthDeviceService&quot;;\r\n        private boolean midiStarted = false;\r\n    \r\n        @Override\r\n        public void onCreate() {\r\n            super.onCreate();\r\n        }\r\n    \r\n        @Override\r\n        public void onDestroy() {\r\n            AudioActivity.midiEngine.stop();\r\n            super.onDestroy();\r\n        }\r\n    \r\n        @Override\r\n        // Declare the receivers associated with your input ports.\r\n        public MidiReceiver[] onGetInputPortReceivers() {\r\n            return new MidiReceiver[] { AudioActivity.midiEngine };\r\n        }\r\n    \r\n        /**\r\n         * This will get called when clients connect or disconnect.\r\n         * You can use it to turn on your synth only when needed.\r\n         */\r\n        @Override\r\n        public void onDeviceStatusChanged(MidiDeviceStatus status) {\r\n    \r\n            if (status.isInputPortOpen(0) &amp;&amp; !midiStarted) {\r\n                AudioActivity.midiEngine.start();\r\n                midiStarted = true;\r\n            } else if (!status.isInputPortOpen(0) &amp;&amp; midiStarted){\r\n                AudioActivity.midiEngine.stop();\r\n                midiStarted = false;\r\n            }\r\n        }\r\n    }\r\n\r\nActivity class:\r\n\r\n    public class AudioActivity extends AppCompatActivity {\r\n        private Thread thread;\r\n        public static MidiEngine midiEngine;\r\n        \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            // Layout inits\r\n            super.onCreate(savedInstanceState);\r\n            requestWindowFeature(Window.FEATURE_NO_TITLE);\r\n            getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN,WindowManager.LayoutParams.FLAG_FULLSCREEN);\r\n\r\n            // Setup MIDI:\r\n            if (!getPackageManager().hasSystemFeature(PackageManager.FEATURE_MIDI)) {\r\n                Toast.makeText(this, &quot;MIDI not supported!&quot;, Toast.LENGTH_LONG).show();\r\n            }\r\n            else {\r\n                midiEngine = new MidiEngine(this);\r\n                setupMidi();\r\n            }\r\n\r\n            // Setup audio thread:\r\n            if (thread == null) {\r\n                thread = new Thread() {\r\n                    public void run() {\r\n                        setPriority(Thread.MAX_PRIORITY);\r\n                        // Runs an Open SL audio thread (C++)\r\n                        // This generates a waveform. \r\n                        // AudioEngine is a wrapper class connecting C++ to Java\r\n                        AudioEngine.runProcess();\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        \r\n        public void setupMidi() {\r\n            if (activity == null) activity = (AudioActivity) getContext();\r\n    \r\n            mMidiManager = (MidiManager) activity.getSystemService(AudioActivity.MIDI_SERVICE);\r\n            if (mMidiManager == null) {\r\n                Toast.makeText(activity, &quot;MidiManager is null!&quot;, Toast.LENGTH_LONG).show();\r\n                return;\r\n            }\r\n            // Get Device Info\r\n            MidiDeviceInfo deviceInfo = MidiTools.findDevice(mMidiManager, &quot;RFOO&quot;, &quot;AudioApp&quot;);\r\n    \r\n            // MIDI Input\r\n            portIndex = 0;\r\n            inputPortSelector = new MidiOutputPortConnectionSelector(mMidiManager, activity, R.id\r\n                    .inputListView, deviceInfo, portIndex);\r\n            inputPortSelector.setConnectedListener(new MyPortsConnectedListener());\r\n   \r\n            midi_ch_input = 0;\r\n            midi_ch_output = 0;\r\n        }\r\n\r\n        // Bunch of UI code here....\r\n    }\r\n\r\n\r\n  [1]: https://github.com/philburk/android-midisuite","title":"Android MIDI Threading InteruptedException - Aftertouch Messages","body":"<p>Trying to run MIDI on my Android app. I'm following the <a href=\"https://github.com/philburk/android-midisuite\">midisuite example</a> to configure my app and it works fine with the exception of aftertouch. Whenever I try to trigger aftertouch, I run into a threading exception type \n<code>InteruptedException</code>. How should I prevent this threading issue? My knowledge on multithreading isn't the best or else I would've figured this out already. All I can really tell right now is that the message is sending too fast and the thread hasn't woken up yet from its sleep call.</p>\n\n<p>I followed the github repo with my code as follows:</p>\n\n<p><code>MidiReceiver</code> subclass: </p>\n\n<pre><code>@TargetApi(Build.VERSION_CODES.M)\npublic class MidiEngine extends MidiReceiver {\n\n    public  AudioActivity activity;\n    private MidiEventScheduler eventScheduler;\n    private MidiFramer midiFramer;\n    private MidiReceiver midiReceiver = new MyReceiver();\n\n    private Thread mThread;\n    private boolean go;\n    private int mProgram;\n\n    public MidiEngine() {\n        this(new AudioActivity());\n    }\n\n    public MidiEngine(AudioActivity activity) {\n        this.activity = activity;\n        midiReceiver = new MyReceiver();\n        midiFramer = new MidiFramer(midiReceiver);\n    }\n\n    public AudioActivity getActivity() {\n        return this.activity;\n    }\n\n    /* This will be called when MIDI data arrives. */\n    @Override\n    public void onSend(byte[] data, int offset, int count, long timestamp)\n            throws IOException {\n        if (eventScheduler != null) {\n            if (!MidiConstants.isAllActiveSensing(data, offset, count)) {\n                eventScheduler.getReceiver().send(data, offset, count,\n                        timestamp);\n            }\n        }\n    }\n\n    // Custom Listener to send to correct methods\n    private class MyReceiver extends MidiReceiver {\n        @Override\n        public void onSend(byte[] msg, int offset, int count, long timestamp) throws IOException {\n            byte command    = (byte)(msg[0] &amp; MidiConstants.STATUS_COMMAND_MASK);\n            int channel     = (byte)(msg[0] &amp; MidiConstants.STATUS_CHANNEL_MASK);\n\n            switch (command) {\n                case MidiConstants.STATUS_NOTE_ON:\n                    activity.keyDown(i, msg[1], msg[2]);\n                    break;\n\n                case MidiConstants.STATUS_NOTE_OFF:\n                    activity.keyUp(channel, msg[1]);\n                    break;\n\n                case MidiConstants.STATUS_POLYPHONIC_AFTERTOUCH:\n                    activity.keyDown(channel, msg[1], msg[2]);\n                    break;\n\n                case MidiConstants.STATUS_PITCH_BEND:\n                    activity.pitchBendAction(channel, (msg[2] &lt;&lt; 7) + msg[1]);\n                    break;\n\n                case MidiConstants.STATUS_CONTROL_CHANGE:\n                    activity.ccAction(channel, msg[1], msg[2]);\n                    break;\n\n                case MidiConstants.STATUS_PROGRAM_CHANGE:\n                    mProgram = msg[1];\n                    break;\n\n                default:\n                    break;\n            }\n        }\n    }\n\n    class MyRunnable implements Runnable {\n        @Override\n        public void run() {\n            do {\n                try {\n                    activity.runOnUiThread(new Runnable() {\n                        @Override\n                        public void run() {\n                            try {\n                                processMidiEvents();\n                            }\n                            catch (Exception e) {\n                                Log.e(\"Java\", \"SynthEngine background thread exception.\", e);\n                            }\n                        }\n                    });\n                    Thread.sleep(100);\n                }\n                catch (InterruptedException e) {\n                    Log.e(\"Java\", \"Threading exception\", e);\n                }\n            }\n            while (go);\n        }\n    }\n\n    /**\n     * @throws IOException\n     *\n     */\n    private void processMidiEvents() throws IOException {\n        long now = System.nanoTime();\n        MidiEventScheduler.MidiEvent event = (MidiEventScheduler.MidiEvent) eventScheduler.getNextEvent(now);\n        while (event != null) {\n            midiFramer.send(event.data, 0, event.count, event.getTimestamp());\n            eventScheduler.addEventToPool(event);\n            event = (MidiEventScheduler.MidiEvent) eventScheduler.getNextEvent(now);\n        }\n    }\n\n    public void start() {\n        stop();\n        go = true;\n        mThread = new Thread(new MyRunnable());\n        mThread.setPriority(6);\n        eventScheduler = new MidiEventScheduler();\n        mThread.start();\n    }\n\n    public void stop() {\n        go = false;\n        if (mThread != null) {\n            try {\n                mThread.interrupt();\n                mThread.join(500);\n            }\n            catch (Exception e) {\n\n            }\n            mThread = null;\n            eventScheduler = null;\n        }\n    }\n\n}\n</code></pre>\n\n<p>Stack Trace Error (line 154 refers to the <code>Thread.sleep</code> part in my custom <code>Runnable</code> class):</p>\n\n<pre><code>Java: Threading exception\n      java.lang.InterruptedException\n          at java.lang.Thread.sleep(Native Method)\n          at java.lang.Thread.sleep(Thread.java:1031)\n          at java.lang.Thread.sleep(Thread.java:985)\n          at com.rfoo.midiapp.communication.MidiEngineInput$MyRunnable.run(MidiEngineInput.java:154)\n                                                                     at java.lang.Thread.run(Thread.java:818)\n</code></pre>\n\n<p>Thanks!</p>\n\n<h2><strong>EDIT: Thread start</strong></h2>\n\n<p>Midi Device Service subclass (thread will start whenever a device has connected or disconnected).</p>\n\n<pre><code>@TargetApi(Build.VERSION_CODES.M)\npublic class MidiSynthDeviceService extends MidiDeviceService {\n    private static final String TAG = \"MidiSynthDeviceService\";\n    private boolean midiStarted = false;\n\n    @Override\n    public void onCreate() {\n        super.onCreate();\n    }\n\n    @Override\n    public void onDestroy() {\n        AudioActivity.midiEngine.stop();\n        super.onDestroy();\n    }\n\n    @Override\n    // Declare the receivers associated with your input ports.\n    public MidiReceiver[] onGetInputPortReceivers() {\n        return new MidiReceiver[] { AudioActivity.midiEngine };\n    }\n\n    /**\n     * This will get called when clients connect or disconnect.\n     * You can use it to turn on your synth only when needed.\n     */\n    @Override\n    public void onDeviceStatusChanged(MidiDeviceStatus status) {\n\n        if (status.isInputPortOpen(0) &amp;&amp; !midiStarted) {\n            AudioActivity.midiEngine.start();\n            midiStarted = true;\n        } else if (!status.isInputPortOpen(0) &amp;&amp; midiStarted){\n            AudioActivity.midiEngine.stop();\n            midiStarted = false;\n        }\n    }\n}\n</code></pre>\n\n<p>Activity class:</p>\n\n<pre><code>public class AudioActivity extends AppCompatActivity {\n    private Thread thread;\n    public static MidiEngine midiEngine;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        // Layout inits\n        super.onCreate(savedInstanceState);\n        requestWindowFeature(Window.FEATURE_NO_TITLE);\n        getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN,WindowManager.LayoutParams.FLAG_FULLSCREEN);\n\n        // Setup MIDI:\n        if (!getPackageManager().hasSystemFeature(PackageManager.FEATURE_MIDI)) {\n            Toast.makeText(this, \"MIDI not supported!\", Toast.LENGTH_LONG).show();\n        }\n        else {\n            midiEngine = new MidiEngine(this);\n            setupMidi();\n        }\n\n        // Setup audio thread:\n        if (thread == null) {\n            thread = new Thread() {\n                public void run() {\n                    setPriority(Thread.MAX_PRIORITY);\n                    // Runs an Open SL audio thread (C++)\n                    // This generates a waveform. \n                    // AudioEngine is a wrapper class connecting C++ to Java\n                    AudioEngine.runProcess();\n                }\n            }\n        }\n    }\n\n    public void setupMidi() {\n        if (activity == null) activity = (AudioActivity) getContext();\n\n        mMidiManager = (MidiManager) activity.getSystemService(AudioActivity.MIDI_SERVICE);\n        if (mMidiManager == null) {\n            Toast.makeText(activity, \"MidiManager is null!\", Toast.LENGTH_LONG).show();\n            return;\n        }\n        // Get Device Info\n        MidiDeviceInfo deviceInfo = MidiTools.findDevice(mMidiManager, \"RFOO\", \"AudioApp\");\n\n        // MIDI Input\n        portIndex = 0;\n        inputPortSelector = new MidiOutputPortConnectionSelector(mMidiManager, activity, R.id\n                .inputListView, deviceInfo, portIndex);\n        inputPortSelector.setConnectedListener(new MyPortsConnectedListener());\n\n        midi_ch_input = 0;\n        midi_ch_output = 0;\n    }\n\n    // Bunch of UI code here....\n}\n</code></pre>\n"},{"tags":["java","jfreechart"],"comments":[{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1463285867,"post_id":37154575,"comment_id":61998340,"body_markdown":"More discussion [here](http://www.jfree.org/forum/viewtopic.php?f=3&amp;t=29588).","body":"More discussion <a href=\"http://www.jfree.org/forum/viewtopic.php?f=3&amp;t=29588\" rel=\"nofollow noreferrer\">here</a>."}],"answers":[{"tags":[],"owner":{"account_id":7951316,"reputation":68,"user_id":6002058,"display_name":"hilzj"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1462948981,"creation_date":1462948981,"answer_id":37154932,"question_id":37154575,"body_markdown":"You can use a BubbleChart to illustrate a dataset with 3 columns. \r\n\r\nThere are some android libs which contain some charts that look pretty well.\r\n\r\nHelloCharts for Android: https://github.com/lecho/hellocharts-android\r\n\r\nMPAndroidChart: https://github.com/PhilJay/MPAndroidChart\r\n\r\nHope this solve your problem.","title":"How to plot color map in java?","body":"<p>You can use a BubbleChart to illustrate a dataset with 3 columns. </p>\n\n<p>There are some android libs which contain some charts that look pretty well.</p>\n\n<p>HelloCharts for Android: <a href=\"https://github.com/lecho/hellocharts-android\" rel=\"nofollow\">https://github.com/lecho/hellocharts-android</a></p>\n\n<p>MPAndroidChart: <a href=\"https://github.com/PhilJay/MPAndroidChart\" rel=\"nofollow\">https://github.com/PhilJay/MPAndroidChart</a></p>\n\n<p>Hope this solve your problem.</p>\n"},{"comments":[{"owner":{"account_id":3310385,"reputation":382,"user_id":4057584,"accept_rate":9,"display_name":"Ranjeet"},"score":0,"creation_date":1462985368,"post_id":37166671,"comment_id":61872528,"body_markdown":"yes..tried this but output image is not smooth.  I also tried different render width and height.","body":"yes..tried this but output image is not smooth.  I also tried different render width and height."},{"owner":{"account_id":95999,"reputation":7037,"user_id":261156,"display_name":"Catalina Island"},"score":0,"creation_date":1463048713,"post_id":37166671,"comment_id":61901250,"body_markdown":"What resolution did you use? The example looks like 100 x 100 blocks,","body":"What resolution did you use? The example looks like 100 x 100 blocks,"}],"tags":[],"owner":{"account_id":95999,"reputation":7037,"user_id":261156,"display_name":"Catalina Island"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1462979256,"creation_date":1462979256,"answer_id":37166671,"question_id":37154575,"body_markdown":"An [`XYBlockRenderer`][1] looks like a good match. You can use [`Color.getHSBColor()`][2], like they show [here][3], to make the [`PaintScale`][4].\r\n\r\n[image][5]\r\n\r\n\r\n  [1]: http://www.jfree.org/jfreechart/api/javadoc/org/jfree/chart/renderer/xy/XYBlockRenderer.html\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/awt/Color.html#getHSBColor-float-float-float-\r\n  [3]: https://stackoverflow.com/a/9875534/261156\r\n  [4]: http://www.jfree.org/jfreechart/api/javadoc/org/jfree/chart/renderer/PaintScale.html\r\n  [5]: http://www.jfree.org/jfreechart/api/javadoc/images/XYBlockRendererSample.png","title":"How to plot color map in java?","body":"<p>An <a href=\"http://www.jfree.org/jfreechart/api/javadoc/org/jfree/chart/renderer/xy/XYBlockRenderer.html\" rel=\"nofollow noreferrer\"><code>XYBlockRenderer</code></a> looks like a good match. You can use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/awt/Color.html#getHSBColor-float-float-float-\" rel=\"nofollow noreferrer\"><code>Color.getHSBColor()</code></a>, like they show <a href=\"https://stackoverflow.com/a/9875534/261156\">here</a>, to make the <a href=\"http://www.jfree.org/jfreechart/api/javadoc/org/jfree/chart/renderer/PaintScale.html\" rel=\"nofollow noreferrer\"><code>PaintScale</code></a>.</p>\n\n<p><a href=\"http://www.jfree.org/jfreechart/api/javadoc/images/XYBlockRendererSample.png\" rel=\"nofollow noreferrer\">image</a></p>\n"},{"comments":[{"owner":{"account_id":3310385,"reputation":382,"user_id":4057584,"accept_rate":9,"display_name":"Ranjeet"},"score":0,"creation_date":1463323070,"post_id":37235165,"comment_id":62008117,"body_markdown":"Instead of griding, can we create dataset something like dataset.add(array)? [data to be plotted](https://docs.google.com/spreadsheets/d/1jG9UZboPcU0kKRGD2OTHA_iViz9h49y_NEyXDj10KJ4/edit?usp=sharing)","body":"Instead of griding, can we create dataset something like dataset.add(array)? <a href=\"https://docs.google.com/spreadsheets/d/1jG9UZboPcU0kKRGD2OTHA_iViz9h49y_NEyXDj10KJ4/edit?usp=sharing\" rel=\"nofollow noreferrer\">data to be plotted</a>"},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1548523721,"post_id":37235165,"comment_id":95574986,"body_markdown":"A related example using `XYLineAndShapeRenderer` with `XYZDataset` is shown [here](https://stackoverflow.com/a/54180207/230513).","body":"A related example using <code>XYLineAndShapeRenderer</code> with <code>XYZDataset</code> is shown <a href=\"https://stackoverflow.com/a/54180207/230513\">here</a>."},{"owner":{"account_id":1063493,"reputation":121,"user_id":6044165,"display_name":"ACB"},"score":0,"creation_date":1688513554,"post_id":37235165,"comment_id":135082804,"body_markdown":"@trashgod What is the significance of H1 and H2 here? I want to create a rainbow pallet where the color values (Z) will be dynamic. I tried this implementation, but it doesn&#39;t make sufficient colors.","body":"@trashgod What is the significance of H1 and H2 here? I want to create a rainbow pallet where the color values (Z) will be dynamic. I tried this implementation, but it doesn&#39;t make sufficient colors."},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1688576829,"post_id":37235165,"comment_id":135093325,"body_markdown":"I agree; simple, linear interpolation isn&#39;t very flexible; a suitable `Paint` implementation will likely be more adaptable to a particular use case.","body":"I agree; simple, linear interpolation isn&#39;t very flexible; a suitable <code>Paint</code> implementation will likely be more adaptable to a particular use case."}],"tags":[],"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"comment_count":4,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1686604805,"creation_date":1463292947,"answer_id":37235165,"question_id":37154575,"body_markdown":"Starting with this [example][1] and using this [idea][2], you can use a `SpectrumPaintScale` to get a palette of colors as shown below.\r\n\r\n[![image][3]][3]\r\n\r\n```\r\nimport java.awt.Color;\r\nimport java.awt.Dimension;\r\nimport java.awt.EventQueue;\r\nimport java.awt.Paint;\r\nimport javax.swing.JFrame;\r\nimport org.jfree.chart.ChartPanel;\r\nimport org.jfree.chart.JFreeChart;\r\nimport org.jfree.chart.axis.AxisLocation;\r\nimport org.jfree.chart.axis.NumberAxis;\r\nimport org.jfree.chart.labels.StandardXYToolTipGenerator;\r\nimport org.jfree.chart.plot.XYPlot;\r\nimport org.jfree.chart.renderer.PaintScale;\r\nimport org.jfree.chart.renderer.xy.XYBlockRenderer;\r\nimport org.jfree.chart.title.PaintScaleLegend;\r\nimport org.jfree.data.xy.DefaultXYZDataset;\r\nimport org.jfree.data.xy.XYDataset;\r\nimport org.jfree.data.xy.XYZDataset;\r\nimport org.jfree.chart.ui.RectangleEdge;\r\nimport org.jfree.chart.ui.RectangleInsets;\r\n\r\n/**\r\n * @see https://stackoverflow.com/a/37235165/230513\r\n */\r\npublic class XYZChartDemo {\r\n\r\n    private static final int N = 100;\r\n\r\n    public XYZChartDemo(String title) {\r\n        JFrame f = new JFrame(title);\r\n        f.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        ChartPanel chartPanel = new ChartPanel(createChart(createDataset())) {\r\n            @Override\r\n            public Dimension getPreferredSize() {\r\n                return new Dimension(640, 480);\r\n            }\r\n        };\r\n        chartPanel.setMouseZoomable(true, false);\r\n        f.add(chartPanel);\r\n        f.pack();\r\n        f.setLocationRelativeTo(null);\r\n        f.setVisible(true);\r\n    }\r\n\r\n    private static JFreeChart createChart(XYDataset dataset) {\r\n        NumberAxis xAxis = new NumberAxis(&quot;x Axis&quot;);\r\n        NumberAxis yAxis = new NumberAxis(&quot;y Axis&quot;);\r\n        XYPlot plot = new XYPlot(dataset, xAxis, yAxis, null);\r\n        XYBlockRenderer r = new XYBlockRenderer();\r\n        r.setDefaultToolTipGenerator(new StandardXYToolTipGenerator());\r\n        SpectrumPaintScale ps = new SpectrumPaintScale(0, N * N);\r\n        r.setPaintScale(ps);\r\n        plot.setRenderer(r);\r\n        JFreeChart chart = new JFreeChart(&quot;Title&quot;,\r\n            JFreeChart.DEFAULT_TITLE_FONT, plot, false);\r\n        NumberAxis scaleAxis = new NumberAxis(&quot;Scale&quot;);\r\n        scaleAxis.setAxisLinePaint(Color.white);\r\n        scaleAxis.setTickMarkPaint(Color.white);\r\n        PaintScaleLegend legend = new PaintScaleLegend(ps, scaleAxis);\r\n        legend.setSubdivisionCount(128);\r\n        legend.setAxisLocation(AxisLocation.TOP_OR_RIGHT);\r\n        legend.setPadding(new RectangleInsets(25, 10, 50, 10));\r\n        legend.setStripWidth(20);\r\n        legend.setPosition(RectangleEdge.RIGHT);\r\n        legend.setBackgroundPaint(Color.WHITE);\r\n        chart.addSubtitle(legend);\r\n        chart.setBackgroundPaint(Color.white);\r\n        return chart;\r\n    }\r\n\r\n    private static XYZDataset createDataset() {\r\n        DefaultXYZDataset dataset = new DefaultXYZDataset();\r\n        double[][] data = new double[3][N * N];\r\n        for (int i = 0; i &lt; N * N; i++) {\r\n            var x = i % N;\r\n            var y = i / N;\r\n            data[0][i] = x;\r\n            data[1][i] = y;\r\n            data[2][i] = x * y;\r\n        }\r\n        dataset.addSeries(&quot;Series&quot;, data);\r\n        return dataset;\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        EventQueue.invokeLater(() -&gt; {\r\n            XYZChartDemo demo = new XYZChartDemo(&quot;XYZ Demo&quot;);\r\n        });\r\n    }\r\n\r\n    private static class SpectrumPaintScale implements PaintScale {\r\n\r\n        private static final float H1 = 0f;\r\n        private static final float H2 = 1f;\r\n        private final double lowerBound;\r\n        private final double upperBound;\r\n\r\n        public SpectrumPaintScale(double lowerBound, double upperBound) {\r\n            this.lowerBound = lowerBound;\r\n            this.upperBound = upperBound;\r\n        }\r\n\r\n        @Override\r\n        public double getLowerBound() {\r\n            return lowerBound;\r\n        }\r\n\r\n        @Override\r\n        public double getUpperBound() {\r\n            return upperBound;\r\n        }\r\n\r\n        @Override\r\n        public Paint getPaint(double value) {\r\n            float scaledValue = (float) (value / (getUpperBound() - getLowerBound()));\r\n            float scaledH = H1 + scaledValue * (H2 - H1);\r\n            return Color.getHSBColor(scaledH, 1f, 1f);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n\r\n  [1]: http://www.jfree.org/forum/viewtopic.php?f=3&amp;t=29588\r\n  [2]: https://stackoverflow.com/a/37166671/230513\r\n  [3]: https://i.stack.imgur.com/fPUJC.png\r\n  [4]: http://i.stack.imgur.com/LOKKB.png","title":"How to plot color map in java?","body":"<p>Starting with this <a href=\"http://www.jfree.org/forum/viewtopic.php?f=3&amp;t=29588\" rel=\"nofollow noreferrer\">example</a> and using this <a href=\"https://stackoverflow.com/a/37166671/230513\">idea</a>, you can use a <code>SpectrumPaintScale</code> to get a palette of colors as shown below.</p>\n<p><a href=\"https://i.stack.imgur.com/fPUJC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fPUJC.png\" alt=\"image\" /></a></p>\n<pre><code>import java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.EventQueue;\nimport java.awt.Paint;\nimport javax.swing.JFrame;\nimport org.jfree.chart.ChartPanel;\nimport org.jfree.chart.JFreeChart;\nimport org.jfree.chart.axis.AxisLocation;\nimport org.jfree.chart.axis.NumberAxis;\nimport org.jfree.chart.labels.StandardXYToolTipGenerator;\nimport org.jfree.chart.plot.XYPlot;\nimport org.jfree.chart.renderer.PaintScale;\nimport org.jfree.chart.renderer.xy.XYBlockRenderer;\nimport org.jfree.chart.title.PaintScaleLegend;\nimport org.jfree.data.xy.DefaultXYZDataset;\nimport org.jfree.data.xy.XYDataset;\nimport org.jfree.data.xy.XYZDataset;\nimport org.jfree.chart.ui.RectangleEdge;\nimport org.jfree.chart.ui.RectangleInsets;\n\n/**\n * @see https://stackoverflow.com/a/37235165/230513\n */\npublic class XYZChartDemo {\n\n    private static final int N = 100;\n\n    public XYZChartDemo(String title) {\n        JFrame f = new JFrame(title);\n        f.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        ChartPanel chartPanel = new ChartPanel(createChart(createDataset())) {\n            @Override\n            public Dimension getPreferredSize() {\n                return new Dimension(640, 480);\n            }\n        };\n        chartPanel.setMouseZoomable(true, false);\n        f.add(chartPanel);\n        f.pack();\n        f.setLocationRelativeTo(null);\n        f.setVisible(true);\n    }\n\n    private static JFreeChart createChart(XYDataset dataset) {\n        NumberAxis xAxis = new NumberAxis(&quot;x Axis&quot;);\n        NumberAxis yAxis = new NumberAxis(&quot;y Axis&quot;);\n        XYPlot plot = new XYPlot(dataset, xAxis, yAxis, null);\n        XYBlockRenderer r = new XYBlockRenderer();\n        r.setDefaultToolTipGenerator(new StandardXYToolTipGenerator());\n        SpectrumPaintScale ps = new SpectrumPaintScale(0, N * N);\n        r.setPaintScale(ps);\n        plot.setRenderer(r);\n        JFreeChart chart = new JFreeChart(&quot;Title&quot;,\n            JFreeChart.DEFAULT_TITLE_FONT, plot, false);\n        NumberAxis scaleAxis = new NumberAxis(&quot;Scale&quot;);\n        scaleAxis.setAxisLinePaint(Color.white);\n        scaleAxis.setTickMarkPaint(Color.white);\n        PaintScaleLegend legend = new PaintScaleLegend(ps, scaleAxis);\n        legend.setSubdivisionCount(128);\n        legend.setAxisLocation(AxisLocation.TOP_OR_RIGHT);\n        legend.setPadding(new RectangleInsets(25, 10, 50, 10));\n        legend.setStripWidth(20);\n        legend.setPosition(RectangleEdge.RIGHT);\n        legend.setBackgroundPaint(Color.WHITE);\n        chart.addSubtitle(legend);\n        chart.setBackgroundPaint(Color.white);\n        return chart;\n    }\n\n    private static XYZDataset createDataset() {\n        DefaultXYZDataset dataset = new DefaultXYZDataset();\n        double[][] data = new double[3][N * N];\n        for (int i = 0; i &lt; N * N; i++) {\n            var x = i % N;\n            var y = i / N;\n            data[0][i] = x;\n            data[1][i] = y;\n            data[2][i] = x * y;\n        }\n        dataset.addSeries(&quot;Series&quot;, data);\n        return dataset;\n    }\n\n    public static void main(String[] args) {\n        EventQueue.invokeLater(() -&gt; {\n            XYZChartDemo demo = new XYZChartDemo(&quot;XYZ Demo&quot;);\n        });\n    }\n\n    private static class SpectrumPaintScale implements PaintScale {\n\n        private static final float H1 = 0f;\n        private static final float H2 = 1f;\n        private final double lowerBound;\n        private final double upperBound;\n\n        public SpectrumPaintScale(double lowerBound, double upperBound) {\n            this.lowerBound = lowerBound;\n            this.upperBound = upperBound;\n        }\n\n        @Override\n        public double getLowerBound() {\n            return lowerBound;\n        }\n\n        @Override\n        public double getUpperBound() {\n            return upperBound;\n        }\n\n        @Override\n        public Paint getPaint(double value) {\n            float scaledValue = (float) (value / (getUpperBound() - getLowerBound()));\n            float scaledH = H1 + scaledValue * (H2 - H1);\n            return Color.getHSBColor(scaledH, 1f, 1f);\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":3310385,"reputation":382,"user_id":4057584,"accept_rate":9,"display_name":"Ranjeet"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3766,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1686604805,"creation_date":1462947901,"question_id":37154575,"body_markdown":"I have a dataset with 3 column, x, y, and value at (x,y). I want to plot map similar to bellow map. How to plot this type of figure in jfreechart or any library available for this kind of plot? \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/qrflq.png","title":"How to plot color map in java?","body":"<p>I have a dataset with 3 column, x, y, and value at (x,y). I want to plot map similar to bellow map. How to plot this type of figure in jfreechart or any library available for this kind of plot? </p>\n\n<p><a href=\"https://i.stack.imgur.com/qrflq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qrflq.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":["java","android","android-12"],"comments":[{"owner":{"account_id":111736,"reputation":11811,"user_id":295004,"display_name":"Morrison Chang"},"score":1,"creation_date":1686522802,"post_id":76402457,"comment_id":134806031,"body_markdown":"Related video: [Everything about storage on Android](https://youtu.be/jcO6p5TlcGs) Realize that older versions of Android allowed for unannounced files to persist after uninstall which would result in clutter and tracking cookies, see old Google IO video on [Whatâs new in shared storage (Google I/O&#39;19)](https://youtu.be/3EtBw5s9iRY) Do realize that unless the user deletes cache/app storage or uninstalls, user app data (local storage) can persist during app upgrade.","body":"Related video: <a href=\"https://youtu.be/jcO6p5TlcGs\" rel=\"nofollow noreferrer\">Everything about storage on Android</a> Realize that older versions of Android allowed for unannounced files to persist after uninstall which would result in clutter and tracking cookies, see old Google IO video on <a href=\"https://youtu.be/3EtBw5s9iRY\" rel=\"nofollow noreferrer\">Whatâs new in shared storage (Google I/O&#39;19)</a> Do realize that unless the user deletes cache/app storage or uninstalls, user app data (local storage) can persist during app upgrade."},{"owner":{"account_id":329709,"reputation":3234,"user_id":653379,"accept_rate":90,"display_name":"xralf"},"score":0,"creation_date":1686585726,"post_id":76402457,"comment_id":134815667,"body_markdown":"Thank you. I will probably let the data delete after uninstall. I&#39;m glad to hear that the data will persist during app upgrade.","body":"Thank you. I will probably let the data delete after uninstall. I&#39;m glad to hear that the data will persist during app upgrade."}],"answers":[{"comments":[{"owner":{"account_id":329709,"reputation":3234,"user_id":653379,"accept_rate":90,"display_name":"xralf"},"score":0,"creation_date":1685917170,"post_id":76402601,"comment_id":134724014,"body_markdown":"And where should I save the files, it contains text files and images. E.g. the main directory would be `myapp` and it would contains subdirectories `a`, `b`, `c` etc. and in `a` will be files f1.txt, img1.jpg ... fn.txt, imgn.jpg.","body":"And where should I save the files, it contains text files and images. E.g. the main directory would be <code>myapp</code> and it would contains subdirectories <code>a</code>, <code>b</code>, <code>c</code> etc. and in <code>a</code> will be files f1.txt, img1.jpg ... fn.txt, imgn.jpg."},{"owner":{"account_id":329709,"reputation":3234,"user_id":653379,"accept_rate":90,"display_name":"xralf"},"score":0,"creation_date":1685917405,"post_id":76402601,"comment_id":134724038,"body_markdown":"But `getExternalStoragePublicDirectory` is deprecated. I won&#39;t work on Android 12.","body":"But <code>getExternalStoragePublicDirectory</code> is deprecated. I won&#39;t work on Android 12."},{"owner":{"account_id":8853763,"reputation":514,"user_id":6612138,"display_name":"Alexander Dadukin"},"score":0,"creation_date":1685917603,"post_id":76402601,"comment_id":134724056,"body_markdown":"I see, the method is indeed deprecated. Let me check other methods","body":"I see, the method is indeed deprecated. Let me check other methods"},{"owner":{"account_id":8853763,"reputation":514,"user_id":6612138,"display_name":"Alexander Dadukin"},"score":0,"creation_date":1685918454,"post_id":76402601,"comment_id":134724118,"body_markdown":"@xralf I believe you can try to use `Storage Access Framework` instead","body":"@xralf I believe you can try to use <code>Storage Access Framework</code> instead"},{"owner":{"account_id":329709,"reputation":3234,"user_id":653379,"accept_rate":90,"display_name":"xralf"},"score":0,"creation_date":1685918863,"post_id":76402601,"comment_id":134724156,"body_markdown":"Thank you, but I&#39;m using text files and images and it is in subdirectories as well. I&#39;m using Java as well.","body":"Thank you, but I&#39;m using text files and images and it is in subdirectories as well. I&#39;m using Java as well."},{"owner":{"account_id":8853763,"reputation":514,"user_id":6612138,"display_name":"Alexander Dadukin"},"score":0,"creation_date":1685919107,"post_id":76402601,"comment_id":134724176,"body_markdown":"I think you can save images under the same folder using the same api as well: you need to change file name and content to application/image.","body":"I think you can save images under the same folder using the same api as well: you need to change file name and content to application/image."},{"owner":{"account_id":329709,"reputation":3234,"user_id":653379,"accept_rate":90,"display_name":"xralf"},"score":0,"creation_date":1685919368,"post_id":76402601,"comment_id":134724194,"body_markdown":"Could you please send me a link where is it described more thoroughly and in Java? I can&#39;t find anything on it. I will do these actions - create directory, create file, read file, append to file, delete file.","body":"Could you please send me a link where is it described more thoroughly and in Java? I can&#39;t find anything on it. I will do these actions - create directory, create file, read file, append to file, delete file."},{"owner":{"account_id":8853763,"reputation":514,"user_id":6612138,"display_name":"Alexander Dadukin"},"score":0,"creation_date":1685923456,"post_id":76402601,"comment_id":134724501,"body_markdown":"Yeah, will check later this week and will try to provide something to help you. Sorry if the answer is confusing","body":"Yeah, will check later this week and will try to provide something to help you. Sorry if the answer is confusing"},{"owner":{"account_id":8853763,"reputation":514,"user_id":6612138,"display_name":"Alexander Dadukin"},"score":0,"creation_date":1685950634,"post_id":76402601,"comment_id":134726934,"body_markdown":"Hey @xralf, this is POC: https://gist.github.com/st235/488d8d6855dc43704f76d11094f91708","body":"Hey @xralf, this is POC: <a href=\"https://gist.github.com/st235/488d8d6855dc43704f76d11094f91708\" rel=\"nofollow noreferrer\">gist.github.com/st235/488d8d6855dc43704f76d11094f91708</a>"},{"owner":{"account_id":329709,"reputation":3234,"user_id":653379,"accept_rate":90,"display_name":"xralf"},"score":0,"creation_date":1685971785,"post_id":76402601,"comment_id":134731274,"body_markdown":"I tried the code, but I would like to create a file without this launcher. It should be e.g. in directory `my_app_main_dir/a`. Then I would like to read file from directory `my_app_main_dir/a` and append a text to it. I&#39;d like to have the possibility to delete the file as well. You can look [here](https://github.com/lucidl/tedegraph-mobile/blob/main/main.py) (line 244, function add_bookmark()) to my Android Python project. This is the most complex operations I will need, nothing more. I&#39;m trying to rewrite my project to Java for latest Android devices.","body":"I tried the code, but I would like to create a file without this launcher. It should be e.g. in directory <code>my_app_main_dir&#47;a</code>. Then I would like to read file from directory <code>my_app_main_dir&#47;a</code> and append a text to it. I&#39;d like to have the possibility to delete the file as well. You can look <a href=\"https://github.com/lucidl/tedegraph-mobile/blob/main/main.py\" rel=\"nofollow noreferrer\">here</a> (line 244, function add_bookmark()) to my Android Python project. This is the most complex operations I will need, nothing more. I&#39;m trying to rewrite my project to Java for latest Android devices."}],"tags":[],"owner":{"account_id":8853763,"reputation":514,"user_id":6612138,"display_name":"Alexander Dadukin"},"comment_count":10,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1685950822,"creation_date":1685916545,"answer_id":76402601,"question_id":76402457,"body_markdown":"You&#39;re totally right that [`Context#getExternalFilesDir`](https://developer.android.com/reference/android/content/Context#getExternalFilesDir(java.lang.String)) returns app that will be **uninstalled** with your app.\r\n\r\nFor **API 29 and above**:\r\n\r\n[Documentation](https://developer.android.com/training/data-storage) says that for `Documents` we should use `Storage Access Framework`.\r\n\r\nYou can create a new file using [`Intent#ACTION_CREATE_DOCUMENT`](https://developer.android.com/training/data-storage/shared/documents-files#create-file)\r\n\r\nSimilar to this:\r\n\r\n```\r\n// Request code for creating a PDF document.\r\nconst val CREATE_FILE = 1\r\n\r\nprivate fun createFile(pickerInitialUri: Uri) {\r\n    val intent = Intent(Intent.ACTION_CREATE_DOCUMENT).apply {\r\n        addCategory(Intent.CATEGORY_OPENABLE)\r\n        type = &quot;application/text&quot;\r\n        putExtra(Intent.EXTRA_TITLE, &quot;file.txt&quot;)\r\n    }\r\n    startActivityForResult(intent, CREATE_FILE)\r\n}\r\n```\r\n\r\nYou will see something similar to\r\n\r\n[![enter image description here][1]][1]\r\n\r\nAfter executing the command and receiving the result you can access the file using `uri` from `Intent#getData`. With a `uri` you can use `contentResolver.openOutputStream(destination)` to update the file&#39;s content.\r\n\r\n**Update 1:** this is a similar code in **Java**\r\n\r\n```java\r\n    private void createFile() {\r\n        Intent intent = new Intent(Intent.ACTION_CREATE_DOCUMENT);\r\n        intent.addCategory(Intent.CATEGORY_OPENABLE);\r\n        intent.setType(&quot;application/text&quot;);\r\n        intent.putExtra(Intent.EXTRA_TITLE, &quot;file.txt&quot;);\r\n\r\n        launcher.launch(intent);\r\n    }\r\n```\r\n\r\nAnd writing to the file:\r\n\r\n```java\r\nOutputStream stream = getContentResolver().openOutputStream(uri);\r\nPrintWriter writer = new PrintWriter(stream);\r\n\r\nwriter.println(&quot;Hello World&quot;);\r\nwriter.close();\r\n```\r\n\r\n\r\nFor **API below 29**:\r\n\r\nI see that documentation offers to use [`Environment#getExternalStoragePublicDirectory`](https://developer.android.com/reference/android/os/Environment#getExternalStoragePublicDirectory(java.lang.String)), especially, if files should be shared.\r\n\r\nYou can also access the root of the device using [`Environment#getExternalStorageDirectory`](https://developer.android.com/reference/android/os/Environment#getExternalStorageDirectory()). However, the usage is discouraged in favour of `getExternalStoragePublicDirectory` as files saved in root can pollute user&#39;s space.\r\n\r\n&gt; Applications should not directly use this top-level directory, in order to avoid polluting the user&#39;s root namespace. Any files that are private to the application should be placed in a directory returned by Context.getExternalFilesDir, which the system will take care of deleting if the application is uninstalled. Other shared files should be placed in one of the directories returned by getExternalStoragePublicDirectory(String).\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/k2ZMt.png","title":"Read/Write to external storage and persist after uninstallation","body":"<p>You're totally right that <a href=\"https://developer.android.com/reference/android/content/Context#getExternalFilesDir(java.lang.String)\" rel=\"nofollow noreferrer\"><code>Context#getExternalFilesDir</code></a> returns app that will be <strong>uninstalled</strong> with your app.</p>\n<p>For <strong>API 29 and above</strong>:</p>\n<p><a href=\"https://developer.android.com/training/data-storage\" rel=\"nofollow noreferrer\">Documentation</a> says that for <code>Documents</code> we should use <code>Storage Access Framework</code>.</p>\n<p>You can create a new file using <a href=\"https://developer.android.com/training/data-storage/shared/documents-files#create-file\" rel=\"nofollow noreferrer\"><code>Intent#ACTION_CREATE_DOCUMENT</code></a></p>\n<p>Similar to this:</p>\n<pre><code>// Request code for creating a PDF document.\nconst val CREATE_FILE = 1\n\nprivate fun createFile(pickerInitialUri: Uri) {\n    val intent = Intent(Intent.ACTION_CREATE_DOCUMENT).apply {\n        addCategory(Intent.CATEGORY_OPENABLE)\n        type = &quot;application/text&quot;\n        putExtra(Intent.EXTRA_TITLE, &quot;file.txt&quot;)\n    }\n    startActivityForResult(intent, CREATE_FILE)\n}\n</code></pre>\n<p>You will see something similar to</p>\n<p><a href=\"https://i.stack.imgur.com/k2ZMt.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/k2ZMt.png\" alt=\"enter image description here\" /></a></p>\n<p>After executing the command and receiving the result you can access the file using <code>uri</code> from <code>Intent#getData</code>. With a <code>uri</code> you can use <code>contentResolver.openOutputStream(destination)</code> to update the file's content.</p>\n<p><strong>Update 1:</strong> this is a similar code in <strong>Java</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>    private void createFile() {\n        Intent intent = new Intent(Intent.ACTION_CREATE_DOCUMENT);\n        intent.addCategory(Intent.CATEGORY_OPENABLE);\n        intent.setType(&quot;application/text&quot;);\n        intent.putExtra(Intent.EXTRA_TITLE, &quot;file.txt&quot;);\n\n        launcher.launch(intent);\n    }\n</code></pre>\n<p>And writing to the file:</p>\n<pre class=\"lang-java prettyprint-override\"><code>OutputStream stream = getContentResolver().openOutputStream(uri);\nPrintWriter writer = new PrintWriter(stream);\n\nwriter.println(&quot;Hello World&quot;);\nwriter.close();\n</code></pre>\n<p>For <strong>API below 29</strong>:</p>\n<p>I see that documentation offers to use <a href=\"https://developer.android.com/reference/android/os/Environment#getExternalStoragePublicDirectory(java.lang.String)\" rel=\"nofollow noreferrer\"><code>Environment#getExternalStoragePublicDirectory</code></a>, especially, if files should be shared.</p>\n<p>You can also access the root of the device using <a href=\"https://developer.android.com/reference/android/os/Environment#getExternalStorageDirectory()\" rel=\"nofollow noreferrer\"><code>Environment#getExternalStorageDirectory</code></a>. However, the usage is discouraged in favour of <code>getExternalStoragePublicDirectory</code> as files saved in root can pollute user's space.</p>\n<blockquote>\n<p>Applications should not directly use this top-level directory, in order to avoid polluting the user's root namespace. Any files that are private to the application should be placed in a directory returned by Context.getExternalFilesDir, which the system will take care of deleting if the application is uninstalled. Other shared files should be placed in one of the directories returned by getExternalStoragePublicDirectory(String).</p>\n</blockquote>\n"},{"comments":[{"owner":{"account_id":329709,"reputation":3234,"user_id":653379,"accept_rate":90,"display_name":"xralf"},"score":0,"creation_date":1685943225,"post_id":76403573,"comment_id":134725896,"body_markdown":"&gt;&gt;  &quot;You did not tell who and how those files will be used later.&quot; I don&#39;t want the user to loose the data after uninstall or update to a new version. It should be something, that he/she can delete manually later.","body":"&gt;&gt;  &quot;You did not tell who and how those files will be used later.&quot; I don&#39;t want the user to loose the data after uninstall or update to a new version. It should be something, that he/she can delete manually later."}],"tags":[],"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1685942871,"creation_date":1685941017,"answer_id":76403573,"question_id":76402457,"body_markdown":"The only place where you should create the subdirectory for your files is in public Download or Documents directory.\r\n\r\nYou will use getExternalPublicDirectory() to get the path. Use it. Deprecated or not it works on all Android versions.\r\n\r\nOther public directories are not possible as they will not take files with different extensions.\r\n\r\nThe files will persist. You did not tell who and how those files will be used later.\r\n\r\nIf you reinstall your app use SAF to let the user choose your subdir. ","title":"Read/Write to external storage and persist after uninstallation","body":"<p>The only place where you should create the subdirectory for your files is in public Download or Documents directory.</p>\n<p>You will use getExternalPublicDirectory() to get the path. Use it. Deprecated or not it works on all Android versions.</p>\n<p>Other public directories are not possible as they will not take files with different extensions.</p>\n<p>The files will persist. You did not tell who and how those files will be used later.</p>\n<p>If you reinstall your app use SAF to let the user choose your subdir.</p>\n"},{"tags":[],"owner":{"account_id":15010741,"reputation":41,"user_id":10835305,"display_name":"rex50"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686435656,"creation_date":1686435656,"answer_id":76448360,"question_id":76402457,"body_markdown":"On Android 12, to manage storage **SAF** is the recommended way. \r\n\r\nBut if you don&#39;t want to use then the only way is requesting permission `MANAGE_EXTERNAL_STORAGE` which **allows full storage access**. For more details check out this [link][1].\r\n\r\nNote: `MANAGE_EXTERNAL_STORAGE` is a sensitive permission so check out this [Google play notice][2] before using it.\r\n\r\n  [1]: https://developer.android.com/training/data-storage/manage-all-files#all-files-access\r\n  [2]: https://developer.android.com/training/data-storage/manage-all-files#all-files-access-google-play","title":"Read/Write to external storage and persist after uninstallation","body":"<p>On Android 12, to manage storage <strong>SAF</strong> is the recommended way.</p>\n<p>But if you don't want to use then the only way is requesting permission <code>MANAGE_EXTERNAL_STORAGE</code> which <strong>allows full storage access</strong>. For more details check out this <a href=\"https://developer.android.com/training/data-storage/manage-all-files#all-files-access\" rel=\"nofollow noreferrer\">link</a>.</p>\n<p>Note: <code>MANAGE_EXTERNAL_STORAGE</code> is a sensitive permission so check out this <a href=\"https://developer.android.com/training/data-storage/manage-all-files#all-files-access-google-play\" rel=\"nofollow noreferrer\">Google play notice</a> before using it.</p>\n"},{"tags":[],"owner":{"account_id":8265021,"reputation":1010,"user_id":6214899,"display_name":"Cuong Nguyen"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686559714,"creation_date":1686559714,"answer_id":76454957,"question_id":76402457,"body_markdown":"- You can save the file to path Environment.getExternalStorageDirectory() + &quot;/your_folder&quot;, However user can manual delete file.\r\n[Refer][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/63842070/accessing-external-storage-in-android-api-29/63842348#63842348","title":"Read/Write to external storage and persist after uninstallation","body":"<ul>\n<li>You can save the file to path Environment.getExternalStorageDirectory() + &quot;/your_folder&quot;, However user can manual delete file.\n<a href=\"https://stackoverflow.com/questions/63842070/accessing-external-storage-in-android-api-29/63842348#63842348\">Refer</a></li>\n</ul>\n"},{"comments":[{"owner":{"account_id":5919781,"reputation":29352,"user_id":4657412,"display_name":"DavidW"},"score":1,"creation_date":1686636703,"post_id":76460397,"comment_id":134822162,"body_markdown":"This looks like ChatGPT","body":"This looks like ChatGPT"}],"tags":[],"owner":{"account_id":5835994,"reputation":61,"user_id":4599044,"display_name":"Amr Shekh Zen"},"comment_count":1,"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1686604675,"creation_date":1686604675,"answer_id":76460397,"question_id":76402457,"body_markdown":"In Android, files saved to the external storage directory provided by context.getExternalFilesDir() are considered part of the application&#39;s private external storage. By default, these files are deleted when the application is uninstalled. However, if you want the files to persist even after uninstallation, you can save them to a different location on the external storage.\r\n\r\nHere&#39;s an updated version of your code that saves files to a custom directory on the external storage\r\n\r\n```\r\nimport android.content.Context;\r\nimport android.os.Environment;\r\n\r\nimport java.io.File;\r\nimport java.io.FileOutputStream;\r\nimport java.io.IOException;\r\n\r\npublic class FileUtil {\r\n\r\n    public static void writeFileToExternalStorage(Context context, String directoryName, String fileName, String content) {\r\n        File directory = new File(Environment.getExternalStorageDirectory(), directoryName);\r\n        if (!directory.exists()) {\r\n            directory.mkdirs(); // Create the directory if it doesn&#39;t exist\r\n        }\r\n\r\n        File file = new File(directory, fileName);\r\n\r\n        try {\r\n            FileOutputStream outputStream = new FileOutputStream(file);\r\n            outputStream.write(content.getBytes());\r\n            outputStream.close();\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nUsage:\r\n\r\n```\r\nString directoryName = &quot;my_files_directory&quot;;\r\nString fileName = &quot;my_file.txt&quot;;\r\nString content = &quot;Hello&quot;;\r\n\r\nFileUtil.writeFileToExternalStorage(getApplicationContext(), directoryName, fileName, content);\r\n\r\n```\r\n\r\nIn this code, the Environment.getExternalStorageDirectory() method provides the root directory of the external storage. By creating a custom directory within this root directory, you can save your files there. This custom directory will persist even after the application is uninstalled, allowing the files to remain intact.\r\n\r\nPlease note that starting from Android 10 (API level 29), there are restrictions on accessing external storage, and you&#39;ll need to request the necessary permissions from the user. Additionally, consider handling the storage access permission gracefully in case it is revoked by the user in the future.\r\n\r\nRegarding the video you mentioned, it seems to be referring to the Scoped Storage changes introduced in Android 10. Scoped Storage imposes certain restrictions on accessing files outside the application&#39;s private directories. However, the approach described above should work for Android 12 as well, as it saves the files within the application&#39;s private external storage, which is not subject to Scoped Storage restrictions.\r\n\r\nI hope I have been of assistance to you.","title":"Read/Write to external storage and persist after uninstallation","body":"<p>In Android, files saved to the external storage directory provided by context.getExternalFilesDir() are considered part of the application's private external storage. By default, these files are deleted when the application is uninstalled. However, if you want the files to persist even after uninstallation, you can save them to a different location on the external storage.</p>\n<p>Here's an updated version of your code that saves files to a custom directory on the external storage</p>\n<pre><code>import android.content.Context;\nimport android.os.Environment;\n\nimport java.io.File;\nimport java.io.FileOutputStream;\nimport java.io.IOException;\n\npublic class FileUtil {\n\n    public static void writeFileToExternalStorage(Context context, String directoryName, String fileName, String content) {\n        File directory = new File(Environment.getExternalStorageDirectory(), directoryName);\n        if (!directory.exists()) {\n            directory.mkdirs(); // Create the directory if it doesn't exist\n        }\n\n        File file = new File(directory, fileName);\n\n        try {\n            FileOutputStream outputStream = new FileOutputStream(file);\n            outputStream.write(content.getBytes());\n            outputStream.close();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>Usage:</p>\n<pre><code>String directoryName = &quot;my_files_directory&quot;;\nString fileName = &quot;my_file.txt&quot;;\nString content = &quot;Hello&quot;;\n\nFileUtil.writeFileToExternalStorage(getApplicationContext(), directoryName, fileName, content);\n\n</code></pre>\n<p>In this code, the Environment.getExternalStorageDirectory() method provides the root directory of the external storage. By creating a custom directory within this root directory, you can save your files there. This custom directory will persist even after the application is uninstalled, allowing the files to remain intact.</p>\n<p>Please note that starting from Android 10 (API level 29), there are restrictions on accessing external storage, and you'll need to request the necessary permissions from the user. Additionally, consider handling the storage access permission gracefully in case it is revoked by the user in the future.</p>\n<p>Regarding the video you mentioned, it seems to be referring to the Scoped Storage changes introduced in Android 10. Scoped Storage imposes certain restrictions on accessing files outside the application's private directories. However, the approach described above should work for Android 12 as well, as it saves the files within the application's private external storage, which is not subject to Scoped Storage restrictions.</p>\n<p>I hope I have been of assistance to you.</p>\n"}],"owner":{"account_id":329709,"reputation":3234,"user_id":653379,"accept_rate":90,"display_name":"xralf"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":302,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":5,"score":1,"last_activity_date":1686604675,"creation_date":1685913574,"question_id":76402457,"body_markdown":"I need to create files and read/write to external storage and the files should persist after uninstallation of the application. It should work on Android 12.\r\n\r\n    import android.content.Context;\r\n    \r\n    import java.io.File;\r\n    import java.io.FileOutputStream;\r\n    import java.io.IOException;\r\n    \r\n    public class FileUtil {\r\n    \r\n        public static void writeFileToExternalStorage(Context context, String fileName, String content) {\r\n            File file = new File(context.getExternalFilesDir(null), fileName);\r\n    \r\n            try {\r\n                FileOutputStream outputStream = new FileOutputStream(file);\r\n                outputStream.write(content.getBytes());\r\n                outputStream.close();\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    String fileName = &quot;my_file.txt&quot;;\r\n    String content = &quot;Hello&quot;;\r\n    \r\n    FileUtil.writeFileToExternalStorage(getApplicationContext(), fileName, content);\r\n\r\nFile `my_file.txt` will be deleted after uninstallation of the app. I need it to persist.\r\nI will be writing text files and images related to it (e.g. one subdirectory of the app directory would contain files f1.txt, img1.jpg, f2.txt, img2.jpg ... fn.txt, imgn.jpg).\r\nI don&#39;t want to use database or shared preferences for it.\r\nHow can I do it?\r\n\r\nIn [this video](https://youtu.be/Fr_XW94jPIQ?t=360) there is said, that everytime the app reads/writes to a file, the user has to go through dialog, but this is what I don&#39;t want. It&#39;s very uncomfortable for the user.\r\n","title":"Read/Write to external storage and persist after uninstallation","body":"<p>I need to create files and read/write to external storage and the files should persist after uninstallation of the application. It should work on Android 12.</p>\n<pre><code>import android.content.Context;\n\nimport java.io.File;\nimport java.io.FileOutputStream;\nimport java.io.IOException;\n\npublic class FileUtil {\n\n    public static void writeFileToExternalStorage(Context context, String fileName, String content) {\n        File file = new File(context.getExternalFilesDir(null), fileName);\n\n        try {\n            FileOutputStream outputStream = new FileOutputStream(file);\n            outputStream.write(content.getBytes());\n            outputStream.close();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n}\n\n\nString fileName = &quot;my_file.txt&quot;;\nString content = &quot;Hello&quot;;\n\nFileUtil.writeFileToExternalStorage(getApplicationContext(), fileName, content);\n</code></pre>\n<p>File <code>my_file.txt</code> will be deleted after uninstallation of the app. I need it to persist.\nI will be writing text files and images related to it (e.g. one subdirectory of the app directory would contain files f1.txt, img1.jpg, f2.txt, img2.jpg ... fn.txt, imgn.jpg).\nI don't want to use database or shared preferences for it.\nHow can I do it?</p>\n<p>In <a href=\"https://youtu.be/Fr_XW94jPIQ?t=360\" rel=\"nofollow noreferrer\">this video</a> there is said, that everytime the app reads/writes to a file, the user has to go through dialog, but this is what I don't want. It's very uncomfortable for the user.</p>\n"},{"tags":["java","hibernate"],"answers":[{"comments":[{"owner":{"account_id":321035,"reputation":12292,"user_id":639616,"accept_rate":67,"display_name":"wannik"},"score":0,"creation_date":1320753104,"post_id":8049227,"comment_id":9858674,"body_markdown":"Thank you very much, @gkamal. I look at the code in [Open Session in View](http://community.jboss.org/wiki/OpenSessionInView) document. (Your link points to that documents.)  The author suggests the use of filter. In his filter code, he doesn&#39;t call `openSession()` or `close()`. He only calls `getCurrentSession()`. I guess he sets `current_session_context` to `thread`. Now I think I understand `getCurrentSession()`. However, I don&#39;t know when should I use `openSession()`.","body":"Thank you very much, @gkamal. I look at the code in <a href=\"http://community.jboss.org/wiki/OpenSessionInView\" rel=\"nofollow noreferrer\">Open Session in View</a> document. (Your link points to that documents.)  The author suggests the use of filter. In his filter code, he doesn&#39;t call <code>openSession()</code> or <code>close()</code>. He only calls <code>getCurrentSession()</code>. I guess he sets <code>current_session_context</code> to <code>thread</code>. Now I think I understand <code>getCurrentSession()</code>. However, I don&#39;t know when should I use <code>openSession()</code>."},{"owner":{"account_id":341781,"reputation":20847,"user_id":672586,"display_name":"gkamal"},"score":4,"creation_date":1320754346,"post_id":8049227,"comment_id":9858970,"body_markdown":"You will use OpenSession if you don&#39;t want the session to be bound to any context. There are some situations when you would need a different session - other than one bound to the context (Hibernate Interceptors have a limitation that you can&#39;t use the original session) - in those cases you would use OpenSession instead of currentSession.  OpenSession creates a new session which you have to close explicitly.For e.g., in a DAO method you will call OpenSession - use the session and close it.","body":"You will use OpenSession if you don&#39;t want the session to be bound to any context. There are some situations when you would need a different session - other than one bound to the context (Hibernate Interceptors have a limitation that you can&#39;t use the original session) - in those cases you would use OpenSession instead of currentSession.  OpenSession creates a new session which you have to close explicitly.For e.g., in a DAO method you will call OpenSession - use the session and close it."},{"owner":{"account_id":910640,"reputation":9353,"user_id":944593,"accept_rate":94,"display_name":"shareef"},"score":0,"creation_date":1368480286,"post_id":8049227,"comment_id":23740281,"body_markdown":"am using getCurrentSession(); because i initialized it in listener not filter is this ok from your view; am using mvc2 jsp servlet","body":"am using getCurrentSession(); because i initialized it in listener not filter is this ok from your view; am using mvc2 jsp servlet"},{"owner":{"account_id":3841568,"reputation":4593,"user_id":3184475,"accept_rate":80,"display_name":"Erran Morad"},"score":0,"creation_date":1398718861,"post_id":8049227,"comment_id":35762169,"body_markdown":"@gkamal - I have a question related to `Sessions`. Can you please help me with it at - https://stackoverflow.com/questions/23351083/understanding-sessionfactory-and-hibernate-sessions . Thank you and chenqui.","body":"@gkamal - I have a question related to <code>Sessions</code>. Can you please help me with it at - <a href=\"https://stackoverflow.com/questions/23351083/understanding-sessionfactory-and-hibernate-sessions\" title=\"understanding sessionfactory and hibernate sessions\">stackoverflow.com/questions/23351083/&hellip;</a> . Thank you and chenqui."},{"owner":{"account_id":3970425,"reputation":4907,"user_id":3275167,"accept_rate":82,"display_name":"coderz"},"score":0,"creation_date":1467040993,"post_id":8049227,"comment_id":63553956,"body_markdown":"IMO, it is good practice to let each thread holds its own Session, and only one Session, right?","body":"IMO, it is good practice to let each thread holds its own Session, and only one Session, right?"},{"owner":{"account_id":1677099,"reputation":10905,"user_id":1542363,"accept_rate":92,"display_name":"Sam YC"},"score":0,"creation_date":1471962487,"post_id":8049227,"comment_id":65554665,"body_markdown":"@gkamal `SessionFactory.openSession()` if I use this in `Transaction` context, do I need to manage the connection myself? When I use this, will the `auto-commit` set to false? so when I do `UserTransaction.commit`, Transaction Manager will help me commit or rollback?","body":"@gkamal <code>SessionFactory.openSession()</code> if I use this in <code>Transaction</code> context, do I need to manage the connection myself? When I use this, will the <code>auto-commit</code> set to false? so when I do <code>UserTransaction.commit</code>, Transaction Manager will help me commit or rollback?"}],"tags":[],"owner":{"account_id":341781,"reputation":20847,"user_id":672586,"display_name":"gkamal"},"comment_count":6,"down_vote_count":0,"up_vote_count":154,"is_accepted":true,"score":154,"last_activity_date":1434549297,"creation_date":1320749375,"answer_id":8049227,"question_id":8046662,"body_markdown":"As explained in this forum [post][1], 1 and 2 are related. If you set `hibernate.current_session_context_class` to thread and then implement something like a servlet filter that opens the session - then you can access that session anywhere else by using the `SessionFactory.getCurrentSession()`.\r\n\r\n`SessionFactory.openSession()` always opens a new session that you have to close once you are done with the operations. `SessionFactory.getCurrentSession()` returns a session bound to a context - you don&#39;t need to close this.\r\n\r\nIf you are using Spring or EJBs to manage transactions you can configure them to open / close sessions along with the transactions.\r\n\r\nYou should never use `one session per web app` - session is not a thread safe object - cannot be shared by multiple threads. You should always use &quot;one session per request&quot; or &quot;one session per transaction&quot;\r\n\r\n  [1]: https://forum.hibernate.org/viewtopic.php?p=2384979&amp;sid=8367751b54bf160003b867f858393398#p2384979","title":"Hibernate openSession() vs getCurrentSession()","body":"<p>As explained in this forum <a href=\"https://forum.hibernate.org/viewtopic.php?p=2384979&amp;sid=8367751b54bf160003b867f858393398#p2384979\">post</a>, 1 and 2 are related. If you set <code>hibernate.current_session_context_class</code> to thread and then implement something like a servlet filter that opens the session - then you can access that session anywhere else by using the <code>SessionFactory.getCurrentSession()</code>.</p>\n\n<p><code>SessionFactory.openSession()</code> always opens a new session that you have to close once you are done with the operations. <code>SessionFactory.getCurrentSession()</code> returns a session bound to a context - you don't need to close this.</p>\n\n<p>If you are using Spring or EJBs to manage transactions you can configure them to open / close sessions along with the transactions.</p>\n\n<p>You should never use <code>one session per web app</code> - session is not a thread safe object - cannot be shared by multiple threads. You should always use \"one session per request\" or \"one session per transaction\"</p>\n"},{"tags":[],"owner":{"account_id":4224156,"reputation":67,"user_id":3458089,"display_name":"swamy"},"comment_count":0,"down_vote_count":7,"up_vote_count":0,"is_accepted":false,"score":-7,"last_activity_date":1414013915,"creation_date":1414013915,"answer_id":26517580,"question_id":8046662,"body_markdown":"SessionFactory:  &quot;One SessionFactory per application per DataBase&quot; \r\n(\r\ne.g., \r\nif you use 3 DataBase&#39;s in our application , you need to create sessionFactory object per each DB , totally you need to create 3 sessionFactorys . or else if you have only one DataBase One sessionfactory is enough\r\n).\r\n\r\nSession: &quot;One session for one request-response cycle&quot;. you can open session when request came and you can close session after completion of request process. \r\nNote:-Don&#39;t use one session for web application.","title":"Hibernate openSession() vs getCurrentSession()","body":"<p>SessionFactory:  \"One SessionFactory per application per DataBase\" \n(\ne.g., \nif you use 3 DataBase's in our application , you need to create sessionFactory object per each DB , totally you need to create 3 sessionFactorys . or else if you have only one DataBase One sessionfactory is enough\n).</p>\n\n<p>Session: \"One session for one request-response cycle\". you can open session when request came and you can close session after completion of request process. \nNote:-Don't use one session for web application.</p>\n"},{"comments":[{"owner":{"account_id":6099767,"reputation":4936,"user_id":4759176,"accept_rate":74,"display_name":"parsecer"},"score":1,"creation_date":1576685316,"post_id":40649315,"comment_id":104981124,"body_markdown":"The answer above tells not to use a single session per webapp. Thus if I were to use `getCurrentSession`, it would reuse the same sesssion, wouldn&#39;t it?","body":"The answer above tells not to use a single session per webapp. Thus if I were to use <code>getCurrentSession</code>, it would reuse the same sesssion, wouldn&#39;t it?"}],"tags":[],"owner":{"account_id":6920302,"reputation":518,"user_id":5313193,"display_name":"Ramu Agrawal"},"comment_count":1,"down_vote_count":0,"up_vote_count":34,"is_accepted":false,"score":34,"last_activity_date":1547106068,"creation_date":1479368883,"answer_id":40649315,"question_id":8046662,"body_markdown":"If we talk about SessionFactory.openSession()\r\n\r\n - It always creates a new Session object.\r\n - You need to explicitly flush and close session objects.\r\n - In single threaded environment it is slower than getCurrentSession().\r\n - You do not need to configure any property to call this method.\r\n\r\nAnd If we talk about SessionFactory.getCurrentSession()\r\n\r\n - It creates a new Session if not exists, else uses same session which is in current hibernate context.\r\n - You do not need to flush and close session objects, it will be automatically taken care by Hibernate internally.\r\n - In single threaded environment it is faster than openSession().\r\n - You need to configure additional property. &quot;hibernate.current_session_context_class&quot; to call getCurrentSession() method, otherwise it will throw an exception.\r\n\r\n\t\r\n","title":"Hibernate openSession() vs getCurrentSession()","body":"<p>If we talk about SessionFactory.openSession()</p>\n\n<ul>\n<li>It always creates a new Session object.</li>\n<li>You need to explicitly flush and close session objects.</li>\n<li>In single threaded environment it is slower than getCurrentSession().</li>\n<li>You do not need to configure any property to call this method.</li>\n</ul>\n\n<p>And If we talk about SessionFactory.getCurrentSession()</p>\n\n<ul>\n<li>It creates a new Session if not exists, else uses same session which is in current hibernate context.</li>\n<li>You do not need to flush and close session objects, it will be automatically taken care by Hibernate internally.</li>\n<li>In single threaded environment it is faster than openSession().</li>\n<li>You need to configure additional property. \"hibernate.current_session_context_class\" to call getCurrentSession() method, otherwise it will throw an exception.</li>\n</ul>\n"},{"comments":[{"owner":{"account_id":6099767,"reputation":4936,"user_id":4759176,"accept_rate":74,"display_name":"parsecer"},"score":1,"creation_date":1576685412,"post_id":45733794,"comment_id":104981184,"body_markdown":"Doesn&#39;t a servlet open a new thread for each request? Thus if it&#39;s a Java webapp, it is already not a single-threaded environment?","body":"Doesn&#39;t a servlet open a new thread for each request? Thus if it&#39;s a Java webapp, it is already not a single-threaded environment?"},{"owner":{"account_id":6898784,"reputation":518,"user_id":5299082,"accept_rate":0,"display_name":"Krusty the Clown"},"score":0,"creation_date":1651326692,"post_id":45733794,"comment_id":127340856,"body_markdown":"@parsecer right? nobody&#39;s giving a practical example of when to use either.","body":"@parsecer right? nobody&#39;s giving a practical example of when to use either."}],"tags":[],"owner":{"account_id":5096768,"reputation":1551,"user_id":4087817,"display_name":"ngg"},"comment_count":2,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1537684312,"creation_date":1502968950,"answer_id":45733794,"question_id":8046662,"body_markdown":"`openSession`: When you call `SessionFactory.openSession`, it always creates a new `Session` object and give it to you.\r\n\r\nYou need to explicitly flush and close these session objects. \r\n\r\nAs session objects are *not* thread safe, you need to create one session object per request in multi-threaded environment and one session per request in web applications too.\r\n\r\n`getCurrentSession`: When you call `SessionFactory.getCurrentSession`, it will provide you session object which is in hibernate context and managed by hibernate internally. It is bound to transaction scope.\r\n\r\nWhen you call `SessionFactory.getCurrentSession`, it creates a new `Session` if it does not exist, otherwise use same session which is in current hibernate context. It automatically flushes and closes session when transaction ends, so you do not need to do it externally.\r\n\r\nIf you are using hibernate in single-threaded environment , you can use `getCurrentSession`, as it is faster in performance as compared to creating a new session each time.\r\n\r\nYou need to add following property to **hibernate.cfg.xml** to use `getCurrentSession` method:\r\n    \r\n    &lt;session-factory&gt;\r\n        &lt;!--  Put other elements here --&gt;\r\n        &lt;property name=&quot;hibernate.current_session_context_class&quot;&gt;\r\n              thread\r\n        &lt;/property&gt;\r\n    &lt;/session-factory&gt;","title":"Hibernate openSession() vs getCurrentSession()","body":"<p><code>openSession</code>: When you call <code>SessionFactory.openSession</code>, it always creates a new <code>Session</code> object and give it to you.</p>\n\n<p>You need to explicitly flush and close these session objects. </p>\n\n<p>As session objects are <em>not</em> thread safe, you need to create one session object per request in multi-threaded environment and one session per request in web applications too.</p>\n\n<p><code>getCurrentSession</code>: When you call <code>SessionFactory.getCurrentSession</code>, it will provide you session object which is in hibernate context and managed by hibernate internally. It is bound to transaction scope.</p>\n\n<p>When you call <code>SessionFactory.getCurrentSession</code>, it creates a new <code>Session</code> if it does not exist, otherwise use same session which is in current hibernate context. It automatically flushes and closes session when transaction ends, so you do not need to do it externally.</p>\n\n<p>If you are using hibernate in single-threaded environment , you can use <code>getCurrentSession</code>, as it is faster in performance as compared to creating a new session each time.</p>\n\n<p>You need to add following property to <strong>hibernate.cfg.xml</strong> to use <code>getCurrentSession</code> method:</p>\n\n<pre><code>&lt;session-factory&gt;\n    &lt;!--  Put other elements here --&gt;\n    &lt;property name=\"hibernate.current_session_context_class\"&gt;\n          thread\n    &lt;/property&gt;\n&lt;/session-factory&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5144206,"reputation":10678,"user_id":4120631,"accept_rate":33,"display_name":"Joby Wilson Mathews"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1583934854,"creation_date":1583934417,"answer_id":60637540,"question_id":8046662,"body_markdown":"    +----------------------+----------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------+\r\n    | Parameter            |                                openSession                                 |                                          getCurrentSession                                          |\r\n    +----------------------+----------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------+\r\n    | Session  creation    | Always open new session                                                    | It opens a new Session if not exists , else use same session which is in current hibernate context. |\r\n    +----------------------+----------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------+\r\n    | Session close        | Need to close the session object once all the database operations are done | No need to close the session. Once the session factory is closed, this session object is closed.    |\r\n    +----------------------+----------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------+\r\n    | Flush and close      | Need to explicity flush and close session objects                          | No need to flush and close sessions , since it is automatically taken by hibernate internally.      |\r\n    +----------------------+----------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------+\r\n    | Performance          | In single threaded environment , it is slower than getCurrentSession       | In single threaded environment , it is faster than openSession                                      |\r\n    +----------------------+----------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------+\r\n    | Configuration        | No need to configure any property to call this method                      | Need to configure additional property:                                                              |\r\n    | \t\t\t\t\t   |                                                                            |  &lt;property name=&quot;&quot;hibernate.current_session_context_class&quot;&quot;&gt;thread&lt;/property&gt;                       |\r\n    +----------------------+----------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------+","title":"Hibernate openSession() vs getCurrentSession()","body":"<pre><code>+----------------------+----------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------+\n| Parameter            |                                openSession                                 |                                          getCurrentSession                                          |\n+----------------------+----------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------+\n| Session  creation    | Always open new session                                                    | It opens a new Session if not exists , else use same session which is in current hibernate context. |\n+----------------------+----------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------+\n| Session close        | Need to close the session object once all the database operations are done | No need to close the session. Once the session factory is closed, this session object is closed.    |\n+----------------------+----------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------+\n| Flush and close      | Need to explicity flush and close session objects                          | No need to flush and close sessions , since it is automatically taken by hibernate internally.      |\n+----------------------+----------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------+\n| Performance          | In single threaded environment , it is slower than getCurrentSession       | In single threaded environment , it is faster than openSession                                      |\n+----------------------+----------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------+\n| Configuration        | No need to configure any property to call this method                      | Need to configure additional property:                                                              |\n|                      |                                                                            |  &lt;property name=\"\"hibernate.current_session_context_class\"\"&gt;thread&lt;/property&gt;                       |\n+----------------------+----------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------+\n</code></pre>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1686751403,"post_id":76460365,"comment_id":134842448,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/76460365/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":10460859,"reputation":1,"user_id":7711645,"display_name":"Lobots"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686604352,"creation_date":1686604352,"answer_id":76460365,"question_id":8046662,"body_markdown":"    currentSession -&gt; to fetch the session\r\nbeginTransaction -&gt; to open session \r\ncommit and rollback -&gt; to close session","title":"Hibernate openSession() vs getCurrentSession()","body":"<pre><code>currentSession -&gt; to fetch the session\n</code></pre>\n<p>beginTransaction -&gt; to open session\ncommit and rollback -&gt; to close session</p>\n"}],"owner":{"account_id":321035,"reputation":12292,"user_id":639616,"accept_rate":67,"display_name":"wannik"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":215745,"favorite_count":0,"down_vote_count":0,"up_vote_count":138,"accepted_answer_id":8049227,"answer_count":6,"score":138,"last_activity_date":1686604352,"creation_date":1320733249,"question_id":8046662,"body_markdown":"I have some questions about using Hibernate in JSP web application.\r\n\r\n1. What should be the value for `hibernate.current_session_context_class`?\r\n\r\n1. Then, which of the following statements should be used? And why?\r\n\r\n         Session s = HibernateUtil.getSessionFactory().openSession();\r\n         Session s = HibernateUtil.getSessionFactory().getCurrentSession()\r\n\r\n1. Lastly, which one is better &quot;one session per web app&quot; or &quot;one session per request&quot;? \r\n\r\n\r\n","title":"Hibernate openSession() vs getCurrentSession()","body":"<p>I have some questions about using Hibernate in JSP web application.</p>\n\n<ol>\n<li><p>What should be the value for <code>hibernate.current_session_context_class</code>?</p></li>\n<li><p>Then, which of the following statements should be used? And why?</p>\n\n<pre><code> Session s = HibernateUtil.getSessionFactory().openSession();\n Session s = HibernateUtil.getSessionFactory().getCurrentSession()\n</code></pre></li>\n<li><p>Lastly, which one is better \"one session per web app\" or \"one session per request\"? </p></li>\n</ol>\n"},{"tags":["java","spring","iterator","iteration","thymeleaf"],"answers":[{"comments":[{"owner":{"account_id":15224586,"reputation":23,"user_id":10985579,"display_name":"matsui23"},"score":0,"creation_date":1548909848,"post_id":54453225,"comment_id":95715126,"body_markdown":"Hey Dave,  thanks for the suggestions I tried fixing the typo and it hasn&#39;t made a difference.  I ran the program in the debugger to check the value of findAll().  Adding a screen grab of the debugger above, its under the link &quot;Debugger in mod controller&quot;","body":"Hey Dave,  thanks for the suggestions I tried fixing the typo and it hasn&#39;t made a difference.  I ran the program in the debugger to check the value of findAll().  Adding a screen grab of the debugger above, its under the link &quot;Debugger in mod controller&quot;"},{"owner":{"account_id":45865,"reputation":11735,"user_id":135351,"accept_rate":80,"display_name":"dave"},"score":0,"creation_date":1548911732,"post_id":54453225,"comment_id":95715693,"body_markdown":"@matsui23 OK, so there&#39;s two items in `mods`, so that&#39;s not the issue. Perhaps the line in error is `&lt;div th:if=&quot;${mod.userid} == ${session.currentUser.id}&quot;&gt;`. This should probably be `&lt;div th:if=&quot;${mod.userid == session.currentUser.id}&quot;&gt;`. If changing that doesn&#39;t work, can you check whether `session.currentUser` is not `null`.","body":"@matsui23 OK, so there&#39;s two items in <code>mods</code>, so that&#39;s not the issue. Perhaps the line in error is <code>&lt;div th:if=&quot;${mod.userid} == ${session.currentUser.id}&quot;&gt;</code>. This should probably be <code>&lt;div th:if=&quot;${mod.userid == session.currentUser.id}&quot;&gt;</code>. If changing that doesn&#39;t work, can you check whether <code>session.currentUser</code> is not <code>null</code>."},{"owner":{"account_id":45865,"reputation":11735,"user_id":135351,"accept_rate":80,"display_name":"dave"},"score":0,"creation_date":1548913175,"post_id":54453225,"comment_id":95716168,"body_markdown":"I&#39;ve just noticed further up the stacktrace it points to `template: &quot;mods/index&quot; - line 21, col 17`. Which bit of Thymeleaf does that point to?","body":"I&#39;ve just noticed further up the stacktrace it points to <code>template: &quot;mods&#47;index&quot; - line 21, col 17</code>. Which bit of Thymeleaf does that point to?"},{"owner":{"account_id":15224586,"reputation":23,"user_id":10985579,"display_name":"matsui23"},"score":0,"creation_date":1548913592,"post_id":54453225,"comment_id":95716308,"body_markdown":"In checking my session during debugging I found these exceptions.  Posted an image link above","body":"In checking my session during debugging I found these exceptions.  Posted an image link above"},{"owner":{"account_id":45865,"reputation":11735,"user_id":135351,"accept_rate":80,"display_name":"dave"},"score":0,"creation_date":1548914553,"post_id":54453225,"comment_id":95716681,"body_markdown":"Hmmm, what is the type of collection returned by `modDao.findAll()`? Perhaps it&#39;s not a type that Thymeleaf can iterate over. You could try taking the result of `findAll()` and putting it into a `List` and adding that to your model instead.","body":"Hmmm, what is the type of collection returned by <code>modDao.findAll()</code>? Perhaps it&#39;s not a type that Thymeleaf can iterate over. You could try taking the result of <code>findAll()</code> and putting it into a <code>List</code> and adding that to your model instead."},{"owner":{"account_id":15224586,"reputation":23,"user_id":10985579,"display_name":"matsui23"},"score":0,"creation_date":1548939273,"post_id":54453225,"comment_id":95730092,"body_markdown":"Thanks Dave, I am going to try that suggestion later today.","body":"Thanks Dave, I am going to try that suggestion later today."},{"owner":{"account_id":45865,"reputation":11735,"user_id":135351,"accept_rate":80,"display_name":"dave"},"score":0,"creation_date":1548996555,"post_id":54453225,"comment_id":95753743,"body_markdown":"OK, let me know how you go. I&#39;m keen to know what the issue is.","body":"OK, let me know how you go. I&#39;m keen to know what the issue is."},{"owner":{"account_id":15224586,"reputation":23,"user_id":10985579,"display_name":"matsui23"},"score":0,"creation_date":1549031504,"post_id":54453225,"comment_id":95770052,"body_markdown":"Morning Dave,  I got it to work attempting what you suggested above but I am still confused about why.  Later on when I can get my laptop on wifi I will link a photo of what I did.  Ultimately, I loaded the modDao.findAll() into an iterable&lt;Mod&gt; named testList.  Then passing testList into the model and that displayed the data properly in the template.  I made small syntax changes you recommended in thymeleaf as well but they worked both ways.  I attempted to name the new iterable under the &quot;mods&quot; naming I tried before and that gave me the original exception.  So I am curious as to why that is?","body":"Morning Dave,  I got it to work attempting what you suggested above but I am still confused about why.  Later on when I can get my laptop on wifi I will link a photo of what I did.  Ultimately, I loaded the modDao.findAll() into an iterable&lt;Mod&gt; named testList.  Then passing testList into the model and that displayed the data properly in the template.  I made small syntax changes you recommended in thymeleaf as well but they worked both ways.  I attempted to name the new iterable under the &quot;mods&quot; naming I tried before and that gave me the original exception.  So I am curious as to why that is?"},{"owner":{"account_id":15224586,"reputation":23,"user_id":10985579,"display_name":"matsui23"},"score":0,"creation_date":1549031706,"post_id":54453225,"comment_id":95770172,"body_markdown":"Thanks again for your help regardless, you helped me work through the issue.  I will post some images and update my original post so you can see the changes.  I would still like to understand why using the iterable instead of the list syntax, even with the same variable, would throw the same exception?  Could it be a reserved key of a sort in thymeleaf?","body":"Thanks again for your help regardless, you helped me work through the issue.  I will post some images and update my original post so you can see the changes.  I would still like to understand why using the iterable instead of the list syntax, even with the same variable, would throw the same exception?  Could it be a reserved key of a sort in thymeleaf?"},{"owner":{"account_id":15224586,"reputation":23,"user_id":10985579,"display_name":"matsui23"},"score":0,"creation_date":1549077431,"post_id":54453225,"comment_id":95785663,"body_markdown":"I added a pic in the original post that shows the iterable I used to contain the findAll() method return.  I also included a shot of my thymeleaf template.  Main difference I am seeing is that testList is an iterable and before mod was simply declared as a list.  One curious thing to note is if I change testList naming to &quot;mod&quot; still declared as an iterable and change the variable name in thymeleaf that wont work.","body":"I added a pic in the original post that shows the iterable I used to contain the findAll() method return.  I also included a shot of my thymeleaf template.  Main difference I am seeing is that testList is an iterable and before mod was simply declared as a list.  One curious thing to note is if I change testList naming to &quot;mod&quot; still declared as an iterable and change the variable name in thymeleaf that wont work."},{"owner":{"account_id":45865,"reputation":11735,"user_id":135351,"accept_rate":80,"display_name":"dave"},"score":0,"creation_date":1549079706,"post_id":54453225,"comment_id":95785914,"body_markdown":"@matsui23 I&#39;ve updated my answer based on your success and your comments. In brief, looks like there were two issues: the return type of `findAll()` is not iterable in Thymeleaf; and `mod` is a keyword.","body":"@matsui23 I&#39;ve updated my answer based on your success and your comments. In brief, looks like there were two issues: the return type of <code>findAll()</code> is not iterable in Thymeleaf; and <code>mod</code> is a keyword."},{"owner":{"account_id":45865,"reputation":11735,"user_id":135351,"accept_rate":80,"display_name":"dave"},"score":0,"creation_date":1549337109,"post_id":54453225,"comment_id":95856574,"body_markdown":"No problem, happy to help.","body":"No problem, happy to help."},{"owner":{"account_id":4156256,"reputation":80,"user_id":3407477,"display_name":"Robert Fornesdale"},"score":0,"creation_date":1686480445,"post_id":54453225,"comment_id":134801507,"body_markdown":"the hint with the reserved &quot;keyword&quot; helped me in my case. my variable was named &quot;eq&quot;, which is reserved for equality comparison in thymeleaf. the error message was misleading here. thank you for pushing me into the right direction. ;)","body":"the hint with the reserved &quot;keyword&quot; helped me in my case. my variable was named &quot;eq&quot;, which is reserved for equality comparison in thymeleaf. the error message was misleading here. thank you for pushing me into the right direction. ;)"},{"owner":{"account_id":45865,"reputation":11735,"user_id":135351,"accept_rate":80,"display_name":"dave"},"score":0,"creation_date":1686604401,"post_id":54453225,"comment_id":134819118,"body_markdown":"No worries. Funny how things can still help, even after a long time.","body":"No worries. Funny how things can still help, even after a long time."}],"tags":[],"owner":{"account_id":45865,"reputation":11735,"user_id":135351,"accept_rate":80,"display_name":"dave"},"comment_count":14,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1686604324,"creation_date":1548908445,"answer_id":54453225,"question_id":54453156,"body_markdown":"This issue turned out to be quite a tricky one. The story of its resolution is as follows ...\r\n\r\nJudging by the stacktrace:\r\n\r\n    Caused by: java.lang.IllegalArgumentException: Iteration variable cannot be null\r\n\r\nthere was an iteration in a thymeleaf template that had a `null` variable being iterated over. The only use of `th:each` I could find was:\r\n\r\n    &lt;div th:if=&quot;${mods} != null&quot;&gt;\r\n        &lt;tr th:each=&quot;mod : ${mods}&quot;&gt;\r\n             ...\r\n        &lt;/tr&gt;\r\n    &lt;/div&gt;\r\n\r\nSo it seemed that `mods` was `null` and hence `th:each=&quot;mod : ${mods}&quot;` is the where the issue lies.\r\n\r\nHowever there was a check for this in place with `&lt;div th:if=&quot;${mods} != null&quot;&gt;`. Or was there? Would the following be more useful:\r\n\r\n    &lt;div th:if=&quot;${mods != null}&quot;&gt;\r\n\r\nie. moving the `}` so that the `null` check is within the expression.\r\n\r\nThat didn&#39;t help, so the result of `modDao.findAll()` was checked and there were two elements found. So it had to be something else.\r\n\r\nReviewing the [basics of iteration in Thymeleaf](https://www.thymeleaf.org/doc/tutorials/3.0/usingthymeleaf.html#iteration-basics) suggested that perhaps the collection being returned by `findAll()` was not one of supported types that `th:each` can iterate over.\r\n\r\nSo this collection was copied into an `Iterable` and given a different name and the problem was solved.\r\n\r\nInterestingly, if the iteration variable was given the name `mod` the problem still occurred. Turns out `mod` is a keyword in Thymeleaf and is use for the modulo operation (`%`).\r\n\r\nUltimately, there were two issues with apparently correct code:\r\n\r\n 1. The DAO returned a collection but not one that could be iterated over by `th:each`; and\r\n 2. `mod` is a keyword in Thymeleaf and shouldn&#39;t be used as a variable name.\r\n","title":"java.lang.IllegalArgumentException: Iteration variable cannot be null","body":"<p>This issue turned out to be quite a tricky one. The story of its resolution is as follows ...</p>\n<p>Judging by the stacktrace:</p>\n<pre><code>Caused by: java.lang.IllegalArgumentException: Iteration variable cannot be null\n</code></pre>\n<p>there was an iteration in a thymeleaf template that had a <code>null</code> variable being iterated over. The only use of <code>th:each</code> I could find was:</p>\n<pre><code>&lt;div th:if=&quot;${mods} != null&quot;&gt;\n    &lt;tr th:each=&quot;mod : ${mods}&quot;&gt;\n         ...\n    &lt;/tr&gt;\n&lt;/div&gt;\n</code></pre>\n<p>So it seemed that <code>mods</code> was <code>null</code> and hence <code>th:each=&quot;mod : ${mods}&quot;</code> is the where the issue lies.</p>\n<p>However there was a check for this in place with <code>&lt;div th:if=&quot;${mods} != null&quot;&gt;</code>. Or was there? Would the following be more useful:</p>\n<pre><code>&lt;div th:if=&quot;${mods != null}&quot;&gt;\n</code></pre>\n<p>ie. moving the <code>}</code> so that the <code>null</code> check is within the expression.</p>\n<p>That didn't help, so the result of <code>modDao.findAll()</code> was checked and there were two elements found. So it had to be something else.</p>\n<p>Reviewing the <a href=\"https://www.thymeleaf.org/doc/tutorials/3.0/usingthymeleaf.html#iteration-basics\" rel=\"nofollow noreferrer\">basics of iteration in Thymeleaf</a> suggested that perhaps the collection being returned by <code>findAll()</code> was not one of supported types that <code>th:each</code> can iterate over.</p>\n<p>So this collection was copied into an <code>Iterable</code> and given a different name and the problem was solved.</p>\n<p>Interestingly, if the iteration variable was given the name <code>mod</code> the problem still occurred. Turns out <code>mod</code> is a keyword in Thymeleaf and is use for the modulo operation (<code>%</code>).</p>\n<p>Ultimately, there were two issues with apparently correct code:</p>\n<ol>\n<li>The DAO returned a collection but not one that could be iterated over by <code>th:each</code>; and</li>\n<li><code>mod</code> is a keyword in Thymeleaf and shouldn't be used as a variable name.</li>\n</ol>\n"}],"owner":{"account_id":15224586,"reputation":23,"user_id":10985579,"display_name":"matsui23"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2496,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":54453225,"answer_count":1,"score":2,"last_activity_date":1686604324,"creation_date":1548907971,"question_id":54453156,"body_markdown":"[enter image description here][1]&gt; Been stuck on this for a few days.  I believe that the issue has to do\r\n&gt; with the class itself.  Or the relationship between the class in\r\n&gt; question and the class its column is joined on.  \r\n&gt; \r\n&gt; Here are my classes: \r\n**Mod**\r\n\r\n    package com.matt.Keyword.models;\r\n        import javax.persistence.*;\r\n        import javax.validation.constraints.NotNull;\r\n        import javax.validation.constraints.Size;\r\n        \r\n        \r\n        @Entity\r\n        @Table(name = &quot;Mods&quot;)\r\n        public class Mod {\r\n        \r\n            @Id\r\n            @GeneratedValue\r\n            private int id;\r\n        \r\n            @NotNull\r\n            private Integer role;\r\n        \r\n            @NotNull\r\n            @Size(min = 1, message = &quot;An entry is required&quot;)\r\n            private String entry;\r\n        \r\n            @Column(name = &quot;user_id&quot;)\r\n            private Integer userid;\r\n        \r\n            public Mod(Integer role, String entry) {\r\n                this.role = role;\r\n                this.entry = entry;\r\n            }\r\n        \r\n            public Mod() {\r\n            }\r\n        \r\n            public int getId() {\r\n        \r\n                return id;\r\n            }\r\n        \r\n            public int getRole() {\r\n                return role;\r\n            }\r\n        \r\n            public void setRole(Integer role) {\r\n                this.role = role;\r\n            }\r\n        \r\n            public String getEntry() {\r\n                return entry;\r\n            }\r\n        \r\n            public void setEntry(String entry) {\r\n                this.entry = entry;\r\n            }\r\n        \r\n            public Integer getUserid() {\r\n                return userid;\r\n            }\r\n        \r\n            public void setUserid(Integer userid) {\r\n                this.userid= userid;\r\n            }\r\n        \r\n        }\r\n**Account**\r\n\r\n    package com.matt.Keyword.models;\r\n        \r\n        import javax.persistence.*;\r\n        import javax.validation.constraints.NotNull;\r\n        import javax.validation.constraints.Size;\r\n        \r\n        @Entity\r\n        public class Account {\r\n        \r\n            @Id\r\n            @GeneratedValue\r\n            private int id;\r\n        \r\n            @NotNull\r\n            @Size(min = 3, message = &quot;Try again&quot;)\r\n            private String name;\r\n        \r\n            @NotNull\r\n            @Size(min = 1, message = &quot;A password is required&quot;)\r\n            private String password;\r\n        \r\n            @Column(name = &quot;user_id&quot;)\r\n            private Integer userid;\r\n        \r\n            public Account(String name, String password) {\r\n                this.name = name;\r\n                this.password = password;\r\n            }\r\n        \r\n            public Account() {\r\n            }\r\n        \r\n            public int getId() {\r\n        \r\n                return id;\r\n            }\r\n        \r\n            public String getName() {\r\n        \r\n                return name;\r\n            }\r\n        \r\n            public void setName(String name) {\r\n        \r\n                this.name = name;\r\n            }\r\n        \r\n            public String getPassword() {\r\n        \r\n                return password;\r\n            }\r\n        \r\n            public void setPassword(String password) {\r\n        \r\n                this.password = password;\r\n            }\r\n        \r\n            public Integer getUserid() {\r\n                return userid;\r\n            }\r\n        \r\n            public void setUserid(Integer userid) {\r\n                this.userid = userid;\r\n            }\r\n        \r\n        }\r\n&gt; Account and Mod classes are very similar and share a relationship with\r\n&gt; the user_id column in the user class.\r\n\r\n**User**\r\n\r\n    package com.matt.Keyword.models;\r\n    \r\n    import javax.persistence.*;\r\n    import javax.validation.constraints.Size;\r\n    import java.util.List;\r\n    \r\n    @Entity\r\n    public class User {\r\n    \r\n        @Id\r\n        @GeneratedValue\r\n        @Column(name = &quot;user_id&quot;)\r\n        private int id;\r\n    \r\n        @Size(min=3, message = &quot;Try again&quot;)\r\n        private String email;\r\n    \r\n        @Size(min=1, message = &quot;A password is required&quot;)\r\n        private String password;\r\n    \r\n        @OneToMany(cascade = CascadeType.ALL)\r\n        @JoinColumn(name = &quot;user_id&quot;, referencedColumnName = &quot;user_id&quot;)\r\n        private List&lt;Account&gt; accounts;\r\n    \r\n        @OneToMany(cascade = CascadeType.ALL)\r\n        @JoinColumn(name = &quot;user_id&quot;, referencedColumnName = &quot;user_id&quot;)\r\n        private List&lt;Mod&gt; mods;\r\n    \r\n        public User(String email, String password) {\r\n            this.email = email;\r\n            this.password = password;\r\n        }\r\n    \r\n        public User() {}\r\n    \r\n        public int getId() {\r\n    \r\n            return id;\r\n        }\r\n    \r\n        public void setId(Integer id){\r\n            this.id = id;\r\n        }\r\n        public String getEmail() {\r\n    \r\n            return email;\r\n        }\r\n    \r\n        public void setEmail(String email) {\r\n    \r\n            this.email = email;\r\n        }\r\n    \r\n        public String getPassword() {\r\n    \r\n            return password;\r\n        }\r\n    \r\n        public void setPassword(String password) {\r\n    \r\n            this.password = password;\r\n        }\r\n    \r\n        public List&lt;Account&gt; getAccounts() {\r\n            return accounts;\r\n        }\r\n    \r\n        public void setAccounts(List&lt;Account&gt; accounts) {\r\n            this.accounts = accounts;\r\n        }\r\n    \r\n    \r\n        public List&lt;Mod&gt; getMods() {\r\n            return mods;\r\n        }\r\n    \r\n        public void setMods(List&lt;Mod&gt; mods) {\r\n            this.mods = mods;\r\n        }\r\n        @Override\r\n        public String toString()\r\n        {\r\n            return email + &quot; &quot; + password;\r\n        }\r\n    }\r\n&gt; The exception gets thrown when I load the index page from my mods\r\n&gt; controller.  I am using thymeleaf to render views.  Here is my mods\r\n&gt; controller.  The Mods database has objects saved to it and in this\r\n&gt; controller during debugging the attribute being passed to the view\r\n&gt; contains a populated list of Mod objects.\r\n **ModController**\r\n\r\n    package com.matt.Keyword.controllers;\r\n        \r\n        \r\n        import com.matt.Keyword.models.Mod;\r\n        import com.matt.Keyword.models.User;\r\n        import com.matt.Keyword.models.data.ModDao;\r\n        import com.matt.Keyword.models.data.UserDao;\r\n        import org.springframework.beans.factory.annotation.Autowired;\r\n        import org.springframework.stereotype.Controller;\r\n        import org.springframework.ui.Model;\r\n        import org.springframework.validation.Errors;\r\n        import org.springframework.web.bind.annotation.ModelAttribute;\r\n        import org.springframework.web.bind.annotation.RequestMapping;\r\n        import org.springframework.web.bind.annotation.RequestMethod;\r\n        \r\n        import javax.servlet.http.HttpSession;\r\n        import javax.validation.Valid;\r\n        \r\n        //test commit note\r\n        //second try\r\n        //third try\r\n        /**\r\n         * Created by LaunchCode\r\n         */\r\n        @Controller\r\n        @RequestMapping(&quot;mod&quot;)\r\n        \r\n        public class ModController {\r\n        \r\n            @Autowired\r\n            private UserDao userDao;\r\n        \r\n            @Autowired\r\n            private ModDao modDao;\r\n        \r\n            @RequestMapping(value = &quot;&quot;)\r\n            public String index(Model model, HttpSession session) {\r\n        \r\n                if (session.getAttribute(&quot;currentUser&quot;) == null) {\r\n        \r\n                    return &quot;redirect:/keyword/login&quot;;\r\n                }\r\n        \r\n                session.getAttribute(&quot;currentUser&quot;);\r\n                model.addAttribute(&quot;title&quot;, &quot;Mods&quot;);\r\n                model.addAttribute(&quot;mods&quot;, modDao.findAll());\r\n                return &quot;mods/index&quot;;\r\n        \r\n            }\r\n        \r\n            @RequestMapping(value = &quot;add&quot;, method = RequestMethod.GET)\r\n            public String displayModForm(Model model, HttpSession session) {\r\n        \r\n                if (session.getAttribute(&quot;currentUser&quot;) == null) {\r\n                    return &quot;redirect:/keyword/login&quot;;\r\n                }\r\n        \r\n                model.addAttribute(&quot;title&quot;, &quot;Add a new mod&quot;);\r\n                model.addAttribute(new Mod());\r\n                return &quot;mods/add&quot;;\r\n            }\r\n        \r\n            @RequestMapping(value = &quot;add&quot;, method = RequestMethod.POST)\r\n            public String processAddModForm(@ModelAttribute @Valid Mod newMod,\r\n                                                Errors errors, Model model, HttpSession session) {\r\n        \r\n                if (errors.hasErrors()) {\r\n                    model.addAttribute(&quot;title&quot;, &quot;List of Mods&quot;);\r\n                    return &quot;mods/add&quot;;\r\n                }\r\n                User currentUser = (User) session.getAttribute(&quot;currentUser&quot;);\r\n        \r\n                session.getId();\r\n        \r\n                currentUser.setId(currentUser.getId());\r\n        \r\n                newMod.setUserid(currentUser.getId());\r\n        \r\n                modDao.save(newMod);\r\n        \r\n                return &quot;redirect:&quot;;\r\n        \r\n            }\r\n        \r\n        }\r\n\r\n&gt; Here is the mod/index page using thymeleaf.\r\n\r\n **mod/index**\r\n\r\n    &lt;!DOCTYPE html&gt;\r\n        &lt;html lang=&quot;en&quot; xmlns:th=&quot;http://www.thymeleaf.org/&quot;&gt;\r\n        &lt;head th:replace=&quot;fragments :: head&quot;&gt;&lt;/head&gt;\r\n        \r\n        &lt;body class=&quot;container&quot;&gt;\r\n        \r\n        &lt;h1 th:text=&quot;${title}&quot;&gt;Default Title&lt;/h1&gt;\r\n        \r\n        &lt;p th:unless=&quot;${mods} and ${mods.size()}&quot;&gt;No current mods&lt;/p&gt;\r\n        \r\n        &lt;nav th:replace=&quot;fragments :: navigation&quot;&gt;&lt;/nav&gt;\r\n        \r\n        &lt;p th:text=&quot;${session.currentUser.email}&quot;&gt;&lt;/p&gt;\r\n        \r\n        &lt;table class=&quot;table&quot;&gt;\r\n            &lt;tr&gt;\r\n                &lt;th&gt;Type&lt;/th&gt;\r\n                &lt;th&gt;Entry&lt;/th&gt;\r\n            &lt;/tr&gt;\r\n                &lt;div th:if=&quot;${mods} != null&quot;&gt;\r\n                    &lt;tr th:each=&quot;mod : ${mods}&quot;&gt;\r\n                        &lt;div th:if=&quot;${mod.userid} == ${session.currentUser.id}&quot;&gt;\r\n                            &lt;td th:text=&quot;${mod.role}&quot;&gt;&lt;/td&gt;\r\n                            &lt;td th:text=&quot;${mod.entry}&quot;&gt;&lt;/td&gt;\r\n                        &lt;/div&gt;\r\n                    &lt;/tr&gt;\r\n                &lt;/div&gt;\r\n        \r\n        &lt;/table&gt;\r\n        &lt;/body&gt;\r\n        &lt;/html&gt;\r\n&gt; The exception seems to be associated with the for th:each statement. \r\n&gt; Particularly with the &quot;mod&quot; iterator variable.\r\n&gt; Here is the stack trace for the full error:\r\n**Trace**\r\n\r\n    There was an unexpected error (type=Internal Server Error, status=500).\r\n    An error happened during template parsing (template: &quot;class path resource [templates/mods/index.html]&quot;)\r\n    org.thymeleaf.exceptions.TemplateInputException: An error happened during template parsing (template: &quot;class path resource [templates/mods/index.html]&quot;)\r\n    \tat org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:241)\r\n    \tat org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parseStandalone(AbstractMarkupTemplateParser.java:100)\r\n    \tat org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:666)\r\n    \tat org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1098)\r\n    \tat org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1072)\r\n    \tat org.thymeleaf.spring5.view.ThymeleafView.renderFragment(ThymeleafView.java:362)\r\n    \tat org.thymeleaf.spring5.view.ThymeleafView.render(ThymeleafView.java:189)\r\n    \tat org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1370)\r\n    \tat org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1116)\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1055)\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:942)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1005)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:897)\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:634)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:882)\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:741)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n    \tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n    \tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n    \tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:92)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n    \tat org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n    \tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n    \tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:199)\r\n    \tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)\r\n    \tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:490)\r\n    \tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)\r\n    \tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\r\n    \tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\r\n    \tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)\r\n    \tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408)\r\n    \tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)\r\n    \tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:834)\r\n    \tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1417)\r\n    \tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n    \tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n    \tat java.lang.Thread.run(Thread.java:748)\r\n    Caused by: org.attoparser.ParseException: Error during execution of processor &#39;org.thymeleaf.standard.processor.StandardEachTagProcessor&#39; (template: &quot;mods/index&quot; - line 21, col 17)\r\n    \tat org.attoparser.MarkupParser.parseDocument(MarkupParser.java:393)\r\n    \tat org.attoparser.MarkupParser.parse(MarkupParser.java:257)\r\n    \tat org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:230)\r\n    \t... 52 more\r\n    Caused by: org.thymeleaf.exceptions.TemplateProcessingException: Error during execution of processor &#39;org.thymeleaf.standard.processor.StandardEachTagProcessor&#39; (template: &quot;mods/index&quot; - line 21, col 17)\r\n    \tat org.thymeleaf.processor.element.AbstractAttributeTagProcessor.doProcess(AbstractAttributeTagProcessor.java:117)\r\n    \tat org.thymeleaf.processor.element.AbstractElementTagProcessor.process(AbstractElementTagProcessor.java:95)\r\n    \tat org.thymeleaf.util.ProcessorConfigurationUtils$ElementTagProcessorWrapper.process(ProcessorConfigurationUtils.java:633)\r\n    \tat org.thymeleaf.engine.ProcessorTemplateHandler.handleOpenElement(ProcessorTemplateHandler.java:1314)\r\n    \tat org.thymeleaf.engine.TemplateHandlerAdapterMarkupHandler.handleOpenElementEnd(TemplateHandlerAdapterMarkupHandler.java:304)\r\n    \tat org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler$InlineMarkupAdapterPreProcessorHandler.handleOpenElementEnd(InlinedOutputExpressionMarkupHandler.java:278)\r\n    \tat org.thymeleaf.standard.inline.OutputExpressionInlinePreProcessorHandler.handleOpenElementEnd(OutputExpressionInlinePreProcessorHandler.java:186)\r\n    \tat org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler.handleOpenElementEnd(InlinedOutputExpressionMarkupHandler.java:124)\r\n    \tat org.attoparser.HtmlElement.handleOpenElementEnd(HtmlElement.java:109)\r\n    \tat org.attoparser.HtmlMarkupHandler.handleOpenElementEnd(HtmlMarkupHandler.java:297)\r\n    \tat org.attoparser.MarkupEventProcessorHandler.handleOpenElementEnd(MarkupEventProcessorHandler.java:402)\r\n    \tat org.attoparser.ParsingElementMarkupUtil.parseOpenElement(ParsingElementMarkupUtil.java:159)\r\n    \tat org.attoparser.MarkupParser.parseBuffer(MarkupParser.java:710)\r\n    \tat org.attoparser.MarkupParser.parseDocument(MarkupParser.java:301)\r\n    \t... 54 more\r\n    Caused by: java.lang.IllegalArgumentException: Iteration variable cannot be null\r\n    \tat org.thymeleaf.util.Validate.notNull(Validate.java:37)\r\n    \tat org.thymeleaf.standard.expression.Each.&lt;init&gt;(Each.java:49)\r\n    \tat org.thymeleaf.standard.expression.EachUtils.composeEach(EachUtils.java:169)\r\n    \tat org.thymeleaf.standard.expression.EachUtils.internalParseEach(EachUtils.java:94)\r\n    \tat org.thymeleaf.standard.expression.EachUtils.parseEach(EachUtils.java:65)\r\n    \tat org.thymeleaf.standard.processor.StandardEachTagProcessor.doProcess(StandardEachTagProcessor.java:59)\r\n    \tat org.thymeleaf.processor.element.AbstractAttributeTagProcessor.doProcess(AbstractAttributeTagProcessor.java:74)\r\n    \t... 67 more\r\n\r\nAny help is appreciated.  Thanks in advance for just taking a look if\r\nyou have the time.\r\n\r\n[Debugger in mod controller][2]\r\n[Here is  a to link to my repo if you want to download it and give it a run.][3]\r\n\r\n\r\n[Hibernate exception in session][4]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/8qDdT.png\r\n  [2]: https://i.stack.imgur.com/LcZNc.png\r\n  [3]: https://github.com/matsui23/Keyword\r\n  [4]: https://i.stack.imgur.com/MGo9W.png\r\n[Edit to mod/index controller][1]","title":"java.lang.IllegalArgumentException: Iteration variable cannot be null","body":"<p><a href=\"https://i.stack.imgur.com/8qDdT.png\" rel=\"nofollow noreferrer\">enter image description here</a>> Been stuck on this for a few days.  I believe that the issue has to do</p>\n\n<blockquote>\n  <p>with the class itself.  Or the relationship between the class in\n  question and the class its column is joined on.  </p>\n  \n  <p>Here are my classes: \n  <strong>Mod</strong></p>\n</blockquote>\n\n<pre><code>package com.matt.Keyword.models;\n    import javax.persistence.*;\n    import javax.validation.constraints.NotNull;\n    import javax.validation.constraints.Size;\n\n\n    @Entity\n    @Table(name = \"Mods\")\n    public class Mod {\n\n        @Id\n        @GeneratedValue\n        private int id;\n\n        @NotNull\n        private Integer role;\n\n        @NotNull\n        @Size(min = 1, message = \"An entry is required\")\n        private String entry;\n\n        @Column(name = \"user_id\")\n        private Integer userid;\n\n        public Mod(Integer role, String entry) {\n            this.role = role;\n            this.entry = entry;\n        }\n\n        public Mod() {\n        }\n\n        public int getId() {\n\n            return id;\n        }\n\n        public int getRole() {\n            return role;\n        }\n\n        public void setRole(Integer role) {\n            this.role = role;\n        }\n\n        public String getEntry() {\n            return entry;\n        }\n\n        public void setEntry(String entry) {\n            this.entry = entry;\n        }\n\n        public Integer getUserid() {\n            return userid;\n        }\n\n        public void setUserid(Integer userid) {\n            this.userid= userid;\n        }\n\n    }\n</code></pre>\n\n<p><strong>Account</strong></p>\n\n<pre><code>package com.matt.Keyword.models;\n\n    import javax.persistence.*;\n    import javax.validation.constraints.NotNull;\n    import javax.validation.constraints.Size;\n\n    @Entity\n    public class Account {\n\n        @Id\n        @GeneratedValue\n        private int id;\n\n        @NotNull\n        @Size(min = 3, message = \"Try again\")\n        private String name;\n\n        @NotNull\n        @Size(min = 1, message = \"A password is required\")\n        private String password;\n\n        @Column(name = \"user_id\")\n        private Integer userid;\n\n        public Account(String name, String password) {\n            this.name = name;\n            this.password = password;\n        }\n\n        public Account() {\n        }\n\n        public int getId() {\n\n            return id;\n        }\n\n        public String getName() {\n\n            return name;\n        }\n\n        public void setName(String name) {\n\n            this.name = name;\n        }\n\n        public String getPassword() {\n\n            return password;\n        }\n\n        public void setPassword(String password) {\n\n            this.password = password;\n        }\n\n        public Integer getUserid() {\n            return userid;\n        }\n\n        public void setUserid(Integer userid) {\n            this.userid = userid;\n        }\n\n    }\n</code></pre>\n\n<blockquote>\n  <p>Account and Mod classes are very similar and share a relationship with\n  the user_id column in the user class.</p>\n</blockquote>\n\n<p><strong>User</strong></p>\n\n<pre><code>package com.matt.Keyword.models;\n\nimport javax.persistence.*;\nimport javax.validation.constraints.Size;\nimport java.util.List;\n\n@Entity\npublic class User {\n\n    @Id\n    @GeneratedValue\n    @Column(name = \"user_id\")\n    private int id;\n\n    @Size(min=3, message = \"Try again\")\n    private String email;\n\n    @Size(min=1, message = \"A password is required\")\n    private String password;\n\n    @OneToMany(cascade = CascadeType.ALL)\n    @JoinColumn(name = \"user_id\", referencedColumnName = \"user_id\")\n    private List&lt;Account&gt; accounts;\n\n    @OneToMany(cascade = CascadeType.ALL)\n    @JoinColumn(name = \"user_id\", referencedColumnName = \"user_id\")\n    private List&lt;Mod&gt; mods;\n\n    public User(String email, String password) {\n        this.email = email;\n        this.password = password;\n    }\n\n    public User() {}\n\n    public int getId() {\n\n        return id;\n    }\n\n    public void setId(Integer id){\n        this.id = id;\n    }\n    public String getEmail() {\n\n        return email;\n    }\n\n    public void setEmail(String email) {\n\n        this.email = email;\n    }\n\n    public String getPassword() {\n\n        return password;\n    }\n\n    public void setPassword(String password) {\n\n        this.password = password;\n    }\n\n    public List&lt;Account&gt; getAccounts() {\n        return accounts;\n    }\n\n    public void setAccounts(List&lt;Account&gt; accounts) {\n        this.accounts = accounts;\n    }\n\n\n    public List&lt;Mod&gt; getMods() {\n        return mods;\n    }\n\n    public void setMods(List&lt;Mod&gt; mods) {\n        this.mods = mods;\n    }\n    @Override\n    public String toString()\n    {\n        return email + \" \" + password;\n    }\n}\n</code></pre>\n\n<blockquote>\n  <p>The exception gets thrown when I load the index page from my mods\n  controller.  I am using thymeleaf to render views.  Here is my mods\n  controller.  The Mods database has objects saved to it and in this\n  controller during debugging the attribute being passed to the view\n  contains a populated list of Mod objects.\n   <strong>ModController</strong></p>\n</blockquote>\n\n<pre><code>package com.matt.Keyword.controllers;\n\n\n    import com.matt.Keyword.models.Mod;\n    import com.matt.Keyword.models.User;\n    import com.matt.Keyword.models.data.ModDao;\n    import com.matt.Keyword.models.data.UserDao;\n    import org.springframework.beans.factory.annotation.Autowired;\n    import org.springframework.stereotype.Controller;\n    import org.springframework.ui.Model;\n    import org.springframework.validation.Errors;\n    import org.springframework.web.bind.annotation.ModelAttribute;\n    import org.springframework.web.bind.annotation.RequestMapping;\n    import org.springframework.web.bind.annotation.RequestMethod;\n\n    import javax.servlet.http.HttpSession;\n    import javax.validation.Valid;\n\n    //test commit note\n    //second try\n    //third try\n    /**\n     * Created by LaunchCode\n     */\n    @Controller\n    @RequestMapping(\"mod\")\n\n    public class ModController {\n\n        @Autowired\n        private UserDao userDao;\n\n        @Autowired\n        private ModDao modDao;\n\n        @RequestMapping(value = \"\")\n        public String index(Model model, HttpSession session) {\n\n            if (session.getAttribute(\"currentUser\") == null) {\n\n                return \"redirect:/keyword/login\";\n            }\n\n            session.getAttribute(\"currentUser\");\n            model.addAttribute(\"title\", \"Mods\");\n            model.addAttribute(\"mods\", modDao.findAll());\n            return \"mods/index\";\n\n        }\n\n        @RequestMapping(value = \"add\", method = RequestMethod.GET)\n        public String displayModForm(Model model, HttpSession session) {\n\n            if (session.getAttribute(\"currentUser\") == null) {\n                return \"redirect:/keyword/login\";\n            }\n\n            model.addAttribute(\"title\", \"Add a new mod\");\n            model.addAttribute(new Mod());\n            return \"mods/add\";\n        }\n\n        @RequestMapping(value = \"add\", method = RequestMethod.POST)\n        public String processAddModForm(@ModelAttribute @Valid Mod newMod,\n                                            Errors errors, Model model, HttpSession session) {\n\n            if (errors.hasErrors()) {\n                model.addAttribute(\"title\", \"List of Mods\");\n                return \"mods/add\";\n            }\n            User currentUser = (User) session.getAttribute(\"currentUser\");\n\n            session.getId();\n\n            currentUser.setId(currentUser.getId());\n\n            newMod.setUserid(currentUser.getId());\n\n            modDao.save(newMod);\n\n            return \"redirect:\";\n\n        }\n\n    }\n</code></pre>\n\n<blockquote>\n  <p>Here is the mod/index page using thymeleaf.</p>\n</blockquote>\n\n<p><strong>mod/index</strong></p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n    &lt;html lang=\"en\" xmlns:th=\"http://www.thymeleaf.org/\"&gt;\n    &lt;head th:replace=\"fragments :: head\"&gt;&lt;/head&gt;\n\n    &lt;body class=\"container\"&gt;\n\n    &lt;h1 th:text=\"${title}\"&gt;Default Title&lt;/h1&gt;\n\n    &lt;p th:unless=\"${mods} and ${mods.size()}\"&gt;No current mods&lt;/p&gt;\n\n    &lt;nav th:replace=\"fragments :: navigation\"&gt;&lt;/nav&gt;\n\n    &lt;p th:text=\"${session.currentUser.email}\"&gt;&lt;/p&gt;\n\n    &lt;table class=\"table\"&gt;\n        &lt;tr&gt;\n            &lt;th&gt;Type&lt;/th&gt;\n            &lt;th&gt;Entry&lt;/th&gt;\n        &lt;/tr&gt;\n            &lt;div th:if=\"${mods} != null\"&gt;\n                &lt;tr th:each=\"mod : ${mods}\"&gt;\n                    &lt;div th:if=\"${mod.userid} == ${session.currentUser.id}\"&gt;\n                        &lt;td th:text=\"${mod.role}\"&gt;&lt;/td&gt;\n                        &lt;td th:text=\"${mod.entry}\"&gt;&lt;/td&gt;\n                    &lt;/div&gt;\n                &lt;/tr&gt;\n            &lt;/div&gt;\n\n    &lt;/table&gt;\n    &lt;/body&gt;\n    &lt;/html&gt;\n</code></pre>\n\n<blockquote>\n  <p>The exception seems to be associated with the for th:each statement. \n  Particularly with the \"mod\" iterator variable.\n  Here is the stack trace for the full error:\n  <strong>Trace</strong></p>\n</blockquote>\n\n<pre><code>There was an unexpected error (type=Internal Server Error, status=500).\nAn error happened during template parsing (template: \"class path resource [templates/mods/index.html]\")\norg.thymeleaf.exceptions.TemplateInputException: An error happened during template parsing (template: \"class path resource [templates/mods/index.html]\")\n    at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:241)\n    at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parseStandalone(AbstractMarkupTemplateParser.java:100)\n    at org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:666)\n    at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1098)\n    at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1072)\n    at org.thymeleaf.spring5.view.ThymeleafView.renderFragment(ThymeleafView.java:362)\n    at org.thymeleaf.spring5.view.ThymeleafView.render(ThymeleafView.java:189)\n    at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1370)\n    at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1116)\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1055)\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:942)\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1005)\n    at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:897)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:634)\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:882)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:741)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:92)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n    at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:199)\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:490)\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408)\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:834)\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1417)\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    at java.lang.Thread.run(Thread.java:748)\nCaused by: org.attoparser.ParseException: Error during execution of processor 'org.thymeleaf.standard.processor.StandardEachTagProcessor' (template: \"mods/index\" - line 21, col 17)\n    at org.attoparser.MarkupParser.parseDocument(MarkupParser.java:393)\n    at org.attoparser.MarkupParser.parse(MarkupParser.java:257)\n    at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:230)\n    ... 52 more\nCaused by: org.thymeleaf.exceptions.TemplateProcessingException: Error during execution of processor 'org.thymeleaf.standard.processor.StandardEachTagProcessor' (template: \"mods/index\" - line 21, col 17)\n    at org.thymeleaf.processor.element.AbstractAttributeTagProcessor.doProcess(AbstractAttributeTagProcessor.java:117)\n    at org.thymeleaf.processor.element.AbstractElementTagProcessor.process(AbstractElementTagProcessor.java:95)\n    at org.thymeleaf.util.ProcessorConfigurationUtils$ElementTagProcessorWrapper.process(ProcessorConfigurationUtils.java:633)\n    at org.thymeleaf.engine.ProcessorTemplateHandler.handleOpenElement(ProcessorTemplateHandler.java:1314)\n    at org.thymeleaf.engine.TemplateHandlerAdapterMarkupHandler.handleOpenElementEnd(TemplateHandlerAdapterMarkupHandler.java:304)\n    at org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler$InlineMarkupAdapterPreProcessorHandler.handleOpenElementEnd(InlinedOutputExpressionMarkupHandler.java:278)\n    at org.thymeleaf.standard.inline.OutputExpressionInlinePreProcessorHandler.handleOpenElementEnd(OutputExpressionInlinePreProcessorHandler.java:186)\n    at org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler.handleOpenElementEnd(InlinedOutputExpressionMarkupHandler.java:124)\n    at org.attoparser.HtmlElement.handleOpenElementEnd(HtmlElement.java:109)\n    at org.attoparser.HtmlMarkupHandler.handleOpenElementEnd(HtmlMarkupHandler.java:297)\n    at org.attoparser.MarkupEventProcessorHandler.handleOpenElementEnd(MarkupEventProcessorHandler.java:402)\n    at org.attoparser.ParsingElementMarkupUtil.parseOpenElement(ParsingElementMarkupUtil.java:159)\n    at org.attoparser.MarkupParser.parseBuffer(MarkupParser.java:710)\n    at org.attoparser.MarkupParser.parseDocument(MarkupParser.java:301)\n    ... 54 more\nCaused by: java.lang.IllegalArgumentException: Iteration variable cannot be null\n    at org.thymeleaf.util.Validate.notNull(Validate.java:37)\n    at org.thymeleaf.standard.expression.Each.&lt;init&gt;(Each.java:49)\n    at org.thymeleaf.standard.expression.EachUtils.composeEach(EachUtils.java:169)\n    at org.thymeleaf.standard.expression.EachUtils.internalParseEach(EachUtils.java:94)\n    at org.thymeleaf.standard.expression.EachUtils.parseEach(EachUtils.java:65)\n    at org.thymeleaf.standard.processor.StandardEachTagProcessor.doProcess(StandardEachTagProcessor.java:59)\n    at org.thymeleaf.processor.element.AbstractAttributeTagProcessor.doProcess(AbstractAttributeTagProcessor.java:74)\n    ... 67 more\n</code></pre>\n\n<p>Any help is appreciated.  Thanks in advance for just taking a look if\nyou have the time.</p>\n\n<p><a href=\"https://i.stack.imgur.com/LcZNc.png\" rel=\"nofollow noreferrer\">Debugger in mod controller</a>\n<a href=\"https://github.com/matsui23/Keyword\" rel=\"nofollow noreferrer\">Here is  a to link to my repo if you want to download it and give it a run.</a></p>\n\n<p><a href=\"https://i.stack.imgur.com/MGo9W.png\" rel=\"nofollow noreferrer\">Hibernate exception in session</a></p>\n\n<p><a href=\"https://i.stack.imgur.com/8qDdT.png\" rel=\"nofollow noreferrer\">Edit to mod/index controller</a></p>\n"},{"tags":["java","aws-sdk","aws-sdk-java"],"comments":[{"owner":{"account_id":7501,"reputation":187982,"user_id":13070,"accept_rate":90,"display_name":"Mark B"},"score":1,"creation_date":1686658829,"post_id":76451381,"comment_id":134826670,"body_markdown":"`listTagsForResource` just returns the AWS resource tags for the ECR repository, not the docker image tags for the images stored in the repository. If you look at other AWS services/resources, every one of them have a `listTagsForResource`. You will need to call `listImages` to get the details of the images in the repository, including their tags.","body":"<code>listTagsForResource</code> just returns the AWS resource tags for the ECR repository, not the docker image tags for the images stored in the repository. If you look at other AWS services/resources, every one of them have a <code>listTagsForResource</code>. You will need to call <code>listImages</code> to get the details of the images in the repository, including their tags."},{"owner":{"account_id":2679463,"reputation":2502,"user_id":2315104,"accept_rate":42,"display_name":"user2315104"},"score":0,"creation_date":1686684000,"post_id":76451381,"comment_id":134832350,"body_markdown":"@MarkB: Thank you very much.  I will have a look \nIs there any way to get the Latest Tag ? I&#39;m interested in getting latest image tag for image in repository","body":"@MarkB: Thank you very much.  I will have a look  Is there any way to get the Latest Tag ? I&#39;m interested in getting latest image tag for image in repository"}],"answers":[{"comments":[{"owner":{"account_id":2679463,"reputation":2502,"user_id":2315104,"accept_rate":42,"display_name":"user2315104"},"score":0,"creation_date":1686509166,"post_id":76451529,"comment_id":134804774,"body_markdown":"thanks for the code . however, the list is empty.  result.getTags() is coming as empty \nbut I can see the tags on the AWS console","body":"thanks for the code . however, the list is empty.  result.getTags() is coming as empty  but I can see the tags on the AWS console"}],"tags":[],"owner":{"account_id":22394789,"reputation":1382,"user_id":16606223,"display_name":"Yahor Barkouski"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1686502227,"creation_date":1686502227,"answer_id":76451529,"question_id":76451381,"body_markdown":"You&#39;re trying to create an object `r` of type `ListTagsForResourceResult` and call a method `r()` simultaneously, unfortunately that&#39;s not going to work in Java.\r\n\r\nThe `ListTagsForResourceResult` object should be returned from a method call from an instance of the `AmazonECR` client, so iou&#39;ll need to set up an `AmazonECR` to interact with your ECR repository first, and then call the `listTagsForResource()` method on the client with your request as an argument:\r\n```java\r\npublic class AwsECRTest {\r\n\r\n    public static void main(String[] args) {\r\n        \r\n        AmazonECR ecr = AmazonECRClientBuilder.defaultClient();\r\n        \r\n        ListTagsForResourceRequest request = new ListTagsForResourceRequest();\r\n        request.setResourceArn(&quot;arn:aws:ecr:us-east-1:45454512:repository/testrty&quot;);\r\n        \r\n        ListTagsForResourceResult result = ecr.listTagsForResource(request);\r\n        \r\n        System.out.println(result.getTags());\r\n    }\r\n}\r\n```","title":"pull the latest image tag from ECR repo using AWS SDK","body":"<p>You're trying to create an object <code>r</code> of type <code>ListTagsForResourceResult</code> and call a method <code>r()</code> simultaneously, unfortunately that's not going to work in Java.</p>\n<p>The <code>ListTagsForResourceResult</code> object should be returned from a method call from an instance of the <code>AmazonECR</code> client, so iou'll need to set up an <code>AmazonECR</code> to interact with your ECR repository first, and then call the <code>listTagsForResource()</code> method on the client with your request as an argument:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class AwsECRTest {\n\n    public static void main(String[] args) {\n        \n        AmazonECR ecr = AmazonECRClientBuilder.defaultClient();\n        \n        ListTagsForResourceRequest request = new ListTagsForResourceRequest();\n        request.setResourceArn(&quot;arn:aws:ecr:us-east-1:45454512:repository/testrty&quot;);\n        \n        ListTagsForResourceResult result = ecr.listTagsForResource(request);\n        \n        System.out.println(result.getTags());\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":2679463,"reputation":2502,"user_id":2315104,"accept_rate":42,"display_name":"user2315104"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":116,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686603972,"creation_date":1686500225,"question_id":76451381,"body_markdown":"Im trying to pull the latest image tag from the AWS ECR repo using AWS SDK \r\n\r\nIm trying to write below code from the documentation and the google search\r\n```java\r\npublic class AwsECRTest {\r\n    \r\n    public static void main(String[] args) {\r\n        // TODO Auto-generated method stub\r\n    \tListTagsForResourceRequest request = new ListTagsForResourceRequest();\r\n    \trequest.setResourceArn(&quot;arn:aws:ecr:us-east-1:45454512:repository/testrty&quot;);\r\n    \t\t\t   \r\n    \tListTagsForResourceResult r(ListTagsForResourceRequest request);\t\t   \r\n    \t\t\t   \r\n    \tSystem.out.println(r.getTags());   \r\n    }\r\n}\r\n```\r\n\r\ngetting below error \r\n```console\r\n    Syntax error on token &quot;ListTagsForResourceResult&quot;, record expected\r\n```\r\n\r\nnot sure , how to pass the `request` object to `ListTagsForResourceResult` \r\n\r\nplease help / suggest \r\n\r\nthis is the doc link : \r\nhttps://github.com/aws/aws-sdk-java/blob/master/aws-java-sdk-ecr/src/main/java/com/amazonaws/services/ecr/AmazonECR.java\r\n\r\n\r\n\r\n\r\n","title":"pull the latest image tag from ECR repo using AWS SDK","body":"<p>Im trying to pull the latest image tag from the AWS ECR repo using AWS SDK</p>\n<p>Im trying to write below code from the documentation and the google search</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class AwsECRTest {\n    \n    public static void main(String[] args) {\n        // TODO Auto-generated method stub\n        ListTagsForResourceRequest request = new ListTagsForResourceRequest();\n        request.setResourceArn(&quot;arn:aws:ecr:us-east-1:45454512:repository/testrty&quot;);\n                   \n        ListTagsForResourceResult r(ListTagsForResourceRequest request);           \n                   \n        System.out.println(r.getTags());   \n    }\n}\n</code></pre>\n<p>getting below error</p>\n<pre><code>    Syntax error on token &quot;ListTagsForResourceResult&quot;, record expected\n</code></pre>\n<p>not sure , how to pass the <code>request</code> object to <code>ListTagsForResourceResult</code></p>\n<p>please help / suggest</p>\n<p>this is the doc link :\n<a href=\"https://github.com/aws/aws-sdk-java/blob/master/aws-java-sdk-ecr/src/main/java/com/amazonaws/services/ecr/AmazonECR.java\" rel=\"nofollow noreferrer\">https://github.com/aws/aws-sdk-java/blob/master/aws-java-sdk-ecr/src/main/java/com/amazonaws/services/ecr/AmazonECR.java</a></p>\n"},{"tags":["java","arrays","optimization","grid","coordinates"],"answers":[{"tags":[],"owner":{"account_id":18143436,"reputation":56,"user_id":13197027,"display_name":"wookieJ"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686603695,"creation_date":1686602845,"answer_id":76460229,"question_id":63013537,"body_markdown":"I found this question after almost 3 years, but I probably have a solution for you if it&#39;s still valid:\r\n\r\n 1. Build graph: Your grid (map) may be converted to graph, where nodes contains coordinates and type (**ROAD**, **GROUND**) and edges are adjacent coordinates.\r\n 3. Discover **AVAILABLE_SPACE** nodes: you can use **DFS** or **BFS** algorithms now (little modified for this issue) to traverse through **ROAD** and return true where there is still some space along side road or store those available spaces sizes and coordinates if needed. Nodes that are **AVAILABLE_SPACE** type will be the **GROUND** types and in the direct neighbourhood of **ROAD** nodes. Maybe another traverse through **AVAILABLE_SPACE** nodes may be needed here after discover them.\r\n\r\n","title":"Creating Array of Integers to store spaces in grid Java","body":"<p>I found this question after almost 3 years, but I probably have a solution for you if it's still valid:</p>\n<ol>\n<li>Build graph: Your grid (map) may be converted to graph, where nodes contains coordinates and type (<strong>ROAD</strong>, <strong>GROUND</strong>) and edges are adjacent coordinates.</li>\n<li>Discover <strong>AVAILABLE_SPACE</strong> nodes: you can use <strong>DFS</strong> or <strong>BFS</strong> algorithms now (little modified for this issue) to traverse through <strong>ROAD</strong> and return true where there is still some space along side road or store those available spaces sizes and coordinates if needed. Nodes that are <strong>AVAILABLE_SPACE</strong> type will be the <strong>GROUND</strong> types and in the direct neighbourhood of <strong>ROAD</strong> nodes. Maybe another traverse through <strong>AVAILABLE_SPACE</strong> nodes may be needed here after discover them.</li>\n</ol>\n"}],"owner":{"account_id":19126248,"reputation":31,"user_id":13969169,"display_name":"kp27"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":117,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1686603695,"creation_date":1595331002,"question_id":63013537,"body_markdown":"I am currently making a program which optimizes the placement of houses on a grid to gain the most profit.\r\n\r\nThe area plan is on a grid - all house details (dimensions etc) are entered by a user.\r\n\r\nAll houses must be placed next to a road - the roads have already been added to the grid by the user.\r\n\r\nI am currently struggling to write a function which checks if the grid has any available space left to add another house (the stopping condition for my optimization algorithm).\r\n\r\nThe available space won&#39;t be the empty squares on the grid, but the empty squares adjacent to the road. \r\n(This road can go both horizontal and vertical)\r\n\r\nThe grid:\r\n\r\n    Coords[][] grid;\r\n\r\nIf a coordinate on the grid is a road:\r\n\r\n    grid[x][y].getRoad() == true\r\n\r\nThe following function finds all neighbouring squares of any coordinate:\r\n(cols - number of columns in grid)\r\n(rows - number of rows in grid)\r\n\r\n```\r\npublic static Coords[] addNeighboursSquare(Coords coord, int x, int y, int cols, int rows)\r\n{\r\n   Coords[] neighbours = null;\r\n\r\n   //right\r\n   if (x &lt; cols - 1)\r\n   {\r\n      neighbours[0] = AStarAlgorithm.grid[x + 1][y];\r\n   }\r\n\r\n   //left\r\n   if (x &gt; 0)\r\n   {\r\n      neighbours[1] = AStarAlgorithm.grid[x - 1][y];\r\n   }\r\n\r\n   //top\r\n   if (y &lt; rows - 1)\r\n   {\r\n      neighbours[2] = AStarAlgorithm.grid[x][y + 1];\r\n   }\r\n\r\n   //bottom\r\n   if (y &gt; 0)\r\n   {\r\n      neighbours[3] = AStarAlgorithm.grid[x][y - 1];\r\n   }\r\n\r\n   return neighbours;\r\n}\r\n```\r\n\r\nHow do I loop through all roads squares in the grid, and create an array of ints containing the size of all &#39;gaps&#39; along the road?\r\n","title":"Creating Array of Integers to store spaces in grid Java","body":"<p>I am currently making a program which optimizes the placement of houses on a grid to gain the most profit.</p>\n<p>The area plan is on a grid - all house details (dimensions etc) are entered by a user.</p>\n<p>All houses must be placed next to a road - the roads have already been added to the grid by the user.</p>\n<p>I am currently struggling to write a function which checks if the grid has any available space left to add another house (the stopping condition for my optimization algorithm).</p>\n<p>The available space won't be the empty squares on the grid, but the empty squares adjacent to the road.\n(This road can go both horizontal and vertical)</p>\n<p>The grid:</p>\n<pre><code>Coords[][] grid;\n</code></pre>\n<p>If a coordinate on the grid is a road:</p>\n<pre><code>grid[x][y].getRoad() == true\n</code></pre>\n<p>The following function finds all neighbouring squares of any coordinate:\n(cols - number of columns in grid)\n(rows - number of rows in grid)</p>\n<pre><code>public static Coords[] addNeighboursSquare(Coords coord, int x, int y, int cols, int rows)\n{\n   Coords[] neighbours = null;\n\n   //right\n   if (x &lt; cols - 1)\n   {\n      neighbours[0] = AStarAlgorithm.grid[x + 1][y];\n   }\n\n   //left\n   if (x &gt; 0)\n   {\n      neighbours[1] = AStarAlgorithm.grid[x - 1][y];\n   }\n\n   //top\n   if (y &lt; rows - 1)\n   {\n      neighbours[2] = AStarAlgorithm.grid[x][y + 1];\n   }\n\n   //bottom\n   if (y &gt; 0)\n   {\n      neighbours[3] = AStarAlgorithm.grid[x][y - 1];\n   }\n\n   return neighbours;\n}\n</code></pre>\n<p>How do I loop through all roads squares in the grid, and create an array of ints containing the size of all 'gaps' along the road?</p>\n"},{"tags":["java","data-structures","iteration","binary-search-tree","inorder"],"comments":[{"owner":{"account_id":10408148,"reputation":1398,"user_id":7674438,"accept_rate":100,"display_name":"Lore"},"score":0,"creation_date":1686583879,"post_id":76456940,"comment_id":134815223,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":26799112,"reputation":13,"user_id":20391352,"display_name":"Oreo"},"score":0,"creation_date":1686602483,"post_id":76456940,"comment_id":134818785,"body_markdown":"I think someone just edited the post and fixed it :)","body":"I think someone just edited the post and fixed it :)"}],"answers":[{"comments":[{"owner":{"account_id":26799112,"reputation":13,"user_id":20391352,"display_name":"Oreo"},"score":0,"creation_date":1686576205,"post_id":76457061,"comment_id":134813325,"body_markdown":"thank you for your response. these are the kind of solutions I have seen, but this seems relatively complicated (to recursive solution). would be great if you could address this:\n&quot;why does the iterative solution seem to be more complicated than the recursive one? (and also not popular)&quot;. I&#39;m trying to understand the intuition behind this.","body":"thank you for your response. these are the kind of solutions I have seen, but this seems relatively complicated (to recursive solution). would be great if you could address this: &quot;why does the iterative solution seem to be more complicated than the recursive one? (and also not popular)&quot;. I&#39;m trying to understand the intuition behind this."},{"owner":{"account_id":13474768,"reputation":3872,"user_id":9722122,"display_name":"Mustahsan"},"score":0,"creation_date":1686578414,"post_id":76457061,"comment_id":134813841,"body_markdown":"well when it comes to chosing two different approaches of algos, in today&#39;s time the preffered one is always the one which is more readable. And recursive one is easier to understand as compared to iterative one with multiple loops and stuff. Also recursive one is better in terms of space complexity, but also keep in mind it can lead to function call overhead","body":"well when it comes to chosing two different approaches of algos, in today&#39;s time the preffered one is always the one which is more readable. And recursive one is easier to understand as compared to iterative one with multiple loops and stuff. Also recursive one is better in terms of space complexity, but also keep in mind it can lead to function call overhead"},{"owner":{"account_id":26799112,"reputation":13,"user_id":20391352,"display_name":"Oreo"},"score":0,"creation_date":1686582273,"post_id":76457061,"comment_id":134814844,"body_markdown":"why &quot;recursive one is better in terms of space complexity&quot;. I thought recursion is usually way worse in terms of space (do you mean theoretical?)","body":"why &quot;recursive one is better in terms of space complexity&quot;. I thought recursion is usually way worse in terms of space (do you mean theoretical?)"}],"tags":[],"owner":{"account_id":13474768,"reputation":3872,"user_id":9722122,"display_name":"Mustahsan"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686575794,"creation_date":1686575794,"answer_id":76457061,"question_id":76456940,"body_markdown":"To create a balanced binary search tree (BST) from a sorted array iteratively, you can use a technique called the &quot;Bottom-Up&quot; approach. Here&#39;s how you can do it:\r\n\r\n 1. Initialize an empty stack. This stack will store pairs of indices\r\n    representing the range of elements for each subtree.\r\n    \r\n 2. Push the initial range [0, n-1] onto the stack, where n is the size\r\n    of the sorted array.\r\n    \r\n 3. While the stack is not empty, do the following:\r\n\r\n    \r\n\r\n    -    Pop the top pair of indices from the stack. Let&#39;s call them start and\r\n   end.\r\n\r\n    \r\n\r\n    -    Calculate the middle index as mid = (start + end) // 2.\r\n\r\n    \r\n\r\n    -    Create a new node with the value at index mid in the sorted array.\r\n\r\n    \r\n\r\n    - Set the left child of the new node to the result of the next\r\n   iteration \r\n       with the range [start, mid-1] (i.e., the left half of the current range).\r\n\r\n    \r\n\r\n    - Set the right child of the new node to the result of the next\r\n   iteration \r\n       with the range [mid+1, end] (i.e., the right half of the current range).\r\n\r\n    \r\n    \r\n\r\n    - Set the parent of the new node as needed.\r\n  4. Return the root of the BST.\r\n\r\n\r\nexample code:\r\n\r\n    class Node {\r\n    int value;\r\n    Node left;\r\n    Node right;\r\n    Node parent;\r\n\r\n    public Node(int value) {\r\n        this.value = value;\r\n        this.left = null;\r\n        this.right = null;\r\n        this.parent = null;\r\n    }\r\n\r\n    }\r\n    public class BalancedBST {\r\n        public static Node createBalancedBSTIterative(int[] sortedArray) {\r\n            int n = sortedArray.length;\r\n            if (n == 0) {\r\n                return null;\r\n            }\r\n\r\n        Stack&lt;int[]&gt; stack = new Stack&lt;&gt;();\r\n        Node root = null;\r\n\r\n        int start = 0;\r\n        int end = n - 1;\r\n\r\n        int mid = (start + end) / 2;\r\n        root = new Node(sortedArray[mid]);\r\n        stack.push(new int[]{start, mid - 1});\r\n        stack.push(new int[]{mid + 1, end});\r\n\r\n        while (!stack.empty()) {\r\n            int[] range = stack.pop();\r\n            start = range[0];\r\n            end = range[1];\r\n            mid = (start + end) / 2;\r\n\r\n            Node parent = new Node(sortedArray[mid]);\r\n            parent.parent = root;\r\n\r\n            if (start &lt;= mid - 1) {\r\n                stack.push(new int[]{start, mid - 1});\r\n                parent.left = new Node(0);  // Placeholder node for now\r\n            }\r\n\r\n            if (mid + 1 &lt;= end) {\r\n                stack.push(new int[]{mid + 1, end});\r\n                parent.right = new Node(0); // Placeholder node for now\r\n            }\r\n\r\n            if (parent.parent != null) {\r\n                if (parent == parent.parent.left) {\r\n                    parent.parent.left = parent;\r\n                } else {\r\n                    parent.parent.right = parent;\r\n                }\r\n            } else {\r\n                root = parent;\r\n            }\r\n        }\r\n\r\n        return root;\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        int[] sortedArray = {1, 2, 3, 4, 5, 6, 7, 8, 9};\r\n        Node root = createBalancedBSTIterative(sortedArray);\r\n        // You can traverse and print the resulting tree to verify the correctness\r\n    }\r\n    }\r\n\r\n","title":"Balanced BST From a Sorted Array - Iterative Approach","body":"<p>To create a balanced binary search tree (BST) from a sorted array iteratively, you can use a technique called the &quot;Bottom-Up&quot; approach. Here's how you can do it:</p>\n<ol>\n<li><p>Initialize an empty stack. This stack will store pairs of indices\nrepresenting the range of elements for each subtree.</p>\n</li>\n<li><p>Push the initial range [0, n-1] onto the stack, where n is the size\nof the sorted array.</p>\n</li>\n<li><p>While the stack is not empty, do the following:</p>\n<ul>\n<li><p>Pop the top pair of indices from the stack. Let's call them start and\nend.</p>\n</li>\n<li><p>Calculate the middle index as mid = (start + end) // 2.</p>\n</li>\n<li><p>Create a new node with the value at index mid in the sorted array.</p>\n</li>\n<li><p>Set the left child of the new node to the result of the next\niteration\nwith the range [start, mid-1] (i.e., the left half of the current range).</p>\n</li>\n<li><p>Set the right child of the new node to the result of the next\niteration\nwith the range [mid+1, end] (i.e., the right half of the current range).</p>\n</li>\n<li><p>Set the parent of the new node as needed.</p>\n</li>\n</ul>\n</li>\n<li><p>Return the root of the BST.</p>\n</li>\n</ol>\n<p>example code:</p>\n<pre><code>class Node {\nint value;\nNode left;\nNode right;\nNode parent;\n\npublic Node(int value) {\n    this.value = value;\n    this.left = null;\n    this.right = null;\n    this.parent = null;\n}\n\n}\npublic class BalancedBST {\n    public static Node createBalancedBSTIterative(int[] sortedArray) {\n        int n = sortedArray.length;\n        if (n == 0) {\n            return null;\n        }\n\n    Stack&lt;int[]&gt; stack = new Stack&lt;&gt;();\n    Node root = null;\n\n    int start = 0;\n    int end = n - 1;\n\n    int mid = (start + end) / 2;\n    root = new Node(sortedArray[mid]);\n    stack.push(new int[]{start, mid - 1});\n    stack.push(new int[]{mid + 1, end});\n\n    while (!stack.empty()) {\n        int[] range = stack.pop();\n        start = range[0];\n        end = range[1];\n        mid = (start + end) / 2;\n\n        Node parent = new Node(sortedArray[mid]);\n        parent.parent = root;\n\n        if (start &lt;= mid - 1) {\n            stack.push(new int[]{start, mid - 1});\n            parent.left = new Node(0);  // Placeholder node for now\n        }\n\n        if (mid + 1 &lt;= end) {\n            stack.push(new int[]{mid + 1, end});\n            parent.right = new Node(0); // Placeholder node for now\n        }\n\n        if (parent.parent != null) {\n            if (parent == parent.parent.left) {\n                parent.parent.left = parent;\n            } else {\n                parent.parent.right = parent;\n            }\n        } else {\n            root = parent;\n        }\n    }\n\n    return root;\n}\n\npublic static void main(String[] args) {\n    int[] sortedArray = {1, 2, 3, 4, 5, 6, 7, 8, 9};\n    Node root = createBalancedBSTIterative(sortedArray);\n    // You can traverse and print the resulting tree to verify the correctness\n}\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":26799112,"reputation":13,"user_id":20391352,"display_name":"Oreo"},"score":0,"creation_date":1686601883,"post_id":76460001,"comment_id":134818673,"body_markdown":"very interesting","body":"very interesting"}],"tags":[],"owner":{"account_id":7142980,"reputation":323263,"user_id":5459839,"display_name":"trincot"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1686603389,"creation_date":1686600623,"answer_id":76460001,"question_id":76456940,"body_markdown":"You can use an iterative approach where you target a tree that is *complete*, i.e. where the leaves are all on the bottom two levels, and the bottom level has all its nodes at the left side of that level.\r\n\r\nFrom the size of the input array you can calculate what the height is of the tree to build and how many nodes will be in its bottom level.\r\n\r\nThen you can use an array where each index corresponds to a level, and each entry represents the rightmost node in that level (if relevant). This array will start out will all `null` entries, and the first entry to get a Node instance will be its last entry (at the end of the array), because it will be a leaf. With some logic you can know at which level the next node will end up, store its reference at that index in the array, and link it up with its child (if any).\r\n\r\nHere is an implementation with some comments explaining some details:\r\n\r\n### Node\r\n\r\n```\r\nclass Node {\r\n    int value;\r\n    Node left = null;\r\n    Node right = null;\r\n    \r\n    public Node(int value) {\r\n        this.value = value;\r\n    }\r\n}\r\n```\r\n### BinarySearchTree\r\n\r\n```\r\nimport java.util.*;\r\n\r\nclass BinarySearchTree {\r\n    Node root = null;\r\n    \r\n    BinarySearchTree(int[] values) {\r\n        if (values.length == 0) return;\r\n        int height = (int)(Math.log(values.length) / Math.log(2));\r\n        // Number of nodes to be placed in the bottom level of the new tree:\r\n        int bottomCount = (values.length + 1) - (1 &lt;&lt; height);\r\n        Node path[] = new Node[height + 1];\r\n        Arrays.fill(path, null);\r\n        // Depth that the next node will have in the new tree \r\n        int depth = height; \r\n        for (int value : values) {\r\n            path[depth] = new Node(value);\r\n            // Is there a left child to link?\r\n            if (depth + 1 &lt; path.length &amp;&amp; path[depth+1] != null) { \r\n                path[depth].left = path[depth+1];\r\n                path[depth+1] = null;\r\n            }\r\n            if (depth &lt; height) {\r\n                depth = height; // Next node will be a leaf\r\n            } else {\r\n                // Has bottom level been covered? \r\n                //    Then remaining part has one less level\r\n                if (--bottomCount == 0) height--;\r\n                while (depth-- &gt; 0 &amp;&amp; path[depth] != null) {\r\n                    path[depth].right = path[depth+1];\r\n                    path[depth+1] = null;\r\n                }\r\n            }\r\n        }\r\n        root = path[0];\r\n    }\r\n\r\n    void print() {\r\n        print(root, &quot;&quot;);\r\n    }\r\n\r\n    void print(Node node, String indent) {\r\n        if (node == null) return;\r\n        print(node.right, indent + &quot;   &quot;);\r\n        System.out.println(indent + node.value);\r\n        print(node.left, indent + &quot;   &quot;);\r\n    }\r\n}\r\n```\r\n\r\n### Driver code\r\n\r\n```\r\n    public static void main(String[] args) {\r\n        int values[] = {1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12};\r\n        BinarySearchTree tree = new BinarySearchTree(values);\r\n        tree.print();\r\n    }\r\n```\r\n\r\nThis has O(n) time complexity, and O(logn) auxiliary space complexity (not counting input -- the array of values -- nor output -- the tree).","title":"Balanced BST From a Sorted Array - Iterative Approach","body":"<p>You can use an iterative approach where you target a tree that is <em>complete</em>, i.e. where the leaves are all on the bottom two levels, and the bottom level has all its nodes at the left side of that level.</p>\n<p>From the size of the input array you can calculate what the height is of the tree to build and how many nodes will be in its bottom level.</p>\n<p>Then you can use an array where each index corresponds to a level, and each entry represents the rightmost node in that level (if relevant). This array will start out will all <code>null</code> entries, and the first entry to get a Node instance will be its last entry (at the end of the array), because it will be a leaf. With some logic you can know at which level the next node will end up, store its reference at that index in the array, and link it up with its child (if any).</p>\n<p>Here is an implementation with some comments explaining some details:</p>\n<h3>Node</h3>\n<pre><code>class Node {\n    int value;\n    Node left = null;\n    Node right = null;\n    \n    public Node(int value) {\n        this.value = value;\n    }\n}\n</code></pre>\n<h3>BinarySearchTree</h3>\n<pre><code>import java.util.*;\n\nclass BinarySearchTree {\n    Node root = null;\n    \n    BinarySearchTree(int[] values) {\n        if (values.length == 0) return;\n        int height = (int)(Math.log(values.length) / Math.log(2));\n        // Number of nodes to be placed in the bottom level of the new tree:\n        int bottomCount = (values.length + 1) - (1 &lt;&lt; height);\n        Node path[] = new Node[height + 1];\n        Arrays.fill(path, null);\n        // Depth that the next node will have in the new tree \n        int depth = height; \n        for (int value : values) {\n            path[depth] = new Node(value);\n            // Is there a left child to link?\n            if (depth + 1 &lt; path.length &amp;&amp; path[depth+1] != null) { \n                path[depth].left = path[depth+1];\n                path[depth+1] = null;\n            }\n            if (depth &lt; height) {\n                depth = height; // Next node will be a leaf\n            } else {\n                // Has bottom level been covered? \n                //    Then remaining part has one less level\n                if (--bottomCount == 0) height--;\n                while (depth-- &gt; 0 &amp;&amp; path[depth] != null) {\n                    path[depth].right = path[depth+1];\n                    path[depth+1] = null;\n                }\n            }\n        }\n        root = path[0];\n    }\n\n    void print() {\n        print(root, &quot;&quot;);\n    }\n\n    void print(Node node, String indent) {\n        if (node == null) return;\n        print(node.right, indent + &quot;   &quot;);\n        System.out.println(indent + node.value);\n        print(node.left, indent + &quot;   &quot;);\n    }\n}\n</code></pre>\n<h3>Driver code</h3>\n<pre><code>    public static void main(String[] args) {\n        int values[] = {1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12};\n        BinarySearchTree tree = new BinarySearchTree(values);\n        tree.print();\n    }\n</code></pre>\n<p>This has O(n) time complexity, and O(logn) auxiliary space complexity (not counting input -- the array of values -- nor output -- the tree).</p>\n"},{"tags":[],"owner":{"display_name":"user21508463"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686602031,"creation_date":1686602031,"answer_id":76460141,"question_id":76456940,"body_markdown":"Why is it &quot;complicated&quot; ?\r\n\r\nBecause if you update the nodes to the tree in sorted order, you access the nodes following varying paths in the tree, of varying lengths. To manage these paths, you need an auxiliary data structure.\r\n\r\nE.g.\r\n\r\n              3\r\n          1       5\r\n        0   2   4   6\r\n\r\nThe nodes are filled using the successive paths\r\n\r\n    3 1 0\r\n    3 1\r\n    3 1 2\r\n    3\r\n    3 5 4\r\n    3 5\r\n    3 5 6\r\n\r\n","title":"Balanced BST From a Sorted Array - Iterative Approach","body":"<p>Why is it &quot;complicated&quot; ?</p>\n<p>Because if you update the nodes to the tree in sorted order, you access the nodes following varying paths in the tree, of varying lengths. To manage these paths, you need an auxiliary data structure.</p>\n<p>E.g.</p>\n<pre><code>          3\n      1       5\n    0   2   4   6\n</code></pre>\n<p>The nodes are filled using the successive paths</p>\n<pre><code>3 1 0\n3 1\n3 1 2\n3\n3 5 4\n3 5\n3 5 6\n</code></pre>\n"}],"owner":{"account_id":26799112,"reputation":13,"user_id":20391352,"display_name":"Oreo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76460001,"answer_count":3,"score":0,"last_activity_date":1686603389,"creation_date":1686574932,"question_id":76456940,"body_markdown":"I want to create a balanced BST from a sorted array iteratively. I understand how to create this BST recursively, but how would you go about doing this iteratively? assuming a Node in the tree has left,right child and a parent.\r\n\r\nI tried implementing the same key idea as in the recursive solution (take the median to be the root at each iteration). got stuck pretty fast when trying to write the for loop. saw some ideas about stack or queue but could not understand why you must create one of these (maybe you don&#39;t).Also in general why does iterative solution seem to be way more complicated than the recursive one? (and also not popular)\r\ncould use help. (jave please if you supply code) \r\n\r\n*I&#39;m a beginner (don&#39;t be to harsh :))","title":"Balanced BST From a Sorted Array - Iterative Approach","body":"<p>I want to create a balanced BST from a sorted array iteratively. I understand how to create this BST recursively, but how would you go about doing this iteratively? assuming a Node in the tree has left,right child and a parent.</p>\n<p>I tried implementing the same key idea as in the recursive solution (take the median to be the root at each iteration). got stuck pretty fast when trying to write the for loop. saw some ideas about stack or queue but could not understand why you must create one of these (maybe you don't).Also in general why does iterative solution seem to be way more complicated than the recursive one? (and also not popular)\ncould use help. (jave please if you supply code)</p>\n<p>*I'm a beginner (don't be to harsh :))</p>\n"},{"tags":["java","spring-boot","docker"],"comments":[{"owner":{"account_id":11400015,"reputation":1904,"user_id":8357251,"display_name":"gdomo"},"score":1,"creation_date":1686590898,"post_id":76458852,"comment_id":134816703,"body_markdown":"Please read whole container output. Probably there is an error message in it.","body":"Please read whole container output. Probably there is an error message in it."},{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":0,"creation_date":1686591600,"post_id":76458852,"comment_id":134816859,"body_markdown":"Does running the `registereureka.jar` file directly (not in Docker) work?","body":"Does running the <code>registereureka.jar</code> file directly (not in Docker) work?"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1686591653,"post_id":76458852,"comment_id":134816875,"body_markdown":"What are your dependencies? What does the APP do, is there something in there that keeps the app alive, like tomcat? How are you building the jar?","body":"What are your dependencies? What does the APP do, is there something in there that keeps the app alive, like tomcat? How are you building the jar?"},{"owner":{"account_id":28806510,"reputation":1,"user_id":22062251,"display_name":"mairiLou"},"score":0,"creation_date":1686593299,"post_id":76458852,"comment_id":134817215,"body_markdown":"Hello and thank you all for looking at my question.\n\n\ngdomo: there is nothing else wrong in the container outpup, everything before SpringApplicationShutdownHook says that container started\n\n\nthe last output before shutdown is:  DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean &#39;org.springframework.boot.autoconfigure.AutoConfigurationPackages&#39;\n18:04:33.471 [main] INFO com.registereureka.registereureka.RegistereurekaApplication - Started RegistereurekaApplication in 1.582 seconds (JVM running for 2.53)","body":"Hello and thank you all for looking at my question.   gdomo: there is nothing else wrong in the container outpup, everything before SpringApplicationShutdownHook says that container started   the last output before shutdown is:  DEBUG org.springframework.beans.factory.support.DefaultListableBea&zwnj;&#8203;nFactory - Creating shared instance of singleton bean &#39;org.springframework.boot.autoconfigure.AutoConfigurationPac&zwnj;&#8203;kages&#39; 18:04:33.471 [main] INFO com.registereureka.registereureka.RegistereurekaApplication - Started RegistereurekaApplication in 1.582 seconds (JVM running for 2.53)"},{"owner":{"account_id":28806510,"reputation":1,"user_id":22062251,"display_name":"mairiLou"},"score":0,"creation_date":1686593311,"post_id":76458852,"comment_id":134817217,"body_markdown":"rob spoor: yes it works, i run the app in intellij and it works","body":"rob spoor: yes it works, i run the app in intellij and it works"},{"owner":{"account_id":28806510,"reputation":1,"user_id":22062251,"display_name":"mairiLou"},"score":0,"creation_date":1686593317,"post_id":76458852,"comment_id":134817219,"body_markdown":"m deinum: it is just a eureka server app, nothing else...i have to make 4 spring boot apps (eureka server and 4 clients) and i need to put each one in docker containers","body":"m deinum: it is just a eureka server app, nothing else...i have to make 4 spring boot apps (eureka server and 4 clients) and i need to put each one in docker containers"}],"answers":[{"comments":[{"owner":{"account_id":28806510,"reputation":1,"user_id":22062251,"display_name":"mairiLou"},"score":0,"creation_date":1686605218,"post_id":76460251,"comment_id":134819248,"body_markdown":"hello, thank you for your answer...unfortunately the problem still remains, i tried it without the / and still got the SpringApplicationShutdownHook...i tried to follow you code example but still the same issue","body":"hello, thank you for your answer...unfortunately the problem still remains, i tried it without the / and still got the SpringApplicationShutdownHook...i tried to follow you code example but still the same issue"}],"tags":[],"owner":{"account_id":8362258,"reputation":1639,"user_id":6280135,"display_name":"Maninder"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686603117,"creation_date":1686603117,"answer_id":76460251,"question_id":76458852,"body_markdown":"This is my working code. Kindly try it:\r\n\r\n    FROM openjdk:17-jdk\r\n    ADD target/employee-crud-0.0.1-SNAPSHOT.jar app.jar\r\n    EXPOSE 9003\r\n    ENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;,&quot;app.jar&quot;]\r\n\r\nI think you are adding &quot;**/**&quot; along with **app.jar** in Entrypoint and it is not able to find the jar file. Try to remove **&quot;/&quot;** first and if it doesn&#39;t work, take my code as a reference. ","title":"docker container shuts down immediately","body":"<p>This is my working code. Kindly try it:</p>\n<pre><code>FROM openjdk:17-jdk\nADD target/employee-crud-0.0.1-SNAPSHOT.jar app.jar\nEXPOSE 9003\nENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;,&quot;app.jar&quot;]\n</code></pre>\n<p>I think you are adding &quot;<strong>/</strong>&quot; along with <strong>app.jar</strong> in Entrypoint and it is not able to find the jar file. Try to remove <strong>&quot;/&quot;</strong> first and if it doesn't work, take my code as a reference.</p>\n"}],"owner":{"account_id":28806510,"reputation":1,"user_id":22062251,"display_name":"mairiLou"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":107,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686603117,"creation_date":1686589470,"question_id":76458852,"body_markdown":"i am facing a problem...i have a spring boot app that i want to containerize..i built my image and when i run the container i get this message:\r\n\r\n\r\n```\r\n[SpringApplicationShutdownHook] DEBUG org.springframework.context.annotation.AnnotationConfigAppl\r\nicationContext - Closing org.springframework.context.annotation.AnnotationConfigApplicationContext\r\n```\r\n\r\nhas anyone faced something similar to that?i can&#39;t figure out what is the problem..\r\n\r\nthis is what i have on my Dockerfile\r\n\r\n\r\n```\r\nFROM openjdk:17-alpine\r\nARG JAR_FILE=target/*.jar\r\nADD ./target/registereureka.jar app.jar\r\nENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;,&quot;/app.jar&quot;]\r\n```\r\n\r\n\r\ni can&#39;t figure what is causing the problem","title":"docker container shuts down immediately","body":"<p>i am facing a problem...i have a spring boot app that i want to containerize..i built my image and when i run the container i get this message:</p>\n<pre><code>[SpringApplicationShutdownHook] DEBUG org.springframework.context.annotation.AnnotationConfigAppl\nicationContext - Closing org.springframework.context.annotation.AnnotationConfigApplicationContext\n</code></pre>\n<p>has anyone faced something similar to that?i can't figure out what is the problem..</p>\n<p>this is what i have on my Dockerfile</p>\n<pre><code>FROM openjdk:17-alpine\nARG JAR_FILE=target/*.jar\nADD ./target/registereureka.jar app.jar\nENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;,&quot;/app.jar&quot;]\n</code></pre>\n<p>i can't figure what is causing the problem</p>\n"},{"tags":["java","java-8","java-stream","short-circuiting"],"comments":[{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":0,"creation_date":1440456121,"post_id":32192846,"comment_id":52270824,"body_markdown":"&quot;may not&quot; as in &quot;might not&quot;, not as in &quot;not allowed to&quot;.","body":"&quot;may not&quot; as in &quot;might not&quot;, not as in &quot;not allowed to&quot;."},{"owner":{"account_id":4168230,"reputation":677,"user_id":4313215,"accept_rate":100,"display_name":"Koekje"},"score":0,"creation_date":1440456655,"post_id":32192846,"comment_id":52271002,"body_markdown":"@Andreas Yes, I&#39;m just not getting where the difference comes from. All can be short-circuited the way I&#39;m looking at it?","body":"@Andreas Yes, I&#39;m just not getting where the difference comes from. All can be short-circuited the way I&#39;m looking at it?"}],"answers":[{"comments":[{"owner":{"account_id":4168230,"reputation":677,"user_id":4313215,"accept_rate":100,"display_name":"Koekje"},"score":0,"creation_date":1440456561,"post_id":32192911,"comment_id":52270965,"body_markdown":"But it could also happen for the predicates, as soon as they aren(&#39;t) satisfied?","body":"But it could also happen for the predicates, as soon as they aren(&#39;t) satisfied?"}],"tags":[],"owner":{"account_id":1075870,"reputation":7152,"user_id":1074041,"accept_rate":100,"display_name":"Trevor Freeman"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1440456224,"creation_date":1440456224,"answer_id":32192911,"question_id":32192846,"body_markdown":"When the javadoc says &quot;may not short-circuit&quot; it is merely pointing out that it is not a short circuit operation and depending on the values, the entire stream may be processed.\r\n\r\n`findFirst` and `findAny` on the other hand, are guaranteed to short circuit since they never need to process the rest of the stream once they are satisfied.","title":"How does short-circuit work for Java 8 Streams?","body":"<p>When the javadoc says \"may not short-circuit\" it is merely pointing out that it is not a short circuit operation and depending on the values, the entire stream may be processed.</p>\n\n<p><code>findFirst</code> and <code>findAny</code> on the other hand, are guaranteed to short circuit since they never need to process the rest of the stream once they are satisfied.</p>\n"},{"comments":[{"owner":{"account_id":4168230,"reputation":677,"user_id":4313215,"accept_rate":100,"display_name":"Koekje"},"score":0,"creation_date":1440456450,"post_id":32192935,"comment_id":52270938,"body_markdown":"But anyMatch does as well?","body":"But anyMatch does as well?"},{"owner":{"display_name":"user3496378"},"score":0,"creation_date":1440456832,"post_id":32192935,"comment_id":52271062,"body_markdown":"If the last value was the match, then yes. Point is the Match methods will always return the same value on the same data set, but the Find methods aren&#39;t guaranteed that consistency because the order may differ.","body":"If the last value was the match, then yes. Point is the Match methods will always return the same value on the same data set, but the Find methods aren&#39;t guaranteed that consistency because the order may differ."},{"owner":{"display_name":"user3496378"},"score":0,"creation_date":1440456921,"post_id":32192935,"comment_id":52271094,"body_markdown":"This lack of consistency is the short circuiting described","body":"This lack of consistency is the short circuiting described"}],"tags":[],"owner":{"display_name":"user3496378"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1440457198,"creation_date":1440456409,"answer_id":32192935,"question_id":32192846,"body_markdown":"anyMatch, noneMatch and allMatch return boolean values, so they may have to check all to prove the logic.\n\nfindFirst and findAny just care about finding the first they can and returning that.\n\nEdit:\nFor a given dataset the Match methods are guaranteed to always return the same value, however the Find methods are not because the order may vary and affect which value is returned.\n\nThe short circuiting described is talking about the Find methods lacking consistency for a given dataset.","title":"How does short-circuit work for Java 8 Streams?","body":"<p>anyMatch, noneMatch and allMatch return boolean values, so they may have to check all to prove the logic.</p>\n\n<p>findFirst and findAny just care about finding the first they can and returning that.</p>\n\n<p>Edit:\nFor a given dataset the Match methods are guaranteed to always return the same value, however the Find methods are not because the order may vary and affect which value is returned.</p>\n\n<p>The short circuiting described is talking about the Find methods lacking consistency for a given dataset.</p>\n"},{"comments":[{"owner":{"account_id":9943,"reputation":28532,"user_id":18573,"accept_rate":56,"display_name":"Miserable Variable"},"score":1,"creation_date":1440457575,"post_id":32192942,"comment_id":52271286,"body_markdown":"From the blog: &quot;The operations allMatch, noneMatch and anyMatch may not short-circuit the stream at all since it may take evaluating all the values to determine whether the operator is true or false.&quot; This is obviously incorrect since `allMatch` can be determined to be false as soon as first non-match is found.","body":"From the blog: &quot;The operations allMatch, noneMatch and anyMatch may not short-circuit the stream at all since it may take evaluating all the values to determine whether the operator is true or false.&quot; This is obviously incorrect since <code>allMatch</code> can be determined to be false as soon as first non-match is found."},{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":0,"creation_date":1440457748,"post_id":32192942,"comment_id":52271339,"body_markdown":"@MiserableVariable As I said, blog post is wrong. They *can* all short-circuit. --- The blog is right that 3 of them may *potentially* run forever, but it says it all wrong.","body":"@MiserableVariable As I said, blog post is wrong. They <i>can</i> all short-circuit. --- The blog is right that 3 of them may <i>potentially</i> run forever, but it says it all wrong."}],"tags":[],"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"comment_count":2,"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1440457360,"creation_date":1440456456,"answer_id":32192942,"question_id":32192846,"body_markdown":"**Answer Updated**\r\n\r\nI&#39;d say the blog post is wrong when it says &quot;findFirst or findAny we only need the first value which matches the predicate&quot;.\r\n\r\nIn the javadoc for [allMatch(Predicate)][1], [anyMatch(Predicate)][2], [noneMatch(Predicate)][3], [findAny()][4], and [findFirst()][5]:\r\n\r\n&gt; This is a short-circuiting terminal operation.\r\n\r\nHowever, note that `findFirst` and `findAny` doesn&#39;t have a `Predicate`. So they can both return immediately upon seeing the first/any value. The other 3 are conditional and may loop forever if condition never fires.\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#allMatch-java.util.function.Predicate-\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#anyMatch-java.util.function.Predicate-\r\n  [3]: https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#noneMatch-java.util.function.Predicate-\r\n  [4]: https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#findAny--\r\n  [5]: https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#findFirst--","title":"How does short-circuit work for Java 8 Streams?","body":"<p><strong>Answer Updated</strong></p>\n\n<p>I'd say the blog post is wrong when it says \"findFirst or findAny we only need the first value which matches the predicate\".</p>\n\n<p>In the javadoc for <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#allMatch-java.util.function.Predicate-\" rel=\"noreferrer\">allMatch(Predicate)</a>, <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#anyMatch-java.util.function.Predicate-\" rel=\"noreferrer\">anyMatch(Predicate)</a>, <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#noneMatch-java.util.function.Predicate-\" rel=\"noreferrer\">noneMatch(Predicate)</a>, <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#findAny--\" rel=\"noreferrer\">findAny()</a>, and <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#findFirst--\" rel=\"noreferrer\">findFirst()</a>:</p>\n\n<blockquote>\n  <p>This is a short-circuiting terminal operation.</p>\n</blockquote>\n\n<p>However, note that <code>findFirst</code> and <code>findAny</code> doesn't have a <code>Predicate</code>. So they can both return immediately upon seeing the first/any value. The other 3 are conditional and may loop forever if condition never fires.</p>\n"},{"tags":[],"owner":{"account_id":4303461,"reputation":6948,"user_id":5171540,"display_name":"WillShackleford"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1440457012,"creation_date":1440457012,"answer_id":32193029,"question_id":32192846,"body_markdown":"According to Oracle&#39;s Stream Documentation:\r\n https://docs.oracle.com/javase/8/docs/api/java/util/stream/package-summary.html#StreamOps\r\n\r\n&gt;  A terminal operation is short-circuiting if, when presented with infinite input, it may terminate in finite time. Having a short-circuiting operation in the pipeline is a necessary, but not sufficient, condition for the processing of an infinite stream to terminate normally in finite time. \r\n\r\nAll five functions have the line:\r\n\r\n&gt; This is a short-circuiting terminal operation.\r\n\r\nIn the description of the function.","title":"How does short-circuit work for Java 8 Streams?","body":"<p>According to Oracle's Stream Documentation:\n <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/package-summary.html#StreamOps\" rel=\"noreferrer\">https://docs.oracle.com/javase/8/docs/api/java/util/stream/package-summary.html#StreamOps</a></p>\n\n<blockquote>\n  <p>A terminal operation is short-circuiting if, when presented with infinite input, it may terminate in finite time. Having a short-circuiting operation in the pipeline is a necessary, but not sufficient, condition for the processing of an infinite stream to terminate normally in finite time. </p>\n</blockquote>\n\n<p>All five functions have the line:</p>\n\n<blockquote>\n  <p>This is a short-circuiting terminal operation.</p>\n</blockquote>\n\n<p>In the description of the function.</p>\n"},{"comments":[{"owner":{"account_id":357783,"reputation":5020,"user_id":698168,"display_name":"Julien Kronegg"},"score":0,"creation_date":1557694075,"post_id":32194320,"comment_id":98841131,"body_markdown":"Does not answer to the question about `allMatch`.","body":"Does not answer to the question about <code>allMatch</code>."}],"tags":[],"owner":{"account_id":6243460,"reputation":97907,"user_id":4856258,"accept_rate":100,"display_name":"Tagir Valeev"},"comment_count":1,"down_vote_count":1,"up_vote_count":29,"is_accepted":true,"score":28,"last_activity_date":1468423940,"creation_date":1440467199,"answer_id":32194320,"question_id":32192846,"body_markdown":"There&#39;s a subtle difference, because `anyMatch` family uses a predicate, while `findAny` family does not. Technically `findAny()` looks like `anyMatch(x -&gt; true)` and `anyMatch(pred)` looks like `filter(pred).findAny()`. So here we have another issue. Consider we have a simple infinite stream:\r\n\r\n    Stream&lt;Integer&gt; s = Stream.generate(() -&gt; 1);\r\n\r\nSo it&#39;s true that applying `findAny()` to such stream will always short-circuit and finish while applying `anyMatch(pred)` depends on the predicate. However let&#39;s filter our infinite stream:\r\n\r\n    Stream&lt;Integer&gt; s = Stream.generate(() -&gt; 1).filter(x -&gt; x &lt; 0);\r\n\r\nIs the resulting stream infinite as well? That&#39;s a tricky question. It actually contains no elements, but to determine this (for example, using `.iterator().hasNext()`) we have to check the infinite number of underlying stream elements, so this operation will never finish. I would call such stream an infinite as well. However using such stream both `anyMatch` and `findAny` will never finish:\r\n\r\n    Stream.generate(() -&gt; 1).filter(x -&gt; x &lt; 0).anyMatch(x -&gt; true);\r\n    Stream.generate(() -&gt; 1).filter(x -&gt; x &lt; 0).findAny();\r\n\r\nSo `findAny()` is not guaranteed to finish either, it depends on the previous intermediate stream operations.\r\n\r\nTo conclude I would rate that blog-post as very misleading. In my opinion infinity stream behavior is better explained in official [JavaDoc](https://docs.oracle.com/javase/8/docs/api/java/util/stream/package-summary.html#StreamOps).","title":"How does short-circuit work for Java 8 Streams?","body":"<p>There's a subtle difference, because <code>anyMatch</code> family uses a predicate, while <code>findAny</code> family does not. Technically <code>findAny()</code> looks like <code>anyMatch(x -&gt; true)</code> and <code>anyMatch(pred)</code> looks like <code>filter(pred).findAny()</code>. So here we have another issue. Consider we have a simple infinite stream:</p>\n\n<pre><code>Stream&lt;Integer&gt; s = Stream.generate(() -&gt; 1);\n</code></pre>\n\n<p>So it's true that applying <code>findAny()</code> to such stream will always short-circuit and finish while applying <code>anyMatch(pred)</code> depends on the predicate. However let's filter our infinite stream:</p>\n\n<pre><code>Stream&lt;Integer&gt; s = Stream.generate(() -&gt; 1).filter(x -&gt; x &lt; 0);\n</code></pre>\n\n<p>Is the resulting stream infinite as well? That's a tricky question. It actually contains no elements, but to determine this (for example, using <code>.iterator().hasNext()</code>) we have to check the infinite number of underlying stream elements, so this operation will never finish. I would call such stream an infinite as well. However using such stream both <code>anyMatch</code> and <code>findAny</code> will never finish:</p>\n\n<pre><code>Stream.generate(() -&gt; 1).filter(x -&gt; x &lt; 0).anyMatch(x -&gt; true);\nStream.generate(() -&gt; 1).filter(x -&gt; x &lt; 0).findAny();\n</code></pre>\n\n<p>So <code>findAny()</code> is not guaranteed to finish either, it depends on the previous intermediate stream operations.</p>\n\n<p>To conclude I would rate that blog-post as very misleading. In my opinion infinity stream behavior is better explained in official <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/package-summary.html#StreamOps\" rel=\"noreferrer\">JavaDoc</a>.</p>\n"},{"tags":[],"owner":{"account_id":6948511,"reputation":131,"user_id":5331961,"accept_rate":0,"display_name":"Kai Liu"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645211659,"creation_date":1645211659,"answer_id":71178743,"question_id":32192846,"body_markdown":"```\r\nLongStream.range(0, Long.MAX_VALUE).allMatch(x -&gt; x &gt;= 0)\r\n\r\nLongStream.range(0, Long.MAX_VALUE).allMatch(x -&gt; x &gt; 0)\r\n```\r\n\r\nThe first one returns forever, the second one returns immediately","title":"How does short-circuit work for Java 8 Streams?","body":"<pre><code>LongStream.range(0, Long.MAX_VALUE).allMatch(x -&gt; x &gt;= 0)\n\nLongStream.range(0, Long.MAX_VALUE).allMatch(x -&gt; x &gt; 0)\n</code></pre>\n<p>The first one returns forever, the second one returns immediately</p>\n"}],"owner":{"account_id":4168230,"reputation":677,"user_id":4313215,"accept_rate":100,"display_name":"Koekje"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17988,"favorite_count":0,"down_vote_count":0,"up_vote_count":34,"accepted_answer_id":32194320,"answer_count":6,"score":34,"last_activity_date":1686603115,"creation_date":1440455822,"question_id":32192846,"body_markdown":"Reading up a bit on Java 8, I got to [this][1] blog post explaining a bit about streams and reduction of them, and when it would be possible to short-circuit the reduction. At the bottom it states: \r\n\r\n&gt;Note in the case of `findFirst` or `findAny` we only need the first value which matches the predicate (although `findAny` is not guaranteed to return the first). However if the stream has no ordering then weâd expect `findFirst` to behave like `findAny`. The operations `allMatch`, `noneMatch` and `anyMatch` may not short-circuit the stream at all since it may take evaluating all the values to determine whether the operator is `true` or `false`. Thus an infinite stream using these may not terminate.\r\n\r\nI get that `findFirst` or `findAny` may short-circuit the reduction, because as soon as you find an element, you do not need to process any further. \r\n\r\nBut why would this not be possible for `allMatch`, `noneMatch` and `anyMatch`? For `allMatch`, if you find one which doesn&#39;t match the predicate, you can stop processing. Same for none. And `anyMatch` especially doesn&#39;t make sense to me, as it it pretty much equal to `findAny` (except for what is returned)?\r\n\r\nSaying that these three may not short-circuit, because it may take evaluating all the values, could also be said for `findFirst/Any`.\r\n\r\nIs there some fundamental difference I&#39;m missing? Am I not really understanding what is going on?\r\n\r\n  [1]: https://thecannycoder.wordpress.com/2014/08/10/collectors-part-1-reductions-and-short-circuiting-operations%E2%80%8F/","title":"How does short-circuit work for Java 8 Streams?","body":"<p>Reading up a bit on Java 8, I got to <a href=\"https://thecannycoder.wordpress.com/2014/08/10/collectors-part-1-reductions-and-short-circuiting-operations%E2%80%8F/\" rel=\"nofollow noreferrer\">this</a> blog post explaining a bit about streams and reduction of them, and when it would be possible to short-circuit the reduction. At the bottom it states:</p>\n<blockquote>\n<p>Note in the case of <code>findFirst</code> or <code>findAny</code> we only need the first value which matches the predicate (although <code>findAny</code> is not guaranteed to return the first). However if the stream has no ordering then weâd expect <code>findFirst</code> to behave like <code>findAny</code>. The operations <code>allMatch</code>, <code>noneMatch</code> and <code>anyMatch</code> may not short-circuit the stream at all since it may take evaluating all the values to determine whether the operator is <code>true</code> or <code>false</code>. Thus an infinite stream using these may not terminate.</p>\n</blockquote>\n<p>I get that <code>findFirst</code> or <code>findAny</code> may short-circuit the reduction, because as soon as you find an element, you do not need to process any further.</p>\n<p>But why would this not be possible for <code>allMatch</code>, <code>noneMatch</code> and <code>anyMatch</code>? For <code>allMatch</code>, if you find one which doesn't match the predicate, you can stop processing. Same for none. And <code>anyMatch</code> especially doesn't make sense to me, as it it pretty much equal to <code>findAny</code> (except for what is returned)?</p>\n<p>Saying that these three may not short-circuit, because it may take evaluating all the values, could also be said for <code>findFirst/Any</code>.</p>\n<p>Is there some fundamental difference I'm missing? Am I not really understanding what is going on?</p>\n"},{"tags":["java","servlets","jakarta-ee","multipartform-data","requestdispatcher"],"comments":[{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1686583760,"post_id":76457927,"comment_id":134815197,"body_markdown":"Chances are, there is no third servlet &quot;configured&quot; in web.xml , try putting that into web.xml but I&#39;m reasonably sure the app will throw a loading error for resource not found on application deploy loading (if there is no actual class installed).","body":"Chances are, there is no third servlet &quot;configured&quot; in web.xml , try putting that into web.xml but I&#39;m reasonably sure the app will throw a loading error for resource not found on application deploy loading (if there is no actual class installed)."},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1686587351,"post_id":76457927,"comment_id":134816057,"body_markdown":"I would guess that the container checks if multipart handling is requested before the filter gets active, so in the cases that work, please check if the request coming into the filter is already prepared as a multipart request, and then if the same is true for the non-working configuration.","body":"I would guess that the container checks if multipart handling is requested before the filter gets active, so in the cases that work, please check if the request coming into the filter is already prepared as a multipart request, and then if the same is true for the non-working configuration."},{"owner":{"account_id":22235192,"reputation":35,"user_id":16470689,"display_name":"telos"},"score":0,"creation_date":1686600972,"post_id":76457927,"comment_id":134818514,"body_markdown":"@SamuelMarchant I made sure there is nothing configured in the web.xml file and only used annotations. The web.xml file literally only has the XML version element and the root element &lt;web-app&gt; with its attributes and nothing inside it","body":"@SamuelMarchant I made sure there is nothing configured in the web.xml file and only used annotations. The web.xml file literally only has the XML version element and the root element &lt;web-app&gt; with its attributes and nothing inside it"},{"owner":{"account_id":22235192,"reputation":35,"user_id":16470689,"display_name":"telos"},"score":0,"creation_date":1686602468,"post_id":76457927,"comment_id":134818783,"body_markdown":"@cyberbrain not sure what you exactly meant by checking the incoming request, I do the same check operations in the filter before sending them to the servlet, and same results in all cases, what ever happens when it gets to the servlet is the same in the Filter.\nHere is the source code if any one wants to test it out for them selves https://github.com/telos-matter/WeirdBehaviorInJEE","body":"@cyberbrain not sure what you exactly meant by checking the incoming request, I do the same check operations in the filter before sending them to the servlet, and same results in all cases, what ever happens when it gets to the servlet is the same in the Filter. Here is the source code if any one wants to test it out for them selves <a href=\"https://github.com/telos-matter/WeirdBehaviorInJEE\" rel=\"nofollow noreferrer\">github.com/telos-matter/WeirdBehaviorInJEE</a>"},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1686620693,"post_id":76457927,"comment_id":134820819,"body_markdown":"There is certainly no third servlet after the container checks, nothing in its annotation list. I wouldn&#39;t quite call that a bug but it would understand it is running without the name of that servlet to index parameters to, alike null for the name of the map object (on a map of servlet names). Perhaps get all &quot;servlet names and look for a null keynamed servlet but somehow I don&#39;t see that being good practice in software writing.","body":"There is certainly no third servlet after the container checks, nothing in its annotation list. I wouldn&#39;t quite call that a bug but it would understand it is running without the name of that servlet to index parameters to, alike null for the name of the map object (on a map of servlet names). Perhaps get all &quot;servlet names and look for a null keynamed servlet but somehow I don&#39;t see that being good practice in software writing."},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1686621136,"post_id":76457927,"comment_id":134820867,"body_markdown":"ALSO ! In Tomcat , it is NOT J2EE compliant ! E.g. the application (war) is a &quot;ServletContext&quot; object , whereas in J2EE compliant servers, it is an &quot;ApplicationContext&quot;.  The commercial TomEE version of tomcat is J2EE compliant.","body":"ALSO ! In Tomcat , it is NOT J2EE compliant ! E.g. the application (war) is a &quot;ServletContext&quot; object , whereas in J2EE compliant servers, it is an &quot;ApplicationContext&quot;.  The commercial TomEE version of tomcat is J2EE compliant."},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1686639922,"post_id":76457927,"comment_id":134822711,"body_markdown":"@SamuelMarchant but Tomcat supports the Servlet Standard - it&#39;s even linked on the documentation homepage.","body":"@SamuelMarchant but Tomcat supports the Servlet Standard - it&#39;s even linked on the documentation homepage."},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1686640042,"post_id":76457927,"comment_id":134822732,"body_markdown":"@telos In your failing configuration the container (Tomcat) cannot know that the servlet you want to access needs a multipart splitting, as you do not specify the target servlet at configuration time, but just redirect to it at runtime. So you can only access the body via the `InputStream` of the request.","body":"@telos In your failing configuration the container (Tomcat) cannot know that the servlet you want to access needs a multipart splitting, as you do not specify the target servlet at configuration time, but just redirect to it at runtime. So you can only access the body via the <code>InputStream</code> of the request."},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1686722887,"post_id":76457927,"comment_id":134836326,"body_markdown":"...&quot;Tomcat supports the Servlet Standard &quot;... True. You should understand in the filter whether your &quot;parameters&quot; existed, you filled in the form? If something is not &quot;registered&quot; it would be unwise practice to keep it anyhow. I find it valid to have any such problem to not be usable, it goes against all secure principals! In short, no matter the rejection , it is not a bug. Register it validly with the container app and service or it is to be treated as mistake or malware! In any case, you would want the BIND section of the server code to understand it and the Service object and Config.","body":"...&quot;Tomcat supports the Servlet Standard &quot;... True. You should understand in the filter whether your &quot;parameters&quot; existed, you filled in the form? If something is not &quot;registered&quot; it would be unwise practice to keep it anyhow. I find it valid to have any such problem to not be usable, it goes against all secure principals! In short, no matter the rejection , it is not a bug. Register it validly with the container app and service or it is to be treated as mistake or malware! In any case, you would want the BIND section of the server code to understand it and the Service object and Config."}],"owner":{"account_id":22235192,"reputation":35,"user_id":16470689,"display_name":"telos"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686602549,"creation_date":1686582023,"question_id":76457927,"body_markdown":"I came across this weird behavior in JEE and I don&#39;t know if it is an intended behavior or a bug, and I would like to know more about it if any of you have any knowledge about it, thank you in advance;\r\n\r\n# The behavior #\r\nWhen I send a multipart request to a non existing Servlet (i.e. I specify a non existing Servlet URL in the forms&#39; action) I&#39;m unable to retrieve the parameters or the parts, and I just get an empty map for the parameters and an empty collection for the parts\r\n\r\n# Setup #\r\nI have a main ```Filter``` in my web application mapped to intercept all request like so:\r\n```\r\n@WebFilter(&quot;/*&quot;)\r\npublic class Filter extends HttpFilter {\r\n```\r\nAnd two Servlet each mapped like so:\r\n```\r\n@WebServlet(&quot;/servA&quot;)\r\n@MultipartConfig(\r\n\t\tfileSizeThreshold = 1024 * 1024 * 1,\r\n\t\tmaxFileSize = 1024 * 1024 * 10,\r\n\t\tmaxRequestSize = 1024 * 1024 * 50\r\n\t\t)\r\npublic class ServletA extends HttpServlet {\r\n```\r\nAnd\r\n```\r\n@WebServlet(&quot;/servB&quot;)\r\n@MultipartConfig(\r\n\t\tfileSizeThreshold = 1024 * 1024 * 1,\r\n\t\tmaxFileSize = 1024 * 1024 * 10,\r\n\t\tmaxRequestSize = 1024 * 1024 * 50\r\n\t\t)\r\npublic class ServletB extends HttpServlet {\r\n```\r\nThe filter receives all the requests and *sends* them to one of the two Servlets, and then the Servlets try to retrieve the parameters and parts of the request\r\n\r\n# Tests #\r\nI tried multiple stuff to pinpoint the problem exactly and my experiments went like this\r\n\r\n## Sending the request trough ```chain.doFilter``` ##\r\nIn the forms&#39; action I specified, in the first time, the URL for the the first Servlet like so ```&lt;form method=&quot;post&quot; action=&quot;http://localhost:8080/TestBug/servA&quot; enctype=&quot;multipart/form-data&quot;&gt;``` and in the ```Filter``` I call the ```chain.doFilter``` method and the process goes as expected, everything works fine and the Servlet is able to retrieve the parameters and parts sent with the form. Same thing for when I specify the second Servlet the second time like so ```&lt;form method=&quot;post&quot; action=&quot;http://localhost:8080/TestBug/servB&quot; enctype=&quot;multipart/form-data&quot;&gt;```, it works as expected. I also tried specifying a non existing Servlet like so ```&lt;form method=&quot;post&quot; action=&quot;http://localhost:8080/TestBug/foo&quot; enctype=&quot;multipart/form-data&quot;&gt;``` and as expected I get a **404 - Not found** response.\r\nThis first test was done just to make sure everything is working fine, and that the ```@MultipartConfig``` annotations are well set and that everything is mapped correctly\r\n\r\n## Sending the request trough ```requestDispatcher.forward``` ##\r\nNow here is where the weird behavior occurs, at first I specify ```ServletA``` in the forms&#39; action and in the ```Filter``` I call ```request.getRequestDispatcher(&quot;/servA&quot;).forward(request, response);``` on the received requests, this works fine. I try the same thing with ```ServletB```, changing both the forms&#39; action and the requestDispatcher, also works fine.\r\n\r\nThen I specify ```ServletA``` in the forms&#39; action but in the ```Filter``` I forward the request to ```ServletB```, and everything works fine. ```ServletB``` is able to retrieve the parameters and the parts. Same thing when i reverse it, now specifying ```ServletB``` in the forms&#39; action but in the filter I forward it to ```ServletA```, it works just fine, ```ServletA``` is able to retrieve the parameters and parts even though the request was originally made to ```ServletB```\r\n\r\n**BUT** when I specify a non existing Servlet in the forms&#39; action, for example like so ```&lt;form method=&quot;post&quot; action=&quot;http://localhost:8080/TestBug/foo&quot; enctype=&quot;multipart/form-data&quot;&gt;``` and I forward it in ```Filter``` to either ```ServletA``` or ```ServletB``` they are both unable to retrieve the parameters or the parts and instead they just return an empty map when calling ```request.getParameterMap``` and an empty collection when calling ```request.getParts()```\r\n\r\n### Notes ###\r\nI tried this on Tomcat V10 and Glassfish V7 and I got the same results, which led me to believe that it is something to do with JEE specifications\r\n\r\nThat is the behavior I encountered, as I said, I would be thankful for  any informations about it or any leads or direction on where to read more about it, or maybe it&#39;s something else completely\r\n\r\n### Quick-**dirty**-fix ###\r\nI found a makeshift solution to this behavior that works for my case and for the way that made me encounter it in the first place, which is to simply declare another Servlet like so\r\n```\r\n@WebServlet(&quot;/*&quot;)\r\n@MultipartConfig(\r\n\t\tfileSizeThreshold = 1024 * 1024 * 1,\r\n\t\tmaxFileSize = 1024 * 1024 * 10,\r\n\t\tmaxRequestSize = 1024 * 1024 * 50\r\n\t\t)\r\npublic class ServletM extends HttpServlet {\r\n```\r\nand then forbid making any request to it, and continue using your normal Servlets\r\n\r\n### Source code ###\r\nHere is the [source code](https://github.com/telos-matter/WeirdBehaviorInJEE) if any one wants to try it out for themselves","title":"A bug or a feature in JEE when sending multipart requests to a non existing Servlet?","body":"<p>I came across this weird behavior in JEE and I don't know if it is an intended behavior or a bug, and I would like to know more about it if any of you have any knowledge about it, thank you in advance;</p>\n<h1>The behavior</h1>\n<p>When I send a multipart request to a non existing Servlet (i.e. I specify a non existing Servlet URL in the forms' action) I'm unable to retrieve the parameters or the parts, and I just get an empty map for the parameters and an empty collection for the parts</p>\n<h1>Setup</h1>\n<p>I have a main <code>Filter</code> in my web application mapped to intercept all request like so:</p>\n<pre><code>@WebFilter(&quot;/*&quot;)\npublic class Filter extends HttpFilter {\n</code></pre>\n<p>And two Servlet each mapped like so:</p>\n<pre><code>@WebServlet(&quot;/servA&quot;)\n@MultipartConfig(\n        fileSizeThreshold = 1024 * 1024 * 1,\n        maxFileSize = 1024 * 1024 * 10,\n        maxRequestSize = 1024 * 1024 * 50\n        )\npublic class ServletA extends HttpServlet {\n</code></pre>\n<p>And</p>\n<pre><code>@WebServlet(&quot;/servB&quot;)\n@MultipartConfig(\n        fileSizeThreshold = 1024 * 1024 * 1,\n        maxFileSize = 1024 * 1024 * 10,\n        maxRequestSize = 1024 * 1024 * 50\n        )\npublic class ServletB extends HttpServlet {\n</code></pre>\n<p>The filter receives all the requests and <em>sends</em> them to one of the two Servlets, and then the Servlets try to retrieve the parameters and parts of the request</p>\n<h1>Tests</h1>\n<p>I tried multiple stuff to pinpoint the problem exactly and my experiments went like this</p>\n<h2>Sending the request trough <code>chain.doFilter</code></h2>\n<p>In the forms' action I specified, in the first time, the URL for the the first Servlet like so <code>&lt;form method=&quot;post&quot; action=&quot;http://localhost:8080/TestBug/servA&quot; enctype=&quot;multipart/form-data&quot;&gt;</code> and in the <code>Filter</code> I call the <code>chain.doFilter</code> method and the process goes as expected, everything works fine and the Servlet is able to retrieve the parameters and parts sent with the form. Same thing for when I specify the second Servlet the second time like so <code>&lt;form method=&quot;post&quot; action=&quot;http://localhost:8080/TestBug/servB&quot; enctype=&quot;multipart/form-data&quot;&gt;</code>, it works as expected. I also tried specifying a non existing Servlet like so <code>&lt;form method=&quot;post&quot; action=&quot;http://localhost:8080/TestBug/foo&quot; enctype=&quot;multipart/form-data&quot;&gt;</code> and as expected I get a <strong>404 - Not found</strong> response.\nThis first test was done just to make sure everything is working fine, and that the <code>@MultipartConfig</code> annotations are well set and that everything is mapped correctly</p>\n<h2>Sending the request trough <code>requestDispatcher.forward</code></h2>\n<p>Now here is where the weird behavior occurs, at first I specify <code>ServletA</code> in the forms' action and in the <code>Filter</code> I call <code>request.getRequestDispatcher(&quot;/servA&quot;).forward(request, response);</code> on the received requests, this works fine. I try the same thing with <code>ServletB</code>, changing both the forms' action and the requestDispatcher, also works fine.</p>\n<p>Then I specify <code>ServletA</code> in the forms' action but in the <code>Filter</code> I forward the request to <code>ServletB</code>, and everything works fine. <code>ServletB</code> is able to retrieve the parameters and the parts. Same thing when i reverse it, now specifying <code>ServletB</code> in the forms' action but in the filter I forward it to <code>ServletA</code>, it works just fine, <code>ServletA</code> is able to retrieve the parameters and parts even though the request was originally made to <code>ServletB</code></p>\n<p><strong>BUT</strong> when I specify a non existing Servlet in the forms' action, for example like so <code>&lt;form method=&quot;post&quot; action=&quot;http://localhost:8080/TestBug/foo&quot; enctype=&quot;multipart/form-data&quot;&gt;</code> and I forward it in <code>Filter</code> to either <code>ServletA</code> or <code>ServletB</code> they are both unable to retrieve the parameters or the parts and instead they just return an empty map when calling <code>request.getParameterMap</code> and an empty collection when calling <code>request.getParts()</code></p>\n<h3>Notes</h3>\n<p>I tried this on Tomcat V10 and Glassfish V7 and I got the same results, which led me to believe that it is something to do with JEE specifications</p>\n<p>That is the behavior I encountered, as I said, I would be thankful for  any informations about it or any leads or direction on where to read more about it, or maybe it's something else completely</p>\n<h3>Quick-<strong>dirty</strong>-fix</h3>\n<p>I found a makeshift solution to this behavior that works for my case and for the way that made me encounter it in the first place, which is to simply declare another Servlet like so</p>\n<pre><code>@WebServlet(&quot;/*&quot;)\n@MultipartConfig(\n        fileSizeThreshold = 1024 * 1024 * 1,\n        maxFileSize = 1024 * 1024 * 10,\n        maxRequestSize = 1024 * 1024 * 50\n        )\npublic class ServletM extends HttpServlet {\n</code></pre>\n<p>and then forbid making any request to it, and continue using your normal Servlets</p>\n<h3>Source code</h3>\n<p>Here is the <a href=\"https://github.com/telos-matter/WeirdBehaviorInJEE\" rel=\"nofollow noreferrer\">source code</a> if any one wants to try it out for themselves</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":13113788,"reputation":10080,"user_id":9473786,"display_name":"Tyler V"},"score":0,"creation_date":1686599208,"post_id":76459832,"comment_id":134818227,"body_markdown":"From your logs, it would seem that `takePictureIntent.resolveActivity(getPackageManager())` returns null since none of the log statements inside that `if` are output. So maybe there is no camera activity?","body":"From your logs, it would seem that <code>takePictureIntent.resolveActivity(getPackageManager())</code> returns null since none of the log statements inside that <code>if</code> are output. So maybe there is no camera activity?"},{"owner":{"account_id":28807335,"reputation":1,"user_id":22062902,"display_name":"Cosmina"},"score":0,"creation_date":1686599634,"post_id":76459832,"comment_id":134818282,"body_markdown":"Hi @TylerV, for me the camera seemed to work just fine as it shows the activity in the emulator. I have updated the code for the methods I am using as well, also I have the permission in the manifest file &lt;uses-permission android:name=&quot;android.permission.CAMERA&quot; /&gt;","body":"Hi @TylerV, for me the camera seemed to work just fine as it shows the activity in the emulator. I have updated the code for the methods I am using as well, also I have the permission in the manifest file &lt;uses-permission android:name=&quot;android.permission.CAMERA&quot; /&gt;"},{"owner":{"account_id":13113788,"reputation":10080,"user_id":9473786,"display_name":"Tyler V"},"score":1,"creation_date":1686599914,"post_id":76459832,"comment_id":134818326,"body_markdown":"You may find [this](https://stackoverflow.com/questions/49435522/error-no-activity-found-to-handle-intent-act-android-media-action-image-capture) relevant. Try removing that if-check on `takePictureIntent.resolveActivity(getPackageManager())` entirely and see what happens (if it fails, you will probably get a more useful error message).","body":"You may find <a href=\"https://stackoverflow.com/questions/49435522/error-no-activity-found-to-handle-intent-act-android-media-action-image-capture\">this</a> relevant. Try removing that if-check on <code>takePictureIntent.resolveActivity(getPackageManager())</code> entirely and see what happens (if it fails, you will probably get a more useful error message)."},{"owner":{"account_id":28807335,"reputation":1,"user_id":22062902,"display_name":"Cosmina"},"score":0,"creation_date":1686600402,"post_id":76459832,"comment_id":134818401,"body_markdown":"@TylerV I tried to remove the if check and no errors were shown, nothing changed, same logs and all. :(","body":"@TylerV I tried to remove the if check and no errors were shown, nothing changed, same logs and all. :("},{"owner":{"account_id":13113788,"reputation":10080,"user_id":9473786,"display_name":"Tyler V"},"score":0,"creation_date":1686600769,"post_id":76459832,"comment_id":134818470,"body_markdown":"You have a log statement right after the &quot;if&quot; - it&#39;s not possible that it didn&#39;t output (the &quot;Method createImageFile called&quot; output). Update the code to show what you tried with the if-statement removed.","body":"You have a log statement right after the &quot;if&quot; - it&#39;s not possible that it didn&#39;t output (the &quot;Method createImageFile called&quot; output). Update the code to show what you tried with the if-statement removed."},{"owner":{"account_id":28807335,"reputation":1,"user_id":22062902,"display_name":"Cosmina"},"score":0,"creation_date":1686602273,"post_id":76459832,"comment_id":134818743,"body_markdown":"@TylerV I have update the code with the information provided in https://stackoverflow.com/questions/49435522/error-no-activity-found-to-handle-intent-act-android-media-action-image-capture","body":"@TylerV I have update the code with the information provided in <a href=\"https://stackoverflow.com/questions/49435522/error-no-activity-found-to-handle-intent-act-android-media-action-image-capture\" title=\"error no activity found to handle intent act android media action image capture\">stackoverflow.com/questions/49435522/&hellip;</a>"},{"owner":{"account_id":13113788,"reputation":10080,"user_id":9473786,"display_name":"Tyler V"},"score":0,"creation_date":1686609276,"post_id":76459832,"comment_id":134819725,"body_markdown":"But you haven&#39;t updated the logs, you still have the `resolveActivity` if-statement, and now `dispatchTakePictureIntent` doesn&#39;t have the log statements it had previously. A lot of things could cause it to not launch the intent (`resolveActivity` returning null, `photoFile` being null) - you need to figure out which of those it&#39;s hitting and ask a *specific* question about it.","body":"But you haven&#39;t updated the logs, you still have the <code>resolveActivity</code> if-statement, and now <code>dispatchTakePictureIntent</code> doesn&#39;t have the log statements it had previously. A lot of things could cause it to not launch the intent (<code>resolveActivity</code> returning null, <code>photoFile</code> being null) - you need to figure out which of those it&#39;s hitting and ask a <i>specific</i> question about it."}],"owner":{"account_id":28807335,"reputation":1,"user_id":22062902,"display_name":"Cosmina"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686602198,"creation_date":1686598967,"question_id":76459832,"body_markdown":"I have been working on a facial expression detection application using Android Studio with java and I have a few issues that I can&#39;t figure out.\r\n\r\nShortly, this application uses the camera to take a picture, display it in image_view and then run the facial expression detection. My main issue is that when I press the button nothing happens. I have added logs for my methods but only the ones inside the captureButton seem to appear in Logcat. Could you help me understand why is this happening? Why it doesn&#39;t capture the image and then display it in image_view?\r\n\r\nThis is my MainActivity.java file (I have a few more methods I did not attach that concern the camera view / usage / permission but I excluded them as I don&#39;t think they are relevant for this issue, that part works just fine)\r\n\r\n```\r\n\r\npublic class MainActivity extends AppCompatActivity implements SurfaceHolder.Callback {\r\n\r\n    private static final int REQUEST_IMAGE_CAPTURE = 1;\r\n    private static final int REQUEST_PERMISSIONS = 2;\r\n\r\n    private Camera camera;\r\n    private ImageView imageView;\r\n    private TextView resultTextView;\r\n    private SurfaceView cameraPreview;\r\n    private String currentPhotoPath;\r\n\r\n    private MultiLayerNetwork neuralNetwork;\r\n    private Bitmap imageBitmap;\r\n\r\n    Button captureButton;\r\n\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        Log.d(&quot;onCreateMethod&quot;, &quot;Start the onCreate method&quot;);\r\n\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        captureButton = findViewById(R.id.capture_button);\r\n        imageView = findViewById(R.id.image_view);\r\n        resultTextView = findViewById(R.id.result_text_view);\r\n        cameraPreview = findViewById(R.id.camera_preview);\r\n        cameraPreview.getHolder().addCallback(this);\r\n\r\n\r\n        captureButton.setOnClickListener(v -&gt; {\r\n            // Check if the camera permission is granted\r\n            if (ActivityCompat.checkSelfPermission(MainActivity.this, Manifest.permission.CAMERA)\r\n                    != PackageManager.PERMISSION_GRANTED) {\r\n                // Request the camera permission\r\n                ActivityCompat.requestPermissions(MainActivity.this,\r\n                        new String[]{Manifest.permission.CAMERA}, REQUEST_PERMISSIONS);\r\n            } else {\r\n                // Launch the camera activity\r\n\r\n                Log.d(&quot;dispatchInButton&quot;, &quot;Dispatch intent in button activity&quot;);\r\n                dispatchTakePictureIntent();\r\n                Log.d(&quot;Button&quot;, &quot;Capture button clicked&quot;);\r\n            }\r\n        });\r\n\r\n        // Load the neural network from the saved model\r\n        try {\r\n            neuralNetwork = ModelSerializer.restoreMultiLayerNetwork(getAssets().open(&quot;model.zip&quot;));\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n   private File createImageFile() throws IOException {\r\n        // Create an image file name\r\n        String timeStamp = new SimpleDateFormat(&quot;yyyyMMdd_HHmmss&quot;).format(new Date());\r\n        String imageFileName = &quot;JPEG_&quot; + timeStamp + &quot;_&quot;;\r\n        File storageDir = getExternalFilesDir(Environment.DIRECTORY_PICTURES);\r\n        File imageFile = File.createTempFile(\r\n                imageFileName,  /* prefix */\r\n                &quot;.jpg&quot;,         /* suffix */\r\n                storageDir      /* directory */\r\n        );\r\n\r\n        // Save a file path for use with ACTION_VIEW intents\r\n        currentPhotoPath = imageFile.getAbsolutePath();\r\n        return imageFile;\r\n    }\r\n\r\n    private void dispatchTakePictureIntent() {\r\n        Intent takePictureIntent = new Intent(MediaStore.ACTION_IMAGE_CAPTURE);\r\n\r\n        // Ensure that there&#39;s a camera activity to handle the intent\r\n        if (takePictureIntent.resolveActivity(getPackageManager()) != null) {\r\n            // Create the File where the photo should go\r\n            File photoFile = null;\r\n            try {\r\n                photoFile = createImageFile();\r\n            } catch (IOException ex) {\r\n                ex.printStackTrace();\r\n            }\r\n            // Continue only if the File was successfully created\r\n            if (photoFile != null) {\r\n                Uri photoURI = FileProvider.getUriForFile(MainActivity.this, &quot;com.example.newact.fileprovider&quot;, photoFile);\r\n                takePictureIntent.putExtra(MediaStore.EXTRA_OUTPUT, photoURI);\r\n                startActivityForResult(takePictureIntent, REQUEST_IMAGE_CAPTURE);\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    @Override\r\n    protected void onActivityResult(int requestCode, int resultCode, Intent data) {\r\n        super.onActivityResult(requestCode, resultCode, data);\r\n\r\n\r\n        if (requestCode == REQUEST_IMAGE_CAPTURE &amp;&amp; resultCode == RESULT_OK) {\r\n            // Load the captured image from file path\r\n            Bundle extras = data.getExtras();\r\n            Bitmap capturedImage = (Bitmap) extras.get(&quot;data&quot;);\r\n           // Bitmap capturedImage = BitmapFactory.decodeFile(currentPhotoPath);\r\n            Log.d(&quot;onActivRes&quot;, &quot;begin onActivRes method&quot;);\r\n            // Display the captured image\r\n            imageView.setImageBitmap(capturedImage);\r\n\r\n            // Recognize the facial expression\r\n            FacialExpressionRecognizer recognizer = new FacialExpressionRecognizer(neuralNetwork);\r\n            String expression = recognizer.recognize(capturedImage);\r\n\r\n            // Display the recognized expression\r\n            resultTextView.setText(&quot;Recognized expression: &quot; + expression);\r\n\r\n            // Save the image and recognized expression to Firebase Storage and Firestore\r\n            FirebaseImageUploader.uploadImage(capturedImage, new FirebaseImageUploader.ImageUploadCallback() {\r\n                @Override\r\n                public void onImageUploaded(String imageUrl) {\r\n                    // Save the timestamp and recognized expression to Firestore\r\n                    FirebaseExpressionSaver expressionSaver = new FirebaseExpressionSaver();\r\n                    expressionSaver.saveExpression(expression, new FirebaseExpressionSaver.ExpressionSaveCallback() {\r\n                        @Override\r\n                        public void onExpressionSaved() {\r\n                            // Expression save successful\r\n                            Toast.makeText(MainActivity.this, &quot;Expression saved to Firebase&quot;, Toast.LENGTH_SHORT).show();\r\n                        }\r\n\r\n                        @Override\r\n                        public void onExpressionSaveFailed(Exception e) {\r\n                            // Expression save failed\r\n                            Toast.makeText(MainActivity.this, &quot;Failed to save expression to Firebase&quot;, Toast.LENGTH_SHORT).show();\r\n                        }\r\n\r\n                        @Override\r\n                        public void onSuccess() {\r\n                            // Handle the successful saving of the expression here\r\n                        }\r\n\r\n                        @Override\r\n                        public void onFailure(Exception e) {\r\n                            // Handle the failure of saving the expression here\r\n                        }\r\n                    });\r\n                }\r\n\r\n                @Override\r\n                public void onImageUploadFailed(Exception e) {\r\n                    // Image upload failed\r\n                    Toast.makeText(MainActivity.this, &quot;Failed to upload image to Firebase&quot;, Toast.LENGTH_SHORT).show();\r\n                }\r\n                @Override\r\n                public void onSuccess(String imageUrl) {\r\n                    // Handle the successful upload of the image here\r\n                }\r\n                @Override\r\n                public void onFailure(Exception e) {\r\n                    // Handle the failure of the image upload here\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n```\r\n\r\nPlease let me know your input on this!\r\n\r\n\r\nI have been trying to use logs and see what works and where it stops, but I have come as far as this:\r\n\r\n(https://i.stack.imgur.com/9GJF8.png)\r\n\r\nAdded the other methods in the MainActivity.java as well:\r\n\r\n    \r\n    @Override\r\n    public void onRequestPermissionsResult(int requestCode, String[] permissions, int[] grantResults) {\r\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults);\r\n\r\n        if (requestCode == REQUEST_PERMISSIONS) {\r\n            if (grantResults.length &gt; 0 &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {\r\n                // Permission granted, launch the camera activity\r\n                dispatchTakePictureIntent();\r\n            } else {\r\n                // Permission denied, show a message or handle the case accordingly\r\n                Toast.makeText(this, &quot;Camera permission denied&quot;, Toast.LENGTH_SHORT).show();\r\n            }\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void surfaceCreated(SurfaceHolder holder) {\r\n        try {\r\n            camera = Camera.open();\r\n            setCameraDisplayOrientation();\r\n            camera.setPreviewDisplay(holder);\r\n            camera.startPreview();\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n    private void setCameraDisplayOrientation() {\r\n        Camera.CameraInfo info = new Camera.CameraInfo();\r\n        Camera.getCameraInfo(Camera.CameraInfo.CAMERA_FACING_BACK, info);\r\n        int rotation = getWindowManager().getDefaultDisplay().getRotation();\r\n        int degrees = 0;\r\n        switch (rotation) {\r\n            case Surface.ROTATION_0:\r\n                degrees = 0;\r\n                break;\r\n            case Surface.ROTATION_90:\r\n                degrees = 90;\r\n                break;\r\n            case Surface.ROTATION_180:\r\n                degrees = 180;\r\n                break;\r\n            case Surface.ROTATION_270:\r\n                degrees = 270;\r\n                break;\r\n        }\r\n        int result;\r\n        if (info.facing == Camera.CameraInfo.CAMERA_FACING_FRONT) {\r\n            result = (info.orientation + degrees) % 360;\r\n            result = (360 - result) % 360; // compensate for the mirror effect\r\n        } else {\r\n            result = (info.orientation - degrees + 360) % 360;\r\n        }\r\n        camera.setDisplayOrientation(result);\r\n    }\r\n\r\n    @Override\r\n    public void surfaceChanged(SurfaceHolder holder, int format, int width, int height) {\r\n        if (camera != null) {\r\n            // Stop the preview\r\n            camera.stopPreview();\r\n\r\n            // Set the camera parameters\r\n            Camera.Parameters parameters = camera.getParameters();\r\n            Camera.Size optimalSize = getOptimalPreviewSize(parameters.getSupportedPreviewSizes(), width, height);\r\n            parameters.setPreviewSize(optimalSize.width, optimalSize.height);\r\n\r\n            // Rotate the camera preview by 0 degrees to the right\r\n            camera.setDisplayOrientation(0);\r\n\r\n            // Apply the updated parameters\r\n            camera.setParameters(parameters);\r\n\r\n            // Start the preview\r\n            camera.startPreview();\r\n        }\r\n    }\r\n\r\n    private Camera.Size getOptimalPreviewSize(List&lt;Camera.Size&gt; supportedPreviewSizes, int width, int height) {\r\n        final double ASPECT_TOLERANCE = 0.1;\r\n        double targetRatio = (double) width / height;\r\n\r\n        Camera.Size optimalSize = null;\r\n        double minDiff = Double.MAX_VALUE;\r\n\r\n        for (Camera.Size size : supportedPreviewSizes) {\r\n            double ratio = (double) size.width / size.height;\r\n            if (Math.abs(ratio - targetRatio) &gt; ASPECT_TOLERANCE)\r\n                continue;\r\n\r\n            double diff = Math.abs(size.width - width) + Math.abs(size.height - height);\r\n            if (diff &lt; minDiff) {\r\n                optimalSize = size;\r\n                minDiff = diff;\r\n            }\r\n        }\r\n\r\n        if (optimalSize == null) {\r\n            minDiff = Double.MAX_VALUE;\r\n            for (Camera.Size size : supportedPreviewSizes) {\r\n                double diff = Math.abs(size.width - width) + Math.abs(size.height - height);\r\n                if (diff &lt; minDiff) {\r\n                    optimalSize = size;\r\n                    minDiff = diff;\r\n                }\r\n            }\r\n        }\r\n\r\n        return optimalSize;\r\n    }\r\n\r\n    @Override\r\n    public void surfaceDestroyed(SurfaceHolder holder) {\r\n        if (camera != null) {\r\n            camera.stopPreview();\r\n            camera.release();\r\n            camera = null;\r\n        }\r\n    }\r\n\r\n","title":"Facial Expression Detection App - button not working as desired, no error message","body":"<p>I have been working on a facial expression detection application using Android Studio with java and I have a few issues that I can't figure out.</p>\n<p>Shortly, this application uses the camera to take a picture, display it in image_view and then run the facial expression detection. My main issue is that when I press the button nothing happens. I have added logs for my methods but only the ones inside the captureButton seem to appear in Logcat. Could you help me understand why is this happening? Why it doesn't capture the image and then display it in image_view?</p>\n<p>This is my MainActivity.java file (I have a few more methods I did not attach that concern the camera view / usage / permission but I excluded them as I don't think they are relevant for this issue, that part works just fine)</p>\n<pre><code>\npublic class MainActivity extends AppCompatActivity implements SurfaceHolder.Callback {\n\n    private static final int REQUEST_IMAGE_CAPTURE = 1;\n    private static final int REQUEST_PERMISSIONS = 2;\n\n    private Camera camera;\n    private ImageView imageView;\n    private TextView resultTextView;\n    private SurfaceView cameraPreview;\n    private String currentPhotoPath;\n\n    private MultiLayerNetwork neuralNetwork;\n    private Bitmap imageBitmap;\n\n    Button captureButton;\n\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        Log.d(&quot;onCreateMethod&quot;, &quot;Start the onCreate method&quot;);\n\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        captureButton = findViewById(R.id.capture_button);\n        imageView = findViewById(R.id.image_view);\n        resultTextView = findViewById(R.id.result_text_view);\n        cameraPreview = findViewById(R.id.camera_preview);\n        cameraPreview.getHolder().addCallback(this);\n\n\n        captureButton.setOnClickListener(v -&gt; {\n            // Check if the camera permission is granted\n            if (ActivityCompat.checkSelfPermission(MainActivity.this, Manifest.permission.CAMERA)\n                    != PackageManager.PERMISSION_GRANTED) {\n                // Request the camera permission\n                ActivityCompat.requestPermissions(MainActivity.this,\n                        new String[]{Manifest.permission.CAMERA}, REQUEST_PERMISSIONS);\n            } else {\n                // Launch the camera activity\n\n                Log.d(&quot;dispatchInButton&quot;, &quot;Dispatch intent in button activity&quot;);\n                dispatchTakePictureIntent();\n                Log.d(&quot;Button&quot;, &quot;Capture button clicked&quot;);\n            }\n        });\n\n        // Load the neural network from the saved model\n        try {\n            neuralNetwork = ModelSerializer.restoreMultiLayerNetwork(getAssets().open(&quot;model.zip&quot;));\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n   private File createImageFile() throws IOException {\n        // Create an image file name\n        String timeStamp = new SimpleDateFormat(&quot;yyyyMMdd_HHmmss&quot;).format(new Date());\n        String imageFileName = &quot;JPEG_&quot; + timeStamp + &quot;_&quot;;\n        File storageDir = getExternalFilesDir(Environment.DIRECTORY_PICTURES);\n        File imageFile = File.createTempFile(\n                imageFileName,  /* prefix */\n                &quot;.jpg&quot;,         /* suffix */\n                storageDir      /* directory */\n        );\n\n        // Save a file path for use with ACTION_VIEW intents\n        currentPhotoPath = imageFile.getAbsolutePath();\n        return imageFile;\n    }\n\n    private void dispatchTakePictureIntent() {\n        Intent takePictureIntent = new Intent(MediaStore.ACTION_IMAGE_CAPTURE);\n\n        // Ensure that there's a camera activity to handle the intent\n        if (takePictureIntent.resolveActivity(getPackageManager()) != null) {\n            // Create the File where the photo should go\n            File photoFile = null;\n            try {\n                photoFile = createImageFile();\n            } catch (IOException ex) {\n                ex.printStackTrace();\n            }\n            // Continue only if the File was successfully created\n            if (photoFile != null) {\n                Uri photoURI = FileProvider.getUriForFile(MainActivity.this, &quot;com.example.newact.fileprovider&quot;, photoFile);\n                takePictureIntent.putExtra(MediaStore.EXTRA_OUTPUT, photoURI);\n                startActivityForResult(takePictureIntent, REQUEST_IMAGE_CAPTURE);\n            }\n        }\n    }\n\n\n    @Override\n    protected void onActivityResult(int requestCode, int resultCode, Intent data) {\n        super.onActivityResult(requestCode, resultCode, data);\n\n\n        if (requestCode == REQUEST_IMAGE_CAPTURE &amp;&amp; resultCode == RESULT_OK) {\n            // Load the captured image from file path\n            Bundle extras = data.getExtras();\n            Bitmap capturedImage = (Bitmap) extras.get(&quot;data&quot;);\n           // Bitmap capturedImage = BitmapFactory.decodeFile(currentPhotoPath);\n            Log.d(&quot;onActivRes&quot;, &quot;begin onActivRes method&quot;);\n            // Display the captured image\n            imageView.setImageBitmap(capturedImage);\n\n            // Recognize the facial expression\n            FacialExpressionRecognizer recognizer = new FacialExpressionRecognizer(neuralNetwork);\n            String expression = recognizer.recognize(capturedImage);\n\n            // Display the recognized expression\n            resultTextView.setText(&quot;Recognized expression: &quot; + expression);\n\n            // Save the image and recognized expression to Firebase Storage and Firestore\n            FirebaseImageUploader.uploadImage(capturedImage, new FirebaseImageUploader.ImageUploadCallback() {\n                @Override\n                public void onImageUploaded(String imageUrl) {\n                    // Save the timestamp and recognized expression to Firestore\n                    FirebaseExpressionSaver expressionSaver = new FirebaseExpressionSaver();\n                    expressionSaver.saveExpression(expression, new FirebaseExpressionSaver.ExpressionSaveCallback() {\n                        @Override\n                        public void onExpressionSaved() {\n                            // Expression save successful\n                            Toast.makeText(MainActivity.this, &quot;Expression saved to Firebase&quot;, Toast.LENGTH_SHORT).show();\n                        }\n\n                        @Override\n                        public void onExpressionSaveFailed(Exception e) {\n                            // Expression save failed\n                            Toast.makeText(MainActivity.this, &quot;Failed to save expression to Firebase&quot;, Toast.LENGTH_SHORT).show();\n                        }\n\n                        @Override\n                        public void onSuccess() {\n                            // Handle the successful saving of the expression here\n                        }\n\n                        @Override\n                        public void onFailure(Exception e) {\n                            // Handle the failure of saving the expression here\n                        }\n                    });\n                }\n\n                @Override\n                public void onImageUploadFailed(Exception e) {\n                    // Image upload failed\n                    Toast.makeText(MainActivity.this, &quot;Failed to upload image to Firebase&quot;, Toast.LENGTH_SHORT).show();\n                }\n                @Override\n                public void onSuccess(String imageUrl) {\n                    // Handle the successful upload of the image here\n                }\n                @Override\n                public void onFailure(Exception e) {\n                    // Handle the failure of the image upload here\n                }\n            });\n        }\n    }\n\n</code></pre>\n<p>Please let me know your input on this!</p>\n<p>I have been trying to use logs and see what works and where it stops, but I have come as far as this:</p>\n<p>(<a href=\"https://i.stack.imgur.com/9GJF8.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/9GJF8.png</a>)</p>\n<p>Added the other methods in the MainActivity.java as well:</p>\n<pre><code>@Override\npublic void onRequestPermissionsResult(int requestCode, String[] permissions, int[] grantResults) {\n    super.onRequestPermissionsResult(requestCode, permissions, grantResults);\n\n    if (requestCode == REQUEST_PERMISSIONS) {\n        if (grantResults.length &gt; 0 &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {\n            // Permission granted, launch the camera activity\n            dispatchTakePictureIntent();\n        } else {\n            // Permission denied, show a message or handle the case accordingly\n            Toast.makeText(this, &quot;Camera permission denied&quot;, Toast.LENGTH_SHORT).show();\n        }\n    }\n}\n\n@Override\npublic void surfaceCreated(SurfaceHolder holder) {\n    try {\n        camera = Camera.open();\n        setCameraDisplayOrientation();\n        camera.setPreviewDisplay(holder);\n        camera.startPreview();\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n}\n\nprivate void setCameraDisplayOrientation() {\n    Camera.CameraInfo info = new Camera.CameraInfo();\n    Camera.getCameraInfo(Camera.CameraInfo.CAMERA_FACING_BACK, info);\n    int rotation = getWindowManager().getDefaultDisplay().getRotation();\n    int degrees = 0;\n    switch (rotation) {\n        case Surface.ROTATION_0:\n            degrees = 0;\n            break;\n        case Surface.ROTATION_90:\n            degrees = 90;\n            break;\n        case Surface.ROTATION_180:\n            degrees = 180;\n            break;\n        case Surface.ROTATION_270:\n            degrees = 270;\n            break;\n    }\n    int result;\n    if (info.facing == Camera.CameraInfo.CAMERA_FACING_FRONT) {\n        result = (info.orientation + degrees) % 360;\n        result = (360 - result) % 360; // compensate for the mirror effect\n    } else {\n        result = (info.orientation - degrees + 360) % 360;\n    }\n    camera.setDisplayOrientation(result);\n}\n\n@Override\npublic void surfaceChanged(SurfaceHolder holder, int format, int width, int height) {\n    if (camera != null) {\n        // Stop the preview\n        camera.stopPreview();\n\n        // Set the camera parameters\n        Camera.Parameters parameters = camera.getParameters();\n        Camera.Size optimalSize = getOptimalPreviewSize(parameters.getSupportedPreviewSizes(), width, height);\n        parameters.setPreviewSize(optimalSize.width, optimalSize.height);\n\n        // Rotate the camera preview by 0 degrees to the right\n        camera.setDisplayOrientation(0);\n\n        // Apply the updated parameters\n        camera.setParameters(parameters);\n\n        // Start the preview\n        camera.startPreview();\n    }\n}\n\nprivate Camera.Size getOptimalPreviewSize(List&lt;Camera.Size&gt; supportedPreviewSizes, int width, int height) {\n    final double ASPECT_TOLERANCE = 0.1;\n    double targetRatio = (double) width / height;\n\n    Camera.Size optimalSize = null;\n    double minDiff = Double.MAX_VALUE;\n\n    for (Camera.Size size : supportedPreviewSizes) {\n        double ratio = (double) size.width / size.height;\n        if (Math.abs(ratio - targetRatio) &gt; ASPECT_TOLERANCE)\n            continue;\n\n        double diff = Math.abs(size.width - width) + Math.abs(size.height - height);\n        if (diff &lt; minDiff) {\n            optimalSize = size;\n            minDiff = diff;\n        }\n    }\n\n    if (optimalSize == null) {\n        minDiff = Double.MAX_VALUE;\n        for (Camera.Size size : supportedPreviewSizes) {\n            double diff = Math.abs(size.width - width) + Math.abs(size.height - height);\n            if (diff &lt; minDiff) {\n                optimalSize = size;\n                minDiff = diff;\n            }\n        }\n    }\n\n    return optimalSize;\n}\n\n@Override\npublic void surfaceDestroyed(SurfaceHolder holder) {\n    if (camera != null) {\n        camera.stopPreview();\n        camera.release();\n        camera = null;\n    }\n}\n</code></pre>\n"},{"tags":["java","networking"],"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1318072550,"post_id":7685439,"comment_id":9357755,"body_markdown":"For what purpose? If there is a server there you want to connect to, just try to connect.","body":"For what purpose? If there is a server there you want to connect to, just try to connect."}],"answers":[{"comments":[{"owner":{"account_id":13010,"reputation":6750,"user_id":25909,"accept_rate":87,"display_name":"flash"},"score":7,"creation_date":1317980436,"post_id":7685485,"comment_id":9342644,"body_markdown":"isReachable() cannot be trusted to reliably ping hosts outside of the local subnet.\n\nThe most likely reason is that windows is using ICMP ping while isReachable() is failing to use it. This is the case up to at least Java 6.","body":"isReachable() cannot be trusted to reliably ping hosts outside of the local subnet.  The most likely reason is that windows is using ICMP ping while isReachable() is failing to use it. This is the case up to at least Java 6."},{"owner":{"account_id":430482,"reputation":27583,"user_id":813951,"accept_rate":75,"display_name":"Mister Smith"},"score":5,"creation_date":1317981582,"post_id":7685485,"comment_id":9342863,"body_markdown":"There&#39;s a comment in the native `isReachable0` method implementation (in `Inet4AddressImpl.c) which says &quot;Windows implementation of ICMP &amp; RAW sockets is too unreliable for now. Therefore it&#39;s best not to try it at all and rely only on TCP. We may revisit and enable this code in the future.&quot;\n`","body":"There&#39;s a comment in the native <code>isReachable0</code> method implementation (in <code>Inet4AddressImpl.c) which says &quot;Windows implementation of ICMP &amp; RAW sockets is too unreliable for now. Therefore it&#39;s best not to try it at all and rely only on TCP. We may revisit and enable this code in the future.&quot; </code>"},{"owner":{"account_id":430482,"reputation":27583,"user_id":813951,"accept_rate":75,"display_name":"Mister Smith"},"score":1,"creation_date":1317982708,"post_id":7685485,"comment_id":9343098,"body_markdown":"Confirmed, in my WXP test machine this command defaults to a TCP connection on port 7 (echo). It returns reachable even for IP&#39;s that do not exist, or with the firewall blocked.","body":"Confirmed, in my WXP test machine this command defaults to a TCP connection on port 7 (echo). It returns reachable even for IP&#39;s that do not exist, or with the firewall blocked."}],"tags":[],"owner":{"account_id":434913,"reputation":3251,"user_id":821202,"display_name":"michael667"},"comment_count":3,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1317980324,"creation_date":1317980324,"answer_id":7685485,"question_id":7685439,"body_markdown":"`InetAddress.getByName(host).isReachable(timeOut)` (seen [here][1])\r\n\r\n\r\n  [1]: http://tech.gaeatimes.com/index.php/archive/how-to-do-icmp-ping-in-java-jdk-15-and-above/","title":"How to test if a remote system is reachable","body":"<p><code>InetAddress.getByName(host).isReachable(timeOut)</code> (seen <a href=\"http://tech.gaeatimes.com/index.php/archive/how-to-do-icmp-ping-in-java-jdk-15-and-above/\">here</a>)</p>\n"},{"comments":[{"owner":{"account_id":1001770,"reputation":10254,"user_id":1016462,"accept_rate":62,"display_name":"tasomaniac"},"score":10,"creation_date":1351362192,"post_id":7685486,"comment_id":17809241,"body_markdown":"can we check whether a specific port is reachable?","body":"can we check whether a specific port is reachable?"},{"owner":{"account_id":2918180,"reputation":2843,"user_id":2500965,"accept_rate":56,"display_name":"ssindelar"},"score":1,"creation_date":1464779248,"post_id":7685486,"comment_id":62620914,"body_markdown":"This function should not be used in production setups where you don&#39;t have full control over privileges, firewalls, etc.. see: http://stackoverflow.com/questions/9922543/why-does-inetaddress-isreachable-return-false-when-i-can-ping-the-ip-address","body":"This function should not be used in production setups where you don&#39;t have full control over privileges, firewalls, etc.. see: <a href=\"http://stackoverflow.com/questions/9922543/why-does-inetaddress-isreachable-return-false-when-i-can-ping-the-ip-address\" title=\"why does inetaddress isreachable return false when i can ping the ip address\">stackoverflow.com/questions/9922543/&hellip;</a>"},{"owner":{"account_id":5661485,"reputation":3878,"user_id":4479004,"display_name":"xdevs23"},"score":0,"creation_date":1473231401,"post_id":7685486,"comment_id":66055230,"body_markdown":"Nice, simple and clean.","body":"Nice, simple and clean."}],"tags":[],"owner":{"account_id":956700,"reputation":1117,"user_id":981868,"display_name":"andypandy"},"comment_count":3,"down_vote_count":0,"up_vote_count":55,"is_accepted":true,"score":55,"last_activity_date":1317980330,"creation_date":1317980330,"answer_id":7685486,"question_id":7685439,"body_markdown":"    InetAddress.getByName(ip).isReachable(timeout);","title":"How to test if a remote system is reachable","body":"<pre><code>InetAddress.getByName(ip).isReachable(timeout);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":208350,"reputation":4199,"user_id":458770,"accept_rate":80,"display_name":"strauberry"},"score":0,"creation_date":1317981403,"post_id":7685647,"comment_id":9342840,"body_markdown":"Thank you very much for this advice! I&#39;ll create an entry in the bugtracker as &quot;improvement&quot; :-)","body":"Thank you very much for this advice! I&#39;ll create an entry in the bugtracker as &quot;improvement&quot; :-)"}],"tags":[],"owner":{"account_id":348869,"reputation":1910,"user_id":683825,"accept_rate":100,"display_name":"Paul Cager"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1317981298,"creation_date":1317981298,"answer_id":7685647,"question_id":7685439,"body_markdown":"It looks like you are using Linux so you will probably find that *isReachable()* is unreliable (because you will not have permissions to send ICMP packets, and very few servers have the Echo service running).\r\n\r\nIf that is the case then I think you *will* need to use spawn a Process in the way you suggest, but I recommend using a command like:\r\n  \r\n\r\n       ping -c 1 hostname\r\n\r\nThis will terminate after one attempt and you can then examine the exit status of the process - much more reliable than parsing standard output.\r\n\r\nPing returns 0 for success non-zero on failure.","title":"How to test if a remote system is reachable","body":"<p>It looks like you are using Linux so you will probably find that <em>isReachable()</em> is unreliable (because you will not have permissions to send ICMP packets, and very few servers have the Echo service running).</p>\n\n<p>If that is the case then I think you <em>will</em> need to use spawn a Process in the way you suggest, but I recommend using a command like:</p>\n\n<pre><code>   ping -c 1 hostname\n</code></pre>\n\n<p>This will terminate after one attempt and you can then examine the exit status of the process - much more reliable than parsing standard output.</p>\n\n<p>Ping returns 0 for success non-zero on failure.</p>\n"},{"tags":[],"owner":{"account_id":3943896,"reputation":2232,"user_id":3257288,"accept_rate":83,"display_name":"Alpha2k"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1511194291,"creation_date":1511194291,"answer_id":47396333,"question_id":7685439,"body_markdown":"I know this question has found its answer but I&#39;d like to add my code just for &quot;copy-paste&quot;. \r\n\r\n    public boolean isIpReachable(String ip, int timeout){\r\n        boolean state = false;\r\n        \r\n        try {\r\n            state = InetAddress.getByName(ip).isReachable(timeout);\r\n        } catch (IOException e) {\r\n            //Parse error here\r\n        }\r\n        \r\n        return state;\r\n    }","title":"How to test if a remote system is reachable","body":"<p>I know this question has found its answer but I'd like to add my code just for \"copy-paste\". </p>\n\n<pre><code>public boolean isIpReachable(String ip, int timeout){\n    boolean state = false;\n\n    try {\n        state = InetAddress.getByName(ip).isReachable(timeout);\n    } catch (IOException e) {\n        //Parse error here\n    }\n\n    return state;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1643523,"reputation":101,"user_id":1515525,"display_name":"muratozyurt"},"score":0,"creation_date":1665554261,"post_id":72960447,"comment_id":130724749,"body_markdown":"Better option, please add soc.close(). But still does not provide consistent results. Some hosts can only be accessed after multiple retries.","body":"Better option, please add soc.close(). But still does not provide consistent results. Some hosts can only be accessed after multiple retries."},{"owner":{"account_id":905829,"reputation":528,"user_id":940759,"display_name":"sedrakpc"},"score":1,"creation_date":1665631264,"post_id":72960447,"comment_id":130746944,"body_markdown":"No need for close since it is inside the try-with-resource.","body":"No need for close since it is inside the try-with-resource."},{"owner":{"account_id":1643523,"reputation":101,"user_id":1515525,"display_name":"muratozyurt"},"score":0,"creation_date":1665729735,"post_id":72960447,"comment_id":130770693,"body_markdown":"You&#39;re right. I had a different problem where multiple threads were involved and the network had to retry the soc.connect() multiple times. Thanks.","body":"You&#39;re right. I had a different problem where multiple threads were involved and the network had to retry the soc.connect() multiple times. Thanks."}],"tags":[],"owner":{"account_id":905829,"reputation":528,"user_id":940759,"display_name":"sedrakpc"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1686602052,"creation_date":1657681270,"answer_id":72960447,"question_id":7685439,"body_markdown":"From my experience there is no 100% reliable way to do this you have to chose by trying multiple options or combining them, but **isReachable()** can&#39;t be used as reliable option. Better pure java option I think will be something like this:\r\n\r\n    private static boolean isReachable(String host, int openPort, int timeOutMillis) {\r\n        try {\r\n            try (Socket soc = new Socket()) {\r\n                soc.connect(new InetSocketAddress(host, openPort), timeOutMillis);\r\n            }\r\n            return true;\r\n        } catch (IOException ex) {\r\n            return false;\r\n        }\r\n    }\r\n\r\nAnd if you want to check if host is accessible via web/browser here is it:\r\n\r\n    private static boolean hostsWebApp(String host, int timeOutMillis) {\r\n        boolean isReachable = isReachable(host, 80, timeOutMillis);\r\n        if(!isReachable) {\r\n            return isReachable(host, 443, timeOutMillis);\r\n        } else {\r\n            return true;\r\n        }\r\n    }\r\n\r\n ","title":"How to test if a remote system is reachable","body":"<p>From my experience there is no 100% reliable way to do this you have to chose by trying multiple options or combining them, but <strong>isReachable()</strong> can't be used as reliable option. Better pure java option I think will be something like this:</p>\n<pre><code>private static boolean isReachable(String host, int openPort, int timeOutMillis) {\n    try {\n        try (Socket soc = new Socket()) {\n            soc.connect(new InetSocketAddress(host, openPort), timeOutMillis);\n        }\n        return true;\n    } catch (IOException ex) {\n        return false;\n    }\n}\n</code></pre>\n<p>And if you want to check if host is accessible via web/browser here is it:</p>\n<pre><code>private static boolean hostsWebApp(String host, int timeOutMillis) {\n    boolean isReachable = isReachable(host, 80, timeOutMillis);\n    if(!isReachable) {\n        return isReachable(host, 443, timeOutMillis);\n    } else {\n        return true;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":208350,"reputation":4199,"user_id":458770,"accept_rate":80,"display_name":"strauberry"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39080,"favorite_count":0,"down_vote_count":0,"up_vote_count":24,"accepted_answer_id":7685486,"answer_count":5,"score":24,"last_activity_date":1686602052,"creation_date":1317980098,"question_id":7685439,"body_markdown":"I want to test whether a remote system is reachable using Java or in other words &quot;send a ping&quot; using Java. This functionality should be encapsulated in a method with boolean value, for example\r\n\r\n    public boolean isReachable(String ip) {\r\n       // what to do :-)\r\n    }\r\n\r\nI&#39;ve tested the Java Process class, but I don&#39;t think that it is the best way to do this, because of the complex output handling with OutputBuffers.\r\n\r\n    Process proc = Runtime.getRuntime().exec(&quot;ping &quot; + ip);\r\n\r\nAnother possibility would be creating a Socket Connection and handle thrown exceptions, but if the remote system is a &quot;naked&quot; unix system, there might be no Socket on the other side :-) Additionally, I&#39;d like to be able to set a timeout, when a remote system is not reachable.\r\n\r\nSo how could I do this? Thank you!","title":"How to test if a remote system is reachable","body":"<p>I want to test whether a remote system is reachable using Java or in other words \"send a ping\" using Java. This functionality should be encapsulated in a method with boolean value, for example</p>\n\n<pre><code>public boolean isReachable(String ip) {\n   // what to do :-)\n}\n</code></pre>\n\n<p>I've tested the Java Process class, but I don't think that it is the best way to do this, because of the complex output handling with OutputBuffers.</p>\n\n<pre><code>Process proc = Runtime.getRuntime().exec(\"ping \" + ip);\n</code></pre>\n\n<p>Another possibility would be creating a Socket Connection and handle thrown exceptions, but if the remote system is a \"naked\" unix system, there might be no Socket on the other side :-) Additionally, I'd like to be able to set a timeout, when a remote system is not reachable.</p>\n\n<p>So how could I do this? Thank you!</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":9427779,"reputation":336,"user_id":7012221,"display_name":"Abhishek"},"score":0,"creation_date":1685333764,"post_id":76354589,"comment_id":134641937,"body_markdown":"what is your spring-boot version and which dependency are you using for swagger? please update your question with this information.","body":"what is your spring-boot version and which dependency are you using for swagger? please update your question with this information."},{"owner":{"account_id":12577079,"reputation":119,"user_id":9220564,"display_name":"dcm50"},"score":0,"creation_date":1685334090,"post_id":76354589,"comment_id":134641964,"body_markdown":"@Abhishek I&#39;m using spring-boot 3.0.6 and I updated the question, adding the dependency.","body":"@Abhishek I&#39;m using spring-boot 3.0.6 and I updated the question, adding the dependency."},{"owner":{"account_id":9427779,"reputation":336,"user_id":7012221,"display_name":"Abhishek"},"score":1,"creation_date":1685336495,"post_id":76354589,"comment_id":134642200,"body_markdown":"I&#39;ll suggest to use only one dependency which is &#39;springdoc-openapi-starter-webmvc-ui&#39; and no additional configuration is needed so you can remove code from SpringFoxConfig class.  https://springdoc.org/v2/#spring-webmvc-support","body":"I&#39;ll suggest to use only one dependency which is &#39;springdoc-openapi-starter-webmvc-ui&#39; and no additional configuration is needed so you can remove code from SpringFoxConfig class.  <a href=\"https://springdoc.org/v2/#spring-webmvc-support\" rel=\"nofollow noreferrer\">springdoc.org/v2/#spring-webmvc-support</a>"}],"answers":[{"tags":[],"owner":{"account_id":21918271,"reputation":83,"user_id":16201869,"display_name":"Alf"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686601461,"creation_date":1686601461,"answer_id":76460083,"question_id":76354589,"body_markdown":"This seems to be a bug in springdoc. The dependency cycle occurs if you have configured SwaggerUi programmatically as shown in the [documentation][1], or if you have configured SpringDoc programmatically and moved the SwaggerUi config to the `application.properties`. I&#39;ve recently (yesterday) [raised an issue][2] on this topic.\r\n\r\nCurrent **workaround** is to define all configurations in the `application.properties`.\r\n```\r\nspringdoc.packages-to-scan=com.example.desafiobackvotos.controller\r\nspringdoc.swagger-ui.config-url=/v3/api-docs/swagger-config\r\nspringdoc.swagger-ui.url=/v3/api-docs\r\n```\r\nBe aware that some configurations you want to set are the [defaults][3] and you should use the `springdoc-openapi-starter-webmvc-ui` dependency ([Springdoc Getting Started][4]) as [@Abhishek][5] has already pointed out.\r\n\r\n\r\n  [1]: https://springdoc.org/v2/#how-can-i-set-swagger-properties-programmatically\r\n  [2]: https://github.com/springdoc/springdoc-openapi/issues/2259\r\n  [3]: https://springdoc.org/v2/#swagger-ui-properties\r\n  [4]: https://springdoc.org/v2/#getting-started\r\n  [5]: https://stackoverflow.com/users/7012221/abhishek","title":"How to fix the circular dependency?","body":"<p>This seems to be a bug in springdoc. The dependency cycle occurs if you have configured SwaggerUi programmatically as shown in the <a href=\"https://springdoc.org/v2/#how-can-i-set-swagger-properties-programmatically\" rel=\"nofollow noreferrer\">documentation</a>, or if you have configured SpringDoc programmatically and moved the SwaggerUi config to the <code>application.properties</code>. I've recently (yesterday) <a href=\"https://github.com/springdoc/springdoc-openapi/issues/2259\" rel=\"nofollow noreferrer\">raised an issue</a> on this topic.</p>\n<p>Current <strong>workaround</strong> is to define all configurations in the <code>application.properties</code>.</p>\n<pre><code>springdoc.packages-to-scan=com.example.desafiobackvotos.controller\nspringdoc.swagger-ui.config-url=/v3/api-docs/swagger-config\nspringdoc.swagger-ui.url=/v3/api-docs\n</code></pre>\n<p>Be aware that some configurations you want to set are the <a href=\"https://springdoc.org/v2/#swagger-ui-properties\" rel=\"nofollow noreferrer\">defaults</a> and you should use the <code>springdoc-openapi-starter-webmvc-ui</code> dependency (<a href=\"https://springdoc.org/v2/#getting-started\" rel=\"nofollow noreferrer\">Springdoc Getting Started</a>) as <a href=\"https://stackoverflow.com/users/7012221/abhishek\">@Abhishek</a> has already pointed out.</p>\n"}],"owner":{"account_id":12577079,"reputation":119,"user_id":9220564,"display_name":"dcm50"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":346,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1686601461,"creation_date":1685332514,"question_id":76354589,"body_markdown":"I&#39;m developing an application and I&#39;m having issue with circular dependency in my Swagger class.  \r\nEven setting the ```circular-references``` as true, I still getting error.\r\n\r\nThis the code:\r\n```\r\n    private static final String SWAGGER_CONFIG = &quot;/v3/api-docs/swagger-config&quot;;\r\n    private static final String SWAGGER_URL = &quot;/v3/api-docs&quot;;\r\n    private static final List&lt;String&gt; CONTROLLER_PACKAGES =\r\n            List.of(&quot;com.example.desafiobackvotos.controller&quot;);\r\n\r\n    @Bean\r\n    @Primary\r\n    public SpringDocConfigProperties springDocConfig(SpringDocConfigProperties config){\r\n        config.setPackagesToScan(CONTROLLER_PACKAGES);\r\n        return config;\r\n    }\r\n\r\n    @Bean\r\n    @Primary\r\n    public SwaggerUiConfigProperties swaggerUiConfig(SwaggerUiConfigProperties config){\r\n        config.setConfigUrl(SWAGGER_CONFIG);\r\n        config.setUrl(SWAGGER_URL);\r\n        return config;\r\n    }\r\n```\r\n\r\nAnd this is the error:\r\n```\r\n***************************\r\nAPPLICATION FAILED TO START\r\n***************************\r\n\r\nDescription:\r\n\r\nThe dependencies of some of the beans in the application context form a cycle:\r\n\r\nâââ-&gt;âââ\r\n|  springDocConfig defined in class path resource [com/example/desafiobackvotos/config/SpringFoxConfig.class]\r\nâââ&lt;-âââ\r\n\r\n\r\nAction:\r\n\r\nDespite circular references being allowed, the dependency cycle between beans could not be broken. Update your application to remove the dependency cycle.\r\n\r\n\r\nProcess finished with exit code 0\r\n```\r\n\r\nI&#39;m using ```spring-boot``` 3.0.6 and this dependency in pom:\r\n```\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n            &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\r\n            &lt;version&gt;1.6.15&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n``     ","title":"How to fix the circular dependency?","body":"<p>I'm developing an application and I'm having issue with circular dependency in my Swagger class.<br />\nEven setting the <code>circular-references</code> as true, I still getting error.</p>\n<p>This the code:</p>\n<pre><code>    private static final String SWAGGER_CONFIG = &quot;/v3/api-docs/swagger-config&quot;;\n    private static final String SWAGGER_URL = &quot;/v3/api-docs&quot;;\n    private static final List&lt;String&gt; CONTROLLER_PACKAGES =\n            List.of(&quot;com.example.desafiobackvotos.controller&quot;);\n\n    @Bean\n    @Primary\n    public SpringDocConfigProperties springDocConfig(SpringDocConfigProperties config){\n        config.setPackagesToScan(CONTROLLER_PACKAGES);\n        return config;\n    }\n\n    @Bean\n    @Primary\n    public SwaggerUiConfigProperties swaggerUiConfig(SwaggerUiConfigProperties config){\n        config.setConfigUrl(SWAGGER_CONFIG);\n        config.setUrl(SWAGGER_URL);\n        return config;\n    }\n</code></pre>\n<p>And this is the error:</p>\n<pre><code>***************************\nAPPLICATION FAILED TO START\n***************************\n\nDescription:\n\nThe dependencies of some of the beans in the application context form a cycle:\n\nâââ-&gt;âââ\n|  springDocConfig defined in class path resource [com/example/desafiobackvotos/config/SpringFoxConfig.class]\nâââ&lt;-âââ\n\n\nAction:\n\nDespite circular references being allowed, the dependency cycle between beans could not be broken. Update your application to remove the dependency cycle.\n\n\nProcess finished with exit code 0\n</code></pre>\n<p>I'm using <code>spring-boot</code> 3.0.6 and this dependency in pom:</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n            &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\n            &lt;version&gt;1.6.15&lt;/version&gt;\n        &lt;/dependency&gt;\n``     \n</code></pre>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":4947846,"reputation":9433,"user_id":3982755,"accept_rate":79,"display_name":"Bentaye"},"score":0,"creation_date":1686039313,"post_id":76412625,"comment_id":134740773,"body_markdown":"you can try `https:\\/\\/[a-z]*.com`, the `*` means any number of tokens","body":"you can try <code>https:\\&#47;\\&#47;[a-z]*.com</code>, the <code>*</code> means any number of tokens"},{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1686039435,"post_id":76412625,"comment_id":134740795,"body_markdown":"`[a-z]` will indeed only match one character. That matches the spec.","body":"<code>[a-z]</code> will indeed only match one character. That matches the spec."},{"owner":{"account_id":8809168,"reputation":5,"user_id":6582722,"display_name":"SBW"},"score":0,"creation_date":1686040524,"post_id":76412625,"comment_id":134741010,"body_markdown":"@Bentaye It is working I was missing *  Thank you","body":"@Bentaye It is working I was missing *  Thank you"}],"answers":[{"tags":[],"owner":{"account_id":28751477,"reputation":134,"user_id":22019464,"display_name":"Chander Parkash"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1686056722,"creation_date":1686056722,"answer_id":76414960,"question_id":76412625,"body_markdown":"try this as your pattern for the response you want this will be good.\r\n\r\n    https:\\\\/\\\\/\\\\w+\\\\.com","title":"Regex to match a fully qualified url exactly like https://merchant.com while in place of merchant it can be any letter","body":"<p>try this as your pattern for the response you want this will be good.</p>\n<pre><code>https:\\\\/\\\\/\\\\w+\\\\.com\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1686601291,"creation_date":1686601291,"answer_id":76460073,"question_id":76412625,"body_markdown":"The reason it is only matching the first character is because you haven&#39;t specified a _quantifier_.\r\n\r\nThus, a _character class_ will only match one character, of the specified values.\r\n\r\n```none\r\nhttps://[a-z]+(?:\\.[a-z]+)+\r\n```\r\n\r\nThis is matching an _a-z_ character, one or more, followed by a repeating pattern of, a single dot character, an _a-z_ character, one more.\r\n\r\nFor example, this will match these values.\r\n\r\n```none\r\nhttps://example.com\r\nhttps://abc.example.com\r\nhttps://www.abc.example.com\r\n```","title":"Regex to match a fully qualified url exactly like https://merchant.com while in place of merchant it can be any letter","body":"<p>The reason it is only matching the first character is because you haven't specified a <em>quantifier</em>.</p>\n<p>Thus, a <em>character class</em> will only match one character, of the specified values.</p>\n<pre class=\"lang-none prettyprint-override\"><code>https://[a-z]+(?:\\.[a-z]+)+\n</code></pre>\n<p>This is matching an <em>a-z</em> character, one or more, followed by a repeating pattern of, a single dot character, an <em>a-z</em> character, one more.</p>\n<p>For example, this will match these values.</p>\n<pre class=\"lang-none prettyprint-override\"><code>https://example.com\nhttps://abc.example.com\nhttps://www.abc.example.com\n</code></pre>\n"}],"owner":{"account_id":8809168,"reputation":5,"user_id":6582722,"display_name":"SBW"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":4,"up_vote_count":0,"accepted_answer_id":76460073,"answer_count":2,"score":-4,"last_activity_date":1686601291,"creation_date":1686039092,"question_id":76412625,"body_markdown":"I need a regex for the url https://example.com while in place of **example** it can be any letter\r\n\r\n\r\nI tried `https:\\/\\/[a-z]\\.[a-z]` but is only accepting the first letter in example and first letter in com which is `https://e.c` (accepting this with above regex) but I want it to accept whole url(https://example.com) as mentioned in the question.","title":"Regex to match a fully qualified url exactly like https://merchant.com while in place of merchant it can be any letter","body":"<p>I need a regex for the url <a href=\"https://example.com\" rel=\"nofollow noreferrer\">https://example.com</a> while in place of <strong>example</strong> it can be any letter</p>\n<p>I tried <code>https:\\/\\/[a-z]\\.[a-z]</code> but is only accepting the first letter in example and first letter in com which is <code>https://e.c</code> (accepting this with above regex) but I want it to accept whole url(<a href=\"https://example.com\" rel=\"nofollow noreferrer\">https://example.com</a>) as mentioned in the question.</p>\n"},{"tags":["java","zip","compression","gzip"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1686581057,"post_id":76457680,"comment_id":134814511,"body_markdown":"Maybe have a look at [this](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/zip/ZipEntry.html#setMethod(int)) and [this](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/zip/ZipEntry.html#STORED)","body":"Maybe have a look at <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/zip/ZipEntry.html#setMethod(int)\" rel=\"nofollow noreferrer\">this</a> and <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/zip/ZipEntry.html#STORED\" rel=\"nofollow noreferrer\">this</a>"},{"owner":{"account_id":208830,"reputation":10240,"user_id":459557,"display_name":"vanje"},"score":0,"creation_date":1686581198,"post_id":76457680,"comment_id":134814542,"body_markdown":"Please show your code.","body":"Please show your code."},{"owner":{"account_id":265649,"reputation":53086,"user_id":552759,"display_name":"jtahlborn"},"score":0,"creation_date":1686601138,"post_id":76457680,"comment_id":134818537,"body_markdown":"since you are only sending a single file and seem to not want compression, why are you embedding the file in a zip file anyway?","body":"since you are only sending a single file and seem to not want compression, why are you embedding the file in a zip file anyway?"}],"answers":[{"tags":[],"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1686581114,"creation_date":1686581114,"answer_id":76457793,"question_id":76457680,"body_markdown":"You can use `zipOutputStream.setLevel(Deflater.NO_COMPRESSION)`.","title":"How put files into zip just for pack them and no compress them in Java","body":"<p>You can use <code>zipOutputStream.setLevel(Deflater.NO_COMPRESSION)</code>.</p>\n"},{"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1686581921,"post_id":76457808,"comment_id":134814747,"body_markdown":"Easier yes, but don&#39;t use magic numbers but [this](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/zip/ZipEntry.html#STORED) (or equiv.)","body":"Easier yes, but don&#39;t use magic numbers but <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/zip/ZipEntry.html#STORED\" rel=\"nofollow noreferrer\">this</a> (or equiv.)"},{"owner":{"account_id":357362,"reputation":2080,"user_id":697480,"display_name":"Adam Wise"},"score":0,"creation_date":1686592637,"post_id":76457808,"comment_id":134817078,"body_markdown":"Quite right, the documentation for setLevel didn&#39;t link to the constants, but does document that the value is a number between 0 and 9. Anyway, here&#39;s the documentation on the &#39;NO_COMPRESSION&#39; constant: https://docs.oracle.com/javase/8/docs/api/java/util/zip/Deflater.html#NO_COMPRESSION","body":"Quite right, the documentation for setLevel didn&#39;t link to the constants, but does document that the value is a number between 0 and 9. Anyway, here&#39;s the documentation on the &#39;NO_COMPRESSION&#39; constant: <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/zip/Deflater.html#NO_COMPRESSION\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/api/java/util/zip/&hellip;</a>"},{"owner":{"account_id":22246447,"reputation":17,"user_id":16480070,"display_name":"Sizor"},"score":0,"creation_date":1686593597,"post_id":76457808,"comment_id":134817280,"body_markdown":"Look at my edited post, i tried setLevel but still have issues","body":"Look at my edited post, i tried setLevel but still have issues"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1686597108,"post_id":76457808,"comment_id":134817881,"body_markdown":"If that utf-8 setting on the response applies to the file then you&#39;re going to be in trouble. The file will be corrupt","body":"If that utf-8 setting on the response applies to the file then you&#39;re going to be in trouble. The file will be corrupt"}],"tags":[],"owner":{"account_id":357362,"reputation":2080,"user_id":697480,"display_name":"Adam Wise"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686592699,"creation_date":1686581238,"answer_id":76457808,"question_id":76457680,"body_markdown":"The ZipOutputStream setLevel method is what you want. A value of &#39;0&#39; specifies no compression.\r\n\r\nhttps://docs.oracle.com/javase/8/docs/api/java/util/zip/ZipOutputStream.html#setLevel-int-\r\n\r\nEDIT: The best form is to use the deflator constant NO_COMPRESSION instead of 0.\r\n\r\nhttps://docs.oracle.com/javase/8/docs/api/java/util/zip/Deflater.html#NO_COMPRESSION","title":"How put files into zip just for pack them and no compress them in Java","body":"<p>The ZipOutputStream setLevel method is what you want. A value of '0' specifies no compression.</p>\n<p><a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/zip/ZipOutputStream.html#setLevel-int-\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/api/java/util/zip/ZipOutputStream.html#setLevel-int-</a></p>\n<p>EDIT: The best form is to use the deflator constant NO_COMPRESSION instead of 0.</p>\n<p><a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/zip/Deflater.html#NO_COMPRESSION\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/api/java/util/zip/Deflater.html#NO_COMPRESSION</a></p>\n"},{"comments":[{"owner":{"account_id":357362,"reputation":2080,"user_id":697480,"display_name":"Adam Wise"},"score":0,"creation_date":1686668981,"post_id":76460047,"comment_id":134829217,"body_markdown":"This might explain why it works if compression is on - the total length of the zip file will be slightly greater than the original file if there is no compression, but smaller if there is compression. Without compression, the file will end up being truncated due to the setContentLength call. Try calling setContentLength at the end with the actual length of the zipped file/output stream.","body":"This might explain why it works if compression is on - the total length of the zip file will be slightly greater than the original file if there is no compression, but smaller if there is compression. Without compression, the file will end up being truncated due to the setContentLength call. Try calling setContentLength at the end with the actual length of the zipped file/output stream."},{"owner":{"account_id":265649,"reputation":53086,"user_id":552759,"display_name":"jtahlborn"},"score":1,"creation_date":1686669396,"post_id":76460047,"comment_id":134829328,"body_markdown":"yeah, that&#39;s what i expect as well.  you generally can&#39;t call setContentLength after you send the data, because that needs to be sent first as a header.  if the data is small, depending on the library you use, it may buffer it in member before sending.  but if it is large, you wouldn&#39;t want to do that.","body":"yeah, that&#39;s what i expect as well.  you generally can&#39;t call setContentLength after you send the data, because that needs to be sent first as a header.  if the data is small, depending on the library you use, it may buffer it in member before sending.  but if it is large, you wouldn&#39;t want to do that."},{"owner":{"account_id":22246447,"reputation":17,"user_id":16480070,"display_name":"Sizor"},"score":0,"creation_date":1686732831,"post_id":76460047,"comment_id":134838298,"body_markdown":"So i tested it and you have true. Its because setting little smaller size than final zip. The problem is, that my files are not so small to just pack it before and send, i would need it send inmedietly to response, but then i will not know size for my backend progress bar, i think i am lost :D","body":"So i tested it and you have true. Its because setting little smaller size than final zip. The problem is, that my files are not so small to just pack it before and send, i would need it send inmedietly to response, but then i will not know size for my backend progress bar, i think i am lost :D"},{"owner":{"account_id":265649,"reputation":53086,"user_id":552759,"display_name":"jtahlborn"},"score":0,"creation_date":1686751343,"post_id":76460047,"comment_id":134842432,"body_markdown":"@Sizor that is what chunked encoding is for.  you don&#39;t have to know the size before sending.  alternately, you can skip the zip wrapper and just send the file directly.","body":"@Sizor that is what chunked encoding is for.  you don&#39;t have to know the size before sending.  alternately, you can skip the zip wrapper and just send the file directly."}],"tags":[],"owner":{"account_id":265649,"reputation":53086,"user_id":552759,"display_name":"jtahlborn"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1686601038,"creation_date":1686601038,"answer_id":76460047,"question_id":76457680,"body_markdown":"The problem is that you are setting the content length of the response to (presumably) the length of the file you are outputting.  however, a zip file, even with no compression, still includes a header (or footer as the case may be).  you either have to compute the length of the *complete* zip file, or use chunked encoding.","title":"How put files into zip just for pack them and no compress them in Java","body":"<p>The problem is that you are setting the content length of the response to (presumably) the length of the file you are outputting.  however, a zip file, even with no compression, still includes a header (or footer as the case may be).  you either have to compute the length of the <em>complete</em> zip file, or use chunked encoding.</p>\n"}],"owner":{"account_id":22246447,"reputation":17,"user_id":16480070,"display_name":"Sizor"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76460047,"answer_count":3,"score":0,"last_activity_date":1686601038,"creation_date":1686580355,"question_id":76457680,"body_markdown":"Is there way in Java to pack files into zip without compression? I just need to pack many files into one, but i need it fast and compression take long time. I tried something like Stored method of ZipOutputStream but the result zip is always corrupted.\r\nDoes anybody know some solution?\r\n\r\nEDIT:\r\nThere is my code:\r\n\r\n    response.setContentType(&quot;application/zip&quot;); // zip archive format\r\n                response.setHeader(HttpHeaders.CONTENT_DISPOSITION, ContentDisposition.attachment()\r\n                                                                                .filename(&quot;download.zip&quot;, StandardCharsets.UTF_8)\r\n                                                                                .build()\r\n                                                                                .toString());\r\n            \r\n                response.setContentLengthLong(totalSize);\r\n        \r\n                try(ZipOutputStream zipOutputStream = new ZipOutputStream(response.getOutputStream())) {\r\n                    zipOutputStream.setLevel(Deflater.NO_COMPRESSION);\r\n                for (FileSystemResource file : resources) {\r\n                    try (InputStream inputStream = file.getInputStream()) {\r\n                        zipOutputStream.putNextEntry(new ZipEntry(file.getFilename().toString()));\r\n                        StreamUtils.copy(inputStream, zipOutputStream);\r\n                        zipOutputStream.flush();\r\n                    }\r\n                }\r\n            }\r\n\r\nit works normal but when i added:\r\n\r\n    zipOutputStream.setLevel(Deflater.NO_COMPRESSION);\r\n\r\ni get this error when i try to open final zip:\r\nCould not open, ERROR 1 process doesnt exist\r\n\r\nZip wihtou level is always good","title":"How put files into zip just for pack them and no compress them in Java","body":"<p>Is there way in Java to pack files into zip without compression? I just need to pack many files into one, but i need it fast and compression take long time. I tried something like Stored method of ZipOutputStream but the result zip is always corrupted.\nDoes anybody know some solution?</p>\n<p>EDIT:\nThere is my code:</p>\n<pre><code>response.setContentType(&quot;application/zip&quot;); // zip archive format\n            response.setHeader(HttpHeaders.CONTENT_DISPOSITION, ContentDisposition.attachment()\n                                                                            .filename(&quot;download.zip&quot;, StandardCharsets.UTF_8)\n                                                                            .build()\n                                                                            .toString());\n        \n            response.setContentLengthLong(totalSize);\n    \n            try(ZipOutputStream zipOutputStream = new ZipOutputStream(response.getOutputStream())) {\n                zipOutputStream.setLevel(Deflater.NO_COMPRESSION);\n            for (FileSystemResource file : resources) {\n                try (InputStream inputStream = file.getInputStream()) {\n                    zipOutputStream.putNextEntry(new ZipEntry(file.getFilename().toString()));\n                    StreamUtils.copy(inputStream, zipOutputStream);\n                    zipOutputStream.flush();\n                }\n            }\n        }\n</code></pre>\n<p>it works normal but when i added:</p>\n<pre><code>zipOutputStream.setLevel(Deflater.NO_COMPRESSION);\n</code></pre>\n<p>i get this error when i try to open final zip:\nCould not open, ERROR 1 process doesnt exist</p>\n<p>Zip wihtou level is always good</p>\n"},{"tags":["java","sql","mariadb","jooq"],"comments":[{"owner":{"account_id":247217,"reputation":213465,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"score":0,"creation_date":1686557882,"post_id":76441723,"comment_id":134809311,"body_markdown":"Have you checked out [the manual page about creating derived tables?](https://www.jooq.org/doc/latest/manual/sql-building/table-expressions/derived-tables/)","body":"Have you checked out <a href=\"https://www.jooq.org/doc/latest/manual/sql-building/table-expressions/derived-tables/\" rel=\"nofollow noreferrer\">the manual page about creating derived tables?</a>"},{"owner":{"account_id":14358183,"reputation":339,"user_id":10371394,"display_name":"Sebastian Lore"},"score":0,"creation_date":1686576609,"post_id":76441723,"comment_id":134813428,"body_markdown":"@LukasEder I have. But I don&#39;t get how to leverage it.","body":"@LukasEder I have. But I don&#39;t get how to leverage it."},{"owner":{"account_id":247217,"reputation":213465,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"score":0,"creation_date":1686592062,"post_id":76441723,"comment_id":134816954,"body_markdown":"I mean, there&#39;s an obvious mistake in the screenshot, but perhaps, you have more specific questions?","body":"I mean, there&#39;s an obvious mistake in the screenshot, but perhaps, you have more specific questions?"}],"answers":[{"comments":[{"owner":{"account_id":4243,"reputation":1301938,"user_id":6309,"accept_rate":100,"display_name":"VonC"},"score":0,"creation_date":1686595594,"post_id":76459124,"comment_id":134817598,"body_markdown":"That seems shorter and more to the point than my answer (I didn&#39;t know jooq, so I went long to learn about it). Upvoted.","body":"That seems shorter and more to the point than my answer (I didn&#39;t know jooq, so I went long to learn about it). Upvoted."}],"tags":[],"owner":{"account_id":247217,"reputation":213465,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1686592036,"creation_date":1686592036,"answer_id":76459124,"question_id":76441723,"body_markdown":"The specific problem in your screenshot is just the fact that you misplaced a closing parenthesis:\r\n\r\n```java\r\n.join(select(...).limit(1)).on(SURVEY_INSTANCE.ID.eq(SURVEY_DEFINITION.ID))\r\n```\r\n\r\nInstead of:\r\n\r\n```java\r\n.join(select(...).limit(1).on(SURVEY_INSTANCE.ID.eq(SURVEY_DEFINITION.ID))\r\n```\r\n","title":"How to translate the following SQL into jOOQ","body":"<p>The specific problem in your screenshot is just the fact that you misplaced a closing parenthesis:</p>\n<pre class=\"lang-java prettyprint-override\"><code>.join(select(...).limit(1)).on(SURVEY_INSTANCE.ID.eq(SURVEY_DEFINITION.ID))\n</code></pre>\n<p>Instead of:</p>\n<pre class=\"lang-java prettyprint-override\"><code>.join(select(...).limit(1).on(SURVEY_INSTANCE.ID.eq(SURVEY_DEFINITION.ID))\n</code></pre>\n"},{"comments":[{"owner":{"account_id":14358183,"reputation":339,"user_id":10371394,"display_name":"Sebastian Lore"},"score":0,"creation_date":1686597222,"post_id":76459388,"comment_id":134817912,"body_markdown":"For some reason I can&#39;t do a join after `context.update(SD)`, there&#39;s simply no such method. Maybe the reason is older jOOQ version","body":"For some reason I can&#39;t do a join after <code>context.update(SD)</code>, there&#39;s simply no such method. Maybe the reason is older jOOQ version"},{"owner":{"account_id":4243,"reputation":1301938,"user_id":6309,"accept_rate":100,"display_name":"VonC"},"score":0,"creation_date":1686600502,"post_id":76459388,"comment_id":134818421,"body_markdown":"@SebastianLore I have edited the answer to add a possible workaround.","body":"@SebastianLore I have edited the answer to add a possible workaround."},{"owner":{"account_id":14358183,"reputation":339,"user_id":10371394,"display_name":"Sebastian Lore"},"score":0,"creation_date":1686659844,"post_id":76459388,"comment_id":134826956,"body_markdown":"Thanks for a workaround. I already did it without workarounds, heavily inspired by your answer. I couldn&#39;t do a join after `context.update(SD)`, but I could do `context.update(SD.join(...).on(...))` and it generates an SQL which is very similar to my initial SQL.","body":"Thanks for a workaround. I already did it without workarounds, heavily inspired by your answer. I couldn&#39;t do a join after <code>context.update(SD)</code>, but I could do <code>context.update(SD.join(...).on(...))</code> and it generates an SQL which is very similar to my initial SQL."}],"tags":[],"owner":{"account_id":4243,"reputation":1301938,"user_id":6309,"accept_rate":100,"display_name":"VonC"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1686600483,"creation_date":1686594731,"answer_id":76459388,"question_id":76441723,"body_markdown":"The SQL query you have provided is a complex `UPDATE` statement with a `JOIN` clause to a subquery. In jOOQ, you can build such queries by using the `update()` method of [`DSLContext`](https://www.jooq.org/doc/3.12/manual/sql-building/dsl-context/), combined with `join()` and `on()` methods for the join clause, and `set()` methods for the update clause. \r\n\r\nTo avoid any readability issue (like a misplaced parenthesis), you could decompose the query.\r\n\r\nI will assume that:\r\n\r\n- your `survey_definition` and `survey_instance` tables are generated as `SURVEY_DEFINITION` and `SURVEY_INSTANCE`, respectively. You need to import your generated tables. If they are not generated, you need to create them manually.\r\n- you have your `DSLContext` available as `context`.\r\n- the `?1` in your original SQL is a parameter that will be provided later. In the jOOQ DSL, I have replaced this with `param(&quot;?1&quot;, Integer.class)`.\r\n\r\nThe code would then be:\r\n\r\n```java\r\nimport static org.jooq.impl.DSL.*;\r\nimport static com.example.generated.Tables.*;\r\n\r\n// Assuming the DSLContext is available as &quot;context&quot;\r\n\r\nSurveyDefinition SD = SURVEY_DEFINITION.as(&quot;sd&quot;);\r\nSurveyInstance SI = SURVEY_INSTANCE.as(&quot;si&quot;);\r\n\r\nField&lt;Integer&gt; surveyDefId = field(name(&quot;survey_def_id&quot;), Integer.class);\r\nField&lt;Integer&gt; status = field(name(&quot;status&quot;), Integer.class);\r\nField&lt;Timestamp&gt; endDate = field(name(&quot;end_date&quot;), Timestamp.class);\r\n\r\nTable&lt;?&gt; latest = context\r\n    .select(SI.SURVEY_DEF_ID.as(surveyDefId), SI.STATUS.as(status), SI.END_DATE.as(endDate))\r\n    .from(SI)\r\n    .where(SI.SURVEY_DEF_ID.eq(param(&quot;?1&quot;, Integer.class)), SI.STATUS.notIn(14))\r\n    .orderBy(SI.END_DATE.desc())\r\n    .limit(1)\r\n    .asTable(&quot;latest&quot;);\r\n\r\ncontext.update(SD)\r\n    .join(latest)\r\n    .on(SD.ID.eq(latest.field(surveyDefId)))\r\n    .set(SD.LATEST_RESULT, latest.field(status))\r\n    .set(SD.LATEST_SURVEY_END_DATE, latest.field(endDate))\r\n    .execute();\r\n```\r\n\r\nNote: The code assumes that `LATEST_RESULT` and `LATEST_SURVEY_END_DATE` are the exact names of the columns in your `SURVEY_DEFINITION` table and that their types match with the ones from the subquery. If that&#39;s not the case, you might need to change those names or add type conversions.\r\n\r\nAs you can see, I am using the [`on()` method](https://www.jooq.org/javadoc/3.12.1/org.jooq/org/jooq/TableOnStep.html#on(java.lang.String)) (part of the [`ON` clause](https://www.jooq.org/doc/3.12/manual/sql-building/table-expressions/joined-tables/join-predicate-on/) on a [`TableOnStep` object](https://www.jooq.org/javadoc/3.12.1/org.jooq/org/jooq/TableOnStep.html), which is returned by the [`join(latest)`](https://www.jooq.org/doc/latest/manual/sql-building/sql-statements/select-statement/join-clause/) call.  \r\nI am not using `on()` not on a `SelectLimitPercentStep` object (which does not have an `on()` method, hence your original error message &quot;`Cannot resolve method &#39;on&#39; in &#39;&quot;SelectLimitPercentStep&#39;`&quot;). \r\n\r\n```java\r\ncontext.update(SD)\r\n    .join(latest)\r\n    .on(SD.ID.eq(latest.field(surveyDefId)))\r\n    ...\r\n```\r\n\r\nHere, `latest` is a `Table` object that represents a derived table.  \r\nSo calling `on()` in this context should not trigger a compilation error. \r\n\r\n----\r\n\r\n&gt; For some reason I can&#39;t do a join after `context.update(SD)`, there&#39;s simply no such method. Maybe the reason is older jOOQ version.\r\n\r\nAn alternative workaround would be to perform the subquery first, store its results, and then use these results in the update statement.  \r\nAs an example:\r\n\r\n\r\n```java\r\n// First, execute the subquery and fetch the results\r\nRecord3&lt;String, Integer, Date&gt; record = dslContext.select(SURVEY_INSTANCE.SURVEY_DEF_ID, SURVEY_INSTANCE.STATUS, SURVEY_INSTANCE.END_DATE)\r\n    .from(SURVEY_INSTANCE)\r\n    .where(SURVEY_INSTANCE.SURVEY_DEF_ID.eq(definitionId))\r\n    .and(SURVEY_INSTANCE.STATUS.notIn(14))\r\n    .orderBy(SURVEY_INSTANCE.END_DATE.desc())\r\n    .limit(1)\r\n    .fetchOne();\r\n\r\n// Next, use the results of the subquery in the UPDATE statement\r\nif (record != null) {\r\n    dslContext.update(SURVEY_DEFINITION)\r\n        .set(SURVEY_DEFINITION.LATEST_RESULT, record.get(SURVEY_INSTANCE.STATUS))\r\n        .set(SURVEY_DEFINITION.LATEST_SURVEY_END_DATE, record.get(SURVEY_INSTANCE.END_DATE))\r\n        .where(SURVEY_DEFINITION.ID.eq(record.get(SURVEY_INSTANCE.SURVEY_DEF_ID)))\r\n        .execute();\r\n}\r\n```\r\n\r\nThis workaround separates the operation into two parts, and it first fetches the record from the subquery and then uses that data to perform the update.","title":"How to translate the following SQL into jOOQ","body":"<p>The SQL query you have provided is a complex <code>UPDATE</code> statement with a <code>JOIN</code> clause to a subquery. In jOOQ, you can build such queries by using the <code>update()</code> method of <a href=\"https://www.jooq.org/doc/3.12/manual/sql-building/dsl-context/\" rel=\"nofollow noreferrer\"><code>DSLContext</code></a>, combined with <code>join()</code> and <code>on()</code> methods for the join clause, and <code>set()</code> methods for the update clause.</p>\n<p>To avoid any readability issue (like a misplaced parenthesis), you could decompose the query.</p>\n<p>I will assume that:</p>\n<ul>\n<li>your <code>survey_definition</code> and <code>survey_instance</code> tables are generated as <code>SURVEY_DEFINITION</code> and <code>SURVEY_INSTANCE</code>, respectively. You need to import your generated tables. If they are not generated, you need to create them manually.</li>\n<li>you have your <code>DSLContext</code> available as <code>context</code>.</li>\n<li>the <code>?1</code> in your original SQL is a parameter that will be provided later. In the jOOQ DSL, I have replaced this with <code>param(&quot;?1&quot;, Integer.class)</code>.</li>\n</ul>\n<p>The code would then be:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import static org.jooq.impl.DSL.*;\nimport static com.example.generated.Tables.*;\n\n// Assuming the DSLContext is available as &quot;context&quot;\n\nSurveyDefinition SD = SURVEY_DEFINITION.as(&quot;sd&quot;);\nSurveyInstance SI = SURVEY_INSTANCE.as(&quot;si&quot;);\n\nField&lt;Integer&gt; surveyDefId = field(name(&quot;survey_def_id&quot;), Integer.class);\nField&lt;Integer&gt; status = field(name(&quot;status&quot;), Integer.class);\nField&lt;Timestamp&gt; endDate = field(name(&quot;end_date&quot;), Timestamp.class);\n\nTable&lt;?&gt; latest = context\n    .select(SI.SURVEY_DEF_ID.as(surveyDefId), SI.STATUS.as(status), SI.END_DATE.as(endDate))\n    .from(SI)\n    .where(SI.SURVEY_DEF_ID.eq(param(&quot;?1&quot;, Integer.class)), SI.STATUS.notIn(14))\n    .orderBy(SI.END_DATE.desc())\n    .limit(1)\n    .asTable(&quot;latest&quot;);\n\ncontext.update(SD)\n    .join(latest)\n    .on(SD.ID.eq(latest.field(surveyDefId)))\n    .set(SD.LATEST_RESULT, latest.field(status))\n    .set(SD.LATEST_SURVEY_END_DATE, latest.field(endDate))\n    .execute();\n</code></pre>\n<p>Note: The code assumes that <code>LATEST_RESULT</code> and <code>LATEST_SURVEY_END_DATE</code> are the exact names of the columns in your <code>SURVEY_DEFINITION</code> table and that their types match with the ones from the subquery. If that's not the case, you might need to change those names or add type conversions.</p>\n<p>As you can see, I am using the <a href=\"https://www.jooq.org/javadoc/3.12.1/org.jooq/org/jooq/TableOnStep.html#on(java.lang.String)\" rel=\"nofollow noreferrer\"><code>on()</code> method</a> (part of the <a href=\"https://www.jooq.org/doc/3.12/manual/sql-building/table-expressions/joined-tables/join-predicate-on/\" rel=\"nofollow noreferrer\"><code>ON</code> clause</a> on a <a href=\"https://www.jooq.org/javadoc/3.12.1/org.jooq/org/jooq/TableOnStep.html\" rel=\"nofollow noreferrer\"><code>TableOnStep</code> object</a>, which is returned by the <a href=\"https://www.jooq.org/doc/latest/manual/sql-building/sql-statements/select-statement/join-clause/\" rel=\"nofollow noreferrer\"><code>join(latest)</code></a> call.<br />\nI am not using <code>on()</code> not on a <code>SelectLimitPercentStep</code> object (which does not have an <code>on()</code> method, hence your original error message &quot;<code>Cannot resolve method 'on' in '&quot;SelectLimitPercentStep'</code>&quot;).</p>\n<pre class=\"lang-java prettyprint-override\"><code>context.update(SD)\n    .join(latest)\n    .on(SD.ID.eq(latest.field(surveyDefId)))\n    ...\n</code></pre>\n<p>Here, <code>latest</code> is a <code>Table</code> object that represents a derived table.<br />\nSo calling <code>on()</code> in this context should not trigger a compilation error.</p>\n<hr />\n<blockquote>\n<p>For some reason I can't do a join after <code>context.update(SD)</code>, there's simply no such method. Maybe the reason is older jOOQ version.</p>\n</blockquote>\n<p>An alternative workaround would be to perform the subquery first, store its results, and then use these results in the update statement.<br />\nAs an example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// First, execute the subquery and fetch the results\nRecord3&lt;String, Integer, Date&gt; record = dslContext.select(SURVEY_INSTANCE.SURVEY_DEF_ID, SURVEY_INSTANCE.STATUS, SURVEY_INSTANCE.END_DATE)\n    .from(SURVEY_INSTANCE)\n    .where(SURVEY_INSTANCE.SURVEY_DEF_ID.eq(definitionId))\n    .and(SURVEY_INSTANCE.STATUS.notIn(14))\n    .orderBy(SURVEY_INSTANCE.END_DATE.desc())\n    .limit(1)\n    .fetchOne();\n\n// Next, use the results of the subquery in the UPDATE statement\nif (record != null) {\n    dslContext.update(SURVEY_DEFINITION)\n        .set(SURVEY_DEFINITION.LATEST_RESULT, record.get(SURVEY_INSTANCE.STATUS))\n        .set(SURVEY_DEFINITION.LATEST_SURVEY_END_DATE, record.get(SURVEY_INSTANCE.END_DATE))\n        .where(SURVEY_DEFINITION.ID.eq(record.get(SURVEY_INSTANCE.SURVEY_DEF_ID)))\n        .execute();\n}\n</code></pre>\n<p>This workaround separates the operation into two parts, and it first fetches the record from the subquery and then uses that data to perform the update.</p>\n"}],"owner":{"account_id":14358183,"reputation":339,"user_id":10371394,"display_name":"Sebastian Lore"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":155,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76459388,"answer_count":2,"score":1,"last_activity_date":1686600483,"creation_date":1686324813,"question_id":76441723,"body_markdown":"I have the following (a bit complex for me) MariaDB 10.6 update:\r\n```sql\r\nupdate survey_definition sd\r\n    join (select si.survey_def_id, si.status, si.end_date\r\n          from survey_instance si\r\n          where si.survey_def_id = ?1\r\n            and si.status not in (14)\r\n          order by si.end_date desc\r\n          limit 1) latest on sd.id = latest.survey_def_id\r\nset sd.latest_result=latest.status,\r\n    sd.latest_survey_end_date=latest.end_date;\r\n\r\n```\r\n\r\nHow to transform it into jOOQ DSL?\r\nIs it possible?\r\n\r\nMy best (unfinished) try is:\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/pOku8.png\r\n\r\njOOQ version: 3.12.1\r\n\r\nText of the DSL:\r\n\r\n``` dsl\r\ndslContext.update(SURVEY_DEFINITION\r\n    .join(dslContext.select (SURVEY._INSTANCE.SURVEY_DEFINITION_ID, SURVEY_INSTANCE.STATUS, SURVEY_INSTANCE.END_TIME_MILLIS)\r\n        . from(SURVEY_INSTANCE) SelectJoinStep&lt;Record3&lt;String, ScanStatus, Long&gt;&gt;\r\n        . where(SURVEY_INSTANCE.SURVEY_DEFINITION_ID.eq(definitionId)) SelectConditionStep&lt;Record3&lt;Sting, ScanStatus, Long&gt;&gt;\r\n        . limit(1) SelectLimitPercentStep&lt;Record3&lt;Sting, ScanStatus, Long&gt;&gt;\r\n        .on (SURVEY_INSTANCE.ID.eq(SURVEY_DEFINITION.ID))\r\n    )\r\n```\r\n\r\nThe `.on()` triggered: &quot;`Cannot resolve method &#39;on&#39; in &#39;&quot;SelectLimitPercentStep&#39;`&quot;.\r\n\r\n\r\n**UPD:** I came up with the following solution:\r\n```java\r\n        final Table&lt;Record3&lt;String, ScanStatus, Long&gt;&gt; latest = dslContext\r\n            .select(SURVEY_INSTANCE.SURVEY_DEFINITION_ID, SURVEY_INSTANCE.STATUS, SURVEY_INSTANCE.END_TIME_MILLIS)\r\n            .from(SURVEY_INSTANCE)\r\n            .where(DSL.and(\r\n                SURVEY_INSTANCE.SURVEY_DEFINITION_ID.eq(definitionId),\r\n                SURVEY_INSTANCE.STATUS.notEqual(ScanStatus.DELETED))\r\n            )\r\n            .orderBy(SURVEY_INSTANCE.END_TIME_MILLIS.desc())\r\n            .limit(1)\r\n            .asTable(&quot;latest&quot;);\r\n        dslContext.update(SURVEY_DEFINITION\r\n                .join(latest)\r\n                .on(latest.field(SURVEY_INSTANCE.SURVEY_DEFINITION_ID).eq(SURVEY_DEFINITION.ID)))\r\n            .set(SURVEY_DEFINITION.LATEST_SCAN_STATUS, latest.field(SURVEY_INSTANCE.STATUS))\r\n            .where(SURVEY_DEFINITION.ID.eq(definitionId))\r\n            .execute();\r\n```\r\n\r\nThanks both @LukasEder and @VonC for help &amp; ideas.","title":"How to translate the following SQL into jOOQ","body":"<p>I have the following (a bit complex for me) MariaDB 10.6 update:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>update survey_definition sd\n    join (select si.survey_def_id, si.status, si.end_date\n          from survey_instance si\n          where si.survey_def_id = ?1\n            and si.status not in (14)\n          order by si.end_date desc\n          limit 1) latest on sd.id = latest.survey_def_id\nset sd.latest_result=latest.status,\n    sd.latest_survey_end_date=latest.end_date;\n\n</code></pre>\n<p>How to transform it into jOOQ DSL?\nIs it possible?</p>\n<p>My best (unfinished) try is:\n<a href=\"https://i.stack.imgur.com/pOku8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pOku8.png\" alt=\"enter image description here\" /></a></p>\n<p>jOOQ version: 3.12.1</p>\n<p>Text of the DSL:</p>\n<pre><code>dslContext.update(SURVEY_DEFINITION\n    .join(dslContext.select (SURVEY._INSTANCE.SURVEY_DEFINITION_ID, SURVEY_INSTANCE.STATUS, SURVEY_INSTANCE.END_TIME_MILLIS)\n        . from(SURVEY_INSTANCE) SelectJoinStep&lt;Record3&lt;String, ScanStatus, Long&gt;&gt;\n        . where(SURVEY_INSTANCE.SURVEY_DEFINITION_ID.eq(definitionId)) SelectConditionStep&lt;Record3&lt;Sting, ScanStatus, Long&gt;&gt;\n        . limit(1) SelectLimitPercentStep&lt;Record3&lt;Sting, ScanStatus, Long&gt;&gt;\n        .on (SURVEY_INSTANCE.ID.eq(SURVEY_DEFINITION.ID))\n    )\n</code></pre>\n<p>The <code>.on()</code> triggered: &quot;<code>Cannot resolve method 'on' in '&quot;SelectLimitPercentStep'</code>&quot;.</p>\n<p><strong>UPD:</strong> I came up with the following solution:</p>\n<pre class=\"lang-java prettyprint-override\"><code>        final Table&lt;Record3&lt;String, ScanStatus, Long&gt;&gt; latest = dslContext\n            .select(SURVEY_INSTANCE.SURVEY_DEFINITION_ID, SURVEY_INSTANCE.STATUS, SURVEY_INSTANCE.END_TIME_MILLIS)\n            .from(SURVEY_INSTANCE)\n            .where(DSL.and(\n                SURVEY_INSTANCE.SURVEY_DEFINITION_ID.eq(definitionId),\n                SURVEY_INSTANCE.STATUS.notEqual(ScanStatus.DELETED))\n            )\n            .orderBy(SURVEY_INSTANCE.END_TIME_MILLIS.desc())\n            .limit(1)\n            .asTable(&quot;latest&quot;);\n        dslContext.update(SURVEY_DEFINITION\n                .join(latest)\n                .on(latest.field(SURVEY_INSTANCE.SURVEY_DEFINITION_ID).eq(SURVEY_DEFINITION.ID)))\n            .set(SURVEY_DEFINITION.LATEST_SCAN_STATUS, latest.field(SURVEY_INSTANCE.STATUS))\n            .where(SURVEY_DEFINITION.ID.eq(definitionId))\n            .execute();\n</code></pre>\n<p>Thanks both @LukasEder and @VonC for help &amp; ideas.</p>\n"},{"tags":["java","android","window"],"comments":[{"owner":{"account_id":7497774,"reputation":623,"user_id":5697347,"display_name":"Marsroverr"},"score":0,"creation_date":1686600612,"post_id":76459970,"comment_id":134818442,"body_markdown":"Yes, you&#39;d need some kind of server on your computer in order to serve the files - In most cases your phone cannot arbitrarily grab files off a computer connected to its hotspot","body":"Yes, you&#39;d need some kind of server on your computer in order to serve the files - In most cases your phone cannot arbitrarily grab files off a computer connected to its hotspot"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1686602529,"post_id":76459970,"comment_id":134818796,"body_markdown":"Samba protocol. Jcifs. Smbj.","body":"Samba protocol. Jcifs. Smbj."}],"owner":{"account_id":24600954,"reputation":1,"user_id":18503839,"display_name":"TrynaGetByGal"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":13,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686600400,"creation_date":1686600400,"question_id":76459970,"body_markdown":"I want to make an android app that will remotely connect to my computer and fetch all music files on a particular folder and then play them. The probleme is that i don&#39;t know how to fetch the files.\r\nDo i have to set up a server ?\r\nI connected the computer to the phone&#39;s hotspot and was able to access the xamp dashboard on the phone using the computer&#39;s ip adresse. Also the folder is a shared one.","title":"Accessing files stored on pc using an android app","body":"<p>I want to make an android app that will remotely connect to my computer and fetch all music files on a particular folder and then play them. The probleme is that i don't know how to fetch the files.\nDo i have to set up a server ?\nI connected the computer to the phone's hotspot and was able to access the xamp dashboard on the phone using the computer's ip adresse. Also the folder is a shared one.</p>\n"},{"tags":["java","ubuntu","raspberry-pi","processbuilder"],"comments":[{"owner":{"account_id":9609,"reputation":92294,"user_id":17833,"display_name":"Anya Shenanigans"},"score":0,"creation_date":1686599292,"post_id":76459342,"comment_id":134818234,"body_markdown":"Based on the `arecord -l` output, it looks like `-D hw:3,0` should be the correct value to try (card,device)","body":"Based on the <code>arecord -l</code> output, it looks like <code>-D hw:3,0</code> should be the correct value to try (card,device)"}],"answers":[{"comments":[{"owner":{"account_id":259638,"reputation":4452,"user_id":542664,"accept_rate":84,"display_name":"Luuk D. Jansen"},"score":0,"creation_date":1686597121,"post_id":76459433,"comment_id":134817889,"body_markdown":"I think you might be onto something that it is not the file system. I added root to the audio group, but it made no change, which record shows the right exec, all under /dev are owned by root, but by adding -D hw:0,0 I get the same error on both the user and root. I will update the question with the output, as maybe 0,0 is wrong?","body":"I think you might be onto something that it is not the file system. I added root to the audio group, but it made no change, which record shows the right exec, all under /dev are owned by root, but by adding -D hw:0,0 I get the same error on both the user and root. I will update the question with the output, as maybe 0,0 is wrong?"},{"owner":{"account_id":259638,"reputation":4452,"user_id":542664,"accept_rate":84,"display_name":"Luuk D. Jansen"},"score":0,"creation_date":1686599672,"post_id":76459433,"comment_id":134818286,"body_markdown":"It works with hw:3,0 (card 3, 0), and -c 1.","body":"It works with hw:3,0 (card 3, 0), and -c 1."}],"tags":[],"owner":{"account_id":1335627,"reputation":1470,"user_id":1278463,"display_name":"Borislav Gizdov"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1686595181,"creation_date":1686595181,"answer_id":76459433,"question_id":76459342,"body_markdown":"The error may not be related to the file being recorded, but rather to the sound device that arecord is using.\r\n\r\nTo resolve this issue, consider the following steps:\r\n\r\n- Verify if you need to pass -D hw:1,0 (change the device id) as a device parameter to arecord.\r\n\r\n- Ensure that the audio device files (located under /dev/) are accessible by the root user.\r\n\r\n- Check if the arecord command is in the $PATH for the root user. You can verify this by running âwhich arecordâ as root.\r\n\r\n- You can add the root user to the audio group to grant access to audio devices.\r\n\r\n\r\nYou may also find these links helpful:\r\n\r\nhttps://github.com/synesthesiam/voice2json/issues/28\r\n\r\nhttps://stackoverflow.com/questions/69150641/aplay-main831-audio-open-error-no-such-file-or-directory","title":"Running ProcessBuilder as root gives &#39;No such file or directory&#39;","body":"<p>The error may not be related to the file being recorded, but rather to the sound device that arecord is using.</p>\n<p>To resolve this issue, consider the following steps:</p>\n<ul>\n<li><p>Verify if you need to pass -D hw:1,0 (change the device id) as a device parameter to arecord.</p>\n</li>\n<li><p>Ensure that the audio device files (located under /dev/) are accessible by the root user.</p>\n</li>\n<li><p>Check if the arecord command is in the $PATH for the root user. You can verify this by running âwhich arecordâ as root.</p>\n</li>\n<li><p>You can add the root user to the audio group to grant access to audio devices.</p>\n</li>\n</ul>\n<p>You may also find these links helpful:</p>\n<p><a href=\"https://github.com/synesthesiam/voice2json/issues/28\" rel=\"nofollow noreferrer\">https://github.com/synesthesiam/voice2json/issues/28</a></p>\n<p><a href=\"https://stackoverflow.com/questions/69150641/aplay-main831-audio-open-error-no-such-file-or-directory\">aplay: main:831: audio open error: No such file or directory</a></p>\n"}],"owner":{"account_id":259638,"reputation":4452,"user_id":542664,"accept_rate":84,"display_name":"Luuk D. Jansen"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":97,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76459433,"answer_count":1,"score":0,"last_activity_date":1686599652,"creation_date":1686594144,"question_id":76459342,"body_markdown":"I have a Java program which record audio using mixer on a Raspberry Pi. I am using ProcessBuilder to achieve this and was working fine last year. Now it doesn&#39;t however, and I get the following error when running the application as root:\r\n\r\n&gt; Starting Starting recording /tmp/test.wav - 19:14:36.64\r\n&gt; /usr/bin/arecord -f dat /tmp/test.wav Exception: Command exited with\r\n&gt; code: 1 with output: arecord: main:830: audio open error: No such file\r\n&gt; or directory\r\n&gt; \r\n&gt; java.lang.Exception: Command exited with code: 1 with output: arecord:\r\n&gt; main:830: audio open error: No such file or directory\r\n&gt; \r\n&gt; \tat Main.record(Main.java:38) \tat Main.main(Main.java:11)\r\n\r\nWhen I run as the default &#39;pi&#39; user (java -jar audioTest.jar) it runs fine.\r\n\r\nThe only difference between last year is that I am now compiling to Java 11 instead of 8 and possibly running on a newer version of Raspbian OS (11 bullseye).\r\n\r\nI have it running with nohup through an init.d script so it is running as the root user. This is also required to access the GPIO of the Raspberry as far as I know.\r\n\r\nThis is  my test code:\r\n\r\n    import java.io.BufferedReader;\r\n    import java.io.File;\r\n    import java.io.InputStreamReader;\r\n    import java.text.SimpleDateFormat;\r\n    import java.util.Date;\r\n    \r\n    public class Main {\r\n    \r\n        public static void main(String[] args) {\r\n            System.out.println(&quot;Starting&quot;);\r\n            record(new File(&quot;/tmp/test.mp3&quot;));\r\n        }\r\n        \r\n        public static void record(File file) {\r\n             try {\r\n                 String wavFile = file.getAbsolutePath().substring(0, file.getAbsolutePath().lastIndexOf(&quot;.&quot;)) + &quot;.wav&quot;;\r\n                 try {\r\n                     String player = &quot;/usr/bin/arecord&quot;;\r\n                     ProcessBuilder pb = new ProcessBuilder(player, &quot;-f&quot;, &quot;dat&quot;, wavFile);\r\n                     pb.redirectErrorStream(true);\r\n     \r\n                     System.out.println(&quot;Starting recording &quot; + wavFile + &quot; - &quot; + new SimpleDateFormat(&quot;HH:mm:ss.S&quot;).format(new Date()));\r\n                     System.out.println(String.join(&quot; &quot;,pb.command().toArray(new String[0])));\r\n                     //Process pr = pb.start();\r\n                     Process recorderProcess = pb.start();\r\n     \r\n                     BufferedReader error = new BufferedReader(new InputStreamReader(recorderProcess.getInputStream()));\r\n     \r\n                     String errorLine;\r\n                     StringBuilder accErrorString = new StringBuilder();\r\n     \r\n                     while ((errorLine = error.readLine()) != null) {\r\n                         accErrorString.append(errorLine).append(&quot;\\n&quot;);\r\n                     }\r\n     \r\n                     int exitVal = recorderProcess.waitFor();\r\n                     if (exitVal != 0) {\r\n                         throw new Exception(&quot;Command exited with code: &quot; + exitVal + &quot; with output: &quot; + accErrorString);\r\n                     }\r\n                 } catch (java.io.IOException ioex) {\r\n                     // This would be the normal exit it seems.\r\n                 }\r\n            } catch (Exception ex){\r\n                 System.out.println(&quot;Exception: &quot; + ex.getMessage());\r\n                 ex.printStackTrace(System.out);\r\n             }\r\n         }\r\n    }\r\n\r\nAny idea why this is happening would be greatly appreciated.\r\n\r\n[Edit]\r\nThe output of record -l:\r\n\r\n    **** List of CAPTURE Hardware Devices ****\r\n    card 3: Device [USB Audio Device], device 0: USB Audio [USB Audio]\r\n      Subdevices: 1/1\r\n      Subdevice #0: subdevice #0\r\n\r\nBut adding -D hw:0,0 now gives the error on both. So for th e&#39;pi&#39; user it might select it correctly and not for the root. With hw:3,0 it works, and then add the -c 1 flag to select the channel.","title":"Running ProcessBuilder as root gives &#39;No such file or directory&#39;","body":"<p>I have a Java program which record audio using mixer on a Raspberry Pi. I am using ProcessBuilder to achieve this and was working fine last year. Now it doesn't however, and I get the following error when running the application as root:</p>\n<blockquote>\n<p>Starting Starting recording /tmp/test.wav - 19:14:36.64\n/usr/bin/arecord -f dat /tmp/test.wav Exception: Command exited with\ncode: 1 with output: arecord: main:830: audio open error: No such file\nor directory</p>\n<p>java.lang.Exception: Command exited with code: 1 with output: arecord:\nmain:830: audio open error: No such file or directory</p>\n<p>at Main.record(Main.java:38)    at Main.main(Main.java:11)</p>\n</blockquote>\n<p>When I run as the default 'pi' user (java -jar audioTest.jar) it runs fine.</p>\n<p>The only difference between last year is that I am now compiling to Java 11 instead of 8 and possibly running on a newer version of Raspbian OS (11 bullseye).</p>\n<p>I have it running with nohup through an init.d script so it is running as the root user. This is also required to access the GPIO of the Raspberry as far as I know.</p>\n<p>This is  my test code:</p>\n<pre><code>import java.io.BufferedReader;\nimport java.io.File;\nimport java.io.InputStreamReader;\nimport java.text.SimpleDateFormat;\nimport java.util.Date;\n\npublic class Main {\n\n    public static void main(String[] args) {\n        System.out.println(&quot;Starting&quot;);\n        record(new File(&quot;/tmp/test.mp3&quot;));\n    }\n    \n    public static void record(File file) {\n         try {\n             String wavFile = file.getAbsolutePath().substring(0, file.getAbsolutePath().lastIndexOf(&quot;.&quot;)) + &quot;.wav&quot;;\n             try {\n                 String player = &quot;/usr/bin/arecord&quot;;\n                 ProcessBuilder pb = new ProcessBuilder(player, &quot;-f&quot;, &quot;dat&quot;, wavFile);\n                 pb.redirectErrorStream(true);\n \n                 System.out.println(&quot;Starting recording &quot; + wavFile + &quot; - &quot; + new SimpleDateFormat(&quot;HH:mm:ss.S&quot;).format(new Date()));\n                 System.out.println(String.join(&quot; &quot;,pb.command().toArray(new String[0])));\n                 //Process pr = pb.start();\n                 Process recorderProcess = pb.start();\n \n                 BufferedReader error = new BufferedReader(new InputStreamReader(recorderProcess.getInputStream()));\n \n                 String errorLine;\n                 StringBuilder accErrorString = new StringBuilder();\n \n                 while ((errorLine = error.readLine()) != null) {\n                     accErrorString.append(errorLine).append(&quot;\\n&quot;);\n                 }\n \n                 int exitVal = recorderProcess.waitFor();\n                 if (exitVal != 0) {\n                     throw new Exception(&quot;Command exited with code: &quot; + exitVal + &quot; with output: &quot; + accErrorString);\n                 }\n             } catch (java.io.IOException ioex) {\n                 // This would be the normal exit it seems.\n             }\n        } catch (Exception ex){\n             System.out.println(&quot;Exception: &quot; + ex.getMessage());\n             ex.printStackTrace(System.out);\n         }\n     }\n}\n</code></pre>\n<p>Any idea why this is happening would be greatly appreciated.</p>\n<p>[Edit]\nThe output of record -l:</p>\n<pre><code>**** List of CAPTURE Hardware Devices ****\ncard 3: Device [USB Audio Device], device 0: USB Audio [USB Audio]\n  Subdevices: 1/1\n  Subdevice #0: subdevice #0\n</code></pre>\n<p>But adding -D hw:0,0 now gives the error on both. So for th e'pi' user it might select it correctly and not for the root. With hw:3,0 it works, and then add the -c 1 flag to select the channel.</p>\n"},{"tags":["java","android","progress-bar","android-view"],"owner":{"account_id":21116516,"reputation":520,"user_id":15523510,"display_name":"KiraHoneybee"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686598823,"creation_date":1686583828,"question_id":76458161,"body_markdown":"Caveat: I am a bit of a neophyte on Android, working with someone else&#39;s code.\r\n\r\nThe app I&#39;m working with does a long background process and currently appears to just &quot;hang&quot; while it&#39;s working.  \r\n\r\nI just want to show a progress bar while it&#39;s working.  The process is not on the main thread, but the flow of the thread that invokes the process needs to go like this:\r\n\r\n1. Show progress bar\r\n2. Call function that does huge processing and returns when done (and updates progress bar)\r\n3. Hide progress bar\r\n\r\nThis is the function I came up with:\r\n\r\n    int mProgressMax = 0;\r\n    ProgressBar mProgressBar = null;\r\n    void ShowProgressBar() {\r\n        mActivity.runOnUiThread(() -&gt; {\r\n            mProgressBar = new ProgressBar(mActivity, null, android.R.attr.progressBarStyleSmall);\r\n            mProgressBar.setMax(mProgressMax);\r\n            ViewGroup rootView = mActivity.getWindow().getDecorView().findViewById(android.R.id.content);\r\n            rootView.addView(mProgressBar);\r\n            mProgressBar.setVisibility(View.VISIBLE);\r\n        });\r\n    }\r\n\r\nI do not have any kind of &quot;layout&quot; for the progress bar because the app creates all its layouts programmatically.  So I also have to create it programmatically, since I don&#39;t have permission to restructure anything.\r\n\r\nAs it stands, I never see the progress bar.  I get no errors or anything, it just never shows.\r\n\r\nWhat do I need to add to make this work?\r\n\r\nExtra Info: The thread that does the long processing is invoked via an intent where the user had to pick the file.  I think this intent might be covering the progress bar, but I don&#39;t know how to get the progress bar on top of it.\r\n\r\nThis is how that intent is invoked:\r\n\r\n    public void OpenFilePicker(Uri uriToLoad, int theCode) {\r\n        Intent aIntent = new Intent(Intent.ACTION_OPEN_DOCUMENT_TREE);\r\n        aIntent.putExtra(&quot;android.content.extra.SHOW_ADVANCED&quot;, true);\r\n        aIntent.putExtra(&quot;android.content.extra.FANCY&quot;, true);\r\n        //aIntent.putExtra(&quot;android.content.extra.SHOW_FILESIZE&quot;, true);\r\n        mActivity.startActivityForResult(aIntent, theCode);\r\n    }\r\n\r\n...and then the onActivityResult is where the long process (including the progress bar show) happens.\r\n\r\n","title":"Progress bar never shows","body":"<p>Caveat: I am a bit of a neophyte on Android, working with someone else's code.</p>\n<p>The app I'm working with does a long background process and currently appears to just &quot;hang&quot; while it's working.</p>\n<p>I just want to show a progress bar while it's working.  The process is not on the main thread, but the flow of the thread that invokes the process needs to go like this:</p>\n<ol>\n<li>Show progress bar</li>\n<li>Call function that does huge processing and returns when done (and updates progress bar)</li>\n<li>Hide progress bar</li>\n</ol>\n<p>This is the function I came up with:</p>\n<pre><code>int mProgressMax = 0;\nProgressBar mProgressBar = null;\nvoid ShowProgressBar() {\n    mActivity.runOnUiThread(() -&gt; {\n        mProgressBar = new ProgressBar(mActivity, null, android.R.attr.progressBarStyleSmall);\n        mProgressBar.setMax(mProgressMax);\n        ViewGroup rootView = mActivity.getWindow().getDecorView().findViewById(android.R.id.content);\n        rootView.addView(mProgressBar);\n        mProgressBar.setVisibility(View.VISIBLE);\n    });\n}\n</code></pre>\n<p>I do not have any kind of &quot;layout&quot; for the progress bar because the app creates all its layouts programmatically.  So I also have to create it programmatically, since I don't have permission to restructure anything.</p>\n<p>As it stands, I never see the progress bar.  I get no errors or anything, it just never shows.</p>\n<p>What do I need to add to make this work?</p>\n<p>Extra Info: The thread that does the long processing is invoked via an intent where the user had to pick the file.  I think this intent might be covering the progress bar, but I don't know how to get the progress bar on top of it.</p>\n<p>This is how that intent is invoked:</p>\n<pre><code>public void OpenFilePicker(Uri uriToLoad, int theCode) {\n    Intent aIntent = new Intent(Intent.ACTION_OPEN_DOCUMENT_TREE);\n    aIntent.putExtra(&quot;android.content.extra.SHOW_ADVANCED&quot;, true);\n    aIntent.putExtra(&quot;android.content.extra.FANCY&quot;, true);\n    //aIntent.putExtra(&quot;android.content.extra.SHOW_FILESIZE&quot;, true);\n    mActivity.startActivityForResult(aIntent, theCode);\n}\n</code></pre>\n<p>...and then the onActivityResult is where the long process (including the progress bar show) happens.</p>\n"},{"tags":["java","android-studio","object","bitmap","android-bitmap"],"owner":{"account_id":22766988,"reputation":47,"user_id":16924889,"display_name":"Ablac"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686598519,"creation_date":1686276352,"question_id":76436748,"body_markdown":"I&#39;m building a game for my Android app studio class, and the game&#39;s objective is to pop the bubbles. I currently have 7 bubble textures installed in the game and set up under the Bubble.java file (See Below) in the Gameview.java file I have the game generating the bubbles and then moving them down. I followed a tutorial to get the game to this point and have been trying to modify it to generate the other 6 bubbles, but the most I can get it to do is have the bubbles blink each frame through the different textures as they move down the screen. All the bubbles are the same X &amp; Y of 200\r\n\r\nI removed all imports for simplicity of the files.\r\n\r\n```\r\npublic class Bubble {\r\n    Bitmap bubble[] = new Bitmap[7];\r\n    int bubbleFrame = 0;\r\n    int bubbleX, bubbleY, bubbleV;\r\n    Random random;\r\n\r\n    public Bubble(Context context){\r\n        bubble[0] = BitmapFactory.decodeResource(context.getResources(), R.drawable.bubble0);\r\n        bubble[1] = BitmapFactory.decodeResource(context.getResources(), R.drawable.bubble1);\r\n        bubble[2] = BitmapFactory.decodeResource(context.getResources(), R.drawable.bubble2);\r\n        bubble[3] = BitmapFactory.decodeResource(context.getResources(), R.drawable.bubble_green);\r\n        bubble[4] = BitmapFactory.decodeResource(context.getResources(), R.drawable.bubble_blue);\r\n        bubble[5] = BitmapFactory.decodeResource(context.getResources(), R.drawable.bubble_yellow);\r\n        bubble[6] = BitmapFactory.decodeResource(context.getResources(), R.drawable.bubble_red);\r\n        random = new Random();\r\n        resetPosition();\r\n    }\r\n\r\n    public Bitmap getBubble(int bubbleFrame){\r\n        return bubble[bubbleFrame];\r\n    }\r\n\r\n    public int getBubbleWidth(){\r\n        return bubble[0].getWidth();\r\n    }\r\n\r\n    public int getBubbleHeight(){\r\n        return bubble[0].getHeight();\r\n    }\r\n\r\n    public void resetPosition() {\r\n        bubbleX = random.nextInt(GameView.dWidth - getBubbleWidth());\r\n        bubbleY = -200 + random.nextInt(600) * -1;\r\n        bubbleV = 35 + random.nextInt(16);\r\n    }\r\n\r\n}\r\n```\r\n\r\nHere is my Gameview file as well.\r\n\r\n```\r\npublic class GameView extends View {\r\n\r\n    Bitmap background, ground, player;\r\n    Rect rectBackground, rectGround;\r\n    Context context;\r\n    Handler handler;\r\n    final long UPDATE_MILLIS = 30;\r\n    Runnable runnable;\r\n    Paint textPaint = new Paint();\r\n    Paint healthPaint = new Paint();\r\n    float TEXT_SIZE = 120;\r\n    int points = 0;\r\n    int life = 30;\r\n    static int dWidth, dHeight;\r\n    Random random;\r\n    float playerX, playerY;\r\n    float oldX;\r\n    float oldPlayerX;\r\n    ArrayList&lt;Bubble&gt; bubbles;\r\n    ArrayList&lt;Pop&gt; pops;\r\n\r\n    public GameView(Context context){\r\n        super(context);\r\n        this.context = context;\r\n        background = BitmapFactory.decodeResource(getResources(), R.drawable.background0);\r\n        ground = BitmapFactory.decodeResource(getResources(), R.drawable.ground);\r\n        player = BitmapFactory.decodeResource(getResources(), R.drawable.player);\r\n        Display display = ((Activity) getContext()).getWindowManager().getDefaultDisplay();\r\n        Point size = new Point();\r\n        display.getSize(size);\r\n        dWidth = size.x;\r\n        dHeight = size.y;\r\n        rectBackground = new Rect(0,0,dWidth,dHeight);\r\n        rectGround = new Rect(0,dHeight - ground.getHeight(), dWidth, dHeight);\r\n        handler = new Handler();\r\n        runnable = new Runnable() {\r\n            @Override\r\n            public void run() {\r\n                invalidate();\r\n            }\r\n        };\r\n        textPaint.setColor(Color.rgb(255,165,0));\r\n        textPaint.setTextSize(TEXT_SIZE);\r\n        textPaint.setTextAlign(Paint.Align.LEFT);\r\n        textPaint.setTypeface(ResourcesCompat.getFont(context, R.font.bubblegum));\r\n        healthPaint.setColor(Color.GREEN);\r\n        random = new Random();\r\n        playerX = dWidth / 2 - player.getWidth() / 2;\r\n        playerY = dHeight - ground.getHeight() - player.getHeight();\r\n        bubbles = new ArrayList&lt;&gt;();\r\n        pops = new ArrayList&lt;&gt;();\r\n        // Add First Bubble to game\r\n        Bubble bubble = new Bubble(context);\r\n        bubbles.add(bubble);\r\n    }\r\n\r\n    // Draw Game\r\n    @Override\r\n    protected void onDraw (Canvas canvas) {\r\n        super.onDraw(canvas);\r\n        canvas.drawBitmap(background, null, rectBackground, null);\r\n        canvas.drawBitmap(ground, null, rectGround, null);\r\n        canvas.drawBitmap(player, playerX, playerY, null);\r\n\r\n        // Draw Bubbles\r\n        for (int i=0; i&lt;bubbles.size(); i++){\r\n            canvas.drawBitmap(bubbles.get(i).getBubble(bubbles.get(i).bubbleFrame), bubbles.get(i).bubbleX, bubbles.get(i).bubbleY, null);\r\n            bubbles.get(i).bubbleY += bubbles.get(i).bubbleV;\r\n\r\n            // Bubble Collision Detection with Ground - Remove Lives.\r\n            if (bubbles.get(i).bubbleY + bubbles.get(i).getBubbleHeight() &gt;= dHeight - ground.getHeight()){\r\n                //life --;\r\n                Pop pop = new Pop(context);\r\n                pop.popX = bubbles.get(i).bubbleX;\r\n                pop.popY = bubbles.get(i).bubbleY;\r\n                pops.add(pop);\r\n                bubbles.get(i).resetPosition();\r\n                \r\n                //Check for Life 0\r\n                if (life == 0){\r\n                    Intent intent = new Intent(context, GameOver.class);\r\n                    intent.putExtra(&quot;points&quot;, points);\r\n                    context.startActivity(intent);\r\n                    ((Activity) context).finish();\r\n                }\r\n            }\r\n        }\r\n\r\n        // Player Collision Detection with Bubble - Add Points.\r\n        for (int i=0; i &lt; bubbles.size(); i++){\r\n            if (bubbles.get(i).bubbleX + bubbles.get(i).getBubbleWidth() &gt;= playerX\r\n                    &amp;&amp; bubbles.get(i).bubbleX &lt;= playerX + player.getWidth()\r\n                    &amp;&amp; bubbles.get(i).bubbleY + bubbles.get(i).getBubbleWidth() &gt;= playerY\r\n                    &amp;&amp; bubbles.get(i).bubbleY + bubbles.get(i).getBubbleWidth() &lt;= playerY + player.getHeight()){\r\n                points += 10;\r\n\r\n                // Add more bubbles based on Points value\r\n                if (points % 400 == 0 || points == 50 || points == 100 || points == 200){\r\n                    Bubble bubble = new Bubble(context);\r\n                    bubbles.add(bubble);\r\n                }\r\n                Pop pop = new Pop(context);\r\n                pop.popX = bubbles.get(i).bubbleX;\r\n                pop.popY = bubbles.get(i).bubbleY;\r\n                pops.add(pop);\r\n                bubbles.get(i).resetPosition();\r\n            }\r\n        }\r\n\r\n        // Remove Pop image after bubble is popped.\r\n        for (int i=0; i&lt;pops.size(); i++){\r\n            canvas.drawBitmap(pops.get(i).getPop(pops.get(i).popFrame), pops.get(i).popX,\r\n                    pops.get(i).popY, null);\r\n            pops.get(i).popFrame++;\r\n            if (pops.get(i).popFrame &gt; 0){\r\n                pops.remove(i);\r\n            }\r\n        }\r\n\r\n        // Player health bar\r\n        if (life == 2){\r\n            healthPaint.setColor(Color.YELLOW);\r\n        } else if (life == 1) {\r\n            healthPaint.setColor(Color.RED);\r\n        }\r\n        canvas.drawRect(dWidth-200, 30, dWidth-200+60*life, 80, healthPaint);\r\n        canvas.drawText(&quot;&quot; + points, 20, TEXT_SIZE, textPaint);\r\n        handler.postDelayed(runnable, UPDATE_MILLIS);\r\n    }\r\n\r\n    // Player movement through touch input.\r\n    @Override\r\n    public boolean onTouchEvent(MotionEvent event) {\r\n        float touchX = event.getX();\r\n        float touchY = event.getY();\r\n        if (touchY &gt;= playerY){\r\n            int action = event.getAction();\r\n            if (action == MotionEvent.ACTION_DOWN){\r\n                oldX = event.getX();\r\n                oldPlayerX = playerX;\r\n            }\r\n            if (action == MotionEvent.ACTION_MOVE){\r\n                float shift = oldX - touchX;\r\n                float newPlayerX = oldPlayerX - shift;\r\n                if (newPlayerX &lt;= 0)\r\n                    playerX = 0;\r\n                else if (newPlayerX &gt;= dWidth - player.getWidth())\r\n                    playerX = dWidth - player.getWidth();\r\n                else\r\n                    playerX = newPlayerX;\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n}\r\n```","title":"Drawing Bubbles in Android Studio Java","body":"<p>I'm building a game for my Android app studio class, and the game's objective is to pop the bubbles. I currently have 7 bubble textures installed in the game and set up under the Bubble.java file (See Below) in the Gameview.java file I have the game generating the bubbles and then moving them down. I followed a tutorial to get the game to this point and have been trying to modify it to generate the other 6 bubbles, but the most I can get it to do is have the bubbles blink each frame through the different textures as they move down the screen. All the bubbles are the same X &amp; Y of 200</p>\n<p>I removed all imports for simplicity of the files.</p>\n<pre><code>public class Bubble {\n    Bitmap bubble[] = new Bitmap[7];\n    int bubbleFrame = 0;\n    int bubbleX, bubbleY, bubbleV;\n    Random random;\n\n    public Bubble(Context context){\n        bubble[0] = BitmapFactory.decodeResource(context.getResources(), R.drawable.bubble0);\n        bubble[1] = BitmapFactory.decodeResource(context.getResources(), R.drawable.bubble1);\n        bubble[2] = BitmapFactory.decodeResource(context.getResources(), R.drawable.bubble2);\n        bubble[3] = BitmapFactory.decodeResource(context.getResources(), R.drawable.bubble_green);\n        bubble[4] = BitmapFactory.decodeResource(context.getResources(), R.drawable.bubble_blue);\n        bubble[5] = BitmapFactory.decodeResource(context.getResources(), R.drawable.bubble_yellow);\n        bubble[6] = BitmapFactory.decodeResource(context.getResources(), R.drawable.bubble_red);\n        random = new Random();\n        resetPosition();\n    }\n\n    public Bitmap getBubble(int bubbleFrame){\n        return bubble[bubbleFrame];\n    }\n\n    public int getBubbleWidth(){\n        return bubble[0].getWidth();\n    }\n\n    public int getBubbleHeight(){\n        return bubble[0].getHeight();\n    }\n\n    public void resetPosition() {\n        bubbleX = random.nextInt(GameView.dWidth - getBubbleWidth());\n        bubbleY = -200 + random.nextInt(600) * -1;\n        bubbleV = 35 + random.nextInt(16);\n    }\n\n}\n</code></pre>\n<p>Here is my Gameview file as well.</p>\n<pre><code>public class GameView extends View {\n\n    Bitmap background, ground, player;\n    Rect rectBackground, rectGround;\n    Context context;\n    Handler handler;\n    final long UPDATE_MILLIS = 30;\n    Runnable runnable;\n    Paint textPaint = new Paint();\n    Paint healthPaint = new Paint();\n    float TEXT_SIZE = 120;\n    int points = 0;\n    int life = 30;\n    static int dWidth, dHeight;\n    Random random;\n    float playerX, playerY;\n    float oldX;\n    float oldPlayerX;\n    ArrayList&lt;Bubble&gt; bubbles;\n    ArrayList&lt;Pop&gt; pops;\n\n    public GameView(Context context){\n        super(context);\n        this.context = context;\n        background = BitmapFactory.decodeResource(getResources(), R.drawable.background0);\n        ground = BitmapFactory.decodeResource(getResources(), R.drawable.ground);\n        player = BitmapFactory.decodeResource(getResources(), R.drawable.player);\n        Display display = ((Activity) getContext()).getWindowManager().getDefaultDisplay();\n        Point size = new Point();\n        display.getSize(size);\n        dWidth = size.x;\n        dHeight = size.y;\n        rectBackground = new Rect(0,0,dWidth,dHeight);\n        rectGround = new Rect(0,dHeight - ground.getHeight(), dWidth, dHeight);\n        handler = new Handler();\n        runnable = new Runnable() {\n            @Override\n            public void run() {\n                invalidate();\n            }\n        };\n        textPaint.setColor(Color.rgb(255,165,0));\n        textPaint.setTextSize(TEXT_SIZE);\n        textPaint.setTextAlign(Paint.Align.LEFT);\n        textPaint.setTypeface(ResourcesCompat.getFont(context, R.font.bubblegum));\n        healthPaint.setColor(Color.GREEN);\n        random = new Random();\n        playerX = dWidth / 2 - player.getWidth() / 2;\n        playerY = dHeight - ground.getHeight() - player.getHeight();\n        bubbles = new ArrayList&lt;&gt;();\n        pops = new ArrayList&lt;&gt;();\n        // Add First Bubble to game\n        Bubble bubble = new Bubble(context);\n        bubbles.add(bubble);\n    }\n\n    // Draw Game\n    @Override\n    protected void onDraw (Canvas canvas) {\n        super.onDraw(canvas);\n        canvas.drawBitmap(background, null, rectBackground, null);\n        canvas.drawBitmap(ground, null, rectGround, null);\n        canvas.drawBitmap(player, playerX, playerY, null);\n\n        // Draw Bubbles\n        for (int i=0; i&lt;bubbles.size(); i++){\n            canvas.drawBitmap(bubbles.get(i).getBubble(bubbles.get(i).bubbleFrame), bubbles.get(i).bubbleX, bubbles.get(i).bubbleY, null);\n            bubbles.get(i).bubbleY += bubbles.get(i).bubbleV;\n\n            // Bubble Collision Detection with Ground - Remove Lives.\n            if (bubbles.get(i).bubbleY + bubbles.get(i).getBubbleHeight() &gt;= dHeight - ground.getHeight()){\n                //life --;\n                Pop pop = new Pop(context);\n                pop.popX = bubbles.get(i).bubbleX;\n                pop.popY = bubbles.get(i).bubbleY;\n                pops.add(pop);\n                bubbles.get(i).resetPosition();\n                \n                //Check for Life 0\n                if (life == 0){\n                    Intent intent = new Intent(context, GameOver.class);\n                    intent.putExtra(&quot;points&quot;, points);\n                    context.startActivity(intent);\n                    ((Activity) context).finish();\n                }\n            }\n        }\n\n        // Player Collision Detection with Bubble - Add Points.\n        for (int i=0; i &lt; bubbles.size(); i++){\n            if (bubbles.get(i).bubbleX + bubbles.get(i).getBubbleWidth() &gt;= playerX\n                    &amp;&amp; bubbles.get(i).bubbleX &lt;= playerX + player.getWidth()\n                    &amp;&amp; bubbles.get(i).bubbleY + bubbles.get(i).getBubbleWidth() &gt;= playerY\n                    &amp;&amp; bubbles.get(i).bubbleY + bubbles.get(i).getBubbleWidth() &lt;= playerY + player.getHeight()){\n                points += 10;\n\n                // Add more bubbles based on Points value\n                if (points % 400 == 0 || points == 50 || points == 100 || points == 200){\n                    Bubble bubble = new Bubble(context);\n                    bubbles.add(bubble);\n                }\n                Pop pop = new Pop(context);\n                pop.popX = bubbles.get(i).bubbleX;\n                pop.popY = bubbles.get(i).bubbleY;\n                pops.add(pop);\n                bubbles.get(i).resetPosition();\n            }\n        }\n\n        // Remove Pop image after bubble is popped.\n        for (int i=0; i&lt;pops.size(); i++){\n            canvas.drawBitmap(pops.get(i).getPop(pops.get(i).popFrame), pops.get(i).popX,\n                    pops.get(i).popY, null);\n            pops.get(i).popFrame++;\n            if (pops.get(i).popFrame &gt; 0){\n                pops.remove(i);\n            }\n        }\n\n        // Player health bar\n        if (life == 2){\n            healthPaint.setColor(Color.YELLOW);\n        } else if (life == 1) {\n            healthPaint.setColor(Color.RED);\n        }\n        canvas.drawRect(dWidth-200, 30, dWidth-200+60*life, 80, healthPaint);\n        canvas.drawText(&quot;&quot; + points, 20, TEXT_SIZE, textPaint);\n        handler.postDelayed(runnable, UPDATE_MILLIS);\n    }\n\n    // Player movement through touch input.\n    @Override\n    public boolean onTouchEvent(MotionEvent event) {\n        float touchX = event.getX();\n        float touchY = event.getY();\n        if (touchY &gt;= playerY){\n            int action = event.getAction();\n            if (action == MotionEvent.ACTION_DOWN){\n                oldX = event.getX();\n                oldPlayerX = playerX;\n            }\n            if (action == MotionEvent.ACTION_MOVE){\n                float shift = oldX - touchX;\n                float newPlayerX = oldPlayerX - shift;\n                if (newPlayerX &lt;= 0)\n                    playerX = 0;\n                else if (newPlayerX &gt;= dWidth - player.getWidth())\n                    playerX = dWidth - player.getWidth();\n                else\n                    playerX = newPlayerX;\n            }\n        }\n        return true;\n    }\n}\n</code></pre>\n"},{"tags":["java","installation","java-home","macos-ventura"],"comments":[{"owner":{"account_id":4997462,"reputation":10007,"user_id":4017501,"accept_rate":62,"display_name":"cutiko"},"score":0,"creation_date":1686598858,"post_id":76459761,"comment_id":134818182,"body_markdown":"I use SDK man but is has known issues with Java if you are using Xcode (Xcode can&#39;t find the path because is expecting the default by system instead of the custom SDK man path) https://sdkman.io/","body":"I use SDK man but is has known issues with Java if you are using Xcode (Xcode can&#39;t find the path because is expecting the default by system instead of the custom SDK man path) <a href=\"https://sdkman.io/\" rel=\"nofollow noreferrer\">sdkman.io</a>"},{"owner":{"account_id":4181375,"reputation":5121,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1686599010,"post_id":76459761,"comment_id":134818203,"body_markdown":"what is the purpose of java installed? I&#39;m using jdk shipped with IntelliJ and didn&#39;t install anything else.","body":"what is the purpose of java installed? I&#39;m using jdk shipped with IntelliJ and didn&#39;t install anything else."},{"owner":{"account_id":4667724,"reputation":629,"user_id":3780373,"display_name":"PraNuta"},"score":0,"creation_date":1686669099,"post_id":76459761,"comment_id":134829243,"body_markdown":"@AndreyB.Panfilov\nI am using Appium 2.0.0-beta66, Java Client 8.5.0, node 18.xx, Selenium-java 4.9.1, Selenium Server 3.141.59, TestNG 7.7.1, and JDK 1.15.0-02\nI am using this set up for test automating Flutter mobile app on Android and Apple devices.\n\nBTW, If I decide to use IntelliJ supplied one, some times, it may be having some incompatibilities with the above components I mentioned above. Also, to be truthful, I never tried to use JDK that way. Presently I am using the IntelliJ IDEA 2023.1.2 (Community Edition), the latest.","body":"@AndreyB.Panfilov I am using Appium 2.0.0-beta66, Java Client 8.5.0, node 18.xx, Selenium-java 4.9.1, Selenium Server 3.141.59, TestNG 7.7.1, and JDK 1.15.0-02 I am using this set up for test automating Flutter mobile app on Android and Apple devices.  BTW, If I decide to use IntelliJ supplied one, some times, it may be having some incompatibilities with the above components I mentioned above. Also, to be truthful, I never tried to use JDK that way. Presently I am using the IntelliJ IDEA 2023.1.2 (Community Edition), the latest."}],"owner":{"account_id":4667724,"reputation":629,"user_id":3780373,"display_name":"PraNuta"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":106,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1686598446,"creation_date":1686598139,"question_id":76459761,"body_markdown":"I am working on Mac Ventura 13.3.1a.\r\nI am using JDK 15.02 and defining the JAVA_HOME in .zshrc as  like this\r\n\r\n    export JAVA_HOME=$(/usr/libexec/java_home -v 15.0.2)\r\n\r\nEvery thing is working fine. With the [new Changes in the Oracle JDK Installers (JDK 17, 11, and 8)][1]\r\nwhat is the best means of installing a new JDK like JDK 17 or higher, while I have been using JDK 1.15.02, right now. Would it be downloading and running .dmg file or zip file and unzipping it in your convenient folder, which I am doing right now. ?\r\n\r\n\r\n  [1]: https://blogs.oracle.com/java/post/changes-in-the-oracle-jdk-installers","title":"a good way to install a new JDK 15 or higher which is on LTS on Mac Ventura 13.3.1a?","body":"<p>I am working on Mac Ventura 13.3.1a.\nI am using JDK 15.02 and defining the JAVA_HOME in .zshrc as  like this</p>\n<pre><code>export JAVA_HOME=$(/usr/libexec/java_home -v 15.0.2)\n</code></pre>\n<p>Every thing is working fine. With the <a href=\"https://blogs.oracle.com/java/post/changes-in-the-oracle-jdk-installers\" rel=\"nofollow noreferrer\">new Changes in the Oracle JDK Installers (JDK 17, 11, and 8)</a>\nwhat is the best means of installing a new JDK like JDK 17 or higher, while I have been using JDK 1.15.02, right now. Would it be downloading and running .dmg file or zip file and unzipping it in your convenient folder, which I am doing right now. ?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9850,"page":375,"page_size":100}
