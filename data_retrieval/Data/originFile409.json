{"items":[{"tags":["java","keyboard","awtrobot"],"comments":[{"owner":{"account_id":13949449,"reputation":757,"user_id":10073327,"display_name":"FailingCoder"},"score":0,"creation_date":1575322276,"post_id":59146717,"comment_id":104519782,"body_markdown":"[Minimal, reproducible example](https://stackoverflow.com/help/minimal-reproducible-example)","body":"<a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">Minimal, reproducible example</a>"},{"owner":{"account_id":2317284,"reputation":2447,"user_id":2034048,"accept_rate":46,"display_name":"7 Reeds"},"score":0,"creation_date":1575322318,"post_id":59146717,"comment_id":104519793,"body_markdown":"Hello, can you provide a sample of your code?","body":"Hello, can you provide a sample of your code?"},{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":0,"creation_date":1575322499,"post_id":59146717,"comment_id":104519859,"body_markdown":"and I was just trying to find out what AWL is.... Is it possible that you sent some *strange* commands or *unfinished* sequences to the keyboard (e.g. press ALT, but no released)?","body":"and I was just trying to find out what AWL is.... Is it possible that you sent some <i>strange</i> commands or <i>unfinished</i> sequences to the keyboard (e.g. press ALT, but no released)?"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1575322515,"post_id":59146717,"comment_id":104519868,"body_markdown":"If you&#39;re injecting key codes via Robot, you will need to remember to &quot;release&quot; the key as well as &quot;press&quot; it, this is especially important if you&#39;re using key combinations involving [Shift], [Alt], [Ctrl], [Command/Meta/Window]","body":"If you&#39;re injecting key codes via Robot, you will need to remember to &quot;release&quot; the key as well as &quot;press&quot; it, this is especially important if you&#39;re using key combinations involving [Shift], [Alt], [Ctrl], [Command/Meta/Window]"}],"answers":[{"tags":[],"owner":{"account_id":17224541,"reputation":1,"user_id":12470526,"display_name":"Federico Finocchiaro"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1575336572,"creation_date":1575336572,"answer_id":59148988,"question_id":59146717,"body_markdown":"thankyou MadProgrammer, your observation was right! I solved my problem. \r\nI&#39;m sorry I didn&#39;t provide an example related to my question but I was sure that someone would nave understood my problem.","title":"AWT Robot class Issue","body":"<p>thankyou MadProgrammer, your observation was right! I solved my problem. \nI'm sorry I didn't provide an example related to my question but I was sure that someone would nave understood my problem.</p>\n"}],"owner":{"account_id":17224541,"reputation":1,"user_id":12470526,"display_name":"Federico Finocchiaro"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":92,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":1,"score":-3,"last_activity_date":1685126234,"creation_date":1575321018,"question_id":59146717,"body_markdown":"I&#39;m here to talk to you about a problem I got today working for the first time whit this new class called &quot;Robot&quot; of the library java.awt. \r\n\r\nI must say Robot works fine, but troubles come every time i stop the application. My keyboard doesn&#39;t recognize any command and when i try to write something, random Windows appear everywhere, \r\nas if the keyboard no longer recognizes the predefined keys. is there anyone who knows the reason for this strange behaviour and knows how to solve these issues? \r\n\r\nthank you very much! ","title":"AWT Robot class Issue","body":"<p>I'm here to talk to you about a problem I got today working for the first time whit this new class called \"Robot\" of the library java.awt. </p>\n\n<p>I must say Robot works fine, but troubles come every time i stop the application. My keyboard doesn't recognize any command and when i try to write something, random Windows appear everywhere, \nas if the keyboard no longer recognizes the predefined keys. is there anyone who knows the reason for this strange behaviour and knows how to solve these issues? </p>\n\n<p>thank you very much! </p>\n"},{"tags":["java","keypress","awtrobot"],"comments":[{"owner":{"account_id":16315581,"reputation":563,"user_id":11782808,"display_name":"Nikita Demodov"},"score":1,"creation_date":1589826049,"post_id":61876177,"comment_id":109442093,"body_markdown":"Does this answer your question? [How do you tell LSHIFT apart from RSHIFT in WM\\_KEYDOWN events?](https://stackoverflow.com/questions/15966642/how-do-you-tell-lshift-apart-from-rshift-in-wm-keydown-events)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/15966642/how-do-you-tell-lshift-apart-from-rshift-in-wm-keydown-events\">How do you tell LSHIFT apart from RSHIFT in WM_KEYDOWN events?</a>"}],"answers":[{"comments":[{"owner":{"account_id":13384683,"reputation":11,"user_id":13569396,"display_name":"Иван Абоян"},"score":0,"creation_date":1589902793,"post_id":61893053,"comment_id":109474713,"body_markdown":"Thanks, but KeyEvent.getKeyLocation() allows you to determine which of the Shift was pressed. \nBut I still don’t understand how to click on the right shift use robot.keyPress","body":"Thanks, but KeyEvent.getKeyLocation() allows you to determine which of the Shift was pressed.  But I still don’t understand how to click on the right shift use robot.keyPress"}],"tags":[],"owner":{"account_id":18607420,"reputation":11,"user_id":13560708,"display_name":"Clive Alford"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1589897112,"creation_date":1589897112,"answer_id":61893053,"question_id":61876177,"body_markdown":"I found a Java tutorial that includes a Java WebStart sample and the source code. Looks like the winner is KeyEvent.getKeyLocation()\r\n\r\n    KeyEvent.KEY_LOCATION_STANDARD\r\n    KeyEvent.KEY_LOCATION_LEFT\r\n    KeyEvent.KEY_LOCATION_RIGHT\r\n    KeyEvent.KEY_LOCATION_NUMPAD\r\n    KeyEvent.KEY_LOCATION_UNKNOWN\r\n\r\nReferences:\r\n\r\n[KeyEvent Documentation][1]\r\n\r\n[Key Listener Demo and Source Code][2]\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/awt/event/KeyEvent.html\r\n  [2]: https://docs.oracle.com/javase/tutorial/uiswing/events/keylistener.html\r\n\r\nHope this helps!","title":"How to press Right Shift key in Java robot?","body":"<p>I found a Java tutorial that includes a Java WebStart sample and the source code. Looks like the winner is KeyEvent.getKeyLocation()</p>\n\n<pre><code>KeyEvent.KEY_LOCATION_STANDARD\nKeyEvent.KEY_LOCATION_LEFT\nKeyEvent.KEY_LOCATION_RIGHT\nKeyEvent.KEY_LOCATION_NUMPAD\nKeyEvent.KEY_LOCATION_UNKNOWN\n</code></pre>\n\n<p>References:</p>\n\n<p><a href=\"https://docs.oracle.com/javase/7/docs/api/java/awt/event/KeyEvent.html\" rel=\"nofollow noreferrer\">KeyEvent Documentation</a></p>\n\n<p><a href=\"https://docs.oracle.com/javase/tutorial/uiswing/events/keylistener.html\" rel=\"nofollow noreferrer\">Key Listener Demo and Source Code</a></p>\n\n<p>Hope this helps!</p>\n"}],"owner":{"account_id":13384683,"reputation":11,"user_id":13569396,"display_name":"Иван Абоян"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":243,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1685126220,"creation_date":1589825424,"question_id":61876177,"body_markdown":"Can you help me refactor this code:\r\n\r\n    public static void pressRightShift() {\r\n        robot.keyPress(KeyEvent.VK_SHIFT);\r\n    }\r\n\r\nPlease mention how to press for right\\left shift keys as well.Thanks!","title":"How to press Right Shift key in Java robot?","body":"<p>Can you help me refactor this code:</p>\n\n<pre><code>public static void pressRightShift() {\n    robot.keyPress(KeyEvent.VK_SHIFT);\n}\n</code></pre>\n\n<p>Please mention how to press for right\\left shift keys as well.Thanks!</p>\n"},{"tags":["java","awtrobot"],"comments":[{"owner":{"account_id":10346755,"reputation":21971,"user_id":7631480,"display_name":"CryptoFool"},"score":0,"creation_date":1607098430,"post_id":65146891,"comment_id":115174092,"body_markdown":"Do you really want most of your code to be in an Exception `catch` block?  You should fix your indentation and other formatting in any case. - also, do you mean for all this code to be in a `static` block  inside a class definition?","body":"Do you really want most of your code to be in an Exception <code>catch</code> block?  You should fix your indentation and other formatting in any case. - also, do you mean for all this code to be in a <code>static</code> block  inside a class definition?"},{"owner":{"account_id":20093549,"reputation":1,"user_id":14733509,"display_name":"SomeGuy"},"score":0,"creation_date":1607098904,"post_id":65146891,"comment_id":115174296,"body_markdown":"Is the code being inside an Exception catch block causing the problem?","body":"Is the code being inside an Exception catch block causing the problem?"},{"owner":{"account_id":10346755,"reputation":21971,"user_id":7631480,"display_name":"CryptoFool"},"score":0,"creation_date":1607099096,"post_id":65146891,"comment_id":115174396,"body_markdown":"I would think it might.  It isn&#39;t going to run if `new Robot()` doesn&#39;t throw an exception. - is that by design?  Do you only want that code to run if `new Robot()1` throws an exception?","body":"I would think it might.  It isn&#39;t going to run if <code>new Robot()</code> doesn&#39;t throw an exception. - is that by design?  Do you only want that code to run if <code>new Robot()1</code> throws an exception?"},{"owner":{"account_id":20093549,"reputation":1,"user_id":14733509,"display_name":"SomeGuy"},"score":0,"creation_date":1607100361,"post_id":65146891,"comment_id":115174880,"body_markdown":"I thought Exception catch block would also work so I&#39;m guessing ima have to throw an exception instead, right?","body":"I thought Exception catch block would also work so I&#39;m guessing ima have to throw an exception instead, right?"},{"owner":{"account_id":10346755,"reputation":21971,"user_id":7631480,"display_name":"CryptoFool"},"score":0,"creation_date":1607102918,"post_id":65146891,"comment_id":115176002,"body_markdown":"Respectfully, I don&#39;t think you know what you&#39;re doing.  Normally, code in an exception block is there to handle an error condition.  If you want your code to run under normal conditions, then you don&#39;t want it in an. exception block.  You probably want it in a static method.  Right now, your code is all class initialization code, which isn&#39;t usual to see, although it could work.","body":"Respectfully, I don&#39;t think you know what you&#39;re doing.  Normally, code in an exception block is there to handle an error condition.  If you want your code to run under normal conditions, then you don&#39;t want it in an. exception block.  You probably want it in a static method.  Right now, your code is all class initialization code, which isn&#39;t usual to see, although it could work."},{"owner":{"account_id":10346755,"reputation":21971,"user_id":7631480,"display_name":"CryptoFool"},"score":0,"creation_date":1607102958,"post_id":65146891,"comment_id":115176022,"body_markdown":"Your code has no `main` method.  How will it actually run?  Is this code part of a bigger project?","body":"Your code has no <code>main</code> method.  How will it actually run?  Is this code part of a bigger project?"},{"owner":{"account_id":20093549,"reputation":1,"user_id":14733509,"display_name":"SomeGuy"},"score":0,"creation_date":1607108746,"post_id":65146891,"comment_id":115178318,"body_markdown":"I had a main method this code was in a different class I edited my code now and put it in the main method without a class  but once I run the code it just says public static void main(String[] args) but when I put in static it says 23:9 java: non-static variable this cannot be referenced from a static context.// Line 23:9 is the this.addKeyListener( new KeyListener() {","body":"I had a main method this code was in a different class I edited my code now and put it in the main method without a class  but once I run the code it just says public static void main(String[] args) but when I put in static it says 23:9 java: non-static variable this cannot be referenced from a static context.// Line 23:9 is the this.addKeyListener( new KeyListener() {"},{"owner":{"account_id":10346755,"reputation":21971,"user_id":7631480,"display_name":"CryptoFool"},"score":0,"creation_date":1607119981,"post_id":65146891,"comment_id":115182230,"body_markdown":"See your edits.  That looks better.","body":"See your edits.  That looks better."},{"owner":{"account_id":20093549,"reputation":1,"user_id":14733509,"display_name":"SomeGuy"},"score":0,"creation_date":1607120111,"post_id":65146891,"comment_id":115182275,"body_markdown":"Thanks, but I still get the error non-static variable this cannot be referenced from a static context. Even after I set it to static it comes up with another error\n\nIt is talking about this.addKeyListener( new KeyListener() {","body":"Thanks, but I still get the error non-static variable this cannot be referenced from a static context. Even after I set it to static it comes up with another error  It is talking about this.addKeyListener( new KeyListener() {"},{"owner":{"account_id":10346755,"reputation":21971,"user_id":7631480,"display_name":"CryptoFool"},"score":0,"creation_date":1607129843,"post_id":65146891,"comment_id":115184568,"body_markdown":"I didn&#39;t say that your code did not still have problems ;). I was just commenting on the fact that your code is no longer in an exception block, and so will run as part of normal code flow. - From what I can tell, you&#39;re having problems because you don&#39;t know the language well enough.  You should understand the difference between static and non-static contexts.  The former is where global variables live...variables that there are only a single instance of.  non-static variables are variables that exist for each object of a particular class.","body":"I didn&#39;t say that your code did not still have problems ;). I was just commenting on the fact that your code is no longer in an exception block, and so will run as part of normal code flow. - From what I can tell, you&#39;re having problems because you don&#39;t know the language well enough.  You should understand the difference between static and non-static contexts.  The former is where global variables live...variables that there are only a single instance of.  non-static variables are variables that exist for each object of a particular class."},{"owner":{"account_id":10346755,"reputation":21971,"user_id":7631480,"display_name":"CryptoFool"},"score":0,"creation_date":1607130327,"post_id":65146891,"comment_id":115184672,"body_markdown":"I suggest that you read over this: https://www.geeksforgeeks.org/difference-between-static-and-non-static-variables-in-java/","body":"I suggest that you read over this: <a href=\"https://www.geeksforgeeks.org/difference-between-static-and-non-static-variables-in-java/\" rel=\"nofollow noreferrer\">geeksforgeeks.org/&hellip;</a>"},{"owner":{"account_id":20093549,"reputation":1,"user_id":14733509,"display_name":"SomeGuy"},"score":0,"creation_date":1607133703,"post_id":65146891,"comment_id":115185129,"body_markdown":"I kind of fixed it, it no longer gives me the error but it still ends with Process finished with exit code 0. What I&#39;m trying to figure out is how to keep the Auto Clicker running.. I edited the new code if needed","body":"I kind of fixed it, it no longer gives me the error but it still ends with Process finished with exit code 0. What I&#39;m trying to figure out is how to keep the Auto Clicker running.. I edited the new code if needed"},{"owner":{"account_id":20093549,"reputation":1,"user_id":14733509,"display_name":"SomeGuy"},"score":0,"creation_date":1607158440,"post_id":65146891,"comment_id":115188559,"body_markdown":"I believe the while loop is supposed to keep it running but its just stopping immediately after running","body":"I believe the while loop is supposed to keep it running but its just stopping immediately after running"},{"owner":{"account_id":10346755,"reputation":21971,"user_id":7631480,"display_name":"CryptoFool"},"score":0,"creation_date":1607184872,"post_id":65146891,"comment_id":115194977,"body_markdown":"You&#39;re creating a `KeyListener`, but you&#39;re not passing or assigning it to anything.  How do you expect any of the code in that object to ever be called?  What I see is code that creates a `Robot`, creates a `KeyListener`, and then exits.","body":"You&#39;re creating a <code>KeyListener</code>, but you&#39;re not passing or assigning it to anything.  How do you expect any of the code in that object to ever be called?  What I see is code that creates a <code>Robot</code>, creates a <code>KeyListener</code>, and then exits."},{"owner":{"account_id":10346755,"reputation":21971,"user_id":7631480,"display_name":"CryptoFool"},"score":0,"creation_date":1607184922,"post_id":65146891,"comment_id":115194997,"body_markdown":"If you did manage to get the line `robot.mousePress(InputEvent.BUTTON1_DOWN_MASK);` to run, it&#39;s going to run over and over again as rapidly as possible...forever.  How do you see that being useful?","body":"If you did manage to get the line <code>robot.mousePress(InputEvent.BUTTON1_DOWN_MASK);</code> to run, it&#39;s going to run over and over again as rapidly as possible...forever.  How do you see that being useful?"},{"owner":{"account_id":20093549,"reputation":1,"user_id":14733509,"display_name":"SomeGuy"},"score":0,"creation_date":1607197199,"post_id":65146891,"comment_id":115198655,"body_markdown":"KeyListener creates the methods so I&#39;m basically assigning them to the methods not sure what else to do. The auto clicker is part of a simple project, don&#39;t worry about it.","body":"KeyListener creates the methods so I&#39;m basically assigning them to the methods not sure what else to do. The auto clicker is part of a simple project, don&#39;t worry about it."},{"owner":{"account_id":10346755,"reputation":21971,"user_id":7631480,"display_name":"CryptoFool"},"score":0,"creation_date":1607203867,"post_id":65146891,"comment_id":115200427,"body_markdown":"The only way that your code could do anything is if the act of creating a `KeyListener` object not only registered itself somewhere, but then caused a main event loop to start up and run to keep your program running. I doubt very much that that&#39;s what is going on here.  If the `Robot` and `KeyListener` objects were somehow tied together at creation time, then I might think that the `Robot` object contained an event loop or something.  But they don&#39;t know about each other until the `KeyListener` handles a keypress, which I can&#39;t see it ever doing since it isn&#39;t hooked to anything.","body":"The only way that your code could do anything is if the act of creating a <code>KeyListener</code> object not only registered itself somewhere, but then caused a main event loop to start up and run to keep your program running. I doubt very much that that&#39;s what is going on here.  If the <code>Robot</code> and <code>KeyListener</code> objects were somehow tied together at creation time, then I might think that the <code>Robot</code> object contained an event loop or something.  But they don&#39;t know about each other until the <code>KeyListener</code> handles a keypress, which I can&#39;t see it ever doing since it isn&#39;t hooked to anything."},{"owner":{"account_id":10346755,"reputation":21971,"user_id":7631480,"display_name":"CryptoFool"},"score":0,"creation_date":1607203993,"post_id":65146891,"comment_id":115200458,"body_markdown":"I&#39;ve been doing this for many years.  When you create some kind of listener, you somehow always associate it with a main application, either by having some reference to that app passed in at creation time, or by taking the reference to the newly created object and passing it into the main app so that it gets registered and does something.  Here, you&#39;re not doing either of those.  There is no main app.  Where do you think the code is that runs and keeps your app alive after it has created the two objects? - Your app creates two objects and then quits.  I&#39;m pretty sure that&#39;s all that happens.","body":"I&#39;ve been doing this for many years.  When you create some kind of listener, you somehow always associate it with a main application, either by having some reference to that app passed in at creation time, or by taking the reference to the newly created object and passing it into the main app so that it gets registered and does something.  Here, you&#39;re not doing either of those.  There is no main app.  Where do you think the code is that runs and keeps your app alive after it has created the two objects? - Your app creates two objects and then quits.  I&#39;m pretty sure that&#39;s all that happens."}],"owner":{"account_id":20093549,"reputation":1,"user_id":14733509,"display_name":"SomeGuy"},"comment_count":18,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":127,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685126208,"creation_date":1607098076,"question_id":65146891,"body_markdown":"```\r\npackage com.company.Iguana;\r\n\r\nimport java.awt.*;\r\nimport java.awt.AWTException;\r\nimport java.awt.Color;\r\nimport java.awt.Robot;\r\nimport java.awt.event.ActionEvent;\r\nimport java.awt.event.ActionListener;\r\nimport java.awt.event.InputEvent;\r\nimport java.awt.event.KeyEvent;\r\nimport java.awt.event.KeyListener;\r\nimport java.io.IOException;\r\nimport javax.swing.JDialog;\r\nimport javax.swing.JPanel;\r\nimport javax.swing.Timer;\r\nimport java.awt.event.KeyEvent;\r\n\r\npublic class Main {\r\n    public static boolean Clicking = true;\r\n    public static Robot robot;\r\n    public static void main(String[] args) throws AWTException {\r\n        Robot robot = new Robot();\r\n        new KeyListener() {\r\n            @Override\r\n            public void keyTyped(KeyEvent e) {\r\n\r\n            }\r\n\r\n            @Override\r\n            public void keyPressed(KeyEvent e) {\r\n\r\n                if(e.getKeyChar() == &#39;x&#39;)\r\n                    Clicking = true;\r\n                if(e.getKeyChar() == &#39;v&#39;)\r\n                    Clicking = false;\r\n                if(Clicking == true)\r\n                    while(true){\r\n                        robot.mousePress(InputEvent.BUTTON1_DOWN_MASK);\r\n                robot.delay(1000);\r\n                robot.mouseRelease(InputEvent.BUTTON1_DOWN_MASK);\r\n            }\r\n}\r\n            @Override\r\n            public void keyReleased(KeyEvent e) {\r\n\r\n            }\r\n\r\n\r\n        };\r\n    }\r\n}\r\n```\r\n\r\n\r\nI&#39;m trying to make it so whenever I press x the AutoClicker start and Stop it when I press v but once I run the code it just says **public static void main(String[] args)** but when I put in static it says 23:9\r\njava: non-static variable this cannot be referenced from a static context\r\nLine 23:9 is the this.addKeyListener( new KeyListener() {\r\n\r\n\r\n\r\n\r\n..................................................................................................................................................................................................................","title":"How to keep the Auto Clicker running without the program stopping it immediately after running","body":"<pre><code>package com.company.Iguana;\n\nimport java.awt.*;\nimport java.awt.AWTException;\nimport java.awt.Color;\nimport java.awt.Robot;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.awt.event.InputEvent;\nimport java.awt.event.KeyEvent;\nimport java.awt.event.KeyListener;\nimport java.io.IOException;\nimport javax.swing.JDialog;\nimport javax.swing.JPanel;\nimport javax.swing.Timer;\nimport java.awt.event.KeyEvent;\n\npublic class Main {\n    public static boolean Clicking = true;\n    public static Robot robot;\n    public static void main(String[] args) throws AWTException {\n        Robot robot = new Robot();\n        new KeyListener() {\n            @Override\n            public void keyTyped(KeyEvent e) {\n\n            }\n\n            @Override\n            public void keyPressed(KeyEvent e) {\n\n                if(e.getKeyChar() == 'x')\n                    Clicking = true;\n                if(e.getKeyChar() == 'v')\n                    Clicking = false;\n                if(Clicking == true)\n                    while(true){\n                        robot.mousePress(InputEvent.BUTTON1_DOWN_MASK);\n                robot.delay(1000);\n                robot.mouseRelease(InputEvent.BUTTON1_DOWN_MASK);\n            }\n}\n            @Override\n            public void keyReleased(KeyEvent e) {\n\n            }\n\n\n        };\n    }\n}\n</code></pre>\n<p>I'm trying to make it so whenever I press x the AutoClicker start and Stop it when I press v but once I run the code it just says <strong>public static void main(String[] args)</strong> but when I put in static it says 23:9\njava: non-static variable this cannot be referenced from a static context\nLine 23:9 is the this.addKeyListener( new KeyListener() {</p>\n<p>..................................................................................................................................................................................................................</p>\n"},{"tags":["java","awtrobot"],"comments":[{"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"score":0,"creation_date":1660294984,"post_id":73331258,"comment_id":129503851,"body_markdown":"I don&#39;t experience this problem.","body":"I don&#39;t experience this problem."},{"owner":{"account_id":21973460,"reputation":41,"user_id":16249614,"display_name":"bc a"},"score":0,"creation_date":1660300309,"post_id":73331258,"comment_id":129505648,"body_markdown":"I use JDK1.8. I&#39;ve seen somewhere that this doesn&#39;t happen in version like JDK16","body":"I use JDK1.8. I&#39;ve seen somewhere that this doesn&#39;t happen in version like JDK16"},{"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"score":0,"creation_date":1660346263,"post_id":73331258,"comment_id":129519286,"body_markdown":"I also used JDK1.8.60","body":"I also used JDK1.8.60"}],"owner":{"account_id":21973460,"reputation":41,"user_id":16249614,"display_name":"bc a"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685126179,"creation_date":1660292628,"question_id":73331258,"body_markdown":"        Dimension d = Toolkit.getDefaultToolkit().getScreenSize().getSize();\r\n        System.out.println(d.width +&quot;*&quot;+d.height);\r\n\r\n        PointerInfo pt = MouseInfo.getPointerInfo();\r\n        Dimension d2 = Toolkit.getDefaultToolkit().getScreenSize().getSize();\r\n        System.out.println(d2.width+&quot;*&quot;+d2.height);\r\n\r\nFirst println result is 1536x864\r\nbut, second result is 1920x1080\r\n\r\nI used the same code to getScreenSize(), but why do I get different results?\r\nI only did MouseInfo.getPointerInfo() before print d2, but why d2 and d is diffrent??\r\n\r\nAnd I calculated that 1536 and 1920 are 1.25 times different, so what means that 1.25 times  difference here?\r\n","title":"Java Toolkit.getDefaultToolkit().getScreenSize() ouputs are differently","body":"<pre><code>    Dimension d = Toolkit.getDefaultToolkit().getScreenSize().getSize();\n    System.out.println(d.width +&quot;*&quot;+d.height);\n\n    PointerInfo pt = MouseInfo.getPointerInfo();\n    Dimension d2 = Toolkit.getDefaultToolkit().getScreenSize().getSize();\n    System.out.println(d2.width+&quot;*&quot;+d2.height);\n</code></pre>\n<p>First println result is 1536x864\nbut, second result is 1920x1080</p>\n<p>I used the same code to getScreenSize(), but why do I get different results?\nI only did MouseInfo.getPointerInfo() before print d2, but why d2 and d is diffrent??</p>\n<p>And I calculated that 1536 and 1920 are 1.25 times different, so what means that 1.25 times  difference here?</p>\n"},{"tags":["java","automation","scripting","awtrobot"],"comments":[{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1670793151,"post_id":74763438,"comment_id":131950161,"body_markdown":"When you call `keyPress`, the key will remain pressed until you call `keyRelease`, the same thing occurs for the mouse","body":"When you call <code>keyPress</code>, the key will remain pressed until you call <code>keyRelease</code>, the same thing occurs for the mouse"},{"owner":{"account_id":27220873,"reputation":1,"user_id":20750161,"display_name":"Jubs Eest"},"score":0,"creation_date":1670856971,"post_id":74763438,"comment_id":131963882,"body_markdown":"thank you kindly friend, all works now!","body":"thank you kindly friend, all works now!"}],"owner":{"account_id":27220873,"reputation":1,"user_id":20750161,"display_name":"Jubs Eest"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685126153,"creation_date":1670783386,"question_id":74763438,"body_markdown":"currently ive taken up a small project of mine when i was bored but have come into a small problem i am struggling to solve, recently ive started to get back into pokemon and have really enjoyed my time with it. but after catching my first shiny( a rare pokemon with inverted colors) i wanted to catch more, but not sit at my computer endlessly going through encounters so i wanted to create a script to do that for me. as seen below\r\n\r\n\r\n`\r\n```\r\nimport java.awt.Color;\r\nimport java.awt.Robot;\r\nimport java.util.concurrent.TimeUnit;\r\nimport javax.swing.JFrame;\r\nimport javax.swing.JOptionPane;\r\n\r\n\r\npublic class App {\r\n    public static void main(String[] args) throws Exception {\r\n           \r\n         JFrame f = new JFrame();\r\n         String name=JOptionPane.showInputDialog(f,&quot;Enter Name&quot;);\r\n    \r\n    if (name.equals(&quot;go&quot;)){\r\n        Redo(); \r\n    } \r\n    }\r\n\r\n   public static void Redo()throws Exception {\r\n        Robot robot = new Robot();\r\n      \r\n       robot.delay(5000);\r\n             robot.keyPress(10);\r\n           robot.delay(3000);\r\n            robot.keyPress(10);\r\n            robot.delay(3000);\r\n            robot.keyPress(10);\r\n            robot.delay(3000);\r\n            robot.keyPress(10);\r\n            robot.delay(3000);\r\n            robot.keyPress(10);\r\n            robot.delay(3000);\r\n            robot.keyPress(10);\r\n            robot.delay(3000);\r\n            robot.keyPress(10); \r\n            robot.delay(3000);\r\n            robot.keyPress(10);\r\n            robot.delay(3000);\r\n            robot.keyPress(10);\r\n           \r\n            check();\r\n\r\n          \r\n    }\r\n\r\n   public static void check() throws Exception{\r\n        Robot robot2 = new Robot();\r\n        Color color2 = new Color(255,255,185);\r\n        Color color = robot2.getPixelColor(1080, 446);\r\n        \r\n        if ( color.equals(color2)==true){\r\n           // System.out.println(&quot;shiny found!&quot;);\r\n            System.exit(0);\r\n        }\r\n        else{\r\n            robot2.keyPress(123);\r\n           // System.out.println(&quot;no shiny &quot;);\r\n            Redo();\r\n        }\r\n\r\n   } \r\n}\r\n```\r\n`\r\n\r\nwhat supposed to happen:in the script above a dialogue box pops up where i have to type &quot;go&quot; at that point i manually click into the game window,at which point a robot clicks to go though the different menu&#39;s(just the enter key) until it gets to normal play state, then it enters a battle with a pokemon at that point my check() asks another robot to check the screen coordinates for a color( this color is the color of the shiny) if they are both the same color the program ends if not it restarts ( pokemon games reset upon clicking F12) and ive tested this in the normal IDE environment( where i put the color of the shiny in the right screen coordinate) and everything seemed to work\r\n\r\nwhat actually  happened: when i actually try the game itself  the game  only registers the enter button once or maybe my robot only clicks once? im not too sure at with point after 15 or so seconds the robot clicks f12 since it cant find the shiny. and the program repeats, i am using a Jar. not sure if that could be the problem?\r\n\r\nso my question is: is there any reason my robot would stop pressing the buttons? or could it be the game not registering them?\r\n\r\nAny help is appreciated!","title":"why wont my robot continue clicking the keys i specify?","body":"<p>currently ive taken up a small project of mine when i was bored but have come into a small problem i am struggling to solve, recently ive started to get back into pokemon and have really enjoyed my time with it. but after catching my first shiny( a rare pokemon with inverted colors) i wanted to catch more, but not sit at my computer endlessly going through encounters so i wanted to create a script to do that for me. as seen below</p>\n<p>`</p>\n<pre><code>import java.awt.Color;\nimport java.awt.Robot;\nimport java.util.concurrent.TimeUnit;\nimport javax.swing.JFrame;\nimport javax.swing.JOptionPane;\n\n\npublic class App {\n    public static void main(String[] args) throws Exception {\n           \n         JFrame f = new JFrame();\n         String name=JOptionPane.showInputDialog(f,&quot;Enter Name&quot;);\n    \n    if (name.equals(&quot;go&quot;)){\n        Redo(); \n    } \n    }\n\n   public static void Redo()throws Exception {\n        Robot robot = new Robot();\n      \n       robot.delay(5000);\n             robot.keyPress(10);\n           robot.delay(3000);\n            robot.keyPress(10);\n            robot.delay(3000);\n            robot.keyPress(10);\n            robot.delay(3000);\n            robot.keyPress(10);\n            robot.delay(3000);\n            robot.keyPress(10);\n            robot.delay(3000);\n            robot.keyPress(10);\n            robot.delay(3000);\n            robot.keyPress(10); \n            robot.delay(3000);\n            robot.keyPress(10);\n            robot.delay(3000);\n            robot.keyPress(10);\n           \n            check();\n\n          \n    }\n\n   public static void check() throws Exception{\n        Robot robot2 = new Robot();\n        Color color2 = new Color(255,255,185);\n        Color color = robot2.getPixelColor(1080, 446);\n        \n        if ( color.equals(color2)==true){\n           // System.out.println(&quot;shiny found!&quot;);\n            System.exit(0);\n        }\n        else{\n            robot2.keyPress(123);\n           // System.out.println(&quot;no shiny &quot;);\n            Redo();\n        }\n\n   } \n}\n</code></pre>\n<p>`</p>\n<p>what supposed to happen:in the script above a dialogue box pops up where i have to type &quot;go&quot; at that point i manually click into the game window,at which point a robot clicks to go though the different menu's(just the enter key) until it gets to normal play state, then it enters a battle with a pokemon at that point my check() asks another robot to check the screen coordinates for a color( this color is the color of the shiny) if they are both the same color the program ends if not it restarts ( pokemon games reset upon clicking F12) and ive tested this in the normal IDE environment( where i put the color of the shiny in the right screen coordinate) and everything seemed to work</p>\n<p>what actually  happened: when i actually try the game itself  the game  only registers the enter button once or maybe my robot only clicks once? im not too sure at with point after 15 or so seconds the robot clicks f12 since it cant find the shiny. and the program repeats, i am using a Jar. not sure if that could be the problem?</p>\n<p>so my question is: is there any reason my robot would stop pressing the buttons? or could it be the game not registering them?</p>\n<p>Any help is appreciated!</p>\n"},{"tags":["java","spring-boot","mocking","spring-profiles"],"comments":[{"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1685119011,"post_id":76342628,"comment_id":134621929,"body_markdown":"Do you have application-mock.properties file on classpath?","body":"Do you have application-mock.properties file on classpath?"},{"owner":{"account_id":1424447,"reputation":107,"user_id":1348348,"accept_rate":60,"display_name":"Riggster"},"score":0,"creation_date":1685119322,"post_id":76342628,"comment_id":134621964,"body_markdown":"No, I don&#39;t.  I didn&#39;t think I needed it because I&#39;m not setting any properties specific to the mock profile.","body":"No, I don&#39;t.  I didn&#39;t think I needed it because I&#39;m not setting any properties specific to the mock profile."},{"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1685119873,"post_id":76342628,"comment_id":134622047,"body_markdown":"You could have one with this line: spring.profiles.active=mock","body":"You could have one with this line: spring.profiles.active=mock"}],"answers":[{"tags":[],"owner":{"account_id":17585365,"reputation":194,"user_id":12758199,"display_name":"The_Java_Guy"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1685125564,"creation_date":1685125564,"answer_id":76343411,"question_id":76342628,"body_markdown":"You are using the command wrong to run a specific profile.\r\n\r\nUse the below command and it should work fine \r\n\r\n`mvn spring-boot:run -Dspring-boot.run.profiles=mock`\r\n\r\nAlso you don&#39;t need to write a `mock` profile section in the `pom.xml` file, if you use the above command.\r\n\r\nReference:\r\nhttps://docs.spring.io/spring-boot/docs/2.0.1.RELEASE/maven-plugin/examples/run-profiles.html","title":"How to set up profile in spring boot to mock external api for development","body":"<p>You are using the command wrong to run a specific profile.</p>\n<p>Use the below command and it should work fine</p>\n<p><code>mvn spring-boot:run -Dspring-boot.run.profiles=mock</code></p>\n<p>Also you don't need to write a <code>mock</code> profile section in the <code>pom.xml</code> file, if you use the above command.</p>\n<p>Reference:\n<a href=\"https://docs.spring.io/spring-boot/docs/2.0.1.RELEASE/maven-plugin/examples/run-profiles.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-boot/docs/2.0.1.RELEASE/maven-plugin/examples/run-profiles.html</a></p>\n"}],"owner":{"account_id":1424447,"reputation":107,"user_id":1348348,"accept_rate":60,"display_name":"Riggster"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":126,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76343411,"answer_count":1,"score":0,"last_activity_date":1685125564,"creation_date":1685117769,"question_id":76342628,"body_markdown":"I&#39;m trying to set up my spring boot application so that when I run:\r\n```\r\nmvn spring-boot:run\r\n```\r\nand then go to `localhost:9099/api/resources`, the code accesses the actual endpoint. Then, if I run\r\n```\r\nmvn spring-boot:run -Pmock\r\n```\r\nand go to `localhost:9099/api/resources`, the code returns a mocked list of resources.\r\n\r\nRight now, if I exclude the `-Pmock` argument, I can access the actual endpoint just fine, but if I include the `-Pmock` argument, I get a 404. Can anyone see what I am doing wrong? Here is what I have implemented:\r\n\r\npom.xml\r\n```\r\n...\r\n\t&lt;profiles&gt;\r\n\t\t&lt;profile&gt;\r\n\t\t\t&lt;id&gt;macos-m1&lt;/id&gt;\r\n\t\t\t&lt;activation&gt;\r\n\t\t\t\t&lt;os&gt;\r\n\t\t\t\t\t&lt;family&gt;mac&lt;/family&gt;\r\n\t\t\t\t\t&lt;arch&gt;aarch64&lt;/arch&gt;\r\n\t\t\t\t&lt;/os&gt;\r\n\t\t\t&lt;/activation&gt;\r\n\t\t\t&lt;dependencies&gt;\r\n\t\t\t\t&lt;dependency&gt;\r\n\t\t\t\t\t// mac m1 specific dependency - needed on dev machine only\r\n\t\t\t\t&lt;/dependency&gt;\r\n\t\t\t&lt;/dependencies&gt;\r\n\t\t&lt;/profile&gt;\r\n\t\t&lt;profile&gt;\r\n\t\t\t&lt;id&gt;mock&lt;/id&gt;\r\n\t\t\t&lt;properties&gt;\r\n\t\t\t\t&lt;spring.profiles.active&gt;mock&lt;/spring.profiles.active&gt;\r\n\t\t\t&lt;/properties&gt;\r\n\t\t&lt;/profile&gt; --&gt;\r\n\t&lt;/profiles&gt;\r\n...\r\n```\r\nResourceController.java\r\n```\r\n@RestController\r\n@Profile(&quot;!mock&quot;)\r\npublic final class ResourceController {\r\n\r\n    @GetMapping(&quot;/api/resources&quot;)\r\n    public ResponseEntity&lt;List&lt;Resource&gt;&gt; getAll() {\r\n        List&lt;Resource&gt; payload = // call service to get all resources\r\n        return ResponseEntity\r\n            .status(HttpStatus.OK)\r\n            .contentType(MediaType.APPLICATION_JSON)\r\n            .body(payload);\r\n    }\r\n}\r\n\r\n```\r\nResourceControllerMock.java\r\n```\r\n@RestController\r\n@Profile(&quot;mock&quot;)\r\npublic final class ResourceController {\r\n\r\n    @GetMapping(&quot;/api/resources&quot;)\r\n    public ResponseEntity&lt;List&lt;Resource&gt;&gt; getAll() {\r\n        List&lt;Resource&gt; payload = List.of(new Resource(x,y,z));\r\n        return ResponseEntity\r\n            .status(HttpStatus.OK)\r\n            .contentType(MediaType.APPLICATION_JSON)\r\n            .body(payload);\r\n    }\r\n}\r\n\r\n```","title":"How to set up profile in spring boot to mock external api for development","body":"<p>I'm trying to set up my spring boot application so that when I run:</p>\n<pre><code>mvn spring-boot:run\n</code></pre>\n<p>and then go to <code>localhost:9099/api/resources</code>, the code accesses the actual endpoint. Then, if I run</p>\n<pre><code>mvn spring-boot:run -Pmock\n</code></pre>\n<p>and go to <code>localhost:9099/api/resources</code>, the code returns a mocked list of resources.</p>\n<p>Right now, if I exclude the <code>-Pmock</code> argument, I can access the actual endpoint just fine, but if I include the <code>-Pmock</code> argument, I get a 404. Can anyone see what I am doing wrong? Here is what I have implemented:</p>\n<p>pom.xml</p>\n<pre><code>...\n    &lt;profiles&gt;\n        &lt;profile&gt;\n            &lt;id&gt;macos-m1&lt;/id&gt;\n            &lt;activation&gt;\n                &lt;os&gt;\n                    &lt;family&gt;mac&lt;/family&gt;\n                    &lt;arch&gt;aarch64&lt;/arch&gt;\n                &lt;/os&gt;\n            &lt;/activation&gt;\n            &lt;dependencies&gt;\n                &lt;dependency&gt;\n                    // mac m1 specific dependency - needed on dev machine only\n                &lt;/dependency&gt;\n            &lt;/dependencies&gt;\n        &lt;/profile&gt;\n        &lt;profile&gt;\n            &lt;id&gt;mock&lt;/id&gt;\n            &lt;properties&gt;\n                &lt;spring.profiles.active&gt;mock&lt;/spring.profiles.active&gt;\n            &lt;/properties&gt;\n        &lt;/profile&gt; --&gt;\n    &lt;/profiles&gt;\n...\n</code></pre>\n<p>ResourceController.java</p>\n<pre><code>@RestController\n@Profile(&quot;!mock&quot;)\npublic final class ResourceController {\n\n    @GetMapping(&quot;/api/resources&quot;)\n    public ResponseEntity&lt;List&lt;Resource&gt;&gt; getAll() {\n        List&lt;Resource&gt; payload = // call service to get all resources\n        return ResponseEntity\n            .status(HttpStatus.OK)\n            .contentType(MediaType.APPLICATION_JSON)\n            .body(payload);\n    }\n}\n\n</code></pre>\n<p>ResourceControllerMock.java</p>\n<pre><code>@RestController\n@Profile(&quot;mock&quot;)\npublic final class ResourceController {\n\n    @GetMapping(&quot;/api/resources&quot;)\n    public ResponseEntity&lt;List&lt;Resource&gt;&gt; getAll() {\n        List&lt;Resource&gt; payload = List.of(new Resource(x,y,z));\n        return ResponseEntity\n            .status(HttpStatus.OK)\n            .contentType(MediaType.APPLICATION_JSON)\n            .body(payload);\n    }\n}\n\n</code></pre>\n"},{"tags":["java","docker","docker-compose","nexus3"],"answers":[{"tags":[],"owner":{"account_id":10381620,"reputation":864,"user_id":8405699,"accept_rate":100,"display_name":"Aldo In&#225;cio da Silva"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1685124171,"creation_date":1685124171,"answer_id":76343287,"question_id":76231625,"body_markdown":"Aftering wait for a long time the page opened.","title":"Docker Nexus Repository - Keep stuck on Initializing","body":"<p>Aftering wait for a long time the page opened.</p>\n"}],"owner":{"account_id":10381620,"reputation":864,"user_id":8405699,"accept_rate":100,"display_name":"Aldo In&#225;cio da Silva"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":265,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76343287,"answer_count":1,"score":0,"last_activity_date":1685124171,"creation_date":1683839436,"question_id":76231625,"body_markdown":"I&#39;m trying to access Nexus Repository home page by browser but the page keep on `Initializing...` indefinitely.\r\n\r\nBrowser: http://&lt;server_ip&gt;:8081/\r\n\r\ndocker-compose:\r\n```\r\ncup-nexus:\r\n    image: sonatype/nexus3\r\n    restart: always\r\n    container_name: cup-nexus\r\n    volumes:\r\n      - /DevOps/volumes/nexus-data:/nexus-data\r\n    ports:\r\n      - 8081:8081\r\n    networks:\r\n      - wso2_bridge\r\n```\r\nDocker Container logs:\r\n```\r\n2023-05-11 20:48:41,109+0000 INFO  [jetty-main-1] *SYSTEM org.sonatype.nexus.repository.httpbridge.internal.ViewServlet - Initialized\r\n2023-05-11 20:48:41,135+0000 INFO  [jetty-main-1] *SYSTEM org.eclipse.jetty.server.handler.ContextHandler - Started o.e.j.w.WebAppContext@44379b0f{Sonatype Nexus,/,file:///opt/sonatype/nexus/public/,AVAILABLE}\r\n2023-05-11 20:48:41,169+0000 INFO  [jetty-main-1] *SYSTEM org.eclipse.jetty.server.AbstractConnector - Started ServerConnector@5a750c01{HTTP/1.1, (http/1.1)}{0.0.0.0:8081}\r\n2023-05-11 20:48:41,170+0000 INFO  [jetty-main-1] *SYSTEM org.eclipse.jetty.server.Server - Started @32769ms\r\n2023-05-11 20:48:41,170+0000 INFO  [jetty-main-1] *SYSTEM org.sonatype.nexus.bootstrap.jetty.JettyServer - \r\n-------------------------------------------------\r\n\r\nStarted Sonatype Nexus OSS 3.53.0-01\r\n\r\n-------------------------------------------------\r\n2023-05-11 20:48:44,548+0000 INFO  [quartz-12-thread-1] *SYSTEM org.sonatype.nexus.quartz.internal.task.QuartzTaskInfo - Task &#39;System - Repository Health Check: maven-central&#39; [healthcheck] state change WAITING -&gt; RUNNING\r\n...\r\n2023-05-11 20:52:08,780+0000 INFO  [qtp192929389-86] *UNKNOWN org.apache.shiro.session.mgt.AbstractValidatingSessionManager - Enabling session validation scheduler...\r\n2023-05-11 20:52:08,788+0000 INFO  [qtp192929389-86] *UNKNOWN org.sonatype.nexus.internal.security.anonymous.AnonymousManagerImpl - Loaded configuration: OrientAnonymousConfiguration{enabled=true, userId=&#39;anonymous&#39;, realmName=&#39;NexusAuthorizingRealm&#39;}\r\n2023-05-11 20:53:31,381+0000 WARN  [qtp192929389-87] *SYSTEM org.eclipse.jetty.io.AbstractConnection - \r\njava.lang.NullPointerException: null\r\n\tat org.eclipse.jetty.io.AbstractConnection.lambda$failedCallback$0(AbstractConnection.java:92)\r\n\tat org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:883)\r\n\tat org.eclipse.jetty.util.thread.QueuedThreadPool$Runner.run(QueuedThreadPool.java:1034)\r\n\tat java.lang.Thread.run(Thread.java:750)\r\n2023-05-11 20:53:37,261+0000 WARN  [qtp192929389-80] *SYSTEM org.eclipse.jetty.io.AbstractConnection - \r\njava.lang.NullPointerException: null\r\n\tat org.eclipse.jetty.io.AbstractConnection.lambda$failedCallback$0(AbstractConnection.java:92)\r\n\tat org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:883)\r\n\tat org.eclipse.jetty.util.thread.QueuedThreadPool$Runner.run(QueuedThreadPool.java:1034)\r\n\tat java.lang.Thread.run(Thread.java:750)\r\n2023-05-11 20:53:50,795+0000 WARN  [qtp192929389-83] *SYSTEM org.eclipse.jetty.io.AbstractConnection - \r\njava.lang.NullPointerException: null\r\n```\r\n\r\nVersions: &lt;br/&gt;\r\nDocker-Compose: 3 &lt;br/&gt;\r\nNexus Repository: 3.53.0-01\r\n","title":"Docker Nexus Repository - Keep stuck on Initializing","body":"<p>I'm trying to access Nexus Repository home page by browser but the page keep on <code>Initializing...</code> indefinitely.</p>\n<p>Browser: http://&lt;server_ip&gt;:8081/</p>\n<p>docker-compose:</p>\n<pre><code>cup-nexus:\n    image: sonatype/nexus3\n    restart: always\n    container_name: cup-nexus\n    volumes:\n      - /DevOps/volumes/nexus-data:/nexus-data\n    ports:\n      - 8081:8081\n    networks:\n      - wso2_bridge\n</code></pre>\n<p>Docker Container logs:</p>\n<pre><code>2023-05-11 20:48:41,109+0000 INFO  [jetty-main-1] *SYSTEM org.sonatype.nexus.repository.httpbridge.internal.ViewServlet - Initialized\n2023-05-11 20:48:41,135+0000 INFO  [jetty-main-1] *SYSTEM org.eclipse.jetty.server.handler.ContextHandler - Started o.e.j.w.WebAppContext@44379b0f{Sonatype Nexus,/,file:///opt/sonatype/nexus/public/,AVAILABLE}\n2023-05-11 20:48:41,169+0000 INFO  [jetty-main-1] *SYSTEM org.eclipse.jetty.server.AbstractConnector - Started ServerConnector@5a750c01{HTTP/1.1, (http/1.1)}{0.0.0.0:8081}\n2023-05-11 20:48:41,170+0000 INFO  [jetty-main-1] *SYSTEM org.eclipse.jetty.server.Server - Started @32769ms\n2023-05-11 20:48:41,170+0000 INFO  [jetty-main-1] *SYSTEM org.sonatype.nexus.bootstrap.jetty.JettyServer - \n-------------------------------------------------\n\nStarted Sonatype Nexus OSS 3.53.0-01\n\n-------------------------------------------------\n2023-05-11 20:48:44,548+0000 INFO  [quartz-12-thread-1] *SYSTEM org.sonatype.nexus.quartz.internal.task.QuartzTaskInfo - Task 'System - Repository Health Check: maven-central' [healthcheck] state change WAITING -&gt; RUNNING\n...\n2023-05-11 20:52:08,780+0000 INFO  [qtp192929389-86] *UNKNOWN org.apache.shiro.session.mgt.AbstractValidatingSessionManager - Enabling session validation scheduler...\n2023-05-11 20:52:08,788+0000 INFO  [qtp192929389-86] *UNKNOWN org.sonatype.nexus.internal.security.anonymous.AnonymousManagerImpl - Loaded configuration: OrientAnonymousConfiguration{enabled=true, userId='anonymous', realmName='NexusAuthorizingRealm'}\n2023-05-11 20:53:31,381+0000 WARN  [qtp192929389-87] *SYSTEM org.eclipse.jetty.io.AbstractConnection - \njava.lang.NullPointerException: null\n    at org.eclipse.jetty.io.AbstractConnection.lambda$failedCallback$0(AbstractConnection.java:92)\n    at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:883)\n    at org.eclipse.jetty.util.thread.QueuedThreadPool$Runner.run(QueuedThreadPool.java:1034)\n    at java.lang.Thread.run(Thread.java:750)\n2023-05-11 20:53:37,261+0000 WARN  [qtp192929389-80] *SYSTEM org.eclipse.jetty.io.AbstractConnection - \njava.lang.NullPointerException: null\n    at org.eclipse.jetty.io.AbstractConnection.lambda$failedCallback$0(AbstractConnection.java:92)\n    at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:883)\n    at org.eclipse.jetty.util.thread.QueuedThreadPool$Runner.run(QueuedThreadPool.java:1034)\n    at java.lang.Thread.run(Thread.java:750)\n2023-05-11 20:53:50,795+0000 WARN  [qtp192929389-83] *SYSTEM org.eclipse.jetty.io.AbstractConnection - \njava.lang.NullPointerException: null\n</code></pre>\n<p>Versions: <br/>\nDocker-Compose: 3 <br/>\nNexus Repository: 3.53.0-01</p>\n"},{"tags":["java","variables","intellij-idea","underline"],"comments":[{"owner":{"account_id":5299243,"reputation":1314,"user_id":4229454,"display_name":"zlakad"},"score":0,"creation_date":1533493932,"post_id":51697168,"comment_id":90355671,"body_markdown":"I&#39;m not sure, but if you use jdk 10 these underlings may suggest you that you can use `var` instead of `int`.","body":"I&#39;m not sure, but if you use jdk 10 these underlings may suggest you that you can use <code>var</code> instead of <code>int</code>."},{"owner":{"account_id":14097204,"reputation":623,"user_id":10183612,"display_name":"fandango"},"score":1,"creation_date":1533494093,"post_id":51697168,"comment_id":90355710,"body_markdown":"Thanks for the reply. I actually downgraded to jdk 8/1.8, because nobody could open my jar :)","body":"Thanks for the reply. I actually downgraded to jdk 8/1.8, because nobody could open my jar :)"},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":2,"creation_date":1533494769,"post_id":51697168,"comment_id":90355893,"body_markdown":"Well, it is unnecessary reassignment in the sense that you could just use a stream to calculate it... But I don&#39;t see that you are doing anything unusual there.","body":"Well, it is unnecessary reassignment in the sense that you could just use a stream to calculate it... But I don&#39;t see that you are doing anything unusual there."}],"answers":[{"comments":[{"owner":{"account_id":543631,"reputation":10094,"user_id":912829,"accept_rate":53,"display_name":"ACV"},"score":4,"creation_date":1548775936,"post_id":51697722,"comment_id":95659082,"body_markdown":"It&#39;s basically what `final` can be used for (only not everybody uses it)","body":"It&#39;s basically what <code>final</code> can be used for (only not everybody uses it)"},{"owner":{"account_id":543631,"reputation":10094,"user_id":912829,"accept_rate":53,"display_name":"ACV"},"score":9,"creation_date":1565000281,"post_id":51697722,"comment_id":101199989,"body_markdown":"one of the worst intellij enhancements I&#39;ve seen in a while. Someone has raised an usability issue with them. Feel free to upvote it: https://youtrack.jetbrains.com/issue/IDEA-207835","body":"one of the worst intellij enhancements I&#39;ve seen in a while. Someone has raised an usability issue with them. Feel free to upvote it: <a href=\"https://youtrack.jetbrains.com/issue/IDEA-207835\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issue/IDEA-207835</a>"}],"tags":[],"owner":{"account_id":36734,"reputation":392137,"user_id":104891,"display_name":"CrazyCoder"},"comment_count":2,"down_vote_count":0,"up_vote_count":79,"is_accepted":true,"score":79,"last_activity_date":1685123341,"creation_date":1533498555,"answer_id":51697722,"question_id":51697168,"body_markdown":"It&#39;s a [new feature](https://www.jetbrains.com/idea/whatsnew/2018-2/#v2018-2-editor) of IntelliJ IDEA 2018.2:\r\n\r\n**Underlining reassigned local variables and reassigned parameters**\r\n\r\nIntelliJ IDEA now underlines reassigned local variables and reassigned parameters, by default. The attributes for all the languages supporting this feature, which for now include Java and Groovy, can be changed in **Preferences/Settings | Editor | Color Scheme | Language Defaults | Identifiers | Reassigned**.\r\n\r\n[![underline][1]][1]\r\n\r\nWhy it may be useful?\r\n---------------------\r\n\r\nIf the variable/parameter is underlined, you know that you can&#39;t use it in lambda/anonymous class directly.\r\n\r\nWhen reading a very long method code, if the parameter is not underlined, you know for sure that its value is not reassigned anywhere in this method and it contains exactly the same value that was passed to this method at any point.\r\n\r\nSome code guidelines are against reassigned variables and you may want to avoid them where possible to keep the code clean and make it easier to read/debug.\r\n\r\nNowadays many developers prefer to avoid mutable state, and reassign variables only in rare cases when it is really necessary. We don&#39;t want to manually enforce immutability, we suppose that everything is immutable by default and want to bring additional attention to the cases when something is not. If you use `final` to mark non-mutable variables it means that you need to write more code for regular cases and less code in exceptional cases. (BTW in modern languages declaring immutable variables doesn&#39;t require writing additional code, but unfortunately not in Java). \r\n\r\nBrian Goetz, Java Language Architect, also likes the way IntelliJ IDEA highlights reassigned variables (see [his tweet](https://twitter.com/BrianGoetz/status/1056640217682231296)).\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/kD1W7.png","title":"IntelliJ IDEA underlines variables when using += in JAVA","body":"<p>It's a <a href=\"https://www.jetbrains.com/idea/whatsnew/2018-2/#v2018-2-editor\" rel=\"nofollow noreferrer\">new feature</a> of IntelliJ IDEA 2018.2:</p>\n<p><strong>Underlining reassigned local variables and reassigned parameters</strong></p>\n<p>IntelliJ IDEA now underlines reassigned local variables and reassigned parameters, by default. The attributes for all the languages supporting this feature, which for now include Java and Groovy, can be changed in <strong>Preferences/Settings | Editor | Color Scheme | Language Defaults | Identifiers | Reassigned</strong>.</p>\n<p><a href=\"https://i.stack.imgur.com/kD1W7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kD1W7.png\" alt=\"underline\" /></a></p>\n<h2>Why it may be useful?</h2>\n<p>If the variable/parameter is underlined, you know that you can't use it in lambda/anonymous class directly.</p>\n<p>When reading a very long method code, if the parameter is not underlined, you know for sure that its value is not reassigned anywhere in this method and it contains exactly the same value that was passed to this method at any point.</p>\n<p>Some code guidelines are against reassigned variables and you may want to avoid them where possible to keep the code clean and make it easier to read/debug.</p>\n<p>Nowadays many developers prefer to avoid mutable state, and reassign variables only in rare cases when it is really necessary. We don't want to manually enforce immutability, we suppose that everything is immutable by default and want to bring additional attention to the cases when something is not. If you use <code>final</code> to mark non-mutable variables it means that you need to write more code for regular cases and less code in exceptional cases. (BTW in modern languages declaring immutable variables doesn't require writing additional code, but unfortunately not in Java).</p>\n<p>Brian Goetz, Java Language Architect, also likes the way IntelliJ IDEA highlights reassigned variables (see <a href=\"https://twitter.com/BrianGoetz/status/1056640217682231296\" rel=\"nofollow noreferrer\">his tweet</a>).</p>\n"},{"tags":[],"owner":{"account_id":159637,"reputation":2203,"user_id":379173,"display_name":"Enrico Giurin"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1582157274,"creation_date":1582157274,"answer_id":60311137,"question_id":51697168,"body_markdown":"Hope this screenshot would help.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/wfKU4.jpg","title":"IntelliJ IDEA underlines variables when using += in JAVA","body":"<p>Hope this screenshot would help.</p>\n\n<p><a href=\"https://i.stack.imgur.com/wfKU4.jpg\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/wfKU4.jpg\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":9686627,"reputation":6334,"user_id":7200133,"display_name":"Gk Mohammad Emon"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1599038707,"creation_date":1599038707,"answer_id":63702591,"question_id":51697168,"body_markdown":"If you know what is the [side effect in programming][1] then it will be easy for you. To protect your variable from the **side effect**, the IDE shows the underline as a warning to you. \r\n\r\n\r\n  [1]: https://softwareengineering.stackexchange.com/questions/40297/what-is-a-side-effect","title":"IntelliJ IDEA underlines variables when using += in JAVA","body":"<p>If you know what is the <a href=\"https://softwareengineering.stackexchange.com/questions/40297/what-is-a-side-effect\">side effect in programming</a> then it will be easy for you. To protect your variable from the <strong>side effect</strong>, the IDE shows the underline as a warning to you.</p>\n"}],"owner":{"account_id":14097204,"reputation":623,"user_id":10183612,"display_name":"fandango"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":28768,"favorite_count":0,"down_vote_count":0,"up_vote_count":62,"accepted_answer_id":51697722,"answer_count":3,"score":62,"last_activity_date":1685123341,"creation_date":1533493746,"question_id":51697168,"body_markdown":"Since the new update (2018.2) IntelliJ IDEA underlines variables, when they are &quot;unnecessarily&quot; reassigned - this includes, however, each use of &quot;+=&quot;.&lt;br&gt;\r\nIs this a mistake in the IDE or am I getting it wrong?&lt;br&gt;\r\nPlease see this basic method as an example. (It just adds a list of numbers.)&lt;br&gt;\r\n\r\n[![example image][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/bxLKB.png","title":"IntelliJ IDEA underlines variables when using += in JAVA","body":"<p>Since the new update (2018.2) IntelliJ IDEA underlines variables, when they are \"unnecessarily\" reassigned - this includes, however, each use of \"+=\".<br>\nIs this a mistake in the IDE or am I getting it wrong?<br>\nPlease see this basic method as an example. (It just adds a list of numbers.)<br></p>\n\n<p><a href=\"https://i.stack.imgur.com/bxLKB.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/bxLKB.png\" alt=\"example image\"></a></p>\n"},{"tags":["java","json","android-asynctask","android-volley","anr"],"answers":[{"comments":[{"owner":{"account_id":28682681,"reputation":3,"user_id":21963532,"display_name":"jwy205"},"score":0,"creation_date":1685079354,"post_id":76337776,"comment_id":134613843,"body_markdown":"That makes sense! I will try these changes tomorrow. Thankyou sir","body":"That makes sense! I will try these changes tomorrow. Thankyou sir"}],"tags":[],"owner":{"account_id":1233070,"reputation":9484,"user_id":1197251,"display_name":"dominicoder"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1685077151,"creation_date":1685077151,"answer_id":76337776,"question_id":76337382,"body_markdown":"&gt; My volley request is causing an ANR even though it is within an ASyncTask.\r\n\r\nYour _request_ is in the AsyncTask but the _response_ is in the UI thread. Volley runs requests on a worker thread and then delivered the response in the main thread, so your AsyncTask is pointless.\r\n\r\nYou need to run the code you have now in the response (inserting into the database) in the background.\r\n\r\nSo.\r\n1. `getData` should just launch the Volley request.\r\n2. In your Volley response, start the AsyncTask\r\n3. Update the AsyncTask to take the response JSON and put it in the database.","title":"Why is my JSON Volley request causing ANR if it is Asynchronous in itself and the data transfer into my database is handled within an AsyncTask?(JAVA)","body":"<blockquote>\n<p>My volley request is causing an ANR even though it is within an ASyncTask.</p>\n</blockquote>\n<p>Your <em>request</em> is in the AsyncTask but the <em>response</em> is in the UI thread. Volley runs requests on a worker thread and then delivered the response in the main thread, so your AsyncTask is pointless.</p>\n<p>You need to run the code you have now in the response (inserting into the database) in the background.</p>\n<p>So.</p>\n<ol>\n<li><code>getData</code> should just launch the Volley request.</li>\n<li>In your Volley response, start the AsyncTask</li>\n<li>Update the AsyncTask to take the response JSON and put it in the database.</li>\n</ol>\n"}],"owner":{"account_id":28682681,"reputation":3,"user_id":21963532,"display_name":"jwy205"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76337776,"answer_count":1,"score":0,"last_activity_date":1685122500,"creation_date":1685069845,"question_id":76337382,"body_markdown":"Just an FYI, this is my first time working with JSON, Volley, or ASyncTask.\r\n\r\nFor a coding challenge I have to download a JSON array from a url into an android application and display the list of items after doing some editing and filtering. I am connecting to the JSON file via Volley in Java. In my &quot;OnResponse&quot; method within my JSONArrayRequest I am taking the JSON items, converting them into java items, and then adding them to a Room SQLite database. This heavy task caused an ANR so I moved the conversion and transfer into the database to an ASyncTask. It is still causing an ANR. How is this possible if all heavy methods are occurring Asynchronously? Relevant code and explanations of code below:\r\n\r\n\r\n\r\nThis is my OnCreate method for my controller where I call the AsyncTask:\r\n\r\n```\r\nStrictMode.setVmPolicy(new StrictMode.VmPolicy.Builder()\r\n                .detectLeakedClosableObjects()\r\n                .penaltyLog()\r\n                .build());\r\n\r\n\r\n        repository = new Repository(getApplication());\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_item_list_screen);\r\n\r\n\r\n        itemRV = findViewById(R.id.itemListRecyclerView);\r\n        progressBar = findViewById(R.id.progressBar1);\r\n\r\n        RequestQueue queue1 = Volley.newRequestQueue(ItemListScreen.this);\r\n        queue = queue1;\r\n\r\n        final ItemAdapter itemAdapter = new ItemAdapter(this);\r\n        getSupportActionBar().setDisplayHomeAsUpEnabled(true);\r\n        RecyclerView recyclerView  = findViewById(R.id.itemListRecyclerView);\r\n        recyclerView.setAdapter(itemAdapter);\r\n        recyclerView.setLayoutManager(new LinearLayoutManager(this));\r\n\r\n        if(repository.getAllItems().isEmpty()) {\r\n            //moves the download of the json file offof the UI thread\r\n            startAsyncTask();\r\n        }\r\n        //fills GUI table with database data\r\n\r\n        items = repository.getAllItems();\r\n        itemAdapter.setItems(items);\r\n    }\r\n```\r\n\r\nPHOTO VERSION:\r\n\r\n[enter image description here](https://i.stack.imgur.com/hHsoL.png)\r\n\r\n\r\nBelow is the method that performs the JSONRequest and fills a Room SQLite database with the newly created items. This is called within the ASyncTask. \r\n```\r\nprivate void getData () throws InterruptedException {\r\n        //fills database with JSON objects\r\n        JsonArrayRequest jsonArrayRequest = new JsonArrayRequest(Request.Method.GET, url, null, new Response.Listener&lt;JSONArray&gt;() {\r\n            @Override\r\n            public void onResponse(JSONArray response) {\r\n                for (int i = 0; i &lt; response.length(); i++) {\r\n                    try {\r\n                        JSONObject responseObj = response.getJSONObject(i);\r\n                        int id = responseObj.getInt(&quot;id&quot;);\r\n                        int listId = responseObj.getInt(&quot;listId&quot;);\r\n                        String name = responseObj.getString(&quot;name&quot;);\r\n                        Item item = new Item(id, listId, name);\r\n                        repository.insert(item);\r\n\r\n                    } catch (JSONException e) {\r\n                        throw new RuntimeException(e);\r\n                    }\r\n                }\r\n            }\r\n            }, new Response.ErrorListener() {\r\n                @Override\r\n                public void onErrorResponse(VolleyError error) {\r\n                        Toast.makeText(ItemListScreen.this, &quot;Failed to get the data&quot;, Toast.LENGTH_SHORT).show();\r\n                    }\r\n                });\r\n        //Thread.sleep(1000);\r\n            queue.add(jsonArrayRequest);\r\n    }\r\n\r\n```\r\n\r\nPHOTO VERSION:\r\n\r\n[enter image description here](https://i.stack.imgur.com/ZFqfM.png)\r\n\r\n\r\nThis is my AsyncTask which is called in the OnCreate method of my controller. The PreExecute should turn on the progress bar, then the DoInBackground should make the data transfer, then the Post should occur after the DoInBackground is done and turn off the progress bar. The code should then go back to the OnCreate method and finish out the code below the ASyncTask call:\r\n\r\n```\r\npublic void startAsyncTask(){\r\n        ItemsAsyncTask itemsAsyncTask = new ItemsAsyncTask(this);\r\n        //not sure what this integerparameter does but a youtube video said this was very important to have.\r\n        itemsAsyncTask.execute(10);\r\n    }\r\n    private static class ItemsAsyncTask extends AsyncTask&lt;Integer, Integer, String&gt;{\r\n\r\n        private WeakReference&lt;ItemListScreen&gt; reference;\r\n\r\n        ItemsAsyncTask(ItemListScreen activity){\r\n            reference = new WeakReference&lt;ItemListScreen&gt;(activity);\r\n        }\r\n        @Override\r\n        protected void onPreExecute() {\r\n            super.onPreExecute();\r\n            ItemListScreen activity = reference.get();\r\n            if (activity == null || activity.isFinishing()){\r\n            return;\r\n            }\r\n            //This should begin the progress bar on the screen, which should continue throughout the doInBackground method.\r\n            activity.itemRV.setVisibility(View.INVISIBLE);\r\n            activity.progressBar.setVisibility(View.VISIBLE);\r\n        }\r\n\r\n        @Override\r\n        protected String doInBackground(Integer... integers) {\r\n            //this calls the getData method that performs the data transfer away from the UI thread.\r\n            try {\r\n                ItemListScreen activity = reference.get();\r\n                if (activity == null || activity.isFinishing()){\r\n                    return &quot;return&quot;;\r\n                }\r\n                activity.getData();\r\n            } catch (InterruptedException e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n            return &quot;return&quot;;        }\r\n\r\n\r\n\r\n        @Override\r\n        protected void onPostExecute(String s) {\r\n            //After the doInBackground method is complete, this should remove the progress bar\r\n            // and then continue on to the rest of the OnCreate method where the GUI table will be filled witht he database objects\r\n            super.onPostExecute(s);\r\n            ItemListScreen activity = reference.get();\r\n            if (activity == null || activity.isFinishing()){\r\n                return;\r\n            }\r\n            activity.itemRV.setVisibility(View.VISIBLE);\r\n            activity.progressBar.setVisibility(View.INVISIBLE);\r\n        }\r\n    }\r\n```\r\n\r\nPHOTO VERSION:\r\n\r\n[enter image description here](https://i.stack.imgur.com/qSvwK.png)\r\n\r\nSo, in summary, My volley request is causing an ANR even though it is within an ASyncTask. The download of the JSON into the database still occurs while the ANR is happening (I am viewing the database populate in Android Studio) and the android device is showing a pop up message saying &quot;application is not responding&quot;, but the Pre and Post methods instantly blink on the screen when the oncreate first occurs and then are instantly gone again. So it&#39;s like the Post method is being called before the DoInBackground is complete or something.  Does anyone know why this things are occurring?\r\n\r\nAlso, after the application does this big download the first time the application is opened, upon further openings the database is already full so the ANR doesnt occur. It only happens the first time the app is used and it has to perform the challenge requirement of downloading the JSON from url.\r\n\r\n\r\n\r\nI tried ASync but the ANR still occurs\r\n\r\nEDIT: I updated my code as a user suggested and now have one small error left to solve. Even though I am calling a weak reference of activity for the response, it is still not recognizing response. Any Idea why this is the case? Here is the code:\r\n\r\n    @Override\r\n        protected String doInBackground(Integer... integers) {\r\n            //this calls the getData method that performs the data transfer away from the UI thread.\r\n            try {\r\n                ItemListScreen activity = reference.get();\r\n                if (activity == null || activity.isFinishing()){\r\n                    return &quot;return&quot;;\r\n                }\r\n                for (int i = 0; i &lt; activity.response.length(); i++) {\r\n                    try {\r\n                        JSONObject responseObj = activity.response.getJSONObject(i);\r\n                        int id = responseObj.getInt(&quot;id&quot;);\r\n                        int listId = responseObj.getInt(&quot;listId&quot;);\r\n                        String name = responseObj.getString(&quot;name&quot;);\r\n                        Item item = new Item(id, listId, name);\r\n                        activity.repository.insert(item);\r\n\r\n                    } catch (JSONException e) {\r\n                        throw new RuntimeException(e);\r\n                    }\r\n                }\r\n            } catch (InterruptedException e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n            return &quot;return&quot;;        }","title":"Why is my JSON Volley request causing ANR if it is Asynchronous in itself and the data transfer into my database is handled within an AsyncTask?(JAVA)","body":"<p>Just an FYI, this is my first time working with JSON, Volley, or ASyncTask.</p>\n<p>For a coding challenge I have to download a JSON array from a url into an android application and display the list of items after doing some editing and filtering. I am connecting to the JSON file via Volley in Java. In my &quot;OnResponse&quot; method within my JSONArrayRequest I am taking the JSON items, converting them into java items, and then adding them to a Room SQLite database. This heavy task caused an ANR so I moved the conversion and transfer into the database to an ASyncTask. It is still causing an ANR. How is this possible if all heavy methods are occurring Asynchronously? Relevant code and explanations of code below:</p>\n<p>This is my OnCreate method for my controller where I call the AsyncTask:</p>\n<pre><code>StrictMode.setVmPolicy(new StrictMode.VmPolicy.Builder()\n                .detectLeakedClosableObjects()\n                .penaltyLog()\n                .build());\n\n\n        repository = new Repository(getApplication());\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_item_list_screen);\n\n\n        itemRV = findViewById(R.id.itemListRecyclerView);\n        progressBar = findViewById(R.id.progressBar1);\n\n        RequestQueue queue1 = Volley.newRequestQueue(ItemListScreen.this);\n        queue = queue1;\n\n        final ItemAdapter itemAdapter = new ItemAdapter(this);\n        getSupportActionBar().setDisplayHomeAsUpEnabled(true);\n        RecyclerView recyclerView  = findViewById(R.id.itemListRecyclerView);\n        recyclerView.setAdapter(itemAdapter);\n        recyclerView.setLayoutManager(new LinearLayoutManager(this));\n\n        if(repository.getAllItems().isEmpty()) {\n            //moves the download of the json file offof the UI thread\n            startAsyncTask();\n        }\n        //fills GUI table with database data\n\n        items = repository.getAllItems();\n        itemAdapter.setItems(items);\n    }\n</code></pre>\n<p>PHOTO VERSION:</p>\n<p><a href=\"https://i.stack.imgur.com/hHsoL.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>Below is the method that performs the JSONRequest and fills a Room SQLite database with the newly created items. This is called within the ASyncTask.</p>\n<pre><code>private void getData () throws InterruptedException {\n        //fills database with JSON objects\n        JsonArrayRequest jsonArrayRequest = new JsonArrayRequest(Request.Method.GET, url, null, new Response.Listener&lt;JSONArray&gt;() {\n            @Override\n            public void onResponse(JSONArray response) {\n                for (int i = 0; i &lt; response.length(); i++) {\n                    try {\n                        JSONObject responseObj = response.getJSONObject(i);\n                        int id = responseObj.getInt(&quot;id&quot;);\n                        int listId = responseObj.getInt(&quot;listId&quot;);\n                        String name = responseObj.getString(&quot;name&quot;);\n                        Item item = new Item(id, listId, name);\n                        repository.insert(item);\n\n                    } catch (JSONException e) {\n                        throw new RuntimeException(e);\n                    }\n                }\n            }\n            }, new Response.ErrorListener() {\n                @Override\n                public void onErrorResponse(VolleyError error) {\n                        Toast.makeText(ItemListScreen.this, &quot;Failed to get the data&quot;, Toast.LENGTH_SHORT).show();\n                    }\n                });\n        //Thread.sleep(1000);\n            queue.add(jsonArrayRequest);\n    }\n\n</code></pre>\n<p>PHOTO VERSION:</p>\n<p><a href=\"https://i.stack.imgur.com/ZFqfM.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>This is my AsyncTask which is called in the OnCreate method of my controller. The PreExecute should turn on the progress bar, then the DoInBackground should make the data transfer, then the Post should occur after the DoInBackground is done and turn off the progress bar. The code should then go back to the OnCreate method and finish out the code below the ASyncTask call:</p>\n<pre><code>public void startAsyncTask(){\n        ItemsAsyncTask itemsAsyncTask = new ItemsAsyncTask(this);\n        //not sure what this integerparameter does but a youtube video said this was very important to have.\n        itemsAsyncTask.execute(10);\n    }\n    private static class ItemsAsyncTask extends AsyncTask&lt;Integer, Integer, String&gt;{\n\n        private WeakReference&lt;ItemListScreen&gt; reference;\n\n        ItemsAsyncTask(ItemListScreen activity){\n            reference = new WeakReference&lt;ItemListScreen&gt;(activity);\n        }\n        @Override\n        protected void onPreExecute() {\n            super.onPreExecute();\n            ItemListScreen activity = reference.get();\n            if (activity == null || activity.isFinishing()){\n            return;\n            }\n            //This should begin the progress bar on the screen, which should continue throughout the doInBackground method.\n            activity.itemRV.setVisibility(View.INVISIBLE);\n            activity.progressBar.setVisibility(View.VISIBLE);\n        }\n\n        @Override\n        protected String doInBackground(Integer... integers) {\n            //this calls the getData method that performs the data transfer away from the UI thread.\n            try {\n                ItemListScreen activity = reference.get();\n                if (activity == null || activity.isFinishing()){\n                    return &quot;return&quot;;\n                }\n                activity.getData();\n            } catch (InterruptedException e) {\n                throw new RuntimeException(e);\n            }\n            return &quot;return&quot;;        }\n\n\n\n        @Override\n        protected void onPostExecute(String s) {\n            //After the doInBackground method is complete, this should remove the progress bar\n            // and then continue on to the rest of the OnCreate method where the GUI table will be filled witht he database objects\n            super.onPostExecute(s);\n            ItemListScreen activity = reference.get();\n            if (activity == null || activity.isFinishing()){\n                return;\n            }\n            activity.itemRV.setVisibility(View.VISIBLE);\n            activity.progressBar.setVisibility(View.INVISIBLE);\n        }\n    }\n</code></pre>\n<p>PHOTO VERSION:</p>\n<p><a href=\"https://i.stack.imgur.com/qSvwK.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>So, in summary, My volley request is causing an ANR even though it is within an ASyncTask. The download of the JSON into the database still occurs while the ANR is happening (I am viewing the database populate in Android Studio) and the android device is showing a pop up message saying &quot;application is not responding&quot;, but the Pre and Post methods instantly blink on the screen when the oncreate first occurs and then are instantly gone again. So it's like the Post method is being called before the DoInBackground is complete or something.  Does anyone know why this things are occurring?</p>\n<p>Also, after the application does this big download the first time the application is opened, upon further openings the database is already full so the ANR doesnt occur. It only happens the first time the app is used and it has to perform the challenge requirement of downloading the JSON from url.</p>\n<p>I tried ASync but the ANR still occurs</p>\n<p>EDIT: I updated my code as a user suggested and now have one small error left to solve. Even though I am calling a weak reference of activity for the response, it is still not recognizing response. Any Idea why this is the case? Here is the code:</p>\n<pre><code>@Override\n    protected String doInBackground(Integer... integers) {\n        //this calls the getData method that performs the data transfer away from the UI thread.\n        try {\n            ItemListScreen activity = reference.get();\n            if (activity == null || activity.isFinishing()){\n                return &quot;return&quot;;\n            }\n            for (int i = 0; i &lt; activity.response.length(); i++) {\n                try {\n                    JSONObject responseObj = activity.response.getJSONObject(i);\n                    int id = responseObj.getInt(&quot;id&quot;);\n                    int listId = responseObj.getInt(&quot;listId&quot;);\n                    String name = responseObj.getString(&quot;name&quot;);\n                    Item item = new Item(id, listId, name);\n                    activity.repository.insert(item);\n\n                } catch (JSONException e) {\n                    throw new RuntimeException(e);\n                }\n            }\n        } catch (InterruptedException e) {\n            throw new RuntimeException(e);\n        }\n        return &quot;return&quot;;        }\n</code></pre>\n"},{"tags":["java","google-chrome","selenium-webdriver","devtools","saucelabs"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1683059714,"post_id":76154922,"comment_id":134307973,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":28482293,"reputation":1,"user_id":21796076,"display_name":"user21796076"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685122339,"creation_date":1683031114,"question_id":76154922,"body_markdown":"How to open chrome dev tool on remote driver, in my test I was connecting to SauceLabs however when I try to obtain chrome dev tools instance, immediately got this exception:\r\n\r\n&gt; org.openqa.selenium.devtools.devtoolsexception: unable to create devtools connection\r\n\r\n    Selenium version 4.8\r\n    Chrome ver 108,109\r\n\r\nIn a nut shell we need monitoring some HTTP request/response as part of function testing. My local works fine.\r\n","title":"connect to SauceLabs open chrome dev tool get exception:org.openqa.selenium.devtools.devtoolsexception: unable to create devtools connection","body":"<p>How to open chrome dev tool on remote driver, in my test I was connecting to SauceLabs however when I try to obtain chrome dev tools instance, immediately got this exception:</p>\n<blockquote>\n<p>org.openqa.selenium.devtools.devtoolsexception: unable to create devtools connection</p>\n</blockquote>\n<pre><code>Selenium version 4.8\nChrome ver 108,109\n</code></pre>\n<p>In a nut shell we need monitoring some HTTP request/response as part of function testing. My local works fine.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2815281,"reputation":1624,"user_id":2420536,"accept_rate":91,"display_name":"Nameless One"},"score":0,"creation_date":1437513708,"post_id":31548786,"comment_id":51058175,"body_markdown":"You are using `c` out of its scope. Maybe move the `if` inside the `for`.","body":"You are using <code>c</code> out of its scope. Maybe move the <code>if</code> inside the <code>for</code>."},{"owner":{"account_id":3621196,"reputation":604,"user_id":3019891,"accept_rate":62,"display_name":"CoderMusgrove"},"score":0,"creation_date":1437514274,"post_id":31548786,"comment_id":51058452,"body_markdown":"`c` isn&#39;t accessible out of the `for loop` above your `if` statement; you&#39;re using the assignment `=` in your `if` statement, when you should be using the `==`, since it compares; You have two infinite loops: both of your `for` statement, which is `while a is greater than n increment a` and the same with `b`.","body":"<code>c</code> isn&#39;t accessible out of the <code>for loop</code> above your <code>if</code> statement; you&#39;re using the assignment <code>=</code> in your <code>if</code> statement, when you should be using the <code>==</code>, since it compares; You have two infinite loops: both of your <code>for</code> statement, which is <code>while a is greater than n increment a</code> and the same with <code>b</code>."}],"answers":[{"comments":[{"owner":{"account_id":40721,"reputation":357298,"user_id":118068,"display_name":"Marc B"},"score":1,"creation_date":1437510038,"post_id":31548847,"comment_id":51056253,"body_markdown":"Don&#39;t change **ONE** character and not even bother pointing out **WHAT** you changed.","body":"Don&#39;t change <b>ONE</b> character and not even bother pointing out <b>WHAT</b> you changed."},{"owner":{"account_id":6662021,"reputation":53,"user_id":5140816,"accept_rate":0,"display_name":"Rak"},"score":0,"creation_date":1437510263,"post_id":31548847,"comment_id":51056374,"body_markdown":"thanx,,,but it still shows    error: variable declaration not allowed here\n        int c=n-a-b ;}","body":"thanx,,,but it still shows    error: variable declaration not allowed here         int c=n-a-b ;}"},{"owner":{"account_id":2869692,"reputation":1727,"user_id":2463304,"accept_rate":25,"display_name":"Samrat Dutta"},"score":0,"creation_date":1437510412,"post_id":31548847,"comment_id":51056459,"body_markdown":"because you wrote int c again inside the for loop. This code will work. I have updated it. And syntax is important. maintain indents and proper brackets. :)","body":"because you wrote int c again inside the for loop. This code will work. I have updated it. And syntax is important. maintain indents and proper brackets. :)"},{"owner":{"account_id":6662021,"reputation":53,"user_id":5140816,"accept_rate":0,"display_name":"Rak"},"score":0,"creation_date":1437510815,"post_id":31548847,"comment_id":51056659,"body_markdown":"but in your prgm you havent declare c anywhere??","body":"but in your prgm you havent declare c anywhere??"},{"owner":{"account_id":2869692,"reputation":1727,"user_id":2463304,"accept_rate":25,"display_name":"Samrat Dutta"},"score":0,"creation_date":1437510838,"post_id":31548847,"comment_id":51056673,"body_markdown":"@MarcB I just posted the solution first to help him as fast as possible, then I edited and made my answer better by adding all the information. That is the method I always follow. :)","body":"@MarcB I just posted the solution first to help him as fast as possible, then I edited and made my answer better by adding all the information. That is the method I always follow. :)"},{"owner":{"account_id":2869692,"reputation":1727,"user_id":2463304,"accept_rate":25,"display_name":"Samrat Dutta"},"score":0,"creation_date":1437511056,"post_id":31548847,"comment_id":51056793,"body_markdown":"It was my mistake. I fixed it. this is the updated code. When we declare c before the for loop, both the for loop and the if statement will be able to access c. Hence it is declared outside. :)","body":"It was my mistake. I fixed it. this is the updated code. When we declare c before the for loop, both the for loop and the if statement will be able to access c. Hence it is declared outside. :)"},{"owner":{"account_id":2869692,"reputation":1727,"user_id":2463304,"accept_rate":25,"display_name":"Samrat Dutta"},"score":0,"creation_date":1437511128,"post_id":31548847,"comment_id":51056838,"body_markdown":"And if this is the solution you were looking for, please do mark the answer as accepted. Helps me gain reputation and future users to get the best answer easily. Thank You. :)","body":"And if this is the solution you were looking for, please do mark the answer as accepted. Helps me gain reputation and future users to get the best answer easily. Thank You. :)"}],"tags":[],"owner":{"account_id":2869692,"reputation":1727,"user_id":2463304,"accept_rate":25,"display_name":"Samrat Dutta"},"comment_count":7,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1437512504,"creation_date":1437510007,"answer_id":31548847,"question_id":31548786,"body_markdown":"**Firstly, syntax is very important. Maintain indents. Makes the code easier to read and understand and also helps in maintenance.**\r\n\r\nThe errors in your code :\r\n\r\n 1. `int c=n-a-b ;` c is being used in the if comparison. So needs to be declared beforehand. Similarly, `int b` also has to be declared before hand for use in the if statement.\n\n 2. if(c\\*c=a\\*a+b*b)    `=` is an assignment operator. Use `==` to make comparisons. And use more brackets to get rid of ambiguity.\r\n\r\nAdditionally :\r\n\r\nSystem.out.println(a+&#39;,&#39;+b+&#39;,&#39;+c+&#39;,&#39;); this isnt a mistake as such, but its better to use `&quot;,&quot;`.\r\n\r\n**This should workd :**\r\n\r\n\r\n    import java.util.Scanner;\r\n    \r\n    class pyth{\r\n        public static void main(String[] args){\r\n             System.out.println(&quot;enter n&quot;);\r\n             Scanner in=new Scanner(System.in);\r\n             int b,c;\r\n             int n=in.nextInt();\r\n    \r\n             for(int a=1;a&gt;n;a++) {\r\n                 for(b=a+1;b&gt;n;b++)  {\r\n                     c=n-a-b ;\r\n                 }\r\n    \r\n                 if(c*c==(a*a+b*b)) {\r\n                     System.out.println(a+&quot;,&quot;+b+&quot;,&quot;+c+&quot;,&quot;);\r\n                 }\r\n             }\r\n        }\r\n    }","title":"java programming giving &quot;symbol error&quot;","body":"<p><strong>Firstly, syntax is very important. Maintain indents. Makes the code easier to read and understand and also helps in maintenance.</strong></p>\n\n<p>The errors in your code :</p>\n\n<ol>\n<li><p><code>int c=n-a-b ;</code> c is being used in the if comparison. So needs to be declared beforehand. Similarly, <code>int b</code> also has to be declared before hand for use in the if statement.</p></li>\n<li><p>if(c*c=a*a+b*b)    <code>=</code> is an assignment operator. Use <code>==</code> to make comparisons. And use more brackets to get rid of ambiguity.</p></li>\n</ol>\n\n<p>Additionally :</p>\n\n<p>System.out.println(a+','+b+','+c+','); this isnt a mistake as such, but its better to use <code>\",\"</code>.</p>\n\n<p><strong>This should workd :</strong></p>\n\n<pre><code>import java.util.Scanner;\n\nclass pyth{\n    public static void main(String[] args){\n         System.out.println(\"enter n\");\n         Scanner in=new Scanner(System.in);\n         int b,c;\n         int n=in.nextInt();\n\n         for(int a=1;a&gt;n;a++) {\n             for(b=a+1;b&gt;n;b++)  {\n                 c=n-a-b ;\n             }\n\n             if(c*c==(a*a+b*b)) {\n                 System.out.println(a+\",\"+b+\",\"+c+\",\");\n             }\n         }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":40721,"reputation":357298,"user_id":118068,"display_name":"Marc B"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1437510020,"creation_date":1437510020,"answer_id":31548852,"question_id":31548786,"body_markdown":"                if(c*c=a*a+b*b) {\r\n                      ^--- assignment\r\n\r\nYou cannot assign the result of one expression to another expression. It should be `==`","title":"java programming giving &quot;symbol error&quot;","body":"<pre><code>            if(c*c=a*a+b*b) {\n                  ^--- assignment\n</code></pre>\n\n<p>You cannot assign the result of one expression to another expression. It should be <code>==</code></p>\n"},{"tags":[],"owner":{"account_id":6405033,"reputation":289,"user_id":4966557,"display_name":"digidude"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685122019,"creation_date":1437510359,"answer_id":31548953,"question_id":31548786,"body_markdown":"ok, the issue of your compilation errors is scoping of variables.\r\n\r\nyou defined int c = n-a-b inside a for block and it is not accessible outside that block.\r\n\r\nsimilarly the variable b is not accessible outside the block \r\n\r\n     for (int b = a + 1; b &gt; n; b++) {\r\n\t\tc = n - a - b;\r\n\t }\r\nas it&#39;s scope ends at the end of loop.\r\n\r\nAlso where you are checking for equality, you should use == instead of = , which is for assignment.\r\n\r\nI am not sure what you want to do through your code,  but the code should be something as follows :\r\n    \r\n    import java.util.Scanner;\r\n\r\n    public class pyth {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tSystem.out.println(&quot;enter n&quot;);\r\n    \t\tScanner in = new Scanner(System.in);\r\n    \t\tint n = in.nextInt();\r\n    \t\tint c = 0, a=0, b=0;\r\n\r\n    \t\tfor (a = 1; a &gt; n; a++) {\r\n\t    \t\tfor (b = a + 1; b &gt; n; b++) {\r\n\t    \t\t\tc = n - a - b;\r\n\t    \t\t}\r\n    \t\t\tif ((c * c) == (a * a) + (b * b))\r\n\t    \t\t\tSystem.out.println(a + &#39;,&#39; + b + &#39;,&#39; + c + &#39;,&#39;);\r\n    \t\t}\r\n    \t}\r\n    }\r\n","title":"java programming giving &quot;symbol error&quot;","body":"<p>ok, the issue of your compilation errors is scoping of variables.</p>\n<p>you defined int c = n-a-b inside a for block and it is not accessible outside that block.</p>\n<p>similarly the variable b is not accessible outside the block</p>\n<pre><code> for (int b = a + 1; b &gt; n; b++) {\n    c = n - a - b;\n }\n</code></pre>\n<p>as it's scope ends at the end of loop.</p>\n<p>Also where you are checking for equality, you should use == instead of = , which is for assignment.</p>\n<p>I am not sure what you want to do through your code,  but the code should be something as follows :</p>\n<pre><code>import java.util.Scanner;\n\npublic class pyth {\n    public static void main(String[] args) {\n        System.out.println(&quot;enter n&quot;);\n        Scanner in = new Scanner(System.in);\n        int n = in.nextInt();\n        int c = 0, a=0, b=0;\n\n        for (a = 1; a &gt; n; a++) {\n            for (b = a + 1; b &gt; n; b++) {\n                c = n - a - b;\n            }\n            if ((c * c) == (a * a) + (b * b))\n                System.out.println(a + ',' + b + ',' + c + ',');\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":6662021,"reputation":53,"user_id":5140816,"accept_rate":0,"display_name":"Rak"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":76,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":3,"score":-2,"last_activity_date":1685122019,"creation_date":1437509745,"question_id":31548786,"body_markdown":"    import java.util.Scanner;\n\n    class pyth{\n        public static void main(String[] args) {\n            System.out.println(&quot;enter n&quot;);\n            Scanner in=new Scanner(System.in);\n            int n=in.nextInt();\n            {\n                for(int a=1;a&gt;n;a++) {\n                    for(int b=a+1;b&gt;n;b++) {\n                        int c=n-a-b ;\n                    }\n                    if(c*c=a*a+b*b) {\n                        System.out.println(a+&#39;,&#39;+b+&#39;,&#39;+c+&#39;,&#39;);\n                    }\n                }\n            }\n        }\n    }\n\nI&#39;m new to programming, so I can&#39;t really figure out the problem. This is the error:\n\n&gt;pyth.java:15: error: cannot find symbol\n&gt;if(c*c=a*a+b*b)\n&gt;\n&gt;   ^ symbol:   variable c\n&gt;\n&gt;  location: class pyth","title":"java programming giving &quot;symbol error&quot;","body":"<pre><code>import java.util.Scanner;\n\nclass pyth{\n    public static void main(String[] args) {\n        System.out.println(&quot;enter n&quot;);\n        Scanner in=new Scanner(System.in);\n        int n=in.nextInt();\n        {\n            for(int a=1;a&gt;n;a++) {\n                for(int b=a+1;b&gt;n;b++) {\n                    int c=n-a-b ;\n                }\n                if(c*c=a*a+b*b) {\n                    System.out.println(a+','+b+','+c+',');\n                }\n            }\n        }\n    }\n}\n</code></pre>\n<p>I'm new to programming, so I can't really figure out the problem. This is the error:</p>\n<blockquote>\n<p>pyth.java:15: error: cannot find symbol\nif(c<em>c=a</em>a+b*b)</p>\n<p>^ symbol:   variable c</p>\n<p>location: class pyth</p>\n</blockquote>\n"},{"tags":["java","android","api","runtime-error"],"comments":[{"owner":{"account_id":1102504,"reputation":66096,"user_id":1094597,"accept_rate":94,"display_name":"kosa"},"score":0,"creation_date":1437405761,"post_id":31520242,"comment_id":51001798,"body_markdown":"What is your Manifest.xml configuration? It seems you are running code on unsupported versions.","body":"What is your Manifest.xml configuration? It seems you are running code on unsupported versions."}],"answers":[{"comments":[{"owner":{"account_id":6569251,"reputation":93,"user_id":5120881,"accept_rate":47,"display_name":"leonardo"},"score":0,"creation_date":1437408083,"post_id":31520614,"comment_id":51003365,"body_markdown":"How would I implement that in this though, I attached a code snippet","body":"How would I implement that in this though, I attached a code snippet"},{"owner":{"account_id":4596966,"reputation":1979,"user_id":5135655,"display_name":"Awanish Raj"},"score":0,"creation_date":1437408229,"post_id":31520614,"comment_id":51003467,"body_markdown":"What is the `activity` object here referring to? Can you paste the part of the code where you assign the `activity` object.","body":"What is the <code>activity</code> object here referring to? Can you paste the part of the code where you assign the <code>activity</code> object."}],"tags":[],"owner":{"account_id":4596966,"reputation":1979,"user_id":5135655,"display_name":"Awanish Raj"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1685121862,"creation_date":1437406482,"answer_id":31520614,"question_id":31520242,"body_markdown":"This API was added only in API Level 17 [Check this!](http://developer.android.com/reference/android/app/Activity.html#isDestroyed%28%29)\r\n\r\nTo avoid the crash, you can verify with the following code\r\n\r\n    if(Build.VERSION.SDK_INT &gt;= VERSION_CODES.JELLY_BEAN_MR1){\r\n    //do your thing!\r\n    }\r\n\r\nTo get it working on lower API levels, you can create your own BaseActivity.java and add code like this\r\n\r\n    public class BaseActivity extends Activity {\r\n        private boolean mDestroyed;\r\n\r\n        public boolean isDestroyed(){\r\n            return mDestroyed;\r\n        }\r\n\r\n        @Override\r\n        protected void onDestroy() {\r\n            mDestroyed = true;\r\n            super.onDestroy();\r\n        }\r\n    }\r\n\r\nNow, make all your activities extend this BaseActivity as follows\r\n\r\n    public class MainActivity extends BaseActivity {\r\n    ...\r\n    }\r\n\r\n**EDIT** (After OP added code snippets)\r\n\r\nFirst create a `BaseActivity.java` file as I have shown above.\r\nThen, make all your activities extend `BaseActivity` instead of `Activity`.\r\n\r\nNow, change\r\n\r\n    private WeakReference&lt;Activity&gt; mActivityRef;\r\nto\r\n\r\n    private WeakReference&lt;BaseActivity&gt; mActivityRef;\r\n\r\nAnd change\r\n\r\n    Activity activity = mActivityRef.get();\r\n\r\nto\r\n\r\n    BaseActivity activity = mActivityRef.get();\r\n","title":"Java error api level method","body":"<p>This API was added only in API Level 17 <a href=\"http://developer.android.com/reference/android/app/Activity.html#isDestroyed%28%29\" rel=\"nofollow noreferrer\">Check this!</a></p>\n<p>To avoid the crash, you can verify with the following code</p>\n<pre><code>if(Build.VERSION.SDK_INT &gt;= VERSION_CODES.JELLY_BEAN_MR1){\n//do your thing!\n}\n</code></pre>\n<p>To get it working on lower API levels, you can create your own BaseActivity.java and add code like this</p>\n<pre><code>public class BaseActivity extends Activity {\n    private boolean mDestroyed;\n\n    public boolean isDestroyed(){\n        return mDestroyed;\n    }\n\n    @Override\n    protected void onDestroy() {\n        mDestroyed = true;\n        super.onDestroy();\n    }\n}\n</code></pre>\n<p>Now, make all your activities extend this BaseActivity as follows</p>\n<pre><code>public class MainActivity extends BaseActivity {\n...\n}\n</code></pre>\n<p><strong>EDIT</strong> (After OP added code snippets)</p>\n<p>First create a <code>BaseActivity.java</code> file as I have shown above.\nThen, make all your activities extend <code>BaseActivity</code> instead of <code>Activity</code>.</p>\n<p>Now, change</p>\n<pre><code>private WeakReference&lt;Activity&gt; mActivityRef;\n</code></pre>\n<p>to</p>\n<pre><code>private WeakReference&lt;BaseActivity&gt; mActivityRef;\n</code></pre>\n<p>And change</p>\n<pre><code>Activity activity = mActivityRef.get();\n</code></pre>\n<p>to</p>\n<pre><code>BaseActivity activity = mActivityRef.get();\n</code></pre>\n"}],"owner":{"account_id":6569251,"reputation":93,"user_id":5120881,"accept_rate":47,"display_name":"leonardo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":329,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":31520614,"answer_count":1,"score":3,"last_activity_date":1685121862,"creation_date":1437405467,"question_id":31520242,"body_markdown":"I get an error \r\n&gt;java.lang.NoSuchMethodError: android.app.Activity.isDestroyed \r\n\r\nIt has something to do with only running on devices which are api 17 or higher, is there anyway around this? \r\n\r\n\r\n\r\n \r\n\r\n           private WeakReference&lt;Activity&gt; mActivityRef;\r\n    \r\n        @Override\r\n            public void onFinish() {\r\n    \r\n                Activity activity = mActivityRef.get();\r\n    //            if(Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.JELLY_BEAN_MR1) {\r\n    //do your thing!\r\n    \r\n                    if (activity != null &amp;&amp; !activity.isFinishing() &amp;&amp; !activity.isDestroyed()) {\r\n                        activity.startActivity(new Intent(activity, ListOfAlarms.class));\r\n                        activity.finish();\r\n                    }\r\n                    mStarted = false;\r\n    \r\n    //            }\r\n    //            Intent goBack = new Intent(CountDownAct.this, ListOfAlarms.class);\r\n    //            startActivity(goBack);\r\n    //            finish();\r\n            }\r\n\r\n","title":"Java error api level method","body":"<p>I get an error </p>\n\n<blockquote>\n  <p>java.lang.NoSuchMethodError: android.app.Activity.isDestroyed </p>\n</blockquote>\n\n<p>It has something to do with only running on devices which are api 17 or higher, is there anyway around this? </p>\n\n<pre><code>       private WeakReference&lt;Activity&gt; mActivityRef;\n\n    @Override\n        public void onFinish() {\n\n            Activity activity = mActivityRef.get();\n//            if(Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.JELLY_BEAN_MR1) {\n//do your thing!\n\n                if (activity != null &amp;&amp; !activity.isFinishing() &amp;&amp; !activity.isDestroyed()) {\n                    activity.startActivity(new Intent(activity, ListOfAlarms.class));\n                    activity.finish();\n                }\n                mStarted = false;\n\n//            }\n//            Intent goBack = new Intent(CountDownAct.this, ListOfAlarms.class);\n//            startActivity(goBack);\n//            finish();\n        }\n</code></pre>\n"},{"tags":["java","data-structures","binary-heap"],"comments":[{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":1,"creation_date":1654575494,"post_id":72525811,"comment_id":128117000,"body_markdown":"No, a binary heap is always a tree, no matter how you store it.","body":"No, a binary heap is always a tree, no matter how you store it."},{"owner":{"account_id":18239809,"reputation":23,"user_id":13277058,"display_name":"kay"},"score":0,"creation_date":1654576182,"post_id":72525811,"comment_id":128117100,"body_markdown":"How? I understand that trees are non linear data structures and using array to make a tree would mean using a linear ds to make a non linear ds.","body":"How? I understand that trees are non linear data structures and using array to make a tree would mean using a linear ds to make a non linear ds."},{"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"score":1,"creation_date":1654577423,"post_id":72525811,"comment_id":128117304,"body_markdown":"See here for a helpful explanation: https://www.geeksforgeeks.org/binary-heap/ specifically https://www.geeksforgeeks.org/array-representation-of-binary-heap/ The order/structure is always evident even in an array form as described on the linked site &quot;The traversal method use to achieve Array representation is Level Order&quot;, &quot;`Arr[(i-1)/2]` Returns the parent node&quot;, &quot;`Arr[(2*i)+1]` Returns the left child node&quot;, and &quot;`Arr[(2*i)+2]` Returns the right child node&quot;","body":"See here for a helpful explanation: <a href=\"https://www.geeksforgeeks.org/binary-heap/\" rel=\"nofollow noreferrer\">geeksforgeeks.org/binary-heap</a> specifically <a href=\"https://www.geeksforgeeks.org/array-representation-of-binary-heap/\" rel=\"nofollow noreferrer\">geeksforgeeks.org/array-representation-of-binary-heap</a> The order/structure is always evident even in an array form as described on the linked site &quot;The traversal method use to achieve Array representation is Level Order&quot;, &quot;<code>Arr[(i-1)&#47;2]</code> Returns the parent node&quot;, &quot;<code>Arr[(2*i)+1]</code> Returns the left child node&quot;, and &quot;<code>Arr[(2*i)+2]</code> Returns the right child node&quot;"}],"answers":[{"comments":[{"owner":{"account_id":18239809,"reputation":23,"user_id":13277058,"display_name":"kay"},"score":0,"creation_date":1654576216,"post_id":72525858,"comment_id":128117104,"body_markdown":"How? I understand that trees are non linear data structures and using array to make a tree would mean using a linear ds to make a non linear ds.","body":"How? I understand that trees are non linear data structures and using array to make a tree would mean using a linear ds to make a non linear ds."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1654579135,"post_id":72525858,"comment_id":128117582,"body_markdown":"@kay Certainly. Why not?","body":"@kay Certainly. Why not?"}],"tags":[],"owner":{"account_id":2153785,"reputation":66,"user_id":1909458,"display_name":"Yerzhan Tanatov"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654575543,"creation_date":1654575543,"answer_id":72525858,"question_id":72525811,"body_markdown":"The answer is no, we can represent how we want, but it will be a tree. The point is here, is there no limitations for all properties of binary heap when we represent it as an array. ","title":"why are binary heaps a tree structure?","body":"<p>The answer is no, we can represent how we want, but it will be a tree. The point is here, is there no limitations for all properties of binary heap when we represent it as an array.</p>\n"},{"tags":[],"owner":{"account_id":22848,"reputation":131598,"user_id":56778,"accept_rate":93,"display_name":"Jim Mischel"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1685120572,"creation_date":1673417271,"answer_id":75078924,"question_id":72525811,"body_markdown":"You&#39;re confusing the *model*--the conceptual view of the heap--with the *implementation*.\r\n\r\nA binary heap is a tree that is implemented in an array. That is, we allocate a fixed block of memory and reference it as though it&#39;s a tree. We can do that because the binary heap is a very special type of tree. In concept this is not much different than how we implement a two-dimensional array.\r\n\r\nConsider a two-dimensional array declared as `a[3,4]`. Most languages allocate that as a single block of memory--a linear array--of size 12. But we address it as though it&#39;s a two-dimensional structure. The compiler converts our 2D addressing to one-dimensional array indices (assuming row-major ordering), like this:\r\n\r\n     1 2 3 4 5 6 7 8 9 10 11 12\r\n    | Row 1 | Row 2 |  Row 3\r\n\r\nIn our two-dimensional view it looks like this:\r\n\r\n     1  2  3  4\r\n     5  6  7  8\r\n     9 10 11 12\r\n\r\nSo `a[2,3]` resolves to index 7.\r\n\r\nWhat does that have to to with heaps?\r\n-\r\n\r\nBecause a binary heap is a complete binary tree in which all levels except possibly the last are full, and the last is left-filled (i.e. all empty space is on the right side of the last level), we can overlay a tree structure on the array in much the same way we overlay the two-dimensional array.\r\n\r\nWe know that the first element of the array is the root of the heap. We know that the next two array elements are children of the root. The next four elements are those children&#39;s children, and so on. So in a binary heap with 15 nodes we have:\r\n\r\n - Index 1 - root node\r\n - Indices 2 and 3 - Children of root node\r\n - Indices 4,5,6,7 - Children of root&#39;s children\r\n   (4 and 5 are children of the node at index 2. 6 and 7 are children of the node at index 3).\r\n - Indices 8 through 15 - Children of nodes at indices 4-7.\r\n\r\nThat leads to a view of the array that looks like this:\r\n\r\n    1\r\n    2 3\r\n    4 5 6 7\r\n    8 9 10 11 12 13 14 15\r\n\r\nOr, viewed as a tree:\r\n\r\n                1\r\n          2           3\r\n       4     5     6     7\r\n      8 9  10 11 12 13 14 15\r\n\r\nThe binary heap is still a tree. We&#39;re just using our knowledge of the special nature of a binary heap to implement it more efficiently than we can implement other types of trees.\r\n\r\nYes, we are using a linear data structure to implement a non-linear data structure. But that&#39;s true of *all* the data structures we use. Early processors (think 8086 and before) viewed memory as essentially one big array. Software would essentially split that up into different areas for operating system, program code, processor stack, process heap, etc. And within the process heap (again, one big linear data structure), programs would allocate and deallocate individual blocks to build non-linear data structures. Even today&#39;s systems, with memory virtualization and address translation, things work much the same way: your program allocates large blocks of linear memory and manages them, parceling out small pieces for non-linear data structures.\r\n\r\nAnd then there&#39;s the linked list: a linear data structure that&#39;s implemented in terms of a non-linear data structure. Again, the *model* is a list--a linear data structure. The *implementation* is not linear at all.\r\n\r\nAnd then consider implementing a linked list in an array. Each element of the array contains the node data and an index to the next item in the list. Traversed in order, the list nodes might be at array indices 1,7,5,4,6,2,3. Whether that&#39;s a linear or non-linear data structure depends on how you&#39;re looking at the problem. Or perhaps which part of the implementation you&#39;re looking at. Again, the model of the list is linear. And the implementation is in a linear data structure (the array). But the first node in the list is at the beginning of the array, the second node is at the end, and the nodes in the middle are in essentially random order. It&#39;s not linear at all!\r\n\r\nYou *must* learn to separate the model from the implementation.","title":"why are binary heaps a tree structure?","body":"<p>You're confusing the <em>model</em>--the conceptual view of the heap--with the <em>implementation</em>.</p>\n<p>A binary heap is a tree that is implemented in an array. That is, we allocate a fixed block of memory and reference it as though it's a tree. We can do that because the binary heap is a very special type of tree. In concept this is not much different than how we implement a two-dimensional array.</p>\n<p>Consider a two-dimensional array declared as <code>a[3,4]</code>. Most languages allocate that as a single block of memory--a linear array--of size 12. But we address it as though it's a two-dimensional structure. The compiler converts our 2D addressing to one-dimensional array indices (assuming row-major ordering), like this:</p>\n<pre><code> 1 2 3 4 5 6 7 8 9 10 11 12\n| Row 1 | Row 2 |  Row 3\n</code></pre>\n<p>In our two-dimensional view it looks like this:</p>\n<pre><code> 1  2  3  4\n 5  6  7  8\n 9 10 11 12\n</code></pre>\n<p>So <code>a[2,3]</code> resolves to index 7.</p>\n<h2>What does that have to to with heaps?</h2>\n<p>Because a binary heap is a complete binary tree in which all levels except possibly the last are full, and the last is left-filled (i.e. all empty space is on the right side of the last level), we can overlay a tree structure on the array in much the same way we overlay the two-dimensional array.</p>\n<p>We know that the first element of the array is the root of the heap. We know that the next two array elements are children of the root. The next four elements are those children's children, and so on. So in a binary heap with 15 nodes we have:</p>\n<ul>\n<li>Index 1 - root node</li>\n<li>Indices 2 and 3 - Children of root node</li>\n<li>Indices 4,5,6,7 - Children of root's children\n(4 and 5 are children of the node at index 2. 6 and 7 are children of the node at index 3).</li>\n<li>Indices 8 through 15 - Children of nodes at indices 4-7.</li>\n</ul>\n<p>That leads to a view of the array that looks like this:</p>\n<pre><code>1\n2 3\n4 5 6 7\n8 9 10 11 12 13 14 15\n</code></pre>\n<p>Or, viewed as a tree:</p>\n<pre><code>            1\n      2           3\n   4     5     6     7\n  8 9  10 11 12 13 14 15\n</code></pre>\n<p>The binary heap is still a tree. We're just using our knowledge of the special nature of a binary heap to implement it more efficiently than we can implement other types of trees.</p>\n<p>Yes, we are using a linear data structure to implement a non-linear data structure. But that's true of <em>all</em> the data structures we use. Early processors (think 8086 and before) viewed memory as essentially one big array. Software would essentially split that up into different areas for operating system, program code, processor stack, process heap, etc. And within the process heap (again, one big linear data structure), programs would allocate and deallocate individual blocks to build non-linear data structures. Even today's systems, with memory virtualization and address translation, things work much the same way: your program allocates large blocks of linear memory and manages them, parceling out small pieces for non-linear data structures.</p>\n<p>And then there's the linked list: a linear data structure that's implemented in terms of a non-linear data structure. Again, the <em>model</em> is a list--a linear data structure. The <em>implementation</em> is not linear at all.</p>\n<p>And then consider implementing a linked list in an array. Each element of the array contains the node data and an index to the next item in the list. Traversed in order, the list nodes might be at array indices 1,7,5,4,6,2,3. Whether that's a linear or non-linear data structure depends on how you're looking at the problem. Or perhaps which part of the implementation you're looking at. Again, the model of the list is linear. And the implementation is in a linear data structure (the array). But the first node in the list is at the beginning of the array, the second node is at the end, and the nodes in the middle are in essentially random order. It's not linear at all!</p>\n<p>You <em>must</em> learn to separate the model from the implementation.</p>\n"},{"tags":[],"owner":{"display_name":"user21508463"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685121687,"creation_date":1685121687,"answer_id":76343059,"question_id":72525811,"body_markdown":"The beautiful data structure designed by J. W. J. Williams is in fact an *implicit* tree, in that no explicit links need to be stored to relate the nodes and their descendants, knowing the indexes and doing minimal arithmetic is enough.\r\n\r\nNote that in a similar way, a sorted array can be seen as a binary search tree !","title":"why are binary heaps a tree structure?","body":"<p>The beautiful data structure designed by J. W. J. Williams is in fact an <em>implicit</em> tree, in that no explicit links need to be stored to relate the nodes and their descendants, knowing the indexes and doing minimal arithmetic is enough.</p>\n<p>Note that in a similar way, a sorted array can be seen as a binary search tree !</p>\n"}],"owner":{"account_id":18239809,"reputation":23,"user_id":13277058,"display_name":"kay"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":196,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75078924,"answer_count":3,"score":2,"last_activity_date":1685121687,"creation_date":1654574991,"question_id":72525811,"body_markdown":"Binary Heaps can be represented using array which is a linear data structure, contrast to a tree, which is a non-linear data structure. Does that mean that binary heap represented using an array is no longer a tree? ","title":"why are binary heaps a tree structure?","body":"<p>Binary Heaps can be represented using array which is a linear data structure, contrast to a tree, which is a non-linear data structure. Does that mean that binary heap represented using an array is no longer a tree?</p>\n"},{"tags":["java","mongodb","spring-boot","mongodb-atlas"],"answers":[{"comments":[{"owner":{"account_id":223687,"reputation":1150,"user_id":483067,"accept_rate":71,"display_name":"Ilja S."},"score":0,"creation_date":1685097662,"post_id":76339873,"comment_id":134617319,"body_markdown":"instead of Environment you could also inject properties directly, just in my case i couldn&#39;t","body":"instead of Environment you could also inject properties directly, just in my case i couldn&#39;t"},{"owner":{"account_id":19808680,"reputation":63,"user_id":14508072,"display_name":"sandeep-prabhakula"},"score":0,"creation_date":1685100256,"post_id":76339873,"comment_id":134617795,"body_markdown":"Thankyou sir it&#39;s working.\n\nWhat is the reason it is not working before.","body":"Thankyou sir it&#39;s working.  What is the reason it is not working before."},{"owner":{"account_id":223687,"reputation":1150,"user_id":483067,"accept_rate":71,"display_name":"Ilja S."},"score":1,"creation_date":1685106295,"post_id":76339873,"comment_id":134619095,"body_markdown":"It looks like its Atlas specific, seen same posts on their forum","body":"It looks like its Atlas specific, seen same posts on their forum"}],"tags":[],"owner":{"account_id":223687,"reputation":1150,"user_id":483067,"accept_rate":71,"display_name":"Ilja S."},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1685096349,"creation_date":1685096349,"answer_id":76339873,"question_id":76338530,"body_markdown":"I had the same issue. Add this for workaround:\r\n\r\n    @Configuration\r\n    public class MongoConfig extends AbstractMongoClientConfiguration {\r\n\r\n    @Autowired\r\n    Environment env;\r\n\r\n    @Override\r\n    protected String getDatabaseName() {\r\n        return env.getProperty(&quot;spring.data.mongodb.database&quot;, &quot;test&quot;);\r\n    }\r\n \r\n    @Override\r\n    public MongoClient mongoClient() {\r\n        String uri = env.getProperty(&quot;spring.data.mongodb.uri&quot;, &quot;mongodb://localhost/test&quot;);\r\n        ConnectionString connectionString = new ConnectionString(uri);\r\n        MongoClientSettings mongoClientSettings = MongoClientSettings.builder()\r\n            .applyConnectionString(connectionString)\r\n            .build();\r\n        \r\n        return MongoClients.create(mongoClientSettings);\r\n    }\r\n\r\n}","title":"Throwing an error when Spring boot application tries to connect with mongodb atlas cluster","body":"<p>I had the same issue. Add this for workaround:</p>\n<pre><code>@Configuration\npublic class MongoConfig extends AbstractMongoClientConfiguration {\n\n@Autowired\nEnvironment env;\n\n@Override\nprotected String getDatabaseName() {\n    return env.getProperty(&quot;spring.data.mongodb.database&quot;, &quot;test&quot;);\n}\n\n@Override\npublic MongoClient mongoClient() {\n    String uri = env.getProperty(&quot;spring.data.mongodb.uri&quot;, &quot;mongodb://localhost/test&quot;);\n    ConnectionString connectionString = new ConnectionString(uri);\n    MongoClientSettings mongoClientSettings = MongoClientSettings.builder()\n        .applyConnectionString(connectionString)\n        .build();\n    \n    return MongoClients.create(mongoClientSettings);\n}\n</code></pre>\n<p>}</p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1685129042,"post_id":76343051,"comment_id":134623557,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/76343051/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":28687400,"reputation":26,"user_id":21967408,"display_name":"John Jones"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1685121607,"creation_date":1685121607,"answer_id":76343051,"question_id":76338530,"body_markdown":"Had the same problem too, you can also do this for a workaround:\r\n\r\nReplace\r\n```\r\nspring.data.mongodb.uri=mongodb+srv://sandeepsandyo9o7o1:my_password@cluster0.fjfmmcp.mongodb.net/?retryWrites=true&amp;w=majority\r\n    \r\nspring.data.mongodb.database=blog\r\n```\r\n\r\nwith\r\n```\r\nspring.data.mongodb.uri=mongodb+srv://sandeepsandyo9o7o1:my_password@cluster0.fjfmmcp.mongodb.net/blog?retryWrites=true&amp;w=majority\r\n```\r\n\r\n(put the database name before the question mark in the uri, in the application.properties)","title":"Throwing an error when Spring boot application tries to connect with mongodb atlas cluster","body":"<p>Had the same problem too, you can also do this for a workaround:</p>\n<p>Replace</p>\n<pre><code>spring.data.mongodb.uri=mongodb+srv://sandeepsandyo9o7o1:my_password@cluster0.fjfmmcp.mongodb.net/?retryWrites=true&amp;w=majority\n    \nspring.data.mongodb.database=blog\n</code></pre>\n<p>with</p>\n<pre><code>spring.data.mongodb.uri=mongodb+srv://sandeepsandyo9o7o1:my_password@cluster0.fjfmmcp.mongodb.net/blog?retryWrites=true&amp;w=majority\n</code></pre>\n<p>(put the database name before the question mark in the uri, in the application.properties)</p>\n"}],"owner":{"account_id":19808680,"reputation":63,"user_id":14508072,"display_name":"sandeep-prabhakula"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":453,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76343051,"answer_count":2,"score":0,"last_activity_date":1685121607,"creation_date":1685085888,"question_id":76338530,"body_markdown":"Spring boot application throwing exception while connecting to mongodb atlas\r\n\r\nI&#39;m trying to connect spring boot application with a mongodb cluster and I&#39;m facing the following issue while starting the spring boot application.\r\n\r\n```\r\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;mongoDatabaseFactory&#39; defined in class path resource [org/springframework/boot/autoconfigure/data/mongo/MongoDatabaseFactoryConfiguration.class]: Failed to instantiate [org.springframework.data.mongodb.core.MongoDatabaseFactorySupport]: Factory method &#39;mongoDatabaseFactory&#39; threw exception with message: Database name must not be empty\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:659) ~[spring-beans-6.0.9.jar:6.0.9]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:647) ~[spring-beans-6.0.9.jar:6.0.9]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1332) ~[spring-beans-6.0.9.jar:6.0.9]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1162) ~[spring-beans-6.0.9.jar:6.0.9]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560) ~[spring-beans-6.0.9.jar:6.0.9]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.9.jar:6.0.9]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.9.jar:6.0.9]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.9.jar:6.0.9]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.9.jar:6.0.9]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.9.jar:6.0.9]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:973) ~[spring-beans-6.0.9.jar:6.0.9]\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:941) ~[spring-context-6.0.9.jar:6.0.9]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608) ~[spring-context-6.0.9.jar:6.0.9]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.1.0.jar:3.1.0]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:733) ~[spring-boot-3.1.0.jar:3.1.0]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:435) ~[spring-boot-3.1.0.jar:3.1.0]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:311) ~[spring-boot-3.1.0.jar:3.1.0]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1305) ~[spring-boot-3.1.0.jar:3.1.0]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1294) ~[spring-boot-3.1.0.jar:3.1.0]\r\n\tat com.sandeepprabhakula.blog.BlogApplication.main(BlogApplication.java:10) ~[classes/:na]\r\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.data.mongodb.core.MongoDatabaseFactorySupport]: Factory method &#39;mongoDatabaseFactory&#39; threw exception with message: Database name must not be empty\r\n\tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:171) ~[spring-beans-6.0.9.jar:6.0.9]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:655) ~[spring-beans-6.0.9.jar:6.0.9]\r\n\t... 19 common frames omitted\r\nCaused by: java.lang.IllegalArgumentException: Database name must not be empty\r\n\tat org.springframework.util.Assert.hasText(Assert.java:294) ~[spring-core-6.0.9.jar:6.0.9]\r\n\tat org.springframework.data.mongodb.core.MongoDatabaseFactorySupport.&lt;init&gt;(MongoDatabaseFactorySupport.java:68) ~[spring-data-mongodb-4.1.0.jar:4.1.0]\r\n\tat org.springframework.data.mongodb.core.SimpleMongoClientDatabaseFactory.&lt;init&gt;(SimpleMongoClientDatabaseFactory.java:75) ~[spring-data-mongodb-4.1.0.jar:4.1.0]\r\n\tat org.springframework.data.mongodb.core.SimpleMongoClientDatabaseFactory.&lt;init&gt;(SimpleMongoClientDatabaseFactory.java:64) ~[spring-data-mongodb-4.1.0.jar:4.1.0]\r\n\tat org.springframework.boot.autoconfigure.data.mongo.MongoDatabaseFactoryConfiguration.mongoDatabaseFactory(MongoDatabaseFactoryConfiguration.java:47) ~[spring-boot-autoconfigure-3.1.0.jar:3.1.0]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n\tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:139) ~[spring-beans-6.0.9.jar:6.0.9]\r\n\t... 20 common frames omitted\r\n\r\n\r\nProcess finished with exit code 1\r\n\r\n```\r\n\r\n\r\nthis is the application .properties file\r\n\r\n\r\n```\r\nspring.data.mongodb.uri=mongodb+srv://sandeepsandyo9o7o1:my_password@cluster0.fjfmmcp.mongodb.net/?retryWrites=true&amp;w=majority\r\n    \r\nspring.data.mongodb.database=blog\r\n```","title":"Throwing an error when Spring boot application tries to connect with mongodb atlas cluster","body":"<p>Spring boot application throwing exception while connecting to mongodb atlas</p>\n<p>I'm trying to connect spring boot application with a mongodb cluster and I'm facing the following issue while starting the spring boot application.</p>\n<pre><code>org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'mongoDatabaseFactory' defined in class path resource [org/springframework/boot/autoconfigure/data/mongo/MongoDatabaseFactoryConfiguration.class]: Failed to instantiate [org.springframework.data.mongodb.core.MongoDatabaseFactorySupport]: Factory method 'mongoDatabaseFactory' threw exception with message: Database name must not be empty\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:659) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:647) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1332) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1162) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:973) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:941) ~[spring-context-6.0.9.jar:6.0.9]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608) ~[spring-context-6.0.9.jar:6.0.9]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.1.0.jar:3.1.0]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:733) ~[spring-boot-3.1.0.jar:3.1.0]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:435) ~[spring-boot-3.1.0.jar:3.1.0]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:311) ~[spring-boot-3.1.0.jar:3.1.0]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1305) ~[spring-boot-3.1.0.jar:3.1.0]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1294) ~[spring-boot-3.1.0.jar:3.1.0]\n    at com.sandeepprabhakula.blog.BlogApplication.main(BlogApplication.java:10) ~[classes/:na]\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.data.mongodb.core.MongoDatabaseFactorySupport]: Factory method 'mongoDatabaseFactory' threw exception with message: Database name must not be empty\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:171) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:655) ~[spring-beans-6.0.9.jar:6.0.9]\n    ... 19 common frames omitted\nCaused by: java.lang.IllegalArgumentException: Database name must not be empty\n    at org.springframework.util.Assert.hasText(Assert.java:294) ~[spring-core-6.0.9.jar:6.0.9]\n    at org.springframework.data.mongodb.core.MongoDatabaseFactorySupport.&lt;init&gt;(MongoDatabaseFactorySupport.java:68) ~[spring-data-mongodb-4.1.0.jar:4.1.0]\n    at org.springframework.data.mongodb.core.SimpleMongoClientDatabaseFactory.&lt;init&gt;(SimpleMongoClientDatabaseFactory.java:75) ~[spring-data-mongodb-4.1.0.jar:4.1.0]\n    at org.springframework.data.mongodb.core.SimpleMongoClientDatabaseFactory.&lt;init&gt;(SimpleMongoClientDatabaseFactory.java:64) ~[spring-data-mongodb-4.1.0.jar:4.1.0]\n    at org.springframework.boot.autoconfigure.data.mongo.MongoDatabaseFactoryConfiguration.mongoDatabaseFactory(MongoDatabaseFactoryConfiguration.java:47) ~[spring-boot-autoconfigure-3.1.0.jar:3.1.0]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:139) ~[spring-beans-6.0.9.jar:6.0.9]\n    ... 20 common frames omitted\n\n\nProcess finished with exit code 1\n\n</code></pre>\n<p>this is the application .properties file</p>\n<pre><code>spring.data.mongodb.uri=mongodb+srv://sandeepsandyo9o7o1:my_password@cluster0.fjfmmcp.mongodb.net/?retryWrites=true&amp;w=majority\n    \nspring.data.mongodb.database=blog\n</code></pre>\n"},{"tags":["java","visual-studio-code"],"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":2,"creation_date":1685119617,"post_id":76342760,"comment_id":134622005,"body_markdown":"You&#39;re not using Visual Studio (a full-fledged IDE for C, C++ and C#), you&#39;re using Visual Studio Code. In any case, in general you need to add the root directory containing the .class file to the classpath, and make sure that the .class itself is in the right nested directories matching its class names.","body":"You&#39;re not using Visual Studio (a full-fledged IDE for C, C++ and C#), you&#39;re using Visual Studio Code. In any case, in general you need to add the root directory containing the .class file to the classpath, and make sure that the .class itself is in the right nested directories matching its class names."},{"owner":{"account_id":223215,"reputation":2062,"user_id":482270,"display_name":"akseli"},"score":2,"creation_date":1685119645,"post_id":76342760,"comment_id":134622008,"body_markdown":"Honestly, Visual Studio isn&#39;t the best tool for Java development -- it&#39;s really geared towards .NET development. I would suggest using IntelliJ IDEA if you want something truly made for Java development with the corresponding tooling integrated.","body":"Honestly, Visual Studio isn&#39;t the best tool for Java development -- it&#39;s really geared towards .NET development. I would suggest using IntelliJ IDEA if you want something truly made for Java development with the corresponding tooling integrated."},{"owner":{"account_id":18286382,"reputation":23,"user_id":13335545,"display_name":"William94"},"score":0,"creation_date":1685119836,"post_id":76342760,"comment_id":134622038,"body_markdown":"@MarkRotteveel I have done it and it keeps the same...","body":"@MarkRotteveel I have done it and it keeps the same..."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":2,"creation_date":1685119859,"post_id":76342760,"comment_id":134622044,"body_markdown":"*I&#39;m trying to use other &quot;more-professional&quot; tool in order to learn more about java development.* That&#39;s a laudable aim, but actually you&#39;d learn more if you dropped all IDEs. You can go back to them later","body":"<i>I&#39;m trying to use other &quot;more-professional&quot; tool in order to learn more about java development.</i> That&#39;s a laudable aim, but actually you&#39;d learn more if you dropped all IDEs. You can go back to them later"},{"owner":{"account_id":1556478,"reputation":762,"user_id":1447419,"display_name":"a2k42"},"score":1,"creation_date":1685120135,"post_id":76342760,"comment_id":134622093,"body_markdown":"Surprised they still teach Java, universities do lag behind the tech world. Could never understand why BlueJ was used when getting used to an IDE seemed to be a significant part of the workload with Java. I use VS Code for web dev but Netbeans, Eclipse, and IntelliJ are by far the most common IDEs used for Java, and I agree with @akseli that the latter is my preferred option. No IDE; then Ant, Maven or Gradle are the build tools to look at, but they have their own learning curve. CLI tooling gets messy quickly irl but I agree with g00se re learning.","body":"Surprised they still teach Java, universities do lag behind the tech world. Could never understand why BlueJ was used when getting used to an IDE seemed to be a significant part of the workload with Java. I use VS Code for web dev but Netbeans, Eclipse, and IntelliJ are by far the most common IDEs used for Java, and I agree with @akseli that the latter is my preferred option. No IDE; then Ant, Maven or Gradle are the build tools to look at, but they have their own learning curve. CLI tooling gets messy quickly irl but I agree with g00se re learning."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1685120351,"post_id":76342760,"comment_id":134622127,"body_markdown":"Also, make sure you know what package the class occupies. That can be determined by `javap &lt;full path to the class file&gt;` at the command line, which will print the fully-qualified class name","body":"Also, make sure you know what package the class occupies. That can be determined by <code>javap &lt;full path to the class file&gt;</code> at the command line, which will print the fully-qualified class name"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1685121524,"post_id":76342760,"comment_id":134622293,"body_markdown":"*by given information, the Polygon.class must be in folder called parct5* You mean `pract5`. But how do you know that is the correct package for an already-compiled class? One way to know your assertion is correct would be if the compiler *did not* complain. But it does","body":"<i>by given information, the Polygon.class must be in folder called parct5</i> You mean <code>pract5</code>. But how do you know that is the correct package for an already-compiled class? One way to know your assertion is correct would be if the compiler <i>did not</i> complain. But it does"},{"owner":{"account_id":483434,"reputation":25487,"user_id":898478,"accept_rate":86,"display_name":"m0skit0"},"score":1,"creation_date":1685122611,"post_id":76342760,"comment_id":134622480,"body_markdown":"A .class is a compiled Java class, you don&#39;t need its source code to use it, the IDE used doesn&#39;t matter (they all use javac compiler below the hood). The only problem I see here is that you don&#39;t have the file in your classpath or the package directory is incorrect as already mentioned in previous comments. Can you show us where exactly you drop the .class in BlueJ for it to work?","body":"A .class is a compiled Java class, you don&#39;t need its source code to use it, the IDE used doesn&#39;t matter (they all use javac compiler below the hood). The only problem I see here is that you don&#39;t have the file in your classpath or the package directory is incorrect as already mentioned in previous comments. Can you show us where exactly you drop the .class in BlueJ for it to work?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1685123210,"post_id":76342760,"comment_id":134622584,"body_markdown":"*you must refresh your browser* The name of the package is a triviality. It&#39;s my main point that&#39;s the important one","body":"<i>you must refresh your browser</i> The name of the package is a triviality. It&#39;s my main point that&#39;s the important one"},{"owner":{"account_id":18286382,"reputation":23,"user_id":13335545,"display_name":"William94"},"score":0,"creation_date":1685123499,"post_id":76342760,"comment_id":134622628,"body_markdown":"@m0skit0 It&#39;s all on the same directory, as same as I did in BlueJ","body":"@m0skit0 It&#39;s all on the same directory, as same as I did in BlueJ"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1685128705,"post_id":76342760,"comment_id":134623493,"body_markdown":"@a2k42 BlueJ is useful because getting started in Java with a &quot;Hello World&quot; app requires numerous cognitive leaps over various concepts, all without purposeful use at that point in the learning curve. [BlueJ](https://en.wikipedia.org/wiki/BlueJ), [JShell](https://en.wikipedia.org/wiki/JShell), and [JEP 445, Unnamed Classes and Instance Main Methods (Preview)](https://www.infoq.com/news/2023/05/beginner-friendly-java/) are all ways to ease that burden, to make learning Java easier.","body":"@a2k42 BlueJ is useful because getting started in Java with a &quot;Hello World&quot; app requires numerous cognitive leaps over various concepts, all without purposeful use at that point in the learning curve. <a href=\"https://en.wikipedia.org/wiki/BlueJ\" rel=\"nofollow noreferrer\">BlueJ</a>, <a href=\"https://en.wikipedia.org/wiki/JShell\" rel=\"nofollow noreferrer\">JShell</a>, and <a href=\"https://www.infoq.com/news/2023/05/beginner-friendly-java/\" rel=\"nofollow noreferrer\">JEP 445, Unnamed Classes and Instance Main Methods (Preview)</a> are all ways to ease that burden, to make learning Java easier."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1685129296,"post_id":76342760,"comment_id":134623598,"body_markdown":"I don&#39;t use Visual Studio Code, but [this page of doc](https://code.visualstudio.com/docs/java/java-project) seems to talk about adding libraries to a Java project.","body":"I don&#39;t use Visual Studio Code, but <a href=\"https://code.visualstudio.com/docs/java/java-project\" rel=\"nofollow noreferrer\">this page of doc</a> seems to talk about adding libraries to a Java project."},{"owner":{"account_id":483434,"reputation":25487,"user_id":898478,"accept_rate":86,"display_name":"m0skit0"},"score":0,"creation_date":1685136558,"post_id":76342760,"comment_id":134624600,"body_markdown":"Did you test this one on BlueJ or you&#39;re referring to previous assignments you did?","body":"Did you test this one on BlueJ or you&#39;re referring to previous assignments you did?"},{"owner":{"account_id":18286382,"reputation":23,"user_id":13335545,"display_name":"William94"},"score":0,"creation_date":1685143237,"post_id":76342760,"comment_id":134625275,"body_markdown":"@m0skit0 yes, I tested on BlueJ the same .class files and it works","body":"@m0skit0 yes, I tested on BlueJ the same .class files and it works"},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":1,"creation_date":1685146856,"post_id":76342760,"comment_id":134625602,"body_markdown":"This is possible, but IDEs are generally not set up to allow this by default. In professional development, individual compiled class files are _not_ commonly used. Dependencies are distributed in JARs, and are usually managed using a build tool such as Maven or Gradle. My sincere advice is to follow the process and use the tools recommended by your instructor. Solving this problem in another IDE won’t teach you much about professional workflows and could distract from learning core programming concepts.","body":"This is possible, but IDEs are generally not set up to allow this by default. In professional development, individual compiled class files are <i>not</i> commonly used. Dependencies are distributed in JARs, and are usually managed using a build tool such as Maven or Gradle. My sincere advice is to follow the process and use the tools recommended by your instructor. Solving this problem in another IDE won’t teach you much about professional workflows and could distract from learning core programming concepts."}],"owner":{"account_id":18286382,"reputation":23,"user_id":13335545,"display_name":"William94"},"comment_count":15,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":105,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685121350,"creation_date":1685118854,"question_id":76342760,"body_markdown":"Let me give you some context. In my university, they use the BlueJ IDE for java learning purpose. I&#39;m trying to use other &quot;more-professional&quot; tool in order to learn more about java development. \r\n\r\nIn BlueJ, if you drop a java .class file (without its respective .java file) in a package, BlueJ lets you use that class and reference it from another classes. When I try to do the same in Visual Studio it give me the error: `Polygon cannot be resolved to a typeJava(16777218)`. In addition, the classpath options (the referenced libraries option) doesn&#39;t let me include a .class file, only .jar (I have created a .jar from the .class file and didn&#39;t work tho).\r\n\r\nBlueJ show these .class like this:\r\n\r\n[![bluej project schema][1]][1]\r\n\r\n\r\nThis is the directory hierarchy:\r\n \r\n[![project directory][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/wbrgI.png\r\n  [2]: https://i.stack.imgur.com/L8apy.png\r\n\r\n\r\nAnd for the last, one of the .java files that gives the error How can I use these classes without the source file? Just Like in BlueJ. If it is not possible, could I do it in IntelliJ? Because I&#39;m trying and still cannot do it.\r\n```\r\npackage pract5;\r\n\r\n/**\r\n * Clase NodePol: representacion de una estructura que asocia \r\n * un dato (de tipo Polygon) y el enlace al dato siguiente.\r\n * Se usa para implementar secuencias enlazadas de poligonos.\r\n *\r\n * @author PRG - Practica 5\r\n * @version Curso 2022/23\r\n */\r\npublic class NodePol {\r\n    // COMPLETAR DECLARACION ATRIBUTOS\r\n    \r\n    Polygon data;\r\n    NodePol next;\r\n    /**\r\n     * Crea un NodePol con dato p y que no tiene siguiente.\r\n     * @param p Polygon, dato del nuevo nodo.\r\n     */\r\n    public NodePol(Polygon p) {\r\n        data = p; \r\n        // o de manera equivalente: this(p, null); \r\n    }\r\n    \r\n    /**\r\n     * Crea un NodePol con dato p, enlazado a un nodo preexistente n. \r\n     * @param p Polygon, dato del nuevo nodo.\r\n     * @param n NodePol, nodo siguiente al que enlazar el nuevo nodo.\r\n     */\r\n    public NodePol(Polygon p, NodePol n) {\r\n        data = p;\r\n        next = n;    \r\n    }\r\n    public static void main(String[] args) {\r\n        System.out.println(&quot;hello&quot;);\r\n    }\r\n}\r\n\r\n","title":"Problems using a class without source code in Java","body":"<p>Let me give you some context. In my university, they use the BlueJ IDE for java learning purpose. I'm trying to use other &quot;more-professional&quot; tool in order to learn more about java development.</p>\n<p>In BlueJ, if you drop a java .class file (without its respective .java file) in a package, BlueJ lets you use that class and reference it from another classes. When I try to do the same in Visual Studio it give me the error: <code>Polygon cannot be resolved to a typeJava(16777218)</code>. In addition, the classpath options (the referenced libraries option) doesn't let me include a .class file, only .jar (I have created a .jar from the .class file and didn't work tho).</p>\n<p>BlueJ show these .class like this:</p>\n<p><a href=\"https://i.stack.imgur.com/wbrgI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wbrgI.png\" alt=\"bluej project schema\" /></a></p>\n<p>This is the directory hierarchy:</p>\n<p><a href=\"https://i.stack.imgur.com/L8apy.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/L8apy.png\" alt=\"project directory\" /></a></p>\n<p>And for the last, one of the .java files that gives the error How can I use these classes without the source file? Just Like in BlueJ. If it is not possible, could I do it in IntelliJ? Because I'm trying and still cannot do it.</p>\n<pre><code>package pract5;\n\n/**\n * Clase NodePol: representacion de una estructura que asocia \n * un dato (de tipo Polygon) y el enlace al dato siguiente.\n * Se usa para implementar secuencias enlazadas de poligonos.\n *\n * @author PRG - Practica 5\n * @version Curso 2022/23\n */\npublic class NodePol {\n    // COMPLETAR DECLARACION ATRIBUTOS\n    \n    Polygon data;\n    NodePol next;\n    /**\n     * Crea un NodePol con dato p y que no tiene siguiente.\n     * @param p Polygon, dato del nuevo nodo.\n     */\n    public NodePol(Polygon p) {\n        data = p; \n        // o de manera equivalente: this(p, null); \n    }\n    \n    /**\n     * Crea un NodePol con dato p, enlazado a un nodo preexistente n. \n     * @param p Polygon, dato del nuevo nodo.\n     * @param n NodePol, nodo siguiente al que enlazar el nuevo nodo.\n     */\n    public NodePol(Polygon p, NodePol n) {\n        data = p;\n        next = n;    \n    }\n    public static void main(String[] args) {\n        System.out.println(&quot;hello&quot;);\n    }\n}\n\n</code></pre>\n"},{"tags":["java","hibernate-validator"],"answers":[{"comments":[{"owner":{"account_id":5692931,"reputation":1084,"user_id":4500387,"display_name":"yngwietiger"},"score":0,"creation_date":1521209605,"post_id":19541042,"comment_id":85646830,"body_markdown":"Very nice. And so simple!","body":"Very nice. And so simple!"},{"owner":{"account_id":12917853,"reputation":997,"user_id":9341434,"display_name":"Brooklyn99"},"score":1,"creation_date":1609869841,"post_id":19541042,"comment_id":115954858,"body_markdown":"How can I throw a message here to the user?","body":"How can I throw a message here to the user?"},{"owner":{"account_id":16979652,"reputation":185,"user_id":12281984,"display_name":"Vasilije Bursac"},"score":1,"creation_date":1619405238,"post_id":19541042,"comment_id":118886513,"body_markdown":"@Brooklyn99 Just add the &quot;message&quot; parameter inside parentheses, like this: `@Pattern(regexp=&quot;[\\\\d]{6}&quot;, message=&quot;This field should contain six digits!&quot;)`","body":"@Brooklyn99 Just add the &quot;message&quot; parameter inside parentheses, like this: <code>@Pattern(regexp=&quot;[\\\\d]{6}&quot;, message=&quot;This field should contain six digits!&quot;)</code>"},{"owner":{"account_id":14914531,"reputation":890,"user_id":10768792,"display_name":"ZootHii"},"score":0,"creation_date":1636198707,"post_id":19541042,"comment_id":123495566,"body_markdown":"How can I do only 7 digits or 10 digits","body":"How can I do only 7 digits or 10 digits"}],"tags":[],"owner":{"account_id":40043,"reputation":18749,"user_id":115835,"display_name":"Hardy"},"comment_count":4,"down_vote_count":0,"up_vote_count":52,"is_accepted":true,"score":52,"last_activity_date":1382529487,"creation_date":1382529487,"answer_id":19541042,"question_id":19537664,"body_markdown":"You could replace all your constraints with a single `@Pattern(regexp=&quot;[\\\\d]{6}&quot;)`. This would imply a string of length six where each character is a digit. ","title":"How to validate number string as digit with hibernate?","body":"<p>You could replace all your constraints with a single <code>@Pattern(regexp=\"[\\\\d]{6}\")</code>. This would imply a string of length six where each character is a digit. </p>\n"},{"comments":[{"owner":{"account_id":1119690,"reputation":15787,"user_id":1108305,"accept_rate":47,"display_name":"M. Justin"},"score":0,"creation_date":1685121067,"post_id":36910118,"comment_id":134622222,"body_markdown":"Useful example of how to do this using a custom validator.  The regex would need to be refined for this specific example to require only digits (negative numbers, decimal places, and commas should be excluded by the regex).","body":"Useful example of how to do this using a custom validator.  The regex would need to be refined for this specific example to require only digits (negative numbers, decimal places, and commas should be excluded by the regex)."}],"tags":[],"owner":{"account_id":1139113,"reputation":18996,"user_id":1123501,"accept_rate":89,"display_name":"Georgios Syngouroglou"},"comment_count":1,"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1461834582,"creation_date":1461834582,"answer_id":36910118,"question_id":19537664,"body_markdown":"You can also create your own hibernate validation annotation.  \r\nIn the example below I created a validation annotation with name `EnsureNumber`. Fields with this annotation will validate with the `isValid` method of the `EnsureNumberValidator` class.\r\n  \r\n    @Constraint(validatedBy = EnsureNumberValidator.class)\r\n    @Target({ ElementType.FIELD })\r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    public @interface EnsureNumber {\r\n\r\n        String message() default &quot;{PasswordMatch}&quot;;\r\n\r\n        Class&lt;?&gt;[] groups() default {};\r\n\r\n        Class&lt;? extends Payload&gt;[] payload() default {};\r\n\r\n        boolean decimal() default false;\r\n\r\n    }\r\n  \r\n    public class EnsureNumberValidator implements ConstraintValidator&lt;EnsureNumber, Object&gt; {\r\n        private EnsureNumber ensureNumber;\r\n\r\n        @Override\r\n        public void initialize(EnsureNumber constraintAnnotation) {\r\n            this.ensureNumber = constraintAnnotation;\r\n        }\r\n\r\n        @Override\r\n        public boolean isValid(Object value, ConstraintValidatorContext context) {\r\n            // Check the state of the Adminstrator.\r\n            if (value == null) {\r\n                return false;\r\n            }\r\n\r\n            // Initialize it.\r\n            String regex = ensureNumber.decimal() ? &quot;-?[0-9][0-9\\\\.\\\\,]*&quot; : &quot;-?[0-9]+&quot;;\r\n            String data = String.valueOf(value);\r\n            return data.matches(regex);\r\n        }\r\n\r\n    }\r\n  \r\nYou can use it like this,\r\n  \r\n    @NotEmpty\r\n    @Size(min = 6, max = 6)\r\n    @EnsureNumber\r\n    private String number1;\r\n    \r\n    @NotEmpty\r\n    @Size(min = 6, max = 6)\r\n    @EnsureNumber(message = &quot;Field number2 is not valid.&quot;)\r\n    private String number2;\r\n    \r\n    @NotEmpty\r\n    @Size(min = 6, max = 6)\r\n    @EnsureNumber(decimal = true, message = &quot;Field number is not valid.&quot;)\r\n    private String number3;","title":"How to validate number string as digit with hibernate?","body":"<p>You can also create your own hibernate validation annotation.<br>\nIn the example below I created a validation annotation with name <code>EnsureNumber</code>. Fields with this annotation will validate with the <code>isValid</code> method of the <code>EnsureNumberValidator</code> class.</p>\n\n<pre><code>@Constraint(validatedBy = EnsureNumberValidator.class)\n@Target({ ElementType.FIELD })\n@Retention(RetentionPolicy.RUNTIME)\npublic @interface EnsureNumber {\n\n    String message() default \"{PasswordMatch}\";\n\n    Class&lt;?&gt;[] groups() default {};\n\n    Class&lt;? extends Payload&gt;[] payload() default {};\n\n    boolean decimal() default false;\n\n}\n\npublic class EnsureNumberValidator implements ConstraintValidator&lt;EnsureNumber, Object&gt; {\n    private EnsureNumber ensureNumber;\n\n    @Override\n    public void initialize(EnsureNumber constraintAnnotation) {\n        this.ensureNumber = constraintAnnotation;\n    }\n\n    @Override\n    public boolean isValid(Object value, ConstraintValidatorContext context) {\n        // Check the state of the Adminstrator.\n        if (value == null) {\n            return false;\n        }\n\n        // Initialize it.\n        String regex = ensureNumber.decimal() ? \"-?[0-9][0-9\\\\.\\\\,]*\" : \"-?[0-9]+\";\n        String data = String.valueOf(value);\n        return data.matches(regex);\n    }\n\n}\n</code></pre>\n\n<p>You can use it like this,</p>\n\n<pre><code>@NotEmpty\n@Size(min = 6, max = 6)\n@EnsureNumber\nprivate String number1;\n\n@NotEmpty\n@Size(min = 6, max = 6)\n@EnsureNumber(message = \"Field number2 is not valid.\")\nprivate String number2;\n\n@NotEmpty\n@Size(min = 6, max = 6)\n@EnsureNumber(decimal = true, message = \"Field number is not valid.\")\nprivate String number3;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1119690,"reputation":15787,"user_id":1108305,"accept_rate":47,"display_name":"M. Justin"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1685121157,"creation_date":1642017562,"answer_id":70687691,"question_id":19537664,"body_markdown":"The `@Digits` annotation you reference enforces that a string has at most a given number of integral digits, and that its decimal form has at most a given number of decimal places.\r\n\r\nThe annotation cannot be used to enforce a minimum number of digits.  Additionally, since its validation [is implemented using](https://github.com/hibernate/hibernate-validator/blob/7.0.5.Final/engine/src/main/java/org/hibernate/validator/internal/constraintvalidators/bv/DigitsValidatorForCharSequence.java#L60) the [`new BigDecimal(String)`](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/math/BigDecimal.html#%3Cinit%3E(java.lang.String)) constructor, `@Digits` allows scientific notation representations such as &quot;9.9E3&quot;.\r\n\r\n`@Digits` therefore cannot be used to enforce your requirement that the value &quot;should always have […] only digits, only positive number&quot;.\r\n\r\nYour specific `@Digits(fraction = 0, integer = 6)` example allows integer values between -999999 and 999999, disallowing numbers with values after the decimal place (including zeros, such as &quot;10.00&quot;).  It allows values written in scientific notation so long as their decimal form do not have any digits, which means it  allows numbers such as &quot;2E3&quot; and &quot;9.99999E5&quot;.\r\n\r\nThe [`@Digits` Javadocs](https://jakarta.ee/specifications/platform/9/apidocs/jakarta/validation/constraints/digits):\r\n\r\n&gt; The annotated element must be a number within accepted range.\r\n&gt; \r\n&gt; Supported types are:\r\n&gt; \r\n&gt; *   `BigDecimal`\r\n&gt; *   `BigInteger`\r\n&gt; *   `CharSequence`\r\n&gt; *   `byte`, `short`, `int`, `long`, and their respective wrapper types\r\n&gt; \r\n&gt; `null` elements are considered valid.","title":"How to validate number string as digit with hibernate?","body":"<p>The <code>@Digits</code> annotation you reference enforces that a string has at most a given number of integral digits, and that its decimal form has at most a given number of decimal places.</p>\n<p>The annotation cannot be used to enforce a minimum number of digits.  Additionally, since its validation <a href=\"https://github.com/hibernate/hibernate-validator/blob/7.0.5.Final/engine/src/main/java/org/hibernate/validator/internal/constraintvalidators/bv/DigitsValidatorForCharSequence.java#L60\" rel=\"nofollow noreferrer\">is implemented using</a> the <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/math/BigDecimal.html#%3Cinit%3E(java.lang.String)\" rel=\"nofollow noreferrer\"><code>new BigDecimal(String)</code></a> constructor, <code>@Digits</code> allows scientific notation representations such as &quot;9.9E3&quot;.</p>\n<p><code>@Digits</code> therefore cannot be used to enforce your requirement that the value &quot;should always have […] only digits, only positive number&quot;.</p>\n<p>Your specific <code>@Digits(fraction = 0, integer = 6)</code> example allows integer values between -999999 and 999999, disallowing numbers with values after the decimal place (including zeros, such as &quot;10.00&quot;).  It allows values written in scientific notation so long as their decimal form do not have any digits, which means it  allows numbers such as &quot;2E3&quot; and &quot;9.99999E5&quot;.</p>\n<p>The <a href=\"https://jakarta.ee/specifications/platform/9/apidocs/jakarta/validation/constraints/digits\" rel=\"nofollow noreferrer\"><code>@Digits</code> Javadocs</a>:</p>\n<blockquote>\n<p>The annotated element must be a number within accepted range.</p>\n<p>Supported types are:</p>\n<ul>\n<li><code>BigDecimal</code></li>\n<li><code>BigInteger</code></li>\n<li><code>CharSequence</code></li>\n<li><code>byte</code>, <code>short</code>, <code>int</code>, <code>long</code>, and their respective wrapper types</li>\n</ul>\n<p><code>null</code> elements are considered valid.</p>\n</blockquote>\n"}],"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37091,"favorite_count":0,"down_vote_count":0,"up_vote_count":28,"accepted_answer_id":19541042,"answer_count":3,"score":28,"last_activity_date":1685121157,"creation_date":1382519823,"question_id":19537664,"body_markdown":"Which annotations would I have to use for Hibernate Validation to validate a String to apply to the following:\r\n\r\n    //should always have trimmed length = 6, only digits, only positive number\r\n    @NotEmpty\r\n    @Size(min = 6, max = 6)\r\n    public String getNumber { \r\n       return number.trim();\r\n    }\r\n\r\nHow can I apply digit validation? Would I just use `@Digits(fraction = 0, integer = 6)` here?","title":"How to validate number string as digit with hibernate?","body":"<p>Which annotations would I have to use for Hibernate Validation to validate a String to apply to the following:</p>\n\n<pre><code>//should always have trimmed length = 6, only digits, only positive number\n@NotEmpty\n@Size(min = 6, max = 6)\npublic String getNumber { \n   return number.trim();\n}\n</code></pre>\n\n<p>How can I apply digit validation? Would I just use <code>@Digits(fraction = 0, integer = 6)</code> here?</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":5212777,"reputation":20542,"user_id":4168607,"accept_rate":28,"display_name":"ADM"},"score":0,"creation_date":1655718824,"post_id":72685147,"comment_id":128390133,"body_markdown":"Do not create `RadioGroup` inside loop create it only once outside loop . Right now each radio button has its own group . create it only once and add all buttons to same parent . it should work then","body":"Do not create <code>RadioGroup</code> inside loop create it only once outside loop . Right now each radio button has its own group . create it only once and add all buttons to same parent . it should work then"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1655720750,"post_id":72685147,"comment_id":128390788,"body_markdown":"@ADM. Not yet. What about `ll.addView(radioGroup);` inside the loop?","body":"@ADM. Not yet. What about <code>ll.addView(radioGroup);</code> inside the loop?"}],"answers":[{"tags":[],"owner":{"account_id":3601683,"reputation":8824,"user_id":3004881,"accept_rate":100,"display_name":"Dan Getz"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655718873,"creation_date":1655718873,"answer_id":72685209,"question_id":72685147,"body_markdown":"Your code created a different group for each individual radio button, that&#39;s why each can be selected at the same time. Each group can have one selected radio button. Instead, you should create just one group, and add all the buttons to that group.","title":"Why, Both radio buttons selected? i want single selection","body":"<p>Your code created a different group for each individual radio button, that's why each can be selected at the same time. Each group can have one selected radio button. Instead, you should create just one group, and add all the buttons to that group.</p>\n"},{"tags":[],"owner":{"account_id":13155252,"reputation":294,"user_id":9502601,"display_name":"Shayan Samad"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655719108,"creation_date":1655719108,"answer_id":72685263,"question_id":72685147,"body_markdown":"Just place radioGroup before options like below \r\n\r\n     radioGroup = new RadioGroup(context);\r\n    \r\n     for(int i = 0; i&lt; list.size();i++) {\r\n            radio = new RadioButton(context);\r\n            radio.setTextSize(TypedValue.COMPLEX_UNIT_DIP, 12);\r\n            radio.setPadding(15, 15, 15, 15);\r\n            radio.setId(i);\r\n            radio.setText(list.get(i));\r\n            radioGroup.addView(radio);\r\n            ll.addView(radioGroup);\r\n        }","title":"Why, Both radio buttons selected? i want single selection","body":"<p>Just place radioGroup before options like below</p>\n<pre><code> radioGroup = new RadioGroup(context);\n\n for(int i = 0; i&lt; list.size();i++) {\n        radio = new RadioButton(context);\n        radio.setTextSize(TypedValue.COMPLEX_UNIT_DIP, 12);\n        radio.setPadding(15, 15, 15, 15);\n        radio.setId(i);\n        radio.setText(list.get(i));\n        radioGroup.addView(radio);\n        ll.addView(radioGroup);\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25542183,"reputation":71,"user_id":19328067,"display_name":"Janki"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1685121125,"creation_date":1655721377,"answer_id":72685768,"question_id":72685147,"body_markdown":"From the reference from your code, I am able to find the cause which produces this issue, You need to put this line(**ll.addView(radioGroup)**) out of for loop as below :\r\n\r\n    //...\r\n    \r\n            for(int i = 0; i&lt; list.size();i++) {\r\n                radio = new RadioButton(context);\r\n                radioGroup = new RadioGroup(context);\r\n                radio.setTextSize(TypedValue.COMPLEX_UNIT_DIP, 12);\r\n                radio.setPadding(15, 15, 15, 15);\r\n                radio.setId(i);\r\n                radio.setText(list.get(i));\r\n                radioGroup.addView(radio);              \r\n            }\r\n        \r\n         ll.addView(radioGroup);\r\n    \r\n    //...\r\n","title":"Why, Both radio buttons selected? i want single selection","body":"<p>From the reference from your code, I am able to find the cause which produces this issue, You need to put this line(<strong>ll.addView(radioGroup)</strong>) out of for loop as below :</p>\n<pre><code>//...\n\n        for(int i = 0; i&lt; list.size();i++) {\n            radio = new RadioButton(context);\n            radioGroup = new RadioGroup(context);\n            radio.setTextSize(TypedValue.COMPLEX_UNIT_DIP, 12);\n            radio.setPadding(15, 15, 15, 15);\n            radio.setId(i);\n            radio.setText(list.get(i));\n            radioGroup.addView(radio);              \n        }\n    \n     ll.addView(radioGroup);\n\n//...\n</code></pre>\n"}],"owner":{"account_id":23782351,"reputation":9,"user_id":17794866,"display_name":"Prasanth M"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":74,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":3,"score":-1,"last_activity_date":1685121125,"creation_date":1655718549,"question_id":72685147,"body_markdown":"I&#39;m creating a radio question here I want select only one button to be selected. But here both buttons are got selected. kindly give me the solutions.\r\n\r\n\r\nprivate void radioButtonQuestion(String radioquest, JsonArray optionsArray) {\r\n\r\n        RadioButton radio;\r\n        RadioGroup radioGroup;\r\n        JsonArray dependenciesArray = (JsonArray) indQuestions.get(&quot;dependencies&quot;);\r\n        ArrayList&lt;String&gt; list = new ArrayList&lt;&gt;();\r\n\r\n        for(int a=0; a&lt;optionsArray.size();a++) {\r\n            JsonObject optionsObject = (JsonObject) optionsArray.get(a);\r\n            JsonObject dependenciesObject = (JsonObject) dependenciesArray.get(a);\r\n            String option = optionsObject.get(&quot;value&quot;).getAsString();\r\n            list.add(option);\r\n        }\r\n        LinearLayout ll=new LinearLayout(context);\r\n        ll.setOrientation(LinearLayout.VERTICAL);\r\n        cardview = new CardView(context);\r\n        layoutparams = new LinearLayout.LayoutParams(\r\n                LinearLayout.LayoutParams.MATCH_PARENT,\r\n                LinearLayout.LayoutParams.WRAP_CONTENT);\r\n        layoutparams.setMargins(10,20,10,20);\r\n        cardview.setLayoutParams(layoutparams);\r\n        cardview.setRadius(30);\r\n        cardview.setPadding(10, 10, 10, 10);\r\n        cardview.setCardBackgroundColor(Color.WHITE);\r\n        cardview.setMaxCardElevation(20);\r\n        cardview.setMaxCardElevation(6);\r\n        textview = new TextView(context);\r\n        // textview.setLayoutParams(layoutparams);\r\n        textview.setText(radioquest);\r\n        textview.setTextSize(TypedValue.COMPLEX_UNIT_DIP, 14);\r\n        textview.setTextColor(Color.BLACK);\r\n        textview.setPadding(15, 25, 25, 15);\r\n        textview.setGravity(Gravity.NO_GRAVITY);\r\n        ll.addView(textview);\r\n        for(int i = 0; i&lt; list.size();i++) {\r\n            radio = new RadioButton(context);\r\n            radioGroup = new RadioGroup(context);\r\n            radio.setTextSize(TypedValue.COMPLEX_UNIT_DIP, 12);\r\n            radio.setPadding(15, 15, 15, 15);\r\n            radio.setId(i);\r\n            radio.setText(list.get(i));\r\n            radioGroup.addView(radio);\r\n            ll.addView(radioGroup);\r\n        }\r\n\r\n        ll.setId(id);\r\n        cardview.addView(ll);\r\n        cardview.setId(id);\r\n        cardview.setTag(&quot;Radio &quot;+id);\r\n        id++;\r\n        relativeLayout.addView(cardview);\r\n    }","title":"Why, Both radio buttons selected? i want single selection","body":"<p>I'm creating a radio question here I want select only one button to be selected. But here both buttons are got selected. kindly give me the solutions.</p>\n<p>private void radioButtonQuestion(String radioquest, JsonArray optionsArray) {</p>\n<pre><code>    RadioButton radio;\n    RadioGroup radioGroup;\n    JsonArray dependenciesArray = (JsonArray) indQuestions.get(&quot;dependencies&quot;);\n    ArrayList&lt;String&gt; list = new ArrayList&lt;&gt;();\n\n    for(int a=0; a&lt;optionsArray.size();a++) {\n        JsonObject optionsObject = (JsonObject) optionsArray.get(a);\n        JsonObject dependenciesObject = (JsonObject) dependenciesArray.get(a);\n        String option = optionsObject.get(&quot;value&quot;).getAsString();\n        list.add(option);\n    }\n    LinearLayout ll=new LinearLayout(context);\n    ll.setOrientation(LinearLayout.VERTICAL);\n    cardview = new CardView(context);\n    layoutparams = new LinearLayout.LayoutParams(\n            LinearLayout.LayoutParams.MATCH_PARENT,\n            LinearLayout.LayoutParams.WRAP_CONTENT);\n    layoutparams.setMargins(10,20,10,20);\n    cardview.setLayoutParams(layoutparams);\n    cardview.setRadius(30);\n    cardview.setPadding(10, 10, 10, 10);\n    cardview.setCardBackgroundColor(Color.WHITE);\n    cardview.setMaxCardElevation(20);\n    cardview.setMaxCardElevation(6);\n    textview = new TextView(context);\n    // textview.setLayoutParams(layoutparams);\n    textview.setText(radioquest);\n    textview.setTextSize(TypedValue.COMPLEX_UNIT_DIP, 14);\n    textview.setTextColor(Color.BLACK);\n    textview.setPadding(15, 25, 25, 15);\n    textview.setGravity(Gravity.NO_GRAVITY);\n    ll.addView(textview);\n    for(int i = 0; i&lt; list.size();i++) {\n        radio = new RadioButton(context);\n        radioGroup = new RadioGroup(context);\n        radio.setTextSize(TypedValue.COMPLEX_UNIT_DIP, 12);\n        radio.setPadding(15, 15, 15, 15);\n        radio.setId(i);\n        radio.setText(list.get(i));\n        radioGroup.addView(radio);\n        ll.addView(radioGroup);\n    }\n\n    ll.setId(id);\n    cardview.addView(ll);\n    cardview.setId(id);\n    cardview.setTag(&quot;Radio &quot;+id);\n    id++;\n    relativeLayout.addView(cardview);\n}\n</code></pre>\n"},{"tags":["java","intellij-idea","arraylist","runtime-error","linkedhashset"],"owner":{"account_id":28687310,"reputation":1,"user_id":21967337,"display_name":"Jeevanandham 17"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":13,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1685121257,"answer_count":0,"score":0,"last_activity_date":1685120943,"creation_date":1685120943,"question_id":76342988,"body_markdown":"I have one problem in List and LinkedHashSet in java\r\n\r\n\r\n```\r\n\r\n// Java Program\r\n\r\nimport java.util.*;\r\n\r\npublic class always_edit_this {\r\n    public static void main(String [] args)\r\n    {\r\n        Scanner sc = new Scanner(System.in);\r\n        int r = sc.nextInt();\r\n        List&lt;String&gt; a = Arrays.asList(sc.nextLine().split(&quot; &quot;));\r\n        LinkedHashSet &lt;String&gt; ans = new LinkedHashSet&lt;&gt;(a);\r\n        System.out.println(ans);\r\n\r\n    }\r\n\r\n}\r\n```\r\n\r\n\r\n// In the above program\r\n\r\nI can get the integer value input but,\r\nAfter getting that It terminates the program and\r\nDon&#39;t get a List input\r\nI don&#39;t know why anybody can solve this\r\n\r\nDoes any anybody can solve this\r\n\r\n\r\n\r\n","title":"I can&#39;t get the input of the arraylist in java why?","body":"<p>I have one problem in List and LinkedHashSet in java</p>\n<pre><code>\n// Java Program\n\nimport java.util.*;\n\npublic class always_edit_this {\n    public static void main(String [] args)\n    {\n        Scanner sc = new Scanner(System.in);\n        int r = sc.nextInt();\n        List&lt;String&gt; a = Arrays.asList(sc.nextLine().split(&quot; &quot;));\n        LinkedHashSet &lt;String&gt; ans = new LinkedHashSet&lt;&gt;(a);\n        System.out.println(ans);\n\n    }\n\n}\n</code></pre>\n<p>// In the above program</p>\n<p>I can get the integer value input but,\nAfter getting that It terminates the program and\nDon't get a List input\nI don't know why anybody can solve this</p>\n<p>Does any anybody can solve this</p>\n"},{"tags":["java","android","logcat"],"comments":[{"owner":{"account_id":2678195,"reputation":68091,"user_id":2314073,"accept_rate":56,"display_name":"Juned Ahsan"},"score":0,"creation_date":1424993699,"post_id":28754888,"comment_id":45791250,"body_markdown":"where is the logcat?","body":"where is the logcat?"},{"owner":{"account_id":5152070,"reputation":1918,"user_id":4126391,"accept_rate":75,"display_name":"childofsoong"},"score":3,"creation_date":1424993700,"post_id":28754888,"comment_id":45791251,"body_markdown":"NullPointerException is a runtime error, so it won&#39;t show up at compilation.  Can you post the stack trace, so we can see what line it occurred on?","body":"NullPointerException is a runtime error, so it won&#39;t show up at compilation.  Can you post the stack trace, so we can see what line it occurred on?"},{"owner":{"account_id":4934454,"reputation":37277,"user_id":3973077,"accept_rate":77,"display_name":"Paul Boddington"},"score":0,"creation_date":1424993726,"post_id":28754888,"comment_id":45791259,"body_markdown":"I think the problem is the fields `principal` and `interest`. I think you need to call `findViewById` in `onCreate` after `setContentView`, not where the fields are declared.","body":"I think the problem is the fields <code>principal</code> and <code>interest</code>. I think you need to call <code>findViewById</code> in <code>onCreate</code> after <code>setContentView</code>, not where the fields are declared."},{"owner":{"account_id":5774415,"reputation":39,"user_id":4556928,"accept_rate":20,"display_name":"Joshua Powers"},"score":0,"creation_date":1424993839,"post_id":28754888,"comment_id":45791288,"body_markdown":"@soong what is a stack trace and how do you perform it?","body":"@soong what is a stack trace and how do you perform it?"},{"owner":{"account_id":5152070,"reputation":1918,"user_id":4126391,"accept_rate":75,"display_name":"childofsoong"},"score":0,"creation_date":1424998209,"post_id":28754888,"comment_id":45792605,"body_markdown":"@JoshuaPowers sorry to take so long to get back to you (real life called), but the stack trace is the complete error message that shows the path of logic that caused the exception.  See https://stackoverflow.com/questions/3988788/what-is-a-stack-trace-and-how-can-i-use-it-to-debug-my-application-errors if the comments on the answer below didn&#39;t clear it up for you.","body":"@JoshuaPowers sorry to take so long to get back to you (real life called), but the stack trace is the complete error message that shows the path of logic that caused the exception.  See <a href=\"https://stackoverflow.com/questions/3988788/what-is-a-stack-trace-and-how-can-i-use-it-to-debug-my-application-errors\" title=\"what is a stack trace and how can i use it to debug my application errors\">stackoverflow.com/questions/3988788/&hellip;</a> if the comments on the answer below didn&#39;t clear it up for you."}],"answers":[{"comments":[{"owner":{"account_id":5774415,"reputation":39,"user_id":4556928,"accept_rate":20,"display_name":"Joshua Powers"},"score":0,"creation_date":1424994094,"post_id":28754935,"comment_id":45791366,"body_markdown":"I fixed that but it still crashes","body":"I fixed that but it still crashes"},{"owner":{"account_id":430629,"reputation":2947,"user_id":814178,"accept_rate":60,"display_name":"serkanozel"},"score":0,"creation_date":1424994165,"post_id":28754935,"comment_id":45791384,"body_markdown":"Can you post the stack trace Joshua?  That would really help us help you.","body":"Can you post the stack trace Joshua?  That would really help us help you."},{"owner":{"account_id":4934454,"reputation":37277,"user_id":3973077,"accept_rate":77,"display_name":"Paul Boddington"},"score":0,"creation_date":1424994179,"post_id":28754935,"comment_id":45791391,"body_markdown":"@JoshuaPowers We need to see the error message. Paste the whole thing, and tell us the line that causes the problem. Someone will format the stack trace if you can&#39;t do it.","body":"@JoshuaPowers We need to see the error message. Paste the whole thing, and tell us the line that causes the problem. Someone will format the stack trace if you can&#39;t do it."},{"owner":{"account_id":5774415,"reputation":39,"user_id":4556928,"accept_rate":20,"display_name":"Joshua Powers"},"score":0,"creation_date":1424994589,"post_id":28754935,"comment_id":45791510,"body_markdown":"I can&#39;t get it to format correctly for the site to let me post it so i put the txt file in a shared dropbox folder https://www.dropbox.com/s/1hpglcfo0swchco/logcat.txt?dl=0","body":"I can&#39;t get it to format correctly for the site to let me post it so i put the txt file in a shared dropbox folder <a href=\"https://www.dropbox.com/s/1hpglcfo0swchco/logcat.txt?dl=0\" rel=\"nofollow noreferrer\">dropbox.com/s/1hpglcfo0swchco/logcat.txt?dl=0</a>"},{"owner":{"account_id":430629,"reputation":2947,"user_id":814178,"accept_rate":60,"display_name":"serkanozel"},"score":0,"creation_date":1424994927,"post_id":28754935,"comment_id":45791630,"body_markdown":"Hey Josh :)  Thanks for the stacktrace but the line-in-question which is line 43 doesn&#39;t match up to any line in the original class code :(  So that didn&#39;t really help.  Can you tell us what&#39;s in line 43 in your IDE?  Also can you post the sicalculator.xml ?","body":"Hey Josh :)  Thanks for the stacktrace but the line-in-question which is line 43 doesn&#39;t match up to any line in the original class code :(  So that didn&#39;t really help.  Can you tell us what&#39;s in line 43 in your IDE?  Also can you post the sicalculator.xml ?"},{"owner":{"account_id":5774415,"reputation":39,"user_id":4556928,"accept_rate":20,"display_name":"Joshua Powers"},"score":0,"creation_date":1424995743,"post_id":28754935,"comment_id":45791868,"body_markdown":"computer crashed it&#39;ll be a minute","body":"computer crashed it&#39;ll be a minute"},{"owner":{"account_id":5774415,"reputation":39,"user_id":4556928,"accept_rate":20,"display_name":"Joshua Powers"},"score":0,"creation_date":1424995945,"post_id":28754935,"comment_id":45791932,"body_markdown":"the xml file is here: https://www.dropbox.com/s/kkjtqd3eauxk0z1/sicalculatorxml.txt?dl=0","body":"the xml file is here: <a href=\"https://www.dropbox.com/s/kkjtqd3eauxk0z1/sicalculatorxml.txt?dl=0\" rel=\"nofollow noreferrer\">dropbox.com/s/kkjtqd3eauxk0z1/sicalculatorxml.txt?dl=0</a>"},{"owner":{"account_id":5774415,"reputation":39,"user_id":4556928,"accept_rate":20,"display_name":"Joshua Powers"},"score":0,"creation_date":1424995977,"post_id":28754935,"comment_id":45791942,"body_markdown":"line 43 in my IDE is  bar = (SeekBar)findViewById(R.id.seekBar);","body":"line 43 in my IDE is  bar = (SeekBar)findViewById(R.id.seekBar);"}],"tags":[],"owner":{"account_id":430629,"reputation":2947,"user_id":814178,"accept_rate":60,"display_name":"serkanozel"},"comment_count":8,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1685120829,"creation_date":1424993865,"answer_id":28754935,"question_id":28754888,"body_markdown":"You can&#39;t instantiate view variables by calling findViewById as you&#39;re declaring them.  You have to declare them first and then instantiate either in onCreate or some method invoked after the Activity is bound with the view.  Make sure to do it after `setContentView(R.layout.sicalculator);`\r\n\r\nOkay, after seeing your layout, stacktrace and reading more in to your code, I saw that there are fundamental issues which ought to give you more crashes, so let&#39;s fix them.\r\n\r\nFirst, `pvalue` and `ivalue` variables are unnecessary!  Remove them.\r\nRelated: You cannot assign an `Editable` to an `EditText`.  So this line is invalid `ivalue = (EditText) interest.getText();`  Because getText() returns an `Editable`.  But these are all redundant and unnecessary anyways.\r\n\r\nSecond, in onCreate method, let&#39;s just initialize views and not try to get values and parse them yet; the user (or you) haven&#39;t interacted nor entered any values there yet; so trying to parse null values in to Doubles will crash your app.\r\nYour onCreate method should look something like this. (Note that I&#39;m also initializing your button and setting the click listener here).\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState)\r\n    {\r\n      super.onCreate(savedInstanceState);\r\n      setContentView(R.layout.sicalculator);\r\n      principal = (EditText) findViewById(R.id.PA_field);\r\n      interest =  (EditText) findViewById(R.id.IR_field);\r\n      bar = (SeekBar) findViewById(R.id.seekBar);\r\n      bar.setOnSeekBarChangeListener(this);\r\n      calcBtn = (Button)findViewById(R.id.calc_btn);\r\n      calcBtn.setOnClickListener(this);\r\n    }\r\n\r\nNow, you should get the values and parse them in your onClick listener - only when the user has entered values and clicked on the Calculate button, so your onClick() method should look something like this:\r\n\r\n    @Override\r\n    public void onClick(View view)\r\n    {\r\n      TextView fTextView = (TextView) findViewById(R.id.finalText);\r\n      mPvalue = Double.valueOf(principal.getText().toString());\r\n      mIvalue = Double.valueOf(interest.getText().toString());\r\n\r\n      double finValue = mPvalue * (mIvalue / 100) * years;\r\n      fTextView.setText(&quot;The interest for &quot; + mPvalue + &quot;at a rate of &quot; + mIvalue + &quot;for &quot; + years + &quot;year(s) is &quot; + finValue);\r\n    }\r\n\r\nAnd that should clear the logic and order or declaring, initializing, retrieving values from variables for you.  I hope this explains how Java and Android basics work.\r\n\r\nOh by the way, I actually ran the code and it&#39;s running on my phone so this isn&#39;t just off the top of my head.","title":"My Simple Interest calculator is crashing with a null pointer exception error","body":"<p>You can't instantiate view variables by calling findViewById as you're declaring them.  You have to declare them first and then instantiate either in onCreate or some method invoked after the Activity is bound with the view.  Make sure to do it after <code>setContentView(R.layout.sicalculator);</code></p>\n<p>Okay, after seeing your layout, stacktrace and reading more in to your code, I saw that there are fundamental issues which ought to give you more crashes, so let's fix them.</p>\n<p>First, <code>pvalue</code> and <code>ivalue</code> variables are unnecessary!  Remove them.\nRelated: You cannot assign an <code>Editable</code> to an <code>EditText</code>.  So this line is invalid <code>ivalue = (EditText) interest.getText();</code>  Because getText() returns an <code>Editable</code>.  But these are all redundant and unnecessary anyways.</p>\n<p>Second, in onCreate method, let's just initialize views and not try to get values and parse them yet; the user (or you) haven't interacted nor entered any values there yet; so trying to parse null values in to Doubles will crash your app.\nYour onCreate method should look something like this. (Note that I'm also initializing your button and setting the click listener here).</p>\n<pre><code>@Override\nprotected void onCreate(Bundle savedInstanceState)\n{\n  super.onCreate(savedInstanceState);\n  setContentView(R.layout.sicalculator);\n  principal = (EditText) findViewById(R.id.PA_field);\n  interest =  (EditText) findViewById(R.id.IR_field);\n  bar = (SeekBar) findViewById(R.id.seekBar);\n  bar.setOnSeekBarChangeListener(this);\n  calcBtn = (Button)findViewById(R.id.calc_btn);\n  calcBtn.setOnClickListener(this);\n}\n</code></pre>\n<p>Now, you should get the values and parse them in your onClick listener - only when the user has entered values and clicked on the Calculate button, so your onClick() method should look something like this:</p>\n<pre><code>@Override\npublic void onClick(View view)\n{\n  TextView fTextView = (TextView) findViewById(R.id.finalText);\n  mPvalue = Double.valueOf(principal.getText().toString());\n  mIvalue = Double.valueOf(interest.getText().toString());\n\n  double finValue = mPvalue * (mIvalue / 100) * years;\n  fTextView.setText(&quot;The interest for &quot; + mPvalue + &quot;at a rate of &quot; + mIvalue + &quot;for &quot; + years + &quot;year(s) is &quot; + finValue);\n}\n</code></pre>\n<p>And that should clear the logic and order or declaring, initializing, retrieving values from variables for you.  I hope this explains how Java and Android basics work.</p>\n<p>Oh by the way, I actually ran the code and it's running on my phone so this isn't just off the top of my head.</p>\n"}],"owner":{"account_id":5774415,"reputation":39,"user_id":4556928,"accept_rate":20,"display_name":"Joshua Powers"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":164,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1685120829,"creation_date":1424993616,"question_id":28754888,"body_markdown":"My Simple Interest calculator is crashing with a null pointer exception error, not sure what the problem is, there are no errors in the IDE before I complile, this is new to me. Here is my code and logcat: edit: Icouldn&#39;t post a logcat as the editor thinks it&#39;s code and I can&#39;t get it to format correctly\r\nCode:\r\n\r\n    package com.codeherenow.sicalculator;\r\n\r\n    import android.app.Activity;\r\n    import android.os.Bundle;\r\n    import android.view.View;\r\n    import android.widget.EditText;\r\n    import android.widget.TextView;\r\n    import android.widget.SeekBar;\r\n \r\n    public class SICalculatorActivity extends Activity\r\n        implements SeekBar.OnSeekBarChangeListener, View.OnClickListener{\r\n    private int years;\r\n    private TextView YT;\r\n    private SeekBar bar;\r\n    private EditText principal = (EditText) findViewById(R.id.PA_field);\r\n    private EditText interest = (EditText) findViewById(R.id.IR_field);\r\n    public EditText pvalue;\r\n    public EditText ivalue;\r\n    private double mPvalue = 0;\r\n    private double mIvalue = 0;\r\n\r\n\t@Override\r\n\tprotected void onCreate(Bundle savedInstanceState) {\r\n\t\tsuper.onCreate(savedInstanceState);\r\n\t\tsetContentView(R.layout.sicalculator);\r\n        bar = (SeekBar)findViewById(R.id.seekBar);\r\n        bar.setOnSeekBarChangeListener(this);\r\n        pvalue = (EditText) principal.getText();\r\n        ivalue = (EditText) interest.getText();\r\n        String s = principal.getText().toString();\r\n        mPvalue = Double.parseDouble(s);\r\n        String s2 = interest.getText().toString();\r\n        mIvalue = Double.parseDouble(s2);\r\n\r\n\t}\r\n        @Override\r\n        public void onProgressChanged (SeekBar seekBar,int i, boolean b){\r\n            years = i;\r\n            YT = (TextView) findViewById(R.id.Years);\r\n            YT.setText(years + &quot; Year(s)&quot;);\r\n\r\n        }\r\n\r\n        @Override\r\n        public void onStartTrackingTouch (SeekBar seekBar){\r\n\r\n        }\r\n\r\n        @Override\r\n        public void onStopTrackingTouch (SeekBar seekBar){\r\n\r\n        }\r\n\r\n    @Override\r\n    public void onClick(View view) {\r\n        TextView fTextView = (TextView) findViewById(R.id.finalText);\r\n        double finValue = mPvalue * (mIvalue/100) * years;\r\n        fTextView.setText(&quot;The interest for &quot; + pvalue + &quot;at a rate of &quot; +    ivalue + &quot;for &quot; + years + &quot;year(s) is &quot; + finValue);\r\n    }\r\n    }\r\n\r\n","title":"My Simple Interest calculator is crashing with a null pointer exception error","body":"<p>My Simple Interest calculator is crashing with a null pointer exception error, not sure what the problem is, there are no errors in the IDE before I complile, this is new to me. Here is my code and logcat: edit: Icouldn't post a logcat as the editor thinks it's code and I can't get it to format correctly\nCode:</p>\n\n<pre><code>package com.codeherenow.sicalculator;\n\nimport android.app.Activity;\nimport android.os.Bundle;\nimport android.view.View;\nimport android.widget.EditText;\nimport android.widget.TextView;\nimport android.widget.SeekBar;\n\npublic class SICalculatorActivity extends Activity\n    implements SeekBar.OnSeekBarChangeListener, View.OnClickListener{\nprivate int years;\nprivate TextView YT;\nprivate SeekBar bar;\nprivate EditText principal = (EditText) findViewById(R.id.PA_field);\nprivate EditText interest = (EditText) findViewById(R.id.IR_field);\npublic EditText pvalue;\npublic EditText ivalue;\nprivate double mPvalue = 0;\nprivate double mIvalue = 0;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.sicalculator);\n    bar = (SeekBar)findViewById(R.id.seekBar);\n    bar.setOnSeekBarChangeListener(this);\n    pvalue = (EditText) principal.getText();\n    ivalue = (EditText) interest.getText();\n    String s = principal.getText().toString();\n    mPvalue = Double.parseDouble(s);\n    String s2 = interest.getText().toString();\n    mIvalue = Double.parseDouble(s2);\n\n}\n    @Override\n    public void onProgressChanged (SeekBar seekBar,int i, boolean b){\n        years = i;\n        YT = (TextView) findViewById(R.id.Years);\n        YT.setText(years + \" Year(s)\");\n\n    }\n\n    @Override\n    public void onStartTrackingTouch (SeekBar seekBar){\n\n    }\n\n    @Override\n    public void onStopTrackingTouch (SeekBar seekBar){\n\n    }\n\n@Override\npublic void onClick(View view) {\n    TextView fTextView = (TextView) findViewById(R.id.finalText);\n    double finValue = mPvalue * (mIvalue/100) * years;\n    fTextView.setText(\"The interest for \" + pvalue + \"at a rate of \" +    ivalue + \"for \" + years + \"year(s) is \" + finValue);\n}\n}\n</code></pre>\n"},{"tags":["java","java-stream"],"answers":[{"tags":[],"owner":{"account_id":13417677,"reputation":56,"user_id":9681581,"display_name":"skrtliko"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1685120722,"creation_date":1646918613,"answer_id":71424864,"question_id":71424639,"body_markdown":"You can achieve this by doing the following:\r\n\r\n    alist.stream()\r\n        .flatMap(i -&gt; i == 0 ? Stream.of(i, 0) : Stream.of(i))\r\n        .limit(alist.size())\r\n        .collect(Collectors.toList());\r\n\r\nThis basically:\r\n 1. flatmaps your integer to a stream of itself if non-zero, and a stream of itself and an additional zero if equal to zero\r\n 2. limits the size of your list to the original size\r\n","title":"Java 8 stream api code to add a element to a List based on condition keeping the list size same","body":"<p>You can achieve this by doing the following:</p>\n<pre><code>alist.stream()\n    .flatMap(i -&gt; i == 0 ? Stream.of(i, 0) : Stream.of(i))\n    .limit(alist.size())\n    .collect(Collectors.toList());\n</code></pre>\n<p>This basically:</p>\n<ol>\n<li>flatmaps your integer to a stream of itself if non-zero, and a stream of itself and an additional zero if equal to zero</li>\n<li>limits the size of your list to the original size</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1646928102,"creation_date":1646926988,"answer_id":71426911,"question_id":71424639,"body_markdown":"If you are using Java 16+ can also do it using `mapMulti` which allows one to replace items in the stream with zero or more elements. \r\n```\r\nList&lt;Integer&gt; alist = Arrays.asList(0,1,2,0,4,10);\r\n```\r\n- In this case, `mapMulti` simply accepts the current value and\r\n- then adds another `0` if the current value is `0`.\r\n```    \r\nalist = alist.stream().&lt;Integer&gt;mapMulti((i, consumer) -&gt; {\r\n\tconsumer.accept(i);\r\n\tif (i == 0) {\r\n\t\tconsumer.accept(0);\r\n\t}\r\n}).limit(alist.size()).toList();\r\n\r\nSystem.out.println(alist);\r\n```\r\nprints\r\n```\r\n[0, 0, 1, 2, 0, 0]","title":"Java 8 stream api code to add a element to a List based on condition keeping the list size same","body":"<p>If you are using Java 16+ can also do it using <code>mapMulti</code> which allows one to replace items in the stream with zero or more elements.</p>\n<pre><code>List&lt;Integer&gt; alist = Arrays.asList(0,1,2,0,4,10);\n</code></pre>\n<ul>\n<li>In this case, <code>mapMulti</code> simply accepts the current value and</li>\n<li>then adds another <code>0</code> if the current value is <code>0</code>.</li>\n</ul>\n<pre><code>alist = alist.stream().&lt;Integer&gt;mapMulti((i, consumer) -&gt; {\n    consumer.accept(i);\n    if (i == 0) {\n        consumer.accept(0);\n    }\n}).limit(alist.size()).toList();\n\nSystem.out.println(alist);\n</code></pre>\n<p>prints</p>\n<pre><code>[0, 0, 1, 2, 0, 0]\n</code></pre>\n"}],"owner":{"account_id":22246223,"reputation":3,"user_id":16479882,"display_name":"No Name"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1480,"favorite_count":0,"down_vote_count":7,"up_vote_count":0,"accepted_answer_id":71424864,"answer_count":2,"score":-7,"last_activity_date":1685120722,"creation_date":1646917571,"question_id":71424639,"body_markdown":"Consider i have below list\r\n\r\n```\r\nList&lt;Integer&gt; alist = new ArrayList&lt;&gt;(); \r\n\t\t  list=Arrays.asList(0,1,2,0,4,10);\r\n\t\t  \r\n\t\t  alist.addAll(list);\r\n```\r\n\r\nI want the output as 0 0 1 2 0 0.\r\n\r\nThat means if there is a zero in the list add one more zero in list. Do this untill the size of list is same as input size.\r\n\r\nHow can this be done using Java 8 stream api?","title":"Java 8 stream api code to add a element to a List based on condition keeping the list size same","body":"<p>Consider i have below list</p>\n<pre><code>List&lt;Integer&gt; alist = new ArrayList&lt;&gt;(); \n          list=Arrays.asList(0,1,2,0,4,10);\n          \n          alist.addAll(list);\n</code></pre>\n<p>I want the output as 0 0 1 2 0 0.</p>\n<p>That means if there is a zero in the list add one more zero in list. Do this untill the size of list is same as input size.</p>\n<p>How can this be done using Java 8 stream api?</p>\n"},{"tags":["java","spring-boot","rest","http","feign"],"owner":{"account_id":28662696,"reputation":15,"user_id":21947320,"display_name":"TesUser476797"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":593,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1685120703,"creation_date":1685116950,"question_id":76342517,"body_markdown":"I&#39;m trying to make a rest call using Feign in a spring boot application and getting below stacktrace.\r\n\r\n\r\n```\r\njava.io.IOException: too many bytes written\r\n\tat sun.net.www.protocol.http.HttpURLConnection$StreamingOutputStream.write(HttpURLConnection.java:3574) ~[na:1.8.0_202]\r\n\tat sun.net.www.protocol.http.HttpURLConnection$StreamingOutputStream.write(HttpURLConnection.java:3565) ~[na:1.8.0_202]\r\n\tat feign.Client$Default.convertAndSend(Client.java:214) ~[feign-core-11.8.jar:na]\r\n\tat feign.Client$Default.execute(Client.java:104) ~[feign-core-11.8.jar:na]\r\n\tat feign.SynchronousMethodHandler.executeAndDecode(SynchronousMethodHandler.java:119) ~[feign-core-11.8.jar:na]\r\n\tat feign.SynchronousMethodHandler.invoke(SynchronousMethodHandler.java:89) ~[feign-core-11.8.jar:na]\r\n\tat feign.ReflectiveFeign$FeignInvocationHandler.invoke(ReflectiveFeign.java:100) ~[feign-core-11.8.jar:na]\r\n\r\n```\r\n\r\nIn some of the blogs I saw that they have removed Content-Length header to avoid this exception. But in my case if I remove that, it&#39;s not taking my request body completely and hence input is not getting passed and that time I&#39;m getting 400 Bad Request error. \r\n\r\nPlease advise on how to avoid this too many bytes written exception.\r\n\r\n","title":"Too Many Bytes Written - Feign Rest Call","body":"<p>I'm trying to make a rest call using Feign in a spring boot application and getting below stacktrace.</p>\n<pre><code>java.io.IOException: too many bytes written\n    at sun.net.www.protocol.http.HttpURLConnection$StreamingOutputStream.write(HttpURLConnection.java:3574) ~[na:1.8.0_202]\n    at sun.net.www.protocol.http.HttpURLConnection$StreamingOutputStream.write(HttpURLConnection.java:3565) ~[na:1.8.0_202]\n    at feign.Client$Default.convertAndSend(Client.java:214) ~[feign-core-11.8.jar:na]\n    at feign.Client$Default.execute(Client.java:104) ~[feign-core-11.8.jar:na]\n    at feign.SynchronousMethodHandler.executeAndDecode(SynchronousMethodHandler.java:119) ~[feign-core-11.8.jar:na]\n    at feign.SynchronousMethodHandler.invoke(SynchronousMethodHandler.java:89) ~[feign-core-11.8.jar:na]\n    at feign.ReflectiveFeign$FeignInvocationHandler.invoke(ReflectiveFeign.java:100) ~[feign-core-11.8.jar:na]\n\n</code></pre>\n<p>In some of the blogs I saw that they have removed Content-Length header to avoid this exception. But in my case if I remove that, it's not taking my request body completely and hence input is not getting passed and that time I'm getting 400 Bad Request error.</p>\n<p>Please advise on how to avoid this too many bytes written exception.</p>\n"},{"tags":["java","android","arrays","image","audio"],"comments":[{"owner":{"account_id":6239290,"reputation":1459,"user_id":4853459,"accept_rate":50,"display_name":"D.J"},"score":0,"creation_date":1476785852,"post_id":40105494,"comment_id":67482577,"body_markdown":"You have to pass mySound counter in sound array. You have pass 0.It will play only one sound for all.","body":"You have to pass mySound counter in sound array. You have pass 0.It will play only one sound for all."},{"owner":{"account_id":8471670,"reputation":57,"user_id":6354046,"accept_rate":30,"display_name":"Pawel"},"score":0,"creation_date":1476792123,"post_id":40105494,"comment_id":67486654,"body_markdown":"I was trying   mp = MediaPlayer.create(Alphascreen.this, sounds[mysound]); but than all sounds from array can be played on button click instead only one as needed. Tried also    mp = MediaPlayer.create(Alphascreen.this, sounds[mysound % sounds.length]); but with no positive results","body":"I was trying   mp = MediaPlayer.create(Alphascreen.this, sounds[mysound]); but than all sounds from array can be played on button click instead only one as needed. Tried also    mp = MediaPlayer.create(Alphascreen.this, sounds[mysound % sounds.length]); but with no positive results"}],"answers":[{"tags":[],"owner":{"account_id":4311679,"reputation":1548,"user_id":3522570,"accept_rate":50,"display_name":"Ganesh Pokale"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1476786157,"creation_date":1476786157,"answer_id":40105666,"question_id":40105494,"body_markdown":"Try this code, need to reset `MediaPlayer` before assigning new track\r\n\r\n   \r\n\r\n    ImageRight.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                mp.reset(); // new line\r\n                mp = MediaPlayer.create(Alphascreen.this, sounds2[0]);\r\n                    mp.start();\r\n                    mysound2++;\r\n\r\n                }\r\n\r\n            });\r\n","title":"Image and sound in Array change by clicking on next button in Android","body":"<p>Try this code, need to reset <code>MediaPlayer</code> before assigning new track</p>\n\n<pre><code>ImageRight.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n            mp.reset(); // new line\n            mp = MediaPlayer.create(Alphascreen.this, sounds2[0]);\n                mp.start();\n                mysound2++;\n\n            }\n\n        });\n</code></pre>\n"}],"owner":{"account_id":8471670,"reputation":57,"user_id":6354046,"accept_rate":30,"display_name":"Pawel"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":779,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1685120669,"creation_date":1476785712,"question_id":40105494,"body_markdown":"EDIT- I found the solution for the issue \r\nI put mysound++;  View.OnClickListener aButtonChangeImageListener = new View.OnClickListener(      \r\n\r\nI have app with array of pictures and sounds. When user click next button the pictures change to next one. The problem I have is that I can&#39;t change the sound to the next one as well. The app is playing the first sound all the time or it plays all sounds from array.\r\nI need to have the sound changes to next one after next button is clicked to reflect picture change. Example: picture a1 = sound1, picture a2 = sound2.\r\n\r\n private ImageButton MainImage, ImageLeft, ImageRight;\r\n    private ImageButton nextButton;\r\n\r\n    private int currentImage = 0;\r\n    int[] images = { R.drawable.a1, R.drawable.b1, R.drawable.c1, R.drawable.d1, R.drawable.e1, R.drawable.f1 };\r\n    private int currentImage2 = 0;\r\n    int[] images2 = { R.drawable.a2, R.drawable.b2, R.drawable.c2, R.drawable.d2, R.drawable.e2, R.drawable.f2 };\r\n    private int currentImage3 = 0;\r\n    int[] images3 = { R.drawable.a3, R.drawable.b3, R.drawable.c3, R.drawable.d3, R.drawable.e3, R.drawable.f3 };\r\n    private int[] sounds = { R.raw.sound1, R.raw.sound2, R.raw.sound3, R.raw.sound4, R.raw.sound5, R.raw.sound6,  };\r\n    private int mysound = 0;\r\n    private int[] sounds2 = { R.raw.sound1a, R.raw.sound2a, R.raw.sound3a,R.raw.sound4a, R.raw.sound5a, R.raw.sound6a,  };\r\n    private int mysound2 = 0;\r\n\tMediaPlayer mp;\r\n\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_aplhascreen);\r\n\r\n        MainImage = (ImageButton) findViewById(R.id.imageButton1);\r\n        ImageLeft = (ImageButton) findViewById(R.id.imageButton2);\r\n        ImageRight = (ImageButton) findViewById(R.id.imageButton3);\r\n        nextButton = (ImageButton) findViewById(R.id.imageButton5);\r\n\r\n        ImageLeft.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n\r\n                mp = MediaPlayer.create(Alphascreen.this, sounds[0]);\r\n                mp.start();\r\n                mysound++;\r\n\r\n                ImageRight.setOnClickListener(new View.OnClickListener() {\r\n                    @Override\r\n                    public void onClick(View v) {\r\n                    mp = MediaPlayer.create(Alphascreen.this, sounds2[0]);\r\n                        mp.start();\r\n                        mysound2++;\r\n\r\n                    }\r\n  \r\n                });\r\n        \r\n                nextButton.setOnClickListener(aButtonChangeImageListener);\r\n\r\n            }\r\n\r\n            View.OnClickListener aButtonChangeImageListener = new View.OnClickListener() {\r\n\r\n                public void onClick(View v) {\r\n                    currentImage++;\r\n                    currentImage = currentImage % images.length;\r\n                    currentImage2++;\r\n                    currentImage2 = currentImage2 % images.length;\r\n                    currentImage3++;\r\n                    currentImage3 = currentImage3 % images.length;\r\n                   mysound++;\r\n                    mysound = mysound % sounds.length;\r\n                   mysound2++;\r\n                   mysound2 = mysound2 % sounds2.length;\r\n\r\n                    MainImage.setImageResource(images[currentImage]);\r\n                    ImageLeft.setImageResource(images2[currentImage2]);\r\n                    ImageRight.setImageResource(images3[currentImage3]);\r\n\r\n                }\r\n            };\r\n        });\r\n    }}","title":"Image and sound in Array change by clicking on next button in Android","body":"<p>EDIT- I found the solution for the issue \nI put mysound++;  View.OnClickListener aButtonChangeImageListener = new View.OnClickListener(      </p>\n\n<p>I have app with array of pictures and sounds. When user click next button the pictures change to next one. The problem I have is that I can't change the sound to the next one as well. The app is playing the first sound all the time or it plays all sounds from array.\nI need to have the sound changes to next one after next button is clicked to reflect picture change. Example: picture a1 = sound1, picture a2 = sound2.</p>\n\n<p>private ImageButton MainImage, ImageLeft, ImageRight;\n    private ImageButton nextButton;</p>\n\n<pre><code>private int currentImage = 0;\nint[] images = { R.drawable.a1, R.drawable.b1, R.drawable.c1, R.drawable.d1, R.drawable.e1, R.drawable.f1 };\nprivate int currentImage2 = 0;\nint[] images2 = { R.drawable.a2, R.drawable.b2, R.drawable.c2, R.drawable.d2, R.drawable.e2, R.drawable.f2 };\nprivate int currentImage3 = 0;\nint[] images3 = { R.drawable.a3, R.drawable.b3, R.drawable.c3, R.drawable.d3, R.drawable.e3, R.drawable.f3 };\nprivate int[] sounds = { R.raw.sound1, R.raw.sound2, R.raw.sound3, R.raw.sound4, R.raw.sound5, R.raw.sound6,  };\nprivate int mysound = 0;\nprivate int[] sounds2 = { R.raw.sound1a, R.raw.sound2a, R.raw.sound3a,R.raw.sound4a, R.raw.sound5a, R.raw.sound6a,  };\nprivate int mysound2 = 0;\nMediaPlayer mp;\n\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_aplhascreen);\n\n    MainImage = (ImageButton) findViewById(R.id.imageButton1);\n    ImageLeft = (ImageButton) findViewById(R.id.imageButton2);\n    ImageRight = (ImageButton) findViewById(R.id.imageButton3);\n    nextButton = (ImageButton) findViewById(R.id.imageButton5);\n\n    ImageLeft.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n\n            mp = MediaPlayer.create(Alphascreen.this, sounds[0]);\n            mp.start();\n            mysound++;\n\n            ImageRight.setOnClickListener(new View.OnClickListener() {\n                @Override\n                public void onClick(View v) {\n                mp = MediaPlayer.create(Alphascreen.this, sounds2[0]);\n                    mp.start();\n                    mysound2++;\n\n                }\n\n            });\n\n            nextButton.setOnClickListener(aButtonChangeImageListener);\n\n        }\n\n        View.OnClickListener aButtonChangeImageListener = new View.OnClickListener() {\n\n            public void onClick(View v) {\n                currentImage++;\n                currentImage = currentImage % images.length;\n                currentImage2++;\n                currentImage2 = currentImage2 % images.length;\n                currentImage3++;\n                currentImage3 = currentImage3 % images.length;\n               mysound++;\n                mysound = mysound % sounds.length;\n               mysound2++;\n               mysound2 = mysound2 % sounds2.length;\n\n                MainImage.setImageResource(images[currentImage]);\n                ImageLeft.setImageResource(images2[currentImage2]);\n                ImageRight.setImageResource(images3[currentImage3]);\n\n            }\n        };\n    });\n}}\n</code></pre>\n"},{"tags":["java","tomcat","websocket"],"comments":[{"owner":{"account_id":1342190,"reputation":66,"user_id":1283662,"display_name":"Remo"},"score":0,"creation_date":1591557710,"post_id":51244136,"comment_id":110095532,"body_markdown":"I&#39;m facing a similar issue. Seems like this isn&#39;t easily possible. In Tomcat&#39;s WsWebSocketContainer `setEndpointIdentificationAlgorithm(&quot;HTTPS&quot;);` will enable hostname verification: https://github.com/apache/tomcat/blob/7ce16dd575d34657b3f8b23c816bac9a871a0162/java/org/apache/tomcat/websocket/WsWebSocketContainer.java#L942","body":"I&#39;m facing a similar issue. Seems like this isn&#39;t easily possible. In Tomcat&#39;s WsWebSocketContainer <code>setEndpointIdentificationAlgorithm(&quot;HTTPS&quot;);</code> will enable hostname verification: <a href=\"https://github.com/apache/tomcat/blob/7ce16dd575d34657b3f8b23c816bac9a871a0162/java/org/apache/tomcat/websocket/WsWebSocketContainer.java#L942\" rel=\"nofollow noreferrer\">github.com/apache/tomcat/blob/&hellip;</a>"},{"owner":{"account_id":3039577,"reputation":56,"user_id":2576923,"display_name":"zoesnape"},"score":0,"creation_date":1685075992,"post_id":51244136,"comment_id":134613508,"body_markdown":"I&#39;m running into the same issue trying to upgrade to Tomcat 9. Did anyone ever find a workaround?","body":"I&#39;m running into the same issue trying to upgrade to Tomcat 9. Did anyone ever find a workaround?"}],"answers":[{"tags":[],"owner":{"account_id":3039577,"reputation":56,"user_id":2576923,"display_name":"zoesnape"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685120582,"creation_date":1685120582,"answer_id":76342947,"question_id":51244136,"body_markdown":"I asked on the Tomcat users list (https://lists.apache.org/thread/1x6x6hqzj8ggv408y0r2bkcp6k4hqz1t) and confirmed X509ExtendedTrustManager is the way to go. There isn&#39;t a &quot;nice&quot;/intuitive override here like the HostnameVerifier option for HttpsUrlConnection, but this is what I got working:\r\n\r\n    private static class BypassHostnameVerificationTrustManager extends X509ExtendedTrustManager {\r\n      private final X509ExtendedTrustManager m_realTrustManager;\r\n  \r\n      /**\r\n       * @param realManager Instance of a legitimate X509ExtendedTrustManager provided by JSSE to delegate real\r\n       * security work to\r\n       */\r\n      public BypassHostnameVerificationTrustManager(X509ExtendedTrustManager realManager) {\r\n        super();\r\n        m_realTrustManager = realManager;\r\n      }\r\n  \r\n      @Override\r\n      public void checkServerTrusted(X509Certificate[] x509Certificates, String s, SSLEngine sslEngine) throws CertificateException {\r\n        try {\r\n          m_realTrustManager.checkServerTrusted(x509Certificates, s, sslEngine);\r\n        } catch (CertificateException e) {\r\n          String errMsg = e.getMessage();\r\n          if (StringUtils.equals(errMsg, &quot;No subject alternative names present&quot;)) {\r\n            s_log.warn(&quot;Suppressing hostname verification exception: {}&quot;, e.getMessage());\r\n            return;\r\n          }\r\n          String peerHost = sslEngine.getPeerHost();\r\n          if (InetAddresses.isInetAddress(peerHost)) {\r\n            String expectedError = String.format(&quot;No subject alternative names matching IP address %s found&quot;, peerHost);\r\n            if (StringUtils.equals(errMsg, expectedError)) {\r\n              s_log.info(&quot;Suppressing hostname verification exception: {}&quot;, e.getMessage());\r\n              return;\r\n            }\r\n          }\r\n          throw e;\r\n        }\r\n      }\r\n  \r\n      @Override\r\n      public void checkServerTrusted(X509Certificate[] x509Certificates, String s, Socket socket) throws CertificateException {\r\n        m_realTrustManager.checkServerTrusted(x509Certificates, s, socket);\r\n      }\r\n  \r\n      @Override\r\n      public void checkServerTrusted(X509Certificate[] x509Certificates, String s) throws CertificateException {\r\n        m_realTrustManager.checkServerTrusted(x509Certificates, s);\r\n      }\r\n  \r\n      @Override\r\n      public void checkClientTrusted(X509Certificate[] x509Certificates, String s, Socket socket) throws CertificateException {\r\n        m_realTrustManager.checkClientTrusted(x509Certificates, s, socket);\r\n      }\r\n  \r\n      @Override\r\n      public void checkClientTrusted(X509Certificate[] x509Certificates, String s, SSLEngine sslEngine) throws CertificateException {\r\n        m_realTrustManager.checkClientTrusted(x509Certificates, s, sslEngine);\r\n      }\r\n  \r\n      @Override\r\n      public void checkClientTrusted(X509Certificate[] x509Certificates, String s) throws CertificateException {\r\n        m_realTrustManager.checkClientTrusted(x509Certificates, s);\r\n      }\r\n  \r\n      @Override\r\n      public X509Certificate[] getAcceptedIssuers() {\r\n        return m_realTrustManager.getAcceptedIssuers();\r\n      }\r\n    }\r\n\r\nWould be happy to hear if someone has a less hacky approach though...","title":"Tomcat Websocket disable hostname verification","body":"<p>I asked on the Tomcat users list (<a href=\"https://lists.apache.org/thread/1x6x6hqzj8ggv408y0r2bkcp6k4hqz1t\" rel=\"nofollow noreferrer\">https://lists.apache.org/thread/1x6x6hqzj8ggv408y0r2bkcp6k4hqz1t</a>) and confirmed X509ExtendedTrustManager is the way to go. There isn't a &quot;nice&quot;/intuitive override here like the HostnameVerifier option for HttpsUrlConnection, but this is what I got working:</p>\n<pre><code>private static class BypassHostnameVerificationTrustManager extends X509ExtendedTrustManager {\n  private final X509ExtendedTrustManager m_realTrustManager;\n\n  /**\n   * @param realManager Instance of a legitimate X509ExtendedTrustManager provided by JSSE to delegate real\n   * security work to\n   */\n  public BypassHostnameVerificationTrustManager(X509ExtendedTrustManager realManager) {\n    super();\n    m_realTrustManager = realManager;\n  }\n\n  @Override\n  public void checkServerTrusted(X509Certificate[] x509Certificates, String s, SSLEngine sslEngine) throws CertificateException {\n    try {\n      m_realTrustManager.checkServerTrusted(x509Certificates, s, sslEngine);\n    } catch (CertificateException e) {\n      String errMsg = e.getMessage();\n      if (StringUtils.equals(errMsg, &quot;No subject alternative names present&quot;)) {\n        s_log.warn(&quot;Suppressing hostname verification exception: {}&quot;, e.getMessage());\n        return;\n      }\n      String peerHost = sslEngine.getPeerHost();\n      if (InetAddresses.isInetAddress(peerHost)) {\n        String expectedError = String.format(&quot;No subject alternative names matching IP address %s found&quot;, peerHost);\n        if (StringUtils.equals(errMsg, expectedError)) {\n          s_log.info(&quot;Suppressing hostname verification exception: {}&quot;, e.getMessage());\n          return;\n        }\n      }\n      throw e;\n    }\n  }\n\n  @Override\n  public void checkServerTrusted(X509Certificate[] x509Certificates, String s, Socket socket) throws CertificateException {\n    m_realTrustManager.checkServerTrusted(x509Certificates, s, socket);\n  }\n\n  @Override\n  public void checkServerTrusted(X509Certificate[] x509Certificates, String s) throws CertificateException {\n    m_realTrustManager.checkServerTrusted(x509Certificates, s);\n  }\n\n  @Override\n  public void checkClientTrusted(X509Certificate[] x509Certificates, String s, Socket socket) throws CertificateException {\n    m_realTrustManager.checkClientTrusted(x509Certificates, s, socket);\n  }\n\n  @Override\n  public void checkClientTrusted(X509Certificate[] x509Certificates, String s, SSLEngine sslEngine) throws CertificateException {\n    m_realTrustManager.checkClientTrusted(x509Certificates, s, sslEngine);\n  }\n\n  @Override\n  public void checkClientTrusted(X509Certificate[] x509Certificates, String s) throws CertificateException {\n    m_realTrustManager.checkClientTrusted(x509Certificates, s);\n  }\n\n  @Override\n  public X509Certificate[] getAcceptedIssuers() {\n    return m_realTrustManager.getAcceptedIssuers();\n  }\n}\n</code></pre>\n<p>Would be happy to hear if someone has a less hacky approach though...</p>\n"}],"owner":{"account_id":3221993,"reputation":1728,"user_id":2719216,"accept_rate":86,"display_name":"niegus"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3010,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":1,"score":6,"last_activity_date":1685120582,"creation_date":1531134572,"question_id":51244136,"body_markdown":"I&#39;m trying to disable the hostname verification for tomcat websocket implementation, but I didn&#39;t find any example.\r\n\r\nI&#39;ve been able to disable the cert validation:\r\n\r\n    WebSocketContainer container = ContainerProvider.getWebSocketContainer();\r\n    ClientEndpointConfig config = ClientEndpointConfig.Builder.create().build();\r\n    TrustStrategy acceptingTrustStrategy = (X509Certificate[] chain, String authType) -&gt; true;\r\n    SSLContext sslContext = org.apache.http.ssl.SSLContexts.custom()\r\n                    .loadTrustMaterial(null, acceptingTrustStrategy)\r\n                    .build();\r\n            \r\n    config.getUserProperties().put(&quot;org.apache.tomcat.websocket.SSL_CONTEXT&quot;, sslContext);\r\n\r\n\r\nThe official documentation says:\r\n\r\n*For secure server end points, host name verification is enabled by default. To bypass this verification (not recommended), it is necessary to provide a custom SSLContext via the org.apache.tomcat.websocket.SSL_CONTEXT user property. The custom SSLContext must be configured with a custom TrustManager that extends javax.net.ssl.X509ExtendedTrustManager. The desired verification (or lack of verification) can then be controlled by appropriate implementations of the individual abstract methods.*\r\n\r\nhttps://tomcat.apache.org/tomcat-8.5-doc/web-socket-howto.html\r\n\r\nBut as long as I understand X509ExtendedTrustManager is used for certificate validation, not the hostname verification.\r\n\r\nCan anyone help me with it?\r\n","title":"Tomcat Websocket disable hostname verification","body":"<p>I'm trying to disable the hostname verification for tomcat websocket implementation, but I didn't find any example.</p>\n\n<p>I've been able to disable the cert validation:</p>\n\n<pre><code>WebSocketContainer container = ContainerProvider.getWebSocketContainer();\nClientEndpointConfig config = ClientEndpointConfig.Builder.create().build();\nTrustStrategy acceptingTrustStrategy = (X509Certificate[] chain, String authType) -&gt; true;\nSSLContext sslContext = org.apache.http.ssl.SSLContexts.custom()\n                .loadTrustMaterial(null, acceptingTrustStrategy)\n                .build();\n\nconfig.getUserProperties().put(\"org.apache.tomcat.websocket.SSL_CONTEXT\", sslContext);\n</code></pre>\n\n<p>The official documentation says:</p>\n\n<p><em>For secure server end points, host name verification is enabled by default. To bypass this verification (not recommended), it is necessary to provide a custom SSLContext via the org.apache.tomcat.websocket.SSL_CONTEXT user property. The custom SSLContext must be configured with a custom TrustManager that extends javax.net.ssl.X509ExtendedTrustManager. The desired verification (or lack of verification) can then be controlled by appropriate implementations of the individual abstract methods.</em></p>\n\n<p><a href=\"https://tomcat.apache.org/tomcat-8.5-doc/web-socket-howto.html\" rel=\"noreferrer\">https://tomcat.apache.org/tomcat-8.5-doc/web-socket-howto.html</a></p>\n\n<p>But as long as I understand X509ExtendedTrustManager is used for certificate validation, not the hostname verification.</p>\n\n<p>Can anyone help me with it?</p>\n"},{"tags":["java","selenium"],"comments":[{"owner":{"account_id":22890170,"reputation":161,"user_id":17030420,"display_name":"deokyong song"},"score":0,"creation_date":1646286187,"post_id":71332589,"comment_id":126086886,"body_markdown":"Unable to give you guys the site as it is private.","body":"Unable to give you guys the site as it is private."}],"answers":[{"comments":[{"owner":{"account_id":22890170,"reputation":161,"user_id":17030420,"display_name":"deokyong song"},"score":0,"creation_date":1646360346,"post_id":71335523,"comment_id":126109728,"body_markdown":"Hi Tal, This script works for me and no issue. However, is there any way to determine the element is clickable or CSS animation is finished? I test cross browser test that Chrome webdriver cannot click the element what Firefox does. Thank you Tal.","body":"Hi Tal, This script works for me and no issue. However, is there any way to determine the element is clickable or CSS animation is finished? I test cross browser test that Chrome webdriver cannot click the element what Firefox does. Thank you Tal."},{"owner":{"account_id":6990353,"reputation":1340,"user_id":5359846,"accept_rate":23,"display_name":"Tal Angel"},"score":0,"creation_date":1646392379,"post_id":71335523,"comment_id":126117179,"body_markdown":"@deokyongsong There must be a way to do this, I just don&#39;t know how. Chrome and Firefox act different in many cases.","body":"@deokyongsong There must be a way to do this, I just don&#39;t know how. Chrome and Firefox act different in many cases."}],"tags":[],"owner":{"account_id":6990353,"reputation":1340,"user_id":5359846,"accept_rate":23,"display_name":"Tal Angel"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1685120161,"creation_date":1646302952,"answer_id":71335523,"question_id":71332589,"body_markdown":"My advice is to &quot;hard-click&quot; on the element via JavaScript:\r\n\r\n    WebElement element = driver.findElement(By.id(&quot;Element&#39;s ID Goes Here&quot;));\r\n    JavascriptExecutor executor = (JavascriptExecutor)driver;\r\n    executor.executeScript(&quot;arguments[0].click();&quot;, element);\r\n","title":"How to tell the animation in Chrome browser is not in motion?","body":"<p>My advice is to &quot;hard-click&quot; on the element via JavaScript:</p>\n<pre><code>WebElement element = driver.findElement(By.id(&quot;Element's ID Goes Here&quot;));\nJavascriptExecutor executor = (JavascriptExecutor)driver;\nexecutor.executeScript(&quot;arguments[0].click();&quot;, element);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":22890170,"reputation":161,"user_id":17030420,"display_name":"deokyong song"},"score":0,"creation_date":1646360597,"post_id":71336169,"comment_id":126109763,"body_markdown":"Hi @MDelic. This script doesn&#39;t work. The moment `perform()` is not ready to click already.","body":"Hi @MDelic. This script doesn&#39;t work. The moment <code>perform()</code> is not ready to click already."},{"owner":{"account_id":24328637,"reputation":96,"user_id":18267832,"display_name":"Marko Delic"},"score":0,"creation_date":1646409490,"post_id":71336169,"comment_id":126123226,"body_markdown":"Ah fair enough. I&#39;m glad you could find the answer in Tal Angel&#39;s answer. Just for my own knowledge can you elaborate on what you mean by &quot;The moment perform() is not ready to click already.&quot;? Are you saying that the webdriver is not able to click on your element?","body":"Ah fair enough. I&#39;m glad you could find the answer in Tal Angel&#39;s answer. Just for my own knowledge can you elaborate on what you mean by &quot;The moment perform() is not ready to click already.&quot;? Are you saying that the webdriver is not able to click on your element?"},{"owner":{"account_id":22890170,"reputation":161,"user_id":17030420,"display_name":"deokyong song"},"score":0,"creation_date":1646558081,"post_id":71336169,"comment_id":126149249,"body_markdown":"Yes I am saying that. It won&#39;t be able to click the element by using perform(). My question is how to tell the page I test is ready to click as the page pops up with some shaking animation which disturbing click on it and it gives an Exception as abovementioned.","body":"Yes I am saying that. It won&#39;t be able to click the element by using perform(). My question is how to tell the page I test is ready to click as the page pops up with some shaking animation which disturbing click on it and it gives an Exception as abovementioned."},{"owner":{"account_id":22890170,"reputation":161,"user_id":17030420,"display_name":"deokyong song"},"score":0,"creation_date":1646558163,"post_id":71336169,"comment_id":126149266,"body_markdown":"Anyway, clicking the element with Javascript Executor can click what WebDriver cannot sometimes.","body":"Anyway, clicking the element with Javascript Executor can click what WebDriver cannot sometimes."}],"tags":[],"owner":{"account_id":24328637,"reputation":96,"user_id":18267832,"display_name":"Marko Delic"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646306353,"creation_date":1646305941,"answer_id":71336169,"question_id":71332589,"body_markdown":"If Tal Angel&#39;s answer doesn&#39;t work for you, try using the Actions class to move to the element&#39;s position and force a click event.\r\n\r\n    Actions actions = new Actions(driver);\r\n    actions.moveToElement(ele).click().build().perform();\r\n\r\nYou will need to import **org.openqa.selenium.interactions.Actions;** to do this.\r\n\r\n[Runnable example here][1]\r\n\r\n\r\n  [1]: https://mx1.maxtaf.com/cases/3e02ed92-e0c7-471a-b16a-4af6ac5d2205?projectId=bugtestproject2","title":"How to tell the animation in Chrome browser is not in motion?","body":"<p>If Tal Angel's answer doesn't work for you, try using the Actions class to move to the element's position and force a click event.</p>\n<pre><code>Actions actions = new Actions(driver);\nactions.moveToElement(ele).click().build().perform();\n</code></pre>\n<p>You will need to import <strong>org.openqa.selenium.interactions.Actions;</strong> to do this.</p>\n<p><a href=\"https://mx1.maxtaf.com/cases/3e02ed92-e0c7-471a-b16a-4af6ac5d2205?projectId=bugtestproject2\" rel=\"nofollow noreferrer\">Runnable example here</a></p>\n"}],"owner":{"account_id":22890170,"reputation":161,"user_id":17030420,"display_name":"deokyong song"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":105,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71335523,"answer_count":2,"score":0,"last_activity_date":1685120161,"creation_date":1646286156,"question_id":71332589,"body_markdown":"Clicking an element always ended up failure. Just found the reason is that the element is not ready to click because it comes with some shaking animation even if Explicit wait method `ExpectedConditions.elementToBeClickable(ele)` is implemented.\r\nIn debugging mode, I can click. Of course. But in run mode, no difference.\r\n\r\n`ElementClickInterceptedException` This is the exception.\r\n\r\nAny idea to tell that animation finished and actually ready to be clicked?\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/eSpWV.gif","title":"How to tell the animation in Chrome browser is not in motion?","body":"<p>Clicking an element always ended up failure. Just found the reason is that the element is not ready to click because it comes with some shaking animation even if Explicit wait method <code>ExpectedConditions.elementToBeClickable(ele)</code> is implemented.\nIn debugging mode, I can click. Of course. But in run mode, no difference.</p>\n<p><code>ElementClickInterceptedException</code> This is the exception.</p>\n<p>Any idea to tell that animation finished and actually ready to be clicked?</p>\n<p><a href=\"https://i.stack.imgur.com/eSpWV.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/eSpWV.gif\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","enums","enumeration","properties-file"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":3,"creation_date":1685107278,"post_id":76341170,"comment_id":134619286,"body_markdown":"I&#39;m not sure that I&#39;d use an enum for this but rather a Java class, with objects created from the stored data.","body":"I&#39;m not sure that I&#39;d use an enum for this but rather a Java class, with objects created from the stored data."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1685116516,"post_id":76341170,"comment_id":134621456,"body_markdown":"Do you really think that there’s any worth in mapping an error code  “MBM5269” to an error message “Errro code MBM5269” or the code “AML01” to the message “Transaction Failed”? Then, you can implement the entire `getHostErrorMsgbyCode` method like `return &quot;Something bad happened.&quot;;`","body":"Do you really think that there’s any worth in mapping an error code  “MBM5269” to an error message “Errro code MBM5269” or the code “AML01” to the message “Transaction Failed”? Then, you can implement the entire <code>getHostErrorMsgbyCode</code> method like <code>return &quot;Something bad happened.&quot;;</code>"}],"answers":[{"tags":[],"owner":{"account_id":2669818,"reputation":715,"user_id":2307460,"accept_rate":60,"display_name":"Yogesh"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1685109113,"creation_date":1685107615,"answer_id":76341258,"question_id":76341170,"body_markdown":"I think it should be stored at DB level and get once and store it in Session with proper data structure like Map, HashTable.","title":"How to store enums in external file and import in java code","body":"<p>I think it should be stored at DB level and get once and store it in Session with proper data structure like Map, HashTable.</p>\n"},{"tags":[],"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685119864,"creation_date":1685119864,"answer_id":76342879,"question_id":76341170,"body_markdown":"I can see that you are trying to model error codes with enums, and it is failing because you have so many error codes that Java cannot handle modeling them as an enum. In response to that problem, you are trying to de/serialize error codes into enums, but running into the exact same issue again.\r\n\r\nHere is the simple fact -- Java has a limit of ~2.6k enum values ***THAT CONTAIN STATE*** before it goes pop. If you have more enum values ***THAT CONTAIN STATE*** than ~2.6k, then enums are not going to be a good solution. You need to do something else.\r\n\r\nWhat you are trying to do is currently ***impossible in Java*** with enums.","title":"How to store enums in external file and import in java code","body":"<p>I can see that you are trying to model error codes with enums, and it is failing because you have so many error codes that Java cannot handle modeling them as an enum. In response to that problem, you are trying to de/serialize error codes into enums, but running into the exact same issue again.</p>\n<p>Here is the simple fact -- Java has a limit of ~2.6k enum values <em><strong>THAT CONTAIN STATE</strong></em> before it goes pop. If you have more enum values <em><strong>THAT CONTAIN STATE</strong></em> than ~2.6k, then enums are not going to be a good solution. You need to do something else.</p>\n<p>What you are trying to do is currently <em><strong>impossible in Java</strong></em> with enums.</p>\n"}],"owner":{"account_id":28686063,"reputation":1,"user_id":21966319,"display_name":"Gugan A R"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1685119864,"creation_date":1685107012,"question_id":76341170,"body_markdown":"How to store enum in separate file and import in java code. In the following code I have created enum for hostMessages. In that, it has more than 3000 errorcodes. So it is failing to compile. So I am trying to store it externally and call it while runtime. \r\n\r\n\r\n\r\nThe following code is working fine with less number of error codes. But for 3000 error codes it is failing to compile.\r\n\r\n```\r\npublic class HostErrorMessages {\r\n\r\n\tpublic static enum HostMessages {\r\n\t\r\n\t\tER_1001(1001, &quot;MBM5269&quot;,\r\n\t\t\t\t&quot;Errro code MBM5269&quot;), ER_3045(3045,\r\n\t\t\t\t&quot;AML01&quot;, &quot;Transaction Failed&quot;);\r\n\r\n\t\tprivate Object errorCode;\r\n\t\tprivate String hostCode;\r\n\t\tprivate String errMsg;\r\n\r\n\t\tHostMessages(Object errorCode, String hostCode, String msg) {\r\n\t\t\tthis.errorCode = errorCode;\r\n\t\t\tthis.hostCode = hostCode;\r\n\t\t\tthis.errMsg = msg;\r\n\t\t}\r\n\t}\r\n\r\n\tpublic static String getHostErrorMsgbyCode(String code) {\r\n\t\tString result = &quot;&quot;;\r\n\t\tfor (HostMessages em : HostMessages.values()) {\r\n\t\t\tif (em.hostCode.equalsIgnoreCase(code)) {\r\n\t\t\t\tresult = em.errMsg;\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn result;\r\n\t}\r\n}\r\n```\r\n","title":"How to store enums in external file and import in java code","body":"<p>How to store enum in separate file and import in java code. In the following code I have created enum for hostMessages. In that, it has more than 3000 errorcodes. So it is failing to compile. So I am trying to store it externally and call it while runtime.</p>\n<p>The following code is working fine with less number of error codes. But for 3000 error codes it is failing to compile.</p>\n<pre><code>public class HostErrorMessages {\n\n    public static enum HostMessages {\n    \n        ER_1001(1001, &quot;MBM5269&quot;,\n                &quot;Errro code MBM5269&quot;), ER_3045(3045,\n                &quot;AML01&quot;, &quot;Transaction Failed&quot;);\n\n        private Object errorCode;\n        private String hostCode;\n        private String errMsg;\n\n        HostMessages(Object errorCode, String hostCode, String msg) {\n            this.errorCode = errorCode;\n            this.hostCode = hostCode;\n            this.errMsg = msg;\n        }\n    }\n\n    public static String getHostErrorMsgbyCode(String code) {\n        String result = &quot;&quot;;\n        for (HostMessages em : HostMessages.values()) {\n            if (em.hostCode.equalsIgnoreCase(code)) {\n                result = em.errMsg;\n                break;\n            }\n        }\n        return result;\n    }\n}\n</code></pre>\n"},{"tags":["java","recursion","big-o"],"comments":[{"owner":{"account_id":4205035,"reputation":1690,"user_id":3444205,"display_name":"Andr&#233;s Alcarraz"},"score":0,"creation_date":1685118404,"post_id":76342455,"comment_id":134621824,"body_markdown":"It looks more like O(3^n) than O(n^3). In each recursion step, it calls itself 3 times. T(n) = 3 T(n-1), since it multiplies by 3 in each step, the order would be O(3^n).","body":"It looks more like O(3^n) than O(n^3). In each recursion step, it calls itself 3 times. T(n) = 3 T(n-1), since it multiplies by 3 in each step, the order would be O(3^n)."}],"answers":[{"tags":[],"owner":{"account_id":4205035,"reputation":1690,"user_id":3444205,"display_name":"Andr&#233;s Alcarraz"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685119039,"creation_date":1685119039,"answer_id":76342783,"question_id":76342455,"body_markdown":"In each recursion step, the function calls itself three times, while reducing the index by substracting constant values.\r\n\r\nTime for `index = n` would be:\r\n```\r\nT(n) = 3*T(n-1) = 3*3 T(n-2) ... ≅ 3*3...*3 T(0) = 3^n * T(0)\r\n```\r\n\r\nWhich is exponential with base 3: O(3^n).","title":"Calculate the time complexity of recursion function","body":"<p>In each recursion step, the function calls itself three times, while reducing the index by substracting constant values.</p>\n<p>Time for <code>index = n</code> would be:</p>\n<pre><code>T(n) = 3*T(n-1) = 3*3 T(n-2) ... ≅ 3*3...*3 T(0) = 3^n * T(0)\n</code></pre>\n<p>Which is exponential with base 3: O(3^n).</p>\n"}],"owner":{"account_id":23804163,"reputation":1,"user_id":17813935,"display_name":"computer science"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1685119633,"answer_count":1,"score":0,"last_activity_date":1685119039,"creation_date":1685116734,"question_id":76342455,"body_markdown":"I am seeking assistance in determining the time complexity of a given source code, which appears to be of the order O(n^3). Could someone kindly assist me in evaluating its time complexity?:\r\n```\r\npublic static int function(int[] arr, int index) {\r\n\r\n\t\tif (index &lt;= 0) {\r\n\t\t\treturn arr[0];\r\n\t\t}\r\n\r\n\t\tint one = function(arr, index - 1);\r\n\t\tint two = function(arr, index - 2);\r\n\t\tint three = function(arr, index - 4);\r\n\r\n\t\tif (one &gt; two) {\r\n\t\t\treturn one;\r\n\t\t} else if (two &gt; three) {\r\n\t\t\treturn three;\r\n\t\t} else {\r\n\t\t\treturn one;\r\n\t\t}\r\n\t}\r\n```\r\nI expecting that the time complexity is o(n^3)","title":"Calculate the time complexity of recursion function","body":"<p>I am seeking assistance in determining the time complexity of a given source code, which appears to be of the order O(n^3). Could someone kindly assist me in evaluating its time complexity?:</p>\n<pre><code>public static int function(int[] arr, int index) {\n\n        if (index &lt;= 0) {\n            return arr[0];\n        }\n\n        int one = function(arr, index - 1);\n        int two = function(arr, index - 2);\n        int three = function(arr, index - 4);\n\n        if (one &gt; two) {\n            return one;\n        } else if (two &gt; three) {\n            return three;\n        } else {\n            return one;\n        }\n    }\n</code></pre>\n<p>I expecting that the time complexity is o(n^3)</p>\n"},{"tags":["java","apache-poi","jax-rs","pom.xml"],"comments":[{"owner":{"account_id":26780105,"reputation":294,"user_id":20375079,"display_name":"Seb Perp"},"score":3,"creation_date":1685139192,"post_id":76342071,"comment_id":134624905,"body_markdown":"Could you please provide the full stacktrace ?","body":"Could you please provide the full stacktrace ?"},{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":3,"creation_date":1685165374,"post_id":76342071,"comment_id":134626581,"body_markdown":"The `poi-ooxml-5.2.2.jar` contains that class. A `NoClassDefFoundError` often occurs when a class was found on compile time but not on run time. So I suspect the  `poi-ooxml-5.2.2.jar`  is not on class path while run time.","body":"The <code>poi-ooxml-5.2.2.jar</code> contains that class. A <code>NoClassDefFoundError</code> often occurs when a class was found on compile time but not on run time. So I suspect the  <code>poi-ooxml-5.2.2.jar</code>  is not on class path while run time."}],"owner":{"account_id":11901859,"reputation":4173,"user_id":8709603,"display_name":"Charith Jayasanka"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1027,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685118489,"creation_date":1685113756,"question_id":76342071,"body_markdown":"I&#39;m getting the following error on my JAX-RS app\r\n\r\n    java.lang.NoClassDefFoundError: Could not initialize class org.apache.poi.xssf.model.SharedStringsTable\r\n\r\nI think I&#39;m getting the error on this line\r\n\r\n    \t\t\tXSSFWorkbook workbook = new XSSFWorkbook();\r\n\r\nI have the following libraries on the libs folder\r\n\r\n    poi-5.2.2.jar\r\n    poi-ooxml-5.2.2.jar\r\n    poi-ooxml-lite-5.2.2.jar\r\n    poi-scratchpad-5.2.2.jar\r\n\r\nI&#39;m running this application on Tomcat 9 on Java 11. Please advice to resolve this issue if possible","title":"Could not initialize class org.apache.poi.xssf.model.SharedStringsTable Error when using Apache Poi","body":"<p>I'm getting the following error on my JAX-RS app</p>\n<pre><code>java.lang.NoClassDefFoundError: Could not initialize class org.apache.poi.xssf.model.SharedStringsTable\n</code></pre>\n<p>I think I'm getting the error on this line</p>\n<pre><code>            XSSFWorkbook workbook = new XSSFWorkbook();\n</code></pre>\n<p>I have the following libraries on the libs folder</p>\n<pre><code>poi-5.2.2.jar\npoi-ooxml-5.2.2.jar\npoi-ooxml-lite-5.2.2.jar\npoi-scratchpad-5.2.2.jar\n</code></pre>\n<p>I'm running this application on Tomcat 9 on Java 11. Please advice to resolve this issue if possible</p>\n"},{"tags":["java","xml","jackson"],"answers":[{"comments":[{"owner":{"account_id":6223505,"reputation":1464,"user_id":4842504,"accept_rate":83,"display_name":"Sirmyself"},"score":0,"creation_date":1685118162,"post_id":76342671,"comment_id":134621771,"body_markdown":"awesome, that&#39;s what I was thinking, but I was still not sure. thanks","body":"awesome, that&#39;s what I was thinking, but I was still not sure. thanks"},{"owner":{"account_id":529122,"reputation":158120,"user_id":415448,"accept_rate":33,"display_name":"Michael Kay"},"score":0,"creation_date":1685174586,"post_id":76342671,"comment_id":134627252,"body_markdown":"Many tools DO escape `&gt;`, but it actually only needs to be escaped when it is part of the sequence `]]&gt;`.","body":"Many tools DO escape <code>&gt;</code>, but it actually only needs to be escaped when it is part of the sequence <code>]]&gt;</code>."}],"tags":[],"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1685118093,"creation_date":1685118093,"answer_id":76342671,"question_id":76342593,"body_markdown":"If it could cause a problem Jackson, or any other proper XML library, would have escaped it. The greater-than character doesn&#39;t need escaping in XML. The less-than character on the other hand could be interpreted as opening an element, so it needs escaping.","title":"XmlMapper not escaping the greater-than character, but does escape the rest","body":"<p>If it could cause a problem Jackson, or any other proper XML library, would have escaped it. The greater-than character doesn't need escaping in XML. The less-than character on the other hand could be interpreted as opening an element, so it needs escaping.</p>\n"}],"owner":{"account_id":6223505,"reputation":1464,"user_id":4842504,"accept_rate":83,"display_name":"Sirmyself"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":120,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1685118236,"creation_date":1685117498,"question_id":76342593,"body_markdown":"I&#39;m using Jackson to serialize a POJO into an XML string. Here&#39;s an example of the object I&#39;m trying to serialize\r\n\r\n```\r\n\r\n//A container class `container`\r\npublic class ContainerClass{\r\n    @JacksonXmlProperty(localName = &quot;ListOfItems&quot;)\r\n    private List&lt;Item&gt; list;\r\n}\r\n\r\n\r\n//The class of the Object that&#39;s causing the issue\r\npublic class Item {\r\n    private String Value;\r\n    private EnumOfItemTypes ItemType; //enum has @JsonProperty() for each value\r\n\r\n    public Item() {\r\n        //Here&#39;s an example of the text contained in `value`\r\n        this.value = &quot;&lt;&lt;some place holder&gt;&gt; that uses &quot; + \r\n                     &quot;reserved xml characters &amp; is actually &quot; +\r\n                     &quot;what is causing the problem&quot;;\r\n        this.ItemType = EnumOfItemTypes.100;\r\n    }\r\n}\r\n```\r\n\r\n## Problem\r\nI am using this code here to serialize the object into an XML:\r\n```\r\nimport com.fasterxml.jackson.databind.ObjectMapper;\r\nimport com.fasterxml.jackson.dataformat.xml.XmlMapper;\r\n\r\npublic class main {\r\n    SomeClass rootObject = new SomeClass();\r\n    //bla bla, initialize rootObject with above value in a Container object\r\n\r\n    XmlMapper xmlMapper = XmlMapper.builder().defaultUseWrapper(false).build();\r\n    String dataXML = xmlMapper.writerWithDefaultPrettyPrinter().writeValueAsString(rootObject);\r\n    system.out.println(dataXML);\r\n}\r\n\r\n```\r\n\r\nRight now, the output I get looks something like this:\r\n```\r\n&lt;rootObject&gt;\r\n    &lt;container&gt;\r\n        &lt;Value&gt;\r\n            &amp;lt;&amp;lt;some place holder&gt;&gt; that uses reserved \r\n            xml characters &amp;amp; is actually what is causing the problem\r\n        &lt;/Value&gt;\r\n        &lt;ItemType&gt;\r\n            100\r\n        &lt;/ItemType&gt;\r\n    &lt;/container&gt;\r\n&lt;/rootObject&gt;\r\n```\r\n\r\nSo both the ampersand and the lesser-than characters are escaped, but not the greater-than characters\r\n\r\n## Questions\r\nIn XML, if no tag is opened with `&lt;`, is it technically okay for `&gt;` to be a part of the value?\r\n\r\nIf it ***may*** cause a problem, I&#39;d much rather being able to force Jackson to also escape the `&gt;` character, so how can I do that?","title":"XmlMapper not escaping the greater-than character, but does escape the rest","body":"<p>I'm using Jackson to serialize a POJO into an XML string. Here's an example of the object I'm trying to serialize</p>\n<pre><code>\n//A container class `container`\npublic class ContainerClass{\n    @JacksonXmlProperty(localName = &quot;ListOfItems&quot;)\n    private List&lt;Item&gt; list;\n}\n\n\n//The class of the Object that's causing the issue\npublic class Item {\n    private String Value;\n    private EnumOfItemTypes ItemType; //enum has @JsonProperty() for each value\n\n    public Item() {\n        //Here's an example of the text contained in `value`\n        this.value = &quot;&lt;&lt;some place holder&gt;&gt; that uses &quot; + \n                     &quot;reserved xml characters &amp; is actually &quot; +\n                     &quot;what is causing the problem&quot;;\n        this.ItemType = EnumOfItemTypes.100;\n    }\n}\n</code></pre>\n<h2>Problem</h2>\n<p>I am using this code here to serialize the object into an XML:</p>\n<pre><code>import com.fasterxml.jackson.databind.ObjectMapper;\nimport com.fasterxml.jackson.dataformat.xml.XmlMapper;\n\npublic class main {\n    SomeClass rootObject = new SomeClass();\n    //bla bla, initialize rootObject with above value in a Container object\n\n    XmlMapper xmlMapper = XmlMapper.builder().defaultUseWrapper(false).build();\n    String dataXML = xmlMapper.writerWithDefaultPrettyPrinter().writeValueAsString(rootObject);\n    system.out.println(dataXML);\n}\n\n</code></pre>\n<p>Right now, the output I get looks something like this:</p>\n<pre><code>&lt;rootObject&gt;\n    &lt;container&gt;\n        &lt;Value&gt;\n            &amp;lt;&amp;lt;some place holder&gt;&gt; that uses reserved \n            xml characters &amp;amp; is actually what is causing the problem\n        &lt;/Value&gt;\n        &lt;ItemType&gt;\n            100\n        &lt;/ItemType&gt;\n    &lt;/container&gt;\n&lt;/rootObject&gt;\n</code></pre>\n<p>So both the ampersand and the lesser-than characters are escaped, but not the greater-than characters</p>\n<h2>Questions</h2>\n<p>In XML, if no tag is opened with <code>&lt;</code>, is it technically okay for <code>&gt;</code> to be a part of the value?</p>\n<p>If it <em><strong>may</strong></em> cause a problem, I'd much rather being able to force Jackson to also escape the <code>&gt;</code> character, so how can I do that?</p>\n"},{"tags":["java","javafx","row","gridpane"],"comments":[{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1685085019,"post_id":76338383,"comment_id":134614679,"body_markdown":"As an aside, in case there&#39;s any confusion, the `TextArea.prefRowCount` property has nothing to do with how many rows of the `GridPane` the `TextArea` will span. That property tells the `TextArea` how to compute its preferred height based on the font. So, `analysis.setPrefRowCount(4)` is telling the `TextArea` to _preferably_ size itself to accommodate four rows of _text_ (though it may be smaller or bigger depending on its min/max height and on the parent layout).","body":"As an aside, in case there&#39;s any confusion, the <code>TextArea.prefRowCount</code> property has nothing to do with how many rows of the <code>GridPane</code> the <code>TextArea</code> will span. That property tells the <code>TextArea</code> how to compute its preferred height based on the font. So, <code>analysis.setPrefRowCount(4)</code> is telling the <code>TextArea</code> to <i>preferably</i> size itself to accommodate four rows of <i>text</i> (though it may be smaller or bigger depending on its min/max height and on the parent layout)."},{"owner":{"account_id":12719792,"reputation":3,"user_id":9240628,"display_name":"Jacob J."},"score":0,"creation_date":1685085705,"post_id":76338383,"comment_id":134614808,"body_markdown":"Thank you very much. I wasn&#39;t aware ```setPrefRowCount()``` relates to the text.","body":"Thank you very much. I wasn&#39;t aware <code>setPrefRowCount()</code> relates to the text."},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1685086769,"post_id":76338383,"comment_id":134614963,"body_markdown":"_wasn&#39;t aware setPrefRowCount() relates to the text_ - what else could it possibly relate to, given it&#39;s api of textarea? Make sure you study the javadoc of each and every method you use!","body":"<i>wasn&#39;t aware setPrefRowCount() relates to the text</i> - what else could it possibly relate to, given it&#39;s api of textarea? Make sure you study the javadoc of each and every method you use!"}],"answers":[{"comments":[{"owner":{"account_id":12719792,"reputation":3,"user_id":9240628,"display_name":"Jacob J."},"score":0,"creation_date":1685097635,"post_id":76338944,"comment_id":134617310,"body_markdown":"Thank you very much for your help and for posting the image. You are right, I made it too complicated.\nYour remark regarding the ```ComboBox``` is also true. I will try to be more careful when posting code next time.\nGreetings to Israel from Austria :)","body":"Thank you very much for your help and for posting the image. You are right, I made it too complicated. Your remark regarding the <code>ComboBox</code> is also true. I will try to be more careful when posting code next time. Greetings to Israel from Austria :)"}],"tags":[],"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1685089027,"creation_date":1685089027,"answer_id":76338944,"question_id":76338383,"body_markdown":"You seem to be making this more complicated than it needs to be. Each cell in `GridPane` will be sized to accomodate the `Node` it contains, as stated in the class [documentation][1]:\r\n&gt; By default, rows and columns will be sized to fit their content; a column will be wide enough to accommodate the widest child, a row tall enough to fit the tallest child.\r\n\r\nSo all you need do is explicitly set the row span for [`TextArea`] `analysis` to 2 (two).  \r\nConsider the following code:  \r\n(Note that the actual contents of the `ComboBox` is irrelevant to your question so the below code does not populate the `ComboBox`. Besides, your question doesn&#39;t contain the code for method `fillComboBox` anyway.)\r\n```java\r\nimport javafx.application.Application;\r\nimport javafx.geometry.Insets;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.control.*;\r\nimport javafx.scene.layout.*;\r\nimport javafx.stage.Stage;\r\n\r\npublic class HelloApplication extends Application {\r\n    private ComboBox&lt;Integer&gt; comboBox;\r\n    private TextArea paliVerse;\r\n    private TextArea paliVerseGER;\r\n    private TextArea analysis;\r\n\r\n    public static void main(String[] args) {\r\n        launch(args);\r\n    }\r\n\r\n    @Override\r\n    public void start(Stage stage) {\r\n        comboBox = new ComboBox&lt;&gt;();\r\n        paliVerse = new TextArea();\r\n        paliVerseGER = new TextArea();\r\n        analysis = new TextArea();\r\n        GridPane gridPane = new GridPane();\r\n        gridPane.setPadding(new Insets(10));\r\n        gridPane.setHgap(10);\r\n        gridPane.setVgap(10);\r\n        gridPane.add(new Label(&quot;Vers Nummer:&quot;), 0, 0);\r\n        gridPane.add(comboBox, 1, 0);\r\n        gridPane.add(new Label(&quot;Palitext:&quot;), 0, 1);\r\n        gridPane.add(paliVerse, 1, 1);\r\n        gridPane.add(new Label(&quot;&#220;bersetzung Deutsch:&quot;), 0, 2);\r\n        gridPane.add(paliVerseGER, 1, 2);\r\n        gridPane.add(new Label(&quot;Analyse:&quot;), 2, 0);\r\n        gridPane.add(analysis, 2, 1, 1, 2);\r\n        Scene scene = new Scene(gridPane, 1200, 400);\r\n\r\n        // Zeige das Hauptfenster an\r\n        stage.setTitle(&quot;Dhammapada Reader&quot;);\r\n        stage.setScene(scene);\r\n        stage.show();\r\n    }\r\n}\r\n```\r\nThis is how it looks:\r\n\r\n[![screen capture][2]][2]\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/javafx/api/javafx/scene/layout/GridPane.html\r\n  [2]: https://i.stack.imgur.com/YVWAh.png","title":"JavaFX GridPane fixed row size","body":"<p>You seem to be making this more complicated than it needs to be. Each cell in <code>GridPane</code> will be sized to accomodate the <code>Node</code> it contains, as stated in the class <a href=\"https://docs.oracle.com/javase/8/javafx/api/javafx/scene/layout/GridPane.html\" rel=\"nofollow noreferrer\">documentation</a>:</p>\n<blockquote>\n<p>By default, rows and columns will be sized to fit their content; a column will be wide enough to accommodate the widest child, a row tall enough to fit the tallest child.</p>\n</blockquote>\n<p>So all you need do is explicitly set the row span for [<code>TextArea</code>] <code>analysis</code> to 2 (two).<br />\nConsider the following code:<br />\n(Note that the actual contents of the <code>ComboBox</code> is irrelevant to your question so the below code does not populate the <code>ComboBox</code>. Besides, your question doesn't contain the code for method <code>fillComboBox</code> anyway.)</p>\n<pre class=\"lang-java prettyprint-override\"><code>import javafx.application.Application;\nimport javafx.geometry.Insets;\nimport javafx.scene.Scene;\nimport javafx.scene.control.*;\nimport javafx.scene.layout.*;\nimport javafx.stage.Stage;\n\npublic class HelloApplication extends Application {\n    private ComboBox&lt;Integer&gt; comboBox;\n    private TextArea paliVerse;\n    private TextArea paliVerseGER;\n    private TextArea analysis;\n\n    public static void main(String[] args) {\n        launch(args);\n    }\n\n    @Override\n    public void start(Stage stage) {\n        comboBox = new ComboBox&lt;&gt;();\n        paliVerse = new TextArea();\n        paliVerseGER = new TextArea();\n        analysis = new TextArea();\n        GridPane gridPane = new GridPane();\n        gridPane.setPadding(new Insets(10));\n        gridPane.setHgap(10);\n        gridPane.setVgap(10);\n        gridPane.add(new Label(&quot;Vers Nummer:&quot;), 0, 0);\n        gridPane.add(comboBox, 1, 0);\n        gridPane.add(new Label(&quot;Palitext:&quot;), 0, 1);\n        gridPane.add(paliVerse, 1, 1);\n        gridPane.add(new Label(&quot;Übersetzung Deutsch:&quot;), 0, 2);\n        gridPane.add(paliVerseGER, 1, 2);\n        gridPane.add(new Label(&quot;Analyse:&quot;), 2, 0);\n        gridPane.add(analysis, 2, 1, 1, 2);\n        Scene scene = new Scene(gridPane, 1200, 400);\n\n        // Zeige das Hauptfenster an\n        stage.setTitle(&quot;Dhammapada Reader&quot;);\n        stage.setScene(scene);\n        stage.show();\n    }\n}\n</code></pre>\n<p>This is how it looks:</p>\n<p><a href=\"https://i.stack.imgur.com/YVWAh.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YVWAh.png\" alt=\"screen capture\" /></a></p>\n"}],"owner":{"account_id":12719792,"reputation":3,"user_id":9240628,"display_name":"Jacob J."},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":76338944,"answer_count":1,"score":-1,"last_activity_date":1685117724,"creation_date":1685084763,"question_id":76338383,"body_markdown":"I am working on a grammar analysis program. I am using a `GridPane` and have three `TextArea`s so far. The `TextArea` `paliVerse` should span over two rows; the `TextArea` `analysis` over four. However, when I change the `TextArea` `analysis` with\r\n\r\n    gridPane.add(analysis,2,1,4,1);\r\n    analysis.setPrefRowCount(4);\r\n\r\nthe `TextArea` `paliVerse` also spans over rows, even though the `PrefRowCount` is 2:\r\n\r\n[![current][1]][1]\r\n\r\nHow can I change this so that it looks like:\r\n\r\n[![desired][2]][2]\r\n\r\nThis is the relevant code:\r\n\r\n```\r\npackage com.example.projektver180523;\r\n\r\nimport java.sql.*;\r\n\r\nimport javafx.application.Application;\r\nimport javafx.geometry.Insets;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.control.*;\r\nimport javafx.scene.layout.*;\r\nimport javafx.stage.Stage;\r\n\r\npublic class HelloApplication extends Application {\r\n    private ComboBox&lt;Integer&gt; comboBox;\r\n    private TextArea paliVerse;\r\n    private TextArea paliVerseGER;\r\n    private TextArea analysis;\r\n\r\n    public static void main(String[] args) {\r\n        launch(args);\r\n    }\r\n\r\n    @Override\r\n    public void start(Stage stage) throws SQLException {\r\n\r\n        // Erstelle die ComboBox\r\n        comboBox = new ComboBox&lt;&gt;();\r\n\r\n        // F&#252;lle die ComboBox automatisch\r\n        fillComboBox();\r\n\r\n        // Erstelle die TextAreas\r\n        paliVerse = new TextArea();\r\n        paliVerseGER = new TextArea();\r\n        analysis = new TextArea();\r\n\r\n        // Textfeld ist unver&#228;nderlich\r\n        paliVerse.setEditable(false);\r\n        paliVerseGER.setEditable(false);\r\n        analysis.setEditable(false);\r\n\r\n        // 2 columns preferred\r\n        paliVerse.setPrefColumnCount(2);\r\n        paliVerseGER.setPrefColumnCount(2);\r\n\r\n//        // 2 rows preferred for paliVerse and German translation textArea\r\n        paliVerse.setPrefRowCount(2);\r\n        paliVerseGER.setPrefRowCount(2);\r\n        analysis.setPrefRowCount(4);\r\n\r\n        GridPane.setConstraints(comboBox, 0, 1);\r\n        GridPane gridPane = new GridPane();\r\n\r\n        // Abstand nach innen setzen\r\n        gridPane.setPadding(new Insets(10));\r\n\r\n        // horizontaler Abstand zwischen Kindern\r\n        gridPane.setHgap(10);\r\n\r\n        // vertikaler Abstand zwischen Kindern\r\n        gridPane.setVgap(10);\r\n\r\n        // Spalte 0 ist 150 weit\r\n        gridPane.getColumnConstraints().add(new ColumnConstraints(230));\r\n\r\n        // Spalte 0 ist 480 weit\r\n        gridPane.getColumnConstraints().add(new ColumnConstraints(600));\r\n\r\n        gridPane.add(new Label(&quot;Vers Nummer:&quot;), 0, 0);\r\n        gridPane.add(comboBox, 1, 0);\r\n        gridPane.add(new Label(&quot;Palitext:&quot;), 0, 1);\r\n        gridPane.add(paliVerse, 1, 1);\r\n        gridPane.add(new Label(&quot;&#220;bersetzung Deutsch:&quot;), 0, 2);\r\n        gridPane.add(paliVerseGER, 1, 2);\r\n        gridPane.add(new Label(&quot;Analyse:&quot;), 2, 0);\r\n        gridPane.add(analysis, 2, 1, 4, 1);\r\n        Scene scene = new Scene(gridPane, 1200, 400);\r\n\r\n        // Verkn&#252;pfe CSS-Datei\r\n        scene.getStylesheets().add(&quot;styles.css&quot;);\r\n\r\n        // Zeige das Hauptfenster an\r\n        stage.setTitle(&quot;Dhammapada Reader&quot;);\r\n        stage.setScene(scene);\r\n        stage.show();\r\n    }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/fx1hG.png\r\n  [2]: https://i.stack.imgur.com/uPi1r.png","title":"JavaFX GridPane fixed row size","body":"<p>I am working on a grammar analysis program. I am using a <code>GridPane</code> and have three <code>TextArea</code>s so far. The <code>TextArea</code> <code>paliVerse</code> should span over two rows; the <code>TextArea</code> <code>analysis</code> over four. However, when I change the <code>TextArea</code> <code>analysis</code> with</p>\n<pre><code>gridPane.add(analysis,2,1,4,1);\nanalysis.setPrefRowCount(4);\n</code></pre>\n<p>the <code>TextArea</code> <code>paliVerse</code> also spans over rows, even though the <code>PrefRowCount</code> is 2:</p>\n<p><a href=\"https://i.stack.imgur.com/fx1hG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fx1hG.png\" alt=\"current\" /></a></p>\n<p>How can I change this so that it looks like:</p>\n<p><a href=\"https://i.stack.imgur.com/uPi1r.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/uPi1r.png\" alt=\"desired\" /></a></p>\n<p>This is the relevant code:</p>\n<pre><code>package com.example.projektver180523;\n\nimport java.sql.*;\n\nimport javafx.application.Application;\nimport javafx.geometry.Insets;\nimport javafx.scene.Scene;\nimport javafx.scene.control.*;\nimport javafx.scene.layout.*;\nimport javafx.stage.Stage;\n\npublic class HelloApplication extends Application {\n    private ComboBox&lt;Integer&gt; comboBox;\n    private TextArea paliVerse;\n    private TextArea paliVerseGER;\n    private TextArea analysis;\n\n    public static void main(String[] args) {\n        launch(args);\n    }\n\n    @Override\n    public void start(Stage stage) throws SQLException {\n\n        // Erstelle die ComboBox\n        comboBox = new ComboBox&lt;&gt;();\n\n        // Fülle die ComboBox automatisch\n        fillComboBox();\n\n        // Erstelle die TextAreas\n        paliVerse = new TextArea();\n        paliVerseGER = new TextArea();\n        analysis = new TextArea();\n\n        // Textfeld ist unveränderlich\n        paliVerse.setEditable(false);\n        paliVerseGER.setEditable(false);\n        analysis.setEditable(false);\n\n        // 2 columns preferred\n        paliVerse.setPrefColumnCount(2);\n        paliVerseGER.setPrefColumnCount(2);\n\n//        // 2 rows preferred for paliVerse and German translation textArea\n        paliVerse.setPrefRowCount(2);\n        paliVerseGER.setPrefRowCount(2);\n        analysis.setPrefRowCount(4);\n\n        GridPane.setConstraints(comboBox, 0, 1);\n        GridPane gridPane = new GridPane();\n\n        // Abstand nach innen setzen\n        gridPane.setPadding(new Insets(10));\n\n        // horizontaler Abstand zwischen Kindern\n        gridPane.setHgap(10);\n\n        // vertikaler Abstand zwischen Kindern\n        gridPane.setVgap(10);\n\n        // Spalte 0 ist 150 weit\n        gridPane.getColumnConstraints().add(new ColumnConstraints(230));\n\n        // Spalte 0 ist 480 weit\n        gridPane.getColumnConstraints().add(new ColumnConstraints(600));\n\n        gridPane.add(new Label(&quot;Vers Nummer:&quot;), 0, 0);\n        gridPane.add(comboBox, 1, 0);\n        gridPane.add(new Label(&quot;Palitext:&quot;), 0, 1);\n        gridPane.add(paliVerse, 1, 1);\n        gridPane.add(new Label(&quot;Übersetzung Deutsch:&quot;), 0, 2);\n        gridPane.add(paliVerseGER, 1, 2);\n        gridPane.add(new Label(&quot;Analyse:&quot;), 2, 0);\n        gridPane.add(analysis, 2, 1, 4, 1);\n        Scene scene = new Scene(gridPane, 1200, 400);\n\n        // Verknüpfe CSS-Datei\n        scene.getStylesheets().add(&quot;styles.css&quot;);\n\n        // Zeige das Hauptfenster an\n        stage.setTitle(&quot;Dhammapada Reader&quot;);\n        stage.setScene(scene);\n        stage.show();\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","mongodb","spring-boot"],"owner":{"account_id":14248830,"reputation":1,"user_id":10292986,"display_name":"aasu dhillon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685117313,"creation_date":1685110419,"question_id":76341666,"body_markdown":"Scenario: From “psorder” collection fetching ‘worNumber’ list along with conditions (Sub Query) and pass that list, with in the same collection and exclude those ‘worNumber’.\r\n\r\nQuery: \r\n\r\n```\r\ndb.getCollection(‘psorder’).find({\r\n    “personName”:{$exists:false},\r\n    “worNumber”:{\r\n    $nin: db.getCollection(‘psorder’).distinct(“worNumber”,{“statusId”:“new”,\r\n    “personName”:{$exists:true},\r\n    “personName”: { $ne: “robert” }})\r\n    }\r\n    }).limit(1);\r\n```\r\n\r\nHow to achieve this in aggregation and Java code. Please guide us to sort out the below query.","title":"Mongo DB nested sub query - Fetch the list from sub query pass it to main query with in the same collection on same filed","body":"<p>Scenario: From “psorder” collection fetching ‘worNumber’ list along with conditions (Sub Query) and pass that list, with in the same collection and exclude those ‘worNumber’.</p>\n<p>Query:</p>\n<pre><code>db.getCollection(‘psorder’).find({\n    “personName”:{$exists:false},\n    “worNumber”:{\n    $nin: db.getCollection(‘psorder’).distinct(“worNumber”,{“statusId”:“new”,\n    “personName”:{$exists:true},\n    “personName”: { $ne: “robert” }})\n    }\n    }).limit(1);\n</code></pre>\n<p>How to achieve this in aggregation and Java code. Please guide us to sort out the below query.</p>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":8458665,"reputation":267,"user_id":6345106,"display_name":"Adil Raza Bangash"},"score":0,"creation_date":1684492213,"post_id":76288028,"comment_id":134528678,"body_markdown":"it seems that there is a problem in this piece of code if(answer.equals(correctAnswer)){}","body":"it seems that there is a problem in this piece of code if(answer.equals(correctAnswer)){}"},{"owner":{"account_id":28530456,"reputation":5,"user_id":21837947,"display_name":"ItzBaturalp Plays"},"score":0,"creation_date":1684493335,"post_id":76288028,"comment_id":134528867,"body_markdown":"The app works. Its just that I dont know what to write to make the correct answer also light up along with the wrong answer","body":"The app works. Its just that I dont know what to write to make the correct answer also light up along with the wrong answer"},{"owner":{"account_id":28020964,"reputation":1207,"user_id":21401783,"display_name":"Dinux"},"score":0,"creation_date":1684567439,"post_id":76288028,"comment_id":134538618,"body_markdown":"Please share your xml file so that we can figure out the layout and views.","body":"Please share your xml file so that we can figure out the layout and views."},{"owner":{"account_id":28530456,"reputation":5,"user_id":21837947,"display_name":"ItzBaturalp Plays"},"score":0,"creation_date":1685117177,"post_id":76288028,"comment_id":134621564,"body_markdown":"I added the XML file of the code","body":"I added the XML file of the code"}],"answers":[{"comments":[{"owner":{"account_id":28530456,"reputation":5,"user_id":21837947,"display_name":"ItzBaturalp Plays"},"score":0,"creation_date":1685117005,"post_id":76293952,"comment_id":134621533,"body_markdown":"This is helpful. Thank you but I have a question. In the app I made it shows you the photo of the country and you choose from the 4 options. How do I make the photo match along with the correct country?","body":"This is helpful. Thank you but I have a question. In the app I made it shows you the photo of the country and you choose from the 4 options. How do I make the photo match along with the correct country?"},{"owner":{"account_id":25155166,"reputation":864,"user_id":19000086,"display_name":"zaid khan"},"score":0,"creation_date":1685118776,"post_id":76293952,"comment_id":134621883,"body_markdown":"@ItzBaturalpPlays you could add a HashMap in the Question data class, that map would map the place name with the imageUrl(or whatever format you have your image in) and also please upvote and accept the answer as a complement to all the effort I put in :)","body":"@ItzBaturalpPlays you could add a HashMap in the Question data class, that map would map the place name with the imageUrl(or whatever format you have your image in) and also please upvote and accept the answer as a complement to all the effort I put in :)"}],"tags":[],"owner":{"account_id":25155166,"reputation":864,"user_id":19000086,"display_name":"zaid khan"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1684566443,"creation_date":1684566443,"answer_id":76293952,"question_id":76288028,"body_markdown":"You can create a model class for storing a question.\r\n``` lang-java\r\npublic class Question {\r\n    private String name;\r\n    private ArrayList&lt;String&gt; options;\r\n    private String correctAnswer;\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n    public void setName(String name) {\r\n        this.name = name;\r\n    }\r\n    public ArrayList&lt;String&gt; getOptions() {\r\n        return options;\r\n    }\r\n    public void setOptions(ArrayList&lt;String&gt; options) {\r\n        this.options = options;\r\n    }\r\n    public String getCorrectAnswer() {\r\n        return correctAnswer;\r\n    }\r\n    public void setCorrectAnswer(String correctAnswer) {\r\n        this.correctAnswer = correctAnswer;\r\n    }\r\n}\r\n```\r\n\r\nAnd then in your generate questions method you should create a list of the model class instead of the list of strings.\r\n\r\n\r\n``` lang-java\r\nQuestion question = new Question();\r\n\r\nquestion.setName(&quot;What is the capital of France?&quot;);\r\nquestion.setOptions(new ArrayList&lt;&gt;(Arrays.asList(&quot;Paris&quot;, &quot;London&quot;, &quot;Berlin&quot;, &quot;Madrid&quot;)));\r\nquestion.setCorrectAnswer(&quot;Paris&quot;);\r\n\r\nArrayList&lt;Question&gt; questions = new ArrayList();\r\nquestions.add(question);\r\n\r\n```\r\n\r\nAnd you should keep track of the index of the current question displayed.\r\n\r\nint currentQuestion;\r\nIn the countdown timer you could increase the index to change the question displayed.\r\n\r\nAnd I can&#39;t see where the **answerSelected** is being called but you should modify it so that it can take in the index as a parameter as well.\r\n\r\n``` lang-java\r\n\r\n public void answerSelected(View view,int indexOfQuestionSelected) {\r\n\r\n//getting the current question by the index from the array list of questions.\r\n        Question questionAnswered = questions.get(indexOfQuestionAnswered);\r\n        String answer = ((Button) view).getText().toString().trim();\r\n        \r\n        btn1.setEnabled(false);\r\n        btn2.setEnabled(false);\r\n        btn3.setEnabled(false);\r\n        btn4.setEnabled(false);\r\n\r\n        if(answer.equals(questionAnswered.getCorrectAnswer)){\r\n            view.setBackgroundColor(Color.parseColor(&quot;#4CAF50&quot;));\r\n            points++;\r\n            tvPoints.setText(points + &quot; / &quot; + questions.size());\r\n            tvResult.setText(&quot;Doğru&quot;);\r\n\r\n        }else{\r\n\r\n           String option1 = btn1.getText().toString();\r\n           String option2 = btn2.getText().toString();\r\n           String option3 = btn3.getText().toString();\r\n           String option4 = btn4.getText().toString();\r\n          \r\n           if(option1.equals(questionAnswered.getCorrectAnswer()){\r\n\r\n                btn1.setBackgroundColor(Color.parseColor(&quot;#17243e&quot;)); \r\n            }\r\n            if(option2.equals(questionAnswered.getCorrectAnswer()){\r\n                            \r\n              btn1.setBackgroundColor(Color.parseColor(&quot;#17243e&quot;)); \r\n\r\n            }if(option3.equals(questionAnswered.getCorrectAnswer()){\r\n                            \r\n              btn1.setBackgroundColor(Color.parseColor(&quot;#17243e&quot;)); \r\n\r\n            }if(option4.equals(questionAnswered.getCorrectAnswer()){\r\n                            \r\n              btn1.setBackgroundColor(Color.parseColor(&quot;#17243e&quot;)); \r\n\r\n            }\r\n            tvResult.setText(&quot;Yanlış&quot;);\r\n \r\n        }\r\n        \r\n      }\r\n    \r\n```\r\n\r\n\r\n\r\n\r\n","title":"How do I make the correct option lit up green when the wrong answer chosen is shown in red?","body":"<p>You can create a model class for storing a question.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Question {\n    private String name;\n    private ArrayList&lt;String&gt; options;\n    private String correctAnswer;\n\n    public String getName() {\n        return name;\n    }\n    public void setName(String name) {\n        this.name = name;\n    }\n    public ArrayList&lt;String&gt; getOptions() {\n        return options;\n    }\n    public void setOptions(ArrayList&lt;String&gt; options) {\n        this.options = options;\n    }\n    public String getCorrectAnswer() {\n        return correctAnswer;\n    }\n    public void setCorrectAnswer(String correctAnswer) {\n        this.correctAnswer = correctAnswer;\n    }\n}\n</code></pre>\n<p>And then in your generate questions method you should create a list of the model class instead of the list of strings.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Question question = new Question();\n\nquestion.setName(&quot;What is the capital of France?&quot;);\nquestion.setOptions(new ArrayList&lt;&gt;(Arrays.asList(&quot;Paris&quot;, &quot;London&quot;, &quot;Berlin&quot;, &quot;Madrid&quot;)));\nquestion.setCorrectAnswer(&quot;Paris&quot;);\n\nArrayList&lt;Question&gt; questions = new ArrayList();\nquestions.add(question);\n\n</code></pre>\n<p>And you should keep track of the index of the current question displayed.</p>\n<p>int currentQuestion;\nIn the countdown timer you could increase the index to change the question displayed.</p>\n<p>And I can't see where the <strong>answerSelected</strong> is being called but you should modify it so that it can take in the index as a parameter as well.</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n public void answerSelected(View view,int indexOfQuestionSelected) {\n\n//getting the current question by the index from the array list of questions.\n        Question questionAnswered = questions.get(indexOfQuestionAnswered);\n        String answer = ((Button) view).getText().toString().trim();\n        \n        btn1.setEnabled(false);\n        btn2.setEnabled(false);\n        btn3.setEnabled(false);\n        btn4.setEnabled(false);\n\n        if(answer.equals(questionAnswered.getCorrectAnswer)){\n            view.setBackgroundColor(Color.parseColor(&quot;#4CAF50&quot;));\n            points++;\n            tvPoints.setText(points + &quot; / &quot; + questions.size());\n            tvResult.setText(&quot;Doğru&quot;);\n\n        }else{\n\n           String option1 = btn1.getText().toString();\n           String option2 = btn2.getText().toString();\n           String option3 = btn3.getText().toString();\n           String option4 = btn4.getText().toString();\n          \n           if(option1.equals(questionAnswered.getCorrectAnswer()){\n\n                btn1.setBackgroundColor(Color.parseColor(&quot;#17243e&quot;)); \n            }\n            if(option2.equals(questionAnswered.getCorrectAnswer()){\n                            \n              btn1.setBackgroundColor(Color.parseColor(&quot;#17243e&quot;)); \n\n            }if(option3.equals(questionAnswered.getCorrectAnswer()){\n                            \n              btn1.setBackgroundColor(Color.parseColor(&quot;#17243e&quot;)); \n\n            }if(option4.equals(questionAnswered.getCorrectAnswer()){\n                            \n              btn1.setBackgroundColor(Color.parseColor(&quot;#17243e&quot;)); \n\n            }\n            tvResult.setText(&quot;Yanlış&quot;);\n \n        }\n        \n      }\n    \n</code></pre>\n"}],"owner":{"account_id":28530456,"reputation":5,"user_id":21837947,"display_name":"ItzBaturalp Plays"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76293952,"answer_count":1,"score":0,"last_activity_date":1685117135,"creation_date":1684490618,"question_id":76288028,"body_markdown":"I&#39;m making a quiz game for Android and I have small problem. When the wrong answer is chosen, the chosen answer must become red and the correct answer must turn green. However, I can&#39;t do the last part. The wrong answer does turn red but I don&#39;t know how to make correct answer light up green.\r\n\r\nHere is my code:\r\n```\r\nimport android.content.Intent;\r\nimport android.graphics.Color;\r\nimport android.os.Bundle;\r\nimport android.os.CountDownTimer;\r\nimport android.view.View;\r\nimport android.widget.Button;\r\nimport android.widget.ImageView;\r\nimport android.widget.TextView;\r\n\r\nimport androidx.annotation.Nullable;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.Collections;\r\nimport java.util.HashMap;\r\n\r\npublic class OyunBasladi extends AppCompatActivity {\r\n    TextView tvTimer;\r\n    TextView tvResult;\r\n    ImageView ivShowImage;\r\n    HashMap&lt;String, Integer&gt; map = new HashMap&lt;&gt;();\r\n    ArrayList&lt;String&gt; techList = new ArrayList&lt;&gt;();\r\n    int index;\r\n    Button btn1, btn2, btn3, btn4;\r\n    TextView tvPoints;\r\n    int points;\r\n    CountDownTimer countDownTimer;\r\n    long millisUntilFinished;\r\n\r\n    @Override\r\n    protected void onCreate(@Nullable Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_soru1);\r\n        tvTimer = findViewById(R.id.tvTimer);\r\n        tvResult = findViewById(R.id.tvResult);\r\n        ivShowImage = findViewById(R.id.ivShowImage);\r\n        btn1 = findViewById(R.id.btn1);\r\n        btn2 = findViewById(R.id.btn2);\r\n        btn3 = findViewById(R.id.btn3);\r\n        btn4 = findViewById(R.id.btn4);\r\n        tvPoints = findViewById(R.id.tvPoints);\r\n\r\n        index = 0;\r\n\r\n        techList.add(&quot;&#199;in&quot;);\r\n        techList.add(&quot;T&#252;rkiye&quot;);\r\n        techList.add(&quot;Rusya&quot;);\r\n        techList.add(&quot;D.Kongo Cumhuriyeti&quot;);\r\n        techList.add(&quot;Mısır&quot;);\r\n        techList.add(&quot;Kazakistan&quot;);\r\n        techList.add(&quot;St. Lucia&quot;);\r\n        techList.add(&quot;Trinidad ve Tobago&quot;);\r\n        techList.add(&quot;İsvi&#231;re&quot;);\r\n        techList.add(&quot;L&#252;ksemburg&quot;);\r\n        techList.add(&quot;Tonga&quot;);\r\n        techList.add(&quot;Filipinler&quot;);\r\n        techList.add(&quot;Guyana&quot;);\r\n        techList.add(&quot;Guatemala&quot;);\r\n        techList.add(&quot;ABD&quot;);\r\n        techList.add(&quot;Kanada&quot;);\r\n        techList.add(&quot;Peru&quot;);\r\n        techList.add(&quot;Burundi&quot;);\r\n\r\n        map.put(techList.get(0), R.drawable.cin);\r\n        map.put(techList.get(1), R.drawable.turkiye);\r\n        map.put(techList.get(2), R.drawable.rusya);\r\n        map.put(techList.get(3), R.drawable.dkongocumhuriyeti);\r\n        map.put(techList.get(4), R.drawable.misir);\r\n        map.put(techList.get(5), R.drawable.kazakistan);\r\n        map.put(techList.get(6), R.drawable.stlucia);\r\n        map.put(techList.get(7), R.drawable.trinidadvetobago);\r\n        map.put(techList.get(8), R.drawable.isvicre);\r\n        map.put(techList.get(9), R.drawable.luksemburg);\r\n        map.put(techList.get(10), R.drawable.tonga);\r\n        map.put(techList.get(11), R.drawable.filipinler);\r\n        map.put(techList.get(12), R.drawable.guyana);\r\n        map.put(techList.get(13), R.drawable.guatemala);\r\n        map.put(techList.get(14), R.drawable.abd);\r\n        map.put(techList.get(15), R.drawable.kanada);\r\n        map.put(techList.get(16), R.drawable.peru);\r\n        map.put(techList.get(17), R.drawable.burundi);\r\n\r\n        Collections.shuffle(techList);\r\n\r\n        millisUntilFinished = 10000;\r\n\r\n        points = 0;\r\n\r\n        startGame();\r\n    }\r\n\r\n    private void startGame() {\r\n\r\n        millisUntilFinished = 10000;\r\n\r\n        tvTimer.setText(&quot;&quot; + (millisUntilFinished / 1000) + &quot;s&quot;);\r\n        tvPoints.setText(points + &quot; / &quot; + techList.size());\r\n\r\n        generateQuestions(index);\r\n\r\n        countDownTimer = new CountDownTimer(millisUntilFinished, 1000) {\r\n            @Override\r\n            public void onTick(long millisUntilFinished) {\r\n                tvTimer.setText(&quot;&quot; + (millisUntilFinished / 1000) + &quot;s&quot;);\r\n            }\r\n\r\n            @Override\r\n            public void onFinish() {\r\n                index++;\r\n                if (index &gt; techList.size() - 1){\r\n                    ivShowImage.setVisibility(View.GONE);\r\n                    btn1.setVisibility(View.GONE);\r\n                    btn2.setVisibility(View.GONE);\r\n                    btn3.setVisibility(View.GONE);\r\n                    btn4.setVisibility(View.GONE);\r\n                    Intent intent = new Intent(OyunBasladi.this, OyunBitti.class);\r\n                    intent.putExtra(&quot;points&quot;, points);\r\n                    startActivity(intent);\r\n                    finish();\r\n                }\r\n                else {\r\n                    countDownTimer = null;\r\n                    startGame();\r\n                }\r\n            }\r\n        }.start();\r\n    }\r\n\r\n    private void generateQuestions(int index) {\r\n        ArrayList&lt;String&gt; techListTemp = (ArrayList&lt;String&gt;) techList.clone();\r\n        String correctAnswer = techList.get(index);\r\n        techListTemp.remove(correctAnswer);\r\n        Collections.shuffle(techListTemp);\r\n        ArrayList&lt;String&gt; newList = new ArrayList&lt;&gt;();\r\n        newList.add(techListTemp.get(0));\r\n        newList.add(techListTemp.get(1));\r\n        newList.add(techListTemp.get(2));\r\n        newList.add(correctAnswer);\r\n        Collections.shuffle(newList);\r\n        btn1.setText(newList.get(0));\r\n        btn2.setText(newList.get(1));\r\n        btn3.setText(newList.get(2));\r\n        btn4.setText(newList.get(3));\r\n        ivShowImage.setImageResource(map.get(techList.get(index)));\r\n    }\r\n\r\n    public void nextQuestion(View view) {\r\n        btn1.setBackgroundColor(Color.parseColor(&quot;#2196f3&quot;));\r\n        btn2.setBackgroundColor(Color.parseColor(&quot;#2196f3&quot;));\r\n        btn3.setBackgroundColor(Color.parseColor(&quot;#2196f3&quot;));\r\n        btn4.setBackgroundColor(Color.parseColor(&quot;#2196f3&quot;));\r\n        btn1.setEnabled(true);\r\n        btn2.setEnabled(true);\r\n        btn3.setEnabled(true);\r\n        btn4.setEnabled(true);\r\n        countDownTimer.cancel();\r\n        index++;\r\n        if (index &gt; techList.size() - 1){\r\n            ivShowImage.setVisibility(View.GONE);\r\n            btn1.setVisibility(View.GONE);\r\n            btn2.setVisibility(View.GONE);\r\n            btn3.setVisibility(View.GONE);\r\n            btn4.setVisibility(View.GONE);\r\n            Intent intent = new Intent(OyunBasladi.this, OyunBitti.class);\r\n            intent.putExtra(&quot;points&quot;, points);\r\n            startActivity(intent);\r\n            finish();\r\n        }\r\n        else\r\n        {\r\n            countDownTimer = null;\r\n            startGame();\r\n        }\r\n    }\r\n\r\n    public void answerSelected(View view) {\r\n        view.setBackgroundColor(Color.parseColor(&quot;#17243e&quot;));\r\n        btn1.setEnabled(false);\r\n        btn2.setEnabled(false);\r\n        btn3.setEnabled(false);\r\n        btn4.setEnabled(false);\r\n        countDownTimer.cancel();\r\n        String answer = ((Button) view).getText().toString().trim();\r\n        String correctAnswer = techList.get(index);\r\n        if(answer.equals(correctAnswer)){\r\n            view.setBackgroundColor(Color.parseColor(&quot;#4CAF50&quot;));\r\n            points++;\r\n            tvPoints.setText(points + &quot; / &quot; + techList.size());\r\n            tvResult.setText(&quot;Doğru&quot;);\r\n        }\r\n        else\r\n        {\r\n            view.setBackgroundColor(Color.parseColor(&quot;#F44336&quot;));\r\n            tvResult.setText(&quot;Yanlış&quot;);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nHere is the code where you make the correct answer green and the wrong answer red. What should I write here so that when the wrong answer is chosen it should show the correct option green meanwhile the wrong answer still being red?\r\n```\r\n    public void answerSelected(View view) {\r\n        view.setBackgroundColor(Color.parseColor(&quot;#17243e&quot;));\r\n        btn1.setEnabled(false);\r\n        btn2.setEnabled(false);\r\n        btn3.setEnabled(false);\r\n        btn4.setEnabled(false);\r\n        countDownTimer.cancel();\r\n        String answer = ((Button) view).getText().toString().trim();\r\n        String correctAnswer = techList.get(index);\r\n        if(answer.equals(correctAnswer)){\r\n            view.setBackgroundColor(Color.parseColor(&quot;#4CAF50&quot;));\r\n            points++;\r\n            tvPoints.setText(points + &quot; / &quot; + techList.size());\r\n            tvResult.setText(&quot;Doğru&quot;);\r\n        }\r\n        else\r\n        {\r\n            view.setBackgroundColor(Color.parseColor(&quot;#F44336&quot;));\r\n            tvResult.setText(&quot;Yanlış&quot;);\r\n        }\r\n    }\r\n```\r\nThe XML Codes\r\n\r\n    &lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:background=&quot;#e8f4f8&quot;\r\n    android:gravity=&quot;center&quot;\r\n    android:orientation=&quot;vertical&quot;\r\n    android:padding=&quot;16dp&quot;&gt;\r\n   \r\n    &lt;LinearLayout\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:orientation=&quot;horizontal&quot;&gt;\r\n\r\n        &lt;LinearLayout\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:orientation=&quot;horizontal&quot;&gt;\r\n\r\n            &lt;ImageView\r\n                android:layout_width=&quot;30dp&quot;\r\n                android:layout_height=&quot;30dp&quot;\r\n                android:layout_marginLeft=&quot;5dp&quot;\r\n                app:srcCompat=&quot;@drawable/sayac&quot; /&gt;\r\n\r\n            &lt;TextView\r\n                android:id=&quot;@+id/tvTimer&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;match_parent&quot;\r\n                android:layout_marginLeft=&quot;5dp&quot;\r\n                android:text=&quot;10s&quot;\r\n                android:textSize=&quot;24sp&quot; /&gt;\r\n        &lt;/LinearLayout&gt;\r\n\r\n        &lt;LinearLayout\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;31dp&quot;\r\n            android:gravity=&quot;right&quot;\r\n            android:orientation=&quot;horizontal&quot;&gt;\r\n\r\n            &lt;ImageView\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                app:srcCompat=&quot;@drawable/yildiz&quot; /&gt;\r\n\r\n            &lt;TextView\r\n                android:id=&quot;@+id/tvPoints&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_marginLeft=&quot;5dp&quot;\r\n                android:layout_marginRight=&quot;5dp&quot;\r\n                android:text=&quot;0/18&quot;\r\n                android:textSize=&quot;24sp&quot; /&gt;\r\n\r\n        &lt;/LinearLayout&gt;\r\n\r\n    &lt;/LinearLayout&gt;\r\n\r\n    &lt;LinearLayout\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:gravity=&quot;center&quot;\r\n        android:orientation=&quot;vertical&quot;&gt;\r\n\r\n        &lt;TextView\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_marginBottom=&quot;5dp&quot;\r\n            android:gravity=&quot;center&quot;\r\n            android:text=&quot;Bu Hangi &#220;lke?&quot;\r\n            android:textSize=&quot;24sp&quot; /&gt;\r\n\r\n        &lt;LinearLayout\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:gravity=&quot;center&quot;\r\n            android:orientation=&quot;vertical&quot;&gt;\r\n\r\n            &lt;ImageView\r\n                android:id=&quot;@+id/ivShowImage&quot;\r\n                android:layout_width=&quot;425dp&quot;\r\n                android:layout_height=&quot;256dp&quot;\r\n                android:layout_margin=&quot;5dp&quot;\r\n                tools:srcCompat=&quot;@drawable/android&quot; /&gt;\r\n\r\n            &lt;Button\r\n                android:id=&quot;@+id/btn1&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_margin=&quot;2dp&quot;\r\n                android:background=&quot;#2196f3&quot;\r\n                android:onClick=&quot;answerSelected&quot;\r\n                android:textColor=&quot;@android:color/white&quot;\r\n                android:textSize=&quot;32sp&quot;\r\n                app:backgroundTint=&quot;@null&quot; /&gt;\r\n\r\n            &lt;Button\r\n                android:id=&quot;@+id/btn2&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_margin=&quot;2dp&quot;\r\n                android:background=&quot;#2196f3&quot;\r\n                android:onClick=&quot;answerSelected&quot;\r\n                android:textColor=&quot;@android:color/white&quot;\r\n                android:textSize=&quot;32sp&quot;\r\n                app:backgroundTint=&quot;@null&quot; /&gt;\r\n\r\n            &lt;Button\r\n                android:id=&quot;@+id/btn3&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_margin=&quot;2dp&quot;\r\n                android:background=&quot;#2196f3&quot;\r\n                android:onClick=&quot;answerSelected&quot;\r\n                android:textColor=&quot;@android:color/white&quot;\r\n                android:textSize=&quot;32sp&quot;\r\n                app:backgroundTint=&quot;@null&quot; /&gt;\r\n\r\n            &lt;Button\r\n                android:id=&quot;@+id/btn4&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_margin=&quot;2dp&quot;\r\n                android:background=&quot;#2196f3&quot;\r\n                android:onClick=&quot;answerSelected&quot;\r\n                android:textColor=&quot;@android:color/white&quot;\r\n                android:textSize=&quot;32sp&quot;\r\n                app:backgroundTint=&quot;@null&quot; /&gt;\r\n\r\n            &lt;TextView\r\n                android:id=&quot;@+id/tvResult&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_margin=&quot;5dp&quot;\r\n                android:gravity=&quot;center&quot;\r\n                android:textSize=&quot;18sp&quot; /&gt;\r\n\r\n            &lt;Button\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_gravity=&quot;right&quot;\r\n                android:background=&quot;#2196f3&quot;\r\n                android:onClick=&quot;nextQuestion&quot;\r\n                android:paddingLeft=&quot;20dp&quot;\r\n                android:paddingRight=&quot;20dp&quot;\r\n                android:text=&quot;Sıradaki&quot;\r\n                android:textColor=&quot;@android:color/white&quot;\r\n                android:textSize=&quot;32sp&quot;\r\n                app:backgroundTint=&quot;@null&quot; /&gt;\r\n        &lt;/LinearLayout&gt;\r\n\r\n    &lt;/LinearLayout&gt;\r\n&lt;/LinearLayout&gt;\r\n\r\nAny help is welcome.","title":"How do I make the correct option lit up green when the wrong answer chosen is shown in red?","body":"<p>I'm making a quiz game for Android and I have small problem. When the wrong answer is chosen, the chosen answer must become red and the correct answer must turn green. However, I can't do the last part. The wrong answer does turn red but I don't know how to make correct answer light up green.</p>\n<p>Here is my code:</p>\n<pre><code>import android.content.Intent;\nimport android.graphics.Color;\nimport android.os.Bundle;\nimport android.os.CountDownTimer;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.ImageView;\nimport android.widget.TextView;\n\nimport androidx.annotation.Nullable;\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport java.util.ArrayList;\nimport java.util.Collections;\nimport java.util.HashMap;\n\npublic class OyunBasladi extends AppCompatActivity {\n    TextView tvTimer;\n    TextView tvResult;\n    ImageView ivShowImage;\n    HashMap&lt;String, Integer&gt; map = new HashMap&lt;&gt;();\n    ArrayList&lt;String&gt; techList = new ArrayList&lt;&gt;();\n    int index;\n    Button btn1, btn2, btn3, btn4;\n    TextView tvPoints;\n    int points;\n    CountDownTimer countDownTimer;\n    long millisUntilFinished;\n\n    @Override\n    protected void onCreate(@Nullable Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_soru1);\n        tvTimer = findViewById(R.id.tvTimer);\n        tvResult = findViewById(R.id.tvResult);\n        ivShowImage = findViewById(R.id.ivShowImage);\n        btn1 = findViewById(R.id.btn1);\n        btn2 = findViewById(R.id.btn2);\n        btn3 = findViewById(R.id.btn3);\n        btn4 = findViewById(R.id.btn4);\n        tvPoints = findViewById(R.id.tvPoints);\n\n        index = 0;\n\n        techList.add(&quot;Çin&quot;);\n        techList.add(&quot;Türkiye&quot;);\n        techList.add(&quot;Rusya&quot;);\n        techList.add(&quot;D.Kongo Cumhuriyeti&quot;);\n        techList.add(&quot;Mısır&quot;);\n        techList.add(&quot;Kazakistan&quot;);\n        techList.add(&quot;St. Lucia&quot;);\n        techList.add(&quot;Trinidad ve Tobago&quot;);\n        techList.add(&quot;İsviçre&quot;);\n        techList.add(&quot;Lüksemburg&quot;);\n        techList.add(&quot;Tonga&quot;);\n        techList.add(&quot;Filipinler&quot;);\n        techList.add(&quot;Guyana&quot;);\n        techList.add(&quot;Guatemala&quot;);\n        techList.add(&quot;ABD&quot;);\n        techList.add(&quot;Kanada&quot;);\n        techList.add(&quot;Peru&quot;);\n        techList.add(&quot;Burundi&quot;);\n\n        map.put(techList.get(0), R.drawable.cin);\n        map.put(techList.get(1), R.drawable.turkiye);\n        map.put(techList.get(2), R.drawable.rusya);\n        map.put(techList.get(3), R.drawable.dkongocumhuriyeti);\n        map.put(techList.get(4), R.drawable.misir);\n        map.put(techList.get(5), R.drawable.kazakistan);\n        map.put(techList.get(6), R.drawable.stlucia);\n        map.put(techList.get(7), R.drawable.trinidadvetobago);\n        map.put(techList.get(8), R.drawable.isvicre);\n        map.put(techList.get(9), R.drawable.luksemburg);\n        map.put(techList.get(10), R.drawable.tonga);\n        map.put(techList.get(11), R.drawable.filipinler);\n        map.put(techList.get(12), R.drawable.guyana);\n        map.put(techList.get(13), R.drawable.guatemala);\n        map.put(techList.get(14), R.drawable.abd);\n        map.put(techList.get(15), R.drawable.kanada);\n        map.put(techList.get(16), R.drawable.peru);\n        map.put(techList.get(17), R.drawable.burundi);\n\n        Collections.shuffle(techList);\n\n        millisUntilFinished = 10000;\n\n        points = 0;\n\n        startGame();\n    }\n\n    private void startGame() {\n\n        millisUntilFinished = 10000;\n\n        tvTimer.setText(&quot;&quot; + (millisUntilFinished / 1000) + &quot;s&quot;);\n        tvPoints.setText(points + &quot; / &quot; + techList.size());\n\n        generateQuestions(index);\n\n        countDownTimer = new CountDownTimer(millisUntilFinished, 1000) {\n            @Override\n            public void onTick(long millisUntilFinished) {\n                tvTimer.setText(&quot;&quot; + (millisUntilFinished / 1000) + &quot;s&quot;);\n            }\n\n            @Override\n            public void onFinish() {\n                index++;\n                if (index &gt; techList.size() - 1){\n                    ivShowImage.setVisibility(View.GONE);\n                    btn1.setVisibility(View.GONE);\n                    btn2.setVisibility(View.GONE);\n                    btn3.setVisibility(View.GONE);\n                    btn4.setVisibility(View.GONE);\n                    Intent intent = new Intent(OyunBasladi.this, OyunBitti.class);\n                    intent.putExtra(&quot;points&quot;, points);\n                    startActivity(intent);\n                    finish();\n                }\n                else {\n                    countDownTimer = null;\n                    startGame();\n                }\n            }\n        }.start();\n    }\n\n    private void generateQuestions(int index) {\n        ArrayList&lt;String&gt; techListTemp = (ArrayList&lt;String&gt;) techList.clone();\n        String correctAnswer = techList.get(index);\n        techListTemp.remove(correctAnswer);\n        Collections.shuffle(techListTemp);\n        ArrayList&lt;String&gt; newList = new ArrayList&lt;&gt;();\n        newList.add(techListTemp.get(0));\n        newList.add(techListTemp.get(1));\n        newList.add(techListTemp.get(2));\n        newList.add(correctAnswer);\n        Collections.shuffle(newList);\n        btn1.setText(newList.get(0));\n        btn2.setText(newList.get(1));\n        btn3.setText(newList.get(2));\n        btn4.setText(newList.get(3));\n        ivShowImage.setImageResource(map.get(techList.get(index)));\n    }\n\n    public void nextQuestion(View view) {\n        btn1.setBackgroundColor(Color.parseColor(&quot;#2196f3&quot;));\n        btn2.setBackgroundColor(Color.parseColor(&quot;#2196f3&quot;));\n        btn3.setBackgroundColor(Color.parseColor(&quot;#2196f3&quot;));\n        btn4.setBackgroundColor(Color.parseColor(&quot;#2196f3&quot;));\n        btn1.setEnabled(true);\n        btn2.setEnabled(true);\n        btn3.setEnabled(true);\n        btn4.setEnabled(true);\n        countDownTimer.cancel();\n        index++;\n        if (index &gt; techList.size() - 1){\n            ivShowImage.setVisibility(View.GONE);\n            btn1.setVisibility(View.GONE);\n            btn2.setVisibility(View.GONE);\n            btn3.setVisibility(View.GONE);\n            btn4.setVisibility(View.GONE);\n            Intent intent = new Intent(OyunBasladi.this, OyunBitti.class);\n            intent.putExtra(&quot;points&quot;, points);\n            startActivity(intent);\n            finish();\n        }\n        else\n        {\n            countDownTimer = null;\n            startGame();\n        }\n    }\n\n    public void answerSelected(View view) {\n        view.setBackgroundColor(Color.parseColor(&quot;#17243e&quot;));\n        btn1.setEnabled(false);\n        btn2.setEnabled(false);\n        btn3.setEnabled(false);\n        btn4.setEnabled(false);\n        countDownTimer.cancel();\n        String answer = ((Button) view).getText().toString().trim();\n        String correctAnswer = techList.get(index);\n        if(answer.equals(correctAnswer)){\n            view.setBackgroundColor(Color.parseColor(&quot;#4CAF50&quot;));\n            points++;\n            tvPoints.setText(points + &quot; / &quot; + techList.size());\n            tvResult.setText(&quot;Doğru&quot;);\n        }\n        else\n        {\n            view.setBackgroundColor(Color.parseColor(&quot;#F44336&quot;));\n            tvResult.setText(&quot;Yanlış&quot;);\n        }\n    }\n}\n</code></pre>\n<p>Here is the code where you make the correct answer green and the wrong answer red. What should I write here so that when the wrong answer is chosen it should show the correct option green meanwhile the wrong answer still being red?</p>\n<pre><code>    public void answerSelected(View view) {\n        view.setBackgroundColor(Color.parseColor(&quot;#17243e&quot;));\n        btn1.setEnabled(false);\n        btn2.setEnabled(false);\n        btn3.setEnabled(false);\n        btn4.setEnabled(false);\n        countDownTimer.cancel();\n        String answer = ((Button) view).getText().toString().trim();\n        String correctAnswer = techList.get(index);\n        if(answer.equals(correctAnswer)){\n            view.setBackgroundColor(Color.parseColor(&quot;#4CAF50&quot;));\n            points++;\n            tvPoints.setText(points + &quot; / &quot; + techList.size());\n            tvResult.setText(&quot;Doğru&quot;);\n        }\n        else\n        {\n            view.setBackgroundColor(Color.parseColor(&quot;#F44336&quot;));\n            tvResult.setText(&quot;Yanlış&quot;);\n        }\n    }\n</code></pre>\n<p>The XML Codes</p>\n<pre><code>&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\nxmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\nxmlns:tools=&quot;http://schemas.android.com/tools&quot;\nandroid:layout_width=&quot;match_parent&quot;\nandroid:layout_height=&quot;match_parent&quot;\nandroid:background=&quot;#e8f4f8&quot;\nandroid:gravity=&quot;center&quot;\nandroid:orientation=&quot;vertical&quot;\nandroid:padding=&quot;16dp&quot;&gt;\n\n&lt;LinearLayout\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:orientation=&quot;horizontal&quot;&gt;\n\n    &lt;LinearLayout\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:orientation=&quot;horizontal&quot;&gt;\n\n        &lt;ImageView\n            android:layout_width=&quot;30dp&quot;\n            android:layout_height=&quot;30dp&quot;\n            android:layout_marginLeft=&quot;5dp&quot;\n            app:srcCompat=&quot;@drawable/sayac&quot; /&gt;\n\n        &lt;TextView\n            android:id=&quot;@+id/tvTimer&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;match_parent&quot;\n            android:layout_marginLeft=&quot;5dp&quot;\n            android:text=&quot;10s&quot;\n            android:textSize=&quot;24sp&quot; /&gt;\n    &lt;/LinearLayout&gt;\n\n    &lt;LinearLayout\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;31dp&quot;\n        android:gravity=&quot;right&quot;\n        android:orientation=&quot;horizontal&quot;&gt;\n\n        &lt;ImageView\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            app:srcCompat=&quot;@drawable/yildiz&quot; /&gt;\n\n        &lt;TextView\n            android:id=&quot;@+id/tvPoints&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_marginLeft=&quot;5dp&quot;\n            android:layout_marginRight=&quot;5dp&quot;\n            android:text=&quot;0/18&quot;\n            android:textSize=&quot;24sp&quot; /&gt;\n\n    &lt;/LinearLayout&gt;\n\n&lt;/LinearLayout&gt;\n\n&lt;LinearLayout\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:gravity=&quot;center&quot;\n    android:orientation=&quot;vertical&quot;&gt;\n\n    &lt;TextView\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginBottom=&quot;5dp&quot;\n        android:gravity=&quot;center&quot;\n        android:text=&quot;Bu Hangi Ülke?&quot;\n        android:textSize=&quot;24sp&quot; /&gt;\n\n    &lt;LinearLayout\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:gravity=&quot;center&quot;\n        android:orientation=&quot;vertical&quot;&gt;\n\n        &lt;ImageView\n            android:id=&quot;@+id/ivShowImage&quot;\n            android:layout_width=&quot;425dp&quot;\n            android:layout_height=&quot;256dp&quot;\n            android:layout_margin=&quot;5dp&quot;\n            tools:srcCompat=&quot;@drawable/android&quot; /&gt;\n\n        &lt;Button\n            android:id=&quot;@+id/btn1&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_margin=&quot;2dp&quot;\n            android:background=&quot;#2196f3&quot;\n            android:onClick=&quot;answerSelected&quot;\n            android:textColor=&quot;@android:color/white&quot;\n            android:textSize=&quot;32sp&quot;\n            app:backgroundTint=&quot;@null&quot; /&gt;\n\n        &lt;Button\n            android:id=&quot;@+id/btn2&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_margin=&quot;2dp&quot;\n            android:background=&quot;#2196f3&quot;\n            android:onClick=&quot;answerSelected&quot;\n            android:textColor=&quot;@android:color/white&quot;\n            android:textSize=&quot;32sp&quot;\n            app:backgroundTint=&quot;@null&quot; /&gt;\n\n        &lt;Button\n            android:id=&quot;@+id/btn3&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_margin=&quot;2dp&quot;\n            android:background=&quot;#2196f3&quot;\n            android:onClick=&quot;answerSelected&quot;\n            android:textColor=&quot;@android:color/white&quot;\n            android:textSize=&quot;32sp&quot;\n            app:backgroundTint=&quot;@null&quot; /&gt;\n\n        &lt;Button\n            android:id=&quot;@+id/btn4&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_margin=&quot;2dp&quot;\n            android:background=&quot;#2196f3&quot;\n            android:onClick=&quot;answerSelected&quot;\n            android:textColor=&quot;@android:color/white&quot;\n            android:textSize=&quot;32sp&quot;\n            app:backgroundTint=&quot;@null&quot; /&gt;\n\n        &lt;TextView\n            android:id=&quot;@+id/tvResult&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_margin=&quot;5dp&quot;\n            android:gravity=&quot;center&quot;\n            android:textSize=&quot;18sp&quot; /&gt;\n\n        &lt;Button\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_gravity=&quot;right&quot;\n            android:background=&quot;#2196f3&quot;\n            android:onClick=&quot;nextQuestion&quot;\n            android:paddingLeft=&quot;20dp&quot;\n            android:paddingRight=&quot;20dp&quot;\n            android:text=&quot;Sıradaki&quot;\n            android:textColor=&quot;@android:color/white&quot;\n            android:textSize=&quot;32sp&quot;\n            app:backgroundTint=&quot;@null&quot; /&gt;\n    &lt;/LinearLayout&gt;\n\n&lt;/LinearLayout&gt;\n</code></pre>\n\n<p>Any help is welcome.</p>\n"},{"tags":["java","jar","jd-gui"],"comments":[{"owner":{"account_id":13203350,"reputation":868,"user_id":9535950,"display_name":"Thomas Behr"},"score":0,"creation_date":1685116219,"post_id":76342357,"comment_id":134621407,"body_markdown":"Re 2.: Yes, there are. Do not decompile external dependencies, but reference the jar as a library. If a library does not come with source code, you are probably not allowed to decompile the jar anyways. Case in point, your sample code looks like it was decompiled from a flow-obfuscated class file which means the jar was intentionally modified to prevent decompilation.","body":"Re 2.: Yes, there are. Do not decompile external dependencies, but reference the jar as a library. If a library does not come with source code, you are probably not allowed to decompile the jar anyways. Case in point, your sample code looks like it was decompiled from a flow-obfuscated class file which means the jar was intentionally modified to prevent decompilation."},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":1,"creation_date":1685117497,"post_id":76342357,"comment_id":134621627,"body_markdown":"Re 1: How do you know what the &quot;original method&quot; should contain? There&#39;s zero context in the question so it&#39;s impossible to know if it makes sense or not--it could be an obfuscated parent class method that&#39;s **supposed** to return `null` for all we know.","body":"Re 1: How do you know what the &quot;original method&quot; should contain? There&#39;s zero context in the question so it&#39;s impossible to know if it makes sense or not--it could be an obfuscated parent class method that&#39;s <b>supposed</b> to return <code>null</code> for all we know."}],"answers":[{"tags":[],"owner":{"account_id":8400492,"reputation":120,"user_id":6305882,"display_name":"David Rosario"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685117130,"creation_date":1685117130,"answer_id":76342556,"question_id":76342357,"body_markdown":"Some things to note about decompiling ...\r\n\r\nSome libraries, like the CyberArk libraries, are intentionally coded in such a way that makes them hard to understand.\r\n\r\nAlso, if the library is compiled from a language other than Java, you will not get what you expect. This is particularly true with Groovy, where a bunch of `sitecall` commands appear.","title":"Unusual method appeared when decompiling JAR file into java project","body":"<p>Some things to note about decompiling ...</p>\n<p>Some libraries, like the CyberArk libraries, are intentionally coded in such a way that makes them hard to understand.</p>\n<p>Also, if the library is compiled from a language other than Java, you will not get what you expect. This is particularly true with Groovy, where a bunch of <code>sitecall</code> commands appear.</p>\n"}],"owner":{"account_id":28672918,"reputation":1,"user_id":21955585,"display_name":"Meher Guesmi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1685117130,"creation_date":1685115940,"question_id":76342357,"body_markdown":"When attempting to decompile a JAR file into a Java project using the Java Decompiler JD-GUI, I encountered an issue with the decompiled methods. Here is an example:\r\n\r\n```\r\npublic Node getNode() {\r\n    Node res = null;\r\n    try {\r\n      Exception exception2, exception1 = null;\r\n    } catch (Exception e) {\r\n      e.printStackTrace();\r\n    } \r\n    return res;\r\n}\r\n```\r\n\r\n**I&#39;m seeking assistance in two aspects:**\r\n\r\n1. How can I resolve the apparent issue with the Exception exception2, exception1 = null; try/catch block, as the original method should contain different code?\r\n\r\n2. Are there alternative methods available that are more efficient for decompiling JAR files into Java projects and executing them?","title":"Unusual method appeared when decompiling JAR file into java project","body":"<p>When attempting to decompile a JAR file into a Java project using the Java Decompiler JD-GUI, I encountered an issue with the decompiled methods. Here is an example:</p>\n<pre><code>public Node getNode() {\n    Node res = null;\n    try {\n      Exception exception2, exception1 = null;\n    } catch (Exception e) {\n      e.printStackTrace();\n    } \n    return res;\n}\n</code></pre>\n<p><strong>I'm seeking assistance in two aspects:</strong></p>\n<ol>\n<li><p>How can I resolve the apparent issue with the Exception exception2, exception1 = null; try/catch block, as the original method should contain different code?</p>\n</li>\n<li><p>Are there alternative methods available that are more efficient for decompiling JAR files into Java projects and executing them?</p>\n</li>\n</ol>\n"},{"tags":["java","spring-boot","kotlin","javax-validation"],"answers":[{"comments":[{"owner":{"account_id":17052632,"reputation":1,"user_id":12337923,"display_name":"Navin Kumar"},"score":0,"creation_date":1685109710,"post_id":76341536,"comment_id":134619919,"body_markdown":"sorry, I have tried this as well but it is not working for me :(","body":"sorry, I have tried this as well but it is not working for me :("},{"owner":{"account_id":2669818,"reputation":715,"user_id":2307460,"accept_rate":60,"display_name":"Yogesh"},"score":0,"creation_date":1685109943,"post_id":76341536,"comment_id":134619977,"body_markdown":"updated my answer you can take reference ..if works you can vote for the same.","body":"updated my answer you can take reference ..if works you can vote for the same."},{"owner":{"account_id":2669818,"reputation":715,"user_id":2307460,"accept_rate":60,"display_name":"Yogesh"},"score":0,"creation_date":1685112808,"post_id":76341536,"comment_id":134620665,"body_markdown":"You can up vote to my answer for future reference to others","body":"You can up vote to my answer for future reference to others"}],"tags":[],"owner":{"account_id":2669818,"reputation":715,"user_id":2307460,"accept_rate":60,"display_name":"Yogesh"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685109866,"creation_date":1685109535,"answer_id":76341536,"question_id":76341468,"body_markdown":"you can try with removing Outer @Valid option\r\n\r\n    @PutMapping(@RequestBody upsertData: List&lt;@Valid UpsertData&gt;): ResponseEntity&lt;String&gt; {\r\n    \r\n    }\r\n\r\nor you can refer below sample code which is working for me\r\n\r\n    @RestController\r\n    @Validated\r\n    class MyController {\r\n        @GetMapping(&quot;/srch&quot;)\r\n        fun getSearchResult(\r\n            @Valid\r\n            @RequestParam(value = &quot;term&quot;) terms: List&lt;Term&gt;,\r\n        ): Mono&lt;ResponseEntity&lt;SearchResponse&gt;&gt; {...}\r\n    }","title":"How to use @Valid with @PutMapping when Request Body is a List of dataclass in Kotlin Spring boot?","body":"<p>you can try with removing Outer @Valid option</p>\n<pre><code>@PutMapping(@RequestBody upsertData: List&lt;@Valid UpsertData&gt;): ResponseEntity&lt;String&gt; {\n\n}\n</code></pre>\n<p>or you can refer below sample code which is working for me</p>\n<pre><code>@RestController\n@Validated\nclass MyController {\n    @GetMapping(&quot;/srch&quot;)\n    fun getSearchResult(\n        @Valid\n        @RequestParam(value = &quot;term&quot;) terms: List&lt;Term&gt;,\n    ): Mono&lt;ResponseEntity&lt;SearchResponse&gt;&gt; {...}\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11044876,"reputation":142,"user_id":11922928,"display_name":"Anıl Şenocak"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685116841,"creation_date":1685116841,"answer_id":76342468,"question_id":76341468,"body_markdown":"try following because Kotlin declaritve is not same as Java;\r\n\r\n    @field:Valid","title":"How to use @Valid with @PutMapping when Request Body is a List of dataclass in Kotlin Spring boot?","body":"<p>try following because Kotlin declaritve is not same as Java;</p>\n<pre><code>@field:Valid\n</code></pre>\n"}],"owner":{"account_id":17052632,"reputation":1,"user_id":12337923,"display_name":"Navin Kumar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":125,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1685116841,"creation_date":1685109103,"question_id":76341468,"body_markdown":"@Valid is not working with @PutMapping where Request Body is List of dataclass in Kotlin Spring boot\r\n\r\n\r\nhave added the library for it in the ***gradle.build.kts*** \r\n\r\n    implementation(&quot;org.springframework.boot:spring-boot-starter-validation&quot;)\r\n\r\nthen tested for the below scenario it worked\r\n\r\n  \r\n\r\n    @PutMapping(@Valid @RequestBody upsertData: UpsertData): ResponseEntity&lt;String&gt; {\r\n            \r\n            }\r\n\r\n    data class UpsertData {\r\n        @field:NotBlank(message = &quot;Name must not be blank&quot;)\r\n        val naName: String,\r\n        @field:Min(value = 18, message = &quot;Age must be at least 18&quot;)\r\n        val age: Int\r\n    }\r\n\r\nbut when I tried for below it is not validating the input\r\n\r\n    @PutMapping(@Valid @RequestBody upsertData: List&lt;UpsertData&gt;): ResponseEntity&lt;String&gt; {\r\n    \r\n    }\r\n\r\nI also tried by adding @Valid for the dataclass only but still this is failing...\r\n\r\n    @PutMapping(@Valid @RequestBody upsertData: List&lt;@Valid UpsertData&gt;): ResponseEntity&lt;String&gt; {\r\n    \r\n    }\r\n\r\n*Can someone please help me here...*\r\n","title":"How to use @Valid with @PutMapping when Request Body is a List of dataclass in Kotlin Spring boot?","body":"<p>@Valid is not working with @PutMapping where Request Body is List of dataclass in Kotlin Spring boot</p>\n<p>have added the library for it in the <em><strong>gradle.build.kts</strong></em></p>\n<pre><code>implementation(&quot;org.springframework.boot:spring-boot-starter-validation&quot;)\n</code></pre>\n<p>then tested for the below scenario it worked</p>\n<pre><code>@PutMapping(@Valid @RequestBody upsertData: UpsertData): ResponseEntity&lt;String&gt; {\n        \n        }\n\ndata class UpsertData {\n    @field:NotBlank(message = &quot;Name must not be blank&quot;)\n    val naName: String,\n    @field:Min(value = 18, message = &quot;Age must be at least 18&quot;)\n    val age: Int\n}\n</code></pre>\n<p>but when I tried for below it is not validating the input</p>\n<pre><code>@PutMapping(@Valid @RequestBody upsertData: List&lt;UpsertData&gt;): ResponseEntity&lt;String&gt; {\n\n}\n</code></pre>\n<p>I also tried by adding @Valid for the dataclass only but still this is failing...</p>\n<pre><code>@PutMapping(@Valid @RequestBody upsertData: List&lt;@Valid UpsertData&gt;): ResponseEntity&lt;String&gt; {\n\n}\n</code></pre>\n<p><em>Can someone please help me here...</em></p>\n"},{"tags":["java","json"],"comments":[{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":1,"creation_date":1685118410,"post_id":76342408,"comment_id":134621825,"body_markdown":"Why? The [JSON spec](https://www.json.org/json-en.html) states: &quot;An object is an unordered set of name/value pairs.&quot; No program should depend on the order. If this is for humans, it may make sense but any editor / tool could change that manual order again. That said, your best call is probably to write a small program and do that ordering for you. Post that program&#39;s code when you run into problems. See also [ask].","body":"Why? The <a href=\"https://www.json.org/json-en.html\" rel=\"nofollow noreferrer\">JSON spec</a> states: &quot;An object is an unordered set of name/value pairs.&quot; No program should depend on the order. If this is for humans, it may make sense but any editor / tool could change that manual order again. That said, your best call is probably to write a small program and do that ordering for you. Post that program&#39;s code when you run into problems. See also <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>."},{"owner":{"account_id":19922267,"reputation":1,"user_id":14597814,"display_name":"Albert Vesker"},"score":0,"creation_date":1685528246,"post_id":76342408,"comment_id":134671691,"body_markdown":"Yes, it&#39;s for humans)) Just for the best view and easier to change it manually) Ok, thanks, I&#39;ll try it. Do u have suggestions on how to do it?)","body":"Yes, it&#39;s for humans)) Just for the best view and easier to change it manually) Ok, thanks, I&#39;ll try it. Do u have suggestions on how to do it?)"}],"owner":{"account_id":19922267,"reputation":1,"user_id":14597814,"display_name":"Albert Vesker"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685116337,"creation_date":1685116337,"question_id":76342408,"body_markdown":"I have a lot of JSON files as test data for testing and I would like to sort fields in each JSON according to the JSON scheme from swagger.yml of the application. As you understand each could contain different set of fields\r\n\r\nI use Java and Maven\r\n\r\nI&#39;ve tried to search Google and I&#39;ve tried to read documentation Jackson but I&#39;ve found anything that would help me","title":"How to sort fields in all json&#39;s according swagger","body":"<p>I have a lot of JSON files as test data for testing and I would like to sort fields in each JSON according to the JSON scheme from swagger.yml of the application. As you understand each could contain different set of fields</p>\n<p>I use Java and Maven</p>\n<p>I've tried to search Google and I've tried to read documentation Jackson but I've found anything that would help me</p>\n"},{"tags":["java","date","date-formatting","instancio"],"comments":[{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":2,"creation_date":1685092504,"post_id":76339318,"comment_id":134616172,"body_markdown":"Is there any reason `Student` is using a string to represent a date instead of just `LocalDate`? Is that something you can change?","body":"Is there any reason <code>Student</code> is using a string to represent a date instead of just <code>LocalDate</code>? Is that something you can change?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1685095269,"post_id":76339318,"comment_id":134616815,"body_markdown":"Yes, it should be `LocalDate`. What did you try?","body":"Yes, it should be <code>LocalDate</code>. What did you try?"}],"answers":[{"comments":[{"owner":{"account_id":6353546,"reputation":17,"user_id":4933008,"display_name":"MrWalterWhite"},"score":1,"creation_date":1693829160,"post_id":76342305,"comment_id":135807598,"body_markdown":"Hi @armandino, thanks for the suggestion. That was exactly what I was searching for! Thx","body":"Hi @armandino, thanks for the suggestion. That was exactly what I was searching for! Thx"}],"tags":[],"owner":{"account_id":19296,"reputation":17862,"user_id":45112,"accept_rate":71,"display_name":"armandino"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1685115532,"creation_date":1685115532,"answer_id":76342305,"question_id":76339318,"body_markdown":"As suggested in the comments, it&#39;s a good practice to declare the field as a`LocalDate` instead of a `String`. If you cannot change that, you can map the date to a string using the `as()` method:\r\n\r\n```java\r\nStudent student = Instancio.of(Student.class)\r\n  .generate(field(Student::getBirthdate), gen -&gt; gen.temporal().localDate().past().as(dob -&gt; dob.format(DateTimeFormatter.BASIC_ISO_DATE)))\r\n  .create();\r\n\r\n```\r\n\r\n","title":"Instancio - Generate past date as string format YYYYMMDD","body":"<p>As suggested in the comments, it's a good practice to declare the field as a<code>LocalDate</code> instead of a <code>String</code>. If you cannot change that, you can map the date to a string using the <code>as()</code> method:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Student student = Instancio.of(Student.class)\n  .generate(field(Student::getBirthdate), gen -&gt; gen.temporal().localDate().past().as(dob -&gt; dob.format(DateTimeFormatter.BASIC_ISO_DATE)))\n  .create();\n\n</code></pre>\n"}],"owner":{"account_id":6353546,"reputation":17,"user_id":4933008,"display_name":"MrWalterWhite"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":278,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76342305,"answer_count":1,"score":1,"last_activity_date":1685115532,"creation_date":1685092137,"question_id":76339318,"body_markdown":"I&#39;m trying to use Instancio to generate data for testing. The Student class has a birthdate member as a String type to store the date in the format YYYYMMDD.\r\n\r\nHow can I use **Instancio** library (test data generator) to generate a date in the format yyyyMMdd as string?\r\n\r\nHere was my starting poing:\r\n\r\n    Student student = Instancio.of(Student.class)\r\n      .generate(field(Student::getBirthdate), gen -&gt; gen.temporal().localDate().past())\r\n      .create();\r\n\r\nThx","title":"Instancio - Generate past date as string format YYYYMMDD","body":"<p>I'm trying to use Instancio to generate data for testing. The Student class has a birthdate member as a String type to store the date in the format YYYYMMDD.</p>\n<p>How can I use <strong>Instancio</strong> library (test data generator) to generate a date in the format yyyyMMdd as string?</p>\n<p>Here was my starting poing:</p>\n<pre><code>Student student = Instancio.of(Student.class)\n  .generate(field(Student::getBirthdate), gen -&gt; gen.temporal().localDate().past())\n  .create();\n</code></pre>\n<p>Thx</p>\n"},{"tags":["java","mocking"],"comments":[{"owner":{"account_id":28952,"reputation":13127,"user_id":77804,"accept_rate":55,"display_name":"phtrivier"},"score":1,"creation_date":1308226199,"post_id":6371379,"comment_id":7461848,"body_markdown":"Is your problem the System.in ? You probably want to refactor your code so that another InputStream is passed instead of System.in ; then you can use any Mocking framework (like mentionned in the answers) to mock this InputStream.","body":"Is your problem the System.in ? You probably want to refactor your code so that another InputStream is passed instead of System.in ; then you can use any Mocking framework (like mentionned in the answers) to mock this InputStream."}],"answers":[{"comments":[{"owner":{"account_id":11083824,"reputation":76,"user_id":8138266,"display_name":"Alejandro Sanchez"},"score":0,"creation_date":1575577046,"post_id":6371433,"comment_id":104623153,"body_markdown":"How do I import `Client`? I&#39;m sorry but I&#39;m new to mockito and junit, you are using Client on this line:\n`org.junit.Assert.when(new Client(bufferedReader).parseLine())`","body":"How do I import <code>Client</code>? I&#39;m sorry but I&#39;m new to mockito and junit, you are using Client on this line: <code>org.junit.Assert.when(new Client(bufferedReader).parseLine())</code>"},{"owner":{"account_id":15271,"reputation":63428,"user_id":32090,"accept_rate":91,"display_name":"Boris Pavlović"},"score":0,"creation_date":1575578983,"post_id":6371433,"comment_id":104623967,"body_markdown":"Client is a class that uses the buffered reader to read line by line and parse it","body":"Client is a class that uses the buffered reader to read line by line and parse it"}],"tags":[],"owner":{"account_id":15271,"reputation":63428,"user_id":32090,"accept_rate":91,"display_name":"Boris Pavlović"},"comment_count":2,"down_vote_count":0,"up_vote_count":66,"is_accepted":true,"score":66,"last_activity_date":1574250783,"creation_date":1308225594,"answer_id":6371433,"question_id":6371379,"body_markdown":"    BufferedReader bufferedReader = org.mockito.Mockito.mock(BufferedReader.class);\r\n    when(bufferedReader.readLine())\r\n      .thenReturn(&quot;first line&quot;)\r\n      .thenReturn(&quot;second line&quot;);\r\n    \r\n    org.junit.Assert.when(new Client(bufferedReader).parseLine())\r\n      .thenEquals(IsEqual.equalTo(&quot;first line&quot;));","title":"Mocking Java InputStream","body":"<pre><code>BufferedReader bufferedReader = org.mockito.Mockito.mock(BufferedReader.class);\nwhen(bufferedReader.readLine())\n  .thenReturn(\"first line\")\n  .thenReturn(\"second line\");\n\norg.junit.Assert.when(new Client(bufferedReader).parseLine())\n  .thenEquals(IsEqual.equalTo(\"first line\"));\n</code></pre>\n"},{"comments":[{"owner":{"account_id":112158,"reputation":4626,"user_id":295962,"accept_rate":84,"display_name":"Hank"},"score":0,"creation_date":1429285195,"post_id":6371511,"comment_id":47542935,"body_markdown":"Additional benefit is that `ByteArrayInputStream` supports `mark()` and `reset()`","body":"Additional benefit is that <code>ByteArrayInputStream</code> supports <code>mark()</code> and <code>reset()</code>"},{"owner":{"account_id":367127,"reputation":15366,"user_id":713106,"accept_rate":100,"display_name":"Brad"},"score":5,"creation_date":1431432861,"post_id":6371511,"comment_id":48486111,"body_markdown":"Nice and simple ... `InputStream anyInputStream = new ByteArrayInputStream(&quot;test data&quot;.getBytes());`","body":"Nice and simple ... <code>InputStream anyInputStream = new ByteArrayInputStream(&quot;test data&quot;.getBytes());</code>"},{"owner":{"account_id":91981,"reputation":3055,"user_id":252308,"accept_rate":36,"display_name":"swooby"},"score":2,"creation_date":1613595560,"post_id":6371511,"comment_id":117126942,"body_markdown":"in Kotlin: `val inputStream = &quot;test data&quot;.byteInputStream()`","body":"in Kotlin: <code>val inputStream = &quot;test data&quot;.byteInputStream()</code>"}],"tags":[],"owner":{"account_id":398303,"reputation":27194,"user_id":762913,"accept_rate":75,"display_name":"pap"},"comment_count":3,"down_vote_count":0,"up_vote_count":129,"is_accepted":false,"score":129,"last_activity_date":1457629027,"creation_date":1308225968,"answer_id":6371511,"question_id":6371379,"body_markdown":"You could just use a [`ByteArrayInputStream`][1] and fill it with your test data.\r\n\r\n@Brad&#39;s example from the comments:\r\n\r\n    InputStream anyInputStream = new ByteArrayInputStream(&quot;test data&quot;.getBytes());\r\n\r\n\r\n  [1]: http://download.oracle.com/javase/6/docs/api/java/io/ByteArrayInputStream.html","title":"Mocking Java InputStream","body":"<p>You could just use a <a href=\"http://download.oracle.com/javase/6/docs/api/java/io/ByteArrayInputStream.html\"><code>ByteArrayInputStream</code></a> and fill it with your test data.</p>\n\n<p>@Brad's example from the comments:</p>\n\n<pre><code>InputStream anyInputStream = new ByteArrayInputStream(\"test data\".getBytes());\n</code></pre>\n"},{"comments":[{"owner":{"account_id":132011,"reputation":2350,"user_id":332451,"accept_rate":62,"display_name":"exic"},"score":1,"creation_date":1385026774,"post_id":6371858,"comment_id":29977934,"body_markdown":"If you want to use the stream more than once, how would you reset it after use?","body":"If you want to use the stream more than once, how would you reset it after use?"},{"owner":{"account_id":206654,"reputation":2288,"user_id":456073,"accept_rate":80,"display_name":"Eric"},"score":0,"creation_date":1386603797,"post_id":6371858,"comment_id":30596973,"body_markdown":"You could wrap it in a BufferedInputStream and use mark() and reset().  But probably easier to just instantiate a new one in your setup method (assuming we&#39;re still talking about testing here).","body":"You could wrap it in a BufferedInputStream and use mark() and reset().  But probably easier to just instantiate a new one in your setup method (assuming we&#39;re still talking about testing here)."},{"owner":{"account_id":8181519,"reputation":1267,"user_id":6158542,"accept_rate":67,"display_name":"JonyD"},"score":1,"creation_date":1486984808,"post_id":6371858,"comment_id":71566838,"body_markdown":"since v2.3 you need to add the Charset, for ex: `toInputStream(&quot;someString&quot;, &quot;UTF-8&quot;)`. The version with only String as parameters is deprecated.","body":"since v2.3 you need to add the Charset, for ex: <code>toInputStream(&quot;someString&quot;, &quot;UTF-8&quot;)</code>. The version with only String as parameters is deprecated."},{"owner":{"account_id":206654,"reputation":2288,"user_id":456073,"accept_rate":80,"display_name":"Eric"},"score":0,"creation_date":1487706293,"post_id":6371858,"comment_id":71902134,"body_markdown":"Thanks @JonyD! I updated the answer to include the charset parameter.","body":"Thanks @JonyD! I updated the answer to include the charset parameter."},{"owner":{"account_id":1794013,"reputation":316,"user_id":1633845,"display_name":"dcasadevall"},"score":1,"creation_date":1564777114,"post_id":6371858,"comment_id":101155851,"body_markdown":"My favorite answer! I would just add that instead of using the non type safe string, you could be using `StandardCharsets.UTF_8`","body":"My favorite answer! I would just add that instead of using the non type safe string, you could be using <code>StandardCharsets.UTF_8</code>"}],"tags":[],"owner":{"account_id":206654,"reputation":2288,"user_id":456073,"accept_rate":80,"display_name":"Eric"},"comment_count":5,"down_vote_count":1,"up_vote_count":132,"is_accepted":false,"score":131,"last_activity_date":1487706215,"creation_date":1308227595,"answer_id":6371858,"question_id":6371379,"body_markdown":"You could use [commons-io][1] to create some stub input streams:\r\n\r\n    InputStream stubInputStream = \r\n         IOUtils.toInputStream(&quot;some test data for my input stream&quot;, &quot;UTF-8&quot;);\r\n\r\n\r\n  [1]: http://commons.apache.org/io/","title":"Mocking Java InputStream","body":"<p>You could use <a href=\"http://commons.apache.org/io/\" rel=\"noreferrer\">commons-io</a> to create some stub input streams:</p>\n\n<pre><code>InputStream stubInputStream = \n     IOUtils.toInputStream(\"some test data for my input stream\", \"UTF-8\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":75804,"reputation":94840,"user_id":217324,"accept_rate":96,"display_name":"Nathan Hughes"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1308228838,"creation_date":1308228838,"answer_id":6372170,"question_id":6371379,"body_markdown":"Change your object so it is easier to test, something like this:\r\n\r\n    public MyObject {\r\n        private InputStream inputStream;\r\n\r\n        public void setInputStream(InputStream inputStream) {this.inputStream = inputStream;}\r\n\r\n        public void whatever() {\r\n            InputStreamReader inputData = new InputStreamReader(inputStream);\r\n            bufferdReader = new BufferedReader(inputData);\r\n            bufferdReader.readLine(); \r\n        }\r\n    }\r\n\r\nthen when you use your object initialize its inputStream first:\r\n\r\n    MyObject myObject = new MyObject();\r\n    myObject.setInputStream(System.in);\r\n\r\nNow you have an object where you can test it using any implementation of InputStream you want (ByteArrayInputStream is a good one to try).","title":"Mocking Java InputStream","body":"<p>Change your object so it is easier to test, something like this:</p>\n\n<pre><code>public MyObject {\n    private InputStream inputStream;\n\n    public void setInputStream(InputStream inputStream) {this.inputStream = inputStream;}\n\n    public void whatever() {\n        InputStreamReader inputData = new InputStreamReader(inputStream);\n        bufferdReader = new BufferedReader(inputData);\n        bufferdReader.readLine(); \n    }\n}\n</code></pre>\n\n<p>then when you use your object initialize its inputStream first:</p>\n\n<pre><code>MyObject myObject = new MyObject();\nmyObject.setInputStream(System.in);\n</code></pre>\n\n<p>Now you have an object where you can test it using any implementation of InputStream you want (ByteArrayInputStream is a good one to try).</p>\n"},{"comments":[{"owner":{"account_id":241380,"reputation":14178,"user_id":512155,"accept_rate":100,"display_name":"Jan Groth"},"score":5,"creation_date":1395403693,"post_id":17735371,"comment_id":34333724,"body_markdown":"Here&#39;s a usecase: mock multiple different invocations, e.g. in a loop (wrong input1 -&gt; wrong input2 -&gt; correct input3).","body":"Here&#39;s a usecase: mock multiple different invocations, e.g. in a loop (wrong input1 -&gt; wrong input2 -&gt; correct input3)."},{"owner":{"account_id":119118,"reputation":6072,"user_id":310606,"accept_rate":74,"display_name":"John Deverall"},"score":0,"creation_date":1459069804,"post_id":17735371,"comment_id":60121131,"body_markdown":"Keep your InputStream code and your Reader code in separate classes, just like the java api does. Have your test class pass an implementation of Reader, not InputStream, and in production code, also pass an implementation of Reader to the class that is reading your data / doing your data processing.","body":"Keep your InputStream code and your Reader code in separate classes, just like the java api does. Have your test class pass an implementation of Reader, not InputStream, and in production code, also pass an implementation of Reader to the class that is reading your data / doing your data processing."}],"tags":[],"owner":{"account_id":119118,"reputation":6072,"user_id":310606,"accept_rate":74,"display_name":"John Deverall"},"comment_count":2,"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1463488699,"creation_date":1374188055,"answer_id":17735371,"question_id":6371379,"body_markdown":"I disagree with the selected answer for this question. Mocking frameworks like Mockito are nice and all, however when standard java api is available you might consider using that instead. \r\n\r\ni.e. \r\n\r\n    BufferedReader reader = new BufferedReader(new StringReader(&quot;some string&quot;));\r\n\r\nWhy use a Mock object in your test classes when you could use a real one with all its state and behaviour? \r\n\r\nTo see more about how this works, you could look up the &#39;decorator&#39; design pattern.\r\n\r\n\r\n","title":"Mocking Java InputStream","body":"<p>I disagree with the selected answer for this question. Mocking frameworks like Mockito are nice and all, however when standard java api is available you might consider using that instead. </p>\n\n<p>i.e. </p>\n\n<pre><code>BufferedReader reader = new BufferedReader(new StringReader(\"some string\"));\n</code></pre>\n\n<p>Why use a Mock object in your test classes when you could use a real one with all its state and behaviour? </p>\n\n<p>To see more about how this works, you could look up the 'decorator' design pattern.</p>\n"},{"tags":[],"owner":{"account_id":361836,"reputation":2367,"user_id":704681,"accept_rate":89,"display_name":"A. Masson"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1382467524,"creation_date":1382467174,"answer_id":19525771,"question_id":6371379,"body_markdown":"Assuming you are using Maven you can put a resource into &quot;src/test/resources/&quot; folder let&#39;s say &quot;src/test/resources/**wonderful-mock-data.xml**&quot;. Then in you jUnit your can do:\r\n\r\n\t\tString resourceInputFile = &quot;/database-insert-test.xml&quot;;\r\n\t\tURL url = this.getClass().getResource(resourceInputFile);\r\n\t\tAssert.assertNotNull(&quot;Can&#39;t find resource &quot; + resourceInputFile, url);\r\n\r\n\t\tInputStream inputStream = url.openStream();\r\n\r\n\t\t// Now you can just use the inputStream for method calls requiring this param\r\n\t\t(...)\r\n\r\nIn this example the url varialble will be **null** if the given resource can&#39;t be found inside current classpath. This approach allows you to put multiple scenarios inside different resourceInputFile(s)... Also remember that all kind of resources under &quot;src/test/resources/&quot; (not just xml files, any kind like txt, html, jpeg, etc.) are normaly available as classpath resources from all jUnit tests.","title":"Mocking Java InputStream","body":"<p>Assuming you are using Maven you can put a resource into \"src/test/resources/\" folder let's say \"src/test/resources/<strong>wonderful-mock-data.xml</strong>\". Then in you jUnit your can do:</p>\n\n<pre><code>    String resourceInputFile = \"/database-insert-test.xml\";\n    URL url = this.getClass().getResource(resourceInputFile);\n    Assert.assertNotNull(\"Can't find resource \" + resourceInputFile, url);\n\n    InputStream inputStream = url.openStream();\n\n    // Now you can just use the inputStream for method calls requiring this param\n    (...)\n</code></pre>\n\n<p>In this example the url varialble will be <strong>null</strong> if the given resource can't be found inside current classpath. This approach allows you to put multiple scenarios inside different resourceInputFile(s)... Also remember that all kind of resources under \"src/test/resources/\" (not just xml files, any kind like txt, html, jpeg, etc.) are normaly available as classpath resources from all jUnit tests.</p>\n"},{"tags":[],"owner":{"account_id":4231335,"reputation":41,"user_id":3463574,"display_name":"Pentayya"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1395828869,"creation_date":1395828441,"answer_id":22657546,"question_id":6371379,"body_markdown":"    @Test\r\n        public void testReadFile() {\r\n        TestClass ClassName = Mockito.mock(TestClass.class);\r\n         InputStream in = Mockito.mock(InputStream.class);\r\n         InputStreamReader inr =Mockito.mock(InputStreamReader.class);\r\n         BufferedReader bufferedReader =Mockito.mock(BufferedReader.class);\r\n           try {\r\n             PowerMockito.whenNew(InputStreamReader.class).withArguments(in).thenReturn(inr);\r\n             PowerMockito.whenNew(BufferedReader.class).withArguments(inr).thenReturn(bufferedReader);\r\n             String line1 = &quot;example line&quot;;\r\n             PowerMockito.when(bufferedReader.readLine()).thenReturn(line1).thenReturn(null);\r\n             method return type = Whitebox.invokeMethod(ClassName, &quot;MethodName&quot;, arguement);\r\n             assertEquals(&quot;result is::&quot;,&quot;expected&quot;, actual);\r\n         } catch (Exception e) {\r\n             e.printStackTrace();\r\n         }\r\n     }","title":"Mocking Java InputStream","body":"<pre><code>@Test\n    public void testReadFile() {\n    TestClass ClassName = Mockito.mock(TestClass.class);\n     InputStream in = Mockito.mock(InputStream.class);\n     InputStreamReader inr =Mockito.mock(InputStreamReader.class);\n     BufferedReader bufferedReader =Mockito.mock(BufferedReader.class);\n       try {\n         PowerMockito.whenNew(InputStreamReader.class).withArguments(in).thenReturn(inr);\n         PowerMockito.whenNew(BufferedReader.class).withArguments(inr).thenReturn(bufferedReader);\n         String line1 = \"example line\";\n         PowerMockito.when(bufferedReader.readLine()).thenReturn(line1).thenReturn(null);\n         method return type = Whitebox.invokeMethod(ClassName, \"MethodName\", arguement);\n         assertEquals(\"result is::\",\"expected\", actual);\n     } catch (Exception e) {\n         e.printStackTrace();\n     }\n }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":71611,"reputation":26366,"user_id":6998684,"display_name":"IgorGanapolsky"},"score":1,"creation_date":1458658473,"post_id":25788587,"comment_id":59952746,"body_markdown":"This adds another dependency on IOUtils - which makes your test code larger.  Not the desired effect we want from small unit tests...","body":"This adds another dependency on IOUtils - which makes your test code larger.  Not the desired effect we want from small unit tests..."}],"tags":[],"owner":{"account_id":5016380,"reputation":31,"user_id":4031153,"display_name":"Pritesh"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1410441653,"creation_date":1410441653,"answer_id":25788587,"question_id":6371379,"body_markdown":"The best solution i found is use \r\n\r\n    final InputStream inputStream1 = IOUtils.toInputStream(&quot;yourdata&quot;);\r\n\r\nand then wrap the inpustream in bufferedReader best way to write test around input Stream","title":"Mocking Java InputStream","body":"<p>The best solution i found is use </p>\n\n<pre><code>final InputStream inputStream1 = IOUtils.toInputStream(\"yourdata\");\n</code></pre>\n\n<p>and then wrap the inpustream in bufferedReader best way to write test around input Stream</p>\n"},{"tags":[],"owner":{"account_id":1189976,"reputation":88,"user_id":1163018,"display_name":"eyveer"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1423507289,"creation_date":1423507289,"answer_id":28416950,"question_id":6371379,"body_markdown":"    String testString = &quot;test\\nstring&quot;;\r\n    InputStream stream = new ByteArrayInputStream(testString.getBytes(StandardCharsets.UTF_8));\r\n\r\n    BufferedReader reader = new BufferedReader(new InputStreamReader(stream));\r\n\r\n    Assert.assertEquals(&quot;test&quot;, reader.readLine());\r\n    Assert.assertEquals(&quot;string&quot;, reader.readLine());","title":"Mocking Java InputStream","body":"<pre><code>String testString = \"test\\nstring\";\nInputStream stream = new ByteArrayInputStream(testString.getBytes(StandardCharsets.UTF_8));\n\nBufferedReader reader = new BufferedReader(new InputStreamReader(stream));\n\nAssert.assertEquals(\"test\", reader.readLine());\nAssert.assertEquals(\"string\", reader.readLine());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5998981,"reputation":1717,"user_id":4712855,"display_name":"取一个好的名字"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1568983772,"creation_date":1568983772,"answer_id":58028732,"question_id":6371379,"body_markdown":"    when(imageService.saveOrUpdate(Matchers.&lt;Image&gt;anyObject())).thenReturn(image);\r\n\r\n\r\nReference  http://www.javased.com/?api=org.mockito.Matchers","title":"Mocking Java InputStream","body":"<pre><code>when(imageService.saveOrUpdate(Matchers.&lt;Image&gt;anyObject())).thenReturn(image);\n</code></pre>\n\n<p>Reference  <a href=\"http://www.javased.com/?api=org.mockito.Matchers\" rel=\"nofollow noreferrer\">http://www.javased.com/?api=org.mockito.Matchers</a></p>\n"},{"comments":[{"owner":{"account_id":16657935,"reputation":834,"user_id":13927534,"display_name":"Miss Skooter"},"score":0,"creation_date":1685047509,"post_id":76332254,"comment_id":134610767,"body_markdown":"While this link may answer the question, it is better to include the essential parts of the answer here and provide the link for reference.  Link-only answers can become invalid if the linked page changes. - [From Review](/review/late-answers/34446496)","body":"While this link may answer the question, it is better to include the essential parts of the answer here and provide the link for reference.  Link-only answers can become invalid if the linked page changes. - <a href=\"/review/late-answers/34446496\">From Review</a>"}],"tags":[],"owner":{"account_id":25837169,"reputation":1,"user_id":19573392,"display_name":"Tolmachevsky"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685115451,"creation_date":1685017542,"answer_id":76332254,"question_id":6371379,"body_markdown":"You can also mock `InpuStream` use this guide:\r\nhttps://www.baeldung.com/java-mocking-inputstream\r\n\r\nFor example:\r\n\r\n        @Test\r\n        public void givenSimpleImplementation_shouldProcessInputStream() throws IOException {\r\n            int byteCount = processInputStream(new InputStream() {\r\n                private final byte[] msg = &quot;Hello World&quot;.getBytes();\r\n                private int index = 0;\r\n                @Override\r\n                public int read() {\r\n                    if (index &gt;= msg.length) {\r\n                        return -1;\r\n                    }\r\n                    return msg[index++];\r\n                }\r\n            });\r\n            assertThat(byteCount).isEqualTo(11);\r\n        }\r\n    \r\n        int processInputStream(InputStream inputStream) throws IOException {\r\n            int count = 0;\r\n            while(inputStream.read() != -1) {\r\n                count++;\r\n            }\r\n            return count;\r\n        }","title":"Mocking Java InputStream","body":"<p>You can also mock <code>InpuStream</code> use this guide:\n<a href=\"https://www.baeldung.com/java-mocking-inputstream\" rel=\"nofollow noreferrer\">https://www.baeldung.com/java-mocking-inputstream</a></p>\n<p>For example:</p>\n<pre><code>    @Test\n    public void givenSimpleImplementation_shouldProcessInputStream() throws IOException {\n        int byteCount = processInputStream(new InputStream() {\n            private final byte[] msg = &quot;Hello World&quot;.getBytes();\n            private int index = 0;\n            @Override\n            public int read() {\n                if (index &gt;= msg.length) {\n                    return -1;\n                }\n                return msg[index++];\n            }\n        });\n        assertThat(byteCount).isEqualTo(11);\n    }\n\n    int processInputStream(InputStream inputStream) throws IOException {\n        int count = 0;\n        while(inputStream.read() != -1) {\n            count++;\n        }\n        return count;\n    }\n</code></pre>\n"}],"owner":{"account_id":20907,"reputation":3436,"user_id":50388,"accept_rate":100,"display_name":"Reji"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":140896,"favorite_count":0,"down_vote_count":0,"up_vote_count":95,"accepted_answer_id":6371433,"answer_count":11,"score":95,"last_activity_date":1685115451,"creation_date":1308225275,"question_id":6371379,"body_markdown":"Please provide pointers to help me mock that java InputStream object.\r\nThis is the line of code that I would wish to Mock:\r\n\r\n    InputStreamReader inputData = new InputStreamReader(System.in);\r\n    bufferdReader = new BufferedReader(inputData);\r\n    bufferdReader.readLine(); \r\n","title":"Mocking Java InputStream","body":"<p>Please provide pointers to help me mock that java InputStream object.\nThis is the line of code that I would wish to Mock:</p>\n\n<pre><code>InputStreamReader inputData = new InputStreamReader(System.in);\nbufferdReader = new BufferedReader(inputData);\nbufferdReader.readLine(); \n</code></pre>\n"},{"tags":["java","spring","spring-integration","sftp"],"answers":[{"tags":[],"owner":{"account_id":3273937,"reputation":114870,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1685115125,"creation_date":1685115125,"answer_id":76342249,"question_id":76339926,"body_markdown":"The `&lt;int-sftp:outbound-gateway&gt;` is a variant of the service activator passive endpoint. It does its work only if a message is sent to its `request-channel`.\r\n\r\nThe poller in this endpoint configuration is directly related to that `request-channel` reference where it makes sense only if such a channel is a `QueueChannel`.\r\n\r\nWhat you are talking about is called `scheduling`. So, you need to configure something which is going to be called periodically and that one will initiate a request for this `&lt;int-sftp:outbound-gateway&gt;`.\r\n\r\nIn Spring Integration for that purpose there is a `&lt;int:inbound-channel-adapter&gt;` which can be configured with the `&lt;poller&gt;` and result of this adapter is sent to the output channel.\r\n\r\nYou can produce from there as something simple as that list of dirs to poll.\r\n\r\nSee more info in docs: https://docs.spring.io/spring-integration/docs/current/reference/html/core.html#channel-adapter-namespace-inbound","title":"SFTP Integration How do I make my poller work to get the files periodacally","body":"<p>The <code>&lt;int-sftp:outbound-gateway&gt;</code> is a variant of the service activator passive endpoint. It does its work only if a message is sent to its <code>request-channel</code>.</p>\n<p>The poller in this endpoint configuration is directly related to that <code>request-channel</code> reference where it makes sense only if such a channel is a <code>QueueChannel</code>.</p>\n<p>What you are talking about is called <code>scheduling</code>. So, you need to configure something which is going to be called periodically and that one will initiate a request for this <code>&lt;int-sftp:outbound-gateway&gt;</code>.</p>\n<p>In Spring Integration for that purpose there is a <code>&lt;int:inbound-channel-adapter&gt;</code> which can be configured with the <code>&lt;poller&gt;</code> and result of this adapter is sent to the output channel.</p>\n<p>You can produce from there as something simple as that list of dirs to poll.</p>\n<p>See more info in docs: <a href=\"https://docs.spring.io/spring-integration/docs/current/reference/html/core.html#channel-adapter-namespace-inbound\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-integration/docs/current/reference/html/core.html#channel-adapter-namespace-inbound</a></p>\n"}],"owner":{"account_id":17204995,"reputation":61,"user_id":12455768,"display_name":"terrinizer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76342249,"answer_count":1,"score":0,"last_activity_date":1685115125,"creation_date":1685096932,"question_id":76339926,"body_markdown":"I want to periodacally call the downloadFiles() method, that downloads files from subdirectories of a remote server and puts them locally in a folder with the same name. \r\n\r\nI thought this poller makes sure of that, but I believe I don&#39;t fully understand the concept of poller. \r\n\r\n    &lt;int:poller fixed-rate=&quot;1000&quot;/&gt;\r\n\r\nThis is my full code:\r\n\r\nSftpOutboundGateway-context.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n           xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n           xmlns:int=&quot;http://www.springframework.org/schema/integration&quot;\r\n           xmlns:int-sftp=&quot;http://www.springframework.org/schema/integration/sftp&quot;\r\n           xsi:schemaLocation=&quot;http://www.springframework.org/schema/integration\r\n                               http://www.springframework.org/schema/integration/spring-integration-4.1.xsd\r\n    \t\t                   http://www.springframework.org/schema/beans\r\n    \t\t                   https://www.springframework.org/schema/beans/spring-beans.xsd\r\n    \t\t                   http://www.springframework.org/schema/integration/sftp \r\n    \t\t                   https://www.springframework.org/schema/integration/sftp/spring-integration-sftp-4.1.xsd&quot;&gt;\r\n    \r\n        &lt;import resource=&quot;web.xml&quot;/&gt;\r\n    \r\n        &lt;int-sftp:outbound-gateway id=&quot;gateway1&quot; \r\n                                  auto-startup=&quot;true&quot;\r\n                                  session-factory=&quot;sftpSessionFactory&quot;\r\n                                  request-channel=&quot;receiveChannel&quot;\r\n                                  command=&quot;mget&quot;\r\n                                  local-directory-expression=&quot;&#39;C:/temp/cishare/&#39; + headers[&#39;register&#39;] &quot;\r\n                                  auto-create-local-directory=&quot;true&quot;\r\n                                  rename-expression=&quot;&quot;\r\n                                  mode=&quot;IGNORE&quot;\r\n                                  expression=&quot;&#39;/echo_localhost/echo_localhost/&#39; + payload&quot;\r\n                                  reply-channel=&quot;loggingChannel&quot;\r\n        &gt;\r\n            &lt;int:poller fixed-rate=&quot;20&quot;/&gt;\r\n        &lt;/int-sftp:outbound-gateway&gt;\r\n    \r\n        &lt;int:channel id=&quot;receiveChannel&quot;&gt;\r\n            &lt;int:queue capacity=&quot;25&quot;/&gt;\r\n        &lt;/int:channel&gt;\r\n    \r\n        &lt;int:logging-channel-adapter id=&quot;loggingChannel&quot; log-full-message=&quot;true&quot; logger-name=&quot;tapInbound&quot;\r\n                                     level=&quot;INFO&quot; /&gt;\r\n        \r\n    &lt;/beans&gt;\r\n\r\nSftpTransfer.java\r\n\r\n    import org.springframework.integration.support.MessageBuilder;\r\n    import org.springframework.messaging.Message;\r\n    import org.springframework.messaging.MessageChannel;\r\n    \r\n    import java.util.ArrayList;\r\n    \r\n    public class SftpTransfer {\r\n    \r\n        public void downloadFiles(MessageChannel receiveChannel) {\r\n            ArrayList&lt;String&gt; directories = new ArrayList&lt;&gt;();\r\n            directories.add(&quot;IN/&quot;);\r\n            directories.add(&quot;OUT/&quot;);\r\n    \r\n            for (String directory : directories) {\r\n                Message&lt;String&gt; requestMessage = MessageBuilder.withPayload(directory)\r\n                        .setHeader(&quot;register&quot;, directory)\r\n                        .build();\r\n    \r\n                receiveChannel.send(requestMessage);\r\n            }\r\n        }\r\n    }\r\n\r\nApp.java\r\n\r\n    import org.springframework.context.ConfigurableApplicationContext;\r\n    import org.springframework.context.support.ClassPathXmlApplicationContext;\r\n    import org.springframework.messaging.MessageChannel;\r\n    \r\n    public class App {\r\n    \r\n        public static void main(String[] args) {\r\n            ConfigurableApplicationContext ctx = new ClassPathXmlApplicationContext(\r\n                    &quot;classpath:SftpOutboundGateway-context.xml&quot;);\r\n    \r\n            MessageChannel receiveChannel = (MessageChannel) ctx.getBean(&quot;receiveChannel&quot;);\r\n    \r\n            SftpTransfer sftpTransfer = new SftpTransfer();\r\n            sftpTransfer.downloadFiles(receiveChannel);\r\n    \r\n        }\r\n    \r\n    }\r\n\r\nThis is a follow up to my other question:\r\n\r\n[Spring Integration SFTP (xml) Outbound Gateway - copy folderstructure from remote directory to local directory using SPEL Expression and java][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/76325467/spring-integration-sftp-xml-outbound-gateway-copy-folderstructure-from-remot","title":"SFTP Integration How do I make my poller work to get the files periodacally","body":"<p>I want to periodacally call the downloadFiles() method, that downloads files from subdirectories of a remote server and puts them locally in a folder with the same name.</p>\n<p>I thought this poller makes sure of that, but I believe I don't fully understand the concept of poller.</p>\n<pre><code>&lt;int:poller fixed-rate=&quot;1000&quot;/&gt;\n</code></pre>\n<p>This is my full code:</p>\n<p>SftpOutboundGateway-context.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\n       xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n       xmlns:int=&quot;http://www.springframework.org/schema/integration&quot;\n       xmlns:int-sftp=&quot;http://www.springframework.org/schema/integration/sftp&quot;\n       xsi:schemaLocation=&quot;http://www.springframework.org/schema/integration\n                           http://www.springframework.org/schema/integration/spring-integration-4.1.xsd\n                           http://www.springframework.org/schema/beans\n                           https://www.springframework.org/schema/beans/spring-beans.xsd\n                           http://www.springframework.org/schema/integration/sftp \n                           https://www.springframework.org/schema/integration/sftp/spring-integration-sftp-4.1.xsd&quot;&gt;\n\n    &lt;import resource=&quot;web.xml&quot;/&gt;\n\n    &lt;int-sftp:outbound-gateway id=&quot;gateway1&quot; \n                              auto-startup=&quot;true&quot;\n                              session-factory=&quot;sftpSessionFactory&quot;\n                              request-channel=&quot;receiveChannel&quot;\n                              command=&quot;mget&quot;\n                              local-directory-expression=&quot;'C:/temp/cishare/' + headers['register'] &quot;\n                              auto-create-local-directory=&quot;true&quot;\n                              rename-expression=&quot;&quot;\n                              mode=&quot;IGNORE&quot;\n                              expression=&quot;'/echo_localhost/echo_localhost/' + payload&quot;\n                              reply-channel=&quot;loggingChannel&quot;\n    &gt;\n        &lt;int:poller fixed-rate=&quot;20&quot;/&gt;\n    &lt;/int-sftp:outbound-gateway&gt;\n\n    &lt;int:channel id=&quot;receiveChannel&quot;&gt;\n        &lt;int:queue capacity=&quot;25&quot;/&gt;\n    &lt;/int:channel&gt;\n\n    &lt;int:logging-channel-adapter id=&quot;loggingChannel&quot; log-full-message=&quot;true&quot; logger-name=&quot;tapInbound&quot;\n                                 level=&quot;INFO&quot; /&gt;\n    \n&lt;/beans&gt;\n</code></pre>\n<p>SftpTransfer.java</p>\n<pre><code>import org.springframework.integration.support.MessageBuilder;\nimport org.springframework.messaging.Message;\nimport org.springframework.messaging.MessageChannel;\n\nimport java.util.ArrayList;\n\npublic class SftpTransfer {\n\n    public void downloadFiles(MessageChannel receiveChannel) {\n        ArrayList&lt;String&gt; directories = new ArrayList&lt;&gt;();\n        directories.add(&quot;IN/&quot;);\n        directories.add(&quot;OUT/&quot;);\n\n        for (String directory : directories) {\n            Message&lt;String&gt; requestMessage = MessageBuilder.withPayload(directory)\n                    .setHeader(&quot;register&quot;, directory)\n                    .build();\n\n            receiveChannel.send(requestMessage);\n        }\n    }\n}\n</code></pre>\n<p>App.java</p>\n<pre><code>import org.springframework.context.ConfigurableApplicationContext;\nimport org.springframework.context.support.ClassPathXmlApplicationContext;\nimport org.springframework.messaging.MessageChannel;\n\npublic class App {\n\n    public static void main(String[] args) {\n        ConfigurableApplicationContext ctx = new ClassPathXmlApplicationContext(\n                &quot;classpath:SftpOutboundGateway-context.xml&quot;);\n\n        MessageChannel receiveChannel = (MessageChannel) ctx.getBean(&quot;receiveChannel&quot;);\n\n        SftpTransfer sftpTransfer = new SftpTransfer();\n        sftpTransfer.downloadFiles(receiveChannel);\n\n    }\n\n}\n</code></pre>\n<p>This is a follow up to my other question:</p>\n<p><a href=\"https://stackoverflow.com/questions/76325467/spring-integration-sftp-xml-outbound-gateway-copy-folderstructure-from-remot\">Spring Integration SFTP (xml) Outbound Gateway - copy folderstructure from remote directory to local directory using SPEL Expression and java</a></p>\n"},{"tags":["java","junit","application-shutdown"],"answers":[{"comments":[{"owner":{"account_id":1049595,"reputation":2282,"user_id":1844337,"accept_rate":72,"display_name":"R&#233;mi Doolaeghe"},"score":0,"creation_date":1369142312,"post_id":16670866,"comment_id":23986210,"body_markdown":"If I have no better solution, I&#39;ll test my code the way you explained, and will write another test that mocks the method adding the hook to ensure it is called whenever is has to be. Thank you","body":"If I have no better solution, I&#39;ll test my code the way you explained, and will write another test that mocks the method adding the hook to ensure it is called whenever is has to be. Thank you"}],"tags":[],"owner":{"account_id":218057,"reputation":67738,"user_id":474189,"accept_rate":72,"display_name":"Duncan Jones"},"comment_count":1,"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1369142115,"creation_date":1369141752,"answer_id":16670866,"question_id":16670722,"body_markdown":"I don&#39;t think you&#39;ll be able to test that. Instead, just test that your code behaves correctly when invoked (by unit testing it separately). Then, trust that Java will invoke your code at the right time.\r\n\r\nI.e. extract your code into a separate class that extends `Thread` and test the behaviour by executing `run()` in a unit test.","title":"JUnit4 : Test a shutdown hook is called","body":"<p>I don't think you'll be able to test that. Instead, just test that your code behaves correctly when invoked (by unit testing it separately). Then, trust that Java will invoke your code at the right time.</p>\n\n<p>I.e. extract your code into a separate class that extends <code>Thread</code> and test the behaviour by executing <code>run()</code> in a unit test.</p>\n"},{"tags":[],"owner":{"account_id":1382199,"reputation":1091,"user_id":1314955,"accept_rate":68,"display_name":"khituras"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1625825540,"creation_date":1625825540,"answer_id":68315048,"question_id":16670722,"body_markdown":"In addition to Duncans answer I&#39;d like to point out the `Runtime.getRuntime().removeShutdownHook(Thread)` method. Its boolean return value indicates if the respective thread was a registered hook previously.\r\n\r\nThus, one can test if the hook&#39; `run()` method performs correctly as one part of a test.\r\nAs a second part one can call Runtime.getRuntime().removeShutdownHook(Thread)` and assert that the thread was actually registered as a hook.\r\n\r\nTogether, the two tests assure the overall functioning of the shutdown hook.","title":"JUnit4 : Test a shutdown hook is called","body":"<p>In addition to Duncans answer I'd like to point out the <code>Runtime.getRuntime().removeShutdownHook(Thread)</code> method. Its boolean return value indicates if the respective thread was a registered hook previously.</p>\n<p>Thus, one can test if the hook' <code>run()</code> method performs correctly as one part of a test.\nAs a second part one can call Runtime.getRuntime().removeShutdownHook(Thread)` and assert that the thread was actually registered as a hook.</p>\n<p>Together, the two tests assure the overall functioning of the shutdown hook.</p>\n"},{"tags":[],"owner":{"account_id":4185076,"reputation":2839,"user_id":3429015,"display_name":"Danon"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685115122,"creation_date":1685115122,"answer_id":76342248,"question_id":16670722,"body_markdown":"You should try and spawn that process in your test, and verify its output somehow, confirming that the shutdown hook executed.\r\n\r\nIt would be nice to simulate it in test, but I don&#39;t think that&#39;s possible.\r\n\r\nRemember that writing tests that spawn the process would actually be the best for a lot of usages, except maybe speed - that&#39;s why we write tests that work right from within the code itself.","title":"JUnit4 : Test a shutdown hook is called","body":"<p>You should try and spawn that process in your test, and verify its output somehow, confirming that the shutdown hook executed.</p>\n<p>It would be nice to simulate it in test, but I don't think that's possible.</p>\n<p>Remember that writing tests that spawn the process would actually be the best for a lot of usages, except maybe speed - that's why we write tests that work right from within the code itself.</p>\n"}],"owner":{"account_id":1049595,"reputation":2282,"user_id":1844337,"accept_rate":72,"display_name":"R&#233;mi Doolaeghe"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7892,"favorite_count":0,"down_vote_count":0,"up_vote_count":15,"accepted_answer_id":16670866,"answer_count":3,"score":15,"last_activity_date":1685115122,"creation_date":1369141408,"question_id":16670722,"body_markdown":"I have a method which adds a shutdown hook. I need to test (via JUnit) that the code executed in the hook is called :\r\n\r\n    public void myMethod(){\r\n        Runtime.getRuntime().addShutdownHook(new Thread() {\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic void run() {\r\n\t\t\t\t... code to test ...\r\n\t\t\t}\r\n\t\t});\r\n    }\r\n\r\nHow can I simulate a shutdown in my unit test ?","title":"JUnit4 : Test a shutdown hook is called","body":"<p>I have a method which adds a shutdown hook. I need to test (via JUnit) that the code executed in the hook is called :</p>\n\n<pre><code>public void myMethod(){\n    Runtime.getRuntime().addShutdownHook(new Thread() {\n\n        @Override\n        public void run() {\n            ... code to test ...\n        }\n    });\n}\n</code></pre>\n\n<p>How can I simulate a shutdown in my unit test ?</p>\n"},{"tags":["java","tomcat","struts2","migration","struts"],"comments":[{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":1,"creation_date":1685105846,"post_id":76340728,"comment_id":134618985,"body_markdown":"Does this answer your question? [Tomcat 10.x throws java.lang.NoClassDefFoundError on javax.servlet.\\*](https://stackoverflow.com/questions/66711660/tomcat-10-x-throws-java-lang-noclassdeffounderror-on-javax-servlet)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/66711660/tomcat-10-x-throws-java-lang-noclassdeffounderror-on-javax-servlet\">Tomcat 10.x throws java.lang.NoClassDefFoundError on javax.servlet.*</a>"},{"owner":{"account_id":13402550,"reputation":25,"user_id":9671608,"display_name":"Sam"},"score":0,"creation_date":1685106749,"post_id":76340728,"comment_id":134619185,"body_markdown":"I&#39;m not sure. \n\nWhat that says is that Tomcat 10 uses the jakarta.* servlet packages instead of the javax.* servlet packages, and that&#39;s why he&#39;s getting a class not found for javax/servlet/ServletRequestListener.\n\nI&#39;m using the jakarta version everywhere, and it&#39;s saying it can&#39;t find jakarta/servlet/ServletContextListener.","body":"I&#39;m not sure.   What that says is that Tomcat 10 uses the jakarta.* servlet packages instead of the javax.* servlet packages, and that&#39;s why he&#39;s getting a class not found for javax/servlet/ServletRequestListener.  I&#39;m using the jakarta version everywhere, and it&#39;s saying it can&#39;t find jakarta/servlet/ServletContextListener."},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":1,"creation_date":1685110076,"post_id":76340728,"comment_id":134620018,"body_markdown":"AFAIK we&#39;re still not supporting Tomcat 10. https://stackoverflow.com/questions/73349418/does-latest-version-6-struts2-support-tomcat-10","body":"AFAIK we&#39;re still not supporting Tomcat 10. <a href=\"https://stackoverflow.com/questions/73349418/does-latest-version-6-struts2-support-tomcat-10\" title=\"does latest version 6 struts2 support tomcat 10\">stackoverflow.com/questions/73349418/&hellip;</a>"},{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":1,"creation_date":1685111175,"post_id":76340728,"comment_id":134620271,"body_markdown":"If you have issues to migrate an *ancient* Struts 1 to struts 2 you should read [this](https://stackoverflow.com/a/20130845/573032). Note, Struts 2.3 is already EOL, so you have to dig into Struts docs for changes.","body":"If you have issues to migrate an <i>ancient</i> Struts 1 to struts 2 you should read <a href=\"https://stackoverflow.com/a/20130845/573032\">this</a>. Note, Struts 2.3 is already EOL, so you have to dig into Struts docs for changes."},{"owner":{"account_id":13402550,"reputation":25,"user_id":9671608,"display_name":"Sam"},"score":0,"creation_date":1685111846,"post_id":76340728,"comment_id":134620413,"body_markdown":"@DaveNewton Which version do you recommend? And what&#39;s the most recent Java version I can use?","body":"@DaveNewton Which version do you recommend? And what&#39;s the most recent Java version I can use?"},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1685114925,"post_id":76340728,"comment_id":134621146,"body_markdown":"@Sam Which version of what? Tomcat? &lt; 10. Java version *(likely)* doesn&#39;t matter.","body":"@Sam Which version of what? Tomcat? &lt; 10. Java version <i>(likely)</i> doesn&#39;t matter."},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1685115183,"post_id":76340728,"comment_id":134621194,"body_markdown":"&quot;I think I&#39;ve found all the code changes I need to make&quot; -- :D That&#39;s almost everything *(except the business logic, assuming the original app was properly architected)*. It&#39;s a non-trivial task. I&#39;d make **sure** S2 is where you want to move to.","body":"&quot;I think I&#39;ve found all the code changes I need to make&quot; -- :D That&#39;s almost everything <i>(except the business logic, assuming the original app was properly architected)</i>. It&#39;s a non-trivial task. I&#39;d make <b>sure</b> S2 is where you want to move to."}],"owner":{"account_id":13402550,"reputation":25,"user_id":9671608,"display_name":"Sam"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1685110261,"answer_count":0,"score":1,"last_activity_date":1685114954,"creation_date":1685103341,"question_id":76340728,"body_markdown":"I&#39;m trying to migrate an *ancient* struts 1 application to struts 2 and upgrade to Java 17. I think I&#39;ve found all the code changes I need to make, but when I deploy I get a stack trace that starts out: \r\n\r\n```\r\njava.lang.NoClassDefFoundError: jakarta/servlet/ServletContextListener\r\n```\r\n\r\nMy server is apache-tomcat-10.1.5, and per Eclipse it&#39;s using Amazon Corretto JRE 17.0.6. \r\n\r\nMy maven dependencies include the following: \r\n\r\n```xml\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.struts&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;struts2-core&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;6.1.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.struts&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;struts2-convention-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;6.1.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;jakarta.servlet.jsp&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jakarta.servlet.jsp-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.1.1&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;jakarta.servlet&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jakarta.servlet-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;6.0.0&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n```\r\n\r\nI can&#39;t escape the feeling that I&#39;m just overlooking something simple that should be obvious to me, but I thought I had all the necessary dependencies. Any thoughts? \r\n","title":"Upgrading struts 1 to 2 and Java 17","body":"<p>I'm trying to migrate an <em>ancient</em> struts 1 application to struts 2 and upgrade to Java 17. I think I've found all the code changes I need to make, but when I deploy I get a stack trace that starts out:</p>\n<pre><code>java.lang.NoClassDefFoundError: jakarta/servlet/ServletContextListener\n</code></pre>\n<p>My server is apache-tomcat-10.1.5, and per Eclipse it's using Amazon Corretto JRE 17.0.6.</p>\n<p>My maven dependencies include the following:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.struts&lt;/groupId&gt;\n            &lt;artifactId&gt;struts2-core&lt;/artifactId&gt;\n            &lt;version&gt;6.1.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.struts&lt;/groupId&gt;\n            &lt;artifactId&gt;struts2-convention-plugin&lt;/artifactId&gt;\n            &lt;version&gt;6.1.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;jakarta.servlet.jsp&lt;/groupId&gt;\n            &lt;artifactId&gt;jakarta.servlet.jsp-api&lt;/artifactId&gt;\n            &lt;version&gt;3.1.1&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;jakarta.servlet&lt;/groupId&gt;\n            &lt;artifactId&gt;jakarta.servlet-api&lt;/artifactId&gt;\n            &lt;version&gt;6.0.0&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>I can't escape the feeling that I'm just overlooking something simple that should be obvious to me, but I thought I had all the necessary dependencies. Any thoughts?</p>\n"},{"tags":["java","spring","spring-boot","swagger-2.0","springfox"],"owner":{"account_id":19459512,"reputation":21,"user_id":14235030,"display_name":"Pavel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":262,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685114950,"creation_date":1685114950,"question_id":76342230,"body_markdown":"We have updated spring-boot as part of the vulnerability fix\r\nAnd now when application start we have\r\n\r\norg.springframework.context.ApplicationContextException: Failed to start bean &#39;documentationPluginsBootstrapper&#39;; nested exception is java.lang.NullPointerException\r\n\tat org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:181)\r\n\tat org.springframework.context.support.DefaultLifecycleProcessor.access$200(DefaultLifecycleProcessor.java:54)\r\n\tat org.springframework.context.support.DefaultLifecycleProcessor$LifecycleGroup.start(DefaultLifecycleProcessor.java:356)\r\n\tat java.base/java.lang.Iterable.forEach(Iterable.java:75)\r\n\tat org.springframework.context.support.DefaultLifecycleProcessor.startBeans(DefaultLifecycleProcessor.java:155)\r\n\tat org.springframework.context.support.DefaultLifecycleProcessor.onRefresh(DefaultLifecycleProcessor.java:123)\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:937)\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:586)\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731)\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:307)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1303)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1292)\r\nCaused by: java.lang.NullPointerException: null\r\n\tat springfox.documentation.spring.web.WebMvcPatternsRequestConditionWrapper.getPatterns(WebMvcPatternsRequestConditionWrapper.java:56)\r\n\tat springfox.documentation.RequestHandler.sortedPaths(RequestHandler.java:113)\r\n\tat springfox.documentation.spi.service.contexts.Orderings.lambda$byPatternsCondition$3(Orderings.java:89)\r\n\tat java.base/java.util.Comparator.lambda$comparing$77a9974f$1(Comparator.java:469)\r\n\tat java.base/java.util.TimSort.countRunAndMakeAscending(TimSort.java:355)\r\n\tat java.base/java.util.TimSort.sort(TimSort.java:220)\r\n\tat java.base/java.util.Arrays.sort(Arrays.java:1515)\r\n\tat java.base/java.util.ArrayList.sort(ArrayList.java:1750)\r\n\tat java.base/java.util.stream.SortedOps$RefSortingSink.end(SortedOps.java:392)\r\n\tat java.base/java.util.stream.Sink$ChainedReference.end(Sink.java:258)\r\n\tat java.base/java.util.stream.Sink$ChainedReference.end(Sink.java:258)\r\n\tat java.base/java.util.stream.Sink$ChainedReference.end(Sink.java:258)\r\n\tat java.base/java.util.stream.Sink$ChainedReference.end(Sink.java:258)\r\n\tat java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:485)\r\n\tat java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)\r\n\tat java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:913)\r\n\tat java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\r\n\tat java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:578)\r\n\tat springfox.documentation.spring.web.plugins.WebMvcRequestHandlerProvider.requestHandlers(WebMvcRequestHandlerProvider.java:81)\r\n\tat java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)\r\n\tat java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1655)\r\n\tat java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)\r\n\tat java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)\r\n\tat java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:913)\r\n\tat java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\r\n\tat java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:578)\r\n\tat springfox.documentation.spring.web.plugins.AbstractDocumentationPluginsBootstrapper.withDefaults(AbstractDocumentationPluginsBootstrapper.java:107)\r\n\tat springfox.documentation.spring.web.plugins.AbstractDocumentationPluginsBootstrapper.buildContext(AbstractDocumentationPluginsBootstrapper.java:91)\r\n\tat springfox.documentation.spring.web.plugins.AbstractDocumentationPluginsBootstrapper.bootstrapDocumentationPlugins(AbstractDocumentationPluginsBootstrapper.java:82)\r\n\tat springfox.documentation.spring.web.plugins.DocumentationPluginsBootstrapper.start(DocumentationPluginsBootstrapper.java:100)\r\n\tat org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:178)\r\n\t... 19 common frames omitted\r\n\r\n\r\ncurrent spring boot version - 2.7.11\r\nspring boot cloud version - 2021.0.5\r\nspring fox - 3.0.0(was updated from 2.9.2)\r\n\r\nThank you in advance for your cooperation(varian with downgrade spring boot it&#39;s not good solution for me)\r\n\r\nTried add in application.yml this line &#39;spring:mvc:pathmatch:matching-strategy: ant_path_matcher&#39; doesn&#39;t help because I have spring-boot-actuator:2.7.11","title":"Failed to start bean &#39;documentationPluginsBootstrapper&#39;; nested exception is java.lang.NullPointerException","body":"<p>We have updated spring-boot as part of the vulnerability fix\nAnd now when application start we have</p>\n<p>org.springframework.context.ApplicationContextException: Failed to start bean 'documentationPluginsBootstrapper'; nested exception is java.lang.NullPointerException\nat org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:181)\nat org.springframework.context.support.DefaultLifecycleProcessor.access$200(DefaultLifecycleProcessor.java:54)\nat org.springframework.context.support.DefaultLifecycleProcessor$LifecycleGroup.start(DefaultLifecycleProcessor.java:356)\nat java.base/java.lang.Iterable.forEach(Iterable.java:75)\nat org.springframework.context.support.DefaultLifecycleProcessor.startBeans(DefaultLifecycleProcessor.java:155)\nat org.springframework.context.support.DefaultLifecycleProcessor.onRefresh(DefaultLifecycleProcessor.java:123)\nat org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:937)\nat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:586)\nat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)\nat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731)\nat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:307)\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:1303)\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:1292)\nCaused by: java.lang.NullPointerException: null\nat springfox.documentation.spring.web.WebMvcPatternsRequestConditionWrapper.getPatterns(WebMvcPatternsRequestConditionWrapper.java:56)\nat springfox.documentation.RequestHandler.sortedPaths(RequestHandler.java:113)\nat springfox.documentation.spi.service.contexts.Orderings.lambda$byPatternsCondition$3(Orderings.java:89)\nat java.base/java.util.Comparator.lambda$comparing$77a9974f$1(Comparator.java:469)\nat java.base/java.util.TimSort.countRunAndMakeAscending(TimSort.java:355)\nat java.base/java.util.TimSort.sort(TimSort.java:220)\nat java.base/java.util.Arrays.sort(Arrays.java:1515)\nat java.base/java.util.ArrayList.sort(ArrayList.java:1750)\nat java.base/java.util.stream.SortedOps$RefSortingSink.end(SortedOps.java:392)\nat java.base/java.util.stream.Sink$ChainedReference.end(Sink.java:258)\nat java.base/java.util.stream.Sink$ChainedReference.end(Sink.java:258)\nat java.base/java.util.stream.Sink$ChainedReference.end(Sink.java:258)\nat java.base/java.util.stream.Sink$ChainedReference.end(Sink.java:258)\nat java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:485)\nat java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)\nat java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:913)\nat java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\nat java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:578)\nat springfox.documentation.spring.web.plugins.WebMvcRequestHandlerProvider.requestHandlers(WebMvcRequestHandlerProvider.java:81)\nat java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)\nat java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1655)\nat java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)\nat java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)\nat java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:913)\nat java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\nat java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:578)\nat springfox.documentation.spring.web.plugins.AbstractDocumentationPluginsBootstrapper.withDefaults(AbstractDocumentationPluginsBootstrapper.java:107)\nat springfox.documentation.spring.web.plugins.AbstractDocumentationPluginsBootstrapper.buildContext(AbstractDocumentationPluginsBootstrapper.java:91)\nat springfox.documentation.spring.web.plugins.AbstractDocumentationPluginsBootstrapper.bootstrapDocumentationPlugins(AbstractDocumentationPluginsBootstrapper.java:82)\nat springfox.documentation.spring.web.plugins.DocumentationPluginsBootstrapper.start(DocumentationPluginsBootstrapper.java:100)\nat org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:178)\n... 19 common frames omitted</p>\n<p>current spring boot version - 2.7.11\nspring boot cloud version - 2021.0.5\nspring fox - 3.0.0(was updated from 2.9.2)</p>\n<p>Thank you in advance for your cooperation(varian with downgrade spring boot it's not good solution for me)</p>\n<p>Tried add in application.yml this line 'spring:mvc:pathmatch:matching-strategy: ant_path_matcher' doesn't help because I have spring-boot-actuator:2.7.11</p>\n"},{"tags":["java","mybatis","spring-mybatis"],"comments":[{"owner":{"account_id":1314580,"reputation":3299,"user_id":1261766,"display_name":"ave"},"score":0,"creation_date":1685334320,"post_id":76342208,"comment_id":134641990,"body_markdown":"What happens? If there is an error, include the full stack trace. If the final SQL is different from what you want, add 1) example parameter 2) expected final SQL and 3) actual SQL. To get 3), enable TRACE level logging.","body":"What happens? If there is an error, include the full stack trace. If the final SQL is different from what you want, add 1) example parameter 2) expected final SQL and 3) actual SQL. To get 3), enable TRACE level logging."}],"owner":{"account_id":26289969,"reputation":313,"user_id":19957114,"display_name":"dev-rifaii"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685114750,"creation_date":1685114750,"question_id":76342208,"body_markdown":"I&#39;m using mybatis in a Java Spring application and this is what I&#39;m trying to do:\r\n```xml\r\n        WHERE\r\n        &lt;if test=&quot;param != null and param.size() &gt; 0&quot;&gt;\r\n            AND pc.col ILIKE ANY (array\r\n            &lt;foreach item=&quot;it&quot; collection=&quot;param&quot; open=&quot;[&quot; separator=&quot;,&quot; close=&quot;]&quot;&gt;\r\n                CONCAT(&#39;%&#39;, #{it}, &#39;%&#39;)\r\n            &lt;/foreach&gt;\r\n            )\r\n        &lt;/if&gt;\r\n```\r\n\r\nI&#39;m trying to concat a value inside foreach but what&#39;s being passed to query is literally everythinng inside the foreach so it would be this:\r\n&gt;CONCAT(&#39;%&#39;, #{it}, &#39;%&#39;)\r\n\r\nHow can I wrap the item with % inside the foreach?","title":"Concat inside mybatis foreach","body":"<p>I'm using mybatis in a Java Spring application and this is what I'm trying to do:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>        WHERE\n        &lt;if test=&quot;param != null and param.size() &gt; 0&quot;&gt;\n            AND pc.col ILIKE ANY (array\n            &lt;foreach item=&quot;it&quot; collection=&quot;param&quot; open=&quot;[&quot; separator=&quot;,&quot; close=&quot;]&quot;&gt;\n                CONCAT('%', #{it}, '%')\n            &lt;/foreach&gt;\n            )\n        &lt;/if&gt;\n</code></pre>\n<p>I'm trying to concat a value inside foreach but what's being passed to query is literally everythinng inside the foreach so it would be this:</p>\n<blockquote>\n<p>CONCAT('%', #{it}, '%')</p>\n</blockquote>\n<p>How can I wrap the item with % inside the foreach?</p>\n"},{"tags":["java","spring-boot","spring-security","keycloak","spring-cloud-gateway"],"answers":[{"tags":[],"owner":{"account_id":25181248,"reputation":43,"user_id":19022728,"display_name":"alex90bar"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1685114057,"creation_date":1685114057,"answer_id":76342108,"question_id":75041344,"body_markdown":"if I understood your question correctly, you would like to configure standard logout url.\r\n\r\nI&#39;ve occured this problem too and found this way of solution:\r\n\r\n```\r\n// you need to add it to your SecurityWebFilterChain ServerHttpSecurity http configuration\r\n\r\n// this logoutSuccessHandler allows redirection after success logout to &quot;/v1/logout/success&quot;\r\n// you also need to provide @Controller which will return some response on it\r\n\r\nhttp.logout(logout -&gt; logout\r\n        .logoutSuccessHandler((exchange, authentication) -&gt; {\r\n          ServerHttpResponse response = exchange.getExchange().getResponse();\r\n          response.setStatusCode(HttpStatus.FOUND);\r\n          response.getHeaders().setLocation(URI.create(&quot;/v1/logout/success&quot;));\r\n          response.getCookies().remove(&quot;JSESSIONID&quot;);\r\n          return exchange.getExchange().getSession()\r\n              .flatMap(WebSession::invalidate);\r\n        })\r\n\r\n// this allows to proceed logout via GET request to &quot;/v1/logout&quot;\r\n        .requiresLogout(ServerWebExchangeMatchers.pathMatchers(HttpMethod.GET, &quot;/v1/logout&quot;)));\r\n```\r\n\r\nIt is based on combination of articles:\r\nhttps://stackoverflow.com/questions/59253949/spring-security-webflux-logout\r\nhttps://stackoverflow.com/questions/56325464/how-to-logout-with-get-request-in-springboot-webflux\r\n\r\nActually I spent several hours and a lot of tries to achieve this to be worked))\r\n\r\nBut this provides logout only for your Spring Gateway application, not for Keycloak server.\r\n\r\nIf you need to logout from Keycloak server, you need to implement ServerLogoutHandler and override its&#39; logout method and pass it to your ServerHttpSecurity http.logoutHandler()","title":"Spring cloud Gateway with keycloak logout not work","body":"<p>if I understood your question correctly, you would like to configure standard logout url.</p>\n<p>I've occured this problem too and found this way of solution:</p>\n<pre><code>// you need to add it to your SecurityWebFilterChain ServerHttpSecurity http configuration\n\n// this logoutSuccessHandler allows redirection after success logout to &quot;/v1/logout/success&quot;\n// you also need to provide @Controller which will return some response on it\n\nhttp.logout(logout -&gt; logout\n        .logoutSuccessHandler((exchange, authentication) -&gt; {\n          ServerHttpResponse response = exchange.getExchange().getResponse();\n          response.setStatusCode(HttpStatus.FOUND);\n          response.getHeaders().setLocation(URI.create(&quot;/v1/logout/success&quot;));\n          response.getCookies().remove(&quot;JSESSIONID&quot;);\n          return exchange.getExchange().getSession()\n              .flatMap(WebSession::invalidate);\n        })\n\n// this allows to proceed logout via GET request to &quot;/v1/logout&quot;\n        .requiresLogout(ServerWebExchangeMatchers.pathMatchers(HttpMethod.GET, &quot;/v1/logout&quot;)));\n</code></pre>\n<p>It is based on combination of articles:\n<a href=\"https://stackoverflow.com/questions/59253949/spring-security-webflux-logout\">Spring Security WebFlux logout</a>\n<a href=\"https://stackoverflow.com/questions/56325464/how-to-logout-with-get-request-in-springboot-webflux\">How to logout with GET request in SpringBoot WebFlux</a></p>\n<p>Actually I spent several hours and a lot of tries to achieve this to be worked))</p>\n<p>But this provides logout only for your Spring Gateway application, not for Keycloak server.</p>\n<p>If you need to logout from Keycloak server, you need to implement ServerLogoutHandler and override its' logout method and pass it to your ServerHttpSecurity http.logoutHandler()</p>\n"}],"owner":{"account_id":4224410,"reputation":638,"user_id":3458271,"display_name":"user3458271"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":331,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1685114057,"creation_date":1673103817,"question_id":75041344,"body_markdown":"I am trying to build application in which I am using Keycloak configuration and spring security with spring cloud gateway everything is working fine but when I am trying to logout it is not working.\r\n\r\nSpring security configuration is as below:\r\n\r\n    spring:\r\n    security:\r\n        oauth2:\r\n          client:\r\n            provider:\r\n              keycloak:\r\n                issuer-uri: http://localhost:8280/auth/realms/Default\r\n                user-name-attribute: preferred_username\r\n                authorization-grant-type: authorization_code\r\n            registration:\r\n              keycloak:\r\n                client-id: Default123\r\n                client-secret: Wk79csSdfgdffomzVX2nTlb2boYT9NrW\r\n                redirect-uri: http://localhost:9000/login/oauth2/code/keycloak\r\n                scope: openid\r\n\r\nANd Security Config file is as below:\r\n\r\n    @Configuration\r\n    @EnableWebFluxSecurity\r\n    public class SecurityConfig {\r\n    \r\n        @Bean\r\n        protected SessionAuthenticationStrategy sessionAuthenticationStrategy() {\r\n            return new RegisterSessionAuthenticationStrategy(new SessionRegistryImpl());\r\n        }\r\n    \r\n        @Bean\r\n        @ConditionalOnMissingBean(HttpSessionManager.class)\r\n        protected HttpSessionManager httpSessionManager() {\r\n            return new HttpSessionManager();\r\n        }\r\n    \r\n        @Bean\r\n        public ServletListenerRegistrationBean&lt;HttpSessionEventPublisher&gt; httpSessionEventPublisher() {\r\n            return new ServletListenerRegistrationBean&lt;HttpSessionEventPublisher&gt;(new HttpSessionEventPublisher());\r\n        }\r\n    \r\n        @Bean\r\n        public ServerLogoutSuccessHandler keycloakLogoutSuccessHandler(ReactiveClientRegistrationRepository repository) {\r\n            OidcClientInitiatedServerLogoutSuccessHandler successHandler = new OidcClientInitiatedServerLogoutSuccessHandler(repository);\r\n            successHandler.setPostLogoutRedirectUri(&quot;http://localhost:9000/app/logout&quot;);\r\n            return successHandler;\r\n        }\r\n    \r\n        private ServerLogoutHandler logoutHandler() {\r\n            return new DelegatingServerLogoutHandler(new WebSessionServerLogoutHandler(), new SecurityContextServerLogoutHandler());\r\n        }\r\n    \r\n        @Bean\r\n        public SecurityWebFilterChain springSecurityFilterChain(ServerHttpSecurity http, ServerLogoutSuccessHandler handler) {\r\n            // Authenticate through configured OpenID Provider\r\n            http.authorizeExchange()\r\n                    .pathMatchers(&quot;/app/logout&quot;).permitAll()\r\n                    .pathMatchers(&quot;/app/&quot;).authenticated().and().cors().and().oauth2Login();\r\n    \r\n            // Also logout at the OpenID Connect provider\r\n            http.logout(logout -&gt; logout.logoutHandler(logoutHandler()).logoutSuccessHandler(handler));\r\n    \r\n            // Require authentication for all requests\r\n            http.authorizeExchange().anyExchange().authenticated();\r\n    \r\n            // Allow showing /home within a frame\r\n            http.headers().frameOptions().mode(XFrameOptionsServerHttpHeadersWriter.Mode.SAMEORIGIN);\r\n    \r\n            // Disable CSRF in the gateway to prevent conflicts with proxied service CSRF\r\n            http.csrf().disable();\r\n            return http.build();\r\n        }\r\n    \r\n    }\r\n\r\nI am not sure why it is not login out what configuration we are missing. Please Help.","title":"Spring cloud Gateway with keycloak logout not work","body":"<p>I am trying to build application in which I am using Keycloak configuration and spring security with spring cloud gateway everything is working fine but when I am trying to logout it is not working.</p>\n<p>Spring security configuration is as below:</p>\n<pre><code>spring:\nsecurity:\n    oauth2:\n      client:\n        provider:\n          keycloak:\n            issuer-uri: http://localhost:8280/auth/realms/Default\n            user-name-attribute: preferred_username\n            authorization-grant-type: authorization_code\n        registration:\n          keycloak:\n            client-id: Default123\n            client-secret: Wk79csSdfgdffomzVX2nTlb2boYT9NrW\n            redirect-uri: http://localhost:9000/login/oauth2/code/keycloak\n            scope: openid\n</code></pre>\n<p>ANd Security Config file is as below:</p>\n<pre><code>@Configuration\n@EnableWebFluxSecurity\npublic class SecurityConfig {\n\n    @Bean\n    protected SessionAuthenticationStrategy sessionAuthenticationStrategy() {\n        return new RegisterSessionAuthenticationStrategy(new SessionRegistryImpl());\n    }\n\n    @Bean\n    @ConditionalOnMissingBean(HttpSessionManager.class)\n    protected HttpSessionManager httpSessionManager() {\n        return new HttpSessionManager();\n    }\n\n    @Bean\n    public ServletListenerRegistrationBean&lt;HttpSessionEventPublisher&gt; httpSessionEventPublisher() {\n        return new ServletListenerRegistrationBean&lt;HttpSessionEventPublisher&gt;(new HttpSessionEventPublisher());\n    }\n\n    @Bean\n    public ServerLogoutSuccessHandler keycloakLogoutSuccessHandler(ReactiveClientRegistrationRepository repository) {\n        OidcClientInitiatedServerLogoutSuccessHandler successHandler = new OidcClientInitiatedServerLogoutSuccessHandler(repository);\n        successHandler.setPostLogoutRedirectUri(&quot;http://localhost:9000/app/logout&quot;);\n        return successHandler;\n    }\n\n    private ServerLogoutHandler logoutHandler() {\n        return new DelegatingServerLogoutHandler(new WebSessionServerLogoutHandler(), new SecurityContextServerLogoutHandler());\n    }\n\n    @Bean\n    public SecurityWebFilterChain springSecurityFilterChain(ServerHttpSecurity http, ServerLogoutSuccessHandler handler) {\n        // Authenticate through configured OpenID Provider\n        http.authorizeExchange()\n                .pathMatchers(&quot;/app/logout&quot;).permitAll()\n                .pathMatchers(&quot;/app/&quot;).authenticated().and().cors().and().oauth2Login();\n\n        // Also logout at the OpenID Connect provider\n        http.logout(logout -&gt; logout.logoutHandler(logoutHandler()).logoutSuccessHandler(handler));\n\n        // Require authentication for all requests\n        http.authorizeExchange().anyExchange().authenticated();\n\n        // Allow showing /home within a frame\n        http.headers().frameOptions().mode(XFrameOptionsServerHttpHeadersWriter.Mode.SAMEORIGIN);\n\n        // Disable CSRF in the gateway to prevent conflicts with proxied service CSRF\n        http.csrf().disable();\n        return http.build();\n    }\n\n}\n</code></pre>\n<p>I am not sure why it is not login out what configuration we are missing. Please Help.</p>\n"},{"tags":["java","cucumber","rest-assured","response-headers","rest-assured-jsonpath"],"answers":[{"tags":[],"owner":{"account_id":11380920,"reputation":8254,"user_id":8343843,"display_name":"Alexey R."},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1685095983,"creation_date":1685094752,"answer_id":76339641,"question_id":76337849,"body_markdown":"Let&#39;s check with this example `curl -v https://httpbin.org/get`. As it can bee seen the headers returned are:\r\n\r\n```plain\r\ndate: Fri, 26 May 2023 09:09:57 GMT\r\ncontent-type: application/json\r\ncontent-length: 256\r\nserver: gunicorn/19.9.0\r\naccess-control-allow-origin: *\r\naccess-control-allow-credentials: true\r\n```\r\n\r\nLet&#39;s assume also that our step receives the map like this as expected set of headers:\r\n\r\n```java\r\nMap&lt;String, String&gt; expected = Map.of(\r\n        &quot;content-type&quot;, &quot;application/json&quot;,\r\n        &quot;access-control-allow-origin&quot;, &quot;*&quot;\r\n);\r\n```\r\n\r\nFirst of all we need to convert it to a list of RA internal representation of headers:\r\n\r\n```java\r\nList&lt;Header&gt; expectedHeaders = expected\r\n        .entrySet()\r\n        .stream()\r\n        .map(e -&gt;\r\n                new Header(e.getKey(), e.getValue()))\r\n        .collect(Collectors.toList());\r\n```\r\n\r\nNow we fetch the headers from our endpoint under test:\r\n\r\n```java\r\nList&lt;Header&gt; observedHeaders = RestAssured\r\n        .get(&quot;https://httpbin.org/get&quot;)\r\n        .getHeaders().asList();\r\n```\r\n\r\nThe last thing we need to do is to decide how strict our verification has to be. If we need to check if our expected headers **are in** the actual set, then we do:\r\n\r\n```java\r\nassertThat(expectedHeaders, everyItem(is(in(observedHeaders))));\r\n```\r\n\r\notherwise if we need to make sure the sets **are equal** (normally we do not care of item order), then we do:\r\n\r\n```java\r\nassertThat(observedHeaders, containsInAnyOrder(expectedHeaders));\r\n```\r\n\r\nBoth checks utilize Hamcrest that is supplied with RestAssured transitively. So you will need to include the following imports to make assertions work:\r\n\r\n```java\r\nimport static org.hamcrest.Matchers.*;\r\nimport static org.hamcrest.MatcherAssert.*;\r\n```","title":"How to verify the response headers in Rest Assured framework","body":"<p>Let's check with this example <code>curl -v https://httpbin.org/get</code>. As it can bee seen the headers returned are:</p>\n<pre><code>date: Fri, 26 May 2023 09:09:57 GMT\ncontent-type: application/json\ncontent-length: 256\nserver: gunicorn/19.9.0\naccess-control-allow-origin: *\naccess-control-allow-credentials: true\n</code></pre>\n<p>Let's assume also that our step receives the map like this as expected set of headers:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;String, String&gt; expected = Map.of(\n        &quot;content-type&quot;, &quot;application/json&quot;,\n        &quot;access-control-allow-origin&quot;, &quot;*&quot;\n);\n</code></pre>\n<p>First of all we need to convert it to a list of RA internal representation of headers:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;Header&gt; expectedHeaders = expected\n        .entrySet()\n        .stream()\n        .map(e -&gt;\n                new Header(e.getKey(), e.getValue()))\n        .collect(Collectors.toList());\n</code></pre>\n<p>Now we fetch the headers from our endpoint under test:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;Header&gt; observedHeaders = RestAssured\n        .get(&quot;https://httpbin.org/get&quot;)\n        .getHeaders().asList();\n</code></pre>\n<p>The last thing we need to do is to decide how strict our verification has to be. If we need to check if our expected headers <strong>are in</strong> the actual set, then we do:</p>\n<pre class=\"lang-java prettyprint-override\"><code>assertThat(expectedHeaders, everyItem(is(in(observedHeaders))));\n</code></pre>\n<p>otherwise if we need to make sure the sets <strong>are equal</strong> (normally we do not care of item order), then we do:</p>\n<pre class=\"lang-java prettyprint-override\"><code>assertThat(observedHeaders, containsInAnyOrder(expectedHeaders));\n</code></pre>\n<p>Both checks utilize Hamcrest that is supplied with RestAssured transitively. So you will need to include the following imports to make assertions work:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import static org.hamcrest.Matchers.*;\nimport static org.hamcrest.MatcherAssert.*;\n</code></pre>\n"}],"owner":{"account_id":25080178,"reputation":57,"user_id":18933032,"display_name":"Dylan Joseph"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":479,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76339641,"answer_count":1,"score":1,"last_activity_date":1685114016,"creation_date":1685078348,"question_id":76337849,"body_markdown":" How to verify the response headers in Rest Assured framework? I tried the below way to check for response headers, but my code is not giving any result.\r\n\r\n**Util file**\r\n```\r\n    public void verifyResponseHeaders(Map&lt;String, String&gt; data {\r\n        softAssert = new SoftAssert();\r\n        data.forEach((headers, expected) -&gt; {\r\n            LogUtil.log(String.format(&quot;Validating =&gt; %s&quot;, headers));\r\n            Object actual = response.headers();\r\n            LogUtil.log(String.format(&quot;Assertion for headers  Expected = %s; Actual = %s&quot;, headers,expected, actual));\r\n            assertValue(actual, expected);\r\n        });\r\n        softAssert.assertAll();\r\n       }\r\n```\r\n **Cucumber file common Step:**\r\n```\r\n      @And(&quot;I see headers matches for fields&quot;)\r\n      public void verifyResponseHeaders(DataTable data) {\r\n      apiUtil.verifyResponseHeaders(new HashMap&lt;&gt;(data.asMap()));\r\n      }\r\n```\r\n**Login.feature**\r\n```\r\n And I see headers matches for fields\r\n | Content-Type | application/json  |\r\n```","title":"How to verify the response headers in Rest Assured framework","body":"<p>How to verify the response headers in Rest Assured framework? I tried the below way to check for response headers, but my code is not giving any result.</p>\n<p><strong>Util file</strong></p>\n<pre><code>    public void verifyResponseHeaders(Map&lt;String, String&gt; data {\n        softAssert = new SoftAssert();\n        data.forEach((headers, expected) -&gt; {\n            LogUtil.log(String.format(&quot;Validating =&gt; %s&quot;, headers));\n            Object actual = response.headers();\n            LogUtil.log(String.format(&quot;Assertion for headers  Expected = %s; Actual = %s&quot;, headers,expected, actual));\n            assertValue(actual, expected);\n        });\n        softAssert.assertAll();\n       }\n</code></pre>\n<p><strong>Cucumber file common Step:</strong></p>\n<pre><code>      @And(&quot;I see headers matches for fields&quot;)\n      public void verifyResponseHeaders(DataTable data) {\n      apiUtil.verifyResponseHeaders(new HashMap&lt;&gt;(data.asMap()));\n      }\n</code></pre>\n<p><strong>Login.feature</strong></p>\n<pre><code> And I see headers matches for fields\n | Content-Type | application/json  |\n</code></pre>\n"},{"tags":["java","spring","spring-boot","maven","intellij-idea"],"comments":[{"owner":{"account_id":4597208,"reputation":48209,"user_id":3728901,"accept_rate":58,"display_name":"Vy Do"},"score":0,"creation_date":1637809491,"post_id":70105228,"comment_id":123927161,"body_markdown":"For a temporary solution, you copy my `pom.xml` to yours. https://github.com/donhuvy/sample_jaxb_java7/blob/main/pom.xml . The behavior of IDE was strange.","body":"For a temporary solution, you copy my <code>pom.xml</code> to yours. <a href=\"https://github.com/donhuvy/sample_jaxb_java7/blob/main/pom.xml\" rel=\"nofollow noreferrer\">github.com/donhuvy/sample_jaxb_java7/blob/main/pom.xml</a> . The behavior of IDE was strange."},{"owner":{"account_id":11179248,"reputation":11910,"user_id":8203759,"display_name":"Konstantin Annikov"},"score":0,"creation_date":1637809643,"post_id":70105228,"comment_id":123927178,"body_markdown":"May you check idea.log for errors after reproducing? Do you notice something like `java.lang.IllegalArgumentException: named capturing group is missing trailing &#39;}&#39;\n`","body":"May you check idea.log for errors after reproducing? Do you notice something like <code>java.lang.IllegalArgumentException: named capturing group is missing trailing &#39;}&#39; </code>"},{"owner":{"account_id":16343430,"reputation":21,"user_id":11803829,"display_name":"akhil awesome"},"score":0,"creation_date":1637812475,"post_id":70105228,"comment_id":123927589,"body_markdown":"no exception just tried to create a new project. All it shows is pom.xml(unknown).","body":"no exception just tried to create a new project. All it shows is pom.xml(unknown)."},{"owner":{"account_id":16343430,"reputation":21,"user_id":11803829,"display_name":"akhil awesome"},"score":0,"creation_date":1637820404,"post_id":70105228,"comment_id":123928853,"body_markdown":"also it doesnt create src,main and test folders in the project directory. When i clicked maven window it shows maven(Unknown). How do i resolve this issue?","body":"also it doesnt create src,main and test folders in the project directory. When i clicked maven window it shows maven(Unknown). How do i resolve this issue?"},{"owner":{"account_id":957259,"reputation":29625,"user_id":982341,"display_name":"GreyBeardedGeek"},"score":0,"creation_date":1637822531,"post_id":70105228,"comment_id":123929359,"body_markdown":"You need to select an archetype, otherwise it won&#39;t know what to put in the pom.xml","body":"You need to select an archetype, otherwise it won&#39;t know what to put in the pom.xml"},{"owner":{"account_id":21002251,"reputation":94,"user_id":15432808,"display_name":"Sourabh Kundu"},"score":0,"creation_date":1637823806,"post_id":70105228,"comment_id":123929694,"body_markdown":"You can try using spring intializr there you can add dependency in pom.xml as per your requirement and you can download that maven project, after that open that project in intellij you will get a pom.xml with all your dependencies.","body":"You can try using spring intializr there you can add dependency in pom.xml as per your requirement and you can download that maven project, after that open that project in intellij you will get a pom.xml with all your dependencies."},{"owner":{"account_id":16343430,"reputation":21,"user_id":11803829,"display_name":"akhil awesome"},"score":0,"creation_date":1637877907,"post_id":70105228,"comment_id":123948573,"body_markdown":"i&#39;ll try that thanks  to all of you","body":"i&#39;ll try that thanks  to all of you"},{"owner":{"account_id":20732441,"reputation":1553,"user_id":15224052,"display_name":"Oliver"},"score":1,"creation_date":1638195092,"post_id":70105228,"comment_id":124016160,"body_markdown":"@GreyBeardedGeek IntelliJ does not require you to select an archetype and should generate a default POM without one specified.","body":"@GreyBeardedGeek IntelliJ does not require you to select an archetype and should generate a default POM without one specified."},{"owner":{"account_id":20732441,"reputation":1553,"user_id":15224052,"display_name":"Oliver"},"score":0,"creation_date":1638195138,"post_id":70105228,"comment_id":124016171,"body_markdown":"You could try reinstalling IntelliJ.","body":"You could try reinstalling IntelliJ."}],"answers":[{"tags":[],"owner":{"account_id":8985749,"reputation":427,"user_id":6699361,"accept_rate":88,"display_name":"Pawel"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1658172788,"creation_date":1658172114,"answer_id":73027572,"question_id":70105228,"body_markdown":"Check your environment variables and see if JAVA_HOME is present and if your downloaded JDK bin is added to system path variable. If not add them.\r\n\r\nVariables should look sth like this:  \r\n\r\nJAVA_HOME:  C:\\Users\\username\\ .jdks\\openjdk-18.0.1.1\r\n\r\npath:  C:\\Users\\username\\ .jdks\\openjdk-18.0.1.1\\bin","title":"Maven creates an empty pom.xml file in IntelliJ IDEA","body":"<p>Check your environment variables and see if JAVA_HOME is present and if your downloaded JDK bin is added to system path variable. If not add them.</p>\n<p>Variables should look sth like this:</p>\n<p>JAVA_HOME:  C:\\Users\\username\\ .jdks\\openjdk-18.0.1.1</p>\n<p>path:  C:\\Users\\username\\ .jdks\\openjdk-18.0.1.1\\bin</p>\n"},{"comments":[{"owner":{"account_id":21720493,"reputation":738,"user_id":16030830,"display_name":"ethry"},"score":0,"creation_date":1661663243,"post_id":73469953,"comment_id":129822853,"body_markdown":"JDK 8 is very out of date and insecure. I&#39;d recommend using a higher version if possible.","body":"JDK 8 is very out of date and insecure. I&#39;d recommend using a higher version if possible."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1661663253,"post_id":73469953,"comment_id":129822854,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/73469953/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."},{"owner":{"account_id":9618157,"reputation":53,"user_id":7140228,"accept_rate":17,"display_name":"G. Joe"},"score":0,"creation_date":1677762279,"post_id":73469953,"comment_id":133404100,"body_markdown":"jdk17 works fine but 18 and 19 are having the same issue","body":"jdk17 works fine but 18 and 19 are having the same issue"}],"tags":[],"owner":{"account_id":26147418,"reputation":11,"user_id":19835863,"display_name":"闫繁宇"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661330173,"creation_date":1661330173,"answer_id":73469953,"question_id":70105228,"body_markdown":"I also encountered this problem. Install jdk8 and resetting it,You probably installed jdk18.\r\n\r\njdk8 download url\r\nhttps://www.oracle.com/java/technologies/downloads/#java8-windows","title":"Maven creates an empty pom.xml file in IntelliJ IDEA","body":"<p>I also encountered this problem. Install jdk8 and resetting it,You probably installed jdk18.</p>\n<p>jdk8 download url\n<a href=\"https://www.oracle.com/java/technologies/downloads/#java8-windows\" rel=\"nofollow noreferrer\">https://www.oracle.com/java/technologies/downloads/#java8-windows</a></p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1666315987,"post_id":74118098,"comment_id":130913670,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/74118098/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":26636734,"reputation":11,"user_id":20253035,"display_name":"jphantom"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666132127,"creation_date":1666132127,"answer_id":74118098,"question_id":70105228,"body_markdown":"I uninstalled the version I had and installed the last version, it worked for me, of course I deleted the cache and saved configurations with the options the uninstaller gives to erase configuration data. I did a clean installation.","title":"Maven creates an empty pom.xml file in IntelliJ IDEA","body":"<p>I uninstalled the version I had and installed the last version, it worked for me, of course I deleted the cache and saved configurations with the options the uninstaller gives to erase configuration data. I did a clean installation.</p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1685129078,"post_id":76342085,"comment_id":134623564,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/76342085/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":26640908,"reputation":51,"user_id":20256602,"display_name":"chmuhammadowais"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1685113863,"creation_date":1685113863,"answer_id":76342085,"question_id":70105228,"body_markdown":"I was having the same problem. I was using JDK 20 in my IntelliJ, I switched to JDK 17 and changed in new project creation section too and the problem was solved.","title":"Maven creates an empty pom.xml file in IntelliJ IDEA","body":"<p>I was having the same problem. I was using JDK 20 in my IntelliJ, I switched to JDK 17 and changed in new project creation section too and the problem was solved.</p>\n"}],"owner":{"account_id":16343430,"reputation":21,"user_id":11803829,"display_name":"akhil awesome"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3204,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":4,"score":2,"last_activity_date":1685113863,"creation_date":1637808392,"question_id":70105228,"body_markdown":"Create Maven project. `File` -&gt; `New Project` -&gt; `Maven`. Archetype do not indicate.\r\n\r\nThen everything is standard: `GroupId` and `ArtifactId`. The project is created with empty `pom.xml`\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nI am trying to create a new Maven project. I am getting an empty pom.xml file. I did not install java and maven. I used the OpenJDK Java version 17 and maven from the IDE itself.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/JDwT2.png","title":"Maven creates an empty pom.xml file in IntelliJ IDEA","body":"<p>Create Maven project. <code>File</code> -&gt; <code>New Project</code> -&gt; <code>Maven</code>. Archetype do not indicate.</p>\n<p>Then everything is standard: <code>GroupId</code> and <code>ArtifactId</code>. The project is created with empty <code>pom.xml</code></p>\n<p><a href=\"https://i.stack.imgur.com/JDwT2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JDwT2.png\" alt=\"enter image description here\" /></a></p>\n<p>I am trying to create a new Maven project. I am getting an empty pom.xml file. I did not install java and maven. I used the OpenJDK Java version 17 and maven from the IDE itself.</p>\n"},{"tags":["java","spring","spring-boot","spring-integration","spring-integration-sftp"],"answers":[{"comments":[{"owner":{"account_id":28684800,"reputation":1,"user_id":21965276,"display_name":"Ishant"},"score":0,"creation_date":1685201104,"post_id":76342039,"comment_id":134630044,"body_markdown":"Thank you for your response. I am new to this. Where should I implement this in my code.","body":"Thank you for your response. I am new to this. Where should I implement this in my code."},{"owner":{"account_id":3273937,"reputation":114870,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":0,"creation_date":1685389034,"post_id":76342039,"comment_id":134650200,"body_markdown":"IF you are talking about a `ReceiveMessageAdvice`, then see a poller&#39;s `advice-chain` option: https://docs.spring.io/spring-integration/docs/current/reference/html/core.html#smart-polling","body":"IF you are talking about a <code>ReceiveMessageAdvice</code>, then see a poller&#39;s <code>advice-chain</code> option: <a href=\"https://docs.spring.io/spring-integration/docs/current/reference/html/core.html#smart-polling\" rel=\"nofollow noreferrer\">docs.spring.io/spring-integration/docs/current/reference/htm&zwnj;&#8203;l/&hellip;</a>"}],"tags":[],"owner":{"account_id":3273937,"reputation":114870,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685113508,"creation_date":1685113508,"answer_id":76342039,"question_id":76339786,"body_markdown":"There is one in the framework but itself.\r\n\r\nSee `org.springframework.integration.file.remote.synchronizer.AbstractInboundFileSynchronizer`. It emits this log message:\r\n\r\n\t\t\tif (this.logger.isDebugEnabled()) {\r\n\t\t\t\tthis.logger.debug(transferred + &quot; files transferred from &#39;&quot; + remoteDirectory + &quot;&#39;&quot;);\r\n\t\t\t}\r\n\r\nSo, every time when there is no files to transfer from remote dir, you&#39;ll see a message in your logs with `0`.\r\n\r\nThere is also another one in the `org.springframework.integration.endpoint.AbstractPollingEndpoint`:\r\n\r\n\tif (message == null) {\r\n\t\t\tthis.logger.debug(&quot;Received no Message during the poll, returning &#39;false&#39;&quot;);\r\n\t\t\treturn null;\r\n\t\t}\r\n\r\nWhich is emitted on a scheduled polling task when no new data to produce.\r\n\r\nYou also can look into a `ReceiveMessageAdvice` implementation for its `afterReceive()` method, when you just check for `null` on that `result` and emit a respective log message.","title":"how can add log everytime the polling results in no detection of file. I want to add a log when polling results empty everytime","body":"<p>There is one in the framework but itself.</p>\n<p>See <code>org.springframework.integration.file.remote.synchronizer.AbstractInboundFileSynchronizer</code>. It emits this log message:</p>\n<pre><code>        if (this.logger.isDebugEnabled()) {\n            this.logger.debug(transferred + &quot; files transferred from '&quot; + remoteDirectory + &quot;'&quot;);\n        }\n</code></pre>\n<p>So, every time when there is no files to transfer from remote dir, you'll see a message in your logs with <code>0</code>.</p>\n<p>There is also another one in the <code>org.springframework.integration.endpoint.AbstractPollingEndpoint</code>:</p>\n<pre><code>if (message == null) {\n        this.logger.debug(&quot;Received no Message during the poll, returning 'false'&quot;);\n        return null;\n    }\n</code></pre>\n<p>Which is emitted on a scheduled polling task when no new data to produce.</p>\n<p>You also can look into a <code>ReceiveMessageAdvice</code> implementation for its <code>afterReceive()</code> method, when you just check for <code>null</code> on that <code>result</code> and emit a respective log message.</p>\n"}],"owner":{"account_id":28684800,"reputation":1,"user_id":21965276,"display_name":"Ishant"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1685113508,"creation_date":1685095617,"question_id":76339786,"body_markdown":"    public class  SftpConfiguration {\r\n    \r\n    public DefaultSftpSessionFactory sftpFactory() {\r\n    \t\t\r\n    \t\tDefaultSftpSessionFactory factory=new DefaultSftpSessionFactory();\r\n    \t\tfactory.setHost(&quot;*******&quot;);\r\n    \t\tfactory.setPort(22);\r\n    \t\tfactory.setAllowUnknownKeys(true);\r\n    \t\tfactory.setUser(&quot;ishant&quot;);\r\n    \t\tfactory.setPassword(&quot;**********&quot;);\r\n    \t\treturn factory;\r\n    \t}\r\n    @Bean(name=&quot;mydefaultsync&quot;)\r\n    \tpublic SftpInboundFileSynchronizer synchronizer(){\r\n    \t\tSftpInboundFileSynchronizer sync = new SftpInboundFileSynchronizer(sftpFactory());\r\n    \t\tsync.setDeleteRemoteFiles(true);\r\n    \t\tsync.setRemoteDirectory(&quot;C:/Users/ishant/Downloads&quot;);\r\n    \t\tsync.setFilter(new SftpSimplePatternFileListFilter(&quot;*.txt&quot;));\r\n    \t\tsync.setPreserveTimestamp(true);\r\n    \t\tsync.\r\n    \r\n    \t\treturn sync;\r\n    \t}\r\n    \r\n    \r\n    \t@Bean(name=&quot;sftpMessageSource&quot;)\r\n    \t@InboundChannelAdapter(channel=&quot;fileuploaded&quot;, poller = @Poller(fixedDelay = &quot;5000&quot;))\r\n    \tpublic MessageSource&lt;File&gt; sftpMessageSource(){\r\n    \t\tSftpInboundFileSynchronizingMessageSource source =\r\n    \t\t\t\tnew SftpInboundFileSynchronizingMessageSource(synchronizer());\r\n    \t\tsource.setLocalDirectory(new File(&quot;tmp/incoming&quot;));\r\n    \t\tsource.setAutoCreateLocalDirectory(true);\r\n    \t\tsource.setMaxFetchSize(1); \r\n    \t\t\r\n    \t\tSystem.out.println(source);\r\n    \t\treturn source;\r\n    \t}\r\n    \r\n    \r\n    \t@ServiceActivator(inputChannel = &quot;fileuploaded&quot;)\r\n    \tpublic void handleIncomingFile(File file) throws IOException {\r\n    \t\tlog.info(String.format(&quot;handleIncomingFile BEGIN %s&quot;, file.getName()));\r\n    \t\tString content = FileUtils.readFileToString(file, &quot;UTF-8&quot;);\r\n    \t\tlog.info(String.format(&quot;Content: %s&quot;, content));\r\n    \t\tlog.info(String.format(&quot;handleIncomingFile END %s&quot;, file.getName()));\r\n    \t}\r\n    }\r\n\r\n","title":"how can add log everytime the polling results in no detection of file. I want to add a log when polling results empty everytime","body":"<pre><code>public class  SftpConfiguration {\n\npublic DefaultSftpSessionFactory sftpFactory() {\n        \n        DefaultSftpSessionFactory factory=new DefaultSftpSessionFactory();\n        factory.setHost(&quot;*******&quot;);\n        factory.setPort(22);\n        factory.setAllowUnknownKeys(true);\n        factory.setUser(&quot;ishant&quot;);\n        factory.setPassword(&quot;**********&quot;);\n        return factory;\n    }\n@Bean(name=&quot;mydefaultsync&quot;)\n    public SftpInboundFileSynchronizer synchronizer(){\n        SftpInboundFileSynchronizer sync = new SftpInboundFileSynchronizer(sftpFactory());\n        sync.setDeleteRemoteFiles(true);\n        sync.setRemoteDirectory(&quot;C:/Users/ishant/Downloads&quot;);\n        sync.setFilter(new SftpSimplePatternFileListFilter(&quot;*.txt&quot;));\n        sync.setPreserveTimestamp(true);\n        sync.\n\n        return sync;\n    }\n\n\n    @Bean(name=&quot;sftpMessageSource&quot;)\n    @InboundChannelAdapter(channel=&quot;fileuploaded&quot;, poller = @Poller(fixedDelay = &quot;5000&quot;))\n    public MessageSource&lt;File&gt; sftpMessageSource(){\n        SftpInboundFileSynchronizingMessageSource source =\n                new SftpInboundFileSynchronizingMessageSource(synchronizer());\n        source.setLocalDirectory(new File(&quot;tmp/incoming&quot;));\n        source.setAutoCreateLocalDirectory(true);\n        source.setMaxFetchSize(1); \n        \n        System.out.println(source);\n        return source;\n    }\n\n\n    @ServiceActivator(inputChannel = &quot;fileuploaded&quot;)\n    public void handleIncomingFile(File file) throws IOException {\n        log.info(String.format(&quot;handleIncomingFile BEGIN %s&quot;, file.getName()));\n        String content = FileUtils.readFileToString(file, &quot;UTF-8&quot;);\n        log.info(String.format(&quot;Content: %s&quot;, content));\n        log.info(String.format(&quot;handleIncomingFile END %s&quot;, file.getName()));\n    }\n}\n</code></pre>\n"},{"tags":["java","jar","fileinputstream"],"comments":[{"owner":{"account_id":4177005,"reputation":1364,"user_id":3423236,"accept_rate":83,"display_name":"Marek J"},"score":0,"creation_date":1513090672,"post_id":47775482,"comment_id":82512098,"body_markdown":"Please give more details. What is the error message? How did you create the jar file?","body":"Please give more details. What is the error message? How did you create the jar file?"},{"owner":{"account_id":5801217,"reputation":910,"user_id":4575328,"accept_rate":20,"display_name":"Juvenik"},"score":0,"creation_date":1513091054,"post_id":47775482,"comment_id":82512316,"body_markdown":"Sorry, I created a jar by maven build. And the &#39;files&#39; is coming as null.","body":"Sorry, I created a jar by maven build. And the &#39;files&#39; is coming as null."},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1513107939,"post_id":47775482,"comment_id":82521998,"body_markdown":"The basic answer is, you can&#39;t.  A Jar file is Zip file, unless you can identify the location of the Zip file which contains the resources in question at runtime, you can&#39;t list it&#39;s contents. You code should make no assumptions about the name or location of the Jar file, as it couples your code to a variable state.  Instead, when you build/package the Jar, generate a file list and save it to a well known file/location and store this in the Jar file.  At runtime, read this resource and then you will have a list of the other files","body":"The basic answer is, you can&#39;t.  A Jar file is Zip file, unless you can identify the location of the Zip file which contains the resources in question at runtime, you can&#39;t list it&#39;s contents. You code should make no assumptions about the name or location of the Jar file, as it couples your code to a variable state.  Instead, when you build/package the Jar, generate a file list and save it to a well known file/location and store this in the Jar file.  At runtime, read this resource and then you will have a list of the other files"},{"owner":{"account_id":2843470,"reputation":4620,"user_id":2442526,"display_name":"xtratic"},"score":0,"creation_date":1513178623,"post_id":47775482,"comment_id":82554022,"body_markdown":"@Juvenik Does my code not work for you? Just let me know and I might be able to help.","body":"@Juvenik Does my code not work for you? Just let me know and I might be able to help."}],"answers":[{"tags":[],"owner":{"account_id":2843470,"reputation":4620,"user_id":2442526,"display_name":"xtratic"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1513179872,"creation_date":1513114471,"answer_id":47781932,"question_id":47775482,"body_markdown":"Firstly, remember that Jars are Zip files so you can&#39;t get an individual `File` out of it without unzipping it. Zip files don&#39;t exactly have directories, so it&#39;s not as simple as getting the children of a directory.\r\n\r\nThis was a bit of a difficult one but I too was curious, and after researching I have come up with the following.\r\n\r\nFirstly, you could try putting the resources into a flat Zip file (`resource/json/templates.zip`) nested in the Jar, then loading all the resources from that zip file since you know all the zip entries will be the resources you want. This should work even in the IDE.\r\n\r\n    String path = &quot;resource/json/templates.zip&quot;;\r\n    ZipInputStream zis = new ZipInputStream(getClass().getResourceAsStream(path));\r\n    for (ZipEntry ze = zis.getNextEntry(); ze != null; ze = zis.getNextEntry()) {\r\n        // &#39;zis&#39; is the input stream and will yield an &#39;EOF&#39; before the next entry\r\n        templateJson = (JSONObject) parser.parse(zis);\r\n    }\r\n\r\nAlternatively, you could get the running Jar, iterate through its entries, and collect the ones that are children of `resource/json/templates/` then get the streams from those entries. NOTE: *This will only work when running the Jar*, add a check to run something else while running in the IDE.\r\n\r\n    public void runOrSomething() throws IOException, URISyntaxException {\r\n        // ... other logic ...\r\n        final String path = &quot;resource/json/templates/&quot;;\r\n        Predicate&lt;JarEntry&gt; pred = (j) -&gt; !j.isDirectory() &amp;&amp; j.getName().startsWith(path);\r\n\r\n        try (JarFile jar = new Test().getThisJar()) {\r\n            List&lt;JarEntry&gt; resources = getEntriesUnderPath(jar, pred);\r\n            for (JarEntry entry : resources) {\r\n                System.out.println(entry.getName());\r\n                try (InputStream is = jar.getInputStream(entry)) {\r\n                    // JarEntry streams are closed when their JarFile is closed,\r\n                    // so you must use them before closing &#39;jar&#39;\r\n                    templateJson = (JSONObject) parser.parse(is);\r\n                    // ... other logic ...\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    // gets ALL the children, not just direct\r\n    // path should usually end in backslash\r\n    public static List&lt;JarEntry&gt; getEntriesUnderPath(JarFile jar, Predicate&lt;JarEntry&gt; pred)\r\n    {\r\n        List&lt;JarEntry&gt; list = new LinkedList&lt;&gt;();\r\n        Enumeration&lt;JarEntry&gt; entries = jar.entries();\r\n\r\n        // has to iterate through all the Jar entries\r\n        while (entries.hasMoreElements()) {\r\n            JarEntry entry = entries.nextElement();\r\n            if (pred.test(entry))\r\n                list.add(entry);\r\n        }\r\n        return list;\r\n    }\r\n\r\n\r\n    public JarFile getThisJar() throws IOException, URISyntaxException {\r\n        URL url = getClass().getProtectionDomain().getCodeSource().getLocation();\r\n        return new JarFile(new File(url.toURI()));\r\n    }\r\n\r\nI hope this helps.","title":"Getting the list of filenames from resource folder when running in jar","body":"<p>Firstly, remember that Jars are Zip files so you can't get an individual <code>File</code> out of it without unzipping it. Zip files don't exactly have directories, so it's not as simple as getting the children of a directory.</p>\n\n<p>This was a bit of a difficult one but I too was curious, and after researching I have come up with the following.</p>\n\n<p>Firstly, you could try putting the resources into a flat Zip file (<code>resource/json/templates.zip</code>) nested in the Jar, then loading all the resources from that zip file since you know all the zip entries will be the resources you want. This should work even in the IDE.</p>\n\n<pre><code>String path = \"resource/json/templates.zip\";\nZipInputStream zis = new ZipInputStream(getClass().getResourceAsStream(path));\nfor (ZipEntry ze = zis.getNextEntry(); ze != null; ze = zis.getNextEntry()) {\n    // 'zis' is the input stream and will yield an 'EOF' before the next entry\n    templateJson = (JSONObject) parser.parse(zis);\n}\n</code></pre>\n\n<p>Alternatively, you could get the running Jar, iterate through its entries, and collect the ones that are children of <code>resource/json/templates/</code> then get the streams from those entries. NOTE: <em>This will only work when running the Jar</em>, add a check to run something else while running in the IDE.</p>\n\n<pre><code>public void runOrSomething() throws IOException, URISyntaxException {\n    // ... other logic ...\n    final String path = \"resource/json/templates/\";\n    Predicate&lt;JarEntry&gt; pred = (j) -&gt; !j.isDirectory() &amp;&amp; j.getName().startsWith(path);\n\n    try (JarFile jar = new Test().getThisJar()) {\n        List&lt;JarEntry&gt; resources = getEntriesUnderPath(jar, pred);\n        for (JarEntry entry : resources) {\n            System.out.println(entry.getName());\n            try (InputStream is = jar.getInputStream(entry)) {\n                // JarEntry streams are closed when their JarFile is closed,\n                // so you must use them before closing 'jar'\n                templateJson = (JSONObject) parser.parse(is);\n                // ... other logic ...\n            }\n        }\n    }\n}\n\n\n// gets ALL the children, not just direct\n// path should usually end in backslash\npublic static List&lt;JarEntry&gt; getEntriesUnderPath(JarFile jar, Predicate&lt;JarEntry&gt; pred)\n{\n    List&lt;JarEntry&gt; list = new LinkedList&lt;&gt;();\n    Enumeration&lt;JarEntry&gt; entries = jar.entries();\n\n    // has to iterate through all the Jar entries\n    while (entries.hasMoreElements()) {\n        JarEntry entry = entries.nextElement();\n        if (pred.test(entry))\n            list.add(entry);\n    }\n    return list;\n}\n\n\npublic JarFile getThisJar() throws IOException, URISyntaxException {\n    URL url = getClass().getProtectionDomain().getCodeSource().getLocation();\n    return new JarFile(new File(url.toURI()));\n}\n</code></pre>\n\n<p>I hope this helps.</p>\n"},{"comments":[{"owner":{"account_id":5801217,"reputation":910,"user_id":4575328,"accept_rate":20,"display_name":"Juvenik"},"score":2,"creation_date":1513141398,"post_id":47782558,"comment_id":82532792,"body_markdown":"Hi, I tried this but I am getting the following error:\njava.nio.file.FileSystemNotFoundException\n\tat com.sun.nio.zipfs.ZipFileSystemProvider.getFileSystem(ZipFileSystemProvider.java:171)\n\tat com.sun.nio.zipfs.ZipFileSystemProvider.getPath(ZipFileSystemProvider.java:157)\n\tat java.nio.file.Paths.get(Paths.java:143)","body":"Hi, I tried this but I am getting the following error: java.nio.file.FileSystemNotFoundException \tat com.sun.nio.zipfs.ZipFileSystemProvider.getFileSystem(ZipFil&zwnj;&#8203;eSystemProvider.java&zwnj;&#8203;:171) \tat com.sun.nio.zipfs.ZipFileSystemProvider.getPath(ZipFileSyste&zwnj;&#8203;mProvider.java:157) \tat java.nio.file.Paths.get(Paths.java:143)"},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1513152290,"post_id":47782558,"comment_id":82537294,"body_markdown":"@Juvenik sorry, I had the hope that this would be easier than xtratic&#39;s solution; it looks so plausible.","body":"@Juvenik sorry, I had the hope that this would be easier than xtratic&#39;s solution; it looks so plausible."}],"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"comment_count":2,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1513117528,"creation_date":1513117528,"answer_id":47782558,"question_id":47775482,"body_markdown":"Assuming that in the class path, in the jar the directory starts with /json (/resource is a root directory), it could be as such:\r\n\r\n        URL url = getClass().getResource(&quot;/json&quot;);\r\n        Path path = Paths.get(url.toURI());\r\n        Files.walk(path, 5).forEach(p -&gt; System.out.printf(&quot;- %s%n&quot;, p.toString()));\r\n\r\nThis uses a `jar:file://...` URL, and opens a virtual file system on it.\r\n\r\nInspect that the jar indeed uses that path.\r\n\r\nReading can be done as desired.\r\n\r\n         BufferedReader in = Files.newBufferedReader(p, StandardCharsets.UTF_8);","title":"Getting the list of filenames from resource folder when running in jar","body":"<p>Assuming that in the class path, in the jar the directory starts with /json (/resource is a root directory), it could be as such:</p>\n\n<pre><code>    URL url = getClass().getResource(\"/json\");\n    Path path = Paths.get(url.toURI());\n    Files.walk(path, 5).forEach(p -&gt; System.out.printf(\"- %s%n\", p.toString()));\n</code></pre>\n\n<p>This uses a <code>jar:file://...</code> URL, and opens a virtual file system on it.</p>\n\n<p>Inspect that the jar indeed uses that path.</p>\n\n<p>Reading can be done as desired.</p>\n\n<pre><code>     BufferedReader in = Files.newBufferedReader(p, StandardCharsets.UTF_8);\n</code></pre>\n"}],"owner":{"account_id":5801217,"reputation":910,"user_id":4575328,"accept_rate":20,"display_name":"Juvenik"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14610,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"closed_date":1685151802,"answer_count":2,"score":9,"last_activity_date":1685113310,"creation_date":1513090365,"question_id":47775482,"body_markdown":"I have some Json files in the folder &quot;resource/json/templates&quot;. I want to read these Json files. So far, the snippet of code below is allowing me to do so when running the program in IDE but it fails when I run it in the jar.\r\n\r\n      JSONParser parser = new JSONParser();\r\n      ClassLoader loader = getClass().getClassLoader();\r\n      URL url = loader.getResource(templateDirectory);\r\n      String path = url.getPath();\r\n      File[] files = new File(path).listFiles();\r\n      PipelineTemplateRepo pipelineTemplateRepo = new PipelineTemplateRepoImpl();\r\n      File templateFile;\r\n      JSONObject templateJson;\r\n      PipelineTemplateVo templateFromFile;\r\n      PipelineTemplateVo templateFromDB;\r\n      String templateName;\r\n\r\n\r\n      for (int i = 0; i &lt; files.length; i++) {\r\n        if (files[i].isFile()) {\r\n          templateFile = files[i];\r\n          templateJson = (JSONObject) parser.parse(new FileReader(templateFile));\r\n          //Other logic\r\n        }\r\n      }\r\n    }\r\n    catch (Exception e) {\r\n      e.printStackTrace();\r\n    }\r\n\r\nAny help would be greatly appreciated.\r\n\r\nThanks a lot.","title":"Getting the list of filenames from resource folder when running in jar","body":"<p>I have some Json files in the folder \"resource/json/templates\". I want to read these Json files. So far, the snippet of code below is allowing me to do so when running the program in IDE but it fails when I run it in the jar.</p>\n\n<pre><code>  JSONParser parser = new JSONParser();\n  ClassLoader loader = getClass().getClassLoader();\n  URL url = loader.getResource(templateDirectory);\n  String path = url.getPath();\n  File[] files = new File(path).listFiles();\n  PipelineTemplateRepo pipelineTemplateRepo = new PipelineTemplateRepoImpl();\n  File templateFile;\n  JSONObject templateJson;\n  PipelineTemplateVo templateFromFile;\n  PipelineTemplateVo templateFromDB;\n  String templateName;\n\n\n  for (int i = 0; i &lt; files.length; i++) {\n    if (files[i].isFile()) {\n      templateFile = files[i];\n      templateJson = (JSONObject) parser.parse(new FileReader(templateFile));\n      //Other logic\n    }\n  }\n}\ncatch (Exception e) {\n  e.printStackTrace();\n}\n</code></pre>\n\n<p>Any help would be greatly appreciated.</p>\n\n<p>Thanks a lot.</p>\n"},{"tags":["java","postgresql","spring-boot","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1685128733,"post_id":76341947,"comment_id":134623500,"body_markdown":"I don&#39;t know that you can pass in tuples dynamically like this. You may need to break out the query parameters individually &quot;where (first_name, last_name) in ( (:fn1, :ln1), (:fn2, :ln2))&quot;","body":"I don&#39;t know that you can pass in tuples dynamically like this. You may need to break out the query parameters individually &quot;where (first_name, last_name) in ( (:fn1, :ln1), (:fn2, :ln2))&quot;"},{"owner":{"account_id":7929172,"reputation":1797,"user_id":6059506,"accept_rate":77,"display_name":"theprogrammer"},"score":0,"creation_date":1685170649,"post_id":76341947,"comment_id":134626949,"body_markdown":"How to do that in spring data jpa? Do I pass a `List&lt;String&gt; fnList, List&lt;String&gt; lnList`?","body":"How to do that in spring data jpa? Do I pass a <code>List&lt;String&gt; fnList, List&lt;String&gt; lnList</code>?"}],"owner":{"account_id":7929172,"reputation":1797,"user_id":6059506,"accept_rate":77,"display_name":"theprogrammer"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":296,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1685112904,"creation_date":1685112904,"question_id":76341947,"body_markdown":"I am using spring-data-jpa and I want to write native query only(this is important).\r\n\r\nConsider the below schema.sql\r\n\r\n```sql\r\ndrop table if exists users;\r\n\r\ncreate table users (\r\n    id text NOT NULL,\r\n    first_name text NOT NULL,\r\n    last_name text NOT NULL,\r\n    age text NOT NULL,\r\n    CONSTRAINT pkey PRIMARY KEY(id)\r\n);\r\n```\r\n\r\nNow consider the below java entities and repository methods(removed other stuff for brevity)\r\n\r\n```java\r\n@Entity\r\n@Data\r\n@Builder\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@Table(name = &quot;users&quot;)\r\npublic class UsersEntity {\r\n    @Id\r\n    private String id;\r\n\r\n    @Column(name = &quot;first_name&quot;)\r\n    private String firstName;\r\n\r\n    @Column(name = &quot;last_name&quot;)\r\n    private String lastName;\r\n\r\n    @Column(name = &quot;age&quot;)\r\n    private String age;\r\n}\r\n```\r\n\r\n```java\r\npublic interface UsersRepo extends JpaRepository&lt;UsersEntity, String&gt; {\r\n\r\n    String sql = &quot;&quot;&quot;\r\n            select age from users\r\n            where (first_name, last_name) in (\r\n                :args\r\n            )\r\n            &quot;&quot;&quot;;\r\n\r\n    @Query(value = sql, nativeQuery = true)\r\n    List&lt;UsersEntity&gt; findAllByCustom(List&lt;String[]&gt; args);\r\n}\r\n```\r\n\r\n---\r\n\r\n##### The actual Error (operator does not exist: record = character varying[])\r\nWhen I try to run `findAllByCustom` method of `UsersRepo`, I am getting the below error:\r\n\r\n```yml\r\n2023-05-26T10:46:57.302-04:00  WARN 12800 --- [nio-8080-exec-2] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 0, SQLState: 42883\r\n2023-05-26T10:46:57.302-04:00 ERROR 12800 --- [nio-8080-exec-2] o.h.engine.jdbc.spi.SqlExceptionHelper   : ERROR: operator does not exist: record = character varying[]\r\n  Hint: No operator matches the given name and argument types. You might need to add explicit type casts.\r\n  Position: 53\r\n2023-05-26T10:46:57.315-04:00 ERROR 12800 --- [nio-8080-exec-2] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.dao.InvalidDataAccessResourceUsageException: JDBC exception executing SQL [select age from users\r\nwhere (first_name, last_name) in (\r\n    ?,?\r\n)\r\n] [ERROR: operator does not exist: record = character varying[]\r\n  Hint: No operator matches the given name and argument types. You might need to add explicit type casts.\r\n  Position: 53] [n/a]; SQL [n/a]] with root cause\r\n\r\norg.postgresql.util.PSQLException: ERROR: operator does not exist: record = character varying[]\r\n  Hint: No operator matches the given name and argument types. You might need to add explicit type casts.\r\n  Position: 53\r\n\tat org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2713) ~[postgresql-42.6.0.jar:42.6.0]\r\n\tat org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2401) ~[postgresql-42.6.0.jar:42.6.0]\r\n\tat org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:368) ~[postgresql-42.6.0.jar:42.6.0]\r\n\tat org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:498) ~[postgresql-42.6.0.jar:42.6.0]\r\n\tat org.postgresql.jdbc.PgStatement.execute(PgStatement.java:415) ~[postgresql-42.6.0.jar:42.6.0]\r\n\tat org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:190) ~[postgresql-42.6.0.jar:42.6.0]\r\n\tat org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:134) ~[postgresql-42.6.0.jar:42.6.0]\r\n\tat com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52) ~[HikariCP-5.0.1.jar:na]\r\n\tat com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java) ~[HikariCP-5.0.1.jar:na]\r\n\tat org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:239) ~[hibernate-core-6.2.2.Final.jar:6.2.2.Final]\r\n\tat org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.getResultSet(DeferredResultSetAccess.java:163) ~[hibernate-core-6.2.2.Final.jar:6.2.2.Final]\r\n\tat org.hibernate.sql.results.jdbc.internal.AbstractResultSetAccess.getMetaData(AbstractResultSetAccess.java:36) ~[hibernate-core-6.2.2.Final.jar:6.2.2.Final]\r\n\tat org.hibernate.sql.results.jdbc.internal.AbstractResultSetAccess.getColumnCount(AbstractResultSetAccess.java:52) ~[hibernate-core-6.2.2.Final.jar:6.2.2.Final]\r\n\tat org.hibernate.query.results.ResultSetMappingImpl.resolve(ResultSetMappingImpl.java:193) ~[hibernate-core-6.2.2.Final.jar:6.2.2.Final]\r\n\tat org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.resolveJdbcValuesSource(JdbcSelectExecutorStandardImpl.java:478) ~[hibernate-core-6.2.2.Final.jar:6.2.2.Final]\r\n\tat org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:267) ~[hibernate-core-6.2.2.Final.jar:6.2.2.Final]\r\n\tat org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:168) ~[hibernate-core-6.2.2.Final.jar:6.2.2.Final]\r\n\tat org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.list(JdbcSelectExecutorStandardImpl.java:93) ~[hibernate-core-6.2.2.Final.jar:6.2.2.Final]\r\n\tat org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:31) ~[hibernate-core-6.2.2.Final.jar:6.2.2.Final]\r\n\tat org.hibernate.query.sql.internal.NativeSelectQueryPlanImpl.performList(NativeSelectQueryPlanImpl.java:97) ~[hibernate-core-6.2.2.Final.jar:6.2.2.Final]\r\n\tat org.hibernate.query.sql.internal.NativeQueryImpl.doList(NativeQueryImpl.java:621) ~[hibernate-core-6.2.2.Final.jar:6.2.2.Final]\r\n\tat org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:367) ~[hibernate-core-6.2.2.Final.jar:6.2.2.Final]\r\n\tat org.hibernate.query.Query.getResultList(Query.java:119) ~[hibernate-core-6.2.2.Final.jar:6.2.2.Final]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n\tat org.springframework.orm.jpa.SharedEntityManagerCreator$DeferredQueryInvocationHandler.invoke(SharedEntityManagerCreator.java:405) ~[spring-orm-6.0.9.jar:6.0.9]\r\n\tat jdk.proxy2/jdk.proxy2.$Proxy113.getResultList(Unknown Source) ~[na:na]\r\n\tat org.springframework.data.jpa.repository.query.JpaQueryExecution$CollectionExecution.doExecute(JpaQueryExecution.java:129) ~[spring-data-jpa-3.1.0.jar:3.1.0]\r\n\tat org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:92) ~[spring-data-jpa-3.1.0.jar:3.1.0]\r\n\tat org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:148) ~[spring-data-jpa-3.1.0.jar:3.1.0]\r\n\tat org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:136) ~[spring-data-jpa-3.1.0.jar:3.1.0]\r\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:136) ~[spring-data-commons-3.1.0.jar:3.1.0]\r\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:120) ~[spring-data-commons-3.1.0.jar:3.1.0]\r\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:164) ~[spring-data-commons-3.1.0.jar:3.1.0]\r\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:143) ~[spring-data-commons-3.1.0.jar:3.1.0]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.9.jar:6.0.9]\r\n\tat org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:77) ~[spring-data-commons-3.1.0.jar:3.1.0]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.9.jar:6.0.9]\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-6.0.9.jar:6.0.9]\r\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:391) ~[spring-tx-6.0.9.jar:6.0.9]\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.0.9.jar:6.0.9]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.9.jar:6.0.9]\r\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-6.0.9.jar:6.0.9]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.9.jar:6.0.9]\r\n\tat org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:134) ~[spring-data-jpa-3.1.0.jar:3.1.0]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.9.jar:6.0.9]\r\n\tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-6.0.9.jar:6.0.9]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.9.jar:6.0.9]\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223) ~[spring-aop-6.0.9.jar:6.0.9]\r\n\tat jdk.proxy2/jdk.proxy2.$Proxy103.findAllByCustom(Unknown Source) ~[na:na]\r\n\tat com.sql.sqldemo.HomeController.home(HomeController.java:25) ~[main/:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:207) ~[spring-web-6.0.9.jar:6.0.9]\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:152) ~[spring-web-6.0.9.jar:6.0.9]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.0.9.jar:6.0.9]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884) ~[spring-webmvc-6.0.9.jar:6.0.9]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797) ~[spring-webmvc-6.0.9.jar:6.0.9]\r\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.0.9.jar:6.0.9]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1081) ~[spring-webmvc-6.0.9.jar:6.0.9]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974) ~[spring-webmvc-6.0.9.jar:6.0.9]\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011) ~[spring-webmvc-6.0.9.jar:6.0.9]\r\n\tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903) ~[spring-webmvc-6.0.9.jar:6.0.9]\r\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564) ~[tomcat-embed-core-10.1.8.jar:6.0]\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.0.9.jar:6.0.9]\r\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.8.jar:6.0]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.8.jar:10.1.8]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.0.9.jar:6.0.9]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.9.jar:6.0.9]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.0.9.jar:6.0.9]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.9.jar:6.0.9]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.0.9.jar:6.0.9]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.9.jar:6.0.9]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:166) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:894) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\r\n```\r\n\r\n\r\n---\r\n\r\n**Note**: I think I can change my native query to use concat(first_name, last_name) and then check against it, but if I do this, the execution plan cost increases for string concatenation which is not scalable enough for me.","title":"How to write a native query in spring boot jpa(postgres) which has &quot;where in&quot; check on composite columns?","body":"<p>I am using spring-data-jpa and I want to write native query only(this is important).</p>\n<p>Consider the below schema.sql</p>\n<pre class=\"lang-sql prettyprint-override\"><code>drop table if exists users;\n\ncreate table users (\n    id text NOT NULL,\n    first_name text NOT NULL,\n    last_name text NOT NULL,\n    age text NOT NULL,\n    CONSTRAINT pkey PRIMARY KEY(id)\n);\n</code></pre>\n<p>Now consider the below java entities and repository methods(removed other stuff for brevity)</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Data\n@Builder\n@AllArgsConstructor\n@NoArgsConstructor\n@Table(name = &quot;users&quot;)\npublic class UsersEntity {\n    @Id\n    private String id;\n\n    @Column(name = &quot;first_name&quot;)\n    private String firstName;\n\n    @Column(name = &quot;last_name&quot;)\n    private String lastName;\n\n    @Column(name = &quot;age&quot;)\n    private String age;\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public interface UsersRepo extends JpaRepository&lt;UsersEntity, String&gt; {\n\n    String sql = &quot;&quot;&quot;\n            select age from users\n            where (first_name, last_name) in (\n                :args\n            )\n            &quot;&quot;&quot;;\n\n    @Query(value = sql, nativeQuery = true)\n    List&lt;UsersEntity&gt; findAllByCustom(List&lt;String[]&gt; args);\n}\n</code></pre>\n<hr />\n<h5>The actual Error (operator does not exist: record = character varying[])</h5>\n<p>When I try to run <code>findAllByCustom</code> method of <code>UsersRepo</code>, I am getting the below error:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>2023-05-26T10:46:57.302-04:00  WARN 12800 --- [nio-8080-exec-2] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 0, SQLState: 42883\n2023-05-26T10:46:57.302-04:00 ERROR 12800 --- [nio-8080-exec-2] o.h.engine.jdbc.spi.SqlExceptionHelper   : ERROR: operator does not exist: record = character varying[]\n  Hint: No operator matches the given name and argument types. You might need to add explicit type casts.\n  Position: 53\n2023-05-26T10:46:57.315-04:00 ERROR 12800 --- [nio-8080-exec-2] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.dao.InvalidDataAccessResourceUsageException: JDBC exception executing SQL [select age from users\nwhere (first_name, last_name) in (\n    ?,?\n)\n] [ERROR: operator does not exist: record = character varying[]\n  Hint: No operator matches the given name and argument types. You might need to add explicit type casts.\n  Position: 53] [n/a]; SQL [n/a]] with root cause\n\norg.postgresql.util.PSQLException: ERROR: operator does not exist: record = character varying[]\n  Hint: No operator matches the given name and argument types. You might need to add explicit type casts.\n  Position: 53\n    at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2713) ~[postgresql-42.6.0.jar:42.6.0]\n    at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2401) ~[postgresql-42.6.0.jar:42.6.0]\n    at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:368) ~[postgresql-42.6.0.jar:42.6.0]\n    at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:498) ~[postgresql-42.6.0.jar:42.6.0]\n    at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:415) ~[postgresql-42.6.0.jar:42.6.0]\n    at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:190) ~[postgresql-42.6.0.jar:42.6.0]\n    at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:134) ~[postgresql-42.6.0.jar:42.6.0]\n    at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52) ~[HikariCP-5.0.1.jar:na]\n    at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java) ~[HikariCP-5.0.1.jar:na]\n    at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:239) ~[hibernate-core-6.2.2.Final.jar:6.2.2.Final]\n    at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.getResultSet(DeferredResultSetAccess.java:163) ~[hibernate-core-6.2.2.Final.jar:6.2.2.Final]\n    at org.hibernate.sql.results.jdbc.internal.AbstractResultSetAccess.getMetaData(AbstractResultSetAccess.java:36) ~[hibernate-core-6.2.2.Final.jar:6.2.2.Final]\n    at org.hibernate.sql.results.jdbc.internal.AbstractResultSetAccess.getColumnCount(AbstractResultSetAccess.java:52) ~[hibernate-core-6.2.2.Final.jar:6.2.2.Final]\n    at org.hibernate.query.results.ResultSetMappingImpl.resolve(ResultSetMappingImpl.java:193) ~[hibernate-core-6.2.2.Final.jar:6.2.2.Final]\n    at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.resolveJdbcValuesSource(JdbcSelectExecutorStandardImpl.java:478) ~[hibernate-core-6.2.2.Final.jar:6.2.2.Final]\n    at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:267) ~[hibernate-core-6.2.2.Final.jar:6.2.2.Final]\n    at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:168) ~[hibernate-core-6.2.2.Final.jar:6.2.2.Final]\n    at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.list(JdbcSelectExecutorStandardImpl.java:93) ~[hibernate-core-6.2.2.Final.jar:6.2.2.Final]\n    at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:31) ~[hibernate-core-6.2.2.Final.jar:6.2.2.Final]\n    at org.hibernate.query.sql.internal.NativeSelectQueryPlanImpl.performList(NativeSelectQueryPlanImpl.java:97) ~[hibernate-core-6.2.2.Final.jar:6.2.2.Final]\n    at org.hibernate.query.sql.internal.NativeQueryImpl.doList(NativeQueryImpl.java:621) ~[hibernate-core-6.2.2.Final.jar:6.2.2.Final]\n    at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:367) ~[hibernate-core-6.2.2.Final.jar:6.2.2.Final]\n    at org.hibernate.query.Query.getResultList(Query.java:119) ~[hibernate-core-6.2.2.Final.jar:6.2.2.Final]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n    at org.springframework.orm.jpa.SharedEntityManagerCreator$DeferredQueryInvocationHandler.invoke(SharedEntityManagerCreator.java:405) ~[spring-orm-6.0.9.jar:6.0.9]\n    at jdk.proxy2/jdk.proxy2.$Proxy113.getResultList(Unknown Source) ~[na:na]\n    at org.springframework.data.jpa.repository.query.JpaQueryExecution$CollectionExecution.doExecute(JpaQueryExecution.java:129) ~[spring-data-jpa-3.1.0.jar:3.1.0]\n    at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:92) ~[spring-data-jpa-3.1.0.jar:3.1.0]\n    at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:148) ~[spring-data-jpa-3.1.0.jar:3.1.0]\n    at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:136) ~[spring-data-jpa-3.1.0.jar:3.1.0]\n    at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:136) ~[spring-data-commons-3.1.0.jar:3.1.0]\n    at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:120) ~[spring-data-commons-3.1.0.jar:3.1.0]\n    at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:164) ~[spring-data-commons-3.1.0.jar:3.1.0]\n    at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:143) ~[spring-data-commons-3.1.0.jar:3.1.0]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.9.jar:6.0.9]\n    at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:77) ~[spring-data-commons-3.1.0.jar:3.1.0]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.9.jar:6.0.9]\n    at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-6.0.9.jar:6.0.9]\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:391) ~[spring-tx-6.0.9.jar:6.0.9]\n    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.0.9.jar:6.0.9]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.9.jar:6.0.9]\n    at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-6.0.9.jar:6.0.9]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.9.jar:6.0.9]\n    at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:134) ~[spring-data-jpa-3.1.0.jar:3.1.0]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.9.jar:6.0.9]\n    at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-6.0.9.jar:6.0.9]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.9.jar:6.0.9]\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223) ~[spring-aop-6.0.9.jar:6.0.9]\n    at jdk.proxy2/jdk.proxy2.$Proxy103.findAllByCustom(Unknown Source) ~[na:na]\n    at com.sql.sqldemo.HomeController.home(HomeController.java:25) ~[main/:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:207) ~[spring-web-6.0.9.jar:6.0.9]\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:152) ~[spring-web-6.0.9.jar:6.0.9]\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.0.9.jar:6.0.9]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884) ~[spring-webmvc-6.0.9.jar:6.0.9]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797) ~[spring-webmvc-6.0.9.jar:6.0.9]\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.0.9.jar:6.0.9]\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1081) ~[spring-webmvc-6.0.9.jar:6.0.9]\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974) ~[spring-webmvc-6.0.9.jar:6.0.9]\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011) ~[spring-webmvc-6.0.9.jar:6.0.9]\n    at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903) ~[spring-webmvc-6.0.9.jar:6.0.9]\n    at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564) ~[tomcat-embed-core-10.1.8.jar:6.0]\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.0.9.jar:6.0.9]\n    at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.8.jar:6.0]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.8.jar:10.1.8]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.0.9.jar:6.0.9]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.9.jar:6.0.9]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.0.9.jar:6.0.9]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.9.jar:6.0.9]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.0.9.jar:6.0.9]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.9.jar:6.0.9]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:166) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:894) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\n</code></pre>\n<hr />\n<p><strong>Note</strong>: I think I can change my native query to use concat(first_name, last_name) and then check against it, but if I do this, the execution plan cost increases for string concatenation which is not scalable enough for me.</p>\n"},{"tags":["java","javafx","classpath","java-17"],"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1644224044,"post_id":70995461,"comment_id":125538693,"body_markdown":"Look at [this answer](https://stackoverflow.com/a/36021165/2711488) for an up-to-date approach to list resources (or perform filesystem queries in general). It works at least with the default filesystem, as well as jar files and module images. Other deployed forms may work as well if their author cared enough to add a filesystem implementation.","body":"Look at <a href=\"https://stackoverflow.com/a/36021165/2711488\">this answer</a> for an up-to-date approach to list resources (or perform filesystem queries in general). It works at least with the default filesystem, as well as jar files and module images. Other deployed forms may work as well if their author cared enough to add a filesystem implementation."}],"answers":[{"tags":[],"owner":{"account_id":5347179,"reputation":10433,"user_id":4262407,"accept_rate":40,"display_name":"mipa"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1644051004,"creation_date":1644051004,"answer_id":70996497,"question_id":70995461,"body_markdown":"There is no easy and reliable way to do that. Therefore I create and put an inventory file into my resources folder. So at runtime I can read that in and then have all the file names awailable that I need.\r\n\r\nHere is a little test that shows how I create that file:\r\n\r\n    public class ListAppDefaultsInventory {\r\n    \r\n        @Test\r\n        public void test() throws IOException {\r\n            List&lt;String&gt; inventory = listFilteredFiles(&quot;src/main/resources/app-defaults&quot;, Integer.MAX_VALUE);\r\n            assertFalse(&quot;Directory &#39;app-defaults&#39; is empty.&quot;, inventory.isEmpty());\r\n            System.out.println(&quot;# src/main/resources/app-defaults-inventory.txt&quot;);\r\n            inventory.forEach(s -&gt; System.out.println(s));\r\n        }\r\n        \r\n        public List&lt;String&gt; listFilteredFiles(String dir, int depth) throws IOException {\r\n            try (Stream&lt;Path&gt; stream = Files.walk(Paths.get(dir), depth)) {\r\n                return stream\r\n                    .filter(file -&gt; !Files.isDirectory(file))\r\n                    .filter(file -&gt; !file.getFileName().toString().startsWith(&quot;.&quot;))\r\n                    .map(Path::toString)\r\n                    .map(s -&gt; s.replaceFirst(&quot;src/main/resources/app-defaults/&quot;, &quot;&quot;))\r\n                    .collect(Collectors.toList());\r\n            }\r\n        }\r\n        \r\n    }\r\n","title":"Get a List of Files from a Classpath Resource Folder?","body":"<p>There is no easy and reliable way to do that. Therefore I create and put an inventory file into my resources folder. So at runtime I can read that in and then have all the file names awailable that I need.</p>\n<p>Here is a little test that shows how I create that file:</p>\n<pre><code>public class ListAppDefaultsInventory {\n\n    @Test\n    public void test() throws IOException {\n        List&lt;String&gt; inventory = listFilteredFiles(&quot;src/main/resources/app-defaults&quot;, Integer.MAX_VALUE);\n        assertFalse(&quot;Directory 'app-defaults' is empty.&quot;, inventory.isEmpty());\n        System.out.println(&quot;# src/main/resources/app-defaults-inventory.txt&quot;);\n        inventory.forEach(s -&gt; System.out.println(s));\n    }\n    \n    public List&lt;String&gt; listFilteredFiles(String dir, int depth) throws IOException {\n        try (Stream&lt;Path&gt; stream = Files.walk(Paths.get(dir), depth)) {\n            return stream\n                .filter(file -&gt; !Files.isDirectory(file))\n                .filter(file -&gt; !file.getFileName().toString().startsWith(&quot;.&quot;))\n                .map(Path::toString)\n                .map(s -&gt; s.replaceFirst(&quot;src/main/resources/app-defaults/&quot;, &quot;&quot;))\n                .collect(Collectors.toList());\n        }\n    }\n    \n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":381969,"reputation":616,"user_id":736922,"accept_rate":90,"display_name":"Lutosław"},"score":0,"creation_date":1681989004,"post_id":70996955,"comment_id":134146781,"body_markdown":"I tried to use this code with &quot;classpath*&quot; prefix because my service couldn&#39;t find a file with Spring&#39;s ResourceLoader which was in resources when deployed on AWS (works locally), but all I got a list of dependencies\njar:file:/app.jar!/\njar:file:/app.jar!/BOOT-INF/classes!/\njar:file:/app.jar!/BOOT-INF/lib/spring-boot-2.7.3.jar!/\njar:file:/app.jar!/BOOT-INF/lib/spring-context-5.3.22.jar!/\njar:file:/app.jar!/BOOT-INF/lib/spring-boot-autoconfigure-2.7.3.jar!/\n(etc...)\nWhat could it mean?","body":"I tried to use this code with &quot;classpath*&quot; prefix because my service couldn&#39;t find a file with Spring&#39;s ResourceLoader which was in resources when deployed on AWS (works locally), but all I got a list of dependencies jar:file:/app.jar!/ jar:file:/app.jar!/BOOT-INF/classes!/ jar:file:/app.jar!/BOOT-INF/lib/spring-boot-2.7.3.jar!/ jar:file:/app.jar!/BOOT-INF/lib/spring-context-5.3.22.jar!/ jar:file:/app.jar!/BOOT-INF/lib/spring-boot-autoconfigure-2.&zwnj;&#8203;7.3.jar!/ (etc...) What could it mean?"},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1681995355,"post_id":70996955,"comment_id":134148307,"body_markdown":"@Lutosław ask a new question, you can refer to this one.  In the new question, try to include enough information and explanation so that somebody can understand and replicate your issue (which I can&#39;t from your comment).  As an alternative, you can always use [mipa&#39;s answer](https://stackoverflow.com/a/70996497/1155209).","body":"@Lutosław ask a new question, you can refer to this one.  In the new question, try to include enough information and explanation so that somebody can understand and replicate your issue (which I can&#39;t from your comment).  As an alternative, you can always use <a href=\"https://stackoverflow.com/a/70996497/1155209\">mipa&#39;s answer</a>."}],"tags":[],"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"comment_count":2,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1644056547,"creation_date":1644055493,"answer_id":70996955,"question_id":70995461,"body_markdown":"**Issues with your approach**\r\n\r\n*You don&#39;t have a well-formed url*\r\n\r\n[new Image(String url)](https://openjfx.io/javadoc/17/javafx.graphics/javafx/scene/image/Image.html#%3Cinit%3E(java.lang.String)) takes a url as a parameter.\r\n\r\nA space is not a valid character for a URL:\r\n\r\n * https://stackoverflow.com/questions/1547899/which-characters-make-a-url-invalid\r\n\r\nwhich is why your `x` string is not a valid URL and cannot be used to construct an image.\r\n\r\n*You need to provide an input recognized by the Image constructor*\r\n\r\nNote, that it is slightly more complex because, from the [Image javadoc][1], the url parameter can be somethings other than a straight url, but even still, none of them match what you are trying to lookup.\r\n\r\n&gt; If a URL string is passed to a constructor, it be any of the\r\n&gt; following:\r\n&gt; \r\n&gt;  1. the name of a resource that can be resolved by the context ClassLoader\r\n&gt;     for this thread \r\n&gt;  2. a file path that can be resolved by File \r\n&gt;  3. a URL that\r\n&gt;     can be resolved by URL and for which a protocol handler exists \r\n&gt; \r\n&gt; The RFC\r\n&gt; 2397 &quot;data&quot; scheme for URLs is supported in addition to the protocol\r\n&gt; handlers that are registered for the application. If a URL uses the\r\n&gt; &quot;data&quot; scheme, the data must be base64-encoded and the MIME type must\r\n&gt; either be empty or a subtype of the image type.\r\n\r\n*You are assuming the resources are in a file system, but that won&#39;t always work*\r\n\r\nIf you pack your resources into a jar, then this will not work:\r\n\r\n    Arrays.asList(\r\n        new File(\r\n            Thread.currentThread()\r\n                .getContextClassLoader()\r\n                .getResource(packageName)\r\n                .toURI()\r\n        ).listFiles()\r\n    );\r\n\r\nThis doesn&#39;t work because files in the jar are located using the `jar:` protocol rather than the `file:` protocol.  So, you will be unable to create File objects from the `jar:` protocol URIs that will be returned by getResource.\r\n\r\n**Recommended Approach: Use Spring**\r\n\r\nGetting a list of resources from a jar is actually a pretty tricky thing.  From the question you linked, the easiest solution is the one which uses \r\n\r\n * [Spring&#39;s PathMatchingResourcePatternResolver][2] \r\n\r\nUnfortunately, that means requiring a dependency on the Spring framework to use it, which is total overkill for this task . . . however I don&#39;t know of any other simple robust solution.  But at least you can just call the Spring utility class, you don&#39;t need to start up a whole spring dependency injection container to use it, so you don&#39;t really need to know any Spring at all or suffer any Spring overhead to do it this way.\r\n\r\nSo, you could write something like this (ResourceLister is a class I created, as well as the toURL method, see the example app):\r\n\r\n    public List&lt;String&gt; getResourceUrls(String locationPattern) throws IOException {\r\n        ClassLoader classLoader = ResourceLister.class.getClassLoader();\r\n        PathMatchingResourcePatternResolver resolver = new PathMatchingResourcePatternResolver(classLoader);\r\n\r\n        Resource[] resources = resolver.getResources(locationPattern);\r\n\r\n        return Arrays.stream(resources)\r\n                .map(this::toURL)\r\n                .filter(Objects::nonNull)\r\n                .collect(Collectors.toList());\r\n    }\r\n\r\n**Executable Example**\r\n\r\n*ResourceLister.java*\r\n\r\n    import org.springframework.core.io.Resource;\r\n    import org.springframework.core.io.support.PathMatchingResourcePatternResolver;\r\n    \r\n    import java.io.IOException;\r\n    import java.util.*;\r\n    import java.util.stream.Collectors;\r\n    \r\n    public class ResourceLister {\r\n        // currently, only gets pngs, if needed, can add\r\n        // other patterns and union the results to get \r\n        // multiple image types. \r\n        private static final String IMAGE_PATTERN =\r\n                &quot;classpath:/img/*.png&quot;;\r\n    \r\n        public List&lt;String&gt; getImageUrls() throws IOException {\r\n            return getResourceUrls(IMAGE_PATTERN);\r\n        }\r\n    \r\n        public List&lt;String&gt; getResourceUrls(String locationPattern) throws IOException {\r\n            ClassLoader classLoader = ResourceLister.class.getClassLoader();\r\n            PathMatchingResourcePatternResolver resolver = new PathMatchingResourcePatternResolver(classLoader);\r\n    \r\n            Resource[] resources = resolver.getResources(locationPattern);\r\n    \r\n            return Arrays.stream(resources)\r\n                    .map(this::toURL)\r\n                    .filter(Objects::nonNull)\r\n                    .collect(Collectors.toList());\r\n        }\r\n    \r\n        private String toURL(Resource r) {\r\n            try {\r\n                if (r == null) {\r\n                    return null;\r\n                }\r\n    \r\n                return r.getURL().toExternalForm();\r\n            } catch (IOException e) {\r\n                return null;\r\n            }\r\n        }\r\n    \r\n        public static void main(String[] args) throws IOException {\r\n            ResourceLister lister = new ResourceLister();\r\n            System.out.println(lister.getImageUrls());\r\n        }\r\n    }\r\n\r\n*AnimalApp.java*\r\n\r\n    import javafx.application.Application;\r\n    import javafx.geometry.*;\r\n    import javafx.scene.Scene;\r\n    import javafx.scene.control.Button;\r\n    import javafx.scene.image.*;\r\n    import javafx.scene.layout.VBox;\r\n    import javafx.stage.Stage;\r\n    \r\n    import java.io.IOException;\r\n    import java.util.*;\r\n    import java.util.stream.Collectors;\r\n    \r\n    public class AnimalApp extends Application {\r\n        private static final double ANIMAL_SIZE = 512;\r\n    \r\n        // remove the magic seed if you want a different random sequence all the time.\r\n        private final Random random = new Random(42);\r\n    \r\n        private final ResourceLister resourceLister = new ResourceLister();\r\n    \r\n        private List&lt;Image&gt; images;\r\n    \r\n        @Override\r\n        public void init() {\r\n            List&lt;String&gt; imageUrls = findImageUrls();\r\n            images = imageUrls.stream()\r\n                    .map(Image::new)\r\n                    .collect(Collectors.toList());\r\n        }\r\n    \r\n        @Override\r\n        public void start(Stage stage) {\r\n            ImageView animalView = new ImageView();\r\n            animalView.setFitWidth(ANIMAL_SIZE);\r\n            animalView.setFitHeight(ANIMAL_SIZE);\r\n            animalView.setPreserveRatio(true);\r\n    \r\n            Button findAnimalButton = new Button(&quot;Find animal&quot;);\r\n            findAnimalButton.setOnAction(e -&gt;\r\n                    animalView.setImage(randomImage())\r\n            );\r\n    \r\n            VBox layout = new VBox(10,\r\n                    findAnimalButton,\r\n                    animalView\r\n            );\r\n            layout.setPadding(new Insets(10));\r\n            layout.setAlignment(Pos.CENTER);\r\n    \r\n            stage.setScene(new Scene(layout));\r\n            stage.show();\r\n        }\r\n    \r\n        private List&lt;String&gt; findImageUrls() {\r\n            try {\r\n                return resourceLister.getImageUrls();\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n    \r\n            return new ArrayList&lt;&gt;();\r\n        }\r\n    \r\n        /**\r\n         * Chooses a random image.\r\n         *\r\n         * Allows the next random image chosen to be the same as the previous image.\r\n         *\r\n         * @return a random image or null if no images were found.\r\n         */\r\n        private Image randomImage() {\r\n            if (images == null || images.isEmpty()) {\r\n                return null;\r\n            }\r\n    \r\n            return images.get(random.nextInt(images.size()));\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            launch(args);\r\n        }\r\n    }\r\n\r\n*pom.xml*\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n        &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n        &lt;artifactId&gt;resource-lister&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n        &lt;name&gt;resource-lister&lt;/name&gt;\r\n    \r\n        &lt;properties&gt;\r\n            &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n            &lt;junit.version&gt;5.7.1&lt;/junit.version&gt;\r\n        &lt;/properties&gt;\r\n    \r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n                &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\r\n                &lt;version&gt;17.0.2&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-core&lt;/artifactId&gt;\r\n                &lt;version&gt;LATEST&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    \r\n        &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.8.1&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;source&gt;17&lt;/source&gt;\r\n                        &lt;target&gt;17&lt;/target&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n    &lt;/project&gt;\r\n\r\n*images*\r\n\r\nPlace in src/main/resources/img.\r\n\r\n * chicken.png\r\n * cow.png\r\n * pig.png\r\n * sheep.png\r\n\r\n[![chicken][3]][3]\r\n[![cow][4]][4]\r\n[![pig][5]][5]\r\n[![sheep][6]][6]\r\n\r\n*execution command*\r\n\r\nSet the VM arguments for your JavaFX SDK installation:\r\n\r\n    -p C:\\dev\\javafx-sdk-17.0.2\\lib --add-modules javafx.controls\r\n\r\n  [1]: https://openjfx.io/javadoc/17/javafx.graphics/javafx/scene/image/Image.html\r\n  [2]: https://stackoverflow.com/a/48129086/1155209\r\n  [3]: https://i.stack.imgur.com/FkPkT.png\r\n  [4]: https://i.stack.imgur.com/qWayW.png\r\n  [5]: https://i.stack.imgur.com/Q6cak.png\r\n  [6]: https://i.stack.imgur.com/SQDi4.png","title":"Get a List of Files from a Classpath Resource Folder?","body":"<p><strong>Issues with your approach</strong></p>\n<p><em>You don't have a well-formed url</em></p>\n<p><a href=\"https://openjfx.io/javadoc/17/javafx.graphics/javafx/scene/image/Image.html#%3Cinit%3E(java.lang.String)\" rel=\"noreferrer\">new Image(String url)</a> takes a url as a parameter.</p>\n<p>A space is not a valid character for a URL:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/1547899/which-characters-make-a-url-invalid\">Which characters make a URL invalid?</a></li>\n</ul>\n<p>which is why your <code>x</code> string is not a valid URL and cannot be used to construct an image.</p>\n<p><em>You need to provide an input recognized by the Image constructor</em></p>\n<p>Note, that it is slightly more complex because, from the <a href=\"https://openjfx.io/javadoc/17/javafx.graphics/javafx/scene/image/Image.html\" rel=\"noreferrer\">Image javadoc</a>, the url parameter can be somethings other than a straight url, but even still, none of them match what you are trying to lookup.</p>\n<blockquote>\n<p>If a URL string is passed to a constructor, it be any of the\nfollowing:</p>\n<ol>\n<li>the name of a resource that can be resolved by the context ClassLoader\nfor this thread</li>\n<li>a file path that can be resolved by File</li>\n<li>a URL that\ncan be resolved by URL and for which a protocol handler exists</li>\n</ol>\n<p>The RFC\n2397 &quot;data&quot; scheme for URLs is supported in addition to the protocol\nhandlers that are registered for the application. If a URL uses the\n&quot;data&quot; scheme, the data must be base64-encoded and the MIME type must\neither be empty or a subtype of the image type.</p>\n</blockquote>\n<p><em>You are assuming the resources are in a file system, but that won't always work</em></p>\n<p>If you pack your resources into a jar, then this will not work:</p>\n<pre><code>Arrays.asList(\n    new File(\n        Thread.currentThread()\n            .getContextClassLoader()\n            .getResource(packageName)\n            .toURI()\n    ).listFiles()\n);\n</code></pre>\n<p>This doesn't work because files in the jar are located using the <code>jar:</code> protocol rather than the <code>file:</code> protocol.  So, you will be unable to create File objects from the <code>jar:</code> protocol URIs that will be returned by getResource.</p>\n<p><strong>Recommended Approach: Use Spring</strong></p>\n<p>Getting a list of resources from a jar is actually a pretty tricky thing.  From the question you linked, the easiest solution is the one which uses</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/a/48129086/1155209\">Spring's PathMatchingResourcePatternResolver</a></li>\n</ul>\n<p>Unfortunately, that means requiring a dependency on the Spring framework to use it, which is total overkill for this task . . . however I don't know of any other simple robust solution.  But at least you can just call the Spring utility class, you don't need to start up a whole spring dependency injection container to use it, so you don't really need to know any Spring at all or suffer any Spring overhead to do it this way.</p>\n<p>So, you could write something like this (ResourceLister is a class I created, as well as the toURL method, see the example app):</p>\n<pre><code>public List&lt;String&gt; getResourceUrls(String locationPattern) throws IOException {\n    ClassLoader classLoader = ResourceLister.class.getClassLoader();\n    PathMatchingResourcePatternResolver resolver = new PathMatchingResourcePatternResolver(classLoader);\n\n    Resource[] resources = resolver.getResources(locationPattern);\n\n    return Arrays.stream(resources)\n            .map(this::toURL)\n            .filter(Objects::nonNull)\n            .collect(Collectors.toList());\n}\n</code></pre>\n<p><strong>Executable Example</strong></p>\n<p><em>ResourceLister.java</em></p>\n<pre><code>import org.springframework.core.io.Resource;\nimport org.springframework.core.io.support.PathMatchingResourcePatternResolver;\n\nimport java.io.IOException;\nimport java.util.*;\nimport java.util.stream.Collectors;\n\npublic class ResourceLister {\n    // currently, only gets pngs, if needed, can add\n    // other patterns and union the results to get \n    // multiple image types. \n    private static final String IMAGE_PATTERN =\n            &quot;classpath:/img/*.png&quot;;\n\n    public List&lt;String&gt; getImageUrls() throws IOException {\n        return getResourceUrls(IMAGE_PATTERN);\n    }\n\n    public List&lt;String&gt; getResourceUrls(String locationPattern) throws IOException {\n        ClassLoader classLoader = ResourceLister.class.getClassLoader();\n        PathMatchingResourcePatternResolver resolver = new PathMatchingResourcePatternResolver(classLoader);\n\n        Resource[] resources = resolver.getResources(locationPattern);\n\n        return Arrays.stream(resources)\n                .map(this::toURL)\n                .filter(Objects::nonNull)\n                .collect(Collectors.toList());\n    }\n\n    private String toURL(Resource r) {\n        try {\n            if (r == null) {\n                return null;\n            }\n\n            return r.getURL().toExternalForm();\n        } catch (IOException e) {\n            return null;\n        }\n    }\n\n    public static void main(String[] args) throws IOException {\n        ResourceLister lister = new ResourceLister();\n        System.out.println(lister.getImageUrls());\n    }\n}\n</code></pre>\n<p><em>AnimalApp.java</em></p>\n<pre><code>import javafx.application.Application;\nimport javafx.geometry.*;\nimport javafx.scene.Scene;\nimport javafx.scene.control.Button;\nimport javafx.scene.image.*;\nimport javafx.scene.layout.VBox;\nimport javafx.stage.Stage;\n\nimport java.io.IOException;\nimport java.util.*;\nimport java.util.stream.Collectors;\n\npublic class AnimalApp extends Application {\n    private static final double ANIMAL_SIZE = 512;\n\n    // remove the magic seed if you want a different random sequence all the time.\n    private final Random random = new Random(42);\n\n    private final ResourceLister resourceLister = new ResourceLister();\n\n    private List&lt;Image&gt; images;\n\n    @Override\n    public void init() {\n        List&lt;String&gt; imageUrls = findImageUrls();\n        images = imageUrls.stream()\n                .map(Image::new)\n                .collect(Collectors.toList());\n    }\n\n    @Override\n    public void start(Stage stage) {\n        ImageView animalView = new ImageView();\n        animalView.setFitWidth(ANIMAL_SIZE);\n        animalView.setFitHeight(ANIMAL_SIZE);\n        animalView.setPreserveRatio(true);\n\n        Button findAnimalButton = new Button(&quot;Find animal&quot;);\n        findAnimalButton.setOnAction(e -&gt;\n                animalView.setImage(randomImage())\n        );\n\n        VBox layout = new VBox(10,\n                findAnimalButton,\n                animalView\n        );\n        layout.setPadding(new Insets(10));\n        layout.setAlignment(Pos.CENTER);\n\n        stage.setScene(new Scene(layout));\n        stage.show();\n    }\n\n    private List&lt;String&gt; findImageUrls() {\n        try {\n            return resourceLister.getImageUrls();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n\n        return new ArrayList&lt;&gt;();\n    }\n\n    /**\n     * Chooses a random image.\n     *\n     * Allows the next random image chosen to be the same as the previous image.\n     *\n     * @return a random image or null if no images were found.\n     */\n    private Image randomImage() {\n        if (images == null || images.isEmpty()) {\n            return null;\n        }\n\n        return images.get(random.nextInt(images.size()));\n    }\n\n    public static void main(String[] args) {\n        launch(args);\n    }\n}\n</code></pre>\n<p><em>pom.xml</em></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;resource-lister&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;resource-lister&lt;/name&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;junit.version&gt;5.7.1&lt;/junit.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n            &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\n            &lt;version&gt;17.0.2&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-core&lt;/artifactId&gt;\n            &lt;version&gt;LATEST&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.8.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;17&lt;/source&gt;\n                    &lt;target&gt;17&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p><em>images</em></p>\n<p>Place in src/main/resources/img.</p>\n<ul>\n<li>chicken.png</li>\n<li>cow.png</li>\n<li>pig.png</li>\n<li>sheep.png</li>\n</ul>\n<p><a href=\"https://i.stack.imgur.com/FkPkT.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/FkPkT.png\" alt=\"chicken\" /></a>\n<a href=\"https://i.stack.imgur.com/qWayW.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/qWayW.png\" alt=\"cow\" /></a>\n<a href=\"https://i.stack.imgur.com/Q6cak.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/Q6cak.png\" alt=\"pig\" /></a>\n<a href=\"https://i.stack.imgur.com/SQDi4.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/SQDi4.png\" alt=\"sheep\" /></a></p>\n<p><em>execution command</em></p>\n<p>Set the VM arguments for your JavaFX SDK installation:</p>\n<pre><code>-p C:\\dev\\javafx-sdk-17.0.2\\lib --add-modules javafx.controls\n</code></pre>\n"}],"owner":{"account_id":2348787,"reputation":10425,"user_id":2058221,"accept_rate":92,"display_name":"Sarah Szabo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5068,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"closed_date":1685151790,"answer_count":2,"score":3,"last_activity_date":1685112696,"creation_date":1644037921,"question_id":70995461,"body_markdown":"I&#39;m trying to set an JFX ImageView image from a resource folder, but can&#39;t seem to get an appropriate URL/String filepath that won&#39;t throw an exception.\r\n\r\n    var x = getRandomImageFromPackage(&quot;pictures&quot;).toString();\r\n    var y = getClass().getClassLoader().getResource(&quot;pictures/mindwave/active/Super Saiyan.gif&quot;).toString();\r\n    this.iconImageView.setImage(new Image(x));\r\n\r\n`x` returns\r\n\r\n    /home/sarah/Desktop/Dropbox/School/Current/MAX MSP Utilities/MindWaveMobileDataServer/target/classes/pictures/0515e3b7cb30ac92ebfe729440870a5c.jpg\r\n\r\nwhereas `y` returns something that looks like:\r\n\r\n```\r\nfile:/home/sarah/Desktop/Dropbox/School/Current/MAX%20MSP%20Utilities/MindWaveMobileDataServer/target/classes/pictures/mindwave/active/Super%20Saiyan.gif\r\n```\r\n\r\nIn theory either of these would be acceptable, however, only x will throw an exception if it is placed in the below `setImage(String)` line.\r\n\r\nIs there any way to get a list of images in the package so that I can select a random one and set the ImageView?\r\n\r\nI know that there was a custom scanner option, but it appears rather dated (being over 11 years old and wasn&#39;t really supported at the time): \r\n\r\n  * https://stackoverflow.com/questions/3923129/get-a-list-of-resources-from-classpath-directory\r\n\r\nRoutine:\r\n\r\n    /**\r\n     * Gets a picture from the classpath pictures folder.\r\n     *\r\n     * @param packageName The string path (in package format) to the classpath\r\n     * folder\r\n     * @return The random picture\r\n     */\r\n    private Path getRandomImageFromPackage(String packageName) {\r\n        try {\r\n            var list = Arrays.asList(new File(Thread.currentThread().getContextClassLoader().getResource(packageName)\r\n                    .toURI()).listFiles());\r\n            var x = list.get(new Random().nextInt(list.size())).toString();\r\n            return list.get(new Random().nextInt(list.size())).toPath();\r\n\r\n        } catch (URISyntaxException ex) {\r\n            throw new IllegalStateException(&quot;Encountered an error while trying to get a picture from the classpath&quot;\r\n                    + &quot;filesystem&quot;, ex);\r\n        }\r\n    }\r\n\r\nFor reference, this is the resource folder:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n  [1]: https://i.stack.imgur.com/9vJ0P.png\r\n","title":"Get a List of Files from a Classpath Resource Folder?","body":"<p>I'm trying to set an JFX ImageView image from a resource folder, but can't seem to get an appropriate URL/String filepath that won't throw an exception.</p>\n<pre><code>var x = getRandomImageFromPackage(&quot;pictures&quot;).toString();\nvar y = getClass().getClassLoader().getResource(&quot;pictures/mindwave/active/Super Saiyan.gif&quot;).toString();\nthis.iconImageView.setImage(new Image(x));\n</code></pre>\n<p><code>x</code> returns</p>\n<pre><code>/home/sarah/Desktop/Dropbox/School/Current/MAX MSP Utilities/MindWaveMobileDataServer/target/classes/pictures/0515e3b7cb30ac92ebfe729440870a5c.jpg\n</code></pre>\n<p>whereas <code>y</code> returns something that looks like:</p>\n<pre><code>file:/home/sarah/Desktop/Dropbox/School/Current/MAX%20MSP%20Utilities/MindWaveMobileDataServer/target/classes/pictures/mindwave/active/Super%20Saiyan.gif\n</code></pre>\n<p>In theory either of these would be acceptable, however, only x will throw an exception if it is placed in the below <code>setImage(String)</code> line.</p>\n<p>Is there any way to get a list of images in the package so that I can select a random one and set the ImageView?</p>\n<p>I know that there was a custom scanner option, but it appears rather dated (being over 11 years old and wasn't really supported at the time):</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/3923129/get-a-list-of-resources-from-classpath-directory\">Get a list of resources from classpath directory</a></li>\n</ul>\n<p>Routine:</p>\n<pre><code>/**\n * Gets a picture from the classpath pictures folder.\n *\n * @param packageName The string path (in package format) to the classpath\n * folder\n * @return The random picture\n */\nprivate Path getRandomImageFromPackage(String packageName) {\n    try {\n        var list = Arrays.asList(new File(Thread.currentThread().getContextClassLoader().getResource(packageName)\n                .toURI()).listFiles());\n        var x = list.get(new Random().nextInt(list.size())).toString();\n        return list.get(new Random().nextInt(list.size())).toPath();\n\n    } catch (URISyntaxException ex) {\n        throw new IllegalStateException(&quot;Encountered an error while trying to get a picture from the classpath&quot;\n                + &quot;filesystem&quot;, ex);\n    }\n}\n</code></pre>\n<p>For reference, this is the resource folder:</p>\n<p><a href=\"https://i.stack.imgur.com/9vJ0P.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9vJ0P.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","algorithm","kotlin","encoding","jvm"],"comments":[{"owner":{"account_id":14462301,"reputation":673,"user_id":10446802,"display_name":"Fermi-4"},"score":2,"creation_date":1685114601,"post_id":76341869,"comment_id":134621079,"body_markdown":"How are you running your program and how is it organized? Looks like something is missing on your classpath","body":"How are you running your program and how is it organized? Looks like something is missing on your classpath"},{"owner":{"account_id":24244469,"reputation":139,"user_id":18196409,"display_name":"EpicAdidash"},"score":0,"creation_date":1685120436,"post_id":76341869,"comment_id":134622137,"body_markdown":"I am running program using kotlinc and java","body":"I am running program using kotlinc and java"},{"owner":{"account_id":13722742,"reputation":16988,"user_id":10134209,"display_name":"gidds"},"score":0,"creation_date":1685140303,"post_id":76341869,"comment_id":134624990,"body_markdown":"You either need to run it with `kotlin`, or you need to add the Kotlin runtime jars to your classpath when running with `java`.","body":"You either need to run it with <code>kotlin</code>, or you need to add the Kotlin runtime jars to your classpath when running with <code>java</code>."}],"owner":{"account_id":24244469,"reputation":139,"user_id":18196409,"display_name":"EpicAdidash"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":92,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685112646,"creation_date":1685112175,"question_id":76341869,"body_markdown":"Whenever I try to run the following code in fishy.kt (Kotlin):\r\n\r\n```\r\nval paddingChar = &#39;=&#39;\r\nval lookupTable = &quot;ABCDEFGHIJKLMNOPQRSTUVWXYZ234567&quot;\r\nfun base32Decode(encodedString: String): ByteArray {\r\n    // Remove whitespace and padding characters\r\n    val encodedStringCleaned = encodedString.replace(&quot; &quot;, &quot;&quot;).replace(paddingChar.toString(), &quot;&quot;)\r\n    // Prepare a map for reverse lookup\r\n    val reverseLookupTable = lookupTable.withIndex().associateBy({ it.value }, { it.index })\r\n    // Convert Base32 string to binary\r\n    val binaryString = encodedStringCleaned.flatMap { reverseLookupTable[it]?.toString(2)?.padStart(5, &#39;0&#39;) ?: error(&quot;Invalid Base32 character&quot;) }\r\n        .joinToString(&quot;&quot;)\r\n    // Add trailing zeros if necessary\r\n    val remainder = binaryString.length % 8\r\n    val paddedBinaryString = if (remainder != 0) binaryString.padEnd(binaryString.length + 8 - remainder, &#39;0&#39;) else binaryString\r\n    // Convert binary to bytes\r\n    val bytes = paddedBinaryString.chunked(8)\r\n        .map { it.toInt(2).toByte() }\r\n        .toByteArray()\r\n    return bytes\r\n}\r\n// Example usage\r\nval encodedString = &quot;MZXW6===&quot;\r\nval decodedData = base32Decode(encodedString)\r\nprintln(decodedData.contentToString())\r\n\r\n```\r\n\r\nI get the following error:\r\n\r\n```\r\n Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: kotlin/jvm/internal/Intrinsics\r\n        at FishKtyour text.base32Decode(fish.kt)\r\n        at FishKt.main(fish.kt:3)\r\n        at FishKt.main(fish.kt)\r\n```\r\n\r\nAny solutions for this?\r\n\r\nI am trying to decode a base32 string in Kotlin, but as there is no inbuilt base32 decoder, I tried to write my own but still got this error.","title":"How to solve this jvm runtime exception?","body":"<p>Whenever I try to run the following code in fishy.kt (Kotlin):</p>\n<pre><code>val paddingChar = '='\nval lookupTable = &quot;ABCDEFGHIJKLMNOPQRSTUVWXYZ234567&quot;\nfun base32Decode(encodedString: String): ByteArray {\n    // Remove whitespace and padding characters\n    val encodedStringCleaned = encodedString.replace(&quot; &quot;, &quot;&quot;).replace(paddingChar.toString(), &quot;&quot;)\n    // Prepare a map for reverse lookup\n    val reverseLookupTable = lookupTable.withIndex().associateBy({ it.value }, { it.index })\n    // Convert Base32 string to binary\n    val binaryString = encodedStringCleaned.flatMap { reverseLookupTable[it]?.toString(2)?.padStart(5, '0') ?: error(&quot;Invalid Base32 character&quot;) }\n        .joinToString(&quot;&quot;)\n    // Add trailing zeros if necessary\n    val remainder = binaryString.length % 8\n    val paddedBinaryString = if (remainder != 0) binaryString.padEnd(binaryString.length + 8 - remainder, '0') else binaryString\n    // Convert binary to bytes\n    val bytes = paddedBinaryString.chunked(8)\n        .map { it.toInt(2).toByte() }\n        .toByteArray()\n    return bytes\n}\n// Example usage\nval encodedString = &quot;MZXW6===&quot;\nval decodedData = base32Decode(encodedString)\nprintln(decodedData.contentToString())\n\n</code></pre>\n<p>I get the following error:</p>\n<pre><code> Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: kotlin/jvm/internal/Intrinsics\n        at FishKtyour text.base32Decode(fish.kt)\n        at FishKt.main(fish.kt:3)\n        at FishKt.main(fish.kt)\n</code></pre>\n<p>Any solutions for this?</p>\n<p>I am trying to decode a base32 string in Kotlin, but as there is no inbuilt base32 decoder, I tried to write my own but still got this error.</p>\n"},{"tags":["java","github","github-actions","openjdk-17"],"answers":[{"comments":[{"owner":{"account_id":17846180,"reputation":705,"user_id":12962949,"display_name":"Masi Boo"},"score":0,"creation_date":1651229305,"post_id":72055098,"comment_id":127319828,"body_markdown":"shouldn&#39;t it be 17 for JDK 17 &lt;configuration&gt;\n                    &lt;source&gt;1.7&lt;/source&gt;\n                    &lt;target&gt;1.7&lt;/target&gt;\n                &lt;/configuration&gt;","body":"shouldn&#39;t it be 17 for JDK 17 &lt;configuration&gt;                     &lt;source&gt;1.7&lt;/source&gt;                     &lt;target&gt;1.7&lt;/target&gt;                 &lt;/configuration&gt;"},{"owner":{"account_id":171499,"reputation":11291,"user_id":398963,"accept_rate":60,"display_name":"Konrad H&#246;ffner"},"score":0,"creation_date":1651229623,"post_id":72055098,"comment_id":127319926,"body_markdown":"@MasiBoo: You are right, I used the old example from &lt;https://maven.apache.org/plugins/maven-compiler-plugin/examples/set-compiler-source-and-target.html&gt; where 1.7 stands for Java 7 and have fixed the answer using  the newer release option from &lt;https://maven.apache.org/plugins/maven-compiler-plugin/examples/set-compiler-release.html&gt;.","body":"@MasiBoo: You are right, I used the old example from &lt;<a href=\"https://maven.apache.org/plugins/maven-compiler-plugin/examples/set-compiler-source-and-target.html\" rel=\"nofollow noreferrer\">maven.apache.org/plugins/maven-compiler-plugin/examples/&hellip;</a>&gt; where 1.7 stands for Java 7 and have fixed the answer using  the newer release option from &lt;<a href=\"https://maven.apache.org/plugins/maven-compiler-plugin/examples/set-compiler-release.html\" rel=\"nofollow noreferrer\">maven.apache.org/plugins/maven-compiler-plugin/examples/&hellip;</a>&gt;."},{"owner":{"account_id":17846180,"reputation":705,"user_id":12962949,"display_name":"Masi Boo"},"score":0,"creation_date":1651230428,"post_id":72055098,"comment_id":127320185,"body_markdown":"After this update, I got new error as:- Error:  Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.8.1:compile (default-compile) on project dcsa_tnt: Fatal error compiling: java.lang.IllegalAccessError: class lombok.javac.apt.LombokProcessor (in unnamed module @0x45c90a05) cannot access class com.sun.tools.javac.processing.JavacProcessingEnvironment (in module jdk.compiler) because module jdk.compiler does not export com.sun.tools.javac.processing to unnamed module @0x45c90a05 -&gt; [Help 1]","body":"After this update, I got new error as:- Error:  Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.8.1:compile (default-compile) on project dcsa_tnt: Fatal error compiling: java.lang.IllegalAccessError: class lombok.javac.apt.LombokProcessor (in unnamed module @0x45c90a05) cannot access class com.sun.tools.javac.processing.JavacProcessingEnvironment (in module jdk.compiler) because module jdk.compiler does not export com.sun.tools.javac.processing to unnamed module @0x45c90a05 -&gt; [Help 1]"},{"owner":{"account_id":171499,"reputation":11291,"user_id":398963,"accept_rate":60,"display_name":"Konrad H&#246;ffner"},"score":0,"creation_date":1651231070,"post_id":72055098,"comment_id":127320384,"body_markdown":"@MasiBoo: You are still using Maven Compiler Plugin 3.8.1, please update to 3.10.1. Also update your project lombok version so that it works with Java 17.","body":"@MasiBoo: You are still using Maven Compiler Plugin 3.8.1, please update to 3.10.1. Also update your project lombok version so that it works with Java 17."},{"owner":{"account_id":17846180,"reputation":705,"user_id":12962949,"display_name":"Masi Boo"},"score":0,"creation_date":1651231441,"post_id":72055098,"comment_id":127320505,"body_markdown":"pls check updatd pom.xml in updated part of the quesiton. I added another extra part for the known lombok error.","body":"pls check updatd pom.xml in updated part of the quesiton. I added another extra part for the known lombok error."},{"owner":{"account_id":171499,"reputation":11291,"user_id":398963,"accept_rate":60,"display_name":"Konrad H&#246;ffner"},"score":0,"creation_date":1651231687,"post_id":72055098,"comment_id":127320585,"body_markdown":"@MasiBoo: `${lombok.version}` you missed the definition of that. You need to go to the place where that is and update it.","body":"@MasiBoo: <code>${lombok.version}</code> you missed the definition of that. You need to go to the place where that is and update it."},{"owner":{"account_id":17846180,"reputation":705,"user_id":12962949,"display_name":"Masi Boo"},"score":0,"creation_date":1651238957,"post_id":72055098,"comment_id":127323277,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/244337/discussion-between-masi-boo-and-konrad-hoffner).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/244337/discussion-between-masi-boo-and-konrad-hoffner\">continue this discussion in chat</a>."},{"owner":{"account_id":171499,"reputation":11291,"user_id":398963,"accept_rate":60,"display_name":"Konrad H&#246;ffner"},"score":0,"creation_date":1651560840,"post_id":72055098,"comment_id":127386605,"body_markdown":"@MasiBoo: I wrote you in chat but prefer it to be here because StackOverflow should offer solutions to other people as well instead of just being tech support for a specific problem, so please amend your post with the necessary information so that others can solve this problem as well.","body":"@MasiBoo: I wrote you in chat but prefer it to be here because StackOverflow should offer solutions to other people as well instead of just being tech support for a specific problem, so please amend your post with the necessary information so that others can solve this problem as well."},{"owner":{"account_id":17846180,"reputation":705,"user_id":12962949,"display_name":"Masi Boo"},"score":1,"creation_date":1651752548,"post_id":72055098,"comment_id":127440512,"body_markdown":"I added full pom.xml. Also, I got to know this:-\n        with:\n          java-version: 17\n          distribution: &#39;temurin&#39;\nCoz distribution: &#39;adopt&#39; is not upgradable anymore. Recommadation is to use &#39;temurin&#39;","body":"I added full pom.xml. Also, I got to know this:-         with:           java-version: 17           distribution: &#39;temurin&#39; Coz distribution: &#39;adopt&#39; is not upgradable anymore. Recommadation is to use &#39;temurin&#39;"},{"owner":{"account_id":171499,"reputation":11291,"user_id":398963,"accept_rate":60,"display_name":"Konrad H&#246;ffner"},"score":0,"creation_date":1651756283,"post_id":72055098,"comment_id":127442021,"body_markdown":"Yes that&#39;s fine, great that you got it to work!","body":"Yes that&#39;s fine, great that you got it to work!"}],"tags":[],"owner":{"account_id":171499,"reputation":11291,"user_id":398963,"accept_rate":60,"display_name":"Konrad H&#246;ffner"},"comment_count":10,"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1651229654,"creation_date":1651221407,"answer_id":72055098,"question_id":72054757,"body_markdown":"You are using Maven compiler plugin version 3.8.1, which was released in May 2019 for Java 17, which was released in September 2021. Make sure that you use the newest Maven Compiler plugin and that you specify the correct Java release in its configuration setting in `pom.xml`.\r\n\r\n\r\n```xml\r\n&lt;project&gt;\r\n  [...]\r\n  &lt;properties&gt;\r\n    &lt;maven.compiler.release&gt;17&lt;/maven.compiler.source&gt;\r\n  &lt;/properties&gt;\r\n  [...]\r\n&lt;/project&gt;\r\n```\r\n\r\nOr like this:\r\n\r\n```xml\r\n&lt;project&gt;\r\n\t[...]\r\n\t&lt;build&gt;\r\n\t\t[...]\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;3.10.1&lt;/version&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;release&gt;17&lt;/source&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t\t[...]\r\n\t&lt;/build&gt;\r\n\t[...]\r\n&lt;/project&gt;\r\n```\r\n\r\nSource: https://maven.apache.org/plugins/maven-compiler-plugin/examples/set-compiler-source-and-target.html\r\n\r\nYou also don&#39;t specify the Java version in your workflow, the [GitHub actions Maven starter workflow][1] specifies it like this:\r\n\r\n```yaml\r\nname: Java CI\r\n\r\non: [push]\r\n\r\njobs:\r\n  build:\r\n    runs-on: ubuntu-latest\r\n\r\n    steps:\r\n      - uses: actions/checkout@v3\r\n      - name: Set up JDK 17\r\n        uses: actions/setup-java@v3\r\n        with:\r\n          java-version: &#39;17&#39;\r\n          distribution: &#39;adopt&#39;\r\n      - name: Build with Maven\r\n        run: mvn --batch-mode --update-snapshots package\r\n```\r\n\r\n  [1]: https://docs.github.com/en/actions/automating-builds-and-tests/building-and-testing-java-with-maven\r\n\r\nOtherwise you are using whatever Java version is the default in the GitHub runner you are using and as you are not pinning down the version but instead use ubuntu:latest, this may not be the one you want and even change over time.","title":"How to write Github workflow for JDK 17","body":"<p>You are using Maven compiler plugin version 3.8.1, which was released in May 2019 for Java 17, which was released in September 2021. Make sure that you use the newest Maven Compiler plugin and that you specify the correct Java release in its configuration setting in <code>pom.xml</code>.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;project&gt;\n  [...]\n  &lt;properties&gt;\n    &lt;maven.compiler.release&gt;17&lt;/maven.compiler.source&gt;\n  &lt;/properties&gt;\n  [...]\n&lt;/project&gt;\n</code></pre>\n<p>Or like this:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;project&gt;\n    [...]\n    &lt;build&gt;\n        [...]\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.10.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;release&gt;17&lt;/source&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n        [...]\n    &lt;/build&gt;\n    [...]\n&lt;/project&gt;\n</code></pre>\n<p>Source: <a href=\"https://maven.apache.org/plugins/maven-compiler-plugin/examples/set-compiler-source-and-target.html\" rel=\"noreferrer\">https://maven.apache.org/plugins/maven-compiler-plugin/examples/set-compiler-source-and-target.html</a></p>\n<p>You also don't specify the Java version in your workflow, the <a href=\"https://docs.github.com/en/actions/automating-builds-and-tests/building-and-testing-java-with-maven\" rel=\"noreferrer\">GitHub actions Maven starter workflow</a> specifies it like this:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>name: Java CI\n\non: [push]\n\njobs:\n  build:\n    runs-on: ubuntu-latest\n\n    steps:\n      - uses: actions/checkout@v3\n      - name: Set up JDK 17\n        uses: actions/setup-java@v3\n        with:\n          java-version: '17'\n          distribution: 'adopt'\n      - name: Build with Maven\n        run: mvn --batch-mode --update-snapshots package\n</code></pre>\n<p>Otherwise you are using whatever Java version is the default in the GitHub runner you are using and as you are not pinning down the version but instead use ubuntu:latest, this may not be the one you want and even change over time.</p>\n"}],"owner":{"account_id":17846180,"reputation":705,"user_id":12962949,"display_name":"Masi Boo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7278,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":72055098,"answer_count":1,"score":6,"last_activity_date":1685112482,"creation_date":1651219812,"question_id":72054757,"body_markdown":"This is the current Github for JDK 11 and works fine. I have migrated my project to JDK 17. It works fine locally but breaks in Github workflows. I don&#39;t know how can I fix it? \r\n\r\n.github\\workflows\\docker-publish.yml:-\r\n\r\n    name: Docker\r\n  \r\n    on:\r\n      push:\r\n        branches: [ master ]\r\n        # Publish semver tags as releases.\r\n        tags: [ &#39;v*.*.*&#39; ]\r\n      pull_request:\r\n        branches: [ master ]\r\n    \r\n    env:\r\n      # Use docker.io for Docker Hub if empty\r\n      REGISTRY: ghcr.io\r\n      # github.repository as &lt;account&gt;/&lt;repo&gt;\r\n      IMAGE_NAME: ${{ github.repository }}\r\n      TAG: &#39;latest&#39;\r\n        \r\n    jobs:\r\n      build:\r\n    \r\n        runs-on: ubuntu-latest\r\n        permissions:\r\n          contents: read\r\n          packages: write\r\n          # This is used to complete the identity challenge\r\n          # with sigstore/fulcio when running outside of PRs.\r\n    \r\n        steps:\r\n          - name: Checkout repository\r\n            uses: actions/checkout@v2\r\n            \r\n          - name: Cache local Maven repository\r\n            uses: actions/cache@v2\r\n            with:\r\n             path: ~/.m2/repository\r\n             key: ${{ runner.os }}-maven-${{ hashFiles(&#39;**/pom.xml&#39;) }}\r\n             restore-keys: |\r\n              ${{ runner.os }}-maven-\r\n              \r\n          - name: maven-settings-xml-action\r\n            uses: whelk-io/maven-settings-xml-action@v12\r\n            with:\r\n              repositories: &#39;[{ &quot;id&quot;: &quot;github&quot;, &quot;name&quot;: &quot;Backend repo&quot;, &quot;url&quot;: &quot;https://maven.pkg.github.com/dcsaorg/Core&quot;, &quot;releases&quot;: { &quot;enabled&quot;: &quot;true&quot; }, &quot;snapshots&quot;: { &quot;enabled&quot;: &quot;true&quot; } }]&#39;\r\n              servers: &#39;[{ &quot;id&quot;: &quot;github&quot;, &quot;username&quot;: &quot;${{ secrets.USER }}&quot;, &quot;password&quot;: &quot;${{ secrets.PACKAGES_PAT }}&quot; }]&#39;\r\n            \r\n          - name: Checkout org/TNT\r\n            uses: actions/checkout@v2\r\n            with:\r\n              repository: org/TNT\r\n              ref: master\r\n              token: ${{ secrets.REPO_ACCESS_PAT }}\r\n              path: TNT\r\n              \r\n          - name: Build TNT\r\n            run: cd TNT &amp;&amp; mvn install -DskipTests -X \r\n            \r\n          - name: build Toolkit\r\n            run:  mvn -B package -DskipTests -X\r\n            \r\n          - name: Extract Build tag\r\n            id: buildtag\r\n            run:  echo &quot;TAG=$(mvn org.apache.maven.plugins:maven-help-plugin:3.2.0:evaluate -Dexpression=project.version -q -DforceStdout)&quot;&gt;&gt; $GITHUB_ENV\r\n    \r\n          # Build and push Docker image\r\n          # https://github.com/marketplace/actions/docker-build-push-action\r\n          - name: Build and push Docker image\r\n            uses: mr-smithers-excellent/docker-build-push@v5\r\n            with:          \r\n              image: consumer\r\n              tags: ${{ env.TAG }}, latest\r\n              registry: ghcr.io            \r\n              githubOrg: org\r\n              username: ${{ github.actor }}\r\n              password: ${{ secrets.USER_PACKAGES_PAT }}\r\n\r\n \r\nDockerfile\r\n\r\n    FROM eclipse-temurin:17-jre-alpine\r\n    RUN mkdir -p /ctk\r\n    COPY target/ctk_consumer-*.jar /ctk/ctk_consumer.jar\r\n    WORKDIR /ctk/\r\n    ENTRYPOINT java -jar ctk_consumer.jar\r\n\r\nError:-\r\n\r\nError:  Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.8.1:compile (default-compile) on project ctk_consumer: Fatal error compiling: error: invalid target release: 17 -&gt; [Help 1]\r\n\r\n**Updated pom.xml after the suggestion:-**\r\n\r\n    &lt;build&gt;\r\n    \t&lt;plugins&gt;\r\n    \t\t&lt;plugin&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t&lt;/plugin&gt;\r\n    \t\t&lt;plugin&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;3.10.1&lt;/version&gt;\r\n    \t\t\t&lt;configuration&gt;\r\n    \t\t\t\t&lt;source&gt;17&lt;/source&gt;\r\n    \t\t\t\t&lt;target&gt;17&lt;/target&gt;\r\n    \t\t\t\t&lt;annotationProcessorPaths&gt;\r\n    \t\t\t\t\t&lt;path&gt;\r\n    \t\t\t\t\t\t&lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\r\n    \t\t\t\t\t\t&lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\r\n    \t\t\t\t\t\t&lt;version&gt;${mapstruct.version}&lt;/version&gt;\r\n    \t\t\t\t\t&lt;/path&gt;\r\n    \t\t\t\t\t&lt;path&gt;\r\n    \t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n    \t\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n    \t\t\t\t\t\t&lt;version&gt;${lombok.version}&lt;/version&gt;\r\n    \t\t\t\t\t&lt;/path&gt;\r\n    \t\t\t\t\t&lt;path&gt;\r\n    \t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n    \t\t\t\t\t\t&lt;artifactId&gt;lombok-mapstruct-binding&lt;/artifactId&gt;\r\n    \t\t\t\t\t\t&lt;version&gt;0.2.0&lt;/version&gt;\r\n    \t\t\t\t\t&lt;/path&gt;\r\n    \t\t\t\t&lt;/annotationProcessorPaths&gt;\r\n    \t\t\t&lt;/configuration&gt;\r\n    \t\t&lt;/plugin&gt;\r\n    \t&lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n**Updated full pom.xml**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.4.2&lt;/version&gt;\r\n    \t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \t&lt;groupId&gt;org.company&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;ctk_consumer&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.2&lt;/version&gt;\r\n    \t&lt;packaging&gt;jar&lt;/packaging&gt;\r\n    \t&lt;name&gt;ctk_consumer&lt;/name&gt;\r\n    \t&lt;description&gt;ctk consumer&lt;/description&gt;\r\n    \t&lt;properties&gt;\r\n    \t\t&lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\r\n    \t\t&lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\r\n    \t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n    \t\t&lt;dcsa.tnt.version&gt;0.0.1&lt;/dcsa.tnt.version&gt;\r\n    \t\t&lt;dcsa.artifacttype&gt;-SNAPSHOT&lt;/dcsa.artifacttype&gt;\r\n    \t\t&lt;lombok.version&gt;1.18.22&lt;/lombok.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;4.0.1&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;5.1.0&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;httpclient&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;4.5.13&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.aventstack&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;extentreports&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;5.0.9&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${lombok.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\n","title":"How to write Github workflow for JDK 17","body":"<p>This is the current Github for JDK 11 and works fine. I have migrated my project to JDK 17. It works fine locally but breaks in Github workflows. I don't know how can I fix it?</p>\n<p>.github\\workflows\\docker-publish.yml:-</p>\n<pre><code>name: Docker\n\non:\n  push:\n    branches: [ master ]\n    # Publish semver tags as releases.\n    tags: [ 'v*.*.*' ]\n  pull_request:\n    branches: [ master ]\n\nenv:\n  # Use docker.io for Docker Hub if empty\n  REGISTRY: ghcr.io\n  # github.repository as &lt;account&gt;/&lt;repo&gt;\n  IMAGE_NAME: ${{ github.repository }}\n  TAG: 'latest'\n    \njobs:\n  build:\n\n    runs-on: ubuntu-latest\n    permissions:\n      contents: read\n      packages: write\n      # This is used to complete the identity challenge\n      # with sigstore/fulcio when running outside of PRs.\n\n    steps:\n      - name: Checkout repository\n        uses: actions/checkout@v2\n        \n      - name: Cache local Maven repository\n        uses: actions/cache@v2\n        with:\n         path: ~/.m2/repository\n         key: ${{ runner.os }}-maven-${{ hashFiles('**/pom.xml') }}\n         restore-keys: |\n          ${{ runner.os }}-maven-\n          \n      - name: maven-settings-xml-action\n        uses: whelk-io/maven-settings-xml-action@v12\n        with:\n          repositories: '[{ &quot;id&quot;: &quot;github&quot;, &quot;name&quot;: &quot;Backend repo&quot;, &quot;url&quot;: &quot;https://maven.pkg.github.com/dcsaorg/Core&quot;, &quot;releases&quot;: { &quot;enabled&quot;: &quot;true&quot; }, &quot;snapshots&quot;: { &quot;enabled&quot;: &quot;true&quot; } }]'\n          servers: '[{ &quot;id&quot;: &quot;github&quot;, &quot;username&quot;: &quot;${{ secrets.USER }}&quot;, &quot;password&quot;: &quot;${{ secrets.PACKAGES_PAT }}&quot; }]'\n        \n      - name: Checkout org/TNT\n        uses: actions/checkout@v2\n        with:\n          repository: org/TNT\n          ref: master\n          token: ${{ secrets.REPO_ACCESS_PAT }}\n          path: TNT\n          \n      - name: Build TNT\n        run: cd TNT &amp;&amp; mvn install -DskipTests -X \n        \n      - name: build Toolkit\n        run:  mvn -B package -DskipTests -X\n        \n      - name: Extract Build tag\n        id: buildtag\n        run:  echo &quot;TAG=$(mvn org.apache.maven.plugins:maven-help-plugin:3.2.0:evaluate -Dexpression=project.version -q -DforceStdout)&quot;&gt;&gt; $GITHUB_ENV\n\n      # Build and push Docker image\n      # https://github.com/marketplace/actions/docker-build-push-action\n      - name: Build and push Docker image\n        uses: mr-smithers-excellent/docker-build-push@v5\n        with:          \n          image: consumer\n          tags: ${{ env.TAG }}, latest\n          registry: ghcr.io            \n          githubOrg: org\n          username: ${{ github.actor }}\n          password: ${{ secrets.USER_PACKAGES_PAT }}\n</code></pre>\n<p>Dockerfile</p>\n<pre><code>FROM eclipse-temurin:17-jre-alpine\nRUN mkdir -p /ctk\nCOPY target/ctk_consumer-*.jar /ctk/ctk_consumer.jar\nWORKDIR /ctk/\nENTRYPOINT java -jar ctk_consumer.jar\n</code></pre>\n<p>Error:-</p>\n<p>Error:  Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.8.1:compile (default-compile) on project ctk_consumer: Fatal error compiling: error: invalid target release: 17 -&gt; [Help 1]</p>\n<p><strong>Updated pom.xml after the suggestion:-</strong></p>\n<pre><code>&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.10.1&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;source&gt;17&lt;/source&gt;\n                &lt;target&gt;17&lt;/target&gt;\n                &lt;annotationProcessorPaths&gt;\n                    &lt;path&gt;\n                        &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n                        &lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\n                        &lt;version&gt;${mapstruct.version}&lt;/version&gt;\n                    &lt;/path&gt;\n                    &lt;path&gt;\n                        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;version&gt;${lombok.version}&lt;/version&gt;\n                    &lt;/path&gt;\n                    &lt;path&gt;\n                        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                        &lt;artifactId&gt;lombok-mapstruct-binding&lt;/artifactId&gt;\n                        &lt;version&gt;0.2.0&lt;/version&gt;\n                    &lt;/path&gt;\n                &lt;/annotationProcessorPaths&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n<p><strong>Updated full pom.xml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.4.2&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;org.company&lt;/groupId&gt;\n    &lt;artifactId&gt;ctk_consumer&lt;/artifactId&gt;\n    &lt;version&gt;0.0.2&lt;/version&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n    &lt;name&gt;ctk_consumer&lt;/name&gt;\n    &lt;description&gt;ctk consumer&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n        &lt;dcsa.tnt.version&gt;0.0.1&lt;/dcsa.tnt.version&gt;\n        &lt;dcsa.artifacttype&gt;-SNAPSHOT&lt;/dcsa.artifacttype&gt;\n        &lt;lombok.version&gt;1.18.22&lt;/lombok.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n            &lt;version&gt;4.0.1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n            &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\n            &lt;version&gt;5.1.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\n            &lt;artifactId&gt;httpclient&lt;/artifactId&gt;\n            &lt;version&gt;4.5.13&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.aventstack&lt;/groupId&gt;\n            &lt;artifactId&gt;extentreports&lt;/artifactId&gt;\n            &lt;version&gt;5.0.9&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;version&gt;${lombok.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","regex","string"],"comments":[{"owner":{"account_id":446042,"reputation":12428,"user_id":838841,"accept_rate":100,"display_name":"Shreyos Adikari"},"score":1,"creation_date":1369734599,"post_id":16788937,"comment_id":24193177,"body_markdown":"What you have tried so far?","body":"What you have tried so far?"},{"owner":{"account_id":2683526,"reputation":121,"user_id":2318353,"accept_rate":80,"display_name":"Morilla Thaisa"},"score":0,"creation_date":1369813095,"post_id":16788937,"comment_id":24226466,"body_markdown":"@Shreyos I&#39;ve tried using `NumberFormat.getCurrencyInstance()` and then split its result by `,`.","body":"@Shreyos I&#39;ve tried using <code>NumberFormat.getCurrencyInstance()</code> and then split its result by <code>,</code>."},{"owner":{"account_id":2683526,"reputation":121,"user_id":2318353,"accept_rate":80,"display_name":"Morilla Thaisa"},"score":0,"creation_date":1369813184,"post_id":16788937,"comment_id":24226514,"body_markdown":"@Er My need is reading/span the string from the end not the beginning (index = 0)","body":"@Er My need is reading/span the string from the end not the beginning (index = 0)"},{"owner":{"account_id":1299099,"reputation":26248,"user_id":2218452,"accept_rate":36,"display_name":"Nikhil Agrawal"},"score":0,"creation_date":1369815129,"post_id":16788937,"comment_id":24227505,"body_markdown":"@Morilla Thaisa If you get the logic from that post then its not a big task.. After all you are a programmer na","body":"@Morilla Thaisa If you get the logic from that post then its not a big task.. After all you are a programmer na"}],"answers":[{"comments":[{"owner":{"account_id":1517424,"reputation":8052,"user_id":1418097,"accept_rate":83,"display_name":"Display Name"},"score":0,"creation_date":1369735568,"post_id":16789023,"comment_id":24193725,"body_markdown":"Cycle isn&#39;t that necessary: http://ideone.com/wxHHHA","body":"Cycle isn&#39;t that necessary: <a href=\"http://ideone.com/wxHHHA\" rel=\"nofollow noreferrer\">ideone.com/wxHHHA</a>"}],"tags":[],"owner":{"account_id":391434,"reputation":4689,"user_id":752102,"accept_rate":85,"display_name":"Massimo Variolo"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1369735139,"creation_date":1369734781,"answer_id":16789023,"question_id":16788937,"body_markdown":"Have you tried something?\r\n\r\nYou can `split()` your strings when a char is uppercase or a digit using `isUpperCase(char c)` and `Character.isDigit(char c)` in a for cycle.","title":"How to split string into array of three characters, and the splitting start from the end of the string","body":"<p>Have you tried something?</p>\n\n<p>You can <code>split()</code> your strings when a char is uppercase or a digit using <code>isUpperCase(char c)</code> and <code>Character.isDigit(char c)</code> in a for cycle.</p>\n"},{"comments":[{"owner":{"account_id":2683526,"reputation":121,"user_id":2318353,"accept_rate":80,"display_name":"Morilla Thaisa"},"score":0,"creation_date":1369813464,"post_id":16789116,"comment_id":24226647,"body_markdown":"Yeah, the regex fullfills my need. I just know basic javascript&#39;s regexp. I&#39;ve tried `/([A-Za-z0-9]{3})*([A-Za-z0-9]{3})$/i` and just correct for last two characters.. Using `/([A-Za-z0-9]{3})*([A-Za-z0-9]{3})*([A-Za-z0-9]{3})$/i`, just last three characters.. Thanks for the help..","body":"Yeah, the regex fullfills my need. I just know basic javascript&#39;s regexp. I&#39;ve tried <code>&#47;([A-Za-z0-9]{3})*([A-Za-z0-9]{3})$&#47;i</code> and just correct for last two characters.. Using <code>&#47;([A-Za-z0-9]{3})*([A-Za-z0-9]{3})*([A-Za-z0-9]{3})$&#47;i</code>, just last three characters.. Thanks for the help.."},{"owner":{"account_id":1268556,"reputation":48088,"user_id":1225328,"accept_rate":93,"display_name":"sp00m"},"score":0,"creation_date":1369817408,"post_id":16789116,"comment_id":24228728,"body_markdown":"@MorillaThaisa But you tagged your question with Java! This regex won&#39;t work with JavaScript since lookbehinds aren&#39;t supported by its regex flavor... But I&#39;m glad it could help you though :)","body":"@MorillaThaisa But you tagged your question with Java! This regex won&#39;t work with JavaScript since lookbehinds aren&#39;t supported by its regex flavor... But I&#39;m glad it could help you though :)"},{"owner":{"account_id":2683526,"reputation":121,"user_id":2318353,"accept_rate":80,"display_name":"Morilla Thaisa"},"score":0,"creation_date":1369822262,"post_id":16789116,"comment_id":24231600,"body_markdown":"I&#39;m working on android, my previous trial is using `java.text.NumberFormat`. That&#39;s why tagged it with java..","body":"I&#39;m working on android, my previous trial is using <code>java.text.NumberFormat</code>. That&#39;s why tagged it with java.."}],"tags":[],"owner":{"account_id":1268556,"reputation":48088,"user_id":1225328,"accept_rate":93,"display_name":"sp00m"},"comment_count":3,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1369735360,"creation_date":1369735031,"answer_id":16789116,"question_id":16788937,"body_markdown":"This should suit your needs ([demo](http://regexr.com?35148)):\r\n\r\n&lt;!-- language: lang-none --&gt;\r\n\r\n    (?&lt;=[A-Z])(?=[^A-Z])|(?&lt;=[a-z])(?=[^a-z])|(?&lt;=[0-9])(?=[^0-9])\r\n\r\n`(?&lt;=[A-Z])(?=[^A-Z])` means &quot;any *inter-char* preceded by an uppercased char followed by any char but an uppercased one&quot;.\r\n\r\nThe same logic is applied for lowercased char and numbers.","title":"How to split string into array of three characters, and the splitting start from the end of the string","body":"<p>This should suit your needs (<a href=\"http://regexr.com?35148\" rel=\"nofollow\">demo</a>):</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>(?&lt;=[A-Z])(?=[^A-Z])|(?&lt;=[a-z])(?=[^a-z])|(?&lt;=[0-9])(?=[^0-9])\n</code></pre>\n\n<p><code>(?&lt;=[A-Z])(?=[^A-Z])</code> means \"any <em>inter-char</em> preceded by an uppercased char followed by any char but an uppercased one\".</p>\n\n<p>The same logic is applied for lowercased char and numbers.</p>\n"},{"comments":[{"owner":{"account_id":465805,"reputation":3555,"user_id":870144,"display_name":"Francis Gagnon"},"score":0,"creation_date":1369744059,"post_id":16789238,"comment_id":24198211,"body_markdown":"This regex doesn&#39;t seem to work for the 2nd and 3rd line in the sample text provided in the question. You get AB950 returned for the second line and ABC950 for the third.","body":"This regex doesn&#39;t seem to work for the 2nd and 3rd line in the sample text provided in the question. You get AB950 returned for the second line and ABC950 for the third."}],"tags":[],"owner":{"account_id":55050,"reputation":190529,"user_id":164835,"accept_rate":80,"display_name":"Kent"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1369735673,"creation_date":1369735348,"answer_id":16789238,"question_id":16788937,"body_markdown":"try this line:\r\n\r\n    s.split(&quot;(?&lt;![a-z])(?=[a-z])|(?&lt;=[a-z])(?![a-z])&quot;)\r\n\r\nwith your example, it outputs:\r\n\r\n    String s = &quot;Aabc123def457ghi123jkl950asd489are&quot;;\r\n    System.out.println(Arrays.toString(s.split(&quot;(?&lt;![a-z])(?=[a-z])|(?&lt;=[a-z])(?![a-z])&quot;)));\r\n    \r\n    [A, abc, 123, def, 457, ghi, 123, jkl, 950, asd, 489, are]\r\n\r\nIf I read your question title twice:\r\n\r\n&gt;How to split string into array of **three** characters\r\n\r\nit could be:\r\n\r\n    s.split(&quot;(?=[a-z]{3})|(?&lt;=[a-z]{3})&quot;)\r\n\r\noutput is the same\r\n\r\n\r\n\r\n\r\n","title":"How to split string into array of three characters, and the splitting start from the end of the string","body":"<p>try this line:</p>\n\n<pre><code>s.split(\"(?&lt;![a-z])(?=[a-z])|(?&lt;=[a-z])(?![a-z])\")\n</code></pre>\n\n<p>with your example, it outputs:</p>\n\n<pre><code>String s = \"Aabc123def457ghi123jkl950asd489are\";\nSystem.out.println(Arrays.toString(s.split(\"(?&lt;![a-z])(?=[a-z])|(?&lt;=[a-z])(?![a-z])\")));\n\n[A, abc, 123, def, 457, ghi, 123, jkl, 950, asd, 489, are]\n</code></pre>\n\n<p>If I read your question title twice:</p>\n\n<blockquote>\n  <p>How to split string into array of <strong>three</strong> characters</p>\n</blockquote>\n\n<p>it could be:</p>\n\n<pre><code>s.split(\"(?=[a-z]{3})|(?&lt;=[a-z]{3})\")\n</code></pre>\n\n<p>output is the same</p>\n"},{"comments":[{"owner":{"account_id":2683526,"reputation":121,"user_id":2318353,"accept_rate":80,"display_name":"Morilla Thaisa"},"score":0,"creation_date":1369814112,"post_id":16789463,"comment_id":24226952,"body_markdown":"The regexp works although it&#39;s different from sp00m (The accepted answer, coz that the first answer I saw and tested). Does regexp form affect the performance? Thanks for the help anyway.. :)","body":"The regexp works although it&#39;s different from sp00m (The accepted answer, coz that the first answer I saw and tested). Does regexp form affect the performance? Thanks for the help anyway.. :)"},{"owner":{"account_id":1283501,"reputation":51335,"user_id":1237040,"display_name":"Ravi K Thapliyal"},"score":0,"creation_date":1369833062,"post_id":16789463,"comment_id":24238263,"body_markdown":"Yes, regex is one of those things that can be written in different ways and yes that means a badly written regex (although working) could mess up the performance. Please, check my edit on some more pointers on how to improve performance when doing regexs in Java.","body":"Yes, regex is one of those things that can be written in different ways and yes that means a badly written regex (although working) could mess up the performance. Please, check my edit on some more pointers on how to improve performance when doing regexs in Java."}],"tags":[],"owner":{"account_id":1283501,"reputation":51335,"user_id":1237040,"display_name":"Ravi K Thapliyal"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1369832661,"creation_date":1369736049,"answer_id":16789463,"question_id":16788937,"body_markdown":"**Java regex code**\r\n\r\n    String regex =\r\n           &quot;(?&lt;=[A-Z])(?![A-Z])|(?&lt;=[a-z])(?![a-z])|(?&lt;=[0-9])(?![0-9])&quot;;\r\n\tSystem.out.println(\r\n\t\tArrays.toString(\r\n\t\t\t&quot;Aabc123def457ghi123jkl950asd489are&quot;.split(regex)));\r\n\tSystem.out.println(\r\n\t\tArrays.toString(&quot;AB950asd489are&quot;.split(regex)));\r\n\tSystem.out.println(\r\n\t\tArrays.toString(&quot;ABC950asd489are&quot;.split(regex)));\r\n\r\n**Output**\r\n\r\n    [A, abc, 123, def, 457, ghi, 123, jkl, 950, asd, 489, are]\r\n    [AB, 950, asd, 489, are]\r\n    [ABC, 950, asd, 489, are]\r\n&lt;br/&gt;\r\n**Improving Performance**\r\n&lt;br /&gt;&lt;br /&gt;\r\nIf you&#39;re supposed to be applying this regex parsing in a lopp for a lot many of such input strings it&#39;s not recommended to use `String.split()`. Why? Because `split()` compiles the regex on every call even when your regex hasn&#39;t changed a bit. Internally, it works somewhat as\r\n\r\n    Pattern.compile(regex).split(strInput);\r\n\r\nSo, to improve our performance we can pre-compile the regex once and then split as many number of times as we like without the added overhead of compilation at every `split()` now.\r\n\r\n    Pattern regex = Pattern.compile(\r\n                    &quot;(?&lt;=[A-Z])(?![A-Z])|(?&lt;=[a-z])(?![a-z])|(?&lt;=[0-9])(?![0-9])&quot;);\r\n\r\n    String[] input = {&quot;Aabc123def457ghi123jkl950asd489are&quot;,\r\n                      &quot;AB950asd489are&quot;, &quot;ABC950asd489are&quot;};\r\n\r\n    for (String strInput : input)\r\n        System.out.println (Arrays.toString (regex.split (strInput)));\r\n","title":"How to split string into array of three characters, and the splitting start from the end of the string","body":"<p><strong>Java regex code</strong></p>\n\n<pre><code>String regex =\n       \"(?&lt;=[A-Z])(?![A-Z])|(?&lt;=[a-z])(?![a-z])|(?&lt;=[0-9])(?![0-9])\";\nSystem.out.println(\n    Arrays.toString(\n        \"Aabc123def457ghi123jkl950asd489are\".split(regex)));\nSystem.out.println(\n    Arrays.toString(\"AB950asd489are\".split(regex)));\nSystem.out.println(\n    Arrays.toString(\"ABC950asd489are\".split(regex)));\n</code></pre>\n\n<p><strong>Output</strong></p>\n\n<pre><code>[A, abc, 123, def, 457, ghi, 123, jkl, 950, asd, 489, are]\n[AB, 950, asd, 489, are]\n[ABC, 950, asd, 489, are]\n</code></pre>\n\n<p><br/>\n<strong>Improving Performance</strong>\n<br /><br />\nIf you're supposed to be applying this regex parsing in a lopp for a lot many of such input strings it's not recommended to use <code>String.split()</code>. Why? Because <code>split()</code> compiles the regex on every call even when your regex hasn't changed a bit. Internally, it works somewhat as</p>\n\n<pre><code>Pattern.compile(regex).split(strInput);\n</code></pre>\n\n<p>So, to improve our performance we can pre-compile the regex once and then split as many number of times as we like without the added overhead of compilation at every <code>split()</code> now.</p>\n\n<pre><code>Pattern regex = Pattern.compile(\n                \"(?&lt;=[A-Z])(?![A-Z])|(?&lt;=[a-z])(?![a-z])|(?&lt;=[0-9])(?![0-9])\");\n\nString[] input = {\"Aabc123def457ghi123jkl950asd489are\",\n                  \"AB950asd489are\", \"ABC950asd489are\"};\n\nfor (String strInput : input)\n    System.out.println (Arrays.toString (regex.split (strInput)));\n</code></pre>\n"}],"owner":{"account_id":2683526,"reputation":121,"user_id":2318353,"accept_rate":80,"display_name":"Morilla Thaisa"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":459,"favorite_count":0,"down_vote_count":5,"up_vote_count":3,"closed_date":1369817903,"accepted_answer_id":16789116,"answer_count":4,"score":-2,"last_activity_date":1685111725,"creation_date":1369734540,"question_id":16788937,"body_markdown":"**EDIT**: Previously marked as duplicated. But the reporters seems don&#39;t understand my question.\r\n\r\nI have the string data like \r\n\r\n    Aabc123def457ghi123jkl950asd489are - has no space or character for splitting\r\n    AB950asd489are\r\n    ABC950asd489are\r\n\r\nand I want to split--**EDIT**:*not just splitting each string by a character or string, since the splitting that I need was between alpha and numeric characters*--those into arrays of strings like this\r\n\r\n    &quot;Aabc123def457ghi123jkl950asd489are&quot; =&gt; [A,abc,123,def,457,ghi,123,jkl,950,asd,489,are] (can we use String.split method? nope)\r\n    &quot;AB950asd489are&quot; =&gt; [AB,950,asd,489,are]\r\n    &quot;ABC950asd489are&quot; =&gt; [ABC,950,asd,489,are]\r\n\r\nJust like a currency formatter with comma `,` and split it into array. I need to find a regex for that, or is there any way to do that?","title":"How to split string into array of three characters, and the splitting start from the end of the string","body":"<p><strong>EDIT</strong>: Previously marked as duplicated. But the reporters seems don't understand my question.</p>\n\n<p>I have the string data like </p>\n\n<pre><code>Aabc123def457ghi123jkl950asd489are - has no space or character for splitting\nAB950asd489are\nABC950asd489are\n</code></pre>\n\n<p>and I want to split--<strong>EDIT</strong>:<em>not just splitting each string by a character or string, since the splitting that I need was between alpha and numeric characters</em>--those into arrays of strings like this</p>\n\n<pre><code>\"Aabc123def457ghi123jkl950asd489are\" =&gt; [A,abc,123,def,457,ghi,123,jkl,950,asd,489,are] (can we use String.split method? nope)\n\"AB950asd489are\" =&gt; [AB,950,asd,489,are]\n\"ABC950asd489are\" =&gt; [ABC,950,asd,489,are]\n</code></pre>\n\n<p>Just like a currency formatter with comma <code>,</code> and split it into array. I need to find a regex for that, or is there any way to do that?</p>\n"},{"tags":["java","javascript","jsp","scriptlet"],"comments":[{"owner":{"account_id":2281958,"reputation":2224,"user_id":2006839,"accept_rate":67,"display_name":"Lakshmi"},"score":0,"creation_date":1388743699,"post_id":20900931,"comment_id":31372082,"body_markdown":"you can use console.log(&quot;&quot;); for client side logging. And if required you can log errors using the link above. Otherwise i am afraid simple logging from client side to server site cannot be achieved.","body":"you can use console.log(&quot;&quot;); for client side logging. And if required you can log errors using the link above. Otherwise i am afraid simple logging from client side to server site cannot be achieved."}],"answers":[{"comments":[{"owner":{"account_id":3389353,"reputation":2432,"user_id":2844579,"accept_rate":71,"display_name":"clever_bassi"},"score":1,"creation_date":1447192029,"post_id":20900950,"comment_id":55054492,"body_markdown":"This does not print anything in the console if you write it in the jsp. This can only work in JS.","body":"This does not print anything in the console if you write it in the jsp. This can only work in JS."}],"tags":[],"owner":{"account_id":1334061,"reputation":12962,"user_id":1277252,"accept_rate":89,"display_name":"Moritz Petersen"},"comment_count":1,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1388743164,"creation_date":1388743164,"answer_id":20900950,"question_id":20900931,"body_markdown":"Use:\r\n\r\n    console.log(&#39;Hello World!&#39;);","title":"how to print values in console using scriplet in javascript while a function is called","body":"<p>Use:</p>\n\n<pre><code>console.log('Hello World!');\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3803698,"reputation":73,"user_id":3156648,"display_name":"hemalatha karunakaran"},"score":0,"creation_date":1388743300,"post_id":20900962,"comment_id":31371864,"body_markdown":"thnx for the quick response,but this can only be user with browser but i want to print console in my server log file","body":"thnx for the quick response,but this can only be user with browser but i want to print console in my server log file"},{"owner":{"account_id":2177522,"reputation":120796,"user_id":1927832,"accept_rate":49,"display_name":"Suresh Atta"},"score":0,"creation_date":1388743471,"post_id":20900962,"comment_id":31371963,"body_markdown":"No ,you cannot.You should log the user activity on server side. Not with what he is doing on client side. Probably you need that link which Lakshmi added in comments","body":"No ,you cannot.You should log the user activity on server side. Not with what he is doing on client side. Probably you need that link which Lakshmi added in comments"}],"tags":[],"owner":{"account_id":2177522,"reputation":120796,"user_id":1927832,"accept_rate":49,"display_name":"Suresh Atta"},"comment_count":2,"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1685111528,"creation_date":1388743188,"answer_id":20900962,"question_id":20900931,"body_markdown":"     System.out.println (&quot;test&quot;);\r\n\r\nThat is java and you cannot execute that on client side.\r\n\r\nYou might looking for \r\n\r\n    console.log(&quot;&quot;);\r\n\r\nAnd while page loading it&#39;s printing because the jsp you are submitting processing on server side and java code executes there.\r\n","title":"how to print values in console using scriplet in javascript while a function is called","body":"<pre><code> System.out.println (&quot;test&quot;);\n</code></pre>\n<p>That is java and you cannot execute that on client side.</p>\n<p>You might looking for</p>\n<pre><code>console.log(&quot;&quot;);\n</code></pre>\n<p>And while page loading it's printing because the jsp you are submitting processing on server side and java code executes there.</p>\n"}],"owner":{"account_id":3803698,"reputation":73,"user_id":3156648,"display_name":"hemalatha karunakaran"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72804,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"closed_date":1388747140,"accepted_answer_id":20900962,"answer_count":2,"score":7,"last_activity_date":1685111528,"creation_date":1388743096,"question_id":20900931,"body_markdown":"How to print values in console (like `System.out.println()` in `java`) using `scriplet` in `javascript` while a function is called ? if i used `System.out.println(&quot;test&quot;)` in `scriplet` the values is getting printed while a `jsp` form is loading but i want it to print only when a java script is called.","title":"how to print values in console using scriplet in javascript while a function is called","body":"<p>How to print values in console (like <code>System.out.println()</code> in <code>java</code>) using <code>scriplet</code> in <code>javascript</code> while a function is called ? if i used <code>System.out.println(\"test\")</code> in <code>scriplet</code> the values is getting printed while a <code>jsp</code> form is loading but i want it to print only when a java script is called.</p>\n"},{"tags":["java","groovy","sap-commerce-cloud"],"answers":[{"tags":[],"owner":{"account_id":1333316,"reputation":26958,"user_id":1276664,"accept_rate":17,"display_name":"daggett"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685111078,"creation_date":1685111078,"answer_id":76341740,"question_id":76340969,"body_markdown":"I recommend to have a singleton of GroovyShell for a context because parsing/compiling groovy takes a lot of time.\r\n\r\n---\r\n\r\nHow to run your code correctly from java:\r\n\r\nmake folder structure for groovy classes:\r\n\r\n```\r\n/groovy-root\r\n  /test\r\n    Helper.groovy\r\n    Test.groovy\r\n```\r\npackage name must correspond to a folder inside some root folder that we are going to add as a classpath.\r\n\r\n\r\nthen java code will look like:\r\n```lang-java\r\nimport groovy.lang.GroovyShell;\r\n\r\npublic class A{\r\n\tpublic static void main(String[] args) {\r\n\t\tGroovyShell shell = new GroovyShell(A.class.getClassLoader());\r\n\t\tshell.getClassLoader().addClasspath(&quot;./groovy-root&quot;);\r\n        // this line will load all required classes to execute script\r\n\t\tshell.evaluate(&quot;test.Test.test()&quot;); \r\n\t}\r\n}\r\n```\r\n\r\n---\r\n\r\nI&#39;m not familiar with SAP, but there is an existing groovy context in there, just add `&quot;./groovy-root&quot;` folder into a classpath and you are all set.","title":"Groovy cannot resolve Classes from other Groovy files","body":"<p>I recommend to have a singleton of GroovyShell for a context because parsing/compiling groovy takes a lot of time.</p>\n<hr />\n<p>How to run your code correctly from java:</p>\n<p>make folder structure for groovy classes:</p>\n<pre><code>/groovy-root\n  /test\n    Helper.groovy\n    Test.groovy\n</code></pre>\n<p>package name must correspond to a folder inside some root folder that we are going to add as a classpath.</p>\n<p>then java code will look like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import groovy.lang.GroovyShell;\n\npublic class A{\n    public static void main(String[] args) {\n        GroovyShell shell = new GroovyShell(A.class.getClassLoader());\n        shell.getClassLoader().addClasspath(&quot;./groovy-root&quot;);\n        // this line will load all required classes to execute script\n        shell.evaluate(&quot;test.Test.test()&quot;); \n    }\n}\n</code></pre>\n<hr />\n<p>I'm not familiar with SAP, but there is an existing groovy context in there, just add <code>&quot;./groovy-root&quot;</code> folder into a classpath and you are all set.</p>\n"}],"owner":{"account_id":8391404,"reputation":293,"user_id":6300032,"display_name":"SimGel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":149,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1685111078,"creation_date":1685105148,"question_id":76340969,"body_markdown":"I am trying to create a groovy context programatically and add multiple scripts to it.\r\n\r\nThis is a simplified version but it should explain the problem:\r\n\r\n\r\n**test/Helper.groovy**\r\n```groovy\r\npackage test\r\n\r\nclass Helper {\r\n    static void help() {\r\n        // Do something\r\n    }\r\n}\r\n\r\n```\r\n\r\n**test/Test.groovy**\r\n\r\n```groovy\r\npackage test\r\n\r\nclass Test {\r\n    static void test() {\r\n        Helper.help()\r\n    }\r\n}\r\n```\r\n\r\nThe context is build with this java code:\r\n\r\n\r\n```java\r\npublic class Runner {\r\n    public static void main(String[] args) throws IOException {\r\n        GroovyShell shell = new GroovyShell(Runner.class.getClassLoader(), new Binding(), CompilerConfiguration.DEFAULT);\r\n        \r\n        load(shell, &quot;/test/Test.groovy&quot;);\r\n        load(shell, &quot;/test/Helper.groovy&quot;);\r\n    }\r\n\r\n    private static void load(GroovyShell shell, String name) throws IOException {\r\n        try(var script = Runner.class.getResourceAsStream(name)) {\r\n            String scriptSrc = new String(script.readAllBytes(), StandardCharsets.UTF_8);\r\n            shell.parse(scriptSrc, name);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n**!!! Intentionally I load the scripts in an arbitrary order.**\r\n\r\n\r\n---\r\n\r\nIf I run this code locally everything works fine.\r\n\r\nRunning this code inside SAP Commerce (essentially a tomcat with spring and other stuff) throws an error:\r\n\r\n```text\r\nCaused by: java.lang.reflect.InvocationTargetException\r\n...\r\nCaused by: org.codehaus.groovy.control.MultipleCompilationErrorsException: startup failed:\r\nTest.groovy: 5: Apparent variable &#39;Helper&#39; was found in a static scope but doesn&#39;t refer to a local variable, static field or class. Possible causes:\r\nYou attempted to reference a variable in the binding or an instance variable from a static context.\r\nYou misspelled a classname or statically imported field. Please check the spelling.\r\nYou attempted to use a method &#39;Helper&#39; but left out brackets in a place not allowed by the grammar.\r\n\r\n        at org.codehaus.groovy.control.ErrorCollector.failIfErrors(ErrorCollector.java:292) ~[groovy-2.5.14.jar:2.5.14]\r\n        at org.codehaus.groovy.control.CompilationUnit$IPrimaryClassNodeOperation.doPhaseOperation(CompilationUnit.java:979) ~[groovy-4.0.2.jar:2.5.14]\r\n        at org.codehaus.groovy.control.CompilationUnit.processPhaseOperations(CompilationUnit.java:692) ~[groovy-2.5.14.jar:2.5.14]\r\n        at org.codehaus.groovy.control.CompilationUnit.compile(CompilationUnit.java:666) ~[groovy-2.5.14.jar:2.5.14]\r\n        at groovy.lang.GroovyClassLoader.doParseClass(GroovyClassLoader.java:373) ~[groovy-2.5.14.jar:2.5.14]\r\n        at groovy.lang.GroovyClassLoader.lambda$parseClass$2(GroovyClassLoader.java:316) ~[groovy-2.5.14.jar:2.5.14]\r\n        at org.codehaus.groovy.runtime.memoize.StampedCommonCache.compute(StampedCommonCache.java:163) ~[groovy-2.5.14.jar:2.5.14]\r\n        at org.codehaus.groovy.runtime.memoize.StampedCommonCache.getAndPut(StampedCommonCache.java:154) ~[groovy-2.5.14.jar:2.5.14]\r\n        at groovy.lang.GroovyClassLoader.parseClass(GroovyClassLoader.java:314) ~[groovy-2.5.14.jar:2.5.14]\r\n        at groovy.lang.GroovyShell.parseClass(GroovyShell.java:553) ~[groovy-2.5.14.jar:2.5.14]\r\n        at groovy.lang.GroovyShell.parse(GroovyShell.java:566) ~[groovy-2.5.14.jar:2.5.14]\r\n        at groovy.lang.GroovyShell.parse(GroovyShell.java:620) ~[groovy-2.5.14.jar:2.5.14]\r\n        at groovy.lang.GroovyShell.parse(GroovyShell.java:624) ~[groovy-2.5.14.jar:2.5.14]\r\n\r\n```\r\n\r\nSince we have more groovy scripts in our environment and by the way we designed the application I cannot put them in the right order.\r\n\r\n---\r\n\r\nWhat can cause this behavior from groovy? \r\n\r\nI am not aware of something like a security manager ect. enabled in the tomcat.\r\n\r\n\r\nTested with groovy 2.5.14","title":"Groovy cannot resolve Classes from other Groovy files","body":"<p>I am trying to create a groovy context programatically and add multiple scripts to it.</p>\n<p>This is a simplified version but it should explain the problem:</p>\n<p><strong>test/Helper.groovy</strong></p>\n<pre><code>package test\n\nclass Helper {\n    static void help() {\n        // Do something\n    }\n}\n\n</code></pre>\n<p><strong>test/Test.groovy</strong></p>\n<pre><code>package test\n\nclass Test {\n    static void test() {\n        Helper.help()\n    }\n}\n</code></pre>\n<p>The context is build with this java code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Runner {\n    public static void main(String[] args) throws IOException {\n        GroovyShell shell = new GroovyShell(Runner.class.getClassLoader(), new Binding(), CompilerConfiguration.DEFAULT);\n        \n        load(shell, &quot;/test/Test.groovy&quot;);\n        load(shell, &quot;/test/Helper.groovy&quot;);\n    }\n\n    private static void load(GroovyShell shell, String name) throws IOException {\n        try(var script = Runner.class.getResourceAsStream(name)) {\n            String scriptSrc = new String(script.readAllBytes(), StandardCharsets.UTF_8);\n            shell.parse(scriptSrc, name);\n        }\n    }\n}\n</code></pre>\n<p><strong>!!! Intentionally I load the scripts in an arbitrary order.</strong></p>\n<hr />\n<p>If I run this code locally everything works fine.</p>\n<p>Running this code inside SAP Commerce (essentially a tomcat with spring and other stuff) throws an error:</p>\n<pre><code>Caused by: java.lang.reflect.InvocationTargetException\n...\nCaused by: org.codehaus.groovy.control.MultipleCompilationErrorsException: startup failed:\nTest.groovy: 5: Apparent variable 'Helper' was found in a static scope but doesn't refer to a local variable, static field or class. Possible causes:\nYou attempted to reference a variable in the binding or an instance variable from a static context.\nYou misspelled a classname or statically imported field. Please check the spelling.\nYou attempted to use a method 'Helper' but left out brackets in a place not allowed by the grammar.\n\n        at org.codehaus.groovy.control.ErrorCollector.failIfErrors(ErrorCollector.java:292) ~[groovy-2.5.14.jar:2.5.14]\n        at org.codehaus.groovy.control.CompilationUnit$IPrimaryClassNodeOperation.doPhaseOperation(CompilationUnit.java:979) ~[groovy-4.0.2.jar:2.5.14]\n        at org.codehaus.groovy.control.CompilationUnit.processPhaseOperations(CompilationUnit.java:692) ~[groovy-2.5.14.jar:2.5.14]\n        at org.codehaus.groovy.control.CompilationUnit.compile(CompilationUnit.java:666) ~[groovy-2.5.14.jar:2.5.14]\n        at groovy.lang.GroovyClassLoader.doParseClass(GroovyClassLoader.java:373) ~[groovy-2.5.14.jar:2.5.14]\n        at groovy.lang.GroovyClassLoader.lambda$parseClass$2(GroovyClassLoader.java:316) ~[groovy-2.5.14.jar:2.5.14]\n        at org.codehaus.groovy.runtime.memoize.StampedCommonCache.compute(StampedCommonCache.java:163) ~[groovy-2.5.14.jar:2.5.14]\n        at org.codehaus.groovy.runtime.memoize.StampedCommonCache.getAndPut(StampedCommonCache.java:154) ~[groovy-2.5.14.jar:2.5.14]\n        at groovy.lang.GroovyClassLoader.parseClass(GroovyClassLoader.java:314) ~[groovy-2.5.14.jar:2.5.14]\n        at groovy.lang.GroovyShell.parseClass(GroovyShell.java:553) ~[groovy-2.5.14.jar:2.5.14]\n        at groovy.lang.GroovyShell.parse(GroovyShell.java:566) ~[groovy-2.5.14.jar:2.5.14]\n        at groovy.lang.GroovyShell.parse(GroovyShell.java:620) ~[groovy-2.5.14.jar:2.5.14]\n        at groovy.lang.GroovyShell.parse(GroovyShell.java:624) ~[groovy-2.5.14.jar:2.5.14]\n\n</code></pre>\n<p>Since we have more groovy scripts in our environment and by the way we designed the application I cannot put them in the right order.</p>\n<hr />\n<p>What can cause this behavior from groovy?</p>\n<p>I am not aware of something like a security manager ect. enabled in the tomcat.</p>\n<p>Tested with groovy 2.5.14</p>\n"},{"tags":["java","snowflake-cloud-data-platform","connection","connection-pooling"],"owner":{"account_id":27542688,"reputation":39,"user_id":21019175,"display_name":"World of Titans"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":109,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685110952,"creation_date":1685109324,"question_id":76341510,"body_markdown":"\r\n\r\nWe are connecting to snowflake from Java application using encrypted private key(this encrypted private key comes from  SNOWSQL_PRIVATE_KEY_PASSPHRASE and private_key which is an API call which will get dynamically)\r\n        \r\n    SnowflakeBasicDataSource snowflakeDataSource = new SnowflakeBasicDataSource();\r\n        snowflakeDataSource.setUrl(jdbcAccountURL);\r\n        snowflakeDataSource.setPrivateKey(encryptedPrivateKey);\r\n            \t\r\n How to do connection pooling using SnowflakeBasicDataSource.I have read some where to use SnowflakeConnectionPoolDataSource.\r\n    \r\nOur goal is use to reuse the existing connections.if the current connection is invalidated or any issue with the existing connection then only get the new connection for snowflake.\r\n    \r\n Could you please suggest in this scenario how to do connection pooling using SnowflakeConnectionPoolDataSource and get a new connection if the current connection is not valid.","title":"Connection pooling for Snowflake in Java","body":"<p>We are connecting to snowflake from Java application using encrypted private key(this encrypted private key comes from  SNOWSQL_PRIVATE_KEY_PASSPHRASE and private_key which is an API call which will get dynamically)</p>\n<pre><code>SnowflakeBasicDataSource snowflakeDataSource = new SnowflakeBasicDataSource();\n    snowflakeDataSource.setUrl(jdbcAccountURL);\n    snowflakeDataSource.setPrivateKey(encryptedPrivateKey);\n            \n</code></pre>\n<p>How to do connection pooling using SnowflakeBasicDataSource.I have read some where to use SnowflakeConnectionPoolDataSource.</p>\n<p>Our goal is use to reuse the existing connections.if the current connection is invalidated or any issue with the existing connection then only get the new connection for snowflake.</p>\n<p>Could you please suggest in this scenario how to do connection pooling using SnowflakeConnectionPoolDataSource and get a new connection if the current connection is not valid.</p>\n"},{"tags":["java","selenium-webdriver"],"answers":[{"comments":[{"owner":{"account_id":6077817,"reputation":1213,"user_id":4744568,"display_name":"pcalkins"},"score":0,"creation_date":1685126020,"post_id":76341720,"comment_id":134623016,"body_markdown":"you could use a HashMap so that each entry is a unique URL key.  Most link crawlers or 404 checkers will use a recursive loop, which is not really possible using Selenium so this answer is going to be the way to go.  You might need to track visited in another array.  (things get complicated without recursion...)","body":"you could use a HashMap so that each entry is a unique URL key.  Most link crawlers or 404 checkers will use a recursive loop, which is not really possible using Selenium so this answer is going to be the way to go.  You might need to track visited in another array.  (things get complicated without recursion...)"}],"tags":[],"owner":{"account_id":13004762,"reputation":141,"user_id":9399653,"display_name":"Suresh Madhusanka Rodrigo"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1685110879,"creation_date":1685110879,"answer_id":76341720,"question_id":76340905,"body_markdown":"I do not think it is possible to do by navigating to only one of the page in the web site.\r\n\r\nWhat you can do is for each page you visit you can retrieve the web links separately.\r\n\r\nThen combine all these list together into one list and print it as shown below.\r\n\r\n    // Get all the available Links in Web Page A\r\n        List&lt;WebElement&gt; linksA = driver.findElements(By.tagName(&quot;a&quot;));\r\n    \r\n    // Get all the available Links in Web Page B\r\n        List&lt;WebElement&gt; linksB = driver.findElements(By.tagName(&quot;a&quot;));\r\n    \r\n    // Combine the two list into one list\r\n        List&lt;String&gt; combineList = Stream.concat(linksA.stream(), linksB.stream()).toList();\r\n    \r\n    // Iterating through all the Links and printing link\r\n        \r\n        for (WebElement link : combineList) {\r\n            System.out.println(link.getText());\r\n    \t\tSystem.out.println(link.getAttribute(&quot;href&quot;));\r\n        }\r\n\r\nAnother solution is when visiting each web page you can use the same variable to add the URLs, so we do not need to combine each list.\r\n\r\n","title":"Get all links of website using Selenium webdriver (java)","body":"<p>I do not think it is possible to do by navigating to only one of the page in the web site.</p>\n<p>What you can do is for each page you visit you can retrieve the web links separately.</p>\n<p>Then combine all these list together into one list and print it as shown below.</p>\n<pre><code>// Get all the available Links in Web Page A\n    List&lt;WebElement&gt; linksA = driver.findElements(By.tagName(&quot;a&quot;));\n\n// Get all the available Links in Web Page B\n    List&lt;WebElement&gt; linksB = driver.findElements(By.tagName(&quot;a&quot;));\n\n// Combine the two list into one list\n    List&lt;String&gt; combineList = Stream.concat(linksA.stream(), linksB.stream()).toList();\n\n// Iterating through all the Links and printing link\n    \n    for (WebElement link : combineList) {\n        System.out.println(link.getText());\n        System.out.println(link.getAttribute(&quot;href&quot;));\n    }\n</code></pre>\n<p>Another solution is when visiting each web page you can use the same variable to add the URLs, so we do not need to combine each list.</p>\n"}],"owner":{"account_id":26164749,"reputation":1,"user_id":19850733,"display_name":"Chinmay Agrawal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":106,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1685374704,"answer_count":1,"score":-2,"last_activity_date":1685110879,"creation_date":1685104656,"question_id":76340905,"body_markdown":"Using selenium webdriver (java), I want to get all links of a given website, all pages. How can I do this?\r\n\r\nI am being able to do for a particular web page of the website but, not the full website. Can someone please help me with this?","title":"Get all links of website using Selenium webdriver (java)","body":"<p>Using selenium webdriver (java), I want to get all links of a given website, all pages. How can I do this?</p>\n<p>I am being able to do for a particular web page of the website but, not the full website. Can someone please help me with this?</p>\n"},{"tags":["java","floating-point","double"],"comments":[{"owner":{"account_id":957044,"reputation":47672,"user_id":982161,"accept_rate":63,"display_name":"ΦXocę 웃 Пepe&#250;pa ツ"},"score":1,"creation_date":1685087440,"post_id":76338719,"comment_id":134615101,"body_markdown":"you should never compare double primitive types using &#39;==&#39;","body":"you should never compare double primitive types using &#39;==&#39;"},{"owner":{"account_id":28367824,"reputation":73,"user_id":21696871,"display_name":"fnymmm"},"score":0,"creation_date":1685087544,"post_id":76338719,"comment_id":134615128,"body_markdown":"Here&#39;s an interesting [link](https://www.baeldung.com/java-comparing-doubles) for you. It explains why you cant use &#39;&#39;&#39;==&#39;&#39;&#39;&#39;","body":"Here&#39;s an interesting <a href=\"https://www.baeldung.com/java-comparing-doubles\" rel=\"nofollow noreferrer\">link</a> for you. It explains why you cant use &#39;&#39;&#39;==&#39;&#39;&#39;&#39;"},{"owner":{"account_id":5400331,"reputation":623,"user_id":4300403,"accept_rate":0,"display_name":"zhoudu"},"score":0,"creation_date":1685087710,"post_id":76338719,"comment_id":134615160,"body_markdown":"Yeah, I know that in most cases I should not use &quot;==&quot; for floating-point numbers, because they are often not exact. But here I use &quot;==&quot;, in order to understand floating-point numbers more deeply.","body":"Yeah, I know that in most cases I should not use &quot;==&quot; for floating-point numbers, because they are often not exact. But here I use &quot;==&quot;, in order to understand floating-point numbers more deeply."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":6,"creation_date":1685088197,"post_id":76338719,"comment_id":134615257,"body_markdown":"The strange result is a direct consequence of the thing that you say that you understand.  If you want a deeper understanding, you need to understand the mathematics.  One place to start is: [What Every Computer Scientist Should\nKnow About Floating-Point Arithmetic](https://docs.oracle.com/cd/E19957-01/800-7895/800-7895.pdf).  Read it, and then read it again ... until you understand it.","body":"The strange result is a direct consequence of the thing that you say that you understand.  If you want a deeper understanding, you need to understand the mathematics.  One place to start is: <a href=\"https://docs.oracle.com/cd/E19957-01/800-7895/800-7895.pdf\" rel=\"nofollow noreferrer\">What Every Computer Scientist Should Know About Floating-Point Arithmetic</a>.  Read it, and then read it again ... until you understand it."},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":2,"creation_date":1685088857,"post_id":76338719,"comment_id":134615385,"body_markdown":"(1) No. Call `System.out.println(new BigDecimal(num))` to see the exact value of `num`. (2) Do the same for `result2`. (3) See the Javadoc of [`Double#toString(double)`](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/Double.html#toString(double)). (4) Do the same as for question 1 and 2, but for `result1`. (5) Answered already. (Bonus) Read the link provided by Stephen to understand the results.","body":"(1) No. Call <code>System.out.println(new BigDecimal(num))</code> to see the exact value of <code>num</code>. (2) Do the same for <code>result2</code>. (3) See the Javadoc of <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/Double.html#toString(double)\" rel=\"nofollow noreferrer\"><code>Double#toString(double)</code></a>. (4) Do the same as for question 1 and 2, but for <code>result1</code>. (5) Answered already. (Bonus) Read the link provided by Stephen to understand the results."},{"owner":{"account_id":5400331,"reputation":623,"user_id":4300403,"accept_rate":0,"display_name":"zhoudu"},"score":0,"creation_date":1685088960,"post_id":76338719,"comment_id":134615407,"body_markdown":"@Slaw So, why is the direct String output of &quot;num&quot; not this? Is it because Java rounds it? But &quot;result2&quot; is not rounded. This is strange.","body":"@Slaw So, why is the direct String output of &quot;num&quot; not this? Is it because Java rounds it? But &quot;result2&quot; is not rounded. This is strange."},{"owner":{"account_id":399622,"reputation":4096,"user_id":765091,"display_name":"slothrop"},"score":0,"creation_date":1685090026,"post_id":76338719,"comment_id":134615658,"body_markdown":"*&quot;Is the value of &quot;num&quot; 0.3 (exactly)?&quot;* No. As you say, *&quot;binary (base 2) floating-point numbers cannot represent some decimal numbers exactly&quot;*. This is an example of a number that cannot be exactly represented, because no integers `p` and `q` exist such that `p * 2^q = 0.3`.","body":"<i>&quot;Is the value of &quot;num&quot; 0.3 (exactly)?&quot;</i> No. As you say, <i>&quot;binary (base 2) floating-point numbers cannot represent some decimal numbers exactly&quot;</i>. This is an example of a number that cannot be exactly represented, because no integers <code>p</code> and <code>q</code> exist such that <code>p * 2^q = 0.3</code>."},{"owner":{"account_id":4865492,"reputation":45981,"user_id":3923896,"accept_rate":69,"display_name":"Steve Summit"},"score":0,"creation_date":1685107892,"post_id":76338719,"comment_id":134619418,"body_markdown":"Floating-point arithmetic does *not* always obey the laws of mathematics.  a + a + a + … + a is *not* always equal to a &#215; N, due to rounding.  (Addition isn&#39;t associative, either: (a + b) + c may be different from a + (b + c).)","body":"Floating-point arithmetic does <i>not</i> always obey the laws of mathematics.  a + a + a + … + a is <i>not</i> always equal to a &#215; N, due to rounding.  (Addition isn&#39;t associative, either: (a + b) + c may be different from a + (b + c).)"},{"owner":{"account_id":4865492,"reputation":45981,"user_id":3923896,"accept_rate":69,"display_name":"Steve Summit"},"score":0,"creation_date":1685108402,"post_id":76338719,"comment_id":134619559,"body_markdown":"You thought you knew that binary floating-point numbers cannot represent some (really most) decimal numbers exactly.  But you have not yet understood all of the implications of this fact.  You thought you were computing things like a + b.  But you were *actually* computing a&#39; ⊕ b&#39;, where a&#39; and b&#39; are the binary approximations to a and b, and where ⊕ is floating-point addition, which is slightly different than mathematical addition.  Furthermore, after computing a result, Java converted it back to decimal for you, resulting in another approximation.","body":"You thought you knew that binary floating-point numbers cannot represent some (really most) decimal numbers exactly.  But you have not yet understood all of the implications of this fact.  You thought you were computing things like a + b.  But you were <i>actually</i> computing a&#39; ⊕ b&#39;, where a&#39; and b&#39; are the binary approximations to a and b, and where ⊕ is floating-point addition, which is slightly different than mathematical addition.  Furthermore, after computing a result, Java converted it back to decimal for you, resulting in another approximation."},{"owner":{"account_id":4865492,"reputation":45981,"user_id":3923896,"accept_rate":69,"display_name":"Steve Summit"},"score":0,"creation_date":1685108560,"post_id":76338719,"comment_id":134619611,"body_markdown":"Bottom line, your comment `add 10 num, which is mathematically equal to num * 10` is perfectly false, for finite-precision floating point.  (So in this case your use of `==` on floating-point values was not wrong, and it did help you understand floating-point numbers more deeply, because the results really weren&#39;t equal!)","body":"Bottom line, your comment <code>add 10 num, which is mathematically equal to num * 10</code> is perfectly false, for finite-precision floating point.  (So in this case your use of <code>==</code> on floating-point values was not wrong, and it did help you understand floating-point numbers more deeply, because the results really weren&#39;t equal!)"}],"answers":[{"tags":[],"owner":{"account_id":483434,"reputation":25487,"user_id":898478,"accept_rate":86,"display_name":"m0skit0"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685088043,"creation_date":1685088043,"answer_id":76338810,"question_id":76338719,"body_markdown":"Since the range of all decimal numbers is infinite and any data type has finite space, you cannot represent all possible decimal numbers using a double data type. That&#39;s why some numbers will be rounded to their next possible representation.\r\n\r\nFor more details on the implementation, check [the IEEE 754 standard](https://en.wikipedia.org/wiki/IEEE_754).","title":"How to understand this strange behavior of double in Java?","body":"<p>Since the range of all decimal numbers is infinite and any data type has finite space, you cannot represent all possible decimal numbers using a double data type. That's why some numbers will be rounded to their next possible representation.</p>\n<p>For more details on the implementation, check <a href=\"https://en.wikipedia.org/wiki/IEEE_754\" rel=\"nofollow noreferrer\">the IEEE 754 standard</a>.</p>\n"},{"tags":[],"owner":{"account_id":113187,"reputation":201052,"user_id":298225,"accept_rate":100,"display_name":"Eric Postpischil"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1685101867,"creation_date":1685101867,"answer_id":76340540,"question_id":76338719,"body_markdown":"&gt; 1. Is the value of &quot;num&quot; 0.3 (exactly)?\r\n\r\nNo, it is 0.299999999999999988897769753748434595763683319091796875.\r\n\r\n&gt; 2. If the value of &quot;num&quot; is 0.3, then, why is &quot;result2 == compared&quot; false?\r\n\r\nThe premise is false; the value of `num` is not 0.3. Further, `result2` is computed using nine additions. In each addition, there is a rounding step. The result of these additions with rounding is 2.999999999999999555910790149937383830547332763671875.\r\n\r\n&gt; 3. If the value of &quot;num&quot; is not 0.3, then, why is its String output &quot;0.3&quot;? From what I know, binary floating-point numbers can always be represented exactly in decimal numbers. So, if the value of &quot;num&quot; is not 0.3, its String output should not be &quot;0.3&quot;, but should be something like &quot;0.300000000001&quot;.\r\n\r\n[The Java specifiation says that the default formatting for a `double` is to print just enough decimal digits to uniquely distinguish the number.](https://stackoverflow.com/a/54640328/298225) Specifically, it converts to the decimal numeral with the fewest digits having the property that converting the decimal numeral back to the `double` type yields the original value.\r\n\r\nConverting 0.3 to `double` produces the nearest representable value, 0.299999999999999988897769753748434595763683319091796875, so, when printing 0.299999999999999988897769753748434595763683319091796875. with default formatting, Java produces “0.3”.\r\n\r\n&gt; 4. If the value of &quot;num&quot; is not 0.3, then, why is &quot;result1 == compared&quot; true?\r\n\r\n`num` is 0.299999999999999988897769753748434595763683319091796875. Multiplying it by 10 would produce 2.99999999999999988897769753748434595763683319091796875 using real-number arithmetic, but this number is not representable in `double`. The floating-point multiplication operation produces the nearest value representable in `double`, which is 3.\r\n\r\n&gt; 5. If the value of &quot;num&quot; is not 0.3, then, what is it?\r\n\r\nIt is 0.299999999999999988897769753748434595763683319091796875.\r\n","title":"How to understand this strange behavior of double in Java?","body":"<blockquote>\n<ol>\n<li>Is the value of &quot;num&quot; 0.3 (exactly)?</li>\n</ol>\n</blockquote>\n<p>No, it is 0.299999999999999988897769753748434595763683319091796875.</p>\n<blockquote>\n<ol start=\"2\">\n<li>If the value of &quot;num&quot; is 0.3, then, why is &quot;result2 == compared&quot; false?</li>\n</ol>\n</blockquote>\n<p>The premise is false; the value of <code>num</code> is not 0.3. Further, <code>result2</code> is computed using nine additions. In each addition, there is a rounding step. The result of these additions with rounding is 2.999999999999999555910790149937383830547332763671875.</p>\n<blockquote>\n<ol start=\"3\">\n<li>If the value of &quot;num&quot; is not 0.3, then, why is its String output &quot;0.3&quot;? From what I know, binary floating-point numbers can always be represented exactly in decimal numbers. So, if the value of &quot;num&quot; is not 0.3, its String output should not be &quot;0.3&quot;, but should be something like &quot;0.300000000001&quot;.</li>\n</ol>\n</blockquote>\n<p><a href=\"https://stackoverflow.com/a/54640328/298225\">The Java specifiation says that the default formatting for a <code>double</code> is to print just enough decimal digits to uniquely distinguish the number.</a> Specifically, it converts to the decimal numeral with the fewest digits having the property that converting the decimal numeral back to the <code>double</code> type yields the original value.</p>\n<p>Converting 0.3 to <code>double</code> produces the nearest representable value, 0.299999999999999988897769753748434595763683319091796875, so, when printing 0.299999999999999988897769753748434595763683319091796875. with default formatting, Java produces “0.3”.</p>\n<blockquote>\n<ol start=\"4\">\n<li>If the value of &quot;num&quot; is not 0.3, then, why is &quot;result1 == compared&quot; true?</li>\n</ol>\n</blockquote>\n<p><code>num</code> is 0.299999999999999988897769753748434595763683319091796875. Multiplying it by 10 would produce 2.99999999999999988897769753748434595763683319091796875 using real-number arithmetic, but this number is not representable in <code>double</code>. The floating-point multiplication operation produces the nearest value representable in <code>double</code>, which is 3.</p>\n<blockquote>\n<ol start=\"5\">\n<li>If the value of &quot;num&quot; is not 0.3, then, what is it?</li>\n</ol>\n</blockquote>\n<p>It is 0.299999999999999988897769753748434595763683319091796875.</p>\n"},{"tags":[],"owner":{"account_id":4865492,"reputation":45981,"user_id":3923896,"accept_rate":69,"display_name":"Steve Summit"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1685110664,"creation_date":1685109786,"answer_id":76341569,"question_id":76338719,"body_markdown":"To see what&#39;s going on here, let&#39;s do a similar problem in decimal, instead — that is, not involving binary floating-point at all.  We&#39;re going to use *decimal* floating point, limited to *three significant digits* of precision.\r\nWe&#39;re going to start with the value 1/3, and we&#39;re going to multiply it by 10, which should give us 10/3.\r\n\r\nBut of course, we can&#39;t represent 1/3 exactly in decimal.  The closest we can get, with 3 significant digits, is 0.333.  But that&#39;s pretty close.\r\n\r\nIf we take 0.333, and multiply it by 10, we obviously get 3.33.  That&#39;s not quite the same as 10/3 (which would be 3.33333…), but again, it&#39;s pretty close.\r\n\r\nBut suppose we take 0.333 and add it to itself 10 times.  That should give the same answer, right?\r\n\r\n0.333 + 0.333 + 0.333 is 0.999.  All right so far.\r\n\r\n0.999 + 0.333 should be 1.332.  But we&#39;ve only got three significant digits of precision.  So we&#39;re going to have to round that off to 1.33.\r\n\r\n1.33 + 0.333 should be 1.663.  But we&#39;ve only got three significant digits of precision.  So we&#39;re going to have to round that off to 1.66.\r\n\r\n1.66 + 0.333 should be 1.993.  But we&#39;re going to have to round that off to 1.99.\r\n\r\n(Are you beginning to see a pattern?  It&#39;s about to get a little worse.)\r\n\r\n1.99 + 0.333 should be 2.323, which rounds off to 2.32.  \r\n2.32 + 0.333 should be 2.653, which rounds off to 2.65.  \r\n2.65 + 0.333 should be 2.983, which rounds off to 2.98.  \r\nFinally, 2.98 + 0.333 should be 3.313, which rounds off to 3.31.\r\n\r\nSo 0.333 &#215; 10 was 3.33, but 0.333 + 0.333 + 0.333 + … + 0.333 is 3.31.  Why did we get two different answers?\r\n\r\nBecause just about every time we added 0.333, we had to round off the result, and (in this case) that always meant throwing away 0.003.  And after seven addition steps which rounded, those little roundoff errors added up to something that significantly affected the final result.\r\n\r\nAnd more or less exactly the same thing goes on when you repeatedly add 0.3 in binary.  0.3 is not exactly representable in binary, so you weren&#39;t adding exactly 0.3 each time.  You were adding a value slightly different than 0.3, and after nine additions, the roundoff errors added up to something significantly different than when you just multiplied 0.3 by 10.  See [Eric Postpischil&#39;s answer](https://stackoverflow.com/questions/76338719#76340540) for more details.\r\n\r\n","title":"How to understand this strange behavior of double in Java?","body":"<p>To see what's going on here, let's do a similar problem in decimal, instead — that is, not involving binary floating-point at all.  We're going to use <em>decimal</em> floating point, limited to <em>three significant digits</em> of precision.\nWe're going to start with the value 1/3, and we're going to multiply it by 10, which should give us 10/3.</p>\n<p>But of course, we can't represent 1/3 exactly in decimal.  The closest we can get, with 3 significant digits, is 0.333.  But that's pretty close.</p>\n<p>If we take 0.333, and multiply it by 10, we obviously get 3.33.  That's not quite the same as 10/3 (which would be 3.33333…), but again, it's pretty close.</p>\n<p>But suppose we take 0.333 and add it to itself 10 times.  That should give the same answer, right?</p>\n<p>0.333 + 0.333 + 0.333 is 0.999.  All right so far.</p>\n<p>0.999 + 0.333 should be 1.332.  But we've only got three significant digits of precision.  So we're going to have to round that off to 1.33.</p>\n<p>1.33 + 0.333 should be 1.663.  But we've only got three significant digits of precision.  So we're going to have to round that off to 1.66.</p>\n<p>1.66 + 0.333 should be 1.993.  But we're going to have to round that off to 1.99.</p>\n<p>(Are you beginning to see a pattern?  It's about to get a little worse.)</p>\n<p>1.99 + 0.333 should be 2.323, which rounds off to 2.32.<br />\n2.32 + 0.333 should be 2.653, which rounds off to 2.65.<br />\n2.65 + 0.333 should be 2.983, which rounds off to 2.98.<br />\nFinally, 2.98 + 0.333 should be 3.313, which rounds off to 3.31.</p>\n<p>So 0.333 × 10 was 3.33, but 0.333 + 0.333 + 0.333 + … + 0.333 is 3.31.  Why did we get two different answers?</p>\n<p>Because just about every time we added 0.333, we had to round off the result, and (in this case) that always meant throwing away 0.003.  And after seven addition steps which rounded, those little roundoff errors added up to something that significantly affected the final result.</p>\n<p>And more or less exactly the same thing goes on when you repeatedly add 0.3 in binary.  0.3 is not exactly representable in binary, so you weren't adding exactly 0.3 each time.  You were adding a value slightly different than 0.3, and after nine additions, the roundoff errors added up to something significantly different than when you just multiplied 0.3 by 10.  See <a href=\"https://stackoverflow.com/questions/76338719#76340540\">Eric Postpischil's answer</a> for more details.</p>\n"}],"owner":{"account_id":5400331,"reputation":623,"user_id":4300403,"accept_rate":0,"display_name":"zhoudu"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":94,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"closed_date":1685124726,"answer_count":3,"score":0,"last_activity_date":1685110664,"creation_date":1685087376,"question_id":76338719,"body_markdown":"I am trying to understand floating-point numbers more deeply. I know that binary (base 2) floating-point numbers cannot represent some decimal numbers exactly. But I am confused in this strange behavior of double in Java (in Java, double is a binary floating-point number data type).\r\n\r\nI write this piece of Java code:\r\n\r\n```\r\npublic void myTestMethod() {\r\n    double num;\r\n    double factor;\r\n    double compared;\r\n    double result1;\r\n    double result2;\r\n    String output;\r\n\r\n    num = 0.3;\r\n    factor = 10;\r\n    compared = 3;\r\n\r\n    //num * 10\r\n    result1 = num * factor;\r\n\r\n    //add 10 num, which is mathematically equal to num * 10\r\n    result2 = num + num + num + num + num + num + num + num + num + num;\r\n\r\n    output = &quot;num: &quot; + num + &quot;\\n&quot;;\r\n    output = output + &quot;result1: &quot; + result1 + &quot;\\n&quot;;\r\n    output = output + &quot;result2: &quot; + result2 + &quot;\\n&quot;;\r\n\r\n    if (result1 == compared) {\r\n        output = output + &quot;result1 == compared\\n&quot;;\r\n    } else {\r\n        output = output + &quot;result1 != compared\\n&quot;;\r\n    }\r\n\r\n    if (result2 == compared) {\r\n        output = output + &quot;result2 == compared\\n&quot;;\r\n    } else {\r\n        output = output + &quot;result2 != compared\\n&quot;;\r\n    }\r\n\r\n    System.out.print(output);\r\n}\r\n```\r\n\r\nRunning this method produces this output:\r\n\r\n```\r\nnum: 0.3\r\nresult1: 3.0\r\nresult2: 2.9999999999999996\r\nresult1 == compared\r\nresult2 != compared\r\n```\r\n\r\nFrom what I know, the value of &quot;factor&quot; is exactly 10, and the value of &quot;compared&quot; is exactly 3, because these integers can be represented exactly by double. But maybe the value of &quot;num&quot; is a little different from 0.3.\r\n\r\nNow I want to know:\r\n\r\n1. Is the value of &quot;num&quot; 0.3 (exactly)?\r\n\r\n2. If the value of &quot;num&quot; is 0.3, then, why is &quot;result2 == compared&quot; false?\r\n\r\n3. If the value of &quot;num&quot; is not 0.3, then, why is its String output &quot;0.3&quot;? From what I know, binary floating-point numbers can always be represented exactly in decimal numbers. So, if the value of &quot;num&quot; is not 0.3, its String output should not be &quot;0.3&quot;, but should be something like &quot;0.300000000001&quot;.\r\n\r\n4. If the value of &quot;num&quot; is not 0.3, then, why is &quot;result1 == compared&quot; true?\r\n\r\n5. If the value of &quot;num&quot; is not 0.3, then, what is it?\r\n","title":"How to understand this strange behavior of double in Java?","body":"<p>I am trying to understand floating-point numbers more deeply. I know that binary (base 2) floating-point numbers cannot represent some decimal numbers exactly. But I am confused in this strange behavior of double in Java (in Java, double is a binary floating-point number data type).</p>\n<p>I write this piece of Java code:</p>\n<pre><code>public void myTestMethod() {\n    double num;\n    double factor;\n    double compared;\n    double result1;\n    double result2;\n    String output;\n\n    num = 0.3;\n    factor = 10;\n    compared = 3;\n\n    //num * 10\n    result1 = num * factor;\n\n    //add 10 num, which is mathematically equal to num * 10\n    result2 = num + num + num + num + num + num + num + num + num + num;\n\n    output = &quot;num: &quot; + num + &quot;\\n&quot;;\n    output = output + &quot;result1: &quot; + result1 + &quot;\\n&quot;;\n    output = output + &quot;result2: &quot; + result2 + &quot;\\n&quot;;\n\n    if (result1 == compared) {\n        output = output + &quot;result1 == compared\\n&quot;;\n    } else {\n        output = output + &quot;result1 != compared\\n&quot;;\n    }\n\n    if (result2 == compared) {\n        output = output + &quot;result2 == compared\\n&quot;;\n    } else {\n        output = output + &quot;result2 != compared\\n&quot;;\n    }\n\n    System.out.print(output);\n}\n</code></pre>\n<p>Running this method produces this output:</p>\n<pre><code>num: 0.3\nresult1: 3.0\nresult2: 2.9999999999999996\nresult1 == compared\nresult2 != compared\n</code></pre>\n<p>From what I know, the value of &quot;factor&quot; is exactly 10, and the value of &quot;compared&quot; is exactly 3, because these integers can be represented exactly by double. But maybe the value of &quot;num&quot; is a little different from 0.3.</p>\n<p>Now I want to know:</p>\n<ol>\n<li><p>Is the value of &quot;num&quot; 0.3 (exactly)?</p>\n</li>\n<li><p>If the value of &quot;num&quot; is 0.3, then, why is &quot;result2 == compared&quot; false?</p>\n</li>\n<li><p>If the value of &quot;num&quot; is not 0.3, then, why is its String output &quot;0.3&quot;? From what I know, binary floating-point numbers can always be represented exactly in decimal numbers. So, if the value of &quot;num&quot; is not 0.3, its String output should not be &quot;0.3&quot;, but should be something like &quot;0.300000000001&quot;.</p>\n</li>\n<li><p>If the value of &quot;num&quot; is not 0.3, then, why is &quot;result1 == compared&quot; true?</p>\n</li>\n<li><p>If the value of &quot;num&quot; is not 0.3, then, what is it?</p>\n</li>\n</ol>\n"},{"tags":["java","spring","spring-boot","spring-mvc"],"answers":[{"comments":[{"owner":{"account_id":23171414,"reputation":195,"user_id":17270610,"display_name":"dynamo"},"score":0,"creation_date":1685109327,"post_id":76334389,"comment_id":134619822,"body_markdown":"still getting the same error after doing this - edited the post to include my default public controller now too","body":"still getting the same error after doing this - edited the post to include my default public controller now too"}],"tags":[],"owner":{"account_id":22577442,"reputation":758,"user_id":16775102,"display_name":"Feel free"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685110663,"creation_date":1685031530,"answer_id":76334389,"question_id":76334298,"body_markdown":"As I see your classPublicChangePasswordController annotated with `@RequestMapping(&quot;/change-password&quot;)`.\r\n\r\n Method display() has `@RequestMapping(value = &quot;/change-password&quot;, method = RequestMethod.GET)`. So your link is already: */change-password/change-password* which is not right. remove annotation in display() method and just use @GetMapping\r\n\r\n    @GetMapping(&quot;/change-password&quot;)\r\n    public ModelAndView display(WebRequest webRequest) {\r\n        // Method implementation\r\n    }\r\n\r\n**Also you can update changePassword() with @PostMappting, but don&#39;t forget to add path: */save***\r\n\r\nAccording to comment:\r\nCheck this code in your xml. There is two &lt;mvc:annotation-driven /&gt;, but maybe should be &lt;mvc:annotation-driven&gt; and &lt;mvc:annotation-driven /&gt;\r\n\r\n    &lt;mvc:annotation-driven /&gt;\r\n    &lt;context:component-scan base-package=&quot;com.app&quot;&gt;\r\n        &lt;context:include-filter type=&quot;annotation&quot; expression=&quot;com.app.web.mvc.PublicController&quot; /&gt;\r\n    &lt;/context:component-scan&gt;\r\n    &lt;mvc:annotation-driven /&gt;\r\n\r\nand play with this line. because you are updating ModelAndView\r\n\r\n    ModelAndView modelAndView = new ModelAndView(&quot;public/change-password/change-password&quot;);\r\n\r\n","title":"Upgrading to Spring 5 - 404 page not found error","body":"<p>As I see your classPublicChangePasswordController annotated with <code>@RequestMapping(&quot;/change-password&quot;)</code>.</p>\n<p>Method display() has <code>@RequestMapping(value = &quot;/change-password&quot;, method = RequestMethod.GET)</code>. So your link is already: <em>/change-password/change-password</em> which is not right. remove annotation in display() method and just use @GetMapping</p>\n<pre><code>@GetMapping(&quot;/change-password&quot;)\npublic ModelAndView display(WebRequest webRequest) {\n    // Method implementation\n}\n</code></pre>\n<p><strong>Also you can update changePassword() with @PostMappting, but don't forget to add path: <em>/save</em></strong></p>\n<p>According to comment:\nCheck this code in your xml. There is two &lt;mvc:annotation-driven /&gt;, but maybe should be mvc:annotation-driven and &lt;mvc:annotation-driven /&gt;</p>\n<pre><code>&lt;mvc:annotation-driven /&gt;\n&lt;context:component-scan base-package=&quot;com.app&quot;&gt;\n    &lt;context:include-filter type=&quot;annotation&quot; expression=&quot;com.app.web.mvc.PublicController&quot; /&gt;\n&lt;/context:component-scan&gt;\n&lt;mvc:annotation-driven /&gt;\n</code></pre>\n<p>and play with this line. because you are updating ModelAndView</p>\n<pre><code>ModelAndView modelAndView = new ModelAndView(&quot;public/change-password/change-password&quot;);\n</code></pre>\n"}],"owner":{"account_id":23171414,"reputation":195,"user_id":17270610,"display_name":"dynamo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1685110663,"creation_date":1685030756,"question_id":76334298,"body_markdown":"I am in the middle of upgrading a legacy project. Currently upgrading from spring 4 to spring 5. \r\n\r\nThe login works fine but the user is taken to the change password screen due to an out of date password. However, i am met with a 404 error not found when trying to reach it.\r\n\r\nI think i have updated it correctly to meet the requirements for spring 5 but it still doesnt seem to map correctly. Can anyone spot something wrong inside my controller?\r\n\r\nthe path of the jsp for reference is\r\n\r\n/application/src/main/webapp/WEB-INF/jsp/public/change-password/change-password.jsp\r\n\r\n**app-security-config.xml**\r\n``` \r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n       xmlns:security=&quot;http://www.springframework.org/schema/security&quot;\r\n       xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:util=&quot;http://www.springframework.org/schema/util&quot;\r\n       xsi:schemaLocation=&quot;\r\n          http://www.springframework.org/schema/beans\r\n          http://www.springframework.org/schema/beans/spring-beans.xsd\r\n          http://www.springframework.org/schema/security\r\n          http://www.springframework.org/schema/security/spring-security.xsd \r\n          http://www.springframework.org/schema/util\r\n          https://www.springframework.org/schema/util/spring-util.xsd&quot; &gt;\r\n\t\r\n\t&lt;security:http\r\n\t\tauto-config=&quot;false&quot;\r\n\t\taccess-decision-manager-ref=&quot;accessDecisionManager&quot;\r\n\t\tuse-expressions=&quot;true&quot;\r\n\t\trequest-matcher=&quot;ant&quot;\r\n\t\tdisable-url-rewriting=&quot;true&quot;\r\n\t&gt;\r\n\t\t&lt;security:headers&gt;\r\n\t\t\t&lt;security:hsts disabled=&quot;true&quot;/&gt;\r\n\t        &lt;security:frame-options policy=&quot;SAMEORIGIN&quot;/&gt;\r\n\t\t&lt;/security:headers&gt;\r\n\t\t&lt;security:csrf disabled=&quot;true&quot;/&gt;\r\n    \t\r\n    \t&lt;!-- Set up URL security for specific pages --&gt;\r\n        &lt;security:intercept-url pattern=&quot;/secure/home&quot; access=&quot;hasRole(&#39;AUTH_LOGIN&#39;)&quot; /&gt;\r\n        &lt;security:intercept-url pattern=&quot;/logout&quot; access=&quot;hasRole(&#39;AUTH_LOGIN&#39;)&quot; /&gt;\r\n        &lt;security:intercept-url pattern=&quot;/secure/help/**&quot; access=&quot;hasRole(&#39;AUTH_LOGIN&#39;)&quot; /&gt;\r\n        &lt;security:intercept-url pattern=&quot;/secure/help/contents&quot; access=&quot;hasRole(&#39;AUTH_LOGIN&#39;)&quot; /&gt;\r\n        &lt;security:intercept-url pattern=&quot;/secure/change-password&quot; \r\n        \r\n        &lt;!-- Fall back for any other secure/* pages - user must be authenticated --&gt;\r\n        &lt;security:intercept-url pattern=&quot;/secure/**&quot; access=&quot;isAuthenticated()&quot; /&gt;\r\n        \r\n        &lt;!-- Allow anonymous access for any URLS not secured above --&gt;\r\n        &lt;security:anonymous username=&quot;ANON&quot; granted-authority=&quot;AUTH_ANON&quot; /&gt;\r\n\r\n    \t&lt;!-- Set up concurrent session control, the logout page, and the access denied handler --&gt;\r\n    \t&lt;security:session-management session-fixation-protection=&quot;newSession&quot;&gt;\r\n    \t\t&lt;security:concurrency-control max-sessions=&quot;1&quot; expired-url=&quot;/public/login?expired=true&quot; /&gt;\r\n    \t&lt;/security:session-management&gt;\r\n    \t\r\n    \t&lt;security:logout logout-url=&quot;/logout&quot;\r\n\t\t\t\t\t\t invalidate-session=&quot;true&quot;\r\n\t\t\t\t\t\t success-handler-ref=&quot;logOutSuccessHandler&quot;\r\n\t\t/&gt;\r\n\t\t\r\n\t\t&lt;security:access-denied-handler error-page=&quot;/public/forbidden&quot; /&gt;\r\n    \t\r\n    \t&lt;!-- Set up form login authentication, wiring up the success/and failure handlers --&gt;\r\n    \t&lt;security:form-login \r\n    \t\tlogin-page=&quot;/public/login&quot; \r\n    \t\tlogin-processing-url=&quot;/public/security_check&quot;\r\n    \t\tauthentication-failure-handler-ref=&quot;authenticationFailureHandler&quot;\r\n    \t\tauthentication-success-handler-ref=&quot;authenticationSuccessHandler&quot;\r\n    \t/&gt;\r\n    \t\t\r\n  \t&lt;/security:http&gt;\r\n \r\n  \t\r\n  \t&lt;bean id=&quot;authenticationSuccessHandler&quot; class=&quot;com.app.application.util.spring.security.DefaultAuthenticationSuccessHandler&quot;&gt;\r\n  \t\t&lt;constructor-arg ref=&quot;daoFactory&quot; /&gt;\r\n  \t\t&lt;property name=&quot;defaultTargetUrl&quot; value=&quot;/secure/home&quot; /&gt;\r\n  \t\t&lt;property name=&quot;localeResolver&quot; ref=&quot;localeResolver&quot; /&gt;\r\n  \t&lt;/bean&gt;\r\n  \t&lt;bean id=&quot;authenticationFailureHandler&quot; class=&quot;com.app.application.util.spring.security.DefaultAuthenticationFailureHandler&quot;&gt;\r\n  \t\t&lt;constructor-arg ref=&quot;daoFactory&quot; /&gt;\r\n  \t\t&lt;property name=&quot;defaultFailureUrl&quot; value=&quot;/public/login?failed=true&quot; /&gt;\r\n  \t\t&lt;property name=&quot;changePasswordUrl&quot; value=&quot;/public/change-password&quot; /&gt;\r\n  \t\t&lt;property name=&quot;suspendedUrl&quot; value=&quot;/public/suspended&quot; /&gt;\r\n  \t\t&lt;property name=&quot;deletedUrl&quot; value=&quot;/public/deleted&quot; /&gt;\r\n  \t&lt;/bean&gt;\r\n  \t&lt;bean id=&quot;logOutSuccessHandler&quot; class=&quot;com.app.application.util.spring.security.DefaultLogOutSuccessHandler&quot;&gt;\r\n\t\t&lt;constructor-arg ref=&quot;daoFactory&quot; /&gt;\r\n\t\t&lt;property name=&quot;logOutUrl&quot; value=&quot;/public/logout&quot; /&gt;\r\n\t&lt;/bean&gt;\r\n  \t\r\n\t&lt;bean class=&quot;com.app.application.security.DefaultRolesPrefixPostProcessor&quot;/&gt;\r\n\t\r\n  \t&lt;bean id=&quot;accessDecisionManager&quot; class=&quot;org.springframework.security.access.vote.AffirmativeBased&quot;&gt;\r\n  \t\t&lt;constructor-arg name=&quot;decisionVoters&quot;&gt;\r\n  \t\t\t&lt;list&gt;\r\n\t  \t\t\t&lt;bean class=&quot;org.springframework.security.access.vote.RoleVoter&quot;&gt;\r\n\t  \t\t\t\t&lt;property name=&quot;rolePrefix&quot; value=&quot;AUTH_&quot; /&gt;\r\n\t  \t\t\t&lt;/bean&gt;\r\n\t  \t\t\t&lt;bean class=&quot;org.springframework.security.access.vote.AuthenticatedVoter&quot; /&gt;\r\n\t  \t\t\t&lt;bean class=&quot;org.springframework.security.web.access.expression.WebExpressionVoter&quot;&gt;\r\n\t  \t\t\t\t&lt;property name=&quot;expressionHandler&quot;&gt;\r\n  \t\t\t\t\t\t&lt;bean id=&quot;expressionEvaluator&quot; class=&quot;org.springframework.security.web.access.expression.DefaultWebSecurityExpressionHandler&quot;/&gt;\r\n\t  \t\t\t\t&lt;/property&gt;\r\n\t  \t\t\t&lt;/bean&gt;\r\n  \t\t\t&lt;/list&gt;\r\n  \t\t&lt;/constructor-arg&gt;\r\n  \t&lt;/bean&gt;\r\n  \t\r\n  \t&lt;!-- \r\n  \tSet up the authentication manager, giving it our security service and setting up the password hashing.  We must manually create the encoder and salt source\r\n  \tbeans as they are required by our security service. \r\n  \t--&gt;\r\n\t&lt;security:authentication-manager alias=&quot;authenticationManager&quot;&gt;\r\n\t\t&lt;security:authentication-provider ref=&quot;customAuthenticationProvider&quot;&gt;\r\n\t\t&lt;/security:authentication-provider&gt;\r\n\t&lt;/security:authentication-manager&gt;\r\n\t\r\n\t&lt;bean id=&quot;passwordEncoder&quot; class=&quot;com.app.application.security.domain.password.Sha1DigestGenerator&quot; /&gt;\r\n\t&lt;bean id=&quot;saltSource&quot; class=&quot;com.app.application.security.domain.password.UsernameSaltSource&quot; /&gt;\r\n\t\r\n\t&lt;!-- Configure password generator and password validator --&gt;\r\n\t&lt;bean id=&quot;passwordGenerator&quot; class=&quot;com.app.application.security.domain.password.DefaultPasswordGenerator&quot;&gt;\r\n\t\t&lt;property name=&quot;randomStringGenerator&quot;&gt;\r\n\t\t\t&lt;bean class=&quot;com.amor.hcplus.application.util.ApacheCommonsLangRandomStringGenerator&quot; /&gt;\r\n\t\t&lt;/property&gt;\r\n\t\t&lt;property name=&quot;digestGenerator&quot; ref=&quot;passwordEncoder&quot; /&gt;\r\n\t\t&lt;property name=&quot;saltSource&quot; ref=&quot;saltSource&quot; /&gt;\r\n\t\t&lt;property name=&quot;passwordValidator&quot; ref=&quot;passwordValidator&quot;/&gt;\r\n\t\t&lt;property name=&quot;generatedPasswordLength&quot; value=&quot;8&quot; /&gt;\r\n\t&lt;/bean&gt;\r\n\t&lt;bean id=&quot;passwordValidator&quot; class=&quot;com.app.application.security.domain.password.DefaultPasswordValidator&quot; /&gt;\r\n&lt;/beans&gt;\r\n```\r\n**web.xml**\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;web-app xmlns=&quot;http://xmlns.jcp.org/xml/ns/javaee&quot;\r\n\t\t xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\t\t xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/javaee\r\n         http://xmlns.jcp.org/xml/ns/javaee/web-app_3_1.xsd&quot;\r\n\t\t version=&quot;3.1&quot;&gt;\r\n  \r\n\t&lt;!--  Spring context --&gt;\r\n\t&lt;listener&gt;\r\n\t\t&lt;listener-class&gt;org.springframework.web.context.ContextLoaderListener&lt;/listener-class&gt;\r\n\t&lt;/listener&gt;\r\n\t&lt;context-param&gt;\r\n\t\t&lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\r\n\t\t&lt;param-value&gt;\r\n\t\t\tclasspath*:/com/amor/**/*-config.xml\r\n\t\t\t/WEB-INF/spring/**/*-config.xml\r\n\t\t&lt;/param-value&gt;\r\n\t&lt;/context-param&gt;\r\n\t\r\n\t&lt;context-param&gt;\r\n\t\t&lt;param-name&gt;htmlEscape&lt;/param-name&gt;\r\n\t\t&lt;param-value&gt;true&lt;/param-value&gt;\r\n\t&lt;/context-param&gt;\r\n\t\r\n\t&lt;!--  Application Exit Cleanup Listener --&gt; \r\n\r\n \t&lt;listener&gt;\r\n \t\t&lt;listener-class&gt;com.app.web.mvc.context.ApplicationExitCleanupListener&lt;/listener-class&gt;\r\n \t&lt;/listener&gt;\r\n\r\n\t&lt;!-- OpenSessionInViewFilter --&gt;\r\n\t&lt;filter&gt;\r\n\t\t&lt;filter-name&gt;hibernateFilter&lt;/filter-name&gt;\r\n\t\t&lt;filter-class&gt;org.springframework.orm.hibernate5.support.OpenSessionInViewFilter&lt;/filter-class&gt;\r\n\t&lt;/filter&gt;\r\n\t&lt;filter-mapping&gt;\r\n\t\t&lt;filter-name&gt;hibernateFilter&lt;/filter-name&gt;\r\n\t\t&lt;url-pattern&gt;/*&lt;/url-pattern&gt;\r\n\t&lt;/filter-mapping&gt;\r\n\t\r\n\t&lt;!-- Spring security --&gt;\r\n\t&lt;listener&gt;\r\n     \t&lt;listener-class&gt;org.springframework.security.web.session.HttpSessionEventPublisher&lt;/listener-class&gt;\r\n \t&lt;/listener&gt;\r\n \t\r\n\t&lt;filter&gt;\r\n\t  \t&lt;filter-name&gt;springSecurityFilterChain&lt;/filter-name&gt;\r\n\t  \t&lt;filter-class&gt;org.springframework.web.filter.DelegatingFilterProxy&lt;/filter-class&gt;\r\n\t&lt;/filter&gt;\t  \r\n\t&lt;filter-mapping&gt;\r\n\t  \t&lt;filter-name&gt;springSecurityFilterChain&lt;/filter-name&gt;\r\n\t  \t&lt;url-pattern&gt;/*&lt;/url-pattern&gt;\r\n\t&lt;/filter-mapping&gt; \r\n\t\r\n\t&lt;!-- Spring servlets --&gt;\r\n\t&lt;servlet&gt;\r\n\t\t&lt;servlet-name&gt;public&lt;/servlet-name&gt;\r\n\t\t&lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;\r\n\t\t&lt;init-param&gt;\r\n\t\t\t&lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\r\n\t\t\t&lt;param-value&gt;/WEB-INF/spring/public-servlet.xml&lt;/param-value&gt;\r\n\t\t&lt;/init-param&gt;\r\n\t\t&lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\r\n\t&lt;/servlet&gt;\r\n\t&lt;servlet-mapping&gt;\r\n\t\t&lt;servlet-name&gt;public&lt;/servlet-name&gt;\r\n\t\t&lt;url-pattern&gt;/public/*&lt;/url-pattern&gt;\r\n\t&lt;/servlet-mapping&gt;\r\n\t\r\n    &lt;servlet&gt;\r\n        &lt;servlet-name&gt;secure&lt;/servlet-name&gt;\r\n        &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;\r\n        &lt;init-param&gt;\r\n            &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\r\n            &lt;param-value&gt;/WEB-INF/spring/secure-servlet.xml&lt;/param-value&gt;\r\n        &lt;/init-param&gt;\r\n        &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\r\n    &lt;/servlet&gt;\r\n    &lt;servlet-mapping&gt;\r\n        &lt;servlet-name&gt;secure&lt;/servlet-name&gt;\r\n        &lt;url-pattern&gt;/secure/*&lt;/url-pattern&gt;\r\n    &lt;/servlet-mapping&gt;\t\r\n    \r\n    &lt;context-param&gt;\r\n\t\t&lt;param-name&gt;spring.profiles.active&lt;/param-name&gt;\r\n\t\t&lt;param-value&gt;dev&lt;/param-value&gt;\r\n\t&lt;/context-param&gt;\r\n\t&lt;context-param&gt;\r\n\t\t&lt;param-name&gt;spring.profiles.default&lt;/param-name&gt;\r\n\t\t&lt;param-value&gt;dev&lt;/param-value&gt;\r\n\t&lt;/context-param&gt;\r\n\t&lt;context-param&gt;\r\n\t\t&lt;param-name&gt;spring.liveBeansView.mbeanDomain&lt;/param-name&gt;\r\n\t\t&lt;param-value&gt;dev&lt;/param-value&gt;\r\n\t&lt;/context-param&gt;\r\n\r\n\t&lt;!-- Other tomcat options --&gt;\r\n\t&lt;welcome-file-list&gt;\r\n\t\t&lt;welcome-file&gt;index.jsp&lt;/welcome-file&gt;\r\n\t&lt;/welcome-file-list&gt;\r\n\t\r\n\t&lt;error-page&gt;\r\n\t\t&lt;error-code&gt;403&lt;/error-code&gt;\r\n\t\t&lt;location&gt;/public/forbidden&lt;/location&gt;\r\n\t&lt;/error-page&gt;\r\n\t\r\n\t&lt;error-page&gt;\r\n\t\t&lt;error-code&gt;500&lt;/error-code&gt;\r\n\t\t&lt;location&gt;/public/error&lt;/location&gt;\r\n\t&lt;/error-page&gt;\r\n\t\r\n&lt;/web-app&gt;\r\n ```\r\n**public-servlet.xml**\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot; \r\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    xmlns:mvc=&quot;http://www.springframework.org/schema/mvc&quot;\r\n    xmlns:context=&quot;http://www.springframework.org/schema/context&quot;\r\n\txsi:schemaLocation=&quot;\r\n\t   http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\r\n       http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd\r\n       http://www.springframework.org/schema/mvc http://www.springframework.org/schema/mvc/spring-mvc.xsd&quot;\r\n&gt;\r\n\r\n    &lt;mvc:annotation-driven /&gt;\r\n    &lt;context:component-scan base-package=&quot;com.app&quot;&gt;\r\n        &lt;context:include-filter type=&quot;annotation&quot; expression=&quot;com.app.web.mvc.PublicController&quot; /&gt;\r\n    &lt;/context:component-scan&gt;\r\n    &lt;mvc:annotation-driven /&gt;\r\n    &lt;!--&lt;context:annotation-config&gt;&lt;/context:annotation-config&gt;--&gt;\r\n\t\r\n    &lt;bean id=&quot;viewResolver&quot; class=&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;&gt;\r\n        &lt;property name=&quot;viewClass&quot; value=&quot;org.springframework.web.servlet.view.JstlView&quot;/&gt;\r\n        &lt;property name=&quot;prefix&quot; value=&quot;/WEB-INF/jsp/public/&quot;/&gt;\r\n        &lt;property name=&quot;suffix&quot; value=&quot;.jsp&quot;/&gt;\r\n    &lt;/bean&gt;\r\n    \r\n&lt;/beans&gt;\r\n ```\r\nPublicChangePasswordController.java\r\n```\r\n\r\n@PublicController\r\n@RequestMapping(&quot;/change-password&quot;)\r\n@SessionAttributes(&quot;changePasswordFormObject&quot;)\r\npublic class PublicChangePasswordController {\r\n\r\n    private SecurityService securityService;\r\n\r\n    @Autowired\r\n    public PublicChangePasswordController(SecurityService securityService) {\r\n        super();\r\n        this.securityService = securityService;\r\n    }\r\n\r\n    @InitBinder\r\n    public void initBinder(WebDataBinder binder) {\r\n        binder.setValidator(new ChangePasswordFormObjectValidator(securityService));\r\n    }\r\n\r\n    @RequestMapping(value = &quot;/change-password&quot;, method = RequestMethod.GET)\r\n    public ModelAndView display(WebRequest webRequest) {\r\n\r\n        String username = (String) webRequest.getAttribute(DefaultAuthenticationFailureHandler.PASSWORD_CHANGE_USERNAME, RequestAttributes.SCOPE_SESSION);\r\n\r\n        if (!StringUtils.hasText(username)) {\r\n            // Redirect if no username is found on the session - user must have accessed it directly\r\n            return new ModelAndView(&quot;redirect:/&quot;);\r\n        }\r\n\r\n        ChangePasswordFormObject formObject = new ChangePasswordFormObject();\r\n        formObject.setUsername(username);\r\n\r\n        ModelAndView modelAndView = new ModelAndView(&quot;change-password/change-password&quot;);\r\n        modelAndView.addObject(&quot;changePasswordFormObject&quot;, formObject);\r\n\r\n        return modelAndView;\r\n    }\r\n\r\n    @RequestMapping(value = &quot;/save&quot;, method = RequestMethod.POST)\r\n    public String changePassword(@ModelAttribute(&quot;changePasswordFormObject&quot;) @Valid ChangePasswordFormObject formObject, BindingResult bindingResult,\r\n            WebRequest webRequest, SessionStatus sessionStatus) throws Exception {\r\n\r\n        if (bindingResult.hasErrors()) {\r\n            return &quot;change-password/change-password&quot;;\r\n        }\r\n\r\n        ChangePasswordDetailsDto changePasswordDetailsDto = new ChangePasswordDetailsDto();\r\n        changePasswordDetailsDto.setUsername(formObject.getUsername());\r\n        changePasswordDetailsDto.setNewPassword(formObject.getNewPassword());\r\n\r\n        securityService.changePassword(changePasswordDetailsDto);\r\n\r\n        webRequest.removeAttribute(DefaultAuthenticationFailureHandler.PASSWORD_CHANGE_USERNAME, RequestAttributes.SCOPE_SESSION);\r\n        sessionStatus.setComplete();\r\n\r\n        return &quot;redirect:/&quot;;\r\n    }\r\n}\r\n```\r\ndefault public controller\r\n```\r\n@PublicController\r\n@RequestMapping(&quot;/*&quot;)\r\npublic class DefaultPublicController {\r\n\r\n    private String servletContext = &quot;public/&quot;;\r\n\r\n    @RequestMapping\r\n    public String handle(HttpServletRequest request) {\r\n        return request.getRequestURI().substring(request.getRequestURI().lastIndexOf(servletContext) + servletContext.length());\r\n    }\r\n}\r\n```","title":"Upgrading to Spring 5 - 404 page not found error","body":"<p>I am in the middle of upgrading a legacy project. Currently upgrading from spring 4 to spring 5.</p>\n<p>The login works fine but the user is taken to the change password screen due to an out of date password. However, i am met with a 404 error not found when trying to reach it.</p>\n<p>I think i have updated it correctly to meet the requirements for spring 5 but it still doesnt seem to map correctly. Can anyone spot something wrong inside my controller?</p>\n<p>the path of the jsp for reference is</p>\n<p>/application/src/main/webapp/WEB-INF/jsp/public/change-password/change-password.jsp</p>\n<p><strong>app-security-config.xml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\n       xmlns:security=&quot;http://www.springframework.org/schema/security&quot;\n       xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:util=&quot;http://www.springframework.org/schema/util&quot;\n       xsi:schemaLocation=&quot;\n          http://www.springframework.org/schema/beans\n          http://www.springframework.org/schema/beans/spring-beans.xsd\n          http://www.springframework.org/schema/security\n          http://www.springframework.org/schema/security/spring-security.xsd \n          http://www.springframework.org/schema/util\n          https://www.springframework.org/schema/util/spring-util.xsd&quot; &gt;\n    \n    &lt;security:http\n        auto-config=&quot;false&quot;\n        access-decision-manager-ref=&quot;accessDecisionManager&quot;\n        use-expressions=&quot;true&quot;\n        request-matcher=&quot;ant&quot;\n        disable-url-rewriting=&quot;true&quot;\n    &gt;\n        &lt;security:headers&gt;\n            &lt;security:hsts disabled=&quot;true&quot;/&gt;\n            &lt;security:frame-options policy=&quot;SAMEORIGIN&quot;/&gt;\n        &lt;/security:headers&gt;\n        &lt;security:csrf disabled=&quot;true&quot;/&gt;\n        \n        &lt;!-- Set up URL security for specific pages --&gt;\n        &lt;security:intercept-url pattern=&quot;/secure/home&quot; access=&quot;hasRole('AUTH_LOGIN')&quot; /&gt;\n        &lt;security:intercept-url pattern=&quot;/logout&quot; access=&quot;hasRole('AUTH_LOGIN')&quot; /&gt;\n        &lt;security:intercept-url pattern=&quot;/secure/help/**&quot; access=&quot;hasRole('AUTH_LOGIN')&quot; /&gt;\n        &lt;security:intercept-url pattern=&quot;/secure/help/contents&quot; access=&quot;hasRole('AUTH_LOGIN')&quot; /&gt;\n        &lt;security:intercept-url pattern=&quot;/secure/change-password&quot; \n        \n        &lt;!-- Fall back for any other secure/* pages - user must be authenticated --&gt;\n        &lt;security:intercept-url pattern=&quot;/secure/**&quot; access=&quot;isAuthenticated()&quot; /&gt;\n        \n        &lt;!-- Allow anonymous access for any URLS not secured above --&gt;\n        &lt;security:anonymous username=&quot;ANON&quot; granted-authority=&quot;AUTH_ANON&quot; /&gt;\n\n        &lt;!-- Set up concurrent session control, the logout page, and the access denied handler --&gt;\n        &lt;security:session-management session-fixation-protection=&quot;newSession&quot;&gt;\n            &lt;security:concurrency-control max-sessions=&quot;1&quot; expired-url=&quot;/public/login?expired=true&quot; /&gt;\n        &lt;/security:session-management&gt;\n        \n        &lt;security:logout logout-url=&quot;/logout&quot;\n                         invalidate-session=&quot;true&quot;\n                         success-handler-ref=&quot;logOutSuccessHandler&quot;\n        /&gt;\n        \n        &lt;security:access-denied-handler error-page=&quot;/public/forbidden&quot; /&gt;\n        \n        &lt;!-- Set up form login authentication, wiring up the success/and failure handlers --&gt;\n        &lt;security:form-login \n            login-page=&quot;/public/login&quot; \n            login-processing-url=&quot;/public/security_check&quot;\n            authentication-failure-handler-ref=&quot;authenticationFailureHandler&quot;\n            authentication-success-handler-ref=&quot;authenticationSuccessHandler&quot;\n        /&gt;\n            \n    &lt;/security:http&gt;\n \n    \n    &lt;bean id=&quot;authenticationSuccessHandler&quot; class=&quot;com.app.application.util.spring.security.DefaultAuthenticationSuccessHandler&quot;&gt;\n        &lt;constructor-arg ref=&quot;daoFactory&quot; /&gt;\n        &lt;property name=&quot;defaultTargetUrl&quot; value=&quot;/secure/home&quot; /&gt;\n        &lt;property name=&quot;localeResolver&quot; ref=&quot;localeResolver&quot; /&gt;\n    &lt;/bean&gt;\n    &lt;bean id=&quot;authenticationFailureHandler&quot; class=&quot;com.app.application.util.spring.security.DefaultAuthenticationFailureHandler&quot;&gt;\n        &lt;constructor-arg ref=&quot;daoFactory&quot; /&gt;\n        &lt;property name=&quot;defaultFailureUrl&quot; value=&quot;/public/login?failed=true&quot; /&gt;\n        &lt;property name=&quot;changePasswordUrl&quot; value=&quot;/public/change-password&quot; /&gt;\n        &lt;property name=&quot;suspendedUrl&quot; value=&quot;/public/suspended&quot; /&gt;\n        &lt;property name=&quot;deletedUrl&quot; value=&quot;/public/deleted&quot; /&gt;\n    &lt;/bean&gt;\n    &lt;bean id=&quot;logOutSuccessHandler&quot; class=&quot;com.app.application.util.spring.security.DefaultLogOutSuccessHandler&quot;&gt;\n        &lt;constructor-arg ref=&quot;daoFactory&quot; /&gt;\n        &lt;property name=&quot;logOutUrl&quot; value=&quot;/public/logout&quot; /&gt;\n    &lt;/bean&gt;\n    \n    &lt;bean class=&quot;com.app.application.security.DefaultRolesPrefixPostProcessor&quot;/&gt;\n    \n    &lt;bean id=&quot;accessDecisionManager&quot; class=&quot;org.springframework.security.access.vote.AffirmativeBased&quot;&gt;\n        &lt;constructor-arg name=&quot;decisionVoters&quot;&gt;\n            &lt;list&gt;\n                &lt;bean class=&quot;org.springframework.security.access.vote.RoleVoter&quot;&gt;\n                    &lt;property name=&quot;rolePrefix&quot; value=&quot;AUTH_&quot; /&gt;\n                &lt;/bean&gt;\n                &lt;bean class=&quot;org.springframework.security.access.vote.AuthenticatedVoter&quot; /&gt;\n                &lt;bean class=&quot;org.springframework.security.web.access.expression.WebExpressionVoter&quot;&gt;\n                    &lt;property name=&quot;expressionHandler&quot;&gt;\n                        &lt;bean id=&quot;expressionEvaluator&quot; class=&quot;org.springframework.security.web.access.expression.DefaultWebSecurityExpressionHandler&quot;/&gt;\n                    &lt;/property&gt;\n                &lt;/bean&gt;\n            &lt;/list&gt;\n        &lt;/constructor-arg&gt;\n    &lt;/bean&gt;\n    \n    &lt;!-- \n    Set up the authentication manager, giving it our security service and setting up the password hashing.  We must manually create the encoder and salt source\n    beans as they are required by our security service. \n    --&gt;\n    &lt;security:authentication-manager alias=&quot;authenticationManager&quot;&gt;\n        &lt;security:authentication-provider ref=&quot;customAuthenticationProvider&quot;&gt;\n        &lt;/security:authentication-provider&gt;\n    &lt;/security:authentication-manager&gt;\n    \n    &lt;bean id=&quot;passwordEncoder&quot; class=&quot;com.app.application.security.domain.password.Sha1DigestGenerator&quot; /&gt;\n    &lt;bean id=&quot;saltSource&quot; class=&quot;com.app.application.security.domain.password.UsernameSaltSource&quot; /&gt;\n    \n    &lt;!-- Configure password generator and password validator --&gt;\n    &lt;bean id=&quot;passwordGenerator&quot; class=&quot;com.app.application.security.domain.password.DefaultPasswordGenerator&quot;&gt;\n        &lt;property name=&quot;randomStringGenerator&quot;&gt;\n            &lt;bean class=&quot;com.amor.hcplus.application.util.ApacheCommonsLangRandomStringGenerator&quot; /&gt;\n        &lt;/property&gt;\n        &lt;property name=&quot;digestGenerator&quot; ref=&quot;passwordEncoder&quot; /&gt;\n        &lt;property name=&quot;saltSource&quot; ref=&quot;saltSource&quot; /&gt;\n        &lt;property name=&quot;passwordValidator&quot; ref=&quot;passwordValidator&quot;/&gt;\n        &lt;property name=&quot;generatedPasswordLength&quot; value=&quot;8&quot; /&gt;\n    &lt;/bean&gt;\n    &lt;bean id=&quot;passwordValidator&quot; class=&quot;com.app.application.security.domain.password.DefaultPasswordValidator&quot; /&gt;\n&lt;/beans&gt;\n</code></pre>\n<p><strong>web.xml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;web-app xmlns=&quot;http://xmlns.jcp.org/xml/ns/javaee&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/javaee\n         http://xmlns.jcp.org/xml/ns/javaee/web-app_3_1.xsd&quot;\n         version=&quot;3.1&quot;&gt;\n  \n    &lt;!--  Spring context --&gt;\n    &lt;listener&gt;\n        &lt;listener-class&gt;org.springframework.web.context.ContextLoaderListener&lt;/listener-class&gt;\n    &lt;/listener&gt;\n    &lt;context-param&gt;\n        &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\n        &lt;param-value&gt;\n            classpath*:/com/amor/**/*-config.xml\n            /WEB-INF/spring/**/*-config.xml\n        &lt;/param-value&gt;\n    &lt;/context-param&gt;\n    \n    &lt;context-param&gt;\n        &lt;param-name&gt;htmlEscape&lt;/param-name&gt;\n        &lt;param-value&gt;true&lt;/param-value&gt;\n    &lt;/context-param&gt;\n    \n    &lt;!--  Application Exit Cleanup Listener --&gt; \n\n    &lt;listener&gt;\n        &lt;listener-class&gt;com.app.web.mvc.context.ApplicationExitCleanupListener&lt;/listener-class&gt;\n    &lt;/listener&gt;\n\n    &lt;!-- OpenSessionInViewFilter --&gt;\n    &lt;filter&gt;\n        &lt;filter-name&gt;hibernateFilter&lt;/filter-name&gt;\n        &lt;filter-class&gt;org.springframework.orm.hibernate5.support.OpenSessionInViewFilter&lt;/filter-class&gt;\n    &lt;/filter&gt;\n    &lt;filter-mapping&gt;\n        &lt;filter-name&gt;hibernateFilter&lt;/filter-name&gt;\n        &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\n    &lt;/filter-mapping&gt;\n    \n    &lt;!-- Spring security --&gt;\n    &lt;listener&gt;\n        &lt;listener-class&gt;org.springframework.security.web.session.HttpSessionEventPublisher&lt;/listener-class&gt;\n    &lt;/listener&gt;\n    \n    &lt;filter&gt;\n        &lt;filter-name&gt;springSecurityFilterChain&lt;/filter-name&gt;\n        &lt;filter-class&gt;org.springframework.web.filter.DelegatingFilterProxy&lt;/filter-class&gt;\n    &lt;/filter&gt;     \n    &lt;filter-mapping&gt;\n        &lt;filter-name&gt;springSecurityFilterChain&lt;/filter-name&gt;\n        &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\n    &lt;/filter-mapping&gt; \n    \n    &lt;!-- Spring servlets --&gt;\n    &lt;servlet&gt;\n        &lt;servlet-name&gt;public&lt;/servlet-name&gt;\n        &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;\n        &lt;init-param&gt;\n            &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\n            &lt;param-value&gt;/WEB-INF/spring/public-servlet.xml&lt;/param-value&gt;\n        &lt;/init-param&gt;\n        &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\n    &lt;/servlet&gt;\n    &lt;servlet-mapping&gt;\n        &lt;servlet-name&gt;public&lt;/servlet-name&gt;\n        &lt;url-pattern&gt;/public/*&lt;/url-pattern&gt;\n    &lt;/servlet-mapping&gt;\n    \n    &lt;servlet&gt;\n        &lt;servlet-name&gt;secure&lt;/servlet-name&gt;\n        &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;\n        &lt;init-param&gt;\n            &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\n            &lt;param-value&gt;/WEB-INF/spring/secure-servlet.xml&lt;/param-value&gt;\n        &lt;/init-param&gt;\n        &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\n    &lt;/servlet&gt;\n    &lt;servlet-mapping&gt;\n        &lt;servlet-name&gt;secure&lt;/servlet-name&gt;\n        &lt;url-pattern&gt;/secure/*&lt;/url-pattern&gt;\n    &lt;/servlet-mapping&gt;  \n    \n    &lt;context-param&gt;\n        &lt;param-name&gt;spring.profiles.active&lt;/param-name&gt;\n        &lt;param-value&gt;dev&lt;/param-value&gt;\n    &lt;/context-param&gt;\n    &lt;context-param&gt;\n        &lt;param-name&gt;spring.profiles.default&lt;/param-name&gt;\n        &lt;param-value&gt;dev&lt;/param-value&gt;\n    &lt;/context-param&gt;\n    &lt;context-param&gt;\n        &lt;param-name&gt;spring.liveBeansView.mbeanDomain&lt;/param-name&gt;\n        &lt;param-value&gt;dev&lt;/param-value&gt;\n    &lt;/context-param&gt;\n\n    &lt;!-- Other tomcat options --&gt;\n    &lt;welcome-file-list&gt;\n        &lt;welcome-file&gt;index.jsp&lt;/welcome-file&gt;\n    &lt;/welcome-file-list&gt;\n    \n    &lt;error-page&gt;\n        &lt;error-code&gt;403&lt;/error-code&gt;\n        &lt;location&gt;/public/forbidden&lt;/location&gt;\n    &lt;/error-page&gt;\n    \n    &lt;error-page&gt;\n        &lt;error-code&gt;500&lt;/error-code&gt;\n        &lt;location&gt;/public/error&lt;/location&gt;\n    &lt;/error-page&gt;\n    \n&lt;/web-app&gt;\n</code></pre>\n<p><strong>public-servlet.xml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot; \n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xmlns:mvc=&quot;http://www.springframework.org/schema/mvc&quot;\n    xmlns:context=&quot;http://www.springframework.org/schema/context&quot;\n    xsi:schemaLocation=&quot;\n       http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\n       http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd\n       http://www.springframework.org/schema/mvc http://www.springframework.org/schema/mvc/spring-mvc.xsd&quot;\n&gt;\n\n    &lt;mvc:annotation-driven /&gt;\n    &lt;context:component-scan base-package=&quot;com.app&quot;&gt;\n        &lt;context:include-filter type=&quot;annotation&quot; expression=&quot;com.app.web.mvc.PublicController&quot; /&gt;\n    &lt;/context:component-scan&gt;\n    &lt;mvc:annotation-driven /&gt;\n    &lt;!--&lt;context:annotation-config&gt;&lt;/context:annotation-config&gt;--&gt;\n    \n    &lt;bean id=&quot;viewResolver&quot; class=&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;&gt;\n        &lt;property name=&quot;viewClass&quot; value=&quot;org.springframework.web.servlet.view.JstlView&quot;/&gt;\n        &lt;property name=&quot;prefix&quot; value=&quot;/WEB-INF/jsp/public/&quot;/&gt;\n        &lt;property name=&quot;suffix&quot; value=&quot;.jsp&quot;/&gt;\n    &lt;/bean&gt;\n    \n&lt;/beans&gt;\n</code></pre>\n<p>PublicChangePasswordController.java</p>\n<pre><code>\n@PublicController\n@RequestMapping(&quot;/change-password&quot;)\n@SessionAttributes(&quot;changePasswordFormObject&quot;)\npublic class PublicChangePasswordController {\n\n    private SecurityService securityService;\n\n    @Autowired\n    public PublicChangePasswordController(SecurityService securityService) {\n        super();\n        this.securityService = securityService;\n    }\n\n    @InitBinder\n    public void initBinder(WebDataBinder binder) {\n        binder.setValidator(new ChangePasswordFormObjectValidator(securityService));\n    }\n\n    @RequestMapping(value = &quot;/change-password&quot;, method = RequestMethod.GET)\n    public ModelAndView display(WebRequest webRequest) {\n\n        String username = (String) webRequest.getAttribute(DefaultAuthenticationFailureHandler.PASSWORD_CHANGE_USERNAME, RequestAttributes.SCOPE_SESSION);\n\n        if (!StringUtils.hasText(username)) {\n            // Redirect if no username is found on the session - user must have accessed it directly\n            return new ModelAndView(&quot;redirect:/&quot;);\n        }\n\n        ChangePasswordFormObject formObject = new ChangePasswordFormObject();\n        formObject.setUsername(username);\n\n        ModelAndView modelAndView = new ModelAndView(&quot;change-password/change-password&quot;);\n        modelAndView.addObject(&quot;changePasswordFormObject&quot;, formObject);\n\n        return modelAndView;\n    }\n\n    @RequestMapping(value = &quot;/save&quot;, method = RequestMethod.POST)\n    public String changePassword(@ModelAttribute(&quot;changePasswordFormObject&quot;) @Valid ChangePasswordFormObject formObject, BindingResult bindingResult,\n            WebRequest webRequest, SessionStatus sessionStatus) throws Exception {\n\n        if (bindingResult.hasErrors()) {\n            return &quot;change-password/change-password&quot;;\n        }\n\n        ChangePasswordDetailsDto changePasswordDetailsDto = new ChangePasswordDetailsDto();\n        changePasswordDetailsDto.setUsername(formObject.getUsername());\n        changePasswordDetailsDto.setNewPassword(formObject.getNewPassword());\n\n        securityService.changePassword(changePasswordDetailsDto);\n\n        webRequest.removeAttribute(DefaultAuthenticationFailureHandler.PASSWORD_CHANGE_USERNAME, RequestAttributes.SCOPE_SESSION);\n        sessionStatus.setComplete();\n\n        return &quot;redirect:/&quot;;\n    }\n}\n</code></pre>\n<p>default public controller</p>\n<pre><code>@PublicController\n@RequestMapping(&quot;/*&quot;)\npublic class DefaultPublicController {\n\n    private String servletContext = &quot;public/&quot;;\n\n    @RequestMapping\n    public String handle(HttpServletRequest request) {\n        return request.getRequestURI().substring(request.getRequestURI().lastIndexOf(servletContext) + servletContext.length());\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","heroku","deployment","heroku-cli"],"comments":[{"owner":{"account_id":9337172,"reputation":1341,"user_id":6931023,"accept_rate":50,"display_name":"gladiator"},"score":0,"creation_date":1685076095,"post_id":76337631,"comment_id":134613523,"body_markdown":"Can you put full pom and logs ....check if you have added java 8 in heroku or not","body":"Can you put full pom and logs ....check if you have added java 8 in heroku or not"},{"owner":{"account_id":2184114,"reputation":659,"user_id":1932930,"accept_rate":40,"display_name":"tdemay"},"score":0,"creation_date":1689990956,"post_id":76337631,"comment_id":135294813,"body_markdown":"did you get this resolve? I&#39;m facing the same issue.","body":"did you get this resolve? I&#39;m facing the same issue."}],"owner":{"account_id":28683067,"reputation":1,"user_id":21963852,"display_name":"backjeckham"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685110622,"creation_date":1685074574,"question_id":76337631,"body_markdown":"\r\n\r\n&gt; [ERROR] Failed to execute goal\r\n&gt; org.apache.maven.plugins:maven-compiler-plugin:3.11.0:compile\r\n&gt; (default-compile) on project MurderMysteryCRUDWebApp: Fatal error\r\n&gt; compiling: invalid flag: --release -&gt; [Help 1]\r\n&gt;        [ERROR] \r\n&gt;        [ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\r\n&gt;        [ERROR] Re-run Maven using the -X switch to enable full debug logging.\r\n&gt;        [ERROR] \r\n&gt;        [ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n&gt;        [ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\r\n&gt; !     ERROR: Failed to build app with Maven\r\n&gt;        We&#39;re sorry this build is failing! If you can&#39;t find the issue in application code,\r\n&gt;        please submit a ticket so we can help: https://help.heroku.com/  !     Push rejected, failed to compile Java app.  !     Push failed\r\n\r\n\r\n**Here is my POM.XML file**\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.1.0&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;net.javaguides&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;MurderMysteryCRUDWebApp&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;MurderMysteryCRUDWebApp&lt;/name&gt;\r\n\t&lt;description&gt;Murder Mystery log using Spring Boot and Thymeleaf&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n\t\t&lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\r\n  \t\t&lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.mysql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n```\r\n\r\nGetting the error at the top when trying to deploy Java Spring Boot application using `Heroku`. Not sure what else to try. I am using the git connect option on `Heroku`.\r\n\r\n\r\nI&#39;ve tried everything I could from Stackoverflow, I have exhausted my options please help me, thank you.","title":"Error deploying Java Springboot web application using Heroku","body":"<blockquote>\n<p>[ERROR] Failed to execute goal\norg.apache.maven.plugins:maven-compiler-plugin:3.11.0:compile\n(default-compile) on project MurderMysteryCRUDWebApp: Fatal error\ncompiling: invalid flag: --release -&gt; [Help 1]\n[ERROR]\n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n[ERROR]\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] <a href=\"http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\" rel=\"nofollow noreferrer\">http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException</a>\n!     ERROR: Failed to build app with Maven\nWe're sorry this build is failing! If you can't find the issue in application code,\nplease submit a ticket so we can help: <a href=\"https://help.heroku.com/\" rel=\"nofollow noreferrer\">https://help.heroku.com/</a>  !     Push rejected, failed to compile Java app.  !     Push failed</p>\n</blockquote>\n<p><strong>Here is my POM.XML file</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.1.0&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;net.javaguides&lt;/groupId&gt;\n    &lt;artifactId&gt;MurderMysteryCRUDWebApp&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;MurderMysteryCRUDWebApp&lt;/name&gt;\n    &lt;description&gt;Murder Mystery log using Spring Boot and Thymeleaf&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n        &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n\n</code></pre>\n<p>Getting the error at the top when trying to deploy Java Spring Boot application using <code>Heroku</code>. Not sure what else to try. I am using the git connect option on <code>Heroku</code>.</p>\n<p>I've tried everything I could from Stackoverflow, I have exhausted my options please help me, thank you.</p>\n"},{"tags":["java","mocking","mockito","spy"],"answers":[{"comments":[{"owner":{"account_id":1529248,"reputation":92157,"user_id":1426891,"display_name":"Jeff Bowman"},"score":0,"creation_date":1513573287,"post_id":47835624,"comment_id":82689690,"body_markdown":"You should delete `= new Name()` from your `@Mock Name name`; Mockito will overwrite that value on initialization anyway.","body":"You should delete <code>= new Name()</code> from your <code>@Mock Name name</code>; Mockito will overwrite that value on initialization anyway."},{"owner":{"account_id":10319019,"reputation":141,"user_id":7612525,"display_name":"Jared Burgett"},"score":0,"creation_date":1513573548,"post_id":47835624,"comment_id":82689755,"body_markdown":"You&#39;re right, updated. Wasn&#39;t paying much attention to the variable declaration when I wrote this.","body":"You&#39;re right, updated. Wasn&#39;t paying much attention to the variable declaration when I wrote this."}],"tags":[],"owner":{"account_id":10319019,"reputation":141,"user_id":7612525,"display_name":"Jared Burgett"},"comment_count":2,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1513573559,"creation_date":1513352654,"answer_id":47835624,"question_id":47822542,"body_markdown":"While I&#39;d still like to know if there&#39;s a better way to do this, I&#39;d like to post a solution for anyone who comes looking. \r\n\r\nThe solution below works fine, by requiring you to create a new mock (or even a real object/spy) for each level of your dependencies. In other words, instead of chaining your method calls to create your stub, you mock each level individually. \r\n\r\n    @Spy private Person person = //retrieve person\r\n    @Mock private Name name;\r\n\r\n    @Test\r\n    public void testStubbed() {\r\n        doReturn(name).when(person).getName();\r\n        doReturn(&quot;Neil&quot;).when(name).getName();\r\n        assertEquals(&quot;Neil&quot;, person.getName().getFirstName());\r\n    }\r\n","title":"Equivalent of Answers.RETURNS_DEEP_STUBS for a spy in mockito","body":"<p>While I'd still like to know if there's a better way to do this, I'd like to post a solution for anyone who comes looking. </p>\n\n<p>The solution below works fine, by requiring you to create a new mock (or even a real object/spy) for each level of your dependencies. In other words, instead of chaining your method calls to create your stub, you mock each level individually. </p>\n\n<pre><code>@Spy private Person person = //retrieve person\n@Mock private Name name;\n\n@Test\npublic void testStubbed() {\n    doReturn(name).when(person).getName();\n    doReturn(\"Neil\").when(name).getName();\n    assertEquals(\"Neil\", person.getName().getFirstName());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1529248,"reputation":92157,"user_id":1426891,"display_name":"Jeff Bowman"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1513574991,"creation_date":1513574991,"answer_id":47862593,"question_id":47822542,"body_markdown":"You can get a little closer to the deep stubs you want by using `doAnswer(RETURNS_DEEP_STUBS)`, but you can&#39;t override arbitrarily-deep method calls without taking care to stub their parent calls. I&#39;d stick to manual single-level-deep mocks as you do in your answer, or use even less mocking if possible.\r\n\r\n---\r\n\r\nA spy&#39;s default behavior is to delegate to its real method call, which will typically return a real object (like your Name) and not a Mockito spy. This means that you won&#39;t normally be able to change those objects&#39; behavior using Mockito: a spy isn&#39;t really the same class as the object being spied on, but rather is a generated subclass where every field value is copied from the spied-on value. (The copying is an important feature, because a delegating spy would have very unintutitive behavior  regarding `this`, including for method calls and field values.)\r\n\r\n    Foo foo = new Foo();\r\n    foo.intValue = 42;\r\n    foo.someObject= new SomeObject();\r\n\r\n    Foo fooSpy = Mockito.spy(foo);\r\n    // Now fooSpy.intValue is 42, fooSpy.someObject refers to the exact same\r\n    // SomeObject instance, and all of fooSpy&#39;s non-final methods are overridden to\r\n    // delegate to Mockito&#39;s behavior. Importantly, SomeObject is not a spy, and\r\n    // Mockito cannot override its behavior!\r\n\r\nSo this won&#39;t work:\r\n\r\n    doReturn(&quot;Neil&quot;).when(person).getName().getFirstName();\r\n    //   Mockito thinks this call ^^^^^^^^^ should return &quot;Neil&quot;.\r\n\r\nAnd neither will this:\r\n\r\n    doReturn(&quot;Neil&quot;).when(person.getName()).getFirstName();\r\n    //    The object here ^^^^^^^^^^^^^^^^ won&#39;t be a mock, and even if Mockito\r\n    //    could automatically make it a mock, it&#39;s not clear whether that\r\n    //    should be the same spy instance every time or a new one every time.\r\n\r\nIn your situation, I&#39;d choose the following, in order from most preferable to least:\r\n\r\n 1. Create a real Name object and install it using `doReturn`. It looks like Name is a data object (aka value object) after all, which likely means it has no dependencies, solid behavior, and difficult-to-mock state transitions. You may not be gaining anything by mocking it.\r\n\r\n 2. Create a mock Name and install it [as you do in your answer](https://stackoverflow.com/a/47835624/1426891). This is particularly useful if Name is more complicated than it looks to be, or if it doesn&#39;t actually exist in the first place.\r\n\r\n 3. Replace getName to return a deep stub...\r\n\r\n        doAnswer(RETURNS_DEEP_STUBS).when(person).getName();\r\n\r\n    ...which you can then override...\r\n\r\n        doReturn(&quot;Neil&quot;).when(person.getName()).getFirstName();\r\n\r\n    ...even for arbitrarily deep values.\r\n\r\n        doReturn(&quot;Gaelic&quot;).when(person.getName()\r\n                                      .getEtymology()\r\n                                      .getFirstNameEtymology())\r\n            .getOrigin();\r\n\r\nAs a final editorial, one of the hazards of partial mocks is that it makes it really hard to tell which behavior is real and which is faked; this might make it hard for you to guarantee that the behavior you&#39;re testing is prod behavior and not mock behavior. Another hazard of deep stubbing is that you may be violating the [Law of Demeter](https://en.wikipedia.org/wiki/Law_of_Demeter) by definition. If you find yourself using this kind of technique often in tests, it may be time to consider rearchitecting your system under test.","title":"Equivalent of Answers.RETURNS_DEEP_STUBS for a spy in mockito","body":"<p>You can get a little closer to the deep stubs you want by using <code>doAnswer(RETURNS_DEEP_STUBS)</code>, but you can't override arbitrarily-deep method calls without taking care to stub their parent calls. I'd stick to manual single-level-deep mocks as you do in your answer, or use even less mocking if possible.</p>\n\n<hr>\n\n<p>A spy's default behavior is to delegate to its real method call, which will typically return a real object (like your Name) and not a Mockito spy. This means that you won't normally be able to change those objects' behavior using Mockito: a spy isn't really the same class as the object being spied on, but rather is a generated subclass where every field value is copied from the spied-on value. (The copying is an important feature, because a delegating spy would have very unintutitive behavior  regarding <code>this</code>, including for method calls and field values.)</p>\n\n<pre><code>Foo foo = new Foo();\nfoo.intValue = 42;\nfoo.someObject= new SomeObject();\n\nFoo fooSpy = Mockito.spy(foo);\n// Now fooSpy.intValue is 42, fooSpy.someObject refers to the exact same\n// SomeObject instance, and all of fooSpy's non-final methods are overridden to\n// delegate to Mockito's behavior. Importantly, SomeObject is not a spy, and\n// Mockito cannot override its behavior!\n</code></pre>\n\n<p>So this won't work:</p>\n\n<pre><code>doReturn(\"Neil\").when(person).getName().getFirstName();\n//   Mockito thinks this call ^^^^^^^^^ should return \"Neil\".\n</code></pre>\n\n<p>And neither will this:</p>\n\n<pre><code>doReturn(\"Neil\").when(person.getName()).getFirstName();\n//    The object here ^^^^^^^^^^^^^^^^ won't be a mock, and even if Mockito\n//    could automatically make it a mock, it's not clear whether that\n//    should be the same spy instance every time or a new one every time.\n</code></pre>\n\n<p>In your situation, I'd choose the following, in order from most preferable to least:</p>\n\n<ol>\n<li><p>Create a real Name object and install it using <code>doReturn</code>. It looks like Name is a data object (aka value object) after all, which likely means it has no dependencies, solid behavior, and difficult-to-mock state transitions. You may not be gaining anything by mocking it.</p></li>\n<li><p>Create a mock Name and install it <a href=\"https://stackoverflow.com/a/47835624/1426891\">as you do in your answer</a>. This is particularly useful if Name is more complicated than it looks to be, or if it doesn't actually exist in the first place.</p></li>\n<li><p>Replace getName to return a deep stub...</p>\n\n<pre><code>doAnswer(RETURNS_DEEP_STUBS).when(person).getName();\n</code></pre>\n\n<p>...which you can then override...</p>\n\n<pre><code>doReturn(\"Neil\").when(person.getName()).getFirstName();\n</code></pre>\n\n<p>...even for arbitrarily deep values.</p>\n\n<pre><code>doReturn(\"Gaelic\").when(person.getName()\n                              .getEtymology()\n                              .getFirstNameEtymology())\n    .getOrigin();\n</code></pre></li>\n</ol>\n\n<p>As a final editorial, one of the hazards of partial mocks is that it makes it really hard to tell which behavior is real and which is faked; this might make it hard for you to guarantee that the behavior you're testing is prod behavior and not mock behavior. Another hazard of deep stubbing is that you may be violating the <a href=\"https://en.wikipedia.org/wiki/Law_of_Demeter\" rel=\"nofollow noreferrer\">Law of Demeter</a> by definition. If you find yourself using this kind of technique often in tests, it may be time to consider rearchitecting your system under test.</p>\n"},{"comments":[{"owner":{"account_id":3509196,"reputation":16493,"user_id":2933977,"display_name":"stdunbar"},"score":0,"creation_date":1601994241,"post_id":64227059,"comment_id":113575147,"body_markdown":"Can you elaborate a bit on this answer?  It doesn&#39;t look like there is anything related to the original question.","body":"Can you elaborate a bit on this answer?  It doesn&#39;t look like there is anything related to the original question."}],"tags":[],"owner":{"account_id":19617210,"reputation":1,"user_id":14358405,"display_name":"Sreddy"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1601995984,"creation_date":1601991628,"answer_id":64227059,"question_id":47822542,"body_markdown":"    @Test\r\n\tpublic void listTypeTest() throws Exception {\r\n\t\tdoCallRealMethod().when(listType).setRecordCount(new BigInteger(&quot;556756756756&quot;));\r\n\t\tlistType.setRecordCount(new BigInteger(&quot;556756756756&quot;));\r\n\t\tdoCallRealMethod().when(listType).getRecordCount();\r\n\t\tassertEquals(new BigInteger(&quot;556756756756&quot;), listType.getRecordCount());\r\n\t}","title":"Equivalent of Answers.RETURNS_DEEP_STUBS for a spy in mockito","body":"<pre><code>@Test\npublic void listTypeTest() throws Exception {\n    doCallRealMethod().when(listType).setRecordCount(new BigInteger(&quot;556756756756&quot;));\n    listType.setRecordCount(new BigInteger(&quot;556756756756&quot;));\n    doCallRealMethod().when(listType).getRecordCount();\n    assertEquals(new BigInteger(&quot;556756756756&quot;), listType.getRecordCount());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1682228,"reputation":3337,"user_id":2011421,"accept_rate":88,"display_name":"Sergio"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685110574,"creation_date":1685110574,"answer_id":76341683,"question_id":47822542,"body_markdown":"TLDR: Just create a `Mock` with `Answers.RETURNS_DEEP_STUBS` for the first called object from the spy and stub the invocation(s) you need.\r\n\r\n```\r\n@Spy \r\nprivate Person person = new Person();\r\n\r\n@Mock(answer = Answers.RETURNS_DEEP_STUBS)\r\nprivate Name name;\r\n\r\n@Test\r\npublic void testStubbed() {\r\n    doReturn(name).when(person).getName();\r\n    when(name.getX().getY().getZ().getFirstName()).thenReturn(&quot;Neil&quot;);\r\n    assertEquals(&quot;Neil&quot;, name.getX().getY().getZ().getFirstName());   \r\n}\r\n```","title":"Equivalent of Answers.RETURNS_DEEP_STUBS for a spy in mockito","body":"<p>TLDR: Just create a <code>Mock</code> with <code>Answers.RETURNS_DEEP_STUBS</code> for the first called object from the spy and stub the invocation(s) you need.</p>\n<pre><code>@Spy \nprivate Person person = new Person();\n\n@Mock(answer = Answers.RETURNS_DEEP_STUBS)\nprivate Name name;\n\n@Test\npublic void testStubbed() {\n    doReturn(name).when(person).getName();\n    when(name.getX().getY().getZ().getFirstName()).thenReturn(&quot;Neil&quot;);\n    assertEquals(&quot;Neil&quot;, name.getX().getY().getZ().getFirstName());   \n}\n</code></pre>\n"}],"owner":{"account_id":10319019,"reputation":141,"user_id":7612525,"display_name":"Jared Burgett"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9682,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":4,"score":8,"last_activity_date":1685110574,"creation_date":1513287941,"question_id":47822542,"body_markdown":"I have been unable to find a way to use &quot;Deep Stubs&quot; for stubbing methods on a spy in Mockito. What I&#39;m looking to do is something like this:\r\n\r\n    @Spy private Person person = //retrieve person\r\n    \r\n        @Test\r\n        public void testStubbed() {\r\n        \tdoReturn(&quot;Neil&quot;).when(person).getName().getFirstName();\r\n        \tassertEquals(&quot;Neil&quot;, person.getName().getFirstName());\r\n        }\r\n\r\nThe code above compiles with no issues, but upon running the test, it fails saying that the return type (the Name class, in this case) cannot be returned by getName(). \r\n\r\nNormally, when mocking, you have to use  \r\n`@Mock(answer = Answers.RETURNS_DEEP_STUBS)` for each mocked object. However, spy does not seem to have anything like this. \r\n\r\nHas anyone ever successfully done deep stubbed mocking using a spy?\r\n\r\nThe error I&#39;m receiving is listed below:\r\n\r\n    String cannot be returned by getName()\r\n    getName() should return Name\r\n    \r\n    Due to the nature of the syntax above problem might occur because of:\r\n    1. Multithreaded testing \r\n    //I&#39;m not doing multithreaded testing\r\n    2. A spy is stubbed using when(spy.foo()).then() syntax. It is safer to stub spies with doReturn|Throw() family of methods \r\n    //As shown above, I&#39;m already using the doReturn family of methods. ","title":"Equivalent of Answers.RETURNS_DEEP_STUBS for a spy in mockito","body":"<p>I have been unable to find a way to use \"Deep Stubs\" for stubbing methods on a spy in Mockito. What I'm looking to do is something like this:</p>\n\n<pre><code>@Spy private Person person = //retrieve person\n\n    @Test\n    public void testStubbed() {\n        doReturn(\"Neil\").when(person).getName().getFirstName();\n        assertEquals(\"Neil\", person.getName().getFirstName());\n    }\n</code></pre>\n\n<p>The code above compiles with no issues, but upon running the test, it fails saying that the return type (the Name class, in this case) cannot be returned by getName(). </p>\n\n<p>Normally, when mocking, you have to use<br>\n<code>@Mock(answer = Answers.RETURNS_DEEP_STUBS)</code> for each mocked object. However, spy does not seem to have anything like this. </p>\n\n<p>Has anyone ever successfully done deep stubbed mocking using a spy?</p>\n\n<p>The error I'm receiving is listed below:</p>\n\n<pre><code>String cannot be returned by getName()\ngetName() should return Name\n\nDue to the nature of the syntax above problem might occur because of:\n1. Multithreaded testing \n//I'm not doing multithreaded testing\n2. A spy is stubbed using when(spy.foo()).then() syntax. It is safer to stub spies with doReturn|Throw() family of methods \n//As shown above, I'm already using the doReturn family of methods. \n</code></pre>\n"},{"tags":["java","android","amazon-web-services","native","bitnami"],"owner":{"account_id":28685511,"reputation":1,"user_id":21965879,"display_name":"Debajyoti Das"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":12,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685110260,"creation_date":1685101377,"question_id":76340478,"body_markdown":"What change can I made in gradle build files so that I connect the parse server from aws EC2 bitnami in my new flamingo version of Android studio?\r\n\r\n\r\n\r\nI tried from previous courses codes but it gives error and I searched youtubes as well for this but these codes also not works","title":"How to get rid off error in gradle files in new flamingo version of Android studio to connect bitnami perse server from AWS","body":"<p>What change can I made in gradle build files so that I connect the parse server from aws EC2 bitnami in my new flamingo version of Android studio?</p>\n<p>I tried from previous courses codes but it gives error and I searched youtubes as well for this but these codes also not works</p>\n"},{"tags":["java","interface","implementation","abstraction"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1685081542,"post_id":76338039,"comment_id":134614116,"body_markdown":"an abstract can have implemented methods. It just can&#39;t be instantiated, unless through a subclass.","body":"an abstract can have implemented methods. It just can&#39;t be instantiated, unless through a subclass."},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1685081599,"post_id":76338039,"comment_id":134614124,"body_markdown":"actually, that answer is a bit out-of-date. interfaces can now also contain implemented (default) methods","body":"actually, that answer is a bit out-of-date. interfaces can now also contain implemented (default) methods"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1685082382,"post_id":76338039,"comment_id":134614236,"body_markdown":"&quot;*an abstract class is one which has no body (implementation)*&quot; is not correct, probably it was meant to be &quot;*an abstract **method** is one which has no body (implementation)*&quot; - a class always have a body and at least a default constructor (eventually empty) || and &#39; *&quot;abstract&quot; literally means &quot;no body&quot;* &#39; is wrong || Java Language Specification [8.1.1.1. abstract Classes](https://docs.oracle.com/javase/specs/jls/se20/html/jls-8.html#jls-8.1.1.1): &quot;An abstract class is a class that is incomplete, or to be considered incomplete.&quot;","body":"&quot;<i>an abstract class is one which has no body (implementation)</i>&quot; is not correct, probably it was meant to be &quot;<i>an abstract <b>method</b> is one which has no body (implementation)</i>&quot; - a class always have a body and at least a default constructor (eventually empty) || and &#39; <i>&quot;abstract&quot; literally means &quot;no body&quot;</i> &#39; is wrong || Java Language Specification <a href=\"https://docs.oracle.com/javase/specs/jls/se20/html/jls-8.html#jls-8.1.1.1\" rel=\"nofollow noreferrer\">8.1.1.1. abstract Classes</a>: &quot;An abstract class is a class that is incomplete, or to be considered incomplete.&quot;"},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1685083475,"post_id":76338039,"comment_id":134614425,"body_markdown":"&quot;_whereas an INTERFACE contains ONLY abstract methods_&quot; – Not only is this wrong because interfaces can have `default` methods since Java 8, as mentioned previously, but interfaces can also have `private` concrete methods since Java 9 (note a private method can never be abstract). And that&#39;s ignoring the fact that interfaces can have `static` methods, though I suppose that&#39;s tangential to the concept, as static methods can never be abstract, and they aren&#39;t polymorphic.","body":"&quot;<i>whereas an INTERFACE contains ONLY abstract methods</i>&quot; – Not only is this wrong because interfaces can have <code>default</code> methods since Java 8, as mentioned previously, but interfaces can also have <code>private</code> concrete methods since Java 9 (note a private method can never be abstract). And that&#39;s ignoring the fact that interfaces can have <code>static</code> methods, though I suppose that&#39;s tangential to the concept, as static methods can never be abstract, and they aren&#39;t polymorphic."}],"answers":[{"tags":[],"owner":{"account_id":10408148,"reputation":1398,"user_id":7674438,"accept_rate":100,"display_name":"Lore"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685095281,"creation_date":1685095281,"answer_id":76339729,"question_id":76338039,"body_markdown":"Because in Java isn&#39;t used the literal meaning that you assign.\r\n\r\nPlease see [online references][1]:\r\n\r\n&gt; Data abstraction is the process of hiding certain details and showing\r\n&gt; only essential information to the user. Abstraction can be achieved\r\n&gt; with either abstract classes or interfaces (which you will learn more\r\n&gt; about in the next chapter).\r\n&gt; \r\n&gt; The abstract keyword is a non-access modifier, used for classes and\r\n&gt; methods:\r\n&gt; \r\n&gt; Abstract class: is a restricted class that cannot be used to create\r\n&gt; objects (to access it, it must be inherited from another class).\r\n&gt; \r\n&gt; Abstract method: can only be used in an abstract class, and it does\r\n&gt; not have a body. The body is provided by the subclass (inherited\r\n&gt; from). An abstract class can have both abstract and regular methods\r\n\r\n\r\n  [1]: https://www.w3schools.com/java/java_abstract.asp","title":"If an abstract class is one which has no body (implementation) then how is it that it can also contain regular (implemented) methods?","body":"<p>Because in Java isn't used the literal meaning that you assign.</p>\n<p>Please see <a href=\"https://www.w3schools.com/java/java_abstract.asp\" rel=\"nofollow noreferrer\">online references</a>:</p>\n<blockquote>\n<p>Data abstraction is the process of hiding certain details and showing\nonly essential information to the user. Abstraction can be achieved\nwith either abstract classes or interfaces (which you will learn more\nabout in the next chapter).</p>\n<p>The abstract keyword is a non-access modifier, used for classes and\nmethods:</p>\n<p>Abstract class: is a restricted class that cannot be used to create\nobjects (to access it, it must be inherited from another class).</p>\n<p>Abstract method: can only be used in an abstract class, and it does\nnot have a body. The body is provided by the subclass (inherited\nfrom). An abstract class can have both abstract and regular methods</p>\n</blockquote>\n"}],"owner":{"account_id":24772077,"reputation":1,"user_id":18655762,"display_name":"JDANDE"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1685110181,"answer_count":1,"score":0,"last_activity_date":1685110239,"creation_date":1685081120,"question_id":76338039,"body_markdown":"So I came across this line while studying abstraction in Java: \r\nABSTRACT CLASSES can also contain implemented methods ( aka regular methods) whereas an INTERFACE contains ONLY abstract methods ( methods that are not implemented yet).\r\n\r\n\r\n\r\nBut if &quot;abstract&quot; literally means &quot;no body&quot;, then how is it that the implementation of regular methods can be given in the abstract classes?","title":"If an abstract class is one which has no body (implementation) then how is it that it can also contain regular (implemented) methods?","body":"<p>So I came across this line while studying abstraction in Java:\nABSTRACT CLASSES can also contain implemented methods ( aka regular methods) whereas an INTERFACE contains ONLY abstract methods ( methods that are not implemented yet).</p>\n<p>But if &quot;abstract&quot; literally means &quot;no body&quot;, then how is it that the implementation of regular methods can be given in the abstract classes?</p>\n"},{"tags":["java","intellij-idea","homebrew"],"answers":[{"tags":[],"owner":{"account_id":19474153,"reputation":43,"user_id":14245845,"display_name":"Dilyan Galabov"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1635249447,"creation_date":1635249447,"answer_id":69722688,"question_id":69722604,"body_markdown":"IntelliJ has only JDK&#39;s which are installed by the IDE, so if you want to see them all you must add them externally. Here is a link which can help - https://www.jetbrains.com/help/idea/sdk.html#change-project-sdk.","title":"Choose necessary JDK for IntelliJ IDEA","body":"<p>IntelliJ has only JDK's which are installed by the IDE, so if you want to see them all you must add them externally. Here is a link which can help - <a href=\"https://www.jetbrains.com/help/idea/sdk.html#change-project-sdk\" rel=\"nofollow noreferrer\">https://www.jetbrains.com/help/idea/sdk.html#change-project-sdk</a>.</p>\n"},{"comments":[{"owner":{"account_id":18687930,"reputation":325,"user_id":13622993,"display_name":"Nakarukatoshi Uzumaki"},"score":0,"creation_date":1635249942,"post_id":69722702,"comment_id":123241202,"body_markdown":"Intellij *does* scan your hard drive, and it&#39;s shown in the picture.","body":"Intellij <i>does</i> scan your hard drive, and it&#39;s shown in the picture."},{"owner":{"account_id":2818342,"reputation":299906,"user_id":2422776,"display_name":"Mureinik"},"score":0,"creation_date":1635250606,"post_id":69722702,"comment_id":123241539,"body_markdown":"@NakarukatoshiUzumaki those are the files in a JDK I already have added","body":"@NakarukatoshiUzumaki those are the files in a JDK I already have added"},{"owner":{"account_id":18687930,"reputation":325,"user_id":13622993,"display_name":"Nakarukatoshi Uzumaki"},"score":0,"creation_date":1635260446,"post_id":69722702,"comment_id":123246456,"body_markdown":"Oh, really? My fault, I thought that were detected by the IDE because of the &quot;Detected&quot; label HAHAHA. Thanks for clarifying it!","body":"Oh, really? My fault, I thought that were detected by the IDE because of the &quot;Detected&quot; label HAHAHA. Thanks for clarifying it!"}],"tags":[],"owner":{"account_id":2818342,"reputation":299906,"user_id":2422776,"display_name":"Mureinik"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1635249498,"creation_date":1635249498,"answer_id":69722702,"question_id":69722604,"body_markdown":"IntelliJ doesn&#39;t scan your hard drive for JDKs, so you need to &quot;register&quot; every JDK you want to use.\r\n\r\nGo to File -&gt; Project Structure -&gt; SDKs, and then click the &quot;+&quot; icon above the list of SDKs. Choose &quot;Add JDK&quot; and then navigate it to the location the JDK you want to use is installed:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/gr8yz.png","title":"Choose necessary JDK for IntelliJ IDEA","body":"<p>IntelliJ doesn't scan your hard drive for JDKs, so you need to &quot;register&quot; every JDK you want to use.</p>\n<p>Go to File -&gt; Project Structure -&gt; SDKs, and then click the &quot;+&quot; icon above the list of SDKs. Choose &quot;Add JDK&quot; and then navigate it to the location the JDK you want to use is installed:</p>\n<p><a href=\"https://i.stack.imgur.com/gr8yz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gr8yz.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":740820,"reputation":47963,"user_id":2353911,"accept_rate":100,"display_name":"Mena"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635249667,"creation_date":1635249667,"answer_id":69722740,"question_id":69722604,"body_markdown":"Workaround here, as this is pretty convoluted. \r\n\r\nYou seem to be trying to set up a specific JRE to run Maven. \r\n\r\nThe list of available JDKs/JREs is the same as the one available in your project-specific settings. \r\n\r\nYou can open those by pressing F12 when highlighting the root folder (or any folder) in your project in the file tree on the left panel. \r\n\r\nFrom there, you should see a modal that lists, among other things, a &quot;Platform settings -&gt; SDKs&quot; menu. \r\n\r\nFinally, you can add your local JDKs (and therefore JREs) based on their location in your file system. \r\n\r\n[![enter image description here][1]][1]\r\n\r\nFinally, go back to your maven settings and pick the correct one from the list. \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/JX5O1.png","title":"Choose necessary JDK for IntelliJ IDEA","body":"<p>Workaround here, as this is pretty convoluted.</p>\n<p>You seem to be trying to set up a specific JRE to run Maven.</p>\n<p>The list of available JDKs/JREs is the same as the one available in your project-specific settings.</p>\n<p>You can open those by pressing F12 when highlighting the root folder (or any folder) in your project in the file tree on the left panel.</p>\n<p>From there, you should see a modal that lists, among other things, a &quot;Platform settings -&gt; SDKs&quot; menu.</p>\n<p>Finally, you can add your local JDKs (and therefore JREs) based on their location in your file system.</p>\n<p><a href=\"https://i.stack.imgur.com/JX5O1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JX5O1.png\" alt=\"enter image description here\" /></a></p>\n<p>Finally, go back to your maven settings and pick the correct one from the list.</p>\n"}],"owner":{"account_id":15345283,"reputation":105,"user_id":11160974,"display_name":"Programmer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2114,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1685110186,"creation_date":1635249131,"question_id":69722604,"body_markdown":"I have a lot of JDK versions installed by `Homebrew`\r\n\r\nI check it with command `jenv versions` \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nBut when I open IntelliJ Idea settings, I see only one JDK \r\n[![enter image description here][2]][2]\r\n\r\nWhat should I do if I want to choose all of the possible JDK&#39;s installed on my laptop?\r\n\r\n  [1]: https://i.stack.imgur.com/FqH0B.png\r\n  [2]: https://i.stack.imgur.com/veeJG.png","title":"Choose necessary JDK for IntelliJ IDEA","body":"<p>I have a lot of JDK versions installed by <code>Homebrew</code></p>\n<p>I check it with command <code>jenv versions</code></p>\n<p><a href=\"https://i.stack.imgur.com/FqH0B.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FqH0B.png\" alt=\"enter image description here\" /></a></p>\n<p>But when I open IntelliJ Idea settings, I see only one JDK\n<a href=\"https://i.stack.imgur.com/veeJG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/veeJG.png\" alt=\"enter image description here\" /></a></p>\n<p>What should I do if I want to choose all of the possible JDK's installed on my laptop?</p>\n"},{"tags":["java","hibernate","hibernate-mapping"],"owner":{"account_id":25499801,"reputation":3,"user_id":19293271,"display_name":"Roi Tiefenbrunn"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":14,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685109963,"creation_date":1685109963,"question_id":76341593,"body_markdown":"I&#39;m trying to build Entity relationship using Java Hibernate and I&#39;m getting some difficulties setting a `@OneToMany` Map field.\r\n\r\nThis is roughly my set-up:\r\n\r\n# Class Store\r\n\r\n\r\n```\r\n@Entity\r\npublic class Store {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private long id;\r\n\r\n    private String name;\r\n\r\n    @OneToMany(cascade = CascadeType.ALL, mappedBy = &quot;key.store&quot;, fetch = FetchType.LAZY)\r\n    @MapKey(name = &quot;key.id&quot;)\r\n    private Map&lt;Long, Product&gt; products;\r\n...\r\n}\r\n```\r\nA store can have many products. \r\n\r\n# Class Product\r\n```\r\n@Entity\r\npublic class Product {\r\n    @EmbeddedId\r\n    private ProductKey key;\r\n\r\n    private String name;\r\n\r\n    private double price;\r\n...\r\n}\r\n```\r\n# Class ProductKey\r\n```\r\n@Embeddable\r\npublic class ProductKey implements Serializable {\r\n    private static int ID_COUNTER = 0;\r\n\r\n    @OneToOne(fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;store_id&quot;, nullable = false)\r\n    private Store store;\r\n\r\n    @Column(name = &quot;product_id&quot;)\r\n    private Integer id;\r\n...\r\n}\r\n```\r\nEach product can belong to one store only - hence the `@OneToOne` relationship here. It also has its own ID.\r\n\r\n# Class Basket\r\n```\r\n@Entity\r\npublic class Basket {\r\n    @EmbeddeId\r\n    private BasketKey key;\r\n\r\n    @OneToMany(mappedBy = &quot;key.basket&quot;, cascade = CascadeType.ALL, fetch = FetchType.LAZY)\r\n    @MapKeyJoinColumn(name = &quot;product_id&quot;)\r\n    private Map&lt;Integer, BaskedProduct&gt; products;\r\n...\r\n}\r\n```\r\n# Class BasketKey\r\n```\r\n@Embeddable\r\npublic class BasketKey implements Serializable {\r\n    @OneToOne\r\n    @JoinColumn(name = &quot;store_id&quot;, nullable = false)\r\n    private Store store;\r\n\r\n    @OneToOne\r\n    @JoinColumn(name = &quot;user_name&quot;, nullable = false)\r\n    private User user;\r\n...\r\n}\r\n```\r\nEach basket belongs to one user and one store. \r\n\r\n# Class BaskedProduct\r\n```\r\n@Entity\r\npublic class BaskedProduct {\r\n    @EmbeddedId\r\n    private BaskedProductKey key;\r\n\r\n    private int quantity;\r\n...\r\n}\r\n```\r\n# Class BaskedProductKey\r\n```\r\n@Embeddable\r\npublic class BaskedProductKey implements Serializable {\r\n    @ManyToOne\r\n    @JoinColumns({\r\n            @JoinColumn(name = &quot;product_id&quot;, referencedColumnName = &quot;product_id&quot;),\r\n            @JoinColumn(name = &quot;store_id&quot;, referencedColumnName = &quot;store_id&quot;)\r\n    })\r\n    private Product product;\r\n\r\n    @ManyToOne\r\n    @JoinColumns({\r\n        @JoinColumn(name = &quot;basket_store_id&quot;, referencedColumnName = &quot;store_id&quot;),\r\n        @JoinColumn(name = &quot;basket_cart_username&quot;, referencedColumnName = &quot;cart_user_name&quot;)\r\n    })\r\n    private Basket basket;\r\n...\r\n}\r\n```\r\nBaskedProduct represents copied of chosen product that a user has added to his relevant basket. \r\n\r\nI have a problem with the `products` field of class `Basket`. I want to map product ID to the BaskedProduct. But the `@MapKeyJoinColumn` attribute adds a `products_key` column to the `baskedproducts` table instead of retrieving data from the table.\r\nWhat did I do wrong and how can I fix this?\r\n","title":"How do I fix the @MapKeyJoinColumn attribute adding a products_key column in Hibernate Java mapping?","body":"<p>I'm trying to build Entity relationship using Java Hibernate and I'm getting some difficulties setting a <code>@OneToMany</code> Map field.</p>\n<p>This is roughly my set-up:</p>\n<h1>Class Store</h1>\n<pre><code>@Entity\npublic class Store {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private long id;\n\n    private String name;\n\n    @OneToMany(cascade = CascadeType.ALL, mappedBy = &quot;key.store&quot;, fetch = FetchType.LAZY)\n    @MapKey(name = &quot;key.id&quot;)\n    private Map&lt;Long, Product&gt; products;\n...\n}\n</code></pre>\n<p>A store can have many products.</p>\n<h1>Class Product</h1>\n<pre><code>@Entity\npublic class Product {\n    @EmbeddedId\n    private ProductKey key;\n\n    private String name;\n\n    private double price;\n...\n}\n</code></pre>\n<h1>Class ProductKey</h1>\n<pre><code>@Embeddable\npublic class ProductKey implements Serializable {\n    private static int ID_COUNTER = 0;\n\n    @OneToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;store_id&quot;, nullable = false)\n    private Store store;\n\n    @Column(name = &quot;product_id&quot;)\n    private Integer id;\n...\n}\n</code></pre>\n<p>Each product can belong to one store only - hence the <code>@OneToOne</code> relationship here. It also has its own ID.</p>\n<h1>Class Basket</h1>\n<pre><code>@Entity\npublic class Basket {\n    @EmbeddeId\n    private BasketKey key;\n\n    @OneToMany(mappedBy = &quot;key.basket&quot;, cascade = CascadeType.ALL, fetch = FetchType.LAZY)\n    @MapKeyJoinColumn(name = &quot;product_id&quot;)\n    private Map&lt;Integer, BaskedProduct&gt; products;\n...\n}\n</code></pre>\n<h1>Class BasketKey</h1>\n<pre><code>@Embeddable\npublic class BasketKey implements Serializable {\n    @OneToOne\n    @JoinColumn(name = &quot;store_id&quot;, nullable = false)\n    private Store store;\n\n    @OneToOne\n    @JoinColumn(name = &quot;user_name&quot;, nullable = false)\n    private User user;\n...\n}\n</code></pre>\n<p>Each basket belongs to one user and one store.</p>\n<h1>Class BaskedProduct</h1>\n<pre><code>@Entity\npublic class BaskedProduct {\n    @EmbeddedId\n    private BaskedProductKey key;\n\n    private int quantity;\n...\n}\n</code></pre>\n<h1>Class BaskedProductKey</h1>\n<pre><code>@Embeddable\npublic class BaskedProductKey implements Serializable {\n    @ManyToOne\n    @JoinColumns({\n            @JoinColumn(name = &quot;product_id&quot;, referencedColumnName = &quot;product_id&quot;),\n            @JoinColumn(name = &quot;store_id&quot;, referencedColumnName = &quot;store_id&quot;)\n    })\n    private Product product;\n\n    @ManyToOne\n    @JoinColumns({\n        @JoinColumn(name = &quot;basket_store_id&quot;, referencedColumnName = &quot;store_id&quot;),\n        @JoinColumn(name = &quot;basket_cart_username&quot;, referencedColumnName = &quot;cart_user_name&quot;)\n    })\n    private Basket basket;\n...\n}\n</code></pre>\n<p>BaskedProduct represents copied of chosen product that a user has added to his relevant basket.</p>\n<p>I have a problem with the <code>products</code> field of class <code>Basket</code>. I want to map product ID to the BaskedProduct. But the <code>@MapKeyJoinColumn</code> attribute adds a <code>products_key</code> column to the <code>baskedproducts</code> table instead of retrieving data from the table.\nWhat did I do wrong and how can I fix this?</p>\n"},{"tags":["java","web-services","unit-testing","jersey","jax-rs"],"comments":[{"owner":{"account_id":3436929,"reputation":2608,"user_id":2879838,"display_name":"David Fleeman"},"score":0,"creation_date":1418349313,"post_id":27430052,"comment_id":43312168,"body_markdown":"Simply use a mocking framework like EasyMock or JMock.  I&#39;ll try to provide an answer with example later.","body":"Simply use a mocking framework like EasyMock or JMock.  I&#39;ll try to provide an answer with example later."},{"owner":{"account_id":2404390,"reputation":7871,"user_id":2101290,"accept_rate":8,"display_name":"Balaji Boggaram Ramanarayan"},"score":0,"creation_date":1418351941,"post_id":27430052,"comment_id":43312758,"body_markdown":"I am not sure what you are trying to indicate here ? I have seen people using @Inject CDI as dependency injection and in our tests, we can use Mockito.* to mock them. But I had issues with CDI + JAX-RS Jersey. I would appreciate if you could provide an example ? Thanks","body":"I am not sure what you are trying to indicate here ? I have seen people using @Inject CDI as dependency injection and in our tests, we can use Mockito.* to mock them. But I had issues with CDI + JAX-RS Jersey. I would appreciate if you could provide an example ? Thanks"},{"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"score":0,"creation_date":1418393077,"post_id":27430052,"comment_id":43329514,"body_markdown":"What Jersey version are you using?","body":"What Jersey version are you using?"}],"answers":[{"comments":[{"owner":{"account_id":2404390,"reputation":7871,"user_id":2101290,"accept_rate":8,"display_name":"Balaji Boggaram Ramanarayan"},"score":0,"creation_date":1418686400,"post_id":27447345,"comment_id":43421871,"body_markdown":"what is in GreetingResource.java ?","body":"what is in GreetingResource.java ?"},{"owner":{"account_id":2404390,"reputation":7871,"user_id":2101290,"accept_rate":8,"display_name":"Balaji Boggaram Ramanarayan"},"score":0,"creation_date":1418687183,"post_id":27447345,"comment_id":43422176,"body_markdown":"Somehow, The mocking is not successful in my case. In the unit test you wrote, its not mocking the .getGreeting method .","body":"Somehow, The mocking is not successful in my case. In the unit test you wrote, its not mocking the .getGreeting method ."},{"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"score":0,"creation_date":1418695795,"post_id":27447345,"comment_id":43424419,"body_markdown":"Look at the whole test. `GreetingResource` is the resource class. In the code I wrote, it _is_ mocking the `GreetingService`. `GreetingService` is simple an interface that is injected into `GreetingResource`. The `Factory` creates the mocked instance, and the binder binds the factory to the `GreetingService` so that when a `GreetingService` is used, the mocked instance will be injected. Please run the entire test. If it wasn&#39;t mocked, then you wouldn&#39;t see any result.","body":"Look at the whole test. <code>GreetingResource</code> is the resource class. In the code I wrote, it <i>is</i> mocking the <code>GreetingService</code>. <code>GreetingService</code> is simple an interface that is injected into <code>GreetingResource</code>. The <code>Factory</code> creates the mocked instance, and the binder binds the factory to the <code>GreetingService</code> so that when a <code>GreetingService</code> is used, the mocked instance will be injected. Please run the entire test. If it wasn&#39;t mocked, then you wouldn&#39;t see any result."},{"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"score":0,"creation_date":1418696333,"post_id":27447345,"comment_id":43424555,"body_markdown":"In the test, you will see (in this order - please examine the closely) (1) `GreetingResource` (the Jax-RS resource class) (2) A simple interface `GreetingService` (that is what is being injected) (3) The `Factory` class, that mocks the `GreetingService`. (4) The application configuration where the `AbstractBinder` will bind the factory to the `GreetingService`. (5) The test. Please let me know if there is something else specific you don&#39;t understand about the test. It works fine for me, how it supposed to","body":"In the test, you will see (in this order - please examine the closely) (1) <code>GreetingResource</code> (the Jax-RS resource class) (2) A simple interface <code>GreetingService</code> (that is what is being injected) (3) The <code>Factory</code> class, that mocks the <code>GreetingService</code>. (4) The application configuration where the <code>AbstractBinder</code> will bind the factory to the <code>GreetingService</code>. (5) The test. Please let me know if there is something else specific you don&#39;t understand about the test. It works fine for me, how it supposed to"},{"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"score":0,"creation_date":1418697033,"post_id":27447345,"comment_id":43424714,"body_markdown":"If you run the test exactly how it is right now, if the result shows as `&quot;Hello peeskillet&quot;`, then that means the mocking was successful.","body":"If you run the test exactly how it is right now, if the result shows as <code>&quot;Hello peeskillet&quot;</code>, then that means the mocking was successful."},{"owner":{"account_id":4173319,"reputation":724,"user_id":3420578,"accept_rate":88,"display_name":"bobK"},"score":0,"creation_date":1436969199,"post_id":27447345,"comment_id":50835778,"body_markdown":"Does this also work in spring? I don&#39;t seem to go into the provide method in my own test. The example works great","body":"Does this also work in spring? I don&#39;t seem to go into the provide method in my own test. The example works great"},{"owner":{"account_id":114038,"reputation":4244,"user_id":300053,"display_name":"eskatos"},"score":1,"creation_date":1442305870,"post_id":27447345,"comment_id":53016504,"body_markdown":"Only one added dependency: the mocking tool. This answer is the good one if you only use Jersey and don&#39;t want to add another tool on top of it.","body":"Only one added dependency: the mocking tool. This answer is the good one if you only use Jersey and don&#39;t want to add another tool on top of it."},{"owner":{"account_id":94749,"reputation":2530,"user_id":258510,"accept_rate":75,"display_name":"P&#229;lOliver"},"score":0,"creation_date":1473322112,"post_id":27447345,"comment_id":66098315,"body_markdown":"Tried this but the when(...) statement had no effect on the mock. Moved the when(...) statement to the configure()-method and it worked. Not as elegant anymore...","body":"Tried this but the when(...) statement had no effect on the mock. Moved the when(...) statement to the configure()-method and it worked. Not as elegant anymore..."},{"owner":{"account_id":13728343,"reputation":136,"user_id":9906473,"display_name":"Derek"},"score":0,"creation_date":1551451951,"post_id":27447345,"comment_id":96656874,"body_markdown":"I had to change &quot;protected configure() {&quot; to &quot;public void configure()&quot; in order for this to work.","body":"I had to change &quot;protected configure() {&quot; to &quot;public void configure()&quot; in order for this to work."},{"owner":{"account_id":12810928,"reputation":2458,"user_id":9269177,"display_name":"Debargha Roy"},"score":0,"creation_date":1612783165,"post_id":27447345,"comment_id":116865170,"body_markdown":"A point worth considering is, the mocks should be initialized as part of the the `configure` or the `configureDeployment` method and not method annotated with `@Before`","body":"A point worth considering is, the mocks should be initialized as part of the the <code>configure</code> or the <code>configureDeployment</code> method and not method annotated with <code>@Before</code>"}],"tags":[],"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"comment_count":10,"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1685109531,"creation_date":1418399774,"answer_id":27447345,"question_id":27430052,"body_markdown":"**See Update below: You don&#39;t need a `Factory`**\r\n\r\n----\r\n\r\nIf you are using Jersey 2, one solution would be to use [Custom Injection and Lifecycle Management](https://jersey.java.net/documentation/latest/ioc.html) feature (with [HK2](https://hk2.java.net/2.4.0-b07/) - which comes with the Jersey dist). Also required would be a Mocking framework of course. I&#39;m going to use Mockito.\r\n\r\nFirst create a Factory with mocked instance:\r\n\r\n    public static interface GreetingService {\r\n        public String getGreeting(String name);\r\n    }\r\n\r\n    public static class MockGreetingServiceFactory \r\n                                         implements Factory&lt;GreetingService&gt; {\r\n        @Override\r\n        public GreetingService provide() {\r\n            final GreetingService mockedService\r\n                    = Mockito.mock(GreetingService.class);\r\n            Mockito.when(mockedService.getGreeting(Mockito.anyString()))\r\n                    .thenAnswer(new Answer&lt;String&gt;() {\r\n                        @Override\r\n                        public String answer(InvocationOnMock invocation) \r\n                                                          throws Throwable {\r\n                            String name = (String)invocation.getArguments()[0];\r\n                            return &quot;Hello &quot; + name;\r\n                        }\r\n\r\n                    });\r\n            return mockedService;\r\n        }\r\n\r\n        @Override\r\n        public void dispose(GreetingService t) {}\r\n    }\r\n\r\nThen use the `AbstractBinder` to bind the factory to the interface/service class, and register the binder. (It&#39;s all described in the link above):\r\n\r\n    @Override\r\n    public Application configure() {\r\n        AbstractBinder binder = new AbstractBinder() {\r\n            @Override\r\n            protected void configure() {\r\n                bindFactory(MockGreetingServiceFactory.class)\r\n                                   .to(GreetingService.class);\r\n            }\r\n        };\r\n        ResourceConfig config = new ResourceConfig(GreetingResource.class);\r\n        config.register(binder);\r\n        return config;\r\n    }\r\n\r\nSeems like a lot, but it&#39;s just an option. I&#39;m not too familiar with the test framework, or if it has an mocking capabilities for injection.\r\n\r\nHere is the full test:\r\n\r\n    import javax.inject.Inject;\r\n    import javax.ws.rs.GET;\r\n    import javax.ws.rs.Path;\r\n    import javax.ws.rs.Produces;\r\n    import javax.ws.rs.QueryParam;\r\n    import javax.ws.rs.client.Client;\r\n    import javax.ws.rs.client.ClientBuilder;\r\n    import javax.ws.rs.core.Application;\r\n    import javax.ws.rs.core.MediaType;\r\n    import javax.ws.rs.core.Response;\r\n    import org.glassfish.hk2.api.Factory;\r\n    import org.glassfish.hk2.utilities.binding.AbstractBinder;\r\n    import org.glassfish.jersey.server.ResourceConfig;\r\n    import org.glassfish.jersey.test.JerseyTest;\r\n    import org.junit.Assert;\r\n    import org.junit.Test;\r\n    import org.mockito.Mockito;\r\n    import org.mockito.invocation.InvocationOnMock;\r\n    import org.mockito.stubbing.Answer;\r\n    \r\n    public class ServiceMockingTest extends JerseyTest {\r\n    \r\n        @Path(&quot;/greeting&quot;)\r\n        public static class GreetingResource {\r\n    \r\n            @Inject\r\n            private GreetingService greetingService;\r\n    \r\n            @GET\r\n            @Produces(MediaType.TEXT_PLAIN)\r\n            public String getGreeting(@QueryParam(&quot;name&quot;) String name) {\r\n                return greetingService.getGreeting(name);\r\n            }\r\n        }\r\n    \r\n        public static interface GreetingService {\r\n            public String getGreeting(String name);\r\n        }\r\n        \r\n        public static class MockGreetingServiceFactory \r\n                                      implements Factory&lt;GreetingService&gt; {\r\n            @Override\r\n            public GreetingService provide() {\r\n                final GreetingService mockedService\r\n                        = Mockito.mock(GreetingService.class);\r\n                Mockito.when(mockedService.getGreeting(Mockito.anyString()))\r\n                        .thenAnswer(new Answer&lt;String&gt;() {\r\n                            @Override\r\n                            public String answer(InvocationOnMock invocation) \r\n                                                           throws Throwable {\r\n                                String name = (String)invocation.getArguments()[0];\r\n                                return &quot;Hello &quot; + name;\r\n                            }\r\n    \r\n                        });\r\n                return mockedService;\r\n            }\r\n    \r\n            @Override\r\n            public void dispose(GreetingService t) {}\r\n        }\r\n    \r\n        @Override\r\n        public Application configure() {\r\n            AbstractBinder binder = new AbstractBinder() {\r\n                @Override\r\n                protected void configure() {\r\n                    bindFactory(MockGreetingServiceFactory.class)\r\n                            .to(GreetingService.class);\r\n                }\r\n            };\r\n            ResourceConfig config = new ResourceConfig(GreetingResource.class);\r\n            config.register(binder);\r\n            return config;\r\n        }\r\n        \r\n        @Test\r\n        public void testMockedGreetingService() {\r\n            Client client = ClientBuilder.newClient();\r\n            Response response = client.target(&quot;http://localhost:9998/greeting&quot;)\r\n                    .queryParam(&quot;name&quot;, &quot;peeskillet&quot;)\r\n                    .request(MediaType.TEXT_PLAIN).get();\r\n            Assert.assertEquals(200, response.getStatus());\r\n            \r\n            String msg = response.readEntity(String.class);\r\n            Assert.assertEquals(&quot;Hello peeskillet&quot;, msg);\r\n            System.out.println(&quot;Message: &quot; + msg);\r\n            \r\n            response.close();\r\n            client.close();\r\n           \r\n        }\r\n    }\r\n\r\nDependencies for this test:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.glassfish.jersey.test-framework.providers&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jersey-test-framework-provider-grizzly2&lt;/artifactId&gt;\r\n        &lt;version&gt;2.13&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n        &lt;artifactId&gt;mockito-all&lt;/artifactId&gt;\r\n        &lt;version&gt;1.9.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n----\r\n\r\n## UPDATE\r\n\r\nSo in most cases, you really don&#39;t need a `Factory`. You can simply bind the mock instance with its contract:\r\n\r\n    @Mock\r\n    private Service service;\r\n    \r\n    @Override\r\n    public ResourceConfig configure() {\r\n        MockitoAnnotations.initMocks(this);\r\n        return new ResourceConfig()\r\n            .register(MyResource.class)\r\n            .register(new AbstractBinder() {\r\n                @Override\r\n                protected void configure() {\r\n                    bind(service).to(Service.class);\r\n                }\r\n            });\r\n    }\r\n    \r\n    @Test\r\n    public void test() {\r\n        when(service.getSomething()).thenReturn(&quot;Something&quot;);\r\n        // test\r\n    }\r\n\r\nMuch simpler!\r\n\r\n","title":"Jersey - How to mock service","body":"<p><strong>See Update below: You don't need a <code>Factory</code></strong></p>\n<hr />\n<p>If you are using Jersey 2, one solution would be to use <a href=\"https://jersey.java.net/documentation/latest/ioc.html\" rel=\"nofollow noreferrer\">Custom Injection and Lifecycle Management</a> feature (with <a href=\"https://hk2.java.net/2.4.0-b07/\" rel=\"nofollow noreferrer\">HK2</a> - which comes with the Jersey dist). Also required would be a Mocking framework of course. I'm going to use Mockito.</p>\n<p>First create a Factory with mocked instance:</p>\n<pre><code>public static interface GreetingService {\n    public String getGreeting(String name);\n}\n\npublic static class MockGreetingServiceFactory \n                                     implements Factory&lt;GreetingService&gt; {\n    @Override\n    public GreetingService provide() {\n        final GreetingService mockedService\n                = Mockito.mock(GreetingService.class);\n        Mockito.when(mockedService.getGreeting(Mockito.anyString()))\n                .thenAnswer(new Answer&lt;String&gt;() {\n                    @Override\n                    public String answer(InvocationOnMock invocation) \n                                                      throws Throwable {\n                        String name = (String)invocation.getArguments()[0];\n                        return &quot;Hello &quot; + name;\n                    }\n\n                });\n        return mockedService;\n    }\n\n    @Override\n    public void dispose(GreetingService t) {}\n}\n</code></pre>\n<p>Then use the <code>AbstractBinder</code> to bind the factory to the interface/service class, and register the binder. (It's all described in the link above):</p>\n<pre><code>@Override\npublic Application configure() {\n    AbstractBinder binder = new AbstractBinder() {\n        @Override\n        protected void configure() {\n            bindFactory(MockGreetingServiceFactory.class)\n                               .to(GreetingService.class);\n        }\n    };\n    ResourceConfig config = new ResourceConfig(GreetingResource.class);\n    config.register(binder);\n    return config;\n}\n</code></pre>\n<p>Seems like a lot, but it's just an option. I'm not too familiar with the test framework, or if it has an mocking capabilities for injection.</p>\n<p>Here is the full test:</p>\n<pre><code>import javax.inject.Inject;\nimport javax.ws.rs.GET;\nimport javax.ws.rs.Path;\nimport javax.ws.rs.Produces;\nimport javax.ws.rs.QueryParam;\nimport javax.ws.rs.client.Client;\nimport javax.ws.rs.client.ClientBuilder;\nimport javax.ws.rs.core.Application;\nimport javax.ws.rs.core.MediaType;\nimport javax.ws.rs.core.Response;\nimport org.glassfish.hk2.api.Factory;\nimport org.glassfish.hk2.utilities.binding.AbstractBinder;\nimport org.glassfish.jersey.server.ResourceConfig;\nimport org.glassfish.jersey.test.JerseyTest;\nimport org.junit.Assert;\nimport org.junit.Test;\nimport org.mockito.Mockito;\nimport org.mockito.invocation.InvocationOnMock;\nimport org.mockito.stubbing.Answer;\n\npublic class ServiceMockingTest extends JerseyTest {\n\n    @Path(&quot;/greeting&quot;)\n    public static class GreetingResource {\n\n        @Inject\n        private GreetingService greetingService;\n\n        @GET\n        @Produces(MediaType.TEXT_PLAIN)\n        public String getGreeting(@QueryParam(&quot;name&quot;) String name) {\n            return greetingService.getGreeting(name);\n        }\n    }\n\n    public static interface GreetingService {\n        public String getGreeting(String name);\n    }\n    \n    public static class MockGreetingServiceFactory \n                                  implements Factory&lt;GreetingService&gt; {\n        @Override\n        public GreetingService provide() {\n            final GreetingService mockedService\n                    = Mockito.mock(GreetingService.class);\n            Mockito.when(mockedService.getGreeting(Mockito.anyString()))\n                    .thenAnswer(new Answer&lt;String&gt;() {\n                        @Override\n                        public String answer(InvocationOnMock invocation) \n                                                       throws Throwable {\n                            String name = (String)invocation.getArguments()[0];\n                            return &quot;Hello &quot; + name;\n                        }\n\n                    });\n            return mockedService;\n        }\n\n        @Override\n        public void dispose(GreetingService t) {}\n    }\n\n    @Override\n    public Application configure() {\n        AbstractBinder binder = new AbstractBinder() {\n            @Override\n            protected void configure() {\n                bindFactory(MockGreetingServiceFactory.class)\n                        .to(GreetingService.class);\n            }\n        };\n        ResourceConfig config = new ResourceConfig(GreetingResource.class);\n        config.register(binder);\n        return config;\n    }\n    \n    @Test\n    public void testMockedGreetingService() {\n        Client client = ClientBuilder.newClient();\n        Response response = client.target(&quot;http://localhost:9998/greeting&quot;)\n                .queryParam(&quot;name&quot;, &quot;peeskillet&quot;)\n                .request(MediaType.TEXT_PLAIN).get();\n        Assert.assertEquals(200, response.getStatus());\n        \n        String msg = response.readEntity(String.class);\n        Assert.assertEquals(&quot;Hello peeskillet&quot;, msg);\n        System.out.println(&quot;Message: &quot; + msg);\n        \n        response.close();\n        client.close();\n       \n    }\n}\n</code></pre>\n<p>Dependencies for this test:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.glassfish.jersey.test-framework.providers&lt;/groupId&gt;\n    &lt;artifactId&gt;jersey-test-framework-provider-grizzly2&lt;/artifactId&gt;\n    &lt;version&gt;2.13&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n    &lt;artifactId&gt;mockito-all&lt;/artifactId&gt;\n    &lt;version&gt;1.9.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<hr />\n<h2>UPDATE</h2>\n<p>So in most cases, you really don't need a <code>Factory</code>. You can simply bind the mock instance with its contract:</p>\n<pre><code>@Mock\nprivate Service service;\n\n@Override\npublic ResourceConfig configure() {\n    MockitoAnnotations.initMocks(this);\n    return new ResourceConfig()\n        .register(MyResource.class)\n        .register(new AbstractBinder() {\n            @Override\n            protected void configure() {\n                bind(service).to(Service.class);\n            }\n        });\n}\n\n@Test\npublic void test() {\n    when(service.getSomething()).thenReturn(&quot;Something&quot;);\n    // test\n}\n</code></pre>\n<p>Much simpler!</p>\n"},{"comments":[{"owner":{"account_id":1706562,"reputation":2945,"user_id":1565503,"accept_rate":27,"display_name":"Benoit Vanalderweireldt"},"score":0,"creation_date":1459126412,"post_id":32009541,"comment_id":60138515,"body_markdown":"Elegant solution, saved me a lot of time as there are not much information about this...","body":"Elegant solution, saved me a lot of time as there are not much information about this..."},{"owner":{"account_id":1983986,"reputation":4449,"user_id":1779829,"accept_rate":83,"display_name":"th3morg"},"score":0,"creation_date":1466109246,"post_id":32009541,"comment_id":63194543,"body_markdown":"What do you have in your test-context.xml file?","body":"What do you have in your test-context.xml file?"},{"owner":{"account_id":63276,"reputation":310,"user_id":187402,"display_name":"David Kobia"},"score":0,"creation_date":1523029607,"post_id":32009541,"comment_id":86405826,"body_markdown":"You could take this further and add a setter to the resource for the service and inject it that way.","body":"You could take this further and add a setter to the resource for the service and inject it that way."}],"tags":[],"owner":{"account_id":1241442,"reputation":1633,"user_id":1203948,"accept_rate":46,"display_name":"Lars Juel Jensen"},"comment_count":3,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1466113667,"creation_date":1439553511,"answer_id":32009541,"question_id":27430052,"body_markdown":"Here is how I did it with Jersey 2.20, Spring 4.1.4 RELEASE, Mockito 1.10.8, and TestNG 6.8.8.\r\n\r\n    @Test\r\n    public class CasesResourceTest extends JerseyTestNg.ContainerPerMethodTest {\r\n    \t\r\n    \t@Mock\r\n    \tprivate CaseService caseService;\r\n    \t\r\n    \t@Mock\r\n    \tprivate CaseConverter caseConverter;\t\r\n    \t\r\n    \t@Mock\r\n    \tprivate CaseRepository caseRepository;\r\n    \t\r\n    \tprivate CasesResource casesResource;\r\n    \r\n    \t@Override\r\n    \tprotected Application configure() {\r\n    \t\t\r\n    \t\tMockitoAnnotations.initMocks(this);\r\n    \t\tcasesResource = new CasesResource();\r\n    \t\t\r\n    \t\tAbstractBinder binder = new AbstractBinder() {\r\n    \t\t\t\r\n    \t\t\t@Override\r\n    \t\t\tprotected void configure() {\r\n    \t\t\t\tbindFactory(new InstanceFactory&lt;CaseConverter&gt;(caseConverter)).to(CaseConverter.class);\r\n    \t\t\t\tbindFactory(new InstanceFactory&lt;CaseService&gt;(caseService)).to(CaseService.class);\r\n    \t\t\t}\r\n    \t\t};\r\n    \t\t\r\n    \t\treturn new ResourceConfig()\r\n    \t\t\t.register(binder)\r\n    \t\t\t.register(casesResource)\r\n    \t\t\t.property(&quot;contextConfigLocation&quot;, &quot;solve-scm-rest/test-context.xml&quot;);\r\n    \t}\r\n    \t\r\n    \tpublic void getAllCases() throws Exception {\r\n    \t\t\r\n    \t\twhen(caseService.getAll()).thenReturn(Lists.newArrayList(new solve.scm.domain.Case()));\r\n    \t\twhen(caseConverter.convertToApi(any(solve.scm.domain.Case.class))).thenReturn(new Case());\r\n    \t\t\r\n    \t\tCollection&lt;Case&gt; cases = target(&quot;/cases&quot;).request().get(new GenericType&lt;Collection&lt;Case&gt;&gt;(){});\r\n    \t\t\r\n    \t\tverify(caseService, times(1)).getAll();\r\n    \t\tverify(caseConverter, times(1)).convertToApi(any(solve.scm.domain.Case.class));\r\n    \t\t\r\n    \t\tassertThat(cases).hasSize(1);\r\n    \t}\r\n    }\r\n\r\nYou also need this class which makes the binding code above a bit easier:\r\n\r\n    public class InstanceFactory&lt;T&gt; implements Factory&lt;T&gt; {\r\n    \t\t\r\n    \tprivate T instance;\r\n    \r\n    \tpublic InstanceFactory(T instance) {\r\n    \t\tthis.instance = instance;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void dispose(T t) {\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic T provide() {\r\n    \t\treturn instance;\r\n    \t}\r\n    \r\n    }\r\n\r\nEdited as pr. request. This is the contents of my test-context.xml:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n            xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n            xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd&quot;&gt;\r\n    \r\n    &lt;/beans&gt;\r\n\r\nIt turns out that my test-context.xml does not instantiate any beans nor scan any packages, in fact, it does not do anything at all. I guess I just put it there in case I might need it.\r\n","title":"Jersey - How to mock service","body":"<p>Here is how I did it with Jersey 2.20, Spring 4.1.4 RELEASE, Mockito 1.10.8, and TestNG 6.8.8.</p>\n\n<pre><code>@Test\npublic class CasesResourceTest extends JerseyTestNg.ContainerPerMethodTest {\n\n    @Mock\n    private CaseService caseService;\n\n    @Mock\n    private CaseConverter caseConverter;    \n\n    @Mock\n    private CaseRepository caseRepository;\n\n    private CasesResource casesResource;\n\n    @Override\n    protected Application configure() {\n\n        MockitoAnnotations.initMocks(this);\n        casesResource = new CasesResource();\n\n        AbstractBinder binder = new AbstractBinder() {\n\n            @Override\n            protected void configure() {\n                bindFactory(new InstanceFactory&lt;CaseConverter&gt;(caseConverter)).to(CaseConverter.class);\n                bindFactory(new InstanceFactory&lt;CaseService&gt;(caseService)).to(CaseService.class);\n            }\n        };\n\n        return new ResourceConfig()\n            .register(binder)\n            .register(casesResource)\n            .property(\"contextConfigLocation\", \"solve-scm-rest/test-context.xml\");\n    }\n\n    public void getAllCases() throws Exception {\n\n        when(caseService.getAll()).thenReturn(Lists.newArrayList(new solve.scm.domain.Case()));\n        when(caseConverter.convertToApi(any(solve.scm.domain.Case.class))).thenReturn(new Case());\n\n        Collection&lt;Case&gt; cases = target(\"/cases\").request().get(new GenericType&lt;Collection&lt;Case&gt;&gt;(){});\n\n        verify(caseService, times(1)).getAll();\n        verify(caseConverter, times(1)).convertToApi(any(solve.scm.domain.Case.class));\n\n        assertThat(cases).hasSize(1);\n    }\n}\n</code></pre>\n\n<p>You also need this class which makes the binding code above a bit easier:</p>\n\n<pre><code>public class InstanceFactory&lt;T&gt; implements Factory&lt;T&gt; {\n\n    private T instance;\n\n    public InstanceFactory(T instance) {\n        this.instance = instance;\n    }\n\n    @Override\n    public void dispose(T t) {\n    }\n\n    @Override\n    public T provide() {\n        return instance;\n    }\n\n}\n</code></pre>\n\n<p>Edited as pr. request. This is the contents of my test-context.xml:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;beans xmlns=\"http://www.springframework.org/schema/beans\"\n        xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n        xsi:schemaLocation=\"http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\"&gt;\n\n&lt;/beans&gt;\n</code></pre>\n\n<p>It turns out that my test-context.xml does not instantiate any beans nor scan any packages, in fact, it does not do anything at all. I guess I just put it there in case I might need it.</p>\n"}],"owner":{"account_id":2404390,"reputation":7871,"user_id":2101290,"accept_rate":8,"display_name":"Balaji Boggaram Ramanarayan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20120,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"answer_count":2,"score":16,"last_activity_date":1685109531,"creation_date":1418323041,"question_id":27430052,"body_markdown":"I am using &quot;Jersey Test Framework&quot; for unit testing my webservice.\r\n\r\nHere is my resource class :\r\n\r\n    import javax.ws.rs.GET;\r\n    import javax.ws.rs.Path;\r\n    import javax.ws.rs.Produces;\r\n    \r\n    // The Java class will be hosted at the URI path &quot;/helloworld&quot; \r\n    \r\n    @Path(&quot;/helloworld&quot;) \r\n    public class class HelloWorldResource {\r\n    \r\n        private SomeService service;\r\n\r\n        @GET \r\n        @Produces(&quot;text/plain&quot;)\r\n        public String getClichedMessage() {\r\n            // Return some cliched textual content\r\n            String responseFromSomeService = service.getSomething();\r\n            return responseFromSomeService;\r\n        }\r\n    }\r\n\r\nHow can I mock SomeService in unit tests ?","title":"Jersey - How to mock service","body":"<p>I am using \"Jersey Test Framework\" for unit testing my webservice.</p>\n\n<p>Here is my resource class :</p>\n\n<pre><code>import javax.ws.rs.GET;\nimport javax.ws.rs.Path;\nimport javax.ws.rs.Produces;\n\n// The Java class will be hosted at the URI path \"/helloworld\" \n\n@Path(\"/helloworld\") \npublic class class HelloWorldResource {\n\n    private SomeService service;\n\n    @GET \n    @Produces(\"text/plain\")\n    public String getClichedMessage() {\n        // Return some cliched textual content\n        String responseFromSomeService = service.getSomething();\n        return responseFromSomeService;\n    }\n}\n</code></pre>\n\n<p>How can I mock SomeService in unit tests ?</p>\n"},{"tags":["java","logging","spring-boot","logback"],"answers":[{"comments":[{"owner":{"account_id":2928802,"reputation":1845,"user_id":2509595,"accept_rate":38,"display_name":"Tom Bunting"},"score":1,"creation_date":1466514107,"post_id":37944490,"comment_id":63338806,"body_markdown":"ah, so simple - just removed the hyphen from `${LOG_EXCEPTION_CONVERSION_WORD:%rEx}`. I hadn&#39;t included it as I didn&#39;t think it was relevant.. will update my question with the full logging pattern - thanks!","body":"ah, so simple - just removed the hyphen from <code>${LOG_EXCEPTION_CONVERSION_WORD:%rEx}</code>. I hadn&#39;t included it as I didn&#39;t think it was relevant.. will update my question with the full logging pattern - thanks!"},{"owner":{"account_id":93208,"reputation":6939,"user_id":255139,"accept_rate":44,"display_name":"Kalpesh Soni"},"score":0,"creation_date":1567019305,"post_id":37944490,"comment_id":101841300,"body_markdown":"how can I apply filters to it?","body":"how can I apply filters to it?"}],"tags":[],"owner":{"account_id":293053,"reputation":444,"user_id":4721431,"display_name":"Edgar Ngwenya"},"comment_count":2,"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1466512185,"creation_date":1466512185,"answer_id":37944490,"question_id":37942604,"body_markdown":"It&#39;s hard to diagnose without your providing the full logging format. I&#39;m seeing something similar in our code, and it seems to be related to including this in the format:\r\n\r\n${LOG_EXCEPTION_CONVERSION_WORD:-%wEx}\r\n\r\nIf you&#39;re using it, then the hyphen may be the one before the %w. I&#39;m not sure what the intended purpose of this is. If I find it, I&#39;ll add it to my answer.\r\n\r\n","title":"SpringBoot logging - extraneous hyphen at start of every log entry","body":"<p>It's hard to diagnose without your providing the full logging format. I'm seeing something similar in our code, and it seems to be related to including this in the format:</p>\n\n<p>${LOG_EXCEPTION_CONVERSION_WORD:-%wEx}</p>\n\n<p>If you're using it, then the hyphen may be the one before the %w. I'm not sure what the intended purpose of this is. If I find it, I'll add it to my answer.</p>\n"},{"comments":[{"owner":{"account_id":2515551,"reputation":7153,"user_id":2187087,"accept_rate":40,"display_name":"Yugang Zhou"},"score":2,"creation_date":1468493768,"post_id":37947171,"comment_id":64155135,"body_markdown":"Document link is [here](http://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#boot-features-custom-log-configuration), search &#39;you should use Spring Boot’s syntax&#39;","body":"Document link is <a href=\"http://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#boot-features-custom-log-configuration\" rel=\"nofollow noreferrer\">here</a>, search &#39;you should use Spring Boot’s syntax&#39;"}],"tags":[],"owner":{"account_id":1473276,"reputation":111009,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"comment_count":1,"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1466519219,"creation_date":1466519219,"answer_id":37947171,"question_id":37942604,"body_markdown":"The problem is in this part of `logging.pattern.console`:\r\n\r\n    ${LOG_EXCEPTION_CONVERSION_WORD:-%rEx}\r\n`:-` is Logback&#39;s default value delimiter and is what you should use in logback.xml. However, you&#39;re configuring things in `application.properties` where it&#39;s Spring Framework&#39;s default value delimiter (`:`) which should be used.\r\n\r\nAs you&#39;ve used `:-`, you&#39;re saying use the value of `LOG_EXCEPTION_CONVERSION_WORD` and, if it&#39;s not set, use `-%rEx` instead.\r\n\r\nThe correct syntax is:\r\n\r\n    ${LOG_EXCEPTION_CONVERSION_WORD:%rEx}","title":"SpringBoot logging - extraneous hyphen at start of every log entry","body":"<p>The problem is in this part of <code>logging.pattern.console</code>:</p>\n\n<pre><code>${LOG_EXCEPTION_CONVERSION_WORD:-%rEx}\n</code></pre>\n\n<p><code>:-</code> is Logback's default value delimiter and is what you should use in logback.xml. However, you're configuring things in <code>application.properties</code> where it's Spring Framework's default value delimiter (<code>:</code>) which should be used.</p>\n\n<p>As you've used <code>:-</code>, you're saying use the value of <code>LOG_EXCEPTION_CONVERSION_WORD</code> and, if it's not set, use <code>-%rEx</code> instead.</p>\n\n<p>The correct syntax is:</p>\n\n<pre><code>${LOG_EXCEPTION_CONVERSION_WORD:%rEx}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1207330,"reputation":872,"user_id":1176644,"display_name":"fo_"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685109405,"creation_date":1685109405,"answer_id":76341522,"question_id":37942604,"body_markdown":"The suggested answers are actually slightly wrong, or at least are missing some details of what is happening.\r\n\r\nIf you replace `${LOG_EXCEPTION_CONVERSION_WORD:-%rEx}` with `${LOG_EXCEPTION_CONVERSION_WORD:%rEx}`, Spring will interpolate it into `%rEx` when it parses the property file (unless there happens to be a property `LOG_EXCEPTION_CONVERSION_WORD` available at that time).\r\n\r\n`LOG_EXCEPTION_CONVERSION_WORD` is actually a System property provided by `LoggingSystem` and it&#39;s intended to be interpolated by Logback (which uses the &quot;:-&quot; syntax for default values).\r\n\r\nYou can fix the issue by defining a Spring property for the dollar character\r\n\r\n```\r\ndollar: $\r\n```\r\n\r\nThen replace `${LOG_EXCEPTION_CONVERSION_WORD:-%rEx}` with:\r\n\r\n```${dollar}{LOG_EXCEPTION_CONVERSION_WORD:-%rEx}```\r\n\r\nthus bypassing Spring property interpolation. Then Logback will take care of interpolating the resulting pattern.","title":"SpringBoot logging - extraneous hyphen at start of every log entry","body":"<p>The suggested answers are actually slightly wrong, or at least are missing some details of what is happening.</p>\n<p>If you replace <code>${LOG_EXCEPTION_CONVERSION_WORD:-%rEx}</code> with <code>${LOG_EXCEPTION_CONVERSION_WORD:%rEx}</code>, Spring will interpolate it into <code>%rEx</code> when it parses the property file (unless there happens to be a property <code>LOG_EXCEPTION_CONVERSION_WORD</code> available at that time).</p>\n<p><code>LOG_EXCEPTION_CONVERSION_WORD</code> is actually a System property provided by <code>LoggingSystem</code> and it's intended to be interpolated by Logback (which uses the &quot;:-&quot; syntax for default values).</p>\n<p>You can fix the issue by defining a Spring property for the dollar character</p>\n<pre><code>dollar: $\n</code></pre>\n<p>Then replace <code>${LOG_EXCEPTION_CONVERSION_WORD:-%rEx}</code> with:</p>\n<p><code>${dollar}{LOG_EXCEPTION_CONVERSION_WORD:-%rEx}</code></p>\n<p>thus bypassing Spring property interpolation. Then Logback will take care of interpolating the resulting pattern.</p>\n"}],"owner":{"account_id":2928802,"reputation":1845,"user_id":2509595,"accept_rate":38,"display_name":"Tom Bunting"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5835,"favorite_count":0,"down_vote_count":0,"up_vote_count":17,"accepted_answer_id":37944490,"answer_count":3,"score":17,"last_activity_date":1685109405,"creation_date":1466506749,"question_id":37942604,"body_markdown":"I am trying to eliminate a leading hyphen from our console and file logs in SpringBoot 1.3.5.RELEASE with default logback config. \r\n\r\nLogging pattern looks like:\r\n\r\n    logging:\r\n      pattern:\r\n        console: &#39;%d{yyyy-MM-dd HH:mm:ss.SSS} %clr([${spring.application.name}]){red} %clr(%5p) %clr(${PID:- }){magenta} %clr(---){faint} %X{req.requestId} %clr([%15.15t]){faint} %clr(%-40.40logger{39}){cyan} %clr(:){faint} %m%n${LOG_EXCEPTION_CONVERSION_WORD:-%rEx}&#39;\r\n\r\nThe file log pattern is similar, without the color coding. Both output every line **after** the first with a leading hyphen, which is making our syslog - logstash - grok filtering trickier.  Example output:\r\n\r\n    2016-06-21 11:52:00.576 [my-app] INFO etc.. (application started)\r\n    -2016-06-21 11:52:00.583 [my-app] DEBUG etc..\r\n    -2016-06-21 11:52:00.583 [my-app] INFO etc..\r\n\r\n\r\nI can&#39;t see anything in the docs mentioning this behaviour. Welcome any advice on how to eliminate it, if possible!\r\n\r\n**Update**\r\n\r\nThanks to Edgar&#39;s answer below, it turns out this was caused by the following at the end of our logging pattern:\r\n\r\n    ${LOG_EXCEPTION_CONVERSION_WORD:-%rEx}\r\n\r\nI replaced it with:\r\n\r\n   ${LOG_EXCEPTION_CONVERSION_WORD:%rEx}\r\n\r\net voila, the hyphen at the start of the following line disappears. See http://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-logging.html#boot-features-custom-log-configuration","title":"SpringBoot logging - extraneous hyphen at start of every log entry","body":"<p>I am trying to eliminate a leading hyphen from our console and file logs in SpringBoot 1.3.5.RELEASE with default logback config. </p>\n\n<p>Logging pattern looks like:</p>\n\n<pre><code>logging:\n  pattern:\n    console: '%d{yyyy-MM-dd HH:mm:ss.SSS} %clr([${spring.application.name}]){red} %clr(%5p) %clr(${PID:- }){magenta} %clr(---){faint} %X{req.requestId} %clr([%15.15t]){faint} %clr(%-40.40logger{39}){cyan} %clr(:){faint} %m%n${LOG_EXCEPTION_CONVERSION_WORD:-%rEx}'\n</code></pre>\n\n<p>The file log pattern is similar, without the color coding. Both output every line <strong>after</strong> the first with a leading hyphen, which is making our syslog - logstash - grok filtering trickier.  Example output:</p>\n\n<pre><code>2016-06-21 11:52:00.576 [my-app] INFO etc.. (application started)\n-2016-06-21 11:52:00.583 [my-app] DEBUG etc..\n-2016-06-21 11:52:00.583 [my-app] INFO etc..\n</code></pre>\n\n<p>I can't see anything in the docs mentioning this behaviour. Welcome any advice on how to eliminate it, if possible!</p>\n\n<p><strong>Update</strong></p>\n\n<p>Thanks to Edgar's answer below, it turns out this was caused by the following at the end of our logging pattern:</p>\n\n<pre><code>${LOG_EXCEPTION_CONVERSION_WORD:-%rEx}\n</code></pre>\n\n<p>I replaced it with:</p>\n\n<p>${LOG_EXCEPTION_CONVERSION_WORD:%rEx}</p>\n\n<p>et voila, the hyphen at the start of the following line disappears. See <a href=\"http://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-logging.html#boot-features-custom-log-configuration\" rel=\"noreferrer\">http://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-logging.html#boot-features-custom-log-configuration</a></p>\n"},{"tags":["java","sql","snowflake-cloud-data-platform","talend"],"answers":[{"tags":[],"owner":{"account_id":484284,"reputation":4001,"user_id":899863,"display_name":"Ibrahim Mezouar"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1685109131,"creation_date":1685109131,"answer_id":76341475,"question_id":76341362,"body_markdown":"The Date type in java stores the date and time, so if you compare it against a date like 1753-01-01, the comparison may not work as expected as the time is not necessarily the same for both.  \r\nI recommend you compare strings instead of dates:  \r\n\r\n    &quot;1753-01-01&quot;.equals(TalendDate.formatDate(&quot;yyyy-MM-dd&quot;, row2.LETTER_DATE)) ? null : row2.LETTER_DATE","title":"Talend - Issue with comparing dates using TalendDate routines","body":"<p>The Date type in java stores the date and time, so if you compare it against a date like 1753-01-01, the comparison may not work as expected as the time is not necessarily the same for both.<br />\nI recommend you compare strings instead of dates:</p>\n<pre><code>&quot;1753-01-01&quot;.equals(TalendDate.formatDate(&quot;yyyy-MM-dd&quot;, row2.LETTER_DATE)) ? null : row2.LETTER_DATE\n</code></pre>\n"}],"owner":{"account_id":20060396,"reputation":377,"user_id":14707253,"display_name":"Emile Dadou"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76341475,"answer_count":1,"score":0,"last_activity_date":1685109131,"creation_date":1685108368,"question_id":76341362,"body_markdown":"Here some context : \r\n I&#39;m trying to retrieve a table from a Snowflake DB and store it in another one (ODS -&gt; DWH) using Talend (Talend Cloud API Services platform 7.3.1) .one of the transformation I have to apply is to set the dates that have the value 1753-01-01 to null. \r\n\r\nSo for the datatypes :\r\n- input ODS : LETTER_DATE DATE\r\n- output DWH : DT_LETTER DATE\r\n\r\nSo I tried several methods to check the date and give the expected output :\r\n\r\nThe first method (TalendDate routines) :\r\n\r\n    TalendDate.compareDate(row2.LETTER_DATE, TalendDate.parseDate(&quot;yyyy-MM-dd&quot;, &quot;1753-01-01&quot;)).equals(0) ? null : row2.LETTER_DATE\r\n\r\n\r\nThe second method : \r\n\r\n    row2.LETTER_DATE.equals(TalendDate.parseDate(&quot;yyyy-MM-dd&quot;, &quot;1753-01-01&quot;)) ? null : row2.LETTER_DATE\r\n\r\n\r\nNeither of this method worked for the first one I had &#39;1&#39; as a result instead of 0 and for the second I had &#39;false&#39; I can&#39;t see if there something wrong with what I did or missed something (probably :) ). And so the data with the value &#39;1753-01-01&#39; passes.\r\n\r\n\r\nSo to try my ODS table is build like this : \r\n\r\n    CREATE OR REPLACE TABLE &lt;TABLE_NAME&gt; (\r\n    \r\n    ID VARCHAR(50) NOT  NULL,\r\n    \r\n    ...,\r\n    \r\n    LETTER_DATE DATE\r\n    \r\n    );\r\n\r\n\r\nAnd here is the data I&#39;m trying to transform : \r\n\r\n    INSERT INTO &lt;TABLE_NAME&gt; (ID, LETTER_DATE) VALUES (&#39;1999&#39;, &#39;1753-01-01&#39;);\r\n\r\n \r\n\r\nThanks,","title":"Talend - Issue with comparing dates using TalendDate routines","body":"<p>Here some context :\nI'm trying to retrieve a table from a Snowflake DB and store it in another one (ODS -&gt; DWH) using Talend (Talend Cloud API Services platform 7.3.1) .one of the transformation I have to apply is to set the dates that have the value 1753-01-01 to null.</p>\n<p>So for the datatypes :</p>\n<ul>\n<li>input ODS : LETTER_DATE DATE</li>\n<li>output DWH : DT_LETTER DATE</li>\n</ul>\n<p>So I tried several methods to check the date and give the expected output :</p>\n<p>The first method (TalendDate routines) :</p>\n<pre><code>TalendDate.compareDate(row2.LETTER_DATE, TalendDate.parseDate(&quot;yyyy-MM-dd&quot;, &quot;1753-01-01&quot;)).equals(0) ? null : row2.LETTER_DATE\n</code></pre>\n<p>The second method :</p>\n<pre><code>row2.LETTER_DATE.equals(TalendDate.parseDate(&quot;yyyy-MM-dd&quot;, &quot;1753-01-01&quot;)) ? null : row2.LETTER_DATE\n</code></pre>\n<p>Neither of this method worked for the first one I had '1' as a result instead of 0 and for the second I had 'false' I can't see if there something wrong with what I did or missed something (probably :) ). And so the data with the value '1753-01-01' passes.</p>\n<p>So to try my ODS table is build like this :</p>\n<pre><code>CREATE OR REPLACE TABLE &lt;TABLE_NAME&gt; (\n\nID VARCHAR(50) NOT  NULL,\n\n...,\n\nLETTER_DATE DATE\n\n);\n</code></pre>\n<p>And here is the data I'm trying to transform :</p>\n<pre><code>INSERT INTO &lt;TABLE_NAME&gt; (ID, LETTER_DATE) VALUES ('1999', '1753-01-01');\n</code></pre>\n<p>Thanks,</p>\n"},{"tags":["java","android","admob"],"owner":{"account_id":5515478,"reputation":1160,"user_id":4380384,"display_name":"shtse8"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":14,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685109049,"creation_date":1685109049,"question_id":76341459,"body_markdown":"I&#39;m integrating AdMob into my Android application, using both interstitial and reward ads. I&#39;m trying to implement the app-wide frequency cap feature that AdMob now provides. However, I&#39;m having difficulty applying this setting consistently across multiple ad formats.\r\n\r\nSpecifically, once an ad is shown and the frequency cap is reached, other ads that have already been loaded can still be displayed. This happens even though the cap should apply across all ad formats in the app.\r\n\r\nMy current solution is to clear all loaded ads after an ad of any format is shown. However, I&#39;m concerned that this will significantly decrease the show rate and potentially impact my ad revenue.\r\n\r\nMy question is:\r\n\r\nHow can I ensure the app-wide frequency cap is respected across all loaded ad formats without significantly affecting the show rate?\r\n\r\nIs there a better approach to enforcing the cap across all loaded ads that won&#39;t potentially lower my revenue?\r\n\r\nI would appreciate any insights or alternative solutions that can help solve this issue. Thank you!","title":"How to Ensure App-Wide Frequency Cap Applies Across Different Ad Formats in AdMob Without Affecting Show Rate?","body":"<p>I'm integrating AdMob into my Android application, using both interstitial and reward ads. I'm trying to implement the app-wide frequency cap feature that AdMob now provides. However, I'm having difficulty applying this setting consistently across multiple ad formats.</p>\n<p>Specifically, once an ad is shown and the frequency cap is reached, other ads that have already been loaded can still be displayed. This happens even though the cap should apply across all ad formats in the app.</p>\n<p>My current solution is to clear all loaded ads after an ad of any format is shown. However, I'm concerned that this will significantly decrease the show rate and potentially impact my ad revenue.</p>\n<p>My question is:</p>\n<p>How can I ensure the app-wide frequency cap is respected across all loaded ad formats without significantly affecting the show rate?</p>\n<p>Is there a better approach to enforcing the cap across all loaded ads that won't potentially lower my revenue?</p>\n<p>I would appreciate any insights or alternative solutions that can help solve this issue. Thank you!</p>\n"},{"tags":["java","aop","aspect"],"comments":[{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1684771648,"post_id":76305565,"comment_id":134562095,"body_markdown":"The answer depends on the programming language at hand and whether it requires compilation at all. It also depends on the specific way an AOP framework is implemented, e.g. via dynamic proxies or rather byte code instrumentation. Then, it also depends on whether you apply aspect weaving during compile time or class load time. Please be more specific and edit your question accordingly. Moreover, you did not explain to what end you want to ensure the OCP. Finally, the answer also defines on your definition of &quot;module&quot;. An aspect is also a module, encapsulating a cross-cutting concern.","body":"The answer depends on the programming language at hand and whether it requires compilation at all. It also depends on the specific way an AOP framework is implemented, e.g. via dynamic proxies or rather byte code instrumentation. Then, it also depends on whether you apply aspect weaving during compile time or class load time. Please be more specific and edit your question accordingly. Moreover, you did not explain to what end you want to ensure the OCP. Finally, the answer also defines on your definition of &quot;module&quot;. An aspect is also a module, encapsulating a cross-cutting concern."},{"owner":{"account_id":920482,"reputation":979,"user_id":952257,"accept_rate":93,"display_name":"Shaharg"},"score":0,"creation_date":1684832364,"post_id":76305565,"comment_id":134570965,"body_markdown":"Thank you @kriegaex for your elaborate and helpful response. I added more details at the end of the question","body":"Thank you @kriegaex for your elaborate and helpful response. I added more details at the end of the question"},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1685109724,"post_id":76305565,"comment_id":134619924,"body_markdown":"Can you explain the relationship between OCP and recompilation? OCP doesn&#39;t imply *(to me)* any given system must be modifiable at runtime or without compilation. Aspects don&#39;t change modules&#39; behavior, either--aspects extend behavior, e.g., if you add a logging aspect to a package its &quot;as if&quot; there were logging subclasses of the package&#39;s classes--they&#39;re just &quot;invisible&quot; to the mainline code.","body":"Can you explain the relationship between OCP and recompilation? OCP doesn&#39;t imply <i>(to me)</i> any given system must be modifiable at runtime or without compilation. Aspects don&#39;t change modules&#39; behavior, either--aspects extend behavior, e.g., if you add a logging aspect to a package its &quot;as if&quot; there were logging subclasses of the package&#39;s classes--they&#39;re just &quot;invisible&quot; to the mainline code."}],"answers":[{"tags":[],"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1685107587,"creation_date":1685107128,"answer_id":76341190,"question_id":76305565,"body_markdown":"## Usage scenarios \r\n\r\nThere are multiple cases:\r\n\r\n### Load-time / run-time weaving\r\n\r\n* Native AspectJ with load-time weaving (LTW) uses byte code instrumentation during class-loading.\r\n* Spring AOP creates dynamic proxies wired into your Spring beans at runtime.\r\n\r\nIn both cases, there is no need to recompile any code after you change your aspects, because all aspect weaving is done during runtime. Your original bytecode stays intact, but you have the weaving overhead during application start for both options. After weaving, AspectJ performs exactly like compile-time or binary (post-compile)  woven aspects. Spring AOP will always be slower due to the proxying overhead for every method call.\r\n\r\n### Compile-time weaving (CTW)\r\n\r\nWhen using the AspectJ compiler when compiling your aspect and application code, every aspect change requires core code recompilation, because an aspect can potentially affect any number of target classes. The advantage however is that you do not need to set up any weaving agents like for LTW and there is no application start-up penalty.\r\n\r\n### Binary, post-compile weaving\r\n\r\nThis is similar to CTW, but used if you want to weave existing class files, e.g. from third-party libraries without resort to LTW. This will modify your existing byte code, and you might need to replace existing JARs by newly packaged ones containing the woven classes.\r\n\r\n## Software engineering perspective\r\n\r\nIn each of these scenarios, the advantages of cleanly modularising and encapsulating cross-cutting concerns and unburdening the core source code from scattering and tangling by far outweigh any effects which for classical OOP you might want to avoid, such as OCP. IMO, you do not really violate OCP here anyway, because you are not modifying the core classes as such, but rather decorating them with additional behaviours, which is cleanly modularised inside an aspect. Call it a Decorator pattern on steroids, i.e. without all the ceremony and boilerplate that you would need in OOP. For me, AOP is a tool supporting clean code and better application design by means unavailable in pure OOP, without the need to resort to nightmarish stuff like multiple inheritance.","title":"Does Aspect Oriented Programming require recompilation whenever an aspect changes?","body":"<h2>Usage scenarios</h2>\n<p>There are multiple cases:</p>\n<h3>Load-time / run-time weaving</h3>\n<ul>\n<li>Native AspectJ with load-time weaving (LTW) uses byte code instrumentation during class-loading.</li>\n<li>Spring AOP creates dynamic proxies wired into your Spring beans at runtime.</li>\n</ul>\n<p>In both cases, there is no need to recompile any code after you change your aspects, because all aspect weaving is done during runtime. Your original bytecode stays intact, but you have the weaving overhead during application start for both options. After weaving, AspectJ performs exactly like compile-time or binary (post-compile)  woven aspects. Spring AOP will always be slower due to the proxying overhead for every method call.</p>\n<h3>Compile-time weaving (CTW)</h3>\n<p>When using the AspectJ compiler when compiling your aspect and application code, every aspect change requires core code recompilation, because an aspect can potentially affect any number of target classes. The advantage however is that you do not need to set up any weaving agents like for LTW and there is no application start-up penalty.</p>\n<h3>Binary, post-compile weaving</h3>\n<p>This is similar to CTW, but used if you want to weave existing class files, e.g. from third-party libraries without resort to LTW. This will modify your existing byte code, and you might need to replace existing JARs by newly packaged ones containing the woven classes.</p>\n<h2>Software engineering perspective</h2>\n<p>In each of these scenarios, the advantages of cleanly modularising and encapsulating cross-cutting concerns and unburdening the core source code from scattering and tangling by far outweigh any effects which for classical OOP you might want to avoid, such as OCP. IMO, you do not really violate OCP here anyway, because you are not modifying the core classes as such, but rather decorating them with additional behaviours, which is cleanly modularised inside an aspect. Call it a Decorator pattern on steroids, i.e. without all the ceremony and boilerplate that you would need in OOP. For me, AOP is a tool supporting clean code and better application design by means unavailable in pure OOP, without the need to resort to nightmarish stuff like multiple inheritance.</p>\n"}],"owner":{"account_id":920482,"reputation":979,"user_id":952257,"accept_rate":93,"display_name":"Shaharg"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76341190,"answer_count":1,"score":0,"last_activity_date":1685108856,"creation_date":1684753920,"question_id":76305565,"body_markdown":"One important design principle is the OCP, which states that we would like our modules to be open for extension but closed to modification.\r\n\r\nWhen we use Aspect Oriented Programming, we impact the whole project meaning that any change in an aspect may change the behavior of every function in the project. I wanted to understand if this implies that every time we change an aspect, we must recompile the whole project. This seems contradictory to the OCP. If this is not the case, how does the AOP weaving manage to add the behavior into the compiled code?\r\n\r\nEdit: following the comment from @kriegaex, I am interested specifically in Java and with AspectJ. \r\nI am teaching Software design and I give AOP as an example of using frameworks for better design. As I teach the SOLID design principles, I want to understand the impact of AOP on these principles.\r\nIf there is any AOP framework that does not violate OCP (meaning that changing an aspect does not require recompiling the whole project), please tell me about it.","title":"Does Aspect Oriented Programming require recompilation whenever an aspect changes?","body":"<p>One important design principle is the OCP, which states that we would like our modules to be open for extension but closed to modification.</p>\n<p>When we use Aspect Oriented Programming, we impact the whole project meaning that any change in an aspect may change the behavior of every function in the project. I wanted to understand if this implies that every time we change an aspect, we must recompile the whole project. This seems contradictory to the OCP. If this is not the case, how does the AOP weaving manage to add the behavior into the compiled code?</p>\n<p>Edit: following the comment from @kriegaex, I am interested specifically in Java and with AspectJ.\nI am teaching Software design and I give AOP as an example of using frameworks for better design. As I teach the SOLID design principles, I want to understand the impact of AOP on these principles.\nIf there is any AOP framework that does not violate OCP (meaning that changing an aspect does not require recompiling the whole project), please tell me about it.</p>\n"},{"tags":["java","struts2","startup","tomcat10"],"answers":[{"comments":[{"owner":{"account_id":179533,"reputation":4405,"user_id":412270,"accept_rate":70,"display_name":"myborobudur"},"score":0,"creation_date":1678718262,"post_id":73349797,"comment_id":133583126,"body_markdown":"Unfortunately it&#39;s not in the newest Struts2 version 6.1.2","body":"Unfortunately it&#39;s not in the newest Struts2 version 6.1.2"},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1678733101,"post_id":73349797,"comment_id":133587533,"body_markdown":"@myborobudur Yes, it seems they have moved it to version 7.0.0.","body":"@myborobudur Yes, it seems they have moved it to version 7.0.0."},{"owner":{"account_id":179533,"reputation":4405,"user_id":412270,"accept_rate":70,"display_name":"myborobudur"},"score":0,"creation_date":1678874998,"post_id":73349797,"comment_id":133616324,"body_markdown":"version 7.0.0 is not even yet a snapshot","body":"version 7.0.0 is not even yet a snapshot"},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1678875628,"post_id":73349797,"comment_id":133616503,"body_markdown":"@myborobudur I meant they moved the issue to fix this to version 7.0.0, which indeed is not yet released.","body":"@myborobudur I meant they moved the issue to fix this to version 7.0.0, which indeed is not yet released."}],"tags":[],"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678733087,"creation_date":1660461663,"answer_id":73349797,"question_id":73349418,"body_markdown":"The error makes clear that it doesn&#39;t support Tomcat 10. The &quot;problem&quot; is that Tomcat 10 switched to the Jakarta EE 9 specification. And Jakarta EE 9 switched from the `javax.*` package namespace to the `jakarta.*` package namespace.\r\n\r\nAccording to the [version notes][1], Struts2 6.0.0 GA is Servlet 3.1 (Java EE 7), which uses the `javax.*` namespace, and means it is generally compatible with JavaEE 7 and 8 and Jakarta EE 8, but not with Jakarta EE 9 and higher. This means you need to use Tomcat 9.\r\n\r\nAccording to [WW-5141][2] Jakarta EE 9 (or higher) support is *planned* in Struts2 7.0.0.\r\n\r\n\r\n  [1]: https://cwiki.apache.org/confluence/display/WW/Version+Notes+6.0.0\r\n  [2]: https://issues.apache.org/jira/browse/WW-5141","title":"Does latest version 6.* Struts2 support Tomcat 10?","body":"<p>The error makes clear that it doesn't support Tomcat 10. The &quot;problem&quot; is that Tomcat 10 switched to the Jakarta EE 9 specification. And Jakarta EE 9 switched from the <code>javax.*</code> package namespace to the <code>jakarta.*</code> package namespace.</p>\n<p>According to the <a href=\"https://cwiki.apache.org/confluence/display/WW/Version+Notes+6.0.0\" rel=\"nofollow noreferrer\">version notes</a>, Struts2 6.0.0 GA is Servlet 3.1 (Java EE 7), which uses the <code>javax.*</code> namespace, and means it is generally compatible with JavaEE 7 and 8 and Jakarta EE 8, but not with Jakarta EE 9 and higher. This means you need to use Tomcat 9.</p>\n<p>According to <a href=\"https://issues.apache.org/jira/browse/WW-5141\" rel=\"nofollow noreferrer\">WW-5141</a> Jakarta EE 9 (or higher) support is <em>planned</em> in Struts2 7.0.0.</p>\n"}],"owner":{"account_id":26058645,"reputation":1,"user_id":19760370,"display_name":"Surendra J"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2754,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1685110438,"answer_count":1,"score":0,"last_activity_date":1685108682,"creation_date":1660456664,"question_id":73349418,"body_markdown":"Does the latest version 6.*  Struts2 support Tomcat 10?\r\n\r\nException starting filter [struts2]\r\n\r\n```none\r\njava.lang.ClassCastException: class org.apache.struts2.dispatcher.filter.StrutsPrepareAndExecuteFilter cannot be cast to class jakarta.servlet.Filter (org.apache.struts2.dispatcher.filter.StrutsPrepareAndExecuteFilter is in unnamed module of loader org.apache.catalina.loader.ParallelWebappClassLoader @13e547a9; jakarta.servlet.Filter is in unnamed module of loader java.net.URLClassLoader @2d209079)\r\n\tat org.apache.catalina.core.ApplicationFilterConfig.getFilter(ApplicationFilterConfig.java:252)\r\n\tat org.apache.catalina.core.ApplicationFilterConfig.&lt;init&gt;(ApplicationFilterConfig.java:103)\r\n\tat org.apache.catalina.core.StandardContext.filterStart(StandardContext.java:4562)\r\n\tat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5205)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1396)\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1386)\r\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n\tat org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\r\n\tat java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)\r\n\tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:919)\r\n```","title":"Does latest version 6.* Struts2 support Tomcat 10?","body":"<p>Does the latest version 6.*  Struts2 support Tomcat 10?</p>\n<p>Exception starting filter [struts2]</p>\n<pre class=\"lang-none prettyprint-override\"><code>java.lang.ClassCastException: class org.apache.struts2.dispatcher.filter.StrutsPrepareAndExecuteFilter cannot be cast to class jakarta.servlet.Filter (org.apache.struts2.dispatcher.filter.StrutsPrepareAndExecuteFilter is in unnamed module of loader org.apache.catalina.loader.ParallelWebappClassLoader @13e547a9; jakarta.servlet.Filter is in unnamed module of loader java.net.URLClassLoader @2d209079)\n    at org.apache.catalina.core.ApplicationFilterConfig.getFilter(ApplicationFilterConfig.java:252)\n    at org.apache.catalina.core.ApplicationFilterConfig.&lt;init&gt;(ApplicationFilterConfig.java:103)\n    at org.apache.catalina.core.StandardContext.filterStart(StandardContext.java:4562)\n    at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5205)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1396)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1386)\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n    at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\n    at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:919)\n</code></pre>\n"},{"tags":["java","android","admob"],"comments":[{"owner":{"account_id":9172301,"reputation":4168,"user_id":6819340,"accept_rate":39,"display_name":"darshan"},"score":0,"creation_date":1685513709,"post_id":76341411,"comment_id":134668749,"body_markdown":"If the cap is reached, all the retry efforts for the specified time will not return an Ad &amp; will fail with a callback value of `Frequency cap reached`, so a single retry should be enough. What exactly are you trying to achieve on cap reach here?","body":"If the cap is reached, all the retry efforts for the specified time will not return an Ad &amp; will fail with a callback value of <code>Frequency cap reached</code>, so a single retry should be enough. What exactly are you trying to achieve on cap reach here?"},{"owner":{"account_id":5515478,"reputation":1160,"user_id":4380384,"display_name":"shtse8"},"score":0,"creation_date":1685603033,"post_id":76341411,"comment_id":134683666,"body_markdown":"If single try, it won&#39;t reload the ad after the cap expired. Also, we can&#39;t get the cap from admob in app. Duration is needed to be hard coded. This makes the settings in admob useless unless stupid polling.","body":"If single try, it won&#39;t reload the ad after the cap expired. Also, we can&#39;t get the cap from admob in app. Duration is needed to be hard coded. This makes the settings in admob useless unless stupid polling."},{"owner":{"account_id":9172301,"reputation":4168,"user_id":6819340,"accept_rate":39,"display_name":"darshan"},"score":0,"creation_date":1685605726,"post_id":76341411,"comment_id":134684159,"body_markdown":"`If single try, it won&#39;t reload the ad after the cap expired` - Correct &amp; intended behaviour but retries would also not load the Ads until the cap is complete. You surely cannot get the cap settings from Admob but you can indeed use `RemoteConfig` for this. The downside is that you&#39;ll have to manually update RC&#39;s value every-time you set/change a new cap.","body":"<code>If single try, it won&#39;t reload the ad after the cap expired</code> - Correct &amp; intended behaviour but retries would also not load the Ads until the cap is complete. You surely cannot get the cap settings from Admob but you can indeed use <code>RemoteConfig</code> for this. The downside is that you&#39;ll have to manually update RC&#39;s value every-time you set/change a new cap."}],"owner":{"account_id":5515478,"reputation":1160,"user_id":4380384,"display_name":"shtse8"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685108648,"creation_date":1685108648,"question_id":76341411,"body_markdown":"I am integrating AdMob into my Android application, where I have set an app-wide frequency cap to limit ad impressions within a certain timeframe.\r\n\r\nI&#39;m currently facing a challenge when trying to handle retries for ad loading once this cap is reached. My initial thought was to use polling to periodically attempt to load the ad, but I&#39;m worried this could potentially harm the performance of my app due to the constant checks.\r\n\r\nIs polling the only viable method to retry loading ads after the frequency cap is hit, or are there other recommended approaches to handle this situation?\r\n\r\nIdeally, I&#39;d like an efficient solution that respects the frequency cap set on the AdMob console, and doesn&#39;t result in excessive ad requests or overuse of system resources.\r\n\r\nI would appreciate any advice or insights into the best practices for managing ad loading and retry mechanisms in AdMob when an app-wide frequency cap is in place.\r\n\r\nAdditional details:\r\n\r\nAdMob SDK version: 21.5.0\r\n\r\nPlatform: Android\r\n\r\nThanks in advance for any guidance you can provide!","title":"Efficient strategies for retrying AdMob ad loading with an app-wide frequency cap","body":"<p>I am integrating AdMob into my Android application, where I have set an app-wide frequency cap to limit ad impressions within a certain timeframe.</p>\n<p>I'm currently facing a challenge when trying to handle retries for ad loading once this cap is reached. My initial thought was to use polling to periodically attempt to load the ad, but I'm worried this could potentially harm the performance of my app due to the constant checks.</p>\n<p>Is polling the only viable method to retry loading ads after the frequency cap is hit, or are there other recommended approaches to handle this situation?</p>\n<p>Ideally, I'd like an efficient solution that respects the frequency cap set on the AdMob console, and doesn't result in excessive ad requests or overuse of system resources.</p>\n<p>I would appreciate any advice or insights into the best practices for managing ad loading and retry mechanisms in AdMob when an app-wide frequency cap is in place.</p>\n<p>Additional details:</p>\n<p>AdMob SDK version: 21.5.0</p>\n<p>Platform: Android</p>\n<p>Thanks in advance for any guidance you can provide!</p>\n"},{"tags":["java","algorithm","security","performance"],"comments":[{"owner":{"account_id":74486,"reputation":105478,"user_id":214010,"accept_rate":83,"display_name":"mikera"},"score":2,"creation_date":1313689140,"post_id":7111651,"comment_id":8519250,"body_markdown":"hmm could you define what you mean by secure and random? is psuedo-random good enough for example? Or do you need cryptographic strength true randomness?","body":"hmm could you define what you mean by secure and random? is psuedo-random good enough for example? Or do you need cryptographic strength true randomness?"},{"owner":{"account_id":2496,"reputation":266244,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"score":0,"creation_date":1313689378,"post_id":7111651,"comment_id":8519323,"body_markdown":"possible duplicate of [How to generate a random alpha-numeric string in Java](http://stackoverflow.com/questions/41107/how-to-generate-a-random-alpha-numeric-string-in-java)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/41107/how-to-generate-a-random-alpha-numeric-string-in-java\">How to generate a random alpha-numeric string in Java</a>"},{"owner":{"account_id":795970,"reputation":419,"user_id":901113,"display_name":"devon"},"score":0,"creation_date":1313694995,"post_id":7111651,"comment_id":8521174,"body_markdown":"pseudo-random would be good enough.","body":"pseudo-random would be good enough."},{"owner":{"account_id":795970,"reputation":419,"user_id":901113,"display_name":"devon"},"score":3,"creation_date":1313695099,"post_id":7111651,"comment_id":8521211,"body_markdown":"this is not a duplicate because the other question is not for a secure string. The one answer that is secure is not fast enough.","body":"this is not a duplicate because the other question is not for a secure string. The one answer that is secure is not fast enough."},{"owner":{"account_id":470798,"reputation":6467,"user_id":878182,"accept_rate":50,"display_name":"Alistair A. Israel"},"score":0,"creation_date":1313712967,"post_id":7111651,"comment_id":8525459,"body_markdown":"Do you need to restrict the string to uppercase or lowercase only? Do you accept dashes? Do you have a specific length requirement, can any fixed length suffice, or will they have to be of random length also? Finally, define how fast is &#39;fast&#39;? The basic `Random` or `SecureRandom` solution will both require *n* calls to `nextInt()`.","body":"Do you need to restrict the string to uppercase or lowercase only? Do you accept dashes? Do you have a specific length requirement, can any fixed length suffice, or will they have to be of random length also? Finally, define how fast is &#39;fast&#39;? The basic <code>Random</code> or <code>SecureRandom</code> solution will both require <i>n</i> calls to <code>nextInt()</code>."}],"answers":[{"comments":[{"owner":{"account_id":880090,"reputation":471,"user_id":223377,"display_name":"Tito"},"score":17,"creation_date":1369234673,"post_id":7111697,"comment_id":24028106,"body_markdown":"UUIDs are random enough for accidental collisions. However, they are NOT useable for security, they fail against an attacker actively trying to guess values.","body":"UUIDs are random enough for accidental collisions. However, they are NOT useable for security, they fail against an attacker actively trying to guess values."},{"owner":{"account_id":191619,"reputation":17552,"user_id":432294,"accept_rate":91,"display_name":"Jay Sullivan"},"score":0,"creation_date":1449614635,"post_id":7111697,"comment_id":56082357,"body_markdown":"@Tito: What? How is an attacker going to guess a 128-bit value?","body":"@Tito: What? How is an attacker going to guess a 128-bit value?"},{"owner":{"account_id":880090,"reputation":471,"user_id":223377,"display_name":"Tito"},"score":4,"creation_date":1453001602,"post_id":7111697,"comment_id":57410939,"body_markdown":"Length is NOT the problem with UUIDs/GUIDs.  A 128 bits generated using a &quot;cryptographically strong RNG&quot; is fine (e.g. SecureRandom).  \n\nThe problem is that &quot;random&quot; has to be cryptographically random. GUIDS can be generated with a variety of algorithms and are not guaranteed to be cryptographically secure.\nFor example: http://stackoverflow.com/questions/3652944/how-securely-unguessable-are-guids","body":"Length is NOT the problem with UUIDs/GUIDs.  A 128 bits generated using a &quot;cryptographically strong RNG&quot; is fine (e.g. SecureRandom).    The problem is that &quot;random&quot; has to be cryptographically random. GUIDS can be generated with a variety of algorithms and are not guaranteed to be cryptographically secure. For example: <a href=\"http://stackoverflow.com/questions/3652944/how-securely-unguessable-are-guids\" title=\"how securely unguessable are guids\">stackoverflow.com/questions/3652944/&hellip;</a>"},{"owner":{"account_id":880090,"reputation":471,"user_id":223377,"display_name":"Tito"},"score":3,"creation_date":1453001828,"post_id":7111697,"comment_id":57410979,"body_markdown":"Even the RFC that defines UUIDs says &quot;Do not assume that UUIDs are hard to guess; they should not be used as security capabilities&quot;\nhttp://tools.ietf.org/html/rfc4122","body":"Even the RFC that defines UUIDs says &quot;Do not assume that UUIDs are hard to guess; they should not be used as security capabilities&quot; <a href=\"http://tools.ietf.org/html/rfc4122\" rel=\"nofollow noreferrer\">tools.ietf.org/html/rfc4122</a>"},{"owner":{"account_id":198360,"reputation":3548,"user_id":442968,"accept_rate":67,"display_name":"Rondo"},"score":4,"creation_date":1463098013,"post_id":7111697,"comment_id":61930981,"body_markdown":"This is a fine answer. Java&#39;s UUID uses java.security.SecureRandom and java.security.provider.SecureRandom... the predictability of this has been greatly exaggerated here. Some JVM&#39;s impl&#39;s may not be as good as the Sun/Oracle OOTB one...","body":"This is a fine answer. Java&#39;s UUID uses java.security.SecureRandom and java.security.provider.SecureRandom... the predictability of this has been greatly exaggerated here. Some JVM&#39;s impl&#39;s may not be as good as the Sun/Oracle OOTB one..."},{"owner":{"account_id":1349594,"reputation":3619,"user_id":1289657,"display_name":"Macil"},"score":2,"creation_date":1537317957,"post_id":7111697,"comment_id":91737582,"body_markdown":"The documentation for [UUID.randomUUID()](https://docs.oracle.com/javase/8/docs/api/java/util/UUID.html#randomUUID()) specifies that it uses a cryptographically strong pseudo random number generator.","body":"The documentation for <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/UUID.html#randomUUID()\" rel=\"nofollow noreferrer\">UUID.randomUUID()</a> specifies that it uses a cryptographically strong pseudo random number generator."}],"tags":[],"owner":{"account_id":111110,"reputation":40021,"user_id":293686,"accept_rate":89,"display_name":"Maur&#237;cio Linhares"},"comment_count":6,"down_vote_count":10,"up_vote_count":11,"is_accepted":false,"score":1,"last_activity_date":1313689149,"creation_date":1313689149,"answer_id":7111697,"question_id":7111651,"body_markdown":"Using [UUIDs][1]:\r\n\r\n    UUID random = UUID.randomUUID();\r\n    System.out.println( random );\r\n\r\n\r\n  [1]: http://download.oracle.com/javase/6/docs/api/java/util/UUID.html","title":"How to generate a secure random alphanumeric string in Java efficiently?","body":"<p>Using <a href=\"http://download.oracle.com/javase/6/docs/api/java/util/UUID.html\" rel=\"nofollow\">UUIDs</a>:</p>\n\n<pre><code>UUID random = UUID.randomUUID();\nSystem.out.println( random );\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user784540"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1554327217,"creation_date":1313689179,"answer_id":7111702,"question_id":7111651,"body_markdown":"Generate a public key for an open-key encryption algorithm and convert the byte sequence to string via Base64 algorithm.","title":"How to generate a secure random alphanumeric string in Java efficiently?","body":"<p>Generate a public key for an open-key encryption algorithm and convert the byte sequence to string via Base64 algorithm.</p>\n"},{"comments":[{"owner":{"account_id":105068,"reputation":882,"user_id":280574,"accept_rate":100,"display_name":"Jason Wheeler"},"score":3,"creation_date":1313689799,"post_id":7111735,"comment_id":8519473,"body_markdown":"+1 for a good way to restrict a generated string to a defined list of characters.","body":"+1 for a good way to restrict a generated string to a defined list of characters."},{"owner":{"account_id":3348911,"reputation":6289,"user_id":4756173,"display_name":"Philippe Fanaro"},"score":0,"creation_date":1685106966,"post_id":7111735,"comment_id":134619226,"body_markdown":"Gotta show the code...","body":"Gotta show the code..."}],"tags":[],"owner":{"account_id":277416,"reputation":681878,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"comment_count":2,"down_vote_count":3,"up_vote_count":41,"is_accepted":false,"score":38,"last_activity_date":1313689400,"creation_date":1313689400,"answer_id":7111735,"question_id":7111651,"body_markdown":"Initialize an array containing all the accepted chars (`CHARS_ARRAY`), then instantiate a [SecureRandom][1] instance, and call `nextInt(CHARS_ARRAY.length)` repeatedly to get a random index in your char array. Append each char to a `StringBuilder` until you get the expected number of chars.\r\n\r\n\r\n  [1]: http://download.oracle.com/javase/6/docs/api/java/security/SecureRandom.html","title":"How to generate a secure random alphanumeric string in Java efficiently?","body":"<p>Initialize an array containing all the accepted chars (<code>CHARS_ARRAY</code>), then instantiate a <a href=\"http://download.oracle.com/javase/6/docs/api/java/security/SecureRandom.html\" rel=\"noreferrer\">SecureRandom</a> instance, and call <code>nextInt(CHARS_ARRAY.length)</code> repeatedly to get a random index in your char array. Append each char to a <code>StringBuilder</code> until you get the expected number of chars.</p>\n"},{"tags":[],"owner":{"account_id":105068,"reputation":882,"user_id":280574,"accept_rate":100,"display_name":"Jason Wheeler"},"comment_count":0,"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1313689869,"creation_date":1313689509,"answer_id":7111761,"question_id":7111651,"body_markdown":"http://download.oracle.com/javase/6/docs/api/java/security/SecureRandom.html\r\n\r\nFrom the Javadoc:\r\n\r\n    SecureRandom random = new SecureRandom();\r\n    byte bytes[] = new byte[20];\r\n    random.nextBytes(bytes);\r\n","title":"How to generate a secure random alphanumeric string in Java efficiently?","body":"<p><a href=\"http://download.oracle.com/javase/6/docs/api/java/security/SecureRandom.html\" rel=\"nofollow\">http://download.oracle.com/javase/6/docs/api/java/security/SecureRandom.html</a></p>\n\n<p>From the Javadoc:</p>\n\n<pre><code>SecureRandom random = new SecureRandom();\nbyte bytes[] = new byte[20];\nrandom.nextBytes(bytes);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":795970,"reputation":419,"user_id":901113,"display_name":"devon"},"score":0,"creation_date":1313696751,"post_id":7111973,"comment_id":8521660,"body_markdown":"This is not fast enough--maybe because of the multiple calls to nextInt()?","body":"This is not fast enough--maybe because of the multiple calls to nextInt()?"},{"owner":{"account_id":434266,"reputation":15464,"user_id":820127,"display_name":"rossum"},"score":0,"creation_date":1313705470,"post_id":7111973,"comment_id":8524102,"body_markdown":"Secure is slow.  Insecure is fast.  If you want a secure random number then it will take a little time.","body":"Secure is slow.  Insecure is fast.  If you want a secure random number then it will take a little time."},{"owner":{"account_id":2496,"reputation":266244,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"score":0,"creation_date":1313782474,"post_id":7111973,"comment_id":8541307,"body_markdown":"@devon - Initializing a `SecureRandom` instance is slow. In fact, if it&#39;s implemented correctly on your system, it can take quite a while to gather enough entropy for a seed. Make sure that you don&#39;t count that initialization time in your tests. Or, if you don&#39;t need cryptographic quality, use a different RNG.","body":"@devon - Initializing a <code>SecureRandom</code> instance is slow. In fact, if it&#39;s implemented correctly on your system, it can take quite a while to gather enough entropy for a seed. Make sure that you don&#39;t count that initialization time in your tests. Or, if you don&#39;t need cryptographic quality, use a different RNG."},{"owner":{"account_id":1555672,"reputation":429,"user_id":1446860,"accept_rate":69,"display_name":"Michael Scott"},"score":0,"creation_date":1387946883,"post_id":7111973,"comment_id":31128900,"body_markdown":"@Erickson I know your comment is old, but when testing this, it was very fast. In eclipse, the second I click run, it printed out my string. Does that mean something is wrong? Or is this fast 2 years later?","body":"@Erickson I know your comment is old, but when testing this, it was very fast. In eclipse, the second I click run, it printed out my string. Does that mean something is wrong? Or is this fast 2 years later?"},{"owner":{"account_id":2496,"reputation":266244,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"score":1,"creation_date":1387964347,"post_id":7111973,"comment_id":31132419,"body_markdown":"@MichaelScott It depends on the underlying operating system, and the &quot;entropy gathering device&quot; setting in the Java security properties. On Linux, there are two devices provided by the operating system that Java can read to get random seeds for new `SecureRandom` instances. One of the devices only returns random bits (generated slowly by timing various system events), and if you consume a lot of entropy on the system, it will soon block, and take a while to create new instances. The other device uses pseudo-random bits and is non-blocking. With this one, you wouldn&#39;t see any delays.","body":"@MichaelScott It depends on the underlying operating system, and the &quot;entropy gathering device&quot; setting in the Java security properties. On Linux, there are two devices provided by the operating system that Java can read to get random seeds for new <code>SecureRandom</code> instances. One of the devices only returns random bits (generated slowly by timing various system events), and if you consume a lot of entropy on the system, it will soon block, and take a while to create new instances. The other device uses pseudo-random bits and is non-blocking. With this one, you wouldn&#39;t see any delays."},{"owner":{"account_id":1555672,"reputation":429,"user_id":1446860,"accept_rate":69,"display_name":"Michael Scott"},"score":0,"creation_date":1388040178,"post_id":7111973,"comment_id":31148416,"body_markdown":"@Erickson I need this SecureRandom for security purposes, not simulation. Is there a way I can verify that the SecureRandom I am using will be appropriate for security purposes? I do not want pseudo-random.","body":"@Erickson I need this SecureRandom for security purposes, not simulation. Is there a way I can verify that the SecureRandom I am using will be appropriate for security purposes? I do not want pseudo-random."},{"owner":{"account_id":2496,"reputation":266244,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"score":0,"creation_date":1388095795,"post_id":7111973,"comment_id":31168840,"body_markdown":"@MichaelScott [This article](http://resources.infosecinstitute.com/random-number-generation-java/) has good info about the various configuration options. An application can request an RNG with a particular algorithm from a particular provider; in the case of the Sun provider on Linux, the behavior depends on some system-wide configuration that would be hard for the application to verify. If it doesn&#39;t make specific requests, the application will receive the default RNG, and it would be difficult for it to assess its security.","body":"@MichaelScott <a href=\"http://resources.infosecinstitute.com/random-number-generation-java/\" rel=\"nofollow noreferrer\">This article</a> has good info about the various configuration options. An application can request an RNG with a particular algorithm from a particular provider; in the case of the Sun provider on Linux, the behavior depends on some system-wide configuration that would be hard for the application to verify. If it doesn&#39;t make specific requests, the application will receive the default RNG, and it would be difficult for it to assess its security."}],"tags":[],"owner":{"account_id":2496,"reputation":266244,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"comment_count":7,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1313690696,"creation_date":1313690696,"answer_id":7111973,"question_id":7111651,"body_markdown":"Here&#39;s a slightly modified version of my code from [the duplicate question.][1]\r\n\r\n    public final class RandomString\r\n    {\r\n    \r\n      /* Assign a string that contains the set of characters you allow. */\r\n      private static final String symbols = &quot;ABCDEFGJKLMNPRSTUVWXYZ0123456789&quot;; \r\n    \r\n      private final Random random = new SecureRandom();\r\n    \r\n      private final char[] buf;\r\n    \r\n      public RandomString(int length)\r\n      {\r\n        if (length &lt; 1)\r\n          throw new IllegalArgumentException(&quot;length &lt; 1: &quot; + length);\r\n        buf = new char[length];\r\n      }\r\n    \r\n      public String nextString()\r\n      {\r\n        for (int idx = 0; idx &lt; buf.length; ++idx) \r\n          buf[idx] = symbols.charAt(random.nextInt(symbols.length()));\r\n        return new String(buf);\r\n      }\r\n    \r\n    }\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/41107/how-to-generate-a-random-alpha-numeric-string-in-java","title":"How to generate a secure random alphanumeric string in Java efficiently?","body":"<p>Here's a slightly modified version of my code from <a href=\"https://stackoverflow.com/questions/41107/how-to-generate-a-random-alpha-numeric-string-in-java\">the duplicate question.</a></p>\n\n<pre><code>public final class RandomString\n{\n\n  /* Assign a string that contains the set of characters you allow. */\n  private static final String symbols = \"ABCDEFGJKLMNPRSTUVWXYZ0123456789\"; \n\n  private final Random random = new SecureRandom();\n\n  private final char[] buf;\n\n  public RandomString(int length)\n  {\n    if (length &lt; 1)\n      throw new IllegalArgumentException(\"length &lt; 1: \" + length);\n    buf = new char[length];\n  }\n\n  public String nextString()\n  {\n    for (int idx = 0; idx &lt; buf.length; ++idx) \n      buf[idx] = symbols.charAt(random.nextInt(symbols.length()));\n    return new String(buf);\n  }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":49931,"reputation":25463,"user_id":148844,"accept_rate":67,"display_name":"Chloe"},"comment_count":0,"down_vote_count":1,"up_vote_count":18,"is_accepted":false,"score":17,"last_activity_date":1685108587,"creation_date":1554326031,"answer_id":55504372,"question_id":7111651,"body_markdown":"```java\r\nfinal String chrs = &quot;0123456789abcdefghijklmnopqrstuvwxyz-_ABCDEFGHIJKLMNOPQRSTUVWXYZ&quot;;\r\n\r\nfinal SecureRandom secureRandom = SecureRandom.getInstanceStrong();\r\n\r\nfinal String customTag = secureRandom\r\n    .ints(9, 0, chrs.length()) // 9 is the length of the string you want\r\n    .mapToObj(i -&gt; chrs.charAt(i))\r\n    .collect(StringBuilder::new, StringBuilder::append, StringBuilder::append)\r\n    .toString();\r\n\r\nSystem.out.println(customTag);\r\n```\r\n\r\nExamples: \r\n\r\n    // q3HX6EctP\r\n    // WjRrMjQT4\r\n    // sX-Piq4DB\r\n\r\n","title":"How to generate a secure random alphanumeric string in Java efficiently?","body":"<pre class=\"lang-java prettyprint-override\"><code>final String chrs = &quot;0123456789abcdefghijklmnopqrstuvwxyz-_ABCDEFGHIJKLMNOPQRSTUVWXYZ&quot;;\n\nfinal SecureRandom secureRandom = SecureRandom.getInstanceStrong();\n\nfinal String customTag = secureRandom\n    .ints(9, 0, chrs.length()) // 9 is the length of the string you want\n    .mapToObj(i -&gt; chrs.charAt(i))\n    .collect(StringBuilder::new, StringBuilder::append, StringBuilder::append)\n    .toString();\n\nSystem.out.println(customTag);\n</code></pre>\n<p>Examples:</p>\n<pre><code>// q3HX6EctP\n// WjRrMjQT4\n// sX-Piq4DB\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3528508,"reputation":621,"user_id":2948862,"display_name":"eliteproxy"},"score":1,"creation_date":1623883068,"post_id":55885004,"comment_id":120207759,"body_markdown":"Great for generating random nonce for CSP headers! Just base64 encode it when you&#39;re done :)","body":"Great for generating random nonce for CSP headers! Just base64 encode it when you&#39;re done :)"},{"owner":{"account_id":2392816,"reputation":2925,"user_id":2092322,"accept_rate":88,"display_name":"BairDev"},"score":0,"creation_date":1632995328,"post_id":55885004,"comment_id":122645961,"body_markdown":"`//minimum length of 6 \\ if (length &lt; 4) { ... }`: the condition does not match the comment.","body":"<code>&#47;&#47;minimum length of 6 \\ if (length &lt; 4) { ... }</code>: the condition does not match the comment."},{"owner":{"account_id":6433233,"reputation":13876,"user_id":4985580,"display_name":"F_SO_K"},"score":0,"creation_date":1633095913,"post_id":55885004,"comment_id":122676456,"body_markdown":"Thanks - fixed the code.","body":"Thanks - fixed the code."}],"tags":[],"owner":{"account_id":6433233,"reputation":13876,"user_id":4985580,"display_name":"F_SO_K"},"comment_count":3,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1633095901,"creation_date":1556400507,"answer_id":55885004,"question_id":7111651,"body_markdown":" \r\n    import java.security.SecureRandom;\r\n    import java.util.Random;\r\n\r\n    public class PasswordHelper {        \r\n        \r\n        public static String generatePassword (int length) {\r\n    \t\r\n    \t//minimum length of 6\r\n    \tif (length &lt; 6) {\r\n    \t    length = 6;\r\n    \t}\r\n    \t\r\n    \tfinal char[] allAllowed = &quot;abcdefghijklmnopqrstuvwxyzABCDEFGJKLMNPRSTUVWXYZ0123456789&quot;.toCharArray();\r\n    \t\r\n    \t//Use cryptographically secure random number generator\r\n    \tRandom random = new SecureRandom();\r\n    \t\r\n    \tStringBuilder password = new StringBuilder(); \r\n    \t\r\n    \tfor (int i = 0; i &lt; length; i++) {\r\n    \t    password.append(allAllowed[random.nextInt(allAllowed.length)]);\r\n    \t}\r\n    \t\r\n    \treturn password.toString();\r\n    \t\r\n        }\r\n    \r\n    }\r\n\r\n","title":"How to generate a secure random alphanumeric string in Java efficiently?","body":"<pre><code>import java.security.SecureRandom;\nimport java.util.Random;\n\npublic class PasswordHelper {        \n    \n    public static String generatePassword (int length) {\n    \n    //minimum length of 6\n    if (length &lt; 6) {\n        length = 6;\n    }\n    \n    final char[] allAllowed = &quot;abcdefghijklmnopqrstuvwxyzABCDEFGJKLMNPRSTUVWXYZ0123456789&quot;.toCharArray();\n    \n    //Use cryptographically secure random number generator\n    Random random = new SecureRandom();\n    \n    StringBuilder password = new StringBuilder(); \n    \n    for (int i = 0; i &lt; length; i++) {\n        password.append(allAllowed[random.nextInt(allAllowed.length)]);\n    }\n    \n    return password.toString();\n    \n    }\n\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3925091,"reputation":1149,"user_id":3245899,"accept_rate":50,"display_name":"ninjaxelite"},"score":1,"creation_date":1638798911,"post_id":60997561,"comment_id":124176491,"body_markdown":"This approach is not quite secure and leads to high predictability after several tries. I would go with SecureRandom or RandomStringGenerator.Builder.","body":"This approach is not quite secure and leads to high predictability after several tries. I would go with SecureRandom or RandomStringGenerator.Builder."},{"owner":{"account_id":4890986,"reputation":1123,"user_id":3942132,"display_name":"Roie Beck"},"score":5,"creation_date":1640806905,"post_id":60997561,"comment_id":124665234,"body_markdown":"@ninjaxelite why? he is using SecureRandom as seed, the randomness comes from the new SecureRandom(),\nlook here:\nhttps://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/RandomStringUtils.html","body":"@ninjaxelite why? he is using SecureRandom as seed, the randomness comes from the new SecureRandom(), look here: <a href=\"https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/RandomStringUtils.html\" rel=\"nofollow noreferrer\">commons.apache.org/proper/commons-lang/apidocs/org/apache/&hellip;</a>"},{"owner":{"account_id":6085642,"reputation":568,"user_id":5122436,"display_name":"Mikhail Ionkin"},"score":1,"creation_date":1649441258,"post_id":60997561,"comment_id":126885113,"body_markdown":"It is clearly specified as a **non secure**: Caveat: Instances of Random, upon which the implementation of this class relies, are not cryptographically secure.","body":"It is clearly specified as a <b>non secure</b>: Caveat: Instances of Random, upon which the implementation of this class relies, are not cryptographically secure."},{"owner":{"account_id":5305456,"reputation":1084,"user_id":4816322,"accept_rate":83,"display_name":"RvPr"},"score":3,"creation_date":1665503822,"post_id":60997561,"comment_id":130713793,"body_markdown":"The quoted comment is referring to the default source of randomness used by RandomStringUtils, which is `Random`. The answer is providing a `SecureRandom` instance, via a method which is explicitly designed and intended to override the default instance","body":"The quoted comment is referring to the default source of randomness used by RandomStringUtils, which is <code>Random</code>. The answer is providing a <code>SecureRandom</code> instance, via a method which is explicitly designed and intended to override the default instance"}],"tags":[],"owner":{"account_id":337043,"reputation":894,"user_id":665073,"display_name":"Naliba"},"comment_count":4,"down_vote_count":1,"up_vote_count":24,"is_accepted":false,"score":23,"last_activity_date":1585848646,"creation_date":1585848646,"answer_id":60997561,"question_id":7111651,"body_markdown":"If you use [Apache Commons Lang][1], the easiest way is\r\n\r\n```\r\nRandomStringUtils.random(20, 0, 0, true, true, null, new SecureRandom());\r\n```\r\n\r\n\r\n  [1]: https://commons.apache.org/proper/commons-lang/","title":"How to generate a secure random alphanumeric string in Java efficiently?","body":"<p>If you use <a href=\"https://commons.apache.org/proper/commons-lang/\" rel=\"noreferrer\">Apache Commons Lang</a>, the easiest way is</p>\n\n<pre><code>RandomStringUtils.random(20, 0, 0, true, true, null, new SecureRandom());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15128664,"reputation":331,"user_id":12001093,"display_name":"05nelsonm"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1599845104,"creation_date":1599843382,"answer_id":63851310,"question_id":7111651,"body_markdown":"My spec for this randomly generated string was to produce a 35 character length encryption key (a-zA-Z2-7 characters only for first 25 chars). After every 5th character a `-` used, and the last 5 characters were to be an integer between 10_000 and 19_999.\r\n\r\nHere&#39;s the code for what I did (in Kotlin).\r\n\r\n    companion object {\r\n\r\n        /**\r\n         * Letters lower &amp; upper case excluding:\r\n         *\r\n         *   - l, o, B, O\r\n         *\r\n         * Numbers excluding:\r\n         *\r\n         *   - 0, 1, 8, 9\r\n         * */\r\n        val acceptedChars: CharArray\r\n            get() = charArrayOf(\r\n                &#39;a&#39;, &#39;b&#39;, &#39;c&#39;, &#39;d&#39;, &#39;e&#39;,\r\n                &#39;f&#39;, &#39;g&#39;, &#39;h&#39;, &#39;i&#39;, &#39;j&#39;,\r\n                &#39;k&#39;, &#39;m&#39;, &#39;n&#39;, &#39;p&#39;, &#39;q&#39;,\r\n                &#39;r&#39;, &#39;s&#39;, &#39;t&#39;, &#39;u&#39;, &#39;v&#39;,\r\n                &#39;w&#39;, &#39;x&#39;, &#39;y&#39;, &#39;z&#39;, &#39;A&#39;,\r\n                &#39;C&#39;, &#39;D&#39;, &#39;E&#39;, &#39;F&#39;, &#39;G&#39;,\r\n                &#39;H&#39;, &#39;I&#39;, &#39;J&#39;, &#39;K&#39;, &#39;L&#39;,\r\n                &#39;M&#39;, &#39;N&#39;, &#39;P&#39;, &#39;Q&#39;, &#39;R&#39;,\r\n                &#39;S&#39;, &#39;T&#39;, &#39;U&#39;, &#39;V&#39;, &#39;W&#39;,\r\n                &#39;X&#39;, &#39;Y&#39;, &#39;Z&#39;, &#39;2&#39;, &#39;3&#39;,\r\n                &#39;4&#39;, &#39;5&#39;, &#39;6&#39;, &#39;7&#39;\r\n            )\r\n\r\n        val acceptedInts: CharArray\r\n            get() = charArrayOf(\r\n                &#39;0&#39;, &#39;1&#39;, &#39;2&#39;, &#39;3&#39;, &#39;4&#39;,\r\n                &#39;5&#39;, &#39;6&#39;, &#39;7&#39;, &#39;8&#39;, &#39;9&#39;\r\n            )\r\n\r\n        fun generate(): EncryptionKey {\r\n            val random = SecureRandom()\r\n            val stringBuilder = StringBuilder()\r\n            for (i in 0 until 35) {\r\n                when (i) {\r\n                    5, 11, 17, 23, 29 -&gt; {\r\n                        stringBuilder.append(&quot;-&quot;)\r\n                    }\r\n                    30 -&gt; {\r\n                        stringBuilder.append(&quot;1&quot;)\r\n                    }\r\n                    31, 32, 33, 34 -&gt; {\r\n                        val index = random.nextInt(acceptedInts.size)\r\n                        stringBuilder.append(acceptedInts[index])\r\n                    }\r\n                    else -&gt; {\r\n                        val index = random.nextInt(acceptedChars.size)\r\n                        stringBuilder.append(acceptedChars[index])\r\n                    }\r\n                }\r\n            }\r\n            return EncryptionKey(stringBuilder.toString())\r\n        }\r\n    }\r\n\r\nresults produced:\r\n\r\n```\r\nvalue: &#39;nK6UI-DWYvu-dbmhD-KPe5X-22dPT-10027&#39;, length: &#39;35&#39;\r\nvalue: &#39;NIFvi-aX4GW-3xCYV-YSAVs-tASIK-15301&#39;, length: &#39;35&#39;\r\nvalue: &#39;SpNkT-qxHR7-hSMkK-hVxpp-AqLFh-19409&#39;, length: &#39;35&#39;\r\nvalue: &#39;bNvi2-svqX7-cfEw5-LNYDn-C2FtW-16197&#39;, length: &#39;35&#39;\r\nvalue: &#39;hhjLX-KmRQU-KbHyU-CkNyD-5ASk6-14537&#39;, length: &#39;35&#39;\r\nvalue: &#39;Xd2cj-braCm-FaE4E-Jvn2G-2Dv5J-12243&#39;, length: &#39;35&#39;\r\nvalue: &#39;7beFb-aeSe2-iHXZe-mTUHT-aEbry-17349&#39;, length: &#39;35&#39;\r\nvalue: &#39;NExMa-xCAbU-VkpyS-xeEkj-QUayd-16311&#39;, length: &#39;35&#39;\r\nvalue: &#39;52HWN-EX7wV-csbhj-InhtU-gbV46-18606&#39;, length: &#39;35&#39;\r\nvalue: &#39;n3RTZ-whpjQ-ZjW5n-tTyfR-eLDSF-14003&#39;, length: &#39;35&#39;\r\nvalue: &#39;aJEks-ccKdU-KGJdh-Rz4ck-tR7Uq-12199&#39;, length: &#39;35&#39;\r\nvalue: &#39;nMcUF-ctbcy-FEfq7-VJhRx-pCKej-16369&#39;, length: &#39;35&#39;\r\n```","title":"How to generate a secure random alphanumeric string in Java efficiently?","body":"<p>My spec for this randomly generated string was to produce a 35 character length encryption key (a-zA-Z2-7 characters only for first 25 chars). After every 5th character a <code>-</code> used, and the last 5 characters were to be an integer between 10_000 and 19_999.</p>\n<p>Here's the code for what I did (in Kotlin).</p>\n<pre><code>companion object {\n\n    /**\n     * Letters lower &amp; upper case excluding:\n     *\n     *   - l, o, B, O\n     *\n     * Numbers excluding:\n     *\n     *   - 0, 1, 8, 9\n     * */\n    val acceptedChars: CharArray\n        get() = charArrayOf(\n            'a', 'b', 'c', 'd', 'e',\n            'f', 'g', 'h', 'i', 'j',\n            'k', 'm', 'n', 'p', 'q',\n            'r', 's', 't', 'u', 'v',\n            'w', 'x', 'y', 'z', 'A',\n            'C', 'D', 'E', 'F', 'G',\n            'H', 'I', 'J', 'K', 'L',\n            'M', 'N', 'P', 'Q', 'R',\n            'S', 'T', 'U', 'V', 'W',\n            'X', 'Y', 'Z', '2', '3',\n            '4', '5', '6', '7'\n        )\n\n    val acceptedInts: CharArray\n        get() = charArrayOf(\n            '0', '1', '2', '3', '4',\n            '5', '6', '7', '8', '9'\n        )\n\n    fun generate(): EncryptionKey {\n        val random = SecureRandom()\n        val stringBuilder = StringBuilder()\n        for (i in 0 until 35) {\n            when (i) {\n                5, 11, 17, 23, 29 -&gt; {\n                    stringBuilder.append(&quot;-&quot;)\n                }\n                30 -&gt; {\n                    stringBuilder.append(&quot;1&quot;)\n                }\n                31, 32, 33, 34 -&gt; {\n                    val index = random.nextInt(acceptedInts.size)\n                    stringBuilder.append(acceptedInts[index])\n                }\n                else -&gt; {\n                    val index = random.nextInt(acceptedChars.size)\n                    stringBuilder.append(acceptedChars[index])\n                }\n            }\n        }\n        return EncryptionKey(stringBuilder.toString())\n    }\n}\n</code></pre>\n<p>results produced:</p>\n<pre><code>value: 'nK6UI-DWYvu-dbmhD-KPe5X-22dPT-10027', length: '35'\nvalue: 'NIFvi-aX4GW-3xCYV-YSAVs-tASIK-15301', length: '35'\nvalue: 'SpNkT-qxHR7-hSMkK-hVxpp-AqLFh-19409', length: '35'\nvalue: 'bNvi2-svqX7-cfEw5-LNYDn-C2FtW-16197', length: '35'\nvalue: 'hhjLX-KmRQU-KbHyU-CkNyD-5ASk6-14537', length: '35'\nvalue: 'Xd2cj-braCm-FaE4E-Jvn2G-2Dv5J-12243', length: '35'\nvalue: '7beFb-aeSe2-iHXZe-mTUHT-aEbry-17349', length: '35'\nvalue: 'NExMa-xCAbU-VkpyS-xeEkj-QUayd-16311', length: '35'\nvalue: '52HWN-EX7wV-csbhj-InhtU-gbV46-18606', length: '35'\nvalue: 'n3RTZ-whpjQ-ZjW5n-tTyfR-eLDSF-14003', length: '35'\nvalue: 'aJEks-ccKdU-KGJdh-Rz4ck-tR7Uq-12199', length: '35'\nvalue: 'nMcUF-ctbcy-FEfq7-VJhRx-pCKej-16369', length: '35'\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4491227,"reputation":1182,"user_id":3652270,"display_name":"sanastasiadis"},"score":0,"creation_date":1633116540,"post_id":69407045,"comment_id":122683905,"body_markdown":"Could you please edit your answer and add a code sample implementing your suggestion?","body":"Could you please edit your answer and add a code sample implementing your suggestion?"}],"tags":[],"owner":{"account_id":22911962,"reputation":1,"user_id":17049084,"display_name":"Swadesh Roy"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633096333,"creation_date":1633096333,"answer_id":69407045,"question_id":7111651,"body_markdown":"Initialize an array containing all the accepted chars ( CHARS_ARRAY ), then instantiate a SecureRandom instance, and call nextInt(CHARS_ARRAY. length) repeatedly to get a random index in your char array. Append each char to a StringBuilder until you get the expected number of chars.","title":"How to generate a secure random alphanumeric string in Java efficiently?","body":"<p>Initialize an array containing all the accepted chars ( CHARS_ARRAY ), then instantiate a SecureRandom instance, and call nextInt(CHARS_ARRAY. length) repeatedly to get a random index in your char array. Append each char to a StringBuilder until you get the expected number of chars.</p>\n"},{"tags":[],"owner":{"account_id":6085642,"reputation":568,"user_id":5122436,"display_name":"Mikhail Ionkin"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649442583,"creation_date":1649442583,"answer_id":71801706,"question_id":7111651,"body_markdown":"I&#39;m not sure about efficienty (probably you can&#39;t create much more efficient variant), but this variant is simple and secure (**while [RandomStringUtils](https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/RandomStringUtils.html) is not**):\r\n\r\n```java\r\n    SecureRandom randomGenerator = new SecureRandom();\r\n    byte[] randomBytes = new byte[20];\r\n    randomGenerator.nextBytes(randomBytes);\r\n    String randomString = new BigInteger(1, randomBytes).toString(16);\r\n```\r\nIt you want to a little more efficient variant, specify randomGenerator as class field or as a static field.\r\n\r\nTaked from https://stackoverflow.com/a/44227131/5122436","title":"How to generate a secure random alphanumeric string in Java efficiently?","body":"<p>I'm not sure about efficienty (probably you can't create much more efficient variant), but this variant is simple and secure (<strong>while <a href=\"https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/RandomStringUtils.html\" rel=\"nofollow noreferrer\">RandomStringUtils</a> is not</strong>):</p>\n<pre class=\"lang-java prettyprint-override\"><code>    SecureRandom randomGenerator = new SecureRandom();\n    byte[] randomBytes = new byte[20];\n    randomGenerator.nextBytes(randomBytes);\n    String randomString = new BigInteger(1, randomBytes).toString(16);\n</code></pre>\n<p>It you want to a little more efficient variant, specify randomGenerator as class field or as a static field.</p>\n<p>Taked from <a href=\"https://stackoverflow.com/a/44227131/5122436\">https://stackoverflow.com/a/44227131/5122436</a></p>\n"}],"owner":{"account_id":795970,"reputation":419,"user_id":901113,"display_name":"devon"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57251,"favorite_count":0,"down_vote_count":1,"up_vote_count":42,"answer_count":11,"score":41,"last_activity_date":1685108587,"creation_date":1313688928,"question_id":7111651,"body_markdown":"How do you generate a secure random (or pseudo-random) alphanumeric string in Java efficiently?","title":"How to generate a secure random alphanumeric string in Java efficiently?","body":"<p>How do you generate a secure random (or pseudo-random) alphanumeric string in Java efficiently?</p>\n"},{"tags":["java","sql-server-2005","jdbc"],"comments":[{"owner":{"account_id":8834,"reputation":297144,"user_id":16076,"display_name":"Mitch Wheat"},"score":2,"creation_date":1368281795,"post_id":16497998,"comment_id":23680219,"body_markdown":"and have you done what is suggested in the error message?","body":"and have you done what is suggested in the error message?"},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":1,"creation_date":1368281811,"post_id":16497998,"comment_id":23680224,"body_markdown":"Well have you set up SQL server to allow TCP/IP connections on port 1433? It sounds like you haven&#39;t.","body":"Well have you set up SQL server to allow TCP/IP connections on port 1433? It sounds like you haven&#39;t."},{"owner":{"account_id":1652904,"reputation":615,"user_id":1523127,"accept_rate":44,"display_name":"yatinbc"},"score":0,"creation_date":1368282005,"post_id":16497998,"comment_id":23680278,"body_markdown":"I am not getting that error .please help what to do","body":"I am not getting that error .please help what to do"},{"owner":{"account_id":1652904,"reputation":615,"user_id":1523127,"accept_rate":44,"display_name":"yatinbc"},"score":0,"creation_date":1368282052,"post_id":16497998,"comment_id":23680286,"body_markdown":"@Jon : How to do that? Do i need any dll&#39;s to set up it","body":"@Jon : How to do that? Do i need any dll&#39;s to set up it"},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":1,"creation_date":1368282318,"post_id":16497998,"comment_id":23680354,"body_markdown":"@yatinbc: Go into your SQL Server administration tool, and enable TCP-IP connections. If that&#39;s not enough information for you, search the web for how to do this - I&#39;m sure it&#39;s covered in a lot of places.","body":"@yatinbc: Go into your SQL Server administration tool, and enable TCP-IP connections. If that&#39;s not enough information for you, search the web for how to do this - I&#39;m sure it&#39;s covered in a lot of places."},{"owner":{"account_id":1241984,"reputation":439,"user_id":1204370,"display_name":"Mohammed Alaghbari"},"score":0,"creation_date":1368284122,"post_id":16497998,"comment_id":23680860,"body_markdown":"Does it work well with you when using SQL Server authentication user and password?","body":"Does it work well with you when using SQL Server authentication user and password?"},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1368302407,"post_id":16497998,"comment_id":23686021,"body_markdown":"@MohammedAlaghbari Probably not, as the error has nothing to do with windows authentication: the driver isn&#39;t even able to connect to the database server.","body":"@MohammedAlaghbari Probably not, as the error has nothing to do with windows authentication: the driver isn&#39;t even able to connect to the database server."}],"answers":[{"comments":[{"owner":{"account_id":1430910,"reputation":2502,"user_id":1353361,"accept_rate":67,"display_name":"Vijay Shegokar"},"score":2,"creation_date":1506919566,"post_id":18835420,"comment_id":79993088,"body_markdown":"Answer is correct, we need to Enable TCP/IP by going to above path. But after doing this also need to restart the SQL Server service to take our changes. You can find this service in same --- Server Configuration Manager app.","body":"Answer is correct, we need to Enable TCP/IP by going to above path. But after doing this also need to restart the SQL Server service to take our changes. You can find this service in same --- Server Configuration Manager app."}],"tags":[],"owner":{"account_id":231136,"reputation":819,"user_id":495188,"accept_rate":92,"display_name":"Naveen Chakravarthy"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1379358447,"creation_date":1379358447,"answer_id":18835420,"question_id":16497998,"body_markdown":"You need to enable the SQL Server TCP/IP Protocol in Sql Server Configuration Manager app. You can see the protocol in SQL Server Network Configuration.","title":"JDBC connection to MSSQL server in windows authentication mode","body":"<p>You need to enable the SQL Server TCP/IP Protocol in Sql Server Configuration Manager app. You can see the protocol in SQL Server Network Configuration.</p>\n"},{"comments":[{"owner":{"account_id":2299825,"reputation":393,"user_id":2020332,"accept_rate":64,"display_name":"Kay"},"score":1,"creation_date":1518833001,"post_id":20184475,"comment_id":84679190,"body_markdown":"How to do this on AIX system ? (sqljdbc_auth.dll won&#39;t work in AIX)","body":"How to do this on AIX system ? (sqljdbc_auth.dll won&#39;t work in AIX)"},{"owner":{"account_id":9465431,"reputation":796,"user_id":7037949,"display_name":"Damith Udayanga"},"score":0,"creation_date":1637591650,"post_id":20184475,"comment_id":123860119,"body_markdown":"How it works on Linux","body":"How it works on Linux"}],"tags":[],"owner":{"account_id":3634103,"reputation":1249,"user_id":3029620,"display_name":"user3029620"},"comment_count":2,"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1385403326,"creation_date":1385351643,"answer_id":20184475,"question_id":16497998,"body_markdown":"Using windows authentication:\r\n\r\n    String url =&quot;jdbc:sqlserver://PC01\\inst01;databaseName=DB01;integratedSecurity=true&quot;;\r\n\r\nUsing SQL authentication: \r\n\r\n    String url =&quot;jdbc:sqlserver://PC01\\inst01;databaseName=DB01&quot;;\r\n\r\n","title":"JDBC connection to MSSQL server in windows authentication mode","body":"<p>Using windows authentication:</p>\n\n<pre><code>String url =\"jdbc:sqlserver://PC01\\inst01;databaseName=DB01;integratedSecurity=true\";\n</code></pre>\n\n<p>Using SQL authentication: </p>\n\n<pre><code>String url =\"jdbc:sqlserver://PC01\\inst01;databaseName=DB01\";\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2675079,"reputation":103,"user_id":2311663,"display_name":"Oli"},"score":1,"creation_date":1506963606,"post_id":22691421,"comment_id":80015010,"body_markdown":"this is also a correct answer, plus setting integratedSecurity=true in the url.","body":"this is also a correct answer, plus setting integratedSecurity=true in the url."},{"owner":{"account_id":6693158,"reputation":1560,"user_id":5162026,"accept_rate":79,"display_name":"jsosnowski"},"score":3,"creation_date":1569580910,"post_id":22691421,"comment_id":102652661,"body_markdown":"In my opinion it&#39;s not correct to put this dll in `Windows\\System32` directory. It&#39;ll be better to put in other new directory and add this to `PATH` variable.","body":"In my opinion it&#39;s not correct to put this dll in <code>Windows\\System32</code> directory. It&#39;ll be better to put in other new directory and add this to <code>PATH</code> variable."},{"owner":{"account_id":8719765,"reputation":1168,"user_id":6523288,"display_name":"Dragas"},"score":0,"creation_date":1571923746,"post_id":22691421,"comment_id":103406401,"body_markdown":"Pretty much that. Rewriting the `-Djava.library.path` has unintended side effects. For example losing other system libraries that java loads.","body":"Pretty much that. Rewriting the <code>-Djava.library.path</code> has unintended side effects. For example losing other system libraries that java loads."}],"tags":[],"owner":{"account_id":4209597,"reputation":171,"user_id":3447677,"display_name":"kris"},"comment_count":3,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1395932274,"creation_date":1395932274,"answer_id":22691421,"question_id":16497998,"body_markdown":"You need to add sqljdbc_auth.dll in your C:/windows/System32 folder. You can download it from http://www.microsoft.com/en-us/download/details.aspx?displaylang=en&amp;id=11774 . \r\n","title":"JDBC connection to MSSQL server in windows authentication mode","body":"<p>You need to add sqljdbc_auth.dll in your C:/windows/System32 folder. You can download it from <a href=\"http://www.microsoft.com/en-us/download/details.aspx?displaylang=en&amp;id=11774\" rel=\"noreferrer\">http://www.microsoft.com/en-us/download/details.aspx?displaylang=en&amp;id=11774</a> . </p>\n"},{"tags":[],"owner":{"account_id":110905,"reputation":553,"user_id":293273,"display_name":"Brandon Langley"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1440689399,"creation_date":1440689399,"answer_id":32253599,"question_id":16497998,"body_markdown":"If you want to do windows authentication, use the latest MS-JDBC driver and follow the instructions here:\r\n\r\nhttps://msdn.microsoft.com/en-us/library/gg558122(v=sql.110).aspx\r\n\r\n","title":"JDBC connection to MSSQL server in windows authentication mode","body":"<p>If you want to do windows authentication, use the latest MS-JDBC driver and follow the instructions here:</p>\n\n<p><a href=\"https://msdn.microsoft.com/en-us/library/gg558122(v=sql.110).aspx\" rel=\"nofollow\">https://msdn.microsoft.com/en-us/library/gg558122(v=sql.110).aspx</a></p>\n"},{"tags":[],"owner":{"account_id":5919185,"reputation":1404,"user_id":4656954,"display_name":"Abhishek Shah"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1521685087,"creation_date":1463838467,"answer_id":37363766,"question_id":16497998,"body_markdown":"From your exception trace, it looks like there is multiple possibility for this problem \r\n\r\n1). You have to check that your port **&quot;1433&quot;** is blocked by firewall or not. If you find that it is blocked then you should have to write &quot;Inbound Rule&quot;. It if found in control panel -&gt; windows firewall -&gt; Advance Setting (Option found at Left hand side) -&gt; **Inbound Rule**.\r\n\r\n2). In SQL Server configuration Manager, your **`TCP/IP`** protocol will find in disable mode. So, you should have to enable it.","title":"JDBC connection to MSSQL server in windows authentication mode","body":"<p>From your exception trace, it looks like there is multiple possibility for this problem </p>\n\n<p>1). You have to check that your port <strong>\"1433\"</strong> is blocked by firewall or not. If you find that it is blocked then you should have to write \"Inbound Rule\". It if found in control panel -> windows firewall -> Advance Setting (Option found at Left hand side) -> <strong>Inbound Rule</strong>.</p>\n\n<p>2). In SQL Server configuration Manager, your <strong><code>TCP/IP</code></strong> protocol will find in disable mode. So, you should have to enable it.</p>\n"},{"tags":[],"owner":{"account_id":13021706,"reputation":171,"user_id":9410894,"display_name":"Satish"},"comment_count":0,"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1519626437,"creation_date":1519609846,"answer_id":48980393,"question_id":16497998,"body_markdown":"Try following these steps:\r\n\r\n1. Add the `integratedSecurity=true` to JDBC URL like this:\r\n\r\n\t    Url: jdbc:sqlserver://&lt;&lt;Server&gt;&gt;:&lt;&lt;Port&gt;&gt;;databasename=&lt;&lt;DatabaseName&gt;&gt;;integratedsecurity=true \r\n\r\n2. Make sure to add the sqljdbc driver 4 or above version (sqljdbc.jar) in your project build path:\r\n\r\n\t    java.sql.DatabaseMetaData metaData = connection.getMetaData();\r\n\t    System.out.println(&quot;Driver version:&quot; + metaData.getDriverVersion());\r\n\t\t\t\r\n3. Add the VM argument for your project:\r\n\r\n\t- Find the *sqljdbc_auth.dll* file from DB installed server `(C:\\Program Files\\sqljdbc_4.0\\enu\\auth\\x86)`, or download from [this link](http://www.microsoft.com/en-us/download/details.aspx?displaylang=en&amp;id=11774).\r\n\t\t\r\n\t- Place the dll file in your project folder and specify the VM argument like this:\r\n\t\tVM Argument: `-Djava.library.path=&quot;&lt;&lt;DLL File path till folder&gt;&gt;&quot;`\r\n\t\t\r\n\t\tNOTE: Check your java version 32/64 bit then add 32/64 bit version dll file accordingly.\r\n\t\t","title":"JDBC connection to MSSQL server in windows authentication mode","body":"<p>Try following these steps:</p>\n\n<ol>\n<li><p>Add the <code>integratedSecurity=true</code> to JDBC URL like this:</p>\n\n<pre><code>Url: jdbc:sqlserver://&lt;&lt;Server&gt;&gt;:&lt;&lt;Port&gt;&gt;;databasename=&lt;&lt;DatabaseName&gt;&gt;;integratedsecurity=true \n</code></pre></li>\n<li><p>Make sure to add the sqljdbc driver 4 or above version (sqljdbc.jar) in your project build path:</p>\n\n<pre><code>java.sql.DatabaseMetaData metaData = connection.getMetaData();\nSystem.out.println(\"Driver version:\" + metaData.getDriverVersion());\n</code></pre></li>\n<li><p>Add the VM argument for your project:</p>\n\n<ul>\n<li><p>Find the <em>sqljdbc_auth.dll</em> file from DB installed server <code>(C:\\Program Files\\sqljdbc_4.0\\enu\\auth\\x86)</code>, or download from <a href=\"http://www.microsoft.com/en-us/download/details.aspx?displaylang=en&amp;id=11774\" rel=\"noreferrer\">this link</a>.</p></li>\n<li><p>Place the dll file in your project folder and specify the VM argument like this:\nVM Argument: <code>-Djava.library.path=\"&lt;&lt;DLL File path till folder&gt;&gt;\"</code></p>\n\n<p>NOTE: Check your java version 32/64 bit then add 32/64 bit version dll file accordingly.</p></li>\n</ul></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":1321086,"reputation":4305,"user_id":1266906,"display_name":"TheConstructor"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1527492009,"creation_date":1527492009,"answer_id":50561067,"question_id":16497998,"body_markdown":"For the current MS SQL JDBC driver (6.4.0) tested under Windows 7 from within DataGrip:\r\n\r\n1. as per [documentation on authenticationScheme](https://learn.microsoft.com/en-us/sql/connect/jdbc/setting-the-connection-properties?view=sql-server-2017) use fully qualified domain name as host e.g. `server.your.domain` not just `server`; the documentation also mentions the possibility to specify `serverSpn=MSSQLSvc/fqdn:port@REALM`, but I can not provide you with details on how to use this. When specifying a fqdn as host the spn is auto-generated.\r\n2. set `authenticationScheme=JavaKerberos`\r\n3. set `integratedSecurity=true`\r\n4. use your unqualified user-name (and password) to log in\r\n\r\nAs this is using JavaKerberos I would appreciate feedback on whether or not this works from outside Windows. I believe that no .dll is needed, but as I used DataGrip to create the connection I am uncertain; I would also appreciate Feedback on this!","title":"JDBC connection to MSSQL server in windows authentication mode","body":"<p>For the current MS SQL JDBC driver (6.4.0) tested under Windows 7 from within DataGrip:</p>\n\n<ol>\n<li>as per <a href=\"https://learn.microsoft.com/en-us/sql/connect/jdbc/setting-the-connection-properties?view=sql-server-2017\" rel=\"nofollow noreferrer\">documentation on authenticationScheme</a> use fully qualified domain name as host e.g. <code>server.your.domain</code> not just <code>server</code>; the documentation also mentions the possibility to specify <code>serverSpn=MSSQLSvc/fqdn:port@REALM</code>, but I can not provide you with details on how to use this. When specifying a fqdn as host the spn is auto-generated.</li>\n<li>set <code>authenticationScheme=JavaKerberos</code></li>\n<li>set <code>integratedSecurity=true</code></li>\n<li>use your unqualified user-name (and password) to log in</li>\n</ol>\n\n<p>As this is using JavaKerberos I would appreciate feedback on whether or not this works from outside Windows. I believe that no .dll is needed, but as I used DataGrip to create the connection I am uncertain; I would also appreciate Feedback on this!</p>\n"},{"comments":[{"owner":{"account_id":6693158,"reputation":1560,"user_id":5162026,"accept_rate":79,"display_name":"jsosnowski"},"score":1,"creation_date":1569580619,"post_id":55233848,"comment_id":102652550,"body_markdown":"Don&#39;t put it in JDK/JRE `bin` directory! It&#39;ll fail if you update JDK/JRE. Better put `ntlmauth.dll` file in a custom, new directory anywhere you want (not jdk location) and add this directory to the `PATH` variable.","body":"Don&#39;t put it in JDK/JRE <code>bin</code> directory! It&#39;ll fail if you update JDK/JRE. Better put <code>ntlmauth.dll</code> file in a custom, new directory anywhere you want (not jdk location) and add this directory to the <code>PATH</code> variable."}],"tags":[],"owner":{"account_id":11156848,"reputation":546,"user_id":8188304,"display_name":"Sidharth Taneja"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1552971028,"creation_date":1552971028,"answer_id":55233848,"question_id":16497998,"body_markdown":"After struggling a lot, I finally found a solution, here we go -\r\n\r\nDownload the file `jtds-1.3.1.jar` and `ntlmauth.dll` and save it in Program File -&gt; Java -&gt; JDK -&gt; jre -&gt; bin. \r\n\r\nThen use the following code - \r\n\r\n    String pPSSDBDriverName = &quot;com.microsoft.sqlserver.jdbc.SQLServerDriver&quot;;\r\n    Class.forName(pPSSDBDriverName);\r\n    DriverManager.registerDriver(new com.microsoft.sqlserver.jdbc.SQLServerDriver());\r\n    conn = DriverManager.getConnection(&quot;jdbc:jtds:sqlserver://&lt;ur_server:port&gt;;UseNTLMv2=true;Domain=AD;Trusted_Connection=yes&quot;);\r\n    stmt = conn.createStatement();\r\n    String sql = &quot; DELETE FROM &lt;data&gt; where &lt;condition&gt;;\r\n    stmt.executeUpdate(sql);\r\n\r\n \r\n","title":"JDBC connection to MSSQL server in windows authentication mode","body":"<p>After struggling a lot, I finally found a solution, here we go -</p>\n\n<p>Download the file <code>jtds-1.3.1.jar</code> and <code>ntlmauth.dll</code> and save it in Program File -> Java -> JDK -> jre -> bin. </p>\n\n<p>Then use the following code - </p>\n\n<pre><code>String pPSSDBDriverName = \"com.microsoft.sqlserver.jdbc.SQLServerDriver\";\nClass.forName(pPSSDBDriverName);\nDriverManager.registerDriver(new com.microsoft.sqlserver.jdbc.SQLServerDriver());\nconn = DriverManager.getConnection(\"jdbc:jtds:sqlserver://&lt;ur_server:port&gt;;UseNTLMv2=true;Domain=AD;Trusted_Connection=yes\");\nstmt = conn.createStatement();\nString sql = \" DELETE FROM &lt;data&gt; where &lt;condition&gt;;\nstmt.executeUpdate(sql);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18832042,"reputation":19,"user_id":13735619,"display_name":"Sergio"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1599225418,"creation_date":1599080438,"answer_id":63713481,"question_id":16497998,"body_markdown":"Nop, you have a connection error, please check your IP server adress or your firewall.\r\n\r\n**com.microsoft.sqlserver.jdbc.SQLServerException: The TCP/IP connection to the host localhost, port 1433 has failed. Error: &quot;Connection refused: connect. Verify the connection properties. Make sure that an instance of SQL Server is running on the host and accepting TCP/IP connections at the port. Make sure that TCP connections to the port are not blocked by a firewall.&quot;**.\r\n\r\n1) ping yourhost (maybe the ping service was blocked, but try anyway).\r\n2) telnet yourhost 1433 (maybe blocked).\r\n3) Contact the sysadmin with the results.","title":"JDBC connection to MSSQL server in windows authentication mode","body":"<p>Nop, you have a connection error, please check your IP server adress or your firewall.</p>\n<p><strong>com.microsoft.sqlserver.jdbc.SQLServerException: The TCP/IP connection to the host localhost, port 1433 has failed. Error: &quot;Connection refused: connect. Verify the connection properties. Make sure that an instance of SQL Server is running on the host and accepting TCP/IP connections at the port. Make sure that TCP connections to the port are not blocked by a firewall.&quot;</strong>.</p>\n<ol>\n<li>ping yourhost (maybe the ping service was blocked, but try anyway).</li>\n<li>telnet yourhost 1433 (maybe blocked).</li>\n<li>Contact the sysadmin with the results.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":8625831,"reputation":720,"user_id":6459098,"display_name":"U_R_Naveen UR_Naveen"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1599464135,"creation_date":1599464135,"answer_id":63773180,"question_id":16497998,"body_markdown":"i was getting error as &quot;This driver is not configured for integrated authentication&quot; while authenticating windows users by following jdbc string\r\n\r\n&gt; `jdbc:sqlserver://host:1433;integratedSecurity=true;domain=myDomain`\r\n\r\n\r\nSo the updated connection string to make it work is as below.\r\n\r\n&gt; `jdbc:sqlserver://host:1433;authenticationScheme=NTLM;integratedSecurity=true;domain=myDomain`\r\n\r\n**note**: username entered was without domain.","title":"JDBC connection to MSSQL server in windows authentication mode","body":"<p>i was getting error as &quot;This driver is not configured for integrated authentication&quot; while authenticating windows users by following jdbc string</p>\n<blockquote>\n<p><code>jdbc:sqlserver://host:1433;integratedSecurity=true;domain=myDomain</code></p>\n</blockquote>\n<p>So the updated connection string to make it work is as below.</p>\n<blockquote>\n<p><code>jdbc:sqlserver://host:1433;authenticationScheme=NTLM;integratedSecurity=true;domain=myDomain</code></p>\n</blockquote>\n<p><strong>note</strong>: username entered was without domain.</p>\n"},{"tags":[],"owner":{"account_id":21532069,"reputation":11,"user_id":15871354,"display_name":"Furkan"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1633647093,"creation_date":1633647093,"answer_id":69488661,"question_id":16497998,"body_markdown":"\r\n\r\nYou should copy your .dll =&gt; here &quot;mssql-jdbc_auth-9.4.0.x64.dll&quot; in that folder =&gt; sqljdbc_9.4\\enu\\auth\\x64  to your Java JDK/bin. \r\n\r\n**Shortly:**  =&gt;  sqljdbc_9.4\\enu\\auth\\x64\\mssql-jdbc_auth-9.4.0.x64.dll\r\n              to Program Files\\Java\\jdk-16\\bin\r\n              \r\nIf it doesnt work, you can open your SQL Server 2019 Configuration Manager -&gt; SQL Server Network Configuration , all protocol&#39;s name should be Enabled. After that you should click on (TCP/IP) / IP Addresses, you will see that IPALL-&gt; TCP PORT should be  1433.\r\n\r\n\r\n","title":"JDBC connection to MSSQL server in windows authentication mode","body":"<p>You should copy your .dll =&gt; here &quot;mssql-jdbc_auth-9.4.0.x64.dll&quot; in that folder =&gt; sqljdbc_9.4\\enu\\auth\\x64  to your Java JDK/bin.</p>\n<p><strong>Shortly:</strong>  =&gt;  sqljdbc_9.4\\enu\\auth\\x64\\mssql-jdbc_auth-9.4.0.x64.dll\nto Program Files\\Java\\jdk-16\\bin</p>\n<p>If it doesnt work, you can open your SQL Server 2019 Configuration Manager -&gt; SQL Server Network Configuration , all protocol's name should be Enabled. After that you should click on (TCP/IP) / IP Addresses, you will see that IPALL-&gt; TCP PORT should be  1433.</p>\n"}],"owner":{"account_id":1652904,"reputation":615,"user_id":1523127,"accept_rate":44,"display_name":"yatinbc"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":163853,"favorite_count":0,"down_vote_count":0,"up_vote_count":23,"answer_count":11,"score":23,"last_activity_date":1685108280,"creation_date":1368281691,"question_id":16497998,"body_markdown":"In my following programme I am trying to connect MSSQL Server using jdbc in windows authentication. But getting following error\r\n\r\n\r\n\r\n    import java.io.*;\r\n    import java.sql.*;\r\n    import java.util.GregorianCalendar;\r\n    import java.util.Date;\r\n    import java.text.DateFormat;\r\n    import java.text.SimpleDateFormat;\r\n    import java.util.Calendar;\r\n    \r\n    class  Cms_truncate\r\n    {\r\n    \tpublic static void main(String[] args) \r\n    \t{\r\n    \t\t Calendar cal = new GregorianCalendar();\r\n    \t\t \r\n    \t\t //String name=&quot;cmscim&quot;;\r\n    \t\t //String filename = &quot;D:\\\\programs\\\\Tomcat 6.0\\\\webapps\\\\timescape\\\\canteen_scheduller\\\\CMS_CSV\\\\cms_cim\\\\&quot;+ name+&quot;-&quot;+cal.get(Calendar.YEAR) +&quot;-&quot; +(cal.get(Calendar.MONTH)+1) + &quot;-&quot;+cal.get(Calendar.DATE)+&quot;.csv&quot;;\r\n    \t\t Connection conn = null;\r\n    \t\t String url = &quot;jdbc:sqlserver://localhost:1433;databasename=CMS_TIMES_MAIN;integratedSecurity=true&quot;;\r\n    \t\t String driver = &quot;com.microsoft.sqlserver.jdbc.SQLServerDriver&quot;;\r\n    \t\t String userName = &quot;&quot;; \r\n    \t\t String password = &quot;&quot;;\r\n    \t\t Statement stmt;\r\n    \t\t try\r\n    \t\t {\r\n    \t\t \r\n    \t\t Class.forName(driver);//.newInstance();\r\n    \t\t conn = DriverManager.getConnection(url,userName,password);\r\n    \t\t String query = &quot;select * from cim where sapId=10025331&quot;;\r\n    \t\t stmt = conn.createStatement();\r\n    \t\t int flag = stmt.executeUpdate(query);\r\n    \t     System.out.println(&quot;flag = &quot;+flag); \r\n    \t\t conn.close();\r\n    \t\tSystem.out.println(&quot;&quot;);\r\n    \t\t } catch (Exception e) {\r\n    \t\t e.printStackTrace();\r\n    \t\t }\r\n    \r\n    \t}\r\n    }\r\n\r\n\r\nI am using SQL Server in windows authentication mode.\r\nDo I need to do set up other things to connect MSSQL using jdbc in windows authentication.\r\n\r\nERROR:\r\n\r\n\r\n    com.microsoft.sqlserver.jdbc.SQLServerException: The TCP/IP connection to the host localhost, port 1433 has failed. Error: &quot;Connection refused: connect. Verify the connection properties. Make sure that an instance of SQL Server is running on the host and accepting TCP/IP connections at the port. Make sure that TCP connections to the port are not blocked by a firewall.&quot;.\r\n    \tat com.microsoft.sqlserver.jdbc.SQLServerException.makeFromDriverError(SQLServerException.java:190)\r\n    \tat com.microsoft.sqlserver.jdbc.SQLServerException.ConvertConnectExceptionToSQLServerException(SQLServerException.java:241)\r\n    \tat com.microsoft.sqlserver.jdbc.SocketFinder.findSocket(IOBuffer.java:2243)\r\n    \tat com.microsoft.sqlserver.jdbc.TDSChannel.open(IOBuffer.java:491)\r\n    \tat com.microsoft.sqlserver.jdbc.SQLServerConnection.connectHelper(SQLServerConnection.java:1309)\r\n    \tat com.microsoft.sqlserver.jdbc.SQLServerConnection.login(SQLServerConnection.java:991)\r\n    \tat com.microsoft.sqlserver.jdbc.SQLServerConnection.connect(SQLServerConnection.java:827)\r\n    \tat com.microsoft.sqlserver.jdbc.SQLServerDriver.connect(SQLServerDriver.java:1012)\r\n    \tat java.sql.DriverManager.getConnection(Unknown Source)\r\n    \tat java.sql.DriverManager.getConnection(Unknown Source)\r\n    \tat Cms_truncate.main(Cms_truncate.java:28)\r\n\r\n","title":"JDBC connection to MSSQL server in windows authentication mode","body":"<p>In my following programme I am trying to connect MSSQL Server using jdbc in windows authentication. But getting following error</p>\n\n<pre><code>import java.io.*;\nimport java.sql.*;\nimport java.util.GregorianCalendar;\nimport java.util.Date;\nimport java.text.DateFormat;\nimport java.text.SimpleDateFormat;\nimport java.util.Calendar;\n\nclass  Cms_truncate\n{\n    public static void main(String[] args) \n    {\n         Calendar cal = new GregorianCalendar();\n\n         //String name=\"cmscim\";\n         //String filename = \"D:\\\\programs\\\\Tomcat 6.0\\\\webapps\\\\timescape\\\\canteen_scheduller\\\\CMS_CSV\\\\cms_cim\\\\\"+ name+\"-\"+cal.get(Calendar.YEAR) +\"-\" +(cal.get(Calendar.MONTH)+1) + \"-\"+cal.get(Calendar.DATE)+\".csv\";\n         Connection conn = null;\n         String url = \"jdbc:sqlserver://localhost:1433;databasename=CMS_TIMES_MAIN;integratedSecurity=true\";\n         String driver = \"com.microsoft.sqlserver.jdbc.SQLServerDriver\";\n         String userName = \"\"; \n         String password = \"\";\n         Statement stmt;\n         try\n         {\n\n         Class.forName(driver);//.newInstance();\n         conn = DriverManager.getConnection(url,userName,password);\n         String query = \"select * from cim where sapId=10025331\";\n         stmt = conn.createStatement();\n         int flag = stmt.executeUpdate(query);\n         System.out.println(\"flag = \"+flag); \n         conn.close();\n        System.out.println(\"\");\n         } catch (Exception e) {\n         e.printStackTrace();\n         }\n\n    }\n}\n</code></pre>\n\n<p>I am using SQL Server in windows authentication mode.\nDo I need to do set up other things to connect MSSQL using jdbc in windows authentication.</p>\n\n<p>ERROR:</p>\n\n<pre><code>com.microsoft.sqlserver.jdbc.SQLServerException: The TCP/IP connection to the host localhost, port 1433 has failed. Error: \"Connection refused: connect. Verify the connection properties. Make sure that an instance of SQL Server is running on the host and accepting TCP/IP connections at the port. Make sure that TCP connections to the port are not blocked by a firewall.\".\n    at com.microsoft.sqlserver.jdbc.SQLServerException.makeFromDriverError(SQLServerException.java:190)\n    at com.microsoft.sqlserver.jdbc.SQLServerException.ConvertConnectExceptionToSQLServerException(SQLServerException.java:241)\n    at com.microsoft.sqlserver.jdbc.SocketFinder.findSocket(IOBuffer.java:2243)\n    at com.microsoft.sqlserver.jdbc.TDSChannel.open(IOBuffer.java:491)\n    at com.microsoft.sqlserver.jdbc.SQLServerConnection.connectHelper(SQLServerConnection.java:1309)\n    at com.microsoft.sqlserver.jdbc.SQLServerConnection.login(SQLServerConnection.java:991)\n    at com.microsoft.sqlserver.jdbc.SQLServerConnection.connect(SQLServerConnection.java:827)\n    at com.microsoft.sqlserver.jdbc.SQLServerDriver.connect(SQLServerDriver.java:1012)\n    at java.sql.DriverManager.getConnection(Unknown Source)\n    at java.sql.DriverManager.getConnection(Unknown Source)\n    at Cms_truncate.main(Cms_truncate.java:28)\n</code></pre>\n"},{"tags":["java","apache-flink","flink-streaming","rocksdb"],"comments":[{"owner":{"account_id":82425,"reputation":8280,"user_id":231762,"display_name":"kkrugler"},"score":0,"creation_date":1684858717,"post_id":76308686,"comment_id":134577588,"body_markdown":"Unfortunately it&#39;s unclear from your description WHY you need to know the list size, because it&#39;s not clear what you&#39;re trying to do in the ProcessFunction. Plus you&#39;re mixing Table and DataStream APIs, which further muddies the water.","body":"Unfortunately it&#39;s unclear from your description WHY you need to know the list size, because it&#39;s not clear what you&#39;re trying to do in the ProcessFunction. Plus you&#39;re mixing Table and DataStream APIs, which further muddies the water."},{"owner":{"account_id":82425,"reputation":8280,"user_id":231762,"display_name":"kkrugler"},"score":0,"creation_date":1684858746,"post_id":76308686,"comment_id":134577594,"body_markdown":"Also why is your ProcessFunction implementing CheckpointedFunction and SinkFunction?","body":"Also why is your ProcessFunction implementing CheckpointedFunction and SinkFunction?"},{"owner":{"account_id":23669032,"reputation":51,"user_id":17696091,"display_name":"newbie5050"},"score":0,"creation_date":1684861723,"post_id":76308686,"comment_id":134578236,"body_markdown":"Answer your questions:","body":"Answer your questions:"},{"owner":{"account_id":23669032,"reputation":51,"user_id":17696091,"display_name":"newbie5050"},"score":0,"creation_date":1684862443,"post_id":76308686,"comment_id":134578370,"body_markdown":"1)  I will need to calculate the listSize to make sure once it equals &quot;chunk_size&quot;, pass those objects p_data1 &amp; p_data1 into another function for further data analysis.  2) My messages are coming from two different topics. So, I will need to pass the join into DataStream and process it within ProcessFunction. 3)  My ProcessFunction needs to be implemented CheckpointedFunction to access overridden initializeState method to &quot;listState = context.getOperatorStateStore().getListState(descriptor);&quot;.","body":"1)  I will need to calculate the listSize to make sure once it equals &quot;chunk_size&quot;, pass those objects p_data1 &amp; p_data1 into another function for further data analysis.  2) My messages are coming from two different topics. So, I will need to pass the join into DataStream and process it within ProcessFunction. 3)  My ProcessFunction needs to be implemented CheckpointedFunction to access overridden initializeState method to &quot;listState = context.getOperatorStateStore().getListState(descriptor);&quot;."}],"answers":[{"tags":[],"owner":{"account_id":23669032,"reputation":51,"user_id":17696091,"display_name":"newbie5050"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685108133,"creation_date":1685108133,"answer_id":76341325,"question_id":76308686,"body_markdown":"ListState does not provide a method to calculate the size of the list. Therefore, I ended up creating a ValueState as a counter, as:\r\n\r\n```\r\nprivate transient ValueState&lt;Integer&gt; count;\r\n``` \r\nwhere \r\n``` \r\nValueStateDescriptor&lt;Integer&gt; countDescriptor;\r\n        countDescriptor = new ValueStateDescriptor&lt;Integer&gt;(\r\n                &quot;counter&quot;,\r\n                Types.INT,\r\n                1); // default counter value is 1\r\n        count = getRuntimeContext().getState(countDescriptor);\r\n```\r\nInside the processElement method:\r\n\r\n```\r\nInteger cnt = count.value();\r\ncount.update(cnt + 1);\r\n\r\n```\r\nThe most important part is how to create a **[KeySelector][1]**\r\nSince there are two different topics (Kafka) and my query is a join on both tables and also my **[DataStream][2]** is an instance of **[Row][3]**, my KeySelector should be an instance of Row. To create a **key**, I figured out which field gives me a unique value. Therefore:\r\n\r\n```\r\njoin_stream.keyBy((KeySelector&lt;Row, String&gt;) row -&gt; String.valueOf(row.getField(2)).\r\nprocess(new DataProcessor()).setParallelism(4);\r\n```\r\n\r\n[1]: https://nightlies.apache.org/flink/flink-docs-master/api/java/org/apache/flink/api/java/functions/KeySelector.html\r\n[2]: https://nightlies.apache.org/flink/flink-docs-master/api/java/org/apache/flink/streaming/api/datastream/DataStream.html\r\n[3]: https://nightlies.apache.org/flink/flink-docs-master/api/java/org/apache/flink/types/Row.html","title":"How to figure out what&#39;s the size of ListState?","body":"<p>ListState does not provide a method to calculate the size of the list. Therefore, I ended up creating a ValueState as a counter, as:</p>\n<pre><code>private transient ValueState&lt;Integer&gt; count;\n</code></pre>\n<p>where</p>\n<pre><code>ValueStateDescriptor&lt;Integer&gt; countDescriptor;\n        countDescriptor = new ValueStateDescriptor&lt;Integer&gt;(\n                &quot;counter&quot;,\n                Types.INT,\n                1); // default counter value is 1\n        count = getRuntimeContext().getState(countDescriptor);\n</code></pre>\n<p>Inside the processElement method:</p>\n<pre><code>Integer cnt = count.value();\ncount.update(cnt + 1);\n\n</code></pre>\n<p>The most important part is how to create a <strong><a href=\"https://nightlies.apache.org/flink/flink-docs-master/api/java/org/apache/flink/api/java/functions/KeySelector.html\" rel=\"nofollow noreferrer\">KeySelector</a></strong>\nSince there are two different topics (Kafka) and my query is a join on both tables and also my <strong><a href=\"https://nightlies.apache.org/flink/flink-docs-master/api/java/org/apache/flink/streaming/api/datastream/DataStream.html\" rel=\"nofollow noreferrer\">DataStream</a></strong> is an instance of <strong><a href=\"https://nightlies.apache.org/flink/flink-docs-master/api/java/org/apache/flink/types/Row.html\" rel=\"nofollow noreferrer\">Row</a></strong>, my KeySelector should be an instance of Row. To create a <strong>key</strong>, I figured out which field gives me a unique value. Therefore:</p>\n<pre><code>join_stream.keyBy((KeySelector&lt;Row, String&gt;) row -&gt; String.valueOf(row.getField(2)).\nprocess(new DataProcessor()).setParallelism(4);\n</code></pre>\n"}],"owner":{"account_id":23669032,"reputation":51,"user_id":17696091,"display_name":"newbie5050"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":148,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1685108133,"creation_date":1684777061,"question_id":76308686,"body_markdown":"In my Flink project, there are two topics that I join query on both of them:\r\n```\r\n   StreamExecutionEnvironment env = StreamExecutionEnvironment.getExecutionEnvironment();\r\n   StreamTableEnvironment tableEnv = StreamTableEnvironment.create(env);\r\n\r\n   env.setStateBackend(new EmbeddedRocksDBStateBackend());\r\n   env.getCheckpointConfig().setCheckpointStorage(&quot;file:///...&quot;);\r\n\r\nKafkaSource&lt;DataFileChunk&gt; src1 = KafkaSource.&lt;DataFileChunk&gt;builder().            \r\n setBootstrapServers(&quot;pkc-ep9mm.us-east-2.aws.confluent.cloud:9092&quot;).setTopics(&quot;topic1&quot;).... \r\n\r\nKafkaSource&lt;DataFileChunk&gt; src2 = KafkaSource.&lt;DataFileChunk&gt;builder().            \r\n setBootstrapServers(&quot;pkc-ep9mm.us-east-2.aws.confluent.cloud:9092&quot;).setTopics(&quot;topic2).... \r\n```\r\n\r\nFollowing there are two corresponding dataStreams and process Functions:\r\n```\r\nDataStream&lt;DataFileChunk&gt; stream1 = env.fromSource(src1, WatermarkStrategy.noWatermarks(), &quot;TBL1&quot;);\r\n\r\nDataStream&lt;DataFileChunk&gt; stream2 = env.fromSource(src2, WatermarkStrategy.noWatermarks(), &quot;TBL2&quot;);```\r\n\r\n tableEnv.createTemporaryView(&quot;TBL1&quot;, rawDataStream);\r\n tableEnv.createTemporaryView(&quot;TBL2&quot;, bkgdDataStream);\r\n\r\nString join_query = &quot;select ....&quot;;\r\nTable join_table = tableEnv.sqlQuery(data_query);\r\n\r\nDataStream&lt;Row&gt; join_stream = tableEnv.toDataStream(raw_table);\r\n\r\njoin_stream.process(new DataProcessor()).setParallelism(4);\r\n```\r\n\r\nMy ProcessFunction class:\r\n```\r\npublic class DataProcessor\r\n        extends ProcessFunction&lt;Row, List&lt;double[][][]&gt;&gt; implements CheckpointedFunction, SinkFunction&lt;Tuple2&lt;double[][][], double[][][]&gt;&gt; {\r\n\r\n    @Override\r\n    public void processElement(Row row, ProcessFunction&lt;Row, List&lt;double[][][]&gt;&gt;.Context context, Collector&lt;List&lt;double[][][]&gt;&gt; collector) throws Exception {\r\n\r\nint id = Integer.parseInt(&quot;&quot; + row.getField(0));\r\nString data_chunk1 = &quot;&quot; + row.getField(1);\r\nString total_chunk2 = &quot;&quot; + row.getField(2);\r\nint chunk_size = Integer.parseInt(&quot;&quot; + row.getField(3));\r\n\r\ndouble[][][] p_data1 = analyzeData(id, data_chunk1, chunk_size);\r\ndouble[][][] p_data2 = analyzeData(id, data_chunk2, chunk_size);\r\n\r\nlistState.add(new Tuple2&lt;&gt;(p_data1, p_data2));\r\n\r\n//        TODO: \r\n//         1. Ensure to consume all data and add them to the listSate \r\n//         2. Iterate over listSate...\r\n//         3. Clean listState\r\n}\r\n\r\n    private transient ListState&lt;Tuple2&lt;double[][][], double[][][]&gt;&gt; listState;\r\n    \r\n    @Override\r\n    public void initializeState(FunctionInitializationContext context) throws Exception {\r\n        ListStateDescriptor&lt;Tuple2&lt;double[][][], double[][][]&gt;&gt; descriptor =\r\n                new ListStateDescriptor&lt;&gt;(\r\n                        &quot;buffered-elements&quot;,\r\n                        TypeInformation.of(new TypeHint&lt;&gt;() {\r\n                        }));\r\n\r\n        listState = context.getOperatorStateStore().getListState(descriptor);\r\n    }\r\n}\r\n```\r\nlistState does not provide me with a method to figure out what&#39;s the size of the list. So, I will have two options:\r\n\r\nOption 1: Figuring out that somehow all data are consumed and then iterate over the listState (but don&#39;t know how to do that...)\r\n\r\nOption 2: Calculation the size of the list in another state (i.e. ValueState). From this option, by reading [this article][1] I learned a bit about **ValueState** and **Keyed DataStream**.\r\n\r\nSo, I think I will need to follow these steps:\r\n\r\n1) Creating a KeySelector. I tried this but it might be wrong: \r\n```\r\njoin_stream.keyBy((KeySelector&lt;Row, Integer&gt;) row -&gt; Integer.parseInt(&quot;&quot; + row.getField(0)));\r\n```\r\n\r\n2) Initializing a ValueState somehow as it needs to be pointed out to my listSate to get the size of listSate anytime.**\r\n\r\nSo, I don&#39;t know how to implement the above steps.\r\n\r\n\r\n\r\n  [1]: https://nightlies.apache.org/flink/flink-docs-master/docs/dev/datastream/fault-tolerance/state/","title":"How to figure out what&#39;s the size of ListState?","body":"<p>In my Flink project, there are two topics that I join query on both of them:</p>\n<pre><code>   StreamExecutionEnvironment env = StreamExecutionEnvironment.getExecutionEnvironment();\n   StreamTableEnvironment tableEnv = StreamTableEnvironment.create(env);\n\n   env.setStateBackend(new EmbeddedRocksDBStateBackend());\n   env.getCheckpointConfig().setCheckpointStorage(&quot;file:///...&quot;);\n\nKafkaSource&lt;DataFileChunk&gt; src1 = KafkaSource.&lt;DataFileChunk&gt;builder().            \n setBootstrapServers(&quot;pkc-ep9mm.us-east-2.aws.confluent.cloud:9092&quot;).setTopics(&quot;topic1&quot;).... \n\nKafkaSource&lt;DataFileChunk&gt; src2 = KafkaSource.&lt;DataFileChunk&gt;builder().            \n setBootstrapServers(&quot;pkc-ep9mm.us-east-2.aws.confluent.cloud:9092&quot;).setTopics(&quot;topic2).... \n</code></pre>\n<p>Following there are two corresponding dataStreams and process Functions:</p>\n<pre><code>DataStream&lt;DataFileChunk&gt; stream1 = env.fromSource(src1, WatermarkStrategy.noWatermarks(), &quot;TBL1&quot;);\n\nDataStream&lt;DataFileChunk&gt; stream2 = env.fromSource(src2, WatermarkStrategy.noWatermarks(), &quot;TBL2&quot;);```\n\n tableEnv.createTemporaryView(&quot;TBL1&quot;, rawDataStream);\n tableEnv.createTemporaryView(&quot;TBL2&quot;, bkgdDataStream);\n\nString join_query = &quot;select ....&quot;;\nTable join_table = tableEnv.sqlQuery(data_query);\n\nDataStream&lt;Row&gt; join_stream = tableEnv.toDataStream(raw_table);\n\njoin_stream.process(new DataProcessor()).setParallelism(4);\n</code></pre>\n<p>My ProcessFunction class:</p>\n<pre><code>public class DataProcessor\n        extends ProcessFunction&lt;Row, List&lt;double[][][]&gt;&gt; implements CheckpointedFunction, SinkFunction&lt;Tuple2&lt;double[][][], double[][][]&gt;&gt; {\n\n    @Override\n    public void processElement(Row row, ProcessFunction&lt;Row, List&lt;double[][][]&gt;&gt;.Context context, Collector&lt;List&lt;double[][][]&gt;&gt; collector) throws Exception {\n\nint id = Integer.parseInt(&quot;&quot; + row.getField(0));\nString data_chunk1 = &quot;&quot; + row.getField(1);\nString total_chunk2 = &quot;&quot; + row.getField(2);\nint chunk_size = Integer.parseInt(&quot;&quot; + row.getField(3));\n\ndouble[][][] p_data1 = analyzeData(id, data_chunk1, chunk_size);\ndouble[][][] p_data2 = analyzeData(id, data_chunk2, chunk_size);\n\nlistState.add(new Tuple2&lt;&gt;(p_data1, p_data2));\n\n//        TODO: \n//         1. Ensure to consume all data and add them to the listSate \n//         2. Iterate over listSate...\n//         3. Clean listState\n}\n\n    private transient ListState&lt;Tuple2&lt;double[][][], double[][][]&gt;&gt; listState;\n    \n    @Override\n    public void initializeState(FunctionInitializationContext context) throws Exception {\n        ListStateDescriptor&lt;Tuple2&lt;double[][][], double[][][]&gt;&gt; descriptor =\n                new ListStateDescriptor&lt;&gt;(\n                        &quot;buffered-elements&quot;,\n                        TypeInformation.of(new TypeHint&lt;&gt;() {\n                        }));\n\n        listState = context.getOperatorStateStore().getListState(descriptor);\n    }\n}\n</code></pre>\n<p>listState does not provide me with a method to figure out what's the size of the list. So, I will have two options:</p>\n<p>Option 1: Figuring out that somehow all data are consumed and then iterate over the listState (but don't know how to do that...)</p>\n<p>Option 2: Calculation the size of the list in another state (i.e. ValueState). From this option, by reading <a href=\"https://nightlies.apache.org/flink/flink-docs-master/docs/dev/datastream/fault-tolerance/state/\" rel=\"nofollow noreferrer\">this article</a> I learned a bit about <strong>ValueState</strong> and <strong>Keyed DataStream</strong>.</p>\n<p>So, I think I will need to follow these steps:</p>\n<ol>\n<li>Creating a KeySelector. I tried this but it might be wrong:</li>\n</ol>\n<pre><code>join_stream.keyBy((KeySelector&lt;Row, Integer&gt;) row -&gt; Integer.parseInt(&quot;&quot; + row.getField(0)));\n</code></pre>\n<ol start=\"2\">\n<li>Initializing a ValueState somehow as it needs to be pointed out to my listSate to get the size of listSate anytime.**</li>\n</ol>\n<p>So, I don't know how to implement the above steps.</p>\n"},{"tags":["java","sql-server","t-sql","jdbctemplate"],"comments":[{"owner":{"account_id":5120989,"reputation":6044,"user_id":4104555,"display_name":"ProgrammersBlock"},"score":0,"creation_date":1685053497,"post_id":76336577,"comment_id":134611580,"body_markdown":"What is the situation with your transaction behavior?  Are you doing auto commit?  Are you manually configuring this?","body":"What is the situation with your transaction behavior?  Are you doing auto commit?  Are you manually configuring this?"},{"owner":{"account_id":8399514,"reputation":4929,"user_id":6305294,"display_name":"Alex"},"score":0,"creation_date":1685054321,"post_id":76336577,"comment_id":134611669,"body_markdown":"Do you have triggers?","body":"Do you have triggers?"},{"owner":{"account_id":2500295,"reputation":1257,"user_id":2175604,"accept_rate":43,"display_name":"techie11"},"score":0,"creation_date":1685055233,"post_id":76336577,"comment_id":134611771,"body_markdown":"@ProgrammersBlock: the two SQLs are run  individually and not wrapped in a transaction. so it&#39;s default  transaction behavior.","body":"@ProgrammersBlock: the two SQLs are run  individually and not wrapped in a transaction. so it&#39;s default  transaction behavior."},{"owner":{"account_id":2500295,"reputation":1257,"user_id":2175604,"accept_rate":43,"display_name":"techie11"},"score":0,"creation_date":1685055774,"post_id":76336577,"comment_id":134611825,"body_markdown":"@Alex: yes. the first table has a trigger to generate the value for update_by and update_ts columns. I&#39;ve updated my post with the trigger definition.","body":"@Alex: yes. the first table has a trigger to generate the value for update_by and update_ts columns. I&#39;ve updated my post with the trigger definition."},{"owner":{"account_id":2500295,"reputation":1257,"user_id":2175604,"accept_rate":43,"display_name":"techie11"},"score":0,"creation_date":1685056323,"post_id":76336577,"comment_id":134611876,"body_markdown":"@Alex: I tried disabling the trigger, the same issue persists.","body":"@Alex: I tried disabling the trigger, the same issue persists."},{"owner":{"account_id":8399514,"reputation":4929,"user_id":6305294,"display_name":"Alex"},"score":0,"creation_date":1685057032,"post_id":76336577,"comment_id":134611941,"body_markdown":"This is Update trigger. Do you have Insert triggers?","body":"This is Update trigger. Do you have Insert triggers?"},{"owner":{"account_id":2500295,"reputation":1257,"user_id":2175604,"accept_rate":43,"display_name":"techie11"},"score":0,"creation_date":1685057099,"post_id":76336577,"comment_id":134611947,"body_markdown":"@Alex: there is no Insert trigger.","body":"@Alex: there is no Insert trigger."},{"owner":{"account_id":8399514,"reputation":4929,"user_id":6305294,"display_name":"Alex"},"score":0,"creation_date":1685057521,"post_id":76336577,"comment_id":134611988,"body_markdown":"I am out of ideas. Try running SQL Server profiler to see what queries are actually run on sql server.","body":"I am out of ideas. Try running SQL Server profiler to see what queries are actually run on sql server."},{"owner":{"account_id":2500295,"reputation":1257,"user_id":2175604,"accept_rate":43,"display_name":"techie11"},"score":0,"creation_date":1685060804,"post_id":76336577,"comment_id":134612294,"body_markdown":"My org does not install profiler with Azure SQL instance. I will see if I can persuade the team to have it installed.","body":"My org does not install profiler with Azure SQL instance. I will see if I can persuade the team to have it installed."},{"owner":{"account_id":19580686,"reputation":680,"user_id":14329830,"display_name":"paneerakbari"},"score":0,"creation_date":1685069397,"post_id":76336577,"comment_id":134612962,"body_markdown":"I&#39;m not terribly conversant with Java, but is it possible that your code is encountering an exception type that is neither `SQLException` nor `DataAccessException`?","body":"I&#39;m not terribly conversant with Java, but is it possible that your code is encountering an exception type that is neither <code>SQLException</code> nor <code>DataAccessException</code>?"},{"owner":{"account_id":17972905,"reputation":5290,"user_id":13061224,"display_name":"siggemannen"},"score":0,"creation_date":1685102428,"post_id":76336577,"comment_id":134618192,"body_markdown":"does it always fail on azure?","body":"does it always fail on azure?"}],"answers":[{"tags":[],"owner":{"account_id":2500295,"reputation":1257,"user_id":2175604,"accept_rate":43,"display_name":"techie11"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685108058,"creation_date":1685108058,"answer_id":76341315,"question_id":76336577,"body_markdown":"The issue turned to be a transaction behavior setting. autocommit was set to false for the dataSource, in such case the service need to be wrapped in @Transactional.","title":"INSERT SQL fails silently","body":"<p>The issue turned to be a transaction behavior setting. autocommit was set to false for the dataSource, in such case the service need to be wrapped in @Transactional.</p>\n"}],"owner":{"account_id":2500295,"reputation":1257,"user_id":2175604,"accept_rate":43,"display_name":"techie11"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":103,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1685108058,"creation_date":1685053289,"question_id":76336577,"body_markdown":"I&#39;m writing some code in Java to insert some values into the database with two SQL statements:\r\n\r\n    INSERT INTO rewards_points_issuance_recon(customer_id, first_name, ...) OUTPUT INSERTED.rewards_points_issuance_recon_id VALUES (:customer_id, :first_name, ...)\r\n\r\nand\r\n\r\n    INSERT INTO rewards_points_issuance_response_recon(REWARDS_POINTS_ISSUANCE_RECON_ID, ACKNOWLEDGEMENT_ID,...) VALUES(:rewards_points_issuance_recon_id,:acknowledgement_id, ...)\r\n\r\nthe `rewards_points_issuance_recon_id` is a column in the first table and default to NEXT VALUE FOR a sequence. the value of this column returned from first SQL is used as `:rewards_points_issuance_recon_id` for the second SQL which is a foreign key in second table referencing the same column in first table.\r\n\r\nthe first table has trigger to generate the value for two columns (see below definition)\r\n\r\nthe two statements are run with queryForObject() and execute() methods repectively:\r\n\r\n    Long pk = namedParameterJdbcTemplate.queryForObject(insertQuery.toString(), paramMap, Long.class);\r\n\r\n    namedParameterJdbcTemplate.execute(insertQuery.toString(), paramMap, new PreparedStatementCallback() {\r\n                public Object doInPreparedStatement(PreparedStatement ps) throws SQLException, DataAccessException {\r\n                    return ps.executeUpdate();\r\n                }\r\n            })\r\n\r\nThis is the strange problem I encountered: \r\n\r\nwhen running on the Azure cloud, the first SQL failed to insert values without any errors/exceptions, however it was able to return `OUTPUT INSERTED.rewards_points_issuance_recon_id` with sequence increased by 1. when this retuned value is used in the second SQL, I received error message:\r\n\r\n&gt; The INSERT statement conflicted with the FOREIGN KEY constraint &quot;FK_rewards_points_issuance_recon__rewards_points_issuance_response_recon__rewards_points_issuance_recon_id&quot;\r\n\r\nwhich is expected since the row was not inserted in the first table.\r\n\r\nHowever when I run the same code on a local machine with a locally installed SQL server 2019 database, everything works fine: both insert statements insert the data correctly.\r\n\r\nThe questions I want to ask are:\r\n1. what could be the reason that the insert statement failed without error/exception?\r\n2. why it works fine with locally installed SQL server and has issue when run with Azure SQL instance?\r\n\r\n\r\n\r\n------------------- trigger -------------------\r\n\r\n    CREATE  TRIGGER [utr_rewards_points_issuance_recon__updated_by_ts]   \r\n        ON [rewards_points_issuance_recon]   \r\n        AFTER UPDATE   \r\n        AS   \r\n        BEGIN   \r\n            IF (ROWCOUNT_BIG() = 0 OR TRIGGER_NESTLEVEL() &gt; 1) RETURN;   \r\n                           \r\n            IF UPDATE(created_ts) OR UPDATE(created_by) OR UPDATE(updated_ts) OR UPDATE(updated_by)   \r\n            BEGIN   \r\n                UPDATE a   \r\n                SET a.updated_ts = b.updated_ts   \r\n                    , a.updated_by = b.updated_by   \r\n                    , a.created_ts = b.created_ts   \r\n                    , a.created_by = b.created_by   \r\n                FROM cbttdslsl.rewards_points_issuance_recon a   \r\n                    JOIN deleted b   \r\n                        ON a.rewards_points_issuance_recon_id = b.rewards_points_issuance_recon_id   \r\n            END   \r\n            ELSE   \r\n            BEGIN   \r\n                UPDATE a   \r\n                SET a.updated_ts = SYSDATETIME()   \r\n                    , a.updated_by = ORIGINAL_LOGIN()   \r\n                FROM cbttdslsl.rewards_points_issuance_recon a   \r\n                    JOIN inserted b   \r\n                        ON a.rewards_points_issuance_recon_id = b.rewards_points_issuance_recon_id   \r\n            END   \r\n        END  \r\n\r\n\r\nthe columns related to the trigger are:\r\n\r\n            [created_by] [varchar](100) NOT NULL CONSTRAINT [DF_rewards_points_issuance_recon__created_by] DEFAULT (suser_name()), \r\n            [created_ts] [datetime2](7) NOT NULL CONSTRAINT [DF_rewards_points_issuance_recon__created_ts] DEFAULT (getdate()), \r\n            [updated_by] [varchar](100) NULL, \r\n            [updated_ts] [datetime2](7) NULL ","title":"INSERT SQL fails silently","body":"<p>I'm writing some code in Java to insert some values into the database with two SQL statements:</p>\n<pre><code>INSERT INTO rewards_points_issuance_recon(customer_id, first_name, ...) OUTPUT INSERTED.rewards_points_issuance_recon_id VALUES (:customer_id, :first_name, ...)\n</code></pre>\n<p>and</p>\n<pre><code>INSERT INTO rewards_points_issuance_response_recon(REWARDS_POINTS_ISSUANCE_RECON_ID, ACKNOWLEDGEMENT_ID,...) VALUES(:rewards_points_issuance_recon_id,:acknowledgement_id, ...)\n</code></pre>\n<p>the <code>rewards_points_issuance_recon_id</code> is a column in the first table and default to NEXT VALUE FOR a sequence. the value of this column returned from first SQL is used as <code>:rewards_points_issuance_recon_id</code> for the second SQL which is a foreign key in second table referencing the same column in first table.</p>\n<p>the first table has trigger to generate the value for two columns (see below definition)</p>\n<p>the two statements are run with queryForObject() and execute() methods repectively:</p>\n<pre><code>Long pk = namedParameterJdbcTemplate.queryForObject(insertQuery.toString(), paramMap, Long.class);\n\nnamedParameterJdbcTemplate.execute(insertQuery.toString(), paramMap, new PreparedStatementCallback() {\n            public Object doInPreparedStatement(PreparedStatement ps) throws SQLException, DataAccessException {\n                return ps.executeUpdate();\n            }\n        })\n</code></pre>\n<p>This is the strange problem I encountered:</p>\n<p>when running on the Azure cloud, the first SQL failed to insert values without any errors/exceptions, however it was able to return <code>OUTPUT INSERTED.rewards_points_issuance_recon_id</code> with sequence increased by 1. when this retuned value is used in the second SQL, I received error message:</p>\n<blockquote>\n<p>The INSERT statement conflicted with the FOREIGN KEY constraint &quot;FK_rewards_points_issuance_recon__rewards_points_issuance_response_recon__rewards_points_issuance_recon_id&quot;</p>\n</blockquote>\n<p>which is expected since the row was not inserted in the first table.</p>\n<p>However when I run the same code on a local machine with a locally installed SQL server 2019 database, everything works fine: both insert statements insert the data correctly.</p>\n<p>The questions I want to ask are:</p>\n<ol>\n<li>what could be the reason that the insert statement failed without error/exception?</li>\n<li>why it works fine with locally installed SQL server and has issue when run with Azure SQL instance?</li>\n</ol>\n<p>------------------- trigger -------------------</p>\n<pre><code>CREATE  TRIGGER [utr_rewards_points_issuance_recon__updated_by_ts]   \n    ON [rewards_points_issuance_recon]   \n    AFTER UPDATE   \n    AS   \n    BEGIN   \n        IF (ROWCOUNT_BIG() = 0 OR TRIGGER_NESTLEVEL() &gt; 1) RETURN;   \n                       \n        IF UPDATE(created_ts) OR UPDATE(created_by) OR UPDATE(updated_ts) OR UPDATE(updated_by)   \n        BEGIN   \n            UPDATE a   \n            SET a.updated_ts = b.updated_ts   \n                , a.updated_by = b.updated_by   \n                , a.created_ts = b.created_ts   \n                , a.created_by = b.created_by   \n            FROM cbttdslsl.rewards_points_issuance_recon a   \n                JOIN deleted b   \n                    ON a.rewards_points_issuance_recon_id = b.rewards_points_issuance_recon_id   \n        END   \n        ELSE   \n        BEGIN   \n            UPDATE a   \n            SET a.updated_ts = SYSDATETIME()   \n                , a.updated_by = ORIGINAL_LOGIN()   \n            FROM cbttdslsl.rewards_points_issuance_recon a   \n                JOIN inserted b   \n                    ON a.rewards_points_issuance_recon_id = b.rewards_points_issuance_recon_id   \n        END   \n    END  \n</code></pre>\n<p>the columns related to the trigger are:</p>\n<pre><code>        [created_by] [varchar](100) NOT NULL CONSTRAINT [DF_rewards_points_issuance_recon__created_by] DEFAULT (suser_name()), \n        [created_ts] [datetime2](7) NOT NULL CONSTRAINT [DF_rewards_points_issuance_recon__created_ts] DEFAULT (getdate()), \n        [updated_by] [varchar](100) NULL, \n        [updated_ts] [datetime2](7) NULL \n</code></pre>\n"},{"tags":["java","jackson","openapi","openapi-generator"],"answers":[{"comments":[{"owner":{"account_id":2842013,"reputation":1289,"user_id":2441441,"accept_rate":65,"display_name":"user2441441"},"score":0,"creation_date":1685108000,"post_id":76338100,"comment_id":134619451,"body_markdown":"I was using spring generator","body":"I was using spring generator"}],"tags":[],"owner":{"account_id":47110,"reputation":2287,"user_id":139404,"display_name":"MikeRalphson"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685082030,"creation_date":1685082030,"answer_id":76338100,"question_id":76336730,"body_markdown":"The OpenAPI Specification does not natively deal with or know about types, supertypes, subtypes, interfaces or inheritance. Everything is a mapping between the JSON Schema constraint language used to describe the request and response payloads and an either typed or untyped code-gen target language. You can do raw composition using `allOf` (`oneOf`, `anyOf`and `not` are much harder to do code-gen for). If you use OpenAPI v3.1 you might get OK results from schemas using simple `if`/`then`/`else` structures - you can replicate the behaviour of `discriminator` by using `if` schemas with `const` conditions.\r\n\r\nIt all depends on the code-gen tool you are using and the sophistication of its AST evaluator or templates. ","title":"Use openAPI 3.0 extends without using discriminator","body":"<p>The OpenAPI Specification does not natively deal with or know about types, supertypes, subtypes, interfaces or inheritance. Everything is a mapping between the JSON Schema constraint language used to describe the request and response payloads and an either typed or untyped code-gen target language. You can do raw composition using <code>allOf</code> (<code>oneOf</code>, <code>anyOf</code>and <code>not</code> are much harder to do code-gen for). If you use OpenAPI v3.1 you might get OK results from schemas using simple <code>if</code>/<code>then</code>/<code>else</code> structures - you can replicate the behaviour of <code>discriminator</code> by using <code>if</code> schemas with <code>const</code> conditions.</p>\n<p>It all depends on the code-gen tool you are using and the sophistication of its AST evaluator or templates.</p>\n"}],"owner":{"account_id":2842013,"reputation":1289,"user_id":2441441,"accept_rate":65,"display_name":"user2441441"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":909,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1685107883,"creation_date":1685055927,"question_id":76336730,"body_markdown":"Is it possible to have this generated by openAPI without using the discriminator? The reason is that I&#39;m having a lot of trouble getting Jackson to serialize a json that does not have the discriminaotry value. So I wanted a workaround, and by having a simple class BaseClass, I can manually specify the type(I know it beforehand)\r\n\r\n    public abstract BaseClass{}\r\n\r\n    public Employee extends BaseClass {...}\r\n\r\n\r\nThis code below works but it uses discriminator and Jackson keeps throwing property not found for the discriminator:\r\n\r\n    components:\r\n      schemas:\r\n        BaseClass:\r\n          type: object\r\n          required:\r\n            - entityType\r\n          properties:\r\n            entityType:\r\n              type: string\r\n              enum:\r\n                - Employee\r\n          discriminator:\r\n            propertyName: entityType\r\n\r\n    Employee:\r\n      allOf:\r\n        - $ref: &quot;#/components/schemas/BaseClass&quot;\r\n      properties:\r\n        anotherThing:\r\n          type: string\r\n\r\n\r\nOR is there a way for openAPI to extend a class that has been defined in the classpath? Like I could manually define BaseClass in the src/java and have OpenAPI generate the Employee extends BaseClass thing","title":"Use openAPI 3.0 extends without using discriminator","body":"<p>Is it possible to have this generated by openAPI without using the discriminator? The reason is that I'm having a lot of trouble getting Jackson to serialize a json that does not have the discriminaotry value. So I wanted a workaround, and by having a simple class BaseClass, I can manually specify the type(I know it beforehand)</p>\n<pre><code>public abstract BaseClass{}\n\npublic Employee extends BaseClass {...}\n</code></pre>\n<p>This code below works but it uses discriminator and Jackson keeps throwing property not found for the discriminator:</p>\n<pre><code>components:\n  schemas:\n    BaseClass:\n      type: object\n      required:\n        - entityType\n      properties:\n        entityType:\n          type: string\n          enum:\n            - Employee\n      discriminator:\n        propertyName: entityType\n\nEmployee:\n  allOf:\n    - $ref: &quot;#/components/schemas/BaseClass&quot;\n  properties:\n    anotherThing:\n      type: string\n</code></pre>\n<p>OR is there a way for openAPI to extend a class that has been defined in the classpath? Like I could manually define BaseClass in the src/java and have OpenAPI generate the Employee extends BaseClass thing</p>\n"},{"tags":["java","vectorization","matrix-multiplication","simd"],"comments":[{"owner":{"account_id":78868,"reputation":337070,"user_id":224132,"accept_rate":83,"display_name":"Peter Cordes"},"score":0,"creation_date":1685107103,"post_id":76341108,"comment_id":134619250,"body_markdown":"Are you mostly interested in very small matrices like this, like 4x4 where one SIMD vector can hold a whole row?  Because that&#39;s very different from medium to large matrices where it takes a loop over many vectors to cover a whole row.  (For that, the appending in https://www.akkadia.org/drepper/cpumemory.pdf has an example of vectorizing with x86 intrinsics in C; assuming Java provides a portable equivalent of that it should translate.  See also [How much of ‘What Every Programmer Should Know About Memory’ is still valid?](https://stackoverflow.com/a/47714514) re: that guide)","body":"Are you mostly interested in very small matrices like this, like 4x4 where one SIMD vector can hold a whole row?  Because that&#39;s very different from medium to large matrices where it takes a loop over many vectors to cover a whole row.  (For that, the appending in <a href=\"https://www.akkadia.org/drepper/cpumemory.pdf\" rel=\"nofollow noreferrer\">akkadia.org/drepper/cpumemory.pdf</a> has an example of vectorizing with x86 intrinsics in C; assuming Java provides a portable equivalent of that it should translate.  See also <a href=\"https://stackoverflow.com/a/47714514\">How much of ‘What Every Programmer Should Know About Memory’ is still valid?</a> re: that guide)"},{"owner":{"account_id":78868,"reputation":337070,"user_id":224132,"accept_rate":83,"display_name":"Peter Cordes"},"score":1,"creation_date":1685107465,"post_id":76341108,"comment_id":134619324,"body_markdown":"If you&#39;re just trying to learn some SIMD stuff in general, matrix-multiplication is a relatively hard problem with many opportunities and challenges for optimization with SIMD and cache-blocking; it&#39;s one that&#39;s been studied a *lot* because it&#39;s so important for a lot of use-cases.  (The row vs. column layout makes it a disaster to stride down one column in a non-tiny matrix, but doing along rows in both and also the output is a lot of load/store work.) So writing your own code that comes anywhere close to a well-tuned BLAS library is a big challenge.","body":"If you&#39;re just trying to learn some SIMD stuff in general, matrix-multiplication is a relatively hard problem with many opportunities and challenges for optimization with SIMD and cache-blocking; it&#39;s one that&#39;s been studied a <i>lot</i> because it&#39;s so important for a lot of use-cases.  (The row vs. column layout makes it a disaster to stride down one column in a non-tiny matrix, but doing along rows in both and also the output is a lot of load/store work.) So writing your own code that comes anywhere close to a well-tuned BLAS library is a big challenge."},{"owner":{"account_id":78868,"reputation":337070,"user_id":224132,"accept_rate":83,"display_name":"Peter Cordes"},"score":0,"creation_date":1685107470,"post_id":76341108,"comment_id":134619327,"body_markdown":"Some interesting but non-trivial problems to SIMD vectorize include prefix-sum ([Accumulating a running-total (prefix sum) horizontally across an \\_\\_m256i vector](https://stackoverflow.com/q/69694914)), counting matches ([How to count character occurrences using SIMD](https://stackoverflow.com/q/54541129)), turning 16 bytes into 32 ASCII hex digits ([How to convert a binary integer number to a hex string?](https://stackoverflow.com/q/53823756))","body":"Some interesting but non-trivial problems to SIMD vectorize include prefix-sum (<a href=\"https://stackoverflow.com/q/69694914\">Accumulating a running-total (prefix sum) horizontally across an __m256i vector</a>), counting matches (<a href=\"https://stackoverflow.com/q/54541129\">How to count character occurrences using SIMD</a>), turning 16 bytes into 32 ASCII hex digits (<a href=\"https://stackoverflow.com/q/53823756\">How to convert a binary integer number to a hex string?</a>)"},{"owner":{"account_id":8987085,"reputation":361,"user_id":6700319,"display_name":"Isuru Perera"},"score":0,"creation_date":1685107513,"post_id":76341108,"comment_id":134619340,"body_markdown":"I&#39;m mostly interested in multiplying medium to large matrices where rows and columns don&#39;t fit in a single SIMD register. But I think Java vector API handles mapping large vectors into AVX instructions.","body":"I&#39;m mostly interested in multiplying medium to large matrices where rows and columns don&#39;t fit in a single SIMD register. But I think Java vector API handles mapping large vectors into AVX instructions."},{"owner":{"account_id":78868,"reputation":337070,"user_id":224132,"accept_rate":83,"display_name":"Peter Cordes"},"score":0,"creation_date":1685107701,"post_id":76341108,"comment_id":134619377,"body_markdown":"Ok, so your real problem is *very* different from a case like 3x4 * 4x3 where a vector will hold two whole rows or more, and you&#39;d be doing a lot of shuffling of 32-byte vectors to arrange the data.  (If you search on SO for existing questions about 3x3 and 4x4 matmul with SIMD intrinsics for x86 SSE/AVX or ARM NEON, you&#39;ll find examples of that.)","body":"Ok, so your real problem is <i>very</i> different from a case like 3x4 * 4x3 where a vector will hold two whole rows or more, and you&#39;d be doing a lot of shuffling of 32-byte vectors to arrange the data.  (If you search on SO for existing questions about 3x3 and 4x4 matmul with SIMD intrinsics for x86 SSE/AVX or ARM NEON, you&#39;ll find examples of that.)"},{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":1,"creation_date":1685118278,"post_id":76341108,"comment_id":134621798,"body_markdown":"What have you tried that didn&#39;t work?","body":"What have you tried that didn&#39;t work?"},{"owner":{"account_id":8987085,"reputation":361,"user_id":6700319,"display_name":"Isuru Perera"},"score":0,"creation_date":1685161315,"post_id":76341108,"comment_id":134626381,"body_markdown":"Hi @aled I&#39;ve added the current approach I&#39;m trying here. (https://github.com/isuruperera/j17-vector-matmul/blob/main/src/main/java/org/example/Main.java) but in that code, SPECIES.loopBound() method always returns 0. I&#39;m having a hard time understanding what the documentation means by &quot;\nthe largest multiple of the vector length not greater than the given length&quot; would that mean the HW level vector length?","body":"Hi @aled I&#39;ve added the current approach I&#39;m trying here. (<a href=\"https://github.com/isuruperera/j17-vector-matmul/blob/main/src/main/java/org/example/Main.java\" rel=\"nofollow noreferrer\">github.com/isuruperera/j17-vector-matmul/blob/main/src/main&zwnj;&#8203;/&hellip;</a>) but in that code, SPECIES.loopBound() method always returns 0. I&#39;m having a hard time understanding what the documentation means by &quot; the largest multiple of the vector length not greater than the given length&quot; would that mean the HW level vector length?"},{"owner":{"account_id":8987085,"reputation":361,"user_id":6700319,"display_name":"Isuru Perera"},"score":0,"creation_date":1685163068,"post_id":76341108,"comment_id":134626456,"body_markdown":"I noticed that the above code works for vectors larger than 16, but for vectors smaller than 16 elements, SPECIES.loopBound() method returns 0","body":"I noticed that the above code works for vectors larger than 16, but for vectors smaller than 16 elements, SPECIES.loopBound() method returns 0"},{"owner":{"account_id":78868,"reputation":337070,"user_id":224132,"accept_rate":83,"display_name":"Peter Cordes"},"score":0,"creation_date":1685165876,"post_id":76341108,"comment_id":134626611,"body_markdown":"&quot;the largest multiple of the vector length not greater than the given length&quot; is `n` (array size) rounded down to a multiple of 4 for example.  `n - (n % vec_len)` which simplifies to `n &amp; -vec_len` since the SIMD vector length will always be a power of 2.  It&#39;s the number of elements you can process with a loop like `for (i=0 ; i &lt; n-(vec_len-1) ; i += vec_len)` that does only full vectors, and doesn&#39;t read past the end of the array in the final iteration.  Notice how for vec_len=1, that loop would be `for (i=0 ; i&lt;n ; i++)`, in case you&#39;re wondering about the `-1` in the general case.","body":"&quot;the largest multiple of the vector length not greater than the given length&quot; is <code>n</code> (array size) rounded down to a multiple of 4 for example.  <code>n - (n % vec_len)</code> which simplifies to <code>n &amp; -vec_len</code> since the SIMD vector length will always be a power of 2.  It&#39;s the number of elements you can process with a loop like <code>for (i=0 ; i &lt; n-(vec_len-1) ; i += vec_len)</code> that does only full vectors, and doesn&#39;t read past the end of the array in the final iteration.  Notice how for vec_len=1, that loop would be <code>for (i=0 ; i&lt;n ; i++)</code>, in case you&#39;re wondering about the <code>-1</code> in the general case."},{"owner":{"account_id":78868,"reputation":337070,"user_id":224132,"accept_rate":83,"display_name":"Peter Cordes"},"score":0,"creation_date":1685166124,"post_id":76341108,"comment_id":134626626,"body_markdown":"It&#39;s the same problem you&#39;d run into when unrolling manually.  For learning basics like that, I&#39;d recommend just writing a function that sums an array and works for any array length, or that does `a[i] = b[i] * constant + constant2` or something.  (Fun fact, there&#39;s a name for that as a level-1 BLAS operation, DAXPY, as in `D = A*X + Y` where D and A are arrays.)","body":"It&#39;s the same problem you&#39;d run into when unrolling manually.  For learning basics like that, I&#39;d recommend just writing a function that sums an array and works for any array length, or that does <code>a[i] = b[i] * constant + constant2</code> or something.  (Fun fact, there&#39;s a name for that as a level-1 BLAS operation, DAXPY, as in <code>D = A*X + Y</code> where D and A are arrays.)"},{"owner":{"account_id":8987085,"reputation":361,"user_id":6700319,"display_name":"Isuru Perera"},"score":0,"creation_date":1685168787,"post_id":76341108,"comment_id":134626808,"body_markdown":"Hi @PeterCordes, I have implemented this simple L1 BLAS code that does `a[i] = b[i] * constant + constant2` here (https://github.com/isuruperera/j17-vector-matmul/blob/main/src/main/java/org/example/VectorToScalarMultiplication.java) I&#39;m assuming Vector * Scalar operation would be something SIMD is very good at. I also went through your answer here (https://stackoverflow.com/questions/68061254/why-is-the-java-vector-api-so-slow-compared-to-scalar). However, after repeated tests with fairly large vectors, I&#39;m seeing the loop performs better (Assume there&#39;s manual unrolling in JVM).","body":"Hi @PeterCordes, I have implemented this simple L1 BLAS code that does <code>a[i] = b[i] * constant + constant2</code> here (<a href=\"https://github.com/isuruperera/j17-vector-matmul/blob/main/src/main/java/org/example/VectorToScalarMultiplication.java\" rel=\"nofollow noreferrer\">github.com/isuruperera/j17-vector-matmul/blob/main/src/main&zwnj;&#8203;/&hellip;</a>) I&#39;m assuming Vector * Scalar operation would be something SIMD is very good at. I also went through your answer here (<a href=\"https://stackoverflow.com/questions/68061254/why-is-the-java-vector-api-so-slow-compared-to-scalar\" title=\"why is the java vector api so slow compared to scalar\">stackoverflow.com/questions/68061254/&hellip;</a>). However, after repeated tests with fairly large vectors, I&#39;m seeing the loop performs better (Assume there&#39;s manual unrolling in JVM)."},{"owner":{"account_id":8987085,"reputation":361,"user_id":6700319,"display_name":"Isuru Perera"},"score":0,"creation_date":1685168822,"post_id":76341108,"comment_id":134626809,"body_markdown":"I also verified that my CPU supports AVX, AVX2, AVX512F. But theoretically vector computations should run faster? But from my tests, I&#39;m seeing otherwise.","body":"I also verified that my CPU supports AVX, AVX2, AVX512F. But theoretically vector computations should run faster? But from my tests, I&#39;m seeing otherwise."},{"owner":{"account_id":78868,"reputation":337070,"user_id":224132,"accept_rate":83,"display_name":"Peter Cordes"},"score":0,"creation_date":1685170050,"post_id":76341108,"comment_id":134626908,"body_markdown":"Simple &quot;vertical&quot; operations like DAXPY might be so easy that the JVM auto-vectorizes scalar code.  Or if you&#39;re testing on large arrays (larger than your L2 cache size), you might bottleneck on memory bandwidth even with scalar asm, especially if you&#39;re using an 8-byte type like `double`, and/or your CPU is an Intel Xeon where memory latency is high and single-core bandwidth is low (especially on Skylake-avx512 / Cascade Lake.)  See [Why is Skylake so much better than Broadwell-E for single-threaded memory throughput?](//stackoverflow.com/q/39260020) for client vs. server per-core bandwidth","body":"Simple &quot;vertical&quot; operations like DAXPY might be so easy that the JVM auto-vectorizes scalar code.  Or if you&#39;re testing on large arrays (larger than your L2 cache size), you might bottleneck on memory bandwidth even with scalar asm, especially if you&#39;re using an 8-byte type like <code>double</code>, and/or your CPU is an Intel Xeon where memory latency is high and single-core bandwidth is low (especially on Skylake-avx512 / Cascade Lake.)  See <a href=\"//stackoverflow.com/q/39260020\">Why is Skylake so much better than Broadwell-E for single-threaded memory throughput?</a> for client vs. server per-core bandwidth"},{"owner":{"account_id":78868,"reputation":337070,"user_id":224132,"accept_rate":83,"display_name":"Peter Cordes"},"score":0,"creation_date":1685170177,"post_id":76341108,"comment_id":134626916,"body_markdown":"Also, with 512-bit vectors on Intel CPUs, if your data isn&#39;t aligned by 64, that actually hurts memory bandwidth from L3 or DRAM for some reason, about 15% slower than aligned, vs. only a couple % slower with 256-bit vectors.  You&#39;d expect that the extra costs of misaligned loads/stores would be hidden by out-of-order exec and you&#39;d still just bottleneck on the full memory bandwidth a single core can use (thanks to hardware prefetch), but that&#39;s not the case.","body":"Also, with 512-bit vectors on Intel CPUs, if your data isn&#39;t aligned by 64, that actually hurts memory bandwidth from L3 or DRAM for some reason, about 15% slower than aligned, vs. only a couple % slower with 256-bit vectors.  You&#39;d expect that the extra costs of misaligned loads/stores would be hidden by out-of-order exec and you&#39;d still just bottleneck on the full memory bandwidth a single core can use (thanks to hardware prefetch), but that&#39;s not the case."}],"owner":{"account_id":8987085,"reputation":361,"user_id":6700319,"display_name":"Isuru Perera"},"comment_count":14,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":183,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1685106910,"creation_date":1685106544,"question_id":76341108,"body_markdown":"I&#39;m trying to optimize matrix multiplication implemented using Java with nested loops. I&#39;m planning to use Java 17 vector API to optimize performance.\r\n\r\nI have read the documentation of the [Vector API][1], but I am not sure how to apply them to my matrix multiplication code.\r\n\r\nI&#39;m using the following code to multiply the metrics based on [this tutorial][2]. \r\n\r\n        int row1 = 4, col1 = 3, row2 = 3, col2 = 4;\r\n \r\n        int A[][] = { { 1, 1, 1 },\r\n                      { 2, 2, 2 },\r\n                      { 3, 3, 3 },\r\n                      { 4, 4, 4 } };\r\n \r\n        int B[][] = { { 1, 1, 1, 1 },\r\n                      { 2, 2, 2, 2 },\r\n                      { 3, 3, 3, 3 } };\r\n\r\n        int i, j, k;\r\n \r\n        // Check if multiplication is Possible\r\n        if (row2 != col1) {\r\n            System.out.println(&quot;Multiplication Not Possible&quot;);\r\n            return;\r\n        }\r\n \r\n        // Matrix to store the result\r\n        // The product matrix will\r\n        // be of size row1 x col2\r\n        int C[][] = new int[row1][col2];\r\n \r\n        // Multiply the two matrices\r\n        for (i = 0; i &lt; row1; i++) {\r\n            for (j = 0; j &lt; col2; j++) {\r\n                for (k = 0; k &lt; row2; k++)\r\n                    C[i][j] += A[i][k] * B[k][j];\r\n            }\r\n        }\r\n \r\nMy questions are:\r\n\r\n- How do I handle cases where the array length or the matrix size is not a multiple of the vector length?\r\n- I would appreciate some guidance or examples on how to use Java 17 vector instructions to optimize matrix multiplication.\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/jdk.incubator.vector/jdk/incubator/vector/package-summary.html\r\n  [2]: https://www.geeksforgeeks.org/java-program-to-multiply-two-matrices-of-any-size/","title":"How to use Java 17 vector instructions to optimize matrix multiplication?","body":"<p>I'm trying to optimize matrix multiplication implemented using Java with nested loops. I'm planning to use Java 17 vector API to optimize performance.</p>\n<p>I have read the documentation of the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/jdk.incubator.vector/jdk/incubator/vector/package-summary.html\" rel=\"nofollow noreferrer\">Vector API</a>, but I am not sure how to apply them to my matrix multiplication code.</p>\n<p>I'm using the following code to multiply the metrics based on <a href=\"https://www.geeksforgeeks.org/java-program-to-multiply-two-matrices-of-any-size/\" rel=\"nofollow noreferrer\">this tutorial</a>.</p>\n<pre><code>    int row1 = 4, col1 = 3, row2 = 3, col2 = 4;\n\n    int A[][] = { { 1, 1, 1 },\n                  { 2, 2, 2 },\n                  { 3, 3, 3 },\n                  { 4, 4, 4 } };\n\n    int B[][] = { { 1, 1, 1, 1 },\n                  { 2, 2, 2, 2 },\n                  { 3, 3, 3, 3 } };\n\n    int i, j, k;\n\n    // Check if multiplication is Possible\n    if (row2 != col1) {\n        System.out.println(&quot;Multiplication Not Possible&quot;);\n        return;\n    }\n\n    // Matrix to store the result\n    // The product matrix will\n    // be of size row1 x col2\n    int C[][] = new int[row1][col2];\n\n    // Multiply the two matrices\n    for (i = 0; i &lt; row1; i++) {\n        for (j = 0; j &lt; col2; j++) {\n            for (k = 0; k &lt; row2; k++)\n                C[i][j] += A[i][k] * B[k][j];\n        }\n    }\n</code></pre>\n<p>My questions are:</p>\n<ul>\n<li>How do I handle cases where the array length or the matrix size is not a multiple of the vector length?</li>\n<li>I would appreciate some guidance or examples on how to use Java 17 vector instructions to optimize matrix multiplication.</li>\n</ul>\n"},{"tags":["java","android","android-custom-view","android-cardview"],"comments":[{"owner":{"account_id":4240194,"reputation":2564,"user_id":3470305,"accept_rate":87,"display_name":"Lester"},"score":0,"creation_date":1436130259,"post_id":31234860,"comment_id":50468615,"body_markdown":"Why you use CardView at all if you have custom view? Just pass layout to in RecyclerView Adapter onCreateViewHolder","body":"Why you use CardView at all if you have custom view? Just pass layout to in RecyclerView Adapter onCreateViewHolder"},{"owner":{"account_id":1805920,"reputation":495,"user_id":1643012,"accept_rate":43,"display_name":"Mojtaba Mahamed"},"score":1,"creation_date":1436132264,"post_id":31234860,"comment_id":50469108,"body_markdown":"I don&#39;t use RecyclerView and if I don&#39;t use cardview I should create a selector drawable to have cardview style","body":"I don&#39;t use RecyclerView and if I don&#39;t use cardview I should create a selector drawable to have cardview style"}],"answers":[{"tags":[],"owner":{"account_id":6398297,"reputation":2373,"user_id":4961922,"accept_rate":67,"display_name":"Javier Delgado"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1492915020,"creation_date":1492915020,"answer_id":43566826,"question_id":31234860,"body_markdown":"I had this issue setting the CardView background to something transparent. I solved it setting a non-alpha color.\r\n\r\nTry to set your `android:foreground` to something without alphas.","title":"extending cardview class show white rectangle around the card","body":"<p>I had this issue setting the CardView background to something transparent. I solved it setting a non-alpha color.</p>\n\n<p>Try to set your <code>android:foreground</code> to something without alphas.</p>\n"},{"tags":[],"owner":{"account_id":8652943,"reputation":22456,"user_id":6478047,"accept_rate":76,"display_name":"Manohar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1589650936,"creation_date":1583402465,"answer_id":60542655,"question_id":31234860,"body_markdown":"In my case I solved it by setting white background to `CardView`\r\n\r\n    &lt;androidx.cardview.widget.CardView\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            app:cardBackgroundColor=&quot;@color/white&quot;&gt;\r\n\r\nOr you can set cardElevationto 0dp but this would disable shadow \r\n\r\n    &lt;androidx.cardview.widget.CardView\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        app:cardBackgroundColor=&quot;@color/trans_black_darker&quot;\r\n        app:cardCornerRadius=&quot;10dp&quot;\r\n        app:cardPreventCornerOverlap=&quot;false&quot;\r\n        app:cardUseCompatPadding=&quot;true&quot;\r\n        app:cardElevation=&quot;0dp&quot;&gt;","title":"extending cardview class show white rectangle around the card","body":"<p>In my case I solved it by setting white background to <code>CardView</code></p>\n\n<pre><code>&lt;androidx.cardview.widget.CardView\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        app:cardBackgroundColor=\"@color/white\"&gt;\n</code></pre>\n\n<p>Or you can set cardElevationto 0dp but this would disable shadow </p>\n\n<pre><code>&lt;androidx.cardview.widget.CardView\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"wrap_content\"\n    app:cardBackgroundColor=\"@color/trans_black_darker\"\n    app:cardCornerRadius=\"10dp\"\n    app:cardPreventCornerOverlap=\"false\"\n    app:cardUseCompatPadding=\"true\"\n    app:cardElevation=\"0dp\"&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3471091,"reputation":108,"user_id":2905354,"display_name":"Trasd"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685106692,"creation_date":1685041706,"answer_id":76335529,"question_id":31234860,"body_markdown":"I realize this is an older question, but I wanted to point out a simpler method to inflating in a child of View (so often overlooked).\r\n    \r\nInstead of:\r\n\r\n    LayoutInflater inflater = LayoutInflater.from(getContext());\r\n    inflater.inflate(R.layout.translation_type_row, this);\r\n    \r\nTry this:\r\n\r\n    inflate(getContext(), R.layout.translation_type_row, this);\r\n    \r\nUsing the static View **inflate()** is the cleanest and most efficient way to go; you don&#39;t need a LayoutInflater.","title":"extending cardview class show white rectangle around the card","body":"<p>I realize this is an older question, but I wanted to point out a simpler method to inflating in a child of View (so often overlooked).</p>\n<p>Instead of:</p>\n<pre><code>LayoutInflater inflater = LayoutInflater.from(getContext());\ninflater.inflate(R.layout.translation_type_row, this);\n</code></pre>\n<p>Try this:</p>\n<pre><code>inflate(getContext(), R.layout.translation_type_row, this);\n</code></pre>\n<p>Using the static View <strong>inflate()</strong> is the cleanest and most efficient way to go; you don't need a LayoutInflater.</p>\n"}],"owner":{"account_id":1805920,"reputation":495,"user_id":1643012,"accept_rate":43,"display_name":"Mojtaba Mahamed"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1326,"favorite_count":0,"down_vote_count":1,"up_vote_count":7,"answer_count":3,"score":6,"last_activity_date":1685106692,"creation_date":1436129297,"question_id":31234860,"body_markdown":"I&#39;m extending CardView class because I want to create custom view for each row of my list view.\nthis is my xml layout\n\n    &lt;com.mojiapps.myquran.items.TranslationDownloadItemView  xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:card_view=&quot;http://schemas.android.com/apk/res-auto&quot;\n    android:id=&quot;@+id/card_view&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:foreground=&quot;?selectableItemBackground&quot;\n    android:gravity=&quot;right&quot;\n    card_view:cardCornerRadius=&quot;3dp&quot;\n    card_view:cardElevation=&quot;3dp&quot;\n    card_view:cardPreventCornerOverlap=&quot;false&quot;&gt;\n\n    &lt;LinearLayout\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:orientation=&quot;horizontal&quot;&gt;\n    ...\n\n    &lt;/com.mojiapps.myquran.items.TranslationDownloadItemView&gt;\n\nand this is my java class\n\n    public class TranslationDownloadItemView extends CardView {\n    \n\n    public TranslationDownloadItemView(Context context) {\n        super(context);\n        init();\n    }\n\n    public TranslationDownloadItemView(Context context, AttributeSet attrs) {\n        super(context, attrs);\n    }\n\n    private void init() {\n        LayoutInflater inflater = LayoutInflater.from(getContext());\n\n        inflater.inflate(R.layout.translation_type_row, this);\n    ...\n    }\n    ...\n    }\n\nand this is the result\n\n![enter image description here][1]\n\ncan anybody help me?\n\n  [1]: http://i.stack.imgur.com/RbPUG.jpg","title":"extending cardview class show white rectangle around the card","body":"<p>I'm extending CardView class because I want to create custom view for each row of my list view.\nthis is my xml layout</p>\n<pre><code>&lt;com.mojiapps.myquran.items.TranslationDownloadItemView  xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\nxmlns:card_view=&quot;http://schemas.android.com/apk/res-auto&quot;\nandroid:id=&quot;@+id/card_view&quot;\nandroid:layout_width=&quot;match_parent&quot;\nandroid:layout_height=&quot;match_parent&quot;\nandroid:foreground=&quot;?selectableItemBackground&quot;\nandroid:gravity=&quot;right&quot;\ncard_view:cardCornerRadius=&quot;3dp&quot;\ncard_view:cardElevation=&quot;3dp&quot;\ncard_view:cardPreventCornerOverlap=&quot;false&quot;&gt;\n\n&lt;LinearLayout\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:orientation=&quot;horizontal&quot;&gt;\n...\n\n&lt;/com.mojiapps.myquran.items.TranslationDownloadItemView&gt;\n</code></pre>\n<p>and this is my java class</p>\n<pre><code>public class TranslationDownloadItemView extends CardView {\n\n\npublic TranslationDownloadItemView(Context context) {\n    super(context);\n    init();\n}\n\npublic TranslationDownloadItemView(Context context, AttributeSet attrs) {\n    super(context, attrs);\n}\n\nprivate void init() {\n    LayoutInflater inflater = LayoutInflater.from(getContext());\n\n    inflater.inflate(R.layout.translation_type_row, this);\n...\n}\n...\n}\n</code></pre>\n<p>and this is the result</p>\n<p><img src=\"https://i.stack.imgur.com/RbPUG.jpg\" alt=\"enter image description here\" /></p>\n<p>can anybody help me?</p>\n"},{"tags":["java","lombok"],"comments":[{"owner":{"account_id":3614596,"reputation":2212,"user_id":3014817,"display_name":"Shailesh Chandra"},"score":0,"creation_date":1616597241,"post_id":66783284,"comment_id":118052887,"body_markdown":"why don&#39;t you prefer option of creating child in one go something like Child c = Child.builder()..name(&quot;a&quot;).value(&quot;b&quot;).subValue(&quot;c&quot;).build(); with help of @SuperBuilder","body":"why don&#39;t you prefer option of creating child in one go something like Child c = Child.builder()..name(&quot;a&quot;).value(&quot;b&quot;).subValue(&quot;c&quot;).build(); with help of @SuperBuilder"},{"owner":{"account_id":134590,"reputation":26825,"user_id":336827,"accept_rate":61,"display_name":"freedev"},"score":0,"creation_date":1616597539,"post_id":66783284,"comment_id":118053054,"body_markdown":"@ShaileshChandra well, in the real case the parent has really a big number of fields. In this way would not be easier...","body":"@ShaileshChandra well, in the real case the parent has really a big number of fields. In this way would not be easier..."},{"owner":{"account_id":3614596,"reputation":2212,"user_id":3014817,"display_name":"Shailesh Chandra"},"score":0,"creation_date":1616597685,"post_id":66783284,"comment_id":118053126,"body_markdown":"understood then I would suggest go for composition instead of inheritance , what do you think, and you can have a field named with parent of parent type","body":"understood then I would suggest go for composition instead of inheritance , what do you think, and you can have a field named with parent of parent type"},{"owner":{"account_id":134590,"reputation":26825,"user_id":336827,"accept_rate":61,"display_name":"freedev"},"score":0,"creation_date":1616598977,"post_id":66783284,"comment_id":118053862,"body_markdown":"@ShaileshChandra the composition is not what I was looking for :)","body":"@ShaileshChandra the composition is not what I was looking for :)"},{"owner":{"account_id":3614596,"reputation":2212,"user_id":3014817,"display_name":"Shailesh Chandra"},"score":0,"creation_date":1616599852,"post_id":66783284,"comment_id":118054333,"body_markdown":"ok, however lf we talk about lombok it only generates the code during compilation, just think if lombok decides to offer this what code it will be generate ?","body":"ok, however lf we talk about lombok it only generates the code during compilation, just think if lombok decides to offer this what code it will be generate ?"}],"answers":[{"comments":[{"owner":{"account_id":134590,"reputation":26825,"user_id":336827,"accept_rate":61,"display_name":"freedev"},"score":0,"creation_date":1616599261,"post_id":66783960,"comment_id":118054010,"body_markdown":"Thanks, interesting. Even if I have upvoted this, the option two points to a question with many answers, it is not clear what answer is the example are you referring to. Could you please be more specific?","body":"Thanks, interesting. Even if I have upvoted this, the option two points to a question with many answers, it is not clear what answer is the example are you referring to. Could you please be more specific?"}],"tags":[],"owner":{"account_id":3421530,"reputation":3695,"user_id":2868955,"accept_rate":85,"display_name":"Evdzhan Mustafa"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1616598652,"creation_date":1616598652,"answer_id":66783960,"question_id":66783284,"body_markdown":"Other answers don&#39;t truly make your client code simply reuse the parent instance you already have. But this is doable. You have two options:\r\n\r\n\r\nThe hard one is to write your custom annotation that does what you want. You can even make it generic so that it works for any classes the have parent/child hierarchy. Have a look at this [example][1]. If you feel brave you can raise a feature request on [Lombok&#39;s github][2] page. \r\n\r\n\r\nOption two would be to write your custom builder for the child. See [example here][3]. In your custom builder in the init step you would be reading a passed in Parent instance, and setup the inherited fields only. \r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/41243018/create-custom-annotation-for-lombok\r\n  [2]: https://github.com/rzwitserloot/lombok\r\n  [3]: https://stackoverflow.com/questions/37968696/how-to-run-code-after-constructor-in-a-lombok-builder","title":"Can I use the Lombok @Builder passing the parent class as parameter?","body":"<p>Other answers don't truly make your client code simply reuse the parent instance you already have. But this is doable. You have two options:</p>\n<p>The hard one is to write your custom annotation that does what you want. You can even make it generic so that it works for any classes the have parent/child hierarchy. Have a look at this <a href=\"https://stackoverflow.com/questions/41243018/create-custom-annotation-for-lombok\">example</a>. If you feel brave you can raise a feature request on <a href=\"https://github.com/rzwitserloot/lombok\" rel=\"nofollow noreferrer\">Lombok's github</a> page.</p>\n<p>Option two would be to write your custom builder for the child. See <a href=\"https://stackoverflow.com/questions/37968696/how-to-run-code-after-constructor-in-a-lombok-builder\">example here</a>. In your custom builder in the init step you would be reading a passed in Parent instance, and setup the inherited fields only.</p>\n"},{"tags":[],"owner":{"account_id":13887193,"reputation":7307,"user_id":10026074,"display_name":"Jan Rieke"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1616786782,"creation_date":1616762330,"answer_id":66817135,"question_id":66783284,"body_markdown":"The regular `@Builder` is not sufficient here, because you are dealing with a class hierarchy. However, `@SuperBuilder` was made exactly for such a case.\r\n\r\n`@SuperBuilder` generates complex code loaded with generics. That makes this solution difficult to understand without in-depth knowledge about the code `@SuperBuilder` generates. You should think about whether this is worth it.\r\n\r\nHere&#39;s the solution (with Lombok &gt;= 1.18.16):\r\n\r\n    @SuperBuilder(toBuilder = true)\r\n    public static class Parent {\r\n        public String param1;\r\n        public String param2;\r\n        // many parameters\r\n        public String paramN;\r\n\r\n        public abstract static class ParentBuilder&lt;C extends Parent, B extends Parent.ParentBuilder&lt;C, B&gt;&gt; {\r\n            protected B $fillValuesFromParent(Parent instance) {\r\n                $fillValuesFromInstanceIntoBuilder(instance, this);\r\n                return self();\r\n            }\r\n        }\r\n    }\r\n\r\n    @SuperBuilder(toBuilder = true)\r\n    public static class Child extends Parent {\r\n        public String subValue;\r\n\r\n        public static ChildBuilder&lt;?, ?&gt; toBuilder(Parent p) {\r\n            return new ChildBuilderImpl().$fillValuesFromParent(p);\r\n        }\r\n    }\r\nThe new `toBuilder` method on `Child` creates a new `ChildBuilderImpl` (which will create a `Child` instance when calling `build()`). To fill the values from the given `Parent p`, it calls the new `$fillValuesFromParent` method from `ParentBuilder`. This method further delegates the call to the method `$fillValuesFromInstanceIntoBuilder`, which is generated by Lombok and performs the actual copying of the field values to the new builder instance.\r\n\r\nAlso note the `$` prefix on the methods. This basically says: I&#39;m an implementation detail; don&#39;t use me unless you know what you are doing, I might break on the next Lombok version without further notice.","title":"Can I use the Lombok @Builder passing the parent class as parameter?","body":"<p>The regular <code>@Builder</code> is not sufficient here, because you are dealing with a class hierarchy. However, <code>@SuperBuilder</code> was made exactly for such a case.</p>\n<p><code>@SuperBuilder</code> generates complex code loaded with generics. That makes this solution difficult to understand without in-depth knowledge about the code <code>@SuperBuilder</code> generates. You should think about whether this is worth it.</p>\n<p>Here's the solution (with Lombok &gt;= 1.18.16):</p>\n<pre><code>@SuperBuilder(toBuilder = true)\npublic static class Parent {\n    public String param1;\n    public String param2;\n    // many parameters\n    public String paramN;\n\n    public abstract static class ParentBuilder&lt;C extends Parent, B extends Parent.ParentBuilder&lt;C, B&gt;&gt; {\n        protected B $fillValuesFromParent(Parent instance) {\n            $fillValuesFromInstanceIntoBuilder(instance, this);\n            return self();\n        }\n    }\n}\n\n@SuperBuilder(toBuilder = true)\npublic static class Child extends Parent {\n    public String subValue;\n\n    public static ChildBuilder&lt;?, ?&gt; toBuilder(Parent p) {\n        return new ChildBuilderImpl().$fillValuesFromParent(p);\n    }\n}\n</code></pre>\n<p>The new <code>toBuilder</code> method on <code>Child</code> creates a new <code>ChildBuilderImpl</code> (which will create a <code>Child</code> instance when calling <code>build()</code>). To fill the values from the given <code>Parent p</code>, it calls the new <code>$fillValuesFromParent</code> method from <code>ParentBuilder</code>. This method further delegates the call to the method <code>$fillValuesFromInstanceIntoBuilder</code>, which is generated by Lombok and performs the actual copying of the field values to the new builder instance.</p>\n<p>Also note the <code>$</code> prefix on the methods. This basically says: I'm an implementation detail; don't use me unless you know what you are doing, I might break on the next Lombok version without further notice.</p>\n"},{"comments":[{"owner":{"account_id":134590,"reputation":26825,"user_id":336827,"accept_rate":61,"display_name":"freedev"},"score":0,"creation_date":1682932513,"post_id":76141798,"comment_id":134285747,"body_markdown":"Hi Rui, interesting suggestion but not very clear could you please elaborate better?","body":"Hi Rui, interesting suggestion but not very clear could you please elaborate better?"},{"owner":{"account_id":134590,"reputation":26825,"user_id":336827,"accept_rate":61,"display_name":"freedev"},"score":0,"creation_date":1682932645,"post_id":76141798,"comment_id":134285766,"body_markdown":"And... ideally I don&#39;t want modify objects but create a new ones.","body":"And... ideally I don&#39;t want modify objects but create a new ones."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1683006331,"post_id":76141798,"comment_id":134296717,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/76141798/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."},{"owner":{"account_id":14434070,"reputation":1,"user_id":10426579,"display_name":"Rui Menoita"},"score":0,"creation_date":1683716997,"post_id":76141798,"comment_id":134408489,"body_markdown":"@freedev The code creates a new object Dog from Pet and then uses the builder to make a new object Dog with the Id specified.\nThat is a little annoying since it creates an object pet which is merely a middle state, which is unnecessary. To remedy this, you can utilize the sets methods from the dog class, so this code `mapper.toDog(pet).mapper.toDog(pet)setId(&quot;My ID&quot;);` would be `mapper.toBuilder().id(&quot;My ID&quot;);`","body":"@freedev The code creates a new object Dog from Pet and then uses the builder to make a new object Dog with the Id specified. That is a little annoying since it creates an object pet which is merely a middle state, which is unnecessary. To remedy this, you can utilize the sets methods from the dog class, so this code <code>mapper.toDog(pet).mapper.toDog(pet)setId(&quot;My ID&quot;);</code> would be <code>mapper.toBuilder().id(&quot;My ID&quot;);</code>"}],"tags":[],"owner":{"account_id":14434070,"reputation":1,"user_id":10426579,"display_name":"Rui Menoita"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683717873,"creation_date":1682865195,"answer_id":76141798,"question_id":66783284,"body_markdown":"Another approach that could be useful for those following this thread is to utilize a mapping library like MapperStruct. With MapperStruct, you can define a mapper interface as follows:\r\n```\r\n@Mapper\r\npublic interface PetMapper {\r\n   Dog toDog(Pet pet);\r\n}\r\n\r\n```\r\nAfter defining the mapper, you can use it in your code like this:\r\n```\r\n\r\nprivate static final PetMapper mapper;\r\n\r\n...\r\n\r\npublic void myFunction(Pet pet) {\r\n    mapper.toDog(pet).toBuilder().id(&quot;My ID&quot;).build();\r\n}\r\n\r\n```\r\nor\r\n```\r\n\r\nprivate static final PetMapper mapper;\r\n\r\n...\r\n\r\npublic void myFunction(Pet pet) {\r\n    mapper.toDog(pet).setId(&quot;My ID&quot;);\r\n}\r\n\r\n```\r\nThis way, you can easily map between different objects and modify the resulting object as needed.\r\n\r\n# Update \r\n\r\nThe idea here is to let the mapper handle the creation of a new object child from the parent class (or from its sibling classes), and then using that mapped object you can use its setters to set custom properties or you can use toBuilder() (Be aware that the toBuilder will create a new object once you call .build()).","title":"Can I use the Lombok @Builder passing the parent class as parameter?","body":"<p>Another approach that could be useful for those following this thread is to utilize a mapping library like MapperStruct. With MapperStruct, you can define a mapper interface as follows:</p>\n<pre><code>@Mapper\npublic interface PetMapper {\n   Dog toDog(Pet pet);\n}\n\n</code></pre>\n<p>After defining the mapper, you can use it in your code like this:</p>\n<pre><code>\nprivate static final PetMapper mapper;\n\n...\n\npublic void myFunction(Pet pet) {\n    mapper.toDog(pet).toBuilder().id(&quot;My ID&quot;).build();\n}\n\n</code></pre>\n<p>or</p>\n<pre><code>\nprivate static final PetMapper mapper;\n\n...\n\npublic void myFunction(Pet pet) {\n    mapper.toDog(pet).setId(&quot;My ID&quot;);\n}\n\n</code></pre>\n<p>This way, you can easily map between different objects and modify the resulting object as needed.</p>\n<h1>Update</h1>\n<p>The idea here is to let the mapper handle the creation of a new object child from the parent class (or from its sibling classes), and then using that mapped object you can use its setters to set custom properties or you can use toBuilder() (Be aware that the toBuilder will create a new object once you call .build()).</p>\n"},{"comments":[{"owner":{"account_id":134590,"reputation":26825,"user_id":336827,"accept_rate":61,"display_name":"freedev"},"score":0,"creation_date":1685309236,"post_id":76341118,"comment_id":134640091,"body_markdown":"Thanks for suggesting. which version of lombok should I use?","body":"Thanks for suggesting. which version of lombok should I use?"},{"owner":{"account_id":15544774,"reputation":21,"user_id":11214374,"display_name":"Skill For Kill"},"score":0,"creation_date":1685428815,"post_id":76341118,"comment_id":134654167,"body_markdown":"@freedev Good question, I&#39;ve used 1.18.10. According to documentation [link](https://projectlombok.org/features/experimental/SuperBuilder), \n`@SuperBuilder` was introduced as experimental feature in lombok v1.18.2.\n`@SuperBuilder&#39;s toBuilder` feature was added with lombok v1.18.4. So the minimum version should be 1.18.4","body":"@freedev Good question, I&#39;ve used 1.18.10. According to documentation <a href=\"https://projectlombok.org/features/experimental/SuperBuilder\" rel=\"nofollow noreferrer\">link</a>,  <code>@SuperBuilder</code> was introduced as experimental feature in lombok v1.18.2. <code>@SuperBuilder&#39;s toBuilder</code> feature was added with lombok v1.18.4. So the minimum version should be 1.18.4"}],"tags":[],"owner":{"account_id":15544774,"reputation":21,"user_id":11214374,"display_name":"Skill For Kill"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685106611,"creation_date":1685106611,"answer_id":76341118,"question_id":66783284,"body_markdown":"Have found simple workaround. You will need **@SuperBuilder(toBuilder = true)** annotation in parent and child classes. SuperBuilder provides constructor with builder class as a parameter, so we can use it in child class for doing a copy. This means that you don&#39;t need to write mapping manually at all.\r\n\r\n    @SuperBuilder(toBuilder = true)\r\n    public class Parent {\r\n    \r\n       private String field;\r\n    \r\n    }\r\n\r\n    @Data\r\n    @SuperBuilder(toBuilder = true)\r\n    public class Child extends Parent {\r\n    \r\n        private String extraField;\r\n    \r\n        public Child(Parent instance) {\r\n            super(instance.toBuilder());\r\n        }\r\n    \r\n        public static ChildBuilder&lt;?, ?&gt; builder(Parent instance) {\r\n            return new Child(instance).toBuilder();\r\n        }\r\n    }\r\n    \r\nAs a result you can copy fields from parent instance to child builder and supplement with needed data:\r\n\r\n    Child result = Child.builder(parentInstance)\r\n                    .extraField(&quot;extra&quot;)\r\n                    .build();","title":"Can I use the Lombok @Builder passing the parent class as parameter?","body":"<p>Have found simple workaround. You will need <strong>@SuperBuilder(toBuilder = true)</strong> annotation in parent and child classes. SuperBuilder provides constructor with builder class as a parameter, so we can use it in child class for doing a copy. This means that you don't need to write mapping manually at all.</p>\n<pre><code>@SuperBuilder(toBuilder = true)\npublic class Parent {\n\n   private String field;\n\n}\n\n@Data\n@SuperBuilder(toBuilder = true)\npublic class Child extends Parent {\n\n    private String extraField;\n\n    public Child(Parent instance) {\n        super(instance.toBuilder());\n    }\n\n    public static ChildBuilder&lt;?, ?&gt; builder(Parent instance) {\n        return new Child(instance).toBuilder();\n    }\n}\n</code></pre>\n<p>As a result you can copy fields from parent instance to child builder and supplement with needed data:</p>\n<pre><code>Child result = Child.builder(parentInstance)\n                .extraField(&quot;extra&quot;)\n                .build();\n</code></pre>\n"}],"owner":{"account_id":134590,"reputation":26825,"user_id":336827,"accept_rate":61,"display_name":"freedev"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5725,"favorite_count":0,"down_vote_count":1,"up_vote_count":8,"answer_count":4,"score":7,"last_activity_date":1685106611,"creation_date":1616596482,"question_id":66783284,"body_markdown":"I want to create a new `Child` instance passing a `Parent` and other additional parameters. \r\n\r\nFor example if I have:\r\n\r\n    public class Parent {\r\n        public String param1;\r\n        public String param2;\r\n        // many parameters\r\n        public String paramN;\r\n    }\r\n\r\n    public class Child extends Parent {\r\n        public String subValue;\r\n    }\r\n    \r\nWith lombok, is there a builder that lets me create a `Child` instance passing the `Parent` and the missing value as parameters?\r\n\r\nWould be easier if I could write something like:\r\n\r\n    Parent p = Parent.builder()\r\n                     .param1(&quot;a&quot;)\r\n                     .param2(&quot;b&quot;)\r\n                     // many parameters\r\n                     .paramN(&quot;b&quot;)\r\n                     .build();\r\n    Child c = Child.builder(p).subValue(&quot;c&quot;).build();\r\n   ","title":"Can I use the Lombok @Builder passing the parent class as parameter?","body":"<p>I want to create a new <code>Child</code> instance passing a <code>Parent</code> and other additional parameters.</p>\n<p>For example if I have:</p>\n<pre><code>public class Parent {\n    public String param1;\n    public String param2;\n    // many parameters\n    public String paramN;\n}\n\npublic class Child extends Parent {\n    public String subValue;\n}\n</code></pre>\n<p>With lombok, is there a builder that lets me create a <code>Child</code> instance passing the <code>Parent</code> and the missing value as parameters?</p>\n<p>Would be easier if I could write something like:</p>\n<pre><code>Parent p = Parent.builder()\n                 .param1(&quot;a&quot;)\n                 .param2(&quot;b&quot;)\n                 // many parameters\n                 .paramN(&quot;b&quot;)\n                 .build();\nChild c = Child.builder(p).subValue(&quot;c&quot;).build();\n</code></pre>\n"},{"tags":["java","amazon-redshift","amazon-redshift-spectrum","jdbi3"],"owner":{"account_id":2814129,"reputation":1,"user_id":2419681,"display_name":"Jack"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":405,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685106289,"creation_date":1685106289,"question_id":76341078,"body_markdown":"I Am trying to run select * from table_name limit 500000, but it returns this error in java \r\n\r\n    Protocol errors with Amazon Redshift database. &quot;ERROR: Invalid protocol sequence &#39;P&#39; while in PortalSuspended state.&quot;\r\n\r\nRedshift driver: redshift-driver-2.1.0.9.jar\r\nRedshift engine cluster version: 1.0.49780\r\n\r\n[DB result for select version; in Redshift database][1]\r\n\r\n  [1]: https://i.stack.imgur.com/datMV.png\r\n\r\nCould you please help me, why getting protocol errors in the Redshift database","title":"Protocol errors with Amazon Redshift database. &quot;ERROR: Invalid protocol sequence &#39;P&#39; while in PortalSuspended state.&quot;","body":"<p>I Am trying to run select * from table_name limit 500000, but it returns this error in java</p>\n<pre><code>Protocol errors with Amazon Redshift database. &quot;ERROR: Invalid protocol sequence 'P' while in PortalSuspended state.&quot;\n</code></pre>\n<p>Redshift driver: redshift-driver-2.1.0.9.jar\nRedshift engine cluster version: 1.0.49780</p>\n<p><a href=\"https://i.stack.imgur.com/datMV.png\" rel=\"nofollow noreferrer\">DB result for select version; in Redshift database</a></p>\n<p>Could you please help me, why getting protocol errors in the Redshift database</p>\n"},{"tags":["java","spring-boot","multithreading","asynchronous","requestscope"],"owner":{"account_id":5671021,"reputation":109,"user_id":4485631,"display_name":"MANVENDRA LODHI"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":141,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1685105956,"creation_date":1685105956,"question_id":76341044,"body_markdown":"I&#39;m facing issue where, sometimes, async thread is NOT copying Request Scope properties through :\r\n\r\n    @Override\r\n          public &lt;T&gt; Future&lt;T&gt; submit(Callable&lt;T&gt; task) {\r\n            return super.submit(\r\n                new ContextAwareCallable(task, RequestContextHolder.currentRequestAttributes()));\r\n          }\r\n   \r\n    @Override\r\n  \r\n\r\n    public T call() throws Exception {\r\n        if (context != null) {\r\n          RequestContextHolder.setRequestAttributes(context);\r\n        }\r\n        try {\r\n          return task.call();\r\n        } finally {\r\n          RequestContextHolder.resetRequestAttributes();\r\n        }\r\n      }\r\n\r\nDue to this, getting below exception:\r\n\r\n    **org.springframework.beans.factory.support.ScopeNotActiveException:** \r\n\r\nError creating bean with name `&#39;scopedTarget.sessionClient&#39;`: \r\nScope &#39;request&#39; is not active for the current thread; \r\nconsider defining a scoped proxy for this bean if you intend to refer to it from a singleton; \r\n`nested exception is java.lang.IllegalStateException:` Cannot ask for request attribute - request is not active anymore!\r\n\r\nPlease suggest a concrete way to copy request attributes in new thread? OR way to identify that request is executing through Async thread OR main thread?\r\n\r\nTIA","title":"Springboot | RequestScope | @Async | Is their any way to identify that request is executing through Async thread OR main thread?","body":"<p>I'm facing issue where, sometimes, async thread is NOT copying Request Scope properties through :</p>\n<pre><code>@Override\n      public &lt;T&gt; Future&lt;T&gt; submit(Callable&lt;T&gt; task) {\n        return super.submit(\n            new ContextAwareCallable(task, RequestContextHolder.currentRequestAttributes()));\n      }\n\n@Override\n\n\npublic T call() throws Exception {\n    if (context != null) {\n      RequestContextHolder.setRequestAttributes(context);\n    }\n    try {\n      return task.call();\n    } finally {\n      RequestContextHolder.resetRequestAttributes();\n    }\n  }\n</code></pre>\n<p>Due to this, getting below exception:</p>\n<pre><code>**org.springframework.beans.factory.support.ScopeNotActiveException:** \n</code></pre>\n<p>Error creating bean with name <code>'scopedTarget.sessionClient'</code>:\nScope 'request' is not active for the current thread;\nconsider defining a scoped proxy for this bean if you intend to refer to it from a singleton;\n<code>nested exception is java.lang.IllegalStateException:</code> Cannot ask for request attribute - request is not active anymore!</p>\n<p>Please suggest a concrete way to copy request attributes in new thread? OR way to identify that request is executing through Async thread OR main thread?</p>\n<p>TIA</p>\n"},{"tags":["java","interface","abstract-class","abstract","java-9"],"comments":[{"owner":{"account_id":58477,"reputation":25235,"user_id":175070,"display_name":"Mike Strobel"},"score":6,"creation_date":1506972071,"post_id":46532204,"comment_id":80019179,"body_markdown":"Plenty of abstract classes contain instance-level fields, and could therefore not be converted to an equivalent interface.  Perhaps you want to force inheritance from a particular super class to guarantee you have package-level access to some of its internals.  The second case is perhaps less common but you can see it employed in parts of the JDK (e.g., in socket selector APIs).","body":"Plenty of abstract classes contain instance-level fields, and could therefore not be converted to an equivalent interface.  Perhaps you want to force inheritance from a particular super class to guarantee you have package-level access to some of its internals.  The second case is perhaps less common but you can see it employed in parts of the JDK (e.g., in socket selector APIs)."}],"answers":[{"tags":[],"owner":{"account_id":63444,"reputation":7018,"user_id":187808,"accept_rate":100,"display_name":"Tamas Rev"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1506971975,"creation_date":1506971975,"answer_id":46532269,"question_id":46532204,"body_markdown":"Indeed, you&#39;re missing something:\r\n\r\n - non-constant variables\r\n - protected and package-private methods\r\n\r\nIn general, you don&#39;t have to use a feature just because you can. In particular, be careful with multiple inheritance. It can make things complicated very quickly.","title":"Is there any good reason to use abstract classes with the new additions to interfaces in Java 9?","body":"<p>Indeed, you're missing something:</p>\n\n<ul>\n<li>non-constant variables</li>\n<li>protected and package-private methods</li>\n</ul>\n\n<p>In general, you don't have to use a feature just because you can. In particular, be careful with multiple inheritance. It can make things complicated very quickly.</p>\n"}],"owner":{"account_id":5961968,"reputation":1269,"user_id":4686871,"accept_rate":100,"display_name":"Sergei Sirik"},"comment_count":1,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":360,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"closed_date":1506971826,"accepted_answer_id":46532269,"answer_count":1,"score":3,"last_activity_date":1685105885,"creation_date":1506971689,"question_id":46532204,"body_markdown":"Since the Java 9 release is there any good reason to use abstract classes anymore? It seems like you can do everything with interfaces now, plus you can have multiple inheritance with interfaces.\r\n\r\n[Java SE 9: Interfaces][1]\r\n\r\n*    Constant variables\r\n*    Abstract methods\r\n*    Default methods\r\n*    Static methods\r\n*    Private methods\r\n*    Private Static methods\r\n\r\nAm I missing something? I can&#39;t find any good reason except, probably, backward compatibility.\r\n\r\n\r\n  [1]: https://www.journaldev.com/12850/java9-private-methods-in-interface","title":"Is there any good reason to use abstract classes with the new additions to interfaces in Java 9?","body":"<p>Since the Java 9 release is there any good reason to use abstract classes anymore? It seems like you can do everything with interfaces now, plus you can have multiple inheritance with interfaces.</p>\n<p><a href=\"https://www.journaldev.com/12850/java9-private-methods-in-interface\" rel=\"nofollow noreferrer\">Java SE 9: Interfaces</a></p>\n<ul>\n<li>Constant variables</li>\n<li>Abstract methods</li>\n<li>Default methods</li>\n<li>Static methods</li>\n<li>Private methods</li>\n<li>Private Static methods</li>\n</ul>\n<p>Am I missing something? I can't find any good reason except, probably, backward compatibility.</p>\n"},{"tags":["java","android","xml","android-studio"],"owner":{"account_id":13364804,"reputation":65,"user_id":9645476,"display_name":"kadir yapar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685105601,"creation_date":1685105601,"question_id":76341017,"body_markdown":"I am trying to create a custom input field on Android using java and xml.\r\n\r\nBelow the code does not show the hint and the most important error that when I write some text in the field and go to another page and come back again, it takes the text from the second field and write into the first and second input field.\r\n\r\nWhere am I wrong?\r\n\r\nThank for your response in advance.\r\n\r\nHere is my custom input field xml file\r\n\r\nmobpay_input_field.xml\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;merge xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\r\n\r\n    &lt;androidx.constraintlayout.widget.ConstraintLayout\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        tools:background=&quot;@drawable/background_cropped_drawable&quot;&gt;\r\n\r\n        &lt;com.google.android.material.textfield.TextInputLayout\r\n            android:id=&quot;@+id/text_input_layout&quot;\r\n            style=&quot;@style/MyStyle.InputLayout&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n            tools:hint=&quot;Test hint&quot;&gt;\r\n\r\n            &lt;com.neste.app.views.CustomErrorEditText\r\n                android:id=&quot;@+id/edit_text&quot;\r\n                style=&quot;@style/InputBoxStyle&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:theme=&quot;@style/InputBoxStyle&quot;\r\n                tools:text=&quot;Some error&quot; /&gt;\r\n        &lt;/com.google.android.material.textfield.TextInputLayout&gt;\r\n\r\n        &lt;androidx.appcompat.widget.AppCompatImageButton\r\n            android:id=&quot;@+id/edit_text_clear_btn&quot;\r\n            android:layout_width=&quot;@dimen/icon_small&quot;\r\n            android:layout_height=&quot;@dimen/icon_small&quot;\r\n            android:layout_margin=&quot;@dimen/spacing_m&quot;\r\n            android:background=&quot;@color/transparent&quot;\r\n            android:src=&quot;@drawable/ic_cross&quot;\r\n            android:visibility=&quot;gone&quot;\r\n            app:layout_constraintBottom_toBottomOf=&quot;@id/text_input_layout&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;@id/text_input_layout&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n            tools:visibility=&quot;visible&quot; /&gt;\r\n\r\n        &lt;androidx.appcompat.widget.AppCompatTextView\r\n            android:id=&quot;@+id/edit_text_tip&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_marginStart=&quot;4dp&quot;\r\n            android:layout_marginLeft=&quot;4dp&quot;\r\n            android:layout_marginBottom=&quot;@dimen/spacing_s&quot;\r\n            android:textColor=&quot;@color/white&quot;\r\n            android:textSize=&quot;@dimen/font_size_tiny&quot;\r\n            android:visibility=&quot;gone&quot;\r\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toBottomOf=&quot;@id/text_input_layout&quot;\r\n            tools:text=&quot;Some text&quot;\r\n            tools:visibility=&quot;visible&quot; /&gt;\r\n\r\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n&lt;/merge&gt;\r\n```\r\n\r\nThis is custom input field java file;\r\nMobPayInputField.java\r\n```\r\npackage com.neste.app.views;\r\n\r\nimport android.annotation.SuppressLint;\r\nimport android.content.Context;\r\nimport android.content.res.TypedArray;\r\nimport android.graphics.drawable.Drawable;\r\nimport android.text.Editable;\r\nimport android.text.InputFilter;\r\nimport android.text.TextUtils;\r\nimport android.text.TextWatcher;\r\nimport android.text.method.DigitsKeyListener;\r\nimport android.util.AttributeSet;\r\nimport android.util.Log;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.widget.FrameLayout;\r\nimport android.widget.TextView;\r\n\r\nimport androidx.annotation.NonNull;\r\n\r\nimport com.google.android.material.textfield.TextInputLayout;\r\nimport com.neste.app.R;\r\nimport com.neste.app.utils.AppUtils;\r\n\r\npublic class MobPayInputField extends FrameLayout {\r\n\r\n    CharSequence text;\r\n    CharSequence hint;\r\n    CustomErrorEditText editText;\r\n    TextView editTip;\r\n    TextInputLayout inputLayout;\r\n    int inputType;\r\n    int maxLength;\r\n    int textColor;\r\n    boolean enabled;\r\n    private View resetButton;\r\n\r\n    public MobPayInputField(Context context) {\r\n        super(context);\r\n        init(context, null);\r\n    }\r\n\r\n    public MobPayInputField(Context context, AttributeSet attrs) {\r\n        super(context, attrs);\r\n        init(context, attrs);\r\n    }\r\n\r\n    public MobPayInputField(Context context, AttributeSet attrs, int defStyle) {\r\n        super(context, attrs, defStyle);\r\n        init(context, attrs);\r\n    }\r\n\r\n    private void init(Context context, AttributeSet attrs) {\r\n\r\n        TypedArray typedArray = context.obtainStyledAttributes(\r\n                attrs, R.styleable.MobPayInputField, 0, 0);\r\n        hint = typedArray.getString(R.styleable.MobPayInputField_hint);\r\n        text = typedArray.getString(R.styleable.MobPayInputField_text);\r\n        textColor = typedArray.getColor(R.styleable.MobPayInputField_textColor, 0);\r\n        inputType = typedArray.getInt(R.styleable.MobPayInputField_android_inputType, -1);\r\n        enabled = typedArray.getBoolean(R.styleable.MobPayInputField_android_enabled, true);\r\n        maxLength = typedArray.getInt(R.styleable.MobPayInputField_maxLength, -1);\r\n\r\n        typedArray.recycle();\r\n\r\n        LayoutInflater inflater = (LayoutInflater) getContext()\r\n                .getSystemService(Context.LAYOUT_INFLATER_SERVICE);\r\n        inflater.inflate(R.layout.mobpay_input_field, this, true);\r\n\r\n        editText = findViewById(R.id.edit_text);\r\n        editTip = findViewById(R.id.edit_text_tip);\r\n        resetButton = findViewById(R.id.edit_text_clear_btn);\r\n        inputLayout = findViewById(R.id.text_input_layout);\r\n\r\n        if (text != null) {\r\n            editText.setText(text);\r\n        }\r\n\r\n        if (hint != null) {\r\n            inputLayout.setHint(hint);\r\n        }\r\n\r\n        if (inputType != -1) {\r\n            editText.setInputType(inputType);\r\n        }\r\n\r\n        if (textColor != 0) {\r\n            editText.setTextColor(textColor);\r\n        }\r\n\r\n        if (!enabled) {\r\n            setEnabled(false);\r\n            editText.setEnabled(false);\r\n            editText.setFocusable(false);\r\n            editText.setClickable(false);\r\n            resetButton.setVisibility(GONE);\r\n        }\r\n\r\n        if (maxLength != -1) {\r\n\r\n            // EditText does not support directly setting maxLength attribute but this\r\n            // works as setting android:maxLength on the XML-layout\r\n            editText.setFilters(new InputFilter[]{new InputFilter.LengthFilter(maxLength)});\r\n        }\r\n\r\n        editText.addTextChangedListener(new TextWatcher() {\r\n            @Override\r\n            public void beforeTextChanged(CharSequence s, int start, int count, int after) {\r\n                // empty on purpose\r\n            }\r\n\r\n            @Override\r\n            public void onTextChanged(CharSequence s, int start, int before, int count) {\r\n                // empty on purpose\r\n            }\r\n\r\n            @Override\r\n            public void afterTextChanged(Editable s) {\r\n                if (enabled) {\r\n                    resetButton.setVisibility(!TextUtils.isEmpty(s.toString()) ?\r\n                            VISIBLE : GONE);\r\n                }\r\n            }\r\n        });\r\n        resetButton.setOnClickListener(v -&gt; editText.setText(&quot;&quot;));\r\n\r\n        forceLayout();\r\n    }\r\n\r\n    public void setOnEditorActionListener(TextView.OnEditorActionListener listener) {\r\n        editText.setOnEditorActionListener(listener);\r\n    }\r\n\r\n    public void setOnTextChangedListener(TextWatcher textWatcher) {\r\n        editText.addTextChangedListener(textWatcher);\r\n    }\r\n\r\n    public void setText(String text) {\r\n        editText.setText(text);\r\n    }\r\n\r\n    public void setTextColor(int color) {\r\n        if (editText != null) {\r\n            editText.setTextColor(color);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void setEnabled(boolean enabled) {\r\n        super.setEnabled(enabled);\r\n        this.enabled = enabled;\r\n        resetButton.setVisibility(enabled &amp;&amp; !TextUtils.isEmpty(editText.getText()) ?\r\n                VISIBLE : GONE);\r\n    }\r\n\r\n    public void addNewFilter(InputFilter filter) {\r\n        InputFilter[] currentFilters = editText.getFilters();\r\n        InputFilter[] newFilters = new InputFilter[currentFilters.length + 1];\r\n        System.arraycopy(currentFilters, 0, newFilters, 0, currentFilters.length);\r\n        newFilters[currentFilters.length] = filter;\r\n        editText.setFilters(newFilters);\r\n    }\r\n\r\n    public void setFilters(InputFilter[] filters) {\r\n        editText.setFilters(filters);\r\n    }\r\n\r\n    public void showError(boolean show) {\r\n\r\n        // Set whitespace to also highlight the bottom line with error color\r\n        showError(show, show ? &quot; &quot; : null);\r\n    }\r\n\r\n    public void showError(boolean show, int resId) {\r\n        showError(show, getResources().getString(resId));\r\n    }\r\n\r\n    // if error string is null, show only icon\r\n    public void showError(boolean show, String errorString) {\r\n        inputLayout.setError(show &amp;&amp; errorString != null ? errorString : null);\r\n        editText.showError(show);\r\n    }\r\n\r\n    // Display tip below edit field\r\n    public void setEditTextTip(String text) {\r\n        editTip.setVisibility(VISIBLE);\r\n        editTip.setText(text);\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public String toString() {\r\n        return editText.toString();\r\n    }\r\n\r\n    public CharSequence getText() {\r\n        return editText.getText();\r\n    }\r\n\r\n    @Override\r\n    public void setOnFocusChangeListener(OnFocusChangeListener listener) {\r\n        editText.setOnFocusChangeListener(listener);\r\n    }\r\n\r\n    public void addTextChangedListener(TextWatcher textWatcher) {\r\n        editText.addTextChangedListener(textWatcher);\r\n    }\r\n\r\n    public void onEditorAction(int imeActionDone) {\r\n        editText.onEditorAction(imeActionDone);\r\n    }\r\n\r\n    public void requestTextFocus() {\r\n        editText.requestFocus();\r\n        AppUtils.showKeyboard(getContext(), editText);\r\n    }\r\n\r\n    public void setSelection(int length) {\r\n        editText.setSelection(length);\r\n    }\r\n\r\n    public void allowOnlyNumbersAndSpaces() {\r\n        editText.setKeyListener(DigitsKeyListener.getInstance(&quot;0123456789 _&quot;));\r\n    }\r\n}\r\n\r\n```\r\n\r\nThis is code inside attrs.xml file that defines attributes\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;resources&gt;\r\n&lt;declare-styleable name=&quot;MobPayInputField&quot;&gt;\r\n        &lt;attr name=&quot;textColor&quot; format=&quot;color&quot; /&gt;\r\n        &lt;attr name=&quot;maxLength&quot; format=&quot;integer&quot; /&gt;\r\n        &lt;attr name=&quot;hint&quot; format=&quot;string&quot; /&gt;\r\n        &lt;attr name=&quot;text&quot; format=&quot;string&quot; /&gt;\r\n        &lt;attr name=&quot;android:enabled&quot; format=&quot;boolean&quot; /&gt;\r\n        &lt;attr name=&quot;android:inputType&quot; format=&quot;integer&quot; /&gt;\r\n    &lt;/declare-styleable&gt;\r\n&lt;/resources&gt;\r\n```\r\n\r\nAnd this is the login fragment that I implemented the custom input field\r\nfragment_login.xml\r\n```\r\n&lt;ScrollView xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:fillViewport=&quot;true&quot;&gt;\r\n\r\n    &lt;LinearLayout\r\n        android:id=&quot;@id/base_layout&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_margin=&quot;@dimen/spacing_m&quot;\r\n        android:focusable=&quot;true&quot;\r\n        android:focusableInTouchMode=&quot;true&quot;\r\n        android:orientation=&quot;vertical&quot;\r\n        tools:context=&quot;.login.LoginActivity&quot;&gt;\r\n\r\n        &lt;LinearLayout\r\n            android:id=&quot;@+id/logo_container&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:gravity=&quot;center&quot;\r\n            android:orientation=&quot;vertical&quot;\r\n            android:paddingBottom=&quot;@dimen/spacing_l&quot;&gt;\r\n\r\n            &lt;ImageView\r\n                android:layout_width=&quot;@dimen/login_neste_width&quot;\r\n                android:layout_height=&quot;@dimen/login_neste_height&quot;\r\n                android:src=&quot;@drawable/neste_logo&quot; /&gt;\r\n\r\n            &lt;androidx.appcompat.widget.AppCompatTextView\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:text=&quot;@string/welcomeToNeste&quot;\r\n                android:textColor=&quot;@color/white&quot; /&gt;\r\n        &lt;/LinearLayout&gt;\r\n\r\n        &lt;androidx.constraintlayout.widget.ConstraintLayout\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:background=&quot;@drawable/neste_rounded_corner_drawable&quot;\r\n            app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\r\n            app:layout_constraintRight_toRightOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toBottomOf=&quot;@id/logo_container&quot;&gt;\r\n\r\n            &lt;ImageView\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_marginRight=&quot;@dimen/spacing_m&quot;\r\n                app:layout_constraintBottom_toBottomOf=&quot;@id/login_email&quot;\r\n                app:layout_constraintRight_toLeftOf=&quot;@id/login_email&quot;\r\n                app:layout_constraintTop_toTopOf=&quot;@id/login_email&quot;\r\n                app:layout_constraintVertical_bias=&quot;0.4&quot;\r\n                app:srcCompat=&quot;@drawable/ic_user&quot; /&gt;\r\n\r\n            &lt;com.neste.app.views.MobPayInputField\r\n                android:id=&quot;@+id/login_email&quot;\r\n                android:layout_width=&quot;0dp&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_marginLeft=&quot;54dp&quot;\r\n                android:layout_marginTop=&quot;@dimen/spacing_m&quot;\r\n                android:layout_marginRight=&quot;@dimen/spacing_xl&quot;\r\n                android:hint=&quot;@string/login_username_hint&quot;\r\n                android:inputType=&quot;textEmailAddress&quot;\r\n                app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\r\n                app:layout_constraintRight_toRightOf=&quot;parent&quot;\r\n                app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n                app:layout_constraintVertical_bias=&quot;0.5&quot; /&gt;\r\n\r\n            &lt;ImageView\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_marginRight=&quot;@dimen/spacing_m&quot;\r\n                app:layout_constraintBottom_toBottomOf=&quot;@id/password&quot;\r\n                app:layout_constraintRight_toLeftOf=&quot;@id/password&quot;\r\n                app:layout_constraintTop_toTopOf=&quot;@id/password&quot;\r\n                app:layout_constraintVertical_bias=&quot;0.4&quot;\r\n                app:srcCompat=&quot;@drawable/ic_lock&quot; /&gt;\r\n\r\n            &lt;com.neste.app.views.MobPayInputField\r\n                android:id=&quot;@+id/password&quot;\r\n                android:layout_width=&quot;0dp&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_marginLeft=&quot;54dp&quot;\r\n                android:layout_marginRight=&quot;@dimen/spacing_xl&quot;\r\n                android:hint=&quot;@string/login_password_hint&quot;\r\n                android:imeOptions=&quot;actionUnspecified&quot;\r\n                android:inputType=&quot;textPassword&quot;\r\n                app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\r\n                app:layout_constraintRight_toRightOf=&quot;parent&quot;\r\n                app:layout_constraintTop_toBottomOf=&quot;@id/login_email&quot; /&gt;\r\n\r\n            &lt;com.neste.app.views.ButtonWithLoadingView\r\n                android:id=&quot;@+id/email_sign_in_button&quot;\r\n                android:layout_width=&quot;0dp&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_marginLeft=&quot;6dp&quot;\r\n                android:layout_marginRight=&quot;@dimen/spacing_xl&quot;\r\n                android:text=&quot;@string/action_sign_in&quot;\r\n                app:layout_constraintBottom_toTopOf=&quot;@id/forgot_password_link&quot;\r\n                app:layout_constraintLeft_toLeftOf=&quot;@id/password&quot;\r\n                app:layout_constraintRight_toRightOf=&quot;@id/password&quot;\r\n                app:layout_constraintTop_toBottomOf=&quot;@id/password&quot;\r\n                app:layout_constraintVertical_bias=&quot;1&quot; /&gt;\r\n\r\n            &lt;androidx.appcompat.widget.AppCompatTextView\r\n                android:id=&quot;@+id/forgot_password_link&quot;\r\n                style=&quot;@style/Neste.TextAppearance.H3.Dim&quot;\r\n                android:layout_width=&quot;0dp&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_marginLeft=&quot;@dimen/spacing_xxl&quot;\r\n                android:layout_marginTop=&quot;@dimen/spacing_xl&quot;\r\n                android:layout_marginRight=&quot;@dimen/spacing_xxl&quot;\r\n                android:gravity=&quot;center&quot;\r\n                android:paddingBottom=&quot;@dimen/spacing_l&quot;\r\n                android:text=&quot;@string/password_forgot_link&quot;\r\n                app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\r\n                app:layout_constraintRight_toRightOf=&quot;parent&quot;\r\n                app:layout_constraintTop_toBottomOf=&quot;@id/email_sign_in_button&quot; /&gt;\r\n        &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n        &lt;!-- BOTTOM CONTAINER --&gt;\r\n\r\n        &lt;View\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;0dp&quot;\r\n            android:layout_weight=&quot;1&quot; /&gt;\r\n\r\n        &lt;androidx.appcompat.widget.AppCompatButton\r\n            android:id=&quot;@+id/go_to_user_creation&quot;\r\n            style=&quot;@style/Neste.Button.Outline&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_marginBottom=&quot;@dimen/spacing_l&quot;\r\n            android:text=&quot;@string/registerButtonTitle&quot; /&gt;\r\n\r\n        &lt;FrameLayout\r\n            android:id=&quot;@+id/prod_switch&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_gravity=&quot;center&quot;\r\n            android:gravity=&quot;center&quot;\r\n            android:visibility=&quot;gone&quot; /&gt;\r\n\r\n    &lt;/LinearLayout&gt;\r\n&lt;/ScrollView&gt;\r\n```\r\n","title":"Android Java Custom Input Field does not work","body":"<p>I am trying to create a custom input field on Android using java and xml.</p>\n<p>Below the code does not show the hint and the most important error that when I write some text in the field and go to another page and come back again, it takes the text from the second field and write into the first and second input field.</p>\n<p>Where am I wrong?</p>\n<p>Thank for your response in advance.</p>\n<p>Here is my custom input field xml file</p>\n<p>mobpay_input_field.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;merge xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\n\n    &lt;androidx.constraintlayout.widget.ConstraintLayout\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        tools:background=&quot;@drawable/background_cropped_drawable&quot;&gt;\n\n        &lt;com.google.android.material.textfield.TextInputLayout\n            android:id=&quot;@+id/text_input_layout&quot;\n            style=&quot;@style/MyStyle.InputLayout&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;\n            tools:hint=&quot;Test hint&quot;&gt;\n\n            &lt;com.neste.app.views.CustomErrorEditText\n                android:id=&quot;@+id/edit_text&quot;\n                style=&quot;@style/InputBoxStyle&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:theme=&quot;@style/InputBoxStyle&quot;\n                tools:text=&quot;Some error&quot; /&gt;\n        &lt;/com.google.android.material.textfield.TextInputLayout&gt;\n\n        &lt;androidx.appcompat.widget.AppCompatImageButton\n            android:id=&quot;@+id/edit_text_clear_btn&quot;\n            android:layout_width=&quot;@dimen/icon_small&quot;\n            android:layout_height=&quot;@dimen/icon_small&quot;\n            android:layout_margin=&quot;@dimen/spacing_m&quot;\n            android:background=&quot;@color/transparent&quot;\n            android:src=&quot;@drawable/ic_cross&quot;\n            android:visibility=&quot;gone&quot;\n            app:layout_constraintBottom_toBottomOf=&quot;@id/text_input_layout&quot;\n            app:layout_constraintEnd_toEndOf=&quot;@id/text_input_layout&quot;\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;\n            tools:visibility=&quot;visible&quot; /&gt;\n\n        &lt;androidx.appcompat.widget.AppCompatTextView\n            android:id=&quot;@+id/edit_text_tip&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_marginStart=&quot;4dp&quot;\n            android:layout_marginLeft=&quot;4dp&quot;\n            android:layout_marginBottom=&quot;@dimen/spacing_s&quot;\n            android:textColor=&quot;@color/white&quot;\n            android:textSize=&quot;@dimen/font_size_tiny&quot;\n            android:visibility=&quot;gone&quot;\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\n            app:layout_constraintTop_toBottomOf=&quot;@id/text_input_layout&quot;\n            tools:text=&quot;Some text&quot;\n            tools:visibility=&quot;visible&quot; /&gt;\n\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n&lt;/merge&gt;\n</code></pre>\n<p>This is custom input field java file;\nMobPayInputField.java</p>\n<pre><code>package com.neste.app.views;\n\nimport android.annotation.SuppressLint;\nimport android.content.Context;\nimport android.content.res.TypedArray;\nimport android.graphics.drawable.Drawable;\nimport android.text.Editable;\nimport android.text.InputFilter;\nimport android.text.TextUtils;\nimport android.text.TextWatcher;\nimport android.text.method.DigitsKeyListener;\nimport android.util.AttributeSet;\nimport android.util.Log;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.widget.FrameLayout;\nimport android.widget.TextView;\n\nimport androidx.annotation.NonNull;\n\nimport com.google.android.material.textfield.TextInputLayout;\nimport com.neste.app.R;\nimport com.neste.app.utils.AppUtils;\n\npublic class MobPayInputField extends FrameLayout {\n\n    CharSequence text;\n    CharSequence hint;\n    CustomErrorEditText editText;\n    TextView editTip;\n    TextInputLayout inputLayout;\n    int inputType;\n    int maxLength;\n    int textColor;\n    boolean enabled;\n    private View resetButton;\n\n    public MobPayInputField(Context context) {\n        super(context);\n        init(context, null);\n    }\n\n    public MobPayInputField(Context context, AttributeSet attrs) {\n        super(context, attrs);\n        init(context, attrs);\n    }\n\n    public MobPayInputField(Context context, AttributeSet attrs, int defStyle) {\n        super(context, attrs, defStyle);\n        init(context, attrs);\n    }\n\n    private void init(Context context, AttributeSet attrs) {\n\n        TypedArray typedArray = context.obtainStyledAttributes(\n                attrs, R.styleable.MobPayInputField, 0, 0);\n        hint = typedArray.getString(R.styleable.MobPayInputField_hint);\n        text = typedArray.getString(R.styleable.MobPayInputField_text);\n        textColor = typedArray.getColor(R.styleable.MobPayInputField_textColor, 0);\n        inputType = typedArray.getInt(R.styleable.MobPayInputField_android_inputType, -1);\n        enabled = typedArray.getBoolean(R.styleable.MobPayInputField_android_enabled, true);\n        maxLength = typedArray.getInt(R.styleable.MobPayInputField_maxLength, -1);\n\n        typedArray.recycle();\n\n        LayoutInflater inflater = (LayoutInflater) getContext()\n                .getSystemService(Context.LAYOUT_INFLATER_SERVICE);\n        inflater.inflate(R.layout.mobpay_input_field, this, true);\n\n        editText = findViewById(R.id.edit_text);\n        editTip = findViewById(R.id.edit_text_tip);\n        resetButton = findViewById(R.id.edit_text_clear_btn);\n        inputLayout = findViewById(R.id.text_input_layout);\n\n        if (text != null) {\n            editText.setText(text);\n        }\n\n        if (hint != null) {\n            inputLayout.setHint(hint);\n        }\n\n        if (inputType != -1) {\n            editText.setInputType(inputType);\n        }\n\n        if (textColor != 0) {\n            editText.setTextColor(textColor);\n        }\n\n        if (!enabled) {\n            setEnabled(false);\n            editText.setEnabled(false);\n            editText.setFocusable(false);\n            editText.setClickable(false);\n            resetButton.setVisibility(GONE);\n        }\n\n        if (maxLength != -1) {\n\n            // EditText does not support directly setting maxLength attribute but this\n            // works as setting android:maxLength on the XML-layout\n            editText.setFilters(new InputFilter[]{new InputFilter.LengthFilter(maxLength)});\n        }\n\n        editText.addTextChangedListener(new TextWatcher() {\n            @Override\n            public void beforeTextChanged(CharSequence s, int start, int count, int after) {\n                // empty on purpose\n            }\n\n            @Override\n            public void onTextChanged(CharSequence s, int start, int before, int count) {\n                // empty on purpose\n            }\n\n            @Override\n            public void afterTextChanged(Editable s) {\n                if (enabled) {\n                    resetButton.setVisibility(!TextUtils.isEmpty(s.toString()) ?\n                            VISIBLE : GONE);\n                }\n            }\n        });\n        resetButton.setOnClickListener(v -&gt; editText.setText(&quot;&quot;));\n\n        forceLayout();\n    }\n\n    public void setOnEditorActionListener(TextView.OnEditorActionListener listener) {\n        editText.setOnEditorActionListener(listener);\n    }\n\n    public void setOnTextChangedListener(TextWatcher textWatcher) {\n        editText.addTextChangedListener(textWatcher);\n    }\n\n    public void setText(String text) {\n        editText.setText(text);\n    }\n\n    public void setTextColor(int color) {\n        if (editText != null) {\n            editText.setTextColor(color);\n        }\n    }\n\n    @Override\n    public void setEnabled(boolean enabled) {\n        super.setEnabled(enabled);\n        this.enabled = enabled;\n        resetButton.setVisibility(enabled &amp;&amp; !TextUtils.isEmpty(editText.getText()) ?\n                VISIBLE : GONE);\n    }\n\n    public void addNewFilter(InputFilter filter) {\n        InputFilter[] currentFilters = editText.getFilters();\n        InputFilter[] newFilters = new InputFilter[currentFilters.length + 1];\n        System.arraycopy(currentFilters, 0, newFilters, 0, currentFilters.length);\n        newFilters[currentFilters.length] = filter;\n        editText.setFilters(newFilters);\n    }\n\n    public void setFilters(InputFilter[] filters) {\n        editText.setFilters(filters);\n    }\n\n    public void showError(boolean show) {\n\n        // Set whitespace to also highlight the bottom line with error color\n        showError(show, show ? &quot; &quot; : null);\n    }\n\n    public void showError(boolean show, int resId) {\n        showError(show, getResources().getString(resId));\n    }\n\n    // if error string is null, show only icon\n    public void showError(boolean show, String errorString) {\n        inputLayout.setError(show &amp;&amp; errorString != null ? errorString : null);\n        editText.showError(show);\n    }\n\n    // Display tip below edit field\n    public void setEditTextTip(String text) {\n        editTip.setVisibility(VISIBLE);\n        editTip.setText(text);\n    }\n\n    @NonNull\n    @Override\n    public String toString() {\n        return editText.toString();\n    }\n\n    public CharSequence getText() {\n        return editText.getText();\n    }\n\n    @Override\n    public void setOnFocusChangeListener(OnFocusChangeListener listener) {\n        editText.setOnFocusChangeListener(listener);\n    }\n\n    public void addTextChangedListener(TextWatcher textWatcher) {\n        editText.addTextChangedListener(textWatcher);\n    }\n\n    public void onEditorAction(int imeActionDone) {\n        editText.onEditorAction(imeActionDone);\n    }\n\n    public void requestTextFocus() {\n        editText.requestFocus();\n        AppUtils.showKeyboard(getContext(), editText);\n    }\n\n    public void setSelection(int length) {\n        editText.setSelection(length);\n    }\n\n    public void allowOnlyNumbersAndSpaces() {\n        editText.setKeyListener(DigitsKeyListener.getInstance(&quot;0123456789 _&quot;));\n    }\n}\n\n</code></pre>\n<p>This is code inside attrs.xml file that defines attributes</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;resources&gt;\n&lt;declare-styleable name=&quot;MobPayInputField&quot;&gt;\n        &lt;attr name=&quot;textColor&quot; format=&quot;color&quot; /&gt;\n        &lt;attr name=&quot;maxLength&quot; format=&quot;integer&quot; /&gt;\n        &lt;attr name=&quot;hint&quot; format=&quot;string&quot; /&gt;\n        &lt;attr name=&quot;text&quot; format=&quot;string&quot; /&gt;\n        &lt;attr name=&quot;android:enabled&quot; format=&quot;boolean&quot; /&gt;\n        &lt;attr name=&quot;android:inputType&quot; format=&quot;integer&quot; /&gt;\n    &lt;/declare-styleable&gt;\n&lt;/resources&gt;\n</code></pre>\n<p>And this is the login fragment that I implemented the custom input field\nfragment_login.xml</p>\n<pre><code>&lt;ScrollView xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:fillViewport=&quot;true&quot;&gt;\n\n    &lt;LinearLayout\n        android:id=&quot;@id/base_layout&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_margin=&quot;@dimen/spacing_m&quot;\n        android:focusable=&quot;true&quot;\n        android:focusableInTouchMode=&quot;true&quot;\n        android:orientation=&quot;vertical&quot;\n        tools:context=&quot;.login.LoginActivity&quot;&gt;\n\n        &lt;LinearLayout\n            android:id=&quot;@+id/logo_container&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:gravity=&quot;center&quot;\n            android:orientation=&quot;vertical&quot;\n            android:paddingBottom=&quot;@dimen/spacing_l&quot;&gt;\n\n            &lt;ImageView\n                android:layout_width=&quot;@dimen/login_neste_width&quot;\n                android:layout_height=&quot;@dimen/login_neste_height&quot;\n                android:src=&quot;@drawable/neste_logo&quot; /&gt;\n\n            &lt;androidx.appcompat.widget.AppCompatTextView\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:text=&quot;@string/welcomeToNeste&quot;\n                android:textColor=&quot;@color/white&quot; /&gt;\n        &lt;/LinearLayout&gt;\n\n        &lt;androidx.constraintlayout.widget.ConstraintLayout\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:background=&quot;@drawable/neste_rounded_corner_drawable&quot;\n            app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\n            app:layout_constraintRight_toRightOf=&quot;parent&quot;\n            app:layout_constraintTop_toBottomOf=&quot;@id/logo_container&quot;&gt;\n\n            &lt;ImageView\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_marginRight=&quot;@dimen/spacing_m&quot;\n                app:layout_constraintBottom_toBottomOf=&quot;@id/login_email&quot;\n                app:layout_constraintRight_toLeftOf=&quot;@id/login_email&quot;\n                app:layout_constraintTop_toTopOf=&quot;@id/login_email&quot;\n                app:layout_constraintVertical_bias=&quot;0.4&quot;\n                app:srcCompat=&quot;@drawable/ic_user&quot; /&gt;\n\n            &lt;com.neste.app.views.MobPayInputField\n                android:id=&quot;@+id/login_email&quot;\n                android:layout_width=&quot;0dp&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_marginLeft=&quot;54dp&quot;\n                android:layout_marginTop=&quot;@dimen/spacing_m&quot;\n                android:layout_marginRight=&quot;@dimen/spacing_xl&quot;\n                android:hint=&quot;@string/login_username_hint&quot;\n                android:inputType=&quot;textEmailAddress&quot;\n                app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\n                app:layout_constraintRight_toRightOf=&quot;parent&quot;\n                app:layout_constraintTop_toTopOf=&quot;parent&quot;\n                app:layout_constraintVertical_bias=&quot;0.5&quot; /&gt;\n\n            &lt;ImageView\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_marginRight=&quot;@dimen/spacing_m&quot;\n                app:layout_constraintBottom_toBottomOf=&quot;@id/password&quot;\n                app:layout_constraintRight_toLeftOf=&quot;@id/password&quot;\n                app:layout_constraintTop_toTopOf=&quot;@id/password&quot;\n                app:layout_constraintVertical_bias=&quot;0.4&quot;\n                app:srcCompat=&quot;@drawable/ic_lock&quot; /&gt;\n\n            &lt;com.neste.app.views.MobPayInputField\n                android:id=&quot;@+id/password&quot;\n                android:layout_width=&quot;0dp&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_marginLeft=&quot;54dp&quot;\n                android:layout_marginRight=&quot;@dimen/spacing_xl&quot;\n                android:hint=&quot;@string/login_password_hint&quot;\n                android:imeOptions=&quot;actionUnspecified&quot;\n                android:inputType=&quot;textPassword&quot;\n                app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\n                app:layout_constraintRight_toRightOf=&quot;parent&quot;\n                app:layout_constraintTop_toBottomOf=&quot;@id/login_email&quot; /&gt;\n\n            &lt;com.neste.app.views.ButtonWithLoadingView\n                android:id=&quot;@+id/email_sign_in_button&quot;\n                android:layout_width=&quot;0dp&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_marginLeft=&quot;6dp&quot;\n                android:layout_marginRight=&quot;@dimen/spacing_xl&quot;\n                android:text=&quot;@string/action_sign_in&quot;\n                app:layout_constraintBottom_toTopOf=&quot;@id/forgot_password_link&quot;\n                app:layout_constraintLeft_toLeftOf=&quot;@id/password&quot;\n                app:layout_constraintRight_toRightOf=&quot;@id/password&quot;\n                app:layout_constraintTop_toBottomOf=&quot;@id/password&quot;\n                app:layout_constraintVertical_bias=&quot;1&quot; /&gt;\n\n            &lt;androidx.appcompat.widget.AppCompatTextView\n                android:id=&quot;@+id/forgot_password_link&quot;\n                style=&quot;@style/Neste.TextAppearance.H3.Dim&quot;\n                android:layout_width=&quot;0dp&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_marginLeft=&quot;@dimen/spacing_xxl&quot;\n                android:layout_marginTop=&quot;@dimen/spacing_xl&quot;\n                android:layout_marginRight=&quot;@dimen/spacing_xxl&quot;\n                android:gravity=&quot;center&quot;\n                android:paddingBottom=&quot;@dimen/spacing_l&quot;\n                android:text=&quot;@string/password_forgot_link&quot;\n                app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\n                app:layout_constraintRight_toRightOf=&quot;parent&quot;\n                app:layout_constraintTop_toBottomOf=&quot;@id/email_sign_in_button&quot; /&gt;\n        &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n        &lt;!-- BOTTOM CONTAINER --&gt;\n\n        &lt;View\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;0dp&quot;\n            android:layout_weight=&quot;1&quot; /&gt;\n\n        &lt;androidx.appcompat.widget.AppCompatButton\n            android:id=&quot;@+id/go_to_user_creation&quot;\n            style=&quot;@style/Neste.Button.Outline&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_marginBottom=&quot;@dimen/spacing_l&quot;\n            android:text=&quot;@string/registerButtonTitle&quot; /&gt;\n\n        &lt;FrameLayout\n            android:id=&quot;@+id/prod_switch&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_gravity=&quot;center&quot;\n            android:gravity=&quot;center&quot;\n            android:visibility=&quot;gone&quot; /&gt;\n\n    &lt;/LinearLayout&gt;\n&lt;/ScrollView&gt;\n</code></pre>\n"},{"tags":["java","maven","intellij-idea","jmh"],"comments":[{"owner":{"account_id":16312554,"reputation":1,"user_id":11780745,"display_name":"PMP"},"score":0,"creation_date":1685104906,"post_id":76340918,"comment_id":134618748,"body_markdown":"this message comes up; Cannot resolve method &#39;activate&#39; in &#39;SyncEnergyMonitor&#39;","body":"this message comes up; Cannot resolve method &#39;activate&#39; in &#39;SyncEnergyMonitor&#39;"}],"owner":{"account_id":16312554,"reputation":1,"user_id":11780745,"display_name":"PMP"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685104744,"creation_date":1685104744,"question_id":76340918,"body_markdown":" I use jRAPL, java microbench harness, maven projeckt. I imported jRAPL to my project. Do not accsess to activate() and deactivate() methods. IntelliJ is not letting me to access it. I try to measure the energy consumption of addBenchmark(). IntelliJ does not access to activate() and deactivate() methods. need help ? \r\n```\r\npackage BenchMark_JMH;\r\nimport jRAPL.*;\r\nimport com.ProductManagerArrayList;\r\n\r\n\r\nimport org.openjdk.jmh.annotations.*;\r\nimport pro.Product;\r\n\r\nimport java.util.List;\r\nimport java.util.concurrent.TimeUnit;\r\n\r\n@State(Scope.Benchmark)\r\n@Warmup(iterations = 3, time = 1, timeUnit = TimeUnit.SECONDS)\r\n@Measurement(iterations = 5, time = 1, timeUnit = TimeUnit.SECONDS)\r\n@Fork(1)\r\n@BenchmarkMode(Mode.AverageTime)\r\npublic class ProductManagerArrayListBenchmark {\r\n\r\n    private ProductManagerArrayList productManager;\r\n    SyncEnergyMonitor  monitor;\r\n\r\n    @Setup\r\n    public void setup() {\r\n        productManager = new ProductManagerArrayList();\r\n        monitor = new SyncEnergyMonitor();\r\n        monitor.activate();\r\n\r\n\r\n    }\r\n\r\n    @Benchmark\r\n    public void addBenchmark() {\r\n        monitor.activate();\r\n        EnergyStats before = monitor.getSample();\r\n        Product product = new Product(4, &quot;Product 4&quot;, 40000);\r\n        productManager.add(product);\r\n\r\n        EnergyStats after = monitor.getSample();\r\n        EnergyDiff diff = EnergyDiff.between(before,after);\r\n        monitor.deactivate();\r\n    }\r\n\r\n    @Benchmark\r\n    public Product getBenchmark() {\r\n        return productManager.get(2);\r\n    }\r\n\r\n    @Benchmark\r\n    public void updateBenchmark() {\r\n        Product product = new Product(2, &quot;Updated Product&quot;, 50000);\r\n        productManager.update(product);\r\n    }\r\n\r\n    @Benchmark\r\n    public void deleteBenchmark() {\r\n        productManager.delete(3);\r\n    }\r\n\r\n    @Benchmark\r\n    public List&lt;Product&gt; getAllBenchmark() {\r\n        return productManager.getAll();\r\n    }\r\n\r\n    @Benchmark\r\n    public int sizeBenchmark() {\r\n        return productManager.size();\r\n    }\r\n\r\n    @Benchmark\r\n    public int getIDBenchmark() {\r\n        Product product = new Product(1, &quot;Product 1&quot;, 10000);\r\n        return productManager.getID(product);\r\n    }\r\n\r\n    @Benchmark\r\n    public void setBenchmark() {\r\n        Product product = new Product(1, &quot;Updated Product&quot;, 20000);\r\n        productManager.set(1, product);\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\nI searched online and used all methods but failed. I expect someone to help me to set up correctly  etc.","title":"How can I properly set up jRAPL in my Maven project in IntelliJ if I cannot access activate() and deactivate() methods?","body":"<p>I use jRAPL, java microbench harness, maven projeckt. I imported jRAPL to my project. Do not accsess to activate() and deactivate() methods. IntelliJ is not letting me to access it. I try to measure the energy consumption of addBenchmark(). IntelliJ does not access to activate() and deactivate() methods. need help ?</p>\n<pre><code>package BenchMark_JMH;\nimport jRAPL.*;\nimport com.ProductManagerArrayList;\n\n\nimport org.openjdk.jmh.annotations.*;\nimport pro.Product;\n\nimport java.util.List;\nimport java.util.concurrent.TimeUnit;\n\n@State(Scope.Benchmark)\n@Warmup(iterations = 3, time = 1, timeUnit = TimeUnit.SECONDS)\n@Measurement(iterations = 5, time = 1, timeUnit = TimeUnit.SECONDS)\n@Fork(1)\n@BenchmarkMode(Mode.AverageTime)\npublic class ProductManagerArrayListBenchmark {\n\n    private ProductManagerArrayList productManager;\n    SyncEnergyMonitor  monitor;\n\n    @Setup\n    public void setup() {\n        productManager = new ProductManagerArrayList();\n        monitor = new SyncEnergyMonitor();\n        monitor.activate();\n\n\n    }\n\n    @Benchmark\n    public void addBenchmark() {\n        monitor.activate();\n        EnergyStats before = monitor.getSample();\n        Product product = new Product(4, &quot;Product 4&quot;, 40000);\n        productManager.add(product);\n\n        EnergyStats after = monitor.getSample();\n        EnergyDiff diff = EnergyDiff.between(before,after);\n        monitor.deactivate();\n    }\n\n    @Benchmark\n    public Product getBenchmark() {\n        return productManager.get(2);\n    }\n\n    @Benchmark\n    public void updateBenchmark() {\n        Product product = new Product(2, &quot;Updated Product&quot;, 50000);\n        productManager.update(product);\n    }\n\n    @Benchmark\n    public void deleteBenchmark() {\n        productManager.delete(3);\n    }\n\n    @Benchmark\n    public List&lt;Product&gt; getAllBenchmark() {\n        return productManager.getAll();\n    }\n\n    @Benchmark\n    public int sizeBenchmark() {\n        return productManager.size();\n    }\n\n    @Benchmark\n    public int getIDBenchmark() {\n        Product product = new Product(1, &quot;Product 1&quot;, 10000);\n        return productManager.getID(product);\n    }\n\n    @Benchmark\n    public void setBenchmark() {\n        Product product = new Product(1, &quot;Updated Product&quot;, 20000);\n        productManager.set(1, product);\n    }\n}\n\n</code></pre>\n<p>I searched online and used all methods but failed. I expect someone to help me to set up correctly  etc.</p>\n"},{"tags":["java","mysql","spring-boot","scheduler"],"owner":{"account_id":28004563,"reputation":1,"user_id":21388181,"display_name":"Олександр Горденін"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":144,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685104740,"creation_date":1685094926,"question_id":76339665,"body_markdown":"I need help to find the way to delete scheduled tasks even if they currently picked.\r\ndb-scheduler throws TaskInstanceCurrentlyExecutingException “Cannot use SchedulerClient to modify a task-instance that is currently executing. If this occurs often, consider only modifying executions not picked that has the next execution-time a certain time into the future”, when I&#39;m trying to delete scheduled task which is currently executing. Mb someone faced the same issue?\r\n\r\ndb-scheduler uses MySql table to monitor scheduled task. Mb I could just delete data about this task from db. Will be the current execution the last one in such case? This solution is suitable too.\r\nCurrently I use cancel(TaskInstanceId taskInstanceId) method from Scheduler.class to delete tasks which throws TaskInstanceCurrentlyExecutingException \r\n\r\nI tried to find something in [db-scheduler](https://github.com/kagkarlsson/db-scheduler) documentation, but there is no result. ","title":"db-scheduler - how to remove picked scheduled tasks","body":"<p>I need help to find the way to delete scheduled tasks even if they currently picked.\ndb-scheduler throws TaskInstanceCurrentlyExecutingException “Cannot use SchedulerClient to modify a task-instance that is currently executing. If this occurs often, consider only modifying executions not picked that has the next execution-time a certain time into the future”, when I'm trying to delete scheduled task which is currently executing. Mb someone faced the same issue?</p>\n<p>db-scheduler uses MySql table to monitor scheduled task. Mb I could just delete data about this task from db. Will be the current execution the last one in such case? This solution is suitable too.\nCurrently I use cancel(TaskInstanceId taskInstanceId) method from Scheduler.class to delete tasks which throws TaskInstanceCurrentlyExecutingException</p>\n<p>I tried to find something in <a href=\"https://github.com/kagkarlsson/db-scheduler\" rel=\"nofollow noreferrer\">db-scheduler</a> documentation, but there is no result.</p>\n"},{"tags":["java","visual-studio-code","java.util.scanner"],"comments":[{"owner":{"account_id":2933712,"reputation":6419,"user_id":2513200,"accept_rate":83,"display_name":"Hulk"},"score":0,"creation_date":1684758248,"post_id":76305435,"comment_id":134558996,"body_markdown":"What is the locale on System level?","body":"What is the locale on System level?"},{"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"score":0,"creation_date":1684820309,"post_id":76305435,"comment_id":134568529,"body_markdown":"This works fine on my machine. Please show more details about your setup and environment.       Please see [how to ask](https://stackoverflow.com/help/how-to-ask).\n\n[minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example)","body":"This works fine on my machine. Please show more details about your setup and environment.       Please see <a href=\"https://stackoverflow.com/help/how-to-ask\">how to ask</a>.  <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>"},{"owner":{"account_id":28653507,"reputation":1,"user_id":21940031,"display_name":"Seng Gie Chung"},"score":1,"creation_date":1684841077,"post_id":76305435,"comment_id":134573025,"body_markdown":"@Hulk thank you for the help! My problem got solved by the related question you sent.","body":"@Hulk thank you for the help! My problem got solved by the related question you sent."},{"owner":{"account_id":2933712,"reputation":6419,"user_id":2513200,"accept_rate":83,"display_name":"Hulk"},"score":0,"creation_date":1684866787,"post_id":76305435,"comment_id":134579178,"body_markdown":"Does this answer your question? [How to set Visual Studio Code Terminal output to English](https://stackoverflow.com/questions/55508152/how-to-set-visual-studio-code-terminal-output-to-english)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/55508152/how-to-set-visual-studio-code-terminal-output-to-english\">How to set Visual Studio Code Terminal output to English</a>"},{"owner":{"account_id":2933712,"reputation":6419,"user_id":2513200,"accept_rate":83,"display_name":"Hulk"},"score":0,"creation_date":1684866848,"post_id":76305435,"comment_id":134579192,"body_markdown":"Glad to hear that - in that case, it can be closed.","body":"Glad to hear that - in that case, it can be closed."}],"answers":[{"tags":[],"owner":{"account_id":28653507,"reputation":1,"user_id":21940031,"display_name":"Seng Gie Chung"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1685104003,"creation_date":1685104003,"answer_id":76340811,"question_id":76305435,"body_markdown":"Execute the command &quot;set-culture -cultureinfo en-US&quot; in the terminal. As seen in the [solution](https://stackoverflow.com/questions/55508152/how-to-set-visual-studio-code-terminal-output-to-english), suggested by @Hulk","title":"Change VSCode formatting from scanner.nextDouble(); from &lt;,&gt; to &lt;.&gt; by default","body":"<p>Execute the command &quot;set-culture -cultureinfo en-US&quot; in the terminal. As seen in the <a href=\"https://stackoverflow.com/questions/55508152/how-to-set-visual-studio-code-terminal-output-to-english\">solution</a>, suggested by @Hulk</p>\n"}],"owner":{"account_id":28653507,"reputation":1,"user_id":21940031,"display_name":"Seng Gie Chung"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76340811,"answer_count":1,"score":0,"last_activity_date":1685104003,"creation_date":1684752732,"question_id":76305435,"body_markdown":"Change VSCode formatting from scanner.nextDouble(); from &lt;,&gt; to &lt;.&gt; by default\r\n\r\nWhen using the scanner.nextDouble(); method, the VSCode Terminal only accepts &lt;,&gt; instead of the normal &lt;.&gt; for decimal points. Already tried changing the VSCode locale to English.","title":"Change VSCode formatting from scanner.nextDouble(); from &lt;,&gt; to &lt;.&gt; by default","body":"<p>Change VSCode formatting from scanner.nextDouble(); from &lt;,&gt; to &lt;.&gt; by default</p>\n<p>When using the scanner.nextDouble(); method, the VSCode Terminal only accepts &lt;,&gt; instead of the normal &lt;.&gt; for decimal points. Already tried changing the VSCode locale to English.</p>\n"},{"tags":["java","html","ms-word","apache-poi"],"comments":[{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":1,"creation_date":1685165135,"post_id":76339842,"comment_id":134626567,"body_markdown":"Cannot reproduce the issue. I suspect your `MyXWPFHtmlDocument ` is the one in one of my answers [using MyXWPFHtmlDocument](https://stackoverflow.com/search?tab=newest&amp;q=user%3a3915431%20MyXWPFHtmlDocument%20&amp;searchOn=3). I suspect you are referring to that answer: https://stackoverflow.com/questions/53863126/how-to-replace-texttag-with-html-in-docx-using-apache-poi/53872268#53872268. I tried this having an image with source `data:image/png;base64...` and it works for me having the given size `...width=\\&quot;50\\&quot; height=\\&quot;50\\&quot;...`.","body":"Cannot reproduce the issue. I suspect your <code>MyXWPFHtmlDocument </code> is the one in one of my answers <a href=\"https://stackoverflow.com/search?tab=newest&amp;q=user%3a3915431%20MyXWPFHtmlDocument%20&amp;searchOn=3\">using MyXWPFHtmlDocument</a>. I suspect you are referring to that answer: <a href=\"https://stackoverflow.com/questions/53863126/how-to-replace-texttag-with-html-in-docx-using-apache-poi/53872268#53872268\" title=\"how to replace texttag with html in docx using apache poi\">stackoverflow.com/questions/53863126/&hellip;</a>. I tried this having an image with source <code>data:image&#47;png;base64...</code> and it works for me having the given size <code>...width=\\&quot;50\\&quot; height=\\&quot;50\\&quot;...</code>."},{"owner":{"account_id":28684965,"reputation":1,"user_id":21965415,"display_name":"Igniz"},"score":0,"creation_date":1685431525,"post_id":76339842,"comment_id":134654723,"body_markdown":"Yes ! I used your previous answer to set me up. Thanks about that  it helped me a lot. As for the current issue, any idea what might cause that?","body":"Yes ! I used your previous answer to set me up. Thanks about that  it helped me a lot. As for the current issue, any idea what might cause that?"}],"owner":{"account_id":28684965,"reputation":1,"user_id":21965415,"display_name":"Igniz"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685103847,"creation_date":1685096091,"question_id":76339842,"body_markdown":"I am using poi (5.2.2) in a Java class to write html flux in Microsoft Word model document.\r\n \r\n```\r\nMyXWPFHtmlDocument myXWPFHtmlDocument = createHtmlDoc(document, &quot;htmlDoc&quot;);\r\nmyXWPFHtmlDocument.setHtml(myXWPFHtmlDocument.getHtml().replace(\r\n    &quot;&lt;body&gt;&lt;/body&gt;&quot;, &quot;&lt;body&gt;&quot;+ StringHtmlFlux + &quot;&lt;/body&gt;&quot;));\r\nreplaceIBodyElementWithAltChunk(document, &quot;${content}&quot;, myXWPFHtmlDocument);\r\n```\r\n\r\nNote: `${content}` is a marker in the model document.\r\n\r\nEverything is fine except for the syle of image in base 64.\r\n\r\nFor instance something like `&lt;img width=\\&quot;50\\&quot; height=\\&quot;50\\&quot; src=\\&quot;C:/Temp/fleur.jpg\\&quot;&gt;`\r\nkept the size defined by width and height attributes once written in Word.\r\n\r\nBut a `img` with the same image in base 64 does not keep the width and height once written in Word: `&lt;img width=\\&quot;50\\&quot; height=\\&quot;50\\&quot; src=\\&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUg...\\&quot;&gt;`\r\n\r\nIs there a way to keep the size defined with a base 64 image?\r\n\r\nI tried to put a balise style, but no success.","title":"Keeping width and height of base 64 image while writing a html flux in Word with POI","body":"<p>I am using poi (5.2.2) in a Java class to write html flux in Microsoft Word model document.</p>\n<pre><code>MyXWPFHtmlDocument myXWPFHtmlDocument = createHtmlDoc(document, &quot;htmlDoc&quot;);\nmyXWPFHtmlDocument.setHtml(myXWPFHtmlDocument.getHtml().replace(\n    &quot;&lt;body&gt;&lt;/body&gt;&quot;, &quot;&lt;body&gt;&quot;+ StringHtmlFlux + &quot;&lt;/body&gt;&quot;));\nreplaceIBodyElementWithAltChunk(document, &quot;${content}&quot;, myXWPFHtmlDocument);\n</code></pre>\n<p>Note: <code>${content}</code> is a marker in the model document.</p>\n<p>Everything is fine except for the syle of image in base 64.</p>\n<p>For instance something like <code>&lt;img width=\\&quot;50\\&quot; height=\\&quot;50\\&quot; src=\\&quot;C:/Temp/fleur.jpg\\&quot;&gt;</code>\nkept the size defined by width and height attributes once written in Word.</p>\n<p>But a <code>img</code> with the same image in base 64 does not keep the width and height once written in Word: <code>&lt;img width=\\&quot;50\\&quot; height=\\&quot;50\\&quot; src=\\&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUg...\\&quot;&gt;</code></p>\n<p>Is there a way to keep the size defined with a base 64 image?</p>\n<p>I tried to put a balise style, but no success.</p>\n"},{"tags":["java","eclipse","eclipse-plugin","ivy","ivyde"],"owner":{"account_id":3590209,"reputation":1021,"user_id":2996452,"accept_rate":62,"display_name":"Jokkeri"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685103800,"creation_date":1685100407,"question_id":76340357,"body_markdown":"I have two Eclipse instances using same SVN repository (updated to HEAD). Both are using same IVY-version and same IVY-configuration (to extent what I can find). IVY-settings and ivy.xml are identical as saved in SVN repository.\r\n\r\nYet I&#39;m facing an issue where the other instance is not retrieving all the libraries that the other one is retrieving - thus resulting in runtime errors. IVY-report in other is just missing those dependencies...\r\n\r\nThe libs that are not loaded are all related to main-dependency &#39;cxf-rt-frontend-jaxws&#39; which have transitive dependency to &#39;cxf-rt-frontend-simple&#39; which eventually have these as transitive dependencies:\r\n\r\n&gt; geronimo-jta_1.1_spec-1.1.1.jar jakarta.annotation-api-1.3.5.jar\r\n&gt; jakarta.jws-api-2.1.0.jar jakarta.xml.soap-api-1.4.2.jar\r\n&gt; jakarta.xml.ws-api-2.3.3.jar saaj-impl-1.5.3.jar stax-ex-1.8.3.jar\r\n&gt; xercesImpl-2.12.2.jar\r\n\r\nThe Eclipse missing some libraries is 2019-06 (4.12.0) and the other is 2023-03 (4.27.0) - if that matters in any way.\r\n\r\nIVY-version is the same in both Eclipse instances, 2.5.1. IvyDE seems to be same in both but I&#39;m not entirely sure as the old Eclipse&#39;s marketplace doesn&#39;t show any supported IvyDE plugins. Though the version for both shows the same, 2.2.0.final-201311091524-RELEASE.\r\n\r\nOf course now I have the option to use the working one, but I would really like to know what is the issue if it would some day occur in the other Eclipse instance as well.\r\nAny suggestions on what to check?","title":"IVY not retrieving all libraries","body":"<p>I have two Eclipse instances using same SVN repository (updated to HEAD). Both are using same IVY-version and same IVY-configuration (to extent what I can find). IVY-settings and ivy.xml are identical as saved in SVN repository.</p>\n<p>Yet I'm facing an issue where the other instance is not retrieving all the libraries that the other one is retrieving - thus resulting in runtime errors. IVY-report in other is just missing those dependencies...</p>\n<p>The libs that are not loaded are all related to main-dependency 'cxf-rt-frontend-jaxws' which have transitive dependency to 'cxf-rt-frontend-simple' which eventually have these as transitive dependencies:</p>\n<blockquote>\n<p>geronimo-jta_1.1_spec-1.1.1.jar jakarta.annotation-api-1.3.5.jar\njakarta.jws-api-2.1.0.jar jakarta.xml.soap-api-1.4.2.jar\njakarta.xml.ws-api-2.3.3.jar saaj-impl-1.5.3.jar stax-ex-1.8.3.jar\nxercesImpl-2.12.2.jar</p>\n</blockquote>\n<p>The Eclipse missing some libraries is 2019-06 (4.12.0) and the other is 2023-03 (4.27.0) - if that matters in any way.</p>\n<p>IVY-version is the same in both Eclipse instances, 2.5.1. IvyDE seems to be same in both but I'm not entirely sure as the old Eclipse's marketplace doesn't show any supported IvyDE plugins. Though the version for both shows the same, 2.2.0.final-201311091524-RELEASE.</p>\n<p>Of course now I have the option to use the working one, but I would really like to know what is the issue if it would some day occur in the other Eclipse instance as well.\nAny suggestions on what to check?</p>\n"},{"tags":["java","spring","properties","annotations"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":5,"creation_date":1415906292,"post_id":26916598,"comment_id":42381877,"body_markdown":"With `#{}` it is an expression, with `${}` it is a placeholder for a value. The first expression you use will call a method/attribute on a bean called props, the one with the placeholder will try to locate a property named `props.isFPL` in the `Environment`. You should use the latter and you are probably loading your properties in the wrong way.","body":"With <code>#{}</code> it is an expression, with <code>${}</code> it is a placeholder for a value. The first expression you use will call a method/attribute on a bean called props, the one with the placeholder will try to locate a property named <code>props.isFPL</code> in the <code>Environment</code>. You should use the latter and you are probably loading your properties in the wrong way."},{"owner":{"account_id":182529,"reputation":6991,"user_id":417291,"accept_rate":71,"display_name":"Alex"},"score":0,"creation_date":1415906536,"post_id":26916598,"comment_id":42381994,"body_markdown":"Thank you. If I load properties in the wrong way why #{} picks up the correct value?","body":"Thank you. If I load properties in the wrong way why #{} picks up the correct value?"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1415907394,"post_id":26916598,"comment_id":42382416,"body_markdown":"Because that is an expression not a placeholder. They are both evaluated in completely different ways.","body":"Because that is an expression not a placeholder. They are both evaluated in completely different ways."}],"answers":[{"comments":[{"owner":{"account_id":182529,"reputation":6991,"user_id":417291,"accept_rate":71,"display_name":"Alex"},"score":8,"creation_date":1416083096,"post_id":26937282,"comment_id":42441927,"body_markdown":"My problem with $ is not ignoring a default value.  The problem is that the value from properties file is ignored","body":"My problem with $ is not ignoring a default value.  The problem is that the value from properties file is ignored"},{"owner":{"account_id":4823859,"reputation":648,"user_id":3893812,"display_name":"shi9"},"score":0,"creation_date":1416240597,"post_id":26937282,"comment_id":42488321,"body_markdown":"How are you loading the properties file?","body":"How are you loading the properties file?"}],"tags":[],"owner":{"account_id":4823859,"reputation":648,"user_id":3893812,"display_name":"shi9"},"comment_count":2,"down_vote_count":0,"up_vote_count":63,"is_accepted":true,"score":63,"last_activity_date":1573072799,"creation_date":1415992608,"answer_id":26937282,"question_id":26916598,"body_markdown":"Try with `$`  as follows:\r\n\r\n    @Value(&quot;${props.isFPL:true}&quot;)\r\n    private boolean isFPL=false;\r\n    \r\nAlso make sure you set the `ignore-resource-no-found` to *true* so that if the property file is missing, the *default* value will be taken.\r\n\r\nPlace the following in the context file if using XML based configuration: \r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;context:property-placeholder ignore-resource-not-found=&quot;true&quot;/&gt;\r\n\r\n\r\nIf using Java configurations:\r\n    \r\n     @Bean\r\n     public static PropertySourcesPlaceholderConfigurer   propertySourcesPlaceholderConfigurer() {\r\n    \t PropertySourcesPlaceholderConfigurer p =  new PropertySourcesPlaceholderConfigurer();\r\n    \t p.setIgnoreResourceNotFound(true);\r\n    \t\r\n        return p;\r\n     }\r\n","title":"How to correctly specify a default value in the Spring @Value annotation?","body":"<p>Try with <code>$</code>  as follows:</p>\n\n<pre><code>@Value(\"${props.isFPL:true}\")\nprivate boolean isFPL=false;\n</code></pre>\n\n<p>Also make sure you set the <code>ignore-resource-no-found</code> to <em>true</em> so that if the property file is missing, the <em>default</em> value will be taken.</p>\n\n<p>Place the following in the context file if using XML based configuration: </p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;context:property-placeholder ignore-resource-not-found=\"true\"/&gt;\n</code></pre>\n\n<p>If using Java configurations:</p>\n\n<pre><code> @Bean\n public static PropertySourcesPlaceholderConfigurer   propertySourcesPlaceholderConfigurer() {\n     PropertySourcesPlaceholderConfigurer p =  new PropertySourcesPlaceholderConfigurer();\n     p.setIgnoreResourceNotFound(true);\n\n    return p;\n }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":38480,"reputation":2169,"user_id":110452,"accept_rate":74,"display_name":"Mike Summers"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1468672512,"creation_date":1468672512,"answer_id":38411248,"question_id":26916598,"body_markdown":"Depends on how you&#39;re loading your properties, if you use something like\r\n\r\n   `&lt;context:property-placeholder location=&quot;classpath*:META-INF/spring/*.properties&quot; /&gt;`\r\n\r\nThen `@Value` should look like\r\n\r\n    @Value(&quot;${isFPL:true}&quot;)","title":"How to correctly specify a default value in the Spring @Value annotation?","body":"<p>Depends on how you're loading your properties, if you use something like</p>\n\n<p><code>&lt;context:property-placeholder location=\"classpath*:META-INF/spring/*.properties\" /&gt;</code></p>\n\n<p>Then <code>@Value</code> should look like</p>\n\n<pre><code>@Value(\"${isFPL:true}\")\n</code></pre>\n"},{"comments":[{"owner":{"account_id":76118,"reputation":1539,"user_id":218139,"display_name":"Stefan L"},"score":0,"creation_date":1600853192,"post_id":40302911,"comment_id":113216490,"body_markdown":"This is a known issue since 2012, but not fixed, apparently due to both lack of interest and no clean way of fixing it. See https://github.com/spring-projects/spring-framework/issues/14623 for discussion and some ways to work around it. It&#39;s explained in an understandable way by http://www.michelschudel.nl/wp/2017/01/25/beware-of-multiple-spring-propertyplaceholderconfigurers-and-default-values/","body":"This is a known issue since 2012, but not fixed, apparently due to both lack of interest and no clean way of fixing it. See <a href=\"https://github.com/spring-projects/spring-framework/issues/14623\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-framework/issues/14623</a> for discussion and some ways to work around it. It&#39;s explained in an understandable way by <a href=\"http://www.michelschudel.nl/wp/2017/01/25/beware-of-multiple-spring-propertyplaceholderconfigurers-and-default-values/\" rel=\"nofollow noreferrer\">michelschudel.nl/wp/2017/01/25/&hellip;</a>"}],"tags":[],"owner":{"account_id":1621925,"reputation":41,"user_id":1498288,"display_name":"Kevin"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1477649653,"creation_date":1477649653,"answer_id":40302911,"question_id":26916598,"body_markdown":"Does your Spring application context file contains more than one propertyPlaceholder beans like below:\r\n\r\n    &lt;context:property-placeholder ignore-resource-not-found=&quot;true&quot; ignore-unresolvable=&quot;true&quot; location=&quot;classpath*:/*.local.properties&quot; /&gt;\r\n    &lt;context:property-placeholder location=&quot;classpath:/config.properties&quot; /&gt;\r\n\r\nIf so, then property lookup for: *props.isFPL* will only take place for the first property file (*.local.properties*), if property not found, the default value (*true*) will take effect and the second property file (*config.properties*) is effectively ignored for this property.\r\n","title":"How to correctly specify a default value in the Spring @Value annotation?","body":"<p>Does your Spring application context file contains more than one propertyPlaceholder beans like below:</p>\n\n<pre><code>&lt;context:property-placeholder ignore-resource-not-found=\"true\" ignore-unresolvable=\"true\" location=\"classpath*:/*.local.properties\" /&gt;\n&lt;context:property-placeholder location=\"classpath:/config.properties\" /&gt;\n</code></pre>\n\n<p>If so, then property lookup for: <em>props.isFPL</em> will only take place for the first property file (<em>.local.properties</em>), if property not found, the default value (<em>true</em>) will take effect and the second property file (<em>config.properties</em>) is effectively ignored for this property.</p>\n"},{"comments":[{"owner":{"account_id":2489808,"reputation":3274,"user_id":2167531,"accept_rate":75,"display_name":"Shadow Man"},"score":11,"creation_date":1532555565,"post_id":44898744,"comment_id":90024950,"body_markdown":"I don&#39;t believe the extra space (after the colon) is needed.","body":"I don&#39;t believe the extra space (after the colon) is needed."},{"owner":{"account_id":10298913,"reputation":2491,"user_id":7598188,"accept_rate":43,"display_name":"Manish Bansal"},"score":7,"creation_date":1633096813,"post_id":44898744,"comment_id":122676837,"body_markdown":"Seems like old answer. I was able to map int value like any other value. `@Value(&quot;${my.int.config:100}&quot;)`","body":"Seems like old answer. I was able to map int value like any other value. <code>@Value(&quot;${my.int.config:100}&quot;)</code>"}],"tags":[],"owner":{"account_id":1462319,"reputation":697,"user_id":1376265,"display_name":"Kevin Liu"},"comment_count":2,"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1502091251,"creation_date":1499150811,"answer_id":44898744,"question_id":26916598,"body_markdown":"For `int` type variable:\r\n\r\n    @Value(&quot;${my.int.config: #{100}}&quot;)\r\n    int myIntConfig;\r\n\r\n\r\n**Note:** there is no space *before* the colon, but an extra space *after* the colon.","title":"How to correctly specify a default value in the Spring @Value annotation?","body":"<p>For <code>int</code> type variable:</p>\n\n<pre><code>@Value(\"${my.int.config: #{100}}\")\nint myIntConfig;\n</code></pre>\n\n<p><strong>Note:</strong> there is no space <em>before</em> the colon, but an extra space <em>after</em> the colon.</p>\n"},{"comments":[{"owner":{"account_id":162901,"reputation":10387,"user_id":384674,"accept_rate":69,"display_name":"Betlista"},"score":8,"creation_date":1579747002,"post_id":45355027,"comment_id":105872658,"body_markdown":"From a maintenance point of view I&#39;d rather see `@Value(&quot;${testUrl:#{null}}&quot;)`.","body":"From a maintenance point of view I&#39;d rather see <code>@Value(&quot;${testUrl:#{null}}&quot;)</code>."},{"owner":{"account_id":65930,"reputation":4225,"user_id":193705,"accept_rate":81,"display_name":"Peter Wippermann"},"score":2,"creation_date":1641913741,"post_id":45355027,"comment_id":124928665,"body_markdown":"That seems to be wrong. For a String `${var:} ` defaults to empty String `&quot;&quot;`","body":"That seems to be wrong. For a String <code>${var:} </code> defaults to empty String <code>&quot;&quot;</code>"}],"tags":[],"owner":{"account_id":451585,"reputation":4900,"user_id":847553,"accept_rate":86,"display_name":"Dave Richardson"},"comment_count":2,"down_vote_count":2,"up_vote_count":5,"is_accepted":false,"score":3,"last_activity_date":1501169152,"creation_date":1501169152,"answer_id":45355027,"question_id":26916598,"body_markdown":"For a String you can default to null like so:\r\n\r\n    public UrlTester(@Value(&quot;${testUrl:}&quot;) String url) {\r\n        this.url = url;\r\n    }\r\n\r\n\r\n","title":"How to correctly specify a default value in the Spring @Value annotation?","body":"<p>For a String you can default to null like so:</p>\n\n<pre><code>public UrlTester(@Value(\"${testUrl:}\") String url) {\n    this.url = url;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1054429,"reputation":59,"user_id":6397857,"display_name":"Kislay Verma"},"comment_count":0,"down_vote_count":4,"up_vote_count":0,"is_accepted":false,"score":-4,"last_activity_date":1598421258,"creation_date":1598421258,"answer_id":63591277,"question_id":26916598,"body_markdown":"This way of defining defaults works only if we write &quot;value=...&quot; in the @Value annotation. e.g. \r\n\r\n**Does not work** : @Value(&quot;${testUrl:some-url}&quot; // This will always set &quot;some-url&quot; no matter what you do in the config file.\r\n\r\n**Works** : @Value(value = &quot;${testUrl:some-url}&quot; // This will set &quot;some-url&quot; only if testUrl property is missing in the config file.\r\n\r\n","title":"How to correctly specify a default value in the Spring @Value annotation?","body":"<p>This way of defining defaults works only if we write &quot;value=...&quot; in the @Value annotation. e.g.</p>\n<p><strong>Does not work</strong> : @Value(&quot;${testUrl:some-url}&quot; // This will always set &quot;some-url&quot; no matter what you do in the config file.</p>\n<p><strong>Works</strong> : @Value(value = &quot;${testUrl:some-url}&quot; // This will set &quot;some-url&quot; only if testUrl property is missing in the config file.</p>\n"},{"tags":[],"owner":{"account_id":10794010,"reputation":1606,"user_id":7940437,"display_name":"Majid Roustaei"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1637401037,"creation_date":1637400730,"answer_id":70044733,"question_id":26916598,"body_markdown":"The exact answer of your question depends on the ***type*** of the parameter.\r\n\r\nfor &#39;String&#39; parameters, your sample code works fine:\r\n\r\n    @Value(&quot;#{props.string.fpl:test}&quot;)\r\n    private String fpl = &quot;test&quot;;\r\n\r\nfor other types (like boolean in your question) it should be written in this way:\r\n\r\n    @Value(&quot;${props.boolean.isFPL:#{false}}&quot;)\r\n    private boolean isFPL = false;\r\n\r\nor for &#39;Integers&#39;:\r\n\r\n    @Value(&quot;${props.integer.fpl:#{20}}&quot;)","title":"How to correctly specify a default value in the Spring @Value annotation?","body":"<p>The exact answer of your question depends on the <em><strong>type</strong></em> of the parameter.</p>\n<p>for 'String' parameters, your sample code works fine:</p>\n<pre><code>@Value(&quot;#{props.string.fpl:test}&quot;)\nprivate String fpl = &quot;test&quot;;\n</code></pre>\n<p>for other types (like boolean in your question) it should be written in this way:</p>\n<pre><code>@Value(&quot;${props.boolean.isFPL:#{false}}&quot;)\nprivate boolean isFPL = false;\n</code></pre>\n<p>or for 'Integers':</p>\n<pre><code>@Value(&quot;${props.integer.fpl:#{20}}&quot;)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1693760,"reputation":9824,"user_id":1555615,"accept_rate":62,"display_name":"Marinos An"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685103797,"creation_date":1685103797,"answer_id":76340782,"question_id":26916598,"body_markdown":"If the default is a string specify like this:\r\n\r\n    @Value(&quot;${my.string.config: #{&#39;Default config value&#39;}}&quot;)\r\n    String myIntConfig;\r\n","title":"How to correctly specify a default value in the Spring @Value annotation?","body":"<p>If the default is a string specify like this:</p>\n<pre><code>@Value(&quot;${my.string.config: #{'Default config value'}}&quot;)\nString myIntConfig;\n</code></pre>\n"}],"owner":{"account_id":182529,"reputation":6991,"user_id":417291,"accept_rate":71,"display_name":"Alex"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":150687,"favorite_count":0,"down_vote_count":0,"up_vote_count":64,"accepted_answer_id":26937282,"answer_count":8,"score":64,"last_activity_date":1685103797,"creation_date":1415906026,"question_id":26916598,"body_markdown":"Initially, I have the following spec:\r\n\r\n    @Value(&quot;#{props.isFPL}&quot;)\r\n    private boolean isFPL=false;\r\n\r\nThis works fine correctly getting the value from the property file:\r\n\r\n    isFPL = true\r\nHowever, the following expression with default results in the error:\r\n\r\n    @Value(&quot;#{props.isFPL:false}&quot;)\r\n    private boolean isFPL=false;\r\n\r\n**Expression parsing failed; nested exception is org.springframework.expression.spel.SpelParseException: EL1041E:(pos 28): After parsing a valid expression, there is still more data in the expression: &#39;colon(:)&#39;**\r\n\r\n I also tried to use $ instead of #.  \r\n\r\n    @Value(&quot;${props.isFPL:true}&quot;)\r\n    private boolean isFPL=false;\r\n\r\n Then the default value in annotation works fine but I did not get the correct value from the Properties file:\r\n \r\n \r\n","title":"How to correctly specify a default value in the Spring @Value annotation?","body":"<p>Initially, I have the following spec:</p>\n\n<pre><code>@Value(\"#{props.isFPL}\")\nprivate boolean isFPL=false;\n</code></pre>\n\n<p>This works fine correctly getting the value from the property file:</p>\n\n<pre><code>isFPL = true\n</code></pre>\n\n<p>However, the following expression with default results in the error:</p>\n\n<pre><code>@Value(\"#{props.isFPL:false}\")\nprivate boolean isFPL=false;\n</code></pre>\n\n<p><strong>Expression parsing failed; nested exception is org.springframework.expression.spel.SpelParseException: EL1041E:(pos 28): After parsing a valid expression, there is still more data in the expression: 'colon(:)'</strong></p>\n\n<p>I also tried to use $ instead of #.  </p>\n\n<pre><code>@Value(\"${props.isFPL:true}\")\nprivate boolean isFPL=false;\n</code></pre>\n\n<p>Then the default value in annotation works fine but I did not get the correct value from the Properties file:</p>\n"},{"tags":["java","chaining"],"comments":[{"owner":{"account_id":1917072,"reputation":2291,"user_id":1729458,"display_name":"Strikegently"},"score":1,"creation_date":1600259716,"post_id":63920107,"comment_id":113030740,"body_markdown":"You pass `op` as an argument to every function. `op` is a blank string, so obviously it won&#39;t print anything.","body":"You pass <code>op</code> as an argument to every function. <code>op</code> is a blank string, so obviously it won&#39;t print anything."},{"owner":{"account_id":2328447,"reputation":525,"user_id":2042389,"display_name":"NickyPatel"},"score":0,"creation_date":1600260579,"post_id":63920107,"comment_id":113031265,"body_markdown":":) thanks for the prompt answer. :( for decreasing\nthat is fine do we have any better solution for the same problem","body":":) thanks for the prompt answer. :( for decreasing that is fine do we have any better solution for the same problem"},{"owner":{"account_id":2328447,"reputation":525,"user_id":2042389,"display_name":"NickyPatel"},"score":0,"creation_date":1600261818,"post_id":63920107,"comment_id":113031954,"body_markdown":"I tried assigning the value to op from each method but now the issue is : it is showing the sop from the method correct but it is showing op value at the end of the method as test1test12test123test1234. which is confusing.","body":"I tried assigning the value to op from each method but now the issue is : it is showing the sop from the method correct but it is showing op value at the end of the method as test1test12test123test1234. which is confusing."}],"answers":[{"tags":[],"owner":{"account_id":2328447,"reputation":525,"user_id":2042389,"display_name":"NickyPatel"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1685103770,"creation_date":1600669263,"answer_id":63987110,"question_id":63920107,"body_markdown":"I have found the solution. I developed below code to solve it. Please let me know if anybody is having a better solution for this.\r\n\r\n    public class Perform {\r\n    \r\n    \tprivate static List&lt;Integer&gt; SamsungMethodExecution = Arrays.asList(1,3,5,7);\r\n    \tprivate static List&lt;Integer&gt; NokiaMethodExecution = Arrays.asList(2,4,6,8);\r\n    \tprivate static List&lt;Integer&gt; LgMethodExecution = Arrays.asList(1,5,9,10);\r\n    \t\r\n    \t\r\n    \tpublic static void main(String[] args) {\r\n    \t\tList&lt;String&gt; list = new ArrayList&lt;&gt;();\r\n    \t\t\r\n    \t\tlist.add(&quot;Lgmsg&quot;);\r\n    \t\tlist.add(&quot;Samsungmsg&quot;);\r\n    \t\tlist.add(&quot;Nokiamsg&quot;);\r\n    \t\tlist.add(&quot;Lgmsg&quot;);\r\n    \t\tlist.add(&quot;Samsungmsg&quot;);\r\n    \t\tlist.add(&quot;Nokiamsg&quot;);\r\n    \t\tlist.add(&quot;Lgmsg&quot;);\r\n    \t\tlist.add(&quot;Samsungmsg&quot;);\r\n    \t\tlist.add(&quot;Nokiamsg&quot;);\r\n    //\t\t\r\n    \t\tprocess(list);\r\n    \t}\r\n    \t\r\n    \tpublic static void process(List&lt;String&gt; list)\r\n    \t{\r\n    \t\tfor(String str: list)\r\n    \t\t{\r\n    \t\t\tif(str.startsWith(&quot;Samsung&quot;))\r\n    \t\t\t{\r\n    \t\t\t\tSystem.out.println(&quot;SAMSUNG======================================&quot;);\r\n    \t\t\t\tProcess.process(SamsungMethodExecution, str.replace(&quot;Samsung&quot;, &quot;&quot;));\r\n    \t\t\t\tSystem.out.println(&quot;SAMSUNG======================================&quot;);\r\n    \t\t\t\tSystem.out.println();\r\n    \t\t\t}else if(str.startsWith(&quot;Nokia&quot;))\r\n    \t\t\t{\r\n    \t\t\t\tSystem.out.println(&quot;NOKIA========================================&quot;);\r\n    \t\t\t\tProcess.process(NokiaMethodExecution, str.replace(&quot;Nokia&quot;, &quot;&quot;));\r\n    \t\t\t\tSystem.out.println(&quot;NOKIA========================================&quot;);\r\n    \t\t\t\tSystem.out.println();\r\n    \t\t\t}else\r\n    \t\t\t{\r\n    \t\t\t\tSystem.out.println(&quot;LG===========================================&quot;);\r\n    \t\t\t\tProcess.process(LgMethodExecution, str.replace(&quot;Lg&quot;, &quot;&quot;));\r\n    \t\t\t\tSystem.out.println(&quot;LG===========================================&quot;);\r\n    \t\t\t\tSystem.out.println();\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    \r\n    public class Process {\r\n    \t\r\n    \tpublic static String process(List&lt;Integer&gt; processList, String msg) {\r\n    \t\tString output = &quot;&quot;;\r\n    \t\tfor(int i: processList)\r\n    \t\t{\r\n    \t\t\tswitch(i)\r\n    \t\t\t{\r\n    \t\t\t\tcase 1:\r\n    \t\t\t\t\toutput = Process.process1(msg); break;\r\n    \t\t\t\tcase 2:\r\n    \t\t\t\t\toutput = Process.process2(msg); break;\r\n    \t\t\t\tcase 3:\r\n    \t\t\t\t\toutput = Process.process3(msg); break;\r\n    \t\t\t\tcase 4:\r\n    \t\t\t\t\toutput = Process.process4(msg); break;\r\n    \t\t\t\tcase 5:\r\n    \t\t\t\t\toutput = Process.process5(msg); break;\r\n    \t\t\t\tcase 6:\r\n    \t\t\t\t\toutput = Process.process6(msg); break;\r\n    \t\t\t\tcase 7:\r\n    \t\t\t\t\toutput = Process.process7(msg); break;\r\n    \t\t\t\tcase 8:\r\n    \t\t\t\t\toutput = Process.process8(msg); break;\r\n    \t\t\t\tcase 9:\r\n    \t\t\t\t\toutput = Process.process9(msg); break;\r\n    \t\t\t\tcase 10:\r\n    \t\t\t\t\toutput = Process.process10(msg); break;\r\n    \t\t\t\tdefault :\r\n    \t\t\t\t\tSystem.out.println(&quot;Sorry, no specific match found&quot;);\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\treturn output;\r\n    \t}\r\n    \r\n    \tpublic static String process1(String msg)\r\n    \t{\r\n    \t\tSystem.out.println(&quot;process1: &quot;+msg);\r\n    \t\treturn msg;\r\n    \t}\r\n    \tpublic static String process2(String msg)\r\n    \t{\r\n    \t\tSystem.out.println(&quot;process2: &quot;+msg);\r\n    \t\treturn msg;\r\n    \t}\r\n    \tpublic static String process3(String msg)\r\n    \t{\r\n    \t\tSystem.out.println(&quot;process3: &quot;+msg);\r\n    \t\treturn msg;\r\n    \t}\r\n    \tpublic static String process4(String msg)\r\n    \t{\r\n    \t\tSystem.out.println(&quot;process4: &quot;+msg);\r\n    \t\treturn msg;\r\n    \t}\r\n    \tpublic static String process5(String msg)\r\n    \t{\r\n    \t\tSystem.out.println(&quot;process5: &quot;+msg);\r\n    \t\treturn msg;\r\n    \t}\r\n    \tpublic static String process6(String msg)\r\n    \t{\r\n    \t\tSystem.out.println(&quot;process6: &quot;+msg);\r\n    \t\treturn msg;\r\n    \t}\r\n    \tpublic static String process7(String msg)\r\n    \t{\r\n    \t\tSystem.out.println(&quot;process7: &quot;+msg);\r\n    \t\treturn msg;\r\n    \t}\r\n    \tpublic static String process8(String msg)\r\n    \t{\r\n    \t\tSystem.out.println(&quot;process8: &quot;+msg);\r\n    \t\treturn msg;\r\n    \t}\r\n    \tpublic static String process9(String msg)\r\n    \t{\r\n    \t\tSystem.out.println(&quot;process9: &quot;+msg);\r\n    \t\treturn msg;\r\n    \t}\r\n    \tpublic static String process10(String msg)\r\n    \t{\r\n    \t\tSystem.out.println(&quot;process10: &quot;+msg);\r\n    \t\treturn msg;\r\n    \t}\r\n    }\r\n\r\nTwo classes one is main class and another is Process class which is having a actual logic.\r\n","title":"multiple method execution with same input processed","body":"<p>I have found the solution. I developed below code to solve it. Please let me know if anybody is having a better solution for this.</p>\n<pre><code>public class Perform {\n\n    private static List&lt;Integer&gt; SamsungMethodExecution = Arrays.asList(1,3,5,7);\n    private static List&lt;Integer&gt; NokiaMethodExecution = Arrays.asList(2,4,6,8);\n    private static List&lt;Integer&gt; LgMethodExecution = Arrays.asList(1,5,9,10);\n    \n    \n    public static void main(String[] args) {\n        List&lt;String&gt; list = new ArrayList&lt;&gt;();\n        \n        list.add(&quot;Lgmsg&quot;);\n        list.add(&quot;Samsungmsg&quot;);\n        list.add(&quot;Nokiamsg&quot;);\n        list.add(&quot;Lgmsg&quot;);\n        list.add(&quot;Samsungmsg&quot;);\n        list.add(&quot;Nokiamsg&quot;);\n        list.add(&quot;Lgmsg&quot;);\n        list.add(&quot;Samsungmsg&quot;);\n        list.add(&quot;Nokiamsg&quot;);\n//      \n        process(list);\n    }\n    \n    public static void process(List&lt;String&gt; list)\n    {\n        for(String str: list)\n        {\n            if(str.startsWith(&quot;Samsung&quot;))\n            {\n                System.out.println(&quot;SAMSUNG======================================&quot;);\n                Process.process(SamsungMethodExecution, str.replace(&quot;Samsung&quot;, &quot;&quot;));\n                System.out.println(&quot;SAMSUNG======================================&quot;);\n                System.out.println();\n            }else if(str.startsWith(&quot;Nokia&quot;))\n            {\n                System.out.println(&quot;NOKIA========================================&quot;);\n                Process.process(NokiaMethodExecution, str.replace(&quot;Nokia&quot;, &quot;&quot;));\n                System.out.println(&quot;NOKIA========================================&quot;);\n                System.out.println();\n            }else\n            {\n                System.out.println(&quot;LG===========================================&quot;);\n                Process.process(LgMethodExecution, str.replace(&quot;Lg&quot;, &quot;&quot;));\n                System.out.println(&quot;LG===========================================&quot;);\n                System.out.println();\n            }\n        }\n    }\n\npublic class Process {\n    \n    public static String process(List&lt;Integer&gt; processList, String msg) {\n        String output = &quot;&quot;;\n        for(int i: processList)\n        {\n            switch(i)\n            {\n                case 1:\n                    output = Process.process1(msg); break;\n                case 2:\n                    output = Process.process2(msg); break;\n                case 3:\n                    output = Process.process3(msg); break;\n                case 4:\n                    output = Process.process4(msg); break;\n                case 5:\n                    output = Process.process5(msg); break;\n                case 6:\n                    output = Process.process6(msg); break;\n                case 7:\n                    output = Process.process7(msg); break;\n                case 8:\n                    output = Process.process8(msg); break;\n                case 9:\n                    output = Process.process9(msg); break;\n                case 10:\n                    output = Process.process10(msg); break;\n                default :\n                    System.out.println(&quot;Sorry, no specific match found&quot;);\n            }\n        }\n        return output;\n    }\n\n    public static String process1(String msg)\n    {\n        System.out.println(&quot;process1: &quot;+msg);\n        return msg;\n    }\n    public static String process2(String msg)\n    {\n        System.out.println(&quot;process2: &quot;+msg);\n        return msg;\n    }\n    public static String process3(String msg)\n    {\n        System.out.println(&quot;process3: &quot;+msg);\n        return msg;\n    }\n    public static String process4(String msg)\n    {\n        System.out.println(&quot;process4: &quot;+msg);\n        return msg;\n    }\n    public static String process5(String msg)\n    {\n        System.out.println(&quot;process5: &quot;+msg);\n        return msg;\n    }\n    public static String process6(String msg)\n    {\n        System.out.println(&quot;process6: &quot;+msg);\n        return msg;\n    }\n    public static String process7(String msg)\n    {\n        System.out.println(&quot;process7: &quot;+msg);\n        return msg;\n    }\n    public static String process8(String msg)\n    {\n        System.out.println(&quot;process8: &quot;+msg);\n        return msg;\n    }\n    public static String process9(String msg)\n    {\n        System.out.println(&quot;process9: &quot;+msg);\n        return msg;\n    }\n    public static String process10(String msg)\n    {\n        System.out.println(&quot;process10: &quot;+msg);\n        return msg;\n    }\n}\n</code></pre>\n<p>Two classes one is main class and another is Process class which is having a actual logic.</p>\n"}],"owner":{"account_id":2328447,"reputation":525,"user_id":2042389,"display_name":"NickyPatel"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":121,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":63987110,"answer_count":1,"score":-1,"last_activity_date":1685103770,"creation_date":1600259348,"question_id":63920107,"body_markdown":"warm greetings.\r\n\r\nI am having a scenario that i have 10 methods i.e. process1, process2..., process10\r\naccording to input i need to execute few methods out of 10 in specific order.\r\n1)1,3,5,7\r\n2)2,4,6,8\r\n3)1,5,9,10\r\n\r\nwhatever order i am executing, output of 1st method should be used as the input of second method and so on.\r\n\r\ni searched a lot in internet but didn&#39;t found anything suitable. I started doing below code.\r\nas of now i am using concat method of java to achieve this.\r\n\r\n    public class Perform {\r\n    \r\n    \tstatic String op = &quot;&quot;;\r\n    \t\r\n    \tpublic static void main(String[] args) {\r\n    \t\t\t\tprocess(list);\r\n    \t}\r\n    \t\r\n    \tpublic static void process(List&lt;String&gt; list)\r\n    \t{\r\n    \r\n    \t\tfor(String str: list)\r\n    \t\t{\r\n    \t\t\tif(str.startsWith(&quot;Samsung&quot;))\r\n    \t\t\t{\r\n    process1(&quot;test&quot;).concat(process2(op).concat(process3(op)).concat(process4(op)));\r\n    \r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    \tpublic static String process1(String str)\r\n    \t{\r\n    \t\tSystem.out.println(&quot;process1 start&quot;);\r\n    \t\tSystem.out.println(&quot;str1:&quot;+str);\r\n    \t\tSystem.out.println(&quot;process1 end&quot;);\r\n    \t\treturn str+&quot;1&quot;;\r\n    \t}\r\n    \tpublic static String process2(String str)\r\n    \t{\r\n    \t\tSystem.out.println(&quot;process2 start&quot;);\r\n    \t\tSystem.out.println(&quot;str2:&quot;+str);\r\n    \t\tSystem.out.println(&quot;process2 end&quot;);\r\n    \t\treturn str+&quot;2&quot;;\r\n    \t}\r\n    \tpublic static String process3(String str)\r\n    \t{\r\n    \t\tSystem.out.println(&quot;process3 start&quot;);\r\n    \t\tSystem.out.println(&quot;str3:&quot;+str);\r\n    \t\tSystem.out.println(&quot;process3 end&quot;);\r\n    \t\treturn str+&quot;3&quot;;\r\n    \t}\r\n    \tpublic static String process4(String str)\r\n    \t{\r\n    \t\tSystem.out.println(&quot;process4 start&quot;);\r\n    \t\tSystem.out.println(&quot;str4:&quot;+str);\r\n    \t\tSystem.out.println(&quot;process4 end&quot;);\r\n    \t\treturn str+&quot;4&quot;;\r\n    \t}\r\n    }\r\n\r\noutput :\r\n\r\nprocess1 start\r\n\r\nstr1:test\r\n\r\nprocess1 end\r\n\r\nprocess2 start\r\n\r\nstr2:\r\n\r\nop :\r\n\r\nprocess2 end\r\n\r\nprocess3 start\r\n\r\nstr3:\r\n\r\nprocess3 end\r\n\r\nprocess4 start\r\n\r\nstr4:\r\n\r\nprocess4 end\r\n\r\nop:test1234\r\n\r\nthe answer is expected and processing all 4 methods but the issue is : it is not printing the value of &quot;str&quot; which is the parameter. why ?\r\n\r\nif i am keeping the code\r\n\r\n    op = process1(&quot;test&quot;);\r\n    op = process2(op);\r\n    op = process3(op);\r\n    op = process4(op);\r\n\r\nin place of \r\n\r\n    process1(&quot;test&quot;).concat(process2(op).concat(process3(op)).concat(process4(op)));\r\n\r\nthen it is printing the value of str which is an parameter.\r\n\r\nPlease answer the question from below code as well as suggest me some good code for this scenario.","title":"multiple method execution with same input processed","body":"<p>warm greetings.</p>\n<p>I am having a scenario that i have 10 methods i.e. process1, process2..., process10\naccording to input i need to execute few methods out of 10 in specific order.\n1)1,3,5,7\n2)2,4,6,8\n3)1,5,9,10</p>\n<p>whatever order i am executing, output of 1st method should be used as the input of second method and so on.</p>\n<p>i searched a lot in internet but didn't found anything suitable. I started doing below code.\nas of now i am using concat method of java to achieve this.</p>\n<pre><code>public class Perform {\n\n    static String op = &quot;&quot;;\n    \n    public static void main(String[] args) {\n                process(list);\n    }\n    \n    public static void process(List&lt;String&gt; list)\n    {\n\n        for(String str: list)\n        {\n            if(str.startsWith(&quot;Samsung&quot;))\n            {\nprocess1(&quot;test&quot;).concat(process2(op).concat(process3(op)).concat(process4(op)));\n\n            }\n        }\n    }\n    \n    public static String process1(String str)\n    {\n        System.out.println(&quot;process1 start&quot;);\n        System.out.println(&quot;str1:&quot;+str);\n        System.out.println(&quot;process1 end&quot;);\n        return str+&quot;1&quot;;\n    }\n    public static String process2(String str)\n    {\n        System.out.println(&quot;process2 start&quot;);\n        System.out.println(&quot;str2:&quot;+str);\n        System.out.println(&quot;process2 end&quot;);\n        return str+&quot;2&quot;;\n    }\n    public static String process3(String str)\n    {\n        System.out.println(&quot;process3 start&quot;);\n        System.out.println(&quot;str3:&quot;+str);\n        System.out.println(&quot;process3 end&quot;);\n        return str+&quot;3&quot;;\n    }\n    public static String process4(String str)\n    {\n        System.out.println(&quot;process4 start&quot;);\n        System.out.println(&quot;str4:&quot;+str);\n        System.out.println(&quot;process4 end&quot;);\n        return str+&quot;4&quot;;\n    }\n}\n</code></pre>\n<p>output :</p>\n<p>process1 start</p>\n<p>str1:test</p>\n<p>process1 end</p>\n<p>process2 start</p>\n<p>str2:</p>\n<p>op :</p>\n<p>process2 end</p>\n<p>process3 start</p>\n<p>str3:</p>\n<p>process3 end</p>\n<p>process4 start</p>\n<p>str4:</p>\n<p>process4 end</p>\n<p>op:test1234</p>\n<p>the answer is expected and processing all 4 methods but the issue is : it is not printing the value of &quot;str&quot; which is the parameter. why ?</p>\n<p>if i am keeping the code</p>\n<pre><code>op = process1(&quot;test&quot;);\nop = process2(op);\nop = process3(op);\nop = process4(op);\n</code></pre>\n<p>in place of</p>\n<pre><code>process1(&quot;test&quot;).concat(process2(op).concat(process3(op)).concat(process4(op)));\n</code></pre>\n<p>then it is printing the value of str which is an parameter.</p>\n<p>Please answer the question from below code as well as suggest me some good code for this scenario.</p>\n"},{"tags":["java","azure","keycloak"],"comments":[{"owner":{"account_id":1535526,"reputation":628,"user_id":1431690,"accept_rate":60,"display_name":"nettie"},"score":0,"creation_date":1685111488,"post_id":76340723,"comment_id":134620337,"body_markdown":"Did you check that the certs are in the right path on the linux VMs?","body":"Did you check that the certs are in the right path on the linux VMs?"},{"owner":{"account_id":28685708,"reputation":1,"user_id":21966039,"display_name":"Sreejith R"},"score":0,"creation_date":1685356879,"post_id":76340723,"comment_id":134644857,"body_markdown":"Yes, I have put all the certs in /etc/pki/ca-trust/source/anchors/","body":"Yes, I have put all the certs in /etc/pki/ca-trust/source/anchors/"},{"owner":{"account_id":1535526,"reputation":628,"user_id":1431690,"accept_rate":60,"display_name":"nettie"},"score":0,"creation_date":1685562911,"post_id":76340723,"comment_id":134679405,"body_markdown":"Be sure to check cert file perms and ownership. You may have to restart web server after installing new certificates. Check your logs.","body":"Be sure to check cert file perms and ownership. You may have to restart web server after installing new certificates. Check your logs."}],"owner":{"account_id":28685708,"reputation":1,"user_id":21966039,"display_name":"Sreejith R"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":134,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685103438,"creation_date":1685103301,"question_id":76340723,"body_markdown":"We have configured keycloak version 21.0.1 under Azure load balancer with 2 Linux virtual machines  and it is using the same database. While authenticating using Microsoft Identity Provider it works sometimes and getting error sometimes. Your help is much appreciated.\r\nThanks you!\r\n\r\n\r\nWhen I tried to login to keycloak using Microsoft account we are getting the below error\r\n`2023-05-26 11:33:42,120 ERROR [org.keycloak.broker.oidc.AbstractOAuth2IdentityProvider] (executor-thread-6) Failed to make identity provider oauth callback: javax.net.ssl.SSLHandshakeException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n        at java.base/sun.security.ssl.Alert.createSSLException(Alert.java:131)\r\nCaused by: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n        at java.base/sun.security.validator.PKIXValidator.doBuild(PKIXValidator.java:439)\r\nCaused by: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n        at java.base/sun.security.provider.certpath.SunCertPathBuilder.build(SunCertPathBuilder.java:146)\r\n`","title":"Keycloak Error while authenticating with Microsoft Identity Provider","body":"<p>We have configured keycloak version 21.0.1 under Azure load balancer with 2 Linux virtual machines  and it is using the same database. While authenticating using Microsoft Identity Provider it works sometimes and getting error sometimes. Your help is much appreciated.\nThanks you!</p>\n<p>When I tried to login to keycloak using Microsoft account we are getting the below error\n<code>2023-05-26 11:33:42,120 ERROR [org.keycloak.broker.oidc.AbstractOAuth2IdentityProvider] (executor-thread-6) Failed to make identity provider oauth callback: javax.net.ssl.SSLHandshakeException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target at java.base/sun.security.ssl.Alert.createSSLException(Alert.java:131) Caused by: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target at java.base/sun.security.validator.PKIXValidator.doBuild(PKIXValidator.java:439) Caused by: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target at java.base/sun.security.provider.certpath.SunCertPathBuilder.build(SunCertPathBuilder.java:146) </code></p>\n"},{"tags":["java","spring","hibernate","hql"],"comments":[{"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1685104117,"post_id":76340676,"comment_id":134618557,"body_markdown":"Is using JPA repository an option for you? It provides many auto-generated filter methods and has a solution for ambiguous field names. Using underscore.","body":"Is using JPA repository an option for you? It provides many auto-generated filter methods and has a solution for ambiguous field names. Using underscore."},{"owner":{"account_id":11253290,"reputation":1289,"user_id":9167731,"display_name":"Semyon Kirekov"},"score":0,"creation_date":1685105401,"post_id":76340676,"comment_id":134618876,"body_markdown":"Can you provide the declaration of `Schedule` entity?","body":"Can you provide the declaration of <code>Schedule</code> entity?"}],"owner":{"account_id":1280245,"reputation":11,"user_id":1234505,"display_name":"Edgars"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685103438,"creation_date":1685102951,"question_id":76340676,"body_markdown":"I&#39;m updating our applications from hibernate v5 to v6. This requires us to change our data access layer to use JPA queries instead of the hibernateTemplate ones we&#39;ve had before (I know...).\r\n\r\nAn issue I&#39;m running into is that the compiled SQL has automatically translated column names so filtering is a problem. For instance, I have a table &quot;Schedule&quot; with a primary key &#39;uuid&#39; as well as another column called &#39;id&#39;. \r\n\r\n\r\nSo a query like:\r\n\r\n```\r\nfrom Schedule where id = :scheduleId and sourceId = :sourceId&quot;\r\n```\r\n\r\nResults in actual SQL like: \r\n\r\n```\r\n    select\r\n        s1_0.uuid,\r\n        s1_0.name,\r\n        ...\r\n        s1_0.id,\r\n        s1_0.sourceId,\r\n    from\r\n        Schedule s1_0 \r\n    where\r\n        s1_0.uuid=? \r\n        and s1_0.sourceId=? \r\n```\r\nWhere as I would expect it to look like:\r\n\r\n```\r\n    select\r\n        s1_0.uuid,\r\n        s1_0.name,\r\n        ...\r\n        s1_0.id,\r\n        s1_0.sourceId,\r\n    from\r\n        Schedule s1_0 \r\n    where\r\n        s1_0.id=? \r\n        and s1_0.sourceId=? \r\n```\r\n\r\nAs you can see the `id` filter is translated to the primary key column name. This does not happen if we filter for other columns such as `name`. Is there any way to prevent HQL/Hibernate/JPA from doing this? For multiple reasons, we do not want to change any column names so that&#39;s not really an option.","title":"How to prevent Hibernate/JPA from translating column names in HQL queries?","body":"<p>I'm updating our applications from hibernate v5 to v6. This requires us to change our data access layer to use JPA queries instead of the hibernateTemplate ones we've had before (I know...).</p>\n<p>An issue I'm running into is that the compiled SQL has automatically translated column names so filtering is a problem. For instance, I have a table &quot;Schedule&quot; with a primary key 'uuid' as well as another column called 'id'.</p>\n<p>So a query like:</p>\n<pre><code>from Schedule where id = :scheduleId and sourceId = :sourceId&quot;\n</code></pre>\n<p>Results in actual SQL like:</p>\n<pre><code>    select\n        s1_0.uuid,\n        s1_0.name,\n        ...\n        s1_0.id,\n        s1_0.sourceId,\n    from\n        Schedule s1_0 \n    where\n        s1_0.uuid=? \n        and s1_0.sourceId=? \n</code></pre>\n<p>Where as I would expect it to look like:</p>\n<pre><code>    select\n        s1_0.uuid,\n        s1_0.name,\n        ...\n        s1_0.id,\n        s1_0.sourceId,\n    from\n        Schedule s1_0 \n    where\n        s1_0.id=? \n        and s1_0.sourceId=? \n</code></pre>\n<p>As you can see the <code>id</code> filter is translated to the primary key column name. This does not happen if we filter for other columns such as <code>name</code>. Is there any way to prevent HQL/Hibernate/JPA from doing this? For multiple reasons, we do not want to change any column names so that's not really an option.</p>\n"},{"tags":["java","elasticsearch","java-client"],"comments":[{"owner":{"account_id":5843921,"reputation":210875,"user_id":4604579,"display_name":"Val"},"score":0,"creation_date":1685073092,"post_id":76335430,"comment_id":134613279,"body_markdown":"Which version of ES are you running?","body":"Which version of ES are you running?"},{"owner":{"account_id":537054,"reputation":32561,"user_id":905762,"accept_rate":77,"display_name":"John B"},"score":0,"creation_date":1685094595,"post_id":76335430,"comment_id":134616683,"body_markdown":"Running version of ES is 8.7.0","body":"Running version of ES is 8.7.0"},{"owner":{"account_id":5843921,"reputation":210875,"user_id":4604579,"display_name":"Val"},"score":0,"creation_date":1685097419,"post_id":76335430,"comment_id":134617270,"body_markdown":"Can you try without the `fields` and `stored_field` sections?","body":"Can you try without the <code>fields</code> and <code>stored_field</code> sections?"},{"owner":{"account_id":537054,"reputation":32561,"user_id":905762,"accept_rate":77,"display_name":"John B"},"score":0,"creation_date":1685098751,"post_id":76335430,"comment_id":134617505,"body_markdown":"So, looks like the issues is that `stored_field` should be `stored_fields`. Is that a bug in the ES client library? It is interesting that I got more details out of Kibana then the java client stack trace. I will have to remember that.","body":"So, looks like the issues is that <code>stored_field</code> should be <code>stored_fields</code>. Is that a bug in the ES client library? It is interesting that I got more details out of Kibana then the java client stack trace. I will have to remember that."},{"owner":{"account_id":537054,"reputation":32561,"user_id":905762,"accept_rate":77,"display_name":"John B"},"score":0,"creation_date":1685100169,"post_id":76335430,"comment_id":134617780,"body_markdown":"https://artifacts.elastic.co/javadoc/co/elastic/clients/elasticsearch-java/8.7.0/co/elastic/clients/elasticsearch/core/search/InnerHits.html#storedField()","body":"<a href=\"https://artifacts.elastic.co/javadoc/co/elastic/clients/elasticsearch-java/8.7.0/co/elastic/clients/elasticsearch/core/search/InnerHits.html#storedField()\" rel=\"nofollow noreferrer\">artifacts.elastic.co/javadoc/co/elastic/clients/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":5843921,"reputation":210875,"user_id":4604579,"display_name":"Val"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1685102283,"creation_date":1685102283,"answer_id":76340585,"question_id":76335430,"body_markdown":"The correct name is indeed [`stored_fields`](https://www.elastic.co/guide/en/elasticsearch/reference/8.8/search-fields.html#stored-fields) and not `stored_field`.\r\n\r\nThere&#39;s an open issue for this: https://github.com/elastic/elasticsearch-java/issues/409 and while it seems to be fixed, it&#39;s not merged yet.","title":"Parse_exception: collapse failed to parse field inner_hits","body":"<p>The correct name is indeed <a href=\"https://www.elastic.co/guide/en/elasticsearch/reference/8.8/search-fields.html#stored-fields\" rel=\"nofollow noreferrer\"><code>stored_fields</code></a> and not <code>stored_field</code>.</p>\n<p>There's an open issue for this: <a href=\"https://github.com/elastic/elasticsearch-java/issues/409\" rel=\"nofollow noreferrer\">https://github.com/elastic/elasticsearch-java/issues/409</a> and while it seems to be fixed, it's not merged yet.</p>\n"}],"owner":{"account_id":537054,"reputation":32561,"user_id":905762,"accept_rate":77,"display_name":"John B"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":98,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76340585,"answer_count":1,"score":0,"last_activity_date":1685102283,"creation_date":1685040800,"question_id":76335430,"body_markdown":"Using the javaclient doing inner_hits inside a collapse, I am getting this error:\r\n`Caused by: co.elastic.clients.elasticsearch._types.ElasticsearchException: [es/search] failed: [x_content_parse_exception] [1:500] [collapse] failed to parse field [inner_hits]`\r\n\r\nMy code:\r\n```\r\n      FieldCollapse.Builder builder = new FieldCollapse.Builder() //\r\n          .field(collapse.getField());\r\n\r\n      if (collapse.getInnerHits() != null) {\r\n        List&lt;InnerHits&gt; innerHits = getInnerHitsBuilderList(collapse.getInnerHits());\r\n        builder.innerHits(innerHits);\r\n      }\r\n      return Optional.of(builder.build());\r\n```\r\nand:\r\n```\r\n\r\n        InnerHits.Builder builder = new InnerHits.Builder().name(innerHit.getName());\r\n\r\n        NullOrEmpty.optional(innerHit.getFetchFields())\r\n            .ifPresent(p -&gt; builder.fields(Lists.mutable.ofAll(p)));\r\n        NullOrEmpty.optional(innerHit.getStoredFields())\r\n            .ifPresent(p -&gt; builder.storedField(Lists.mutable.ofAll(p)));\r\n```\r\n\r\nThe collapse portion of the query:\r\n```\r\n&quot;collapse&quot;: {\r\n    &quot;field&quot;: &quot;fielda.innerFieldb&quot;,\r\n    &quot;inner_hits&quot;: [\r\n      {\r\n        &quot;name&quot;: &quot;Topics&quot;,\r\n        &quot;size&quot;: 100,\r\n        &quot;collapse&quot;: {\r\n          &quot;field&quot;: &quot;topic.topicId&quot;\r\n        },\r\n        &quot;fields&quot;: [\r\n          &quot;topic.shortName&quot;\r\n        ],\r\n        &quot;stored_field&quot;: [\r\n          &quot;topic.shortName&quot;\r\n        ]\r\n      }\r\n    ]\r\n  }\r\n```\r\n\r\nThe interesting thing here is that the documentation for collapse lists inner_hits as an object (not an array):\r\nhttps://www.elastic.co/guide/en/elasticsearch/reference/8.8/collapse-search-results.html\r\n```\r\n&quot;collapse&quot;: {\r\n    &quot;field&quot;: &quot;user.id&quot;,                       \r\n    &quot;inner_hits&quot;: {\r\n      &quot;name&quot;: &quot;most_recent&quot;,                  \r\n      &quot;size&quot;: 5,                              \r\n      &quot;sort&quot;: [ { &quot;@timestamp&quot;: &quot;desc&quot; } ]    \r\n    },\r\n    &quot;max_concurrent_group_searches&quot;: 4        \r\n  }\r\n```\r\n\r\nAnd yet the code of the [FieldCollapse]( https://artifacts.elastic.co/javadoc/co/elastic/clients/elasticsearch-java/8.8.0/co/elastic/clients/elasticsearch/core/search/FieldCollapse.html) class has a `List&lt;InnerHits&gt;`\r\n\r\nSo, what am I doing wrong?","title":"Parse_exception: collapse failed to parse field inner_hits","body":"<p>Using the javaclient doing inner_hits inside a collapse, I am getting this error:\n<code>Caused by: co.elastic.clients.elasticsearch._types.ElasticsearchException: [es/search] failed: [x_content_parse_exception] [1:500] [collapse] failed to parse field [inner_hits]</code></p>\n<p>My code:</p>\n<pre><code>      FieldCollapse.Builder builder = new FieldCollapse.Builder() //\n          .field(collapse.getField());\n\n      if (collapse.getInnerHits() != null) {\n        List&lt;InnerHits&gt; innerHits = getInnerHitsBuilderList(collapse.getInnerHits());\n        builder.innerHits(innerHits);\n      }\n      return Optional.of(builder.build());\n</code></pre>\n<p>and:</p>\n<pre><code>\n        InnerHits.Builder builder = new InnerHits.Builder().name(innerHit.getName());\n\n        NullOrEmpty.optional(innerHit.getFetchFields())\n            .ifPresent(p -&gt; builder.fields(Lists.mutable.ofAll(p)));\n        NullOrEmpty.optional(innerHit.getStoredFields())\n            .ifPresent(p -&gt; builder.storedField(Lists.mutable.ofAll(p)));\n</code></pre>\n<p>The collapse portion of the query:</p>\n<pre><code>&quot;collapse&quot;: {\n    &quot;field&quot;: &quot;fielda.innerFieldb&quot;,\n    &quot;inner_hits&quot;: [\n      {\n        &quot;name&quot;: &quot;Topics&quot;,\n        &quot;size&quot;: 100,\n        &quot;collapse&quot;: {\n          &quot;field&quot;: &quot;topic.topicId&quot;\n        },\n        &quot;fields&quot;: [\n          &quot;topic.shortName&quot;\n        ],\n        &quot;stored_field&quot;: [\n          &quot;topic.shortName&quot;\n        ]\n      }\n    ]\n  }\n</code></pre>\n<p>The interesting thing here is that the documentation for collapse lists inner_hits as an object (not an array):\n<a href=\"https://www.elastic.co/guide/en/elasticsearch/reference/8.8/collapse-search-results.html\" rel=\"nofollow noreferrer\">https://www.elastic.co/guide/en/elasticsearch/reference/8.8/collapse-search-results.html</a></p>\n<pre><code>&quot;collapse&quot;: {\n    &quot;field&quot;: &quot;user.id&quot;,                       \n    &quot;inner_hits&quot;: {\n      &quot;name&quot;: &quot;most_recent&quot;,                  \n      &quot;size&quot;: 5,                              \n      &quot;sort&quot;: [ { &quot;@timestamp&quot;: &quot;desc&quot; } ]    \n    },\n    &quot;max_concurrent_group_searches&quot;: 4        \n  }\n</code></pre>\n<p>And yet the code of the <a href=\"https://artifacts.elastic.co/javadoc/co/elastic/clients/elasticsearch-java/8.8.0/co/elastic/clients/elasticsearch/core/search/FieldCollapse.html\" rel=\"nofollow noreferrer\">FieldCollapse</a> class has a <code>List&lt;InnerHits&gt;</code></p>\n<p>So, what am I doing wrong?</p>\n"},{"tags":["java","android","xml"],"owner":{"account_id":18681430,"reputation":41,"user_id":13617861,"display_name":"Karmesh Duggar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685102238,"creation_date":1685102238,"question_id":76340580,"body_markdown":"I Have implemented line graph like this,\r\n\r\n    &lt;LinearLayout\r\n                    android:id=&quot;@+id/ll_graph_container&quot;\r\n                    android:layout_width=&quot;0dp&quot;\r\n                    android:layout_height=&quot;@dimen/_138sdp&quot;\r\n                    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n                    app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                    app:layout_constraintTop_toBottomOf=&quot;@+id/tv_day_percentage&quot;&gt;\r\n    \r\n                    &lt;com.github.mikephil.charting.charts.LineChart\r\n                        android:id=&quot;@+id/chart&quot;\r\n                        android:layout_width=&quot;match_parent&quot;\r\n                        android:layout_height=&quot;match_parent&quot;\r\n                        android:background=&quot;@android:color/transparent&quot;\r\n                        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n                        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n                        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                        app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n                        tools:ignore=&quot;MissingConstraints&quot; /&gt;\r\n    \r\n                &lt;/LinearLayout&gt;\r\n\r\n\r\nI want that a circle should shown like this where this vertical line is intersecting the graph like this \r\n[![enter image description here][1]][1]\r\n\r\n\r\nBut right now i am not able to get this circle.. how can i render the circle where vertical line is intersecting with graph \r\n\r\n[![enter image description here][2]][2]\r\n\r\nthis is the custom marker view i am using \r\n\r\n    public class MfMarkerView extends MarkerView {\r\n    \r\n        private final TextView tvTitle;\r\n        private final TextView tvSubTitle;\r\n        private final ImageView ivMiddle;\r\n        private final ImageView ivLeft;\r\n        private final ImageView ivRight;\r\n        private final List&lt;NavHistory&gt; navHistoryList;\r\n    \r\n        DecimalFormat decimalFormat = new DecimalFormat(&quot;#.##&quot;);\r\n    \r\n        public MfMarkerView(Context context, int layoutResource, List&lt;NavHistory&gt; navHistoryList) {\r\n            super(context, layoutResource);\r\n    \r\n            tvTitle = findViewById(R.id.tvTitle);\r\n            tvSubTitle = findViewById(R.id.tvSubTitle);\r\n            ivMiddle = findViewById(R.id.iv_middle);\r\n            ivLeft = findViewById(R.id.iv_left);\r\n            ivRight = findViewById(R.id.iv_right);\r\n            this.navHistoryList = navHistoryList;\r\n        }\r\n    \r\n        @SuppressLint(&quot;SetTextI18n&quot;)\r\n        @Override\r\n        public void refreshContent(Entry e, Highlight highlight) {\r\n            try {\r\n                String value;\r\n                if (e instanceof CandleEntry) {\r\n                    CandleEntry ce = (CandleEntry) e;\r\n                    value = String.valueOf(ce.getHigh());\r\n                } else {\r\n                    value = String.valueOf(e.getY());\r\n                }\r\n    \r\n                if (e.getX() &lt; 200) {\r\n                    ivLeft.setVisibility(View.VISIBLE);\r\n                    ivMiddle.setVisibility(View.GONE);\r\n                    ivRight.setVisibility(View.GONE);\r\n                } else if (e.getX() &gt; 200 &amp;&amp; e.getX() &lt; 900) {\r\n                    ivLeft.setVisibility(View.GONE);\r\n                    ivMiddle.setVisibility(View.VISIBLE);\r\n                    ivRight.setVisibility(View.GONE);\r\n                } else {\r\n                    ivLeft.setVisibility(View.GONE);\r\n                    ivMiddle.setVisibility(View.GONE);\r\n                    ivRight.setVisibility(View.VISIBLE);\r\n                }\r\n    \r\n                String navDate = getDateFromNav(value);\r\n                if (!navDate.isEmpty()) {\r\n                    String formattedDate = DateTimeUtils.getFormattedDate(navDate);\r\n                    String displayText = Constants.RUPEES + &quot; &quot; + value;\r\n                    tvTitle.setText(displayText);\r\n                    tvSubTitle.setText(&quot;NAV as on &quot; + formattedDate);\r\n                }\r\n            } catch (NullPointerException ex) {\r\n                ex.printStackTrace();\r\n            }\r\n            super.refreshContent(e, highlight);\r\n        }\r\n    \r\n        @Override\r\n        public MPPointF getOffset() {\r\n            return new MPPointF(-(getWidth() / 2f), -500);\r\n        }\r\n    \r\n        private String getDateFromNav(String navRate) {\r\n            String navDate = &quot;&quot;;\r\n            try {\r\n                if (navHistoryList != null) {\r\n                    for (NavHistory navHistory : navHistoryList) {\r\n                        if (decimalFormat.format(Double.parseDouble(Objects.requireNonNull(navHistory.getNav()))).equals(navRate)) {\r\n                            navDate = navHistory.getNavDate();\r\n                        }\r\n                    }\r\n                }\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n            return navDate;\r\n        }\r\n    \r\n    }\r\n\r\n  [1]: https://i.stack.imgur.com/5xsFZ.png\r\n  [2]: https://i.stack.imgur.com/a1HOu.png","title":"Android Marker View How to Show circle in the graph","body":"<p>I Have implemented line graph like this,</p>\n<pre><code>&lt;LinearLayout\n                android:id=&quot;@+id/ll_graph_container&quot;\n                android:layout_width=&quot;0dp&quot;\n                android:layout_height=&quot;@dimen/_138sdp&quot;\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\n                app:layout_constraintTop_toBottomOf=&quot;@+id/tv_day_percentage&quot;&gt;\n\n                &lt;com.github.mikephil.charting.charts.LineChart\n                    android:id=&quot;@+id/chart&quot;\n                    android:layout_width=&quot;match_parent&quot;\n                    android:layout_height=&quot;match_parent&quot;\n                    android:background=&quot;@android:color/transparent&quot;\n                    app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n                    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n                    app:layout_constraintStart_toStartOf=&quot;parent&quot;\n                    app:layout_constraintTop_toTopOf=&quot;parent&quot;\n                    tools:ignore=&quot;MissingConstraints&quot; /&gt;\n\n            &lt;/LinearLayout&gt;\n</code></pre>\n<p>I want that a circle should shown like this where this vertical line is intersecting the graph like this\n<a href=\"https://i.stack.imgur.com/5xsFZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5xsFZ.png\" alt=\"enter image description here\" /></a></p>\n<p>But right now i am not able to get this circle.. how can i render the circle where vertical line is intersecting with graph</p>\n<p><a href=\"https://i.stack.imgur.com/a1HOu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/a1HOu.png\" alt=\"enter image description here\" /></a></p>\n<p>this is the custom marker view i am using</p>\n<pre><code>public class MfMarkerView extends MarkerView {\n\n    private final TextView tvTitle;\n    private final TextView tvSubTitle;\n    private final ImageView ivMiddle;\n    private final ImageView ivLeft;\n    private final ImageView ivRight;\n    private final List&lt;NavHistory&gt; navHistoryList;\n\n    DecimalFormat decimalFormat = new DecimalFormat(&quot;#.##&quot;);\n\n    public MfMarkerView(Context context, int layoutResource, List&lt;NavHistory&gt; navHistoryList) {\n        super(context, layoutResource);\n\n        tvTitle = findViewById(R.id.tvTitle);\n        tvSubTitle = findViewById(R.id.tvSubTitle);\n        ivMiddle = findViewById(R.id.iv_middle);\n        ivLeft = findViewById(R.id.iv_left);\n        ivRight = findViewById(R.id.iv_right);\n        this.navHistoryList = navHistoryList;\n    }\n\n    @SuppressLint(&quot;SetTextI18n&quot;)\n    @Override\n    public void refreshContent(Entry e, Highlight highlight) {\n        try {\n            String value;\n            if (e instanceof CandleEntry) {\n                CandleEntry ce = (CandleEntry) e;\n                value = String.valueOf(ce.getHigh());\n            } else {\n                value = String.valueOf(e.getY());\n            }\n\n            if (e.getX() &lt; 200) {\n                ivLeft.setVisibility(View.VISIBLE);\n                ivMiddle.setVisibility(View.GONE);\n                ivRight.setVisibility(View.GONE);\n            } else if (e.getX() &gt; 200 &amp;&amp; e.getX() &lt; 900) {\n                ivLeft.setVisibility(View.GONE);\n                ivMiddle.setVisibility(View.VISIBLE);\n                ivRight.setVisibility(View.GONE);\n            } else {\n                ivLeft.setVisibility(View.GONE);\n                ivMiddle.setVisibility(View.GONE);\n                ivRight.setVisibility(View.VISIBLE);\n            }\n\n            String navDate = getDateFromNav(value);\n            if (!navDate.isEmpty()) {\n                String formattedDate = DateTimeUtils.getFormattedDate(navDate);\n                String displayText = Constants.RUPEES + &quot; &quot; + value;\n                tvTitle.setText(displayText);\n                tvSubTitle.setText(&quot;NAV as on &quot; + formattedDate);\n            }\n        } catch (NullPointerException ex) {\n            ex.printStackTrace();\n        }\n        super.refreshContent(e, highlight);\n    }\n\n    @Override\n    public MPPointF getOffset() {\n        return new MPPointF(-(getWidth() / 2f), -500);\n    }\n\n    private String getDateFromNav(String navRate) {\n        String navDate = &quot;&quot;;\n        try {\n            if (navHistoryList != null) {\n                for (NavHistory navHistory : navHistoryList) {\n                    if (decimalFormat.format(Double.parseDouble(Objects.requireNonNull(navHistory.getNav()))).equals(navRate)) {\n                        navDate = navHistory.getNavDate();\n                    }\n                }\n            }\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n        return navDate;\n    }\n\n}\n</code></pre>\n"},{"tags":["java","kotlin"],"comments":[{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":2,"creation_date":1685100737,"post_id":76339505,"comment_id":134617866,"body_markdown":"Ah I think I misunderstood your question entirely. I thought you meant how to do package-private in Kotlin. Doing `internal` in Java is of course possible. Just don&#39;t `exports` the packages you want - `internal` is the default behaviour if you have a `module-info.java`. Just `exports` the packages you want to be public.","body":"Ah I think I misunderstood your question entirely. I thought you meant how to do package-private in Kotlin. Doing <code>internal</code> in Java is of course possible. Just don&#39;t <code>exports</code> the packages you want - <code>internal</code> is the default behaviour if you have a <code>module-info.java</code>. Just <code>exports</code> the packages you want to be public."}],"answers":[{"comments":[{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1685095785,"post_id":76339680,"comment_id":134616914,"body_markdown":"&quot;_If you override a package-private Java method, it becomes protected, **in both Java** and Kotlin_&quot; -- Maybe I&#39;m not understanding properly, but in Java, overriding a package-private method does not automatically make it protected. You can manually make the override protected, or even public, but that doesn&#39;t happen automatically.","body":"&quot;<i>If you override a package-private Java method, it becomes protected, <b>in both Java</b> and Kotlin</i>&quot; -- Maybe I&#39;m not understanding properly, but in Java, overriding a package-private method does not automatically make it protected. You can manually make the override protected, or even public, but that doesn&#39;t happen automatically."},{"owner":{"account_id":1023984,"reputation":40599,"user_id":1033686,"accept_rate":97,"display_name":"Matthew Layton"},"score":0,"creation_date":1685096207,"post_id":76339680,"comment_id":134616999,"body_markdown":"In my case, I have some Java classes that implement interfaces, but I never want those implementations to ever be visible; they will only ever be accessible via the interfaces. Some of those implementations depend on one another. So I have to decide between either good package organisation and public classes (which makes them visible), or poor package organisation but no visibility. There seems to be no in-between, unless I&#39;m missing something?","body":"In my case, I have some Java classes that implement interfaces, but I never want those implementations to ever be visible; they will only ever be accessible via the interfaces. Some of those implementations depend on one another. So I have to decide between either good package organisation and public classes (which makes them visible), or poor package organisation but no visibility. There seems to be no in-between, unless I&#39;m missing something?"},{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":1,"creation_date":1685096693,"post_id":76339680,"comment_id":134617094,"body_markdown":"@Slaw sorry I meant the Kotlin declaration will be `protected`, in the Java sense, from Java’s POV, and `protected`, in the Kotlin sense, from Kotlin’s POV.","body":"@Slaw sorry I meant the Kotlin declaration will be <code>protected</code>, in the Java sense, from Java’s POV, and <code>protected</code>, in the Kotlin sense, from Kotlin’s POV."},{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1685096839,"post_id":76339680,"comment_id":134617121,"body_markdown":"@MatthewLayton so this turned out to be an XY problem? Anyway, it doesn’t sound like that is possible, but without seeing any code, I can’t really be sure.","body":"@MatthewLayton so this turned out to be an XY problem? Anyway, it doesn’t sound like that is possible, but without seeing any code, I can’t really be sure."},{"owner":{"account_id":1023984,"reputation":40599,"user_id":1033686,"accept_rate":97,"display_name":"Matthew Layton"},"score":0,"creation_date":1685099575,"post_id":76339680,"comment_id":134617654,"body_markdown":"@Sweeper with this potentially being an XY problem, I&#39;ve updated the question with a lot more detail (which I probably should have done in the first place).","body":"@Sweeper with this potentially being an XY problem, I&#39;ve updated the question with a lot more detail (which I probably should have done in the first place)."}],"tags":[],"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"comment_count":5,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1685102212,"creation_date":1685094992,"answer_id":76339680,"question_id":76339505,"body_markdown":"`internal` Kotlin class members are visible in the same *module*.\r\n\r\nSee [Visibility Modifiers][1]\r\n\r\n- `internal` means that any client inside this module who sees the declaring class sees its `internal` members.\r\n\r\nA module is &quot;a set of Kotlin files compiled together&quot;. The documentation gives some examples [at the very end][2]:\r\n\r\n&gt; - An IntelliJ IDEA module.\r\n&gt; - A Maven project.\r\n&gt; - A Gradle source set (with the exception that the test source set can access the `internal` declarations of main).\r\n&gt; - A set of files compiled with one invocation of the `&lt;kotlinc&gt;` Ant task.\r\n\r\nThis is a bit similar to how `internal` is in C#.\r\n\r\nThere is no `internal` access modifier in Java, but everything public in a Java module *are* internal, in the sense that other modules cannot access it. Other modules can only see what a module `exports`. This is something you can specify in a module-info.java file, located in your source root.\r\n\r\nSo in your situation you can have the module that has the interfaces export the interfaces, and have the implementations only export the parts that you don&#39;t want to be `internal`.\r\n\r\nExample module-info.java files:\r\n\r\nFor project.api:\r\n\r\n```\r\nmodule project.api {\r\n    exports com.newco.api.users;\r\n    exports com.newco.api.accounts;\r\n}\r\n```\r\n\r\nFor project.impl;\r\n\r\n```\r\nmodule project.impl {\r\n    requires project.api;\r\n    exports the.parts.you.dont.want.to.be.internal;\r\n    uses AccountService;\r\n    uses UserService;\r\n}\r\n```\r\n\r\nAnd consumers can say `requires project.impl`, and still can only access the public declarations in the `the.parts.you.dont.want.to.be.internal` package.\r\n\r\n\r\n  [1]: https://kotlinlang.org/docs/visibility-modifiers.html#class-members\r\n  [2]: https://kotlinlang.org/docs/visibility-modifiers.html#modules\r\n  [3]: https://stackoverflow.com/a/6470746/5133585","title":"Why is Kotlin&#39;s internal accessibility different to Java&#39;s package-private accessibility?","body":"<p><code>internal</code> Kotlin class members are visible in the same <em>module</em>.</p>\n<p>See <a href=\"https://kotlinlang.org/docs/visibility-modifiers.html#class-members\" rel=\"nofollow noreferrer\">Visibility Modifiers</a></p>\n<ul>\n<li><code>internal</code> means that any client inside this module who sees the declaring class sees its <code>internal</code> members.</li>\n</ul>\n<p>A module is &quot;a set of Kotlin files compiled together&quot;. The documentation gives some examples <a href=\"https://kotlinlang.org/docs/visibility-modifiers.html#modules\" rel=\"nofollow noreferrer\">at the very end</a>:</p>\n<blockquote>\n<ul>\n<li>An IntelliJ IDEA module.</li>\n<li>A Maven project.</li>\n<li>A Gradle source set (with the exception that the test source set can access the <code>internal</code> declarations of main).</li>\n<li>A set of files compiled with one invocation of the <code>&lt;kotlinc&gt;</code> Ant task.</li>\n</ul>\n</blockquote>\n<p>This is a bit similar to how <code>internal</code> is in C#.</p>\n<p>There is no <code>internal</code> access modifier in Java, but everything public in a Java module <em>are</em> internal, in the sense that other modules cannot access it. Other modules can only see what a module <code>exports</code>. This is something you can specify in a module-info.java file, located in your source root.</p>\n<p>So in your situation you can have the module that has the interfaces export the interfaces, and have the implementations only export the parts that you don't want to be <code>internal</code>.</p>\n<p>Example module-info.java files:</p>\n<p>For project.api:</p>\n<pre><code>module project.api {\n    exports com.newco.api.users;\n    exports com.newco.api.accounts;\n}\n</code></pre>\n<p>For project.impl;</p>\n<pre><code>module project.impl {\n    requires project.api;\n    exports the.parts.you.dont.want.to.be.internal;\n    uses AccountService;\n    uses UserService;\n}\n</code></pre>\n<p>And consumers can say <code>requires project.impl</code>, and still can only access the public declarations in the <code>the.parts.you.dont.want.to.be.internal</code> package.</p>\n"}],"owner":{"account_id":1023984,"reputation":40599,"user_id":1033686,"accept_rate":97,"display_name":"Matthew Layton"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":103,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1685102212,"creation_date":1685093659,"question_id":76339505,"body_markdown":"To give some context to the problem I&#39;m trying to solve, I have two separate projects...\r\n\r\nThe first contains a set of APIs which are mostly defined via interfaces and contains very little implementation. This should be considered something that is consumable as a dependency; for example:\r\n\r\n**project-api**\r\n```java\r\npackage com.newco.api.users;\r\n\r\npublic interface UserService {\r\n    void createUser(User user);\r\n    User getUserById(UUID id);\r\n}\r\n```\r\n```java\r\npackage com.newco.api.accounts;\r\n\r\npublic interface AccountService {\r\n    void createUserAccount(User user, Account account);\r\n    Account getAccountByUser(User user);\r\n}\r\n```\r\n\r\nUsers may consume these interfaces as part of the API. Note the relationship between users and accounts.\r\n\r\nThe second project contains the implementation of the APIs. These are not consumable and should never be seen by a developer; for example:\r\n\r\n**project-implementation**\r\n\r\n```java\r\npackage com.newco.impl.users;\r\n\r\nimport com.newco.api.users.UserService;\r\n\r\nfinal class UserServiceImpl implements UserService {\r\n\r\n    @Override\r\n    public void createUser(User user) { ... }\r\n\r\n    @Override\r\n    public User getUserById(UUID id) { ... }\r\n}\r\n```\r\n\r\n```java\r\npackage com.newco.impl.accounts;\r\n\r\nimport com.newco.api.users.UserService;\r\nimport com.newco.api.accounts.AccountService;\r\n// This is problematic (see below)...\r\nimport com.newco.impl.users.UserSeviceImpl;\r\n\r\nfinal class AccountServiceImpl implements AccountService {\r\n\r\n    // This is problematic (see below)...\r\n    private final UserService userService = new UserServiceImpl();\r\n\r\n    @Override\r\n    public void createUserAccount(User user, Account account) { ... }\r\n\r\n    @Override\r\n    public Account getAccountByUser(User user) { ... }\r\n}\r\n```\r\n\r\nPutting aside the obvious violation of the Dependency Inversion Principle, as it really isn&#39;t important for the sake of this question, the problem is that I can&#39;t access `UserServiceImpl` from `AccountServiceImpl` because it&#39;s **package-private** - I can&#39;t even import it.\r\n\r\nIn contrast, if I were to implement this with Kotlin, the problem goes away entirely; for example:\r\n\r\n**project-implementation-kotlin**\r\n\r\n```kotlin\r\npackage com.newco.impl.users\r\n\r\nimport com.newco.api.users.UserService\r\n\r\ninternal class UserServiceImpl : UserService {\r\n\r\n    fun createUser(user: User) { ... }\r\n\r\n    fun getUserById(id: UUID): User { ... }\r\n}\r\n```\r\n\r\n```kotlin\r\npackage com.newco.impl.accounts\r\n\r\nimport com.newco.api.users.UserService\r\nimport com.newco.api.accounts.AccountService\r\nimport com.newco.impl.users.UserSeviceImpl\r\n\r\ninternal class AccountServiceImpl implements AccountService {\r\n\r\n    private val userService = UserServiceImpl()\r\n\r\n    fun createUserAccount(user: User, account: Account) { ... }\r\n\r\n    fun getAccountByUser(user: User): Account { ... }\r\n}\r\n```\r\n\r\nMy expectation was that Java&#39;s **package-private** accessibility works the same way as Kotlin&#39;s `internal` modifier, but it seems they are subtly different.\r\n\r\nCurrently, it seems that if I want to implement these interfaces with Java, I have two choices:\r\n\r\n1. I make the classes public, and therefore accessible, but am able to organise the classes into separate packages.\r\n\r\n2. I can make the classes package-private, and therefore inaccessible, but am not able to organise them into separate packages.\r\n\r\nNeither of these choices are ideal. I would rather keep the implementations inaccessible, and organised.\r\n\r\nHow does `internal` differ from package-private, and is there a way to achieve the equivalent of `internal` in Java? Do Java 9 modules solve this problem in any way?\r\n\r\nNote: I&#39;m targeting Java 11","title":"Why is Kotlin&#39;s internal accessibility different to Java&#39;s package-private accessibility?","body":"<p>To give some context to the problem I'm trying to solve, I have two separate projects...</p>\n<p>The first contains a set of APIs which are mostly defined via interfaces and contains very little implementation. This should be considered something that is consumable as a dependency; for example:</p>\n<p><strong>project-api</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.newco.api.users;\n\npublic interface UserService {\n    void createUser(User user);\n    User getUserById(UUID id);\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>package com.newco.api.accounts;\n\npublic interface AccountService {\n    void createUserAccount(User user, Account account);\n    Account getAccountByUser(User user);\n}\n</code></pre>\n<p>Users may consume these interfaces as part of the API. Note the relationship between users and accounts.</p>\n<p>The second project contains the implementation of the APIs. These are not consumable and should never be seen by a developer; for example:</p>\n<p><strong>project-implementation</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.newco.impl.users;\n\nimport com.newco.api.users.UserService;\n\nfinal class UserServiceImpl implements UserService {\n\n    @Override\n    public void createUser(User user) { ... }\n\n    @Override\n    public User getUserById(UUID id) { ... }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>package com.newco.impl.accounts;\n\nimport com.newco.api.users.UserService;\nimport com.newco.api.accounts.AccountService;\n// This is problematic (see below)...\nimport com.newco.impl.users.UserSeviceImpl;\n\nfinal class AccountServiceImpl implements AccountService {\n\n    // This is problematic (see below)...\n    private final UserService userService = new UserServiceImpl();\n\n    @Override\n    public void createUserAccount(User user, Account account) { ... }\n\n    @Override\n    public Account getAccountByUser(User user) { ... }\n}\n</code></pre>\n<p>Putting aside the obvious violation of the Dependency Inversion Principle, as it really isn't important for the sake of this question, the problem is that I can't access <code>UserServiceImpl</code> from <code>AccountServiceImpl</code> because it's <strong>package-private</strong> - I can't even import it.</p>\n<p>In contrast, if I were to implement this with Kotlin, the problem goes away entirely; for example:</p>\n<p><strong>project-implementation-kotlin</strong></p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>package com.newco.impl.users\n\nimport com.newco.api.users.UserService\n\ninternal class UserServiceImpl : UserService {\n\n    fun createUser(user: User) { ... }\n\n    fun getUserById(id: UUID): User { ... }\n}\n</code></pre>\n<pre class=\"lang-kotlin prettyprint-override\"><code>package com.newco.impl.accounts\n\nimport com.newco.api.users.UserService\nimport com.newco.api.accounts.AccountService\nimport com.newco.impl.users.UserSeviceImpl\n\ninternal class AccountServiceImpl implements AccountService {\n\n    private val userService = UserServiceImpl()\n\n    fun createUserAccount(user: User, account: Account) { ... }\n\n    fun getAccountByUser(user: User): Account { ... }\n}\n</code></pre>\n<p>My expectation was that Java's <strong>package-private</strong> accessibility works the same way as Kotlin's <code>internal</code> modifier, but it seems they are subtly different.</p>\n<p>Currently, it seems that if I want to implement these interfaces with Java, I have two choices:</p>\n<ol>\n<li><p>I make the classes public, and therefore accessible, but am able to organise the classes into separate packages.</p>\n</li>\n<li><p>I can make the classes package-private, and therefore inaccessible, but am not able to organise them into separate packages.</p>\n</li>\n</ol>\n<p>Neither of these choices are ideal. I would rather keep the implementations inaccessible, and organised.</p>\n<p>How does <code>internal</code> differ from package-private, and is there a way to achieve the equivalent of <code>internal</code> in Java? Do Java 9 modules solve this problem in any way?</p>\n<p>Note: I'm targeting Java 11</p>\n"},{"tags":["java","postgresql","jpa","sequence"],"comments":[{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":1,"creation_date":1685106849,"post_id":76339903,"comment_id":134619201,"body_markdown":"Sequencing is fetched by your JPA provider and then used for the insert, so to figure out what is going on, you&#39;d have to debug what values it is getting from the sequence and clues on the inserts to see why it might be reusing a value (if the sequence isn&#39;t returning the same value twice, which should occur). Turn on as much logging as you can and see if you can set up a situation that reliably reproduces it.","body":"Sequencing is fetched by your JPA provider and then used for the insert, so to figure out what is going on, you&#39;d have to debug what values it is getting from the sequence and clues on the inserts to see why it might be reusing a value (if the sequence isn&#39;t returning the same value twice, which should occur). Turn on as much logging as you can and see if you can set up a situation that reliably reproduces it."}],"owner":{"account_id":3779737,"reputation":572,"user_id":3139567,"display_name":"Goikiu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":142,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685101743,"creation_date":1685096654,"question_id":76339903,"body_markdown":"i&#39;m stuck on an issue and haven&#39;t been able to find a viable solution for that.\r\n\r\nWe have an application where two JPA entity are using the same sequence to generate ids (it&#39;s wanted)\r\n\r\n    -- Father class\r\n    @Id\r\n    @SequenceGenerator(name = &quot;gen1&quot;, sequenceName = &quot;sx_seq&quot;, allocationSize = 1)\r\n    @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;gen1&quot;)\r\n    @Column(name = &quot;id&quot;, unique = true)\r\n    private Long id;\r\n\r\nwith two child (both of them extend the father with a couple differences).\r\n\r\nFrom time to time the database it&#39;s throwing a duplicated primary key on one of them (not the other one), in an environment where we have three istances of this application.\r\n\r\nWe have another application that instead works (with also three nodes) but the difference it&#39;s that both entity a and entity b are not extending a father class, can be this the solution in this case?\r\n\r\nI would also like to add the on the configuration of jpa we have:\r\n\r\n    spring.jpa.open-in-view = false","title":"Spring JPA with postgre Sequence Duplicate Value on Primary Key on multiple nodes of the application","body":"<p>i'm stuck on an issue and haven't been able to find a viable solution for that.</p>\n<p>We have an application where two JPA entity are using the same sequence to generate ids (it's wanted)</p>\n<pre><code>-- Father class\n@Id\n@SequenceGenerator(name = &quot;gen1&quot;, sequenceName = &quot;sx_seq&quot;, allocationSize = 1)\n@GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;gen1&quot;)\n@Column(name = &quot;id&quot;, unique = true)\nprivate Long id;\n</code></pre>\n<p>with two child (both of them extend the father with a couple differences).</p>\n<p>From time to time the database it's throwing a duplicated primary key on one of them (not the other one), in an environment where we have three istances of this application.</p>\n<p>We have another application that instead works (with also three nodes) but the difference it's that both entity a and entity b are not extending a father class, can be this the solution in this case?</p>\n<p>I would also like to add the on the configuration of jpa we have:</p>\n<pre><code>spring.jpa.open-in-view = false\n</code></pre>\n"},{"tags":["java","basic-authentication","http-proxy","squid","jira-rest-java-api"],"owner":{"account_id":10150295,"reputation":1257,"user_id":7497127,"accept_rate":67,"display_name":"JAMSHAID"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":92,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685101675,"creation_date":1685074732,"question_id":76337638,"body_markdown":"I  have configured basic authentication on my Ubuntu virtual machine running remotely. I have the following curl command that works fine when I run it in the terminal:\r\n\r\n    curl -v -x http://username:password@10.0.114.4:3128 https://www.google.com/\r\n\r\nIf I remove the authentication from it, it responds with an authentication error. When I write Java code for the same purpose, it does not go well and it always returns the following error:\r\n\r\n    Exception in thread &quot;main&quot; java.io.IOException: Failed to authenticate with proxy\r\n        at okhttp3.internal.connection.RealConnection.createTunnel(RealConnection.java:320)\r\n        at okhttp3.internal.connection.RealConnection.buildTunneledConnection(RealConnection.java:155)\r\n        at okhttp3.internal.connection.RealConnection.connect(RealConnection.java:111)\r\n        at okhttp3.internal.connection.StreamAllocation.findConnection(StreamAllocation.java:193)\r\n        at okhttp3.internal.connection.StreamAllocation.findHealthyConnection(StreamAllocation.java:129)\r\n        at okhttp3.internal.connection.StreamAllocation.newStream(StreamAllocation.java:98)\r\n        at okhttp3.internal.connection.ConnectInterceptor.intercept(ConnectInterceptor.java:42)\r\n        at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:92)\r\n        at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:67)\r\n        at okhttp3.internal.cache.CacheInterceptor.intercept(CacheInterceptor.java:109)\r\n        at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:92)\r\n        at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:67)\r\n        at okhttp3.internal.http.BridgeInterceptor.intercept(BridgeInterceptor.java:93)\r\n        at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:92)\r\n        at okhttp3.internal.http.RetryAndFollowUpInterceptor.intercept(RetryAndFollowUpInterceptor.java:124)\r\n        at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:92)\r\n        at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:67)\r\n        at okhttp3.RealCall.getResponseWithInterceptorChain(RealCall.java:170)\r\n        at okhttp3.RealCall.execute(RealCall.java:60)\r\n        at SendEmailClass.getIssueDetails(SendEmailClass.java:239)\r\n        at SendEmailClass.searchIssuesAndSendEmail(SendEmailClass.java:63)\r\n        at SendEmailClass.main(SendEmailClass.java:59)\r\n     \r\n\r\nHere is my Java code that makes a call to the proxy and then to the other required server:\r\n\r\n        private static Issues[] getIssueDetails(String jql) throws IOException {\r\n            String url = SERVER_URL + &quot;rest/api/3/search?jql=&quot; + jql;\r\n            System.out.println(url);\r\n    \r\n            BasicCredentialsProvider credentialsProvider = new BasicCredentialsProvider();\r\n            credentialsProvider.setCredentials(\r\n                    new AuthScope(proxyHost, proxyPort),\r\n                    new UsernamePasswordCredentials(proxyUsername, proxyPassword));\r\n    \r\n            CloseableHttpClient httpClient = HttpClients.custom()\r\n                    .setDefaultCredentialsProvider(credentialsProvider)\r\n                    .build();\r\n    \r\n            System.out.println(&quot;Proxy provided details are as follows| Username: &quot; + proxyUsername + &quot; Password: &quot; + proxyPassword + &quot; Port: &quot; + proxyPort + &quot; Address: &quot; + proxyHost);\r\n    \r\n            HttpGet httpGet = new HttpGet(url);\r\n            httpGet.addHeader(&quot;Content-Type&quot;, &quot;application/json&quot;);\r\n            String authHeader = getAuthHeader();\r\n            httpGet.setHeader(&quot;Authorization&quot;, authHeader);\r\n    \r\n            CloseableHttpResponse response = httpClient.execute(httpGet);\r\n            int response_code = response.getStatusLine().getStatusCode();\r\n            try {\r\n                if (response_code != 400) {\r\n                    HttpEntity entity = response.getEntity();\r\n                    String responseBody = EntityUtils.toString(entity);\r\n                    Gson gson = new Gson();\r\n                    CloudIssueDetailResponse cloudIssueDetailResponse = gson.fromJson(responseBody, CloudIssueDetailResponse.class);\r\n                    return cloudIssueDetailResponse.getIssues();\r\n                } else {\r\n                    System.err.println(&quot;Authentication failed using the following credentials: Email: &quot; + EMAIL + &quot; API Key: &quot; + API_KEY);\r\n                }\r\n            } finally {\r\n                response.close();\r\n            }\r\n    \r\n            return null;\r\n        } \r\n\r\nWhat might be causing the issue? I can confirm that the proxy and the 2nd server details are correct in the code. ","title":"Basic authentication to squid proxy is not working using java","body":"<p>I  have configured basic authentication on my Ubuntu virtual machine running remotely. I have the following curl command that works fine when I run it in the terminal:</p>\n<pre><code>curl -v -x http://username:password@10.0.114.4:3128 https://www.google.com/\n</code></pre>\n<p>If I remove the authentication from it, it responds with an authentication error. When I write Java code for the same purpose, it does not go well and it always returns the following error:</p>\n<pre><code>Exception in thread &quot;main&quot; java.io.IOException: Failed to authenticate with proxy\n    at okhttp3.internal.connection.RealConnection.createTunnel(RealConnection.java:320)\n    at okhttp3.internal.connection.RealConnection.buildTunneledConnection(RealConnection.java:155)\n    at okhttp3.internal.connection.RealConnection.connect(RealConnection.java:111)\n    at okhttp3.internal.connection.StreamAllocation.findConnection(StreamAllocation.java:193)\n    at okhttp3.internal.connection.StreamAllocation.findHealthyConnection(StreamAllocation.java:129)\n    at okhttp3.internal.connection.StreamAllocation.newStream(StreamAllocation.java:98)\n    at okhttp3.internal.connection.ConnectInterceptor.intercept(ConnectInterceptor.java:42)\n    at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:92)\n    at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:67)\n    at okhttp3.internal.cache.CacheInterceptor.intercept(CacheInterceptor.java:109)\n    at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:92)\n    at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:67)\n    at okhttp3.internal.http.BridgeInterceptor.intercept(BridgeInterceptor.java:93)\n    at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:92)\n    at okhttp3.internal.http.RetryAndFollowUpInterceptor.intercept(RetryAndFollowUpInterceptor.java:124)\n    at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:92)\n    at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:67)\n    at okhttp3.RealCall.getResponseWithInterceptorChain(RealCall.java:170)\n    at okhttp3.RealCall.execute(RealCall.java:60)\n    at SendEmailClass.getIssueDetails(SendEmailClass.java:239)\n    at SendEmailClass.searchIssuesAndSendEmail(SendEmailClass.java:63)\n    at SendEmailClass.main(SendEmailClass.java:59)\n \n</code></pre>\n<p>Here is my Java code that makes a call to the proxy and then to the other required server:</p>\n<pre><code>    private static Issues[] getIssueDetails(String jql) throws IOException {\n        String url = SERVER_URL + &quot;rest/api/3/search?jql=&quot; + jql;\n        System.out.println(url);\n\n        BasicCredentialsProvider credentialsProvider = new BasicCredentialsProvider();\n        credentialsProvider.setCredentials(\n                new AuthScope(proxyHost, proxyPort),\n                new UsernamePasswordCredentials(proxyUsername, proxyPassword));\n\n        CloseableHttpClient httpClient = HttpClients.custom()\n                .setDefaultCredentialsProvider(credentialsProvider)\n                .build();\n\n        System.out.println(&quot;Proxy provided details are as follows| Username: &quot; + proxyUsername + &quot; Password: &quot; + proxyPassword + &quot; Port: &quot; + proxyPort + &quot; Address: &quot; + proxyHost);\n\n        HttpGet httpGet = new HttpGet(url);\n        httpGet.addHeader(&quot;Content-Type&quot;, &quot;application/json&quot;);\n        String authHeader = getAuthHeader();\n        httpGet.setHeader(&quot;Authorization&quot;, authHeader);\n\n        CloseableHttpResponse response = httpClient.execute(httpGet);\n        int response_code = response.getStatusLine().getStatusCode();\n        try {\n            if (response_code != 400) {\n                HttpEntity entity = response.getEntity();\n                String responseBody = EntityUtils.toString(entity);\n                Gson gson = new Gson();\n                CloudIssueDetailResponse cloudIssueDetailResponse = gson.fromJson(responseBody, CloudIssueDetailResponse.class);\n                return cloudIssueDetailResponse.getIssues();\n            } else {\n                System.err.println(&quot;Authentication failed using the following credentials: Email: &quot; + EMAIL + &quot; API Key: &quot; + API_KEY);\n            }\n        } finally {\n            response.close();\n        }\n\n        return null;\n    } \n</code></pre>\n<p>What might be causing the issue? I can confirm that the proxy and the 2nd server details are correct in the code.</p>\n"},{"tags":["java","ieee-754"],"comments":[{"owner":{"account_id":24059439,"reputation":282,"user_id":18036868,"display_name":"HUTUTU"},"score":1,"creation_date":1644390412,"post_id":71044744,"comment_id":125591016,"body_markdown":"The float has a precision of only six to seven digits. There is no point in pursuing an absolutely accurate float. Do you have any special needs that you have to do?","body":"The float has a precision of only six to seven digits. There is no point in pursuing an absolutely accurate float. Do you have any special needs that you have to do?"},{"owner":{"account_id":3466102,"reputation":330,"user_id":2901590,"display_name":"Chen Li"},"score":0,"creation_date":1644392314,"post_id":71044744,"comment_id":125591570,"body_markdown":"No special needs, just to verify my understanding about the concept.","body":"No special needs, just to verify my understanding about the concept."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1644392480,"post_id":71044744,"comment_id":125591613,"body_markdown":"Yes, that `double` has a value of 0.1000000000000000055511151231257827021181583404541015625.","body":"Yes, that <code>double</code> has a value of 0.1000000000000000055511151231257827021181583404541015625."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1644392929,"post_id":71044744,"comment_id":125591752,"body_markdown":"There are some similar bugs, see the list under https://bugs.java.com/bugdatabase/view_bug.do?bug_id=7131459. I didn’t readily find this particular one.","body":"There are some similar bugs, see the list under <a href=\"https://bugs.java.com/bugdatabase/view_bug.do?bug_id=7131459\" rel=\"nofollow noreferrer\">bugs.java.com/bugdatabase/view_bug.do?bug_id=7131459</a>. I didn’t readily find this particular one."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1644393661,"post_id":71044744,"comment_id":125591979,"body_markdown":"I tend to think of it as a bug, though. [The docs](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Formatter.html#syntax) say: *The result is a string that represents the sign and magnitude (absolute value) of the argument.* If I use `%57.55f`, it should exactly fit the precise value of `0.1000000000000000055511151231257827021181583404541015625`, but I get `0.1000000000000000000000000000000000000000000000000000000`.","body":"I tend to think of it as a bug, though. <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Formatter.html#syntax\" rel=\"nofollow noreferrer\">The docs</a> say: <i>The result is a string that represents the sign and magnitude (absolute value) of the argument.</i> If I use <code>%57.55f</code>, it should exactly fit the precise value of <code>0.1000000000000000055511151231257827021181583404541015625</code>, but I get <code>0.1000000000000000000000000000000000000000000000000000000</code>."},{"owner":{"account_id":3466102,"reputation":330,"user_id":2901590,"display_name":"Chen Li"},"score":0,"creation_date":1644407423,"post_id":71044744,"comment_id":125597335,"body_markdown":"Question remains: I expect double value 0.1d to be printed something like 1.000000000000000055511151231260. Why it print all zeros in fraction part?","body":"Question remains: I expect double value 0.1d to be printed something like 1.000000000000000055511151231260. Why it print all zeros in fraction part?"},{"owner":{"account_id":113187,"reputation":201052,"user_id":298225,"accept_rate":100,"display_name":"Eric Postpischil"},"score":1,"creation_date":1644410062,"post_id":71044744,"comment_id":125598363,"body_markdown":"@HUTUTU: [`float` does not have “a precision of only six to seven digits.”](https://stackoverflow.com/questions/61609276/how-to-calculate-float-type-precision-and-does-it-make-sense/61614323#61614323) The behavior of IEEE-754 binary32 and binary64 arithmetic is well specified, and we can expect specific results from it. Those results generally differ from real-number arithmetic but nonetheless can be used productively when the arithmetic is understood and properly implemented.","body":"@HUTUTU: <a href=\"https://stackoverflow.com/questions/61609276/how-to-calculate-float-type-precision-and-does-it-make-sense/61614323#61614323\"><code>float</code> does not have “a precision of only six to seven digits.”</a> The behavior of IEEE-754 binary32 and binary64 arithmetic is well specified, and we can expect specific results from it. Those results generally differ from real-number arithmetic but nonetheless can be used productively when the arithmetic is understood and properly implemented."},{"owner":{"account_id":231683,"reputation":4218,"user_id":496038,"display_name":"pringi"},"score":0,"creation_date":1646057320,"post_id":71044744,"comment_id":126023497,"body_markdown":"Does this answer your question? [float data type precision in Java](https://stackoverflow.com/questions/55108735/float-data-type-precision-in-java)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/55108735/float-data-type-precision-in-java\">float data type precision in Java</a>"}],"answers":[{"comments":[{"owner":{"account_id":3466102,"reputation":330,"user_id":2901590,"display_name":"Chen Li"},"score":0,"creation_date":1644407232,"post_id":71048304,"comment_id":125597269,"body_markdown":"Thanks for you post. This explains how Java concatenate double to string. Another question remains:  I expect double value 0.1d to be printed something like 1.000000000000000055511151231260. Why it print all zeros in fraction part?","body":"Thanks for you post. This explains how Java concatenate double to string. Another question remains:  I expect double value 0.1d to be printed something like 1.000000000000000055511151231260. Why it print all zeros in fraction part?"}],"tags":[],"owner":{"account_id":231683,"reputation":4218,"user_id":496038,"display_name":"pringi"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644404132,"creation_date":1644404132,"answer_id":71048304,"question_id":71044744,"body_markdown":"If you see java ource code, you observe that \r\n\r\n    System.out.println(d+&quot;&quot;);\r\n\r\nWill use something like this:\r\n\r\n    Double.toString(d)\r\n\r\nthat in turn will call \r\n\r\n    FloatingDecimal.toJavaFormatString(d)\r\n\r\n\r\n\r\n`String.format` uses other mechanism. That is why you see this behaviour.\r\n\r\nReferences: \r\n- https://www.thoughtco.com/concatenation-2034055\r\n- Java source code\r\n\r\n\r\n","title":"why String.format 0.1d double value as exact 0.1 in java?","body":"<p>If you see java ource code, you observe that</p>\n<pre><code>System.out.println(d+&quot;&quot;);\n</code></pre>\n<p>Will use something like this:</p>\n<pre><code>Double.toString(d)\n</code></pre>\n<p>that in turn will call</p>\n<pre><code>FloatingDecimal.toJavaFormatString(d)\n</code></pre>\n<p><code>String.format</code> uses other mechanism. That is why you see this behaviour.</p>\n<p>References:</p>\n<ul>\n<li><a href=\"https://www.thoughtco.com/concatenation-2034055\" rel=\"nofollow noreferrer\">https://www.thoughtco.com/concatenation-2034055</a></li>\n<li>Java source code</li>\n</ul>\n"},{"comments":[{"owner":{"account_id":3421244,"reputation":35883,"user_id":2868801,"display_name":"dave_thompson_085"},"score":1,"creation_date":1644413581,"post_id":71049995,"comment_id":125599813,"body_markdown":"In contrast the [`BigDecimal(double)` ctor](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/math/BigDecimal.html#%3Cinit%3E(double)) **_does_ provide the exact value** (of the binary approximation) -- and is described as &#39;unpredictable&#39; (which isn&#39;t really true, but &#39;surprising to many&#39; is).","body":"In contrast the <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/math/BigDecimal.html#%3Cinit%3E(double)\" rel=\"nofollow noreferrer\"><code>BigDecimal(double)</code> ctor</a> <b><i>does</i> provide the exact value</b> (of the binary approximation) -- and is described as &#39;unpredictable&#39; (which isn&#39;t really true, but &#39;surprising to many&#39; is)."},{"owner":{"account_id":3466102,"reputation":330,"user_id":2901590,"display_name":"Chen Li"},"score":0,"creation_date":1644415303,"post_id":71049995,"comment_id":125600606,"body_markdown":"Thanks for your explain, accurate answer.  The Float.toString specification aligns to intuition but is an illusion that double can represent the exact math value in case of 0.1d.   I&#39;m curious what tool you use to get the exact values of 0.1d and neighbor values.","body":"Thanks for your explain, accurate answer.  The Float.toString specification aligns to intuition but is an illusion that double can represent the exact math value in case of 0.1d.   I&#39;m curious what tool you use to get the exact values of 0.1d and neighbor values."},{"owner":{"account_id":113187,"reputation":201052,"user_id":298225,"accept_rate":100,"display_name":"Eric Postpischil"},"score":0,"creation_date":1644435216,"post_id":71049995,"comment_id":125608924,"body_markdown":"@ChenLi: I use Apple’s standard library on macOS, with C programs. For decimal-to-binary and binary-to-decimal conversions in `printf` and such, it provides correct rounding for any number of digits. When I need to go beyond what `double` arithmetic provides easily, I use an old version of Maple I have or Wolfram Alpha on the web, but those were not needed in this case.","body":"@ChenLi: I use Apple’s standard library on macOS, with C programs. For decimal-to-binary and binary-to-decimal conversions in <code>printf</code> and such, it provides correct rounding for any number of digits. When I need to go beyond what <code>double</code> arithmetic provides easily, I use an old version of Maple I have or Wolfram Alpha on the web, but those were not needed in this case."}],"tags":[],"owner":{"account_id":113187,"reputation":201052,"user_id":298225,"accept_rate":100,"display_name":"Eric Postpischil"},"comment_count":3,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1685101628,"creation_date":1644411263,"answer_id":71049995,"question_id":71044744,"body_markdown":"The Java specification requires this imperfect display of values. The `f` format produces only as many significant digits as the `Double.toString(double)` method would produce and then mindlessy appends zeros to get to the requested precision.\r\n\r\nPer [the documentation](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Formatter.html#syntax), for the `f` format, if the precision exceeds the number of digits after the decimal point that `Double.toString(double)` would produce, then “zeros may be appended to reach the precision.” This does not state what those zeros are appended to. Presumably, they are appended to the string that `Double.toString(double)` would produce.\r\n\r\n[The documentation for `Double.toString(double)`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Double.html#toString(double)) says it produces “as many, but only as many, more digits as are needed to uniquely distinguish the argument value from adjacent values of type `double`.” I discuss that further [here](https://stackoverflow.com/questions/54869876/displayed-precision-of-java-floating-point/54871593#54871593). For 0.1000000000000000055511151231257827021181583404541015625, `Double.toString(double)` produces “0.1”. (The neighboring values, 0.09999999999999999167332731531132594682276248931884765625 and\r\n0.10000000000000001942890293094023945741355419158935546875, are both further from .1 than 0.1000000000000000055511151231257827021181583404541015625 is, and they are formatted as “0.09999999999999999” and “0.10000000000000002”, so “0.1” serves to uniquely distinguish 0.1000000000000000055511151231257827021181583404541015625 from its neighbors.)\r\n\r\nThus, `System.out.println(String.format(&quot;double 0.1= %.30f&quot;, d))` starts with the “0.1” from `Double.toString(double)` and appends 29 zeroes.\r\n\r\nSimilarly, if you change `d` to 0.09999999999999999167332731531132594682276248931884765625, `String.format` produces “0.099999999999999990000000000000”—it has taken the `toString` result and appended zeros. And for 0.10000000000000001942890293094023945741355419158935546875 it produces “0.100000000000000020000000000000”.\r\n\r\nThis conforms to the specification. The specified behavior is incapable of presenting the true value correctly, so I regard the specification as defective.\r\n\r\nIncidentally, the Java specification is troublesome whether the requested precision is greater than or less than the number of digits that `Double.toString(double)` would produce. In the case when the request permission is less, [the Java specification requires a double rounding](https://stackoverflow.com/questions/57778637/why-do-c-and-java-round-floats-differently/57779767#57779767) that can increase errors.","title":"why String.format 0.1d double value as exact 0.1 in java?","body":"<p>The Java specification requires this imperfect display of values. The <code>f</code> format produces only as many significant digits as the <code>Double.toString(double)</code> method would produce and then mindlessy appends zeros to get to the requested precision.</p>\n<p>Per <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Formatter.html#syntax\" rel=\"nofollow noreferrer\">the documentation</a>, for the <code>f</code> format, if the precision exceeds the number of digits after the decimal point that <code>Double.toString(double)</code> would produce, then “zeros may be appended to reach the precision.” This does not state what those zeros are appended to. Presumably, they are appended to the string that <code>Double.toString(double)</code> would produce.</p>\n<p><a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Double.html#toString(double)\" rel=\"nofollow noreferrer\">The documentation for <code>Double.toString(double)</code></a> says it produces “as many, but only as many, more digits as are needed to uniquely distinguish the argument value from adjacent values of type <code>double</code>.” I discuss that further <a href=\"https://stackoverflow.com/questions/54869876/displayed-precision-of-java-floating-point/54871593#54871593\">here</a>. For 0.1000000000000000055511151231257827021181583404541015625, <code>Double.toString(double)</code> produces “0.1”. (The neighboring values, 0.09999999999999999167332731531132594682276248931884765625 and\n0.10000000000000001942890293094023945741355419158935546875, are both further from .1 than 0.1000000000000000055511151231257827021181583404541015625 is, and they are formatted as “0.09999999999999999” and “0.10000000000000002”, so “0.1” serves to uniquely distinguish 0.1000000000000000055511151231257827021181583404541015625 from its neighbors.)</p>\n<p>Thus, <code>System.out.println(String.format(&quot;double 0.1= %.30f&quot;, d))</code> starts with the “0.1” from <code>Double.toString(double)</code> and appends 29 zeroes.</p>\n<p>Similarly, if you change <code>d</code> to 0.09999999999999999167332731531132594682276248931884765625, <code>String.format</code> produces “0.099999999999999990000000000000”—it has taken the <code>toString</code> result and appended zeros. And for 0.10000000000000001942890293094023945741355419158935546875 it produces “0.100000000000000020000000000000”.</p>\n<p>This conforms to the specification. The specified behavior is incapable of presenting the true value correctly, so I regard the specification as defective.</p>\n<p>Incidentally, the Java specification is troublesome whether the requested precision is greater than or less than the number of digits that <code>Double.toString(double)</code> would produce. In the case when the request permission is less, <a href=\"https://stackoverflow.com/questions/57778637/why-do-c-and-java-round-floats-differently/57779767#57779767\">the Java specification requires a double rounding</a> that can increase errors.</p>\n"}],"owner":{"account_id":3466102,"reputation":330,"user_id":2901590,"display_name":"Chen Li"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":667,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":71049995,"answer_count":2,"score":6,"last_activity_date":1685101628,"creation_date":1644386952,"question_id":71044744,"body_markdown":"[IEEE 754][1] float numbers are discret. \r\n\r\n```\r\npublic class MyTest2 {\r\n  public static void main(String[] args) {\r\n    //about 1.00000001490116119384765625E-1 in IEEE-754\r\n    float f = 0.1f;\r\n    //about 1.00000000000000005551115123126E-1 in IEEE-754\r\n    double d = 0.1d;\r\n    System.out.println(String.format(&quot;double 0.1= %.30f&quot;, d));\r\n    System.out.println(String.format(&quot;float 0.1 = %.15f&quot;, f));\r\n    System.out.println(d+&quot;&quot;);\r\n  }\r\n}\r\n```\r\n\r\nSee this [code run live at IdeOne.com][2]. Running in JDK8, output is\r\n\r\n```\r\ndouble 0.1= 0.100000000000000000000000000000\r\nfloat 0.1 = 0.100000001490116\r\n0.1\r\n```\r\nThe float value is printed as expected.\r\nI expect double value 0.1d to be printed something like 1.000000000000000055511151231260. **Why it print \r\nall zeros in fraction part**?\r\n\r\nIf I convert double variable d to string, it prints 0.1.\r\n```\r\nSystem.out.println(d+&quot;&quot;);\r\n```\r\nHow does java convet the neartest float value of 0.1d (which is stroed as about 1.00000001490116119384765625E-1) to exact 0.1?\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/IEEE_754\r\n  [2]: https://ideone.com/0edEZq","title":"why String.format 0.1d double value as exact 0.1 in java?","body":"<p><a href=\"https://en.wikipedia.org/wiki/IEEE_754\" rel=\"nofollow noreferrer\">IEEE 754</a> float numbers are discret.</p>\n<pre><code>public class MyTest2 {\n  public static void main(String[] args) {\n    //about 1.00000001490116119384765625E-1 in IEEE-754\n    float f = 0.1f;\n    //about 1.00000000000000005551115123126E-1 in IEEE-754\n    double d = 0.1d;\n    System.out.println(String.format(&quot;double 0.1= %.30f&quot;, d));\n    System.out.println(String.format(&quot;float 0.1 = %.15f&quot;, f));\n    System.out.println(d+&quot;&quot;);\n  }\n}\n</code></pre>\n<p>See this <a href=\"https://ideone.com/0edEZq\" rel=\"nofollow noreferrer\">code run live at IdeOne.com</a>. Running in JDK8, output is</p>\n<pre><code>double 0.1= 0.100000000000000000000000000000\nfloat 0.1 = 0.100000001490116\n0.1\n</code></pre>\n<p>The float value is printed as expected.\nI expect double value 0.1d to be printed something like 1.000000000000000055511151231260. <strong>Why it print\nall zeros in fraction part</strong>?</p>\n<p>If I convert double variable d to string, it prints 0.1.</p>\n<pre><code>System.out.println(d+&quot;&quot;);\n</code></pre>\n<p>How does java convet the neartest float value of 0.1d (which is stroed as about 1.00000001490116119384765625E-1) to exact 0.1?</p>\n"},{"tags":["java","maven","cucumber"],"comments":[{"owner":{"account_id":11380920,"reputation":8254,"user_id":8343843,"display_name":"Alexey R."},"score":0,"creation_date":1685102709,"post_id":76340493,"comment_id":134618266,"body_markdown":"It would be helpful if you provide some representative code snippets","body":"It would be helpful if you provide some representative code snippets"}],"owner":{"account_id":16155196,"reputation":1,"user_id":11662548,"display_name":"Ekansh Jain"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685101497,"creation_date":1685101497,"question_id":76340493,"body_markdown":"I&#39;m using a hybrid framework with cucumber, java, testNG and Maven.\r\nI want to run a piece of code after getting result of each scenario(PASSED/FAIL). I have added the code in @AfterMethod and it working fine for TestNG but not for Maven because maven is not invoking afterMethod.\r\n\r\nThen I tried using @After hook by cucumber. But it runs the code before getting actual scenario result.\r\nI have also used (alwaysRun=true) but still not working for me\r\nCan someone guide what can be done in this case.","title":"Cucumber and Maven configuration","body":"<p>I'm using a hybrid framework with cucumber, java, testNG and Maven.\nI want to run a piece of code after getting result of each scenario(PASSED/FAIL). I have added the code in @AfterMethod and it working fine for TestNG but not for Maven because maven is not invoking afterMethod.</p>\n<p>Then I tried using @After hook by cucumber. But it runs the code before getting actual scenario result.\nI have also used (alwaysRun=true) but still not working for me\nCan someone guide what can be done in this case.</p>\n"},{"tags":["java","spring","spring-boot","spring-boot-actuator"],"comments":[{"owner":{"account_id":18669557,"reputation":640,"user_id":13608717,"display_name":"Daniel"},"score":2,"creation_date":1613806976,"post_id":66289094,"comment_id":117194785,"body_markdown":"Please check next few points:\n1. if there is `management.server.port` configuration value in properties? It will change the port where actuator is accessible\n2. Logs of application upon call - to see if there are no errors\n3. On startup of application please check log line `Exposing 14 endpoint(s) beneath base path &#39;/actuator&#39;` - to double-check that such endpoints are actually exposed. Hope this helps to identify the root cause","body":"Please check next few points: 1. if there is <code>management.server.port</code> configuration value in properties? It will change the port where actuator is accessible 2. Logs of application upon call - to see if there are no errors 3. On startup of application please check log line <code>Exposing 14 endpoint(s) beneath base path &#39;&#47;actuator&#39;</code> - to double-check that such endpoints are actually exposed. Hope this helps to identify the root cause"},{"owner":{"account_id":6234997,"reputation":317,"user_id":4850588,"display_name":"developer-vivekjain"},"score":0,"creation_date":1613808383,"post_id":66289094,"comment_id":117195032,"body_markdown":"@Daniel Thanks for your prompt response, on startup I could not see Exposing 14 endpoint(s) beneath base path &#39;/actuator&#39;. I just edited the post and added logs as well.","body":"@Daniel Thanks for your prompt response, on startup I could not see Exposing 14 endpoint(s) beneath base path &#39;/actuator&#39;. I just edited the post and added logs as well."},{"owner":{"account_id":3699717,"reputation":961,"user_id":3079891,"display_name":"dextertron_"},"score":0,"creation_date":1613819112,"post_id":66289094,"comment_id":117197261,"body_markdown":"Can you see the actuator in external libraries? Maybe somehow it isn&#39;t added correctly @VivekJain","body":"Can you see the actuator in external libraries? Maybe somehow it isn&#39;t added correctly @VivekJain"},{"owner":{"account_id":6234997,"reputation":317,"user_id":4850588,"display_name":"developer-vivekjain"},"score":0,"creation_date":1613823776,"post_id":66289094,"comment_id":117198293,"body_markdown":"[dextertron](https://stackoverflow.com/users/3079891/dextertron) I verified , it&#39;s available in class path.","body":"<a href=\"https://stackoverflow.com/users/3079891/dextertron\">dextertron</a> I verified , it&#39;s available in class path."}],"answers":[{"tags":[],"owner":{"account_id":7508677,"reputation":104,"user_id":5704417,"display_name":"Saurabha"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1618774657,"creation_date":1618774657,"answer_id":67152685,"question_id":66289094,"body_markdown":"Spring Boot Actuators endpoints could not be picked-up if running within IDE(IntelliJ or Eclipse).\r\n\r\nI tried to run jar using below command(outside of IDE) on cmd and it worked for me.\r\n\r\n`c:\\workspace\\demo\\target\\java -jar demo-spring-boot-project.jar`\r\n\r\nAnd I was able to access below URL\r\n\r\nhttp://localhost:8090/actuator/health\r\n\r\n","title":"Spring Boot Actuator not working- Whitelabel Error Page","body":"<p>Spring Boot Actuators endpoints could not be picked-up if running within IDE(IntelliJ or Eclipse).</p>\n<p>I tried to run jar using below command(outside of IDE) on cmd and it worked for me.</p>\n<p><code>c:\\workspace\\demo\\target\\java -jar demo-spring-boot-project.jar</code></p>\n<p>And I was able to access below URL</p>\n<p>http://localhost:8090/actuator/health</p>\n"},{"tags":[],"owner":{"account_id":14242839,"reputation":111,"user_id":10288713,"display_name":"VcMr"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1631511149,"creation_date":1631454616,"answer_id":69152038,"question_id":66289094,"body_markdown":"Encountered this too while running the app through InteliJ IDEA. \r\nIt turns out I added the spring-boot-starter-actuator dependency but did not tell Maven to reload the project.\r\n\r\nRight clicking on the pom.xml file and selecting Maven-&gt;Reload project, solved it.\r\n\r\n*In this case I see the jar file exists in your classpath, so your problem is different than mine. \r\nLeaving this comment so it might help someone else.","title":"Spring Boot Actuator not working- Whitelabel Error Page","body":"<p>Encountered this too while running the app through InteliJ IDEA.\nIt turns out I added the spring-boot-starter-actuator dependency but did not tell Maven to reload the project.</p>\n<p>Right clicking on the pom.xml file and selecting Maven-&gt;Reload project, solved it.</p>\n<p>*In this case I see the jar file exists in your classpath, so your problem is different than mine.\nLeaving this comment so it might help someone else.</p>\n"},{"tags":[],"owner":{"account_id":17599496,"reputation":11,"user_id":12769778,"display_name":"Santosh Sharma"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1634562901,"creation_date":1634522524,"answer_id":69610031,"question_id":66289094,"body_markdown":"I have encountered the same issue while running the project through IntelliJ IDE.\r\nI resolved after doing `Invalidate Cache &amp; Restart` in IntelliJ IDE.\r\n\r\nGo to `File` -&gt; ``Invalidate Cache`.\r\n\r\nThe Invalidate cache dialog box appears. One can select accordingly to their project.","title":"Spring Boot Actuator not working- Whitelabel Error Page","body":"<p>I have encountered the same issue while running the project through IntelliJ IDE.\nI resolved after doing <code>Invalidate Cache &amp; Restart</code> in IntelliJ IDE.</p>\n<p>Go to <code>File</code> -&gt; ``Invalidate Cache`.</p>\n<p>The Invalidate cache dialog box appears. One can select accordingly to their project.</p>\n"},{"tags":[],"owner":{"account_id":28685508,"reputation":1,"user_id":21965876,"display_name":"ALeet Developer"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685101008,"creation_date":1685101008,"answer_id":76340433,"question_id":66289094,"body_markdown":"It requires a dependency for auto configuring Actuator.\r\nBelow is the dependency you need to add.\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-actuator-autoconfigure&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n ","title":"Spring Boot Actuator not working- Whitelabel Error Page","body":"<p>It requires a dependency for auto configuring Actuator.\nBelow is the dependency you need to add.</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-actuator-autoconfigure&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":6234997,"reputation":317,"user_id":4850588,"display_name":"developer-vivekjain"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4510,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":67152685,"answer_count":4,"score":5,"last_activity_date":1685101008,"creation_date":1613806205,"question_id":66289094,"body_markdown":"Spring Boot **Actuator** is not working for rest-full application, getting Whitelabel Error Page on browser and below error in console log.\r\n\r\n    org.springframework.web.servlet.NoHandlerFoundException: No handler found for GET /actuator/health\r\n\r\nAdded below maven dependency.\r\n\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\nI cross checked, jar file available in class path.[![enter image description here][1]][1]\r\n\r\nSpring boot application version \r\n\r\n    &lt;version&gt;2.4.1&lt;/version&gt;\r\n\r\nAdded properties in application.properties file\r\n\r\n    management.endpoints.enabled-by-default=true\r\n    management.endpoint.info.enabled=true\r\n    management.security.enabled=false\r\n    management.endpoints.web.exposure.include=*\r\n    spring.mvc.throw-exception-if-no-handler-found=true\r\n    \r\n\r\nUnable to access Actuator with below URL&#39;s\r\n\r\n    http://localhost:8090/actuator/health\r\n    http://localhost:8090/actuator/\r\n    http://localhost:8090/health/\r\n\r\nLogs\r\n\r\n    WARN IN-WKS-435 [nio-8090-exec-1] o.s.w.s.PageNotFound                     : No mapping for GET /actuator/health\r\n    WARN IN-WKS-435 [nio-8090-exec-1] o.s.w.s.PageNotFound                     : No handler found for GET /actuator/health\r\n    WARN IN-WKS-435 [nio-8090-exec-1] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.servlet.NoHandlerFoundException: No handler found for GET /actuator/health]\r\n\r\nNote: Apart from this, whole application is working fine.\r\n\r\nKindly suggest if I need to add any additional configuration in our application. \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/IHCDC.png","title":"Spring Boot Actuator not working- Whitelabel Error Page","body":"<p>Spring Boot <strong>Actuator</strong> is not working for rest-full application, getting Whitelabel Error Page on browser and below error in console log.</p>\n<pre><code>org.springframework.web.servlet.NoHandlerFoundException: No handler found for GET /actuator/health\n</code></pre>\n<p>Added below maven dependency.</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>I cross checked, jar file available in class path.<a href=\"https://i.stack.imgur.com/IHCDC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/IHCDC.png\" alt=\"enter image description here\" /></a></p>\n<p>Spring boot application version</p>\n<pre><code>&lt;version&gt;2.4.1&lt;/version&gt;\n</code></pre>\n<p>Added properties in application.properties file</p>\n<pre><code>management.endpoints.enabled-by-default=true\nmanagement.endpoint.info.enabled=true\nmanagement.security.enabled=false\nmanagement.endpoints.web.exposure.include=*\nspring.mvc.throw-exception-if-no-handler-found=true\n</code></pre>\n<p>Unable to access Actuator with below URL's</p>\n<pre><code>http://localhost:8090/actuator/health\nhttp://localhost:8090/actuator/\nhttp://localhost:8090/health/\n</code></pre>\n<p>Logs</p>\n<pre><code>WARN IN-WKS-435 [nio-8090-exec-1] o.s.w.s.PageNotFound                     : No mapping for GET /actuator/health\nWARN IN-WKS-435 [nio-8090-exec-1] o.s.w.s.PageNotFound                     : No handler found for GET /actuator/health\nWARN IN-WKS-435 [nio-8090-exec-1] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.servlet.NoHandlerFoundException: No handler found for GET /actuator/health]\n</code></pre>\n<p>Note: Apart from this, whole application is working fine.</p>\n<p>Kindly suggest if I need to add any additional configuration in our application.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2027945,"reputation":4954,"user_id":1812434,"accept_rate":57,"display_name":"Venkata Raju"},"score":2,"creation_date":1623675530,"post_id":67970378,"comment_id":120138243,"body_markdown":"`file` command finds the encoding based on the file content. Since all the file content is ascii (english), output is ascii. Provide the text in non English characters like [`Greek`](https://translate.google.co.in/?hl=en&amp;sl=en&amp;tl=el&amp;text=test%20encoding&amp;op=translate) and check.","body":"<code>file</code> command finds the encoding based on the file content. Since all the file content is ascii (english), output is ascii. Provide the text in non English characters like <a href=\"https://translate.google.co.in/?hl=en&amp;sl=en&amp;tl=el&amp;text=test%20encoding&amp;op=translate\" rel=\"nofollow noreferrer\"><code>Greek</code></a> and check."}],"answers":[{"tags":[],"owner":{"account_id":4160832,"reputation":2487,"user_id":3410989,"display_name":"julien.giband"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1623687446,"creation_date":1623675874,"answer_id":67970752,"question_id":67970378,"body_markdown":"ISO-8859-1 and UTF-8 are both character encodings *designed* to be compatible with older US-ASCII, for all the standard printable characters, meaning codes 0x20 to 0x7E. These characters include all lower and upper case latin letters with no accent, numeric digits, space and other usual punctuation marks.\r\n\r\nWhen you simply write a file using Java, and any other tool (except for some specific character encodings), there is nothing within the file that indicates how it has been encoded.\r\n\r\nThe tool you&#39;re using with the `file` command simply tries to take a guess based on the first bytes of the file: it checks if the sequence makes any sense with a predetermined set of character encodings, reports it when it finds one that seems to match.\r\n\r\nIn your test, you&#39;re only using those standard &quot;english&quot; characters, so any encoding compatible with ascii is suitable for reading the file. That&#39;s why you get `us-ascii` as a result.\r\n\r\nYou&#39;ll get a different result if you start using different characters, such as `[&#233;&#192;&#214;&#238;]`.\r\n\r\nUTF-8, UTF-16 and UTF-32 allow to start the file with a special sequence of bytes called the [**byte-order mark** (BOM)](https://en.wikipedia.org/wiki/Byte_order_mark), that identifies the file&#39;s encoding. You would have to write it yourself before anything else. for UTF-8, the sequence is `0xEFBBBF`\r\n\r\nThat would be:\r\n```lang-java\r\ntry (OutputStream os = Files.newOutputStream(Paths.get(&quot;res&quot;), StandardOpenOption.WRITE, StandardOpenOption.TRUNCATE_EXISTING)) {\r\n  os.write(0xEF);\r\n  os.write(0xBB);\r\n  os.write(0xBF);\r\n  try (BufferedWriter bw = new BufferedWriter(new OutputStreamWriter(os, StandardCharsets.UTF_8))) {\r\n    bw.write(&quot;Testing with standard us-ascii chars!&quot;);\r\n    bw.write(System.lineSeparator());\r\n  }\r\n}\r\n```","title":"Can&#39;t encode a file in UTF8/ISO_8859_1","body":"<p>ISO-8859-1 and UTF-8 are both character encodings <em>designed</em> to be compatible with older US-ASCII, for all the standard printable characters, meaning codes 0x20 to 0x7E. These characters include all lower and upper case latin letters with no accent, numeric digits, space and other usual punctuation marks.</p>\n<p>When you simply write a file using Java, and any other tool (except for some specific character encodings), there is nothing within the file that indicates how it has been encoded.</p>\n<p>The tool you're using with the <code>file</code> command simply tries to take a guess based on the first bytes of the file: it checks if the sequence makes any sense with a predetermined set of character encodings, reports it when it finds one that seems to match.</p>\n<p>In your test, you're only using those standard &quot;english&quot; characters, so any encoding compatible with ascii is suitable for reading the file. That's why you get <code>us-ascii</code> as a result.</p>\n<p>You'll get a different result if you start using different characters, such as <code>[éÀÖî]</code>.</p>\n<p>UTF-8, UTF-16 and UTF-32 allow to start the file with a special sequence of bytes called the <a href=\"https://en.wikipedia.org/wiki/Byte_order_mark\" rel=\"nofollow noreferrer\"><strong>byte-order mark</strong> (BOM)</a>, that identifies the file's encoding. You would have to write it yourself before anything else. for UTF-8, the sequence is <code>0xEFBBBF</code></p>\n<p>That would be:</p>\n<pre class=\"lang-java prettyprint-override\"><code>try (OutputStream os = Files.newOutputStream(Paths.get(&quot;res&quot;), StandardOpenOption.WRITE, StandardOpenOption.TRUNCATE_EXISTING)) {\n  os.write(0xEF);\n  os.write(0xBB);\n  os.write(0xBF);\n  try (BufferedWriter bw = new BufferedWriter(new OutputStreamWriter(os, StandardCharsets.UTF_8))) {\n    bw.write(&quot;Testing with standard us-ascii chars!&quot;);\n    bw.write(System.lineSeparator());\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12695343,"reputation":25,"user_id":9223958,"display_name":"Ramazan Gunes"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685100709,"creation_date":1685055108,"answer_id":76336683,"question_id":67970378,"body_markdown":"I am currently debugging this problem and I want to create an Ansi coded txt file, so I just solved this problem by using the following code snippet: \r\n\r\n    Charset charSet1 = StandardCharsets.ISO_8859_1;\r\n    BufferedWriter bw1 = new BufferedWriter(new OutputStreamWriter(fos, charSet1));\r\n    bw1.write(0xE1);\r\n    bw1.newLine();\r\n\r\nYou can use this method but if you can achieve it without printing `0xE1`(which notifies that this code is in Ansi format encoding) pls let the community know.\r\n\r\nThank you.","title":"Can&#39;t encode a file in UTF8/ISO_8859_1","body":"<p>I am currently debugging this problem and I want to create an Ansi coded txt file, so I just solved this problem by using the following code snippet:</p>\n<pre><code>Charset charSet1 = StandardCharsets.ISO_8859_1;\nBufferedWriter bw1 = new BufferedWriter(new OutputStreamWriter(fos, charSet1));\nbw1.write(0xE1);\nbw1.newLine();\n</code></pre>\n<p>You can use this method but if you can achieve it without printing <code>0xE1</code>(which notifies that this code is in Ansi format encoding) pls let the community know.</p>\n<p>Thank you.</p>\n"}],"owner":{"account_id":12451769,"reputation":142,"user_id":9987894,"display_name":"Alays"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":239,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":67970752,"answer_count":2,"score":1,"last_activity_date":1685100709,"creation_date":1623674312,"question_id":67970378,"body_markdown":"I am trying to write a file to UTF8 or ISO_8859_1 using :\r\n\r\n    BufferedWriter writer = null;\r\n        try {\r\n            writer = new BufferedWriter(new OutputStreamWriter(new FileOutputStream(getFile(&quot;res&quot;)), StandardCharsets.ISO_8859_1));\r\n\r\n            String line =&quot; test encoding&quot;+&quot;\\r\\n&quot;;\r\n            writer.write(line);\r\n        } finally {\r\n            try {\r\n                if (writer != null)\r\n                    writer.close();\r\n            } catch (Exception e) {\r\n            }\r\n        }\r\n\r\n\r\nThen I try to display the file encoding using : file -I, file --mime-encoding but it always shows me us-ascii.\r\n\r\n    file --mime-encoding res\r\n    res: us-ascii\r\n\r\n\r\n    file -I res\r\n    res: text/plain; charset=us-ascii\r\n\r\n\r\nWhat am i doing wrong ?\r\n\r\nedit1 : I am testing on macos dunno if it changes something\r\n","title":"Can&#39;t encode a file in UTF8/ISO_8859_1","body":"<p>I am trying to write a file to UTF8 or ISO_8859_1 using :</p>\n<pre><code>BufferedWriter writer = null;\n    try {\n        writer = new BufferedWriter(new OutputStreamWriter(new FileOutputStream(getFile(&quot;res&quot;)), StandardCharsets.ISO_8859_1));\n\n        String line =&quot; test encoding&quot;+&quot;\\r\\n&quot;;\n        writer.write(line);\n    } finally {\n        try {\n            if (writer != null)\n                writer.close();\n        } catch (Exception e) {\n        }\n    }\n</code></pre>\n<p>Then I try to display the file encoding using : file -I, file --mime-encoding but it always shows me us-ascii.</p>\n<pre><code>file --mime-encoding res\nres: us-ascii\n\n\nfile -I res\nres: text/plain; charset=us-ascii\n</code></pre>\n<p>What am i doing wrong ?</p>\n<p>edit1 : I am testing on macos dunno if it changes something</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9816,"page":409,"page_size":100}
