{"items":[{"tags":["java","spring","logging","spring-rest"],"comments":[{"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"score":0,"creation_date":1437130623,"post_id":31474006,"comment_id":50913544,"body_markdown":"That doesn&#39;t help because when I intercept the message, I&#39;d have java objects of type `org.springframework.http.client.InterceptingClientHttpRequest` and ` org.springframework.http.client.SimpleClientHttpResponse`. What I need is a text/xml representation of the response and log this one instead.","body":"That doesn&#39;t help because when I intercept the message, I&#39;d have java objects of type <code>org.springframework.http.client.InterceptingClientHttpReques&zwnj;&#8203;t</code> and ` org.springframework.http.client.SimpleClientHttpResponse`. What I need is a text/xml representation of the response and log this one instead."},{"owner":{"account_id":299053,"reputation":3959,"user_id":605422,"display_name":"Giovanni"},"score":2,"creation_date":1437134746,"post_id":31474006,"comment_id":50915855,"body_markdown":"did you try to send messages passing an Apache httpClient to the restTempalte and to enable log at httpclient level?","body":"did you try to send messages passing an Apache httpClient to the restTempalte and to enable log at httpclient level?"},{"owner":{"account_id":12735021,"reputation":459,"user_id":9250232,"display_name":"Solanki Vaibhav"},"score":0,"creation_date":1557137814,"post_id":31474006,"comment_id":98652137,"body_markdown":"read my answer from following:[how to log request and response rest call by RestTemplate] (https://stackoverflow.com/questions/3892018/how-do-i-log-response-in-spring-resttemplate/56003085#56003085)","body":"read my answer from following:[how to log request and response rest call by RestTemplate] (<a href=\"https://stackoverflow.com/questions/3892018/how-do-i-log-response-in-spring-resttemplate/56003085#56003085\" title=\"how do i log response in spring resttemplate\">stackoverflow.com/questions/3892018/&hellip;</a>)"},{"owner":{"account_id":12735021,"reputation":459,"user_id":9250232,"display_name":"Solanki Vaibhav"},"score":0,"creation_date":1557137907,"post_id":31474006,"comment_id":98652175,"body_markdown":"Read my answer to this question from the following : [answer](https://stackoverflow.com/questions/3892018/how-do-i-log-response-in-spring-resttemplate/56003085#56003085)","body":"Read my answer to this question from the following : <a href=\"https://stackoverflow.com/questions/3892018/how-do-i-log-response-in-spring-resttemplate/56003085#56003085\">answer</a>"}],"answers":[{"tags":[],"owner":{"account_id":7063527,"reputation":471,"user_id":5407758,"accept_rate":0,"display_name":"bvyas"},"down_vote_count":1,"up_vote_count":12,"is_accepted":false,"score":11,"last_activity_date":1493307369,"creation_date":1482439943,"answer_id":41291486,"question_id":31474006,"body_markdown":"You can achieve this by using **ClientHttpRequestInterceptor** in Spring.\r\nYou have to override method **intercept** of interface **ClientHttpRequestInterceptor**.\r\n    \r\nBelow is the code snippet :\r\n    \r\n    @Component\r\n    public class LogRequestResponseFilter implements ClientHttpRequestInterceptor {\r\n    \r\n    private static final Logger logger=LoggerFactory.getLogger(LogRequestResponseFilter.class);\r\n    \r\n       @Override\r\n       public ClientHttpResponse intercept(HttpRequest request, byte[] body, ClientHttpRequestExecution execution)\r\n             throws IOException {\r\n    \r\n          traceRequest(request, body);\r\n          ClientHttpResponse clientHttpResponse = execution.execute(request, body);\r\n          traceResponse(clientHttpResponse);\r\n    \r\n          return clientHttpResponse;\r\n       } \r\n    \r\n     private void traceRequest(HttpRequest request, byte[] body) throws IOException {\r\n          logger.debug(&quot;request URI : &quot; + request.getURI());\r\n          logger.debug(&quot;request method : &quot; + request.getMethod());\r\n          logger.debug(&quot;request body : &quot; + getRequestBody(body));\r\n       }\r\n    \r\n       private String getRequestBody(byte[] body) throws UnsupportedEncodingException {\r\n          if (body != null &amp;&amp; body.length &gt; 0) {\r\n             return (new String(body, &quot;UTF-8&quot;));\r\n          } else {\r\n             return null;\r\n          }\r\n       }\r\n    \r\n    \r\n      private void traceResponse(ClientHttpResponse response) throws IOException {\r\n          String body = getBodyString(response);\r\n          logger.debug(&quot;response status code: &quot; + response.getStatusCode());\r\n          logger.debug(&quot;response status text: &quot; + response.getStatusText());\r\n          logger.debug(&quot;response body : &quot; + body);\r\n       }\r\n    \r\n       private String getBodyString(ClientHttpResponse response) {\r\n          try {\r\n             if (response != null &amp;&amp; response.getBody() != null) {// &amp;&amp;\r\n                                                                  // isReadableResponse(response))\r\n                                                                  // {\r\n                StringBuilder inputStringBuilder = new StringBuilder();\r\n                BufferedReader bufferedReader = new BufferedReader(new InputStreamReader(response.getBody(), StandardCharsets.UTF_8));\r\n                String line = bufferedReader.readLine();\r\n                while (line != null) {\r\n                   inputStringBuilder.append(line);\r\n                   inputStringBuilder.append(&#39;\\n&#39;);\r\n                   line = bufferedReader.readLine();\r\n                }\r\n                return inputStringBuilder.toString();\r\n             } else {\r\n                return null;\r\n             }\r\n          } catch (IOException e) {\r\n             logger.error(e.getMessage(), e);\r\n             return null;\r\n          }\r\n       }","title":"How to log RestTemplate request and response with spring?","body":"<p>You can achieve this by using <strong>ClientHttpRequestInterceptor</strong> in Spring.\nYou have to override method <strong>intercept</strong> of interface <strong>ClientHttpRequestInterceptor</strong>.</p>\n\n<p>Below is the code snippet :</p>\n\n<pre><code>@Component\npublic class LogRequestResponseFilter implements ClientHttpRequestInterceptor {\n\nprivate static final Logger logger=LoggerFactory.getLogger(LogRequestResponseFilter.class);\n\n   @Override\n   public ClientHttpResponse intercept(HttpRequest request, byte[] body, ClientHttpRequestExecution execution)\n         throws IOException {\n\n      traceRequest(request, body);\n      ClientHttpResponse clientHttpResponse = execution.execute(request, body);\n      traceResponse(clientHttpResponse);\n\n      return clientHttpResponse;\n   } \n\n private void traceRequest(HttpRequest request, byte[] body) throws IOException {\n      logger.debug(\"request URI : \" + request.getURI());\n      logger.debug(\"request method : \" + request.getMethod());\n      logger.debug(\"request body : \" + getRequestBody(body));\n   }\n\n   private String getRequestBody(byte[] body) throws UnsupportedEncodingException {\n      if (body != null &amp;&amp; body.length &gt; 0) {\n         return (new String(body, \"UTF-8\"));\n      } else {\n         return null;\n      }\n   }\n\n\n  private void traceResponse(ClientHttpResponse response) throws IOException {\n      String body = getBodyString(response);\n      logger.debug(\"response status code: \" + response.getStatusCode());\n      logger.debug(\"response status text: \" + response.getStatusText());\n      logger.debug(\"response body : \" + body);\n   }\n\n   private String getBodyString(ClientHttpResponse response) {\n      try {\n         if (response != null &amp;&amp; response.getBody() != null) {// &amp;&amp;\n                                                              // isReadableResponse(response))\n                                                              // {\n            StringBuilder inputStringBuilder = new StringBuilder();\n            BufferedReader bufferedReader = new BufferedReader(new InputStreamReader(response.getBody(), StandardCharsets.UTF_8));\n            String line = bufferedReader.readLine();\n            while (line != null) {\n               inputStringBuilder.append(line);\n               inputStringBuilder.append('\\n');\n               line = bufferedReader.readLine();\n            }\n            return inputStringBuilder.toString();\n         } else {\n            return null;\n         }\n      } catch (IOException e) {\n         logger.error(e.getMessage(), e);\n         return null;\n      }\n   }\n</code></pre>\n"}],"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":31228,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"closed_date":1675770760,"answer_count":1,"score":13,"last_activity_date":1675770745,"creation_date":1437129800,"question_id":31474006,"body_markdown":"I&#39;m using Spring with `RestTemplate` to execute HTTP GET requests.\r\n\r\nHow can I log any request and response data to a log file automatically on each request?","title":"How to log RestTemplate request and response with spring?","body":"<p>I'm using Spring with <code>RestTemplate</code> to execute HTTP GET requests.</p>\n<p>How can I log any request and response data to a log file automatically on each request?</p>\n"},{"tags":["java","spring","spring-boot","maven"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1675800733,"post_id":75372360,"comment_id":133005888,"body_markdown":"Using java 7 ... will not work. Spring 3.X requires JDK17+... also your error output looks like you have configured something strange ... which Maven version do you use?","body":"Using java 7 ... will not work. Spring 3.X requires JDK17+... also your error output looks like you have configured something strange ... which Maven version do you use?"}],"answers":[{"tags":[],"owner":{"account_id":14182472,"reputation":198,"user_id":10245558,"display_name":"Roland"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675769369,"creation_date":1675769369,"answer_id":75372732,"question_id":75372360,"body_markdown":"First of all, I noticed that you have a duplicate `&lt;properties&gt; &lt;/properties&gt;` \r\n\r\nI wasn&#39;t able to replicate your issue, Spring Boot 3 needs at least Java 17 to run, which is a requirement I do not currently have. \r\n\r\nHowever, I migrated to version `2.6.4` which is compatible with Java version 11 and I noticed that you had the version of `mysql-connector-j` missing\r\n\r\n```\r\n&lt;dependency&gt;\r\n   &lt;groupId&gt;com.mysql&lt;/groupId&gt;\r\n    &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\r\n    &lt;version&gt;8.0.31&lt;/version&gt; // add version\r\n    &lt;scope&gt;runtime&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nRemove\r\n\r\n```\r\n &lt;properties&gt;\r\n   &lt;maven.compiler.source&gt;1.7&lt;/maven.compiler.source&gt;\r\n    &lt;maven.compiler.target&gt;1.7&lt;/maven.compiler.target&gt;\r\n &lt;/properties&gt;\r\n```\r\n\r\nFind below the full `pom.xml`\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.6.4&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n    &lt;groupId&gt;com.square&lt;/groupId&gt;\r\n    &lt;artifactId&gt;square&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;name&gt;square&lt;/name&gt;\r\n    &lt;description&gt;square&lt;/description&gt;\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;11&lt;/java.version&gt;\r\n        &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.mysql&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\r\n            &lt;version&gt;8.0.31&lt;/version&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.firebase&lt;/groupId&gt;\r\n            &lt;artifactId&gt;firebase-admin&lt;/artifactId&gt;\r\n            &lt;version&gt;8.0.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nIf you still want to use the same Spring Boot version that you currently have, make sure you have Java 17, and delete `.m2` file if you think it might be a cache issue, and do the same changes regarding the `properties` tag and `mysql` version.\r\n\r\nHope this helps!\r\n","title":"Project &#39;org.springframework.boot:spring-boot-starter-parent:3.0.2&#39; not found","body":"<p>First of all, I noticed that you have a duplicate <code>&lt;properties&gt; &lt;/properties&gt;</code></p>\n<p>I wasn't able to replicate your issue, Spring Boot 3 needs at least Java 17 to run, which is a requirement I do not currently have.</p>\n<p>However, I migrated to version <code>2.6.4</code> which is compatible with Java version 11 and I noticed that you had the version of <code>mysql-connector-j</code> missing</p>\n<pre><code>&lt;dependency&gt;\n   &lt;groupId&gt;com.mysql&lt;/groupId&gt;\n    &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\n    &lt;version&gt;8.0.31&lt;/version&gt; // add version\n    &lt;scope&gt;runtime&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Remove</p>\n<pre><code> &lt;properties&gt;\n   &lt;maven.compiler.source&gt;1.7&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;1.7&lt;/maven.compiler.target&gt;\n &lt;/properties&gt;\n</code></pre>\n<p>Find below the full <code>pom.xml</code></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.6.4&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.square&lt;/groupId&gt;\n    &lt;artifactId&gt;square&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;square&lt;/name&gt;\n    &lt;description&gt;square&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;11&lt;/java.version&gt;\n        &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\n            &lt;version&gt;8.0.31&lt;/version&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.firebase&lt;/groupId&gt;\n            &lt;artifactId&gt;firebase-admin&lt;/artifactId&gt;\n            &lt;version&gt;8.0.1&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>If you still want to use the same Spring Boot version that you currently have, make sure you have Java 17, and delete <code>.m2</code> file if you think it might be a cache issue, and do the same changes regarding the <code>properties</code> tag and <code>mysql</code> version.</p>\n<p>Hope this helps!</p>\n"}],"owner":{"account_id":24719432,"reputation":412,"user_id":18608735,"display_name":"CHETAN"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1296,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1675770636,"creation_date":1675767272,"question_id":75372360,"body_markdown":"I am new to api development. I imported this project from my friend but now I am getting these error.:-\r\n\r\n   \r\n\r\n   \r\n\r\n         Project &#39;org.springframework.boot:spring-boot-starter-parent:3.0.2&#39; not found\r\n            Project &#39;org.springframework.boot:spring-boot-starter-parent:3.0.2&#39; not found\r\n            Project &#39;org.springframework.boot:spring-boot-starter-parent:3.0.2&#39; not found\r\n            Invalid content was found starting with element &#39;{&quot;http://maven.apache.org/POM/4.0.0&quot;:properties}&#39;. One of &#39;{&quot;http://maven.apache.org/POM/4.0.0&quot;:packaging, &quot;http://maven.apache.org/POM/4.0.0&quot;:url, &quot;http://maven.apache.org/POM/4.0.0&quot;:inceptionYear, &quot;http://maven.apache.org/POM/4.0.0&quot;:organization, &quot;http://maven.apache.org/POM/4.0.0&quot;:licenses, &quot;http://maven.apache.org/POM/4.0.0&quot;:developers, &quot;http://maven.apache.org/POM/4.0.0&quot;:contributors, &quot;http://maven.apache.org/POM/4.0.0&quot;:mailingLists, &quot;http://maven.apache.org/POM/4.0.0&quot;:prerequisites, &quot;http://maven.apache.org/POM/4.0.0&quot;:modules, &quot;http://maven.apache.org/POM/4.0.0&quot;:scm, &quot;http://maven.apache.org/POM/4.0.0&quot;:issueManagement, &quot;http://maven.apache.org/POM/4.0.0&quot;:ciManagement, &quot;http://maven.apache.org/POM/4.0.0&quot;:distributionManagement, &quot;http://maven.apache.org/POM/4.0.0&quot;:dependencyManagement, &quot;http://maven.apache.org/POM/4.0.0&quot;:dependencies, &quot;http://maven.apache.org/POM/4.0.0&quot;:repositories, &quot;http://maven.apache.org/POM/4.0.0&quot;:pluginRepositories, &quot;http://maven.apache.org/POM/4.0.0&quot;:build, &quot;http://maven.apache.org/POM/4.0.0&quot;:reports, &quot;http://maven.apache.org/POM/4.0.0&quot;:reporting, &quot;http://maven.apache.org/POM/4.0.0&quot;:profiles}&#39; is expected.\r\n     Invalid content was found starting with element &#39;{&quot;http://maven.apache.org/POM/4.0.0&quot;:properties}&#39;. One of &#39;{&quot;http://maven.apache.org/POM/4.0.0&quot;:packaging, &quot;http://maven.apache.org/POM/4.0.0&quot;:url, &quot;http://maven.apache.org/POM/4.0.0&quot;:inceptionYear, &quot;http://maven.apache.org/POM/4.0.0&quot;:organization, &quot;http://maven.apache.org/POM/4.0.0&quot;:licenses, &quot;http://maven.apache.org/POM/4.0.0&quot;:developers, &quot;http://maven.apache.org/POM/4.0.0&quot;:contributors, &quot;http://maven.apache.org/POM/4.0.0&quot;:mailingLists, &quot;http://maven.apache.org/POM/4.0.0&quot;:prerequisites, &quot;http://maven.apache.org/POM/4.0.0&quot;:modules, &quot;http://maven.apache.org/POM/4.0.0&quot;:scm, &quot;http://maven.apache.org/POM/4.0.0&quot;:issueManagement, &quot;http://maven.apache.org/POM/4.0.0&quot;:ciManagement, &quot;http://maven.apache.org/POM/4.0.0&quot;:distributionManagement, &quot;http://maven.apache.org/POM/4.0.0&quot;:dependencyManagement, &quot;http://maven.apache.org/POM/4.0.0&quot;:dependencies, &quot;http://maven.apache.org/POM/4.0.0&quot;:repositories, &quot;http://maven.apache.org/POM/4.0.0&quot;:pluginRepositories, &quot;http://maven.apache.org/POM/4.0.0&quot;:build, &quot;http://maven.apache.org/POM/4.0.0&quot;:reports, &quot;http://maven.apache.org/POM/4.0.0&quot;:reporting, &quot;http://maven.apache.org/POM/4.0.0&quot;:profiles}&#39; is expected.\r\n         Dependency &#39;org.springframework.boot:spring-boot-starter-web:&#39; not found\r\n         Dependency &#39;org.springframework.boot:spring-boot-starter-web:&#39; not found\r\n         Dependency &#39;com.mysql:mysql-connector-j:&#39; not found\r\n         Dependency &#39;com.mysql:mysql-connector-j:&#39; not found\r\n         Dependency &#39;org.springframework.boot:spring-boot-starter-test:&#39; not found\r\n         Dependency &#39;org.springframework.security:spring-security-test:&#39; not found\r\n         Dependency &#39;org.springframework.security:spring-security-test:&#39; not found\r\n         Dependency &#39;com.google.firebase:firebase-admin:8.0.1&#39; not found\r\n         Dependency &#39;com.google.firebase:firebase-admin:8.0.1&#39; not found\r\n         Dependency &#39;com.google.firebase:firebase-admin:8.0.1&#39; not found\r\n         Plugin &#39;org.springframework.boot:spring-boot-maven-plugin:&#39; not found\r\n         Plugin &#39;org.springframework.boot:spring-boot-maven-plugin:&#39; not found\r\n\r\nHere is my pom.xml file :-\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;3.0.2&lt;/version&gt;\r\n    \t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \t&lt;groupId&gt;com.square&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;square&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;name&gt;square&lt;/name&gt;\r\n    \t&lt;description&gt;square&lt;/description&gt;\r\n    \t&lt;properties&gt;\r\n    \t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n    \t\t&lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\r\n    \t\t&lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\r\n    \t&lt;/properties&gt;\r\n    \t&lt;properties&gt;\r\n    \t\t&lt;maven.compiler.source&gt;1.7&lt;/maven.compiler.source&gt;\r\n    \t\t&lt;maven.compiler.target&gt;1.7&lt;/maven.compiler.target&gt;\r\n    \t&lt;/properties&gt;\r\n    \t&lt;dependencies&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.mysql&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.google.firebase&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;firebase-admin&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;8.0.1&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\nI tried to invalidate and restart cache. I don&#39;t know how to solve this problem. I am trying to solve this problem from yesterday but I am getting any solution to solve this problem. Someone please help me I am stucked here.\r\n","title":"Project &#39;org.springframework.boot:spring-boot-starter-parent:3.0.2&#39; not found","body":"<p>I am new to api development. I imported this project from my friend but now I am getting these error.:-</p>\n<pre><code>     Project 'org.springframework.boot:spring-boot-starter-parent:3.0.2' not found\n        Project 'org.springframework.boot:spring-boot-starter-parent:3.0.2' not found\n        Project 'org.springframework.boot:spring-boot-starter-parent:3.0.2' not found\n        Invalid content was found starting with element '{&quot;http://maven.apache.org/POM/4.0.0&quot;:properties}'. One of '{&quot;http://maven.apache.org/POM/4.0.0&quot;:packaging, &quot;http://maven.apache.org/POM/4.0.0&quot;:url, &quot;http://maven.apache.org/POM/4.0.0&quot;:inceptionYear, &quot;http://maven.apache.org/POM/4.0.0&quot;:organization, &quot;http://maven.apache.org/POM/4.0.0&quot;:licenses, &quot;http://maven.apache.org/POM/4.0.0&quot;:developers, &quot;http://maven.apache.org/POM/4.0.0&quot;:contributors, &quot;http://maven.apache.org/POM/4.0.0&quot;:mailingLists, &quot;http://maven.apache.org/POM/4.0.0&quot;:prerequisites, &quot;http://maven.apache.org/POM/4.0.0&quot;:modules, &quot;http://maven.apache.org/POM/4.0.0&quot;:scm, &quot;http://maven.apache.org/POM/4.0.0&quot;:issueManagement, &quot;http://maven.apache.org/POM/4.0.0&quot;:ciManagement, &quot;http://maven.apache.org/POM/4.0.0&quot;:distributionManagement, &quot;http://maven.apache.org/POM/4.0.0&quot;:dependencyManagement, &quot;http://maven.apache.org/POM/4.0.0&quot;:dependencies, &quot;http://maven.apache.org/POM/4.0.0&quot;:repositories, &quot;http://maven.apache.org/POM/4.0.0&quot;:pluginRepositories, &quot;http://maven.apache.org/POM/4.0.0&quot;:build, &quot;http://maven.apache.org/POM/4.0.0&quot;:reports, &quot;http://maven.apache.org/POM/4.0.0&quot;:reporting, &quot;http://maven.apache.org/POM/4.0.0&quot;:profiles}' is expected.\n Invalid content was found starting with element '{&quot;http://maven.apache.org/POM/4.0.0&quot;:properties}'. One of '{&quot;http://maven.apache.org/POM/4.0.0&quot;:packaging, &quot;http://maven.apache.org/POM/4.0.0&quot;:url, &quot;http://maven.apache.org/POM/4.0.0&quot;:inceptionYear, &quot;http://maven.apache.org/POM/4.0.0&quot;:organization, &quot;http://maven.apache.org/POM/4.0.0&quot;:licenses, &quot;http://maven.apache.org/POM/4.0.0&quot;:developers, &quot;http://maven.apache.org/POM/4.0.0&quot;:contributors, &quot;http://maven.apache.org/POM/4.0.0&quot;:mailingLists, &quot;http://maven.apache.org/POM/4.0.0&quot;:prerequisites, &quot;http://maven.apache.org/POM/4.0.0&quot;:modules, &quot;http://maven.apache.org/POM/4.0.0&quot;:scm, &quot;http://maven.apache.org/POM/4.0.0&quot;:issueManagement, &quot;http://maven.apache.org/POM/4.0.0&quot;:ciManagement, &quot;http://maven.apache.org/POM/4.0.0&quot;:distributionManagement, &quot;http://maven.apache.org/POM/4.0.0&quot;:dependencyManagement, &quot;http://maven.apache.org/POM/4.0.0&quot;:dependencies, &quot;http://maven.apache.org/POM/4.0.0&quot;:repositories, &quot;http://maven.apache.org/POM/4.0.0&quot;:pluginRepositories, &quot;http://maven.apache.org/POM/4.0.0&quot;:build, &quot;http://maven.apache.org/POM/4.0.0&quot;:reports, &quot;http://maven.apache.org/POM/4.0.0&quot;:reporting, &quot;http://maven.apache.org/POM/4.0.0&quot;:profiles}' is expected.\n     Dependency 'org.springframework.boot:spring-boot-starter-web:' not found\n     Dependency 'org.springframework.boot:spring-boot-starter-web:' not found\n     Dependency 'com.mysql:mysql-connector-j:' not found\n     Dependency 'com.mysql:mysql-connector-j:' not found\n     Dependency 'org.springframework.boot:spring-boot-starter-test:' not found\n     Dependency 'org.springframework.security:spring-security-test:' not found\n     Dependency 'org.springframework.security:spring-security-test:' not found\n     Dependency 'com.google.firebase:firebase-admin:8.0.1' not found\n     Dependency 'com.google.firebase:firebase-admin:8.0.1' not found\n     Dependency 'com.google.firebase:firebase-admin:8.0.1' not found\n     Plugin 'org.springframework.boot:spring-boot-maven-plugin:' not found\n     Plugin 'org.springframework.boot:spring-boot-maven-plugin:' not found\n</code></pre>\n<p>Here is my pom.xml file :-</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.2&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.square&lt;/groupId&gt;\n    &lt;artifactId&gt;square&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;square&lt;/name&gt;\n    &lt;description&gt;square&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n        &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\n    &lt;/properties&gt;\n    &lt;properties&gt;\n        &lt;maven.compiler.source&gt;1.7&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;1.7&lt;/maven.compiler.target&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.firebase&lt;/groupId&gt;\n            &lt;artifactId&gt;firebase-admin&lt;/artifactId&gt;\n            &lt;version&gt;8.0.1&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>I tried to invalidate and restart cache. I don't know how to solve this problem. I am trying to solve this problem from yesterday but I am getting any solution to solve this problem. Someone please help me I am stucked here.</p>\n"},{"tags":["java","spring-boot","spring-mvc","spring-security","spring-framework-beans"],"answers":[{"tags":[],"owner":{"account_id":25804254,"reputation":774,"user_id":19546048,"display_name":"DingHao"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675412220,"creation_date":1675412220,"answer_id":75333077,"question_id":75332818,"body_markdown":"in spring security 6+,the `WebSecurityConfiguration` has been removed.\r\nyou can use SecurityFilterChain \r\n\r\n        @Bean\r\n    \tSecurityFilterChain defaultSecurityFilterChain(HttpSecurity http) throws Exception {\r\n    \t\t\thttp.csrf().disable().authorizeRequests().anyRequest().authenticated().and().httpBasic();\r\n    \t\t\treturn http.build();\r\n    \t}","title":"class path resource [org/springframework/web/servlet/config/annotation/WebMvcConfigurerAdapter.class] cannot be opened because it does not exist","body":"<p>in spring security 6+,the <code>WebSecurityConfiguration</code> has been removed.\nyou can use SecurityFilterChain</p>\n<pre><code>    @Bean\n    SecurityFilterChain defaultSecurityFilterChain(HttpSecurity http) throws Exception {\n            http.csrf().disable().authorizeRequests().anyRequest().authenticated().and().httpBasic();\n            return http.build();\n    }\n</code></pre>\n"}],"owner":{"account_id":20257143,"reputation":11,"user_id":14856620,"display_name":"Snehashis Dasgupta"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":4194,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1675770485,"creation_date":1675410355,"question_id":75332818,"body_markdown":"my pom.xml -&gt;\r\n\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.0.1&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.blog&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;blog-app-apis&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;blog-app-apis&lt;/name&gt;\r\n\t&lt;description&gt;This is backend apis app for blogging&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.0.1&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-security-config&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.1.3.RELEASE&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.mysql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.modelmapper/modelmapper --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.modelmapper&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;modelmapper&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.1.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-validation --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;excludes&gt;\r\n\t\t\t\t\t\t&lt;exclude&gt;\r\n\t\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t\t\t\t&lt;/exclude&gt;\r\n\t\t\t\t\t&lt;/excludes&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n\r\n\r\n\r\nMy SecurityConfig.java  file -&gt;\r\n\r\n    package com.blog.config;\r\n    \r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\n    import org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\r\n    import org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\r\n    \r\n    \r\n    @Configuration   \r\n    @EnableWebSecurity\r\n    \r\n    public class SecurityConfig extends WebSecurityConfigurerAdapter {\r\n    \r\n        @Override\r\n        protected void configure(HttpSecurity http) throws Exception {\r\n    \r\n            http.csrf().disable().authorizeRequests().anyRequest().authenticated().and().httpBasic();\r\n    \r\n        }\r\n    }\r\n\r\n\r\nThe error which I am getting: \r\n\r\n\r\n[Error image (click it)][1]\r\n\r\n   \r\n&gt; .BeanDefinitionStoreException: Failed to process import candidates for\r\n&gt; configuration class [com.blog.config.SecurityConfig]: class path\r\n&gt; resource\r\n&gt; [org/springframework/web/servlet/config/annotation/WebMvcConfigurerAdapter.class]\r\n&gt; cannot be opened because it does not exist\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/cYr4i.png\r\n","title":"class path resource [org/springframework/web/servlet/config/annotation/WebMvcConfigurerAdapter.class] cannot be opened because it does not exist","body":"<p>my pom.xml -&gt;</p>\n\n<p></p>\n<pre><code>&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;3.0.1&lt;/version&gt;\n    &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n&lt;/parent&gt;\n&lt;groupId&gt;com.blog&lt;/groupId&gt;\n&lt;artifactId&gt;blog-app-apis&lt;/artifactId&gt;\n&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n&lt;name&gt;blog-app-apis&lt;/name&gt;\n&lt;description&gt;This is backend apis app for blogging&lt;/description&gt;\n&lt;properties&gt;\n    &lt;java.version&gt;17&lt;/java.version&gt;\n&lt;/properties&gt;\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n        &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n        &lt;version&gt;4.0.1&lt;/version&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-security-config&lt;/artifactId&gt;\n        &lt;version&gt;4.1.3.RELEASE&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;optional&gt;true&lt;/optional&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.mysql&lt;/groupId&gt;\n        &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n        &lt;optional&gt;true&lt;/optional&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- https://mvnrepository.com/artifact/org.modelmapper/modelmapper --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.modelmapper&lt;/groupId&gt;\n        &lt;artifactId&gt;modelmapper&lt;/artifactId&gt;\n        &lt;version&gt;3.1.1&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-validation --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n\n&lt;/dependencies&gt;\n\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;configuration&gt;\n                &lt;excludes&gt;\n                    &lt;exclude&gt;\n                        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                    &lt;/exclude&gt;\n                &lt;/excludes&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n\n<p>My SecurityConfig.java  file -&gt;</p>\n<pre><code>package com.blog.config;\n\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\nimport org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\n\n\n@Configuration   \n@EnableWebSecurity\n\npublic class SecurityConfig extends WebSecurityConfigurerAdapter {\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n\n        http.csrf().disable().authorizeRequests().anyRequest().authenticated().and().httpBasic();\n\n    }\n}\n</code></pre>\n<p>The error which I am getting:</p>\n<p><a href=\"https://i.stack.imgur.com/cYr4i.png\" rel=\"nofollow noreferrer\">Error image (click it)</a></p>\n<blockquote>\n<p>.BeanDefinitionStoreException: Failed to process import candidates for\nconfiguration class [com.blog.config.SecurityConfig]: class path\nresource\n[org/springframework/web/servlet/config/annotation/WebMvcConfigurerAdapter.class]\ncannot be opened because it does not exist</p>\n</blockquote>\n"},{"tags":["java","string","unicode","char"],"comments":[{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1675769605,"post_id":75372662,"comment_id":132995854,"body_markdown":"There is no point in specifying `Pattern.MULTILINE | Pattern.UNICODE_CASE`. Neither of these flags is required by your pattern. Besides that, it’s weird to use regex solely for checking for contradictions, instead of using it to search for the matches in the first place.","body":"There is no point in specifying <code>Pattern.MULTILINE | Pattern.UNICODE_CASE</code>. Neither of these flags is required by your pattern. Besides that, it’s weird to use regex solely for checking for contradictions, instead of using it to search for the matches in the first place."}],"answers":[{"tags":[],"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1675770150,"creation_date":1675769759,"answer_id":75372805,"question_id":75372662,"body_markdown":"First let&#39;s just replace all backslashes with 2. The joy of Java escaping...\r\n\r\n    String replaced = string.replaceAll(&quot;\\\\\\\\&quot;, &quot;\\\\\\\\\\\\\\\\&quot;);\r\n\r\nNow we need to tell the regex engine &quot;don&#39;t do that if the slash is followed by u and four hexadecimal digits&quot;. We can use a [negative lookahead](https://www.regular-expressions.info/lookaround.html): `(?!u[0-9a-fA-F]{4})`\r\n\r\n    String replaced = string.replaceAll(&quot;\\\\\\\\(?!u[0-9a-fA-F]{4})&quot;, &quot;\\\\\\\\\\\\\\\\&quot;);\r\n\r\nResult:\r\n\r\n    Muir-Torr \\\\ \\u00E9 syndrome \\u1234 skd just some \\uabcd arbitrary text \\\\ s\r\n\r\nYou can repeat step one to get your desired result.","title":"Replace \\\\ found at a particular position in a String in java (not all occurrences) with \\\\\\\\","body":"<p>First let's just replace all backslashes with 2. The joy of Java escaping...</p>\n<pre><code>String replaced = string.replaceAll(&quot;\\\\\\\\&quot;, &quot;\\\\\\\\\\\\\\\\&quot;);\n</code></pre>\n<p>Now we need to tell the regex engine &quot;don't do that if the slash is followed by u and four hexadecimal digits&quot;. We can use a <a href=\"https://www.regular-expressions.info/lookaround.html\" rel=\"nofollow noreferrer\">negative lookahead</a>: <code>(?!u[0-9a-fA-F]{4})</code></p>\n<pre><code>String replaced = string.replaceAll(&quot;\\\\\\\\(?!u[0-9a-fA-F]{4})&quot;, &quot;\\\\\\\\\\\\\\\\&quot;);\n</code></pre>\n<p>Result:</p>\n<pre><code>Muir-Torr \\\\ \\u00E9 syndrome \\u1234 skd just some \\uabcd arbitrary text \\\\ s\n</code></pre>\n<p>You can repeat step one to get your desired result.</p>\n"}],"owner":{"account_id":24342544,"reputation":39,"user_id":18279733,"display_name":"anonimos"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":75372805,"answer_count":1,"score":0,"last_activity_date":1675770150,"creation_date":1675768955,"question_id":75372662,"body_markdown":"I am trying to replace \\ with double \\ in java. Thing is sometimes the \\ belongs to a unicode character (eg:\\u00E9) and in this case I don&#39;t want to do the escape.\r\nCurrently I am stuck at the actual replacement of \\.  This is just an example that will be a bit refactored :\r\n```    \r\nstatic boolean isUnicodeChar(String string) {\r\n        final String regex = &quot;(?&lt;!\\\\\\\\)(\\\\\\\\\\\\\\\\)*\\\\\\\\u[A-Fa-f\\\\d]{4}&quot;;\r\n        final Pattern pattern = Pattern.compile(regex, Pattern.MULTILINE | Pattern.UNICODE_CASE);\r\n        final Matcher matcher = pattern.matcher(string);\r\n        return matcher.find();\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n\r\n        String string = &quot;Muir-Torr \\\\ \\\\u00E9 syndrome \\\\u1234 skd just some \\\\uabcd arbitrary text \\\\ s&quot;;\r\n        System.out.println(&quot;Old String: &quot; + string);\r\n\r\n        for (int startPosition = string.indexOf(&#39;\\\\&#39;); startPosition &gt;= 0; startPosition = string.indexOf(&#39;\\\\&#39;, startPosition + 1)) {\r\n            int strLength = string.length();\r\n//            int endPosition = startPosition + 5;\r\n            int endPosition = startPosition + 6;\r\n            System.out.println(&quot;\\\\ found at position: &quot; + startPosition);\r\n\r\n            if (endPosition &lt;= strLength - 1) {\r\n                String stringToCheck = string.substring(startPosition, endPosition);\r\n                System.out.println(&quot;Checking : &quot; + stringToCheck);\r\n                if (!isUnicodeChar(stringToCheck)) {\r\n                  //here I should replace the char that is found at start position with &quot;\\\\\\\\&quot;\r\n                    System.out.println(&quot;New String: &quot; + string);\r\n\r\n                } else {\r\n                    System.out.println(&quot;No replacement needed, is unicode char: &quot; + stringToCheck);\r\n\r\n                }\r\n            } else {\r\n              //here I should replace the char that is found at start position with &quot;\\\\\\\\&quot;\r\n                System.out.println(&quot;New String: &quot; + string);\r\n            }\r\n        }\r\n\r\n    }\r\n```\r\n\r\nReplaced string should be:         \r\n```&quot;Muir-Torr \\\\\\\\ \\\\u00E9 syndrome \\\\u1234 skd just some \\\\uabcd arbitrary text \\\\\\\\ s&quot;```;\r\n","title":"Replace \\\\ found at a particular position in a String in java (not all occurrences) with \\\\\\\\","body":"<p>I am trying to replace \\ with double \\ in java. Thing is sometimes the \\ belongs to a unicode character (eg:\\u00E9) and in this case I don't want to do the escape.\nCurrently I am stuck at the actual replacement of .  This is just an example that will be a bit refactored :</p>\n<pre><code>static boolean isUnicodeChar(String string) {\n        final String regex = &quot;(?&lt;!\\\\\\\\)(\\\\\\\\\\\\\\\\)*\\\\\\\\u[A-Fa-f\\\\d]{4}&quot;;\n        final Pattern pattern = Pattern.compile(regex, Pattern.MULTILINE | Pattern.UNICODE_CASE);\n        final Matcher matcher = pattern.matcher(string);\n        return matcher.find();\n    }\n\n    public static void main(String[] args) {\n\n        String string = &quot;Muir-Torr \\\\ \\\\u00E9 syndrome \\\\u1234 skd just some \\\\uabcd arbitrary text \\\\ s&quot;;\n        System.out.println(&quot;Old String: &quot; + string);\n\n        for (int startPosition = string.indexOf('\\\\'); startPosition &gt;= 0; startPosition = string.indexOf('\\\\', startPosition + 1)) {\n            int strLength = string.length();\n//            int endPosition = startPosition + 5;\n            int endPosition = startPosition + 6;\n            System.out.println(&quot;\\\\ found at position: &quot; + startPosition);\n\n            if (endPosition &lt;= strLength - 1) {\n                String stringToCheck = string.substring(startPosition, endPosition);\n                System.out.println(&quot;Checking : &quot; + stringToCheck);\n                if (!isUnicodeChar(stringToCheck)) {\n                  //here I should replace the char that is found at start position with &quot;\\\\\\\\&quot;\n                    System.out.println(&quot;New String: &quot; + string);\n\n                } else {\n                    System.out.println(&quot;No replacement needed, is unicode char: &quot; + stringToCheck);\n\n                }\n            } else {\n              //here I should replace the char that is found at start position with &quot;\\\\\\\\&quot;\n                System.out.println(&quot;New String: &quot; + string);\n            }\n        }\n\n    }\n</code></pre>\n<p>Replaced string should be:<br />\n<code>&quot;Muir-Torr \\\\\\\\ \\\\u00E9 syndrome \\\\u1234 skd just some \\\\uabcd arbitrary text \\\\\\\\ s&quot;</code>;</p>\n"},{"tags":["java","android","android-intent","android-package-managers"],"owner":{"account_id":27724776,"reputation":1,"user_id":21164560,"display_name":"Rakesh gohain"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675769917,"creation_date":1675769866,"question_id":75372821,"body_markdown":"I was trying to launch the app first with package name and then trying to pass data from 1st app to 2nd app but I got an error .\r\nI am using a button to launch the app from 1st app and a textview in 2nd app.\r\nI have installed both the apps but still I am getting error.\r\n\r\n\r\n\r\n\r\nfrom First app\r\n```\r\n\r\nClick.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n\r\n                Intent intent = getPackageManager().getLaunchIntentForPackage(&quot;com.example.secondapp&quot;);\r\n                intent.putExtra(&quot;key_name&quot;, value);\r\n                startActivity(intent);\r\n\r\n            }\r\n        });\r\n\r\n```\r\n\r\nI was also trying by this way:-\r\n\r\n```\r\n\r\n  String packageName = &quot;com.example.secondapp&quot;;\r\n                PackageManager pm = getPackageManager();\r\n                try {\r\n                    pm.getPackageInfo(packageName, PackageManager.GET_ACTIVITIES);\r\n                    Intent intent = pm.getLaunchIntentForPackage(packageName);\r\n                    intent.putExtra(&quot;key_name&quot;, &quot;value&quot;);\r\n                    startActivity(intent);\r\n                } catch (PackageManager.NameNotFoundException e) {\r\n                    // Package not found, show error message\r\n                    Toast.makeText(MainActivity.this, &quot;The other app is not installed on this device&quot;, Toast.LENGTH_SHORT).show();\r\n                }\r\n//here it shows always the NameNotFound Exception \r\n\r\n```\r\n\r\n\r\n\r\nOn the Second app :-\r\n\r\n```\r\n\r\n String value = getIntent().getStringExtra(&quot;key_name&quot;);\r\n\r\n        if (value == null){\r\n\r\n            receive_data.setText(&quot;No Value&quot;);\r\n\r\n        }else {\r\n\r\n            receive_data.setText(value);\r\n        }\r\n\r\n```\r\n\r\n\r\nError in first app:-\r\n\r\n```\r\njava.lang.NullPointerException: Attempt to invoke virtual method &#39;android.content.Intent android.content.Intent.putExtra(java.lang.String, java.lang.String)&#39; on a null object reference\r\n\r\n```\r\nPlease help\r\n\r\n\r\nI want to launch the app from 1st app so that I can send the data from 1st app to 2nd app and to display the text over there","title":"I am unable to pass data from one android app to another app","body":"<p>I was trying to launch the app first with package name and then trying to pass data from 1st app to 2nd app but I got an error .\nI am using a button to launch the app from 1st app and a textview in 2nd app.\nI have installed both the apps but still I am getting error.</p>\n<p>from First app</p>\n<pre><code>\nClick.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n\n                Intent intent = getPackageManager().getLaunchIntentForPackage(&quot;com.example.secondapp&quot;);\n                intent.putExtra(&quot;key_name&quot;, value);\n                startActivity(intent);\n\n            }\n        });\n\n</code></pre>\n<p>I was also trying by this way:-</p>\n<pre><code>\n  String packageName = &quot;com.example.secondapp&quot;;\n                PackageManager pm = getPackageManager();\n                try {\n                    pm.getPackageInfo(packageName, PackageManager.GET_ACTIVITIES);\n                    Intent intent = pm.getLaunchIntentForPackage(packageName);\n                    intent.putExtra(&quot;key_name&quot;, &quot;value&quot;);\n                    startActivity(intent);\n                } catch (PackageManager.NameNotFoundException e) {\n                    // Package not found, show error message\n                    Toast.makeText(MainActivity.this, &quot;The other app is not installed on this device&quot;, Toast.LENGTH_SHORT).show();\n                }\n//here it shows always the NameNotFound Exception \n\n</code></pre>\n<p>On the Second app :-</p>\n<pre><code>\n String value = getIntent().getStringExtra(&quot;key_name&quot;);\n\n        if (value == null){\n\n            receive_data.setText(&quot;No Value&quot;);\n\n        }else {\n\n            receive_data.setText(value);\n        }\n\n</code></pre>\n<p>Error in first app:-</p>\n<pre><code>java.lang.NullPointerException: Attempt to invoke virtual method 'android.content.Intent android.content.Intent.putExtra(java.lang.String, java.lang.String)' on a null object reference\n\n</code></pre>\n<p>Please help</p>\n<p>I want to launch the app from 1st app so that I can send the data from 1st app to 2nd app and to display the text over there</p>\n"},{"tags":["java","python","interface","abstract-class"],"comments":[{"owner":{"account_id":36119,"reputation":5304,"user_id":102852,"display_name":"alex vasi"},"score":1,"creation_date":1321615843,"post_id":8181576,"comment_id":10050231,"body_markdown":"See http://stackoverflow.com/questions/372042/difference-between-abstract-class-and-interface-in-python Note the link to Zope interface module as an implementation of java-like interfaces.","body":"See <a href=\"http://stackoverflow.com/questions/372042/difference-between-abstract-class-and-interface-in-python\" title=\"difference between abstract class and interface in python\">stackoverflow.com/questions/372042/&hellip;</a> Note the link to Zope interface module as an implementation of java-like interfaces."},{"owner":{"account_id":1589784,"reputation":5289,"user_id":1601580,"accept_rate":47,"display_name":"Charlie Parker"},"score":0,"creation_date":1497829940,"post_id":8181576,"comment_id":76227072,"body_markdown":"is there a straight answer to this are there interfaces or not?","body":"is there a straight answer to this are there interfaces or not?"}],"answers":[{"tags":[],"owner":{"account_id":339701,"reputation":4025,"user_id":669337,"accept_rate":64,"display_name":"M S"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1321616046,"creation_date":1321615800,"answer_id":8181696,"question_id":8181576,"body_markdown":"May be you can use something like this. This will act as an abstract class. Every subclass is thus forced to implement func1()\r\n\r\n    class Abstract:\r\n    \r\n        def func1(self):\r\n            raise NotImplementedError(&quot;The method not implemented&quot;)","title":"Java abstract/interface design in Python","body":"<p>May be you can use something like this. This will act as an abstract class. Every subclass is thus forced to implement func1()</p>\n\n<pre><code>class Abstract:\n\n    def func1(self):\n        raise NotImplementedError(\"The method not implemented\")\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19462,"reputation":102762,"user_id":45664,"accept_rate":91,"display_name":"Andrzej Doyle"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1321615852,"creation_date":1321615852,"answer_id":8181715,"question_id":8181576,"body_markdown":"I&#39;m not that familiar with Python, but I would hazard a guess that it doesn&#39;t.\r\n\r\nThe reason why interfaces exist in Java is that they specify a **contract**.  Something that implements `java.util.List`, for example, is guaranteed to have an `add()` method to conforms to the general behaviour as defined on the interface.  You could drop in any (sane) implementation of List without knowing its specific class, call a sequence of methods defined on the interface and get the same general behaviour.\r\n\r\nMoreover, both the developer and compiler can know that such a method exists and is callable on the object in question, even if they don&#39;t know its exact class.  It&#39;s a form of polymorphism that&#39;s needed with static typing to allow different implementation classes yet still know that they&#39;re all legal.\r\n\r\nThis doesn&#39;t really make sense in Python, because it&#39;s not statically typed.  You don&#39;t need to declare the class of an object, nor convince the compiler that methods you&#39;re calling on it definitely exist.  &quot;Interfaces&quot; in a duck-typing world are as simple as invoking the method and trusting that the object can handle that message appropriately.\r\n\r\n*Note - edits from more knowledgeable Pythonistas are welcome.*","title":"Java abstract/interface design in Python","body":"<p>I'm not that familiar with Python, but I would hazard a guess that it doesn't.</p>\n\n<p>The reason why interfaces exist in Java is that they specify a <strong>contract</strong>.  Something that implements <code>java.util.List</code>, for example, is guaranteed to have an <code>add()</code> method to conforms to the general behaviour as defined on the interface.  You could drop in any (sane) implementation of List without knowing its specific class, call a sequence of methods defined on the interface and get the same general behaviour.</p>\n\n<p>Moreover, both the developer and compiler can know that such a method exists and is callable on the object in question, even if they don't know its exact class.  It's a form of polymorphism that's needed with static typing to allow different implementation classes yet still know that they're all legal.</p>\n\n<p>This doesn't really make sense in Python, because it's not statically typed.  You don't need to declare the class of an object, nor convince the compiler that methods you're calling on it definitely exist.  \"Interfaces\" in a duck-typing world are as simple as invoking the method and trusting that the object can handle that message appropriately.</p>\n\n<p><em>Note - edits from more knowledgeable Pythonistas are welcome.</em></p>\n"},{"tags":[],"owner":{"account_id":171501,"reputation":121178,"user_id":398968,"accept_rate":75,"display_name":"Katriel"},"down_vote_count":0,"up_vote_count":78,"is_accepted":true,"score":78,"last_activity_date":1613767490,"creation_date":1321616523,"answer_id":8181859,"question_id":8181576,"body_markdown":"There&#39;s a bit of a story behind interfaces in Python. The original attitude, which held sway for many years, is that you don&#39;t need them: Python works on the EAFP (easier to ask forgiveness than permission) principle. That is, instead of specifying that you accept an, I don&#39;t know, ICloseable object, you simply try to `close` the object when you need to, and if it raises an exception then it raises an exception.\r\n\r\nSo in this mentality you would just write your classes separately, and use them as you will. If one of them doesn&#39;t conform to the requirements, your program will raise an exception; conversely, if you write another class with the right methods then it will just work, without your needing to specify that it implements your particular interface.\r\n\r\nThis works pretty well, but there are definite use cases for interfaces, especially with larger software projects. The final decision in Python was to provide the [`abc`][1] module, which allows you to write _abstract base classes_ i.e. classes that you can&#39;t instantiate unless you override all their methods. It&#39;s your decision as to whether you think using them is worth it.\r\n\r\nThe [PEP introducing ABCs][2] explain much better than I can:\r\n\r\n&gt; In the domain of object-oriented programming, the usage patterns for\r\n&gt; interacting with an object can be divided into two basic categories,\r\n&gt; which are &#39;invocation&#39; and &#39;inspection&#39;.\r\n&gt; \r\n&gt; Invocation means interacting with an object by invoking its methods.\r\n&gt; Usually this is combined with polymorphism, so that invoking a given\r\n&gt; method may run different code depending on the type of an object.\r\n&gt; \r\n&gt; Inspection means the ability for external code (outside of the\r\n&gt; object&#39;s methods) to examine the type or properties of that object,\r\n&gt; and make decisions on how to treat that object based on that\r\n&gt; information.\r\n&gt; \r\n&gt; Both usage patterns serve the same general end, which is to be able to\r\n&gt; support the processing of diverse and potentially novel objects in a\r\n&gt; uniform way, but at the same time allowing processing decisions to be\r\n&gt; customized for each different type of object.\r\n&gt; \r\n&gt; In classical OOP theory, invocation is the preferred usage pattern,\r\n&gt; and inspection is actively discouraged, being considered a relic of an\r\n&gt; earlier, procedural programming style. However, in practice this view\r\n&gt; is simply too dogmatic and inflexible, and leads to a kind of design\r\n&gt; rigidity that is very much at odds with the dynamic nature of a\r\n&gt; language like Python.\r\n&gt; \r\n&gt; In particular, there is often a need to process objects in a way that\r\n&gt; wasn&#39;t anticipated by the creator of the object class. It is not\r\n&gt; always the best solution to build in to every object methods that\r\n&gt; satisfy the needs of every possible user of that object. Moreover,\r\n&gt; there are many powerful dispatch philosophies that are in direct\r\n&gt; contrast to the classic OOP requirement of behavior being strictly\r\n&gt; encapsulated within an object, examples being rule or pattern-match\r\n&gt; driven logic.\r\n&gt; \r\n&gt; On the other hand, one of the criticisms of inspection by classic OOP\r\n&gt; theorists is the lack of formalisms and the ad hoc nature of what is\r\n&gt; being inspected. In a language such as Python, in which almost any\r\n&gt; aspect of an object can be reflected and directly accessed by external\r\n&gt; code, there are many different ways to test whether an object conforms\r\n&gt; to a particular protocol or not. For example, if asking &#39;is this\r\n&gt; object a mutable sequence container?&#39;, one can look for a base class\r\n&gt; of &#39;list&#39;, or one can look for a method named &#39;\\__getitem__&#39;. But note\r\n&gt; that although these tests may seem obvious, neither of them are\r\n&gt; correct, as one generates false negatives, and the other false\r\n&gt; positives.\r\n&gt; \r\n&gt; The generally agreed-upon remedy is to standardize the tests, and\r\n&gt; group them into a formal arrangement. This is most easily done by\r\n&gt; associating with each class a set of standard testable properties,\r\n&gt; either via the inheritance mechanism or some other means. Each test\r\n&gt; carries with it a set of promises: it contains a promise about the\r\n&gt; general behavior of the class, and a promise as to what other class\r\n&gt; methods will be available.\r\n&gt; \r\n&gt; This PEP proposes a particular strategy for organizing these tests\r\n&gt; known as Abstract Base Classes, or ABC. ABCs are simply Python classes\r\n&gt; that are added into an object&#39;s inheritance tree to signal certain\r\n&gt; features of that object to an external inspector. Tests are done using\r\n&gt; isinstance(), and the presence of a particular ABC means that the test\r\n&gt; has passed.\r\n&gt; \r\n&gt; In addition, the ABCs define a minimal set of methods that establish\r\n&gt; the characteristic behavior of the type. Code that discriminates\r\n&gt; objects based on their ABC type can trust that those methods will\r\n&gt; always be present. Each of these methods are accompanied by an\r\n&gt; generalized abstract semantic definition that is described in the\r\n&gt; documentation for the ABC. These standard semantic definitions are not\r\n&gt; enforced, but are strongly recommended.\r\n&gt; \r\n&gt; Like all other things in Python, these promises are in the nature of a\r\n&gt; gentlemen&#39;s agreement, which in this case means that while the\r\n&gt; language does enforce some of the promises made in the ABC, it is up\r\n&gt; to the implementer of the concrete class to insure that the remaining\r\n&gt; ones are kept.\r\n\r\n\r\n  [1]: http://docs.python.org/library/abc.html\r\n  [2]: http://www.python.org/dev/peps/pep-3119/","title":"Java abstract/interface design in Python","body":"<p>There's a bit of a story behind interfaces in Python. The original attitude, which held sway for many years, is that you don't need them: Python works on the EAFP (easier to ask forgiveness than permission) principle. That is, instead of specifying that you accept an, I don't know, ICloseable object, you simply try to <code>close</code> the object when you need to, and if it raises an exception then it raises an exception.</p>\n<p>So in this mentality you would just write your classes separately, and use them as you will. If one of them doesn't conform to the requirements, your program will raise an exception; conversely, if you write another class with the right methods then it will just work, without your needing to specify that it implements your particular interface.</p>\n<p>This works pretty well, but there are definite use cases for interfaces, especially with larger software projects. The final decision in Python was to provide the <a href=\"http://docs.python.org/library/abc.html\" rel=\"noreferrer\"><code>abc</code></a> module, which allows you to write <em>abstract base classes</em> i.e. classes that you can't instantiate unless you override all their methods. It's your decision as to whether you think using them is worth it.</p>\n<p>The <a href=\"http://www.python.org/dev/peps/pep-3119/\" rel=\"noreferrer\">PEP introducing ABCs</a> explain much better than I can:</p>\n<blockquote>\n<p>In the domain of object-oriented programming, the usage patterns for\ninteracting with an object can be divided into two basic categories,\nwhich are 'invocation' and 'inspection'.</p>\n<p>Invocation means interacting with an object by invoking its methods.\nUsually this is combined with polymorphism, so that invoking a given\nmethod may run different code depending on the type of an object.</p>\n<p>Inspection means the ability for external code (outside of the\nobject's methods) to examine the type or properties of that object,\nand make decisions on how to treat that object based on that\ninformation.</p>\n<p>Both usage patterns serve the same general end, which is to be able to\nsupport the processing of diverse and potentially novel objects in a\nuniform way, but at the same time allowing processing decisions to be\ncustomized for each different type of object.</p>\n<p>In classical OOP theory, invocation is the preferred usage pattern,\nand inspection is actively discouraged, being considered a relic of an\nearlier, procedural programming style. However, in practice this view\nis simply too dogmatic and inflexible, and leads to a kind of design\nrigidity that is very much at odds with the dynamic nature of a\nlanguage like Python.</p>\n<p>In particular, there is often a need to process objects in a way that\nwasn't anticipated by the creator of the object class. It is not\nalways the best solution to build in to every object methods that\nsatisfy the needs of every possible user of that object. Moreover,\nthere are many powerful dispatch philosophies that are in direct\ncontrast to the classic OOP requirement of behavior being strictly\nencapsulated within an object, examples being rule or pattern-match\ndriven logic.</p>\n<p>On the other hand, one of the criticisms of inspection by classic OOP\ntheorists is the lack of formalisms and the ad hoc nature of what is\nbeing inspected. In a language such as Python, in which almost any\naspect of an object can be reflected and directly accessed by external\ncode, there are many different ways to test whether an object conforms\nto a particular protocol or not. For example, if asking 'is this\nobject a mutable sequence container?', one can look for a base class\nof 'list', or one can look for a method named '_<em>getitem</em>_'. But note\nthat although these tests may seem obvious, neither of them are\ncorrect, as one generates false negatives, and the other false\npositives.</p>\n<p>The generally agreed-upon remedy is to standardize the tests, and\ngroup them into a formal arrangement. This is most easily done by\nassociating with each class a set of standard testable properties,\neither via the inheritance mechanism or some other means. Each test\ncarries with it a set of promises: it contains a promise about the\ngeneral behavior of the class, and a promise as to what other class\nmethods will be available.</p>\n<p>This PEP proposes a particular strategy for organizing these tests\nknown as Abstract Base Classes, or ABC. ABCs are simply Python classes\nthat are added into an object's inheritance tree to signal certain\nfeatures of that object to an external inspector. Tests are done using\nisinstance(), and the presence of a particular ABC means that the test\nhas passed.</p>\n<p>In addition, the ABCs define a minimal set of methods that establish\nthe characteristic behavior of the type. Code that discriminates\nobjects based on their ABC type can trust that those methods will\nalways be present. Each of these methods are accompanied by an\ngeneralized abstract semantic definition that is described in the\ndocumentation for the ABC. These standard semantic definitions are not\nenforced, but are strongly recommended.</p>\n<p>Like all other things in Python, these promises are in the nature of a\ngentlemen's agreement, which in this case means that while the\nlanguage does enforce some of the promises made in the ABC, it is up\nto the implementer of the concrete class to insure that the remaining\nones are kept.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":352992,"reputation":22062,"user_id":690430,"accept_rate":100,"display_name":"Kamil Sindi"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1521811513,"creation_date":1495984302,"answer_id":44228820,"question_id":8181576,"body_markdown":"I wrote a [library][1] in 3.5+ the allows for writing interfaces in Python.\r\n\r\nThe gist is to write a class decorator with the help of `inspect`.\r\n\r\n\r\n    import inspect\r\n    \r\n    \r\n    def implements(interface_cls):\r\n        def _decorator(cls):\r\n            verify_methods(interface_cls, cls)\r\n            verify_properties(interface_cls, cls)\r\n            verify_attributes(interface_cls, cls)\r\n            return cls\r\n    \r\n        return _decorator\r\n    \r\n    \r\n    def verify_methods(interface_cls, cls):\r\n        methods_predicate = lambda m: inspect.isfunction(m) or inspect.ismethod(m)\r\n        for name, method in inspect.getmembers(interface_cls, methods_predicate):\r\n            signature = inspect.signature(method)\r\n            cls_method = getattr(cls, name, None)\r\n            cls_signature = inspect.signature(cls_method) if cls_method else None\r\n            if cls_signature != signature:\r\n                raise NotImplementedError(\r\n                    &quot;&#39;{}&#39; must implement method &#39;{}({})&#39; defined in interface &#39;{}&#39;&quot;\r\n                    .format(cls.__name__, name, signature, interface_cls.__name__)\r\n                )\r\n    \r\n    \r\n    def verify_properties(interface_cls, cls):\r\n        prop_attrs = dict(fget=&#39;getter&#39;, fset=&#39;setter&#39;, fdel=&#39;deleter&#39;)\r\n        for name, prop in inspect.getmembers(interface_cls, inspect.isdatadescriptor):\r\n            cls_prop = getattr(cls, name, None)\r\n            for attr in prop_attrs:\r\n                # instanceof doesn&#39;t work for class function comparison\r\n                if type(getattr(prop, attr, None)) != type(getattr(cls_prop, attr, None)):\r\n                    raise NotImplementedError(\r\n                        &quot;&#39;{}&#39; must implement a {} for property &#39;{}&#39; defined in interface &#39;{}&#39;&quot;  # flake8: noqa\r\n                        .format(cls.__name__, prop_attrs[attr], name, interface_cls.__name__)\r\n                    )\r\n    \r\n    \r\n    def verify_attributes(interface_cls, cls):\r\n        interface_attributes = get_attributes(interface_cls)\r\n        cls_attributes = get_attributes(cls)\r\n        for missing_attr in (interface_attributes - cls_attributes):\r\n            raise NotImplementedError(\r\n                &quot;&#39;{}&#39; must have class attribute &#39;{}&#39; defined in interface &#39;{}&#39;&quot;\r\n                .format(cls.__name__, missing_attr, interface_cls.__name__)\r\n            )\r\n    \r\n    \r\n    def get_attributes(cls):\r\n        boring = dir(type(&#39;dummy&#39;, (object,), {}))\r\n        return set(item[0] for item in inspect.getmembers(cls)\r\n                   if item[0] not in boring and not callable(item[1]))\r\n\r\n\r\nYou can then write classes like this:\r\n\r\n    class Quackable:\r\n        def quack(self) -&gt; bool:\r\n            pass\r\n    \r\n\r\n    @implements(Quackable)\r\n    class MallardDuck:    \r\n        def quack(self) -&gt; bool:\r\n            pass\r\n\r\nBelow would give you an error though:\r\n\r\n    @implements(Quackable)\r\n    class RubberDuck:    \r\n        def quack(self) -&gt; str:\r\n            pass\r\n\r\n    NotImplementedError: &#39;RubberdDuck&#39; must implement method &#39;quack((self) -&gt; bool)&#39; defined in interface &#39;Quackable&#39;\r\n\r\n  [1]: https://github.com/ksindi/implements\r\n","title":"Java abstract/interface design in Python","body":"<p>I wrote a <a href=\"https://github.com/ksindi/implements\" rel=\"nofollow noreferrer\">library</a> in 3.5+ the allows for writing interfaces in Python.</p>\n\n<p>The gist is to write a class decorator with the help of <code>inspect</code>.</p>\n\n<pre><code>import inspect\n\n\ndef implements(interface_cls):\n    def _decorator(cls):\n        verify_methods(interface_cls, cls)\n        verify_properties(interface_cls, cls)\n        verify_attributes(interface_cls, cls)\n        return cls\n\n    return _decorator\n\n\ndef verify_methods(interface_cls, cls):\n    methods_predicate = lambda m: inspect.isfunction(m) or inspect.ismethod(m)\n    for name, method in inspect.getmembers(interface_cls, methods_predicate):\n        signature = inspect.signature(method)\n        cls_method = getattr(cls, name, None)\n        cls_signature = inspect.signature(cls_method) if cls_method else None\n        if cls_signature != signature:\n            raise NotImplementedError(\n                \"'{}' must implement method '{}({})' defined in interface '{}'\"\n                .format(cls.__name__, name, signature, interface_cls.__name__)\n            )\n\n\ndef verify_properties(interface_cls, cls):\n    prop_attrs = dict(fget='getter', fset='setter', fdel='deleter')\n    for name, prop in inspect.getmembers(interface_cls, inspect.isdatadescriptor):\n        cls_prop = getattr(cls, name, None)\n        for attr in prop_attrs:\n            # instanceof doesn't work for class function comparison\n            if type(getattr(prop, attr, None)) != type(getattr(cls_prop, attr, None)):\n                raise NotImplementedError(\n                    \"'{}' must implement a {} for property '{}' defined in interface '{}'\"  # flake8: noqa\n                    .format(cls.__name__, prop_attrs[attr], name, interface_cls.__name__)\n                )\n\n\ndef verify_attributes(interface_cls, cls):\n    interface_attributes = get_attributes(interface_cls)\n    cls_attributes = get_attributes(cls)\n    for missing_attr in (interface_attributes - cls_attributes):\n        raise NotImplementedError(\n            \"'{}' must have class attribute '{}' defined in interface '{}'\"\n            .format(cls.__name__, missing_attr, interface_cls.__name__)\n        )\n\n\ndef get_attributes(cls):\n    boring = dir(type('dummy', (object,), {}))\n    return set(item[0] for item in inspect.getmembers(cls)\n               if item[0] not in boring and not callable(item[1]))\n</code></pre>\n\n<p>You can then write classes like this:</p>\n\n<pre><code>class Quackable:\n    def quack(self) -&gt; bool:\n        pass\n\n\n@implements(Quackable)\nclass MallardDuck:    \n    def quack(self) -&gt; bool:\n        pass\n</code></pre>\n\n<p>Below would give you an error though:</p>\n\n<pre><code>@implements(Quackable)\nclass RubberDuck:    \n    def quack(self) -&gt; str:\n        pass\n\nNotImplementedError: 'RubberdDuck' must implement method 'quack((self) -&gt; bool)' defined in interface 'Quackable'\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16419918,"reputation":2129,"user_id":11861378,"display_name":"Ad&#225;n Escobar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675769900,"creation_date":1675769900,"answer_id":75372827,"question_id":8181576,"body_markdown":"according this articule https://realpython.com/python-interface/ , this is how you can do `formal interface`:\r\n\r\n    import abc\r\n    \r\n    class CRUDInterface(metaclass=abc.ABCMeta):\r\n        @abc.abstractmethod\r\n        def create(self, *args, **kwargs):\r\n            &quot;&quot;&quot;Load in the data set&quot;&quot;&quot;\r\n            raise NotImplementedError\r\n        \r\n        @abc.abstractmethod\r\n        def read(self, *args, **kwargs):\r\n            &quot;&quot;&quot;Load in the data set&quot;&quot;&quot;\r\n            raise NotImplementedError\r\n        \r\n        @abc.abstractmethod\r\n        def update(self, *args, **kwargs):\r\n            &quot;&quot;&quot;Load in the data set&quot;&quot;&quot;\r\n            raise NotImplementedError\r\n        \r\n        @abc.abstractmethod\r\n        def delete(self, *args, **kwargs):\r\n            &quot;&quot;&quot;Load in the data set&quot;&quot;&quot;\r\n            raise NotImplementedError\r\n    \r\n    \r\n    \r\n    class ModelTest1(CRUDInterface):\r\n        def create(self, *args, **kwargs):\r\n            pass\r\n        def read(self, *args, **kwargs):\r\n            pass\r\n        def update(self, *args, **kwargs):\r\n            pass\r\n        def delete(self, *args, **kwargs):\r\n            pass\r\n        \r\n    class ModelTest2(CRUDInterface):\r\n            pass\r\n        \r\nformal interface that will raise errors when the abstract methods aren’t overridden.\r\n\r\n    &gt;&gt;&gt; t1 = ModelTest1()\r\n    &gt;&gt;&gt; t2 = ModelTest2()\r\n    Traceback (most recent call last):\r\n      File &quot;../abstractmodel.py&quot;, line 46, in &lt;module&gt;\r\n        t2 = ModelTest2()\r\n    TypeError: Can&#39;t instantiate abstract class ModelTest2 with abstract methods create, delete, read, update","title":"Java abstract/interface design in Python","body":"<p>according this articule <a href=\"https://realpython.com/python-interface/\" rel=\"nofollow noreferrer\">https://realpython.com/python-interface/</a> , this is how you can do <code>formal interface</code>:</p>\n<pre><code>import abc\n\nclass CRUDInterface(metaclass=abc.ABCMeta):\n    @abc.abstractmethod\n    def create(self, *args, **kwargs):\n        &quot;&quot;&quot;Load in the data set&quot;&quot;&quot;\n        raise NotImplementedError\n    \n    @abc.abstractmethod\n    def read(self, *args, **kwargs):\n        &quot;&quot;&quot;Load in the data set&quot;&quot;&quot;\n        raise NotImplementedError\n    \n    @abc.abstractmethod\n    def update(self, *args, **kwargs):\n        &quot;&quot;&quot;Load in the data set&quot;&quot;&quot;\n        raise NotImplementedError\n    \n    @abc.abstractmethod\n    def delete(self, *args, **kwargs):\n        &quot;&quot;&quot;Load in the data set&quot;&quot;&quot;\n        raise NotImplementedError\n\n\n\nclass ModelTest1(CRUDInterface):\n    def create(self, *args, **kwargs):\n        pass\n    def read(self, *args, **kwargs):\n        pass\n    def update(self, *args, **kwargs):\n        pass\n    def delete(self, *args, **kwargs):\n        pass\n    \nclass ModelTest2(CRUDInterface):\n        pass\n    \n</code></pre>\n<p>formal interface that will raise errors when the abstract methods aren’t overridden.</p>\n<pre><code>&gt;&gt;&gt; t1 = ModelTest1()\n&gt;&gt;&gt; t2 = ModelTest2()\nTraceback (most recent call last):\n  File &quot;../abstractmodel.py&quot;, line 46, in &lt;module&gt;\n    t2 = ModelTest2()\nTypeError: Can't instantiate abstract class ModelTest2 with abstract methods create, delete, read, update\n</code></pre>\n"}],"owner":{"account_id":151953,"reputation":11207,"user_id":366133,"accept_rate":98,"display_name":"Matt"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":26064,"favorite_count":0,"down_vote_count":0,"up_vote_count":50,"accepted_answer_id":8181859,"answer_count":5,"score":50,"last_activity_date":1675769900,"creation_date":1321615266,"question_id":8181576,"body_markdown":"I have a number of classes which all share the same methods, only with different implementations. In Java, it would make sense to have each of these classes implement an interface or extend an abstract class. Does Python have anything similar to this, or should I be taking an alternative approach?","title":"Java abstract/interface design in Python","body":"<p>I have a number of classes which all share the same methods, only with different implementations. In Java, it would make sense to have each of these classes implement an interface or extend an abstract class. Does Python have anything similar to this, or should I be taking an alternative approach?</p>\n"},{"tags":["java","mysql","jdbc"],"comments":[{"owner":{"account_id":213468,"reputation":103485,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1675679023,"post_id":75357408,"comment_id":132973890,"body_markdown":"Which version of MySQL Connector/J are you using, and which version of MySQL? At a guess, you&#39;re using a 5.1.x version of Connector/J and MySQL 8. You need to upgrade to the latest 5.1.x or to the 8.0.x version of MySQL Connector/J if you want to connect to MySQL 8.","body":"Which version of MySQL Connector/J are you using, and which version of MySQL? At a guess, you&#39;re using a 5.1.x version of Connector/J and MySQL 8. You need to upgrade to the latest 5.1.x or to the 8.0.x version of MySQL Connector/J if you want to connect to MySQL 8."}],"answers":[{"tags":[],"owner":{"account_id":11698628,"reputation":107,"user_id":8564538,"display_name":"Nikhil Shinde"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1675658841,"creation_date":1675658841,"answer_id":75357419,"question_id":75357408,"body_markdown":"Did you try adding this before calling getConnection? \r\nClass.forName(&quot;com.mysql.jdbc.Driver&quot;);  \r\n","title":"Could not create connection to MySQL database server using JDBC","body":"<p>Did you try adding this before calling getConnection?\nClass.forName(&quot;com.mysql.jdbc.Driver&quot;);</p>\n"}],"owner":{"account_id":27712813,"reputation":1,"user_id":21155129,"display_name":"GROOKEY"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":276,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675769688,"creation_date":1675658646,"question_id":75357408,"body_markdown":"I wrote this program and I just started using JDBC and MySQL:\r\n\r\n```java\r\nimport java.sql.*;\r\n\r\npublic class Main {\r\n    public static void main(String[] args) throws SQLException{\r\n        String mysqlUrl = &quot;jdbc:mysql://localhost:3306/sql_invoicing?autoReconnect=true&amp;useSSL=false&quot;;\r\n        Connection con = DriverManager.getConnection(mysqlUrl, &quot;root&quot;, &quot;****&quot;);\r\n        System.out.println(&quot;Connection established......&quot;);\r\n    }\r\n}\r\n```\r\n\r\nI am getting the below errors when I run it. Can someone help fixing this?\r\n\r\n```none\r\nException in thread &quot;main&quot; com.mysql.jdbc.exceptions.jdbc4.MySQLNonTransientConnectionException: Could not create connection to database server. Attempted reconnect 3 times. Giving up.\r\n\tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:78)\r\n\tat java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n\tat java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)\r\n\tat java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)\r\n\tat com.mysql.jdbc.Util.handleNewInstance(Util.java:425)\r\n\tat com.mysql.jdbc.Util.getInstance(Util.java:408)\r\n\tat com.mysql.jdbc.SQLError.createSQLException(SQLError.java:918)\r\n\tat com.mysql.jdbc.SQLError.createSQLException(SQLError.java:897)\r\n\tat com.mysql.jdbc.SQLError.createSQLException(SQLError.java:886)\r\n\tat com.mysql.jdbc.SQLError.createSQLException(SQLError.java:860)\r\n\tat com.mysql.jdbc.ConnectionImpl.connectWithRetries(ConnectionImpl.java:2163)\r\n\tat com.mysql.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:2088)\r\n\tat com.mysql.jdbc.ConnectionImpl.&lt;init&gt;(ConnectionImpl.java:806)\r\n\tat com.mysql.jdbc.JDBC4Connection.&lt;init&gt;(JDBC4Connection.java:47)\r\n\tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:78)\r\n\tat java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n\tat java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)\r\n\tat java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)\r\n\tat com.mysql.jdbc.Util.handleNewInstance(Util.java:425)\r\n\tat com.mysql.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:410)\r\n\tat com.mysql.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:328)\r\n\tat java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)\r\n\tat java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)\r\n\tat Main.main(Main.java:5)\r\nCaused by: java.lang.NullPointerException: Cannot invoke &quot;java.util.Map.get(Object)&quot; because &quot;this.serverVariables&quot; is null\r\n\tat com.mysql.jdbc.ConnectionImpl.getServerCharset(ConnectionImpl.java:2997)\r\n\tat com.mysql.jdbc.MysqlIO.sendConnectionAttributes(MysqlIO.java:1934)\r\n\tat com.mysql.jdbc.MysqlIO.proceedHandshakeWithPluggableAuthentication(MysqlIO.java:1863)\r\n\tat com.mysql.jdbc.MysqlIO.doHandshake(MysqlIO.java:1226)\r\n\tat com.mysql.jdbc.ConnectionImpl.coreConnect(ConnectionImpl.java:2253)\r\n\tat com.mysql.jdbc.ConnectionImpl.connectWithRetries(ConnectionImpl.java:2104)\r\n\t... 14 more\r\n```\r\n\r\nI verified that the database was running and the username and password were correct.","title":"Could not create connection to MySQL database server using JDBC","body":"<p>I wrote this program and I just started using JDBC and MySQL:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.sql.*;\n\npublic class Main {\n    public static void main(String[] args) throws SQLException{\n        String mysqlUrl = &quot;jdbc:mysql://localhost:3306/sql_invoicing?autoReconnect=true&amp;useSSL=false&quot;;\n        Connection con = DriverManager.getConnection(mysqlUrl, &quot;root&quot;, &quot;****&quot;);\n        System.out.println(&quot;Connection established......&quot;);\n    }\n}\n</code></pre>\n<p>I am getting the below errors when I run it. Can someone help fixing this?</p>\n<pre class=\"lang-none prettyprint-override\"><code>Exception in thread &quot;main&quot; com.mysql.jdbc.exceptions.jdbc4.MySQLNonTransientConnectionException: Could not create connection to database server. Attempted reconnect 3 times. Giving up.\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:78)\n    at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n    at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)\n    at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)\n    at com.mysql.jdbc.Util.handleNewInstance(Util.java:425)\n    at com.mysql.jdbc.Util.getInstance(Util.java:408)\n    at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:918)\n    at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:897)\n    at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:886)\n    at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:860)\n    at com.mysql.jdbc.ConnectionImpl.connectWithRetries(ConnectionImpl.java:2163)\n    at com.mysql.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:2088)\n    at com.mysql.jdbc.ConnectionImpl.&lt;init&gt;(ConnectionImpl.java:806)\n    at com.mysql.jdbc.JDBC4Connection.&lt;init&gt;(JDBC4Connection.java:47)\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:78)\n    at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n    at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)\n    at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)\n    at com.mysql.jdbc.Util.handleNewInstance(Util.java:425)\n    at com.mysql.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:410)\n    at com.mysql.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:328)\n    at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)\n    at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)\n    at Main.main(Main.java:5)\nCaused by: java.lang.NullPointerException: Cannot invoke &quot;java.util.Map.get(Object)&quot; because &quot;this.serverVariables&quot; is null\n    at com.mysql.jdbc.ConnectionImpl.getServerCharset(ConnectionImpl.java:2997)\n    at com.mysql.jdbc.MysqlIO.sendConnectionAttributes(MysqlIO.java:1934)\n    at com.mysql.jdbc.MysqlIO.proceedHandshakeWithPluggableAuthentication(MysqlIO.java:1863)\n    at com.mysql.jdbc.MysqlIO.doHandshake(MysqlIO.java:1226)\n    at com.mysql.jdbc.ConnectionImpl.coreConnect(ConnectionImpl.java:2253)\n    at com.mysql.jdbc.ConnectionImpl.connectWithRetries(ConnectionImpl.java:2104)\n    ... 14 more\n</code></pre>\n<p>I verified that the database was running and the username and password were correct.</p>\n"},{"tags":["java","mule","dataweave","mule4"],"answers":[{"tags":[],"owner":{"account_id":22577082,"reputation":573,"user_id":16762366,"display_name":"sudhish_s"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1675727189,"creation_date":1675727189,"answer_id":75367687,"question_id":75360870,"body_markdown":"Slightly different version. Used arrays for reference. \r\n\r\n```\r\n%dw 2.0\r\noutput application/xml\r\nvar hierarchy = [&quot;gp&quot;, &quot;parent&quot;, &quot;child&quot;]\r\nfun getDirectGeanologies(records, level) = do {\r\n    var hLevel = hierarchy[level]\r\n    ---\r\n    records groupBy $[hLevel] mapObject ((children, code) -&gt; \r\n        genealogy: {\r\n            code: code,\r\n            eye_colour: children[0][hLevel ++ &quot;_eye_colour&quot;],\r\n            name: children[0][hLevel ++ &quot;_name&quot;],\r\n            hierarchy: \r\n                if (level == sizeOf(hierarchy) - 1) {}\r\n                else do {\r\n                    var nextLevel = level + 1\r\n                    var nextGen = children groupBy ($[hierarchy[nextLevel]])\r\n                    --- \r\n                    nextGen mapObject ((nextGenChildren, nextGenCode) -&gt; \r\n                        if (nextGenCode == code)\r\n                            getDirectGeanologies (nextGenChildren, nextLevel + 1 )\r\n                        else\r\n                            getDirectGeanologies (nextGenChildren, nextLevel)\r\n                    )                   \r\n                }\r\n                                            \r\n        }\r\n    )\r\n}\r\n---\r\nlist: getDirectGeanologies(payload,0)\r\n\r\n```\r\n\r\nThe issue with elements appear multiple times is due to the `level1Childs` is Array. Change the output to `json`, it will be more clear. If you want to use your code, change the `eye_colour` and `name` mapping to below\r\n```\r\n                eye_colour: if(isGp) (level1Childs[0].gp_eye_colour) else if(isParent) (level1Childs[0].parent_eye_colour) else (level1Childs[0].child_eye_colour),\r\n                name: if(isGp) (level1Childs[0].gp_name) else if(isParent) (level1Childs[0].parent_name) else (level1Childs[0].child_name),\r\n```","title":"Derive parent-child hierarchy from an array using DataWeave (additional details)","body":"<p>Slightly different version. Used arrays for reference.</p>\n<pre><code>%dw 2.0\noutput application/xml\nvar hierarchy = [&quot;gp&quot;, &quot;parent&quot;, &quot;child&quot;]\nfun getDirectGeanologies(records, level) = do {\n    var hLevel = hierarchy[level]\n    ---\n    records groupBy $[hLevel] mapObject ((children, code) -&gt; \n        genealogy: {\n            code: code,\n            eye_colour: children[0][hLevel ++ &quot;_eye_colour&quot;],\n            name: children[0][hLevel ++ &quot;_name&quot;],\n            hierarchy: \n                if (level == sizeOf(hierarchy) - 1) {}\n                else do {\n                    var nextLevel = level + 1\n                    var nextGen = children groupBy ($[hierarchy[nextLevel]])\n                    --- \n                    nextGen mapObject ((nextGenChildren, nextGenCode) -&gt; \n                        if (nextGenCode == code)\n                            getDirectGeanologies (nextGenChildren, nextLevel + 1 )\n                        else\n                            getDirectGeanologies (nextGenChildren, nextLevel)\n                    )                   \n                }\n                                            \n        }\n    )\n}\n---\nlist: getDirectGeanologies(payload,0)\n\n</code></pre>\n<p>The issue with elements appear multiple times is due to the <code>level1Childs</code> is Array. Change the output to <code>json</code>, it will be more clear. If you want to use your code, change the <code>eye_colour</code> and <code>name</code> mapping to below</p>\n<pre><code>                eye_colour: if(isGp) (level1Childs[0].gp_eye_colour) else if(isParent) (level1Childs[0].parent_eye_colour) else (level1Childs[0].child_eye_colour),\n                name: if(isGp) (level1Childs[0].gp_name) else if(isParent) (level1Childs[0].parent_name) else (level1Childs[0].child_name),\n</code></pre>\n"}],"owner":{"account_id":24768273,"reputation":361,"user_id":18652037,"display_name":"GettingStarted With123"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75367687,"answer_count":1,"score":0,"last_activity_date":1675769583,"creation_date":1675683794,"question_id":75360870,"body_markdown":"This is a follow up to an [earlier][1] question. Thanks @harshank for the quick help. I am posting this question separately since there was an additional check required which I had not asked in the earlier question. So, the solution posted earlier works fine for the stated requirement.\r\n\r\nI am adding the additional requirement here:\r\n1. The decision if ```gp``` and ```parent``` match depends on an additional attribute ```eye_colour``` (please see sample payload below).\r\n\r\n2. Also in the response additional fields need to be populated (which was not mentioned in the earlier question). Things like ```name``` and ```eye_colour```.\r\n\r\nSo, as an example this is the payload:\r\n\r\n```json\r\n[\r\n  {\r\n    &quot;gp&quot;: &quot;T1&quot;,\r\n    &quot;gp_eye_colour&quot;: &quot;blue&quot;,\r\n    &quot;gp_name&quot; : &quot;John&quot;,\r\n    &quot;parent&quot;: &quot;T1&quot;,\r\n    &quot;parent_eye_colour&quot; : &quot;black&quot;,\r\n    &quot;parent_name&quot; : &quot;Sam&quot;,\r\n    &quot;child&quot;: &quot;C1&quot;,\r\n    &quot;child_eye_colour&quot; : &quot;brown&quot;,\r\n    &quot;child_name&quot; : &quot;C1&quot;\r\n\r\n  },\r\n {\r\n    &quot;gp&quot;: &quot;T1&quot;,\r\n    &quot;gp_eye_colour&quot;: &quot;blue&quot;,\r\n    &quot;gp_name&quot; : &quot;John&quot;,\r\n    &quot;parent&quot;: &quot;T1&quot;,\r\n    &quot;parent_eye_colour&quot; : &quot;black&quot;,\r\n    &quot;parent_name&quot; : &quot;Sam&quot;,\r\n    &quot;child&quot;: &quot;C1&quot;,\r\n    &quot;child_eye_colour&quot; : &quot;brown&quot;,\r\n    &quot;child_name&quot; : &quot;C1&quot;\r\n\r\n  }\r\n  \r\n]\r\n```\r\n\r\nAnd now using the earlier solution, I have tried to build on top of it as: \r\n\r\n```\r\n%dw 2.0\r\noutput application/xml\r\n// hierarchy&#39;s structure. If, lets say you add a &quot;grand child&quot; it should work. (haven&#39;t tested this though)\r\nvar hierarchy = {\r\n    gp: {\r\n        parent: {\r\n            child: null\r\n        }\r\n    }\r\n}\r\nfun getDirectGeanologies(records, hierarchyStructure,isGp,isParent,isChild) = do {\r\n    var topLevel = keysOf(hierarchyStructure)[0] as String\r\n    var secondLevel = keysOf(hierarchyStructure[topLevel])[0]\r\n    ---\r\n    (records groupBy $[topLevel])\r\n        mapObject ((level1Childs, code) -&gt; \r\n            genealogy: {\r\n                code: code,\r\n                eye_colour: if(isGp) (level1Childs.gp_eye_colour) else if(isParent) (level1Childs.parent_eye_colour) else (level1Childs.child_eye_colour),\r\n                name: if(isGp) (level1Childs.gp_name) else if(isParent) (level1Childs.parent_name) else (level1Childs.child_name),\r\n                hierarchy:\r\n                    if(secondLevel != null) // If there are no more childs, do nothing.\r\n                        (level1Childs groupBy ((item) -&gt; item[secondLevel] ~= code) // This is to handle when parent = gp\r\n                            mapObject ((value, hasSameParent) -&gt; \r\n                                // If parent = gp, we want to skip parent and link directly to child\r\n                                if(hasSameParent as Boolean) getDirectGeanologies(value, hierarchyStructure[topLevel][secondLevel],false,false,true) \r\n                                // recurrsively call the function with child records and going down the hierarchyStructure by one\r\n                                else getDirectGeanologies(value, hierarchyStructure[topLevel],false,true,false) \r\n                        ))\r\n                    else {}\r\n            }\r\n        )\r\n}\r\n\r\n---\r\nlist: getDirectGeanologies(payload,hierarchy,true,false,false)\r\n```\r\n\r\nHowever, it is generating duplicate elements for ```eye_colour``` and ```name```. Ideally, it should print the values only once with the value of either gp / parent / child.\r\n\r\nThis is the expected response:\r\n\r\n```xml\r\n&lt;?xml version=&#39;1.0&#39; encoding=&#39;UTF-8&#39;?&gt;\r\n&lt;list&gt;\r\n  &lt;genealogy&gt;\r\n    &lt;code&gt;T1&lt;/code&gt;\r\n    &lt;eye_colour&gt;blue&lt;/eye_colour&gt;\r\n    &lt;name&gt;John&lt;/name&gt;\r\n    &lt;hierarchy&gt;\r\n      &lt;genealogy&gt;\r\n        &lt;code&gt;C1&lt;/code&gt;\r\n        &lt;eye_colour&gt;brown&lt;/eye_colour&gt;\r\n        &lt;name&gt;C1&lt;/name&gt;\r\n        &lt;hierarchy/&gt;\r\n      &lt;/genealogy&gt;\r\n    &lt;/hierarchy&gt;\r\n  &lt;/genealogy&gt;\r\n&lt;/list&gt;\r\n```\r\n\r\nI was also not able to figure out how to check if gp and parent have same values based on two fields (```gp &amp; gp_eye_colour``` vs ```parent &amp; parent_eye_colour```)\r\n\r\nThank you @sudhish_s for the response, adding an example to elaborate regarding decision of when to skip parent (when ```gp &amp; gp_eye_colour``` of gp are same as ```parent &amp; parent_eye_colour``` of parent).\r\n\r\nSample input: (Here parent ```Sam``` should _not_ be skipped since though gp and parent are same their eye colours are different. Similarly, in case of ```Don```, this parent should be skipped since gp and parent _and_ their eye colours are the same).\r\n\r\n```json\r\n[\r\n  {\r\n    &quot;gp&quot;: &quot;T1&quot;,\r\n    &quot;gp_eye_colour&quot;: &quot;blue&quot;,\r\n    &quot;gp_name&quot; : &quot;John&quot;,\r\n    &quot;parent&quot;: &quot;T1&quot;,\r\n    &quot;parent_eye_colour&quot; : &quot;black&quot;,\r\n    &quot;parent_name&quot; : &quot;Sam&quot;,\r\n    &quot;child&quot;: &quot;C1&quot;,\r\n    &quot;child_eye_colour&quot; : &quot;brown&quot;,\r\n    &quot;child_name&quot; : &quot;C1&quot;\r\n\r\n  },\r\n {\r\n    &quot;gp&quot;: &quot;T1&quot;,\r\n    &quot;gp_eye_colour&quot;: &quot;blue&quot;,\r\n    &quot;gp_name&quot; : &quot;John&quot;,\r\n    &quot;parent&quot;: &quot;T1&quot;,\r\n    &quot;parent_eye_colour&quot; : &quot;blue&quot;,\r\n    &quot;parent_name&quot; : &quot;Don&quot;,\r\n    &quot;child&quot;: &quot;C1&quot;,\r\n    &quot;child_eye_colour&quot; : &quot;brown&quot;,\r\n    &quot;child_name&quot; : &quot;C1&quot;\r\n  }  \r\n]\r\n```\r\n\r\nHere is the expected response:\r\n\r\n```xml\r\n&lt;?xml version=&#39;1.0&#39; encoding=&#39;UTF-8&#39;?&gt;\r\n&lt;list&gt;\r\n  &lt;genealogy&gt;\r\n    &lt;code&gt;T1&lt;/code&gt;\r\n    &lt;eye_colour&gt;blue&lt;/eye_colour&gt;\r\n    &lt;name&gt;John&lt;/name&gt;\r\n    &lt;hierarchy&gt;\r\n      &lt;genealogy&gt;\r\n        &lt;code&gt;T1&lt;/code&gt;\r\n        &lt;eye_colour&gt;black&lt;/eye_colour&gt;\r\n        &lt;name&gt;Sam&lt;/name&gt;\r\n        &lt;hierarchy&gt;\r\n          &lt;genealogy&gt;\r\n            &lt;code&gt;C1&lt;/code&gt;\r\n            &lt;eye_colour&gt;brown&lt;/eye_colour&gt;\r\n            &lt;name&gt;C1&lt;/name&gt;\r\n            &lt;hierarchy/&gt;\r\n          &lt;/genealogy&gt;\r\n        &lt;/hierarchy&gt;\r\n      &lt;/genealogy&gt;\r\n      &lt;genealogy&gt;\r\n        &lt;code&gt;C1&lt;/code&gt;\r\n        &lt;eye_colour&gt;brown&lt;/eye_colour&gt;\r\n        &lt;name&gt;C1&lt;/name&gt;\r\n        &lt;hierarchy/&gt;\r\n      &lt;/genealogy&gt;\r\n    &lt;/hierarchy&gt;\r\n  &lt;/genealogy&gt;\r\n&lt;/list&gt;\r\n```\r\n\r\n  [1]: https://stackoverflow.com/questions/75332945/derive-parent-child-hierarchy-from-an-array-using-dataweave","title":"Derive parent-child hierarchy from an array using DataWeave (additional details)","body":"<p>This is a follow up to an <a href=\"https://stackoverflow.com/questions/75332945/derive-parent-child-hierarchy-from-an-array-using-dataweave\">earlier</a> question. Thanks @harshank for the quick help. I am posting this question separately since there was an additional check required which I had not asked in the earlier question. So, the solution posted earlier works fine for the stated requirement.</p>\n<p>I am adding the additional requirement here:</p>\n<ol>\n<li><p>The decision if <code>gp</code> and <code>parent</code> match depends on an additional attribute <code>eye_colour</code> (please see sample payload below).</p>\n</li>\n<li><p>Also in the response additional fields need to be populated (which was not mentioned in the earlier question). Things like <code>name</code> and <code>eye_colour</code>.</p>\n</li>\n</ol>\n<p>So, as an example this is the payload:</p>\n<pre class=\"lang-json prettyprint-override\"><code>[\n  {\n    &quot;gp&quot;: &quot;T1&quot;,\n    &quot;gp_eye_colour&quot;: &quot;blue&quot;,\n    &quot;gp_name&quot; : &quot;John&quot;,\n    &quot;parent&quot;: &quot;T1&quot;,\n    &quot;parent_eye_colour&quot; : &quot;black&quot;,\n    &quot;parent_name&quot; : &quot;Sam&quot;,\n    &quot;child&quot;: &quot;C1&quot;,\n    &quot;child_eye_colour&quot; : &quot;brown&quot;,\n    &quot;child_name&quot; : &quot;C1&quot;\n\n  },\n {\n    &quot;gp&quot;: &quot;T1&quot;,\n    &quot;gp_eye_colour&quot;: &quot;blue&quot;,\n    &quot;gp_name&quot; : &quot;John&quot;,\n    &quot;parent&quot;: &quot;T1&quot;,\n    &quot;parent_eye_colour&quot; : &quot;black&quot;,\n    &quot;parent_name&quot; : &quot;Sam&quot;,\n    &quot;child&quot;: &quot;C1&quot;,\n    &quot;child_eye_colour&quot; : &quot;brown&quot;,\n    &quot;child_name&quot; : &quot;C1&quot;\n\n  }\n  \n]\n</code></pre>\n<p>And now using the earlier solution, I have tried to build on top of it as:</p>\n<pre><code>%dw 2.0\noutput application/xml\n// hierarchy's structure. If, lets say you add a &quot;grand child&quot; it should work. (haven't tested this though)\nvar hierarchy = {\n    gp: {\n        parent: {\n            child: null\n        }\n    }\n}\nfun getDirectGeanologies(records, hierarchyStructure,isGp,isParent,isChild) = do {\n    var topLevel = keysOf(hierarchyStructure)[0] as String\n    var secondLevel = keysOf(hierarchyStructure[topLevel])[0]\n    ---\n    (records groupBy $[topLevel])\n        mapObject ((level1Childs, code) -&gt; \n            genealogy: {\n                code: code,\n                eye_colour: if(isGp) (level1Childs.gp_eye_colour) else if(isParent) (level1Childs.parent_eye_colour) else (level1Childs.child_eye_colour),\n                name: if(isGp) (level1Childs.gp_name) else if(isParent) (level1Childs.parent_name) else (level1Childs.child_name),\n                hierarchy:\n                    if(secondLevel != null) // If there are no more childs, do nothing.\n                        (level1Childs groupBy ((item) -&gt; item[secondLevel] ~= code) // This is to handle when parent = gp\n                            mapObject ((value, hasSameParent) -&gt; \n                                // If parent = gp, we want to skip parent and link directly to child\n                                if(hasSameParent as Boolean) getDirectGeanologies(value, hierarchyStructure[topLevel][secondLevel],false,false,true) \n                                // recurrsively call the function with child records and going down the hierarchyStructure by one\n                                else getDirectGeanologies(value, hierarchyStructure[topLevel],false,true,false) \n                        ))\n                    else {}\n            }\n        )\n}\n\n---\nlist: getDirectGeanologies(payload,hierarchy,true,false,false)\n</code></pre>\n<p>However, it is generating duplicate elements for <code>eye_colour</code> and <code>name</code>. Ideally, it should print the values only once with the value of either gp / parent / child.</p>\n<p>This is the expected response:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version='1.0' encoding='UTF-8'?&gt;\n&lt;list&gt;\n  &lt;genealogy&gt;\n    &lt;code&gt;T1&lt;/code&gt;\n    &lt;eye_colour&gt;blue&lt;/eye_colour&gt;\n    &lt;name&gt;John&lt;/name&gt;\n    &lt;hierarchy&gt;\n      &lt;genealogy&gt;\n        &lt;code&gt;C1&lt;/code&gt;\n        &lt;eye_colour&gt;brown&lt;/eye_colour&gt;\n        &lt;name&gt;C1&lt;/name&gt;\n        &lt;hierarchy/&gt;\n      &lt;/genealogy&gt;\n    &lt;/hierarchy&gt;\n  &lt;/genealogy&gt;\n&lt;/list&gt;\n</code></pre>\n<p>I was also not able to figure out how to check if gp and parent have same values based on two fields (<code>gp &amp; gp_eye_colour</code> vs <code>parent &amp; parent_eye_colour</code>)</p>\n<p>Thank you @sudhish_s for the response, adding an example to elaborate regarding decision of when to skip parent (when <code>gp &amp; gp_eye_colour</code> of gp are same as <code>parent &amp; parent_eye_colour</code> of parent).</p>\n<p>Sample input: (Here parent <code>Sam</code> should <em>not</em> be skipped since though gp and parent are same their eye colours are different. Similarly, in case of <code>Don</code>, this parent should be skipped since gp and parent <em>and</em> their eye colours are the same).</p>\n<pre class=\"lang-json prettyprint-override\"><code>[\n  {\n    &quot;gp&quot;: &quot;T1&quot;,\n    &quot;gp_eye_colour&quot;: &quot;blue&quot;,\n    &quot;gp_name&quot; : &quot;John&quot;,\n    &quot;parent&quot;: &quot;T1&quot;,\n    &quot;parent_eye_colour&quot; : &quot;black&quot;,\n    &quot;parent_name&quot; : &quot;Sam&quot;,\n    &quot;child&quot;: &quot;C1&quot;,\n    &quot;child_eye_colour&quot; : &quot;brown&quot;,\n    &quot;child_name&quot; : &quot;C1&quot;\n\n  },\n {\n    &quot;gp&quot;: &quot;T1&quot;,\n    &quot;gp_eye_colour&quot;: &quot;blue&quot;,\n    &quot;gp_name&quot; : &quot;John&quot;,\n    &quot;parent&quot;: &quot;T1&quot;,\n    &quot;parent_eye_colour&quot; : &quot;blue&quot;,\n    &quot;parent_name&quot; : &quot;Don&quot;,\n    &quot;child&quot;: &quot;C1&quot;,\n    &quot;child_eye_colour&quot; : &quot;brown&quot;,\n    &quot;child_name&quot; : &quot;C1&quot;\n  }  \n]\n</code></pre>\n<p>Here is the expected response:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version='1.0' encoding='UTF-8'?&gt;\n&lt;list&gt;\n  &lt;genealogy&gt;\n    &lt;code&gt;T1&lt;/code&gt;\n    &lt;eye_colour&gt;blue&lt;/eye_colour&gt;\n    &lt;name&gt;John&lt;/name&gt;\n    &lt;hierarchy&gt;\n      &lt;genealogy&gt;\n        &lt;code&gt;T1&lt;/code&gt;\n        &lt;eye_colour&gt;black&lt;/eye_colour&gt;\n        &lt;name&gt;Sam&lt;/name&gt;\n        &lt;hierarchy&gt;\n          &lt;genealogy&gt;\n            &lt;code&gt;C1&lt;/code&gt;\n            &lt;eye_colour&gt;brown&lt;/eye_colour&gt;\n            &lt;name&gt;C1&lt;/name&gt;\n            &lt;hierarchy/&gt;\n          &lt;/genealogy&gt;\n        &lt;/hierarchy&gt;\n      &lt;/genealogy&gt;\n      &lt;genealogy&gt;\n        &lt;code&gt;C1&lt;/code&gt;\n        &lt;eye_colour&gt;brown&lt;/eye_colour&gt;\n        &lt;name&gt;C1&lt;/name&gt;\n        &lt;hierarchy/&gt;\n      &lt;/genealogy&gt;\n    &lt;/hierarchy&gt;\n  &lt;/genealogy&gt;\n&lt;/list&gt;\n</code></pre>\n"},{"tags":["java","kotlin","file","stream","kotlin-extension"],"answers":[{"tags":[],"owner":{"account_id":26757667,"reputation":237,"user_id":20356055,"display_name":"Fah"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1675769476,"creation_date":1675769404,"answer_id":75372740,"question_id":75372544,"body_markdown":"The ```readText``` and ```writeText``` methods call the ```use``` method on the Input and OutputStream. \r\n(See: https://github.com/JetBrains/kotlin/blob/30788566012c571aa1d3590912468d1ebe59983d/libraries/stdlib/jvm/src/kotlin/io/FileReadWrite.kt#L108)\r\n\r\nAccording to the documentation this method automatically closes the object afterwards.\r\nhttps://kotlinlang.org/api/latest/jvm/stdlib/kotlin.io/use.html\r\n\r\nSo there is no need to close it manually.","title":"How to close input or output stream when using Kotlin File&#39;s extensions","body":"<p>The <code>readText</code> and <code>writeText</code> methods call the <code>use</code> method on the Input and OutputStream.\n(See: <a href=\"https://github.com/JetBrains/kotlin/blob/30788566012c571aa1d3590912468d1ebe59983d/libraries/stdlib/jvm/src/kotlin/io/FileReadWrite.kt#L108\" rel=\"nofollow noreferrer\">https://github.com/JetBrains/kotlin/blob/30788566012c571aa1d3590912468d1ebe59983d/libraries/stdlib/jvm/src/kotlin/io/FileReadWrite.kt#L108</a>)</p>\n<p>According to the documentation this method automatically closes the object afterwards.\n<a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.io/use.html\" rel=\"nofollow noreferrer\">https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.io/use.html</a></p>\n<p>So there is no need to close it manually.</p>\n"}],"owner":{"account_id":10976817,"reputation":1451,"user_id":8065249,"display_name":"Hamza Khan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":302,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75372740,"answer_count":1,"score":0,"last_activity_date":1675769476,"creation_date":1675768316,"question_id":75372544,"body_markdown":"Do we need to close input or output stream when we use Kotlin&#39;s File.readText or File.writeText extensions\r\n\r\n    file.readText()\r\n    file.writeText(&quot;something&quot;)","title":"How to close input or output stream when using Kotlin File&#39;s extensions","body":"<p>Do we need to close input or output stream when we use Kotlin's File.readText or File.writeText extensions</p>\n<pre><code>file.readText()\nfile.writeText(&quot;something&quot;)\n</code></pre>\n"},{"tags":["java","json","spring","rest","spring-boot"],"comments":[{"owner":{"account_id":14177195,"reputation":187,"user_id":10242032,"display_name":"Sivaraj Velayutham"},"score":1,"creation_date":1559274225,"post_id":56388326,"comment_id":99376323,"body_markdown":"remove the .toString() method from your object if you &quot;override&quot; the toString() method in you response class. your Jackson or gson lib will automatically take the responsibility of parsing the objects.","body":"remove the .toString() method from your object if you &quot;override&quot; the toString() method in you response class. your Jackson or gson lib will automatically take the responsibility of parsing the objects."},{"owner":{"account_id":13779116,"reputation":71,"user_id":9944654,"display_name":"Carol"},"score":0,"creation_date":1559274883,"post_id":56388326,"comment_id":99376458,"body_markdown":"@SivarajVelayutham i tried removing the toString() method from response object but there is no change.I also removed from the dependant classes still no change","body":"@SivarajVelayutham i tried removing the toString() method from response object but there is no change.I also removed from the dependant classes still no change"},{"owner":{"account_id":5351903,"reputation":1369,"user_id":4265824,"accept_rate":45,"display_name":"Ganesh Gudghe"},"score":0,"creation_date":1559275245,"post_id":56388326,"comment_id":99376518,"body_markdown":"if your ReturnObject&lt;T&gt; response = engine.calculate((T) request.getA(), (T) request.getB());  return sting then change controller return type ResponseEntity&lt;String&gt;","body":"if your ReturnObject&lt;T&gt; response = engine.calculate((T) request.getA(), (T) request.getB());  return sting then change controller return type ResponseEntity&lt;String&gt;"},{"owner":{"account_id":4767709,"reputation":1245,"user_id":3853405,"accept_rate":25,"display_name":"Jaspreet Jolly"},"score":0,"creation_date":1559281698,"post_id":56388326,"comment_id":99377878,"body_markdown":"Try removing &lt;T extends Serializable&gt; from controller as I think it will make the rest response to string.If it works let us know.","body":"Try removing &lt;T extends Serializable&gt; from controller as I think it will make the rest response to string.If it works let us know."}],"answers":[{"tags":[],"owner":{"account_id":2600542,"reputation":11,"user_id":2253081,"display_name":"user2253081"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1559282585,"creation_date":1559282585,"answer_id":56389463,"question_id":56388326,"body_markdown":"After Second &quot;create&quot; it is Basically converting your value to String.\r\nplease implement this annotation\r\n    @PostMapping(&quot;/api/processEngine&quot;)\r\nplease Try this and Let Me know immediately","title":"Remove backslashes from response entity Json in Java","body":"<p>After Second \"create\" it is Basically converting your value to String.\nplease implement this annotation\n    @PostMapping(\"/api/processEngine\")\nplease Try this and Let Me know immediately</p>\n"},{"tags":[],"owner":{"account_id":6740288,"reputation":2238,"user_id":5193747,"accept_rate":47,"display_name":"Kamil W"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1559283204,"creation_date":1559283204,"answer_id":56389586,"question_id":56388326,"body_markdown":"You need to use the parser, to get pretty JSON string, guess you&#39;re using Jackson,  so you can do it in this way:\r\n```\r\nObjectMapper objectMapper = new ObjectMapper();\r\nobjectMapper.writerWithDefaultPrettyPrinter().writeValueAsString(yourObject);\r\n```","title":"Remove backslashes from response entity Json in Java","body":"<p>You need to use the parser, to get pretty JSON string, guess you're using Jackson,  so you can do it in this way:</p>\n\n<pre><code>ObjectMapper objectMapper = new ObjectMapper();\nobjectMapper.writerWithDefaultPrettyPrinter().writeValueAsString(yourObject);\n</code></pre>\n"}],"owner":{"account_id":13779116,"reputation":71,"user_id":9944654,"display_name":"Carol"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7241,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1675769445,"creation_date":1559273550,"question_id":56388326,"body_markdown":"I am testing my Rest controller and when i print the results in java they seem to be okay but on swagger or postman it return slashes. How do i remove these.\r\n\r\nIn Java i print the object with a log and the result is as below:\r\n\r\nReturnObject\r\n```\r\n    {\r\n      create=Create{\r\n        create={\r\n          &quot;Apartment&quot;: &quot;Flat&quot;,\r\n          &quot;Drink&quot;: {\r\n            &quot;Alchol&quot;: {\r\n              &quot;Beer&quot;: {\r\n                &quot;Dutch&quot;: &quot;Groeshe&quot;,\r\n                &quot;Zimbo&quot;: &quot;Zambezi&quot;\r\n              },\r\n              &quot;Wine&quot;: &quot;pocupine&quot;\r\n            },\r\n            &quot;NonAlcoholic&quot;: {\r\n              &quot;fizzy&quot;: &quot;Coke&quot;,\r\n              &quot;juice&quot;: &quot;liquifruit&quot;\r\n            }\r\n          },\r\n          &quot;fruit&quot;: &quot;Apple&quot;,\r\n          &quot;size&quot;: &quot;Large&quot;,\r\n          &quot;color&quot;: &quot;Red&quot;,\r\n          &quot;Proffesion&quot;: [\r\n            &quot;Java&quot;,\r\n            &quot;Lawyer&quot;\r\n          ],\r\n          &quot;cars&quot;: {\r\n            &quot;type&quot;: &quot;BMW&quot;,\r\n            &quot;Color&quot;: &quot;Brown&quot;\r\n          }\r\n        }\r\n      },\r\n      update=null,\r\n      delete=null\r\n    }\r\n```\r\nI googled and nothing in java seems to solve this problem. Please assist\r\n```\r\n    @RestController\r\n    public class ProcessController&lt;T extends Serializable&gt; {\r\n\r\n\t\r\n\t@Autowired\r\n    private EngineImpl engine;\r\n\r\n\t\r\n\t@RequestMapping(value = &quot;/api/processEngine&quot;, method = RequestMethod.POST, produces = &quot;application/json&quot;)\r\n    public ResponseEntity&lt;ReturnObject&lt;T&gt;&gt; processEngine(@RequestBody final Request request) throws Exception {\r\n             \r\n        ReturnObject&lt;T&gt; response = engine.calculate((T) request.getA(), (T) request.getB());\r\n\r\n        LOG.info(&quot;ReturnObject engine response parameters: &quot; + response);\r\n        //Prints: ReturnObject{create=Create{create={&quot;Apartment&quot;:&quot;Flat&quot;,&quot;Drink&quot;:{&quot;Alchol&quot;:{&quot;Beer&quot;:{&quot;Dutch&quot;:&quot;Groeshe&quot;,&quot;Zimbo&quot;:&quot;Zambezi&quot;},&quot;Wine&quot;:&quot;pocupine&quot;},&quot;NonAlcoholic&quot;:{&quot;fizzy&quot;:&quot;Coke&quot;,&quot;juice&quot;:&quot;liquifruit&quot;}},&quot;fruit&quot;:&quot;Apple&quot;,&quot;size&quot;:&quot;Large&quot;,&quot;color&quot;:&quot;Red&quot;,&quot;Proffesion&quot;:[&quot;Java&quot;,&quot;Lawyer&quot;],&quot;cars&quot;:{&quot;type&quot;:&quot;BMW&quot;,&quot;Color&quot;:&quot;Brown&quot;}}}, update=null, delete=null}\r\n        return new ResponseEntity&lt;&gt;(response, HttpStatus.OK);\r\n    }\r\n}\r\n```\r\nExpected: \r\n```\r\n    {\r\n\t  &quot;create&quot;: {\r\n\t\t&quot;create&quot;: {\r\n\t\t\t&quot;Apartment&quot;: &quot;Flat&quot;,\r\n\t\t\t&quot;Drink&quot;: {\r\n\t\t\t\t&quot;Alchol&quot;: {\r\n\t\t\t\t\t&quot;Beer&quot;: {\r\n\t\t\t\t\t\t&quot;Dutch&quot;: &quot;Groeshe&quot;,\r\n\t\t\t\t\t\t&quot;Zimbo&quot;: &quot;Zambezi&quot;\r\n\r\n\t\t\t\t\t},\r\n\t\t\t\t\t&quot;Wine&quot;: &quot;pocupine&quot;\r\n\r\n\t\t\t\t},\r\n\t\t\t\t&quot;NonAlcoholic&quot;: {\r\n\t\t\t\t\t&quot;fizzy&quot;: &quot;Coke&quot;,\r\n\t\t\t\t\t&quot;juice&quot;: &quot;liquifruit&quot;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t&quot;fruit&quot;: &quot;Apple&quot;,\r\n\t\t\t&quot;size&quot;: &quot;Large&quot;,\r\n\t\t\t&quot;color&quot;: &quot;Red&quot;,\r\n\t\t\t&quot;Proffesion&quot;: [&quot;Java&quot;, &quot;Lawyer&quot;],\r\n\t\t\t&quot;cars&quot;: {\r\n\t\t\t\t&quot;type&quot;: &quot;BMW&quot;,\r\n\t\t\t\t&quot;Color&quot;: &quot;Brown&quot;\r\n\t\t\t}\r\n\t\t},\r\n\t\t&quot;update&quot;: null,\r\n\t\t&quot;delete&quot;: null\r\n\t}\r\n}\r\n```\r\nActual:\r\n```\r\n    {\r\n      &quot;create&quot;: {\r\n        &quot;create&quot;: &quot;{\\&quot;Apartment\\&quot;:\\&quot;Flat\\&quot;,\\&quot;Drink\\&quot;:{\\&quot;Alchol\\&quot;:{\\&quot;Beer\\&quot;:{\\&quot;Dutch\\&quot;:\\&quot;Groeshe\\&quot;,\\&quot;Zimbo\\&quot;:\\&quot;Zambezi\\&quot;},\\&quot;Wine\\&quot;:\\&quot;pocupine\\&quot;},\\&quot;NonAlcoholic\\&quot;:{\\&quot;fizzy\\&quot;:\\&quot;Coke\\&quot;,\\&quot;juice\\&quot;:\\&quot;liquifruit\\&quot;}},\\&quot;fruit\\&quot;:\\&quot;Apple\\&quot;,\\&quot;size\\&quot;:\\&quot;Large\\&quot;,\\&quot;color\\&quot;:\\&quot;Red\\&quot;,\\&quot;Proffesion\\&quot;:[\\&quot;Java\\&quot;,\\&quot;Lawyer\\&quot;],\\&quot;cars\\&quot;:{\\&quot;type\\&quot;:\\&quot;BMW\\&quot;,\\&quot;Color\\&quot;:\\&quot;Brown\\&quot;}}&quot;\r\n      },\r\n      &quot;update&quot;: null,\r\n      &quot;delete&quot;: null\r\n    }\r\n```","title":"Remove backslashes from response entity Json in Java","body":"<p>I am testing my Rest controller and when i print the results in java they seem to be okay but on swagger or postman it return slashes. How do i remove these.</p>\n<p>In Java i print the object with a log and the result is as below:</p>\n<p>ReturnObject</p>\n<pre><code>    {\n      create=Create{\n        create={\n          &quot;Apartment&quot;: &quot;Flat&quot;,\n          &quot;Drink&quot;: {\n            &quot;Alchol&quot;: {\n              &quot;Beer&quot;: {\n                &quot;Dutch&quot;: &quot;Groeshe&quot;,\n                &quot;Zimbo&quot;: &quot;Zambezi&quot;\n              },\n              &quot;Wine&quot;: &quot;pocupine&quot;\n            },\n            &quot;NonAlcoholic&quot;: {\n              &quot;fizzy&quot;: &quot;Coke&quot;,\n              &quot;juice&quot;: &quot;liquifruit&quot;\n            }\n          },\n          &quot;fruit&quot;: &quot;Apple&quot;,\n          &quot;size&quot;: &quot;Large&quot;,\n          &quot;color&quot;: &quot;Red&quot;,\n          &quot;Proffesion&quot;: [\n            &quot;Java&quot;,\n            &quot;Lawyer&quot;\n          ],\n          &quot;cars&quot;: {\n            &quot;type&quot;: &quot;BMW&quot;,\n            &quot;Color&quot;: &quot;Brown&quot;\n          }\n        }\n      },\n      update=null,\n      delete=null\n    }\n</code></pre>\n<p>I googled and nothing in java seems to solve this problem. Please assist</p>\n<pre><code>    @RestController\n    public class ProcessController&lt;T extends Serializable&gt; {\n\n    \n    @Autowired\n    private EngineImpl engine;\n\n    \n    @RequestMapping(value = &quot;/api/processEngine&quot;, method = RequestMethod.POST, produces = &quot;application/json&quot;)\n    public ResponseEntity&lt;ReturnObject&lt;T&gt;&gt; processEngine(@RequestBody final Request request) throws Exception {\n             \n        ReturnObject&lt;T&gt; response = engine.calculate((T) request.getA(), (T) request.getB());\n\n        LOG.info(&quot;ReturnObject engine response parameters: &quot; + response);\n        //Prints: ReturnObject{create=Create{create={&quot;Apartment&quot;:&quot;Flat&quot;,&quot;Drink&quot;:{&quot;Alchol&quot;:{&quot;Beer&quot;:{&quot;Dutch&quot;:&quot;Groeshe&quot;,&quot;Zimbo&quot;:&quot;Zambezi&quot;},&quot;Wine&quot;:&quot;pocupine&quot;},&quot;NonAlcoholic&quot;:{&quot;fizzy&quot;:&quot;Coke&quot;,&quot;juice&quot;:&quot;liquifruit&quot;}},&quot;fruit&quot;:&quot;Apple&quot;,&quot;size&quot;:&quot;Large&quot;,&quot;color&quot;:&quot;Red&quot;,&quot;Proffesion&quot;:[&quot;Java&quot;,&quot;Lawyer&quot;],&quot;cars&quot;:{&quot;type&quot;:&quot;BMW&quot;,&quot;Color&quot;:&quot;Brown&quot;}}}, update=null, delete=null}\n        return new ResponseEntity&lt;&gt;(response, HttpStatus.OK);\n    }\n}\n</code></pre>\n<p>Expected:</p>\n<pre><code>    {\n      &quot;create&quot;: {\n        &quot;create&quot;: {\n            &quot;Apartment&quot;: &quot;Flat&quot;,\n            &quot;Drink&quot;: {\n                &quot;Alchol&quot;: {\n                    &quot;Beer&quot;: {\n                        &quot;Dutch&quot;: &quot;Groeshe&quot;,\n                        &quot;Zimbo&quot;: &quot;Zambezi&quot;\n\n                    },\n                    &quot;Wine&quot;: &quot;pocupine&quot;\n\n                },\n                &quot;NonAlcoholic&quot;: {\n                    &quot;fizzy&quot;: &quot;Coke&quot;,\n                    &quot;juice&quot;: &quot;liquifruit&quot;\n                }\n            },\n            &quot;fruit&quot;: &quot;Apple&quot;,\n            &quot;size&quot;: &quot;Large&quot;,\n            &quot;color&quot;: &quot;Red&quot;,\n            &quot;Proffesion&quot;: [&quot;Java&quot;, &quot;Lawyer&quot;],\n            &quot;cars&quot;: {\n                &quot;type&quot;: &quot;BMW&quot;,\n                &quot;Color&quot;: &quot;Brown&quot;\n            }\n        },\n        &quot;update&quot;: null,\n        &quot;delete&quot;: null\n    }\n}\n</code></pre>\n<p>Actual:</p>\n<pre><code>    {\n      &quot;create&quot;: {\n        &quot;create&quot;: &quot;{\\&quot;Apartment\\&quot;:\\&quot;Flat\\&quot;,\\&quot;Drink\\&quot;:{\\&quot;Alchol\\&quot;:{\\&quot;Beer\\&quot;:{\\&quot;Dutch\\&quot;:\\&quot;Groeshe\\&quot;,\\&quot;Zimbo\\&quot;:\\&quot;Zambezi\\&quot;},\\&quot;Wine\\&quot;:\\&quot;pocupine\\&quot;},\\&quot;NonAlcoholic\\&quot;:{\\&quot;fizzy\\&quot;:\\&quot;Coke\\&quot;,\\&quot;juice\\&quot;:\\&quot;liquifruit\\&quot;}},\\&quot;fruit\\&quot;:\\&quot;Apple\\&quot;,\\&quot;size\\&quot;:\\&quot;Large\\&quot;,\\&quot;color\\&quot;:\\&quot;Red\\&quot;,\\&quot;Proffesion\\&quot;:[\\&quot;Java\\&quot;,\\&quot;Lawyer\\&quot;],\\&quot;cars\\&quot;:{\\&quot;type\\&quot;:\\&quot;BMW\\&quot;,\\&quot;Color\\&quot;:\\&quot;Brown\\&quot;}}&quot;\n      },\n      &quot;update&quot;: null,\n      &quot;delete&quot;: null\n    }\n</code></pre>\n"},{"tags":["java","json","jolt"],"answers":[{"tags":[],"owner":{"account_id":2993263,"reputation":4536,"user_id":2540376,"display_name":"Milo S"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1587381868,"creation_date":1461309211,"answer_id":36787315,"question_id":36773008,"body_markdown":"This spec does the transform.\r\n\r\n```\r\n[\r\n  {\r\n    &quot;operation&quot;: &quot;shift&quot;,\r\n    &quot;spec&quot;: {\r\n      &quot;attr&quot;: {\r\n        &quot;*&quot;: {\r\n          &quot;name&quot;: &quot;out[&amp;1].name&quot;,\r\n          &quot;validations&quot;: {\r\n            &quot;*&quot;: {\r\n              &quot;type&quot;: {\r\n                &quot;Required&quot;: {\r\n                  &quot;#yes&quot;: &quot;out[&amp;5].required&quot;\r\n                }\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n]\r\n```\r\n\r\nHowever, I think you meant to grab the &quot;value&quot; : true that is a sibling of the &quot;Required&quot; : true, rather than have the output be &quot;yes&quot;.\r\n\r\nIf so swap in this bit.\r\n```\r\n&quot;Required&quot;: {\r\n &quot;@(2,value)&quot;: &quot;out[&amp;5].required&quot;\r\n}\r\n```","title":"Jolt conditional spec","body":"<p>This spec does the transform.</p>\n\n<pre><code>[\n  {\n    \"operation\": \"shift\",\n    \"spec\": {\n      \"attr\": {\n        \"*\": {\n          \"name\": \"out[&amp;1].name\",\n          \"validations\": {\n            \"*\": {\n              \"type\": {\n                \"Required\": {\n                  \"#yes\": \"out[&amp;5].required\"\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n]\n</code></pre>\n\n<p>However, I think you meant to grab the \"value\" : true that is a sibling of the \"Required\" : true, rather than have the output be \"yes\".</p>\n\n<p>If so swap in this bit.</p>\n\n<pre><code>\"Required\": {\n \"@(2,value)\": \"out[&amp;5].required\"\n}\n</code></pre>\n"}],"owner":{"account_id":1584104,"reputation":1541,"user_id":1468844,"accept_rate":57,"display_name":"yeswanth"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10442,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":36787315,"answer_count":1,"score":8,"last_activity_date":1675769384,"creation_date":1461249805,"question_id":36773008,"body_markdown":"I want a conditional transformation where I need to add a property in output if the value of a specific field in input matches my condition. Below is my input and output required. \r\n\r\n\r\n----------\r\n\r\n\r\n**Input**\r\n\r\n```json\r\n{\r\n  &quot;attr&quot;: [\r\n    {\r\n      &quot;name&quot;: &quot;first&quot;,\r\n      &quot;validations&quot;: [\r\n        {\r\n          &quot;type&quot;: &quot;Required&quot;,\r\n          &quot;value&quot;: true\r\n        }\r\n      ]\r\n    },\r\n    {\r\n      &quot;name&quot;: &quot;last&quot;,\r\n      &quot;validations&quot;: [\r\n        {\r\n          &quot;type&quot;: &quot;lenght&quot;,\r\n          &quot;value&quot;: &quot;10&quot;\r\n        }\r\n      ]\r\n    },\r\n    {\r\n      &quot;name&quot;: &quot;email&quot;,\r\n      &quot;validations&quot;: [\r\n        {\r\n          &quot;type&quot;: &quot;min&quot;,\r\n          &quot;value&quot;: 10\r\n        }\r\n      ]\r\n    }\r\n  ]\r\n}\r\n```\r\n\r\n**Output**\r\n\r\n```json\r\n{\r\n  &quot;out&quot;: [\r\n    {\r\n      &quot;name&quot;: &quot;first&quot;,\r\n      &quot;required&quot;: &quot;yes&quot;\r\n    },\r\n    {\r\n      &quot;name&quot;: &quot;last&quot;\r\n    },\r\n    {\r\n      &quot;name&quot;: &quot;email&quot;\r\n    }\r\n  ]\r\n}\r\n```\r\n\r\nSo I am able to get till the condition, but inside condition, &amp; and @ are being respective to the input rather than to the output. Can anybody help me out with the transformation? Below is the spec I have written so far.\r\n\r\n```json\r\n[\r\n  {\r\n    &quot;operation&quot;: &quot;shift&quot;,\r\n    &quot;spec&quot;: {\r\n      &quot;attr&quot;: {\r\n        &quot;*&quot;: {\r\n          &quot;name&quot;: &quot;out.&amp;1.name&quot;,\r\n          &quot;validations&quot;: {\r\n            &quot;*&quot;: {\r\n              &quot;type&quot;: {\r\n                &quot;Required&quot;: {\r\n                  &quot;@(2,value)&quot;: &quot;out.&amp;1.req&quot;\r\n                }\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n]\r\n```\r\n","title":"Jolt conditional spec","body":"<p>I want a conditional transformation where I need to add a property in output if the value of a specific field in input matches my condition. Below is my input and output required.</p>\n<hr />\n<p><strong>Input</strong></p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;attr&quot;: [\n    {\n      &quot;name&quot;: &quot;first&quot;,\n      &quot;validations&quot;: [\n        {\n          &quot;type&quot;: &quot;Required&quot;,\n          &quot;value&quot;: true\n        }\n      ]\n    },\n    {\n      &quot;name&quot;: &quot;last&quot;,\n      &quot;validations&quot;: [\n        {\n          &quot;type&quot;: &quot;lenght&quot;,\n          &quot;value&quot;: &quot;10&quot;\n        }\n      ]\n    },\n    {\n      &quot;name&quot;: &quot;email&quot;,\n      &quot;validations&quot;: [\n        {\n          &quot;type&quot;: &quot;min&quot;,\n          &quot;value&quot;: 10\n        }\n      ]\n    }\n  ]\n}\n</code></pre>\n<p><strong>Output</strong></p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;out&quot;: [\n    {\n      &quot;name&quot;: &quot;first&quot;,\n      &quot;required&quot;: &quot;yes&quot;\n    },\n    {\n      &quot;name&quot;: &quot;last&quot;\n    },\n    {\n      &quot;name&quot;: &quot;email&quot;\n    }\n  ]\n}\n</code></pre>\n<p>So I am able to get till the condition, but inside condition, &amp; and @ are being respective to the input rather than to the output. Can anybody help me out with the transformation? Below is the spec I have written so far.</p>\n<pre class=\"lang-json prettyprint-override\"><code>[\n  {\n    &quot;operation&quot;: &quot;shift&quot;,\n    &quot;spec&quot;: {\n      &quot;attr&quot;: {\n        &quot;*&quot;: {\n          &quot;name&quot;: &quot;out.&amp;1.name&quot;,\n          &quot;validations&quot;: {\n            &quot;*&quot;: {\n              &quot;type&quot;: {\n                &quot;Required&quot;: {\n                  &quot;@(2,value)&quot;: &quot;out.&amp;1.req&quot;\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n]\n</code></pre>\n"},{"tags":["java","compiler-errors","boolean","do-while","unreachable-code"],"comments":[{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":1,"creation_date":1672980068,"post_id":75026915,"comment_id":132399940,"body_markdown":"The code has `do { ... } while (true)`.  There is no `break` visible in the part represented by ... . It&#39;s an infinite loop.","body":"The code has <code>do { ... } while (true)</code>.  There is no <code>break</code> visible in the part represented by ... . It&#39;s an infinite loop."},{"owner":{"account_id":27449424,"reputation":1,"user_id":20941962,"display_name":"Yeoh Joey"},"score":1,"creation_date":1672994238,"post_id":75026915,"comment_id":132402437,"body_markdown":"Now i get it! My problem solved. Thanks","body":"Now i get it! My problem solved. Thanks"}],"answers":[{"tags":[],"owner":{"display_name":"user20937564"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1672982756,"creation_date":1672982756,"answer_id":75027236,"question_id":75026915,"body_markdown":"That is because of your first code, `while(true)` will make it run for infinite times so code below this is unreachable. Use below code -\r\n\r\n     boolean regErr = false;\r\n\r\n     do{\r\n         regErr = false;\r\n\r\n         System.out.print(&quot;Name: &quot;);\r\n                      :\r\n                      :\r\n\r\n      }while(regErr )","title":"Why my boolean is unreachable code and compilation error?","body":"<p>That is because of your first code, <code>while(true)</code> will make it run for infinite times so code below this is unreachable. Use below code -</p>\n<pre><code> boolean regErr = false;\n\n do{\n     regErr = false;\n\n     System.out.print(&quot;Name: &quot;);\n                  :\n                  :\n\n  }while(regErr )\n</code></pre>\n"}],"owner":{"account_id":27449424,"reputation":1,"user_id":20941962,"display_name":"Yeoh Joey"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75027236,"answer_count":1,"score":0,"last_activity_date":1675769068,"creation_date":1672979157,"question_id":75026915,"body_markdown":"I am doing a leave management system for my assignment. And this is the part where I ask user to save their registration. First, I use do...while(true) loop to ask for their info like name, ID , department, etc. I start with adding a boolean regErr = false before the do...while(true) loop and it has no problem. \r\n\r\nThen I continue with this part and add a boolean saveReg. But I have no idea why it shows error and says its unreachable code. If I add the boolean saveReg inside do...while loop also doesn&#39;t work. I really need your help to figure out what&#39;s the problem. Thank you in advance and have a nice day!\r\n\r\n                    \r\n\r\n            boolean saveReg;    //the boolean that is unreachable code\r\n\t\t\t\r\n\t\t\tdo{\r\n\t\t\t\t:\r\n                :\r\n\t\t\t}while(true);\r\n\t\t\r\n\t\tif(saveReg){\r\n\t\t\ttry(PrintWriter rW = new ....)){\r\n\t\t\t\t:\r\n                :\r\n\t\t\t}catch(IOException err){\r\n\t\t\t\terr.printStackTrace();\r\n\t\t\t}\r\n\t\t}\r\n\t\telse{\r\n\t\t\tSystem.out.println(&quot;Fail to register.&quot;);\r\n\t\t}","title":"Why my boolean is unreachable code and compilation error?","body":"<p>I am doing a leave management system for my assignment. And this is the part where I ask user to save their registration. First, I use do...while(true) loop to ask for their info like name, ID , department, etc. I start with adding a boolean regErr = false before the do...while(true) loop and it has no problem.</p>\n<p>Then I continue with this part and add a boolean saveReg. But I have no idea why it shows error and says its unreachable code. If I add the boolean saveReg inside do...while loop also doesn't work. I really need your help to figure out what's the problem. Thank you in advance and have a nice day!</p>\n<pre><code>        boolean saveReg;    //the boolean that is unreachable code\n        \n        do{\n            :\n            :\n        }while(true);\n    \n    if(saveReg){\n        try(PrintWriter rW = new ....)){\n            :\n            :\n        }catch(IOException err){\n            err.printStackTrace();\n        }\n    }\n    else{\n        System.out.println(&quot;Fail to register.&quot;);\n    }\n</code></pre>\n"},{"tags":["java","maven","opensaml"],"comments":[{"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1675768858,"post_id":75372590,"comment_id":132995617,"body_markdown":"&quot;*I just do not understand why cannot the IDE rebuild the library since it knows all the dependencies and source codes*&quot; Because it doesn&#39;t know how to build it. Maybe it needs a specific compiler version, maybe it needs aspectj instrumentation, maybe it needs lombok, whatever. Having some source is not necessarily enough. In theory, the feature you&#39;re asking for could exist for some projects with a basic build process. I&#39;m not sure it would be very useful, which is probably why it doesn&#39;t exist. You can implement an  IntelliJ plugin to do it if you really want to.","body":"&quot;<i>I just do not understand why cannot the IDE rebuild the library since it knows all the dependencies and source codes</i>&quot; Because it doesn&#39;t know how to build it. Maybe it needs a specific compiler version, maybe it needs aspectj instrumentation, maybe it needs lombok, whatever. Having some source is not necessarily enough. In theory, the feature you&#39;re asking for could exist for some projects with a basic build process. I&#39;m not sure it would be very useful, which is probably why it doesn&#39;t exist. You can implement an  IntelliJ plugin to do it if you really want to."},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1675800622,"post_id":75372590,"comment_id":133005856,"body_markdown":"I strongly recommend to read that: `End of Life Warning`...","body":"I strongly recommend to read that: <code>End of Life Warning</code>..."}],"answers":[{"tags":[],"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675768848,"creation_date":1675768848,"answer_id":75372639,"question_id":75372590,"body_markdown":"No, there is not easier way.\r\n\r\nYou should avoid to change code of third-party libraries. Only in very rare cases this is a good idea.\r\n\r\nInstead, you can write some kind of wrapper around the library to solve your issue.","title":"Easiest way how to modify the source of a library from Maven","body":"<p>No, there is not easier way.</p>\n<p>You should avoid to change code of third-party libraries. Only in very rare cases this is a good idea.</p>\n<p>Instead, you can write some kind of wrapper around the library to solve your issue.</p>\n"}],"owner":{"account_id":3812814,"reputation":273,"user_id":3163091,"accept_rate":14,"display_name":"honzaik"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":149,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675768848,"creation_date":1675768545,"question_id":75372590,"body_markdown":"I am experimenting with a SAML library OpenSAML https://shibboleth.atlassian.net/wiki/spaces/OS30/overview. The library is distributed using Maven through the repository https://build.shibboleth.net/maven/releases/org/opensaml/.\r\nMy pom.xml looks like this\r\n``` lang-xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;xyz.test.ho&lt;/groupId&gt;\r\n    &lt;artifactId&gt;xyzs&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    &lt;packaging&gt;war&lt;/packaging&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;opensaml.version&gt;3.2.0&lt;/opensaml.version&gt;\r\n    &lt;/properties&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.opensaml&lt;/groupId&gt;\r\n            &lt;artifactId&gt;opensaml-core&lt;/artifactId&gt;\r\n            &lt;version&gt;${opensaml.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.opensaml&lt;/groupId&gt;\r\n            &lt;artifactId&gt;opensaml-saml-api&lt;/artifactId&gt;\r\n            &lt;version&gt;${opensaml.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.opensaml&lt;/groupId&gt;\r\n            &lt;artifactId&gt;opensaml-saml-impl&lt;/artifactId&gt;\r\n            &lt;version&gt;${opensaml.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.opensaml&lt;/groupId&gt;\r\n            &lt;artifactId&gt;opensaml-messaging-api&lt;/artifactId&gt;\r\n            &lt;version&gt;${opensaml.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.opensaml&lt;/groupId&gt;\r\n            &lt;artifactId&gt;opensaml-messaging-impl&lt;/artifactId&gt;\r\n            &lt;version&gt;${opensaml.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.opensaml&lt;/groupId&gt;\r\n            &lt;artifactId&gt;opensaml-soap-api&lt;/artifactId&gt;\r\n            &lt;version&gt;${opensaml.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.opensaml&lt;/groupId&gt;\r\n            &lt;artifactId&gt;opensaml-soap-impl&lt;/artifactId&gt;\r\n            &lt;version&gt;${opensaml.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n         &lt;dependency&gt;\r\n            &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\r\n            &lt;artifactId&gt;logback-core&lt;/artifactId&gt;\r\n            &lt;version&gt;1.1.7&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\r\n            &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\r\n            &lt;version&gt;1.1.7&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\r\n            &lt;version&gt;3.1.0&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;commons-logging&lt;/groupId&gt;\r\n            &lt;artifactId&gt;commons-logging&lt;/artifactId&gt;\r\n            &lt;version&gt;1.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n    &lt;repositories&gt;\r\n        &lt;repository&gt;\r\n            &lt;id&gt;shib-release&lt;/id&gt;\r\n            &lt;url&gt;https://build.shibboleth.net/nexus/content/repositories/releases&lt;/url&gt;\r\n        &lt;/repository&gt;\r\n    &lt;/repositories&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nSince the repository also contains javadoc + sources, is it somehow possible to modify the source code of different files in the libraries? I am using IntelliJ IDEA and it does not let me edit the source code. I have googled a bit and most people suggest getting the source code from the repository and compiling my own jar. This does not seem that easy since the documentation for this library is basically non existent and it is composed of multiple sub-libraries.\r\n\r\nI was able to create modules in my IntelliJ IDEA project from the source codes for different library parts but then the issue is with the dependencies.\r\n\r\nI just do not understand why cannot the IDE rebuild the library since it knows all the dependencies and source codes. Is there really no easier way?","title":"Easiest way how to modify the source of a library from Maven","body":"<p>I am experimenting with a SAML library OpenSAML <a href=\"https://shibboleth.atlassian.net/wiki/spaces/OS30/overview\" rel=\"nofollow noreferrer\">https://shibboleth.atlassian.net/wiki/spaces/OS30/overview</a>. The library is distributed using Maven through the repository <a href=\"https://build.shibboleth.net/maven/releases/org/opensaml/\" rel=\"nofollow noreferrer\">https://build.shibboleth.net/maven/releases/org/opensaml/</a>.\nMy pom.xml looks like this</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;xyz.test.ho&lt;/groupId&gt;\n    &lt;artifactId&gt;xyzs&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n\n    &lt;properties&gt;\n        &lt;opensaml.version&gt;3.2.0&lt;/opensaml.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.opensaml&lt;/groupId&gt;\n            &lt;artifactId&gt;opensaml-core&lt;/artifactId&gt;\n            &lt;version&gt;${opensaml.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.opensaml&lt;/groupId&gt;\n            &lt;artifactId&gt;opensaml-saml-api&lt;/artifactId&gt;\n            &lt;version&gt;${opensaml.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.opensaml&lt;/groupId&gt;\n            &lt;artifactId&gt;opensaml-saml-impl&lt;/artifactId&gt;\n            &lt;version&gt;${opensaml.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.opensaml&lt;/groupId&gt;\n            &lt;artifactId&gt;opensaml-messaging-api&lt;/artifactId&gt;\n            &lt;version&gt;${opensaml.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.opensaml&lt;/groupId&gt;\n            &lt;artifactId&gt;opensaml-messaging-impl&lt;/artifactId&gt;\n            &lt;version&gt;${opensaml.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.opensaml&lt;/groupId&gt;\n            &lt;artifactId&gt;opensaml-soap-api&lt;/artifactId&gt;\n            &lt;version&gt;${opensaml.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.opensaml&lt;/groupId&gt;\n            &lt;artifactId&gt;opensaml-soap-impl&lt;/artifactId&gt;\n            &lt;version&gt;${opensaml.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n         &lt;dependency&gt;\n            &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\n            &lt;artifactId&gt;logback-core&lt;/artifactId&gt;\n            &lt;version&gt;1.1.7&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\n            &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\n            &lt;version&gt;1.1.7&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n            &lt;version&gt;3.1.0&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-logging&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-logging&lt;/artifactId&gt;\n            &lt;version&gt;1.2&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;repositories&gt;\n        &lt;repository&gt;\n            &lt;id&gt;shib-release&lt;/id&gt;\n            &lt;url&gt;https://build.shibboleth.net/nexus/content/repositories/releases&lt;/url&gt;\n        &lt;/repository&gt;\n    &lt;/repositories&gt;\n&lt;/project&gt;\n</code></pre>\n<p>Since the repository also contains javadoc + sources, is it somehow possible to modify the source code of different files in the libraries? I am using IntelliJ IDEA and it does not let me edit the source code. I have googled a bit and most people suggest getting the source code from the repository and compiling my own jar. This does not seem that easy since the documentation for this library is basically non existent and it is composed of multiple sub-libraries.</p>\n<p>I was able to create modules in my IntelliJ IDEA project from the source codes for different library parts but then the issue is with the dependencies.</p>\n<p>I just do not understand why cannot the IDE rebuild the library since it knows all the dependencies and source codes. Is there really no easier way?</p>\n"},{"tags":["java","spring","proguard"],"comments":[{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1675761886,"post_id":75371162,"comment_id":132993325,"body_markdown":"Spring boot has its own classloader which puts classes in an unusual directory inside of the jar. Either tell ProGuard about that (if that&#39;s even possible) or obfuscate the *input* that goes into the spring boot jar before building the jar.","body":"Spring boot has its own classloader which puts classes in an unusual directory inside of the jar. Either tell ProGuard about that (if that&#39;s even possible) or obfuscate the <i>input</i> that goes into the spring boot jar before building the jar."}],"owner":{"account_id":21430481,"reputation":1,"user_id":15786996,"display_name":"Shahzeb Iqbal"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1675761930,"answer_count":0,"score":0,"last_activity_date":1675768708,"creation_date":1675761380,"question_id":75371162,"body_markdown":" [proguard] Warning: class [BOOT-INF/classes/com/tgroup/stream/ui/service/service/DetailService.class] unexpectedly contains class [com.tgroup.stream.ui.service.service.DetailService]\r\n\r\ngetting these 453 warnings for every class in my project.\r\n \r\n\r\n [proguard] Warning: there were 453 classes in incorrectly named files.\r\n [proguard]          You should make sure all file names correspond to their class names.\r\n [proguard]          The directory hierarchies must correspond to the package hierarchies.\r\n [proguard]          (https://www.guardsquare.com/proguard/manual/troubleshooting#unexpectedclass)\r\n  \r\nhere is pom.xml \r\n```\r\ntype         \r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;repackage&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;mainClass&gt;path.to.main.class&lt;/mainClass&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;pre-integration-test&lt;/id&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;start&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;post-integration-test&lt;/id&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;stop&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n\r\n           &lt;plugin&gt;\r\n                &lt;groupId&gt;com.github.wvengen&lt;/groupId&gt;\r\n                &lt;artifactId&gt;proguard-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.3.1&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;phase&gt;package&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;proguard&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;proguardVersion&gt;7.0.0&lt;/proguardVersion&gt;\r\n                    &lt;injar&gt;${project.build.finalName}.jar&lt;/injar&gt;\r\n                    &lt;outjar&gt;${project.build.finalName}-obfuscated.jar&lt;/outjar&gt;\r\n                    &lt;obfuscate&gt;true&lt;/obfuscate&gt;\r\n                    &lt;proguardInclude&gt;${project.basedir}/proguard.cfg&lt;/proguardInclude&gt;\r\n                    &lt;libs&gt;\r\n                        &lt;lib&gt;C:\\Program Files\\Java\\jdk1.8.0_201\\jre\\lib\\rt.jar&lt;/lib&gt;\r\n                        &lt;lib&gt;${java.home}&lt;/lib&gt;\r\n                    &lt;/libs&gt;\r\n                &lt;/configuration&gt;\r\n                &lt;dependencies&gt;\r\n                    &lt;dependency&gt;\r\n                        &lt;groupId&gt;com.guardsquare&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;proguard-base&lt;/artifactId&gt;\r\n                        &lt;version&gt;7.0.0&lt;/version&gt;\r\n                    &lt;/dependency&gt;\r\n                &lt;/dependencies&gt;\r\n            &lt;/plugin&gt;\r\nhere\r\n```\r\n\r\nhere is proguard.cfg file: \r\n```\r\ntype -target 11 ##Specify the java version number\r\n-dontshrink ##Default is enabled, here the shrink is turned off, that is, the unused classes/members are not deleted.\r\n-dontoptimize ##Default is enabled, here to turn off bytecode level optimization\r\n-useuniqueclassmembernames ## Take a unique strategy for confusing the naming of class members\r\n-adaptclassstrings ## After confusing the class name, replace it with a place like Class.forName(&#39;className&#39;)\r\n-dontnote\r\n-keep public class * extends org.springframework.boot.web.support.SpringBootServletInitializer\r\n-keep class java.lang.invoke.StringConcatFactory { *; }\r\n\r\n-keepdirectories ## Keep the package structure\r\n-keepclasseswithmembers public class * { public static void main(java.lang.String[]);} ##Maintain the class of the main method and its method name\r\n-keepclassmembers enum * { *; }  ##Reserving enumeration members and methods\r\n-keepclassmembers class * {\r\n     @org.springframework.beans.factory.annotation.Autowired *;\r\n     @org.springframework.beans.factory.annotation.Qualifier *;\r\n     @org.springframework.beans.factory.annotation.Value *;\r\n     @org.springframework.beans.factory.annotation.Required *;\r\n     @org.springframework.context.annotation.Bean *;\r\n     @org.springframework.context.annotation.Primary *;\r\n     @org.springframework.boot.context.properties.ConfigurationProperties *;\r\n     @org.springframework.boot.context.properties.EnableConfigurationProperties *;\r\n     @javax.inject.Inject *;\r\n     @javax.annotation.PostConstruct *;\r\n     @javax.annotation.PreDestroy *;\r\n}\r\n-keep @org.springframework.cache.annotation.EnableCaching class *\r\n-keep @org.springframework.context.annotation.Configuration class *\r\n-keep @org.springframework.boot.context.properties.ConfigurationProperties class *\r\n-keep @org.springframework.boot.autoconfigure.SpringBootApplication class *\r\n-allowaccessmodification\r\n-keepattributes *Annotation*\r\n-keepdirectories com.tgroup.stream.ui.service\r\n-keepdirectories org.springframework.boot.autoconfigure\r\n## Do not change names of the getters and setter, if you remove this ##thymeleaf unable to find the getter and setter i.e: ##${greetingDTO.message}\r\n-keepclassmembers class * {\r\n    *** get*();\r\n    void set*(***);\r\n}\r\n-keepclassmembernames class * {\r\n     java.lang.Class class$(java.lang.String);\r\n     java.lang.Class class$(java.lang.String, boolean);\r\n}\r\n-keepclassmembers enum * {\r\n     public static **[] values();\r\n     public static ** valueOf(java.lang.String);\r\n     public static ** fromValue(java.lang.String);\r\n}\r\n-keepnames class * implements java.io.Serializable\r\n-keepclassmembernames public class com.test.blah.config.liquibase.AsyncSpringLiquibase\r\n-keepclassmembers class * implements java.io.Serializable {\r\n     static final long serialVersionUID;\r\n     private static final java.io.ObjectStreamField[] serialPersistentFields;\r\n     !static !transient &lt;fields&gt;;\r\n     !private &lt;fields&gt;;\r\n     !private &lt;methods&gt;;\r\n     private void writeObject(java.io.ObjectOutputStream);\r\n     private void readObject(java.io.ObjectInputStream);\r\n     java.lang.Object writeReplace();\r\n     java.lang.Object readResolve();\r\n}\r\n-keepclassmembers class * {\r\n     @org.springframework.beans.factory.annotation.Autowired &lt;fields&gt;;\r\n     @org.springframework.beans.factory.annotation.Autowired &lt;methods&gt;;\r\n     @org.springframework.security.access.prepost.PreAuthorize &lt;methods&gt;;\r\n}here\r\n```\r\nNote: I also importing some locally generated libraries in my project\r\n\r\n\r\n\\ used -ignorewarning but after ignoring warnings my obfuscated jar has not a single class nor package. it has only properties and configuration files.\r\n\r\nobfuscated jar:\r\n[enter image description here](https://i.stack.imgur.com/2H7Gv.png)\r\n\r\ninside Boot-inf\r\n[enter image description here](https://i.stack.imgur.com/vJmHK.png)\r\n\r\ninside classes. as you can see there is not a single class nor package.\r\n[enter image description here](https://i.stack.imgur.com/z2Fep.png)\r\n","title":"I&#39;m using ProGuard to obfuscate my Java spring boot code, and I&#39;m encountering a warning that a class file is unexpectedly containing a specific class","body":"<p>[proguard] Warning: class [BOOT-INF/classes/com/tgroup/stream/ui/service/service/DetailService.class] unexpectedly contains class [com.tgroup.stream.ui.service.service.DetailService]</p>\n<p>getting these 453 warnings for every class in my project.</p>\n<p>[proguard] Warning: there were 453 classes in incorrectly named files.\n[proguard]          You should make sure all file names correspond to their class names.\n[proguard]          The directory hierarchies must correspond to the package hierarchies.\n[proguard]          (<a href=\"https://www.guardsquare.com/proguard/manual/troubleshooting#unexpectedclass\" rel=\"nofollow noreferrer\">https://www.guardsquare.com/proguard/manual/troubleshooting#unexpectedclass</a>)</p>\n<p>here is pom.xml</p>\n<pre><code>type         \n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;repackage&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;mainClass&gt;path.to.main.class&lt;/mainClass&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;pre-integration-test&lt;/id&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;start&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;post-integration-test&lt;/id&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;stop&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n\n           &lt;plugin&gt;\n                &lt;groupId&gt;com.github.wvengen&lt;/groupId&gt;\n                &lt;artifactId&gt;proguard-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.3.1&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;phase&gt;package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;proguard&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n                &lt;configuration&gt;\n                    &lt;proguardVersion&gt;7.0.0&lt;/proguardVersion&gt;\n                    &lt;injar&gt;${project.build.finalName}.jar&lt;/injar&gt;\n                    &lt;outjar&gt;${project.build.finalName}-obfuscated.jar&lt;/outjar&gt;\n                    &lt;obfuscate&gt;true&lt;/obfuscate&gt;\n                    &lt;proguardInclude&gt;${project.basedir}/proguard.cfg&lt;/proguardInclude&gt;\n                    &lt;libs&gt;\n                        &lt;lib&gt;C:\\Program Files\\Java\\jdk1.8.0_201\\jre\\lib\\rt.jar&lt;/lib&gt;\n                        &lt;lib&gt;${java.home}&lt;/lib&gt;\n                    &lt;/libs&gt;\n                &lt;/configuration&gt;\n                &lt;dependencies&gt;\n                    &lt;dependency&gt;\n                        &lt;groupId&gt;com.guardsquare&lt;/groupId&gt;\n                        &lt;artifactId&gt;proguard-base&lt;/artifactId&gt;\n                        &lt;version&gt;7.0.0&lt;/version&gt;\n                    &lt;/dependency&gt;\n                &lt;/dependencies&gt;\n            &lt;/plugin&gt;\nhere\n</code></pre>\n<p>here is proguard.cfg file:</p>\n<pre><code>type -target 11 ##Specify the java version number\n-dontshrink ##Default is enabled, here the shrink is turned off, that is, the unused classes/members are not deleted.\n-dontoptimize ##Default is enabled, here to turn off bytecode level optimization\n-useuniqueclassmembernames ## Take a unique strategy for confusing the naming of class members\n-adaptclassstrings ## After confusing the class name, replace it with a place like Class.forName('className')\n-dontnote\n-keep public class * extends org.springframework.boot.web.support.SpringBootServletInitializer\n-keep class java.lang.invoke.StringConcatFactory { *; }\n\n-keepdirectories ## Keep the package structure\n-keepclasseswithmembers public class * { public static void main(java.lang.String[]);} ##Maintain the class of the main method and its method name\n-keepclassmembers enum * { *; }  ##Reserving enumeration members and methods\n-keepclassmembers class * {\n     @org.springframework.beans.factory.annotation.Autowired *;\n     @org.springframework.beans.factory.annotation.Qualifier *;\n     @org.springframework.beans.factory.annotation.Value *;\n     @org.springframework.beans.factory.annotation.Required *;\n     @org.springframework.context.annotation.Bean *;\n     @org.springframework.context.annotation.Primary *;\n     @org.springframework.boot.context.properties.ConfigurationProperties *;\n     @org.springframework.boot.context.properties.EnableConfigurationProperties *;\n     @javax.inject.Inject *;\n     @javax.annotation.PostConstruct *;\n     @javax.annotation.PreDestroy *;\n}\n-keep @org.springframework.cache.annotation.EnableCaching class *\n-keep @org.springframework.context.annotation.Configuration class *\n-keep @org.springframework.boot.context.properties.ConfigurationProperties class *\n-keep @org.springframework.boot.autoconfigure.SpringBootApplication class *\n-allowaccessmodification\n-keepattributes *Annotation*\n-keepdirectories com.tgroup.stream.ui.service\n-keepdirectories org.springframework.boot.autoconfigure\n## Do not change names of the getters and setter, if you remove this ##thymeleaf unable to find the getter and setter i.e: ##${greetingDTO.message}\n-keepclassmembers class * {\n    *** get*();\n    void set*(***);\n}\n-keepclassmembernames class * {\n     java.lang.Class class$(java.lang.String);\n     java.lang.Class class$(java.lang.String, boolean);\n}\n-keepclassmembers enum * {\n     public static **[] values();\n     public static ** valueOf(java.lang.String);\n     public static ** fromValue(java.lang.String);\n}\n-keepnames class * implements java.io.Serializable\n-keepclassmembernames public class com.test.blah.config.liquibase.AsyncSpringLiquibase\n-keepclassmembers class * implements java.io.Serializable {\n     static final long serialVersionUID;\n     private static final java.io.ObjectStreamField[] serialPersistentFields;\n     !static !transient &lt;fields&gt;;\n     !private &lt;fields&gt;;\n     !private &lt;methods&gt;;\n     private void writeObject(java.io.ObjectOutputStream);\n     private void readObject(java.io.ObjectInputStream);\n     java.lang.Object writeReplace();\n     java.lang.Object readResolve();\n}\n-keepclassmembers class * {\n     @org.springframework.beans.factory.annotation.Autowired &lt;fields&gt;;\n     @org.springframework.beans.factory.annotation.Autowired &lt;methods&gt;;\n     @org.springframework.security.access.prepost.PreAuthorize &lt;methods&gt;;\n}here\n</code></pre>\n<p>Note: I also importing some locally generated libraries in my project</p>\n<p>\\ used -ignorewarning but after ignoring warnings my obfuscated jar has not a single class nor package. it has only properties and configuration files.</p>\n<p>obfuscated jar:\n<a href=\"https://i.stack.imgur.com/2H7Gv.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>inside Boot-inf\n<a href=\"https://i.stack.imgur.com/vJmHK.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>inside classes. as you can see there is not a single class nor package.\n<a href=\"https://i.stack.imgur.com/z2Fep.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":["java","spring-boot","jpa"],"answers":[{"tags":[],"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1670261006,"creation_date":1670261006,"answer_id":74692035,"question_id":74692007,"body_markdown":"getReferenceById returns a proxy and doesn&#39;t do a database call therefore no exception is called as JPA doesn&#39;t know if the entity with this ID exists.\r\n\r\ngetReferenceById executes EntityManager.getReference and the docs says:\r\n\r\n&gt; &lt;T&gt; T getReference​(java.lang.Class&lt;T&gt; entityClass, java.lang.Object\r\n&gt; primaryKey) \r\n&gt;\r\n&gt; Get an instance, whose state may be lazily fetched. If the\r\n&gt; requested instance does not exist in the database, the\r\n&gt; EntityNotFoundException is thrown when the instance state is first\r\n&gt; accessed. (The persistence provider runtime is permitted to throw the\r\n&gt; EntityNotFoundException when getReference is called.) The application\r\n&gt; should not expect that the instance state will be available upon\r\n&gt; detachment, unless it was accessed by the application while the entity\r\n&gt; manager was open.\r\n\r\nSource: https://jakarta.ee/specifications/persistence/2.2/apidocs/javax/persistence/entitymanager","title":"Spring data JPA getById vs GetReferenceById","body":"<p>getReferenceById returns a proxy and doesn't do a database call therefore no exception is called as JPA doesn't know if the entity with this ID exists.</p>\n<p>getReferenceById executes EntityManager.getReference and the docs says:</p>\n<blockquote>\n<p> T getReference​(java.lang.Class entityClass, java.lang.Object\nprimaryKey)</p>\n<p>Get an instance, whose state may be lazily fetched. If the\nrequested instance does not exist in the database, the\nEntityNotFoundException is thrown when the instance state is first\naccessed. (The persistence provider runtime is permitted to throw the\nEntityNotFoundException when getReference is called.) The application\nshould not expect that the instance state will be available upon\ndetachment, unless it was accessed by the application while the entity\nmanager was open.</p>\n</blockquote>\n<p>Source: <a href=\"https://jakarta.ee/specifications/persistence/2.2/apidocs/javax/persistence/entitymanager\" rel=\"nofollow noreferrer\">https://jakarta.ee/specifications/persistence/2.2/apidocs/javax/persistence/entitymanager</a></p>\n"},{"tags":[],"owner":{"account_id":1984972,"reputation":407,"user_id":1780480,"accept_rate":60,"display_name":"matio"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1674510984,"creation_date":1674510984,"answer_id":75215455,"question_id":74692007,"body_markdown":"Sometimes when using only `getById` as a way to fetch the entity makes some major issues. Usually we prefer to use `getReferenceById` method instead to save some extra calls, as if we were doing such using `getById` there is an extra call to database. \r\nLet’s consider we have a `Category` child entity that is associated with the parent `Product` entity via the `Product` reference in the `Category` entity. Means each product has multiple categories. The code block that adds a new category to our product using `productId` as reference is below:\r\n\r\n    public Category addNewCategory(String categoryName, Long productId) {           \r\n        Category category = new Category()\r\n            .setName(categoryName)\r\n            .setProduct(productRepository.findById(productId)\r\n                .orElseThrow(\r\n                    ()-&gt; new EntityNotFoundException(\r\n                        String.format(\r\n                            &quot;Product with id [%d] was not found!&quot;,\r\n                            productId\r\n                        )\r\n                    )\r\n                )\r\n            );\r\n \r\n        categoryRepository.save(category);\r\n \r\n        return category;\r\n    }\r\n\r\nIf you want to add a category to a product, you first need to call `findProductById` each time you insert a new `Category`. When you got the `Product` then you insert it as a reference to the `Category` entity.\r\nIn this case Spring Data JPA would generate the following sql:\r\n\r\n\r\n    SELECT\r\n    product0_.id AS id1_0_0_,\r\n    product0_.slug AS name2_0_0_,\r\n    product0_.title AS title3_0_0_\r\n    FROM\r\n     product product0_\r\n    WHERE\r\n     product0_.id = 1\r\n \r\n    SELECT nextval (&#39;hibernate_sequence&#39;)\r\n \r\n    INSERT INTO category (\r\n     product_id,\r\n     name,\r\n     id\r\n    )\r\n    VALUES (\r\n     1,\r\n     &#39;book&#39;,\r\n     1\r\n    )\r\n\r\nThis query was generated by the `findById` method call, which is meant to load the entity in the current Persistence Context. However, in our case, we don’t need that. We just want to save a new `Category` entity and set the product_id Foreign Key column to a value that we already know.\r\n\r\nBut, since the only way to set the underlying product_id column value is to provide a `Product` entity reference, that’s why many developers end up calling the `findById` method.\r\n\r\nIn our case, running this SQL query is unnecessary because we don’t need to fetch the parent Product entity. But how can we get rid of this extra SQL query?\r\nWe can use `getReferenceById` method instead.\r\n\r\n    public PostComment addNewCategory(String name, Long productId) {\r\n        Category category = new Category()\r\n           .setName(name)\r\n           .setProduct(productRepository.getReferenceById(productId));\r\n \r\n           categoryRepository.save(category);\r\n \r\n           return category;\r\n    }\r\n\r\nWhen calling the same `addNewCategory` method now, we see that the `Product` entity is no longer fetched as it will be fetched from a cached location where JPA holds entity Proxy. This way we can optimize our Spring applications that uses database intensively. \r\n\r\n\r\n","title":"Spring data JPA getById vs GetReferenceById","body":"<p>Sometimes when using only <code>getById</code> as a way to fetch the entity makes some major issues. Usually we prefer to use <code>getReferenceById</code> method instead to save some extra calls, as if we were doing such using <code>getById</code> there is an extra call to database.\nLet’s consider we have a <code>Category</code> child entity that is associated with the parent <code>Product</code> entity via the <code>Product</code> reference in the <code>Category</code> entity. Means each product has multiple categories. The code block that adds a new category to our product using <code>productId</code> as reference is below:</p>\n<pre><code>public Category addNewCategory(String categoryName, Long productId) {           \n    Category category = new Category()\n        .setName(categoryName)\n        .setProduct(productRepository.findById(productId)\n            .orElseThrow(\n                ()-&gt; new EntityNotFoundException(\n                    String.format(\n                        &quot;Product with id [%d] was not found!&quot;,\n                        productId\n                    )\n                )\n            )\n        );\n\n    categoryRepository.save(category);\n\n    return category;\n}\n</code></pre>\n<p>If you want to add a category to a product, you first need to call <code>findProductById</code> each time you insert a new <code>Category</code>. When you got the <code>Product</code> then you insert it as a reference to the <code>Category</code> entity.\nIn this case Spring Data JPA would generate the following sql:</p>\n<pre><code>SELECT\nproduct0_.id AS id1_0_0_,\nproduct0_.slug AS name2_0_0_,\nproduct0_.title AS title3_0_0_\nFROM\n product product0_\nWHERE\n product0_.id = 1\n\nSELECT nextval ('hibernate_sequence')\n\nINSERT INTO category (\n product_id,\n name,\n id\n)\nVALUES (\n 1,\n 'book',\n 1\n)\n</code></pre>\n<p>This query was generated by the <code>findById</code> method call, which is meant to load the entity in the current Persistence Context. However, in our case, we don’t need that. We just want to save a new <code>Category</code> entity and set the product_id Foreign Key column to a value that we already know.</p>\n<p>But, since the only way to set the underlying product_id column value is to provide a <code>Product</code> entity reference, that’s why many developers end up calling the <code>findById</code> method.</p>\n<p>In our case, running this SQL query is unnecessary because we don’t need to fetch the parent Product entity. But how can we get rid of this extra SQL query?\nWe can use <code>getReferenceById</code> method instead.</p>\n<pre><code>public PostComment addNewCategory(String name, Long productId) {\n    Category category = new Category()\n       .setName(name)\n       .setProduct(productRepository.getReferenceById(productId));\n\n       categoryRepository.save(category);\n\n       return category;\n}\n</code></pre>\n<p>When calling the same <code>addNewCategory</code> method now, we see that the <code>Product</code> entity is no longer fetched as it will be fetched from a cached location where JPA holds entity Proxy. This way we can optimize our Spring applications that uses database intensively.</p>\n"},{"tags":[],"owner":{"account_id":3755436,"reputation":915,"user_id":3121895,"display_name":"Patrick"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675768629,"creation_date":1675768629,"answer_id":75372609,"question_id":74692007,"body_markdown":"What you are saying seems a bit odd, as the implementation of the deprecated `org.springframework.data.jpa.repository.JpaRepository#getById` just delegates to it&#39;s replacement, `org.springframework.data.jpa.repository.JpaRepository#getReferenceById`.\r\n\r\nAs you can see in the implementation of that method (`org.springframework.data.jpa.repository.support.SimpleJpaRepository#getReferenceById`) it is directly using the `EntityManager#getReference` method.  \r\nWhen using Hibernate this normally only creates a Proxy, and just when you access one of the fields the Proxy fetches the real values from the DB - or throwing an `EntityNotFoundException` in case it does not exist.  \r\n\r\nCould it be that you changed something in your code, or you are being tricked by your debugger trying to display the `toString` of your method?","title":"Spring data JPA getById vs GetReferenceById","body":"<p>What you are saying seems a bit odd, as the implementation of the deprecated <code>org.springframework.data.jpa.repository.JpaRepository#getById</code> just delegates to it's replacement, <code>org.springframework.data.jpa.repository.JpaRepository#getReferenceById</code>.</p>\n<p>As you can see in the implementation of that method (<code>org.springframework.data.jpa.repository.support.SimpleJpaRepository#getReferenceById</code>) it is directly using the <code>EntityManager#getReference</code> method.<br />\nWhen using Hibernate this normally only creates a Proxy, and just when you access one of the fields the Proxy fetches the real values from the DB - or throwing an <code>EntityNotFoundException</code> in case it does not exist.</p>\n<p>Could it be that you changed something in your code, or you are being tricked by your debugger trying to display the <code>toString</code> of your method?</p>\n"}],"owner":{"account_id":6702549,"reputation":1560,"user_id":5168582,"accept_rate":86,"display_name":"Mateusz Sobczak"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12114,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":3,"score":4,"last_activity_date":1675768629,"creation_date":1670260824,"question_id":74692007,"body_markdown":"Does anyone know why getById and GetReferenceById work differently?\r\nI&#39;m using JpaRepository and method GetReferenceById doesn&#39;t throw EntityNotFoundException but getById throwing this exception when object doesn&#39;t exists","title":"Spring data JPA getById vs GetReferenceById","body":"<p>Does anyone know why getById and GetReferenceById work differently?\nI'm using JpaRepository and method GetReferenceById doesn't throw EntityNotFoundException but getById throwing this exception when object doesn't exists</p>\n"},{"tags":["java","ssl","jetty"],"answers":[{"tags":[],"owner":{"account_id":65427,"reputation":10919,"user_id":192529,"accept_rate":81,"display_name":"Timur Sadykov"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1675768623,"creation_date":1562091997,"answer_id":56858242,"question_id":50641587,"body_markdown":"One scenario if you want to enforce [mTLS][1] only for certain clients. So you have `wantClientAuth` option, then you have a filter that checks certain clients succeeded mTLS. \r\n\r\n\r\n  [1]: https://www.cloudflare.com/learning/access-management/what-is-mutual-tls/","title":"What is the difference between needClientAuth vs wantClientAuth in Jetty SSL module?","body":"<p>One scenario if you want to enforce <a href=\"https://www.cloudflare.com/learning/access-management/what-is-mutual-tls/\" rel=\"nofollow noreferrer\">mTLS</a> only for certain clients. So you have <code>wantClientAuth</code> option, then you have a filter that checks certain clients succeeded mTLS.</p>\n"}],"owner":{"account_id":8755685,"reputation":125,"user_id":6547358,"display_name":"alk453"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":972,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1675768623,"creation_date":1527849538,"question_id":50641587,"body_markdown":"I&#39;m trying to enable client authentication for Jetty server.\r\n\r\nI found two configurations `needClientAuth` and `wantClientAuth`. Most of the places `needClientAuth` is being used, then what is the purpose of `wantClientAuth`?","title":"What is the difference between needClientAuth vs wantClientAuth in Jetty SSL module?","body":"<p>I'm trying to enable client authentication for Jetty server.</p>\n<p>I found two configurations <code>needClientAuth</code> and <code>wantClientAuth</code>. Most of the places <code>needClientAuth</code> is being used, then what is the purpose of <code>wantClientAuth</code>?</p>\n"},{"tags":["java","spring","spring-mvc","servlets","applicationcontext"],"comments":[{"owner":{"account_id":195331,"reputation":275408,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1439257470,"post_id":31931848,"comment_id":51775367,"body_markdown":"Have you looked up the javadoc of either?","body":"Have you looked up the javadoc of either?"},{"owner":{"account_id":6769307,"reputation":465,"user_id":5213162,"display_name":"Raleigh"},"score":3,"creation_date":1439257645,"post_id":31931848,"comment_id":51775411,"body_markdown":"i did but i i can&#39;t get through, so i asked this question.","body":"i did but i i can&#39;t get through, so i asked this question."}],"answers":[{"tags":[],"owner":{"account_id":1077174,"reputation":8775,"user_id":1075051,"accept_rate":75,"display_name":"Sanjay"},"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1439259241,"creation_date":1439258200,"answer_id":31931989,"question_id":31931848,"body_markdown":"They are separate things. Every Java web applications based on Servlet technology will have a [servlet context][1], whether it&#39;s a spring application or not. In contrast, the [ApplicationContext][2] is a Spring thing; in very simple terms, it&#39;s a container to hold Spring beans.\r\n\r\n&gt; To initiate the value for both ApplicationContext and ServletContext, in web.xml, we will add something in context-param tag.\r\n\r\nIt would help if you quote an example for this, because, as far as I know, context-param is used for ServletContext, and not ApplicationContext.\r\n\r\n**Update**:\r\n\r\nYou can use a `context-param` to provide the locations of the root application context configuration files, as below.\r\n\r\n    &lt;context-param&gt;\r\n        &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\r\n        &lt;param-value&gt;\r\n            /WEB-INF/root-context.xml\r\n            /WEB-INF/applicationContext-security.xml\r\n        &lt;/param-value&gt;\r\n    &lt;/context-param&gt;\r\n\r\n  [1]: http://www.javatpoint.com/servletcontext\r\n  [2]: https://spring.io/understanding/application-context","title":"ApplicationContext and ServletContext","body":"<p>They are separate things. Every Java web applications based on Servlet technology will have a <a href=\"http://www.javatpoint.com/servletcontext\" rel=\"noreferrer\">servlet context</a>, whether it's a spring application or not. In contrast, the <a href=\"https://spring.io/understanding/application-context\" rel=\"noreferrer\">ApplicationContext</a> is a Spring thing; in very simple terms, it's a container to hold Spring beans.</p>\n\n<blockquote>\n  <p>To initiate the value for both ApplicationContext and ServletContext, in web.xml, we will add something in context-param tag.</p>\n</blockquote>\n\n<p>It would help if you quote an example for this, because, as far as I know, context-param is used for ServletContext, and not ApplicationContext.</p>\n\n<p><strong>Update</strong>:</p>\n\n<p>You can use a <code>context-param</code> to provide the locations of the root application context configuration files, as below.</p>\n\n<pre><code>&lt;context-param&gt;\n    &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\n    &lt;param-value&gt;\n        /WEB-INF/root-context.xml\n        /WEB-INF/applicationContext-security.xml\n    &lt;/param-value&gt;\n&lt;/context-param&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":917806,"reputation":1834,"user_id":950212,"display_name":"Ankireddy Polu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1439272171,"creation_date":1439259116,"answer_id":31932089,"question_id":31931848,"body_markdown":"In Spring, to read a specific initialisation configuration file, we use the **context-param** with the predefined name called **contextConfigLocation**.  \r\n\r\n    &lt;context-param&gt;\r\n      &lt;description&gt;WebFlow context configuration&lt;/description&gt;\r\n      &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\r\n      &lt;param-value&gt;/WEB-INF/test-context.xml&lt;/param-value&gt;\r\n    &lt;/context-param&gt; \r\n\r\nBut in case of Plain J2EE web application without including any frameworks, the **context-param** can read from any where in the application i.e. any servlet, filter.\r\n\r\nThe difference between **ApplicationContext** and **ServletContext**, sanjay explained \r\n\r\n\r\n","title":"ApplicationContext and ServletContext","body":"<p>In Spring, to read a specific initialisation configuration file, we use the <strong>context-param</strong> with the predefined name called <strong>contextConfigLocation</strong>.  </p>\n\n<pre><code>&lt;context-param&gt;\n  &lt;description&gt;WebFlow context configuration&lt;/description&gt;\n  &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\n  &lt;param-value&gt;/WEB-INF/test-context.xml&lt;/param-value&gt;\n&lt;/context-param&gt; \n</code></pre>\n\n<p>But in case of Plain J2EE web application without including any frameworks, the <strong>context-param</strong> can read from any where in the application i.e. any servlet, filter.</p>\n\n<p>The difference between <strong>ApplicationContext</strong> and <strong>ServletContext</strong>, sanjay explained </p>\n"},{"tags":[],"owner":{"account_id":1583553,"reputation":959,"user_id":1468384,"accept_rate":0,"display_name":"ParagFlume"},"down_vote_count":0,"up_vote_count":36,"is_accepted":false,"score":36,"last_activity_date":1608712562,"creation_date":1439270219,"answer_id":31933736,"question_id":31931848,"body_markdown":"### Servlet Context: ###\r\nIt is initialized when a Servlet application is deployed. Servlet Context holds all the configurations (init-param, context-params, etc) of the whole servlet application.\r\n\r\n### Application Context: ###\r\nIt is a Spring specific thing. It is initialized by Spring. It holds all the bean definitions and life-cycle of the beans that are defined inside the spring configuration files. Servlet-Context has no idea about these things.\r\n\r\nThere are two types of contexts in Spring parent and child.\r\n    \r\n### Spring Parent Context (Application Context / Root Context ) ###\r\n\r\n      &lt;listener&gt;\r\n            &lt;listener-lass&gt; \r\n                org.springframework.web.context.ContextLoaderListener\r\n            &lt;/listener-class&gt;\r\n      &lt;/listener&gt;\r\n      &lt;context-param&gt;\r\n            &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\r\n            &lt;param-value&gt;\r\n                /WEB-INF/service-context.xml,\r\n                /WEB-INF/dao-context.xml,\r\n                /WEB-INF/was-context.xml,\r\n                /WEB-INF/jndi-context.xml,\r\n                /WEB-INF/json-context.xml\r\n            &lt;/param-value&gt;\r\n      &lt;/context-param&gt;\r\n\r\n[role-purpose-of-contextloaderlistener-in-spring][1]  \r\n[Spring-ContextLoaderListener-And-DispatcherServlet-Concepts][2]  \r\nWhen spring container starts up, it reads all the bean definitions from the configuration files and creates beans objects, and manages the life cycle of the bean objects.\r\nThis configuration is totally optional.\r\n\r\n[DispatcherServlet vs ContextLoaderListener][3]  \r\n[/declaring-spring-bean-in-parent-context-vs-child-context][4]\r\n\r\n### Spring Child Context ( WebApplicationContext / Child Context ) ###\r\n\r\n    &lt;servlet&gt;\r\n        &lt;servlet-name&gt;myWebApplication&lt;/servlet-name&gt;\r\n        &lt;servlet-class&gt;\r\n             org.springframework.web.servlet.DispatcherServlet\r\n        &lt;/servlet-class&gt;\r\n        &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\r\n    &lt;/servlet&gt;\r\n    &lt;servlet-mapping&gt;\r\n        &lt;servlet-name&gt;myWebApplication&lt;/servlet-name&gt;\r\n        &lt;url-pattern&gt;/app/*&lt;/url-pattern&gt;\r\n    &lt;/servlet-mapping&gt;\r\n\r\nWhen spring web application starts it will look for spring bean configuration file myWebApplication-servlet.xml. It will read all the bean definitions and create and manages the bean objects&#39; life cycle. If the parent spring context is available it will merge the child spring context with the parent spring context. If there is no Spring parent context available the application will only have the child spring context.\r\n\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/11815339/role-purpose-of-contextloaderlistener-in-spring\r\n  [2]: http://www.codesenior.com/en/tutorial/Spring-ContextLoaderListener-And-DispatcherServlet-Concepts\r\n  [3]: http://simone-folino.blogspot.in/2012/05/dispatcherservlet-vs.html\r\n  [4]: https://stackoverflow.com/questions/7746633/declaring-spring-bean-in-parent-context-vs-child-context/7748108#7748108","title":"ApplicationContext and ServletContext","body":"<h3>Servlet Context:</h3>\n<p>It is initialized when a Servlet application is deployed. Servlet Context holds all the configurations (init-param, context-params, etc) of the whole servlet application.</p>\n<h3>Application Context:</h3>\n<p>It is a Spring specific thing. It is initialized by Spring. It holds all the bean definitions and life-cycle of the beans that are defined inside the spring configuration files. Servlet-Context has no idea about these things.</p>\n<p>There are two types of contexts in Spring parent and child.</p>\n<h3>Spring Parent Context (Application Context / Root Context )</h3>\n<pre><code>  &lt;listener&gt;\n        &lt;listener-lass&gt; \n            org.springframework.web.context.ContextLoaderListener\n        &lt;/listener-class&gt;\n  &lt;/listener&gt;\n  &lt;context-param&gt;\n        &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\n        &lt;param-value&gt;\n            /WEB-INF/service-context.xml,\n            /WEB-INF/dao-context.xml,\n            /WEB-INF/was-context.xml,\n            /WEB-INF/jndi-context.xml,\n            /WEB-INF/json-context.xml\n        &lt;/param-value&gt;\n  &lt;/context-param&gt;\n</code></pre>\n<p><a href=\"https://stackoverflow.com/questions/11815339/role-purpose-of-contextloaderlistener-in-spring\">role-purpose-of-contextloaderlistener-in-spring</a><br />\n<a href=\"http://www.codesenior.com/en/tutorial/Spring-ContextLoaderListener-And-DispatcherServlet-Concepts\" rel=\"noreferrer\">Spring-ContextLoaderListener-And-DispatcherServlet-Concepts</a><br />\nWhen spring container starts up, it reads all the bean definitions from the configuration files and creates beans objects, and manages the life cycle of the bean objects.\nThis configuration is totally optional.</p>\n<p><a href=\"http://simone-folino.blogspot.in/2012/05/dispatcherservlet-vs.html\" rel=\"noreferrer\">DispatcherServlet vs ContextLoaderListener</a><br />\n<a href=\"https://stackoverflow.com/questions/7746633/declaring-spring-bean-in-parent-context-vs-child-context/7748108#7748108\">/declaring-spring-bean-in-parent-context-vs-child-context</a></p>\n<h3>Spring Child Context ( WebApplicationContext / Child Context )</h3>\n<pre><code>&lt;servlet&gt;\n    &lt;servlet-name&gt;myWebApplication&lt;/servlet-name&gt;\n    &lt;servlet-class&gt;\n         org.springframework.web.servlet.DispatcherServlet\n    &lt;/servlet-class&gt;\n    &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\n&lt;/servlet&gt;\n&lt;servlet-mapping&gt;\n    &lt;servlet-name&gt;myWebApplication&lt;/servlet-name&gt;\n    &lt;url-pattern&gt;/app/*&lt;/url-pattern&gt;\n&lt;/servlet-mapping&gt;\n</code></pre>\n<p>When spring web application starts it will look for spring bean configuration file myWebApplication-servlet.xml. It will read all the bean definitions and create and manages the bean objects' life cycle. If the parent spring context is available it will merge the child spring context with the parent spring context. If there is no Spring parent context available the application will only have the child spring context.</p>\n"},{"tags":[],"owner":{"account_id":3153922,"reputation":71,"user_id":2666718,"display_name":"Thạnh Nguy&#234;n"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1530352536,"creation_date":1530352536,"answer_id":51113800,"question_id":31931848,"body_markdown":"ApplicationContext is Spring&#39;s container.\r\n\r\nIt&#39;s used to wire the configurations from Spring beans together and use them for the application.\r\n\r\nUse ApplicationContext if you want to retrieve the information of Spring beans.\r\n\r\nUse ServletContext if you want to get/set attribute those shared to all Servlet.\r\n\r\n\r\n","title":"ApplicationContext and ServletContext","body":"<p>ApplicationContext is Spring's container.</p>\n\n<p>It's used to wire the configurations from Spring beans together and use them for the application.</p>\n\n<p>Use ApplicationContext if you want to retrieve the information of Spring beans.</p>\n\n<p>Use ServletContext if you want to get/set attribute those shared to all Servlet.</p>\n"},{"tags":[],"owner":{"account_id":2249164,"reputation":119,"user_id":1981792,"display_name":"Madhu"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1551493733,"creation_date":1551490903,"answer_id":54954465,"question_id":31931848,"body_markdown":"`ServletContext` is distinguished from it&#39;s &#39;enclosing&#39; `ApplicationContext`. The Java doc says the below for `ServletContext`\r\n\r\n&gt; There is one [servlet] context per &quot;web application&quot; per Java Virtual\r\n&gt; Machine. (A &quot;web application&quot; is a collection of servlets and content\r\n&gt; installed under a specific subset of the server&#39;s URL namespace such\r\n&gt; as /catalog and possibly installed via a .war file.)\r\n\r\nSince there can be more than one &quot;web application&quot; under the same `AppBase`, each with their own `DocBase`, `WEB-INF/web.xml` etc., there is definitely a common environment/context that is shared by all &quot;web applications&quot;, which is being referred to as the `ApplicationContext`. In case of JSF, `PortletContext` is the counter part of `ServletContext` and the `ApplicationContext` is referred to as the `ExternalContext`. ","title":"ApplicationContext and ServletContext","body":"<p><code>ServletContext</code> is distinguished from it's 'enclosing' <code>ApplicationContext</code>. The Java doc says the below for <code>ServletContext</code></p>\n\n<blockquote>\n  <p>There is one [servlet] context per \"web application\" per Java Virtual\n  Machine. (A \"web application\" is a collection of servlets and content\n  installed under a specific subset of the server's URL namespace such\n  as /catalog and possibly installed via a .war file.)</p>\n</blockquote>\n\n<p>Since there can be more than one \"web application\" under the same <code>AppBase</code>, each with their own <code>DocBase</code>, <code>WEB-INF/web.xml</code> etc., there is definitely a common environment/context that is shared by all \"web applications\", which is being referred to as the <code>ApplicationContext</code>. In case of JSF, <code>PortletContext</code> is the counter part of <code>ServletContext</code> and the <code>ApplicationContext</code> is referred to as the <code>ExternalContext</code>. </p>\n"}],"owner":{"account_id":6769307,"reputation":465,"user_id":5213162,"display_name":"Raleigh"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50192,"favorite_count":0,"down_vote_count":5,"up_vote_count":47,"answer_count":5,"score":42,"last_activity_date":1675768585,"creation_date":1439257110,"question_id":31931848,"body_markdown":"I get confused between the two ApplicationContext and ServletContext when it comes to Spring MVC Application.\r\nI know that There is just only One ApplicationContext per Spring Web Application and there is also just only One ServletContext per web application. \r\nTo initiate the value for both ApplicationContext and ServletContext, in web.xml, we will add something in **context-param** tag.\r\n \r\nThat is the point that makes me confused. **What are the differences** between these two (i know ApplicationContext has some methods to work with beans)? and **When** we would use **ApplicationContext** and **When** we would use **ServletContext**?","title":"ApplicationContext and ServletContext","body":"<p>I get confused between the two ApplicationContext and ServletContext when it comes to Spring MVC Application.\nI know that There is just only One ApplicationContext per Spring Web Application and there is also just only One ServletContext per web application. \nTo initiate the value for both ApplicationContext and ServletContext, in web.xml, we will add something in <strong>context-param</strong> tag.</p>\n\n<p>That is the point that makes me confused. <strong>What are the differences</strong> between these two (i know ApplicationContext has some methods to work with beans)? and <strong>When</strong> we would use <strong>ApplicationContext</strong> and <strong>When</strong> we would use <strong>ServletContext</strong>?</p>\n"},{"tags":["python","java","simplenlg"],"owner":{"account_id":19157386,"reputation":1,"user_id":13993932,"display_name":"MeddlingRacc"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675768521,"creation_date":1675768487,"question_id":75372581,"body_markdown":"I am trying to use SimpleNLG (using python and simplenlg) to generate phrases using the word &quot;because&quot;.\r\nThe wiki (https://github.com/simplenlg/simplenlg/wiki/Section-XIII-%E2%80%93-Generating-a-sentence-with-multiple-clauses) offer the following solution:\r\n\r\n```\r\na = nlgFactory.createClause(&quot;I&quot;, &quot;be&quot;, &quot;happy&quot;)\r\nb = nlgFactory.createClause(&quot;I&quot;, &quot;eat&quot;, &quot;fish&quot;)\r\nb.setFeature(Feature.COMPLEMENTISER, &quot;because&quot;)\r\nb.setFeature(Feature.TENSE, Tense.PAST)\r\na.addComplement(b)\r\nrealiser.realiseSentence(a)\r\n```\r\n\r\nBut when i want to add more causes using &quot;and&quot;,\r\n```\r\na = nlgFactory.createClause(&quot;I&quot;, &quot;be&quot;, &quot;happy&quot;)\r\nb = nlgFactory.createClause(&quot;I&quot;, &quot;eat&quot;, &quot;fish&quot;)\r\nc = nlgFactory.createClause(&quot;I&quot;,&quot;eat&quot;,&quot;salad&quot;)\r\n\r\nd = nlgFactory.createCoordinatedPhrase()\r\nd.addCoordinate(b)\r\nd.addCoordinate(c)\r\nprint(realiser.realiseSentence(d)) #I eat fish and I eat salad.\r\n\r\nd.setFeature(Feature.COMPLEMENTISER, &quot;because&quot;)\r\nd.setFeature(Feature.TENSE, Tense.PAST)\r\na.addComplement(d)\r\nrealiser.realiseSentence(a)\r\n```\r\n\r\ni get the following result:\r\n`I am happy that I ate fish and that I ate salad.`\r\n&quot;because&quot; has disappeared, replaced by &quot;that&quot;.\r\nI suppose that the use of &quot;that&quot; is intended behavior in this case, however it also happen when it make the generated phrase incorrect:\r\n\r\n```\r\nr = nlgFactory.createCoordinatedPhrase()\r\nr.setConjunction(&quot;and&quot;)\r\na = nlgFactory.createClause(&quot;Monash&quot;,&quot;invite&quot;,&quot;Lewis&quot;)\r\nb = nlgFactory.createClause(&quot;Lewis&quot;,&quot;feel&quot;,&quot;happy&quot;)\r\nr.addCoordinate(a)\r\nr.addCoordinate(b)\r\n    \r\n#phrase = nlgFactory.createCoordinatedPhrase()\r\n#phrase.setConjunction(&quot;because&quot;)\r\n#phrase.addCoordinate(G_nlg[i])\r\n#phrase.addCoordinate(reason)\r\n    \r\nphrase = nlgFactory.createClause(&quot;Lewis&quot;,&quot;go to&quot;, &quot;Monash&quot;)\r\nr.setFeature(Feature.COMPLEMENTISER, &quot;because&quot;)\r\nr.setFeature(Feature.TENSE, Tense.PAST)\r\nphrase.addComplement(r)\r\n\r\nrealiser.realiseSentence(phrase)\r\n```\r\n\r\nreturns `Lewis goes to Monash that Monash invited Lewis and that Lewis felt happy.` when i would want it to return &quot;Lewis goes to Monash because Monash invited Lewis and Lewis felt happy&quot;\r\n\r\nWhy is &quot;that&quot; used there, and how could i get SimpleNLG to generate the sentence that i want?\r\n\r\n\r\n\r\nI tried changing verbs and time with no result.\r\nUsing a coordinated sentence with setConjunction(&quot;because&quot;) sometime gave me the correct sentence, but i don&#39;t think this is the intended use.","title":"Causality with complement in SimpleNLG not working as intended","body":"<p>I am trying to use SimpleNLG (using python and simplenlg) to generate phrases using the word &quot;because&quot;.\nThe wiki (<a href=\"https://github.com/simplenlg/simplenlg/wiki/Section-XIII-%E2%80%93-Generating-a-sentence-with-multiple-clauses\" rel=\"nofollow noreferrer\">https://github.com/simplenlg/simplenlg/wiki/Section-XIII-%E2%80%93-Generating-a-sentence-with-multiple-clauses</a>) offer the following solution:</p>\n<pre><code>a = nlgFactory.createClause(&quot;I&quot;, &quot;be&quot;, &quot;happy&quot;)\nb = nlgFactory.createClause(&quot;I&quot;, &quot;eat&quot;, &quot;fish&quot;)\nb.setFeature(Feature.COMPLEMENTISER, &quot;because&quot;)\nb.setFeature(Feature.TENSE, Tense.PAST)\na.addComplement(b)\nrealiser.realiseSentence(a)\n</code></pre>\n<p>But when i want to add more causes using &quot;and&quot;,</p>\n<pre><code>a = nlgFactory.createClause(&quot;I&quot;, &quot;be&quot;, &quot;happy&quot;)\nb = nlgFactory.createClause(&quot;I&quot;, &quot;eat&quot;, &quot;fish&quot;)\nc = nlgFactory.createClause(&quot;I&quot;,&quot;eat&quot;,&quot;salad&quot;)\n\nd = nlgFactory.createCoordinatedPhrase()\nd.addCoordinate(b)\nd.addCoordinate(c)\nprint(realiser.realiseSentence(d)) #I eat fish and I eat salad.\n\nd.setFeature(Feature.COMPLEMENTISER, &quot;because&quot;)\nd.setFeature(Feature.TENSE, Tense.PAST)\na.addComplement(d)\nrealiser.realiseSentence(a)\n</code></pre>\n<p>i get the following result:\n<code>I am happy that I ate fish and that I ate salad.</code>\n&quot;because&quot; has disappeared, replaced by &quot;that&quot;.\nI suppose that the use of &quot;that&quot; is intended behavior in this case, however it also happen when it make the generated phrase incorrect:</p>\n<pre><code>r = nlgFactory.createCoordinatedPhrase()\nr.setConjunction(&quot;and&quot;)\na = nlgFactory.createClause(&quot;Monash&quot;,&quot;invite&quot;,&quot;Lewis&quot;)\nb = nlgFactory.createClause(&quot;Lewis&quot;,&quot;feel&quot;,&quot;happy&quot;)\nr.addCoordinate(a)\nr.addCoordinate(b)\n    \n#phrase = nlgFactory.createCoordinatedPhrase()\n#phrase.setConjunction(&quot;because&quot;)\n#phrase.addCoordinate(G_nlg[i])\n#phrase.addCoordinate(reason)\n    \nphrase = nlgFactory.createClause(&quot;Lewis&quot;,&quot;go to&quot;, &quot;Monash&quot;)\nr.setFeature(Feature.COMPLEMENTISER, &quot;because&quot;)\nr.setFeature(Feature.TENSE, Tense.PAST)\nphrase.addComplement(r)\n\nrealiser.realiseSentence(phrase)\n</code></pre>\n<p>returns <code>Lewis goes to Monash that Monash invited Lewis and that Lewis felt happy.</code> when i would want it to return &quot;Lewis goes to Monash because Monash invited Lewis and Lewis felt happy&quot;</p>\n<p>Why is &quot;that&quot; used there, and how could i get SimpleNLG to generate the sentence that i want?</p>\n<p>I tried changing verbs and time with no result.\nUsing a coordinated sentence with setConjunction(&quot;because&quot;) sometime gave me the correct sentence, but i don't think this is the intended use.</p>\n"},{"tags":["java","jakarta-mail","webmail","roundcube"],"comments":[{"owner":{"account_id":213468,"reputation":103485,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1675769128,"post_id":75371983,"comment_id":132995700,"body_markdown":"Roundcube is a webmail **front-end**, it is not an SMTP server. You cannot connect to a Webmail server with JakartaaMail, you need to connect to the underlying SMTP server. You&#39;ll need to ask your provider/hoster what the correct hostnames and ports are.","body":"Roundcube is a webmail <b>front-end</b>, it is not an SMTP server. You cannot connect to a Webmail server with JakartaaMail, you need to connect to the underlying SMTP server. You&#39;ll need to ask your provider/hoster what the correct hostnames and ports are."},{"owner":{"account_id":27723956,"reputation":39,"user_id":21163933,"display_name":"User69"},"score":0,"creation_date":1675769460,"post_id":75371983,"comment_id":132995812,"body_markdown":"The docs of the server tell me that outgoing mailserver uses SMTP, server port 587. Thus, I though I could connect on that port with smtp protocol. I also use the host stated in those docs, which is mail.host.eu.","body":"The docs of the server tell me that outgoing mailserver uses SMTP, server port 587. Thus, I though I could connect on that port with smtp protocol. I also use the host stated in those docs, which is mail.host.eu."},{"owner":{"account_id":213468,"reputation":103485,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1675769647,"post_id":75371983,"comment_id":132995867,"body_markdown":"If your application is not throwing any exception, then apparently the SMTP server accepted your message, then you&#39;ll need to ask the server administrator to check the logs of the mailserver to see what&#39;s going wrong.","body":"If your application is not throwing any exception, then apparently the SMTP server accepted your message, then you&#39;ll need to ask the server administrator to check the logs of the mailserver to see what&#39;s going wrong."}],"owner":{"account_id":27723956,"reputation":39,"user_id":21163933,"display_name":"User69"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":155,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675767711,"creation_date":1675765282,"question_id":75371983,"body_markdown":"My program sends mails. When developing I used my gmail account to send the mails. Going in production, I should connect to the clients mail, which is a Roundcube Webmail. I set up the configuration with the information I get from roundCube. I don&#39;t get an error, but the request never gets processed.\r\n\r\nI have tried changing ports and protocols. I also checked everything on the roundcube mail if I could find a setting that needed to be turned on to accept the incoming request.  Unfortunaltly, I cannot seem to send the mail via roundcube. To be clear, when I use my google mail settings it works fine.\r\n\r\nDo I need to changing some setting on Roundcube? Am I misconfiguring something? Does anyone have experience with connecting to roundCube webmail and tell me what I am doing wrong? You can find below my application properties. If you need anything more, please tell me.\r\n\r\n````\r\nspring.mail.port=587\r\nspring.mail.protocol=smtp\r\nspring.mail.host=mail.domain.eu\r\nspring.mail.username=email@email.be\r\nspring.mail.password=password\r\n````","title":"How to configure roundcube webmail with Javamailsender?","body":"<p>My program sends mails. When developing I used my gmail account to send the mails. Going in production, I should connect to the clients mail, which is a Roundcube Webmail. I set up the configuration with the information I get from roundCube. I don't get an error, but the request never gets processed.</p>\n<p>I have tried changing ports and protocols. I also checked everything on the roundcube mail if I could find a setting that needed to be turned on to accept the incoming request.  Unfortunaltly, I cannot seem to send the mail via roundcube. To be clear, when I use my google mail settings it works fine.</p>\n<p>Do I need to changing some setting on Roundcube? Am I misconfiguring something? Does anyone have experience with connecting to roundCube webmail and tell me what I am doing wrong? You can find below my application properties. If you need anything more, please tell me.</p>\n<pre><code>spring.mail.port=587\nspring.mail.protocol=smtp\nspring.mail.host=mail.domain.eu\nspring.mail.username=email@email.be\nspring.mail.password=password\n</code></pre>\n"},{"tags":["java","intellij-idea","javafx","fxmlloader"],"comments":[{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1675788601,"post_id":75372348,"comment_id":133002514,"body_markdown":"Don&#39;t unnecessarily mix swing and JavaFX, just stick with one UI framework.","body":"Don&#39;t unnecessarily mix swing and JavaFX, just stick with one UI framework."}],"owner":{"account_id":27724410,"reputation":1,"user_id":21164279,"display_name":"VMDang"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1675767507,"answer_count":0,"score":0,"last_activity_date":1675767186,"creation_date":1675767186,"question_id":75372348,"body_markdown":"I am working on Java FX project I&#39;m created FXML mainScreen.fxml file and tried to load it using FXML loader but it always says &quot;Location is not set&quot;\r\nHere is my entry point of my project that is a Java file\r\n[Error description and some files](https://i.stack.imgur.com/7W78Z.png)\r\n\r\nThis is class MainScreen\r\n\r\n```\r\npackage history.media;\r\n\r\nimport java.io.IOException;\r\nimport java.util.List;\r\n\r\nimport javax.swing.JFrame;\r\n\r\nimport history.entity.*;\r\nimport history.entity.Character;\r\nimport javafx.application.Platform;\r\nimport javafx.embed.swing.JFXPanel;\r\nimport javafx.fxml.FXMLLoader;\r\nimport javafx.scene.Parent;\r\nimport javafx.scene.Scene;\r\nimport store.Store;\r\n\r\npublic class MainScreen extends JFrame {\r\n\tprivate Store store;\r\n\tpublic MainScreen(Store store) {\r\n\t\tsuper();\r\n\t\tthis.store = store;\r\n\t\tJFXPanel fxPanel = new JFXPanel();\r\n\t\tthis.add(fxPanel);\r\n\t\tthis.setTitle(&quot;main&quot;);\r\n\t\tsetVisible(true);\r\n\t\tJFrame frame = this;\r\n\t\tPlatform.runLater(new Runnable() {\r\n\t\t\t\r\n\t\t\t@Override\r\n\t\t\tpublic void run() {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tFXMLLoader loader = new FXMLLoader(getClass().getResource(&quot;/mainScreen.fxml&quot;));\r\n\t\t\t\t\tMainScreenController controller = new MainScreenController(store, frame);\r\n\t\t\t\t\tloader.setController(controller);\r\n\r\n\t\t\t\t\tParent root = loader.load();\r\n\t\t\t\t\tfxPanel.setScene(new Scene(root, 1024, 768));\r\n\t\t\t\t\tfxPanel.setSize(1024, 768);\r\n\t\t\t\t} catch (IOException e) {\r\n\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n```","title":"JavaFX: Exception in thread &quot;JavaFX Application Thread&quot; java.lang.IllegalStateException: Location is not set","body":"<p>I am working on Java FX project I'm created FXML mainScreen.fxml file and tried to load it using FXML loader but it always says &quot;Location is not set&quot;\nHere is my entry point of my project that is a Java file\n<a href=\"https://i.stack.imgur.com/7W78Z.png\" rel=\"nofollow noreferrer\">Error description and some files</a></p>\n<p>This is class MainScreen</p>\n<pre><code>package history.media;\n\nimport java.io.IOException;\nimport java.util.List;\n\nimport javax.swing.JFrame;\n\nimport history.entity.*;\nimport history.entity.Character;\nimport javafx.application.Platform;\nimport javafx.embed.swing.JFXPanel;\nimport javafx.fxml.FXMLLoader;\nimport javafx.scene.Parent;\nimport javafx.scene.Scene;\nimport store.Store;\n\npublic class MainScreen extends JFrame {\n    private Store store;\n    public MainScreen(Store store) {\n        super();\n        this.store = store;\n        JFXPanel fxPanel = new JFXPanel();\n        this.add(fxPanel);\n        this.setTitle(&quot;main&quot;);\n        setVisible(true);\n        JFrame frame = this;\n        Platform.runLater(new Runnable() {\n            \n            @Override\n            public void run() {\n                try {\n                    FXMLLoader loader = new FXMLLoader(getClass().getResource(&quot;/mainScreen.fxml&quot;));\n                    MainScreenController controller = new MainScreenController(store, frame);\n                    loader.setController(controller);\n\n                    Parent root = loader.load();\n                    fxPanel.setScene(new Scene(root, 1024, 768));\n                    fxPanel.setSize(1024, 768);\n                } catch (IOException e) {\n                    e.printStackTrace();\n                }\n            }\n        });\n    }\n</code></pre>\n"},{"tags":["java","hibernate","audit"],"answers":[{"tags":[],"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675767142,"creation_date":1675767142,"answer_id":75372333,"question_id":75359883,"body_markdown":"&gt;One solution is to add &#224; field in User entity that i always update, with this, i always save User entity and i&#39;have my revision but it&#39;s not very clean.\r\n\r\nI think that is going to be your only viable option, unless you can make all the *ToMany associations owned i.e. remove the `mappedBy` part.\r\n\r\nBy making the many side the owning side, Hibernate will treat an entity as dirty when the collection changes somehow, though I don&#39;t think that changes to the entities within the collection will cause the same. If you want that changes to the elements also cause the entity to be treated as dirty, you will have to use an `@ElementCollection`.\r\n\r\nOverall, introducing a field on User like `modificationTimestamp` which you update is probably the easiest way to achieve this.","title":"hibernate auditing with trigger","body":"<blockquote>\n<p>One solution is to add à field in User entity that i always update, with this, i always save User entity and i'have my revision but it's not very clean.</p>\n</blockquote>\n<p>I think that is going to be your only viable option, unless you can make all the *ToMany associations owned i.e. remove the <code>mappedBy</code> part.</p>\n<p>By making the many side the owning side, Hibernate will treat an entity as dirty when the collection changes somehow, though I don't think that changes to the entities within the collection will cause the same. If you want that changes to the elements also cause the entity to be treated as dirty, you will have to use an <code>@ElementCollection</code>.</p>\n<p>Overall, introducing a field on User like <code>modificationTimestamp</code> which you update is probably the easiest way to achieve this.</p>\n"}],"owner":{"account_id":4165403,"reputation":878,"user_id":3414468,"accept_rate":50,"display_name":"Man&#231;aux Pierre-Alexandre"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":109,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675767142,"creation_date":1675678101,"question_id":75359883,"body_markdown":"I&#39;m using hibernate with jpa and i have implemented audit with postgres trigger.\r\n\r\nIn my source code i have used &#224; listenner on preInsert, preUpdate and preDelete to create a revision. This revision is added only if the saved entity is annoted by custom @AuditedEntity\r\n\r\nThis revision line contain transactionId and all the modification in same transaction is logged into audit_revision_details with postgres triggers and with this mecanism i can retrieve all modifications done on an entity.\r\n\r\nI have &#224; User entity with @AuditedEntity annotation and in the user entity i have a RoleUser Set. When i&#39;m change lastname of the user, all work fine, i have a revision line created in my audit_revision table and in audit_revision_details i can see the change.\r\n\r\nBut when i&#39;m saving only element inside RoleUser (i&#39;m saving a user and RoleUser is save with CascadeType.ALL), revision is not created in audit_revision because when i&#39;m entering in preInsert/preDelete or preUpdate listener,  the saved entity is RoleUser and RoleUser is not annoted by @AuditedEntity because it&#39;s User that have this annotation.\r\n\r\nOne solution is to add &#224; field in User entity that i always update, with this, i always save User entity and i&#39;have my revision but it&#39;s not very clean.\r\n\r\nAnother one is to check if the entity is annoted by @AuditedEntity or entity_name is &#39;RoleUser&#39; and i always create revision...but if i change my lastname at the same time i change a role, i risk to have 2 revision in bdd so i need to check if one exist before...\r\n\r\nI don&#39;t want to use hibernate-envers ( and envers have the same problem...)\r\n\r\nHow can i tell hibernate to force the revision creation when i only change entity inside another one? \r\n\r\nDoes anyone have implement same things and can help me?\r\n\r\nThanks ","title":"hibernate auditing with trigger","body":"<p>I'm using hibernate with jpa and i have implemented audit with postgres trigger.</p>\n<p>In my source code i have used à listenner on preInsert, preUpdate and preDelete to create a revision. This revision is added only if the saved entity is annoted by custom @AuditedEntity</p>\n<p>This revision line contain transactionId and all the modification in same transaction is logged into audit_revision_details with postgres triggers and with this mecanism i can retrieve all modifications done on an entity.</p>\n<p>I have à User entity with @AuditedEntity annotation and in the user entity i have a RoleUser Set. When i'm change lastname of the user, all work fine, i have a revision line created in my audit_revision table and in audit_revision_details i can see the change.</p>\n<p>But when i'm saving only element inside RoleUser (i'm saving a user and RoleUser is save with CascadeType.ALL), revision is not created in audit_revision because when i'm entering in preInsert/preDelete or preUpdate listener,  the saved entity is RoleUser and RoleUser is not annoted by @AuditedEntity because it's User that have this annotation.</p>\n<p>One solution is to add à field in User entity that i always update, with this, i always save User entity and i'have my revision but it's not very clean.</p>\n<p>Another one is to check if the entity is annoted by @AuditedEntity or entity_name is 'RoleUser' and i always create revision...but if i change my lastname at the same time i change a role, i risk to have 2 revision in bdd so i need to check if one exist before...</p>\n<p>I don't want to use hibernate-envers ( and envers have the same problem...)</p>\n<p>How can i tell hibernate to force the revision creation when i only change entity inside another one?</p>\n<p>Does anyone have implement same things and can help me?</p>\n<p>Thanks</p>\n"},{"tags":["java","spring-boot","spring-data-elasticsearch"],"answers":[{"tags":[],"owner":{"account_id":5190284,"reputation":13363,"user_id":4153426,"display_name":"m.antkowicz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675763757,"creation_date":1675763757,"answer_id":75371651,"question_id":75371610,"body_markdown":"Probably you just don&#39;t have one.\r\n\r\n`keyword` field type should not be used for full text search - instead use `text` \r\n\r\nRead also:\r\n* https://www.elastic.co/guide/en/elasticsearch/reference/current/keyword.html","title":"Spring Data Elasticsearch not give expected result","body":"<p>Probably you just don't have one.</p>\n<p><code>keyword</code> field type should not be used for full text search - instead use <code>text</code></p>\n<p>Read also:</p>\n<ul>\n<li><a href=\"https://www.elastic.co/guide/en/elasticsearch/reference/current/keyword.html\" rel=\"nofollow noreferrer\">https://www.elastic.co/guide/en/elasticsearch/reference/current/keyword.html</a></li>\n</ul>\n"}],"owner":{"account_id":5869143,"reputation":665,"user_id":4621980,"display_name":"Sanat Chandravanshi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":132,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675766890,"creation_date":1675763557,"question_id":75371610,"body_markdown":"I am using Spring data elasticsearch to query in my elastic documents.\r\n\r\nMy Elasticsearch entity class:\r\n\r\n    @Document(indexName=&quot;keywords&quot;)\r\n    @Getter\r\n    @Setter\r\n    public class ESKeywords {\r\n        @Id\r\n        private Long id;\r\n    \r\n        @Field(type = FieldType.Text, name = &quot;text&quot;)\r\n        private String text;\r\n    }\r\n\r\nIndexed row in elastic search:\r\n\r\n    {\r\n       &quot;id&quot;: 118390,\r\n       &quot;text&quot;: &quot;top 20 tweets of&quot;,      \r\n    }\r\n\r\nFor Example searching for &quot;top 20 tweets of ABC&quot;.\r\nIt gives different results when I Use directly elastic search port it gives:\r\n[![enter image description here][1]][1]\r\n\r\nAnd with the code(ElasticsearchRepository.findByText()) it gives empty result.\r\n\r\nthanks in advance\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/DRXf5.png","title":"Spring Data Elasticsearch not give expected result","body":"<p>I am using Spring data elasticsearch to query in my elastic documents.</p>\n<p>My Elasticsearch entity class:</p>\n<pre><code>@Document(indexName=&quot;keywords&quot;)\n@Getter\n@Setter\npublic class ESKeywords {\n    @Id\n    private Long id;\n\n    @Field(type = FieldType.Text, name = &quot;text&quot;)\n    private String text;\n}\n</code></pre>\n<p>Indexed row in elastic search:</p>\n<pre><code>{\n   &quot;id&quot;: 118390,\n   &quot;text&quot;: &quot;top 20 tweets of&quot;,      \n}\n</code></pre>\n<p>For Example searching for &quot;top 20 tweets of ABC&quot;.\nIt gives different results when I Use directly elastic search port it gives:\n<a href=\"https://i.stack.imgur.com/DRXf5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DRXf5.png\" alt=\"enter image description here\" /></a></p>\n<p>And with the code(ElasticsearchRepository.findByText()) it gives empty result.</p>\n<p>thanks in advance</p>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1675763443,"post_id":75370900,"comment_id":132993835,"body_markdown":"Since Android 11 (API 30) you no longer have full access to all storage with those permissions: https://developer.android.com/about/versions/11/privacy/storage. Either target Android 10 or read and understand that page. There&#39;s no trivial &quot;replace that code and it will work&quot; type fix.","body":"Since Android 11 (API 30) you no longer have full access to all storage with those permissions: <a href=\"https://developer.android.com/about/versions/11/privacy/storage\" rel=\"nofollow noreferrer\">developer.android.com/about/versions/11/privacy/storage</a>. Either target Android 10 or read and understand that page. There&#39;s no trivial &quot;replace that code and it will work&quot; type fix."}],"answers":[{"tags":[],"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1675766662,"creation_date":1675766662,"answer_id":75372243,"question_id":75370900,"body_markdown":"&gt;&gt;             String path = Environment.getExternalStorageDirectory().toString();\r\n\r\nChange to:\r\n\r\n                String path = Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOCUMENTS).toString();\r\n\r\n\r\nAnd for Android 10 devices add `android:legacyExternalStorage=&quot;true&quot;` to application tag in manifest file.\r\n\r\nFor Android 13+ devices you do not need any permission.","title":"storage/emulated/0/YourName.png: open failed: EPERM (Operation not permitted)","body":"<blockquote>\n<blockquote>\n<pre><code>        String path = Environment.getExternalStorageDirectory().toString();\n</code></pre>\n</blockquote>\n</blockquote>\n<p>Change to:</p>\n<pre><code>            String path = Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOCUMENTS).toString();\n</code></pre>\n<p>And for Android 10 devices add <code>android:legacyExternalStorage=&quot;true&quot;</code> to application tag in manifest file.</p>\n<p>For Android 13+ devices you do not need any permission.</p>\n"}],"owner":{"account_id":26011589,"reputation":5,"user_id":19720568,"display_name":"Rumaion Tomal"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":819,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75372243,"answer_count":1,"score":0,"last_activity_date":1675766662,"creation_date":1675759829,"question_id":75370900,"body_markdown":"I want to take an user Screenshot, I used this code. I was take 3 permission, READ_EXTERNAL_STORE,WRITE_EXTERNAL_STORE, and READ_EXTERNAL_STORAGE. Problem not fix. It show open failed: EPERM (Operation not permitted)\r\n\r\n```\r\npublic void tackeAndSaveScreenShot(Activity mActivity) {\r\n        View MainView = mActivity.getWindow().getDecorView();\r\n        MainView.setDrawingCacheEnabled(true);\r\n        MainView.buildDrawingCache();\r\n        Bitmap MainBitmap = MainView.getDrawingCache();\r\n        Rect frame = new Rect();\r\n\r\n        mActivity.getWindow().getDecorView().getWindowVisibleDisplayFrame(frame);\r\n        //to remove statusBar from the taken sc\r\n        int statusBarHeight = frame.top;\r\n        //using screen size to create bitmap\r\n        int width = mActivity.getWindowManager().getDefaultDisplay().getWidth();\r\n        int height = mActivity.getWindowManager().getDefaultDisplay().getHeight();\r\n        Bitmap OutBitmap = Bitmap.createBitmap(MainBitmap, 0, statusBarHeight, width, height - statusBarHeight);\r\n        MainView.destroyDrawingCache();\r\n        try {\r\n\r\n            String path = Environment.getExternalStorageDirectory().toString();\r\n            OutputStream fOut = null;\r\n            //you can also using current time to generate name\r\n            String name=&quot;YourName&quot;;\r\n            File file = new File(path, name + &quot;.png&quot;);\r\n            fOut = new FileOutputStream(file);\r\n\r\n            OutBitmap.compress(Bitmap.CompressFormat.PNG, 1000, fOut);\r\n            fOut.flush();\r\n            fOut.close();\r\n\r\n            //this line will add the saved picture to gallery\r\n            MediaStore.Images.Media.insertImage(getContentResolver(), file.getAbsolutePath(), file.getName(), file.getName());\r\n\r\n        } catch (FileNotFoundException e) {\r\n            e.printStackTrace();\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n```\r\n\r\nWhen I check on my Logcat. they show the problem is in\r\n\r\n```\r\nfOut = new FileOutputStream(file);\r\n```\r\n\r\nI get permission properly.\r\n\r\n\r\n```\r\nprivate void userPermission2(){\r\n        if (ContextCompat.checkSelfPermission(this, Manifest.permission.WRITE_EXTERNAL_STORAGE)\r\n                != PackageManager.PERMISSION_GRANTED){\r\n            ActivityCompat.requestPermissions(this, new String[] {Manifest.permission.WRITE_EXTERNAL_STORAGE,\r\n                    Manifest.permission.MANAGE_EXTERNAL_STORAGE, Manifest.permission.READ_EXTERNAL_STORAGE},REQUEST_CODE1);\r\n        }\r\n\r\n    }\r\n\r\n    @Override\r\n    public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\r\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults);\r\n        if (requestCode == REQUEST_CODE &amp;&amp; grantResults.length &gt; 0\r\n        &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED){\r\n            Toast.makeText(this, &quot;Permission Granted&quot;, Toast.LENGTH_SHORT).show();\r\n            userPermission2();\r\n        }else {\r\n            Toast.makeText(this, &quot;Permission Granted&quot;, Toast.LENGTH_SHORT).show();\r\n\r\n        }\r\n\r\n    }\r\n```\r\n\r\n\r\n\r\n\r\nI tried many why but don&#39;work. Every time is the same problem.\r\n\r\nThe log is.\r\n\r\n```\r\nD/CompatibilityChangeReporter: Compat change id reported: 147798919; UID 10351; state: ENABLED\r\nW/System.err: java.io.FileNotFoundException: /storage/emulated/0/YourName.png: open failed: EPERM (Operation not permitted)\r\nW/System.err:     at libcore.io.IoBridge.open(IoBridge.java:492)\r\nW/System.err:     at java.io.FileOutputStream.&lt;init&gt;(FileOutputStream.java:236)\r\nW/System.err:     at java.io.FileOutputStream.&lt;init&gt;(FileOutputStream.java:186)\r\nW/System.err:     at com.example.myapplication.MainActivity.tackeAndSaveScreenShot(MainActivity.java:93)\r\nW/System.err:     at com.example.myapplication.MainActivity$1.onClick(MainActivity.java:64)\r\nW/System.err:     at android.view.View.performClick(View.java:7570)\r\nW/System.err:     at com.google.android.material.button.MaterialButton.performClick(MaterialButton.java:1202)\r\nW/System.err:     at android.view.View.performClickInternal(View.java:7525)\r\nW/System.err:     at android.view.View.access$3900(View.java:836)\r\nW/System.err:     at android.view.View$PerformClick.run(View.java:28680)\r\nW/System.err:     at android.os.Handler.handleCallback(Handler.java:938)\r\nW/System.err:     at android.os.Handler.dispatchMessage(Handler.java:99)\r\nW/System.err:     at android.os.Looper.loop(Looper.java:254)\r\nW/System.err:     at android.app.ActivityThread.main(ActivityThread.java:8243)\r\nW/System.err:     at java.lang.reflect.Method.invoke(Native Method)\r\nW/System.err:     at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:612)\r\nW/System.err:     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1006)\r\nW/System.err: Caused by: android.system.ErrnoException: open failed: EPERM (Operation not permitted)\r\nW/System.err:     at libcore.io.Linux.open(Native Method)\r\nW/System.err:     at libcore.io.ForwardingOs.open(ForwardingOs.java:166)\r\nW/System.err:     at libcore.io.BlockGuardOs.open(BlockGuardOs.java:254)\r\nW/System.err:     at libcore.io.ForwardingOs.open(ForwardingOs.java:166)\r\nW/System.err:     at android.app.ActivityThread$AndroidOs.open(ActivityThread.java:8125)\r\nW/System.err:     at libcore.io.IoBridge.open(IoBridge.java:478)\r\nW/System.err: \t... 16 more\r\n```\r\n","title":"storage/emulated/0/YourName.png: open failed: EPERM (Operation not permitted)","body":"<p>I want to take an user Screenshot, I used this code. I was take 3 permission, READ_EXTERNAL_STORE,WRITE_EXTERNAL_STORE, and READ_EXTERNAL_STORAGE. Problem not fix. It show open failed: EPERM (Operation not permitted)</p>\n<pre><code>public void tackeAndSaveScreenShot(Activity mActivity) {\n        View MainView = mActivity.getWindow().getDecorView();\n        MainView.setDrawingCacheEnabled(true);\n        MainView.buildDrawingCache();\n        Bitmap MainBitmap = MainView.getDrawingCache();\n        Rect frame = new Rect();\n\n        mActivity.getWindow().getDecorView().getWindowVisibleDisplayFrame(frame);\n        //to remove statusBar from the taken sc\n        int statusBarHeight = frame.top;\n        //using screen size to create bitmap\n        int width = mActivity.getWindowManager().getDefaultDisplay().getWidth();\n        int height = mActivity.getWindowManager().getDefaultDisplay().getHeight();\n        Bitmap OutBitmap = Bitmap.createBitmap(MainBitmap, 0, statusBarHeight, width, height - statusBarHeight);\n        MainView.destroyDrawingCache();\n        try {\n\n            String path = Environment.getExternalStorageDirectory().toString();\n            OutputStream fOut = null;\n            //you can also using current time to generate name\n            String name=&quot;YourName&quot;;\n            File file = new File(path, name + &quot;.png&quot;);\n            fOut = new FileOutputStream(file);\n\n            OutBitmap.compress(Bitmap.CompressFormat.PNG, 1000, fOut);\n            fOut.flush();\n            fOut.close();\n\n            //this line will add the saved picture to gallery\n            MediaStore.Images.Media.insertImage(getContentResolver(), file.getAbsolutePath(), file.getName(), file.getName());\n\n        } catch (FileNotFoundException e) {\n            e.printStackTrace();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n</code></pre>\n<p>When I check on my Logcat. they show the problem is in</p>\n<pre><code>fOut = new FileOutputStream(file);\n</code></pre>\n<p>I get permission properly.</p>\n<pre><code>private void userPermission2(){\n        if (ContextCompat.checkSelfPermission(this, Manifest.permission.WRITE_EXTERNAL_STORAGE)\n                != PackageManager.PERMISSION_GRANTED){\n            ActivityCompat.requestPermissions(this, new String[] {Manifest.permission.WRITE_EXTERNAL_STORAGE,\n                    Manifest.permission.MANAGE_EXTERNAL_STORAGE, Manifest.permission.READ_EXTERNAL_STORAGE},REQUEST_CODE1);\n        }\n\n    }\n\n    @Override\n    public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults);\n        if (requestCode == REQUEST_CODE &amp;&amp; grantResults.length &gt; 0\n        &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED){\n            Toast.makeText(this, &quot;Permission Granted&quot;, Toast.LENGTH_SHORT).show();\n            userPermission2();\n        }else {\n            Toast.makeText(this, &quot;Permission Granted&quot;, Toast.LENGTH_SHORT).show();\n\n        }\n\n    }\n</code></pre>\n<p>I tried many why but don'work. Every time is the same problem.</p>\n<p>The log is.</p>\n<pre><code>D/CompatibilityChangeReporter: Compat change id reported: 147798919; UID 10351; state: ENABLED\nW/System.err: java.io.FileNotFoundException: /storage/emulated/0/YourName.png: open failed: EPERM (Operation not permitted)\nW/System.err:     at libcore.io.IoBridge.open(IoBridge.java:492)\nW/System.err:     at java.io.FileOutputStream.&lt;init&gt;(FileOutputStream.java:236)\nW/System.err:     at java.io.FileOutputStream.&lt;init&gt;(FileOutputStream.java:186)\nW/System.err:     at com.example.myapplication.MainActivity.tackeAndSaveScreenShot(MainActivity.java:93)\nW/System.err:     at com.example.myapplication.MainActivity$1.onClick(MainActivity.java:64)\nW/System.err:     at android.view.View.performClick(View.java:7570)\nW/System.err:     at com.google.android.material.button.MaterialButton.performClick(MaterialButton.java:1202)\nW/System.err:     at android.view.View.performClickInternal(View.java:7525)\nW/System.err:     at android.view.View.access$3900(View.java:836)\nW/System.err:     at android.view.View$PerformClick.run(View.java:28680)\nW/System.err:     at android.os.Handler.handleCallback(Handler.java:938)\nW/System.err:     at android.os.Handler.dispatchMessage(Handler.java:99)\nW/System.err:     at android.os.Looper.loop(Looper.java:254)\nW/System.err:     at android.app.ActivityThread.main(ActivityThread.java:8243)\nW/System.err:     at java.lang.reflect.Method.invoke(Native Method)\nW/System.err:     at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:612)\nW/System.err:     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1006)\nW/System.err: Caused by: android.system.ErrnoException: open failed: EPERM (Operation not permitted)\nW/System.err:     at libcore.io.Linux.open(Native Method)\nW/System.err:     at libcore.io.ForwardingOs.open(ForwardingOs.java:166)\nW/System.err:     at libcore.io.BlockGuardOs.open(BlockGuardOs.java:254)\nW/System.err:     at libcore.io.ForwardingOs.open(ForwardingOs.java:166)\nW/System.err:     at android.app.ActivityThread$AndroidOs.open(ActivityThread.java:8125)\nW/System.err:     at libcore.io.IoBridge.open(IoBridge.java:478)\nW/System.err:   ... 16 more\n</code></pre>\n"},{"tags":["java","spring","hibernate","jpa","querydsl"],"answers":[{"tags":[],"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675766423,"creation_date":1675766423,"answer_id":75372193,"question_id":75365585,"body_markdown":"I don&#39;t know how to model this with QueryDSL, but usually in HQL this can be modeled by using an exists subquery i.e. something like this:\r\n\r\n```sql\r\nfrom Employee e\r\nwhere not exists (\r\n  select 1\r\n  from e.tasks t\r\n  where t.priority &lt; :priority\r\n)\r\n```\r\n\r\nanother way to formulate this is through using quantifiers\r\n\r\n```sql\r\nfrom Employee e\r\nwhere :priority &gt; all (\r\n  select t.priority\r\n  from e.tasks t\r\n)\r\n```","title":"QueryDSL filter all elements in collection","body":"<p>I don't know how to model this with QueryDSL, but usually in HQL this can be modeled by using an exists subquery i.e. something like this:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>from Employee e\nwhere not exists (\n  select 1\n  from e.tasks t\n  where t.priority &lt; :priority\n)\n</code></pre>\n<p>another way to formulate this is through using quantifiers</p>\n<pre class=\"lang-sql prettyprint-override\"><code>from Employee e\nwhere :priority &gt; all (\n  select t.priority\n  from e.tasks t\n)\n</code></pre>\n"}],"owner":{"account_id":14698221,"reputation":1,"user_id":10615047,"display_name":"Kacper Szczęsny"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":172,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675766423,"creation_date":1675710567,"question_id":75365585,"body_markdown":"    @Getter\r\n    @Setter\r\n    @ToString\r\n\r\n    @ApiModelProperty(&quot;contains ignore case&quot;)\r\n    private String name;\r\n    @ApiModelProperty(&quot;equals&quot;)\r\n    private String department;\r\n    @ApiModelProperty(&quot;in equals&quot;)\r\n    private List&lt;String&gt; position;\r\n    @ApiModelProperty(&quot;greater or equals&quot;)\r\n    private Integer salaryFrom;\r\n    @ApiModelProperty(&quot;lower or equals&quot;)\r\n    private Integer salaryTo;\r\n    @ApiModelProperty(&quot;contains ignore case&quot;)\r\n    private String email;\r\n    @ApiModelProperty(&quot;at least one with priority higher&quot;)\r\n    private Integer oneHigher;\r\n    @ApiModelProperty(&quot;all priorities higher&quot;)\r\n    private Integer allHigher;\r\n\r\n    BooleanBuilder conditions = new BooleanBuilder();\r\n    ofNullable(salaryFrom).map(employee.salary::goe).ifPresent(conditions::and);\r\n    ofNullable(salaryTo).map(employee.salary::loe).ifPresent(conditions::and);\r\n    ofNullable(email).map(employee.email::containsIgnoreCase).ifPresent(conditions::and);\r\n    ofNullable(oneHigher).map(employee.tasks.any().priority::goe).ifPresent(conditions::and);                              \r\n    return conditions;\r\n\r\n\r\nI have Employee entity that has set of `Task`, and I want to be able to query only for employees that have all tasks greater than certain priority, I was able to do that but when at least one task has priority greater than some value using any(), but I don&#39;t see a way to do that for all tasks because I don&#39;t see any way to iterate through tasks in `employee.tasks`","title":"QueryDSL filter all elements in collection","body":"<pre><code>@Getter\n@Setter\n@ToString\n\n@ApiModelProperty(&quot;contains ignore case&quot;)\nprivate String name;\n@ApiModelProperty(&quot;equals&quot;)\nprivate String department;\n@ApiModelProperty(&quot;in equals&quot;)\nprivate List&lt;String&gt; position;\n@ApiModelProperty(&quot;greater or equals&quot;)\nprivate Integer salaryFrom;\n@ApiModelProperty(&quot;lower or equals&quot;)\nprivate Integer salaryTo;\n@ApiModelProperty(&quot;contains ignore case&quot;)\nprivate String email;\n@ApiModelProperty(&quot;at least one with priority higher&quot;)\nprivate Integer oneHigher;\n@ApiModelProperty(&quot;all priorities higher&quot;)\nprivate Integer allHigher;\n\nBooleanBuilder conditions = new BooleanBuilder();\nofNullable(salaryFrom).map(employee.salary::goe).ifPresent(conditions::and);\nofNullable(salaryTo).map(employee.salary::loe).ifPresent(conditions::and);\nofNullable(email).map(employee.email::containsIgnoreCase).ifPresent(conditions::and);\nofNullable(oneHigher).map(employee.tasks.any().priority::goe).ifPresent(conditions::and);                              \nreturn conditions;\n</code></pre>\n<p>I have Employee entity that has set of <code>Task</code>, and I want to be able to query only for employees that have all tasks greater than certain priority, I was able to do that but when at least one task has priority greater than some value using any(), but I don't see a way to do that for all tasks because I don't see any way to iterate through tasks in <code>employee.tasks</code></p>\n"},{"tags":["java","data-structures","linked-list"],"answers":[{"tags":[],"owner":{"account_id":7142980,"reputation":323243,"user_id":5459839,"display_name":"trincot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1675766003,"creation_date":1675766003,"answer_id":75372124,"question_id":75369436,"body_markdown":"The reason is that although your function `RemoveNthNode` returns the head after the removal, the caller (in `main`) ignores the returned value, so that it never sees a change to `head`. The confusion may also be caused by the parameter that has the name `head`, which shadows the `head` property of the class instance.\r\n\r\nAs it is not intuitive that the caller needs to provide `head` as argument, while you would expect that the method would *know* what the head of the list is, I suggest to make it a void method which doesn&#39;t take the `head` argument.\r\n\r\nYou should also take care of the case where `head` is `null`.\r\n\r\nYour `PrintLL` has a problem too: it doesn&#39;t print the node when the list has just one node.\r\n\r\n\r\nCorrected code:\r\n\r\n```\r\n    public void PrintLL() {\r\n        Node n = head;\r\n        while(n!=null){\r\n            System.out.print(n.data+ &quot; --&gt; &quot;);\r\n            n= n.next;\r\n        }\r\n        System.out.println(&quot;NULL&quot;);\r\n    }\r\n    \r\n    public void RemoveNthNode(int nth){\r\n        if(head == null || head.next==null){\r\n            head = null;\r\n            return;\r\n        }\r\n        int size=0;\r\n        Node curNode=head;\r\n        while(curNode!=null) {\r\n            curNode = curNode.next;\r\n            size++;\r\n        }\r\n\r\n        if(nth==size){\r\n            head = head.next;\r\n            return;\r\n        }\r\n         \r\n        Node prevnode = head;\r\n        int i=1;\r\n        while(i&lt;size-nth){\r\n            prevnode=prevnode.next;\r\n            i++;\r\n        }\r\n        prevnode.next = prevnode.next.next;\r\n    }\r\n    \r\n    public static void main(String[] args) {\r\n        Main ll = new Main();\r\n        ll.addFirst(90);\r\n        ll.addFirst(40);\r\n        ll.addFirst(45);\r\n        \r\n        ll.PrintLL();\r\n      \r\n        ll.RemoveNthNode(3);\r\n        ll.PrintLL();\r\n    }\r\n```","title":"Not printing elements when value of n is equal to size of linked list","body":"<p>The reason is that although your function <code>RemoveNthNode</code> returns the head after the removal, the caller (in <code>main</code>) ignores the returned value, so that it never sees a change to <code>head</code>. The confusion may also be caused by the parameter that has the name <code>head</code>, which shadows the <code>head</code> property of the class instance.</p>\n<p>As it is not intuitive that the caller needs to provide <code>head</code> as argument, while you would expect that the method would <em>know</em> what the head of the list is, I suggest to make it a void method which doesn't take the <code>head</code> argument.</p>\n<p>You should also take care of the case where <code>head</code> is <code>null</code>.</p>\n<p>Your <code>PrintLL</code> has a problem too: it doesn't print the node when the list has just one node.</p>\n<p>Corrected code:</p>\n<pre><code>    public void PrintLL() {\n        Node n = head;\n        while(n!=null){\n            System.out.print(n.data+ &quot; --&gt; &quot;);\n            n= n.next;\n        }\n        System.out.println(&quot;NULL&quot;);\n    }\n    \n    public void RemoveNthNode(int nth){\n        if(head == null || head.next==null){\n            head = null;\n            return;\n        }\n        int size=0;\n        Node curNode=head;\n        while(curNode!=null) {\n            curNode = curNode.next;\n            size++;\n        }\n\n        if(nth==size){\n            head = head.next;\n            return;\n        }\n         \n        Node prevnode = head;\n        int i=1;\n        while(i&lt;size-nth){\n            prevnode=prevnode.next;\n            i++;\n        }\n        prevnode.next = prevnode.next.next;\n    }\n    \n    public static void main(String[] args) {\n        Main ll = new Main();\n        ll.addFirst(90);\n        ll.addFirst(40);\n        ll.addFirst(45);\n        \n        ll.PrintLL();\n      \n        ll.RemoveNthNode(3);\n        ll.PrintLL();\n    }\n</code></pre>\n"}],"owner":{"account_id":27722446,"reputation":43,"user_id":21162688,"display_name":"rushi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75372124,"answer_count":1,"score":1,"last_activity_date":1675766003,"creation_date":1675749931,"question_id":75369436,"body_markdown":"I am doing the program for removing nth element from end of the linked list. But problem is that when my size of lined list is equal to n then it is not returning ` head.next `. Where I am doing wrong?\r\n\r\n```\r\n class Main{\r\n    static class Node {\r\n        int data;\r\n        Node next;  \r\n          \r\n        Node(int data){\r\n            this.data = data;\r\n            this.next = null;\r\n        }\r\n    }\r\n\r\n    Node head = null;\r\n     public void addFirst(int data) {\r\n        Node newnode = new Node(data);\r\n        if(head ==null){\r\n            head = newnode;\r\n            return;\r\n        }\r\n        newnode.next = head;\r\n        head = newnode;        \r\n    }\r\n  \r\n    //print list\r\n    public void PrintLL() {\r\n        Node n = head;\r\n        if(n.next==null){\r\n            System.out.println(&quot;NULL&quot;);\r\n            return;\r\n        }\r\n        while(n!=null){\r\n            System.out.print(n.data+ &quot; --&gt; &quot;);\r\n            n= n.next;\r\n        }\r\n        \r\n    }\r\n    \r\n    //Find nth node from last\r\n\r\n    public Node RemoveNthNode(Node head,int nth){\r\n        if(head.next==null){\r\n            return null;\r\n        }\r\n        int size=0;\r\n        Node curNode=head;\r\n        while(curNode!=null){\r\n            curNode = curNode.next;\r\n            size++;\r\n         }\r\n\r\n        if(nth==size){\r\n          return head.next;\r\n        }\r\n         \r\n         Node prevnode = head;\r\n        int i=1;\r\n        while(i&lt;size-nth){\r\n            prevnode=prevnode.next;\r\n            i++;\r\n        }\r\n        prevnode.next = prevnode.next.next;\r\n        return head;\r\n   \r\n    }\r\n    public static void main(String[] args) {\r\n        Main ll = new Main();\r\n        ll.addFirst(90);\r\n        ll.addFirst(40);\r\n        ll.addFirst(45);\r\n        \r\n         System.out.println(&quot;\\n&quot;);\r\n      \r\n      ll.RemoveNthNode(ll.head, 3);\r\n        ll.PrintLL();\r\n    }\r\n}\r\n\r\n```\r\n\r\nI tried the code that I have posted but it is not printing when n equal size of LL.","title":"Not printing elements when value of n is equal to size of linked list","body":"<p>I am doing the program for removing nth element from end of the linked list. But problem is that when my size of lined list is equal to n then it is not returning <code>head.next</code>. Where I am doing wrong?</p>\n<pre><code> class Main{\n    static class Node {\n        int data;\n        Node next;  \n          \n        Node(int data){\n            this.data = data;\n            this.next = null;\n        }\n    }\n\n    Node head = null;\n     public void addFirst(int data) {\n        Node newnode = new Node(data);\n        if(head ==null){\n            head = newnode;\n            return;\n        }\n        newnode.next = head;\n        head = newnode;        \n    }\n  \n    //print list\n    public void PrintLL() {\n        Node n = head;\n        if(n.next==null){\n            System.out.println(&quot;NULL&quot;);\n            return;\n        }\n        while(n!=null){\n            System.out.print(n.data+ &quot; --&gt; &quot;);\n            n= n.next;\n        }\n        \n    }\n    \n    //Find nth node from last\n\n    public Node RemoveNthNode(Node head,int nth){\n        if(head.next==null){\n            return null;\n        }\n        int size=0;\n        Node curNode=head;\n        while(curNode!=null){\n            curNode = curNode.next;\n            size++;\n         }\n\n        if(nth==size){\n          return head.next;\n        }\n         \n         Node prevnode = head;\n        int i=1;\n        while(i&lt;size-nth){\n            prevnode=prevnode.next;\n            i++;\n        }\n        prevnode.next = prevnode.next.next;\n        return head;\n   \n    }\n    public static void main(String[] args) {\n        Main ll = new Main();\n        ll.addFirst(90);\n        ll.addFirst(40);\n        ll.addFirst(45);\n        \n         System.out.println(&quot;\\n&quot;);\n      \n      ll.RemoveNthNode(ll.head, 3);\n        ll.PrintLL();\n    }\n}\n\n</code></pre>\n<p>I tried the code that I have posted but it is not printing when n equal size of LL.</p>\n"},{"tags":["java","hibernate","hikaricp","flexy-pool"],"answers":[{"tags":[],"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675765863,"creation_date":1675765863,"answer_id":75372092,"question_id":75356501,"body_markdown":"You can take a look into the configuration that is used for tests in Hibernate: https://github.com/hibernate/hibernate-orm/blob/main/hibernate-hikaricp/src/test/resources/hibernate.properties","title":"Hibernate 5 Core + FlexyPool","body":"<p>You can take a look into the configuration that is used for tests in Hibernate: <a href=\"https://github.com/hibernate/hibernate-orm/blob/main/hibernate-hikaricp/src/test/resources/hibernate.properties\" rel=\"nofollow noreferrer\">https://github.com/hibernate/hibernate-orm/blob/main/hibernate-hikaricp/src/test/resources/hibernate.properties</a></p>\n"}],"owner":{"account_id":6353546,"reputation":17,"user_id":4933008,"display_name":"MrWalterWhite"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675765863,"creation_date":1675644236,"question_id":75356501,"body_markdown":"I&#39;m trying to develop an Hibernate 5 Core application and I&#39;m using hibernate.cfg.xml to build the SessionFactory. For DB connection, I&#39;m using HikariCP connection pooling but I wanted to retrieve some metrics using FlexyPool.\r\n\r\nMy current hibernate.cfg.xml is as follows:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;!DOCTYPE hibernate-configuration PUBLIC\r\n        &quot;-//Hibernate/Hibernate Configuration DTD 3.0//EN&quot;\r\n        &quot;http://www.hibernate.org/dtd/hibernate-configuration-3.0.dtd&quot;&gt;\r\n&lt;hibernate-configuration&gt;\r\n    &lt;session-factory&gt;\r\n\r\n\r\n        &lt;!-- HikariCP database connection properties and pool configuration --&gt;\r\n        &lt;property name=&quot;hibernate.hikari.dataSourceClassName&quot;&gt;org.postgresql.ds.PGSimpleDataSource&lt;/property&gt;\r\n        &lt;property name=&quot;hikari.dataSource.serverName&quot;&gt;192.168.1.1&lt;/property&gt;\r\n        &lt;property name=&quot;hikari.dataSource.portNumber&quot;&gt;5432&lt;/property&gt;\r\n        &lt;property name=&quot;hikari.dataSource.databaseName&quot;&gt;dbtest&lt;/property&gt;\r\n        &lt;property name=&quot;hikari.dataSource.user&quot;&gt;dbuser&lt;/property&gt;\r\n        &lt;property name=&quot;hikari.dataSource.password&quot;&gt;dbpass&lt;/property&gt;\r\n        &lt;property name=&quot;hikari.dataSource.reWriteBatchedInserts&quot;&gt;true&lt;/property&gt;\r\n\r\n        &lt;!-- Maximum number of actual connection in the pool, including both idle and in-use connections --&gt;\r\n        &lt;property name=&quot;hibernate.hikari.maximumPoolSize&quot;&gt;10&lt;/property&gt;\r\n        &lt;!-- Minimum number of idle connections in the pool --&gt;\r\n        &lt;property name=&quot;hibernate.hikari.minimumIdle&quot;&gt;2&lt;/property&gt;\r\n        &lt;!-- Maximum time that a connection is allowed to sit idle in the pool (in milliseconds). Default: 600000 (10 minutes) --&gt;\r\n        &lt;property name=&quot;hibernate.hikari.idleTimeout&quot;&gt;300000&lt;/property&gt;\r\n        &lt;!-- Maximum waiting time for a connection from the pool (in milliseconds). Default: 30000 (30 seconds) --&gt;\r\n        &lt;property name=&quot;hibernate.hikari.connectionTimeout&quot;&gt;20000&lt;/property&gt;\r\n        &lt;!-- Maximum lifetime of a connection in the pool (0 indicates infinite lifetime), subject of course to the idleTimeout setting\r\n        (in milliseconds). Default: 1800000 (30 minutes) --&gt;\r\n        &lt;property name=&quot;hibernate.hikari.maxLifetime&quot;&gt;600000&lt;/property&gt;\r\n        &lt;!-- Controls the amount of time that a connection can be out of the pool before a message is logged indicating a possible\r\n        connection leak (in milliseconds). Default: 0 --&gt;\r\n        &lt;property name=&quot;hibernate.hikari.leakDetectionThreshold&quot;&gt;30000&lt;/property&gt;\r\n\r\n        &lt;!-- Select our SQL dialect --&gt;\r\n        &lt;!-- Dialect is required to let Hibernate know the Database Type, MySQL, Oracle, etc.\r\n             Hibernate 4 automatically figure out Dialect from Database Connection Metadata --&gt;\r\n        &lt;property name=&quot;hibernate.dialect&quot;&gt;org.hibernate.dialect.PostgreSQL10Dialect&lt;/property&gt;\r\n\r\n        &lt;!-- Specifies when Hibernate should release JDBC connections --&gt;\r\n        &lt;!-- Values: auto (default) | on_close | after_transaction | after_statement --&gt;\r\n        &lt;property name=&quot;hibernate.connection.release_mode&quot;&gt;auto&lt;/property&gt;\r\n\r\n        &lt;!-- Set the current session context --&gt;\r\n        &lt;!-- This option is only needed if using getCurrentSession()\r\n             org.hibernate.HibernateException: No CurrentSessionContext configured! --&gt;\r\n        &lt;property name=&quot;hibernate.current_session_context_class&quot;&gt;thread&lt;/property&gt;\r\n\r\n        &lt;!-- Set the default Flush Mode --&gt;\r\n        &lt;!-- This option will set the flush mode on Hibernate\r\n             Values: AUTO (default) | COMMIT | ALWAYS | MANUAL --&gt;\r\n        &lt;property name=&quot;hibernate.flushMode&quot;&gt;AUTO&lt;/property&gt;\r\n\r\n        &lt;!-- Set JDBC batch size --&gt;\r\n        &lt;property name=&quot;hibernate.jdbc.batch_size&quot;&gt;20&lt;/property&gt;\r\n\r\n        &lt;!-- Hibernate orders the SQL insert statements by entity type --&gt;\r\n        &lt;property name=&quot;hibernate.order_inserts&quot;&gt;true&lt;/property&gt;\r\n\r\n        &lt;!-- Hibernate orders the SQL update statements by entity type --&gt;\r\n        &lt;property name=&quot;hibernate.order_updates&quot;&gt;true&lt;/property&gt;\r\n\r\n        &lt;!-- Set this property to true if your JDBC driver returns correct row counts from executeBatch().\r\n             It is usually safe to turn this option on. Hibernate will then use batched DML for automatically\r\n             versioned data. Defaults to false. --&gt;\r\n        &lt;property name=&quot;hibernate.batch_versioned_data&quot;&gt;true&lt;/property&gt;\r\n\r\n        &lt;!-- Echo the SQL to stdout --&gt;\r\n        &lt;!-- Outputs the SQL queries to stdout, should be disabled in Production\r\n             (there are better ways to output SQL statements) --&gt;\r\n        &lt;property name=&quot;hibernate.show_sql&quot;&gt;false&lt;/property&gt;\r\n\r\n        &lt;!-- Show SQL formatted --&gt;\r\n        &lt;property name=&quot;hibernate.format_sql&quot;&gt;true&lt;/property&gt;\r\n\r\n        &lt;!-- Database schema handle on startup --&gt;\r\n        &lt;!-- Values: create | validate | update | create-drop\r\n             create\r\n             validate - Validate and export schema DDL to the database\r\n             update\r\n             create-drop --&gt;\r\n        &lt;property name=&quot;hibernate.hbm2ddl.auto&quot;&gt;validate&lt;/property&gt;\r\n\r\n        &lt;!-- Tell Hibernate to generate statistics --&gt;\r\n        &lt;!-- (will write one multi-line log statement with summarized statistical information at the end of the session).\r\n             This will be written to logfile through logger org.hibernate.stat = DEBUG --&gt;\r\n        &lt;property name=&quot;hibernate.generate_statistics&quot;&gt;true&lt;/property&gt;\r\n\r\n        &lt;!-- Log slow DB queries that take longer than a specific duration (ms) --&gt;\r\n        &lt;!-- This will be written to logfile through logger org.hibernate.SQL_SLOW = INFO --&gt;\r\n        &lt;property name=&quot;hibernate.session.events.log.LOG_QUERIES_SLOWER_THAN_MS&quot;&gt;1000&lt;/property&gt;\r\n\r\n    &lt;/session-factory&gt;\r\n&lt;/hibernate-configuration&gt;\r\n```\r\n\r\nI&#39;ve read the FlexyPool documentation on how to initialize it for HikariCP but don&#39;t know where to start. Any help?","title":"Hibernate 5 Core + FlexyPool","body":"<p>I'm trying to develop an Hibernate 5 Core application and I'm using hibernate.cfg.xml to build the SessionFactory. For DB connection, I'm using HikariCP connection pooling but I wanted to retrieve some metrics using FlexyPool.</p>\n<p>My current hibernate.cfg.xml is as follows:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;!DOCTYPE hibernate-configuration PUBLIC\n        &quot;-//Hibernate/Hibernate Configuration DTD 3.0//EN&quot;\n        &quot;http://www.hibernate.org/dtd/hibernate-configuration-3.0.dtd&quot;&gt;\n&lt;hibernate-configuration&gt;\n    &lt;session-factory&gt;\n\n\n        &lt;!-- HikariCP database connection properties and pool configuration --&gt;\n        &lt;property name=&quot;hibernate.hikari.dataSourceClassName&quot;&gt;org.postgresql.ds.PGSimpleDataSource&lt;/property&gt;\n        &lt;property name=&quot;hikari.dataSource.serverName&quot;&gt;192.168.1.1&lt;/property&gt;\n        &lt;property name=&quot;hikari.dataSource.portNumber&quot;&gt;5432&lt;/property&gt;\n        &lt;property name=&quot;hikari.dataSource.databaseName&quot;&gt;dbtest&lt;/property&gt;\n        &lt;property name=&quot;hikari.dataSource.user&quot;&gt;dbuser&lt;/property&gt;\n        &lt;property name=&quot;hikari.dataSource.password&quot;&gt;dbpass&lt;/property&gt;\n        &lt;property name=&quot;hikari.dataSource.reWriteBatchedInserts&quot;&gt;true&lt;/property&gt;\n\n        &lt;!-- Maximum number of actual connection in the pool, including both idle and in-use connections --&gt;\n        &lt;property name=&quot;hibernate.hikari.maximumPoolSize&quot;&gt;10&lt;/property&gt;\n        &lt;!-- Minimum number of idle connections in the pool --&gt;\n        &lt;property name=&quot;hibernate.hikari.minimumIdle&quot;&gt;2&lt;/property&gt;\n        &lt;!-- Maximum time that a connection is allowed to sit idle in the pool (in milliseconds). Default: 600000 (10 minutes) --&gt;\n        &lt;property name=&quot;hibernate.hikari.idleTimeout&quot;&gt;300000&lt;/property&gt;\n        &lt;!-- Maximum waiting time for a connection from the pool (in milliseconds). Default: 30000 (30 seconds) --&gt;\n        &lt;property name=&quot;hibernate.hikari.connectionTimeout&quot;&gt;20000&lt;/property&gt;\n        &lt;!-- Maximum lifetime of a connection in the pool (0 indicates infinite lifetime), subject of course to the idleTimeout setting\n        (in milliseconds). Default: 1800000 (30 minutes) --&gt;\n        &lt;property name=&quot;hibernate.hikari.maxLifetime&quot;&gt;600000&lt;/property&gt;\n        &lt;!-- Controls the amount of time that a connection can be out of the pool before a message is logged indicating a possible\n        connection leak (in milliseconds). Default: 0 --&gt;\n        &lt;property name=&quot;hibernate.hikari.leakDetectionThreshold&quot;&gt;30000&lt;/property&gt;\n\n        &lt;!-- Select our SQL dialect --&gt;\n        &lt;!-- Dialect is required to let Hibernate know the Database Type, MySQL, Oracle, etc.\n             Hibernate 4 automatically figure out Dialect from Database Connection Metadata --&gt;\n        &lt;property name=&quot;hibernate.dialect&quot;&gt;org.hibernate.dialect.PostgreSQL10Dialect&lt;/property&gt;\n\n        &lt;!-- Specifies when Hibernate should release JDBC connections --&gt;\n        &lt;!-- Values: auto (default) | on_close | after_transaction | after_statement --&gt;\n        &lt;property name=&quot;hibernate.connection.release_mode&quot;&gt;auto&lt;/property&gt;\n\n        &lt;!-- Set the current session context --&gt;\n        &lt;!-- This option is only needed if using getCurrentSession()\n             org.hibernate.HibernateException: No CurrentSessionContext configured! --&gt;\n        &lt;property name=&quot;hibernate.current_session_context_class&quot;&gt;thread&lt;/property&gt;\n\n        &lt;!-- Set the default Flush Mode --&gt;\n        &lt;!-- This option will set the flush mode on Hibernate\n             Values: AUTO (default) | COMMIT | ALWAYS | MANUAL --&gt;\n        &lt;property name=&quot;hibernate.flushMode&quot;&gt;AUTO&lt;/property&gt;\n\n        &lt;!-- Set JDBC batch size --&gt;\n        &lt;property name=&quot;hibernate.jdbc.batch_size&quot;&gt;20&lt;/property&gt;\n\n        &lt;!-- Hibernate orders the SQL insert statements by entity type --&gt;\n        &lt;property name=&quot;hibernate.order_inserts&quot;&gt;true&lt;/property&gt;\n\n        &lt;!-- Hibernate orders the SQL update statements by entity type --&gt;\n        &lt;property name=&quot;hibernate.order_updates&quot;&gt;true&lt;/property&gt;\n\n        &lt;!-- Set this property to true if your JDBC driver returns correct row counts from executeBatch().\n             It is usually safe to turn this option on. Hibernate will then use batched DML for automatically\n             versioned data. Defaults to false. --&gt;\n        &lt;property name=&quot;hibernate.batch_versioned_data&quot;&gt;true&lt;/property&gt;\n\n        &lt;!-- Echo the SQL to stdout --&gt;\n        &lt;!-- Outputs the SQL queries to stdout, should be disabled in Production\n             (there are better ways to output SQL statements) --&gt;\n        &lt;property name=&quot;hibernate.show_sql&quot;&gt;false&lt;/property&gt;\n\n        &lt;!-- Show SQL formatted --&gt;\n        &lt;property name=&quot;hibernate.format_sql&quot;&gt;true&lt;/property&gt;\n\n        &lt;!-- Database schema handle on startup --&gt;\n        &lt;!-- Values: create | validate | update | create-drop\n             create\n             validate - Validate and export schema DDL to the database\n             update\n             create-drop --&gt;\n        &lt;property name=&quot;hibernate.hbm2ddl.auto&quot;&gt;validate&lt;/property&gt;\n\n        &lt;!-- Tell Hibernate to generate statistics --&gt;\n        &lt;!-- (will write one multi-line log statement with summarized statistical information at the end of the session).\n             This will be written to logfile through logger org.hibernate.stat = DEBUG --&gt;\n        &lt;property name=&quot;hibernate.generate_statistics&quot;&gt;true&lt;/property&gt;\n\n        &lt;!-- Log slow DB queries that take longer than a specific duration (ms) --&gt;\n        &lt;!-- This will be written to logfile through logger org.hibernate.SQL_SLOW = INFO --&gt;\n        &lt;property name=&quot;hibernate.session.events.log.LOG_QUERIES_SLOWER_THAN_MS&quot;&gt;1000&lt;/property&gt;\n\n    &lt;/session-factory&gt;\n&lt;/hibernate-configuration&gt;\n</code></pre>\n<p>I've read the FlexyPool documentation on how to initialize it for HikariCP but don't know where to start. Any help?</p>\n"},{"tags":["java","maven","jenkins","intellij-idea","pom.xml"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1675626607,"post_id":75354615,"comment_id":132965247,"body_markdown":"Where is the message comming from? Have you checked the built on plain command line without jenkins? Do you get the same error? Either you use old deps or old plugin... but without more information it&#39;s hard to say..","body":"Where is the message comming from? Have you checked the built on plain command line without jenkins? Do you get the same error? Either you use old deps or old plugin... but without more information it&#39;s hard to say.."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1675628691,"post_id":75354615,"comment_id":132965606,"body_markdown":"Be advised that code which attempts to manipulate private fields in sun.reflect.annotation may break in later Java versions, since under the rules of object-oriented encapsulation, private implementations are free to change as long as the public interface remains stable.  In other words: what you’re doing will eventually stop working.","body":"Be advised that code which attempts to manipulate private fields in sun.reflect.annotation may break in later Java versions, since under the rules of object-oriented encapsulation, private implementations are free to change as long as the public interface remains stable.  In other words: what you’re doing will eventually stop working."},{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1675673278,"post_id":75354615,"comment_id":132972057,"body_markdown":"That is not a solution. That is a temporary workaround until you fix it properly.","body":"That is not a solution. That is a temporary workaround until you fix it properly."},{"owner":{"account_id":27710208,"reputation":11,"user_id":21153053,"display_name":"Mariam Ashraf"},"score":0,"creation_date":1675765536,"post_id":75354615,"comment_id":132994504,"body_markdown":"Field f;\n        try {\n            f = handler.getClass().getDeclaredField(&quot;memberValues&quot;);\n            f.setAccessible(true); --&gt; this line throws the error\n            Map&lt;String, Object&gt; memberValues;}","body":"Field f;         try {             f = handler.getClass().getDeclaredField(&quot;memberValues&quot;);             f.setAccessible(true); --&gt; this line throws the error             Map&lt;String, Object&gt; memberValues;}"}],"answers":[{"tags":[],"owner":{"account_id":6850437,"reputation":1477,"user_id":5267773,"accept_rate":43,"display_name":"Shalika"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1675623754,"creation_date":1675623754,"answer_id":75354772,"question_id":75354615,"body_markdown":" 1. At jenkins home page click **Manage Jenkins** link.\r\n 2. Click on the  **Global Tool Configuration** link.\r\n 3. Go to **JDK section** and click **Add JDK** button.\r\n 4. Fill the Name field , Add the name of the JDK.\r\n 5. Add the JAVA_HOME path for JDK installation directory.\r\n 6. In the Java Options field, enter the **&quot;--add-opens&quot;** command.\r\n\r\nExample -&gt; **--add-opens java.base/java.lang=ALL-UNNAMED**\r\n\r\n 7. Finally click save button.","title":"How to add --add-opens command to Jenkins","body":"<ol>\n<li>At jenkins home page click <strong>Manage Jenkins</strong> link.</li>\n<li>Click on the  <strong>Global Tool Configuration</strong> link.</li>\n<li>Go to <strong>JDK section</strong> and click <strong>Add JDK</strong> button.</li>\n<li>Fill the Name field , Add the name of the JDK.</li>\n<li>Add the JAVA_HOME path for JDK installation directory.</li>\n<li>In the Java Options field, enter the <strong>&quot;--add-opens&quot;</strong> command.</li>\n</ol>\n<p>Example -&gt; <strong>--add-opens java.base/java.lang=ALL-UNNAMED</strong></p>\n<ol start=\"7\">\n<li>Finally click save button.</li>\n</ol>\n"}],"owner":{"account_id":27710208,"reputation":11,"user_id":21153053,"display_name":"Mariam Ashraf"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1256,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1675765504,"creation_date":1675622240,"question_id":75354615,"body_markdown":"Environment:\r\nIntellij\r\nJDK 17\r\nMaven\r\n\r\nWhen i run my project i faced this error: Caused by: **java.lang.reflect.InaccessibleObjectException: Unable to make field private final java.util.Map sun.reflect.annotation.AnnotationInvocationHandler.memberValues accessible: module java.base does not &quot;opens sun.reflect.annotation&quot; to unnamed module @68267da0**\r\n\r\nCode:\r\n[enter image description here][1]\r\nf.setAccessible(true); **this line throws the error**\r\n\r\n\r\n\r\nsolution is to add this line **JAVA_TOOL_OPTIONS=--add-opens=java.base/sun.reflect.annotation=ALL-UNNAMED**\r\nto the runner configuration at Intellij see the photo: [enter image description here](https://i.stack.imgur.com/oG90n.png) and it works\r\n\r\nbut now i need to pass this line **JAVA_TOOL_OPTIONS=--add-opens=java.base/sun.reflect.annotation=ALL-UNNAMED** to the **Jenkins job**\r\n\r\nas i run my project through Jenkins so need to pass this solution to it\r\nso how to do it?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ywpiC.png","title":"How to add --add-opens command to Jenkins","body":"<p>Environment:\nIntellij\nJDK 17\nMaven</p>\n<p>When i run my project i faced this error: Caused by: <strong>java.lang.reflect.InaccessibleObjectException: Unable to make field private final java.util.Map sun.reflect.annotation.AnnotationInvocationHandler.memberValues accessible: module java.base does not &quot;opens sun.reflect.annotation&quot; to unnamed module @68267da0</strong></p>\n<p>Code:\n<a href=\"https://i.stack.imgur.com/ywpiC.png\" rel=\"nofollow noreferrer\">enter image description here</a>\nf.setAccessible(true); <strong>this line throws the error</strong></p>\n<p>solution is to add this line <strong>JAVA_TOOL_OPTIONS=--add-opens=java.base/sun.reflect.annotation=ALL-UNNAMED</strong>\nto the runner configuration at Intellij see the photo: <a href=\"https://i.stack.imgur.com/oG90n.png\" rel=\"nofollow noreferrer\">enter image description here</a> and it works</p>\n<p>but now i need to pass this line <strong>JAVA_TOOL_OPTIONS=--add-opens=java.base/sun.reflect.annotation=ALL-UNNAMED</strong> to the <strong>Jenkins job</strong></p>\n<p>as i run my project through Jenkins so need to pass this solution to it\nso how to do it?</p>\n"},{"tags":["java","rest","gis","geoserver"],"comments":[{"owner":{"account_id":195980,"reputation":10228,"user_id":439194,"accept_rate":100,"display_name":"Ian Turton"},"score":0,"creation_date":1675770614,"post_id":75371822,"comment_id":132996156,"body_markdown":"I&#39;m not sure that anyone is supporting that code any more, but you can check the source code to see what is happening. It&#39;s also worth checking the GeoServer log to see what GeoServer thinks went wrong","body":"I&#39;m not sure that anyone is supporting that code any more, but you can check the source code to see what is happening. It&#39;s also worth checking the GeoServer log to see what GeoServer thinks went wrong"}],"owner":{"account_id":15152869,"reputation":183,"user_id":10934684,"display_name":"Luigi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675765495,"creation_date":1675764458,"question_id":75371822,"body_markdown":"I need to retrieve the list of layers belonging to a layer group. I found the method I need in the GeoServerRESTReader class, but the returned list comes out to be null. The code I tried is as follows. The connection occurs correctly, so much so that the first print gives the name of the layer group of index 0, while the second print gives null. How do I get the list of layers in a layer group?\r\n\r\n    public class TestClass extends TestCase {\r\n        GeoServerRESTReader geoServerRESTReader = new GeoServerRESTReader(&quot;http://localhost:8080/geoserver/&quot;,&quot;admin&quot;,&quot;geoserver&quot;);\r\n        \r\n        public TestClass() throws MalformedURLException {\r\n            \r\n        }\r\n        \r\n        @Test\r\n        public void testClass() {\r\n            System.out.println(geoServerRESTReader.getLayerGroups(&quot;myworkspace&quot;).get(0).getName());\r\n            System.out.println(geoServerRESTReader.getLayerGroup(&quot;myworkspace&quot;,&quot;layergroupname&quot;).getLayerList());\r\n        }\r\n    }","title":"Try REST API on GeoServer","body":"<p>I need to retrieve the list of layers belonging to a layer group. I found the method I need in the GeoServerRESTReader class, but the returned list comes out to be null. The code I tried is as follows. The connection occurs correctly, so much so that the first print gives the name of the layer group of index 0, while the second print gives null. How do I get the list of layers in a layer group?</p>\n<pre><code>public class TestClass extends TestCase {\n    GeoServerRESTReader geoServerRESTReader = new GeoServerRESTReader(&quot;http://localhost:8080/geoserver/&quot;,&quot;admin&quot;,&quot;geoserver&quot;);\n    \n    public TestClass() throws MalformedURLException {\n        \n    }\n    \n    @Test\n    public void testClass() {\n        System.out.println(geoServerRESTReader.getLayerGroups(&quot;myworkspace&quot;).get(0).getName());\n        System.out.println(geoServerRESTReader.getLayerGroup(&quot;myworkspace&quot;,&quot;layergroupname&quot;).getLayerList());\n    }\n}\n</code></pre>\n"},{"tags":["java","mysql","spring-boot","elasticsearch","system-design"],"comments":[{"owner":{"account_id":529143,"reputation":136619,"user_id":1766831,"display_name":"Rick James"},"score":0,"creation_date":1675813748,"post_id":75369921,"comment_id":133008747,"body_markdown":"In MySQL, use `CHARACTER SET=utf8mb4` everywhere.","body":"In MySQL, use <code>CHARACTER SET=utf8mb4</code> everywhere."},{"owner":{"account_id":12875245,"reputation":547,"user_id":9312181,"display_name":"tusharRawat"},"score":0,"creation_date":1675871662,"post_id":75369921,"comment_id":133022035,"body_markdown":"@RickJames, that&#39;s it. Understood changing character set will change the max number of bytes a char takes to store, which is 4 byte. But can we save the data in raw format(any language), in DB/elastic for update and search cases. And what about the get calls, will the response will be same as the one we have changed without messing up the encoding formats","body":"@RickJames, that&#39;s it. Understood changing character set will change the max number of bytes a char takes to store, which is 4 byte. But can we save the data in raw format(any language), in DB/elastic for update and search cases. And what about the get calls, will the response will be same as the one we have changed without messing up the encoding formats"},{"owner":{"account_id":529143,"reputation":136619,"user_id":1766831,"display_name":"Rick James"},"score":0,"creation_date":1675902329,"post_id":75369921,"comment_id":133030124,"body_markdown":"If you currently have data stored in, say &quot;latin1&quot;, it needs to be converted somehow.  In MySQL, you must correctly state the &quot;character set&quot; (latin1 / utf8mb4 / etc) based on the _client_.  Then `INSERT` and `SELECT` will convert on the fly to the character set of the column in the table.","body":"If you currently have data stored in, say &quot;latin1&quot;, it needs to be converted somehow.  In MySQL, you must correctly state the &quot;character set&quot; (latin1 / utf8mb4 / etc) based on the <i>client</i>.  Then <code>INSERT</code> and <code>SELECT</code> will convert on the fly to the character set of the column in the table."},{"owner":{"account_id":12875245,"reputation":547,"user_id":9312181,"display_name":"tusharRawat"},"score":0,"creation_date":1676035818,"post_id":75369921,"comment_id":133061429,"body_markdown":"@RickJames Got it. Also if we want to show the static data to user in different languages, would it make sense to store them in DB. Can we keep that in app config files or maybe in Zookeeper, which one would be a better choice here.","body":"@RickJames Got it. Also if we want to show the static data to user in different languages, would it make sense to store them in DB. Can we keep that in app config files or maybe in Zookeeper, which one would be a better choice here."},{"owner":{"account_id":529143,"reputation":136619,"user_id":1766831,"display_name":"Rick James"},"score":0,"creation_date":1676057776,"post_id":75369921,"comment_id":133068058,"body_markdown":"MySQL&#39;s &quot;utf8mb4&quot; handles all known languages.  All major OSs and browsers handle &quot;UTF-8&quot;.  (Those two &quot;terms&quot; refer to the same encoding.)  I don&#39;t see config as being anything more than &quot;get it right, then forget about it.&quot;","body":"MySQL&#39;s &quot;utf8mb4&quot; handles all known languages.  All major OSs and browsers handle &quot;UTF-8&quot;.  (Those two &quot;terms&quot; refer to the same encoding.)  I don&#39;t see config as being anything more than &quot;get it right, then forget about it.&quot;"}],"owner":{"account_id":12875245,"reputation":547,"user_id":9312181,"display_name":"tusharRawat"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675765243,"creation_date":1675753758,"question_id":75369921,"body_markdown":"**Current functionality :**\r\n\r\n`/get/address/` :   get all saved address for a user\r\n\r\n`/update/address/{address_id}` : update existing address.\r\n\r\n`/search/address/{query}` : search the address in ElasticSearch based on the query.\r\n\r\nTech stack :-\r\n\r\n    MySQL         - to persist all addresses\r\n    ElasticSearch - to index addresses, so that we can search them fast.\r\n    Spring-boot.  - backend framework.\r\n\r\nCurrently we store everything in english language in **MySQL** and **ElasticSearch**.\r\n\r\n\r\nGoing ahead, we need to support the vernacular(multiple languages) addresses, in which user can save the address in multiple regional languages and search the address as well in the same regional language.\r\n\r\n\r\n\r\n&gt; What changes we need to do to at API or DB/ES level to incorporate\r\n&gt; this vernacular support in the APIs ?\r\n\r\n\r\n\r\n","title":"Providing vernacular support on saving &amp; retrieving entities in existing APIs","body":"<p><strong>Current functionality :</strong></p>\n<p><code>/get/address/</code> :   get all saved address for a user</p>\n<p><code>/update/address/{address_id}</code> : update existing address.</p>\n<p><code>/search/address/{query}</code> : search the address in ElasticSearch based on the query.</p>\n<p>Tech stack :-</p>\n<pre><code>MySQL         - to persist all addresses\nElasticSearch - to index addresses, so that we can search them fast.\nSpring-boot.  - backend framework.\n</code></pre>\n<p>Currently we store everything in english language in <strong>MySQL</strong> and <strong>ElasticSearch</strong>.</p>\n<p>Going ahead, we need to support the vernacular(multiple languages) addresses, in which user can save the address in multiple regional languages and search the address as well in the same regional language.</p>\n<blockquote>\n<p>What changes we need to do to at API or DB/ES level to incorporate\nthis vernacular support in the APIs ?</p>\n</blockquote>\n"},{"tags":["java","webrtc","opentok"],"comments":[{"owner":{"account_id":13618919,"reputation":148,"user_id":9824067,"display_name":"abdulajet"},"score":0,"creation_date":1675768797,"post_id":75371968,"comment_id":132995601,"body_markdown":"You need to have a publisher to share a video file into a session. Server components cannot act as publishers on Opentok, but you can use the Linux SDK on a server to achieve this.\n\nHere is a JS implementation if you would like to use the browser: https://github.com/opentok/opentok-web-samples/tree/main/Publish-Video\n\nIt is worth noting that publishing this video will incur costs on your side so it will be cheaper (and easier) to simulate a call and use the built-in video player on your platform of choice to play the video","body":"You need to have a publisher to share a video file into a session. Server components cannot act as publishers on Opentok, but you can use the Linux SDK on a server to achieve this.  Here is a JS implementation if you would like to use the browser: <a href=\"https://github.com/opentok/opentok-web-samples/tree/main/Publish-Video\" rel=\"nofollow noreferrer\">github.com/opentok/opentok-web-samples/tree/main/Publish-Vid&zwnj;&#8203;eo</a>  It is worth noting that publishing this video will incur costs on your side so it will be cheaper (and easier) to simulate a call and use the built-in video player on your platform of choice to play the video"},{"owner":{"account_id":27570478,"reputation":31,"user_id":21041776,"display_name":"Son Nguyen Duc"},"score":0,"creation_date":1675771835,"post_id":75371968,"comment_id":132996525,"body_markdown":"@abdulajet Thank, I have seen the example you sent, however there is 1 drawback. It&#39;s a video that doesn&#39;t auto play when i run the project\nI&#39;ve been looking for a way to deal with this but there doesn&#39;t seem to be a way. Is there any other alternative to Publish Video?","body":"@abdulajet Thank, I have seen the example you sent, however there is 1 drawback. It&#39;s a video that doesn&#39;t auto play when i run the project I&#39;ve been looking for a way to deal with this but there doesn&#39;t seem to be a way. Is there any other alternative to Publish Video?"},{"owner":{"account_id":13618919,"reputation":148,"user_id":9824067,"display_name":"abdulajet"},"score":0,"creation_date":1675787493,"post_id":75371968,"comment_id":133002154,"body_markdown":"which platform are you trying to autoplay on? web?","body":"which platform are you trying to autoplay on? web?"},{"owner":{"account_id":27570478,"reputation":31,"user_id":21041776,"display_name":"Son Nguyen Duc"},"score":0,"creation_date":1677745502,"post_id":75371968,"comment_id":133399414,"body_markdown":"No, I want play video in linux :((","body":"No, I want play video in linux :(("}],"owner":{"account_id":27570478,"reputation":31,"user_id":21041776,"display_name":"Son Nguyen Duc"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":101,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675765218,"creation_date":1675765218,"question_id":75371968,"body_markdown":"I&#39;m trying to create a function that instructs the user to use the App by having the user make a call with a video tutorial.\r\nVideo tutorials will be recorded in advance and stored in the directory: &quot;/opt/video-tutorial/Tutorial.mp4&quot;.\r\n\r\nHow can I do this using WebRTC? My server is written in Java, so is there a way to do this?","title":"How to video call between person and video use WebRTC?","body":"<p>I'm trying to create a function that instructs the user to use the App by having the user make a call with a video tutorial.\nVideo tutorials will be recorded in advance and stored in the directory: &quot;/opt/video-tutorial/Tutorial.mp4&quot;.</p>\n<p>How can I do this using WebRTC? My server is written in Java, so is there a way to do this?</p>\n"},{"tags":["java","spring","spring-batch"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1675764972,"post_id":75371401,"comment_id":132994322,"body_markdown":"Because Spring Batch is handling the exception, it doesn&#39;t propagate outside of Spring Batch. Which is also what the log you are adding is telling you (see the last 3 lines). Based on that exception Spring Batch will mark your job as failed with a message/cause).","body":"Because Spring Batch is handling the exception, it doesn&#39;t propagate outside of Spring Batch. Which is also what the log you are adding is telling you (see the last 3 lines). Based on that exception Spring Batch will mark your job as failed with a message/cause)."},{"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"score":1,"creation_date":1675765084,"post_id":75371401,"comment_id":132994362,"body_markdown":"I second what @M.Deinum said, and I was writing an answer along those lines with an example.","body":"I second what @M.Deinum said, and I was writing an answer along those lines with an example."}],"answers":[{"tags":[],"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675765023,"creation_date":1675765023,"answer_id":75371936,"question_id":75371401,"body_markdown":"When an exception is thrown in one of the steps of your job, it is not thrown to the client of your job. It is rather saved in the `failureExceptions` of the `JobExecution`.\r\n\r\nIn your case, you need to get a handle to the job execution returned by `jobLauncherTestUtils` and assert that the execption is part of `JobExecution#failureExceptions`. Here is a quick example:\r\n\r\n```\r\n@Test\r\nvoid testJobThrowsMyException() throws Exception {\r\n   // given\r\n   JobParameters emptyJobParameters = new JobParameters();\r\n\r\n   // when\r\n   JobExecution jobExecution = jobLauncherTestUtils.launchJob(emptyJobParameters);\r\n\r\n   // then\r\n   assert that jobExecution.failureExceptions contains an IllegalStateException\r\n}\r\n```","title":"assertThrows fails in Spring Batch with Tasklet","body":"<p>When an exception is thrown in one of the steps of your job, it is not thrown to the client of your job. It is rather saved in the <code>failureExceptions</code> of the <code>JobExecution</code>.</p>\n<p>In your case, you need to get a handle to the job execution returned by <code>jobLauncherTestUtils</code> and assert that the execption is part of <code>JobExecution#failureExceptions</code>. Here is a quick example:</p>\n<pre><code>@Test\nvoid testJobThrowsMyException() throws Exception {\n   // given\n   JobParameters emptyJobParameters = new JobParameters();\n\n   // when\n   JobExecution jobExecution = jobLauncherTestUtils.launchJob(emptyJobParameters);\n\n   // then\n   assert that jobExecution.failureExceptions contains an IllegalStateException\n}\n</code></pre>\n"}],"owner":{"account_id":15738788,"reputation":294,"user_id":11356914,"display_name":"Manu"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":148,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675765023,"creation_date":1675762574,"question_id":75371401,"body_markdown":"I&#39;m throwing an IllegalStateException in a `Tasklet`&#39;s `execute()` method based on a condition and I am trying to test my Batch-Job like so:\r\n\r\n```java\r\n@Test\r\nvoid testJobThrowsMyException() throws Exception {\r\n        JobParameters emptyJobParameters = new JobParameters();\r\n\r\n        assertThrows(IllegalStateException.class, () -&gt; jobLauncherTestUtils.launchJob(emptyJobParameters));\r\n}\r\n```\r\n\r\nHere&#39;s the execute method:\r\n\r\n```java\r\n@Override\r\npublic RepeatStatus execute(StepContribution contribution, ChunkContext chunkContext) {\r\n        getWorkload(chunkContext).forEach(workloadItem -&gt; {\r\n            // Processing \r\n        });\r\n\r\n        return RepeatStatus.FINISHED;\r\n    }\r\n```\r\n\r\nAnd this is basically how it gets the workload:\r\n\r\n```java\r\nprivate int getWorkload() {\r\n        if (condition) {\r\n            throw new IllegalStateException(&quot;Thats the exception i want to test&quot;);\r\n        }\r\n        \r\n        return workload;\r\n    }\r\n```\r\n\r\nThe problem is, based on the logs of the test execution, the exception is thrown, but the test fails with the following message:\r\n\r\n`org.opentest4j.AssertionFailedError: Expected java.lang.IllegalStateException to be thrown, but nothing was thrown.`\r\n\r\nBut as already said the logs clearly state that the exception was thrown:\r\n\r\n```\r\n10:32:54.608 [main] DEBUG org.hibernate.loader.Loader - Result row: \r\n10:32:54.616 [main] DEBUG org.springframework.batch.core.step.tasklet.TaskletStep - Applying contribution: [StepContribution: read=0, written=0, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING]\r\n10:32:54.616 [main] DEBUG org.springframework.batch.core.step.tasklet.TaskletStep - Rollback for RuntimeException: java.lang.IllegalStateException: Es ist noch keine Liefernummer in den ImportDetails vorhanden.\r\n10:32:54.618 [main] DEBUG org.springframework.transaction.support.TransactionTemplate - Initiating transaction rollback on application exception\r\njava.lang.IllegalStateException: Thats the exception i want to test\r\nat [...]\r\n10:32:54.619 [main] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction rollback\r\n10:32:54.619 [main] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Rolling back JPA transaction on EntityManager [SessionImpl(1793816221&lt;open&gt;)]\r\n10:32:54.619 [main] DEBUG org.hibernate.engine.transaction.internal.TransactionImpl - rolling back\r\n10:32:54.620 [main] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(1793816221&lt;open&gt;)] after transaction\r\n10:32:54.621 [main] DEBUG org.springframework.batch.repeat.support.RepeatTemplate - Handling exception: java.lang.IllegalStateException, caused by: java.lang.IllegalStateException: Es ist noch keine Liefernummer in den ImportDetails vorhanden.\r\n10:32:54.621 [main] DEBUG org.springframework.batch.repeat.support.RepeatTemplate - Handling fatal exception explicitly (rethrowing first of 1): java.lang.IllegalStateException: Es ist noch keine Liefernummer in den ImportDetails vorhanden.\r\n10:32:54.622 [main] ERROR org.springframework.batch.core.step.AbstractStep - Encountered an error executing step my-step in job my-job\r\n```\r\n\r\nAnd im not catching this exception, so why does the test fail, could anyone please explain?\r\n\r\nBest regards","title":"assertThrows fails in Spring Batch with Tasklet","body":"<p>I'm throwing an IllegalStateException in a <code>Tasklet</code>'s <code>execute()</code> method based on a condition and I am trying to test my Batch-Job like so:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Test\nvoid testJobThrowsMyException() throws Exception {\n        JobParameters emptyJobParameters = new JobParameters();\n\n        assertThrows(IllegalStateException.class, () -&gt; jobLauncherTestUtils.launchJob(emptyJobParameters));\n}\n</code></pre>\n<p>Here's the execute method:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\npublic RepeatStatus execute(StepContribution contribution, ChunkContext chunkContext) {\n        getWorkload(chunkContext).forEach(workloadItem -&gt; {\n            // Processing \n        });\n\n        return RepeatStatus.FINISHED;\n    }\n</code></pre>\n<p>And this is basically how it gets the workload:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private int getWorkload() {\n        if (condition) {\n            throw new IllegalStateException(&quot;Thats the exception i want to test&quot;);\n        }\n        \n        return workload;\n    }\n</code></pre>\n<p>The problem is, based on the logs of the test execution, the exception is thrown, but the test fails with the following message:</p>\n<p><code>org.opentest4j.AssertionFailedError: Expected java.lang.IllegalStateException to be thrown, but nothing was thrown.</code></p>\n<p>But as already said the logs clearly state that the exception was thrown:</p>\n<pre><code>10:32:54.608 [main] DEBUG org.hibernate.loader.Loader - Result row: \n10:32:54.616 [main] DEBUG org.springframework.batch.core.step.tasklet.TaskletStep - Applying contribution: [StepContribution: read=0, written=0, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING]\n10:32:54.616 [main] DEBUG org.springframework.batch.core.step.tasklet.TaskletStep - Rollback for RuntimeException: java.lang.IllegalStateException: Es ist noch keine Liefernummer in den ImportDetails vorhanden.\n10:32:54.618 [main] DEBUG org.springframework.transaction.support.TransactionTemplate - Initiating transaction rollback on application exception\njava.lang.IllegalStateException: Thats the exception i want to test\nat [...]\n10:32:54.619 [main] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction rollback\n10:32:54.619 [main] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Rolling back JPA transaction on EntityManager [SessionImpl(1793816221&lt;open&gt;)]\n10:32:54.619 [main] DEBUG org.hibernate.engine.transaction.internal.TransactionImpl - rolling back\n10:32:54.620 [main] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(1793816221&lt;open&gt;)] after transaction\n10:32:54.621 [main] DEBUG org.springframework.batch.repeat.support.RepeatTemplate - Handling exception: java.lang.IllegalStateException, caused by: java.lang.IllegalStateException: Es ist noch keine Liefernummer in den ImportDetails vorhanden.\n10:32:54.621 [main] DEBUG org.springframework.batch.repeat.support.RepeatTemplate - Handling fatal exception explicitly (rethrowing first of 1): java.lang.IllegalStateException: Es ist noch keine Liefernummer in den ImportDetails vorhanden.\n10:32:54.622 [main] ERROR org.springframework.batch.core.step.AbstractStep - Encountered an error executing step my-step in job my-job\n</code></pre>\n<p>And im not catching this exception, so why does the test fail, could anyone please explain?</p>\n<p>Best regards</p>\n"},{"tags":["java","opencv","image-processing","contour","robotics"],"answers":[{"tags":[],"owner":{"account_id":4142240,"reputation":30761,"user_id":4926757,"accept_rate":0,"display_name":"Rotem"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1675764999,"creation_date":1675764999,"answer_id":75371933,"question_id":75367988,"body_markdown":"In the first iteration of the loop, `biggestContour` is created using default constructor, and has the wrong OpenCV depth.  \r\n\r\nThe following code creates `MatOfPoint` object with default constructor:   \r\n\r\n    MatOfPoint biggestContour = new MatOfPoint();\r\n\r\nIn the first iteration, the following code computes `contourArea` over the &quot;new&quot; `MatOfPoint`:  \r\n\r\n    if (Imgproc.contourArea(curContour) &gt; Imgproc.contourArea(biggestContour)\r\n\r\nThe result is the error &quot;OpenCV Assertion failed... &amp;&amp; (depth == CV_32F || depth == CV_32S)&quot;  \r\nThe reason for getting the specific assertion is because the depth of the &quot;new&quot; `MatOfPoint` is `CV_8UC1` (not `CV_32F` and not `CV_32S`).  \r\n\r\n---\r\n\r\nSuggested solution:  \r\nInitialize `biggestContour` to the first contour in the list:  \r\n\r\n    MatOfPoint biggestContour = contours.get(0); //new MatOfPoint();\r\n    \r\n    for (MatOfPoint curContour : contours) {\r\n        if (Imgproc.contourArea(curContour) &gt; Imgproc.contourArea(biggestContour)) {\r\n            biggestContour = curContour;\r\n        }\r\n    }        \r\n\r\n---\r\n\r\nIt is also a good practice to verify that `contours` is not empty:  \r\n\r\n\tif (!contours.isEmpty())\r\n\t{\r\n\t\tMatOfPoint biggestContour = contours.get(0);//new MatOfPoint();\r\n\t\t\r\n\t\tfor (MatOfPoint curContour : contours) {\r\n\t\t\tif (Imgproc.contourArea(curContour) &gt; Imgproc.contourArea(biggestContour)) {\r\n\t\t\t\tbiggestContour = curContour;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n","title":"Java error &quot;OpenCV Assertion failed: (-215:Assertion failed) npoints &gt;= 0 &amp;&amp; (depth == CV_32F || depth == CV_32S)&quot;","body":"<p>In the first iteration of the loop, <code>biggestContour</code> is created using default constructor, and has the wrong OpenCV depth.</p>\n<p>The following code creates <code>MatOfPoint</code> object with default constructor:</p>\n<pre><code>MatOfPoint biggestContour = new MatOfPoint();\n</code></pre>\n<p>In the first iteration, the following code computes <code>contourArea</code> over the &quot;new&quot; <code>MatOfPoint</code>:</p>\n<pre><code>if (Imgproc.contourArea(curContour) &gt; Imgproc.contourArea(biggestContour)\n</code></pre>\n<p>The result is the error &quot;OpenCV Assertion failed... &amp;&amp; (depth == CV_32F || depth == CV_32S)&quot;<br />\nThe reason for getting the specific assertion is because the depth of the &quot;new&quot; <code>MatOfPoint</code> is <code>CV_8UC1</code> (not <code>CV_32F</code> and not <code>CV_32S</code>).</p>\n<hr />\n<p>Suggested solution:<br />\nInitialize <code>biggestContour</code> to the first contour in the list:</p>\n<pre><code>MatOfPoint biggestContour = contours.get(0); //new MatOfPoint();\n\nfor (MatOfPoint curContour : contours) {\n    if (Imgproc.contourArea(curContour) &gt; Imgproc.contourArea(biggestContour)) {\n        biggestContour = curContour;\n    }\n}        \n</code></pre>\n<hr />\n<p>It is also a good practice to verify that <code>contours</code> is not empty:</p>\n<pre><code>if (!contours.isEmpty())\n{\n    MatOfPoint biggestContour = contours.get(0);//new MatOfPoint();\n    \n    for (MatOfPoint curContour : contours) {\n        if (Imgproc.contourArea(curContour) &gt; Imgproc.contourArea(biggestContour)) {\n            biggestContour = curContour;\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":15796183,"reputation":125,"user_id":12240158,"display_name":"technicguy1"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75371933,"answer_count":1,"score":1,"last_activity_date":1675764999,"creation_date":1675731261,"question_id":75367988,"body_markdown":"When I try to run this openCV code on an FTC robot:\r\n\r\n```\r\n        List&lt;MatOfPoint&gt; contours = new ArrayList&lt;&gt;();\r\n        Imgproc.findContours(thresholded, contours, new Mat(), Imgproc.RETR_EXTERNAL, Imgproc.CHAIN_APPROX_SIMPLE);\r\n        contoursAttr = contours;\r\n\r\n        MatOfPoint biggestContour = new MatOfPoint();\r\n\r\n        for (MatOfPoint curContour : contours) {\r\n            if (Imgproc.contourArea(curContour) &gt; Imgproc.contourArea(biggestContour)) {\r\n                biggestContour = curContour;\r\n            }\r\n        }\r\n```\r\nI get the error in the title, namely &quot;OpenCV Assertion failed: (-215:Assertion failed) npoints &gt;= 0 &amp;&amp; (depth == CV_32F || depth == CV_32S)&quot;. I&#39;ve seen other answers for this question, but they almost all talk about signatures changing across versions, and are somewhat python-specific. However, given that ```contours``` is a ```List&lt;MatOfPoint&gt;```, I feel like this should work??\r\n\r\nThanks.","title":"Java error &quot;OpenCV Assertion failed: (-215:Assertion failed) npoints &gt;= 0 &amp;&amp; (depth == CV_32F || depth == CV_32S)&quot;","body":"<p>When I try to run this openCV code on an FTC robot:</p>\n<pre><code>        List&lt;MatOfPoint&gt; contours = new ArrayList&lt;&gt;();\n        Imgproc.findContours(thresholded, contours, new Mat(), Imgproc.RETR_EXTERNAL, Imgproc.CHAIN_APPROX_SIMPLE);\n        contoursAttr = contours;\n\n        MatOfPoint biggestContour = new MatOfPoint();\n\n        for (MatOfPoint curContour : contours) {\n            if (Imgproc.contourArea(curContour) &gt; Imgproc.contourArea(biggestContour)) {\n                biggestContour = curContour;\n            }\n        }\n</code></pre>\n<p>I get the error in the title, namely &quot;OpenCV Assertion failed: (-215:Assertion failed) npoints &gt;= 0 &amp;&amp; (depth == CV_32F || depth == CV_32S)&quot;. I've seen other answers for this question, but they almost all talk about signatures changing across versions, and are somewhat python-specific. However, given that <code>contours</code> is a <code>List&lt;MatOfPoint&gt;</code>, I feel like this should work??</p>\n<p>Thanks.</p>\n"},{"tags":["java","html","date","web-scraping","jsoup"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1675693011,"post_id":75362473,"comment_id":132977975,"body_markdown":"Why would you do that rather than get it directly via code?","body":"Why would you do that rather than get it directly via code?"},{"owner":{"account_id":12635372,"reputation":295,"user_id":9185021,"display_name":"Mixalis Navridis"},"score":0,"creation_date":1675693351,"post_id":75362473,"comment_id":132978082,"body_markdown":"Because i have many nodes and i want to synchronize them for example someone in greece someone in germany thats why and clocks of machines maybe differ","body":"Because i have many nodes and i want to synchronize them for example someone in greece someone in germany thats why and clocks of machines maybe differ"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":3,"creation_date":1675693804,"post_id":75362473,"comment_id":132978260,"body_markdown":"Even if that&#39;s the case, scraping a site is way inferior to making a request to a time server directly","body":"Even if that&#39;s the case, scraping a site is way inferior to making a request to a time server directly"},{"owner":{"account_id":12635372,"reputation":295,"user_id":9185021,"display_name":"Mixalis Navridis"},"score":0,"creation_date":1675693915,"post_id":75362473,"comment_id":132978292,"body_markdown":"i just want to synchronize the whole clients and this is the easiest way that i find. if you have something else on your mind please feel free to post it in comment","body":"i just want to synchronize the whole clients and this is the easiest way that i find. if you have something else on your mind please feel free to post it in comment"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":2,"creation_date":1675694202,"post_id":75362473,"comment_id":132978372,"body_markdown":"Have a look at time.google.com. And [this](https://stackoverflow.com/questions/4442192/how-to-use-an-internet-time-server-to-get-the-time)","body":"Have a look at time.google.com. And <a href=\"https://stackoverflow.com/questions/4442192/how-to-use-an-internet-time-server-to-get-the-time\">this</a>"},{"owner":{"account_id":12635372,"reputation":295,"user_id":9185021,"display_name":"Mixalis Navridis"},"score":0,"creation_date":1675699261,"post_id":75362473,"comment_id":132980248,"body_markdown":"i am still having issues i use NTPUDPClient and still get inconsistencies between different machines cant to synchronize them any help timestamp is different","body":"i am still having issues i use NTPUDPClient and still get inconsistencies between different machines cant to synchronize them any help timestamp is different"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1675700740,"post_id":75362473,"comment_id":132980747,"body_markdown":"Are you using the `long` value?","body":"Are you using the <code>long</code> value?"},{"owner":{"account_id":12635372,"reputation":295,"user_id":9185021,"display_name":"Mixalis Navridis"},"score":0,"creation_date":1675700791,"post_id":75362473,"comment_id":132980763,"body_markdown":"long returnTime = timeInfo.getReturnTime();","body":"long returnTime = timeInfo.getReturnTime();"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1675702567,"post_id":75362473,"comment_id":132981378,"body_markdown":"Of what nature are the &quot;inconsistencies&quot;?","body":"Of what nature are the &quot;inconsistencies&quot;?"},{"owner":{"account_id":12635372,"reputation":295,"user_id":9185021,"display_name":"Mixalis Navridis"},"score":0,"creation_date":1675705870,"post_id":75362473,"comment_id":132982329,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/251652/discussion-between-mixalis-navridis-and-g00se).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/251652/discussion-between-mixalis-navridis-and-g00se\">continue this discussion in chat</a>."}],"owner":{"account_id":12635372,"reputation":295,"user_id":9185021,"display_name":"Mixalis Navridis"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675764924,"creation_date":1675692876,"question_id":75362473,"body_markdown":"I am trying to extract the Current Unix epoch time in milliseconds from this [website][1] but I failed. Here is my code\r\n\r\n\r\n    Document document = Jsoup.connect(&quot;https://www.freeformatter.com/epoch-timestamp-to-date-converter.html&quot;).get();\r\n    String content = document.getElementById(&quot;epochMs&quot;).text();\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://www.freeformatter.com/epoch-timestamp-to-date-converter.html\r\n  [2]: https://i.stack.imgur.com/oJYcq.png\r\n\r\nFor some reason, the content is empty. Maybe I need to click on the href link first to stop the running timer? Any idea how to get the timestamp?","title":"Extract UTC time with jsoup by id","body":"<p>I am trying to extract the Current Unix epoch time in milliseconds from this <a href=\"https://www.freeformatter.com/epoch-timestamp-to-date-converter.html\" rel=\"nofollow noreferrer\">website</a> but I failed. Here is my code</p>\n<pre><code>Document document = Jsoup.connect(&quot;https://www.freeformatter.com/epoch-timestamp-to-date-converter.html&quot;).get();\nString content = document.getElementById(&quot;epochMs&quot;).text();\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/oJYcq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/oJYcq.png\" alt=\"enter image description here\" /></a></p>\n<p>For some reason, the content is empty. Maybe I need to click on the href link first to stop the running timer? Any idea how to get the timestamp?</p>\n"},{"tags":["java","android","android-recyclerview","refresh","android-tablayout"],"answers":[{"tags":[],"owner":{"account_id":11628564,"reputation":350,"user_id":8517590,"display_name":"Rem"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675764733,"creation_date":1675764733,"answer_id":75371878,"question_id":72706185,"body_markdown":"For future use, If you are switching between Fragments within the same activity, you can do as follows:\r\n\r\nIn your `onStop()/onDestroyView()/onPause()` whatever callback is more appropriate, do this:\r\n\r\n```java\r\nstatic Parcelable recyclerViewState;\r\n\r\n@Override\r\npublic void onPause() // or onStop or onDestroyView\r\n{\r\n    recylerViewState = recyclerView.getLayoutManager().onSaveInstanceState();\r\n}\r\n```\r\n\r\nAnd In your `onStart()/onCreateView()/onResume()` whatever callback is more appropriate, do this:\r\n\r\n```java\r\n@Override\r\npublic void onResume() // or onStart or onCreateView\r\n{\r\n    recyclerView.getLayoutManager().onRestoreInstanceState(recylerViewState);\r\n}\r\n```\r\n\r\nThis way you can successfully keep your recyclerView&#39;s state in a parcelable and restore it whenever you want.\r\n\r\nDon&#39;t forget to add:\r\n```java\r\n@Override\r\npublic void onDestroy()\r\n{\r\n    recylerViewState = null;\r\n}\r\n```","title":"RecyclerView doesn&#39;t show updated list on Viewpager2 tab change","body":"<p>For future use, If you are switching between Fragments within the same activity, you can do as follows:</p>\n<p>In your <code>onStop()/onDestroyView()/onPause()</code> whatever callback is more appropriate, do this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>static Parcelable recyclerViewState;\n\n@Override\npublic void onPause() // or onStop or onDestroyView\n{\n    recylerViewState = recyclerView.getLayoutManager().onSaveInstanceState();\n}\n</code></pre>\n<p>And In your <code>onStart()/onCreateView()/onResume()</code> whatever callback is more appropriate, do this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\npublic void onResume() // or onStart or onCreateView\n{\n    recyclerView.getLayoutManager().onRestoreInstanceState(recylerViewState);\n}\n</code></pre>\n<p>This way you can successfully keep your recyclerView's state in a parcelable and restore it whenever you want.</p>\n<p>Don't forget to add:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\npublic void onDestroy()\n{\n    recylerViewState = null;\n}\n</code></pre>\n"}],"owner":{"account_id":5888596,"reputation":2185,"user_id":4635851,"accept_rate":74,"display_name":"Shahid Thaika"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":347,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675764733,"creation_date":1655839725,"question_id":72706185,"body_markdown":"In my android app, I am using a TabLayout and ViewPager2 to show different categories of lists using RecyclerView. When I do additions and deletions and then call `notifyDataSetChanged`, the list changes while I am still on the current tab. However, when I select another tab and return, the list shows the original items that were initialised while creating the fragment.\r\n\r\nIn the `createFragment` function of the `FragmentStateAdapter` adapter class, I initialise a fragment with the starting data item arraylist as follows.\r\n\r\n    public class DataListAdapter extends FragmentStateAdapter {\r\n        private DataListFragment[] fragments;\r\n    \r\n        //\r\n        // other code\r\n        //\r\n    \r\n        @Override\r\n        public Fragment createFragment(int position) {\r\n            ArrayList&lt;DataItem&gt; dataItems;\r\n    \r\n            //The actual code returns a different data item based on conditions\r\n            dataItems = dbAdapter.getDataItems();\r\n    \r\n            DataListFragment frag = new DataListFragment(dataItems);\r\n    \r\n            fragments[position] = frag;\r\n    \r\n            return frag;\r\n        }\r\n    }\r\n\r\nIn the DataListFragment I have...\r\n\r\n    DataListFragment(ArrayList&lt;DataItem&gt; dataItems) {\r\n        this.dataItems.addAll(dataItems);\r\n    }\r\n\r\nIn order to ensure I have the latest ArrayList when a tab is selected, I wrote the following code in my activity...\r\n\r\n    dlBinding.tabs.addOnTabSelectedListener(new TabLayout.OnTabSelectedListener() {\r\n    \t@Override\r\n    \tpublic void onTabSelected(TabLayout.Tab tab) {\r\n    \t\tdlAdapter.refreshFragmentDataItems(tab.getPosition());\r\n    \t}\r\n    });\r\n\r\nRelevant code from adapter:\r\n\r\n    public void refreshFragmentDataItems(int position) {\r\n        ArrayList&lt;DataItem&gt; dataItems;\r\n\r\n\t\tdataItems = dbAdapter.getRecentDataItems(null);\r\n\r\n        fragments[position].setDataItems(dataItems);\r\n    }\r\n\r\nAnd finally the `setDataItems()` code from the Fragment class:\r\n\r\n    public void setDataItems(ArrayList&lt;DataItem&gt; dataItems) {\r\n        this.dataItems.clear();\r\n        this.dataItems.addAll(dataItems);\r\n        recyclerAdapter.notifyDataSetChanged();\r\n    }\r\n\r\n\r\nWhen I debug the code, even without executing the `refreshFragmentDataItems()` function, I noticed that the `fragments[position].dataItems` variable had the most recent list of items after factoring in any additions and removal of items from the ArrayList.\r\n\r\nNevertheless it continues to display the original list. I tried to move the notifyDataSetChanged() call around to no avail. In some cases it was going into a forever loop.\r\n\r\n\r\nWould appreciate any inputs in figuring out why the list in my recycler views are not updating when I select another tab.\r\n\r\n\r\n**EDIT:** On further diagnosis, I found the issue is caused due to the search feature.\r\n\r\nI have a QueryTextListener, and commenting out the code in OnQueryTextChange fixes the problem.\r\n\r\n            searchView.setOnQueryTextListener(new SearchView.OnQueryTextListener() {\r\n                @Override\r\n                public boolean onQueryTextSubmit(String query) {\r\n                    InputMethodManager inm = (InputMethodManager) getSystemService(Context.INPUT_METHOD_SERVICE);\r\n                    inm.hideSoftInputFromWindow(searchView.getWindowToken(), 0);\r\n                    dlAdapter.getFragment(dlBinding.tabs.getSelectedTabPosition()).filterAdapter(query);\r\n                    return true;\r\n                }\r\n\r\n                @Override\r\n                public boolean onQueryTextChange(String newText) {\r\n                    //comment below line to fix issue                    \r\ndlAdapter.getFragment(dlBinding.tabs.getSelectedTabPosition()).filterAdapter(newText);\r\n                    return true;\r\n                }\r\n            });\r\n\r\nThis is the function that filters the RecyclerView adapter.\r\n\r\n    public void filterAdapter(String query) {\r\n        recyclerAdapter.getFilter().filter(query);\r\n    }\r\n\r\nWhen I debug all the steps in the above two functions, the item count in the watch pane reflects the actual count, but when the debugging steps are finished, it still shows an earlier deleted item.","title":"RecyclerView doesn&#39;t show updated list on Viewpager2 tab change","body":"<p>In my android app, I am using a TabLayout and ViewPager2 to show different categories of lists using RecyclerView. When I do additions and deletions and then call <code>notifyDataSetChanged</code>, the list changes while I am still on the current tab. However, when I select another tab and return, the list shows the original items that were initialised while creating the fragment.</p>\n<p>In the <code>createFragment</code> function of the <code>FragmentStateAdapter</code> adapter class, I initialise a fragment with the starting data item arraylist as follows.</p>\n<pre><code>public class DataListAdapter extends FragmentStateAdapter {\n    private DataListFragment[] fragments;\n\n    //\n    // other code\n    //\n\n    @Override\n    public Fragment createFragment(int position) {\n        ArrayList&lt;DataItem&gt; dataItems;\n\n        //The actual code returns a different data item based on conditions\n        dataItems = dbAdapter.getDataItems();\n\n        DataListFragment frag = new DataListFragment(dataItems);\n\n        fragments[position] = frag;\n\n        return frag;\n    }\n}\n</code></pre>\n<p>In the DataListFragment I have...</p>\n<pre><code>DataListFragment(ArrayList&lt;DataItem&gt; dataItems) {\n    this.dataItems.addAll(dataItems);\n}\n</code></pre>\n<p>In order to ensure I have the latest ArrayList when a tab is selected, I wrote the following code in my activity...</p>\n<pre><code>dlBinding.tabs.addOnTabSelectedListener(new TabLayout.OnTabSelectedListener() {\n    @Override\n    public void onTabSelected(TabLayout.Tab tab) {\n        dlAdapter.refreshFragmentDataItems(tab.getPosition());\n    }\n});\n</code></pre>\n<p>Relevant code from adapter:</p>\n<pre><code>public void refreshFragmentDataItems(int position) {\n    ArrayList&lt;DataItem&gt; dataItems;\n\n    dataItems = dbAdapter.getRecentDataItems(null);\n\n    fragments[position].setDataItems(dataItems);\n}\n</code></pre>\n<p>And finally the <code>setDataItems()</code> code from the Fragment class:</p>\n<pre><code>public void setDataItems(ArrayList&lt;DataItem&gt; dataItems) {\n    this.dataItems.clear();\n    this.dataItems.addAll(dataItems);\n    recyclerAdapter.notifyDataSetChanged();\n}\n</code></pre>\n<p>When I debug the code, even without executing the <code>refreshFragmentDataItems()</code> function, I noticed that the <code>fragments[position].dataItems</code> variable had the most recent list of items after factoring in any additions and removal of items from the ArrayList.</p>\n<p>Nevertheless it continues to display the original list. I tried to move the notifyDataSetChanged() call around to no avail. In some cases it was going into a forever loop.</p>\n<p>Would appreciate any inputs in figuring out why the list in my recycler views are not updating when I select another tab.</p>\n<p><strong>EDIT:</strong> On further diagnosis, I found the issue is caused due to the search feature.</p>\n<p>I have a QueryTextListener, and commenting out the code in OnQueryTextChange fixes the problem.</p>\n<pre><code>        searchView.setOnQueryTextListener(new SearchView.OnQueryTextListener() {\n            @Override\n            public boolean onQueryTextSubmit(String query) {\n                InputMethodManager inm = (InputMethodManager) getSystemService(Context.INPUT_METHOD_SERVICE);\n                inm.hideSoftInputFromWindow(searchView.getWindowToken(), 0);\n                dlAdapter.getFragment(dlBinding.tabs.getSelectedTabPosition()).filterAdapter(query);\n                return true;\n            }\n\n            @Override\n            public boolean onQueryTextChange(String newText) {\n                //comment below line to fix issue                    \n</code></pre>\n<p>dlAdapter.getFragment(dlBinding.tabs.getSelectedTabPosition()).filterAdapter(newText);\nreturn true;\n}\n});</p>\n<p>This is the function that filters the RecyclerView adapter.</p>\n<pre><code>public void filterAdapter(String query) {\n    recyclerAdapter.getFilter().filter(query);\n}\n</code></pre>\n<p>When I debug all the steps in the above two functions, the item count in the watch pane reflects the actual count, but when the debugging steps are finished, it still shows an earlier deleted item.</p>\n"},{"tags":["java","php","android","json","android-volley"],"answers":[{"tags":[],"owner":{"account_id":18301803,"reputation":159,"user_id":13326424,"display_name":"Prasanth John"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675764505,"creation_date":1675764505,"answer_id":75371831,"question_id":75370205,"body_markdown":"You can try this\r\n\r\n     try {\r\n        JSONObject jsonObject = new JSONObject(response);\r\n        JSONArray jsonArray = jsonObject.getJSONArray(&quot;result&quot;);\r\n\r\n        for (int i = 0; i &lt; jsonArray.length(); i++) {\r\n        JSONObject jsonObject2 = jsonArray.getJSONObject(i);\r\n        // do something\r\n        Toast.makeText(context, jsonObject2.getString(&quot;active&quot;), Toast.LENGTH_SHORT).show();\r\n        }\r\n    } catch (JSONException e) {\r\n                            e.printStackTrace();\r\n                        }","title":"org.json.JSONException: Value Error of type java.lang.String cannot be converted to JSONObject","body":"<p>You can try this</p>\n<pre><code> try {\n    JSONObject jsonObject = new JSONObject(response);\n    JSONArray jsonArray = jsonObject.getJSONArray(&quot;result&quot;);\n\n    for (int i = 0; i &lt; jsonArray.length(); i++) {\n    JSONObject jsonObject2 = jsonArray.getJSONObject(i);\n    // do something\n    Toast.makeText(context, jsonObject2.getString(&quot;active&quot;), Toast.LENGTH_SHORT).show();\n    }\n} catch (JSONException e) {\n                        e.printStackTrace();\n                    }\n</code></pre>\n"}],"owner":{"account_id":15882942,"reputation":215,"user_id":11460211,"display_name":"Nilesh Singh Dahiya"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":243,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675764505,"creation_date":1675755658,"question_id":75370205,"body_markdown":"i am webscrapping a website for education only and trying to show returned JsonResponse but while app runs, it throws an error ***org.json.JSONException: Value Error of type java.lang.String cannot be converted to JSONObject***. i found several questions similar to this but i didn&#39;t got any useful answer and they also contains incomplete inforrmation about problem.\r\nfollowing are codes that might a cause for this error. i hope that this thread will also help others because i am trying to give more information regarding to this problem.\r\n\r\n**MainActivity.java** \r\n\r\n  \r\n\r\n    private void apicall() {\r\n    \r\n    \r\n            RequestQueue requestQueue = Volley.newRequestQueue(getApplicationContext());\r\n    \r\n            final StringRequest postRequest = new StringRequest(Request.Method.POST, url,\r\n                    new Response.Listener&lt;String&gt;() {\r\n                        @Override\r\n                        public void onResponse(String response) {\r\n                            try {\r\n    \r\n                                JSONObject jsonObject1 = new JSONObject(response);\r\n    \r\n    \r\n                                if (jsonObject1.getString(&quot;active&quot;).equals(&quot;0&quot;)) {\r\n                                    Toast.makeText(MainActivity.this, &quot;Your account temporarily disabled by admin&quot;, Toast.LENGTH_SHORT).show();\r\n    \r\n                                    preferences.edit().clear().apply();\r\n                                    Intent in = new Intent(getApplicationContext(), login.class);\r\n                                    in.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP | Intent.FLAG_ACTIVITY_NEW_TASK);\r\n                                    in.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\r\n                                    startActivity(in);\r\n                                    finish();\r\n                                }\r\n    \r\n                                if (!jsonObject1.getString(&quot;session&quot;).equals(getSharedPreferences(constant.prefs, MODE_PRIVATE).getString(&quot;session&quot;, null))) {\r\n                                    Toast.makeText(MainActivity.this, &quot;Session expired ! Please login again&quot;, Toast.LENGTH_SHORT).show();\r\n    \r\n                                    preferences.edit().clear().apply();\r\n                                    Intent in = new Intent(getApplicationContext(), login.class);\r\n                                    in.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP | Intent.FLAG_ACTIVITY_NEW_TASK);\r\n                                    in.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\r\n                                    startActivity(in);\r\n                                    finish();\r\n                                }\r\n    \r\n                                balance.setText(jsonObject1.getString(&quot;wallet&quot;));\r\n    \r\n                                if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.N) {\r\n                                    hometext.setText(Html.fromHtml(jsonObject1.getString(&quot;homeline&quot;), Html.FROM_HTML_MODE_COMPACT));\r\n                                } else {\r\n                                    hometext.setText(Html.fromHtml(jsonObject1.getString(&quot;homeline&quot;)));\r\n                                }\r\n    \r\n    \r\n    \r\n    \r\n                                ArrayList&lt;String&gt; name = new ArrayList&lt;&gt;();\r\n                                ArrayList&lt;String&gt; result = new ArrayList&lt;&gt;();\r\n    \r\n                                JSONArray jsonArray = jsonObject1.getJSONArray(&quot;result&quot;);\r\n                                for (int a = 0; a &lt; jsonArray.length(); a++){\r\n                                    JSONObject jsonObject = jsonArray.getJSONObject(a);\r\n    \r\n                                    name.add(jsonObject.getString(&quot;market&quot;));\r\n                                    result.add(jsonObject.getString(&quot;result&quot;));\r\n    \r\n                                }\r\n    \r\n    \r\n                                adapter_result rc = new adapter_result(MainActivity.this,name,result);\r\n                                recyclerview.setLayoutManager(new GridLayoutManager(MainActivity.this, 2));\r\n                                recyclerview.setAdapter(rc);\r\n                                rc.notifyDataSetChanged();\r\n    \r\n    \r\n                                SharedPreferences.Editor editor = preferences.edit();\r\n                                editor.putString(&quot;wallet&quot;, jsonObject1.getString(&quot;wallet&quot;)).apply();\r\n                                editor.putString(&quot;homeline&quot;, jsonObject1.getString(&quot;homeline&quot;)).apply();\r\n                                editor.putString(&quot;code&quot;, jsonObject1.getString(&quot;code&quot;)).apply();\r\n                                is_gateway = jsonObject1.getString(&quot;gateway&quot;);\r\n    \r\n    \r\n                            } catch (JSONException e) {\r\n                                e.printStackTrace();\r\n    \r\n    \r\n                                Toast.makeText(MainActivity.this,e.toString(), Toast.LENGTH_SHORT).show();\r\n                            }\r\n                        }\r\n                    },\r\n                    new Response.ErrorListener() {\r\n                        @Override\r\n                        public void onErrorResponse(VolleyError error) {\r\n    \r\n                            error.printStackTrace();\r\n    \r\n                            Toast.makeText(MainActivity.this, &quot;Check your internet connection&quot;, Toast.LENGTH_SHORT).show();\r\n                        }\r\n                    }\r\n            ) {\r\n                @Override\r\n                protected Map&lt;String, String&gt; getParams() {\r\n                    Map&lt;String, String&gt; params = new HashMap&lt;String, String&gt;();\r\n    \r\n                    params.put(&quot;mobile&quot;, preferences.getString(&quot;mobile&quot;, null));\r\n                    params.put(&quot;session&quot;,getSharedPreferences(constant.prefs, MODE_PRIVATE).getString(&quot;session&quot;, null));\r\n    \r\n                    return params;\r\n                }\r\n            };\r\n            postRequest.setRetryPolicy(new DefaultRetryPolicy(0, DefaultRetryPolicy.DEFAULT_MAX_RETRIES, DefaultRetryPolicy.DEFAULT_BACKOFF_MULT));\r\n            requestQueue.add(postRequest);\r\n        }\r\n\r\n**home.php**\r\n\r\n    &lt;?php\r\n    include &quot;../connection/config.php&quot;;\r\n    extract($_REQUEST);\r\n    \r\n    // if(rows(query(&quot;select sn from users where mobile=&#39;$mobile&#39; and session =&#39;$session&#39;&quot;)) == 0){\r\n    //     $data[&#39;msg&#39;] = &quot;You are not authrized to use this&quot;;\r\n          \r\n    //     $dd = query(&quot;select session,active from users where mobile=&#39;$mobile&#39;&quot;);\r\n    //     $d = fetch($dd);\r\n    //     $data[&#39;session&#39;] = $d[&#39;session&#39;];\r\n    //     $data[&#39;active&#39;] = $d[&#39;active&#39;];\r\n        \r\n    //     echo json_encode($data);\r\n    //     return;\r\n    // }\r\n    \r\n    require_once &quot;../scrap/data/support/web_browser.php&quot;;\r\n    require_once &quot;../scrap/data/support/tag_filter.php&quot;;\r\n    \r\n    $htmloptions = TagFilter::GetHTMLOptions();\r\n    \r\n    $url = &quot;https://dpboss.mobi/&quot;;\r\n    $web = new WebBrowser();\r\n    $result = $web-&gt;Process($url);\r\n    \r\n    if (!$result[&quot;success&quot;])\r\n    {\r\n    \techo &quot;Error retrieving URL.  &quot; . $result[&quot;error&quot;] . &quot;\\n&quot;;\r\n    \texit();\r\n    }\r\n    \r\n    if ($result[&quot;response&quot;][&quot;code&quot;] != 200)\r\n    {\r\n    \techo &quot;Error retrieving URL.  Server returned:  &quot; . $result[&quot;response&quot;][&quot;code&quot;] . &quot; &quot; . $result[&quot;response&quot;][&quot;meaning&quot;] . &quot;\\n&quot;;\r\n    \texit();\r\n    }\r\n    \r\n    $baseurl = $result[&quot;url&quot;];\r\n    \r\n    $html = TagFilter::Explode($result[&quot;body&quot;], $htmloptions);\r\n    \r\n    $root = $html-&gt;Get();\r\n    $rows = $root-&gt;Find(&quot;div.satta-result h4&quot;);\r\n    $h5rows = $root-&gt;Find(&quot;div.satta-result h5&quot;);\r\n    \r\n    \r\n    foreach ($rows as $row)\r\n    {\r\n        $temp_h4[] = $row-&gt;GetInnerHTML();\r\n    }\r\n    \t\r\n    foreach ($h5rows as $row)\r\n    {\r\n        $temp_h5[] = $row-&gt;GetInnerHTML();\r\n    }\r\n    \r\n    \r\n    $get = query(&quot;select * from gametime_new&quot;);\r\n    while($xc = fetch($get))\r\n    {\r\n    \t$time = array_search($xc[&#39;market&#39;], $temp_h4);\r\n    \t$mrk[&#39;market&#39;] = $xc[&#39;market&#39;];\r\n    \t$mrk[&#39;result&#39;] = $temp_h5[$time];\r\n        $data[&#39;result&#39;][] = $mrk;\r\n    }\r\n    \r\n      \r\n    $dd = query(&quot;select sn,wallet,active,session,code from users where mobile=&#39;$mobile&#39;&quot;);\r\n    $d = fetch($dd);\r\n    \r\n    $nt = query(&quot;select homeline from content where sn=&#39;1&#39;&quot;);\r\n    $n = fetch($nt);\r\n    \r\n    if($d[&#39;code&#39;] == &quot;0&quot;)\r\n    {\r\n        $code = $d[&#39;sn&#39;].rand(100000,9999999);\r\n        query(&quot;update users set code=&#39;$code&#39; where mobile=&#39;$mobile&#39;&quot;);\r\n    }\r\n    else\r\n    {\r\n        $code = $d[&#39;code&#39;];\r\n    }\r\n    \r\n    if(rows(query(&quot;select sn from gateway_config where active=&#39;1&#39;&quot;)) &gt; 0){\r\n        $data[&#39;gateway&#39;] = &quot;1&quot;;\r\n    } else {\r\n        $data[&#39;gateway&#39;] = &quot;0&quot;;\r\n    }\r\n    \r\n    \r\n    $data[&#39;code&#39;] = $code;\r\n    $data[&#39;wallet&#39;] = $d[&#39;wallet&#39;];\r\n    $data[&#39;active&#39;] = $d[&#39;active&#39;];\r\n    $data[&#39;session&#39;] = $d[&#39;session&#39;];\r\n    $data[&#39;homeline&#39;] = $n[&#39;homeline&#39;];\r\n    \r\n    \r\n    echo json_encode($data);\r\n\r\n**JsonResponse**\r\n\r\n    {&quot;result&quot;:[{&quot;market&quot;:&quot;SRIDEVI&quot;,&quot;result&quot;:&quot;249-54-356&quot;},{&quot;market&quot;:&quot;TIME BAZAR&quot;,&quot;result&quot;:&quot;568-98-279&quot;},{&quot;market&quot;:&quot;MILAN DAY&quot;,&quot;result&quot;:&quot;133-74-248&quot;},{&quot;market&quot;:&quot;RAJDHANI DAY&quot;,&quot;result&quot;:&quot;123-63-148&quot;},{&quot;market&quot;:&quot;KALYAN&quot;,&quot;result&quot;:&quot;266-44-130&quot;},{&quot;market&quot;:&quot;SRIDEVI NIGHT&quot;,&quot;result&quot;:&quot;588-11-489&quot;},{&quot;market&quot;:&quot;NIGHT TIME BAZAR&quot;,&quot;result&quot;:&quot;258-52-129&quot;},{&quot;market&quot;:&quot;MILAN NIGHT&quot;,&quot;result&quot;:&quot;568-98-440&quot;},{&quot;market&quot;:&quot;KALYAN NIGHT&quot;,&quot;result&quot;:&quot;447-57-188&quot;},{&quot;market&quot;:&quot;RAJDHANI NIGHT&quot;,&quot;result&quot;:&quot;458-76-790&quot;},{&quot;market&quot;:&quot;MAIN BAZAR&quot;,&quot;result&quot;:&quot;377-76-367&quot;},{&quot;market&quot;:&quot;WORLI MUMBAI&quot;,&quot;result&quot;:&quot;124-70-145&quot;},{&quot;market&quot;:&quot;PUNA BAZAR&quot;,&quot;result&quot;:&quot;350-89-379&quot;},{&quot;market&quot;:&quot;MILAN MORNING&quot;,&quot;result&quot;:&quot;123-63-148&quot;}],&quot;gateway&quot;:&quot;1&quot;,&quot;code&quot;:null,&quot;wallet&quot;:null,&quot;active&quot;:null,&quot;session&quot;:null,&quot;homeline&quot;:&quot;WELCOME TO BETPLAY&quot;}","title":"org.json.JSONException: Value Error of type java.lang.String cannot be converted to JSONObject","body":"<p>i am webscrapping a website for education only and trying to show returned JsonResponse but while app runs, it throws an error <em><strong>org.json.JSONException: Value Error of type java.lang.String cannot be converted to JSONObject</strong></em>. i found several questions similar to this but i didn't got any useful answer and they also contains incomplete inforrmation about problem.\nfollowing are codes that might a cause for this error. i hope that this thread will also help others because i am trying to give more information regarding to this problem.</p>\n<p><strong>MainActivity.java</strong></p>\n<pre><code>private void apicall() {\n\n\n        RequestQueue requestQueue = Volley.newRequestQueue(getApplicationContext());\n\n        final StringRequest postRequest = new StringRequest(Request.Method.POST, url,\n                new Response.Listener&lt;String&gt;() {\n                    @Override\n                    public void onResponse(String response) {\n                        try {\n\n                            JSONObject jsonObject1 = new JSONObject(response);\n\n\n                            if (jsonObject1.getString(&quot;active&quot;).equals(&quot;0&quot;)) {\n                                Toast.makeText(MainActivity.this, &quot;Your account temporarily disabled by admin&quot;, Toast.LENGTH_SHORT).show();\n\n                                preferences.edit().clear().apply();\n                                Intent in = new Intent(getApplicationContext(), login.class);\n                                in.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP | Intent.FLAG_ACTIVITY_NEW_TASK);\n                                in.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\n                                startActivity(in);\n                                finish();\n                            }\n\n                            if (!jsonObject1.getString(&quot;session&quot;).equals(getSharedPreferences(constant.prefs, MODE_PRIVATE).getString(&quot;session&quot;, null))) {\n                                Toast.makeText(MainActivity.this, &quot;Session expired ! Please login again&quot;, Toast.LENGTH_SHORT).show();\n\n                                preferences.edit().clear().apply();\n                                Intent in = new Intent(getApplicationContext(), login.class);\n                                in.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP | Intent.FLAG_ACTIVITY_NEW_TASK);\n                                in.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\n                                startActivity(in);\n                                finish();\n                            }\n\n                            balance.setText(jsonObject1.getString(&quot;wallet&quot;));\n\n                            if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.N) {\n                                hometext.setText(Html.fromHtml(jsonObject1.getString(&quot;homeline&quot;), Html.FROM_HTML_MODE_COMPACT));\n                            } else {\n                                hometext.setText(Html.fromHtml(jsonObject1.getString(&quot;homeline&quot;)));\n                            }\n\n\n\n\n                            ArrayList&lt;String&gt; name = new ArrayList&lt;&gt;();\n                            ArrayList&lt;String&gt; result = new ArrayList&lt;&gt;();\n\n                            JSONArray jsonArray = jsonObject1.getJSONArray(&quot;result&quot;);\n                            for (int a = 0; a &lt; jsonArray.length(); a++){\n                                JSONObject jsonObject = jsonArray.getJSONObject(a);\n\n                                name.add(jsonObject.getString(&quot;market&quot;));\n                                result.add(jsonObject.getString(&quot;result&quot;));\n\n                            }\n\n\n                            adapter_result rc = new adapter_result(MainActivity.this,name,result);\n                            recyclerview.setLayoutManager(new GridLayoutManager(MainActivity.this, 2));\n                            recyclerview.setAdapter(rc);\n                            rc.notifyDataSetChanged();\n\n\n                            SharedPreferences.Editor editor = preferences.edit();\n                            editor.putString(&quot;wallet&quot;, jsonObject1.getString(&quot;wallet&quot;)).apply();\n                            editor.putString(&quot;homeline&quot;, jsonObject1.getString(&quot;homeline&quot;)).apply();\n                            editor.putString(&quot;code&quot;, jsonObject1.getString(&quot;code&quot;)).apply();\n                            is_gateway = jsonObject1.getString(&quot;gateway&quot;);\n\n\n                        } catch (JSONException e) {\n                            e.printStackTrace();\n\n\n                            Toast.makeText(MainActivity.this,e.toString(), Toast.LENGTH_SHORT).show();\n                        }\n                    }\n                },\n                new Response.ErrorListener() {\n                    @Override\n                    public void onErrorResponse(VolleyError error) {\n\n                        error.printStackTrace();\n\n                        Toast.makeText(MainActivity.this, &quot;Check your internet connection&quot;, Toast.LENGTH_SHORT).show();\n                    }\n                }\n        ) {\n            @Override\n            protected Map&lt;String, String&gt; getParams() {\n                Map&lt;String, String&gt; params = new HashMap&lt;String, String&gt;();\n\n                params.put(&quot;mobile&quot;, preferences.getString(&quot;mobile&quot;, null));\n                params.put(&quot;session&quot;,getSharedPreferences(constant.prefs, MODE_PRIVATE).getString(&quot;session&quot;, null));\n\n                return params;\n            }\n        };\n        postRequest.setRetryPolicy(new DefaultRetryPolicy(0, DefaultRetryPolicy.DEFAULT_MAX_RETRIES, DefaultRetryPolicy.DEFAULT_BACKOFF_MULT));\n        requestQueue.add(postRequest);\n    }\n</code></pre>\n<p><strong>home.php</strong></p>\n<pre><code>&lt;?php\ninclude &quot;../connection/config.php&quot;;\nextract($_REQUEST);\n\n// if(rows(query(&quot;select sn from users where mobile='$mobile' and session ='$session'&quot;)) == 0){\n//     $data['msg'] = &quot;You are not authrized to use this&quot;;\n      \n//     $dd = query(&quot;select session,active from users where mobile='$mobile'&quot;);\n//     $d = fetch($dd);\n//     $data['session'] = $d['session'];\n//     $data['active'] = $d['active'];\n    \n//     echo json_encode($data);\n//     return;\n// }\n\nrequire_once &quot;../scrap/data/support/web_browser.php&quot;;\nrequire_once &quot;../scrap/data/support/tag_filter.php&quot;;\n\n$htmloptions = TagFilter::GetHTMLOptions();\n\n$url = &quot;https://dpboss.mobi/&quot;;\n$web = new WebBrowser();\n$result = $web-&gt;Process($url);\n\nif (!$result[&quot;success&quot;])\n{\n    echo &quot;Error retrieving URL.  &quot; . $result[&quot;error&quot;] . &quot;\\n&quot;;\n    exit();\n}\n\nif ($result[&quot;response&quot;][&quot;code&quot;] != 200)\n{\n    echo &quot;Error retrieving URL.  Server returned:  &quot; . $result[&quot;response&quot;][&quot;code&quot;] . &quot; &quot; . $result[&quot;response&quot;][&quot;meaning&quot;] . &quot;\\n&quot;;\n    exit();\n}\n\n$baseurl = $result[&quot;url&quot;];\n\n$html = TagFilter::Explode($result[&quot;body&quot;], $htmloptions);\n\n$root = $html-&gt;Get();\n$rows = $root-&gt;Find(&quot;div.satta-result h4&quot;);\n$h5rows = $root-&gt;Find(&quot;div.satta-result h5&quot;);\n\n\nforeach ($rows as $row)\n{\n    $temp_h4[] = $row-&gt;GetInnerHTML();\n}\n    \nforeach ($h5rows as $row)\n{\n    $temp_h5[] = $row-&gt;GetInnerHTML();\n}\n\n\n$get = query(&quot;select * from gametime_new&quot;);\nwhile($xc = fetch($get))\n{\n    $time = array_search($xc['market'], $temp_h4);\n    $mrk['market'] = $xc['market'];\n    $mrk['result'] = $temp_h5[$time];\n    $data['result'][] = $mrk;\n}\n\n  \n$dd = query(&quot;select sn,wallet,active,session,code from users where mobile='$mobile'&quot;);\n$d = fetch($dd);\n\n$nt = query(&quot;select homeline from content where sn='1'&quot;);\n$n = fetch($nt);\n\nif($d['code'] == &quot;0&quot;)\n{\n    $code = $d['sn'].rand(100000,9999999);\n    query(&quot;update users set code='$code' where mobile='$mobile'&quot;);\n}\nelse\n{\n    $code = $d['code'];\n}\n\nif(rows(query(&quot;select sn from gateway_config where active='1'&quot;)) &gt; 0){\n    $data['gateway'] = &quot;1&quot;;\n} else {\n    $data['gateway'] = &quot;0&quot;;\n}\n\n\n$data['code'] = $code;\n$data['wallet'] = $d['wallet'];\n$data['active'] = $d['active'];\n$data['session'] = $d['session'];\n$data['homeline'] = $n['homeline'];\n\n\necho json_encode($data);\n</code></pre>\n<p><strong>JsonResponse</strong></p>\n<pre><code>{&quot;result&quot;:[{&quot;market&quot;:&quot;SRIDEVI&quot;,&quot;result&quot;:&quot;249-54-356&quot;},{&quot;market&quot;:&quot;TIME BAZAR&quot;,&quot;result&quot;:&quot;568-98-279&quot;},{&quot;market&quot;:&quot;MILAN DAY&quot;,&quot;result&quot;:&quot;133-74-248&quot;},{&quot;market&quot;:&quot;RAJDHANI DAY&quot;,&quot;result&quot;:&quot;123-63-148&quot;},{&quot;market&quot;:&quot;KALYAN&quot;,&quot;result&quot;:&quot;266-44-130&quot;},{&quot;market&quot;:&quot;SRIDEVI NIGHT&quot;,&quot;result&quot;:&quot;588-11-489&quot;},{&quot;market&quot;:&quot;NIGHT TIME BAZAR&quot;,&quot;result&quot;:&quot;258-52-129&quot;},{&quot;market&quot;:&quot;MILAN NIGHT&quot;,&quot;result&quot;:&quot;568-98-440&quot;},{&quot;market&quot;:&quot;KALYAN NIGHT&quot;,&quot;result&quot;:&quot;447-57-188&quot;},{&quot;market&quot;:&quot;RAJDHANI NIGHT&quot;,&quot;result&quot;:&quot;458-76-790&quot;},{&quot;market&quot;:&quot;MAIN BAZAR&quot;,&quot;result&quot;:&quot;377-76-367&quot;},{&quot;market&quot;:&quot;WORLI MUMBAI&quot;,&quot;result&quot;:&quot;124-70-145&quot;},{&quot;market&quot;:&quot;PUNA BAZAR&quot;,&quot;result&quot;:&quot;350-89-379&quot;},{&quot;market&quot;:&quot;MILAN MORNING&quot;,&quot;result&quot;:&quot;123-63-148&quot;}],&quot;gateway&quot;:&quot;1&quot;,&quot;code&quot;:null,&quot;wallet&quot;:null,&quot;active&quot;:null,&quot;session&quot;:null,&quot;homeline&quot;:&quot;WELCOME TO BETPLAY&quot;}\n</code></pre>\n"},{"tags":["java","reactive-programming","quarkus","vert.x","mutiny"],"comments":[{"owner":{"account_id":1284206,"reputation":191,"user_id":1237627,"display_name":"Sławomir Siudek"},"score":0,"creation_date":1660852846,"post_id":73371931,"comment_id":129638090,"body_markdown":"What REST library are you use? resteasy? resteasy-reactive? other? I suspect that maybe thread, used in REST layer, is not compatible with VertX threading","body":"What REST library are you use? resteasy? resteasy-reactive? other? I suspect that maybe thread, used in REST layer, is not compatible with VertX threading"},{"owner":{"account_id":22909694,"reputation":652,"user_id":17047177,"display_name":"A.Casanova"},"score":0,"creation_date":1660900855,"post_id":73371931,"comment_id":129647893,"body_markdown":"@SławomirSiudek I am using resteasy-reactive","body":"@SławomirSiudek I am using resteasy-reactive"},{"owner":{"account_id":1284206,"reputation":191,"user_id":1237627,"display_name":"Sławomir Siudek"},"score":0,"creation_date":1661120162,"post_id":73371931,"comment_id":129690052,"body_markdown":"I cloned https://github.com/quarkusio/quarkus-quickstarts/tree/main/hibernate-reactive-panache-quickstart, changed from Panache to using session, and can&#39;t reproduce such issue. May you share an example how to reproduce such issue?","body":"I cloned <a href=\"https://github.com/quarkusio/quarkus-quickstarts/tree/main/hibernate-reactive-panache-quickstart\" rel=\"nofollow noreferrer\">github.com/quarkusio/quarkus-quickstarts/tree/main/&hellip;</a>, changed from Panache to using session, and can&#39;t reproduce such issue. May you share an example how to reproduce such issue?"},{"owner":{"account_id":1276303,"reputation":2937,"user_id":1231484,"display_name":"Clement"},"score":0,"creation_date":1661344328,"post_id":73371931,"comment_id":129749101,"body_markdown":"From where is `public Uni&lt;List&lt;T&gt;&gt; createAll(List&lt;T&gt; t) {` called? You need to be on a Vert.x context.","body":"From where is <code>public Uni&lt;List&lt;T&gt;&gt; createAll(List&lt;T&gt; t) {</code> called? You need to be on a Vert.x context."},{"owner":{"account_id":22909694,"reputation":652,"user_id":17047177,"display_name":"A.Casanova"},"score":0,"creation_date":1661436359,"post_id":73371931,"comment_id":129776437,"body_markdown":"@Clement, Do you know if there is any documentation about how to manage the vert.x contexts within Quarkus?\n\nThe service I want to develop consists of two main parts. Validate the data and persist it. If I split the service into two services (two rest calls), it works. I think that the method works since each rest call has its own vert.x context.","body":"@Clement, Do you know if there is any documentation about how to manage the vert.x contexts within Quarkus?  The service I want to develop consists of two main parts. Validate the data and persist it. If I split the service into two services (two rest calls), it works. I think that the method works since each rest call has its own vert.x context."},{"owner":{"account_id":1276303,"reputation":2937,"user_id":1231484,"display_name":"Clement"},"score":1,"creation_date":1661675014,"post_id":73371931,"comment_id":129824273,"body_markdown":"You can find more details on https://groups.google.com/g/quarkus-dev/c/lBmQkCi_VK0.","body":"You can find more details on <a href=\"https://groups.google.com/g/quarkus-dev/c/lBmQkCi_VK0\" rel=\"nofollow noreferrer\">groups.google.com/g/quarkus-dev/c/lBmQkCi_VK0</a>."},{"owner":{"account_id":22909694,"reputation":652,"user_id":17047177,"display_name":"A.Casanova"},"score":0,"creation_date":1662711453,"post_id":73371931,"comment_id":130073535,"body_markdown":"@Clement I try `((ContextInternal) Vertx.currentContext()).duplicate()` but it is not possible to cast `Context` with `ContextInternal`. May you handle and example of how to duplicate a context and run any `Uni&lt;T&gt; foo()` function on that context.","body":"@Clement I try <code>((ContextInternal) Vertx.currentContext()).duplicate()</code> but it is not possible to cast <code>Context</code> with <code>ContextInternal</code>. May you handle and example of how to duplicate a context and run any <code>Uni&lt;T&gt; foo()</code> function on that context."},{"owner":{"account_id":1276303,"reputation":2937,"user_id":1231484,"display_name":"Clement"},"score":0,"creation_date":1663145279,"post_id":73371931,"comment_id":130167821,"body_markdown":"Look at the VertxContext class: https://github.com/smallrye/smallrye-common/blob/main/vertx-context/src/main/java/io/smallrye/common/vertx/VertxContext.java","body":"Look at the VertxContext class: <a href=\"https://github.com/smallrye/smallrye-common/blob/main/vertx-context/src/main/java/io/smallrye/common/vertx/VertxContext.java\" rel=\"nofollow noreferrer\">github.com/smallrye/smallrye-common/blob/main/vertx-context/&zwnj;&#8203;src/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":22909694,"reputation":652,"user_id":17047177,"display_name":"A.Casanova"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1675764229,"creation_date":1673522657,"answer_id":75095595,"question_id":73371931,"body_markdown":"`Hibernate Reactive` does NOT work even if you duplicate the context for calling `sf.withTrasaction`.\r\n\r\nSo the only feasible way to make it work is by manually marking the context as safe with the function `io.quarkus.vertx.core.runtime.context.VertxContextSafetyToggle.setContextSafe`\r\n\r\n```java\r\nimport io.vertx.core.Vertx;\r\nimport io.quarkus.vertx.core.runtime.context.VertxContextSafetyToggle;\r\n\r\n...\r\n\r\npublic final class MyClass {\r\n\r\n  @Inject\r\n  private Vertx vertx;\r\n\r\n  @Inject\r\n  private RepoT repoT;\r\n\r\n  public Uni&lt;Void&gt; cleanContext() {\r\n    final io.vertx.core.Context newContext = vertx.getOrCreateContext();\r\n    VertxContextSafetyToggle.setContextSafe(newContext, true);\r\n    return Uni.createFrom().voidItem();\r\n  }\r\n\r\n  public Uni&lt;T&gt; create(T t) {\r\n\r\n    return this.cleanContext()\r\n        .flatMap( repoT.createAll(t) ) // Method which call hibernate\r\n        ...\r\n}\r\n\r\n``` \r\n\r\n","title":"The current operation requires a safe (isolated) Vert.x sub-context, but the current context hasn&#39;t been flagged as such","body":"<p><code>Hibernate Reactive</code> does NOT work even if you duplicate the context for calling <code>sf.withTrasaction</code>.</p>\n<p>So the only feasible way to make it work is by manually marking the context as safe with the function <code>io.quarkus.vertx.core.runtime.context.VertxContextSafetyToggle.setContextSafe</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>import io.vertx.core.Vertx;\nimport io.quarkus.vertx.core.runtime.context.VertxContextSafetyToggle;\n\n...\n\npublic final class MyClass {\n\n  @Inject\n  private Vertx vertx;\n\n  @Inject\n  private RepoT repoT;\n\n  public Uni&lt;Void&gt; cleanContext() {\n    final io.vertx.core.Context newContext = vertx.getOrCreateContext();\n    VertxContextSafetyToggle.setContextSafe(newContext, true);\n    return Uni.createFrom().voidItem();\n  }\n\n  public Uni&lt;T&gt; create(T t) {\n\n    return this.cleanContext()\n        .flatMap( repoT.createAll(t) ) // Method which call hibernate\n        ...\n}\n\n</code></pre>\n"}],"owner":{"account_id":22909694,"reputation":652,"user_id":17047177,"display_name":"A.Casanova"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":565,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75095595,"answer_count":1,"score":2,"last_activity_date":1675764229,"creation_date":1660642896,"question_id":73371931,"body_markdown":"I am using Quarkus version `2.11.1.Final`. With the following `io.quarkus dependencies:\r\n\r\n 1. smallrye-mutiny-vertx-web-client\r\n 2. quarkus-resteasy-reactive\r\n 3. quarkus-hibernate-reactive\r\n\r\nIn a long rest process, I am trying to persist several entities but I get the following error while doing one of the validations.\r\n\r\n```bash\r\nThe current operation requires a safe (isolated) Vert.x sub-context, but the current context hasn&#39;t been flagged as such.\r\nYou can still use Hibernate Reactive, you just need to avoid using the methods which implicitly require accessing the stateful context, such as MutinySessionFactory#withTransaction and #withSession.\r\n```\r\nIn order to persist a Collection of entities I am using:\r\n\r\n```java\r\n@Inject\r\nMutiny.SessionFactory sf;\r\n\r\npublic Uni&lt;List&lt;T&gt;&gt; createAll(List&lt;T&gt; t) {\r\n  if (LOGGER.isDebugEnabled()) {\r\n    LOGGER.debug(&quot;#createAll(T)...  {}&quot;, t);\r\n  }\r\n    \r\n  return sf.withTransaction(\r\n      (s, t) -&gt; s.persistAll((Object[]) t.toArray(new T[0]))\r\n          .replaceWith(t));\r\n}\r\n\r\n```\r\nI have already try to change the previous return to:\r\n```java\r\n\r\nreturn sf.withStatelessTransaction((s, t) -&gt;s.insertAll((Object[]) t.toArray(new T[0]))\r\n    .replaceWith(t));\r\n\r\n```\r\nBut I still getting the same error. Anyone knows how can I handle the vertx context inside Quarkus or anyway of persisting the entities without getting this error? ","title":"The current operation requires a safe (isolated) Vert.x sub-context, but the current context hasn&#39;t been flagged as such","body":"<p>I am using Quarkus version <code>2.11.1.Final</code>. With the following `io.quarkus dependencies:</p>\n<ol>\n<li>smallrye-mutiny-vertx-web-client</li>\n<li>quarkus-resteasy-reactive</li>\n<li>quarkus-hibernate-reactive</li>\n</ol>\n<p>In a long rest process, I am trying to persist several entities but I get the following error while doing one of the validations.</p>\n<pre class=\"lang-bash prettyprint-override\"><code>The current operation requires a safe (isolated) Vert.x sub-context, but the current context hasn't been flagged as such.\nYou can still use Hibernate Reactive, you just need to avoid using the methods which implicitly require accessing the stateful context, such as MutinySessionFactory#withTransaction and #withSession.\n</code></pre>\n<p>In order to persist a Collection of entities I am using:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Inject\nMutiny.SessionFactory sf;\n\npublic Uni&lt;List&lt;T&gt;&gt; createAll(List&lt;T&gt; t) {\n  if (LOGGER.isDebugEnabled()) {\n    LOGGER.debug(&quot;#createAll(T)...  {}&quot;, t);\n  }\n    \n  return sf.withTransaction(\n      (s, t) -&gt; s.persistAll((Object[]) t.toArray(new T[0]))\n          .replaceWith(t));\n}\n\n</code></pre>\n<p>I have already try to change the previous return to:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\nreturn sf.withStatelessTransaction((s, t) -&gt;s.insertAll((Object[]) t.toArray(new T[0]))\n    .replaceWith(t));\n\n</code></pre>\n<p>But I still getting the same error. Anyone knows how can I handle the vertx context inside Quarkus or anyway of persisting the entities without getting this error?</p>\n"},{"tags":["java","spring-data-jpa","bulkinsert","bulkupdate"],"owner":{"account_id":12100583,"reputation":1,"user_id":8841947,"display_name":"Safallya Dhar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":185,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675764147,"creation_date":1675764147,"question_id":75371743,"body_markdown":"if saveAll gets fail then all transaction get fail can there be any imlementation for the doing bulk database operation in spring jpa so that it save those records where there is no failure.\r\n\r\nProcess and steps to achieve partial save even if bulk saveAll gets failed.","title":"Alternate option for bulk data saveAll in spring jpa","body":"<p>if saveAll gets fail then all transaction get fail can there be any imlementation for the doing bulk database operation in spring jpa so that it save those records where there is no failure.</p>\n<p>Process and steps to achieve partial save even if bulk saveAll gets failed.</p>\n"},{"tags":["java","spring","spring-boot","jpa","interceptor"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1675764268,"post_id":75371630,"comment_id":132994116,"body_markdown":"SQL only allows one WHERE it is forbidden by the specification. That being said not sure if this is the best way to do this, you are probably better of using an Filter condition and let Hibernate handle it. Next to that what you are doing is dangerous as you now opened your code for SQL injection for malicious users.","body":"SQL only allows one WHERE it is forbidden by the specification. That being said not sure if this is the best way to do this, you are probably better of using an Filter condition and let Hibernate handle it. Next to that what you are doing is dangerous as you now opened your code for SQL injection for malicious users."},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1675764350,"post_id":75371630,"comment_id":132994137,"body_markdown":"Multiple where clauses would require a subselect, which is definitely possible. For dynamic filtering, maybe have a look at [`@Filter`](https://thorben-janssen.com/hibernate-filter/) annotation","body":"Multiple where clauses would require a subselect, which is definitely possible. For dynamic filtering, maybe have a look at <a href=\"https://thorben-janssen.com/hibernate-filter/\" rel=\"nofollow noreferrer\"><code>@Filter</code></a> annotation"},{"owner":{"account_id":3938317,"reputation":4776,"user_id":3253853,"accept_rate":66,"display_name":"Alex Man"},"score":0,"creation_date":1675764704,"post_id":75371630,"comment_id":132994233,"body_markdown":"@M.Deinum The problem is that my dynamic where clause is a native criteria which I need to append because of which I cannot use Filter. Also regarding SQL injection, actually I am not getting this dynamic condition from API or any open networks but I am getting it from my another trusted database which we are managing. So do you think this has any issues of that sort","body":"@M.Deinum The problem is that my dynamic where clause is a native criteria which I need to append because of which I cannot use Filter. Also regarding SQL injection, actually I am not getting this dynamic condition from API or any open networks but I am getting it from my another trusted database which we are managing. So do you think this has any issues of that sort"},{"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1675764723,"post_id":75371630,"comment_id":132994241,"body_markdown":"your replacement strategy is incorrect, consider following case: `where 1 = 1 or 1 = 2`","body":"your replacement strategy is incorrect, consider following case: <code>where 1 = 1 or 1 = 2</code>"},{"owner":{"account_id":3938317,"reputation":4776,"user_id":3253853,"accept_rate":66,"display_name":"Alex Man"},"score":0,"creation_date":1675764839,"post_id":75371630,"comment_id":132994282,"body_markdown":"@AndreyB.Panfilov Actually my dynamic condition is a mandatory one","body":"@AndreyB.Panfilov Actually my dynamic condition is a mandatory one"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1675764841,"post_id":75371630,"comment_id":132994284,"body_markdown":"If you are munging SQL strings yourself you are always at risk, even that managed database can be compromised or filled with stuff by an angry employee. It won&#39;t happen, until it does. A filter condition is a native SQL. I would say if you can build the query you can also use the `Criteria` api to append things.","body":"If you are munging SQL strings yourself you are always at risk, even that managed database can be compromised or filled with stuff by an angry employee. It won&#39;t happen, until it does. A filter condition is a native SQL. I would say if you can build the query you can also use the <code>Criteria</code> api to append things."},{"owner":{"account_id":3938317,"reputation":4776,"user_id":3253853,"accept_rate":66,"display_name":"Alex Man"},"score":0,"creation_date":1675765012,"post_id":75371630,"comment_id":132994332,"body_markdown":"@M.Deinum I have 100&#39;s of API already have within the application. As per this requirement I was asked to append this native condition without any change in all other existing Criterias","body":"@M.Deinum I have 100&#39;s of API already have within the application. As per this requirement I was asked to append this native condition without any change in all other existing Criterias"},{"owner":{"account_id":3938317,"reputation":4776,"user_id":3253853,"accept_rate":66,"display_name":"Alex Man"},"score":0,"creation_date":1675765152,"post_id":75371630,"comment_id":132994384,"body_markdown":"@XtremeBaumer Since I have almost 100 API&#39;s where they are using Criteria extensively. Can we use Filter to append my dynamic condition without touching those implementation?","body":"@XtremeBaumer Since I have almost 100 API&#39;s where they are using Criteria extensively. Can we use Filter to append my dynamic condition without touching those implementation?"},{"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1675765230,"post_id":75371630,"comment_id":132994407,"body_markdown":"@AlexMan that does not make sense, your idea will not work for `where 1 = 2 or 1 = 1`. btw, you may inject some reliable **anchors** via `@Filter` and replace them in interceptor.","body":"@AlexMan that does not make sense, your idea will not work for <code>where 1 = 2 or 1 = 1</code>. btw, you may inject some reliable <b>anchors</b> via <code>@Filter</code> and replace them in interceptor."},{"owner":{"account_id":3938317,"reputation":4776,"user_id":3253853,"accept_rate":66,"display_name":"Alex Man"},"score":0,"creation_date":1675765476,"post_id":75371630,"comment_id":132994478,"body_markdown":"@AndreyB.Panfilov how can we do that","body":"@AndreyB.Panfilov how can we do that"},{"owner":{"account_id":3938317,"reputation":4776,"user_id":3253853,"accept_rate":66,"display_name":"Alex Man"},"score":0,"creation_date":1675766129,"post_id":75371630,"comment_id":132994691,"body_markdown":"@AndreyB.Panfilov you mean something like this https://i.stack.imgur.com/8EQ9L.png","body":"@AndreyB.Panfilov you mean something like this <a href=\"https://i.stack.imgur.com/8EQ9L.png\" rel=\"nofollow noreferrer\">i.stack.imgur.com/8EQ9L.png</a>"},{"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1675766301,"post_id":75371630,"comment_id":132994739,"body_markdown":"yeap, or `@FilterDef(name = &quot;my_filter&quot;, defaultCondition = &quot;{filter_anchor:{alias}}&quot;) @Filter(name = &quot;my_filter&quot;, deduceAliasInjectionPoints = false)` to get better control over replacement process.","body":"yeap, or <code>@FilterDef(name = &quot;my_filter&quot;, defaultCondition = &quot;{filter_anchor:{alias}}&quot;) @Filter(name = &quot;my_filter&quot;, deduceAliasInjectionPoints = false)</code> to get better control over replacement process."},{"owner":{"account_id":3938317,"reputation":4776,"user_id":3253853,"accept_rate":66,"display_name":"Alex Man"},"score":0,"creation_date":1675766568,"post_id":75371630,"comment_id":132994834,"body_markdown":"@AndreyB.Panfilov but the problem is its not guaranteed which fields to be used on each situation. For example Sometimes for one use case I need to use `status=&#39;open&#39;` , sometimes `active=false and type=&#39;assets&#39;`, sometimes `firstName=&#39;Job&#39;`. So how do I make this switching","body":"@AndreyB.Panfilov but the problem is its not guaranteed which fields to be used on each situation. For example Sometimes for one use case I need to use <code>status=&#39;open&#39;</code> , sometimes <code>active=false and type=&#39;assets&#39;</code>, sometimes <code>firstName=&#39;Job&#39;</code>. So how do I make this switching"},{"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1675766775,"post_id":75371630,"comment_id":132994904,"body_markdown":"yes, I see, that is why I suggested to inject non-sql fragment there. `{filter_anchor:{alias}}` will allow to find it and safely replace it knowing table alias.","body":"yes, I see, that is why I suggested to inject non-sql fragment there. <code>{filter_anchor:{alias}}</code> will allow to find it and safely replace it knowing table alias."},{"owner":{"account_id":3938317,"reputation":4776,"user_id":3253853,"accept_rate":66,"display_name":"Alex Man"},"score":0,"creation_date":1675767011,"post_id":75371630,"comment_id":132994999,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/251686/discussion-between-alex-man-and-andrey-b-panfilov).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/251686/discussion-between-alex-man-and-andrey-b-panfilov\">continue this discussion in chat</a>."},{"owner":{"account_id":3938317,"reputation":4776,"user_id":3253853,"accept_rate":66,"display_name":"Alex Man"},"score":0,"creation_date":1677677300,"post_id":75371630,"comment_id":133384606,"body_markdown":"@AndreyB.Panfilov `@FilterDef` and `@Filter` are not working with aggregative functions","body":"@AndreyB.Panfilov <code>@FilterDef</code> and <code>@Filter</code> are not working with aggregative functions"}],"owner":{"account_id":3938317,"reputation":4776,"user_id":3253853,"accept_rate":66,"display_name":"Alex Man"},"comment_count":16,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675764000,"creation_date":1675763672,"question_id":75371630,"body_markdown":"I am using Spring JPA Criteria for all my Database interaction. As part of a requirement to append a dynamic native where clause to all the Database queries I used JPA Interceptor to append the dynamic condition in the overrided onPrepareStatement method like as shown below\r\n\r\n    @Override\r\n        public String onPrepareStatement(String sql) {\r\n          Pattern pattern = Pattern.compile(&quot;person(\\\\w+_)&quot;);\r\n            Matcher matcher = pattern.matcher(sql);\r\n            if (matcher.find()) {\r\n                String alias = matcher.group(0);\r\n                sql = sql.replace(&quot;where &quot;,String.format(&quot;where %s.status=%d and &quot;, alias, dynamicValue));\r\n            } else {\r\n                System.out.println(&quot;No alias found for the entity &#39;person&#39;&quot;);\r\n            }\r\n            return sql;\r\n        }\r\n\r\nThe above logic is working fine but since I am replacing `where` clause to append my native dynamic condition using `sql.replace(&quot;where &quot;,` my biggest concern is will there be any situation like Spring JPA Criteria generates native sql with multiple `where` clause\r\n\r\nNote: the above dynamic criteria (status=) is just for an example. Sometimes it can have many conditions to be appended based on some use case","title":"Does Spring JPA Criteria always have single WHERE clause containing the combined conditions","body":"<p>I am using Spring JPA Criteria for all my Database interaction. As part of a requirement to append a dynamic native where clause to all the Database queries I used JPA Interceptor to append the dynamic condition in the overrided onPrepareStatement method like as shown below</p>\n<pre><code>@Override\n    public String onPrepareStatement(String sql) {\n      Pattern pattern = Pattern.compile(&quot;person(\\\\w+_)&quot;);\n        Matcher matcher = pattern.matcher(sql);\n        if (matcher.find()) {\n            String alias = matcher.group(0);\n            sql = sql.replace(&quot;where &quot;,String.format(&quot;where %s.status=%d and &quot;, alias, dynamicValue));\n        } else {\n            System.out.println(&quot;No alias found for the entity 'person'&quot;);\n        }\n        return sql;\n    }\n</code></pre>\n<p>The above logic is working fine but since I am replacing <code>where</code> clause to append my native dynamic condition using <code>sql.replace(&quot;where &quot;,</code> my biggest concern is will there be any situation like Spring JPA Criteria generates native sql with multiple <code>where</code> clause</p>\n<p>Note: the above dynamic criteria (status=) is just for an example. Sometimes it can have many conditions to be appended based on some use case</p>\n"},{"tags":["java","styling","linter"],"comments":[{"owner":{"account_id":11104856,"reputation":1527,"user_id":8152324,"display_name":"ndc85430"},"score":2,"creation_date":1673035348,"post_id":75035569,"comment_id":132414826,"body_markdown":"Isn&#39;t the compilation going to fail when you try and run your automated tests (unit, integration, ...)?","body":"Isn&#39;t the compilation going to fail when you try and run your automated tests (unit, integration, ...)?"},{"owner":{"account_id":1888781,"reputation":2007,"user_id":1707427,"display_name":"S&#246;ren"},"score":1,"creation_date":1673035523,"post_id":75035569,"comment_id":132414880,"body_markdown":"That doesn&#39;t even compile. Why do you need a linter for that?","body":"That doesn&#39;t even compile. Why do you need a linter for that?"},{"owner":{"account_id":18992234,"reputation":9,"user_id":13861254,"display_name":"SagwaCat"},"score":0,"creation_date":1673035656,"post_id":75035569,"comment_id":132414923,"body_markdown":"Sorry, I added a more clear example.","body":"Sorry, I added a more clear example."},{"owner":{"account_id":1888781,"reputation":2007,"user_id":1707427,"display_name":"S&#246;ren"},"score":0,"creation_date":1673078337,"post_id":75035569,"comment_id":132420793,"body_markdown":"Does this answer your question? [How to check &quot;The value of the local variable/field is not used&quot; in Checkstyle?](https://stackoverflow.com/questions/20116032/how-to-check-the-value-of-the-local-variable-field-is-not-used-in-checkstyle)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/20116032/how-to-check-the-value-of-the-local-variable-field-is-not-used-in-checkstyle\">How to check &quot;The value of the local variable/field is not used&quot; in Checkstyle?</a>"},{"owner":{"account_id":18992234,"reputation":9,"user_id":13861254,"display_name":"SagwaCat"},"score":0,"creation_date":1673367475,"post_id":75035569,"comment_id":132480478,"body_markdown":"Unfortunately that does not catch unused params. I just tried it out","body":"Unfortunately that does not catch unused params. I just tried it out"}],"answers":[{"tags":[],"owner":{"account_id":1816046,"reputation":1389,"user_id":1651107,"accept_rate":100,"display_name":"Piro"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675763813,"creation_date":1675763813,"answer_id":75371665,"question_id":75035569,"body_markdown":"**Sonar Lint** supports this as rule &quot;java:S1172&quot;: \r\n\r\n&gt; Unused method parameters should be removed - Unused parameters are\r\n&gt; misleading. Whatever the values passed to such parameters, the\r\n&gt; behavior will be the same.\r\n\r\n[![Sonar lint rule][3]][3]\r\n\r\nBut there are some exceptions to this rule. \r\n\r\n&gt; The rule will not raise issues for unused parameters:\r\n&gt; - that are annotated with @javax.enterprise.event.Observes \r\n&gt; - in overrides and implementation methods \r\n&gt; - in interface default methods \r\n&gt; - in non-private methods that only throw or that have empty bodies \r\n&gt; - in annotated methods, unless the annotation is @SuppressWarning(&quot;unchecked&quot;) or @SuppressWarning(&quot;rawtypes&quot;), inwhich\r\n&gt; case the annotation will be ignored \r\n&gt; - in overridable methods (non-final, or not member of a final class, non-static, non-private), if the parameter is documented with a\r\n&gt; properjavadoc.\r\n\r\nAlso **Eclipse IDE** supports this out of the box. This can be enabled in Java&gt;Compiler&gt;Errors/Warnings with option &quot;Value of method parameter is not used&quot;\r\n[![Eclipse compiler settings for unused method parameters][1]][1]\r\nThis produces info/warning/error (as you configure) &quot;The value of the parameter XXX is not used&quot;\r\n\r\n[![Warning produced by Eclipse][2]][2]\r\n\r\n  [1]: https://i.stack.imgur.com/WhsyC.png\r\n  [2]: https://i.stack.imgur.com/8kACB.png\r\n  [3]: https://i.stack.imgur.com/1eqJs.png","title":"Linter for unused parameters in a Java project?","body":"<p><strong>Sonar Lint</strong> supports this as rule &quot;java:S1172&quot;:</p>\n<blockquote>\n<p>Unused method parameters should be removed - Unused parameters are\nmisleading. Whatever the values passed to such parameters, the\nbehavior will be the same.</p>\n</blockquote>\n<p><a href=\"https://i.stack.imgur.com/1eqJs.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1eqJs.png\" alt=\"Sonar lint rule\" /></a></p>\n<p>But there are some exceptions to this rule.</p>\n<blockquote>\n<p>The rule will not raise issues for unused parameters:</p>\n<ul>\n<li>that are annotated with @javax.enterprise.event.Observes</li>\n<li>in overrides and implementation methods</li>\n<li>in interface default methods</li>\n<li>in non-private methods that only throw or that have empty bodies</li>\n<li>in annotated methods, unless the annotation is @SuppressWarning(&quot;unchecked&quot;) or @SuppressWarning(&quot;rawtypes&quot;), inwhich\ncase the annotation will be ignored</li>\n<li>in overridable methods (non-final, or not member of a final class, non-static, non-private), if the parameter is documented with a\nproperjavadoc.</li>\n</ul>\n</blockquote>\n<p>Also <strong>Eclipse IDE</strong> supports this out of the box. This can be enabled in Java&gt;Compiler&gt;Errors/Warnings with option &quot;Value of method parameter is not used&quot;\n<a href=\"https://i.stack.imgur.com/WhsyC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WhsyC.png\" alt=\"Eclipse compiler settings for unused method parameters\" /></a>\nThis produces info/warning/error (as you configure) &quot;The value of the parameter XXX is not used&quot;</p>\n<p><a href=\"https://i.stack.imgur.com/8kACB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8kACB.png\" alt=\"Warning produced by Eclipse\" /></a></p>\n"}],"owner":{"account_id":18992234,"reputation":9,"user_id":13861254,"display_name":"SagwaCat"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":284,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1675763813,"creation_date":1673035175,"question_id":75035569,"body_markdown":"CheckStyle had this option in the early versions:\r\nhttp://api.dpml.net/checkstyle/3.5/com/puppycrawl/tools/checkstyle/checks/usage/UnusedParameterCheck.html\r\n\r\nLooking for a similar checker. Can anyone recommend me something?\r\n\r\nTesting for this use case:\r\n\r\n```Java\r\n\r\n... main method .. \r\n\r\n        test(&quot;hello&quot;);\r\n        return Longs.tryParse(request.getCategoryId());\r\n    }\r\n\r\n    @Nullable\r\n    Long test(String unused) {\r\n        System.out.println(&quot;Hello World&quot;);\r\n        return null;\r\n    }\r\n```\r\nI want the build to fail\r\n\r\nCurrent CheckStyle version in use is 3.7. Not looking to downgrade. ","title":"Linter for unused parameters in a Java project?","body":"<p>CheckStyle had this option in the early versions:\n<a href=\"http://api.dpml.net/checkstyle/3.5/com/puppycrawl/tools/checkstyle/checks/usage/UnusedParameterCheck.html\" rel=\"nofollow noreferrer\">http://api.dpml.net/checkstyle/3.5/com/puppycrawl/tools/checkstyle/checks/usage/UnusedParameterCheck.html</a></p>\n<p>Looking for a similar checker. Can anyone recommend me something?</p>\n<p>Testing for this use case:</p>\n<pre><code>\n... main method .. \n\n        test(&quot;hello&quot;);\n        return Longs.tryParse(request.getCategoryId());\n    }\n\n    @Nullable\n    Long test(String unused) {\n        System.out.println(&quot;Hello World&quot;);\n        return null;\n    }\n</code></pre>\n<p>I want the build to fail</p>\n<p>Current CheckStyle version in use is 3.7. Not looking to downgrade.</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":434708,"reputation":4233,"user_id":820861,"accept_rate":100,"display_name":"Pravin Divraniya"},"score":0,"creation_date":1521468538,"post_id":43274289,"comment_id":85730314,"body_markdown":"@Ωmega Try using [android:autoRemoveFromRecents](https://developer.android.com/guide/topics/manifest/activity-element.html#autoremrecents) if it fits your UX.","body":"@Ωmega Try using <a href=\"https://developer.android.com/guide/topics/manifest/activity-element.html#autoremrecents\" rel=\"nofollow noreferrer\">android:autoRemoveFromRecents</a> if it fits your UX."},{"owner":{"account_id":1255572,"reputation":42820,"user_id":1215106,"accept_rate":82,"display_name":"Ωmega"},"score":0,"creation_date":1521469404,"post_id":43274289,"comment_id":85730861,"body_markdown":"@PravinDivraniya - That flag unfortunately doesn&#39;t work if the app goes to the background from that activity by pressing *Recents Apps* button. System will still show the thumbnail. Only if you press *Home* button and then go to the *Recents App* list, then it will not be there, as expected. Strange, right?","body":"@PravinDivraniya - That flag unfortunately doesn&#39;t work if the app goes to the background from that activity by pressing <i>Recents Apps</i> button. System will still show the thumbnail. Only if you press <i>Home</i> button and then go to the <i>Recents App</i> list, then it will not be there, as expected. Strange, right?"},{"owner":{"account_id":434708,"reputation":4233,"user_id":820861,"accept_rate":100,"display_name":"Pravin Divraniya"},"score":0,"creation_date":1521470297,"post_id":43274289,"comment_id":85731572,"body_markdown":"@Ωmega Yes, it is very strange behaviour.","body":"@Ωmega Yes, it is very strange behaviour."},{"owner":{"account_id":5356655,"reputation":5914,"user_id":4269149,"display_name":"Sarthak Mittal"},"score":0,"creation_date":1521552575,"post_id":43274289,"comment_id":85771937,"body_markdown":"@Ωmega according to me, FLAG_SECURE is your best bet but you should also change activity&#39;s view(probably with your app&#39;s logo as you mentioned) in onPause/onStop as there have been cases with some devices showing screenshot even after using FLAG_SECURE","body":"@Ωmega according to me, FLAG_SECURE is your best bet but you should also change activity&#39;s view(probably with your app&#39;s logo as you mentioned) in onPause/onStop as there have been cases with some devices showing screenshot even after using FLAG_SECURE"},{"owner":{"account_id":1255572,"reputation":42820,"user_id":1215106,"accept_rate":82,"display_name":"Ωmega"},"score":0,"creation_date":1521553332,"post_id":43274289,"comment_id":85772538,"body_markdown":"@SarthakMittal - Unfortunately, `onPause` / `onStop` are triggered/called too late and so any changes made at such points do not change the application thumbnail in the *Recents*.","body":"@SarthakMittal - Unfortunately, <code>onPause</code> / <code>onStop</code> are triggered/called too late and so any changes made at such points do not change the application thumbnail in the <i>Recents</i>."},{"owner":{"account_id":5356655,"reputation":5914,"user_id":4269149,"display_name":"Sarthak Mittal"},"score":0,"creation_date":1521570589,"post_id":43274289,"comment_id":85784912,"body_markdown":"@Ωmega yes, read that part  of you question as well. sadly there seems to be no better solution.","body":"@Ωmega yes, read that part  of you question as well. sadly there seems to be no better solution."}],"answers":[{"tags":[],"owner":{"account_id":1097172,"reputation":615,"user_id":1090523,"display_name":"Chapz"},"down_vote_count":3,"up_vote_count":3,"is_accepted":false,"score":0,"last_activity_date":1506609867,"creation_date":1506609867,"answer_id":46472006,"question_id":43274289,"body_markdown":"How about implementing a layout overlay on top of your entire activity? \r\n\r\nMake it transparent, it&#39;s click-through by default, so no negative impact on UX while in use.\r\n\r\nIn `onPause()` set a half-transparent, blurred image as the background of that layout, the data will be scrambled behind it. In `onResume()` change the background to fully transparent again. Voila.\r\n\r\nIt might be faster than other types of overlays. The positive side effect is, if you do the unblurring as a short animation effect when the user goes back (**with a proper library that uses C++ instead of Java**), it might even look cool and the users wouldnt even mind seeing it.\r\n\r\nI haven&#39;t tried this myself, but it&#39;s something you haven&#39;t tried yet.","title":"Android: Customizing recent apps thumbnail (screenshot by default)","body":"<p>How about implementing a layout overlay on top of your entire activity? </p>\n\n<p>Make it transparent, it's click-through by default, so no negative impact on UX while in use.</p>\n\n<p>In <code>onPause()</code> set a half-transparent, blurred image as the background of that layout, the data will be scrambled behind it. In <code>onResume()</code> change the background to fully transparent again. Voila.</p>\n\n<p>It might be faster than other types of overlays. The positive side effect is, if you do the unblurring as a short animation effect when the user goes back (<strong>with a proper library that uses C++ instead of Java</strong>), it might even look cool and the users wouldnt even mind seeing it.</p>\n\n<p>I haven't tried this myself, but it's something you haven't tried yet.</p>\n"},{"tags":[],"owner":{"account_id":10685089,"reputation":413,"user_id":7865861,"display_name":"Arsalan Khan"},"down_vote_count":3,"up_vote_count":1,"is_accepted":false,"score":-2,"last_activity_date":1507016082,"creation_date":1507016082,"answer_id":46539407,"question_id":43274289,"body_markdown":"I think this can only achieve through BroadCastReceiver but there is no receiver present. So therefore you first disable default screenshot functionality in android and then implementing your own functionality to take screenshot and before taking screenshot you should blur your secure information.","title":"Android: Customizing recent apps thumbnail (screenshot by default)","body":"<p>I think this can only achieve through BroadCastReceiver but there is no receiver present. So therefore you first disable default screenshot functionality in android and then implementing your own functionality to take screenshot and before taking screenshot you should blur your secure information.</p>\n"},{"tags":[],"owner":{"account_id":3494582,"reputation":1871,"user_id":2923245,"display_name":"Dellkan"},"down_vote_count":1,"up_vote_count":55,"is_accepted":false,"score":54,"last_activity_date":1521620859,"creation_date":1521310274,"answer_id":49340273,"question_id":43274289,"body_markdown":"I looked into this a couple of months ago for the same purpose as you.\r\n\r\nUnfortunately, I had to conclude that it is simply not possible. I dug through the android source code and confirmed it.\r\n\r\n - There is no callbacks or methods from android that allows you to customize it (that works anyway). Besides `FLAG_SECURE`, this part of the code does not accept any input or change.\r\n - OnPause and similar lifecycle methods are called too late (the screenshot is taken already). All lifecycle methods that would hint that you&#39;re about to go into the background runs too late.\r\n - The image you see in the recent tasks is an actual screenshot - and thus isn&#39;t affected by changes you do (too late) to your view. That means you can&#39;t modify your view just-in-time (like making it invisible, replacing with something else, adding `SECURE_FLAG`, or any other obstruction of the view). As an aside, these images can be found on an emulator at `/data/system_ce/0/recent_images`. \r\n - The only exception is using `FLAG_SECURE`, which will prevent the screenshot from being taken of your application. I experimented with setting this FLAG in `onPause` and removing it in `onResume`, however as mentioned already these lifecycle methods runs after the screenshot is taken already, and thus had absolutely no effect.\r\n\r\nAs discussed in https://stackoverflow.com/questions/9130599/how-to-change-the-snapshot-shown-by-recent-apps-list there used to be a callback that you could use to customize the thumbnail: [onCreateThumbnail](https://developer.android.com/reference/android/app/Activity.html#onCreateThumbnail(android.graphics.Bitmap,%20android.graphics.Canvas)). However, this does not work and it is never called. To be clear, the callback is still there, it is simply never called by the OS. The fact that it stopped working is poorly documented, but apparently was silently deprecated/removed in 4.0.3\r\n\r\nAs for the thumbnail itself, it is a screenshot taken serverside. It is taken before `onPause` is called (or in fact before any callbacks indicating that your activity is about to go into the background is called).\r\n\r\nWhen your app does go into the background, your actual view is animated (to get that zoom-out transition). That animation **can** be affected through changes you do in `onPause` (if you&#39;re fast enough that is) (I experimented with setting opacity to 0 on the window among other things). This will however only affect the animation. When the animation is finished, the view is replaced by the screenshot taken earlier.\r\n\r\nAlso see these questions that discuss this:\r\n\r\n- https://stackoverflow.com/questions/31011593/when-does-android-take-its-recent-apps-switcher-screenshot\r\n- https://stackoverflow.com/questions/12639335/show-custom-application-image-in-task-manager-on-ics-or-jb\r\n- https://stackoverflow.com/questions/48853975/android-never-call-method-oncreatethumbnail","title":"Android: Customizing recent apps thumbnail (screenshot by default)","body":"<p>I looked into this a couple of months ago for the same purpose as you.</p>\n\n<p>Unfortunately, I had to conclude that it is simply not possible. I dug through the android source code and confirmed it.</p>\n\n<ul>\n<li>There is no callbacks or methods from android that allows you to customize it (that works anyway). Besides <code>FLAG_SECURE</code>, this part of the code does not accept any input or change.</li>\n<li>OnPause and similar lifecycle methods are called too late (the screenshot is taken already). All lifecycle methods that would hint that you're about to go into the background runs too late.</li>\n<li>The image you see in the recent tasks is an actual screenshot - and thus isn't affected by changes you do (too late) to your view. That means you can't modify your view just-in-time (like making it invisible, replacing with something else, adding <code>SECURE_FLAG</code>, or any other obstruction of the view). As an aside, these images can be found on an emulator at <code>/data/system_ce/0/recent_images</code>. </li>\n<li>The only exception is using <code>FLAG_SECURE</code>, which will prevent the screenshot from being taken of your application. I experimented with setting this FLAG in <code>onPause</code> and removing it in <code>onResume</code>, however as mentioned already these lifecycle methods runs after the screenshot is taken already, and thus had absolutely no effect.</li>\n</ul>\n\n<p>As discussed in <a href=\"https://stackoverflow.com/questions/9130599/how-to-change-the-snapshot-shown-by-recent-apps-list\">How to change the snapshot shown by recent apps list?</a> there used to be a callback that you could use to customize the thumbnail: <a href=\"https://developer.android.com/reference/android/app/Activity.html#onCreateThumbnail(android.graphics.Bitmap,%20android.graphics.Canvas)\" rel=\"noreferrer\">onCreateThumbnail</a>. However, this does not work and it is never called. To be clear, the callback is still there, it is simply never called by the OS. The fact that it stopped working is poorly documented, but apparently was silently deprecated/removed in 4.0.3</p>\n\n<p>As for the thumbnail itself, it is a screenshot taken serverside. It is taken before <code>onPause</code> is called (or in fact before any callbacks indicating that your activity is about to go into the background is called).</p>\n\n<p>When your app does go into the background, your actual view is animated (to get that zoom-out transition). That animation <strong>can</strong> be affected through changes you do in <code>onPause</code> (if you're fast enough that is) (I experimented with setting opacity to 0 on the window among other things). This will however only affect the animation. When the animation is finished, the view is replaced by the screenshot taken earlier.</p>\n\n<p>Also see these questions that discuss this:</p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/31011593/when-does-android-take-its-recent-apps-switcher-screenshot\">When does Android take its recent apps switcher screenshot?</a></li>\n<li><a href=\"https://stackoverflow.com/questions/12639335/show-custom-application-image-in-task-manager-on-ics-or-jb\">Show custom application image in task manager on ICS or JB</a></li>\n<li><a href=\"https://stackoverflow.com/questions/48853975/android-never-call-method-oncreatethumbnail\">Android never call method onCreateThumbnail</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":1438994,"reputation":43,"user_id":1359702,"display_name":"Viktor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1565846456,"creation_date":1565846456,"answer_id":57505160,"question_id":43274289,"body_markdown":"There is a way to customize it. You need your Activities with sensitive data to `FLAG_SECURE` in `onCreate` before you `setContentView`. Then you need an empty Activity, which renders whatever you want to have as the customized thumbnail. This usually is some sort of splash screen. This new Activity needs to be the launcher and is the only Activity not `FLAG_SECURE`. This Activity is launched and in onResume starts your actual Activity with the sensitive data.\r\n\r\nAndroid OS will take a screenshot of that new Activity at the beginning of your App. Unfortunately the users will also see this Activity for a short moment. Since every other Activity is `FLAG_SECURE`, Android OS will use the only available screenshot it made at the beginning.","title":"Android: Customizing recent apps thumbnail (screenshot by default)","body":"<p>There is a way to customize it. You need your Activities with sensitive data to <code>FLAG_SECURE</code> in <code>onCreate</code> before you <code>setContentView</code>. Then you need an empty Activity, which renders whatever you want to have as the customized thumbnail. This usually is some sort of splash screen. This new Activity needs to be the launcher and is the only Activity not <code>FLAG_SECURE</code>. This Activity is launched and in onResume starts your actual Activity with the sensitive data.</p>\n\n<p>Android OS will take a screenshot of that new Activity at the beginning of your App. Unfortunately the users will also see this Activity for a short moment. Since every other Activity is <code>FLAG_SECURE</code>, Android OS will use the only available screenshot it made at the beginning.</p>\n"},{"tags":[],"owner":{"account_id":10369592,"reputation":83,"user_id":7647649,"display_name":"Stefano Zanella"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1603889209,"creation_date":1603889209,"answer_id":64573176,"question_id":43274289,"body_markdown":"Currently (28/10/2020) is impossibile customizing app thumbnail in recent apps screen.&lt;br&gt;\r\nAs explained by @Dellkan in the previous answer, the `onCreateThumbnail` method is not called anymore by the OS.\r\n\r\nUnfortunately, also the suggestion to **create a kind of launcher/splash screen without the FLAG_SECURE** flag to let the app take a screenshot of that activity **is not working**, because the screenshot is taken on the activity you see and not at the launch of the app.\r\n\r\nYou **cannot** even customize the color of window background when using FLAG_SECURE as reported [here][1].\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/33249526/android-changing-color-of-window-background-when-using-flag-secure","title":"Android: Customizing recent apps thumbnail (screenshot by default)","body":"<p>Currently (28/10/2020) is impossibile customizing app thumbnail in recent apps screen.<br>\nAs explained by @Dellkan in the previous answer, the <code>onCreateThumbnail</code> method is not called anymore by the OS.</p>\n<p>Unfortunately, also the suggestion to <strong>create a kind of launcher/splash screen without the FLAG_SECURE</strong> flag to let the app take a screenshot of that activity <strong>is not working</strong>, because the screenshot is taken on the activity you see and not at the launch of the app.</p>\n<p>You <strong>cannot</strong> even customize the color of window background when using FLAG_SECURE as reported <a href=\"https://stackoverflow.com/questions/33249526/android-changing-color-of-window-background-when-using-flag-secure\">here</a>.</p>\n"},{"tags":[],"owner":{"account_id":1305413,"reputation":111,"user_id":1254504,"display_name":"Pavel Lapin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653001792,"creation_date":1652978749,"answer_id":72308267,"question_id":43274289,"body_markdown":"Was looking for a solution and found some dirty things in case you don&#39;t want to use &#39;FLAG_SECURE&#39;. It doesn&#39;t give a nice picture but protects data and doesn&#39;t prevent making screenshots for the user while they are in the app.\r\n\r\n   \r\n\r\n    protected void onPause () {\r\n        this.getWindow().getDecorView().getRootView().setScaleX((float)200);\r\n        this.getWindow().getDecorView().getRootView().setScaleY((float)200);\r\n        super.onPause();\r\n      }\r\n    \r\n      protected void onResume () {\r\n        this.getWindow().getDecorView().getRootView().setScaleX((float)1);\r\n        this.getWindow().getDecorView().getRootView().setScaleY((float)1);\r\n        super.onResume();\r\n      }","title":"Android: Customizing recent apps thumbnail (screenshot by default)","body":"<p>Was looking for a solution and found some dirty things in case you don't want to use 'FLAG_SECURE'. It doesn't give a nice picture but protects data and doesn't prevent making screenshots for the user while they are in the app.</p>\n<pre><code>protected void onPause () {\n    this.getWindow().getDecorView().getRootView().setScaleX((float)200);\n    this.getWindow().getDecorView().getRootView().setScaleY((float)200);\n    super.onPause();\n  }\n\n  protected void onResume () {\n    this.getWindow().getDecorView().getRootView().setScaleX((float)1);\n    this.getWindow().getDecorView().getRootView().setScaleY((float)1);\n    super.onResume();\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5315490,"reputation":1112,"user_id":4240534,"display_name":"goemic"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1675763233,"creation_date":1675763233,"answer_id":75371536,"question_id":43274289,"body_markdown":"Since `onPause` is called to late, I use `WindowFocusChangeListener` to observe when the Fragment loses focus. At this moment we can hide all view which show sensitive data:\r\n\r\n```\r\n@Override\r\npublic void onViewCreated(@NonNull View view, @Nullable Bundle savedInstanceState) {\r\n    super.onViewCreated(view, savedInstanceState);\r\n\r\n    view.getViewTreeObserver().addOnWindowFocusChangeListener(new ViewTreeObserver.OnWindowFocusChangeListener() {\r\n        @Override\r\n        public void onWindowFocusChanged(boolean hasFocus) {\r\n            // hide sensitive data when window moves to background (before system screenshot is captured)\r\n            myViewWithSensitiveData.setVisibility(hasFocus ? View.VISIBLE : View.INVISIBLE);\r\n        }\r\n    });\r\n```","title":"Android: Customizing recent apps thumbnail (screenshot by default)","body":"<p>Since <code>onPause</code> is called to late, I use <code>WindowFocusChangeListener</code> to observe when the Fragment loses focus. At this moment we can hide all view which show sensitive data:</p>\n<pre><code>@Override\npublic void onViewCreated(@NonNull View view, @Nullable Bundle savedInstanceState) {\n    super.onViewCreated(view, savedInstanceState);\n\n    view.getViewTreeObserver().addOnWindowFocusChangeListener(new ViewTreeObserver.OnWindowFocusChangeListener() {\n        @Override\n        public void onWindowFocusChanged(boolean hasFocus) {\n            // hide sensitive data when window moves to background (before system screenshot is captured)\n            myViewWithSensitiveData.setVisibility(hasFocus ? View.VISIBLE : View.INVISIBLE);\n        }\n    });\n</code></pre>\n"}],"owner":{"account_id":5750179,"reputation":2797,"user_id":4540114,"accept_rate":44,"display_name":"Tobias Uhmann"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15867,"favorite_count":0,"down_vote_count":2,"up_vote_count":74,"answer_count":7,"score":72,"last_activity_date":1675763233,"creation_date":1491556535,"question_id":43274289,"body_markdown":"The app I&#39;m working on shows some sensitive information that must not be shown on the &quot;Recent Tasks&quot; screen when stopping the app by pressing the home button.\r\n\r\nI&#39;d like to blur the sensitive data in the screenshot or **show the app logo instead**.\r\n\r\nI am aware of the following approaches but they don&#39;t fit my requirements:\r\n\r\n - Setting the actvitie&#39;s &lt;code&gt;android:excludeFromRecents&lt;/code&gt; to true in the manifiest prevents the app from being shown at all in the recent tasks. This would disrupt the user experience.\r\n - Using &lt;code&gt;FLAG_SECURE&lt;/code&gt; results in a blank card on the recents tasks screen. (https://stackoverflow.com/questions/9822076/how-do-i-prevent-android-taking-a-screenshot-when-my-app-goes-to-the-background) I don&#39;t like the blank screen. However, I&#39;ll stick to this solution if there is no workaround.\r\n - Overriding &lt;code&gt;onCreateThumbnail&lt;/code&gt; seems like the ideal solution but, unfortunately, doesn&#39;t work as it&#39;s currently not invoked by the OS :( (https://code.google.com/p/android/issues/detail?id=29370)\r\n\r\nAnd then there are some workarounds that I tried out but that didn&#39;t work as hoped:\r\n\r\n - Start a new activity that shows the app logo in &lt;code&gt;onPause&lt;/code&gt; so that it&#39;s screenshot is shown instead of the actual activitie&#39;s one. But the new activity takes too long to open and it disrupts the user experience.\r\n - Set the activitie&#39;s content view to an image of the app logo in &lt;code&gt;onPause&lt;/code&gt;. That seemed like a great solution to me. Unfortunately, the screenshot for the recent tasks screen is taken at an unspecified time. During testing the app logo quickly appears before the app is closed when pressing &#39;Home&#39; but the resulting screenshot shows the activity a short time before that.\r\n - Removing the sensitive data from the widgets (e.g. &lt;code&gt;textView.setText(&quot;&quot;)&lt;/code&gt;) has the same problem of screenshot timing just mentioned.\r\n\r\nAny alternative ideas or solutions to the listed workarounds?\r\n\r\n","title":"Android: Customizing recent apps thumbnail (screenshot by default)","body":"<p>The app I'm working on shows some sensitive information that must not be shown on the \"Recent Tasks\" screen when stopping the app by pressing the home button.</p>\n\n<p>I'd like to blur the sensitive data in the screenshot or <strong>show the app logo instead</strong>.</p>\n\n<p>I am aware of the following approaches but they don't fit my requirements:</p>\n\n<ul>\n<li>Setting the actvitie's <code>android:excludeFromRecents</code> to true in the manifiest prevents the app from being shown at all in the recent tasks. This would disrupt the user experience.</li>\n<li>Using <code>FLAG_SECURE</code> results in a blank card on the recents tasks screen. (<a href=\"https://stackoverflow.com/questions/9822076/how-do-i-prevent-android-taking-a-screenshot-when-my-app-goes-to-the-background\">How do I prevent Android taking a screenshot when my app goes to the background?</a>) I don't like the blank screen. However, I'll stick to this solution if there is no workaround.</li>\n<li>Overriding <code>onCreateThumbnail</code> seems like the ideal solution but, unfortunately, doesn't work as it's currently not invoked by the OS :( (<a href=\"https://code.google.com/p/android/issues/detail?id=29370\" rel=\"noreferrer\">https://code.google.com/p/android/issues/detail?id=29370</a>)</li>\n</ul>\n\n<p>And then there are some workarounds that I tried out but that didn't work as hoped:</p>\n\n<ul>\n<li>Start a new activity that shows the app logo in <code>onPause</code> so that it's screenshot is shown instead of the actual activitie's one. But the new activity takes too long to open and it disrupts the user experience.</li>\n<li>Set the activitie's content view to an image of the app logo in <code>onPause</code>. That seemed like a great solution to me. Unfortunately, the screenshot for the recent tasks screen is taken at an unspecified time. During testing the app logo quickly appears before the app is closed when pressing 'Home' but the resulting screenshot shows the activity a short time before that.</li>\n<li>Removing the sensitive data from the widgets (e.g. <code>textView.setText(\"\")</code>) has the same problem of screenshot timing just mentioned.</li>\n</ul>\n\n<p>Any alternative ideas or solutions to the listed workarounds?</p>\n"},{"tags":["java","angular","spring-boot","cors"],"comments":[{"owner":{"account_id":11942036,"reputation":164,"user_id":8738512,"display_name":"David"},"score":0,"creation_date":1675763103,"post_id":75371402,"comment_id":132993710,"body_markdown":"Just for testing. Does Access-Control-Allow-Origin: * work?","body":"Just for testing. Does Access-Control-Allow-Origin: * work?"},{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":0,"creation_date":1675763829,"post_id":75371402,"comment_id":132993962,"body_markdown":"Can you please add a snippet of client code in the question? And, if possible, what is being sent with the OPTIONS request.","body":"Can you please add a snippet of client code in the question? And, if possible, what is being sent with the OPTIONS request."},{"owner":{"account_id":27695261,"reputation":19,"user_id":21141126,"display_name":"Meta Stack"},"score":0,"creation_date":1675764851,"post_id":75371402,"comment_id":132994286,"body_markdown":"Angular client is sending the signup credentials information to the java project. I&#39;m 100% that angular is accurately sending the credentials but its not accepting on java side.","body":"Angular client is sending the signup credentials information to the java project. I&#39;m 100% that angular is accurately sending the credentials but its not accepting on java side."}],"answers":[{"tags":[],"owner":{"account_id":15187657,"reputation":122,"user_id":10959131,"display_name":"NickNgn"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1675763209,"creation_date":1675763209,"answer_id":75371531,"question_id":75371402,"body_markdown":"Could you add the configuration:\r\n\r\n    @SpringBootApplication\r\n    public class Application {\r\n        public static void main(String[] args) {\r\n            final ApplicationContext ctx = SpringApplication.run(Application.class, args);\r\n        }\r\n\r\n        @Bean\r\n        public WebMvcConfigurer corsConfigurer() {\r\n            return new WebMvcConfigurerAdapter() {\r\n                @Override\r\n                public void addCorsMappings(CorsRegistry registry) {\r\n            registry.addMapping(&quot;/**&quot;).allowedOrigins(&quot;http://localhost:4200&quot;);\r\n                }\r\n            };\r\n        }\r\n    }","title":"Access to XMLHttpRequest at &#39;http://localhost:8090/xxx&#39; from origin &#39;http://localhost:4200&#39; has been blocked by CORS policy","body":"<p>Could you add the configuration:</p>\n<pre><code>@SpringBootApplication\npublic class Application {\n    public static void main(String[] args) {\n        final ApplicationContext ctx = SpringApplication.run(Application.class, args);\n    }\n\n    @Bean\n    public WebMvcConfigurer corsConfigurer() {\n        return new WebMvcConfigurerAdapter() {\n            @Override\n            public void addCorsMappings(CorsRegistry registry) {\n        registry.addMapping(&quot;/**&quot;).allowedOrigins(&quot;http://localhost:4200&quot;);\n            }\n        };\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":27695261,"reputation":19,"user_id":21141126,"display_name":"Meta Stack"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":222,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1675763209,"creation_date":1675762576,"question_id":75371402,"body_markdown":"I&#39;m getting error while sending signup information to java spring-boot project from angular. I&#39;ve tried thousands ways to resolve it but all in vain. Can&#39;t figure it out whats stopping java project to accept the request. \r\nError in console:\r\n&gt; Access to XMLHttpRequest at &#39;http://localhost:8090/bites/service/signup&#39; from origin &#39;http://localhost:4200&#39; has been blocked by CORS policy: Request header field domain is not allowed by Access-Control-Allow-Headers in preflight response.\r\n\r\nHere&#39;s my java code:\r\n\r\n```\r\npublic void doFilter(ServletRequest req, ServletResponse res, FilterChain chain)\r\n\t\t\tthrows IOException, ServletException {\r\n\t\ttry {\r\n\t\t\tSystem.out.println(&quot;inside filter&gt;&gt;&gt;&gt;&quot;);\r\n\t\t\t HttpServletResponse response = (HttpServletResponse) res;\r\n\t\t        HttpServletRequest request = (HttpServletRequest) req;\r\n\t\t        response.setHeader(&quot;Access-Control-Allow-Origin&quot;, &quot;http://localhost:4200&quot;);\r\n\t\t        response.setHeader(&quot;Access-Control-Allow-Credentials&quot;, &quot;true&quot;);\r\n\t\t        response.setHeader(&quot;Access-Control-Allow-Methods&quot;,\r\n\t\t                &quot;ACL, CANCELUPLOAD, CHECKIN, CHECKOUT, COPY, DELETE, GET, HEAD, LOCK, MKCALENDAR, MKCOL, MOVE, OPTIONS, POST, PROPFIND, PROPPATCH, PUT, REPORT, SEARCH, UNCHECKOUT, UNLOCK, UPDATE, VERSION-CONTROL&quot;);\r\n\t\t        response.setHeader(&quot;Access-Control-Max-Age&quot;, &quot;3600&quot;);\r\n\t\t        response.setHeader(&quot;Access-Control-Allow-Headers&quot;, &quot;Origin, X-Requested-With, Content-Type, Accept, Key, Authorization&quot;);\r\n\r\n\t\t\tchain.doFilter(request, response);\r\n\t\t}catch(Exception ex) {\r\n\t\t\tex.printStackTrace();\r\n\t\t}\r\n\t}\r\n```\r\n\r\nI know that angular signup form is sending accurate request with credentials to the java project but on java side request is denying.\r\n\r\nSeeking help.\r\n\r\nI&#39;m trying my java application to accept request from angular project","title":"Access to XMLHttpRequest at &#39;http://localhost:8090/xxx&#39; from origin &#39;http://localhost:4200&#39; has been blocked by CORS policy","body":"<p>I'm getting error while sending signup information to java spring-boot project from angular. I've tried thousands ways to resolve it but all in vain. Can't figure it out whats stopping java project to accept the request.\nError in console:</p>\n<blockquote>\n<p>Access to XMLHttpRequest at 'http://localhost:8090/bites/service/signup' from origin 'http://localhost:4200' has been blocked by CORS policy: Request header field domain is not allowed by Access-Control-Allow-Headers in preflight response.</p>\n</blockquote>\n<p>Here's my java code:</p>\n<pre><code>public void doFilter(ServletRequest req, ServletResponse res, FilterChain chain)\n            throws IOException, ServletException {\n        try {\n            System.out.println(&quot;inside filter&gt;&gt;&gt;&gt;&quot;);\n             HttpServletResponse response = (HttpServletResponse) res;\n                HttpServletRequest request = (HttpServletRequest) req;\n                response.setHeader(&quot;Access-Control-Allow-Origin&quot;, &quot;http://localhost:4200&quot;);\n                response.setHeader(&quot;Access-Control-Allow-Credentials&quot;, &quot;true&quot;);\n                response.setHeader(&quot;Access-Control-Allow-Methods&quot;,\n                        &quot;ACL, CANCELUPLOAD, CHECKIN, CHECKOUT, COPY, DELETE, GET, HEAD, LOCK, MKCALENDAR, MKCOL, MOVE, OPTIONS, POST, PROPFIND, PROPPATCH, PUT, REPORT, SEARCH, UNCHECKOUT, UNLOCK, UPDATE, VERSION-CONTROL&quot;);\n                response.setHeader(&quot;Access-Control-Max-Age&quot;, &quot;3600&quot;);\n                response.setHeader(&quot;Access-Control-Allow-Headers&quot;, &quot;Origin, X-Requested-With, Content-Type, Accept, Key, Authorization&quot;);\n\n            chain.doFilter(request, response);\n        }catch(Exception ex) {\n            ex.printStackTrace();\n        }\n    }\n</code></pre>\n<p>I know that angular signup form is sending accurate request with credentials to the java project but on java side request is denying.</p>\n<p>Seeking help.</p>\n<p>I'm trying my java application to accept request from angular project</p>\n"},{"tags":["python","java","pytorch","bert-language-model","torchserve"],"comments":[{"owner":{"account_id":27061962,"reputation":29,"user_id":20705271,"display_name":"Varun Sappa"},"score":0,"creation_date":1671262937,"post_id":74832263,"comment_id":132065786,"body_markdown":"This is the [repository](https://github.com/mukut03/ESG-BERT) which I am trying to run the code from","body":"This is the <a href=\"https://github.com/mukut03/ESG-BERT\" rel=\"nofollow noreferrer\">repository</a> which I am trying to run the code from"}],"answers":[{"tags":[],"owner":{"account_id":17910015,"reputation":136,"user_id":13012341,"display_name":"Eirini Kotzia"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675763132,"creation_date":1675763132,"answer_id":75371516,"question_id":74832263,"body_markdown":"I would suggest lowering down the number of workers per model (Default workers per model: 12) now you get the maximum number that your can handle\r\n\r\nHow?\r\nGo to config.properties file and add (the first line indicates the workers to 2):\r\n\r\n     default_workers_per_model=2\r\n\r\nThen when you will do the torchserve add this (ts-config option to point on the location of you config.properties file):\r\n\r\n    torchserve  --start \\\r\n                --model-store  ./deployment/model-store \\\r\n                --ts-config ./deployment/config.properties \\\r\n                --models bert=bert.mar\r\n\r\nLet me know if this solves the error. \r\n\r\nNote : you can add other parameters as well in the config.properties file such as :\r\n\r\n    inference_address=http://0.0.0.0:8080\r\n    management_address=http://0.0.0.0:8081\r\n    metrics_address=http://0.0.0.0:8082\r\n    default_workers_per_model=2\r\n    number_of_netty_threads=1\r\n    netty_client_threads=1\r\n    prefer_direct_buffer=true\r\n\r\n","title":"torchserve model not running and giving a load of errors","body":"<p>I would suggest lowering down the number of workers per model (Default workers per model: 12) now you get the maximum number that your can handle</p>\n<p>How?\nGo to config.properties file and add (the first line indicates the workers to 2):</p>\n<pre><code> default_workers_per_model=2\n</code></pre>\n<p>Then when you will do the torchserve add this (ts-config option to point on the location of you config.properties file):</p>\n<pre><code>torchserve  --start \\\n            --model-store  ./deployment/model-store \\\n            --ts-config ./deployment/config.properties \\\n            --models bert=bert.mar\n</code></pre>\n<p>Let me know if this solves the error.</p>\n<p>Note : you can add other parameters as well in the config.properties file such as :</p>\n<pre><code>inference_address=http://0.0.0.0:8080\nmanagement_address=http://0.0.0.0:8081\nmetrics_address=http://0.0.0.0:8082\ndefault_workers_per_model=2\nnumber_of_netty_threads=1\nnetty_client_threads=1\nprefer_direct_buffer=true\n</code></pre>\n"}],"owner":{"account_id":27061962,"reputation":29,"user_id":20705271,"display_name":"Varun Sappa"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":528,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675763132,"creation_date":1671259353,"question_id":74832263,"body_markdown":"I ran the following commands  \r\n`torch-model-archiver --model-name &quot;bert&quot; --version 1.0 --serialized-file ./bert_model/pytorch_model.bin --extra-files &quot;./bert_model/config.json,./bert_model/vocab.txt&quot; --handler &quot;./handler.py&quot;  `\r\n\r\nI created all the files and then I created a new directory and copied the model into it.\r\n\r\nThen I executed the following command:\r\n\r\n```\r\ntorchserve --start --model-store model_store --models bert=bert.mar\r\n```\r\n\r\nIt then displayed a slew of errors.\r\n\r\nHere is my error text. It is too long and repetitive; hence, I posted it on paste bin.\r\n\r\n[error](https://pastebin.com/wNkMZtu3)","title":"torchserve model not running and giving a load of errors","body":"<p>I ran the following commands<br />\n<code>torch-model-archiver --model-name &quot;bert&quot; --version 1.0 --serialized-file ./bert_model/pytorch_model.bin --extra-files &quot;./bert_model/config.json,./bert_model/vocab.txt&quot; --handler &quot;./handler.py&quot;  </code></p>\n<p>I created all the files and then I created a new directory and copied the model into it.</p>\n<p>Then I executed the following command:</p>\n<pre><code>torchserve --start --model-store model_store --models bert=bert.mar\n</code></pre>\n<p>It then displayed a slew of errors.</p>\n<p>Here is my error text. It is too long and repetitive; hence, I posted it on paste bin.</p>\n<p><a href=\"https://pastebin.com/wNkMZtu3\" rel=\"nofollow noreferrer\">error</a></p>\n"},{"tags":["java","spring-boot","jackson","java-stream"],"answers":[{"tags":[],"owner":{"account_id":14365795,"reputation":13,"user_id":10376882,"display_name":"Shreyas Bhaskar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675763118,"creation_date":1675763118,"answer_id":75371512,"question_id":75371213,"body_markdown":"This implementation only maps a few of the properties in the Google Places API response to the LocationAddressComponent object. You may need to add more mapping logic depending on your requirements.\r\n\r\n\r\n    if (addressComponentsArray.isArray()) {\r\n        for (JsonNode jsonNode : addressComponentsArray) {\r\n            ArrayNode types = (ArrayNode) jsonNode.get(&quot;types&quot;);\r\n\r\n            if (types.contains(&quot;street_number&quot;)) {\r\n                responseObject.setStreet_number(jsonNode.get(&quot;long_name&quot;).asText());\r\n            } else if (types.contains(&quot;route&quot;)) {\r\n                responseObject.setStreet_name(jsonNode.get(&quot;long_name&quot;).asText());\r\n            } else if (types.contains(&quot;locality&quot;)) {\r\n                responseObject.setSuburb(jsonNode.get(&quot;long_name&quot;).asText());\r\n            } else if (types.contains(&quot;administrative_area_level_1&quot;)) {\r\n                responseObject.setState(jsonNode.get(&quot;long_name&quot;).asText());\r\n            } else if (types.contains(&quot;postal_code&quot;)) {\r\n                responseObject.setPostcode(jsonNode.get(&quot;long_name&quot;).asText());\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n\r\n","title":"Java convert response into expected json","body":"<p>This implementation only maps a few of the properties in the Google Places API response to the LocationAddressComponent object. You may need to add more mapping logic depending on your requirements.</p>\n<pre><code>if (addressComponentsArray.isArray()) {\n    for (JsonNode jsonNode : addressComponentsArray) {\n        ArrayNode types = (ArrayNode) jsonNode.get(&quot;types&quot;);\n\n        if (types.contains(&quot;street_number&quot;)) {\n            responseObject.setStreet_number(jsonNode.get(&quot;long_name&quot;).asText());\n        } else if (types.contains(&quot;route&quot;)) {\n            responseObject.setStreet_name(jsonNode.get(&quot;long_name&quot;).asText());\n        } else if (types.contains(&quot;locality&quot;)) {\n            responseObject.setSuburb(jsonNode.get(&quot;long_name&quot;).asText());\n        } else if (types.contains(&quot;administrative_area_level_1&quot;)) {\n            responseObject.setState(jsonNode.get(&quot;long_name&quot;).asText());\n        } else if (types.contains(&quot;postal_code&quot;)) {\n            responseObject.setPostcode(jsonNode.get(&quot;long_name&quot;).asText());\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":16727238,"reputation":1925,"user_id":12090556,"display_name":"xMayank"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1675763118,"creation_date":1675761655,"question_id":75371213,"body_markdown":"Hi I have this response from google places api\r\n\r\n```\r\n &quot;address_components&quot;: [\r\n      {\r\n        &quot;long_name&quot;: &quot;123&quot;,\r\n        &quot;short_name&quot;: &quot;123&quot;,\r\n        &quot;types&quot;: [&quot;street_number&quot;]\r\n      },\r\n      {\r\n        &quot;long_name&quot;: &quot;Mulgoa Road&quot;,\r\n        &quot;short_name&quot;: &quot;Mulgoa Rd&quot;,\r\n        &quot;types&quot;: [&quot;route&quot;]\r\n      },\r\n      {\r\n        &quot;long_name&quot;: &quot;Penrith&quot;,\r\n        &quot;short_name&quot;: &quot;Penrith&quot;,\r\n        &quot;types&quot;: [&quot;locality&quot;, &quot;political&quot;]\r\n      },\r\n      {\r\n        &quot;long_name&quot;: &quot;City of Penrith&quot;,\r\n        &quot;short_name&quot;: &quot;City of Penrith&quot;,\r\n        &quot;types&quot;: [&quot;administrative_area_level_2&quot;, &quot;political&quot;]\r\n      },\r\n      {\r\n        &quot;long_name&quot;: &quot;New South Wales&quot;,\r\n        &quot;short_name&quot;: &quot;NSW&quot;,\r\n        &quot;types&quot;: [&quot;administrative_area_level_1&quot;, &quot;political&quot;]\r\n      },\r\n      {\r\n        &quot;long_name&quot;: &quot;Australia&quot;,\r\n        &quot;short_name&quot;: &quot;AU&quot;,\r\n        &quot;types&quot;: [&quot;country&quot;, &quot;political&quot;]\r\n      },\r\n      {\r\n        &quot;long_name&quot;: &quot;2750&quot;,\r\n        &quot;short_name&quot;: &quot;2750&quot;,\r\n        &quot;types&quot;: [&quot;postal_code&quot;]\r\n      }\r\n    ],\r\n```\r\nExpected response \r\n\r\n```\r\n{\r\n        &quot;postcode&quot;: &quot;4215&quot;,\r\n        &quot;unit_number&quot;: null,\r\n        &quot;floor_number&quot;: null,\r\n        &quot;building_name&quot;: null,\r\n        &quot;building_number&quot;: null,\r\n        &quot;block_number&quot;: null,\r\n        &quot;street_number&quot;: &quot;123&quot;,\r\n        &quot;street_name&quot;: &quot;Nerang&quot;,\r\n        &quot;street_type&quot;: &quot;Street&quot;,\r\n        &quot;state&quot;: &quot;Queensland&quot;,\r\n        &quot;suburb&quot;: &quot;Southport&quot;,\r\n        &quot;city&quot;: null,\r\n        &quot;district&quot;: null,\r\n        &quot;fullAddress&quot;: &quot;123 Nerang St, Southport QLD 4215, Australia&quot;\r\n    }\r\n```\r\nOn the basis of `types` array I want to populate values into response format.\r\nThis is what how I trying to implement it right now.\r\n\r\n\r\n```\r\nJsonNode resultData = new ObjectMapper().readTree(String.valueOf(response.getResponseBody()));\r\n        if (Objects.equals(resultData.get(&quot;status&quot;).asText(), &quot;OK&quot;)) {\r\n            JsonNode addressComponentsArray = resultData.get(&quot;result&quot;).get(&quot;address_components&quot;);\r\n            LocationAddressComponent responseObject = new LocationAddressComponent();\r\n\r\n            if (addressComponentsArray.isArray()) {\r\n                for (JsonNode jsonNode : addressComponentsArray) {\r\n                    Array res = jsonNode.get(&quot;types&quot;);\r\n\r\n                }\r\n            }\r\n\r\n```\r\n\r\nCan you please suggest how it can be done using stream or Jackson.\r\n\r\nLocationComponentAddress.java\r\n\r\n```\r\npublic class LocationAddressComponent {\r\n    String postcode;\r\n    String unit_number;\r\n    String floor_number;\r\n    String building_name;\r\n    String building_number;\r\n    String block_number;\r\n    String street_number;\r\n    String street_name;\r\n    String street_type;\r\n    String state;\r\n    String suburb;\r\n    String city;\r\n    String district;\r\n    String fullAddress;\r\n}\r\n```\r\n\r\n\r\n","title":"Java convert response into expected json","body":"<p>Hi I have this response from google places api</p>\n<pre><code> &quot;address_components&quot;: [\n      {\n        &quot;long_name&quot;: &quot;123&quot;,\n        &quot;short_name&quot;: &quot;123&quot;,\n        &quot;types&quot;: [&quot;street_number&quot;]\n      },\n      {\n        &quot;long_name&quot;: &quot;Mulgoa Road&quot;,\n        &quot;short_name&quot;: &quot;Mulgoa Rd&quot;,\n        &quot;types&quot;: [&quot;route&quot;]\n      },\n      {\n        &quot;long_name&quot;: &quot;Penrith&quot;,\n        &quot;short_name&quot;: &quot;Penrith&quot;,\n        &quot;types&quot;: [&quot;locality&quot;, &quot;political&quot;]\n      },\n      {\n        &quot;long_name&quot;: &quot;City of Penrith&quot;,\n        &quot;short_name&quot;: &quot;City of Penrith&quot;,\n        &quot;types&quot;: [&quot;administrative_area_level_2&quot;, &quot;political&quot;]\n      },\n      {\n        &quot;long_name&quot;: &quot;New South Wales&quot;,\n        &quot;short_name&quot;: &quot;NSW&quot;,\n        &quot;types&quot;: [&quot;administrative_area_level_1&quot;, &quot;political&quot;]\n      },\n      {\n        &quot;long_name&quot;: &quot;Australia&quot;,\n        &quot;short_name&quot;: &quot;AU&quot;,\n        &quot;types&quot;: [&quot;country&quot;, &quot;political&quot;]\n      },\n      {\n        &quot;long_name&quot;: &quot;2750&quot;,\n        &quot;short_name&quot;: &quot;2750&quot;,\n        &quot;types&quot;: [&quot;postal_code&quot;]\n      }\n    ],\n</code></pre>\n<p>Expected response</p>\n<pre><code>{\n        &quot;postcode&quot;: &quot;4215&quot;,\n        &quot;unit_number&quot;: null,\n        &quot;floor_number&quot;: null,\n        &quot;building_name&quot;: null,\n        &quot;building_number&quot;: null,\n        &quot;block_number&quot;: null,\n        &quot;street_number&quot;: &quot;123&quot;,\n        &quot;street_name&quot;: &quot;Nerang&quot;,\n        &quot;street_type&quot;: &quot;Street&quot;,\n        &quot;state&quot;: &quot;Queensland&quot;,\n        &quot;suburb&quot;: &quot;Southport&quot;,\n        &quot;city&quot;: null,\n        &quot;district&quot;: null,\n        &quot;fullAddress&quot;: &quot;123 Nerang St, Southport QLD 4215, Australia&quot;\n    }\n</code></pre>\n<p>On the basis of <code>types</code> array I want to populate values into response format.\nThis is what how I trying to implement it right now.</p>\n<pre><code>JsonNode resultData = new ObjectMapper().readTree(String.valueOf(response.getResponseBody()));\n        if (Objects.equals(resultData.get(&quot;status&quot;).asText(), &quot;OK&quot;)) {\n            JsonNode addressComponentsArray = resultData.get(&quot;result&quot;).get(&quot;address_components&quot;);\n            LocationAddressComponent responseObject = new LocationAddressComponent();\n\n            if (addressComponentsArray.isArray()) {\n                for (JsonNode jsonNode : addressComponentsArray) {\n                    Array res = jsonNode.get(&quot;types&quot;);\n\n                }\n            }\n\n</code></pre>\n<p>Can you please suggest how it can be done using stream or Jackson.</p>\n<p>LocationComponentAddress.java</p>\n<pre><code>public class LocationAddressComponent {\n    String postcode;\n    String unit_number;\n    String floor_number;\n    String building_name;\n    String building_number;\n    String block_number;\n    String street_number;\n    String street_name;\n    String street_type;\n    String state;\n    String suburb;\n    String city;\n    String district;\n    String fullAddress;\n}\n</code></pre>\n"},{"tags":["java","database","oracle","xa"],"answers":[{"tags":[],"owner":{"account_id":8391404,"reputation":293,"user_id":6300032,"display_name":"SimGel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675763034,"creation_date":1675763034,"answer_id":75371495,"question_id":75370938,"body_markdown":"I see serveral problems in your solution if you are using multiple datasources to the same database.\r\n\r\nIf you have 3 Datasources you have 3 seperate connections to the database. So you also have 3 parallel database transactions.\r\n\r\nFirst of all you have overhead in your application because you have to synchronise the transactions on the application level. On top this 3 transaction are then syncronized via XA. This might cause a huge performance problem.\r\n\r\nIf you have 3 transactions you need 3 commits which might be slower than one commit.\r\n\r\nThe 3 DB transactions might run into deadlocks because all 3 are trying to modify the same or related data.","title":"Is there overhead in having multiple data sources against same data base instance when having an XA transaction?","body":"<p>I see serveral problems in your solution if you are using multiple datasources to the same database.</p>\n<p>If you have 3 Datasources you have 3 seperate connections to the database. So you also have 3 parallel database transactions.</p>\n<p>First of all you have overhead in your application because you have to synchronise the transactions on the application level. On top this 3 transaction are then syncronized via XA. This might cause a huge performance problem.</p>\n<p>If you have 3 transactions you need 3 commits which might be slower than one commit.</p>\n<p>The 3 DB transactions might run into deadlocks because all 3 are trying to modify the same or related data.</p>\n"}],"owner":{"account_id":27723429,"reputation":1,"user_id":21163516,"display_name":"St&#229;le &#197;rdal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":87,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675763034,"creation_date":1675760090,"question_id":75370938,"body_markdown":"A very high level description of our test set up is:\r\n- Java application is running on Jboss (WildFly)\r\n- Using Oracle as database server \r\n- XA transaction between IBM MQ and Oracle data sources\r\n- More than 100 concurrent transactions doing MQ GET/PUT and SQL inserts/read/update/delete\r\n- More than 1000 transactions per seconds to be processed\r\n- Each transaction is doing about 100 SQL inserts + some reads (some of the transactions are also doing a few delete and updates)\r\n- 2 Jboss nodes with 32 CPU&#39;s and 32 CPU oracle database server\r\n\r\nEach transaction will connect to about 3 data sources.  However, all data sources are on the same data base instance. I have been wondering if there is an overhead in having multiple data sources against same data base instance when having an XA transaction.\r\nOne of the reason i ask, is that we are now struggling with the &quot;enq: DX - contention&quot; waits in Oracle.\r\n\r\n\r\nI have been trying to google without finding a clear answer.\r\nit seems like Oracle have some kind of optimizations for this scenario\r\nhttps://docs.oracle.com/en/database/oracle/oracle-database/19/jjdbc/distributed-transactions.html#GUID-2C258328-7DFD-42ED-AA03-01959FFE924A (32.3.4 Oracle XA Optimizations)\r\nHowever, as mentioned above, we are struggling with &quot;enq: DX - contention&quot; waits\r\n\r\nAny insight will be helpful ","title":"Is there overhead in having multiple data sources against same data base instance when having an XA transaction?","body":"<p>A very high level description of our test set up is:</p>\n<ul>\n<li>Java application is running on Jboss (WildFly)</li>\n<li>Using Oracle as database server</li>\n<li>XA transaction between IBM MQ and Oracle data sources</li>\n<li>More than 100 concurrent transactions doing MQ GET/PUT and SQL inserts/read/update/delete</li>\n<li>More than 1000 transactions per seconds to be processed</li>\n<li>Each transaction is doing about 100 SQL inserts + some reads (some of the transactions are also doing a few delete and updates)</li>\n<li>2 Jboss nodes with 32 CPU's and 32 CPU oracle database server</li>\n</ul>\n<p>Each transaction will connect to about 3 data sources.  However, all data sources are on the same data base instance. I have been wondering if there is an overhead in having multiple data sources against same data base instance when having an XA transaction.\nOne of the reason i ask, is that we are now struggling with the &quot;enq: DX - contention&quot; waits in Oracle.</p>\n<p>I have been trying to google without finding a clear answer.\nit seems like Oracle have some kind of optimizations for this scenario\n<a href=\"https://docs.oracle.com/en/database/oracle/oracle-database/19/jjdbc/distributed-transactions.html#GUID-2C258328-7DFD-42ED-AA03-01959FFE924A\" rel=\"nofollow noreferrer\">https://docs.oracle.com/en/database/oracle/oracle-database/19/jjdbc/distributed-transactions.html#GUID-2C258328-7DFD-42ED-AA03-01959FFE924A</a> (32.3.4 Oracle XA Optimizations)\nHowever, as mentioned above, we are struggling with &quot;enq: DX - contention&quot; waits</p>\n<p>Any insight will be helpful</p>\n"},{"tags":["javascript","java","selenium"],"comments":[{"owner":{"account_id":18180305,"reputation":433,"user_id":13228209,"display_name":"Ninja"},"score":0,"creation_date":1596634973,"post_id":48850974,"comment_id":111874525,"body_markdown":"Can we also do similar thing using JS?","body":"Can we also do similar thing using JS?"}],"answers":[{"tags":[],"owner":{"account_id":10657061,"reputation":6317,"user_id":7901720,"display_name":"Ratmir Asanov"},"down_vote_count":0,"up_vote_count":62,"is_accepted":true,"score":62,"last_activity_date":1548152876,"creation_date":1518953582,"answer_id":48851166,"question_id":48850974,"body_markdown":"I will provide you code in Python for this. I think it&#39;s easy to translate to Java:\r\n\r\n    def scroll_down(self):\r\n        &quot;&quot;&quot;A method for scrolling the page.&quot;&quot;&quot;\r\n\r\n        # Get scroll height.\r\n        last_height = self.driver.execute_script(&quot;return document.body.scrollHeight&quot;)\r\n\r\n        while True:\r\n\r\n            # Scroll down to the bottom.\r\n            self.driver.execute_script(&quot;window.scrollTo(0, document.body.scrollHeight);&quot;)\r\n\r\n            # Wait to load the page.\r\n            time.sleep(2)\r\n\r\n            # Calculate new scroll height and compare with last scroll height.\r\n            new_height = self.driver.execute_script(&quot;return document.body.scrollHeight&quot;)\r\n\r\n            if new_height == last_height:\r\n\r\n                break\r\n\r\n            last_height = new_height\r\n\r\nHope it helps you!","title":"Selenium: Scroll to end of page in dynamically loading webpage","body":"<p>I will provide you code in Python for this. I think it's easy to translate to Java:</p>\n\n<pre><code>def scroll_down(self):\n    \"\"\"A method for scrolling the page.\"\"\"\n\n    # Get scroll height.\n    last_height = self.driver.execute_script(\"return document.body.scrollHeight\")\n\n    while True:\n\n        # Scroll down to the bottom.\n        self.driver.execute_script(\"window.scrollTo(0, document.body.scrollHeight);\")\n\n        # Wait to load the page.\n        time.sleep(2)\n\n        # Calculate new scroll height and compare with last scroll height.\n        new_height = self.driver.execute_script(\"return document.body.scrollHeight\")\n\n        if new_height == last_height:\n\n            break\n\n        last_height = new_height\n</code></pre>\n\n<p>Hope it helps you!</p>\n"},{"tags":[],"owner":{"account_id":2405520,"reputation":941,"user_id":2102106,"accept_rate":75,"display_name":"Johannes Mols"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1518954145,"creation_date":1518954145,"answer_id":48851253,"question_id":48850974,"body_markdown":"Thanks to Ratmir Asanov (see the approved answer above), I translated the Python code into Java to make it easier to implement for other people.\r\n\r\n    try {\r\n        long lastHeight = (long) ((JavascriptExecutor) webDriver).executeScript(&quot;return document.body.scrollHeight&quot;);\r\n    \r\n        while (true) {\r\n            ((JavascriptExecutor) webDriver).executeScript(&quot;window.scrollTo(0, document.body.scrollHeight);&quot;);\r\n            Thread.sleep(2000);\r\n    \r\n            long newHeight = (long) ((JavascriptExecutor) webDriver).executeScript(&quot;return document.body.scrollHeight&quot;);\r\n            if (newHeight == lastHeight) {\r\n                break;\r\n            }\r\n            lastHeight = newHeight;\r\n        }\r\n    } catch (InterruptedException e) {\r\n        e.printStackTrace();\r\n    }","title":"Selenium: Scroll to end of page in dynamically loading webpage","body":"<p>Thanks to Ratmir Asanov (see the approved answer above), I translated the Python code into Java to make it easier to implement for other people.</p>\n\n<pre><code>try {\n    long lastHeight = (long) ((JavascriptExecutor) webDriver).executeScript(\"return document.body.scrollHeight\");\n\n    while (true) {\n        ((JavascriptExecutor) webDriver).executeScript(\"window.scrollTo(0, document.body.scrollHeight);\");\n        Thread.sleep(2000);\n\n        long newHeight = (long) ((JavascriptExecutor) webDriver).executeScript(\"return document.body.scrollHeight\");\n        if (newHeight == lastHeight) {\n            break;\n        }\n        lastHeight = newHeight;\n    }\n} catch (InterruptedException e) {\n    e.printStackTrace();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9331250,"reputation":29,"user_id":6926927,"display_name":"Prabhat Arya"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1561014460,"creation_date":1561014460,"answer_id":56680719,"question_id":48850974,"body_markdown":"Updated Johannes code a bit to make it functional.\r\n\r\n    JavascriptExecutor js = (JavascriptExecutor) driver;\r\n    try {\r\n        long lastHeight=((Number)js.executeScript(&quot;return document.body.scrollHeight&quot;)).longValue();\r\n        while (true) {\r\n            ((JavascriptExecutor) driver).executeScript(&quot;window.scrollTo(0, document.body.scrollHeight);&quot;);\r\n            Thread.sleep(2000);\r\n\r\n            long newHeight = ((Number)js.executeScript(&quot;return document.body.scrollHeight&quot;)).longValue();\r\n            if (newHeight == lastHeight) {\r\n                break;\r\n            }\r\n            lastHeight = newHeight;\r\n        }\r\n    } catch (InterruptedException e) {\r\n        e.printStackTrace();\r\n    }\r\n\r\n","title":"Selenium: Scroll to end of page in dynamically loading webpage","body":"<p>Updated Johannes code a bit to make it functional.</p>\n\n<pre><code>JavascriptExecutor js = (JavascriptExecutor) driver;\ntry {\n    long lastHeight=((Number)js.executeScript(\"return document.body.scrollHeight\")).longValue();\n    while (true) {\n        ((JavascriptExecutor) driver).executeScript(\"window.scrollTo(0, document.body.scrollHeight);\");\n        Thread.sleep(2000);\n\n        long newHeight = ((Number)js.executeScript(\"return document.body.scrollHeight\")).longValue();\n        if (newHeight == lastHeight) {\n            break;\n        }\n        lastHeight = newHeight;\n    }\n} catch (InterruptedException e) {\n    e.printStackTrace();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14600915,"reputation":41,"user_id":10545202,"display_name":"Zenab Gorach"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1569688562,"creation_date":1569687994,"answer_id":58148241,"question_id":48850974,"body_markdown":"Updating the above solution by Prabhat further as it was still giving me compilation error.\r\n\r\n\r\n\r\n\t\ttry {\r\n\t\t    Object lastHeight = ((JavascriptExecutor) driver).executeScript(&quot;return document.body.scrollHeight&quot;);\r\n\r\n\t\t    while (true) {\r\n\t\t        ((JavascriptExecutor) driver).executeScript(&quot;window.scrollTo(0, document.body.scrollHeight);&quot;);\r\n\t\t        Thread.sleep(2000);\r\n\r\n\t\t        Object newHeight = ((JavascriptExecutor) driver).executeScript(&quot;return document.body.scrollHeight&quot;);\r\n\t\t        if (newHeight.equals(lastHeight)) {\r\n\t\t            break;\r\n\t\t        }\r\n\t\t        lastHeight = newHeight;\r\n\t\t    }\r\n\t\t} catch (InterruptedException e) {\r\n\t\t    e.printStackTrace();\r\n\t\t}\r\n\t}","title":"Selenium: Scroll to end of page in dynamically loading webpage","body":"<p>Updating the above solution by Prabhat further as it was still giving me compilation error.</p>\n\n<pre><code>    try {\n        Object lastHeight = ((JavascriptExecutor) driver).executeScript(\"return document.body.scrollHeight\");\n\n        while (true) {\n            ((JavascriptExecutor) driver).executeScript(\"window.scrollTo(0, document.body.scrollHeight);\");\n            Thread.sleep(2000);\n\n            Object newHeight = ((JavascriptExecutor) driver).executeScript(\"return document.body.scrollHeight\");\n            if (newHeight.equals(lastHeight)) {\n                break;\n            }\n            lastHeight = newHeight;\n        }\n    } catch (InterruptedException e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20606737,"reputation":11,"user_id":15126798,"display_name":"buggy_code312"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1612309275,"creation_date":1612309275,"answer_id":66019180,"question_id":48850974,"body_markdown":"I found another solution to the dynamically loading page.\r\n\r\nCount the elements that are displayed every scroll before and after the scroll and compare them to determine if you&#39;ve scrolled to the bottom.\r\n\r\n```\r\nvar reachedEnd = false;\r\noldCount = driver.FindElements(By.CssSelector(&quot;.searchDataContainer.table-row.raw&quot;)).Count;\r\n\r\nwhile (!reachedEnd)\r\n{\r\n    driver.FindElement(By.CssSelector(&quot;body&quot;)).SendKeys(Keys.End);\r\n    Thread.Sleep(500);\r\n    oldCount = driver.FindElements(By.CssSelector(&quot;.searchDataContainer.table-row.raw&quot;)).Count;\r\n\r\n    if (newCount == oldCount)\r\n    {\r\n        reachedEnd = true;\r\n    }\r\n    else\r\n    {\r\n        newCount = oldCount;\r\n    }\r\n}\r\n```","title":"Selenium: Scroll to end of page in dynamically loading webpage","body":"<p>I found another solution to the dynamically loading page.</p>\n<p>Count the elements that are displayed every scroll before and after the scroll and compare them to determine if you've scrolled to the bottom.</p>\n<pre><code>var reachedEnd = false;\noldCount = driver.FindElements(By.CssSelector(&quot;.searchDataContainer.table-row.raw&quot;)).Count;\n\nwhile (!reachedEnd)\n{\n    driver.FindElement(By.CssSelector(&quot;body&quot;)).SendKeys(Keys.End);\n    Thread.Sleep(500);\n    oldCount = driver.FindElements(By.CssSelector(&quot;.searchDataContainer.table-row.raw&quot;)).Count;\n\n    if (newCount == oldCount)\n    {\n        reachedEnd = true;\n    }\n    else\n    {\n        newCount = oldCount;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14503302,"reputation":49,"user_id":13154961,"display_name":"MdaCosta"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634040712,"creation_date":1634040712,"answer_id":69540322,"question_id":48850974,"body_markdown":"**Updated code that worked for me:**\r\n\r\n    try {\r\n    \t\t    \t    long lastHeight = (long) ((JavascriptExecutor) driver).executeScript(&quot;return document.body.scrollHeight&quot;);\r\n    \t\t    \t    int cont=1000;\r\n    \t\t    \t    while (true) {\r\n    \t\t    \t        ((JavascriptExecutor) driver).executeScript(&quot;window.scrollTo(0, &quot;+cont+&quot;);&quot;);\r\n    \t\t    \t        Thread.sleep(2000);\r\n    \r\n    \t\t    \t        long newHeight = (long) ((JavascriptExecutor) driver).executeScript(&quot;return document.body.scrollHeight&quot;);\r\n    \t\t    \t        if (newHeight &lt;= cont) {\r\n    \t\t    \t            break;\r\n    \t\t    \t        }\r\n    //\t\t    \t        lastHeight = newHeight;\r\n    \t\t    \t        cont+=500;\r\n    \t\t    \t    }\r\n    \t\t    \t} catch (InterruptedException e) {\r\n    \t\t    \t    e.printStackTrace();\r\n    \t\t    \t}","title":"Selenium: Scroll to end of page in dynamically loading webpage","body":"<p><strong>Updated code that worked for me:</strong></p>\n<pre><code>try {\n                    long lastHeight = (long) ((JavascriptExecutor) driver).executeScript(&quot;return document.body.scrollHeight&quot;);\n                    int cont=1000;\n                    while (true) {\n                        ((JavascriptExecutor) driver).executeScript(&quot;window.scrollTo(0, &quot;+cont+&quot;);&quot;);\n                        Thread.sleep(2000);\n\n                        long newHeight = (long) ((JavascriptExecutor) driver).executeScript(&quot;return document.body.scrollHeight&quot;);\n                        if (newHeight &lt;= cont) {\n                            break;\n                        }\n//                      lastHeight = newHeight;\n                        cont+=500;\n                    }\n                } catch (InterruptedException e) {\n                    e.printStackTrace();\n                }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25728458,"reputation":11,"user_id":19484369,"display_name":"Nayanjyoti Rabha"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1657001590,"creation_date":1657001590,"answer_id":72864709,"question_id":48850974,"body_markdown":"Making a slight correction to the above stated answers. The variable &#39;start&#39; of type long keeps changing after every scroll and the value becomes same after it reaches the end of the webpage. And as it an infinite loop with will keep returning the same value again and again. So, I just took the &#39;temp&#39; variable and  checked two consecutive values are same or not as the values remain same after the end is reached. As soon at it finds the same it exits the loop.\r\n```\r\n\ttry {\r\n\t\t\tlong temp = 0;\r\n\t\t\twhile (true) {\r\n\t\t\t\t((JavascriptExecutor) driver).executeScript(&quot;window.scrollTo(0, document.body.scrollHeight);&quot;);\r\n\t\t\t\tThread.sleep(2500);\r\n\t\t\t\tlong start = (Long) ((JavascriptExecutor) driver).executeScript(&quot;return document.body.scrollHeight&quot;);\r\n\t\t\t\tif (start == temp) {\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t\ttemp = start;\r\n\t\t\t}\r\n\t\t\tSystem.out.println(&quot;completed the scroll&quot;);\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n```","title":"Selenium: Scroll to end of page in dynamically loading webpage","body":"<p>Making a slight correction to the above stated answers. The variable 'start' of type long keeps changing after every scroll and the value becomes same after it reaches the end of the webpage. And as it an infinite loop with will keep returning the same value again and again. So, I just took the 'temp' variable and  checked two consecutive values are same or not as the values remain same after the end is reached. As soon at it finds the same it exits the loop.</p>\n<pre><code>    try {\n            long temp = 0;\n            while (true) {\n                ((JavascriptExecutor) driver).executeScript(&quot;window.scrollTo(0, document.body.scrollHeight);&quot;);\n                Thread.sleep(2500);\n                long start = (Long) ((JavascriptExecutor) driver).executeScript(&quot;return document.body.scrollHeight&quot;);\n                if (start == temp) {\n                    break;\n                }\n                temp = start;\n            }\n            System.out.println(&quot;completed the scroll&quot;);\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15461950,"reputation":55,"user_id":11154428,"display_name":"indayush"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657491435,"creation_date":1657047541,"answer_id":72874318,"question_id":48850974,"body_markdown":"You can add the following code to keep pressing page Down button: \r\n\r\n    new Actions(driver).sendKeys(Keys.PAGE_DOWN).perform();\r\n\r\n","title":"Selenium: Scroll to end of page in dynamically loading webpage","body":"<p>You can add the following code to keep pressing page Down button:</p>\n<pre><code>new Actions(driver).sendKeys(Keys.PAGE_DOWN).perform();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4857432,"reputation":149,"user_id":3918023,"display_name":"ukod"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1657106261,"creation_date":1657106261,"answer_id":72882664,"question_id":48850974,"body_markdown":"C# version of the Ratmir Asanov&#39;s answer:\r\n\r\n    var lastHeight =  driver.ExecuteScript(&quot;returndocument.body.scrollHeight&quot;);\r\n    while (true)\r\n    {\r\n        driver.ExecuteScript(&quot;window.scrollTo(0, document.body.scrollHeight);&quot;);\r\n        await Task.Delay(500);\r\n    \r\n        var newHeight = driver.ExecuteScript(&quot;return document.body.scrollHeight&quot;);\r\n        Console.WriteLine(lastHeight + &quot; - &quot; + newHeight);\r\n        if (newHeight.Equals(lastHeight))\r\n            break;\r\n    \r\n        lastHeight = newHeight;\r\n    }","title":"Selenium: Scroll to end of page in dynamically loading webpage","body":"<p>C# version of the Ratmir Asanov's answer:</p>\n<pre><code>var lastHeight =  driver.ExecuteScript(&quot;returndocument.body.scrollHeight&quot;);\nwhile (true)\n{\n    driver.ExecuteScript(&quot;window.scrollTo(0, document.body.scrollHeight);&quot;);\n    await Task.Delay(500);\n\n    var newHeight = driver.ExecuteScript(&quot;return document.body.scrollHeight&quot;);\n    Console.WriteLine(lastHeight + &quot; - &quot; + newHeight);\n    if (newHeight.Equals(lastHeight))\n        break;\n\n    lastHeight = newHeight;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23928846,"reputation":1,"user_id":17923636,"display_name":"Mahmud Oly"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670836513,"creation_date":1670836513,"answer_id":74768890,"question_id":48850974,"body_markdown":"# to scroll and wait to load more property till end\r\n\r\n                    lenOfPage = driver.instance.execute_script(&quot;window.scrollTo(0, document.body.scrollHeight);var lenOfPage=document.body.scrollHeight;return lenOfPage;&quot;)\r\n\r\n                    match = False\r\n                    while not match:\r\n                        lastCount = lenOfPage\r\n                        time.sleep(2)\r\n                        lenOfPage = driver.instance.execute_script(&quot;window.scrollTo(0, document.body.scrollHeight);var lenOfPage=document.body.scrollHeight;return lenOfPage;&quot;)\r\n\r\n                        if lastCount == lenOfPage:\r\n                            match = True","title":"Selenium: Scroll to end of page in dynamically loading webpage","body":"<h1>to scroll and wait to load more property till end</h1>\n<pre><code>                lenOfPage = driver.instance.execute_script(&quot;window.scrollTo(0, document.body.scrollHeight);var lenOfPage=document.body.scrollHeight;return lenOfPage;&quot;)\n\n                match = False\n                while not match:\n                    lastCount = lenOfPage\n                    time.sleep(2)\n                    lenOfPage = driver.instance.execute_script(&quot;window.scrollTo(0, document.body.scrollHeight);var lenOfPage=document.body.scrollHeight;return lenOfPage;&quot;)\n\n                    if lastCount == lenOfPage:\n                        match = True\n</code></pre>\n"}],"owner":{"account_id":2405520,"reputation":941,"user_id":2102106,"accept_rate":75,"display_name":"Johannes Mols"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36500,"favorite_count":0,"down_vote_count":0,"up_vote_count":27,"accepted_answer_id":48851166,"answer_count":10,"score":27,"last_activity_date":1675762827,"creation_date":1518952136,"question_id":48850974,"body_markdown":"I have a webpage that keeps loading new items when scrolling down the page until every item is loaded.\r\n\r\nI&#39;m working with Selenium in Java, and need to scroll down to the bottom of the page in order to load everything.\r\n\r\nI have tried several different options, like scrolling to an element of the bottom of the page:\r\n\r\n    WebElement copyrightAtEndOfPage = webDriver.findElement(By.xpath(&quot;//a[@href=&#39;/utils/copyright.html&#39;]&quot;));\r\n    ((JavascriptExecutor) webDriver).executeScript(&quot;arguments[0].scrollIntoView();&quot;, copyrightAtEndOfPage);\r\n\r\nThis only scrolls down once though, and then the webpage keeps loading.\r\n\r\nI also tried [this][1] approach, which also only scrolls down once, because it only takes the browser height into consideration.\r\n\r\nAny help is highly appreciated.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/24553943/2102106","title":"Selenium: Scroll to end of page in dynamically loading webpage","body":"<p>I have a webpage that keeps loading new items when scrolling down the page until every item is loaded.</p>\n\n<p>I'm working with Selenium in Java, and need to scroll down to the bottom of the page in order to load everything.</p>\n\n<p>I have tried several different options, like scrolling to an element of the bottom of the page:</p>\n\n<pre><code>WebElement copyrightAtEndOfPage = webDriver.findElement(By.xpath(\"//a[@href='/utils/copyright.html']\"));\n((JavascriptExecutor) webDriver).executeScript(\"arguments[0].scrollIntoView();\", copyrightAtEndOfPage);\n</code></pre>\n\n<p>This only scrolls down once though, and then the webpage keeps loading.</p>\n\n<p>I also tried <a href=\"https://stackoverflow.com/a/24553943/2102106\">this</a> approach, which also only scrolls down once, because it only takes the browser height into consideration.</p>\n\n<p>Any help is highly appreciated.</p>\n"},{"tags":["java","spring-boot","spring-data-r2dbc"],"answers":[{"tags":[],"owner":{"account_id":19395247,"reputation":3208,"user_id":14183092,"display_name":"kerbermeister"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1675762710,"creation_date":1675712925,"answer_id":75365907,"question_id":75363366,"body_markdown":"My guess the reason is that you have added r2dbc driver to your project, but haven&#39;t added `spring-boot-starter-data-r2dbc`\r\n\r\nSo, consider this dependency in your `pom.xml` file (this is the latest version at the time of writing this answer) :\r\n\r\n\t&lt;!-- https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-data-r2dbc --&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-data-r2dbc&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.0.2&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\r\n**EDIT:**\r\n\r\n1) Also you can try to use `@EnableR2dbcRepositories` and specify the package with your repository.\r\n\r\n2) One more possible way to solve this is to extend your repository from `R2dbcRepository`, instead of `ReactiveCrudRepository`\r\nThis may help when you have multiple spring data reactive modules (r2dbc and something else) being used in the same project. Since `ReactiveCrudRepository` is a generic interface Spring does not know how to properly configure these beans.\r\n","title":"Spring does not see repository during scan on app start","body":"<p>My guess the reason is that you have added r2dbc driver to your project, but haven't added <code>spring-boot-starter-data-r2dbc</code></p>\n<p>So, consider this dependency in your <code>pom.xml</code> file (this is the latest version at the time of writing this answer) :</p>\n<pre><code>&lt;!-- https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-data-r2dbc --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-data-r2dbc&lt;/artifactId&gt;\n    &lt;version&gt;3.0.2&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p><strong>EDIT:</strong></p>\n<ol>\n<li><p>Also you can try to use <code>@EnableR2dbcRepositories</code> and specify the package with your repository.</p>\n</li>\n<li><p>One more possible way to solve this is to extend your repository from <code>R2dbcRepository</code>, instead of <code>ReactiveCrudRepository</code>\nThis may help when you have multiple spring data reactive modules (r2dbc and something else) being used in the same project. Since <code>ReactiveCrudRepository</code> is a generic interface Spring does not know how to properly configure these beans.</p>\n</li>\n</ol>\n"}],"owner":{"account_id":11371334,"reputation":744,"user_id":8336836,"accept_rate":85,"display_name":"Sam Fisher"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":434,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75365907,"answer_count":1,"score":0,"last_activity_date":1675762710,"creation_date":1675697611,"question_id":75363366,"body_markdown":"Have sandbox springboot app. Decided to try reactive approach, `postgres` is used as database, I added r2dbc to the project to make my repository reactive. Here is my code:\r\n\r\n    @SpringBootApplication\r\n    public class Springboot2Application {\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(Springboot2Application.class, args);\r\n\t   }\r\n    }\r\n    \r\n    @Repository\r\n    public interface ToDoRepository extends \r\n                ReactiveCrudRepository&lt;ToDo,String&gt; {\r\n    }\r\n\r\n    @RestController\r\n    @RequestMapping(&quot;/api/v1&quot;)\r\n    public class ToDoController {\r\n        private final ToDoRepository repository;\r\n        public ToDoController(ToDoRepository repository) {\r\n            this.repository = repository;\r\n        }\r\n    \r\n        @GetMapping(value = &quot;/to-do&quot;, produces = {\r\n                MediaType.APPLICATION_JSON_VALUE, \r\n                MediaType.APPLICATION_XML_VALUE, \r\n                MediaType.TEXT_XML_VALUE})\r\n        public ResponseEntity&lt;Flux&lt;ToDo&gt;&gt; getToDos(@RequestHeader \r\n                                              HttpHeaders headers){\r\n            return ResponseEntity.ok().body(repository.findAll());\r\n        }\r\n    }\r\n\r\n    @Data\r\n    @RequiredArgsConstructor\r\n    @Entity\r\n    @Table(name = &quot;todo&quot;)\r\n    public class ToDo {\r\n        @Id\r\n        @NotNull\r\n        @GeneratedValue(generator = &quot;system-uuid&quot;)\r\n        @GenericGenerator(name = &quot;system-uuid&quot;, strategy = &quot;uuid&quot;)\r\n        private String id;\r\n        @NotNull\r\n        @NotBlank\r\n        private String description;\r\n        @CreationTimestamp\r\n        private Timestamp created;\r\n        @UpdateTimestamp\r\n        private Timestamp modified;\r\n        private boolean completed;\r\n    }\r\n\r\nr2dbc config:\r\n\r\n    @Configuration\r\n    @EnableR2dbcRepositories(basePackages = \r\n       &quot;com.springboot2.repository&quot;)\r\n    public class R2DBCConfig extends AbstractR2dbcConfiguration {\r\n    @Bean\r\n    public ConnectionFactory connectionFactory() {\r\n        return ConnectionFactories.get(\r\n                ConnectionFactoryOptions.builder()\r\n                        .option(DRIVER, &quot;postgresql&quot;)\r\n                        .option(HOST, &quot;localhost&quot;)\r\n                        .option(PORT, 5432)\r\n                        .option(USER, &quot;admin&quot;)\r\n                        .option(PASSWORD, &quot;admin&quot;)\r\n                        .option(DATABASE, &quot;springdb&quot;)\r\n                        .build());\r\n       }\r\n     }\r\n\r\n\r\nOn application start I&#39;m getting:\r\n\r\nDescription:\r\n\r\n    Parameter 0 of constructor in com.springboot2.controller.ToDoController required a bean of type &#39;com.springboot2.repository.ToDoRepository&#39; that could not be found.\r\n    \r\n    Action:\r\n    \r\n    Consider defining a bean of type &#39;com.springboot2.repository.ToDoRepository&#39; in your configuration.\r\n\r\nI tried to add `@ComponentsScan`, tried to move `ToDoRepository` to the root near `Springboot2Application`, I dont understand why Spring doesn&#39;t see repository interface\r\n\r\npom.file:\r\n\r\n        &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.7.3&lt;/version&gt;\r\n    \t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \t&lt;groupId&gt;com.springboot&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;springboot&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;name&gt;springboot2&lt;/name&gt;\r\n    \t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n    \t&lt;properties&gt;\r\n    \t\t&lt;java.version&gt;8&lt;/java.version&gt;\r\n    \t\t&lt;spring-cloud.version&gt;2021.0.3&lt;/spring-cloud.version&gt;\r\n    &lt;!--\t\t&lt;spring-shell.version&gt;2.1.0&lt;/spring-shell.version&gt;--&gt;\r\n    \t&lt;/properties&gt;\r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;!--\t\tDB,ORM, and plugins--&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-data-r2dbc&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;io.r2dbc&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;r2dbc-postgresql&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;0.8.1.RELEASE&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;!--\t\tReactive libs--&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;io.projectreactor&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;reactor-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n    \t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;excludes&gt;\r\n    \t\t\t\t\t\t&lt;exclude&gt;\r\n    \t\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n    \t\t\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n    \t\t\t\t\t\t&lt;/exclude&gt;\r\n    \t\t\t\t\t&lt;/excludes&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    &lt;/project&gt;\r\n\r\n","title":"Spring does not see repository during scan on app start","body":"<p>Have sandbox springboot app. Decided to try reactive approach, <code>postgres</code> is used as database, I added r2dbc to the project to make my repository reactive. Here is my code:</p>\n<pre><code>@SpringBootApplication\npublic class Springboot2Application {\npublic static void main(String[] args) {\n    SpringApplication.run(Springboot2Application.class, args);\n   }\n}\n\n@Repository\npublic interface ToDoRepository extends \n            ReactiveCrudRepository&lt;ToDo,String&gt; {\n}\n\n@RestController\n@RequestMapping(&quot;/api/v1&quot;)\npublic class ToDoController {\n    private final ToDoRepository repository;\n    public ToDoController(ToDoRepository repository) {\n        this.repository = repository;\n    }\n\n    @GetMapping(value = &quot;/to-do&quot;, produces = {\n            MediaType.APPLICATION_JSON_VALUE, \n            MediaType.APPLICATION_XML_VALUE, \n            MediaType.TEXT_XML_VALUE})\n    public ResponseEntity&lt;Flux&lt;ToDo&gt;&gt; getToDos(@RequestHeader \n                                          HttpHeaders headers){\n        return ResponseEntity.ok().body(repository.findAll());\n    }\n}\n\n@Data\n@RequiredArgsConstructor\n@Entity\n@Table(name = &quot;todo&quot;)\npublic class ToDo {\n    @Id\n    @NotNull\n    @GeneratedValue(generator = &quot;system-uuid&quot;)\n    @GenericGenerator(name = &quot;system-uuid&quot;, strategy = &quot;uuid&quot;)\n    private String id;\n    @NotNull\n    @NotBlank\n    private String description;\n    @CreationTimestamp\n    private Timestamp created;\n    @UpdateTimestamp\n    private Timestamp modified;\n    private boolean completed;\n}\n</code></pre>\n<p>r2dbc config:</p>\n<pre><code>@Configuration\n@EnableR2dbcRepositories(basePackages = \n   &quot;com.springboot2.repository&quot;)\npublic class R2DBCConfig extends AbstractR2dbcConfiguration {\n@Bean\npublic ConnectionFactory connectionFactory() {\n    return ConnectionFactories.get(\n            ConnectionFactoryOptions.builder()\n                    .option(DRIVER, &quot;postgresql&quot;)\n                    .option(HOST, &quot;localhost&quot;)\n                    .option(PORT, 5432)\n                    .option(USER, &quot;admin&quot;)\n                    .option(PASSWORD, &quot;admin&quot;)\n                    .option(DATABASE, &quot;springdb&quot;)\n                    .build());\n   }\n }\n</code></pre>\n<p>On application start I'm getting:</p>\n<p>Description:</p>\n<pre><code>Parameter 0 of constructor in com.springboot2.controller.ToDoController required a bean of type 'com.springboot2.repository.ToDoRepository' that could not be found.\n\nAction:\n\nConsider defining a bean of type 'com.springboot2.repository.ToDoRepository' in your configuration.\n</code></pre>\n<p>I tried to add <code>@ComponentsScan</code>, tried to move <code>ToDoRepository</code> to the root near <code>Springboot2Application</code>, I dont understand why Spring doesn't see repository interface</p>\n<p>pom.file:</p>\n<pre><code>    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.3&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.springboot&lt;/groupId&gt;\n    &lt;artifactId&gt;springboot&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;springboot2&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;8&lt;/java.version&gt;\n        &lt;spring-cloud.version&gt;2021.0.3&lt;/spring-cloud.version&gt;\n&lt;!--        &lt;spring-shell.version&gt;2.1.0&lt;/spring-shell.version&gt;--&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;!--        DB,ORM, and plugins--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-r2dbc&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.r2dbc&lt;/groupId&gt;\n            &lt;artifactId&gt;r2dbc-postgresql&lt;/artifactId&gt;\n            &lt;version&gt;0.8.1.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;!--        Reactive libs--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.projectreactor&lt;/groupId&gt;\n            &lt;artifactId&gt;reactor-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","gradle","intellij-idea","build.gradle"],"comments":[{"owner":{"account_id":4288694,"reputation":806,"user_id":3505609,"display_name":"Ryotsu"},"score":0,"creation_date":1544154141,"post_id":53662166,"comment_id":94183767,"body_markdown":"could you post the `package` statement for `TestNGMain.java`","body":"could you post the <code>package</code> statement for <code>TestNGMain.java</code>"},{"owner":{"account_id":13784715,"reputation":9,"user_id":9948943,"display_name":"user9948943"},"score":0,"creation_date":1544166119,"post_id":53662166,"comment_id":94187068,"body_markdown":"package ExecutionClass","body":"package ExecutionClass"},{"owner":{"account_id":2078462,"reputation":10342,"user_id":2986984,"accept_rate":80,"display_name":"tkruse"},"score":0,"creation_date":1675762314,"post_id":53662166,"comment_id":132993456,"body_markdown":"See https://stackoverflow.com/questions/51852959","body":"See <a href=\"https://stackoverflow.com/questions/51852959\">stackoverflow.com/questions/51852959</a>"}],"answers":[{"tags":[],"owner":{"account_id":4288694,"reputation":806,"user_id":3505609,"display_name":"Ryotsu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1544178912,"creation_date":1544178912,"answer_id":53667761,"question_id":53662166,"body_markdown":"By default the application plugin only considers the [`main` source set as the application code ][1] for distribution. If you really want to run code in a test source set, then one option is to include the test sources in the main (bad idea)\r\n\r\n    sourceSets {\r\n        main{\r\n            java{\r\n                srcDir(&quot;src/test/java&quot;)\r\n            }\r\n        }\r\n    }\r\n\r\nThe `mainClassName = &quot;&lt;package-name&gt;.&lt;class-name&gt;&quot;` in your case `mainClassName = &quot;ExecutionClass.TestNGMain&quot;`\r\n\r\nAnother way is customize the `main` distribution to include the test files.\r\n\r\n  [1]: https://docs.gradle.org/current/userguide/application_plugin.html","title":"Gradle Run throwing &quot;Error: Could not find or load main class&quot;","body":"<p>By default the application plugin only considers the <a href=\"https://docs.gradle.org/current/userguide/application_plugin.html\" rel=\"nofollow noreferrer\"><code>main</code> source set as the application code </a> for distribution. If you really want to run code in a test source set, then one option is to include the test sources in the main (bad idea)</p>\n\n<pre><code>sourceSets {\n    main{\n        java{\n            srcDir(\"src/test/java\")\n        }\n    }\n}\n</code></pre>\n\n<p>The <code>mainClassName = \"&lt;package-name&gt;.&lt;class-name&gt;\"</code> in your case <code>mainClassName = \"ExecutionClass.TestNGMain\"</code></p>\n\n<p>Another way is customize the <code>main</code> distribution to include the test files.</p>\n"},{"tags":[],"owner":{"account_id":2078462,"reputation":10342,"user_id":2986984,"accept_rate":80,"display_name":"tkruse"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675762667,"creation_date":1675762173,"answer_id":75371319,"question_id":53662166,"body_markdown":"Running a class from src/test is possible using JavaExec, instead of the `application` plugin:\r\n```\r\ntask runExample(type: JavaExec, dependsOn: &quot;compileTestJava&quot;) {\r\n    classpath = sourceSets.test.runtimeClasspath\r\n    mainClass = &quot;com.example.Example&quot;\r\n}\r\n```\r\n\r\nThe purpose of the application plugin is not just to run a class, but to package an application so that it can be deployed, shipped to customers, etc. and it would usually not be desirable to have all the test stuff included at runtime.\r\n\r\nSo it is a generally bad idea to try to use the `application` plugin to run anything that is in `src/test`","title":"Gradle Run throwing &quot;Error: Could not find or load main class&quot;","body":"<p>Running a class from src/test is possible using JavaExec, instead of the <code>application</code> plugin:</p>\n<pre><code>task runExample(type: JavaExec, dependsOn: &quot;compileTestJava&quot;) {\n    classpath = sourceSets.test.runtimeClasspath\n    mainClass = &quot;com.example.Example&quot;\n}\n</code></pre>\n<p>The purpose of the application plugin is not just to run a class, but to package an application so that it can be deployed, shipped to customers, etc. and it would usually not be desirable to have all the test stuff included at runtime.</p>\n<p>So it is a generally bad idea to try to use the <code>application</code> plugin to run anything that is in <code>src/test</code></p>\n"}],"owner":{"account_id":13784715,"reputation":9,"user_id":9948943,"display_name":"user9948943"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":659,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1675762667,"creation_date":1544147436,"question_id":53662166,"body_markdown":"Project Structure is:\r\n\r\n    src\r\n    ---main\r\n    ---test\r\n           ---java\r\n                  ---ExecutionClass\r\n                                    ---TestNGMain.java\r\n\r\nbuild.gradle is like:\r\n\r\n    plugins {\r\n        id &#39;java&#39;\r\n    }\r\n    \r\n    apply plugin: &#39;application&#39;\r\n    mainClassName = &#39;test.java.ExecutionClass.TestNGMain&#39;\r\n    \r\n    jar {\r\n        manifest {\r\n            attributes &#39;Main-Class&#39;: &#39;test.java.ExecutionClass.TestNGMain&#39;\r\n        }\r\n    }\r\n    \r\n    sourceSets {\r\n        test {\r\n            java {\r\n                srcDirs= [&#39;src/test/java&#39;]\r\n            }\r\n            resources {\r\n                srcDirs= [&#39;src/test/resources&#39;]\r\n            }\r\n        }\r\n    }\r\n\r\n\r\ngradle build - works fine\r\n\r\ngradle run - throws error &quot;Couldn&#39;t find or Load main class&quot;\r\n","title":"Gradle Run throwing &quot;Error: Could not find or load main class&quot;","body":"<p>Project Structure is:</p>\n\n<pre><code>src\n---main\n---test\n       ---java\n              ---ExecutionClass\n                                ---TestNGMain.java\n</code></pre>\n\n<p>build.gradle is like:</p>\n\n<pre><code>plugins {\n    id 'java'\n}\n\napply plugin: 'application'\nmainClassName = 'test.java.ExecutionClass.TestNGMain'\n\njar {\n    manifest {\n        attributes 'Main-Class': 'test.java.ExecutionClass.TestNGMain'\n    }\n}\n\nsourceSets {\n    test {\n        java {\n            srcDirs= ['src/test/java']\n        }\n        resources {\n            srcDirs= ['src/test/resources']\n        }\n    }\n}\n</code></pre>\n\n<p>gradle build - works fine</p>\n\n<p>gradle run - throws error \"Couldn't find or Load main class\"</p>\n"},{"tags":["java","oop","design-patterns","uml"],"answers":[{"tags":[],"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1675719387,"creation_date":1675719387,"answer_id":75366820,"question_id":75366160,"body_markdown":"Composition is a specialized form of aggregation. In composition, if the parent object is destroyed, then the child objects also cease to exist. Composition is actually a strong type of aggregation and is sometimes referred to as a “death” relationship.","title":"Why is composition labelled as a subset of aggregation in some illustrations?","body":"<p>Composition is a specialized form of aggregation. In composition, if the parent object is destroyed, then the child objects also cease to exist. Composition is actually a strong type of aggregation and is sometimes referred to as a “death” relationship.</p>\n"},{"tags":[],"owner":{"account_id":4118713,"reputation":35681,"user_id":3379653,"accept_rate":82,"display_name":"qwerty_so"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1675762606,"creation_date":1675762606,"answer_id":75371407,"question_id":75366160,"body_markdown":"Because it&#39;s historical state of the art an not true for UML 2.5. Aggregation as attribute of a Property is explained on p. 110 of UML 2.5:\r\n\r\n&gt;- none | Indicates that the Property has no aggregation semantics.\r\n&gt;- shared | Indicates that the Property has shared aggregation semantics. Precise semantics of shared aggregation varies by application area and modeler.\r\n&gt;- composite | Indicates that the Property is aggregated compositely, i.e., the composite object has responsibility for the existence and storage of the composed objects (see the definition of parts in 11.2.3).\r\n\r\nSo actually both stand side-by-side with _shared_ having no semantics whatsoever. Former UML specs had some definition which made _shared_ some kind of subset. But that is just history. Though, you don&#39;t get it out of people&#39;s heads.\r\n","title":"Why is composition labelled as a subset of aggregation in some illustrations?","body":"<p>Because it's historical state of the art an not true for UML 2.5. Aggregation as attribute of a Property is explained on p. 110 of UML 2.5:</p>\n<blockquote>\n<ul>\n<li>none | Indicates that the Property has no aggregation semantics.</li>\n<li>shared | Indicates that the Property has shared aggregation semantics. Precise semantics of shared aggregation varies by application area and modeler.</li>\n<li>composite | Indicates that the Property is aggregated compositely, i.e., the composite object has responsibility for the existence and storage of the composed objects (see the definition of parts in 11.2.3).</li>\n</ul>\n</blockquote>\n<p>So actually both stand side-by-side with <em>shared</em> having no semantics whatsoever. Former UML specs had some definition which made <em>shared</em> some kind of subset. But that is just history. Though, you don't get it out of people's heads.</p>\n"}],"owner":{"account_id":8172769,"reputation":67,"user_id":6658607,"display_name":"janedoe"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":75371407,"answer_count":2,"score":4,"last_activity_date":1675762606,"creation_date":1675714745,"question_id":75366160,"body_markdown":"Referring to an Image I found online. It labels Composition as a subset of Aggregation.\r\nAs per my understanding Composition is a form of tight coupling like when we instantiate an object inside another object. While Aggregation is a form of loose coupling kind of like a Dependancy Injection. They both seem different so why would Composition be a subset of Aggregation? \r\n\r\nImage:\r\nhttps://algodaily.com/lessons/association-aggregation-composition-casting\r\n\r\n","title":"Why is composition labelled as a subset of aggregation in some illustrations?","body":"<p>Referring to an Image I found online. It labels Composition as a subset of Aggregation.\nAs per my understanding Composition is a form of tight coupling like when we instantiate an object inside another object. While Aggregation is a form of loose coupling kind of like a Dependancy Injection. They both seem different so why would Composition be a subset of Aggregation?</p>\n<p>Image:\n<a href=\"https://algodaily.com/lessons/association-aggregation-composition-casting\" rel=\"nofollow noreferrer\">https://algodaily.com/lessons/association-aggregation-composition-casting</a></p>\n"},{"tags":["java","singleton"],"comments":[{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1675756082,"post_id":75370219,"comment_id":132991700,"body_markdown":"Why do you have a `SingleTon` variable _and_ an inner class?","body":"Why do you have a <code>SingleTon</code> variable <i>and</i> an inner class?"},{"owner":{"account_id":27549496,"reputation":13,"user_id":21024826,"display_name":"shsf"},"score":0,"creation_date":1675756540,"post_id":75370219,"comment_id":132991819,"body_markdown":"Through the inner class loading, the singleton pattern is realized. @dan1st","body":"Through the inner class loading, the singleton pattern is realized. @dan1st"},{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1675756699,"post_id":75370219,"comment_id":132991859,"body_markdown":"I was referring to the variable in [Revision 2](https://stackoverflow.com/revisions/75370219/2) which is now deleted so it doesn&#39;t matter.","body":"I was referring to the variable in <a href=\"https://stackoverflow.com/revisions/75370219/2\">Revision 2</a> which is now deleted so it doesn&#39;t matter."}],"answers":[{"tags":[],"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1675756635,"creation_date":1675756635,"answer_id":75370376,"question_id":75370219,"body_markdown":"A non-static inner class would be semantically equivalent to:\r\n```java\r\nprivate class SingleTon$InnerClass{//private with the exception that everything in SingleTon itself can access everything in InnerClass\r\n    public static SingleTon instance = new SingleTon();\r\n\r\n    private SingleTon this$SingleTon;//not entirely sure about the name\r\n    private SingleTon$InnerClass(SingleTon this$SingleTon){\r\n        this.this$SingleTon=this$SingleTon;\r\n    }\r\n}\r\n```\r\n\r\nWhile a static inner class would be equivalent to:\r\n```java\r\nprivate class SingleTon$InnerClass{//private with the exception that everything in SingleTon itself can access everything in InnerClass\r\n    public static SingleTon instance = new SingleTon();\r\n}\r\n```\r\n\r\nIn other words, making it non-static adds a reference to an instance of the outer class that you don&#39;t need. If you want to create instances of non-static inner classes you need an instance of the outer class for it.\r\n\r\nWhile this doesn&#39;t matter if you just access a `static` field, it is unnecessary to make it non-static.","title":"What is the difference between a static inner class and an inner class in the singleton pattern?","body":"<p>A non-static inner class would be semantically equivalent to:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private class SingleTon$InnerClass{//private with the exception that everything in SingleTon itself can access everything in InnerClass\n    public static SingleTon instance = new SingleTon();\n\n    private SingleTon this$SingleTon;//not entirely sure about the name\n    private SingleTon$InnerClass(SingleTon this$SingleTon){\n        this.this$SingleTon=this$SingleTon;\n    }\n}\n</code></pre>\n<p>While a static inner class would be equivalent to:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private class SingleTon$InnerClass{//private with the exception that everything in SingleTon itself can access everything in InnerClass\n    public static SingleTon instance = new SingleTon();\n}\n</code></pre>\n<p>In other words, making it non-static adds a reference to an instance of the outer class that you don't need. If you want to create instances of non-static inner classes you need an instance of the outer class for it.</p>\n<p>While this doesn't matter if you just access a <code>static</code> field, it is unnecessary to make it non-static.</p>\n"},{"tags":[],"owner":{"account_id":26973585,"reputation":117,"user_id":20539215,"display_name":"VicenteJankowski"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675762221,"creation_date":1675762221,"answer_id":75371333,"question_id":75370219,"body_markdown":"I will add, that in Java it is recommended to create Singleton Classes using ```Enum```. \r\n```java\r\npublic enum SingleTon{\r\n   INSTANCE;\r\n   public void doSomeAction() { ... }\r\n}\r\n```\r\n\r\nAs Joshua Bloch wrote in *Effective Java*:\r\n\r\n&gt; *This approach is functionally equivalent to the public field approach, except that it is more concise, provides the serialization machinery for free, and provides an ironclad guarantee against multiple instantiation, even in the face of sophisticated serialization or reflection attacks. While this approach has yet to be widely adopted, a single-element enum type is the best way to implement a singleton.*\r\n\r\n\r\nYou can read more here [Implementing Singleton with an Enum (in Java)][1] and [Item 3: Enforce the Singleton Property with a Private Constructor or an enum Type][2]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/26285520/implementing-singleton-with-an-enum-in-java\r\n  [2]: https://www.drdobbs.com/jvm/creating-and-destroying-java-objects-par/208403883?pgno=3","title":"What is the difference between a static inner class and an inner class in the singleton pattern?","body":"<p>I will add, that in Java it is recommended to create Singleton Classes using <code>Enum</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public enum SingleTon{\n   INSTANCE;\n   public void doSomeAction() { ... }\n}\n</code></pre>\n<p>As Joshua Bloch wrote in <em>Effective Java</em>:</p>\n<blockquote>\n<p><em>This approach is functionally equivalent to the public field approach, except that it is more concise, provides the serialization machinery for free, and provides an ironclad guarantee against multiple instantiation, even in the face of sophisticated serialization or reflection attacks. While this approach has yet to be widely adopted, a single-element enum type is the best way to implement a singleton.</em></p>\n</blockquote>\n<p>You can read more here <a href=\"https://stackoverflow.com/questions/26285520/implementing-singleton-with-an-enum-in-java\">Implementing Singleton with an Enum (in Java)</a> and <a href=\"https://www.drdobbs.com/jvm/creating-and-destroying-java-objects-par/208403883?pgno=3\" rel=\"nofollow noreferrer\">Item 3: Enforce the Singleton Property with a Private Constructor or an enum Type</a></p>\n"}],"owner":{"account_id":27549496,"reputation":13,"user_id":21024826,"display_name":"shsf"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":75370376,"answer_count":2,"score":-1,"last_activity_date":1675762221,"creation_date":1675755726,"question_id":75370219,"body_markdown":"```java\r\n// java version: java17\r\npublic class SingleTon {\r\n    \r\n    private SingleTon(){}\r\n\r\n    //What is the difference between a static inner class and an inner class in the singleton pattern?\r\n    //private static class InnerClass{\r\n    private class InnerClass{\r\n        public static SingleTon instance = new SingleTon();\r\n    }\r\n    public static SingleTon getInstance(){\r\n        return InnerClass.instance;\r\n    }\r\n}\r\n```\r\n\r\n```java\r\npublic class Test {\r\n    public static void main(String[] args) {\r\n        SingleTon instance1 = SingleTon.getInstance();\r\n        SingleTon instance2 = SingleTon.getInstance();\r\n        System.out.println(instance1 == instance2); //  result: true;\r\n    }\r\n}\r\n```\r\n\r\nEither a static inner class or an inner class makes the same result; \r\n\r\n( https://docs.oracle.com/javase/tutorial/java/javaOO/nested.html )\r\n- I don&#39;t need the instance of the inner class. I only need to invoke the method `clinit` in Class loading phase. \r\n\r\nIs the static inner class necessary in the singleton pattern?\r\n\r\n\r\n","title":"What is the difference between a static inner class and an inner class in the singleton pattern?","body":"<pre class=\"lang-java prettyprint-override\"><code>// java version: java17\npublic class SingleTon {\n    \n    private SingleTon(){}\n\n    //What is the difference between a static inner class and an inner class in the singleton pattern?\n    //private static class InnerClass{\n    private class InnerClass{\n        public static SingleTon instance = new SingleTon();\n    }\n    public static SingleTon getInstance(){\n        return InnerClass.instance;\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public class Test {\n    public static void main(String[] args) {\n        SingleTon instance1 = SingleTon.getInstance();\n        SingleTon instance2 = SingleTon.getInstance();\n        System.out.println(instance1 == instance2); //  result: true;\n    }\n}\n</code></pre>\n<p>Either a static inner class or an inner class makes the same result;</p>\n<p>( <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/nested.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/tutorial/java/javaOO/nested.html</a> )</p>\n<ul>\n<li>I don't need the instance of the inner class. I only need to invoke the method <code>clinit</code> in Class loading phase.</li>\n</ul>\n<p>Is the static inner class necessary in the singleton pattern?</p>\n"},{"tags":["java","sql","jooq"],"comments":[{"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"score":0,"creation_date":1675761853,"post_id":75363142,"comment_id":132993315,"body_markdown":"I&#39;ve answered your *specific* question. You probably have an underlying use-case that leads to your expectations, and it might be useful for you and future readers to discuss that as well, in a separate question. E.g. there&#39;s probably a reason why you want this default in your POJO, but there might be other ways to achieve what you *actually* want to achieve, so maybe, having the default in the POJO isn&#39;t the best way in the first place.","body":"I&#39;ve answered your <i>specific</i> question. You probably have an underlying use-case that leads to your expectations, and it might be useful for you and future readers to discuss that as well, in a separate question. E.g. there&#39;s probably a reason why you want this default in your POJO, but there might be other ways to achieve what you <i>actually</i> want to achieve, so maybe, having the default in the POJO isn&#39;t the best way in the first place."}],"answers":[{"tags":[],"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675761784,"creation_date":1675761784,"answer_id":75371244,"question_id":75363142,"body_markdown":"I&#39;m assuming you have some sort of SQL `DEFAULT` expression on your `CREATE TABLE` statement, such as:\r\n\r\n```sql\r\nCREATE TABLE release_bundle_version (\r\n  ..\r\n  internal smallint DEFAULT 0,\r\n  ..\r\n);\r\n```\r\n\r\nAnd now you&#39;re expecting jOOQ&#39;s code generator to take this `DEFAULT` expression and also generate it in various places of generated code.\r\n\r\nThis has been requested a few times but it isn&#39;t practically possible. While your specific `DEFAULT` value is a constant that *could* be translated to Java code, there is nothing keeping you from using a runtime evaluated expression, e.g. `DEFAULT y + z` (deterministic) or `DEFAULT current_timestamp` (non-deterministic), which would be hard to evaluate in the client.\r\n\r\nAs such, what you&#39;re expecting isn&#39;t possible, and probably won&#39;t be in the future, either.","title":"JOOQ Does Not Respect Default Value Inside the generated POJO&#39;s","body":"<p>I'm assuming you have some sort of SQL <code>DEFAULT</code> expression on your <code>CREATE TABLE</code> statement, such as:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>CREATE TABLE release_bundle_version (\n  ..\n  internal smallint DEFAULT 0,\n  ..\n);\n</code></pre>\n<p>And now you're expecting jOOQ's code generator to take this <code>DEFAULT</code> expression and also generate it in various places of generated code.</p>\n<p>This has been requested a few times but it isn't practically possible. While your specific <code>DEFAULT</code> value is a constant that <em>could</em> be translated to Java code, there is nothing keeping you from using a runtime evaluated expression, e.g. <code>DEFAULT y + z</code> (deterministic) or <code>DEFAULT current_timestamp</code> (non-deterministic), which would be hard to evaluate in the client.</p>\n<p>As such, what you're expecting isn't possible, and probably won't be in the future, either.</p>\n"}],"owner":{"account_id":27717393,"reputation":11,"user_id":21158799,"display_name":"Osaid Wattad"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1675761791,"creation_date":1675696421,"question_id":75363142,"body_markdown":"I&#39;m trying to create a new schema with a new column with a default value not null.\r\nSomehow in the generated DAO, I can see that JOOQ doesn&#39;t respect and delegate the default value.\r\nWould you happen to have any idea how to fix this?\r\nThe generated code looks like this:\r\n\r\n```\r\n@Override\r\npublic ReleaseBundleVersionRecord setInternal(Short value) {\r\n    set(20, value);\r\n    return this;\r\n}\r\n```\r\n\r\nBut I expected to see something like:\r\n\r\n```\r\n@Override\r\npublic ReleaseBundleVersionRecord setInternal(Short value) {\r\n    if(value == null){\r\n         set(1, (short) &quot;anyDefaultValue&quot;);\r\n     }else{\r\n         set(1, value);    \r\n     }\r\n   return this;\r\n}\r\n```\r\n\r\n\r\nPlease your help...\r\n\r\nI expected to get a genearted POJO including my NONNULL default value 0;\r\nSo the genearated POJO should includes the below code:\r\n\r\n```\r\n@Override\r\npublic ReleaseBundleVersionRecord setInternal(Short value) {\r\n    if(value == null){\r\n         set(1, (short) &quot;anyDefaultValue&quot;);\r\n     }else{\r\n         set(1, value);    \r\n     }\r\n   return this;\r\n}\r\n```","title":"JOOQ Does Not Respect Default Value Inside the generated POJO&#39;s","body":"<p>I'm trying to create a new schema with a new column with a default value not null.\nSomehow in the generated DAO, I can see that JOOQ doesn't respect and delegate the default value.\nWould you happen to have any idea how to fix this?\nThe generated code looks like this:</p>\n<pre><code>@Override\npublic ReleaseBundleVersionRecord setInternal(Short value) {\n    set(20, value);\n    return this;\n}\n</code></pre>\n<p>But I expected to see something like:</p>\n<pre><code>@Override\npublic ReleaseBundleVersionRecord setInternal(Short value) {\n    if(value == null){\n         set(1, (short) &quot;anyDefaultValue&quot;);\n     }else{\n         set(1, value);    \n     }\n   return this;\n}\n</code></pre>\n<p>Please your help...</p>\n<p>I expected to get a genearted POJO including my NONNULL default value 0;\nSo the genearated POJO should includes the below code:</p>\n<pre><code>@Override\npublic ReleaseBundleVersionRecord setInternal(Short value) {\n    if(value == null){\n         set(1, (short) &quot;anyDefaultValue&quot;);\n     }else{\n         set(1, value);    \n     }\n   return this;\n}\n</code></pre>\n"},{"tags":["java","database-migration","quarkus","flyway"],"comments":[{"owner":{"account_id":2922228,"reputation":61034,"user_id":2504224,"display_name":"geoand"},"score":0,"creation_date":1675149583,"post_id":75286328,"comment_id":132860962,"body_markdown":"Have you tried using something like `quarkus.flyway.locations=classpath:db/scripts/migrate.sql`?","body":"Have you tried using something like <code>quarkus.flyway.locations=classpath:db&#47;scripts&#47;migrate.sql</code>?"}],"answers":[{"tags":[],"owner":{"account_id":15316970,"reputation":13,"user_id":11050595,"display_name":"Daniel Bj&#248;rkholm"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1675761762,"creation_date":1675761720,"answer_id":75371231,"question_id":75286328,"body_markdown":"It seems I forgot to reference the datasource:\r\n\r\n    quarkus.flyway.myschema.locations=classpath:myschema/baseline,classpath:myschema/migrations, ","title":"Reference SQL scripts in maven dependency using Quarkus Flyway","body":"<p>It seems I forgot to reference the datasource:</p>\n<pre><code>quarkus.flyway.myschema.locations=classpath:myschema/baseline,classpath:myschema/migrations, \n</code></pre>\n"}],"owner":{"account_id":15316970,"reputation":13,"user_id":11050595,"display_name":"Daniel Bj&#248;rkholm"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":176,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75371231,"answer_count":1,"score":0,"last_activity_date":1675761762,"creation_date":1675091512,"question_id":75286328,"body_markdown":"I want Quarkus to execute a flyway migration based on some SQL scripts that I have stored in a separate repository, then packaged into a jar file and published to a private Nexus instance.\r\n\r\nI believe I can point to a specific location using this application property:\r\n\r\n\r\n```\r\nquarkus.flyway.locations=/some/path\r\n```\r\n\r\nBut given this dependency:\r\n\r\n```\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.myorganisartion.db&lt;/groupId&gt;\r\n            &lt;artifactId&gt;myschema&lt;/artifactId&gt;\r\n            &lt;version&gt;18.0.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n```\r\n\r\nWhat would the value of the flyway.locations property be?\r\n\r\nAssume that the folder contains just one folder, containing the .sql files, called myschema.\r\n\r\nThanks in advance!\r\n\r\nI&#39;ve tried googling around and look into quarkus example app, but no luck.\r\n\r\nI see that you can reference the classpath in the property value, but I&#39;m not sure what to put after that, and why?","title":"Reference SQL scripts in maven dependency using Quarkus Flyway","body":"<p>I want Quarkus to execute a flyway migration based on some SQL scripts that I have stored in a separate repository, then packaged into a jar file and published to a private Nexus instance.</p>\n<p>I believe I can point to a specific location using this application property:</p>\n<pre><code>quarkus.flyway.locations=/some/path\n</code></pre>\n<p>But given this dependency:</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;com.myorganisartion.db&lt;/groupId&gt;\n            &lt;artifactId&gt;myschema&lt;/artifactId&gt;\n            &lt;version&gt;18.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>What would the value of the flyway.locations property be?</p>\n<p>Assume that the folder contains just one folder, containing the .sql files, called myschema.</p>\n<p>Thanks in advance!</p>\n<p>I've tried googling around and look into quarkus example app, but no luck.</p>\n<p>I see that you can reference the classpath in the property value, but I'm not sure what to put after that, and why?</p>\n"},{"tags":["java","spring-boot","lombok"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1675755813,"post_id":75370119,"comment_id":132991629,"body_markdown":"If you&#39;re importing a jar it won&#39;t be compiled again so unless it is built using lombok&#39;s annotation processing the getters, setters etc. won&#39;t be there.","body":"If you&#39;re importing a jar it won&#39;t be compiled again so unless it is built using lombok&#39;s annotation processing the getters, setters etc. won&#39;t be there."}],"answers":[{"tags":[],"owner":{"account_id":17228781,"reputation":3548,"user_id":12473843,"display_name":"Sergey Tsypanov"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1675761409,"creation_date":1675757243,"answer_id":75370453,"question_id":75370119,"body_markdown":"First of all you should inspect compiled classes in your jar containing entities and DTOs. If the getters and setters are not there along with the rest of expected Lombok-generated code then check whether annotation processor is applied when the sources are compiled.\r\n\r\nAs soon as you use Gradle I&#39;d suggest to add this line into `dependencies` section of your build file (for the module where the entities and DTOs are kept):\r\n```groovy\r\nannotationProcessor &quot;org.projectlombok:lombok:$lombokVersion&quot;\r\n```\r\nSo your `build.gradle` (for Gradle 7.2) should look like:\r\n```groovy\r\next {\r\n  lombokVersion = &#39;1.18.22&#39;\r\n}\r\n\r\nplugins {\r\n  id &#39;java&#39;\r\n}\r\n\r\ndependencies {\r\n  compileOnly &quot;org.projectlombok:lombok:$lombokVersion&quot;\r\n  annotationProcessor &quot;org.projectlombok:lombok:$lombokVersion&quot;\r\n\r\n  testCompileOnly &quot;org.projectlombok:lombok:$lombokVersion&quot;\r\n  testAnnotationProcessor &quot;org.projectlombok:lombok:$lombokVersion&quot;\r\n}\r\n```\r\n","title":"Why Lombok annotations are not working from shared jar?","body":"<p>First of all you should inspect compiled classes in your jar containing entities and DTOs. If the getters and setters are not there along with the rest of expected Lombok-generated code then check whether annotation processor is applied when the sources are compiled.</p>\n<p>As soon as you use Gradle I'd suggest to add this line into <code>dependencies</code> section of your build file (for the module where the entities and DTOs are kept):</p>\n<pre><code>annotationProcessor &quot;org.projectlombok:lombok:$lombokVersion&quot;\n</code></pre>\n<p>So your <code>build.gradle</code> (for Gradle 7.2) should look like:</p>\n<pre><code>ext {\n  lombokVersion = '1.18.22'\n}\n\nplugins {\n  id 'java'\n}\n\ndependencies {\n  compileOnly &quot;org.projectlombok:lombok:$lombokVersion&quot;\n  annotationProcessor &quot;org.projectlombok:lombok:$lombokVersion&quot;\n\n  testCompileOnly &quot;org.projectlombok:lombok:$lombokVersion&quot;\n  testAnnotationProcessor &quot;org.projectlombok:lombok:$lombokVersion&quot;\n}\n</code></pre>\n"}],"owner":{"account_id":3274297,"reputation":1267,"user_id":2756820,"accept_rate":96,"display_name":"Ram"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":340,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75370453,"answer_count":1,"score":1,"last_activity_date":1675761409,"creation_date":1675755182,"question_id":75370119,"body_markdown":"I have created jar file which contains Hibernate entities along with DTOs. Every DTO has following annotations:\r\n\r\n    @Data\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @Builder\r\n\r\nI build this library using Gradle and use it in the Spring boot projects.\r\nBut the problem is all the above annotations are not working. No getter/setter, constructors etc are available in Spring boot project.\r\n\r\nthis is my entry in build.gradle file in Spring boot projects\r\n\r\n    implementation files(&#39;lib/xxx-entities-1.0.jar&#39;)\r\n\r\nAnnotation processing is enabled in both projects, Lombok is added in both. Still the problem occurs. I am using IntelliJ Idea.\r\n","title":"Why Lombok annotations are not working from shared jar?","body":"<p>I have created jar file which contains Hibernate entities along with DTOs. Every DTO has following annotations:</p>\n<pre><code>@Data\n@NoArgsConstructor\n@AllArgsConstructor\n@Builder\n</code></pre>\n<p>I build this library using Gradle and use it in the Spring boot projects.\nBut the problem is all the above annotations are not working. No getter/setter, constructors etc are available in Spring boot project.</p>\n<p>this is my entry in build.gradle file in Spring boot projects</p>\n<pre><code>implementation files('lib/xxx-entities-1.0.jar')\n</code></pre>\n<p>Annotation processing is enabled in both projects, Lombok is added in both. Still the problem occurs. I am using IntelliJ Idea.</p>\n"},{"tags":["java","spring","postgresql","indexing","jooq"],"comments":[{"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"score":0,"creation_date":1675761469,"post_id":75370754,"comment_id":132993213,"body_markdown":"Might be a bug or a missing feature (not sure if it&#39;s possible to implement given that `meta()` is backed by JDBC&#39;s `DatabaseMetaData`). In any case, you could try reporting it here: https://github.com/jOOQ/jOOQ/issues/new/choose","body":"Might be a bug or a missing feature (not sure if it&#39;s possible to implement given that <code>meta()</code> is backed by JDBC&#39;s <code>DatabaseMetaData</code>). In any case, you could try reporting it here: <a href=\"https://github.com/jOOQ/jOOQ/issues/new/choose\" rel=\"nofollow noreferrer\">github.com/jOOQ/jOOQ/issues/new/choose</a>"}],"owner":{"account_id":27723081,"reputation":1,"user_id":21163235,"display_name":"ogneyar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675761399,"creation_date":1675758958,"question_id":75370754,"body_markdown":"```\r\nimplementation &#39;org.jooq:jooq:3.16.5&#39;\r\nimplementation &#39;org.jooq:jooq-meta:3.16.5&#39;\r\nimplementation &#39;org.jooq:jooq-codegen:3.16.5&#39;\r\nimplementation &#39;org.springframework.boot:spring-boot-starter-jooq:3.0.1&#39;\r\n\r\ndocker         \r\nimage: postgres:14.1\r\n\r\npublic List&lt;Index&gt; getIndexes(String schemaName, String tableName) {\r\n    return d.filterSchemas(schema -&gt;\r\n                    schema.getName().equals(schemaName))\r\n            .filterIndexes(\r\n                    index -&gt; Objects.requireNonNull(index.getTable()).getName()\r\n                                    .equals(tableName))\r\n            .getIndexes();\r\n\r\n// As result\r\n\r\n//SortField&lt;?&gt;[] fields; \r\n//in my index have NullOrdering nullOrdering=null;\r\n\r\n```\r\n\r\nBut when I use SQL\r\n\r\n```sql\r\nSELECT p.name,\r\n       pg_index_column_has_property(&#39;My index Name&#39;::regclass,2,p.name) \r\nFROM unnest(array[\r\n    &#39;nulls_first&#39;,&#39;nulls_last&#39;]) p(name); \r\n```\r\n\r\nI have value true and false \r\n\r\n\r\nWhat could be the problem, how can I solve it?","title":"I use jooq 3.16.5, I get Indexes from Data table by dslContext.meta() But get Index with Sorted Fileld NullOrdering null","body":"<pre><code>implementation 'org.jooq:jooq:3.16.5'\nimplementation 'org.jooq:jooq-meta:3.16.5'\nimplementation 'org.jooq:jooq-codegen:3.16.5'\nimplementation 'org.springframework.boot:spring-boot-starter-jooq:3.0.1'\n\ndocker         \nimage: postgres:14.1\n\npublic List&lt;Index&gt; getIndexes(String schemaName, String tableName) {\n    return d.filterSchemas(schema -&gt;\n                    schema.getName().equals(schemaName))\n            .filterIndexes(\n                    index -&gt; Objects.requireNonNull(index.getTable()).getName()\n                                    .equals(tableName))\n            .getIndexes();\n\n// As result\n\n//SortField&lt;?&gt;[] fields; \n//in my index have NullOrdering nullOrdering=null;\n\n</code></pre>\n<p>But when I use SQL</p>\n<pre class=\"lang-sql prettyprint-override\"><code>SELECT p.name,\n       pg_index_column_has_property('My index Name'::regclass,2,p.name) \nFROM unnest(array[\n    'nulls_first','nulls_last']) p(name); \n</code></pre>\n<p>I have value true and false</p>\n<p>What could be the problem, how can I solve it?</p>\n"},{"tags":["java","list","arraylist","collections","capacity"],"comments":[{"owner":{"account_id":2818342,"reputation":299848,"user_id":2422776,"display_name":"Mureinik"},"score":1,"creation_date":1494176390,"post_id":43834195,"comment_id":74705109,"body_markdown":"An `ArrayList` is a `List` implementation backed by an array - so, you&#39;re actually asking what&#39;s the largest array you can create. See http://stackoverflow.com/questions/3038392/do-java-arrays-have-a-maximum-size for some discussion on this.","body":"An <code>ArrayList</code> is a <code>List</code> implementation backed by an array - so, you&#39;re actually asking what&#39;s the largest array you can create. See <a href=\"http://stackoverflow.com/questions/3038392/do-java-arrays-have-a-maximum-size\" title=\"do java arrays have a maximum size\">stackoverflow.com/questions/3038392/&hellip;</a> for some discussion on this."},{"owner":{"account_id":57717,"reputation":2764,"user_id":172885,"display_name":"Daniel"},"score":0,"creation_date":1494213103,"post_id":43834195,"comment_id":74714481,"body_markdown":"You need to define what language you are talking about","body":"You need to define what language you are talking about"},{"owner":{"account_id":957044,"reputation":47672,"user_id":982161,"accept_rate":63,"display_name":"ΦXocę 웃 Пepe&#250;pa ツ"},"score":0,"creation_date":1497448134,"post_id":43834195,"comment_id":76083973,"body_markdown":"why is this question not getting an answer???","body":"why is this question not getting an answer???"}],"answers":[{"tags":[],"owner":{"account_id":957044,"reputation":47672,"user_id":982161,"accept_rate":63,"display_name":"ΦXocę 웃 Пepe&#250;pa ツ"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1597058304,"creation_date":1497448113,"answer_id":44546701,"question_id":43834195,"body_markdown":"Look in the source code:\r\n\r\n    public ArrayList(int initialCapacity) {\r\n        if (initialCapacity &gt; 0) {\r\n            this.elementData = new Object[initialCapacity];\r\n        } else if (initialCapacity == 0) {\r\n            this.elementData = EMPTY_ELEMENTDATA;\r\n        } else {\r\n            throw new IllegalArgumentException(&quot;Illegal Capacity: &quot;+\r\n                                               initialCapacity);\r\n        }\r\n    }\r\n\r\nand you will see the relevant part here:\r\n    \r\n    this.elementData = new Object[initialCapacity];\r\n\r\nso the array list can at most so many elements as an array can hold.\r\n\r\nthe next question may arise: ***but then, how many elements can hold an array?***\r\n\r\nthe answer is: it depends on what VM are you writing the code:\r\n\r\nin JDK8:\r\n\r\n    /**\r\n     * The maximum size of array to allocate.\r\n     * Some VMs reserve some header words in an array.\r\n     * Attempts to allocate larger arrays may result in\r\n     * OutOfMemoryError: Requested array size exceeds VM limit\r\n     */\r\n    private static final int MAX_ARRAY_SIZE = Integer.MAX_VALUE - 8;\r\n\r\n\r\nwhere \r\n\r\n     /**\r\n     * A constant holding the maximum value an {@code int} can\r\n     * have, 2&lt;sup&gt;31&lt;/sup&gt;-1.\r\n     */\r\n    @Native public static final int   MAX_VALUE = 0x7fffffff;\r\n","title":"What is the max capacity of an ArrayList?","body":"<p>Look in the source code:</p>\n<pre><code>public ArrayList(int initialCapacity) {\n    if (initialCapacity &gt; 0) {\n        this.elementData = new Object[initialCapacity];\n    } else if (initialCapacity == 0) {\n        this.elementData = EMPTY_ELEMENTDATA;\n    } else {\n        throw new IllegalArgumentException(&quot;Illegal Capacity: &quot;+\n                                           initialCapacity);\n    }\n}\n</code></pre>\n<p>and you will see the relevant part here:</p>\n<pre><code>this.elementData = new Object[initialCapacity];\n</code></pre>\n<p>so the array list can at most so many elements as an array can hold.</p>\n<p>the next question may arise: <em><strong>but then, how many elements can hold an array?</strong></em></p>\n<p>the answer is: it depends on what VM are you writing the code:</p>\n<p>in JDK8:</p>\n<pre><code>/**\n * The maximum size of array to allocate.\n * Some VMs reserve some header words in an array.\n * Attempts to allocate larger arrays may result in\n * OutOfMemoryError: Requested array size exceeds VM limit\n */\nprivate static final int MAX_ARRAY_SIZE = Integer.MAX_VALUE - 8;\n</code></pre>\n<p>where</p>\n<pre><code> /**\n * A constant holding the maximum value an {@code int} can\n * have, 2&lt;sup&gt;31&lt;/sup&gt;-1.\n */\n@Native public static final int   MAX_VALUE = 0x7fffffff;\n</code></pre>\n"}],"owner":{"account_id":10848263,"reputation":31,"user_id":7976979,"display_name":"Javamania"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1618,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1675761340,"creation_date":1494176252,"question_id":43834195,"body_markdown":"I know that the initial capacity of an ArrayList is 10. When this limit is exceeded, a new ArrayList is created with the capacity of `(oldcapacity * 3 / 2) + 1`, and the elements are copied over.\r\n\r\nBut what is the **maximum** capacity of an ArrayList? \r\n\r\nI was asked this question in an interview. The interviewer was not interested in the default initial capacity, but wanted to know the maximum capacity of an ArrayList.","title":"What is the max capacity of an ArrayList?","body":"<p>I know that the initial capacity of an ArrayList is 10. When this limit is exceeded, a new ArrayList is created with the capacity of <code>(oldcapacity * 3 / 2) + 1</code>, and the elements are copied over.</p>\n\n<p>But what is the <strong>maximum</strong> capacity of an ArrayList? </p>\n\n<p>I was asked this question in an interview. The interviewer was not interested in the default initial capacity, but wanted to know the maximum capacity of an ArrayList.</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":11265,"reputation":2475,"user_id":21647,"accept_rate":50,"display_name":"trshiv"},"down_vote_count":0,"up_vote_count":90,"is_accepted":false,"score":90,"last_activity_date":1427242510,"creation_date":1250570865,"answer_id":1291852,"question_id":1291836,"body_markdown":"The short answer:\r\n\r\nBoth maps are thread-safe implementations of the `Map` interface. `ConcurrentHashMap` is implemented for higher throughput in cases where high concurrency is expected.\r\n\r\nBrian Goetz&#39;s [article][1] on the idea behind `ConcurrentHashMap` is a very good read. Highly recommended.\r\n\r\n\r\n  [1]: http://www.ibm.com/developerworks/java/library/j-jtp08223/index.html","title":"ConcurrentHashMap vs Synchronized HashMap","body":"<p>The short answer:</p>\n\n<p>Both maps are thread-safe implementations of the <code>Map</code> interface. <code>ConcurrentHashMap</code> is implemented for higher throughput in cases where high concurrency is expected.</p>\n\n<p>Brian Goetz's <a href=\"http://www.ibm.com/developerworks/java/library/j-jtp08223/index.html\" rel=\"noreferrer\">article</a> on the idea behind <code>ConcurrentHashMap</code> is a very good read. Highly recommended.</p>\n"},{"tags":[],"owner":{"account_id":62111,"reputation":40153,"user_id":184730,"accept_rate":72,"display_name":"fastcodejava"},"down_vote_count":0,"up_vote_count":36,"is_accepted":false,"score":36,"last_activity_date":1275053749,"creation_date":1275053749,"answer_id":2929410,"question_id":1291836,"body_markdown":"`ConcurrentHashMap` is thread safe without synchronizing the whole map. Reads can happen very fast while write is done with a lock.","title":"ConcurrentHashMap vs Synchronized HashMap","body":"<p><code>ConcurrentHashMap</code> is thread safe without synchronizing the whole map. Reads can happen very fast while write is done with a lock.</p>\n"},{"tags":[],"owner":{"account_id":1923293,"reputation":10359,"user_id":1734279,"accept_rate":75,"display_name":"rai.skumar"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1360766819,"creation_date":1360766819,"answer_id":14856151,"question_id":1291836,"body_markdown":"`ConcurrentHashMap` uses finer-grained locking mechanism known as `lock stripping` to allow greater degree of shared access. Due to this it provides better **concurrency** and **scalability**.\r\n\r\nAlso iterators returned for `ConcurrentHashMap` are **weakly consistent** instead of **fail fast technique** used by Synchronized HashMap. ","title":"ConcurrentHashMap vs Synchronized HashMap","body":"<p><code>ConcurrentHashMap</code> uses finer-grained locking mechanism known as <code>lock stripping</code> to allow greater degree of shared access. Due to this it provides better <strong>concurrency</strong> and <strong>scalability</strong>.</p>\n\n<p>Also iterators returned for <code>ConcurrentHashMap</code> are <strong>weakly consistent</strong> instead of <strong>fail fast technique</strong> used by Synchronized HashMap. </p>\n"},{"tags":[],"owner":{"account_id":3552810,"reputation":1676,"user_id":2967275,"display_name":"Joey.zhgw"},"down_vote_count":0,"up_vote_count":166,"is_accepted":true,"score":166,"last_activity_date":1675761145,"creation_date":1386311531,"answer_id":20417527,"question_id":1291836,"body_markdown":"Synchronized `HashMap`：\r\n\r\n 1. Each method is synchronized using an *`object level lock`*. So the get and put methods on synchMap acquire a lock.\r\n\r\n 2. Locking the entire collection is a performance overhead. While one thread holds on to the lock, no other thread can use the collection.\r\n\r\n`ConcurrentHashMap` was introduced in JDK 5. \r\n\r\n 1. There is no locking at the object level,The locking is at a much finer granularity. For a `ConcurrentHashMap`, the locks may be at a *`hashmap bucket level`*.\r\n\r\n 2. The effect of lower level locking is that you can have concurrent readers and writers which is not possible for synchronized collections. This leads too much more scalability.\r\n\r\n 3. `ConcurrentHashMap` does not throw a `ConcurrentModificationException` if one thread tries to modify it while another is iterating over it.\r\n\r\nThis article [Java 7: HashMap vs ConcurrentHashMap][1]  is a very good read. Highly recommended.\r\n\r\n\r\n  [1]: https://dzone.com/articles/java-7-hashmap-vs","title":"ConcurrentHashMap vs Synchronized HashMap","body":"<p>Synchronized <code>HashMap</code>：</p>\n<ol>\n<li><p>Each method is synchronized using an <em><code>object level lock</code></em>. So the get and put methods on synchMap acquire a lock.</p>\n</li>\n<li><p>Locking the entire collection is a performance overhead. While one thread holds on to the lock, no other thread can use the collection.</p>\n</li>\n</ol>\n<p><code>ConcurrentHashMap</code> was introduced in JDK 5.</p>\n<ol>\n<li><p>There is no locking at the object level,The locking is at a much finer granularity. For a <code>ConcurrentHashMap</code>, the locks may be at a <em><code>hashmap bucket level</code></em>.</p>\n</li>\n<li><p>The effect of lower level locking is that you can have concurrent readers and writers which is not possible for synchronized collections. This leads too much more scalability.</p>\n</li>\n<li><p><code>ConcurrentHashMap</code> does not throw a <code>ConcurrentModificationException</code> if one thread tries to modify it while another is iterating over it.</p>\n</li>\n</ol>\n<p>This article <a href=\"https://dzone.com/articles/java-7-hashmap-vs\" rel=\"nofollow noreferrer\">Java 7: HashMap vs ConcurrentHashMap</a>  is a very good read. Highly recommended.</p>\n"},{"tags":[],"owner":{"account_id":474223,"reputation":567,"user_id":883770,"accept_rate":0,"display_name":"Renukeswar"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1433502110,"creation_date":1403166064,"answer_id":24301892,"question_id":1291836,"body_markdown":"Methods on `SynchronizedMap` hold the lock on the object, whereas in `ConcurrentHashMap` there&#39;s a concept of &quot;lock striping&quot; where locks are held on buckets of the contents instead. Thus improved scalability and performance. ","title":"ConcurrentHashMap vs Synchronized HashMap","body":"<p>Methods on <code>SynchronizedMap</code> hold the lock on the object, whereas in <code>ConcurrentHashMap</code> there's a concept of \"lock striping\" where locks are held on buckets of the contents instead. Thus improved scalability and performance. </p>\n"},{"tags":[],"owner":{"account_id":4910701,"reputation":301,"user_id":3956085,"display_name":"NarayanaReddy"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1489635566,"creation_date":1408528619,"answer_id":25401818,"question_id":1291836,"body_markdown":"   **ConcurrentHashMap :**\r\n\r\n1)Both maps are thread-safe implementations of the Map interface.\r\n\r\n2)ConcurrentHashMap is implemented for higher throughput in cases where high concurrency is expected.  \r\n\r\n3) There is no locking in object level.  \r\n\r\n **Synchronized Hash Map:**\r\n\r\n1) Each method is synchronized using an object level lock. \r\n\r\n\r\n\r\n\r\n","title":"ConcurrentHashMap vs Synchronized HashMap","body":"<p><strong>ConcurrentHashMap :</strong></p>\n\n<p>1)Both maps are thread-safe implementations of the Map interface.</p>\n\n<p>2)ConcurrentHashMap is implemented for higher throughput in cases where high concurrency is expected.  </p>\n\n<p>3) There is no locking in object level.  </p>\n\n<p><strong>Synchronized Hash Map:</strong></p>\n\n<p>1) Each method is synchronized using an object level lock. </p>\n"},{"tags":[],"owner":{"account_id":4904867,"reputation":628,"user_id":3951861,"display_name":"Ashraf.Shk786"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1409322785,"creation_date":1409322785,"answer_id":25570488,"question_id":1291836,"body_markdown":"Both are synchronized version of HashMap, with difference in their core functionality and their internal structure.\r\n\r\n**ConcurrentHashMap** consist of internal segments which can be viewed as independent HashMaps  Conceptually.\r\nAll such segments can be locked by separate threads in high concurrent executions.\r\nSo, multiple threads can get/put key-value pairs from ConcurrentHashMap without blocking/waiting for each other.\r\nThis is implemented for higher throughput.\r\n\r\nwhereas\r\n\r\n**Collections.synchronizedMap()**, we get a synchronized version of HashMap and it is accessed in blocking manner. This means if multiple threads try to access synchronizedMap at same time, they will be allowed to get/put key-value pairs one at a time in synchronized manner.","title":"ConcurrentHashMap vs Synchronized HashMap","body":"<p>Both are synchronized version of HashMap, with difference in their core functionality and their internal structure.</p>\n\n<p><strong>ConcurrentHashMap</strong> consist of internal segments which can be viewed as independent HashMaps  Conceptually.\nAll such segments can be locked by separate threads in high concurrent executions.\nSo, multiple threads can get/put key-value pairs from ConcurrentHashMap without blocking/waiting for each other.\nThis is implemented for higher throughput.</p>\n\n<p>whereas</p>\n\n<p><strong>Collections.synchronizedMap()</strong>, we get a synchronized version of HashMap and it is accessed in blocking manner. This means if multiple threads try to access synchronizedMap at same time, they will be allowed to get/put key-value pairs one at a time in synchronized manner.</p>\n"},{"tags":[],"owner":{"account_id":5036338,"reputation":1142,"user_id":4044987,"display_name":"Sumanth Varada"},"down_vote_count":0,"up_vote_count":33,"is_accepted":false,"score":33,"last_activity_date":1590219750,"creation_date":1489062719,"answer_id":42695501,"question_id":1291836,"body_markdown":"We can achieve thread safety by using both ConcurrentHashMap and synchronisedHashmap. But there is a lot of difference if you look at their architecture.\r\n\r\n 1. **synchronisedHashmap**\r\n    \r\n\r\n&gt; It will maintain the lock at the object level. So if you want to perform any operation like put/get then you have to acquire the lock first. At the same time, other threads are not allowed to perform any operation. So at a time, only one thread can operate on this. So the waiting time will increase here. We can say that performance is relatively low when you are comparing with ConcurrentHashMap.\r\n\r\n\r\n 2. **ConcurrentHashMap**\r\n\r\n&gt; It will maintain the lock at the segment level. It has 16 segments and maintains the concurrency level as 16 by default. So at a time, 16 threads can be able to operate on ConcurrentHashMap. Moreover, read operation doesn&#39;t require a lock. So any number of threads can perform a get operation on it. \r\n&gt; \r\n&gt; If thread1 wants to perform put operation in segment 2 and thread2 wants to perform put operation on segment 4 then it is allowed here. Means, 16 threads can perform update(put/delete) operation on ConcurrentHashMap at a time.\r\n&gt; \r\n&gt; So that the waiting time will be less here. Hence the performance is relatively better than synchronisedHashmap.\r\n\r\n","title":"ConcurrentHashMap vs Synchronized HashMap","body":"<p>We can achieve thread safety by using both ConcurrentHashMap and synchronisedHashmap. But there is a lot of difference if you look at their architecture.</p>\n\n<ol>\n<li><strong>synchronisedHashmap</strong></li>\n</ol>\n\n<blockquote>\n  <p>It will maintain the lock at the object level. So if you want to perform any operation like put/get then you have to acquire the lock first. At the same time, other threads are not allowed to perform any operation. So at a time, only one thread can operate on this. So the waiting time will increase here. We can say that performance is relatively low when you are comparing with ConcurrentHashMap.</p>\n</blockquote>\n\n<ol start=\"2\">\n<li><strong>ConcurrentHashMap</strong></li>\n</ol>\n\n<blockquote>\n  <p>It will maintain the lock at the segment level. It has 16 segments and maintains the concurrency level as 16 by default. So at a time, 16 threads can be able to operate on ConcurrentHashMap. Moreover, read operation doesn't require a lock. So any number of threads can perform a get operation on it. </p>\n  \n  <p>If thread1 wants to perform put operation in segment 2 and thread2 wants to perform put operation on segment 4 then it is allowed here. Means, 16 threads can perform update(put/delete) operation on ConcurrentHashMap at a time.</p>\n  \n  <p>So that the waiting time will be less here. Hence the performance is relatively better than synchronisedHashmap.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":4448063,"reputation":2887,"user_id":3620833,"accept_rate":67,"display_name":"Vino"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1505311270,"creation_date":1505311270,"answer_id":46199612,"question_id":1291836,"body_markdown":"***ConcurrentHashMap*** allows concurrent access to data. Whole map is divided into segments. \r\n\r\nRead operation ie. `get(Object key)` is not synchronized even at segment level. \r\n\r\nBut write operations ie. `remove(Object key), get(Object key)` acquire lock at segment level. Only part of whole map is locked, other threads still can read values from various segments except locked one.\r\n\r\n**SynchronizedMap** on the other hand, acquire lock at object level. All threads should wait for current thread irrespective of operation(Read/Write).\r\n\r\n","title":"ConcurrentHashMap vs Synchronized HashMap","body":"<p><strong><em>ConcurrentHashMap</em></strong> allows concurrent access to data. Whole map is divided into segments. </p>\n\n<p>Read operation ie. <code>get(Object key)</code> is not synchronized even at segment level. </p>\n\n<p>But write operations ie. <code>remove(Object key), get(Object key)</code> acquire lock at segment level. Only part of whole map is locked, other threads still can read values from various segments except locked one.</p>\n\n<p><strong>SynchronizedMap</strong> on the other hand, acquire lock at object level. All threads should wait for current thread irrespective of operation(Read/Write).</p>\n"},{"tags":[],"owner":{"account_id":2509230,"reputation":1396,"user_id":4576274,"display_name":"Pramod"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1530701460,"creation_date":1530701460,"answer_id":51171900,"question_id":1291836,"body_markdown":"As per java doc&#39;s\r\n\r\n&gt; Hashtable and Collections.synchronizedMap(new HashMap()) are\r\n&gt; synchronized. But ConcurrentHashMap is &quot;concurrent&quot;. \r\n&gt; \r\nA concurrent collection is thread-safe, but not governed by a single exclusion lock. \r\n&gt; \r\nIn the particular case of ConcurrentHashMap, it safely permits\r\n&gt; any number of concurrent reads as well as a tunable number of\r\n&gt; concurrent writes. &quot;Synchronized&quot; classes can be useful when you need\r\n&gt; to prevent all access to a collection via a single lock, at the\r\n&gt; expense of poorer scalability. \r\n&gt;\r\nIn other cases in which multiple\r\n&gt; threads are expected to access a common collection, &quot;concurrent&quot;\r\n&gt; versions are normally preferable. And unsynchronized collections are\r\n&gt; preferable when either collections are unshared, or are accessible\r\n&gt; only when holding other locks.","title":"ConcurrentHashMap vs Synchronized HashMap","body":"<p>As per java doc's</p>\n\n<blockquote>\n  <p>Hashtable and Collections.synchronizedMap(new HashMap()) are\n  synchronized. But ConcurrentHashMap is \"concurrent\". </p>\n  \n  <p>A concurrent collection is thread-safe, but not governed by a single exclusion lock. </p>\n  \n  <p>In the particular case of ConcurrentHashMap, it safely permits\n  any number of concurrent reads as well as a tunable number of\n  concurrent writes. \"Synchronized\" classes can be useful when you need\n  to prevent all access to a collection via a single lock, at the\n  expense of poorer scalability. </p>\n  \n  <p>In other cases in which multiple\n  threads are expected to access a common collection, \"concurrent\"\n  versions are normally preferable. And unsynchronized collections are\n  preferable when either collections are unshared, or are accessible\n  only when holding other locks.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":8171222,"reputation":163,"user_id":6151609,"display_name":"liaoming"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1533961843,"creation_date":1533961843,"answer_id":51796473,"question_id":1291836,"body_markdown":"[A simple performance test for ConcurrentHashMap vs Synchronized HashMap\r\n][1]. The test flow is calling `put` in one thread and calling `get` in three threads on `Map` concurrently. As @trshiv said, ConcurrentHashMap has higher throughput and speed for whose reading operation without lock. The result is when operation times is over `10^7`, ConcurrentHashMap is `2x` faster than Synchronized HashMap.\r\n\r\n  [1]: https://gist.github.com/CoderInOne/3e5bf2f179d29d5cdd426d133fbc0dbf","title":"ConcurrentHashMap vs Synchronized HashMap","body":"<p><a href=\"https://gist.github.com/CoderInOne/3e5bf2f179d29d5cdd426d133fbc0dbf\" rel=\"nofollow noreferrer\">A simple performance test for ConcurrentHashMap vs Synchronized HashMap\n</a>. The test flow is calling <code>put</code> in one thread and calling <code>get</code> in three threads on <code>Map</code> concurrently. As @trshiv said, ConcurrentHashMap has higher throughput and speed for whose reading operation without lock. The result is when operation times is over <code>10^7</code>, ConcurrentHashMap is <code>2x</code> faster than Synchronized HashMap.</p>\n"},{"tags":[],"owner":{"account_id":5144206,"reputation":10678,"user_id":4120631,"accept_rate":33,"display_name":"Joby Wilson Mathews"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1592721302,"creation_date":1592721302,"answer_id":62495234,"question_id":1291836,"body_markdown":"`SynchronizedMap` and `ConcurrentHashMap` are both thread safe class and can be used in multithreaded application, the main difference between them is regarding how they achieve thread safety.\r\n\r\n`SynchronizedMap` acquires lock on the entire Map instance , while `ConcurrentHashMap` divides the Map instance into multiple segments and locking is done on those.\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ispBj.png\r\n  [2]: https://i.stack.imgur.com/lHziT.png","title":"ConcurrentHashMap vs Synchronized HashMap","body":"<p><code>SynchronizedMap</code> and <code>ConcurrentHashMap</code> are both thread safe class and can be used in multithreaded application, the main difference between them is regarding how they achieve thread safety.</p>\n<p><code>SynchronizedMap</code> acquires lock on the entire Map instance , while <code>ConcurrentHashMap</code> divides the Map instance into multiple segments and locking is done on those.</p>\n<p><a href=\"https://i.stack.imgur.com/ispBj.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/ispBj.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/lHziT.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/lHziT.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":11934700,"reputation":73,"user_id":8733627,"display_name":"Sankarasai"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1607939867,"creation_date":1607939867,"answer_id":65286922,"question_id":1291836,"body_markdown":"**Synchronized HashMap**\r\n1. **Lock mechanism** - It Locks the whole map, so Multiple threads can&#39;t access the map concurrently. So, performance is relatively less.\r\n\r\n2.**Null key or Value** - It will allow null as a key or value. \r\n\r\n3.**Concurrent modification exception** - Iterator return by synchronized map throws concurrent modification exception\r\n\r\n**ConcurrentHashMap** \r\n\r\n1.**Lock mechanism** -Locks the portion, Concurrent hashmap allows concurrent read and write. So performance is relatively better than a synchronized map\r\n\r\n2.**Null key or Value** - It doesn&#39;t allow null as a key or value. If you use it will throw java.lang.**NullPointerException** at Runtime.\r\n\r\n3.**Concurrent modification exception** - It doesn&#39;t throw concurrent modification exceptions. \r\n\r\n\r\n    import java.util.Map;\r\n    import java.util.concurrent.ConcurrentHashMap;\r\n    \r\n    public class Ex_ConcurrentHashMap {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\t\r\n    \t\tMap&lt;String, String&gt; map = new ConcurrentHashMap&lt;&gt;();\r\n    \t\tmap.put(&quot;one&quot;, &quot;one&quot;);\r\n    \t\tmap.put(&quot;two&quot;, &quot;two&quot;);\r\n    \t\tmap.put(&quot;three&quot;, &quot;three&quot;);\r\n    \t\tSystem.out.println(&quot;1st  map : &quot;+map);\r\n    \t\tString key = null;\r\n    \t\tfor(Map.Entry&lt;String, String&gt; itr : map.entrySet())\r\n    \t\t{\r\n    \t\t\tkey = itr.getKey();\r\n    \t\t\tif(&quot;three&quot;.equals(key))\r\n    \t\t\t{\r\n    \t\t\t\tmap.put(&quot;FOUR&quot;, &quot;FOUR&quot;);\r\n    \t\t\t}\r\n    \t\t\tSystem.out.println(key+&quot; ::: &quot;+itr.getValue());\r\n    \t\t}\r\n    \t\tSystem.out.println(&quot;2nd  map : &quot;+map);\r\n    \t\t//map.put(&quot;FIVE&quot;, null);//java.lang.NullPointerException\r\n    \t\tmap.put(null, &quot;FIVE&quot;);//java.lang.NullPointerException\r\n    \t\tSystem.out.println(&quot;3rd  map : &quot;+map);\r\n    \t}\r\n    }\r\n\r\n[![enter image description here][1]][1]\r\n\r\n**Synchronized HashMap Example**\r\n\r\n\r\n    import java.util.Collections;\r\n    import java.util.HashMap;\r\n    import java.util.Iterator;\r\n    import java.util.Map;\r\n    import java.util.Map.Entry;\r\n    \r\n    public class Ex_Synchronizedmap {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\t\r\n    \t\tMap&lt;String, String&gt; map = new HashMap&lt;&gt;();\r\n    \t\t\r\n    \t\tmap.put(&quot;one&quot;, &quot;one&quot;);\r\n    \t\tmap.put(&quot;two&quot;, &quot;two&quot;);\r\n    \t\tmap.put(&quot;three&quot;, &quot;three&quot;);\r\n    \t\tmap.put(&quot;FOUR&quot;, null);\r\n    \t\tmap.put(null, &quot;FIVE&quot;);\r\n    \t\t\r\n    \t\tSystem.out.println(&quot;map : &quot;+map);\r\n    \t\t\r\n    \t\tMap&lt;String, String&gt; map1 = \r\n    \t\t\t\tCollections.synchronizedMap(map);\r\n    \t\tSystem.out.println(&quot;map1 : &quot;+map1);\r\n    \t\t\r\n    \t\tString key = null;\r\n    \t\tfor(Map.Entry&lt;String, String&gt; itr : map1.entrySet())\r\n    \t\t{\r\n    \t\t\tkey = itr.getKey();\r\n    \t\t\tif(&quot;three&quot;.equals(key))\r\n    \t\t\t{\r\n    \t\t\t\tmap1.put(&quot;ABC&quot;, &quot;ABC&quot;);\r\n    \t\t\t}\r\n    \t\t\tSystem.out.println(key+&quot; ::: &quot;+itr.getValue());\r\n    \t\t}\r\n    \t\t\r\n    \t\tSystem.out.println(&quot;New Map :: &quot;+map1);\r\n    \t\t\r\n    \t\t\r\n    \t\t\r\n    \t\tIterator&lt;Entry&lt;String, String&gt;&gt; iterator = map1.entrySet().iterator();\r\n    \t\tint i = 0;\r\n    \t\twhile(iterator.hasNext())\r\n    \t\t{\r\n    \t\t\tif(i == 1)\r\n    \t\t\t{\r\n    \t\t\t\tmap1.put(&quot;XYZ&quot;, &quot;XYZ&quot;);\r\n    \t\t\t}\r\n    \t\t\tEntry&lt;String, String&gt; next = iterator.next();\r\n    \t\t\tSystem.out.println(next.getKey()+&quot; :: &quot;+next.getValue());\r\n    \t\t\ti++;\r\n    \t\t}\r\n    \t}\r\n    \r\n    }\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/bfdEs.jpg\r\n  [2]: https://i.stack.imgur.com/mtG7H.jpg","title":"ConcurrentHashMap vs Synchronized HashMap","body":"<p><strong>Synchronized HashMap</strong></p>\n<ol>\n<li><strong>Lock mechanism</strong> - It Locks the whole map, so Multiple threads can't access the map concurrently. So, performance is relatively less.</li>\n</ol>\n<p>2.<strong>Null key or Value</strong> - It will allow null as a key or value.</p>\n<p>3.<strong>Concurrent modification exception</strong> - Iterator return by synchronized map throws concurrent modification exception</p>\n<p><strong>ConcurrentHashMap</strong></p>\n<p>1.<strong>Lock mechanism</strong> -Locks the portion, Concurrent hashmap allows concurrent read and write. So performance is relatively better than a synchronized map</p>\n<p>2.<strong>Null key or Value</strong> - It doesn't allow null as a key or value. If you use it will throw java.lang.<strong>NullPointerException</strong> at Runtime.</p>\n<p>3.<strong>Concurrent modification exception</strong> - It doesn't throw concurrent modification exceptions.</p>\n<pre><code>import java.util.Map;\nimport java.util.concurrent.ConcurrentHashMap;\n\npublic class Ex_ConcurrentHashMap {\n\n    public static void main(String[] args) {\n        \n        Map&lt;String, String&gt; map = new ConcurrentHashMap&lt;&gt;();\n        map.put(&quot;one&quot;, &quot;one&quot;);\n        map.put(&quot;two&quot;, &quot;two&quot;);\n        map.put(&quot;three&quot;, &quot;three&quot;);\n        System.out.println(&quot;1st  map : &quot;+map);\n        String key = null;\n        for(Map.Entry&lt;String, String&gt; itr : map.entrySet())\n        {\n            key = itr.getKey();\n            if(&quot;three&quot;.equals(key))\n            {\n                map.put(&quot;FOUR&quot;, &quot;FOUR&quot;);\n            }\n            System.out.println(key+&quot; ::: &quot;+itr.getValue());\n        }\n        System.out.println(&quot;2nd  map : &quot;+map);\n        //map.put(&quot;FIVE&quot;, null);//java.lang.NullPointerException\n        map.put(null, &quot;FIVE&quot;);//java.lang.NullPointerException\n        System.out.println(&quot;3rd  map : &quot;+map);\n    }\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/bfdEs.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bfdEs.jpg\" alt=\"enter image description here\" /></a></p>\n<p><strong>Synchronized HashMap Example</strong></p>\n<pre><code>import java.util.Collections;\nimport java.util.HashMap;\nimport java.util.Iterator;\nimport java.util.Map;\nimport java.util.Map.Entry;\n\npublic class Ex_Synchronizedmap {\n\n    public static void main(String[] args) {\n        \n        Map&lt;String, String&gt; map = new HashMap&lt;&gt;();\n        \n        map.put(&quot;one&quot;, &quot;one&quot;);\n        map.put(&quot;two&quot;, &quot;two&quot;);\n        map.put(&quot;three&quot;, &quot;three&quot;);\n        map.put(&quot;FOUR&quot;, null);\n        map.put(null, &quot;FIVE&quot;);\n        \n        System.out.println(&quot;map : &quot;+map);\n        \n        Map&lt;String, String&gt; map1 = \n                Collections.synchronizedMap(map);\n        System.out.println(&quot;map1 : &quot;+map1);\n        \n        String key = null;\n        for(Map.Entry&lt;String, String&gt; itr : map1.entrySet())\n        {\n            key = itr.getKey();\n            if(&quot;three&quot;.equals(key))\n            {\n                map1.put(&quot;ABC&quot;, &quot;ABC&quot;);\n            }\n            System.out.println(key+&quot; ::: &quot;+itr.getValue());\n        }\n        \n        System.out.println(&quot;New Map :: &quot;+map1);\n        \n        \n        \n        Iterator&lt;Entry&lt;String, String&gt;&gt; iterator = map1.entrySet().iterator();\n        int i = 0;\n        while(iterator.hasNext())\n        {\n            if(i == 1)\n            {\n                map1.put(&quot;XYZ&quot;, &quot;XYZ&quot;);\n            }\n            Entry&lt;String, String&gt; next = iterator.next();\n            System.out.println(next.getKey()+&quot; :: &quot;+next.getValue());\n            i++;\n        }\n    }\n\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/mtG7H.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mtG7H.jpg\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":47827,"reputation":4780,"user_id":141810,"accept_rate":30,"display_name":"hello_world_infinity"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":177070,"favorite_count":0,"down_vote_count":0,"up_vote_count":181,"accepted_answer_id":20417527,"answer_count":13,"score":181,"last_activity_date":1675761145,"creation_date":1250570409,"question_id":1291836,"body_markdown":"What is the difference between using the wrapper class, `SynchronizedMap`, on a `HashMap` and `ConcurrentHashMap`?  \r\n\r\nIs it just being able to modify the `HashMap` while iterating it (`ConcurrentHashMap`)?","title":"ConcurrentHashMap vs Synchronized HashMap","body":"<p>What is the difference between using the wrapper class, <code>SynchronizedMap</code>, on a <code>HashMap</code> and <code>ConcurrentHashMap</code>?  </p>\n\n<p>Is it just being able to modify the <code>HashMap</code> while iterating it (<code>ConcurrentHashMap</code>)?</p>\n"},{"tags":["java","lombok","builder","lazy-initialization"],"owner":{"account_id":15974270,"reputation":177,"user_id":11527575,"display_name":"Francesco Rogo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675761097,"creation_date":1675760956,"question_id":75371066,"body_markdown":"Let&#39;s say i have a java class like this:\r\n\r\n```\r\n\r\npublic interface Sample {\r\n\r\n    AlarmStatus getAlarmStatus();\r\n\r\n    double getAlarmThreshold();\r\n\r\n    double getValue();\r\n\r\n    double getWarningThreshold();\r\n   \r\n}\r\n\r\n@Getter\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Builder\r\npublic class SampleImpl implements Sample {\r\n\r\n    @Builder.Default\r\n    private final double value = 0d;\r\n    @Builder.Default\r\n    private final double warningThreshold = 0d;\r\n    @Builder.Default\r\n    private final double alarmThreshold = 0d;\r\n\r\n    @Getter(lazy = true)\r\n    private final AlarmStatus alarmStatus = _getAlarmStatus();\r\n\r\n    private AlarmStatus _getAlarmStatus() {\r\n        return value &gt;= alarmThreshold ? AlarmStatus.ALARM : value &gt;= warningThreshold ? AlarmStatus.WARNING : AlarmStatus.NORMAL;\r\n    }\r\n\r\n}\r\n```\r\n\r\ni want to use lombok&#39;s lazy initialization for alarmStatus only when i specify no value in the builder like this:\r\n\r\n```\r\nSample sample = SampleImpl.builder().alarmStatus(AlarmStatus.OFF).build(); \r\nassert(sample.getAlarmStatus() == AlarmStatus.OFF); // &lt;-- uses actual value\r\n```\r\n\r\nwhile\r\n\r\n```\r\nSample sample = SampleImpl.builder().value(10d).warningThreshold(5d).alarmThreshold(100d).build();\r\nassert(sample.getAlarmStatus() == AlarmStatus.WARNING); // &lt;-- uses lazy initialization\r\n```\r\n\r\nUnfortunately, with the current implementation, the compiler complains that no alarmStatus method is present in the builder.\r\n\r\nIs there a way to make this work?","title":"how to have lombok lazy initialization only when no value has been specified?","body":"<p>Let's say i have a java class like this:</p>\n<pre><code>\npublic interface Sample {\n\n    AlarmStatus getAlarmStatus();\n\n    double getAlarmThreshold();\n\n    double getValue();\n\n    double getWarningThreshold();\n   \n}\n\n@Getter\n@NoArgsConstructor\n@AllArgsConstructor\n@Builder\npublic class SampleImpl implements Sample {\n\n    @Builder.Default\n    private final double value = 0d;\n    @Builder.Default\n    private final double warningThreshold = 0d;\n    @Builder.Default\n    private final double alarmThreshold = 0d;\n\n    @Getter(lazy = true)\n    private final AlarmStatus alarmStatus = _getAlarmStatus();\n\n    private AlarmStatus _getAlarmStatus() {\n        return value &gt;= alarmThreshold ? AlarmStatus.ALARM : value &gt;= warningThreshold ? AlarmStatus.WARNING : AlarmStatus.NORMAL;\n    }\n\n}\n</code></pre>\n<p>i want to use lombok's lazy initialization for alarmStatus only when i specify no value in the builder like this:</p>\n<pre><code>Sample sample = SampleImpl.builder().alarmStatus(AlarmStatus.OFF).build(); \nassert(sample.getAlarmStatus() == AlarmStatus.OFF); // &lt;-- uses actual value\n</code></pre>\n<p>while</p>\n<pre><code>Sample sample = SampleImpl.builder().value(10d).warningThreshold(5d).alarmThreshold(100d).build();\nassert(sample.getAlarmStatus() == AlarmStatus.WARNING); // &lt;-- uses lazy initialization\n</code></pre>\n<p>Unfortunately, with the current implementation, the compiler complains that no alarmStatus method is present in the builder.</p>\n<p>Is there a way to make this work?</p>\n"},{"tags":["java","soap","cxf","soap-client","soapheader"],"answers":[{"tags":[],"owner":{"account_id":2101627,"reputation":3199,"user_id":1869090,"accept_rate":87,"display_name":"t777"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1495296690,"creation_date":1495296690,"answer_id":44088126,"question_id":44087293,"body_markdown":"I found a solution for myself:\r\n\r\nhttps://manoj29.wordpress.com/2011/12/29/apache-cxf-adding-custom-soap-headers-to-a-soap-message/","title":"CXF: Multiple parts in soap header","body":"<p>I found a solution for myself:</p>\n\n<p><a href=\"https://manoj29.wordpress.com/2011/12/29/apache-cxf-adding-custom-soap-headers-to-a-soap-message/\" rel=\"nofollow noreferrer\">https://manoj29.wordpress.com/2011/12/29/apache-cxf-adding-custom-soap-headers-to-a-soap-message/</a></p>\n"},{"tags":[],"owner":{"account_id":7548023,"reputation":26,"user_id":5730409,"display_name":"kaza"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675761087,"creation_date":1675761087,"answer_id":75371084,"question_id":44087293,"body_markdown":"Example:\r\n\r\n    private void addHeader(String localPart, String valueElement, QName attributeQname, String attributeValue, List&lt;Header&gt; headers) {\r\n     var qname = new QName(&quot;http://www.w3.org/2005/08/addressing&quot;, localPart, &quot;wsa&quot;);\r\n     var soapElement = createSoapElement(qname, attributeQname, attributeValue, valueElement);\r\n     headers.add(new Header(qname, soapElement));\r\n    }\r\n\r\n\r\n    private SOAPElement createSoapElement(QName elementQname, QName attributeQname, String attributeValue, String valueElement) {\r\n     SOAPElement element = null;\r\n     try {\r\n      SOAPFactory factory = SOAPFactory.newInstance();\r\n      element = factory.createElement(elementQname);\r\n      if (Objects.nonNull(attributeQname) &amp;&amp; Objects.nonNull(attributeValue))\r\n        element.addAttribute(attributeQname, attributeValue);\r\n      if (Objects.nonNull(valueElement))\r\n        element.addTextNode(valueElement);\r\n     } catch (SOAPException e) {\r\n       log.error(&quot;Can not create new element&quot;, e);\r\n     } finally {\r\n       return element;\r\n     }}","title":"CXF: Multiple parts in soap header","body":"<p>Example:</p>\n<pre><code>private void addHeader(String localPart, String valueElement, QName attributeQname, String attributeValue, List&lt;Header&gt; headers) {\n var qname = new QName(&quot;http://www.w3.org/2005/08/addressing&quot;, localPart, &quot;wsa&quot;);\n var soapElement = createSoapElement(qname, attributeQname, attributeValue, valueElement);\n headers.add(new Header(qname, soapElement));\n}\n\n\nprivate SOAPElement createSoapElement(QName elementQname, QName attributeQname, String attributeValue, String valueElement) {\n SOAPElement element = null;\n try {\n  SOAPFactory factory = SOAPFactory.newInstance();\n  element = factory.createElement(elementQname);\n  if (Objects.nonNull(attributeQname) &amp;&amp; Objects.nonNull(attributeValue))\n    element.addAttribute(attributeQname, attributeValue);\n  if (Objects.nonNull(valueElement))\n    element.addTextNode(valueElement);\n } catch (SOAPException e) {\n   log.error(&quot;Can not create new element&quot;, e);\n } finally {\n   return element;\n }}\n</code></pre>\n"}],"owner":{"account_id":2101627,"reputation":3199,"user_id":1869090,"accept_rate":87,"display_name":"t777"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":631,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":44088126,"answer_count":2,"score":0,"last_activity_date":1675761087,"creation_date":1495291863,"question_id":44087293,"body_markdown":"I need a soap header like this:\r\n\r\n    &lt;MyHeader xmlns:foo=&quot;http://foourl&quot; xmlns:bar=&quot;http://barurl&quot; bar:someParam=&quot;true&quot;, otherParam=&quot;hereiam&quot;&gt;WORLD&lt;/MyHeader&gt;\r\n\r\nI tried to create it like:\r\n\r\n    new SoapHeader(new QName(&quot;http://foourl&quot;, &quot;MyHeader&quot;, &quot;foo&quot;),\r\n    \t\t\t\t&quot;WORLD&quot;, new JAXBDataBinding(String.class)));\r\n\r\nBut I just get \r\n\r\n    &lt;MyHeader xmlns:foo=&quot;http://foourl&quot;&gt;WORLD&lt;/MyHeader&gt;\r\n\r\nHow can I set the other parts of the header (`xmlns:bar`, `bar:someParam`, `otherParam`)? TIA!","title":"CXF: Multiple parts in soap header","body":"<p>I need a soap header like this:</p>\n\n<pre><code>&lt;MyHeader xmlns:foo=\"http://foourl\" xmlns:bar=\"http://barurl\" bar:someParam=\"true\", otherParam=\"hereiam\"&gt;WORLD&lt;/MyHeader&gt;\n</code></pre>\n\n<p>I tried to create it like:</p>\n\n<pre><code>new SoapHeader(new QName(\"http://foourl\", \"MyHeader\", \"foo\"),\n                \"WORLD\", new JAXBDataBinding(String.class)));\n</code></pre>\n\n<p>But I just get </p>\n\n<pre><code>&lt;MyHeader xmlns:foo=\"http://foourl\"&gt;WORLD&lt;/MyHeader&gt;\n</code></pre>\n\n<p>How can I set the other parts of the header (<code>xmlns:bar</code>, <code>bar:someParam</code>, <code>otherParam</code>)? TIA!</p>\n"},{"tags":["java","algorithm","stack","parentheses"],"comments":[{"owner":{"account_id":27393528,"reputation":353,"user_id":20896122,"display_name":"undefined symbol"},"score":0,"creation_date":1675620327,"post_id":75354348,"comment_id":132964034,"body_markdown":"Just follow through the logic for i = 0.  The first character is not a closing parenthesis therefore you return &#39;true&#39;.   I haven&#39;t bothered to think it through, but maybe the second &#39;if&#39; should be &#39;else if&#39;.","body":"Just follow through the logic for i = 0.  The first character is not a closing parenthesis therefore you return &#39;true&#39;.   I haven&#39;t bothered to think it through, but maybe the second &#39;if&#39; should be &#39;else if&#39;."},{"owner":{"account_id":26291330,"reputation":17,"user_id":19958316,"display_name":"SBM"},"score":0,"creation_date":1675622747,"post_id":75354348,"comment_id":132964530,"body_markdown":"The second `if` must be `else if` \n\nYeah it worked but can you explain what makes it difference though initially there are two `if ` with two  different conditions  so that only one `if` work at a time , right?","body":"The second <code>if</code> must be <code>else if</code>   Yeah it worked but can you explain what makes it difference though initially there are two <code>if </code> with two  different conditions  so that only one <code>if</code> work at a time , right?"},{"owner":{"display_name":"user1196549"},"score":0,"creation_date":1675624191,"post_id":75354348,"comment_id":132964836,"body_markdown":"There is no connection between the title and the body !","body":"There is no connection between the title and the body !"},{"owner":{"account_id":23667337,"reputation":1467,"user_id":17694626,"display_name":"Cheng Thao"},"score":0,"creation_date":1675626568,"post_id":75354348,"comment_id":132965237,"body_markdown":"no idea what yo are asking.  what are the inputs and expected output?","body":"no idea what yo are asking.  what are the inputs and expected output?"},{"owner":{"account_id":27393528,"reputation":353,"user_id":20896122,"display_name":"undefined symbol"},"score":0,"creation_date":1675630803,"post_id":75354348,"comment_id":132965948,"body_markdown":"@SBM see my answer for explanation.","body":"@SBM see my answer for explanation."},{"owner":{"account_id":26291330,"reputation":17,"user_id":19958316,"display_name":"SBM"},"score":0,"creation_date":1675761112,"post_id":75354348,"comment_id":132993114,"body_markdown":"@Yves Daoust - sorry for it","body":"@Yves Daoust - sorry for it"},{"owner":{"display_name":"user1196549"},"score":0,"creation_date":1675761220,"post_id":75354348,"comment_id":132993145,"body_markdown":"Though this may be obvious to you, I don&#39;t know what you call &quot;duplicate parenthesis&quot;. This can be understood in different ways.","body":"Though this may be obvious to you, I don&#39;t know what you call &quot;duplicate parenthesis&quot;. This can be understood in different ways."},{"owner":{"account_id":26291330,"reputation":17,"user_id":19958316,"display_name":"SBM"},"score":0,"creation_date":1675953836,"post_id":75354348,"comment_id":133041982,"body_markdown":"@Yves Daoust--ig Its  a name of the standard Question --Of checking unnecessary brackets in Expression or just search &quot;duplicate parenthesis&quot;  on search engine for more clarity.","body":"@Yves Daoust--ig Its  a name of the standard Question --Of checking unnecessary brackets in Expression or just search &quot;duplicate parenthesis&quot;  on search engine for more clarity."}],"answers":[{"tags":[],"owner":{"account_id":27393528,"reputation":353,"user_id":20896122,"display_name":"undefined symbol"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1675631124,"creation_date":1675630776,"answer_id":75355468,"question_id":75354348,"body_markdown":"As written - \r\n\r\n            if(str.charAt(i) != &#39;)&#39;){\r\n                s.push(str.charAt(i));\r\n            }\r\n            if(str.charAt(i) == &#39;)&#39; &amp;&amp; s.peek() != &#39;(&#39;){\r\n                while(s.peek() !=&#39;(&#39;){                                      \r\n                    s.pop();\r\n                }\r\n                s.pop();\r\n            }\r\n          \r\n            else{\r\n                return true;\r\n            }\r\n\r\nSuppose the first char is &#39;(&#39;,  The condition of the first &#39;if&#39; is true (it&#39;s not a close parenthesis) so we execute the controlled statement (push to stack). \r\n\r\nWe&#39;re now done with that &#39;if&#39;.  The second &#39;if&#39; has a false condition so we execute the associated &#39;else&#39; clause and immediately return a &#39;true&#39; result.\r\n\r\nWith &#39;else&#39; added:\r\n\r\n            if(str.charAt(i) != &#39;)&#39;){\r\n                s.push(str.charAt(i));\r\n            }\r\n            else if(str.charAt(i) == &#39;)&#39; &amp;&amp; s.peek() != &#39;(&#39;){\r\n                while(s.peek() !=&#39;(&#39;){                                      \r\n                    s.pop();\r\n                }\r\n                s.pop();\r\n            }\r\n          \r\n            else{\r\n                return true;\r\n            }\r\n\r\nAgain, suppose the first char is &#39;(&#39;,  The condition of the first &#39;if&#39; is true (it&#39;s not a close parenthesis) so we execute the controlled statement (push to stack). \r\n\r\nAnd therefore we do not execute the &#39;else&#39; clause of the first &#39;if&#39; statment.  The &#39;else&#39; clause is the entire second if-else construction.  Thus we don&#39;t return the incorrect result, but keep processing the input string.\r\n\r\n---\r\n\r\nThat&#39;s the solution to the specific problem you reported, but I am not convinced the code works in all cases.  Consider the input string &quot;)(&quot; for example.\r\n","title":"Checking Duplicate Parenthesis Using stacks in java","body":"<p>As written -</p>\n<pre><code>        if(str.charAt(i) != ')'){\n            s.push(str.charAt(i));\n        }\n        if(str.charAt(i) == ')' &amp;&amp; s.peek() != '('){\n            while(s.peek() !='('){                                      \n                s.pop();\n            }\n            s.pop();\n        }\n      \n        else{\n            return true;\n        }\n</code></pre>\n<p>Suppose the first char is '(',  The condition of the first 'if' is true (it's not a close parenthesis) so we execute the controlled statement (push to stack).</p>\n<p>We're now done with that 'if'.  The second 'if' has a false condition so we execute the associated 'else' clause and immediately return a 'true' result.</p>\n<p>With 'else' added:</p>\n<pre><code>        if(str.charAt(i) != ')'){\n            s.push(str.charAt(i));\n        }\n        else if(str.charAt(i) == ')' &amp;&amp; s.peek() != '('){\n            while(s.peek() !='('){                                      \n                s.pop();\n            }\n            s.pop();\n        }\n      \n        else{\n            return true;\n        }\n</code></pre>\n<p>Again, suppose the first char is '(',  The condition of the first 'if' is true (it's not a close parenthesis) so we execute the controlled statement (push to stack).</p>\n<p>And therefore we do not execute the 'else' clause of the first 'if' statment.  The 'else' clause is the entire second if-else construction.  Thus we don't return the incorrect result, but keep processing the input string.</p>\n<hr />\n<p>That's the solution to the specific problem you reported, but I am not convinced the code works in all cases.  Consider the input string &quot;)(&quot; for example.</p>\n"}],"owner":{"account_id":26291330,"reputation":17,"user_id":19958316,"display_name":"SBM"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":79,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":75355468,"answer_count":1,"score":-1,"last_activity_date":1675761051,"creation_date":1675619980,"question_id":75354348,"body_markdown":"The code is to check weather Duplicate parenthesis exist or not ..\r\nI am getting **true** for every string. I am unable to find where I am wrong\r\n\r\n\r\n```import java.util.*;\r\npublic class DuplicatePar {\r\n    public static void main(String[] args) {\r\n        String str = &quot;((a+b)+c)&quot;;\r\n        System.out.println(dupliPar(str));\r\n    }\r\n    public static boolean dupliPar(String str){\r\n        Stack&lt;Character&gt; s = new Stack&lt;&gt;();\r\n        for(int i = 0; i&lt;str.length();i++){\r\n            if(str.charAt(i) != &#39;)&#39;){\r\n                s.push(str.charAt(i));\r\n            }\r\n            if(str.charAt(i) == &#39;)&#39; &amp;&amp; s.peek() != &#39;(&#39;){\r\n                while(s.peek() !=&#39;(&#39;){                                      \r\n                    s.pop();\r\n                }\r\n                s.pop();\r\n            }\r\n          \r\n            else{\r\n                return true;\r\n            }\r\n        }\r\n      return false;\r\n    }\r\n}\r\n```\r\n","title":"Checking Duplicate Parenthesis Using stacks in java","body":"<p>The code is to check weather Duplicate parenthesis exist or not ..\nI am getting <strong>true</strong> for every string. I am unable to find where I am wrong</p>\n<pre><code>public class DuplicatePar {\n    public static void main(String[] args) {\n        String str = &quot;((a+b)+c)&quot;;\n        System.out.println(dupliPar(str));\n    }\n    public static boolean dupliPar(String str){\n        Stack&lt;Character&gt; s = new Stack&lt;&gt;();\n        for(int i = 0; i&lt;str.length();i++){\n            if(str.charAt(i) != ')'){\n                s.push(str.charAt(i));\n            }\n            if(str.charAt(i) == ')' &amp;&amp; s.peek() != '('){\n                while(s.peek() !='('){                                      \n                    s.pop();\n                }\n                s.pop();\n            }\n          \n            else{\n                return true;\n            }\n        }\n      return false;\n    }\n}\n</code></pre>\n"},{"tags":["java","xml"],"comments":[{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1675760237,"post_id":75370913,"comment_id":132992863,"body_markdown":"That garbage looks like a RTF file. Whatever you&#39;re reading is not a proper XML file at all. The problem is not in the code you showed, but wherever `byteArray` comes from. (besides there&#39;s no need to call `f.createNewFile()` before opening a `FileOutputStream`, the stream will create the file if necessary).","body":"That garbage looks like a RTF file. Whatever you&#39;re reading is not a proper XML file at all. The problem is not in the code you showed, but wherever <code>byteArray</code> comes from. (besides there&#39;s no need to call <code>f.createNewFile()</code> before opening a <code>FileOutputStream</code>, the stream will create the file if necessary)."},{"owner":{"account_id":22735164,"reputation":3,"user_id":20108185,"display_name":"Funtush"},"score":0,"creation_date":1675760392,"post_id":75370913,"comment_id":132992904,"body_markdown":"Hi @JoachimSauer\nI am uploading RTRAN file which contains XML data in S3 bucket and then I am downloading that file from s3 bucket as byteArray.","body":"Hi @JoachimSauer I am uploading RTRAN file which contains XML data in S3 bucket and then I am downloading that file from s3 bucket as byteArray."},{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1675760493,"post_id":75370913,"comment_id":132992949,"body_markdown":"I don&#39;t know what RTRAN is, but I can tell you that what you have here looks like someone wrote a RTF file (probably on a Mac) and that RTF file *contains XML text*, but that&#39;s not an XML file. So instead of saving the file as &quot;rich text&quot; (or however the editor calls that format) it should be saved as &quot;plain text&quot; (or similar) instead. Ideally you&#39;d create that file with an editor (or IDE) that actually understands XML. The file on S3 is already wrong, it&#39;s not XML.","body":"I don&#39;t know what RTRAN is, but I can tell you that what you have here looks like someone wrote a RTF file (probably on a Mac) and that RTF file <i>contains XML text</i>, but that&#39;s not an XML file. So instead of saving the file as &quot;rich text&quot; (or however the editor calls that format) it should be saved as &quot;plain text&quot; (or similar) instead. Ideally you&#39;d create that file with an editor (or IDE) that actually understands XML. The file on S3 is already wrong, it&#39;s not XML."},{"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"score":0,"creation_date":1675761721,"post_id":75370913,"comment_id":132993281,"body_markdown":"The garbage is in your byte array. So the problem is not in the code above.","body":"The garbage is in your byte array. So the problem is not in the code above."}],"owner":{"account_id":22735164,"reputation":3,"user_id":20108185,"display_name":"Funtush"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":296,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675760766,"creation_date":1675759902,"question_id":75370913,"body_markdown":"I am getting issue while parsing the byte Array to XML file.\r\n\r\nI am getting garbage data in prologe:\r\n\r\n```none\r\n{\\rtf1\\ansi\\\\kerning1\\expnd0\\expndtw0  ?&gt;\\\r\n```\r\n\r\nHow can I resolve this?\r\n\r\nThe code to convert byteArray to XML file:\r\n\r\n\r\n\r\n\r\n```\r\npublic static File convertByteArrayToXMLFile(byte[] byteArray, String myFile) {\r\n    String extension = &quot;.xml&quot;;\r\n    String filename = myFile+extension;\r\n    File f = new File(filename);\r\n\r\n    try {\r\n      f.createNewFile();\r\n\r\n      // write the bytes in file\r\n      FileOutputStream fo = new FileOutputStream(f);\r\n      fo.write(byteArray);\r\n      fo.close();\r\n      return f;\r\n    } catch (Exception e) {\r\n      // TODO Auto-generated catch block\r\n      e.printStackTrace();\r\n    }\r\n    return null;\r\n  }\r\n```\r\n","title":"Parsing the byte array into XML file","body":"<p>I am getting issue while parsing the byte Array to XML file.</p>\n<p>I am getting garbage data in prologe:</p>\n<pre class=\"lang-none prettyprint-override\"><code>{\\rtf1\\ansi\\\\kerning1\\expnd0\\expndtw0  ?&gt;\\\n</code></pre>\n<p>How can I resolve this?</p>\n<p>The code to convert byteArray to XML file:</p>\n<pre><code>public static File convertByteArrayToXMLFile(byte[] byteArray, String myFile) {\n    String extension = &quot;.xml&quot;;\n    String filename = myFile+extension;\n    File f = new File(filename);\n\n    try {\n      f.createNewFile();\n\n      // write the bytes in file\n      FileOutputStream fo = new FileOutputStream(f);\n      fo.write(byteArray);\n      fo.close();\n      return f;\n    } catch (Exception e) {\n      // TODO Auto-generated catch block\n      e.printStackTrace();\n    }\n    return null;\n  }\n</code></pre>\n"},{"tags":["java","spring-boot","jpa","postman","dto"],"comments":[{"owner":{"account_id":195331,"reputation":275408,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1675704827,"post_id":75364544,"comment_id":132982062,"body_markdown":"Please provide a [mcve].","body":"Please provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"owner":{"account_id":23324724,"reputation":13,"user_id":17402072,"display_name":"Miguel &#193;ngel"},"score":0,"creation_date":1675709586,"post_id":75364544,"comment_id":132983327,"body_markdown":"@Unmitigated It didn&#39;t work for me :(","body":"@Unmitigated It didn&#39;t work for me :("},{"owner":{"account_id":23324724,"reputation":13,"user_id":17402072,"display_name":"Miguel &#193;ngel"},"score":0,"creation_date":1675709734,"post_id":75364544,"comment_id":132983375,"body_markdown":"@SotiriosDelimanolis I used this example -&gt; &#180;&#180;&#180;@GetMapping(&quot;mostrarTodos&quot;)\n     public ResponseEntity&lt;CitaDTO&gt; showCitas(){\n         List&lt;CitaDTO&gt; citas = CitasService.findAll();\n         return new ResponseEntity(appointments, HttpStatus.OK);\n     }&#180;&#180;&#180;","body":"@SotiriosDelimanolis I used this example -&gt; &#180;&#180;&#180;@GetMapping(&quot;mostrarTodos&quot;)      public ResponseEntity&lt;CitaDTO&gt; showCitas(){          List&lt;CitaDTO&gt; citas = CitasService.findAll();          return new ResponseEntity(appointments, HttpStatus.OK);      }&#180;&#180;&#180;"},{"owner":{"account_id":195331,"reputation":275408,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1675715936,"post_id":75364544,"comment_id":132985104,"body_markdown":"Please reread the link in my comment and provide what’s described there.","body":"Please reread the link in my comment and provide what’s described there."},{"owner":{"account_id":23324724,"reputation":13,"user_id":17402072,"display_name":"Miguel &#193;ngel"},"score":0,"creation_date":1675719572,"post_id":75364544,"comment_id":132986082,"body_markdown":"@SotiriosDelimanolis Cuando accedo a esta ruta &quot;/citas/mostrarTodos&quot; en POSTMAN me sale el error 404 que mencion&#233; anteriormente, cuando antes si me funcionaba. Todo los controladores me funcionaban hasta que intent&#233; usar DTOS y mappers y ahora me devuelve el error 404","body":"@SotiriosDelimanolis Cuando accedo a esta ruta &quot;/citas/mostrarTodos&quot; en POSTMAN me sale el error 404 que mencion&#233; anteriormente, cuando antes si me funcionaba. Todo los controladores me funcionaban hasta que intent&#233; usar DTOS y mappers y ahora me devuelve el error 404"}],"answers":[{"tags":[],"owner":{"account_id":23324724,"reputation":13,"user_id":17402072,"display_name":"Miguel &#193;ngel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1675760639,"creation_date":1675760639,"answer_id":75371022,"question_id":75364544,"body_markdown":"I solved my problem by adding @Mapper(componentModel=&quot;spring&quot;) in all mappers it was my mistake","title":"I try to access a route from my controller and it returns a 404 error instead of returning the entity in a JSON with POSTMAN","body":"<p>I solved my problem by adding @Mapper(componentModel=&quot;spring&quot;) in all mappers it was my mistake</p>\n"}],"owner":{"account_id":23324724,"reputation":13,"user_id":17402072,"display_name":"Miguel &#193;ngel"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":147,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":75371022,"answer_count":1,"score":-1,"last_activity_date":1675760639,"creation_date":1675703951,"question_id":75364544,"body_markdown":"I try to access a route from my controller and it returns a 404 error instead of returning the entity in a JSON with POSTMAN\r\n\r\nThis is my controller\r\n```\r\npackage com.main.CitaMedica.Controller;\r\n\r\nimport com.main.CitaMedica.DTO.CitaDTO;\r\nimport com.main.CitaMedica.DTO.MedicoDTO;\r\nimport com.main.CitaMedica.DTO.PacienteDTO;\r\nimport com.main.CitaMedica.Service.CitaService;\r\nimport com.main.CitaMedica.Service.MedicoService;\r\nimport com.main.CitaMedica.Service.PacienteService;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.http.HttpStatus;\r\nimport org.springframework.http.ResponseEntity;\r\nimport org.springframework.web.bind.annotation.*;\r\n\r\nimport java.util.Date;\r\nimport java.util.List;\r\n\r\n@RestController\r\n@RequestMapping(&quot;/citas&quot;)\r\npublic class CitaController {\r\n    @Autowired CitaService citaService;\r\n    @Autowired MedicoService medicoService;\r\n    @Autowired PacienteService pacienteService;\r\n\r\n    @GetMapping(&quot;mostrarTodos&quot;)\r\n    public ResponseEntity&lt;CitaDTO&gt; showCitas(){\r\n        List&lt;CitaDTO&gt; citas = citaService.findAll();\r\n        return new ResponseEntity(citas, HttpStatus.OK);\r\n    }\r\n\r\n    @GetMapping(&quot;mostrarUno/{citaID}&quot;)\r\n    public ResponseEntity&lt;CitaDTO&gt; showCita(@PathVariable(&quot;citaID&quot;) int citaID){\r\n        CitaDTO cita = citaService.findById(citaID);\r\n        return new ResponseEntity(cita,HttpStatus.OK);\r\n    }\r\n\r\n\r\n    /*\r\n    @GetMapping(&quot;mostrar/porFecha/{fecha}&quot;)\r\n    public ResponseEntity&lt;Cita&gt; showCitaFechaHora(@PathVariable(&quot;fecha&quot;)Date fecha){\r\n        List&lt;Cita&gt; cita = citaService.findByFechaHora(fecha);\r\n        return new ResponseEntity(cita,HttpStatus.OK);\r\n    }\r\n     */\r\n\r\n    @PostMapping(&quot;create&quot;)\r\n    public ResponseEntity&lt;CitaDTO&gt; crearCita(){\r\n        MedicoDTO medico = medicoService.findById(5);\r\n        PacienteDTO paciente = pacienteService.findById(3);\r\n        CitaDTO cita = new CitaDTO();\r\n        cita.setMedico(medico);\r\n        cita.setPaciente(paciente);\r\n        cita.setFechaHora(new Date());\r\n        cita.setMotivoCita(&quot;Prueba&quot;);\r\n        citaService.save(cita);\r\n        return new ResponseEntity(HttpStatus.OK);\r\n    }\r\n\r\n    @PutMapping(&quot;update/{citaID}&quot;)\r\n    public ResponseEntity&lt;CitaDTO&gt; actualizarCita(@PathVariable(&quot;citaID&quot;) int citaID){\r\n        CitaDTO cita = citaService.findById(citaID);\r\n        cita.setMotivoCita(&quot;Enfermedad&quot;);\r\n        citaService.save(cita);\r\n        return new ResponseEntity(HttpStatus.OK);\r\n    }\r\n\r\n    @DeleteMapping(&quot;delete/{citaID}&quot;)\r\n    public ResponseEntity&lt;CitaDTO&gt; delete(@PathVariable(&quot;citaID&quot;) int citaID){\r\n        citaService.delete(citaID);\r\n        return new ResponseEntity(HttpStatus.OK);\r\n    }\r\n}\r\n```\r\n\r\nAnd this is the error that POSTMAN gives me when I try to access that route and I have the server started by port 8090\r\n\r\n```\r\n{\r\n    &quot;timestamp&quot;: &quot;2023-02-06T17:00:50.592+00:00&quot;,\r\n    &quot;status&quot;: 404,\r\n    &quot;error&quot;: &quot;Not Found&quot;,\r\n    &quot;message&quot;: &quot;No message available&quot;,\r\n    &quot;path&quot;: &quot;/citas/mostrarTodos&quot;\r\n}\r\n```\r\n\r\nBefore it worked for me and it returned all the data when I did not have DTO and MapperStructure but since I have implemented it now in all the routes it gives me that\r\n\r\nAsk me for any information","title":"I try to access a route from my controller and it returns a 404 error instead of returning the entity in a JSON with POSTMAN","body":"<p>I try to access a route from my controller and it returns a 404 error instead of returning the entity in a JSON with POSTMAN</p>\n<p>This is my controller</p>\n<pre><code>package com.main.CitaMedica.Controller;\n\nimport com.main.CitaMedica.DTO.CitaDTO;\nimport com.main.CitaMedica.DTO.MedicoDTO;\nimport com.main.CitaMedica.DTO.PacienteDTO;\nimport com.main.CitaMedica.Service.CitaService;\nimport com.main.CitaMedica.Service.MedicoService;\nimport com.main.CitaMedica.Service.PacienteService;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.web.bind.annotation.*;\n\nimport java.util.Date;\nimport java.util.List;\n\n@RestController\n@RequestMapping(&quot;/citas&quot;)\npublic class CitaController {\n    @Autowired CitaService citaService;\n    @Autowired MedicoService medicoService;\n    @Autowired PacienteService pacienteService;\n\n    @GetMapping(&quot;mostrarTodos&quot;)\n    public ResponseEntity&lt;CitaDTO&gt; showCitas(){\n        List&lt;CitaDTO&gt; citas = citaService.findAll();\n        return new ResponseEntity(citas, HttpStatus.OK);\n    }\n\n    @GetMapping(&quot;mostrarUno/{citaID}&quot;)\n    public ResponseEntity&lt;CitaDTO&gt; showCita(@PathVariable(&quot;citaID&quot;) int citaID){\n        CitaDTO cita = citaService.findById(citaID);\n        return new ResponseEntity(cita,HttpStatus.OK);\n    }\n\n\n    /*\n    @GetMapping(&quot;mostrar/porFecha/{fecha}&quot;)\n    public ResponseEntity&lt;Cita&gt; showCitaFechaHora(@PathVariable(&quot;fecha&quot;)Date fecha){\n        List&lt;Cita&gt; cita = citaService.findByFechaHora(fecha);\n        return new ResponseEntity(cita,HttpStatus.OK);\n    }\n     */\n\n    @PostMapping(&quot;create&quot;)\n    public ResponseEntity&lt;CitaDTO&gt; crearCita(){\n        MedicoDTO medico = medicoService.findById(5);\n        PacienteDTO paciente = pacienteService.findById(3);\n        CitaDTO cita = new CitaDTO();\n        cita.setMedico(medico);\n        cita.setPaciente(paciente);\n        cita.setFechaHora(new Date());\n        cita.setMotivoCita(&quot;Prueba&quot;);\n        citaService.save(cita);\n        return new ResponseEntity(HttpStatus.OK);\n    }\n\n    @PutMapping(&quot;update/{citaID}&quot;)\n    public ResponseEntity&lt;CitaDTO&gt; actualizarCita(@PathVariable(&quot;citaID&quot;) int citaID){\n        CitaDTO cita = citaService.findById(citaID);\n        cita.setMotivoCita(&quot;Enfermedad&quot;);\n        citaService.save(cita);\n        return new ResponseEntity(HttpStatus.OK);\n    }\n\n    @DeleteMapping(&quot;delete/{citaID}&quot;)\n    public ResponseEntity&lt;CitaDTO&gt; delete(@PathVariable(&quot;citaID&quot;) int citaID){\n        citaService.delete(citaID);\n        return new ResponseEntity(HttpStatus.OK);\n    }\n}\n</code></pre>\n<p>And this is the error that POSTMAN gives me when I try to access that route and I have the server started by port 8090</p>\n<pre><code>{\n    &quot;timestamp&quot;: &quot;2023-02-06T17:00:50.592+00:00&quot;,\n    &quot;status&quot;: 404,\n    &quot;error&quot;: &quot;Not Found&quot;,\n    &quot;message&quot;: &quot;No message available&quot;,\n    &quot;path&quot;: &quot;/citas/mostrarTodos&quot;\n}\n</code></pre>\n<p>Before it worked for me and it returned all the data when I did not have DTO and MapperStructure but since I have implemented it now in all the routes it gives me that</p>\n<p>Ask me for any information</p>\n"},{"tags":["java","unit-testing","testng"],"answers":[{"tags":[],"owner":{"account_id":2573,"reputation":24982,"user_id":3587,"accept_rate":74,"display_name":"Thomas L&#246;tzer"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1284041466,"creation_date":1284041466,"answer_id":3677384,"question_id":3677271,"body_markdown":"Why don&#39;t you use the try/fail/catch pattern mentioned in the blog post you linked to?","title":"TestNG: How to test for mandatory exceptions?","body":"<p>Why don't you use the try/fail/catch pattern mentioned in the blog post you linked to?</p>\n"},{"tags":[],"owner":{"account_id":2785,"reputation":76174,"user_id":3916,"accept_rate":100,"display_name":"Vineet Reynolds"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1349374300,"creation_date":1284042312,"answer_id":3677506,"question_id":3677271,"body_markdown":"I have to disagree with the the article on the nature of the testing techniques employed. The solution employs a gate, to verify if the test should succeed or fail in an intermediate stage.\r\n\r\nIn my opinion, it is better to employ [Guard Assertions][2], especially for such tests (assuming that the test does not turn out to be long-winded and complex, which is an anti-pattern in itself). Using guard-assertions forces you to design the SUT in either of the following ways:\r\n\r\n* design the method itself to provide enough information in the result on whether the invocation passed or succeeded. Sometimes, this cannot be done as the intention of the designer is to not return a result, and instead throw an exception (this can be handled in the second case).\r\n* design the SUT so that it&#39;s [state can be verified][3] after each significant method invocation.\r\n\r\nBut before we consider the above possibilities, have a look at the following snippet again:\r\n\r\n    plane.bookAllSeats();\r\n    plane.bookPlane(createValidItinerary(), null);\r\n\r\nIf the intention is to test bookPlane() and verify for execution of that method, it is better to have bookAllSeats() in a fixture. In my understanding, invoking bookAllSeats() is equivalent to setting up the SUT to ensure that the invocation of bookPlane() fails, and hence having a fixture to do the same would make for a more readable test. If the intention are different, I would recommend testing the state after every transition (as I normally would do in functional tests), to help pinpoint the original cause of failure.\r\n\r\n  [1]: http://testng.org/doc/documentation-main.html#annotations\r\n  [2]: http://xunitpatterns.com/Guard%20Assertion.html\r\n  [3]: http://xunitpatterns.com/State%20Verification.html","title":"TestNG: How to test for mandatory exceptions?","body":"<p>I have to disagree with the the article on the nature of the testing techniques employed. The solution employs a gate, to verify if the test should succeed or fail in an intermediate stage.</p>\n\n<p>In my opinion, it is better to employ <a href=\"http://xunitpatterns.com/Guard%20Assertion.html\" rel=\"nofollow noreferrer\">Guard Assertions</a>, especially for such tests (assuming that the test does not turn out to be long-winded and complex, which is an anti-pattern in itself). Using guard-assertions forces you to design the SUT in either of the following ways:</p>\n\n<ul>\n<li>design the method itself to provide enough information in the result on whether the invocation passed or succeeded. Sometimes, this cannot be done as the intention of the designer is to not return a result, and instead throw an exception (this can be handled in the second case).</li>\n<li>design the SUT so that it's <a href=\"http://xunitpatterns.com/State%20Verification.html\" rel=\"nofollow noreferrer\">state can be verified</a> after each significant method invocation.</li>\n</ul>\n\n<p>But before we consider the above possibilities, have a look at the following snippet again:</p>\n\n<pre><code>plane.bookAllSeats();\nplane.bookPlane(createValidItinerary(), null);\n</code></pre>\n\n<p>If the intention is to test bookPlane() and verify for execution of that method, it is better to have bookAllSeats() in a fixture. In my understanding, invoking bookAllSeats() is equivalent to setting up the SUT to ensure that the invocation of bookPlane() fails, and hence having a fixture to do the same would make for a more readable test. If the intention are different, I would recommend testing the state after every transition (as I normally would do in functional tests), to help pinpoint the original cause of failure.</p>\n"},{"tags":[],"owner":{"account_id":54296,"reputation":15518,"user_id":162410,"accept_rate":56,"display_name":"Cedric Beust"},"down_vote_count":1,"up_vote_count":45,"is_accepted":true,"score":44,"last_activity_date":1378494823,"creation_date":1284053170,"answer_id":3678977,"question_id":3677271,"body_markdown":"`@Test(expectedExceptions)` is useful for the most common cases:\r\n\r\n - You expect a specific exception to be thrown\r\n - You need the message of that exception to contain specific words\r\n\r\nPer the documentation a test will fail if no `expectedException` is thrown:\r\n\r\n&gt; The list of exceptions that a test method is expected to throw. If no exception or a different than one on this list is thrown, this test will be marked a failure.\r\n \r\nHere are a few scenarios where `@Test(expectedExceptions)` is not sufficient:\r\n\r\n - Your test method has several statements and only one of them is expected to throw\r\n - You are throwing your own type of exception and you need to make sure it matches a certain criterion\r\n\r\nIn such cases, you should just revert to the traditional (pre-TestNG) pattern:\r\n\r\n    try {\r\n      // your statement expected to throw\r\n      fail();\r\n    }\r\n    catch(&lt;the expected exception&gt;) {\r\n      // pass\r\n    }","title":"TestNG: How to test for mandatory exceptions?","body":"<p><code>@Test(expectedExceptions)</code> is useful for the most common cases:</p>\n\n<ul>\n<li>You expect a specific exception to be thrown</li>\n<li>You need the message of that exception to contain specific words</li>\n</ul>\n\n<p>Per the documentation a test will fail if no <code>expectedException</code> is thrown:</p>\n\n<blockquote>\n  <p>The list of exceptions that a test method is expected to throw. If no exception or a different than one on this list is thrown, this test will be marked a failure.</p>\n</blockquote>\n\n<p>Here are a few scenarios where <code>@Test(expectedExceptions)</code> is not sufficient:</p>\n\n<ul>\n<li>Your test method has several statements and only one of them is expected to throw</li>\n<li>You are throwing your own type of exception and you need to make sure it matches a certain criterion</li>\n</ul>\n\n<p>In such cases, you should just revert to the traditional (pre-TestNG) pattern:</p>\n\n<pre><code>try {\n  // your statement expected to throw\n  fail();\n}\ncatch(&lt;the expected exception&gt;) {\n  // pass\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":978617,"reputation":1724,"user_id":998938,"display_name":"rwitzel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1340383003,"creation_date":1340383003,"answer_id":11160480,"question_id":3677271,"body_markdown":"[catch-exception][1] provides probably everything you need to test for expected exceptions.\r\n\r\n\r\n  [1]: http://code.google.com/p/catch-exception/","title":"TestNG: How to test for mandatory exceptions?","body":"<p><a href=\"http://code.google.com/p/catch-exception/\" rel=\"nofollow\">catch-exception</a> provides probably everything you need to test for expected exceptions.</p>\n"},{"tags":[],"owner":{"account_id":2856255,"reputation":1536,"user_id":2452467,"accept_rate":14,"display_name":"harunurhan"},"down_vote_count":1,"up_vote_count":24,"is_accepted":false,"score":23,"last_activity_date":1542112074,"creation_date":1449086477,"answer_id":34051943,"question_id":3677271,"body_markdown":"Use `@Test` annotation to check expected exceptions.\r\n\r\n\r\n    @Test(\r\n        expectedExceptions = AnyClassThatExtendsException.class,\r\n        expectedExceptionsMessageRegExp = &quot;Exception message regexp&quot;\r\n    )\r\n\r\nOr if you don&#39;t want to check for exception message, only below is enough\r\n\r\n    @Test(expectedExceptions = AnyClassThatExtendsException.class)\r\n\r\nIn that way, you don&#39;t need to use ugly try catch block, just invoke you exception-thrower method inside the test.","title":"TestNG: How to test for mandatory exceptions?","body":"<p>Use <code>@Test</code> annotation to check expected exceptions.</p>\n\n<pre><code>@Test(\n    expectedExceptions = AnyClassThatExtendsException.class,\n    expectedExceptionsMessageRegExp = \"Exception message regexp\"\n)\n</code></pre>\n\n<p>Or if you don't want to check for exception message, only below is enough</p>\n\n<pre><code>@Test(expectedExceptions = AnyClassThatExtendsException.class)\n</code></pre>\n\n<p>In that way, you don't need to use ugly try catch block, just invoke you exception-thrower method inside the test.</p>\n"},{"tags":[],"owner":{"account_id":11178736,"reputation":943,"user_id":8203386,"display_name":"Buddhima Udaranga"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1675760152,"creation_date":1557910796,"answer_id":56145364,"question_id":3677271,"body_markdown":"If you are using Java 7 and TestNG, the below example can be used. For Java 8 you can also use [*Lambda Expressions*][1].\r\n\r\n    class A implements ThrowingRunnable {\r\n    \r\n        @Override\r\n        public void run() throws AuthenticationFailedException{\r\n            spy.processAuthenticationResponse(mockRequest, mockResponse, authenticationContext);\r\n        }\r\n\r\n    }\r\n    \r\n    assertThrows(AuthenticationFailedException.class, new A());\r\n\r\n\r\n  [1]: https://openjdk.org/projects/lambda/","title":"TestNG: How to test for mandatory exceptions?","body":"<p>If you are using Java 7 and TestNG, the below example can be used. For Java 8 you can also use <a href=\"https://openjdk.org/projects/lambda/\" rel=\"nofollow noreferrer\"><em>Lambda Expressions</em></a>.</p>\n<pre><code>class A implements ThrowingRunnable {\n\n    @Override\n    public void run() throws AuthenticationFailedException{\n        spy.processAuthenticationResponse(mockRequest, mockResponse, authenticationContext);\n    }\n\n}\n\nassertThrows(AuthenticationFailedException.class, new A());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1595531,"reputation":159,"user_id":1477760,"accept_rate":0,"display_name":"Java Impatient"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1586128487,"creation_date":1586127016,"answer_id":61050562,"question_id":3677271,"body_markdown":"I created a custom Stack data structure which is backed by an array. The push() method throws a custom exception when the stack is full and you still try to push() data into the stack. You could handle it [like this][1] :\r\n\r\n    public class TestStackDataStructure {\r\n        //All test methods use this variable.\r\n        public Stack&lt;String&gt; stack;//This Stack class is NOT from Java.\r\n    \r\n        @BeforeMethod\r\n        public void beforeMethod(){\r\n    \t//Don&#39;t want to repeat this code inside each test, especially if we have several lines for setup.\r\n            stack = new Stack&lt;&gt;(5);\r\n        }\r\n    \r\n        @Test\r\n        public void pushItemIntoAFullStack(){\r\n    \t\t//I know this code won&#39;t throw exceptions, but what if we have some code that does ?\r\n            IntStream.rangeClosed(1,5).mapToObj(i -&gt; i + &quot;&quot;).forEach(stack::push);\r\n    \t\t\r\n            try{\r\n                stack.push(&quot;6&quot;);\r\n                Assert.fail(&quot;Exception expected.&quot;);\r\n            }catch (StackIsFullException ex) {\r\n                // do nothing;\r\n            }\r\n        }\r\n    \t\r\n    \t//Other tests here.\r\n    }\r\n\r\nAlternately, you could change your api as suggested [here][2] :\r\n\r\n    @Test\r\n    public void pushItemIntoAFullStack(){\r\n        IntStream.rangeClosed(1,5).mapToObj(i -&gt; i + &quot;&quot;).forEach(stack::push);\r\n        Assert.assertFalse( stack.push(&quot;6&quot;), &quot;Expected push to fail.&quot; );\r\n    }\r\n\r\nI updated the push method to return true or false if the operation passed or failed, instead of returning void. The [Java Stack][3].push(item) returns the element you tried to insert instead of void. I don&#39;t know why. But, it also inherits a similar method addElement(item) from Vector which returns void.\r\n\r\nOne minor downside I see to making push(item) return a boolean or void is that you are stuck with those return types. If you return Stack instead then you can write code conveniently like this `stack.push(1).push(2).push(3).pop()`. But, I don&#39;t know how often one would have to write code like that.\r\n\r\nSimilarly, my pop() method used to return a generic type &quot;T&quot; and used to throw an exception if the stack was empty. I updated it to return `Optional&lt;T&gt;` instead.\r\n\r\n    @Test\r\n    public void popEmptyStack(){\r\n        Assert.assertTrue(stack.pop().isEmpty());\r\n    }\r\n\r\nI guess I am now free of the clunky try-catch blocks and TestNg expectedExceptions. Hopefully, my design is good now.\r\n\r\n  [1]: https://stackoverflow.com/a/3678977/1477760\r\n  [2]: https://stackoverflow.com/a/3677506/1477760\r\n  [3]: https://docs.oracle.com/javase/9/docs/api/java/util/Stack.html#push-E-","title":"TestNG: How to test for mandatory exceptions?","body":"<p>I created a custom Stack data structure which is backed by an array. The push() method throws a custom exception when the stack is full and you still try to push() data into the stack. You could handle it <a href=\"https://stackoverflow.com/a/3678977/1477760\">like this</a> :</p>\n\n<pre><code>public class TestStackDataStructure {\n    //All test methods use this variable.\n    public Stack&lt;String&gt; stack;//This Stack class is NOT from Java.\n\n    @BeforeMethod\n    public void beforeMethod(){\n    //Don't want to repeat this code inside each test, especially if we have several lines for setup.\n        stack = new Stack&lt;&gt;(5);\n    }\n\n    @Test\n    public void pushItemIntoAFullStack(){\n        //I know this code won't throw exceptions, but what if we have some code that does ?\n        IntStream.rangeClosed(1,5).mapToObj(i -&gt; i + \"\").forEach(stack::push);\n\n        try{\n            stack.push(\"6\");\n            Assert.fail(\"Exception expected.\");\n        }catch (StackIsFullException ex) {\n            // do nothing;\n        }\n    }\n\n    //Other tests here.\n}\n</code></pre>\n\n<p>Alternately, you could change your api as suggested <a href=\"https://stackoverflow.com/a/3677506/1477760\">here</a> :</p>\n\n<pre><code>@Test\npublic void pushItemIntoAFullStack(){\n    IntStream.rangeClosed(1,5).mapToObj(i -&gt; i + \"\").forEach(stack::push);\n    Assert.assertFalse( stack.push(\"6\"), \"Expected push to fail.\" );\n}\n</code></pre>\n\n<p>I updated the push method to return true or false if the operation passed or failed, instead of returning void. The <a href=\"https://docs.oracle.com/javase/9/docs/api/java/util/Stack.html#push-E-\" rel=\"nofollow noreferrer\">Java Stack</a>.push(item) returns the element you tried to insert instead of void. I don't know why. But, it also inherits a similar method addElement(item) from Vector which returns void.</p>\n\n<p>One minor downside I see to making push(item) return a boolean or void is that you are stuck with those return types. If you return Stack instead then you can write code conveniently like this <code>stack.push(1).push(2).push(3).pop()</code>. But, I don't know how often one would have to write code like that.</p>\n\n<p>Similarly, my pop() method used to return a generic type \"T\" and used to throw an exception if the stack was empty. I updated it to return <code>Optional&lt;T&gt;</code> instead.</p>\n\n<pre><code>@Test\npublic void popEmptyStack(){\n    Assert.assertTrue(stack.pop().isEmpty());\n}\n</code></pre>\n\n<p>I guess I am now free of the clunky try-catch blocks and TestNg expectedExceptions. Hopefully, my design is good now.</p>\n"}],"owner":{"account_id":13663,"reputation":4571,"user_id":27583,"accept_rate":78,"display_name":"Christopher Parker"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38478,"favorite_count":0,"down_vote_count":0,"up_vote_count":39,"accepted_answer_id":3678977,"answer_count":7,"score":39,"last_activity_date":1675760152,"creation_date":1284040801,"question_id":3677271,"body_markdown":"I&#39;d like to write a TestNG test to make sure an exception is thrown under a specific condition, and fail the test if the exception is not thrown. Is there an easy way to do this without having to create an extra boolean variable?\r\n\r\nA related blog post on this subject: http://konigsberg.blogspot.com/2007/11/testng-and-expectedexceptions-ive.html","title":"TestNG: How to test for mandatory exceptions?","body":"<p>I'd like to write a TestNG test to make sure an exception is thrown under a specific condition, and fail the test if the exception is not thrown. Is there an easy way to do this without having to create an extra boolean variable?</p>\n\n<p>A related blog post on this subject: <a href=\"http://konigsberg.blogspot.com/2007/11/testng-and-expectedexceptions-ive.html\" rel=\"noreferrer\">http://konigsberg.blogspot.com/2007/11/testng-and-expectedexceptions-ive.html</a></p>\n"},{"tags":["java","android","setcontentview"],"comments":[{"owner":{"account_id":19254723,"reputation":2061,"user_id":14071914,"display_name":"JustAnotherDeveloper"},"score":1,"creation_date":1598023153,"post_id":63525520,"comment_id":112332095,"body_markdown":"What changes did you make to the xml file? The error is telling you that you have a ScrollView with more than one direct child and that that&#39;s not allowed, and it also mentions a &quot;binary xml file&quot;. I&#39;d start looking at any mentions of ScrollView in the xml file you modified.","body":"What changes did you make to the xml file? The error is telling you that you have a ScrollView with more than one direct child and that that&#39;s not allowed, and it also mentions a &quot;binary xml file&quot;. I&#39;d start looking at any mentions of ScrollView in the xml file you modified."},{"owner":{"account_id":17620600,"reputation":29,"user_id":12786656,"display_name":"Amine116"},"score":0,"creation_date":1598028764,"post_id":63525520,"comment_id":112334695,"body_markdown":"@JustAnotherDeveloper,\nThanks a lot.\nproblem solved .\nTake love brother &lt;3","body":"@JustAnotherDeveloper, Thanks a lot. problem solved . Take love brother &lt;3"}],"owner":{"account_id":17620600,"reputation":29,"user_id":12786656,"display_name":"Amine116"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":244,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675759793,"creation_date":1598022904,"question_id":63525520,"body_markdown":"    2020-08-21 21:08:03.197 14771-14771/com.example.incomeandexpendituremanager E/AndroidRuntime: FATAL EXCEPTION: main\r\n    Process: com.example.incomeandexpendituremanager, PID: 14771\r\n    java.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.incomeandexpendituremanager/com.example.incomeandexpendituremanager.MainActivity}: android.view.InflateException: Binary XML file line #8: ScrollView can host only one direct child\r\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2946)\r\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3081)\r\n        at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:78)\r\n        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:108)\r\n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:68)\r\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1831)\r\n        at android.os.Handler.dispatchMessage(Handler.java:106)\r\n        at android.os.Looper.loop(Looper.java:201)\r\n        at android.app.ActivityThread.main(ActivityThread.java:6810)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:547)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:873)\r\n     Caused by: android.view.InflateException: Binary XML file line #8: ScrollView can host only one direct child\r\n     Caused by: java.lang.IllegalStateException: ScrollView can host only one direct child\r\n        at android.widget.ScrollView.addView(ScrollView.java:279)\r\n        at android.view.LayoutInflater.rInflate(LayoutInflater.java:871)\r\n        at android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:828)\r\n        at android.view.LayoutInflater.rInflate(LayoutInflater.java:870)\r\n        at android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:828)\r\n        at android.view.LayoutInflater.rInflate(LayoutInflater.java:870)\r\n        at android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:828)\r\n        at android.view.LayoutInflater.parseInclude(LayoutInflater.java:999)\r\n        at android.view.LayoutInflater.rInflate(LayoutInflater.java:863)\r\n        at android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:828)\r\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:519)\r\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:427)\r\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:374)\r\n        at androidx.appcompat.app.AppCompatDelegateImpl.setContentView(AppCompatDelegateImpl.java:555)\r\n        at androidx.appcompat.app.AppCompatActivity.setContentView(AppCompatActivity.java:161)\r\n        at com.example.incomeandexpendituremanager.MainActivity.onCreate(MainActivity.java:75)\r\n        at android.app.Activity.performCreate(Activity.java:7224)\r\n        at android.app.Activity.performCreate(Activity.java:7213)\r\n        at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1272)\r\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2926)\r\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3081)\r\n        at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:78)\r\n        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:108)\r\n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:68)\r\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1831)\r\n        at android.os.Handler.dispatchMessage(Handler.java:106)\r\n        at android.os.Looper.loop(Looper.java:201)\r\n        at android.app.ActivityThread.main(ActivityThread.java:6810)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:547)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:873)\r\n\r\nHere,\r\nMainActivity.java:75 line is:\r\n\r\n    setContentView(R.layout.activity_main);\r\n\r\n\r\neverything were fine. but i added some lines of code in content_main.xml and i checked those line, there is no problem but still i am getting those error message.\r\nSo, where is the problem??\r\nI searched a lot but couldn&#39;t find any problem :( :(","title":"Problem to run the application; showing some error message","body":"<pre><code>2020-08-21 21:08:03.197 14771-14771/com.example.incomeandexpendituremanager E/AndroidRuntime: FATAL EXCEPTION: main\nProcess: com.example.incomeandexpendituremanager, PID: 14771\njava.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.incomeandexpendituremanager/com.example.incomeandexpendituremanager.MainActivity}: android.view.InflateException: Binary XML file line #8: ScrollView can host only one direct child\n    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2946)\n    at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3081)\n    at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:78)\n    at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:108)\n    at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:68)\n    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1831)\n    at android.os.Handler.dispatchMessage(Handler.java:106)\n    at android.os.Looper.loop(Looper.java:201)\n    at android.app.ActivityThread.main(ActivityThread.java:6810)\n    at java.lang.reflect.Method.invoke(Native Method)\n    at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:547)\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:873)\n Caused by: android.view.InflateException: Binary XML file line #8: ScrollView can host only one direct child\n Caused by: java.lang.IllegalStateException: ScrollView can host only one direct child\n    at android.widget.ScrollView.addView(ScrollView.java:279)\n    at android.view.LayoutInflater.rInflate(LayoutInflater.java:871)\n    at android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:828)\n    at android.view.LayoutInflater.rInflate(LayoutInflater.java:870)\n    at android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:828)\n    at android.view.LayoutInflater.rInflate(LayoutInflater.java:870)\n    at android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:828)\n    at android.view.LayoutInflater.parseInclude(LayoutInflater.java:999)\n    at android.view.LayoutInflater.rInflate(LayoutInflater.java:863)\n    at android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:828)\n    at android.view.LayoutInflater.inflate(LayoutInflater.java:519)\n    at android.view.LayoutInflater.inflate(LayoutInflater.java:427)\n    at android.view.LayoutInflater.inflate(LayoutInflater.java:374)\n    at androidx.appcompat.app.AppCompatDelegateImpl.setContentView(AppCompatDelegateImpl.java:555)\n    at androidx.appcompat.app.AppCompatActivity.setContentView(AppCompatActivity.java:161)\n    at com.example.incomeandexpendituremanager.MainActivity.onCreate(MainActivity.java:75)\n    at android.app.Activity.performCreate(Activity.java:7224)\n    at android.app.Activity.performCreate(Activity.java:7213)\n    at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1272)\n    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2926)\n    at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3081)\n    at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:78)\n    at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:108)\n    at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:68)\n    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1831)\n    at android.os.Handler.dispatchMessage(Handler.java:106)\n    at android.os.Looper.loop(Looper.java:201)\n    at android.app.ActivityThread.main(ActivityThread.java:6810)\n    at java.lang.reflect.Method.invoke(Native Method)\n    at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:547)\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:873)\n</code></pre>\n<p>Here,\nMainActivity.java:75 line is:</p>\n<pre><code>setContentView(R.layout.activity_main);\n</code></pre>\n<p>everything were fine. but i added some lines of code in content_main.xml and i checked those line, there is no problem but still i am getting those error message.\nSo, where is the problem??\nI searched a lot but couldn't find any problem :( :(</p>\n"},{"tags":["java","android-studio","mediastore","aide-ide"],"owner":{"account_id":24420387,"reputation":31,"user_id":18346716,"display_name":"Michelle"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675759779,"creation_date":1675759470,"question_id":75370846,"body_markdown":"Please I need your help, I want to build music player app for Android 10 device, and I want to use MediaStore API to get all song in the device, but when I used MediaStore API it listed only audio file ends with .ogg\r\n\r\nPlease help me.\r\n\r\nHere is my main activity\r\n\r\n```\r\n  @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.main);\r\n\r\n        ListView mAudioListView = (ListView) findViewById(R.id.audioListView);\r\n\r\n        ArrayList&lt;String&gt; mAudioList = new ArrayList&lt;&gt;();\r\n\r\n        //detail of each audio\r\n        String[] mAudioDetailArray = { MediaStore.Audio.Media._ID, MediaStore.Audio.Media.DISPLAY_NAME};\r\n\r\n        //INTERNAL_CONTENT_URI to display audio from internal storage\r\n        //EXTERNAL_CONTENT_URI to display audio from external storage\r\n        Cursor mAudioCursor = getContentResolver().query(MediaStore.Audio.Media.INTERNAL_CONTENT_URI, mAudioDetailArray, null, null, null);\r\n\r\n        if(mAudioCursor != null){\r\n            if(mAudioCursor.moveToFirst()){\r\n                do{\r\n                    int audioIndex = mAudioCursor.getColumnIndexOrThrow(MediaStore.Audio.Media.DISPLAY_NAME);\r\n\r\n                    mAudioList.add(mAudioCursor.getString(audioIndex));\r\n                }while(mAudioCursor.moveToNext());\r\n            }\r\n        }\r\n        mAudioCursor.close();\r\n\r\n        ArrayAdapter&lt;String&gt; mAdapter = new ArrayAdapter&lt;&gt;(this,android.R.layout.simple_list_item_1,android.R.id.text1, mAudioList);\r\n        mAudioListView.setAdapter(mAdapter);\r\n\r\n    }\r\n}\r\n```\r\n\r\n","title":"MediaStore show only files with .ogg extension","body":"<p>Please I need your help, I want to build music player app for Android 10 device, and I want to use MediaStore API to get all song in the device, but when I used MediaStore API it listed only audio file ends with .ogg</p>\n<p>Please help me.</p>\n<p>Here is my main activity</p>\n<pre><code>  @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.main);\n\n        ListView mAudioListView = (ListView) findViewById(R.id.audioListView);\n\n        ArrayList&lt;String&gt; mAudioList = new ArrayList&lt;&gt;();\n\n        //detail of each audio\n        String[] mAudioDetailArray = { MediaStore.Audio.Media._ID, MediaStore.Audio.Media.DISPLAY_NAME};\n\n        //INTERNAL_CONTENT_URI to display audio from internal storage\n        //EXTERNAL_CONTENT_URI to display audio from external storage\n        Cursor mAudioCursor = getContentResolver().query(MediaStore.Audio.Media.INTERNAL_CONTENT_URI, mAudioDetailArray, null, null, null);\n\n        if(mAudioCursor != null){\n            if(mAudioCursor.moveToFirst()){\n                do{\n                    int audioIndex = mAudioCursor.getColumnIndexOrThrow(MediaStore.Audio.Media.DISPLAY_NAME);\n\n                    mAudioList.add(mAudioCursor.getString(audioIndex));\n                }while(mAudioCursor.moveToNext());\n            }\n        }\n        mAudioCursor.close();\n\n        ArrayAdapter&lt;String&gt; mAdapter = new ArrayAdapter&lt;&gt;(this,android.R.layout.simple_list_item_1,android.R.id.text1, mAudioList);\n        mAudioListView.setAdapter(mAdapter);\n\n    }\n}\n</code></pre>\n"},{"tags":["java","tcp","coroutine","epoll","virtual-threads"],"owner":{"account_id":13798877,"reputation":45,"user_id":21010464,"display_name":"benrush"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":97,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675759476,"creation_date":1675759476,"question_id":75370848,"body_markdown":"I am implementing a tcp server based on epoll and JAVA virtual threads, I created a platform thread for infinitely `epoll_wait()` for incoming messages or connections, and for each connection established, a virtual thread with a `BlockingQueue` is created. So there is only one thread that handles all the `accept()` `recv()` `send()`, I assume that is fast completed when everything is nonblocking. However when I read about netty and other projects, they tend to use several threads for both `epoll_wait()` and message handling, I am confused about my threading model whether it&#39;s performant, will the single thread running `epoll_wait()` and all the IO operations be the bottlenect of my program?\r\n\r\nI run several benchmark on my tcp server, and the result seems not so well comparing to netty, so I am worried about my epoll mechanism over coroutine if it&#39;s correct or not.","title":"Epoll mechanism when using virtual threads","body":"<p>I am implementing a tcp server based on epoll and JAVA virtual threads, I created a platform thread for infinitely <code>epoll_wait()</code> for incoming messages or connections, and for each connection established, a virtual thread with a <code>BlockingQueue</code> is created. So there is only one thread that handles all the <code>accept()</code> <code>recv()</code> <code>send()</code>, I assume that is fast completed when everything is nonblocking. However when I read about netty and other projects, they tend to use several threads for both <code>epoll_wait()</code> and message handling, I am confused about my threading model whether it's performant, will the single thread running <code>epoll_wait()</code> and all the IO operations be the bottlenect of my program?</p>\n<p>I run several benchmark on my tcp server, and the result seems not so well comparing to netty, so I am worried about my epoll mechanism over coroutine if it's correct or not.</p>\n"},{"tags":["java","pdf","itext","contract","openpdf"],"answers":[{"tags":[],"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675680083,"creation_date":1675680083,"answer_id":75360225,"question_id":75359805,"body_markdown":"If you want to add something to an existing PDF with OpenPdf, you surely use a `PdfStamper`.\r\n\r\nTo add an image _above_ the existing content of some page, simply retrieve the overcontent of the target page from the stamper and add the image to it.","title":"How to make an image float above the text in OpenPDF to realize the seal function?","body":"<p>If you want to add something to an existing PDF with OpenPdf, you surely use a <code>PdfStamper</code>.</p>\n<p>To add an image <em>above</em> the existing content of some page, simply retrieve the overcontent of the target page from the stamper and add the image to it.</p>\n"}],"owner":{"account_id":24772763,"reputation":1,"user_id":18656443,"display_name":"etherealss"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":250,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1675759173,"creation_date":1675677613,"question_id":75359805,"body_markdown":"I found that OpenPDF&#39;s `Image.class` seems to have only 6 image positioning methods, and among them, there is only the option to add the image below the text (that is `Image.UNDERLYING`), but there is no option to let the image float above the text.\r\n\r\nThe source code of OpenPDF&#39;s Image class is as follows:\r\n\r\n```java\r\n    public static final int DEFAULT = 0;\r\n    public static final int RIGHT = 2;\r\n    public static final int LEFT = 0;\r\n    public static final int MIDDLE = 1;\r\n    public static final int TEXTWRAP = 4;\r\n    public static final int UNDERLYING = 8;\r\n```\r\n\r\nI want to implement the function of editing the contract. It needs to put a seal image on top of the text, and the position of the image needs to be dynamically set (because the length of the contract text may change). This may involve pagination and absolute positioning. I found that the `PdfContentByte` class seems to be able to add images to the text, but I don&#39;t know how it can dynamically position the images. It would be nice if there was a way to do this in sequence with `Document#add` like the `Paragraph` class, but I haven&#39;t found it yet.\r\n\r\nThe effect I want to achieve is roughly like this: [Click to view the picture](https://i.stack.imgur.com/HkyeG.png)\r\n\r\nHow can I achieve my needs?","title":"How to make an image float above the text in OpenPDF to realize the seal function?","body":"<p>I found that OpenPDF's <code>Image.class</code> seems to have only 6 image positioning methods, and among them, there is only the option to add the image below the text (that is <code>Image.UNDERLYING</code>), but there is no option to let the image float above the text.</p>\n<p>The source code of OpenPDF's Image class is as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public static final int DEFAULT = 0;\n    public static final int RIGHT = 2;\n    public static final int LEFT = 0;\n    public static final int MIDDLE = 1;\n    public static final int TEXTWRAP = 4;\n    public static final int UNDERLYING = 8;\n</code></pre>\n<p>I want to implement the function of editing the contract. It needs to put a seal image on top of the text, and the position of the image needs to be dynamically set (because the length of the contract text may change). This may involve pagination and absolute positioning. I found that the <code>PdfContentByte</code> class seems to be able to add images to the text, but I don't know how it can dynamically position the images. It would be nice if there was a way to do this in sequence with <code>Document#add</code> like the <code>Paragraph</code> class, but I haven't found it yet.</p>\n<p>The effect I want to achieve is roughly like this: <a href=\"https://i.stack.imgur.com/HkyeG.png\" rel=\"nofollow noreferrer\">Click to view the picture</a></p>\n<p>How can I achieve my needs?</p>\n"},{"tags":["java","android","sqlite","security","encryption"],"comments":[{"owner":{"account_id":1000314,"reputation":12261,"user_id":1015327,"display_name":"JimmyB"},"score":0,"creation_date":1429528445,"post_id":29746231,"comment_id":47624765,"body_markdown":"&quot;But I do[...]n&#39;t find it secure&quot; -- Why do you think it&#39;s not secure? If used correctly, it should be quite secure - if `privateKey` is *not* stored anywhere on the device.","body":"&quot;But I do[...]n&#39;t find it secure&quot; -- Why do you think it&#39;s not secure? If used correctly, it should be quite secure - if <code>privateKey</code> is <i>not</i> stored anywhere on the device."},{"owner":{"account_id":3476831,"reputation":1120,"user_id":2909799,"accept_rate":33,"display_name":"Codelord"},"score":0,"creation_date":1429528447,"post_id":29746231,"comment_id":47624767,"body_markdown":"It is necessary to store data locally","body":"It is necessary to store data locally"},{"owner":{"account_id":39846,"reputation":991133,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1429528524,"post_id":29746231,"comment_id":47624813,"body_markdown":"&quot;I have gone through Sql Cipher link but here I code I am getting below issue&quot; -- we cannot help you without more to go on, such as your `build.gradle` files (if you are using Android Studio). &quot;Also I don&#39;t need password protected file&quot; -- hard-coding a password will be insecure, as will be generating a password and keeping it on internal storage. It is theoretically possible, using a hardware-backed `KeyStore` on fairly new Android devices, to avoid a password *and* avoid a hard-coded password, though I have not tried this yet and relatively few devices support it today.","body":"&quot;I have gone through Sql Cipher link but here I code I am getting below issue&quot; -- we cannot help you without more to go on, such as your <code>build.gradle</code> files (if you are using Android Studio). &quot;Also I don&#39;t need password protected file&quot; -- hard-coding a password will be insecure, as will be generating a password and keeping it on internal storage. It is theoretically possible, using a hardware-backed <code>KeyStore</code> on fairly new Android devices, to avoid a password <i>and</i> avoid a hard-coded password, though I have not tried this yet and relatively few devices support it today."},{"owner":{"account_id":1000314,"reputation":12261,"user_id":1015327,"display_name":"JimmyB"},"score":0,"creation_date":1429528529,"post_id":29746231,"comment_id":47624818,"body_markdown":"You probably won&#39;t have to encrypt the whole database (file). Maybe you can just encrypt those values which really are sensitive.","body":"You probably won&#39;t have to encrypt the whole database (file). Maybe you can just encrypt those values which really are sensitive."},{"owner":{"account_id":6171876,"reputation":63,"user_id":4809952,"display_name":"Santosh Kat"},"score":0,"creation_date":1429528878,"post_id":29746231,"comment_id":47625077,"body_markdown":"@HannoBinder Actually my whole Database is sensitive.So I need full database encryption.Please let me know your suggestion how to implement and what will be the better approach.","body":"@HannoBinder Actually my whole Database is sensitive.So I need full database encryption.Please let me know your suggestion how to implement and what will be the better approach."},{"owner":{"account_id":3131299,"reputation":37922,"user_id":2649012,"accept_rate":100,"display_name":"Phant&#244;maxx"},"score":0,"creation_date":1429529093,"post_id":29746231,"comment_id":47625241,"body_markdown":"`100% secure` **Nothing** can ever be `100% secure`, in computer science. A motivated hacker will always be able break your security.","body":"<code>100% secure</code> <b>Nothing</b> can ever be <code>100% secure</code>, in computer science. A motivated hacker will always be able break your security."},{"owner":{"account_id":6171876,"reputation":63,"user_id":4809952,"display_name":"Santosh Kat"},"score":0,"creation_date":1429533147,"post_id":29746231,"comment_id":47628229,"body_markdown":"thnk you all for your responses :)","body":"thnk you all for your responses :)"}],"answers":[{"tags":[],"owner":{"account_id":2750226,"reputation":981,"user_id":2369792,"accept_rate":35,"display_name":"Chiradeep"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1675758821,"creation_date":1429529965,"answer_id":29746860,"question_id":29746231,"body_markdown":"SQL Lite is a lightweight database system.Having said that it also has few hacks possible into the system to make it encrypted OR password protected. Here are few of them which I know :-\r\n\r\n 1. [SEE][1]: \r\n\r\n&gt; The SQLite Encryption Extension (SEE) is an add-on to the public domain version of SQLite that allows an application to read and write encrypted database files. Four different encryption algorithms are supported:\r\n&gt; \r\n&gt;  RC4\r\n&gt; \r\n&gt;  AES-128 in OFB mode\r\n&gt; \r\n&gt;  AES-128 in CCM mode\r\n&gt; \r\n&gt;  AES-256 in OFB mode\r\n\r\n 2. [WxSQLite][2]: \r\n&gt; A wxWidgets style c++ wrapper that also implements SQLite&#39;s encryption.\r\n\r\n3.[SQLCipher][3] \r\n&gt; SQLCipher has a small footprint and great performance so it’s ideal for protecting embedded application databases and is well suited for mobile development.\r\n\r\n\r\n  [1]: http://www.hwaci.com/sw/sqlite/see.html\r\n  [2]: http://sourceforge.net/projects/wxsqlite/\r\n  [3]: http://sqlcipher.net/\r\n\r\nPersonally I recommend as per your needs SQLCipher is the best one to go for.I have tried it.Its highly recommended **Open-Source** System.","title":"Android encrypt/decrypt sqlite database 100% secure","body":"<p>SQL Lite is a lightweight database system.Having said that it also has few hacks possible into the system to make it encrypted OR password protected. Here are few of them which I know :-</p>\n<ol>\n<li><a href=\"http://www.hwaci.com/sw/sqlite/see.html\" rel=\"nofollow noreferrer\">SEE</a>:</li>\n</ol>\n<blockquote>\n<p>The SQLite Encryption Extension (SEE) is an add-on to the public domain version of SQLite that allows an application to read and write encrypted database files. Four different encryption algorithms are supported:</p>\n<p>RC4</p>\n<p>AES-128 in OFB mode</p>\n<p>AES-128 in CCM mode</p>\n<p>AES-256 in OFB mode</p>\n</blockquote>\n<ol start=\"2\">\n<li><a href=\"http://sourceforge.net/projects/wxsqlite/\" rel=\"nofollow noreferrer\">WxSQLite</a>:</li>\n</ol>\n<blockquote>\n<p>A wxWidgets style c++ wrapper that also implements SQLite's encryption.</p>\n</blockquote>\n<p>3.<a href=\"http://sqlcipher.net/\" rel=\"nofollow noreferrer\">SQLCipher</a></p>\n<blockquote>\n<p>SQLCipher has a small footprint and great performance so it’s ideal for protecting embedded application databases and is well suited for mobile development.</p>\n</blockquote>\n<p>Personally I recommend as per your needs SQLCipher is the best one to go for.I have tried it.Its highly recommended <strong>Open-Source</strong> System.</p>\n"}],"owner":{"account_id":6171876,"reputation":63,"user_id":4809952,"display_name":"Santosh Kat"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11339,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":29746860,"answer_count":1,"score":6,"last_activity_date":1675758821,"creation_date":1429528233,"question_id":29746231,"body_markdown":"I am a new born baby in android security point of view. What I am trying to do is encrypt/decrypt Sqlite Database.\r\n \r\nI have gone through multiple tutorial but nothing seems to work.I have gone through Sql Cipher link but here I code and I am getting issue given below:\r\n\r\n    Type Conversion to Dalvik format failed: Unable to execute dex: Multiple dex files define Lnet/sqlcipher/AbstractCursor$SelfContentObserver;\r\n\r\nAlso I don&#39;t need password protected file. I have use Cipher default class that Android library provide like below:\r\n\r\n    Cipher c = Cipher.getInstance(&quot;RSA&quot;);\r\n    \t\t\tc.init(Cipher.ENCRYPT_MODE, privateKey);\r\n\r\nBut I doesn&#39;t find it secure. I suppose it can be decrypt by hackers. I need proper 100% encryption and decryption security of Sqlite Database.","title":"Android encrypt/decrypt sqlite database 100% secure","body":"<p>I am a new born baby in android security point of view. What I am trying to do is encrypt/decrypt Sqlite Database.</p>\n\n<p>I have gone through multiple tutorial but nothing seems to work.I have gone through Sql Cipher link but here I code and I am getting issue given below:</p>\n\n<pre><code>Type Conversion to Dalvik format failed: Unable to execute dex: Multiple dex files define Lnet/sqlcipher/AbstractCursor$SelfContentObserver;\n</code></pre>\n\n<p>Also I don't need password protected file. I have use Cipher default class that Android library provide like below:</p>\n\n<pre><code>Cipher c = Cipher.getInstance(\"RSA\");\n            c.init(Cipher.ENCRYPT_MODE, privateKey);\n</code></pre>\n\n<p>But I doesn't find it secure. I suppose it can be decrypt by hackers. I need proper 100% encryption and decryption security of Sqlite Database.</p>\n"},{"tags":["python","java","json","sockets"],"comments":[{"owner":{"account_id":2119809,"reputation":50937,"user_id":1883316,"display_name":"Tim Roberts"},"score":1,"creation_date":1675718125,"post_id":75366043,"comment_id":132985683,"body_markdown":"It looks like you&#39;re getting the length as the first few bytes of the data.  If you strip that off, then you should be able to `loads` the resulting string.  I can&#39;t tell whether the length is 2 bytes or 4 bytes.  If you had shown us `print(recv_data)` before doing any decoding, we could advise you.","body":"It looks like you&#39;re getting the length as the first few bytes of the data.  If you strip that off, then you should be able to <code>loads</code> the resulting string.  I can&#39;t tell whether the length is 2 bytes or 4 bytes.  If you had shown us <code>print(recv_data)</code> before doing any decoding, we could advise you."},{"owner":{"account_id":14871314,"reputation":63,"user_id":10738748,"display_name":"Phoenix"},"score":0,"creation_date":1675721050,"post_id":75366043,"comment_id":132986451,"body_markdown":"@TimRoberts right. Question updated with that output :)","body":"@TimRoberts right. Question updated with that output :)"},{"owner":{"account_id":14871314,"reputation":63,"user_id":10738748,"display_name":"Phoenix"},"score":0,"creation_date":1675721917,"post_id":75366043,"comment_id":132986661,"body_markdown":"@TimRoberts  ```recv_data = client.recv(SIZE).decode(&#39;utf-8&#39;).strip()``` doesn&#39;t fix the JSONDecodeError :C but json.loads works","body":"@TimRoberts  <code>recv_data = client.recv(SIZE).decode(&#39;utf-8&#39;).strip()</code> doesn&#39;t fix the JSONDecodeError :C but json.loads works"},{"owner":{"account_id":2119809,"reputation":50937,"user_id":1883316,"display_name":"Tim Roberts"},"score":1,"creation_date":1675755198,"post_id":75366043,"comment_id":132991471,"body_markdown":"You need `recv_data = client.recv(SIZE)[2:].decode(&#39;utf-8&#39;)`.  The first two bytes give you the length of the upcoming string, but are not part of the JSON.  To be more correct, you should read the two bytes, then use THAT value to decide how many bytes to read.  TCP is a streaming protocol; if the client sends two things in a row, you can receive them both together.  That would screw you up.","body":"You need <code>recv_data = client.recv(SIZE)[2:].decode(&#39;utf-8&#39;)</code>.  The first two bytes give you the length of the upcoming string, but are not part of the JSON.  To be more correct, you should read the two bytes, then use THAT value to decide how many bytes to read.  TCP is a streaming protocol; if the client sends two things in a row, you can receive them both together.  That would screw you up."}],"owner":{"account_id":14871314,"reputation":63,"user_id":10738748,"display_name":"Phoenix"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1675758728,"creation_date":1675713901,"question_id":75366043,"body_markdown":"I prepared a JSONObject in java, encoded it in UTF-8 and sent it through a socket to a python server.\r\nPython receives, but using json.loads() fails because somehow the data is not properly configured, hence cannot be converted into a dictionary and handled.\r\n## JAVA\r\n``` java\r\n    JSONObject obj = new JSONObject();\r\n    Socket clientSocket;\r\n    [...]\r\n    clientSocket = new Socket(Server.getOrchestrator(), 5051);\r\n    DataOutputStream outToServer = new DataOutputStream(clientSocket.getOutputStream());\r\n    obj.put(&quot;operation&quot;, &quot;provider list&quot;);\r\n    outToServer.writeUTF(obj.toString());\r\n```\r\n\r\n## PYTHON\r\n``` python\r\n    socket = (socket configuration here)\r\n    socket.listen(5)\r\n    client, address = socket.accept()\r\n    threading.Thread(target=self.serve_client, args=(client, address)).start()\r\n```\r\n```\r\n    def serve_client(self, client, address):\r\n      SIZE = 1024\r\n      while True:\r\n         recv_data = client.recv(SIZE).decode(&#39;utf-8&#39;)\r\n         print(recv_data)\r\n         print(type(recv_data))\r\n         recv_data = json.loads(recv_data) # &lt;-- this breaks\r\n```\r\n\r\n#### Output:\r\n\r\n    error JSONDecodeError(&#39;Expecting value: line 1 column 1 (char 0)&#39;,)\r\n\r\n#### Output before decoding:\r\n\r\n    b&#39;\\x00\\xld{&quot;operation&quot;:&quot;provider list&quot;}&#39;\r\n \r\n\r\nWhat I tried to do in order to solve:\r\nreading through lots of Q&amp;A here, instead of DataOutputStream I tried\r\n\r\n## JAVA\r\n```java\r\nOutputStreamWriter outToServer = new OutputStreamWriter (clientSocket.getOutputStream(), StandardCharsets.UTF_8); // &lt;-- this hangs, looks like python doesn&#39;t receive anything because nothing is printed\r\n```\r\n\r\n```java\r\nBufferedReader outToServer = new BufferedReader(new OutputStreamWriter(clientSocket.getOutputStream(), StandardCharsets.UTF_8)); // &lt;-- same as before, this hangs\r\n```\r\n\r\n## PYTHON\r\nAttempt 1\r\n```python\r\nrecv_data = client.recv(SIZE) # without decode, are received bytes\r\nrecv_data = json.dumps(recv_data) # breaks because this can&#39;t handle bytes\r\nrecv_data = json.loads(recv_data)\r\n```\r\nAttempt 2\r\n```pyhton\r\nrecv_data = client.recv(SIZE).decode(&#39;utf-8&#39;)\r\nrecv_data = json.dumps(recv_data) # it works\r\nprint(f&quot;String recv_data converted in string: {recv_data}\\nRecv_data type {type(recv_data)})\r\nrecv_data = json.loads(recv_data) # it doesn&#39;t work -&gt;  doesn&#39;t return a dictionary, I get another string instead # to be sure I have a JSON-compatible string\r\nprint(f&quot;String recv_data converted in dictionary: {recv_data}\\nRecv_data type {type(recv_data)})\r\n```\r\n\r\nOutput referenced to this attempt:\r\n\r\n```\r\n{&quot;operation&quot;:&quot;provider list&quot;}\r\n&lt;class &#39;str&#39;&gt;\r\nString recv_data converted in string: &quot;\\u0000\\u001d{\\&quot;operation\\&quot;:\\&quot;provider list\\&quot;}&quot;\r\nRecv_data tyoe: &lt;class &#39;str&#39;&gt;\r\nString recv_data converted in a dictionary: {&quot;operation&quot;: &quot;provider list&quot;}\r\nRecv_data type: &lt;class &#39;str&#39;&gt;\r\n```\r\n\r\nThe whole codes are very complex (and very, VERY messy). I&#39;m not the one who wrote them (although looks like I&#39;m the one who&#39;ll fix them): that&#39;s why I omitted some stuff","title":"JSONDecodeError: sending java JSONObject with DataOutputStream, python receives through socket but json.loads doesn&#39;t work","body":"<p>I prepared a JSONObject in java, encoded it in UTF-8 and sent it through a socket to a python server.\nPython receives, but using json.loads() fails because somehow the data is not properly configured, hence cannot be converted into a dictionary and handled.</p>\n<h2>JAVA</h2>\n<pre class=\"lang-java prettyprint-override\"><code>    JSONObject obj = new JSONObject();\n    Socket clientSocket;\n    [...]\n    clientSocket = new Socket(Server.getOrchestrator(), 5051);\n    DataOutputStream outToServer = new DataOutputStream(clientSocket.getOutputStream());\n    obj.put(&quot;operation&quot;, &quot;provider list&quot;);\n    outToServer.writeUTF(obj.toString());\n</code></pre>\n<h2>PYTHON</h2>\n<pre class=\"lang-py prettyprint-override\"><code>    socket = (socket configuration here)\n    socket.listen(5)\n    client, address = socket.accept()\n    threading.Thread(target=self.serve_client, args=(client, address)).start()\n</code></pre>\n<pre><code>    def serve_client(self, client, address):\n      SIZE = 1024\n      while True:\n         recv_data = client.recv(SIZE).decode('utf-8')\n         print(recv_data)\n         print(type(recv_data))\n         recv_data = json.loads(recv_data) # &lt;-- this breaks\n</code></pre>\n<h4>Output:</h4>\n<pre><code>error JSONDecodeError('Expecting value: line 1 column 1 (char 0)',)\n</code></pre>\n<h4>Output before decoding:</h4>\n<pre><code>b'\\x00\\xld{&quot;operation&quot;:&quot;provider list&quot;}'\n</code></pre>\n<p>What I tried to do in order to solve:\nreading through lots of Q&amp;A here, instead of DataOutputStream I tried</p>\n<h2>JAVA</h2>\n<pre class=\"lang-java prettyprint-override\"><code>OutputStreamWriter outToServer = new OutputStreamWriter (clientSocket.getOutputStream(), StandardCharsets.UTF_8); // &lt;-- this hangs, looks like python doesn't receive anything because nothing is printed\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>BufferedReader outToServer = new BufferedReader(new OutputStreamWriter(clientSocket.getOutputStream(), StandardCharsets.UTF_8)); // &lt;-- same as before, this hangs\n</code></pre>\n<h2>PYTHON</h2>\n<p>Attempt 1</p>\n<pre class=\"lang-py prettyprint-override\"><code>recv_data = client.recv(SIZE) # without decode, are received bytes\nrecv_data = json.dumps(recv_data) # breaks because this can't handle bytes\nrecv_data = json.loads(recv_data)\n</code></pre>\n<p>Attempt 2</p>\n<pre><code>recv_data = client.recv(SIZE).decode('utf-8')\nrecv_data = json.dumps(recv_data) # it works\nprint(f&quot;String recv_data converted in string: {recv_data}\\nRecv_data type {type(recv_data)})\nrecv_data = json.loads(recv_data) # it doesn't work -&gt;  doesn't return a dictionary, I get another string instead # to be sure I have a JSON-compatible string\nprint(f&quot;String recv_data converted in dictionary: {recv_data}\\nRecv_data type {type(recv_data)})\n</code></pre>\n<p>Output referenced to this attempt:</p>\n<pre><code>{&quot;operation&quot;:&quot;provider list&quot;}\n&lt;class 'str'&gt;\nString recv_data converted in string: &quot;\\u0000\\u001d{\\&quot;operation\\&quot;:\\&quot;provider list\\&quot;}&quot;\nRecv_data tyoe: &lt;class 'str'&gt;\nString recv_data converted in a dictionary: {&quot;operation&quot;: &quot;provider list&quot;}\nRecv_data type: &lt;class 'str'&gt;\n</code></pre>\n<p>The whole codes are very complex (and very, VERY messy). I'm not the one who wrote them (although looks like I'm the one who'll fix them): that's why I omitted some stuff</p>\n"},{"tags":["java","android","android-studio","android-permissions"],"answers":[{"tags":[],"owner":{"account_id":1413995,"reputation":2051,"user_id":1340021,"accept_rate":32,"display_name":"Bungles"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1602736986,"creation_date":1602736986,"answer_id":64365003,"question_id":64364949,"body_markdown":"Turns out I misinterpreted the information I was given. The implementation line in build.gradle needs to be this instead.\r\n\r\n    implementation &#39;androidx.activity:activity-ktx:1.2.0-beta01&#39;\r\n","title":"How do I #include ActivityResultContracts","body":"<p>Turns out I misinterpreted the information I was given. The implementation line in build.gradle needs to be this instead.</p>\n<pre><code>implementation 'androidx.activity:activity-ktx:1.2.0-beta01'\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1849514,"reputation":193868,"user_id":1676363,"accept_rate":100,"display_name":"ianhanniballake"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1602737028,"creation_date":1602737028,"answer_id":64365014,"question_id":64364949,"body_markdown":"As per the [Getting a result from an activity documentation][1], the Activity Result API was only introduced in Activity 1.2.0 and Fragment 1.3.0. AppCompat 1.2.0 only transitively depends on Fragment 1.1.0, which in turn only depends on Activity 1.0.0. This means you don&#39;t have a new enough version of Fragments and Activity to have access to the Activity Result APIs.\r\n\r\nTherefore you can either upgrade your version of AppCompat (which *does* depend on the newer version of Fragment and Activity):\r\n\r\n    implementation &#39;androidx.appcompat:appcompat:1.3.0-alpha02&#39;\r\n\r\nOr add an additional dependency specifically on Fragment (which pulls in the correct version of Activity):\r\n\r\n    implementation &#39;androidx.fragment:fragment-ktx:1.3.0-beta01&#39;\r\n\r\n\r\n  [1]: https://developer.android.com/training/basics/intents/result","title":"How do I #include ActivityResultContracts","body":"<p>As per the <a href=\"https://developer.android.com/training/basics/intents/result\" rel=\"nofollow noreferrer\">Getting a result from an activity documentation</a>, the Activity Result API was only introduced in Activity 1.2.0 and Fragment 1.3.0. AppCompat 1.2.0 only transitively depends on Fragment 1.1.0, which in turn only depends on Activity 1.0.0. This means you don't have a new enough version of Fragments and Activity to have access to the Activity Result APIs.</p>\n<p>Therefore you can either upgrade your version of AppCompat (which <em>does</em> depend on the newer version of Fragment and Activity):</p>\n<pre><code>implementation 'androidx.appcompat:appcompat:1.3.0-alpha02'\n</code></pre>\n<p>Or add an additional dependency specifically on Fragment (which pulls in the correct version of Activity):</p>\n<pre><code>implementation 'androidx.fragment:fragment-ktx:1.3.0-beta01'\n</code></pre>\n"}],"owner":{"account_id":1413995,"reputation":2051,"user_id":1340021,"accept_rate":32,"display_name":"Bungles"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1044,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":64365003,"answer_count":2,"score":0,"last_activity_date":1675758376,"creation_date":1602736558,"question_id":64364949,"body_markdown":"When I try to do this:\r\n\r\n    import androidx.activity.result.contract.ActivityResultContracts\r\n\r\nAndroid Studio complains that &quot;result&quot; is undefined.\r\n\r\nMy build.gradle has this line in it:\r\n\r\n    implementation &#39;androidx.appcompat:appcompat:1.2.0&#39;\r\n\r\nAs far as I know, this should give me access to ActivityResultContracts.  What am I missing?","title":"How do I #include ActivityResultContracts","body":"<p>When I try to do this:</p>\n<pre><code>import androidx.activity.result.contract.ActivityResultContracts\n</code></pre>\n<p>Android Studio complains that &quot;result&quot; is undefined.</p>\n<p>My build.gradle has this line in it:</p>\n<pre><code>implementation 'androidx.appcompat:appcompat:1.2.0'\n</code></pre>\n<p>As far as I know, this should give me access to ActivityResultContracts.  What am I missing?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":7424117,"reputation":56335,"user_id":5647260,"accept_rate":82,"display_name":"Andrew Li"},"score":1,"creation_date":1466739950,"post_id":38005252,"comment_id":63454210,"body_markdown":"What is `input`? It isn&#39;t defined in your snippet","body":"What is <code>input</code>? It isn&#39;t defined in your snippet"},{"owner":{"account_id":2871026,"reputation":31449,"user_id":2464386,"accept_rate":84,"display_name":"ajb"},"score":1,"creation_date":1466740062,"post_id":38005252,"comment_id":63454242,"body_markdown":"1. You do not have a variable named `input`.  You need to define one (probably `Scanner input = new Scanner(System.in);`).  2. I don&#39;t know why the lines that start with `int player` are in curly braces, but the braces don&#39;t do anything.  And the `return` will leave your method, which means can never get to the next line, which the compiler will flag as an error.  3) Remove the semicolon from `if (player == computer);`.  It&#39;s wrong.","body":"1. You do not have a variable named <code>input</code>.  You need to define one (probably <code>Scanner input = new Scanner(System.in);</code>).  2. I don&#39;t know why the lines that start with <code>int player</code> are in curly braces, but the braces don&#39;t do anything.  And the <code>return</code> will leave your method, which means can never get to the next line, which the compiler will flag as an error.  3) Remove the semicolon from <code>if (player == computer);</code>.  It&#39;s wrong."}],"answers":[{"tags":[],"owner":{"account_id":2970088,"reputation":760,"user_id":2522327,"accept_rate":71,"display_name":"Vincent Rodomista"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1466741605,"creation_date":1466741605,"answer_id":38005495,"question_id":38005252,"body_markdown":"Ok, so Java does not know what `input` means here, as you haven&#39;t declared it as anything. As far as it knows, `input` is just a bunch of jumbled letters. You have to create an **object** that can read _input_ from the keyboard. You can do so like this:\r\n\r\n    input = new Scanner(System.in);\r\n\r\nLet me offer you a bit of advice as far as your code goes though:\r\n\r\n    // Rock Paper Scissors Game\r\n\r\n    int Rock = -1;\r\n    int Paper = 0;\r\n    int Scissors = 1;\r\n\r\nFor your Rock, Paper, and Scissors variables, it makes more sense to keep them all positive - and also in java the convention is to name your variables in &quot;camelCase&quot;, where your first word begins with a lower case and every word that follows begins with a capital letter. However, these are **CONSTANTS**, which mean they will never ever ever super ever change, so we write them in capital letters. So we&#39;ll change it to:\r\n\r\n    int ROCK = 1; \r\n    int PAPER = 2;\r\n    int SCISSORS = 3;\r\n\r\nI&#39;m not sure what you&#39;re doing with `Max` and `Min` here, because they aren&#39;t referenced anywhere else in your code. If that&#39;s the case, and they aren&#39;t going to change.. **ever**... you can just use ints because it is something that can be **hard-coded into your script**\r\n\r\n    // int Max = 1;   GET RID OF IT\r\n    // int Min = -1;  GET RID OF IT\r\n\r\nLet&#39;s rename your computer choice to a variable that describes it more.. After all `computer` is not very descriptive.\r\n\r\nAlso, the format for getting a random number in a range is correct, but let&#39;s not bother with max and min variables since the numbers will never change. Also, what&#39;s with the curly braces? They aren&#39;t needed since this isn&#39;t a block.\r\n\r\n    int computer_choice = ((int)(Math.random() * ((3 - 1) + 1))) + 1;\r\n\r\nLet&#39;s clean up the select statement a bit - because it just looks better this way. Remember, `\\n` is a special character called `newline` that will put a carriage return between each line.\r\n\r\n    System.out.println(&quot;Input 1 for Rock. \\n 2. for Paper. \\n 3 for Scissors.&quot;);\r\n\r\nNow we have the answer to your question: the declaration for a scanner.\r\n\r\n    input = new Scanner(System.in);\r\n\r\nthen we have the player&#39;s move calculated.\r\n\r\n    int player_choice = input.nextInt();\r\n\r\nNo need to &#39;return player&#39;, since that&#39;s not what we are looking for.\r\n\r\n    // return player; GET RID OF IT\r\n\r\nFinally, we need to handle the results. Again you go a little crazy with the braces. there&#39;s no need to use braces if the `if` statement is only one line. Furthermore, you don&#39;t put semicolons after anything that takes an open brace afterwards, including loops and conditionals, like an `if` statement\r\n\r\n    if(player_choice == computer) \r\n        System.out.println(&quot;Tie&quot;);\r\n    \r\nYou also have to handle cases besides ties, you can due so using `else if` statements that use the logical `AND` (`&amp;&amp;`) to combine conditions\r\n\r\n    else if(player_choice == 1 &amp;&amp; computer_choice == 2)\r\n        System.out.println(&quot;Computer wins!&quot;)\r\n    }\r\n    else if(player_choice == 2 &amp;&amp; computer_choice == 1)\r\n        System.out.println(&quot;You win!&quot;)\r\n    }\r\n    else if(player_choice == 3 &amp;&amp; computer_choice == 2)\r\n        System.out.println(&quot;You win!&quot;)\r\n    }\r\n    else if(player_choice == 2 &amp;&amp; computer_choice == 3)\r\n        System.out.println(&quot;Computer wins!&quot;)\r\n    }\r\n\r\nAnd you&#39;re done! But I&#39;m not sure you understand how the format of a java file works, so I&#39;ll put out the complete one for you\r\n\r\n\r\n    public class RockPaperScissorsGame {\r\n\r\n   \r\n\r\n    private int ROCK = 1; \r\n    private int PAPER = 2;\r\n    private int SCISSORS = 3;\r\n\r\n    public static void playGame(){\r\n        int computer_choice = ((int)(Math.random() * ((3 - 1) + 1))) + 1;\r\n        System.out.println(&quot;Input 1 for Rock. \\n 2. for Paper. \\n 3 for Scissors.&quot;);\r\n\r\n        input = new Scanner(System.in);\r\n        int player_choice = input.nextInt();\r\n\r\n        if(player_choice == computer) \r\n            System.out.println(&quot;Tie&quot;);\r\n        else if(player_choice == 1 &amp;&amp; computer_choice == 2)\r\n            System.out.println(&quot;Computer wins!&quot;); \r\n        else if(player_choice == 2 &amp;&amp; computer_choice == 1)\r\n            System.out.println(&quot;You win!&quot;);  \r\n        else if(player_choice == 3 &amp;&amp; computer_choice == 2)\r\n            System.out.println(&quot;You win!&quot;);   \r\n        else if(player_choice == 2 &amp;&amp; computer_choice == 3)\r\n            System.out.println(&quot;Computer wins!&quot;);\r\n    }\r\n\r\n    public static void main(String[] args){\r\n        playGame();\r\n    }\r\n\r\n}\r\n    \r\n","title":"cannot find symbol with input.nextInt()","body":"<p>Ok, so Java does not know what <code>input</code> means here, as you haven't declared it as anything. As far as it knows, <code>input</code> is just a bunch of jumbled letters. You have to create an <strong>object</strong> that can read <em>input</em> from the keyboard. You can do so like this:</p>\n\n<pre><code>input = new Scanner(System.in);\n</code></pre>\n\n<p>Let me offer you a bit of advice as far as your code goes though:</p>\n\n<pre><code>// Rock Paper Scissors Game\n\nint Rock = -1;\nint Paper = 0;\nint Scissors = 1;\n</code></pre>\n\n<p>For your Rock, Paper, and Scissors variables, it makes more sense to keep them all positive - and also in java the convention is to name your variables in \"camelCase\", where your first word begins with a lower case and every word that follows begins with a capital letter. However, these are <strong>CONSTANTS</strong>, which mean they will never ever ever super ever change, so we write them in capital letters. So we'll change it to:</p>\n\n<pre><code>int ROCK = 1; \nint PAPER = 2;\nint SCISSORS = 3;\n</code></pre>\n\n<p>I'm not sure what you're doing with <code>Max</code> and <code>Min</code> here, because they aren't referenced anywhere else in your code. If that's the case, and they aren't going to change.. <strong>ever</strong>... you can just use ints because it is something that can be <strong>hard-coded into your script</strong></p>\n\n<pre><code>// int Max = 1;   GET RID OF IT\n// int Min = -1;  GET RID OF IT\n</code></pre>\n\n<p>Let's rename your computer choice to a variable that describes it more.. After all <code>computer</code> is not very descriptive.</p>\n\n<p>Also, the format for getting a random number in a range is correct, but let's not bother with max and min variables since the numbers will never change. Also, what's with the curly braces? They aren't needed since this isn't a block.</p>\n\n<pre><code>int computer_choice = ((int)(Math.random() * ((3 - 1) + 1))) + 1;\n</code></pre>\n\n<p>Let's clean up the select statement a bit - because it just looks better this way. Remember, <code>\\n</code> is a special character called <code>newline</code> that will put a carriage return between each line.</p>\n\n<pre><code>System.out.println(\"Input 1 for Rock. \\n 2. for Paper. \\n 3 for Scissors.\");\n</code></pre>\n\n<p>Now we have the answer to your question: the declaration for a scanner.</p>\n\n<pre><code>input = new Scanner(System.in);\n</code></pre>\n\n<p>then we have the player's move calculated.</p>\n\n<pre><code>int player_choice = input.nextInt();\n</code></pre>\n\n<p>No need to 'return player', since that's not what we are looking for.</p>\n\n<pre><code>// return player; GET RID OF IT\n</code></pre>\n\n<p>Finally, we need to handle the results. Again you go a little crazy with the braces. there's no need to use braces if the <code>if</code> statement is only one line. Furthermore, you don't put semicolons after anything that takes an open brace afterwards, including loops and conditionals, like an <code>if</code> statement</p>\n\n<pre><code>if(player_choice == computer) \n    System.out.println(\"Tie\");\n</code></pre>\n\n<p>You also have to handle cases besides ties, you can due so using <code>else if</code> statements that use the logical <code>AND</code> (<code>&amp;&amp;</code>) to combine conditions</p>\n\n<pre><code>else if(player_choice == 1 &amp;&amp; computer_choice == 2)\n    System.out.println(\"Computer wins!\")\n}\nelse if(player_choice == 2 &amp;&amp; computer_choice == 1)\n    System.out.println(\"You win!\")\n}\nelse if(player_choice == 3 &amp;&amp; computer_choice == 2)\n    System.out.println(\"You win!\")\n}\nelse if(player_choice == 2 &amp;&amp; computer_choice == 3)\n    System.out.println(\"Computer wins!\")\n}\n</code></pre>\n\n<p>And you're done! But I'm not sure you understand how the format of a java file works, so I'll put out the complete one for you</p>\n\n<pre><code>public class RockPaperScissorsGame {\n\n\n\nprivate int ROCK = 1; \nprivate int PAPER = 2;\nprivate int SCISSORS = 3;\n\npublic static void playGame(){\n    int computer_choice = ((int)(Math.random() * ((3 - 1) + 1))) + 1;\n    System.out.println(\"Input 1 for Rock. \\n 2. for Paper. \\n 3 for Scissors.\");\n\n    input = new Scanner(System.in);\n    int player_choice = input.nextInt();\n\n    if(player_choice == computer) \n        System.out.println(\"Tie\");\n    else if(player_choice == 1 &amp;&amp; computer_choice == 2)\n        System.out.println(\"Computer wins!\"); \n    else if(player_choice == 2 &amp;&amp; computer_choice == 1)\n        System.out.println(\"You win!\");  \n    else if(player_choice == 3 &amp;&amp; computer_choice == 2)\n        System.out.println(\"You win!\");   \n    else if(player_choice == 2 &amp;&amp; computer_choice == 3)\n        System.out.println(\"Computer wins!\");\n}\n\npublic static void main(String[] args){\n    playGame();\n}\n</code></pre>\n\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":21283294,"reputation":129,"user_id":15661391,"display_name":"Isaac"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675758264,"creation_date":1675758264,"answer_id":75370641,"question_id":38005252,"body_markdown":"It just needs a simple correction,\r\nWhat it&#39;s saying is that there is no variable type input\r\nwhile naming variable for your **Scanner class** there might be a mistake so just make sure you have \r\n`Scanner input = new Scanner(System.in);` that&#39;ll resolve the error &amp; Brother as of the Other code needs some serious optimization","title":"cannot find symbol with input.nextInt()","body":"<p>It just needs a simple correction,\nWhat it's saying is that there is no variable type input\nwhile naming variable for your <strong>Scanner class</strong> there might be a mistake so just make sure you have\n<code>Scanner input = new Scanner(System.in);</code> that'll resolve the error &amp; Brother as of the Other code needs some serious optimization</p>\n"}],"owner":{"account_id":8695642,"reputation":25,"user_id":6507087,"display_name":"Andrew"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17993,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":2,"score":-3,"last_activity_date":1675758264,"creation_date":1466739741,"question_id":38005252,"body_markdown":"I ran into a problem when making a rock paper scissors game, for some reason the code is not accepting it when I use `input.nextInt()` \r\n\r\n\r\n        // Rock Paper Scissors Game\r\n\t\t\r\n\t\tint Rock = -1;\r\n\t\tint Paper = 0;\r\n\t\tint Scissors = 1;\r\n\t\tint Max = 1;\r\n\t\tint Min = -1;\r\n\t\t\r\n\t\t{ int computer = ((int)(Math.random() * ((Max - Min) + 1))) + Min;\r\n\t\t\r\n\t\tSystem.out.println(&quot;Input -1 for Rock 0 for Paper and 1 for Scissors!&quot;);\r\n\t\t{\r\n\t\tint player = input.nextInt();\r\n\t\treturn player;\r\n\t\t}\r\n\t\tif(player == computer); {\r\n\t\t\tSystem.out.println(&quot;Tie&quot;);\r\n\t\t}\r\n\t\t}\r\n\r\nThis is the full error code\r\n\r\n    Compilation error\ttime: 0 memory: 0 signal:0\r\n    Main.java:45: error: cannot find symbol\r\n    \t\tint player = input.nextInt();\r\n    \t\t             ^\r\n      symbol:   variable input\r\n      location: class Ideone\r\n\r\n","title":"cannot find symbol with input.nextInt()","body":"<p>I ran into a problem when making a rock paper scissors game, for some reason the code is not accepting it when I use <code>input.nextInt()</code> </p>\n\n<pre><code>    // Rock Paper Scissors Game\n\n    int Rock = -1;\n    int Paper = 0;\n    int Scissors = 1;\n    int Max = 1;\n    int Min = -1;\n\n    { int computer = ((int)(Math.random() * ((Max - Min) + 1))) + Min;\n\n    System.out.println(\"Input -1 for Rock 0 for Paper and 1 for Scissors!\");\n    {\n    int player = input.nextInt();\n    return player;\n    }\n    if(player == computer); {\n        System.out.println(\"Tie\");\n    }\n    }\n</code></pre>\n\n<p>This is the full error code</p>\n\n<pre><code>Compilation error   time: 0 memory: 0 signal:0\nMain.java:45: error: cannot find symbol\n        int player = input.nextInt();\n                     ^\n  symbol:   variable input\n  location: class Ideone\n</code></pre>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":1,"creation_date":1675758563,"post_id":75370640,"comment_id":132992352,"body_markdown":"Did you look into table selection listeners and updating the reference the panel is using to display the article? Btw, `abstractClass` is as horrible a class name as can be - it doesn&#39;t say anything about the purpose of that class, it may be misleading readers (they might unintentionally read it as &quot;abstract class&quot;) and it doesn&#39;t adhere to the Java coding conventions.","body":"Did you look into table selection listeners and updating the reference the panel is using to display the article? Btw, <code>abstractClass</code> is as horrible a class name as can be - it doesn&#39;t say anything about the purpose of that class, it may be misleading readers (they might unintentionally read it as &quot;abstract class&quot;) and it doesn&#39;t adhere to the Java coding conventions."},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1675758859,"post_id":75370640,"comment_id":132992446,"body_markdown":"*&quot;the user can select one of this and the method should to return the selected article&quot;* - this is not how GUIs work.  Instead, you need to make use of an &quot;observer pattern&quot; that can be called when some kind of event occurs. I would suggest looking at [How to Use Lists](https://docs.oracle.com/javase/tutorial/uiswing/components/list.html); [Selecting Items in a List](https://docs.oracle.com/javase/tutorial/uiswing/components/list.html#selection); [Code Conventions for the Java](https://www.oracle.com/java/technologies/javase/codeconventions-contents.html)","body":"<i>&quot;the user can select one of this and the method should to return the selected article&quot;</i> - this is not how GUIs work.  Instead, you need to make use of an &quot;observer pattern&quot; that can be called when some kind of event occurs. I would suggest looking at <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/list.html\" rel=\"nofollow noreferrer\">How to Use Lists</a>; <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/list.html#selection\" rel=\"nofollow noreferrer\">Selecting Items in a List</a>; <a href=\"https://www.oracle.com/java/technologies/javase/codeconventions-contents.html\" rel=\"nofollow noreferrer\">Code Conventions for the Java</a>"}],"owner":{"account_id":2796529,"reputation":2231,"user_id":2405663,"accept_rate":48,"display_name":"bircastri"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675758260,"creation_date":1675758260,"question_id":75370640,"body_markdown":"I m building a Java swing application. Now I have a method to load some Object into my table. I need to show at the user a list of all Articles in database. The articles can be more thant 1000. So I want to show at the user a Table with all articles, the user can select one of this and the method should to return the selected article at the principal method.\r\nSo I have this code:\r\n\r\nthis is the principal method and I need to show a list of all articoles at the user when I call &quot;controllaQuantita&quot; method.\r\n\r\n    public Carico leggiOrdineDaFile_Moderna(Fornitore f,String file,List&lt;Articoli&gt; listaArticoliDett){\r\n    \t\ttry{\r\n    \t\t\tBufferedReader br = new BufferedReader(new FileReader(file));\r\n    \t\t\tString strLine;\r\n    \t\t\tCarico ordine = new Carico();\r\n    \t\t\tList&lt;DettOrdini&gt; listaArticoli = new ArrayList&lt;DettOrdini&gt;();\r\n    \t\t\tint cont=0;\r\n    \t\t\t//Read File Line By Line\r\n    \t\t\twhile ((strLine = br.readLine()) != null)   {\r\n    \t\t\t\t//SPLITTO LA STRINGA CON IL TERMINATORE DI RIGA CHE E&#39; 005614\r\n                    String stringaContenitore = strLine;\r\n                    String codiceABarre = strLine.substring(93,113);\r\n    \t\t\t\tArticoli articolo = modelManager.getArticoliManager().estraiArticolo(codiceABarre,true,null,false);\r\n    \t\t\t\tif(articolo !=null){\r\n                       //todo     \r\n\t\t\t\t    }else{\r\n    \t\t\t\t\tint risposta = VisualMessageOrdini.getInserimentoNuovoArticolo(nomeArticolo,codiceABarre);\r\n    \t\t\t\t\tif(risposta == 0){\r\n                           //todo\r\n    \t\t\t\t\t}\r\n    \t\t\t\t\t}else{\r\n    \t\t\t\t\t\tcontrollaQuantita(false, listaArticoliDett);\r\n    \t\t\t\t\t}\r\n    \t\t\t\t}\r\n    \t\t\t\t//System.out.println (strLine);\r\n    \t\t\t\tcont++;\r\n    \t\t\t}\r\n    \t\t\t//Close the input stream\r\n    \t\t\tbr.close();\r\n    \t\t\tordine.setDettOrdini(listaArticoli);\r\n    \t\t\tordine.setFornitore(f);\r\n    \t\t\treturn ordine;\r\n    \t\t}catch (Exception e){//Catch exception if any\r\n    \t\t\tlog.logStackTrace(e);\r\n    \t\t\treturn null;\r\n    \t\t}\r\n    \t}\r\n\r\nthis is the method controllaQuantita:\r\n\r\n    public void controllaQuantita(boolean isTagliaColore, List&lt;Articoli&gt; artInMagazzino){\r\n    \t\t//List&lt;Articoli&gt; articoliMancanti =listaArticoli = modelManager.getArticoliManager().estraiArticoli(false,true,false,false,false,\r\n    \t\t//\t\tnull,isTagliaColore,null,null,false,null,null,false);\r\n    \t\tPanelArticoliPerOrdine panelArtM = new PanelArticoliPerOrdine(artInMagazzino);\r\n    \t\tpanelArtM.createAndShowGUI(artInMagazzino);\r\n    \t}\r\n\r\nThis is the class PanelArticoliPerOrdine:\r\n\r\n\r\n    public class PanelArticoliPerOrdine extends abstractClass{\r\n    \tstatic JDialog frame;\r\n    \tpublic JTable table;\r\n    \tpublic MyTableModelArticoliPerOrdine tableModel;\r\n    \tJLabel picture;\r\n    \tpublic List&lt;Articoli&gt; articoliMancanti;\r\n    \tpublic Font fontTable;\r\n    \tpublic PanelArticoliPerOrdine(List&lt;Articoli&gt; articoliMancanti) {\r\n    \t\tthis.setArticoliMancanti(articoliMancanti);\r\n    \t\tfontTable = new Font(&quot;Century Gothic&quot;,Font.PLAIN, 16);\r\n    \t\t\r\n    \t\ttableModel = new MyTableModelArticoliPerOrdine();\r\n    \t\ttableModel.stampaTabella(articoliMancanti);\r\n    \t\t\r\n    \t\ttable = new JTable(tableModel);\r\n    \t\tdaiProprietaJTable();\r\n    \t\t\r\n    \t\tjavax.swing.JScrollPane jScrollPane1 = new javax.swing.JScrollPane();\r\n    \t\tjScrollPane1.setViewportView(table);\r\n    \t\tjScrollPane1.setPreferredSize(new Dimension (700,300));\r\n    \t\t\r\n    \t\t\r\n    \t\t//Put the radio buttons in a column in a panel.\r\n    \t\tJPanel radioPanel = new JPanel();\r\n    \t\tradioPanel.setBorder(BorderFactory.createTitledBorder(&quot;Stampa Articoli&quot;));\r\n    \t\tGridBagConstraints GBC5 = new GridBagConstraints();\r\n    \t\tContainer CR5 = new Container();\r\n    \t\tGridBagLayout GBL5 = new GridBagLayout();\r\n    \t\tCR5.setComponentOrientation(ComponentOrientation.UNKNOWN);\r\n    \t\tCR5.setLayout(GBL5);     \r\n    \t\tradioPanel.add(CR5);\r\n    \r\n    \t\tGBC5 = new GridBagConstraints();\r\n    \t\tCR5.add(jScrollPane1);\r\n    \t\tGBC5.gridx=0;\r\n    \t\tGBC5.gridy=0;\r\n    \t\tGBC5.gridwidth=3;\r\n    \t\t//    GBC5.gridheight=2;\r\n    \t\tGBC5.insets.top=5;\r\n    \t\tGBC5.fill=GridBagConstraints.HORIZONTAL;\r\n    \t\tGBL5.setConstraints(jScrollPane1,GBC5);\r\n    \r\n    \r\n    \r\n    \t\r\n    \t\tadd(radioPanel, BorderLayout.LINE_START);\r\n    \t\tsetBorder(BorderFactory.createEmptyBorder(20,20,20,20));\r\n    \t}\r\n    \r\n    \tpublic void daiProprietaJTable(){\r\n    \t\ttable.setRowHeight(25);\r\n    \t\ttable.setFont(fontTable);\r\n    \t\ttable.getColumnModel().getColumn(0).setPreferredWidth(560);\r\n    \t\ttable.getColumnModel().getColumn(1).setPreferredWidth(70);\r\n    \t\ttable.getColumnModel().getColumn(2).setPreferredWidth(70);\r\n    \t\tDefaultTableCellRenderer renderer_archivi = new DefaultTableCellRenderer();\r\n    \t\trenderer_archivi.setHorizontalAlignment(SwingConstants.RIGHT);\r\n    \t\ttable.getColumnModel().getColumn(1).setCellRenderer(renderer_archivi);\r\n    \t\ttable.getColumnModel().getColumn(2).setCellRenderer(renderer_archivi);\r\n    \t}\r\n    \r\n    \t@SuppressWarnings(&quot;static-access&quot;)\r\n    \tpublic static void createAndShowGUI(List&lt;Articoli&gt; vettoreArt) {\r\n    \t\tframe = new JDialog();\r\n    \t\tDimensione d2 = new Dimensione();\r\n    \t\td2.setSize(800, 500);\r\n    \t\tframe.setPreferredSize(d2);\r\n    \t\tframe.pack();\r\n    \t\tframe.setVisible(true);\r\n    \t\tframe.setResizable(false);\r\n    \t\tCentraComponents centra = new CentraComponents();\r\n    \t\tPoint coordinate = centra.centra(frame);\r\n    \t\tframe.setLocation(coordinate);\r\n    \t\tJComponent newContentPane = new PanelArticoliPerOrdine(vettoreArt);\r\n    \t\tnewContentPane.setOpaque(true); //content panes must be opaque\r\n    \t\tframe.setContentPane(newContentPane);\r\n    \t\t//Display the window.\r\n    \t\tframe.pack();\r\n    \t\tframe.setVisible(true);\r\n    \t}\r\n    \r\n    \tpublic void chiudi(){\r\n    \t\tframe.dispose();\r\n    \t}\r\n    \r\n    \t\r\n    \r\n    \tpublic List&lt;Articoli&gt; getArticoliMancanti() {\r\n    \t\treturn articoliMancanti;\r\n    \t}\r\n    \r\n    \tpublic void setArticoliMancanti(List&lt;Articoli&gt; articoliMancanti) {\r\n    \t\tthis.articoliMancanti = articoliMancanti;\r\n    \t}\r\n    \r\n    }\r\n\r\nNow how can I change my code in order to return at the first method the articles selected by user showing using PanelArticoliPerOrdine class  ?","title":"Select item from JPanel and JTable","body":"<p>I m building a Java swing application. Now I have a method to load some Object into my table. I need to show at the user a list of all Articles in database. The articles can be more thant 1000. So I want to show at the user a Table with all articles, the user can select one of this and the method should to return the selected article at the principal method.\nSo I have this code:</p>\n<p>this is the principal method and I need to show a list of all articoles at the user when I call &quot;controllaQuantita&quot; method.</p>\n<pre><code>public Carico leggiOrdineDaFile_Moderna(Fornitore f,String file,List&lt;Articoli&gt; listaArticoliDett){\n        try{\n            BufferedReader br = new BufferedReader(new FileReader(file));\n            String strLine;\n            Carico ordine = new Carico();\n            List&lt;DettOrdini&gt; listaArticoli = new ArrayList&lt;DettOrdini&gt;();\n            int cont=0;\n            //Read File Line By Line\n            while ((strLine = br.readLine()) != null)   {\n                //SPLITTO LA STRINGA CON IL TERMINATORE DI RIGA CHE E' 005614\n                String stringaContenitore = strLine;\n                String codiceABarre = strLine.substring(93,113);\n                Articoli articolo = modelManager.getArticoliManager().estraiArticolo(codiceABarre,true,null,false);\n                if(articolo !=null){\n                   //todo     \n                }else{\n                    int risposta = VisualMessageOrdini.getInserimentoNuovoArticolo(nomeArticolo,codiceABarre);\n                    if(risposta == 0){\n                       //todo\n                    }\n                    }else{\n                        controllaQuantita(false, listaArticoliDett);\n                    }\n                }\n                //System.out.println (strLine);\n                cont++;\n            }\n            //Close the input stream\n            br.close();\n            ordine.setDettOrdini(listaArticoli);\n            ordine.setFornitore(f);\n            return ordine;\n        }catch (Exception e){//Catch exception if any\n            log.logStackTrace(e);\n            return null;\n        }\n    }\n</code></pre>\n<p>this is the method controllaQuantita:</p>\n<pre><code>public void controllaQuantita(boolean isTagliaColore, List&lt;Articoli&gt; artInMagazzino){\n        //List&lt;Articoli&gt; articoliMancanti =listaArticoli = modelManager.getArticoliManager().estraiArticoli(false,true,false,false,false,\n        //      null,isTagliaColore,null,null,false,null,null,false);\n        PanelArticoliPerOrdine panelArtM = new PanelArticoliPerOrdine(artInMagazzino);\n        panelArtM.createAndShowGUI(artInMagazzino);\n    }\n</code></pre>\n<p>This is the class PanelArticoliPerOrdine:</p>\n<pre><code>public class PanelArticoliPerOrdine extends abstractClass{\n    static JDialog frame;\n    public JTable table;\n    public MyTableModelArticoliPerOrdine tableModel;\n    JLabel picture;\n    public List&lt;Articoli&gt; articoliMancanti;\n    public Font fontTable;\n    public PanelArticoliPerOrdine(List&lt;Articoli&gt; articoliMancanti) {\n        this.setArticoliMancanti(articoliMancanti);\n        fontTable = new Font(&quot;Century Gothic&quot;,Font.PLAIN, 16);\n        \n        tableModel = new MyTableModelArticoliPerOrdine();\n        tableModel.stampaTabella(articoliMancanti);\n        \n        table = new JTable(tableModel);\n        daiProprietaJTable();\n        \n        javax.swing.JScrollPane jScrollPane1 = new javax.swing.JScrollPane();\n        jScrollPane1.setViewportView(table);\n        jScrollPane1.setPreferredSize(new Dimension (700,300));\n        \n        \n        //Put the radio buttons in a column in a panel.\n        JPanel radioPanel = new JPanel();\n        radioPanel.setBorder(BorderFactory.createTitledBorder(&quot;Stampa Articoli&quot;));\n        GridBagConstraints GBC5 = new GridBagConstraints();\n        Container CR5 = new Container();\n        GridBagLayout GBL5 = new GridBagLayout();\n        CR5.setComponentOrientation(ComponentOrientation.UNKNOWN);\n        CR5.setLayout(GBL5);     \n        radioPanel.add(CR5);\n\n        GBC5 = new GridBagConstraints();\n        CR5.add(jScrollPane1);\n        GBC5.gridx=0;\n        GBC5.gridy=0;\n        GBC5.gridwidth=3;\n        //    GBC5.gridheight=2;\n        GBC5.insets.top=5;\n        GBC5.fill=GridBagConstraints.HORIZONTAL;\n        GBL5.setConstraints(jScrollPane1,GBC5);\n\n\n\n    \n        add(radioPanel, BorderLayout.LINE_START);\n        setBorder(BorderFactory.createEmptyBorder(20,20,20,20));\n    }\n\n    public void daiProprietaJTable(){\n        table.setRowHeight(25);\n        table.setFont(fontTable);\n        table.getColumnModel().getColumn(0).setPreferredWidth(560);\n        table.getColumnModel().getColumn(1).setPreferredWidth(70);\n        table.getColumnModel().getColumn(2).setPreferredWidth(70);\n        DefaultTableCellRenderer renderer_archivi = new DefaultTableCellRenderer();\n        renderer_archivi.setHorizontalAlignment(SwingConstants.RIGHT);\n        table.getColumnModel().getColumn(1).setCellRenderer(renderer_archivi);\n        table.getColumnModel().getColumn(2).setCellRenderer(renderer_archivi);\n    }\n\n    @SuppressWarnings(&quot;static-access&quot;)\n    public static void createAndShowGUI(List&lt;Articoli&gt; vettoreArt) {\n        frame = new JDialog();\n        Dimensione d2 = new Dimensione();\n        d2.setSize(800, 500);\n        frame.setPreferredSize(d2);\n        frame.pack();\n        frame.setVisible(true);\n        frame.setResizable(false);\n        CentraComponents centra = new CentraComponents();\n        Point coordinate = centra.centra(frame);\n        frame.setLocation(coordinate);\n        JComponent newContentPane = new PanelArticoliPerOrdine(vettoreArt);\n        newContentPane.setOpaque(true); //content panes must be opaque\n        frame.setContentPane(newContentPane);\n        //Display the window.\n        frame.pack();\n        frame.setVisible(true);\n    }\n\n    public void chiudi(){\n        frame.dispose();\n    }\n\n    \n\n    public List&lt;Articoli&gt; getArticoliMancanti() {\n        return articoliMancanti;\n    }\n\n    public void setArticoliMancanti(List&lt;Articoli&gt; articoliMancanti) {\n        this.articoliMancanti = articoliMancanti;\n    }\n\n}\n</code></pre>\n<p>Now how can I change my code in order to return at the first method the articles selected by user showing using PanelArticoliPerOrdine class  ?</p>\n"},{"tags":["java","oop","inheritance","static","protected"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":6,"creation_date":1403105122,"post_id":24289070,"comment_id":37532572,"body_markdown":"There&#39;s nothing wrong with a protected static field, as long as it&#39;s `final`.  A mutable static field shared across classes is definitely cause for worry.  Multiple classes updating a static field is not likely to be reliable or easy to follow, especially since the presence of any protected field or method implies that the class is meant to be extended by classes in other packages, possibly classes not under the control of the author of the class containing the protected field.","body":"There&#39;s nothing wrong with a protected static field, as long as it&#39;s <code>final</code>.  A mutable static field shared across classes is definitely cause for worry.  Multiple classes updating a static field is not likely to be reliable or easy to follow, especially since the presence of any protected field or method implies that the class is meant to be extended by classes in other packages, possibly classes not under the control of the author of the class containing the protected field."},{"owner":{"account_id":2315704,"reputation":11983,"user_id":2032823,"accept_rate":84,"display_name":"Zeeshan"},"score":6,"creation_date":1403110154,"post_id":24289070,"comment_id":37535770,"body_markdown":"@VGR, `final` doesn&#39;t means the field is immutable. You can always modify the `object` referenced by a `final` reference variable.","body":"@VGR, <code>final</code> doesn&#39;t means the field is immutable. You can always modify the <code>object</code> referenced by a <code>final</code> reference variable."},{"owner":{"account_id":2787344,"reputation":14687,"user_id":2398375,"accept_rate":75,"display_name":"Vince"},"score":0,"creation_date":1403110870,"post_id":24289070,"comment_id":37536201,"body_markdown":"@VGR I disagree. The ONLY reason you would make a static variable is to have access to it from within another package only by inherience, and access to a single field should NOT be the reason for inheritence. It&#39;s a flawed design, IMO, and if you resort to that, you should probably rethink your application&#39;s structure. That&#39;s just my opinion though.","body":"@VGR I disagree. The ONLY reason you would make a static variable is to have access to it from within another package only by inherience, and access to a single field should NOT be the reason for inheritence. It&#39;s a flawed design, IMO, and if you resort to that, you should probably rethink your application&#39;s structure. That&#39;s just my opinion though."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":1,"creation_date":1403111502,"post_id":24289070,"comment_id":37536569,"body_markdown":"@LoneRider You&#39;re right.  I was thinking immutable, and final certainly doesn&#39;t guarantee that.","body":"@LoneRider You&#39;re right.  I was thinking immutable, and final certainly doesn&#39;t guarantee that."},{"owner":{"account_id":8210085,"reputation":679,"user_id":6178546,"display_name":"Raj Rajeshwar Singh Rathore"},"score":0,"creation_date":1557024466,"post_id":24289070,"comment_id":98625421,"body_markdown":"Even I came here from the same question.","body":"Even I came here from the same question."}],"answers":[{"tags":[],"owner":{"account_id":3659411,"reputation":40844,"user_id":3049628,"accept_rate":78,"display_name":"Tim B"},"down_vote_count":1,"up_vote_count":97,"is_accepted":true,"score":96,"last_activity_date":1578657481,"creation_date":1403104523,"answer_id":24289231,"question_id":24289070,"body_markdown":"It&#39;s more a stylistic thing than a direct problem. It suggests that you haven&#39;t properly thought through what is going on with the class.\r\n\r\nThink about what `static` means:\r\n\r\n&gt; This variable exists at class level, it does not exist separately for each instance and **it does not have an independent existence in classes which extend me**.\r\n\r\nThink about what `protected` means:\r\n\r\n&gt; This variable can be seen by this class, classes in the same package **and classes which extend me**.\r\n\r\n\r\nThe two meanings are not exactly mutually exclusive but it is pretty close.\r\n\r\nThe only case I can see where you might use the two together is if you had an abstract class that was designed to be extended and the extending class could then modify the behavior using constants defined in the original. That sort of arrangement would most likely end up very messy though and indicates weakness in the design of the classes. \r\n\r\nIn most cases it would be better to have the constants as public since that just makes everything cleaner and allows the people sub-classing more flexibility. Quite apart from anything else in many cases composition is preferable to inheritance, while abstract classes force inheritance.\r\n\r\nTo see one example of how this could break things and to illustrate what I mean by the variable not having an independent existence try this example code:\r\n\r\n    public class Program {\r\n        public static void main (String[] args) throws java.lang.Exception {\r\n            System.out.println(new Test2().getTest());\r\n            Test.test = &quot;changed&quot;;\r\n            System.out.println(new Test2().getTest());\r\n        }\r\n    }\r\n\r\n    abstract class Test {\r\n        protected static String test = &quot;test&quot;;\r\n    }\r\n    \r\n    class Test2 extends Test {\r\n        public String getTest() {\r\n            return test;\r\n        }\r\n    }\r\n\r\n\r\nYou will see the results:\r\n\r\n    test\r\n    changed\r\n\r\nTry it yourself at: https://ideone.com/KM8u8O\r\n\r\n\r\nThe class `Test2` is able to access the static member `test` from `Test` without needing to qualify the name - but it does not inherit or get its own copy. It is looking at the exact same object in memory.\r\n","title":"Why we should not use protected static in java","body":"<p>It's more a stylistic thing than a direct problem. It suggests that you haven't properly thought through what is going on with the class.</p>\n\n<p>Think about what <code>static</code> means:</p>\n\n<blockquote>\n  <p>This variable exists at class level, it does not exist separately for each instance and <strong>it does not have an independent existence in classes which extend me</strong>.</p>\n</blockquote>\n\n<p>Think about what <code>protected</code> means:</p>\n\n<blockquote>\n  <p>This variable can be seen by this class, classes in the same package <strong>and classes which extend me</strong>.</p>\n</blockquote>\n\n<p>The two meanings are not exactly mutually exclusive but it is pretty close.</p>\n\n<p>The only case I can see where you might use the two together is if you had an abstract class that was designed to be extended and the extending class could then modify the behavior using constants defined in the original. That sort of arrangement would most likely end up very messy though and indicates weakness in the design of the classes. </p>\n\n<p>In most cases it would be better to have the constants as public since that just makes everything cleaner and allows the people sub-classing more flexibility. Quite apart from anything else in many cases composition is preferable to inheritance, while abstract classes force inheritance.</p>\n\n<p>To see one example of how this could break things and to illustrate what I mean by the variable not having an independent existence try this example code:</p>\n\n<pre><code>public class Program {\n    public static void main (String[] args) throws java.lang.Exception {\n        System.out.println(new Test2().getTest());\n        Test.test = \"changed\";\n        System.out.println(new Test2().getTest());\n    }\n}\n\nabstract class Test {\n    protected static String test = \"test\";\n}\n\nclass Test2 extends Test {\n    public String getTest() {\n        return test;\n    }\n}\n</code></pre>\n\n<p>You will see the results:</p>\n\n<pre><code>test\nchanged\n</code></pre>\n\n<p>Try it yourself at: <a href=\"https://ideone.com/KM8u8O\" rel=\"noreferrer\">https://ideone.com/KM8u8O</a></p>\n\n<p>The class <code>Test2</code> is able to access the static member <code>test</code> from <code>Test</code> without needing to qualify the name - but it does not inherit or get its own copy. It is looking at the exact same object in memory.</p>\n"},{"tags":[],"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1403104893,"creation_date":1403104578,"answer_id":24289258,"question_id":24289070,"body_markdown":"Static members are not inherited, and protected members are only visible to subclasses (and of course the containing class), so a `protected static` has the same visibility as `static`, suggesting a misunderstanding by the coder. ","title":"Why we should not use protected static in java","body":"<p>Static members are not inherited, and protected members are only visible to subclasses (and of course the containing class), so a <code>protected static</code> has the same visibility as <code>static</code>, suggesting a misunderstanding by the coder. </p>\n"},{"tags":[],"owner":{"account_id":3093821,"reputation":53931,"user_id":3182664,"accept_rate":55,"display_name":"Marco13"},"down_vote_count":1,"up_vote_count":17,"is_accepted":false,"score":16,"last_activity_date":1403106043,"creation_date":1403105259,"answer_id":24289499,"question_id":24289070,"body_markdown":"I don&#39;t see a particular reason why this should be frowned upon. There may always be alternatives to achieve the same behavior, and it will depend on the actual achitecture whether these alternatives are &quot;better&quot; than a protected static method or not. But one example where a protected static method would be reasonable, at least, could be the following:\r\n\r\n(Edited to split into separate packages, to make the use of `protected` clearer)\r\n\r\n    package a;\r\n    import java.util.List;\r\n\r\n    public abstract class BaseClass\r\n    {\r\n        public Integer compute(List&lt;Integer&gt; list)\r\n        {\r\n            return computeDefaultA(list)+computeDefaultB(list);\r\n        }\r\n\r\n        protected static Integer computeDefaultA(List&lt;Integer&gt; list)\r\n        {\r\n            return 12;\r\n        }\r\n        protected static Integer computeDefaultB(List&lt;Integer&gt; list)\r\n        {\r\n            return 34;\r\n        }\r\n    }\r\n\r\nDerived from that:\r\n\r\n    package a.b;\r\n\r\n    import java.util.List;\r\n\r\n    import a.BaseClass;\r\n\r\n    abstract class ExtendingClassA extends BaseClass\r\n    {\r\n        @Override\r\n        public Integer compute(List&lt;Integer&gt; list)\r\n        {\r\n            return computeDefaultA(list)+computeOwnB(list);\r\n        }\r\n\r\n        private static Integer computeOwnB(List&lt;Integer&gt; list)\r\n        {\r\n            return 56;\r\n        }\r\n    }\r\n\r\nAnother derived class:\r\n\r\n    package a.b;\r\n\r\n    import java.util.List;\r\n\r\n    import a.BaseClass;\r\n\r\n    abstract class ExtendingClassB extends BaseClass\r\n    {\r\n        @Override\r\n        public Integer compute(List&lt;Integer&gt; list)\r\n        {\r\n            return computeOwnA(list)+computeDefaultB(list);\r\n        }\r\n\r\n        private static Integer computeOwnA(List&lt;Integer&gt; list)\r\n        {\r\n            return 78;\r\n        }\r\n    }\r\n\r\n\r\nThe `protected static` modifier can certainly be justified here:\r\n\r\n - The methods can be `static`, because they do not depend on instance variables. They are not intended to be used directly as a polymorphic method, but rather are &quot;utility&quot; methods that offer default *implementations* that are part of a more complex computation, and serve as &quot;building blocks&quot; of the actual implementation.\r\n - The methods should not be `public`, because they are an implementation detail. And they can&#39;t be `private` because they should be called by the extending classes. They also can&#39;t have &quot;default&quot; visibility, because then they will not be accessible for the extending classes in other packages.\r\n\r\n(EDIT: One could assume that the original comment only referred to *fields*, and not to *methods* - then, however, it was too general)\r\n","title":"Why we should not use protected static in java","body":"<p>I don't see a particular reason why this should be frowned upon. There may always be alternatives to achieve the same behavior, and it will depend on the actual achitecture whether these alternatives are \"better\" than a protected static method or not. But one example where a protected static method would be reasonable, at least, could be the following:</p>\n\n<p>(Edited to split into separate packages, to make the use of <code>protected</code> clearer)</p>\n\n<pre><code>package a;\nimport java.util.List;\n\npublic abstract class BaseClass\n{\n    public Integer compute(List&lt;Integer&gt; list)\n    {\n        return computeDefaultA(list)+computeDefaultB(list);\n    }\n\n    protected static Integer computeDefaultA(List&lt;Integer&gt; list)\n    {\n        return 12;\n    }\n    protected static Integer computeDefaultB(List&lt;Integer&gt; list)\n    {\n        return 34;\n    }\n}\n</code></pre>\n\n<p>Derived from that:</p>\n\n<pre><code>package a.b;\n\nimport java.util.List;\n\nimport a.BaseClass;\n\nabstract class ExtendingClassA extends BaseClass\n{\n    @Override\n    public Integer compute(List&lt;Integer&gt; list)\n    {\n        return computeDefaultA(list)+computeOwnB(list);\n    }\n\n    private static Integer computeOwnB(List&lt;Integer&gt; list)\n    {\n        return 56;\n    }\n}\n</code></pre>\n\n<p>Another derived class:</p>\n\n<pre><code>package a.b;\n\nimport java.util.List;\n\nimport a.BaseClass;\n\nabstract class ExtendingClassB extends BaseClass\n{\n    @Override\n    public Integer compute(List&lt;Integer&gt; list)\n    {\n        return computeOwnA(list)+computeDefaultB(list);\n    }\n\n    private static Integer computeOwnA(List&lt;Integer&gt; list)\n    {\n        return 78;\n    }\n}\n</code></pre>\n\n<p>The <code>protected static</code> modifier can certainly be justified here:</p>\n\n<ul>\n<li>The methods can be <code>static</code>, because they do not depend on instance variables. They are not intended to be used directly as a polymorphic method, but rather are \"utility\" methods that offer default <em>implementations</em> that are part of a more complex computation, and serve as \"building blocks\" of the actual implementation.</li>\n<li>The methods should not be <code>public</code>, because they are an implementation detail. And they can't be <code>private</code> because they should be called by the extending classes. They also can't have \"default\" visibility, because then they will not be accessible for the extending classes in other packages.</li>\n</ul>\n\n<p>(EDIT: One could assume that the original comment only referred to <em>fields</em>, and not to <em>methods</em> - then, however, it was too general)</p>\n"},{"tags":[],"owner":{"account_id":4577239,"reputation":31,"user_id":3715381,"display_name":"Mithun Kannoth"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1403105931,"creation_date":1403105931,"answer_id":24289729,"question_id":24289070,"body_markdown":"Protected is used so that it can be used in subclasses. There is no logic in defining a protected static when using in the context of concrete classes as you can access the same variable is a static way.However the complier will give a warning to access the super class static variable in a static way.","title":"Why we should not use protected static in java","body":"<p>Protected is used so that it can be used in subclasses. There is no logic in defining a protected static when using in the context of concrete classes as you can access the same variable is a static way.However the complier will give a warning to access the super class static variable in a static way.</p>\n"},{"tags":[],"owner":{"account_id":2787344,"reputation":14687,"user_id":2398375,"accept_rate":75,"display_name":"Vince"},"down_vote_count":2,"up_vote_count":36,"is_accepted":false,"score":34,"last_activity_date":1470330268,"creation_date":1403106048,"answer_id":24289761,"question_id":24289070,"body_markdown":"It&#39;s frowned upon because it&#39;s contradictive.\r\n\r\nMaking a variable `protected` implies it will be used *within the package* or it will be *inherited within a subclass*.\r\n\r\nMaking the variable `static` makes it a member of the class, **eliminating the intentions of inheriting it**. This leaves only the intention of being used *within a package*, and we have `package-private` for that (no modifier).\r\n\r\nThe only situation I could find this useful for is if you were declaring a class that should be used to launch the application (like JavaFX&#39;s `Application#launch`, and only wanted to be able to launch from a subclass. If doing so, ensure the method is also `final` to disallow [hiding](https://docs.oracle.com/javase/tutorial/java/IandI/override.html). But this is not &quot;the norm&quot;, and was probably implemented to prevent adding more complexity by adding a new way to launch applications.\r\n\r\nTo see the access levels of each modifier, see this: [The Java Tutorials - Controlling Access to Members of a Class][1]\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/tutorial/java/javaOO/accesscontrol.html","title":"Why we should not use protected static in java","body":"<p>It's frowned upon because it's contradictive.</p>\n\n<p>Making a variable <code>protected</code> implies it will be used <em>within the package</em> or it will be <em>inherited within a subclass</em>.</p>\n\n<p>Making the variable <code>static</code> makes it a member of the class, <strong>eliminating the intentions of inheriting it</strong>. This leaves only the intention of being used <em>within a package</em>, and we have <code>package-private</code> for that (no modifier).</p>\n\n<p>The only situation I could find this useful for is if you were declaring a class that should be used to launch the application (like JavaFX's <code>Application#launch</code>, and only wanted to be able to launch from a subclass. If doing so, ensure the method is also <code>final</code> to disallow <a href=\"https://docs.oracle.com/javase/tutorial/java/IandI/override.html\" rel=\"noreferrer\">hiding</a>. But this is not \"the norm\", and was probably implemented to prevent adding more complexity by adding a new way to launch applications.</p>\n\n<p>To see the access levels of each modifier, see this: <a href=\"http://docs.oracle.com/javase/tutorial/java/javaOO/accesscontrol.html\" rel=\"noreferrer\">The Java Tutorials - Controlling Access to Members of a Class</a></p>\n"},{"tags":[],"owner":{"account_id":85022,"reputation":13917,"user_id":237321,"accept_rate":75,"display_name":"x4u"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1403131492,"creation_date":1403131492,"answer_id":24296172,"question_id":24289070,"body_markdown":"Actually there is nothing fundamentally wrong with `protected static`. If you really want a static variable or method that is visible for the package and all subclasses of the declaring class then go ahead and make it `protected static`.\r\n\r\nSome people generally avoid to use `protected` for various reasons and some people think non-final `static` variables should be avoided by all means (I personally sympathize with the latter to some degree), so I guess the combination of `protected` and `static` must look *bad^2* to those that belong to both groups.","title":"Why we should not use protected static in java","body":"<p>Actually there is nothing fundamentally wrong with <code>protected static</code>. If you really want a static variable or method that is visible for the package and all subclasses of the declaring class then go ahead and make it <code>protected static</code>.</p>\n\n<p>Some people generally avoid to use <code>protected</code> for various reasons and some people think non-final <code>static</code> variables should be avoided by all means (I personally sympathize with the latter to some degree), so I guess the combination of <code>protected</code> and <code>static</code> must look <em>bad^2</em> to those that belong to both groups.</p>\n"},{"tags":[],"owner":{"account_id":3141418,"reputation":2593,"user_id":2656813,"accept_rate":91,"display_name":"Aelphaeis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1467732842,"creation_date":1467732842,"answer_id":38207415,"question_id":24289070,"body_markdown":"There is nothing wrong with having `protected static`. One thing a lot of people are overlooking is that you may want to write test cases for static methods that you don&#39;t want to expose under normal circumstances. I&#39;ve noticed this is particularly useful for writing tests for static method in utility classes.","title":"Why we should not use protected static in java","body":"<p>There is nothing wrong with having <code>protected static</code>. One thing a lot of people are overlooking is that you may want to write test cases for static methods that you don't want to expose under normal circumstances. I've noticed this is particularly useful for writing tests for static method in utility classes.</p>\n"},{"tags":[],"owner":{"account_id":1957366,"reputation":1175,"user_id":1760058,"accept_rate":46,"display_name":"egelev"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1591949060,"creation_date":1536222580,"answer_id":52199764,"question_id":24289070,"body_markdown":"Well, as most of the people have answered:\r\n\r\n - `protected` means - &#39;**package-private + visibility to subclasses - the property/behaviour is INHERITED**&#39;\r\n - `static` means - &#39;**the opposite of instance - it is a CLASS property/behaviour, i.e it is NOT INHERITED**&#39;\r\n\r\nTherefore they are slightly contradictive and incompatible.\r\n\r\nHowever, recently I came up to a use case where it might make sense to use these two together. Imagine that you want to create an **`abstract`** class which is a parent for **immutable** types and it has a bunch of properties which are common to the subtypes. To implement **immutability** properly and keep **readability** one might decide to use the **Builder** pattern.\r\n\r\n    package X;\r\n    public abstract class AbstractType {\r\n        protected Object field1;\r\n        protected Object field2;\r\n        ...\r\n        protected Object fieldN;\r\n    \r\n        protected static abstract class BaseBuilder&lt;T extends BaseBuilder&lt;T&gt;&gt; {\r\n            private Object field1; // = some default value here\r\n            private Object field2; // = some default value here\r\n            ...\r\n            private Object fieldN; // = some default value here\r\n\r\n            public T field1(Object value) { this.field1 = value; return self();}\r\n            public T field2(Object value) { this.field2 = value; return self();}\r\n            ...\r\n            public T fieldN(Object value) { this.fieldN = value; return self();}\r\n            protected abstract T self(); // should always return this;\r\n            public abstract AbstractType build();\r\n        }\r\n    \r\n        private AbstractType(BaseBuilder&lt;?&gt; b) {\r\n            this.field1 = b.field1;\r\n            this.field2 = b.field2;\r\n            ...\r\n            this.fieldN = b.fieldN;\r\n        }\r\n    }\r\n\r\nAnd why **`protected static`** ? Because I want a non-abstract subtype of `AbstactType` which implements its own non-abstract Builder and is located outside `package X` to be able to access and reuse the `BaseBuilder`.\r\n\r\n    package Y;\r\n    public MyType1 extends AbstractType {\r\n        private Object filedN1;\r\n    \r\n        public static class Builder extends AbstractType.BaseBuilder&lt;Builder&gt; {\r\n            private Object fieldN1; // = some default value here\r\n    \r\n            public Builder fieldN1(Object value) { this.fieldN1 = value; return self();}\r\n            @Override protected Builder self() { return this; }\r\n            @Override public MyType build() { return new MyType(this); }\r\n        }\r\n    \r\n        private MyType(Builder b) {\r\n            super(b);\r\n            this.fieldN1 = b.fieldN1;\r\n        }\r\n    }\r\n\r\nOf course we can make the `BaseBuilder` public but then we come to another contradictory statements:\r\n\r\n - We have a non-instantiatable class (abstract)\r\n - We provide a public builder for it\r\n\r\nSo in both cases with **`protected static`** and **`public` builder of an `abstract class`** we combine contradictory statements. It is a matter of personal preferences.\r\n\r\nHowever, I still prefer the **`public` builder of an `abstract class`** because the **`protected static`** to me feels more unnatural in a OOD  and OOP world !","title":"Why we should not use protected static in java","body":"<p>Well, as most of the people have answered:</p>\n\n<ul>\n<li><code>protected</code> means - '<strong>package-private + visibility to subclasses - the property/behaviour is INHERITED</strong>'</li>\n<li><code>static</code> means - '<strong>the opposite of instance - it is a CLASS property/behaviour, i.e it is NOT INHERITED</strong>'</li>\n</ul>\n\n<p>Therefore they are slightly contradictive and incompatible.</p>\n\n<p>However, recently I came up to a use case where it might make sense to use these two together. Imagine that you want to create an <strong><code>abstract</code></strong> class which is a parent for <strong>immutable</strong> types and it has a bunch of properties which are common to the subtypes. To implement <strong>immutability</strong> properly and keep <strong>readability</strong> one might decide to use the <strong>Builder</strong> pattern.</p>\n\n<pre><code>package X;\npublic abstract class AbstractType {\n    protected Object field1;\n    protected Object field2;\n    ...\n    protected Object fieldN;\n\n    protected static abstract class BaseBuilder&lt;T extends BaseBuilder&lt;T&gt;&gt; {\n        private Object field1; // = some default value here\n        private Object field2; // = some default value here\n        ...\n        private Object fieldN; // = some default value here\n\n        public T field1(Object value) { this.field1 = value; return self();}\n        public T field2(Object value) { this.field2 = value; return self();}\n        ...\n        public T fieldN(Object value) { this.fieldN = value; return self();}\n        protected abstract T self(); // should always return this;\n        public abstract AbstractType build();\n    }\n\n    private AbstractType(BaseBuilder&lt;?&gt; b) {\n        this.field1 = b.field1;\n        this.field2 = b.field2;\n        ...\n        this.fieldN = b.fieldN;\n    }\n}\n</code></pre>\n\n<p>And why <strong><code>protected static</code></strong> ? Because I want a non-abstract subtype of <code>AbstactType</code> which implements its own non-abstract Builder and is located outside <code>package X</code> to be able to access and reuse the <code>BaseBuilder</code>.</p>\n\n<pre><code>package Y;\npublic MyType1 extends AbstractType {\n    private Object filedN1;\n\n    public static class Builder extends AbstractType.BaseBuilder&lt;Builder&gt; {\n        private Object fieldN1; // = some default value here\n\n        public Builder fieldN1(Object value) { this.fieldN1 = value; return self();}\n        @Override protected Builder self() { return this; }\n        @Override public MyType build() { return new MyType(this); }\n    }\n\n    private MyType(Builder b) {\n        super(b);\n        this.fieldN1 = b.fieldN1;\n    }\n}\n</code></pre>\n\n<p>Of course we can make the <code>BaseBuilder</code> public but then we come to another contradictory statements:</p>\n\n<ul>\n<li>We have a non-instantiatable class (abstract)</li>\n<li>We provide a public builder for it</li>\n</ul>\n\n<p>So in both cases with <strong><code>protected static</code></strong> and <strong><code>public</code> builder of an <code>abstract class</code></strong> we combine contradictory statements. It is a matter of personal preferences.</p>\n\n<p>However, I still prefer the <strong><code>public</code> builder of an <code>abstract class</code></strong> because the <strong><code>protected static</code></strong> to me feels more unnatural in a OOD  and OOP world !</p>\n"}],"owner":{"account_id":2315704,"reputation":11983,"user_id":2032823,"accept_rate":84,"display_name":"Zeeshan"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":81259,"favorite_count":0,"down_vote_count":0,"up_vote_count":139,"accepted_answer_id":24289231,"answer_count":8,"score":139,"last_activity_date":1675758057,"creation_date":1403104145,"question_id":24289070,"body_markdown":"I was going through this question [Is there a way to override class variables in Java?][1]. The first [comment][2] with 122 upvotes was:\r\n\r\n&gt; If you ever see a `protected static`, run.\r\n\r\nCan anyone explain why is a `protected static` frowned upon?\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/685300/is-there-a-way-to-override-class-variables-in-java\r\n  [2]: https://stackoverflow.com/questions/685300/is-there-a-way-to-override-class-variables-in-java#comment498843_685300","title":"Why we should not use protected static in java","body":"<p>I was going through this question <a href=\"https://stackoverflow.com/questions/685300/is-there-a-way-to-override-class-variables-in-java\">Is there a way to override class variables in Java?</a>. The first <a href=\"https://stackoverflow.com/questions/685300/is-there-a-way-to-override-class-variables-in-java#comment498843_685300\">comment</a> with 122 upvotes was:</p>\n<blockquote>\n<p>If you ever see a <code>protected static</code>, run.</p>\n</blockquote>\n<p>Can anyone explain why is a <code>protected static</code> frowned upon?</p>\n"},{"tags":["java","quarkus"],"comments":[{"owner":{"account_id":12107061,"reputation":2953,"user_id":8845480,"display_name":"sm3sher"},"score":0,"creation_date":1675074761,"post_id":75282773,"comment_id":132842866,"body_markdown":"What does your `pom.xml` look like?","body":"What does your <code>pom.xml</code> look like?"},{"owner":{"account_id":19871534,"reputation":31,"user_id":14557538,"display_name":"Buddhsen Tripathi"},"score":0,"creation_date":1675076408,"post_id":75282773,"comment_id":132843380,"body_markdown":"&lt;artifactId&gt;backend&lt;/artifactId&gt;\n  &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n  &lt;properties&gt;\n    &lt;compiler-plugin.version&gt;3.10.1&lt;/compiler-plugin.version&gt;\n    &lt;maven.compiler.release&gt;17&lt;/maven.compiler.release&gt;","body":"&lt;artifactId&gt;backend&lt;/artifactId&gt;   &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;   &lt;properties&gt;     &lt;compiler-plugin.version&gt;3.10.1&lt;/compiler-plugin.version&gt;     &lt;maven.compiler.release&gt;17&lt;/maven.compiler.release&gt;"},{"owner":{"account_id":19871534,"reputation":31,"user_id":14557538,"display_name":"Buddhsen Tripathi"},"score":0,"creation_date":1675076426,"post_id":75282773,"comment_id":132843386,"body_markdown":"&lt;quarkus.platform.group-id&gt;io.quarkus.platform&lt;/quarkus.platform.group-id&gt;\n    &lt;quarkus.platform.version&gt;2.16.0.Final&lt;/quarkus.platform.version&gt;","body":"&lt;quarkus.platform.group-id&gt;io.quarkus.platform&lt;/quarkus.plat&zwnj;&#8203;form.group-id&gt;     &lt;quarkus.platform.version&gt;2.16.0.Final&lt;/quarkus.platform.ver&zwnj;&#8203;sion&gt;"},{"owner":{"account_id":19871534,"reputation":31,"user_id":14557538,"display_name":"Buddhsen Tripathi"},"score":0,"creation_date":1675076493,"post_id":75282773,"comment_id":132843408,"body_markdown":"I changed the maven compiler release to 11 and it worked ;---;","body":"I changed the maven compiler release to 11 and it worked ;---;"},{"owner":{"account_id":20967958,"reputation":4872,"user_id":15405732,"display_name":"Koedlt"},"score":0,"creation_date":1675491405,"post_id":75282773,"comment_id":132944741,"body_markdown":"Welcome to Stackoverflow! [Please don&#39;t post screenshots of text/data/code/errors](https://meta.stackoverflow.com/a/285557/15405732). They can&#39;t be searched or copied, or even consumed by users of adaptive technologies like screen readers. Instead, paste the code as text directly into your question/answer. If you select it and click the {} button or Ctrl+K the code block will be indented by four spaces, which will cause it to be rendered as code. Please edit your question to turn the image into well-formatted text.","body":"Welcome to Stackoverflow! <a href=\"https://meta.stackoverflow.com/a/285557/15405732\">Please don&#39;t post screenshots of text/data/code/errors</a>. They can&#39;t be searched or copied, or even consumed by users of adaptive technologies like screen readers. Instead, paste the code as text directly into your question/answer. If you select it and click the {} button or Ctrl+K the code block will be indented by four spaces, which will cause it to be rendered as code. Please edit your question to turn the image into well-formatted text."},{"owner":{"account_id":19871534,"reputation":31,"user_id":14557538,"display_name":"Buddhsen Tripathi"},"score":0,"creation_date":1675757609,"post_id":75282773,"comment_id":132992115,"body_markdown":"removed the image, thank you.","body":"removed the image, thank you."},{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1675759327,"post_id":75282773,"comment_id":132992588,"body_markdown":"If you want to compile for Java 17, you need to use Java 17 (e.g. OpenJDK 17) and not Java 11.","body":"If you want to compile for Java 17, you need to use Java 17 (e.g. OpenJDK 17) and not Java 11."}],"answers":[{"tags":[],"owner":{"account_id":19871534,"reputation":31,"user_id":14557538,"display_name":"Buddhsen Tripathi"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1675757965,"creation_date":1675141135,"answer_id":75292860,"question_id":75282773,"body_markdown":"Found the solution to the problem where I made changes to `pom.xml` file. change the maven compiler release to same as that of jdk version, it works for me.\r\n\r\n    &lt;properties&gt;\r\n    &lt;compiler-plugin.version&gt;3.10.1&lt;/compiler-plugin.version&gt;\r\n    &lt;maven.compiler.release&gt;11&lt;/maven.compiler.release&gt;","title":"Quarkus error: release version 17 not supported","body":"<p>Found the solution to the problem where I made changes to <code>pom.xml</code> file. change the maven compiler release to same as that of jdk version, it works for me.</p>\n<pre><code>&lt;properties&gt;\n&lt;compiler-plugin.version&gt;3.10.1&lt;/compiler-plugin.version&gt;\n&lt;maven.compiler.release&gt;11&lt;/maven.compiler.release&gt;\n</code></pre>\n"}],"owner":{"account_id":19871534,"reputation":31,"user_id":14557538,"display_name":"Buddhsen Tripathi"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1823,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":75292860,"answer_count":1,"score":0,"last_activity_date":1675757965,"creation_date":1675072858,"question_id":75282773,"body_markdown":"\r\nI&#39;m new to learning quarkus and was trying to run a new project but here&#39;s an error for the same.\r\nUsing Openjdk11.0 on Windows 10\r\n\r\n    [INFO] Scanning for projects...\r\n    [INFO] \r\n    [INFO] ---------------------------&lt; org.acme:backe &gt;---------------------------\r\n    [INFO] Building backe 1.0.0-SNAPSHOT                                           \r\n    [INFO] Invoking org.apache.maven.plugins:maven-compiler-plugin:3.10.1:compile @ backe\r\n    [INFO] Changes detected - recompiling the module!\r\n    [INFO] Compiling 1 source file to C:\\Users\\btripathi\\Project\\backe\\target\\classes\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] BUILD FAILURE\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Total time:  2.801 s\r\n    [INFO] Finished at: 2023-01-30T15:26:13+05:30\r\n    [INFO] ------------------------------------------------------------------------\r\n    [ERROR] Failed to execute goal io.quarkus.platform:quarkus-maven-plugin:2.16.0.Final:dev (default-cli) on project backe: Fatal error compiling: error: **release version 17 not supported -&gt; [Help 1]**\r\n    [ERROR]\r\n    [ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\r\n    [ERROR] Re-run Maven using the -X switch to enable full debug logging.\r\n    [ERROR]\r\n    [ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n    [ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\r\n\r\nI checked with jdk versions and did try running but I don&#39;t think I understand the root cause of the issue.","title":"Quarkus error: release version 17 not supported","body":"<p>I'm new to learning quarkus and was trying to run a new project but here's an error for the same.\nUsing Openjdk11.0 on Windows 10</p>\n<pre><code>[INFO] Scanning for projects...\n[INFO] \n[INFO] ---------------------------&lt; org.acme:backe &gt;---------------------------\n[INFO] Building backe 1.0.0-SNAPSHOT                                           \n[INFO] Invoking org.apache.maven.plugins:maven-compiler-plugin:3.10.1:compile @ backe\n[INFO] Changes detected - recompiling the module!\n[INFO] Compiling 1 source file to C:\\Users\\btripathi\\Project\\backe\\target\\classes\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  2.801 s\n[INFO] Finished at: 2023-01-30T15:26:13+05:30\n[INFO] ------------------------------------------------------------------------\n[ERROR] Failed to execute goal io.quarkus.platform:quarkus-maven-plugin:2.16.0.Final:dev (default-cli) on project backe: Fatal error compiling: error: **release version 17 not supported -&gt; [Help 1]**\n[ERROR]\n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n[ERROR]\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\n</code></pre>\n<p>I checked with jdk versions and did try running but I don't think I understand the root cause of the issue.</p>\n"},{"tags":["java","spring","aws-sdk"],"comments":[{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1675668615,"post_id":75357920,"comment_id":132970892,"body_markdown":"Is `com.amazonaws.protocol.json.SdkStructuredCborFactory` on your classpath/modulepath? Is there another `Caused By` section in the stack trace you omitted?","body":"Is <code>com.amazonaws.protocol.json.SdkStructuredCborFactory</code> on your classpath/modulepath? Is there another <code>Caused By</code> section in the stack trace you omitted?"}],"answers":[{"tags":[],"owner":{"account_id":27713305,"reputation":1,"user_id":21155532,"display_name":"Dhruv Nagpal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675757878,"creation_date":1675757878,"answer_id":75370561,"question_id":75357920,"body_markdown":"I found the fix, needed to upgrade the com.fasterxml.jackson.core:jackson-databind from 2.6.x to 2.12.x+ and that resolved the error.\r\nthanks everyone who responded.","title":"java.lang.NoClassDefFoundError: Could not initialize class com.amazonaws.protocol.json.SdkStructuredCborFactory","body":"<p>I found the fix, needed to upgrade the com.fasterxml.jackson.core:jackson-databind from 2.6.x to 2.12.x+ and that resolved the error.\nthanks everyone who responded.</p>\n"}],"owner":{"account_id":27713305,"reputation":1,"user_id":21155532,"display_name":"Dhruv Nagpal"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":235,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675757878,"creation_date":1675664186,"question_id":75357920,"body_markdown":"I&#39;m upgrading `amazonaws sdks` in my project\r\n\r\nfollowing are the upgrades I did in `POM`\r\n\r\n    amazon-kinesis-client from 1.9.0 to 1.14.9  \r\n    amazon-kinesis-producer from 0.10.2 to 0.15.2  \r\n    aws-java-sdk-core from 1.11.272 to 1.12.398  \r\n    jmespath-java from 1.11.98 to 1.12.398\r\n\r\nafter the changes getting the following runtime errors in log file and my kinesis `consumer`/`worker` are not working. `kinesis-producer` working fine.\r\n\r\n\r\n```\r\n[ INFO] [] [RecordProcessor-0000] (06 Feb 2023 11:35:49) (KinesisDataFetcher.java:171) - Initializing shard shardId-000000000000 with 49636335084413016973448851393414073031389798471324139522\r\n[ERROR] [] [Thread-10] (06 Feb 2023 11:35:50) (Worker.java:709) - Worker.run caught exception, sleeping for 1000 milli seconds!\r\njava.lang.RuntimeException: java.util.concurrent.ExecutionException: java.lang.NoClassDefFoundError: Could not initialize class com.amazonaws.protocol.json.SdkStructuredCborFactory\r\n\tat com.amazonaws.services.kinesis.clientlibrary.lib.worker.KinesisShardConsumer.determineTaskOutcome(KinesisShardConsumer.java:393)\r\n\tat com.amazonaws.services.kinesis.clientlibrary.lib.worker.KinesisShardConsumer.checkAndSubmitNextTask(KinesisShardConsumer.java:328)\r\n\tat com.amazonaws.services.kinesis.clientlibrary.lib.worker.KinesisShardConsumer.consumeShard(KinesisShardConsumer.java:316)\r\n\tat com.amazonaws.services.kinesis.clientlibrary.lib.worker.Worker.runProcessLoop(Worker.java:698)\r\n\tat com.amazonaws.services.kinesis.clientlibrary.lib.worker.Worker.run(Worker.java:681)\r\n\tat com.hk.web.listener.KinesisConsumer$2.run(KinesisConsumer.java:109)\r\n\tat java.lang.Thread.run(Thread.java:750)\r\nCaused by: java.util.concurrent.ExecutionException: java.lang.NoClassDefFoundError: Could not initialize class com.amazonaws.protocol.json.SdkStructuredCborFactory\r\n\tat java.util.concurrent.FutureTask.report(FutureTask.java:122)\r\n\tat java.util.concurrent.FutureTask.get(FutureTask.java:192)\r\n\tat com.amazonaws.services.kinesis.clientlibrary.lib.worker.KinesisShardConsumer.determineTaskOutcome(KinesisShardConsumer.java:376)\r\n\t... 6 more\r\nCaused by: java.lang.NoClassDefFoundError: Could not initialize class com.amazonaws.protocol.json.SdkStructuredCborFactory\r\n\tat com.amazonaws.protocol.json.SdkJsonProtocolFactory.getSdkFactory(SdkJsonProtocolFactory.java:141)\r\n\tat com.amazonaws.protocol.json.SdkJsonProtocolFactory.createGenerator(SdkJsonProtocolFactory.java:55)\r\n\tat com.amazonaws.protocol.json.SdkJsonProtocolFactory.createGenerator(SdkJsonProtocolFactory.java:75)\r\n\tat com.amazonaws.protocol.json.SdkJsonProtocolFactory.createProtocolMarshaller(SdkJsonProtocolFactory.java:65)\r\n\tat com.amazonaws.services.kinesis.model.transform.GetShardIteratorRequestProtocolMarshaller.marshall(GetShardIteratorRequestProtocolMarshaller.java:52)\r\n\tat com.amazonaws.services.kinesis.AmazonKinesisClient.executeGetShardIterator(AmazonKinesisClient.java:1420)\r\n\tat com.amazonaws.services.kinesis.AmazonKinesisClient.getShardIterator(AmazonKinesisClient.java:1405)\r\n\tat com.amazonaws.services.kinesis.clientlibrary.proxies.KinesisProxy.getIterator(KinesisProxy.java:574)\r\n\tat com.amazonaws.services.kinesis.clientlibrary.proxies.MetricsCollectingKinesisProxyDecorator.getIterator(MetricsCollectingKinesisProxyDecorator.java:125)\r\n\tat com.amazonaws.services.kinesis.clientlibrary.lib.worker.KinesisDataFetcher.getIterator(KinesisDataFetcher.java:224)\r\n\tat com.amazonaws.services.kinesis.clientlibrary.lib.worker.KinesisDataFetcher.advanceIteratorTo(KinesisDataFetcher.java:200)\r\n\tat com.amazonaws.services.kinesis.clientlibrary.lib.worker.KinesisDataFetcher.initialize(KinesisDataFetcher.java:172)\r\n\tat com.amazonaws.services.kinesis.clientlibrary.lib.worker.InitializeTask.call(InitializeTask.java:94)\r\n\tat com.amazonaws.services.kinesis.clientlibrary.lib.worker.MetricsCollectingTaskDecorator.call(MetricsCollectingTaskDecorator.java:49)\r\n\tat com.amazonaws.services.kinesis.clientlibrary.lib.worker.MetricsCollectingTaskDecorator.call(MetricsCollectingTaskDecorator.java:24)\r\n\tat java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n\r\n```\r\n\r\n\r\nI was checking if both my kiensis `producer` &amp; `consumer` are working fine or not, `producer` is working fine after the upgrade, but kinesis `consumer`/`worker` are giving the error I mentioned.","title":"java.lang.NoClassDefFoundError: Could not initialize class com.amazonaws.protocol.json.SdkStructuredCborFactory","body":"<p>I'm upgrading <code>amazonaws sdks</code> in my project</p>\n<p>following are the upgrades I did in <code>POM</code></p>\n<pre><code>amazon-kinesis-client from 1.9.0 to 1.14.9  \namazon-kinesis-producer from 0.10.2 to 0.15.2  \naws-java-sdk-core from 1.11.272 to 1.12.398  \njmespath-java from 1.11.98 to 1.12.398\n</code></pre>\n<p>after the changes getting the following runtime errors in log file and my kinesis <code>consumer</code>/<code>worker</code> are not working. <code>kinesis-producer</code> working fine.</p>\n<pre><code>[ INFO] [] [RecordProcessor-0000] (06 Feb 2023 11:35:49) (KinesisDataFetcher.java:171) - Initializing shard shardId-000000000000 with 49636335084413016973448851393414073031389798471324139522\n[ERROR] [] [Thread-10] (06 Feb 2023 11:35:50) (Worker.java:709) - Worker.run caught exception, sleeping for 1000 milli seconds!\njava.lang.RuntimeException: java.util.concurrent.ExecutionException: java.lang.NoClassDefFoundError: Could not initialize class com.amazonaws.protocol.json.SdkStructuredCborFactory\n    at com.amazonaws.services.kinesis.clientlibrary.lib.worker.KinesisShardConsumer.determineTaskOutcome(KinesisShardConsumer.java:393)\n    at com.amazonaws.services.kinesis.clientlibrary.lib.worker.KinesisShardConsumer.checkAndSubmitNextTask(KinesisShardConsumer.java:328)\n    at com.amazonaws.services.kinesis.clientlibrary.lib.worker.KinesisShardConsumer.consumeShard(KinesisShardConsumer.java:316)\n    at com.amazonaws.services.kinesis.clientlibrary.lib.worker.Worker.runProcessLoop(Worker.java:698)\n    at com.amazonaws.services.kinesis.clientlibrary.lib.worker.Worker.run(Worker.java:681)\n    at com.hk.web.listener.KinesisConsumer$2.run(KinesisConsumer.java:109)\n    at java.lang.Thread.run(Thread.java:750)\nCaused by: java.util.concurrent.ExecutionException: java.lang.NoClassDefFoundError: Could not initialize class com.amazonaws.protocol.json.SdkStructuredCborFactory\n    at java.util.concurrent.FutureTask.report(FutureTask.java:122)\n    at java.util.concurrent.FutureTask.get(FutureTask.java:192)\n    at com.amazonaws.services.kinesis.clientlibrary.lib.worker.KinesisShardConsumer.determineTaskOutcome(KinesisShardConsumer.java:376)\n    ... 6 more\nCaused by: java.lang.NoClassDefFoundError: Could not initialize class com.amazonaws.protocol.json.SdkStructuredCborFactory\n    at com.amazonaws.protocol.json.SdkJsonProtocolFactory.getSdkFactory(SdkJsonProtocolFactory.java:141)\n    at com.amazonaws.protocol.json.SdkJsonProtocolFactory.createGenerator(SdkJsonProtocolFactory.java:55)\n    at com.amazonaws.protocol.json.SdkJsonProtocolFactory.createGenerator(SdkJsonProtocolFactory.java:75)\n    at com.amazonaws.protocol.json.SdkJsonProtocolFactory.createProtocolMarshaller(SdkJsonProtocolFactory.java:65)\n    at com.amazonaws.services.kinesis.model.transform.GetShardIteratorRequestProtocolMarshaller.marshall(GetShardIteratorRequestProtocolMarshaller.java:52)\n    at com.amazonaws.services.kinesis.AmazonKinesisClient.executeGetShardIterator(AmazonKinesisClient.java:1420)\n    at com.amazonaws.services.kinesis.AmazonKinesisClient.getShardIterator(AmazonKinesisClient.java:1405)\n    at com.amazonaws.services.kinesis.clientlibrary.proxies.KinesisProxy.getIterator(KinesisProxy.java:574)\n    at com.amazonaws.services.kinesis.clientlibrary.proxies.MetricsCollectingKinesisProxyDecorator.getIterator(MetricsCollectingKinesisProxyDecorator.java:125)\n    at com.amazonaws.services.kinesis.clientlibrary.lib.worker.KinesisDataFetcher.getIterator(KinesisDataFetcher.java:224)\n    at com.amazonaws.services.kinesis.clientlibrary.lib.worker.KinesisDataFetcher.advanceIteratorTo(KinesisDataFetcher.java:200)\n    at com.amazonaws.services.kinesis.clientlibrary.lib.worker.KinesisDataFetcher.initialize(KinesisDataFetcher.java:172)\n    at com.amazonaws.services.kinesis.clientlibrary.lib.worker.InitializeTask.call(InitializeTask.java:94)\n    at com.amazonaws.services.kinesis.clientlibrary.lib.worker.MetricsCollectingTaskDecorator.call(MetricsCollectingTaskDecorator.java:49)\n    at com.amazonaws.services.kinesis.clientlibrary.lib.worker.MetricsCollectingTaskDecorator.call(MetricsCollectingTaskDecorator.java:24)\n    at java.util.concurrent.FutureTask.run(FutureTask.java:266)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n\n</code></pre>\n<p>I was checking if both my kiensis <code>producer</code> &amp; <code>consumer</code> are working fine or not, <code>producer</code> is working fine after the upgrade, but kinesis <code>consumer</code>/<code>worker</code> are giving the error I mentioned.</p>\n"},{"tags":["java","string","split"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":2,"creation_date":1675695740,"post_id":75362914,"comment_id":132978955,"body_markdown":"Don&#39;t assume spaces before or after the delimiter. In one case there isn&#39;t one. Your split pattern should be `&quot;\\\\s*,\\\\s*&quot;`","body":"Don&#39;t assume spaces before or after the delimiter. In one case there isn&#39;t one. Your split pattern should be <code>&quot;\\\\s*,\\\\s*&quot;</code>"},{"owner":{"account_id":27717095,"reputation":15,"user_id":21158557,"display_name":"alankar asthana"},"score":0,"creation_date":1675696293,"post_id":75362914,"comment_id":132979129,"body_markdown":"Hi Goose, I tried your regex, but still I am getting same error.\n\n3\nCatering party, 01/01/2018, 100\n party\n01/01/2018\n100\nWedding,24/01/2018,500\n\nException in thread &quot;main&quot; java.lang.ArrayIndexOutOfBoundsException: 1","body":"Hi Goose, I tried your regex, but still I am getting same error.  3 Catering party, 01/01/2018, 100  party 01/01/2018 100 Wedding,24/01/2018,500  Exception in thread &quot;main&quot; java.lang.ArrayIndexOutOfBoundsException: 1"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1675702083,"post_id":75362914,"comment_id":132981218,"body_markdown":"I would recommend not trying to use stdin for entering multiple lines *unless* it&#39;s reading from a piped in file, as this is problematic. The regex is correct","body":"I would recommend not trying to use stdin for entering multiple lines <i>unless</i> it&#39;s reading from a piped in file, as this is problematic. The regex is correct"},{"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"score":0,"creation_date":1675760042,"post_id":75362914,"comment_id":132992793,"body_markdown":"Remove the line `sc.next();`.","body":"Remove the line <code>sc.next();</code>."}],"answers":[{"tags":[],"owner":{"account_id":24354665,"reputation":119,"user_id":18290052,"display_name":"Moussa ELaQ"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675697588,"creation_date":1675697588,"answer_id":75363360,"question_id":75362914,"body_markdown":"try to remove white spaces before splitting your input, to make sure there is no white spaces that can affect your separator, also you have to check if the user has entered three fields separated by comma. Here&#39;s an example: \r\n\r\n```java\r\npublic static void main(String[] args) throws ParseException {\r\n  //SimpleDateFormat sdf = new SimpleDateFormat(&quot;dd/MM/yyyy&quot;);\r\n  Scanner sc = new Scanner(System.in);\r\n  int n = sc.nextInt();\r\n  List&lt;Event&gt; events = new ArrayList&lt;&gt;();\r\n  for (int i = 0; i &lt; n; i++) {\r\n    sc.next();\r\n    //String line=sc.nextLine();\r\n    String parts[] = sc.nextLine().trim().split(&quot;,&quot;);\r\n    if (parts.length != 3) {\r\n      throw new IllegalArgumentException(&quot;Error: Input must have 3 parts separated by comma&quot;);\r\n    }\r\n    String name = parts[0];\r\n    String date = parts[1];\r\n    String attendee = parts[2];\r\n    int count = Integer.parseInt(attendee);\r\n    events.add(new Event(name, date, count));\r\n  }\r\n}\r\n```","title":"Comma Separated User input in java","body":"<p>try to remove white spaces before splitting your input, to make sure there is no white spaces that can affect your separator, also you have to check if the user has entered three fields separated by comma. Here's an example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) throws ParseException {\n  //SimpleDateFormat sdf = new SimpleDateFormat(&quot;dd/MM/yyyy&quot;);\n  Scanner sc = new Scanner(System.in);\n  int n = sc.nextInt();\n  List&lt;Event&gt; events = new ArrayList&lt;&gt;();\n  for (int i = 0; i &lt; n; i++) {\n    sc.next();\n    //String line=sc.nextLine();\n    String parts[] = sc.nextLine().trim().split(&quot;,&quot;);\n    if (parts.length != 3) {\n      throw new IllegalArgumentException(&quot;Error: Input must have 3 parts separated by comma&quot;);\n    }\n    String name = parts[0];\n    String date = parts[1];\n    String attendee = parts[2];\n    int count = Integer.parseInt(attendee);\n    events.add(new Event(name, date, count));\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16657935,"reputation":834,"user_id":13927534,"display_name":"Miss Skooter"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1675757689,"creation_date":1675698508,"answer_id":75363554,"question_id":75362914,"body_markdown":"You may have noticed that, from your debug logs, you&#39;re not getting the correct output even before the `IndexOutOfBoundsException`. This is due to the `sc.next();` that you added at the beginning of the for loop. This is also the reason behind the exception in the second iteration. \r\n\r\n#### What is actually happening ####\r\nThe compiler is reading the first non-space seperated integer characters through `sc.nextInt();`\r\nThen, in the for loop, you are reading the next non-space seperated string through `sc.next();`. In your case, that&#39;s the word &quot;Catering&quot;.\r\n\r\nAfter that, the compiler is reading the rest of the line as &quot;party, 01/01/2018, 100&quot; and operating on it. This is why you are only getting the word &quot;party&quot; in the sysout rather than &quot;Catering party&quot;.\r\n\r\nThe same happens for the next line of input, except this time the entirety of &quot;Wedding,&quot; is considered a single `sc.next()` so you end up with &quot;24/01/2018, 500&quot; and an `IndexOutOfBoundsException`.\r\n\r\nThe only reason the first line worked is because it had two words in the first argument so it didn&#39;t affect the split array size.\r\n\r\n#### Solution ####\r\nI would recommend you try to fix it yourself before reading this next part. Consider using the debugger! It&#39;s a very helpful tool.\r\n\r\nafter reading the initial number input `sc.nextInt()` you should add `sc.nextLine();` so that the compiler understands that the previous line is finished and the next read should be on a new line.\r\n\r\nYou should remove `sc.next();` as this accomplishes nothing. (I&#39;m guessing you added this to try and solve the issue where the compiler wasn&#39;t reading the next line as mentioned previously).\r\n\r\nFinally, I would recommend you split on `,` rather than `, ` since you&#39;re trimming the strings anyway.\r\n\r\n#### @alankar&#39;s solution ####\r\nI have used BufferedReader and now I am able to take input.\r\n\r\n        for (int i = 0; i &lt; n; i++) {            \r\n            BufferedReader reader = new BufferedReader(new InputStreamReader(System.in));\r\n            String line=reader.readLine();\r\n            String parts[] = line.trim().split(&quot;,&quot;);\r\n            for (String data : parts) {\r\n              System.out.println(data);\r\n            }\r\n            name = parts[0].trim();\r\n            date = parts[1].trim();\r\n            attendee = parts[2].trim();\r\n            count = Integer.parseInt(attendee);\r\n            events.add(new Event(name, date, count));\r\n        }","title":"Comma Separated User input in java","body":"<p>You may have noticed that, from your debug logs, you're not getting the correct output even before the <code>IndexOutOfBoundsException</code>. This is due to the <code>sc.next();</code> that you added at the beginning of the for loop. This is also the reason behind the exception in the second iteration.</p>\n<h4>What is actually happening</h4>\n<p>The compiler is reading the first non-space seperated integer characters through <code>sc.nextInt();</code>\nThen, in the for loop, you are reading the next non-space seperated string through <code>sc.next();</code>. In your case, that's the word &quot;Catering&quot;.</p>\n<p>After that, the compiler is reading the rest of the line as &quot;party, 01/01/2018, 100&quot; and operating on it. This is why you are only getting the word &quot;party&quot; in the sysout rather than &quot;Catering party&quot;.</p>\n<p>The same happens for the next line of input, except this time the entirety of &quot;Wedding,&quot; is considered a single <code>sc.next()</code> so you end up with &quot;24/01/2018, 500&quot; and an <code>IndexOutOfBoundsException</code>.</p>\n<p>The only reason the first line worked is because it had two words in the first argument so it didn't affect the split array size.</p>\n<h4>Solution</h4>\n<p>I would recommend you try to fix it yourself before reading this next part. Consider using the debugger! It's a very helpful tool.</p>\n<p>after reading the initial number input <code>sc.nextInt()</code> you should add <code>sc.nextLine();</code> so that the compiler understands that the previous line is finished and the next read should be on a new line.</p>\n<p>You should remove <code>sc.next();</code> as this accomplishes nothing. (I'm guessing you added this to try and solve the issue where the compiler wasn't reading the next line as mentioned previously).</p>\n<p>Finally, I would recommend you split on <code>,</code> rather than <code>, </code> since you're trimming the strings anyway.</p>\n<h4>@alankar's solution</h4>\n<p>I have used BufferedReader and now I am able to take input.</p>\n<pre><code>    for (int i = 0; i &lt; n; i++) {            \n        BufferedReader reader = new BufferedReader(new InputStreamReader(System.in));\n        String line=reader.readLine();\n        String parts[] = line.trim().split(&quot;,&quot;);\n        for (String data : parts) {\n          System.out.println(data);\n        }\n        name = parts[0].trim();\n        date = parts[1].trim();\n        attendee = parts[2].trim();\n        count = Integer.parseInt(attendee);\n        events.add(new Event(name, date, count));\n    }\n</code></pre>\n"}],"owner":{"account_id":27717095,"reputation":15,"user_id":21158557,"display_name":"alankar asthana"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":300,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75363554,"answer_count":2,"score":1,"last_activity_date":1675757689,"creation_date":1675695238,"question_id":75362914,"body_markdown":"Below are the inputs:\r\nEvent Name, Date, No. of attendees\r\n\r\nCatering party, 01/01/2018, 100\r\n\r\nWedding,24/01/2018,500\r\n\r\nBike Stunts show, 06/01/2018, 300\r\n\r\nBelow is the code:\r\n```\r\npublic static void main(String[] args) throws ParseException {\r\n  //SimpleDateFormat sdf = new SimpleDateFormat(&quot;dd/MM/yyyy&quot;);\r\n  Scanner sc = new Scanner(System.in);\r\n  int n = sc.nextInt();\r\n  List&lt;Event&gt; events = new ArrayList&lt;&gt;();\r\n  for (int i = 0; i &lt; n; i++) {\r\n    sc.next();\r\n    //String line=sc.nextLine();\r\n    String parts[] = sc.nextLine().split(&quot;, &quot;);\r\n    //StringTokenizer st = new StringTokenizer(line,&quot;, &quot;);\r\n    //int j=0;\r\n    //while(st.hasMoreTokens()) {\r\n    //System.out.println(st.nextToken());\r\n    //parts[j]=st.nextToken();\r\n    //j++;\r\n    //}\r\n    //System.out.println(j);\r\n    //String[] inputs = sc.nextLine().split(&quot;, &quot;);`\r\n    for (String data : parts) {\r\n      System.out.println(data);\r\n    }\r\n    String name = parts[0].trim();\r\n    String date = parts[1].trim();\r\n    String attendee = parts[2].trim();\r\n    int count = Integer.parseInt(attendee);\r\n    events.add(new Event(name, date, count));\r\n  }\r\n}\r\n```\r\nBelow is the Error:\r\n\r\n3`Number of inputs`\r\n\r\nCatering party, 01/01/2018, 100\r\n\r\nparty\r\n01/01/2018\r\n100\r\n\r\nWedding, 24/01/2018, 500\r\n\r\n24/01/2018\r\n500\r\nException in thread &quot;main&quot; java.lang.ArrayIndexOutOfBoundsException: 2\r\nat Main.main(Main.java:74)\r\n\r\nI have tried both String Tokenizer and split method but as you can see in the error that I am not able to take the input in correct format. Please help me to know what is wrong in my code.\r\n\r\nHello Everyone! After getting stuck with sc.next() and sc.nextLine() I  have used BufferedReader to take the input. And it is working below is the code:\r\n```\r\nfor (int i = 0; i &lt; n; i++) {            \r\n    BufferedReader reader = new BufferedReader(new InputStreamReader(System.in));\r\n    String line=reader.readLine();\r\n    String parts[] = line.trim().split(&quot;,&quot;);\r\n    for (String data : parts) {\r\n         System.out.println(data);\r\n    }\r\n    name = parts[0].trim();\r\n    date = parts[1].trim();\r\n    attendee = parts[2].trim();\r\n    count = Integer.parseInt(attendee);\r\n    events.add(new Event(name, date, count));\r\n}\r\n```","title":"Comma Separated User input in java","body":"<p>Below are the inputs:\nEvent Name, Date, No. of attendees</p>\n<p>Catering party, 01/01/2018, 100</p>\n<p>Wedding,24/01/2018,500</p>\n<p>Bike Stunts show, 06/01/2018, 300</p>\n<p>Below is the code:</p>\n<pre><code>public static void main(String[] args) throws ParseException {\n  //SimpleDateFormat sdf = new SimpleDateFormat(&quot;dd/MM/yyyy&quot;);\n  Scanner sc = new Scanner(System.in);\n  int n = sc.nextInt();\n  List&lt;Event&gt; events = new ArrayList&lt;&gt;();\n  for (int i = 0; i &lt; n; i++) {\n    sc.next();\n    //String line=sc.nextLine();\n    String parts[] = sc.nextLine().split(&quot;, &quot;);\n    //StringTokenizer st = new StringTokenizer(line,&quot;, &quot;);\n    //int j=0;\n    //while(st.hasMoreTokens()) {\n    //System.out.println(st.nextToken());\n    //parts[j]=st.nextToken();\n    //j++;\n    //}\n    //System.out.println(j);\n    //String[] inputs = sc.nextLine().split(&quot;, &quot;);`\n    for (String data : parts) {\n      System.out.println(data);\n    }\n    String name = parts[0].trim();\n    String date = parts[1].trim();\n    String attendee = parts[2].trim();\n    int count = Integer.parseInt(attendee);\n    events.add(new Event(name, date, count));\n  }\n}\n</code></pre>\n<p>Below is the Error:</p>\n<p>3<code>Number of inputs</code></p>\n<p>Catering party, 01/01/2018, 100</p>\n<p>party\n01/01/2018\n100</p>\n<p>Wedding, 24/01/2018, 500</p>\n<p>24/01/2018\n500\nException in thread &quot;main&quot; java.lang.ArrayIndexOutOfBoundsException: 2\nat Main.main(Main.java:74)</p>\n<p>I have tried both String Tokenizer and split method but as you can see in the error that I am not able to take the input in correct format. Please help me to know what is wrong in my code.</p>\n<p>Hello Everyone! After getting stuck with sc.next() and sc.nextLine() I  have used BufferedReader to take the input. And it is working below is the code:</p>\n<pre><code>for (int i = 0; i &lt; n; i++) {            \n    BufferedReader reader = new BufferedReader(new InputStreamReader(System.in));\n    String line=reader.readLine();\n    String parts[] = line.trim().split(&quot;,&quot;);\n    for (String data : parts) {\n         System.out.println(data);\n    }\n    name = parts[0].trim();\n    date = parts[1].trim();\n    attendee = parts[2].trim();\n    count = Integer.parseInt(attendee);\n    events.add(new Event(name, date, count));\n}\n</code></pre>\n"},{"tags":["java","class"],"answers":[{"tags":[],"owner":{"account_id":19726215,"reputation":538,"user_id":14442758,"display_name":"Z-100"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1675757463,"creation_date":1675757463,"answer_id":75370504,"question_id":75370442,"body_markdown":"It works on my machine. But I guess your problem is the app getting shut down imidiatelly after receiving the welcome message and &quot;a) check balance&quot;.\r\n\r\nThis is happening because after the `System.out.println(&quot;a) Check Balance);` you&#39;re not actually accessing the Scanner. Add a `String option = sc.nextLine();` to your code.\r\n","title":"Make a Sub-class run inside a public main class","body":"<p>It works on my machine. But I guess your problem is the app getting shut down imidiatelly after receiving the welcome message and &quot;a) check balance&quot;.</p>\n<p>This is happening because after the <code>System.out.println(&quot;a) Check Balance);</code> you're not actually accessing the Scanner. Add a <code>String option = sc.nextLine();</code> to your code.</p>\n"}],"owner":{"account_id":27634942,"reputation":3,"user_id":21093061,"display_name":"grzurmum"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":75370504,"answer_count":1,"score":-1,"last_activity_date":1675757463,"creation_date":1675757163,"question_id":75370442,"body_markdown":"So i’m new to Java and i’ve learnt a couple of things and decided to try on different projects, i saw this online and tried it but it only runs the main class but i also want it to display the menu part too which is in a different class , Without the menu the rest of the class isn’t going to work\r\n\r\n```\r\nimport java.util.Scanner;\r\n\r\npublic class BankApplication {\r\n\r\n\r\n    public static void main(String[] args) {\r\n        Scanner sc=new Scanner(System.in);\r\n        System.out.println(&quot;Enter your &#39;Name&#39; and &#39;CustomerId&#39; to access your Bank account:&quot;);\r\n        String name=sc.nextLine();\r\n        String customerId=sc.nextLine();\r\n        BankAccount obj1=new BankAccount(name,customerId);\r\n        obj1.menu();\r\n    }\r\n}\r\n\r\nclass BankAccount{\r\n    double bal;\r\n    double prevTrans;\r\n    String customerName;\r\n    String customerId;\r\n\r\n    BankAccount(String customerName,String customerId){\r\n        this.customerName=customerName;\r\n        this.customerId=customerId;\r\n    }\r\n\r\n\r\n    void deposit(double amount){\r\n        if(amount!=0){\r\n            bal+=amount;\r\n            prevTrans=amount;\r\n        }\r\n    }\r\n\r\n    void withdraw(double amt){\r\n        if(amt!=0 &amp;&amp; bal&gt;=amt){\r\n            bal-=amt;\r\n            prevTrans=-amt;\r\n        }\r\n        else if(bal&lt;amt){\r\n            System.out.println(&quot;Bank balance insufficient&quot;);\r\n        }\r\n    }\r\n\r\n    void getPreviousTrans(){\r\n        if(prevTrans&gt;0){\r\n            System.out.println(&quot;Deposited: &quot;+prevTrans);\r\n        }\r\n        else if(prevTrans&lt;0){\r\n            System.out.println(&quot;Withdrawn: &quot;+Math.abs(prevTrans));\r\n        }\r\n        else{\r\n            System.out.println(&quot;No transaction occured&quot;);\r\n        }\r\n    }\r\n\r\n    void menu(){\r\n        char option;\r\n        Scanner sc=new Scanner(System.in);\r\n        System.out.println(&quot;Welcome &quot;+customerName);\r\n        System.out.println(&quot;Your ID:&quot;+customerId);\r\n        System.out.println(&quot;\\n&quot;);\r\n        System.out.println(&quot;a) Check Balance&quot;);\r\n\r\nI wanted the code to run the menu there too so i could test the functions included, please is there a way to make it run or call the second class?\r\n```","title":"Make a Sub-class run inside a public main class","body":"<p>So i’m new to Java and i’ve learnt a couple of things and decided to try on different projects, i saw this online and tried it but it only runs the main class but i also want it to display the menu part too which is in a different class , Without the menu the rest of the class isn’t going to work</p>\n<pre><code>import java.util.Scanner;\n\npublic class BankApplication {\n\n\n    public static void main(String[] args) {\n        Scanner sc=new Scanner(System.in);\n        System.out.println(&quot;Enter your 'Name' and 'CustomerId' to access your Bank account:&quot;);\n        String name=sc.nextLine();\n        String customerId=sc.nextLine();\n        BankAccount obj1=new BankAccount(name,customerId);\n        obj1.menu();\n    }\n}\n\nclass BankAccount{\n    double bal;\n    double prevTrans;\n    String customerName;\n    String customerId;\n\n    BankAccount(String customerName,String customerId){\n        this.customerName=customerName;\n        this.customerId=customerId;\n    }\n\n\n    void deposit(double amount){\n        if(amount!=0){\n            bal+=amount;\n            prevTrans=amount;\n        }\n    }\n\n    void withdraw(double amt){\n        if(amt!=0 &amp;&amp; bal&gt;=amt){\n            bal-=amt;\n            prevTrans=-amt;\n        }\n        else if(bal&lt;amt){\n            System.out.println(&quot;Bank balance insufficient&quot;);\n        }\n    }\n\n    void getPreviousTrans(){\n        if(prevTrans&gt;0){\n            System.out.println(&quot;Deposited: &quot;+prevTrans);\n        }\n        else if(prevTrans&lt;0){\n            System.out.println(&quot;Withdrawn: &quot;+Math.abs(prevTrans));\n        }\n        else{\n            System.out.println(&quot;No transaction occured&quot;);\n        }\n    }\n\n    void menu(){\n        char option;\n        Scanner sc=new Scanner(System.in);\n        System.out.println(&quot;Welcome &quot;+customerName);\n        System.out.println(&quot;Your ID:&quot;+customerId);\n        System.out.println(&quot;\\n&quot;);\n        System.out.println(&quot;a) Check Balance&quot;);\n\nI wanted the code to run the menu there too so i could test the functions included, please is there a way to make it run or call the second class?\n</code></pre>\n"},{"tags":["java","lombok"],"answers":[{"tags":[],"owner":{"account_id":6291890,"reputation":9545,"user_id":4889267,"accept_rate":100,"display_name":"Alan Kavanagh"},"down_vote_count":1,"up_vote_count":3,"is_accepted":true,"score":2,"last_activity_date":1576854629,"creation_date":1576854528,"answer_id":59427428,"question_id":59427355,"body_markdown":"Try specifying the `AccessLevel` on the `driver` field:\r\n\r\n    @Getter(AccessLevel.PROTECTED)\r\n    protected Driver driver;\r\n\r\nYou can read more about the `AccessLevel` here in the documentation:\r\nhttps://projectlombok.org/api/lombok/AccessLevel.html","title":"Why doesn&#39;t lombok provide a getter method for inherited attribute?","body":"<p>Try specifying the <code>AccessLevel</code> on the <code>driver</code> field:</p>\n\n<pre><code>@Getter(AccessLevel.PROTECTED)\nprotected Driver driver;\n</code></pre>\n\n<p>You can read more about the <code>AccessLevel</code> here in the documentation:\n<a href=\"https://projectlombok.org/api/lombok/AccessLevel.html\" rel=\"nofollow noreferrer\">https://projectlombok.org/api/lombok/AccessLevel.html</a></p>\n"},{"tags":[],"owner":{"account_id":4508992,"reputation":1563,"user_id":3665662,"display_name":"amer"},"down_vote_count":2,"up_vote_count":10,"is_accepted":false,"score":8,"last_activity_date":1576854578,"creation_date":1576854578,"answer_id":59427441,"question_id":59427355,"body_markdown":"Because driver is `protected` and `Data` all generated getters and setters will be public (according to documentation).\r\nIt is trying to access higher level privileges. \r\nTry:\r\n\r\n\r\n     import lombok.AccessLevel;\r\n     @Getter(AccessLevel.PROTECTED) protected Driver driver;","title":"Why doesn&#39;t lombok provide a getter method for inherited attribute?","body":"<p>Because driver is <code>protected</code> and <code>Data</code> all generated getters and setters will be public (according to documentation).\nIt is trying to access higher level privileges. \nTry:</p>\n\n<pre><code> import lombok.AccessLevel;\n @Getter(AccessLevel.PROTECTED) protected Driver driver;\n</code></pre>\n"}],"owner":{"account_id":2211885,"reputation":11194,"user_id":1953504,"accept_rate":66,"display_name":"Sal-laS"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7721,"favorite_count":0,"down_vote_count":1,"up_vote_count":12,"accepted_answer_id":59427428,"answer_count":2,"score":11,"last_activity_date":1675757433,"creation_date":1576854229,"question_id":59427355,"body_markdown":"Given that I have the below class\r\n\r\n    import lombok.Data;\r\n    @Data\r\n    public class A extends B {\r\n    }\r\n\r\nAnd then class B is as below:\r\n\r\n    @Data\r\n    public class B {\r\n    \tprotected Driver driver;\r\n    }\r\n\r\n\r\nBut, when I try to get the driver by the following code:\r\n\r\n    A a = new A();\r\n    a.getDriver();\r\n\r\nBut it complains with:\r\n\r\n    The method getDriver() is undefined for the type A\r\n\t\t\t\t\t\t\t\t\t\t","title":"Why doesn&#39;t lombok provide a getter method for inherited attribute?","body":"<p>Given that I have the below class</p>\n<pre><code>import lombok.Data;\n@Data\npublic class A extends B {\n}\n</code></pre>\n<p>And then class B is as below:</p>\n<pre><code>@Data\npublic class B {\n    protected Driver driver;\n}\n</code></pre>\n<p>But, when I try to get the driver by the following code:</p>\n<pre><code>A a = new A();\na.getDriver();\n</code></pre>\n<p>But it complains with:</p>\n<pre><code>The method getDriver() is undefined for the type A\n                                    \n</code></pre>\n"},{"tags":["java","spring","spring-boot","ssl","hashicorp-vault"],"answers":[{"tags":[],"owner":{"account_id":1674328,"reputation":2652,"user_id":1540177,"display_name":"grekier"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1675757322,"creation_date":1675757322,"answer_id":75370475,"question_id":75369815,"body_markdown":"It looks like you are connecting to https using IP address in the URI. This results in an SSL error (since certificates are based on name and not IPs) so. you can either add the certificate to the trusted list using keytool or add code to ignore certificate validation (depending on how you connect, this will vary https://howtodoinjava.com/java/java-security/bypass-ssl-certificate-checking-java/ has some examples where one probably will fit).","title":"Error while connecting Spring Boot App with Vault :PKIX path building failed:sun.security.provider.certpath.SunCertPathBuilderException","body":"<p>It looks like you are connecting to https using IP address in the URI. This results in an SSL error (since certificates are based on name and not IPs) so. you can either add the certificate to the trusted list using keytool or add code to ignore certificate validation (depending on how you connect, this will vary <a href=\"https://howtodoinjava.com/java/java-security/bypass-ssl-certificate-checking-java/\" rel=\"nofollow noreferrer\">https://howtodoinjava.com/java/java-security/bypass-ssl-certificate-checking-java/</a> has some examples where one probably will fit).</p>\n"}],"owner":{"account_id":15228511,"reputation":31,"user_id":10988289,"display_name":"Zahid Akhtar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1093,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":75370475,"answer_count":1,"score":-1,"last_activity_date":1675757322,"creation_date":1675753061,"question_id":75369815,"body_markdown":"**While connecting vault(hosted on https) with spring boot I am getting the below error.**\r\n        org.springframework.vault.authentication.VaultLoginException: Cannot log in using \r\n        org.springframework.web.client.ResourceAccessException: I/O error on POST request \r\n        for &quot;https://10.166.181.83:31975/v1/auth/cert/login&quot;: \r\n        sun.security.validator.ValidatorException: PKIX path building failed: \r\n        sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid \r\n        certification path to requested target; nested exception is \r\n        javax.net.ssl.SSLHandshakeException: sun.security.validator.ValidatorException: \r\n        PKIX path building failed: \r\n        sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid \r\n        certification path to requested target\r\n    **My pom.xml is** \r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-cloud-starter-vault-config&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    While connectiong to localhost vault server which is on http , everything works fine.\r\n    Could anyone please help me on this?\r\n    \r\n    **bootstrap.properties is :**\r\n    \r\n    spring.cloud.vault.scheme=https\r\n    spring.cloud.vault.kv.enabled=true\r\n    spring.cloud.vault.generic.enabled=true\r\n    spring.cloud.vault.generic.backend=configuration-server\r\n    spring.cloud.vault.generic.default-context=credentials\r\n    spring.cloud.vault.connection-timeout=5000\r\n    spring.cloud.vault.read-timeout=15000\r\n    spring.cloud.vault.config.order=-10\r\n    \r\n    spring.cloud.vault.authentication=CERT\r\n    spring.cloud.vault.ssl.cert-auth-path=cert\r\n    spring.cloud.vault.ssl.trust-store-location=classpath:vault.jks\r\n    spring.cloud.vault.ssl.trust-store-password=ril@12345\r\n    \r\n    management.endpoints.web.exposure.include=*\r\n    management.endpoint.env.post.enabled=true\r\n    \r\n    spring.cloud.vault.uri=https://../../../\r\n    spring.cloud.vault.token=hvs.XXXXXXXX","title":"Error while connecting Spring Boot App with Vault :PKIX path building failed:sun.security.provider.certpath.SunCertPathBuilderException","body":"<p><strong>While connecting vault(hosted on https) with spring boot I am getting the below error.</strong>\norg.springframework.vault.authentication.VaultLoginException: Cannot log in using\norg.springframework.web.client.ResourceAccessException: I/O error on POST request\nfor &quot;https://10.166.181.83:31975/v1/auth/cert/login&quot;:\nsun.security.validator.ValidatorException: PKIX path building failed:\nsun.security.provider.certpath.SunCertPathBuilderException: unable to find valid\ncertification path to requested target; nested exception is\njavax.net.ssl.SSLHandshakeException: sun.security.validator.ValidatorException:\nPKIX path building failed:\nsun.security.provider.certpath.SunCertPathBuilderException: unable to find valid\ncertification path to requested target\n<strong>My pom.xml is</strong>\n\norg.springframework.cloud\nspring-cloud-starter-vault-config\n</p>\n<pre><code>While connectiong to localhost vault server which is on http , everything works fine.\nCould anyone please help me on this?\n\n**bootstrap.properties is :**\n\nspring.cloud.vault.scheme=https\nspring.cloud.vault.kv.enabled=true\nspring.cloud.vault.generic.enabled=true\nspring.cloud.vault.generic.backend=configuration-server\nspring.cloud.vault.generic.default-context=credentials\nspring.cloud.vault.connection-timeout=5000\nspring.cloud.vault.read-timeout=15000\nspring.cloud.vault.config.order=-10\n\nspring.cloud.vault.authentication=CERT\nspring.cloud.vault.ssl.cert-auth-path=cert\nspring.cloud.vault.ssl.trust-store-location=classpath:vault.jks\nspring.cloud.vault.ssl.trust-store-password=ril@12345\n\nmanagement.endpoints.web.exposure.include=*\nmanagement.endpoint.env.post.enabled=true\n\nspring.cloud.vault.uri=https://../../../\nspring.cloud.vault.token=hvs.XXXXXXXX\n</code></pre>\n"},{"tags":["java","list","for-loop","selenium-webdriver","drop-down-menu"],"comments":[{"owner":{"account_id":16422586,"reputation":1841,"user_id":11863448,"display_name":"Akzy"},"score":0,"creation_date":1675758778,"post_id":75370183,"comment_id":132992417,"body_markdown":"Please provide the more detail, currently it&#39;s unclear what you want to achieve ? Provide `HTML` source and `code` that you tried so far?","body":"Please provide the more detail, currently it&#39;s unclear what you want to achieve ? Provide <code>HTML</code> source and <code>code</code> that you tried so far?"}],"answers":[{"tags":[],"owner":{"account_id":27715198,"reputation":146,"user_id":21157064,"display_name":"m7s"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675756855,"creation_date":1675756855,"answer_id":75370408,"question_id":75370183,"body_markdown":"\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n\r\n     $(document).ready(function () {\r\n        $(&#39;.dropdown-menu input, .dropdown-menu label&#39;).click(function(e) {\r\n          e.stopPropagation();\r\n        });\r\n      });\r\n\r\n&lt;!-- language: lang-css --&gt;\r\n\r\n    .dropdown-menu {\r\n      max-height: 200px;\r\n      overflow-y: auto;\r\n    }\r\n\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;script src=&quot;https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js&quot;&gt;&lt;/script&gt;\r\n    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css&quot; integrity=&quot;sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u&quot; crossorigin=&quot;anonymous&quot;&gt;\r\n    &lt;script src=&quot;https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js&quot; integrity=&quot;sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa&quot; crossorigin=&quot;anonymous&quot;&gt;&lt;/script&gt;\r\n    &lt;div class=&quot;dropdown&quot;&gt;\r\n      &lt;button class=&quot;btn btn-default dropdown-toggle&quot; type=&quot;button&quot; id=&quot;dropdownMenu1&quot; data-toggle=&quot;dropdown&quot; aria-haspopup=&quot;true&quot; aria-expanded=&quot;true&quot;&gt;\r\n        Dropdown\r\n        &lt;span class=&quot;caret&quot;&gt;&lt;/span&gt;\r\n      &lt;/button&gt;\r\n      &lt;ul class=&quot;dropdown-menu&quot; aria-labelledby=&quot;dropdownMenu1&quot;&gt;\r\n        &lt;li&gt;&lt;label&gt;&lt;input type=&quot;checkbox&quot;&gt;Option 1&lt;/label&gt;&lt;/li&gt;\r\n        &lt;li&gt;&lt;label&gt;&lt;input type=&quot;checkbox&quot;&gt;Option 2&lt;/label&gt;&lt;/li&gt;\r\n        &lt;li&gt;&lt;label&gt;&lt;input type=&quot;checkbox&quot;&gt;Option 3&lt;/label&gt;&lt;/li&gt;\r\n      &lt;/ul&gt;\r\n    &lt;/div&gt;\r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nuse this code if you are using bootstrap ","title":"can we select two elements in dropdown in form of check boxes?","body":"<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code> $(document).ready(function () {\n    $('.dropdown-menu input, .dropdown-menu label').click(function(e) {\n      e.stopPropagation();\n    });\n  });</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.dropdown-menu {\n  max-height: 200px;\n  overflow-y: auto;\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js\"&gt;&lt;/script&gt;\n&lt;link rel=\"stylesheet\" href=\"https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css\" integrity=\"sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u\" crossorigin=\"anonymous\"&gt;\n&lt;script src=\"https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js\" integrity=\"sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa\" crossorigin=\"anonymous\"&gt;&lt;/script&gt;\n&lt;div class=\"dropdown\"&gt;\n  &lt;button class=\"btn btn-default dropdown-toggle\" type=\"button\" id=\"dropdownMenu1\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"true\"&gt;\n    Dropdown\n    &lt;span class=\"caret\"&gt;&lt;/span&gt;\n  &lt;/button&gt;\n  &lt;ul class=\"dropdown-menu\" aria-labelledby=\"dropdownMenu1\"&gt;\n    &lt;li&gt;&lt;label&gt;&lt;input type=\"checkbox\"&gt;Option 1&lt;/label&gt;&lt;/li&gt;\n    &lt;li&gt;&lt;label&gt;&lt;input type=\"checkbox\"&gt;Option 2&lt;/label&gt;&lt;/li&gt;\n    &lt;li&gt;&lt;label&gt;&lt;input type=\"checkbox\"&gt;Option 3&lt;/label&gt;&lt;/li&gt;\n  &lt;/ul&gt;\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>use this code if you are using bootstrap</p>\n"}],"owner":{"account_id":27722910,"reputation":1,"user_id":21163081,"display_name":"Prasanna"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675756855,"creation_date":1675755540,"question_id":75370183,"body_markdown":"can we select two elements in dropdown in form of check boxes by using List or any other way. Elements in the dropdown are in the form of check boxes.\r\nThanks in advance.\r\n\r\nTried but didn&#39;t find the solution. ","title":"can we select two elements in dropdown in form of check boxes?","body":"<p>can we select two elements in dropdown in form of check boxes by using List or any other way. Elements in the dropdown are in the form of check boxes.\nThanks in advance.</p>\n<p>Tried but didn't find the solution.</p>\n"},{"tags":["java","fonts","itext","non-latin"],"owner":{"account_id":5208369,"reputation":623,"user_id":4165553,"accept_rate":53,"display_name":"Aqeel Haider"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675756801,"creation_date":1675756801,"question_id":75370401,"body_markdown":"Hi I&#39;m creating a pdf report using Itext 5, the report contains non-Latin characters, some characters are showing, and some are not. \r\n\r\nI&#39;m adding the minimum code example to replicate the issue. I think it may be font, but same font is working with Apache POI to generate doc file. \r\n\r\n    File file = new File(Util.FONTS, &quot;calibri.ttf&quot;);\r\n\t\tFontFactory.register(file.getAbsolutePath(), &quot;MY_FONT&quot;);\r\n\t\ttry {\r\n\t\t\tDocument document = new Document();\r\n\t\t\tPdfWriter.getInstance(document, new FileOutputStream(&quot;Hello.pdf&quot;));\r\n\t\t\tdocument.open();\r\n\t\t\tdocument.add(new Paragraph(&quot;ครูเวียดนามคนนี้เขาเย็ดเด็กนักเรียนทั้งห้อง สุดยอดจริงๆ ม้าขาว.mp4&quot;,\r\n\t\t\t\t\tFontFactory.getFont(&quot;Tahoma&quot;, BaseFont.IDENTITY_H, BaseFont.EMBEDDED)));\r\n\t\t\tdocument.add(new Paragraph(&quot;Hello, Καλημέρα, Gr&#252;&#223;gott, Привіт&quot;,\r\n\t\t\t\t\tFontFactory.getFont(&quot;MY_FONT&quot;, BaseFont.IDENTITY_H, BaseFont.EMBEDDED)));\r\n\t\t\tdocument.close();\r\n\t\t} catch (DocumentException | IOException e1) {\r\n\t\t\te1.printStackTrace();\r\n\t\t}\r\n[Font File use][1]\r\n   [1]: https://www.dropbox.com/sh/2ca0cc8nvrviido/AAAAcrHj4DMehZm8no0ImR89a?dl=1\r\n\r\nThank you. ","title":"Non Latin characters is not showing in IText 5 using java","body":"<p>Hi I'm creating a pdf report using Itext 5, the report contains non-Latin characters, some characters are showing, and some are not.</p>\n<p>I'm adding the minimum code example to replicate the issue. I think it may be font, but same font is working with Apache POI to generate doc file.</p>\n<pre><code>File file = new File(Util.FONTS, &quot;calibri.ttf&quot;);\n    FontFactory.register(file.getAbsolutePath(), &quot;MY_FONT&quot;);\n    try {\n        Document document = new Document();\n        PdfWriter.getInstance(document, new FileOutputStream(&quot;Hello.pdf&quot;));\n        document.open();\n        document.add(new Paragraph(&quot;ครูเวียดนามคนนี้เขาเย็ดเด็กนักเรียนทั้งห้อง สุดยอดจริงๆ ม้าขาว.mp4&quot;,\n                FontFactory.getFont(&quot;Tahoma&quot;, BaseFont.IDENTITY_H, BaseFont.EMBEDDED)));\n        document.add(new Paragraph(&quot;Hello, Καλημέρα, Grüßgott, Привіт&quot;,\n                FontFactory.getFont(&quot;MY_FONT&quot;, BaseFont.IDENTITY_H, BaseFont.EMBEDDED)));\n        document.close();\n    } catch (DocumentException | IOException e1) {\n        e1.printStackTrace();\n    }\n</code></pre>\n<p>[Font File use][1]\n[1]: https://www.dropbox.com/sh/2ca0cc8nvrviido/AAAAcrHj4DMehZm8no0ImR89a?dl=1</p>\n<p>Thank you.</p>\n"},{"tags":["java","discord","bots","discord-jda"],"answers":[{"tags":[],"owner":{"account_id":12843211,"reputation":822,"user_id":9290563,"display_name":"Danny"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1675756661,"creation_date":1675756661,"answer_id":75370381,"question_id":75363040,"body_markdown":"You could use a `HashMap` for storing the relevant data for each interaction. I&#39;d like to suggest using the user id as key and storing question, correct answer and maybe the number of tries in an object.\r\n\r\nWhenever someone uses your command you can check the map for their user id. If they are already in, you could discontinue their last attempt and start a new one or have them finish their last attempt before starting a new one.\r\n\r\nOnce a riddle is completed you just delete the respective element of the map.\r\n\r\nEach time an user writes a message you just need to check if their id is a key in your map. If it is, you can react according to the entry, if not, just ignore the message.","title":"how can i handle multiple events from different servers or channels in discord?","body":"<p>You could use a <code>HashMap</code> for storing the relevant data for each interaction. I'd like to suggest using the user id as key and storing question, correct answer and maybe the number of tries in an object.</p>\n<p>Whenever someone uses your command you can check the map for their user id. If they are already in, you could discontinue their last attempt and start a new one or have them finish their last attempt before starting a new one.</p>\n<p>Once a riddle is completed you just delete the respective element of the map.</p>\n<p>Each time an user writes a message you just need to check if their id is a key in your map. If it is, you can react according to the entry, if not, just ignore the message.</p>\n"}],"owner":{"account_id":22495338,"reputation":13,"user_id":20234069,"display_name":"tavinho"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":144,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75370381,"answer_count":1,"score":1,"last_activity_date":1675756661,"creation_date":1675695920,"question_id":75363040,"body_markdown":"I&#39;m building a Discord bot in Java using JDA api. What my bot does is return a quote from a league of legends champion, and then the user must guess which champion says that by typing in the chat.\r\n\r\nThe problem I&#39;m facing is that when a person calls the bot by the command on one server and also on another server or channel, the bot conflicts and the response changes to the last one that was generated, so the user who used the command first will not be able to get the answer right because it has changed.\r\n\r\nTo make it more clear, i will use a example:\r\n\r\nSuppose I call a command that displays a math equation where the user must correctly answer it:\r\n\r\n- 5 + 4\r\n\r\nBut someone else also uses the command on another server after i used the command: \r\n\r\n- 2 + 3 \r\n\r\nThe answer now is 5, because the last equation generated is the one that will counts.\r\n\r\nWhat can i do to prevent this? To separate different processes to a single command?\r\n\r\nI&#39;ve tried to set a boolean to define if the command is active or not, but it happens the same.\r\n\r\nEx: someone used the command and a equation was generated, and then the boolean is set to true and then the same command can not be used. But this boolean is also preventing to someone else use the command in another server.","title":"how can i handle multiple events from different servers or channels in discord?","body":"<p>I'm building a Discord bot in Java using JDA api. What my bot does is return a quote from a league of legends champion, and then the user must guess which champion says that by typing in the chat.</p>\n<p>The problem I'm facing is that when a person calls the bot by the command on one server and also on another server or channel, the bot conflicts and the response changes to the last one that was generated, so the user who used the command first will not be able to get the answer right because it has changed.</p>\n<p>To make it more clear, i will use a example:</p>\n<p>Suppose I call a command that displays a math equation where the user must correctly answer it:</p>\n<ul>\n<li>5 + 4</li>\n</ul>\n<p>But someone else also uses the command on another server after i used the command:</p>\n<ul>\n<li>2 + 3</li>\n</ul>\n<p>The answer now is 5, because the last equation generated is the one that will counts.</p>\n<p>What can i do to prevent this? To separate different processes to a single command?</p>\n<p>I've tried to set a boolean to define if the command is active or not, but it happens the same.</p>\n<p>Ex: someone used the command and a equation was generated, and then the boolean is set to true and then the same command can not be used. But this boolean is also preventing to someone else use the command in another server.</p>\n"},{"tags":["java","mysql","javafx"],"comments":[{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":3,"creation_date":1668620637,"post_id":74463043,"comment_id":131451930,"body_markdown":"How is it encoded? (Or how are you putting the image data into the database?) To be passed directly to the `Image` constructor, it needs to be in one of the supported formats, as specified in the [documentation](https://openjfx.io/javadoc/19/javafx.graphics/javafx/scene/image/Image.html).","body":"How is it encoded? (Or how are you putting the image data into the database?) To be passed directly to the <code>Image</code> constructor, it needs to be in one of the supported formats, as specified in the <a href=\"https://openjfx.io/javadoc/19/javafx.graphics/javafx/scene/image/Image.html\" rel=\"nofollow noreferrer\">documentation</a>."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":2,"creation_date":1668627931,"post_id":74463043,"comment_id":131454474,"body_markdown":"Make sure you are using a recent (e.g. 19) version of JavaFX.  [Early JavaFX versions had problems decoding some images](https://stackoverflow.com/questions/9340569/jpeg-image-with-wrong-colors).","body":"Make sure you are using a recent (e.g. 19) version of JavaFX.  <a href=\"https://stackoverflow.com/questions/9340569/jpeg-image-with-wrong-colors\">Early JavaFX versions had problems decoding some images</a>."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1668627988,"post_id":74463043,"comment_id":131454494,"body_markdown":"The Image class has error handling (see the javadoc), try checking it to see if it recorded any errors.","body":"The Image class has error handling (see the javadoc), try checking it to see if it recorded any errors."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":2,"creation_date":1668628070,"post_id":74463043,"comment_id":131454524,"body_markdown":"Take the stream, save it to a file and see if you can open it in an image rendering program (e.g. a browser).","body":"Take the stream, save it to a file and see if you can open it in an image rendering program (e.g. a browser)."},{"owner":{"account_id":5347179,"reputation":10433,"user_id":4262407,"accept_rate":40,"display_name":"mipa"},"score":0,"creation_date":1675757969,"post_id":74463043,"comment_id":132992199,"body_markdown":"I am heavily using this without problems. As others have already suggested, this problem must be related to some encoding problem with your data.","body":"I am heavily using this without problems. As others have already suggested, this problem must be related to some encoding problem with your data."}],"owner":{"account_id":26251058,"reputation":38,"user_id":19923865,"display_name":"SKS"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675756609,"creation_date":1668612094,"question_id":74463043,"body_markdown":"I am trying to get the images (blob) from DB and adding it to a tableview JavaFX\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/u3uhm.png\r\n\r\nBut the quality is drastically reducing, even color is inverted. Any solution for this?\r\n\r\nMy code : \r\n\r\nMain Form \r\n\r\n    for (StudentDTO s : studentDTOS) {\r\n                            ImageView img = ImageController.blobToImage(s.getImage());\r\n                            Button btn = new Button(&quot;Edit&quot;);\r\n                            tmList.add(new ReceptionistStudentTM(\r\n                                    s.getId(),\r\n                                    img,\r\n                                    s.getName(),\r\n                                    s.getEmail(),\r\n                                    s.getNic(),\r\n                                    s.getScholaMark(),\r\n                                    s.isStatus(),\r\n                                    btn\r\n                            ));\r\n                        }\r\n        tblStudents.setItems(tmList);\r\n\r\n\r\nImageController.java\r\n\r\n    public class ImageController {\r\n        public static ImageView blobToImage(Blob blob) throws SQLException {\r\n            return  new ImageView(new Image(blob.getBinaryStream()));\r\n        }\r\n    }\r\n\r\n\r\nThanks for your time\r\n\r\n","title":"Image is blurred/color issue when getting from Database and loading to imageview JavaFX","body":"<p>I am trying to get the images (blob) from DB and adding it to a tableview JavaFX</p>\n<p><a href=\"https://i.stack.imgur.com/u3uhm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/u3uhm.png\" alt=\"enter image description here\" /></a></p>\n<p>But the quality is drastically reducing, even color is inverted. Any solution for this?</p>\n<p>My code :</p>\n<p>Main Form</p>\n<pre><code>for (StudentDTO s : studentDTOS) {\n                        ImageView img = ImageController.blobToImage(s.getImage());\n                        Button btn = new Button(&quot;Edit&quot;);\n                        tmList.add(new ReceptionistStudentTM(\n                                s.getId(),\n                                img,\n                                s.getName(),\n                                s.getEmail(),\n                                s.getNic(),\n                                s.getScholaMark(),\n                                s.isStatus(),\n                                btn\n                        ));\n                    }\n    tblStudents.setItems(tmList);\n</code></pre>\n<p>ImageController.java</p>\n<pre><code>public class ImageController {\n    public static ImageView blobToImage(Blob blob) throws SQLException {\n        return  new ImageView(new Image(blob.getBinaryStream()));\n    }\n}\n</code></pre>\n<p>Thanks for your time</p>\n"},{"tags":["java","spring","authentication","spring-boot","integration-testing"],"comments":[{"owner":{"account_id":1584205,"reputation":9787,"user_id":1468919,"accept_rate":90,"display_name":"Jaiwo99"},"score":2,"creation_date":1497045102,"post_id":44467133,"comment_id":75931063,"body_markdown":"it depends on your application config, basically you can use @MockUser from spring security to fix if you are not make your api `stateless`, otherwise you need adjust your security config not to be `stateless`, then you can use the annotation","body":"it depends on your application config, basically you can use @MockUser from spring security to fix if you are not make your api <code>stateless</code>, otherwise you need adjust your security config not to be <code>stateless</code>, then you can use the annotation"},{"owner":{"account_id":1606494,"reputation":1649,"user_id":1486498,"display_name":"ngreen"},"score":0,"creation_date":1497284919,"post_id":44467133,"comment_id":76002206,"body_markdown":"Can you post a minimal project, say in Github?","body":"Can you post a minimal project, say in Github?"},{"owner":{"account_id":3175948,"reputation":74316,"user_id":2683814,"accept_rate":100,"display_name":"s7vr"},"score":0,"creation_date":1497645143,"post_id":44467133,"comment_id":76183392,"body_markdown":"Just curious. Why do you want to disable security ? It should be part of integration test. Have you thought about mocking or using in-memory set up for your needs ?","body":"Just curious. Why do you want to disable security ? It should be part of integration test. Have you thought about mocking or using in-memory set up for your needs ?"},{"owner":{"account_id":880958,"reputation":5860,"user_id":222676,"accept_rate":76,"display_name":"Richard"},"score":0,"creation_date":1497655080,"post_id":44467133,"comment_id":76186567,"body_markdown":"@Veeram can you explain the in-memory set up?","body":"@Veeram can you explain the in-memory set up?"}],"answers":[{"tags":[],"owner":{"account_id":2697018,"reputation":5916,"user_id":2328781,"accept_rate":75,"display_name":"Danylo Zatorsky"},"down_vote_count":0,"up_vote_count":23,"is_accepted":true,"score":23,"last_activity_date":1497381457,"creation_date":1497381457,"answer_id":44529836,"question_id":44467133,"body_markdown":"You can try excluding few more auto configurations:\r\n\r\n    @EnableAutoConfiguration(exclude = {\r\n    org.springframework.boot.autoconfigure.security.SecurityAutoConfiguration.class,\r\n    org.springframework.boot.autoconfigure.security.SecurityFilterAutoConfiguration.class,\r\n    org.springframework.boot.autoconfigure.security.FallbackWebSecurityAutoConfiguration.class,\r\n    org.springframework.boot.autoconfigure.security.oauth2.OAuth2AutoConfiguration.class\r\n    })\r\n\r\nBtw, more elegant way of excluding stuff is by defining `application-test.properties` in your test sources and marking your test with `@Profile(&quot;test&quot;)`. Then just add this to your config:\r\n\r\n    spring.autoconfigure.exclude=org.springframework.boot.autoconfigure.security.SecurityAutoConfiguration,org.springframework.boot.autoconfigure.security.SecurityFilterAutoConfiguration,org.springframework.boot.autoconfigure.security.FallbackWebSecurityAutoConfiguration,org.springframework.boot.autoconfigure.security.oauth2.OAuth2AutoConfiguration\r\n\r\n**All the possible configurations that can be excluded you can find here**: [spring.factories][1]\r\n\r\n\r\n  [1]: https://github.com/spring-projects/spring-boot/blob/1.4.x/spring-boot-autoconfigure/src/main/resources/META-INF/spring.factories","title":"Spring Boot Authentication for Integration Tests","body":"<p>You can try excluding few more auto configurations:</p>\n\n<pre><code>@EnableAutoConfiguration(exclude = {\norg.springframework.boot.autoconfigure.security.SecurityAutoConfiguration.class,\norg.springframework.boot.autoconfigure.security.SecurityFilterAutoConfiguration.class,\norg.springframework.boot.autoconfigure.security.FallbackWebSecurityAutoConfiguration.class,\norg.springframework.boot.autoconfigure.security.oauth2.OAuth2AutoConfiguration.class\n})\n</code></pre>\n\n<p>Btw, more elegant way of excluding stuff is by defining <code>application-test.properties</code> in your test sources and marking your test with <code>@Profile(\"test\")</code>. Then just add this to your config:</p>\n\n<pre><code>spring.autoconfigure.exclude=org.springframework.boot.autoconfigure.security.SecurityAutoConfiguration,org.springframework.boot.autoconfigure.security.SecurityFilterAutoConfiguration,org.springframework.boot.autoconfigure.security.FallbackWebSecurityAutoConfiguration,org.springframework.boot.autoconfigure.security.oauth2.OAuth2AutoConfiguration\n</code></pre>\n\n<p><strong>All the possible configurations that can be excluded you can find here</strong>: <a href=\"https://github.com/spring-projects/spring-boot/blob/1.4.x/spring-boot-autoconfigure/src/main/resources/META-INF/spring.factories\" rel=\"noreferrer\">spring.factories</a></p>\n"},{"tags":[],"owner":{"account_id":1628459,"reputation":1393,"user_id":1503468,"accept_rate":38,"display_name":"ikryvorotenko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1497615847,"creation_date":1497473179,"answer_id":44554459,"question_id":44467133,"body_markdown":"It looks like authentication does work, but you handle the response in wrong way.\r\n\r\nHere&#39;s the code below, where you&#39;re trying to parse response as `List&lt;Foo&gt;`\r\n\r\n    ResponseEntity response = template.exchange(&quot;/get&quot;,\r\n        HttpMethod.GET,\r\n        request,\r\n        new ParameterizedTypeReference&lt;List&lt;Foo&gt;&gt;() {}\r\n    );\r\n\r\nBut since you haven&#39;t provided authentication header, the server responses with some custom error (obviously wrapped into Json Object) and you get this exception in the test saying it can&#39;t parse `ArrayList` from Json Object (which starts with `START_OBJECT` token, like `{`).\r\n\r\n    Could not read JSON document: Can not deserialize instance of java.util.ArrayList out of START_OBJECT token\r\n\r\nTry to handle the response as Object so you can see what&#39;s actually comes there.\r\n\r\n    template.exchange(&quot;/get&quot;, HttpMethod.GET, request, Object.class);\r\n\r\nBut this won&#39;t work as a final solution. I believe **you should handle the response body based on Http response code**, if that&#39;s 200 - parse as `List&lt;&gt;`, otherwise parse as `Map&lt;&gt;` or whatever structure the server returns.","title":"Spring Boot Authentication for Integration Tests","body":"<p>It looks like authentication does work, but you handle the response in wrong way.</p>\n\n<p>Here's the code below, where you're trying to parse response as <code>List&lt;Foo&gt;</code></p>\n\n<pre><code>ResponseEntity response = template.exchange(\"/get\",\n    HttpMethod.GET,\n    request,\n    new ParameterizedTypeReference&lt;List&lt;Foo&gt;&gt;() {}\n);\n</code></pre>\n\n<p>But since you haven't provided authentication header, the server responses with some custom error (obviously wrapped into Json Object) and you get this exception in the test saying it can't parse <code>ArrayList</code> from Json Object (which starts with <code>START_OBJECT</code> token, like <code>{</code>).</p>\n\n<pre><code>Could not read JSON document: Can not deserialize instance of java.util.ArrayList out of START_OBJECT token\n</code></pre>\n\n<p>Try to handle the response as Object so you can see what's actually comes there.</p>\n\n<pre><code>template.exchange(\"/get\", HttpMethod.GET, request, Object.class);\n</code></pre>\n\n<p>But this won't work as a final solution. I believe <strong>you should handle the response body based on Http response code</strong>, if that's 200 - parse as <code>List&lt;&gt;</code>, otherwise parse as <code>Map&lt;&gt;</code> or whatever structure the server returns.</p>\n"},{"tags":[],"owner":{"account_id":148887,"reputation":4330,"user_id":1700467,"display_name":"skadya"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1497796536,"creation_date":1497796536,"answer_id":44616071,"question_id":44467133,"body_markdown":"It looks like default security configuration are getting kicked-in. Unless I see your your complete configuration it is hard to confirm this. If possible, could you post the your minimal project (on github?).\r\n\r\nSince you do not want to enforce the authentication during executions of integration tests, you may enable the anonymous access of your application resources.\r\n\r\nTo enable anonymous access, you may add below class under your **test source** directory. It will configure the anonymous access during bootstrapping the web application. (should not see 401 response code)\r\n\r\n    @Configuration\r\n    public class AllowAnonymousWebAccess extends WebSecurityConfigurerAdapter {\r\n        @Override\r\n        public void configure(HttpSecurity web) throws Exception {\r\n            web.antMatcher(&quot;**/*&quot;).anonymous();\r\n        }\r\n    }\r\n","title":"Spring Boot Authentication for Integration Tests","body":"<p>It looks like default security configuration are getting kicked-in. Unless I see your your complete configuration it is hard to confirm this. If possible, could you post the your minimal project (on github?).</p>\n\n<p>Since you do not want to enforce the authentication during executions of integration tests, you may enable the anonymous access of your application resources.</p>\n\n<p>To enable anonymous access, you may add below class under your <strong>test source</strong> directory. It will configure the anonymous access during bootstrapping the web application. (should not see 401 response code)</p>\n\n<pre><code>@Configuration\npublic class AllowAnonymousWebAccess extends WebSecurityConfigurerAdapter {\n    @Override\n    public void configure(HttpSecurity web) throws Exception {\n        web.antMatcher(\"**/*\").anonymous();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3175948,"reputation":74316,"user_id":2683814,"accept_rate":100,"display_name":"s7vr"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1497873744,"creation_date":1497835287,"answer_id":44621066,"question_id":44467133,"body_markdown":"You have couple of options to provide authentication in the spring boot integration test. You may need to adjust a few things to make it all work at your end.\r\n\r\n**Mock based approach** \r\n\r\nThis uses test `WebApplicationContext` injected into [MockMvc](http://docs.spring.io/spring-security/site/docs/current/reference/htmlsingle/#test-mockmvc) with [@WithMockUser](http://docs.spring.io/spring-security/site/docs/current/reference/htmlsingle/#test-method-withmockuser) annotation to provide authentication user and `WithMockUserSecurityContextFactory` creating the security context for the mock user.\r\n\r\n`SecurityMockMvcConfigurers` registers the security filter `springSecurityFilterChain` with `MockMvc`.\r\n\r\n\r\n    import org.junit.Before;\r\n    import org.junit.Test;\r\n    import org.junit.runner.RunWith;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.boot.test.context.SpringBootTest;\r\n    import org.springframework.http.MediaType;\r\n    import org.springframework.security.test.context.support.WithMockUser;\r\n    import org.springframework.test.context.junit4.SpringJUnit4ClassRunner;\r\n    import org.springframework.test.web.servlet.MockMvc;\r\n    import org.springframework.test.web.servlet.setup.MockMvcBuilders;\r\n    import org.springframework.web.context.WebApplicationContext;\r\n    \r\n    import static org.hamcrest.Matchers.is;\r\n    import static org.hamcrest.Matchers.notNullValue;\r\n    import static org.springframework.security.test.web.servlet.setup.SecurityMockMvcConfigurers.springSecurity;\r\n    import static org.springframework.test.web.servlet.request.MockMvcRequestBuilders.post;\r\n    import static org.springframework.test.web.servlet.result.MockMvcResultMatchers.*;\r\n    \r\n    @RunWith(SpringRunner.class)\r\n    @SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.MOCK)\r\n    public class HelloControllerIT  {\r\n    \r\n    \t@Autowired\r\n    \tprivate WebApplicationContext context;\r\n    \r\n    \tprivate  MockMvc mvc;\r\n    \r\n    \t@Before\r\n    \tpublic void setup() {\r\n    \t\tmvc = MockMvcBuilders\r\n    \t\t\t\t.webAppContextSetup(context)\r\n    \t\t\t\t.apply(springSecurity()) // enable security for the mock set up\r\n    \t\t\t\t.build();\r\n    \t}\r\n    \r\n    \t@WithMockUser(value = &quot;test&quot;, password = &quot;pass&quot;)\r\n    \t@Test\r\n    \tpublic void test() throws Exception {\r\n    \t\tString contentType = MediaType.APPLICATION_JSON + &quot;;charset=UTF-8&quot;;\r\n    \r\n    \t\tString authzToken = mvc\r\n    \t\t\t\t.perform(\r\n    \t\t\t\t\t\tpost(&quot;/authenticate&quot;)\r\n    \t\t\t\t\t\t\t\t.contentType(\r\n    \t\t\t\t\t\t\t\t\t\tMediaType.APPLICATION_JSON).\r\n    \t\t\t\t\t\t\tcontent(&quot;&quot;)).\r\n    \t\t\t\t andExpect(status().isOk())\r\n    \t\t\t\t.andExpect(content().contentType(contentType))\r\n    \t\t\t\t.andExpect(jsonPath(&quot;$.token&quot;, is(notNullValue())))\r\n    \t\t\t\t.andReturn().getResponse().getContentAsString();\r\n    \r\n    \t\tSystem.out.print(authzToken);//{&quot;token&quot;:&quot;1a3434a&quot;}\r\n    \r\n    \t}\r\n    \r\n    }\r\n\r\n\r\n**In-memory auth provider based approach**\r\n\r\nThis uses in-memory auth provider with basic authentication user.\r\n\r\nRegister in-memory auth provider and enable basic auth, disable anonymous access  in `HttpSecurity` in the `WebSecurityConfigurerAdapter`.\r\n\r\nWhen in-memory provider is registered, `DefaultInMemoryUserDetailsManagerConfigurer` creates the basic auth user in the memory.\r\n\r\nWhen basic authentication is enabled, `HttpBasicConfigurer` configures `BasicAuthenticationFilter`. Authenticates the test user and creates the security context.\r\n\r\n\r\nSecurity Configuration\r\n    \r\n    @EnableWebSecurity\r\n    @EnableWebMvc\r\n    @EnableGlobalMethodSecurity(prePostEnabled = true)\r\n    public class WebSecurityConfig extends WebSecurityConfigurerAdapter {\r\n    \r\n        @Override\r\n        public void configure(AuthenticationManagerBuilder auth) throws Exception {\r\n    \t\t\t\t    // register test user with in memory authentication provider \r\n            auth.inMemoryAuthentication().withUser(&quot;test&quot;).password(&quot;pass&quot;).roles(&quot;ROLES&quot;);\r\n        }\r\n    \t\t\t\t\r\n    \t\t\t\t@Override\r\n        public void configure(HttpSecurity http) throws Exception {\r\n    \t\t\t\t    // enable basic authentication &amp; disable anoymous access\r\n            http.authorizeRequests().anyRequest().authenticated().and().httpBasic().and().anonymous().disable();    \r\n        }\r\n    \t\t\t\t\r\n    }\r\n    \r\nAuthentication Endpoint\r\n    \r\n    @Controller\r\n    @RequestMapping(&quot;/authenticate&quot;)\r\n    public class AuthenticationController {\r\n    \r\n        @RequestMapping(method = RequestMethod.POST)\r\n        @ResponseBody\r\n        public TokenClass getToken() {\r\n            TokenClass tokenClass = new TokenClass();\r\n            tokenClass.setToken(&quot;1a3434a&quot;);\r\n            return tokenClass;\r\n        }\r\n    \r\n    }\r\n\r\nPojo\r\n\r\n    public class TokenClass {\r\n    \r\n        private String token;\r\n    \r\n        public String getToken() {\r\n            return token;\r\n        }\r\n    \r\n        public void setToken(String token) {\r\n            this.token = token;\r\n        }\r\n    }\r\n\r\nTest Controller\r\n\r\n    import com.fasterxml.jackson.databind.JsonNode;\r\n    import org.junit.Test;\r\n    import org.junit.runner.RunWith;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.boot.test.context.SpringBootTest;\r\n    import org.springframework.boot.test.web.client.TestRestTemplate;\r\n    import org.springframework.http.*;\r\n    import org.springframework.test.context.junit4.SpringRunner;\r\n    \r\n    import java.util.Arrays;\r\n    import java.util.Base64;\r\n    \r\n    @RunWith(SpringRunner.class)\r\n    @SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\r\n    public class HelloControllerIT  {\r\n    \r\n    \t@Autowired\r\n    \tprivate TestRestTemplate template;\r\n    \r\n    \t@Test\r\n    \tpublic void test() throws Exception {\r\n    \t\tHttpHeaders authHeaders = new HttpHeaders();\r\n    \t\tString token = new String(Base64.getEncoder().encode(\r\n    \t\t\t\t(&quot;test&quot; + &quot;:&quot; + &quot;pass&quot;).getBytes()));\r\n    \t\tauthHeaders.set(&quot;Authorization&quot;, &quot;Basic &quot; + token);\r\n    \t\tJsonNode loginResponse = template.postForObject(&quot;/authenticate&quot;, new HttpEntity&lt;&gt;(null, authHeaders), JsonNode.class);\r\n    \r\n    \t\tHttpHeaders authzHeaders = new HttpHeaders();\r\n    \t\tauthzHeaders.setAccept(Arrays.asList(MediaType.APPLICATION_JSON));\r\n    \t\tauthzHeaders.add(&quot;X-Authorization&quot;, &quot;Bearer &quot; + loginResponse.get(&quot;token&quot;).textValue());\r\n    \t\tauthzHeaders.add(&quot;Content-Type&quot;, &quot;application/json&quot;);\r\n    \r\n    \t\tResponseEntity response = template.exchange(&quot;/secure&quot;,\r\n    \t\t\t\tHttpMethod.GET,\r\n    \t\t\t\tnew HttpEntity&lt;&gt;(null, authzHeaders),\r\n    \t\t\t\tString.class\r\n    \t\t);\r\n    \t}\r\n    }\r\n\r\n","title":"Spring Boot Authentication for Integration Tests","body":"<p>You have couple of options to provide authentication in the spring boot integration test. You may need to adjust a few things to make it all work at your end.</p>\n\n<p><strong>Mock based approach</strong> </p>\n\n<p>This uses test <code>WebApplicationContext</code> injected into <a href=\"http://docs.spring.io/spring-security/site/docs/current/reference/htmlsingle/#test-mockmvc\" rel=\"noreferrer\">MockMvc</a> with <a href=\"http://docs.spring.io/spring-security/site/docs/current/reference/htmlsingle/#test-method-withmockuser\" rel=\"noreferrer\">@WithMockUser</a> annotation to provide authentication user and <code>WithMockUserSecurityContextFactory</code> creating the security context for the mock user.</p>\n\n<p><code>SecurityMockMvcConfigurers</code> registers the security filter <code>springSecurityFilterChain</code> with <code>MockMvc</code>.</p>\n\n<pre><code>import org.junit.Before;\nimport org.junit.Test;\nimport org.junit.runner.RunWith;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.test.context.SpringBootTest;\nimport org.springframework.http.MediaType;\nimport org.springframework.security.test.context.support.WithMockUser;\nimport org.springframework.test.context.junit4.SpringJUnit4ClassRunner;\nimport org.springframework.test.web.servlet.MockMvc;\nimport org.springframework.test.web.servlet.setup.MockMvcBuilders;\nimport org.springframework.web.context.WebApplicationContext;\n\nimport static org.hamcrest.Matchers.is;\nimport static org.hamcrest.Matchers.notNullValue;\nimport static org.springframework.security.test.web.servlet.setup.SecurityMockMvcConfigurers.springSecurity;\nimport static org.springframework.test.web.servlet.request.MockMvcRequestBuilders.post;\nimport static org.springframework.test.web.servlet.result.MockMvcResultMatchers.*;\n\n@RunWith(SpringRunner.class)\n@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.MOCK)\npublic class HelloControllerIT  {\n\n    @Autowired\n    private WebApplicationContext context;\n\n    private  MockMvc mvc;\n\n    @Before\n    public void setup() {\n        mvc = MockMvcBuilders\n                .webAppContextSetup(context)\n                .apply(springSecurity()) // enable security for the mock set up\n                .build();\n    }\n\n    @WithMockUser(value = \"test\", password = \"pass\")\n    @Test\n    public void test() throws Exception {\n        String contentType = MediaType.APPLICATION_JSON + \";charset=UTF-8\";\n\n        String authzToken = mvc\n                .perform(\n                        post(\"/authenticate\")\n                                .contentType(\n                                        MediaType.APPLICATION_JSON).\n                            content(\"\")).\n                 andExpect(status().isOk())\n                .andExpect(content().contentType(contentType))\n                .andExpect(jsonPath(\"$.token\", is(notNullValue())))\n                .andReturn().getResponse().getContentAsString();\n\n        System.out.print(authzToken);//{\"token\":\"1a3434a\"}\n\n    }\n\n}\n</code></pre>\n\n<p><strong>In-memory auth provider based approach</strong></p>\n\n<p>This uses in-memory auth provider with basic authentication user.</p>\n\n<p>Register in-memory auth provider and enable basic auth, disable anonymous access  in <code>HttpSecurity</code> in the <code>WebSecurityConfigurerAdapter</code>.</p>\n\n<p>When in-memory provider is registered, <code>DefaultInMemoryUserDetailsManagerConfigurer</code> creates the basic auth user in the memory.</p>\n\n<p>When basic authentication is enabled, <code>HttpBasicConfigurer</code> configures <code>BasicAuthenticationFilter</code>. Authenticates the test user and creates the security context.</p>\n\n<p>Security Configuration</p>\n\n<pre><code>@EnableWebSecurity\n@EnableWebMvc\n@EnableGlobalMethodSecurity(prePostEnabled = true)\npublic class WebSecurityConfig extends WebSecurityConfigurerAdapter {\n\n    @Override\n    public void configure(AuthenticationManagerBuilder auth) throws Exception {\n                    // register test user with in memory authentication provider \n        auth.inMemoryAuthentication().withUser(\"test\").password(\"pass\").roles(\"ROLES\");\n    }\n\n                @Override\n    public void configure(HttpSecurity http) throws Exception {\n                    // enable basic authentication &amp; disable anoymous access\n        http.authorizeRequests().anyRequest().authenticated().and().httpBasic().and().anonymous().disable();    \n    }\n\n}\n</code></pre>\n\n<p>Authentication Endpoint</p>\n\n<pre><code>@Controller\n@RequestMapping(\"/authenticate\")\npublic class AuthenticationController {\n\n    @RequestMapping(method = RequestMethod.POST)\n    @ResponseBody\n    public TokenClass getToken() {\n        TokenClass tokenClass = new TokenClass();\n        tokenClass.setToken(\"1a3434a\");\n        return tokenClass;\n    }\n\n}\n</code></pre>\n\n<p>Pojo</p>\n\n<pre><code>public class TokenClass {\n\n    private String token;\n\n    public String getToken() {\n        return token;\n    }\n\n    public void setToken(String token) {\n        this.token = token;\n    }\n}\n</code></pre>\n\n<p>Test Controller</p>\n\n<pre><code>import com.fasterxml.jackson.databind.JsonNode;\nimport org.junit.Test;\nimport org.junit.runner.RunWith;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.test.context.SpringBootTest;\nimport org.springframework.boot.test.web.client.TestRestTemplate;\nimport org.springframework.http.*;\nimport org.springframework.test.context.junit4.SpringRunner;\n\nimport java.util.Arrays;\nimport java.util.Base64;\n\n@RunWith(SpringRunner.class)\n@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\npublic class HelloControllerIT  {\n\n    @Autowired\n    private TestRestTemplate template;\n\n    @Test\n    public void test() throws Exception {\n        HttpHeaders authHeaders = new HttpHeaders();\n        String token = new String(Base64.getEncoder().encode(\n                (\"test\" + \":\" + \"pass\").getBytes()));\n        authHeaders.set(\"Authorization\", \"Basic \" + token);\n        JsonNode loginResponse = template.postForObject(\"/authenticate\", new HttpEntity&lt;&gt;(null, authHeaders), JsonNode.class);\n\n        HttpHeaders authzHeaders = new HttpHeaders();\n        authzHeaders.setAccept(Arrays.asList(MediaType.APPLICATION_JSON));\n        authzHeaders.add(\"X-Authorization\", \"Bearer \" + loginResponse.get(\"token\").textValue());\n        authzHeaders.add(\"Content-Type\", \"application/json\");\n\n        ResponseEntity response = template.exchange(\"/secure\",\n                HttpMethod.GET,\n                new HttpEntity&lt;&gt;(null, authzHeaders),\n                String.class\n        );\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":880958,"reputation":5860,"user_id":222676,"accept_rate":76,"display_name":"Richard"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1498095362,"creation_date":1498095362,"answer_id":44688714,"question_id":44467133,"body_markdown":"I figured out how to do this without in-memory authentication and/or mocking.\r\n\r\n    public class TestConf extends WebSecurityConfigurerAdapter {\r\n        @Override\r\n        public void configure(HttpSecurity http) throws Exception {\r\n            http.csrf()\r\n                    .disable()\r\n                    .authorizeRequests()\r\n                    .anyRequest()\r\n                    .permitAll();\r\n        }\r\n    }\r\n\r\nAnd use spring active profiles to run the above config only when running test cases.","title":"Spring Boot Authentication for Integration Tests","body":"<p>I figured out how to do this without in-memory authentication and/or mocking.</p>\n\n<pre><code>public class TestConf extends WebSecurityConfigurerAdapter {\n    @Override\n    public void configure(HttpSecurity http) throws Exception {\n        http.csrf()\n                .disable()\n                .authorizeRequests()\n                .anyRequest()\n                .permitAll();\n    }\n}\n</code></pre>\n\n<p>And use spring active profiles to run the above config only when running test cases.</p>\n"},{"tags":[],"owner":{"account_id":3410182,"reputation":12151,"user_id":2860319,"accept_rate":75,"display_name":"The Gilbert Arenas Dagger"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1532628396,"creation_date":1532628396,"answer_id":51545062,"question_id":44467133,"body_markdown":"Why Security Configuration is Enforced\r\n-----------------------\r\n\r\nAccording to the Spring Boot [documentation][1], when you annotate your class with `@SpringBootTest`, and you do not have specify a configuration alternative, then Spring with search for a `@SpringBootApplication` class to serve as your primary configuration.  Spring starts the search in the package of your test class, then searches up the package hiearchy.  Presumably, it is finding your primary configuration, and everything this brings with it including your unwanted security configuration. \r\n\r\nSolution\r\n--------\r\n\r\nThe simplest solution, verified in Spring Boot 2.0.3, is to change `@EnableAutoConfiguration(exclude = SecurityAutoConfiguration.class)` to `@SpringBootApplication(exclude = SecurityAutoConfiguration.class)`.  When you make this change Spring will register your test class as the primary configuration class and will therefore acknowledge your exclusion.  Alternatively, create a separate configuration class to share across all your integration tests that resides in a base package and will be found by all your integration tests.\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-testing.html#boot-features-testing-spring-boot-applications-detecting-config","title":"Spring Boot Authentication for Integration Tests","body":"<h2>Why Security Configuration is Enforced</h2>\n\n<p>According to the Spring Boot <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-testing.html#boot-features-testing-spring-boot-applications-detecting-config\" rel=\"nofollow noreferrer\">documentation</a>, when you annotate your class with <code>@SpringBootTest</code>, and you do not have specify a configuration alternative, then Spring with search for a <code>@SpringBootApplication</code> class to serve as your primary configuration.  Spring starts the search in the package of your test class, then searches up the package hiearchy.  Presumably, it is finding your primary configuration, and everything this brings with it including your unwanted security configuration. </p>\n\n<h2>Solution</h2>\n\n<p>The simplest solution, verified in Spring Boot 2.0.3, is to change <code>@EnableAutoConfiguration(exclude = SecurityAutoConfiguration.class)</code> to <code>@SpringBootApplication(exclude = SecurityAutoConfiguration.class)</code>.  When you make this change Spring will register your test class as the primary configuration class and will therefore acknowledge your exclusion.  Alternatively, create a separate configuration class to share across all your integration tests that resides in a base package and will be found by all your integration tests.</p>\n"},{"tags":[],"owner":{"account_id":14098985,"reputation":51,"user_id":10184827,"display_name":"Bablu"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1533570419,"creation_date":1533570419,"answer_id":51711368,"question_id":44467133,"body_markdown":"Was facing this issue for a long time. Finally got it resolved. You need to mock the Authorization server creating a test profile and will also need to Mock Spring Security user details service. Here is the code that I found in a [blog][1].\r\n\r\nTest Authorization server\r\n\r\n \r\n\r\n    @Configuration\r\n    @EnableAuthorizationServer\r\n    @ActiveProfiles(&quot;test&quot;)\r\n    public class AuthorizationTestServer extends AuthorizationServerConfigurerAdapter {\r\n    \r\n        private AuthenticationManager authenticationManager;\r\n    \r\n    \r\n        @Autowired\r\n        public AuthorizationTestServer(AuthenticationManager authenticationManager) {\r\n            this.authenticationManager = authenticationManager;\r\n        }\r\n    \r\n        @Override\r\n        public void configure(AuthorizationServerSecurityConfigurer oauthServer) throws Exception {\r\n            oauthServer.checkTokenAccess(&quot;permitAll()&quot;);\r\n            oauthServer.allowFormAuthenticationForClients();\r\n        }\r\n    \r\n        @Override\r\n        public void configure(ClientDetailsServiceConfigurer clients) throws Exception {\r\n            super.configure(clients);\r\n            clients.inMemory()\r\n                    .withClient(&quot;user&quot;)\r\n                    .secret(&quot;password&quot;)\r\n                    .authorizedGrantTypes(&quot;password&quot;)\r\n                    .scopes(&quot;openid&quot;);\r\n        }\r\n    \r\n        @Override\r\n        public void configure(AuthorizationServerEndpointsConfigurer endpoints) throws Exception {\r\n            super.configure(endpoints);\r\n            endpoints.authenticationManager(this.authenticationManager);\r\n        }\r\n    }\r\n\r\n\r\nTest User Details Service\r\n\r\n \r\n\r\n    @Service\r\n    @ActiveProfiles(&quot;test&quot;)\r\n    public class UserDetailTestService implements UserDetailsService {\r\n    \r\n        @Override\r\n        public UserDetails loadUserByUsername(String email) throws UsernameNotFoundException {\r\n    \r\n                return new User(&quot;dummyUser&quot;,&quot;dummyPassword&quot;,true,true,\r\n                        true,true, AuthorityUtils.createAuthorityList(&quot;USER&quot;));\r\n        }\r\n    }\r\n\r\nMain Test class\r\n\r\n   \r\n\r\n\r\n    @RunWith(SpringRunner.class)\r\n    @SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\r\n    @ActiveProfiles(&quot;test&quot;)\r\n    @AutoConfigureMockMvc\r\n    public class JmStudentServiceApplicationTests {\r\n    \r\n       @Autowired\r\n       private WebApplicationContext wac;\r\n    \r\n       @Autowired\r\n       private MockMvc mockMvc;\r\n    \r\n    \r\n       @Autowired\r\n       private TestRestTemplate restTemplate;\r\n    \r\n       @Autowired\r\n       private StudentRepository studentRepository;\r\n    \r\n       @Test\r\n       public void test() throws Exception{\r\n    \r\n          String accessToken = obtainAccessToken(&quot;dummyUser&quot;, &quot;dummyPassword&quot;);\r\n          Student student = new Student();\r\n          student.setId(&quot;2222&quot;);\r\n          student.setName(&quot;test student&quot;);\r\n    \r\n          studentRepository.createStudent(student);\r\n          assertTrue(studentRepository.getStudentById(&quot;2222&quot;).getName().equals(&quot;test student&quot;));\r\n    \r\n          MvcResult result = mockMvc.perform(get(&quot;/students/by-id/2222&quot;)\r\n                .header(&quot;Authorization&quot;, &quot;Bearer &quot; + accessToken)\r\n                .accept(MediaType.APPLICATION_JSON))\r\n                .andExpect(status().isOk())\r\n                .andReturn();\r\n    \r\n    \r\n          String str = result.getResponse().getContentAsString();\r\n          assertTrue(str.contains(&quot;\\&quot;id\\&quot;:\\&quot;2222\\&quot;&quot;));\r\n       }\r\n    \r\n       private String obtainAccessToken(String username, String password) throws Exception {\r\n    \r\n          MultiValueMap&lt;String, String&gt; params = new LinkedMultiValueMap&lt;&gt;();\r\n          params.add(&quot;grant_type&quot;, &quot;password&quot;);\r\n          params.add(&quot;username&quot;, username);\r\n          params.add(&quot;password&quot;, password);\r\n          params.add(&quot;scope&quot;, &quot;openid&quot;);\r\n    \r\n          String base64ClientCredentials = new String(Base64.encodeBase64(&quot;user:password&quot;.getBytes()));\r\n    \r\n    \r\n          ResultActions result\r\n                = mockMvc.perform(post(&quot;/oauth/token&quot;)\r\n                .params(params)\r\n                .header(&quot;Authorization&quot;,&quot;Basic &quot; + base64ClientCredentials)\r\n                .accept(&quot;application/json;charset=UTF-8&quot;))\r\n                .andExpect(status().isOk());\r\n    \r\n          String resultString = result.andReturn().getResponse().getContentAsString();\r\n    \r\n          JacksonJsonParser jsonParser = new JacksonJsonParser();\r\n          return jsonParser.parseMap(resultString).get(&quot;access_token&quot;).toString();\r\n       }\r\n    \r\n    }\r\n\r\n\r\n  [1]: http://www.kaushikbaruah.com/posts/mock-authorization-server-spring-boot-integration-test/","title":"Spring Boot Authentication for Integration Tests","body":"<p>Was facing this issue for a long time. Finally got it resolved. You need to mock the Authorization server creating a test profile and will also need to Mock Spring Security user details service. Here is the code that I found in a <a href=\"http://www.kaushikbaruah.com/posts/mock-authorization-server-spring-boot-integration-test/\" rel=\"nofollow noreferrer\">blog</a>.</p>\n\n<p>Test Authorization server</p>\n\n<pre><code>@Configuration\n@EnableAuthorizationServer\n@ActiveProfiles(\"test\")\npublic class AuthorizationTestServer extends AuthorizationServerConfigurerAdapter {\n\n    private AuthenticationManager authenticationManager;\n\n\n    @Autowired\n    public AuthorizationTestServer(AuthenticationManager authenticationManager) {\n        this.authenticationManager = authenticationManager;\n    }\n\n    @Override\n    public void configure(AuthorizationServerSecurityConfigurer oauthServer) throws Exception {\n        oauthServer.checkTokenAccess(\"permitAll()\");\n        oauthServer.allowFormAuthenticationForClients();\n    }\n\n    @Override\n    public void configure(ClientDetailsServiceConfigurer clients) throws Exception {\n        super.configure(clients);\n        clients.inMemory()\n                .withClient(\"user\")\n                .secret(\"password\")\n                .authorizedGrantTypes(\"password\")\n                .scopes(\"openid\");\n    }\n\n    @Override\n    public void configure(AuthorizationServerEndpointsConfigurer endpoints) throws Exception {\n        super.configure(endpoints);\n        endpoints.authenticationManager(this.authenticationManager);\n    }\n}\n</code></pre>\n\n<p>Test User Details Service</p>\n\n<pre><code>@Service\n@ActiveProfiles(\"test\")\npublic class UserDetailTestService implements UserDetailsService {\n\n    @Override\n    public UserDetails loadUserByUsername(String email) throws UsernameNotFoundException {\n\n            return new User(\"dummyUser\",\"dummyPassword\",true,true,\n                    true,true, AuthorityUtils.createAuthorityList(\"USER\"));\n    }\n}\n</code></pre>\n\n<p>Main Test class</p>\n\n<pre><code>@RunWith(SpringRunner.class)\n@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\n@ActiveProfiles(\"test\")\n@AutoConfigureMockMvc\npublic class JmStudentServiceApplicationTests {\n\n   @Autowired\n   private WebApplicationContext wac;\n\n   @Autowired\n   private MockMvc mockMvc;\n\n\n   @Autowired\n   private TestRestTemplate restTemplate;\n\n   @Autowired\n   private StudentRepository studentRepository;\n\n   @Test\n   public void test() throws Exception{\n\n      String accessToken = obtainAccessToken(\"dummyUser\", \"dummyPassword\");\n      Student student = new Student();\n      student.setId(\"2222\");\n      student.setName(\"test student\");\n\n      studentRepository.createStudent(student);\n      assertTrue(studentRepository.getStudentById(\"2222\").getName().equals(\"test student\"));\n\n      MvcResult result = mockMvc.perform(get(\"/students/by-id/2222\")\n            .header(\"Authorization\", \"Bearer \" + accessToken)\n            .accept(MediaType.APPLICATION_JSON))\n            .andExpect(status().isOk())\n            .andReturn();\n\n\n      String str = result.getResponse().getContentAsString();\n      assertTrue(str.contains(\"\\\"id\\\":\\\"2222\\\"\"));\n   }\n\n   private String obtainAccessToken(String username, String password) throws Exception {\n\n      MultiValueMap&lt;String, String&gt; params = new LinkedMultiValueMap&lt;&gt;();\n      params.add(\"grant_type\", \"password\");\n      params.add(\"username\", username);\n      params.add(\"password\", password);\n      params.add(\"scope\", \"openid\");\n\n      String base64ClientCredentials = new String(Base64.encodeBase64(\"user:password\".getBytes()));\n\n\n      ResultActions result\n            = mockMvc.perform(post(\"/oauth/token\")\n            .params(params)\n            .header(\"Authorization\",\"Basic \" + base64ClientCredentials)\n            .accept(\"application/json;charset=UTF-8\"))\n            .andExpect(status().isOk());\n\n      String resultString = result.andReturn().getResponse().getContentAsString();\n\n      JacksonJsonParser jsonParser = new JacksonJsonParser();\n      return jsonParser.parseMap(resultString).get(\"access_token\").toString();\n   }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16986416,"reputation":153,"user_id":12287095,"display_name":"Ari"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1595822784,"creation_date":1595822784,"answer_id":63108553,"question_id":44467133,"body_markdown":"For bypassing basic authentication while testing With @SpringBootTest and TestRestTemplate, we can chain .withBasicAuth(&quot;admin&quot;, &quot;password&quot;) to template, see below \r\n\r\n```\r\n@Test\r\n    public void givenAuthRequestOnPrivateService_shouldSucceedWith200() throws Exception {\r\n        ResponseEntity&lt;String&gt; result = template.withBasicAuth(&quot;spring&quot;, &quot;secret&quot;)\r\n          .getForEntity(&quot;/private/hello&quot;, String.class);\r\n        assertEquals(HttpStatus.OK, result.getStatusCode());\r\n    }\r\n```\r\n\r\nfor more info see https://www.baeldung.com/spring-security-integration-tests\r\n","title":"Spring Boot Authentication for Integration Tests","body":"<p>For bypassing basic authentication while testing With @SpringBootTest and TestRestTemplate, we can chain .withBasicAuth(&quot;admin&quot;, &quot;password&quot;) to template, see below</p>\n<pre><code>@Test\n    public void givenAuthRequestOnPrivateService_shouldSucceedWith200() throws Exception {\n        ResponseEntity&lt;String&gt; result = template.withBasicAuth(&quot;spring&quot;, &quot;secret&quot;)\n          .getForEntity(&quot;/private/hello&quot;, String.class);\n        assertEquals(HttpStatus.OK, result.getStatusCode());\n    }\n</code></pre>\n<p>for more info see <a href=\"https://www.baeldung.com/spring-security-integration-tests\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-security-integration-tests</a></p>\n"},{"tags":[],"owner":{"account_id":8964263,"reputation":415,"user_id":6685619,"display_name":"burak isik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663752556,"creation_date":1663752216,"answer_id":73798365,"question_id":44467133,"body_markdown":"When `@WebMvcTest` is used for testing, initializing excludeAutoConfiguration parameter disables Spring Security.\r\n\r\n      \r\n    \r\n    @WebMvcTest(controllers = MyController.class, \r\n                excludeAutoConfiguration = SecurityAutoConfiguration.class)\r\n\r\n\r\nOr\r\n\r\n\r\nWhen `@SpringBootTest` is used with `@AutoConfigureMockMvc`, setting `addFilters` parameter to `false` also disables Spring Security.\r\n\r\n    @SpringBootTest(classes = MyController.class)\r\n    @AutoConfigureMockMvc(addFilters = false)\r\n\r\n","title":"Spring Boot Authentication for Integration Tests","body":"<p>When <code>@WebMvcTest</code> is used for testing, initializing excludeAutoConfiguration parameter disables Spring Security.</p>\n<pre><code>@WebMvcTest(controllers = MyController.class, \n            excludeAutoConfiguration = SecurityAutoConfiguration.class)\n</code></pre>\n<p>Or</p>\n<p>When <code>@SpringBootTest</code> is used with <code>@AutoConfigureMockMvc</code>, setting <code>addFilters</code> parameter to <code>false</code> also disables Spring Security.</p>\n<pre><code>@SpringBootTest(classes = MyController.class)\n@AutoConfigureMockMvc(addFilters = false)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7853419,"reputation":120,"user_id":5936155,"display_name":"Jp Silver"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675756536,"creation_date":1675756536,"answer_id":75370358,"question_id":44467133,"body_markdown":"Simple method : \r\n\r\n    SecurityContextHolder.getContext().setAuthentication(new UsernamePasswordAuthenticationToken(&quot;username&quot;, &quot;password&quot;));\r\n\r\nThen you can still use the principal as you would if you where logged in.","title":"Spring Boot Authentication for Integration Tests","body":"<p>Simple method :</p>\n<pre><code>SecurityContextHolder.getContext().setAuthentication(new UsernamePasswordAuthenticationToken(&quot;username&quot;, &quot;password&quot;));\n</code></pre>\n<p>Then you can still use the principal as you would if you where logged in.</p>\n"}],"owner":{"account_id":880958,"reputation":5860,"user_id":222676,"accept_rate":76,"display_name":"Richard"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58694,"favorite_count":0,"down_vote_count":0,"up_vote_count":33,"accepted_answer_id":44529836,"answer_count":10,"score":33,"last_activity_date":1675756536,"creation_date":1497044818,"question_id":44467133,"body_markdown":"I&#39;m trying to run an integration test for my controller but I am running into issues if I don&#39;t authenticate. Here&#39;s my controller:\r\n\r\n    @RunWith(SpringRunner.class)\r\n    @SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\r\n    @TestPropertySource(properties = {&quot;security.basic.enabled=false&quot;, &quot;management.security.enabled=false&quot;})\r\n    @EnableAutoConfiguration(exclude = {org.springframework.boot.autoconfigure.security.SecurityAutoConfiguration.class})\r\n    public class HelloControllerIT {\r\n        private final ObjectMapper mapper = new ObjectMapper();\r\n        @Autowired private TestRestTemplate template;\r\n    \r\n        @Test\r\n        public void test1() throws Exception {\r\n        \tObjectNode loginRequest = mapper.createObjectNode();\r\n            loginRequest.put(&quot;username&quot;,&quot;name&quot;);\r\n            loginRequest.put(&quot;password&quot;,&quot;password&quot;);\r\n            JsonNode loginResponse = template.postForObject(&quot;/authenticate&quot;, loginRequest.toString(), JsonNode.class);\r\n    \r\n            HttpHeaders headers = new HttpHeaders();\r\n            headers.setAccept(Arrays.asList(MediaType.APPLICATION_JSON));\r\n            headers.add(&quot;X-Authorization&quot;, &quot;Bearer &quot; + loginResponse.get(&quot;token&quot;).textValue());\r\n            headers.add(&quot;Content-Type&quot;, &quot;application/json&quot;);\r\n            return new HttpEntity&lt;&gt;(null, headers);\r\n    \r\n            HttpEntity request = getRequestEntity();\r\n            ResponseEntity response = template.exchange(&quot;/get&quot;,\r\n                                                        HttpMethod.GET,\r\n                                                        request,\r\n                                                        new ParameterizedTypeReference&lt;List&lt;Foo&gt;&gt;() {});\r\n            //assert stuff\r\n        }\r\n    }\r\n\r\nWhen I run this, everything works. But if I comment out the line:\r\n\r\n    headers.add(&quot;X-Authorization&quot;, &quot;Bearer &quot; + loginResponse.get(&quot;token&quot;).textValue());\r\n\r\nI get the error:\r\n\r\n    org.springframework.http.converter.HttpMessageNotReadableException: Could not read JSON document: Can not deserialize instance of java.util.ArrayList out of START_OBJECT token\r\n     at [Source: java.io.PushbackInputStream@272a5bc6; line: 1, column: 1]; nested exception is com.fasterxml.jackson.databind.JsonMappingException: Can not deserialize instance of java.util.ArrayList out of START_OBJECT token\r\n     at [Source: java.io.PushbackInputStream@272a5bc6; line: 1, column: 1]\r\n    \r\n    \tat org.springframework.http.converter.json.AbstractJackson2HttpMessageConverter.readJavaType(AbstractJackson2HttpMessageConverter.java:234)\r\n    \tat org.springframework.http.converter.json.AbstractJackson2HttpMessageConverter.read(AbstractJackson2HttpMessageConverter.java:219)\r\n    \tat org.springframework.web.client.HttpMessageConverterExtractor.extractData(HttpMessageConverterExtractor.java:95)\r\n    \tat org.springframework.web.client.RestTemplate$ResponseEntityResponseExtractor.extractData(RestTemplate.java:917)\r\n    \tat org.springframework.web.client.RestTemplate$ResponseEntityResponseExtractor.extractData(RestTemplate.java:901)\r\n    \tat org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:655)\r\n    \tat org.springframework.web.client.RestTemplate.execute(RestTemplate.java:613)\r\n    \tat org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:559)\r\n    \tat org.springframework.boot.test.web.client.TestRestTemplate.exchange(TestRestTemplate.java:812)\r\n    \tat com.test.HelloControllerIT.test1(HelloControllerIT.java:75)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n    \tat org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)\r\n    \tat org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\r\n    \tat org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)\r\n    \tat org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\r\n    \tat org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)\r\n    \tat org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:75)\r\n    \tat org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:86)\r\n    \tat org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84)\r\n    \tat org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)\r\n    \tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:252)\r\n    \tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:94)\r\n    \tat org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)\r\n    \tat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)\r\n    \tat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)\r\n    \tat org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)\r\n    \tat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)\r\n    \tat org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)\r\n    \tat org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)\r\n    \tat org.junit.runners.ParentRunner.run(ParentRunner.java:363)\r\n    \tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:191)\r\n    \tat org.junit.runner.JUnitCore.run(JUnitCore.java:137)\r\n    \tat com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:68)\r\n    \tat com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:51)\r\n    \tat com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242)\r\n    \tat com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70)\r\n    Caused by: com.fasterxml.jackson.databind.JsonMappingException: Can not deserialize instance of java.util.ArrayList out of START_OBJECT token\r\n     at [Source: java.io.PushbackInputStream@272a5bc6; line: 1, column: 1]\r\n    \tat com.fasterxml.jackson.databind.JsonMappingException.from(JsonMappingException.java:270)\r\n    \tat com.fasterxml.jackson.databind.DeserializationContext.reportMappingException(DeserializationContext.java:1234)\r\n    \tat com.fasterxml.jackson.databind.DeserializationContext.handleUnexpectedToken(DeserializationContext.java:1122)\r\n    \tat com.fasterxml.jackson.databind.DeserializationContext.handleUnexpectedToken(DeserializationContext.java:1075)\r\n    \tat com.fasterxml.jackson.databind.deser.std.CollectionDeserializer.handleNonArray(CollectionDeserializer.java:338)\r\n    \tat com.fasterxml.jackson.databind.deser.std.CollectionDeserializer.deserialize(CollectionDeserializer.java:269)\r\n    \tat com.fasterxml.jackson.databind.deser.std.CollectionDeserializer.deserialize(CollectionDeserializer.java:259)\r\n    \tat com.fasterxml.jackson.databind.deser.std.CollectionDeserializer.deserialize(CollectionDeserializer.java:26)\r\n    \tat com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:3798)\r\n    \tat com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:2922)\r\n    \tat org.springframework.http.converter.json.AbstractJackson2HttpMessageConverter.readJavaType(AbstractJackson2HttpMessageConverter.java:231)\r\n    \t... 38 more\r\n\r\nObviously the security annotations at the top are not working. So what exactly is the issue and how do I fix it?\r\n\r\n**Edit 1**: I tried doing:\r\n\r\n    Object response = template.exchange(&quot;/get&quot;, HttpMethod.GET, request, Object.class);\r\n\r\nAnd got:\r\n\r\n    &lt;401 Unauthorized,{status=401, message=Authentication failed, errorCode=10, timestamp=1497654855545},{X-Content-Type-Options=[nosniff], X-XSS-Protection=[1; mode=block], Cache-Control=[no-cache, no-store, max-age=0, must-revalidate], Pragma=[no-cache], Expires=[0], X-Frame-Options=[DENY], Content-Type=[application/json;charset=ISO-8859-1], Content-Length=[89], Date=[Fri, 16 Jun 2017 23:14:15 GMT]}&gt;\r\n\r\nFor our security we&#39;re using [`org.springframework.security.authentication.AuthenticationProvider`][1] and [`org.springframework.security.authentication.AuthenticationManager`][2]\r\n\r\n**Edit 2:** Per skadya&#39;s suggestion I created a new class like so:\r\n\r\n    @Configuration\r\n    public class AnonymousConfig extends WebSecurityConfigurerAdapter {\r\n        @Override\r\n        public void configure(HttpSecurity web) throws Exception {\r\n            web.antMatcher(&quot;**/*&quot;).anonymous();\r\n        }\r\n    }\r\n\r\nBut now when I run my integration test I get the following error:\r\n\r\n    java.lang.IllegalStateException: Failed to load ApplicationContext\r\n    \r\n    \tat org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:124)\r\n    \tat org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:83)\r\n    \tat org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:47)\r\n    \tat org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:230)\r\n    \tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:228)\r\n    \tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner$1.runReflectiveCall(SpringJUnit4ClassRunner.java:287)\r\n    \tat org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\r\n    \tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.methodBlock(SpringJUnit4ClassRunner.java:289)\r\n    \tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:247)\r\n    \tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:94)\r\n    \tat org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)\r\n    \tat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)\r\n    \tat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)\r\n    \tat org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)\r\n    \tat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)\r\n    \tat org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)\r\n    \tat org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)\r\n    \tat org.junit.runners.ParentRunner.run(ParentRunner.java:363)\r\n    \tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:191)\r\n    \tat org.junit.runner.JUnitCore.run(JUnitCore.java:137)\r\n    \tat com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:68)\r\n    \tat com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:51)\r\n    \tat com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242)\r\n    \tat com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70)\r\n    Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration&#39;: Injection of autowired dependencies failed; nested exception is java.lang.IllegalStateException: @Order on WebSecurityConfigurers must be unique. Order of 100 was already used on config.AnonymousConfig$$EnhancerBySpringCGLIB$$ba18b8d7@6291f725, so it cannot be used on security.WebSecurityConfig$$EnhancerBySpringCGLIB$$9d88e7e@1bfaaae1 too.\r\n    \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:372)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1264)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:553)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306)\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197)\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:761)\r\n    \tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:866)\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:542)\r\n    \tat org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.refresh(EmbeddedWebApplicationContext.java:122)\r\n    \tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:737)\r\n    \tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:370)\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:314)\r\n    \tat org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:120)\r\n    \tat org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:98)\r\n    \tat org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:116)\r\n    \t... 23 more\r\n    Caused by: java.lang.IllegalStateException: @Order on WebSecurityConfigurers must be unique. Order of 100 was already used on config.AnonymousConfig$$EnhancerBySpringCGLIB$$ba18b8d7@6291f725, so it cannot be used on security.WebSecurityConfig$$EnhancerBySpringCGLIB$$9d88e7e@1bfaaae1 too.\r\n    \tat org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration.setFilterChainProxySecurityConfigurer(WebSecurityConfiguration.java:148)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n    \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.inject(AutowiredAnnotationBeanPostProcessor.java:701)\r\n    \tat org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:88)\r\n    \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:366)\r\n    \t... 40 more\r\n\r\nLooks like it&#39;s clashing with the websecurity config we have in the normal project. Here&#39;s that file:\r\n\r\n    @EnableWebSecurity\r\n    @EnableWebMvc\r\n    @EnableGlobalMethodSecurity(prePostEnabled = true)\r\n    public class WebSecurityConfig extends WebSecurityConfigurerAdapter {\r\n    //configuration\r\n    }\r\n\r\nI tried adding `@Order(1000)` which fixed the above issue but still ended up in a `401 Unauthorized`\r\n\r\n  [1]: http://docs.spring.io/spring-security/site/docs/current/apidocs/org/springframework/security/authentication/AuthenticationProvider.html\r\n  [2]: http://docs.spring.io/autorepo/docs/spring-security/4.0.3.RELEASE/apidocs/org/springframework/security/authentication/AuthenticationManager.html?is-external=true","title":"Spring Boot Authentication for Integration Tests","body":"<p>I'm trying to run an integration test for my controller but I am running into issues if I don't authenticate. Here's my controller:</p>\n\n<pre><code>@RunWith(SpringRunner.class)\n@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\n@TestPropertySource(properties = {\"security.basic.enabled=false\", \"management.security.enabled=false\"})\n@EnableAutoConfiguration(exclude = {org.springframework.boot.autoconfigure.security.SecurityAutoConfiguration.class})\npublic class HelloControllerIT {\n    private final ObjectMapper mapper = new ObjectMapper();\n    @Autowired private TestRestTemplate template;\n\n    @Test\n    public void test1() throws Exception {\n        ObjectNode loginRequest = mapper.createObjectNode();\n        loginRequest.put(\"username\",\"name\");\n        loginRequest.put(\"password\",\"password\");\n        JsonNode loginResponse = template.postForObject(\"/authenticate\", loginRequest.toString(), JsonNode.class);\n\n        HttpHeaders headers = new HttpHeaders();\n        headers.setAccept(Arrays.asList(MediaType.APPLICATION_JSON));\n        headers.add(\"X-Authorization\", \"Bearer \" + loginResponse.get(\"token\").textValue());\n        headers.add(\"Content-Type\", \"application/json\");\n        return new HttpEntity&lt;&gt;(null, headers);\n\n        HttpEntity request = getRequestEntity();\n        ResponseEntity response = template.exchange(\"/get\",\n                                                    HttpMethod.GET,\n                                                    request,\n                                                    new ParameterizedTypeReference&lt;List&lt;Foo&gt;&gt;() {});\n        //assert stuff\n    }\n}\n</code></pre>\n\n<p>When I run this, everything works. But if I comment out the line:</p>\n\n<pre><code>headers.add(\"X-Authorization\", \"Bearer \" + loginResponse.get(\"token\").textValue());\n</code></pre>\n\n<p>I get the error:</p>\n\n<pre><code>org.springframework.http.converter.HttpMessageNotReadableException: Could not read JSON document: Can not deserialize instance of java.util.ArrayList out of START_OBJECT token\n at [Source: java.io.PushbackInputStream@272a5bc6; line: 1, column: 1]; nested exception is com.fasterxml.jackson.databind.JsonMappingException: Can not deserialize instance of java.util.ArrayList out of START_OBJECT token\n at [Source: java.io.PushbackInputStream@272a5bc6; line: 1, column: 1]\n\n    at org.springframework.http.converter.json.AbstractJackson2HttpMessageConverter.readJavaType(AbstractJackson2HttpMessageConverter.java:234)\n    at org.springframework.http.converter.json.AbstractJackson2HttpMessageConverter.read(AbstractJackson2HttpMessageConverter.java:219)\n    at org.springframework.web.client.HttpMessageConverterExtractor.extractData(HttpMessageConverterExtractor.java:95)\n    at org.springframework.web.client.RestTemplate$ResponseEntityResponseExtractor.extractData(RestTemplate.java:917)\n    at org.springframework.web.client.RestTemplate$ResponseEntityResponseExtractor.extractData(RestTemplate.java:901)\n    at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:655)\n    at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:613)\n    at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:559)\n    at org.springframework.boot.test.web.client.TestRestTemplate.exchange(TestRestTemplate.java:812)\n    at com.test.HelloControllerIT.test1(HelloControllerIT.java:75)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)\n    at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\n    at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)\n    at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\n    at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)\n    at org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:75)\n    at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:86)\n    at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84)\n    at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:252)\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:94)\n    at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)\n    at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)\n    at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)\n    at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)\n    at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)\n    at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)\n    at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)\n    at org.junit.runners.ParentRunner.run(ParentRunner.java:363)\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:191)\n    at org.junit.runner.JUnitCore.run(JUnitCore.java:137)\n    at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:68)\n    at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:51)\n    at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242)\n    at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70)\nCaused by: com.fasterxml.jackson.databind.JsonMappingException: Can not deserialize instance of java.util.ArrayList out of START_OBJECT token\n at [Source: java.io.PushbackInputStream@272a5bc6; line: 1, column: 1]\n    at com.fasterxml.jackson.databind.JsonMappingException.from(JsonMappingException.java:270)\n    at com.fasterxml.jackson.databind.DeserializationContext.reportMappingException(DeserializationContext.java:1234)\n    at com.fasterxml.jackson.databind.DeserializationContext.handleUnexpectedToken(DeserializationContext.java:1122)\n    at com.fasterxml.jackson.databind.DeserializationContext.handleUnexpectedToken(DeserializationContext.java:1075)\n    at com.fasterxml.jackson.databind.deser.std.CollectionDeserializer.handleNonArray(CollectionDeserializer.java:338)\n    at com.fasterxml.jackson.databind.deser.std.CollectionDeserializer.deserialize(CollectionDeserializer.java:269)\n    at com.fasterxml.jackson.databind.deser.std.CollectionDeserializer.deserialize(CollectionDeserializer.java:259)\n    at com.fasterxml.jackson.databind.deser.std.CollectionDeserializer.deserialize(CollectionDeserializer.java:26)\n    at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:3798)\n    at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:2922)\n    at org.springframework.http.converter.json.AbstractJackson2HttpMessageConverter.readJavaType(AbstractJackson2HttpMessageConverter.java:231)\n    ... 38 more\n</code></pre>\n\n<p>Obviously the security annotations at the top are not working. So what exactly is the issue and how do I fix it?</p>\n\n<p><strong>Edit 1</strong>: I tried doing:</p>\n\n<pre><code>Object response = template.exchange(\"/get\", HttpMethod.GET, request, Object.class);\n</code></pre>\n\n<p>And got:</p>\n\n<pre><code>&lt;401 Unauthorized,{status=401, message=Authentication failed, errorCode=10, timestamp=1497654855545},{X-Content-Type-Options=[nosniff], X-XSS-Protection=[1; mode=block], Cache-Control=[no-cache, no-store, max-age=0, must-revalidate], Pragma=[no-cache], Expires=[0], X-Frame-Options=[DENY], Content-Type=[application/json;charset=ISO-8859-1], Content-Length=[89], Date=[Fri, 16 Jun 2017 23:14:15 GMT]}&gt;\n</code></pre>\n\n<p>For our security we're using <a href=\"http://docs.spring.io/spring-security/site/docs/current/apidocs/org/springframework/security/authentication/AuthenticationProvider.html\" rel=\"noreferrer\"><code>org.springframework.security.authentication.AuthenticationProvider</code></a> and <a href=\"http://docs.spring.io/autorepo/docs/spring-security/4.0.3.RELEASE/apidocs/org/springframework/security/authentication/AuthenticationManager.html?is-external=true\" rel=\"noreferrer\"><code>org.springframework.security.authentication.AuthenticationManager</code></a></p>\n\n<p><strong>Edit 2:</strong> Per skadya's suggestion I created a new class like so:</p>\n\n<pre><code>@Configuration\npublic class AnonymousConfig extends WebSecurityConfigurerAdapter {\n    @Override\n    public void configure(HttpSecurity web) throws Exception {\n        web.antMatcher(\"**/*\").anonymous();\n    }\n}\n</code></pre>\n\n<p>But now when I run my integration test I get the following error:</p>\n\n<pre><code>java.lang.IllegalStateException: Failed to load ApplicationContext\n\n    at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:124)\n    at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:83)\n    at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:47)\n    at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:230)\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:228)\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner$1.runReflectiveCall(SpringJUnit4ClassRunner.java:287)\n    at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.methodBlock(SpringJUnit4ClassRunner.java:289)\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:247)\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:94)\n    at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)\n    at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)\n    at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)\n    at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)\n    at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)\n    at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)\n    at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)\n    at org.junit.runners.ParentRunner.run(ParentRunner.java:363)\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:191)\n    at org.junit.runner.JUnitCore.run(JUnitCore.java:137)\n    at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:68)\n    at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:51)\n    at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242)\n    at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70)\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration': Injection of autowired dependencies failed; nested exception is java.lang.IllegalStateException: @Order on WebSecurityConfigurers must be unique. Order of 100 was already used on config.AnonymousConfig$$EnhancerBySpringCGLIB$$ba18b8d7@6291f725, so it cannot be used on security.WebSecurityConfig$$EnhancerBySpringCGLIB$$9d88e7e@1bfaaae1 too.\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:372)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1264)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:553)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483)\n    at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:761)\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:866)\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:542)\n    at org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.refresh(EmbeddedWebApplicationContext.java:122)\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:737)\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:370)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:314)\n    at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:120)\n    at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:98)\n    at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:116)\n    ... 23 more\nCaused by: java.lang.IllegalStateException: @Order on WebSecurityConfigurers must be unique. Order of 100 was already used on config.AnonymousConfig$$EnhancerBySpringCGLIB$$ba18b8d7@6291f725, so it cannot be used on security.WebSecurityConfig$$EnhancerBySpringCGLIB$$9d88e7e@1bfaaae1 too.\n    at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration.setFilterChainProxySecurityConfigurer(WebSecurityConfiguration.java:148)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.inject(AutowiredAnnotationBeanPostProcessor.java:701)\n    at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:88)\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:366)\n    ... 40 more\n</code></pre>\n\n<p>Looks like it's clashing with the websecurity config we have in the normal project. Here's that file:</p>\n\n<pre><code>@EnableWebSecurity\n@EnableWebMvc\n@EnableGlobalMethodSecurity(prePostEnabled = true)\npublic class WebSecurityConfig extends WebSecurityConfigurerAdapter {\n//configuration\n}\n</code></pre>\n\n<p>I tried adding <code>@Order(1000)</code> which fixed the above issue but still ended up in a <code>401 Unauthorized</code></p>\n"},{"tags":["java","multipart","data-uri"],"comments":[{"owner":{"account_id":1578571,"reputation":4109,"user_id":1464455,"accept_rate":38,"display_name":"Yair Zaslavsky"},"score":0,"creation_date":1434514725,"post_id":30882139,"comment_id":49805173,"body_markdown":"What do you mean by that? Like sending back a link of the data you just uploaded?","body":"What do you mean by that? Like sending back a link of the data you just uploaded?"},{"owner":{"account_id":4824346,"reputation":1840,"user_id":3894163,"accept_rate":92,"display_name":"Jaydo"},"score":0,"creation_date":1434515633,"post_id":30882139,"comment_id":49805434,"body_markdown":"I&#39;m after a string representation of the image. [example](https://css-tricks.com/data-uris/)","body":"I&#39;m after a string representation of the image. <a href=\"https://css-tricks.com/data-uris/\" rel=\"nofollow noreferrer\">example</a>"}],"answers":[{"tags":[],"owner":{"account_id":4824346,"reputation":1840,"user_id":3894163,"accept_rate":92,"display_name":"Jaydo"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1434518710,"creation_date":1434518710,"answer_id":30882915,"question_id":30882139,"body_markdown":"After much searching I found the answer [here](https://stackoverflow.com/a/19996331/3894163).\r\n\r\n    StringBuilder sb = new StringBuilder();\r\n    sb.append(&quot;data:image/png;base64,&quot;);\r\n    sb.append(StringUtils.newStringUtf8(Base64.encodeBase64(imageByteArray, false)));\r\n    return sb.toString();\r\n\r\nThe trick is to `StringUtils.newStringUtf8(...)`.  \r\nOther methods I tried returned a string 10 characters long or an improperly formed data URI.","title":"How to convert a MultiPartFile (image) to a data URI?","body":"<p>After much searching I found the answer <a href=\"https://stackoverflow.com/a/19996331/3894163\">here</a>.</p>\n\n<pre><code>StringBuilder sb = new StringBuilder();\nsb.append(\"data:image/png;base64,\");\nsb.append(StringUtils.newStringUtf8(Base64.encodeBase64(imageByteArray, false)));\nreturn sb.toString();\n</code></pre>\n\n<p>The trick is to <code>StringUtils.newStringUtf8(...)</code>.<br>\nOther methods I tried returned a string 10 characters long or an improperly formed data URI.</p>\n"},{"tags":[],"owner":{"account_id":22204971,"reputation":1,"user_id":16445023,"display_name":"Prasetya Dhany Putra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675756431,"creation_date":1663990528,"answer_id":73834580,"question_id":30882139,"body_markdown":"    private String convertToBase64Url(MultipartFile file) {\r\n        String url = &quot;&quot;;\r\n        try{\r\n            byte[] bytes = Base64.encodeBase64(file.getBytes());\r\n            String result = new String(bytes);\r\n            url = &quot;data:&quot; + file.getContentType() + &quot;;base64,&quot; + result;\r\n        } catch(Exception e) {\r\n            e.printStackTrace();\r\n        } finally {\r\n          return  url;\r\n        }\r\n        \r\n    }\r\n\r\ntry this","title":"How to convert a MultiPartFile (image) to a data URI?","body":"<pre><code>private String convertToBase64Url(MultipartFile file) {\n    String url = &quot;&quot;;\n    try{\n        byte[] bytes = Base64.encodeBase64(file.getBytes());\n        String result = new String(bytes);\n        url = &quot;data:&quot; + file.getContentType() + &quot;;base64,&quot; + result;\n    } catch(Exception e) {\n        e.printStackTrace();\n    } finally {\n      return  url;\n    }\n    \n}\n</code></pre>\n<p>try this</p>\n"}],"owner":{"account_id":4824346,"reputation":1840,"user_id":3894163,"accept_rate":92,"display_name":"Jaydo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13379,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":30882915,"answer_count":2,"score":8,"last_activity_date":1675756431,"creation_date":1434513932,"question_id":30882139,"body_markdown":"On my site I am uploading an image and need to return the data URI of that image but I cannot work out how to do so (it must be server side).\r\n\r\nI have tried the following code but it seems to encode the name of the file. \r\n\r\n\r\n    @RequestMapping(value=&quot;/path/toDataURL&quot;, method=RequestMethod.POST, headers = &quot;content-type=multipart/form-data&quot;)\r\n\tpublic @ResponseBody String uploadMultipart(HttpServletRequest request, HttpServletResponse response, @RequestParam(&quot;file&quot;) MultipartFile multiPart) {\r\n\t\ttry {\r\n\t\t\treturn &quot;data:image/png;base64,&quot; + Base64.encodeBase64(multiPart.getBytes());\r\n\t\t} catch (IOException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\treturn &quot;&quot;;\r\n    }\r\n\r\nHow can I get the data URI of the image?","title":"How to convert a MultiPartFile (image) to a data URI?","body":"<p>On my site I am uploading an image and need to return the data URI of that image but I cannot work out how to do so (it must be server side).</p>\n\n<p>I have tried the following code but it seems to encode the name of the file. </p>\n\n<pre><code>@RequestMapping(value=\"/path/toDataURL\", method=RequestMethod.POST, headers = \"content-type=multipart/form-data\")\npublic @ResponseBody String uploadMultipart(HttpServletRequest request, HttpServletResponse response, @RequestParam(\"file\") MultipartFile multiPart) {\n    try {\n        return \"data:image/png;base64,\" + Base64.encodeBase64(multiPart.getBytes());\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n    return \"\";\n}\n</code></pre>\n\n<p>How can I get the data URI of the image?</p>\n"},{"tags":["java","spring","spring-boot","java-io"],"answers":[{"tags":[],"owner":{"account_id":2617457,"reputation":33,"user_id":2266229,"display_name":"Alex A"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675756267,"creation_date":1675756267,"answer_id":75370320,"question_id":75049721,"body_markdown":"I think the second comment from [that answer](https://stackoverflow.com/a/36690261/2266229) could help you. It says that you can create your own temp file on disk and work with it while needed. In that scenario you don&#39;t need to think about memory.\r\n\r\nAnd take a look at [approach number 2](https://stackoverflow.com/a/43518442/2266229). It suggests to use MultiPartFile implementation with custom constructor and then use it in your logic.","title":"Springboot async upload and store method using multipart file problem","body":"<p>I think the second comment from <a href=\"https://stackoverflow.com/a/36690261/2266229\">that answer</a> could help you. It says that you can create your own temp file on disk and work with it while needed. In that scenario you don't need to think about memory.</p>\n<p>And take a look at <a href=\"https://stackoverflow.com/a/43518442/2266229\">approach number 2</a>. It suggests to use MultiPartFile implementation with custom constructor and then use it in your logic.</p>\n"}],"owner":{"account_id":22246447,"reputation":17,"user_id":16480070,"display_name":"Sizor"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":693,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675756267,"creation_date":1673197285,"question_id":75049721,"body_markdown":"I am trying to make async upload service with spring boot, here is my code:\r\n\r\n    public ResponseEntity&lt;?&gt; save(MultipartFile[] files) {\r\n        if (files.length == 0) {\r\n            return ResponseEntity.badRequest().body(&quot;No files selected&quot;);\r\n        }\r\n\r\n        DigikyblikFileStorage storage = digikyblikFileStoragesService.getIdealStorage();\r\n        UUID bucketUUID = UUID.randomUUID();\r\n\r\n        asyncService.saveFiles(files, storage, bucketUUID);\r\n\r\n        try {\r\n            List&lt;File&gt; filesData = new ArrayList&lt;&gt;();\r\n    \r\n            for (MultipartFile file : files) {\r\n                filesData.add(new File(file.getOriginalFilename(), file.getSize()));\r\n            }\r\n\r\n            BucketFilesRecord record = new BucketFilesRecord();\r\n            record.setBucketUUID(bucketUUID);\r\n            record.setStorageId(storage.getId());\r\n            record.setFilesInfo(new ObjectMapper().writeValueAsString(filesData));\r\n            bucketFilesRecordRepository.save(record);\r\n\r\n            \r\n        } catch (JsonProcessingException e) {\r\n            logger.error(&quot;Error when setting files info for bucketUUID: &quot; + bucketUUID, e);\r\n            return ResponseEntity.internalServerError().body(&quot;Error when setting files info for bucketUUID: &quot; + bucketUUID);\r\n        } catch (IOException e) {\r\n            logger.error(&quot;Error when getting bytes from multipart files for bucketUUID: &quot; + bucketUUID, e);\r\n        }\r\n\r\n        return new ResponseEntity&lt;&gt;(new FilesUploadedResponse(bucketUUID), HttpStatus.OK);\r\n    }\r\n\r\nand : \r\n\r\n    @Async\r\n    public void saveFiles(MultipartFile[] files, DigikyblikFileStorage storage, UUID bucketUUID) {\r\n        logger.info(&quot;Start storing files for bucketUUID: &quot; + bucketUUID);\r\n\r\n        Path filesPath = Paths.get(storage.getStoragePath() + java.io.File.separator + bucketUUID);\r\n\r\n        try {\r\n            Files.createDirectories(filesPath);\r\n        } catch (IOException e) {\r\n            logger.error(&quot;Couldn&#39;t create directories for bucketUUID: &quot; + bucketUUID, e);\r\n            return;\r\n        }\r\n        \r\n        for (MultipartFile file : files) {\r\n            Path path = Paths.get(filesPath + java.io.File.separator + file.getOriginalFilename());\r\n            try {\r\n                file.transferTo(path);\r\n            } catch (IllegalStateException e) {\r\n                // TODO Auto-generated catch block\r\n                e.printStackTrace();\r\n            } catch (IOException e) {\r\n                // TODO Auto-generated catch block\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n\r\nSometimes it works well, but sometimes i get this error:\r\n\r\n    java.nio.file.NoSuchFileException: /media/wedos-test/upload_814fc87f_9641_48be_adb4_c79f0111f11c_00000012.tmp\r\n\r\nI know why, its because that spring delete tmp folder before file transaction is done, but i dont know how this could be repared, one solution was that a could read bytes and then call async method, so tmp directory shouldnt be needed anymore, but when i try upload bigger files with this solution, i get of course memory error. Can anyone help me with this problem? Thanks!\r\n\r\n","title":"Springboot async upload and store method using multipart file problem","body":"<p>I am trying to make async upload service with spring boot, here is my code:</p>\n<pre><code>public ResponseEntity&lt;?&gt; save(MultipartFile[] files) {\n    if (files.length == 0) {\n        return ResponseEntity.badRequest().body(&quot;No files selected&quot;);\n    }\n\n    DigikyblikFileStorage storage = digikyblikFileStoragesService.getIdealStorage();\n    UUID bucketUUID = UUID.randomUUID();\n\n    asyncService.saveFiles(files, storage, bucketUUID);\n\n    try {\n        List&lt;File&gt; filesData = new ArrayList&lt;&gt;();\n\n        for (MultipartFile file : files) {\n            filesData.add(new File(file.getOriginalFilename(), file.getSize()));\n        }\n\n        BucketFilesRecord record = new BucketFilesRecord();\n        record.setBucketUUID(bucketUUID);\n        record.setStorageId(storage.getId());\n        record.setFilesInfo(new ObjectMapper().writeValueAsString(filesData));\n        bucketFilesRecordRepository.save(record);\n\n        \n    } catch (JsonProcessingException e) {\n        logger.error(&quot;Error when setting files info for bucketUUID: &quot; + bucketUUID, e);\n        return ResponseEntity.internalServerError().body(&quot;Error when setting files info for bucketUUID: &quot; + bucketUUID);\n    } catch (IOException e) {\n        logger.error(&quot;Error when getting bytes from multipart files for bucketUUID: &quot; + bucketUUID, e);\n    }\n\n    return new ResponseEntity&lt;&gt;(new FilesUploadedResponse(bucketUUID), HttpStatus.OK);\n}\n</code></pre>\n<p>and :</p>\n<pre><code>@Async\npublic void saveFiles(MultipartFile[] files, DigikyblikFileStorage storage, UUID bucketUUID) {\n    logger.info(&quot;Start storing files for bucketUUID: &quot; + bucketUUID);\n\n    Path filesPath = Paths.get(storage.getStoragePath() + java.io.File.separator + bucketUUID);\n\n    try {\n        Files.createDirectories(filesPath);\n    } catch (IOException e) {\n        logger.error(&quot;Couldn't create directories for bucketUUID: &quot; + bucketUUID, e);\n        return;\n    }\n    \n    for (MultipartFile file : files) {\n        Path path = Paths.get(filesPath + java.io.File.separator + file.getOriginalFilename());\n        try {\n            file.transferTo(path);\n        } catch (IllegalStateException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        } catch (IOException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>Sometimes it works well, but sometimes i get this error:</p>\n<pre><code>java.nio.file.NoSuchFileException: /media/wedos-test/upload_814fc87f_9641_48be_adb4_c79f0111f11c_00000012.tmp\n</code></pre>\n<p>I know why, its because that spring delete tmp folder before file transaction is done, but i dont know how this could be repared, one solution was that a could read bytes and then call async method, so tmp directory shouldnt be needed anymore, but when i try upload bigger files with this solution, i get of course memory error. Can anyone help me with this problem? Thanks!</p>\n"},{"tags":["java","selenium","cucumber"],"comments":[{"owner":{"account_id":8585815,"reputation":425,"user_id":6431997,"display_name":"memoricab"},"score":0,"creation_date":1635942321,"post_id":69824742,"comment_id":123425223,"body_markdown":"can you try to add cucumber-core\nalso use same versions for all cucumber packages.\n\nactually try directly to upgrade cucumber-junit to 7","body":"can you try to add cucumber-core also use same versions for all cucumber packages.  actually try directly to upgrade cucumber-junit to 7"},{"owner":{"account_id":16735474,"reputation":43,"user_id":12096735,"display_name":"Workhard"},"score":0,"creation_date":1635944192,"post_id":69824742,"comment_id":123426006,"body_markdown":"I upgraded cucumber junit and junit to 7.0.0 and 4.13.2, but still getting same error.\n\njava.lang.NoClassDefFoundError: io/cucumber/core/runtime/TypeRegistryConfigurerSupplier","body":"I upgraded cucumber junit and junit to 7.0.0 and 4.13.2, but still getting same error.  java.lang.NoClassDefFoundError: io/cucumber/core/runtime/TypeRegistryConfigurerSupplier"},{"owner":{"account_id":8585815,"reputation":425,"user_id":6431997,"display_name":"memoricab"},"score":0,"creation_date":1635944539,"post_id":69824742,"comment_id":123426176,"body_markdown":"I reproduced the issue and when I upgraded cucumber-junit to 7.0.0 it worked. Don&#39;t forget to reload maven dependencies","body":"I reproduced the issue and when I upgraded cucumber-junit to 7.0.0 it worked. Don&#39;t forget to reload maven dependencies"},{"owner":{"account_id":16735474,"reputation":43,"user_id":12096735,"display_name":"Workhard"},"score":0,"creation_date":1635945219,"post_id":69824742,"comment_id":123426506,"body_markdown":"Hmm. This should work if you had the same issue and reproduced, but I am still getting the same error after I reloaded the maven dependencies.","body":"Hmm. This should work if you had the same issue and reproduced, but I am still getting the same error after I reloaded the maven dependencies."},{"owner":{"account_id":8585815,"reputation":425,"user_id":6431997,"display_name":"memoricab"},"score":0,"creation_date":1635946913,"post_id":69824742,"comment_id":123427335,"body_markdown":"you can also try to add cucumber-core:6.11.0 into your pom.xml\nThis way I could run as well. I believe at major upgrade to 7.0.0 they added some core libraries into cucumber-junit.","body":"you can also try to add cucumber-core:6.11.0 into your pom.xml This way I could run as well. I believe at major upgrade to 7.0.0 they added some core libraries into cucumber-junit."},{"owner":{"account_id":16735474,"reputation":43,"user_id":12096735,"display_name":"Workhard"},"score":0,"creation_date":1635950728,"post_id":69824742,"comment_id":123429182,"body_markdown":"Thank you for your help. I edited my post to add dependencies, and picture. Could you please look into it? still not working.","body":"Thank you for your help. I edited my post to add dependencies, and picture. Could you please look into it? still not working."},{"owner":{"account_id":8585815,"reputation":425,"user_id":6431997,"display_name":"memoricab"},"score":0,"creation_date":1635952266,"post_id":69824742,"comment_id":123429883,"body_markdown":"please include this one https://mvnrepository.com/artifact/io.cucumber/cucumber-core/6.11.0\n\ninfo.cukes is moved to io.cucumber","body":"please include this one <a href=\"https://mvnrepository.com/artifact/io.cucumber/cucumber-core/6.11.0\" rel=\"nofollow noreferrer\">mvnrepository.com/artifact/io.cucumber/cucumber-core/6.11.0</a>  info.cukes is moved to io.cucumber"},{"owner":{"account_id":16735474,"reputation":43,"user_id":12096735,"display_name":"Workhard"},"score":0,"creation_date":1635954186,"post_id":69824742,"comment_id":123430812,"body_markdown":"@memoricab Thank you for continuing to help me. I did that into my pom and got more errors. Instead of, I did latest io.cucumber core and got 11 more than 18 more errors in the picture above. Some errors were decreased. Wow I don&#39;t know what problem is casuing. I added new errors in the body.","body":"@memoricab Thank you for continuing to help me. I did that into my pom and got more errors. Instead of, I did latest io.cucumber core and got 11 more than 18 more errors in the picture above. Some errors were decreased. Wow I don&#39;t know what problem is casuing. I added new errors in the body."},{"owner":{"account_id":16735474,"reputation":43,"user_id":12096735,"display_name":"Workhard"},"score":0,"creation_date":1635955153,"post_id":69824742,"comment_id":123431261,"body_markdown":"Oh. It somehow worked from your link. Finally everything works! Thank you so much!!! @memoricab","body":"Oh. It somehow worked from your link. Finally everything works! Thank you so much!!! @memoricab"},{"owner":{"account_id":8585815,"reputation":425,"user_id":6431997,"display_name":"memoricab"},"score":1,"creation_date":1636013526,"post_id":69824742,"comment_id":123445787,"body_markdown":"I will update my answer, could you please mark it as a valid answer?","body":"I will update my answer, could you please mark it as a valid answer?"},{"owner":{"account_id":16735474,"reputation":43,"user_id":12096735,"display_name":"Workhard"},"score":0,"creation_date":1636066463,"post_id":69824742,"comment_id":123465635,"body_markdown":"Yes I marked your answer plus up! Thank you again.","body":"Yes I marked your answer plus up! Thank you again."}],"answers":[{"tags":[],"owner":{"account_id":8585815,"reputation":425,"user_id":6431997,"display_name":"memoricab"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1636013570,"creation_date":1635942661,"answer_id":69824890,"question_id":69824742,"body_markdown":"I could reproduce your issue.\r\n\r\nPlease upgrade your cucumber-junit to 7.0.0\r\n\r\nor you can use io.core:cucumber-core:6.11.0 with your 6.11.0 cucumber-junit dependency.","title":"Java Selenium cucumber error:java.lang.NoClassDefFoundError: io/cucumber/core/runtime/TypeRegistryConfigurerSupplier","body":"<p>I could reproduce your issue.</p>\n<p>Please upgrade your cucumber-junit to 7.0.0</p>\n<p>or you can use io.core:cucumber-core:6.11.0 with your 6.11.0 cucumber-junit dependency.</p>\n"},{"tags":[],"owner":{"account_id":10726280,"reputation":67,"user_id":7893703,"display_name":"Anil Jain"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675756123,"creation_date":1675756123,"answer_id":75370293,"question_id":69824742,"body_markdown":"Make sure that cucumber-core, cucumber-java and cucumber-testng have same version.for example\r\n\r\n        &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;cucumber-java&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;7.11.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;cucumber-core&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;7.11.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;cucumber-testng&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;7.11.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;","title":"Java Selenium cucumber error:java.lang.NoClassDefFoundError: io/cucumber/core/runtime/TypeRegistryConfigurerSupplier","body":"<p>Make sure that cucumber-core, cucumber-java and cucumber-testng have same version.for example</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n        &lt;artifactId&gt;cucumber-java&lt;/artifactId&gt;\n        &lt;version&gt;7.11.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n        &lt;artifactId&gt;cucumber-core&lt;/artifactId&gt;\n        &lt;version&gt;7.11.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n        &lt;artifactId&gt;cucumber-testng&lt;/artifactId&gt;\n        &lt;version&gt;7.11.1&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":16735474,"reputation":43,"user_id":12096735,"display_name":"Workhard"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8093,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69824890,"answer_count":2,"score":1,"last_activity_date":1675756123,"creation_date":1635942035,"question_id":69824742,"body_markdown":"I have made simple cucumber class and trying to learn.\r\n\r\nI am trying to run cucumber class, but I keep getting this error.\r\n\r\nWhat do I need to fix something?\r\n\r\nAny help would be appreciated.\r\n\r\nI am facing this error.\r\n\r\nI added a picture. \r\n[![I added pic.][1]][1]\r\n\r\n[![enter image description here][2]][2]\r\nClass\r\n\r\n    package StepDefinitions;\r\n    \r\n    import org.junit.runner.RunWith;\r\n    \r\n    import io.cucumber.junit.Cucumber;\r\n    import io.cucumber.junit.CucumberOptions;\r\n    \r\n    @RunWith(Cucumber.class)\r\n    @CucumberOptions(features=&quot;src/test/Features&quot;, glue= {&quot;StepDefinitions&quot;})\r\n    public class running {\r\n    \r\n    \tpublic running() {\r\n    \t\t// TODO Auto-generated constructor stub\r\n    \t}\r\n    \r\n    }\r\n\r\nThis error occurs when I run the program.\r\n\r\n    java.lang.NoClassDefFoundError: io/cucumber/core/runtime/TypeRegistryConfigurerSupplier\r\n\tat java.base/java.lang.Class.getDeclaredConstructors0(Native Method)\r\n\tat java.base/java.lang.Class.privateGetDeclaredConstructors(Class.java:3215)\r\n\tat java.base/java.lang.Class.getConstructor0(Class.java:3420)\r\n\tat java.base/java.lang.Class.getConstructor(Class.java:2165)\r\n\tat org.junit.internal.builders.AnnotatedBuilder.buildRunner(AnnotatedBuilder.java:104)\r\n\tat org.junit.internal.builders.AnnotatedBuilder.runnerForClass(AnnotatedBuilder.java:86)\r\n\tat org.junit.runners.model.RunnerBuilder.safeRunnerForClass(RunnerBuilder.java:70)\r\n\tat org.junit.internal.builders.AllDefaultPossibilitiesBuilder.runnerForClass(AllDefaultPossibilitiesBuilder.java:37)\r\n\tat org.junit.runners.model.RunnerBuilder.safeRunnerForClass(RunnerBuilder.java:70)\r\n\tat org.junit.internal.requests.ClassRequest.createRunner(ClassRequest.java:28)\r\n\tat org.junit.internal.requests.MemoizingRequest.getRunner(MemoizingRequest.java:19)\r\n\tat org.eclipse.jdt.internal.junit4.runner.JUnit4TestLoader.createUnfilteredTest(JUnit4TestLoader.java:90)\r\n\tat org.eclipse.jdt.internal.junit4.runner.JUnit4TestLoader.createTest(JUnit4TestLoader.java:76)\r\n\tat org.eclipse.jdt.internal.junit4.runner.JUnit4TestLoader.loadTests(JUnit4TestLoader.java:49)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:513)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:756)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:452)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:210) Caused by: java.lang.ClassNotFoundException: io.cucumber.core.runtime.TypeRegistryConfigurerSupplier\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:602)\r\n\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522)\r\n\t... 18 more\r\n\r\nNew update after I added io cucumber core.\r\n\r\n    java.lang.NoClassDefFoundError: io/cucumber/messages/Messages$Envelope\r\n    \tat io.cucumber.core.plugin.NoPublishFormatter.setEventPublisher(NoPublishFormatter.java:34)\r\n    \tat io.cucumber.core.plugin.Plugins.setEventBusOnEventListenerPlugins(Plugins.java:71)\r\n    \tat io.cucumber.junit.Cucumber$RunCucumber.evaluate(Cucumber.java:228)\r\n    \tat org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)\r\n    \tat org.junit.runners.ParentRunner.run(ParentRunner.java:413)\r\n    \tat org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:93)\r\n    \tat org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:40)\r\n    \tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:529)\r\n    \tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:756)\r\n    \tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:452)\r\n    \tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:210)\r\n    Caused by: java.lang.ClassNotFoundException: io.cucumber.messages.Messages$Envelope\r\n    \tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:602)\r\n    \tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\r\n    \tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522)\r\n    \t... 11 more\r\n\r\n\r\n\r\n\r\ndepdencies here\r\n\r\n    &lt;dependencies&gt;\r\n    \t\t&lt;!-- https://mvnrepository.com/artifact/junit/junit --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;junit&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;4.13.2&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.testng&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;testng&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;7.4.0&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;4.0.0&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;cucumber-java&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;7.0.0&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;!-- https://mvnrepository.com/artifact/io.cucumber/cucumber-junit --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;cucumber-junit&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;7.0.0&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;!-- https://mvnrepository.com/artifact/info.cukes/cucumber-core --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;info.cukes&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;cucumber-core&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.2.5&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n\r\n\r\nThank you for your help.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/U4V2S.png\r\n  [2]: https://i.stack.imgur.com/M7Xqj.png\r\n\r\n","title":"Java Selenium cucumber error:java.lang.NoClassDefFoundError: io/cucumber/core/runtime/TypeRegistryConfigurerSupplier","body":"<p>I have made simple cucumber class and trying to learn.</p>\n<p>I am trying to run cucumber class, but I keep getting this error.</p>\n<p>What do I need to fix something?</p>\n<p>Any help would be appreciated.</p>\n<p>I am facing this error.</p>\n<p>I added a picture.\n<a href=\"https://i.stack.imgur.com/U4V2S.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/U4V2S.png\" alt=\"I added pic.\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/M7Xqj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/M7Xqj.png\" alt=\"enter image description here\" /></a>\nClass</p>\n<pre><code>package StepDefinitions;\n\nimport org.junit.runner.RunWith;\n\nimport io.cucumber.junit.Cucumber;\nimport io.cucumber.junit.CucumberOptions;\n\n@RunWith(Cucumber.class)\n@CucumberOptions(features=&quot;src/test/Features&quot;, glue= {&quot;StepDefinitions&quot;})\npublic class running {\n\n    public running() {\n        // TODO Auto-generated constructor stub\n    }\n\n}\n</code></pre>\n<p>This error occurs when I run the program.</p>\n<pre><code>java.lang.NoClassDefFoundError: io/cucumber/core/runtime/TypeRegistryConfigurerSupplier\nat java.base/java.lang.Class.getDeclaredConstructors0(Native Method)\nat java.base/java.lang.Class.privateGetDeclaredConstructors(Class.java:3215)\nat java.base/java.lang.Class.getConstructor0(Class.java:3420)\nat java.base/java.lang.Class.getConstructor(Class.java:2165)\nat org.junit.internal.builders.AnnotatedBuilder.buildRunner(AnnotatedBuilder.java:104)\nat org.junit.internal.builders.AnnotatedBuilder.runnerForClass(AnnotatedBuilder.java:86)\nat org.junit.runners.model.RunnerBuilder.safeRunnerForClass(RunnerBuilder.java:70)\nat org.junit.internal.builders.AllDefaultPossibilitiesBuilder.runnerForClass(AllDefaultPossibilitiesBuilder.java:37)\nat org.junit.runners.model.RunnerBuilder.safeRunnerForClass(RunnerBuilder.java:70)\nat org.junit.internal.requests.ClassRequest.createRunner(ClassRequest.java:28)\nat org.junit.internal.requests.MemoizingRequest.getRunner(MemoizingRequest.java:19)\nat org.eclipse.jdt.internal.junit4.runner.JUnit4TestLoader.createUnfilteredTest(JUnit4TestLoader.java:90)\nat org.eclipse.jdt.internal.junit4.runner.JUnit4TestLoader.createTest(JUnit4TestLoader.java:76)\nat org.eclipse.jdt.internal.junit4.runner.JUnit4TestLoader.loadTests(JUnit4TestLoader.java:49)\nat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:513)\nat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:756)\nat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:452)\nat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:210) Caused by: java.lang.ClassNotFoundException: io.cucumber.core.runtime.TypeRegistryConfigurerSupplier\nat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:602)\nat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\nat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522)\n... 18 more\n</code></pre>\n<p>New update after I added io cucumber core.</p>\n<pre><code>java.lang.NoClassDefFoundError: io/cucumber/messages/Messages$Envelope\n    at io.cucumber.core.plugin.NoPublishFormatter.setEventPublisher(NoPublishFormatter.java:34)\n    at io.cucumber.core.plugin.Plugins.setEventBusOnEventListenerPlugins(Plugins.java:71)\n    at io.cucumber.junit.Cucumber$RunCucumber.evaluate(Cucumber.java:228)\n    at org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)\n    at org.junit.runners.ParentRunner.run(ParentRunner.java:413)\n    at org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:93)\n    at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:40)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:529)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:756)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:452)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:210)\nCaused by: java.lang.ClassNotFoundException: io.cucumber.messages.Messages$Envelope\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:602)\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522)\n    ... 11 more\n</code></pre>\n<p>depdencies here</p>\n<pre><code>&lt;dependencies&gt;\n        &lt;!-- https://mvnrepository.com/artifact/junit/junit --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;version&gt;4.13.2&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.testng&lt;/groupId&gt;\n            &lt;artifactId&gt;testng&lt;/artifactId&gt;\n            &lt;version&gt;7.4.0&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n            &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\n            &lt;version&gt;4.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n            &lt;artifactId&gt;cucumber-java&lt;/artifactId&gt;\n            &lt;version&gt;7.0.0&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/io.cucumber/cucumber-junit --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n            &lt;artifactId&gt;cucumber-junit&lt;/artifactId&gt;\n            &lt;version&gt;7.0.0&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/info.cukes/cucumber-core --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;info.cukes&lt;/groupId&gt;\n            &lt;artifactId&gt;cucumber-core&lt;/artifactId&gt;\n            &lt;version&gt;1.2.5&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n</code></pre>\n<p>Thank you for your help.</p>\n"},{"tags":["java","android"],"owner":{"account_id":16190555,"reputation":1077,"user_id":11689470,"display_name":"Thudner"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675755750,"creation_date":1675755750,"question_id":75370225,"body_markdown":"I want to get a list of all senders in the SMS inbox - I don&#39;t want to read the sms body, date etc.  \r\nI am able to do that using the bellow code\r\n\r\n    Cursor cur = unityActivity.getContentResolver().query(uri, projection,null, null, &quot;date ASC&quot;); \r\n\r\nThe issue here I have to ready all the SMS&#39;s which means if contact **A** has 100 SMS I have to read ALL sms from A, which I don&#39;t want I only want a list of all contacts in the inbox and not the messages.  \r\n\r\n\r\n\r\nAny Idea How I can do that in android Java.  ","title":"Read a LIST of all sender in the sms inbox android java","body":"<p>I want to get a list of all senders in the SMS inbox - I don't want to read the sms body, date etc.<br />\nI am able to do that using the bellow code</p>\n<pre><code>Cursor cur = unityActivity.getContentResolver().query(uri, projection,null, null, &quot;date ASC&quot;); \n</code></pre>\n<p>The issue here I have to ready all the SMS's which means if contact <strong>A</strong> has 100 SMS I have to read ALL sms from A, which I don't want I only want a list of all contacts in the inbox and not the messages.</p>\n<p>Any Idea How I can do that in android Java.</p>\n"},{"tags":["java","tomcat","web-applications"],"comments":[{"owner":{"account_id":231531,"reputation":1688,"user_id":495815,"accept_rate":48,"display_name":"Wouter"},"score":0,"creation_date":1398070848,"post_id":17019233,"comment_id":35475841,"body_markdown":"Are there no options using a Tomcat vhost? These environment settings are not handy if you have multiple copies of the app running. I believe they&#39;re called &quot;environment entries&quot;?","body":"Are there no options using a Tomcat vhost? These environment settings are not handy if you have multiple copies of the app running. I believe they&#39;re called &quot;environment entries&quot;?"},{"owner":{"account_id":3287434,"reputation":1034,"user_id":2766545,"accept_rate":75,"display_name":"Janaka Bandara"},"score":0,"creation_date":1646410366,"post_id":17019233,"comment_id":126123556,"body_markdown":"On Tomcat 8.5.51 provided in Amazon Linux repos, I had to append the env-var declaration to `/usr/libexec/tomcat/preamble`; creating `$CATALINA_BASE/bin/setenv.sh` didn&#39;t work (in above distro `CATALINA_BASE=/usr/share/tomcat`)","body":"On Tomcat 8.5.51 provided in Amazon Linux repos, I had to append the env-var declaration to <code>&#47;usr&#47;libexec&#47;tomcat&#47;preamble</code>; creating <code>$CATALINA_BASE&#47;bin&#47;setenv.sh</code> didn&#39;t work (in above distro <code>CATALINA_BASE=&#47;usr&#47;share&#47;tomcat</code>)"}],"answers":[{"tags":[],"owner":{"account_id":1190755,"reputation":48912,"user_id":1163607,"accept_rate":97,"display_name":"AllTooSir"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1370851451,"creation_date":1370851075,"answer_id":17019283,"question_id":17019233,"body_markdown":"Environment Entries specified by `&lt;Environment&gt;` markup are JNDI, accessible using [InitialContext.lookup][1] under `java:/comp/env`. You can specify environment properties to the [JNDI][2] by using the environment parameter to the [InitialContext][3] constructor and [application resource files][4].\r\n\r\n`System.getEnv()` is about system environment variables of the tomcat process itself.\r\n\r\nTo set an environment variable using bash command :\r\n`export TOMCAT_OPTS=-Dmy.bar=foo`\r\nand start the Tomcat :\r\n`./startup.sh`\r\nTo retrieve the value of System property `bar` use `System.getProperty()`. `System.getEnv()` can be used to retrieve the environment variable i.e. `TOMCAT_OPTS`.\r\n\r\n[1]:http://docs.oracle.com/javase/6/docs/api/javax/naming/InitialContext.html#lookup(java.lang.String)\r\n[2]:http://docs.oracle.com/javase/jndi/tutorial/beyond/env/source.html\r\n[3]:http://docs.oracle.com/javase/1.3/docs/api/javax/naming/InitialContext.html#InitialContext(java.util.Hashtable)\r\n[4]:http://docs.oracle.com/javase/jndi/tutorial/beyond/env/source.html#APPRES","title":"Pass user defined environment variable to tomcat","body":"<p>Environment Entries specified by <code>&lt;Environment&gt;</code> markup are JNDI, accessible using <a href=\"http://docs.oracle.com/javase/6/docs/api/javax/naming/InitialContext.html#lookup%28java.lang.String%29\">InitialContext.lookup</a> under <code>java:/comp/env</code>. You can specify environment properties to the <a href=\"http://docs.oracle.com/javase/jndi/tutorial/beyond/env/source.html\">JNDI</a> by using the environment parameter to the <a href=\"http://docs.oracle.com/javase/1.3/docs/api/javax/naming/InitialContext.html#InitialContext%28java.util.Hashtable%29\">InitialContext</a> constructor and <a href=\"http://docs.oracle.com/javase/jndi/tutorial/beyond/env/source.html#APPRES\">application resource files</a>.</p>\n\n<p><code>System.getEnv()</code> is about system environment variables of the tomcat process itself.</p>\n\n<p>To set an environment variable using bash command :\n<code>export TOMCAT_OPTS=-Dmy.bar=foo</code>\nand start the Tomcat :\n<code>./startup.sh</code>\nTo retrieve the value of System property <code>bar</code> use <code>System.getProperty()</code>. <code>System.getEnv()</code> can be used to retrieve the environment variable i.e. <code>TOMCAT_OPTS</code>.</p>\n"},{"tags":[],"owner":{"account_id":2542363,"reputation":4423,"user_id":2207894,"display_name":"Shinichi Kai"},"down_vote_count":2,"up_vote_count":59,"is_accepted":false,"score":57,"last_activity_date":1661345837,"creation_date":1370926866,"answer_id":17036776,"question_id":17019233,"body_markdown":"You can use `setenv.bat` or `.sh` to pass the environment variables to the Tomcat.\r\n\r\nCreate `CATALINA_BASE/bin/setenv.bat` or `.sh` file and put the following line in it, and then start the Tomcat.\r\n\r\nOn Windows:\r\n\r\n    set APP_MASTER_PASSWORD=foo\r\n\r\nOn Unix like systems:\r\n\r\n    export APP_MASTER_PASSWORD=foo\r\n","title":"Pass user defined environment variable to tomcat","body":"<p>You can use <code>setenv.bat</code> or <code>.sh</code> to pass the environment variables to the Tomcat.</p>\n<p>Create <code>CATALINA_BASE/bin/setenv.bat</code> or <code>.sh</code> file and put the following line in it, and then start the Tomcat.</p>\n<p>On Windows:</p>\n<pre><code>set APP_MASTER_PASSWORD=foo\n</code></pre>\n<p>On Unix like systems:</p>\n<pre><code>export APP_MASTER_PASSWORD=foo\n</code></pre>\n"},{"tags":[],"owner":{"account_id":428088,"reputation":3113,"user_id":810176,"accept_rate":85,"display_name":"Ankit"},"down_vote_count":4,"up_vote_count":25,"is_accepted":false,"score":21,"last_activity_date":1370928119,"creation_date":1370928119,"answer_id":17036984,"question_id":17019233,"body_markdown":"You should use System property instead of environment variable for this case. Edit your tomcat scripts for JAVA_OPTS and add property like:\r\n\r\n`-DAPP_MASTER_PASSWORD=foo`\r\n\r\nand in your code, write \r\n\r\n`System.getProperty(&quot;APP_MASTER_PASSWORD&quot;);`\r\n\r\nYou can do this in Eclipse as well, instead of JAVA_OPTS, copy the line in VM parameters inside run configurations.","title":"Pass user defined environment variable to tomcat","body":"<p>You should use System property instead of environment variable for this case. Edit your tomcat scripts for JAVA_OPTS and add property like:</p>\n\n<p><code>-DAPP_MASTER_PASSWORD=foo</code></p>\n\n<p>and in your code, write </p>\n\n<p><code>System.getProperty(\"APP_MASTER_PASSWORD\");</code></p>\n\n<p>You can do this in Eclipse as well, instead of JAVA_OPTS, copy the line in VM parameters inside run configurations.</p>\n"},{"tags":[],"owner":{"account_id":2475536,"reputation":119,"user_id":2156260,"display_name":"ObviousChild"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1408378740,"creation_date":1408378740,"answer_id":25367738,"question_id":17019233,"body_markdown":"In case of Windows, if you can&#39;t find setenv.bat, in the 2nd line of catalina.bat (after @echo off) add this:&lt;br&gt;\r\nSET APP_MASTER_PASSWORD=foo\r\n\r\nMay not be the best approach, but works","title":"Pass user defined environment variable to tomcat","body":"<p>In case of Windows, if you can't find setenv.bat, in the 2nd line of catalina.bat (after @echo off) add this:<br>\nSET APP_MASTER_PASSWORD=foo</p>\n\n<p>May not be the best approach, but works</p>\n"},{"tags":[],"owner":{"account_id":8239949,"reputation":509,"user_id":6197872,"display_name":"Renardo"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1477056887,"creation_date":1477056887,"answer_id":40178075,"question_id":17019233,"body_markdown":"If you are starting your Tomcat from Eclipse (&quot;Servers&quot; view) then you should have a &quot;Run/Run Configuration&quot; (menu) entry called &quot;Apache Tomcat / Tomcat …&quot;. When you select this entry in the list of run configurations you get a window with several tabs, one of which is labeled &quot;Environment&quot;. There you can configure environment variables for your Tomcat. Be sure to restart Tomcat afterwards.","title":"Pass user defined environment variable to tomcat","body":"<p>If you are starting your Tomcat from Eclipse (\"Servers\" view) then you should have a \"Run/Run Configuration\" (menu) entry called \"Apache Tomcat / Tomcat …\". When you select this entry in the list of run configurations you get a window with several tabs, one of which is labeled \"Environment\". There you can configure environment variables for your Tomcat. Be sure to restart Tomcat afterwards.</p>\n"},{"tags":[],"owner":{"account_id":219730,"reputation":20703,"user_id":476791,"accept_rate":67,"display_name":"slartidan"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1554194007,"creation_date":1554194007,"answer_id":55470264,"question_id":17019233,"body_markdown":"**Environment variables** can be set, by creating a `setenv.bat` (windows) or `setenv.sh` (unix) file in the `bin` folder of your tomcat installation directory. However, environment variables will not be accessabile from within your code.\r\n\r\n**System properties** are set by `-D` arguments of the java process. You can define java starting arguments in the environment variable `JAVA_OPTS`.\r\n\r\nMy suggestions is the **combination** of these two mechanisms. In your `apache-tomcat-0.0.0\\bin\\setenv.bat` write:\r\n\r\n    set JAVA_OPTS=-DAPP_MASTER_PASSWORD=password1\r\n\r\nand in your Java code write:\r\n\r\n    System.getProperty(&quot;APP_MASTER_PASSWORD&quot;)","title":"Pass user defined environment variable to tomcat","body":"<p><strong>Environment variables</strong> can be set, by creating a <code>setenv.bat</code> (windows) or <code>setenv.sh</code> (unix) file in the <code>bin</code> folder of your tomcat installation directory. However, environment variables will not be accessabile from within your code.</p>\n\n<p><strong>System properties</strong> are set by <code>-D</code> arguments of the java process. You can define java starting arguments in the environment variable <code>JAVA_OPTS</code>.</p>\n\n<p>My suggestions is the <strong>combination</strong> of these two mechanisms. In your <code>apache-tomcat-0.0.0\\bin\\setenv.bat</code> write:</p>\n\n<pre><code>set JAVA_OPTS=-DAPP_MASTER_PASSWORD=password1\n</code></pre>\n\n<p>and in your Java code write:</p>\n\n<pre><code>System.getProperty(\"APP_MASTER_PASSWORD\")\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2841815,"reputation":1495,"user_id":2441277,"display_name":"IamVickyAV"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1563353227,"creation_date":1563353227,"answer_id":57071950,"question_id":17019233,"body_markdown":"For Unix &amp; Mac systems, Go to /bin/setenv.sh inside tomcat folder\r\n\r\nAdd the below line\r\n\r\n`export JAVA_OPTS=&quot;$JAVA_OPTS -DAPP_MASTER_PASSWORD=mypass&quot;`\r\n\r\nNow `System.getProperty(&quot;APP_MASTER_PASSWORD&quot;)` will return `&quot;mypass&quot;`","title":"Pass user defined environment variable to tomcat","body":"<p>For Unix &amp; Mac systems, Go to /bin/setenv.sh inside tomcat folder</p>\n\n<p>Add the below line</p>\n\n<p><code>export JAVA_OPTS=\"$JAVA_OPTS -DAPP_MASTER_PASSWORD=mypass\"</code></p>\n\n<p>Now <code>System.getProperty(\"APP_MASTER_PASSWORD\")</code> will return <code>\"mypass\"</code></p>\n"},{"tags":[],"owner":{"account_id":2021859,"reputation":658,"user_id":1807836,"display_name":"Harish"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1583538151,"creation_date":1583538151,"answer_id":60572984,"question_id":17019233,"body_markdown":"My recipe to fix it:\r\n----------\r\n\r\n1. DID NOT WORK &gt;&gt; Set as system environment variable: I had set the environment variable in my mac `bash_profile`, however, Tomcat did not see that variable.\r\n\r\n2. DID NOT WORK &gt;&gt; setenv.sh: Apache&#39;s recommendation was to have user-defined environment variables in `setenv.sh` file and I did that.\r\n\r\n2. **THIS WORKED!!** &gt;&gt; After a little research into Tomcat startup scripts, I found that environment variables set using `setenv.sh` are lost during the startup.  So I had to edit my `catalina.sh` against the recommendation of Apache and that did the trick. \r\n\r\nAdd your `-DUSER_DEFINED` variable in the run command in `catalina.sh`.\r\n\r\n    eval exec &quot;\\&quot;$_RUNJAVA\\&quot;&quot; &quot;\\&quot;$LOGGING_CONFIG\\&quot;&quot; $LOGGING_MANAGER $JAVA_OPTS $CATALINA_OPTS \\\r\n      -classpath &quot;\\&quot;$CLASSPATH\\&quot;&quot; \\\r\n      -Djava.security.manager \\\r\n      -Djava.security.policy==&quot;\\&quot;$CATALINA_BASE/conf/catalina.policy\\&quot;&quot; \\\r\n      -Dcatalina.base=&quot;\\&quot;$CATALINA_BASE\\&quot;&quot; \\\r\n      -Dcatalina.home=&quot;\\&quot;$CATALINA_HOME\\&quot;&quot; \\\r\n      -Djava.io.tmpdir=&quot;\\&quot;$CATALINA_TMPDIR\\&quot;&quot; \\\r\n      -DUSER_DEFINED=&quot;$USER_DEFINED&quot; \\\r\n      org.apache.catalina.startup.Bootstrap &quot;$@&quot; start\r\n\r\nP.S:  This problem could have been local to my computer.  Others would have different problems. Adding my answer to this post just in case anyone is still facing issues with Tomcat not seeing the environment vars after trying out all recommended approaches.","title":"Pass user defined environment variable to tomcat","body":"<h2>My recipe to fix it:</h2>\n\n<ol>\n<li><p>DID NOT WORK >> Set as system environment variable: I had set the environment variable in my mac <code>bash_profile</code>, however, Tomcat did not see that variable.</p></li>\n<li><p>DID NOT WORK >> setenv.sh: Apache's recommendation was to have user-defined environment variables in <code>setenv.sh</code> file and I did that.</p></li>\n<li><p><strong>THIS WORKED!!</strong> >> After a little research into Tomcat startup scripts, I found that environment variables set using <code>setenv.sh</code> are lost during the startup.  So I had to edit my <code>catalina.sh</code> against the recommendation of Apache and that did the trick. </p></li>\n</ol>\n\n<p>Add your <code>-DUSER_DEFINED</code> variable in the run command in <code>catalina.sh</code>.</p>\n\n<pre><code>eval exec \"\\\"$_RUNJAVA\\\"\" \"\\\"$LOGGING_CONFIG\\\"\" $LOGGING_MANAGER $JAVA_OPTS $CATALINA_OPTS \\\n  -classpath \"\\\"$CLASSPATH\\\"\" \\\n  -Djava.security.manager \\\n  -Djava.security.policy==\"\\\"$CATALINA_BASE/conf/catalina.policy\\\"\" \\\n  -Dcatalina.base=\"\\\"$CATALINA_BASE\\\"\" \\\n  -Dcatalina.home=\"\\\"$CATALINA_HOME\\\"\" \\\n  -Djava.io.tmpdir=\"\\\"$CATALINA_TMPDIR\\\"\" \\\n  -DUSER_DEFINED=\"$USER_DEFINED\" \\\n  org.apache.catalina.startup.Bootstrap \"$@\" start\n</code></pre>\n\n<p>P.S:  This problem could have been local to my computer.  Others would have different problems. Adding my answer to this post just in case anyone is still facing issues with Tomcat not seeing the environment vars after trying out all recommended approaches.</p>\n"},{"tags":[],"owner":{"account_id":16379470,"reputation":11,"user_id":11830854,"display_name":"priyanka singh rao"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675755726,"creation_date":1675755726,"answer_id":75370218,"question_id":17019233,"body_markdown":"I have gone through various solutions but none of them worked. Finally I found the tomcat documentation &lt;https://tomcat.apache.org/tomcat-7.0-doc/RUNNING.txt&gt;.\r\nYou can use setenv.bat or .sh for passing the environment variables to the Tomcat. setenv will not be present by default, it should be created inside CATALINA_BASE/bin.\r\nConfigure your environment variable like below in setenv.bat:\r\n\r\n````set &quot;JRE_HOME=%ProgramFiles%\\Java\\jre6&quot;````\r\n\r\n","title":"Pass user defined environment variable to tomcat","body":"<p>I have gone through various solutions but none of them worked. Finally I found the tomcat documentation <a href=\"https://tomcat.apache.org/tomcat-7.0-doc/RUNNING.txt\" rel=\"nofollow noreferrer\">https://tomcat.apache.org/tomcat-7.0-doc/RUNNING.txt</a>.\nYou can use setenv.bat or .sh for passing the environment variables to the Tomcat. setenv will not be present by default, it should be created inside CATALINA_BASE/bin.\nConfigure your environment variable like below in setenv.bat:</p>\n<p><code>set &quot;JRE_HOME=%ProgramFiles%\\Java\\jre6&quot;</code></p>\n"}],"owner":{"account_id":1240770,"reputation":2087,"user_id":1203425,"accept_rate":54,"display_name":"Naresh J"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":148674,"favorite_count":0,"down_vote_count":0,"up_vote_count":34,"answer_count":9,"score":34,"last_activity_date":1675755726,"creation_date":1370850897,"question_id":17019233,"body_markdown":"I am using the eclipse for web application coding. Within this I passed environment variable like :\r\n\r\n1. Project--&gt; Run as --&gt; Run Configuration. And selected Environment tab.\r\n2. Add new environment variable with name `APP_MASTER_PASSWORD` and its value.\r\n\r\nI can access this value in java code as `System.getenv(&quot;APP_MASTER_PASSWORD&quot;)`.\r\n\r\nBut now I want to pass this environment variable to tomcat and access it in application instead of passing thru eclipse.\r\n\r\nSo how can I pass such variable to tomcat?\r\n\r\nI googled about it. But I didn&#39;t get any solution.","title":"Pass user defined environment variable to tomcat","body":"<p>I am using the eclipse for web application coding. Within this I passed environment variable like :</p>\n<ol>\n<li>Project--&gt; Run as --&gt; Run Configuration. And selected Environment tab.</li>\n<li>Add new environment variable with name <code>APP_MASTER_PASSWORD</code> and its value.</li>\n</ol>\n<p>I can access this value in java code as <code>System.getenv(&quot;APP_MASTER_PASSWORD&quot;)</code>.</p>\n<p>But now I want to pass this environment variable to tomcat and access it in application instead of passing thru eclipse.</p>\n<p>So how can I pass such variable to tomcat?</p>\n<p>I googled about it. But I didn't get any solution.</p>\n"},{"tags":["java","liquibase"],"owner":{"account_id":27722981,"reputation":1,"user_id":21163146,"display_name":"Miha5418"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1675762211,"answer_count":0,"score":0,"last_activity_date":1675755150,"creation_date":1675755150,"question_id":75370115,"body_markdown":"I have two schemas and i need to diff on data this schemas. And generate changelog file.\r\nNow I see schema differences, but I don&#39;t see data differences.\r\n\r\n\r\n\r\n\r\n```\r\nDatabase referenceDatabase = DatabaseFactory.getInstance().findCorrectDatabaseImplementation(new JdbcConnection(referenceConnection));\r\nDatabase targetDatabase = DatabaseFactory.getInstance().findCorrectDatabaseImplementation(new JdbcConnection(targetConnection));\r\n\r\nliquibase = new Liquibase(&quot;resources/asd.xml&quot;, new FileSystemResourceAccessor(), referenceDatabase);\r\nDiffResult diffResult = liquibase.diff(referenceDatabase, targetDatabase, new CompareControl());\r\nnew DiffToChangeLog(diffResult, new DiffOutputControl()).print(System.out);\r\n```\r\n","title":"How see differences data in two schema in liquibase using java?","body":"<p>I have two schemas and i need to diff on data this schemas. And generate changelog file.\nNow I see schema differences, but I don't see data differences.</p>\n<pre><code>Database referenceDatabase = DatabaseFactory.getInstance().findCorrectDatabaseImplementation(new JdbcConnection(referenceConnection));\nDatabase targetDatabase = DatabaseFactory.getInstance().findCorrectDatabaseImplementation(new JdbcConnection(targetConnection));\n\nliquibase = new Liquibase(&quot;resources/asd.xml&quot;, new FileSystemResourceAccessor(), referenceDatabase);\nDiffResult diffResult = liquibase.diff(referenceDatabase, targetDatabase, new CompareControl());\nnew DiffToChangeLog(diffResult, new DiffOutputControl()).print(System.out);\n</code></pre>\n"},{"tags":["java","android","android-recyclerview","runtime-error"],"owner":{"account_id":27618635,"reputation":5,"user_id":21080209,"display_name":"Pavlos Katsioulis"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675754889,"creation_date":1675754889,"question_id":75370083,"body_markdown":"Well i think i got everything as they should be , i don&#39;t really know what i did wrong with the recycler but i still go error like &quot;No adapter attached; skipping layout&quot;\r\n\r\nI NOTICED THAT ON UsersAdapter.java on the line &quot;itemView.setOnClickListener(view -&gt; onUserClickListener.onUserClicked(getAdapterPosition()));&quot;. getadapterposition is deprecated. Would that be the problem ?\r\n\r\nUsersadapter.java\r\n\r\n```\r\npublic class UsersAdapter extends RecyclerView.Adapter&lt;UsersAdapter.UserHolder&gt; {\r\n\r\n    private final ArrayList&lt;User&gt; users;\r\n    private final Context context;\r\n    private final OnUserClickListener onUserClickListener;\r\n\r\n    public UsersAdapter(ArrayList&lt;User&gt; users, Context context, OnUserClickListener onUserClickListener) {\r\n        this.users = users;\r\n        this.context = context;\r\n        this.onUserClickListener = onUserClickListener;\r\n    }\r\n\r\n    interface OnUserClickListener{\r\n        void onUserClicked(int position);\r\n    }\r\n\r\n\r\n\r\n    @NonNull\r\n    @Override\r\n    public UserHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        View view = LayoutInflater.from(context).inflate(R.layout.user_holder,parent, false);\r\n\r\n        return new UserHolder(view);\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull UserHolder holder, int position) {\r\n\r\n        holder.txtUsername.setText(users.get(position).getUsername());\r\n        Glide.with(context).load(users.get(position).getProfile_img()).error(R.drawable.account_img).placeholder(R.drawable.account_img).into(holder.profile_thumbnail);\r\n\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return users.size();\r\n    }\r\n\r\n    class UserHolder extends RecyclerView.ViewHolder{\r\n\r\n        TextView txtUsername ;\r\n        ImageView profile_thumbnail;\r\n        public UserHolder(@NonNull View itemView){\r\n            super(itemView);\r\n\r\n            itemView.setOnClickListener(view -&gt; onUserClickListener.onUserClicked(getAdapterPosition()));\r\n            txtUsername = itemView.findViewById(R.id.txtUsername);\r\n            profile_thumbnail = itemView.findViewById(R.id.profile_thumbnail);\r\n\r\n        }\r\n\r\n    }\r\n\r\n}\r\n```\r\n\r\nuser_holder.xml\r\n\r\n```\r\n&lt;androidx.cardview.widget.CardView\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    app:cardBackgroundColor=&quot;@color/Color_grey&quot;\r\n\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;wrap_content&quot;\r\n    android:layout_marginHorizontal=&quot;10dp&quot;\r\n    android:layout_marginTop=&quot;10dp&quot;\r\n    app:cardCornerRadius=&quot;14dp&quot;\r\n    &gt;\r\n\r\n\r\n\r\n    &lt;LinearLayout\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:padding=&quot;7dp&quot;&gt;\r\n\r\n        &lt;androidx.cardview.widget.CardView\r\n\r\n            android:layout_width=&quot;70dp&quot;\r\n            app:cardCornerRadius=&quot;180dp&quot;\r\n            android:layout_height=&quot;70dp&quot;&gt;\r\n\r\n            &lt;ImageView\r\n                android:id=&quot;@+id/profile_thumbnail&quot;\r\n                android:scaleType=&quot;centerCrop&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;match_parent&quot;\r\n                 /&gt;\r\n\r\n        &lt;/androidx.cardview.widget.CardView&gt;\r\n\r\n        &lt;TextView\r\n            android:id=&quot;@+id/txtUsername&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_marginStart=&quot;20dp&quot;\r\n            android:layout_gravity=&quot;center&quot;\r\n            android:textColor=&quot;@color/white&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            /&gt;\r\n\r\n    &lt;/LinearLayout&gt;\r\n\r\n&lt;/androidx.cardview.widget.CardView&gt;\r\n```\r\nactivity_friends.xml\r\n\r\n```\r\n&lt;androidx.recyclerview.widget.RecyclerView\r\n        android:id=&quot;@+id/recycler&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        app:layoutManager=&quot;androidx.recyclerview.widget.LinearLayoutManager&quot;\r\n        /&gt;\r\n```\r\n\r\nFriendsActivity.java\r\n\r\n\r\n```\r\npublic class FriendsActivity extends AppCompatActivity {\r\n\r\n\r\n    private RecyclerView recyclerView;\r\n    private ArrayList&lt;User&gt; users;\r\n    private ProgressBar progressBar_connectivity;\r\n    private UsersAdapter userAdapter;\r\n    UsersAdapter.OnUserClickListener onUserClickListener;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_friends);\r\n\r\n        progressBar_connectivity = findViewById(R.id.progressBar_connectivity);\r\n        users = new ArrayList&lt;&gt;();\r\n        recyclerView =  findViewById(R.id.recycler);\r\n\r\n        onUserClickListener = position -&gt; Toast.makeText(FriendsActivity.this,&quot;Tapped this User &quot;+users.get(position).getUsername(),Toast.LENGTH_SHORT).show();\r\n\r\n        getUsers();\r\n    }\r\n\r\n\r\n    @Override\r\n    public boolean onCreateOptionsMenu(Menu menu) {\r\n        getMenuInflater().inflate(R.menu.profile_menu,menu);\r\n        return true;\r\n    }\r\n\r\n    @Override\r\n    public boolean onOptionsItemSelected(@NonNull MenuItem item){\r\n        if(item.getItemId() == R.id.menu_item_profile){\r\n            startActivity(new Intent(FriendsActivity.this, Profile.class));\r\n        }\r\n        return super.onOptionsItemSelected(item);\r\n    }\r\n\r\n    private void getUsers(){\r\n\r\n        FirebaseDatabase.getInstance().getReference(&quot;user&quot;).addListenerForSingleValueEvent(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n                for (DataSnapshot dataSnapshot : snapshot.getChildren()){\r\n                    users.add(dataSnapshot.getValue(User.class));\r\n                }\r\n                userAdapter = new UsersAdapter(users, FriendsActivity.this,onUserClickListener);\r\n                recyclerView.setLayoutManager(new LinearLayoutManager(FriendsActivity.this));\r\n                recyclerView.setHasFixedSize(true);\r\n                recyclerView.setAdapter(userAdapter);\r\n                userAdapter.notifyDataSetChanged();\r\n                progressBar_connectivity.setVisibility(View.GONE);\r\n                recyclerView.setVisibility(View.VISIBLE);\r\n            }\r\n\r\n            @Override\r\n            public void onCancelled(@NonNull DatabaseError error) {\r\n\r\n            }\r\n        });\r\n\r\n    }\r\n\r\n\r\n}\r\n```\r\n\r\n\r\n\r\nI did try to add on my code this one , i saw from an other topic-question , but it didn&#39;t help , i did even move the getUsers(); on any other caller except onCreate, still same results.\r\n\r\n```LinearLayoutManager llm = new LinearLayoutManager(this);\r\nllm.setOrientation(LinearLayoutManager.VERTICAL);\r\nlist.setLayoutManager(llm);\r\nlist.setAdapter( adapter );\r\n```","title":"I do not get any results from the recycler on Android studio","body":"<p>Well i think i got everything as they should be , i don't really know what i did wrong with the recycler but i still go error like &quot;No adapter attached; skipping layout&quot;</p>\n<p>I NOTICED THAT ON UsersAdapter.java on the line &quot;itemView.setOnClickListener(view -&gt; onUserClickListener.onUserClicked(getAdapterPosition()));&quot;. getadapterposition is deprecated. Would that be the problem ?</p>\n<p>Usersadapter.java</p>\n<pre><code>public class UsersAdapter extends RecyclerView.Adapter&lt;UsersAdapter.UserHolder&gt; {\n\n    private final ArrayList&lt;User&gt; users;\n    private final Context context;\n    private final OnUserClickListener onUserClickListener;\n\n    public UsersAdapter(ArrayList&lt;User&gt; users, Context context, OnUserClickListener onUserClickListener) {\n        this.users = users;\n        this.context = context;\n        this.onUserClickListener = onUserClickListener;\n    }\n\n    interface OnUserClickListener{\n        void onUserClicked(int position);\n    }\n\n\n\n    @NonNull\n    @Override\n    public UserHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n        View view = LayoutInflater.from(context).inflate(R.layout.user_holder,parent, false);\n\n        return new UserHolder(view);\n    }\n\n    @Override\n    public void onBindViewHolder(@NonNull UserHolder holder, int position) {\n\n        holder.txtUsername.setText(users.get(position).getUsername());\n        Glide.with(context).load(users.get(position).getProfile_img()).error(R.drawable.account_img).placeholder(R.drawable.account_img).into(holder.profile_thumbnail);\n\n    }\n\n    @Override\n    public int getItemCount() {\n        return users.size();\n    }\n\n    class UserHolder extends RecyclerView.ViewHolder{\n\n        TextView txtUsername ;\n        ImageView profile_thumbnail;\n        public UserHolder(@NonNull View itemView){\n            super(itemView);\n\n            itemView.setOnClickListener(view -&gt; onUserClickListener.onUserClicked(getAdapterPosition()));\n            txtUsername = itemView.findViewById(R.id.txtUsername);\n            profile_thumbnail = itemView.findViewById(R.id.profile_thumbnail);\n\n        }\n\n    }\n\n}\n</code></pre>\n<p>user_holder.xml</p>\n<pre><code>&lt;androidx.cardview.widget.CardView\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    app:cardBackgroundColor=&quot;@color/Color_grey&quot;\n\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:layout_marginHorizontal=&quot;10dp&quot;\n    android:layout_marginTop=&quot;10dp&quot;\n    app:cardCornerRadius=&quot;14dp&quot;\n    &gt;\n\n\n\n    &lt;LinearLayout\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:padding=&quot;7dp&quot;&gt;\n\n        &lt;androidx.cardview.widget.CardView\n\n            android:layout_width=&quot;70dp&quot;\n            app:cardCornerRadius=&quot;180dp&quot;\n            android:layout_height=&quot;70dp&quot;&gt;\n\n            &lt;ImageView\n                android:id=&quot;@+id/profile_thumbnail&quot;\n                android:scaleType=&quot;centerCrop&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;match_parent&quot;\n                 /&gt;\n\n        &lt;/androidx.cardview.widget.CardView&gt;\n\n        &lt;TextView\n            android:id=&quot;@+id/txtUsername&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_marginStart=&quot;20dp&quot;\n            android:layout_gravity=&quot;center&quot;\n            android:textColor=&quot;@color/white&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            /&gt;\n\n    &lt;/LinearLayout&gt;\n\n&lt;/androidx.cardview.widget.CardView&gt;\n</code></pre>\n<p>activity_friends.xml</p>\n<pre><code>&lt;androidx.recyclerview.widget.RecyclerView\n        android:id=&quot;@+id/recycler&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        app:layoutManager=&quot;androidx.recyclerview.widget.LinearLayoutManager&quot;\n        /&gt;\n</code></pre>\n<p>FriendsActivity.java</p>\n<pre><code>public class FriendsActivity extends AppCompatActivity {\n\n\n    private RecyclerView recyclerView;\n    private ArrayList&lt;User&gt; users;\n    private ProgressBar progressBar_connectivity;\n    private UsersAdapter userAdapter;\n    UsersAdapter.OnUserClickListener onUserClickListener;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_friends);\n\n        progressBar_connectivity = findViewById(R.id.progressBar_connectivity);\n        users = new ArrayList&lt;&gt;();\n        recyclerView =  findViewById(R.id.recycler);\n\n        onUserClickListener = position -&gt; Toast.makeText(FriendsActivity.this,&quot;Tapped this User &quot;+users.get(position).getUsername(),Toast.LENGTH_SHORT).show();\n\n        getUsers();\n    }\n\n\n    @Override\n    public boolean onCreateOptionsMenu(Menu menu) {\n        getMenuInflater().inflate(R.menu.profile_menu,menu);\n        return true;\n    }\n\n    @Override\n    public boolean onOptionsItemSelected(@NonNull MenuItem item){\n        if(item.getItemId() == R.id.menu_item_profile){\n            startActivity(new Intent(FriendsActivity.this, Profile.class));\n        }\n        return super.onOptionsItemSelected(item);\n    }\n\n    private void getUsers(){\n\n        FirebaseDatabase.getInstance().getReference(&quot;user&quot;).addListenerForSingleValueEvent(new ValueEventListener() {\n            @Override\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\n                for (DataSnapshot dataSnapshot : snapshot.getChildren()){\n                    users.add(dataSnapshot.getValue(User.class));\n                }\n                userAdapter = new UsersAdapter(users, FriendsActivity.this,onUserClickListener);\n                recyclerView.setLayoutManager(new LinearLayoutManager(FriendsActivity.this));\n                recyclerView.setHasFixedSize(true);\n                recyclerView.setAdapter(userAdapter);\n                userAdapter.notifyDataSetChanged();\n                progressBar_connectivity.setVisibility(View.GONE);\n                recyclerView.setVisibility(View.VISIBLE);\n            }\n\n            @Override\n            public void onCancelled(@NonNull DatabaseError error) {\n\n            }\n        });\n\n    }\n\n\n}\n</code></pre>\n<p>I did try to add on my code this one , i saw from an other topic-question , but it didn't help , i did even move the getUsers(); on any other caller except onCreate, still same results.</p>\n<pre><code>llm.setOrientation(LinearLayoutManager.VERTICAL);\nlist.setLayoutManager(llm);\nlist.setAdapter( adapter );\n</code></pre>\n"},{"tags":["java","multipartform-data","resttemplate"],"owner":{"account_id":16437875,"reputation":209,"user_id":14564074,"display_name":"noob234"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":280,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1675754870,"creation_date":1675754870,"question_id":75370080,"body_markdown":"I followed all the steps from here to upload a multipart file: https://www.baeldung.com/spring-rest-template-multipart-upload.\r\n\r\nThe issue is that I get a 500 HTTP code, **No HttpMessageConverter for org.springframework.http.HttpEntity and content type &quot;multipart/form-data&quot;**.\r\n\r\nI searched about the error and it was suggested to add an additional converter to handle Multipart file upload. But I think it should work out of the box with built-in instruments.\r\n\r\nHere is the upload file method:\r\n\r\n```\r\n    public String uploadFile(MultipartFile file) {\r\n        MultiValueMap&lt;String, Object&gt; body = new LinkedMultiValueMap&lt;&gt;();\r\n        body.add(file.getName(), file);\r\n        HttpHeaders httpHeaders = new HttpHeaders();\r\n        HttpEntity&lt;MultiValueMap&lt;String, Object&gt;&gt; requestEntity = new HttpEntity&lt;&gt;(body, httpHeaders);\r\n        return super.httpClient.doPostRequest(httpHeaders, myEndpoint, requestEntity, String.class, MediaType.MULTIPART_FORM_DATA);\r\n    }\r\n```\r\n\r\nIn doPostRequest I do the following - set the headers content type, create an entity and call the exchange method from restTemplate, returning the body:\r\n\r\n```\r\n        httpHeaders.setContentType(contentType);\r\n        HttpEntity&lt;B&gt; entity = new HttpEntity&lt;&gt;(body, httpHeaders);\r\n        ResponseEntity&lt;T&gt; result = restTemplate.exchange(url, HttpMethod.POST, entity, responseType);\r\n        return result.getBody();\r\n```","title":"No HttpMessageConverter for org.springframework.http.HttpEntity and content type &quot;multipart/form-data&quot; error when uploading MultipartFile","body":"<p>I followed all the steps from here to upload a multipart file: <a href=\"https://www.baeldung.com/spring-rest-template-multipart-upload\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-rest-template-multipart-upload</a>.</p>\n<p>The issue is that I get a 500 HTTP code, <strong>No HttpMessageConverter for org.springframework.http.HttpEntity and content type &quot;multipart/form-data&quot;</strong>.</p>\n<p>I searched about the error and it was suggested to add an additional converter to handle Multipart file upload. But I think it should work out of the box with built-in instruments.</p>\n<p>Here is the upload file method:</p>\n<pre><code>    public String uploadFile(MultipartFile file) {\n        MultiValueMap&lt;String, Object&gt; body = new LinkedMultiValueMap&lt;&gt;();\n        body.add(file.getName(), file);\n        HttpHeaders httpHeaders = new HttpHeaders();\n        HttpEntity&lt;MultiValueMap&lt;String, Object&gt;&gt; requestEntity = new HttpEntity&lt;&gt;(body, httpHeaders);\n        return super.httpClient.doPostRequest(httpHeaders, myEndpoint, requestEntity, String.class, MediaType.MULTIPART_FORM_DATA);\n    }\n</code></pre>\n<p>In doPostRequest I do the following - set the headers content type, create an entity and call the exchange method from restTemplate, returning the body:</p>\n<pre><code>        httpHeaders.setContentType(contentType);\n        HttpEntity&lt;B&gt; entity = new HttpEntity&lt;&gt;(body, httpHeaders);\n        ResponseEntity&lt;T&gt; result = restTemplate.exchange(url, HttpMethod.POST, entity, responseType);\n        return result.getBody();\n</code></pre>\n"},{"tags":["java","android","android-studio","kotlin"],"comments":[{"owner":{"account_id":39846,"reputation":991133,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":2,"creation_date":1675689421,"post_id":75361548,"comment_id":132976806,"body_markdown":"If you just created the project, the simplest solution would be to delete the old project and create it again, this time choosing Java.","body":"If you just created the project, the simplest solution would be to delete the old project and create it again, this time choosing Java."},{"owner":{"account_id":25093326,"reputation":252,"user_id":18944758,"display_name":"Yogesh Thambidurai"},"score":0,"creation_date":1675689587,"post_id":75361548,"comment_id":132976871,"body_markdown":"going along with what @CommonsWare said, just make it again in Java. Decompiling the kotlin to java will just give you a bunch of unreadable decompiled code that will be hard to work with.","body":"going along with what @CommonsWare said, just make it again in Java. Decompiling the kotlin to java will just give you a bunch of unreadable decompiled code that will be hard to work with."},{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1675700232,"post_id":75361548,"comment_id":132980590,"body_markdown":"Converting Kotlin to Java is much harder than the other way around, and not well supported.","body":"Converting Kotlin to Java is much harder than the other way around, and not well supported."},{"owner":{"account_id":22244994,"reputation":3,"user_id":16478829,"display_name":"someone"},"score":0,"creation_date":1675712640,"post_id":75361548,"comment_id":132984154,"body_markdown":"But imagine how unfortunate it would be for someone who has a big project in Kotlin but because those functions are unavailable they are forced to translate all that code by hand  lol","body":"But imagine how unfortunate it would be for someone who has a big project in Kotlin but because those functions are unavailable they are forced to translate all that code by hand  lol"}],"answers":[{"tags":[],"owner":{"account_id":1439302,"reputation":862,"user_id":1359924,"accept_rate":64,"display_name":"drusolis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1675754799,"creation_date":1675754799,"answer_id":75370072,"question_id":75361548,"body_markdown":"There&#39;s definitely some IDEs (like IntelliJ) that have built-in tools that might be able to decompile Kotlin code into Java, but they&#39;re probably likely to produce some pretty verbose Java code than what you might write by hand.\r\n\r\nSorry to say that depending on how complicated your initial code is, you may be better off trying to translate the Kotlin code to Java by hand. Generally, Java has more boilerplate and redundancy in the language than Kotlin.\r\n\r\nFor example, Kotlin will let you do something like:\r\n\r\n```\r\nval myString = &quot;yo&quot;\r\nval myInt = 1\r\n```\r\nWhere Java will want you to explicitly type variables like\r\n\r\n```\r\nString myString = &quot;yo&quot;\r\nint myInt = 1\r\n```\r\n\r\nFunctions also differ.\r\nKotlin uses `fun` to define functions. It has the name of the parameter first followed by the type and then has the return type between the method params and the body.\r\n```\r\n// functions that return void can omit the void keyword\r\nfun myVoidFunction() {\r\n    println(&quot;oh hello!&quot;)\r\n}\r\n\r\nfun myFunctionReturnsAString(someName: String): String {\r\n    return (&quot;oh hi, $someName!&quot;)\r\n}\r\n```\r\n\r\nJava has the return type at the start of the function and then uses the format of `Type parameter` (reverse of Kotlin)\r\n```\r\npublic void myVoidFunction() {\r\n    System.out.println(&quot;oh hello!&quot;);\r\n}\r\n\r\npublic String myFunctionReturnsAString(String param) {\r\n    return (param);\r\n}\r\n```\r\n\r\nIf your code is pretty simple, that might be enough to get you unstuck. If it&#39;s more complicated, you might try doing the decompile to Java from something like the community version of IntelliJ and then hand clean it up afterwards. This page has a section describing how to use IntelliJ to go from Kotlin -&gt; Java \r\n\r\nhttps://www.baeldung.com/kotlin/convert-to-java\r\n\r\nDefinitely don&#39;t trust it to do everything cleanly though. You&#39;ll likely still need to go through what it creates in Java and fix up code and make it production ready. Good luck!","title":"Kotlin to Java conversion not working in Android studio Electric Eel. Is there another method to convert?","body":"<p>There's definitely some IDEs (like IntelliJ) that have built-in tools that might be able to decompile Kotlin code into Java, but they're probably likely to produce some pretty verbose Java code than what you might write by hand.</p>\n<p>Sorry to say that depending on how complicated your initial code is, you may be better off trying to translate the Kotlin code to Java by hand. Generally, Java has more boilerplate and redundancy in the language than Kotlin.</p>\n<p>For example, Kotlin will let you do something like:</p>\n<pre><code>val myString = &quot;yo&quot;\nval myInt = 1\n</code></pre>\n<p>Where Java will want you to explicitly type variables like</p>\n<pre><code>String myString = &quot;yo&quot;\nint myInt = 1\n</code></pre>\n<p>Functions also differ.\nKotlin uses <code>fun</code> to define functions. It has the name of the parameter first followed by the type and then has the return type between the method params and the body.</p>\n<pre><code>// functions that return void can omit the void keyword\nfun myVoidFunction() {\n    println(&quot;oh hello!&quot;)\n}\n\nfun myFunctionReturnsAString(someName: String): String {\n    return (&quot;oh hi, $someName!&quot;)\n}\n</code></pre>\n<p>Java has the return type at the start of the function and then uses the format of <code>Type parameter</code> (reverse of Kotlin)</p>\n<pre><code>public void myVoidFunction() {\n    System.out.println(&quot;oh hello!&quot;);\n}\n\npublic String myFunctionReturnsAString(String param) {\n    return (param);\n}\n</code></pre>\n<p>If your code is pretty simple, that might be enough to get you unstuck. If it's more complicated, you might try doing the decompile to Java from something like the community version of IntelliJ and then hand clean it up afterwards. This page has a section describing how to use IntelliJ to go from Kotlin -&gt; Java</p>\n<p><a href=\"https://www.baeldung.com/kotlin/convert-to-java\" rel=\"nofollow noreferrer\">https://www.baeldung.com/kotlin/convert-to-java</a></p>\n<p>Definitely don't trust it to do everything cleanly though. You'll likely still need to go through what it creates in Java and fix up code and make it production ready. Good luck!</p>\n"}],"owner":{"account_id":22244994,"reputation":3,"user_id":16478829,"display_name":"someone"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":111,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75370072,"answer_count":1,"score":0,"last_activity_date":1675754799,"creation_date":1675687918,"question_id":75361548,"body_markdown":"[conversion functions are unavailable](https://i.stack.imgur.com/ME2hK.png)\r\n\r\n\r\nI accidentally created a project in Kotlin, while creating an activity I noticed that my class is not in Java, I tried to use conversion techniques but none of them are available(show Kotlin bytecode &amp; decompile to Java. \r\nIs there another way to convert the project to Java?","title":"Kotlin to Java conversion not working in Android studio Electric Eel. Is there another method to convert?","body":"<p><a href=\"https://i.stack.imgur.com/ME2hK.png\" rel=\"nofollow noreferrer\">conversion functions are unavailable</a></p>\n<p>I accidentally created a project in Kotlin, while creating an activity I noticed that my class is not in Java, I tried to use conversion techniques but none of them are available(show Kotlin bytecode &amp; decompile to Java.\nIs there another way to convert the project to Java?</p>\n"},{"tags":["java","sorting","comparator"],"answers":[{"tags":[],"owner":{"account_id":25350400,"reputation":31,"user_id":19167364,"display_name":"Shivam Taneja"},"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1675754237,"creation_date":1675157372,"answer_id":75295071,"question_id":75295056,"body_markdown":"One way to the following using comparator would be:\r\n```Java\r\nArrays.sort(arr, (a,b) -&gt; a[0] != b[0] ? a[0]-b[0] : a[1]-b[1]);\r\n```\r\nOr to simplify, if `arr[row1][col0]` **is not equal** to `arr[row2][col0]`, then sort it by `col0` and **if they are equal** then sort it by `col2`.","title":"Sort a 2-D array in Java based on one parameter first and then based on the second. [JAVA]","body":"<p>One way to the following using comparator would be:</p>\n<pre><code>Arrays.sort(arr, (a,b) -&gt; a[0] != b[0] ? a[0]-b[0] : a[1]-b[1]);\n</code></pre>\n<p>Or to simplify, if <code>arr[row1][col0]</code> <strong>is not equal</strong> to <code>arr[row2][col0]</code>, then sort it by <code>col0</code> and <strong>if they are equal</strong> then sort it by <code>col2</code>.</p>\n"},{"tags":[],"owner":{"account_id":10299692,"reputation":5719,"user_id":7598774,"accept_rate":75,"display_name":"Shawn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675160208,"creation_date":1675160208,"answer_id":75295628,"question_id":75295056,"body_markdown":"Try this, using comparator chaining:\r\n\r\n    Arrays.sort(arr, Comparator.&lt;int[]&gt;comparingInt(arr1 -&gt; arr1[0]).thenComparing(arr1 -&gt; arr1[1]));\r\n    System.out.println(Arrays.deepToString(arr));","title":"Sort a 2-D array in Java based on one parameter first and then based on the second. [JAVA]","body":"<p>Try this, using comparator chaining:</p>\n<pre><code>Arrays.sort(arr, Comparator.&lt;int[]&gt;comparingInt(arr1 -&gt; arr1[0]).thenComparing(arr1 -&gt; arr1[1]));\nSystem.out.println(Arrays.deepToString(arr));\n</code></pre>\n"}],"owner":{"account_id":25350400,"reputation":31,"user_id":19167364,"display_name":"Shivam Taneja"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":75295071,"answer_count":2,"score":0,"last_activity_date":1675754237,"creation_date":1675157310,"question_id":75295056,"body_markdown":"Let&#39;s say I have a 2-D array `arr[][]`:\r\n\r\n```\r\ncol1 col2\r\n[1, 7]\r\n[2, 6]\r\n[3, 9]\r\n[4, 1]\r\n[5, 3]\r\n[6, 7]\r\n```\r\n\r\nand we have to sort it based on `col1` 1st and then based on `col2`\r\n\r\nWhat is the way to do this in Java? Particularly how can we use comparator to achieve the same?","title":"Sort a 2-D array in Java based on one parameter first and then based on the second. [JAVA]","body":"<p>Let's say I have a 2-D array <code>arr[][]</code>:</p>\n<pre><code>col1 col2\n[1, 7]\n[2, 6]\n[3, 9]\n[4, 1]\n[5, 3]\n[6, 7]\n</code></pre>\n<p>and we have to sort it based on <code>col1</code> 1st and then based on <code>col2</code></p>\n<p>What is the way to do this in Java? Particularly how can we use comparator to achieve the same?</p>\n"},{"tags":["java","networking","ssh","jsch"],"answers":[{"tags":[],"owner":{"account_id":453710,"reputation":192093,"user_id":850848,"accept_rate":80,"display_name":"Martin Prikryl"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1675616024,"creation_date":1675616024,"answer_id":75353938,"question_id":75352455,"body_markdown":"The SSH identification string is sent in *plain text* right after opening the connection.\r\n\r\nSo you do not need an SSH library to obtain the string.\r\n\r\nYou can do with a simple code like shown here:\r\nhttps://stackoverflow.com/q/16608878/850848\r\n\r\n---\r\n\r\nOr just try to login using dummy credentials with JSch and then read `Session.getServerVersion`.\r\n\r\nYou do not even have to try to login. You can abort the connection right at the host key check:\r\n\r\n```\r\nconfig.put(&quot;StrictHostKeyChecking&quot;, &quot;yes&quot;);\r\n```","title":"How to get server&#39;s SSH version without authenticating in JSch?","body":"<p>The SSH identification string is sent in <em>plain text</em> right after opening the connection.</p>\n<p>So you do not need an SSH library to obtain the string.</p>\n<p>You can do with a simple code like shown here:\n<a href=\"https://stackoverflow.com/q/16608878/850848\">Read Data from a Java Socket</a></p>\n<hr />\n<p>Or just try to login using dummy credentials with JSch and then read <code>Session.getServerVersion</code>.</p>\n<p>You do not even have to try to login. You can abort the connection right at the host key check:</p>\n<pre><code>config.put(&quot;StrictHostKeyChecking&quot;, &quot;yes&quot;);\n</code></pre>\n"}],"owner":{"account_id":25435838,"reputation":316,"user_id":19239577,"display_name":"greenButMellow"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":234,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75353938,"answer_count":1,"score":1,"last_activity_date":1675754019,"creation_date":1675602218,"question_id":75352455,"body_markdown":"I tried to use JSch:\r\n\r\n```java\r\n@Test\r\npublic void test() throws Exception {\r\n    var session = new JSch().getSession(&quot;host&quot;);\r\n    java.util.Properties config = new java.util.Properties();\r\n    config.put(&quot;StrictHostKeyChecking&quot;, &quot;no&quot;);\r\n    session.setConfig(config);\r\n    var version = session.getServerVersion();\r\n    System.out.println(&quot;version = &quot; + version);\r\n}\r\n```\r\n\r\nbut I&#39;m getting \r\n\r\n&gt; java.lang.NullPointerException: Cannot read the array length because &quot;str&quot; is null\r\n\r\nIt seems that this implementation requires you to connect and authenticate.\r\n\r\nHow can I get this information with Java, without the need to authenticate?\r\n\r\n----\r\n\r\nThis Python code works for me on a server that requires authentication yet I didn&#39;t have to authenticate in order to get the remote version.\r\n\r\n```python3\r\nimport paramiko\r\n\r\nssh = paramiko.Transport((&quot;host&quot;, 22))\r\nssh.start_client()\r\nprint(ssh.remote_version)\r\nssh.close()\r\n```\r\n","title":"How to get server&#39;s SSH version without authenticating in JSch?","body":"<p>I tried to use JSch:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Test\npublic void test() throws Exception {\n    var session = new JSch().getSession(&quot;host&quot;);\n    java.util.Properties config = new java.util.Properties();\n    config.put(&quot;StrictHostKeyChecking&quot;, &quot;no&quot;);\n    session.setConfig(config);\n    var version = session.getServerVersion();\n    System.out.println(&quot;version = &quot; + version);\n}\n</code></pre>\n<p>but I'm getting</p>\n<blockquote>\n<p>java.lang.NullPointerException: Cannot read the array length because &quot;str&quot; is null</p>\n</blockquote>\n<p>It seems that this implementation requires you to connect and authenticate.</p>\n<p>How can I get this information with Java, without the need to authenticate?</p>\n<hr />\n<p>This Python code works for me on a server that requires authentication yet I didn't have to authenticate in order to get the remote version.</p>\n<pre class=\"lang-py prettyprint-override\"><code>import paramiko\n\nssh = paramiko.Transport((&quot;host&quot;, 22))\nssh.start_client()\nprint(ssh.remote_version)\nssh.close()\n</code></pre>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":0,"creation_date":1675751140,"post_id":75369534,"comment_id":132990710,"body_markdown":"Does this answer your question? [How to pass a function as a parameter in Java?](https://stackoverflow.com/questions/4685563/how-to-pass-a-function-as-a-parameter-in-java)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/4685563/how-to-pass-a-function-as-a-parameter-in-java\">How to pass a function as a parameter in Java?</a>"},{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":0,"creation_date":1675751275,"post_id":75369534,"comment_id":132990725,"body_markdown":"Though, what you want to do - passing `doWork(), workInProgress() etc etc` sounds like you want the strategy pattern https://stackoverflow.com/a/10137808/16034206","body":"Though, what you want to do - passing <code>doWork(), workInProgress() etc etc</code> sounds like you want the strategy pattern <a href=\"https://stackoverflow.com/a/10137808/16034206\">stackoverflow.com/a/10137808/16034206</a>"}],"answers":[{"tags":[],"owner":{"account_id":19726215,"reputation":538,"user_id":14442758,"display_name":"Z-100"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1675753472,"creation_date":1675753472,"answer_id":75369874,"question_id":75369534,"body_markdown":"Not a method directly, but you could make use of a `FunctionalInterface`, or a callback:\r\n\r\nInfo: A functional interface is an interface with just **one** method declaration and nothing more -&gt; Thus aiming to be &quot;used as a lambda&quot;.\r\n\r\n## Custom implementation\r\n\r\nCreate a functional interface\r\n\r\n```\r\n@FunctionalInterface // Annotation not really needed\r\npublic interface Callback {\r\n    void handle(String str);\r\n}\r\n```\r\n\r\nCreate a method which uses this Interface as a parameter\r\n\r\n```\r\npublic void message(String msg, String title, Callback callback) {\r\n    callback.handle(msg);\r\n}\r\n```\r\n\r\nUse the method as follows\r\n\r\n```\r\n// &quot;Normal lambda&quot; - Prints msg: (&quot;Hello&quot;)\r\nmessage(&quot;Hello&quot;, &quot;World&quot;, str -&gt; {\r\n    System.out.println(str);\r\n});\r\n\r\n// Method reference, for shorter syntax: Does the same thing\r\nmessage(&quot;Hello&quot;, &quot;World&quot;, System.out::println);\r\n```\r\n\r\n## Existing implementation\r\n\r\nInstead of creating a custom Callback, you can just use any of the functional interfaces Java provides out of the box:\r\n\r\nE.g. `Function`, `BiFunction`, `Consumer`, ...\r\n\r\nFor further explanation on how to use a Functional interface, I highly recommend [this article](https://www.baeldung.com/java-8-functional-interfaces) by Baeldung. :)\r\n\r\nHope this helped!","title":"Is there is any way to pass method inside a method as parameter","body":"<p>Not a method directly, but you could make use of a <code>FunctionalInterface</code>, or a callback:</p>\n<p>Info: A functional interface is an interface with just <strong>one</strong> method declaration and nothing more -&gt; Thus aiming to be &quot;used as a lambda&quot;.</p>\n<h2>Custom implementation</h2>\n<p>Create a functional interface</p>\n<pre><code>@FunctionalInterface // Annotation not really needed\npublic interface Callback {\n    void handle(String str);\n}\n</code></pre>\n<p>Create a method which uses this Interface as a parameter</p>\n<pre><code>public void message(String msg, String title, Callback callback) {\n    callback.handle(msg);\n}\n</code></pre>\n<p>Use the method as follows</p>\n<pre><code>// &quot;Normal lambda&quot; - Prints msg: (&quot;Hello&quot;)\nmessage(&quot;Hello&quot;, &quot;World&quot;, str -&gt; {\n    System.out.println(str);\n});\n\n// Method reference, for shorter syntax: Does the same thing\nmessage(&quot;Hello&quot;, &quot;World&quot;, System.out::println);\n</code></pre>\n<h2>Existing implementation</h2>\n<p>Instead of creating a custom Callback, you can just use any of the functional interfaces Java provides out of the box:</p>\n<p>E.g. <code>Function</code>, <code>BiFunction</code>, <code>Consumer</code>, ...</p>\n<p>For further explanation on how to use a Functional interface, I highly recommend <a href=\"https://www.baeldung.com/java-8-functional-interfaces\" rel=\"nofollow noreferrer\">this article</a> by Baeldung. :)</p>\n<p>Hope this helped!</p>\n"}],"owner":{"account_id":26588152,"reputation":11,"user_id":20211774,"display_name":"Vikas Mourya"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"closed_date":1675753610,"accepted_answer_id":75369874,"answer_count":1,"score":-1,"last_activity_date":1675753472,"creation_date":1675750727,"question_id":75369534,"body_markdown":"I have an alert message and I need to call this from different part of my code. Base on user interaction I will show this alert and pass some parameter based on this parameter my alert should behave\r\nfor eg.\r\n\r\n```\r\nprivate void alert(String message, String title, Method methodReference) {\r\n        AlertDialog.Builder builder = new AlertDialog.Builder(getActivity());\r\n        builder.setMessage(message);\r\n        builder.setTitle(title);\r\n        builder.setCancelable(false);\r\n        builder.setPositiveButton(&quot;Yes&quot;, (DialogInterface.OnClickListener) (dialog, which) -&gt; {\r\n           methodReference();    // I want to replace methodReference with that method that will pass while calling alert\r\n        });\r\n\r\n        builder.setNegativeButton(&quot;No&quot;, (DialogInterface.OnClickListener) (dialog, which) -&gt; {\r\n            dialog.cancel();\r\n        });\r\n        AlertDialog alertDialog = builder.create();\r\n        alertDialog.show();\r\n    }\r\n```\r\n\r\nI want to replace methodReference with that method that will pass while calling alert  \r\n\r\neg.\r\n`\r\nalert(&quot;message&quot;, &quot;title&quot;, doWork()); \r\n`\r\nor\r\n\r\n`alert(&quot;message&quot;, &quot;title&quot;, workInProgress());  `","title":"Is there is any way to pass method inside a method as parameter","body":"<p>I have an alert message and I need to call this from different part of my code. Base on user interaction I will show this alert and pass some parameter based on this parameter my alert should behave\nfor eg.</p>\n<pre><code>private void alert(String message, String title, Method methodReference) {\n        AlertDialog.Builder builder = new AlertDialog.Builder(getActivity());\n        builder.setMessage(message);\n        builder.setTitle(title);\n        builder.setCancelable(false);\n        builder.setPositiveButton(&quot;Yes&quot;, (DialogInterface.OnClickListener) (dialog, which) -&gt; {\n           methodReference();    // I want to replace methodReference with that method that will pass while calling alert\n        });\n\n        builder.setNegativeButton(&quot;No&quot;, (DialogInterface.OnClickListener) (dialog, which) -&gt; {\n            dialog.cancel();\n        });\n        AlertDialog alertDialog = builder.create();\n        alertDialog.show();\n    }\n</code></pre>\n<p>I want to replace methodReference with that method that will pass while calling alert</p>\n<p>eg.\n<code>alert(&quot;message&quot;, &quot;title&quot;, doWork()); </code>\nor</p>\n<p><code>alert(&quot;message&quot;, &quot;title&quot;, workInProgress());  </code></p>\n"},{"tags":["java","log4j2","classloader"],"answers":[{"tags":[],"owner":{"account_id":27722845,"reputation":1,"user_id":21163030,"display_name":"guest"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675753283,"creation_date":1675753234,"answer_id":75369833,"question_id":73777804,"body_markdown":"Try using `Configurator.reconfigure(URI)`","title":"log4j2 configuration not being applied when custom class loading","body":"<p>Try using <code>Configurator.reconfigure(URI)</code></p>\n"}],"owner":{"account_id":4646767,"reputation":17781,"user_id":3764804,"accept_rate":59,"display_name":"BullyWiiPlaza"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1675753283,"creation_date":1663612123,"question_id":73777804,"body_markdown":"I have a Java application (= launcher) which loads classes via a custom [ClassLoader][1]. In my launched application as well as in the launcher I&#39;m using [`log4j2`][2] with a custom XML configuration.\r\n\r\nIn the launcher:\r\n\r\n    private static final Logger LOGGER;\r\n    \r\n    static\r\n    {\r\n    \tloadLog4jConfiguration(ApplicationLauncherClient.class);\r\n    \tLOGGER = getLogger();\r\n    }\r\n\r\n`loadLog4jConfiguration()` is implemented as follows:\r\n\r\n    public static void loadLog4jConfiguration(final Class&lt;?&gt; clazz)\r\n    {\r\n    \ttry\r\n    \t{\r\n    \t\tString resourceName = &quot;launcher-log4j2.xml&quot;;\r\n    \t\ttry (InputStream inputStream = clazz.getResourceAsStream(resourceName))\r\n    \t\t{\r\n    \t\t\tif (inputStream == null)\r\n    \t\t\t{\r\n    \t\t\t\tSystem.err.println(&quot;Cannot find resource: &quot; + resourceName);\r\n    \t\t\t} else\r\n    \t\t\t{\r\n    \t\t\t\tConfigurationSource configurationSource = new ConfigurationSource(inputStream);\r\n    \t\t\t\tConfigurator.initialize(null, configurationSource);\r\n    \t\t\t}\r\n    \t\t}\r\n    \t} catch (final Exception exception)\r\n    \t{\r\n    \t\texception.printStackTrace();\r\n    \t}\r\n    }\r\n\r\nIn the launched application I do the same setup for `log4j2` but I load a \\*different\\* `log4j2.xml` file from the classpath (e.g. [to provide `JTextArea` appending of log messages][3]).\r\n\r\nUnfortunately, the `JTextArea` logs do not work when custom classloading. They work however when I launch the application normally (e.g. via IDE). I assume there is some sort of clash between `log4j2` instances. The launcher and the launched application hold the `log4j2` maven dependency. How would I resolve this cleanly? I do not want to remove `log4j2` from the launcher entirely. I thought about maybe always passing a class instance into the `getLogger()` constructor on the launched application but that didn&#39;t help either. I printed out the `ClassLoader` of the `LOGGER` instance on the launched application and it said `sun.misc.Launcher$AppClassLoader` in both cases (when custom classloading and when launching it normally via the IDE) so now I&#39;m not sure what else to try.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/lang/ClassLoader.html\r\n  [2]: https://logging.apache.org/log4j\r\n  [3]: https://stackoverflow.com/questions/24005748","title":"log4j2 configuration not being applied when custom class loading","body":"<p>I have a Java application (= launcher) which loads classes via a custom <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/ClassLoader.html\" rel=\"nofollow noreferrer\">ClassLoader</a>. In my launched application as well as in the launcher I'm using <a href=\"https://logging.apache.org/log4j\" rel=\"nofollow noreferrer\"><code>log4j2</code></a> with a custom XML configuration.</p>\n<p>In the launcher:</p>\n<pre><code>private static final Logger LOGGER;\n\nstatic\n{\n    loadLog4jConfiguration(ApplicationLauncherClient.class);\n    LOGGER = getLogger();\n}\n</code></pre>\n<p><code>loadLog4jConfiguration()</code> is implemented as follows:</p>\n<pre><code>public static void loadLog4jConfiguration(final Class&lt;?&gt; clazz)\n{\n    try\n    {\n        String resourceName = &quot;launcher-log4j2.xml&quot;;\n        try (InputStream inputStream = clazz.getResourceAsStream(resourceName))\n        {\n            if (inputStream == null)\n            {\n                System.err.println(&quot;Cannot find resource: &quot; + resourceName);\n            } else\n            {\n                ConfigurationSource configurationSource = new ConfigurationSource(inputStream);\n                Configurator.initialize(null, configurationSource);\n            }\n        }\n    } catch (final Exception exception)\n    {\n        exception.printStackTrace();\n    }\n}\n</code></pre>\n<p>In the launched application I do the same setup for <code>log4j2</code> but I load a *different* <code>log4j2.xml</code> file from the classpath (e.g. <a href=\"https://stackoverflow.com/questions/24005748\">to provide <code>JTextArea</code> appending of log messages</a>).</p>\n<p>Unfortunately, the <code>JTextArea</code> logs do not work when custom classloading. They work however when I launch the application normally (e.g. via IDE). I assume there is some sort of clash between <code>log4j2</code> instances. The launcher and the launched application hold the <code>log4j2</code> maven dependency. How would I resolve this cleanly? I do not want to remove <code>log4j2</code> from the launcher entirely. I thought about maybe always passing a class instance into the <code>getLogger()</code> constructor on the launched application but that didn't help either. I printed out the <code>ClassLoader</code> of the <code>LOGGER</code> instance on the launched application and it said <code>sun.misc.Launcher$AppClassLoader</code> in both cases (when custom classloading and when launching it normally via the IDE) so now I'm not sure what else to try.</p>\n"},{"tags":["java","spring","spring-boot","unit-testing","spring-mvc-test"],"comments":[{"owner":{"account_id":10693447,"reputation":878,"user_id":7871511,"display_name":"Rohit Agarwal"},"score":0,"creation_date":1670352350,"post_id":74707199,"comment_id":131855416,"body_markdown":"Can you please share PaymentController class? In logs I can see demoApiController bean creation is failing but how both controllers are related?","body":"Can you please share PaymentController class? In logs I can see demoApiController bean creation is failing but how both controllers are related?"},{"owner":{"account_id":1310600,"reputation":3828,"user_id":1258669,"accept_rate":73,"display_name":"OTUser"},"score":0,"creation_date":1670354384,"post_id":74707199,"comment_id":131856045,"body_markdown":"@RohitAgarwal PaymentController and demoApiController are not related but The `@WebMvcTest` annotation is used to unit test the Spring MVC components (`@Controller`,  `@ControllerAdvice`). so it&#39;ll load all the @Controller classes as per my understanding","body":"@RohitAgarwal PaymentController and demoApiController are not related but The <code>@WebMvcTest</code> annotation is used to unit test the Spring MVC components (<code>@Controller</code>,  <code>@ControllerAdvice</code>). so it&#39;ll load all the @Controller classes as per my understanding"},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1670837558,"post_id":74707199,"comment_id":131957404,"body_markdown":"[`@WebMvcTest` is only going to scan the controller you&#39;ve defined and the MVC infrastructure](https://stackoverflow.com/questions/39865596/difference-between-using-mockmvc-with-springboottest-and-using-webmvctest). What does `PaymentController` look like?","body":"<a href=\"https://stackoverflow.com/questions/39865596/difference-between-using-mockmvc-with-springboottest-and-using-webmvctest\"><code>@WebMvcTest</code> is only going to scan the controller you&#39;ve defined and the MVC infrastructure</a>. What does <code>PaymentController</code> look like?"},{"owner":{"account_id":4912982,"reputation":14853,"user_id":3957754,"accept_rate":50,"display_name":"JRichardsz"},"score":0,"creation_date":1670906831,"post_id":74707199,"comment_id":131975974,"body_markdown":"Try with shell and share the result. Does it just fail in tests? Share a reproducible sample using github","body":"Try with shell and share the result. Does it just fail in tests? Share a reproducible sample using github"}],"answers":[{"tags":[],"owner":{"account_id":27713528,"reputation":1,"user_id":21155722,"display_name":"Kesling"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675752448,"creation_date":1675752448,"answer_id":75369732,"question_id":74707199,"body_markdown":"If you use mybatis(or mybatis-plus), you need to add mybatis-boot-starter-test(or mybatis-plus-boot-starter-test) dependency to you pom.xml, and use @AutoConfigureMybatis(or @AutoConfigureMybatisPlus) annotation with @WebMvcTest.","title":"Springboot 2.7 : Property &#39;sqlSessionFactory&#39; or &#39;sqlSessionTemplate&#39; are required in @WebMvcTest for spring boot with mybatis","body":"<p>If you use mybatis(or mybatis-plus), you need to add mybatis-boot-starter-test(or mybatis-plus-boot-starter-test) dependency to you pom.xml, and use @AutoConfigureMybatis(or @AutoConfigureMybatisPlus) annotation with @WebMvcTest.</p>\n"}],"owner":{"account_id":1310600,"reputation":3828,"user_id":1258669,"accept_rate":73,"display_name":"OTUser"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1664,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1675752448,"creation_date":1670349910,"question_id":74707199,"body_markdown":"Below is my PaymentController Unittest\r\n\r\n\t@WebMvcTest(PaymentController.class)\r\n\tpublic class PaymentControllerTest {\r\n\t\t@MockBean\r\n\t\tPaymentService paymentService;\r\n\r\n\t\t@Autowired\r\n\t\tMockMvc mockMvc;\r\n\r\n\t\t@Test\r\n\t\tpublic void testFindAllPaymentDtoAndExpect200() throws Exception {\r\n\t\t\t mockMvc.perform(MockMvcRequestBuilders\r\n\t\t\t\t\t\t\t.get(&quot;/payment/list&quot;))\r\n\t\t\t\t\t\t\t.andExpect(status().isOk());\r\n\t\t}\r\n\t\t\r\nI&#39;m seeing the below stacktrace when I run the above unit test and am wondering why the @WebMvcTest trying to initialize the `sqlSessionFactory` for unit test? Can someone please help me fix this error?\r\nI have refered the similar issue https://github.com/mybatis/spring-boot-starter/issues/227 but it was for integration testing in my case it is a unit testing.\r\n\r\n\t\tFailed to load ApplicationContext\r\n\tjava.lang.IllegalStateException: Failed to load ApplicationContext\r\n\t\tat org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:132)\r\n\t\tat org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:124)\r\n\t\tat org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.postProcessFields(MockitoTestExecutionListener.java:110)\r\n\t\tat org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.injectFields(MockitoTestExecutionListener.java:94)\r\n\t\tat org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.prepareTestInstance(MockitoTestExecutionListener.java:61)\r\n\t\tat org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:248)\r\n\t\tat org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)\r\n\t\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$8(ClassBasedTestDescriptor.java:363)\r\n\t\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:368)\r\n\t\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$9(ClassBasedTestDescriptor.java:363)\r\n\t\tat java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)\r\n\t\tat java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)\r\n\t\tat java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)\r\n\t\tat java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)\r\n\t\tat java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)\r\n\t\tat java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)\r\n\t\tat java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)\r\n\t\tat java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)\r\n\t\tat java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)\r\n\t\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:362)\r\n\t\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:283)\r\n\t\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\t\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:282)\r\n\t\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:272)\r\n\t\tat java.base/java.util.Optional.orElseGet(Optional.java:364)\r\n\t\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:271)\r\n\t\tat org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)\r\n\t\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:102)\r\n\t\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\t\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:101)\r\n\t\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:66)\r\n\t\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)\r\n\t\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\t\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)\r\n\t\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)\r\n\t\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n\t\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n\t\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n\t\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\t\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\t\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\t\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\t\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\t\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\t\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\t\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n\t\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n\t\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n\t\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\t\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\t\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\t\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\t\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\t\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\t\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\t\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\r\n\t\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\r\n\t\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\r\n\t\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)\r\n\t\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\r\n\t\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\r\n\t\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\r\n\t\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\r\n\t\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\r\n\t\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)\r\n\t\tat org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)\r\n\t\tat org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)\r\n\t\tat org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:99)\r\n\t\tat org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:79)\r\n\t\tat org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:75)\r\n\t\tat org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:61)\r\n\t\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\t\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\t\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\t\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\t\tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\r\n\t\tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\r\n\t\tat org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)\r\n\t\tat org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)\r\n\t\tat jdk.proxy1/jdk.proxy1.$Proxy2.stop(Unknown Source)\r\n\t\tat org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)\r\n\t\tat org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)\r\n\t\tat org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)\r\n\t\tat org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)\r\n\t\tat org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)\r\n\t\tat org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:133)\r\n\t\tat org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:71)\r\n\t\tat worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)\r\n\t\tat worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)\r\n\tCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;demoApiController&#39;: Unsatisfied dependency expressed through field &#39;demoService&#39;; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;demoServiceImpl&#39; defined in file [C:\\Dev\\gitlab\\billing-app\\marketplace\\build\\classes\\java\\main\\us\\billing\\service\\impl\\DemoServiceImpl.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;demoDataReadMapper&#39; defined in file [C:\\Dev\\gitlab\\billing-app\\marketplace\\build\\classes\\java\\main\\us\\billing\\mapper\\DemoDataReadMapper.class]: Invocation of init method failed; nested exception is java.lang.IllegalArgumentException: Property &#39;sqlSessionFactory&#39; or &#39;sqlSessionTemplate&#39; are required\r\n\t\tat app//org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:659)\r\n\t\tat app//org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:639)\r\n\t\tat app//org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119)\r\n\t\tat app//org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:399)\r\n\t\tat app//org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431)\r\n\t\tat app//org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619)\r\n\t\tat app//org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\r\n\t\tat app//org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\r\n\t\tat app//org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\r\n\t\tat app//org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\r\n\t\tat app//org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\r\n\t\tat app//org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:955)\r\n\t\tat app//org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918)\r\n\t\tat app//org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)\r\n\t\tat app//org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734)\r\n\t\tat app//org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)\r\n\t\tat app//org.springframework.boot.SpringApplication.run(SpringApplication.java:308)\r\n\t\tat app//org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:132)\r\n\t\tat app//org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99)\r\n\t\tat app//org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:124)\r\n\t\t... 88 more\r\n\tCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;demoServiceImpl&#39; defined in file [C:\\Dev\\gitlab\\billing-app\\marketplace\\build\\classes\\java\\main\\us\\billing\\service\\impl\\DemoServiceImpl.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;demoDataReadMapper&#39; defined in file [C:\\Dev\\gitlab\\billing-app\\marketplace\\build\\classes\\java\\main\\us\\billing\\mapper\\DemoDataReadMapper.class]: Invocation of init method failed; nested exception is java.lang.IllegalArgumentException: Property &#39;sqlSessionFactory&#39; or &#39;sqlSessionTemplate&#39; are required\r\n\t\tat app//org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800)\r\n\t\tat app//org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:229)\r\n\t\tat app//org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1372)\r\n\t\tat app//org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1222)\r\n\t\tat app//org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)\r\n\t\tat app//org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\r\n\t\tat app//org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\r\n\t\tat app//org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\r\n\t\tat app//org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\r\n\t\tat app//org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\r\n\t\tat app//org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)\r\n\t\tat app//org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1391)\r\n\t\tat app//org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311)\r\n\t\tat app//org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:656)\r\n\t\t... 107 more\r\n\tCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;demoDataReadMapper&#39; defined in file [C:\\Dev\\gitlab\\billing-app\\marketplace\\build\\classes\\java\\main\\us\\billing\\mapper\\DemoDataReadMapper.class]: Invocation of init method failed; nested exception is java.lang.IllegalArgumentException: Property &#39;sqlSessionFactory&#39; or &#39;sqlSessionTemplate&#39; are required\r\n\t\tat app//org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804)\r\n\t\tat app//org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)\r\n\t\tat app//org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\r\n\t\tat app//org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\r\n\t\tat app//org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\r\n\t\tat app//org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\r\n\t\tat app//org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\r\n\t\tat app//org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)\r\n\t\tat app//org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1391)\r\n\t\tat app//org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311)\r\n\t\tat app//org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887)\r\n\t\tat app//org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)\r\n\t\t... 120 more\r\n\tCaused by: java.lang.IllegalArgumentException: Property &#39;sqlSessionFactory&#39; or &#39;sqlSessionTemplate&#39; are required\r\n\t\tat org.springframework.util.Assert.notNull(Assert.java:201)\r\n\t\tat org.mybatis.spring.support.SqlSessionDaoSupport.checkDaoConfig(SqlSessionDaoSupport.java:122)\r\n\t\tat org.mybatis.spring.mapper.MapperFactoryBean.checkDaoConfig(MapperFactoryBean.java:73)\r\n\t\tat org.springframework.dao.support.DaoSupport.afterPropertiesSet(DaoSupport.java:44)\r\n\t\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)\r\n\t\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)\r\n\t\t... 131 more\r\n\r\n\r\nBelow is `DemoApiController` code which is not linked with the `PaymentController` that am trying to unit test\r\n\r\n\r\n\t@RestController\r\n\tpublic class DemoApiController implements DemoApi {\r\n\t\t@Autowired\r\n\t\tprivate DemoService demoService;\r\n\r\n\t\t@Override\r\n\t\tpublic String getDemoData(String id) {\t\t\t\r\n\t\t\treturn &quot;demo data size &quot; +demoService.demoFetchFromDatabase().size();\r\n\t\t}\r\n\t}\r\n\t\r\n\tpublic interface DemoService {\r\n\t\tList&lt;DemoData&gt; demoFetchFromDatabase();\r\n\t}\r\n\t\r\n\t@Service\r\n\t@RequiredArgsConstructor\r\n\tpublic class DemoServiceImpl implements DemoService {\r\n\r\n\t\tprivate final DemoDataReadMapper demoDataReadMapper;  \r\n\r\n\t\t@Override\r\n\t\tpublic List&lt;DemoData&gt; demoFetchFromDatabase() {\r\n\t\t\treturn demoDataReadMapper.listDemoData(Arrays.asList(&quot;1&quot;, &quot;2&quot;));\r\n\t\t}\r\n\t}\r\n\t\r\n\t@Mapper\r\n\t@Repository\r\n\t@DBRouter(DatasourceType.Slave)\r\n\tpublic interface DemoDataReadMapper {\r\n\t\tList&lt;DemoData&gt; listDemoData(@Param(&quot;items&quot;) Collection&lt;String&gt; idList);\r\n\t}\r\n","title":"Springboot 2.7 : Property &#39;sqlSessionFactory&#39; or &#39;sqlSessionTemplate&#39; are required in @WebMvcTest for spring boot with mybatis","body":"<p>Below is my PaymentController Unittest</p>\n<pre><code>@WebMvcTest(PaymentController.class)\npublic class PaymentControllerTest {\n    @MockBean\n    PaymentService paymentService;\n\n    @Autowired\n    MockMvc mockMvc;\n\n    @Test\n    public void testFindAllPaymentDtoAndExpect200() throws Exception {\n         mockMvc.perform(MockMvcRequestBuilders\n                        .get(&quot;/payment/list&quot;))\n                        .andExpect(status().isOk());\n    }\n    \n</code></pre>\n<p>I'm seeing the below stacktrace when I run the above unit test and am wondering why the @WebMvcTest trying to initialize the <code>sqlSessionFactory</code> for unit test? Can someone please help me fix this error?\nI have refered the similar issue <a href=\"https://github.com/mybatis/spring-boot-starter/issues/227\" rel=\"nofollow noreferrer\">https://github.com/mybatis/spring-boot-starter/issues/227</a> but it was for integration testing in my case it is a unit testing.</p>\n<pre><code>    Failed to load ApplicationContext\njava.lang.IllegalStateException: Failed to load ApplicationContext\n    at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:132)\n    at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:124)\n    at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.postProcessFields(MockitoTestExecutionListener.java:110)\n    at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.injectFields(MockitoTestExecutionListener.java:94)\n    at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.prepareTestInstance(MockitoTestExecutionListener.java:61)\n    at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:248)\n    at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$8(ClassBasedTestDescriptor.java:363)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:368)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$9(ClassBasedTestDescriptor.java:363)\n    at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)\n    at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)\n    at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)\n    at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)\n    at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)\n    at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)\n    at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)\n    at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)\n    at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:362)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:283)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:282)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:272)\n    at java.base/java.util.Optional.orElseGet(Optional.java:364)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:271)\n    at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:102)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:101)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:66)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)\n    at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)\n    at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)\n    at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:99)\n    at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:79)\n    at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:75)\n    at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:61)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\n    at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)\n    at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)\n    at jdk.proxy1/jdk.proxy1.$Proxy2.stop(Unknown Source)\n    at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)\n    at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)\n    at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)\n    at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)\n    at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)\n    at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:133)\n    at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:71)\n    at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)\n    at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'demoApiController': Unsatisfied dependency expressed through field 'demoService'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'demoServiceImpl' defined in file [C:\\Dev\\gitlab\\billing-app\\marketplace\\build\\classes\\java\\main\\us\\billing\\service\\impl\\DemoServiceImpl.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'demoDataReadMapper' defined in file [C:\\Dev\\gitlab\\billing-app\\marketplace\\build\\classes\\java\\main\\us\\billing\\mapper\\DemoDataReadMapper.class]: Invocation of init method failed; nested exception is java.lang.IllegalArgumentException: Property 'sqlSessionFactory' or 'sqlSessionTemplate' are required\n    at app//org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:659)\n    at app//org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:639)\n    at app//org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119)\n    at app//org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:399)\n    at app//org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431)\n    at app//org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619)\n    at app//org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\n    at app//org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\n    at app//org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\n    at app//org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\n    at app//org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\n    at app//org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:955)\n    at app//org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918)\n    at app//org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)\n    at app//org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734)\n    at app//org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)\n    at app//org.springframework.boot.SpringApplication.run(SpringApplication.java:308)\n    at app//org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:132)\n    at app//org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99)\n    at app//org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:124)\n    ... 88 more\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'demoServiceImpl' defined in file [C:\\Dev\\gitlab\\billing-app\\marketplace\\build\\classes\\java\\main\\us\\billing\\service\\impl\\DemoServiceImpl.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'demoDataReadMapper' defined in file [C:\\Dev\\gitlab\\billing-app\\marketplace\\build\\classes\\java\\main\\us\\billing\\mapper\\DemoDataReadMapper.class]: Invocation of init method failed; nested exception is java.lang.IllegalArgumentException: Property 'sqlSessionFactory' or 'sqlSessionTemplate' are required\n    at app//org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800)\n    at app//org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:229)\n    at app//org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1372)\n    at app//org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1222)\n    at app//org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)\n    at app//org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\n    at app//org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\n    at app//org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\n    at app//org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\n    at app//org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\n    at app//org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)\n    at app//org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1391)\n    at app//org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311)\n    at app//org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:656)\n    ... 107 more\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'demoDataReadMapper' defined in file [C:\\Dev\\gitlab\\billing-app\\marketplace\\build\\classes\\java\\main\\us\\billing\\mapper\\DemoDataReadMapper.class]: Invocation of init method failed; nested exception is java.lang.IllegalArgumentException: Property 'sqlSessionFactory' or 'sqlSessionTemplate' are required\n    at app//org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804)\n    at app//org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)\n    at app//org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\n    at app//org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\n    at app//org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\n    at app//org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\n    at app//org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\n    at app//org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)\n    at app//org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1391)\n    at app//org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311)\n    at app//org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887)\n    at app//org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)\n    ... 120 more\nCaused by: java.lang.IllegalArgumentException: Property 'sqlSessionFactory' or 'sqlSessionTemplate' are required\n    at org.springframework.util.Assert.notNull(Assert.java:201)\n    at org.mybatis.spring.support.SqlSessionDaoSupport.checkDaoConfig(SqlSessionDaoSupport.java:122)\n    at org.mybatis.spring.mapper.MapperFactoryBean.checkDaoConfig(MapperFactoryBean.java:73)\n    at org.springframework.dao.support.DaoSupport.afterPropertiesSet(DaoSupport.java:44)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)\n    ... 131 more\n</code></pre>\n<p>Below is <code>DemoApiController</code> code which is not linked with the <code>PaymentController</code> that am trying to unit test</p>\n<pre><code>@RestController\npublic class DemoApiController implements DemoApi {\n    @Autowired\n    private DemoService demoService;\n\n    @Override\n    public String getDemoData(String id) {          \n        return &quot;demo data size &quot; +demoService.demoFetchFromDatabase().size();\n    }\n}\n\npublic interface DemoService {\n    List&lt;DemoData&gt; demoFetchFromDatabase();\n}\n\n@Service\n@RequiredArgsConstructor\npublic class DemoServiceImpl implements DemoService {\n\n    private final DemoDataReadMapper demoDataReadMapper;  \n\n    @Override\n    public List&lt;DemoData&gt; demoFetchFromDatabase() {\n        return demoDataReadMapper.listDemoData(Arrays.asList(&quot;1&quot;, &quot;2&quot;));\n    }\n}\n\n@Mapper\n@Repository\n@DBRouter(DatasourceType.Slave)\npublic interface DemoDataReadMapper {\n    List&lt;DemoData&gt; listDemoData(@Param(&quot;items&quot;) Collection&lt;String&gt; idList);\n}\n</code></pre>\n"},{"tags":["java","hibernate","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"score":0,"creation_date":1675861873,"post_id":75369730,"comment_id":133018408,"body_markdown":"That&#39;s just how it is. You can&#39;t share columns for a join table source/target key.","body":"That&#39;s just how it is. You can&#39;t share columns for a join table source/target key."}],"owner":{"account_id":2459420,"reputation":15594,"user_id":2704032,"accept_rate":48,"display_name":"Vishrant"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675752440,"creation_date":1675752440,"question_id":75369730,"body_markdown":"I have the following entities\r\n\r\n```\r\n@Entity(name = &quot;stream&quot;)\r\npublic class StreamEntity extends PersistableEntity {\r\n\r\n    @Id\r\n    @Column(name = &quot;id&quot;)\r\n    private UUID id;\r\n\r\n    @Column(name = &quot;type&quot;)\r\n    private String type = null;\r\n\r\n    @Column(name = &quot;name&quot;)\r\n    private String name = null;\r\n\r\n    @Column(name = &quot;parallelism&quot;)\r\n    private Integer parallelism = null;\r\n\r\n    @OneToMany(fetch = FetchType.LAZY, cascade = CascadeType.ALL, orphanRemoval = true)\r\n    @JoinTable(\r\n        name = &quot;stream_flows&quot;\r\n    )\r\n    private List&lt;FlowEntity&gt; flows = null;\r\n\r\n}\r\n```\r\n\r\n```\r\n@Entity(name = &quot;flow&quot;)\r\npublic class FlowEntity {\r\n\r\n    @EmbeddedId\r\n    private FlowId id;\r\n\r\n    @Embeddable\r\n    public static class FlowId implements Serializable {\r\n\r\n        @Column(name = &quot;name&quot;)\r\n        private String name;\r\n\r\n        @ManyToOne(fetch = FetchType.LAZY, cascade = CascadeType.ALL)\r\n        @JoinColumns({\r\n            @JoinColumn(name = &quot;stream_id&quot;),\r\n        })\r\n        private StreamEntity streamId;\r\n\r\n    }\r\n\r\n}\r\n```\r\n\r\nThis is resulting in the following tables:\r\n\r\n```\r\n Schema |      Name       | Type  |\r\n--------+-----------------+-------+\r\n public | flow            | table |\r\n public | stream          | table |\r\n public | stream_flows    | table |\r\n```\r\n\r\nThere is a duplicate column in `stream_flows`\r\n\r\n```\r\n\\d stream_flows\r\n                        Table &quot;public.stream_flows&quot;\r\n     Column      |          Type          | Collation | Nullable | Default\r\n-----------------+------------------------+-----------+----------+---------\r\n stream_id       | uuid                   |           | not null |\r\n flows_name      | character varying(255) |           | not null |\r\n flows_stream_id | uuid                   |           | not null |     &lt;-- HERE flows_stream_id is same as stream_id\r\nIndexes:\r\n    &quot;uk_cb1drm79j3vyjjfjlc4c4q7we&quot; UNIQUE CONSTRAINT, btree (flows_name, flows_stream_id)\r\nForeign-key constraints:\r\n    &quot;fkkmd0nl9hcnytrojpy40avqlu1&quot; FOREIGN KEY (stream_id) REFERENCES stream(id)\r\n    &quot;fksmbnvcxkw3y2vlyuq4nao26vq&quot; FOREIGN KEY (flows_name, flows_stream_id) REFERENCES flow(name, stream_id)\r\n```\r\n\r\nHow to above duplicate `flows_stream_id` column?","title":"Hibernate creating duplicate column with @ManyToOne and @Embeddable","body":"<p>I have the following entities</p>\n<pre><code>@Entity(name = &quot;stream&quot;)\npublic class StreamEntity extends PersistableEntity {\n\n    @Id\n    @Column(name = &quot;id&quot;)\n    private UUID id;\n\n    @Column(name = &quot;type&quot;)\n    private String type = null;\n\n    @Column(name = &quot;name&quot;)\n    private String name = null;\n\n    @Column(name = &quot;parallelism&quot;)\n    private Integer parallelism = null;\n\n    @OneToMany(fetch = FetchType.LAZY, cascade = CascadeType.ALL, orphanRemoval = true)\n    @JoinTable(\n        name = &quot;stream_flows&quot;\n    )\n    private List&lt;FlowEntity&gt; flows = null;\n\n}\n</code></pre>\n<pre><code>@Entity(name = &quot;flow&quot;)\npublic class FlowEntity {\n\n    @EmbeddedId\n    private FlowId id;\n\n    @Embeddable\n    public static class FlowId implements Serializable {\n\n        @Column(name = &quot;name&quot;)\n        private String name;\n\n        @ManyToOne(fetch = FetchType.LAZY, cascade = CascadeType.ALL)\n        @JoinColumns({\n            @JoinColumn(name = &quot;stream_id&quot;),\n        })\n        private StreamEntity streamId;\n\n    }\n\n}\n</code></pre>\n<p>This is resulting in the following tables:</p>\n<pre><code> Schema |      Name       | Type  |\n--------+-----------------+-------+\n public | flow            | table |\n public | stream          | table |\n public | stream_flows    | table |\n</code></pre>\n<p>There is a duplicate column in <code>stream_flows</code></p>\n<pre><code>\\d stream_flows\n                        Table &quot;public.stream_flows&quot;\n     Column      |          Type          | Collation | Nullable | Default\n-----------------+------------------------+-----------+----------+---------\n stream_id       | uuid                   |           | not null |\n flows_name      | character varying(255) |           | not null |\n flows_stream_id | uuid                   |           | not null |     &lt;-- HERE flows_stream_id is same as stream_id\nIndexes:\n    &quot;uk_cb1drm79j3vyjjfjlc4c4q7we&quot; UNIQUE CONSTRAINT, btree (flows_name, flows_stream_id)\nForeign-key constraints:\n    &quot;fkkmd0nl9hcnytrojpy40avqlu1&quot; FOREIGN KEY (stream_id) REFERENCES stream(id)\n    &quot;fksmbnvcxkw3y2vlyuq4nao26vq&quot; FOREIGN KEY (flows_name, flows_stream_id) REFERENCES flow(name, stream_id)\n</code></pre>\n<p>How to above duplicate <code>flows_stream_id</code> column?</p>\n"},{"tags":["java","hibernate","spring-mvc","db2","websphere"],"comments":[{"owner":{"account_id":443256,"reputation":12498,"user_id":834362,"display_name":"home"},"score":0,"creation_date":1321260357,"post_id":8118677,"comment_id":9958955,"body_markdown":"Do those to app server machines work with the same database or does each instance have its own DB?","body":"Do those to app server machines work with the same database or does each instance have its own DB?"},{"owner":{"account_id":443256,"reputation":12498,"user_id":834362,"display_name":"home"},"score":0,"creation_date":1321342940,"post_id":8118677,"comment_id":9979008,"body_markdown":"You use JDBC Type 4 driver or any native DB2 driver?","body":"You use JDBC Type 4 driver or any native DB2 driver?"},{"owner":{"account_id":184519,"reputation":22782,"user_id":420613,"accept_rate":87,"display_name":"Muhammad Imran Tariq"},"score":0,"creation_date":1321357260,"post_id":8118677,"comment_id":9982728,"body_markdown":"I am using two jars for DB2 drivers. 1: db2jcc_license_cu.jar 2: db2jcc.jar. I don&#39;t know the correct version but I think its 9.7.","body":"I am using two jars for DB2 drivers. 1: db2jcc_license_cu.jar 2: db2jcc.jar. I don&#39;t know the correct version but I think its 9.7."},{"owner":{"account_id":443256,"reputation":12498,"user_id":834362,"display_name":"home"},"score":0,"creation_date":1321366829,"post_id":8118677,"comment_id":9985401,"body_markdown":"So you do not have DB2 Client installed? &#39;Type 4&#39; means native Java, not just a bridge to &#39;machine code&#39; database driver...","body":"So you do not have DB2 Client installed? &#39;Type 4&#39; means native Java, not just a bridge to &#39;machine code&#39; database driver..."}],"answers":[{"tags":[],"owner":{"account_id":928670,"reputation":8964,"user_id":958954,"display_name":"Andreas Veithen"},"down_vote_count":1,"up_vote_count":3,"is_accepted":true,"score":2,"last_activity_date":1321308381,"creation_date":1321308381,"answer_id":8128844,"question_id":8118677,"body_markdown":"The fact that this works on one WebSphere server and fails on another although they both connect to the same database suggests that there is an issue with the version of the JDBC driver. I would check that first.","title":"The database returned no natively generated identity value","body":"<p>The fact that this works on one WebSphere server and fails on another although they both connect to the same database suggests that there is an issue with the version of the JDBC driver. I would check that first.</p>\n"},{"tags":[],"owner":{"account_id":2282565,"reputation":1515,"user_id":2007325,"accept_rate":73,"display_name":"Praveen Kumar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1375379926,"creation_date":1375379926,"answer_id":18001248,"question_id":8118677,"body_markdown":"The above Exception can also occur if the @id annotated property mapped column dose not support auto generation of id.\r\n\r\ni.e.\r\n\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n\r\nusing\r\n\r\n    Use @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\r\nmight solve the problem.","title":"The database returned no natively generated identity value","body":"<p>The above Exception can also occur if the @id annotated property mapped column dose not support auto generation of id.</p>\n\n<p>i.e.</p>\n\n<pre><code>@GeneratedValue(strategy = GenerationType.AUTO)\n</code></pre>\n\n<p>using</p>\n\n<pre><code>Use @GeneratedValue(strategy = GenerationType.IDENTITY)\n</code></pre>\n\n<p>might solve the problem.</p>\n"},{"tags":[],"owner":{"display_name":"user5375222"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1487858607,"creation_date":1487858607,"answer_id":42417949,"question_id":8118677,"body_markdown":"Make sure that while creating your table id field should be marked as auto-increment and then use \r\n\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)","title":"The database returned no natively generated identity value","body":"<p>Make sure that while creating your table id field should be marked as auto-increment and then use </p>\n\n<pre><code>@GeneratedValue(strategy = GenerationType.IDENTITY)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21954229,"reputation":31,"user_id":16233040,"display_name":"Nithin karthick"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675752123,"creation_date":1675752064,"answer_id":75369683,"question_id":8118677,"body_markdown":"check primary key in database, if it is not auto increment then you will get this error.\r\n[enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/RAvrL.png","title":"The database returned no natively generated identity value","body":"<p>check primary key in database, if it is not auto increment then you will get this error.\n<a href=\"https://i.stack.imgur.com/RAvrL.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"}],"owner":{"account_id":184519,"reputation":22782,"user_id":420613,"accept_rate":87,"display_name":"Muhammad Imran Tariq"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13593,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":8128844,"answer_count":4,"score":2,"last_activity_date":1675752123,"creation_date":1321257034,"question_id":8118677,"body_markdown":"I am using IBM DB2 V 9.1.0.356. I am using DB2 JDBC driver version 9.7.\r\n\r\nI am using these technologies for my application.\r\n\r\nSpring MVC, Hibernate, DB2, Websphere\r\n\r\nIn my Create Table script; ID column is generated as:\r\n\r\n    ID BIGINT GENERATED BY DEFAULT AS IDENTITY\r\n\r\nIn Java Entity class its configured as:\r\n\r\n    @Id \r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    @Column( name = &quot;id&quot;, nullable = false  )\r\n\r\nWhen I saves and object by calling this through hibernate:\r\n\r\n    *.save(persistentObject);\r\n\r\nData is saved. But I got following Exception:\r\n\r\n    org.hibernate.HibernateException: The database returned no natively generated identity value\r\n    at org.hibernate.id.IdentifierGeneratorFactory.getGeneratedIdentity(IdentifierGeneratorFactory.java:90)\r\n\r\n**Note:** My application is configured on two servers on different machines. From one machine I can succefully save data; but from other I got above mentioned exception.","title":"The database returned no natively generated identity value","body":"<p>I am using IBM DB2 V 9.1.0.356. I am using DB2 JDBC driver version 9.7.</p>\n\n<p>I am using these technologies for my application.</p>\n\n<p>Spring MVC, Hibernate, DB2, Websphere</p>\n\n<p>In my Create Table script; ID column is generated as:</p>\n\n<pre><code>ID BIGINT GENERATED BY DEFAULT AS IDENTITY\n</code></pre>\n\n<p>In Java Entity class its configured as:</p>\n\n<pre><code>@Id \n@GeneratedValue(strategy = GenerationType.AUTO)\n@Column( name = \"id\", nullable = false  )\n</code></pre>\n\n<p>When I saves and object by calling this through hibernate:</p>\n\n<pre><code>*.save(persistentObject);\n</code></pre>\n\n<p>Data is saved. But I got following Exception:</p>\n\n<pre><code>org.hibernate.HibernateException: The database returned no natively generated identity value\nat org.hibernate.id.IdentifierGeneratorFactory.getGeneratedIdentity(IdentifierGeneratorFactory.java:90)\n</code></pre>\n\n<p><strong>Note:</strong> My application is configured on two servers on different machines. From one machine I can succefully save data; but from other I got above mentioned exception.</p>\n"},{"tags":["java","maven","jar","dependencies"],"comments":[{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1675670210,"post_id":75357442,"comment_id":132971259,"body_markdown":"You have the spring boot dependency that repackages your code.  Remove that.","body":"You have the spring boot dependency that repackages your code.  Remove that."},{"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"score":0,"creation_date":1675680539,"post_id":75357442,"comment_id":132974310,"body_markdown":"Furthermore, move the classes to `src/main/java`.","body":"Furthermore, move the classes to <code>src&#47;main&#47;java</code>."},{"owner":{"account_id":19475688,"reputation":13,"user_id":14247129,"display_name":"Dhanyaa Bharadwaj"},"score":0,"creation_date":1675747414,"post_id":75357442,"comment_id":132990183,"body_markdown":"@JFabianMeier, I have junit dependency in of the classes. So I can&#39;t move the classes to src/test/java","body":"@JFabianMeier, I have junit dependency in of the classes. So I can&#39;t move the classes to src/test/java"},{"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"score":0,"creation_date":1675767451,"post_id":75357442,"comment_id":132995163,"body_markdown":"Move the classes to `src/main/java` and declare `junit` with scope `compile`.","body":"Move the classes to <code>src&#47;main&#47;java</code> and declare <code>junit</code> with scope <code>compile</code>."}],"answers":[{"tags":[],"owner":{"account_id":3922118,"reputation":39,"user_id":3243932,"display_name":"Ram H"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1675751888,"creation_date":1675751888,"answer_id":75369666,"question_id":75357442,"body_markdown":"It needs a class containing a main method and annotated with the @SpringBootApplication.\r\nif you have downloaded from start.spring.io, Windows would probably removed the .java file while un-zipping due to security violation.","title":"How to create your own maven dependency? Is it mandatory to have a main class in that jar?","body":"<p>It needs a class containing a main method and annotated with the @SpringBootApplication.\nif you have downloaded from start.spring.io, Windows would probably removed the .java file while un-zipping due to security violation.</p>\n"}],"owner":{"account_id":19475688,"reputation":13,"user_id":14247129,"display_name":"Dhanyaa Bharadwaj"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":103,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675751888,"creation_date":1675659342,"question_id":75357442,"body_markdown":"I only have few custom annotations and a few classes **in the test folder** that needs to be packaged into a jar so that I can use it as a dependency in another project. But when I try to run a mvn clean install, the build is failing with this error:\r\n\r\n    Execution repackage of goal org.springframework.boot:spring-boot-maven-plugin:2.7.8:repackage failed: Unable to find main class \r\n\r\nHow to resolve this?","title":"How to create your own maven dependency? Is it mandatory to have a main class in that jar?","body":"<p>I only have few custom annotations and a few classes <strong>in the test folder</strong> that needs to be packaged into a jar so that I can use it as a dependency in another project. But when I try to run a mvn clean install, the build is failing with this error:</p>\n<pre><code>Execution repackage of goal org.springframework.boot:spring-boot-maven-plugin:2.7.8:repackage failed: Unable to find main class \n</code></pre>\n<p>How to resolve this?</p>\n"},{"tags":["java","android","android-fragments"],"answers":[{"tags":[],"owner":{"account_id":27540947,"reputation":983,"user_id":21017714,"display_name":"Enowneb"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1675751866,"creation_date":1675751866,"answer_id":75369663,"question_id":75364421,"body_markdown":"Your code is close. It is because ```DetailFrag``` is not yet created when you define your ```TextView``` in ```onCreate()``` of ```MainActivity```. You can refer [Fragment lifecycle with respect to it&#39;s activity](https://stackoverflow.com/questions/7496844/fragment-lifecycle-with-respect-to-its-activity) to know more about the lifecycle of Fragment.\r\n\r\nSo there are two ways you can change your code:  \r\n \r\nThe first way is to remove definition of your ```TextView``` variable and directly call ```findViewById()``` in the ```onItemSelected()``` callback:  \r\n```java\r\npackage com.example.fragmentvideorev2;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.os.Bundle;\r\nimport android.widget.TextView;\r\n\r\nimport java.util.ArrayList;\r\n\r\npublic class MainActivity extends AppCompatActivity implements ListFrag.ItemSelected {\r\n    ArrayList&lt;String&gt; descriptions;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        ArrayList&lt;String&gt; descriptions = new ArrayList&lt;String&gt;();\r\n        descriptions.add(&quot;Description for item 1&quot;);\r\n        descriptions.add(&quot;Description for item 2&quot;);\r\n        descriptions.add(&quot;Description for item 3&quot;);\r\n\r\n    }\r\n\r\n    @Override\r\n    public void onItemSelected(int index) {\r\n        // Directly retrieve the TextView here\r\n        ((TextView) findViewById(R.id.tvDescription)).setText(descriptions.get(index));\r\n    }\r\n}\r\n```\r\n\r\nThe second way is to move the definition of your ```TextView``` in ```onStart()``` of ```MainActivity```. That guarantees your ```DetailFrag``` is created and hence ```MainActivity``` can obtain the View from ```DetailFrag``` there:  \r\n```java\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.os.Bundle;\r\nimport android.widget.TextView;\r\n\r\nimport java.util.ArrayList;\r\n\r\npublic class MainActivity extends AppCompatActivity implements ListFrag.ItemSelected {\r\n    ArrayList&lt;String&gt; descriptions;\r\n    TextView tvDescription;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        ArrayList&lt;String&gt; descriptions = new ArrayList&lt;String&gt;();\r\n        descriptions.add(&quot;Description for item 1&quot;);\r\n        descriptions.add(&quot;Description for item 2&quot;);\r\n        descriptions.add(&quot;Description for item 3&quot;);\r\n\r\n    }\r\n\r\n    @Override\r\n    protected void onStart() {\r\n        super.onStart();\r\n        // Move the definition here\r\n        tvDescription = findViewById(R.id.tvDescription);\r\n    }\r\n\r\n    @Override\r\n    public void onItemSelected(int index) {\r\n        tvDescription.setText(descriptions.get(index));\r\n    }\r\n}\r\n```\r\n\r\n---\r\n\r\nAnd also you may have to take a look at the following problem:  \r\n\r\nYou have defined a member variable ```ArrayList&lt;String&gt; descriptions;```. However, you are setting ArrayList to a local variable here:\r\n```java\r\nArrayList&lt;String&gt; descriptions = new ArrayList&lt;String&gt;();\r\ndescriptions.add(&quot;Description for item 1&quot;);\r\ndescriptions.add(&quot;Description for item 2&quot;);\r\ndescriptions.add(&quot;Description for item 3&quot;);\r\n```\r\nAnd your ```onItemSelected()``` callback can just access your member variable, which you have not assigned any value to it. Therefore, you should remove the ```ArrayList&lt;String&gt;``` like this:\r\n```java\r\n// This will directly assign value to member variable\r\ndescriptions = new ArrayList&lt;String&gt;();\r\ndescriptions.add(&quot;Description for item 1&quot;);\r\ndescriptions.add(&quot;Description for item 2&quot;);\r\ndescriptions.add(&quot;Description for item 3&quot;);\r\n```","title":"Changing Fragment TextView from Activity","body":"<p>Your code is close. It is because <code>DetailFrag</code> is not yet created when you define your <code>TextView</code> in <code>onCreate()</code> of <code>MainActivity</code>. You can refer <a href=\"https://stackoverflow.com/questions/7496844/fragment-lifecycle-with-respect-to-its-activity\">Fragment lifecycle with respect to it's activity</a> to know more about the lifecycle of Fragment.</p>\n<p>So there are two ways you can change your code:</p>\n<p>The first way is to remove definition of your <code>TextView</code> variable and directly call <code>findViewById()</code> in the <code>onItemSelected()</code> callback:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example.fragmentvideorev2;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.os.Bundle;\nimport android.widget.TextView;\n\nimport java.util.ArrayList;\n\npublic class MainActivity extends AppCompatActivity implements ListFrag.ItemSelected {\n    ArrayList&lt;String&gt; descriptions;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        ArrayList&lt;String&gt; descriptions = new ArrayList&lt;String&gt;();\n        descriptions.add(&quot;Description for item 1&quot;);\n        descriptions.add(&quot;Description for item 2&quot;);\n        descriptions.add(&quot;Description for item 3&quot;);\n\n    }\n\n    @Override\n    public void onItemSelected(int index) {\n        // Directly retrieve the TextView here\n        ((TextView) findViewById(R.id.tvDescription)).setText(descriptions.get(index));\n    }\n}\n</code></pre>\n<p>The second way is to move the definition of your <code>TextView</code> in <code>onStart()</code> of <code>MainActivity</code>. That guarantees your <code>DetailFrag</code> is created and hence <code>MainActivity</code> can obtain the View from <code>DetailFrag</code> there:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import androidx.appcompat.app.AppCompatActivity;\n\nimport android.os.Bundle;\nimport android.widget.TextView;\n\nimport java.util.ArrayList;\n\npublic class MainActivity extends AppCompatActivity implements ListFrag.ItemSelected {\n    ArrayList&lt;String&gt; descriptions;\n    TextView tvDescription;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        ArrayList&lt;String&gt; descriptions = new ArrayList&lt;String&gt;();\n        descriptions.add(&quot;Description for item 1&quot;);\n        descriptions.add(&quot;Description for item 2&quot;);\n        descriptions.add(&quot;Description for item 3&quot;);\n\n    }\n\n    @Override\n    protected void onStart() {\n        super.onStart();\n        // Move the definition here\n        tvDescription = findViewById(R.id.tvDescription);\n    }\n\n    @Override\n    public void onItemSelected(int index) {\n        tvDescription.setText(descriptions.get(index));\n    }\n}\n</code></pre>\n<hr />\n<p>And also you may have to take a look at the following problem:</p>\n<p>You have defined a member variable <code>ArrayList&lt;String&gt; descriptions;</code>. However, you are setting ArrayList to a local variable here:</p>\n<pre class=\"lang-java prettyprint-override\"><code>ArrayList&lt;String&gt; descriptions = new ArrayList&lt;String&gt;();\ndescriptions.add(&quot;Description for item 1&quot;);\ndescriptions.add(&quot;Description for item 2&quot;);\ndescriptions.add(&quot;Description for item 3&quot;);\n</code></pre>\n<p>And your <code>onItemSelected()</code> callback can just access your member variable, which you have not assigned any value to it. Therefore, you should remove the <code>ArrayList&lt;String&gt;</code> like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// This will directly assign value to member variable\ndescriptions = new ArrayList&lt;String&gt;();\ndescriptions.add(&quot;Description for item 1&quot;);\ndescriptions.add(&quot;Description for item 2&quot;);\ndescriptions.add(&quot;Description for item 3&quot;);\n</code></pre>\n"}],"owner":{"account_id":27717739,"reputation":3,"user_id":21159077,"display_name":"Gregory Maguire"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75369663,"answer_count":1,"score":0,"last_activity_date":1675751866,"creation_date":1675703234,"question_id":75364421,"body_markdown":"I am attempting to learn Android Studios using the free Udemy course &quot;Learn Android Application Development.&quot;  I am on lesson 44 &quot;Fragments Part 1.&quot; I am unable to get through the lesson because of an error.  I have spent two days and ~8 hours trying to figure it out.  Please help me!\r\n\r\nThe goal of the lesson is to create an app that has a list on one side of the screen and the details on the other.  When the user clicks one of the list items, the details are displayed on a textview on the other side of the screen.\r\n\r\nThe instructor guides us through creating two fragments (ListFrag and DetailFrag) and adding them to the main activity side-by-side.  He goes through setting up the list fragment (ListFrag) and passing the clicked list item&#39;s index to the main activity.  All of that works.  \r\n\r\nDetailFrag contains a TextView (tvDescription). The instructor sets up the textview and changes the value from the main activity using the index from ListFrag.  When running the app, it crashes when you click a list item.  \r\n\r\nThere is one error - &#39;@layout/activity_main&#39; does not contain a declaration with id &#39;tvDescription&#39;.  The issue is in MainActivity.java,  tvDescriptions = findViewById(R.id.tvDescription);.\r\n\r\nPlease help.  Thanks in advance for your replies.\r\n\r\nXML Files:\r\n\r\nactivity_main.xml\r\n```\r\n?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:orientation=&quot;horizontal&quot;\r\n    tools:context=&quot;.MainActivity&quot;&gt;\r\n\r\n\r\n    &lt;androidx.fragment.app.FragmentContainerView\r\n        android:id=&quot;@+id/listFrag&quot;\r\n        android:name=&quot;com.example.fragmentvideorev2.ListFrag&quot;\r\n        android:layout_width=&quot;0dp&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:layout_weight=&quot;1&quot;\r\n        tools:layout=&quot;@layout/fragment_list&quot; /&gt;\r\n\r\n    &lt;androidx.fragment.app.FragmentContainerView\r\n        android:id=&quot;@+id/detailFrag&quot;\r\n        android:name=&quot;com.example.fragmentvideorev2.DetailFrag&quot;\r\n        android:layout_width=&quot;0dp&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:layout_weight=&quot;2&quot;\r\n        tools:layout=&quot;@layout/fragment_detail&quot; /&gt;\r\n&lt;/LinearLayout&gt;\r\n```\r\n\r\nfragment_list.xml\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:orientation=&quot;vertical&quot;\r\n\r\n    tools:context=&quot;.ListFrag&quot;&gt;\r\n\r\n\r\n    &lt;ListView\r\n        android:id=&quot;@+id/lvList&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot; /&gt;\r\n&lt;/LinearLayout&gt;\r\n```\r\n\r\nfragment_detail.xml\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:orientation=&quot;vertical&quot;\r\n    android:background=&quot;@color/teal_700&quot;\r\n    tools:context=&quot;.DetailFrag&quot;&gt;\r\n\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/tvDescription&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginLeft=&quot;20dp&quot;\r\n        android:layout_marginTop=&quot;20dp&quot;\r\n        android:layout_marginRight=&quot;20dp&quot;\r\n        android:text=&quot;TextView&quot;\r\n        android:textColor=&quot;#FFFFFF&quot;\r\n        android:textSize=&quot;18sp&quot; /&gt;\r\n&lt;/LinearLayout&gt;\r\n```\r\n\r\nJava Files:\r\n\r\nMainActivity.java\r\n```\r\npackage com.example.fragmentvideorev2;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.fragment.app.Fragment;\r\n\r\nimport android.os.Bundle;\r\nimport android.widget.TextView;\r\n\r\nimport java.lang.reflect.Array;\r\nimport java.util.ArrayList;\r\n\r\npublic class MainActivity extends AppCompatActivity implements ListFrag.ItemSelected {\r\n\r\n    TextView tvDescriptions;\r\n    ArrayList&lt;String&gt; descriptions;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        tvDescriptions = findViewById(R.id.tvDescription);\r\n\r\n\r\n\r\n        ArrayList&lt;String&gt; descriptions = new ArrayList&lt;String&gt;();\r\n        descriptions.add(&quot;Description for item 1&quot;);\r\n        descriptions.add(&quot;Description for item 2&quot;);\r\n        descriptions.add(&quot;Description for item 3&quot;);\r\n\r\n          }\r\n\r\n\r\n    @Override\r\n    public void onItemSelected(int index) {\r\n\r\n        tvDescriptions.setText(descriptions.get(index));\r\n\r\n    }\r\n}\r\n```\r\n\r\nListFrag.java\r\n```\r\npackage com.example.fragmentvideorev2;\r\n\r\nimport android.content.Context;\r\nimport android.os.Bundle;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.annotation.Nullable;\r\nimport androidx.fragment.app.Fragment;\r\nimport androidx.fragment.app.ListFragment;\r\nimport androidx.lifecycle.LifecycleObserver;\r\n\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.ArrayAdapter;\r\nimport android.widget.ListView;\r\n\r\nimport java.util.ArrayList;\r\n\r\npublic class ListFrag extends ListFragment {\r\n\r\n    ItemSelected activity;\r\n\r\n    public interface ItemSelected\r\n    {\r\n        void onItemSelected(int index);\r\n    }\r\n\r\n     public ListFrag() {\r\n        // Required empty public constructor\r\n    }\r\n\r\n\r\n   //called when frag associated with activity, context is activity\r\n    @Override\r\n    public void onAttach(@NonNull Context context) {\r\n        super.onAttach(context);\r\n\r\n        activity = (ItemSelected) context;\r\n    }\r\n\r\n   //called when oncreate is finished\r\n    @Override\r\n    public void onActivityCreated(@Nullable Bundle savedInstanceState) {\r\n        super.onActivityCreated(savedInstanceState);\r\n\r\n        ArrayList&lt;String&gt; data = new ArrayList&lt;String&gt;();\r\n        data.add(&quot;1. This is one&quot;);\r\n        data.add(&quot;2. This is two&quot;);\r\n        data.add(&quot;3. This is three&quot;);\r\n\r\n        setListAdapter(new ArrayAdapter&lt;String&gt;(getActivity(), android.R.layout.simple_expandable_list_item_1, data));\r\n\r\n    }\r\n\r\n    //value list get clicked, know posiiton\r\n    @Override\r\n    public void onListItemClick(@NonNull ListView l, @NonNull View v, int position, long id) {\r\n\r\n        activity.onItemSelected(position);\r\n\r\n    }\r\n}\r\n```\r\n\r\nDetailFrag.java - unchanged after creation\r\n\r\n```\r\npackage com.example.fragmentvideorev2;\r\n\r\nimport android.os.Bundle;\r\n\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.TextView;\r\n\r\nimport androidx.fragment.app.Fragment;\r\n\r\nimport org.w3c.dom.Text;\r\n\r\n\r\n\r\npublic class DetailFrag extends Fragment {\r\n\r\n   // TODO: Rename parameter arguments, choose names that match\r\n    // the fragment initialization parameters, e.g. ARG_ITEM_NUMBER\r\n    private static final String ARG_PARAM1 = &quot;param1&quot;;\r\n    private static final String ARG_PARAM2 = &quot;param2&quot;;\r\n\r\n    // TODO: Rename and change types of parameters\r\n    private String mParam1;\r\n    private String mParam2;\r\n\r\n    public DetailFrag() {\r\n        // Required empty public constructor\r\n    }\r\n\r\n    /**\r\n     * Use this factory method to create a new instance of\r\n     * this fragment using the provided parameters.\r\n     *\r\n     * @param param1 Parameter 1.\r\n     * @param param2 Parameter 2.\r\n     * @return A new instance of fragment DetailFrag.\r\n     */\r\n\r\n    // TODO: Rename and change types and number of parameters\r\n    public static DetailFrag newInstance(String param1, String param2) {\r\n        DetailFrag fragment = new DetailFrag();\r\n        Bundle args = new Bundle();\r\n        args.putString(ARG_PARAM1, param1);\r\n        args.putString(ARG_PARAM2, param2);\r\n        fragment.setArguments(args);\r\n        return fragment;\r\n    }\r\n\r\n    @Override\r\n    public void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        if (getArguments() != null) {\r\n            mParam1 = getArguments().getString(ARG_PARAM1);\r\n            mParam2 = getArguments().getString(ARG_PARAM2);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                             Bundle savedInstanceState) {\r\n        // Inflate the layout for this fragment\r\n        return inflater.inflate(R.layout.fragment_detail, container, false);\r\n    }\r\n\r\n\r\n}\r\n```\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Changing Fragment TextView from Activity","body":"<p>I am attempting to learn Android Studios using the free Udemy course &quot;Learn Android Application Development.&quot;  I am on lesson 44 &quot;Fragments Part 1.&quot; I am unable to get through the lesson because of an error.  I have spent two days and ~8 hours trying to figure it out.  Please help me!</p>\n<p>The goal of the lesson is to create an app that has a list on one side of the screen and the details on the other.  When the user clicks one of the list items, the details are displayed on a textview on the other side of the screen.</p>\n<p>The instructor guides us through creating two fragments (ListFrag and DetailFrag) and adding them to the main activity side-by-side.  He goes through setting up the list fragment (ListFrag) and passing the clicked list item's index to the main activity.  All of that works.</p>\n<p>DetailFrag contains a TextView (tvDescription). The instructor sets up the textview and changes the value from the main activity using the index from ListFrag.  When running the app, it crashes when you click a list item.</p>\n<p>There is one error - '@layout/activity_main' does not contain a declaration with id 'tvDescription'.  The issue is in MainActivity.java,  tvDescriptions = findViewById(R.id.tvDescription);.</p>\n<p>Please help.  Thanks in advance for your replies.</p>\n<p>XML Files:</p>\n<p>activity_main.xml</p>\n<pre><code>?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:orientation=&quot;horizontal&quot;\n    tools:context=&quot;.MainActivity&quot;&gt;\n\n\n    &lt;androidx.fragment.app.FragmentContainerView\n        android:id=&quot;@+id/listFrag&quot;\n        android:name=&quot;com.example.fragmentvideorev2.ListFrag&quot;\n        android:layout_width=&quot;0dp&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:layout_weight=&quot;1&quot;\n        tools:layout=&quot;@layout/fragment_list&quot; /&gt;\n\n    &lt;androidx.fragment.app.FragmentContainerView\n        android:id=&quot;@+id/detailFrag&quot;\n        android:name=&quot;com.example.fragmentvideorev2.DetailFrag&quot;\n        android:layout_width=&quot;0dp&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:layout_weight=&quot;2&quot;\n        tools:layout=&quot;@layout/fragment_detail&quot; /&gt;\n&lt;/LinearLayout&gt;\n</code></pre>\n<p>fragment_list.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:orientation=&quot;vertical&quot;\n\n    tools:context=&quot;.ListFrag&quot;&gt;\n\n\n    &lt;ListView\n        android:id=&quot;@+id/lvList&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot; /&gt;\n&lt;/LinearLayout&gt;\n</code></pre>\n<p>fragment_detail.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:orientation=&quot;vertical&quot;\n    android:background=&quot;@color/teal_700&quot;\n    tools:context=&quot;.DetailFrag&quot;&gt;\n\n\n    &lt;TextView\n        android:id=&quot;@+id/tvDescription&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginLeft=&quot;20dp&quot;\n        android:layout_marginTop=&quot;20dp&quot;\n        android:layout_marginRight=&quot;20dp&quot;\n        android:text=&quot;TextView&quot;\n        android:textColor=&quot;#FFFFFF&quot;\n        android:textSize=&quot;18sp&quot; /&gt;\n&lt;/LinearLayout&gt;\n</code></pre>\n<p>Java Files:</p>\n<p>MainActivity.java</p>\n<pre><code>package com.example.fragmentvideorev2;\n\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.fragment.app.Fragment;\n\nimport android.os.Bundle;\nimport android.widget.TextView;\n\nimport java.lang.reflect.Array;\nimport java.util.ArrayList;\n\npublic class MainActivity extends AppCompatActivity implements ListFrag.ItemSelected {\n\n    TextView tvDescriptions;\n    ArrayList&lt;String&gt; descriptions;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        tvDescriptions = findViewById(R.id.tvDescription);\n\n\n\n        ArrayList&lt;String&gt; descriptions = new ArrayList&lt;String&gt;();\n        descriptions.add(&quot;Description for item 1&quot;);\n        descriptions.add(&quot;Description for item 2&quot;);\n        descriptions.add(&quot;Description for item 3&quot;);\n\n          }\n\n\n    @Override\n    public void onItemSelected(int index) {\n\n        tvDescriptions.setText(descriptions.get(index));\n\n    }\n}\n</code></pre>\n<p>ListFrag.java</p>\n<pre><code>package com.example.fragmentvideorev2;\n\nimport android.content.Context;\nimport android.os.Bundle;\n\nimport androidx.annotation.NonNull;\nimport androidx.annotation.Nullable;\nimport androidx.fragment.app.Fragment;\nimport androidx.fragment.app.ListFragment;\nimport androidx.lifecycle.LifecycleObserver;\n\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.ArrayAdapter;\nimport android.widget.ListView;\n\nimport java.util.ArrayList;\n\npublic class ListFrag extends ListFragment {\n\n    ItemSelected activity;\n\n    public interface ItemSelected\n    {\n        void onItemSelected(int index);\n    }\n\n     public ListFrag() {\n        // Required empty public constructor\n    }\n\n\n   //called when frag associated with activity, context is activity\n    @Override\n    public void onAttach(@NonNull Context context) {\n        super.onAttach(context);\n\n        activity = (ItemSelected) context;\n    }\n\n   //called when oncreate is finished\n    @Override\n    public void onActivityCreated(@Nullable Bundle savedInstanceState) {\n        super.onActivityCreated(savedInstanceState);\n\n        ArrayList&lt;String&gt; data = new ArrayList&lt;String&gt;();\n        data.add(&quot;1. This is one&quot;);\n        data.add(&quot;2. This is two&quot;);\n        data.add(&quot;3. This is three&quot;);\n\n        setListAdapter(new ArrayAdapter&lt;String&gt;(getActivity(), android.R.layout.simple_expandable_list_item_1, data));\n\n    }\n\n    //value list get clicked, know posiiton\n    @Override\n    public void onListItemClick(@NonNull ListView l, @NonNull View v, int position, long id) {\n\n        activity.onItemSelected(position);\n\n    }\n}\n</code></pre>\n<p>DetailFrag.java - unchanged after creation</p>\n<pre><code>package com.example.fragmentvideorev2;\n\nimport android.os.Bundle;\n\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.TextView;\n\nimport androidx.fragment.app.Fragment;\n\nimport org.w3c.dom.Text;\n\n\n\npublic class DetailFrag extends Fragment {\n\n   // TODO: Rename parameter arguments, choose names that match\n    // the fragment initialization parameters, e.g. ARG_ITEM_NUMBER\n    private static final String ARG_PARAM1 = &quot;param1&quot;;\n    private static final String ARG_PARAM2 = &quot;param2&quot;;\n\n    // TODO: Rename and change types of parameters\n    private String mParam1;\n    private String mParam2;\n\n    public DetailFrag() {\n        // Required empty public constructor\n    }\n\n    /**\n     * Use this factory method to create a new instance of\n     * this fragment using the provided parameters.\n     *\n     * @param param1 Parameter 1.\n     * @param param2 Parameter 2.\n     * @return A new instance of fragment DetailFrag.\n     */\n\n    // TODO: Rename and change types and number of parameters\n    public static DetailFrag newInstance(String param1, String param2) {\n        DetailFrag fragment = new DetailFrag();\n        Bundle args = new Bundle();\n        args.putString(ARG_PARAM1, param1);\n        args.putString(ARG_PARAM2, param2);\n        fragment.setArguments(args);\n        return fragment;\n    }\n\n    @Override\n    public void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        if (getArguments() != null) {\n            mParam1 = getArguments().getString(ARG_PARAM1);\n            mParam2 = getArguments().getString(ARG_PARAM2);\n        }\n    }\n\n    @Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\n                             Bundle savedInstanceState) {\n        // Inflate the layout for this fragment\n        return inflater.inflate(R.layout.fragment_detail, container, false);\n    }\n\n\n}\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9324,"page":668,"page_size":100}
