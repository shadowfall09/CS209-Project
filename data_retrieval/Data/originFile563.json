{"items":[{"tags":["java","selenium-webdriver"],"answers":[{"tags":[],"owner":{"account_id":20678479,"reputation":33,"user_id":15182594,"display_name":"Gabriel Dragomir"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679244790,"creation_date":1679244790,"answer_id":75783574,"question_id":75783391,"body_markdown":"Question was already answered here - https://stackoverflow.com/questions/75678572/java-io-ioexception-invalid-status-code-403-text-forbidden\r\n\r\nThe changes that have also worked for me are the following:\r\n\r\n    System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;C:\\\\Users\\\\Shobhita\\\\Downloads\\\\chromedriver_win32\\\\chromedriver.exe&quot;);\r\n    ChromeOptions options = new ChromeOptions();\r\n    options.addArguments(&quot;--remote-allow-origins=*&quot;)\r\n    WebDriver driver=new ChromeDriver(options);\r\n    driver.get(&quot;https://google.com&quot;);","title":"Unable to invoke browser and also unable to hit any url to launch","body":"<p>Question was already answered here - <a href=\"https://stackoverflow.com/questions/75678572/java-io-ioexception-invalid-status-code-403-text-forbidden\">Java.io.IOException: Invalid Status code=403 text=Forbidden</a></p>\n<p>The changes that have also worked for me are the following:</p>\n<pre><code>System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;C:\\\\Users\\\\Shobhita\\\\Downloads\\\\chromedriver_win32\\\\chromedriver.exe&quot;);\nChromeOptions options = new ChromeOptions();\noptions.addArguments(&quot;--remote-allow-origins=*&quot;)\nWebDriver driver=new ChromeDriver(options);\ndriver.get(&quot;https://google.com&quot;);\n</code></pre>\n"}],"owner":{"account_id":28058723,"reputation":1,"user_id":21433314,"display_name":"Shobhita Raushan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":808,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679244790,"creation_date":1679242951,"question_id":75783391,"body_markdown":"I am unable to launch the URL. I am unable to run the following program successfully.\r\n\r\nCode:\r\n\r\n```java\r\nimport org.openqa.selenium.WebDriver;\r\nimport org.openqa.selenium.chrome.ChromeDriver;\r\n\r\npublic class FirstJavaProgram {\r\n\t@SuppressWarnings(&quot;unused&quot;)\r\n\tpublic static void main(String[] args) \r\n\t{\r\n        System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;C:\\\\Users\\\\Shobhita\\\\Downloads\\\\chromedriver_win32\\\\chromedriver.exe&quot;);\r\n\t\t//@SuppressWarnings(&quot;unused&quot;)\r\n\t\tWebDriver driver=new ChromeDriver();\r\n\t\tdriver.get(&quot;https://google.com&quot;);\r\n\t}\r\n}\r\n```\r\n\r\nConsole:\r\n\r\n```none\r\nSLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;.\r\nSLF4J: Defaulting to no-operation (NOP) logger implementation\r\nSLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder for further details.\r\nStarting ChromeDriver 111.0.5563.64 (c710e93d5b63b7095afe8c2c17df34408078439d-refs/branch-heads/5563@{#995}) on port 22905\r\nOnly local connections are allowed.\r\nPlease see https://chromedriver.chromium.org/security-considerations for suggestions on keeping ChromeDriver safe.\r\nChromeDriver was started successfully.\r\nMar 19, 2023 9:38:30 PM org.openqa.selenium.remote.http.WebSocket$Listener onError\r\nWARNING: Invalid Status code=403 text=Forbidden\r\njava.io.IOException: Invalid Status code=403 text=Forbidden\r\n\tat org.asynchttpclient.netty.handler.WebSocketHandler.abort(WebSocketHandler.java:92)\r\n\tat org.asynchttpclient.netty.handler.WebSocketHandler.handleRead(WebSocketHandler.java:118)\r\n\tat org.asynchttpclient.netty.handler.AsyncHttpClientHandler.channelRead(AsyncHttpClientHandler.java:78)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)\r\n\tat io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:436)\r\n\tat io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:346)\r\n\tat io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:333)\r\n\tat io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:454)\r\n\tat io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:290)\r\n\tat io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:251)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)\r\n\tat io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)\r\n\tat io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)\r\n\tat io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)\r\n\tat io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788)\r\n\tat io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)\r\n\tat io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)\r\n\tat io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)\r\n\tat io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)\r\n\tat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\r\n\tat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n\tat java.base/java.lang.Thread.run(Thread.java:833)\r\n\r\nException in thread &quot;main&quot; org.openqa.selenium.remote.http.ConnectionFailedException: Unable to establish websocket connection to http://localhost:51292/devtools/browser/736b4a3f-c140-491e-8b67-e4fa11b177af\r\nBuild info: version: &#39;4.8.1&#39;, revision: &#39;8ebccac989&#39;\r\nSystem info: os.name: &#39;Windows 11&#39;, os.arch: &#39;amd64&#39;, os.version: &#39;10.0&#39;, java.version: &#39;17.0.6&#39;\r\nDriver info: driver.version: ChromeDriver\r\n\tat org.openqa.selenium.remote.http.netty.NettyWebSocket.&lt;init&gt;(NettyWebSocket.java:102)\r\n\tat org.openqa.selenium.remote.http.netty.NettyWebSocket.lambda$create$3(NettyWebSocket.java:128)\r\n\tat org.openqa.selenium.remote.http.netty.NettyClient.openSocket(NettyClient.java:107)\r\n\tat org.openqa.selenium.devtools.Connection.&lt;init&gt;(Connection.java:78)\r\n\tat org.openqa.selenium.chromium.ChromiumDriver.lambda$new$2(ChromiumDriver.java:116)\r\n\tat java.base/java.util.Optional.map(Optional.java:260)\r\n\tat org.openqa.selenium.chromium.ChromiumDriver.&lt;init&gt;(ChromiumDriver.java:114)\r\n\tat org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:82)\r\n\tat org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:50)\r\n\tat FirstJavaProgram.main(FirstJavaProgram.java:16)\r\n```\r\n\r\nI was trying to invoke browser and hit google but it is not happening instead it is throwing above error.","title":"Unable to invoke browser and also unable to hit any url to launch","body":"<p>I am unable to launch the URL. I am unable to run the following program successfully.</p>\n<p>Code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.chrome.ChromeDriver;\n\npublic class FirstJavaProgram {\n    @SuppressWarnings(&quot;unused&quot;)\n    public static void main(String[] args) \n    {\n        System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;C:\\\\Users\\\\Shobhita\\\\Downloads\\\\chromedriver_win32\\\\chromedriver.exe&quot;);\n        //@SuppressWarnings(&quot;unused&quot;)\n        WebDriver driver=new ChromeDriver();\n        driver.get(&quot;https://google.com&quot;);\n    }\n}\n</code></pre>\n<p>Console:</p>\n<pre class=\"lang-none prettyprint-override\"><code>SLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;.\nSLF4J: Defaulting to no-operation (NOP) logger implementation\nSLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder for further details.\nStarting ChromeDriver 111.0.5563.64 (c710e93d5b63b7095afe8c2c17df34408078439d-refs/branch-heads/5563@{#995}) on port 22905\nOnly local connections are allowed.\nPlease see https://chromedriver.chromium.org/security-considerations for suggestions on keeping ChromeDriver safe.\nChromeDriver was started successfully.\nMar 19, 2023 9:38:30 PM org.openqa.selenium.remote.http.WebSocket$Listener onError\nWARNING: Invalid Status code=403 text=Forbidden\njava.io.IOException: Invalid Status code=403 text=Forbidden\n    at org.asynchttpclient.netty.handler.WebSocketHandler.abort(WebSocketHandler.java:92)\n    at org.asynchttpclient.netty.handler.WebSocketHandler.handleRead(WebSocketHandler.java:118)\n    at org.asynchttpclient.netty.handler.AsyncHttpClientHandler.channelRead(AsyncHttpClientHandler.java:78)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)\n    at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)\n    at io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:436)\n    at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:346)\n    at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:333)\n    at io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:454)\n    at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:290)\n    at io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:251)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)\n    at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)\n    at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)\n    at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)\n    at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)\n    at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788)\n    at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)\n    at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)\n    at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)\n    at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)\n    at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\n    at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\n    at java.base/java.lang.Thread.run(Thread.java:833)\n\nException in thread &quot;main&quot; org.openqa.selenium.remote.http.ConnectionFailedException: Unable to establish websocket connection to http://localhost:51292/devtools/browser/736b4a3f-c140-491e-8b67-e4fa11b177af\nBuild info: version: '4.8.1', revision: '8ebccac989'\nSystem info: os.name: 'Windows 11', os.arch: 'amd64', os.version: '10.0', java.version: '17.0.6'\nDriver info: driver.version: ChromeDriver\n    at org.openqa.selenium.remote.http.netty.NettyWebSocket.&lt;init&gt;(NettyWebSocket.java:102)\n    at org.openqa.selenium.remote.http.netty.NettyWebSocket.lambda$create$3(NettyWebSocket.java:128)\n    at org.openqa.selenium.remote.http.netty.NettyClient.openSocket(NettyClient.java:107)\n    at org.openqa.selenium.devtools.Connection.&lt;init&gt;(Connection.java:78)\n    at org.openqa.selenium.chromium.ChromiumDriver.lambda$new$2(ChromiumDriver.java:116)\n    at java.base/java.util.Optional.map(Optional.java:260)\n    at org.openqa.selenium.chromium.ChromiumDriver.&lt;init&gt;(ChromiumDriver.java:114)\n    at org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:82)\n    at org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:50)\n    at FirstJavaProgram.main(FirstJavaProgram.java:16)\n</code></pre>\n<p>I was trying to invoke browser and hit google but it is not happening instead it is throwing above error.</p>\n"},{"tags":["java","spring-boot","rest","logging"],"owner":{"account_id":11470688,"reputation":51,"user_id":8407617,"display_name":"Jagrat"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":157,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679244144,"creation_date":1679227528,"question_id":75781853,"body_markdown":"I have 1 controller class in which my API is as follow\r\n\r\n```\r\n@Async(&quot;jobThreadPoolExecutorService&quot;)\r\n\t@RequestMapping(value = &quot;/processplan&quot;, method = RequestMethod.GET)\r\n\tpublic ResponseEntity&lt;?&gt; processplan() {\r\n\t\tmyService.processplan();\r\n\t\treturn new ResponseEntity&lt;&gt;(HttpStatus.OK);\r\n\t}\r\n```\r\n\r\nAfter that in Impl class i have defined the method and wrote all code as follow\r\n\r\n```\r\n@Override\r\n\tpublic void processplan() {\r\n\t\tlog.info(&quot;start processing plan&quot;);\r\n\t\tSet&lt;String&gt; keySets = template.keys(&quot;planNo&quot;);\r\n\t\tif (!CollectionUtils.isEmpty(keySets)) {\r\n\t\t\tlog.error(&quot;task already running. Discarding this task.&quot;);\r\n\t\t\treturn;\r\n\t\t}\r\n                // some code\r\n                log.info(&quot;process completed&quot;);\r\n\r\n```\r\n\r\nSince the request is async the request id is not printed in these logs. It&#39;s difficult to track request in logs in such cases . How to achieve the same.\r\n\r\nI am using @Slf4j logging.\r\n\r\n\r\nThis the code of the Thread Class\r\n```\r\n@Configuration\r\n@EnableAsync\r\npublic class ThreadPoolConfiguration implements AsyncConfigurer {\r\n\r\n\t@Value(&quot;${job.thread.pool.parallelism:50}&quot;)\r\n\tprivate Integer jobThreadParallelism;\r\n\r\n\r\n\t@Override\r\n\t@Bean(&quot;threadPoolExecutorService&quot;)\r\n\t@Primary\r\n\tpublic ExecutorService getAsyncExecutor() {\r\n\t\treturn ThreadUtils.getAsyncExecutor(jobThreadParallelism);\r\n\t}\r\n\r\n\t@Bean(&quot;jobThreadPoolExecutorService&quot;)\r\n\tpublic ExecutorService jobThreadPoolExecutorService() {\r\n\t\treturn ThreadUtils.getAsyncExecutor(jobThreadParallelism);\r\n\t}\r\n\r\n\t\r\n\t@Override\r\n\tpublic AsyncUncaughtExceptionHandler getAsyncUncaughtExceptionHandler() {\r\n\t\treturn new SimpleAsyncUncaughtExceptionHandler();\r\n\t}\r\n\r\n}\r\n```\r\n\r\n\r\nPS : For sync requests the request id is coming in each of the log.\r\n\r\nI tried all the possible solutions from the various articles and stack overflow solutions but not able to achieve the same.","title":"How to add request id in logs if the api is async in java 8 using springboot","body":"<p>I have 1 controller class in which my API is as follow</p>\n<pre><code>@Async(&quot;jobThreadPoolExecutorService&quot;)\n    @RequestMapping(value = &quot;/processplan&quot;, method = RequestMethod.GET)\n    public ResponseEntity&lt;?&gt; processplan() {\n        myService.processplan();\n        return new ResponseEntity&lt;&gt;(HttpStatus.OK);\n    }\n</code></pre>\n<p>After that in Impl class i have defined the method and wrote all code as follow</p>\n<pre><code>@Override\n    public void processplan() {\n        log.info(&quot;start processing plan&quot;);\n        Set&lt;String&gt; keySets = template.keys(&quot;planNo&quot;);\n        if (!CollectionUtils.isEmpty(keySets)) {\n            log.error(&quot;task already running. Discarding this task.&quot;);\n            return;\n        }\n                // some code\n                log.info(&quot;process completed&quot;);\n\n</code></pre>\n<p>Since the request is async the request id is not printed in these logs. It's difficult to track request in logs in such cases . How to achieve the same.</p>\n<p>I am using @Slf4j logging.</p>\n<p>This the code of the Thread Class</p>\n<pre><code>@Configuration\n@EnableAsync\npublic class ThreadPoolConfiguration implements AsyncConfigurer {\n\n    @Value(&quot;${job.thread.pool.parallelism:50}&quot;)\n    private Integer jobThreadParallelism;\n\n\n    @Override\n    @Bean(&quot;threadPoolExecutorService&quot;)\n    @Primary\n    public ExecutorService getAsyncExecutor() {\n        return ThreadUtils.getAsyncExecutor(jobThreadParallelism);\n    }\n\n    @Bean(&quot;jobThreadPoolExecutorService&quot;)\n    public ExecutorService jobThreadPoolExecutorService() {\n        return ThreadUtils.getAsyncExecutor(jobThreadParallelism);\n    }\n\n    \n    @Override\n    public AsyncUncaughtExceptionHandler getAsyncUncaughtExceptionHandler() {\n        return new SimpleAsyncUncaughtExceptionHandler();\n    }\n\n}\n</code></pre>\n<p>PS : For sync requests the request id is coming in each of the log.</p>\n<p>I tried all the possible solutions from the various articles and stack overflow solutions but not able to achieve the same.</p>\n"},{"tags":["java","arrays","charat"],"comments":[{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":1,"creation_date":1679242339,"post_id":75783317,"comment_id":133682223,"body_markdown":"Yes, that makes sense, because 51 is the UTF-16 code unit for &#39;3&#39;. (So no, you&#39;re not getting incorrect output - you just have incorrect expectations.)","body":"Yes, that makes sense, because 51 is the UTF-16 code unit for &#39;3&#39;. (So no, you&#39;re not getting incorrect output - you just have incorrect expectations.)"},{"owner":{"account_id":18250134,"reputation":45,"user_id":13285308,"display_name":"Xayyna"},"score":0,"creation_date":1679242630,"post_id":75783317,"comment_id":133682284,"body_markdown":"So how do I get 3?","body":"So how do I get 3?"},{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1679244323,"post_id":75783317,"comment_id":133682614,"body_markdown":"Well you could use `Character.digit`... but it&#39;s not really clear what your goal is in the first place. If you&#39;re trying to parse a string as an integer, there are already other ways of doing that. (But you&#39;re converting a number into the string to start with... it&#39;s all *really* confusing, because you haven&#39;t explained what you&#39;re trying to do.)","body":"Well you could use <code>Character.digit</code>... but it&#39;s not really clear what your goal is in the first place. If you&#39;re trying to parse a string as an integer, there are already other ways of doing that. (But you&#39;re converting a number into the string to start with... it&#39;s all <i>really</i> confusing, because you haven&#39;t explained what you&#39;re trying to do.)"}],"answers":[{"tags":[],"owner":{"account_id":8197608,"reputation":822,"user_id":6169894,"display_name":"AminM"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1679244128,"creation_date":1679243544,"answer_id":75783457,"question_id":75783317,"body_markdown":"You are getting an ``int`` instead of a ``char`` because you are implicitly converting the char into an int in this line:\r\n\r\n```\r\nint base= str.charAt(i);\r\n```\r\n\r\nYou can convert the character to a number like this:\r\n\r\n```\r\nint base= Integer.parseInt(str.substring(i,i+1));\r\n```\r\n\r\nThis will throw an exception if the substring is not a number so you&#39;ll need to handle that.","title":"Getting incorrect output for my charAt funciton","body":"<p>You are getting an <code>int</code> instead of a <code>char</code> because you are implicitly converting the char into an int in this line:</p>\n<pre><code>int base= str.charAt(i);\n</code></pre>\n<p>You can convert the character to a number like this:</p>\n<pre><code>int base= Integer.parseInt(str.substring(i,i+1));\n</code></pre>\n<p>This will throw an exception if the substring is not a number so you'll need to handle that.</p>\n"}],"owner":{"account_id":18250134,"reputation":45,"user_id":13285308,"display_name":"Xayyna"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75783457,"answer_count":1,"score":0,"last_activity_date":1679244128,"creation_date":1679242193,"question_id":75783317,"body_markdown":"I have this function, and for some reason even though str =30, and i=0, str.charAt(i) gives me 51.\r\n\r\n```java\r\nprivate static void handleArmstrong(int parameter) {\r\n    int number;\r\n    for (number = 0; number &lt; parameter+1; number++) {\r\n        String str= Integer.toString(number);\r\n        int len=str.length();\r\n        double result=0;\r\n        for (int i = 0; i &lt; len; i++) {\r\n            int base= str.charAt(0);\r\n            result=+Math.pow(base,len);\r\n        };\r\n    }\r\n}\r\n```","title":"Getting incorrect output for my charAt funciton","body":"<p>I have this function, and for some reason even though str =30, and i=0, str.charAt(i) gives me 51.</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static void handleArmstrong(int parameter) {\n    int number;\n    for (number = 0; number &lt; parameter+1; number++) {\n        String str= Integer.toString(number);\n        int len=str.length();\n        double result=0;\n        for (int i = 0; i &lt; len; i++) {\n            int base= str.charAt(0);\n            result=+Math.pow(base,len);\n        };\n    }\n}\n</code></pre>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":8197608,"reputation":822,"user_id":6169894,"display_name":"AminM"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1679243921,"creation_date":1679243921,"answer_id":75783493,"question_id":75783411,"body_markdown":"Thats because ``InputStreamReader`` assumes the default charset by default (per the Javadocs).\r\n\r\nYou should specify the charset of the file you&#39;re reading as you did in the second example like this:\r\n\r\n```\r\nnew BufferedReader(new InputStreamReader(inputStream, StandardCharsets.ISO_8859_1))\r\n```\r\n\r\nThe only problem is that it may not be possible to know what encoding your file has. For example in Windows you could assume ISO, but there may also be UTF-8 files. \r\n\r\nSome solutions to this problem are discussed here: https://stackoverflow.com/questions/499010/java-how-to-determine-the-correct-charset-encoding-of-a-stream\r\n\r\nUsing external libraries.","title":"Mapping from ISO_8859_1 to UTF-8","body":"<p>Thats because <code>InputStreamReader</code> assumes the default charset by default (per the Javadocs).</p>\n<p>You should specify the charset of the file you're reading as you did in the second example like this:</p>\n<pre><code>new BufferedReader(new InputStreamReader(inputStream, StandardCharsets.ISO_8859_1))\n</code></pre>\n<p>The only problem is that it may not be possible to know what encoding your file has. For example in Windows you could assume ISO, but there may also be UTF-8 files.</p>\n<p>Some solutions to this problem are discussed here: <a href=\"https://stackoverflow.com/questions/499010/java-how-to-determine-the-correct-charset-encoding-of-a-stream\">Java : How to determine the correct charset encoding of a stream</a></p>\n<p>Using external libraries.</p>\n"}],"owner":{"account_id":27461478,"reputation":31,"user_id":20951963,"display_name":"pawel asdasdad"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1679243921,"creation_date":1679243147,"question_id":75783411,"body_markdown":"When using \r\n```\r\nnew BufferedReader(new InputStreamReader(inputStream))\r\n```\r\n and then mapping each line like\r\n``` \r\n String(bufferedReader.readLine().getBytes(StandardCharsets.ISO_8859_1), StandardCharsets.UTF_8);\r\n ```\r\nfor some cases doesnt map as expected\r\n\r\nwhen using \r\n```\r\nnew BufferedReader(new InputStreamReader(inputStream, StandardCharsets.ISO_8859_1))\r\nit sees characters as expected\r\n ```\r\n\r\nI cannot use second second method with providing the charset to InputStreamReader. Any idea why it wouldn&#39;t work?","title":"Mapping from ISO_8859_1 to UTF-8","body":"<p>When using</p>\n<pre><code>new BufferedReader(new InputStreamReader(inputStream))\n</code></pre>\n<p>and then mapping each line like</p>\n<pre><code> String(bufferedReader.readLine().getBytes(StandardCharsets.ISO_8859_1), StandardCharsets.UTF_8);\n</code></pre>\n<p>for some cases doesnt map as expected</p>\n<p>when using</p>\n<pre><code>new BufferedReader(new InputStreamReader(inputStream, StandardCharsets.ISO_8859_1))\nit sees characters as expected\n</code></pre>\n<p>I cannot use second second method with providing the charset to InputStreamReader. Any idea why it wouldn't work?</p>\n"},{"tags":["java","jena","ontology"],"comments":[{"owner":{"account_id":25844446,"reputation":1954,"user_id":19579546,"display_name":"Stefan - brox IT-Solutions"},"score":0,"creation_date":1679311346,"post_id":75783454,"comment_id":133692943,"body_markdown":"Did you try `file:///С:/Users/xeniy/Desktop/DomenEng_04/L01_easy_for_L04.rdf`?","body":"Did you try <code>file:&#47;&#47;&#47;С:&#47;Users&#47;xeniy&#47;Desktop&#47;DomenEng_04&#47;L01_easy_for_L04.&zwnj;&#8203;rdf</code>?"},{"owner":{"account_id":22090400,"reputation":11,"user_id":16348536,"display_name":"Ксения Манжула"},"score":0,"creation_date":1679331965,"post_id":75783454,"comment_id":133699102,"body_markdown":"No, it doesn&#39;t work. Still DoesNotExistException.","body":"No, it doesn&#39;t work. Still DoesNotExistException."},{"owner":{"account_id":394579,"reputation":16420,"user_id":757100,"display_name":"AndyS"},"score":0,"creation_date":1679337922,"post_id":75783454,"comment_id":133700662,"body_markdown":"This is androjena, not Apache Jena. Androjena is a very old fork.  It&#39;s for Android so maybe &quot;C:&quot; isn&#39;t correct. Try `file:///Users/xeniy/Desktop/DomenEng_04/L01_easy_for_L04.rdf`.","body":"This is androjena, not Apache Jena. Androjena is a very old fork.  It&#39;s for Android so maybe &quot;C:&quot; isn&#39;t correct. Try <code>file:&#47;&#47;&#47;Users&#47;xeniy&#47;Desktop&#47;DomenEng_04&#47;L01_easy_for_L04.rdf</code>&zwnj;&#8203;."},{"owner":{"account_id":22090400,"reputation":11,"user_id":16348536,"display_name":"Ксения Манжула"},"score":0,"creation_date":1679378807,"post_id":75783454,"comment_id":133706542,"body_markdown":"This URL also not working. I tried to write literally directly: (model.read(&quot;....&quot;), and through new File and the toUrl() method.","body":"This URL also not working. I tried to write literally directly: (model.read(&quot;....&quot;), and through new File and the toUrl() method."}],"owner":{"account_id":22090400,"reputation":11,"user_id":16348536,"display_name":"Ксения Манжула"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1679243530,"creation_date":1679243530,"question_id":75783454,"body_markdown":"Let me start with what I have at the moment: I have a ready-made ontology in .rdf format, I work in Android Studio, I study Jena Fuseki in Studio. I have installed all the libraries I need.\r\n(https://i.stack.imgur.com/oPSO7.png)\r\n\r\nMy task is to load the already mentioned existing model (ontology) from a file. But the problem is that I get two kinds of exceptions: the first I encounter for the first time, and the second is illogical.\r\n\r\nSo, task is to load the already mentioned existing model (ontology) from a file. I do it this way:\r\n\r\n```\r\nModel m = ModelFactory.createDefaultModel();\r\nm.read(&quot;C://Users//xeniy//Desktop//DomenEng_04//L01_easy_for_L04.rdf&quot;);\r\nm.write(System.out, &quot;RDF/XML-ABBREV&quot;);\r\n````\r\n\r\nI get an exception from the studio (first type), which can be seen in the screenshot:\r\n(https://i.stack.imgur.com/beldB.png)\r\n\r\nI can not call myself a beginner in programming, but this is the first time I see such an exception. The method of googling gave the following variant: The problem is in the URL. On this basis, I changed the code:\r\n\r\n```\r\nModel m = ModelFactory.createDefaultModel();\r\n    try {\r\n        m.read(new File(&quot;С:/Users/xeniy/Desktop/DomenEng_04/L01_easy_for_L04.rdf&quot;).toURL().toString());\r\n        m.write(System.out, &quot;RDF/XML-ABBREV&quot;);\r\n    } catch (MalformedURLException e) {\r\n        e.printStackTrace();\r\n    }\r\n````\r\n\r\nThe exception, of course, had changed, only it left me even more stumped than the previous one (the second type of exception):\r\n(https://i.stack.imgur.com/xQwsI.png)\r\n\r\nIt seems to be simple: DoesNotExistException directly says that the file you are looking for does not exist or is not found. But the file is definitely in the folder, and it can be opened, which means that it exists.\r\n\r\n(https://i.stack.imgur.com/Uuhcx.png)","title":"How to load an existing model (ontology) from a file?","body":"<p>Let me start with what I have at the moment: I have a ready-made ontology in .rdf format, I work in Android Studio, I study Jena Fuseki in Studio. I have installed all the libraries I need.\n(<a href=\"https://i.stack.imgur.com/oPSO7.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/oPSO7.png</a>)</p>\n<p>My task is to load the already mentioned existing model (ontology) from a file. But the problem is that I get two kinds of exceptions: the first I encounter for the first time, and the second is illogical.</p>\n<p>So, task is to load the already mentioned existing model (ontology) from a file. I do it this way:</p>\n<pre><code>Model m = ModelFactory.createDefaultModel();\nm.read(&quot;C://Users//xeniy//Desktop//DomenEng_04//L01_easy_for_L04.rdf&quot;);\nm.write(System.out, &quot;RDF/XML-ABBREV&quot;);\n</code></pre>\n<p>I get an exception from the studio (first type), which can be seen in the screenshot:\n(<a href=\"https://i.stack.imgur.com/beldB.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/beldB.png</a>)</p>\n<p>I can not call myself a beginner in programming, but this is the first time I see such an exception. The method of googling gave the following variant: The problem is in the URL. On this basis, I changed the code:</p>\n<pre><code>Model m = ModelFactory.createDefaultModel();\n    try {\n        m.read(new File(&quot;С:/Users/xeniy/Desktop/DomenEng_04/L01_easy_for_L04.rdf&quot;).toURL().toString());\n        m.write(System.out, &quot;RDF/XML-ABBREV&quot;);\n    } catch (MalformedURLException e) {\n        e.printStackTrace();\n    }\n</code></pre>\n<p>The exception, of course, had changed, only it left me even more stumped than the previous one (the second type of exception):\n(<a href=\"https://i.stack.imgur.com/xQwsI.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/xQwsI.png</a>)</p>\n<p>It seems to be simple: DoesNotExistException directly says that the file you are looking for does not exist or is not found. But the file is definitely in the folder, and it can be opened, which means that it exists.</p>\n<p>(<a href=\"https://i.stack.imgur.com/Uuhcx.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/Uuhcx.png</a>)</p>\n"},{"tags":["java","eclipse","gradle","annotation-processing","buildship"],"comments":[{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1679151422,"post_id":75776308,"comment_id":133671802,"body_markdown":"An annotation processor can be configured to be run in the incremental project build in _Project &gt; Properties: Java Compiler &gt; Annotation Processing_. To do this configuration via Gradle, see https://github.com/eclipse/buildship/issues/329#issuecomment-567139705","body":"An annotation processor can be configured to be run in the incremental project build in <i>Project &gt; Properties: Java Compiler &gt; Annotation Processing</i>. To do this configuration via Gradle, see <a href=\"https://github.com/eclipse/buildship/issues/329#issuecomment-567139705\" rel=\"nofollow noreferrer\">github.com/eclipse/buildship/issues/329#issuecomment-5671397&zwnj;&#8203;05</a>"},{"owner":{"account_id":1531936,"reputation":349,"user_id":1428945,"accept_rate":64,"display_name":"user1428945"},"score":0,"creation_date":1679156405,"post_id":75776308,"comment_id":133672750,"body_markdown":"I don&#39;t understand.  The problem isn&#39;t Eclipse running my Annotation Processor, the problem is Eclipse isn&#39;t running the Annotation Processor when I REMOVE an annotation from a class, which causes the generated file to be out-of-date and invalid.","body":"I don&#39;t understand.  The problem isn&#39;t Eclipse running my Annotation Processor, the problem is Eclipse isn&#39;t running the Annotation Processor when I REMOVE an annotation from a class, which causes the generated file to be out-of-date and invalid."},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":1,"creation_date":1679159006,"post_id":75776308,"comment_id":133673170,"body_markdown":"Did you configure it as said in my comment, not mentioning it in your question? Please provide a complete [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example). Your code snippet seems to extend `AbstractProcessor`. Implementing `Processor` that writes a timestamp in each method to a file outside the project would be enough and would not miss anything. Please tell when it is trigger and when not.","body":"Did you configure it as said in my comment, not mentioning it in your question? Please provide a complete <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. Your code snippet seems to extend <code>AbstractProcessor</code>. Implementing <code>Processor</code> that writes a timestamp in each method to a file outside the project would be enough and would not miss anything. Please tell when it is trigger and when not."}],"answers":[{"tags":[],"owner":{"account_id":1531936,"reputation":349,"user_id":1428945,"accept_rate":64,"display_name":"user1428945"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679243334,"creation_date":1679164497,"answer_id":75777905,"question_id":75776308,"body_markdown":"The issue was getSupportedAnnotationTypes() needed to return &quot;*&quot; because it needed to be able to operate on the empty set of annotations.  It also needed to always run the `writeAnnotationFile`, not just when `roundEnv.getElementsAnnotatedWith` returned a result.\r\n\r\nNow it properly updates the file when an annotation is removed.  This means that it&#39;ll consume all classes when you do a full rebuild, but a slow processor is better than one that doesn&#39;t work at all.  It also has a problem where it creates empty text files instead of removing it, but it&#39;s not that big of a deal.\r\n\r\n# Edit\r\n\r\nThe previous posted solution worked within Eclipse, but did not when built with Gradle.  This solution works in both Eclipse and Gradle.\r\n\r\n```java\r\n@SupportedAnnotationTypes({&quot;*&quot;})\r\n@SupportedSourceVersion(SourceVersion.RELEASE_11)\r\n@AutoService(Processor.class)\r\npublic class AnnotationTextDump extends AbstractProcessor {\r\n  private List&lt;AnnotationTextDumpWriter&gt; writers = null;\r\n\r\n  @Override\r\n  public Set&lt;String&gt; getSupportedAnnotationTypes() {\r\n    return Set.of(&quot;*&quot;);\r\n  }\r\n\r\n  @Override\r\n  public boolean process(Set&lt;? extends TypeElement&gt; annotations, RoundEnvironment roundEnv) {\r\n    if (writers == null) {\r\n      writers =\r\n          Arrays.asList(\r\n              new AnnotationTextDumpWriter(&quot;your.Annotation1&quot;),\r\n              new AnnotationTextDumpWriter(&quot;your.Annotation2&quot;));\r\n    }\r\n\r\n    if (!roundEnv.processingOver()) {\r\n      for (var i : writers) {\r\n        try {\r\n          i.appendElements(annotations, roundEnv, processingEnv);\r\n        } catch (IOException e) {\r\n          // You should properly log the exception here, but I&#39;m not sure how to get it to appear\r\n          // in Eclipse&#39;s Problem&#39;s view.\r\n          e.printStackTrace();\r\n          throw new IllegalStateException(e);\r\n        }\r\n      }\r\n    } else {\r\n      for (var i : writers) {\r\n        i.close();\r\n      }\r\n    }\r\n\r\n    return false;\r\n  }\r\n}\r\n\r\n\r\nclass AnnotationTextDumpWriter{\r\n  private String annotationName;\r\n  private boolean initialized;\r\n  private Set&lt;String&gt; classes;\r\n  private PrintWriter fileOutput;\r\n\r\n  XmImmutableListWriter(String annotationName) {\r\n    this.annotationName = annotationName;\r\n    initialized = false;\r\n    classes = null;\r\n    fileOutput = null;\r\n  }\r\n\r\n  void appendElements(\r\n      Set&lt;? extends TypeElement&gt; annotations,\r\n      RoundEnvironment roundEnv,\r\n      ProcessingEnvironment processingEnv)\r\n      throws IOException {\r\n    initialize(processingEnv);\r\n\r\n    for (var i : annotations) {\r\n      if (i.getQualifiedName().toString().equals(annotationName)) {\r\n        var elements = roundEnv.getElementsAnnotatedWith(i);\r\n        convertElementsToList(elements, processingEnv);\r\n      }\r\n    }\r\n  }\r\n\r\n  private void initialize(ProcessingEnvironment processingEnv) throws IOException {\r\n    if (initialized) {\r\n      return;\r\n    }\r\n\r\n    var fileName = &quot;META-INF/annotations/&quot; + annotationName;\r\n\r\n    initialized = true;\r\n    classes = new HashSet&lt;&gt;();\r\n    classes.addAll(getPreviousListedClasses(fileName, annotationName, processingEnv));\r\n    fileOutput =\r\n        new PrintWriter(\r\n            processingEnv\r\n                .getFiler()\r\n                .createResource(StandardLocation.CLASS_OUTPUT, &quot;&quot;, fileName)\r\n                .openWriter());\r\n  }\r\n\r\n  private void convertElementsToList(\r\n      Set&lt;? extends Element&gt; elements, ProcessingEnvironment processingEnv) {\r\n    for (var elem : elements) {\r\n      var packag = processingEnv.getElementUtils().getPackageOf(elem).getQualifiedName().toString();\r\n      var fullyQualifiedName = packag + &quot;.&quot; + elem.getSimpleName();\r\n\r\n      classes.add(fullyQualifiedName);\r\n    }\r\n  }\r\n\r\n  void close() {\r\n    if (classes != null) {\r\n      var sortedClasses = new ArrayList&lt;&gt;(classes);\r\n      Collections.sort(sortedClasses);\r\n\r\n      for (var i : sortedClasses) {\r\n        fileOutput.append(i);\r\n        fileOutput.append(&#39;\\n&#39;);\r\n      }\r\n    }\r\n\r\n    fileOutput.close();\r\n  }\r\n\r\n  private static List&lt;String&gt; getPreviousListedClasses(\r\n      String fileName, String annotationName, ProcessingEnvironment processingEnv)\r\n      throws IOException {\r\n    try {\r\n      var previousFile =\r\n          processingEnv.getFiler().getResource(StandardLocation.CLASS_OUTPUT, &quot;&quot;, fileName);\r\n      var classSplit = openPreviousFile(previousFile);\r\n      var ret = new ArrayList&lt;String&gt;();\r\n\r\n      for (var clazz : classSplit) {\r\n        if (classIsStillAnnotated(clazz, annotationName, processingEnv)) {\r\n          ret.add(clazz);\r\n        }\r\n      }\r\n\r\n      return ret;\r\n    } catch (FilerException e) {\r\n      throw e;\r\n    } catch (IOException e) {\r\n      return Collections.emptyList();\r\n    }\r\n  }\r\n\r\n  private static List&lt;String&gt; openPreviousFile(FileObject previousFile) throws IOException {\r\n    try (var in = previousFile.openInputStream()) {\r\n      var fileContents = ByteStreams.toByteArray(in);\r\n      var fileString = new String(fileContents, StandardCharsets.UTF_8);\r\n\r\n      if (fileString.isBlank()) {\r\n        return Collections.emptyList();\r\n      }\r\n\r\n      var classSplit = fileString.split(&quot;\\n&quot;);\r\n      return Arrays.asList(classSplit);\r\n    }\r\n  }\r\n\r\n  private static boolean classIsStillAnnotated(\r\n      String clazz, String annotationName, ProcessingEnvironment processingEnv) {\r\n    var prevTypeElement = processingEnv.getElementUtils().getTypeElement(clazz);\r\n\r\n    if (prevTypeElement == null) {\r\n      return false;\r\n    }\r\n\r\n    var annot = prevTypeElement.getAnnotationMirrors();\r\n\r\n    for (var i : annot) {\r\n      var annotElem = i.getAnnotationType().asElement();\r\n      var packag =\r\n          processingEnv.getElementUtils().getPackageOf(annotElem).getQualifiedName().toString();\r\n      var qualifiedAnnotName = packag + &quot;.&quot; + annotElem.getSimpleName();\r\n\r\n      if (qualifiedAnnotName.equals(annotationName)) {\r\n        return true;\r\n      }\r\n    }\r\n\r\n    return false;\r\n  }\r\n}\r\n```\r\n\r\n# Old solution that works in Eclipse, but not in Gradle\r\n\r\n```java\r\n@SupportedAnnotationTypes({&quot;*&quot;})\r\n@SupportedSourceVersion(SourceVersion.RELEASE_11)\r\n@AutoService(Processor.class)\r\npublic class AnnotationTextDump extends AbstractProcessor {\r\n  public static final String YOUR_ANNOTATION1 = &quot;your.Annotation1&quot;;\r\n  public static final String YOUR_ANNOTATION2 = &quot;your.Annotation2&quot;;\r\n\r\n  @Override\r\n  public Set&lt;String&gt; getSupportedAnnotationTypes() {\r\n    return Set.of(&quot;*&quot;);\r\n  }\r\n\r\n  @Override\r\n  public boolean process(Set&lt;? extends TypeElement&gt; annotations, RoundEnvironment roundEnv) {\r\n    if (!roundEnv.processingOver()) {\r\n      try {\r\n        generateAnnotationFiles(annotations, roundEnv);\r\n      } catch (Exception e) {\r\n\t    // You should properly log the exception here, but I&#39;m not sure how to get it to appear\r\n\t\t// in Eclipse&#39;s Problem&#39;s view.\r\n        throw new IllegalStateException(e);\r\n      }\r\n    }\r\n\r\n    return false;\r\n  }\r\n\r\n  private void generateAnnotationFiles(\r\n      Set&lt;? extends TypeElement&gt; annotations, RoundEnvironment roundEnv) throws IOException {\r\n    Set&lt;? extends Element&gt; elements1 = Collections.&lt;Element&gt;emptySet();\r\n    Set&lt;? extends Element&gt; elements2 = Collections.&lt;Element&gt;emptySet();\r\n\r\n    for (var i : annotations) {\r\n      if (i.getQualifiedName().toString().equals(YOUR_ANNOTATION1)) {\r\n        elements1 = roundEnv.getElementsAnnotatedWith(i);\r\n      }\r\n\r\n      if (i.getQualifiedName().toString().equals(YOUR_ANNOTATION2)) {\r\n        elements2 = roundEnv.getElementsAnnotatedWith(i);\r\n      }\r\n    }\r\n\r\n    writeAnnotationFile(YOUR_ANNOTATION1, elements1);\r\n    writeAnnotationFile(YOUR_ANNOTATION2, elements2);\r\n  }\r\n\r\n  private void writeAnnotationFile(String annotationName, Set&lt;? extends Element&gt; elements)\r\n      throws IOException {\r\n    var fileName = &quot;META-INF/annotations/&quot; + annotationName;\r\n    var classBuilder = new HashSet&lt;&gt;(convertElementsToList(elements));\r\n    classBuilder.addAll(getPreviousListedClasses(fileName, annotationName));\r\n    var classes = new ArrayList&lt;&gt;(classBuilder);\r\n    Collections.sort(classes);\r\n\r\n    var fileContents = new StringBuilder();\r\n\r\n    for (var i : classes) {\r\n      fileContents.append(i);\r\n      fileContents.append(&#39;\\n&#39;);\r\n    }\r\n\r\n    try (var out =\r\n        new PrintWriter(\r\n            processingEnv\r\n                .getFiler()\r\n                .createResource(StandardLocation.SOURCE_OUTPUT, &quot;&quot;, fileName)\r\n                .openWriter())) {\r\n      out.append(fileContents.toString());\r\n    }\r\n  }\r\n\r\n  private List&lt;String&gt; getPreviousListedClasses(String fileName, String annotationName)\r\n      throws IOException {\r\n    try {\r\n      var previousFile =\r\n          processingEnv.getFiler().getResource(StandardLocation.SOURCE_OUTPUT, &quot;&quot;, fileName);\r\n      var classSplit = openPreviousFile(previousFile);\r\n      var ret = new ArrayList&lt;String&gt;();\r\n\r\n      for (var clazz : classSplit) {\r\n        if (classIsStillAnnotated(clazz, annotationName)) {\r\n          ret.add(clazz);\r\n        }\r\n      }\r\n\r\n      return ret;\r\n    } catch (FilerException e) {\r\n      throw e;\r\n    } catch (IOException e) {\r\n      return Collections.emptyList();\r\n    }\r\n  }\r\n\r\n  private List&lt;String&gt; openPreviousFile(FileObject previousFile) throws IOException {\r\n    try (var in = previousFile.openInputStream()) {\r\n      var fileContents = ByteStreams.toByteArray(in);\r\n      var fileString = new String(fileContents, StandardCharsets.UTF_8);\r\n\r\n      if (fileString.isBlank()) {\r\n        return Collections.emptyList();\r\n      }\r\n\r\n      var classSplit = fileString.split(&quot;\\n&quot;);\r\n      return Arrays.asList(classSplit);\r\n    }\r\n  }\r\n\r\n  private boolean classIsStillAnnotated(String clazz, String annotationName) {\r\n    var prevTypeElement = processingEnv.getElementUtils().getTypeElement(clazz);\r\n\r\n    if (prevTypeElement == null) {\r\n      return false;\r\n    }\r\n\r\n    var annot = prevTypeElement.getAnnotationMirrors();\r\n\r\n    for (var i : annot) {\r\n      var annotElem = i.getAnnotationType().asElement();\r\n      var packag =\r\n          processingEnv.getElementUtils().getPackageOf(annotElem).getQualifiedName().toString();\r\n      var qualifiedAnnotName = packag + &quot;.&quot; + annotElem.getSimpleName();\r\n\r\n      if (qualifiedAnnotName.equals(annotationName)) {\r\n        return true;\r\n      }\r\n    }\r\n\r\n    return false;\r\n  }\r\n\r\n  private List&lt;String&gt; convertElementsToList(Set&lt;? extends Element&gt; elements) {\r\n    var ret = new ArrayList&lt;String&gt;();\r\n\r\n    for (var elem : elements) {\r\n      var packag = processingEnv.getElementUtils().getPackageOf(elem).getQualifiedName().toString();\r\n      var fullyQualifiedName = packag + &quot;.&quot; + elem.getSimpleName();\r\n\r\n      ret.add(fullyQualifiedName);\r\n    }\r\n\r\n    return ret;\r\n  }\r\n}\r\n\r\n```\r\n","title":"Run Annotation Processor in Eclipse when an Annotation is removed","body":"<p>The issue was getSupportedAnnotationTypes() needed to return &quot;*&quot; because it needed to be able to operate on the empty set of annotations.  It also needed to always run the <code>writeAnnotationFile</code>, not just when <code>roundEnv.getElementsAnnotatedWith</code> returned a result.</p>\n<p>Now it properly updates the file when an annotation is removed.  This means that it'll consume all classes when you do a full rebuild, but a slow processor is better than one that doesn't work at all.  It also has a problem where it creates empty text files instead of removing it, but it's not that big of a deal.</p>\n<h1>Edit</h1>\n<p>The previous posted solution worked within Eclipse, but did not when built with Gradle.  This solution works in both Eclipse and Gradle.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SupportedAnnotationTypes({&quot;*&quot;})\n@SupportedSourceVersion(SourceVersion.RELEASE_11)\n@AutoService(Processor.class)\npublic class AnnotationTextDump extends AbstractProcessor {\n  private List&lt;AnnotationTextDumpWriter&gt; writers = null;\n\n  @Override\n  public Set&lt;String&gt; getSupportedAnnotationTypes() {\n    return Set.of(&quot;*&quot;);\n  }\n\n  @Override\n  public boolean process(Set&lt;? extends TypeElement&gt; annotations, RoundEnvironment roundEnv) {\n    if (writers == null) {\n      writers =\n          Arrays.asList(\n              new AnnotationTextDumpWriter(&quot;your.Annotation1&quot;),\n              new AnnotationTextDumpWriter(&quot;your.Annotation2&quot;));\n    }\n\n    if (!roundEnv.processingOver()) {\n      for (var i : writers) {\n        try {\n          i.appendElements(annotations, roundEnv, processingEnv);\n        } catch (IOException e) {\n          // You should properly log the exception here, but I'm not sure how to get it to appear\n          // in Eclipse's Problem's view.\n          e.printStackTrace();\n          throw new IllegalStateException(e);\n        }\n      }\n    } else {\n      for (var i : writers) {\n        i.close();\n      }\n    }\n\n    return false;\n  }\n}\n\n\nclass AnnotationTextDumpWriter{\n  private String annotationName;\n  private boolean initialized;\n  private Set&lt;String&gt; classes;\n  private PrintWriter fileOutput;\n\n  XmImmutableListWriter(String annotationName) {\n    this.annotationName = annotationName;\n    initialized = false;\n    classes = null;\n    fileOutput = null;\n  }\n\n  void appendElements(\n      Set&lt;? extends TypeElement&gt; annotations,\n      RoundEnvironment roundEnv,\n      ProcessingEnvironment processingEnv)\n      throws IOException {\n    initialize(processingEnv);\n\n    for (var i : annotations) {\n      if (i.getQualifiedName().toString().equals(annotationName)) {\n        var elements = roundEnv.getElementsAnnotatedWith(i);\n        convertElementsToList(elements, processingEnv);\n      }\n    }\n  }\n\n  private void initialize(ProcessingEnvironment processingEnv) throws IOException {\n    if (initialized) {\n      return;\n    }\n\n    var fileName = &quot;META-INF/annotations/&quot; + annotationName;\n\n    initialized = true;\n    classes = new HashSet&lt;&gt;();\n    classes.addAll(getPreviousListedClasses(fileName, annotationName, processingEnv));\n    fileOutput =\n        new PrintWriter(\n            processingEnv\n                .getFiler()\n                .createResource(StandardLocation.CLASS_OUTPUT, &quot;&quot;, fileName)\n                .openWriter());\n  }\n\n  private void convertElementsToList(\n      Set&lt;? extends Element&gt; elements, ProcessingEnvironment processingEnv) {\n    for (var elem : elements) {\n      var packag = processingEnv.getElementUtils().getPackageOf(elem).getQualifiedName().toString();\n      var fullyQualifiedName = packag + &quot;.&quot; + elem.getSimpleName();\n\n      classes.add(fullyQualifiedName);\n    }\n  }\n\n  void close() {\n    if (classes != null) {\n      var sortedClasses = new ArrayList&lt;&gt;(classes);\n      Collections.sort(sortedClasses);\n\n      for (var i : sortedClasses) {\n        fileOutput.append(i);\n        fileOutput.append('\\n');\n      }\n    }\n\n    fileOutput.close();\n  }\n\n  private static List&lt;String&gt; getPreviousListedClasses(\n      String fileName, String annotationName, ProcessingEnvironment processingEnv)\n      throws IOException {\n    try {\n      var previousFile =\n          processingEnv.getFiler().getResource(StandardLocation.CLASS_OUTPUT, &quot;&quot;, fileName);\n      var classSplit = openPreviousFile(previousFile);\n      var ret = new ArrayList&lt;String&gt;();\n\n      for (var clazz : classSplit) {\n        if (classIsStillAnnotated(clazz, annotationName, processingEnv)) {\n          ret.add(clazz);\n        }\n      }\n\n      return ret;\n    } catch (FilerException e) {\n      throw e;\n    } catch (IOException e) {\n      return Collections.emptyList();\n    }\n  }\n\n  private static List&lt;String&gt; openPreviousFile(FileObject previousFile) throws IOException {\n    try (var in = previousFile.openInputStream()) {\n      var fileContents = ByteStreams.toByteArray(in);\n      var fileString = new String(fileContents, StandardCharsets.UTF_8);\n\n      if (fileString.isBlank()) {\n        return Collections.emptyList();\n      }\n\n      var classSplit = fileString.split(&quot;\\n&quot;);\n      return Arrays.asList(classSplit);\n    }\n  }\n\n  private static boolean classIsStillAnnotated(\n      String clazz, String annotationName, ProcessingEnvironment processingEnv) {\n    var prevTypeElement = processingEnv.getElementUtils().getTypeElement(clazz);\n\n    if (prevTypeElement == null) {\n      return false;\n    }\n\n    var annot = prevTypeElement.getAnnotationMirrors();\n\n    for (var i : annot) {\n      var annotElem = i.getAnnotationType().asElement();\n      var packag =\n          processingEnv.getElementUtils().getPackageOf(annotElem).getQualifiedName().toString();\n      var qualifiedAnnotName = packag + &quot;.&quot; + annotElem.getSimpleName();\n\n      if (qualifiedAnnotName.equals(annotationName)) {\n        return true;\n      }\n    }\n\n    return false;\n  }\n}\n</code></pre>\n<h1>Old solution that works in Eclipse, but not in Gradle</h1>\n<pre class=\"lang-java prettyprint-override\"><code>@SupportedAnnotationTypes({&quot;*&quot;})\n@SupportedSourceVersion(SourceVersion.RELEASE_11)\n@AutoService(Processor.class)\npublic class AnnotationTextDump extends AbstractProcessor {\n  public static final String YOUR_ANNOTATION1 = &quot;your.Annotation1&quot;;\n  public static final String YOUR_ANNOTATION2 = &quot;your.Annotation2&quot;;\n\n  @Override\n  public Set&lt;String&gt; getSupportedAnnotationTypes() {\n    return Set.of(&quot;*&quot;);\n  }\n\n  @Override\n  public boolean process(Set&lt;? extends TypeElement&gt; annotations, RoundEnvironment roundEnv) {\n    if (!roundEnv.processingOver()) {\n      try {\n        generateAnnotationFiles(annotations, roundEnv);\n      } catch (Exception e) {\n        // You should properly log the exception here, but I'm not sure how to get it to appear\n        // in Eclipse's Problem's view.\n        throw new IllegalStateException(e);\n      }\n    }\n\n    return false;\n  }\n\n  private void generateAnnotationFiles(\n      Set&lt;? extends TypeElement&gt; annotations, RoundEnvironment roundEnv) throws IOException {\n    Set&lt;? extends Element&gt; elements1 = Collections.&lt;Element&gt;emptySet();\n    Set&lt;? extends Element&gt; elements2 = Collections.&lt;Element&gt;emptySet();\n\n    for (var i : annotations) {\n      if (i.getQualifiedName().toString().equals(YOUR_ANNOTATION1)) {\n        elements1 = roundEnv.getElementsAnnotatedWith(i);\n      }\n\n      if (i.getQualifiedName().toString().equals(YOUR_ANNOTATION2)) {\n        elements2 = roundEnv.getElementsAnnotatedWith(i);\n      }\n    }\n\n    writeAnnotationFile(YOUR_ANNOTATION1, elements1);\n    writeAnnotationFile(YOUR_ANNOTATION2, elements2);\n  }\n\n  private void writeAnnotationFile(String annotationName, Set&lt;? extends Element&gt; elements)\n      throws IOException {\n    var fileName = &quot;META-INF/annotations/&quot; + annotationName;\n    var classBuilder = new HashSet&lt;&gt;(convertElementsToList(elements));\n    classBuilder.addAll(getPreviousListedClasses(fileName, annotationName));\n    var classes = new ArrayList&lt;&gt;(classBuilder);\n    Collections.sort(classes);\n\n    var fileContents = new StringBuilder();\n\n    for (var i : classes) {\n      fileContents.append(i);\n      fileContents.append('\\n');\n    }\n\n    try (var out =\n        new PrintWriter(\n            processingEnv\n                .getFiler()\n                .createResource(StandardLocation.SOURCE_OUTPUT, &quot;&quot;, fileName)\n                .openWriter())) {\n      out.append(fileContents.toString());\n    }\n  }\n\n  private List&lt;String&gt; getPreviousListedClasses(String fileName, String annotationName)\n      throws IOException {\n    try {\n      var previousFile =\n          processingEnv.getFiler().getResource(StandardLocation.SOURCE_OUTPUT, &quot;&quot;, fileName);\n      var classSplit = openPreviousFile(previousFile);\n      var ret = new ArrayList&lt;String&gt;();\n\n      for (var clazz : classSplit) {\n        if (classIsStillAnnotated(clazz, annotationName)) {\n          ret.add(clazz);\n        }\n      }\n\n      return ret;\n    } catch (FilerException e) {\n      throw e;\n    } catch (IOException e) {\n      return Collections.emptyList();\n    }\n  }\n\n  private List&lt;String&gt; openPreviousFile(FileObject previousFile) throws IOException {\n    try (var in = previousFile.openInputStream()) {\n      var fileContents = ByteStreams.toByteArray(in);\n      var fileString = new String(fileContents, StandardCharsets.UTF_8);\n\n      if (fileString.isBlank()) {\n        return Collections.emptyList();\n      }\n\n      var classSplit = fileString.split(&quot;\\n&quot;);\n      return Arrays.asList(classSplit);\n    }\n  }\n\n  private boolean classIsStillAnnotated(String clazz, String annotationName) {\n    var prevTypeElement = processingEnv.getElementUtils().getTypeElement(clazz);\n\n    if (prevTypeElement == null) {\n      return false;\n    }\n\n    var annot = prevTypeElement.getAnnotationMirrors();\n\n    for (var i : annot) {\n      var annotElem = i.getAnnotationType().asElement();\n      var packag =\n          processingEnv.getElementUtils().getPackageOf(annotElem).getQualifiedName().toString();\n      var qualifiedAnnotName = packag + &quot;.&quot; + annotElem.getSimpleName();\n\n      if (qualifiedAnnotName.equals(annotationName)) {\n        return true;\n      }\n    }\n\n    return false;\n  }\n\n  private List&lt;String&gt; convertElementsToList(Set&lt;? extends Element&gt; elements) {\n    var ret = new ArrayList&lt;String&gt;();\n\n    for (var elem : elements) {\n      var packag = processingEnv.getElementUtils().getPackageOf(elem).getQualifiedName().toString();\n      var fullyQualifiedName = packag + &quot;.&quot; + elem.getSimpleName();\n\n      ret.add(fullyQualifiedName);\n    }\n\n    return ret;\n  }\n}\n\n</code></pre>\n"}],"owner":{"account_id":1531936,"reputation":349,"user_id":1428945,"accept_rate":64,"display_name":"user1428945"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":125,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1679243334,"creation_date":1679147458,"question_id":75776308,"body_markdown":"I&#39;ve written an annotation processor that simply dumps the list of annotated classes to a text file.  To accommodate incremental builds in Eclipse, it also attempts to re-read the file and checks if the classes still have the annotation, and if not, it removes the class from the list.\r\n\r\nThe problem is Eclipse doesn&#39;t trigger the annotation processor when you remove the annotation, so the text file will not be updated until you add the annotation to another class.  \r\n\r\nIs there a way to configure Eclipse to run the annotation processor when an annotation is removed?  The project is using Gradle/Buildship.\r\n\r\n```java\r\n  @Override\r\n  public boolean process(Set&lt;? extends TypeElement&gt; annotations, RoundEnvironment roundEnv) {\r\n    if (!roundEnv.processingOver()) {\r\n      try {\r\n        generateAnnotationFiles(annotations, roundEnv);\r\n      } catch (IOException e) {\r\n        throw new IllegalStateException(e);\r\n      }\r\n    }\r\n\r\n    return false;\r\n  }\r\n\r\n  private void generateAnnotationFiles(\r\n      Set&lt;? extends TypeElement&gt; annotations, RoundEnvironment roundEnv) throws IOException {\r\n    for (var i : annotations) {\r\n      var elements = roundEnv.getElementsAnnotatedWith(i);\r\n      var fileName = &quot;META-INF/annotations/&quot; + i.getQualifiedName();\r\n      var classBuilder = new HashSet&lt;&gt;(convertElementsToList(elements));\r\n      classBuilder.addAll(getPreviousListedClasses(fileName, i));\r\n      var classes = new ArrayList&lt;&gt;(classBuilder);\r\n      Collections.sort(classes);\r\n\r\n      try (var out =\r\n          new PrintWriter(\r\n              processingEnv\r\n                  .getFiler()\r\n                  .createResource(StandardLocation.SOURCE_OUTPUT, &quot;&quot;, fileName)\r\n                  .openWriter())) {\r\n        for (var clazz : classes) {\r\n          out.append(clazz);\r\n          out.append(&#39;\\n&#39;);\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  private List&lt;String&gt; convertElementsToList(Set&lt;? extends Element&gt; elements) {\r\n    var ret = new ArrayList&lt;String&gt;();\r\n\r\n    for (var elem : elements) {\r\n      var packag = processingEnv.getElementUtils().getPackageOf(elem).getQualifiedName().toString();\r\n      var fullyQualifiedName = packag + &quot;.&quot; + elem.getSimpleName();\r\n\r\n      ret.add(fullyQualifiedName);\r\n    }\r\n\r\n    return ret;\r\n  }\r\n\r\n  private List&lt;String&gt; getPreviousListedClasses(String fileName, TypeElement annotation)\r\n      throws IOException {\r\n    try {\r\n      var previousFile =\r\n          processingEnv.getFiler().getResource(StandardLocation.SOURCE_OUTPUT, &quot;&quot;, fileName);\r\n      var classSplit = openPreviousFile(previousFile);\r\n      var ret = new ArrayList&lt;String&gt;();\r\n\r\n      for (var clazz : classSplit) {\r\n        if (classIsStillAnnotated(clazz, annotation)) {\r\n          ret.add(clazz);\r\n        }\r\n      }\r\n\r\n      return ret;\r\n    } catch (FilerException e) {\r\n      throw e;\r\n    } catch (IOException e) {\r\n      return Collections.emptyList();\r\n    }\r\n  }\r\n\r\n  private String[] openPreviousFile(FileObject previousFile) throws IOException {\r\n    try (var in = previousFile.openInputStream()) {\r\n      var fileContents = ByteStreams.toByteArray(in);\r\n      var fileString = new String(fileContents, StandardCharsets.UTF_8);\r\n      var classSplit = fileString.split(&quot;\\n&quot;);\r\n      return classSplit;\r\n    }\r\n  }\r\n\r\n  private boolean classIsStillAnnotated(String clazz, TypeElement annotation) {\r\n    var prevTypeElement = processingEnv.getElementUtils().getTypeElement(clazz);\r\n\r\n    if (prevTypeElement == null) {\r\n      return false;\r\n    }\r\n\r\n    var annot = prevTypeElement.getAnnotationMirrors();\r\n\r\n    for (var i : annot) {\r\n      if (i.getAnnotationType().asElement().equals(annotation)) {\r\n        return true;\r\n      }\r\n    }\r\n\r\n    return false;\r\n  }\r\n```\r\n","title":"Run Annotation Processor in Eclipse when an Annotation is removed","body":"<p>I've written an annotation processor that simply dumps the list of annotated classes to a text file.  To accommodate incremental builds in Eclipse, it also attempts to re-read the file and checks if the classes still have the annotation, and if not, it removes the class from the list.</p>\n<p>The problem is Eclipse doesn't trigger the annotation processor when you remove the annotation, so the text file will not be updated until you add the annotation to another class.</p>\n<p>Is there a way to configure Eclipse to run the annotation processor when an annotation is removed?  The project is using Gradle/Buildship.</p>\n<pre class=\"lang-java prettyprint-override\"><code>  @Override\n  public boolean process(Set&lt;? extends TypeElement&gt; annotations, RoundEnvironment roundEnv) {\n    if (!roundEnv.processingOver()) {\n      try {\n        generateAnnotationFiles(annotations, roundEnv);\n      } catch (IOException e) {\n        throw new IllegalStateException(e);\n      }\n    }\n\n    return false;\n  }\n\n  private void generateAnnotationFiles(\n      Set&lt;? extends TypeElement&gt; annotations, RoundEnvironment roundEnv) throws IOException {\n    for (var i : annotations) {\n      var elements = roundEnv.getElementsAnnotatedWith(i);\n      var fileName = &quot;META-INF/annotations/&quot; + i.getQualifiedName();\n      var classBuilder = new HashSet&lt;&gt;(convertElementsToList(elements));\n      classBuilder.addAll(getPreviousListedClasses(fileName, i));\n      var classes = new ArrayList&lt;&gt;(classBuilder);\n      Collections.sort(classes);\n\n      try (var out =\n          new PrintWriter(\n              processingEnv\n                  .getFiler()\n                  .createResource(StandardLocation.SOURCE_OUTPUT, &quot;&quot;, fileName)\n                  .openWriter())) {\n        for (var clazz : classes) {\n          out.append(clazz);\n          out.append('\\n');\n        }\n      }\n    }\n  }\n\n  private List&lt;String&gt; convertElementsToList(Set&lt;? extends Element&gt; elements) {\n    var ret = new ArrayList&lt;String&gt;();\n\n    for (var elem : elements) {\n      var packag = processingEnv.getElementUtils().getPackageOf(elem).getQualifiedName().toString();\n      var fullyQualifiedName = packag + &quot;.&quot; + elem.getSimpleName();\n\n      ret.add(fullyQualifiedName);\n    }\n\n    return ret;\n  }\n\n  private List&lt;String&gt; getPreviousListedClasses(String fileName, TypeElement annotation)\n      throws IOException {\n    try {\n      var previousFile =\n          processingEnv.getFiler().getResource(StandardLocation.SOURCE_OUTPUT, &quot;&quot;, fileName);\n      var classSplit = openPreviousFile(previousFile);\n      var ret = new ArrayList&lt;String&gt;();\n\n      for (var clazz : classSplit) {\n        if (classIsStillAnnotated(clazz, annotation)) {\n          ret.add(clazz);\n        }\n      }\n\n      return ret;\n    } catch (FilerException e) {\n      throw e;\n    } catch (IOException e) {\n      return Collections.emptyList();\n    }\n  }\n\n  private String[] openPreviousFile(FileObject previousFile) throws IOException {\n    try (var in = previousFile.openInputStream()) {\n      var fileContents = ByteStreams.toByteArray(in);\n      var fileString = new String(fileContents, StandardCharsets.UTF_8);\n      var classSplit = fileString.split(&quot;\\n&quot;);\n      return classSplit;\n    }\n  }\n\n  private boolean classIsStillAnnotated(String clazz, TypeElement annotation) {\n    var prevTypeElement = processingEnv.getElementUtils().getTypeElement(clazz);\n\n    if (prevTypeElement == null) {\n      return false;\n    }\n\n    var annot = prevTypeElement.getAnnotationMirrors();\n\n    for (var i : annot) {\n      if (i.getAnnotationType().asElement().equals(annotation)) {\n        return true;\n      }\n    }\n\n    return false;\n  }\n</code></pre>\n"},{"tags":["java","android","lockscreen"],"answers":[{"tags":[],"owner":{"account_id":1476634,"reputation":5571,"user_id":1386873,"accept_rate":90,"display_name":"puelo"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1679243063,"creation_date":1679243063,"answer_id":75783404,"question_id":75783376,"body_markdown":"You can use `setShowWhenLocked` in your Activity (https://developer.android.com/reference/android/app/Activity#setShowWhenLocked(boolean))\r\n\r\n&gt; Specifies whether an Activity should be shown on top of the lock\r\n&gt; screen whenever the lockscreen is up and the activity is resumed.\r\n&gt; Normally an activity will be transitioned to the stopped state if it\r\n&gt; is started while the lockscreen is up, but with this flag set the\r\n&gt; activity will remain in the resumed state visible on-top of the lock\r\n&gt; screen. This value can be set as a manifest attribute using\r\n&gt; R.attr.showWhenLocked.\r\n\r\nEdit: If you also need to support older APIs (taken from here: https://stackoverflow.com/a/50644346/1386873)\r\n\r\n    if (Build.VERSION.SDK_INT &gt;= 27) {\r\n            setShowWhenLocked(true)\r\n            setTurnScreenOn(true)\r\n    } else {\r\n            this.window.addFlags(WindowManager.LayoutParams.FLAG_SHOW_WHEN_LOCKED or\r\n                    WindowManager.LayoutParams.FLAG_TURN_SCREEN_ON)\r\n    }","title":"Return to app from lock screen without unlocking with code","body":"<p>You can use <code>setShowWhenLocked</code> in your Activity (<a href=\"https://developer.android.com/reference/android/app/Activity#setShowWhenLocked(boolean)\" rel=\"nofollow noreferrer\">https://developer.android.com/reference/android/app/Activity#setShowWhenLocked(boolean)</a>)</p>\n<blockquote>\n<p>Specifies whether an Activity should be shown on top of the lock\nscreen whenever the lockscreen is up and the activity is resumed.\nNormally an activity will be transitioned to the stopped state if it\nis started while the lockscreen is up, but with this flag set the\nactivity will remain in the resumed state visible on-top of the lock\nscreen. This value can be set as a manifest attribute using\nR.attr.showWhenLocked.</p>\n</blockquote>\n<p>Edit: If you also need to support older APIs (taken from here: <a href=\"https://stackoverflow.com/a/50644346/1386873\">https://stackoverflow.com/a/50644346/1386873</a>)</p>\n<pre><code>if (Build.VERSION.SDK_INT &gt;= 27) {\n        setShowWhenLocked(true)\n        setTurnScreenOn(true)\n} else {\n        this.window.addFlags(WindowManager.LayoutParams.FLAG_SHOW_WHEN_LOCKED or\n                WindowManager.LayoutParams.FLAG_TURN_SCREEN_ON)\n}\n</code></pre>\n"}],"owner":{"account_id":1601476,"reputation":547,"user_id":1482428,"accept_rate":18,"display_name":"Henrik Berg"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":416,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75783404,"answer_count":1,"score":1,"last_activity_date":1679243063,"creation_date":1679242809,"question_id":75783376,"body_markdown":"On my Android phone, if I am using the Maps app to navigate, and then lock the phone with the lock button, I am able to unlock again and continue navigating without really unlocking my phone (that is, I don&#39;t need to enter my pin, but I also cannot access anything else on my phone before I unlock properly). Is it possible to achieve this behavior in my own apps, and if so, how?\r\n\r\nTo try to be more clear, this is what I&#39;m hoping to achieve:\r\n\r\n1. User launches app\r\n2. User hits phone&#39;s lock button. Screen goes off.\r\n3. User hits phone&#39;s lock button again. Screen goes on, but instead of asking for pin (or whatever people use to secure their phones), phone immediately shows app again. At this point, the user&#39;s only options are to use the app, until he hits the home button, at which point the phone will require unlock code.\r\n\r\nIs such behavior possible to implement in my app?","title":"Return to app from lock screen without unlocking with code","body":"<p>On my Android phone, if I am using the Maps app to navigate, and then lock the phone with the lock button, I am able to unlock again and continue navigating without really unlocking my phone (that is, I don't need to enter my pin, but I also cannot access anything else on my phone before I unlock properly). Is it possible to achieve this behavior in my own apps, and if so, how?</p>\n<p>To try to be more clear, this is what I'm hoping to achieve:</p>\n<ol>\n<li>User launches app</li>\n<li>User hits phone's lock button. Screen goes off.</li>\n<li>User hits phone's lock button again. Screen goes on, but instead of asking for pin (or whatever people use to secure their phones), phone immediately shows app again. At this point, the user's only options are to use the app, until he hits the home button, at which point the phone will require unlock code.</li>\n</ol>\n<p>Is such behavior possible to implement in my app?</p>\n"},{"tags":["java","opengl","3d","libgdx"],"answers":[{"tags":[],"owner":{"account_id":22028847,"reputation":21,"user_id":16296442,"display_name":"Nain0nain"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679236407,"creation_date":1679236407,"answer_id":75782710,"question_id":34408514,"body_markdown":"To use a `mesh` in the `modelBatch` as you said, you have to pass it in a `model`. To do so you have to create a `mesh` with the desired vertices and indices.\r\n\r\n**Vertices**  : are the points which compose your 3D/2D shape (here it&#39;s your plane compose by two triangle).\r\n\r\n**Indices** : the order of the vertices that must be triangulated, indicies must be &quot;redundant&quot; to close and triangulate the path.\r\n\r\nFor example here is an image to better explanation :\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nThen you must specify attributes of position, uv and normals. Attributes are used to give information to shader (`mesh` must be rendered with a shader). For every vertex  the shader has the information given by those attributes.\r\n\r\n**Position** : are 3D points of the vertices in space.\r\n\r\n**UV** : are used for texture mapping and are mendatory (more information [here][2]).\r\n\r\n**Normals** : are normalized vectors, the normals of face or vertex (in your case I would assume it&#39;s only pointing to the north pole for every vertices).\r\n\r\nTo create your `mesh` :\r\n```Java\r\nMesh mesh = new Mesh(true, vertices.length, indices.length,\r\n    \t\t\t    new VertexAttribute(Usage.Position, 3, ShaderProgram.POSITION_ATTRIBUTE),\r\n    \t\t\t    new VertexAttribute(Usage.TextureCoordinates, 2, ShaderProgram.TEXCOORD_ATTRIBUTE),\r\n    \t\t\t    new VertexAttribute(Usage.Normal, 3, ShaderProgram.NORMAL_ATTRIBUTE));\r\n\r\nmesh.setVertices(vertices);\r\nmesh.setIndices(indices);\r\n```\r\nMesh require boolean if the mesh will be dynamic or not, vertices length, indices length and some vertexAttributes which give attributes to the shader. Default shader of `model` are using `ShaderProgram.POSITION_ATTRIBUTE`, `ShaderProgram.TEXCOORD_ATTRIBUTE` &amp; `ShaderProgram.NORMAL_ATTRIBUTE` which you may tune for using your own shaders.\r\n\r\nThen you add the vertices and the indices. For your case `vertices` and `indices` are :\r\n\r\n```Java\r\nfloat vertices[] = {-1, -1, 0, // bottom left corner\r\n                          -1,  1, 0, // top left corner\r\n                           1,  1, 0, // top right corner\r\n                           1, -1, 0}; // bottom right corner\r\n    \r\nshort indices[] = {0,1,2, // first triangle (bottom left - top left - top right)\r\n                         0,2,3}; // second triangle (bottom left - top right - bottom right)\r\n```\r\n\r\nAfter creating your mesh you need to give it to the `modelBuilder` as following\r\n\r\n```Java\r\nModelBuilder modelBuilder = new ModelBuilder(); // creates model build\r\nmodelBuilder.begin();// begin it\r\n\t\t\r\nmodelBuilder.part(&quot;plane&quot;, mesh, \r\n\t\t\t\tGL20.GL_TRIANGLES,  \r\n\t\t\t\t0, \r\n\t\t\t\tmesh.getNumIndices(), \r\n\t\t\t\tnew Material()); // creates your mesh\r\n\t\t\r\nmodel = modelBuilder.end(); // makes the model\r\ninstance = new ModelInstance(model);\r\n\r\n//...\r\n//render it in render loop\r\nmodelBatch.begin(camera);\r\nmodelBatch.render(instance, environment);\r\nmodelBatch.end();\r\n```\r\n\r\nFollowing mainly :\r\n\r\n - tutorial from [blog.xoppa.com][3]\r\n - documentation on [modelBuilder][4]\r\n\r\nHope it will help you and others that are in search for the same process.\r\n\r\n  [1]: https://i.stack.imgur.com/cE7JJ.png\r\n  [2]: https://stackoverflow.com/a/5532670/16296442\r\n  [3]: https://xoppa.github.io/blog/basic-3d-using-libgdx/\r\n  [4]: https://libgdx.com/wiki/graphics/3d/modelbuilder-meshbuilder-and-meshpartbuilder","title":"How do you turn a mesh into a model with libGDX?","body":"<p>To use a <code>mesh</code> in the <code>modelBatch</code> as you said, you have to pass it in a <code>model</code>. To do so you have to create a <code>mesh</code> with the desired vertices and indices.</p>\n<p><strong>Vertices</strong>  : are the points which compose your 3D/2D shape (here it's your plane compose by two triangle).</p>\n<p><strong>Indices</strong> : the order of the vertices that must be triangulated, indicies must be &quot;redundant&quot; to close and triangulate the path.</p>\n<p>For example here is an image to better explanation :</p>\n<p><a href=\"https://i.stack.imgur.com/cE7JJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/cE7JJ.png\" alt=\"enter image description here\" /></a></p>\n<p>Then you must specify attributes of position, uv and normals. Attributes are used to give information to shader (<code>mesh</code> must be rendered with a shader). For every vertex  the shader has the information given by those attributes.</p>\n<p><strong>Position</strong> : are 3D points of the vertices in space.</p>\n<p><strong>UV</strong> : are used for texture mapping and are mendatory (more information <a href=\"https://stackoverflow.com/a/5532670/16296442\">here</a>).</p>\n<p><strong>Normals</strong> : are normalized vectors, the normals of face or vertex (in your case I would assume it's only pointing to the north pole for every vertices).</p>\n<p>To create your <code>mesh</code> :</p>\n<pre><code>Mesh mesh = new Mesh(true, vertices.length, indices.length,\n                    new VertexAttribute(Usage.Position, 3, ShaderProgram.POSITION_ATTRIBUTE),\n                    new VertexAttribute(Usage.TextureCoordinates, 2, ShaderProgram.TEXCOORD_ATTRIBUTE),\n                    new VertexAttribute(Usage.Normal, 3, ShaderProgram.NORMAL_ATTRIBUTE));\n\nmesh.setVertices(vertices);\nmesh.setIndices(indices);\n</code></pre>\n<p>Mesh require boolean if the mesh will be dynamic or not, vertices length, indices length and some vertexAttributes which give attributes to the shader. Default shader of <code>model</code> are using <code>ShaderProgram.POSITION_ATTRIBUTE</code>, <code>ShaderProgram.TEXCOORD_ATTRIBUTE</code> &amp; <code>ShaderProgram.NORMAL_ATTRIBUTE</code> which you may tune for using your own shaders.</p>\n<p>Then you add the vertices and the indices. For your case <code>vertices</code> and <code>indices</code> are :</p>\n<pre><code>float vertices[] = {-1, -1, 0, // bottom left corner\n                          -1,  1, 0, // top left corner\n                           1,  1, 0, // top right corner\n                           1, -1, 0}; // bottom right corner\n    \nshort indices[] = {0,1,2, // first triangle (bottom left - top left - top right)\n                         0,2,3}; // second triangle (bottom left - top right - bottom right)\n</code></pre>\n<p>After creating your mesh you need to give it to the <code>modelBuilder</code> as following</p>\n<pre><code>ModelBuilder modelBuilder = new ModelBuilder(); // creates model build\nmodelBuilder.begin();// begin it\n        \nmodelBuilder.part(&quot;plane&quot;, mesh, \n                GL20.GL_TRIANGLES,  \n                0, \n                mesh.getNumIndices(), \n                new Material()); // creates your mesh\n        \nmodel = modelBuilder.end(); // makes the model\ninstance = new ModelInstance(model);\n\n//...\n//render it in render loop\nmodelBatch.begin(camera);\nmodelBatch.render(instance, environment);\nmodelBatch.end();\n</code></pre>\n<p>Following mainly :</p>\n<ul>\n<li>tutorial from <a href=\"https://xoppa.github.io/blog/basic-3d-using-libgdx/\" rel=\"nofollow noreferrer\">blog.xoppa.com</a></li>\n<li>documentation on <a href=\"https://libgdx.com/wiki/graphics/3d/modelbuilder-meshbuilder-and-meshpartbuilder\" rel=\"nofollow noreferrer\">modelBuilder</a></li>\n</ul>\n<p>Hope it will help you and others that are in search for the same process.</p>\n"}],"owner":{"account_id":3115098,"reputation":327,"user_id":2636056,"accept_rate":71,"display_name":"Grobbed"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":310,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1679242706,"creation_date":1450759224,"question_id":34408514,"body_markdown":"so, I have created a mesh consisting of 2 triangles into my game. Now I want to turn this mesh into a model so it can be rendered with the ModelBatch. If I just render it seperatly it gives me weird depth issues with the models:\r\n\r\n[![Example][1]][1]\r\n\r\nIf I render multiple different models together it does not give me the error (The two kinds of trees). So If i render it as a model the problem will hopefully go away.\r\n\r\n  [1]: http://i.stack.imgur.com/bcMHK.png","title":"How do you turn a mesh into a model with libGDX?","body":"<p>so, I have created a mesh consisting of 2 triangles into my game. Now I want to turn this mesh into a model so it can be rendered with the ModelBatch. If I just render it seperatly it gives me weird depth issues with the models:</p>\n<p><a href=\"https://i.stack.imgur.com/bcMHK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bcMHK.png\" alt=\"Example\" /></a></p>\n<p>If I render multiple different models together it does not give me the error (The two kinds of trees). So If i render it as a model the problem will hopefully go away.</p>\n"},{"tags":["java","sftp","apache-mina"],"comments":[{"owner":{"account_id":4908306,"reputation":303,"user_id":3954365,"display_name":"Pedro Augusto"},"score":0,"creation_date":1633689136,"post_id":66435429,"comment_id":122832484,"body_markdown":"Hi, I&#39;m passing through the same problem. Didi you manage to solve it?","body":"Hi, I&#39;m passing through the same problem. Didi you manage to solve it?"}],"answers":[{"tags":[],"owner":{"account_id":35976,"reputation":1581,"user_id":102289,"accept_rate":56,"display_name":"Luciano"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679242089,"creation_date":1679242089,"answer_id":75783307,"question_id":66435429,"body_markdown":"In NetconfSSHClient.java add the following after the call to `SshClient.setUpDefaultClient()`\r\n\r\n```\r\n\t\t// add DSS \r\n\t\tList&lt;NamedFactory&lt;Signature&gt;&gt; signatureFactories = client.getSignatureFactories();\r\n\t\tList&lt;BuiltinSignatures&gt; signatures = new ArrayList&lt;&gt;();\r\n\t\tsignatures.add(BuiltinSignatures.dsa);\r\n\t\tsignatureFactories.addAll(NamedFactory.setUpBuiltinFactories(false, signatures));\r\n\t\t\r\n\t\tclient.setSignatureFactories(signatureFactories);\r\n```\r\n\r\nYou&#39;ll also need to add the matching includes to the top of your file:\r\n\r\n```\r\nimport java.util.List;\r\nimport java.util.ArrayList;\r\nimport org.apache.sshd.common.signature.Signature;\r\nimport org.apache.sshd.common.signature.BuiltinSignatures;\r\n```\r\n\r\nThere may be an easier way, but this was the way the Mina-SSHD mailing list told me to do it.\r\n\r\nIf you also need deprecated KEX or Ciphers the process is similar for cyphers but slightly different for KEX:\r\n\r\n```\r\n\t\t// Get the current default list of key exchange factories\r\n\t\tList&lt;KeyExchangeFactory&gt; keyExchangeFactories = client.getKeyExchangeFactories();\r\n\r\n\t\t// Add the Diffie-Hellman-group1-sha1 key exchange factory\r\n\t\tkeyExchangeFactories.addAll(NamedFactory.setUpTransformedFactories(\r\n\t\t\t\tfalse,\r\n\t\t\t\tList.of(BuiltinDHFactories.dhg1),\r\n\t\t\t\tClientBuilder.DH2KEX\r\n\t\t));\r\n\r\n\t\t// Update the key exchange factories\r\n\t\tclient.setKeyExchangeFactories(keyExchangeFactories);\r\n```","title":"Enable ssh-dss algorithm for known-host in Apache-Mina","body":"<p>In NetconfSSHClient.java add the following after the call to <code>SshClient.setUpDefaultClient()</code></p>\n<pre><code>        // add DSS \n        List&lt;NamedFactory&lt;Signature&gt;&gt; signatureFactories = client.getSignatureFactories();\n        List&lt;BuiltinSignatures&gt; signatures = new ArrayList&lt;&gt;();\n        signatures.add(BuiltinSignatures.dsa);\n        signatureFactories.addAll(NamedFactory.setUpBuiltinFactories(false, signatures));\n        \n        client.setSignatureFactories(signatureFactories);\n</code></pre>\n<p>You'll also need to add the matching includes to the top of your file:</p>\n<pre><code>import java.util.List;\nimport java.util.ArrayList;\nimport org.apache.sshd.common.signature.Signature;\nimport org.apache.sshd.common.signature.BuiltinSignatures;\n</code></pre>\n<p>There may be an easier way, but this was the way the Mina-SSHD mailing list told me to do it.</p>\n<p>If you also need deprecated KEX or Ciphers the process is similar for cyphers but slightly different for KEX:</p>\n<pre><code>        // Get the current default list of key exchange factories\n        List&lt;KeyExchangeFactory&gt; keyExchangeFactories = client.getKeyExchangeFactories();\n\n        // Add the Diffie-Hellman-group1-sha1 key exchange factory\n        keyExchangeFactories.addAll(NamedFactory.setUpTransformedFactories(\n                false,\n                List.of(BuiltinDHFactories.dhg1),\n                ClientBuilder.DH2KEX\n        ));\n\n        // Update the key exchange factories\n        client.setKeyExchangeFactories(keyExchangeFactories);\n</code></pre>\n"}],"owner":{"account_id":7062719,"reputation":313,"user_id":5407274,"accept_rate":62,"display_name":"Sergey Panov"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":955,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1679242089,"creation_date":1614672000,"question_id":66435429,"body_markdown":"I&#39;m working on a custom SFTP client. The client receives a known-host record as a required server key. My code works fine with ssh-rsa, but in the case of ssh-dss Mina throws an exception with a message `Unable to negotiate key exchange for server host key algorithms (client: ecdsa-sha2-nistp256-cert-v01@openssh.com,ecdsa-sha2-nistp384-cert-v01@openssh.com,ecdsa-sha2-nistp521-cert-v01@openssh.com,rsa-sha2-512-cert-v01@openssh.com,rsa-sha2-256-cert-v01@openssh.com,ecdsa-sha2-nistp256,ecdsa-sha2-nistp384,ecdsa-sha2-nistp521,sk-ecdsa-sha2-nistp256@openssh.com,rsa-sha2-512,rsa-sha2-256,ssh-rsa / server: ssh-dss)`. The official documentation (https://github.com/apache/mina-sshd) says that Mina does support ssh-dss.\r\n\r\nWould you recommend a way how to make SshClient use ssh-dss (something like `PubkeyAcceptedKeyTypes=+ssh-dss` in ssh config)? \r\n\r\nThank you.","title":"Enable ssh-dss algorithm for known-host in Apache-Mina","body":"<p>I'm working on a custom SFTP client. The client receives a known-host record as a required server key. My code works fine with ssh-rsa, but in the case of ssh-dss Mina throws an exception with a message <code>Unable to negotiate key exchange for server host key algorithms (client: ecdsa-sha2-nistp256-cert-v01@openssh.com,ecdsa-sha2-nistp384-cert-v01@openssh.com,ecdsa-sha2-nistp521-cert-v01@openssh.com,rsa-sha2-512-cert-v01@openssh.com,rsa-sha2-256-cert-v01@openssh.com,ecdsa-sha2-nistp256,ecdsa-sha2-nistp384,ecdsa-sha2-nistp521,sk-ecdsa-sha2-nistp256@openssh.com,rsa-sha2-512,rsa-sha2-256,ssh-rsa / server: ssh-dss)</code>. The official documentation (<a href=\"https://github.com/apache/mina-sshd\" rel=\"nofollow noreferrer\">https://github.com/apache/mina-sshd</a>) says that Mina does support ssh-dss.</p>\n<p>Would you recommend a way how to make SshClient use ssh-dss (something like <code>PubkeyAcceptedKeyTypes=+ssh-dss</code> in ssh config)?</p>\n<p>Thank you.</p>\n"},{"tags":["java","websocket","netty"],"owner":{"account_id":3106126,"reputation":31241,"user_id":2628868,"accept_rate":84,"display_name":"Dolphin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679241469,"creation_date":1679237836,"question_id":75782879,"body_markdown":"I have defined the netty endpoint like this in the server side:\r\n\r\n\r\n\r\n\r\n         package com.dolphin.soa.post.config.common.websocket;\r\n    \r\n    import io.netty.bootstrap.ServerBootstrap;\r\n    import io.netty.channel.ChannelFuture;\r\n    import io.netty.channel.ChannelInitializer;\r\n    import io.netty.channel.ChannelPipeline;\r\n    import io.netty.channel.EventLoopGroup;\r\n    import io.netty.channel.nio.NioEventLoopGroup;\r\n    import io.netty.channel.socket.SocketChannel;\r\n    import io.netty.channel.socket.nio.NioServerSocketChannel;\r\n    import io.netty.handler.codec.http.HttpObjectAggregator;\r\n    import io.netty.handler.codec.http.HttpServerCodec;\r\n    import io.netty.handler.codec.http.websocketx.WebSocketServerProtocolHandler;\r\n    import io.netty.handler.codec.serialization.ObjectEncoder;\r\n    import io.netty.handler.stream.ChunkedWriteHandler;\r\n    import org.slf4j.Logger;\r\n    import org.slf4j.LoggerFactory;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.beans.factory.annotation.Value;\r\n    \r\n    import javax.annotation.PostConstruct;\r\n    import javax.annotation.PreDestroy;\r\n    import java.net.InetSocketAddress;\r\n    \r\n    public class WebSocketServer extends ChannelInitializer&lt;SocketChannel&gt; {\r\n    \r\n        @Override\r\n        protected void initChannel(SocketChannel ch) {\r\n            ChannelPipeline pipeline = ch.pipeline();\r\n            pipeline.addLast(new HttpServerCodec());\r\n            pipeline.addLast(new HttpObjectAggregator(65536));\r\n            pipeline.addLast(new WebSocketServerProtocolHandler(&quot;/websocket&quot;));\r\n            pipeline.addLast(new ChatWebSocketHandler());\r\n        }\r\n    \r\n        private static final Logger log = LoggerFactory.getLogger(WebSocketServer.class);\r\n    \r\n        private static final String WEBSOCKET_PROTOCOL = &quot;WebSocket&quot;;\r\n    \r\n        /**\r\n         * port number\r\n         */\r\n        @Value(&quot;${webSocket.netty.port:58080}&quot;)\r\n        private int port;\r\n    \r\n        /**\r\n         * webSocket path\r\n         */\r\n        @Value(&quot;${webSocket.netty.path:/post/websocket}&quot;)\r\n        private String webSocketPath;\r\n    \r\n        @Autowired\r\n        private ChatWebSocketHandler webSocketHandler;\r\n    \r\n        private EventLoopGroup bossGroup;\r\n        private EventLoopGroup workGroup;\r\n    \r\n        /**\r\n         * start\r\n         *\r\n         * @throws InterruptedException\r\n         */\r\n        private void start() throws InterruptedException {\r\n            bossGroup = new NioEventLoopGroup();\r\n            workGroup = new NioEventLoopGroup();\r\n            ServerBootstrap bootstrap = new ServerBootstrap();\r\n            bootstrap.group(bossGroup, workGroup);\r\n            bootstrap.channel(NioServerSocketChannel.class);\r\n            bootstrap.localAddress(new InetSocketAddress(port));\r\n            bootstrap.childHandler(new ChannelInitializer&lt;SocketChannel&gt;() {\r\n    \r\n                @Override\r\n                protected void initChannel(SocketChannel ch) throws Exception {\r\n                    ch.pipeline().addLast(new HttpServerCodec());\r\n                    ch.pipeline().addLast(new ObjectEncoder());\r\n                    ch.pipeline().addLast(new ChunkedWriteHandler());\r\n                    ch.pipeline().addLast(new HttpObjectAggregator(8192));\r\n                    ch.pipeline().addLast(new WebSocketServerProtocolHandler(webSocketPath, WEBSOCKET_PROTOCOL, true, 65536 * 10));\r\n                    ch.pipeline().addLast(webSocketHandler);\r\n                }\r\n            });\r\n            ChannelFuture channelFuture = bootstrap.bind().sync();\r\n            log.info(&quot;Server started and listen on:{}&quot;, channelFuture.channel().localAddress());\r\n            channelFuture.channel().closeFuture().sync();\r\n        }\r\n    \r\n        /**\r\n         *\r\n         *\r\n         * @throws InterruptedException\r\n         */\r\n        @PreDestroy\r\n        public void destroy() throws InterruptedException {\r\n            if (bossGroup != null) {\r\n                bossGroup.shutdownGracefully().sync();\r\n            }\r\n            if (workGroup != null) {\r\n                workGroup.shutdownGracefully().sync();\r\n            }\r\n        }\r\n    \r\n        @PostConstruct()\r\n        public void init() {\r\n            new Thread(() -&gt; {\r\n                try {\r\n                    start();\r\n                } catch (InterruptedException e) {\r\n                    log.error(&quot;start netty server failed&quot;, e);\r\n                }\r\n            }).start();\r\n        }\r\n    }\r\n\r\n\r\nthe websocket path may look like this `/post/websocket`, but when I connect the websocket using this url in the client side like this:\r\n\r\n\r\n    ws://192.168.10.93:58080/post/websocket?accessToken=eyJhbGciOiJIUzUxMiJ9.eyJ1c2V\r\n\r\n\r\nshows error:\r\n\r\n\r\n    failed: WebSocket is closed before the connection is established.WebSocket closed with code 1006 and reason &quot;&quot;\r\n\r\n\r\nis it possible to carry parameters when using websocket implement by netty `implementation &#39;io.netty:netty-all:4.1.65.Final&#39;`? without the access token parameter, the websocket works fine. I just want to add some verify before connection to the websocket.\r\n","title":"does netty support the endpoint to carry parameters","body":"<p>I have defined the netty endpoint like this in the server side:</p>\n<pre><code>     package com.dolphin.soa.post.config.common.websocket;\n\nimport io.netty.bootstrap.ServerBootstrap;\nimport io.netty.channel.ChannelFuture;\nimport io.netty.channel.ChannelInitializer;\nimport io.netty.channel.ChannelPipeline;\nimport io.netty.channel.EventLoopGroup;\nimport io.netty.channel.nio.NioEventLoopGroup;\nimport io.netty.channel.socket.SocketChannel;\nimport io.netty.channel.socket.nio.NioServerSocketChannel;\nimport io.netty.handler.codec.http.HttpObjectAggregator;\nimport io.netty.handler.codec.http.HttpServerCodec;\nimport io.netty.handler.codec.http.websocketx.WebSocketServerProtocolHandler;\nimport io.netty.handler.codec.serialization.ObjectEncoder;\nimport io.netty.handler.stream.ChunkedWriteHandler;\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.beans.factory.annotation.Value;\n\nimport javax.annotation.PostConstruct;\nimport javax.annotation.PreDestroy;\nimport java.net.InetSocketAddress;\n\npublic class WebSocketServer extends ChannelInitializer&lt;SocketChannel&gt; {\n\n    @Override\n    protected void initChannel(SocketChannel ch) {\n        ChannelPipeline pipeline = ch.pipeline();\n        pipeline.addLast(new HttpServerCodec());\n        pipeline.addLast(new HttpObjectAggregator(65536));\n        pipeline.addLast(new WebSocketServerProtocolHandler(&quot;/websocket&quot;));\n        pipeline.addLast(new ChatWebSocketHandler());\n    }\n\n    private static final Logger log = LoggerFactory.getLogger(WebSocketServer.class);\n\n    private static final String WEBSOCKET_PROTOCOL = &quot;WebSocket&quot;;\n\n    /**\n     * port number\n     */\n    @Value(&quot;${webSocket.netty.port:58080}&quot;)\n    private int port;\n\n    /**\n     * webSocket path\n     */\n    @Value(&quot;${webSocket.netty.path:/post/websocket}&quot;)\n    private String webSocketPath;\n\n    @Autowired\n    private ChatWebSocketHandler webSocketHandler;\n\n    private EventLoopGroup bossGroup;\n    private EventLoopGroup workGroup;\n\n    /**\n     * start\n     *\n     * @throws InterruptedException\n     */\n    private void start() throws InterruptedException {\n        bossGroup = new NioEventLoopGroup();\n        workGroup = new NioEventLoopGroup();\n        ServerBootstrap bootstrap = new ServerBootstrap();\n        bootstrap.group(bossGroup, workGroup);\n        bootstrap.channel(NioServerSocketChannel.class);\n        bootstrap.localAddress(new InetSocketAddress(port));\n        bootstrap.childHandler(new ChannelInitializer&lt;SocketChannel&gt;() {\n\n            @Override\n            protected void initChannel(SocketChannel ch) throws Exception {\n                ch.pipeline().addLast(new HttpServerCodec());\n                ch.pipeline().addLast(new ObjectEncoder());\n                ch.pipeline().addLast(new ChunkedWriteHandler());\n                ch.pipeline().addLast(new HttpObjectAggregator(8192));\n                ch.pipeline().addLast(new WebSocketServerProtocolHandler(webSocketPath, WEBSOCKET_PROTOCOL, true, 65536 * 10));\n                ch.pipeline().addLast(webSocketHandler);\n            }\n        });\n        ChannelFuture channelFuture = bootstrap.bind().sync();\n        log.info(&quot;Server started and listen on:{}&quot;, channelFuture.channel().localAddress());\n        channelFuture.channel().closeFuture().sync();\n    }\n\n    /**\n     *\n     *\n     * @throws InterruptedException\n     */\n    @PreDestroy\n    public void destroy() throws InterruptedException {\n        if (bossGroup != null) {\n            bossGroup.shutdownGracefully().sync();\n        }\n        if (workGroup != null) {\n            workGroup.shutdownGracefully().sync();\n        }\n    }\n\n    @PostConstruct()\n    public void init() {\n        new Thread(() -&gt; {\n            try {\n                start();\n            } catch (InterruptedException e) {\n                log.error(&quot;start netty server failed&quot;, e);\n            }\n        }).start();\n    }\n}\n</code></pre>\n<p>the websocket path may look like this <code>/post/websocket</code>, but when I connect the websocket using this url in the client side like this:</p>\n<pre><code>ws://192.168.10.93:58080/post/websocket?accessToken=eyJhbGciOiJIUzUxMiJ9.eyJ1c2V\n</code></pre>\n<p>shows error:</p>\n<pre><code>failed: WebSocket is closed before the connection is established.WebSocket closed with code 1006 and reason &quot;&quot;\n</code></pre>\n<p>is it possible to carry parameters when using websocket implement by netty <code>implementation 'io.netty:netty-all:4.1.65.Final'</code>? without the access token parameter, the websocket works fine. I just want to add some verify before connection to the websocket.</p>\n"},{"tags":["java","unit-testing","mockito"],"comments":[{"owner":{"account_id":6596539,"reputation":1350,"user_id":5096142,"display_name":"Carlos"},"score":0,"creation_date":1679236002,"post_id":75782245,"comment_id":133681154,"body_markdown":"have you tried removing the any() argument and put a concrete object in your 2nd argument?","body":"have you tried removing the any() argument and put a concrete object in your 2nd argument?"}],"answers":[{"tags":[],"owner":{"account_id":17520379,"reputation":1536,"user_id":12706564,"display_name":"Emanuel Trandafir"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679241299,"creation_date":1679241299,"answer_id":75783209,"question_id":75782245,"body_markdown":"you can use `thenAnswer` for more flexibility. This will give you the `invocations` object, containing the parameters of the call. This is a simplified example:\r\n\r\n    class MyMapper {\r\n    \tpublic &lt;T&gt; T getConfiguration(String configName, TypeReference&lt;T&gt; typeReference) {\r\n    \t\treturn null;\r\n    \t}\r\n    }\r\n    \r\n    @Test\r\n    void test() {\r\n    \tMyMapper mocked = mock(MyMapper.class);\r\n    \twhen(mocked.getConfiguration(any(), any()))\r\n    \t\t\t.thenAnswer(invocation -&gt; {\r\n    \t\t\t\tTypeReference&lt;?&gt; typeReference = invocation.getArgument(1);\r\n                    // maybe you&#39;ll find a more elegant way to do this check\r\n    \t\t\t\tif (typeReference.getType().getTypeName().equals(&quot;java.util.List&lt;java.lang.String&gt;&quot;)) {\r\n    \t\t\t\t\treturn List.of(&quot;a&quot;);\r\n    \t\t\t\t}\r\n    \t\t\t\treturn Map.of(&quot;aa&quot;, &quot;bb&quot;);\r\n    \t\t\t});\r\n    \r\n    \r\n    \tTypeReference&lt;List&lt;String&gt;&gt; listTr = new TypeReference&lt;List&lt;String&gt;&gt;() {};\r\n    \tList&lt;String&gt; result = mocked.getConfiguration(&quot;lala&quot;, listTr);\r\n    \tSystem.out.println(result); //prints [&#39;a&#39;]\r\n    \r\n    \tTypeReference&lt;Map&lt;String, String&gt;&gt; mapTr = new TypeReference&lt;Map&lt;String, String&gt;&gt;() {};\r\n    \tMap&lt;String, String&gt; result2 = mocked.getConfiguration(&quot;lala&quot;, mapTr);\r\n    \tSystem.out.println(result2); //prints {&#39;aa&#39;:&#39;bb&#39;}\r\n    }\r\n\r\nOn the other hand - when it gets to such complicated Mokito setup, you might consider writing your own fake object or use the actual object if possible. Hope this helps.","title":"How to mock a function to return different value based on different generic type of an argument?","body":"<p>you can use <code>thenAnswer</code> for more flexibility. This will give you the <code>invocations</code> object, containing the parameters of the call. This is a simplified example:</p>\n<pre><code>class MyMapper {\n    public &lt;T&gt; T getConfiguration(String configName, TypeReference&lt;T&gt; typeReference) {\n        return null;\n    }\n}\n\n@Test\nvoid test() {\n    MyMapper mocked = mock(MyMapper.class);\n    when(mocked.getConfiguration(any(), any()))\n            .thenAnswer(invocation -&gt; {\n                TypeReference&lt;?&gt; typeReference = invocation.getArgument(1);\n                // maybe you'll find a more elegant way to do this check\n                if (typeReference.getType().getTypeName().equals(&quot;java.util.List&lt;java.lang.String&gt;&quot;)) {\n                    return List.of(&quot;a&quot;);\n                }\n                return Map.of(&quot;aa&quot;, &quot;bb&quot;);\n            });\n\n\n    TypeReference&lt;List&lt;String&gt;&gt; listTr = new TypeReference&lt;List&lt;String&gt;&gt;() {};\n    List&lt;String&gt; result = mocked.getConfiguration(&quot;lala&quot;, listTr);\n    System.out.println(result); //prints ['a']\n\n    TypeReference&lt;Map&lt;String, String&gt;&gt; mapTr = new TypeReference&lt;Map&lt;String, String&gt;&gt;() {};\n    Map&lt;String, String&gt; result2 = mocked.getConfiguration(&quot;lala&quot;, mapTr);\n    System.out.println(result2); //prints {'aa':'bb'}\n}\n</code></pre>\n<p>On the other hand - when it gets to such complicated Mokito setup, you might consider writing your own fake object or use the actual object if possible. Hope this helps.</p>\n"}],"owner":{"account_id":4787365,"reputation":369,"user_id":3867445,"accept_rate":17,"display_name":"Surbhi Jain"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":223,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1679241299,"creation_date":1679231776,"question_id":75782245,"body_markdown":"\r\nI have a function which takes 2 arguments, a string and a TypeReference:\r\n```\r\n    public &lt;T&gt; T getConfiguration(@NonNull final String configName,\r\n                                         @NonNull final TypeReference&lt;T&gt; typeReference) {\r\n            return mapper.readValue(configString, typeReference);\r\n    }\r\n```\r\nI want to make a test class for the above method and when I pass TypeReference&lt;Map&lt;String, List&lt;String&gt;&gt;&gt; type, I want to return let say &#39;a&#39; and if I pass TypeReference&lt;Map&lt;String, FeatureLaunchStatus&gt;&gt; I want &#39;b&#39; to be returned:\r\n\r\n```\r\n        Mockito.when(mapper.readValue(Mockito.eq(SDK_BYTES), Mockito.&lt;TypeReference&lt;Map&lt;String, List&lt;String&gt;&gt;&gt;&gt;any()))\r\n                .thenReturn(a);\r\n        Mockito.when(mapper.readValue(Mockito.eq(SDK_BYTES), Mockito.&lt;TypeReference&lt;Map&lt;String, FeatureLaunchStatus&gt;&gt;&gt;any()))\r\n                .thenReturn(b);\r\n```\r\nBut, I am getting &#39;b&#39; in both cases. How to get &#39;a&#39; for TypeReference&lt;Map&lt;String, List&lt;String&gt;&gt;&gt; type and &#39;b&#39; for TypeReference&lt;Map&lt;String, FeatureLaunchStatus&gt;&gt; type?\r\n\r\nI also tried ArgumentMatchers instead of Mockito, but it also is giving &#39;b&#39; in both case.\r\n\r\nOr please tell any other way how to mock, I have to call once of type         TypeReference&lt;Map&lt;String, List&lt;String&gt;&gt;&gt; and once of              TypeReference&lt;Map&lt;String, FeatureLaunchStatus&gt;&gt; and need different values to be returned.","title":"How to mock a function to return different value based on different generic type of an argument?","body":"<p>I have a function which takes 2 arguments, a string and a TypeReference:</p>\n<pre><code>    public &lt;T&gt; T getConfiguration(@NonNull final String configName,\n                                         @NonNull final TypeReference&lt;T&gt; typeReference) {\n            return mapper.readValue(configString, typeReference);\n    }\n</code></pre>\n<p>I want to make a test class for the above method and when I pass TypeReference&lt;Map&lt;String, List&gt;&gt; type, I want to return let say 'a' and if I pass TypeReference&lt;Map&lt;String, FeatureLaunchStatus&gt;&gt; I want 'b' to be returned:</p>\n<pre><code>        Mockito.when(mapper.readValue(Mockito.eq(SDK_BYTES), Mockito.&lt;TypeReference&lt;Map&lt;String, List&lt;String&gt;&gt;&gt;&gt;any()))\n                .thenReturn(a);\n        Mockito.when(mapper.readValue(Mockito.eq(SDK_BYTES), Mockito.&lt;TypeReference&lt;Map&lt;String, FeatureLaunchStatus&gt;&gt;&gt;any()))\n                .thenReturn(b);\n</code></pre>\n<p>But, I am getting 'b' in both cases. How to get 'a' for TypeReference&lt;Map&lt;String, List&gt;&gt; type and 'b' for TypeReference&lt;Map&lt;String, FeatureLaunchStatus&gt;&gt; type?</p>\n<p>I also tried ArgumentMatchers instead of Mockito, but it also is giving 'b' in both case.</p>\n<p>Or please tell any other way how to mock, I have to call once of type         TypeReference&lt;Map&lt;String, List&gt;&gt; and once of              TypeReference&lt;Map&lt;String, FeatureLaunchStatus&gt;&gt; and need different values to be returned.</p>\n"},{"tags":["java","arrays","binary-search","sortedlist"],"answers":[{"tags":[],"owner":{"account_id":2157109,"reputation":3274,"user_id":1912077,"accept_rate":62,"display_name":"Renjith"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679241168,"creation_date":1679241168,"answer_id":75783198,"question_id":75783114,"body_markdown":"Your program is wrong.You are finding the peak element and trying to do a binary search from start to end which will not work since the target could be anywhere in the array. If you are trying to search in a rotated array, try this\r\n\r\n    public static int search(int[] nums, int target) {\r\n        int start = 0;\r\n        int end = nums.length - 1;\r\n\r\n        while (start &lt;= end) {\r\n            int mid = start + (end - start) / 2;\r\n\r\n            if (nums[mid] == target) {\r\n                return mid;\r\n            }\r\n\r\n            if (nums[start] &lt;= nums[mid]) { // Left side is sorted\r\n                if (target &gt;= nums[start] &amp;&amp; target &lt; nums[mid]) {\r\n                    end = mid - 1;\r\n                } else {\r\n                    start = mid + 1;\r\n                }\r\n            } else { // Right side is sorted\r\n                if (target &gt; nums[mid] &amp;&amp; target &lt;= nums[end]) {\r\n                    start = mid + 1;\r\n                } else {\r\n                    end = mid - 1;\r\n                }\r\n            }\r\n        }\r\n\r\n        return -1;\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        int[] arr = {3,4,5,6,7,0,1,2};\r\n        int target = 1;\r\n        int index = search(arr, target);\r\n        System.out.println(&quot;Index of &quot; + target + &quot; is &quot; + index);\r\n    }","title":"I&#39;m trying to find 1 in the array and getting -1. help me with the code in rotated sorted array","body":"<p>Your program is wrong.You are finding the peak element and trying to do a binary search from start to end which will not work since the target could be anywhere in the array. If you are trying to search in a rotated array, try this</p>\n<pre><code>public static int search(int[] nums, int target) {\n    int start = 0;\n    int end = nums.length - 1;\n\n    while (start &lt;= end) {\n        int mid = start + (end - start) / 2;\n\n        if (nums[mid] == target) {\n            return mid;\n        }\n\n        if (nums[start] &lt;= nums[mid]) { // Left side is sorted\n            if (target &gt;= nums[start] &amp;&amp; target &lt; nums[mid]) {\n                end = mid - 1;\n            } else {\n                start = mid + 1;\n            }\n        } else { // Right side is sorted\n            if (target &gt; nums[mid] &amp;&amp; target &lt;= nums[end]) {\n                start = mid + 1;\n            } else {\n                end = mid - 1;\n            }\n        }\n    }\n\n    return -1;\n}\n\npublic static void main(String[] args) {\n    int[] arr = {3,4,5,6,7,0,1,2};\n    int target = 1;\n    int index = search(arr, target);\n    System.out.println(&quot;Index of &quot; + target + &quot; is &quot; + index);\n}\n</code></pre>\n"}],"owner":{"account_id":27295713,"reputation":1,"user_id":20813377,"display_name":"koyal kondapalli"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1679241168,"creation_date":1679240242,"question_id":75783114,"body_markdown":"```\r\n\r\npublic class searchInRotatedSortedArray {\r\n\r\n    public static void main(String[] args) {\r\n        int[] arr = {3,4,5,6,7,0,1,2};\r\n        int target = 1;\r\n       \r\n        int peak = peak_ele(arr);\r\n        int ans = bs(arr, target, 0, peak);\r\n        if (ans == -1) {\r\n            ans = bs(arr, target, peak+1, arr.length-1);\r\n        }\r\n        System.out.println(ans);\r\n    }\r\n    \r\n    \r\n    \r\n    static int peak_ele(int[] arr){\r\n        int start=0;\r\n        int end=arr.length-1;\r\n        \r\n        while(start&lt;end){\r\n            int mid=start+(end-start)/2;\r\n            if(arr[mid]&lt;arr[mid+1]){\r\n                start=mid+1;\r\n            }\r\n            else if(arr[mid]&gt;arr[mid+1]){\r\n                end=mid;\r\n            }\r\n          \r\n        }\r\n        return end;\r\n    }\r\n\r\n    static int bs(int[] arr, int target, int start, int end) {\r\n        \r\n        while (start &lt;= end) {\r\n            int mid = start + (end - start) / 2;\r\n            if (arr[mid] == target) {\r\n                return mid;\r\n            }\r\n            if (arr[mid] &lt; target) {\r\n                start = mid + 1;\r\n            } else {\r\n                end = mid - 1;\r\n            }\r\n        }\r\n        return -1;\r\n    }\r\n    \r\n\r\n\r\n}\r\n```\r\n\r\nI was expecting to get the index of 1 in the array but I&#39;m getting -1. The second half of array to find the target is not working idk. Help me find the error in the code as I have tried many times but I just couldn&#39;t figured it out.","title":"I&#39;m trying to find 1 in the array and getting -1. help me with the code in rotated sorted array","body":"<pre><code>\npublic class searchInRotatedSortedArray {\n\n    public static void main(String[] args) {\n        int[] arr = {3,4,5,6,7,0,1,2};\n        int target = 1;\n       \n        int peak = peak_ele(arr);\n        int ans = bs(arr, target, 0, peak);\n        if (ans == -1) {\n            ans = bs(arr, target, peak+1, arr.length-1);\n        }\n        System.out.println(ans);\n    }\n    \n    \n    \n    static int peak_ele(int[] arr){\n        int start=0;\n        int end=arr.length-1;\n        \n        while(start&lt;end){\n            int mid=start+(end-start)/2;\n            if(arr[mid]&lt;arr[mid+1]){\n                start=mid+1;\n            }\n            else if(arr[mid]&gt;arr[mid+1]){\n                end=mid;\n            }\n          \n        }\n        return end;\n    }\n\n    static int bs(int[] arr, int target, int start, int end) {\n        \n        while (start &lt;= end) {\n            int mid = start + (end - start) / 2;\n            if (arr[mid] == target) {\n                return mid;\n            }\n            if (arr[mid] &lt; target) {\n                start = mid + 1;\n            } else {\n                end = mid - 1;\n            }\n        }\n        return -1;\n    }\n    \n\n\n}\n</code></pre>\n<p>I was expecting to get the index of 1 in the array but I'm getting -1. The second half of array to find the target is not working idk. Help me find the error in the code as I have tried many times but I just couldn't figured it out.</p>\n"},{"tags":["java","gradle","build.gradle"],"answers":[{"tags":[],"owner":{"account_id":2008878,"reputation":15778,"user_id":1797912,"accept_rate":60,"display_name":"Chriki"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1679240794,"creation_date":1679240794,"answer_id":75783168,"question_id":75773393,"body_markdown":"To be able to use a custom class in some Gradle build, you’ll have to build that class in a different build first. In your `buildSrc` build, you’re trying to build the class in the same build in which you’re trying to use it – which isn’t possible.\r\n\r\nAfter having built the class, you’ll want to get it into the second build. For that you’ll have to get it on the build script classpath of that second build. This is usually done via a custom Gradle plugin which contains or depends on the class.\r\n\r\n### Sample Setup\r\n\r\nHere’s a sample setup for your use case (tested with Gradle 8.0.2):\r\n\r\n```lang-none\r\n├── enumProvidingProj\r\n│&#160;&#160; ├── build.gradle\r\n│&#160;&#160; ├── settings.gradle\r\n│&#160;&#160; └── src\r\n│&#160;&#160;     └── main\r\n│&#160;&#160;         ├── groovy\r\n│&#160;&#160;         │&#160;&#160; └── my-enum-convention.gradle\r\n│&#160;&#160;         └── java\r\n│&#160;&#160;             └── SomeEnum.java\r\n└── enumUsingProj\r\n &#160;&#160; ├── build.gradle\r\n &#160;&#160; └── settings.gradle\r\n```\r\n\r\nThe `enumProvidingProj` builds the `SomeEnum` class and makes it available via a [precompiled script plugin](https://docs.gradle.org/8.0.2/userguide/custom_plugins.html#sec:precompiled_plugins). The `enumUsingProj` then uses the class after it has applied the plugin.  The `enumUsingProj` is hence equivalent to your `buildSrc` build; you can use it as an included build, for example.\r\n\r\nHere are the contents of the listed sample files:\r\n\r\n#### `enumProvidingProj/build.gradle`\r\n\r\n```lang-groovy\r\nplugins {\r\n    id &#39;groovy-gradle-plugin&#39;\r\n    id &#39;java&#39;\r\n}\r\n```\r\n\r\n#### `enumProvidingProj/settings.gradle`\r\n\r\n```lang-groovy\r\n// empty file\r\n```\r\n\r\n#### `enumProvidingProj/src/main/groovy/my-enum-convention.gradle`\r\n\r\n```lang-groovy\r\n// Empty file is only here to create a plugin.\r\n```\r\n\r\n#### `enumProvidingProj/src/main/java/SomeEnum.java`\r\n\r\n```lang-java\r\npublic enum SomeEnum {\r\n    FOO, BAR, BAZ;\r\n}\r\n```\r\n\r\n#### `enumUsingProj/build.gradle`\r\n\r\n```lang-groovy\r\nplugins {\r\n  id &#39;java&#39;\r\n  id &#39;my-enum-convention&#39;\r\n}\r\n\r\nimport SomeEnum\r\n\r\ntask someTask() {\r\n    def foo = SomeEnum.FOO\r\n    doLast() {\r\n        println(&quot;$foo&quot;)\r\n    }\r\n}\r\n\r\nsomeTask.dependsOn compileJava\r\n```\r\n\r\n#### `enumUsingProj/settings.gradle`\r\n\r\n```lang-groovy\r\npluginManagement {\r\n    includeBuild &#39;../enumProvidingProj&#39;\r\n}\r\n```\r\n","title":"Can a buildSrc task refer to a class in buildSrc?","body":"<p>To be able to use a custom class in some Gradle build, you’ll have to build that class in a different build first. In your <code>buildSrc</code> build, you’re trying to build the class in the same build in which you’re trying to use it – which isn’t possible.</p>\n<p>After having built the class, you’ll want to get it into the second build. For that you’ll have to get it on the build script classpath of that second build. This is usually done via a custom Gradle plugin which contains or depends on the class.</p>\n<h3>Sample Setup</h3>\n<p>Here’s a sample setup for your use case (tested with Gradle 8.0.2):</p>\n<pre class=\"lang-none prettyprint-override\"><code>├── enumProvidingProj\n│   ├── build.gradle\n│   ├── settings.gradle\n│   └── src\n│       └── main\n│           ├── groovy\n│           │   └── my-enum-convention.gradle\n│           └── java\n│               └── SomeEnum.java\n└── enumUsingProj\n    ├── build.gradle\n    └── settings.gradle\n</code></pre>\n<p>The <code>enumProvidingProj</code> builds the <code>SomeEnum</code> class and makes it available via a <a href=\"https://docs.gradle.org/8.0.2/userguide/custom_plugins.html#sec:precompiled_plugins\" rel=\"nofollow noreferrer\">precompiled script plugin</a>. The <code>enumUsingProj</code> then uses the class after it has applied the plugin.  The <code>enumUsingProj</code> is hence equivalent to your <code>buildSrc</code> build; you can use it as an included build, for example.</p>\n<p>Here are the contents of the listed sample files:</p>\n<h4><code>enumProvidingProj/build.gradle</code></h4>\n<pre class=\"lang-groovy prettyprint-override\"><code>plugins {\n    id 'groovy-gradle-plugin'\n    id 'java'\n}\n</code></pre>\n<h4><code>enumProvidingProj/settings.gradle</code></h4>\n<pre class=\"lang-groovy prettyprint-override\"><code>// empty file\n</code></pre>\n<h4><code>enumProvidingProj/src/main/groovy/my-enum-convention.gradle</code></h4>\n<pre class=\"lang-groovy prettyprint-override\"><code>// Empty file is only here to create a plugin.\n</code></pre>\n<h4><code>enumProvidingProj/src/main/java/SomeEnum.java</code></h4>\n<pre class=\"lang-java prettyprint-override\"><code>public enum SomeEnum {\n    FOO, BAR, BAZ;\n}\n</code></pre>\n<h4><code>enumUsingProj/build.gradle</code></h4>\n<pre class=\"lang-groovy prettyprint-override\"><code>plugins {\n  id 'java'\n  id 'my-enum-convention'\n}\n\nimport SomeEnum\n\ntask someTask() {\n    def foo = SomeEnum.FOO\n    doLast() {\n        println(&quot;$foo&quot;)\n    }\n}\n\nsomeTask.dependsOn compileJava\n</code></pre>\n<h4><code>enumUsingProj/settings.gradle</code></h4>\n<pre class=\"lang-groovy prettyprint-override\"><code>pluginManagement {\n    includeBuild '../enumProvidingProj'\n}\n</code></pre>\n"}],"owner":{"account_id":2818343,"reputation":23,"user_id":2422777,"display_name":"Bill Wohler"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75783168,"answer_count":1,"score":1,"last_activity_date":1679240794,"creation_date":1679103764,"question_id":75773393,"body_markdown":"I&#39;d like to refer to a class that I&#39;ve defined in `buildSrc/src/main/java` (an enum, but it could also be a task) in `buildSrc/build.gradle`, but I get an `unable to resolve class` error.\r\n\r\nGiven `buildSrc/build.gradle`:\r\n\r\n```\r\napply plugin: &#39;java&#39;\r\n\r\nimport SomeEnum\r\n\r\ntask someTask() {\r\n    def foo = SomeEnum.FOO\r\n    doLast() {\r\n        println(&quot;$foo&quot;)\r\n    }\r\n}\r\n\r\nsomeTask.dependsOn compileJava\r\n```\r\n\r\nand given `src/main/java/SomeEnum.java`:\r\n\r\n```\r\npublic enum SomeEnum {\r\n    FOO, BAR, BAZ;\r\n}\r\n```\r\n\r\nI&#39;d expect that `gradle someTask` would print `FOO`, but instead I get:\r\n\r\n```\r\n* What went wrong:\r\nCould not compile build file &#39;/u/wk/bwohler/tmp/buildSrcTest/buildSrc/build.gradle&#39;.\r\n&gt; startup failed:\r\n  build file &#39;/u/wk/bwohler/tmp/buildSrcTest/buildSrc/build.gradle&#39;: 3: unable to resolve class SomeEnum\r\n   @ line 3, column 1.\r\n     import SomeEnum\r\n     ^\r\n```\r\n\r\nIs this possible?\r\n\r\nIf not, can you suggest a good alternative to allow our buildSrc to use this class? Would the solution be to get rid of buildSrc and use a composite build instead by putting SomeEnum in one included build and our current content of buildSrc in another included build?","title":"Can a buildSrc task refer to a class in buildSrc?","body":"<p>I'd like to refer to a class that I've defined in <code>buildSrc/src/main/java</code> (an enum, but it could also be a task) in <code>buildSrc/build.gradle</code>, but I get an <code>unable to resolve class</code> error.</p>\n<p>Given <code>buildSrc/build.gradle</code>:</p>\n<pre><code>apply plugin: 'java'\n\nimport SomeEnum\n\ntask someTask() {\n    def foo = SomeEnum.FOO\n    doLast() {\n        println(&quot;$foo&quot;)\n    }\n}\n\nsomeTask.dependsOn compileJava\n</code></pre>\n<p>and given <code>src/main/java/SomeEnum.java</code>:</p>\n<pre><code>public enum SomeEnum {\n    FOO, BAR, BAZ;\n}\n</code></pre>\n<p>I'd expect that <code>gradle someTask</code> would print <code>FOO</code>, but instead I get:</p>\n<pre><code>* What went wrong:\nCould not compile build file '/u/wk/bwohler/tmp/buildSrcTest/buildSrc/build.gradle'.\n&gt; startup failed:\n  build file '/u/wk/bwohler/tmp/buildSrcTest/buildSrc/build.gradle': 3: unable to resolve class SomeEnum\n   @ line 3, column 1.\n     import SomeEnum\n     ^\n</code></pre>\n<p>Is this possible?</p>\n<p>If not, can you suggest a good alternative to allow our buildSrc to use this class? Would the solution be to get rid of buildSrc and use a composite build instead by putting SomeEnum in one included build and our current content of buildSrc in another included build?</p>\n"},{"tags":["java","azure","maven","environment-variables","pipeline"],"comments":[{"owner":{"account_id":10869346,"reputation":83,"user_id":7991749,"display_name":"Yauheni"},"score":0,"creation_date":1679318939,"post_id":75783073,"comment_id":133695041,"body_markdown":"Not sure if it is important. I have two modules in the project. But for .env it doesnot matter. I tried with location in teh backend module and in the root...same ruslt - it fails.","body":"Not sure if it is important. I have two modules in the project. But for .env it doesnot matter. I tried with location in teh backend module and in the root...same ruslt - it fails."}],"owner":{"account_id":10869346,"reputation":83,"user_id":7991749,"display_name":"Yauheni"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679239835,"creation_date":1679239835,"question_id":75783073,"body_markdown":"if some one could help with the problem of .env file in azure pipeline.\r\nI saved my .env file in &quot;Secret files&quot; and the pipeline part regarding the Maven goal execution looks like this:\r\n\r\n    - task: DownloadSecureFile@1\r\n    inputs:\r\n      secureFile: &#39;.env&#39;\r\n\r\n    - task: CopyFiles@2\r\n    inputs:\r\n      SourceFolder: $(Agent.TempDirectory)\r\n      Contents: &#39;**\\.env&#39;\r\n      TargetFolder: $(Build.SourcesDirectory)\r\n      cleanTargetFolder: false\r\n\r\n\r\n    - task: Maven@3\r\n    inputs:\r\n      mavenPomFile: &#39;pom.xml&#39;\r\n      mavenOptions: &#39;-Xmx3072m&#39;\r\n      javaHomeOption: &#39;JDKVersion&#39;\r\n      jdkVersionOption: &#39;17&#39;\r\n      jdkArchitectureOption: &#39;x64&#39;\r\n      publishJUnitResults: true\r\n      testResultsFiles: &#39;**/surefire-reports/TEST-*.xml&#39;\r\n      goals: &#39;verify&#39;\r\n\r\nThe DownloadSecureFile@1 and CopyFiles@2 works fine:\r\n\r\n    found 1 files\r\n\r\n     Copying /home/vsts/work/_temp/.env to /home/vsts/work/1/s/.env\r\n\r\nBut the goal fails, it looks like .env file is not picked up or not seen...\r\nIf I hardcode variables in the application.yaml and thus avoid using .env then everything works fine...","title":"Azure pipeline maven goal doesnot use .env file","body":"<p>if some one could help with the problem of .env file in azure pipeline.\nI saved my .env file in &quot;Secret files&quot; and the pipeline part regarding the Maven goal execution looks like this:</p>\n<pre><code>- task: DownloadSecureFile@1\ninputs:\n  secureFile: '.env'\n\n- task: CopyFiles@2\ninputs:\n  SourceFolder: $(Agent.TempDirectory)\n  Contents: '**\\.env'\n  TargetFolder: $(Build.SourcesDirectory)\n  cleanTargetFolder: false\n\n\n- task: Maven@3\ninputs:\n  mavenPomFile: 'pom.xml'\n  mavenOptions: '-Xmx3072m'\n  javaHomeOption: 'JDKVersion'\n  jdkVersionOption: '17'\n  jdkArchitectureOption: 'x64'\n  publishJUnitResults: true\n  testResultsFiles: '**/surefire-reports/TEST-*.xml'\n  goals: 'verify'\n</code></pre>\n<p>The DownloadSecureFile@1 and CopyFiles@2 works fine:</p>\n<pre><code>found 1 files\n\n Copying /home/vsts/work/_temp/.env to /home/vsts/work/1/s/.env\n</code></pre>\n<p>But the goal fails, it looks like .env file is not picked up or not seen...\nIf I hardcode variables in the application.yaml and thus avoid using .env then everything works fine...</p>\n"},{"tags":["java","spring","spring-boot","spring-batch"],"comments":[{"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1679238926,"post_id":75782246,"comment_id":133681634,"body_markdown":"Please try lowercase: spring.batch.jdbc.initialize-schema=always","body":"Please try lowercase: spring.batch.jdbc.initialize-schema=always"},{"owner":{"account_id":19452685,"reputation":45,"user_id":14228695,"display_name":"Ajay Kumar"},"score":0,"creation_date":1679239252,"post_id":75782246,"comment_id":133681689,"body_markdown":"Thank you for your response. I found the root cause of the issue. It was due to @Enable batch processing annotation. We don&#39;t need it in spring batch 5. After removing it, it generates the meta data tables and works fine.","body":"Thank you for your response. I found the root cause of the issue. It was due to @Enable batch processing annotation. We don&#39;t need it in spring batch 5. After removing it, it generates the meta data tables and works fine."}],"answers":[{"tags":[],"owner":{"account_id":19452685,"reputation":45,"user_id":14228695,"display_name":"Ajay Kumar"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1679239742,"creation_date":1679239742,"answer_id":75783067,"question_id":75782246,"body_markdown":"Removing `@EnableBatchProcessing` annotation worked.\r\nWe dont need `@EnableBatchProcessing` annotation for spring batch default configuration in spring boot 3.\r\nThis is mentioned in the [migration guide of Spring Boot 3][1]\r\n\r\n\r\n  [1]: https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-3.0-Migration-Guide#spring-batch-changes","title":"Application is starting up but metadata tables are not created","body":"<p>Removing <code>@EnableBatchProcessing</code> annotation worked.\nWe dont need <code>@EnableBatchProcessing</code> annotation for spring batch default configuration in spring boot 3.\nThis is mentioned in the <a href=\"https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-3.0-Migration-Guide#spring-batch-changes\" rel=\"nofollow noreferrer\">migration guide of Spring Boot 3</a></p>\n"}],"owner":{"account_id":19452685,"reputation":45,"user_id":14228695,"display_name":"Ajay Kumar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":294,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1679239742,"creation_date":1679231778,"question_id":75782246,"body_markdown":"I am trying to learn Spring Batch 5. My Spring Batch 5 application starts up successfully, it doesn&#39;t create metadata tables. \r\n\r\nPom.xml\r\n```xml\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.0.4&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.ajaycodes&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;spring-batch-demo&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;springbatch&lt;/name&gt;\r\n\t&lt;description&gt;Spring Boot spring batch demo&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-batch&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.mysql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.batch&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-batch-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\napplciation.properties\r\n```none\r\nspring.datasource.url=jdbc:mysql://localhost:3306/spring_batch5\r\nspring.datasource.username=root\r\nspring.datasource.password=root\r\n\r\n# meta data table initialization\r\nspring.batch.jdbc.initialize-schema=ALWAYS\r\n```\r\nMain File\r\n```java\r\n@SpringBootApplication\r\n@EnableBatchProcessing\r\n@ComponentScan({&quot;com.ajaycodes.config&quot;, &quot;com.ajaycodes.service&quot;})\r\npublic class SpringbatchApplication {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(SpringbatchApplication.class, args);\r\n\t}\r\n```\r\nSampleJob.java\r\n```java\r\n@Configuration\r\npublic class SampleJob {\r\n\r\n\tprivate static final Logger log = LoggerFactory.getLogger(SampleJob.class);\r\n\r\n\t@Autowired\r\n\tprivate SecondTasklet secondTasklet;\r\n\r\n\t// define bean of type job\r\n\t@Bean\r\n\tJob firstJob(JobRepository jobRepository, Step step, Step secondStep) {\r\n\t\treturn new JobBuilder(&quot;First Job&quot;, jobRepository)\r\n\t\t\t\t// for first step\r\n\t\t\t\t.start(step)\r\n\t\t\t\t// for next all steps\r\n\t\t\t\t.next(secondStep).build();\r\n\t}\r\n\r\n\t// define a step\r\n\t@Bean\r\n\tStep firstStep(JobRepository jobRepository, Tasklet myTasklet, PlatformTransactionManager transactionManager) {\r\n\t\treturn new StepBuilder(&quot;First Step&quot;, jobRepository)\r\n\t\t\t\t.tasklet(firstTask(), transactionManager)\r\n\t\t\t\t.build();\r\n\t}\r\n\r\n\t// define a tasklet\r\n\tprivate Tasklet firstTask() {\r\n\t\t// task inside the step\r\n\t\treturn new Tasklet() {\r\n\t\t\t@Override\r\n\t\t\tpublic RepeatStatus execute(StepContribution contribution, ChunkContext chunkContext) throws Exception {\r\n\t\t\t\tSystem.out.println(&quot;This is first tasklet step&quot;);\r\n\t\t\t\treturn FINISHED;\r\n\t\t\t}\r\n\t\t};\r\n\t}\r\n\r\n\t// define second step\r\n\t@Bean\r\n\tStep secondStep(JobRepository jobRepository, Tasklet myTasklet, PlatformTransactionManager transactionManager) {\r\n\treturn new StepBuilder(&quot;Second Step&quot;, jobRepository)\r\n\t\t\t.tasklet(secondTasklet, transactionManager)\r\n\t\t\t.build();\r\n\t}\r\n\r\n}\r\n```\r\nSecondTasklet.java\r\n```\r\n@Service\r\npublic class SecondTasklet implements Tasklet {\r\n\r\n\t@Override\r\n\tpublic RepeatStatus execute(StepContribution contribution, ChunkContext chunkContext) throws Exception {\r\n\t\tSystem.out.println(&quot;This is second tasklet step&quot;);\r\n\t\treturn FINISHED;\r\n\t}\r\n\r\n}\r\n```\r\nMy project is working fine with Java 8 and Spring Batch 4. I am following the [Spring Batch 5.0 Migration Guide][1], but I am unable to find why metadata tables are not getting created. I am using MySQL as database.\r\n\r\n\r\n  [1]: https://github.com/spring-projects/spring-batch/wiki/Spring-Batch-5.0-Migration-Guide","title":"Application is starting up but metadata tables are not created","body":"<p>I am trying to learn Spring Batch 5. My Spring Batch 5 application starts up successfully, it doesn't create metadata tables.</p>\n<p>Pom.xml</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.4&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.ajaycodes&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-batch-demo&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;springbatch&lt;/name&gt;\n    &lt;description&gt;Spring Boot spring batch demo&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-batch&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.batch&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-batch-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>applciation.properties</p>\n<pre class=\"lang-none prettyprint-override\"><code>spring.datasource.url=jdbc:mysql://localhost:3306/spring_batch5\nspring.datasource.username=root\nspring.datasource.password=root\n\n# meta data table initialization\nspring.batch.jdbc.initialize-schema=ALWAYS\n</code></pre>\n<p>Main File</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootApplication\n@EnableBatchProcessing\n@ComponentScan({&quot;com.ajaycodes.config&quot;, &quot;com.ajaycodes.service&quot;})\npublic class SpringbatchApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(SpringbatchApplication.class, args);\n    }\n</code></pre>\n<p>SampleJob.java</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\npublic class SampleJob {\n\n    private static final Logger log = LoggerFactory.getLogger(SampleJob.class);\n\n    @Autowired\n    private SecondTasklet secondTasklet;\n\n    // define bean of type job\n    @Bean\n    Job firstJob(JobRepository jobRepository, Step step, Step secondStep) {\n        return new JobBuilder(&quot;First Job&quot;, jobRepository)\n                // for first step\n                .start(step)\n                // for next all steps\n                .next(secondStep).build();\n    }\n\n    // define a step\n    @Bean\n    Step firstStep(JobRepository jobRepository, Tasklet myTasklet, PlatformTransactionManager transactionManager) {\n        return new StepBuilder(&quot;First Step&quot;, jobRepository)\n                .tasklet(firstTask(), transactionManager)\n                .build();\n    }\n\n    // define a tasklet\n    private Tasklet firstTask() {\n        // task inside the step\n        return new Tasklet() {\n            @Override\n            public RepeatStatus execute(StepContribution contribution, ChunkContext chunkContext) throws Exception {\n                System.out.println(&quot;This is first tasklet step&quot;);\n                return FINISHED;\n            }\n        };\n    }\n\n    // define second step\n    @Bean\n    Step secondStep(JobRepository jobRepository, Tasklet myTasklet, PlatformTransactionManager transactionManager) {\n    return new StepBuilder(&quot;Second Step&quot;, jobRepository)\n            .tasklet(secondTasklet, transactionManager)\n            .build();\n    }\n\n}\n</code></pre>\n<p>SecondTasklet.java</p>\n<pre><code>@Service\npublic class SecondTasklet implements Tasklet {\n\n    @Override\n    public RepeatStatus execute(StepContribution contribution, ChunkContext chunkContext) throws Exception {\n        System.out.println(&quot;This is second tasklet step&quot;);\n        return FINISHED;\n    }\n\n}\n</code></pre>\n<p>My project is working fine with Java 8 and Spring Batch 4. I am following the <a href=\"https://github.com/spring-projects/spring-batch/wiki/Spring-Batch-5.0-Migration-Guide\" rel=\"nofollow noreferrer\">Spring Batch 5.0 Migration Guide</a>, but I am unable to find why metadata tables are not getting created. I am using MySQL as database.</p>\n"},{"tags":["java","minecraft"],"comments":[{"owner":{"account_id":27566119,"reputation":863,"user_id":21038281,"display_name":"SIMULATAN"},"score":0,"creation_date":1679242156,"post_id":75783048,"comment_id":133682185,"body_markdown":"Are you sure you called `HUD#draw` somewhere?","body":"Are you sure you called <code>HUD#draw</code> somewhere?"},{"owner":{"account_id":28058282,"reputation":1,"user_id":21432935,"display_name":"Emerald2045"},"score":0,"creation_date":1679243129,"post_id":75783048,"comment_id":133682375,"body_markdown":"What do you mean?","body":"What do you mean?"},{"owner":{"account_id":28058282,"reputation":1,"user_id":21432935,"display_name":"Emerald2045"},"score":0,"creation_date":1679243161,"post_id":75783048,"comment_id":133682382,"body_markdown":"Do you mean in minecraft.java class? If you mean that yes.","body":"Do you mean in minecraft.java class? If you mean that yes."},{"owner":{"account_id":27566119,"reputation":863,"user_id":21038281,"display_name":"SIMULATAN"},"score":0,"creation_date":1679243857,"post_id":75783048,"comment_id":133682522,"body_markdown":"Well in that case, do some debugging. Print something in every method and see what gets called and what doesn&#39;t.","body":"Well in that case, do some debugging. Print something in every method and see what gets called and what doesn&#39;t."},{"owner":{"account_id":28058282,"reputation":1,"user_id":21432935,"display_name":"Emerald2045"},"score":0,"creation_date":1679244287,"post_id":75783048,"comment_id":133682607,"body_markdown":"I did it, everything Everything works except the TabGui class. I dont know what i did wrong there.","body":"I did it, everything Everything works except the TabGui class. I dont know what i did wrong there."},{"owner":{"account_id":28058282,"reputation":1,"user_id":21432935,"display_name":"Emerald2045"},"score":0,"creation_date":1679244323,"post_id":75783048,"comment_id":133682615,"body_markdown":"The onEvent Does not Work","body":"The onEvent Does not Work"},{"owner":{"account_id":27566119,"reputation":863,"user_id":21038281,"display_name":"SIMULATAN"},"score":0,"creation_date":1679246099,"post_id":75783048,"comment_id":133682900,"body_markdown":"Well, did you add the event bus code into `Client.onEvent`?","body":"Well, did you add the event bus code into <code>Client.onEvent</code>?"},{"owner":{"account_id":28058282,"reputation":1,"user_id":21432935,"display_name":"Emerald2045"},"score":0,"creation_date":1679246876,"post_id":75783048,"comment_id":133683015,"body_markdown":"What do you mean? Thanks for your answers.","body":"What do you mean? Thanks for your answers."},{"owner":{"account_id":27566119,"reputation":863,"user_id":21038281,"display_name":"SIMULATAN"},"score":0,"creation_date":1679248507,"post_id":75783048,"comment_id":133683321,"body_markdown":"What does your `Client.onEvent` method look like","body":"What does your <code>Client.onEvent</code> method look like"},{"owner":{"account_id":28058282,"reputation":1,"user_id":21432935,"display_name":"Emerald2045"},"score":0,"creation_date":1679249980,"post_id":75783048,"comment_id":133683559,"body_markdown":"Do you mean the Event Class? https://pastebin.com/UzHLDNT1","body":"Do you mean the Event Class? <a href=\"https://pastebin.com/UzHLDNT1\" rel=\"nofollow noreferrer\">pastebin.com/UzHLDNT1</a>"},{"owner":{"account_id":27566119,"reputation":863,"user_id":21038281,"display_name":"SIMULATAN"},"score":0,"creation_date":1679251608,"post_id":75783048,"comment_id":133683839,"body_markdown":"No, `Client.onEvent`","body":"No, <code>Client.onEvent</code>"},{"owner":{"account_id":28058282,"reputation":1,"user_id":21432935,"display_name":"Emerald2045"},"score":0,"creation_date":1679251733,"post_id":75783048,"comment_id":133683856,"body_markdown":"I dont understand what you mean sorry","body":"I dont understand what you mean sorry"},{"owner":{"account_id":28058282,"reputation":1,"user_id":21432935,"display_name":"Emerald2045"},"score":0,"creation_date":1679251882,"post_id":75783048,"comment_id":133683869,"body_markdown":"https://pastebin.com/555mvtg8","body":"<a href=\"https://pastebin.com/555mvtg8\" rel=\"nofollow noreferrer\">pastebin.com/555mvtg8</a>"}],"owner":{"account_id":28058282,"reputation":1,"user_id":21432935,"display_name":"Emerald2045"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679239593,"creation_date":1679239593,"question_id":75783048,"body_markdown":"I tried to an Minecraft Hack Client with an Youtube Tutorial, but The Ingame TabGui wont show up ingame. (The Code for the Tabgui is not finished, but it already should be ingame). In the Video There should be the Gui ingame.\r\n\r\nTabGui.java\r\n\r\n\r\n```\r\npackage ClientSettings.Render;\r\nimport org.lwjgl.input.Keyboard;\r\n\r\nimport ClientSettings.Modules;\r\nimport Events.Event;\r\nimport Events.Listeners.EventRenderGui;\r\nimport net.minecraft.client.gui.FontRenderer;\r\nimport net.minecraft.client.gui.Gui;\r\n\r\npublic class TabGUI extends Modules{\r\n\t\r\n\tpublic TabGUI() {\r\n\t\tsuper(&quot;TabGUI&quot;, Keyboard.KEY_NONE, Category.Render);\r\n\t\ttoggled = true;\r\n\t}\r\n\r\n\t public void onEvent(Event e) {\r\n\t       if(e instanceof EventRenderGui) {\r\n\t           FontRenderer fr = mc.fontRendererObj;\r\n\t           \r\n\t           Gui.drawRect(5, 30, 70, 30, 0x90000000);\r\n\t           \r\n\t           int count = 0;\r\n\t          for(Category c : Modules.Category.values()) {\r\n\t        \t  fr.drawStringWithShadow(c.name, 10, 40 + count*10, 0x9000000);\r\n\t          }\r\n\t}\r\n}\r\n}\r\n\r\n```\r\n\r\n\r\nHUD.java Code\r\n\r\n\r\n```\r\npackage ClientSettings.HUD;\r\n\r\nimport java.util.Comparator;\r\n\r\n\r\nimport ClientSettings.Client;\r\nimport net.minecraft.client.Minecraft;\r\nimport ClientSettings.Modules;\r\nimport Events.Listeners.EventRenderGui;\r\nimport net.minecraft.client.gui.FontRenderer;\r\nimport net.minecraft.client.gui.Gui;\r\nimport net.minecraft.client.gui.ScaledResolution;\r\nimport net.minecraft.client.renderer.GlStateManager;\r\n\r\npublic class HUD {\r\n\tpublic Minecraft mc = Minecraft.getMinecraft();\r\n\t\r\n\r\n\tpublic void draw() {\r\n\t\tScaledResolution sr = new ScaledResolution(mc);\r\n\t\tFontRenderer fr = mc.fontRendererObj;\r\n\t\t\r\n\t\tGlStateManager.translate(4, 4, 0);\r\n\t\tGlStateManager.scale(2, 2, 1);\r\n\t\tGlStateManager.translate(-4, -4, 0);\r\n\t\tfr.drawString(Client.name, 4, 4, 51-153-255);\r\n\t\tGlStateManager.translate(4, 4, 0);\r\n\t\tGlStateManager.scale(0.5, 0.5, 1);\r\n\t\tGlStateManager.translate(-4, -4, 0);\r\n\t\tfr.drawString(Client.version, 60, 10, 51-153-255);\r\n\t\t\r\n\t\t\r\n\t\tint count = 0;\r\n\r\n\t\tfor(Modules m : Client.modules) {\r\n\t\t\tif(!m.toggled) {\r\n\t\t\t\tcontinue;\t\t\t\r\n\t\t\t\t}\r\n\t\t\t\r\n\t\t\tGui.drawRect(sr.getScaledWidth() - fr.getStringWidth(m.name) - 8, + count*(fr.FONT_HEIGHT + 6), sr.getScaledWidth(), 6 + fr.FONT_HEIGHT + count*(fr.FONT_HEIGHT + 6), 0x90000000);\r\n\t\t\tfr.drawString(m.name, sr.getScaledWidth() - fr.getStringWidth(m.name) - 4, 4 + count*(fr.FONT_HEIGHT + 6), 51-153-255);\r\n\t\t\t\r\n\t\t\tcount++;\r\n\t\t}\r\n\t\t\r\n\t\tClient.onEvent(new EventRenderGui());\r\n\t\t\r\n\t}\r\n}\r\n\r\n```\r\n\r\nEventRenderGui.java Code\r\n\r\n\r\n```\r\npackage Events.Listeners;\r\n\r\nimport Events.Event;\r\n\r\npublic class EventRenderGui extends Event&lt;EventRenderGui&gt;{\r\n\r\n}\r\n\r\n```\r\n\r\ni Did the Same like the Guy in the Video every thing worked, the TabGui was enabled but its just not there \r\nAnd I&#39;m not familiar with Java, Thanks for any answer.\r\n\r\n\r\n","title":"TabGui wont Show in Hack Client","body":"<p>I tried to an Minecraft Hack Client with an Youtube Tutorial, but The Ingame TabGui wont show up ingame. (The Code for the Tabgui is not finished, but it already should be ingame). In the Video There should be the Gui ingame.</p>\n<p>TabGui.java</p>\n<pre><code>package ClientSettings.Render;\nimport org.lwjgl.input.Keyboard;\n\nimport ClientSettings.Modules;\nimport Events.Event;\nimport Events.Listeners.EventRenderGui;\nimport net.minecraft.client.gui.FontRenderer;\nimport net.minecraft.client.gui.Gui;\n\npublic class TabGUI extends Modules{\n    \n    public TabGUI() {\n        super(&quot;TabGUI&quot;, Keyboard.KEY_NONE, Category.Render);\n        toggled = true;\n    }\n\n     public void onEvent(Event e) {\n           if(e instanceof EventRenderGui) {\n               FontRenderer fr = mc.fontRendererObj;\n               \n               Gui.drawRect(5, 30, 70, 30, 0x90000000);\n               \n               int count = 0;\n              for(Category c : Modules.Category.values()) {\n                  fr.drawStringWithShadow(c.name, 10, 40 + count*10, 0x9000000);\n              }\n    }\n}\n}\n\n</code></pre>\n<p>HUD.java Code</p>\n<pre><code>package ClientSettings.HUD;\n\nimport java.util.Comparator;\n\n\nimport ClientSettings.Client;\nimport net.minecraft.client.Minecraft;\nimport ClientSettings.Modules;\nimport Events.Listeners.EventRenderGui;\nimport net.minecraft.client.gui.FontRenderer;\nimport net.minecraft.client.gui.Gui;\nimport net.minecraft.client.gui.ScaledResolution;\nimport net.minecraft.client.renderer.GlStateManager;\n\npublic class HUD {\n    public Minecraft mc = Minecraft.getMinecraft();\n    \n\n    public void draw() {\n        ScaledResolution sr = new ScaledResolution(mc);\n        FontRenderer fr = mc.fontRendererObj;\n        \n        GlStateManager.translate(4, 4, 0);\n        GlStateManager.scale(2, 2, 1);\n        GlStateManager.translate(-4, -4, 0);\n        fr.drawString(Client.name, 4, 4, 51-153-255);\n        GlStateManager.translate(4, 4, 0);\n        GlStateManager.scale(0.5, 0.5, 1);\n        GlStateManager.translate(-4, -4, 0);\n        fr.drawString(Client.version, 60, 10, 51-153-255);\n        \n        \n        int count = 0;\n\n        for(Modules m : Client.modules) {\n            if(!m.toggled) {\n                continue;           \n                }\n            \n            Gui.drawRect(sr.getScaledWidth() - fr.getStringWidth(m.name) - 8, + count*(fr.FONT_HEIGHT + 6), sr.getScaledWidth(), 6 + fr.FONT_HEIGHT + count*(fr.FONT_HEIGHT + 6), 0x90000000);\n            fr.drawString(m.name, sr.getScaledWidth() - fr.getStringWidth(m.name) - 4, 4 + count*(fr.FONT_HEIGHT + 6), 51-153-255);\n            \n            count++;\n        }\n        \n        Client.onEvent(new EventRenderGui());\n        \n    }\n}\n\n</code></pre>\n<p>EventRenderGui.java Code</p>\n<pre><code>package Events.Listeners;\n\nimport Events.Event;\n\npublic class EventRenderGui extends Event&lt;EventRenderGui&gt;{\n\n}\n\n</code></pre>\n<p>i Did the Same like the Guy in the Video every thing worked, the TabGui was enabled but its just not there\nAnd I'm not familiar with Java, Thanks for any answer.</p>\n"},{"tags":["java","java-http-client"],"answers":[{"tags":[],"owner":{"account_id":7313625,"reputation":6030,"user_id":5572007,"display_name":"amseager"},"down_vote_count":0,"up_vote_count":21,"is_accepted":true,"score":21,"last_activity_date":1603789459,"creation_date":1603789202,"answer_id":64551050,"question_id":64550136,"body_markdown":"You can specify it at the `HttpRequest.Builder` level via the [timeout][1] method:\r\n\r\n```\r\nHttpClient httpClient = HttpClient.newBuilder()\r\n                .connectTimeout(Duration.ofSeconds(5))\r\n                .build();\r\n\r\nHttpRequest httpRequest = HttpRequest.newBuilder()\r\n                .uri(URI.create(&quot;...&quot;))\r\n                .timeout(Duration.ofSeconds(5)) //this\r\n                .build();\r\n\r\n\r\nhttpClient.send(httpRequest, HttpResponse.BodyHandlers.ofString());\r\n```\r\n\r\nIf you&#39;ve got connected successfully but not able to receive a response at the desired amount of time, `java.net.http.HttpTimeoutException: request timed out` will be thrown (in contrast with `java.net.http.HttpConnectTimeoutException: HTTP connect timed out` which will be thrown if you don&#39;t get a successful connection).\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/11/docs/api/java.net.http/java/net/http/HttpRequest.Builder.html#timeout(java.time.Duration)","title":"How to set socket timeout in Java HTTP Client","body":"<p>You can specify it at the <code>HttpRequest.Builder</code> level via the <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.net.http/java/net/http/HttpRequest.Builder.html#timeout(java.time.Duration)\" rel=\"noreferrer\">timeout</a> method:</p>\n<pre><code>HttpClient httpClient = HttpClient.newBuilder()\n                .connectTimeout(Duration.ofSeconds(5))\n                .build();\n\nHttpRequest httpRequest = HttpRequest.newBuilder()\n                .uri(URI.create(&quot;...&quot;))\n                .timeout(Duration.ofSeconds(5)) //this\n                .build();\n\n\nhttpClient.send(httpRequest, HttpResponse.BodyHandlers.ofString());\n</code></pre>\n<p>If you've got connected successfully but not able to receive a response at the desired amount of time, <code>java.net.http.HttpTimeoutException: request timed out</code> will be thrown (in contrast with <code>java.net.http.HttpConnectTimeoutException: HTTP connect timed out</code> which will be thrown if you don't get a successful connection).</p>\n"},{"tags":[],"owner":{"account_id":17980360,"reputation":53,"user_id":13066866,"display_name":"shrexster42"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659430983,"creation_date":1659430983,"answer_id":73204764,"question_id":64550136,"body_markdown":"There doesn&#39;t seem to be a way to specify a timeout on the flow of packets (socket timeout) on the Java Http Client.\r\n\r\nI found an enhancement request on OpenJDK which seems to cover this possibility - https://bugs.openjdk.org/browse/JDK-8258397\r\n\r\nContent from the link\r\n\r\nThe HttpClient lets you set a connection timeout (HttpClient.Builder) and a request timeout (HttpRequest.Builder). However the request timeout will be cancelled as soon as the response headers have been read. There is currently no timeout covering the reception of the body.\r\n\r\nA possibility for the caller is to make use of the CompletableFuture API (get/join will accept a timeout, or CF::orTimeout can be called).\r\nIIRC - in that case, it will still be the responsibility of the caller to cancel the request. We might want to reexamine and possibility change that.\r\nThe disadvantage here is that some of our BodyHandlers (ofPublisher, ofInputStream) will return immediately - so the CF API won&#39;t help in this case.\r\nThis might be a good thing (or not).\r\n\r\nAnother possibility could be to add a body timeout on HttpRequest.Builder. This would then cover all cases - but do we really want to timeout in the case of ofInputStream or ofPublisher if the caller doesn&#39;t read the body fast enough?\r\n","title":"How to set socket timeout in Java HTTP Client","body":"<p>There doesn't seem to be a way to specify a timeout on the flow of packets (socket timeout) on the Java Http Client.</p>\n<p>I found an enhancement request on OpenJDK which seems to cover this possibility - <a href=\"https://bugs.openjdk.org/browse/JDK-8258397\" rel=\"nofollow noreferrer\">https://bugs.openjdk.org/browse/JDK-8258397</a></p>\n<p>Content from the link</p>\n<p>The HttpClient lets you set a connection timeout (HttpClient.Builder) and a request timeout (HttpRequest.Builder). However the request timeout will be cancelled as soon as the response headers have been read. There is currently no timeout covering the reception of the body.</p>\n<p>A possibility for the caller is to make use of the CompletableFuture API (get/join will accept a timeout, or CF::orTimeout can be called).\nIIRC - in that case, it will still be the responsibility of the caller to cancel the request. We might want to reexamine and possibility change that.\nThe disadvantage here is that some of our BodyHandlers (ofPublisher, ofInputStream) will return immediately - so the CF API won't help in this case.\nThis might be a good thing (or not).</p>\n<p>Another possibility could be to add a body timeout on HttpRequest.Builder. This would then cover all cases - but do we really want to timeout in the case of ofInputStream or ofPublisher if the caller doesn't read the body fast enough?</p>\n"}],"owner":{"account_id":2970983,"reputation":266,"user_id":2523032,"display_name":"mseele"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12310,"favorite_count":0,"down_vote_count":0,"up_vote_count":18,"accepted_answer_id":64551050,"answer_count":2,"score":18,"last_activity_date":1679239328,"creation_date":1603785157,"question_id":64550136,"body_markdown":"We want to migrate all our *apache-httpclient-4.x* code to *java-http-client* code to reduce dependencies. While migrating them, I ran into the following issue under Java 11:\r\n\r\n**How to set the socket timeout in Java HTTP Client?**\r\n\r\nWith *apache-httpclient-4.x* we can set the connection timeout and the socket timeout like this:\r\n\r\n```\r\nDefaultHttpClient httpClient = new DefaultHttpClient();\r\nint timeout = 5; // seconds\r\nHttpParams httpParams = httpClient.getParams();\r\nhttpParams.setParameter(CoreConnectionPNames.CONNECTION_TIMEOUT, timeout * 1000);\r\nhttpParams.setParameter(CoreConnectionPNames.SO_TIMEOUT, timeout * 1000);\r\n```\r\n\r\nWith *java-http-client* I can only set the connection timeout like this:\r\n\r\n```\r\nHttpClient httpClient = HttpClient.newBuilder()\r\n                                  .connectTimeout(Duration.ofSeconds(5))\r\n                                  .build()\r\n```\r\n\r\nBut I found no way to set the socket timeout. Is there any way or an open issue to support that in the future?","title":"How to set socket timeout in Java HTTP Client","body":"<p>We want to migrate all our <em>apache-httpclient-4.x</em> code to <em>java-http-client</em> code to reduce dependencies. While migrating them, I ran into the following issue under Java 11:</p>\n<p><strong>How to set the socket timeout in Java HTTP Client?</strong></p>\n<p>With <em>apache-httpclient-4.x</em> we can set the connection timeout and the socket timeout like this:</p>\n<pre><code>DefaultHttpClient httpClient = new DefaultHttpClient();\nint timeout = 5; // seconds\nHttpParams httpParams = httpClient.getParams();\nhttpParams.setParameter(CoreConnectionPNames.CONNECTION_TIMEOUT, timeout * 1000);\nhttpParams.setParameter(CoreConnectionPNames.SO_TIMEOUT, timeout * 1000);\n</code></pre>\n<p>With <em>java-http-client</em> I can only set the connection timeout like this:</p>\n<pre><code>HttpClient httpClient = HttpClient.newBuilder()\n                                  .connectTimeout(Duration.ofSeconds(5))\n                                  .build()\n</code></pre>\n<p>But I found no way to set the socket timeout. Is there any way or an open issue to support that in the future?</p>\n"},{"tags":["java","maven","spring-boot","firebase-admin"],"comments":[{"owner":{"account_id":6367768,"reputation":1016,"user_id":4941250,"accept_rate":45,"display_name":"Blackjack"},"score":0,"creation_date":1544549810,"post_id":49761344,"comment_id":94312659,"body_markdown":"Have you update your new imported dependency?","body":"Have you update your new imported dependency?"}],"answers":[{"tags":[],"owner":{"account_id":6610088,"reputation":41,"user_id":5105569,"display_name":"Ankesh"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1548589794,"creation_date":1548589794,"answer_id":54387799,"question_id":49761344,"body_markdown":"In your FirebaseAdminConfig class, you have directly pasted the snippet. You need to create a method first, otherwise, you will get compilation errors.\r\n\r\n    @Configuration\r\n    public class FireBaseConfig{\r\n    @Bean\r\n        FirebaseApp createFireBaseApp() throws IOException {\r\n        FileInputStream serviceAccount =\r\n                new FileInputStream(&quot;pathtojson.json&quot;);\r\n\r\n        FirebaseOptions options = new FirebaseOptions.Builder()\r\n                .setCredentials(GoogleCredentials.fromStream(serviceAccount))\r\n                .setDatabaseUrl(&quot;url&quot;)\r\n                .build();\r\n\r\n      return  FirebaseApp.initializeApp(options);\r\n    }\r\n\r\n    }\r\n","title":"Spring boot firebase admin sdk setup - Cannot resolve symbols","body":"<p>In your FirebaseAdminConfig class, you have directly pasted the snippet. You need to create a method first, otherwise, you will get compilation errors.</p>\n\n<pre><code>@Configuration\npublic class FireBaseConfig{\n@Bean\n    FirebaseApp createFireBaseApp() throws IOException {\n    FileInputStream serviceAccount =\n            new FileInputStream(\"pathtojson.json\");\n\n    FirebaseOptions options = new FirebaseOptions.Builder()\n            .setCredentials(GoogleCredentials.fromStream(serviceAccount))\n            .setDatabaseUrl(\"url\")\n            .build();\n\n  return  FirebaseApp.initializeApp(options);\n}\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19942283,"reputation":381,"user_id":14613787,"display_name":"Deepanshu Rathi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1628082721,"creation_date":1628082721,"answer_id":68651876,"question_id":49761344,"body_markdown":"You can also do it in main class of Application\r\n\r\n    public static void main(String[] args) throws IOException {\r\n\t\tFileInputStream serviceAccount = new FileInputStream(&quot;src/main/resources/credential.json&quot;);\r\n\t\t@SuppressWarnings(&quot;deprecation&quot;)\r\n\t\tFirebaseOptions options = new FirebaseOptions.Builder()\r\n\t\t\t\t.setCredentials(GoogleCredentials.fromStream(serviceAccount))\r\n\t\t\t\t.build();\r\n\t\tFirebaseApp.initializeApp(options);\r\n\t\tSpringApplication.run(MarketingDashboardApplication.class, args);\r\n\t}","title":"Spring boot firebase admin sdk setup - Cannot resolve symbols","body":"<p>You can also do it in main class of Application</p>\n<pre><code>public static void main(String[] args) throws IOException {\n    FileInputStream serviceAccount = new FileInputStream(&quot;src/main/resources/credential.json&quot;);\n    @SuppressWarnings(&quot;deprecation&quot;)\n    FirebaseOptions options = new FirebaseOptions.Builder()\n            .setCredentials(GoogleCredentials.fromStream(serviceAccount))\n            .build();\n    FirebaseApp.initializeApp(options);\n    SpringApplication.run(MarketingDashboardApplication.class, args);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19642718,"reputation":31,"user_id":14378421,"display_name":"sr11"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679238415,"creation_date":1679238415,"answer_id":75782933,"question_id":49761344,"body_markdown":"For those who find that the dependencies are not resolved in spite of following all the answers here, **figuring out the right version** for firebase-admin through trial and error could be worth a shot- it worked for me. \r\n\r\nFor example, I was using Springboot 2.7.9, and JDK 11, and tried with various versions of firebase-admin without any luck, until I found that using 7.2.0 resolved the issue.","title":"Spring boot firebase admin sdk setup - Cannot resolve symbols","body":"<p>For those who find that the dependencies are not resolved in spite of following all the answers here, <strong>figuring out the right version</strong> for firebase-admin through trial and error could be worth a shot- it worked for me.</p>\n<p>For example, I was using Springboot 2.7.9, and JDK 11, and tried with various versions of firebase-admin without any luck, until I found that using 7.2.0 resolved the issue.</p>\n"}],"owner":{"account_id":10173221,"reputation":71,"user_id":7512821,"display_name":"Chris Schertenlieb"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5949,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1679238415,"creation_date":1523387778,"question_id":49761344,"body_markdown":"I am using this guide to initialize the firebase admin sdk on my spring-boot java application: https://firebase.google.com/docs/admin/setup\r\n\r\nI&#39;ve included the correct maven dependency \r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.google.firebase&lt;/groupId&gt;\r\n        &lt;artifactId&gt;firebase-admin&lt;/artifactId&gt;\r\n        &lt;version&gt;5.9.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nAnd I&#39;m attempting to initialize using the code snippet they provided, but when I import the firebase libraries, none of the symbols (firebase, auth, FirebaseOptions, GoogleCredentials, FirebaseApp) are being resolved. \r\n\r\n    import java.io.FileInputStream;\r\n    import com.google.firebase.*;\r\n    import com.google.auth.oauth2.GoogleCredentials;\r\n\r\n    import org.springframework.context.annotation.Configuration;\r\n\r\n    @Configuration\r\n    public class FirebaseAdminConfig {\r\n        FileInputStream serviceAccount = new \r\n    FileInputStream(&quot;path/to/firebase/credentials/&quot;);\r\n        FirebaseOptions options = new FirebaseOptions.Builder()\r\n                .setCredentials(GoogleCredentials.fromStream(serviceAccount))\r\n                .setDatabaseUrl(&quot;link to database&quot;)\r\n                .build();\r\n    FirebaseApp.initializeApp(options);\r\n    }\r\n\r\nAm I missing import statements? Is there some additional configuration needed? \r\n","title":"Spring boot firebase admin sdk setup - Cannot resolve symbols","body":"<p>I am using this guide to initialize the firebase admin sdk on my spring-boot java application: <a href=\"https://firebase.google.com/docs/admin/setup\" rel=\"nofollow noreferrer\">https://firebase.google.com/docs/admin/setup</a></p>\n\n<p>I've included the correct maven dependency </p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.google.firebase&lt;/groupId&gt;\n    &lt;artifactId&gt;firebase-admin&lt;/artifactId&gt;\n    &lt;version&gt;5.9.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>And I'm attempting to initialize using the code snippet they provided, but when I import the firebase libraries, none of the symbols (firebase, auth, FirebaseOptions, GoogleCredentials, FirebaseApp) are being resolved. </p>\n\n<pre><code>import java.io.FileInputStream;\nimport com.google.firebase.*;\nimport com.google.auth.oauth2.GoogleCredentials;\n\nimport org.springframework.context.annotation.Configuration;\n\n@Configuration\npublic class FirebaseAdminConfig {\n    FileInputStream serviceAccount = new \nFileInputStream(\"path/to/firebase/credentials/\");\n    FirebaseOptions options = new FirebaseOptions.Builder()\n            .setCredentials(GoogleCredentials.fromStream(serviceAccount))\n            .setDatabaseUrl(\"link to database\")\n            .build();\nFirebaseApp.initializeApp(options);\n}\n</code></pre>\n\n<p>Am I missing import statements? Is there some additional configuration needed? </p>\n"},{"tags":["java","jsp","jdbc"],"comments":[{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":1,"creation_date":1679080625,"post_id":75771218,"comment_id":133663180,"body_markdown":"(1) Can you [edit] the question and provide the full error message (and stack trace if there is one), as formatted text? (2) Is this a compilation error or a runtime error? (3) What line of code is causing the error? (4) You mention &quot;_the package name_&quot; - what package name are you referring to?","body":"(1) Can you <a href=\"https://stackoverflow.com/posts/75771218/edit\">edit</a> the question and provide the full error message (and stack trace if there is one), as formatted text? (2) Is this a compilation error or a runtime error? (3) What line of code is causing the error? (4) You mention &quot;<i>the package name</i>&quot; - what package name are you referring to?"},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1679081708,"post_id":75771218,"comment_id":133663422,"body_markdown":"Did you import it?","body":"Did you import it?"},{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1679081812,"post_id":75771218,"comment_id":133663449,"body_markdown":"Related: [How do you import classes in JSP?](https://stackoverflow.com/q/239147/12567365)","body":"Related: <a href=\"https://stackoverflow.com/q/239147/12567365\">How do you import classes in JSP?</a>"},{"owner":{"account_id":28045052,"reputation":1,"user_id":21421979,"display_name":"achiever17"},"score":0,"creation_date":1679082114,"post_id":75771218,"comment_id":133663526,"body_markdown":"&lt;%@ page import=&quot;com.connection.*&quot;%&gt;","body":"&lt;%@ page import=&quot;com.connection.*&quot;%&gt;"}],"answers":[{"tags":[],"owner":{"account_id":20789322,"reputation":96,"user_id":15267862,"display_name":"kek5chen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679238351,"creation_date":1679081903,"answer_id":75771579,"question_id":75771218,"body_markdown":"Without a proper error message it&#39;s hard to exactly pinpoint the issue. Judging by the context I suppose you are just missing an import statement in your JSP. Try to import the Java Class like the following:\r\n\r\n```java\r\n&lt;%@ page import=&quot;com.connection.database&quot; %&gt;\r\n&lt;%\r\n    ResultSet resultOrders = database.getResultFromSqlQuery(&quot;select * from tblorders where order_status=&#39;Pending&#39;&quot;);\r\n    while (resultOrders.next()) {\r\n%&gt;\r\n```\r\n\r\nI also saw that your coding style is really messed up. Let me also give you some hints on how to improve the readability of your code. Java is such a beautiful language for it to die with code quality.\r\n\r\n**Naming conventions**:\r\n    Class names: Capitalize the first letter of each word (PascalCase), e.g., DatabaseConnection.\r\n    Method and variable names: Use camelCase, e.g., getResultFromSqlQuery.\r\n    Constants: Use uppercase letters with underscores for separation, e.g., MAX_CONNECTIONS.\r\n\r\n**Indentation**:\r\n  Your whole namespace is indented by much too much, keep it consistent and decide for one of the following optimally as they are the most popular:\r\n  - 2 spaces\r\n  - 4 spaces\r\n  - 1 tab\r\n\r\n**Self Documenting Code**:\r\n  Try to give your function and variable names generally a good and self explaining name so your code basically documents itself. This reduces random thrown in comments. Good code doesn&#39;t need comments.\r\n\r\n**Try to not place misleading comments**:\r\n  Consider the following in your code:\r\n```\r\n//Creating Connection\r\npublic static Connection connection;\r\n```\r\n\r\n  Initially this looks like the connection itself is created and opened there, not just the object.\r\n\r\n**Create meaningful exceptions**:\r\n  Your exceptions are mostly just printing stack traces. Maybe try to instead give proper error logs since at the point of coding the exception, you know what went wrong. This will make debugging a breeze.\r\n\r\nAnd finally but not least:\r\n\r\n**Use guard clauses**:\r\n  One specific case in your code I saw was:\r\n```java\r\n//Creating universal method to close connect will mysql database\r\npublic static void CloseConnection() {\r\n    if (connection != null) {\r\n        try {\r\n            connection.close();\r\n            connection = null;\r\n        } catch (SQLException ex) {\r\n            ex.printStackTrace();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nThis is a lot of depth into a function without any reason. Instead this can be made more readable by doing:\r\n\r\n```java\r\n//Creating universal method to close connect will mysql database\r\npublic static void CloseConnection() {\r\n    if (connection == null) return;\r\n    try {\r\n        connection.close();\r\n        connection = null;\r\n    } catch (SQLException ex) {\r\n        // proper error logging\r\n    }\r\n}\r\n```\r\n\r\nIf you place the return at the end of the line is debatable. It&#39;s mostly personal preference.\r\n\r\n**Edit**\r\nI forgot to mention that your namespace name is very unrepresentative. Try to choose something better for a namespace. (Unless you actually own &quot;connection.com&quot;. Usually it should be something like the companies website as a prefix and then the class name. If you owned &quot;example.com&quot; as a company, you&#39;d use &quot;com.example.database&quot;. Try to keep it proper or unexpected things might happen in the future.\r\n\r\nGood luck, hope I was of help.","title":"variable cannot resolved type","body":"<p>Without a proper error message it's hard to exactly pinpoint the issue. Judging by the context I suppose you are just missing an import statement in your JSP. Try to import the Java Class like the following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>&lt;%@ page import=&quot;com.connection.database&quot; %&gt;\n&lt;%\n    ResultSet resultOrders = database.getResultFromSqlQuery(&quot;select * from tblorders where order_status='Pending'&quot;);\n    while (resultOrders.next()) {\n%&gt;\n</code></pre>\n<p>I also saw that your coding style is really messed up. Let me also give you some hints on how to improve the readability of your code. Java is such a beautiful language for it to die with code quality.</p>\n<p><strong>Naming conventions</strong>:\nClass names: Capitalize the first letter of each word (PascalCase), e.g., DatabaseConnection.\nMethod and variable names: Use camelCase, e.g., getResultFromSqlQuery.\nConstants: Use uppercase letters with underscores for separation, e.g., MAX_CONNECTIONS.</p>\n<p><strong>Indentation</strong>:\nYour whole namespace is indented by much too much, keep it consistent and decide for one of the following optimally as they are the most popular:</p>\n<ul>\n<li>2 spaces</li>\n<li>4 spaces</li>\n<li>1 tab</li>\n</ul>\n<p><strong>Self Documenting Code</strong>:\nTry to give your function and variable names generally a good and self explaining name so your code basically documents itself. This reduces random thrown in comments. Good code doesn't need comments.</p>\n<p><strong>Try to not place misleading comments</strong>:\nConsider the following in your code:</p>\n<pre><code>//Creating Connection\npublic static Connection connection;\n</code></pre>\n<p>Initially this looks like the connection itself is created and opened there, not just the object.</p>\n<p><strong>Create meaningful exceptions</strong>:\nYour exceptions are mostly just printing stack traces. Maybe try to instead give proper error logs since at the point of coding the exception, you know what went wrong. This will make debugging a breeze.</p>\n<p>And finally but not least:</p>\n<p><strong>Use guard clauses</strong>:\nOne specific case in your code I saw was:</p>\n<pre class=\"lang-java prettyprint-override\"><code>//Creating universal method to close connect will mysql database\npublic static void CloseConnection() {\n    if (connection != null) {\n        try {\n            connection.close();\n            connection = null;\n        } catch (SQLException ex) {\n            ex.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>This is a lot of depth into a function without any reason. Instead this can be made more readable by doing:</p>\n<pre class=\"lang-java prettyprint-override\"><code>//Creating universal method to close connect will mysql database\npublic static void CloseConnection() {\n    if (connection == null) return;\n    try {\n        connection.close();\n        connection = null;\n    } catch (SQLException ex) {\n        // proper error logging\n    }\n}\n</code></pre>\n<p>If you place the return at the end of the line is debatable. It's mostly personal preference.</p>\n<p><strong>Edit</strong>\nI forgot to mention that your namespace name is very unrepresentative. Try to choose something better for a namespace. (Unless you actually own &quot;connection.com&quot;. Usually it should be something like the companies website as a prefix and then the class name. If you owned &quot;example.com&quot; as a company, you'd use &quot;com.example.database&quot;. Try to keep it proper or unexpected things might happen in the future.</p>\n<p>Good luck, hope I was of help.</p>\n"}],"owner":{"account_id":28045052,"reputation":1,"user_id":21421979,"display_name":"achiever17"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1679238351,"creation_date":1679079306,"question_id":75771218,"body_markdown":"I&#39;m creating dynamic web project  that I am working on /servlet app .keep getting this error .  I&#39;ve tried many methods.Still, the error persists. What is strange is if I start typing the package name eclipse actually auto-completes the class for me! how to resolve this issue...I&#39;m getting error at &quot;database&quot; keyword in jsp code. it keep showing error: &quot;DatabaseConnection cannot resolved.&quot;\r\n\r\n[the red under line is the key word where I get error][1]\r\n\r\n\r\nthis is code of database\r\n\r\n```java\r\npackage com.connection;\r\n\r\nimport java.sql.Connection;\r\nimport java.sql.DriverManager;\r\nimport java.sql.ResultSet;\r\nimport java.sql.SQLException;\r\n\r\npublic class DatabaseConnection {\r\n\r\n    \t    //Creating Connection\r\n    \t    public static Connection connection;\r\n    \r\n    \t    //Creating universal method to open connect will mysql database\r\n    \t    public static Connection getConnection() {\r\n    \t        try {\r\n    \t            //Registering with mysql Driver\r\n    \t            Class.forName(&quot;com.mysql.jdbc.Driver&quot;);\r\n    \t            connection = DriverManager.getConnection(&quot;jdbc:mysql://localhost:3308/shoppingsystem&quot;, &quot;root&quot;, &quot;Narend-10&quot;);\r\n    \t        } catch (Exception e) {\r\n    \t            e.printStackTrace();\r\n    \t        }\r\n    \t        return (connection);\r\n    \t    }\r\n    \r\n    \t    //Creating universal method to close connect will mysql database\r\n    \t    public static void CloseConnection() {\r\n    \t        if (connection != null) {\r\n    \t            try {\r\n    \t                connection.close();\r\n    \t                connection = null;\r\n    \t            } catch (SQLException ex) {\r\n    \t                ex.printStackTrace();\r\n    \t            }\r\n    \t        }\r\n    \t    }\r\n    \r\n    \t    //Creating universal method to query for retriving information\r\n    \t    public static ResultSet getResultFromSqlQuery(String SqlQueryString) {\r\n    \t        //Creating Resultset object\r\n    \t        ResultSet rs = null;\r\n    \t        try {\r\n    \t            //Checking whether the connection is null or null\r\n    \t            if (connection == null) {\r\n    \t                getConnection();\r\n    \t            }\r\n    \t            //Querying the query\r\n    \t            rs = connection.createStatement().executeQuery(SqlQueryString);\r\n    \t        } catch (Exception ex) {\r\n    \t            ex.printStackTrace();\r\n    \t        }\r\n    \t        return rs;\r\n    \t    }\r\n    \r\n    \t    //Creating universal method to query for inserting or updating information in mysql database\r\n    \t    public static int insertUpdateFromSqlQuery(String SqlQueryString) {\r\n    \t        int i = 2;\r\n    \t        try {\r\n    \t            //Checking whether the connection is null or null\r\n    \t            if (connection == null) {\r\n    \t                getConnection();\r\n    \t            }\r\n    \t            //Querying the query\r\n    \t            i = connection.createStatement().executeUpdate(SqlQueryString);\r\n    \r\n    \t        } catch (Exception ex) {\r\n    \t            ex.printStackTrace();\r\n    \t        }\r\n    \t        return i;\r\n    \t    }\r\n    \t}\r\n    \r\n    }\r\n\r\n}\r\n```\r\n\r\n\r\n**this code for jsp**\r\n```\r\n&lt;%\r\n    ResultSet resultOrders=DatabaseConnection.getResultFromSqlQuery(&quot;select * from tblorders where order_status=&#39;Pending&#39;&quot;);\r\n   while (resultOrders.next()) {\r\n         \r\n%&gt;\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/GJbtg.png","title":"variable cannot resolved type","body":"<p>I'm creating dynamic web project  that I am working on /servlet app .keep getting this error .  I've tried many methods.Still, the error persists. What is strange is if I start typing the package name eclipse actually auto-completes the class for me! how to resolve this issue...I'm getting error at &quot;database&quot; keyword in jsp code. it keep showing error: &quot;DatabaseConnection cannot resolved.&quot;</p>\n<p>[the red under line is the key word where I get error][1]</p>\n<p>this is code of database</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.connection;\n\nimport java.sql.Connection;\nimport java.sql.DriverManager;\nimport java.sql.ResultSet;\nimport java.sql.SQLException;\n\npublic class DatabaseConnection {\n\n            //Creating Connection\n            public static Connection connection;\n    \n            //Creating universal method to open connect will mysql database\n            public static Connection getConnection() {\n                try {\n                    //Registering with mysql Driver\n                    Class.forName(&quot;com.mysql.jdbc.Driver&quot;);\n                    connection = DriverManager.getConnection(&quot;jdbc:mysql://localhost:3308/shoppingsystem&quot;, &quot;root&quot;, &quot;Narend-10&quot;);\n                } catch (Exception e) {\n                    e.printStackTrace();\n                }\n                return (connection);\n            }\n    \n            //Creating universal method to close connect will mysql database\n            public static void CloseConnection() {\n                if (connection != null) {\n                    try {\n                        connection.close();\n                        connection = null;\n                    } catch (SQLException ex) {\n                        ex.printStackTrace();\n                    }\n                }\n            }\n    \n            //Creating universal method to query for retriving information\n            public static ResultSet getResultFromSqlQuery(String SqlQueryString) {\n                //Creating Resultset object\n                ResultSet rs = null;\n                try {\n                    //Checking whether the connection is null or null\n                    if (connection == null) {\n                        getConnection();\n                    }\n                    //Querying the query\n                    rs = connection.createStatement().executeQuery(SqlQueryString);\n                } catch (Exception ex) {\n                    ex.printStackTrace();\n                }\n                return rs;\n            }\n    \n            //Creating universal method to query for inserting or updating information in mysql database\n            public static int insertUpdateFromSqlQuery(String SqlQueryString) {\n                int i = 2;\n                try {\n                    //Checking whether the connection is null or null\n                    if (connection == null) {\n                        getConnection();\n                    }\n                    //Querying the query\n                    i = connection.createStatement().executeUpdate(SqlQueryString);\n    \n                } catch (Exception ex) {\n                    ex.printStackTrace();\n                }\n                return i;\n            }\n        }\n    \n    }\n\n}\n</code></pre>\n<p><strong>this code for jsp</strong></p>\n<pre><code>&lt;%\n    ResultSet resultOrders=DatabaseConnection.getResultFromSqlQuery(&quot;select * from tblorders where order_status='Pending'&quot;);\n   while (resultOrders.next()) {\n         \n%&gt;\n\n\n  [1]: https://i.stack.imgur.com/GJbtg.png\n</code></pre>\n"},{"tags":["java","eclipse","swing"],"comments":[{"owner":{"account_id":26544647,"reputation":5,"user_id":20174888,"display_name":"Eagle32349"},"score":0,"creation_date":1679168735,"post_id":75778193,"comment_id":133674613,"body_markdown":"it&#39;s possible I guess","body":"it&#39;s possible I guess"},{"owner":{"account_id":26544647,"reputation":5,"user_id":20174888,"display_name":"Eagle32349"},"score":0,"creation_date":1679214435,"post_id":75778193,"comment_id":133678468,"body_markdown":"But still what am I supposed to do here?","body":"But still what am I supposed to do here?"},{"owner":{"account_id":26544647,"reputation":5,"user_id":20174888,"display_name":"Eagle32349"},"score":0,"creation_date":1679223983,"post_id":75778193,"comment_id":133679597,"body_markdown":"ok fixed the tag. Also by class i mean this &#39;Class class = new Class()&#39; &lt;--","body":"ok fixed the tag. Also by class i mean this &#39;Class class = new Class()&#39; &lt;--"},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":1,"creation_date":1679224935,"post_id":75778193,"comment_id":133679730,"body_markdown":"`Class class = new Class();` does not work in Java since `class` is a keyword and cannot be used as variable name. `java.lang.Class` has only a private constructor, so `new Class()` does not work either. `Object object = new Object();` would work, but does nothing.","body":"<code>Class class = new Class();</code> does not work in Java since <code>class</code> is a keyword and cannot be used as variable name. <code>java.lang.Class</code> has only a private constructor, so <code>new Class()</code> does not work either. <code>Object object = new Object();</code> would work, but does nothing."},{"owner":{"account_id":26544647,"reputation":5,"user_id":20174888,"display_name":"Eagle32349"},"score":0,"creation_date":1679224991,"post_id":75778193,"comment_id":133679742,"body_markdown":"the &#39;Class&#39; and &#39;class&#39; are placeholders and are example words. I know that Class is a keyword. So now I changed it to myClass and myclass.","body":"the &#39;Class&#39; and &#39;class&#39; are placeholders and are example words. I know that Class is a keyword. So now I changed it to myClass and myclass."},{"owner":{"account_id":3159259,"reputation":109666,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1679226910,"post_id":75778193,"comment_id":133679984,"body_markdown":"So are you saying that you want the action to create a different class for each button?","body":"So are you saying that you want the action to create a different class for each button?"},{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":2,"creation_date":1679229034,"post_id":75778193,"comment_id":133680230,"body_markdown":"The `setBounds` indicates that you&#39;re using a `null` layout, which will lead you to nothing but more trouble in the future.  Oracle has a helpful tutorial, [Creating a GUI With Swing](https://docs.oracle.com/javase/tutorial/uiswing/index.html).  Skip the Learning Swing with the NetBeans IDE section.  Pay particular attention to the [Laying Out Components Within a Container](https://docs.oracle.com/javase/tutorial/uiswing/layout/index.html) section.","body":"The <code>setBounds</code> indicates that you&#39;re using a <code>null</code> layout, which will lead you to nothing but more trouble in the future.  Oracle has a helpful tutorial, <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/index.html\" rel=\"nofollow noreferrer\">Creating a GUI With Swing</a>.  Skip the Learning Swing with the NetBeans IDE section.  Pay particular attention to the <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/index.html\" rel=\"nofollow noreferrer\">Laying Out Components Within a Container</a> section."},{"owner":{"account_id":26544647,"reputation":5,"user_id":20174888,"display_name":"Eagle32349"},"score":0,"creation_date":1679229069,"post_id":75778193,"comment_id":133680236,"body_markdown":"Yes I want to use the parameters as everything needed for the button (since the only difference is creating an instance of the specific class and a method from that class) and because I&#39;ve designed it in way to only instantiate and show the frame (in the class constructor) only when the button is pressed","body":"Yes I want to use the parameters as everything needed for the button (since the only difference is creating an instance of the specific class and a method from that class) and because I&#39;ve designed it in way to only instantiate and show the frame (in the class constructor) only when the button is pressed"},{"owner":{"account_id":26544647,"reputation":5,"user_id":20174888,"display_name":"Eagle32349"},"score":0,"creation_date":1679229676,"post_id":75778193,"comment_id":133680300,"body_markdown":"soo can anyone help with a potential answer","body":"soo can anyone help with a potential answer"},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1679232972,"post_id":75778193,"comment_id":133680694,"body_markdown":"_can anyone help with a potential answer_ most probably not before you describe your _real_ problem (instead of the problems you have with an assumed solution :).","body":"<i>can anyone help with a potential answer</i> most probably not before you describe your <i>real</i> problem (instead of the problems you have with an assumed solution :)."}],"answers":[{"tags":[],"owner":{"account_id":3159259,"reputation":109666,"user_id":2670892,"display_name":"greg-449"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1679238267,"creation_date":1679238267,"answer_id":75782906,"question_id":75778193,"body_markdown":"One way to do this would be to pass the action as a `Runnable` to the method, something like:\r\n```\r\npublic JButton makeButton(JFrame frame, String text, Runnable runnable) {\r\n\r\n    JButton button = new JButton();\r\n    button.setText(text);\r\n\r\n    frame.add(button);\r\n\r\n    button.addActionListener(event -&gt; {\r\n      frame.setVisible(false);\r\n\r\n      runnable.run();\r\n    });\r\n\r\n    return button;\r\n}\r\n```\r\nWhich you would use like this:\r\n```\r\nJButton button1 = makeButton(frame, &quot;button 1&quot;, () -&gt; {\r\n    // TODO action for button 1\r\n });\r\n\r\nJButton button2 = makeButton(frame, &quot;button 2&quot;, () -&gt; {\r\n   // TODO action for button 2\r\n});\r\n\r\n```","title":"How to dynamically change a variable name or variable type on Eclipse?","body":"<p>One way to do this would be to pass the action as a <code>Runnable</code> to the method, something like:</p>\n<pre><code>public JButton makeButton(JFrame frame, String text, Runnable runnable) {\n\n    JButton button = new JButton();\n    button.setText(text);\n\n    frame.add(button);\n\n    button.addActionListener(event -&gt; {\n      frame.setVisible(false);\n\n      runnable.run();\n    });\n\n    return button;\n}\n</code></pre>\n<p>Which you would use like this:</p>\n<pre><code>JButton button1 = makeButton(frame, &quot;button 1&quot;, () -&gt; {\n    // TODO action for button 1\n });\n\nJButton button2 = makeButton(frame, &quot;button 2&quot;, () -&gt; {\n   // TODO action for button 2\n});\n\n</code></pre>\n"}],"owner":{"account_id":26544647,"reputation":5,"user_id":20174888,"display_name":"Eagle32349"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":75782906,"answer_count":1,"score":-1,"last_activity_date":1679238267,"creation_date":1679167836,"question_id":75778193,"body_markdown":"I can&#39;t use eval() and window[], because they don&#39;t work for me for some reason.\r\n\r\nHere I&#39;m trying to make a method to make the creation of a new JButton to be easier and more space efficient since I will be making a LOT of the same buttons but with a slight difference. I just don&#39;t know how to change the Class (type) and class (variable name).\r\n\r\n\r\n```\r\npublic void makeButton(JButton specificButton, JFrame frame, String text, int[] border) {\r\n\t\tspecificButton = new JButton();\r\n\t\tspecificButton.setText(text);\r\n\t\tframe.add(specificButton);\r\n\t\tspecificButton.setBounds(border[0], border[1], border[2], border[3]);\r\n\t\t\r\n\t\t\r\n\t\tspecificButton.addActionListener(new ActionListener() {\r\n\t\t\t@Override\r\n\t\t\tpublic void actionPerformed(ActionEvent e) {\r\n\t\t\t\tframe.setVisible(false);\r\n\t\t\t\tmyClass myclass = new myClass();// Example\r\n\t\t\t\tmyclass...\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n```\r\n\r\n\r\n\r\nI found no other potential option.","title":"How to dynamically change a variable name or variable type on Eclipse?","body":"<p>I can't use eval() and window[], because they don't work for me for some reason.</p>\n<p>Here I'm trying to make a method to make the creation of a new JButton to be easier and more space efficient since I will be making a LOT of the same buttons but with a slight difference. I just don't know how to change the Class (type) and class (variable name).</p>\n<pre><code>public void makeButton(JButton specificButton, JFrame frame, String text, int[] border) {\n        specificButton = new JButton();\n        specificButton.setText(text);\n        frame.add(specificButton);\n        specificButton.setBounds(border[0], border[1], border[2], border[3]);\n        \n        \n        specificButton.addActionListener(new ActionListener() {\n            @Override\n            public void actionPerformed(ActionEvent e) {\n                frame.setVisible(false);\n                myClass myclass = new myClass();// Example\n                myclass...\n            }\n        });\n    }\n</code></pre>\n<p>I found no other potential option.</p>\n"},{"tags":["java","mule","anypoint-studio","mule4"],"answers":[{"tags":[],"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679238102,"creation_date":1649354233,"answer_id":71786893,"question_id":71786660,"body_markdown":"You seem to be using an incompatible Java version to start Mule. \r\n\r\nIf you are using Mule standalone, either use a compatible Java version and set it first in the operating system PATH environment variable, or alternatively configure the full path of the [Java executable in the configuration file wrapper.conf][1] (example: `wrapper.java.command=&lt;Java Home&gt;/bin/java`).\r\n\r\nNote that [compatible Java versions for Mule 4.3/4.4][2] are JDK 8 or JDK 11 only. Any other Java/OpenJDK versions are not supported.\r\n\r\nIf you are using Anypoint Studio [select a supported version for your Mule projects][3].\r\n\r\n\r\n  [1]: https://help.mulesoft.com/s/article/How-to-change-java-version-for-mule-runtime\r\n  [2]: https://docs.mulesoft.com/mule-runtime/4.4/hardware-and-software-requirements#required-software\r\n  [3]: https://docs.mulesoft.com/studio/7.14/change-jdk-config-in-projects","title":"Getting error &quot;Unsupported class file major version 61&quot; trying to start Mule 4.4 in Windows","body":"<p>You seem to be using an incompatible Java version to start Mule.</p>\n<p>If you are using Mule standalone, either use a compatible Java version and set it first in the operating system PATH environment variable, or alternatively configure the full path of the <a href=\"https://help.mulesoft.com/s/article/How-to-change-java-version-for-mule-runtime\" rel=\"nofollow noreferrer\">Java executable in the configuration file wrapper.conf</a> (example: <code>wrapper.java.command=&lt;Java Home&gt;/bin/java</code>).</p>\n<p>Note that <a href=\"https://docs.mulesoft.com/mule-runtime/4.4/hardware-and-software-requirements#required-software\" rel=\"nofollow noreferrer\">compatible Java versions for Mule 4.3/4.4</a> are JDK 8 or JDK 11 only. Any other Java/OpenJDK versions are not supported.</p>\n<p>If you are using Anypoint Studio <a href=\"https://docs.mulesoft.com/studio/7.14/change-jdk-config-in-projects\" rel=\"nofollow noreferrer\">select a supported version for your Mule projects</a>.</p>\n"},{"tags":[],"owner":{"account_id":6392687,"reputation":466,"user_id":4958233,"display_name":"kus"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1649355468,"creation_date":1649355468,"answer_id":71787120,"question_id":71786660,"body_markdown":"Class file Major version - 61 , that means your system have JDK 17 ( latest Java version).\r\n\r\n 1. Kindly install JDK 11 to be compatible with Mule\r\n\r\n 2. Update the JAVA_HOME windows environment variable\r\n\r\n 3. Update the PATH windows environment variable.\r\n\r\nRun mule.bat","title":"Getting error &quot;Unsupported class file major version 61&quot; trying to start Mule 4.4 in Windows","body":"<p>Class file Major version - 61 , that means your system have JDK 17 ( latest Java version).</p>\n<ol>\n<li><p>Kindly install JDK 11 to be compatible with Mule</p>\n</li>\n<li><p>Update the JAVA_HOME windows environment variable</p>\n</li>\n<li><p>Update the PATH windows environment variable.</p>\n</li>\n</ol>\n<p>Run mule.bat</p>\n"},{"tags":[],"owner":{"account_id":1668855,"reputation":14404,"user_id":2700303,"accept_rate":63,"display_name":"MiguelSlv"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672928712,"creation_date":1672928712,"answer_id":75019923,"question_id":71786660,"body_markdown":"Removing the the other java installations from `c:\\program files\\java` (for windows), solved for me.\r\n\r\nI didn&#39;t have any environment variables pointing to any specific java installation what makes it odd how `AnyPoint studio` was using those installations.\r\n&#160;\r\n\r\nI&#39;m running on a windows 11 workstation.\r\n\r\nNote: some posts advise to change mule runtime version to 4.2.x, but that will break some functionalities, like database connector. In my case the mule services become very unstable when some features like that were added to the project.\r\n","title":"Getting error &quot;Unsupported class file major version 61&quot; trying to start Mule 4.4 in Windows","body":"<p>Removing the the other java installations from <code>c:\\program files\\java</code> (for windows), solved for me.</p>\n<p>I didn't have any environment variables pointing to any specific java installation what makes it odd how <code>AnyPoint studio</code> was using those installations.\n </p>\n<p>I'm running on a windows 11 workstation.</p>\n<p>Note: some posts advise to change mule runtime version to 4.2.x, but that will break some functionalities, like database connector. In my case the mule services become very unstable when some features like that were added to the project.</p>\n"},{"tags":[],"owner":{"account_id":14365136,"reputation":890,"user_id":10376405,"display_name":"Paul"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673964553,"creation_date":1673964553,"answer_id":75147695,"question_id":71786660,"body_markdown":"As a developer in need of several Java jdk&#39;s (or at least the latest LTS), I need a different approach. Firstly, you need to know that **Anystudio only works with jdk8 (pre-installed), or jdk11 (configurable)**. You can forget about the rest. Secondly, being a derivative from Eclipse, your **JAVA_HOME needs to point towards the correct jdk** or you&#39;ll get the afformentioned error where the 61 means the user had jdk17 configured.\r\n\r\nSTEPS TO CONFIGURE JDK 11 (for Anypoint v7.14.0)\r\n------------------------------------------------\r\n\r\n- right click on your project \r\n- go to &quot;Run As&quot; and select &quot;Mule Application (configure). A new window opens.\r\n- In that window you&#39;ll see multiple tabs. Select &quot;JRE&quot;\r\n- Choose &quot;Alternate JRE&quot; and click on the &quot;Installed JRE&#39;s&quot; button. A new window opens\r\n- In that window you&#39;ll see an &quot;Add...&quot; button. Select &quot;Standard VM&quot;, click &quot;Next &gt;&quot;\r\n- Choose your jdk directory. Click &quot;Finish&quot; and select your jdk from the dropdown.\r\n\r\n*Alternatively:* \r\n\r\n- locate your AnypointStudio.ini file and configure your -vm option described [here][1], or in code: \r\n```\r\n-vm\r\nC:\\Program Files\\Java\\jdk-11.0.4\\bin\\javaw.exe\r\n```\r\nThere are a few alternatives when configuring the Anystudio.ini file, so if the  change above doesn&#39;t work, search the Mule forums for the latest info on *Configure studio to use your own jdk*.\r\n- Go to your configuration and choose &quot;Execution environment&quot; instead of Alternate JRE. Though make sure that it points to CDC-1.0/Foundation-1.0 (your_jdk_version)\r\n\r\n-----------\r\nThis should work when your JAVA_HOME points to the correct jdk. If, like me, you need to switch to other versions, it can be bothersome to constantly change it manually. For this, I created .bat-files which I execute before starting up Anystudio. Make sure that your computer&#39;s path references JAVA_HOME instead of a hardcoded path. Otherwise the steps below won&#39;t be enough.\r\n\r\nCREATING .BAT-FILES TO PROGRAMMATICLY CHANGE YOUR JAVA_HOME (for Windows 11)\r\n------------------------------------------------------------------------\r\n\r\n- Open notepad\r\n- type the following, keeping in mind to change the jdk to your personal path/version: \r\n```\r\nsetx /M JAVA_HOME &quot;C:\\Program Files\\Java\\jdk-11.0.4&quot;\r\n```\r\n- Save file with your_file_name.bat as &quot;All files&quot;\r\n- Create a shortcut from your bat-file\r\n- Right-mouse click on the shortcut and go to &quot;Properties&quot;. A new window opens\r\n- In the window that opened, go to &quot;Advanced&quot;\r\n- Select &quot;Run as administrator&quot;, click &quot;Ok&quot;, click &quot;Apply&quot;\r\n\r\n\r\nKeep in mind, you&#39;ll need 2 of those .bat-files. One for downgrading your JAVA_HOME (execute before opening Anystudio) and one for restoring it (execute it after you&#39;re done working in Anystudio). Both system settings and commandlines don&#39;t show a changed JAVA_HOME path directly. close/reopen them to see that the changes have been applied.\r\n\r\n\r\n  [1]: https://docs.mulesoft.com/studio/7.11/change-jdk-for-studio-wx","title":"Getting error &quot;Unsupported class file major version 61&quot; trying to start Mule 4.4 in Windows","body":"<p>As a developer in need of several Java jdk's (or at least the latest LTS), I need a different approach. Firstly, you need to know that <strong>Anystudio only works with jdk8 (pre-installed), or jdk11 (configurable)</strong>. You can forget about the rest. Secondly, being a derivative from Eclipse, your <strong>JAVA_HOME needs to point towards the correct jdk</strong> or you'll get the afformentioned error where the 61 means the user had jdk17 configured.</p>\n<h2>STEPS TO CONFIGURE JDK 11 (for Anypoint v7.14.0)</h2>\n<ul>\n<li>right click on your project</li>\n<li>go to &quot;Run As&quot; and select &quot;Mule Application (configure). A new window opens.</li>\n<li>In that window you'll see multiple tabs. Select &quot;JRE&quot;</li>\n<li>Choose &quot;Alternate JRE&quot; and click on the &quot;Installed JRE's&quot; button. A new window opens</li>\n<li>In that window you'll see an &quot;Add...&quot; button. Select &quot;Standard VM&quot;, click &quot;Next &gt;&quot;</li>\n<li>Choose your jdk directory. Click &quot;Finish&quot; and select your jdk from the dropdown.</li>\n</ul>\n<p><em>Alternatively:</em></p>\n<ul>\n<li>locate your AnypointStudio.ini file and configure your -vm option described <a href=\"https://docs.mulesoft.com/studio/7.11/change-jdk-for-studio-wx\" rel=\"nofollow noreferrer\">here</a>, or in code:</li>\n</ul>\n<pre><code>-vm\nC:\\Program Files\\Java\\jdk-11.0.4\\bin\\javaw.exe\n</code></pre>\n<p>There are a few alternatives when configuring the Anystudio.ini file, so if the  change above doesn't work, search the Mule forums for the latest info on <em>Configure studio to use your own jdk</em>.</p>\n<ul>\n<li>Go to your configuration and choose &quot;Execution environment&quot; instead of Alternate JRE. Though make sure that it points to CDC-1.0/Foundation-1.0 (your_jdk_version)</li>\n</ul>\n<hr />\n<p>This should work when your JAVA_HOME points to the correct jdk. If, like me, you need to switch to other versions, it can be bothersome to constantly change it manually. For this, I created .bat-files which I execute before starting up Anystudio. Make sure that your computer's path references JAVA_HOME instead of a hardcoded path. Otherwise the steps below won't be enough.</p>\n<h2>CREATING .BAT-FILES TO PROGRAMMATICLY CHANGE YOUR JAVA_HOME (for Windows 11)</h2>\n<ul>\n<li>Open notepad</li>\n<li>type the following, keeping in mind to change the jdk to your personal path/version:</li>\n</ul>\n<pre><code>setx /M JAVA_HOME &quot;C:\\Program Files\\Java\\jdk-11.0.4&quot;\n</code></pre>\n<ul>\n<li>Save file with your_file_name.bat as &quot;All files&quot;</li>\n<li>Create a shortcut from your bat-file</li>\n<li>Right-mouse click on the shortcut and go to &quot;Properties&quot;. A new window opens</li>\n<li>In the window that opened, go to &quot;Advanced&quot;</li>\n<li>Select &quot;Run as administrator&quot;, click &quot;Ok&quot;, click &quot;Apply&quot;</li>\n</ul>\n<p>Keep in mind, you'll need 2 of those .bat-files. One for downgrading your JAVA_HOME (execute before opening Anystudio) and one for restoring it (execute it after you're done working in Anystudio). Both system settings and commandlines don't show a changed JAVA_HOME path directly. close/reopen them to see that the changes have been applied.</p>\n"}],"owner":{"account_id":24863742,"reputation":43,"user_id":18739132,"display_name":"Niharika Tangella"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3710,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":4,"score":3,"last_activity_date":1679238124,"creation_date":1649353066,"question_id":71786660,"body_markdown":"When double-clicking on mule.bat I get the following error message.\r\n\r\nError message:\r\n```\r\nCaught: BUG! exception in phase &#39;semantic analysis&#39; in source unit &#39;C:\\NihaMule\\mule-ee-distribution-standalone-4.4.0\\mule-enterprise-standalone-4.4.0\\bin\\additional.groovy&#39; Unsupported class file major version 61\r\n```","title":"Getting error &quot;Unsupported class file major version 61&quot; trying to start Mule 4.4 in Windows","body":"<p>When double-clicking on mule.bat I get the following error message.</p>\n<p>Error message:</p>\n<pre><code>Caught: BUG! exception in phase 'semantic analysis' in source unit 'C:\\NihaMule\\mule-ee-distribution-standalone-4.4.0\\mule-enterprise-standalone-4.4.0\\bin\\additional.groovy' Unsupported class file major version 61\n</code></pre>\n"},{"tags":["java","itext","itext7"],"answers":[{"tags":[],"owner":{"account_id":1477633,"reputation":2421,"user_id":1387666,"display_name":"johnwhitington"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676334259,"creation_date":1676334259,"answer_id":75442405,"question_id":75440930,"body_markdown":"My guess is iText 2 didn&#39;t even know it might be a problem.\r\n\r\nIf iText can&#39;t deduplicate destination names, the procedure is roughly:\r\n\r\nFollow /Catalog -&gt; /Names -&gt; /Dests in each document to find the destination name tree.\r\n\r\nDeduplicate the names, by adding suffixes. Remember that a name with a suffix added might be equal to an existing name in the same or another document. Be careful!\r\n\r\nNow you can rewrite the destination name trees. Since you have only used suffixes, you can do this in place - the lexicographic ordering of the names is unaltered so the search tree structure is not broken.\r\n\r\nNow, rewrite destination links in each PDF for the new names. For example any dictionary entry with key /Dest, or any /D in a /GoTo action.\r\n\r\nNow, after all this preprocessing, the files will merge without name clashes.\r\n\r\n(I know all this because I&#39;ve just implemented it for my own PDF software. It&#39;s slightly hairy stuff, but not intractable.)\r\n\r\nIf you like, I can provide a devel version of `cpdf` with this functionality, if you would like to test it.","title":"itext2 to itext7: Merging PDF files","body":"<p>My guess is iText 2 didn't even know it might be a problem.</p>\n<p>If iText can't deduplicate destination names, the procedure is roughly:</p>\n<p>Follow /Catalog -&gt; /Names -&gt; /Dests in each document to find the destination name tree.</p>\n<p>Deduplicate the names, by adding suffixes. Remember that a name with a suffix added might be equal to an existing name in the same or another document. Be careful!</p>\n<p>Now you can rewrite the destination name trees. Since you have only used suffixes, you can do this in place - the lexicographic ordering of the names is unaltered so the search tree structure is not broken.</p>\n<p>Now, rewrite destination links in each PDF for the new names. For example any dictionary entry with key /Dest, or any /D in a /GoTo action.</p>\n<p>Now, after all this preprocessing, the files will merge without name clashes.</p>\n<p>(I know all this because I've just implemented it for my own PDF software. It's slightly hairy stuff, but not intractable.)</p>\n<p>If you like, I can provide a devel version of <code>cpdf</code> with this functionality, if you would like to test it.</p>\n"},{"tags":[],"owner":{"account_id":1533469,"reputation":488,"user_id":1430078,"display_name":"Qwertz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677145111,"creation_date":1677100521,"answer_id":75538233,"question_id":75440930,"body_markdown":"Following up on the reply from @johnwhitington I got the following procedure to work.\r\n\r\nAs John suggests, start by renaming the destinations in the name tree:\r\n\r\n\r\n    Map&lt;String, PdfString&gt; renameDestinations(PdfDocument pdf,\r\n                                                      String suffix) {\r\n    \r\n        Map&lt;String, PdfString&gt; renamed = new HashMap&lt;&gt;();\r\n    \r\n        PdfNameTree nameTree = pdf.getCatalog().getNameTree(PdfName.Dests);\r\n        Map&lt;String, PdfObject&gt; names = nameTree.getNames();\r\n    \r\n        Set&lt;String&gt; ks = new HashSet&lt;String&gt; (names.keySet());\r\n        for (String key : ks) {\r\n            String oldName = key;\r\n            PdfString newName = new PdfString(oldName + suffix);\r\n            PdfObject value = names.get(key);\r\n            names.remove(key);\r\n            names.put(newName.toUnicodeString(), value);\r\n            renamed.put(oldName, newName);\r\n        }\r\n    \r\n        nameTree.setModified();\r\n    \r\n        return renamed;\r\n    }\r\n\r\n\r\n\r\n\r\nThen change the destinations in the outlines to the new destinations:\r\n\r\n\r\n\r\n\r\n    void renameOutlines(PdfOutline pdo, Map&lt;String, PdfString&gt; old2new) {\r\n    \r\n        for (PdfOutline child : pdo.getAllChildren()) {\r\n            renameOutlines(child, old2new);\r\n        }\r\n    \r\n        PdfDestination dest = pdo.getDestination();\r\n    \r\n        if (!((dest instanceof PdfNamedDestination)\r\n             || (dest instanceof PdfStringDestination))) {\r\n            return;\r\n        }\r\n    \r\n        String oldDest = &quot;&quot;;\r\n        if (pdo.getDestination().getPdfObject().isString()) {\r\n    \r\n            oldDest = ((PdfString) pdo.getDestination()\r\n                                      .getPdfObject()).toUnicodeString();\r\n    \r\n        } else if (pdo.getDestination().getPdfObject().isName()) {\r\n    \r\n            oldDest = ((PdfName) pdo.getDestination()\r\n                                    .getPdfObject()).getValue();\r\n        }\r\n    \r\n        if (oldDest != null &amp;&amp; old2new.containsKey(oldDest)) {\r\n            pdo.addDestination(new PdfStringDestination(\r\n                                                old2new.get(oldDest)));\r\n        }\r\n    \r\n    }\r\n\r\nFinally, change the links on each page to use the new destinations:\r\n\r\n\r\n\r\n    void renameLinks(PdfDocument pdf, Map&lt;String, PdfString&gt; renamed) {\r\n    \r\n        int numPages = pdf.getNumberOfPages();\r\n        for (int p = 1; p &lt;= numPages; p++) {\r\n    \r\n            List&lt;PdfAnnotation&gt; annots = pdf.getPage(p).getAnnotations();\r\n    \r\n            for (PdfAnnotation annot : annots) {\r\n    \r\n                    PdfObject dest = annot.getPdfObject().get(PdfName.Dest);\r\n    \r\n                    if (dest != null &amp;&amp; dest.isName()) {\r\n                        String oldString = ((PdfName) dest).getValue();\r\n                        if (renamed.containsKey(oldString)) {  \r\n                            annot.getPdfObject().put(PdfName.Dest, \r\n                                       renamed.get(oldString));\r\n                        }\r\n                    }\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n\r\nThe suffix of course should be unique to each file being merged.\r\n\r\n\r\n\r\n","title":"itext2 to itext7: Merging PDF files","body":"<p>Following up on the reply from @johnwhitington I got the following procedure to work.</p>\n<p>As John suggests, start by renaming the destinations in the name tree:</p>\n<pre><code>Map&lt;String, PdfString&gt; renameDestinations(PdfDocument pdf,\n                                                  String suffix) {\n\n    Map&lt;String, PdfString&gt; renamed = new HashMap&lt;&gt;();\n\n    PdfNameTree nameTree = pdf.getCatalog().getNameTree(PdfName.Dests);\n    Map&lt;String, PdfObject&gt; names = nameTree.getNames();\n\n    Set&lt;String&gt; ks = new HashSet&lt;String&gt; (names.keySet());\n    for (String key : ks) {\n        String oldName = key;\n        PdfString newName = new PdfString(oldName + suffix);\n        PdfObject value = names.get(key);\n        names.remove(key);\n        names.put(newName.toUnicodeString(), value);\n        renamed.put(oldName, newName);\n    }\n\n    nameTree.setModified();\n\n    return renamed;\n}\n</code></pre>\n<p>Then change the destinations in the outlines to the new destinations:</p>\n<pre><code>void renameOutlines(PdfOutline pdo, Map&lt;String, PdfString&gt; old2new) {\n\n    for (PdfOutline child : pdo.getAllChildren()) {\n        renameOutlines(child, old2new);\n    }\n\n    PdfDestination dest = pdo.getDestination();\n\n    if (!((dest instanceof PdfNamedDestination)\n         || (dest instanceof PdfStringDestination))) {\n        return;\n    }\n\n    String oldDest = &quot;&quot;;\n    if (pdo.getDestination().getPdfObject().isString()) {\n\n        oldDest = ((PdfString) pdo.getDestination()\n                                  .getPdfObject()).toUnicodeString();\n\n    } else if (pdo.getDestination().getPdfObject().isName()) {\n\n        oldDest = ((PdfName) pdo.getDestination()\n                                .getPdfObject()).getValue();\n    }\n\n    if (oldDest != null &amp;&amp; old2new.containsKey(oldDest)) {\n        pdo.addDestination(new PdfStringDestination(\n                                            old2new.get(oldDest)));\n    }\n\n}\n</code></pre>\n<p>Finally, change the links on each page to use the new destinations:</p>\n<pre><code>void renameLinks(PdfDocument pdf, Map&lt;String, PdfString&gt; renamed) {\n\n    int numPages = pdf.getNumberOfPages();\n    for (int p = 1; p &lt;= numPages; p++) {\n\n        List&lt;PdfAnnotation&gt; annots = pdf.getPage(p).getAnnotations();\n\n        for (PdfAnnotation annot : annots) {\n\n                PdfObject dest = annot.getPdfObject().get(PdfName.Dest);\n\n                if (dest != null &amp;&amp; dest.isName()) {\n                    String oldString = ((PdfName) dest).getValue();\n                    if (renamed.containsKey(oldString)) {  \n                        annot.getPdfObject().put(PdfName.Dest, \n                                   renamed.get(oldString));\n                    }\n                }\n        }\n    }\n}\n</code></pre>\n<p>The suffix of course should be unique to each file being merged.</p>\n"}],"owner":{"account_id":1533469,"reputation":488,"user_id":1430078,"display_name":"Qwertz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":173,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1679238035,"creation_date":1676320657,"question_id":75440930,"body_markdown":"Years ago, I wrote a small app in `itext2` to gather reports on a weekly basis and concatenate them into one PDF. The app used  `com.lowagie.text.pdf.PdfCopy` to copy and merge the PDFs. And it worked fine. Performed exactly as expected.\r\n\r\nA few weeks ago I looked into migrating the application to `itex7`. To that end, I used the `copyPagesTo` method of `com.itextpdf.kernel.pdf.PdfDocument`. When run on the same file set, this produces warnings like:\r\n\r\n    WARN PdfNameTree - Name &quot;section.1&quot; already exists in the name tree; old value will be replaced by the new one.\r\n\r\nWhen I click on the link to &quot;section.1&quot; in the first document of the merged PDF, I am taken to &quot;section.1&quot; of the last document. Not what I expected and not what happens when using the `itext2` app. In the PDF&#39;s produced by `itext2`, if I click on the link to &quot;section.1&quot; of the first document in the combined PDF, I am taken to section 1 of the first document.\r\n\r\nThere is a hint in Javadocs for `copyPagesTo` saying\r\n\r\n&gt; If outlines destination names are the same in different documents, all\r\n&gt; such outlines will lead to a single location in the resultant\r\n&gt; document. In this case iText will log a warning. This can be avoided \r\n&gt; by renaming destinations names in the source document.\r\n\r\nThere is however, no explanation of how this should be done. I find it odd that this should be necessary in `itext7`, although it wasn&#39;t in `itext2`.\r\n\r\nIs there a simple way to get around his problem?\r\n\r\nI&#39;ve also tried the Sejda desktop app and it produces correct results, but I would prefer to automate the process through a batch script.\r\n","title":"itext2 to itext7: Merging PDF files","body":"<p>Years ago, I wrote a small app in <code>itext2</code> to gather reports on a weekly basis and concatenate them into one PDF. The app used  <code>com.lowagie.text.pdf.PdfCopy</code> to copy and merge the PDFs. And it worked fine. Performed exactly as expected.</p>\n<p>A few weeks ago I looked into migrating the application to <code>itex7</code>. To that end, I used the <code>copyPagesTo</code> method of <code>com.itextpdf.kernel.pdf.PdfDocument</code>. When run on the same file set, this produces warnings like:</p>\n<pre><code>WARN PdfNameTree - Name &quot;section.1&quot; already exists in the name tree; old value will be replaced by the new one.\n</code></pre>\n<p>When I click on the link to &quot;section.1&quot; in the first document of the merged PDF, I am taken to &quot;section.1&quot; of the last document. Not what I expected and not what happens when using the <code>itext2</code> app. In the PDF's produced by <code>itext2</code>, if I click on the link to &quot;section.1&quot; of the first document in the combined PDF, I am taken to section 1 of the first document.</p>\n<p>There is a hint in Javadocs for <code>copyPagesTo</code> saying</p>\n<blockquote>\n<p>If outlines destination names are the same in different documents, all\nsuch outlines will lead to a single location in the resultant\ndocument. In this case iText will log a warning. This can be avoided\nby renaming destinations names in the source document.</p>\n</blockquote>\n<p>There is however, no explanation of how this should be done. I find it odd that this should be necessary in <code>itext7</code>, although it wasn't in <code>itext2</code>.</p>\n<p>Is there a simple way to get around his problem?</p>\n<p>I've also tried the Sejda desktop app and it produces correct results, but I would prefer to automate the process through a batch script.</p>\n"},{"tags":["java","spring-webflux","project-reactor"],"answers":[{"tags":[],"owner":{"account_id":12455565,"reputation":5317,"user_id":9068895,"display_name":"Alex"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1656342854,"creation_date":1656342854,"answer_id":72774471,"question_id":72774283,"body_markdown":"You should avoid `block` while building reactive flows. `filter` could be used to apply synchronous logic. In case you need to apply asynchronous function that returns `Mono` - use `filterWhen`.\r\n\r\n```\r\nprotected Flux&lt;&gt; getFilteredResults(Flux&lt;&gt; resultsToFilter, boolean someBoolean) {\r\n    return resultsToFilter\r\n            .filterWhen(a -&gt;  makeServiceCall(a));\r\n\r\n}\r\n```","title":"Filtering Flux elements based on result of webservice call","body":"<p>You should avoid <code>block</code> while building reactive flows. <code>filter</code> could be used to apply synchronous logic. In case you need to apply asynchronous function that returns <code>Mono</code> - use <code>filterWhen</code>.</p>\n<pre><code>protected Flux&lt;&gt; getFilteredResults(Flux&lt;&gt; resultsToFilter, boolean someBoolean) {\n    return resultsToFilter\n            .filterWhen(a -&gt;  makeServiceCall(a));\n\n}\n</code></pre>\n"}],"owner":{"account_id":8888797,"reputation":91,"user_id":6636188,"display_name":"Ankit Ghildiyal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":386,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":72774471,"answer_count":1,"score":2,"last_activity_date":1679237982,"creation_date":1656342122,"question_id":72774283,"body_markdown":"In below code I am filtering elements ina flux based on some logic and then further filtering based on the result of webservice call. Now the webservice returns a Mono&lt;Boolean&gt; so I can use it in the filter method. calling block() doesn&#39;t work. Can someone how to go about this. Thanks in advance. The code is not fully compilable as I removed company specific code. \r\n\r\n    protected Flux&lt;&gt; getFilteredResults(Flux&lt;&gt; resultsToFilter, boolean someBoolean) {\r\n            return resultsToFilter.filter(cr -&gt; {\r\n                //Filtering logic\r\n            })\r\n                    .filter( a-&gt; {\r\n    \t\t\t\t\tMono&lt;Boolean&gt; serviceCallResult = makeServiceCall(a);\r\n    \t\t\t\t\treturn serviceCallResult.block(); //HOW TO DO THIS CORRECTLY\r\n    \t\t\t\t});\r\n    \r\n        }","title":"Filtering Flux elements based on result of webservice call","body":"<p>In below code I am filtering elements ina flux based on some logic and then further filtering based on the result of webservice call. Now the webservice returns a Mono so I can use it in the filter method. calling block() doesn't work. Can someone how to go about this. Thanks in advance. The code is not fully compilable as I removed company specific code.</p>\n<pre><code>protected Flux&lt;&gt; getFilteredResults(Flux&lt;&gt; resultsToFilter, boolean someBoolean) {\n        return resultsToFilter.filter(cr -&gt; {\n            //Filtering logic\n        })\n                .filter( a-&gt; {\n                    Mono&lt;Boolean&gt; serviceCallResult = makeServiceCall(a);\n                    return serviceCallResult.block(); //HOW TO DO THIS CORRECTLY\n                });\n\n    }\n</code></pre>\n"},{"tags":["java","java-8"],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1679237888,"creation_date":1679213326,"answer_id":75780759,"question_id":75780689,"body_markdown":"&gt; What would happen if `ForkJoinPool.commonPool` is full?\r\n\r\nThe work queues for a `ForkJoinPool` don&#39;t have any specific bounds, so it makes no sense to talk about a pool being &quot;full&quot;.\r\n\r\nAnd a `ForkJoinPool` doesn&#39;t have a &quot;capacity&quot; either.  It has a `parallelism` parameter that defaults to a value based on the JVM&#39;s number of cores, but that doesn&#39;t limit the number of tasks that can be submitted.\r\n\r\nIf there are more tasks to run than there are worker threads to run them, then new tasks will be placed in a queue.  The thread that submits the task is not &quot;blocked&quot; ... but the task itself will be delayed.  (Just like an `ExecutorService` with an unbounded work queue.) \r\n\r\nHowever, you can run into problems if your FJP tasks do blocking I/O or use unmanaged (by the pool) synchronization.  I have also heard of problems that can arise when an application ends up using more than one `ForkJoinPool`.  Look at this Q&amp;A and see if it applies to your problem:\r\n\r\n  - https://stackoverflow.com/questions/73474536 ","title":"What would happen if ForkJoinPool.commonPool is full?","body":"<blockquote>\n<p>What would happen if <code>ForkJoinPool.commonPool</code> is full?</p>\n</blockquote>\n<p>The work queues for a <code>ForkJoinPool</code> don't have any specific bounds, so it makes no sense to talk about a pool being &quot;full&quot;.</p>\n<p>And a <code>ForkJoinPool</code> doesn't have a &quot;capacity&quot; either.  It has a <code>parallelism</code> parameter that defaults to a value based on the JVM's number of cores, but that doesn't limit the number of tasks that can be submitted.</p>\n<p>If there are more tasks to run than there are worker threads to run them, then new tasks will be placed in a queue.  The thread that submits the task is not &quot;blocked&quot; ... but the task itself will be delayed.  (Just like an <code>ExecutorService</code> with an unbounded work queue.)</p>\n<p>However, you can run into problems if your FJP tasks do blocking I/O or use unmanaged (by the pool) synchronization.  I have also heard of problems that can arise when an application ends up using more than one <code>ForkJoinPool</code>.  Look at this Q&amp;A and see if it applies to your problem:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/73474536\">Java ForkJoinPool hangs in JDK17</a></li>\n</ul>\n"}],"owner":{"account_id":72536,"reputation":922,"user_id":209403,"accept_rate":23,"display_name":"Gao"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":346,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679237888,"creation_date":1679212203,"question_id":75780689,"body_markdown":"I&#39;m debugging a long request problem, which related to CompletableFuture.runAsync, which related to ForkJoinPool.commonPool.\r\nThe `commonPool`&#39;s capacity is very small (for one machine it is set to 4). I think ForkJoinPool.commonPool blocks new Runnable if it is full. Am I correct?","title":"What would happen if ForkJoinPool.commonPool is full?","body":"<p>I'm debugging a long request problem, which related to CompletableFuture.runAsync, which related to ForkJoinPool.commonPool.\nThe <code>commonPool</code>'s capacity is very small (for one machine it is set to 4). I think ForkJoinPool.commonPool blocks new Runnable if it is full. Am I correct?</p>\n"},{"tags":["java","html","cursor","custom-cursor"],"comments":[{"owner":{"account_id":54381,"reputation":14862,"user_id":162698,"accept_rate":100,"display_name":"Rob"},"score":0,"creation_date":1679262566,"post_id":75782151,"comment_id":133685450,"body_markdown":"You are required to post a [mcve] here, **within your question**, and [not a link](https://meta.stackoverflow.com/a/254430/162698) to any other site.","body":"You are required to post a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> here, <b>within your question</b>, and <a href=\"https://meta.stackoverflow.com/a/254430/162698\">not a link</a> to any other site."}],"answers":[{"tags":[],"owner":{"account_id":6412021,"reputation":1101,"user_id":4971476,"display_name":"Dave Ankin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679237652,"creation_date":1679237652,"answer_id":75782850,"question_id":75782151,"body_markdown":"replacing the top of the provided script with this\r\n\r\n    let canvasParent = document.querySelector(&#39;#home &gt; div.elementor-background-overlay&#39;);\r\n    let canvas1 = document.createElement(&#39;canvas&#39;);\r\n    canvasParent.append(canvas1)\r\n\r\n    canvas1.width = canvasParent.clientWidth\r\n    canvas1.height = canvasParent.clientHeight\r\n\r\n    const canvas = canvas1//document.getElementsByTagName(&#39;canvas&#39;)[0];\r\n\r\nseems to produce the needed result:\r\n\r\n[![screenshot showing output][1]][1]\r\n\r\n\r\nI did this by overriding some scripts in the Chrome Developer Tools console:\r\n\r\n[![enter image description here][2]][2]\r\n\r\nadding this in the index.html file:\r\n\r\n```html\r\n&lt;!doctype html&gt;\r\n&lt;html lang=&quot;en-US&quot;&gt;\r\n&lt;head&gt;\r\n\t&lt;meta charset=&quot;UTF-8&quot;&gt;\r\n\t&lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1&quot;&gt;\r\n\t&lt;link rel=&quot;profile&quot; href=&quot;https://gmpg.org/xfn/11&quot;&gt;\r\n\r\n\t&lt;title&gt;geldmetai.nl&lt;/title&gt;\r\n&lt;meta name=&#39;robots&#39; content=&#39;max-image-preview:large&#39; /&gt;\r\n\r\n\t&lt;!-- added these dependencies to the program --&gt;\r\n\t&lt;script src=&#39;https://geldmetai.nl/script.js&#39;&gt;&lt;/script&gt;\r\n\t&lt;script src=&#39;https://geldmetai.nl/dat.gui.min.js&#39;&gt;&lt;/script&gt;\r\n&lt;!-- ... ---&gt;\r\n```\r\n\r\n  [1]: https://i.stack.imgur.com/1HjDW.jpg\r\n  [2]: https://i.stack.imgur.com/okTNc.png\r\n\r\nI also removed all the sidebars and &quot;gui&quot; for controlling parameters to the WebGL routines. also since the script is at the top, you must wait for DOMContentLoaded event:\r\n\r\n```javascript\r\nwindow.addEventListener(&quot;DOMContentLoaded&quot;, () =&gt; {\r\n    // Simulation section\r\n\r\n    let canvasParent = document.querySelector(&#39;#home &gt; div.elementor-background-overlay&#39;);\r\n    let canvas1 = document.createElement(&#39;canvas&#39;);\r\n    canvasParent.append(canvas1)\r\n\r\n    canvas1.width = canvasParent.clientWidth\r\n    canvas1.height = canvasParent.clientHeight\r\n\r\n    const canvas = canvas1//document.getElementsByTagName(&#39;canvas&#39;)[0];\r\n    // ...\r\n```","title":"Assistance with adding custom cursor effect to website","body":"<p>replacing the top of the provided script with this</p>\n<pre><code>let canvasParent = document.querySelector('#home &gt; div.elementor-background-overlay');\nlet canvas1 = document.createElement('canvas');\ncanvasParent.append(canvas1)\n\ncanvas1.width = canvasParent.clientWidth\ncanvas1.height = canvasParent.clientHeight\n\nconst canvas = canvas1//document.getElementsByTagName('canvas')[0];\n</code></pre>\n<p>seems to produce the needed result:</p>\n<p><a href=\"https://i.stack.imgur.com/1HjDW.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1HjDW.jpg\" alt=\"screenshot showing output\" /></a></p>\n<p>I did this by overriding some scripts in the Chrome Developer Tools console:</p>\n<p><a href=\"https://i.stack.imgur.com/okTNc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/okTNc.png\" alt=\"enter image description here\" /></a></p>\n<p>adding this in the index.html file:</p>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;!doctype html&gt;\n&lt;html lang=&quot;en-US&quot;&gt;\n&lt;head&gt;\n    &lt;meta charset=&quot;UTF-8&quot;&gt;\n    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1&quot;&gt;\n    &lt;link rel=&quot;profile&quot; href=&quot;https://gmpg.org/xfn/11&quot;&gt;\n\n    &lt;title&gt;geldmetai.nl&lt;/title&gt;\n&lt;meta name='robots' content='max-image-preview:large' /&gt;\n\n    &lt;!-- added these dependencies to the program --&gt;\n    &lt;script src='https://geldmetai.nl/script.js'&gt;&lt;/script&gt;\n    &lt;script src='https://geldmetai.nl/dat.gui.min.js'&gt;&lt;/script&gt;\n&lt;!-- ... ---&gt;\n</code></pre>\n<p>I also removed all the sidebars and &quot;gui&quot; for controlling parameters to the WebGL routines. also since the script is at the top, you must wait for DOMContentLoaded event:</p>\n<pre class=\"lang-js prettyprint-override\"><code>window.addEventListener(&quot;DOMContentLoaded&quot;, () =&gt; {\n    // Simulation section\n\n    let canvasParent = document.querySelector('#home &gt; div.elementor-background-overlay');\n    let canvas1 = document.createElement('canvas');\n    canvasParent.append(canvas1)\n\n    canvas1.width = canvasParent.clientWidth\n    canvas1.height = canvasParent.clientHeight\n\n    const canvas = canvas1//document.getElementsByTagName('canvas')[0];\n    // ...\n</code></pre>\n"}],"owner":{"account_id":26905697,"reputation":1,"user_id":20482068,"display_name":"T. VOS"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":93,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1679237652,"creation_date":1679230779,"question_id":75782151,"body_markdown":"I&#39;ll try to keep it short. We are working on a website (link below) and want to add a custom cursor effect we found (see the link below). We are making the website with the free element or version and a theme called &#39;Vault&#39;. \r\n\r\nSadly we don&#39;t have much coding experience, even though we have tried to install this with help from various tutorials, articles, etc. it doesn&#39;t seem to work. It would be great if anyone could further assist us with how we could install this. \r\n\r\nLink to website: https://geldmetai.nl/\r\nLink to cursor effect: https://paveldogreat.github.io/WebGL-Fluid-Simulation/\r\n\r\nCursor code is made up of 88.5% Java and 11.5% HTML.\r\n\r\nKind regards,\r\nThijs \r\n\r\n\r\nTried to the theme&#39;s build-in function to upload custom JAVA code, but didn&#39;t see anything for HTML, so that naturally didn&#39;t work out. \r\n\r\nTried to use a HTML widget and added the JS. \r\n\r\nTried some other stuff from video&#39;s and articles, but sadly to no avail. ","title":"Assistance with adding custom cursor effect to website","body":"<p>I'll try to keep it short. We are working on a website (link below) and want to add a custom cursor effect we found (see the link below). We are making the website with the free element or version and a theme called 'Vault'.</p>\n<p>Sadly we don't have much coding experience, even though we have tried to install this with help from various tutorials, articles, etc. it doesn't seem to work. It would be great if anyone could further assist us with how we could install this.</p>\n<p>Link to website: <a href=\"https://geldmetai.nl/\" rel=\"nofollow noreferrer\">https://geldmetai.nl/</a>\nLink to cursor effect: <a href=\"https://paveldogreat.github.io/WebGL-Fluid-Simulation/\" rel=\"nofollow noreferrer\">https://paveldogreat.github.io/WebGL-Fluid-Simulation/</a></p>\n<p>Cursor code is made up of 88.5% Java and 11.5% HTML.</p>\n<p>Kind regards,\nThijs</p>\n<p>Tried to the theme's build-in function to upload custom JAVA code, but didn't see anything for HTML, so that naturally didn't work out.</p>\n<p>Tried to use a HTML widget and added the JS.</p>\n<p>Tried some other stuff from video's and articles, but sadly to no avail.</p>\n"},{"tags":["java","eclipse","maven","pom.xml","war"],"comments":[{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1679238987,"post_id":75782819,"comment_id":133681644,"body_markdown":"What did you mean by _&quot;loading the project into the Eclipse IDE&quot;_? Did you use _File &gt; Open Projects from File System..._ or did you choose another way? Did you import all three as separate projects into Eclipse?","body":"What did you mean by <i>&quot;loading the project into the Eclipse IDE&quot;</i>? Did you use <i>File &gt; Open Projects from File System...</i> or did you choose another way? Did you import all three as separate projects into Eclipse?"},{"owner":{"account_id":22060856,"reputation":49,"user_id":16541515,"display_name":"shaneB"},"score":0,"creation_date":1679243424,"post_id":75782819,"comment_id":133682428,"body_markdown":"Sorry for not explaining more clearly. I used File &gt; Open Projects from File System. I imported them all as a single project.","body":"Sorry for not explaining more clearly. I used File &gt; Open Projects from File System. I imported them all as a single project."},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":1,"creation_date":1679296316,"post_id":75782819,"comment_id":133689132,"body_markdown":"A single project will not work for multiple Maven modules. If `module_A` and `module_B` are Java applications or frameworks, the have to be separate projects in Eclipse, each with its own Java Build Path.","body":"A single project will not work for multiple Maven modules. If <code>module_A</code> and <code>module_B</code> are Java applications or frameworks, the have to be separate projects in Eclipse, each with its own Java Build Path."},{"owner":{"account_id":22060856,"reputation":49,"user_id":16541515,"display_name":"shaneB"},"score":0,"creation_date":1679362599,"post_id":75782819,"comment_id":133704875,"body_markdown":"Thank you for the advice. I was able to get the project running by adding `module_A.jar` to the `module_B` Java Build Path via the User Library. I had to also make some other modifications but eventually things ended up working out. Thanks again!","body":"Thank you for the advice. I was able to get the project running by adding <code>module_A.jar</code> to the <code>module_B</code> Java Build Path via the User Library. I had to also make some other modifications but eventually things ended up working out. Thanks again!"}],"owner":{"account_id":22060856,"reputation":49,"user_id":16541515,"display_name":"shaneB"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":157,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679237474,"creation_date":1679237474,"question_id":75782819,"body_markdown":"I have inherited a maven project that has the following structure:\r\n\r\n```\r\n-parent\r\n-module_A\r\n-module_B\r\n```\r\nhere is a piece of the pom.xml of the parent as well:\r\n\r\n```\r\n\t&lt;modules&gt;\r\n\t\t&lt;module&gt;../module_A&lt;/module&gt;\r\n\t\t&lt;module&gt;../module_B&lt;/module&gt;\r\n\t&lt;/modules&gt;\r\n```\r\n\r\nmodule_A and B also have their own pom.xml files. All three have many dependencies. One of the dependencies for module_B, is module_A. \r\n\r\nCurrently I am able to build the project by changing my directory to the parent, and running `mvn clean install`. This causes the parent to build the two module&#39;s JAR files, and then produces a WAR file in module_B. The project is then manually deployed on a local Apache Tomcat server.\r\n\r\nThe problem I am having, is I primarily am making changes in module_B, and everytime I make a change and want to see it, I need to rebuild the entire project from the parent as described above, and it takes about 10 minutes. This is not sustainable, and I have been trying to figure out a way to hot reload the application as I make changes. \r\n\r\nWhat I have tried so far, is loading the project into the Eclipse IDE, adding the correct server, and then right-clicking module_B and selecting the option to run it on the server. However this simply returns a message `the selection cannot be run on any server`. I know this isn&#39;t a server config issue because I can start the empty server and it runs without a problem.\r\n\r\nI don&#39;t know what else to try. I am sure there is a solution to this, there is no way people have developed this large application I am working on by waiting 10 minutes every time they wanted to log something to the console. Thank you for any help you can offer.","title":"How to hot reload a Maven project with multiple modules","body":"<p>I have inherited a maven project that has the following structure:</p>\n<pre><code>-parent\n-module_A\n-module_B\n</code></pre>\n<p>here is a piece of the pom.xml of the parent as well:</p>\n<pre><code>    &lt;modules&gt;\n        &lt;module&gt;../module_A&lt;/module&gt;\n        &lt;module&gt;../module_B&lt;/module&gt;\n    &lt;/modules&gt;\n</code></pre>\n<p>module_A and B also have their own pom.xml files. All three have many dependencies. One of the dependencies for module_B, is module_A.</p>\n<p>Currently I am able to build the project by changing my directory to the parent, and running <code>mvn clean install</code>. This causes the parent to build the two module's JAR files, and then produces a WAR file in module_B. The project is then manually deployed on a local Apache Tomcat server.</p>\n<p>The problem I am having, is I primarily am making changes in module_B, and everytime I make a change and want to see it, I need to rebuild the entire project from the parent as described above, and it takes about 10 minutes. This is not sustainable, and I have been trying to figure out a way to hot reload the application as I make changes.</p>\n<p>What I have tried so far, is loading the project into the Eclipse IDE, adding the correct server, and then right-clicking module_B and selecting the option to run it on the server. However this simply returns a message <code>the selection cannot be run on any server</code>. I know this isn't a server config issue because I can start the empty server and it runs without a problem.</p>\n<p>I don't know what else to try. I am sure there is a solution to this, there is no way people have developed this large application I am working on by waiting 10 minutes every time they wanted to log something to the console. Thank you for any help you can offer.</p>\n"},{"tags":["java","javafx","fxml"],"answers":[{"tags":[],"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1412377483,"creation_date":1412377096,"answer_id":26187867,"question_id":26186572,"body_markdown":"You could try an [ControlsFX CheckComboBox][1] ([ControlsFX][2] is a 3rd party controls library for JavaFX).\r\n\r\n![checkcombobox][3]\r\n\r\nJust copied from the CheckComboBox javadoc:\r\n\r\n&gt; A simple UI control that makes it possible to select zero or more items within a ComboBox-like control. Each row item shows a CheckBox, and the state of each row can be queried via the check model. \r\n&gt; \r\n&gt;      // create the data to show in the CheckComboBox \r\n&gt;      final ObservableList&lt;String&gt; strings = FXCollections.observableArrayList();\r\n&gt;      for (int i = 0; i &lt;= 100; i++) {\r\n&gt;          strings.add(&quot;Item &quot; + i);\r\n&gt;      }\r\n&gt;      \r\n&gt;      // Create the CheckComboBox with the data \r\n&gt;      final CheckComboBox&lt;String&gt; checkComboBox = new CheckComboBox&lt;String&gt;(strings);\r\n&gt;      \r\n&gt;      // and listen to the relevant events (e.g. when the selected indices or \r\n&gt;      // selected items change).\r\n&gt;      checkComboBox.getCheckModel().getSelectedItems().addListener(new ListChangeListener&lt;String&gt;() {\r\n&gt;          public void onChanged(ListChangeListener.Change&lt;? extends String&gt; c) {\r\n&gt;              System.out.println(checkComboBox.getCheckModel().getSelectedItems());\r\n&gt;          }\r\n&gt;      });\r\n&gt;      }\r\n\r\nNote: the [JavaFX controls developer lead comments][4] on the in-built combobox control for JavaFX:\r\n\r\n&gt; you can put whatever selection model instance you want into ComboBox, but only single selection will ever be supported. We did this as multiple selection didn&#39;t really make sense without drastic changes to the UI and UX, and we figured a separate control could be developed in the future to better support this use case\r\n\r\nThe CheckComboBox control from ControlsFX is that seperate control.\r\n\r\n  [1]: http://controlsfx.bitbucket.org/org/controlsfx/control/CheckComboBox.html\r\n  [2]: http://fxexperience.com/controlsfx/\r\n  [3]: http://i.stack.imgur.com/6ccMc.png\r\n  [4]: https://community.oracle.com/thread/2389275","title":"Selecting multiple items from combobox","body":"<p>You could try an <a href=\"http://controlsfx.bitbucket.org/org/controlsfx/control/CheckComboBox.html\">ControlsFX CheckComboBox</a> (<a href=\"http://fxexperience.com/controlsfx/\">ControlsFX</a> is a 3rd party controls library for JavaFX).</p>\n\n<p><img src=\"https://i.stack.imgur.com/6ccMc.png\" alt=\"checkcombobox\"></p>\n\n<p>Just copied from the CheckComboBox javadoc:</p>\n\n<blockquote>\n  <p>A simple UI control that makes it possible to select zero or more items within a ComboBox-like control. Each row item shows a CheckBox, and the state of each row can be queried via the check model. </p>\n\n<pre><code> // create the data to show in the CheckComboBox \n final ObservableList&lt;String&gt; strings = FXCollections.observableArrayList();\n for (int i = 0; i &lt;= 100; i++) {\n     strings.add(\"Item \" + i);\n }\n\n // Create the CheckComboBox with the data \n final CheckComboBox&lt;String&gt; checkComboBox = new CheckComboBox&lt;String&gt;(strings);\n\n // and listen to the relevant events (e.g. when the selected indices or \n // selected items change).\n checkComboBox.getCheckModel().getSelectedItems().addListener(new ListChangeListener&lt;String&gt;() {\n     public void onChanged(ListChangeListener.Change&lt;? extends String&gt; c) {\n         System.out.println(checkComboBox.getCheckModel().getSelectedItems());\n     }\n });\n }\n</code></pre>\n</blockquote>\n\n<p>Note: the <a href=\"https://community.oracle.com/thread/2389275\">JavaFX controls developer lead comments</a> on the in-built combobox control for JavaFX:</p>\n\n<blockquote>\n  <p>you can put whatever selection model instance you want into ComboBox, but only single selection will ever be supported. We did this as multiple selection didn't really make sense without drastic changes to the UI and UX, and we figured a separate control could be developed in the future to better support this use case</p>\n</blockquote>\n\n<p>The CheckComboBox control from ControlsFX is that seperate control.</p>\n"},{"tags":[],"owner":{"account_id":3635562,"reputation":111,"user_id":3030762,"display_name":"erolmuhammet.cs"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1438159087,"creation_date":1438159087,"answer_id":31695376,"question_id":26186572,"body_markdown":"\r\nI need something similar and this solved my problem.\r\n        \r\n    @FXML\r\n    public MenuButton menuButton;  \r\n    ......  \r\n    CheckBox cb0 = new CheckBox(&quot;x&quot;);  \r\n    CustomMenuItem item0 = new CustomMenuItem(cb0);  \r\n    CheckBox cb1 = new CheckBox(&quot;y&quot;);  \r\n    CustomMenuItem item1 = new CustomMenuItem(cb1);  \r\n    item0.setHideOnClick(false);  \r\n    item1.setHideOnClick(false);  \r\n    menuButton.getItems().setAll(item0,item1);\r\n\r\n\r\n","title":"Selecting multiple items from combobox","body":"<p>I need something similar and this solved my problem.</p>\n\n<pre><code>@FXML\npublic MenuButton menuButton;  \n......  \nCheckBox cb0 = new CheckBox(\"x\");  \nCustomMenuItem item0 = new CustomMenuItem(cb0);  \nCheckBox cb1 = new CheckBox(\"y\");  \nCustomMenuItem item1 = new CustomMenuItem(cb1);  \nitem0.setHideOnClick(false);  \nitem1.setHideOnClick(false);  \nmenuButton.getItems().setAll(item0,item1);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19191572,"reputation":93,"user_id":14021197,"display_name":"Daric"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1607777978,"creation_date":1607777978,"answer_id":65265204,"question_id":26186572,"body_markdown":"I know this is an old post, but here is just a minimalist working solution as described by @user82426 comment with the &#39;joining&#39; part suggested. This was built using, as mentioned, [http://javawiki.sowas.com/doku.php?id=javafx:combobox-multi-selection][1].\r\n\r\nAs stated it&#39;s not a COMBOBOX, but a MENUBUTTON... Nevertheless it does fill the needs I was looking for better than a COMBOBOX, so I thought it could help other ;-)...\r\n\r\nHere it is : \r\n\r\n    import javafx.application.Application;\r\n    import javafx.scene.Scene;\r\n    import javafx.scene.control.CheckMenuItem;\r\n    import javafx.scene.control.ListView;\r\n    import javafx.scene.control.MenuButton;\r\n    import javafx.scene.layout.BorderPane;\r\n    import javafx.stage.Stage;\r\n    import java.util.Arrays;\r\n    import java.util.List;\r\n    \r\n    public class MultiSelectionComboDemo extends Application {\r\n    \tfinal ListView&lt;String&gt; selectedItems = new ListView&lt;&gt;();\r\n    \t\r\n    \t@Override\r\n    \tpublic void start(Stage primaryStage) {\r\n    \t\tfinal String sMenuTextStart = &quot;Fruit : &quot;;\r\n    \t\tfinal String sMenuTextEmpty = &quot;[empty]&quot;;\r\n    \t\tfinal MenuButton\t\t\tchoices\t= new MenuButton(sMenuTextStart+sMenuTextEmpty);\r\n    \t\tfinal List&lt;CheckMenuItem&gt;\titems\t= Arrays.asList(new CheckMenuItem(&quot;Apple&quot;), new CheckMenuItem(&quot;Banana&quot;), new CheckMenuItem(&quot;Pear&quot;), new CheckMenuItem(&quot;Kiwi&quot;));\r\n    \t\tchoices.getItems().addAll(items);\r\n    \t\t\r\n    \t\tfor (final CheckMenuItem item : items) {\r\n    \t\t\titem.selectedProperty().addListener((observableValue, oldValue, newValue) -&gt; {\r\n    \t\t\t\tif (newValue) {\r\n    \t\t\t\t\tselectedItems.getItems().add(item.getText());\r\n    \t\t\t\t} else {\r\n    \t\t\t\t\tselectedItems.getItems().remove(item.getText());\r\n    \t\t\t\t}\r\n    \t\t\t\tString sMenuText = sMenuTextStart + (selectedItems.getItems().size()&gt;0?&quot;&quot;:sMenuTextEmpty);\r\n    \t\t\t\tchoices.setText(sMenuText+String.join(&quot;, &quot;, selectedItems.getItems()));\r\n    \t\t\t});\r\n    \t\t}\r\n    \t\t\r\n    \t\tBorderPane borderPane = new BorderPane();\r\n    \t\tborderPane.setTop(choices);\r\n    \t\tborderPane.setCenter(selectedItems);\r\n    \t\tprimaryStage.setScene(new Scene(borderPane, 400, 300));\r\n    \t\tprimaryStage.show();\r\n    \t}\r\n    \t\r\n    \tpublic static void main(String[] args) {\r\n    \t\tlaunch(args);\r\n    \t}\r\n    }\r\n\r\n\r\n  [1]: http://javawiki.sowas.com/doku.php?id=javafx:combobox-multi-selection","title":"Selecting multiple items from combobox","body":"<p>I know this is an old post, but here is just a minimalist working solution as described by @user82426 comment with the 'joining' part suggested. This was built using, as mentioned, <a href=\"http://javawiki.sowas.com/doku.php?id=javafx:combobox-multi-selection\" rel=\"nofollow noreferrer\">http://javawiki.sowas.com/doku.php?id=javafx:combobox-multi-selection</a>.</p>\n<p>As stated it's not a COMBOBOX, but a MENUBUTTON... Nevertheless it does fill the needs I was looking for better than a COMBOBOX, so I thought it could help other ;-)...</p>\n<p>Here it is :</p>\n<pre><code>import javafx.application.Application;\nimport javafx.scene.Scene;\nimport javafx.scene.control.CheckMenuItem;\nimport javafx.scene.control.ListView;\nimport javafx.scene.control.MenuButton;\nimport javafx.scene.layout.BorderPane;\nimport javafx.stage.Stage;\nimport java.util.Arrays;\nimport java.util.List;\n\npublic class MultiSelectionComboDemo extends Application {\n    final ListView&lt;String&gt; selectedItems = new ListView&lt;&gt;();\n    \n    @Override\n    public void start(Stage primaryStage) {\n        final String sMenuTextStart = &quot;Fruit : &quot;;\n        final String sMenuTextEmpty = &quot;[empty]&quot;;\n        final MenuButton            choices = new MenuButton(sMenuTextStart+sMenuTextEmpty);\n        final List&lt;CheckMenuItem&gt;   items   = Arrays.asList(new CheckMenuItem(&quot;Apple&quot;), new CheckMenuItem(&quot;Banana&quot;), new CheckMenuItem(&quot;Pear&quot;), new CheckMenuItem(&quot;Kiwi&quot;));\n        choices.getItems().addAll(items);\n        \n        for (final CheckMenuItem item : items) {\n            item.selectedProperty().addListener((observableValue, oldValue, newValue) -&gt; {\n                if (newValue) {\n                    selectedItems.getItems().add(item.getText());\n                } else {\n                    selectedItems.getItems().remove(item.getText());\n                }\n                String sMenuText = sMenuTextStart + (selectedItems.getItems().size()&gt;0?&quot;&quot;:sMenuTextEmpty);\n                choices.setText(sMenuText+String.join(&quot;, &quot;, selectedItems.getItems()));\n            });\n        }\n        \n        BorderPane borderPane = new BorderPane();\n        borderPane.setTop(choices);\n        borderPane.setCenter(selectedItems);\n        primaryStage.setScene(new Scene(borderPane, 400, 300));\n        primaryStage.show();\n    }\n    \n    public static void main(String[] args) {\n        launch(args);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11000470,"reputation":159,"user_id":8081214,"display_name":"Younes Meridji"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1679237244,"creation_date":1679237244,"answer_id":75782799,"question_id":26186572,"body_markdown":"If you take a look to the source code of ComboBox class, it says that &quot;A ComboBox  only supports single selection&quot;. So you need to make a your own combobox, or use a library, i recommend controlsFX. ","title":"Selecting multiple items from combobox","body":"<p>If you take a look to the source code of ComboBox class, it says that &quot;A ComboBox  only supports single selection&quot;. So you need to make a your own combobox, or use a library, i recommend controlsFX.</p>\n"}],"owner":{"account_id":4417256,"reputation":49,"user_id":3598440,"display_name":"Odum"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":26413,"favorite_count":0,"down_vote_count":1,"up_vote_count":5,"answer_count":4,"score":4,"last_activity_date":1679237244,"creation_date":1412369128,"question_id":26186572,"body_markdown":"Pls i want to know how to change the selectionmodel of javafxml combobox so that it can allow multiple seletion. Any contribution will be appreciated thanks.","title":"Selecting multiple items from combobox","body":"<p>Pls i want to know how to change the selectionmodel of javafxml combobox so that it can allow multiple seletion. Any contribution will be appreciated thanks.</p>\n"},{"tags":["java","cucumber","rest-assured","allure"],"answers":[{"tags":[],"owner":{"account_id":9455787,"reputation":644,"user_id":7031148,"display_name":"Alex Karamfilov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668254344,"creation_date":1668179484,"answer_id":74404514,"question_id":74389824,"body_markdown":"In one of the projects I use the following depedencies and plugins and everything works good.\r\n\r\n```\r\n&lt;dependencies&gt;\r\n  &lt;!--Cucumber Dependencies--&gt;  \r\n    &lt;dependency&gt;\r\n       &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n       &lt;artifactId&gt;cucumber-java&lt;/artifactId&gt;\r\n       &lt;version&gt;${cucumber.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n  \r\n  &lt;!--Selenium Dependency--&gt;\r\n    &lt;dependency&gt;\r\n       &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n       &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\r\n       &lt;version&gt;${selenium.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n \r\n  &lt;!--Cucumber TestNG Dependency--&gt;\r\n    &lt;dependency&gt;\r\n       &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n       &lt;artifactId&gt;cucumber-testng&lt;/artifactId&gt;\r\n       &lt;version&gt;${cucumber.version}&lt;/version&gt;\r\n        &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n \r\n  &lt;!--Hamcrest Dependency--&gt;\r\n    &lt;dependency&gt;\r\n       &lt;groupId&gt;org.hamcrest&lt;/groupId&gt;\r\n       &lt;artifactId&gt;hamcrest&lt;/artifactId&gt;\r\n       &lt;version&gt;2.2&lt;/version&gt;\r\n       &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n     \r\n  &lt;!--Allure Cucumber Dependency--&gt;   \r\n      &lt;dependency&gt;\r\n         &lt;groupId&gt;io.qameta.allure&lt;/groupId&gt;\r\n         &lt;artifactId&gt;allure-cucumber5-jvm&lt;/artifactId&gt;\r\n         &lt;version&gt;${allure.cucumber5.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;  \r\n&lt;/dependencies&gt;\r\n```\r\n\r\n```\r\n&lt;build&gt;\r\n    &lt;plugins&gt;   \r\n      &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;${maven.compiler.plugin.version}&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;source&gt;${maven.compiler.source}&lt;/source&gt; \r\n                    &lt;target&gt;${maven.compiler.target}&lt;/target&gt; \r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n      \r\n     &lt;plugin&gt;\r\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n             &lt;version&gt;${maven.surefire.plugin.version}&lt;/version&gt;\r\n            &lt;configuration&gt;\r\n                 &lt;suiteXmlFiles&gt;\r\n                        &lt;suiteXmlFile&gt;TestNG.xml&lt;/suiteXmlFile&gt;\r\n                    &lt;/suiteXmlFiles&gt;\r\n                &lt;argLine&gt;\r\n                    -javaagent:&quot;${settings.localRepository}/org/aspectj/aspectjweaver/${aspectj.version}/aspectjweaver-${aspectj.version}.jar&quot;\r\n                    -Dcucumber.options=&quot;--plugin io.qameta.allure.cucumber5jvm.AllureCucumber5Jvm&quot;\r\n                &lt;/argLine&gt;\r\n                         \r\n            &lt;/configuration&gt;\r\n            &lt;dependencies&gt;\r\n                &lt;dependency&gt;\r\n                    &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;aspectjweaver&lt;/artifactId&gt;\r\n                    &lt;version&gt;${aspectj.version}&lt;/version&gt;\r\n                &lt;/dependency&gt;\r\n            &lt;/dependencies&gt;\r\n        &lt;/plugin&gt;\r\n         \r\n         &lt;plugin&gt;\r\n                &lt;groupId&gt;io.qameta.allure&lt;/groupId&gt;\r\n                &lt;artifactId&gt;allure-maven&lt;/artifactId&gt;\r\n                &lt;version&gt;${allure.maven.version}&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;reportVersion&gt;${allure.version}&lt;/reportVersion&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n      &lt;/plugins&gt;      \r\n   &lt;/build&gt;\r\n```\r\n\r\n```\r\n&lt;properties&gt;\r\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;selenium.version&gt;3.141.59&lt;/selenium.version&gt;\r\n    &lt;cucumber.version&gt;5.7.0&lt;/cucumber.version&gt;\r\n    &lt;testng.version&gt;7.4.0&lt;/testng.version&gt;\r\n    &lt;allure.cucumber5.version&gt;2.14.0&lt;/allure.cucumber5.version&gt;\r\n    &lt;maven.compiler.plugin.version&gt;3.5.1&lt;/maven.compiler.plugin.version&gt;\r\n    &lt;maven.surefire.plugin.version&gt;3.0.0-M5&lt;/maven.surefire.plugin.version&gt;\r\n    &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\r\n    &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\r\n    &lt;aspectj.version&gt;1.9.6&lt;/aspectj.version&gt;\r\n    &lt;allure.maven.version&gt;2.10.0&lt;/allure.maven.version&gt;\r\n  &lt;/properties&gt;\r\n```","title":"Cucumber steps is not shown at allure report as expected","body":"<p>In one of the projects I use the following depedencies and plugins and everything works good.</p>\n<pre><code>&lt;dependencies&gt;\n  &lt;!--Cucumber Dependencies--&gt;  \n    &lt;dependency&gt;\n       &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n       &lt;artifactId&gt;cucumber-java&lt;/artifactId&gt;\n       &lt;version&gt;${cucumber.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n  \n  &lt;!--Selenium Dependency--&gt;\n    &lt;dependency&gt;\n       &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n       &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\n       &lt;version&gt;${selenium.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n \n  &lt;!--Cucumber TestNG Dependency--&gt;\n    &lt;dependency&gt;\n       &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n       &lt;artifactId&gt;cucumber-testng&lt;/artifactId&gt;\n       &lt;version&gt;${cucumber.version}&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n \n  &lt;!--Hamcrest Dependency--&gt;\n    &lt;dependency&gt;\n       &lt;groupId&gt;org.hamcrest&lt;/groupId&gt;\n       &lt;artifactId&gt;hamcrest&lt;/artifactId&gt;\n       &lt;version&gt;2.2&lt;/version&gt;\n       &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n     \n  &lt;!--Allure Cucumber Dependency--&gt;   \n      &lt;dependency&gt;\n         &lt;groupId&gt;io.qameta.allure&lt;/groupId&gt;\n         &lt;artifactId&gt;allure-cucumber5-jvm&lt;/artifactId&gt;\n         &lt;version&gt;${allure.cucumber5.version}&lt;/version&gt;\n    &lt;/dependency&gt;  \n&lt;/dependencies&gt;\n</code></pre>\n<pre><code>&lt;build&gt;\n    &lt;plugins&gt;   \n      &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${maven.compiler.plugin.version}&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;${maven.compiler.source}&lt;/source&gt; \n                    &lt;target&gt;${maven.compiler.target}&lt;/target&gt; \n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n      \n     &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n             &lt;version&gt;${maven.surefire.plugin.version}&lt;/version&gt;\n            &lt;configuration&gt;\n                 &lt;suiteXmlFiles&gt;\n                        &lt;suiteXmlFile&gt;TestNG.xml&lt;/suiteXmlFile&gt;\n                    &lt;/suiteXmlFiles&gt;\n                &lt;argLine&gt;\n                    -javaagent:&quot;${settings.localRepository}/org/aspectj/aspectjweaver/${aspectj.version}/aspectjweaver-${aspectj.version}.jar&quot;\n                    -Dcucumber.options=&quot;--plugin io.qameta.allure.cucumber5jvm.AllureCucumber5Jvm&quot;\n                &lt;/argLine&gt;\n                         \n            &lt;/configuration&gt;\n            &lt;dependencies&gt;\n                &lt;dependency&gt;\n                    &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\n                    &lt;artifactId&gt;aspectjweaver&lt;/artifactId&gt;\n                    &lt;version&gt;${aspectj.version}&lt;/version&gt;\n                &lt;/dependency&gt;\n            &lt;/dependencies&gt;\n        &lt;/plugin&gt;\n         \n         &lt;plugin&gt;\n                &lt;groupId&gt;io.qameta.allure&lt;/groupId&gt;\n                &lt;artifactId&gt;allure-maven&lt;/artifactId&gt;\n                &lt;version&gt;${allure.maven.version}&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;reportVersion&gt;${allure.version}&lt;/reportVersion&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n      &lt;/plugins&gt;      \n   &lt;/build&gt;\n</code></pre>\n<pre><code>&lt;properties&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;selenium.version&gt;3.141.59&lt;/selenium.version&gt;\n    &lt;cucumber.version&gt;5.7.0&lt;/cucumber.version&gt;\n    &lt;testng.version&gt;7.4.0&lt;/testng.version&gt;\n    &lt;allure.cucumber5.version&gt;2.14.0&lt;/allure.cucumber5.version&gt;\n    &lt;maven.compiler.plugin.version&gt;3.5.1&lt;/maven.compiler.plugin.version&gt;\n    &lt;maven.surefire.plugin.version&gt;3.0.0-M5&lt;/maven.surefire.plugin.version&gt;\n    &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\n    &lt;aspectj.version&gt;1.9.6&lt;/aspectj.version&gt;\n    &lt;allure.maven.version&gt;2.10.0&lt;/allure.maven.version&gt;\n  &lt;/properties&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2160182,"reputation":199,"user_id":1914510,"display_name":"Ali Taha"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679237231,"creation_date":1679237231,"answer_id":75782796,"question_id":74389824,"body_markdown":"I handle it by work arround, at steps definition class I added one allure Step annotation. so for example: \r\n\r\nif the step definition look like:\r\n\r\n    @When(&quot;User type user name {string}&quot;)\r\n    public void typeUserName(String userName) {\r\n    }\r\n\r\nnow it looks like this \r\n\r\n    @When(&quot;User type user name {string}&quot;)\r\n    @Step(&quot;When User type user name {userName}&quot;)\r\n    public void typeUserName(String userName) {\r\n    }\r\n\r\n\r\n\r\n","title":"Cucumber steps is not shown at allure report as expected","body":"<p>I handle it by work arround, at steps definition class I added one allure Step annotation. so for example:</p>\n<p>if the step definition look like:</p>\n<pre><code>@When(&quot;User type user name {string}&quot;)\npublic void typeUserName(String userName) {\n}\n</code></pre>\n<p>now it looks like this</p>\n<pre><code>@When(&quot;User type user name {string}&quot;)\n@Step(&quot;When User type user name {userName}&quot;)\npublic void typeUserName(String userName) {\n}\n</code></pre>\n"}],"owner":{"account_id":2160182,"reputation":199,"user_id":1914510,"display_name":"Ali Taha"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1003,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1679237231,"creation_date":1668086886,"question_id":74389824,"body_markdown":"all I&#39;m creating API tests using the following tools:\r\n\r\n 1. TestNG\r\n 2. Cucumber\r\n 3. Allure report\r\n 4. Rest assured\r\n\r\ntests execution can be done using testNG suites.\r\n\r\nafter the test is executed I&#39;m creating the allure report using the maven command \r\n\r\n    mvn allure:report\r\n\r\nbut the allure steps are not generated in the report as expected please see the following screen-shot \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nwhile my goal is to have this reporting structure:\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\nhere is test code example\r\n\r\n    @Test\r\n    @CucumberOptions (features=&quot;src/main/java/com/abc/tests/caseTest/caseTest.feature&quot;\r\n            ,glue={&quot;com.tests.caseTest&quot;}\r\n            ,plugin={&quot;pretty&quot;, &quot;html:target/cucumber-reports&quot;\r\n            , &quot;html:target/cucumber-html-reports&quot;\r\n            ,&quot;rerun:target/failed_scenarios.txt&quot;}\r\n    )\r\n    public class CaseTest extends AbstractTestNGCucumberTests {\r\n    \r\n    }\r\n\r\n-\r\n\r\n    &lt;properties&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;rest-assured.version&gt;5.1.1&lt;/rest-assured.version&gt;\r\n        &lt;allure.testng.version&gt;2.19.0&lt;/allure.testng.version&gt;\r\n        &lt;allure.rest-assured.version&gt;2.19.0&lt;/allure.rest-assured.version&gt;\r\n        &lt;jackson.version&gt;2.12.3&lt;/jackson.version&gt;\r\n        &lt;json.version&gt;20210307&lt;/json.version&gt;\r\n        &lt;maven.compiler.plugin.version&gt;3.5.1&lt;/maven.compiler.plugin.version&gt;\r\n        &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\r\n        &lt;aspectj.version&gt;1.9.7&lt;/aspectj.version&gt;\r\n        &lt;assertj-core.version&gt;3.23.1&lt;/assertj-core.version&gt;\r\n        &lt;elasticsearch-client.version&gt;7.17.0&lt;/elasticsearch-client.version&gt;\r\n        &lt;maven-surefire-plugin-version&gt;3.0.0-M5&lt;/maven-surefire-plugin-version&gt;\r\n        &lt;cucumber.version&gt;7.9.0&lt;/cucumber.version&gt;\r\n        &lt;cucumber-testng.version&gt;7.9.0&lt;/cucumber-testng.version&gt;\r\n        &lt;allure-cucumber-jvm.version&gt;2.20.0&lt;/allure-cucumber-jvm.version&gt;\r\n      &lt;/properties&gt;\r\n    \r\n      &lt;dependencies&gt;\r\n    \r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;io.rest-assured&lt;/groupId&gt;\r\n          &lt;artifactId&gt;rest-assured&lt;/artifactId&gt;\r\n          &lt;version&gt;${rest-assured.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n    \r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.assertj&lt;/groupId&gt;\r\n          &lt;artifactId&gt;assertj-core&lt;/artifactId&gt;\r\n          &lt;version&gt;${assertj-core.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;io.qameta.allure&lt;/groupId&gt;\r\n          &lt;artifactId&gt;allure-rest-assured&lt;/artifactId&gt;\r\n          &lt;version&gt;${allure.rest-assured.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.testng&lt;/groupId&gt;\r\n          &lt;artifactId&gt;testng&lt;/artifactId&gt;\r\n          &lt;version&gt;7.0.0&lt;/version&gt;\r\n          &lt;scope&gt;compile&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;com.github.automatedowl&lt;/groupId&gt;\r\n          &lt;artifactId&gt;allure-environment-writer&lt;/artifactId&gt;\r\n          &lt;version&gt;1.0.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\r\n          &lt;artifactId&gt;gson&lt;/artifactId&gt;\r\n          &lt;version&gt;2.9.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n          &lt;artifactId&gt;cucumber-java&lt;/artifactId&gt;\r\n          &lt;version&gt;${cucumber.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n    \r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n          &lt;artifactId&gt;cucumber-testng&lt;/artifactId&gt;\r\n          &lt;version&gt;${cucumber-testng.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;io.qameta.allure&lt;/groupId&gt;\r\n          &lt;artifactId&gt;allure-cucumber-jvm&lt;/artifactId&gt;\r\n          &lt;version&gt;${allure-cucumber-jvm.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;io.qameta.allure&lt;/groupId&gt;\r\n          &lt;artifactId&gt;allure-testng&lt;/artifactId&gt;\r\n          &lt;version&gt;${allure.testng.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n          &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n          &lt;version&gt;${jackson.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;javax.mail&lt;/groupId&gt;\r\n          &lt;artifactId&gt;mail&lt;/artifactId&gt;\r\n          &lt;version&gt;1.4.7&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.json&lt;/groupId&gt;\r\n          &lt;artifactId&gt;json&lt;/artifactId&gt;\r\n          &lt;version&gt;${json.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n          &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n          &lt;version&gt;1.18.24&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n      &lt;/dependencies&gt;\r\n    \r\n    \r\n      &lt;build&gt;\r\n        &lt;plugins&gt;\r\n          &lt;plugin&gt;\r\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;${maven.compiler.plugin.version}&lt;/version&gt;\r\n            &lt;configuration&gt;\r\n              &lt;source&gt;${maven.compiler.source}&lt;/source&gt;\r\n              &lt;target&gt;${maven.compiler.target}&lt;/target&gt;\r\n            &lt;/configuration&gt;\r\n          &lt;/plugin&gt;\r\n    \r\n          &lt;plugin&gt;\r\n            &lt;groupId&gt;io.qameta.allure&lt;/groupId&gt;\r\n            &lt;artifactId&gt;allure-maven&lt;/artifactId&gt;\r\n            &lt;configuration&gt;\r\n              &lt;buildDirectory&gt;${project.basedir}&lt;/buildDirectory&gt;\r\n            &lt;/configuration&gt;\r\n            &lt;version&gt;2.10.0&lt;/version&gt;\r\n          &lt;/plugin&gt;\r\n    \r\n          &lt;plugin&gt; &lt;!-- This plugin is very important for Allure attachments and steps --&gt;\r\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;${maven-surefire-plugin-version}&lt;/version&gt;\r\n            &lt;configuration&gt;\r\n              &lt;suiteXmlFiles&gt;\r\n                &lt;suiteXmlFile&gt;TestNG.xml&lt;/suiteXmlFile&gt;\r\n              &lt;/suiteXmlFiles&gt;\r\n              &lt;argLine&gt;\r\n                -javaagent:&quot;${settings.localRepository}/org/aspectj/aspectjweaver/${aspectj.version}/aspectjweaver-${aspectj.version}.jar&quot;\r\n                -Dcucumber.options=&quot;--plugin io.qameta.allure.cucumber4jvm.AllureCucumber4Jvm&quot;\r\n              &lt;/argLine&gt;\r\n            &lt;/configuration&gt;\r\n            &lt;dependencies&gt;\r\n              &lt;dependency&gt;\r\n                &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\r\n                &lt;artifactId&gt;aspectjweaver&lt;/artifactId&gt;\r\n                &lt;version&gt;${aspectj.version}&lt;/version&gt;\r\n              &lt;/dependency&gt;\r\n            &lt;/dependencies&gt;\r\n          &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n      &lt;/build&gt;\r\n-\r\n\r\n\r\n    Feature: Case creation update and pemissions\r\n    \r\n    \r\n      Scenario: create new case from Search\r\n        Given User get list of ecomms\r\n        When User create case using 3 ecomms from the list\r\n        Then Response body should be valid with response code 200\r\n        And Case should include 3 ecomms taken from search api\r\n\r\n \r\n  [1]: https://i.stack.imgur.com/BebMA.png\r\n  [2]: https://i.stack.imgur.com/v9Zj3.png\r\n\r\n\r\n\r\n\r\n\r\n","title":"Cucumber steps is not shown at allure report as expected","body":"<p>all I'm creating API tests using the following tools:</p>\n<ol>\n<li>TestNG</li>\n<li>Cucumber</li>\n<li>Allure report</li>\n<li>Rest assured</li>\n</ol>\n<p>tests execution can be done using testNG suites.</p>\n<p>after the test is executed I'm creating the allure report using the maven command</p>\n<pre><code>mvn allure:report\n</code></pre>\n<p>but the allure steps are not generated in the report as expected please see the following screen-shot</p>\n<p><a href=\"https://i.stack.imgur.com/BebMA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BebMA.png\" alt=\"enter image description here\" /></a></p>\n<p>while my goal is to have this reporting structure:</p>\n<p><a href=\"https://i.stack.imgur.com/v9Zj3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/v9Zj3.png\" alt=\"enter image description here\" /></a></p>\n<p>here is test code example</p>\n<pre><code>@Test\n@CucumberOptions (features=&quot;src/main/java/com/abc/tests/caseTest/caseTest.feature&quot;\n        ,glue={&quot;com.tests.caseTest&quot;}\n        ,plugin={&quot;pretty&quot;, &quot;html:target/cucumber-reports&quot;\n        , &quot;html:target/cucumber-html-reports&quot;\n        ,&quot;rerun:target/failed_scenarios.txt&quot;}\n)\npublic class CaseTest extends AbstractTestNGCucumberTests {\n\n}\n</code></pre>\n<ul>\n<li></li>\n</ul>\n<pre><code>&lt;properties&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;rest-assured.version&gt;5.1.1&lt;/rest-assured.version&gt;\n    &lt;allure.testng.version&gt;2.19.0&lt;/allure.testng.version&gt;\n    &lt;allure.rest-assured.version&gt;2.19.0&lt;/allure.rest-assured.version&gt;\n    &lt;jackson.version&gt;2.12.3&lt;/jackson.version&gt;\n    &lt;json.version&gt;20210307&lt;/json.version&gt;\n    &lt;maven.compiler.plugin.version&gt;3.5.1&lt;/maven.compiler.plugin.version&gt;\n    &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\n    &lt;aspectj.version&gt;1.9.7&lt;/aspectj.version&gt;\n    &lt;assertj-core.version&gt;3.23.1&lt;/assertj-core.version&gt;\n    &lt;elasticsearch-client.version&gt;7.17.0&lt;/elasticsearch-client.version&gt;\n    &lt;maven-surefire-plugin-version&gt;3.0.0-M5&lt;/maven-surefire-plugin-version&gt;\n    &lt;cucumber.version&gt;7.9.0&lt;/cucumber.version&gt;\n    &lt;cucumber-testng.version&gt;7.9.0&lt;/cucumber-testng.version&gt;\n    &lt;allure-cucumber-jvm.version&gt;2.20.0&lt;/allure-cucumber-jvm.version&gt;\n  &lt;/properties&gt;\n\n  &lt;dependencies&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;io.rest-assured&lt;/groupId&gt;\n      &lt;artifactId&gt;rest-assured&lt;/artifactId&gt;\n      &lt;version&gt;${rest-assured.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.assertj&lt;/groupId&gt;\n      &lt;artifactId&gt;assertj-core&lt;/artifactId&gt;\n      &lt;version&gt;${assertj-core.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;io.qameta.allure&lt;/groupId&gt;\n      &lt;artifactId&gt;allure-rest-assured&lt;/artifactId&gt;\n      &lt;version&gt;${allure.rest-assured.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.testng&lt;/groupId&gt;\n      &lt;artifactId&gt;testng&lt;/artifactId&gt;\n      &lt;version&gt;7.0.0&lt;/version&gt;\n      &lt;scope&gt;compile&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.github.automatedowl&lt;/groupId&gt;\n      &lt;artifactId&gt;allure-environment-writer&lt;/artifactId&gt;\n      &lt;version&gt;1.0.0&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\n      &lt;artifactId&gt;gson&lt;/artifactId&gt;\n      &lt;version&gt;2.9.1&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n      &lt;artifactId&gt;cucumber-java&lt;/artifactId&gt;\n      &lt;version&gt;${cucumber.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n      &lt;artifactId&gt;cucumber-testng&lt;/artifactId&gt;\n      &lt;version&gt;${cucumber-testng.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;io.qameta.allure&lt;/groupId&gt;\n      &lt;artifactId&gt;allure-cucumber-jvm&lt;/artifactId&gt;\n      &lt;version&gt;${allure-cucumber-jvm.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;io.qameta.allure&lt;/groupId&gt;\n      &lt;artifactId&gt;allure-testng&lt;/artifactId&gt;\n      &lt;version&gt;${allure.testng.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n      &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n      &lt;version&gt;${jackson.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;javax.mail&lt;/groupId&gt;\n      &lt;artifactId&gt;mail&lt;/artifactId&gt;\n      &lt;version&gt;1.4.7&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.json&lt;/groupId&gt;\n      &lt;artifactId&gt;json&lt;/artifactId&gt;\n      &lt;version&gt;${json.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n      &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n      &lt;version&gt;1.18.24&lt;/version&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n\n\n  &lt;build&gt;\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n        &lt;version&gt;${maven.compiler.plugin.version}&lt;/version&gt;\n        &lt;configuration&gt;\n          &lt;source&gt;${maven.compiler.source}&lt;/source&gt;\n          &lt;target&gt;${maven.compiler.target}&lt;/target&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n\n      &lt;plugin&gt;\n        &lt;groupId&gt;io.qameta.allure&lt;/groupId&gt;\n        &lt;artifactId&gt;allure-maven&lt;/artifactId&gt;\n        &lt;configuration&gt;\n          &lt;buildDirectory&gt;${project.basedir}&lt;/buildDirectory&gt;\n        &lt;/configuration&gt;\n        &lt;version&gt;2.10.0&lt;/version&gt;\n      &lt;/plugin&gt;\n\n      &lt;plugin&gt; &lt;!-- This plugin is very important for Allure attachments and steps --&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n        &lt;version&gt;${maven-surefire-plugin-version}&lt;/version&gt;\n        &lt;configuration&gt;\n          &lt;suiteXmlFiles&gt;\n            &lt;suiteXmlFile&gt;TestNG.xml&lt;/suiteXmlFile&gt;\n          &lt;/suiteXmlFiles&gt;\n          &lt;argLine&gt;\n            -javaagent:&quot;${settings.localRepository}/org/aspectj/aspectjweaver/${aspectj.version}/aspectjweaver-${aspectj.version}.jar&quot;\n            -Dcucumber.options=&quot;--plugin io.qameta.allure.cucumber4jvm.AllureCucumber4Jvm&quot;\n          &lt;/argLine&gt;\n        &lt;/configuration&gt;\n        &lt;dependencies&gt;\n          &lt;dependency&gt;\n            &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\n            &lt;artifactId&gt;aspectjweaver&lt;/artifactId&gt;\n            &lt;version&gt;${aspectj.version}&lt;/version&gt;\n          &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n</code></pre>\n<ul>\n<li></li>\n</ul>\n<pre><code>Feature: Case creation update and pemissions\n\n\n  Scenario: create new case from Search\n    Given User get list of ecomms\n    When User create case using 3 ecomms from the list\n    Then Response body should be valid with response code 200\n    And Case should include 3 ecomms taken from search api\n</code></pre>\n"},{"tags":["java","spring-boot","configuration","wiremock","spring-boot-test"],"answers":[{"tags":[],"owner":{"account_id":48302,"reputation":55353,"user_id":143475,"display_name":"Peter Thomas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1518531428,"creation_date":1518531428,"answer_id":48768886,"question_id":48707625,"body_markdown":"The approach I use to programmatically change a property when starting a Spring Boot app, is to pass the custom value into the application main entry-point `String[]` args. This will have the effect of over-riding all other means such as System properties, YML or other config files.\r\n\r\nHere is an [example](https://github.com/intuit/karate/blob/master/karate-demo/src/test/java/mock/contract/PaymentService.java#L81):\r\n\r\n    String[] args = new String[]{&quot;--my.prop=foo&quot;};\r\n    SpringApplication.run(Application.class, args);\r\n\r\nIt will be easy for you to expose a static method or custom API which starts the Spring Boot app (for testing) and with the value you want.\r\n\r\nAnd then, once you have the value of the wiremock port - things are easy.  Here is an example: [PaymentServiceContractTest.java](https://github.com/intuit/karate/blob/master/karate-demo/src/test/java/mock/contract/PaymentServiceContractTest.java#L24)\r\n\r\nP.S. Karate (the open-source test examples I am using above) is a [new alternative to WireMock](https://hackernoon.com/api-consumer-contract-tests-and-test-doubles-with-karate-72c30ea25c18), do check it out ;)\r\n\r\n\r\n\r\n\r\n","title":"Set property with wiremock random port in spring boot test","body":"<p>The approach I use to programmatically change a property when starting a Spring Boot app, is to pass the custom value into the application main entry-point <code>String[]</code> args. This will have the effect of over-riding all other means such as System properties, YML or other config files.</p>\n\n<p>Here is an <a href=\"https://github.com/intuit/karate/blob/master/karate-demo/src/test/java/mock/contract/PaymentService.java#L81\" rel=\"nofollow noreferrer\">example</a>:</p>\n\n<pre><code>String[] args = new String[]{\"--my.prop=foo\"};\nSpringApplication.run(Application.class, args);\n</code></pre>\n\n<p>It will be easy for you to expose a static method or custom API which starts the Spring Boot app (for testing) and with the value you want.</p>\n\n<p>And then, once you have the value of the wiremock port - things are easy.  Here is an example: <a href=\"https://github.com/intuit/karate/blob/master/karate-demo/src/test/java/mock/contract/PaymentServiceContractTest.java#L24\" rel=\"nofollow noreferrer\">PaymentServiceContractTest.java</a></p>\n\n<p>P.S. Karate (the open-source test examples I am using above) is a <a href=\"https://hackernoon.com/api-consumer-contract-tests-and-test-doubles-with-karate-72c30ea25c18\" rel=\"nofollow noreferrer\">new alternative to WireMock</a>, do check it out ;)</p>\n"},{"tags":[],"owner":{"account_id":5194400,"reputation":57,"user_id":4156231,"display_name":"redhunter"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1518534429,"creation_date":1518534429,"answer_id":48769833,"question_id":48707625,"body_markdown":"How are you reading `external.baseUrl`?\r\nIf you are using a `@Value` annotated property, you can use `ReflectionTestUtils` to set the port after you have setup the mock server.\r\n\r\n    ReflectionTestUtils.setField(yourTestClass, &quot;youPort&quot;,  wireMockServer.port());\r\n\r\n","title":"Set property with wiremock random port in spring boot test","body":"<p>How are you reading <code>external.baseUrl</code>?\nIf you are using a <code>@Value</code> annotated property, you can use <code>ReflectionTestUtils</code> to set the port after you have setup the mock server.</p>\n\n<pre><code>ReflectionTestUtils.setField(yourTestClass, \"youPort\",  wireMockServer.port());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":318873,"reputation":196,"user_id":636309,"display_name":"Dagon"},"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1561279256,"creation_date":1519014624,"answer_id":48859553,"question_id":48707625,"body_markdown":"Consider using [Spring Cloud Contract Wiremock][1]\r\n\r\nThere is already a JUnit Rule builder which allows to specify `${wiremock.port}` to set random port in property/yaml files\r\n\r\nOr you can use `WireMockRestServiceServer` to bind WireMock to your `RestTemplate` so you don&#39;t even need to override URLs in your tests.\r\n \r\n\r\n  [1]: https://cloud.spring.io/spring-cloud-contract/spring-cloud-contract.html#_spring_cloud_contract_wiremock","title":"Set property with wiremock random port in spring boot test","body":"<p>Consider using <a href=\"https://cloud.spring.io/spring-cloud-contract/spring-cloud-contract.html#_spring_cloud_contract_wiremock\" rel=\"noreferrer\">Spring Cloud Contract Wiremock</a></p>\n\n<p>There is already a JUnit Rule builder which allows to specify <code>${wiremock.port}</code> to set random port in property/yaml files</p>\n\n<p>Or you can use <code>WireMockRestServiceServer</code> to bind WireMock to your <code>RestTemplate</code> so you don't even need to override URLs in your tests.</p>\n"},{"tags":[],"owner":{"account_id":279277,"reputation":2627,"user_id":574351,"accept_rate":78,"display_name":"Nicola Ambrosetti"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1519043904,"creation_date":1519043061,"answer_id":48866181,"question_id":48707625,"body_markdown":"I could not find a way to override properties in a Spring Boot integration test, since the test is run only after the application is created and all the beans already configured.\r\n\r\nAs a work around I added a `@TestConfiguration` to the test to replace the beans in the application:\r\n\r\n    private static WireMockServer wireMockServer1 = getWireMockServer();\r\n    private static WireMockServer wireMockServer2 = getWireMockServer();\r\n    private static WireMockServer wireMockServer3 = getWireMockServer();\r\n\r\n    private static WireMockServer getWireMockServer() {\r\n        final WireMockServer wireMockServer = new WireMockServer(options().dynamicPort());\r\n        wireMockServer.start();\r\n        return wireMockServer;\r\n    }\r\n\r\n    @TestConfiguration\r\n    static class TestConfig {\r\n        @Bean\r\n        @Primary\r\n        public BeanUsingAProperty1 getBean1() {\r\n            BeanUsingAProperty myBean = new BeanUsingAProperty();\r\n            myBean.setPort(wireMockServer.port());\r\n            return myBean;\r\n        }\r\n\r\n        @Bean\r\n        @Primary\r\n        public BeanUsingAProperty2 getBean2() {\r\n            String baseUrl = &quot;http://localhost:&quot; + wireMockServer2.port();\r\n            return new BeanUsingAProperty2(baseUrl);\r\n        }\r\n\r\n        @Bean\r\n        @Primary\r\n        public BeanUsingAProperty3 getBean3() {\r\n            String baseUrl = &quot;http://localhost:&quot; + wireMockServer3.port() + &quot;/request&quot;;\r\n            return new BeanUsingAProperty3(new RestTemplate(), baseUrl, &quot;someOtherParameter&quot;);\r\n        }\r\n    }\r\n\r\nThis effectively replaced the `BeanUsingAProperty` with the one defined in the test so that it has the correct port number for Wiremock.\r\n\r\nFor this configuration to be picked up I had to add this class in the test annotation\r\n\r\n    @SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT, classes = {\r\n        MySpringBootApplication.class, MyIntegrationTest.TestConfig.class })\r\n\r\nNote that I use the non-static Wiremock API, since I have several such external services that each need to be mocked. Note that how the different beans are built is different depending on how each was designed.","title":"Set property with wiremock random port in spring boot test","body":"<p>I could not find a way to override properties in a Spring Boot integration test, since the test is run only after the application is created and all the beans already configured.</p>\n\n<p>As a work around I added a <code>@TestConfiguration</code> to the test to replace the beans in the application:</p>\n\n<pre><code>private static WireMockServer wireMockServer1 = getWireMockServer();\nprivate static WireMockServer wireMockServer2 = getWireMockServer();\nprivate static WireMockServer wireMockServer3 = getWireMockServer();\n\nprivate static WireMockServer getWireMockServer() {\n    final WireMockServer wireMockServer = new WireMockServer(options().dynamicPort());\n    wireMockServer.start();\n    return wireMockServer;\n}\n\n@TestConfiguration\nstatic class TestConfig {\n    @Bean\n    @Primary\n    public BeanUsingAProperty1 getBean1() {\n        BeanUsingAProperty myBean = new BeanUsingAProperty();\n        myBean.setPort(wireMockServer.port());\n        return myBean;\n    }\n\n    @Bean\n    @Primary\n    public BeanUsingAProperty2 getBean2() {\n        String baseUrl = \"http://localhost:\" + wireMockServer2.port();\n        return new BeanUsingAProperty2(baseUrl);\n    }\n\n    @Bean\n    @Primary\n    public BeanUsingAProperty3 getBean3() {\n        String baseUrl = \"http://localhost:\" + wireMockServer3.port() + \"/request\";\n        return new BeanUsingAProperty3(new RestTemplate(), baseUrl, \"someOtherParameter\");\n    }\n}\n</code></pre>\n\n<p>This effectively replaced the <code>BeanUsingAProperty</code> with the one defined in the test so that it has the correct port number for Wiremock.</p>\n\n<p>For this configuration to be picked up I had to add this class in the test annotation</p>\n\n<pre><code>@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT, classes = {\n    MySpringBootApplication.class, MyIntegrationTest.TestConfig.class })\n</code></pre>\n\n<p>Note that I use the non-static Wiremock API, since I have several such external services that each need to be mocked. Note that how the different beans are built is different depending on how each was designed.</p>\n"},{"tags":[],"owner":{"account_id":4008593,"reputation":111,"user_id":3302637,"display_name":"user3302637"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1547809957,"creation_date":1547641270,"answer_id":54216987,"question_id":48707625,"body_markdown":"Use property substitution in your application.properties:\r\n\r\n`external.baseUrl=http://exampleUrl:${wiremock.server.port}`\r\n\r\nThis requires the `wiremock.server.port` property to be set before the SpringBootTest is initialised, which can be achieved by adding the `@AutoConfigureWireMock` annotation to your test class.","title":"Set property with wiremock random port in spring boot test","body":"<p>Use property substitution in your application.properties:</p>\n\n<p><code>external.baseUrl=http://exampleUrl:${wiremock.server.port}</code></p>\n\n<p>This requires the <code>wiremock.server.port</code> property to be set before the SpringBootTest is initialised, which can be achieved by adding the <code>@AutoConfigureWireMock</code> annotation to your test class.</p>\n"},{"tags":[],"owner":{"account_id":118571,"reputation":47112,"user_id":309683,"accept_rate":68,"display_name":"Behrang Saeedzadeh"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1561293172,"creation_date":1561293172,"answer_id":56723916,"question_id":48707625,"body_markdown":"The property name mentioned in https://stackoverflow.com/a/48859553/309683 (i.e. `wiremock.port`) is not correct, at least since Spring Cloud Contract version `2.1.2.RELEASE`.\r\n\r\n### 1. Working example\r\n\r\n```java\r\nimport org.junit.Test;\r\nimport org.junit.runner.RunWith;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.boot.test.context.SpringBootTest;\r\nimport org.springframework.cloud.contract.wiremock.AutoConfigureWireMock;\r\nimport org.springframework.core.env.Environment;\r\nimport org.springframework.test.context.junit4.SpringRunner;\r\n\r\nimport static org.assertj.core.api.Assertions.assertThat;\r\nimport static org.springframework.boot.test.context.SpringBootTest.WebEnvironment.RANDOM_PORT;\r\n\r\n@RunWith(SpringRunner.class)\r\n@SpringBootTest(webEnvironment = RANDOM_PORT)\r\n@AutoConfigureWireMock(port = 0)\r\npublic class PortServiceTest {\r\n\r\n    @Autowired\r\n    private Environment environment;\r\n\r\n    @Test\r\n    public void shouldPopulateEnvironmentWithWiremockPort() {\r\n        assertThat(environment.containsProperty(&quot;wiremock.server.port&quot;)).isTrue();\r\n        assertThat(environment.getProperty(&quot;wiremock.server.port&quot;)).matches(&quot;\\\\d+&quot;);\r\n    }\r\n\r\n}\r\n```\r\n\r\n### 2. Other WireMock properties\r\n\r\nOther than `wiremock.server.port`, `@AutoConfigureWireMock` populates the environment with some other properties too:\r\n\r\n1. `wiremock.server.https-port`\r\n2. `wiremock.server.stubs[]`\r\n3. `wiremock.server.files[]`\r\n\r\n### 3. Gradle dependencies\r\n\r\nTo use Spring Cloud Contract WireMock in a Gradle based project, add the following dependency to your project:\r\n\r\n    testImplementation &#39;org.springframework.cloud:spring-cloud-contract-wiremock:${version}&#39;\r\n\r\n### 4. Using in `application.yaml` files\r\n\r\nIf you configure your test `application.yaml` file like this:\r\n\r\n```yaml\r\nsample:\r\n  port: ${wiremock.server.port}\r\n```\r\n\r\nAnd define the following beans:\r\n\r\n```java\r\n@Component\r\n@ConfigurationProperties(prefix = &quot;sample&quot;)\r\n@Data\r\npublic class PortProperties {\r\n    private Integer port;\r\n}\r\n\r\n@Service\r\n@RequiredArgsConstructor(onConstructor = @__(@Autowired))\r\npublic class PortService {\r\n    private final PortProperties config;\r\n\r\n    public Integer getPort() {\r\n        return config.getPort();\r\n    }\r\n}\r\n```\r\n\r\nYou can verify that `sample.port` is set to the randomly chosen wiremock port:\r\n\r\n```java\r\n@RunWith(SpringRunner.class)\r\n@SpringBootTest(webEnvironment = RANDOM_PORT)\r\n@AutoConfigureWireMock(port = 0)\r\npublic class PortServiceTest {\r\n    @Autowired\r\n    private Environment environment;\r\n\r\n    @Autowired\r\n    private PortService portService;\r\n\r\n    @Test\r\n    public void shouldReturnWireMockPort() {\r\n        assertThat(portService.getPort())\r\n                .isNotNull()\r\n                .isEqualTo(Integer.parseInt(environment.getProperty(&quot;wiremock.server.port&quot;)));\r\n    }\r\n}\r\n```","title":"Set property with wiremock random port in spring boot test","body":"<p>The property name mentioned in <a href=\"https://stackoverflow.com/a/48859553/309683\">https://stackoverflow.com/a/48859553/309683</a> (i.e. <code>wiremock.port</code>) is not correct, at least since Spring Cloud Contract version <code>2.1.2.RELEASE</code>.</p>\n\n<h3>1. Working example</h3>\n\n<pre class=\"lang-java prettyprint-override\"><code>import org.junit.Test;\nimport org.junit.runner.RunWith;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.test.context.SpringBootTest;\nimport org.springframework.cloud.contract.wiremock.AutoConfigureWireMock;\nimport org.springframework.core.env.Environment;\nimport org.springframework.test.context.junit4.SpringRunner;\n\nimport static org.assertj.core.api.Assertions.assertThat;\nimport static org.springframework.boot.test.context.SpringBootTest.WebEnvironment.RANDOM_PORT;\n\n@RunWith(SpringRunner.class)\n@SpringBootTest(webEnvironment = RANDOM_PORT)\n@AutoConfigureWireMock(port = 0)\npublic class PortServiceTest {\n\n    @Autowired\n    private Environment environment;\n\n    @Test\n    public void shouldPopulateEnvironmentWithWiremockPort() {\n        assertThat(environment.containsProperty(\"wiremock.server.port\")).isTrue();\n        assertThat(environment.getProperty(\"wiremock.server.port\")).matches(\"\\\\d+\");\n    }\n\n}\n</code></pre>\n\n<h3>2. Other WireMock properties</h3>\n\n<p>Other than <code>wiremock.server.port</code>, <code>@AutoConfigureWireMock</code> populates the environment with some other properties too:</p>\n\n<ol>\n<li><code>wiremock.server.https-port</code></li>\n<li><code>wiremock.server.stubs[]</code></li>\n<li><code>wiremock.server.files[]</code></li>\n</ol>\n\n<h3>3. Gradle dependencies</h3>\n\n<p>To use Spring Cloud Contract WireMock in a Gradle based project, add the following dependency to your project:</p>\n\n<pre><code>testImplementation 'org.springframework.cloud:spring-cloud-contract-wiremock:${version}'\n</code></pre>\n\n<h3>4. Using in <code>application.yaml</code> files</h3>\n\n<p>If you configure your test <code>application.yaml</code> file like this:</p>\n\n<pre><code>sample:\n  port: ${wiremock.server.port}\n</code></pre>\n\n<p>And define the following beans:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Component\n@ConfigurationProperties(prefix = \"sample\")\n@Data\npublic class PortProperties {\n    private Integer port;\n}\n\n@Service\n@RequiredArgsConstructor(onConstructor = @__(@Autowired))\npublic class PortService {\n    private final PortProperties config;\n\n    public Integer getPort() {\n        return config.getPort();\n    }\n}\n</code></pre>\n\n<p>You can verify that <code>sample.port</code> is set to the randomly chosen wiremock port:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@RunWith(SpringRunner.class)\n@SpringBootTest(webEnvironment = RANDOM_PORT)\n@AutoConfigureWireMock(port = 0)\npublic class PortServiceTest {\n    @Autowired\n    private Environment environment;\n\n    @Autowired\n    private PortService portService;\n\n    @Test\n    public void shouldReturnWireMockPort() {\n        assertThat(portService.getPort())\n                .isNotNull()\n                .isEqualTo(Integer.parseInt(environment.getProperty(\"wiremock.server.port\")));\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15663131,"reputation":71,"user_id":11301601,"display_name":"jiaoshang"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674509226,"creation_date":1674509226,"answer_id":75215227,"question_id":48707625,"body_markdown":"When you use org.springframework.cloud:spring-cloud-contract-wiremock dependency, if you are a fan of annotation, you can just add `@AutoConfigureWireMock(port = Options.DYNAMIC_PORT)`\r\n\r\n","title":"Set property with wiremock random port in spring boot test","body":"<p>When you use org.springframework.cloud:spring-cloud-contract-wiremock dependency, if you are a fan of annotation, you can just add <code>@AutoConfigureWireMock(port = Options.DYNAMIC_PORT)</code></p>\n"},{"tags":[],"owner":{"account_id":1108575,"reputation":796,"user_id":1099452,"accept_rate":100,"display_name":"lucasvc"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1678105996,"creation_date":1678105996,"answer_id":75650900,"question_id":48707625,"body_markdown":"In my use case (not using `SpringBootTest` annotation but `SpringJUnitConfig`) the property `wiremock.server.port` is valued to `0`.\r\n\r\nInstead, using the SpEL `#{wireMockServer.port}` worked correctly.","title":"Set property with wiremock random port in spring boot test","body":"<p>In my use case (not using <code>SpringBootTest</code> annotation but <code>SpringJUnitConfig</code>) the property <code>wiremock.server.port</code> is valued to <code>0</code>.</p>\n<p>Instead, using the SpEL <code>#{wireMockServer.port}</code> worked correctly.</p>\n"},{"tags":[],"owner":{"account_id":3056393,"reputation":127,"user_id":2589891,"display_name":"Vijay Kesanupalli"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679236802,"creation_date":1679236802,"answer_id":75782746,"question_id":48707625,"body_markdown":"    Thanks to brauls, refereeing to his repo, how feign client to make a request using wiremock, Junit 5 for testing with a random port\r\n    \r\n    Git url --&gt; https://github.com/brauls/spring-feign-wiremock-example\r\n    \r\n    Add below entry in pom.xml\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-cloud-contract-wiremock&lt;/artifactId&gt;\r\n        &lt;version&gt;${spring-cloud-contract-wiremock.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    \r\n    Add below entry in application-test.yaml\r\n\r\n    client:\r\n      endpoint: http://localhost:${wiremock.server.port}/\r\n    \r\n    Add below entry in all the junit classes\r\n\r\n    @SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\r\n    @ActiveProfiles(&quot;test&quot;)\r\n    @AutoConfigureWireMock(port = 0)  \r\n    \r\n    \r\n    Add below method to mock the api respons in your junit classes where ever needed\r\n    \r\n    @BeforeEach\r\n    void setUp() throws IOException {\r\n         setupMockBooksResponse();\r\n    }\r\n    \r\n    private  String setupMockBooksResponse() throws IOException {\r\n        File mockResposeFile = ResourceUtils.getFile(&quot;classpath:&quot; + &quot;mocks/sample_stub.json&quot;);\r\n        String content = &quot;convert file content it into xml\\json&quot;;\r\n        ObjectMapper om = new ObjectMapper();\r\n        String jsonInString = om.writeValueAsString(&quot;yourpojocloass&quot;);\r\n        return stubFor(post(&quot;/api/v2/&quot;)\r\n                .withHeader(&quot;Content-Type&quot;, equalTo(&quot;application/json&quot;))\r\n                .withHeader(&quot;Accept&quot;, equalTo(&quot;application/json&quot;))\r\n                .withRequestBody(WireMock.equalToJson(jsonInString))\r\n                .willReturn(WireMock.aResponse()\r\n                        .withStatus(HttpStatus.OK.value())\r\n                        .withHeader(&quot;Content-Type&quot;, MediaType.APPLICATION_JSON_VALUE)\r\n                        .withBody(content))).toString();\r\n    }\r\n\r\n","title":"Set property with wiremock random port in spring boot test","body":"<pre><code>Thanks to brauls, refereeing to his repo, how feign client to make a request using wiremock, Junit 5 for testing with a random port\n\nGit url --&gt; https://github.com/brauls/spring-feign-wiremock-example\n\nAdd below entry in pom.xml\n\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-cloud-contract-wiremock&lt;/artifactId&gt;\n    &lt;version&gt;${spring-cloud-contract-wiremock.version}&lt;/version&gt;\n&lt;/dependency&gt;\n\nAdd below entry in application-test.yaml\n\nclient:\n  endpoint: http://localhost:${wiremock.server.port}/\n\nAdd below entry in all the junit classes\n\n@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\n@ActiveProfiles(&quot;test&quot;)\n@AutoConfigureWireMock(port = 0)  \n\n\nAdd below method to mock the api respons in your junit classes where ever needed\n\n@BeforeEach\nvoid setUp() throws IOException {\n     setupMockBooksResponse();\n}\n\nprivate  String setupMockBooksResponse() throws IOException {\n    File mockResposeFile = ResourceUtils.getFile(&quot;classpath:&quot; + &quot;mocks/sample_stub.json&quot;);\n    String content = &quot;convert file content it into xml\\json&quot;;\n    ObjectMapper om = new ObjectMapper();\n    String jsonInString = om.writeValueAsString(&quot;yourpojocloass&quot;);\n    return stubFor(post(&quot;/api/v2/&quot;)\n            .withHeader(&quot;Content-Type&quot;, equalTo(&quot;application/json&quot;))\n            .withHeader(&quot;Accept&quot;, equalTo(&quot;application/json&quot;))\n            .withRequestBody(WireMock.equalToJson(jsonInString))\n            .willReturn(WireMock.aResponse()\n                    .withStatus(HttpStatus.OK.value())\n                    .withHeader(&quot;Content-Type&quot;, MediaType.APPLICATION_JSON_VALUE)\n                    .withBody(content))).toString();\n}\n</code></pre>\n"}],"owner":{"account_id":279277,"reputation":2627,"user_id":574351,"accept_rate":78,"display_name":"Nicola Ambrosetti"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44895,"favorite_count":0,"down_vote_count":1,"up_vote_count":22,"accepted_answer_id":48859553,"answer_count":9,"score":21,"last_activity_date":1679236802,"creation_date":1518184949,"question_id":48707625,"body_markdown":"I have a Spring Boot test that uses wiremock to mock an external service. In order to avoid conflicts with parallel builds I don&#39;t want to set a fixed port number for wiremock and would like to rely on its dynamic port configuration.\r\n\r\nThe application uses a property (`external.baseUrl`) set in the application.yml (under src/test/resources). However I didn&#39;t find a way to programmatically override that. I&#39;ve tried something like this:\r\n\r\n        WireMockServer wireMockServer = new WireMockServer();\r\n        wireMockServer.start();\r\n        WireMock mockClient = new WireMock(&quot;localhost&quot;, wireMockServer.port());\r\n        System.setProperty(&quot;external.baseUrl&quot;, &quot;http://localhost:&quot; + wireMockServer.port());\r\n\r\nbut it didn&#39;t work and the value in application.yml was used instead. All other solutions that I&#39;ve looked at override the property with a static value (for example in some annotation), but I don&#39;t know the value of the wiremock port until the test is run.\n\n**Clarification:**\n\nBoth spring boot and wiremock run on random ports. *That&#39;s fine and I know how to get the value of both ports*. However wiremock is supposed to mock an external service and I need to tell my application how to reach it. I do this with the `external.baseUrl` property. The value I want to set in my test depends of course on the wiremock port number. **My problem is simply how to programmatically set a property in a spring boot test**.","title":"Set property with wiremock random port in spring boot test","body":"<p>I have a Spring Boot test that uses wiremock to mock an external service. In order to avoid conflicts with parallel builds I don't want to set a fixed port number for wiremock and would like to rely on its dynamic port configuration.</p>\n\n<p>The application uses a property (<code>external.baseUrl</code>) set in the application.yml (under src/test/resources). However I didn't find a way to programmatically override that. I've tried something like this:</p>\n\n<pre><code>    WireMockServer wireMockServer = new WireMockServer();\n    wireMockServer.start();\n    WireMock mockClient = new WireMock(\"localhost\", wireMockServer.port());\n    System.setProperty(\"external.baseUrl\", \"http://localhost:\" + wireMockServer.port());\n</code></pre>\n\n<p>but it didn't work and the value in application.yml was used instead. All other solutions that I've looked at override the property with a static value (for example in some annotation), but I don't know the value of the wiremock port until the test is run.</p>\n\n<p><strong>Clarification:</strong></p>\n\n<p>Both spring boot and wiremock run on random ports. <em>That's fine and I know how to get the value of both ports</em>. However wiremock is supposed to mock an external service and I need to tell my application how to reach it. I do this with the <code>external.baseUrl</code> property. The value I want to set in my test depends of course on the wiremock port number. <strong>My problem is simply how to programmatically set a property in a spring boot test</strong>.</p>\n"},{"tags":["java","loops","logic","nested-loops"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1421135480,"post_id":27917194,"comment_id":44232715,"body_markdown":"look at the code in doSomething. that should clear it up","body":"look at the code in doSomething. that should clear it up"},{"owner":{"account_id":2818342,"reputation":299838,"user_id":2422776,"display_name":"Mureinik"},"score":0,"creation_date":1421135524,"post_id":27917194,"comment_id":44232730,"body_markdown":"You are explicitly breaking out of it and back to the main loop at the end of the `if`...","body":"You are explicitly breaking out of it and back to the main loop at the end of the <code>if</code>..."},{"owner":{"account_id":1263831,"reputation":388998,"user_id":1221571,"accept_rate":67,"display_name":"Eran"},"score":0,"creation_date":1421136827,"post_id":27917194,"comment_id":44233251,"body_markdown":"Can you show the code of `doSomething`?","body":"Can you show the code of <code>doSomething</code>?"}],"answers":[{"tags":[],"owner":{"account_id":1263831,"reputation":388998,"user_id":1221571,"accept_rate":67,"display_name":"Eran"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1421138492,"creation_date":1421135449,"answer_id":27917229,"question_id":27917194,"body_markdown":"You have a condition in the inner loop - `if(flag)` - which, if true, breaks from that loop. That&#39;s the reason the inner loop doesn&#39;t complete. It doesn&#39;t run &quot;randomly&quot;. Its behavior depends on the result of the `doSomething(i*j)` method call.\r\n\r\nRunning your code with some additional debug prints and the implementation of `doSomething` you claim to have :\r\n\r\n      int product=0;\r\n      mainloop:\r\n      for(int i=999;i&gt;99;i--){\r\n        System.out.print (&quot;\\n&quot;+i+&quot;:&quot;);\r\n        for(int j=999;j&gt;99;j--){\r\n          System.out.print (j+&quot;,&quot;);\r\n          boolean flag= doSomething(i*j);\r\n          if(flag){\r\n            product=i*j;\r\n            System.out.println(&quot;\\nDigits are: &quot;+i+&quot; and &quot;+j);\r\n            break mainloop;\r\n          }\r\n        }\r\n      }\r\n\r\n      public static boolean doSomething(int k)\r\n      {\r\n          return k == 913*993;\r\n      }\r\n\r\ngives the expected output:\r\n\r\n    999:999,998,997,996,995,994,993,992,991,990,989,988,987,986,985,984,983,982,981,980,...,120,119,118,117,116,115,114,113,112,111,110,109,108,107,106,105,104,103,102,101,100,\r\n    998:999,998,997,996,995,994,993,992,991,990,989,988,987,986,985,984,983,982,981,980,...,120,119,118,117,116,115,114,113,112,111,110,109,108,107,106,105,104,103,102,101,100,\r\n    997:999,998,997,996,995,994,993,992,991,990,989,988,987,986,985,984,983,982,981,980,...,120,119,118,117,116,115,114,113,112,111,110,109,108,107,106,105,104,103,102,101,100,\r\n    996:999,998,997,996,995,994,993,992,991,990,989,988,987,986,985,984,983,982,981,980,...,120,119,118,117,116,115,114,113,112,111,110,109,108,107,106,105,104,103,102,101,100,\r\n    995:999,998,997,996,995,994,993,992,991,990,989,988,987,986,985,984,983,982,981,980,...,120,119,118,117,116,115,114,113,112,111,110,109,108,107,106,105,104,103,102,101,100,\r\n    994:999,998,997,996,995,994,993,992,991,990,989,988,987,986,985,984,983,982,981,980,...,120,119,118,117,116,115,114,113,112,111,110,109,108,107,106,105,104,103,102,101,100,\r\n    993:999,998,997,996,995,994,993,992,991,990,989,988,987,986,985,984,983,982,981,980,979,978,977,976,975,974,973,972,971,970,969,968,967,966,965,964,963,962,961,960,959,958,957,956,955,954,953,952,951,950,949,948,947,946,945,944,943,942,941,940,939,938,937,936,935,934,933,932,931,930,929,928,927,926,925,924,923,922,921,920,919,918,917,916,915,914,913,\r\n    Digits are: 993 and 913\r\n\r\n\r\nEDIT, `doSomething` you posted returns true when i==995 and j==583. That&#39;s when you break the loop.","title":"Nested loop not iterating properly","body":"<p>You have a condition in the inner loop - <code>if(flag)</code> - which, if true, breaks from that loop. That's the reason the inner loop doesn't complete. It doesn't run \"randomly\". Its behavior depends on the result of the <code>doSomething(i*j)</code> method call.</p>\n\n<p>Running your code with some additional debug prints and the implementation of <code>doSomething</code> you claim to have :</p>\n\n<pre><code>  int product=0;\n  mainloop:\n  for(int i=999;i&gt;99;i--){\n    System.out.print (\"\\n\"+i+\":\");\n    for(int j=999;j&gt;99;j--){\n      System.out.print (j+\",\");\n      boolean flag= doSomething(i*j);\n      if(flag){\n        product=i*j;\n        System.out.println(\"\\nDigits are: \"+i+\" and \"+j);\n        break mainloop;\n      }\n    }\n  }\n\n  public static boolean doSomething(int k)\n  {\n      return k == 913*993;\n  }\n</code></pre>\n\n<p>gives the expected output:</p>\n\n<pre><code>999:999,998,997,996,995,994,993,992,991,990,989,988,987,986,985,984,983,982,981,980,...,120,119,118,117,116,115,114,113,112,111,110,109,108,107,106,105,104,103,102,101,100,\n998:999,998,997,996,995,994,993,992,991,990,989,988,987,986,985,984,983,982,981,980,...,120,119,118,117,116,115,114,113,112,111,110,109,108,107,106,105,104,103,102,101,100,\n997:999,998,997,996,995,994,993,992,991,990,989,988,987,986,985,984,983,982,981,980,...,120,119,118,117,116,115,114,113,112,111,110,109,108,107,106,105,104,103,102,101,100,\n996:999,998,997,996,995,994,993,992,991,990,989,988,987,986,985,984,983,982,981,980,...,120,119,118,117,116,115,114,113,112,111,110,109,108,107,106,105,104,103,102,101,100,\n995:999,998,997,996,995,994,993,992,991,990,989,988,987,986,985,984,983,982,981,980,...,120,119,118,117,116,115,114,113,112,111,110,109,108,107,106,105,104,103,102,101,100,\n994:999,998,997,996,995,994,993,992,991,990,989,988,987,986,985,984,983,982,981,980,...,120,119,118,117,116,115,114,113,112,111,110,109,108,107,106,105,104,103,102,101,100,\n993:999,998,997,996,995,994,993,992,991,990,989,988,987,986,985,984,983,982,981,980,979,978,977,976,975,974,973,972,971,970,969,968,967,966,965,964,963,962,961,960,959,958,957,956,955,954,953,952,951,950,949,948,947,946,945,944,943,942,941,940,939,938,937,936,935,934,933,932,931,930,929,928,927,926,925,924,923,922,921,920,919,918,917,916,915,914,913,\nDigits are: 993 and 913\n</code></pre>\n\n<p>EDIT, <code>doSomething</code> you posted returns true when i==995 and j==583. That's when you break the loop.</p>\n"}],"owner":{"account_id":1705386,"reputation":5807,"user_id":1564528,"accept_rate":30,"display_name":"Just_another_developer"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":456,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679236320,"creation_date":1421135303,"question_id":27917194,"body_markdown":"I have this piece of Code in which there are two loops &#39;i&#39; and &#39;j&#39;.\r\n\r\n&#39;j&#39; is the inner loop variable and it supposed to run 999 to 100 on single run of outer loop.\r\n\r\nbut it runs randomly like,\r\nsuppose i=999\r\n\r\n    j=912\r\n    j=911\r\n    j=910\r\n    j=909\r\n    j=908\r\n    j=907\r\n    j=906\r\n\r\nThen suddenly inner loop quits, decrements by 1 from outer loop and makes `i=998`\r\n\r\nthen start &#39;j&#39; loop\r\n\r\n    j=908\r\n    j=907\r\n    j=906\r\n    j=905\r\n    j=906\r\n    j=905\r\n    j=904\r\n    j=903\r\n    j=902\r\n\r\nthen quits inner loop ................\r\n      \r\n\t\tint product=0;\r\n\t\tmainloop:\r\n\t\tfor(int i=999;i&gt;99;i--){\r\n\t\t\tfor(int j=999;j&gt;99;j--){\r\n\t\t\t\tboolean flag= doSomething(i*j);\r\n\t\t\t\tif(flag){\r\n\t\t\t\t\tproduct=i*j;\r\n\t\t\t\t\tSystem.out.println(&quot;Digits are: &quot;+i+&quot; and &quot;+j);\r\n\t\t\t\t\tbreak mainloop;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n     public  boolean doSomething(int product){\r\n\t\t\tString original= Integer.toString(product),reverse=&quot;&quot;;\r\n\t\t\tint length = original.length();\r\n\t\t\tfor ( int i = length - 1; i &gt;= 0; i-- )\r\n\t\t\t\treverse = reverse + original.charAt(i);\r\n\t\t\treturn (original.equals(reverse));\r\n\t\t\t\t\r\n\t\t\t\r\n\t\t}\r\n\r\n\r\nwhy is it happening? why inner loop doesnot complete cycle from 999 to 100? \r\n\r\n**EDIT:** To clear, &#39;flag&#39; will be true only if j=913 and i=993 , this is the main issue that loop doesn&#39;t break at this point because &#39;j&#39; never comes to 913 but it randomly generates number.Moreover &#39;break&#39; will break the mainloop not only the inner loop.\r\n\r\n\r\n","title":"Nested loop not iterating properly","body":"<p>I have this piece of Code in which there are two loops 'i' and 'j'.</p>\n<p>'j' is the inner loop variable and it supposed to run 999 to 100 on single run of outer loop.</p>\n<p>but it runs randomly like,\nsuppose i=999</p>\n<pre><code>j=912\nj=911\nj=910\nj=909\nj=908\nj=907\nj=906\n</code></pre>\n<p>Then suddenly inner loop quits, decrements by 1 from outer loop and makes <code>i=998</code></p>\n<p>then start 'j' loop</p>\n<pre><code>j=908\nj=907\nj=906\nj=905\nj=906\nj=905\nj=904\nj=903\nj=902\n</code></pre>\n<p>then quits inner loop ................</p>\n<pre><code>    int product=0;\n    mainloop:\n    for(int i=999;i&gt;99;i--){\n        for(int j=999;j&gt;99;j--){\n            boolean flag= doSomething(i*j);\n            if(flag){\n                product=i*j;\n                System.out.println(&quot;Digits are: &quot;+i+&quot; and &quot;+j);\n                break mainloop;\n            }\n        }\n    }\n\n public  boolean doSomething(int product){\n        String original= Integer.toString(product),reverse=&quot;&quot;;\n        int length = original.length();\n        for ( int i = length - 1; i &gt;= 0; i-- )\n            reverse = reverse + original.charAt(i);\n        return (original.equals(reverse));\n            \n        \n    }\n</code></pre>\n<p>why is it happening? why inner loop doesnot complete cycle from 999 to 100?</p>\n<p><strong>EDIT:</strong> To clear, 'flag' will be true only if j=913 and i=993 , this is the main issue that loop doesn't break at this point because 'j' never comes to 913 but it randomly generates number.Moreover 'break' will break the mainloop not only the inner loop.</p>\n"},{"tags":["java","android","firebase","firebase-realtime-database"],"comments":[{"owner":{"account_id":2843880,"reputation":5219,"user_id":2442831,"display_name":"Lino"},"score":2,"creation_date":1679232828,"post_id":75782314,"comment_id":133680675,"body_markdown":"if the app is crashing then please add the stacktrace. Thanks","body":"if the app is crashing then please add the stacktrace. Thanks"},{"owner":{"account_id":21041779,"reputation":17,"user_id":15464022,"display_name":"Abdul Basit"},"score":0,"creation_date":1679232902,"post_id":75782314,"comment_id":133680685,"body_markdown":"no application is working ok its just not showing the data from firebase","body":"no application is working ok its just not showing the data from firebase"},{"owner":{"account_id":1077685,"reputation":2777,"user_id":1075466,"accept_rate":58,"display_name":"Lawrence Gimenez"},"score":1,"creation_date":1679233361,"post_id":75782314,"comment_id":133680754,"body_markdown":"Can you include the Firebase database structure since we don&#39;t have any idea if your code structure is correct or not.","body":"Can you include the Firebase database structure since we don&#39;t have any idea if your code structure is correct or not."},{"owner":{"account_id":21041779,"reputation":17,"user_id":15464022,"display_name":"Abdul Basit"},"score":0,"creation_date":1679234827,"post_id":75782314,"comment_id":133680965,"body_markdown":"i am allowing the users to sign in through email and password","body":"i am allowing the users to sign in through email and password"},{"owner":{"account_id":21041779,"reputation":17,"user_id":15464022,"display_name":"Abdul Basit"},"score":0,"creation_date":1679235624,"post_id":75782314,"comment_id":133681087,"body_markdown":"i have added the the signin activity code","body":"i have added the the signin activity code"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1679298558,"post_id":75782314,"comment_id":133689639,"body_markdown":"I&#39;m having a hard time understanding what the problem is. What exactly in this code doesn&#39;t work the way you expect?\nTell us what is wrong with shared code. Do you have any errors?","body":"I&#39;m having a hard time understanding what the problem is. What exactly in this code doesn&#39;t work the way you expect? Tell us what is wrong with shared code. Do you have any errors?"}],"owner":{"account_id":21041779,"reputation":17,"user_id":15464022,"display_name":"Abdul Basit"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679235478,"creation_date":1679232557,"question_id":75782314,"body_markdown":"hi there I am trying to fetch the data from Firebase but it is not fetching the data.\r\nBelow the java code I&#39;m using:\r\n\r\n    package com.example.cashiya;\r\n\r\n\r\n\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_dashboard);\r\n        drawerLayout = findViewById(R.id.drawerlayout);\r\n        navigationView = findViewById(R.id.drawer);\r\n        dalyCheckCard = findViewById(R.id.dailycheckcard);\r\n        luckyCard = findViewById(R.id.luckyspincard);\r\n        taskCard = findViewById(R.id.taskcard);\r\n        redeemCard = findViewById(R.id.redeemcard);\r\n        watchCard = findViewById(R.id.watchcard);\r\n        aboutCard = findViewById(R.id.aboutcard);\r\n        referCard = findViewById(R.id.referalcard);\r\n        profileImage = findViewById(R.id.profileImg);\r\n        coinsTv = findViewById(R.id.coinTv);\r\n        toolbar = findViewById(R.id.toolBar);\r\n        nameTv = findViewById(R.id.nameTV);\r\n        emailTv = findViewById(R.id.emailTV);\r\n        setSupportActionBar(toolbar);\r\n        FirebaseAuth auth = FirebaseAuth.getInstance();\r\n        user = auth.getCurrentUser();\r\n        reference = FirebaseDatabase.getInstance().getReference().child(&quot;users&quot;);\r\n        getDataFromDatabase();\r\n\r\n\r\n        ActionBarDrawerToggle toggle = new ActionBarDrawerToggle(\r\n                DashboardActivity.this, drawerLayout, toolbar,\r\n                R.string.opendrawer, R.string.closedrawer);\r\n        drawerLayout.addDrawerListener(toggle);\r\n        toggle.syncState();\r\n\r\n        navigationView.setNavigationItemSelectedListener(new NavigationView.OnNavigationItemSelectedListener() {\r\n            @Override\r\n            public boolean onNavigationItemSelected(MenuItem item) {\r\n                int id = item.getItemId();\r\n\r\n                if (id==R.id.dailycheckcard){\r\n                    Toast.makeText(DashboardActivity.this, &quot;Yar sabar karo hale kam ho reya&quot;, Toast.LENGTH_SHORT).show();\r\n                }\r\n                else if (id==R.id.luckyspincard){\r\n                    Toast.makeText(DashboardActivity.this, &quot;Yar sabar karo hale kam ho reya&quot;, Toast.LENGTH_SHORT).show();\r\n                }\r\n                else if (id==R.id.taskcard){\r\n                    Toast.makeText(DashboardActivity.this, &quot;Yar sabar karo hale kam ho reya&quot;, Toast.LENGTH_SHORT).show();\r\n                }\r\n                else if (id==R.id.referalcard){\r\n                    Toast.makeText(DashboardActivity.this, &quot;Yar sabar karo hale kam ho reya&quot;, Toast.LENGTH_SHORT).show();\r\n                }\r\n                else if (id==R.id.aboutcard){\r\n                    Toast.makeText(DashboardActivity.this, &quot;Yar sabar karo hale kam ho reya&quot;, Toast.LENGTH_SHORT).show();\r\n                }\r\n                else if (id==R.id.watchcard){\r\n                    Toast.makeText(DashboardActivity.this, &quot;Yar sabar karo hale kam ho reya&quot;, Toast.LENGTH_SHORT).show();\r\n                }\r\n                else {\r\n                    Toast.makeText(DashboardActivity.this, &quot;Sabar te hai hi nai&quot;, Toast.LENGTH_SHORT).show();\r\n                }\r\n\r\n\r\n\r\n\r\n                return true;\r\n            }\r\n        });\r\n\r\n    }\r\n\r\n    private void getDataFromDatabase(){\r\n        reference.child(user.getUid()).addValueEventListener(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(DataSnapshot snapshot) {\r\n                ProfileModel model = snapshot.getValue(ProfileModel.class);\r\n                nameTv.setText(model.getName());\r\n                emailTv.setText(model.getEmail());\r\n                coinsTv.setText(String.valueOf(model.getCoins()));\r\n                Glide.with(getApplicationContext())\r\n                        .load(model.getImage())\r\n                        .timeout(6000)\r\n                        .placeholder(R.drawable.ic_profile)\r\n                        .into(profileImage);\r\n\r\n\r\n\r\n\r\n            }\r\n\r\n            @Override\r\n            public void onCancelled(DatabaseError error) {\r\n                Toast.makeText(DashboardActivity.this, &quot;Error: &quot; +\r\n                        error.getMessage(), Toast.LENGTH_SHORT).show();\r\n                finish();\r\n\r\n            }\r\n        });\r\n    }\r\n}\r\n\r\n\r\nIt was working ok but when I add navigation bar then it stop fetching I am just trying to fetch user name and email from firebase. Application is not crashing its just not fetching the data from firebase.\r\n\r\n\r\n\r\n\r\nbellow is the sign in activity\r\n\r\n    package com.example.cashiya;\r\n\r\n\r\n\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_login);\r\n        register = findViewById(R.id.registerTv);\r\n        emailEdit = findViewById(R.id.emailEdit);\r\n        passwordEdit = findViewById(R.id.passwordEdit);\r\n        loginBtn = findViewById(R.id.loginBtn);\r\n        progressBar = findViewById(R.id.progressBar);\r\n\r\n\r\n        register.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                Intent intent = new Intent(LoginActivity.this, RegisterActivity.class);\r\n                startActivity(intent);\r\n            }\r\n        });\r\n\r\n\r\n        auth = FirebaseAuth.getInstance();\r\n\r\n        loginBtn.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                String email = emailEdit.getText().toString();\r\n                String password = passwordEdit.getText().toString();\r\n\r\n                if (email.isEmpty()){\r\n                    emailEdit.setError(&quot;Please enter valid E-Mail&quot;);\r\n                    return;\r\n                }\r\n                if (password.isEmpty()){\r\n                    passwordEdit.setError(&quot;Invalid Password&quot;);\r\n                    return;\r\n                }\r\n                signIn(email,password);\r\n            }\r\n        });\r\n    }\r\n    private void signIn(String email, String password){\r\n\r\n        progressBar.setVisibility(View.VISIBLE);\r\n\r\n       auth.signInWithEmailAndPassword(email, password).\r\n               addOnCompleteListener(new OnCompleteListener&lt;AuthResult&gt;() {\r\n           @Override\r\n           public void onComplete(Task&lt;AuthResult&gt; task) {\r\n\r\n               if (task.isSuccessful()){\r\n\r\n                   progressBar.setVisibility(View.GONE);\r\n\r\n                   Intent intent = new Intent(LoginActivity.this, DashboardActivity.class);\r\n                   startActivity(intent);\r\n\r\n               }else {\r\n                   progressBar.setVisibility(View.GONE);\r\n                   Toast.makeText(LoginActivity.this, &quot;Error: &quot; +\r\n                           task.getException().getMessage(), Toast.LENGTH_SHORT).show();\r\n               }\r\n\r\n           }\r\n       });\r\n    }\r\n}\r\n\r\n\r\n","title":"My android application is not fetching the data from firebase","body":"<p>hi there I am trying to fetch the data from Firebase but it is not fetching the data.\nBelow the java code I'm using:</p>\n<pre><code>package com.example.cashiya;\n\n\n\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_dashboard);\n    drawerLayout = findViewById(R.id.drawerlayout);\n    navigationView = findViewById(R.id.drawer);\n    dalyCheckCard = findViewById(R.id.dailycheckcard);\n    luckyCard = findViewById(R.id.luckyspincard);\n    taskCard = findViewById(R.id.taskcard);\n    redeemCard = findViewById(R.id.redeemcard);\n    watchCard = findViewById(R.id.watchcard);\n    aboutCard = findViewById(R.id.aboutcard);\n    referCard = findViewById(R.id.referalcard);\n    profileImage = findViewById(R.id.profileImg);\n    coinsTv = findViewById(R.id.coinTv);\n    toolbar = findViewById(R.id.toolBar);\n    nameTv = findViewById(R.id.nameTV);\n    emailTv = findViewById(R.id.emailTV);\n    setSupportActionBar(toolbar);\n    FirebaseAuth auth = FirebaseAuth.getInstance();\n    user = auth.getCurrentUser();\n    reference = FirebaseDatabase.getInstance().getReference().child(&quot;users&quot;);\n    getDataFromDatabase();\n\n\n    ActionBarDrawerToggle toggle = new ActionBarDrawerToggle(\n            DashboardActivity.this, drawerLayout, toolbar,\n            R.string.opendrawer, R.string.closedrawer);\n    drawerLayout.addDrawerListener(toggle);\n    toggle.syncState();\n\n    navigationView.setNavigationItemSelectedListener(new NavigationView.OnNavigationItemSelectedListener() {\n        @Override\n        public boolean onNavigationItemSelected(MenuItem item) {\n            int id = item.getItemId();\n\n            if (id==R.id.dailycheckcard){\n                Toast.makeText(DashboardActivity.this, &quot;Yar sabar karo hale kam ho reya&quot;, Toast.LENGTH_SHORT).show();\n            }\n            else if (id==R.id.luckyspincard){\n                Toast.makeText(DashboardActivity.this, &quot;Yar sabar karo hale kam ho reya&quot;, Toast.LENGTH_SHORT).show();\n            }\n            else if (id==R.id.taskcard){\n                Toast.makeText(DashboardActivity.this, &quot;Yar sabar karo hale kam ho reya&quot;, Toast.LENGTH_SHORT).show();\n            }\n            else if (id==R.id.referalcard){\n                Toast.makeText(DashboardActivity.this, &quot;Yar sabar karo hale kam ho reya&quot;, Toast.LENGTH_SHORT).show();\n            }\n            else if (id==R.id.aboutcard){\n                Toast.makeText(DashboardActivity.this, &quot;Yar sabar karo hale kam ho reya&quot;, Toast.LENGTH_SHORT).show();\n            }\n            else if (id==R.id.watchcard){\n                Toast.makeText(DashboardActivity.this, &quot;Yar sabar karo hale kam ho reya&quot;, Toast.LENGTH_SHORT).show();\n            }\n            else {\n                Toast.makeText(DashboardActivity.this, &quot;Sabar te hai hi nai&quot;, Toast.LENGTH_SHORT).show();\n            }\n\n\n\n\n            return true;\n        }\n    });\n\n}\n\nprivate void getDataFromDatabase(){\n    reference.child(user.getUid()).addValueEventListener(new ValueEventListener() {\n        @Override\n        public void onDataChange(DataSnapshot snapshot) {\n            ProfileModel model = snapshot.getValue(ProfileModel.class);\n            nameTv.setText(model.getName());\n            emailTv.setText(model.getEmail());\n            coinsTv.setText(String.valueOf(model.getCoins()));\n            Glide.with(getApplicationContext())\n                    .load(model.getImage())\n                    .timeout(6000)\n                    .placeholder(R.drawable.ic_profile)\n                    .into(profileImage);\n\n\n\n\n        }\n\n        @Override\n        public void onCancelled(DatabaseError error) {\n            Toast.makeText(DashboardActivity.this, &quot;Error: &quot; +\n                    error.getMessage(), Toast.LENGTH_SHORT).show();\n            finish();\n\n        }\n    });\n}\n</code></pre>\n<p>}</p>\n<p>It was working ok but when I add navigation bar then it stop fetching I am just trying to fetch user name and email from firebase. Application is not crashing its just not fetching the data from firebase.</p>\n<p>bellow is the sign in activity</p>\n<pre><code>package com.example.cashiya;\n\n\n\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_login);\n    register = findViewById(R.id.registerTv);\n    emailEdit = findViewById(R.id.emailEdit);\n    passwordEdit = findViewById(R.id.passwordEdit);\n    loginBtn = findViewById(R.id.loginBtn);\n    progressBar = findViewById(R.id.progressBar);\n\n\n    register.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            Intent intent = new Intent(LoginActivity.this, RegisterActivity.class);\n            startActivity(intent);\n        }\n    });\n\n\n    auth = FirebaseAuth.getInstance();\n\n    loginBtn.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            String email = emailEdit.getText().toString();\n            String password = passwordEdit.getText().toString();\n\n            if (email.isEmpty()){\n                emailEdit.setError(&quot;Please enter valid E-Mail&quot;);\n                return;\n            }\n            if (password.isEmpty()){\n                passwordEdit.setError(&quot;Invalid Password&quot;);\n                return;\n            }\n            signIn(email,password);\n        }\n    });\n}\nprivate void signIn(String email, String password){\n\n    progressBar.setVisibility(View.VISIBLE);\n\n   auth.signInWithEmailAndPassword(email, password).\n           addOnCompleteListener(new OnCompleteListener&lt;AuthResult&gt;() {\n       @Override\n       public void onComplete(Task&lt;AuthResult&gt; task) {\n\n           if (task.isSuccessful()){\n\n               progressBar.setVisibility(View.GONE);\n\n               Intent intent = new Intent(LoginActivity.this, DashboardActivity.class);\n               startActivity(intent);\n\n           }else {\n               progressBar.setVisibility(View.GONE);\n               Toast.makeText(LoginActivity.this, &quot;Error: &quot; +\n                       task.getException().getMessage(), Toast.LENGTH_SHORT).show();\n           }\n\n       }\n   });\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","spring","drools"],"comments":[{"owner":{"account_id":183966,"reputation":14606,"user_id":419705,"accept_rate":67,"display_name":"Roddy of the Frozen Peas"},"score":0,"creation_date":1661363631,"post_id":73470141,"comment_id":129757118,"body_markdown":"Stream Closed indicates a problem with the FileInputStream, not anything Drools related.","body":"Stream Closed indicates a problem with the FileInputStream, not anything Drools related."}],"answers":[{"tags":[],"owner":{"account_id":27828380,"reputation":1,"user_id":21247291,"display_name":"Mdsb Mdzz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679233165,"creation_date":1679233165,"answer_id":75782369,"question_id":73470141,"body_markdown":"just remove the &quot;fis.close();&quot; line in your code.","title":"Drools upgrade: Stream Closed Exception","body":"<p>just remove the &quot;fis.close();&quot; line in your code.</p>\n"}],"owner":{"account_id":7511794,"reputation":1,"user_id":5706492,"display_name":"NewbieCoder"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679233165,"creation_date":1661330954,"question_id":73470141,"body_markdown":"I am trying to upgrade drools from 7.33.0 to 7.60.0. On upgrading I am seeing the following exception -\r\n\r\n```Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.kie.api.runtime.KieContainer]: Factory method &#39;kieContainer&#39; threw exception; nested exception is java.lang.RuntimeException: java.io.IOException: Stream Closed```\r\n\r\nMy code is something like this -\r\n\r\n```\r\nKieServices kieServices = KieServices.Factory.get();\r\nKieFileSystem kfs = kieServices.newKieFileSystem();\r\nFileInputStream fis = new FileInputStream(fileEntry.getPath());\r\nkfs.write(&quot;src/main/resources/&quot; + fileEntry.getName(), kieServices.getResources().newInputStreamResource(fis));\r\nfis.close();\r\n\r\nKieBuilder kieBuilder = kieServices.newKieBuilder(kfs).buildAll();  --&gt; Line where exception is thrown\r\n```\r\n\r\nHow can I get rid of this exception?","title":"Drools upgrade: Stream Closed Exception","body":"<p>I am trying to upgrade drools from 7.33.0 to 7.60.0. On upgrading I am seeing the following exception -</p>\n<p><code>Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.kie.api.runtime.KieContainer]: Factory method 'kieContainer' threw exception; nested exception is java.lang.RuntimeException: java.io.IOException: Stream Closed</code></p>\n<p>My code is something like this -</p>\n<pre><code>KieServices kieServices = KieServices.Factory.get();\nKieFileSystem kfs = kieServices.newKieFileSystem();\nFileInputStream fis = new FileInputStream(fileEntry.getPath());\nkfs.write(&quot;src/main/resources/&quot; + fileEntry.getName(), kieServices.getResources().newInputStreamResource(fis));\nfis.close();\n\nKieBuilder kieBuilder = kieServices.newKieBuilder(kfs).buildAll();  --&gt; Line where exception is thrown\n</code></pre>\n<p>How can I get rid of this exception?</p>\n"},{"tags":["java","large-files","project-panama"],"comments":[{"owner":{"account_id":4555218,"reputation":32585,"user_id":3699139,"display_name":"Jorn Vernee"},"score":2,"creation_date":1636748767,"post_id":69935426,"comment_id":123648698,"body_markdown":"For JDK 17, you could take a look at the MemoryAccess class: https://docs.oracle.com/en/java/javase/17/docs/api/jdk.incubator.foreign/jdk/incubator/foreign/MemoryAccess.html Alternatively, you could create a MemoryLayout, and use the [varhandle](https://docs.oracle.com/en/java/javase/17/docs/api/jdk.incubator.foreign/jdk/incubator/foreign/MemoryLayout.html#varHandle(java.lang.Class,jdk.incubator.foreign.MemoryLayout.PathElement...)) method to get a VarHandle that can be used to access certain fields (but for variable sized data you probably want to stick with the accessors in MemoryAccess).","body":"For JDK 17, you could take a look at the MemoryAccess class: <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/jdk.incubator.foreign/jdk/incubator/foreign/MemoryAccess.html\" rel=\"nofollow noreferrer\">docs.oracle.com/en/java/javase/17/docs/api/&hellip;</a> Alternatively, you could create a MemoryLayout, and use the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/jdk.incubator.foreign/jdk/incubator/foreign/MemoryLayout.html#varHandle(java.lang.Class,jdk.incubator.foreign.MemoryLayout.PathElement...)\" rel=\"nofollow noreferrer\">varhandle</a> method to get a VarHandle that can be used to access certain fields (but for variable sized data you probably want to stick with the accessors in MemoryAccess)."},{"owner":{"account_id":1511908,"reputation":650,"user_id":1413799,"display_name":"BradHards"},"score":0,"creation_date":1636750143,"post_id":69935426,"comment_id":123649068,"body_markdown":"Thanks Jorn. If you paste this into an  answer I&#39;ll accept it.","body":"Thanks Jorn. If you paste this into an  answer I&#39;ll accept it."}],"answers":[{"tags":[],"owner":{"account_id":9998366,"reputation":2256,"user_id":7395227,"accept_rate":100,"display_name":"Andreas moved to Codidact"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679232358,"creation_date":1679232358,"answer_id":75782287,"question_id":69935426,"body_markdown":"This question is already 1,5 years old, and concerns an API which is still evolving, and has not yet been finished. You probably made a decision by now, but it&#39;s never too late for an answer to your question.\r\n\r\nMy suggestion is the new FFM API being introduced into Java. It is this API that includes `MemorySegment`. This API is a replacement for JNI and the `ByteBuffer` APIs. It gives you much more control over memory management, is more deterministic, provides a much larger address space, and gives you more control over reading and writing primitives, the offsets at which you do this, and lets you create structured accessors for related primitive data in a segment.\r\n\r\nBe aware, however, that this API has just recently moved from the incubator phase into the preview phase. This means that the API is nearing completion, but is still not stable. It *will* change in upcoming Java versions, and so you will have to update your codebase for every new JDK. Your project will not be backwards- and forward-compatible until the API exits the preview state.\r\n\r\n&gt; it looks I&#39;ll need to create slice views to get anything I can read from (e.g. a byte array or ByteBuffer)\r\n\r\nThis is not the case. There are some examples in the [JEP](https://openjdk.org/jeps/442)s\r\n\r\n[`MemorySegment`](https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/lang/foreign/MemorySegment.html) provides direct access methods such as `set` (offset), `setAtIndex`, `get` (offset) and `getAtIndex` for primitives, subclasses of the sealed interface `Addressable`, and `MemoryAddress`. \r\n\r\nYou can also use `MemoryLayout` and `VarHandle` for structured access.\r\n\r\nYou have more options with the new `MemorySegment` API, than you&#39;re given with the `ByteBuffer` API.","title":"Patterns for efficient reading from Java MemorySegment","body":"<p>This question is already 1,5 years old, and concerns an API which is still evolving, and has not yet been finished. You probably made a decision by now, but it's never too late for an answer to your question.</p>\n<p>My suggestion is the new FFM API being introduced into Java. It is this API that includes <code>MemorySegment</code>. This API is a replacement for JNI and the <code>ByteBuffer</code> APIs. It gives you much more control over memory management, is more deterministic, provides a much larger address space, and gives you more control over reading and writing primitives, the offsets at which you do this, and lets you create structured accessors for related primitive data in a segment.</p>\n<p>Be aware, however, that this API has just recently moved from the incubator phase into the preview phase. This means that the API is nearing completion, but is still not stable. It <em>will</em> change in upcoming Java versions, and so you will have to update your codebase for every new JDK. Your project will not be backwards- and forward-compatible until the API exits the preview state.</p>\n<blockquote>\n<p>it looks I'll need to create slice views to get anything I can read from (e.g. a byte array or ByteBuffer)</p>\n</blockquote>\n<p>This is not the case. There are some examples in the <a href=\"https://openjdk.org/jeps/442\" rel=\"nofollow noreferrer\">JEP</a>s</p>\n<p><a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/lang/foreign/MemorySegment.html\" rel=\"nofollow noreferrer\"><code>MemorySegment</code></a> provides direct access methods such as <code>set</code> (offset), <code>setAtIndex</code>, <code>get</code> (offset) and <code>getAtIndex</code> for primitives, subclasses of the sealed interface <code>Addressable</code>, and <code>MemoryAddress</code>.</p>\n<p>You can also use <code>MemoryLayout</code> and <code>VarHandle</code> for structured access.</p>\n<p>You have more options with the new <code>MemorySegment</code> API, than you're given with the <code>ByteBuffer</code> API.</p>\n"}],"owner":{"account_id":1511908,"reputation":650,"user_id":1413799,"display_name":"BradHards"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":375,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679232358,"creation_date":1636667947,"question_id":69935426,"body_markdown":"I am working on using Java for reading of (potentially) large amounts of data from (potentially) large files - the scenario is uncompressed imagery from a file format like HEIF. Larger than 2G is likely. Writing is a future need, but this question is scoped to reading. \r\n\r\nThe HEIF format (which is derived from ISO Base Media File Format - ISO/IEC 14496-12) is variable sizes &quot;boxes&quot; - you read the length and kind of box, and do some parsing thing appropriate to the box. In my design, I&#39;ll parse out the small-ish boxes, and keep references to the bulk storage (`mdat`) offsets to be able to pull the data out for rendering / processing as requested.\r\n\r\nI&#39;m considering two options - multiple MappedByteBuffer (since that is 2G limited), and a single [MemorySegment][1] (from a memory mapped file). Its not clear to me which is likely to be more efficient. The MappedByteBuffer has all the nice ByteBuffer API, but I need to manage multiple entities. The MemorySegment will be a single entry, but it looks I&#39;ll need to create slice views to get anything I can read from (e.g. a byte array or ByteBuffer), which looks like a different version of the same problem. A secondary benefit for the MemorySegment is that it may lead to a nicer design when I need to use some other non-Java API (like feeding the imagery into a hardware encoder for compression). I also have the skeleton of the MemorySegment implemented and reading (just with some gross assumptions that I can turn it into a single ByteBuffer).\r\n\r\nAre there emerging patterns for efficient reading from a MemorySegment? Failing that, is there something I&#39;m missing in the MemorySegment API?\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/jdk.incubator.foreign/jdk/incubator/foreign/MemorySegment.html","title":"Patterns for efficient reading from Java MemorySegment","body":"<p>I am working on using Java for reading of (potentially) large amounts of data from (potentially) large files - the scenario is uncompressed imagery from a file format like HEIF. Larger than 2G is likely. Writing is a future need, but this question is scoped to reading.</p>\n<p>The HEIF format (which is derived from ISO Base Media File Format - ISO/IEC 14496-12) is variable sizes &quot;boxes&quot; - you read the length and kind of box, and do some parsing thing appropriate to the box. In my design, I'll parse out the small-ish boxes, and keep references to the bulk storage (<code>mdat</code>) offsets to be able to pull the data out for rendering / processing as requested.</p>\n<p>I'm considering two options - multiple MappedByteBuffer (since that is 2G limited), and a single <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/jdk.incubator.foreign/jdk/incubator/foreign/MemorySegment.html\" rel=\"nofollow noreferrer\">MemorySegment</a> (from a memory mapped file). Its not clear to me which is likely to be more efficient. The MappedByteBuffer has all the nice ByteBuffer API, but I need to manage multiple entities. The MemorySegment will be a single entry, but it looks I'll need to create slice views to get anything I can read from (e.g. a byte array or ByteBuffer), which looks like a different version of the same problem. A secondary benefit for the MemorySegment is that it may lead to a nicer design when I need to use some other non-Java API (like feeding the imagery into a hardware encoder for compression). I also have the skeleton of the MemorySegment implemented and reading (just with some gross assumptions that I can turn it into a single ByteBuffer).</p>\n<p>Are there emerging patterns for efficient reading from a MemorySegment? Failing that, is there something I'm missing in the MemorySegment API?</p>\n"},{"tags":["java","maven","deployment","gitlab-ci","maven-plugin"],"comments":[{"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"score":0,"creation_date":1679235531,"post_id":75782277,"comment_id":133681075,"body_markdown":"The 400 often means that you cannot deploy because either the artifact is already there, or the repository does only take Snapshots, but you deploy a Release (or vice versa).","body":"The 400 often means that you cannot deploy because either the artifact is already there, or the repository does only take Snapshots, but you deploy a Release (or vice versa)."},{"owner":{"account_id":8877206,"reputation":93,"user_id":6628911,"display_name":"Petr Štechm&#252;ller"},"score":0,"creation_date":1679236709,"post_id":75782277,"comment_id":133681265,"body_markdown":"Well, it&#39;s an interesting idea, but I can deploy a release of module if it has packaging set to jar or pom. Only issue is with maven-plugin. Also I&#39;m sure the artifact does not exists, because there are no artifacts.","body":"Well, it&#39;s an interesting idea, but I can deploy a release of module if it has packaging set to jar or pom. Only issue is with maven-plugin. Also I&#39;m sure the artifact does not exists, because there are no artifacts."}],"owner":{"account_id":8877206,"reputation":93,"user_id":6628911,"display_name":"Petr Štechm&#252;ller"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":125,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1679232071,"creation_date":1679232071,"question_id":75782277,"body_markdown":"I have a private Maven multi-module project hosted on GitLab. Now I decided to start creating versions of modules. When module has set **packaging** to *jar* or *pom*, the module is properly deployed to GitLab and version with it&#39;s tag is generated. But modules with **packaging** set to *maven-plugin*, because they are custom created Maven plugins, fails in deployment stage.\r\nFirst I though that this custom *maven-plugins* can not be released together with other &quot;normal&quot; modules, but this was false assumption. Even I try to release only this one project only with *maven-plugin*, deployment fails.\r\n\r\nHere is an error message with a reason why it fails:\r\n\r\n&gt; Failed to execute goal org.apache.maven.plugins:maven-deploy-plugin:3.0.0:deploy (default-deploy) on project XXX: Failed to deploy metadata: Could not transfer metadata XXX from/to gitlab-maven (https://gitlab.com/api/v4/projects/xxxxxxxx/packages/maven): status code: 400, reason phrase: Bad Request (400) -&gt; [Help 1]\r\n\r\nI do not quite understand why this is happening, because I&#39;m using exactly same configuration for my other modules and it&#39;s working correctly. Also if I just change **packaging** from *maven-plugin* to *jar*, than deployment is successful. So connection configuration should not be an issue.\r\n\r\nDoes anyone have experience with custom maven-plugin deployment on GitLab? I can provide **pom.xml** if necessary, but it mostly follows the documentation regarding to configuration for deployment.\r\n\r\nMany thanks,\r\nPetr","title":"How to deploy maven-plugin on GitLab","body":"<p>I have a private Maven multi-module project hosted on GitLab. Now I decided to start creating versions of modules. When module has set <strong>packaging</strong> to <em>jar</em> or <em>pom</em>, the module is properly deployed to GitLab and version with it's tag is generated. But modules with <strong>packaging</strong> set to <em>maven-plugin</em>, because they are custom created Maven plugins, fails in deployment stage.\nFirst I though that this custom <em>maven-plugins</em> can not be released together with other &quot;normal&quot; modules, but this was false assumption. Even I try to release only this one project only with <em>maven-plugin</em>, deployment fails.</p>\n<p>Here is an error message with a reason why it fails:</p>\n<blockquote>\n<p>Failed to execute goal org.apache.maven.plugins:maven-deploy-plugin:3.0.0:deploy (default-deploy) on project XXX: Failed to deploy metadata: Could not transfer metadata XXX from/to gitlab-maven (<a href=\"https://gitlab.com/api/v4/projects/xxxxxxxx/packages/maven\" rel=\"nofollow noreferrer\">https://gitlab.com/api/v4/projects/xxxxxxxx/packages/maven</a>): status code: 400, reason phrase: Bad Request (400) -&gt; [Help 1]</p>\n</blockquote>\n<p>I do not quite understand why this is happening, because I'm using exactly same configuration for my other modules and it's working correctly. Also if I just change <strong>packaging</strong> from <em>maven-plugin</em> to <em>jar</em>, than deployment is successful. So connection configuration should not be an issue.</p>\n<p>Does anyone have experience with custom maven-plugin deployment on GitLab? I can provide <strong>pom.xml</strong> if necessary, but it mostly follows the documentation regarding to configuration for deployment.</p>\n<p>Many thanks,\nPetr</p>\n"},{"tags":["java","spring","selenium-webdriver"],"comments":[{"owner":{"account_id":6077817,"reputation":1213,"user_id":4744568,"display_name":"pcalkins"},"score":0,"creation_date":1679074361,"post_id":75770460,"comment_id":133661788,"body_markdown":"You should have something like this somewhere in your code:  driver = new ChromeDriver();... along with options if you like.  You&#39;re over-complicating things here.  It sounds like you have a &quot;WebDriverFactory&quot; so you could just use that to return your driver instance.  Not sure why you&#39;re using these base classes and then extending them.","body":"You should have something like this somewhere in your code:  driver = new ChromeDriver();... along with options if you like.  You&#39;re over-complicating things here.  It sounds like you have a &quot;WebDriverFactory&quot; so you could just use that to return your driver instance.  Not sure why you&#39;re using these base classes and then extending them."},{"owner":{"account_id":23491472,"reputation":1,"user_id":17542433,"display_name":"Syed Abdul Raies"},"score":0,"creation_date":1679075297,"post_id":75770460,"comment_id":133661992,"body_markdown":"@Bean(\n        name = {&quot;chromeDriver&quot;}\n    )\n    @ConditionalOnProperty(\n        prefix = &quot;driver&quot;,\n        name = {&quot;type&quot;},\n        havingValue = &quot;chrome&quot;\n    )\n    public WebDriver chromeDriver() {\n        ChromeDriverOptions options = new ChromeDriverOptions();\n        this.driver = WebDriverManager.chromedriver().capabilities(options.setOptions(this.browserMode)).create();\n        this.driver.get(this.env);\n        return this.driver;\n    }\nIt is inside webdriver factory","body":"@Bean(         name = {&quot;chromeDriver&quot;}     )     @ConditionalOnProperty(         prefix = &quot;driver&quot;,         name = {&quot;type&quot;},         havingValue = &quot;chrome&quot;     )     public WebDriver chromeDriver() {         ChromeDriverOptions options = new ChromeDriverOptions();         this.driver = WebDriverManager.chromedriver().capabilities(options.setOpti&zwnj;&#8203;ons(this.browserMode&zwnj;&#8203;)).create();         this.driver.get(this.env);         return this.driver;     } It is inside webdriver factory"},{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":0,"creation_date":1679082655,"post_id":75770460,"comment_id":133663656,"body_markdown":"Please don&#39;t add comments to clarify, code is hard to read in comments. [Edit] your question instead. Make sure it&#39;s a [mcve].","body":"Please don&#39;t add comments to clarify, code is hard to read in comments. <a href=\"https://stackoverflow.com/posts/75770460/edit\">Edit</a> your question instead. Make sure it&#39;s a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"owner":{"account_id":23491472,"reputation":1,"user_id":17542433,"display_name":"Syed Abdul Raies"},"score":0,"creation_date":1679118812,"post_id":75770460,"comment_id":133667659,"body_markdown":"Sorry, First Time I posted a Question in Stack Overflow. The question is I&#39;m calling the Common class driver in the chrome option class. But the Chrome option class driver still throws null pointer exceptions. In the common class, the driver is already static.","body":"Sorry, First Time I posted a Question in Stack Overflow. The question is I&#39;m calling the Common class driver in the chrome option class. But the Chrome option class driver still throws null pointer exceptions. In the common class, the driver is already static."},{"owner":{"account_id":6077817,"reputation":1213,"user_id":4744568,"display_name":"pcalkins"},"score":0,"creation_date":1679336767,"post_id":75770460,"comment_id":133700399,"body_markdown":"I&#39;d suggest you not use common or chromedriveroptions classes.  Just use the webdriverfactory that will return the driver instance to use throughout your code.","body":"I&#39;d suggest you not use common or chromedriveroptions classes.  Just use the webdriverfactory that will return the driver instance to use throughout your code."}],"owner":{"account_id":23491472,"reputation":1,"user_id":17542433,"display_name":"Syed Abdul Raies"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":338,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679231245,"creation_date":1679073647,"question_id":75770460,"body_markdown":"Created WebDriver in common class and calling in chrome option class, But Throwing null pointer exception.\r\n\r\n````\r\n@Component\r\npublic class Common extends CommonClass {\r\n    private static final Logger log = LoggerFactory.getLogger(Common.class);\r\n    @Autowired\r\n    public static WebDriver driver; // This is where we creating webdriver and calling this webdriver in cromeoption class.\r\n\r\n    public static ChromeDriver driver1 = null;\r\n    public WebElement local_element = null;\r\n\r\n@Component\r\npublic class ChromeDriverOptions extends WebDriverFactory {\r\n    private static final Logger log = LoggerFactory.getLogger(ChromeDriverOptions.class);\r\n\r\n    public ChromeDriverOptions() {\r\n    }\r\n        List&lt;LogEntry&gt; entries = driver.manage().logs().get(&quot;performance&quot;).getAll(); //This driver still in null. Any suggestion giving life to this driver.\r\n\r\n}\r\n````\r\ndriver throwing is null pointer exception. Is this issue occurring by dependency compatibility?.\r\n\r\n","title":"Cannot invoke &quot;org.openqa.selenium.WebDriver.manage()&quot; because &quot;com.digite.actions.commands.Common.driver&quot; is null","body":"<p>Created WebDriver in common class and calling in chrome option class, But Throwing null pointer exception.</p>\n<pre><code>@Component\npublic class Common extends CommonClass {\n    private static final Logger log = LoggerFactory.getLogger(Common.class);\n    @Autowired\n    public static WebDriver driver; // This is where we creating webdriver and calling this webdriver in cromeoption class.\n\n    public static ChromeDriver driver1 = null;\n    public WebElement local_element = null;\n\n@Component\npublic class ChromeDriverOptions extends WebDriverFactory {\n    private static final Logger log = LoggerFactory.getLogger(ChromeDriverOptions.class);\n\n    public ChromeDriverOptions() {\n    }\n        List&lt;LogEntry&gt; entries = driver.manage().logs().get(&quot;performance&quot;).getAll(); //This driver still in null. Any suggestion giving life to this driver.\n\n}\n</code></pre>\n<p>driver throwing is null pointer exception. Is this issue occurring by dependency compatibility?.</p>\n"},{"tags":["java","eclipse","selenium-webdriver","selenium-chromedriver"],"comments":[{"owner":{"account_id":12360572,"reputation":1730,"user_id":9014957,"accept_rate":17,"display_name":"pburgr"},"score":0,"creation_date":1679309303,"post_id":75781582,"comment_id":133692408,"body_markdown":"Why the argument `--whitelisted-ips`? Try without both of the args.","body":"Why the argument <code>--whitelisted-ips</code>? Try without both of the args."}],"owner":{"account_id":5798268,"reputation":33,"user_id":4573325,"display_name":"Andrei Vartic"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":117,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1679231224,"creation_date":1679224445,"question_id":75781582,"body_markdown":"So i am using Eclipse as IDE, Java 17,\r\n Selenium 4.8.1 , \r\n ChromeDriver   111.0.5563.64  \r\n Chrome Browser  111.0.5563.65   \r\nI have set the paths as System Variables:  \r\n\r\n    C:\\Program Files\\Java\\jdk-19\\bin\r\n    C:\\az\\Chrome\r\n    C:\\az\\Selenium\r\n\r\nIn eclipse i have set as Java Build Path:\r\n\r\n    Modulepath: JRE System Library[Java 17]\r\n    Classpath:\r\n    chromediver.exe - C:\\az\\Chrome\r\n    selenium-java-4.8.1.jar - C:\\az\\Selenium\r\n    selenium-server-4.8.1.jar - C:\\az\\Selenium\r\n\r\nThis is my code :\r\n\r\n    package chromepackage;\r\n\r\n    import org.openqa.selenium.WebDriver;\r\n    import org.openqa.selenium.chrome.ChromeDriver;\r\n    import org.openqa.selenium.chrome.ChromeOptions;\r\n\r\n    public class ChromeClass {\r\n        public static void main(String[] args) {\r\n\r\n            ChromeOptions ops = new ChromeOptions();\r\n\r\n            ops.addArguments(&quot;--remote-allow-origins=*&quot;);\r\n            ops.addArguments(&quot;--whitelisted-ips=0.0.0.0&quot;);\r\n\r\n            System.setProperty(&quot;webdriver.chrome.driver&quot;,&quot;C:\\\\az\\\\Chrome\\\\chromedriver.exe&quot;);\r\n            WebDriver driver = new ChromeDriver();\r\n            driver.get(&quot;https://www.google.com/&quot;);\r\n\r\n        }\r\n    }\r\n\r\nAnd this is the error I get :\r\n\r\n```\r\nStarting ChromeDriver 111.0.5563.64 (c710e93d5b63b7095afe8c2c17df34408078439d-refs/branch-heads/5563@{#995}) on port 40083\r\n\r\nOnly local connections are allowed.\r\n\r\nPlease see https://chromedriver.chromium.org/security-considerations for suggestions on keeping ChromeDriver safe.\r\n\r\nChromeDriver was started successfully.\r\n\r\nMar 19, 2023 12:46:58 PM org.openqa.selenium.remote.http.WebSocket$Listener onError\r\n\r\nWARNING: Invalid Status code=403 text=Forbidden\r\n```\r\n\r\n\r\nI am trying to run my first script in Selenium + Java and a blank page appears.","title":"Why my first script in selenium is not working?","body":"<p>So i am using Eclipse as IDE, Java 17,\nSelenium 4.8.1 ,\nChromeDriver   111.0.5563.64<br />\nChrome Browser  111.0.5563.65<br />\nI have set the paths as System Variables:</p>\n<pre><code>C:\\Program Files\\Java\\jdk-19\\bin\nC:\\az\\Chrome\nC:\\az\\Selenium\n</code></pre>\n<p>In eclipse i have set as Java Build Path:</p>\n<pre><code>Modulepath: JRE System Library[Java 17]\nClasspath:\nchromediver.exe - C:\\az\\Chrome\nselenium-java-4.8.1.jar - C:\\az\\Selenium\nselenium-server-4.8.1.jar - C:\\az\\Selenium\n</code></pre>\n<p>This is my code :</p>\n<pre><code>package chromepackage;\n\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.chrome.ChromeDriver;\nimport org.openqa.selenium.chrome.ChromeOptions;\n\npublic class ChromeClass {\n    public static void main(String[] args) {\n\n        ChromeOptions ops = new ChromeOptions();\n\n        ops.addArguments(&quot;--remote-allow-origins=*&quot;);\n        ops.addArguments(&quot;--whitelisted-ips=0.0.0.0&quot;);\n\n        System.setProperty(&quot;webdriver.chrome.driver&quot;,&quot;C:\\\\az\\\\Chrome\\\\chromedriver.exe&quot;);\n        WebDriver driver = new ChromeDriver();\n        driver.get(&quot;https://www.google.com/&quot;);\n\n    }\n}\n</code></pre>\n<p>And this is the error I get :</p>\n<pre><code>Starting ChromeDriver 111.0.5563.64 (c710e93d5b63b7095afe8c2c17df34408078439d-refs/branch-heads/5563@{#995}) on port 40083\n\nOnly local connections are allowed.\n\nPlease see https://chromedriver.chromium.org/security-considerations for suggestions on keeping ChromeDriver safe.\n\nChromeDriver was started successfully.\n\nMar 19, 2023 12:46:58 PM org.openqa.selenium.remote.http.WebSocket$Listener onError\n\nWARNING: Invalid Status code=403 text=Forbidden\n</code></pre>\n<p>I am trying to run my first script in Selenium + Java and a blank page appears.</p>\n"},{"tags":["java","spring-boot","proxy","jackson","cglib"],"comments":[{"owner":{"account_id":1473276,"reputation":110999,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"score":0,"creation_date":1648155827,"post_id":71608233,"comment_id":126560155,"body_markdown":"I can’t see any reason for `MyObject` to have been proxied. Can you share all the code that’s necessary to reproduce the behaviour you have described?","body":"I can’t see any reason for <code>MyObject</code> to have been proxied. Can you share all the code that’s necessary to reproduce the behaviour you have described?"},{"owner":{"account_id":8868218,"reputation":928,"user_id":6622697,"display_name":"Peter Kronenberg"},"score":0,"creation_date":1648161263,"post_id":71608233,"comment_id":126561556,"body_markdown":"My understanding is that Spring creates a proxy when it creates an object using `@ConfigurationPropertie`s.  I pretty much posted all the code.  If you inject the MyObject bean and inspect it in the debugger or try to serialize it with Jackson, you should see the same thing I&#39;m seeing.","body":"My understanding is that Spring creates a proxy when it creates an object using <code>@ConfigurationPropertie</code>s.  I pretty much posted all the code.  If you inject the MyObject bean and inspect it in the debugger or try to serialize it with Jackson, you should see the same thing I&#39;m seeing."},{"owner":{"account_id":8868218,"reputation":928,"user_id":6622697,"display_name":"Peter Kronenberg"},"score":0,"creation_date":1648162646,"post_id":71608233,"comment_id":126561843,"body_markdown":"You are right.  I put together a simple app from Spring Initializr using my same classes and it works fine.  So what would cause Spring to proxy this object in my application?","body":"You are right.  I put together a simple app from Spring Initializr using my same classes and it works fine.  So what would cause Spring to proxy this object in my application?"},{"owner":{"account_id":1473276,"reputation":110999,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"score":0,"creation_date":1648203600,"post_id":71608233,"comment_id":126570340,"body_markdown":"Proxies are created for a variety of reasons (transaction management, method-level validation, etc). You could debug your application with a breakpoint on `org.springframework.aop.framework.DefaultAopProxyFactory.createAopProxy(AdvisedSupport)` to determine what&#39;s triggering the proxy&#39;s creation.","body":"Proxies are created for a variety of reasons (transaction management, method-level validation, etc). You could debug your application with a breakpoint on <code>org.springframework.aop.framework.DefaultAopProxyFactory.cre&zwnj;&#8203;ateAopProxy(AdvisedS&zwnj;&#8203;upport)</code> to determine what&#39;s triggering the proxy&#39;s creation."},{"owner":{"account_id":8868218,"reputation":928,"user_id":6622697,"display_name":"Peter Kronenberg"},"score":0,"creation_date":1648212831,"post_id":71608233,"comment_id":126573578,"body_markdown":"Thanks.  This confirmed that it is indeed creating a proxy, but I&#39;m not sure how to tell why.  The isProxyTargetClass() flag is on and hasNoUserSuppliedPRoxyInterfaces() also returns true, which are the conditions for creating a proxy, but I&#39;m not sure what that means in a practical sense or what I can do to change it.","body":"Thanks.  This confirmed that it is indeed creating a proxy, but I&#39;m not sure how to tell why.  The isProxyTargetClass() flag is on and hasNoUserSuppliedPRoxyInterfaces() also returns true, which are the conditions for creating a proxy, but I&#39;m not sure what that means in a practical sense or what I can do to change it."},{"owner":{"account_id":1473276,"reputation":110999,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"score":0,"creation_date":1648214044,"post_id":71608233,"comment_id":126574075,"body_markdown":"Hopefully the stack at the time the method is called and/or the advice that&#39;s added to the proxy will help to identify why the proxy&#39;s being created.","body":"Hopefully the stack at the time the method is called and/or the advice that&#39;s added to the proxy will help to identify why the proxy&#39;s being created."},{"owner":{"account_id":8868218,"reputation":928,"user_id":6622697,"display_name":"Peter Kronenberg"},"score":0,"creation_date":1648215219,"post_id":71608233,"comment_id":126574544,"body_markdown":"I&#39;m not sure where to find or how to interpret the &#39;advice&#39;.  Does that refer to the CGLIB$CALLBACK methods I posted in my screenshot above?  Any help appreciated","body":"I&#39;m not sure where to find or how to interpret the &#39;advice&#39;.  Does that refer to the CGLIB$CALLBACK methods I posted in my screenshot above?  Any help appreciated"},{"owner":{"account_id":1473276,"reputation":110999,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"score":0,"creation_date":1648229356,"post_id":71608233,"comment_id":126579929,"body_markdown":"Yes. It should be apparent from the state of those callbacks. The stack should hopefully make it apparent too. I would be much easier to help if you could share a [minimal reproducible example](/help/mcve).","body":"Yes. It should be apparent from the state of those callbacks. The stack should hopefully make it apparent too. I would be much easier to help if you could share a <a href=\"/help/mcve\">minimal reproducible example</a>."},{"owner":{"account_id":8868218,"reputation":928,"user_id":6622697,"display_name":"Peter Kronenberg"},"score":0,"creation_date":1648234417,"post_id":71608233,"comment_id":126581454,"body_markdown":"Yeah, that was my original intent, but it seems my minimal example works.  So I need to figure out what&#39;s causing it to break or change behavior","body":"Yeah, that was my original intent, but it seems my minimal example works.  So I need to figure out what&#39;s causing it to break or change behavior"}],"answers":[{"tags":[],"owner":{"account_id":3482752,"reputation":703,"user_id":2914366,"display_name":"lafual"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679231202,"creation_date":1679231202,"answer_id":75782196,"question_id":71608233,"body_markdown":"I cannot say why it worked/didn&#39;t work. However, to get rid of the serialization error involving `$$EnhancerBySpringCGLIB$$`, I did something like this;\r\n\r\n```\r\n@JsonSerialize(as = MyObject.class)\r\npublic class MyObject {\r\n  public String getField1() { return field1; }\r\n  ...\r\n}\r\n","title":"Jackson can&#39;t serialize Spring proxy object","body":"<p>I cannot say why it worked/didn't work. However, to get rid of the serialization error involving <code>$$EnhancerBySpringCGLIB$$</code>, I did something like this;</p>\n<pre><code>@JsonSerialize(as = MyObject.class)\npublic class MyObject {\n  public String getField1() { return field1; }\n  ...\n}\n</code></pre>\n"}],"owner":{"account_id":8868218,"reputation":928,"user_id":6622697,"display_name":"Peter Kronenberg"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":648,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1679231202,"creation_date":1648149340,"question_id":71608233,"body_markdown":"I&#39;m using `@ConfigurationProperties` to create an object like this:\r\n\r\nFrom application.yml\r\n```\r\nmyObject:\r\n  field1: field1\r\n  field2: field2\r\n```\r\n\r\nAnd I have these classes defined:\r\n\r\n```\r\n@Getter\r\n@Setter\r\n@ToString\r\n@NoArgsConstructor\r\npublic class MyObject {\r\n    private String field1;\r\n    private String field2;\r\n}\r\n\r\n@Configuration(proxyBeanMethods = false)\r\npublic class MyObjectConfig {\r\n    @Bean\r\n    @ConfigurationProperties(value = &quot;my-object&quot;, ignoreUnknownFields = false)\r\n    public MyObject myObjectBean() {\r\n        return new MyObject();\r\n    }\r\n}\r\n```\r\n\r\nI then inject the bean where I want to use it.  If I just print it out, `toString()` works fine.  In the debugger, if I look at the object, it looks like this:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nI don&#39;t know how the Spring magic works\r\n\r\nIf I try to serialize with Jackson, \r\n\r\n```\r\nnew ObjectMapper().writeValueAsString(myObject);\r\n```\r\nI get a huge stack trace that seems to start with an IllegalStateException.  I can&#39;t figure out what it&#39;s complaining about\r\n\r\nBut if I create a constructor in MyObject that takes another MyObject and just copies the fields,\r\n\r\n```\r\nMyObject nonProxy = new MyObject(myObject);\r\n```\r\n\r\n I end up with what I think is a non-proxy version of the object, which I can then serialize.  But this requires that I know which objects are proxy objects, which sort of defeats the purpose.  Is there a way to get Jackson to properly deal with these proxy objects?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/30kxx.png\r\n\r\n\r\n## Update \r\n\r\nI put together a simple application using Spring initializer, but in that case, it works fine.  Here is the main Springboot class:\r\n\r\n```\r\n@Component\r\npublic class Startup implements InitializingBean {\r\n\r\n    private final MyObject myObject;\r\n\r\n    public Startup(final MyObject myObject) {\r\n        this.myObject = myObject;\r\n    }\r\n\r\n    @Override\r\n    public void afterPropertiesSet() throws Exception {\r\n        System.out.println(&quot;*** myObject: &quot; + myObject);\r\n        System.out.println(&quot;*** class: &quot; + myObject.getClass().getName());\r\n\r\n        try {\r\n            final String s = new ObjectMapper().writeValueAsString(myObject);\r\n            System.out.println(&quot;*** json&quot; + s);\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n}\r\n\r\n\r\n*** myObject: MyObject(field1=field1, field2=field2)\r\n*** class: com.example.demo.config.MyObject\r\n*** json{&quot;field1&quot;:&quot;field1&quot;,&quot;field2&quot;:&quot;field2&quot;}\r\n\r\n```\r\n\r\nWhat could possibly be different in my application that would cause Spring to proxy this object?  Note that in my application, when I print out the class of MyObject, I get\r\n```\r\n*** class: com.torchai.service.skeleton.configuration.MyObject$$EnhancerBySpringCGLIB$$7f9d27e0\r\n```","title":"Jackson can&#39;t serialize Spring proxy object","body":"<p>I'm using <code>@ConfigurationProperties</code> to create an object like this:</p>\n<p>From application.yml</p>\n<pre><code>myObject:\n  field1: field1\n  field2: field2\n</code></pre>\n<p>And I have these classes defined:</p>\n<pre><code>@Getter\n@Setter\n@ToString\n@NoArgsConstructor\npublic class MyObject {\n    private String field1;\n    private String field2;\n}\n\n@Configuration(proxyBeanMethods = false)\npublic class MyObjectConfig {\n    @Bean\n    @ConfigurationProperties(value = &quot;my-object&quot;, ignoreUnknownFields = false)\n    public MyObject myObjectBean() {\n        return new MyObject();\n    }\n}\n</code></pre>\n<p>I then inject the bean where I want to use it.  If I just print it out, <code>toString()</code> works fine.  In the debugger, if I look at the object, it looks like this:</p>\n<p><a href=\"https://i.stack.imgur.com/30kxx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/30kxx.png\" alt=\"enter image description here\" /></a></p>\n<p>I don't know how the Spring magic works</p>\n<p>If I try to serialize with Jackson,</p>\n<pre><code>new ObjectMapper().writeValueAsString(myObject);\n</code></pre>\n<p>I get a huge stack trace that seems to start with an IllegalStateException.  I can't figure out what it's complaining about</p>\n<p>But if I create a constructor in MyObject that takes another MyObject and just copies the fields,</p>\n<pre><code>MyObject nonProxy = new MyObject(myObject);\n</code></pre>\n<p>I end up with what I think is a non-proxy version of the object, which I can then serialize.  But this requires that I know which objects are proxy objects, which sort of defeats the purpose.  Is there a way to get Jackson to properly deal with these proxy objects?</p>\n<h2>Update</h2>\n<p>I put together a simple application using Spring initializer, but in that case, it works fine.  Here is the main Springboot class:</p>\n<pre><code>@Component\npublic class Startup implements InitializingBean {\n\n    private final MyObject myObject;\n\n    public Startup(final MyObject myObject) {\n        this.myObject = myObject;\n    }\n\n    @Override\n    public void afterPropertiesSet() throws Exception {\n        System.out.println(&quot;*** myObject: &quot; + myObject);\n        System.out.println(&quot;*** class: &quot; + myObject.getClass().getName());\n\n        try {\n            final String s = new ObjectMapper().writeValueAsString(myObject);\n            System.out.println(&quot;*** json&quot; + s);\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n}\n\n\n*** myObject: MyObject(field1=field1, field2=field2)\n*** class: com.example.demo.config.MyObject\n*** json{&quot;field1&quot;:&quot;field1&quot;,&quot;field2&quot;:&quot;field2&quot;}\n\n</code></pre>\n<p>What could possibly be different in my application that would cause Spring to proxy this object?  Note that in my application, when I print out the class of MyObject, I get</p>\n<pre><code>*** class: com.torchai.service.skeleton.configuration.MyObject$$EnhancerBySpringCGLIB$$7f9d27e0\n</code></pre>\n"},{"tags":["java","command-line","jar"],"comments":[{"owner":{"account_id":8978,"reputation":121568,"user_id":16406,"accept_rate":77,"display_name":"Chris Dodd"},"score":0,"creation_date":1311272229,"post_id":6780678,"comment_id":8044727,"body_markdown":"`java -cp myJar.jar myClass` works fine for me -- do you have a spurious period in your command line instead of a space?","body":"<code>java -cp myJar.jar myClass</code> works fine for me -- do you have a spurious period in your command line instead of a space?"},{"owner":{"account_id":426173,"reputation":18141,"user_id":807231,"accept_rate":38,"display_name":"Marsellus Wallace"},"score":1,"creation_date":1311272277,"post_id":6780678,"comment_id":8044744,"body_markdown":"What do you mean when you say that you want &#39;to use&#39; that class? Is there a main method that you want to call in particular?","body":"What do you mean when you say that you want &#39;to use&#39; that class? Is there a main method that you want to call in particular?"}],"answers":[{"tags":[],"owner":{"account_id":7133,"reputation":3591,"user_id":12254,"display_name":"Richard Campbell"},"down_vote_count":0,"up_vote_count":24,"is_accepted":false,"score":24,"last_activity_date":1311272714,"creation_date":1311272245,"answer_id":6780733,"question_id":6780678,"body_markdown":"You want:\r\n\r\n    java -cp myJar.jar myClass\r\n\r\nThe [Documentation][1] gives the following example:\r\n\r\n    C:&gt; java -classpath C:\\java\\MyClasses\\myclasses.jar utility.myapp.Cool\r\n\r\n  [1]: http://download.oracle.com/javase/6/docs/technotes/tools/windows/classpath.html","title":"Run class in Jar file","body":"<p>You want:</p>\n\n<pre><code>java -cp myJar.jar myClass\n</code></pre>\n\n<p>The <a href=\"http://download.oracle.com/javase/6/docs/technotes/tools/windows/classpath.html\" rel=\"noreferrer\">Documentation</a> gives the following example:</p>\n\n<pre><code>C:&gt; java -classpath C:\\java\\MyClasses\\myclasses.jar utility.myapp.Cool\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user177800"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1311272434,"creation_date":1311272434,"answer_id":6780768,"question_id":6780678,"body_markdown":"Assuming you are in the directory where `myJar.jar` file is and that `myClass` has a `public static void main()` method on it:\r\n\r\nYou use the following command line:\r\n\r\n    java -cp ./myJar.jar myClass\r\n\r\nWhere:\r\n \r\n 1. `myJar.jar` is in the **current path**, note that `.` isn&#39;t in the current path on most systems. A **fully qualified path** is preferred here as well.\r\n \r\n 1. `myClass` is a **fully qualified package path** to the class, the example assumes that `myClass` is in the **default package** which is bad practice, if it is in a nested package it would be `com.mycompany.mycode.myClass`.","title":"Run class in Jar file","body":"<p>Assuming you are in the directory where <code>myJar.jar</code> file is and that <code>myClass</code> has a <code>public static void main()</code> method on it:</p>\n\n<p>You use the following command line:</p>\n\n<pre><code>java -cp ./myJar.jar myClass\n</code></pre>\n\n<p>Where:</p>\n\n<ol>\n<li><p><code>myJar.jar</code> is in the <strong>current path</strong>, note that <code>.</code> isn't in the current path on most systems. A <strong>fully qualified path</strong> is preferred here as well.</p></li>\n<li><p><code>myClass</code> is a <strong>fully qualified package path</strong> to the class, the example assumes that <code>myClass</code> is in the <strong>default package</strong> which is bad practice, if it is in a nested package it would be <code>com.mycompany.mycode.myClass</code>.</p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":136706,"reputation":12442,"user_id":340390,"accept_rate":81,"display_name":"Bitmap"},"down_vote_count":0,"up_vote_count":307,"is_accepted":true,"score":307,"last_activity_date":1392058158,"creation_date":1311272573,"answer_id":6780789,"question_id":6780678,"body_markdown":"Use `java -cp myjar.jar com.mypackage.myClass`.\r\n\r\n1. If the class is not in a package then simply `java -cp myjar.jar myClass`. \r\n\r\n2. If you are not within the directory where `myJar.jar` is located, then you can do:\r\n\r\n   1. On Unix or Linux platforms:\r\n\r\n        `java -cp /location_of_jar/myjar.jar com.mypackage.myClass`\r\n\r\n   2. On Windows:\r\n\r\n         `java -cp c:\\location_of_jar\\myjar.jar com.mypackage.myClass`","title":"Run class in Jar file","body":"<p>Use <code>java -cp myjar.jar com.mypackage.myClass</code>.</p>\n\n<ol>\n<li><p>If the class is not in a package then simply <code>java -cp myjar.jar myClass</code>. </p></li>\n<li><p>If you are not within the directory where <code>myJar.jar</code> is located, then you can do:</p>\n\n<ol>\n<li><p>On Unix or Linux platforms:</p>\n\n<p><code>java -cp /location_of_jar/myjar.jar com.mypackage.myClass</code></p></li>\n<li><p>On Windows:</p>\n\n<p><code>java -cp c:\\location_of_jar\\myjar.jar com.mypackage.myClass</code></p></li>\n</ol></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":1709566,"reputation":209,"user_id":1567882,"display_name":"Gaurav Singh"},"down_vote_count":1,"up_vote_count":21,"is_accepted":false,"score":20,"last_activity_date":1528476908,"creation_date":1343806441,"answer_id":11754570,"question_id":6780678,"body_markdown":"There are two types of JAR files available in Java:\r\n\r\n1. Runnable/Executable jar file which contains manifest file.\r\nTo run a Runnable jar you can use `java -jar fileName.jar` or `java -jar -classpath abc.jar fileName.jar`\r\n\r\n2. Simple jar file that does not contain a manifest file so you simply run your main class by giving its path `java -cp ./fileName.jar MainClass`\r\n\r\n","title":"Run class in Jar file","body":"<p>There are two types of JAR files available in Java:</p>\n\n<ol>\n<li><p>Runnable/Executable jar file which contains manifest file.\nTo run a Runnable jar you can use <code>java -jar fileName.jar</code> or <code>java -jar -classpath abc.jar fileName.jar</code></p></li>\n<li><p>Simple jar file that does not contain a manifest file so you simply run your main class by giving its path <code>java -cp ./fileName.jar MainClass</code></p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":14742442,"reputation":11,"user_id":10646776,"display_name":"ubersucks"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1542121307,"creation_date":1542119635,"answer_id":53283321,"question_id":6780678,"body_markdown":"This is the right way to execute a `.jar`, and whatever one class in that `.jar` should have `main()` and the following are the parameters to it :\r\n\r\n    java -DLB=&quot;uk&quot; -DType=&quot;CLIENT_IND&quot; -jar com.fbi.rrm.rrm-batchy-1.5.jar","title":"Run class in Jar file","body":"<p>This is the right way to execute a <code>.jar</code>, and whatever one class in that <code>.jar</code> should have <code>main()</code> and the following are the parameters to it :</p>\n\n<pre><code>java -DLB=\"uk\" -DType=\"CLIENT_IND\" -jar com.fbi.rrm.rrm-batchy-1.5.jar\n</code></pre>\n"}],"owner":{"account_id":791709,"reputation":2165,"user_id":850579,"accept_rate":60,"display_name":"jim"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":377896,"favorite_count":0,"down_vote_count":0,"up_vote_count":209,"accepted_answer_id":6780789,"answer_count":5,"score":209,"last_activity_date":1679231195,"creation_date":1311272033,"question_id":6780678,"body_markdown":"If you have a jar file called ```myJar.jar``` located in **/myfolder** and you want to use the class called ```myClass``` from it, how do you go about doing it from the command line?\r\n\r\nI thought it would be to go into the directory and say ```java -cp myJar.jar.myClass``` but that isn&#39;t working.","title":"Run class in Jar file","body":"<p>If you have a jar file called <code>myJar.jar</code> located in <strong>/myfolder</strong> and you want to use the class called <code>myClass</code> from it, how do you go about doing it from the command line?</p>\n<p>I thought it would be to go into the directory and say <code>java -cp myJar.jar.myClass</code> but that isn't working.</p>\n"},{"tags":["java","intellij-idea"],"comments":[{"owner":{"account_id":1046397,"reputation":2748,"user_id":1051292,"accept_rate":80,"display_name":"Kevin"},"score":12,"creation_date":1490950535,"post_id":40866202,"comment_id":73350128,"body_markdown":"@IslamAbdalla Not always, a simple string.split() should not have &quot;regex: &quot; in front of the parameter, it&#39;s obnoxious.","body":"@IslamAbdalla Not always, a simple string.split() should not have &quot;regex: &quot; in front of the parameter, it&#39;s obnoxious."},{"owner":{"account_id":319988,"reputation":10970,"user_id":638028,"accept_rate":91,"display_name":"Klitos Kyriacou"},"score":2,"creation_date":1492591294,"post_id":40866202,"comment_id":74036021,"body_markdown":"@Kevin why shouldn&#39;t it have &quot;regex:&quot; in front of the parameter? It helps in reminding you that, despite appearances, `string.split(&quot;.&quot;)` does *not* split on the dots.","body":"@Kevin why shouldn&#39;t it have &quot;regex:&quot; in front of the parameter? It helps in reminding you that, despite appearances, <code>string.split(&quot;.&quot;)</code> does <i>not</i> split on the dots."},{"owner":{"account_id":1046397,"reputation":2748,"user_id":1051292,"accept_rate":80,"display_name":"Kevin"},"score":0,"creation_date":1492897587,"post_id":40866202,"comment_id":74180722,"body_markdown":"@KlitosKyriacou That&#39;s more an issue of method naming, not one of showing the name of a parameter or not.","body":"@KlitosKyriacou That&#39;s more an issue of method naming, not one of showing the name of a parameter or not."},{"owner":{"account_id":934757,"reputation":4886,"user_id":963901,"accept_rate":61,"display_name":"Ben Guild"},"score":34,"creation_date":1494568543,"post_id":40866202,"comment_id":74893208,"body_markdown":"I have to say, this feature is super annoying. Like the slow animation in which the things appear, and also the fact that it shifts the rest of the code around so that you visually lose your place... not sure what they were thinking","body":"I have to say, this feature is super annoying. Like the slow animation in which the things appear, and also the fact that it shifts the rest of the code around so that you visually lose your place... not sure what they were thinking"},{"owner":{"account_id":51086,"reputation":3321,"user_id":152543,"accept_rate":54,"display_name":"Anm"},"score":10,"creation_date":1496015205,"post_id":40866202,"comment_id":75475990,"body_markdown":"Regarding readability: It may help when viewing in this particular tool, but if someone reads your code outside of IntelliJ, they won&#39;t see the hints. I believe such readability issues should be resolved in the choice of variable names (and maybe creation of variables names), and just generally better APIs.\n\n**Plus...** it obscures line length, where that is a style issue in some environments.","body":"Regarding readability: It may help when viewing in this particular tool, but if someone reads your code outside of IntelliJ, they won&#39;t see the hints. I believe such readability issues should be resolved in the choice of variable names (and maybe creation of variables names), and just generally better APIs.  <b>Plus...</b> it obscures line length, where that is a style issue in some environments."},{"owner":{"account_id":3014209,"reputation":1479,"user_id":2556867,"accept_rate":44,"display_name":"degr"},"score":7,"creation_date":1497966161,"post_id":40866202,"comment_id":76294772,"body_markdown":"idea have ctrl+p hot key, which show same information. This tooltips is garbage.","body":"idea have ctrl+p hot key, which show same information. This tooltips is garbage."},{"owner":{"account_id":8105269,"reputation":506,"user_id":6107026,"display_name":"Mukherjee"},"score":9,"creation_date":1499756676,"post_id":40866202,"comment_id":77029139,"body_markdown":"showing the parameter name in the calling list is super annoying. I just want it to show what I&#39;m typing in it. It just makes the code more unreadable.","body":"showing the parameter name in the calling list is super annoying. I just want it to show what I&#39;m typing in it. It just makes the code more unreadable."},{"owner":{"account_id":861898,"reputation":101,"user_id":1250932,"display_name":"Micha Berger"},"score":5,"creation_date":1502205197,"post_id":40866202,"comment_id":78103545,"body_markdown":"I agree with @Joe. Positioning your cursor to edit a paramter is a HUGE pain in the neck. Just shut it off.\n\nWould be happier with a pop-up hint on hover.","body":"I agree with @Joe. Positioning your cursor to edit a paramter is a HUGE pain in the neck. Just shut it off.  Would be happier with a pop-up hint on hover."},{"owner":{"account_id":7350428,"reputation":1298,"user_id":5960850,"display_name":"Matthew Woo"},"score":3,"creation_date":1502240934,"post_id":40866202,"comment_id":78119719,"body_markdown":"When I look at my code, columns can be horrendously over the specified limit and I can&#39;t read lines of code without side-scrolling. I can&#39;t autoformat to fix this because these hints aren&#39;t counted toward that limit.","body":"When I look at my code, columns can be horrendously over the specified limit and I can&#39;t read lines of code without side-scrolling. I can&#39;t autoformat to fix this because these hints aren&#39;t counted toward that limit."},{"owner":{"account_id":148440,"reputation":54364,"user_id":360211,"accept_rate":76,"display_name":"weston"},"score":2,"creation_date":1510521377,"post_id":40866202,"comment_id":81458491,"body_markdown":"All fun and games until code review time, then back to &quot;what exactly does `true` mean here?&quot;","body":"All fun and games until code review time, then back to &quot;what exactly does <code>true</code> mean here?&quot;"},{"owner":{"account_id":3681418,"reputation":2984,"user_id":3066295,"display_name":"TT--"},"score":0,"creation_date":1536764762,"post_id":40866202,"comment_id":91544377,"body_markdown":"linked https://stackoverflow.com/questions/38734111/how-to-show-method-parameters-hint-in-intellij-idea","body":"linked <a href=\"https://stackoverflow.com/questions/38734111/how-to-show-method-parameters-hint-in-intellij-idea\" title=\"how to show method parameters hint in intellij idea\">stackoverflow.com/questions/38734111/&hellip;</a>"},{"owner":{"account_id":114996,"reputation":481,"user_id":302151,"accept_rate":29,"display_name":"G&#233;za"},"score":0,"creation_date":1633518819,"post_id":40866202,"comment_id":122779537,"body_markdown":"If you know that it called a &quot;hint&quot; then you can type &quot;hint&quot; into the settings filter and you can find this setup entry that may be in different places according to the IDE  version. And you can also learn other possibilities: hints on completion that may be useful even if you don&#39;t want to see hints general, and color scheme for hints.","body":"If you know that it called a &quot;hint&quot; then you can type &quot;hint&quot; into the settings filter and you can find this setup entry that may be in different places according to the IDE  version. And you can also learn other possibilities: hints on completion that may be useful even if you don&#39;t want to see hints general, and color scheme for hints."},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":0,"creation_date":1658156665,"post_id":40866202,"comment_id":128975376,"body_markdown":"This feature is confusing particularly to newcomers. I see questions like &quot;Why doesn&#39;t this work when I call a method: `myObj.someMethod(name: &quot;arg&quot;, age: 23)`&quot; on a regular base. Examples: [here](https://stackoverflow.com/q/64006134/507738) and [here](https://stackoverflow.com/q/71865654/507738).","body":"This feature is confusing particularly to newcomers. I see questions like &quot;Why doesn&#39;t this work when I call a method: <code>myObj.someMethod(name: &quot;arg&quot;, age: 23)</code>&quot; on a regular base. Examples: <a href=\"https://stackoverflow.com/q/64006134/507738\">here</a> and <a href=\"https://stackoverflow.com/q/71865654/507738\">here</a>."},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":0,"creation_date":1658410089,"post_id":40866202,"comment_id":129048536,"body_markdown":"Oh, and [here](https://stackoverflow.com/q/73066884/507738).","body":"Oh, and <a href=\"https://stackoverflow.com/q/73066884/507738\">here</a>."}],"answers":[{"tags":[],"owner":{"display_name":"user180100"},"down_vote_count":3,"up_vote_count":21,"is_accepted":false,"score":18,"last_activity_date":1480423470,"creation_date":1480423470,"answer_id":40866260,"question_id":40866202,"body_markdown":"From the [what&#39;s new page][1]:\r\n\r\n&gt;Parameter hints\r\n&gt;---------------\r\n\r\n&gt;The editor now shows parameter hints for literals and nulls used as method arguments. These hints make code much more readable.\r\n\r\n&gt;If you find hints redundant for a certain method, you can tell the IDE not to show hints for this method. **To disable hints completely, uncheck Settings → Editor → General → Appearance → Show parameter name hints.**\r\n\r\n(emphasis is mine)\r\n\r\n  [1]: https://www.jetbrains.com/idea/whatsnew/#v2016-3-user-interface","title":"IntelliJ shows method parameter hints on usage - How to disable it","body":"<p>From the <a href=\"https://www.jetbrains.com/idea/whatsnew/#v2016-3-user-interface\" rel=\"noreferrer\">what's new page</a>:</p>\n\n<blockquote>\n  <h2>Parameter hints</h2>\n  \n  <p>The editor now shows parameter hints for literals and nulls used as method arguments. These hints make code much more readable.</p>\n  \n  <p>If you find hints redundant for a certain method, you can tell the IDE not to show hints for this method. <strong>To disable hints completely, uncheck Settings → Editor → General → Appearance → Show parameter name hints.</strong></p>\n</blockquote>\n\n<p>(emphasis is mine)</p>\n"},{"tags":[],"owner":{"account_id":1285793,"reputation":6110,"user_id":1238944,"accept_rate":100,"display_name":"agilob"},"down_vote_count":3,"up_vote_count":303,"is_accepted":false,"score":300,"last_activity_date":1480423629,"creation_date":1480423629,"answer_id":40866309,"question_id":40866202,"body_markdown":"Untick the bottom option `Show parameter name hints`\r\n\r\n[![Show parameter name hints][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/T9qiO.png","title":"IntelliJ shows method parameter hints on usage - How to disable it","body":"<p>Untick the bottom option <code>Show parameter name hints</code></p>\n\n<p><a href=\"https://i.stack.imgur.com/T9qiO.png\"><img src=\"https://i.stack.imgur.com/T9qiO.png\" alt=\"Show parameter name hints\"></a></p>\n"},{"tags":[],"owner":{"account_id":5346811,"reputation":3500,"user_id":4262148,"accept_rate":100,"display_name":"another"},"down_vote_count":0,"up_vote_count":207,"is_accepted":true,"score":207,"last_activity_date":1488190989,"creation_date":1488190989,"answer_id":42483229,"question_id":40866202,"body_markdown":"Right click on the hint, then on `Disable`:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n  [1]: https://i.stack.imgur.com/hySga.png","title":"IntelliJ shows method parameter hints on usage - How to disable it","body":"<p>Right click on the hint, then on <code>Disable</code>:</p>\n\n<p><a href=\"https://i.stack.imgur.com/hySga.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/hySga.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":314179,"reputation":14010,"user_id":629222,"accept_rate":82,"display_name":"wired00"},"down_vote_count":0,"up_vote_count":54,"is_accepted":false,"score":54,"last_activity_date":1511982038,"creation_date":1502106839,"answer_id":45546299,"question_id":40866202,"body_markdown":"I find it helpful to use a shortcut such as `P + shift + command` to toggle parameter type hinting as needed. I don&#39;t want it disabled entirely.\n\r\n 1. open preferences\r\n 2. click Keymap\r\n 3. filter by `parameter`\n 4. double click on `Toggle parameter name hints`\r\n 5. enter key combination ie, `P + shift + command`\r\n 6. Apply and Ok\r\n 7. Now the key combo will toggle hints for you.\r\n\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ypFab.png","title":"IntelliJ shows method parameter hints on usage - How to disable it","body":"<p>I find it helpful to use a shortcut such as <code>P + shift + command</code> to toggle parameter type hinting as needed. I don't want it disabled entirely.</p>\n\n<ol>\n<li>open preferences</li>\n<li>click Keymap</li>\n<li>filter by <code>parameter</code></li>\n<li>double click on <code>Toggle parameter name hints</code></li>\n<li>enter key combination ie, <code>P + shift + command</code></li>\n<li>Apply and Ok</li>\n<li>Now the key combo will toggle hints for you.</li>\n</ol>\n\n<p><a href=\"https://i.stack.imgur.com/ypFab.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/ypFab.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":1382384,"reputation":4062,"user_id":1315110,"accept_rate":88,"display_name":"Alex Styl"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1625334078,"creation_date":1523666929,"answer_id":49826835,"question_id":40866202,"body_markdown":"Others have already answered this, but here is a way of finding it without jumping into menus.\r\n\r\nTry hitting `⌘ + Shift + A` on Mac or `CTRL + SHIFT + A` on Linux and type the `Show parameter name hints` into the search bar.\r\n\r\n[![Show parameter appears when searching from the Action/Option name search bar][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Qm8PP.png","title":"IntelliJ shows method parameter hints on usage - How to disable it","body":"<p>Others have already answered this, but here is a way of finding it without jumping into menus.</p>\n<p>Try hitting <code>⌘ + Shift + A</code> on Mac or <code>CTRL + SHIFT + A</code> on Linux and type the <code>Show parameter name hints</code> into the search bar.</p>\n<p><a href=\"https://i.stack.imgur.com/Qm8PP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Qm8PP.png\" alt=\"Show parameter appears when searching from the Action/Option name search bar\" /></a></p>\n"},{"tags":[],"owner":{"account_id":2647045,"reputation":1925,"user_id":2289514,"accept_rate":75,"display_name":"Alex Kalmikov"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1595759886,"creation_date":1593671501,"answer_id":62690288,"question_id":40866202,"body_markdown":"In latest version you can find it under **Settings → Editor → Inlay Hints**\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/pY5yz.png","title":"IntelliJ shows method parameter hints on usage - How to disable it","body":"<p>In latest version you can find it under <strong>Settings → Editor → Inlay Hints</strong></p>\n<p><a href=\"https://i.stack.imgur.com/pY5yz.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/pY5yz.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":2263902,"reputation":30920,"user_id":1993204,"accept_rate":90,"display_name":"Bartek Lipinski"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1611908375,"creation_date":1611908375,"answer_id":65950957,"question_id":40866202,"body_markdown":"1. `⌘ + Shift + A`\r\n2. Type `Inlay Hints`\r\n3. **Make sure that the language of your choice has `Types` set up properly!!!** Here&#39;s an example for Kotlin:\r\n[![Inlay Hints settings][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/5ZixZ.png","title":"IntelliJ shows method parameter hints on usage - How to disable it","body":"<ol>\n<li><code>⌘ + Shift + A</code></li>\n<li>Type <code>Inlay Hints</code></li>\n<li><strong>Make sure that the language of your choice has <code>Types</code> set up properly!!!</strong> Here's an example for Kotlin:\n<a href=\"https://i.stack.imgur.com/5ZixZ.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/5ZixZ.png\" alt=\"Inlay Hints settings\" /></a></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":57402,"reputation":29252,"user_id":171950,"accept_rate":55,"display_name":"Muhammad Hewedy"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1651237259,"creation_date":1651237259,"answer_id":72058388,"question_id":40866202,"body_markdown":"As of 2022, it&#39;s been renamed to &quot;inlay hints&quot;\r\n\r\nYou can disable it by pressing `shift` + `shift`, then type `inlay hints` and then disable it.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/uySEj.png","title":"IntelliJ shows method parameter hints on usage - How to disable it","body":"<p>As of 2022, it's been renamed to &quot;inlay hints&quot;</p>\n<p>You can disable it by pressing <code>shift</code> + <code>shift</code>, then type <code>inlay hints</code> and then disable it.</p>\n<p><a href=\"https://i.stack.imgur.com/uySEj.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/uySEj.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":79869,"reputation":3010,"user_id":226181,"accept_rate":85,"display_name":"matrix"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1656198929,"creation_date":1656198929,"answer_id":72757913,"question_id":40866202,"body_markdown":"As on 2022 (WebStorm 2022.1.2), the option is under the *Editor → Inlay Hints*. Uncheck the parameter names checkbox.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/2BW8o.png","title":"IntelliJ shows method parameter hints on usage - How to disable it","body":"<p>As on 2022 (WebStorm 2022.1.2), the option is under the <em>Editor → Inlay Hints</em>. Uncheck the parameter names checkbox.</p>\n<p><a href=\"https://i.stack.imgur.com/2BW8o.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2BW8o.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":1183116,"reputation":101,"user_id":1157593,"display_name":"kaung htet naing"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1656640480,"creation_date":1656640480,"answer_id":72823663,"question_id":40866202,"body_markdown":"For Intellij IDEA 2022\r\nEditor -&gt; Inlay Hints -&gt; Code vision -&gt; Usages , Uncheck this","title":"IntelliJ shows method parameter hints on usage - How to disable it","body":"<p>For Intellij IDEA 2022\nEditor -&gt; Inlay Hints -&gt; Code vision -&gt; Usages , Uncheck this</p>\n"}],"owner":{"account_id":2492505,"reputation":10493,"user_id":2169693,"accept_rate":74,"display_name":"G.S"},"comment_count":14,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":96182,"favorite_count":0,"down_vote_count":0,"up_vote_count":322,"accepted_answer_id":42483229,"answer_count":10,"score":322,"last_activity_date":1679230897,"creation_date":1480423276,"question_id":40866202,"body_markdown":"I am new to IntelliJ and recently updated to **IntelliJ-2016.3**.  \r\nIn the editor for Java code, it shows the method signature upon usage. How do I disable this feature?\r\n\r\nHere&#39;s an example of a method&#39;s signature and its call site:\r\n\r\n![1]\r\n\r\n**Method call:**  \r\n\r\n![2]\r\n\r\nThis behavior was not there in 2016.1.4 version. I am seeing this after update.\r\n\r\n  [1]: https://i.stack.imgur.com/qMA5c.jpg\r\n  [2]: https://i.stack.imgur.com/ZZXXy.jpg","title":"IntelliJ shows method parameter hints on usage - How to disable it","body":"<p>I am new to IntelliJ and recently updated to <strong>IntelliJ-2016.3</strong>.<br />\nIn the editor for Java code, it shows the method signature upon usage. How do I disable this feature?</p>\n<p>Here's an example of a method's signature and its call site:</p>\n<p><img src=\"https://i.stack.imgur.com/qMA5c.jpg\" alt=\"1\" /></p>\n<p><strong>Method call:</strong></p>\n<p><img src=\"https://i.stack.imgur.com/ZZXXy.jpg\" alt=\"2\" /></p>\n<p>This behavior was not there in 2016.1.4 version. I am seeing this after update.</p>\n"},{"tags":["java","spring","hibernate","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":11766240,"reputation":578,"user_id":14056755,"display_name":"Marcin Rzepecki"},"score":0,"creation_date":1679168734,"post_id":75778240,"comment_id":133674612,"body_markdown":"What spring boot version are you using?","body":"What spring boot version are you using?"},{"owner":{"account_id":3479550,"reputation":699,"user_id":2911983,"accept_rate":72,"display_name":"itsmarziparzi"},"score":0,"creation_date":1679168856,"post_id":75778240,"comment_id":133674629,"body_markdown":"added my gradle file for the information","body":"added my gradle file for the information"},{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":0,"creation_date":1679172022,"post_id":75778240,"comment_id":133675045,"body_markdown":"Try TRACE rather than trace.","body":"Try TRACE rather than trace."},{"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1679232412,"post_id":75778240,"comment_id":133680627,"body_markdown":"Does this answer your question? [How to log SQL statements with query param values in Spring Boot 3/Hibernate 6](https://stackoverflow.com/questions/74862254/how-to-log-sql-statements-with-query-param-values-in-spring-boot-3-hibernate-6)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/74862254/how-to-log-sql-statements-with-query-param-values-in-spring-boot-3-hibernate-6\">How to log SQL statements with query param values in Spring Boot 3/Hibernate 6</a>"}],"owner":{"account_id":3479550,"reputation":699,"user_id":2911983,"accept_rate":72,"display_name":"itsmarziparzi"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":203,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679230878,"creation_date":1679168304,"question_id":75778240,"body_markdown":"I&#39;ve been trying every variation to print the query parameters, but I can&#39;t get them to print.\r\n\r\nI have the log level set to &quot;trace&quot; but it doesn&#39;t seem to print any trace level. Is there anything I should probably check?\r\n\r\nI have these in the applications.properties\r\n```\r\nspring.jpa.show-sql=true\r\nlogging.level.org.hibernate.SQL=DEBUG\r\nlogging.level.org.hibernate.type=trace\r\n```\r\n\r\nAs seen below, the trace message wouldn&#39;t show\r\n\r\n```\r\n[2m2023-03-19T04:26:46.061+09:00[0;39m [32mDEBUG[0;39m [35m11145[0;39m [2m---[0;39m [2m[nio-8080-exec-1][0;39m [36morg.hibernate.SQL                       [0;39m [2m:[0;39m insert into relgroup_word (word_id, relgroup_id) values (?, ?)\r\nHibernate: insert into relgroup_word (word_id, relgroup_id) values (?, ?)\r\n```\r\n\r\nMy build.gradle is as below\r\n\r\n```\r\nplugins {\r\n\tid &#39;java&#39;\r\n\tid &#39;org.springframework.boot&#39; version &#39;3.0.4&#39;\r\n\tid &#39;io.spring.dependency-management&#39; version &#39;1.1.0&#39;\r\n}\r\n\r\ngroup = &#39;com.kakaobank&#39;\r\nversion = &#39;0.0.1-SNAPSHOT&#39;\r\nsourceCompatibility = &#39;17&#39;\r\n\r\nconfigurations {\r\n\tcompileOnly {\r\n\t\textendsFrom annotationProcessor\r\n\t}\r\n}\r\n\r\nrepositories {\r\n\tmavenCentral()\r\n}\r\n\r\ndependencies {\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter-data-jpa&#39;\r\n\tcompileOnly &#39;org.projectlombok:lombok&#39;\r\n\tdevelopmentOnly &#39;org.springframework.boot:spring-boot-devtools&#39;\r\n\timplementation &#39;com.h2database:h2&#39;\r\n\tannotationProcessor &#39;org.projectlombok:lombok&#39;\r\n\ttestImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n}\r\n\r\ntasks.named(&#39;test&#39;) {\r\n\tuseJUnitPlatform()\r\n}\r\n```","title":"Why would &quot;hibernate.type=trace&quot; not work in Spring Boot?","body":"<p>I've been trying every variation to print the query parameters, but I can't get them to print.</p>\n<p>I have the log level set to &quot;trace&quot; but it doesn't seem to print any trace level. Is there anything I should probably check?</p>\n<p>I have these in the applications.properties</p>\n<pre><code>spring.jpa.show-sql=true\nlogging.level.org.hibernate.SQL=DEBUG\nlogging.level.org.hibernate.type=trace\n</code></pre>\n<p>As seen below, the trace message wouldn't show</p>\n<pre><code>[2m2023-03-19T04:26:46.061+09:00[0;39m [32mDEBUG[0;39m [35m11145[0;39m [2m---[0;39m [2m[nio-8080-exec-1][0;39m [36morg.hibernate.SQL                       [0;39m [2m:[0;39m insert into relgroup_word (word_id, relgroup_id) values (?, ?)\nHibernate: insert into relgroup_word (word_id, relgroup_id) values (?, ?)\n</code></pre>\n<p>My build.gradle is as below</p>\n<pre><code>plugins {\n    id 'java'\n    id 'org.springframework.boot' version '3.0.4'\n    id 'io.spring.dependency-management' version '1.1.0'\n}\n\ngroup = 'com.kakaobank'\nversion = '0.0.1-SNAPSHOT'\nsourceCompatibility = '17'\n\nconfigurations {\n    compileOnly {\n        extendsFrom annotationProcessor\n    }\n}\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    implementation 'org.springframework.boot:spring-boot-starter-web'\n    implementation 'org.springframework.boot:spring-boot-starter-data-jpa'\n    compileOnly 'org.projectlombok:lombok'\n    developmentOnly 'org.springframework.boot:spring-boot-devtools'\n    implementation 'com.h2database:h2'\n    annotationProcessor 'org.projectlombok:lombok'\n    testImplementation 'org.springframework.boot:spring-boot-starter-test'\n}\n\ntasks.named('test') {\n    useJUnitPlatform()\n}\n</code></pre>\n"},{"tags":["java","validation","objectmapper","spring-boot-test","mockmvc"],"comments":[{"owner":{"account_id":9774998,"reputation":3031,"user_id":7245379,"display_name":"eHayik"},"score":0,"creation_date":1564854635,"post_id":57340548,"comment_id":101169898,"body_markdown":"Did you run the application for checking if the endpoint is working with Postman or another similar tool ?. Please include your `pom.xml` in your answer","body":"Did you run the application for checking if the endpoint is working with Postman or another similar tool ?. Please include your <code>pom.xml</code> in your answer"},{"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":2,"creation_date":1564855821,"post_id":57340548,"comment_id":101170184,"body_markdown":"Did you try printing out the string returned by `writeValueAsString` to validate it? (I _very_ strongly suspect you&#39;re getting a &quot;timestamp&quot; format, and don&#39;t use `Local*` for anything except user calendars; use `Instant` instead.)","body":"Did you try printing out the string returned by <code>writeValueAsString</code> to validate it? (I <i>very</i> strongly suspect you&#39;re getting a &quot;timestamp&quot; format, and don&#39;t use <code>Local*</code> for anything except user calendars; use <code>Instant</code> instead.)"},{"owner":{"account_id":3756337,"reputation":263,"user_id":3156071,"display_name":"Shahin"},"score":0,"creation_date":1564856371,"post_id":57340548,"comment_id":101170303,"body_markdown":"@EduardoEljaiek Yes, it runs properly when I use postman tool.","body":"@EduardoEljaiek Yes, it runs properly when I use postman tool."},{"owner":{"account_id":3756337,"reputation":263,"user_id":3156071,"display_name":"Shahin"},"score":0,"creation_date":1564894514,"post_id":57340548,"comment_id":101175880,"body_markdown":"@chrylis Thanks for your suggestion! LocalDateTime parsed to days, month, years when mapped to JSON string so the conflict came up. I made LocalDateTime nullable and this time it worked out. I&#39;m trying to come up with a solid solution and post the answer.","body":"@chrylis Thanks for your suggestion! LocalDateTime parsed to days, month, years when mapped to JSON string so the conflict came up. I made LocalDateTime nullable and this time it worked out. I&#39;m trying to come up with a solid solution and post the answer."}],"answers":[{"tags":[],"owner":{"account_id":9774998,"reputation":3031,"user_id":7245379,"display_name":"eHayik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1579256047,"creation_date":1564855809,"answer_id":57340953,"question_id":57340548,"body_markdown":"This is how I implement my rest controllers test. Maybe It could help you.\r\n\r\nI&#39;ve this abstract class to encapsulate common tests functionalities regarding to the *JSON* mapping.\r\n```java\r\n    import lombok.SneakyThrows;\r\n    import lombok.val;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.http.MediaType;\r\n    import org.springframework.http.converter.HttpMessageConverter;\r\n    import org.springframework.http.converter.json.MappingJackson2HttpMessageConverter;\r\n    import org.springframework.mock.http.MockHttpOutputMessage;\r\n    \r\n    import java.nio.charset.StandardCharsets;\r\n    import java.util.Arrays;\r\n    \r\n    import static org.junit.Assert.assertNotNull;\r\n    \r\n    public abstract class RestControllerTest {\r\n    \r\n        private final MediaType contentType = new MediaType(MediaType.APPLICATION_JSON.getType(),\r\n                MediaType.APPLICATION_JSON.getSubtype(),\r\n                StandardCharsets.UTF_8);\r\n    \r\n        private HttpMessageConverter messageConverter;\r\n    \r\n        protected MediaType getContentType() {\r\n            return contentType;\r\n        }\r\n    \r\n        @Autowired\r\n        void setConverters(HttpMessageConverter&lt;?&gt;[] converters) {\r\n            messageConverter = Arrays.stream(converters)\r\n                    .filter(hmc -&gt; hmc instanceof MappingJackson2HttpMessageConverter)\r\n                    .findAny()\r\n                    .orElse(null);\r\n    \r\n            assertNotNull(&quot;the JSON message converter must not be null&quot;,\r\n                    messageConverter);\r\n        }\r\n    \r\n        @SneakyThrows\r\n        protected String toJson(Object data) {\r\n            val mockHttpOutputMessage = new MockHttpOutputMessage();\r\n            messageConverter.write(\r\n                    data, MediaType.APPLICATION_JSON, mockHttpOutputMessage);\r\n            return mockHttpOutputMessage.getBodyAsString();\r\n        }\r\n    }\r\n```\r\nYou could use it in your test class like this\r\n```java\r\n    @WebMvcTest(UserController.class)\r\n    @AutoConfigureMockMvc(addFilters = false)\r\n    public class UserControllerTest extends RestControllerTest {\r\n    \r\n        @Autowired\r\n        MockMvc mockMvc;\r\n    \r\n        @Test\r\n        public void whenRequestValid_thenReturnStatusOk() throws Exception{\r\n            User user = new User(&quot;John&quot;, &quot;QPublic&quot;, &quot;john.public@gmail.com&quot;,\r\n                    &quot;123456789&quot;, LocalDateTime.now(), LocalDateTime.now());      \r\n            mockMvc.perform(MockMvcRequestBuilders.post(&quot;/api/user/register&quot;)\r\n                    .content(toJson(user))\r\n                    .contentType(MediaType.APPLICATION_JSON)\r\n                    )\r\n                    .andExpect(MockMvcResultMatchers.status().isOk());\r\n        }\r\n    }\r\n```\r\nI hope it works for you","title":"Spring Boot Test: UserControllerTest Fails When Using Jackson ObjectMapper To Convert Model To JSON String","body":"<p>This is how I implement my rest controllers test. Maybe It could help you.</p>\n\n<p>I've this abstract class to encapsulate common tests functionalities regarding to the <em>JSON</em> mapping.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>    import lombok.SneakyThrows;\n    import lombok.val;\n    import org.springframework.beans.factory.annotation.Autowired;\n    import org.springframework.http.MediaType;\n    import org.springframework.http.converter.HttpMessageConverter;\n    import org.springframework.http.converter.json.MappingJackson2HttpMessageConverter;\n    import org.springframework.mock.http.MockHttpOutputMessage;\n\n    import java.nio.charset.StandardCharsets;\n    import java.util.Arrays;\n\n    import static org.junit.Assert.assertNotNull;\n\n    public abstract class RestControllerTest {\n\n        private final MediaType contentType = new MediaType(MediaType.APPLICATION_JSON.getType(),\n                MediaType.APPLICATION_JSON.getSubtype(),\n                StandardCharsets.UTF_8);\n\n        private HttpMessageConverter messageConverter;\n\n        protected MediaType getContentType() {\n            return contentType;\n        }\n\n        @Autowired\n        void setConverters(HttpMessageConverter&lt;?&gt;[] converters) {\n            messageConverter = Arrays.stream(converters)\n                    .filter(hmc -&gt; hmc instanceof MappingJackson2HttpMessageConverter)\n                    .findAny()\n                    .orElse(null);\n\n            assertNotNull(\"the JSON message converter must not be null\",\n                    messageConverter);\n        }\n\n        @SneakyThrows\n        protected String toJson(Object data) {\n            val mockHttpOutputMessage = new MockHttpOutputMessage();\n            messageConverter.write(\n                    data, MediaType.APPLICATION_JSON, mockHttpOutputMessage);\n            return mockHttpOutputMessage.getBodyAsString();\n        }\n    }\n</code></pre>\n\n<p>You could use it in your test class like this</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>    @WebMvcTest(UserController.class)\n    @AutoConfigureMockMvc(addFilters = false)\n    public class UserControllerTest extends RestControllerTest {\n\n        @Autowired\n        MockMvc mockMvc;\n\n        @Test\n        public void whenRequestValid_thenReturnStatusOk() throws Exception{\n            User user = new User(\"John\", \"QPublic\", \"john.public@gmail.com\",\n                    \"123456789\", LocalDateTime.now(), LocalDateTime.now());      \n            mockMvc.perform(MockMvcRequestBuilders.post(\"/api/user/register\")\n                    .content(toJson(user))\n                    .contentType(MediaType.APPLICATION_JSON)\n                    )\n                    .andExpect(MockMvcResultMatchers.status().isOk());\n        }\n    }\n</code></pre>\n\n<p>I hope it works for you</p>\n"},{"tags":[],"owner":{"account_id":3756337,"reputation":263,"user_id":3156071,"display_name":"Shahin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1564899010,"creation_date":1564899010,"answer_id":57344253,"question_id":57340548,"body_markdown":"As chrylis mentioned in comments, the problem occurred due to Java 8 Date &amp; Time API and Jackson serialization conflicts. By default, `ObjectMapper` doesn&#39;t understand the `LocalDateTime` data type, so I need to add ` com.fasterxml.jackson.datatype:jackson-datatype-jsr310` dependency to my maven which is a datatype module to make Jackson recognize Java 8 Date &amp; Time API data types. A [stackoverflow question][1] and a [blog post][2] helped me to figure out what actually my problem was.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/27952472/serialize-deserialize-java-8-java-time-with-jackson-json-mapper\r\n  [2]: https://touk.pl/blog/2016/02/12/formatting-java-time-with-spring-boot-using-json/","title":"Spring Boot Test: UserControllerTest Fails When Using Jackson ObjectMapper To Convert Model To JSON String","body":"<p>As chrylis mentioned in comments, the problem occurred due to Java 8 Date &amp; Time API and Jackson serialization conflicts. By default, <code>ObjectMapper</code> doesn't understand the <code>LocalDateTime</code> data type, so I need to add <code>com.fasterxml.jackson.datatype:jackson-datatype-jsr310</code> dependency to my maven which is a datatype module to make Jackson recognize Java 8 Date &amp; Time API data types. A <a href=\"https://stackoverflow.com/questions/27952472/serialize-deserialize-java-8-java-time-with-jackson-json-mapper\">stackoverflow question</a> and a <a href=\"https://touk.pl/blog/2016/02/12/formatting-java-time-with-spring-boot-using-json/\" rel=\"nofollow noreferrer\">blog post</a> helped me to figure out what actually my problem was.</p>\n"},{"tags":[],"owner":{"account_id":11022381,"reputation":242,"user_id":8096208,"display_name":"WonChul Heo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1564990628,"creation_date":1564990628,"answer_id":57354126,"question_id":57340548,"body_markdown":"If `LocalDateTime` is not a problem, I think we should implement` equals` in User class.","title":"Spring Boot Test: UserControllerTest Fails When Using Jackson ObjectMapper To Convert Model To JSON String","body":"<p>If <code>LocalDateTime</code> is not a problem, I think we should implement<code>equals</code> in User class.</p>\n"},{"tags":[],"owner":{"account_id":3486623,"reputation":547,"user_id":2917389,"display_name":"jlar310"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1679230869,"creation_date":1565005552,"answer_id":57357955,"question_id":57340548,"body_markdown":"Spring is not necessarily providing you with a &quot;vanilla&quot; ObjectMapper instance. By having Spring inject the `ObjectMapper` instance into the test instead of creating an `ObjectMapper` with the default constructor, you will get an instance that matches your actual run-time environment, provided that your Spring profile for your unit tests is set up correctly.\r\n\r\n\r\n    @RunWith(SpringRunner.class)\r\n    @SpringBootTest\r\n    @AutoConfigureMockMvc(addFilters = false)\r\n    public class UserControllerTest {\r\n\r\n        @Autowired\r\n        MockMvc mockMvc;\r\n\r\n        @Autowired\r\n        ObjectMapper objectMapper;\r\n\r\n        @Test\r\n        public void whenRequestValid_thenReturnStatusOk() throws Exception{\r\n            User user = new User(&quot;John&quot;, &quot;QPublic&quot;, &quot;john.public@gmail.com&quot;,\r\n                    &quot;123456789&quot;, LocalDateTime.now(), LocalDateTime.now());      \r\n            mockMvc.perform(MockMvcRequestBuilders.post(&quot;/api/user/register&quot;)\r\n                    .content(objectMapper.writeValueAsString(user))\r\n                    .contentType(MediaType.APPLICATION_JSON)\r\n                    )\r\n                    .andExpect(MockMvcResultMatchers.status().isOk());\r\n        }\r\n    }","title":"Spring Boot Test: UserControllerTest Fails When Using Jackson ObjectMapper To Convert Model To JSON String","body":"<p>Spring is not necessarily providing you with a &quot;vanilla&quot; ObjectMapper instance. By having Spring inject the <code>ObjectMapper</code> instance into the test instead of creating an <code>ObjectMapper</code> with the default constructor, you will get an instance that matches your actual run-time environment, provided that your Spring profile for your unit tests is set up correctly.</p>\n<pre><code>@RunWith(SpringRunner.class)\n@SpringBootTest\n@AutoConfigureMockMvc(addFilters = false)\npublic class UserControllerTest {\n\n    @Autowired\n    MockMvc mockMvc;\n\n    @Autowired\n    ObjectMapper objectMapper;\n\n    @Test\n    public void whenRequestValid_thenReturnStatusOk() throws Exception{\n        User user = new User(&quot;John&quot;, &quot;QPublic&quot;, &quot;john.public@gmail.com&quot;,\n                &quot;123456789&quot;, LocalDateTime.now(), LocalDateTime.now());      \n        mockMvc.perform(MockMvcRequestBuilders.post(&quot;/api/user/register&quot;)\n                .content(objectMapper.writeValueAsString(user))\n                .contentType(MediaType.APPLICATION_JSON)\n                )\n                .andExpect(MockMvcResultMatchers.status().isOk());\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":3756337,"reputation":263,"user_id":3156071,"display_name":"Shahin"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12295,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":57344253,"answer_count":4,"score":1,"last_activity_date":1679230869,"creation_date":1564852572,"question_id":57340548,"body_markdown":"I&#39;m testing a `@RestContoller` in Spring Boot which has a `@PostMapping` method and the method `@RequestBody` is validated using `@Valid` annotation. To test it, I&#39;m using `MockMvc` and in order to populate request body content I&#39;m using `Jackson ObjectMapper`; however, when the model is passed, the test fails: \r\n\r\n    MockHttpServletRequest:\r\n          HTTP Method = POST\r\n          Request URI = /api/user/register\r\n           Parameters = {}\r\n              Headers = [Content-Type:&quot;application/json&quot;]\r\n                 Body = &lt;no character encoding set&gt;\r\n        Session Attrs = {}\r\n    \r\n    Handler:\r\n                 Type = com.springboottutorial.todoapp.controller.UserController\r\n               Method = public org.springframework.http.ResponseEntity&lt;java.lang.String&gt; com.springboottutorial.todoapp.controller.UserController.register(com.springboottutorial.todoapp.dao.model.User)\r\n    \r\n    Async:\r\n        Async started = false\r\n         Async result = null\r\n    \r\n    Resolved Exception:\r\n                 Type = org.springframework.http.converter.HttpMessageNotReadableException\r\n    \r\n    ModelAndView:\r\n            View name = null\r\n                 View = null\r\n                Model = null\r\n    \r\n    FlashMap:\r\n           Attributes = null\r\n    \r\n    MockHttpServletResponse:\r\n               Status = 400\r\n        Error message = null\r\n              Headers = []\r\n         Content type = null\r\n                 Body = \r\n        Forwarded URL = null\r\n       Redirected URL = null\r\n              Cookies = []\r\n    \r\n    java.lang.AssertionError: Status \r\n    Expected :200\r\n    Actual   :400\r\n\r\nUser Model:\r\n\r\n    @Entity\r\n    @Table(name = &quot;users&quot;,\r\n            uniqueConstraints = @UniqueConstraint(columnNames = {&quot;EMAIL&quot;}))\r\n    public class User {\r\n    \r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name = &quot;ID&quot;)\r\n    private long id;\r\n    \r\n    @Column(name = &quot;FIRST_NAME&quot;)\r\n    @NotNull\r\n    private String firstName;\r\n    \r\n    @Column(name = &quot;LAST_NAME&quot;)\r\n    @NotNull\r\n    private String lastName;\r\n    \r\n    @Column(name = &quot;EMAIL&quot;)\r\n    @NotNull\r\n    @Email\r\n    private String emailAddress;\r\n    \r\n    @Column(name = &quot;PASSWORD&quot;)\r\n    @NotNull\r\n    private String password;\r\n    \r\n    @Column(name = &quot;CREATED_AT&quot;)\r\n    @NotNull\r\n    @Convert(converter = LocalDateTimeConveter.class)\r\n    private LocalDateTime createdAt;\r\n    \r\n    @Column(name = &quot;UPDATED_AT&quot;)\r\n    @NotNull\r\n    @Convert(converter = LocalDateTimeConveter.class)\r\n    private LocalDateTime updatedAt;\r\n\r\n    public User(@NotNull String firstName, @NotNull String lastName,\r\n                    @NotNull @Email String emailAddress, @NotNull String password,\r\n                    @NotNull LocalDateTime createdAt, @NotNull LocalDateTime updatedAt) {\r\n            this.firstName = firstName;\r\n            this.lastName = lastName;\r\n            this.emailAddress = emailAddress;\r\n            this.password = password;\r\n            this.createdAt = createdAt;\r\n            this.updatedAt = updatedAt;\r\n        }\r\n\r\n    //setters and getters: omitted\r\n\r\nUserController:\r\n\r\n    @RestController\r\n    @RequestMapping(&quot;/api/user&quot;)\r\n    public class UserController {\r\n    \r\n        @Autowired\r\n        UserService userService;\r\n    \r\n        @PostMapping(&quot;/register&quot;)\r\n        public ResponseEntity&lt;String&gt; register(@RequestBody @Valid User user){\r\n            userService.createUser(user);\r\n            return ResponseEntity.ok().build();\r\n        }\r\n    }\r\n\r\nUserControllerTest:\r\n\r\n    @RunWith(SpringRunner.class)\r\n    @SpringBootTest\r\n    @AutoConfigureMockMvc(addFilters = false)\r\n    public class UserControllerTest {\r\n    \r\n        @Autowired\r\n        MockMvc mockMvc;\r\n    \r\n        @Test\r\n        public void whenRequestValid_thenReturnStatusOk() throws Exception{\r\n            User user = new User(&quot;John&quot;, &quot;QPublic&quot;, &quot;john.public@gmail.com&quot;,\r\n                    &quot;123456789&quot;, LocalDateTime.now(), LocalDateTime.now());      \r\n            mockMvc.perform(MockMvcRequestBuilders.post(&quot;/api/user/register&quot;)\r\n                    .content(new ObjectMapper().writeValueAsString(user))\r\n                    .contentType(MediaType.APPLICATION_JSON)\r\n                    )\r\n                    .andExpect(MockMvcResultMatchers.status().isOk());\r\n        }\r\n    }\r\n\r\nWhen I build JSON string manually, the test passes: \r\n\r\n \r\n\r\n    String json = &quot;{\\n&quot; +\r\n                    &quot;\\t\\&quot;firstName\\&quot; : \\&quot;John\\&quot;,\\n&quot; +\r\n                    &quot;\\t\\&quot;lastName\\&quot; : \\&quot;QPublic\\&quot;,\\n&quot; +\r\n                    &quot;\\t\\&quot;password\\&quot; : \\&quot;123456789\\&quot;,\\n&quot; +\r\n                    &quot;\\t\\&quot;createdAt\\&quot; : \\&quot;2016-11-09T11:44:44.797\\&quot;,\\n&quot; +\r\n                    &quot;\\t\\&quot;updatedAt\\&quot; : \\&quot;2016-11-09T11:44:44.797\\&quot;,\\n&quot; +\r\n                    &quot;\\t\\&quot;emailAddress\\&quot; : \\&quot;john.public@gmail.com\\&quot;\\n&quot; +\r\n                    &quot;}&quot;;\r\n    \r\n            mockMvc.perform(MockMvcRequestBuilders.post(&quot;/api/user/register&quot;)\r\n                    .content(json)\r\n                    .contentType(MediaType.APPLICATION_JSON)\r\n                    )\r\n                    .andExpect(MockMvcResultMatchers.status().isOk());\r\n    ","title":"Spring Boot Test: UserControllerTest Fails When Using Jackson ObjectMapper To Convert Model To JSON String","body":"<p>I'm testing a <code>@RestContoller</code> in Spring Boot which has a <code>@PostMapping</code> method and the method <code>@RequestBody</code> is validated using <code>@Valid</code> annotation. To test it, I'm using <code>MockMvc</code> and in order to populate request body content I'm using <code>Jackson ObjectMapper</code>; however, when the model is passed, the test fails: </p>\n\n<pre><code>MockHttpServletRequest:\n      HTTP Method = POST\n      Request URI = /api/user/register\n       Parameters = {}\n          Headers = [Content-Type:\"application/json\"]\n             Body = &lt;no character encoding set&gt;\n    Session Attrs = {}\n\nHandler:\n             Type = com.springboottutorial.todoapp.controller.UserController\n           Method = public org.springframework.http.ResponseEntity&lt;java.lang.String&gt; com.springboottutorial.todoapp.controller.UserController.register(com.springboottutorial.todoapp.dao.model.User)\n\nAsync:\n    Async started = false\n     Async result = null\n\nResolved Exception:\n             Type = org.springframework.http.converter.HttpMessageNotReadableException\n\nModelAndView:\n        View name = null\n             View = null\n            Model = null\n\nFlashMap:\n       Attributes = null\n\nMockHttpServletResponse:\n           Status = 400\n    Error message = null\n          Headers = []\n     Content type = null\n             Body = \n    Forwarded URL = null\n   Redirected URL = null\n          Cookies = []\n\njava.lang.AssertionError: Status \nExpected :200\nActual   :400\n</code></pre>\n\n<p>User Model:</p>\n\n<pre><code>@Entity\n@Table(name = \"users\",\n        uniqueConstraints = @UniqueConstraint(columnNames = {\"EMAIL\"}))\npublic class User {\n\n@Id\n@GeneratedValue(strategy = GenerationType.IDENTITY)\n@Column(name = \"ID\")\nprivate long id;\n\n@Column(name = \"FIRST_NAME\")\n@NotNull\nprivate String firstName;\n\n@Column(name = \"LAST_NAME\")\n@NotNull\nprivate String lastName;\n\n@Column(name = \"EMAIL\")\n@NotNull\n@Email\nprivate String emailAddress;\n\n@Column(name = \"PASSWORD\")\n@NotNull\nprivate String password;\n\n@Column(name = \"CREATED_AT\")\n@NotNull\n@Convert(converter = LocalDateTimeConveter.class)\nprivate LocalDateTime createdAt;\n\n@Column(name = \"UPDATED_AT\")\n@NotNull\n@Convert(converter = LocalDateTimeConveter.class)\nprivate LocalDateTime updatedAt;\n\npublic User(@NotNull String firstName, @NotNull String lastName,\n                @NotNull @Email String emailAddress, @NotNull String password,\n                @NotNull LocalDateTime createdAt, @NotNull LocalDateTime updatedAt) {\n        this.firstName = firstName;\n        this.lastName = lastName;\n        this.emailAddress = emailAddress;\n        this.password = password;\n        this.createdAt = createdAt;\n        this.updatedAt = updatedAt;\n    }\n\n//setters and getters: omitted\n</code></pre>\n\n<p>UserController:</p>\n\n<pre><code>@RestController\n@RequestMapping(\"/api/user\")\npublic class UserController {\n\n    @Autowired\n    UserService userService;\n\n    @PostMapping(\"/register\")\n    public ResponseEntity&lt;String&gt; register(@RequestBody @Valid User user){\n        userService.createUser(user);\n        return ResponseEntity.ok().build();\n    }\n}\n</code></pre>\n\n<p>UserControllerTest:</p>\n\n<pre><code>@RunWith(SpringRunner.class)\n@SpringBootTest\n@AutoConfigureMockMvc(addFilters = false)\npublic class UserControllerTest {\n\n    @Autowired\n    MockMvc mockMvc;\n\n    @Test\n    public void whenRequestValid_thenReturnStatusOk() throws Exception{\n        User user = new User(\"John\", \"QPublic\", \"john.public@gmail.com\",\n                \"123456789\", LocalDateTime.now(), LocalDateTime.now());      \n        mockMvc.perform(MockMvcRequestBuilders.post(\"/api/user/register\")\n                .content(new ObjectMapper().writeValueAsString(user))\n                .contentType(MediaType.APPLICATION_JSON)\n                )\n                .andExpect(MockMvcResultMatchers.status().isOk());\n    }\n}\n</code></pre>\n\n<p>When I build JSON string manually, the test passes: </p>\n\n<pre><code>String json = \"{\\n\" +\n                \"\\t\\\"firstName\\\" : \\\"John\\\",\\n\" +\n                \"\\t\\\"lastName\\\" : \\\"QPublic\\\",\\n\" +\n                \"\\t\\\"password\\\" : \\\"123456789\\\",\\n\" +\n                \"\\t\\\"createdAt\\\" : \\\"2016-11-09T11:44:44.797\\\",\\n\" +\n                \"\\t\\\"updatedAt\\\" : \\\"2016-11-09T11:44:44.797\\\",\\n\" +\n                \"\\t\\\"emailAddress\\\" : \\\"john.public@gmail.com\\\"\\n\" +\n                \"}\";\n\n        mockMvc.perform(MockMvcRequestBuilders.post(\"/api/user/register\")\n                .content(json)\n                .contentType(MediaType.APPLICATION_JSON)\n                )\n                .andExpect(MockMvcResultMatchers.status().isOk());\n</code></pre>\n"},{"tags":["java","json","jackson"],"comments":[{"owner":{"account_id":4739993,"reputation":1837,"user_id":3833111,"accept_rate":100,"display_name":"Mr_Thorynque"},"score":0,"creation_date":1678651792,"post_id":75699149,"comment_id":133570780,"body_markdown":"Why don&#39;t pass through a simple POJO that match json structure ? After you can manage fields as you want.","body":"Why don&#39;t pass through a simple POJO that match json structure ? After you can manage fields as you want."},{"owner":{"account_id":5576335,"reputation":1262,"user_id":4419613,"display_name":"Boaz"},"score":0,"creation_date":1678797157,"post_id":75699149,"comment_id":133599591,"body_markdown":"I don&#39;t know the structure of this json","body":"I don&#39;t know the structure of this json"},{"owner":{"account_id":4739993,"reputation":1837,"user_id":3833111,"accept_rate":100,"display_name":"Mr_Thorynque"},"score":0,"creation_date":1678884670,"post_id":75699149,"comment_id":133619079,"body_markdown":"You can put it in a map, jackson does that.","body":"You can put it in a map, jackson does that."},{"owner":{"account_id":5576335,"reputation":1262,"user_id":4419613,"display_name":"Boaz"},"score":0,"creation_date":1678955155,"post_id":75699149,"comment_id":133633843,"body_markdown":"That&#39;s what I do, update the example with: \n`Map&lt;String, Object&gt; map = mapper.readValue(jsonString, Map.class)`","body":"That&#39;s what I do, update the example with:  <code>Map&lt;String, Object&gt; map = mapper.readValue(jsonString, Map.class)</code>"},{"owner":{"account_id":10798342,"reputation":318,"user_id":7943248,"display_name":"Zeuzif"},"score":0,"creation_date":1678973552,"post_id":75699149,"comment_id":133639286,"body_markdown":"do you have to use the `KeyDeserializer` ?","body":"do you have to use the <code>KeyDeserializer</code> ?"},{"owner":{"account_id":5576335,"reputation":1262,"user_id":4419613,"display_name":"Boaz"},"score":0,"creation_date":1679064229,"post_id":75699149,"comment_id":133658950,"body_markdown":"yes, I have to use KeyDeserializer","body":"yes, I have to use KeyDeserializer"}],"answers":[{"tags":[],"owner":{"account_id":26555431,"reputation":558,"user_id":20184128,"display_name":"berse2212"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679040262,"creation_date":1678973360,"answer_id":75756951,"question_id":75699149,"body_markdown":"There is no need for overriding a Deserializer. For dynamic JSONs you could simply use a JsonNode and then parse the structure however you want afterwards:\r\n\r\n\tpublic static void main(String[] args) throws Exception {\r\n\t\tJsonNode jsonNode = new ObjectMapper().readValue(&quot;&quot;&quot;\r\n\t\t\t\t{\r\n\t\t\t\t    &quot;upper_key&quot;:\r\n\t\t\t\t    {\r\n\t\t\t\t        &quot;lower_key&quot;: &quot;lower_value&quot;,\r\n\t\t\t\t        &quot;lower_key_2&quot;: &quot;lower_value_2&quot;\r\n\t\t\t\t    },\r\n\t\t\t\t    &quot;upper_key_2&quot;: &quot;upper_value_2&quot;\r\n\t\t\t\t}&quot;&quot;&quot;, JsonNode.class);\r\n\r\n\t\textractKeys(jsonNode);\r\n\t}\r\n\r\n\tpublic static void extractKeys(JsonNode jsonNode) {\r\n\r\n\t\tjsonNode.fieldNames().forEachRemaining(name -&gt; {\r\n\t\t\tSystem.out.println(name);\r\n\t\t\tJsonNode subnode = jsonNode.get(name);\r\n\r\n\t\t\tif (subnode.isObject()) {\r\n\t\t\t\textractKeys(subnode);\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\nprints:\r\n\r\n    upper_key\r\n    lower_key\r\n    lower_key_2\r\n    upper_key_2","title":"Override Jackson default KeyDeserializer","body":"<p>There is no need for overriding a Deserializer. For dynamic JSONs you could simply use a JsonNode and then parse the structure however you want afterwards:</p>\n<pre><code>public static void main(String[] args) throws Exception {\n    JsonNode jsonNode = new ObjectMapper().readValue(&quot;&quot;&quot;\n            {\n                &quot;upper_key&quot;:\n                {\n                    &quot;lower_key&quot;: &quot;lower_value&quot;,\n                    &quot;lower_key_2&quot;: &quot;lower_value_2&quot;\n                },\n                &quot;upper_key_2&quot;: &quot;upper_value_2&quot;\n            }&quot;&quot;&quot;, JsonNode.class);\n\n    extractKeys(jsonNode);\n}\n\npublic static void extractKeys(JsonNode jsonNode) {\n\n    jsonNode.fieldNames().forEachRemaining(name -&gt; {\n        System.out.println(name);\n        JsonNode subnode = jsonNode.get(name);\n\n        if (subnode.isObject()) {\n            extractKeys(subnode);\n        }\n    });\n}\n</code></pre>\n<p>prints:</p>\n<pre><code>upper_key\nlower_key\nlower_key_2\nupper_key_2\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10798342,"reputation":318,"user_id":7943248,"display_name":"Zeuzif"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678975162,"creation_date":1678975162,"answer_id":75757320,"question_id":75699149,"body_markdown":"KeyDeserializer call deserialize Key just for upper key. but you can get all keys by creating your own implementation for example\r\n\r\n```\r\nprivate static void getAllKeysUsingJsonNodeFieldNames(JsonNode value, List&lt;String&gt; keys) {\r\n\t\tif (value.isObject()) {\r\n\t\t\tIterator&lt;Entry&lt;String, JsonNode&gt;&gt; fields = value.fields();\r\n\t\t\tfields.forEachRemaining(field -&gt; {\r\n\t\t\t\tkeys.add(field.getKey());\r\n\t\t\t\tgetAllKeysUsingJsonNodeFieldNames((JsonNode) field.getValue(), keys);\r\n\t\t\t});\r\n\t\t} else if (value.isArray()) {\r\n\t\t\tArrayNode arrayField = (ArrayNode) value;\r\n\t\t\tarrayField.forEach(node -&gt; {\r\n\t\t\t\tgetAllKeysUsingJsonNodeFieldNames(node, keys);\r\n\t\t});\r\n\t}\r\n}\r\n```\r\n\r\nand call it from your main class\r\n\r\n```\r\npublic static void main(String[] args) throws JsonMappingException, JsonProcessingException {\r\n\t\tObjectMapper mapper = new ObjectMapper();\r\n\t\tList&lt;String&gt; keys = new ArrayList&lt;&gt;();\r\n        JsonNode jsonNode = mapper.readValue(jsonString, JsonNode.class);\r\n\t\tgetAllKeysUsingJsonNodeFieldNames(jsonNode, keys);\r\n\t\tSystem.out.println(keys);\r\n}\r\n```","title":"Override Jackson default KeyDeserializer","body":"<p>KeyDeserializer call deserialize Key just for upper key. but you can get all keys by creating your own implementation for example</p>\n<pre><code>private static void getAllKeysUsingJsonNodeFieldNames(JsonNode value, List&lt;String&gt; keys) {\n        if (value.isObject()) {\n            Iterator&lt;Entry&lt;String, JsonNode&gt;&gt; fields = value.fields();\n            fields.forEachRemaining(field -&gt; {\n                keys.add(field.getKey());\n                getAllKeysUsingJsonNodeFieldNames((JsonNode) field.getValue(), keys);\n            });\n        } else if (value.isArray()) {\n            ArrayNode arrayField = (ArrayNode) value;\n            arrayField.forEach(node -&gt; {\n                getAllKeysUsingJsonNodeFieldNames(node, keys);\n        });\n    }\n}\n</code></pre>\n<p>and call it from your main class</p>\n<pre><code>public static void main(String[] args) throws JsonMappingException, JsonProcessingException {\n        ObjectMapper mapper = new ObjectMapper();\n        List&lt;String&gt; keys = new ArrayList&lt;&gt;();\n        JsonNode jsonNode = mapper.readValue(jsonString, JsonNode.class);\n        getAllKeysUsingJsonNodeFieldNames(jsonNode, keys);\n        System.out.println(keys);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5406862,"reputation":306,"user_id":4305081,"display_name":"Le0pold"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679086447,"creation_date":1679084781,"answer_id":75771952,"question_id":75699149,"body_markdown":"Let&#39;s look at KeyDeserializer javadoc:\r\n\r\n&gt; KeyDeserializer: class that defines API used for deserializing JSON content field names into Java Map **keys**.\r\n\r\nNote word keys here. KeyDeserializer is used **only** for map keys deserialization. In your case your target type is `Map&lt;String, Object&gt;`. Any other types aren&#39;t affected by KeyDeserializer. That is the reason why your code behaves like that. Jackson basically does next steps:\r\n\r\n 1. It sees target type as *Map&lt;String, Object&gt;*. It means that for deserializaiton *MapDeserializer* class should be used. \r\n2. *MapDeserializer* uses for keys deserialization class that you provided.\r\n3. For values deserialization *UntypedObjectDeserializer* is used, because value type is object.\r\n\r\nWith your initial JSON it is impossible to apply key deserializer so lower keys will be affected by key deserializer: you need to have Map type instead of object. If you will use next JSON (I removed second upper key from original JSON because I want object to strictly match *Map&lt;String, Map&lt;String, String&gt;&gt;*):\r\n```json\r\n{\r\n    &quot;upper_key&quot;:\r\n    {\r\n        &quot;lower_key&quot;: &quot;lower_value&quot;,\r\n        &quot;lower_key_2&quot;: &quot;lower_value_2&quot;\r\n    }\r\n}\r\n```\r\nand next code (Note that key deserializer registered for Object type, and map typed as &quot;Object to Map&quot;, i.e. &quot;Object to *Map&lt;Object, Object&gt;*&quot;):\r\n```java\r\nObjectMapper mapper = new ObjectMapper();\r\nSimpleModule module = new SimpleModule();\r\nmodule.addKeyDeserializer(Object.class, new MyKeyParser());\r\n\r\nmapper.registerModule(module);\r\n\r\nMapType mapType = mapper.getTypeFactory().constructMapType(Map.class, Object.class, Map.class);\r\n\r\nMap&lt;String, Map&lt;String, String&gt;&gt; map = mapper.readValue(jsonString, mapType);\r\n```\r\n\r\n\r\noutput will be as you want:\r\n\r\n    upper_key\r\n    lower_key\r\n    lower_key_2","title":"Override Jackson default KeyDeserializer","body":"<p>Let's look at KeyDeserializer javadoc:</p>\n<blockquote>\n<p>KeyDeserializer: class that defines API used for deserializing JSON content field names into Java Map <strong>keys</strong>.</p>\n</blockquote>\n<p>Note word keys here. KeyDeserializer is used <strong>only</strong> for map keys deserialization. In your case your target type is <code>Map&lt;String, Object&gt;</code>. Any other types aren't affected by KeyDeserializer. That is the reason why your code behaves like that. Jackson basically does next steps:</p>\n<ol>\n<li>It sees target type as <em>Map&lt;String, Object&gt;</em>. It means that for deserializaiton <em>MapDeserializer</em> class should be used.</li>\n<li><em>MapDeserializer</em> uses for keys deserialization class that you provided.</li>\n<li>For values deserialization <em>UntypedObjectDeserializer</em> is used, because value type is object.</li>\n</ol>\n<p>With your initial JSON it is impossible to apply key deserializer so lower keys will be affected by key deserializer: you need to have Map type instead of object. If you will use next JSON (I removed second upper key from original JSON because I want object to strictly match <em>Map&lt;String, Map&lt;String, String&gt;&gt;</em>):</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;upper_key&quot;:\n    {\n        &quot;lower_key&quot;: &quot;lower_value&quot;,\n        &quot;lower_key_2&quot;: &quot;lower_value_2&quot;\n    }\n}\n</code></pre>\n<p>and next code (Note that key deserializer registered for Object type, and map typed as &quot;Object to Map&quot;, i.e. &quot;Object to <em>Map&lt;Object, Object&gt;</em>&quot;):</p>\n<pre class=\"lang-java prettyprint-override\"><code>ObjectMapper mapper = new ObjectMapper();\nSimpleModule module = new SimpleModule();\nmodule.addKeyDeserializer(Object.class, new MyKeyParser());\n\nmapper.registerModule(module);\n\nMapType mapType = mapper.getTypeFactory().constructMapType(Map.class, Object.class, Map.class);\n\nMap&lt;String, Map&lt;String, String&gt;&gt; map = mapper.readValue(jsonString, mapType);\n</code></pre>\n<p>output will be as you want:</p>\n<pre><code>upper_key\nlower_key\nlower_key_2\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17592368,"reputation":13891,"user_id":12763954,"display_name":"Olivier"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1679088057,"creation_date":1679088057,"answer_id":75772327,"question_id":75699149,"body_markdown":"The fact that Jackson doesn&#39;t use the `KeyDeserializer` for nested objects is explained by [Le0pold&#39;s answer](https://stackoverflow.com/a/75771952/12763954).\r\nHowever, there is a trick to make it work as expected (tested with Jackson 2.12.7): call\r\n[`addAbstractTypeMapping()`](https://fasterxml.github.io/jackson-databind/javadoc/2.12/com/fasterxml/jackson/databind/module/SimpleModule.html#addAbstractTypeMapping-java.lang.Class-java.lang.Class-) like this:\r\n\r\n``` lang-java\r\nimport java.util.*;\r\nimport com.fasterxml.jackson.core.JsonProcessingException;\r\nimport com.fasterxml.jackson.databind.*;\r\nimport com.fasterxml.jackson.databind.module.SimpleModule;\r\n\r\npublic class Test\r\n{\r\n    public static void main(String[] args) throws JsonProcessingException\r\n    {\r\n\t\tObjectMapper mapper = new ObjectMapper();\r\n\t\tSimpleModule module = new SimpleModule();\r\n\t\tmodule.addKeyDeserializer(Object.class, new MyKeyParser());\r\n\t\tmodule.addAbstractTypeMapping(Map.class, LinkedHashMap.class); // this line does the trick\r\n\t\tmapper.registerModule(module);\r\n\r\n\t\tString jsonString = &quot;{\\&quot;upper_key\\&quot;: {\\&quot;lower_key\\&quot;: \\&quot;lower_value\\&quot;, \\&quot;lower_key_2\\&quot;: \\&quot;lower_value_2\\&quot;}, \\&quot;upper_key_2\\&quot;: \\&quot;upper_value_2\\&quot;}&quot;;\r\n\t\tMap map = mapper.readValue(jsonString, Map.class);\r\n    }\r\n\r\n\tpublic static class MyKeyParser extends KeyDeserializer\r\n\t{\r\n\t\t@Override\r\n\t\tpublic Object deserializeKey(String key, DeserializationContext deserializationContext)\r\n\t\t{\r\n\t\t\tSystem.out.println(key);\r\n\t\t\treturn key;\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n\r\nOutput:\r\n\r\n``` lang-none\r\nupper_key\r\nlower_key\r\nlower_key_2\r\nupper_key_2\r\n```\r\n","title":"Override Jackson default KeyDeserializer","body":"<p>The fact that Jackson doesn't use the <code>KeyDeserializer</code> for nested objects is explained by <a href=\"https://stackoverflow.com/a/75771952/12763954\">Le0pold's answer</a>.\nHowever, there is a trick to make it work as expected (tested with Jackson 2.12.7): call\n<a href=\"https://fasterxml.github.io/jackson-databind/javadoc/2.12/com/fasterxml/jackson/databind/module/SimpleModule.html#addAbstractTypeMapping-java.lang.Class-java.lang.Class-\" rel=\"nofollow noreferrer\"><code>addAbstractTypeMapping()</code></a> like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.*;\nimport com.fasterxml.jackson.core.JsonProcessingException;\nimport com.fasterxml.jackson.databind.*;\nimport com.fasterxml.jackson.databind.module.SimpleModule;\n\npublic class Test\n{\n    public static void main(String[] args) throws JsonProcessingException\n    {\n        ObjectMapper mapper = new ObjectMapper();\n        SimpleModule module = new SimpleModule();\n        module.addKeyDeserializer(Object.class, new MyKeyParser());\n        module.addAbstractTypeMapping(Map.class, LinkedHashMap.class); // this line does the trick\n        mapper.registerModule(module);\n\n        String jsonString = &quot;{\\&quot;upper_key\\&quot;: {\\&quot;lower_key\\&quot;: \\&quot;lower_value\\&quot;, \\&quot;lower_key_2\\&quot;: \\&quot;lower_value_2\\&quot;}, \\&quot;upper_key_2\\&quot;: \\&quot;upper_value_2\\&quot;}&quot;;\n        Map map = mapper.readValue(jsonString, Map.class);\n    }\n\n    public static class MyKeyParser extends KeyDeserializer\n    {\n        @Override\n        public Object deserializeKey(String key, DeserializationContext deserializationContext)\n        {\n            System.out.println(key);\n            return key;\n        }\n    }\n}\n</code></pre>\n<p>Output:</p>\n<pre class=\"lang-none prettyprint-override\"><code>upper_key\nlower_key\nlower_key_2\nupper_key_2\n</code></pre>\n"}],"owner":{"account_id":5576335,"reputation":1262,"user_id":4419613,"display_name":"Boaz"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":400,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":75772327,"answer_count":4,"score":0,"last_activity_date":1679230738,"creation_date":1678468623,"question_id":75699149,"body_markdown":"Im trying to override the default KeyDeserializer but it seems to work only on top level key:\r\n\r\nThe input JSON\r\n```\r\n{\r\n    &quot;upper_key&quot;:\r\n    {\r\n        &quot;lower_key&quot;: &quot;lower_value&quot;,\r\n        &quot;lower_key_2&quot;: &quot;lower_value_2&quot;\r\n    },\r\n    &quot;upper_key_2&quot;: &quot;upper_value_2&quot;\r\n}\r\n\r\n```\r\n\r\nThe mapper I use\r\n```\r\n    ObjectMapper mapper = new ObjectMapper();\r\n    SimpleModule module = new SimpleModule();\r\n    module.addKeyDeserializer(Object.class, new MyKeyParser());\r\n    mapper.registerModule(module);\r\n    Map&lt;String, Object&gt; map = mapper.readValue(jsonString, Map.class);\r\n```\r\n\r\nand the KeyDeserializer\r\n\r\n```\r\npublic class MyKeyParser extends KeyDeserializer {\r\n\r\n  @Override\r\n  public String deserializeKey(String key, DeserializationContext deserializationContext) {\r\n    System.out.println(key);\r\n    return key;\r\n  }\r\n\r\n}\r\n```\r\n\r\nThe print output for the given json is:\r\n```\r\nupper_key\r\nupper_key_2\r\n```\r\n\r\nWhat I expected it to be (order doesn&#39;t matter)\r\n```\r\nupper_key\r\nlower_key\r\nlower_key_2\r\nupper_key_2\r\n```\r\n\r\nWhat I&#39;m missing?\r\n\r\nEDIT:  \r\nI see some answers give alternative ways to get the keys but this is not the question.  \r\nI want to understand how to use the KeyDeserializer.  \r\nMy real intent is to alter the keys - for example add suffix. so I don&#39;t want to iterate over the map twice and create 2 maps.  \r\n\r\nI know I can write a Map.class Deserializer and do everything there. But the question is why the KeyDeserializer work only on top level keys and not how to manipulate maps.\r\n\r\nThank you","title":"Override Jackson default KeyDeserializer","body":"<p>Im trying to override the default KeyDeserializer but it seems to work only on top level key:</p>\n<p>The input JSON</p>\n<pre><code>{\n    &quot;upper_key&quot;:\n    {\n        &quot;lower_key&quot;: &quot;lower_value&quot;,\n        &quot;lower_key_2&quot;: &quot;lower_value_2&quot;\n    },\n    &quot;upper_key_2&quot;: &quot;upper_value_2&quot;\n}\n\n</code></pre>\n<p>The mapper I use</p>\n<pre><code>    ObjectMapper mapper = new ObjectMapper();\n    SimpleModule module = new SimpleModule();\n    module.addKeyDeserializer(Object.class, new MyKeyParser());\n    mapper.registerModule(module);\n    Map&lt;String, Object&gt; map = mapper.readValue(jsonString, Map.class);\n</code></pre>\n<p>and the KeyDeserializer</p>\n<pre><code>public class MyKeyParser extends KeyDeserializer {\n\n  @Override\n  public String deserializeKey(String key, DeserializationContext deserializationContext) {\n    System.out.println(key);\n    return key;\n  }\n\n}\n</code></pre>\n<p>The print output for the given json is:</p>\n<pre><code>upper_key\nupper_key_2\n</code></pre>\n<p>What I expected it to be (order doesn't matter)</p>\n<pre><code>upper_key\nlower_key\nlower_key_2\nupper_key_2\n</code></pre>\n<p>What I'm missing?</p>\n<p>EDIT:<br />\nI see some answers give alternative ways to get the keys but this is not the question.<br />\nI want to understand how to use the KeyDeserializer.<br />\nMy real intent is to alter the keys - for example add suffix. so I don't want to iterate over the map twice and create 2 maps.</p>\n<p>I know I can write a Map.class Deserializer and do everything there. But the question is why the KeyDeserializer work only on top level keys and not how to manipulate maps.</p>\n<p>Thank you</p>\n"},{"tags":["java","sql","spring-boot","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":4395013,"reputation":1126,"user_id":3582362,"accept_rate":100,"display_name":"Calvin P."},"score":1,"creation_date":1679145331,"post_id":75775642,"comment_id":133670896,"body_markdown":"My opinion is create a query method for each set of criteria and use a method in the service layer to call the appropriate method based on the non null arguments that are passed in.","body":"My opinion is create a query method for each set of criteria and use a method in the service layer to call the appropriate method based on the non null arguments that are passed in."},{"owner":{"account_id":18669557,"reputation":640,"user_id":13608717,"display_name":"Daniel"},"score":0,"creation_date":1679152747,"post_id":75775642,"comment_id":133672070,"body_markdown":"I agree with @Calvin here - such approach would also be much easier to read, test &amp; support","body":"I agree with @Calvin here - such approach would also be much easier to read, test &amp; support"},{"owner":{"account_id":17520379,"reputation":1536,"user_id":12706564,"display_name":"Emanuel Trandafir"},"score":0,"creation_date":1679154863,"post_id":75775642,"comment_id":133672460,"body_markdown":"alternatively, you can use JpaSpecifications for dynamic jpa queries. \nhttps://spring.io/blog/2011/04/26/advanced-spring-data-jpa-specifications-and-querydsl","body":"alternatively, you can use JpaSpecifications for dynamic jpa queries.  <a href=\"https://spring.io/blog/2011/04/26/advanced-spring-data-jpa-specifications-and-querydsl\" rel=\"nofollow noreferrer\">spring.io/blog/2011/04/26/&hellip;</a>"},{"owner":{"account_id":4395013,"reputation":1126,"user_id":3582362,"accept_rate":100,"display_name":"Calvin P."},"score":0,"creation_date":1679169106,"post_id":75775642,"comment_id":133674656,"body_markdown":"If you start having more optional criteria, then I agree with @EmanuelTrandafir. JpaSpecifications would be the way to go. For the few optionals you have here, either option would suffice. Again, that’s just my personal opinion.","body":"If you start having more optional criteria, then I agree with @EmanuelTrandafir. JpaSpecifications would be the way to go. For the few optionals you have here, either option would suffice. Again, that’s just my personal opinion."}],"owner":{"account_id":15338304,"reputation":173,"user_id":11066001,"display_name":"Yashika Chandra"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":100,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679230685,"creation_date":1679139729,"question_id":75775642,"body_markdown":"     @Query(&quot;select m from MaterialMetadata m where m.myKey= :myKey and m.statusType= :statusType &quot; +\r\n                            &quot;and (m.createdTime&gt;= :startTime or :startTime=0) and (m.createdTime&lt;= :endTime or :endTime=0) &quot; +\r\n                            &quot;and (m.userKey= :userKey or :userKey is null) and (m.title like %:title% or :title is null)&quot;)\r\n                    Page&lt;MaterialMetadata&gt; findByMyKeyAndStatusTypeAndCreatedTimeAndUserKeyAndTitleContainingIgnoreCase(@Param(&quot;myKey&quot;) String myKey, @Param(&quot;statusType&quot;) StatusType statusType, @Param(&quot;startTime&quot;) long startTime, @Param(&quot;endTime&quot;) long endTime, @Param(&quot;userKey&quot;) String userKey, @Param(&quot;title&quot;) String title, Pageable pageable);\r\n\r\n\r\n\r\nwrite a query where mykey and statusType is a mandatory column and the rest are optional.\r\n\r\nIn **createdTime** startTime and endTime is could be 0 or they have value, if they have value then search the time in between the start and end time.\r\n\r\nif only startTime has value then search from startTime and its above.\r\n\r\nif only endTime has value then search from endTime and it&#39;s below.\r\n\r\nif both do not have any value then search on the rest column.\r\n\r\nFor **Title**, it could search on a like basis.\r\n\r\nIssue -\r\n\r\n 1. for the title it&#39;s returning on an equal basis. \r\n 2. For createTime if any of field is missing does not give any output.\r\n3. if any optional field is missing, there is no output\r\n\r\n","title":"How to write a Spring data jpa method for optional parameter","body":"<pre><code> @Query(&quot;select m from MaterialMetadata m where m.myKey= :myKey and m.statusType= :statusType &quot; +\n                        &quot;and (m.createdTime&gt;= :startTime or :startTime=0) and (m.createdTime&lt;= :endTime or :endTime=0) &quot; +\n                        &quot;and (m.userKey= :userKey or :userKey is null) and (m.title like %:title% or :title is null)&quot;)\n                Page&lt;MaterialMetadata&gt; findByMyKeyAndStatusTypeAndCreatedTimeAndUserKeyAndTitleContainingIgnoreCase(@Param(&quot;myKey&quot;) String myKey, @Param(&quot;statusType&quot;) StatusType statusType, @Param(&quot;startTime&quot;) long startTime, @Param(&quot;endTime&quot;) long endTime, @Param(&quot;userKey&quot;) String userKey, @Param(&quot;title&quot;) String title, Pageable pageable);\n</code></pre>\n<p>write a query where mykey and statusType is a mandatory column and the rest are optional.</p>\n<p>In <strong>createdTime</strong> startTime and endTime is could be 0 or they have value, if they have value then search the time in between the start and end time.</p>\n<p>if only startTime has value then search from startTime and its above.</p>\n<p>if only endTime has value then search from endTime and it's below.</p>\n<p>if both do not have any value then search on the rest column.</p>\n<p>For <strong>Title</strong>, it could search on a like basis.</p>\n<p>Issue -</p>\n<ol>\n<li>for the title it's returning on an equal basis.</li>\n<li>For createTime if any of field is missing does not give any output.</li>\n<li>if any optional field is missing, there is no output</li>\n</ol>\n"},{"tags":["java","jmx"],"answers":[{"tags":[],"owner":{"display_name":"user2066936"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1679230536,"creation_date":1472427419,"answer_id":39196767,"question_id":34508184,"body_markdown":"Change \r\n\r\n    QueryExp exp = Query.eq(Query.attr(&quot;type&quot;), Query.value(&quot;Hello&quot;));\r\n\r\nto\r\n\r\n    QueryExp exp = Query.eq(Query.attr(&quot;Message&quot;), Query.value(&quot;Hello World&quot;));\r\nSince type &quot;type&quot; is not an attribute.\r\nAlternatively, if you are trying to query by &quot;type,&quot; which is part of the `ObjectName`, you can construct the object name like so:\r\n\r\n    String objectName = &quot;*:type=Hello&quot;;\r\n\r\nThen make the query as before:\r\n\r\n    Set&lt;ObjectInstance&gt; instances = server.queryMBeans(new ObjectName(objectName), null);","title":"JMX MBeanServer.queryMBeans with Query exp does not work","body":"<p>Change</p>\n<pre><code>QueryExp exp = Query.eq(Query.attr(&quot;type&quot;), Query.value(&quot;Hello&quot;));\n</code></pre>\n<p>to</p>\n<pre><code>QueryExp exp = Query.eq(Query.attr(&quot;Message&quot;), Query.value(&quot;Hello World&quot;));\n</code></pre>\n<p>Since type &quot;type&quot; is not an attribute.\nAlternatively, if you are trying to query by &quot;type,&quot; which is part of the <code>ObjectName</code>, you can construct the object name like so:</p>\n<pre><code>String objectName = &quot;*:type=Hello&quot;;\n</code></pre>\n<p>Then make the query as before:</p>\n<pre><code>Set&lt;ObjectInstance&gt; instances = server.queryMBeans(new ObjectName(objectName), null);\n</code></pre>\n"}],"owner":{"account_id":1859873,"reputation":410,"user_id":1684651,"accept_rate":40,"display_name":"user1684651"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4640,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1679230536,"creation_date":1451381348,"question_id":34508184,"body_markdown":"I&#39;d like to use MBeanServer.queryMBeans(ObjectName name, QueryExp query) to get MBeans with query expression, but it seems it does not really work with QueryExp query. For example I have such test code: \r\n\r\n\r\n    public class CreateAndRegisterMBeanInMBeanServer {\r\n\r\n    /**\r\n     * @param args\r\n     */\r\n    public static void main(String[] args) throws Exception {\r\n\r\n        String objectName = &quot;com.javacodegeeks.snippets.enterprise:type=Hello&quot;;\r\n        QueryExp exp = Query.eq(Query.attr(&quot;type&quot;), Query.value(&quot;Hello&quot;));\r\n        \r\n\r\n        MBeanServer server = ManagementFactory.getPlatformMBeanServer();\r\n\r\n        // Construct the ObjectName for the Hello MBean we will register\r\n        ObjectName mbeanName = new ObjectName(objectName);\r\n\r\n        Hello mbean = new Hello();\r\n\r\n        server.registerMBean(mbean, mbeanName);\r\n\r\n        Set&lt;ObjectInstance&gt; instances = server.queryMBeans(new ObjectName(objectName), null);\r\n        System.out.println(instances.size());\r\n\r\n        for (int i = 0; i &lt; instances.size(); i++) {\r\n            ObjectInstance instance = (ObjectInstance) instances.toArray()[i];\r\n\r\n            System.out.println(&quot;Class Name:t&quot; + instance.getClassName());\r\n            System.out.println(&quot;Object Name:t&quot; + instance.getObjectName());\r\n        }\r\n\r\n    }\r\n\r\n    static class Hello implements HelloMBean {\r\n\r\n        private String message = &quot;Hello World&quot;;\r\n\r\n        @Override\r\n        public String getMessage() {\r\n            return this.message;\r\n        }\r\n\r\n        @Override\r\n        public void sayHello() {\r\n            System.out.println(message);\r\n        }\r\n\r\n        @Override\r\n        public void setMessage(String message) {\r\n            this.message = message;\r\n        }\r\n\r\n    }\r\n\r\n    static interface HelloMBean {\r\n\r\n        // operations\r\n\r\n        public void sayHello();\r\n\r\n        // attributes\r\n\r\n        // a read-write attribute called Message of type String\r\n        public String getMessage();\r\n\r\n        public void setMessage(String message);\r\n\r\n    }\r\n\r\n}\r\n\r\nI can get expected out:\r\n1\r\nClass Name:tCreateAndRegisterMBeanInMBeanServer$Hello\r\nObject Name:tcom.javacodegeeks.snippets.enterprise:type=Hello\r\n\r\nBut if I change my code to use defined QueryExp exp as:\r\n\r\nSet&lt;ObjectInstance&gt; instances = server.queryMBeans(new ObjectName(objectName), exp);\r\n\r\nI can not see any selected MBean, Is that the correct way to use such Query Exp ? \r\n\r\nThanks,\r\n","title":"JMX MBeanServer.queryMBeans with Query exp does not work","body":"<p>I'd like to use MBeanServer.queryMBeans(ObjectName name, QueryExp query) to get MBeans with query expression, but it seems it does not really work with QueryExp query. For example I have such test code: </p>\n\n<pre><code>public class CreateAndRegisterMBeanInMBeanServer {\n\n/**\n * @param args\n */\npublic static void main(String[] args) throws Exception {\n\n    String objectName = \"com.javacodegeeks.snippets.enterprise:type=Hello\";\n    QueryExp exp = Query.eq(Query.attr(\"type\"), Query.value(\"Hello\"));\n\n\n    MBeanServer server = ManagementFactory.getPlatformMBeanServer();\n\n    // Construct the ObjectName for the Hello MBean we will register\n    ObjectName mbeanName = new ObjectName(objectName);\n\n    Hello mbean = new Hello();\n\n    server.registerMBean(mbean, mbeanName);\n\n    Set&lt;ObjectInstance&gt; instances = server.queryMBeans(new ObjectName(objectName), null);\n    System.out.println(instances.size());\n\n    for (int i = 0; i &lt; instances.size(); i++) {\n        ObjectInstance instance = (ObjectInstance) instances.toArray()[i];\n\n        System.out.println(\"Class Name:t\" + instance.getClassName());\n        System.out.println(\"Object Name:t\" + instance.getObjectName());\n    }\n\n}\n\nstatic class Hello implements HelloMBean {\n\n    private String message = \"Hello World\";\n\n    @Override\n    public String getMessage() {\n        return this.message;\n    }\n\n    @Override\n    public void sayHello() {\n        System.out.println(message);\n    }\n\n    @Override\n    public void setMessage(String message) {\n        this.message = message;\n    }\n\n}\n\nstatic interface HelloMBean {\n\n    // operations\n\n    public void sayHello();\n\n    // attributes\n\n    // a read-write attribute called Message of type String\n    public String getMessage();\n\n    public void setMessage(String message);\n\n}\n</code></pre>\n\n<p>}</p>\n\n<p>I can get expected out:\n1\nClass Name:tCreateAndRegisterMBeanInMBeanServer$Hello\nObject Name:tcom.javacodegeeks.snippets.enterprise:type=Hello</p>\n\n<p>But if I change my code to use defined QueryExp exp as:</p>\n\n<p>Set instances = server.queryMBeans(new ObjectName(objectName), exp);</p>\n\n<p>I can not see any selected MBean, Is that the correct way to use such Query Exp ? </p>\n\n<p>Thanks,</p>\n"},{"tags":["java","swagger"],"owner":{"account_id":16437875,"reputation":209,"user_id":14564074,"display_name":"noob234"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":278,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1679228911,"creation_date":1679228911,"question_id":75781981,"body_markdown":"I want different default values for my request, I don&#39;t want the ones that Swagger suggests.\r\n\r\nLet&#39;s say I want this class to have some default values:\r\n\r\n```\r\n@Data\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\npublic class Example{\r\n    private Long id;\r\n    private String title;\r\n}\r\n```\r\n\r\nI did some research and tried this @Schema annotation, but unfortunately nothing changed:\r\n```\r\n    @PutMapping(&quot;/{id}&quot;)\r\n    @ResponseStatus(HttpStatus.OK)\r\n    @ApiResponse(responseCode = &quot;200&quot;, description = &quot;test&quot;)\r\n    @Operation(\r\n            summary = &quot;test&quot;,\r\n            requestBody = @io.swagger.v3.oas.annotations.parameters.RequestBody(\r\n            content = @Content(\r\n                    mediaType = &quot;application/json&quot;,\r\n                    schema = @Schema(implementation = Example.class, example = SwaggerConstants.EXAMPLE_DEFAULT_VALUES)\r\n            )\r\n    ))\r\n    public Example uploadExample(\r\n            @PathVariable(&quot;id&quot;) Long id,\r\n            @RequestBody() Example example) {\r\n\r\n        return exampleService.uploadExample(id, example);\r\n    }\r\n```\r\n\r\nSwaggerConstants looks like this:\r\n```\r\n@NoArgsConstructor(access = AccessLevel.PRIVATE)\r\npublic class SwaggerConstants {\r\n    public static final String EXAMPLE_DEFAULT_VALUES =\r\n            &quot;{\\n&quot; +\r\n                    &quot;  \\&quot;id\\&quot;: 0,\\n&quot; +\r\n                    &quot;  \\&quot;title\\&quot;: \\&quot;Default Title\\&quot;\\n&quot; +\r\n                    &quot;}&quot;;\r\n}\r\n```","title":"Swagger v3 default values for Request body do not work","body":"<p>I want different default values for my request, I don't want the ones that Swagger suggests.</p>\n<p>Let's say I want this class to have some default values:</p>\n<pre><code>@Data\n@NoArgsConstructor\n@AllArgsConstructor\npublic class Example{\n    private Long id;\n    private String title;\n}\n</code></pre>\n<p>I did some research and tried this @Schema annotation, but unfortunately nothing changed:</p>\n<pre><code>    @PutMapping(&quot;/{id}&quot;)\n    @ResponseStatus(HttpStatus.OK)\n    @ApiResponse(responseCode = &quot;200&quot;, description = &quot;test&quot;)\n    @Operation(\n            summary = &quot;test&quot;,\n            requestBody = @io.swagger.v3.oas.annotations.parameters.RequestBody(\n            content = @Content(\n                    mediaType = &quot;application/json&quot;,\n                    schema = @Schema(implementation = Example.class, example = SwaggerConstants.EXAMPLE_DEFAULT_VALUES)\n            )\n    ))\n    public Example uploadExample(\n            @PathVariable(&quot;id&quot;) Long id,\n            @RequestBody() Example example) {\n\n        return exampleService.uploadExample(id, example);\n    }\n</code></pre>\n<p>SwaggerConstants looks like this:</p>\n<pre><code>@NoArgsConstructor(access = AccessLevel.PRIVATE)\npublic class SwaggerConstants {\n    public static final String EXAMPLE_DEFAULT_VALUES =\n            &quot;{\\n&quot; +\n                    &quot;  \\&quot;id\\&quot;: 0,\\n&quot; +\n                    &quot;  \\&quot;title\\&quot;: \\&quot;Default Title\\&quot;\\n&quot; +\n                    &quot;}&quot;;\n}\n</code></pre>\n"},{"tags":["java","json","spring-boot","postman","put"],"answers":[{"tags":[],"owner":{"account_id":1674328,"reputation":2652,"user_id":1540177,"display_name":"grekier"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679228644,"creation_date":1679228644,"answer_id":75781954,"question_id":75781859,"body_markdown":"JPA needs to determine if `save` is new or update. To do so, it will, by default, use the primary key that looks to be your ID. This means that changing your ID will tell JPA that it is a new entry.\r\n\r\nEasiest way is probably to use native query. In your repo, have a method something like:\r\n```\r\n@Query(nativeQuery = true,\r\n           value = &quot;update activity set activityID = ?1 where activityId = ?2&quot;)\r\nvoid updateActivityId(String newId, String oldId);\r\n```","title":"How to update id of an object through Postman","body":"<p>JPA needs to determine if <code>save</code> is new or update. To do so, it will, by default, use the primary key that looks to be your ID. This means that changing your ID will tell JPA that it is a new entry.</p>\n<p>Easiest way is probably to use native query. In your repo, have a method something like:</p>\n<pre><code>@Query(nativeQuery = true,\n           value = &quot;update activity set activityID = ?1 where activityId = ?2&quot;)\nvoid updateActivityId(String newId, String oldId);\n</code></pre>\n"}],"owner":{"account_id":24931076,"reputation":55,"user_id":18798172,"display_name":"vbnm"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":374,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679228644,"creation_date":1679227572,"question_id":75781859,"body_markdown":"I have some dummy data in my database where an &quot;activity&quot; instance only contains an activityId as its attribute. Id&#39;s are strings and are manually set for now. This is just a test/dummy project.\r\n\r\nI call a @RestController in my spring boot project that has a putmapping which should save the changed object. \r\n\r\nI want to update an existing activity and just change its id to see if it works.\r\nThe putmapping is as follows:\r\n\r\n```\r\n@PutMapping(&quot;/activity/{id}&quot;)\r\n    public ResponseEntity&lt;Activity&gt; updateActivity(@PathVariable String id, @RequestBody Activity activity) {\r\n        Optional&lt;Activity&gt; activityOptional = activityRepo.findById(id);\r\n        if (activityOptional.isPresent()) {\r\n            activityRepo.save(activity);\r\n            return new ResponseEntity&lt;&gt;(activity, HttpStatus.OK);\r\n        } else {\r\n            return new ResponseEntity&lt;&gt;(HttpStatus.NOT_FOUND);\r\n        }\r\n    }\r\n```\r\nIn postman I have made a put request where I call the url: localhost:8080/activity/0001\r\n\r\nas I want to update the activity with id=0001. I want to update it to be, say, 0033.\r\n\r\n\r\n\r\nIn postman I input the raw json format of what I want it to change to:\r\n```\r\n{\r\n    &quot;activityId&quot;: &quot;0033&quot;\r\n}\r\n```\r\nBy doing this, it doesn&#39;t update the activity but makes a new one with the new id.\r\n\r\nHow to I actually update the id of an activity? ","title":"How to update id of an object through Postman","body":"<p>I have some dummy data in my database where an &quot;activity&quot; instance only contains an activityId as its attribute. Id's are strings and are manually set for now. This is just a test/dummy project.</p>\n<p>I call a @RestController in my spring boot project that has a putmapping which should save the changed object.</p>\n<p>I want to update an existing activity and just change its id to see if it works.\nThe putmapping is as follows:</p>\n<pre><code>@PutMapping(&quot;/activity/{id}&quot;)\n    public ResponseEntity&lt;Activity&gt; updateActivity(@PathVariable String id, @RequestBody Activity activity) {\n        Optional&lt;Activity&gt; activityOptional = activityRepo.findById(id);\n        if (activityOptional.isPresent()) {\n            activityRepo.save(activity);\n            return new ResponseEntity&lt;&gt;(activity, HttpStatus.OK);\n        } else {\n            return new ResponseEntity&lt;&gt;(HttpStatus.NOT_FOUND);\n        }\n    }\n</code></pre>\n<p>In postman I have made a put request where I call the url: localhost:8080/activity/0001</p>\n<p>as I want to update the activity with id=0001. I want to update it to be, say, 0033.</p>\n<p>In postman I input the raw json format of what I want it to change to:</p>\n<pre><code>{\n    &quot;activityId&quot;: &quot;0033&quot;\n}\n</code></pre>\n<p>By doing this, it doesn't update the activity but makes a new one with the new id.</p>\n<p>How to I actually update the id of an activity?</p>\n"},{"tags":["java","networking","latency","spring-resttemplate"],"owner":{"account_id":2418810,"reputation":876,"user_id":2112296,"accept_rate":13,"display_name":"NameNotFoundException"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679228454,"creation_date":1679228454,"question_id":75781943,"body_markdown":"I am using SpringBoot RestTemplate to call one of the downstream HTTP get method. During the analysis phase we realized that the time difference between application receiving the response v/s ELB logs stating the response was sent is significant.\r\n\r\nResponse body is a JSON &amp; having around 5-10K characters. Generally this time delay is in the range of 5-10ms. I have almost no knowledge of networking so wondering if anybody guide me to debug this further. I am not sure if this is the standard time it takes to read the response from target ELB.\r\n\r\nMore information below:\r\n\r\n    Service A -&gt; ELB -&gt; Service B\r\n\r\nI am making a request from service A to service B.\r\n\r\nService B &amp; ELB logs stats that a given request had below timelines:\r\n1. ELB logs stats that it received a given request &amp; ELB took 1ms to find the target &amp; redirect the request to the targeted host.\r\n2. ELB logs stats that service B took 20ms to respond &amp; almost similar time is recorded in service B application logs as well.\r\n3. Service A logs stats that it took ~29ms to get the response from service B.\r\n\r\nAs per my understanding, it is service A which is taking time to read the response from ELB. I might be wrong here in this interpretation.\r\n\r\nI am looking the find the reason &amp; help in debugging that why it takes on average ~5-10ms to read the response at service A end despite service B ELB stats that, it completed the call within 20ms.","title":"Springboot RestTemplate taking time to read response from ELB","body":"<p>I am using SpringBoot RestTemplate to call one of the downstream HTTP get method. During the analysis phase we realized that the time difference between application receiving the response v/s ELB logs stating the response was sent is significant.</p>\n<p>Response body is a JSON &amp; having around 5-10K characters. Generally this time delay is in the range of 5-10ms. I have almost no knowledge of networking so wondering if anybody guide me to debug this further. I am not sure if this is the standard time it takes to read the response from target ELB.</p>\n<p>More information below:</p>\n<pre><code>Service A -&gt; ELB -&gt; Service B\n</code></pre>\n<p>I am making a request from service A to service B.</p>\n<p>Service B &amp; ELB logs stats that a given request had below timelines:</p>\n<ol>\n<li>ELB logs stats that it received a given request &amp; ELB took 1ms to find the target &amp; redirect the request to the targeted host.</li>\n<li>ELB logs stats that service B took 20ms to respond &amp; almost similar time is recorded in service B application logs as well.</li>\n<li>Service A logs stats that it took ~29ms to get the response from service B.</li>\n</ol>\n<p>As per my understanding, it is service A which is taking time to read the response from ELB. I might be wrong here in this interpretation.</p>\n<p>I am looking the find the reason &amp; help in debugging that why it takes on average ~5-10ms to read the response at service A end despite service B ELB stats that, it completed the call within 20ms.</p>\n"},{"tags":["java","distributed-system","aeron"],"answers":[{"tags":[],"owner":{"account_id":1378935,"reputation":1741,"user_id":2164736,"display_name":"Martin Thompson"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1679228333,"creation_date":1679228333,"answer_id":75781930,"question_id":75780098,"body_markdown":"I can push 1 million messages between two machines with Aeron in a fraction of a second. It is likely your benchmark could be improved. Try get familiar with a framework like JMH and understand what is actually being measured. There are Aeron (and other messaging) benchmarks here - https://github.com/real-logic/benchmarks.","title":"Why Aeron multicast is much slower than raw Tcp implementation","body":"<p>I can push 1 million messages between two machines with Aeron in a fraction of a second. It is likely your benchmark could be improved. Try get familiar with a framework like JMH and understand what is actually being measured. There are Aeron (and other messaging) benchmarks here - <a href=\"https://github.com/real-logic/benchmarks\" rel=\"nofollow noreferrer\">https://github.com/real-logic/benchmarks</a>.</p>\n"}],"owner":{"account_id":4311004,"reputation":35,"user_id":3522056,"display_name":"trunghuynh.cse"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":300,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679228333,"creation_date":1679200237,"question_id":75780098,"body_markdown":"I am testing multicast of Aeron vs raw TCP server - client. \r\n\r\nAeron model setup: \r\n- MD processes on each node\r\n- Starting 1 Publication and 1 Subscriber\r\n\r\nRaw Tcp server  client:\r\n- Server: 1 Thread to push 1 million integer messages\r\n- Client: 1 Thread consuming \r\n\r\nResult:\r\nAeron UDP: Taking around 17 seconds\r\nRaw TCP: Taking around 8 seconds\r\n\r\nAs I understand UDP multicast way should be faster than TCP, am I missing anything or misunderstood ? What I should check or fined-tune to make Aeron faster\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/QyXEZ.png\r\n\r\nTCP Server\r\n```\r\n        serverSocket = new ServerSocket(port);\r\n\r\n        while(true) {\r\n            Socket clientSocket = serverSocket.accept();\r\n            Thread t = new Thread(){\r\n                @Override\r\n                public void run() {\r\n                    try{\r\n                        System.out.println(&quot;Starting new thread serving client&quot;);\r\n                        out = new DataOutputStream(clientSocket.getOutputStream());\r\n                        in = new DataInputStream(new BufferedInputStream(clientSocket.getInputStream()));\r\n                        for (int i = 0; i &lt; 1_000_000; i++) {\r\n                            System.out.println(&quot;Server sending...&quot; + i + &quot;..!&quot;);\r\n                            out.writeInt(i);\r\n                        }\r\n                    } catch (IOException e){\r\n                        //\r\n                    }\r\n                }\r\n            };\r\n            t.start();\r\n\r\n        }\r\n```\r\nTCP client\r\n```\r\n        System.out.println(&quot;I&#39;m client!&quot;);\r\n        TcpClient client = new TcpClient();\r\n        String serverHost = System.getProperty(&quot;host&quot;);\r\n        try {\r\n            client.startConnection(serverHost, 6666);\r\n            DataInputStream in = client.in;\r\n            long st = System.currentTimeMillis();\r\n            int counter = 1_000_000;\r\n            while(counter &gt; 0) {\r\n                int v = in.readInt();\r\n//                System.out.println(&quot;v: &quot; + v);\r\n                counter--;\r\n            }\r\n\r\n            long pt = System.currentTimeMillis() - st;\r\n            System.out.println(&quot;Process time of TCP raw: &quot; + pt);\r\n        } finally {\r\n            client.stopConnection();\r\n        }\r\n```","title":"Why Aeron multicast is much slower than raw Tcp implementation","body":"<p>I am testing multicast of Aeron vs raw TCP server - client.</p>\n<p>Aeron model setup:</p>\n<ul>\n<li>MD processes on each node</li>\n<li>Starting 1 Publication and 1 Subscriber</li>\n</ul>\n<p>Raw Tcp server  client:</p>\n<ul>\n<li>Server: 1 Thread to push 1 million integer messages</li>\n<li>Client: 1 Thread consuming</li>\n</ul>\n<p>Result:\nAeron UDP: Taking around 17 seconds\nRaw TCP: Taking around 8 seconds</p>\n<p>As I understand UDP multicast way should be faster than TCP, am I missing anything or misunderstood ? What I should check or fined-tune to make Aeron faster\n<a href=\"https://i.stack.imgur.com/QyXEZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QyXEZ.png\" alt=\"enter image description here\" /></a></p>\n<p>TCP Server</p>\n<pre><code>        serverSocket = new ServerSocket(port);\n\n        while(true) {\n            Socket clientSocket = serverSocket.accept();\n            Thread t = new Thread(){\n                @Override\n                public void run() {\n                    try{\n                        System.out.println(&quot;Starting new thread serving client&quot;);\n                        out = new DataOutputStream(clientSocket.getOutputStream());\n                        in = new DataInputStream(new BufferedInputStream(clientSocket.getInputStream()));\n                        for (int i = 0; i &lt; 1_000_000; i++) {\n                            System.out.println(&quot;Server sending...&quot; + i + &quot;..!&quot;);\n                            out.writeInt(i);\n                        }\n                    } catch (IOException e){\n                        //\n                    }\n                }\n            };\n            t.start();\n\n        }\n</code></pre>\n<p>TCP client</p>\n<pre><code>        System.out.println(&quot;I'm client!&quot;);\n        TcpClient client = new TcpClient();\n        String serverHost = System.getProperty(&quot;host&quot;);\n        try {\n            client.startConnection(serverHost, 6666);\n            DataInputStream in = client.in;\n            long st = System.currentTimeMillis();\n            int counter = 1_000_000;\n            while(counter &gt; 0) {\n                int v = in.readInt();\n//                System.out.println(&quot;v: &quot; + v);\n                counter--;\n            }\n\n            long pt = System.currentTimeMillis() - st;\n            System.out.println(&quot;Process time of TCP raw: &quot; + pt);\n        } finally {\n            client.stopConnection();\n        }\n</code></pre>\n"},{"tags":["java","pojo"],"comments":[{"owner":{"account_id":125868,"reputation":72456,"user_id":321946,"accept_rate":88,"display_name":"RPM1984"},"score":1,"creation_date":1282263755,"post_id":3527264,"comment_id":3690123,"body_markdown":"check out my answer to a similar question: http://stackoverflow.com/questions/3392580/a-better-explanation-of-poco/3392625#3392625. This is referring to POCO&#39;s (.NET version of POJOS), but the fundamentals are the same.","body":"check out my answer to a similar question: <a href=\"http://stackoverflow.com/questions/3392580/a-better-explanation-of-poco/3392625#3392625\" title=\"a better explanation of poco\">stackoverflow.com/questions/3392580/&hellip;</a>. This is referring to POCO&#39;s (.NET version of POJOS), but the fundamentals are the same."},{"owner":{"account_id":1608367,"reputation":1263,"user_id":1487966,"accept_rate":17,"display_name":"Poovizhirajan N"},"score":0,"creation_date":1406013569,"post_id":3527264,"comment_id":38646482,"body_markdown":"@Tamil can you explain once again to me. about pojo","body":"@Tamil can you explain once again to me. about pojo"},{"owner":{"display_name":"user405398"},"score":0,"creation_date":1427178520,"post_id":3527264,"comment_id":46660012,"body_markdown":"@Poovizhirajan.N, sorry for the long delay. somehow missed it.","body":"@Poovizhirajan.N, sorry for the long delay. somehow missed it."}],"answers":[{"tags":[],"owner":{"account_id":914,"reputation":234979,"user_id":1199,"display_name":"Blair Conrad"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1282262795,"creation_date":1282262795,"answer_id":3527266,"question_id":3527264,"body_markdown":"A POJO is a [Plain Old Java Object][1].\r\n\r\nFrom the wikipedia article I linked to:\r\n\r\n&gt; In computing software, POJO is an\r\n&gt; acronym for Plain Old Java Object. The\r\n&gt; name is used to emphasize that a given\r\n&gt; object is an ordinary Java Object, not\r\n&gt; a special object, and in particular\r\n&gt; not an [Enterprise JavaBean][2]\r\n\r\nYour class appears to already be a POJO.\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Plain_Old_Java_Object\r\n  [2]: http://en.wikipedia.org/wiki/Enterprise_JavaBean","title":"How to create a POJO?","body":"<p>A POJO is a <a href=\"http://en.wikipedia.org/wiki/Plain_Old_Java_Object\" rel=\"noreferrer\">Plain Old Java Object</a>.</p>\n\n<p>From the wikipedia article I linked to:</p>\n\n<blockquote>\n  <p>In computing software, POJO is an\n  acronym for Plain Old Java Object. The\n  name is used to emphasize that a given\n  object is an ordinary Java Object, not\n  a special object, and in particular\n  not an <a href=\"http://en.wikipedia.org/wiki/Enterprise_JavaBean\" rel=\"noreferrer\">Enterprise JavaBean</a></p>\n</blockquote>\n\n<p>Your class appears to already be a POJO.</p>\n"},{"tags":[],"owner":{"account_id":172481,"reputation":110932,"user_id":400547,"display_name":"Jon Hanna"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1282263110,"creation_date":1282263110,"answer_id":3527294,"question_id":3527264,"body_markdown":"When you aren&#39;t doing anything to make your class particularly designed to work with a given framework, ORM, or other system that needs a special sort of class, you have a Plain Old Java Object, or POJO.\r\n\r\nIronically, one of the reasons for coining the term is that people were avoiding them in cases where they were sensible and some people concluded that this was because they didn&#39;t have a fancy name. Ironic, because your question demonstrates that the approach worked.\r\n\r\nCompare the older POD &quot;Plain Old Data&quot; to mean a C++ class that doesn&#39;t do anything a C struct couldn&#39;t do (more or less, non-virtual members that aren&#39;t destructors or trivial constructors don&#39;t stop it being considered POD), and the newer (and more directly comparable) POCO &quot;Plain Old CLR Object&quot; in .NET.","title":"How to create a POJO?","body":"<p>When you aren't doing anything to make your class particularly designed to work with a given framework, ORM, or other system that needs a special sort of class, you have a Plain Old Java Object, or POJO.</p>\n\n<p>Ironically, one of the reasons for coining the term is that people were avoiding them in cases where they were sensible and some people concluded that this was because they didn't have a fancy name. Ironic, because your question demonstrates that the approach worked.</p>\n\n<p>Compare the older POD \"Plain Old Data\" to mean a C++ class that doesn't do anything a C struct couldn't do (more or less, non-virtual members that aren't destructors or trivial constructors don't stop it being considered POD), and the newer (and more directly comparable) POCO \"Plain Old CLR Object\" in .NET.</p>\n"},{"tags":[],"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"down_vote_count":0,"up_vote_count":83,"is_accepted":true,"score":83,"last_activity_date":1282266347,"creation_date":1282263884,"answer_id":3527340,"question_id":3527264,"body_markdown":"A POJO is just a plain, old Java Bean with the restrictions removed.  Java Beans must meet the following requirements: \r\n\r\n 1. Default no-arg constructor\r\n 2. Follow the Bean convention of getFoo (or isFoo for booleans) and setFoo methods for a mutable attribute named foo; leave off the setFoo if foo is immutable.\r\n 3. Must implement java.io.Serializable\r\n\r\nPOJO does not mandate any of these.  It&#39;s just what the name says: an object that compiles under JDK can be considered a Plain Old Java Object.  No app server, no base classes, no interfaces required to use.  \r\n\r\nThe acronym POJO was a reaction against EJB 2.0, which required several interfaces, extended base classes, and lots of methods just to do simple things.  Some people, Rod Johnson and Martin Fowler among them, rebelled against the complexity and sought a way to implement enterprise scale solutions without having to write EJBs.\r\n\r\nMartin Fowler coined a new acronym.\r\n\r\nRod Johnson wrote &quot;J2EE Without EJBs&quot;, wrote Spring, influenced EJB enough so version 3.1 looks a great deal like Spring and Hibernate, and got a sweet IPO from VMWare out of it.\r\n\r\nHere&#39;s an example that you can wrap your head around:\r\n\r\n    public class MyFirstPojo\r\n    {\r\n        private String name;\r\n    \r\n        public static void main(String [] args)\r\n        {\r\n           for (String arg : args)\r\n           {\r\n              MyFirstPojo pojo = new MyFirstPojo(arg);  // Here&#39;s how you create a POJO\r\n              System.out.println(pojo); \r\n           }\r\n        }\r\n    \r\n        public MyFirstPojo(String name)\r\n        {    \r\n            this.name = name;\r\n        }\r\n    \r\n        public String getName() { return this.name; } \r\n\r\n        public String toString() { return this.name; } \r\n    }\r\n\r\n","title":"How to create a POJO?","body":"<p>A POJO is just a plain, old Java Bean with the restrictions removed.  Java Beans must meet the following requirements: </p>\n\n<ol>\n<li>Default no-arg constructor</li>\n<li>Follow the Bean convention of getFoo (or isFoo for booleans) and setFoo methods for a mutable attribute named foo; leave off the setFoo if foo is immutable.</li>\n<li>Must implement java.io.Serializable</li>\n</ol>\n\n<p>POJO does not mandate any of these.  It's just what the name says: an object that compiles under JDK can be considered a Plain Old Java Object.  No app server, no base classes, no interfaces required to use.  </p>\n\n<p>The acronym POJO was a reaction against EJB 2.0, which required several interfaces, extended base classes, and lots of methods just to do simple things.  Some people, Rod Johnson and Martin Fowler among them, rebelled against the complexity and sought a way to implement enterprise scale solutions without having to write EJBs.</p>\n\n<p>Martin Fowler coined a new acronym.</p>\n\n<p>Rod Johnson wrote \"J2EE Without EJBs\", wrote Spring, influenced EJB enough so version 3.1 looks a great deal like Spring and Hibernate, and got a sweet IPO from VMWare out of it.</p>\n\n<p>Here's an example that you can wrap your head around:</p>\n\n<pre><code>public class MyFirstPojo\n{\n    private String name;\n\n    public static void main(String [] args)\n    {\n       for (String arg : args)\n       {\n          MyFirstPojo pojo = new MyFirstPojo(arg);  // Here's how you create a POJO\n          System.out.println(pojo); \n       }\n    }\n\n    public MyFirstPojo(String name)\n    {    \n        this.name = name;\n    }\n\n    public String getName() { return this.name; } \n\n    public String toString() { return this.name; } \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2883225,"reputation":859,"user_id":2473612,"accept_rate":31,"display_name":"Subodh Bisht"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1465815271,"creation_date":1370944326,"answer_id":17041264,"question_id":3527264,"body_markdown":"POJO class acts as a bean which is used to set and get the value.\r\n    \r\n    public class Data\r\n    {\r\n\t\r\n\r\n    private int id;\r\n    \tprivate String deptname;\r\n    \tprivate String date;\r\n    \tprivate String name;\r\n    \tprivate String mdate;\r\n    \tprivate String mname;\r\n    \r\n    \tpublic int getId() {\r\n    \t\treturn id;\r\n    \t}\r\n    \r\n    \tpublic void setId(int id) {\r\n    \t\tthis.id = id;\r\n    \t}\r\n    \r\n    \tpublic String getDeptname() {\r\n    \t\treturn deptname;\r\n    \t}\r\n    \r\n    \tpublic void setDeptname(String deptname) {\r\n    \t\tthis.deptname = deptname;\r\n    \t}\r\n    \r\n    \tpublic String getDate() {\r\n    \t\treturn date;\r\n    \t}\r\n    \r\n    \tpublic void setDate(String date) {\r\n    \t\tthis.date = date;\r\n    \t}\r\n    \r\n    \tpublic String getName() {\r\n    \t\treturn name;\r\n    \t}\r\n    \r\n    \tpublic void setName(String name) {\r\n    \t\tthis.name = name;\r\n    \t}\r\n    \r\n    \tpublic String getMdate() {\r\n    \t\treturn mdate;\r\n    \t}\r\n    \r\n    \tpublic void setMdate(String mdate) {\r\n    \t\tthis.mdate = mdate;\r\n    \t}\r\n    \r\n    \tpublic String getMname() {\r\n    \t\treturn mname;\r\n    \t}\r\n    \r\n    \tpublic void setMname(String mname) {\r\n    \t\tthis.mname = mname;\r\n    \t}\r\n    }\r\n\r\n","title":"How to create a POJO?","body":"<p>POJO class acts as a bean which is used to set and get the value.</p>\n\n<pre><code>public class Data\n{\n\n\nprivate int id;\n    private String deptname;\n    private String date;\n    private String name;\n    private String mdate;\n    private String mname;\n\n    public int getId() {\n        return id;\n    }\n\n    public void setId(int id) {\n        this.id = id;\n    }\n\n    public String getDeptname() {\n        return deptname;\n    }\n\n    public void setDeptname(String deptname) {\n        this.deptname = deptname;\n    }\n\n    public String getDate() {\n        return date;\n    }\n\n    public void setDate(String date) {\n        this.date = date;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public String getMdate() {\n        return mdate;\n    }\n\n    public void setMdate(String mdate) {\n        this.mdate = mdate;\n    }\n\n    public String getMname() {\n        return mname;\n    }\n\n    public void setMname(String mname) {\n        this.mname = mname;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3803655,"reputation":1889,"user_id":3156616,"display_name":"Md Azaharuddin Ali"},"down_vote_count":0,"up_vote_count":29,"is_accepted":false,"score":29,"last_activity_date":1499898427,"creation_date":1390556470,"answer_id":21329226,"question_id":3527264,"body_markdown":"POJO:-  POJO is a Java object not bound by any restriction other than those forced by the Java Language Specification.\r\n\r\n\r\nProperties of POJO\r\n\r\n 1. All properties must be public setter and getter methods   \r\n 2. All instance variables should be private \r\n 3. Should not Extend prespecified classes.\r\n 4. Should not Implement prespecified interfaces. \r\n 5. Should not contain prespecified annotations. \r\n 6. It may not have any argument constructors\r\n\r\nExample of POJO\r\n\r\n    public class POJO {\r\n     \r\n        private String value;\r\n     \r\n        public String getValue() {\r\n             return value;\r\n        }\r\n     \r\n        public void setValue(String value) {\r\n            this.value = value;\r\n        }\r\n    }\r\n\r\n","title":"How to create a POJO?","body":"<p>POJO:-  POJO is a Java object not bound by any restriction other than those forced by the Java Language Specification.</p>\n\n<p>Properties of POJO</p>\n\n<ol>\n<li>All properties must be public setter and getter methods   </li>\n<li>All instance variables should be private </li>\n<li>Should not Extend prespecified classes.</li>\n<li>Should not Implement prespecified interfaces. </li>\n<li>Should not contain prespecified annotations. </li>\n<li>It may not have any argument constructors</li>\n</ol>\n\n<p>Example of POJO</p>\n\n<pre><code>public class POJO {\n\n    private String value;\n\n    public String getValue() {\n         return value;\n    }\n\n    public void setValue(String value) {\n        this.value = value;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3869822,"reputation":179,"user_id":3205359,"accept_rate":0,"display_name":"mohit sarsar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1401192665,"creation_date":1401191589,"answer_id":23888744,"question_id":3527264,"body_markdown":"there are mainly three options are possible for mapping purpose\r\n\r\n1. serialize\r\n2. XML mapping\r\n3. POJO mapping.(Plain Old Java Objects)\r\n\r\nWhile using the pojo classes,it is easy for a developer to map with the database.\r\nPOJO classes are created for database and at the same time value-objects classes are created with getter and setter methods that will easily hold the content.\r\n\r\nSo,for the purpose of mapping in between java with database, value-objects and POJO classes are implemented.\r\n","title":"How to create a POJO?","body":"<p>there are mainly three options are possible for mapping purpose</p>\n\n<ol>\n<li>serialize</li>\n<li>XML mapping</li>\n<li>POJO mapping.(Plain Old Java Objects)</li>\n</ol>\n\n<p>While using the pojo classes,it is easy for a developer to map with the database.\nPOJO classes are created for database and at the same time value-objects classes are created with getter and setter methods that will easily hold the content.</p>\n\n<p>So,for the purpose of mapping in between java with database, value-objects and POJO classes are implemented.</p>\n"},{"tags":[],"owner":{"account_id":4884086,"reputation":61,"user_id":3937012,"display_name":"Abdullah Sarfaraz"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1497497786,"creation_date":1448903079,"answer_id":34003992,"question_id":3527264,"body_markdown":"    import java.io.Serializable;\r\n    \r\n    public class Course implements Serializable {\r\n    \r\n    \tprotected int courseId;\r\n    \tprotected String courseName;\r\n    \tprotected String courseType;\r\n    \r\n    \tpublic Course() {\r\n    \t\tcourseName = new String();\r\n    \t\tcourseType = new String();\r\n    \t}\r\n    \r\n    \tpublic Course(String courseName, String courseType) {\r\n    \t\tthis.courseName = courseName;\r\n    \t\tthis.courseType = courseType;\r\n    \t}\r\n    \r\n    \tpublic Course(int courseId, String courseName, String courseType) {\r\n    \t\tthis.courseId = courseId;\r\n    \t\tthis.courseName = courseName;\r\n    \t\tthis.courseType = courseType;\r\n    \t}\r\n    \r\n    \tpublic int getCourseId() {\r\n    \t\treturn courseId;\r\n    \t}\r\n    \r\n    \tpublic void setCourseId(int courseId) {\r\n    \t\tthis.courseId = courseId;\r\n    \t}\r\n    \r\n    \tpublic String getCourseName() {\r\n    \t\treturn courseName;\r\n    \t}\r\n    \r\n    \tpublic void setCourseName(String courseName) {\r\n    \t\tthis.courseName = courseName;\r\n    \t}\r\n    \r\n    \tpublic String getCourseType() {\r\n    \t\treturn courseType;\r\n    \t}\r\n    \r\n    \tpublic void setCourseType(String courseType) {\r\n    \t\tthis.courseType = courseType;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic int hashCode() {\r\n    \t\treturn courseId;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic boolean equals(Object obj) {\r\n    \t\tif (obj != null || obj instanceof Course) {\r\n    \t\t\tCourse c = (Course) obj;\r\n    \t\t\tif (courseId == c.courseId &amp;&amp; courseName.equals(c.courseName)\r\n    \t\t\t\t\t&amp;&amp; courseType.equals(c.courseType))\r\n    \t\t\t\treturn true;\r\n    \t\t}\r\n    \t\treturn false;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic String toString() {\r\n    \t\treturn &quot;Course[&quot; + courseId + &quot;,&quot; + courseName + &quot;,&quot; + courseType + &quot;]&quot;;\r\n    \t}\r\n    }\r\n\r\n","title":"How to create a POJO?","body":"<pre><code>import java.io.Serializable;\n\npublic class Course implements Serializable {\n\n    protected int courseId;\n    protected String courseName;\n    protected String courseType;\n\n    public Course() {\n        courseName = new String();\n        courseType = new String();\n    }\n\n    public Course(String courseName, String courseType) {\n        this.courseName = courseName;\n        this.courseType = courseType;\n    }\n\n    public Course(int courseId, String courseName, String courseType) {\n        this.courseId = courseId;\n        this.courseName = courseName;\n        this.courseType = courseType;\n    }\n\n    public int getCourseId() {\n        return courseId;\n    }\n\n    public void setCourseId(int courseId) {\n        this.courseId = courseId;\n    }\n\n    public String getCourseName() {\n        return courseName;\n    }\n\n    public void setCourseName(String courseName) {\n        this.courseName = courseName;\n    }\n\n    public String getCourseType() {\n        return courseType;\n    }\n\n    public void setCourseType(String courseType) {\n        this.courseType = courseType;\n    }\n\n    @Override\n    public int hashCode() {\n        return courseId;\n    }\n\n    @Override\n    public boolean equals(Object obj) {\n        if (obj != null || obj instanceof Course) {\n            Course c = (Course) obj;\n            if (courseId == c.courseId &amp;&amp; courseName.equals(c.courseName)\n                    &amp;&amp; courseType.equals(c.courseType))\n                return true;\n        }\n        return false;\n    }\n\n    @Override\n    public String toString() {\n        return \"Course[\" + courseId + \",\" + courseName + \",\" + courseType + \"]\";\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8413313,"reputation":3388,"user_id":6314513,"display_name":"Gowtham Subramaniam"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1479881387,"creation_date":1479881387,"answer_id":40757238,"question_id":3527264,"body_markdown":"    public class UserInfo {\r\n            String LoginId;\r\n            String Password;\r\n            String FirstName;\r\n            String LastName;\r\n            String Email;\r\n            String Mobile;\r\n            String Address;\r\n            String DOB;\r\n    \r\n            public String getLoginId() {\r\n                return LoginId;\r\n            }\r\n    \r\n            public void setLoginId(String loginId) {\r\n                LoginId = loginId;\r\n            }\r\n    \r\n            public String getPassword() {\r\n                return Password;\r\n            }\r\n    \r\n            public void setPassword(String password) {\r\n                Password = password;\r\n            }\r\n    \r\n            public String getFirstName() {\r\n                return FirstName;\r\n            }\r\n    \r\n            public void setFirstName(String firstName) {\r\n                FirstName = firstName;\r\n            }\r\n    \r\n            public String getLastName() {\r\n                return LastName;\r\n            }\r\n    \r\n            public void setLastName(String lastName) {\r\n                LastName = lastName;\r\n            }\r\n    \r\n            public String getEmail() {\r\n                return Email;\r\n            }\r\n    \r\n            public void setEmail(String email) {\r\n                Email = email;\r\n            }\r\n    \r\n            public String getMobile() {\r\n                return Mobile;\r\n            }\r\n    \r\n            public void setMobile(String mobile) {\r\n                Mobile = mobile;\r\n            }\r\n    \r\n            public String getAddress() {\r\n                return Address;\r\n            }\r\n    \r\n            public void setAddress(String address) {\r\n                Address = address;\r\n            }\r\n    \r\n            public String getDOB() {\r\n                return DOB;\r\n            }\r\n    \r\n            public void setDOB(String DOB) {\r\n                this.DOB = DOB;\r\n            }\r\n        }","title":"How to create a POJO?","body":"<pre><code>public class UserInfo {\n        String LoginId;\n        String Password;\n        String FirstName;\n        String LastName;\n        String Email;\n        String Mobile;\n        String Address;\n        String DOB;\n\n        public String getLoginId() {\n            return LoginId;\n        }\n\n        public void setLoginId(String loginId) {\n            LoginId = loginId;\n        }\n\n        public String getPassword() {\n            return Password;\n        }\n\n        public void setPassword(String password) {\n            Password = password;\n        }\n\n        public String getFirstName() {\n            return FirstName;\n        }\n\n        public void setFirstName(String firstName) {\n            FirstName = firstName;\n        }\n\n        public String getLastName() {\n            return LastName;\n        }\n\n        public void setLastName(String lastName) {\n            LastName = lastName;\n        }\n\n        public String getEmail() {\n            return Email;\n        }\n\n        public void setEmail(String email) {\n            Email = email;\n        }\n\n        public String getMobile() {\n            return Mobile;\n        }\n\n        public void setMobile(String mobile) {\n            Mobile = mobile;\n        }\n\n        public String getAddress() {\n            return Address;\n        }\n\n        public void setAddress(String address) {\n            Address = address;\n        }\n\n        public String getDOB() {\n            return DOB;\n        }\n\n        public void setDOB(String DOB) {\n            this.DOB = DOB;\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2374287,"reputation":4246,"user_id":2078093,"accept_rate":62,"display_name":"Naresh Joshi"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1545754549,"creation_date":1533635585,"answer_id":51723863,"question_id":3527264,"body_markdown":"According to [Martin Fowler][1]\r\n\r\n&gt;The term was coined while Rebecca Parsons, Josh MacKenzie and I were preparing for a talk at a conference in September 2000. In the talk, we were pointing out the many benefits of encoding business logic into regular java objects rather than using Entity Beans. We wondered why people were so against using regular objects in their systems and concluded that it was because simple objects lacked a fancy name. So we gave them one, and it’s caught on very nicely.\r\n\r\nGenerally, a POJO is not bound to any restriction and any Java object can be called a POJO but there are some directions. A well-defined POJO should follow below directions.\r\n\r\n1. Each variable in a POJO should be declared as private.\r\n2. Default constructor should be overridden with public accessibility.\r\n3. Each variable should have its Setter-Getter method with public accessibility.\r\n4. Generally POJO should override equals(), hashCode() and toString() methods of Object (but it&#39;s not mandatory).\r\n5. Overriding compare() method of Comparable interface used for sorting (Preferable but not mandatory).\r\n\r\nAnd according to Java Language Specification, a POJO should not have to\r\n\r\n1. Extend pre-specified classes\r\n2. Implement pre-specified interfaces\r\n3. Contain pre-specified annotations\r\n\r\nHowever, developers and frameworks describe a POJO still requires the use prespecified annotations to implement features like persistence, declarative transaction management etc. So the idea is that if the object was a POJO before any annotations were added would return to POJO status if the annotations are removed then it can still be considered a POJO.\r\n\r\n&gt;A JavaBean is a special kind of POJO that is Serializable, has a no-argument constructor, and allows access to properties using getter and setter methods that follow a simple naming convention.\r\n\r\nRead more on [Plain Old Java Object (POJO) Explained][2].\r\n\r\n\r\n  [1]: http://www.martinfowler.com/bliki/POJO.html\r\n  [2]: https://programmingmitra.com/2016/05/plain-old-java-object-pojo-explained.html","title":"How to create a POJO?","body":"<p>According to <a href=\"http://www.martinfowler.com/bliki/POJO.html\" rel=\"nofollow noreferrer\">Martin Fowler</a></p>\n\n<blockquote>\n  <p>The term was coined while Rebecca Parsons, Josh MacKenzie and I were preparing for a talk at a conference in September 2000. In the talk, we were pointing out the many benefits of encoding business logic into regular java objects rather than using Entity Beans. We wondered why people were so against using regular objects in their systems and concluded that it was because simple objects lacked a fancy name. So we gave them one, and it’s caught on very nicely.</p>\n</blockquote>\n\n<p>Generally, a POJO is not bound to any restriction and any Java object can be called a POJO but there are some directions. A well-defined POJO should follow below directions.</p>\n\n<ol>\n<li>Each variable in a POJO should be declared as private.</li>\n<li>Default constructor should be overridden with public accessibility.</li>\n<li>Each variable should have its Setter-Getter method with public accessibility.</li>\n<li>Generally POJO should override equals(), hashCode() and toString() methods of Object (but it's not mandatory).</li>\n<li>Overriding compare() method of Comparable interface used for sorting (Preferable but not mandatory).</li>\n</ol>\n\n<p>And according to Java Language Specification, a POJO should not have to</p>\n\n<ol>\n<li>Extend pre-specified classes</li>\n<li>Implement pre-specified interfaces</li>\n<li>Contain pre-specified annotations</li>\n</ol>\n\n<p>However, developers and frameworks describe a POJO still requires the use prespecified annotations to implement features like persistence, declarative transaction management etc. So the idea is that if the object was a POJO before any annotations were added would return to POJO status if the annotations are removed then it can still be considered a POJO.</p>\n\n<blockquote>\n  <p>A JavaBean is a special kind of POJO that is Serializable, has a no-argument constructor, and allows access to properties using getter and setter methods that follow a simple naming convention.</p>\n</blockquote>\n\n<p>Read more on <a href=\"https://programmingmitra.com/2016/05/plain-old-java-object-pojo-explained.html\" rel=\"nofollow noreferrer\">Plain Old Java Object (POJO) Explained</a>.</p>\n"},{"tags":[],"owner":{"display_name":"user13256550"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1588687652,"creation_date":1588665728,"answer_id":61608447,"question_id":3527264,"body_markdown":"1. File-setting-plugins-Browse repositories\r\n2. Search RoboPOJOGenerator and install, Restart Android studio\r\n3. Open Project and right click on package select on Generate POJO from JSON\r\n4. Paste JSON in dialogbox and select option according your requirements\r\n5. Click on Generate button","title":"How to create a POJO?","body":"<ol>\n<li>File-setting-plugins-Browse repositories</li>\n<li>Search RoboPOJOGenerator and install, Restart Android studio</li>\n<li>Open Project and right click on package select on Generate POJO from JSON</li>\n<li>Paste JSON in dialogbox and select option according your requirements</li>\n<li>Click on Generate button</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":17009603,"reputation":1,"user_id":12304983,"display_name":"Rushain Sovis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639372301,"creation_date":1639372301,"answer_id":70330180,"question_id":3527264,"body_markdown":"If a class is not **bogged down** from a *framework* or a *library*, then an object created from that class is recognized as a **POJO**.\r\n\r\nLet&#39;s see some examples:\r\n\r\n    class MyServlet extends HttpServlet{\r\n    \t//....\r\n    }\r\n\r\nThe sole meaning of MyServlet class is given by the HttpServlet class. Therefore the objects created from the MyServlet are not **POJO**s. \r\n\r\n    class MyClass implements Serializable{\r\n    \t//...\r\n    }\r\n\r\nThe Serializable interface does not give a meaning to the class MyClass. Therefore the objects created from the MyClass are **POJO**s.\r\n\r\n\r\n","title":"How to create a POJO?","body":"<p>If a class is not <strong>bogged down</strong> from a <em>framework</em> or a <em>library</em>, then an object created from that class is recognized as a <strong>POJO</strong>.</p>\n<p>Let's see some examples:</p>\n<pre><code>class MyServlet extends HttpServlet{\n    //....\n}\n</code></pre>\n<p>The sole meaning of MyServlet class is given by the HttpServlet class. Therefore the objects created from the MyServlet are not <strong>POJO</strong>s.</p>\n<pre><code>class MyClass implements Serializable{\n    //...\n}\n</code></pre>\n<p>The Serializable interface does not give a meaning to the class MyClass. Therefore the objects created from the MyClass are <strong>POJO</strong>s.</p>\n"}],"owner":{"display_name":"user405398"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":156126,"favorite_count":0,"down_vote_count":0,"up_vote_count":70,"accepted_answer_id":3527340,"answer_count":11,"score":70,"last_activity_date":1679228309,"creation_date":1282262750,"question_id":3527264,"body_markdown":"Recently I&#39;ve started hearing about &quot;POJOs&quot; (Plain Old Java Objects). I googled it, but still don&#39;t understand the concept well. Can anyone give me a clear description of a POJO?\r\n\r\nConsider a class &quot;Person&quot; with variables &quot;id, name, address, salary&quot; -- how would I create a POJO for this scenario? Is the code below a POJO?\r\n\r\n\r\n    public class Person {\r\n        //variables\r\n        People people = new People();\r\n        private int id;\r\n        private String name;\r\n        private String address;\r\n        private int salary;\r\n    \r\n    \r\n        public int getId() {\r\n            return id;\r\n        }\r\n    \r\n        public String getName() {\r\n            return name;\r\n        }\r\n    \r\n        public String getAddress() {\r\n            return address;\r\n        }\r\n    \r\n        public int getSalary() {\r\n            return salary;\r\n        }\r\n    \r\n        public void setId() {\r\n            this.id = id;\r\n        }\r\n    \r\n        public void setName() {\r\n            this.name = name;\r\n        }\r\n    \r\n        public void setAddress() {\r\n            this.address = address;\r\n        }\r\n    \r\n        public void setSalary() {\r\n            this.salary = salary;\r\n        }\r\n    }","title":"How to create a POJO?","body":"<p>Recently I've started hearing about \"POJOs\" (Plain Old Java Objects). I googled it, but still don't understand the concept well. Can anyone give me a clear description of a POJO?</p>\n\n<p>Consider a class \"Person\" with variables \"id, name, address, salary\" -- how would I create a POJO for this scenario? Is the code below a POJO?</p>\n\n<pre><code>public class Person {\n    //variables\n    People people = new People();\n    private int id;\n    private String name;\n    private String address;\n    private int salary;\n\n\n    public int getId() {\n        return id;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public String getAddress() {\n        return address;\n    }\n\n    public int getSalary() {\n        return salary;\n    }\n\n    public void setId() {\n        this.id = id;\n    }\n\n    public void setName() {\n        this.name = name;\n    }\n\n    public void setAddress() {\n        this.address = address;\n    }\n\n    public void setSalary() {\n        this.salary = salary;\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","unit-testing","testing","mocking"],"owner":{"display_name":"user21431812"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679228145,"creation_date":1679226802,"question_id":75781782,"body_markdown":"I am using `@ParameterizedTest` for the Unit Tests in my Spring Boot app and after adding data for the child table, I am not sure about the fields in the parent table. Here is the explanations:\r\n\r\nLet&#39;s say we have 2 tables, `Employee` and `Country` and we test a method that returns `EmployeeReponse` :\r\n\r\n```\r\npublic EmployeeReponse findById(long id) {\r\n    return employeeRepository.findById(id)\r\n            .map(EmployeeReponse::new)\r\n            .orElseThrow(() -&gt; new EntityFoundException(&quot;Employee not found&quot;));\r\n}\r\n``` \r\n\r\nAnd that has the following fields:\r\n\r\n```\r\npublic class EmployeeReponse{\r\n\r\n    private Long id;\r\n    private String name;\r\n    private CountryResponse country;\r\n}\r\n```\r\n\r\nAnd `CountryResponse` is:\r\n\r\n```\r\npublic class CountryResponse {\r\n\r\n    private Long countryId;\r\n    private String countryName;\r\n    private String region;\r\n}\r\n```\r\n\r\nAt this stage, when I create mock fields for the Unit Test of `findById` method, should I also create parameters for the `countryName` and `region` fields? besides `id`, `name` and `countryId` fields? \r\n\r\n\r\n\r\n```\r\n| id    | name   | countryId  | countryName ?  | region ?  |\r\n----------------------------------------------------------\r\n| 101   | Hans   | 1          | USA            | America   |\r\n| 102   | Mary   | 2          | Germany        | Europe    |\r\n| 103   | Carol  | 3          | China          | Asia      |\r\n| 104   | Henry  | 4          | Sudan          | Africa    |\r\n| ...   | .....  | ..         | ....           | .....     |\r\n```\r\n\r\nWhat should I do? ","title":"Should @ParameterizedTest include data for parent tables?","body":"<p>I am using <code>@ParameterizedTest</code> for the Unit Tests in my Spring Boot app and after adding data for the child table, I am not sure about the fields in the parent table. Here is the explanations:</p>\n<p>Let's say we have 2 tables, <code>Employee</code> and <code>Country</code> and we test a method that returns <code>EmployeeReponse</code> :</p>\n<pre><code>public EmployeeReponse findById(long id) {\n    return employeeRepository.findById(id)\n            .map(EmployeeReponse::new)\n            .orElseThrow(() -&gt; new EntityFoundException(&quot;Employee not found&quot;));\n}\n</code></pre>\n<p>And that has the following fields:</p>\n<pre><code>public class EmployeeReponse{\n\n    private Long id;\n    private String name;\n    private CountryResponse country;\n}\n</code></pre>\n<p>And <code>CountryResponse</code> is:</p>\n<pre><code>public class CountryResponse {\n\n    private Long countryId;\n    private String countryName;\n    private String region;\n}\n</code></pre>\n<p>At this stage, when I create mock fields for the Unit Test of <code>findById</code> method, should I also create parameters for the <code>countryName</code> and <code>region</code> fields? besides <code>id</code>, <code>name</code> and <code>countryId</code> fields?</p>\n<pre><code>| id    | name   | countryId  | countryName ?  | region ?  |\n----------------------------------------------------------\n| 101   | Hans   | 1          | USA            | America   |\n| 102   | Mary   | 2          | Germany        | Europe    |\n| 103   | Carol  | 3          | China          | Asia      |\n| 104   | Henry  | 4          | Sudan          | Africa    |\n| ...   | .....  | ..         | ....           | .....     |\n</code></pre>\n<p>What should I do?</p>\n"},{"tags":["java","php","spring-boot","curl","spring-webclient"],"answers":[{"tags":[],"owner":{"account_id":1674328,"reputation":2652,"user_id":1540177,"display_name":"grekier"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679228112,"creation_date":1679168947,"answer_id":75778295,"question_id":75777946,"body_markdown":"http_build_query add parameters as query string. \r\nIn your webclient, you add them as headers. I guess you have to change this:\r\n```\r\nwebClient\r\n.post()\r\n.uri(&quot;https://www.myurl.com?action=GetSearchDetails&amp;username=lambistic&amp;password=lambistic#####&amp;responsetype=json&quot;)\r\n.retrieve()\r\n.bodyToMono(SearchDetailsResponse.class);\r\n```","title":"SpringBoot WebClient Request with Identifier and Secret or Hashed Password","body":"<p>http_build_query add parameters as query string.\nIn your webclient, you add them as headers. I guess you have to change this:</p>\n<pre><code>webClient\n.post()\n.uri(&quot;https://www.myurl.com?action=GetSearchDetails&amp;username=lambistic&amp;password=lambistic#####&amp;responsetype=json&quot;)\n.retrieve()\n.bodyToMono(SearchDetailsResponse.class);\n</code></pre>\n"}],"owner":{"account_id":18759194,"reputation":1122,"user_id":13678514,"display_name":"Emmanuel Njorodongo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679228112,"creation_date":1679165002,"question_id":75777946,"body_markdown":"I am having a `curl php` request that looks like this below \r\n\r\n```\r\n$curlInit = curl_init();\r\ncurl_setopt($curlInit, CURLOPT_URL, &#39;https://www.myurl.com/&#39;);\r\ncurl_setopt($curlInit, CURLOPT_POST, 1);\r\ncurl_setopt($curlInit, CURLOPT_POSTFIELDS,\r\n    http_build_query(\r\n        array(\r\n            &#39;action&#39; =&gt; &#39;GetSearchDetails&#39;,\r\n            &#39;username&#39; =&gt; &#39;lambistic&#39;,\r\n            &#39;password&#39; =&gt; &#39;lambistic######&#39;,\r\n            &#39;responsetype&#39; =&gt; &#39;json&#39;,\r\n        )\r\n    )\r\n);\r\ncurl_setopt($curlInit, CURLOPT_RETURNTRANSFER, 1);\r\n$response = curl_exec($curlInit);\r\ncurl_close($curlInit);\r\n\r\n```\r\n\r\nWhat i am trying to achieve is to do the same with `web client` in springboot java and below is how i am trying to do it with web client \r\n\r\n```\r\npublic Mono&lt;SearchDetailsResponse&gt; sendSearchDetailsRequest() {\r\n\r\n        return webClient.post()\r\n                .uri(&quot;https://www.myurl.com/&quot;)\r\n                .header(&quot;Content-Type&quot;, &quot;application/json&quot;)\r\n                .headers(httpHeaders -&gt; {\r\n                    httpHeaders.set(&quot;username&quot;, &quot;lambistic&quot;);\r\n                    httpHeaders.set(&quot;password&quot;, &quot;lambistic######&quot;);\r\n                })\r\n                .retrieve()\r\n                .bodyToMono(SearchDetailsResponse.class);\r\n}\r\n\r\n```\r\n\r\nI am not getting any response what might i be doing wrong with the web client \r\n","title":"SpringBoot WebClient Request with Identifier and Secret or Hashed Password","body":"<p>I am having a <code>curl php</code> request that looks like this below</p>\n<pre><code>$curlInit = curl_init();\ncurl_setopt($curlInit, CURLOPT_URL, 'https://www.myurl.com/');\ncurl_setopt($curlInit, CURLOPT_POST, 1);\ncurl_setopt($curlInit, CURLOPT_POSTFIELDS,\n    http_build_query(\n        array(\n            'action' =&gt; 'GetSearchDetails',\n            'username' =&gt; 'lambistic',\n            'password' =&gt; 'lambistic######',\n            'responsetype' =&gt; 'json',\n        )\n    )\n);\ncurl_setopt($curlInit, CURLOPT_RETURNTRANSFER, 1);\n$response = curl_exec($curlInit);\ncurl_close($curlInit);\n\n</code></pre>\n<p>What i am trying to achieve is to do the same with <code>web client</code> in springboot java and below is how i am trying to do it with web client</p>\n<pre><code>public Mono&lt;SearchDetailsResponse&gt; sendSearchDetailsRequest() {\n\n        return webClient.post()\n                .uri(&quot;https://www.myurl.com/&quot;)\n                .header(&quot;Content-Type&quot;, &quot;application/json&quot;)\n                .headers(httpHeaders -&gt; {\n                    httpHeaders.set(&quot;username&quot;, &quot;lambistic&quot;);\n                    httpHeaders.set(&quot;password&quot;, &quot;lambistic######&quot;);\n                })\n                .retrieve()\n                .bodyToMono(SearchDetailsResponse.class);\n}\n\n</code></pre>\n<p>I am not getting any response what might i be doing wrong with the web client</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":5553464,"reputation":17547,"user_id":4405757,"accept_rate":57,"display_name":"Thiyagu"},"score":3,"creation_date":1679139320,"post_id":75775581,"comment_id":133669982,"body_markdown":"Hint: Print the lengths of the two strings which will give you a clue `System.out.println(DRUM_R.length()); System.out.println(s.length());`","body":"Hint: Print the lengths of the two strings which will give you a clue <code>System.out.println(DRUM_R.length()); System.out.println(s.length());</code>"},{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":4,"creation_date":1679139332,"post_id":75775581,"comment_id":133669983,"body_markdown":"String s is `&quot;Bang Bang &quot;`, not `&quot;Bang Bang&quot;`..., maybe you should use `String.join(&quot; &quot;, sound, sound)` instead, or just `sound + &quot; &quot; + sound`.","body":"String s is <code>&quot;Bang Bang &quot;</code>, not <code>&quot;Bang Bang&quot;</code>..., maybe you should use <code>String.join(&quot; &quot;, sound, sound)</code> instead, or just <code>sound + &quot; &quot; + sound</code>."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1679154019,"post_id":75775581,"comment_id":133672297,"body_markdown":"To debug, compare the code points of each character in each string: `DRUM_R.codePoints().toArray()` and `s.codePoints().toArray()`. You’ll find an extra `32` on the end of one, representing a SPACE character.","body":"To debug, compare the code points of each character in each string: <code>DRUM_R.codePoints().toArray()</code> and <code>s.codePoints().toArray()</code>. You’ll find an extra <code>32</code> on the end of one, representing a SPACE character."}],"answers":[{"tags":[],"owner":{"account_id":25896342,"reputation":86,"user_id":19622845,"display_name":"Danijel Sudar"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1679140699,"creation_date":1679140699,"answer_id":75775739,"question_id":75775581,"body_markdown":"&quot;Bang Bang&quot; is not the same as &quot;Bang Bang &quot;\r\n\r\n   these are some examples of how you can do it\r\n\r\n\r\n\r\n    String DRUM_R = &quot;Bang Bang&quot;;\r\n    String sound = &quot;Bang&quot;;\r\n    System.out.println(sound); //&quot;Bang&quot;\r\n    \r\n    String s = (sound + &quot; &quot;).repeat(2);\r\n    System.out.println(s); //&quot;Bang Bang &quot;\r\n    \r\n    System.out.println(s.equals(DRUM_R)); //false &quot;Bang Bang &quot; != &quot;Bang Bang&quot;\r\n    \r\n    s = s.substring(0, s.length()-1);\r\n    System.out.println(s); //&quot;Bang Bang&quot;\r\n    \r\n    s = String.join(&quot; &quot;, sound, sound);\r\n    System.out.println(s); //&quot;Bang Bang&quot;\r\n    \r\n    s = sound + &quot; &quot;+ sound;\r\n    System.out.println(s); //&quot;Bang Bang&quot;\r\n\r\n\r\nyou can also make a function like this one that will do what you want\r\n\r\n    public String repeatWord(String word, int n) {\r\n        StringBuilder sb = new StringBuilder();\r\n        for (int i = 0; i &lt; n; i++) {\r\n            sb.append(word);\r\n            if (i != n - 1) {\r\n                sb.append(&quot; &quot;);\r\n            }\r\n        }\r\n        return sb.toString();\r\n    }\r\n\r\n\r\nthis is an example of usage\r\n\r\n    String repeatedWord = repeatWord(&quot;Bang&quot;, 5);\r\n    System.out.println(repeatedWord); // &quot;Bang Bang Bang Bang Bang&quot;","title":"Why these strings are not equals?","body":"<p>&quot;Bang Bang&quot; is not the same as &quot;Bang Bang &quot;</p>\n<p>these are some examples of how you can do it</p>\n<pre><code>String DRUM_R = &quot;Bang Bang&quot;;\nString sound = &quot;Bang&quot;;\nSystem.out.println(sound); //&quot;Bang&quot;\n\nString s = (sound + &quot; &quot;).repeat(2);\nSystem.out.println(s); //&quot;Bang Bang &quot;\n\nSystem.out.println(s.equals(DRUM_R)); //false &quot;Bang Bang &quot; != &quot;Bang Bang&quot;\n\ns = s.substring(0, s.length()-1);\nSystem.out.println(s); //&quot;Bang Bang&quot;\n\ns = String.join(&quot; &quot;, sound, sound);\nSystem.out.println(s); //&quot;Bang Bang&quot;\n\ns = sound + &quot; &quot;+ sound;\nSystem.out.println(s); //&quot;Bang Bang&quot;\n</code></pre>\n<p>you can also make a function like this one that will do what you want</p>\n<pre><code>public String repeatWord(String word, int n) {\n    StringBuilder sb = new StringBuilder();\n    for (int i = 0; i &lt; n; i++) {\n        sb.append(word);\n        if (i != n - 1) {\n            sb.append(&quot; &quot;);\n        }\n    }\n    return sb.toString();\n}\n</code></pre>\n<p>this is an example of usage</p>\n<pre><code>String repeatedWord = repeatWord(&quot;Bang&quot;, 5);\nSystem.out.println(repeatedWord); // &quot;Bang Bang Bang Bang Bang&quot;\n</code></pre>\n"}],"owner":{"account_id":27417156,"reputation":5,"user_id":20916141,"display_name":"Sonya"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":1,"score":-3,"last_activity_date":1679227687,"creation_date":1679139074,"question_id":75775581,"body_markdown":"I have a string:\r\n```java\r\nString DRUM_R = &quot;Bang Bang&quot;;\r\n```\r\nI also have a string, that I want to repeat twice:\r\n```java\r\nString sound = &quot;Bang&quot;;\r\n```\r\nI create a new line:\r\n```java\r\nString s = (sound + &quot; &quot;).repeat(2);\r\n```\r\nWhy, when I compare these strings, do I get false?\r\n```java\r\nSystem.out.println(s.equals(DRUM_R));\r\n```\r\nResult: false.\r\n\r\nThese strings are exactly the same. Why does this happen?","title":"Why these strings are not equals?","body":"<p>I have a string:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String DRUM_R = &quot;Bang Bang&quot;;\n</code></pre>\n<p>I also have a string, that I want to repeat twice:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String sound = &quot;Bang&quot;;\n</code></pre>\n<p>I create a new line:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String s = (sound + &quot; &quot;).repeat(2);\n</code></pre>\n<p>Why, when I compare these strings, do I get false?</p>\n<pre class=\"lang-java prettyprint-override\"><code>System.out.println(s.equals(DRUM_R));\n</code></pre>\n<p>Result: false.</p>\n<p>These strings are exactly the same. Why does this happen?</p>\n"},{"tags":["java","database","performance","refactoring","rocksdb"],"answers":[{"tags":[],"owner":{"account_id":21798418,"reputation":131,"user_id":16097679,"display_name":"Siying Dong"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679077800,"creation_date":1679077800,"answer_id":75770996,"question_id":75763154,"body_markdown":"RocksDB is a persistent storage engine, so the functionality is a superset of what a HashMap can provide. The main disadvantage is performance. Read performance of RocksDB is likely to be worse than well-implemented HashMap. Some tuning can help performance if it runs on ramfs or working set is cached in DRAM, but it is still unlikely to match HashMap.\r\n\r\nOn the other hand, RocksDB does have some features that might allow users to load data to it much faster than HashMap. For example, https://github.com/facebook/rocksdb/wiki/Creating-and-Ingesting-SST-files allows users to load presorted data into RocksDB fast and without interrupting online reads. Another feature to RocksDB is that it can be stored, checkpointed or backed up in persistent storage, either on local disk or remote storage, so perhaps after restarts, it sometimes doesn&#39;t need to reload all the data. These features may or may not help your use case though.","title":"Using RocksDB instead of HashMap in Spring Boot project, what pitfalls should be avoided?","body":"<p>RocksDB is a persistent storage engine, so the functionality is a superset of what a HashMap can provide. The main disadvantage is performance. Read performance of RocksDB is likely to be worse than well-implemented HashMap. Some tuning can help performance if it runs on ramfs or working set is cached in DRAM, but it is still unlikely to match HashMap.</p>\n<p>On the other hand, RocksDB does have some features that might allow users to load data to it much faster than HashMap. For example, <a href=\"https://github.com/facebook/rocksdb/wiki/Creating-and-Ingesting-SST-files\" rel=\"nofollow noreferrer\">https://github.com/facebook/rocksdb/wiki/Creating-and-Ingesting-SST-files</a> allows users to load presorted data into RocksDB fast and without interrupting online reads. Another feature to RocksDB is that it can be stored, checkpointed or backed up in persistent storage, either on local disk or remote storage, so perhaps after restarts, it sometimes doesn't need to reload all the data. These features may or may not help your use case though.</p>\n"},{"tags":[],"owner":{"account_id":26343960,"reputation":71,"user_id":20002643,"display_name":"Dan Carfas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679227177,"creation_date":1679227177,"answer_id":75781819,"question_id":75763154,"body_markdown":"Shared your question with the Speedb hive via Discord and here is the answer from Hilik, our Co-founder and Chief scientist:\r\n\r\nWe need more details about what is the hw topology etc. In general, if you use/have a common storage you can use rocksdb for fast startup.  you will need to open it in a read-only mode in all the places except one.\r\n\r\nYou can find the Speedb hive [here][1] and (once you&#39;ve registered) the link to the thread is [here][2].\r\nLet us know if you need any assistance or additional info.\r\n\r\n\r\n  [1]: https://discord.gg/5fVUUtM2cG\r\n  [2]: https://discord.com/channels/1001437353312796782/1086744117700198410","title":"Using RocksDB instead of HashMap in Spring Boot project, what pitfalls should be avoided?","body":"<p>Shared your question with the Speedb hive via Discord and here is the answer from Hilik, our Co-founder and Chief scientist:</p>\n<p>We need more details about what is the hw topology etc. In general, if you use/have a common storage you can use rocksdb for fast startup.  you will need to open it in a read-only mode in all the places except one.</p>\n<p>You can find the Speedb hive <a href=\"https://discord.gg/5fVUUtM2cG\" rel=\"nofollow noreferrer\">here</a> and (once you've registered) the link to the thread is <a href=\"https://discord.com/channels/1001437353312796782/1086744117700198410\" rel=\"nofollow noreferrer\">here</a>.\nLet us know if you need any assistance or additional info.</p>\n"}],"owner":{"account_id":27081128,"reputation":11,"user_id":20630276,"display_name":"haitao cc"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":537,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1679227177,"creation_date":1679018479,"question_id":75763154,"body_markdown":"### Background:\r\nThere is a Spring Boot service that needs to **synchronize some data** from Elasticsearch to memory **during startup**. The processed data will be used by @Service A.\r\nThe data needs to be **synchronized regularly** from Elasticsearch.\r\nSynchronizing the data during startup causes the service to **start too slowly**.\r\n\r\n### Ideas:\r\n1. Can RocksDB be used as a replacement for HashMap as the synchronization target? This way, if the data does not change, it does not need to be synchronized repeatedly.\r\n2. What should be noted when using this component?\r\n\r\n[click to check process diagram](https://i.stack.imgur.com/IFJfA.png)\r\n\r\nI didn&#39;t try it because I&#39;m not very familiar with rocksdb. I&#39;ve always been concerned about its read-write amplification problem.","title":"Using RocksDB instead of HashMap in Spring Boot project, what pitfalls should be avoided?","body":"<h3>Background:</h3>\n<p>There is a Spring Boot service that needs to <strong>synchronize some data</strong> from Elasticsearch to memory <strong>during startup</strong>. The processed data will be used by @Service A.\nThe data needs to be <strong>synchronized regularly</strong> from Elasticsearch.\nSynchronizing the data during startup causes the service to <strong>start too slowly</strong>.</p>\n<h3>Ideas:</h3>\n<ol>\n<li>Can RocksDB be used as a replacement for HashMap as the synchronization target? This way, if the data does not change, it does not need to be synchronized repeatedly.</li>\n<li>What should be noted when using this component?</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/IFJfA.png\" rel=\"nofollow noreferrer\">click to check process diagram</a></p>\n<p>I didn't try it because I'm not very familiar with rocksdb. I've always been concerned about its read-write amplification problem.</p>\n"},{"tags":["java","selenium-webdriver","printing","automation","selenium-chromedriver"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1679242029,"post_id":75781736,"comment_id":133682159,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":25917617,"reputation":86,"user_id":19640780,"display_name":"Cosmin Drăguşanu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679226890,"creation_date":1679226890,"answer_id":75781790,"question_id":75781736,"body_markdown":"Use the Actions class in Selenium to simulate the keyboard shortcut for opening the printing dialog like this:\r\n```\r\nActions action = new Actions(driver);\r\naction.keyDown(Keys.CONTROL).sendKeys(&quot;p&quot;).keyUp(Keys.CONTROL).build().perform();\r\n```\r\nWait for the printing dialog to appear using an explicit wait. You can wait for a specific element to be present on the dialog or for the dialog to become visible. \r\n```\r\nWebDriverWait wait = new WebDriverWait(driver, 10);\r\nwait.until(ExpectedConditions.presenceOfElementLocated(By.xpath(&quot;//select[@id=&#39;destination&#39;]&quot;)));\r\n```\r\nOnce the printing dialog is visible, you can use Selenium to interact with the dialog\r\n","title":"Automate chrome printing dialog","body":"<p>Use the Actions class in Selenium to simulate the keyboard shortcut for opening the printing dialog like this:</p>\n<pre><code>Actions action = new Actions(driver);\naction.keyDown(Keys.CONTROL).sendKeys(&quot;p&quot;).keyUp(Keys.CONTROL).build().perform();\n</code></pre>\n<p>Wait for the printing dialog to appear using an explicit wait. You can wait for a specific element to be present on the dialog or for the dialog to become visible.</p>\n<pre><code>WebDriverWait wait = new WebDriverWait(driver, 10);\nwait.until(ExpectedConditions.presenceOfElementLocated(By.xpath(&quot;//select[@id='destination']&quot;)));\n</code></pre>\n<p>Once the printing dialog is visible, you can use Selenium to interact with the dialog</p>\n"}],"owner":{"account_id":28056943,"reputation":1,"user_id":21431816,"display_name":"rraghad"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":95,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1679226890,"creation_date":1679226268,"question_id":75781736,"body_markdown":"I am asking about how to automate content of printing dialog of chrome in selenium \r\n\r\nI found printOptions class for dialog settings(scale, background, size) but I need something to validate printed content of pages (all labels, tables,..)\r\n\r\nThanks in advance \r\n\r\nI found printOptions class for dialog settings(scale, background, size) but I need something to validate printed content of pages (all labels, tables,..)\r\n","title":"Automate chrome printing dialog","body":"<p>I am asking about how to automate content of printing dialog of chrome in selenium</p>\n<p>I found printOptions class for dialog settings(scale, background, size) but I need something to validate printed content of pages (all labels, tables,..)</p>\n<p>Thanks in advance</p>\n<p>I found printOptions class for dialog settings(scale, background, size) but I need something to validate printed content of pages (all labels, tables,..)</p>\n"},{"tags":["java","opengl","lwjgl","opengl-3"],"comments":[{"owner":{"account_id":16428083,"reputation":5046,"user_id":11867590,"display_name":"Erdal K&#252;&#231;&#252;k"},"score":1,"creation_date":1679170520,"post_id":75778094,"comment_id":133674824,"body_markdown":"Does `new Mat4()` return an identity matrix?","body":"Does <code>new Mat4()</code> return an identity matrix?"}],"answers":[{"tags":[],"owner":{"account_id":7322082,"reputation":205320,"user_id":5577765,"display_name":"Rabbid76"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1679177946,"creation_date":1679177946,"answer_id":75778995,"question_id":75778094,"body_markdown":"`new Mat4()` does not construct an identity matrix. An identity matrix can be constructed with a single argument 1.0f:\r\n\r\n&lt;s&gt;`Mat4 model = new Mat4();`&lt;/s&gt;\r\n```java\r\nMat4 model = new Mat4(1.0f);\r\n``` \r\n\r\n&lt;s&gt;`Mat4 view = new Mat4();`&lt;/s&gt;\r\n```java\r\nMat4 view = new Mat4(1.0f);\r\n``` ","title":"OpenGL Triange demo shows blank window","body":"<p><code>new Mat4()</code> does not construct an identity matrix. An identity matrix can be constructed with a single argument 1.0f:</p>\n<p><s><code>Mat4 model = new Mat4();</code></s></p>\n<pre class=\"lang-java prettyprint-override\"><code>Mat4 model = new Mat4(1.0f);\n</code></pre>\n<p><s><code>Mat4 view = new Mat4();</code></s></p>\n<pre class=\"lang-java prettyprint-override\"><code>Mat4 view = new Mat4(1.0f);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4068625,"reputation":57,"user_id":3342598,"accept_rate":80,"display_name":"part1kl"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1679226428,"creation_date":1679226428,"answer_id":75781749,"question_id":75778094,"body_markdown":"The problem appears to be with the way the Mat4 object creates the buffer. This is the source code my IDE decompiled for com.hackoeur.jglm.Mat4.getBuffer():\r\n```\r\n    public FloatBuffer getBuffer() {\r\n        FloatBuffer buffer = this.allocateFloatBuffer();\r\n        int startPos = buffer.position();\r\n        buffer.put(this.m00).put(this.m01).put(this.m02).put(this.m03);\r\n        buffer.put(this.m10).put(this.m11).put(this.m12).put(this.m13);\r\n        buffer.put(this.m20).put(this.m21).put(this.m22).put(this.m23);\r\n        buffer.put(this.m30).put(this.m31).put(this.m32).put(this.m33);\r\n        buffer.position(startPos);\r\n        return buffer;\r\n    }\r\n```\r\nI&#39;m not 100% sure *what* the problem with it is or whether I was just using it wrong, but when I went back to the source code of the [tutorial I was initially following by SilverTiger][1] and used the Matrix4f object there, the triangle showed up. Source code for silvertiger.tutorial.lwjgl.math.Matrix4f.toBuffer():\r\n```\r\n    public void toBuffer(FloatBuffer buffer) {\r\n        buffer.put(m00).put(m10).put(m20).put(m30);\r\n        buffer.put(m01).put(m11).put(m21).put(m31);\r\n        buffer.put(m02).put(m12).put(m22).put(m32);\r\n        buffer.put(m03).put(m13).put(m23).put(m33);\r\n        buffer.flip();\r\n    }\r\n```\r\n\r\n  [1]: https://github.com/SilverTiger/lwjgl3-tutorial/blob/master/src/silvertiger/tutorial/lwjgl/math/Matrix4f.java","title":"OpenGL Triange demo shows blank window","body":"<p>The problem appears to be with the way the Mat4 object creates the buffer. This is the source code my IDE decompiled for com.hackoeur.jglm.Mat4.getBuffer():</p>\n<pre><code>    public FloatBuffer getBuffer() {\n        FloatBuffer buffer = this.allocateFloatBuffer();\n        int startPos = buffer.position();\n        buffer.put(this.m00).put(this.m01).put(this.m02).put(this.m03);\n        buffer.put(this.m10).put(this.m11).put(this.m12).put(this.m13);\n        buffer.put(this.m20).put(this.m21).put(this.m22).put(this.m23);\n        buffer.put(this.m30).put(this.m31).put(this.m32).put(this.m33);\n        buffer.position(startPos);\n        return buffer;\n    }\n</code></pre>\n<p>I'm not 100% sure <em>what</em> the problem with it is or whether I was just using it wrong, but when I went back to the source code of the <a href=\"https://github.com/SilverTiger/lwjgl3-tutorial/blob/master/src/silvertiger/tutorial/lwjgl/math/Matrix4f.java\" rel=\"nofollow noreferrer\">tutorial I was initially following by SilverTiger</a> and used the Matrix4f object there, the triangle showed up. Source code for silvertiger.tutorial.lwjgl.math.Matrix4f.toBuffer():</p>\n<pre><code>    public void toBuffer(FloatBuffer buffer) {\n        buffer.put(m00).put(m10).put(m20).put(m30);\n        buffer.put(m01).put(m11).put(m21).put(m31);\n        buffer.put(m02).put(m12).put(m22).put(m32);\n        buffer.put(m03).put(m13).put(m23).put(m33);\n        buffer.flip();\n    }\n</code></pre>\n"}],"owner":{"account_id":4068625,"reputation":57,"user_id":3342598,"accept_rate":80,"display_name":"part1kl"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":73,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":75781749,"answer_count":2,"score":1,"last_activity_date":1679226428,"creation_date":1679166697,"question_id":75778094,"body_markdown":"I&#39;ve started my learning of LWJGL3 and OpenGL 3.2+ with a triangle demo. The program seems to run well and I&#39;m not getting any OpenGL errors, but the triangle does not show up on screen.\r\n\r\nI&#39;ve looked through some of the similar questions on here, and the identified problem with many of them were a missing VAO or bad triangle coordinates or shaders, but I&#39;ve checked those in my code. VAO is created, bound and vertex attributes are assigned. The triangle coordinates should actually make a triangle, and my shaders *say* they&#39;ve compiled and linked properly. I&#39;m at a loss to what I&#39;ve missed here.\r\n\r\nHere is my code. Everything is in this one file (triangle vertex data, OpenGL object IDs, and shader source code at the bottom), save for LWJGL itself and the com.hackoeur.jglm library, which I&#39;m using for my matrices:\r\n```\r\npackage net.part1kl;\r\n\r\nimport com.hackoeur.jglm.Mat4;\r\nimport com.hackoeur.jglm.Matrices;\r\nimport org.lwjgl.Version;\r\nimport org.lwjgl.glfw.*;\r\nimport static org.lwjgl.glfw.GLFW.*;\r\nimport org.lwjgl.opengl.GL;\r\nimport java.nio.FloatBuffer;\r\nimport java.nio.IntBuffer;\r\nimport static org.lwjgl.opengl.GL30C.*;\r\nimport static org.lwjgl.system.MemoryUtil.*;\r\n\r\n\r\npublic class Demo {\r\n\r\n    public static void main(String[] args) {\r\n        init();\r\n        loop();\r\n        dispose();\r\n    }\r\n\r\n    private static long window;\r\n\r\n    private static void init(){\r\n        /* Initialize GLFW */\r\n        System.out.println(Version.getVersion());\r\n        glfwSetErrorCallback(GLFWErrorCallback.createPrint(System.err));\r\n        if (!glfwInit()) throw new IllegalStateException(&quot;GLFW Init Failed&quot;);\r\n\r\n        /* Set window hints and create window */\r\n        glfwDefaultWindowHints();\r\n        glfwWindowHint(GLFW_CONTEXT_VERSION_MAJOR, 3);\r\n        glfwWindowHint(GLFW_CONTEXT_VERSION_MINOR, 2);\r\n        glfwWindowHint(GLFW_OPENGL_PROFILE, GLFW_OPENGL_CORE_PROFILE);\r\n        glfwWindowHint(GLFW_OPENGL_FORWARD_COMPAT, GLFW_TRUE);\r\n        glfwWindowHint(GLFW_RESIZABLE, GLFW_FALSE);\r\n        glfwWindowHint(GLFW_VISIBLE, GLFW_FALSE);\r\n        window = glfwCreateWindow(600, 600, &quot;Demo&quot;, NULL, NULL);\r\n        if ( window == NULL) { glfwTerminate(); throw new RuntimeException(&quot;Window Creation Failed&quot;); }\r\n\r\n        /* Other window setup */\r\n        glfwSetWindowPos(window, 200, 200);\r\n        glfwMakeContextCurrent(window);\r\n        GL.createCapabilities();\r\n        glfwSwapInterval(1);\r\n        glfwSetKeyCallback(window, (window, key, scancode, action, mods) -&gt; {\r\n            if (key == GLFW_KEY_ESCAPE &amp;&amp; action == GLFW_PRESS) glfwSetWindowShouldClose(window, true);\r\n        });\r\n        glfwShowWindow(window);\r\n\r\n        /* Create and bind VAO */\r\n        vao = glGenVertexArrays();\r\n        glBindVertexArray(vao);\r\n\r\n        /* Create, bind, and populate VBO */\r\n        vbo = glGenBuffers();\r\n        glBindBuffer(GL_ARRAY_BUFFER, vbo);\r\n        FloatBuffer verts = memAllocFloat(vertices.length);\r\n        for (float val : vertices) verts.put(val);\r\n        verts.flip();\r\n        glBufferData(GL_ARRAY_BUFFER, verts, GL_STATIC_DRAW);\r\n        memFree(verts);\r\n\r\n        /* Create Vertex Shader */\r\n        vShader = glCreateShader(GL_VERTEX_SHADER);\r\n        glShaderSource(vShader, vertexSource);\r\n        glCompileShader(vShader);\r\n        if (glGetShaderi(vShader, GL_COMPILE_STATUS) != GL_TRUE) throw new RuntimeException(glGetShaderInfoLog(vShader));\r\n\r\n        /* Create Fragment Shader */\r\n        fShader = glCreateShader(GL_FRAGMENT_SHADER);\r\n        glShaderSource(fShader, fragmentSource);\r\n        glCompileShader(fShader);\r\n        if (glGetShaderi(fShader, GL_COMPILE_STATUS) != GL_TRUE) throw new RuntimeException(glGetShaderInfoLog(fShader));\r\n\r\n        /* Create Shader Program */\r\n        program = glCreateProgram();\r\n        glAttachShader(program, vShader);\r\n        glAttachShader(program, fShader);\r\n        glBindFragDataLocation(program, 0, &quot;fragColor&quot;);\r\n        glLinkProgram(program);\r\n        if (glGetProgrami(program, GL_LINK_STATUS) != GL_TRUE) throw new RuntimeException(glGetProgramInfoLog(program));\r\n        glUseProgram(program);\r\n\r\n        /* Set pointer for vertex position information */\r\n        int pAttr = glGetAttribLocation(program, &quot;position&quot;);\r\n        glEnableVertexAttribArray(pAttr);\r\n        glVertexAttribPointer(pAttr, 3, GL_FLOAT, false, 6 * Float.BYTES, 0);\r\n\r\n        /* Set pointer for vertex color information */\r\n        int cAttr = glGetAttribLocation(program, &quot;color&quot;);\r\n        glEnableVertexAttribArray(cAttr);\r\n        glVertexAttribPointer(cAttr, 3, GL_FLOAT, false, 6 * Float.BYTES, 3 * Float.BYTES);\r\n\r\n        /* Create and set model uniform. Using com.hackoeur.jglm v1.0.0 for matrices. */\r\n        Mat4 model = new Mat4();\r\n        int uModel = glGetUniformLocation(program, &quot;model&quot;);\r\n        glUniformMatrix4fv(uModel, false, (FloatBuffer)model.getBuffer().flip());\r\n\r\n        /* Create and set view uniform */\r\n        Mat4 view = new Mat4();\r\n        int uView = glGetUniformLocation(program, &quot;view&quot;);\r\n        glUniformMatrix4fv(uView, false, (FloatBuffer)view.getBuffer().flip());\r\n\r\n        /* Get window size ratio for projection */\r\n        IntBuffer width = memAllocInt(1);\r\n        IntBuffer height = memAllocInt(1);\r\n        GLFW.glfwGetFramebufferSize(window, width, height);\r\n        float ratio = width.get() / (float) height.get();\r\n        memFree(width); memFree(height);\r\n\r\n        /* Create and set projection uniform */\r\n        Mat4 projection = Matrices.ortho(-ratio, ratio, -1f, 1f, -1f, 1f);\r\n        int uProjection = glGetUniformLocation(program, &quot;projection&quot;);\r\n        glUniformMatrix4fv(uProjection, false, (FloatBuffer)projection.getBuffer().flip());\r\n    }\r\n\r\n    private static void loop(){\r\n        double lastTime = glfwGetTime();\r\n        double time = lastTime;\r\n        while(!glfwWindowShouldClose(window)){\r\n            double delta = (float) (time - lastTime);\r\n\r\n            glClear(GL_COLOR_BUFFER_BIT);\r\n\r\n            glBindVertexArray(vao);\r\n            glBindBuffer(GL_ARRAY_BUFFER, vbo);\r\n            glUseProgram(program);\r\n\r\n\r\n            glDrawArrays(GL_TRIANGLES, 0, 3);\r\n\r\n            glfwSwapBuffers(window);\r\n            glfwPollEvents();\r\n\r\n            glCheck();\r\n\r\n            lastTime = time;\r\n            time = glfwGetTime();\r\n        }\r\n    }\r\n\r\n    private static void dispose(){\r\n        glDeleteVertexArrays(vao);\r\n        glDeleteBuffers(vbo);\r\n        glDeleteShader(vShader);\r\n        glDeleteShader(fShader);\r\n        glDeleteProgram(program);\r\n\r\n        glfwDestroyWindow(window);\r\n    }\r\n\r\n    private static void print(String message) { System.out.println(message); }\r\n\r\n    private static void err(String message) { System.err.println(message); }\r\n\r\n    private static int glCheckCounter = 0;\r\n\r\n    private static void glCheck() {\r\n        int val = glGetError();\r\n        if (val==0) print(&quot;GL Error Check &quot;+glCheckCounter+&quot; no error.&quot;);\r\n        else err(&quot;GL Error Check &quot;+glCheckCounter+&quot; returned error &quot;+val);\r\n        glCheckCounter++;\r\n    }\r\n\r\n\r\n    private static int vao, vbo, vShader, fShader, program;\r\n    private static final float[] vertices = {\r\n            -0.6f,   -0.4f,   0f,   1f,   0f,   0f,\r\n             0.6f,   -0.4f,   0f,   0f,   1f,   0f,\r\n               0f,    0.6f,   0f,   0f,   0f,   1f\r\n    };\r\n    private static final CharSequence vertexSource\r\n            = &quot;#version 150 core\\n&quot;\r\n            + &quot;\\n&quot;\r\n            + &quot;in vec3 position;\\n&quot;\r\n            + &quot;in vec3 color;\\n&quot;\r\n            + &quot;\\n&quot;\r\n            + &quot;out vec3 vertexColor;\\n&quot;\r\n            + &quot;\\n&quot;\r\n            + &quot;uniform mat4 model;\\n&quot;\r\n            + &quot;uniform mat4 view;\\n&quot;\r\n            + &quot;uniform mat4 projection;\\n&quot;\r\n            + &quot;\\n&quot;\r\n            + &quot;void main() {\\n&quot;\r\n            + &quot;    vertexColor = color;\\n&quot;\r\n            + &quot;    mat4 mvp = projection * view * model;\\n&quot;\r\n            + &quot;    gl_Position = mvp * vec4(position, 1.0);\\n&quot;\r\n            + &quot;}&quot;;\r\n    private static final CharSequence fragmentSource\r\n            = &quot;#version 150 core\\n&quot;\r\n            + &quot;\\n&quot;\r\n            + &quot;in vec3 vertexColor;\\n&quot;\r\n            + &quot;\\n&quot;\r\n            + &quot;out vec4 fragColor;\\n&quot;\r\n            + &quot;\\n&quot;\r\n            + &quot;void main() {\\n&quot;\r\n            + &quot;    fragColor = vec4(vertexColor, 1.0);\\n&quot;\r\n            + &quot;}&quot;;\r\n}\r\n\r\n```\r\nThis is the output I get from running this program:\r\n```\r\n3.3.1 build 7\r\nGL Error Check 0 no error.\r\nGL Error Check 1 no error.\r\nGL Error Check 2 no error.\r\nGL Error Check 3 no error.\r\nGL Error Check 4 no error.\r\nGL Error Check 5 no error.\r\nGL Error Check 6 no error.\r\nGL Error Check 7 no error.\r\n```\r\nThe &quot;GL Error Check # no error.&quot; keeps going for as long as the program runs, I&#39;ve cut it off at 8 loops. It&#39;s never brought up an OpenGL error.","title":"OpenGL Triange demo shows blank window","body":"<p>I've started my learning of LWJGL3 and OpenGL 3.2+ with a triangle demo. The program seems to run well and I'm not getting any OpenGL errors, but the triangle does not show up on screen.</p>\n<p>I've looked through some of the similar questions on here, and the identified problem with many of them were a missing VAO or bad triangle coordinates or shaders, but I've checked those in my code. VAO is created, bound and vertex attributes are assigned. The triangle coordinates should actually make a triangle, and my shaders <em>say</em> they've compiled and linked properly. I'm at a loss to what I've missed here.</p>\n<p>Here is my code. Everything is in this one file (triangle vertex data, OpenGL object IDs, and shader source code at the bottom), save for LWJGL itself and the com.hackoeur.jglm library, which I'm using for my matrices:</p>\n<pre><code>package net.part1kl;\n\nimport com.hackoeur.jglm.Mat4;\nimport com.hackoeur.jglm.Matrices;\nimport org.lwjgl.Version;\nimport org.lwjgl.glfw.*;\nimport static org.lwjgl.glfw.GLFW.*;\nimport org.lwjgl.opengl.GL;\nimport java.nio.FloatBuffer;\nimport java.nio.IntBuffer;\nimport static org.lwjgl.opengl.GL30C.*;\nimport static org.lwjgl.system.MemoryUtil.*;\n\n\npublic class Demo {\n\n    public static void main(String[] args) {\n        init();\n        loop();\n        dispose();\n    }\n\n    private static long window;\n\n    private static void init(){\n        /* Initialize GLFW */\n        System.out.println(Version.getVersion());\n        glfwSetErrorCallback(GLFWErrorCallback.createPrint(System.err));\n        if (!glfwInit()) throw new IllegalStateException(&quot;GLFW Init Failed&quot;);\n\n        /* Set window hints and create window */\n        glfwDefaultWindowHints();\n        glfwWindowHint(GLFW_CONTEXT_VERSION_MAJOR, 3);\n        glfwWindowHint(GLFW_CONTEXT_VERSION_MINOR, 2);\n        glfwWindowHint(GLFW_OPENGL_PROFILE, GLFW_OPENGL_CORE_PROFILE);\n        glfwWindowHint(GLFW_OPENGL_FORWARD_COMPAT, GLFW_TRUE);\n        glfwWindowHint(GLFW_RESIZABLE, GLFW_FALSE);\n        glfwWindowHint(GLFW_VISIBLE, GLFW_FALSE);\n        window = glfwCreateWindow(600, 600, &quot;Demo&quot;, NULL, NULL);\n        if ( window == NULL) { glfwTerminate(); throw new RuntimeException(&quot;Window Creation Failed&quot;); }\n\n        /* Other window setup */\n        glfwSetWindowPos(window, 200, 200);\n        glfwMakeContextCurrent(window);\n        GL.createCapabilities();\n        glfwSwapInterval(1);\n        glfwSetKeyCallback(window, (window, key, scancode, action, mods) -&gt; {\n            if (key == GLFW_KEY_ESCAPE &amp;&amp; action == GLFW_PRESS) glfwSetWindowShouldClose(window, true);\n        });\n        glfwShowWindow(window);\n\n        /* Create and bind VAO */\n        vao = glGenVertexArrays();\n        glBindVertexArray(vao);\n\n        /* Create, bind, and populate VBO */\n        vbo = glGenBuffers();\n        glBindBuffer(GL_ARRAY_BUFFER, vbo);\n        FloatBuffer verts = memAllocFloat(vertices.length);\n        for (float val : vertices) verts.put(val);\n        verts.flip();\n        glBufferData(GL_ARRAY_BUFFER, verts, GL_STATIC_DRAW);\n        memFree(verts);\n\n        /* Create Vertex Shader */\n        vShader = glCreateShader(GL_VERTEX_SHADER);\n        glShaderSource(vShader, vertexSource);\n        glCompileShader(vShader);\n        if (glGetShaderi(vShader, GL_COMPILE_STATUS) != GL_TRUE) throw new RuntimeException(glGetShaderInfoLog(vShader));\n\n        /* Create Fragment Shader */\n        fShader = glCreateShader(GL_FRAGMENT_SHADER);\n        glShaderSource(fShader, fragmentSource);\n        glCompileShader(fShader);\n        if (glGetShaderi(fShader, GL_COMPILE_STATUS) != GL_TRUE) throw new RuntimeException(glGetShaderInfoLog(fShader));\n\n        /* Create Shader Program */\n        program = glCreateProgram();\n        glAttachShader(program, vShader);\n        glAttachShader(program, fShader);\n        glBindFragDataLocation(program, 0, &quot;fragColor&quot;);\n        glLinkProgram(program);\n        if (glGetProgrami(program, GL_LINK_STATUS) != GL_TRUE) throw new RuntimeException(glGetProgramInfoLog(program));\n        glUseProgram(program);\n\n        /* Set pointer for vertex position information */\n        int pAttr = glGetAttribLocation(program, &quot;position&quot;);\n        glEnableVertexAttribArray(pAttr);\n        glVertexAttribPointer(pAttr, 3, GL_FLOAT, false, 6 * Float.BYTES, 0);\n\n        /* Set pointer for vertex color information */\n        int cAttr = glGetAttribLocation(program, &quot;color&quot;);\n        glEnableVertexAttribArray(cAttr);\n        glVertexAttribPointer(cAttr, 3, GL_FLOAT, false, 6 * Float.BYTES, 3 * Float.BYTES);\n\n        /* Create and set model uniform. Using com.hackoeur.jglm v1.0.0 for matrices. */\n        Mat4 model = new Mat4();\n        int uModel = glGetUniformLocation(program, &quot;model&quot;);\n        glUniformMatrix4fv(uModel, false, (FloatBuffer)model.getBuffer().flip());\n\n        /* Create and set view uniform */\n        Mat4 view = new Mat4();\n        int uView = glGetUniformLocation(program, &quot;view&quot;);\n        glUniformMatrix4fv(uView, false, (FloatBuffer)view.getBuffer().flip());\n\n        /* Get window size ratio for projection */\n        IntBuffer width = memAllocInt(1);\n        IntBuffer height = memAllocInt(1);\n        GLFW.glfwGetFramebufferSize(window, width, height);\n        float ratio = width.get() / (float) height.get();\n        memFree(width); memFree(height);\n\n        /* Create and set projection uniform */\n        Mat4 projection = Matrices.ortho(-ratio, ratio, -1f, 1f, -1f, 1f);\n        int uProjection = glGetUniformLocation(program, &quot;projection&quot;);\n        glUniformMatrix4fv(uProjection, false, (FloatBuffer)projection.getBuffer().flip());\n    }\n\n    private static void loop(){\n        double lastTime = glfwGetTime();\n        double time = lastTime;\n        while(!glfwWindowShouldClose(window)){\n            double delta = (float) (time - lastTime);\n\n            glClear(GL_COLOR_BUFFER_BIT);\n\n            glBindVertexArray(vao);\n            glBindBuffer(GL_ARRAY_BUFFER, vbo);\n            glUseProgram(program);\n\n\n            glDrawArrays(GL_TRIANGLES, 0, 3);\n\n            glfwSwapBuffers(window);\n            glfwPollEvents();\n\n            glCheck();\n\n            lastTime = time;\n            time = glfwGetTime();\n        }\n    }\n\n    private static void dispose(){\n        glDeleteVertexArrays(vao);\n        glDeleteBuffers(vbo);\n        glDeleteShader(vShader);\n        glDeleteShader(fShader);\n        glDeleteProgram(program);\n\n        glfwDestroyWindow(window);\n    }\n\n    private static void print(String message) { System.out.println(message); }\n\n    private static void err(String message) { System.err.println(message); }\n\n    private static int glCheckCounter = 0;\n\n    private static void glCheck() {\n        int val = glGetError();\n        if (val==0) print(&quot;GL Error Check &quot;+glCheckCounter+&quot; no error.&quot;);\n        else err(&quot;GL Error Check &quot;+glCheckCounter+&quot; returned error &quot;+val);\n        glCheckCounter++;\n    }\n\n\n    private static int vao, vbo, vShader, fShader, program;\n    private static final float[] vertices = {\n            -0.6f,   -0.4f,   0f,   1f,   0f,   0f,\n             0.6f,   -0.4f,   0f,   0f,   1f,   0f,\n               0f,    0.6f,   0f,   0f,   0f,   1f\n    };\n    private static final CharSequence vertexSource\n            = &quot;#version 150 core\\n&quot;\n            + &quot;\\n&quot;\n            + &quot;in vec3 position;\\n&quot;\n            + &quot;in vec3 color;\\n&quot;\n            + &quot;\\n&quot;\n            + &quot;out vec3 vertexColor;\\n&quot;\n            + &quot;\\n&quot;\n            + &quot;uniform mat4 model;\\n&quot;\n            + &quot;uniform mat4 view;\\n&quot;\n            + &quot;uniform mat4 projection;\\n&quot;\n            + &quot;\\n&quot;\n            + &quot;void main() {\\n&quot;\n            + &quot;    vertexColor = color;\\n&quot;\n            + &quot;    mat4 mvp = projection * view * model;\\n&quot;\n            + &quot;    gl_Position = mvp * vec4(position, 1.0);\\n&quot;\n            + &quot;}&quot;;\n    private static final CharSequence fragmentSource\n            = &quot;#version 150 core\\n&quot;\n            + &quot;\\n&quot;\n            + &quot;in vec3 vertexColor;\\n&quot;\n            + &quot;\\n&quot;\n            + &quot;out vec4 fragColor;\\n&quot;\n            + &quot;\\n&quot;\n            + &quot;void main() {\\n&quot;\n            + &quot;    fragColor = vec4(vertexColor, 1.0);\\n&quot;\n            + &quot;}&quot;;\n}\n\n</code></pre>\n<p>This is the output I get from running this program:</p>\n<pre><code>3.3.1 build 7\nGL Error Check 0 no error.\nGL Error Check 1 no error.\nGL Error Check 2 no error.\nGL Error Check 3 no error.\nGL Error Check 4 no error.\nGL Error Check 5 no error.\nGL Error Check 6 no error.\nGL Error Check 7 no error.\n</code></pre>\n<p>The &quot;GL Error Check # no error.&quot; keeps going for as long as the program runs, I've cut it off at 8 loops. It's never brought up an OpenGL error.</p>\n"},{"tags":["java","jar"],"comments":[{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1679225600,"post_id":75781587,"comment_id":133679817,"body_markdown":"There is no such thing, but I wonder, wouldn&#39;t base:class:path:$@ work?","body":"There is no such thing, but I wonder, wouldn&#39;t base:class:path:$@ work?"},{"owner":{"account_id":3535938,"reputation":4695,"user_id":2954288,"accept_rate":48,"display_name":"Harald"},"score":0,"creation_date":1679226552,"post_id":75781587,"comment_id":133679945,"body_markdown":"No. Extended the question to be clearer in this regard.","body":"No. Extended the question to be clearer in this regard."}],"owner":{"account_id":3535938,"reputation":4695,"user_id":2954288,"accept_rate":48,"display_name":"Harald"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679226427,"creation_date":1679224479,"question_id":75781587,"body_markdown":"In some script I would like to have\r\n```\r\njava -cp base:class:path &quot;$@&quot;\r\n```\r\nwhere `&quot;$@&quot;` may be a complete set of `java` command line options with additional `-cp` options, think `... -cp this.jar:that.jar -Dsome.prop=1 ... some.package.Main`. But additional `-cp` options override the previous one. I wildly guessed things like `-cp +...` or `-cp :...` in the hope to have them added, but this does not work.\r\n\r\nIs there some trick I am missing, apart from looping over `&quot;$@&quot;` and injecting the `base:class:path`?\r\n\r\n","title":"Pass multiple -classpath options to the java command","body":"<p>In some script I would like to have</p>\n<pre><code>java -cp base:class:path &quot;$@&quot;\n</code></pre>\n<p>where <code>&quot;$@&quot;</code> may be a complete set of <code>java</code> command line options with additional <code>-cp</code> options, think <code>... -cp this.jar:that.jar -Dsome.prop=1 ... some.package.Main</code>. But additional <code>-cp</code> options override the previous one. I wildly guessed things like <code>-cp +...</code> or <code>-cp :...</code> in the hope to have them added, but this does not work.</p>\n<p>Is there some trick I am missing, apart from looping over <code>&quot;$@&quot;</code> and injecting the <code>base:class:path</code>?</p>\n"},{"tags":["java","unit-testing","mocking","mockito","lombok"],"comments":[{"owner":{"account_id":1888781,"reputation":2007,"user_id":1707427,"display_name":"S&#246;ren"},"score":0,"creation_date":1679222784,"post_id":75781393,"comment_id":133679444,"body_markdown":"Don&#39;t show code that is working, show code that isn&#39;t! You&#39;re never throwing an exception, so of course `assertThrows` fails. How would you test this code if it wasn&#39;t using `@SneakyThrows` but a conventional `throws` declaration?","body":"Don&#39;t show code that is working, show code that isn&#39;t! You&#39;re never throwing an exception, so of course <code>assertThrows</code> fails. How would you test this code if it wasn&#39;t using <code>@SneakyThrows</code> but a conventional <code>throws</code> declaration?"}],"answers":[{"tags":[],"owner":{"account_id":17520379,"reputation":1536,"user_id":12706564,"display_name":"Emanuel Trandafir"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1679225992,"creation_date":1679222809,"answer_id":75781444,"question_id":75781393,"body_markdown":"in order to test it, you need to make your mock throw some exception when `getLocalHostName` is called:\r\n\r\n    Mockito.when(mockInetAddress.getHostName()).thenThrow(new RuntimeException()); \r\n    // use here the actual exception that will occur in your production code\r\n    \r\n    MyRepository repository = new MyRepository(jdbcTemplate) {\r\n        @Override\r\n        public String getLocalHostName() {\r\n            return mockInetAddress.getHostName();\r\n        }\r\n    };\r\n    \r\n    assertThrows(Exception.class, () -&gt; repository.getLocalHostName());\r\n\r\nAdditionally, you can use Assertj for testing exceptions: https://github.com/assertj/assertj. For instance, you can check the exception message:\r\n\r\n    //Assertions from package org.assertj.core.api\r\n    Assertions.assertThatThrownBy(() -&gt; repository.getLocalHostName())\r\n    \t\t.isInstanceOf(UnknownHostException.class)\r\n    \t\t.hasMessageContaining(&quot;my custom error message&quot;);\r\n\r\n","title":"How to cover @SneakyThrows annotation by mock tests?","body":"<p>in order to test it, you need to make your mock throw some exception when <code>getLocalHostName</code> is called:</p>\n<pre><code>Mockito.when(mockInetAddress.getHostName()).thenThrow(new RuntimeException()); \n// use here the actual exception that will occur in your production code\n\nMyRepository repository = new MyRepository(jdbcTemplate) {\n    @Override\n    public String getLocalHostName() {\n        return mockInetAddress.getHostName();\n    }\n};\n\nassertThrows(Exception.class, () -&gt; repository.getLocalHostName());\n</code></pre>\n<p>Additionally, you can use Assertj for testing exceptions: <a href=\"https://github.com/assertj/assertj\" rel=\"nofollow noreferrer\">https://github.com/assertj/assertj</a>. For instance, you can check the exception message:</p>\n<pre><code>//Assertions from package org.assertj.core.api\nAssertions.assertThatThrownBy(() -&gt; repository.getLocalHostName())\n        .isInstanceOf(UnknownHostException.class)\n        .hasMessageContaining(&quot;my custom error message&quot;);\n</code></pre>\n"}],"owner":{"account_id":23951042,"reputation":33,"user_id":17942621,"display_name":"Jack"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":670,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75781444,"answer_count":1,"score":0,"last_activity_date":1679225992,"creation_date":1679222186,"question_id":75781393,"body_markdown":"I want to cover by mock test (I use Unit 5) `@SneakyThrows` annotation in one method which looks like:\r\n\r\n    @Override\r\n    @SneakyThrows\r\n    public String getLocalHostName() {\r\n        return InetAddress.getLocalHost().getHostName();\r\n        }\r\nBut all my tryouts are not successful. I&#39;ve tried to write something like\r\n\r\n    @Test\r\n    void testGetLocalHostName_exception() {\r\n        assertThrows(Exception.class, () -&gt; repository.getLocalHostName());\r\n    }\r\nBut it did not cover this annotation.\r\nMy mock test btw for the successful case is the following:\r\n\r\n    @ExtendWith(MockitoExtension.class)\r\n    class MyRepositoryImplTest {\r\n    \r\n        @Mock(lenient = true)\r\n        private NamedParameterJdbcTemplate jdbcTemplate;\r\n    \r\n        @Mock(lenient = true)\r\n        private InetAddress mockInetAddress;\r\n    \r\n        @InjectMocks\r\n        @Spy\r\n        private MyRepository repository;\r\n    \r\n        @Test\r\n        void testGetLocalHostName() {\r\n            var expectedHostname = &quot;mock-hostname&quot;;\r\n            Mockito.when(mockInetAddress.getHostName()).thenReturn(expectedHostname);\r\n        \r\n            MyRepository repository = new MyRepository(jdbcTemplate) {\r\n                @Override\r\n                public String getLocalHostName() {\r\n                    return mockInetAddress.getHostName();\r\n                }\r\n            };\r\n            assertThat(repository.getLocalHostName()).isEqualTo(expectedHostname);\r\n        }\r\n    }\r\n\r\nCan you help me please to cover this line by test?","title":"How to cover @SneakyThrows annotation by mock tests?","body":"<p>I want to cover by mock test (I use Unit 5) <code>@SneakyThrows</code> annotation in one method which looks like:</p>\n<pre><code>@Override\n@SneakyThrows\npublic String getLocalHostName() {\n    return InetAddress.getLocalHost().getHostName();\n    }\n</code></pre>\n<p>But all my tryouts are not successful. I've tried to write something like</p>\n<pre><code>@Test\nvoid testGetLocalHostName_exception() {\n    assertThrows(Exception.class, () -&gt; repository.getLocalHostName());\n}\n</code></pre>\n<p>But it did not cover this annotation.\nMy mock test btw for the successful case is the following:</p>\n<pre><code>@ExtendWith(MockitoExtension.class)\nclass MyRepositoryImplTest {\n\n    @Mock(lenient = true)\n    private NamedParameterJdbcTemplate jdbcTemplate;\n\n    @Mock(lenient = true)\n    private InetAddress mockInetAddress;\n\n    @InjectMocks\n    @Spy\n    private MyRepository repository;\n\n    @Test\n    void testGetLocalHostName() {\n        var expectedHostname = &quot;mock-hostname&quot;;\n        Mockito.when(mockInetAddress.getHostName()).thenReturn(expectedHostname);\n    \n        MyRepository repository = new MyRepository(jdbcTemplate) {\n            @Override\n            public String getLocalHostName() {\n                return mockInetAddress.getHostName();\n            }\n        };\n        assertThat(repository.getLocalHostName()).isEqualTo(expectedHostname);\n    }\n}\n</code></pre>\n<p>Can you help me please to cover this line by test?</p>\n"},{"tags":["java","android","kotlin","gradle","sdk"],"comments":[{"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"score":2,"creation_date":1648881076,"post_id":71715306,"comment_id":126740434,"body_markdown":"It means your tools and out of sync.  Probably the easiest way to fix this is to reinstall Android Studio.","body":"It means your tools and out of sync.  Probably the easiest way to fix this is to reinstall Android Studio."}],"answers":[{"tags":[],"owner":{"account_id":22303736,"reputation":209,"user_id":16528677,"display_name":"Darian-Cătălin Cucer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1679225747,"creation_date":1679223555,"answer_id":75781509,"question_id":71715306,"body_markdown":"The most common reason for this error can be the usages of **outdated** `Android SDK` tools that are unable to understand the most recent `&quot;SDK XML&quot;` files.\r\n\r\nYou should update your `SDK tools` to the most recent version that supports the `&quot;SDK XML&quot;`, **Version 3** should solve the problem.\r\n\r\nThis is a possible procedures to upgrade your `SDK tools`:\r\n\r\n 1. Open `Android Studio`.\r\n 2. Go to `File`-&gt;`Settings`-&gt;`Appearance &amp; Behaviour`-&gt;`System Settings`-&gt;`Android SDK`.\r\n 3. Open `SDK Manager` and select `SDK Tools`.\r\n 4. Check the `Android SDK Built-Tools`.\r\n 5. If it&#39;s not updated, select the latest version and click `Apply` to install it.\r\n 6. When the installation is completed, restart `Android Studio`.\r\n 7. Try to `rebuild` your Application.\r\n\r\n**You can also try `Invalidate Caches` and to `clone` the project again.**\r\n\r\nAlso check this [Update the IDE and SDK tools](https://developer.android.com/studio/intro/update) and this [sdk - How to update Android Studio automatically?](https://stackoverflow.com/questions/28133518/how-to-update-android-studio-automatically)\r\n","title":"How I can resolve &quot;This version only understands SDK XML versions up to 2 but an SDK XML file of version 3 was encountered&quot;?","body":"<p>The most common reason for this error can be the usages of <strong>outdated</strong> <code>Android SDK</code> tools that are unable to understand the most recent <code>&quot;SDK XML&quot;</code> files.</p>\n<p>You should update your <code>SDK tools</code> to the most recent version that supports the <code>&quot;SDK XML&quot;</code>, <strong>Version 3</strong> should solve the problem.</p>\n<p>This is a possible procedures to upgrade your <code>SDK tools</code>:</p>\n<ol>\n<li>Open <code>Android Studio</code>.</li>\n<li>Go to <code>File</code>-&gt;<code>Settings</code>-&gt;<code>Appearance &amp; Behaviour</code>-&gt;<code>System Settings</code>-&gt;<code>Android SDK</code>.</li>\n<li>Open <code>SDK Manager</code> and select <code>SDK Tools</code>.</li>\n<li>Check the <code>Android SDK Built-Tools</code>.</li>\n<li>If it's not updated, select the latest version and click <code>Apply</code> to install it.</li>\n<li>When the installation is completed, restart <code>Android Studio</code>.</li>\n<li>Try to <code>rebuild</code> your Application.</li>\n</ol>\n<p><strong>You can also try <code>Invalidate Caches</code> and to <code>clone</code> the project again.</strong></p>\n<p>Also check this <a href=\"https://developer.android.com/studio/intro/update\" rel=\"nofollow noreferrer\">Update the IDE and SDK tools</a> and this <a href=\"https://stackoverflow.com/questions/28133518/how-to-update-android-studio-automatically\">sdk - How to update Android Studio automatically?</a></p>\n"}],"owner":{"display_name":"user18594689"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2091,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":75781509,"answer_count":1,"score":3,"last_activity_date":1679225747,"creation_date":1648880249,"question_id":71715306,"body_markdown":"I am getting this error &quot;This version only understands SDK XML versions up to 2 but an SDK XML file of version 3 was encountered. This can happen if you use versions of Android Studio and the command-line tools that were released at different times.&quot;\r\n\r\nMy app still working but this error is annoying.\r\n\r\nCan anyone help?","title":"How I can resolve &quot;This version only understands SDK XML versions up to 2 but an SDK XML file of version 3 was encountered&quot;?","body":"<p>I am getting this error &quot;This version only understands SDK XML versions up to 2 but an SDK XML file of version 3 was encountered. This can happen if you use versions of Android Studio and the command-line tools that were released at different times.&quot;</p>\n<p>My app still working but this error is annoying.</p>\n<p>Can anyone help?</p>\n"},{"tags":["java","thread-safety","apache-tika","language-detection"],"comments":[{"owner":{"account_id":732315,"reputation":4996,"user_id":681444,"display_name":"racraman"},"score":1,"creation_date":1679221781,"post_id":75781081,"comment_id":133679318,"body_markdown":"Looks like the intent is certainly that they are :  “Detect and parse are both thread-safe. If you find otherwise, that&#39;s a bug! ”   https://www.mail-archive.com/user@tika.apache.org/msg03473.html","body":"Looks like the intent is certainly that they are :  “Detect and parse are both thread-safe. If you find otherwise, that&#39;s a bug! ”   <a href=\"https://www.mail-archive.com/user@tika.apache.org/msg03473.html\" rel=\"nofollow noreferrer\">mail-archive.com/user@tika.apache.org/msg03473.html</a>"},{"owner":{"account_id":2629772,"reputation":433,"user_id":2276054,"display_name":"Leszek Pachura"},"score":0,"creation_date":1679222087,"post_id":75781081,"comment_id":133679360,"body_markdown":"@racraman The post you linked refers to class `org.apache.tika.Tika`, which is used to detect media types, not to `org.apache.tika.language.detect.LanguageDetector`.","body":"@racraman The post you linked refers to class <code>org.apache.tika.Tika</code>, which is used to detect media types, not to <code>org.apache.tika.language.detect.LanguageDetector</code>."}],"answers":[{"tags":[],"owner":{"account_id":19255478,"reputation":8414,"user_id":14072498,"display_name":"Roar S."},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1679225595,"creation_date":1679225234,"answer_id":75781649,"question_id":75781081,"body_markdown":"A requirement for a class to be thread-safe, is that it is immutable. That means after construction, instance methods are not allowed to change any members. \r\n\r\nWhen reading the source for `org.apache.tika.langdetect.optimaize.OptimaizeLangDetector` [here][1]\r\n\r\nwe&#39;ll see this instance method\r\n```\r\npublic void reset() {\r\n    writer.reset();\r\n}\r\n```\r\nwhich is changing member \r\n```\r\nprivate CharArrayWriter writer;\r\n```\r\nand with that the state of the `OptimaizeLangDetector` instance. Hence `OptimaizeLangDetector` is not thread-safe.\r\n\r\n  [1]: https://github.com/apache/tika/blob/main/tika-langdetect/tika-langdetect-optimaize/src/main/java/org/apache/tika/langdetect/optimaize/OptimaizeLangDetector.java","title":"Are Apache Tika&#39;s LanguageDetectors thread-safe?","body":"<p>A requirement for a class to be thread-safe, is that it is immutable. That means after construction, instance methods are not allowed to change any members.</p>\n<p>When reading the source for <code>org.apache.tika.langdetect.optimaize.OptimaizeLangDetector</code> <a href=\"https://github.com/apache/tika/blob/main/tika-langdetect/tika-langdetect-optimaize/src/main/java/org/apache/tika/langdetect/optimaize/OptimaizeLangDetector.java\" rel=\"nofollow noreferrer\">here</a></p>\n<p>we'll see this instance method</p>\n<pre><code>public void reset() {\n    writer.reset();\n}\n</code></pre>\n<p>which is changing member</p>\n<pre><code>private CharArrayWriter writer;\n</code></pre>\n<p>and with that the state of the <code>OptimaizeLangDetector</code> instance. Hence <code>OptimaizeLangDetector</code> is not thread-safe.</p>\n"}],"owner":{"account_id":2629772,"reputation":433,"user_id":2276054,"display_name":"Leszek Pachura"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":188,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75781649,"answer_count":1,"score":0,"last_activity_date":1679225595,"creation_date":1679217860,"question_id":75781081,"body_markdown":"Consider the following code:\r\n`````\r\nfinal String[] texts = {\r\n    &quot;Allons, enfants de la Patrie, Le jour de gloire est arriv&#233;&quot;,\r\n    &quot;O Tannenbaum, o Tannenbaum, wie treu sind deine Bl&#228;tter!&quot;,\r\n    &quot;...&quot;\r\n};\r\n\r\nfinal LanguageDetector ld = new OptimaizeLangDetector();  // or e.g. OpenNLPDetector\r\nld.loadModels();\r\nArrays.stream(texts).parallel().forEach(text -&gt; System.out.println(ld.detect(text)));\r\n`````\r\nCan I assume that `ld.detect()` and `ld.detectAll()` are thread-safe and can be ran in parallel on multiple texts using a single `LanguageDetector` instance?\r\n\r\nThe thing that makes me worry is that `LanguageDetector` has methods like `addText()`, `hasEnoughText()` and `reset()` which make it stateful, and therefore - by definition - non-thread-safe...\r\n\r\nhttps://tika.apache.org/2.7.0/api/org/apache/tika/language/detect/LanguageDetector.html","title":"Are Apache Tika&#39;s LanguageDetectors thread-safe?","body":"<p>Consider the following code:</p>\n<pre><code>final String[] texts = {\n    &quot;Allons, enfants de la Patrie, Le jour de gloire est arrivé&quot;,\n    &quot;O Tannenbaum, o Tannenbaum, wie treu sind deine Blätter!&quot;,\n    &quot;...&quot;\n};\n\nfinal LanguageDetector ld = new OptimaizeLangDetector();  // or e.g. OpenNLPDetector\nld.loadModels();\nArrays.stream(texts).parallel().forEach(text -&gt; System.out.println(ld.detect(text)));\n</code></pre>\n<p>Can I assume that <code>ld.detect()</code> and <code>ld.detectAll()</code> are thread-safe and can be ran in parallel on multiple texts using a single <code>LanguageDetector</code> instance?</p>\n<p>The thing that makes me worry is that <code>LanguageDetector</code> has methods like <code>addText()</code>, <code>hasEnoughText()</code> and <code>reset()</code> which make it stateful, and therefore - by definition - non-thread-safe...</p>\n<p><a href=\"https://tika.apache.org/2.7.0/api/org/apache/tika/language/detect/LanguageDetector.html\" rel=\"nofollow noreferrer\">https://tika.apache.org/2.7.0/api/org/apache/tika/language/detect/LanguageDetector.html</a></p>\n"},{"tags":["java","fonts","itext"],"comments":[{"owner":{"account_id":26119940,"reputation":3,"user_id":19812391,"display_name":"Мақсат"},"score":0,"creation_date":1676431162,"post_id":75446930,"comment_id":133133959,"body_markdown":"@KJ thx for you answer, there have a way to check local fonts subset ? I need to avoid &#39;Missing Character&#39; when system rendering. Wanna go to confirm local font contain all fonts used in a pdf file.","body":"@KJ thx for you answer, there have a way to check local fonts subset ? I need to avoid &#39;Missing Character&#39; when system rendering. Wanna go to confirm local font contain all fonts used in a pdf file."}],"answers":[{"tags":[],"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1676411776,"creation_date":1676411776,"answer_id":75453629,"question_id":75446930,"body_markdown":"According to the PDF specification:\r\n\r\n&gt;### 9.9.2 Font subsets\r\n&gt;\r\n&gt;PDF documents may include subsets of PDF fonts whose **Subtype** is *Type1*, *TrueType* or *OpenType*. The font and font descriptor that describe a font subset are slightly different from those of ordinary fonts. These differences allow a PDF processor to recognise font subsets and to merge documents containing different subsets of the same font. (For more information on font descriptors, see 9.8, &quot;Font descriptors&quot;.)\r\n&gt;\r\n&gt;For a font subset, the PostScript name of the font, that is, the value of the font’s **BaseFont** entry and the font descriptor’s **FontName** entry, shall begin with a tag followed by a plus sign (+) followed by the PostScript name of the font from which the subset was created. The tag shall consist of exactly six uppercase letters; the choice of letters is arbitrary, but different subsets of the same font in the same PDF file shall have different tags. The glyph name **.notdef** shall be defined in the font subset.\r\n&gt;\r\n&gt;NOTE It is recommended that PDF processors treat multiple subset fonts as completely independent entities, even if they appear to have been created from the same original font.\r\n&gt;\r\n&gt;EXAMPLE EOODIA+Poetica is the name of a subset of Poetica&#174;, a Type 1 font.\r\n\r\n*(ISO 32000-2)*\r\n\r\nThus, AAAAAD+SourceHanSansCN-Normal and BIISMY+SourceHanSansCN-Normal most likely are different subsets of the same source font.","title":"What is different the two font?","body":"<p>According to the PDF specification:</p>\n<blockquote>\n<h3>9.9.2 Font subsets</h3>\n<p>PDF documents may include subsets of PDF fonts whose <strong>Subtype</strong> is <em>Type1</em>, <em>TrueType</em> or <em>OpenType</em>. The font and font descriptor that describe a font subset are slightly different from those of ordinary fonts. These differences allow a PDF processor to recognise font subsets and to merge documents containing different subsets of the same font. (For more information on font descriptors, see 9.8, &quot;Font descriptors&quot;.)</p>\n<p>For a font subset, the PostScript name of the font, that is, the value of the font’s <strong>BaseFont</strong> entry and the font descriptor’s <strong>FontName</strong> entry, shall begin with a tag followed by a plus sign (+) followed by the PostScript name of the font from which the subset was created. The tag shall consist of exactly six uppercase letters; the choice of letters is arbitrary, but different subsets of the same font in the same PDF file shall have different tags. The glyph name <strong>.notdef</strong> shall be defined in the font subset.</p>\n<p>NOTE It is recommended that PDF processors treat multiple subset fonts as completely independent entities, even if they appear to have been created from the same original font.</p>\n<p>EXAMPLE EOODIA+Poetica is the name of a subset of Poetica®, a Type 1 font.</p>\n</blockquote>\n<p><em>(ISO 32000-2)</em></p>\n<p>Thus, AAAAAD+SourceHanSansCN-Normal and BIISMY+SourceHanSansCN-Normal most likely are different subsets of the same source font.</p>\n"}],"owner":{"account_id":26119940,"reputation":3,"user_id":19812391,"display_name":"Мақсат"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75453629,"answer_count":1,"score":0,"last_activity_date":1679225089,"creation_date":1676372838,"question_id":75446930,"body_markdown":"When i print **TextRenderInfo.getFont().getPostscriptFontName()** in two pdf file, it will be printed **AAAAAD+SourceHanSansCN-Normal** and **BIISMY+SourceHanSansCN-Normal**.\r\n\r\nI known **SourceHanSansCN-Normal** is format of FontName-FontScript, but what is AAAAAD ? Is not like font family.\r\n\r\nExample Code:\r\n\r\n```\r\npublic class CheckPdfAllFontTest implements TextExtractionStrategy {\r\n\r\n    public static final String SRC = &quot;ownTestFile.pdf&quot;;\r\n\r\n    @Override\r\n    public String getResultantText() {\r\n        return null;\r\n    }\r\n\r\n    @Override\r\n    public void beginTextBlock() {\r\n\r\n    }\r\n\r\n    @Override\r\n    public void renderText(TextRenderInfo textRenderInfo) {\r\n        String x = textRenderInfo.getFont().getPostscriptFontName();\r\n        String text = textRenderInfo.getText();\r\n        System.out.println(text + &quot;=====&quot; + x);\r\n    }\r\n\r\n    @Override\r\n    public void endTextBlock() {\r\n\r\n    }\r\n\r\n    @Override\r\n    public void renderImage(ImageRenderInfo imageRenderInfo) {\r\n\r\n    }\r\n\r\n    public static void main(String[] args) throws IOException, DocumentException {\r\n        new CheckPdfAllFontTest().parse(SRC);\r\n    }\r\n\r\n    public void parse(String filename) throws IOException, IOException {\r\n        int pageNumber = 1;\r\n        PdfReader reader = new PdfReader(filename);\r\n        System.out.println(PdfTextExtractor.getTextFromPage(reader, pageNumber, new CheckPdfAllFontTest()));\r\n        reader.close();\r\n    }\r\n}\r\n```\r\n\r\nItext pdf version:\r\n\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.itextpdf&lt;/groupId&gt;\r\n    &lt;artifactId&gt;itextpdf&lt;/artifactId&gt;\r\n    &lt;version&gt;5.5.8&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nThe two pdf is exported with &quot;embed font&quot; and &quot;not embed font&quot; setting from a Power Point File. \r\n\r\n - &quot;AAAAAD+SourceHanSansCN-Normal&quot; from &quot;embed font&quot; pdf file.\r\n - &quot;BIISMY+SourceHanSansCN-Normal&quot; from &quot;not embed font&quot; pdf file.\r\n\r\n\r\nI am collecting the fonts used in pdf, but I found that there are fonts in this format. I don’t know what is before the ‘+’. What is its definition?\r\n","title":"What is different the two font?","body":"<p>When i print <strong>TextRenderInfo.getFont().getPostscriptFontName()</strong> in two pdf file, it will be printed <strong>AAAAAD+SourceHanSansCN-Normal</strong> and <strong>BIISMY+SourceHanSansCN-Normal</strong>.</p>\n<p>I known <strong>SourceHanSansCN-Normal</strong> is format of FontName-FontScript, but what is AAAAAD ? Is not like font family.</p>\n<p>Example Code:</p>\n<pre><code>public class CheckPdfAllFontTest implements TextExtractionStrategy {\n\n    public static final String SRC = &quot;ownTestFile.pdf&quot;;\n\n    @Override\n    public String getResultantText() {\n        return null;\n    }\n\n    @Override\n    public void beginTextBlock() {\n\n    }\n\n    @Override\n    public void renderText(TextRenderInfo textRenderInfo) {\n        String x = textRenderInfo.getFont().getPostscriptFontName();\n        String text = textRenderInfo.getText();\n        System.out.println(text + &quot;=====&quot; + x);\n    }\n\n    @Override\n    public void endTextBlock() {\n\n    }\n\n    @Override\n    public void renderImage(ImageRenderInfo imageRenderInfo) {\n\n    }\n\n    public static void main(String[] args) throws IOException, DocumentException {\n        new CheckPdfAllFontTest().parse(SRC);\n    }\n\n    public void parse(String filename) throws IOException, IOException {\n        int pageNumber = 1;\n        PdfReader reader = new PdfReader(filename);\n        System.out.println(PdfTextExtractor.getTextFromPage(reader, pageNumber, new CheckPdfAllFontTest()));\n        reader.close();\n    }\n}\n</code></pre>\n<p>Itext pdf version:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.itextpdf&lt;/groupId&gt;\n    &lt;artifactId&gt;itextpdf&lt;/artifactId&gt;\n    &lt;version&gt;5.5.8&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>The two pdf is exported with &quot;embed font&quot; and &quot;not embed font&quot; setting from a Power Point File.</p>\n<ul>\n<li>&quot;AAAAAD+SourceHanSansCN-Normal&quot; from &quot;embed font&quot; pdf file.</li>\n<li>&quot;BIISMY+SourceHanSansCN-Normal&quot; from &quot;not embed font&quot; pdf file.</li>\n</ul>\n<p>I am collecting the fonts used in pdf, but I found that there are fonts in this format. I don’t know what is before the ‘+’. What is its definition?</p>\n"},{"tags":["java","android","testing","junit4","robolectric"],"owner":{"account_id":4799010,"reputation":354,"user_id":3876115,"accept_rate":100,"display_name":"David"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679224907,"creation_date":1679224907,"question_id":75781616,"body_markdown":"I have a class `CustomerDeleteActivity` that first retrieve data from an adapter.\r\n\r\n**CustomerDeleteActivity**\r\n\r\n    public class CustomerDeleteActivity extends AppCompatActivity {\r\n    \r\n        public void getFieldsData() {\r\n            // Inicializamos la entidad Veh&#237;culo con el bundle correspondiente\r\n            customer = null;\r\n            customer = (Customer) bundle.getSerializable(&quot;customer&quot;);\r\n    \r\n            // Por cada atributo de usuario configuramos su vista correspondiente\r\n            etName.setText(customer.getName());\r\n            etDni.setText(customer.getDni());\r\n            etDate.setText(Utilities.changeFormatData(customer.getBornDate()));\r\n            etEmail.setText(customer.getEmail());\r\n    \r\n            for (int i = 0; i &lt; spSex.getAdapter().getCount(); i++) {\r\n                if (spSex.getAdapter().getItem(i).toString().contains(customer.getSex())) {\r\n                    spSex.setSelection(i);\r\n                }\r\n            }\r\n            spSex.setEnabled(false);\r\n    \r\n            for (int i = 0; i &lt; spLabor.getAdapter().getCount(); i++) {\r\n                if (spLabor.getAdapter().getItem(i).toString().contains(customer.getLabor())) {\r\n                    spLabor.setSelection(i);\r\n                }\r\n            }\r\n            spLabor.setEnabled(false);\r\n    \r\n            etObservation.setText(customer.getObservation());\r\n        }\r\n    }\r\n\r\nThe method `getFieldsData` set the EditTexts fields to show the information that the user will delete. And this method run in `onCreate`:\r\n\r\n    if (bundle == null) {\r\n        Toast.makeText(this, &quot;Error&quot;, Toast.LENGTH_SHORT).show();\r\n    } else {\r\n        getFieldsData();\r\n        Objects.requireNonNull(getSupportActionBar()).setTitle(getString(R.string.title_bar_customer_delete) + &quot; &quot; + customer.getName());\r\n    }\r\n\r\nThe app works fine, but I am trying to do the test, and I have that:\r\n\r\n    @RunWith(RobolectricTestRunner.class)\r\n    @LooperMode(LooperMode.Mode.PAUSED)\r\n    @Config(sdk = Build.VERSION_CODES.P)\r\n    @DoNotInstrument\r\n    public class CustomerDeleteActivityTest {\r\n    \r\n        private CustomerDeleteActivity activity;\r\n        private DbCustomer dbCustomer;\r\n        private SQLiteDatabase db;\r\n        private Button btDelete;\r\n        private EditText etName;\r\n        private EditText etDni;\r\n        private EditText etDate;\r\n        private EditText etEmail;\r\n        private Spinner spSex;\r\n        private Spinner spLabor;\r\n        private EditText etObservation;\r\n    \r\n        @Before\r\n        public void setUp() {\r\n            // Configuro resto de objetos\r\n            activity = Robolectric.buildActivity(CustomerDeleteActivity.class).create().resume().get();\r\n            dbCustomer = new DbCustomer(activity, DbHelper.DATABASE, null, DbHelper.DATABASE_VERSION);\r\n            db = dbCustomer.getWritableDatabase();\r\n            etName = activity.findViewById(R.id.etCustomerNameDelete);\r\n            etDni = activity.findViewById(R.id.etCustomerDniDelete);\r\n            etDate = activity.findViewById(R.id.etCustomerBornDateDelete);\r\n            etEmail = activity.findViewById(R.id.etCustomerEmailDelete);\r\n            spSex = activity.findViewById(R.id.spCustomerSexDelete);\r\n            spLabor = activity.findViewById(R.id.spCustomerLaborDelete);\r\n            etObservation = activity.findViewById(R.id.etCustomerObservationDelete);\r\n            btDelete = activity.findViewById(R.id.btCustomerDelete);\r\n        }\r\n    \r\n        @After\r\n        public void tearDown() {\r\n            activity.finish();\r\n            dbCustomer.close();\r\n            db.close();\r\n        }\r\n    \r\n    @Test\r\n        public void getFieldsDataTest() {\r\n            Intent intent = new Intent();\r\n            Bundle bundle = new Bundle();\r\n    \r\n            int id = 1;\r\n            String code = &quot;0000000F&quot;;\r\n            String name = &quot;Cliente 1&quot;;\r\n            String date = &quot;2000-09-30&quot;;\r\n            String email =  &quot;c1@correo.es&quot;;\r\n            String sex = &quot;M&quot;;\r\n            String labor = &quot;Funcionario&quot;;\r\n            String observations = &quot;Cuenta ajena&quot;;\r\n    \r\n            Customer customer = new Customer(id, code, name, date, email, sex, labor, observations);\r\n            bundle.putSerializable(&quot;customer&quot;, customer);\r\n    \r\n            intent.putExtras(bundle);\r\n            activity.setIntent(intent);\r\n            activity.getFieldsData();\r\n    \r\n            ShadowLooper shadowLooper = Shadows.shadowOf(Looper.getMainLooper());\r\n            shadowLooper.idle();\r\n    \r\n            assertEquals(etDni.getText().toString(), customer.getDni());\r\n        }\r\n    \r\n    }\r\n\r\nWhen i execute the test I recieve that error:\r\n\r\n&gt; Main looper has queued unexecuted runnables. This might be the cause of the test failure. You might need a shadowOf(getMainLooper()).idle() call.\r\n\r\nI have try:\r\n\r\n    Thread.sleep(500);\r\n\r\nand..\r\n\r\n    Robolectric.flushForegroundThreadScheduler();\r\n\r\nand...\r\n\r\n    final CountDownLatch latch = new CountDownLatch(1);\r\n\r\n    // Espera a que se completen todas las tareas en segundo plano\r\n    new Handler(Looper.getMainLooper()).post(new Runnable() {\r\n        @Override\r\n        public void run() {\r\n            latch.countDown();\r\n        }\r\n    });\r\n    latch.await();\r\n\r\nBut nothing works, &#191;what am i doing wrong?","title":"Main looper has queued unexecuted runnables","body":"<p>I have a class <code>CustomerDeleteActivity</code> that first retrieve data from an adapter.</p>\n<p><strong>CustomerDeleteActivity</strong></p>\n<pre><code>public class CustomerDeleteActivity extends AppCompatActivity {\n\n    public void getFieldsData() {\n        // Inicializamos la entidad Vehículo con el bundle correspondiente\n        customer = null;\n        customer = (Customer) bundle.getSerializable(&quot;customer&quot;);\n\n        // Por cada atributo de usuario configuramos su vista correspondiente\n        etName.setText(customer.getName());\n        etDni.setText(customer.getDni());\n        etDate.setText(Utilities.changeFormatData(customer.getBornDate()));\n        etEmail.setText(customer.getEmail());\n\n        for (int i = 0; i &lt; spSex.getAdapter().getCount(); i++) {\n            if (spSex.getAdapter().getItem(i).toString().contains(customer.getSex())) {\n                spSex.setSelection(i);\n            }\n        }\n        spSex.setEnabled(false);\n\n        for (int i = 0; i &lt; spLabor.getAdapter().getCount(); i++) {\n            if (spLabor.getAdapter().getItem(i).toString().contains(customer.getLabor())) {\n                spLabor.setSelection(i);\n            }\n        }\n        spLabor.setEnabled(false);\n\n        etObservation.setText(customer.getObservation());\n    }\n}\n</code></pre>\n<p>The method <code>getFieldsData</code> set the EditTexts fields to show the information that the user will delete. And this method run in <code>onCreate</code>:</p>\n<pre><code>if (bundle == null) {\n    Toast.makeText(this, &quot;Error&quot;, Toast.LENGTH_SHORT).show();\n} else {\n    getFieldsData();\n    Objects.requireNonNull(getSupportActionBar()).setTitle(getString(R.string.title_bar_customer_delete) + &quot; &quot; + customer.getName());\n}\n</code></pre>\n<p>The app works fine, but I am trying to do the test, and I have that:</p>\n<pre><code>@RunWith(RobolectricTestRunner.class)\n@LooperMode(LooperMode.Mode.PAUSED)\n@Config(sdk = Build.VERSION_CODES.P)\n@DoNotInstrument\npublic class CustomerDeleteActivityTest {\n\n    private CustomerDeleteActivity activity;\n    private DbCustomer dbCustomer;\n    private SQLiteDatabase db;\n    private Button btDelete;\n    private EditText etName;\n    private EditText etDni;\n    private EditText etDate;\n    private EditText etEmail;\n    private Spinner spSex;\n    private Spinner spLabor;\n    private EditText etObservation;\n\n    @Before\n    public void setUp() {\n        // Configuro resto de objetos\n        activity = Robolectric.buildActivity(CustomerDeleteActivity.class).create().resume().get();\n        dbCustomer = new DbCustomer(activity, DbHelper.DATABASE, null, DbHelper.DATABASE_VERSION);\n        db = dbCustomer.getWritableDatabase();\n        etName = activity.findViewById(R.id.etCustomerNameDelete);\n        etDni = activity.findViewById(R.id.etCustomerDniDelete);\n        etDate = activity.findViewById(R.id.etCustomerBornDateDelete);\n        etEmail = activity.findViewById(R.id.etCustomerEmailDelete);\n        spSex = activity.findViewById(R.id.spCustomerSexDelete);\n        spLabor = activity.findViewById(R.id.spCustomerLaborDelete);\n        etObservation = activity.findViewById(R.id.etCustomerObservationDelete);\n        btDelete = activity.findViewById(R.id.btCustomerDelete);\n    }\n\n    @After\n    public void tearDown() {\n        activity.finish();\n        dbCustomer.close();\n        db.close();\n    }\n\n@Test\n    public void getFieldsDataTest() {\n        Intent intent = new Intent();\n        Bundle bundle = new Bundle();\n\n        int id = 1;\n        String code = &quot;0000000F&quot;;\n        String name = &quot;Cliente 1&quot;;\n        String date = &quot;2000-09-30&quot;;\n        String email =  &quot;c1@correo.es&quot;;\n        String sex = &quot;M&quot;;\n        String labor = &quot;Funcionario&quot;;\n        String observations = &quot;Cuenta ajena&quot;;\n\n        Customer customer = new Customer(id, code, name, date, email, sex, labor, observations);\n        bundle.putSerializable(&quot;customer&quot;, customer);\n\n        intent.putExtras(bundle);\n        activity.setIntent(intent);\n        activity.getFieldsData();\n\n        ShadowLooper shadowLooper = Shadows.shadowOf(Looper.getMainLooper());\n        shadowLooper.idle();\n\n        assertEquals(etDni.getText().toString(), customer.getDni());\n    }\n\n}\n</code></pre>\n<p>When i execute the test I recieve that error:</p>\n<blockquote>\n<p>Main looper has queued unexecuted runnables. This might be the cause of the test failure. You might need a shadowOf(getMainLooper()).idle() call.</p>\n</blockquote>\n<p>I have try:</p>\n<pre><code>Thread.sleep(500);\n</code></pre>\n<p>and..</p>\n<pre><code>Robolectric.flushForegroundThreadScheduler();\n</code></pre>\n<p>and...</p>\n<pre><code>final CountDownLatch latch = new CountDownLatch(1);\n\n// Espera a que se completen todas las tareas en segundo plano\nnew Handler(Looper.getMainLooper()).post(new Runnable() {\n    @Override\n    public void run() {\n        latch.countDown();\n    }\n});\nlatch.await();\n</code></pre>\n<p>But nothing works, ¿what am i doing wrong?</p>\n"},{"tags":["java","jira","jira-plugin"],"owner":{"account_id":24616307,"reputation":31,"user_id":18517281,"display_name":"Kaushik Bhave"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679224895,"creation_date":1679224895,"question_id":75781611,"body_markdown":"Using JDK 1.8 and did set Java Home\r\n\r\nInstalled atlasian sdk \r\n\r\n    PS C:\\&gt; atlas-version\r\n    \r\n    ATLAS Version:    8.2.7\r\n    ATLAS Home:       C:\\Tutorial\\Applications\\Atlassian\\atlassian-plugin-sdk-8.2.7\r\n    ATLAS Scripts:    C:\\Tutorial\\Applications\\Atlassian\\atlassian-plugin-sdk-8.2.7\\bin\r\n    ATLAS Maven Home: C:\\Tutorial\\Applications\\Atlassian\\atlassian-plugin-sdk-8.2.7\\apache-maven-3.5.4\r\n    AMPS Version:     8.1.2\r\n    --------\r\n    \r\n        Executing: &quot;C:\\Tutorial\\Applications\\Atlassian\\atlassian-plugin-sdk-8.2.7\\apache-maven-3.5.4\\bin\\mvn.cmd&quot; --version -gs C:\\Tutorial\\Applications\\Atlassian\\atlassian-plugin-sdk-8.2.7\\apache-maven-3.5.4/conf/settings.xml\r\n        Apache Maven 3.5.4 (1edded0938998edf8bf061f1ceb3cfdeccf443fe; 2018-06-18T00:03:14+05:30)\r\n        Maven home: C:\\Tutorial\\Applications\\Atlassian\\atlassian-plugin-sdk-8.2.7\\apache-maven-3.5.4\\bin\\..\r\n        Java version: 1.8.0_361, vendor: Oracle Corporation, runtime: C:\\Program Files\\Java\\jdk1.8.0_361\\jre\r\n        Default locale: en_IN, platform encoding: Cp1252\r\n        OS name: &quot;windows 11&quot;, version: &quot;10.0&quot;, arch: &quot;amd64&quot;, family: &quot;windows&quot;\r\n\r\n\r\nCreated Jira Plugin steps using jira documentation. Folder structure is created as per the file when tried to execute\r\n\r\n    atlas-run\r\n\r\n Getting below exceptions\r\n\r\n\r\nException:\r\n\r\n    [INFO] [talledLocalContainer] 2023-03-19 16:20:51,879 localhost-startStop-1 WARN      [c.a.p.osgi.util.OsgiHeaderUtil] removing duplicate import package com.atlassian.jira.blueprint.api~ for plugin com.atlassian.jira-core-project-templates - it is likely that a duplicate package was supplied in the OSGi instructions in the plugin&#39;s MANIFEST.MF\r\n    [INFO] [talledLocalContainer] 2023-03-19 16:20:51,879 localhost-startStop-1 WARN      [c.a.p.osgi.util.OsgiHeaderUtil] removing duplicate import package com.atlassian.jira.projects.shortcuts~ for plugin com.atlassian.jira-core-project-templates - it is likely that a duplicate package was supplied in the OSGi instructions in the plugin&#39;s MANIFEST.MF\r\n    [INFO] [talledLocalContainer] Tomcat 8.x is stopped\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] BUILD FAILURE\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Total time: 15:42 min\r\n    [INFO] Finished at: 2023-03-19T16:24:08+05:30\r\n    [INFO] ------------------------------------------------------------------------\r\n    [ERROR] Failed to execute goal com.atlassian.maven.plugins:amps-dispatcher-maven-plugin:8.1.2:run (default-cli) on project tkplugin: Cannot start container [org.codehaus.cargo.container.tomcat.Tomcat8xInstalledLocalContainer@6adc90e9]: Deployable [http://localhost:2990/cargocpc/index.html] failed to finish deploying within the timeout period [600000]. The Deployable state is thus unknown. -&gt; [Help 1]\r\n    [ERROR]\r\n    [ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\r\n    [ERROR] Re-run Maven using the -X switch to enable full debug logging.\r\n    [ERROR]\r\n    [ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n    [ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException","title":"Unable to bring up basic jira plugin using atlas-create-jira-plugin","body":"<p>Using JDK 1.8 and did set Java Home</p>\n<p>Installed atlasian sdk</p>\n<pre><code>PS C:\\&gt; atlas-version\n\nATLAS Version:    8.2.7\nATLAS Home:       C:\\Tutorial\\Applications\\Atlassian\\atlassian-plugin-sdk-8.2.7\nATLAS Scripts:    C:\\Tutorial\\Applications\\Atlassian\\atlassian-plugin-sdk-8.2.7\\bin\nATLAS Maven Home: C:\\Tutorial\\Applications\\Atlassian\\atlassian-plugin-sdk-8.2.7\\apache-maven-3.5.4\nAMPS Version:     8.1.2\n--------\n\n    Executing: &quot;C:\\Tutorial\\Applications\\Atlassian\\atlassian-plugin-sdk-8.2.7\\apache-maven-3.5.4\\bin\\mvn.cmd&quot; --version -gs C:\\Tutorial\\Applications\\Atlassian\\atlassian-plugin-sdk-8.2.7\\apache-maven-3.5.4/conf/settings.xml\n    Apache Maven 3.5.4 (1edded0938998edf8bf061f1ceb3cfdeccf443fe; 2018-06-18T00:03:14+05:30)\n    Maven home: C:\\Tutorial\\Applications\\Atlassian\\atlassian-plugin-sdk-8.2.7\\apache-maven-3.5.4\\bin\\..\n    Java version: 1.8.0_361, vendor: Oracle Corporation, runtime: C:\\Program Files\\Java\\jdk1.8.0_361\\jre\n    Default locale: en_IN, platform encoding: Cp1252\n    OS name: &quot;windows 11&quot;, version: &quot;10.0&quot;, arch: &quot;amd64&quot;, family: &quot;windows&quot;\n</code></pre>\n<p>Created Jira Plugin steps using jira documentation. Folder structure is created as per the file when tried to execute</p>\n<pre><code>atlas-run\n</code></pre>\n<p>Getting below exceptions</p>\n<p>Exception:</p>\n<pre><code>[INFO] [talledLocalContainer] 2023-03-19 16:20:51,879 localhost-startStop-1 WARN      [c.a.p.osgi.util.OsgiHeaderUtil] removing duplicate import package com.atlassian.jira.blueprint.api~ for plugin com.atlassian.jira-core-project-templates - it is likely that a duplicate package was supplied in the OSGi instructions in the plugin's MANIFEST.MF\n[INFO] [talledLocalContainer] 2023-03-19 16:20:51,879 localhost-startStop-1 WARN      [c.a.p.osgi.util.OsgiHeaderUtil] removing duplicate import package com.atlassian.jira.projects.shortcuts~ for plugin com.atlassian.jira-core-project-templates - it is likely that a duplicate package was supplied in the OSGi instructions in the plugin's MANIFEST.MF\n[INFO] [talledLocalContainer] Tomcat 8.x is stopped\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time: 15:42 min\n[INFO] Finished at: 2023-03-19T16:24:08+05:30\n[INFO] ------------------------------------------------------------------------\n[ERROR] Failed to execute goal com.atlassian.maven.plugins:amps-dispatcher-maven-plugin:8.1.2:run (default-cli) on project tkplugin: Cannot start container [org.codehaus.cargo.container.tomcat.Tomcat8xInstalledLocalContainer@6adc90e9]: Deployable [http://localhost:2990/cargocpc/index.html] failed to finish deploying within the timeout period [600000]. The Deployable state is thus unknown. -&gt; [Help 1]\n[ERROR]\n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n[ERROR]\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\n</code></pre>\n"},{"tags":["java","database","spring-boot","mariadb","jhipster"],"comments":[{"owner":{"account_id":27767891,"reputation":21,"user_id":21198858,"display_name":"ayman dev"},"score":0,"creation_date":1679225798,"post_id":75781609,"comment_id":133679845,"body_markdown":"when I got to the administration/api section in jhipster app and execute get request for products, it returns this message:","body":"when I got to the administration/api section in jhipster app and execute get request for products, it returns this message:"},{"owner":{"account_id":27767891,"reputation":21,"user_id":21198858,"display_name":"ayman dev"},"score":1,"creation_date":1679225813,"post_id":75781609,"comment_id":133679847,"body_markdown":"{\n  &quot;type&quot;: &quot;https://www.jhipster.tech/problem/problem-with-message&quot;,\n  &quot;title&quot;: &quot;Internal Server Error&quot;,\n  &quot;status&quot;: 500,\n  &quot;detail&quot;: &quot;could not extract ResultSet; SQL [n/a]; nested exception is org.hibernate.exception.SQLGrammarException: could not extract ResultSet&quot;,\n  &quot;path&quot;: &quot;/api/products&quot;,\n  &quot;message&quot;: &quot;error.http.500&quot;\n}","body":"{   &quot;type&quot;: &quot;<a href=\"https://www.jhipster.tech/problem/problem-with-message\" rel=\"nofollow noreferrer\">jhipster.tech/problem/problem-with-message</a>&quot;,   &quot;title&quot;: &quot;Internal Server Error&quot;,   &quot;status&quot;: 500,   &quot;detail&quot;: &quot;could not extract ResultSet; SQL [n/a]; nested exception is org.hibernate.exception.SQLGrammarException: could not extract ResultSet&quot;,   &quot;path&quot;: &quot;/api/products&quot;,   &quot;message&quot;: &quot;error.http.500&quot; }"},{"owner":{"account_id":33534,"reputation":16098,"user_id":93960,"display_name":"Ga&#235;l Marziou"},"score":0,"creation_date":1679266513,"post_id":75781609,"comment_id":133685966,"body_markdown":"Have a look at the java app logs, there must be an exception that is the cause of the http 500, itg&#39;s not something that  you can see in client.","body":"Have a look at the java app logs, there must be an exception that is the cause of the http 500, itg&#39;s not something that  you can see in client."}],"owner":{"account_id":27767891,"reputation":21,"user_id":21198858,"display_name":"ayman dev"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679224843,"creation_date":1679224843,"question_id":75781609,"body_markdown":"so I cloned this jhipster project that a senior dev made. it&#39;s pretty empty he only added an entity called product using a csv file. \r\nafter spending a whole day to configure database server port. i got it working. \r\nso now I can sign in as admin and find the metrics for performance, api and everything. \r\nbut when I click entities/products the app throws a 500 connection error. \r\nI am unfamiliar with how mariadb works but I installed it \r\n\r\npossible reasons for this behavior: \r\n - I didn&#39;t configure any classpath when installing java/jhipster \r\n - I don&#39;t manually start the mysql server but the ports are configured\r\n - I didn&#39;t run any jdl command it was already ran in another pc before cloning\r\nI expect to see the products table when clicking entities/products","title":"jhipster 500 connection error but I can sign in but I can&#39;t see entities","body":"<p>so I cloned this jhipster project that a senior dev made. it's pretty empty he only added an entity called product using a csv file.\nafter spending a whole day to configure database server port. i got it working.\nso now I can sign in as admin and find the metrics for performance, api and everything.\nbut when I click entities/products the app throws a 500 connection error.\nI am unfamiliar with how mariadb works but I installed it</p>\n<p>possible reasons for this behavior:</p>\n<ul>\n<li>I didn't configure any classpath when installing java/jhipster</li>\n<li>I don't manually start the mysql server but the ports are configured</li>\n<li>I didn't run any jdl command it was already ran in another pc before cloning\nI expect to see the products table when clicking entities/products</li>\n</ul>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":9193,"reputation":343113,"user_id":16883,"accept_rate":83,"display_name":"Michael Borgwardt"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1278587095,"creation_date":1278587095,"answer_id":3202897,"question_id":3202861,"body_markdown":"You shouldn&#39;t be &quot;checking&quot; anything to do that, you should do it so that duplicates never get added in the first place. To do that:\r\n\r\n 1. start with a `List&lt;String&gt;` of the options\r\n * copy the list\r\n * add a random element to the result \r\n * remove that element.\r\n * Go back to 3 until you&#39;ve added as many elements as you want or there aren&#39;t anymore left","title":"java: How to check StringBuilder charcters to see if it contains same characters as new string request from array?","body":"<p>You shouldn't be \"checking\" anything to do that, you should do it so that duplicates never get added in the first place. To do that:</p>\n\n<ol>\n<li>start with a <code>List&lt;String&gt;</code> of the options\n\n<ul>\n<li>copy the list</li>\n<li>add a random element to the result </li>\n<li>remove that element.</li>\n<li>Go back to 3 until you've added as many elements as you want or there aren't anymore left</li>\n</ul></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":20593,"reputation":11338,"user_id":49381,"accept_rate":80,"display_name":"Michael Williamson"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1278587740,"creation_date":1278587341,"answer_id":3202923,"question_id":3202861,"body_markdown":"A different option is to create a `List&lt;String&gt;` of all of the options, and use `Collections.shuffle` to randomly permute the list. You can then join together the first n elements.\r\n\r\nSince both `Collections.shuffle` and joining together the first n elements takes linear time, the entire process should take linear time.","title":"java: How to check StringBuilder charcters to see if it contains same characters as new string request from array?","body":"<p>A different option is to create a <code>List&lt;String&gt;</code> of all of the options, and use <code>Collections.shuffle</code> to randomly permute the list. You can then join together the first n elements.</p>\n\n<p>Since both <code>Collections.shuffle</code> and joining together the first n elements takes linear time, the entire process should take linear time.</p>\n"},{"tags":[],"owner":{"account_id":102965,"reputation":415230,"user_id":276052,"accept_rate":80,"display_name":"aioobe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1278587413,"creation_date":1278587413,"answer_id":3202932,"question_id":3202861,"body_markdown":"    import java.util.Random;\r\n    \r\n    public class Test {\r\n        public static void main(String args[]) {\r\n            String[] fruits = { &quot;apple&quot;, &quot;pear&quot;, &quot;orange&quot;, &quot;peach&quot;, &quot;cherry&quot; };\r\n            \r\n            StringBuilder sb = new StringBuilder(&quot;Some fruits: apple&quot;);\r\n            \r\n            Random r = new Random();\r\n            int N = 3;\r\n            for (int i = 0; i &lt; N; i++) {\r\n                String toAdd;\r\n                do {\r\n                    toAdd = fruits[r.nextInt(fruits.length)];\r\n                } while (sb.indexOf(toAdd) != -1);\r\n                \r\n                sb.append(&quot;, &quot; + toAdd);\r\n            }\r\n            \r\n            System.out.println(sb);\r\n        }    \r\n    }\r\n\r\nOutput:\r\n\r\n    Some fruits: apple, pear, orange, peach\r\n\r\n\r\n----------\r\n\r\nBut I agree with Michael Borgwardt on that it&#39;s a bad thing to check using index-of over and over again.","title":"java: How to check StringBuilder charcters to see if it contains same characters as new string request from array?","body":"<pre><code>import java.util.Random;\n\npublic class Test {\n    public static void main(String args[]) {\n        String[] fruits = { \"apple\", \"pear\", \"orange\", \"peach\", \"cherry\" };\n\n        StringBuilder sb = new StringBuilder(\"Some fruits: apple\");\n\n        Random r = new Random();\n        int N = 3;\n        for (int i = 0; i &lt; N; i++) {\n            String toAdd;\n            do {\n                toAdd = fruits[r.nextInt(fruits.length)];\n            } while (sb.indexOf(toAdd) != -1);\n\n            sb.append(\", \" + toAdd);\n        }\n\n        System.out.println(sb);\n    }    \n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>Some fruits: apple, pear, orange, peach\n</code></pre>\n\n<hr>\n\n<p>But I agree with Michael Borgwardt on that it's a bad thing to check using index-of over and over again.</p>\n"},{"tags":[],"owner":{"account_id":161982,"reputation":546,"user_id":383163,"display_name":"Marc van Kempen"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1278595651,"creation_date":1278587640,"answer_id":3202953,"question_id":3202861,"body_markdown":"It is of course possible to check the string by iterating through it (e.g. use indexOf()), but I would use a Set in this particular instance to add the fruits (if it already exists it will not be added again), once you&#39;re done adding fruits convert the Set into a String, e.g.\r\n\r\n    Set&lt;String&gt; fruits = new HashSet&lt;String&gt;();\r\n    for (String fruit: fruitSource) {\r\n        fruits.add(fruit);\r\n    }\r\n    StringBuilder sb = new StringBuilder();\r\n    for (String fruit: fruits) {\r\n        sb.append(fruit);\r\n        sb.append(&quot;, &quot;);\r\n    }\r\n    return sb.toString();\r\n\r\n\r\n","title":"java: How to check StringBuilder charcters to see if it contains same characters as new string request from array?","body":"<p>It is of course possible to check the string by iterating through it (e.g. use indexOf()), but I would use a Set in this particular instance to add the fruits (if it already exists it will not be added again), once you're done adding fruits convert the Set into a String, e.g.</p>\n\n<pre><code>Set&lt;String&gt; fruits = new HashSet&lt;String&gt;();\nfor (String fruit: fruitSource) {\n    fruits.add(fruit);\n}\nStringBuilder sb = new StringBuilder();\nfor (String fruit: fruits) {\n    sb.append(fruit);\n    sb.append(\", \");\n}\nreturn sb.toString();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":333664,"reputation":3932,"user_id":659634,"accept_rate":91,"display_name":"Whitecat"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1476914146,"creation_date":1476914146,"answer_id":40142159,"question_id":3202861,"body_markdown":"A simple way to do it is similar to [Marc van Kempen][1]&#39;s solution but smaller.\r\n\r\n\r\n    Set&lt;String&gt; fruits = new HashSet&lt;String&gt;();\r\n    StringBuilder sb = new StringBuilder();\r\n    for (String fruit: fruits) {\r\n        if(fruits.add(fruit)){\r\n            sb.append(fruit);\r\n            sb.append(&quot;, &quot;);\r\n        }\r\n    }\r\n    return sb.toString();\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/383163/marc-van-kempen","title":"java: How to check StringBuilder charcters to see if it contains same characters as new string request from array?","body":"<p>A simple way to do it is similar to <a href=\"https://stackoverflow.com/users/383163/marc-van-kempen\">Marc van Kempen</a>'s solution but smaller.</p>\n\n<pre><code>Set&lt;String&gt; fruits = new HashSet&lt;String&gt;();\nStringBuilder sb = new StringBuilder();\nfor (String fruit: fruits) {\n    if(fruits.add(fruit)){\n        sb.append(fruit);\n        sb.append(\", \");\n    }\n}\nreturn sb.toString();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6515387,"reputation":257,"user_id":5041387,"display_name":"swapnil bhosale"},"down_vote_count":2,"up_vote_count":26,"is_accepted":false,"score":24,"last_activity_date":1488180063,"creation_date":1488179014,"answer_id":42479633,"question_id":3202861,"body_markdown":"The `StringBuilder` class does not have a `contains()` method, but `String` does. So you can use `StringBuilder` to build a string by using `toString()`. Then call `contains()` on it, to check if it contains that character or string.\r\n\r\n**Example:**  \r\n\r\n    stringBuilder.toString().contains(characterYouWantToCheck)","title":"java: How to check StringBuilder charcters to see if it contains same characters as new string request from array?","body":"<p>The <code>StringBuilder</code> class does not have a <code>contains()</code> method, but <code>String</code> does. So you can use <code>StringBuilder</code> to build a string by using <code>toString()</code>. Then call <code>contains()</code> on it, to check if it contains that character or string.</p>\n\n<p><strong>Example:</strong>  </p>\n\n<pre><code>stringBuilder.toString().contains(characterYouWantToCheck)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5981952,"reputation":1949,"user_id":5320300,"accept_rate":76,"display_name":"Simon Baars"},"down_vote_count":1,"up_vote_count":33,"is_accepted":false,"score":32,"last_activity_date":1679224560,"creation_date":1522050596,"answer_id":49486437,"question_id":3202861,"body_markdown":"The `StringBuilder` class does not have a `contains()` method, but it does have an `indexOf()` method. The `indexOf()` method returns `-1` when the substring is not found.\r\n\r\n**Example:**\r\n\r\n    stringBuilder.indexOf(charactersYouWantToCheck) != -1\r\n\r\n","title":"java: How to check StringBuilder charcters to see if it contains same characters as new string request from array?","body":"<p>The <code>StringBuilder</code> class does not have a <code>contains()</code> method, but it does have an <code>indexOf()</code> method. The <code>indexOf()</code> method returns <code>-1</code> when the substring is not found.</p>\n<p><strong>Example:</strong></p>\n<pre><code>stringBuilder.indexOf(charactersYouWantToCheck) != -1\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10549874,"reputation":1,"user_id":7772886,"display_name":"Aaditya Kavthekar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1577843542,"creation_date":1577814703,"answer_id":59547151,"question_id":3202861,"body_markdown":"    strb2.indexOf(String.valueOf(strb1.charAt(i))\r\n\r\n`strb2` and `strb1` are objects of `StringBuilder` class. If the letter is present, it will return its index else `-1.`","title":"java: How to check StringBuilder charcters to see if it contains same characters as new string request from array?","body":"<pre><code>strb2.indexOf(String.valueOf(strb1.charAt(i))\n</code></pre>\n\n<p><code>strb2</code> and <code>strb1</code> are objects of <code>StringBuilder</code> class. If the letter is present, it will return its index else <code>-1.</code></p>\n"},{"tags":[],"owner":{"account_id":18504423,"reputation":1,"user_id":13481043,"display_name":"Sai Nikhil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1588752027,"creation_date":1588752027,"answer_id":61630157,"question_id":3202861,"body_markdown":"Java StringBuilder doesn&#39;t have **contains** method \r\nSo you can check whether a string or character contains in the StringBuilder as below:\r\n\r\n    StingBuilder sb = new StringBuilder(&quot;apple, pear, orange, peach, cherry&quot;);\r\n    if(sb.indexOf(&quot;someFruit&quot;) == -1) {\r\n       //you can insert\r\n    } else {\r\n       // do something\r\n    }\r\n\r\n","title":"java: How to check StringBuilder charcters to see if it contains same characters as new string request from array?","body":"<p>Java StringBuilder doesn't have <strong>contains</strong> method \nSo you can check whether a string or character contains in the StringBuilder as below:</p>\n\n<pre><code>StingBuilder sb = new StringBuilder(\"apple, pear, orange, peach, cherry\");\nif(sb.indexOf(\"someFruit\") == -1) {\n   //you can insert\n} else {\n   // do something\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6801868,"reputation":738,"user_id":5234943,"display_name":"Hard_Coder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1597000595,"creation_date":1597000595,"answer_id":63330388,"question_id":3202861,"body_markdown":"    //StringBuilder object\r\n\r\n        StringBuilder sb = new StringBuilder(&quot;One Two Three&quot;);\r\n        \r\n        System.out.println( contains(sb, &quot;One&quot;) );\r\n        System.out.println( contains(sb, &quot;Two&quot;) );\r\n        System.out.println( contains(sb, &quot;Five&quot;) );\r\n\r\n\r\nOutput:\r\n\r\n    true\r\n    true\r\n    false","title":"java: How to check StringBuilder charcters to see if it contains same characters as new string request from array?","body":"<pre><code>//StringBuilder object\n\n    StringBuilder sb = new StringBuilder(&quot;One Two Three&quot;);\n    \n    System.out.println( contains(sb, &quot;One&quot;) );\n    System.out.println( contains(sb, &quot;Two&quot;) );\n    System.out.println( contains(sb, &quot;Five&quot;) );\n</code></pre>\n<p>Output:</p>\n<pre><code>true\ntrue\nfalse\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20351631,"reputation":27,"user_id":14928188,"display_name":"Pankaj Kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1622045046,"creation_date":1622026861,"answer_id":67703580,"question_id":3202861,"body_markdown":"`StringBuilder` doesn&#39;t have a `contains()` method, but it does have the `indexOf()` method. Therefore, you can check for the index of character and if it returns `-1`, the character is not present in the `StringBuilder`.\r\n\r\n```\r\nStringBuilder sb = new StringBuilder();\r\n\r\nif(sb.indexOf(CharacterYouWantToCheck) != -1){\r\n   //sb contains character\r\n}\r\n```","title":"java: How to check StringBuilder charcters to see if it contains same characters as new string request from array?","body":"<p><code>StringBuilder</code> doesn't have a <code>contains()</code> method, but it does have the <code>indexOf()</code> method. Therefore, you can check for the index of character and if it returns <code>-1</code>, the character is not present in the <code>StringBuilder</code>.</p>\n<pre><code>StringBuilder sb = new StringBuilder();\n\nif(sb.indexOf(CharacterYouWantToCheck) != -1){\n   //sb contains character\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4980140,"reputation":3385,"user_id":4005379,"accept_rate":64,"display_name":"Alferd Nobel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653073673,"creation_date":1653073673,"answer_id":72323777,"question_id":3202861,"body_markdown":"Here I iterate through the String to find a matching char in the StringBuilder using `chars().forEach()`\r\n\r\n    public static void findMatch(String s){\r\n\r\n        StringBuilder sb = new StringBuilder();\r\n        sb.append(&quot;can&quot;);\r\n        s.chars().forEach(i -&gt; {\r\n\r\n            if(sb.indexOf(String.valueOf((char)i))!= -1)\r\n                System.out.println(&quot;Found char is &quot;+String.valueOf((char)i));\r\n        });","title":"java: How to check StringBuilder charcters to see if it contains same characters as new string request from array?","body":"<p>Here I iterate through the String to find a matching char in the StringBuilder using <code>chars().forEach()</code></p>\n<pre><code>public static void findMatch(String s){\n\n    StringBuilder sb = new StringBuilder();\n    sb.append(&quot;can&quot;);\n    s.chars().forEach(i -&gt; {\n\n        if(sb.indexOf(String.valueOf((char)i))!= -1)\n            System.out.println(&quot;Found char is &quot;+String.valueOf((char)i));\n    });\n</code></pre>\n"}],"owner":{"account_id":164026,"reputation":441,"user_id":386537,"accept_rate":0,"display_name":"user386537"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":81963,"favorite_count":0,"down_vote_count":0,"up_vote_count":31,"answer_count":12,"score":31,"last_activity_date":1679224560,"creation_date":1278586821,"question_id":3202861,"body_markdown":"I want to check if a Java `StringBuilder` object contains a character.\r\n\r\nFor example I have a list of foods in an array {apple, pear, orange, peach, cherry} and I want to add a random number of these food types to the StringBuilder. \r\n\r\nHow would I check if StringBuilder contains a character?\r\n","title":"java: How to check StringBuilder charcters to see if it contains same characters as new string request from array?","body":"<p>I want to check if a Java <code>StringBuilder</code> object contains a character.</p>\n\n<p>For example I have a list of foods in an array {apple, pear, orange, peach, cherry} and I want to add a random number of these food types to the StringBuilder. </p>\n\n<p>How would I check if StringBuilder contains a character?</p>\n"},{"tags":["java","scala","jar","compilation"],"comments":[{"owner":{"account_id":7034556,"reputation":12325,"user_id":5389127,"display_name":"Ga&#235;l J"},"score":1,"creation_date":1679224239,"post_id":75781472,"comment_id":133679632,"body_markdown":"Does this answer your question? [Java resource as File](https://stackoverflow.com/questions/676097/java-resource-as-file) (look at the accepted answer)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/676097/java-resource-as-file\">Java resource as File</a> (look at the accepted answer)"},{"owner":{"account_id":2503348,"reputation":48669,"user_id":5249621,"display_name":"Dmytro Mitin"},"score":0,"creation_date":1679238513,"post_id":75781472,"comment_id":133681573,"body_markdown":"The beginning was here https://stackoverflow.com/questions/75776876/reading-the-content-of-a-directory-in-scala","body":"The beginning was here <a href=\"https://stackoverflow.com/questions/75776876/reading-the-content-of-a-directory-in-scala\" title=\"reading the content of a directory in scala\">stackoverflow.com/questions/75776876/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":1692034,"reputation":3196,"user_id":1554195,"display_name":"tquadrat"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679224375,"creation_date":1679224375,"answer_id":75781575,"question_id":75781472,"body_markdown":"`Class::getResource()` does not read a &quot;file&quot; (or does not provide the URL for a &quot;file&quot;), at least not as you would expect.\r\n\r\nAn instance of `File` lives in the file system of your machine, but a resource lives on the CLASSPATH of your program. As long as you did not create a Jar, this is the same (and `Class::getResource()` returns a `file://` URL), but once you created the Jar, this is different (and the URL starts with `jar://`).\r\n\r\nFor the latter the handling of &quot;directories&quot; looks a little bit different than for regular files.","title":"Can&#39;t find a directory within the jar of Scala project","body":"<p><code>Class::getResource()</code> does not read a &quot;file&quot; (or does not provide the URL for a &quot;file&quot;), at least not as you would expect.</p>\n<p>An instance of <code>File</code> lives in the file system of your machine, but a resource lives on the CLASSPATH of your program. As long as you did not create a Jar, this is the same (and <code>Class::getResource()</code> returns a <code>file://</code> URL), but once you created the Jar, this is different (and the URL starts with <code>jar://</code>).</p>\n<p>For the latter the handling of &quot;directories&quot; looks a little bit different than for regular files.</p>\n"}],"owner":{"account_id":23560691,"reputation":5,"user_id":17602095,"display_name":"forvev"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":117,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679224375,"creation_date":1679223079,"question_id":75781472,"body_markdown":"Having this snippet of code:\r\n\r\n    val xml_folder_2 = getClass.getResource(&quot;xml-files&quot;)\r\n    val resourcePath = Paths.get(URLDecoder.decode(xml_folder_2.getFile, &quot;UTF-8&quot;)).toString.replace(&quot;!&quot;,&quot;&quot;)\r\n    val dir_path = new File(resourcePath).listFiles.map(_.getPath)\r\n\r\nEverything works perfectly until I want to run a jar file. The first line finds the desired directory, second one decodes some unnecessary stuff from the path, and the third one tries to find the directory and list the files inside.\r\nIn case of IntelliJ compilation it works well, but once I run the jar file the error says:\r\n\r\n&gt; Exception in thread &quot;main&quot; java.lang.NullPointerException: Cannot read\r\n&gt; the array length because &quot;$this&quot; is null\r\n\r\nSo it means that the program couldn&#39;t find &quot;xml-files&quot; (when I want to create new variable &quot;dir_path&quot; it fails). I tried to hardcode each step, and I noticed that the jar file sees the path to the desired directory e.g. /desktop/my_jar.jar/xml-files, but it still throws out the error. \r\n\r\nDoes anyone have an idea how to figure it out?\r\n\r\nPS: I tried to hardcode the path inside &quot;new File(path)&quot; in many different ways, but it didn&#39;t help.","title":"Can&#39;t find a directory within the jar of Scala project","body":"<p>Having this snippet of code:</p>\n<pre><code>val xml_folder_2 = getClass.getResource(&quot;xml-files&quot;)\nval resourcePath = Paths.get(URLDecoder.decode(xml_folder_2.getFile, &quot;UTF-8&quot;)).toString.replace(&quot;!&quot;,&quot;&quot;)\nval dir_path = new File(resourcePath).listFiles.map(_.getPath)\n</code></pre>\n<p>Everything works perfectly until I want to run a jar file. The first line finds the desired directory, second one decodes some unnecessary stuff from the path, and the third one tries to find the directory and list the files inside.\nIn case of IntelliJ compilation it works well, but once I run the jar file the error says:</p>\n<blockquote>\n<p>Exception in thread &quot;main&quot; java.lang.NullPointerException: Cannot read\nthe array length because &quot;$this&quot; is null</p>\n</blockquote>\n<p>So it means that the program couldn't find &quot;xml-files&quot; (when I want to create new variable &quot;dir_path&quot; it fails). I tried to hardcode each step, and I noticed that the jar file sees the path to the desired directory e.g. /desktop/my_jar.jar/xml-files, but it still throws out the error.</p>\n<p>Does anyone have an idea how to figure it out?</p>\n<p>PS: I tried to hardcode the path inside &quot;new File(path)&quot; in many different ways, but it didn't help.</p>\n"},{"tags":["java","performance","java-8","java-stream"],"comments":[{"owner":{"account_id":3084600,"reputation":5860,"user_id":2612030,"display_name":"ewramner"},"score":1,"creation_date":1627898466,"post_id":68619335,"comment_id":121269957,"body_markdown":"Parallel is likely to be slower when the task is very simple, such as in this case. There is overhead involved. In particular with parallel findAny should be as fast or faster than findFirst as it can use any match (doesn&#39;t have to be sure it is the first). The examples do not do the same thing. Normal version iterates over the keys, the other over the entries. Apart from that I would have guessed the non-parellel streams version to be comparable with the the non-streams version.","body":"Parallel is likely to be slower when the task is very simple, such as in this case. There is overhead involved. In particular with parallel findAny should be as fast or faster than findFirst as it can use any match (doesn&#39;t have to be sure it is the first). The examples do not do the same thing. Normal version iterates over the keys, the other over the entries. Apart from that I would have guessed the non-parellel streams version to be comparable with the the non-streams version."},{"owner":{"account_id":48693,"reputation":29189,"user_id":144746,"accept_rate":93,"display_name":"Voo"},"score":0,"creation_date":1627899144,"post_id":68619335,"comment_id":121270210,"body_markdown":"Streams allocate a whole lot of extra objects (no that&#39;s absolutely not free, despite old claims to it) and all the 2nd order functions make it waaay harder (in practice even impossible) for the compiler to do many optimizations. So yes, while many people are ignorant to it, if you need high performant code streams are a bad choice. In many situations the performance overhead is not that important given the much cleaner code though. That said using parallel here is probably the biggest performance killer.","body":"Streams allocate a whole lot of extra objects (no that&#39;s absolutely not free, despite old claims to it) and all the 2nd order functions make it waaay harder (in practice even impossible) for the compiler to do many optimizations. So yes, while many people are ignorant to it, if you need high performant code streams are a bad choice. In many situations the performance overhead is not that important given the much cleaner code though. That said using parallel here is probably the biggest performance killer."},{"owner":{"account_id":1939636,"reputation":28457,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"score":0,"creation_date":1627921053,"post_id":68619335,"comment_id":121279394,"body_markdown":"You [shall benchmark](https://stackoverflow.com/questions/504103/how-do-i-write-a-correct-micro-benchmark-in-java) to prove them wrong and conclude your learnings.","body":"You <a href=\"https://stackoverflow.com/questions/504103/how-do-i-write-a-correct-micro-benchmark-in-java\">shall benchmark</a> to prove them wrong and conclude your learnings."},{"owner":{"account_id":48693,"reputation":29189,"user_id":144746,"accept_rate":93,"display_name":"Voo"},"score":0,"creation_date":1627932764,"post_id":68619335,"comment_id":121283183,"body_markdown":"@Naman Microbenchmarks are hard to write, but the listed code runs more than long enough and produces relevant output so that measuring inaccuracies and compiler optimizations are irrelevant.","body":"@Naman Microbenchmarks are hard to write, but the listed code runs more than long enough and produces relevant output so that measuring inaccuracies and compiler optimizations are irrelevant."},{"owner":{"account_id":1939636,"reputation":28457,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"score":0,"creation_date":1627961784,"post_id":68619335,"comment_id":121288375,"body_markdown":"@Voo not sure what you mean by &quot;runs more than long enough&quot; and &quot;measuring inaccuracies and compiler optimizations are irrelevant.&quot;, benchmarking would be more about comparing the performances and understanding which one amongst the shared snippet performs better.","body":"@Voo not sure what you mean by &quot;runs more than long enough&quot; and &quot;measuring inaccuracies and compiler optimizations are irrelevant.&quot;, benchmarking would be more about comparing the performances and understanding which one amongst the shared snippet performs better."},{"owner":{"account_id":48693,"reputation":29189,"user_id":144746,"accept_rate":93,"display_name":"Voo"},"score":0,"creation_date":1627970567,"post_id":68619335,"comment_id":121289946,"body_markdown":"@Naman The point is that the programs will easily run for a second or more at which point we&#39;re out of microbenchmark territory and you can simply compare the runtime. (you can easily also write microbenchmarks that will show that streams have a noticeable performance overhead if you so wish)","body":"@Naman The point is that the programs will easily run for a second or more at which point we&#39;re out of microbenchmark territory and you can simply compare the runtime. (you can easily also write microbenchmarks that will show that streams have a noticeable performance overhead if you so wish)"},{"owner":{"account_id":1939636,"reputation":28457,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"score":0,"creation_date":1628014243,"post_id":68619335,"comment_id":121307666,"body_markdown":"That depends on what your test data constitutes of @Voo. Just to convey my opinion, I might as well believe you if you have the data specific to the shared use case. :)","body":"That depends on what your test data constitutes of @Voo. Just to convey my opinion, I might as well believe you if you have the data specific to the shared use case. :)"},{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1628958966,"post_id":68619335,"comment_id":121562342,"body_markdown":"Streams in general are not as efficient as non-stream based code.  There is quite a bit of overhead to them.  Imo, they have two main adantages.   1) based on the proficiency of the programmer, they permit verbose tasks to be constructed quickly and more closely follow the problem statement.  2)  In a multicore environment with lots of data to process they can spare the programmer the headaches of managing threads.","body":"Streams in general are not as efficient as non-stream based code.  There is quite a bit of overhead to them.  Imo, they have two main adantages.   1) based on the proficiency of the programmer, they permit verbose tasks to be constructed quickly and more closely follow the problem statement.  2)  In a multicore environment with lots of data to process they can spare the programmer the headaches of managing threads."},{"owner":{"account_id":301230,"reputation":28997,"user_id":608820,"accept_rate":89,"display_name":"Augusto"},"score":0,"creation_date":1667815965,"post_id":68619335,"comment_id":131249500,"body_markdown":"Just to add that codility *probably* runs the tests in a single core container to reduce costs, so any parallel code will just add overhead and bring no benefits. I&#39;m not sure if you can see the output of the call to `Runtime.getRuntime().availableProcessors()` (this is not 100% accurate, but it&#39;s the best).","body":"Just to add that codility <i>probably</i> runs the tests in a single core container to reduce costs, so any parallel code will just add overhead and bring no benefits. I&#39;m not sure if you can see the output of the call to <code>Runtime.getRuntime().availableProcessors()</code> (this is not 100% accurate, but it&#39;s the best)."}],"answers":[{"tags":[],"owner":{"account_id":367521,"reputation":6910,"user_id":713777,"accept_rate":90,"display_name":"Ahmed Ghoneim"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1679222699,"creation_date":1679222699,"answer_id":75781434,"question_id":68619335,"body_markdown":"Codility fixed it, and all solutions are getting total of 100% (Performance 100%)","title":"Java Streams 0% Performance on Codility","body":"<p>Codility fixed it, and all solutions are getting total of 100% (Performance 100%)</p>\n"}],"owner":{"account_id":367521,"reputation":6910,"user_id":713777,"accept_rate":90,"display_name":"Ahmed Ghoneim"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":415,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75781434,"answer_count":1,"score":1,"last_activity_date":1679222699,"creation_date":1627896961,"question_id":68619335,"body_markdown":"Regarding Codility&#39;s lesson [OddOccurrencesInArray][1]\r\n\r\nI got total of 66% (Performance 0%) using the following code:\r\n\r\n    public int solution(int[] A) {\r\n        return Arrays\r\n                .stream(A)\r\n                .parallel()\r\n                .boxed()\r\n                .collect(Collectors.groupingBy(n -&gt; n, Collectors.counting()))\r\n                .entrySet()\r\n                .parallelStream()\r\n                .filter(entry -&gt; entry.getValue() % 2 != 0)\r\n                .findAny()\r\n                .map(Map.Entry::getKey)\r\n                .orElseThrow();\r\n    }\r\n\r\nHowever, I got total of 100% (Performance 100%) using code from [here][2]:\r\n\r\n    public int solution(int[] A) {\r\n        HashMap&lt;Integer, Integer&gt; histogram = new HashMap&lt;&gt;();\r\n        for (int i = 0; i &lt; A.length; i++) {\r\n            if (histogram.containsKey(A[i])) {\r\n                int occurrences = histogram.get(A[i]);\r\n                occurrences++;\r\n                histogram.put(A[i], occurrences);\r\n            } else {\r\n                histogram.put(A[i], 1);\r\n            }\r\n        }\r\n        Set&lt;Integer&gt; keySet = histogram.keySet();\r\n        for (int currentKey : keySet) {\r\n            int occurrences = histogram.get(currentKey);\r\n            if (occurrences % 2 != 0) return currentKey;\r\n        }\r\n        throw new RuntimeException();\r\n    }\r\n\r\nThe following hybrid solution got total of 88% (1 Performace test failed):\r\n\r\n    public int solution(int[] A) {\r\n        HashMap&lt;Integer, Integer&gt; histogram = new HashMap&lt;&gt;();\r\n        for (int i = 0; i &lt; A.length; i++) {\r\n            if (histogram.containsKey(A[i])) {\r\n                int occurrences = histogram.get(A[i]);\r\n                occurrences++;\r\n                histogram.put(A[i], occurrences);\r\n            } else {\r\n                histogram.put(A[i], 1);\r\n            }\r\n        }\r\n        return histogram.entrySet()\r\n                .parallelStream()\r\n                .filter(n -&gt; (n.getValue() % 2 != 0))\r\n                .findAny()\r\n                .map(Map.Entry::getKey)\r\n                .orElseThrow();\r\n    }\r\n\r\nI also tried to change all `parallelStream()` to `stream()`. Same results!\r\n\r\nAre streams less efficient? or it&#39;s just Codility?\r\n\r\n  [1]: https://app.codility.com/programmers/lessons/2-arrays/odd_occurrences_in_array/\r\n  [2]: https://funnelgarden.com/odd-occurrences-in-array-codility-solution/","title":"Java Streams 0% Performance on Codility","body":"<p>Regarding Codility's lesson <a href=\"https://app.codility.com/programmers/lessons/2-arrays/odd_occurrences_in_array/\" rel=\"nofollow noreferrer\">OddOccurrencesInArray</a></p>\n<p>I got total of 66% (Performance 0%) using the following code:</p>\n<pre><code>public int solution(int[] A) {\n    return Arrays\n            .stream(A)\n            .parallel()\n            .boxed()\n            .collect(Collectors.groupingBy(n -&gt; n, Collectors.counting()))\n            .entrySet()\n            .parallelStream()\n            .filter(entry -&gt; entry.getValue() % 2 != 0)\n            .findAny()\n            .map(Map.Entry::getKey)\n            .orElseThrow();\n}\n</code></pre>\n<p>However, I got total of 100% (Performance 100%) using code from <a href=\"https://funnelgarden.com/odd-occurrences-in-array-codility-solution/\" rel=\"nofollow noreferrer\">here</a>:</p>\n<pre><code>public int solution(int[] A) {\n    HashMap&lt;Integer, Integer&gt; histogram = new HashMap&lt;&gt;();\n    for (int i = 0; i &lt; A.length; i++) {\n        if (histogram.containsKey(A[i])) {\n            int occurrences = histogram.get(A[i]);\n            occurrences++;\n            histogram.put(A[i], occurrences);\n        } else {\n            histogram.put(A[i], 1);\n        }\n    }\n    Set&lt;Integer&gt; keySet = histogram.keySet();\n    for (int currentKey : keySet) {\n        int occurrences = histogram.get(currentKey);\n        if (occurrences % 2 != 0) return currentKey;\n    }\n    throw new RuntimeException();\n}\n</code></pre>\n<p>The following hybrid solution got total of 88% (1 Performace test failed):</p>\n<pre><code>public int solution(int[] A) {\n    HashMap&lt;Integer, Integer&gt; histogram = new HashMap&lt;&gt;();\n    for (int i = 0; i &lt; A.length; i++) {\n        if (histogram.containsKey(A[i])) {\n            int occurrences = histogram.get(A[i]);\n            occurrences++;\n            histogram.put(A[i], occurrences);\n        } else {\n            histogram.put(A[i], 1);\n        }\n    }\n    return histogram.entrySet()\n            .parallelStream()\n            .filter(n -&gt; (n.getValue() % 2 != 0))\n            .findAny()\n            .map(Map.Entry::getKey)\n            .orElseThrow();\n}\n</code></pre>\n<p>I also tried to change all <code>parallelStream()</code> to <code>stream()</code>. Same results!</p>\n<p>Are streams less efficient? or it's just Codility?</p>\n"},{"tags":["java","spring","spring-boot","jpa"],"comments":[{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1679178653,"post_id":75778558,"comment_id":133675842,"body_markdown":"Stepping back a moment: when you have this type of many-to-many relationship, sometimes the best thing to do is to create a junction relationship between the two (DB terms). In other words, rather than each `User` having a list of other `User`s involved in ducking each other [sic.], you can instead have a list of &quot;duckings&quot; that happened (e.g. a `List&lt;Pair&lt;User, User&gt;&gt;`, where the first user &quot;ducked&quot; the second). This provides a decoupling of the User from the action you are trying to track here, and they can be loaded or queried separately.","body":"Stepping back a moment: when you have this type of many-to-many relationship, sometimes the best thing to do is to create a junction relationship between the two (DB terms). In other words, rather than each <code>User</code> having a list of other <code>User</code>s involved in ducking each other [sic.], you can instead have a list of &quot;duckings&quot; that happened (e.g. a <code>List&lt;Pair&lt;User, User&gt;&gt;</code>, where the first user &quot;ducked&quot; the second). This provides a decoupling of the User from the action you are trying to track here, and they can be loaded or queried separately."},{"owner":{"account_id":28053004,"reputation":39,"user_id":21428561,"display_name":"Lucas Tomic"},"score":1,"creation_date":1679212312,"post_id":75778558,"comment_id":133678279,"body_markdown":"That&#39;s a good idea. I&#39;ll implement it nad upload the code. Thank you","body":"That&#39;s a good idea. I&#39;ll implement it nad upload the code. Thank you"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1679315348,"post_id":75778558,"comment_id":133694000,"body_markdown":"See @JsonIdentityInfo which is closer to what you want- it will trim repeats in a graph so that only the ID is included. See https://www.baeldung.com/jackson-bidirectional-relationships-and-infinite-recursion","body":"See @JsonIdentityInfo which is closer to what you want- it will trim repeats in a graph so that only the ID is included. See <a href=\"https://www.baeldung.com/jackson-bidirectional-relationships-and-infinite-recursion\" rel=\"nofollow noreferrer\">baeldung.com/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":28053004,"reputation":39,"user_id":21428561,"display_name":"Lucas Tomic"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1679222284,"creation_date":1679222284,"answer_id":75781398,"question_id":75778558,"body_markdown":"As @Rogue has explained in the comments, the better solution was decoupling the User entity and the Ducks relations. This is how the code has ended:\r\n\r\nUser entity\r\n\r\n    @Entity\r\n    public class User{\r\n    \r\n        @OneToMany(mappedBy = &quot;sender&quot;)\r\n        private Set&lt;Duck&gt; ducksSent;\r\n    \r\n        @OneToMany(mappedBy = &quot;receiver&quot;)\r\n        private Set&lt;Duck&gt; ducksReceived;\r\n    \r\n        //Constructor, getters and setters....\r\n    }\r\n\r\n \r\nDuck entity\r\n\r\n    @Entity\r\n    public class Duck {\r\n       \r\n        @EmbeddedId\r\n        private DuckId id;\r\n        \r\n        @ManyToOne\r\n        @MapsId(&quot;senderId&quot;)\r\n        private User sender;\r\n        \r\n        @ManyToOne\r\n        @MapsId(&quot;receiverId&quot;)\r\n        private User receiver;\r\n    \r\n    \r\n        public Duck(User sender, User receiver) {\r\n            this.sender = sender;\r\n            this.receiver = receiver;\r\n            this.id = new DuckId(sender.getId(),receiver.getId());\r\n        }\r\n\r\n        //getters and setters....\r\n    }\r\n\r\n\r\n\r\n","title":"How to handle a circular reference when it is a single property?","body":"<p>As @Rogue has explained in the comments, the better solution was decoupling the User entity and the Ducks relations. This is how the code has ended:</p>\n<p>User entity</p>\n<pre><code>@Entity\npublic class User{\n\n    @OneToMany(mappedBy = &quot;sender&quot;)\n    private Set&lt;Duck&gt; ducksSent;\n\n    @OneToMany(mappedBy = &quot;receiver&quot;)\n    private Set&lt;Duck&gt; ducksReceived;\n\n    //Constructor, getters and setters....\n}\n</code></pre>\n<p>Duck entity</p>\n<pre><code>@Entity\npublic class Duck {\n   \n    @EmbeddedId\n    private DuckId id;\n    \n    @ManyToOne\n    @MapsId(&quot;senderId&quot;)\n    private User sender;\n    \n    @ManyToOne\n    @MapsId(&quot;receiverId&quot;)\n    private User receiver;\n\n\n    public Duck(User sender, User receiver) {\n        this.sender = sender;\n        this.receiver = receiver;\n        this.id = new DuckId(sender.getId(),receiver.getId());\n    }\n\n    //getters and setters....\n}\n</code></pre>\n"}],"owner":{"account_id":28053004,"reputation":39,"user_id":21428561,"display_name":"Lucas Tomic"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":103,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75781398,"answer_count":1,"score":2,"last_activity_date":1679222284,"creation_date":1679172164,"question_id":75778558,"body_markdown":"I&#39;m in a Spring project where I find myself with a circular reference problem that&#39;s a bit different from the ones already posted here (at least the ones I managed to find).\r\n\r\n## Class structure\r\n\r\nThe application has a user class/entity. This entity can send &quot;ducks&quot; to other users. It has an aggregation relationship (a list) with the users who have been sent a &quot;duck&quot;, and another list with the users who have sent you one. (It is an M-N cardinality relationship)\r\n\r\n```\r\n@Entity\r\npublic class User{\r\n    @ManyToMany\r\n    @JsonManagedReference\r\n    @JoinTable(\r\n        name = &quot;sendsDuck&quot;,\r\n        joinColumns = @JoinColumn(name = &quot;sender&quot;),\r\n        inverseJoinColumns = @JoinColumn(name = &quot;receiver&quot;)\r\n    )\r\n    private Set&lt;User&gt; duckedUsers;\r\n\r\n    @ManyToMany(mappedBy = &quot;duckedUsers&quot;)\r\n    @JsonBackReference\r\n    private set &lt;User&gt; receivesDuckFrom;\r\n    \r\n    //Getters and setters\r\n    ...\r\n\r\n}\r\n```\r\n\r\nAs you can see I have added the `@JsonManagedReference` and `@JsonBackReference` tags to precisely avoid self-reference or cyclic reference.\r\n\r\n## Problem\r\n\r\nThe problem is, when one user sends a &quot;duck&quot; to another, the tags I mentioned above fixed the circular referencing problem. However, when two users send sensitive ducks to each other (A sends to B and B sends to A) I have a circular reference that I don&#39;t know how to handle.\r\n\r\nThis is because both objects have the other within the same `duckedUsers` property.\r\n\r\n## What have I tried so far?\r\n\r\nThis is a list of the attempts I have made so far but haven&#39;t worked:\r\n\r\n- @JsonIgnore\r\n\r\nThis annotation works fine if I put it on the `duckedUsers` property. However, the API client needs to know the data of the users to whom it sent a duck, so this solution is not sufficient for my case.\r\n\r\n- @JsonManagedReference and @JsonBackReference on the same property\r\n\r\nBit of a silly attempt, but try using both annotations on the same property, even though they didn&#39;t make much sense. Also without success.\r\n\r\n```\r\n    @ManyToMany\r\n    @JsonManagedReference\r\n    @JoinTable(\r\n            name = &quot;sendsDuck&quot;,\r\n            joinColumns = @JoinColumn(name = &quot;sender&quot;),\r\n            inverseJoinColumns = @JoinColumn(name = &quot;receiver&quot;)\r\n    )\r\n```\r\n\r\n- Object Mapper\r\n\r\nInside the controller, try using an objectMapper configured in the following ways:\r\n\r\n```\r\nObjectMapper().configure(SerializationFeature.WRITE_SELF_REFERENCES_AS_NULL, true);\r\n```\r\n\r\n```\r\nObjectMapper().configure(SerializationFeature.FAIL_ON_SELF_REFERENCES, false);\r\n```\r\n\r\nAnd using it like this:\r\n\r\n```\r\n    @PostMapping(&quot;/sendDuck&quot;)\r\n    ResponseEntity sendDuck(@RequestParam Long transmitterId, @RequestParam Long receiverId) {\r\n        User transmitter = this.findOrThrow(transmitterId);\r\n        User receiver = this.findOrThrow(receiverId);\r\n        transmitter.sendsDuck(receiver);\r\n        repository.save(transmitter);\r\n        repository.save(receiver);\r\n        List&lt;User&gt; usersList = List.of(receiver, transmitter);\r\n        CollectionModel&lt;EntityModel&lt;User&gt;&gt; body = this.collectionModelFromList(usersList);\r\n        try{\r\n            String serializedBody = objectMapper.writeValueAsString(body);\r\n            return ResponseEntity.ok().body(body);\r\n        }catch (IOException ex){\r\n            String errorMessage = &quot;JSON serializing error: &quot; + ex.getMessage();\r\n            return ResponseEntity.internalServerError().body(errorMessage);\r\n        }\r\n    }\r\n```\r\n\r\nThis attempt was also unsuccessful.\r\n\r\n## How do I think the solution should look like?\r\nFrom what I&#39;ve seen so far, I understand that what I&#39;m looking to achieve would be a JSON response that works in a way that the `@JsonIgnore` is applied only if the entity is a child in the response. Something like that:\r\n\r\n```\r\n{\r\n   id:1,\r\n   ...\r\n   duckedUsers:[\r\n      {\r\n         id:1,\r\n         ... \r\n         duckedUsers:... //This must NOT appear as is a child entity\r\n      },\r\n   ]\r\n}\r\n```","title":"How to handle a circular reference when it is a single property?","body":"<p>I'm in a Spring project where I find myself with a circular reference problem that's a bit different from the ones already posted here (at least the ones I managed to find).</p>\n<h2>Class structure</h2>\n<p>The application has a user class/entity. This entity can send &quot;ducks&quot; to other users. It has an aggregation relationship (a list) with the users who have been sent a &quot;duck&quot;, and another list with the users who have sent you one. (It is an M-N cardinality relationship)</p>\n<pre><code>@Entity\npublic class User{\n    @ManyToMany\n    @JsonManagedReference\n    @JoinTable(\n        name = &quot;sendsDuck&quot;,\n        joinColumns = @JoinColumn(name = &quot;sender&quot;),\n        inverseJoinColumns = @JoinColumn(name = &quot;receiver&quot;)\n    )\n    private Set&lt;User&gt; duckedUsers;\n\n    @ManyToMany(mappedBy = &quot;duckedUsers&quot;)\n    @JsonBackReference\n    private set &lt;User&gt; receivesDuckFrom;\n    \n    //Getters and setters\n    ...\n\n}\n</code></pre>\n<p>As you can see I have added the <code>@JsonManagedReference</code> and <code>@JsonBackReference</code> tags to precisely avoid self-reference or cyclic reference.</p>\n<h2>Problem</h2>\n<p>The problem is, when one user sends a &quot;duck&quot; to another, the tags I mentioned above fixed the circular referencing problem. However, when two users send sensitive ducks to each other (A sends to B and B sends to A) I have a circular reference that I don't know how to handle.</p>\n<p>This is because both objects have the other within the same <code>duckedUsers</code> property.</p>\n<h2>What have I tried so far?</h2>\n<p>This is a list of the attempts I have made so far but haven't worked:</p>\n<ul>\n<li>@JsonIgnore</li>\n</ul>\n<p>This annotation works fine if I put it on the <code>duckedUsers</code> property. However, the API client needs to know the data of the users to whom it sent a duck, so this solution is not sufficient for my case.</p>\n<ul>\n<li>@JsonManagedReference and @JsonBackReference on the same property</li>\n</ul>\n<p>Bit of a silly attempt, but try using both annotations on the same property, even though they didn't make much sense. Also without success.</p>\n<pre><code>    @ManyToMany\n    @JsonManagedReference\n    @JoinTable(\n            name = &quot;sendsDuck&quot;,\n            joinColumns = @JoinColumn(name = &quot;sender&quot;),\n            inverseJoinColumns = @JoinColumn(name = &quot;receiver&quot;)\n    )\n</code></pre>\n<ul>\n<li>Object Mapper</li>\n</ul>\n<p>Inside the controller, try using an objectMapper configured in the following ways:</p>\n<pre><code>ObjectMapper().configure(SerializationFeature.WRITE_SELF_REFERENCES_AS_NULL, true);\n</code></pre>\n<pre><code>ObjectMapper().configure(SerializationFeature.FAIL_ON_SELF_REFERENCES, false);\n</code></pre>\n<p>And using it like this:</p>\n<pre><code>    @PostMapping(&quot;/sendDuck&quot;)\n    ResponseEntity sendDuck(@RequestParam Long transmitterId, @RequestParam Long receiverId) {\n        User transmitter = this.findOrThrow(transmitterId);\n        User receiver = this.findOrThrow(receiverId);\n        transmitter.sendsDuck(receiver);\n        repository.save(transmitter);\n        repository.save(receiver);\n        List&lt;User&gt; usersList = List.of(receiver, transmitter);\n        CollectionModel&lt;EntityModel&lt;User&gt;&gt; body = this.collectionModelFromList(usersList);\n        try{\n            String serializedBody = objectMapper.writeValueAsString(body);\n            return ResponseEntity.ok().body(body);\n        }catch (IOException ex){\n            String errorMessage = &quot;JSON serializing error: &quot; + ex.getMessage();\n            return ResponseEntity.internalServerError().body(errorMessage);\n        }\n    }\n</code></pre>\n<p>This attempt was also unsuccessful.</p>\n<h2>How do I think the solution should look like?</h2>\n<p>From what I've seen so far, I understand that what I'm looking to achieve would be a JSON response that works in a way that the <code>@JsonIgnore</code> is applied only if the entity is a child in the response. Something like that:</p>\n<pre><code>{\n   id:1,\n   ...\n   duckedUsers:[\n      {\n         id:1,\n         ... \n         duckedUsers:... //This must NOT appear as is a child entity\n      },\n   ]\n}\n</code></pre>\n"},{"tags":["java","bash","ansi-escape"],"answers":[{"tags":[],"owner":{"account_id":197330,"reputation":1455,"user_id":441352,"accept_rate":80,"display_name":"Wivlaro"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1339837169,"creation_date":1339837169,"answer_id":11062093,"question_id":9958237,"body_markdown":"As far as `ls` goes, it may be that your `ls` is alias for `ls --color=auto` (you can check this by running `alias ls` in a terminal). In that case, ls will make an educated guess whether to output the color codes. From `man ls`:\r\n\r\n&gt; Using color to distinguish file types is  disabled  both  by  default \r\n&gt; and  with  --color=never.   With --color=auto, ls emits color codes\r\n&gt; only when standard output is connected to a terminal.\r\n\r\nMany other programs will probably do this kind of thing.\r\n\r\nAs far as your general studies of terminal emulation goes, &quot;Terminator&quot; seems to do some pty emulation (using a JNI library though) that maybe you can get some ideas from:\r\n\r\nhttp://software.jessies.org/terminator/\r\n","title":"I want to run bash directly interactively but not getting ANSI codes","body":"<p>As far as <code>ls</code> goes, it may be that your <code>ls</code> is alias for <code>ls --color=auto</code> (you can check this by running <code>alias ls</code> in a terminal). In that case, ls will make an educated guess whether to output the color codes. From <code>man ls</code>:</p>\n\n<blockquote>\n  <p>Using color to distinguish file types is  disabled  both  by  default \n  and  with  --color=never.   With --color=auto, ls emits color codes\n  only when standard output is connected to a terminal.</p>\n</blockquote>\n\n<p>Many other programs will probably do this kind of thing.</p>\n\n<p>As far as your general studies of terminal emulation goes, \"Terminator\" seems to do some pty emulation (using a JNI library though) that maybe you can get some ideas from:</p>\n\n<p><a href=\"http://software.jessies.org/terminator/\" rel=\"nofollow\">http://software.jessies.org/terminator/</a></p>\n"}],"owner":{"account_id":1369771,"reputation":1668,"user_id":1305332,"accept_rate":26,"display_name":"Peter Quiring"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":296,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679222183,"creation_date":1333216276,"question_id":9958237,"body_markdown":"I&#39;m creating my own Java-based term program and it works great with SSH and Telnet connections.\r\nBut now I want to open a local direct connection like xterm or gnome-terminal do.\r\nI run &quot;bash -i -l&quot; with ProcessBuilder and use getInputStream() / getOutputStream() and it seems to work. (I need to call redirectErrorStream(true))\r\nMy only problem is that bash seems to be ignoring the TERM environment variable and is not generating any ANSI codes.  I get a prompt but running &#39;ls -la&#39; is missing CR&#39;s and color.  Plus it&#39;s not echoing back the input (like it does over the SSH connection).\r\n\r\nI use JCraft&#39;s JSch library and call setPtyType(&quot;vt100&quot;) for the SSH connections.\r\nHow would I do that when running bash directly?\r\n\r\nI&#39;m not using a pty, is that needed?  Allocating a pty would require native code I think.\r\nIf so, how do pty&#39;s work.\r\n\r\nI&#39;ve tried to look at xterm source code but that&#39;s a mess.  Now I remember why I&#39;ll never go back to C code.\r\n\r\nIs there a simple solution.\r\n\r\nThanks.\r\n","title":"I want to run bash directly interactively but not getting ANSI codes","body":"<p>I'm creating my own Java-based term program and it works great with SSH and Telnet connections.\nBut now I want to open a local direct connection like xterm or gnome-terminal do.\nI run \"bash -i -l\" with ProcessBuilder and use getInputStream() / getOutputStream() and it seems to work. (I need to call redirectErrorStream(true))\nMy only problem is that bash seems to be ignoring the TERM environment variable and is not generating any ANSI codes.  I get a prompt but running 'ls -la' is missing CR's and color.  Plus it's not echoing back the input (like it does over the SSH connection).</p>\n\n<p>I use JCraft's JSch library and call setPtyType(\"vt100\") for the SSH connections.\nHow would I do that when running bash directly?</p>\n\n<p>I'm not using a pty, is that needed?  Allocating a pty would require native code I think.\nIf so, how do pty's work.</p>\n\n<p>I've tried to look at xterm source code but that's a mess.  Now I remember why I'll never go back to C code.</p>\n\n<p>Is there a simple solution.</p>\n\n<p>Thanks.</p>\n"},{"tags":["java","kotlin","spring-kafka","kafka-producer-api"],"comments":[{"owner":{"account_id":1288095,"reputation":169316,"user_id":1240763,"display_name":"Gary Russell"},"score":0,"creation_date":1679317734,"post_id":75781366,"comment_id":133694689,"body_markdown":"The kafka-clients provides no API to check the broker availability; you can reduce `max.block.ms` to time out faster.","body":"The kafka-clients provides no API to check the broker availability; you can reduce <code>max.block.ms</code> to time out faster."}],"owner":{"account_id":16666560,"reputation":31,"user_id":12045047,"display_name":"Yury Fomichev"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":612,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679221842,"creation_date":1679221842,"question_id":75781366,"body_markdown":"How to config a Kafka producer to stop retrying to connect to broker if isn&#39;t available?\r\nI added the retries configuration, but it doesn&#39;t work, it still keep retrying indefinitely...\r\nI want to skip this part if &quot;Broker may not be available&quot;\r\nHow to fix it?\r\n\r\nThere is my Kafka Producer config:\r\n\r\n    \r\n```\r\n    @Bean\r\n    fun notificationKafkaProducerFactory(): ProducerFactory&lt;String, Email&gt; {\r\n        val config = mutableMapOf&lt;String, Any&gt;()\r\n        config[ProducerConfig.BOOTSTRAP_SERVERS_CONFIG] = &quot;localhost:9092&quot;\r\n        config[ProducerConfig.MAX_IN_FLIGHT_REQUESTS_PER_CONNECTION] = &quot;3&quot;\r\n        config[ProducerConfig.RETRIES_CONFIG] = &quot;3&quot;\r\n        config[ProducerConfig.RETRY_BACKOFF_MS_CONFIG] = &quot;500&quot;\r\n        config[ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG] = JsonSerializerWithJTM::class.java\r\n        config[ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG] = JsonSerializerWithJTM::class.java\r\n\r\n        return DefaultKafkaProducerFactory(config)\r\n    }\r\n\r\n    @Bean\r\n    fun notificationKafkaTemplate(): KafkaTemplate&lt;String, Email&gt; {\r\n        return KafkaTemplate(notificationKafkaProducerFactory())\r\n    }\r\n```\r\n\r\nAbove how does it look when trying sending a message:\r\n\r\n```\r\n2023-03-19 14:17:23.298  INFO 70901 --- [nio-8080-exec-1] o.a.k.clients.producer.ProducerConfig    : ProducerConfig values: \r\n        acks = -1\r\n\tbatch.size = 16384\r\n\tbootstrap.servers = [localhost:9092]\r\n\tbuffer.memory = 33554432\r\n\tclient.dns.lookup = use_all_dns_ips\r\n\tclient.id = producer-1\r\n\tcompression.type = none\r\n\tconnections.max.idle.ms = 540000\r\n\tdelivery.timeout.ms = 120000\r\n\tenable.idempotence = true\r\n\tinterceptor.classes = []\r\n\tkey.serializer = class com.fomichev.september.service.notification.email.templates.JsonSerializerWithJTM\r\n\tlinger.ms = 0\r\n\tmax.block.ms = 60000\r\n\tmax.in.flight.requests.per.connection = 3\r\n\tmax.request.size = 1048576\r\n\tmetadata.max.age.ms = 300000\r\n\tmetadata.max.idle.ms = 300000\r\n\tmetric.reporters = []\r\n\tmetrics.num.samples = 2\r\n\tmetrics.recording.level = INFO\r\n\tmetrics.sample.window.ms = 30000\r\n\tpartitioner.class = class org.apache.kafka.clients.producer.internals.DefaultPartitioner\r\n\treceive.buffer.bytes = 32768\r\n\treconnect.backoff.max.ms = 1000\r\n\treconnect.backoff.ms = 50\r\n\trequest.timeout.ms = 30000\r\n\tretries = 3\r\n\tretry.backoff.ms = 500\r\n\tsasl.client.callback.handler.class = null\r\n\tsasl.jaas.config = null\r\n\tsasl.kerberos.kinit.cmd = /usr/bin/kinit\r\n\tsasl.kerberos.min.time.before.relogin = 60000\r\n\tsasl.kerberos.service.name = null\r\n\tsasl.kerberos.ticket.renew.jitter = 0.05\r\n\tsasl.kerberos.ticket.renew.window.factor = 0.8\r\n\tsasl.login.callback.handler.class = null\r\n\tsasl.login.class = null\r\n\tsasl.login.connect.timeout.ms = null\r\n\tsasl.login.read.timeout.ms = null\r\n\tsasl.login.refresh.buffer.seconds = 300\r\n\tsasl.login.refresh.min.period.seconds = 60\r\n\tsasl.login.refresh.window.factor = 0.8\r\n\tsasl.login.refresh.window.jitter = 0.05\r\n\tsasl.login.retry.backoff.max.ms = 10000\r\n\tsasl.login.retry.backoff.ms = 100\r\n\tsasl.mechanism = GSSAPI\r\n\tsasl.oauthbearer.clock.skew.seconds = 30\r\n\tsasl.oauthbearer.expected.audience = null\r\n\tsasl.oauthbearer.expected.issuer = null\r\n\tsasl.oauthbearer.jwks.endpoint.refresh.ms = 3600000\r\n\tsasl.oauthbearer.jwks.endpoint.retry.backoff.max.ms = 10000\r\n\tsasl.oauthbearer.jwks.endpoint.retry.backoff.ms = 100\r\n\tsasl.oauthbearer.jwks.endpoint.url = null\r\n\tsasl.oauthbearer.scope.claim.name = scope\r\n\tsasl.oauthbearer.sub.claim.name = sub\r\n\tsasl.oauthbearer.token.endpoint.url = null\r\n\tsecurity.protocol = PLAINTEXT\r\n\tsecurity.providers = null\r\n\tsend.buffer.bytes = 131072\r\n\tsocket.connection.setup.timeout.max.ms = 30000\r\n\tsocket.connection.setup.timeout.ms = 10000\r\n\tssl.cipher.suites = null\r\n\tssl.enabled.protocols = [TLSv1.2, TLSv1.3]\r\n\tssl.endpoint.identification.algorithm = https\r\n\tssl.engine.factory.class = null\r\n\tssl.key.password = null\r\n\tssl.keymanager.algorithm = SunX509\r\n\tssl.keystore.certificate.chain = null\r\n\tssl.keystore.key = null\r\n\tssl.keystore.location = null\r\n\tssl.keystore.password = null\r\n\tssl.keystore.type = JKS\r\n\tssl.protocol = TLSv1.3\r\n\tssl.provider = null\r\n\tssl.secure.random.implementation = null\r\n\tssl.trustmanager.algorithm = PKIX\r\n\tssl.truststore.certificates = null\r\n\tssl.truststore.location = null\r\n\tssl.truststore.password = null\r\n\tssl.truststore.type = JKS\r\n\ttransaction.timeout.ms = 60000\r\n\ttransactional.id = null\r\n\tvalue.serializer = class com.fomichev.september.service.notification.email.templates.JsonSerializerWithJTM\r\n\r\n...\r\n\r\n2023-03-19 14:17:23.639  INFO 70901 --- [nio-8080-exec-1] o.a.k.clients.producer.KafkaProducer     : [Producer clientId=producer-1] Instantiated an idempotent producer.\r\n2023-03-19 14:17:23.738  INFO 70901 --- [nio-8080-exec-1] o.a.kafka.common.utils.AppInfoParser     : Kafka version: 3.1.1\r\n2023-03-19 14:17:23.738  INFO 70901 --- [nio-8080-exec-1] o.a.kafka.common.utils.AppInfoParser     : Kafka commitId: 97671528ba54a138\r\n2023-03-19 14:17:23.738  INFO 70901 --- [nio-8080-exec-1] o.a.kafka.common.utils.AppInfoParser     : Kafka startTimeMs: 1679221043736\r\n2023-03-19 14:17:23.894  INFO 70901 --- [ad | producer-1] org.apache.kafka.clients.NetworkClient   : [Producer clientId=producer-1] Node -1 disconnected.\r\n2023-03-19 14:17:23.895  WARN 70901 --- [ad | producer-1] org.apache.kafka.clients.NetworkClient   : [Producer clientId=producer-1] Connection to node -1 (localhost/127.0.0.1:9092) could not be established. Broker may not be available.\r\n2023-03-19 14:17:23.895  WARN 70901 --- [ad | producer-1] org.apache.kafka.clients.NetworkClient   : [Producer clientId=producer-1] Bootstrap broker localhost:9092 (id: -1 rack: null) disconnected\r\n2023-03-19 14:17:24.403  INFO 70901 --- [ad | producer-1] org.apache.kafka.clients.NetworkClient   : [Producer clientId=producer-1] Node -1 disconnected.\r\n2023-03-19 14:17:24.404  WARN 70901 --- [ad | producer-1] org.apache.kafka.clients.NetworkClient   : [Producer clientId=producer-1] Connection to node -1 (localhost/127.0.0.1:9092) could not be established. Broker may not be available.\r\n2023-03-19 14:17:24.404  WARN 70901 --- [ad | producer-1] org.apache.kafka.clients.NetworkClient   : [Producer clientId=producer-1] Bootstrap broker localhost:9092 (id: -1 rack: null) disconnected\r\n```","title":"How to config a Kafka producer to stop retrying to connect to broker if isn&#39;t available","body":"<p>How to config a Kafka producer to stop retrying to connect to broker if isn't available?\nI added the retries configuration, but it doesn't work, it still keep retrying indefinitely...\nI want to skip this part if &quot;Broker may not be available&quot;\nHow to fix it?</p>\n<p>There is my Kafka Producer config:</p>\n<pre><code>    @Bean\n    fun notificationKafkaProducerFactory(): ProducerFactory&lt;String, Email&gt; {\n        val config = mutableMapOf&lt;String, Any&gt;()\n        config[ProducerConfig.BOOTSTRAP_SERVERS_CONFIG] = &quot;localhost:9092&quot;\n        config[ProducerConfig.MAX_IN_FLIGHT_REQUESTS_PER_CONNECTION] = &quot;3&quot;\n        config[ProducerConfig.RETRIES_CONFIG] = &quot;3&quot;\n        config[ProducerConfig.RETRY_BACKOFF_MS_CONFIG] = &quot;500&quot;\n        config[ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG] = JsonSerializerWithJTM::class.java\n        config[ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG] = JsonSerializerWithJTM::class.java\n\n        return DefaultKafkaProducerFactory(config)\n    }\n\n    @Bean\n    fun notificationKafkaTemplate(): KafkaTemplate&lt;String, Email&gt; {\n        return KafkaTemplate(notificationKafkaProducerFactory())\n    }\n</code></pre>\n<p>Above how does it look when trying sending a message:</p>\n<pre><code>2023-03-19 14:17:23.298  INFO 70901 --- [nio-8080-exec-1] o.a.k.clients.producer.ProducerConfig    : ProducerConfig values: \n        acks = -1\n    batch.size = 16384\n    bootstrap.servers = [localhost:9092]\n    buffer.memory = 33554432\n    client.dns.lookup = use_all_dns_ips\n    client.id = producer-1\n    compression.type = none\n    connections.max.idle.ms = 540000\n    delivery.timeout.ms = 120000\n    enable.idempotence = true\n    interceptor.classes = []\n    key.serializer = class com.fomichev.september.service.notification.email.templates.JsonSerializerWithJTM\n    linger.ms = 0\n    max.block.ms = 60000\n    max.in.flight.requests.per.connection = 3\n    max.request.size = 1048576\n    metadata.max.age.ms = 300000\n    metadata.max.idle.ms = 300000\n    metric.reporters = []\n    metrics.num.samples = 2\n    metrics.recording.level = INFO\n    metrics.sample.window.ms = 30000\n    partitioner.class = class org.apache.kafka.clients.producer.internals.DefaultPartitioner\n    receive.buffer.bytes = 32768\n    reconnect.backoff.max.ms = 1000\n    reconnect.backoff.ms = 50\n    request.timeout.ms = 30000\n    retries = 3\n    retry.backoff.ms = 500\n    sasl.client.callback.handler.class = null\n    sasl.jaas.config = null\n    sasl.kerberos.kinit.cmd = /usr/bin/kinit\n    sasl.kerberos.min.time.before.relogin = 60000\n    sasl.kerberos.service.name = null\n    sasl.kerberos.ticket.renew.jitter = 0.05\n    sasl.kerberos.ticket.renew.window.factor = 0.8\n    sasl.login.callback.handler.class = null\n    sasl.login.class = null\n    sasl.login.connect.timeout.ms = null\n    sasl.login.read.timeout.ms = null\n    sasl.login.refresh.buffer.seconds = 300\n    sasl.login.refresh.min.period.seconds = 60\n    sasl.login.refresh.window.factor = 0.8\n    sasl.login.refresh.window.jitter = 0.05\n    sasl.login.retry.backoff.max.ms = 10000\n    sasl.login.retry.backoff.ms = 100\n    sasl.mechanism = GSSAPI\n    sasl.oauthbearer.clock.skew.seconds = 30\n    sasl.oauthbearer.expected.audience = null\n    sasl.oauthbearer.expected.issuer = null\n    sasl.oauthbearer.jwks.endpoint.refresh.ms = 3600000\n    sasl.oauthbearer.jwks.endpoint.retry.backoff.max.ms = 10000\n    sasl.oauthbearer.jwks.endpoint.retry.backoff.ms = 100\n    sasl.oauthbearer.jwks.endpoint.url = null\n    sasl.oauthbearer.scope.claim.name = scope\n    sasl.oauthbearer.sub.claim.name = sub\n    sasl.oauthbearer.token.endpoint.url = null\n    security.protocol = PLAINTEXT\n    security.providers = null\n    send.buffer.bytes = 131072\n    socket.connection.setup.timeout.max.ms = 30000\n    socket.connection.setup.timeout.ms = 10000\n    ssl.cipher.suites = null\n    ssl.enabled.protocols = [TLSv1.2, TLSv1.3]\n    ssl.endpoint.identification.algorithm = https\n    ssl.engine.factory.class = null\n    ssl.key.password = null\n    ssl.keymanager.algorithm = SunX509\n    ssl.keystore.certificate.chain = null\n    ssl.keystore.key = null\n    ssl.keystore.location = null\n    ssl.keystore.password = null\n    ssl.keystore.type = JKS\n    ssl.protocol = TLSv1.3\n    ssl.provider = null\n    ssl.secure.random.implementation = null\n    ssl.trustmanager.algorithm = PKIX\n    ssl.truststore.certificates = null\n    ssl.truststore.location = null\n    ssl.truststore.password = null\n    ssl.truststore.type = JKS\n    transaction.timeout.ms = 60000\n    transactional.id = null\n    value.serializer = class com.fomichev.september.service.notification.email.templates.JsonSerializerWithJTM\n\n...\n\n2023-03-19 14:17:23.639  INFO 70901 --- [nio-8080-exec-1] o.a.k.clients.producer.KafkaProducer     : [Producer clientId=producer-1] Instantiated an idempotent producer.\n2023-03-19 14:17:23.738  INFO 70901 --- [nio-8080-exec-1] o.a.kafka.common.utils.AppInfoParser     : Kafka version: 3.1.1\n2023-03-19 14:17:23.738  INFO 70901 --- [nio-8080-exec-1] o.a.kafka.common.utils.AppInfoParser     : Kafka commitId: 97671528ba54a138\n2023-03-19 14:17:23.738  INFO 70901 --- [nio-8080-exec-1] o.a.kafka.common.utils.AppInfoParser     : Kafka startTimeMs: 1679221043736\n2023-03-19 14:17:23.894  INFO 70901 --- [ad | producer-1] org.apache.kafka.clients.NetworkClient   : [Producer clientId=producer-1] Node -1 disconnected.\n2023-03-19 14:17:23.895  WARN 70901 --- [ad | producer-1] org.apache.kafka.clients.NetworkClient   : [Producer clientId=producer-1] Connection to node -1 (localhost/127.0.0.1:9092) could not be established. Broker may not be available.\n2023-03-19 14:17:23.895  WARN 70901 --- [ad | producer-1] org.apache.kafka.clients.NetworkClient   : [Producer clientId=producer-1] Bootstrap broker localhost:9092 (id: -1 rack: null) disconnected\n2023-03-19 14:17:24.403  INFO 70901 --- [ad | producer-1] org.apache.kafka.clients.NetworkClient   : [Producer clientId=producer-1] Node -1 disconnected.\n2023-03-19 14:17:24.404  WARN 70901 --- [ad | producer-1] org.apache.kafka.clients.NetworkClient   : [Producer clientId=producer-1] Connection to node -1 (localhost/127.0.0.1:9092) could not be established. Broker may not be available.\n2023-03-19 14:17:24.404  WARN 70901 --- [ad | producer-1] org.apache.kafka.clients.NetworkClient   : [Producer clientId=producer-1] Bootstrap broker localhost:9092 (id: -1 rack: null) disconnected\n</code></pre>\n"},{"tags":["java","spring-boot","asynchronous","transactions","hikaricp"],"owner":{"account_id":28049238,"reputation":1,"user_id":21425418,"display_name":"Hwangbo Gyumin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":204,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679220840,"creation_date":1679220233,"question_id":75781250,"body_markdown":"I&#39;m currently using Hikari Connection Pool.\r\n\r\nWhen I run `hikariDataSource.getConnection()` in different thread, I got same connection. \r\n\r\nIn my thinking, by `@Transactional`, JDBC connection is first set in `TransactionSynchronizationManager` which is ThreadLocal. And JDBC connection is alive only within thread. However, as you can see in `userRepositoryJDBC.findUser(..)` method, the number of active connection is still same even after I get connection in a different thread.\r\n\r\nTo conclude my thoughts, `nio-8080-exec-2` thread has JDBC connection locally, but when `db-thread-1` thread request connection, HikariCP also returns the same connection to `db-thread-1`. I think this problem has occurred because of lambda capturing. As I run a new thread using CompletableFuture and lambda expression, lambda captures local variables (which have TransactionSynchronizationManager containing that connection).\r\n\r\nBut even if this is because of lambda capturing, `db-thread-1` still cannot print `TransactionSynchronizationManager.getCurrentTransactionName()`.\r\n\r\nSo, please enlighten me what am I missing and what is wrong.\r\n\r\nMy code is below.\r\n\r\n\r\n### Results\r\n```none\r\n[nio-8080-exec-2] c.c.domain.user.service.UserServiceImpl  : currentTXName:chatting.chat.domain.user.service.UserServiceImpl.login\r\n[nio-8080-exec-2] c.c.domain.user.service.UserServiceImpl  : HikariCP[Total:10, Active:1, Idle:9, Wait:0]\r\n[nio-8080-exec-2] c.c.d.u.repository.UserRepositoryJDBC    : currentTXName:chatting.chat.domain.user.service.UserServiceImpl.login\r\n[nio-8080-exec-2] c.c.d.u.repository.UserRepositoryJDBC    : HikariCP[Total:10, Active:1, Idle:9, Wait:0]\r\n[    db-thread-1] c.c.d.u.repository.UserRepositoryJDBC    : currentTXName:null\r\n[    db-thread-1] c.c.d.u.repository.UserRepositoryJDBC    : HikariCP[Total:10, Active:1, Idle:9, Wait:0] before get connection\r\n[    db-thread-1] c.c.d.u.repository.UserRepositoryJDBC    : HikariCP[Total:10, Active:1, Idle:9, Wait:0] after get connection\r\n[    db-thread-1] c.c.d.u.repository.UserRepositoryJDBC    : HikariCP[Total:10, Active:0, Idle:10, Wait:0]after release connection\r\n```\r\n\r\n### UserServiceImpl.java\r\n```java\r\n@Service\r\npublic class UserServiceImpl {\r\n    ...\r\n    @Transactional\r\n    public DeferredResult&lt;ResponseEntity&lt;?&gt;&gt; login(String userId, String userPw) throws CustomException{\r\n        DeferredResult&lt;ResponseEntity&lt;?&gt;&gt; dr = new DeferredResult&lt;&gt;();\r\n\r\n        printCurrentTXName(); // login\r\n        printHikariStatus(); // [HikariCP:Active=1]\r\n\r\n        userRepositoryJDBC.findUser(userId, userPw)\r\n                .thenComposeAsync(user-&gt;{\r\n\r\n                    printHikariCPInfo(); // [HikariCP:Active=0]\r\n\r\n                    ...\r\n                },serviceExecutor).thenAcceptAsync((rs)-&gt;{\r\n                    log.info(&quot;currentTXName:&quot;+TransactionSynchronizationManager.getCurrentTransactionName());\r\n                    printHikariCPInfo();\r\n                    ...\r\n                },serviceExecutor)\r\n                .exceptionally(e-&gt; {\r\n                    ...\r\n                });\r\n        return dr;\r\n    }\r\n}\r\n```\r\n\r\n### UserRepositoryJDBC.java\r\n```java\r\npublic class UserRepositoryJDBC {\r\n    ...\r\n    @Transactional\r\n    public CompletableFuture&lt;User&gt; findUser(String user_id, String user_pw) {\r\n\r\n        printCurrentTXName(); // login\r\n        printHikariStatus(); // [HikariCP:Active=1]\r\n                \r\n        return CompletableFuture.supplyAsync(()-&gt;{\r\n            PreparedStatement pstmt = null;\r\n            Connection conn = null;\r\n            ResultSet rs = null;\r\n\r\n            printCurrentTXName(); // null\r\n\r\n            ...\r\n\r\n            try {\r\n                printHikariStatus(); // before get connection [HikariCP:Active=1]\r\n                conn = hikariDataSource.getConnection();\r\n                log.info(printHikariCPInfo()+&quot; after get connection&quot;); // Still Active is 1, even if get connection in different thread\r\n                ...\r\n            } catch (SQLException e) {\r\n                throw new RuntimeException(e);\r\n            } catch (CustomException customException){\r\n                throw customException;\r\n            } finally {\r\n                if(rs != null) try { rs.close();} catch(SQLException ex) {}\r\n                if(pstmt != null) try { pstmt.close();} catch(SQLException ex) {}\r\n                if(conn != null) try {\r\n                    conn.close();\r\n                    log.info(printHikariCPInfo()+&quot; after release connection&quot;);\r\n                } catch(SQLException ex) {}\r\n            }\r\n        },databaseExecutor).exceptionally(e-&gt;{\r\n            ...\r\n        });\r\n    }\r\n}\r\n```\r\n\r\nWhy does HikariCP return the same connection in different threads? And if lambda expression captures local variables, why `TransactionSynchronizationManager.getCurrentTransactionName()` is null?\r\n","title":"Does HikariCP.getConnection() return the same Connection when run getConnection in different thread?","body":"<p>I'm currently using Hikari Connection Pool.</p>\n<p>When I run <code>hikariDataSource.getConnection()</code> in different thread, I got same connection.</p>\n<p>In my thinking, by <code>@Transactional</code>, JDBC connection is first set in <code>TransactionSynchronizationManager</code> which is ThreadLocal. And JDBC connection is alive only within thread. However, as you can see in <code>userRepositoryJDBC.findUser(..)</code> method, the number of active connection is still same even after I get connection in a different thread.</p>\n<p>To conclude my thoughts, <code>nio-8080-exec-2</code> thread has JDBC connection locally, but when <code>db-thread-1</code> thread request connection, HikariCP also returns the same connection to <code>db-thread-1</code>. I think this problem has occurred because of lambda capturing. As I run a new thread using CompletableFuture and lambda expression, lambda captures local variables (which have TransactionSynchronizationManager containing that connection).</p>\n<p>But even if this is because of lambda capturing, <code>db-thread-1</code> still cannot print <code>TransactionSynchronizationManager.getCurrentTransactionName()</code>.</p>\n<p>So, please enlighten me what am I missing and what is wrong.</p>\n<p>My code is below.</p>\n<h3>Results</h3>\n<pre class=\"lang-none prettyprint-override\"><code>[nio-8080-exec-2] c.c.domain.user.service.UserServiceImpl  : currentTXName:chatting.chat.domain.user.service.UserServiceImpl.login\n[nio-8080-exec-2] c.c.domain.user.service.UserServiceImpl  : HikariCP[Total:10, Active:1, Idle:9, Wait:0]\n[nio-8080-exec-2] c.c.d.u.repository.UserRepositoryJDBC    : currentTXName:chatting.chat.domain.user.service.UserServiceImpl.login\n[nio-8080-exec-2] c.c.d.u.repository.UserRepositoryJDBC    : HikariCP[Total:10, Active:1, Idle:9, Wait:0]\n[    db-thread-1] c.c.d.u.repository.UserRepositoryJDBC    : currentTXName:null\n[    db-thread-1] c.c.d.u.repository.UserRepositoryJDBC    : HikariCP[Total:10, Active:1, Idle:9, Wait:0] before get connection\n[    db-thread-1] c.c.d.u.repository.UserRepositoryJDBC    : HikariCP[Total:10, Active:1, Idle:9, Wait:0] after get connection\n[    db-thread-1] c.c.d.u.repository.UserRepositoryJDBC    : HikariCP[Total:10, Active:0, Idle:10, Wait:0]after release connection\n</code></pre>\n<h3>UserServiceImpl.java</h3>\n<pre class=\"lang-java prettyprint-override\"><code>@Service\npublic class UserServiceImpl {\n    ...\n    @Transactional\n    public DeferredResult&lt;ResponseEntity&lt;?&gt;&gt; login(String userId, String userPw) throws CustomException{\n        DeferredResult&lt;ResponseEntity&lt;?&gt;&gt; dr = new DeferredResult&lt;&gt;();\n\n        printCurrentTXName(); // login\n        printHikariStatus(); // [HikariCP:Active=1]\n\n        userRepositoryJDBC.findUser(userId, userPw)\n                .thenComposeAsync(user-&gt;{\n\n                    printHikariCPInfo(); // [HikariCP:Active=0]\n\n                    ...\n                },serviceExecutor).thenAcceptAsync((rs)-&gt;{\n                    log.info(&quot;currentTXName:&quot;+TransactionSynchronizationManager.getCurrentTransactionName());\n                    printHikariCPInfo();\n                    ...\n                },serviceExecutor)\n                .exceptionally(e-&gt; {\n                    ...\n                });\n        return dr;\n    }\n}\n</code></pre>\n<h3>UserRepositoryJDBC.java</h3>\n<pre class=\"lang-java prettyprint-override\"><code>public class UserRepositoryJDBC {\n    ...\n    @Transactional\n    public CompletableFuture&lt;User&gt; findUser(String user_id, String user_pw) {\n\n        printCurrentTXName(); // login\n        printHikariStatus(); // [HikariCP:Active=1]\n                \n        return CompletableFuture.supplyAsync(()-&gt;{\n            PreparedStatement pstmt = null;\n            Connection conn = null;\n            ResultSet rs = null;\n\n            printCurrentTXName(); // null\n\n            ...\n\n            try {\n                printHikariStatus(); // before get connection [HikariCP:Active=1]\n                conn = hikariDataSource.getConnection();\n                log.info(printHikariCPInfo()+&quot; after get connection&quot;); // Still Active is 1, even if get connection in different thread\n                ...\n            } catch (SQLException e) {\n                throw new RuntimeException(e);\n            } catch (CustomException customException){\n                throw customException;\n            } finally {\n                if(rs != null) try { rs.close();} catch(SQLException ex) {}\n                if(pstmt != null) try { pstmt.close();} catch(SQLException ex) {}\n                if(conn != null) try {\n                    conn.close();\n                    log.info(printHikariCPInfo()+&quot; after release connection&quot;);\n                } catch(SQLException ex) {}\n            }\n        },databaseExecutor).exceptionally(e-&gt;{\n            ...\n        });\n    }\n}\n</code></pre>\n<p>Why does HikariCP return the same connection in different threads? And if lambda expression captures local variables, why <code>TransactionSynchronizationManager.getCurrentTransactionName()</code> is null?</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1679099179,"post_id":75772949,"comment_id":133666224,"body_markdown":"Related: [What does it mean to &quot;program to an interface&quot;?](https://stackoverflow.com/q/383947/6395627)","body":"Related: <a href=\"https://stackoverflow.com/q/383947/6395627\">What does it mean to &quot;program to an interface&quot;?</a>"}],"answers":[{"tags":[],"owner":{"account_id":10463559,"reputation":2118,"user_id":7713562,"display_name":"zawarudo"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1679097644,"creation_date":1679097644,"answer_id":75773090,"question_id":75772949,"body_markdown":"You can skip the @Qualifier and using an interface and use the BaseballCoach class in the constructor, but there is something called &quot;Always code to interface&quot;\r\n\r\nAlways code to interface means, the client code always holds an Interface object which is supplied by a factory.\r\n\r\nAny instance returned by the factory would be of type Interface which any factory candidate class must have implemented. This way the client&#39;s application does not need to worry about implementation and the interface signature determines what all operations can be done.\r\n\r\nThis can be used to change the behavior of a program at runtime. It also helps you to write far better programs from the maintenance point of view.\r\n\r\nYour code will work the same no matter if you use @Qualifier or directly inject the BaseballCoach but it is a matter of writing maintainable code that is easy to cover with tests.\r\n\r\nhttps://medium.com/javarevisited/oop-good-practices-coding-to-the-interface-baea84fd60d3#","title":"Why or when should I use spring Qualifiers?","body":"<p>You can skip the @Qualifier and using an interface and use the BaseballCoach class in the constructor, but there is something called &quot;Always code to interface&quot;</p>\n<p>Always code to interface means, the client code always holds an Interface object which is supplied by a factory.</p>\n<p>Any instance returned by the factory would be of type Interface which any factory candidate class must have implemented. This way the client's application does not need to worry about implementation and the interface signature determines what all operations can be done.</p>\n<p>This can be used to change the behavior of a program at runtime. It also helps you to write far better programs from the maintenance point of view.</p>\n<p>Your code will work the same no matter if you use @Qualifier or directly inject the BaseballCoach but it is a matter of writing maintainable code that is easy to cover with tests.</p>\n<p><a href=\"https://medium.com/javarevisited/oop-good-practices-coding-to-the-interface-baea84fd60d3#\" rel=\"nofollow noreferrer\">https://medium.com/javarevisited/oop-good-practices-coding-to-the-interface-baea84fd60d3#</a></p>\n"}],"owner":{"account_id":12171995,"reputation":15,"user_id":8886350,"display_name":"Pepe Peep"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":107,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75773090,"answer_count":1,"score":0,"last_activity_date":1679220805,"creation_date":1679095494,"question_id":75772949,"body_markdown":"Lets say we have a Coach interface:\r\n\r\n```\r\npublic interface Coach {\r\n    public String getDailyWorkout();\r\n}\r\n```\r\nAnd 2 different implementations for the Coach interface:\r\n```\r\n@Component\r\npublic class CricketCoach implements Coach{\r\n\r\n    @Override\r\n    public String getDailyWorkout() {\r\n        return &quot;Practice fast bowling for 15 minutes!!&quot;;\r\n    }\r\n}\r\n```\r\n```\r\n@Component\r\npublic class BaseballCoach implements Coach{\r\n\r\n    @Override\r\n    public String getDailyWorkout() {\r\n        return &quot;Spend 30 minutes in batting practice&quot;;\r\n    }\r\n}\r\n```\r\n\r\nAnd my controller where use constructor injection in order to get the implementation from above. Let&#39;s say I want a BaseballCoach injected. In order to do so we can use the annotation @Qualifier like so:\r\n```\r\n@RestController\r\npublic class DemoController {\r\n    private Coach myCoach;\r\n\r\n    @Autowired\r\n    public void DemoController(@Qualifier(&quot;baseballCoach&quot;)Coach myCoach) {\r\n        this.myCoach = myCoach;\r\n    }\r\n\r\n    @GetMapping(&quot;/dailyworkout&quot;)\r\n    public String getDailyWorkout() {\r\n        return myCoach.getDailyWorkout();\r\n    }\r\n}\r\n```\r\n\r\nWhy would we even use the qualifier if I could just use the &quot;correct&quot; class like so:\r\n\r\n```\r\n@RestController\r\npublic class DemoController {\r\n    private Coach myCoach;\r\n\r\n    @Autowired\r\n    public void DemoController(BaseballCoach myCoach) {\r\n        this.myCoach = myCoach;\r\n    }\r\n\r\n    @GetMapping(&quot;/dailyworkout&quot;)\r\n    public String getDailyWorkout() {\r\n        return myCoach.getDailyWorkout();\r\n    }\r\n}\r\n```\r\n\r\nOr even so the correct class in the variable &quot;type&quot;\r\n\r\n```\r\n@RestController\r\npublic class DemoController {\r\n    private BaseballCoach myCoach;\r\n\r\n    @Autowired\r\n    public void DemoController(BaseballCoach myCoach) {\r\n        this.myCoach = myCoach;\r\n    }\r\n\r\n    @GetMapping(&quot;/dailyworkout&quot;)\r\n    public String getDailyWorkout() {\r\n        return myCoach.getDailyWorkout();\r\n    }\r\n}\r\n```\r\n\r\nAre there any benefits to using the qualifier?  Or is it just the recommended method to do so?","title":"Why or when should I use spring Qualifiers?","body":"<p>Lets say we have a Coach interface:</p>\n<pre><code>public interface Coach {\n    public String getDailyWorkout();\n}\n</code></pre>\n<p>And 2 different implementations for the Coach interface:</p>\n<pre><code>@Component\npublic class CricketCoach implements Coach{\n\n    @Override\n    public String getDailyWorkout() {\n        return &quot;Practice fast bowling for 15 minutes!!&quot;;\n    }\n}\n</code></pre>\n<pre><code>@Component\npublic class BaseballCoach implements Coach{\n\n    @Override\n    public String getDailyWorkout() {\n        return &quot;Spend 30 minutes in batting practice&quot;;\n    }\n}\n</code></pre>\n<p>And my controller where use constructor injection in order to get the implementation from above. Let's say I want a BaseballCoach injected. In order to do so we can use the annotation @Qualifier like so:</p>\n<pre><code>@RestController\npublic class DemoController {\n    private Coach myCoach;\n\n    @Autowired\n    public void DemoController(@Qualifier(&quot;baseballCoach&quot;)Coach myCoach) {\n        this.myCoach = myCoach;\n    }\n\n    @GetMapping(&quot;/dailyworkout&quot;)\n    public String getDailyWorkout() {\n        return myCoach.getDailyWorkout();\n    }\n}\n</code></pre>\n<p>Why would we even use the qualifier if I could just use the &quot;correct&quot; class like so:</p>\n<pre><code>@RestController\npublic class DemoController {\n    private Coach myCoach;\n\n    @Autowired\n    public void DemoController(BaseballCoach myCoach) {\n        this.myCoach = myCoach;\n    }\n\n    @GetMapping(&quot;/dailyworkout&quot;)\n    public String getDailyWorkout() {\n        return myCoach.getDailyWorkout();\n    }\n}\n</code></pre>\n<p>Or even so the correct class in the variable &quot;type&quot;</p>\n<pre><code>@RestController\npublic class DemoController {\n    private BaseballCoach myCoach;\n\n    @Autowired\n    public void DemoController(BaseballCoach myCoach) {\n        this.myCoach = myCoach;\n    }\n\n    @GetMapping(&quot;/dailyworkout&quot;)\n    public String getDailyWorkout() {\n        return myCoach.getDailyWorkout();\n    }\n}\n</code></pre>\n<p>Are there any benefits to using the qualifier?  Or is it just the recommended method to do so?</p>\n"},{"tags":["java","android","usage-statistics","activity-manager","usagestatsmanager"],"comments":[{"owner":{"account_id":7660711,"reputation":235,"user_id":5806092,"accept_rate":56,"display_name":"Mr. Thanks a lot"},"score":1,"creation_date":1531412476,"post_id":36238481,"comment_id":89597449,"body_markdown":"Hi!\nDid you find a solution to this? I&#39;m having the same problem.","body":"Hi! Did you find a solution to this? I&#39;m having the same problem."}],"answers":[{"tags":[],"owner":{"account_id":11428455,"reputation":311,"user_id":8377946,"display_name":"Vishal Sharma"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1501267552,"creation_date":1501267552,"answer_id":45380396,"question_id":36238481,"body_markdown":"I too noticed this behaviour in API 21,UsageStats data is not maintained for sufficiently long in API 21. it works fine from API 22, If you check in `android /data/system/usagestats`, you will find limited entries in API 21, so its not reliable using it in API 21.\r\n\r\nFor API 21+,\r\nYou will get the whole day `usagestats` while querying `INTERVAL_DAILY` according to `UsageStatsManager` API.\r\nIf you want to query within hours of day you should use `queryEvents` and iterating them by your own logic.\r\n\r\nI tried in the following way...\r\n\r\nThis is the modal class for capturing data for every app:\r\n\r\n    private class AppUsageInfo {\r\n            Drawable appIcon;\r\n            String appName, packageName;\r\n            long timeInForeground;\r\n            int launchCount;\r\n    \r\n            AppUsageInfo(String pName) {\r\n                this.packageName=pName;\r\n            }\r\n    }\r\n\r\n`List&lt;AppUsageInfo&gt; smallInfoList; //global var`\r\n\r\nhere is the method, its easy, go with the flow: \r\n \r\n    void getUsageStatistics() {\r\n\r\n    UsageEvents.Event currentEvent;\r\n    List&lt;UsageEvents.Event&gt; allEvents = new ArrayList&lt;&gt;();\r\n    HashMap&lt;String, AppUsageInfo&gt; map = new HashMap &lt;String, AppUsageInfo&gt; ();\r\n\r\n    long currTime = System.currentTimeMillis();\r\n    long startTime currTime - 1000*3600*3; //querying past three hours\r\n    \r\n    UsageStatsManager mUsageStatsManager =  (UsageStatsManager)\r\n                        mContext.getSystemService(Context.USAGE_STATS_SERVICE);\r\n    \r\n            assert mUsageStatsManager != null;\r\n    UsageEvents usageEvents = mUsageStatsManager.queryEvents(usageQueryTodayBeginTime, currTime);\r\n    \r\n    //capturing all events in a array to compare with next element\r\n\r\n             while (usageEvents.hasNextEvent()) {\r\n                currentEvent = new UsageEvents.Event();\r\n                usageEvents.getNextEvent(currentEvent);\r\n                if (currentEvent.getEventType() == UsageEvents.Event.MOVE_TO_FOREGROUND ||\r\n                        currentEvent.getEventType() == UsageEvents.Event.MOVE_TO_BACKGROUND) {\r\n                    allEvents.add(currentEvent);\r\n                    String key = currentEvent.getPackageName();\r\n    // taking it into a collection to access by package name\r\n                    if (map.get(key)==null)\r\n                        map.put(key,new AppUsageInfo(key));\r\n                }\r\n            }\r\n    \r\n    //iterating through the arraylist \r\n             for (int i=0;i&lt;allEvents.size()-1;i++){\r\n                UsageEvents.Event E0=allEvents.get(i);\r\n                UsageEvents.Event E1=allEvents.get(i+1);\r\n\r\n    //for launchCount of apps in time range\r\n                 if (!E0.getPackageName().equals(E1.getPackageName()) &amp;&amp; E1.getEventType()==1){\r\n    // if true, E1 (launch event of an app) app launched\r\n                     map.get(E1.getPackageName()).launchCount++;\r\n                 }\r\n\r\n    //for UsageTime of apps in time range\r\n                if (E0.getEventType()==1 &amp;&amp; E1.getEventType()==2\r\n                        &amp;&amp; E0.getClassName().equals(E1.getClassName())){\r\n                    long diff = E1.getTimeStamp()-E0.getTimeStamp();\r\n                    phoneUsageToday+=diff; //gloabl Long var for total usagetime in the timerange\r\n                    map.get(E0.getPackageName()).timeInForeground+= diff;\r\n                }\r\n            }\r\n    //transferred final data into modal class object\r\n            smallInfoList = new ArrayList&lt;&gt;(map.values());\r\n    \r\n    }\r\n\r\n","title":"Android: UsageStatsManager not returning correct daily results","body":"<p>I too noticed this behaviour in API 21,UsageStats data is not maintained for sufficiently long in API 21. it works fine from API 22, If you check in <code>android /data/system/usagestats</code>, you will find limited entries in API 21, so its not reliable using it in API 21.</p>\n\n<p>For API 21+,\nYou will get the whole day <code>usagestats</code> while querying <code>INTERVAL_DAILY</code> according to <code>UsageStatsManager</code> API.\nIf you want to query within hours of day you should use <code>queryEvents</code> and iterating them by your own logic.</p>\n\n<p>I tried in the following way...</p>\n\n<p>This is the modal class for capturing data for every app:</p>\n\n<pre><code>private class AppUsageInfo {\n        Drawable appIcon;\n        String appName, packageName;\n        long timeInForeground;\n        int launchCount;\n\n        AppUsageInfo(String pName) {\n            this.packageName=pName;\n        }\n}\n</code></pre>\n\n<p><code>List&lt;AppUsageInfo&gt; smallInfoList; //global var</code></p>\n\n<p>here is the method, its easy, go with the flow: </p>\n\n<pre><code>void getUsageStatistics() {\n\nUsageEvents.Event currentEvent;\nList&lt;UsageEvents.Event&gt; allEvents = new ArrayList&lt;&gt;();\nHashMap&lt;String, AppUsageInfo&gt; map = new HashMap &lt;String, AppUsageInfo&gt; ();\n\nlong currTime = System.currentTimeMillis();\nlong startTime currTime - 1000*3600*3; //querying past three hours\n\nUsageStatsManager mUsageStatsManager =  (UsageStatsManager)\n                    mContext.getSystemService(Context.USAGE_STATS_SERVICE);\n\n        assert mUsageStatsManager != null;\nUsageEvents usageEvents = mUsageStatsManager.queryEvents(usageQueryTodayBeginTime, currTime);\n\n//capturing all events in a array to compare with next element\n\n         while (usageEvents.hasNextEvent()) {\n            currentEvent = new UsageEvents.Event();\n            usageEvents.getNextEvent(currentEvent);\n            if (currentEvent.getEventType() == UsageEvents.Event.MOVE_TO_FOREGROUND ||\n                    currentEvent.getEventType() == UsageEvents.Event.MOVE_TO_BACKGROUND) {\n                allEvents.add(currentEvent);\n                String key = currentEvent.getPackageName();\n// taking it into a collection to access by package name\n                if (map.get(key)==null)\n                    map.put(key,new AppUsageInfo(key));\n            }\n        }\n\n//iterating through the arraylist \n         for (int i=0;i&lt;allEvents.size()-1;i++){\n            UsageEvents.Event E0=allEvents.get(i);\n            UsageEvents.Event E1=allEvents.get(i+1);\n\n//for launchCount of apps in time range\n             if (!E0.getPackageName().equals(E1.getPackageName()) &amp;&amp; E1.getEventType()==1){\n// if true, E1 (launch event of an app) app launched\n                 map.get(E1.getPackageName()).launchCount++;\n             }\n\n//for UsageTime of apps in time range\n            if (E0.getEventType()==1 &amp;&amp; E1.getEventType()==2\n                    &amp;&amp; E0.getClassName().equals(E1.getClassName())){\n                long diff = E1.getTimeStamp()-E0.getTimeStamp();\n                phoneUsageToday+=diff; //gloabl Long var for total usagetime in the timerange\n                map.get(E0.getPackageName()).timeInForeground+= diff;\n            }\n        }\n//transferred final data into modal class object\n        smallInfoList = new ArrayList&lt;&gt;(map.values());\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10494065,"reputation":1812,"user_id":7734945,"display_name":"Burak"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1501758440,"creation_date":1501758440,"answer_id":45482446,"question_id":36238481,"body_markdown":"i guess i found what is happening there. First i wrote below code,\r\n\r\n     public String getDaily(String appPackageName, long startTime, long endTime)\r\n     {\r\n        List&lt;UsageStats&gt; usageStatsList = usageStatsManager.queryUsageStats(\r\n                         UsageStatsManager.INTERVAL_DAILY, startTime,endTime);\r\n                               \r\n        String x=&quot;&quot;;\r\n        for(int i=0; i&lt;usageStatsList.size(); i++) {\r\n\r\n            UsageStats stat = usageStatsList.get(i);\r\n            if(stat.getPackageName().equals(appPackageName))\r\n                x=x+i+&quot;-&quot;+stat.getPackageName()+&quot;-&quot;\r\n                +converLongToTimeChar(stat.getTotalTimeInForeground())+&quot;\\n&quot;;\r\n        }\r\n\r\n        return x;\r\n    }\r\n    public String converLongToTimeChar(long usedTime) {\r\n        String hour=&quot;&quot;, min=&quot;&quot;, sec=&quot;&quot;;\r\n\r\n        int h=(int)(usedTime/1000/60/60);\r\n        if (h!=0)\r\n            hour = h+&quot;h &quot;;\r\n\r\n        int m=(int)((usedTime/1000/60) % 60);\r\n        if (m!=0)\r\n            min = m+&quot;m &quot;;\r\n\r\n        int s=(int)((usedTime/1000) % 60);\r\n        if (s==0 &amp;&amp; (h!=0 || m!=0))\r\n            sec=&quot;&quot;;\r\n        else\r\n            sec = s+&quot;s&quot;;\r\n\r\n        return hour+min+sec;\r\n    }\r\n\r\n(today date is 03.08.2017 00:25:14)\r\nand when i sent (&quot;package name&quot;,02.08.2017 00.00.00, 03.08.2017 00.00.00); to method, (I sent this dates with calendar, you can search in google, how to set dates like that)\r\nI got this input;\r\n\r\n      46-&#39;apppackagename&#39;-9m 31s\r\n      154-&#39;apppackagename&#39;-22m 38s\r\nthen i sent (&quot;package name&quot;,03.08.2017 00.00.00, 04.08.2017 00.00.00); to method,\r\nI got this input;\r\n\r\n      25-&#39;apppackagename&#39;-22m 38s\r\n\r\nAnd i used app which i sent in method about 1 min. Again i sent method output is:\r\n\r\n02:08:2017-03.08.2017\r\n\r\n      46-&#39;apppackagename&#39;-9m 31s\r\n      154-&#39;apppackagename&#39;-23m 32s\r\n\r\n\r\n\r\n03:08:2017-04.08.2017\r\n\r\n      25-&#39;apppackagename&#39;-23m 32s\r\n\r\nAs you see they increased both. After i see that i waited untill 03.00 am,\r\nI used app about 5 min and i got these outputs.\r\n\r\n02:08:2017-03.08.2017\r\n\r\n      46-&#39;apppackagename&#39;-9m 31s\r\n      154-&#39;apppackagename&#39;-23m 32s\r\n\r\n\r\n\r\n03:08:2017-04.08.2017\r\n\r\n      25-&#39;apppackagename&#39;-23m 32s\r\n      50-&#39;apppackagename&#39;-4m 48s\r\n\r\nTo conclude, you should control before day and its last foregroundrunningtime. İf it is same with that days first foreground time. You should eliminate that time and return sum of the others. (Even if i dont know that strange system.) New day&#39;s counter starting after 03:00 am.\r\n\r\nI hope it will be helpful to you.\r\n","title":"Android: UsageStatsManager not returning correct daily results","body":"<p>i guess i found what is happening there. First i wrote below code,</p>\n\n<pre><code> public String getDaily(String appPackageName, long startTime, long endTime)\n {\n    List&lt;UsageStats&gt; usageStatsList = usageStatsManager.queryUsageStats(\n                     UsageStatsManager.INTERVAL_DAILY, startTime,endTime);\n\n    String x=\"\";\n    for(int i=0; i&lt;usageStatsList.size(); i++) {\n\n        UsageStats stat = usageStatsList.get(i);\n        if(stat.getPackageName().equals(appPackageName))\n            x=x+i+\"-\"+stat.getPackageName()+\"-\"\n            +converLongToTimeChar(stat.getTotalTimeInForeground())+\"\\n\";\n    }\n\n    return x;\n}\npublic String converLongToTimeChar(long usedTime) {\n    String hour=\"\", min=\"\", sec=\"\";\n\n    int h=(int)(usedTime/1000/60/60);\n    if (h!=0)\n        hour = h+\"h \";\n\n    int m=(int)((usedTime/1000/60) % 60);\n    if (m!=0)\n        min = m+\"m \";\n\n    int s=(int)((usedTime/1000) % 60);\n    if (s==0 &amp;&amp; (h!=0 || m!=0))\n        sec=\"\";\n    else\n        sec = s+\"s\";\n\n    return hour+min+sec;\n}\n</code></pre>\n\n<p>(today date is 03.08.2017 00:25:14)\nand when i sent (\"package name\",02.08.2017 00.00.00, 03.08.2017 00.00.00); to method, (I sent this dates with calendar, you can search in google, how to set dates like that)\nI got this input;</p>\n\n<pre><code>  46-'apppackagename'-9m 31s\n  154-'apppackagename'-22m 38s\n</code></pre>\n\n<p>then i sent (\"package name\",03.08.2017 00.00.00, 04.08.2017 00.00.00); to method,\nI got this input;</p>\n\n<pre><code>  25-'apppackagename'-22m 38s\n</code></pre>\n\n<p>And i used app which i sent in method about 1 min. Again i sent method output is:</p>\n\n<p>02:08:2017-03.08.2017</p>\n\n<pre><code>  46-'apppackagename'-9m 31s\n  154-'apppackagename'-23m 32s\n</code></pre>\n\n<p>03:08:2017-04.08.2017</p>\n\n<pre><code>  25-'apppackagename'-23m 32s\n</code></pre>\n\n<p>As you see they increased both. After i see that i waited untill 03.00 am,\nI used app about 5 min and i got these outputs.</p>\n\n<p>02:08:2017-03.08.2017</p>\n\n<pre><code>  46-'apppackagename'-9m 31s\n  154-'apppackagename'-23m 32s\n</code></pre>\n\n<p>03:08:2017-04.08.2017</p>\n\n<pre><code>  25-'apppackagename'-23m 32s\n  50-'apppackagename'-4m 48s\n</code></pre>\n\n<p>To conclude, you should control before day and its last foregroundrunningtime. İf it is same with that days first foreground time. You should eliminate that time and return sum of the others. (Even if i dont know that strange system.) New day's counter starting after 03:00 am.</p>\n\n<p>I hope it will be helpful to you.</p>\n"},{"tags":[],"owner":{"account_id":4205298,"reputation":1439,"user_id":3444398,"display_name":"jguerinet"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1527871963,"creation_date":1527871963,"answer_id":50647945,"question_id":36238481,"body_markdown":"I agree with what is said in that comment you mentioned about `queryUsageStats` not being a trusted source. I&#39;ve been with playing with the `UsageStatsManager` for a little while and it returns inconsistent results based on the time of day. I have found that using the `UsageEvent`s and manually calculating the necessary info to be much more trustworthy (at least for daily stats), as they are points in time and don&#39;t have any weird calculating errors that would produce different outputs for the same input depending on the time of day. \r\n\r\nI used @Vishal&#39;s proposed solution to come up with my own: \r\n\r\n    /**\r\n     * Returns the stats for the [date] (defaults to today) \r\n     */\r\n    fun getDailyStats(date: LocalDate = LocalDate.now()): List&lt;Stat&gt; {\r\n        // The timezones we&#39;ll need \r\n        val utc = ZoneId.of(&quot;UTC&quot;)\r\n        val defaultZone = ZoneId.systemDefault()\r\n    \r\n        // Set the starting and ending times to be midnight in UTC time\r\n        val startDate = date.atStartOfDay(defaultZone).withZoneSameInstant(utc)\r\n        val start = startDate.toInstant().toEpochMilli()\r\n        val end = startDate.plusDays(1).toInstant().toEpochMilli()\r\n    \r\n        // This will keep a map of all of the events per package name \r\n        val sortedEvents = mutableMapOf&lt;String, MutableList&lt;UsageEvents.Event&gt;&gt;()\r\n    \r\n        // Query the list of events that has happened within that time frame\r\n        val systemEvents = usageManager.queryEvents(start, end)\r\n        while (systemEvents.hasNextEvent()) {\r\n            val event = UsageEvents.Event()\r\n            systemEvents.getNextEvent(event)\r\n    \r\n            // Get the list of events for the package name, create one if it doesn&#39;t exist\r\n            val packageEvents = sortedEvents[event.packageName] ?: mutableListOf()\r\n            packageEvents.add(event)\r\n            sortedEvents[event.packageName] = packageEvents\r\n        }\r\n    \r\n        // This will keep a list of our final stats\r\n        val stats = mutableListOf&lt;Stat&gt;()\r\n    \r\n        // Go through the events by package name\r\n        sortedEvents.forEach { packageName, events -&gt;\r\n            // Keep track of the current start and end times\r\n            var startTime = 0L\r\n            var endTime = 0L\r\n            // Keep track of the total usage time for this app\r\n            var totalTime = 0L\r\n            // Keep track of the start times for this app \r\n            val startTimes = mutableListOf&lt;ZonedDateTime&gt;()\r\n            events.forEach {\r\n                if (it.eventType == UsageEvents.Event.MOVE_TO_FOREGROUND) {\r\n                    // App was moved to the foreground: set the start time\r\n                    startTime = it.timeStamp\r\n                    // Add the start time within this timezone to the list\r\n                    startTimes.add(Instant.ofEpochMilli(startTime).atZone(utc)\r\n                            .withZoneSameInstant(defaultZone))\r\n                } else if (it.eventType == UsageEvents.Event.MOVE_TO_BACKGROUND) {\r\n                    // App was moved to background: set the end time\r\n                    endTime = it.timeStamp\r\n                }\r\n    \r\n                // If there&#39;s an end time with no start time, this might mean that\r\n                //  The app was started on the previous day, so take midnight \r\n                //  As the start time \r\n                if (startTime == 0L &amp;&amp; endTime != 0L) {\r\n                    startTime = start\r\n                }\r\n    \r\n                // If both start and end are defined, we have a session\r\n                if (startTime != 0L &amp;&amp; endTime != 0L) {\r\n                    // Add the session time to the total time\r\n                    totalTime += endTime - startTime\r\n                    // Reset the start/end times to 0\r\n                    startTime = 0L\r\n                    endTime = 0L\r\n                }\r\n            }\r\n    \r\n            // If there is a start time without an end time, this might mean that\r\n            //  the app was used past midnight, so take (midnight - 1 second) \r\n            //  as the end time\r\n            if (startTime != 0L &amp;&amp; endTime == 0L) {\r\n                totalTime += end - 1000 - startTime\r\n            }\r\n            stats.add(Stat(packageName, totalTime, startTimes))\r\n        }\r\n        return stats\r\n    }\r\n\r\n    // Helper class to keep track of all of the stats \r\n    class Stat(val packageName: String, val totalTime: Long, val startTimes: List&lt;ZonedDateTime&gt;)\r\n\r\nA couple of observations: \r\n\r\n* The timestamps that the `Event`s have are in UTC, which is why I convert my start/end query times to UTC from my default time zone, and why I convert the start time back on each event. This one got me for a while...\r\n* This takes into account the edge cases where an app was in the foreground before the beginning of the day (i.e. the user opened an app before midnight) or went to the background after the end of the say (i.e. the user still had an app in the foreground past 11:59 PM on that day). Disclaimer: I haven&#39;t actually tested these edge cases yet. \r\n* In the case that the user uses an app past midnight, I opted with using 11:59:59 PM as the end time. You can obviously change this to be 1 millisecond off of midnight, or simply midnight depending on how you choose to calculate this. Simply remove the `- 1000` and replace with whatever you want. \r\n* In my use case I needed total foreground time + start times, which is why I collect that information. However, you can tweak the `Stat` class and the code to capture whatever info you need. You can keep track of end times, or number of times an app was launched in a day if needed for example. \r\n* I am using the Java 8 time library here because it was easier to deal with dates. To use this in Android, I use the [ThreeTenABP](https://github.com/JakeWharton/ThreeTenABP) library. \r\n\r\nI hope this helps! ","title":"Android: UsageStatsManager not returning correct daily results","body":"<p>I agree with what is said in that comment you mentioned about <code>queryUsageStats</code> not being a trusted source. I've been with playing with the <code>UsageStatsManager</code> for a little while and it returns inconsistent results based on the time of day. I have found that using the <code>UsageEvent</code>s and manually calculating the necessary info to be much more trustworthy (at least for daily stats), as they are points in time and don't have any weird calculating errors that would produce different outputs for the same input depending on the time of day. </p>\n\n<p>I used @Vishal's proposed solution to come up with my own: </p>\n\n<pre><code>/**\n * Returns the stats for the [date] (defaults to today) \n */\nfun getDailyStats(date: LocalDate = LocalDate.now()): List&lt;Stat&gt; {\n    // The timezones we'll need \n    val utc = ZoneId.of(\"UTC\")\n    val defaultZone = ZoneId.systemDefault()\n\n    // Set the starting and ending times to be midnight in UTC time\n    val startDate = date.atStartOfDay(defaultZone).withZoneSameInstant(utc)\n    val start = startDate.toInstant().toEpochMilli()\n    val end = startDate.plusDays(1).toInstant().toEpochMilli()\n\n    // This will keep a map of all of the events per package name \n    val sortedEvents = mutableMapOf&lt;String, MutableList&lt;UsageEvents.Event&gt;&gt;()\n\n    // Query the list of events that has happened within that time frame\n    val systemEvents = usageManager.queryEvents(start, end)\n    while (systemEvents.hasNextEvent()) {\n        val event = UsageEvents.Event()\n        systemEvents.getNextEvent(event)\n\n        // Get the list of events for the package name, create one if it doesn't exist\n        val packageEvents = sortedEvents[event.packageName] ?: mutableListOf()\n        packageEvents.add(event)\n        sortedEvents[event.packageName] = packageEvents\n    }\n\n    // This will keep a list of our final stats\n    val stats = mutableListOf&lt;Stat&gt;()\n\n    // Go through the events by package name\n    sortedEvents.forEach { packageName, events -&gt;\n        // Keep track of the current start and end times\n        var startTime = 0L\n        var endTime = 0L\n        // Keep track of the total usage time for this app\n        var totalTime = 0L\n        // Keep track of the start times for this app \n        val startTimes = mutableListOf&lt;ZonedDateTime&gt;()\n        events.forEach {\n            if (it.eventType == UsageEvents.Event.MOVE_TO_FOREGROUND) {\n                // App was moved to the foreground: set the start time\n                startTime = it.timeStamp\n                // Add the start time within this timezone to the list\n                startTimes.add(Instant.ofEpochMilli(startTime).atZone(utc)\n                        .withZoneSameInstant(defaultZone))\n            } else if (it.eventType == UsageEvents.Event.MOVE_TO_BACKGROUND) {\n                // App was moved to background: set the end time\n                endTime = it.timeStamp\n            }\n\n            // If there's an end time with no start time, this might mean that\n            //  The app was started on the previous day, so take midnight \n            //  As the start time \n            if (startTime == 0L &amp;&amp; endTime != 0L) {\n                startTime = start\n            }\n\n            // If both start and end are defined, we have a session\n            if (startTime != 0L &amp;&amp; endTime != 0L) {\n                // Add the session time to the total time\n                totalTime += endTime - startTime\n                // Reset the start/end times to 0\n                startTime = 0L\n                endTime = 0L\n            }\n        }\n\n        // If there is a start time without an end time, this might mean that\n        //  the app was used past midnight, so take (midnight - 1 second) \n        //  as the end time\n        if (startTime != 0L &amp;&amp; endTime == 0L) {\n            totalTime += end - 1000 - startTime\n        }\n        stats.add(Stat(packageName, totalTime, startTimes))\n    }\n    return stats\n}\n\n// Helper class to keep track of all of the stats \nclass Stat(val packageName: String, val totalTime: Long, val startTimes: List&lt;ZonedDateTime&gt;)\n</code></pre>\n\n<p>A couple of observations: </p>\n\n<ul>\n<li>The timestamps that the <code>Event</code>s have are in UTC, which is why I convert my start/end query times to UTC from my default time zone, and why I convert the start time back on each event. This one got me for a while...</li>\n<li>This takes into account the edge cases where an app was in the foreground before the beginning of the day (i.e. the user opened an app before midnight) or went to the background after the end of the say (i.e. the user still had an app in the foreground past 11:59 PM on that day). Disclaimer: I haven't actually tested these edge cases yet. </li>\n<li>In the case that the user uses an app past midnight, I opted with using 11:59:59 PM as the end time. You can obviously change this to be 1 millisecond off of midnight, or simply midnight depending on how you choose to calculate this. Simply remove the <code>- 1000</code> and replace with whatever you want. </li>\n<li>In my use case I needed total foreground time + start times, which is why I collect that information. However, you can tweak the <code>Stat</code> class and the code to capture whatever info you need. You can keep track of end times, or number of times an app was launched in a day if needed for example. </li>\n<li>I am using the Java 8 time library here because it was easier to deal with dates. To use this in Android, I use the <a href=\"https://github.com/JakeWharton/ThreeTenABP\" rel=\"noreferrer\">ThreeTenABP</a> library. </li>\n</ul>\n\n<p>I hope this helps! </p>\n"},{"tags":[],"owner":{"account_id":14363237,"reputation":322,"user_id":10375027,"display_name":"BBB"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1545053436,"creation_date":1545053436,"answer_id":53816269,"question_id":36238481,"body_markdown":"I have quiet the same problem and also opened a issue with Google for this. Please have a look at https://issuetracker.google.com/issues/118564471 if this corresponds to what you are describing.\r\n","title":"Android: UsageStatsManager not returning correct daily results","body":"<p>I have quiet the same problem and also opened a issue with Google for this. Please have a look at <a href=\"https://issuetracker.google.com/issues/118564471\" rel=\"nofollow noreferrer\">https://issuetracker.google.com/issues/118564471</a> if this corresponds to what you are describing.</p>\n"},{"tags":[],"owner":{"account_id":16542893,"reputation":752,"user_id":11953196,"display_name":"Atakan Yildirim"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679220575,"creation_date":1679220575,"answer_id":75781276,"question_id":36238481,"body_markdown":"I wrote a cleaner and safer queryEvents function inspired by [@Vishal Sharma][1], [@jguerinet][2], and [@Floarian][3] answers.\r\n\r\nStarting with Android Q, Foreground Service events can also be recorded. Especially if you want to calculate the time spent in the background, you can now do it.\r\n\r\nCreate an AppUsageStats class:\r\n\r\n    public class AppUsageStats {\r\n        private final long lastTimeUsedMillis;\r\n        private final long totalTimeInForegroundMillis;\r\n        private final long lastTimeForegroundServiceUsedMillis;\r\n        private final long totalTimeForegroundServiceUsedMillis;\r\n    \r\n        public AppUsageStats(\r\n                long lastTimeUsedMillis,\r\n                long totalTimeInForegroundMillis,\r\n                long lastTimeForegroundServiceUsedMillis,\r\n                long totalTimeForegroundServiceUsedMillis\r\n        ) {\r\n            this.lastTimeUsedMillis = lastTimeUsedMillis;\r\n            this.totalTimeInForegroundMillis = totalTimeInForegroundMillis;\r\n            this.lastTimeForegroundServiceUsedMillis = lastTimeForegroundServiceUsedMillis;\r\n            this.totalTimeForegroundServiceUsedMillis = totalTimeForegroundServiceUsedMillis;\r\n        }\r\n    \r\n        public long getLastTimeUsedMillis() {\r\n            return lastTimeUsedMillis;\r\n        }\r\n    \r\n        public long getTotalTimeInForegroundMillis() {\r\n            return totalTimeInForegroundMillis;\r\n        }\r\n    \r\n        @RequiresApi(Build.VERSION_CODES.Q)\r\n        public long getLastTimeForegroundServiceUsedMillis() {\r\n            return lastTimeForegroundServiceUsedMillis;\r\n        }\r\n    \r\n        @RequiresApi(Build.VERSION_CODES.Q)\r\n        public long getTotalTimeForegroundServiceUsedMillis() {\r\n            return totalTimeForegroundServiceUsedMillis;\r\n        }\r\n    }\r\n\r\nCreate an AppUsageStatsBucket class to store Foreground Service data:\r\n\r\n    public class AppUsageStatsBucket {\r\n        private long startMillis;\r\n        private long endMillis;\r\n        private long totalTime;\r\n    \r\n        public AppUsageStatsBucket() {\r\n            this.startMillis = 0L;\r\n            this.endMillis = 0L;\r\n            this.totalTime = 0L;\r\n        }\r\n    \r\n        public long getStartMillis() {\r\n            return startMillis;\r\n        }\r\n    \r\n        public void setStartMillis(long startMillis) {\r\n            this.startMillis = startMillis;\r\n        }\r\n    \r\n        public long getEndMillis() {\r\n            return endMillis;\r\n        }\r\n    \r\n        public void setEndMillis(long endMillis) {\r\n            this.endMillis = endMillis;\r\n        }\r\n    \r\n        public long getTotalTime() {\r\n            return totalTime;\r\n        }\r\n    \r\n        public void addTotalTime() {\r\n            this.totalTime += endMillis - startMillis;\r\n        }\r\n    \r\n        public void setTotalTime(long totalTime) {\r\n            this.totalTime = totalTime;\r\n        }\r\n    }\r\n\r\nCreate a UsageStatsSelection Enum class:\r\n\r\n    public enum UsageStatsSelection {\r\n        HOURLY(\r\n                UsageStatsManager.INTERVAL_DAILY,\r\n                System.currentTimeMillis() - TimeUnit.HOURS.toMillis(1L),\r\n                System.currentTimeMillis()\r\n        ),\r\n        DAILY(\r\n                UsageStatsManager.INTERVAL_DAILY,\r\n                0L,\r\n                System.currentTimeMillis()\r\n        ),\r\n        WEEKLY(\r\n                UsageStatsManager.INTERVAL_WEEKLY,\r\n                0L,\r\n                System.currentTimeMillis()\r\n        ),\r\n        MONTHLY(\r\n                UsageStatsManager.INTERVAL_MONTHLY,\r\n                0L,\r\n                System.currentTimeMillis()\r\n        ),\r\n        YEARLY(\r\n                UsageStatsManager.INTERVAL_YEARLY,\r\n                0L,\r\n                System.currentTimeMillis()\r\n        );\r\n    \r\n        private final int usageStatsInterval;\r\n        private final long beginTime;\r\n        private final long endTime;\r\n    \r\n        UsageStatsSelection(int usageStatsInterval, long beginTime, long endTime) {\r\n            this.usageStatsInterval = usageStatsInterval;\r\n            this.beginTime = beginTime;\r\n            this.endTime = endTime;\r\n        }\r\n    \r\n        public int getUsageStatsInterval() {\r\n            return usageStatsInterval;\r\n        }\r\n    \r\n        public long getBeginTime() {\r\n            return beginTime;\r\n        }\r\n    \r\n        public long getEndTime() {\r\n            return endTime;\r\n        }\r\n    }\r\n\r\nSince it is not possible to get all days for queryEvents (see: [queryEvents()][4], Query for events in the given time range. Events are only kept by the system for a few days.), we will use queryEvents to get only daily events. We will also use the queryUsageStats() function to get the Weekly, Monthly and Yearly usage data.\r\n\r\n    @NonNull\r\n    public static Map&lt;String, AppUsageStats&gt; queryUsageStats(\r\n            Context context,\r\n            @NonNull UsageStatsSelection statsSelection\r\n    ) {\r\n        final UsageStatsManager usageStatsManager = (UsageStatsManager) context.getSystemService(Context.USAGE_STATS_SERVICE);\r\n        final Map&lt;String, AppUsageStats&gt; appUsageStatsHashMap = new HashMap&lt;&gt;();\r\n        switch (statsSelection) {\r\n            case HOURLY:\r\n                final UsageEvents events = usageStatsManager.queryEvents(\r\n                        statsSelection.getBeginTime(),\r\n                        statsSelection.getEndTime()\r\n                );\r\n                Map&lt;String, List&lt;UsageEvents.Event&gt;&gt; eventsMap = new HashMap&lt;&gt;();\r\n                UsageEvents.Event currentEvent;\r\n                while (events.hasNextEvent()) {\r\n                    currentEvent = new UsageEvents.Event();\r\n                    if (events.getNextEvent(currentEvent)) {\r\n                        switch (currentEvent.getEventType()) {\r\n                            case UsageEvents.Event.ACTIVITY_RESUMED:\r\n                            case UsageEvents.Event.ACTIVITY_PAUSED:\r\n                            case UsageEvents.Event.ACTIVITY_STOPPED:\r\n                            case UsageEvents.Event.FOREGROUND_SERVICE_START:\r\n                            case UsageEvents.Event.FOREGROUND_SERVICE_STOP:\r\n                                List&lt;UsageEvents.Event&gt; packageEvents = eventsMap.get(currentEvent.getPackageName());\r\n                                if (packageEvents == null) {\r\n                                    packageEvents = new ArrayList&lt;&gt;(Collections.singletonList(currentEvent));\r\n                                } else {\r\n                                    packageEvents.add(currentEvent);\r\n                                }\r\n                                eventsMap.put(currentEvent.getPackageName(), packageEvents);\r\n                                break;\r\n                        }\r\n                    }\r\n                }\r\n    \r\n                for (Map.Entry&lt;String, List&lt;UsageEvents.Event&gt;&gt; entry : eventsMap.entrySet()) {\r\n                    final AppUsageStatsBucket foregroundBucket = new AppUsageStatsBucket();\r\n                    final Map&lt;String, AppUsageStatsBucket&gt; backgroundBucketMap = new HashMap&lt;&gt;();\r\n                    for (int pos = 0; pos &lt; entry.getValue().size(); pos++) {\r\n                        final UsageEvents.Event event = entry.getValue().get(pos);\r\n                        AppUsageStatsBucket backgroundBucket = backgroundBucketMap.get(event.getClassName());\r\n                        if (backgroundBucket == null) {\r\n                            backgroundBucket = new AppUsageStatsBucket();\r\n                            backgroundBucketMap.put(event.getClassName(), backgroundBucket);\r\n                        }\r\n                        switch (event.getEventType()) {\r\n                            case UsageEvents.Event.ACTIVITY_RESUMED:\r\n                                foregroundBucket.setStartMillis(event.getTimeStamp());\r\n                                break;\r\n                            case UsageEvents.Event.ACTIVITY_PAUSED:\r\n                            case UsageEvents.Event.ACTIVITY_STOPPED:\r\n                                if (foregroundBucket.getStartMillis() &gt;= foregroundBucket.getEndMillis()) {\r\n                                    if (foregroundBucket.getStartMillis() == 0L) {\r\n                                        foregroundBucket.setStartMillis(statsSelection.getBeginTime());\r\n                                    }\r\n                                    foregroundBucket.setEndMillis(event.getTimeStamp());\r\n                                    foregroundBucket.addTotalTime();\r\n                                }\r\n                                break;\r\n                            case UsageEvents.Event.FOREGROUND_SERVICE_START:\r\n                                backgroundBucket.setStartMillis(event.getTimeStamp());\r\n                                break;\r\n                            case UsageEvents.Event.FOREGROUND_SERVICE_STOP:\r\n                                if (backgroundBucket.getStartMillis() &gt;= backgroundBucket.getEndMillis()) {\r\n                                    if (backgroundBucket.getStartMillis() == 0L) {\r\n                                        backgroundBucket.setStartMillis(statsSelection.getBeginTime());\r\n                                    }\r\n                                    backgroundBucket.setEndMillis(event.getTimeStamp());\r\n                                    backgroundBucket.addTotalTime();\r\n                                }\r\n                                break;\r\n                        }\r\n                        if (pos == entry.getValue().size() - 1) {\r\n                            if (foregroundBucket.getStartMillis() &gt; foregroundBucket.getEndMillis()) {\r\n                                foregroundBucket.setEndMillis(statsSelection.getEndTime());\r\n                                foregroundBucket.addTotalTime();\r\n                            }\r\n                            if (backgroundBucket.getStartMillis() &gt; backgroundBucket.getEndMillis()) {\r\n                                backgroundBucket.setEndMillis(statsSelection.getEndTime());\r\n                                backgroundBucket.addTotalTime();\r\n                            }\r\n                        }\r\n                    }\r\n    \r\n                    final long foregroundEnd = foregroundBucket.getEndMillis();\r\n                    final long totalTimeForeground = foregroundBucket.getTotalTime();\r\n                    final long backgroundEnd = backgroundBucketMap.values()\r\n                            .stream()\r\n                            .mapToLong(AppUsageStatsBucket::getEndMillis)\r\n                            .max()\r\n                            .orElse(0L);\r\n                    final long totalTimeBackground = backgroundBucketMap.values()\r\n                            .stream()\r\n                            .mapToLong(AppUsageStatsBucket::getTotalTime)\r\n                            .sum();\r\n    \r\n                    appUsageStatsHashMap.put(entry.getKey(), new AppUsageStats(\r\n                            Math.max(foregroundEnd, backgroundEnd),\r\n                            totalTimeForeground,\r\n                            backgroundEnd,\r\n                            totalTimeBackground\r\n                    ));\r\n                }\r\n                break;\r\n            default:\r\n                final List&lt;UsageStats&gt; usageStats = usageStatsManager\r\n                    .queryUsageStats(\r\n                            statsSelection.getUsageStatsInterval(),\r\n                            statsSelection.getBeginTime(),\r\n                            statsSelection.getEndTime()\r\n                    );\r\n                appUsageStatsHashMap.putAll(usageStats.parallelStream()\r\n                        .collect(Collectors.toMap(\r\n                                UsageStats::getPackageName,\r\n                                stats -&gt; new AppUsageStats(\r\n                                        stats.getLastTimeUsed(),\r\n                                        stats.getTotalTimeInForeground(),\r\n                                        Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.Q\r\n                                                ? stats.getLastTimeForegroundServiceUsed()\r\n                                                : 0,\r\n                                        Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.Q\r\n                                                ? stats.getTotalTimeForegroundServiceUsed()\r\n                                                : 0\r\n                                ),\r\n                                (oldValue, newValue) -&gt; newValue\r\n                        )));\r\n                break;\r\n        }\r\n        return appUsageStatsHashMap;\r\n    }\r\n\r\nThe result will be returned as Package Name and AppUsageStats list.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/36238481/android-usagestatsmanager-not-returning-correct-daily-results/45380396#45380396\r\n  [2]: https://stackoverflow.com/questions/36238481/android-usagestatsmanager-not-returning-correct-daily-results/50647945#50647945\r\n  [3]: https://stackoverflow.com/questions/36238481/android-usagestatsmanager-not-returning-correct-daily-results#comment122785787_50647945\r\n  [4]: https://developer.android.com/reference/android/app/usage/UsageStatsManager#queryEvents(long,%20long)","title":"Android: UsageStatsManager not returning correct daily results","body":"<p>I wrote a cleaner and safer queryEvents function inspired by <a href=\"https://stackoverflow.com/questions/36238481/android-usagestatsmanager-not-returning-correct-daily-results/45380396#45380396\">@Vishal Sharma</a>, <a href=\"https://stackoverflow.com/questions/36238481/android-usagestatsmanager-not-returning-correct-daily-results/50647945#50647945\">@jguerinet</a>, and <a href=\"https://stackoverflow.com/questions/36238481/android-usagestatsmanager-not-returning-correct-daily-results#comment122785787_50647945\">@Floarian</a> answers.</p>\n<p>Starting with Android Q, Foreground Service events can also be recorded. Especially if you want to calculate the time spent in the background, you can now do it.</p>\n<p>Create an AppUsageStats class:</p>\n<pre><code>public class AppUsageStats {\n    private final long lastTimeUsedMillis;\n    private final long totalTimeInForegroundMillis;\n    private final long lastTimeForegroundServiceUsedMillis;\n    private final long totalTimeForegroundServiceUsedMillis;\n\n    public AppUsageStats(\n            long lastTimeUsedMillis,\n            long totalTimeInForegroundMillis,\n            long lastTimeForegroundServiceUsedMillis,\n            long totalTimeForegroundServiceUsedMillis\n    ) {\n        this.lastTimeUsedMillis = lastTimeUsedMillis;\n        this.totalTimeInForegroundMillis = totalTimeInForegroundMillis;\n        this.lastTimeForegroundServiceUsedMillis = lastTimeForegroundServiceUsedMillis;\n        this.totalTimeForegroundServiceUsedMillis = totalTimeForegroundServiceUsedMillis;\n    }\n\n    public long getLastTimeUsedMillis() {\n        return lastTimeUsedMillis;\n    }\n\n    public long getTotalTimeInForegroundMillis() {\n        return totalTimeInForegroundMillis;\n    }\n\n    @RequiresApi(Build.VERSION_CODES.Q)\n    public long getLastTimeForegroundServiceUsedMillis() {\n        return lastTimeForegroundServiceUsedMillis;\n    }\n\n    @RequiresApi(Build.VERSION_CODES.Q)\n    public long getTotalTimeForegroundServiceUsedMillis() {\n        return totalTimeForegroundServiceUsedMillis;\n    }\n}\n</code></pre>\n<p>Create an AppUsageStatsBucket class to store Foreground Service data:</p>\n<pre><code>public class AppUsageStatsBucket {\n    private long startMillis;\n    private long endMillis;\n    private long totalTime;\n\n    public AppUsageStatsBucket() {\n        this.startMillis = 0L;\n        this.endMillis = 0L;\n        this.totalTime = 0L;\n    }\n\n    public long getStartMillis() {\n        return startMillis;\n    }\n\n    public void setStartMillis(long startMillis) {\n        this.startMillis = startMillis;\n    }\n\n    public long getEndMillis() {\n        return endMillis;\n    }\n\n    public void setEndMillis(long endMillis) {\n        this.endMillis = endMillis;\n    }\n\n    public long getTotalTime() {\n        return totalTime;\n    }\n\n    public void addTotalTime() {\n        this.totalTime += endMillis - startMillis;\n    }\n\n    public void setTotalTime(long totalTime) {\n        this.totalTime = totalTime;\n    }\n}\n</code></pre>\n<p>Create a UsageStatsSelection Enum class:</p>\n<pre><code>public enum UsageStatsSelection {\n    HOURLY(\n            UsageStatsManager.INTERVAL_DAILY,\n            System.currentTimeMillis() - TimeUnit.HOURS.toMillis(1L),\n            System.currentTimeMillis()\n    ),\n    DAILY(\n            UsageStatsManager.INTERVAL_DAILY,\n            0L,\n            System.currentTimeMillis()\n    ),\n    WEEKLY(\n            UsageStatsManager.INTERVAL_WEEKLY,\n            0L,\n            System.currentTimeMillis()\n    ),\n    MONTHLY(\n            UsageStatsManager.INTERVAL_MONTHLY,\n            0L,\n            System.currentTimeMillis()\n    ),\n    YEARLY(\n            UsageStatsManager.INTERVAL_YEARLY,\n            0L,\n            System.currentTimeMillis()\n    );\n\n    private final int usageStatsInterval;\n    private final long beginTime;\n    private final long endTime;\n\n    UsageStatsSelection(int usageStatsInterval, long beginTime, long endTime) {\n        this.usageStatsInterval = usageStatsInterval;\n        this.beginTime = beginTime;\n        this.endTime = endTime;\n    }\n\n    public int getUsageStatsInterval() {\n        return usageStatsInterval;\n    }\n\n    public long getBeginTime() {\n        return beginTime;\n    }\n\n    public long getEndTime() {\n        return endTime;\n    }\n}\n</code></pre>\n<p>Since it is not possible to get all days for queryEvents (see: <a href=\"https://developer.android.com/reference/android/app/usage/UsageStatsManager#queryEvents(long,%20long)\" rel=\"nofollow noreferrer\">queryEvents()</a>, Query for events in the given time range. Events are only kept by the system for a few days.), we will use queryEvents to get only daily events. We will also use the queryUsageStats() function to get the Weekly, Monthly and Yearly usage data.</p>\n<pre><code>@NonNull\npublic static Map&lt;String, AppUsageStats&gt; queryUsageStats(\n        Context context,\n        @NonNull UsageStatsSelection statsSelection\n) {\n    final UsageStatsManager usageStatsManager = (UsageStatsManager) context.getSystemService(Context.USAGE_STATS_SERVICE);\n    final Map&lt;String, AppUsageStats&gt; appUsageStatsHashMap = new HashMap&lt;&gt;();\n    switch (statsSelection) {\n        case HOURLY:\n            final UsageEvents events = usageStatsManager.queryEvents(\n                    statsSelection.getBeginTime(),\n                    statsSelection.getEndTime()\n            );\n            Map&lt;String, List&lt;UsageEvents.Event&gt;&gt; eventsMap = new HashMap&lt;&gt;();\n            UsageEvents.Event currentEvent;\n            while (events.hasNextEvent()) {\n                currentEvent = new UsageEvents.Event();\n                if (events.getNextEvent(currentEvent)) {\n                    switch (currentEvent.getEventType()) {\n                        case UsageEvents.Event.ACTIVITY_RESUMED:\n                        case UsageEvents.Event.ACTIVITY_PAUSED:\n                        case UsageEvents.Event.ACTIVITY_STOPPED:\n                        case UsageEvents.Event.FOREGROUND_SERVICE_START:\n                        case UsageEvents.Event.FOREGROUND_SERVICE_STOP:\n                            List&lt;UsageEvents.Event&gt; packageEvents = eventsMap.get(currentEvent.getPackageName());\n                            if (packageEvents == null) {\n                                packageEvents = new ArrayList&lt;&gt;(Collections.singletonList(currentEvent));\n                            } else {\n                                packageEvents.add(currentEvent);\n                            }\n                            eventsMap.put(currentEvent.getPackageName(), packageEvents);\n                            break;\n                    }\n                }\n            }\n\n            for (Map.Entry&lt;String, List&lt;UsageEvents.Event&gt;&gt; entry : eventsMap.entrySet()) {\n                final AppUsageStatsBucket foregroundBucket = new AppUsageStatsBucket();\n                final Map&lt;String, AppUsageStatsBucket&gt; backgroundBucketMap = new HashMap&lt;&gt;();\n                for (int pos = 0; pos &lt; entry.getValue().size(); pos++) {\n                    final UsageEvents.Event event = entry.getValue().get(pos);\n                    AppUsageStatsBucket backgroundBucket = backgroundBucketMap.get(event.getClassName());\n                    if (backgroundBucket == null) {\n                        backgroundBucket = new AppUsageStatsBucket();\n                        backgroundBucketMap.put(event.getClassName(), backgroundBucket);\n                    }\n                    switch (event.getEventType()) {\n                        case UsageEvents.Event.ACTIVITY_RESUMED:\n                            foregroundBucket.setStartMillis(event.getTimeStamp());\n                            break;\n                        case UsageEvents.Event.ACTIVITY_PAUSED:\n                        case UsageEvents.Event.ACTIVITY_STOPPED:\n                            if (foregroundBucket.getStartMillis() &gt;= foregroundBucket.getEndMillis()) {\n                                if (foregroundBucket.getStartMillis() == 0L) {\n                                    foregroundBucket.setStartMillis(statsSelection.getBeginTime());\n                                }\n                                foregroundBucket.setEndMillis(event.getTimeStamp());\n                                foregroundBucket.addTotalTime();\n                            }\n                            break;\n                        case UsageEvents.Event.FOREGROUND_SERVICE_START:\n                            backgroundBucket.setStartMillis(event.getTimeStamp());\n                            break;\n                        case UsageEvents.Event.FOREGROUND_SERVICE_STOP:\n                            if (backgroundBucket.getStartMillis() &gt;= backgroundBucket.getEndMillis()) {\n                                if (backgroundBucket.getStartMillis() == 0L) {\n                                    backgroundBucket.setStartMillis(statsSelection.getBeginTime());\n                                }\n                                backgroundBucket.setEndMillis(event.getTimeStamp());\n                                backgroundBucket.addTotalTime();\n                            }\n                            break;\n                    }\n                    if (pos == entry.getValue().size() - 1) {\n                        if (foregroundBucket.getStartMillis() &gt; foregroundBucket.getEndMillis()) {\n                            foregroundBucket.setEndMillis(statsSelection.getEndTime());\n                            foregroundBucket.addTotalTime();\n                        }\n                        if (backgroundBucket.getStartMillis() &gt; backgroundBucket.getEndMillis()) {\n                            backgroundBucket.setEndMillis(statsSelection.getEndTime());\n                            backgroundBucket.addTotalTime();\n                        }\n                    }\n                }\n\n                final long foregroundEnd = foregroundBucket.getEndMillis();\n                final long totalTimeForeground = foregroundBucket.getTotalTime();\n                final long backgroundEnd = backgroundBucketMap.values()\n                        .stream()\n                        .mapToLong(AppUsageStatsBucket::getEndMillis)\n                        .max()\n                        .orElse(0L);\n                final long totalTimeBackground = backgroundBucketMap.values()\n                        .stream()\n                        .mapToLong(AppUsageStatsBucket::getTotalTime)\n                        .sum();\n\n                appUsageStatsHashMap.put(entry.getKey(), new AppUsageStats(\n                        Math.max(foregroundEnd, backgroundEnd),\n                        totalTimeForeground,\n                        backgroundEnd,\n                        totalTimeBackground\n                ));\n            }\n            break;\n        default:\n            final List&lt;UsageStats&gt; usageStats = usageStatsManager\n                .queryUsageStats(\n                        statsSelection.getUsageStatsInterval(),\n                        statsSelection.getBeginTime(),\n                        statsSelection.getEndTime()\n                );\n            appUsageStatsHashMap.putAll(usageStats.parallelStream()\n                    .collect(Collectors.toMap(\n                            UsageStats::getPackageName,\n                            stats -&gt; new AppUsageStats(\n                                    stats.getLastTimeUsed(),\n                                    stats.getTotalTimeInForeground(),\n                                    Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.Q\n                                            ? stats.getLastTimeForegroundServiceUsed()\n                                            : 0,\n                                    Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.Q\n                                            ? stats.getTotalTimeForegroundServiceUsed()\n                                            : 0\n                            ),\n                            (oldValue, newValue) -&gt; newValue\n                    )));\n            break;\n    }\n    return appUsageStatsHashMap;\n}\n</code></pre>\n<p>The result will be returned as Package Name and AppUsageStats list.</p>\n"}],"owner":{"account_id":8121475,"reputation":211,"user_id":6118076,"display_name":"Ryan McDev"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9596,"favorite_count":0,"down_vote_count":0,"up_vote_count":21,"answer_count":5,"score":21,"last_activity_date":1679220575,"creation_date":1459013437,"question_id":36238481,"body_markdown":"I&#39;m attempting to query `UsageStats` from `UsageStatsManager`, with the aim of returning all app packages that were used daily and for how long.\r\n\r\n**The Code:**\r\n\r\n    public static List&lt;UsageStats&gt; getUsageStatsList(Context context){\r\n        UsageStatsManager usm = getUsageStatsManager(context);\r\n        Calendar calendar = Calendar.getInstance();\r\n        long endTime = calendar.getTimeInMillis();\r\n        calendar.add(Calendar.DAY_OF_YEAR, -1);\r\n        long startTime = calendar.getTimeInMillis();\r\n\r\n        List&lt;UsageStats&gt; usageStatsList = usm.queryUsageStats(UsageStatsManager.INTERVAL_DAILY,startTime, endTime);\r\n        return usageStatsList;\r\n    }\r\n\r\nI have an alarm that fires daily just before midnight and query&#39;s usagestats and then stores the returned data. At first everything seemed to be working fine and I was getting package results and their active time, however I added a function that would check the results hourly and here is where I made a strange discovery.\r\n\r\nThe results from `UsageStatsManager`seemed to be resetting at different times, instead of at midnight, which is what I would have expected considering I was using `INTERVAL_DAILY` as a search parameter.\r\n\r\nFrom the data I saved the package &#39;time&#39; results seem to be resetting at (**Rough timings**):\r\n\r\n - 3am\r\n - Midday\r\n - 3pm\r\n - Midnight\r\n\r\n\r\n\r\nI realize that there is a correlation between when the package timings reset but is this meant to happen?\r\n\r\nI&#39;ve already seen the following thread and it&#39;s where I got a lot of my information from:\r\nhttps://stackoverflow.com/questions/26431795/how-to-use-usagestatsmanager\r\n\r\nConsequently:\r\nhttps://stackoverflow.com/questions/30386789/android-usagestatsmanager-producing-wrong-output\r\nIn the comments mentions that the data returned from `queryUsageStats` can&#39;t be trusted and random results are being returned.\r\n\r\nAm I missing something simple or is `UsageStatsManager` not functioning correctly?","title":"Android: UsageStatsManager not returning correct daily results","body":"<p>I'm attempting to query <code>UsageStats</code> from <code>UsageStatsManager</code>, with the aim of returning all app packages that were used daily and for how long.</p>\n\n<p><strong>The Code:</strong></p>\n\n<pre><code>public static List&lt;UsageStats&gt; getUsageStatsList(Context context){\n    UsageStatsManager usm = getUsageStatsManager(context);\n    Calendar calendar = Calendar.getInstance();\n    long endTime = calendar.getTimeInMillis();\n    calendar.add(Calendar.DAY_OF_YEAR, -1);\n    long startTime = calendar.getTimeInMillis();\n\n    List&lt;UsageStats&gt; usageStatsList = usm.queryUsageStats(UsageStatsManager.INTERVAL_DAILY,startTime, endTime);\n    return usageStatsList;\n}\n</code></pre>\n\n<p>I have an alarm that fires daily just before midnight and query's usagestats and then stores the returned data. At first everything seemed to be working fine and I was getting package results and their active time, however I added a function that would check the results hourly and here is where I made a strange discovery.</p>\n\n<p>The results from <code>UsageStatsManager</code>seemed to be resetting at different times, instead of at midnight, which is what I would have expected considering I was using <code>INTERVAL_DAILY</code> as a search parameter.</p>\n\n<p>From the data I saved the package 'time' results seem to be resetting at (<strong>Rough timings</strong>):</p>\n\n<ul>\n<li>3am</li>\n<li>Midday</li>\n<li>3pm</li>\n<li>Midnight</li>\n</ul>\n\n<p>I realize that there is a correlation between when the package timings reset but is this meant to happen?</p>\n\n<p>I've already seen the following thread and it's where I got a lot of my information from:\n<a href=\"https://stackoverflow.com/questions/26431795/how-to-use-usagestatsmanager\">How to use UsageStatsManager?</a></p>\n\n<p>Consequently:\n<a href=\"https://stackoverflow.com/questions/30386789/android-usagestatsmanager-producing-wrong-output\">Android UsageStatsManager producing wrong output?</a>\nIn the comments mentions that the data returned from <code>queryUsageStats</code> can't be trusted and random results are being returned.</p>\n\n<p>Am I missing something simple or is <code>UsageStatsManager</code> not functioning correctly?</p>\n"},{"tags":["java","xml","android-studio"],"comments":[{"owner":{"account_id":20013244,"reputation":1040,"user_id":14669853,"display_name":"Cactusroot"},"score":0,"creation_date":1679176874,"post_id":75778517,"comment_id":133675616,"body_markdown":"Please provide some code you worked on before this problem occurred.","body":"Please provide some code you worked on before this problem occurred."},{"owner":{"account_id":22303736,"reputation":209,"user_id":16528677,"display_name":"Darian-Cătălin Cucer"},"score":0,"creation_date":1679221235,"post_id":75778517,"comment_id":133679250,"body_markdown":"1. Check .xml layout files and resources.\n2. Try to refresh the layout editor.\n3. Invalidate Caches.","body":"1. Check .xml layout files and resources. 2. Try to refresh the layout editor. 3. Invalidate Caches."}],"owner":{"account_id":27726610,"reputation":11,"user_id":21166019,"display_name":"Guțanov Dorel"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1679220522,"creation_date":1679171516,"question_id":75778517,"body_markdown":"```\r\njava.lang.reflect.InvocationTargetException &#160;&#160; jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(NativeMethodAccessorImpl.java:-2) jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) java.lang.reflect.Method.invoke(Method.java:566)\r\nandroid.view.LayoutInflater.onCreateView(LayoutInflater.java:934) &#160; android.view.LayoutInflater.onCreateView(LayoutInflater.java:954) android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:1008) android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:965) &#160;&#160; android.view.LayoutInflater.rInflate_Original(LayoutInflater.java:1127) &#160;&#160; android.view.LayoutInflater_Delegate.rInflate(LayoutInflater_Delegate.java:72) &#160;&#160; android.view.LayoutInflater.rInflate(LayoutInflater.java:1101) &#160;&#160; android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:1088) &#160;&#160; android.view.LayoutInflater.rInflate_Original(LayoutInflater.java:1130) &#160;&#160; android.view.LayoutInflater_Delegate.rInflate(LayoutInflater_Delegate.java:72) &#160;&#160; android.view.LayoutInflater.rInflate(LayoutInflater.java:1101) &#160;&#160; android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:1088) &#160;&#160; android.view.LayoutInflater.rInflate_Original(LayoutInflater.java:1130) &#160;&#160; android.view.LayoutInflater_Delegate.rInflate(LayoutInflater_Delegate.java:72) &#160;&#160; android.view.LayoutInflater.rInflate(LayoutInflater.java:1101) &#160;&#160; android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:1088) &#160;&#160; android.view.LayoutInflater.rInflate_Original(LayoutInflater.java:1130) &#160;&#160; android.view.LayoutInflater_Delegate.rInflate(LayoutInflater_Delegate.java:72) &#160;&#160; android.view.LayoutInflater.rInflate(LayoutInflater.java:1101) &#160;&#160; android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:1088)\r\nandroid.view.LayoutInflater.inflate(LayoutInflater.java:686)\r\nandroid.view.LayoutInflater.inflate(LayoutInflater.java:505) \r\nCopy stack to clipboard   Tip: Try to refresh the layout. \r\n```\r\nI tried to do Rebuild, and clean the project","title":"I can&#39;t see the layout design Render Problem Android Studio","body":"<pre><code>java.lang.reflect.InvocationTargetException    jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(NativeMethodAccessorImpl.java:-2) jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) java.lang.reflect.Method.invoke(Method.java:566)\nandroid.view.LayoutInflater.onCreateView(LayoutInflater.java:934)   android.view.LayoutInflater.onCreateView(LayoutInflater.java:954) android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:1008) android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:965)    android.view.LayoutInflater.rInflate_Original(LayoutInflater.java:1127)    android.view.LayoutInflater_Delegate.rInflate(LayoutInflater_Delegate.java:72)    android.view.LayoutInflater.rInflate(LayoutInflater.java:1101)    android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:1088)    android.view.LayoutInflater.rInflate_Original(LayoutInflater.java:1130)    android.view.LayoutInflater_Delegate.rInflate(LayoutInflater_Delegate.java:72)    android.view.LayoutInflater.rInflate(LayoutInflater.java:1101)    android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:1088)    android.view.LayoutInflater.rInflate_Original(LayoutInflater.java:1130)    android.view.LayoutInflater_Delegate.rInflate(LayoutInflater_Delegate.java:72)    android.view.LayoutInflater.rInflate(LayoutInflater.java:1101)    android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:1088)    android.view.LayoutInflater.rInflate_Original(LayoutInflater.java:1130)    android.view.LayoutInflater_Delegate.rInflate(LayoutInflater_Delegate.java:72)    android.view.LayoutInflater.rInflate(LayoutInflater.java:1101)    android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:1088)\nandroid.view.LayoutInflater.inflate(LayoutInflater.java:686)\nandroid.view.LayoutInflater.inflate(LayoutInflater.java:505) \nCopy stack to clipboard   Tip: Try to refresh the layout. \n</code></pre>\n<p>I tried to do Rebuild, and clean the project</p>\n"},{"tags":["java","firebase","gradle"],"owner":{"account_id":27639594,"reputation":1,"user_id":21096798,"display_name":"Mehdi_96"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":88,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679220473,"creation_date":1679185468,"question_id":75779431,"body_markdown":"After updating my Android Studio to the latest version i.e. Electric Eel | 2022.1.1, I got &quot;Gradle project sync failed&quot;.\r\nI&#39;m trying to add Craslytics to my app, but I can&#39;t sync the project!\r\n(Note: I don&#39;t want to downgrade the gradle plugin / or change the android studio version, any solution! )\r\n\r\n\r\n\r\n**I received the following error :** \r\n\r\n```\r\nNull extracted folder for artifact: ResolvedArtifact(componentIdentifier=com.google.android.gms:play-services-measurement-impl:21.2.0, variant=com.google.android.gms:play-services-measurement-impl:21.2.0, variantName=null, artifactFile=C:\\Users\\PARA\\.gradle\\caches\\modules-2\\files-2.1\\com.google.android.gms\\play-services-measurement-impl\\21.2.0\\d8bf851298f339055d442465104a8ba357a32347\\play-services-measurement-impl-21.2.0.aar, isTestFixturesArtifact=false, extractedFolder=null, publishedLintJar=null, dependencyType=ANDROID, isWrappedModule=false, buildMapping={__current_build__=C:\\Users\\PARA\\AndroidStudioProjects\\Looki})\r\n```\r\n\r\n**My current project structure:**\r\n\r\n\r\n```\r\nbuildscript {\r\n\r\n    dependencies {\r\n\r\n        /// Google Services\r\n        classpath &#39;com.google.gms:google-services:4.3.15&#39;\r\n\r\n        /// Crashlytics\r\n        classpath &#39;com.google.firebase:firebase-crashlytics-gradle:2.9.4&#39;\r\n    }\r\n}\r\n// Top-level build file where you can add configuration options common to all sub-projects/modules.\r\nplugins {\r\n    id &#39;com.android.application&#39; version &#39;7.4.2&#39; apply false\r\n    id &#39;com.android.library&#39; version &#39;7.4.2&#39; apply false\r\n}\r\n```\r\n\r\nand\r\n\r\n```\r\nplugins {\r\n    id &#39;com.android.application&#39;\r\n\r\n    /// Google Services plugin\r\n    id &#39;com.google.gms.google-services&#39;\r\n\r\n    /// Firebase Crashlytics plugin\r\n    id &#39;com.google.firebase.crashlytics&#39;\r\n}\r\n\r\n\r\n    // Import the Firebase BoM\r\n    implementation platform(&#39;com.google.firebase:firebase-bom:31.2.3&#39;)\r\n    implementation &#39;com.google.firebase:firebase-crashlytics&#39;\r\n    implementation &#39;com.google.firebase:firebase-analytics&#39; //TODO: i think the &quot;Error&quot; is here!!\r\n    //implementation &#39;com.google.firebase:firebase-analytics:21.2.0&#39;\r\n```\r\n\r\n`distributionUrl=https\\://services.gradle.org/distributions/gradle-7.5-all.zip`\r\n\r\n\r\n```\r\ncompileOptions {\r\n      sourceCompatibility JavaVersion.VERSION_11\r\n      targetCompatibility JavaVersion.VERSION_11\r\n    }\r\n```\r\n\r\n","title":"Firebase Craslytics/Analytics cause Gradle project sync to failed (Electric Eel | 2022.1.1)","body":"<p>After updating my Android Studio to the latest version i.e. Electric Eel | 2022.1.1, I got &quot;Gradle project sync failed&quot;.\nI'm trying to add Craslytics to my app, but I can't sync the project!\n(Note: I don't want to downgrade the gradle plugin / or change the android studio version, any solution! )</p>\n<p><strong>I received the following error :</strong></p>\n<pre><code>Null extracted folder for artifact: ResolvedArtifact(componentIdentifier=com.google.android.gms:play-services-measurement-impl:21.2.0, variant=com.google.android.gms:play-services-measurement-impl:21.2.0, variantName=null, artifactFile=C:\\Users\\PARA\\.gradle\\caches\\modules-2\\files-2.1\\com.google.android.gms\\play-services-measurement-impl\\21.2.0\\d8bf851298f339055d442465104a8ba357a32347\\play-services-measurement-impl-21.2.0.aar, isTestFixturesArtifact=false, extractedFolder=null, publishedLintJar=null, dependencyType=ANDROID, isWrappedModule=false, buildMapping={__current_build__=C:\\Users\\PARA\\AndroidStudioProjects\\Looki})\n</code></pre>\n<p><strong>My current project structure:</strong></p>\n<pre><code>buildscript {\n\n    dependencies {\n\n        /// Google Services\n        classpath 'com.google.gms:google-services:4.3.15'\n\n        /// Crashlytics\n        classpath 'com.google.firebase:firebase-crashlytics-gradle:2.9.4'\n    }\n}\n// Top-level build file where you can add configuration options common to all sub-projects/modules.\nplugins {\n    id 'com.android.application' version '7.4.2' apply false\n    id 'com.android.library' version '7.4.2' apply false\n}\n</code></pre>\n<p>and</p>\n<pre><code>plugins {\n    id 'com.android.application'\n\n    /// Google Services plugin\n    id 'com.google.gms.google-services'\n\n    /// Firebase Crashlytics plugin\n    id 'com.google.firebase.crashlytics'\n}\n\n\n    // Import the Firebase BoM\n    implementation platform('com.google.firebase:firebase-bom:31.2.3')\n    implementation 'com.google.firebase:firebase-crashlytics'\n    implementation 'com.google.firebase:firebase-analytics' //TODO: i think the &quot;Error&quot; is here!!\n    //implementation 'com.google.firebase:firebase-analytics:21.2.0'\n</code></pre>\n<p><code>distributionUrl=https\\://services.gradle.org/distributions/gradle-7.5-all.zip</code></p>\n<pre><code>compileOptions {\n      sourceCompatibility JavaVersion.VERSION_11\n      targetCompatibility JavaVersion.VERSION_11\n    }\n</code></pre>\n"},{"tags":["java","junit","umlet"],"owner":{"account_id":28002511,"reputation":1,"user_id":21386463,"display_name":"erili"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":9,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1679225923,"answer_count":0,"score":0,"last_activity_date":1679220400,"creation_date":1679216832,"question_id":75781000,"body_markdown":"I clone the project repo https://github.com/umlet/umlet and try to run on my local.\r\n\r\nBut there are errors after I try to run some unit test cases:\r\njava: package com.baselet.element.sequence_aio.facet.specific.gen does not exist\r\n\r\nwhat does &quot;specific.gen&quot; means here? is it something generated automatically through test? How could I add it?\r\n\r\n\r\nother errors in building output:\r\n```\r\njava: cannot find symbol\r\n  symbol:   class TokenMgrException\r\n  location: class com.baselet.element.sequence_aio.facet.SequenceAllInOneFacet\r\n\r\njava: cannot find symbol\r\n  symbol:   class ParseException\r\n  location: class com.baselet.element.sequence_aio.facet.SequenceAllInOneFacet\r\n```","title":"umlet cannot build and test with error: java: package com.baselet.element.sequence_aio.facet.specific.gen does not exist","body":"<p>I clone the project repo <a href=\"https://github.com/umlet/umlet\" rel=\"nofollow noreferrer\">https://github.com/umlet/umlet</a> and try to run on my local.</p>\n<p>But there are errors after I try to run some unit test cases:\njava: package com.baselet.element.sequence_aio.facet.specific.gen does not exist</p>\n<p>what does &quot;specific.gen&quot; means here? is it something generated automatically through test? How could I add it?</p>\n<p>other errors in building output:</p>\n<pre><code>java: cannot find symbol\n  symbol:   class TokenMgrException\n  location: class com.baselet.element.sequence_aio.facet.SequenceAllInOneFacet\n\njava: cannot find symbol\n  symbol:   class ParseException\n  location: class com.baselet.element.sequence_aio.facet.SequenceAllInOneFacet\n</code></pre>\n"},{"tags":["java","performance","javafx","jar","executable-jar"],"comments":[{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1678684537,"post_id":75717176,"comment_id":133574655,"body_markdown":"Where does the pdf come from?  How large is it in bytes and pages?  Are you using the same Java and library versions in the command line as the IDE?  If you load the pdf in a browser using `pdf.js` is it also slow?  If not, you could show the pdf in a browser rather than an embedded web view.  Probably you won’t get much help here.  You will need to profile the app and see  why it is slow (which may be difficult given a lot of the work is in JavaScript in WebView).","body":"Where does the pdf come from?  How large is it in bytes and pages?  Are you using the same Java and library versions in the command line as the IDE?  If you load the pdf in a browser using <code>pdf.js</code> is it also slow?  If not, you could show the pdf in a browser rather than an embedded web view.  Probably you won’t get much help here.  You will need to profile the app and see  why it is slow (which may be difficult given a lot of the work is in JavaScript in WebView)."},{"owner":{"account_id":23139905,"reputation":1,"user_id":17243550,"display_name":"Ahmad Luay AlQatu"},"score":0,"creation_date":1678699969,"post_id":75717176,"comment_id":133577562,"body_markdown":"I need to impeded a pdf viewer in my java, Small pdf its slower but its ok but 35mb file start not responding, i check in profiler isee 3 threads from thread pool when run in ide , but in jar its 1, in tasks manager cpu utilisation gos to 70% where in jar the max i see 30 to 50, what could be the difference in ide thes problem made me comb my hair","body":"I need to impeded a pdf viewer in my java, Small pdf its slower but its ok but 35mb file start not responding, i check in profiler isee 3 threads from thread pool when run in ide , but in jar its 1, in tasks manager cpu utilisation gos to 70% where in jar the max i see 30 to 50, what could be the difference in ide thes problem made me comb my hair"}],"answers":[{"tags":[],"owner":{"account_id":23139905,"reputation":1,"user_id":17243550,"display_name":"Ahmad Luay AlQatu"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1679219411,"creation_date":1678730485,"answer_id":75725386,"question_id":75717176,"body_markdown":"it works smoothly when I extract the jar and run the main.class from cmd like this\r\n\r\n```\r\njava -cp ./pdfcheck-1.0  pdfcheck.main\r\n```\r\nI said this is most likely how the ide run my code.\r\nany explanation of what happened and why? ","title":"when run web view from the ide its fast but when run jar its so slow i use maven","body":"<p>it works smoothly when I extract the jar and run the main.class from cmd like this</p>\n<pre><code>java -cp ./pdfcheck-1.0  pdfcheck.main\n</code></pre>\n<p>I said this is most likely how the ide run my code.\nany explanation of what happened and why?</p>\n"}],"owner":{"account_id":23139905,"reputation":1,"user_id":17243550,"display_name":"Ahmad Luay AlQatu"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679219411,"creation_date":1678666953,"question_id":75717176,"body_markdown":"my problem is when I try to display pdf in my JavaFX app, the pages load fast when I run from the ide \r\n\r\nbut its to slow and show not respond, I set the heap to 3000mp without any difference\r\n\r\nI use the **[PDFViewerFX](https://github.com/Dansoftowner/PDFViewerFX) **library in my project and edit the buffering code to enhance performance,\r\n\r\nit&#39;s faster now in ide but nothing improved on the jar file,\r\n\r\nwhat could be the difference running in ide or jar?\r\n\r\nhear is the code to display pdf\r\n\r\n```\r\n    public void loadPDF(URL url) throws IOException {\r\n        loadPDF(new BufferedInputStream(url.openConnection().getInputStream()));\r\n    }\r\n    private static final Logger logger = LoggerFactory.getLogger(PDFDisplayer.class);\r\n    private static final int THREAD_POOL_SIZE = 5;\r\n\r\n    private static final ExecutorService THREAD_POOL = Executors.newFixedThreadPool(THREAD_POOL_SIZE, new ThreadFactory() {\r\n        private final ThreadGroup group = new ThreadGroup(&quot;my-thread-pool&quot;);\r\n        @Override\r\n        public Thread newThread(Runnable r) {\r\n            Thread t = new Thread(group, r, &quot;my-thread-&quot; + new AtomicInteger(1), 0);\r\n            t.setDaemon(false);\r\n            return t;\r\n        }\r\n    });\r\n\r\n\r\n    private final ObjectProperty&lt;Consumer&lt;Task&lt;String&gt;&gt;&gt; onLoaderTaskPresent =\r\n            new SimpleObjectProperty&lt;&gt;();\r\n\r\n    private boolean pdfJsLoaded;\r\n    public void loadPDF(InputStream inputStream) {\r\n        if (inputStream == null)\r\n            return;\r\n\r\n        Task&lt;String&gt; task = buildLoadingTask(inputStream);\r\n\r\n        final Consumer&lt;Task&lt;String&gt;&gt; onLoaderTaskPresent = this.onLoaderTaskPresent.get();\r\n        if (onLoaderTaskPresent != null) {\r\n            Platform.runLater(() -&gt; onLoaderTaskPresent.accept(task));\r\n        }\r\n        THREAD_POOL.submit(task);\r\n    }\r\n\r\n    /**\r\n     * @deprecated Use {@link #loadPDF(InputStream)} instead\r\n     */\r\n    @Deprecated\r\n    public void displayPdf(InputStream inputStream) throws IOException {\r\n        loadPDF(inputStream);\r\n    }\r\n    private void loadInputStream(InputStream inputStream) {\r\n        Task&lt;String&gt; loadingTask = buildLoadingTask(inputStream);\r\n        THREAD_POOL.submit(loadingTask);\r\n        loadingTask.setOnSucceeded(event -&gt; {\r\n            String js = loadingTask.getValue();\r\n            if (js != null) {\r\n                try {\r\n                    webView.getEngine().executeScript(js);\r\n                } catch (Exception ex) {\r\n                    if (!pdfJsLoaded) {\r\n                        loadScript = js;\r\n                    }\r\n                }\r\n            }\r\n            THREAD_POOL.shutdown();\r\n        });\r\n        loadingTask.setOnFailed(event -&gt; {\r\n            Throwable ex = event.getSource().getException();\r\n            if (ex != null) {\r\n                // Handle error more gracefully\r\n                showErrorDialog(&quot;Failed to execute script&quot;, (Exception) ex);\r\n            }\r\n        });\r\n    }\r\n\r\n\r\n    private Task&lt;String&gt; buildLoadingTask(InputStream inputStream) {\r\n        final Task&lt;String&gt; task = new Task&lt;String&gt;() {\r\n            @Override\r\n            protected String call() throws Exception {\r\n                try (ByteArrayOutputStream outputStream = new ByteArrayOutputStream()) {\r\n\r\n                    long contentSize = inputStream.available();\r\n                    long onePercent = contentSize / 100;\r\n\r\n                    int allReadBytesCount = 0;\r\n\r\n                    byte[] buf = new byte[4096];\r\n                    int bytesRead;\r\n                    while ((bytesRead = inputStream.read(buf)) &gt;= 0) {\r\n                        allReadBytesCount += bytesRead;\r\n                        outputStream.write(buf, 0, bytesRead);\r\n\r\n                        if (onePercent &gt; 0) {\r\n                            double percent = allReadBytesCount / (double) onePercent;\r\n                            updateProgress(percent, 100d);\r\n                        }\r\n\r\n                        if (this.isCancelled()) {\r\n                            return null;\r\n                        }\r\n                    }\r\n\r\n                    byte[] data = outputStream.toByteArray();\r\n                    String base64 = Base64.getEncoder().encodeToString(data);\r\n\r\n                    //JS Function declaration\r\n                    return &quot;openFileFromBase64(&#39;&quot; + base64 + &quot;&#39;);&quot;;\r\n                } finally {\r\n                    inputStream.close();\r\n                }\r\n            }\r\n        };\r\n        task.valueProperty().addListener((observable, oldValue, js) -&gt; {\r\n            if (js != null) {\r\n                try {\r\n                    webView.getEngine().executeScript(js);\r\n                } catch (Exception ex) {\r\n                    if (!pdfJsLoaded) loadScript = js;\r\n                }\r\n            }\r\n        });\r\n        return task;\r\n    }\r\n    @SuppressWarnings(&quot;all&quot;)\r\n    public void setSecondaryToolbarToggleVisibility(boolean value) {\r\n        setVisibilityOf(&quot;secondaryToolbarToggle&quot;, value);\r\n\r\n        String js;\r\n        if (value){\r\n            js = new StringBuilder()\r\n                    .append(&quot;var element = document.getElementsByClassName(&#39;verticalToolbarSeparator&#39;)[0];&quot;)\r\n                    .append(&quot;element.style.display = &#39;inherit&#39;;&quot;)\r\n                    .append(&quot;element.style.visibility = &#39;inherit&#39;;&quot;)\r\n                    .toString();\r\n        } else {\r\n            js = new StringBuilder()\r\n                    .append(&quot;var element = document.getElementsByClassName(&#39;verticalToolbarSeparator&#39;)[0];&quot;)\r\n                    .append(&quot;element.style.display = &#39;none&#39;;&quot;)\r\n                    .append(&quot;element.style.visibility = &#39;hidden&#39;;&quot;)\r\n                    .toString();\r\n        }\r\n\r\n        try {\r\n            webView.getEngine().executeScript(js);\r\n        } catch (Exception ex){\r\n            if (!pdfJsLoaded) toExecuteWhenPDFJSLoaded += js;\r\n        }\r\n    }\r\n\r\n    @SuppressWarnings(&quot;all&quot;)\r\n    public void setVisibilityOf(String id, boolean value){\r\n        String css;\r\n        if (value) {\r\n            css = new StringBuilder()\r\n                    .append(&quot;document.getElementById(&#39;&quot; + id + &quot;&#39;).style.display = &#39;inherit&#39;;&quot;)\r\n                    .append(&quot;document.getElementById(&#39;&quot; + id + &quot;&#39;).style.visibility = &#39;inherit&#39;;&quot;)\r\n                    .toString();\r\n        } else {\r\n            css = new StringBuilder()\r\n                    .append(&quot;document.getElementById(&#39;&quot; + id + &quot;&#39;).style.display = &#39;none&#39;;&quot;)\r\n                    .append(&quot;document.getElementById(&#39;&quot; + id + &quot;&#39;).style.visibility = &#39;hidden&#39;;&quot;)\r\n                    .toString();\r\n        }\r\n\r\n        try {\r\n            webView.getEngine().executeScript(css);\r\n        } catch (Exception ex) {\r\n            if (!pdfJsLoaded) this.toExecuteWhenPDFJSLoaded += css;\r\n        }\r\n    }\r\n\r\n    public int getActualPageNumber(){\r\n        try {\r\n            return (int) webView.getEngine().executeScript(&quot;PDFViewerApplication.page;&quot;);\r\n        } catch (Exception e) {\r\n            return 0;\r\n        }\r\n    }\r\n    private void showErrorDialog(String message, Exception ex) {\r\n        Alert alert = new Alert(Alert.AlertType.ERROR);\r\n        alert.setTitle(&quot;Error&quot;);\r\n        alert.setHeaderText(message);\r\n        alert.setContentText(ex.getMessage());\r\n        alert.showAndWait();\r\n    }\r\n    public int getTotalPageCount(){\r\n        try {\r\n            return (int) webView.getEngine().executeScript(&quot;PDFViewerApplication.pagesCount;&quot;);\r\n        } catch (Exception e) {\r\n            return 0;\r\n        }\r\n    }\r\n\r\n    public void navigateByPage(int pageNum) {\r\n        String jsCommand = &quot;goToPage(&quot; + pageNum + &quot;);&quot;;\r\n        try {\r\n            webView.getEngine().executeScript(jsCommand);\r\n        } catch (Exception ex) {\r\n            if (!pdfJsLoaded) toExecuteWhenPDFJSLoaded += jsCommand;\r\n        }\r\n    }\r\n\r\n    public void executeScript(String js) {\r\n        try {\r\n            this.webView.getEngine().executeScript(js);\r\n        } catch (Exception ex) {\r\n            if (!pdfJsLoaded) toExecuteWhenPDFJSLoaded += String.format(&quot;%s;&quot;, js);\r\n        }\r\n    }\r\n\r\n    private WebView createWebView() {\r\n        WebView webView = new WebView();\r\n        webView.setContextMenuEnabled(false);\r\n\r\n        WebEngine engine = webView.getEngine();\r\nString url;\r\n      try {\r\n            URL resourceUrl = getClass().getResource(&quot;/pdfjs_2.2.228/web/viewer.html&quot;);\r\n        engine.setJavaScriptEnabled(true);\r\n        engine.load(resourceUrl.toString());\r\n\r\n      } catch (Exception e1) {\r\n         // TODO Auto-generated catch block\r\n         e1.printStackTrace();\r\n      }\r\n        engine.getLoadWorker()\r\n                .stateProperty()\r\n                .addListener(\r\n                        new ChangeListener&lt;Worker.State&gt;() {\r\n                            @Override\r\n                            public void changed(ObservableValue&lt;? extends Worker.State&gt; observable, Worker.State oldValue, Worker.State newValue) {\r\n                                JSObject window = (JSObject) engine.executeScript(&quot;window&quot;);\r\n                                window.setMember(&quot;java&quot;, new JSLogListener());\r\n\r\n                                if (newValue == Worker.State.SUCCEEDED) {\r\n                                    try {\r\n                                       pdfJsLoaded = true;\r\n\r\n                                        if (loadScript != null) {\r\n                                            logger.debug(&quot;PDF already loaded&quot;);\r\n                                            engine.executeScript(loadScript);\r\n                                        }\r\n\r\n                                        engine.executeScript(toExecuteWhenPDFJSLoaded);\r\n                                        toExecuteWhenPDFJSLoaded = null;\r\n                                        observable.removeListener(this);\r\n                                    } catch (Exception e) {\r\n                                        throw new RuntimeException(e);\r\n                                    }\r\n                                }\r\n                            }\r\n                        });\r\n        return webView;\r\n    }\r\n\r\n    public Parent toNode() {\r\n        if (webView == null)\r\n            return webView = createWebView();\r\n        else\r\n            return webView;\r\n    }\r\n```\r\n\r\nI used Marven and artifact with jest dependency I used and the performance are the same \r\n\r\nI use openjdk18 and oracle  jdk18 the same result\r\n\r\n","title":"when run web view from the ide its fast but when run jar its so slow i use maven","body":"<p>my problem is when I try to display pdf in my JavaFX app, the pages load fast when I run from the ide</p>\n<p>but its to slow and show not respond, I set the heap to 3000mp without any difference</p>\n<p>I use the **<a href=\"https://github.com/Dansoftowner/PDFViewerFX\" rel=\"nofollow noreferrer\">PDFViewerFX</a> **library in my project and edit the buffering code to enhance performance,</p>\n<p>it's faster now in ide but nothing improved on the jar file,</p>\n<p>what could be the difference running in ide or jar?</p>\n<p>hear is the code to display pdf</p>\n<pre><code>    public void loadPDF(URL url) throws IOException {\n        loadPDF(new BufferedInputStream(url.openConnection().getInputStream()));\n    }\n    private static final Logger logger = LoggerFactory.getLogger(PDFDisplayer.class);\n    private static final int THREAD_POOL_SIZE = 5;\n\n    private static final ExecutorService THREAD_POOL = Executors.newFixedThreadPool(THREAD_POOL_SIZE, new ThreadFactory() {\n        private final ThreadGroup group = new ThreadGroup(&quot;my-thread-pool&quot;);\n        @Override\n        public Thread newThread(Runnable r) {\n            Thread t = new Thread(group, r, &quot;my-thread-&quot; + new AtomicInteger(1), 0);\n            t.setDaemon(false);\n            return t;\n        }\n    });\n\n\n    private final ObjectProperty&lt;Consumer&lt;Task&lt;String&gt;&gt;&gt; onLoaderTaskPresent =\n            new SimpleObjectProperty&lt;&gt;();\n\n    private boolean pdfJsLoaded;\n    public void loadPDF(InputStream inputStream) {\n        if (inputStream == null)\n            return;\n\n        Task&lt;String&gt; task = buildLoadingTask(inputStream);\n\n        final Consumer&lt;Task&lt;String&gt;&gt; onLoaderTaskPresent = this.onLoaderTaskPresent.get();\n        if (onLoaderTaskPresent != null) {\n            Platform.runLater(() -&gt; onLoaderTaskPresent.accept(task));\n        }\n        THREAD_POOL.submit(task);\n    }\n\n    /**\n     * @deprecated Use {@link #loadPDF(InputStream)} instead\n     */\n    @Deprecated\n    public void displayPdf(InputStream inputStream) throws IOException {\n        loadPDF(inputStream);\n    }\n    private void loadInputStream(InputStream inputStream) {\n        Task&lt;String&gt; loadingTask = buildLoadingTask(inputStream);\n        THREAD_POOL.submit(loadingTask);\n        loadingTask.setOnSucceeded(event -&gt; {\n            String js = loadingTask.getValue();\n            if (js != null) {\n                try {\n                    webView.getEngine().executeScript(js);\n                } catch (Exception ex) {\n                    if (!pdfJsLoaded) {\n                        loadScript = js;\n                    }\n                }\n            }\n            THREAD_POOL.shutdown();\n        });\n        loadingTask.setOnFailed(event -&gt; {\n            Throwable ex = event.getSource().getException();\n            if (ex != null) {\n                // Handle error more gracefully\n                showErrorDialog(&quot;Failed to execute script&quot;, (Exception) ex);\n            }\n        });\n    }\n\n\n    private Task&lt;String&gt; buildLoadingTask(InputStream inputStream) {\n        final Task&lt;String&gt; task = new Task&lt;String&gt;() {\n            @Override\n            protected String call() throws Exception {\n                try (ByteArrayOutputStream outputStream = new ByteArrayOutputStream()) {\n\n                    long contentSize = inputStream.available();\n                    long onePercent = contentSize / 100;\n\n                    int allReadBytesCount = 0;\n\n                    byte[] buf = new byte[4096];\n                    int bytesRead;\n                    while ((bytesRead = inputStream.read(buf)) &gt;= 0) {\n                        allReadBytesCount += bytesRead;\n                        outputStream.write(buf, 0, bytesRead);\n\n                        if (onePercent &gt; 0) {\n                            double percent = allReadBytesCount / (double) onePercent;\n                            updateProgress(percent, 100d);\n                        }\n\n                        if (this.isCancelled()) {\n                            return null;\n                        }\n                    }\n\n                    byte[] data = outputStream.toByteArray();\n                    String base64 = Base64.getEncoder().encodeToString(data);\n\n                    //JS Function declaration\n                    return &quot;openFileFromBase64('&quot; + base64 + &quot;');&quot;;\n                } finally {\n                    inputStream.close();\n                }\n            }\n        };\n        task.valueProperty().addListener((observable, oldValue, js) -&gt; {\n            if (js != null) {\n                try {\n                    webView.getEngine().executeScript(js);\n                } catch (Exception ex) {\n                    if (!pdfJsLoaded) loadScript = js;\n                }\n            }\n        });\n        return task;\n    }\n    @SuppressWarnings(&quot;all&quot;)\n    public void setSecondaryToolbarToggleVisibility(boolean value) {\n        setVisibilityOf(&quot;secondaryToolbarToggle&quot;, value);\n\n        String js;\n        if (value){\n            js = new StringBuilder()\n                    .append(&quot;var element = document.getElementsByClassName('verticalToolbarSeparator')[0];&quot;)\n                    .append(&quot;element.style.display = 'inherit';&quot;)\n                    .append(&quot;element.style.visibility = 'inherit';&quot;)\n                    .toString();\n        } else {\n            js = new StringBuilder()\n                    .append(&quot;var element = document.getElementsByClassName('verticalToolbarSeparator')[0];&quot;)\n                    .append(&quot;element.style.display = 'none';&quot;)\n                    .append(&quot;element.style.visibility = 'hidden';&quot;)\n                    .toString();\n        }\n\n        try {\n            webView.getEngine().executeScript(js);\n        } catch (Exception ex){\n            if (!pdfJsLoaded) toExecuteWhenPDFJSLoaded += js;\n        }\n    }\n\n    @SuppressWarnings(&quot;all&quot;)\n    public void setVisibilityOf(String id, boolean value){\n        String css;\n        if (value) {\n            css = new StringBuilder()\n                    .append(&quot;document.getElementById('&quot; + id + &quot;').style.display = 'inherit';&quot;)\n                    .append(&quot;document.getElementById('&quot; + id + &quot;').style.visibility = 'inherit';&quot;)\n                    .toString();\n        } else {\n            css = new StringBuilder()\n                    .append(&quot;document.getElementById('&quot; + id + &quot;').style.display = 'none';&quot;)\n                    .append(&quot;document.getElementById('&quot; + id + &quot;').style.visibility = 'hidden';&quot;)\n                    .toString();\n        }\n\n        try {\n            webView.getEngine().executeScript(css);\n        } catch (Exception ex) {\n            if (!pdfJsLoaded) this.toExecuteWhenPDFJSLoaded += css;\n        }\n    }\n\n    public int getActualPageNumber(){\n        try {\n            return (int) webView.getEngine().executeScript(&quot;PDFViewerApplication.page;&quot;);\n        } catch (Exception e) {\n            return 0;\n        }\n    }\n    private void showErrorDialog(String message, Exception ex) {\n        Alert alert = new Alert(Alert.AlertType.ERROR);\n        alert.setTitle(&quot;Error&quot;);\n        alert.setHeaderText(message);\n        alert.setContentText(ex.getMessage());\n        alert.showAndWait();\n    }\n    public int getTotalPageCount(){\n        try {\n            return (int) webView.getEngine().executeScript(&quot;PDFViewerApplication.pagesCount;&quot;);\n        } catch (Exception e) {\n            return 0;\n        }\n    }\n\n    public void navigateByPage(int pageNum) {\n        String jsCommand = &quot;goToPage(&quot; + pageNum + &quot;);&quot;;\n        try {\n            webView.getEngine().executeScript(jsCommand);\n        } catch (Exception ex) {\n            if (!pdfJsLoaded) toExecuteWhenPDFJSLoaded += jsCommand;\n        }\n    }\n\n    public void executeScript(String js) {\n        try {\n            this.webView.getEngine().executeScript(js);\n        } catch (Exception ex) {\n            if (!pdfJsLoaded) toExecuteWhenPDFJSLoaded += String.format(&quot;%s;&quot;, js);\n        }\n    }\n\n    private WebView createWebView() {\n        WebView webView = new WebView();\n        webView.setContextMenuEnabled(false);\n\n        WebEngine engine = webView.getEngine();\nString url;\n      try {\n            URL resourceUrl = getClass().getResource(&quot;/pdfjs_2.2.228/web/viewer.html&quot;);\n        engine.setJavaScriptEnabled(true);\n        engine.load(resourceUrl.toString());\n\n      } catch (Exception e1) {\n         // TODO Auto-generated catch block\n         e1.printStackTrace();\n      }\n        engine.getLoadWorker()\n                .stateProperty()\n                .addListener(\n                        new ChangeListener&lt;Worker.State&gt;() {\n                            @Override\n                            public void changed(ObservableValue&lt;? extends Worker.State&gt; observable, Worker.State oldValue, Worker.State newValue) {\n                                JSObject window = (JSObject) engine.executeScript(&quot;window&quot;);\n                                window.setMember(&quot;java&quot;, new JSLogListener());\n\n                                if (newValue == Worker.State.SUCCEEDED) {\n                                    try {\n                                       pdfJsLoaded = true;\n\n                                        if (loadScript != null) {\n                                            logger.debug(&quot;PDF already loaded&quot;);\n                                            engine.executeScript(loadScript);\n                                        }\n\n                                        engine.executeScript(toExecuteWhenPDFJSLoaded);\n                                        toExecuteWhenPDFJSLoaded = null;\n                                        observable.removeListener(this);\n                                    } catch (Exception e) {\n                                        throw new RuntimeException(e);\n                                    }\n                                }\n                            }\n                        });\n        return webView;\n    }\n\n    public Parent toNode() {\n        if (webView == null)\n            return webView = createWebView();\n        else\n            return webView;\n    }\n</code></pre>\n<p>I used Marven and artifact with jest dependency I used and the performance are the same</p>\n<p>I use openjdk18 and oracle  jdk18 the same result</p>\n"},{"tags":["java","automated-tests","appium","appium-android"],"answers":[{"tags":[],"owner":{"account_id":1379009,"reputation":1186,"user_id":1312415,"accept_rate":0,"display_name":"Mani"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1550201025,"creation_date":1550201025,"answer_id":54702280,"question_id":54698132,"body_markdown":"Following you can do scan:\r\n\r\n- keep you phone on stand back side you can put the QR code whenever the camera open it will scan\r\n\r\n- If that app supports the pick the QR code from gallery, you can pick from QR code picture from gallery\r\n\r\nSince Appium interacting with UI, it doesn&#39;t have access internal  components.\r\n\r\nAppium espresso might have the internal components like set drawable image and it comes with certain limitation  ","title":"Do I need to automate an app that Scan a QR, Is there an Appium function to send a specific QR from JAVA?","body":"<p>Following you can do scan:</p>\n\n<ul>\n<li><p>keep you phone on stand back side you can put the QR code whenever the camera open it will scan</p></li>\n<li><p>If that app supports the pick the QR code from gallery, you can pick from QR code picture from gallery</p></li>\n</ul>\n\n<p>Since Appium interacting with UI, it doesn't have access internal  components.</p>\n\n<p>Appium espresso might have the internal components like set drawable image and it comes with certain limitation  </p>\n"},{"tags":[],"owner":{"account_id":4877293,"reputation":6902,"user_id":3931985,"accept_rate":82,"display_name":"ekostadinov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1551087002,"creation_date":1551087002,"answer_id":54863066,"question_id":54698132,"body_markdown":"In case you have a \r\n\r\n&gt; QR code. Scenario\r\n\r\nthat needs to make sure that the end to end functioning of software is working fine, or specific business process flow of the software is working fine - I would say, that this should be covered. Maybe, the correct question is, does this need to be automated? \r\n\r\nI have done similar automated checks in JS, so I can only give you some design ideas. My scenario was involving a Barcode scanning in the middle of the test, so the way to achieve this without actual device, for me was to use [broadcast](https://riptutorial.com/android/example/10642/sending-broadcast). Sample code bellow:\r\n\r\n    adb shell am broadcast -a {your-app.action_scan} -c android.intent.category.DEFAULT --es com.symbol.datawedge.data_string {some-expected-string-as-barcode-value}\r\n\r\nNote that this approach relies on testability, that is designed alongside the dev team. In my case, it was OK for them to allow and receive such event. It was tricky to sync the event and the test flow, but at the end we got good coverage of this major functional area.","title":"Do I need to automate an app that Scan a QR, Is there an Appium function to send a specific QR from JAVA?","body":"<p>In case you have a </p>\n\n<blockquote>\n  <p>QR code. Scenario</p>\n</blockquote>\n\n<p>that needs to make sure that the end to end functioning of software is working fine, or specific business process flow of the software is working fine - I would say, that this should be covered. Maybe, the correct question is, does this need to be automated? </p>\n\n<p>I have done similar automated checks in JS, so I can only give you some design ideas. My scenario was involving a Barcode scanning in the middle of the test, so the way to achieve this without actual device, for me was to use <a href=\"https://riptutorial.com/android/example/10642/sending-broadcast\" rel=\"nofollow noreferrer\">broadcast</a>. Sample code bellow:</p>\n\n<pre><code>adb shell am broadcast -a {your-app.action_scan} -c android.intent.category.DEFAULT --es com.symbol.datawedge.data_string {some-expected-string-as-barcode-value}\n</code></pre>\n\n<p>Note that this approach relies on testability, that is designed alongside the dev team. In my case, it was OK for them to allow and receive such event. It was tricky to sync the event and the test flow, but at the end we got good coverage of this major functional area.</p>\n"}],"owner":{"account_id":11134813,"reputation":83,"user_id":8173660,"display_name":"Camilo Avila"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1562,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1679218785,"creation_date":1550174133,"question_id":54698132,"body_markdown":"I have an app that scan a QR code.&lt;br&gt;\r\nScenario:&lt;br&gt;\r\n1. Go to the app&lt;br&gt;\r\n2. Click on Scan button&lt;br&gt;\r\n3. Open the camera to scan a QR code\r\n\r\nMy question is: Can I &quot;Emulate&quot; the QR with Appium?\r\n\r\n","title":"Do I need to automate an app that Scan a QR, Is there an Appium function to send a specific QR from JAVA?","body":"<p>I have an app that scan a QR code.<br>\nScenario:<br></p>\n<ol>\n<li>Go to the app<br></li>\n<li>Click on Scan button<br></li>\n<li>Open the camera to scan a QR code</li>\n</ol>\n<p>My question is: Can I &quot;Emulate&quot; the QR with Appium?</p>\n"},{"tags":["java","unsatisfiedlinkerror","openblas","dl4j"],"answers":[{"tags":[],"owner":{"account_id":6647858,"reputation":3100,"user_id":5131255,"display_name":"Adam Gibson"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1514381596,"creation_date":1514381596,"answer_id":47993126,"question_id":47991481,"body_markdown":"nd4j-jblas isn&#39;t even a valid maven dependency. Where did you get that from exactly?\r\n\r\nWe don&#39;t have nd4j-jblas anywhere in our docs and it hasn&#39;t existed for nearly 2 years now. Stick to our getting started docs:\r\nhttp://deeplearning4j.org/quickstart\r\n\r\nWe explain what you need in there. Rather than messing with all the classifiers just use:\r\nnd4j-native-platform for the artifact id.\r\n\r\n","title":"DL4J UnsatisfiedLinkError: no jniopenblas in java.library.path","body":"<p>nd4j-jblas isn't even a valid maven dependency. Where did you get that from exactly?</p>\n\n<p>We don't have nd4j-jblas anywhere in our docs and it hasn't existed for nearly 2 years now. Stick to our getting started docs:\n<a href=\"http://deeplearning4j.org/quickstart\" rel=\"nofollow noreferrer\">http://deeplearning4j.org/quickstart</a></p>\n\n<p>We explain what you need in there. Rather than messing with all the classifiers just use:\nnd4j-native-platform for the artifact id.</p>\n"},{"tags":[],"owner":{"account_id":9087291,"reputation":693,"user_id":6764727,"display_name":"Rohith Joseph"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1522342294,"creation_date":1522342294,"answer_id":49561368,"question_id":47991481,"body_markdown":"I added these dependencies to my POM.xml file and it is working.\r\n\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;org.bytedeco.javacpp-presets&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;openblas&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.2.20-1.4&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.bytedeco.javacpp-presets&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;openblas-platform&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;0.2.20-1.4&lt;/version&gt;\r\n\t&lt;/dependency&gt;","title":"DL4J UnsatisfiedLinkError: no jniopenblas in java.library.path","body":"<p>I added these dependencies to my POM.xml file and it is working.</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.bytedeco.javacpp-presets&lt;/groupId&gt;\n    &lt;artifactId&gt;openblas&lt;/artifactId&gt;\n    &lt;version&gt;0.2.20-1.4&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;org.bytedeco.javacpp-presets&lt;/groupId&gt;\n    &lt;artifactId&gt;openblas-platform&lt;/artifactId&gt;\n    &lt;version&gt;0.2.20-1.4&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8589695,"reputation":531,"user_id":6434650,"display_name":"Muhammad Arslan Akhtar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1526026495,"creation_date":1526026495,"answer_id":50287952,"question_id":47991481,"body_markdown":"I was having the same issue and managed to solve it by adding the following path to your environment variable path: &quot;D:\\Users\\username\\\\.javacpp\\cache\\bin&quot;\r\n\r\nThe username and D:\\ will be specific to your machine e.g mine username is Arslan Akhtar so my path is D:\\Users\\Arslan Akhtar\\.javacpp\\cache\\bin\r\n\r\n\r\nOn your machine go to Edit the system environment variables =&gt; Then under System variables find the variable Path and select Edit =&gt; Then just append the above mentioned variable path at the end of the long string after adding semicolon (;) as a delimiter","title":"DL4J UnsatisfiedLinkError: no jniopenblas in java.library.path","body":"<p>I was having the same issue and managed to solve it by adding the following path to your environment variable path: \"D:\\Users\\username\\.javacpp\\cache\\bin\"</p>\n\n<p>The username and D:\\ will be specific to your machine e.g mine username is Arslan Akhtar so my path is D:\\Users\\Arslan Akhtar.javacpp\\cache\\bin</p>\n\n<p>On your machine go to Edit the system environment variables => Then under System variables find the variable Path and select Edit => Then just append the above mentioned variable path at the end of the long string after adding semicolon (;) as a delimiter</p>\n"},{"tags":[],"owner":{"account_id":3411471,"reputation":3358,"user_id":2861283,"accept_rate":20,"display_name":"Rakesh Chaudhari"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1528181706,"creation_date":1528181706,"answer_id":50693855,"question_id":47991481,"body_markdown":"According to doc https://deeplearning4j.org/quickstart \r\n\r\nIf you are using 64-bit java on the windows machine then you have to add the following as a VM parameter (Run -&gt; Edit Configurations -&gt; VM Options in IntelliJ):\r\n\r\n-Djava.library.path=&quot;&quot;","title":"DL4J UnsatisfiedLinkError: no jniopenblas in java.library.path","body":"<p>According to doc <a href=\"https://deeplearning4j.org/quickstart\" rel=\"nofollow noreferrer\">https://deeplearning4j.org/quickstart</a> </p>\n\n<p>If you are using 64-bit java on the windows machine then you have to add the following as a VM parameter (Run -> Edit Configurations -> VM Options in IntelliJ):</p>\n\n<p>-Djava.library.path=\"\"</p>\n"},{"tags":[],"owner":{"account_id":28056275,"reputation":1,"user_id":21431259,"display_name":"Pacific Poudel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679218582,"creation_date":1679218582,"answer_id":75781128,"question_id":47991481,"body_markdown":"I was getting the same error but it was solved by adding two new dependencies. It was a javacv dependency and a javacv-platform dependency you can get these dependencies at https://mvnrepository.com/. Don&#39;t forget to add dependencies with supporting versions. ","title":"DL4J UnsatisfiedLinkError: no jniopenblas in java.library.path","body":"<p>I was getting the same error but it was solved by adding two new dependencies. It was a javacv dependency and a javacv-platform dependency you can get these dependencies at <a href=\"https://mvnrepository.com/\" rel=\"nofollow noreferrer\">https://mvnrepository.com/</a>. Don't forget to add dependencies with supporting versions.</p>\n"}],"owner":{"account_id":3273973,"reputation":5791,"user_id":2756574,"accept_rate":89,"display_name":"Sebastian"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4646,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":47993126,"answer_count":5,"score":1,"last_activity_date":1679218582,"creation_date":1514374653,"question_id":47991481,"body_markdown":"I tried to set up a deeplearning4j project via gradle, but I get an UnsatisfiedLinkError:\r\n\r\n    Exception in thread &quot;main&quot; java.lang.UnsatisfiedLinkError: no jniopenblas in java.library.path\r\n    \tat java.lang.ClassLoader.loadLibrary(ClassLoader.java:1867)\r\n    \tat java.lang.Runtime.loadLibrary0(Runtime.java:870)\r\n    \tat java.lang.System.loadLibrary(System.java:1122)\r\n    \tat org.bytedeco.javacpp.Loader.loadLibrary(Loader.java:976)\r\n    \tat org.bytedeco.javacpp.Loader.load(Loader.java:777)\r\n    \tat org.bytedeco.javacpp.Loader.load(Loader.java:684)\r\n    \tat org.bytedeco.javacpp.openblas.&lt;clinit&gt;(openblas.java:10)\r\n    \tat org.nd4j.linalg.cpu.nativecpu.blas.CpuBlas.setMaxThreads(CpuBlas.java:117)\r\n    \tat org.nd4j.nativeblas.Nd4jBlas.&lt;init&gt;(Nd4jBlas.java:35)\r\n    \tat org.nd4j.linalg.cpu.nativecpu.blas.CpuBlas.&lt;init&gt;(CpuBlas.java:12)\r\n    \tat org.nd4j.linalg.cpu.nativecpu.CpuNDArrayFactory.createBlas(CpuNDArrayFactory.java:89)\r\n    \tat org.nd4j.linalg.factory.BaseNDArrayFactory.blas(BaseNDArrayFactory.java:67)\r\n    \tat org.nd4j.linalg.cpu.nativecpu.ops.NativeOpExecutioner.getEnvironmentInformation(NativeOpExecutioner.java:1176)\r\n    \tat org.nd4j.linalg.api.ops.executioner.DefaultOpExecutioner.printEnvironmentInformation(DefaultOpExecutioner.java:562)\r\n    \tat org.nd4j.linalg.factory.Nd4j.initWithBackend(Nd4j.java:6210)\r\n    \tat org.nd4j.linalg.factory.Nd4j.initContext(Nd4j.java:6087)\r\n    \tat org.nd4j.linalg.factory.Nd4j.&lt;clinit&gt;(Nd4j.java:201)\r\n    \tat org.deeplearning4j.nn.conf.NeuralNetConfiguration$Builder.seed(NeuralNetConfiguration.java:777)\r\n    \tat my.project.NeuralNetwork.main(NeuralNetwork.java:43)\r\n    Caused by: java.lang.UnsatisfiedLinkError: no openblas in java.library.path\r\n    \tat java.lang.ClassLoader.loadLibrary(ClassLoader.java:1867)\r\n    \tat java.lang.Runtime.loadLibrary0(Runtime.java:870)\r\n    \tat java.lang.System.loadLibrary(System.java:1122)\r\n    \tat org.bytedeco.javacpp.Loader.loadLibrary(Loader.java:976)\r\n    \tat org.bytedeco.javacpp.Loader.load(Loader.java:765)\r\n    \t... 14 more\r\n\r\nMy dependencies look like:\r\n\r\n    dependencies {\r\n        compile group: &#39;org.deeplearning4j&#39;, name: &#39;deeplearning4j-core&#39;, version: &#39;0.9.1&#39;\r\n        compile group: &#39;org.deeplearning4j&#39;, name: &#39;rl4j&#39;, version: &#39;0.9.1&#39;\r\n        compile group: &#39;org.nd4j&#39;, name: &#39;nd4j-native&#39;, version: &#39;0.9.1&#39;\r\n        compile group: &#39;org.nd4j&#39;, name: &#39;nd4j-jblas&#39;, version: &#39;0.9.1&#39;\r\n        compile group: &#39;org.nd4j&#39;, name: &#39;nd4j-api&#39;, version: &#39;0.9.1&#39;\r\n        compile &#39;org.nd4j:nd4j-native:0.9.1:windows-x86_64&#39;\r\n    }\r\n\r\nI&#39;ve also tried to add\r\n\r\n    compile group: &#39;org.bytedeco.javacpp-presets&#39;, name: &#39;openblas&#39;, version: &#39;0.2.20-1.3&#39;\r\n\r\nbut that didn&#39;t help.\r\n\r\nDo I need to install OpenBlas? I didn&#39;t read such a thing in the [Quick Start Guide for deeplearning4j][1]. OS is Win10, IDE is IntelliJ Community Edition.\r\n\r\n\r\n  [1]: https://deeplearning4j.org/quickstart","title":"DL4J UnsatisfiedLinkError: no jniopenblas in java.library.path","body":"<p>I tried to set up a deeplearning4j project via gradle, but I get an UnsatisfiedLinkError:</p>\n\n<pre><code>Exception in thread \"main\" java.lang.UnsatisfiedLinkError: no jniopenblas in java.library.path\n    at java.lang.ClassLoader.loadLibrary(ClassLoader.java:1867)\n    at java.lang.Runtime.loadLibrary0(Runtime.java:870)\n    at java.lang.System.loadLibrary(System.java:1122)\n    at org.bytedeco.javacpp.Loader.loadLibrary(Loader.java:976)\n    at org.bytedeco.javacpp.Loader.load(Loader.java:777)\n    at org.bytedeco.javacpp.Loader.load(Loader.java:684)\n    at org.bytedeco.javacpp.openblas.&lt;clinit&gt;(openblas.java:10)\n    at org.nd4j.linalg.cpu.nativecpu.blas.CpuBlas.setMaxThreads(CpuBlas.java:117)\n    at org.nd4j.nativeblas.Nd4jBlas.&lt;init&gt;(Nd4jBlas.java:35)\n    at org.nd4j.linalg.cpu.nativecpu.blas.CpuBlas.&lt;init&gt;(CpuBlas.java:12)\n    at org.nd4j.linalg.cpu.nativecpu.CpuNDArrayFactory.createBlas(CpuNDArrayFactory.java:89)\n    at org.nd4j.linalg.factory.BaseNDArrayFactory.blas(BaseNDArrayFactory.java:67)\n    at org.nd4j.linalg.cpu.nativecpu.ops.NativeOpExecutioner.getEnvironmentInformation(NativeOpExecutioner.java:1176)\n    at org.nd4j.linalg.api.ops.executioner.DefaultOpExecutioner.printEnvironmentInformation(DefaultOpExecutioner.java:562)\n    at org.nd4j.linalg.factory.Nd4j.initWithBackend(Nd4j.java:6210)\n    at org.nd4j.linalg.factory.Nd4j.initContext(Nd4j.java:6087)\n    at org.nd4j.linalg.factory.Nd4j.&lt;clinit&gt;(Nd4j.java:201)\n    at org.deeplearning4j.nn.conf.NeuralNetConfiguration$Builder.seed(NeuralNetConfiguration.java:777)\n    at my.project.NeuralNetwork.main(NeuralNetwork.java:43)\nCaused by: java.lang.UnsatisfiedLinkError: no openblas in java.library.path\n    at java.lang.ClassLoader.loadLibrary(ClassLoader.java:1867)\n    at java.lang.Runtime.loadLibrary0(Runtime.java:870)\n    at java.lang.System.loadLibrary(System.java:1122)\n    at org.bytedeco.javacpp.Loader.loadLibrary(Loader.java:976)\n    at org.bytedeco.javacpp.Loader.load(Loader.java:765)\n    ... 14 more\n</code></pre>\n\n<p>My dependencies look like:</p>\n\n<pre><code>dependencies {\n    compile group: 'org.deeplearning4j', name: 'deeplearning4j-core', version: '0.9.1'\n    compile group: 'org.deeplearning4j', name: 'rl4j', version: '0.9.1'\n    compile group: 'org.nd4j', name: 'nd4j-native', version: '0.9.1'\n    compile group: 'org.nd4j', name: 'nd4j-jblas', version: '0.9.1'\n    compile group: 'org.nd4j', name: 'nd4j-api', version: '0.9.1'\n    compile 'org.nd4j:nd4j-native:0.9.1:windows-x86_64'\n}\n</code></pre>\n\n<p>I've also tried to add</p>\n\n<pre><code>compile group: 'org.bytedeco.javacpp-presets', name: 'openblas', version: '0.2.20-1.3'\n</code></pre>\n\n<p>but that didn't help.</p>\n\n<p>Do I need to install OpenBlas? I didn't read such a thing in the <a href=\"https://deeplearning4j.org/quickstart\" rel=\"nofollow noreferrer\">Quick Start Guide for deeplearning4j</a>. OS is Win10, IDE is IntelliJ Community Edition.</p>\n"},{"tags":["java","spring","spring-mvc"],"comments":[{"owner":{"account_id":1336108,"reputation":8046,"user_id":1278839,"accept_rate":69,"display_name":"CodeChimp"},"score":1,"creation_date":1534852652,"post_id":51948122,"comment_id":90845781,"body_markdown":"I think [this](https://stackoverflow.com/questions/14827895/which-way-for-restful-webservice-spring-ws-payloads-or-spring-3-mvc-rest-contro) might answer your question.","body":"I think <a href=\"https://stackoverflow.com/questions/14827895/which-way-for-restful-webservice-spring-ws-payloads-or-spring-3-mvc-rest-contro\">this</a> might answer your question."},{"owner":{"account_id":8781643,"reputation":25950,"user_id":6565093,"accept_rate":47,"display_name":"pvpkiran"},"score":2,"creation_date":1534852796,"post_id":51948122,"comment_id":90845894,"body_markdown":"`@ResponsePayload` is SOAP equivalent of `@ResponseBody` in REST","body":"<code>@ResponsePayload</code> is SOAP equivalent of <code>@ResponseBody</code> in REST"},{"owner":{"account_id":10502057,"reputation":1384,"user_id":9796217,"display_name":"sticky_elbows"},"score":0,"creation_date":1534853085,"post_id":51948122,"comment_id":90846060,"body_markdown":"Thank you for the input guys.","body":"Thank you for the input guys."}],"answers":[{"tags":[],"owner":{"account_id":28003673,"reputation":1,"user_id":21387431,"display_name":"cubxwbr99"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679218388,"creation_date":1678778646,"answer_id":75730106,"question_id":51948122,"body_markdown":"It is the annotation for SOAP response body.\r\nIn restController, we have `@ResponseBody`, we have `@ResponsePayload` in SOAP controller(`@Endpoint`).","title":"What is the purpose of @ResponsePayload in the method header - spring","body":"<p>It is the annotation for SOAP response body.\nIn restController, we have <code>@ResponseBody</code>, we have <code>@ResponsePayload</code> in SOAP controller(<code>@Endpoint</code>).</p>\n"}],"owner":{"account_id":10502057,"reputation":1384,"user_id":9796217,"display_name":"sticky_elbows"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2693,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679218388,"creation_date":1534852548,"question_id":51948122,"body_markdown":"I am trying to develop a web service similar to one I have already (developed by somebody else), and to do that I need to understand the purpose `@ResponsePayload` in the method header. I have something like this:\r\n\r\n    @PayloadRoot(localPart=&quot;get-documentList-request&quot;, namespace=&quot;http://www.foo.com/bar/ws/model/&quot;)\r\n    public @ResponsePayload DocumentListResponse getDocumentList(@RequestPayload GetDocumentListRequest documentList) throws DatatypeConfigurationException{\r\n           //\r\n    }\r\nSo what does the `@ResponsePayload` in the method header do?","title":"What is the purpose of @ResponsePayload in the method header - spring","body":"<p>I am trying to develop a web service similar to one I have already (developed by somebody else), and to do that I need to understand the purpose <code>@ResponsePayload</code> in the method header. I have something like this:</p>\n\n<pre><code>@PayloadRoot(localPart=\"get-documentList-request\", namespace=\"http://www.foo.com/bar/ws/model/\")\npublic @ResponsePayload DocumentListResponse getDocumentList(@RequestPayload GetDocumentListRequest documentList) throws DatatypeConfigurationException{\n       //\n}\n</code></pre>\n\n<p>So what does the <code>@ResponsePayload</code> in the method header do?</p>\n"},{"tags":["java","json","if-statement","testng","rest-assured"],"comments":[{"owner":{"account_id":11380920,"reputation":8254,"user_id":8343843,"display_name":"Alexey R."},"score":0,"creation_date":1676026534,"post_id":75407339,"comment_id":133058761,"body_markdown":"Can you show your json with mentioning what to put to spreadsheet and what not? Also did you analyze which part exactly consumes the time?","body":"Can you show your json with mentioning what to put to spreadsheet and what not? Also did you analyze which part exactly consumes the time?"}],"answers":[{"tags":[],"owner":{"account_id":27345207,"reputation":81,"user_id":20855204,"display_name":"Sarkar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679218199,"creation_date":1678647866,"answer_id":75715685,"question_id":75407339,"body_markdown":"If you know how many array elements you got back, like for example `data.test1[0]`, `data.test1[1]` and `data.test1[2]`, you can use a loop to do something for all the indexes like this:\r\n```java\r\nfor(int i = 0; i &lt; 3; i++){\r\n\tif(response.path(&quot;data.test1[&quot;+Integer.toString(i)+&quot;]&quot;)!= null){\r\n\t\trowResults.createCell(i+1).setCellValue(response.path(&quot;data.test1[&quot;+Integer.toString(i)+&quot;]&quot;).toString());\r\n   }\r\n}\r\n```\r\nAnd if you know how many suffixes are after `test` like `data.test1[0]`, `data.test1[1]`, `data.test1[2]`, `data.test2[0]`, ..., you can use nested loops like this:\r\n```java\r\nint count = 1;\r\nfor (int i = 1; i &lt;= 2; i++) {\r\n\tfor (int j = 0; j &lt; 3; j++) {\r\n\t\tif (response.path(&quot;data.test&quot;+Integer.toString(i)+&quot;[&quot; + Integer.toString(j) + &quot;]&quot;) != null) {\r\n\t\t\trowResults.createCell(count++).setCellValue(response.path(&quot;data.test&quot;+Integer.toString(i)+&quot;[&quot; + Integer.toString(j) + &quot;]&quot;).toString());\r\n\t\t}\r\n\t}\r\n}\r\n```","title":"Multiple Java IF statement writing a JSON response to Excel using Apache Poi XSSF","body":"<p>If you know how many array elements you got back, like for example <code>data.test1[0]</code>, <code>data.test1[1]</code> and <code>data.test1[2]</code>, you can use a loop to do something for all the indexes like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>for(int i = 0; i &lt; 3; i++){\n    if(response.path(&quot;data.test1[&quot;+Integer.toString(i)+&quot;]&quot;)!= null){\n        rowResults.createCell(i+1).setCellValue(response.path(&quot;data.test1[&quot;+Integer.toString(i)+&quot;]&quot;).toString());\n   }\n}\n</code></pre>\n<p>And if you know how many suffixes are after <code>test</code> like <code>data.test1[0]</code>, <code>data.test1[1]</code>, <code>data.test1[2]</code>, <code>data.test2[0]</code>, ..., you can use nested loops like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>int count = 1;\nfor (int i = 1; i &lt;= 2; i++) {\n    for (int j = 0; j &lt; 3; j++) {\n        if (response.path(&quot;data.test&quot;+Integer.toString(i)+&quot;[&quot; + Integer.toString(j) + &quot;]&quot;) != null) {\n            rowResults.createCell(count++).setCellValue(response.path(&quot;data.test&quot;+Integer.toString(i)+&quot;[&quot; + Integer.toString(j) + &quot;]&quot;).toString());\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":10565898,"reputation":165,"user_id":7784157,"display_name":"Flenters"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679218199,"creation_date":1676007474,"question_id":75407339,"body_markdown":"I have a test that returns a JSON response some if the responses might return nulls depending on the tests for example the response path will look like\r\n\r\ndata.test1[0]\r\n\r\ndata.test1[1]\r\n\r\ndata.test1[2]\r\n\r\ndata.test2[0]\r\n\r\ndata.test2[0]\r\n\r\ndata.test2[0]\r\n\r\n\r\nThe response that is returned is very big and almost 400 lines worth of data.test \r\n\r\nSo what I have done is a basic if to check if the response is not null then wright to excel. This is working but it made the tests extremely slow.\r\n\r\nIf statement that works :\r\n\r\n\r\n```\r\nif(response.path(&quot;data.test1[0]&quot; )!= null){    \r\nXSSFCell dataTest1 = rowResults.createCell(1);\r\n   dataTest1.setCellValue(response.path(&quot;data.test1[0]&quot;).toString());\r\n}\r\n```\r\n\r\n```\r\nif(response.path(&quot;data.test1[1]&quot; )!= null){    \r\nXSSFCell dataTest2 = rowResults.createCell(2);\r\n  dataTest1.setCellValue(response.path(&quot;data.test1[1]&quot;).toString());\r\n}\r\n```\r\n\r\n\r\nI created this if multiple times for each response data. But like I said this has made it very slow I even tried change to SXSSF Apache POI but did not make a difference. \r\n\r\nI have also tried bundling the IF statement but then I get null pointer exception I tried the below\r\n\r\n\r\n```\r\nif(response.path(&quot;data.test1&quot; )!= null){    \r\nXSSFCell dataTest1 = rowResults.createCell(1);\r\n dataTest1.setCellValue(response.path(&quot;data.test1[0]&quot;).toString());\r\n\r\nXSSFCell dataTest2 = rowResults.createCell(2); \r\ndataTest1.setCellValue(response.path(&quot;data.test1[1]&quot;).toString());\r\n}\r\n```\r\n\r\n\r\nDo you have any suggestion to check if a JSON response is null but on an array I am not sure what the best is but any advise or suggestions would be appreciated.","title":"Multiple Java IF statement writing a JSON response to Excel using Apache Poi XSSF","body":"<p>I have a test that returns a JSON response some if the responses might return nulls depending on the tests for example the response path will look like</p>\n<p>data.test1[0]</p>\n<p>data.test1[1]</p>\n<p>data.test1[2]</p>\n<p>data.test2[0]</p>\n<p>data.test2[0]</p>\n<p>data.test2[0]</p>\n<p>The response that is returned is very big and almost 400 lines worth of data.test</p>\n<p>So what I have done is a basic if to check if the response is not null then wright to excel. This is working but it made the tests extremely slow.</p>\n<p>If statement that works :</p>\n<pre><code>if(response.path(&quot;data.test1[0]&quot; )!= null){    \nXSSFCell dataTest1 = rowResults.createCell(1);\n   dataTest1.setCellValue(response.path(&quot;data.test1[0]&quot;).toString());\n}\n</code></pre>\n<pre><code>if(response.path(&quot;data.test1[1]&quot; )!= null){    \nXSSFCell dataTest2 = rowResults.createCell(2);\n  dataTest1.setCellValue(response.path(&quot;data.test1[1]&quot;).toString());\n}\n</code></pre>\n<p>I created this if multiple times for each response data. But like I said this has made it very slow I even tried change to SXSSF Apache POI but did not make a difference.</p>\n<p>I have also tried bundling the IF statement but then I get null pointer exception I tried the below</p>\n<pre><code>if(response.path(&quot;data.test1&quot; )!= null){    \nXSSFCell dataTest1 = rowResults.createCell(1);\n dataTest1.setCellValue(response.path(&quot;data.test1[0]&quot;).toString());\n\nXSSFCell dataTest2 = rowResults.createCell(2); \ndataTest1.setCellValue(response.path(&quot;data.test1[1]&quot;).toString());\n}\n</code></pre>\n<p>Do you have any suggestion to check if a JSON response is null but on an array I am not sure what the best is but any advise or suggestions would be appreciated.</p>\n"},{"tags":["java","mybatis","spring-mybatis","mybatis-mapper"],"comments":[{"owner":{"account_id":1314580,"reputation":3289,"user_id":1261766,"display_name":"ave"},"score":0,"creation_date":1679255843,"post_id":75780761,"comment_id":133684552,"body_markdown":"Type handler maps one column value to one property, and vice versa. It&#39;s unclear if it fits your use case because you didn&#39;t post any information about the result set or mapper statement. Also, such usage of generics requires rather cumbersome configuration partly because of type erasure. If possible, you should create a new class for each type parameter e.g. `class StringColumn extends ColumnWrapper&lt;String&gt; {}`.","body":"Type handler maps one column value to one property, and vice versa. It&#39;s unclear if it fits your use case because you didn&#39;t post any information about the result set or mapper statement. Also, such usage of generics requires rather cumbersome configuration partly because of type erasure. If possible, you should create a new class for each type parameter e.g. <code>class StringColumn extends ColumnWrapper&lt;String&gt; {}</code>."}],"owner":{"account_id":9641278,"reputation":1707,"user_id":7155432,"display_name":"VaibS"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679217624,"creation_date":1679213334,"question_id":75780761,"body_markdown":"We&#39;re using MyBatis with XMLs to map DB tables to Java POJOs. I&#39;m facing an issue because we&#39;ve a wrapper class for POJO fields. The structure is as follows:\r\n\r\nWrapper class:\r\n\r\n    class ColumnWrapper&lt;T&gt; {\r\n        T value;\r\n        T nextValue;\r\n    }\r\n\r\nClass to be mapped with DB table:\r\n\r\n    class ParentClass {\r\n        ColumnWrapper&lt;String&gt; stringField;\r\n        ColumnWrapper&lt;CompositeClass&gt; compositeClass;\r\n        ... other fields and getter/setters\r\n    }\r\n\r\nComposite class is a simple POJO:\r\n\r\n    class CompositeClass {\r\n        String compositeField1;\r\n        Integer compositeField2;\r\n    }\r\n\r\nI wrote a TypeHandler for `ColumnWrapper&lt;String&gt;` and it is working fine for `stringField`. But I&#39;m not able to map `ColumnWrapper&lt;CompositeClass&gt; compositeClass` field. I tried creating TypeHandler for it but it&#39;s not working. Can anyone please help with it?","title":"How to map composite class with generic in MyBatis?","body":"<p>We're using MyBatis with XMLs to map DB tables to Java POJOs. I'm facing an issue because we've a wrapper class for POJO fields. The structure is as follows:</p>\n<p>Wrapper class:</p>\n<pre><code>class ColumnWrapper&lt;T&gt; {\n    T value;\n    T nextValue;\n}\n</code></pre>\n<p>Class to be mapped with DB table:</p>\n<pre><code>class ParentClass {\n    ColumnWrapper&lt;String&gt; stringField;\n    ColumnWrapper&lt;CompositeClass&gt; compositeClass;\n    ... other fields and getter/setters\n}\n</code></pre>\n<p>Composite class is a simple POJO:</p>\n<pre><code>class CompositeClass {\n    String compositeField1;\n    Integer compositeField2;\n}\n</code></pre>\n<p>I wrote a TypeHandler for <code>ColumnWrapper&lt;String&gt;</code> and it is working fine for <code>stringField</code>. But I'm not able to map <code>ColumnWrapper&lt;CompositeClass&gt; compositeClass</code> field. I tried creating TypeHandler for it but it's not working. Can anyone please help with it?</p>\n"},{"tags":["java","jvm","stanford-nlp"],"comments":[{"owner":{"account_id":84539,"reputation":9538,"user_id":236247,"accept_rate":86,"display_name":"demongolem"},"score":0,"creation_date":1507910565,"post_id":27134622,"comment_id":80414219,"body_markdown":"I just trained one where 5g gave the same error, but 6g worked.","body":"I just trained one where 5g gave the same error, but 6g worked."}],"answers":[{"tags":[],"owner":{"account_id":4610714,"reputation":708,"user_id":4067134,"display_name":"Charlie Greenbacker"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1417031599,"creation_date":1417031599,"answer_id":27157777,"question_id":27134622,"body_markdown":"Shouldn&#39;t that be **-Xmx4g** not -mx4g?","title":"Memory requirements for Stanford NER retraining","body":"<p>Shouldn't that be <strong>-Xmx4g</strong> not -mx4g?</p>\n"},{"tags":[],"owner":{"account_id":87230,"reputation":36816,"user_id":242042,"accept_rate":57,"display_name":"Archimedes Trajano"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1417031801,"creation_date":1417031801,"answer_id":27157832,"question_id":27134622,"body_markdown":"If you are going to do analysis on non-transactional data sets you may want to use another tool like Elasticsearch (simpler) or Hadoop (exponentially more complicated).  MongoDB is a good middleground as well.","title":"Memory requirements for Stanford NER retraining","body":"<p>If you are going to do analysis on non-transactional data sets you may want to use another tool like Elasticsearch (simpler) or Hadoop (exponentially more complicated).  MongoDB is a good middleground as well.</p>\n"},{"tags":[],"owner":{"account_id":1589853,"reputation":5729,"user_id":1473431,"display_name":"Gabor Angeli"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1417401676,"creation_date":1417401676,"answer_id":27220936,"question_id":27134622,"body_markdown":"Sorry for getting to this a bit late! I suspect the problem is the input format of the file; in particular, my first guess is that the file is being treated as a single long sentence.\r\n\r\nThe expected format of the training file is in the CoNLL format, which means each line of the file is a new token, and the end of a sentence is denoted by a double newline. So, for example, a file could look like:\r\n\r\n&lt;pre&gt;\r\nCats  O\r\nhave  O\r\ntails  O\r\n.  O\r\n\r\nFelix  ANIMAL\r\nis  O\r\na  O\r\ncat  O\r\n.  O\r\n&lt;/pre&gt;\r\n\r\nCould you let me know if it&#39;s indeed in this format? If so, could you include a stack trace of the error, and the properties file you are using? Does it work if you run on just the first few sentences of the file?\r\n\r\n--Gabor","title":"Memory requirements for Stanford NER retraining","body":"<p>Sorry for getting to this a bit late! I suspect the problem is the input format of the file; in particular, my first guess is that the file is being treated as a single long sentence.</p>\n\n<p>The expected format of the training file is in the CoNLL format, which means each line of the file is a new token, and the end of a sentence is denoted by a double newline. So, for example, a file could look like:</p>\n\n<pre>\nCats  O\nhave  O\ntails  O\n.  O\n\nFelix  ANIMAL\nis  O\na  O\ncat  O\n.  O\n</pre>\n\n<p>Could you let me know if it's indeed in this format? If so, could you include a stack trace of the error, and the properties file you are using? Does it work if you run on just the first few sentences of the file?</p>\n\n<p>--Gabor</p>\n"},{"tags":[],"owner":{"account_id":5349261,"reputation":581,"user_id":4263827,"display_name":"Sonal Gupta"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1417410843,"creation_date":1417410843,"answer_id":27222084,"question_id":27134622,"body_markdown":"One way you can try reducing number of classes is to not use B-I notation. For example, club B-facility and I-facility into facility. Of course, another way it to use a bigger memory machine.","title":"Memory requirements for Stanford NER retraining","body":"<p>One way you can try reducing number of classes is to not use B-I notation. For example, club B-facility and I-facility into facility. Of course, another way it to use a bigger memory machine.</p>\n"},{"tags":[],"owner":{"account_id":10033605,"reputation":23,"user_id":7419141,"display_name":"Puli Poorna Shekar Reddy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1528111969,"creation_date":1528111969,"answer_id":50679612,"question_id":27134622,"body_markdown":"First uninstall the existing java jdk and reinstall again.  \r\nThen you can use the heap size as much as you can based on your hard disk size.  \r\nIn the term &quot;-mx4g&quot; 4g is not the RAM it is the heap size.  \r\nEven I Faced the same error initially. after doing this it is gone.  \r\nEven I misunderstood 4g as RAM initially.\r\n\r\nNow I am able to start my server even with 100g of heap size.\r\n\r\nNext,\r\nInstead of using Customised NER model, I suggest you to use Custom RegexNER Model with which you can add millions of words of same entity name within in a single document too.  \r\nThese 2 errors I faced initially.\r\n\r\nFor any queries comment below.","title":"Memory requirements for Stanford NER retraining","body":"<p>First uninstall the existing java jdk and reinstall again.<br>\nThen you can use the heap size as much as you can based on your hard disk size.<br>\nIn the term \"-mx4g\" 4g is not the RAM it is the heap size.<br>\nEven I Faced the same error initially. after doing this it is gone.<br>\nEven I misunderstood 4g as RAM initially.</p>\n\n<p>Now I am able to start my server even with 100g of heap size.</p>\n\n<p>Next,\nInstead of using Customised NER model, I suggest you to use Custom RegexNER Model with which you can add millions of words of same entity name within in a single document too.<br>\nThese 2 errors I faced initially.</p>\n\n<p>For any queries comment below.</p>\n"},{"tags":[],"owner":{"account_id":18345860,"reputation":1,"user_id":13361061,"display_name":"Nishant Sushmakar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679215539,"creation_date":1679215539,"answer_id":75780925,"question_id":27134622,"body_markdown":" You Can Try to Reduce the Number of Threads as each Thread takes a lot of memory `multiThreadGrad=4` put this in your Properties File , play around with the number the lower the number of thread the slower the training process will be but you will most likely be able to train with your desired labels.\r\n ","title":"Memory requirements for Stanford NER retraining","body":"<p>You Can Try to Reduce the Number of Threads as each Thread takes a lot of memory <code>multiThreadGrad=4</code> put this in your Properties File , play around with the number the lower the number of thread the slower the training process will be but you will most likely be able to train with your desired labels.</p>\n"}],"owner":{"account_id":4031289,"reputation":107,"user_id":3851615,"accept_rate":36,"display_name":"Shruti"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1685,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":6,"score":2,"last_activity_date":1679215539,"creation_date":1416942105,"question_id":27134622,"body_markdown":"I am retraining the Stanford NER model on my own training data for extracting organizations. But, whether I use a 4GB RAM machine or an 8GB RAM machine, I get the same Java heap space error.\r\n\r\nCould anyone tell what is the general configuration of machines on which we can retrain the models without getting these memory issues?\r\n\r\nI used the following command :\r\n\r\n     java -mx4g -cp stanford-ner.jar edu.stanford.nlp.ie.crf.CRFClassifier -prop newdata_retrain.prop\r\n\r\n\r\nI am working with training data (multiple files - each file has about 15000 lines in the following format) - one word and its category on each line\r\n\r\nShe     O\r\nis      O\r\nworking     O\r\nat     O\r\nMicrosoft      ORGANIZATION\r\n\r\nIs there anything else we could do to make these models run reliably ? I did try with reducing the number of classes in my training data. But that is impacting the accuracy of extraction. For example, some locations or other entities are getting classified as organization names. Can we reduce specific number of classes without impact on accuracy ? \r\n\r\nOne data I am using is the Alan Ritter twitter nlp data : https://github.com/aritter/twitter_nlp/tree/master/data/annotated/ner.txt\r\n\r\nThe properties file looks like this:\r\n\r\n    #location of the training file\r\n    trainFile = ner.txt\r\n    #location where you would like to save (serialize to) your\r\n    #classifier; adding .gz at the end automatically gzips the file,\r\n    #making it faster and smaller\r\n    serializeTo = ner-model-twitter.ser.gz\r\n    \r\n    #structure of your training file; this tells the classifier\r\n    #that the word is in column 0 and the correct answer is in\r\n    #column 1\r\n    map = word=0,answer=1\r\n    \r\n    #these are the features we&#39;d like to train with\r\n    #some are discussed below, the rest can be\r\n    #understood by looking at NERFeatureFactory\r\n    useClassFeature=true\r\n    useWord=true\r\n    useNGrams=true\r\n    #no ngrams will be included that do not contain either the\r\n    #beginning or end of the word\r\n    noMidNGrams=true\r\n    useDisjunctive=true\r\n    maxNGramLeng=6\r\n    usePrev=true\r\n    useNext=true\r\n    useSequences=true\r\n    usePrevSequences=true\r\n    maxLeft=1\r\n    #the next 4 deal with word shape features\r\n    useTypeSeqs=true\r\n    useTypeSeqs2=true\r\n    useTypeySequences=true\r\n    wordShape=chris2useLC\r\n    saveFeatureIndexToDisk = true\r\n\r\nThe error I am getting : the stacktrace is this :\r\n\r\n    CRFClassifier invoked on Mon Dec 01 02:55:22 UTC 2014 with arguments:\r\n       -prop twitter_retrain.prop\r\n    usePrevSequences=true\r\n    useClassFeature=true\r\n    useTypeSeqs2=true\r\n    useSequences=true\r\n    wordShape=chris2useLC\r\n    saveFeatureIndexToDisk=true\r\n    useTypeySequences=true\r\n    useDisjunctive=true\r\n    noMidNGrams=true\r\n    serializeTo=ner-model-twitter.ser.gz\r\n    maxNGramLeng=6\r\n    useNGrams=true\r\n    usePrev=true\r\n    useNext=true\r\n    maxLeft=1\r\n    trainFile=ner.txt\r\n    map=word=0,answer=1\r\n    useWord=true\r\n    useTypeSeqs=true\r\n    [1000][2000]numFeatures = 215032\r\n    setting nodeFeatureIndicesMap, size=149877\r\n    setting edgeFeatureIndicesMap, size=65155\r\n    Time to convert docs to feature indices: 4.4 seconds\r\n    numClasses: 21 [0=O,1=B-facility,2=I-facility,3=B-other,4=I-other,5=B-company,6=B-person,7=B-tvshow,8=B-product,9=B-sportsteam,10=I-person,11=B-geo-loc,12=B-movie,13=I-movie,14=I-tvshow,15=I-company,16=B-musicartist,17=I-musicartist,18=I-geo-loc,19=I-product,20=I-sportsteam]\r\n    numDocuments: 2394\r\n    numDatums: 46469\r\n    numFeatures: 215032\r\n    Time to convert docs to data/labels: 2.5 seconds\r\n    Writing feature index to temporary file.\r\n    numWeights: 31880772\r\n    QNMinimizer called on double function of 31880772 variables, using M = 25.\r\n    Exception in thread &quot;main&quot; java.lang.OutOfMemoryError: Java heap space\r\n            at edu.stanford.nlp.optimization.QNMinimizer.minimize(QNMinimizer.java:923)\r\n            at edu.stanford.nlp.optimization.QNMinimizer.minimize(QNMinimizer.java:885)\r\n            at edu.stanford.nlp.optimization.QNMinimizer.minimize(QNMinimizer.java:879)\r\n            at edu.stanford.nlp.optimization.QNMinimizer.minimize(QNMinimizer.java:91)\r\n            at edu.stanford.nlp.ie.crf.CRFClassifier.trainWeights(CRFClassifier.java:1911)\r\n            at edu.stanford.nlp.ie.crf.CRFClassifier.train(CRFClassifier.java:1718)\r\n            at edu.stanford.nlp.ie.AbstractSequenceClassifier.train(AbstractSequenceClassifier.java:759)\r\n            at edu.stanford.nlp.ie.AbstractSequenceClassifier.train(AbstractSequenceClassifier.java:747)\r\n            at edu.stanford.nlp.ie.crf.CRFClassifier.main(CRFClassifier.java:2937)","title":"Memory requirements for Stanford NER retraining","body":"<p>I am retraining the Stanford NER model on my own training data for extracting organizations. But, whether I use a 4GB RAM machine or an 8GB RAM machine, I get the same Java heap space error.</p>\n\n<p>Could anyone tell what is the general configuration of machines on which we can retrain the models without getting these memory issues?</p>\n\n<p>I used the following command :</p>\n\n<pre><code> java -mx4g -cp stanford-ner.jar edu.stanford.nlp.ie.crf.CRFClassifier -prop newdata_retrain.prop\n</code></pre>\n\n<p>I am working with training data (multiple files - each file has about 15000 lines in the following format) - one word and its category on each line</p>\n\n<p>She     O\nis      O\nworking     O\nat     O\nMicrosoft      ORGANIZATION</p>\n\n<p>Is there anything else we could do to make these models run reliably ? I did try with reducing the number of classes in my training data. But that is impacting the accuracy of extraction. For example, some locations or other entities are getting classified as organization names. Can we reduce specific number of classes without impact on accuracy ? </p>\n\n<p>One data I am using is the Alan Ritter twitter nlp data : <a href=\"https://github.com/aritter/twitter_nlp/tree/master/data/annotated/ner.txt\" rel=\"nofollow\">https://github.com/aritter/twitter_nlp/tree/master/data/annotated/ner.txt</a></p>\n\n<p>The properties file looks like this:</p>\n\n<pre><code>#location of the training file\ntrainFile = ner.txt\n#location where you would like to save (serialize to) your\n#classifier; adding .gz at the end automatically gzips the file,\n#making it faster and smaller\nserializeTo = ner-model-twitter.ser.gz\n\n#structure of your training file; this tells the classifier\n#that the word is in column 0 and the correct answer is in\n#column 1\nmap = word=0,answer=1\n\n#these are the features we'd like to train with\n#some are discussed below, the rest can be\n#understood by looking at NERFeatureFactory\nuseClassFeature=true\nuseWord=true\nuseNGrams=true\n#no ngrams will be included that do not contain either the\n#beginning or end of the word\nnoMidNGrams=true\nuseDisjunctive=true\nmaxNGramLeng=6\nusePrev=true\nuseNext=true\nuseSequences=true\nusePrevSequences=true\nmaxLeft=1\n#the next 4 deal with word shape features\nuseTypeSeqs=true\nuseTypeSeqs2=true\nuseTypeySequences=true\nwordShape=chris2useLC\nsaveFeatureIndexToDisk = true\n</code></pre>\n\n<p>The error I am getting : the stacktrace is this :</p>\n\n<pre><code>CRFClassifier invoked on Mon Dec 01 02:55:22 UTC 2014 with arguments:\n   -prop twitter_retrain.prop\nusePrevSequences=true\nuseClassFeature=true\nuseTypeSeqs2=true\nuseSequences=true\nwordShape=chris2useLC\nsaveFeatureIndexToDisk=true\nuseTypeySequences=true\nuseDisjunctive=true\nnoMidNGrams=true\nserializeTo=ner-model-twitter.ser.gz\nmaxNGramLeng=6\nuseNGrams=true\nusePrev=true\nuseNext=true\nmaxLeft=1\ntrainFile=ner.txt\nmap=word=0,answer=1\nuseWord=true\nuseTypeSeqs=true\n[1000][2000]numFeatures = 215032\nsetting nodeFeatureIndicesMap, size=149877\nsetting edgeFeatureIndicesMap, size=65155\nTime to convert docs to feature indices: 4.4 seconds\nnumClasses: 21 [0=O,1=B-facility,2=I-facility,3=B-other,4=I-other,5=B-company,6=B-person,7=B-tvshow,8=B-product,9=B-sportsteam,10=I-person,11=B-geo-loc,12=B-movie,13=I-movie,14=I-tvshow,15=I-company,16=B-musicartist,17=I-musicartist,18=I-geo-loc,19=I-product,20=I-sportsteam]\nnumDocuments: 2394\nnumDatums: 46469\nnumFeatures: 215032\nTime to convert docs to data/labels: 2.5 seconds\nWriting feature index to temporary file.\nnumWeights: 31880772\nQNMinimizer called on double function of 31880772 variables, using M = 25.\nException in thread \"main\" java.lang.OutOfMemoryError: Java heap space\n        at edu.stanford.nlp.optimization.QNMinimizer.minimize(QNMinimizer.java:923)\n        at edu.stanford.nlp.optimization.QNMinimizer.minimize(QNMinimizer.java:885)\n        at edu.stanford.nlp.optimization.QNMinimizer.minimize(QNMinimizer.java:879)\n        at edu.stanford.nlp.optimization.QNMinimizer.minimize(QNMinimizer.java:91)\n        at edu.stanford.nlp.ie.crf.CRFClassifier.trainWeights(CRFClassifier.java:1911)\n        at edu.stanford.nlp.ie.crf.CRFClassifier.train(CRFClassifier.java:1718)\n        at edu.stanford.nlp.ie.AbstractSequenceClassifier.train(AbstractSequenceClassifier.java:759)\n        at edu.stanford.nlp.ie.AbstractSequenceClassifier.train(AbstractSequenceClassifier.java:747)\n        at edu.stanford.nlp.ie.crf.CRFClassifier.main(CRFClassifier.java:2937)\n</code></pre>\n"},{"tags":["javascript","java","arrays","typescript","data-structures"],"comments":[{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1679045593,"post_id":75765847,"comment_id":133654104,"body_markdown":"[Topological sorting](https://en.wikipedia.org/wiki/Topological_sorting)?","body":"<a href=\"https://en.wikipedia.org/wiki/Topological_sorting\" rel=\"nofollow noreferrer\">Topological sorting</a>?"},{"owner":{"account_id":16384666,"reputation":4093,"user_id":11834856,"display_name":"Neha Soni"},"score":0,"creation_date":1679046596,"post_id":75765847,"comment_id":133654357,"body_markdown":"What do you mean by sequence? I mean how do you want to sort the items, alphabetically?","body":"What do you mean by sequence? I mean how do you want to sort the items, alphabetically?"},{"owner":{"account_id":9344180,"reputation":61,"user_id":6935894,"display_name":"confused_dude_13"},"score":1,"creation_date":1679047216,"post_id":75765847,"comment_id":133654560,"body_markdown":"@NehaSoni not alphabetically, if SR-1 depends on SR-2, SR-2 should come first in the sequencedArray and then SR-1, similarly for all","body":"@NehaSoni not alphabetically, if SR-1 depends on SR-2, SR-2 should come first in the sequencedArray and then SR-1, similarly for all"},{"owner":{"account_id":18351807,"reputation":378,"user_id":13365797,"display_name":"jjj"},"score":0,"creation_date":1679048007,"post_id":75765847,"comment_id":133654776,"body_markdown":"@NehaSoni do you mean: always independent task first. then for all depent tasks, the one being depended most will comes first?","body":"@NehaSoni do you mean: always independent task first. then for all depent tasks, the one being depended most will comes first?"},{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":1,"creation_date":1679055968,"post_id":75765847,"comment_id":133656587,"body_markdown":"Please pick a language.  `Java` and `Javascript` are different.","body":"Please pick a language.  <code>Java</code> and <code>Javascript</code> are different."}],"answers":[{"tags":[],"owner":{"account_id":1556832,"reputation":378922,"user_id":1447675,"display_name":"Nina Scholz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1679215246,"creation_date":1679046095,"answer_id":75765980,"question_id":75765847,"body_markdown":"You could get all parent nodes and get a new array based on the root nodes.\r\n\r\n[Tree traversal](https://en.wikipedia.org/wiki/Tree_traversal): [Depth-first search](https://en.wikipedia.org/wiki/Depth-first_search) in Pre-order, NLR (node, left, right)\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n&lt;!-- language: lang-js --&gt;\r\n    const\r\n        getSorted = references =&gt; {\r\n            const fn = (array = []) =&gt; array.flatMap(o =&gt; [o, ...fn(references[o.taskId])]);\r\n            return fn(references[null]);\r\n        },\r\n        data = [{ taskId: &#39;SR-1&#39;, dependsOn: &#39;SR-2&#39;}, { taskId: &#39;SR-2&#39;, dependsOn: &#39;SR-5&#39;}, { taskId: &#39;SR-3&#39;, dependsOn: null}, { taskId: &#39;SR-4&#39;, dependsOn: &#39;SR-3&#39;}, { taskId: &#39;SR-5&#39;, dependsOn: null}, { taskId: &#39;SR-6&#39;, dependsOn: &#39;SR-2&#39;}],\r\n        references = data.reduce((r, o) =&gt; {\r\n            (r[o.dependsOn] ??= []).push(o);\r\n            return r;\r\n        }, {}),\r\n        result = getSorted(references);\r\n\r\n    console.log(result);\r\n&lt;!-- language: lang-css --&gt;\r\n    .as-console-wrapper { max-height: 100% !important; top: 0; }\r\n&lt;!-- end snippet --&gt;\r\n\r\nIf you like to get each level together, you need to iterate twice, one for the level and another for the children.\r\n\r\nTree traversal: A modified *Depth-first search* with getting the nodes of a parent first and then all children.\r\n\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n&lt;!-- language: lang-js --&gt;\r\n    const\r\n        getSorted = references =&gt; {\r\n            const fn = (array = []) =&gt; [\r\n                ...array,\r\n                ...array.flatMap(o =&gt; fn(references[o.taskId]))\r\n            ];\r\n            return fn(references[null]);\r\n        },\r\n        data = [{ taskId: &#39;SR-1&#39;, dependsOn: &#39;SR-2&#39;}, { taskId: &#39;SR-2&#39;, dependsOn: &#39;SR-5&#39;}, { taskId: &#39;SR-3&#39;, dependsOn: null}, { taskId: &#39;SR-4&#39;, dependsOn: &#39;SR-3&#39;}, { taskId: &#39;SR-5&#39;, dependsOn: null}, { taskId: &#39;SR-6&#39;, dependsOn: &#39;SR-2&#39;}],\r\n        references = data.reduce((r, o) =&gt; {\r\n            (r[o.dependsOn] ??= []).push(o);\r\n            return r;\r\n        }, {}),\r\n        result = getSorted(references);\r\n\r\n    console.log(result);\r\n&lt;!-- language: lang-css --&gt;\r\n    .as-console-wrapper { max-height: 100% !important; top: 0; }\r\n&lt;!-- end snippet --&gt;","title":"How to sequence an array of objects based on custom field?","body":"<p>You could get all parent nodes and get a new array based on the root nodes.</p>\n<p><a href=\"https://en.wikipedia.org/wiki/Tree_traversal\" rel=\"nofollow noreferrer\">Tree traversal</a>: <a href=\"https://en.wikipedia.org/wiki/Depth-first_search\" rel=\"nofollow noreferrer\">Depth-first search</a> in Pre-order, NLR (node, left, right)</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const\n    getSorted = references =&gt; {\n        const fn = (array = []) =&gt; array.flatMap(o =&gt; [o, ...fn(references[o.taskId])]);\n        return fn(references[null]);\n    },\n    data = [{ taskId: 'SR-1', dependsOn: 'SR-2'}, { taskId: 'SR-2', dependsOn: 'SR-5'}, { taskId: 'SR-3', dependsOn: null}, { taskId: 'SR-4', dependsOn: 'SR-3'}, { taskId: 'SR-5', dependsOn: null}, { taskId: 'SR-6', dependsOn: 'SR-2'}],\n    references = data.reduce((r, o) =&gt; {\n        (r[o.dependsOn] ??= []).push(o);\n        return r;\n    }, {}),\n    result = getSorted(references);\n\nconsole.log(result);</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.as-console-wrapper { max-height: 100% !important; top: 0; }</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>If you like to get each level together, you need to iterate twice, one for the level and another for the children.</p>\n<p>Tree traversal: A modified <em>Depth-first search</em> with getting the nodes of a parent first and then all children.</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const\n    getSorted = references =&gt; {\n        const fn = (array = []) =&gt; [\n            ...array,\n            ...array.flatMap(o =&gt; fn(references[o.taskId]))\n        ];\n        return fn(references[null]);\n    },\n    data = [{ taskId: 'SR-1', dependsOn: 'SR-2'}, { taskId: 'SR-2', dependsOn: 'SR-5'}, { taskId: 'SR-3', dependsOn: null}, { taskId: 'SR-4', dependsOn: 'SR-3'}, { taskId: 'SR-5', dependsOn: null}, { taskId: 'SR-6', dependsOn: 'SR-2'}],\n    references = data.reduce((r, o) =&gt; {\n        (r[o.dependsOn] ??= []).push(o);\n        return r;\n    }, {}),\n    result = getSorted(references);\n\nconsole.log(result);</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.as-console-wrapper { max-height: 100% !important; top: 0; }</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"},{"tags":[],"owner":{"account_id":18351807,"reputation":378,"user_id":13365797,"display_name":"jjj"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679047717,"creation_date":1679047356,"answer_id":75766217,"question_id":75765847,"body_markdown":"You can split the taskArray into two, sort (or not sort them) and put them back together like below:\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    let taskArray = [\r\n    { taskId: &#39;SR-1&#39;, dependsOn: &#39;SR-2&#39;}, \r\n    { taskId: &#39;SR-2&#39;, dependsOn: &#39;SR-5&#39;}, \r\n    { taskId: &#39;SR-3&#39;, dependsOn: null},\r\n    { taskId: &#39;SR-4&#39;, dependsOn: &#39;SR-3&#39;},\r\n    { taskId: &#39;SR-5&#39;, dependsOn: null},\r\n    { taskId: &#39;SR-6&#39;, dependsOn: &#39;SR-2&#39;}]\r\n\r\n    // turn taskId into number e.g. &#39;ST-1&#39; -&gt; 1 so we can compare them in sort function below\r\n    const idToNumber = (id) =&gt; parseInt(id.replace(&#39;SR-&#39;,&#39;&#39;), 10)\r\n\r\n    // independent tasks where dependsOn field is null\r\n    let independentArray = taskArray\r\n      .filter(t =&gt; !t.dependsOn)\r\n      // as per your question this sorting is optional. comment out if not required\r\n      .sort((a,b) =&gt; idToNumber(b.taskId)-idToNumber(a.taskId) ? 1 : -1)\r\n      \r\n    // dependent tasks where dependsOn field is not null\r\n    let dependentArray = taskArray\r\n      .filter(t =&gt; !!t.dependsOn)\r\n      // sort the task by comparing their taskId by extracting the number\r\n      .sort((a,b) =&gt; idToNumber(b.taskId)-idToNumber(a.taskId) ? 1 : -1)\r\n\r\n    // combine them with independentArray comes first\r\n    let sequencedArray = [...independentArray, ...dependentArray]\r\n\r\n    console.log(sequencedArray)\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"How to sequence an array of objects based on custom field?","body":"<p>You can split the taskArray into two, sort (or not sort them) and put them back together like below:</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>let taskArray = [\n{ taskId: 'SR-1', dependsOn: 'SR-2'}, \n{ taskId: 'SR-2', dependsOn: 'SR-5'}, \n{ taskId: 'SR-3', dependsOn: null},\n{ taskId: 'SR-4', dependsOn: 'SR-3'},\n{ taskId: 'SR-5', dependsOn: null},\n{ taskId: 'SR-6', dependsOn: 'SR-2'}]\n\n// turn taskId into number e.g. 'ST-1' -&gt; 1 so we can compare them in sort function below\nconst idToNumber = (id) =&gt; parseInt(id.replace('SR-',''), 10)\n\n// independent tasks where dependsOn field is null\nlet independentArray = taskArray\n  .filter(t =&gt; !t.dependsOn)\n  // as per your question this sorting is optional. comment out if not required\n  .sort((a,b) =&gt; idToNumber(b.taskId)-idToNumber(a.taskId) ? 1 : -1)\n  \n// dependent tasks where dependsOn field is not null\nlet dependentArray = taskArray\n  .filter(t =&gt; !!t.dependsOn)\n  // sort the task by comparing their taskId by extracting the number\n  .sort((a,b) =&gt; idToNumber(b.taskId)-idToNumber(a.taskId) ? 1 : -1)\n\n// combine them with independentArray comes first\nlet sequencedArray = [...independentArray, ...dependentArray]\n\nconsole.log(sequencedArray)</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}],"owner":{"account_id":9344180,"reputation":61,"user_id":6935894,"display_name":"confused_dude_13"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":99,"favorite_count":0,"down_vote_count":2,"up_vote_count":4,"accepted_answer_id":75765980,"answer_count":2,"score":2,"last_activity_date":1679215246,"creation_date":1679045408,"question_id":75765847,"body_markdown":"I have an array which lists certain tasks and the tasks that they are dependent upon. For example:   \r\n```\r\nlet taskArray = [\r\n{ taskId: &#39;SR-1&#39;, dependsOn: &#39;SR-2&#39;}, \r\n{ taskId: &#39;SR-2&#39;, dependsOn: &#39;SR-5&#39;}, \r\n{ taskId: &#39;SR-3&#39;, dependsOn: null},\r\n{ taskId: &#39;SR-4&#39;, dependsOn: &#39;SR-3&#39;},\r\n{ taskId: &#39;SR-5&#39;, dependsOn: null},\r\n{ taskId: &#39;SR-6&#39;, dependsOn: &#39;SR-2&#39;}]\r\n\r\n```\r\nAfter processing the array should be \r\n```\r\nlet sequencedArray = [\r\n{ taskId: &#39;SR-3&#39;, dependsOn: null},\r\n{ taskId: &#39;SR-5&#39;, dependsOn: null},\r\n{ taskId: &#39;SR-2&#39;, dependsOn: &#39;SR-5&#39;},\r\n{ taskId: &#39;SR-1&#39;, dependsOn: &#39;SR-2&#39;}, \r\n{ taskId: &#39;SR-6&#39;, dependsOn: &#39;SR-2&#39;}\r\n{ taskId: &#39;SR-4&#39;, dependsOn: &#39;SR-3&#39;},\r\n]\r\n```\r\nThe tasks which have dependsOn field as null can be in any order, but the task having dependsOn tasks should be sequenced.\r\n\r\n\r\nI was thinking of first ordering based on the dependsOn field, that way I will have all the independent tasks at the start, but not sure how to sequence them.","title":"How to sequence an array of objects based on custom field?","body":"<p>I have an array which lists certain tasks and the tasks that they are dependent upon. For example:</p>\n<pre><code>let taskArray = [\n{ taskId: 'SR-1', dependsOn: 'SR-2'}, \n{ taskId: 'SR-2', dependsOn: 'SR-5'}, \n{ taskId: 'SR-3', dependsOn: null},\n{ taskId: 'SR-4', dependsOn: 'SR-3'},\n{ taskId: 'SR-5', dependsOn: null},\n{ taskId: 'SR-6', dependsOn: 'SR-2'}]\n\n</code></pre>\n<p>After processing the array should be</p>\n<pre><code>let sequencedArray = [\n{ taskId: 'SR-3', dependsOn: null},\n{ taskId: 'SR-5', dependsOn: null},\n{ taskId: 'SR-2', dependsOn: 'SR-5'},\n{ taskId: 'SR-1', dependsOn: 'SR-2'}, \n{ taskId: 'SR-6', dependsOn: 'SR-2'}\n{ taskId: 'SR-4', dependsOn: 'SR-3'},\n]\n</code></pre>\n<p>The tasks which have dependsOn field as null can be in any order, but the task having dependsOn tasks should be sequenced.</p>\n<p>I was thinking of first ordering based on the dependsOn field, that way I will have all the independent tasks at the start, but not sure how to sequence them.</p>\n"},{"tags":["java","mongodb","indexing","mongodb-explain"],"owner":{"account_id":16970400,"reputation":73,"user_id":12275169,"display_name":"Nishant Kumar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":362,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679214923,"creation_date":1679211791,"question_id":75780660,"body_markdown":"I have edited a compound index and made it unique for one of the collection and after deploying this change getting the following exception - \r\n\r\n```\r\nnested exception is org.springframework.data.mongodb.UncategorizedMongoDbException: Command failed with error 85 (IndexOptionsConflict): &#39;Index with name: orgId_1_uuid_1 already exists with different options&#39; on server mongo-rs-abc-mongodb-primary-0.mongo-rs-abc-mongodb-headless.default.svc.cluster.local:27017. The full response is {\\&quot;operationTime\\&quot;: {\\&quot;$timestamp\\&quot;: {\\&quot;t\\&quot;: 1679209971, \\&quot;i\\&quot;: 1}}, \\&quot;ok\\&quot;: 0.0, \\&quot;errmsg\\&quot;: \\&quot;Index with name: orgId_1_uuid_1 already exists with different options\\&quot;, \\&quot;code\\&quot;: 85, \\&quot;codeName\\&quot;: \\&quot;IndexOptionsConflict\\&quot;, \\&quot;$clusterTime\\&quot;: {\\&quot;clusterTime\\&quot;: {\\&quot;$timestamp\\&quot;: {\\&quot;t\\&quot;: 1679209971, \\&quot;i\\&quot;: 1}}, \\&quot;signature\\&quot;: {\\&quot;hash\\&quot;: {\\&quot;$binary\\&quot;: {\\&quot;base64\\&quot;: \\&quot;YkYwvLJHQbN42C28nzlBaL5K6CY=\\&quot;, \\&quot;subType\\&quot;: \\&quot;00\\&quot;}}, \\&quot;keyId\\&quot;: 7149920632761745409}}}; nested exception is com.mongodb.MongoCommandException: Command failed with error 85 (IndexOptionsConflict): &#39;Index with name: orgId_1_uuid_1 already exists with different options&#39; on server mongo-rs-abc-mongodb-primary-0.mongo-rs-abc-mongodb-headless.default.svc.cluster.local:27017. The full response is {\\&quot;operationTime\\&quot;: {\\&quot;$timestamp\\&quot;: {\\&quot;t\\&quot;: 1679209971, \\&quot;i\\&quot;: 1}}, \\&quot;ok\\&quot;: 0.0, \\&quot;errmsg\\&quot;: \\&quot;Index with name: orgId_1_uuid_1 already exists wit\r\nh different options\\&quot;, \\&quot;code\\&quot;: 85, \\&quot;codeName\\&quot;: \\&quot;IndexOptionsConflict\\&quot;, \\&quot;$clusterTime\\&quot;: {\\&quot;clusterTime\\&quot;: {\\&quot;$timestamp\\&quot;: {\\&quot;t\\&quot;: 1679209971, \\&quot;i\\&quot;: 1}}, \\&quot;signature\\&quot;: {\\&quot;hash\\&quot;: {\\&quot;$binary\\&quot;: {\\&quot;base64\\&quot;: \\&quot;YkYwvLJHQbN42C28nzlBaL5K6CY=\\&quot;, \\&quot;subType\\&quot;: \\&quot;0\r\n0\\&quot;}}, \\&quot;keyId\\&quot;: 7149920632761745409}}}\r\n```\r\n\r\nI tried checking the index using the following command - db.dbase.getIndex() and it was giving two indexes with different names - \r\n[\r\n        {\r\n                &quot;v&quot; : 2,\r\n                &quot;key&quot; : {\r\n                        &quot;_id&quot; : 1\r\n                },\r\n                &quot;name&quot; : &quot;_id_&quot;,\r\n                &quot;ns&quot; : &quot;project.dbase&quot;\r\n        },\r\n        {\r\n                &quot;v&quot; : 2,\r\n                &quot;key&quot; : {\r\n                        &quot;orgId&quot; : 1,\r\n                        &quot;uuid&quot; : 1\r\n                },\r\n                &quot;name&quot; : &quot;orgId_1_uuid_1&quot;,\r\n                &quot;ns&quot; : &quot;project.dbase&quot;,\r\n                &quot;background&quot; : true\r\n        }\r\n]\r\nCan someone help with possible reasons for this","title":"Getting Exception org.springframework.data.mongodb.UncategorizedMongoDbException: Command failed with error 85 (IndexOptionsConflict)","body":"<p>I have edited a compound index and made it unique for one of the collection and after deploying this change getting the following exception -</p>\n<pre><code>nested exception is org.springframework.data.mongodb.UncategorizedMongoDbException: Command failed with error 85 (IndexOptionsConflict): 'Index with name: orgId_1_uuid_1 already exists with different options' on server mongo-rs-abc-mongodb-primary-0.mongo-rs-abc-mongodb-headless.default.svc.cluster.local:27017. The full response is {\\&quot;operationTime\\&quot;: {\\&quot;$timestamp\\&quot;: {\\&quot;t\\&quot;: 1679209971, \\&quot;i\\&quot;: 1}}, \\&quot;ok\\&quot;: 0.0, \\&quot;errmsg\\&quot;: \\&quot;Index with name: orgId_1_uuid_1 already exists with different options\\&quot;, \\&quot;code\\&quot;: 85, \\&quot;codeName\\&quot;: \\&quot;IndexOptionsConflict\\&quot;, \\&quot;$clusterTime\\&quot;: {\\&quot;clusterTime\\&quot;: {\\&quot;$timestamp\\&quot;: {\\&quot;t\\&quot;: 1679209971, \\&quot;i\\&quot;: 1}}, \\&quot;signature\\&quot;: {\\&quot;hash\\&quot;: {\\&quot;$binary\\&quot;: {\\&quot;base64\\&quot;: \\&quot;YkYwvLJHQbN42C28nzlBaL5K6CY=\\&quot;, \\&quot;subType\\&quot;: \\&quot;00\\&quot;}}, \\&quot;keyId\\&quot;: 7149920632761745409}}}; nested exception is com.mongodb.MongoCommandException: Command failed with error 85 (IndexOptionsConflict): 'Index with name: orgId_1_uuid_1 already exists with different options' on server mongo-rs-abc-mongodb-primary-0.mongo-rs-abc-mongodb-headless.default.svc.cluster.local:27017. The full response is {\\&quot;operationTime\\&quot;: {\\&quot;$timestamp\\&quot;: {\\&quot;t\\&quot;: 1679209971, \\&quot;i\\&quot;: 1}}, \\&quot;ok\\&quot;: 0.0, \\&quot;errmsg\\&quot;: \\&quot;Index with name: orgId_1_uuid_1 already exists wit\nh different options\\&quot;, \\&quot;code\\&quot;: 85, \\&quot;codeName\\&quot;: \\&quot;IndexOptionsConflict\\&quot;, \\&quot;$clusterTime\\&quot;: {\\&quot;clusterTime\\&quot;: {\\&quot;$timestamp\\&quot;: {\\&quot;t\\&quot;: 1679209971, \\&quot;i\\&quot;: 1}}, \\&quot;signature\\&quot;: {\\&quot;hash\\&quot;: {\\&quot;$binary\\&quot;: {\\&quot;base64\\&quot;: \\&quot;YkYwvLJHQbN42C28nzlBaL5K6CY=\\&quot;, \\&quot;subType\\&quot;: \\&quot;0\n0\\&quot;}}, \\&quot;keyId\\&quot;: 7149920632761745409}}}\n</code></pre>\n<p>I tried checking the index using the following command - db.dbase.getIndex() and it was giving two indexes with different names -\n[\n{\n&quot;v&quot; : 2,\n&quot;key&quot; : {\n&quot;_id&quot; : 1\n},\n&quot;name&quot; : &quot;<em>id</em>&quot;,\n&quot;ns&quot; : &quot;project.dbase&quot;\n},\n{\n&quot;v&quot; : 2,\n&quot;key&quot; : {\n&quot;orgId&quot; : 1,\n&quot;uuid&quot; : 1\n},\n&quot;name&quot; : &quot;orgId_1_uuid_1&quot;,\n&quot;ns&quot; : &quot;project.dbase&quot;,\n&quot;background&quot; : true\n}\n]\nCan someone help with possible reasons for this</p>\n"},{"tags":["java","opengl","raspberry-pi","processing","raspberry-pi4"],"comments":[{"owner":{"account_id":17830123,"reputation":780,"user_id":14956120,"display_name":"Carl HR"},"score":0,"creation_date":1678025741,"post_id":75640628,"comment_id":133449307,"body_markdown":"Isn&#39;t a problem that a raspberry pi doesn&#39;t come with a GPU to run the game&#39;s graphics? I remember a few years ago when I tried to use pygame (v1.0, which used the SDL 1.0), the graphics calculations were done directly on the CPU. This is an explicit performance problem, as the CPU needs to compute all the graphics at each frame. The problem grows, the larger your screen size is (1920x1080 is big). So, depending on how fast the CPU is, you&#39;re bound to have low FPS no matter what you do (as this is more of a hardware problem). Or, you could try decreasing the screen size.","body":"Isn&#39;t a problem that a raspberry pi doesn&#39;t come with a GPU to run the game&#39;s graphics? I remember a few years ago when I tried to use pygame (v1.0, which used the SDL 1.0), the graphics calculations were done directly on the CPU. This is an explicit performance problem, as the CPU needs to compute all the graphics at each frame. The problem grows, the larger your screen size is (1920x1080 is big). So, depending on how fast the CPU is, you&#39;re bound to have low FPS no matter what you do (as this is more of a hardware problem). Or, you could try decreasing the screen size."},{"owner":{"account_id":27664854,"reputation":153,"user_id":21116910,"display_name":"Alexander Gorodilov"},"score":0,"creation_date":1678029824,"post_id":75640628,"comment_id":133450024,"body_markdown":"Carl HR, I have made a new test and added this info to the post. The clear test without any graphic output - not updateable window 1920x1080 with one console output per frame. And I get 13 FPS. Standart test glxgears shows 75 fps. Maybe trouble is not in the RPI? I can not change the resolution: this is a point in the specification of the customer.","body":"Carl HR, I have made a new test and added this info to the post. The clear test without any graphic output - not updateable window 1920x1080 with one console output per frame. And I get 13 FPS. Standart test glxgears shows 75 fps. Maybe trouble is not in the RPI? I can not change the resolution: this is a point in the specification of the customer."},{"owner":{"account_id":17830123,"reputation":780,"user_id":14956120,"display_name":"Carl HR"},"score":0,"creation_date":1678031455,"post_id":75640628,"comment_id":133450293,"body_markdown":"_&quot;I don’t understand why the simplest processing sketch with only console output and the not updateable screen content runs so slow&quot;_ When you try to print anything into a console, it&#39;s expected that the print function call slows down the application. That&#39;s why that you can never know the true FPS you&#39;re getting within your application, as any technique that you may try will slow it down. Now, to get such a low frame rate, how are you testing the application? The raspberry is taking care of an entire OS and multiple applications at the same time? Or just the game (no OS)?","body":"<i>&quot;I don’t understand why the simplest processing sketch with only console output and the not updateable screen content runs so slow&quot;</i> When you try to print anything into a console, it&#39;s expected that the print function call slows down the application. That&#39;s why that you can never know the true FPS you&#39;re getting within your application, as any technique that you may try will slow it down. Now, to get such a low frame rate, how are you testing the application? The raspberry is taking care of an entire OS and multiple applications at the same time? Or just the game (no OS)?"},{"owner":{"account_id":17830123,"reputation":780,"user_id":14956120,"display_name":"Carl HR"},"score":1,"creation_date":1678035295,"post_id":75640628,"comment_id":133450985,"body_markdown":"Given the possiblity that the raspberry pi is being slowed down, due to have to process the entire screen, and other applications at the same time (ie: game + console + os interface), try to redirect the standard output to a file inside your project. This way, the console won&#39;t output anything when a print occurs, which won&#39;t force any screen updates. Later on, when the application is closed, you can open the file and check the output (frame rate). It should be bigger. If it&#39;s not, then I don&#39;t know what it is causing it to be low.","body":"Given the possiblity that the raspberry pi is being slowed down, due to have to process the entire screen, and other applications at the same time (ie: game + console + os interface), try to redirect the standard output to a file inside your project. This way, the console won&#39;t output anything when a print occurs, which won&#39;t force any screen updates. Later on, when the application is closed, you can open the file and check the output (frame rate). It should be bigger. If it&#39;s not, then I don&#39;t know what it is causing it to be low."},{"owner":{"account_id":32369,"reputation":51044,"user_id":89766,"accept_rate":92,"display_name":"George Profenza"},"score":0,"creation_date":1678035310,"post_id":75640628,"comment_id":133450987,"body_markdown":"@AlexanderGorodilov Unfortunately I don&#39;t have access to a RPI 4 to test, but I think you&#39;re on the right track with the P2D blank sketch you did. In my experience Processing/Java runs fairly slow on RPI and in the past (using RPI 1, 2) resources were very limited. IIRC, by default, only a fraction of the system RAM is shared for video. Try running `sudo raspi-config` and enable a lot more video memory, reboot and run your test again. Try running a few tests from `Processing &gt; Examples &gt; Demos &gt; Graphics` and also `Performance`.","body":"@AlexanderGorodilov Unfortunately I don&#39;t have access to a RPI 4 to test, but I think you&#39;re on the right track with the P2D blank sketch you did. In my experience Processing/Java runs fairly slow on RPI and in the past (using RPI 1, 2) resources were very limited. IIRC, by default, only a fraction of the system RAM is shared for video. Try running <code>sudo raspi-config</code> and enable a lot more video memory, reboot and run your test again. Try running a few tests from <code>Processing &gt; Examples &gt; Demos &gt; Graphics</code> and also <code>Performance</code>."},{"owner":{"account_id":32369,"reputation":51044,"user_id":89766,"accept_rate":92,"display_name":"George Profenza"},"score":0,"creation_date":1678035448,"post_id":75640628,"comment_id":133451010,"body_markdown":"Additionally, try your blank test with smaller resolutions (e.g. 720p, 360p) and hopefully there&#39;s a lower resolution that behaves well. If that&#39;s the case you can try using a `PGraphics` buffer at half res (720p) for example to do most of the work, then render it at the end of `draw()` as `1080p`. Sure, it won&#39;t be as crisp, but hopefully still looking ok/acceptable but moving faster. If you&#39;re not constrained to Processing Java you can look at pygame (if that applies) or even openFrameworks (c++). OpenFrameworks is inspired Processing and has many similarities. setup/compilation will be slow","body":"Additionally, try your blank test with smaller resolutions (e.g. 720p, 360p) and hopefully there&#39;s a lower resolution that behaves well. If that&#39;s the case you can try using a <code>PGraphics</code> buffer at half res (720p) for example to do most of the work, then render it at the end of <code>draw()</code> as <code>1080p</code>. Sure, it won&#39;t be as crisp, but hopefully still looking ok/acceptable but moving faster. If you&#39;re not constrained to Processing Java you can look at pygame (if that applies) or even openFrameworks (c++). OpenFrameworks is inspired Processing and has many similarities. setup/compilation will be slow"},{"owner":{"account_id":27664854,"reputation":153,"user_id":21116910,"display_name":"Alexander Gorodilov"},"score":0,"creation_date":1678049098,"post_id":75640628,"comment_id":133453450,"body_markdown":"Carl HR,  the output source is not the main reason. I made an another experiment: I created on my Khadas Vim3 pro a clear LibGDX project, that draws a single picture on the screen in the main game loop and print the frame rate in the console. And I got stable 60 FPS. I think, that the trouble is in the Processing for the single boards computers. The internal libraries are not adjusted for using OpenGl on the ARM architecture.","body":"Carl HR,  the output source is not the main reason. I made an another experiment: I created on my Khadas Vim3 pro a clear LibGDX project, that draws a single picture on the screen in the main game loop and print the frame rate in the console. And I got stable 60 FPS. I think, that the trouble is in the Processing for the single boards computers. The internal libraries are not adjusted for using OpenGl on the ARM architecture."},{"owner":{"account_id":27664854,"reputation":153,"user_id":21116910,"display_name":"Alexander Gorodilov"},"score":0,"creation_date":1678049701,"post_id":75640628,"comment_id":133453551,"body_markdown":"George Profenza, I can not even launch any P2D examples from the Processing IDE. It doesn&#39;t want to create the OpenGl window. I have install Raspbian 32 bit but the situation is the same. Maybe the customer accepts the low resolution, but I don&#39;t know. I know only Java, but wanted to learn C++. But right now I can not even understand how to assembly libraries and append they to a clear C++ project. I wanted try to use processing for C++ (an open source unofficial port to Cpp), but couldn&#39;t assembly.","body":"George Profenza, I can not even launch any P2D examples from the Processing IDE. It doesn&#39;t want to create the OpenGl window. I have install Raspbian 32 bit but the situation is the same. Maybe the customer accepts the low resolution, but I don&#39;t know. I know only Java, but wanted to learn C++. But right now I can not even understand how to assembly libraries and append they to a clear C++ project. I wanted try to use processing for C++ (an open source unofficial port to Cpp), but couldn&#39;t assembly."},{"owner":{"account_id":27664854,"reputation":153,"user_id":21116910,"display_name":"Alexander Gorodilov"},"score":1,"creation_date":1678050608,"post_id":75640628,"comment_id":133453720,"body_markdown":"@George Profenza, If I can not find a solution how to use all OpenGl power from Processing, I think I will use LibGDX. I have tested it today and didn&#39;t get any performance troubles. It uses the same programming language and I have three books about this framework. The game is not very difficult and I think I can port my game in LibGDX in 4-6 hours. I also found a Java  library (I think It is Pi4J) , that can be used for controlling of the GPIO. I don&#39;t want but I think it is the shortest way to complete the project.","body":"@George Profenza, If I can not find a solution how to use all OpenGl power from Processing, I think I will use LibGDX. I have tested it today and didn&#39;t get any performance troubles. It uses the same programming language and I have three books about this framework. The game is not very difficult and I think I can port my game in LibGDX in 4-6 hours. I also found a Java  library (I think It is Pi4J) , that can be used for controlling of the GPIO. I don&#39;t want but I think it is the shortest way to complete the project."},{"owner":{"account_id":104307,"reputation":5969,"user_id":278949,"accept_rate":97,"display_name":"Frank"},"score":0,"creation_date":1678086016,"post_id":75640628,"comment_id":133458063,"body_markdown":"@AlexanderGorodilov Pi4J can indeed help you to control the game with a joystick (see article on https://blogs.oracle.com/javamagazine/post/look-out-duke-part-2-control-a-java-game-with-a-raspberry-pi-and-a-joystick), but also contains documentation on how to run your application in desktop only mode. This is for JavaFX application, but may also be helpful for our use case: https://pi4j.com/getting-started/fxgl/kiosk-mode/","body":"@AlexanderGorodilov Pi4J can indeed help you to control the game with a joystick (see article on <a href=\"https://blogs.oracle.com/javamagazine/post/look-out-duke-part-2-control-a-java-game-with-a-raspberry-pi-and-a-joystick\" rel=\"nofollow noreferrer\">blogs.oracle.com/javamagazine/post/&hellip;</a>), but also contains documentation on how to run your application in desktop only mode. This is for JavaFX application, but may also be helpful for our use case: <a href=\"https://pi4j.com/getting-started/fxgl/kiosk-mode/\" rel=\"nofollow noreferrer\">pi4j.com/getting-started/fxgl/kiosk-mode</a>"},{"owner":{"account_id":27664854,"reputation":153,"user_id":21116910,"display_name":"Alexander Gorodilov"},"score":1,"creation_date":1678099708,"post_id":75640628,"comment_id":133461523,"body_markdown":"@Frank, I have wrote at the begin of the topic that &quot;I have already organized the communication between the RPI 4B 8Gb and the joystick&quot;. I have used a Java-port of evdev library. But you have presented me a good idea. Processing has a JavaFX library. I will try to create not the OpenGL or Java window, but JavaFX window using FX2D as the third parameter in the size() function. I&#39;ll try it on my single board computers. I hope it is more powerfull mode for RPI","body":"@Frank, I have wrote at the begin of the topic that &quot;I have already organized the communication between the RPI 4B 8Gb and the joystick&quot;. I have used a Java-port of evdev library. But you have presented me a good idea. Processing has a JavaFX library. I will try to create not the OpenGL or Java window, but JavaFX window using FX2D as the third parameter in the size() function. I&#39;ll try it on my single board computers. I hope it is more powerfull mode for RPI"},{"owner":{"account_id":27664854,"reputation":153,"user_id":21116910,"display_name":"Alexander Gorodilov"},"score":1,"creation_date":1678273603,"post_id":75640628,"comment_id":133499596,"body_markdown":"@Frank, JavaFX (FX2D as the third parameter in the size() function), increases the game performance. It is better than the default renderer. Thank Frank! But not enough. It will be better if the P2D works correct.","body":"@Frank, JavaFX (FX2D as the third parameter in the size() function), increases the game performance. It is better than the default renderer. Thank Frank! But not enough. It will be better if the P2D works correct."},{"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"score":1,"creation_date":1678471214,"post_id":75640628,"comment_id":133545243,"body_markdown":"If your post needs _this_ many comments in order for someone to sus out the particulars, it&#39;s well past time to [edit] your post and move all the information you added in comments [into your post instead](/help/how-to-ask). Also, Processing has a [user forum](https://discourse.processing.org/) exactly for questions like this, so while posting here is of course fine, did you _also_ post there? Because SO is your last resort, not your first: first ask the people who are best suited to answer your question. And only if that yields no result does posting to SO make sense =)","body":"If your post needs <i>this</i> many comments in order for someone to sus out the particulars, it&#39;s well past time to <a href=\"https://stackoverflow.com/posts/75640628/edit\">edit</a> your post and move all the information you added in comments <a href=\"/help/how-to-ask\">into your post instead</a>. Also, Processing has a <a href=\"https://discourse.processing.org/\" rel=\"nofollow noreferrer\">user forum</a> exactly for questions like this, so while posting here is of course fine, did you <i>also</i> post there? Because SO is your last resort, not your first: first ask the people who are best suited to answer your question. And only if that yields no result does posting to SO make sense =)"}],"answers":[{"tags":[],"owner":{"account_id":27664854,"reputation":153,"user_id":21116910,"display_name":"Alexander Gorodilov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1679211814,"creation_date":1679211814,"answer_id":75780666,"question_id":75640628,"body_markdown":"Well, I have transfered my game into LibGDX. It uses also Java as the programming language and Open GL ES for the rendering. I have got 50-60 FPS. \r\nThe answer is pretty simple: Don&#39;t use Processing for creation of applications with the Open GL context running on ARM Single board computers with Linux as the operating system.","title":"Open GL performance on the Raspberry PI 4B and another SBC","body":"<p>Well, I have transfered my game into LibGDX. It uses also Java as the programming language and Open GL ES for the rendering. I have got 50-60 FPS.\nThe answer is pretty simple: Don't use Processing for creation of applications with the Open GL context running on ARM Single board computers with Linux as the operating system.</p>\n"}],"owner":{"account_id":27664854,"reputation":153,"user_id":21116910,"display_name":"Alexander Gorodilov"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":245,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"accepted_answer_id":75780666,"answer_count":1,"score":3,"last_activity_date":1679211814,"creation_date":1677999163,"question_id":75640628,"body_markdown":"Good day!\r\n\r\nI got a project from a firm and now I need to develop an arcade cabinet with Raspberry Pi 3. It has a joystick and some external devices, which are controlled via GPIO. I have already organized the communication between the RPI 4B 8Gb and the joystick and I can already receive signals from the coin acceptor. The next trouble is performance. I create the videogame using Java and append the internal processing libraries (www.processing.org) to the project for the graphic output and GPIO interaction.\r\n\r\nThe processing-core library has two abilities to render graphics: software rendering (using parameter JAVA2D in the size() function) and hardware accelerated (using parameter P2D or P3D in the same function). The parameters P2D and P3D enable the OpenGL support and the performance of all my games on the normal desktop PC or android device is higher as the performance in the JAVA2D mode. But not on my single board computers.\r\n\r\nOn the Raspberry PI 4B 8Gb (Raspberry Pi OS 64 bit desktop) I got: 11 FPS in JAVA2D mode and 6 FPS in P2D mode.\r\nOn my Khadas Vim3 pro (Ubuntu 20.04 64 bit) I got 14 FPS in JAVA2D mode and 8 FPS in P2D mode.\r\n\r\nI don’t understand what is the trouble with the performance on the SBC? My game is pretty simple: The screen size is: 1920x1080. All the game graphic is packed in a single PNG file. I draw a images for background, than for 3 airplaines, than for bullets and than a full screen explosion. All the graphic is drawn without scaling using function:\r\n\r\n    image(source, posX, poxY, width, height, leftPixelInSource, upperPixelInSource, rightPixelInSource, lowerPixelInSource);\r\n\r\nI need to get at least 20 FPS to complete the project.\r\n\r\nI use Intellij IDEA (with sudo parameter) and I see in the logcat the next 3 lines when I use OpenGL (P2D parameter in the size()-function):\r\n\r\n    error: XDG_RUNTIME_DIR not set in the environment.\r\n    error: XDG_RUNTIME_DIR not set in the environment.\r\n    error: XDG_RUNTIME_DIR not set in the environment.\r\n\r\n, but the game runs. When I close the game I receive the next messages in the logcat. \r\n\r\n    X11Util.Display: Shutdown (JVM shutdown: true, open (no close attempt): 2/2, reusable (open, marked uncloseable): 0, pending (open in creation order): 2)\r\n    X11Util: Open X11 Display Connections: 2\r\n    X11Util: Open[0]: NamedX11Display[:0, 0x7f1c07cc90, refCount 1, unCloseable false]\r\n    X11Util: Open[1]: NamedX11Display[:0, 0x7f1c0a2150, refCount 1, unCloseable false]\r\n\r\nIn Java mode I haven’t any errors.\r\nI tried to launch without the sudo parameter and with the enabled P2D parameter. I have a new error and can not launch the game. The log cat shows:\r\n\r\n    Resource compiler: Error: Couldn&#39;t copy [/home/mgdsstudio/GD/Workspace/Airfight/Libs/META-INF/MANIFEST.MF] to [/home/mgdsstudio/GD/Workspace/Airfight/out/production/desktop/META-INF/MANIFEST.MF]\r\n    java.io.IOException: Couldn&#39;t copy [/home/mgdsstudio/GD/Workspace/Airfight/Libs/META-INF/MANIFEST.MF] to [/home/mgdsstudio/GD/Workspace/Airfight/out/production/desktop/META-INF/MANIFEST.MF]\r\n    \tat com.intellij.openapi.util.io.FileUtil.performCopy(FileUtil.java:419)\r\n    \tat com.intellij.openapi.util.io.FileUtil.copyContent(FileUtil.java:408)\r\n    \tat org.jetbrains.jps.incremental.FSOperations.copy(FSOperations.java:472)\r\n    \tat org.jetbrains.jps.incremental.resources.ResourcesBuilder.copyResource(ResourcesBuilder.java:123)\r\n    \tat org.jetbrains.jps.incremental.resources.ResourcesBuilder.lambda$build$0(ResourcesBuilder.java:67)\r\n    \tat org.jetbrains.jps.incremental.fs.BuildFSState.processFilesToRecompile(BuildFSState.java:374)\r\n    \tat org.jetbrains.jps.incremental.IncProjectBuilder$6.processDirtyFiles(IncProjectBuilder.java:1261)\r\n    \tat org.jetbrains.jps.incremental.resources.ResourcesBuilder.build(ResourcesBuilder.java:56)\r\n    \tat org.jetbrains.jps.incremental.resources.ResourcesBuilder.build(ResourcesBuilder.java:27)\r\n    \tat org.jetbrains.jps.incremental.IncProjectBuilder.buildTarget(IncProjectBuilder.java:1266)\r\n    \tat org.jetbrains.jps.incremental.IncProjectBuilder.runBuildersForChunk(IncProjectBuilder.java:1166)\r\n    \tat org.jetbrains.jps.incremental.IncProjectBuilder.buildTargetsChunk(IncProjectBuilder.java:1303)\r\n    \tat org.jetbrains.jps.incremental.IncProjectBuilder.buildChunkIfAffected(IncProjectBuilder.java:1118)\r\n    \tat org.jetbrains.jps.incremental.IncProjectBuilder.buildChunks(IncProjectBuilder.java:889)\r\n    \tat org.jetbrains.jps.incremental.IncProjectBuilder.runBuild(IncProjectBuilder.java:471)\r\n    \tat org.jetbrains.jps.incremental.IncProjectBuilder.build(IncProjectBuilder.java:197)\r\n    \tat org.jetbrains.jps.cmdline.BuildRunner.runBuild(BuildRunner.java:150)\r\n    \tat org.jetbrains.jps.cmdline.BuildSession.runBuild(BuildSession.java:371)\r\n    \tat org.jetbrains.jps.cmdline.BuildSession.run(BuildSession.java:193)\r\n    \tat org.jetbrains.jps.cmdline.BuildMain$MyMessageHandler.lambda$channelRead0$0(BuildMain.java:211)\r\n    \tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n    \tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n    \tat java.base/java.lang.Thread.run(Thread.java:829)\r\n    Caused by: java.nio.file.AccessDeniedException: /home/mgdsstudio/GD/Workspace/Airfight/out/production/desktop/META-INF/MANIFEST.MF\r\n    \tat java.base/sun.nio.fs.UnixException.translateToIOException(UnixException.java:90)\r\n    \tat java.base/sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:111)\r\n    \tat java.base/sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:116)\r\n    \tat java.base/sun.nio.fs.UnixFileSystemProvider.newByteChannel(UnixFileSystemProvider.java:219)\r\n    \tat java.base/java.nio.file.spi.FileSystemProvider.newOutputStream(FileSystemProvider.java:478)\r\n    \tat java.base/java.nio.file.Files.newOutputStream(Files.java:220)\r\n    \tat com.intellij.openapi.util.io.FileUtil.openOutputStream(FileUtil.java:452)\r\n    \tat com.intellij.openapi.util.io.FileUtil.performCopy(FileUtil.java:415)\r\n    \t... 22 more\r\n\r\nI read some info about default OpenGL driver troubles on RPI. But I don’t understand what I must do to increase the FPS or maybe repair the OpenGL? Are there differences in the Raspberry Pi OS 32 bit between desktop and no desktop distribution? Maybe I need to try  another OS distribution to get better performance?\r\n\r\n\r\n\r\nI have made my sketch simpler. It has now only one function in the game loop: \r\n\r\n    @\r\n    Override\r\n        public void settings(){\r\n            size(1920, 1080, P2D);        \r\n        }\r\n    \r\n        @Override\r\n        public void setup(){}\r\n    \r\n    \r\n    \r\n        @Override\r\n        public void draw(){\r\n            System.out.println(&quot;FPS: &quot; + frameRate);        \r\n        }\r\n\r\nAnd I got the FPS not more than 13 frames per second. The game loop does nothing - only console output. When I launch glxgears programm after I have installed mesa-utils with the command:\r\n\r\n    sudo apt-get install mesa-utils\r\n\r\nI get 75 FPS. I don’t understand why the simplest processing sketch with only console output and the not updateable screen content runs so slow\r\n\r\n\r\n\r\n","title":"Open GL performance on the Raspberry PI 4B and another SBC","body":"<p>Good day!</p>\n<p>I got a project from a firm and now I need to develop an arcade cabinet with Raspberry Pi 3. It has a joystick and some external devices, which are controlled via GPIO. I have already organized the communication between the RPI 4B 8Gb and the joystick and I can already receive signals from the coin acceptor. The next trouble is performance. I create the videogame using Java and append the internal processing libraries (<a href=\"http://www.processing.org\" rel=\"nofollow noreferrer\">www.processing.org</a>) to the project for the graphic output and GPIO interaction.</p>\n<p>The processing-core library has two abilities to render graphics: software rendering (using parameter JAVA2D in the size() function) and hardware accelerated (using parameter P2D or P3D in the same function). The parameters P2D and P3D enable the OpenGL support and the performance of all my games on the normal desktop PC or android device is higher as the performance in the JAVA2D mode. But not on my single board computers.</p>\n<p>On the Raspberry PI 4B 8Gb (Raspberry Pi OS 64 bit desktop) I got: 11 FPS in JAVA2D mode and 6 FPS in P2D mode.\nOn my Khadas Vim3 pro (Ubuntu 20.04 64 bit) I got 14 FPS in JAVA2D mode and 8 FPS in P2D mode.</p>\n<p>I don’t understand what is the trouble with the performance on the SBC? My game is pretty simple: The screen size is: 1920x1080. All the game graphic is packed in a single PNG file. I draw a images for background, than for 3 airplaines, than for bullets and than a full screen explosion. All the graphic is drawn without scaling using function:</p>\n<pre><code>image(source, posX, poxY, width, height, leftPixelInSource, upperPixelInSource, rightPixelInSource, lowerPixelInSource);\n</code></pre>\n<p>I need to get at least 20 FPS to complete the project.</p>\n<p>I use Intellij IDEA (with sudo parameter) and I see in the logcat the next 3 lines when I use OpenGL (P2D parameter in the size()-function):</p>\n<pre><code>error: XDG_RUNTIME_DIR not set in the environment.\nerror: XDG_RUNTIME_DIR not set in the environment.\nerror: XDG_RUNTIME_DIR not set in the environment.\n</code></pre>\n<p>, but the game runs. When I close the game I receive the next messages in the logcat.</p>\n<pre><code>X11Util.Display: Shutdown (JVM shutdown: true, open (no close attempt): 2/2, reusable (open, marked uncloseable): 0, pending (open in creation order): 2)\nX11Util: Open X11 Display Connections: 2\nX11Util: Open[0]: NamedX11Display[:0, 0x7f1c07cc90, refCount 1, unCloseable false]\nX11Util: Open[1]: NamedX11Display[:0, 0x7f1c0a2150, refCount 1, unCloseable false]\n</code></pre>\n<p>In Java mode I haven’t any errors.\nI tried to launch without the sudo parameter and with the enabled P2D parameter. I have a new error and can not launch the game. The log cat shows:</p>\n<pre><code>Resource compiler: Error: Couldn't copy [/home/mgdsstudio/GD/Workspace/Airfight/Libs/META-INF/MANIFEST.MF] to [/home/mgdsstudio/GD/Workspace/Airfight/out/production/desktop/META-INF/MANIFEST.MF]\njava.io.IOException: Couldn't copy [/home/mgdsstudio/GD/Workspace/Airfight/Libs/META-INF/MANIFEST.MF] to [/home/mgdsstudio/GD/Workspace/Airfight/out/production/desktop/META-INF/MANIFEST.MF]\n    at com.intellij.openapi.util.io.FileUtil.performCopy(FileUtil.java:419)\n    at com.intellij.openapi.util.io.FileUtil.copyContent(FileUtil.java:408)\n    at org.jetbrains.jps.incremental.FSOperations.copy(FSOperations.java:472)\n    at org.jetbrains.jps.incremental.resources.ResourcesBuilder.copyResource(ResourcesBuilder.java:123)\n    at org.jetbrains.jps.incremental.resources.ResourcesBuilder.lambda$build$0(ResourcesBuilder.java:67)\n    at org.jetbrains.jps.incremental.fs.BuildFSState.processFilesToRecompile(BuildFSState.java:374)\n    at org.jetbrains.jps.incremental.IncProjectBuilder$6.processDirtyFiles(IncProjectBuilder.java:1261)\n    at org.jetbrains.jps.incremental.resources.ResourcesBuilder.build(ResourcesBuilder.java:56)\n    at org.jetbrains.jps.incremental.resources.ResourcesBuilder.build(ResourcesBuilder.java:27)\n    at org.jetbrains.jps.incremental.IncProjectBuilder.buildTarget(IncProjectBuilder.java:1266)\n    at org.jetbrains.jps.incremental.IncProjectBuilder.runBuildersForChunk(IncProjectBuilder.java:1166)\n    at org.jetbrains.jps.incremental.IncProjectBuilder.buildTargetsChunk(IncProjectBuilder.java:1303)\n    at org.jetbrains.jps.incremental.IncProjectBuilder.buildChunkIfAffected(IncProjectBuilder.java:1118)\n    at org.jetbrains.jps.incremental.IncProjectBuilder.buildChunks(IncProjectBuilder.java:889)\n    at org.jetbrains.jps.incremental.IncProjectBuilder.runBuild(IncProjectBuilder.java:471)\n    at org.jetbrains.jps.incremental.IncProjectBuilder.build(IncProjectBuilder.java:197)\n    at org.jetbrains.jps.cmdline.BuildRunner.runBuild(BuildRunner.java:150)\n    at org.jetbrains.jps.cmdline.BuildSession.runBuild(BuildSession.java:371)\n    at org.jetbrains.jps.cmdline.BuildSession.run(BuildSession.java:193)\n    at org.jetbrains.jps.cmdline.BuildMain$MyMessageHandler.lambda$channelRead0$0(BuildMain.java:211)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n    at java.base/java.lang.Thread.run(Thread.java:829)\nCaused by: java.nio.file.AccessDeniedException: /home/mgdsstudio/GD/Workspace/Airfight/out/production/desktop/META-INF/MANIFEST.MF\n    at java.base/sun.nio.fs.UnixException.translateToIOException(UnixException.java:90)\n    at java.base/sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:111)\n    at java.base/sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:116)\n    at java.base/sun.nio.fs.UnixFileSystemProvider.newByteChannel(UnixFileSystemProvider.java:219)\n    at java.base/java.nio.file.spi.FileSystemProvider.newOutputStream(FileSystemProvider.java:478)\n    at java.base/java.nio.file.Files.newOutputStream(Files.java:220)\n    at com.intellij.openapi.util.io.FileUtil.openOutputStream(FileUtil.java:452)\n    at com.intellij.openapi.util.io.FileUtil.performCopy(FileUtil.java:415)\n    ... 22 more\n</code></pre>\n<p>I read some info about default OpenGL driver troubles on RPI. But I don’t understand what I must do to increase the FPS or maybe repair the OpenGL? Are there differences in the Raspberry Pi OS 32 bit between desktop and no desktop distribution? Maybe I need to try  another OS distribution to get better performance?</p>\n<p>I have made my sketch simpler. It has now only one function in the game loop:</p>\n<pre><code>@\nOverride\n    public void settings(){\n        size(1920, 1080, P2D);        \n    }\n\n    @Override\n    public void setup(){}\n\n\n\n    @Override\n    public void draw(){\n        System.out.println(&quot;FPS: &quot; + frameRate);        \n    }\n</code></pre>\n<p>And I got the FPS not more than 13 frames per second. The game loop does nothing - only console output. When I launch glxgears programm after I have installed mesa-utils with the command:</p>\n<pre><code>sudo apt-get install mesa-utils\n</code></pre>\n<p>I get 75 FPS. I don’t understand why the simplest processing sketch with only console output and the not updateable screen content runs so slow</p>\n"},{"tags":["java","selenium-webdriver","testng","testng-dataprovider"],"comments":[{"owner":{"account_id":11380920,"reputation":8254,"user_id":8343843,"display_name":"Alexey R."},"score":0,"creation_date":1679322916,"post_id":75780636,"comment_id":133696340,"body_markdown":"Try to put brakpoint to your `LoginProviders` and checkwhet and why it returns. Probably it returns empty array and that causes no test to run.","body":"Try to put brakpoint to your <code>LoginProviders</code> and checkwhet and why it returns. Probably it returns empty array and that causes no test to run."}],"owner":{"account_id":28055561,"reputation":1,"user_id":21430651,"display_name":"phubarvu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679211331,"creation_date":1679211331,"question_id":75780636,"body_markdown":"I&#39;m working on a Java/Selenium/TestNG project and I have 3 Selenium tests I want to run using DataProviders. I created a file reader class streaming the Excel data to an object for my DataProviders to use, for whatever reason, only tests on one particular sheet will run. Tests using the other 2 sheets are being ignored, I am pretty new to this so any help would be really appreciated, code is below for your review:\r\n\r\n    public static Object[][] getTestData(String sheetname){\r\n        Object[][] data = null;\r\n\r\n        try{\r\n            FileInputStream fis = new FileInputStream(TEST_DATA_WORKBOOK_PATH);\r\n            book = WorkbookFactory.create(fis);\r\n            sheet = book.getSheet(sheetname);\r\n\r\n            data = new Object[sheet.getLastRowNum()][sheet.getRow(0).getLastCellNum()];\r\n\r\n            for (int i = 0; i &lt; sheet.getLastRowNum(); i++) {\r\n                for (int j = 0; j &lt; sheet.getRow(0).getLastCellNum(); j++) {\r\n                    data[i][j] =sheet.getRow(i + 1).getCell(j).toString();\r\n                }\r\n            }\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n        System.out.println(data);\r\n        return data;\r\n    }\r\n\r\nThis is the test that will run correctly:\r\n\r\n    @Test(description = &quot;register with valid info&quot;, dataProvider = &quot;ValidRegDP&quot;, enabled = true)    \r\n    public void registrationTests02(String firstname, String lastname, String email, String address, String city, String state, String zip, String country, String username, String password){\r\n        HomePage homePage = new HomePage(getDriver());\r\n        LoginPage loginPage = homePage.clkLoginBtn();\r\n        RegistrationPage regPage = loginPage.clkRegisterBtn();\r\n\r\n        regPage.setFirstName(firstname)\r\n                .setLastName(lastname)\r\n                .setEmail(email)\r\n                .setAddress(address)\r\n                .setCity(city)\r\n                .selectCountry(country)\r\n                .selectState(state)\r\n                .setZip(zip)\r\n                .setUsername(username)\r\n                .setPassword(password)\r\n                .clkPrivacy()\r\n                .clkContinue()\r\n                .waitForPresence(By.xpath(&quot;//div[@class=&#39;alert alert-error alert-danger&#39;]&quot;));\r\n\r\n        Assert.assertEquals(getDriver().getCurrentUrl(), &quot;https://automationteststore.com/index.php?rt=account/create&quot;);\r\n    }\r\n\r\n    @DataProvider(name = &quot;ValidRegDP&quot;)\r\n    public static Object[][] getDataFromValRegProviders(){\r\n        Object[][] data = ExcelReader.getTestData(&quot;goodRegistration&quot;);\r\n        return data;\r\n    }\r\n\r\n\r\nThis test keeps getting ignored:\r\n\r\n    @Test(description = &quot;login tests&quot;, dataProvider = &quot;LoginProviders&quot;, enabled = true)\r\n    public void loginTests(String username, String password){\r\n        HomePage homePage = new HomePage(getDriver());\r\n        LoginPage loginPage = homePage.clkLoginBtn();\r\n        loginPage.login(username, password);\r\n\r\n        Assert.assertEquals(getDriver().getCurrentUrl(), &quot;https://automationteststore.com/index.php?rt=account/login&quot;);\r\n    }\r\n\r\n\r\n    @DataProvider(name = &quot;LoginProviders&quot;)\r\n    public static Object[][] getLoginProviders(){\r\n        Object[][] data = ExcelReader.getTestData(&quot;login&quot;);\r\n        return data;\r\n    }\r\n\r\nI checked the worksheet names and Excel file path, they&#39;re correct, also tried creating a new Excel workbook with a different name a different sheet names, but the same result happens, only one of the sheets is read correctly by my test (the valid registration data sheet)\r\n\r\nThe other test/tests using the Excel file for DataProvider still get ignored. I added the dataProviderClass value to try to get it to work but the same sheets/tests still get ignored and only that one valid registration test runs.\r\n\r\nThe only message my terminal gives on the ignored tests is\r\n\r\nSLF4J: No SLF4J providers were found.\r\nSLF4J: Defaulting to no-operation (NOP) logger implementation\r\nSLF4J: See https://www.slf4j.org/codes.html#noProviders for further details.\r\nERROR StatusLogger Log4j2 could not find a logging implementation. Please add log4j-core to the classpath. \r\n\r\nwhich I also tried to add to my build but the tests were still being ignored. I am not sure what else to try, any help would be appreciated, thank you guys!","title":"Selenium Tests using DataProvider data from Excel are being ignored","body":"<p>I'm working on a Java/Selenium/TestNG project and I have 3 Selenium tests I want to run using DataProviders. I created a file reader class streaming the Excel data to an object for my DataProviders to use, for whatever reason, only tests on one particular sheet will run. Tests using the other 2 sheets are being ignored, I am pretty new to this so any help would be really appreciated, code is below for your review:</p>\n<pre><code>public static Object[][] getTestData(String sheetname){\n    Object[][] data = null;\n\n    try{\n        FileInputStream fis = new FileInputStream(TEST_DATA_WORKBOOK_PATH);\n        book = WorkbookFactory.create(fis);\n        sheet = book.getSheet(sheetname);\n\n        data = new Object[sheet.getLastRowNum()][sheet.getRow(0).getLastCellNum()];\n\n        for (int i = 0; i &lt; sheet.getLastRowNum(); i++) {\n            for (int j = 0; j &lt; sheet.getRow(0).getLastCellNum(); j++) {\n                data[i][j] =sheet.getRow(i + 1).getCell(j).toString();\n            }\n        }\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n    System.out.println(data);\n    return data;\n}\n</code></pre>\n<p>This is the test that will run correctly:</p>\n<pre><code>@Test(description = &quot;register with valid info&quot;, dataProvider = &quot;ValidRegDP&quot;, enabled = true)    \npublic void registrationTests02(String firstname, String lastname, String email, String address, String city, String state, String zip, String country, String username, String password){\n    HomePage homePage = new HomePage(getDriver());\n    LoginPage loginPage = homePage.clkLoginBtn();\n    RegistrationPage regPage = loginPage.clkRegisterBtn();\n\n    regPage.setFirstName(firstname)\n            .setLastName(lastname)\n            .setEmail(email)\n            .setAddress(address)\n            .setCity(city)\n            .selectCountry(country)\n            .selectState(state)\n            .setZip(zip)\n            .setUsername(username)\n            .setPassword(password)\n            .clkPrivacy()\n            .clkContinue()\n            .waitForPresence(By.xpath(&quot;//div[@class='alert alert-error alert-danger']&quot;));\n\n    Assert.assertEquals(getDriver().getCurrentUrl(), &quot;https://automationteststore.com/index.php?rt=account/create&quot;);\n}\n\n@DataProvider(name = &quot;ValidRegDP&quot;)\npublic static Object[][] getDataFromValRegProviders(){\n    Object[][] data = ExcelReader.getTestData(&quot;goodRegistration&quot;);\n    return data;\n}\n</code></pre>\n<p>This test keeps getting ignored:</p>\n<pre><code>@Test(description = &quot;login tests&quot;, dataProvider = &quot;LoginProviders&quot;, enabled = true)\npublic void loginTests(String username, String password){\n    HomePage homePage = new HomePage(getDriver());\n    LoginPage loginPage = homePage.clkLoginBtn();\n    loginPage.login(username, password);\n\n    Assert.assertEquals(getDriver().getCurrentUrl(), &quot;https://automationteststore.com/index.php?rt=account/login&quot;);\n}\n\n\n@DataProvider(name = &quot;LoginProviders&quot;)\npublic static Object[][] getLoginProviders(){\n    Object[][] data = ExcelReader.getTestData(&quot;login&quot;);\n    return data;\n}\n</code></pre>\n<p>I checked the worksheet names and Excel file path, they're correct, also tried creating a new Excel workbook with a different name a different sheet names, but the same result happens, only one of the sheets is read correctly by my test (the valid registration data sheet)</p>\n<p>The other test/tests using the Excel file for DataProvider still get ignored. I added the dataProviderClass value to try to get it to work but the same sheets/tests still get ignored and only that one valid registration test runs.</p>\n<p>The only message my terminal gives on the ignored tests is</p>\n<p>SLF4J: No SLF4J providers were found.\nSLF4J: Defaulting to no-operation (NOP) logger implementation\nSLF4J: See <a href=\"https://www.slf4j.org/codes.html#noProviders\" rel=\"nofollow noreferrer\">https://www.slf4j.org/codes.html#noProviders</a> for further details.\nERROR StatusLogger Log4j2 could not find a logging implementation. Please add log4j-core to the classpath.</p>\n<p>which I also tried to add to my build but the tests were still being ignored. I am not sure what else to try, any help would be appreciated, thank you guys!</p>\n"},{"tags":["java","android","api"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1679242930,"post_id":75780635,"comment_id":133682340,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"owner":{"account_id":28055650,"reputation":1,"user_id":21430724,"display_name":"Piyush Chauhan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":14,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679211329,"creation_date":1679211329,"question_id":75780635,"body_markdown":"    public void abc(){\r\n        HttpResponse &lt;String&gt; response = Unirest.get(&quot;https://weatherbit-v1-mashape.p.rapidapi.com/forecast/3hourly?lat=35.5&amp;lon=-78.5&quot;)\r\n                .header(&quot;X-RapidAPI-Key&quot;, &quot;46f00d7395msh4061d42046dacd6p15555ejsn726219bdbcd0&quot;)\r\n                .header(&quot;X-RapidAPI-Host&quot;, &quot;weatherbit-v1-mashape.p.rapidapi.com&quot;)\r\n                .header(&quot;Accept&quot;,&quot;application/json&quot;)\r\n                .asString();\r\n\r\nresolve  when i am  removing arguments its showing error in all . i was using in android\r\n","title":"in requesting api in android bt HttpResponse why its asking to remove type arguments","body":"<pre><code>public void abc(){\n    HttpResponse &lt;String&gt; response = Unirest.get(&quot;https://weatherbit-v1-mashape.p.rapidapi.com/forecast/3hourly?lat=35.5&amp;lon=-78.5&quot;)\n            .header(&quot;X-RapidAPI-Key&quot;, &quot;46f00d7395msh4061d42046dacd6p15555ejsn726219bdbcd0&quot;)\n            .header(&quot;X-RapidAPI-Host&quot;, &quot;weatherbit-v1-mashape.p.rapidapi.com&quot;)\n            .header(&quot;Accept&quot;,&quot;application/json&quot;)\n            .asString();\n</code></pre>\n<p>resolve  when i am  removing arguments its showing error in all . i was using in android</p>\n"},{"tags":["java","json","jackson","mapping","pojo"],"owner":{"account_id":22287193,"reputation":11,"user_id":16514637,"display_name":"Mounika"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679209683,"creation_date":1679209683,"question_id":75780537,"body_markdown":"I am having difficulties mapping a JSON to a nested POJO class using Jackson.\r\n\r\n\r\n\r\nJSON:\r\n\r\n```\r\n{\r\n&quot;username&quot; : &quot;name123&quot;,\r\n&quot;region&quot; : &quot;EU&quot;,\r\n&quot;MandatoryProperty1&quot; : &quot;..&quot;,\r\n&quot;MandatoryProperty2&quot; : &quot;..&quot;,\r\n&quot;ignoreProperty1&quot; : &quot;..&quot;,\r\n&quot;ignoreProperty2&quot; : &quot;..&quot;\r\n}\r\n\r\n```\r\n\r\nPOJO:\r\n\r\n```\r\n@JsonIgnoreProperties(ignoreUnknown = true)\r\npublic class UserProperties {\r\n    private String name;\r\n    private String region;\r\n\r\n    @JsonProperty(value = &quot;username&quot;)\r\n    public void setRouteCode(final String name) {\r\n        this.name = name;\r\n    }\r\n\r\n    @JsonProperty(value = &quot;region&quot;)\r\n    public void setRouteCode(final String region) {\r\n        this.region = region;\r\n    }\r\n\r\n    // It should be a JSON Stringify, that should have both MandatoryProperty1 and MandatoryProperty2\r\n    private String mandatoryProperties;\r\n\r\n    @Data\r\n    public static class MandatoryProperties {\r\n        private String mandatoryProperty1;\r\n        private String mandatoryProperty2;\r\n\r\n        @JsonProperty(value = &quot;MandatoryProperty1&quot;)\r\n        public void setId(final String polygonType) {\r\n            this.mandatoryProperty1 = mandatoryProperty1;\r\n        }\r\n\r\n        @JsonProperty(value = &quot;MandatoryProperty2&quot;)\r\n        public void setId(final String polygonType) {\r\n            this.mandatoryProperty2 = mandatoryProperty2;\r\n        }\r\n    }\r\n}\r\n```\r\nI cannot use @JsonAnySetter because I don&#39;t want to add all the fields to my mandatoryProperties. \r\nIs it possible? \r\n","title":"Mapping JSON to a nested Java POJO","body":"<p>I am having difficulties mapping a JSON to a nested POJO class using Jackson.</p>\n<p>JSON:</p>\n<pre><code>{\n&quot;username&quot; : &quot;name123&quot;,\n&quot;region&quot; : &quot;EU&quot;,\n&quot;MandatoryProperty1&quot; : &quot;..&quot;,\n&quot;MandatoryProperty2&quot; : &quot;..&quot;,\n&quot;ignoreProperty1&quot; : &quot;..&quot;,\n&quot;ignoreProperty2&quot; : &quot;..&quot;\n}\n\n</code></pre>\n<p>POJO:</p>\n<pre><code>@JsonIgnoreProperties(ignoreUnknown = true)\npublic class UserProperties {\n    private String name;\n    private String region;\n\n    @JsonProperty(value = &quot;username&quot;)\n    public void setRouteCode(final String name) {\n        this.name = name;\n    }\n\n    @JsonProperty(value = &quot;region&quot;)\n    public void setRouteCode(final String region) {\n        this.region = region;\n    }\n\n    // It should be a JSON Stringify, that should have both MandatoryProperty1 and MandatoryProperty2\n    private String mandatoryProperties;\n\n    @Data\n    public static class MandatoryProperties {\n        private String mandatoryProperty1;\n        private String mandatoryProperty2;\n\n        @JsonProperty(value = &quot;MandatoryProperty1&quot;)\n        public void setId(final String polygonType) {\n            this.mandatoryProperty1 = mandatoryProperty1;\n        }\n\n        @JsonProperty(value = &quot;MandatoryProperty2&quot;)\n        public void setId(final String polygonType) {\n            this.mandatoryProperty2 = mandatoryProperty2;\n        }\n    }\n}\n</code></pre>\n<p>I cannot use @JsonAnySetter because I don't want to add all the fields to my mandatoryProperties.\nIs it possible?</p>\n"},{"tags":["java","spring-boot","gradle"],"comments":[{"owner":{"account_id":446597,"reputation":22464,"user_id":839733,"accept_rate":69,"display_name":"Abhijit Sarkar"},"score":2,"creation_date":1679160906,"post_id":75777521,"comment_id":133673504,"body_markdown":"The error message clearly indicates that Spring Boot 2.3.1 doesn&#39;t support Java 17. Try 11.","body":"The error message clearly indicates that Spring Boot 2.3.1 doesn&#39;t support Java 17. Try 11."},{"owner":{"account_id":25654570,"reputation":111,"user_id":19421233,"display_name":"Vidz Here"},"score":0,"creation_date":1679199741,"post_id":75777521,"comment_id":133677361,"body_markdown":"Error is mentioned here . -&gt;Caused by: .....ASM ClassReader failed to parse class file - probably due to a new Java class file version that isn&#39;t supported yet: file .  Also its good practice to use hyphen or underscore in project name instead of space","body":"Error is mentioned here . -&gt;Caused by: .....ASM ClassReader failed to parse class file - probably due to a new Java class file version that isn&#39;t supported yet: file .  Also its good practice to use hyphen or underscore in project name instead of space"}],"answers":[{"tags":[],"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679178675,"creation_date":1679178675,"answer_id":75779041,"question_id":75777521,"body_markdown":"*Any recent Spring Boot 2.x release will work really well with Java 17. You can also make use of Java 17 features (such as records) in your own codebases.*\r\n\r\nFrom [spring.io][1]\r\n\r\n*Spring Boot 2.3 adds support for Java 14. Java 8 and 11 are also supported.*\r\n\r\nFrom [Spring-Boot-2.3-Release-Notes][2]\r\n\r\nSo, not recent enough for Java 17\r\n\r\n\r\n  [1]: https://spring.io/blog/2022/05/24/preparing-for-spring-boot-3-0/#:~:text=Upgrade%20to%20Java%2017,records)%20in%20your%20own%20codebases.\r\n  [2]: https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-2.3-Release-Notes","title":"Can&#39;t run Spring Boot Application due to &quot;unsupported class file major version 61&quot;","body":"<p><em>Any recent Spring Boot 2.x release will work really well with Java 17. You can also make use of Java 17 features (such as records) in your own codebases.</em></p>\n<p>From [spring.io][1]</p>\n<p><em>Spring Boot 2.3 adds support for Java 14. Java 8 and 11 are also supported.</em></p>\n<p>From [Spring-Boot-2.3-Release-Notes][2]</p>\n<p>So, not recent enough for Java 17</p>\n<p>[1]: <a href=\"https://spring.io/blog/2022/05/24/preparing-for-spring-boot-3-0/#:%7E:text=Upgrade%20to%20Java%2017,records\" rel=\"nofollow noreferrer\">https://spring.io/blog/2022/05/24/preparing-for-spring-boot-3-0/#:~:text=Upgrade%20to%20Java%2017,records</a>)%20in%20your%20own%20codebases.\n[2]: <a href=\"https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-2.3-Release-Notes\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-2.3-Release-Notes</a></p>\n"}],"owner":{"account_id":28051908,"reputation":11,"user_id":21427639,"display_name":"pingusophie"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":899,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1679208977,"creation_date":1679160437,"question_id":75777521,"body_markdown":"I am doing a project from Jetbrains Academy to learn Spring boot, but when I imported the basic project structure into Intellij, the application doesn&#39;t even run at all. I checked my java version and verified that it is version 17, which should be compatible with the spring boot version.\r\n\r\nHere is my build.gradle :\r\n\r\n```\r\nplugins {\r\n    id &#39;java&#39;\r\n    id &#39;org.springframework.boot&#39; version &#39;2.3.1.RELEASE&#39;\r\n    id &#39;io.spring.dependency-management&#39; version &#39;1.0.9.RELEASE&#39;\r\n}\r\n\r\nrepositories {\r\n    mavenCentral()\r\n}\r\n\r\nsourceSets.main.resources.srcDirs = [&quot;src/resources&quot;]\r\n\r\ndependencies {\r\n    implementation &#39;org.springframework.boot:spring-boot-starter&#39;\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-actuator&#39;\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n    implementation &#39;com.h2database:h2&#39;\r\n    implementation group: &#39;org.hibernate&#39;, name: &#39;hibernate-validator&#39;, version: &#39;6.1.0.Final&#39;\r\n}\r\n```\r\n\r\n\r\n\r\n\r\nAnd below is the full error message that I get:\r\norg.springframework.beans.factory.BeanDefinitionStoreException: Failed to read candidate component class: file [/Users/sofialuk/IdeaProjects/Account Service/Account Service/task/out/production/classes/account/AccountServiceApplication.class]; nested exception is org.springframework.core.NestedIOException: ASM ClassReader failed to parse class file - probably due to a new Java class file version that isn&#39;t supported yet: file [/Users/sofialuk/IdeaProjects/Account Service/Account Service/task/out/production/classes/account/AccountServiceApplication.class]; nested exception is java.lang.IllegalArgumentException: Unsupported class file major version 61\r\n\tat org.springframework.context.annotation.ClassPathScanningCandidateComponentProvider.scanCandidateComponents(ClassPathScanningCandidateComponentProvider.java:452) ~[spring-context-5.2.7.RELEASE.jar:5.2.7.RELEASE]\r\n\tat org.springframework.context.annotation.ClassPathScanningCandidateComponentProvider.findCandidateComponents(ClassPathScanningCandidateComponentProvider.java:315) ~[spring-context-5.2.7.RELEASE.jar:5.2.7.RELEASE]\r\n\tat org.springframework.context.annotation.ClassPathBeanDefinitionScanner.doScan(ClassPathBeanDefinitionScanner.java:276) ~[spring-context-5.2.7.RELEASE.jar:5.2.7.RELEASE]\r\n\tat org.springframework.context.annotation.ComponentScanAnnotationParser.parse(ComponentScanAnnotationParser.java:132) ~[spring-context-5.2.7.RELEASE.jar:5.2.7.RELEASE]\r\n\tat org.springframework.context.annotation.ConfigurationClassParser.doProcessConfigurationClass(ConfigurationClassParser.java:295) ~[spring-context-5.2.7.RELEASE.jar:5.2.7.RELEASE]\r\n\tat org.springframework.context.annotation.ConfigurationClassParser.processConfigurationClass(ConfigurationClassParser.java:249) ~[spring-context-5.2.7.RELEASE.jar:5.2.7.RELEASE]\r\n\tat org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:206) ~[spring-context-5.2.7.RELEASE.jar:5.2.7.RELEASE]\r\n\tat org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:174) ~[spring-context-5.2.7.RELEASE.jar:5.2.7.RELEASE]\r\n\tat org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:319) ~[spring-context-5.2.7.RELEASE.jar:5.2.7.RELEASE]\r\n\tat org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:236) ~[spring-context-5.2.7.RELEASE.jar:5.2.7.RELEASE]\r\n\tat org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:280) ~[spring-context-5.2.7.RELEASE.jar:5.2.7.RELEASE]\r\n\tat org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:96) ~[spring-context-5.2.7.RELEASE.jar:5.2.7.RELEASE]\r\n\tat org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:707) ~[spring-context-5.2.7.RELEASE.jar:5.2.7.RELEASE]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:533) ~[spring-context-5.2.7.RELEASE.jar:5.2.7.RELEASE]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:143) ~[spring-boot-2.3.1.RELEASE.jar:2.3.1.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:758) ~[spring-boot-2.3.1.RELEASE.jar:2.3.1.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:750) ~[spring-boot-2.3.1.RELEASE.jar:2.3.1.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397) ~[spring-boot-2.3.1.RELEASE.jar:2.3.1.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:315) ~[spring-boot-2.3.1.RELEASE.jar:2.3.1.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1237) ~[spring-boot-2.3.1.RELEASE.jar:2.3.1.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1226) ~[spring-boot-2.3.1.RELEASE.jar:2.3.1.RELEASE]\r\n\tat account.AccountServiceApplication.main(AccountServiceApplication.java:10) ~[classes/:na]\r\nCaused by: org.springframework.core.NestedIOException: ASM ClassReader failed to parse class file - probably due to a new Java class file version that isn&#39;t supported yet: file [/Users/sofialuk/IdeaProjects/Account Service/Account Service/task/out/production/classes/account/AccountServiceApplication.class]; nested exception is java.lang.IllegalArgumentException: Unsupported class file major version 61\r\n\tat org.springframework.core.type.classreading.SimpleMetadataReader.getClassReader(SimpleMetadataReader.java:60) ~[spring-core-5.2.7.RELEASE.jar:5.2.7.RELEASE]\r\n\tat org.springframework.core.type.classreading.SimpleMetadataReader.&lt;init&gt;(SimpleMetadataReader.java:49) ~[spring-core-5.2.7.RELEASE.jar:5.2.7.RELEASE]\r\n\tat org.springframework.core.type.classreading.SimpleMetadataReaderFactory.getMetadataReader(SimpleMetadataReaderFactory.java:103) ~[spring-core-5.2.7.RELEASE.jar:5.2.7.RELEASE]\r\n\tat org.springframework.core.type.classreading.CachingMetadataReaderFactory.getMetadataReader(CachingMetadataReaderFactory.java:123) ~[spring-core-5.2.7.RELEASE.jar:5.2.7.RELEASE]\r\n\tat org.springframework.context.annotation.ClassPathScanningCandidateComponentProvider.scanCandidateComponents(ClassPathScanningCandidateComponentProvider.java:429) ~[spring-context-5.2.7.RELEASE.jar:5.2.7.RELEASE]\r\n\t... 21 common frames omitted\r\nCaused by: java.lang.IllegalArgumentException: Unsupported class file major version 61\r\n\tat org.springframework.asm.ClassReader.&lt;init&gt;(ClassReader.java:196) ~[spring-core-5.2.7.RELEASE.jar:5.2.7.RELEASE]\r\n\tat org.springframework.asm.ClassReader.&lt;init&gt;(ClassReader.java:177) ~[spring-core-5.2.7.RELEASE.jar:5.2.7.RELEASE]\r\n\tat org.springframework.asm.ClassReader.&lt;init&gt;(ClassReader.java:163) ~[spring-core-5.2.7.RELEASE.jar:5.2.7.RELEASE]\r\n\tat org.springframework.asm.ClassReader.&lt;init&gt;(ClassReader.java:284) ~[spring-core-5.2.7.RELEASE.jar:5.2.7.RELEASE]\r\n\tat org.springframework.core.type.classreading.SimpleMetadataReader.getClassReader(SimpleMetadataReader.java:57) ~[spring-core-5.2.7.RELEASE.jar:5.2.7.RELEASE]\r\n\t... 25 common frames omitted\r\n\r\n\r\nI&#39;ve tried googling this problem and the recommendation is always to check your java version and verify that it is compatible. But if I&#39;m not wrong Spring Boot 2.3.1.RELEASE is compatible with Java 17. According to the Spring Boot documentation, Spring Boot 2.3.x supports Java 8, 11, and 14, as well as any later Java versions.\r\n\r\nWould really appreciate any help on how to solve this :)","title":"Can&#39;t run Spring Boot Application due to &quot;unsupported class file major version 61&quot;","body":"<p>I am doing a project from Jetbrains Academy to learn Spring boot, but when I imported the basic project structure into Intellij, the application doesn't even run at all. I checked my java version and verified that it is version 17, which should be compatible with the spring boot version.</p>\n<p>Here is my build.gradle :</p>\n<pre><code>plugins {\n    id 'java'\n    id 'org.springframework.boot' version '2.3.1.RELEASE'\n    id 'io.spring.dependency-management' version '1.0.9.RELEASE'\n}\n\nrepositories {\n    mavenCentral()\n}\n\nsourceSets.main.resources.srcDirs = [&quot;src/resources&quot;]\n\ndependencies {\n    implementation 'org.springframework.boot:spring-boot-starter'\n    implementation 'org.springframework.boot:spring-boot-starter-actuator'\n    implementation 'org.springframework.boot:spring-boot-starter-web'\n    implementation 'com.h2database:h2'\n    implementation group: 'org.hibernate', name: 'hibernate-validator', version: '6.1.0.Final'\n}\n</code></pre>\n<p>And below is the full error message that I get:\norg.springframework.beans.factory.BeanDefinitionStoreException: Failed to read candidate component class: file [/Users/sofialuk/IdeaProjects/Account Service/Account Service/task/out/production/classes/account/AccountServiceApplication.class]; nested exception is org.springframework.core.NestedIOException: ASM ClassReader failed to parse class file - probably due to a new Java class file version that isn't supported yet: file [/Users/sofialuk/IdeaProjects/Account Service/Account Service/task/out/production/classes/account/AccountServiceApplication.class]; nested exception is java.lang.IllegalArgumentException: Unsupported class file major version 61\nat org.springframework.context.annotation.ClassPathScanningCandidateComponentProvider.scanCandidateComponents(ClassPathScanningCandidateComponentProvider.java:452) ~[spring-context-5.2.7.RELEASE.jar:5.2.7.RELEASE]\nat org.springframework.context.annotation.ClassPathScanningCandidateComponentProvider.findCandidateComponents(ClassPathScanningCandidateComponentProvider.java:315) ~[spring-context-5.2.7.RELEASE.jar:5.2.7.RELEASE]\nat org.springframework.context.annotation.ClassPathBeanDefinitionScanner.doScan(ClassPathBeanDefinitionScanner.java:276) ~[spring-context-5.2.7.RELEASE.jar:5.2.7.RELEASE]\nat org.springframework.context.annotation.ComponentScanAnnotationParser.parse(ComponentScanAnnotationParser.java:132) ~[spring-context-5.2.7.RELEASE.jar:5.2.7.RELEASE]\nat org.springframework.context.annotation.ConfigurationClassParser.doProcessConfigurationClass(ConfigurationClassParser.java:295) ~[spring-context-5.2.7.RELEASE.jar:5.2.7.RELEASE]\nat org.springframework.context.annotation.ConfigurationClassParser.processConfigurationClass(ConfigurationClassParser.java:249) ~[spring-context-5.2.7.RELEASE.jar:5.2.7.RELEASE]\nat org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:206) ~[spring-context-5.2.7.RELEASE.jar:5.2.7.RELEASE]\nat org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:174) ~[spring-context-5.2.7.RELEASE.jar:5.2.7.RELEASE]\nat org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:319) ~[spring-context-5.2.7.RELEASE.jar:5.2.7.RELEASE]\nat org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:236) ~[spring-context-5.2.7.RELEASE.jar:5.2.7.RELEASE]\nat org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:280) ~[spring-context-5.2.7.RELEASE.jar:5.2.7.RELEASE]\nat org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:96) ~[spring-context-5.2.7.RELEASE.jar:5.2.7.RELEASE]\nat org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:707) ~[spring-context-5.2.7.RELEASE.jar:5.2.7.RELEASE]\nat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:533) ~[spring-context-5.2.7.RELEASE.jar:5.2.7.RELEASE]\nat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:143) ~[spring-boot-2.3.1.RELEASE.jar:2.3.1.RELEASE]\nat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:758) ~[spring-boot-2.3.1.RELEASE.jar:2.3.1.RELEASE]\nat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:750) ~[spring-boot-2.3.1.RELEASE.jar:2.3.1.RELEASE]\nat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397) ~[spring-boot-2.3.1.RELEASE.jar:2.3.1.RELEASE]\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:315) ~[spring-boot-2.3.1.RELEASE.jar:2.3.1.RELEASE]\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:1237) ~[spring-boot-2.3.1.RELEASE.jar:2.3.1.RELEASE]\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:1226) ~[spring-boot-2.3.1.RELEASE.jar:2.3.1.RELEASE]\nat account.AccountServiceApplication.main(AccountServiceApplication.java:10) ~[classes/:na]\nCaused by: org.springframework.core.NestedIOException: ASM ClassReader failed to parse class file - probably due to a new Java class file version that isn't supported yet: file [/Users/sofialuk/IdeaProjects/Account Service/Account Service/task/out/production/classes/account/AccountServiceApplication.class]; nested exception is java.lang.IllegalArgumentException: Unsupported class file major version 61\nat org.springframework.core.type.classreading.SimpleMetadataReader.getClassReader(SimpleMetadataReader.java:60) ~[spring-core-5.2.7.RELEASE.jar:5.2.7.RELEASE]\nat org.springframework.core.type.classreading.SimpleMetadataReader.(SimpleMetadataReader.java:49) ~[spring-core-5.2.7.RELEASE.jar:5.2.7.RELEASE]\nat org.springframework.core.type.classreading.SimpleMetadataReaderFactory.getMetadataReader(SimpleMetadataReaderFactory.java:103) ~[spring-core-5.2.7.RELEASE.jar:5.2.7.RELEASE]\nat org.springframework.core.type.classreading.CachingMetadataReaderFactory.getMetadataReader(CachingMetadataReaderFactory.java:123) ~[spring-core-5.2.7.RELEASE.jar:5.2.7.RELEASE]\nat org.springframework.context.annotation.ClassPathScanningCandidateComponentProvider.scanCandidateComponents(ClassPathScanningCandidateComponentProvider.java:429) ~[spring-context-5.2.7.RELEASE.jar:5.2.7.RELEASE]\n... 21 common frames omitted\nCaused by: java.lang.IllegalArgumentException: Unsupported class file major version 61\nat org.springframework.asm.ClassReader.(ClassReader.java:196) ~[spring-core-5.2.7.RELEASE.jar:5.2.7.RELEASE]\nat org.springframework.asm.ClassReader.(ClassReader.java:177) ~[spring-core-5.2.7.RELEASE.jar:5.2.7.RELEASE]\nat org.springframework.asm.ClassReader.(ClassReader.java:163) ~[spring-core-5.2.7.RELEASE.jar:5.2.7.RELEASE]\nat org.springframework.asm.ClassReader.(ClassReader.java:284) ~[spring-core-5.2.7.RELEASE.jar:5.2.7.RELEASE]\nat org.springframework.core.type.classreading.SimpleMetadataReader.getClassReader(SimpleMetadataReader.java:57) ~[spring-core-5.2.7.RELEASE.jar:5.2.7.RELEASE]\n... 25 common frames omitted</p>\n<p>I've tried googling this problem and the recommendation is always to check your java version and verify that it is compatible. But if I'm not wrong Spring Boot 2.3.1.RELEASE is compatible with Java 17. According to the Spring Boot documentation, Spring Boot 2.3.x supports Java 8, 11, and 14, as well as any later Java versions.</p>\n<p>Would really appreciate any help on how to solve this :)</p>\n"},{"tags":["java","jsonpath"],"comments":[{"owner":{"account_id":2124329,"reputation":612,"user_id":1886904,"display_name":"egeorge"},"score":0,"creation_date":1679091637,"post_id":75772618,"comment_id":133665335,"body_markdown":"Can you show us your Java code for evaluating the jsonpath? Different libraries have different quirks.","body":"Can you show us your Java code for evaluating the jsonpath? Different libraries have different quirks."},{"owner":{"account_id":14046221,"reputation":23,"user_id":10146402,"display_name":"Harry"},"score":0,"creation_date":1679111912,"post_id":75772618,"comment_id":133667196,"body_markdown":"I am using https://github.com/json-path/JsonPath. Are there any other popular java libraries other than this ? Also I tried Intellij’s inbuilt Jaon expression evaluator and it also does not give me the desired output","body":"I am using <a href=\"https://github.com/json-path/JsonPath\" rel=\"nofollow noreferrer\">github.com/json-path/JsonPath</a>. Are there any other popular java libraries other than this ? Also I tried Intellij’s inbuilt Jaon expression evaluator and it also does not give me the desired output"}],"answers":[{"tags":[],"owner":{"account_id":4998502,"reputation":2080,"user_id":4018180,"accept_rate":60,"display_name":"Akshay G"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1679208255,"creation_date":1679208255,"answer_id":75780455,"question_id":75772618,"body_markdown":"when you use the `in` filter operator only the right-side expression should contain an array while the left side should be a single value.\r\n\r\nusing `in` filter operator\r\n\r\n    $..case_version__v.case_number__vr.none2b_references__cr[?(&#39;nci__c&#39; in @.source__c)].case_identifier__c\r\n\r\n","title":"Filtering array inside and array using jsonpath in java","body":"<p>when you use the <code>in</code> filter operator only the right-side expression should contain an array while the left side should be a single value.</p>\n<p>using <code>in</code> filter operator</p>\n<pre><code>$..case_version__v.case_number__vr.none2b_references__cr[?('nci__c' in @.source__c)].case_identifier__c\n</code></pre>\n"}],"owner":{"account_id":14046221,"reputation":23,"user_id":10146402,"display_name":"Harry"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":115,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":75780455,"answer_count":1,"score":1,"last_activity_date":1679208255,"creation_date":1679091247,"question_id":75772618,"body_markdown":"I am trying to get a value which is in an array under and array and an object with a filter but not able to achive what I want . I am using github.com/json-path/JsonPath.\r\n\r\n\r\n\r\nI need to get value case_identifier__c where source__c in [&#39;nci__c&#39;]. \r\n\r\n    {\r\n      &quot;case_version__v&quot;: {\r\n        &quot;case_number__vr&quot;: {\r\n          &quot;id&quot;: &quot;V2A000000001002&quot;,\r\n          &quot;none2b_references__cr&quot;: [\r\n            {\r\n              &quot;case_number__c&quot;: &quot;V2A000000001002&quot;,\r\n              &quot;case_identifier__c&quot;: &quot;THIS-IS-MINE&quot;,\r\n              &quot;id&quot;: &quot;V8C000000001001&quot;,\r\n              &quot;source__c&quot;: [\r\n                &quot;nci__c&quot;\r\n              ]\r\n            }\r\n          ]\r\n        }\r\n      }\r\n    }\r\n\r\nI have tried below JSONPATH but it returns me an empty value instead of [THIS-IS-MINE]\r\n\r\n    $..case_version__v.case_number__vr.none2b_references__cr[?(@.source__c in [&#39;nci__c&#39;])].case_identifier__c","title":"Filtering array inside and array using jsonpath in java","body":"<p>I am trying to get a value which is in an array under and array and an object with a filter but not able to achive what I want . I am using github.com/json-path/JsonPath.</p>\n<p>I need to get value case_identifier__c where source__c in ['nci__c'].</p>\n<pre><code>{\n  &quot;case_version__v&quot;: {\n    &quot;case_number__vr&quot;: {\n      &quot;id&quot;: &quot;V2A000000001002&quot;,\n      &quot;none2b_references__cr&quot;: [\n        {\n          &quot;case_number__c&quot;: &quot;V2A000000001002&quot;,\n          &quot;case_identifier__c&quot;: &quot;THIS-IS-MINE&quot;,\n          &quot;id&quot;: &quot;V8C000000001001&quot;,\n          &quot;source__c&quot;: [\n            &quot;nci__c&quot;\n          ]\n        }\n      ]\n    }\n  }\n}\n</code></pre>\n<p>I have tried below JSONPATH but it returns me an empty value instead of [THIS-IS-MINE]</p>\n<pre><code>$..case_version__v.case_number__vr.none2b_references__cr[?(@.source__c in ['nci__c'])].case_identifier__c\n</code></pre>\n"},{"tags":["java","selenium-webdriver","gradle","selenium-chromedriver","chrome-options"],"comments":[{"owner":{"account_id":12360572,"reputation":1730,"user_id":9014957,"accept_rate":17,"display_name":"pburgr"},"score":1,"creation_date":1631022237,"post_id":69088788,"comment_id":122107816,"body_markdown":"Why are you using RC version?","body":"Why are you using RC version?"},{"owner":{"account_id":15613239,"reputation":146,"user_id":11264031,"display_name":"Swastik"},"score":0,"creation_date":1631023681,"post_id":69088788,"comment_id":122108560,"body_markdown":"Before upgrading my selenium version i was getting `&quot;org.openqa.selenium.WebDriverException: Timed out waiting for driver server to start&quot;` this error, so i referred here [link](https://stackoverflow.com/questions/52110521/org-openqa-selenium-webdriverexception-timed-out-waiting-for-driver-server-to-s) and got to know that for my current java version i have to upgrade my Selenium version which is released after the release date of my current JDK version. Since my JDK was released in **April 20th 2021**, i just picked up recent Selenium version from MavenRepository","body":"Before upgrading my selenium version i was getting <code>&quot;org.openqa.selenium.WebDriverException: Timed out waiting for driver server to start&quot;</code> this error, so i referred here <a href=\"https://stackoverflow.com/questions/52110521/org-openqa-selenium-webdriverexception-timed-out-waiting-for-driver-server-to-s\">link</a> and got to know that for my current java version i have to upgrade my Selenium version which is released after the release date of my current JDK version. Since my JDK was released in <b>April 20th 2021</b>, i just picked up recent Selenium version from MavenRepository"},{"owner":{"account_id":15613239,"reputation":146,"user_id":11264031,"display_name":"Swastik"},"score":0,"creation_date":1631023713,"post_id":69088788,"comment_id":122108573,"body_markdown":"And i even checked with other recent version but still not getting same error","body":"And i even checked with other recent version but still not getting same error"}],"answers":[{"tags":[],"owner":{"account_id":10777133,"reputation":7282,"user_id":7928721,"display_name":"samabcde"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1631025077,"creation_date":1631024370,"answer_id":69089920,"question_id":69088788,"body_markdown":"You miss the following dependency\r\n```\r\nimplementation &#39;org.seleniumhq.selenium:selenium-remote-driver:4.0.0-rc-1&#39;\r\n```\r\nAs stated [in the official documentation][1], generally we can just use\r\n[`selenium-java`][2] dependency\r\n```\r\nimplementation &#39;org.seleniumhq.selenium:selenium-java:4.0.0-rc-1&#39;\r\n```\r\ninstead of   \r\n```\r\nimplementation &#39;org.seleniumhq.selenium:selenium-chrome-driver:4.0.0-rc-1&#39;\r\nimplementation &#39;org.seleniumhq.selenium:selenium-support:4.0.0-rc-1&#39;\r\nimplementation &#39;org.seleniumhq.selenium:selenium-remote-driver:4.0.0-rc-1&#39;\r\n```\r\nReference:  \r\n[Unable to set maven dependencies for RemoteWebDriver](https://stackoverflow.com/questions/56111196/unable-to-set-maven-dependencies-for-remotewebdriver)\r\n\r\n  [1]: https://www.selenium.dev/documentation/getting_started/installing_selenium_libraries/#java\r\n  [2]: https://mvnrepository.com/artifact/org.seleniumhq.selenium/selenium-java","title":"addArguments(java.lang.String... arguments) method of ChromeOptions is giving error","body":"<p>You miss the following dependency</p>\n<pre><code>implementation 'org.seleniumhq.selenium:selenium-remote-driver:4.0.0-rc-1'\n</code></pre>\n<p>As stated <a href=\"https://www.selenium.dev/documentation/getting_started/installing_selenium_libraries/#java\" rel=\"nofollow noreferrer\">in the official documentation</a>, generally we can just use\n<a href=\"https://mvnrepository.com/artifact/org.seleniumhq.selenium/selenium-java\" rel=\"nofollow noreferrer\"><code>selenium-java</code></a> dependency</p>\n<pre><code>implementation 'org.seleniumhq.selenium:selenium-java:4.0.0-rc-1'\n</code></pre>\n<p>instead of</p>\n<pre><code>implementation 'org.seleniumhq.selenium:selenium-chrome-driver:4.0.0-rc-1'\nimplementation 'org.seleniumhq.selenium:selenium-support:4.0.0-rc-1'\nimplementation 'org.seleniumhq.selenium:selenium-remote-driver:4.0.0-rc-1'\n</code></pre>\n<p>Reference:<br />\n<a href=\"https://stackoverflow.com/questions/56111196/unable-to-set-maven-dependencies-for-remotewebdriver\">Unable to set maven dependencies for RemoteWebDriver</a></p>\n"},{"tags":[],"owner":{"account_id":28034514,"reputation":1,"user_id":21413148,"display_name":"GANGAVARAMKRISHNAPPA NAGA TEJA"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679206961,"creation_date":1679206834,"answer_id":75780390,"question_id":69088788,"body_markdown":"Instead of giving strings as argument , the addArguments method is accepting arguments as a list of arguments.\r\nhere is what i did,and also worked\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/7A9ru.png\r\n\r\n","title":"addArguments(java.lang.String... arguments) method of ChromeOptions is giving error","body":"<p>Instead of giving strings as argument , the addArguments method is accepting arguments as a list of arguments.\nhere is what i did,and also worked</p>\n"}],"owner":{"account_id":15613239,"reputation":146,"user_id":11264031,"display_name":"Swastik"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2877,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":69089920,"answer_count":2,"score":2,"last_activity_date":1679206961,"creation_date":1631020046,"question_id":69088788,"body_markdown":"For the below code of setting chromeoptions using addArguments() method is giving following error\r\n\r\n    cannot access AbstractDriverOptions\r\n    options.addArguments(&quot;--disable-web-security&quot;);\r\n           ^\r\n    class file for org.openqa.selenium.remote.AbstractDriverOptions not found\r\n\r\nCode:\r\n\r\n    ChromeOptions options = new ChromeOptions();\r\n\r\n    options.addArguments(&quot;--disable-web-security&quot;);\r\n    options.addArguments(&quot;--headless&quot;);\r\n    options.addArguments(&quot;--window-size=2880,1800&quot;);\r\n    options.addArguments(&quot;--start-fullscreen&quot;);\r\n    options.addArguments(&quot;--disable-popup-blocking&quot;);\r\n    options.addArguments(&quot;--disable-notifications&quot;);\r\n    ...\r\n    ...\r\n\r\nThis code was working fine with older version of Selenium dependency but now i upgraded all my dependencies to new versions for some reasons and it&#39;s not working\r\n\r\nSelenium Dependencies:\r\n\r\n     implementation &#39;org.seleniumhq.selenium:selenium-chrome-driver:4.0.0-rc-1&#39;\r\n     implementation &#39;org.seleniumhq.selenium:selenium-support:4.0.0-rc-1&#39;\r\n\r\nbuild.gradle:\r\n\r\n    plugins {\r\n\tid &#39;org.springframework.boot&#39; version &#39;2.5.4&#39;\r\n\tid &#39;io.spring.dependency-management&#39; version &#39;1.0.11.RELEASE&#39;\r\n\tid &#39;java&#39;\r\n\tid &#39;org.ajoberstar.grgit&#39; version &#39;3.1.1&#39;\r\n    id &quot;com.gorylenko.gradle-git-properties&quot; version &quot;2.3.1&quot;\r\n    }\r\n\r\n    group = &#39;com.leadmi&#39;\r\n    if (project.hasProperty(&#39;appVersion&#39;)) {\r\n        version = &quot;${appVersion}&quot;\r\n    } else {\r\n        version = &quot;${version}-BRANCH-${grgit.branch.current().name}-SNAPSHOT&quot;\r\n    }\r\n    sourceCompatibility = &#39;1.8&#39;\r\n    \r\n    configurations {\r\n    \tcompileOnly {\r\n    \t\textendsFrom annotationProcessor\r\n    \t}\r\n    }\r\n    ext {\r\n    \tset(&#39;springCloudVersion&#39;, &quot;2020.0.3&quot;)\r\n    }\r\n    \r\n    repositories {\r\n    \tmavenCentral()\r\n    }\r\n    \r\n    dependencies {\r\n    \timplementation &#39;org.springframework.boot:spring-boot-starter-data-jpa&#39;\r\n    \timplementation &#39;org.springframework.boot:spring-boot-starter-mail&#39;\r\n    \timplementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n    \timplementation &#39;org.springframework.boot:spring-boot-starter-webflux&#39;\r\n    \tcompileOnly &#39;org.projectlombok:lombok&#39;\r\n    \truntimeOnly &#39;org.postgresql:postgresql&#39;\r\n    \tannotationProcessor &#39;org.projectlombok:lombok&#39;\r\n    \ttestImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n    \ttestImplementation &#39;io.projectreactor:reactor-test&#39;\r\n    \timplementation &#39;net.logstash.logback:logstash-logback-encoder:6.6&#39;\r\n    \ttestImplementation &#39;org.springdoc:springdoc-openapi-webmvc-core:1.5.10&#39;\r\n    \timplementation &#39;com.amazonaws:aws-java-sdk-s3:1.12.60&#39;\r\n    \timplementation &#39;com.googlecode.json-simple:json-simple:1.1.1&#39;\r\n    \timplementation &#39;commons-io:commons-io:2.11.0&#39;\r\n    \timplementation &#39;org.apache.commons:commons-lang3:3.12.0&#39;\r\n    \timplementation &#39;com.google.guava:guava:30.1.1-jre&#39;\r\n    \timplementation &#39;io.springfox:springfox-boot-starter:3.0.0&#39;\r\n    \timplementation &#39;org.springframework.boot:spring-boot-starter-actuator&#39;\r\n    \ttestImplementation &#39;org.springframework.kafka:spring-kafka-test&#39;\r\n        \r\n    \timplementation &#39;org.seleniumhq.selenium:selenium-chrome-driver:4.0.0-rc-1&#39;\r\n        implementation &#39;org.seleniumhq.selenium:selenium-support:4.0.0-rc-1&#39;\r\n    \r\n    \timplementation &#39;org.apache.httpcomponents:httpclient:4.5.13&#39;\r\n    \timplementation &#39;org.apache.commons:commons-collections4:4.4&#39;\r\n    \timplementation &#39;me.xdrop:fuzzywuzzy:1.3.1&#39;\r\n    \timplementation &#39;org.jsoup:jsoup:1.14.2&#39;\r\n    \timplementation &#39;us.codecraft:xsoup:0.3.2&#39;\r\n    \timplementation &#39;org.springframework.kafka:spring-kafka&#39;\r\n    \ttestImplementation &#39;org.springframework.kafka:spring-kafka-test&#39;\r\n    \r\n    \timplementation &#39;org.springframework.cloud:spring-cloud-starter-consul-config&#39;\r\n    \timplementation &#39;org.springframework.cloud:spring-cloud-starter-consul-discovery&#39;\r\n    }\r\n    \r\n    dependencyManagement {\r\n    \timports {\r\n    \t\tmavenBom &quot;org.springframework.cloud:spring-cloud-dependencies:${springCloudVersion}&quot;\r\n    \t}\r\n    }\r\n    \r\n    test {\r\n    \tuseJUnitPlatform()\r\n    }\r\n\r\nJava version I&#39;m using:\r\n\r\n    openjdk version &quot;1.8.0_292&quot;\r\n    OpenJDK Runtime Environment (build 1.8.0_292-8u292-b10-0ubuntu1~18.04-b10)\r\n    OpenJDK 64-Bit Server VM (build 25.292-b10, mixed mode)\r\n\r\nChrome Version:\r\n\r\n    Google Chrome 93.0.4577.63\r\n\r\nChrome Driver Version:\r\n\r\n    93.0.4577.15","title":"addArguments(java.lang.String... arguments) method of ChromeOptions is giving error","body":"<p>For the below code of setting chromeoptions using addArguments() method is giving following error</p>\n<pre><code>cannot access AbstractDriverOptions\noptions.addArguments(&quot;--disable-web-security&quot;);\n       ^\nclass file for org.openqa.selenium.remote.AbstractDriverOptions not found\n</code></pre>\n<p>Code:</p>\n<pre><code>ChromeOptions options = new ChromeOptions();\n\noptions.addArguments(&quot;--disable-web-security&quot;);\noptions.addArguments(&quot;--headless&quot;);\noptions.addArguments(&quot;--window-size=2880,1800&quot;);\noptions.addArguments(&quot;--start-fullscreen&quot;);\noptions.addArguments(&quot;--disable-popup-blocking&quot;);\noptions.addArguments(&quot;--disable-notifications&quot;);\n...\n...\n</code></pre>\n<p>This code was working fine with older version of Selenium dependency but now i upgraded all my dependencies to new versions for some reasons and it's not working</p>\n<p>Selenium Dependencies:</p>\n<pre><code> implementation 'org.seleniumhq.selenium:selenium-chrome-driver:4.0.0-rc-1'\n implementation 'org.seleniumhq.selenium:selenium-support:4.0.0-rc-1'\n</code></pre>\n<p>build.gradle:</p>\n<pre><code>plugins {\nid 'org.springframework.boot' version '2.5.4'\nid 'io.spring.dependency-management' version '1.0.11.RELEASE'\nid 'java'\nid 'org.ajoberstar.grgit' version '3.1.1'\nid &quot;com.gorylenko.gradle-git-properties&quot; version &quot;2.3.1&quot;\n}\n\ngroup = 'com.leadmi'\nif (project.hasProperty('appVersion')) {\n    version = &quot;${appVersion}&quot;\n} else {\n    version = &quot;${version}-BRANCH-${grgit.branch.current().name}-SNAPSHOT&quot;\n}\nsourceCompatibility = '1.8'\n\nconfigurations {\n    compileOnly {\n        extendsFrom annotationProcessor\n    }\n}\next {\n    set('springCloudVersion', &quot;2020.0.3&quot;)\n}\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    implementation 'org.springframework.boot:spring-boot-starter-data-jpa'\n    implementation 'org.springframework.boot:spring-boot-starter-mail'\n    implementation 'org.springframework.boot:spring-boot-starter-web'\n    implementation 'org.springframework.boot:spring-boot-starter-webflux'\n    compileOnly 'org.projectlombok:lombok'\n    runtimeOnly 'org.postgresql:postgresql'\n    annotationProcessor 'org.projectlombok:lombok'\n    testImplementation 'org.springframework.boot:spring-boot-starter-test'\n    testImplementation 'io.projectreactor:reactor-test'\n    implementation 'net.logstash.logback:logstash-logback-encoder:6.6'\n    testImplementation 'org.springdoc:springdoc-openapi-webmvc-core:1.5.10'\n    implementation 'com.amazonaws:aws-java-sdk-s3:1.12.60'\n    implementation 'com.googlecode.json-simple:json-simple:1.1.1'\n    implementation 'commons-io:commons-io:2.11.0'\n    implementation 'org.apache.commons:commons-lang3:3.12.0'\n    implementation 'com.google.guava:guava:30.1.1-jre'\n    implementation 'io.springfox:springfox-boot-starter:3.0.0'\n    implementation 'org.springframework.boot:spring-boot-starter-actuator'\n    testImplementation 'org.springframework.kafka:spring-kafka-test'\n    \n    implementation 'org.seleniumhq.selenium:selenium-chrome-driver:4.0.0-rc-1'\n    implementation 'org.seleniumhq.selenium:selenium-support:4.0.0-rc-1'\n\n    implementation 'org.apache.httpcomponents:httpclient:4.5.13'\n    implementation 'org.apache.commons:commons-collections4:4.4'\n    implementation 'me.xdrop:fuzzywuzzy:1.3.1'\n    implementation 'org.jsoup:jsoup:1.14.2'\n    implementation 'us.codecraft:xsoup:0.3.2'\n    implementation 'org.springframework.kafka:spring-kafka'\n    testImplementation 'org.springframework.kafka:spring-kafka-test'\n\n    implementation 'org.springframework.cloud:spring-cloud-starter-consul-config'\n    implementation 'org.springframework.cloud:spring-cloud-starter-consul-discovery'\n}\n\ndependencyManagement {\n    imports {\n        mavenBom &quot;org.springframework.cloud:spring-cloud-dependencies:${springCloudVersion}&quot;\n    }\n}\n\ntest {\n    useJUnitPlatform()\n}\n</code></pre>\n<p>Java version I'm using:</p>\n<pre><code>openjdk version &quot;1.8.0_292&quot;\nOpenJDK Runtime Environment (build 1.8.0_292-8u292-b10-0ubuntu1~18.04-b10)\nOpenJDK 64-Bit Server VM (build 25.292-b10, mixed mode)\n</code></pre>\n<p>Chrome Version:</p>\n<pre><code>Google Chrome 93.0.4577.63\n</code></pre>\n<p>Chrome Driver Version:</p>\n<pre><code>93.0.4577.15\n</code></pre>\n"},{"tags":["java","design-patterns","chain-of-responsibility"],"comments":[{"owner":{"account_id":9744171,"reputation":138,"user_id":7224691,"display_name":"Ben"},"score":1,"creation_date":1679223761,"post_id":75780278,"comment_id":133679561,"body_markdown":"something you could also consider is using a priority system (i.e. all handlers of the same highest priority are handled first etc.). Probably a bit overkill if you only have one handler that&#39;s highest priority though. I&#39;m not to sure how this effects the design pattern however.","body":"something you could also consider is using a priority system (i.e. all handlers of the same highest priority are handled first etc.). Probably a bit overkill if you only have one handler that&#39;s highest priority though. I&#39;m not to sure how this effects the design pattern however."}],"answers":[{"tags":[],"owner":{"account_id":5553464,"reputation":17547,"user_id":4405757,"accept_rate":57,"display_name":"Thiyagu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1679206569,"creation_date":1679206569,"answer_id":75780378,"question_id":75780278,"body_markdown":"This is a bit subjective.\r\n\r\nThis handler knows that a certain type of request must be handled by a certain handler&lt;sup&gt;1&lt;/sup&gt;. So, it bypasses the chain and invokes the handler directly. This means that this handler is aware of other (concrete) handlers in the chain (a leak of knowledge). \r\n\r\nNote: Rather than creating a new instance of the handler, you could have had a reference to the final handler instance in `SomeHandler`.\r\n\r\nAlternatively, you can make this decision before invoking the chain.\r\n\r\n```\r\npublic class Client {\r\n    private RequestProcessor chainOfRequestProcessors;\r\n    private RequestProcessor finalHandler; //instance of FinalHandler\r\n\r\n    public void process(Request request) {\r\n        if (&quot;TYPE_TWO&quot;.equalsIgnoreCase(request.getType())) {\r\n            finalHandler.process(request);\r\n        } else {\r\n            //handle normally\r\n            chainOfRequestProcessors.process(request);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\nA design pattern is just that. A pattern or a skeletal template for a solution to solve a particular type of problem. It doesn&#39;t mean you cannot *tweak* it and use it in a different way as per your use-case or need (given that you know what you are doing).\r\n\r\n---\r\n&lt;sup&gt;1&lt;/sup&gt;\r\nYou&#39;ve said ([emphasis mine])\r\n&gt; .... However in a **special scenario** if it&#39;s required to skip intermediate handlers and process request in the final handler ...\r\n\r\nBut in your example, the delegation happens in an usual way (by checking the request type). It appears that, in this example, you can simply keep delegating if none of the intermediate handlers can process request type `TYPE_TWO`. But I guess there is something more to determine when we should go straight to the last handler and the example has been simplified.","title":"Chain of responsibility special scenario","body":"<p>This is a bit subjective.</p>\n<p>This handler knows that a certain type of request must be handled by a certain handler<sup>1</sup>. So, it bypasses the chain and invokes the handler directly. This means that this handler is aware of other (concrete) handlers in the chain (a leak of knowledge).</p>\n<p>Note: Rather than creating a new instance of the handler, you could have had a reference to the final handler instance in <code>SomeHandler</code>.</p>\n<p>Alternatively, you can make this decision before invoking the chain.</p>\n<pre><code>public class Client {\n    private RequestProcessor chainOfRequestProcessors;\n    private RequestProcessor finalHandler; //instance of FinalHandler\n\n    public void process(Request request) {\n        if (&quot;TYPE_TWO&quot;.equalsIgnoreCase(request.getType())) {\n            finalHandler.process(request);\n        } else {\n            //handle normally\n            chainOfRequestProcessors.process(request);\n        }\n    }\n}\n</code></pre>\n<p>A design pattern is just that. A pattern or a skeletal template for a solution to solve a particular type of problem. It doesn't mean you cannot <em>tweak</em> it and use it in a different way as per your use-case or need (given that you know what you are doing).</p>\n<hr />\n<p><sup>1</sup>\nYou've said ([emphasis mine])</p>\n<blockquote>\n<p>.... However in a <strong>special scenario</strong> if it's required to skip intermediate handlers and process request in the final handler ...</p>\n</blockquote>\n<p>But in your example, the delegation happens in an usual way (by checking the request type). It appears that, in this example, you can simply keep delegating if none of the intermediate handlers can process request type <code>TYPE_TWO</code>. But I guess there is something more to determine when we should go straight to the last handler and the example has been simplified.</p>\n"}],"owner":{"account_id":4529293,"reputation":129,"user_id":3680270,"accept_rate":80,"display_name":"Kaveen"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":208,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75780378,"answer_count":1,"score":0,"last_activity_date":1679206569,"creation_date":1679204475,"question_id":75780278,"body_markdown":"In normal chain of responsibility design pattern implementation, handlers of the request will be added to the chain in a sequential order and will be executed accordingly. However in a special scenario if it&#39;s required to skip intermediate handlers and process request in the final handler, will it violate COR design pattern?\r\nPlease refer the code snippets below. Hope it will clarify this further. \r\nThanks in advance.\r\n\r\n    public class SomeHandler extends RequestProcessor {\r\n\r\n    public SomeHandler() {\r\n        super();\r\n    }\r\n\r\n    @Override\r\n    public void process(Request request) {\r\n        if (request != null) {\r\n            //Logic to decide request type\r\n            if (&quot;TYPE_ONE&quot;.equalsIgnoreCase(request.getType())) {\r\n                //passing to next object in the chain. Multiple chains...\r\n                this.nextRequestProcessor.process(request);\r\n            } else if (&quot;TYPE_TWO&quot;.equalsIgnoreCase(request.getType())) {\r\n                //passing to the last object in the chain,skip all the other intermediate objects\r\n                new FinalHandler().process(request);\r\n            }\r\n        }\r\n    }\r\n}","title":"Chain of responsibility special scenario","body":"<p>In normal chain of responsibility design pattern implementation, handlers of the request will be added to the chain in a sequential order and will be executed accordingly. However in a special scenario if it's required to skip intermediate handlers and process request in the final handler, will it violate COR design pattern?\nPlease refer the code snippets below. Hope it will clarify this further.\nThanks in advance.</p>\n<pre><code>public class SomeHandler extends RequestProcessor {\n\npublic SomeHandler() {\n    super();\n}\n\n@Override\npublic void process(Request request) {\n    if (request != null) {\n        //Logic to decide request type\n        if (&quot;TYPE_ONE&quot;.equalsIgnoreCase(request.getType())) {\n            //passing to next object in the chain. Multiple chains...\n            this.nextRequestProcessor.process(request);\n        } else if (&quot;TYPE_TWO&quot;.equalsIgnoreCase(request.getType())) {\n            //passing to the last object in the chain,skip all the other intermediate objects\n            new FinalHandler().process(request);\n        }\n    }\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","mysql","visual-studio-code","jdbc","connection"],"owner":{"account_id":28054711,"reputation":1,"user_id":21429934,"display_name":"Mihir Chauhan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1679205809,"answer_count":0,"score":0,"last_activity_date":1679205935,"creation_date":1679198134,"question_id":75779992,"body_markdown":"\r\n\r\n        import java.sql.*;\r\n        \r\n        public class jdbc1 { public static ResultSet ResultSetrs; public static ResultSet rs;\r\n        class MysqlCon {\r\n            public static void main(String args[]) {\r\n                try {\r\n                    Class.forName(&quot;com.mysql.jdbc.Driver&quot;);\r\n                    Connection con = DriverManager.getConnection(\r\n                            &quot;jdbc:mysqli://localhost:3306/office&quot;, &quot;root&quot;, &quot;&quot;);\r\n                    Statement stmt = con.createStatement();\r\n                    ResultSetrs = stmt.executeQuery(&quot;select * from department&quot;);\r\n                    while (rs.next())\r\n                        System.out.println(rs.getInt(1) + &quot; &quot; + rs.getString(2));\r\n                    con.close();\r\n                } catch (Exception e) {\r\n                    System.out.println(e);\r\n                }\r\n            }\r\n        }\r\n    \r\n    }\r\n\r\n&gt; java.lang.ClassNotFoundException: com.mysql.cj.jdbc.Driver\r\n\r\n  can anyone help\r\n","title":"JDBC with VSCode class not found and i set classpath","body":"<pre><code>    import java.sql.*;\n    \n    public class jdbc1 { public static ResultSet ResultSetrs; public static ResultSet rs;\n    class MysqlCon {\n        public static void main(String args[]) {\n            try {\n                Class.forName(&quot;com.mysql.jdbc.Driver&quot;);\n                Connection con = DriverManager.getConnection(\n                        &quot;jdbc:mysqli://localhost:3306/office&quot;, &quot;root&quot;, &quot;&quot;);\n                Statement stmt = con.createStatement();\n                ResultSetrs = stmt.executeQuery(&quot;select * from department&quot;);\n                while (rs.next())\n                    System.out.println(rs.getInt(1) + &quot; &quot; + rs.getString(2));\n                con.close();\n            } catch (Exception e) {\n                System.out.println(e);\n            }\n        }\n    }\n\n}\n</code></pre>\n<blockquote>\n<p>java.lang.ClassNotFoundException: com.mysql.cj.jdbc.Driver</p>\n</blockquote>\n<p>can anyone help</p>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":5861083,"reputation":4291,"user_id":4616753,"display_name":"Camille Gerin-Roze"},"score":0,"creation_date":1487463875,"post_id":42322156,"comment_id":71797781,"body_markdown":"have you correctly install Demo in you maven repository ? if you&#39;re not sure, run the command : mvn clean install","body":"have you correctly install Demo in you maven repository ? if you&#39;re not sure, run the command : mvn clean install"},{"owner":{"account_id":3157119,"reputation":77,"user_id":2669285,"accept_rate":40,"display_name":"user2669285"},"score":0,"creation_date":1487484732,"post_id":42322156,"comment_id":71801524,"body_markdown":"Edited my question. Yes, it&#39;s installed correctly as stated in original questions.","body":"Edited my question. Yes, it&#39;s installed correctly as stated in original questions."},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1487505010,"post_id":42322156,"comment_id":71806397,"body_markdown":"The problem is that the class `Aclass` can not being found. The question is where is this class defined? This class `Aclass` is referenced in `com.example.Demo2Application`?","body":"The problem is that the class <code>Aclass</code> can not being found. The question is where is this class defined? This class <code>Aclass</code> is referenced in <code>com.example.Demo2Application</code>?"}],"answers":[{"tags":[],"owner":{"account_id":78138,"reputation":343,"user_id":533894,"accept_rate":75,"display_name":"nofomopls"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1679202722,"creation_date":1487468549,"answer_id":42322742,"question_id":42322156,"body_markdown":"Maven didn&#39;t found package **com.example** in this configuration.\r\n\r\n    &lt;dependency&gt;\r\n         &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n         &lt;artifactId&gt;demo&lt;/artifactId&gt;\r\n         &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt; &lt;/dependency&gt;\r\n\r\nSo you must install this package as local package by use command: **mvn clean install** in the first project. \r\n\r\nOr you can also install it as 3rd party package by using:\r\n\r\n&gt; mvn install:install-file -Dfile={your directory}\\demo-{version}.jar\r\n&gt; -DgroupId=com.example\r\n&gt; -DartifactId=demo -Dversion={version} -Dpackaging=jar\r\n\r\nAfter install correctly, it will works.\r\n\r\n\r\nWith version 2.5 of the maven-install-plugin, it can get even simpler: if the JAR was built by Apache Maven, it&#39;ll contain a pom.xml in a subdirectory of the META-INF/ directory, which will be read by default. In that case, all you need to do is:\r\n\r\n`mvn org.apache.maven.plugins:maven-install-plugin:2.5.2:install-file -Dfile=&lt;path-to-file&gt;`\r\n\r\nhttps://maven.apache.org/guides/mini/guide-3rd-party-jars-local.html","title":"Maven cannot find dependency in local repository","body":"<p>Maven didn't found package <strong>com.example</strong> in this configuration.</p>\n<pre><code>&lt;dependency&gt;\n     &lt;groupId&gt;com.example&lt;/groupId&gt;\n     &lt;artifactId&gt;demo&lt;/artifactId&gt;\n     &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt; &lt;/dependency&gt;\n</code></pre>\n<p>So you must install this package as local package by use command: <strong>mvn clean install</strong> in the first project.</p>\n<p>Or you can also install it as 3rd party package by using:</p>\n<blockquote>\n<p>mvn install:install-file -Dfile={your directory}\\demo-{version}.jar\n-DgroupId=com.example\n-DartifactId=demo -Dversion={version} -Dpackaging=jar</p>\n</blockquote>\n<p>After install correctly, it will works.</p>\n<p>With version 2.5 of the maven-install-plugin, it can get even simpler: if the JAR was built by Apache Maven, it'll contain a pom.xml in a subdirectory of the META-INF/ directory, which will be read by default. In that case, all you need to do is:</p>\n<p><code>mvn org.apache.maven.plugins:maven-install-plugin:2.5.2:install-file -Dfile=&lt;path-to-file&gt;</code></p>\n<p><a href=\"https://maven.apache.org/guides/mini/guide-3rd-party-jars-local.html\" rel=\"nofollow noreferrer\">https://maven.apache.org/guides/mini/guide-3rd-party-jars-local.html</a></p>\n"},{"tags":[],"owner":{"account_id":10157663,"reputation":902,"user_id":7502221,"display_name":"VinPro"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1487470741,"creation_date":1487470741,"answer_id":42322941,"question_id":42322156,"body_markdown":"Here are few suggestions:\r\n\r\n 1. Run your broken build with &quot;mvn -X clean install&quot; for debugging. The log should include what repo. URLs Maven is looking for each dependency.\r\n 2. Unzip your jar file to verify classes you want are included or not.","title":"Maven cannot find dependency in local repository","body":"<p>Here are few suggestions:</p>\n\n<ol>\n<li>Run your broken build with \"mvn -X clean install\" for debugging. The log should include what repo. URLs Maven is looking for each dependency.</li>\n<li>Unzip your jar file to verify classes you want are included or not.</li>\n</ol>\n"}],"owner":{"account_id":3157119,"reputation":77,"user_id":2669285,"accept_rate":40,"display_name":"user2669285"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13422,"favorite_count":0,"down_vote_count":3,"up_vote_count":2,"closed_date":1487470851,"answer_count":2,"score":-1,"last_activity_date":1679202722,"creation_date":1487463136,"question_id":42322156,"body_markdown":"It seems very simple so I must have some problem with configuration.\r\nThere is a demo project with pom:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n    \t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;demo&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;packaging&gt;jar&lt;/packaging&gt;\r\n    \r\n    \t&lt;name&gt;demo&lt;/name&gt;\r\n    \t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n    \r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;1.5.1.RELEASE&lt;/version&gt;\r\n    \t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \r\n    \t&lt;properties&gt;\r\n    \t\t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    \t\t&lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n    \t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    \r\n    &lt;/project&gt;\r\n\r\n\r\nThis project build and installs correctly in my .m2\r\nThen I have another project, with pom:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n    \t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;demo2&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;packaging&gt;jar&lt;/packaging&gt;\r\n    \r\n    \t&lt;name&gt;demo2&lt;/name&gt;\r\n    \t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n    \r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;1.5.1.RELEASE&lt;/version&gt;\r\n    \t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \r\n    \t&lt;properties&gt;\r\n    \t\t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    \t\t&lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n    \t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;demo&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    \r\n    &lt;/project&gt;\r\n\r\n\r\nWhen trying to access a class from demo, I get:\r\n\r\n    [INFO] Scanning for projects...\r\n    [INFO]                                                                         \r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Building demo2 0.0.1-SNAPSHOT\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] \r\n    [INFO] --- maven-clean-plugin:2.6.1:clean (default-clean) @ demo2 ---\r\n    [INFO] Deleting /home/lukasz/parent/demo2/target\r\n    [INFO] \r\n    [INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ demo2 ---\r\n    [INFO] Using &#39;UTF-8&#39; encoding to copy filtered resources.\r\n    [INFO] Copying 1 resource\r\n    [INFO] Copying 0 resource\r\n    [INFO] \r\n    [INFO] --- maven-compiler-plugin:3.1:compile (default-compile) @ demo2 ---\r\n    [INFO] Changes detected - recompiling the module!\r\n    [INFO] Compiling 1 source file to /home/lukasz/parent/demo2/target/classes\r\n    [INFO] -------------------------------------------------------------\r\n    [ERROR] COMPILATION ERROR : \r\n    [INFO] -------------------------------------------------------------\r\n    [ERROR] /home/lukasz/parent/demo2/src/main/java/com/example/Demo2Application.java:[11,17] cannot find symbol\r\n      symbol:   class Aclass\r\n      location: class com.example.Demo2Application\r\n    [ERROR] /home/lukasz/parent/demo2/src/main/java/com/example/Demo2Application.java:[11,32] cannot find symbol\r\n      symbol:   class Aclass\r\n      location: class com.example.Demo2Application\r\n    [INFO] 2 errors \r\n    [INFO] -------------------------------------------------------------\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] BUILD FAILURE\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Total time: 3.096 s\r\n    [INFO] Finished at: 2017-02-19T01:11:21+01:00\r\n    [INFO] Final Memory: 21M/203M\r\n    [INFO] ------------------------------------------------------------------------\r\n    [ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.1:compile (default-compile) on project demo2: Compilation failure: Compilation failure:\r\n    [ERROR] /home/lukasz/parent/demo2/src/main/java/com/example/Demo2Application.java:[11,17] cannot find symbol\r\n    [ERROR] symbol:   class Aclass\r\n    [ERROR] location: class com.example.Demo2Application\r\n    [ERROR] /home/lukasz/parent/demo2/src/main/java/com/example/Demo2Application.java:[11,32] cannot find symbol\r\n    [ERROR] symbol:   class Aclass\r\n    [ERROR] location: class com.example.Demo2Application\r\n    [ERROR] -&gt; [Help 1]\r\n    [ERROR] \r\n    [ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\r\n    [ERROR] Re-run Maven using the -X switch to enable full debug logging.\r\n    [ERROR] \r\n    [ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n    [ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException\r\n\r\n\r\nWhat am I missing?\r\n\r\n**EDIT:**\r\nObviously, I did `mvn clean install` on demo project. Funny thing is I can  use with:\r\n\r\n    javac -cp  .m2/repository/com/example/demo/0.0.1-SNAPSHOT/demo-0.0.1-SNAPSHOT.jar &lt;any java file here&gt;\r\n\r\n**EDIT:**\r\nLast part of mvn -X:\r\n\r\n    [DEBUG] Classpath: [/home/ala/parent/demo2/target/classes\r\n     /home/ala/.m2/repository/com/example/demo/0.0.1-SNAPSHOT/demo-0.0.1-SNAPSHOT.jar\r\n     /home/ala/.m2/repository/org/springframework/boot/spring-boot-starter/1.5.1.RELEASE/spring-boot-starter-1.5.1.RELEASE.jar\r\n     /home/ala/.m2/repository/org/springframework/boot/spring-boot/1.5.1.RELEASE/spring-boot-1.5.1.RELEASE.jar\r\n     /home/ala/.m2/repository/org/springframework/spring-context/4.3.6.RELEASE/spring-context-4.3.6.RELEASE.jar\r\n     /home/ala/.m2/repository/org/springframework/spring-aop/4.3.6.RELEASE/spring-aop-4.3.6.RELEASE.jar\r\n     /home/ala/.m2/repository/org/springframework/spring-beans/4.3.6.RELEASE/spring-beans-4.3.6.RELEASE.jar\r\n     /home/ala/.m2/repository/org/springframework/spring-expression/4.3.6.RELEASE/spring-expression-4.3.6.RELEASE.jar\r\n     /home/ala/.m2/repository/org/springframework/boot/spring-boot-autoconfigure/1.5.1.RELEASE/spring-boot-autoconfigure-1.5.1.RELEASE.jar\r\n     /home/ala/.m2/repository/org/springframework/boot/spring-boot-starter-logging/1.5.1.RELEASE/spring-boot-starter-logging-1.5.1.RELEASE.jar\r\n     /home/ala/.m2/repository/ch/qos/logback/logback-classic/1.1.9/logback-classic-1.1.9.jar\r\n     /home/ala/.m2/repository/ch/qos/logback/logback-core/1.1.9/logback-core-1.1.9.jar\r\n     /home/ala/.m2/repository/org/slf4j/jcl-over-slf4j/1.7.22/jcl-over-slf4j-1.7.22.jar\r\n     /home/ala/.m2/repository/org/slf4j/jul-to-slf4j/1.7.22/jul-to-slf4j-1.7.22.jar\r\n     /home/ala/.m2/repository/org/slf4j/log4j-over-slf4j/1.7.22/log4j-over-slf4j-1.7.22.jar\r\n     /home/ala/.m2/repository/org/springframework/spring-core/4.3.6.RELEASE/spring-core-4.3.6.RELEASE.jar\r\n     /home/ala/.m2/repository/org/slf4j/slf4j-api/1.7.22/slf4j-api-1.7.22.jar]\r\n    [DEBUG] Output directory: /home/ala/parent/demo2/target/classes\r\n    [DEBUG] CompilerReuseStrategy: reuseCreated\r\n    [DEBUG] useIncrementalCompilation enabled\r\n    [DEBUG] Stale source detected: /home/ala/parent/demo2/src/main/java/com/example/Demo2Application.java\r\n    [INFO] Changes detected - recompiling the module!\r\n    [DEBUG] Classpath:\r\n    [DEBUG]  /home/ala/parent/demo2/target/classes\r\n    [DEBUG]  /home/ala/.m2/repository/com/example/demo/0.0.1-SNAPSHOT/demo-0.0.1-SNAPSHOT.jar\r\n    [DEBUG]  /home/ala/.m2/repository/org/springframework/boot/spring-boot-starter/1.5.1.RELEASE/spring-boot-starter-1.5.1.RELEASE.jar\r\n    [DEBUG]  /home/ala/.m2/repository/org/springframework/boot/spring-boot/1.5.1.RELEASE/spring-boot-1.5.1.RELEASE.jar\r\n    [DEBUG]  /home/ala/.m2/repository/org/springframework/spring-context/4.3.6.RELEASE/spring-context-4.3.6.RELEASE.jar\r\n    [DEBUG]  /home/ala/.m2/repository/org/springframework/spring-aop/4.3.6.RELEASE/spring-aop-4.3.6.RELEASE.jar\r\n    [DEBUG]  /home/ala/.m2/repository/org/springframework/spring-beans/4.3.6.RELEASE/spring-beans-4.3.6.RELEASE.jar\r\n    [DEBUG]  /home/ala/.m2/repository/org/springframework/spring-expression/4.3.6.RELEASE/spring-expression-4.3.6.RELEASE.jar\r\n    [DEBUG]  /home/ala/.m2/repository/org/springframework/boot/spring-boot-autoconfigure/1.5.1.RELEASE/spring-boot-autoconfigure-1.5.1.RELEASE.jar\r\n    [DEBUG]  /home/ala/.m2/repository/org/springframework/boot/spring-boot-starter-logging/1.5.1.RELEASE/spring-boot-starter-logging-1.5.1.RELEASE.jar\r\n    [DEBUG]  /home/ala/.m2/repository/ch/qos/logback/logback-classic/1.1.9/logback-classic-1.1.9.jar\r\n    [DEBUG]  /home/ala/.m2/repository/ch/qos/logback/logback-core/1.1.9/logback-core-1.1.9.jar\r\n    [DEBUG]  /home/ala/.m2/repository/org/slf4j/jcl-over-slf4j/1.7.22/jcl-over-slf4j-1.7.22.jar\r\n    [DEBUG]  /home/ala/.m2/repository/org/slf4j/jul-to-slf4j/1.7.22/jul-to-slf4j-1.7.22.jar\r\n    [DEBUG]  /home/ala/.m2/repository/org/slf4j/log4j-over-slf4j/1.7.22/log4j-over-slf4j-1.7.22.jar\r\n    [DEBUG]  /home/ala/.m2/repository/org/springframework/spring-core/4.3.6.RELEASE/spring-core-4.3.6.RELEASE.jar\r\n    [DEBUG]  /home/ala/.m2/repository/org/slf4j/slf4j-api/1.7.22/slf4j-api-1.7.22.jar\r\n    [DEBUG] Source roots:\r\n    [DEBUG]  /home/ala/parent/demo2/src/main/java\r\n    [DEBUG] Command line options:\r\n    [DEBUG] -d /home/ala/parent/demo2/target/classes -classpath /home/ala/parent/demo2/target/classes:/home/ala/.m2/repository/com/example/demo/0.0.1-SNAPSHOT/demo-0.0.1-SNAPSHOT.jar:/home/ala/.m2/repository/org/springframework/boot/spring-boot-starter/1.5.1.RELEASE/spring-boot-starter-1.5.1.RELEASE.jar:/home/ala/.m2/repository/org/springframework/boot/spring-boot/1.5.1.RELEASE/spring-boot-1.5.1.RELEASE.jar:/home/ala/.m2/repository/org/springframework/spring-context/4.3.6.RELEASE/spring-context-4.3.6.RELEASE.jar:/home/ala/.m2/repository/org/springframework/spring-aop/4.3.6.RELEASE/spring-aop-4.3.6.RELEASE.jar:/home/ala/.m2/repository/org/springframework/spring-beans/4.3.6.RELEASE/spring-beans-4.3.6.RELEASE.jar:/home/ala/.m2/repository/org/springframework/spring-expression/4.3.6.RELEASE/spring-expression-4.3.6.RELEASE.jar:/home/ala/.m2/repository/org/springframework/boot/spring-boot-autoconfigure/1.5.1.RELEASE/spring-boot-autoconfigure-1.5.1.RELEASE.jar:/home/ala/.m2/repository/org/springframework/boot/spring-boot-starter-logging/1.5.1.RELEASE/spring-boot-starter-logging-1.5.1.RELEASE.jar:/home/ala/.m2/repository/ch/qos/logback/logback-classic/1.1.9/logback-classic-1.1.9.jar:/home/ala/.m2/repository/ch/qos/logback/logback-core/1.1.9/logback-core-1.1.9.jar:/home/ala/.m2/repository/org/slf4j/jcl-over-slf4j/1.7.22/jcl-over-slf4j-1.7.22.jar:/home/ala/.m2/repository/org/slf4j/jul-to-slf4j/1.7.22/jul-to-slf4j-1.7.22.jar:/home/ala/.m2/repository/org/slf4j/log4j-over-slf4j/1.7.22/log4j-over-slf4j-1.7.22.jar:/home/ala/.m2/repository/org/springframework/spring-core/4.3.6.RELEASE/spring-core-4.3.6.RELEASE.jar:/home/ala/.m2/repository/org/slf4j/slf4j-api/1.7.22/slf4j-api-1.7.22.jar: -sourcepath /home/ala/parent/demo2/src/main/java: -s /home/ala/parent/demo2/target/generated-sources/annotations -g -nowarn -target 1.8 -source 1.8 -encoding UTF-8\r\n    [DEBUG] incrementalBuildHelper#beforeRebuildExecution\r\n    [INFO] Compiling 1 source file to /home/ala/parent/demo2/target/classes\r\n    [DEBUG] incrementalBuildHelper#afterRebuildExecution\r\n    [INFO] -------------------------------------------------------------\r\n    [ERROR] COMPILATION ERROR : \r\n    [INFO] -------------------------------------------------------------\r\n    [ERROR] /home/ala/parent/demo2/src/main/java/com/example/Demo2Application.java:[11,17] cannot find symbol\r\n      symbol:   class Aclass\r\n      location: class com.example.Demo2Application\r\n    [ERROR] /home/ala/parent/demo2/src/main/java/com/example/Demo2Application.java:[11,32] cannot find symbol\r\n      symbol:   class Aclass\r\n      location: class com.example.Demo2Application\r\n    [INFO] 2 errors \r\n    [INFO] -------------------------------------------------------------\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] BUILD FAILURE\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Total time: 2.789 s\r\n    [INFO] Finished at: 2017-02-19T07:15:39+01:00\r\n    [INFO] Final Memory: 21M/201M\r\n    [INFO] ------------------------------------------------------------------------\r\n    [ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.1:compile (default-compile) on project demo2: Compilation failure: Compilation failure:\r\n    [ERROR] /home/ala/parent/demo2/src/main/java/com/example/Demo2Application.java:[11,17] cannot find symbol\r\n    [ERROR] symbol:   class Aclass\r\n    [ERROR] location: class com.example.Demo2Application\r\n    [ERROR] /home/ala/parent/demo2/src/main/java/com/example/Demo2Application.java:[11,32] cannot find symbol\r\n    [ERROR] symbol:   class Aclass\r\n    [ERROR] location: class com.example.Demo2Application\r\n    [ERROR] -&gt; [Help 1]\r\n    org.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.1:compile (default-compile) on project demo2: Compilation failure\r\n    \tat org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:212)\r\n    \tat org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:153)\r\n    \tat org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:145)\r\n    \tat org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:116)\r\n    \tat org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:80)\r\n    \tat org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build(SingleThreadedBuilder.java:51)\r\n    \tat org.apache.maven.lifecycle.internal.LifecycleStarter.execute(LifecycleStarter.java:128)\r\n    \tat org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:307)\r\n    \tat org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:193)\r\n    \tat org.apache.maven.DefaultMaven.execute(DefaultMaven.java:106)\r\n    \tat org.apache.maven.cli.MavenCli.execute(MavenCli.java:863)\r\n    \tat org.apache.maven.cli.MavenCli.doMain(MavenCli.java:288)\r\n    \tat org.apache.maven.cli.MavenCli.main(MavenCli.java:199)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n    \tat org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:289)\r\n    \tat org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:229)\r\n    \tat org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:415)\r\n    \tat org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:356)\r\n    Caused by: org.apache.maven.plugin.compiler.CompilationFailureException: Compilation failure\r\n    \tat org.apache.maven.plugin.compiler.AbstractCompilerMojo.execute(AbstractCompilerMojo.java:858)\r\n    \tat org.apache.maven.plugin.compiler.CompilerMojo.execute(CompilerMojo.java:129)\r\n    \tat org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:134)\r\n    \tat org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:207)\r\n    \t... 20 more\r\n    [ERROR] \r\n    [ERROR] \r\n    [ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n    [ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException","title":"Maven cannot find dependency in local repository","body":"<p>It seems very simple so I must have some problem with configuration.\nThere is a demo project with pom:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;demo&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n\n    &lt;name&gt;demo&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;1.5.1.RELEASE&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n\n&lt;/project&gt;\n</code></pre>\n\n<p>This project build and installs correctly in my .m2\nThen I have another project, with pom:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;demo2&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n\n    &lt;name&gt;demo2&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;1.5.1.RELEASE&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.example&lt;/groupId&gt;\n            &lt;artifactId&gt;demo&lt;/artifactId&gt;\n            &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n\n&lt;/project&gt;\n</code></pre>\n\n<p>When trying to access a class from demo, I get:</p>\n\n<pre><code>[INFO] Scanning for projects...\n[INFO]                                                                         \n[INFO] ------------------------------------------------------------------------\n[INFO] Building demo2 0.0.1-SNAPSHOT\n[INFO] ------------------------------------------------------------------------\n[INFO] \n[INFO] --- maven-clean-plugin:2.6.1:clean (default-clean) @ demo2 ---\n[INFO] Deleting /home/lukasz/parent/demo2/target\n[INFO] \n[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ demo2 ---\n[INFO] Using 'UTF-8' encoding to copy filtered resources.\n[INFO] Copying 1 resource\n[INFO] Copying 0 resource\n[INFO] \n[INFO] --- maven-compiler-plugin:3.1:compile (default-compile) @ demo2 ---\n[INFO] Changes detected - recompiling the module!\n[INFO] Compiling 1 source file to /home/lukasz/parent/demo2/target/classes\n[INFO] -------------------------------------------------------------\n[ERROR] COMPILATION ERROR : \n[INFO] -------------------------------------------------------------\n[ERROR] /home/lukasz/parent/demo2/src/main/java/com/example/Demo2Application.java:[11,17] cannot find symbol\n  symbol:   class Aclass\n  location: class com.example.Demo2Application\n[ERROR] /home/lukasz/parent/demo2/src/main/java/com/example/Demo2Application.java:[11,32] cannot find symbol\n  symbol:   class Aclass\n  location: class com.example.Demo2Application\n[INFO] 2 errors \n[INFO] -------------------------------------------------------------\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time: 3.096 s\n[INFO] Finished at: 2017-02-19T01:11:21+01:00\n[INFO] Final Memory: 21M/203M\n[INFO] ------------------------------------------------------------------------\n[ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.1:compile (default-compile) on project demo2: Compilation failure: Compilation failure:\n[ERROR] /home/lukasz/parent/demo2/src/main/java/com/example/Demo2Application.java:[11,17] cannot find symbol\n[ERROR] symbol:   class Aclass\n[ERROR] location: class com.example.Demo2Application\n[ERROR] /home/lukasz/parent/demo2/src/main/java/com/example/Demo2Application.java:[11,32] cannot find symbol\n[ERROR] symbol:   class Aclass\n[ERROR] location: class com.example.Demo2Application\n[ERROR] -&gt; [Help 1]\n[ERROR] \n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n[ERROR] \n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException\n</code></pre>\n\n<p>What am I missing?</p>\n\n<p><strong>EDIT:</strong>\nObviously, I did <code>mvn clean install</code> on demo project. Funny thing is I can  use with:</p>\n\n<pre><code>javac -cp  .m2/repository/com/example/demo/0.0.1-SNAPSHOT/demo-0.0.1-SNAPSHOT.jar &lt;any java file here&gt;\n</code></pre>\n\n<p><strong>EDIT:</strong>\nLast part of mvn -X:</p>\n\n<pre><code>[DEBUG] Classpath: [/home/ala/parent/demo2/target/classes\n /home/ala/.m2/repository/com/example/demo/0.0.1-SNAPSHOT/demo-0.0.1-SNAPSHOT.jar\n /home/ala/.m2/repository/org/springframework/boot/spring-boot-starter/1.5.1.RELEASE/spring-boot-starter-1.5.1.RELEASE.jar\n /home/ala/.m2/repository/org/springframework/boot/spring-boot/1.5.1.RELEASE/spring-boot-1.5.1.RELEASE.jar\n /home/ala/.m2/repository/org/springframework/spring-context/4.3.6.RELEASE/spring-context-4.3.6.RELEASE.jar\n /home/ala/.m2/repository/org/springframework/spring-aop/4.3.6.RELEASE/spring-aop-4.3.6.RELEASE.jar\n /home/ala/.m2/repository/org/springframework/spring-beans/4.3.6.RELEASE/spring-beans-4.3.6.RELEASE.jar\n /home/ala/.m2/repository/org/springframework/spring-expression/4.3.6.RELEASE/spring-expression-4.3.6.RELEASE.jar\n /home/ala/.m2/repository/org/springframework/boot/spring-boot-autoconfigure/1.5.1.RELEASE/spring-boot-autoconfigure-1.5.1.RELEASE.jar\n /home/ala/.m2/repository/org/springframework/boot/spring-boot-starter-logging/1.5.1.RELEASE/spring-boot-starter-logging-1.5.1.RELEASE.jar\n /home/ala/.m2/repository/ch/qos/logback/logback-classic/1.1.9/logback-classic-1.1.9.jar\n /home/ala/.m2/repository/ch/qos/logback/logback-core/1.1.9/logback-core-1.1.9.jar\n /home/ala/.m2/repository/org/slf4j/jcl-over-slf4j/1.7.22/jcl-over-slf4j-1.7.22.jar\n /home/ala/.m2/repository/org/slf4j/jul-to-slf4j/1.7.22/jul-to-slf4j-1.7.22.jar\n /home/ala/.m2/repository/org/slf4j/log4j-over-slf4j/1.7.22/log4j-over-slf4j-1.7.22.jar\n /home/ala/.m2/repository/org/springframework/spring-core/4.3.6.RELEASE/spring-core-4.3.6.RELEASE.jar\n /home/ala/.m2/repository/org/slf4j/slf4j-api/1.7.22/slf4j-api-1.7.22.jar]\n[DEBUG] Output directory: /home/ala/parent/demo2/target/classes\n[DEBUG] CompilerReuseStrategy: reuseCreated\n[DEBUG] useIncrementalCompilation enabled\n[DEBUG] Stale source detected: /home/ala/parent/demo2/src/main/java/com/example/Demo2Application.java\n[INFO] Changes detected - recompiling the module!\n[DEBUG] Classpath:\n[DEBUG]  /home/ala/parent/demo2/target/classes\n[DEBUG]  /home/ala/.m2/repository/com/example/demo/0.0.1-SNAPSHOT/demo-0.0.1-SNAPSHOT.jar\n[DEBUG]  /home/ala/.m2/repository/org/springframework/boot/spring-boot-starter/1.5.1.RELEASE/spring-boot-starter-1.5.1.RELEASE.jar\n[DEBUG]  /home/ala/.m2/repository/org/springframework/boot/spring-boot/1.5.1.RELEASE/spring-boot-1.5.1.RELEASE.jar\n[DEBUG]  /home/ala/.m2/repository/org/springframework/spring-context/4.3.6.RELEASE/spring-context-4.3.6.RELEASE.jar\n[DEBUG]  /home/ala/.m2/repository/org/springframework/spring-aop/4.3.6.RELEASE/spring-aop-4.3.6.RELEASE.jar\n[DEBUG]  /home/ala/.m2/repository/org/springframework/spring-beans/4.3.6.RELEASE/spring-beans-4.3.6.RELEASE.jar\n[DEBUG]  /home/ala/.m2/repository/org/springframework/spring-expression/4.3.6.RELEASE/spring-expression-4.3.6.RELEASE.jar\n[DEBUG]  /home/ala/.m2/repository/org/springframework/boot/spring-boot-autoconfigure/1.5.1.RELEASE/spring-boot-autoconfigure-1.5.1.RELEASE.jar\n[DEBUG]  /home/ala/.m2/repository/org/springframework/boot/spring-boot-starter-logging/1.5.1.RELEASE/spring-boot-starter-logging-1.5.1.RELEASE.jar\n[DEBUG]  /home/ala/.m2/repository/ch/qos/logback/logback-classic/1.1.9/logback-classic-1.1.9.jar\n[DEBUG]  /home/ala/.m2/repository/ch/qos/logback/logback-core/1.1.9/logback-core-1.1.9.jar\n[DEBUG]  /home/ala/.m2/repository/org/slf4j/jcl-over-slf4j/1.7.22/jcl-over-slf4j-1.7.22.jar\n[DEBUG]  /home/ala/.m2/repository/org/slf4j/jul-to-slf4j/1.7.22/jul-to-slf4j-1.7.22.jar\n[DEBUG]  /home/ala/.m2/repository/org/slf4j/log4j-over-slf4j/1.7.22/log4j-over-slf4j-1.7.22.jar\n[DEBUG]  /home/ala/.m2/repository/org/springframework/spring-core/4.3.6.RELEASE/spring-core-4.3.6.RELEASE.jar\n[DEBUG]  /home/ala/.m2/repository/org/slf4j/slf4j-api/1.7.22/slf4j-api-1.7.22.jar\n[DEBUG] Source roots:\n[DEBUG]  /home/ala/parent/demo2/src/main/java\n[DEBUG] Command line options:\n[DEBUG] -d /home/ala/parent/demo2/target/classes -classpath /home/ala/parent/demo2/target/classes:/home/ala/.m2/repository/com/example/demo/0.0.1-SNAPSHOT/demo-0.0.1-SNAPSHOT.jar:/home/ala/.m2/repository/org/springframework/boot/spring-boot-starter/1.5.1.RELEASE/spring-boot-starter-1.5.1.RELEASE.jar:/home/ala/.m2/repository/org/springframework/boot/spring-boot/1.5.1.RELEASE/spring-boot-1.5.1.RELEASE.jar:/home/ala/.m2/repository/org/springframework/spring-context/4.3.6.RELEASE/spring-context-4.3.6.RELEASE.jar:/home/ala/.m2/repository/org/springframework/spring-aop/4.3.6.RELEASE/spring-aop-4.3.6.RELEASE.jar:/home/ala/.m2/repository/org/springframework/spring-beans/4.3.6.RELEASE/spring-beans-4.3.6.RELEASE.jar:/home/ala/.m2/repository/org/springframework/spring-expression/4.3.6.RELEASE/spring-expression-4.3.6.RELEASE.jar:/home/ala/.m2/repository/org/springframework/boot/spring-boot-autoconfigure/1.5.1.RELEASE/spring-boot-autoconfigure-1.5.1.RELEASE.jar:/home/ala/.m2/repository/org/springframework/boot/spring-boot-starter-logging/1.5.1.RELEASE/spring-boot-starter-logging-1.5.1.RELEASE.jar:/home/ala/.m2/repository/ch/qos/logback/logback-classic/1.1.9/logback-classic-1.1.9.jar:/home/ala/.m2/repository/ch/qos/logback/logback-core/1.1.9/logback-core-1.1.9.jar:/home/ala/.m2/repository/org/slf4j/jcl-over-slf4j/1.7.22/jcl-over-slf4j-1.7.22.jar:/home/ala/.m2/repository/org/slf4j/jul-to-slf4j/1.7.22/jul-to-slf4j-1.7.22.jar:/home/ala/.m2/repository/org/slf4j/log4j-over-slf4j/1.7.22/log4j-over-slf4j-1.7.22.jar:/home/ala/.m2/repository/org/springframework/spring-core/4.3.6.RELEASE/spring-core-4.3.6.RELEASE.jar:/home/ala/.m2/repository/org/slf4j/slf4j-api/1.7.22/slf4j-api-1.7.22.jar: -sourcepath /home/ala/parent/demo2/src/main/java: -s /home/ala/parent/demo2/target/generated-sources/annotations -g -nowarn -target 1.8 -source 1.8 -encoding UTF-8\n[DEBUG] incrementalBuildHelper#beforeRebuildExecution\n[INFO] Compiling 1 source file to /home/ala/parent/demo2/target/classes\n[DEBUG] incrementalBuildHelper#afterRebuildExecution\n[INFO] -------------------------------------------------------------\n[ERROR] COMPILATION ERROR : \n[INFO] -------------------------------------------------------------\n[ERROR] /home/ala/parent/demo2/src/main/java/com/example/Demo2Application.java:[11,17] cannot find symbol\n  symbol:   class Aclass\n  location: class com.example.Demo2Application\n[ERROR] /home/ala/parent/demo2/src/main/java/com/example/Demo2Application.java:[11,32] cannot find symbol\n  symbol:   class Aclass\n  location: class com.example.Demo2Application\n[INFO] 2 errors \n[INFO] -------------------------------------------------------------\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time: 2.789 s\n[INFO] Finished at: 2017-02-19T07:15:39+01:00\n[INFO] Final Memory: 21M/201M\n[INFO] ------------------------------------------------------------------------\n[ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.1:compile (default-compile) on project demo2: Compilation failure: Compilation failure:\n[ERROR] /home/ala/parent/demo2/src/main/java/com/example/Demo2Application.java:[11,17] cannot find symbol\n[ERROR] symbol:   class Aclass\n[ERROR] location: class com.example.Demo2Application\n[ERROR] /home/ala/parent/demo2/src/main/java/com/example/Demo2Application.java:[11,32] cannot find symbol\n[ERROR] symbol:   class Aclass\n[ERROR] location: class com.example.Demo2Application\n[ERROR] -&gt; [Help 1]\norg.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.1:compile (default-compile) on project demo2: Compilation failure\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:212)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:153)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:145)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:116)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:80)\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build(SingleThreadedBuilder.java:51)\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute(LifecycleStarter.java:128)\n    at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:307)\n    at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:193)\n    at org.apache.maven.DefaultMaven.execute(DefaultMaven.java:106)\n    at org.apache.maven.cli.MavenCli.execute(MavenCli.java:863)\n    at org.apache.maven.cli.MavenCli.doMain(MavenCli.java:288)\n    at org.apache.maven.cli.MavenCli.main(MavenCli.java:199)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:289)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:229)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:415)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:356)\nCaused by: org.apache.maven.plugin.compiler.CompilationFailureException: Compilation failure\n    at org.apache.maven.plugin.compiler.AbstractCompilerMojo.execute(AbstractCompilerMojo.java:858)\n    at org.apache.maven.plugin.compiler.CompilerMojo.execute(CompilerMojo.java:129)\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:134)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:207)\n    ... 20 more\n[ERROR] \n[ERROR] \n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException\n</code></pre>\n"},{"tags":["java","spring","spring-boot","jpa","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":25782418,"reputation":1,"user_id":19527849,"display_name":"Woopaca"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679196621,"creation_date":1679196621,"answer_id":75779930,"question_id":75776804,"body_markdown":"In my case, I create and use the following convenience method.\r\n\r\n    @Entit\r\n    @Table(name = &quot;student&quot;)\r\n    public class Student {\r\n\r\n        @ManyToOne\r\n        private Teacher teacher;\r\n\r\n        ...\r\n        public void setTeacher(Teacher teacher) {\r\n            this.teacher = teacher;\r\n            teacher.getStudnet().add(this);\r\n        }\r\n    }","title":"In JPA, if we have a OneToMany or ManyToMany that is mappedBy one entity, do we need to update both in the setters?","body":"<p>In my case, I create and use the following convenience method.</p>\n<pre><code>@Entit\n@Table(name = &quot;student&quot;)\npublic class Student {\n\n    @ManyToOne\n    private Teacher teacher;\n\n    ...\n    public void setTeacher(Teacher teacher) {\n        this.teacher = teacher;\n        teacher.getStudnet().add(this);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":3479550,"reputation":699,"user_id":2911983,"accept_rate":72,"display_name":"itsmarziparzi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679198164,"creation_date":1679153137,"question_id":75776804,"body_markdown":"Let&#39;s say we have Teacher and Student tables\r\n\r\nOne teacher, Many students.\r\n\r\nThe relationship can be seen as below.\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;teacher&quot;)\r\npublic class Teacher {\r\n\r\n\t@OneToMany(mappedBy=&quot;teacher&quot;)\r\n\tprivate Set&lt;Student&gt; student = new HashSet&lt;&gt;();\r\n\r\n\t}\r\n}\r\n```\r\n```\r\n@Entity\r\n@Table(name = &quot;student&quot;)\r\npublic class Student {\r\n\r\n\t@ManyToOne\r\n\tprivate Teacher teacher;\r\n\r\n}\r\n```\r\n\r\nSay we got a new student like so:\r\n```\r\nStudent student = new Student();\r\n```\r\n\r\nWould I need to update and save on both the teacher and student like this:\r\n```\r\nteacher.getStudent().add(student);\r\nstudent.setTeacher(teacher);\r\nteacherRepository.save(teacher);\r\nstudentRepository.save(student);\r\n```\r\n\r\nOr would it be ok just to save the student?\r\n\r\nNow what if it&#39;s many to many?\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;teacher&quot;)\r\npublic class Teacher {\r\n\r\n\t@ManyToMany(mappedBy=&quot;teacher&quot;)\r\n\tprivate Set&lt;Student&gt; student = new HashSet&lt;&gt;();\r\n\r\n\t}\r\n}\r\n```\r\n```\r\n@Entity\r\n@Table(name = &quot;student&quot;)\r\npublic class Student {\r\n\r\n\t@ManyToMany\r\n\t@JoinTable(\r\n\t\t\tname=&quot;teacher_student&quot;,\r\n\t\t\tjoinColumns = @JoinColumn(name = &quot;teacher_id&quot;),\r\n\t\t\tinverseJoinColumns = @JoinColumn(name = &quot;student_id&quot;)\r\n\t)\r\n\tprivate Set&lt;Teacher&gt; teacher = new HashSet&lt;&gt;();\r\n\r\n}\r\n```\r\n\r\nWould I be ok to just save from the student side for this?\r\n\r\nWhat happens if you save from the teacher side as well before saving from the student side?\r\n\r\nFor example\r\n\r\n```\r\nteacherRepository.save(teacher)\r\nstudent.setTeacher(teacher);\r\nstudentRepository.save(student);\r\n```","title":"In JPA, if we have a OneToMany or ManyToMany that is mappedBy one entity, do we need to update both in the setters?","body":"<p>Let's say we have Teacher and Student tables</p>\n<p>One teacher, Many students.</p>\n<p>The relationship can be seen as below.</p>\n<pre><code>@Entity\n@Table(name = &quot;teacher&quot;)\npublic class Teacher {\n\n    @OneToMany(mappedBy=&quot;teacher&quot;)\n    private Set&lt;Student&gt; student = new HashSet&lt;&gt;();\n\n    }\n}\n</code></pre>\n<pre><code>@Entity\n@Table(name = &quot;student&quot;)\npublic class Student {\n\n    @ManyToOne\n    private Teacher teacher;\n\n}\n</code></pre>\n<p>Say we got a new student like so:</p>\n<pre><code>Student student = new Student();\n</code></pre>\n<p>Would I need to update and save on both the teacher and student like this:</p>\n<pre><code>teacher.getStudent().add(student);\nstudent.setTeacher(teacher);\nteacherRepository.save(teacher);\nstudentRepository.save(student);\n</code></pre>\n<p>Or would it be ok just to save the student?</p>\n<p>Now what if it's many to many?</p>\n<pre><code>@Entity\n@Table(name = &quot;teacher&quot;)\npublic class Teacher {\n\n    @ManyToMany(mappedBy=&quot;teacher&quot;)\n    private Set&lt;Student&gt; student = new HashSet&lt;&gt;();\n\n    }\n}\n</code></pre>\n<pre><code>@Entity\n@Table(name = &quot;student&quot;)\npublic class Student {\n\n    @ManyToMany\n    @JoinTable(\n            name=&quot;teacher_student&quot;,\n            joinColumns = @JoinColumn(name = &quot;teacher_id&quot;),\n            inverseJoinColumns = @JoinColumn(name = &quot;student_id&quot;)\n    )\n    private Set&lt;Teacher&gt; teacher = new HashSet&lt;&gt;();\n\n}\n</code></pre>\n<p>Would I be ok to just save from the student side for this?</p>\n<p>What happens if you save from the teacher side as well before saving from the student side?</p>\n<p>For example</p>\n<pre><code>teacherRepository.save(teacher)\nstudent.setTeacher(teacher);\nstudentRepository.save(student);\n</code></pre>\n"},{"tags":["java","rest","salesforce","apache-httpclient-4.x"],"owner":{"account_id":976464,"reputation":14279,"user_id":997474,"accept_rate":81,"display_name":"curious1"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679196153,"creation_date":1679109569,"question_id":75773680,"body_markdown":"I was given a Salesforce integration project. I use Apache HTTP Client and Salesforce REST API to create objects. The following code is working without any problem:\r\n\r\n    CloseableHttpClient httpclient = HttpClients.createDefault();\r\n    \r\n    List&lt;NameValuePair&gt; params = new ArrayList&lt;NameValuePair&gt;();\r\n    params.add(new BasicNameValuePair(&quot;client_id&quot;, consumerKey));\r\n    params.add(new BasicNameValuePair(&quot;client_secret&quot;, consumerSecret));\r\n    params.add(new BasicNameValuePair(&quot;grant_type&quot;, &quot;client_credentials&quot;));\r\n    \r\n    HttpPost post = new HttpPost(&quot;https://.....my.salesforce.com/services/oauth2/token&quot;);\r\n    post.setEntity(new UrlEncodedFormEntity(params));\r\n    \r\n    HttpResponse loginResponse = httpclient.execute(post);\r\n    \r\n    ObjectMapper mapper = new ObjectMapper();\r\n    \r\n    JsonNode loginResult = mapper.readValue(loginResponse.getEntity().getContent(), JsonNode.class);\r\n    String accessToken = loginResult.get(&quot;access_token&quot;).asText();\r\n    String instanceUrl = loginResult.get(&quot;instance_url&quot;).asText();\r\n    \t\t\t\r\n    String uri = instanceUrl + &quot;/services/data/v57.0/sobjects/conference360__Event__c&quot; ;\r\n    \r\n    HttpPost httpPost = new HttpPost(uri);\r\n    httpPost.addHeader(&quot;Authorization&quot;, &quot;Bearer &quot; + accessToken);\r\n    httpPost.addHeader(&quot;Content-Type&quot;, &quot;application/json&quot;);\r\n    \r\n    JSONObject data = new JSONObject();\r\n    \r\n    data.put(&quot;Name&quot;: &quot;test meeting&quot;);\r\n    data.put(&quot;conference360__Event_Start_Date__c&quot;: &quot;2023-02-27&quot;);\r\n    data.put(&quot;conference360__Event_End_Time__c&quot;: &quot;12:13:00.000Z&quot;);\r\n    data.put(&quot;conference360__Event_End_Date__c&quot;: &quot;2023-02-27&quot;);\r\n    data.put(&quot;conference360__Event_Start_Time__c&quot;: &quot;12:12:00.000Z&quot;);\r\n    data.put(&quot;conference360__Time_Zone__c&quot;: &quot;America/New_York&quot;);\t\t\r\n    \r\n    StringEntity body = new StringEntity(data.toString(1), ContentType.create(&quot;application/json&quot;));\r\n    httpPost.setEntity(body);\r\n    \r\n    CloseableHttpClient httpClient = HttpClients.createDefault();\r\n    CloseableHttpResponse response = httpClient.execute(httpPost);\t\r\n\r\nHowever, I always got the same error and I got more error info via the following code:\r\n\r\n    System.out.println(response.getStatusLine().getStatusCode());\r\n    System.out.println(response.getStatusLine().getReasonPhrase());\r\n\r\nHere is the output:\r\n\r\n    400\r\n    Bad Request\r\n\r\nThis info is almost useless and misleading. I used POSTMAN to create (POST) the same object, and I got the error message showing the real reason for failure:\r\n\r\nWe can&#39;t save this record because the “Event &amp; Case Creation from Room Booking” process failed. Give your Salesforce admin these details. This error occurred when the flow tried to create records: CANNOT_INSERT_UPDATE_ACTIVATE_ENTITY: conference360.Event_Trigger: execution of AfterInsert\\n\\ncaused by: System.QueryException: Insufficient permissions: secure query included inaccessible field\\n\\n(conference360). You can look up ExceptionCode values in the SOAP API Developer Guide. Error ID: 2052924026-11322 (-1519010228)k up ExceptionCode values in the SOAP API Developer Guide. Error ID: 2052924026-11322 (-1519010228)&quot;, &quot;errorCode&quot;:&quot;CANNOT_EXECUTE_FLOW_TRIGGER&quot;,&quot;fields&quot;:[]\r\n\r\nMy question is: how to reveal the same error message in Java?\r\n\r\n","title":"REST and Apache HTTP: how to reveal more error info in Java?","body":"<p>I was given a Salesforce integration project. I use Apache HTTP Client and Salesforce REST API to create objects. The following code is working without any problem:</p>\n<pre><code>CloseableHttpClient httpclient = HttpClients.createDefault();\n\nList&lt;NameValuePair&gt; params = new ArrayList&lt;NameValuePair&gt;();\nparams.add(new BasicNameValuePair(&quot;client_id&quot;, consumerKey));\nparams.add(new BasicNameValuePair(&quot;client_secret&quot;, consumerSecret));\nparams.add(new BasicNameValuePair(&quot;grant_type&quot;, &quot;client_credentials&quot;));\n\nHttpPost post = new HttpPost(&quot;https://.....my.salesforce.com/services/oauth2/token&quot;);\npost.setEntity(new UrlEncodedFormEntity(params));\n\nHttpResponse loginResponse = httpclient.execute(post);\n\nObjectMapper mapper = new ObjectMapper();\n\nJsonNode loginResult = mapper.readValue(loginResponse.getEntity().getContent(), JsonNode.class);\nString accessToken = loginResult.get(&quot;access_token&quot;).asText();\nString instanceUrl = loginResult.get(&quot;instance_url&quot;).asText();\n            \nString uri = instanceUrl + &quot;/services/data/v57.0/sobjects/conference360__Event__c&quot; ;\n\nHttpPost httpPost = new HttpPost(uri);\nhttpPost.addHeader(&quot;Authorization&quot;, &quot;Bearer &quot; + accessToken);\nhttpPost.addHeader(&quot;Content-Type&quot;, &quot;application/json&quot;);\n\nJSONObject data = new JSONObject();\n\ndata.put(&quot;Name&quot;: &quot;test meeting&quot;);\ndata.put(&quot;conference360__Event_Start_Date__c&quot;: &quot;2023-02-27&quot;);\ndata.put(&quot;conference360__Event_End_Time__c&quot;: &quot;12:13:00.000Z&quot;);\ndata.put(&quot;conference360__Event_End_Date__c&quot;: &quot;2023-02-27&quot;);\ndata.put(&quot;conference360__Event_Start_Time__c&quot;: &quot;12:12:00.000Z&quot;);\ndata.put(&quot;conference360__Time_Zone__c&quot;: &quot;America/New_York&quot;);        \n\nStringEntity body = new StringEntity(data.toString(1), ContentType.create(&quot;application/json&quot;));\nhttpPost.setEntity(body);\n\nCloseableHttpClient httpClient = HttpClients.createDefault();\nCloseableHttpResponse response = httpClient.execute(httpPost);  \n</code></pre>\n<p>However, I always got the same error and I got more error info via the following code:</p>\n<pre><code>System.out.println(response.getStatusLine().getStatusCode());\nSystem.out.println(response.getStatusLine().getReasonPhrase());\n</code></pre>\n<p>Here is the output:</p>\n<pre><code>400\nBad Request\n</code></pre>\n<p>This info is almost useless and misleading. I used POSTMAN to create (POST) the same object, and I got the error message showing the real reason for failure:</p>\n<p>We can't save this record because the “Event &amp; Case Creation from Room Booking” process failed. Give your Salesforce admin these details. This error occurred when the flow tried to create records: CANNOT_INSERT_UPDATE_ACTIVATE_ENTITY: conference360.Event_Trigger: execution of AfterInsert\\n\\ncaused by: System.QueryException: Insufficient permissions: secure query included inaccessible field\\n\\n(conference360). You can look up ExceptionCode values in the SOAP API Developer Guide. Error ID: 2052924026-11322 (-1519010228)k up ExceptionCode values in the SOAP API Developer Guide. Error ID: 2052924026-11322 (-1519010228)&quot;, &quot;errorCode&quot;:&quot;CANNOT_EXECUTE_FLOW_TRIGGER&quot;,&quot;fields&quot;:[]</p>\n<p>My question is: how to reveal the same error message in Java?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":1,"creation_date":1679195589,"post_id":75779867,"comment_id":133677097,"body_markdown":"How can it be `X.m`? `y` is of type `Y`, which is totally unrelated to `X`. What `y` actually stores does not matter at compile time. That&#39;s what the runtime cares.","body":"How can it be <code>X.m</code>? <code>y</code> is of type <code>Y</code>, which is totally unrelated to <code>X</code>. What <code>y</code> actually stores does not matter at compile time. That&#39;s what the runtime cares."},{"owner":{"account_id":16132319,"reputation":53,"user_id":11645616,"display_name":"Park Bo"},"score":0,"creation_date":1679196367,"post_id":75779867,"comment_id":133677134,"body_markdown":"@Sweeper hmm I think I am misunderstanding the concept of compile time and run time. I thought when the java compiler looks for the method from top down and produces the byte code. Then, jvm uses the byte code and looks for the method bottom up.  So, I am wonder at compile time, y.m() suppose to point to interface Y?","body":"@Sweeper hmm I think I am misunderstanding the concept of compile time and run time. I thought when the java compiler looks for the method from top down and produces the byte code. Then, jvm uses the byte code and looks for the method bottom up.  So, I am wonder at compile time, y.m() suppose to point to interface Y?"},{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1679196956,"post_id":75779867,"comment_id":133677169,"body_markdown":"Yes, bytecode that calls `Y.m()` will be produced, and at runtime that will be dispatched to `B.m()`. Not sure what you mean by &quot;top down&quot; and &quot;bottom up&quot;, but I don&#39;t see what you are misunderstanding?","body":"Yes, bytecode that calls <code>Y.m()</code> will be produced, and at runtime that will be dispatched to <code>B.m()</code>. Not sure what you mean by &quot;top down&quot; and &quot;bottom up&quot;, but I don&#39;t see what you are misunderstanding?"},{"owner":{"account_id":16132319,"reputation":53,"user_id":11645616,"display_name":"Park Bo"},"score":0,"creation_date":1679197925,"post_id":75779867,"comment_id":133677228,"body_markdown":"@Sweeper What I meant by top down is looking for the method from parent to child and bottom up is from child to parent. I am just confused what class&#39; method should bytcode target to when run y.m(). Thanks!","body":"@Sweeper What I meant by top down is looking for the method from parent to child and bottom up is from child to parent. I am just confused what class&#39; method should bytcode target to when run y.m(). Thanks!"},{"owner":{"account_id":3593904,"reputation":129,"user_id":2999226,"display_name":"user2999226"},"score":0,"creation_date":1679206459,"post_id":75779867,"comment_id":133677758,"body_markdown":"In Java all methods are virtual. That means at runtime Java isn&#39;t searching from abstract to concrete (top-down), but from concrete to abstract (bottom-up). If your class A had a method that wasn&#39;t overriden by B the runtime would first check if B has an implementation, wouldn&#39;t find it and then look at A and executed it. In reality it works a little different, but that is how you can imagine it.","body":"In Java all methods are virtual. That means at runtime Java isn&#39;t searching from abstract to concrete (top-down), but from concrete to abstract (bottom-up). If your class A had a method that wasn&#39;t overriden by B the runtime would first check if B has an implementation, wouldn&#39;t find it and then look at A and executed it. In reality it works a little different, but that is how you can imagine it."},{"owner":{"account_id":732315,"reputation":4996,"user_id":681444,"display_name":"racraman"},"score":0,"creation_date":1679206579,"post_id":75779867,"comment_id":133677773,"body_markdown":"“Is it interface x method m or interface Y method m?”. There is no such thing as “interface x (nor y) method m”.  Those interfaces simply say that whatever object is being referenced will have a method `void m()`.  That  single  method satisfies both interfaces.  Since class B implements not only Y, but also implicitly X as well, that means even if you had declared `X x = new B(); x.m();`, you would get exactly the same result.  The interfaces specify what methods must exist on the object, but the method actually called will be that of the most   child for that object (regardless of interface)","body":"“Is it interface x method m or interface Y method m?”. There is no such thing as “interface x (nor y) method m”.  Those interfaces simply say that whatever object is being referenced will have a method <code>void m()</code>.  That  single  method satisfies both interfaces.  Since class B implements not only Y, but also implicitly X as well, that means even if you had declared <code>X x = new B(); x.m();</code>, you would get exactly the same result.  The interfaces specify what methods must exist on the object, but the method actually called will be that of the most   child for that object (regardless of interface)"}],"owner":{"account_id":16132319,"reputation":53,"user_id":11645616,"display_name":"Park Bo"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679195286,"creation_date":1679195286,"question_id":75779867,"body_markdown":"I have codes like this \r\n\r\n\r\n```\r\npackage test;\r\n\r\npublic interface X {\r\n    public void m();\r\n\r\n}\r\n```\r\n```\r\npackage test;\r\n\r\npublic interface Y {\r\n    public void m();\r\n}\r\n\r\n```\r\n```\r\npackage test;\r\n\r\npublic abstract class A implements X{\r\n    public void m(){\r\n        System.out.println(&quot;Class A: m&quot;);\r\n    }\r\n    abstract  void m2();\r\n}\r\n\r\n```\r\n```\r\npackage test;\r\n\r\npublic class B extends  A implements Y{\r\n    public void m2(){\r\n        System.out.println(&quot;Class B m2&quot;);\r\n    }\r\n\r\n    public void m(){\r\n        System.out.println(&quot;Class B m&quot;);\r\n    }\r\n}\r\n\r\n```\r\n\r\n```\r\npackage test;\r\n\r\npublic class test {\r\n    public static void main(String[] args) {\r\n        Y y = new B(); y.m();\r\n}}\r\n```\r\n\r\nSo, the main method should print &quot;Class B m&quot; because run time y.m() should point to the class B method m.\r\n\r\nHowever, I am wonder what class&#39; method should y.m() targets to in compile time? Is it interface x method m or interface Y method m?\r\n\r\nBecause class B extends A which has the method B and implements X that has method B.Then, class B also implements Y that also has method B.","title":"Java Polymorphism Compile time and Run time","body":"<p>I have codes like this</p>\n<pre><code>package test;\n\npublic interface X {\n    public void m();\n\n}\n</code></pre>\n<pre><code>package test;\n\npublic interface Y {\n    public void m();\n}\n\n</code></pre>\n<pre><code>package test;\n\npublic abstract class A implements X{\n    public void m(){\n        System.out.println(&quot;Class A: m&quot;);\n    }\n    abstract  void m2();\n}\n\n</code></pre>\n<pre><code>package test;\n\npublic class B extends  A implements Y{\n    public void m2(){\n        System.out.println(&quot;Class B m2&quot;);\n    }\n\n    public void m(){\n        System.out.println(&quot;Class B m&quot;);\n    }\n}\n\n</code></pre>\n<pre><code>package test;\n\npublic class test {\n    public static void main(String[] args) {\n        Y y = new B(); y.m();\n}}\n</code></pre>\n<p>So, the main method should print &quot;Class B m&quot; because run time y.m() should point to the class B method m.</p>\n<p>However, I am wonder what class' method should y.m() targets to in compile time? Is it interface x method m or interface Y method m?</p>\n<p>Because class B extends A which has the method B and implements X that has method B.Then, class B also implements Y that also has method B.</p>\n"},{"tags":["java","arrays","netbeans","filereader"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1679194285,"post_id":75779820,"comment_id":133677018,"body_markdown":"Step through your code with the debugger. Hint: you put data into the array. Do you use it later?","body":"Step through your code with the debugger. Hint: you put data into the array. Do you use it later?"},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":1,"creation_date":1679194545,"post_id":75779820,"comment_id":133677036,"body_markdown":"Tangential: a song isn’t a kind of CD—a CD **has** songs, which is different.","body":"Tangential: a song isn’t a kind of CD—a CD <b>has</b> songs, which is different."},{"owner":{"account_id":26857224,"reputation":1,"user_id":20441347,"display_name":"PatPatis"},"score":0,"creation_date":1679194699,"post_id":75779820,"comment_id":133677041,"body_markdown":"@DaveNewton HAHA I know! It&#39;s just the first variable name that came to my mind at that moment.","body":"@DaveNewton HAHA I know! It&#39;s just the first variable name that came to my mind at that moment."},{"owner":{"account_id":26857224,"reputation":1,"user_id":20441347,"display_name":"PatPatis"},"score":0,"creation_date":1679196678,"post_id":75779820,"comment_id":133677149,"body_markdown":"@tgdavies Thank you so much! I feel so dumb not even noticing the most obvious answer to my problem. My program runs perfectly now.","body":"@tgdavies Thank you so much! I feel so dumb not even noticing the most obvious answer to my problem. My program runs perfectly now."}],"answers":[{"tags":[],"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679195006,"creation_date":1679195006,"answer_id":75779858,"question_id":75779820,"body_markdown":"Using a multidimensional `String[]` to store `Song`(s) seems wrong to me, I would create a `Song[]` instead. You can read all of the lines of your file at once with [`Files.readAllLines(Path, Charset)`](https://docs.oracle.com/javase/7/docs/api/java/nio/file/Files.html#readAllLines(java.nio.file.Path,%20java.nio.charset.Charset)) you then know that every two lines represents one `Song`, so loop and fill a `Song[]` and then print the contents. Something like,\r\n\r\n\tList&lt;String&gt; al = Files.readAllLines(Path.of(&quot;Classics.txt&quot;),\r\n\t\t\tCharset.forName(&quot;UTF8&quot;));\r\n\tSong[] cd = new Song[al.size() / 2];\r\n\tint p = 0;\r\n\tfor (int i = 0; i &lt; al.size(); i += 2) {\r\n\t\tcd[p] = new Song(al.get(i), al.get(i + 1));\r\n\t\tp++;\r\n\t}\r\n\tSystem.out.println(&quot;Contents of Classics:&quot;);\r\n\tfor (Song track : cd) {\r\n\t\tSystem.out.print(track);\r\n\t}\r\n\r\nOf course, you could potentially eliminate the array and second loop\r\n\r\n\tList&lt;String&gt; al = Files.readAllLines(Path.of(&quot;Classics.txt&quot;),\r\n\t\t\tCharset.forName(&quot;UTF8&quot;));\r\n\tSystem.out.println(&quot;Contents of Classics:&quot;);\r\n\tfor (int i = 0; i &lt; al.size(); i += 2) {\r\n\t\tSystem.out.println(new Song(al.get(i), al.get(i + 1)));\r\n\t}","title":"Why is my program only printing the last section of an array?","body":"<p>Using a multidimensional <code>String[]</code> to store <code>Song</code>(s) seems wrong to me, I would create a <code>Song[]</code> instead. You can read all of the lines of your file at once with <a href=\"https://docs.oracle.com/javase/7/docs/api/java/nio/file/Files.html#readAllLines(java.nio.file.Path,%20java.nio.charset.Charset)\" rel=\"nofollow noreferrer\"><code>Files.readAllLines(Path, Charset)</code></a> you then know that every two lines represents one <code>Song</code>, so loop and fill a <code>Song[]</code> and then print the contents. Something like,</p>\n<pre><code>List&lt;String&gt; al = Files.readAllLines(Path.of(&quot;Classics.txt&quot;),\n        Charset.forName(&quot;UTF8&quot;));\nSong[] cd = new Song[al.size() / 2];\nint p = 0;\nfor (int i = 0; i &lt; al.size(); i += 2) {\n    cd[p] = new Song(al.get(i), al.get(i + 1));\n    p++;\n}\nSystem.out.println(&quot;Contents of Classics:&quot;);\nfor (Song track : cd) {\n    System.out.print(track);\n}\n</code></pre>\n<p>Of course, you could potentially eliminate the array and second loop</p>\n<pre><code>List&lt;String&gt; al = Files.readAllLines(Path.of(&quot;Classics.txt&quot;),\n        Charset.forName(&quot;UTF8&quot;));\nSystem.out.println(&quot;Contents of Classics:&quot;);\nfor (int i = 0; i &lt; al.size(); i += 2) {\n    System.out.println(new Song(al.get(i), al.get(i + 1)));\n}\n</code></pre>\n"}],"owner":{"account_id":26857224,"reputation":1,"user_id":20441347,"display_name":"PatPatis"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1679195006,"creation_date":1679194184,"question_id":75779820,"body_markdown":"So my professor let us copy this certain code but we have to fill in the blanks on some parts to make the program work. I&#39;m supposed to create a two-dimensional array using the &quot;Classics.txt&quot; file and print the output. My problem is when I run the program, it only shows the last section of the array.\r\n\r\nPS. I put a comment on the parts where I input the code myself. My professor instructed us not to edit the code that we copied from him.\r\n\r\nThanks in advance.\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    import java.io.*;\r\n    public class CompactDisc {\r\n\r\n        public static void main(String[] args)throws IOException {\r\n            FileReader file = new FileReader(&quot;Classics.txt&quot;);\r\n            BufferedReader input = new BufferedReader(file);\r\n            String title = null;\r\n            String artist = null;\r\n                    // CODE I INPUT MYSELF\r\n            int column = 0;\r\n            String cd[][] = new String[6][6];\r\n                    // END\r\n            for (int i = 0; i &lt; cd.length; i++) {\r\n                    // CODE I INPUT MYSELF\r\n                title = input.readLine();\r\n                artist = input.readLine();\r\n                cd[i][column] = title;\r\n                column++;\r\n                cd[i][column] = artist;\r\n                column = 0;\r\n                    // END\r\n            }\r\n            System.out.println(&quot;Contents of Classics:&quot;);\r\n            for (int i = 0; i &lt; cd.length; i++) {\r\n                    // CODE I INPUT MYSELF\r\n                Song track = new Song(title, artist);\r\n                System.out.print(track);\r\n                    // END\r\n            }\r\n        }\r\n    }\r\n\r\n    class Song extends CompactDisc{\r\n        private String title; // The song&#39;s title\r\n        private String artist; // The song&#39;s artist\r\n        /**\r\n        Constructor\r\n        @param title A reference to a String object\r\n        containing the song&#39;s title.\r\n        @param artist A reference to a String object\r\n        containing the song&#39;s artist.\r\n        */\r\n        public Song(String title, String artist) {\r\n            this.title = title;\r\n            this.artist = artist;\r\n        }\r\n        /**\r\n        The toString method\r\n        @return A String object containing the name\r\n        of the song and the artist.\r\n        */\r\n        public String toString() {\r\n        return title + &quot; by &quot; + artist + &quot;\\n&quot;;\r\n        }\r\n    }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nThis is what&#39;s in the &quot;Classics.txt&quot; file:\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    Ode to Joy\r\n    Bach\r\n    The Sleeping Beauty\r\n    Tchaikovsky\r\n    Lullaby\r\n    Brahms\r\n    Canon\r\n    Bach\r\n    Symphony No. 5\r\n    Beethoven\r\n    The Blue Danube Waltz\r\n    Strauss\r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nAnd this is the output it&#39;s giving:\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    Contents of Classics:\r\n    The Blue Danube Waltz by Strauss\r\n    The Blue Danube Waltz by Strauss\r\n    The Blue Danube Waltz by Strauss\r\n    The Blue Danube Waltz by Strauss\r\n    The Blue Danube Waltz by Strauss\r\n    The Blue Danube Waltz by Strauss\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"Why is my program only printing the last section of an array?","body":"<p>So my professor let us copy this certain code but we have to fill in the blanks on some parts to make the program work. I'm supposed to create a two-dimensional array using the &quot;Classics.txt&quot; file and print the output. My problem is when I run the program, it only shows the last section of the array.</p>\n<p>PS. I put a comment on the parts where I input the code myself. My professor instructed us not to edit the code that we copied from him.</p>\n<p>Thanks in advance.</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>import java.io.*;\npublic class CompactDisc {\n\n    public static void main(String[] args)throws IOException {\n        FileReader file = new FileReader(\"Classics.txt\");\n        BufferedReader input = new BufferedReader(file);\n        String title = null;\n        String artist = null;\n                // CODE I INPUT MYSELF\n        int column = 0;\n        String cd[][] = new String[6][6];\n                // END\n        for (int i = 0; i &lt; cd.length; i++) {\n                // CODE I INPUT MYSELF\n            title = input.readLine();\n            artist = input.readLine();\n            cd[i][column] = title;\n            column++;\n            cd[i][column] = artist;\n            column = 0;\n                // END\n        }\n        System.out.println(\"Contents of Classics:\");\n        for (int i = 0; i &lt; cd.length; i++) {\n                // CODE I INPUT MYSELF\n            Song track = new Song(title, artist);\n            System.out.print(track);\n                // END\n        }\n    }\n}\n\nclass Song extends CompactDisc{\n    private String title; // The song's title\n    private String artist; // The song's artist\n    /**\n    Constructor\n    @param title A reference to a String object\n    containing the song's title.\n    @param artist A reference to a String object\n    containing the song's artist.\n    */\n    public Song(String title, String artist) {\n        this.title = title;\n        this.artist = artist;\n    }\n    /**\n    The toString method\n    @return A String object containing the name\n    of the song and the artist.\n    */\n    public String toString() {\n    return title + \" by \" + artist + \"\\n\";\n    }\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>This is what's in the &quot;Classics.txt&quot; file:</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>Ode to Joy\nBach\nThe Sleeping Beauty\nTchaikovsky\nLullaby\nBrahms\nCanon\nBach\nSymphony No. 5\nBeethoven\nThe Blue Danube Waltz\nStrauss</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>And this is the output it's giving:</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>Contents of Classics:\nThe Blue Danube Waltz by Strauss\nThe Blue Danube Waltz by Strauss\nThe Blue Danube Waltz by Strauss\nThe Blue Danube Waltz by Strauss\nThe Blue Danube Waltz by Strauss\nThe Blue Danube Waltz by Strauss</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"},{"tags":["java","java-9","java-module","module-info"],"answers":[{"tags":[],"owner":{"account_id":362885,"reputation":37256,"user_id":706317,"accept_rate":70,"display_name":"ZhekaKozlov"},"down_vote_count":0,"up_vote_count":23,"is_accepted":true,"score":23,"last_activity_date":1511351201,"creation_date":1510315120,"answer_id":47222302,"question_id":47222226,"body_markdown":"Yes, this is possible with the `--patch-module` option. This option is most often used at runtime, but it also works at compile time:\r\n\r\n    javac --patch-module &lt;module name&gt;=&lt;path to jar&gt; module-info.java","title":"How to inject module declaration into JAR?","body":"<p>Yes, this is possible with the <code>--patch-module</code> option. This option is most often used at runtime, but it also works at compile time:</p>\n\n<pre><code>javac --patch-module &lt;module name&gt;=&lt;path to jar&gt; module-info.java\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1939636,"reputation":28457,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1510315226,"creation_date":1510315226,"answer_id":47222323,"question_id":47222226,"body_markdown":"Alternatively, to compile the `module-info.java` generated you need to also extract the contents of the JAR to a directory. \r\n\r\nThen compile the `module-info.java` with the output directory (-d) set to the directory where you extracted the contents.\r\n\r\n***[Credits :- Alan](https://stackoverflow.com/questions/47103221/is-there-a-way-to-add-maven-dependencies-while-using-the-maven-jlink-plugin#comment81159146_47103359)***","title":"How to inject module declaration into JAR?","body":"<p>Alternatively, to compile the <code>module-info.java</code> generated you need to also extract the contents of the JAR to a directory. </p>\n\n<p>Then compile the <code>module-info.java</code> with the output directory (-d) set to the directory where you extracted the contents.</p>\n\n<p><strong><em><a href=\"https://stackoverflow.com/questions/47103221/is-there-a-way-to-add-maven-dependencies-while-using-the-maven-jlink-plugin#comment81159146_47103359\">Credits :- Alan</a></em></strong></p>\n"},{"tags":[],"owner":{"account_id":5199113,"reputation":31,"user_id":9757942,"display_name":"Stephen Parry"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679193076,"creation_date":1679193076,"answer_id":75779767,"question_id":47222226,"body_markdown":"If you are using Maven and the original library is available there, you can use the `add-module-info` goal of the [moditect plugin][1]. Below is a snippet of pom.xml I used to patch the h2 jdbc driver and engine. The plugin creates a patched copy of the plugin in `${project.build.directory}/modules` which can then be used e.g. jlinked in. \r\n\r\n    &lt;plugin&gt;\r\n        &lt;groupId&gt;org.moditect&lt;/groupId&gt;\r\n        &lt;artifactId&gt;moditect-maven-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0.0.RC2&lt;/version&gt;\r\n        &lt;executions&gt;\r\n            &lt;execution&gt;\r\n                &lt;id&gt;add-module-infos&lt;/id&gt;\r\n                &lt;phase&gt;generate-resources&lt;/phase&gt;\r\n                &lt;goals&gt;\r\n                    &lt;goal&gt;add-module-info&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;outputDirectory&gt;${project.build.directory}/modules&lt;/outputDirectory&gt;\r\n                    &lt;modules&gt;\r\n                        &lt;module&gt;\r\n                            &lt;artifact&gt;\r\n                                &lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n                                &lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n                                &lt;version&gt;2.1.214&lt;/version&gt;\r\n                            &lt;/artifact&gt;\r\n                            &lt;moduleInfoSource&gt;\r\n                                module com.h2database {\r\n                                requires java.compiler;\r\n                                requires jdk.net;\r\n                                requires static lucene.core;\r\n                                requires static lucene.queryparser;\r\n                                requires static slf4j.api;\r\n                                requires static jakarta.servlet;\r\n                                requires transitive java.desktop;\r\n                                requires transitive java.instrument;\r\n                                requires java.logging;\r\n                                requires transitive java.management;\r\n                                requires static java.naming;\r\n                                requires transitive java.scripting;\r\n                                requires java.sql;\r\n                                requires transitive java.transaction.xa;\r\n                                requires transitive java.xml;\r\n                                requires static javax.servlet.api;\r\n                                requires static org.locationtech.jts;\r\n                                requires static org.osgi.service.jdbc;\r\n                                requires static osgi.core;\r\n                                provides java.sql.Driver with org.h2.Driver;\r\n                                }\r\n                            &lt;/moduleInfoSource&gt;\r\n                        &lt;/module&gt;\r\n                    &lt;/modules&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n    &lt;/plugin&gt;\r\n\r\n\r\n  [1]: https://github.com/moditect/moditect","title":"How to inject module declaration into JAR?","body":"<p>If you are using Maven and the original library is available there, you can use the <code>add-module-info</code> goal of the <a href=\"https://github.com/moditect/moditect\" rel=\"nofollow noreferrer\">moditect plugin</a>. Below is a snippet of pom.xml I used to patch the h2 jdbc driver and engine. The plugin creates a patched copy of the plugin in <code>${project.build.directory}/modules</code> which can then be used e.g. jlinked in.</p>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.moditect&lt;/groupId&gt;\n    &lt;artifactId&gt;moditect-maven-plugin&lt;/artifactId&gt;\n    &lt;version&gt;1.0.0.RC2&lt;/version&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;id&gt;add-module-infos&lt;/id&gt;\n            &lt;phase&gt;generate-resources&lt;/phase&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;add-module-info&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n                &lt;outputDirectory&gt;${project.build.directory}/modules&lt;/outputDirectory&gt;\n                &lt;modules&gt;\n                    &lt;module&gt;\n                        &lt;artifact&gt;\n                            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n                            &lt;artifactId&gt;h2&lt;/artifactId&gt;\n                            &lt;version&gt;2.1.214&lt;/version&gt;\n                        &lt;/artifact&gt;\n                        &lt;moduleInfoSource&gt;\n                            module com.h2database {\n                            requires java.compiler;\n                            requires jdk.net;\n                            requires static lucene.core;\n                            requires static lucene.queryparser;\n                            requires static slf4j.api;\n                            requires static jakarta.servlet;\n                            requires transitive java.desktop;\n                            requires transitive java.instrument;\n                            requires java.logging;\n                            requires transitive java.management;\n                            requires static java.naming;\n                            requires transitive java.scripting;\n                            requires java.sql;\n                            requires transitive java.transaction.xa;\n                            requires transitive java.xml;\n                            requires static javax.servlet.api;\n                            requires static org.locationtech.jts;\n                            requires static org.osgi.service.jdbc;\n                            requires static osgi.core;\n                            provides java.sql.Driver with org.h2.Driver;\n                            }\n                        &lt;/moduleInfoSource&gt;\n                    &lt;/module&gt;\n                &lt;/modules&gt;\n            &lt;/configuration&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n"}],"owner":{"account_id":362885,"reputation":37256,"user_id":706317,"accept_rate":70,"display_name":"ZhekaKozlov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7794,"favorite_count":0,"down_vote_count":0,"up_vote_count":24,"accepted_answer_id":47222302,"answer_count":3,"score":24,"last_activity_date":1679193076,"creation_date":1510314860,"question_id":47222226,"body_markdown":"Suppose I have some library `lib.jar` for which I do not have the source code (or it is written in some non-Java language which is unaware of modules yet). `lib.jar` does not have `module-info.class` and I do not want to use it as an automatic module, so I would like to inject `module-info.class` into it.\r\n\r\nI first generate `module-info.java` with the following command:\r\n\r\n    jdeps --generate-module-info . lib.jar\r\n\r\nSuppose this generated something like that:\r\n\r\n    module lib {\r\n        exports package1;\r\n        exports package2;\r\n    }\r\n\r\nThen I try to compile it but `javac` fails because the packages `package1` and `package2` do not exist:\r\n\r\n    &gt; javac module-info.java\r\n    module-info.java:4: error: package is empty or does not exist: package1\r\n\r\nOf course, I can create directories `package1` and `package2` with dummy classes in them, but is there some better approach?\r\n\r\n","title":"How to inject module declaration into JAR?","body":"<p>Suppose I have some library <code>lib.jar</code> for which I do not have the source code (or it is written in some non-Java language which is unaware of modules yet). <code>lib.jar</code> does not have <code>module-info.class</code> and I do not want to use it as an automatic module, so I would like to inject <code>module-info.class</code> into it.</p>\n\n<p>I first generate <code>module-info.java</code> with the following command:</p>\n\n<pre><code>jdeps --generate-module-info . lib.jar\n</code></pre>\n\n<p>Suppose this generated something like that:</p>\n\n<pre><code>module lib {\n    exports package1;\n    exports package2;\n}\n</code></pre>\n\n<p>Then I try to compile it but <code>javac</code> fails because the packages <code>package1</code> and <code>package2</code> do not exist:</p>\n\n<pre><code>&gt; javac module-info.java\nmodule-info.java:4: error: package is empty or does not exist: package1\n</code></pre>\n\n<p>Of course, I can create directories <code>package1</code> and <code>package2</code> with dummy classes in them, but is there some better approach?</p>\n"},{"tags":["java","contract","invariants"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1679194419,"post_id":75779721,"comment_id":133677027,"body_markdown":"All values of an `int` are `&lt;= Integer.MAX_VALUE`, so that invariant is not needed.","body":"All values of an <code>int</code> are <code>&lt;= Integer.MAX_VALUE</code>, so that invariant is not needed."},{"owner":{"account_id":19459170,"reputation":77,"user_id":14233801,"display_name":"Hamid Ayub"},"score":0,"creation_date":1679207908,"post_id":75779721,"comment_id":133677888,"body_markdown":"@tgdavies I have to add an Invariant for noUnexpectedExceptions as it is the one of the condditionns","body":"@tgdavies I have to add an Invariant for noUnexpectedExceptions as it is the one of the condditionns"}],"owner":{"account_id":19459170,"reputation":77,"user_id":14233801,"display_name":"Hamid Ayub"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1679191847,"creation_date":1679191847,"question_id":75779721,"body_markdown":"I want to add two conditions in Invariant:\r\n 1. All Natural methods must guarantee (via PreconditionErrors or InvariantErrors) that operations resulting in an overflow are blocked\r\n 2. Ensure that no method throws an exception other than PreconditionError or InvariantError.\r\n\r\nFollowing is my code so far for the implementation. I am new to these java contracts so struggling to make it through.\r\n\r\n```\r\n//Add an invariant here.\r\n@Invariant({\r\n    &quot;data &gt;= 0&quot;,\r\n    &quot;data &lt;= Integer.MAX_VALUE&quot;,\r\n    &quot;noUnexpectedExceptions()&quot;    \r\n})\r\npublic class Natural implements Comparable&lt;Natural&gt; {\r\n\tprivate int data;\r\n\tprivate boolean noUnexpectedExceptions() {\r\n        try {\r\n            assert true;\r\n            return true;\r\n        } catch (PreconditionError | InvariantError e) {\r\n            return true;\r\n        } catch (Throwable t) {\r\n            return false;\r\n        }\r\n    }\r\n\t\r\n\tpublic void increment() {\r\n        data++;\r\n\t}\r\n\r\n\tpublic void decrement() {\r\n        data--;\r\n\t}\r\n}\r\n```\r\n","title":"Invariant that ensures that no method throws an exception other than PreconditionError or InvariantError","body":"<p>I want to add two conditions in Invariant:</p>\n<ol>\n<li>All Natural methods must guarantee (via PreconditionErrors or InvariantErrors) that operations resulting in an overflow are blocked</li>\n<li>Ensure that no method throws an exception other than PreconditionError or InvariantError.</li>\n</ol>\n<p>Following is my code so far for the implementation. I am new to these java contracts so struggling to make it through.</p>\n<pre><code>//Add an invariant here.\n@Invariant({\n    &quot;data &gt;= 0&quot;,\n    &quot;data &lt;= Integer.MAX_VALUE&quot;,\n    &quot;noUnexpectedExceptions()&quot;    \n})\npublic class Natural implements Comparable&lt;Natural&gt; {\n    private int data;\n    private boolean noUnexpectedExceptions() {\n        try {\n            assert true;\n            return true;\n        } catch (PreconditionError | InvariantError e) {\n            return true;\n        } catch (Throwable t) {\n            return false;\n        }\n    }\n    \n    public void increment() {\n        data++;\n    }\n\n    public void decrement() {\n        data--;\n    }\n}\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9429,"page":563,"page_size":100}
